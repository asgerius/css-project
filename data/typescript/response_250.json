[{"tags": ["javascript", "html", "typescript", "decode", "encode"], "comments": [{"owner": {"reputation": 3900, "user_id": 8701527, "user_type": "registered", "profile_image": "https://graph.facebook.com/738451973004619/picture?type=large", "display_name": "iRohitBhatia", "link": "https://stackoverflow.com/users/8701527/irohitbhatia"}, "edited": false, "score": 0, "creation_date": 1571873037, "post_id": 58532148, "comment_id": 103387965, "body": "use &#39; ` &#39; instead of  &#39; &quot; &#39;? Maybe this can help you: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "edited": false, "score": 0, "creation_date": 1571873127, "post_id": 58532148, "comment_id": 103387986, "body": "What are you trying to do with the string? Inserting it into an <code>innerHTML</code> property, perhaps?"}, {"owner": {"reputation": 810, "user_id": 7988437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/01DqH.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/7988437/akash"}, "edited": false, "score": 0, "creation_date": 1571873161, "post_id": 58532148, "comment_id": 103387992, "body": "you mean putting the string between back-tick and not double quotes. I am getting this string from server."}, {"owner": {"reputation": 810, "user_id": 7988437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/01DqH.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/7988437/akash"}, "reply_to_user": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "edited": false, "score": 0, "creation_date": 1571873204, "post_id": 58532148, "comment_id": 103387999, "body": "@jacob yes, I am inserting it into an div using innerHTML."}, {"owner": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 1, "creation_date": 1571873204, "post_id": 58532148, "comment_id": 103388000, "body": "Your quotes don&#39;t match."}, {"owner": {"reputation": 810, "user_id": 7988437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/01DqH.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/7988437/akash"}, "reply_to_user": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1571873294, "post_id": 58532148, "comment_id": 103388013, "body": "@StackSlave quotes don&#39;t match?? it is a string in double quotes. I did not get your question."}, {"owner": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1571874660, "post_id": 58532148, "comment_id": 103388268, "body": "One quote is curly, the other is not."}, {"owner": {"reputation": 810, "user_id": 7988437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/01DqH.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/7988437/akash"}, "reply_to_user": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1571874943, "post_id": 58532148, "comment_id": 103388313, "body": "@StackSlave I am sorry, I still do not see the missing curly."}], "answers": [{"comments": [{"owner": {"reputation": 810, "user_id": 7988437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/01DqH.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/7988437/akash"}, "edited": false, "score": 0, "creation_date": 1571873802, "post_id": 58532188, "comment_id": 103388116, "body": "actually I am displaying it as an HTML only. this string I get from server. than I replace &quot;\u21b5&quot; newline symbol with &quot;&lt;br /&gt; &amp;nbsp;nbsp;&quot; to  make it look aligned and readable. but if I use  textContent property, it will display everything as text and no formatting applies."}, {"owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "reply_to_user": {"reputation": 810, "user_id": 7988437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/01DqH.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/7988437/akash"}, "edited": false, "score": 1, "creation_date": 1571873932, "post_id": 58532188, "comment_id": 103388135, "body": "So you&#39;re not wanting to really <i>encode</i> the string, then, but rather <i>transform</i> it into HTML. Will add to my answer."}, {"owner": {"reputation": 810, "user_id": 7988437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/01DqH.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/7988437/akash"}, "edited": false, "score": 0, "creation_date": 1571874716, "post_id": 58532188, "comment_id": 103388277, "body": "I am doing something in similar lines. I am using Regex instead of js function like this;   obj.description =  obj.description.replace(/(\\r\\n|\\n|\\r)/gm, &quot;&lt;br /&gt;&amp;nbsp;&amp;nbsp;&quot;);  but this ignores the  element inside string ( like &lt;authorization-code&gt; )  to get render on the browser. please let me know, if you got my point otherwise I can add an image of the render content"}, {"owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "reply_to_user": {"reputation": 810, "user_id": 7988437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/01DqH.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/7988437/akash"}, "edited": false, "score": 1, "creation_date": 1571874833, "post_id": 58532188, "comment_id": 103388294, "body": "The problem with that is you&#39;re only converting <i>some</i> of the string to valid HTML. The rules to convert the rest of it are complicated. It&#39;s much easier to let the DOM do the dirty work of encoding the string. You could maybe do a <code>.split</code> with that regex if you want to take my approach."}, {"owner": {"reputation": 810, "user_id": 7988437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/01DqH.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/7988437/akash"}, "edited": false, "score": 0, "creation_date": 1571875098, "post_id": 58532188, "comment_id": 103388347, "body": "I wonder, is there only way to put this type of string under &lt;code&gt; . OR &lt;pre&gt; as browser treats them in such weird way."}, {"owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "reply_to_user": {"reputation": 810, "user_id": 7988437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/01DqH.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/7988437/akash"}, "edited": false, "score": 0, "creation_date": 1571875516, "post_id": 58532188, "comment_id": 103388415, "body": "You could put it in a <code>pre</code>, but you can get that same effect with that <code>white-space: pre</code> style if you wanted the line break stuff. The indentation part wouldn&#39;t be covered; I&#39;m not sure how married you are to that."}, {"owner": {"reputation": 810, "user_id": 7988437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/01DqH.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/7988437/akash"}, "edited": false, "score": 0, "creation_date": 1571875652, "post_id": 58532188, "comment_id": 103388439, "body": "Yeah, I think, I will go with &lt;pre&gt; for now as showing everything is more important than some formatting stuff. Thanks for all your help."}], "tags": [], "owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "is_accepted": false, "score": 3, "last_activity_date": 1571874609, "last_edit_date": 1571874609, "creation_date": 1571873267, "answer_id": 58532188, "question_id": 58532148, "link": "https://stackoverflow.com/questions/58532148/encoding-decoding-issue-of-a-string-in-html5/58532188#58532188", "title": "Encoding/decoding issue of a string in HTML5", "body": "<p>Never insert <em>text</em> with <code>innerHTML</code>; only insert <em>HTML</em> with <code>innerHTML</code>.</p>\n\n<p>Browsers nowadays have a <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Node/textContent\" rel=\"nofollow noreferrer\"><code>textContent</code></a> property:</p>\n\n<pre><code>yourDiv.textContent = stringFromServer;\n</code></pre>\n\n<p>Also, just to clear up the common mistake you and many other developers make, <code>encodeURIComponent</code> is meant to encode a string for <em>insertion into a URL</em>, not insertion into <em>HTML</em>. Same goes with <code>encodeURI</code> (which you probably should never use anyway).</p>\n\n<p><strong>Update</strong>:</p>\n\n<p>As stated in your comments, you're actually wanting to <em>transform</em> the text into HTML using some rules rather than inserting plain text into your HTML, which will do the typical whitespace normalization rules.</p>\n\n<p>There are many options for this. Here are two:</p>\n\n<ol>\n<li>Still insert just the plain text, but set the CSS style in the container to <code>white-space: pre</code>. This changes the way that whitespace is rendered, so newlines cause line breaks.</li>\n<li>Split your original string, then intersperse your div with text nodes and <code>&lt;br/&gt;</code> elements. </li>\n</ol>\n\n<p>Code for the latter could look something like this:</p>\n\n<pre><code>function insertFormattedText(container, text) {\n  const chunks = text.split('\\n');\n  chunks.forEach((chunk, i) =&gt; {\n    container.appendChild(document.createTextNode(chunk));\n    if (i &lt; chunks.length - 1) {\n      container.appendChild(document.createElement('br'));\n      // Equivalent of `&amp;nbsp;&amp;nbsp;`\n      container.appendChild(document.createTextNode('\\u00A0\\u00A0'));\n    }\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 810, "user_id": 7988437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/01DqH.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/7988437/akash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1571874872, "creation_date": 1571872904, "last_edit_date": 1571874872, "question_id": 58532148, "link": "https://stackoverflow.com/questions/58532148/encoding-decoding-issue-of-a-string-in-html5", "title": "Encoding/decoding issue of a string in HTML5", "body": "<p>I am trying to display the below string in the HTML browser but the moment browser encounter with custom tag like \"\" in the string, it just skip that. </p>\n\n<p>I tried encodeURIComponent() and later tried to decodeURIComponent in my HTML template but did not work. </p>\n\n<p>I even tried to sanitize the HTML by creating an PIPE like below but no luck.</p>\n\n<pre><code>transform(v: string): SafeHtml {\n        return this._sanitizer.bypassSecurityTrustHtml(v);\n    }\n</code></pre>\n\n<p>somehow, browser is skipping the the element like  in the string.</p>\n\n<p><strong><em>following is the string</em></strong></p>\n\n<pre><code>\u201cThe endpoint is browser-based, rather than RESTful. Therefore it could \n     result in the following different scenarios,\u21b51. SUCCESS \n    (response_type=code)\u21b5&gt; redirect_uri?code=&lt;authorization-code&gt;&amp;scope= \n    &lt;resource-owner-approved-scopes&gt;[&amp;state=&lt;state-provided-by-the-client&gt;].\"\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/91B7k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/91B7k.png\" alt=\"Image for jacob\"></a></p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1571878528, "post_id": 58532121, "comment_id": 103388900, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/58521104/typescript-custom-restriction-with-generics\">Typescript custom restriction with Generics</a>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1571878685, "post_id": 58532121, "comment_id": 103388921, "body": "The issue is the same as in the linked question: unresolved conditional types are essentially opaque and the compiler doesn&#39;t see anything as assignable to them.  There is <a href=\"https://github.com/microsoft/TypeScript/issues/23132\" rel=\"nofollow noreferrer\">a suggestion</a> that, if implemented, would maybe solve the problem, but until then you either need to use type assertions (or the equivalent, like overload signatures) or refactor away from conditional types."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1571879133, "post_id": 58532121, "comment_id": 103389003, "body": "Here&#39;s a non-conditional <code>ReverseId</code> which happens to work but I wouldn&#39;t use it in any prod environment: <code>type ReverseId&lt;T extends ValidObjectId&gt; = ({ [k: string]: number } &amp; { [k: number]: string })[T[&quot;id&quot;]];</code>"}], "owner": {"reputation": 494, "user_id": 7445826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r5FvM.jpg?s=128&g=1", "display_name": "Luiz Felipe", "link": "https://stackoverflow.com/users/7445826/luiz-felipe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571872617, "creation_date": 1571872617, "question_id": 58532121, "link": "https://stackoverflow.com/questions/58532121/typescript-conditional-types-with-generics-and-objects", "title": "TypeScript conditional types with generics and objects", "body": "<p>I have the following code:</p>\n\n<pre><code>type Id = string | number;\n\ntype ObjectId&lt;T extends Id&gt; = {\n  id: T;\n};\n\ntype ValidObjectId = ObjectId&lt;string&gt; | ObjectId&lt;number&gt;\n\ntype ReverseId&lt;T extends ValidObjectId&gt; = T['id'] extends number ? string : number;\n\nfunction encodeObjectId&lt;T extends ObjectId&lt;number&gt;&gt;(\n  obj: T\n): ReverseId&lt;T&gt; {\n  const id = obj.id;\n\n  // Why does the following does not accept a string type?\n  // As it's the reverse of type number, because of the `ReverseId` type, it should be working.\n  return id.toString();\n}\n</code></pre>\n\n<p><sup><a href=\"https://www.typescriptlang.org/play/index.html?ssl=1&amp;ssc=1&amp;pln=19&amp;pc=2#code/C4TwDgpgBAkgJlAvFAzsATgSwHYHMoA+U2ArgLYBGE6A3ALABQjokUA8hQFYQDGw8AHgAqUCAA9gEbHBSw4APiRQA3oyhRMcAFxQh9BgF99zcNABqAQwA2mjtz7wld3vzgC0WPIqLOHb0pTU8owmrABKEABu1CgQgiLiktKyljZwvq6KyEIA2gDkmnkAuqISUjLE5FToUAD8qBg4+DoB1cYMAGYk2HyYAPbYoj19cBAZ8aVJFeP+VUHyABRqUH1cOkKMAJQ6EdHosfGKqgzqPANoGgjIq5wAdJrt6gD0T1AA6gAWIFBwfRCywA+0A6fSsVj6AHcmj8-rJsH1gFALDweBAwIiLA1PPgWBBassXlAAIKyTDAPIAoFQdBRGLQPodKC4yqBdAAGigVB4FhIsRWjMB0AABrs6fAhUzTByyagPn0SFYEFQoBC+ugANZNW7LGnAEjoQaaW7APoAZUaeAWm30BiAA\" rel=\"nofollow noreferrer\">Playground link.</a></sup></p>\n\n<p>In it, I have the type <code>ReverseId</code>, which converts the type of the <code>id</code> property. For example, if the given object <code>id</code> property has a <code>number</code> type, it will return <code>string</code>; and if the  given object's <code>id</code> property has a <code>string</code> type, the <code>number</code> type will be returned.</p>\n\n<p>And that actually works:</p>\n\n<pre><code>type Id = string | number;\n\ntype ObjectId&lt;T extends Id&gt; = {\n  id: T;\n};\n\ntype ValidObjectId = ObjectId&lt;string&gt; | ObjectId&lt;number&gt;\n\ntype ReverseId&lt;T extends ValidObjectId&gt; = T['id'] extends number ? string : number;\n\n// The `t` constant has a `number` type, which is the \"reverse\" of the `string`\n// type, used in the given `ObjectId`.\nconst t: ReverseId&lt;ObjectId&lt;string&gt;&gt; = 1;\n</code></pre>\n\n<p><sup><a href=\"https://www.typescriptlang.org/play/index.html?ssl=1&amp;ssc=1&amp;pln=19&amp;pc=2#code/C4TwDgpgBAkgJlAvFAzsATgSwHYHMoA+U2ArgLYBGE6A3ALABQjokUA8hQFYQDGw8AHgAqUCAA9gEbHBSw4APiRQA3oyhRMcAFxQh9BgF99zcNABqAQwA2mjtz7wld3vzgC0WPIqLOHb0pTU8owmrABKEABu1CgQgiLiktKyljZwvq6KyEIA2gDkmnkAuqISUjLE5FToUAD8qBg4+DoB1cYMAPQdugAW0AAGwP1QPAD22GgW2MBQPRayFlD9rdTDLBAANFAA7j2YPD0assB9UABE6FExEGdQowBmUCcDHk39jF1PplsksQg4T1OuEw0WwSwy8H6ADpGGMJjNgDoItF0LFBBC3K8vFkoABGGhAA\" rel=\"nofollow noreferrer\">Playground link.</a></sup></p>\n\n<p>The problem is: when the <code>ObjectId</code> comes from a generic, as we saw in the <code>encodeObjectId</code> function in the first example, the type does not work.</p>\n\n<p>Is there a way to solve this problem using conditional types?</p>\n"}, {"tags": ["node.js", "typescript"], "comments": [{"owner": {"reputation": 3019, "user_id": 10687857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7vYls.jpg?s=128&g=1", "display_name": "DanStarns", "link": "https://stackoverflow.com/users/10687857/danstarns"}, "edited": false, "score": 0, "creation_date": 1571871680, "post_id": 58531976, "comment_id": 103387688, "body": "the answer is don&#39;t use an arrow function in this case. Also curious why you tagged this with typescript when there is no typescript in this code?"}, {"owner": {"reputation": 938, "user_id": 11855662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rP1Hg.jpg?s=128&g=1", "display_name": "Jesus", "link": "https://stackoverflow.com/users/11855662/jesus"}, "reply_to_user": {"reputation": 3019, "user_id": 10687857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7vYls.jpg?s=128&g=1", "display_name": "DanStarns", "link": "https://stackoverflow.com/users/10687857/danstarns"}, "edited": false, "score": 0, "creation_date": 1571871984, "post_id": 58531976, "comment_id": 103387759, "body": "@DanStarns because this typescript throws an error"}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 3327031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af545921866bb1e5bbac8619542f5ae5?s=128&d=identicon&r=PG&f=1", "display_name": "Spyros", "link": "https://stackoverflow.com/users/3327031/spyros"}, "edited": false, "score": 0, "creation_date": 1580022873, "post_id": 58532354, "comment_id": 105956994, "body": "&quot;Arrow functions, unlike regular function declarations, don&#39;t redefine this.&quot;   Thank you for that, I was looking for this simple phrase."}], "tags": [], "owner": {"reputation": 145536, "user_id": 362536, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/da5816365344305a614343a4065a2786?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/362536/brad"}, "is_accepted": false, "score": 3, "last_activity_date": 1571874825, "creation_date": 1571874825, "answer_id": 58532354, "question_id": 58531976, "link": "https://stackoverflow.com/questions/58531976/the-containing-arrow-function-captures-the-global-value-of-this/58532354#58532354", "title": "The containing arrow function captures the global value of &#39;this&#39;", "body": "<blockquote>\n  <p>What is the reason?</p>\n</blockquote>\n\n<p>Arrow functions, unlike regular function declarations, don't redefine <code>this</code>.  This is a huge convenience, usually.</p>\n\n<p>In your case, <code>this</code> just means the global scope since there is no other context.  If your function was inside another closure, <code>this</code> would reference it instead of the global.</p>\n\n<blockquote>\n  <p>How to fix it?</p>\n</blockquote>\n\n<p>Did you mean to use <code>this</code> here?  If so, use <code>window</code> or whatever you actually wanted.</p>\n"}], "owner": {"reputation": 938, "user_id": 11855662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rP1Hg.jpg?s=128&g=1", "display_name": "Jesus", "link": "https://stackoverflow.com/users/11855662/jesus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3486, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1571874825, "creation_date": 1571871499, "question_id": 58531976, "link": "https://stackoverflow.com/questions/58531976/the-containing-arrow-function-captures-the-global-value-of-this", "title": "The containing arrow function captures the global value of &#39;this&#39;", "body": "<p>this my code</p>\n\n<pre><code>import {EventEmitter} from 'events';\nvar emt = new EventEmitter();\n\nemt.on('myEvent', () =&gt; {\n    console.log('Arrow function: ')\n    console.log(this)\n});\n\nemt.emit('myEvent');\n</code></pre>\n\n<p>in line <code>console.log(this)</code> I get Error.</p>\n\n<blockquote>\n  <p>The containing arrow function captures the global value of 'this'.</p>\n</blockquote>\n\n<p>What is the reason? How to fix it?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 0, "creation_date": 1571876750, "post_id": 58531893, "comment_id": 103388618, "body": "Probably not - I think you&#39;re on your own here. But from a usability standpoint, <a href=\"https://en.wikipedia.org/wiki/Uff_da\" rel=\"nofollow noreferrer\">uffda</a>. This looks somewhat like a punch card."}], "answers": [{"tags": [], "owner": {"reputation": 509, "user_id": 9185707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f40bc2bc1da2f0e1cef5fd1fbd544f86?s=128&d=identicon&r=PG&f=1", "display_name": "Antediluvian", "link": "https://stackoverflow.com/users/9185707/antediluvian"}, "is_accepted": false, "score": 0, "last_activity_date": 1571872322, "creation_date": 1571872322, "answer_id": 58532079, "question_id": 58531893, "link": "https://stackoverflow.com/questions/58531893/how-to-implement-toggle-checkbox-in-columns-angular/58532079#58532079", "title": "How to implement toggle checkbox in columns Angular", "body": "<p>3 options:</p>\n\n<ol>\n<li><p>have a look at Bootstrap and/or Angular powered Bootstrap. They should already have a checkbox group where only one option can be selected at a time. And you would need to customise that into a customised Bootstrap table.</p></li>\n<li><p>Find a 3rd party Angular library that does this or similar things.</p></li>\n<li><p>Write your own. (This should not be hard but controversial because some people don't wanna re-invent the wheel while some don't wanna have a 3rd party to control part of their own code.)</p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 1, "creation_date": 1571877706, "post_id": 58532624, "comment_id": 103388783, "body": "I&#39;ll upvote if you put the implementation in the answer instead of a link-only answer. The solution is nice, but code needs to be here."}, {"owner": {"reputation": 496, "user_id": 7326192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86e84426aa6e605bbb4ab1aed7ef5846?s=128&d=identicon&r=PG&f=1", "display_name": "Korbinian Kuhn", "link": "https://stackoverflow.com/users/7326192/korbinian-kuhn"}, "reply_to_user": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 0, "creation_date": 1571878192, "post_id": 58532624, "comment_id": 103388853, "body": "Sure, you&#39;re absolutely right."}], "tags": [], "owner": {"reputation": 496, "user_id": 7326192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86e84426aa6e605bbb4ab1aed7ef5846?s=128&d=identicon&r=PG&f=1", "display_name": "Korbinian Kuhn", "link": "https://stackoverflow.com/users/7326192/korbinian-kuhn"}, "is_accepted": true, "score": 2, "last_activity_date": 1571879445, "last_edit_date": 1571879445, "creation_date": 1571877437, "answer_id": 58532624, "question_id": 58531893, "link": "https://stackoverflow.com/questions/58531893/how-to-implement-toggle-checkbox-in-columns-angular/58532624#58532624", "title": "How to implement toggle checkbox in columns Angular", "body": "<p>This is a very specific usecase, but quite easy to implement from scratch I think. Just store the state of the table (rows and cols) and the checked state for every column. On click verify that only one row of the column is checked. <a href=\"https://stackblitz.com/edit/angular-kkecae?embed=1&amp;file=src/app/app.component.html\" rel=\"nofollow noreferrer\">Here</a> is a short stackblitz example. You can use angular-material, bootstrap and an icon package for styling.</p>\n\n<p><strong>app.component.ts</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class AppComponent implements OnInit  {\n  private numRows: number = 5;\n  private numCols: number = 30;\n\n  public grid: Array&lt;Array&lt;boolean&gt;&gt; = [];\n\n  constructor() {\n\n  }\n\n  ngOnInit() {\n    for (let row=0; row &lt; this.numRows; row++) {\n      this.grid.push([]);\n      for (let col=0; col &lt; this.numCols; col++) {\n        this.grid[row].push(false);\n      }\n    }\n  }\n\n  onColumnClick(row: number, col: number) {\n    this.grid.map((o, i) =&gt; {\n      o[col] = i === row;\n    })\n  }\n}\n</code></pre>\n\n<p><strong>app.component.html</strong></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;table&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th&gt;Duration&lt;/th&gt;\n      &lt;th *ngFor=\"let col of grid[0]; let i = index\"&gt;{{ i }}&lt;/th&gt;\n    &lt;/tr&gt;\n  &lt;/thead&gt;\n  &lt;tr *ngFor=\"let row of grid; let i = index\"&gt;\n    &lt;td&gt;2&lt;/td&gt;\n    &lt;td *ngFor=\"let col of row; let i2 = index\" (click)=\"onColumnClick(i, i2)\"&gt;\n      &lt;div [class.checked]=\"col\"&gt;&lt;/div&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p><strong>app.component.css</strong></p>\n\n<pre class=\"lang-css prettyprint-override\"><code>table {\n  border-collapse: collapse;\n}\n\ntd {\n  border: 2px solid transparent;\n}\n\ndiv {\n  height: 30px;\n  width: 30px;\n  background: #eee;\n}\n\n.checked {\n  background: #63c97e;\n}\n</code></pre>\n"}], "owner": {"reputation": 729, "user_id": 3097695, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1face89812ba0d7b55d1da3eb94634df?s=128&d=identicon&r=PG&f=1", "display_name": "user3097695", "link": "https://stackoverflow.com/users/3097695/user3097695"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "closed_date": 1571882505, "accepted_answer_id": 58532624, "answer_count": 2, "score": 0, "last_activity_date": 1571879445, "creation_date": 1571870907, "question_id": 58531893, "link": "https://stackoverflow.com/questions/58531893/how-to-implement-toggle-checkbox-in-columns-angular", "closed_reason": "Not suitable for this site", "title": "How to implement toggle checkbox in columns Angular", "body": "<p>I have a requirement to implement a table of check boxes. Each column of check boxes behaves like a group so that only one of the boxes can be checked. <a href=\"https://i.stack.imgur.com/mKVFu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mKVFu.png\" alt=\"enter image description here\"></a></p>\n\n<p>Are there any good examples for implementing this knid of component using angular?</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 9453618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/225c78f6d01709e74f79da72f59836d5?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/9453618/dan"}, "edited": false, "score": 0, "creation_date": 1574444984, "post_id": 58531850, "comment_id": 104249021, "body": "Sorry, I haven&#39;t been able to check on this. I will try to asap, thanks!"}], "tags": [], "owner": {"reputation": 444, "user_id": 1979061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38c66da5b8cfc8d6233794d16ed089c4?s=128&d=identicon&r=PG", "display_name": "albert", "link": "https://stackoverflow.com/users/1979061/albert"}, "is_accepted": false, "score": 0, "last_activity_date": 1571870542, "creation_date": 1571870542, "answer_id": 58531850, "question_id": 58531747, "link": "https://stackoverflow.com/questions/58531747/question-about-updating-state-and-hooks-possibly-typescript-related/58531850#58531850", "title": "Question about updating state and hooks (possibly typescript related)", "body": "<p>since you're using typescript, why not introduce interface for the color</p>\n\n<pre><code>interface IColor {\n  color: string,\n  name: string,\n}\n\n</code></pre>\n\n<p>and initialise your state hooks by doing:</p>\n\n<pre><code>const [colors, setColors] = useState&lt;IColor[]&gt;([]);\n</code></pre>\n\n<p>then, pushing colors to the array would be like:</p>\n\n<pre><code>const newColor: IColor = {\n  color: currentColor,\n  name: newName\n};\n\nsetColors([...colors, newColor]);\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 9453618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/225c78f6d01709e74f79da72f59836d5?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/9453618/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571870542, "creation_date": 1571869724, "question_id": 58531747, "link": "https://stackoverflow.com/questions/58531747/question-about-updating-state-and-hooks-possibly-typescript-related", "title": "Question about updating state and hooks (possibly typescript related)", "body": "<p>another question here. I did figure out a solution that works but I was curious on getting some other ideas that might be better. Basically what I am trying to do is enter some colors into an input and add to an array of objects. There's also validation tied to it to prevent unique colors or color names.</p>\n\n<p>Here's my working solution:</p>\n\n<pre><code>UseState hooks:\n--------------------------------------------------------------------------------\n\nconst [currentColor, setCurrentColor] = useState(\"teal\");\nconst [colors, setColors] = useState([{ color: \"\", name: \"\" }]);\nconst [newName, setNewName] = useState(\"\");\n\n\nuseEffect hook for the validation:\n--------------------------------------------------------------------------------\n\nuseEffect(() =&gt; {\n        ValidatorForm.addValidationRule(\"isColorNameUnique\", value =&gt; {\n            return colors.every(({ name }: any) =&gt; {\n                console.log(name);\n                return name.toLowerCase() !== value.toLowerCase();\n            });\n        });\n\n        ValidatorForm.addValidationRule(\"isColorUnique\", value =&gt; {\n            return colors.every(({ color }: any) =&gt; color !== currentColor);\n        });\n    });\n\n\nfunction that gets called when submitted:\n--------------------------------------------------------------------------------\n\nconst addNewColor = () =&gt; {\n        const newColor = {\n            color: currentColor,\n            name: newName\n        };\n\n        if (\n            Object.keys(colors[0].color).length === 0 &amp;&amp;\n            Object.keys(colors[0].name).length === 0\n        ) {\n            setColors([newColor]);\n        } else {\n            setColors([...colors, newColor]);\n        }\n\n        setNewName(\"\");\n    };\n</code></pre>\n\n<p>So if I had</p>\n\n<pre><code>const [colors, setColors] = useState([{}]);\n\nconst addNewColor = () =&gt; {\n        const newColor = {\n            color: currentColor,\n            name: newName\n        };\n\n        setColors([...colors, newColor]);\n\n        setNewName(\"\");\n    };\n</code></pre>\n\n<p>the validation logic gives errors about \"can't read property name of undefined\" which makes sense. I tried adding logic to the validation itself to prevent this which works for getting rid of that error but it's still adding an empty object as first index in the array.</p>\n\n<p>This way also works</p>\n\n<pre><code>const [colors, setColors] = useState([{color: \"\", name: \"\"]);\n\nconst addNewColor = () =&gt; {\n        const newColor = {\n            color: currentColor,\n            name: newName\n        };\n\n        setColors([...colors, newColor]);\n\n        setNewName(\"\");\n    };\n</code></pre>\n\n<p>but then it defaults to first index being empty object like \n{color: \"\", name: \"\"} and it never gets replaced.</p>\n\n<p>If I do </p>\n\n<pre><code>const [colors, setColors] = useState([]);\n\nconst addNewColor = () =&gt; {\n        const newColor = {\n            color: currentColor,\n            name: newName\n        };\n\n        setColors([...colors, newColor]);\n\n        setNewName(\"\");\n    };\n</code></pre>\n\n<p>I get this error\n<a href=\"https://i.imgur.com/3CCbo7X.png\" rel=\"nofollow noreferrer\">https://i.imgur.com/3CCbo7X.png</a></p>\n\n<p>Is there another way to get this to work with passing the validation and not having empty object in the state that's useless.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 1735845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c8d40638ed0b6845fd6dabf72edeaa1?s=128&d=identicon&r=PG", "display_name": "electricwizard", "link": "https://stackoverflow.com/users/1735845/electricwizard"}, "edited": false, "score": 0, "creation_date": 1594052992, "post_id": 58532868, "comment_id": 110985236, "body": "adding to jcalz issue reference, here is a similar one in <code>typescript-eslint</code> <a href=\"https://github.com/typescript-eslint/typescript-eslint/issues/2273\" rel=\"nofollow noreferrer\">github.com/typescript-eslint/typescript-eslint/issues/2273</a>"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": false, "score": 1, "last_activity_date": 1571880105, "creation_date": 1571880105, "answer_id": 58532868, "question_id": 58531727, "link": "https://stackoverflow.com/questions/58531727/typescript-completely-disable-property-does-not-exist-on-object-check-rule/58532868#58532868", "title": "TypeScript - Completely disable property does not exist on object check / rule", "body": "<p>I don't think there's an existing <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">compiler option</a> for that, no.  There's a <a href=\"https://github.com/microsoft/TypeScript/issues/29950\" rel=\"nofollow noreferrer\">suggestion</a> to allow disabling errors by error number (the error you're referring to is <a href=\"https://github.com/microsoft/TypeScript/blob/v3.6.3/src/compiler/diagnosticMessages.json#L1199-L1202\" rel=\"nofollow noreferrer\">2339</a>, I think), but that hasn't been implemented.  Oh well.  Hope that helps; good luck!</p>\n"}], "owner": {"reputation": 5033, "user_id": 353046, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/g5Msx.jpg?s=128&g=1", "display_name": "Mankind1023", "link": "https://stackoverflow.com/users/353046/mankind1023"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1571880105, "creation_date": 1571869610, "question_id": 58531727, "link": "https://stackoverflow.com/questions/58531727/typescript-completely-disable-property-does-not-exist-on-object-check-rule", "title": "TypeScript - Completely disable property does not exist on object check / rule", "body": "<p>As the title says, I'm looking for a way to disable that check in typescript completely with a rule, I know you can create types as any / other methods, but I'm specifically looking for a rule that will do this in the ts config file.</p>\n"}, {"tags": ["json", "typescript", "react-redux", "graphql", "nestjs"], "answers": [{"comments": [{"owner": {"reputation": 255, "user_id": 6328636, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/603808389775396/picture?type=large", "display_name": "Sumit Ghewade", "link": "https://stackoverflow.com/users/6328636/sumit-ghewade"}, "edited": false, "score": 0, "creation_date": 1571932623, "post_id": 58534786, "comment_id": 103411375, "body": "Thank you so much for the quick answer, i would like to know what kind of service layer can i use between Graphql resolver and json? Are you talking about gatsby ? or is there anything else i can use."}, {"owner": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "reply_to_user": {"reputation": 255, "user_id": 6328636, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/603808389775396/picture?type=large", "display_name": "Sumit Ghewade", "link": "https://stackoverflow.com/users/6328636/sumit-ghewade"}, "edited": false, "score": 0, "creation_date": 1571933058, "post_id": 58534786, "comment_id": 103411616, "body": "By service layer, I&#39;m talking about a service class that you write for your server that will handle the reading and writing so that your business logic doesn&#39;t get mixed up with your R/W logic. As I said in the answer, you have the <code>fs</code> package built in to read files from the machine your server is hosted on. If you are looking to keep the files elsewhere, like an S3 bucket, then you&#39;ll need a method to pull the files from S3, read/write, and send them back to S3. Otherwise, you just need to write a class to handle the R/W logic."}, {"owner": {"reputation": 255, "user_id": 6328636, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/603808389775396/picture?type=large", "display_name": "Sumit Ghewade", "link": "https://stackoverflow.com/users/6328636/sumit-ghewade"}, "edited": false, "score": 0, "creation_date": 1571946455, "post_id": 58534786, "comment_id": 103417374, "body": "Thanks for the help Jay. I&#39;ll post the update soon."}, {"owner": {"reputation": 255, "user_id": 6328636, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/603808389775396/picture?type=large", "display_name": "Sumit Ghewade", "link": "https://stackoverflow.com/users/6328636/sumit-ghewade"}, "edited": false, "score": 0, "creation_date": 1571962239, "post_id": 58534786, "comment_id": 103421971, "body": "Hi Jay it was really simple, as you said just to use fs package, but in my case readFile didn&#39;t work instead readFileSync worked and also the writefile worked. :)"}], "tags": [], "owner": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "is_accepted": false, "score": 1, "last_activity_date": 1571895608, "creation_date": 1571895608, "answer_id": 58534786, "question_id": 58531722, "link": "https://stackoverflow.com/questions/58531722/how-to-read-and-write-to-and-from-json-file-from-graphql-nestjs-server-in-typesc/58534786#58534786", "title": "How to read and write to and from json file from graphql nestjs server in typescript", "body": "<p>Not quite sure why you want to use a file over a database, but the connectivity to the JSON file will come from the server side (obviously) probably through the <code>fs</code> package where you have functions like <code>readFile</code> and <code>writeFile</code> and their synchronous variants as well. You will need some sort of service layer that will be between your GraphQL resolvers and your file read/write service to facilitate the business logic. </p>\n\n<p>You may find it advantageous to create several file readers/writers and to manage each different entity's file as a separate file (then again, maybe not depending on how many entities you have).</p>\n\n<p>GraphQL doesn't really have a connection to JSON files, just like RESTful calls don't have a connection to JSON files, they are protocols and methods of transporting/requesting data over the internet. It will be up to your server to act as an intermediary between the request and the file, and to retrieve/store the expected data and tell the response how to react to the request.</p>\n\n<p>Overall, using a database would be a more robust, and firmer solution, but you could make it work with a file if you absolutely wanted to (as much of an anti-pattern as it may be).</p>\n"}], "owner": {"reputation": 255, "user_id": 6328636, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/603808389775396/picture?type=large", "display_name": "Sumit Ghewade", "link": "https://stackoverflow.com/users/6328636/sumit-ghewade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 890, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1571895608, "creation_date": 1571869549, "question_id": 58531722, "link": "https://stackoverflow.com/questions/58531722/how-to-read-and-write-to-and-from-json-file-from-graphql-nestjs-server-in-typesc", "title": "How to read and write to and from json file from graphql nestjs server in typescript", "body": "<p>I'm currently working with React, Redux, ApolloClient (typescipt) as frontend and i'm using nestjs and graphql at backend. The data sent from frontend gets stored in the in-memory of the graphql and when the server is refreshed the data is lost. Instead of having database, i want to use JSON file to store the data and load the data from json when the server is started to populate the frontend.</p>\n\n<p>I'm bit confused where the connectivity to JSON file will come at server side.\nand how will graphql will be connected to the JSON.</p>\n\n<p>It would be really helpful if anyone can guide me.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11633265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ca1f2f254644dd5e754b873689f2640?s=128&d=identicon&r=PG&f=1", "display_name": "hche78", "link": "https://stackoverflow.com/users/11633265/hche78"}, "edited": false, "score": 0, "creation_date": 1571919872, "post_id": 58531707, "comment_id": 103404321, "body": "Thanks for your answer. I figured out this would do the job but its definetely not a clean solution: <code>return(&lt;div&gt;&lt;DisplayModelComponent {...{...someObj, someFunction:()=&gt;&quot;&quot;}}&gt;&lt;&#47;DisplayModelComponent&gt;&lt;&#47;div&gt;)</code>"}], "tags": [], "owner": {"reputation": 280, "user_id": 2316672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/167e3ceba3ab249986c7b61b08792abe?s=128&d=identicon&r=PG", "display_name": "Robfz", "link": "https://stackoverflow.com/users/2316672/robfz"}, "is_accepted": true, "score": 1, "last_activity_date": 1571876248, "last_edit_date": 1571876248, "creation_date": 1571869390, "answer_id": 58531707, "question_id": 58531370, "link": "https://stackoverflow.com/questions/58531370/react-use-class-object-as-prop-with-typescript/58531707#58531707", "title": "React use class object as prop with Typescript", "body": "<p>The error happens because when spreading the instance of <code>SomeClass</code> the <code>someFunction</code> property is lost. That's why Typescript is complaining that <code>someFunction</code> is missing in the component props.</p>\n\n<p>You can check this answer regarding the spread operator and how properties are copied: <a href=\"https://stackoverflow.com/questions/54164518/does-the-spread-operator-not-copy-over-the-prototype\">Does the spread operator not copy over the prototype?</a></p>\n\n<p>With that in mind, I don't think you are going to be able to do it as long as methods are involved in the class you are trying to use as interface.</p>\n"}], "owner": {"reputation": 13, "user_id": 11633265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ca1f2f254644dd5e754b873689f2640?s=128&d=identicon&r=PG&f=1", "display_name": "hche78", "link": "https://stackoverflow.com/users/11633265/hche78"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 452, "favorite_count": 0, "accepted_answer_id": 58531707, "answer_count": 1, "score": 0, "last_activity_date": 1571876248, "creation_date": 1571866983, "question_id": 58531370, "link": "https://stackoverflow.com/questions/58531370/react-use-class-object-as-prop-with-typescript", "title": "React use class object as prop with Typescript", "body": "<p>The example below outputs an instance of SomeClass - this works as expected. Question: Is there a way to omit the DisplayModelComponentProps interface and directly pass the object to be displayed as prop?</p>\n\n<pre><code>class SomeClass {\n  public someProperty:string = \"some string\";\n  public someFunction():string { return \"another string\"; }\n}\n\ninterface DisplayModelComponentProps {\n    obj:SomeClass\n}\n\nconst DisplayModelComponent: React.FC&lt;DisplayModelComponentProps&gt; = props =&gt; {\n  return(&lt;p&gt;{props.obj.someProperty}&lt;/p&gt;\n  )\n}\n\nexport function Test(): JSX.Element {\n const someObj:SomeClass = new SomeClass();\n const props = { obj: someObj }\n\n  return(&lt;div&gt;&lt;DisplayModelComponent {...props}&gt;&lt;/DisplayModelComponent&gt;&lt;/div&gt;)\n}\n</code></pre>\n\n<p>When I change the code so the DisplayModelComponent takes a SomeClass as prop I get this error (because the function is lost on destructuring): </p>\n\n<pre><code>Property 'someFunction' is missing in type '{ someProperty: string; }' but required in type 'SomeClass'.\n</code></pre>\n"}, {"tags": ["javascript", "c#", "angular", "typescript", "xss"], "answers": [{"tags": [], "owner": {"reputation": 1067, "user_id": 8063684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00d663f8e9021166c4075e9b4eb6c632?s=128&d=identicon&r=PG&f=1", "display_name": "Ludwig", "link": "https://stackoverflow.com/users/8063684/ludwig"}, "is_accepted": false, "score": 0, "last_activity_date": 1571912949, "creation_date": 1571912949, "answer_id": 58539367, "question_id": 58531299, "link": "https://stackoverflow.com/questions/58531299/fortify-scan-issue-with-index-html-in-angular/58539367#58539367", "title": "Fortify scan issue with index.html in angular", "body": "<p>Fortify often shows false positives (I think to be sure to not forget anything).\nFor example if there is some javascript code like key = 'something' then fortify claims about that with a message like 'hardcoded encryption key'. I had that several times in the bundles where third party components like Kendo UI do things like that. In Fortify you can mark them in the developer status to 'third party component' and let them disappear as suppressed issues. Fortify remembers that for the next code check, so you just have to do that once.</p>\n\n<pre><code>document.write('base href=\"'=+ document.location+'\"/&gt;');\n</code></pre>\n\n<p>I think this is not a false positive. I would recommend to replace that by </p>\n\n<pre><code>  &lt;base href=\".\"&gt;\n</code></pre>\n\n<p>For the case you use that to cover different deployments you should better use the --baseHref option for the build command.</p>\n"}], "owner": {"reputation": 53, "user_id": 3797607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50f89db093feb7b3c4cd5a1d16a02635?s=128&d=identicon&r=PG&f=1", "display_name": "user3797607", "link": "https://stackoverflow.com/users/3797607/user3797607"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 583, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571912949, "creation_date": 1571866593, "question_id": 58531299, "link": "https://stackoverflow.com/questions/58531299/fortify-scan-issue-with-index-html-in-angular", "title": "Fortify scan issue with index.html in angular", "body": "<p>My application is using angular front end with aspnet core and fortify scan brought up security issue on index.html. One issue is this line.</p>\n\n document.write('base href=\"'=+ document.location+'\"/>');\n\n<p>My understanding is this being a single page application, serves us the base container on which other components, scripts are loaded. So how do I address the issue? Isn't this how an angular SPA supposed to be? Secondly, the scan also show multiple lines as vulnerabilities. Those would be  and then similarly main.gh9787998886.bundle.js etc.</p>\n\n<p>How can I fix this? Are these false positives?</p>\n"}, {"tags": ["angular", "typescript", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 1094, "user_id": 7588829, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh3.googleusercontent.com/-I1LgDJ7tn7E/AAAAAAAAAAI/AAAAAAAAAN8/lBKB7lFMv-Y/photo.jpg?sz=128", "display_name": "Reza Saadati", "link": "https://stackoverflow.com/users/7588829/reza-saadati"}, "edited": false, "score": 0, "creation_date": 1571922141, "post_id": 58534400, "comment_id": 103405465, "body": "Thank you for your answer but I get the following error: <code>TS2345: Argument of type &#39;MatAutocomplete&#39; is not assignable to parameter of type &#39;FromEventTarget&lt;unknown&gt;&#39;.   Property &#39;length&#39; is missing in type &#39;MatAutocomplete&#39; but required in type &#39;ArrayLike&lt;EventTargetLike&lt;unknown&gt;&gt;&#39;.</code> My ViewChild looks like this: <code>@ViewChild(&#39;auto&#39;, {static: false}) matAutocomplete: MatAutocomplete;</code>"}, {"owner": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "reply_to_user": {"reputation": 1094, "user_id": 7588829, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh3.googleusercontent.com/-I1LgDJ7tn7E/AAAAAAAAAAI/AAAAAAAAAN8/lBKB7lFMv-Y/photo.jpg?sz=128", "display_name": "Reza Saadati", "link": "https://stackoverflow.com/users/7588829/reza-saadati"}, "edited": false, "score": 0, "creation_date": 1571923464, "post_id": 58534400, "comment_id": 103406227, "body": "Added <code>@ViewChild</code> decorator, to target ElementRef. And then use <code>nativeElement</code> property as target in fromEvent"}, {"owner": {"reputation": 1094, "user_id": 7588829, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh3.googleusercontent.com/-I1LgDJ7tn7E/AAAAAAAAAAI/AAAAAAAAAN8/lBKB7lFMv-Y/photo.jpg?sz=128", "display_name": "Reza Saadati", "link": "https://stackoverflow.com/users/7588829/reza-saadati"}, "edited": false, "score": 0, "creation_date": 1571924072, "post_id": 58534400, "comment_id": 103406642, "body": "I have tried the same but I get the same error: <code>TS2345: Argument of type &#39;ElementRef&lt;any&gt;&#39; is not assignable to parameter of type &#39;FromEventTarget&lt;unknown&gt;&#39;.   Property &#39;length&#39; is missing in type &#39;ElementRef&lt;any&gt;&#39; but required in type &#39;ArrayLike&lt;EventTargetLike&lt;unknown&gt;&gt;&#39;.</code>"}, {"owner": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "reply_to_user": {"reputation": 1094, "user_id": 7588829, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh3.googleusercontent.com/-I1LgDJ7tn7E/AAAAAAAAAAI/AAAAAAAAAN8/lBKB7lFMv-Y/photo.jpg?sz=128", "display_name": "Reza Saadati", "link": "https://stackoverflow.com/users/7588829/reza-saadati"}, "edited": false, "score": 0, "creation_date": 1571924307, "post_id": 58534400, "comment_id": 103406781, "body": "Do you import <b>ElementRef</b> from  <code>&#39;@angular&#47;core</code> and <b>fromEvent</b> from <code>rxjs</code>?"}, {"owner": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "reply_to_user": {"reputation": 1094, "user_id": 7588829, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh3.googleusercontent.com/-I1LgDJ7tn7E/AAAAAAAAAAI/AAAAAAAAAN8/lBKB7lFMv-Y/photo.jpg?sz=128", "display_name": "Reza Saadati", "link": "https://stackoverflow.com/users/7588829/reza-saadati"}, "edited": false, "score": 0, "creation_date": 1571924383, "post_id": 58534400, "comment_id": 103406824, "body": "Imports should be - <code>import {  ElementRef } from &#39;@angular&#47;core&#39;; import { fromEvent } from &#39;rxjs&#39;;</code> for Rxjs 6+ version"}, {"owner": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "reply_to_user": {"reputation": 1094, "user_id": 7588829, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh3.googleusercontent.com/-I1LgDJ7tn7E/AAAAAAAAAAI/AAAAAAAAAN8/lBKB7lFMv-Y/photo.jpg?sz=128", "display_name": "Reza Saadati", "link": "https://stackoverflow.com/users/7588829/reza-saadati"}, "edited": false, "score": 0, "creation_date": 1571928778, "post_id": 58534400, "comment_id": 103409367, "body": "Can you reproduce the issue in stackblitz.com? Shouldn&#39;t be hard in this case"}, {"owner": {"reputation": 1094, "user_id": 7588829, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh3.googleusercontent.com/-I1LgDJ7tn7E/AAAAAAAAAAI/AAAAAAAAAN8/lBKB7lFMv-Y/photo.jpg?sz=128", "display_name": "Reza Saadati", "link": "https://stackoverflow.com/users/7588829/reza-saadati"}, "edited": false, "score": 0, "creation_date": 1571940315, "post_id": 58534400, "comment_id": 103414719, "body": "Sure, you can find the error here: <a href=\"https://stackblitz.com/edit/angular-gx6puq\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-gx6puq</a>"}, {"owner": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "reply_to_user": {"reputation": 1094, "user_id": 7588829, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh3.googleusercontent.com/-I1LgDJ7tn7E/AAAAAAAAAAI/AAAAAAAAAN8/lBKB7lFMv-Y/photo.jpg?sz=128", "display_name": "Reza Saadati", "link": "https://stackoverflow.com/users/7588829/reza-saadati"}, "edited": false, "score": 0, "creation_date": 1571940828, "post_id": 58534400, "comment_id": 103414937, "body": "Oh, ok, <code>&lt;input&gt;</code> is not hidden inside <code>MatAutocomplete</code> template (in your snippet there is no <code>&lt;input&gt;</code> element), so you should bind it to the <code>&lt;input&gt;</code> directly. Here i <a href=\"https://stackblitz.com/edit/angular-ka59pq?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">forked it. Other errors seem not to be related to this issue</a>"}, {"owner": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "reply_to_user": {"reputation": 1094, "user_id": 7588829, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh3.googleusercontent.com/-I1LgDJ7tn7E/AAAAAAAAAAI/AAAAAAAAAN8/lBKB7lFMv-Y/photo.jpg?sz=128", "display_name": "Reza Saadati", "link": "https://stackoverflow.com/users/7588829/reza-saadati"}, "edited": false, "score": 0, "creation_date": 1571941509, "post_id": 58534400, "comment_id": 103415237, "body": "Your provided HTML snippet seems to lack some code that belongs to Autocomplete. I assumed there is all there is, so no other than <code>&lt;mat-autocomplete&gt;</code> element can listen to all Native Input events. But if you must set <code>&lt;inpput&gt;</code> element yourself, there is no need for <code>&lt;mat-autocomplete&gt;</code> to receive same events."}, {"owner": {"reputation": 1094, "user_id": 7588829, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh3.googleusercontent.com/-I1LgDJ7tn7E/AAAAAAAAAAI/AAAAAAAAAN8/lBKB7lFMv-Y/photo.jpg?sz=128", "display_name": "Reza Saadati", "link": "https://stackoverflow.com/users/7588829/reza-saadati"}, "edited": false, "score": 0, "creation_date": 1571942461, "post_id": 58534400, "comment_id": 103415656, "body": "Thank you for the fix. The error is gone now but now I have an error with <code>event.nativeElement.value</code> (as you see on Stackblitz). I have tried it with <code>this.techInput.nativeElement.value</code> instead. I have no errors anymore but my problem still remains. The old list will still be listed."}, {"owner": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "reply_to_user": {"reputation": 1094, "user_id": 7588829, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh3.googleusercontent.com/-I1LgDJ7tn7E/AAAAAAAAAAI/AAAAAAAAAN8/lBKB7lFMv-Y/photo.jpg?sz=128", "display_name": "Reza Saadati", "link": "https://stackoverflow.com/users/7588829/reza-saadati"}, "edited": false, "score": 0, "creation_date": 1571981321, "post_id": 58534400, "comment_id": 103425297, "body": "I provided <code>keyup</code> event as an example. You should pick native event whichever you need, <code>event.data</code> exists on <code>InputEvent</code>. And set incomming value type so Typescript could lead you on what properties and methods you can use - <code>switchMap((event: InputEvent) =&gt; {</code> if you are too lazy to look at the specs ^^. About the old list - can you update the demo to illustrate behaviour?"}], "tags": [], "owner": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "is_accepted": false, "score": 1, "last_activity_date": 1571923418, "last_edit_date": 1571923418, "creation_date": 1571893102, "answer_id": 58534400, "question_id": 58531242, "link": "https://stackoverflow.com/questions/58531242/mat-autocomplete-prevent-displaying-the-old-list/58534400#58534400", "title": "mat-autocomplete: Prevent displaying the old list", "body": "<p>Yes, new list wont be shown until data has arrived. You can set <code>this.technologies</code> to an empty array, etc.. </p>\n\n<p>And you have two streams here - API call and keyup events. Better merge them into one to have more control on it and the implement other features easier (f.ex. debounceTime, loading animation etc.):</p>\n\n<pre><code>@ViewChild('auto', {static: false}) matAutocomplete: ElementRef&lt;HTMLInputElement&gt;;\n\nfromEvent(this.matAutocomplete.nativeElement, 'keyup').pipe(\n  switchMap(event =&gt; {\n    this.technologies = [];\n    return this.technologiesService.getTechnologies(event.target.value)\n  })\n).subscribe(data =&gt; {\n  if (JSON.stringify(this.technologies) !== JSON.stringify(data)) {\n    this.technologies = data;\n  }\n})\n</code></pre>\n\n<p>Must use that in <code>ngAfterViewInit()</code>, to grab reference to <code>this.matAutocomplete</code> (and of course, use @ViewChild() for it).</p>\n"}], "owner": {"reputation": 1094, "user_id": 7588829, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh3.googleusercontent.com/-I1LgDJ7tn7E/AAAAAAAAAAI/AAAAAAAAAN8/lBKB7lFMv-Y/photo.jpg?sz=128", "display_name": "Reza Saadati", "link": "https://stackoverflow.com/users/7588829/reza-saadati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 273, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571923418, "creation_date": 1571866211, "last_edit_date": 1571869180, "question_id": 58531242, "link": "https://stackoverflow.com/questions/58531242/mat-autocomplete-prevent-displaying-the-old-list", "title": "mat-autocomplete: Prevent displaying the old list", "body": "<p>With the following script I am able to add <code>&lt;mat-option&gt;</code> tags:</p>\n\n<p><strong>HTML</strong></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>    &lt;mat-autocomplete autoActiveFirstOption #auto=\"matAutocomplete\"&gt;\n      &lt;mat-option (onSelectionChange)=\"onEnter($event)\" *ngFor=\"let data of technologies\" [value]=\"data.technology\"&gt;\n        &lt;span matBadge=\"{{data.counter}}\" matBadgeOverlap=\"false\"&gt;{{data.technology}} &lt;/span&gt;\n      &lt;/mat-option&gt;\n    &lt;/mat-autocomplete&gt;\n</code></pre>\n\n<p><strong>TS</strong></p>\n\n<pre><code>    // On Key up, show technologies\n     onKeyUp(event: any): void {\n      if (event.target.value.trim().length &gt; 0) {\n        this.technologiesService.getTechnologies(event.target.value)\n          .subscribe(data =&gt; {\n            if (JSON.stringify(this.technologies) !== JSON.stringify(data)) {\n              this.technologies = data;\n            }\n          });\n      }\n</code></pre>\n\n<p><strong>The problem</strong></p>\n\n<p>If I press a key, I'll get a list of options. If I press another key, the same list (array <code>technologies</code>) will be displayed and after about 1 second it disappears and the new list will be shown. </p>\n\n<p>Maybe it needs time, because the new data needs to be sent from the server. But how can I make it display ONLY the new list? </p>\n"}, {"tags": ["typescript", "generics"], "comments": [{"owner": {"reputation": 2403, "user_id": 6275781, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/c59bR.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/6275781/clint"}, "edited": false, "score": 0, "creation_date": 1571867011, "post_id": 58531021, "comment_id": 103386492, "body": "The functions you pass to <code>create</code> don&#39;t have any types assigned to their parameters so they will be <code>any</code> in the output functions"}, {"owner": {"reputation": 5318, "user_id": 2069860, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/GsdAQ.jpg?s=128&g=1", "display_name": "ArrayKnight", "link": "https://stackoverflow.com/users/2069860/arrayknight"}, "reply_to_user": {"reputation": 2403, "user_id": 6275781, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/c59bR.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/6275781/clint"}, "edited": false, "score": 0, "creation_date": 1571868093, "post_id": 58531021, "comment_id": 103386837, "body": "Even if I add types in the input functions parameters, the <code>InputFunction</code> and <code>OutputFunction</code> types can&#39;t have <code>parameters</code> defined as <code>any</code>. This <code>any</code> blocks any sort of inference possibilities."}], "answers": [{"comments": [{"owner": {"reputation": 5318, "user_id": 2069860, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/GsdAQ.jpg?s=128&g=1", "display_name": "ArrayKnight", "link": "https://stackoverflow.com/users/2069860/arrayknight"}, "edited": false, "score": 0, "creation_date": 1571941791, "post_id": 58533027, "comment_id": 103415367, "body": "I appreciate your help, but when testing your solution, I ran into an issue where the output functions aren&#39;t being typed as expected. See my update above, please."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 5318, "user_id": 2069860, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/GsdAQ.jpg?s=128&g=1", "display_name": "ArrayKnight", "link": "https://stackoverflow.com/users/2069860/arrayknight"}, "edited": false, "score": 0, "creation_date": 1571942287, "post_id": 58533027, "comment_id": 103415585, "body": "My &quot;link to code&quot; link above shows that <code>addToBar</code> is typed <code>(parameters: number) =&gt; number</code> as you expect.  So I cannot reproduce your updated error.  Please try to produce a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that can demonstrate your issue in a standalone IDE without external dependencies.  <a href=\"https://www.typescriptlang.org/play/\" rel=\"nofollow noreferrer\">The Playground</a> is an ideal place to test whether your issue is reproducible.  Good luck!"}, {"owner": {"reputation": 5318, "user_id": 2069860, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/GsdAQ.jpg?s=128&g=1", "display_name": "ArrayKnight", "link": "https://stackoverflow.com/users/2069860/arrayknight"}, "edited": false, "score": 0, "creation_date": 1571942512, "post_id": 58533027, "comment_id": 103415670, "body": "Hmm, very true. I&#39;ll have to look into this further."}, {"owner": {"reputation": 5318, "user_id": 2069860, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/GsdAQ.jpg?s=128&g=1", "display_name": "ArrayKnight", "link": "https://stackoverflow.com/users/2069860/arrayknight"}, "edited": false, "score": 0, "creation_date": 1571945921, "post_id": 58533027, "comment_id": 103417144, "body": "One last issue, I&#39;ve had to put the Playground link in the question due to it&#39;s length. Thank you very much"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 5318, "user_id": 2069860, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/GsdAQ.jpg?s=128&g=1", "display_name": "ArrayKnight", "link": "https://stackoverflow.com/users/2069860/arrayknight"}, "edited": false, "score": 0, "creation_date": 1571961531, "post_id": 58533027, "comment_id": 103421849, "body": "I&#39;ve added a possible solution to that issue at the end of my answer.  In general it&#39;s not easy to get unresolved conditional types to type check inside function implementations; but that&#39;s a fundamentally different issue from this question, so I&#39;m not going to get into it much here.  Good luck with your code!"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1571961389, "last_edit_date": 1571961389, "creation_date": 1571881569, "answer_id": 58533027, "question_id": 58531021, "link": "https://stackoverflow.com/questions/58531021/how-to-generically-type-a-modified-dictionary-of-inconsistent-functions/58533027#58533027", "title": "How to generically type a modified dictionary of inconsistent functions", "body": "<p>I'd probably type <code>create()</code> like this:</p>\n\n<pre><code>type TailFunc&lt;T&gt; = T extends (h: any, ...args: infer A) =&gt; infer R ? (...args: A) =&gt; R : never;\n\ndeclare function create&lt;T&gt;(key: string, value: T): [() =&gt; T, (value: T) =&gt; void]\ndeclare function create&lt;T, U extends Record&lt;keyof U, (value: T, ...args: any) =&gt; any&gt;&gt;(\n    key: string,\n    value: T,\n    inputs: U\n): [() =&gt; T, { [K in keyof U]: TailFunc&lt;U[K]&gt; }]\n</code></pre>\n\n<p>The <code>TailFunc&lt;T&gt;</code> type takes a function type <code>T</code> and returns a new function where the first parameter has been removed.  So <code>TailFunc&lt;(a: string, b: number, c: boolean) =&gt; string&gt;</code> becomes <code>(b: number, c: boolean) =&gt; string</code>.  </p>\n\n<p>The second call signature for <code>create()</code> is generic in <code>T</code> as usual, and <code>U</code>, which is the type of the <code>inputs</code> parameter.  This is constrained to <code>Record&lt;keyof U, (value: T, ...args: any)=&gt;any</code>, so it expects <code>U</code> to be an object type whose values are all functions whose first parameter is of type <code>T</code>.  </p>\n\n<p>The return type of that call signature is a tuple where the second element is the mapped type that performs <code>TailFunc</code> on all the properties of <code>U</code>.</p>\n\n<p>Let's make sure it works:</p>\n\n<pre><code>getBar() \naddSevenToBar()\ngetBar() \naddToBar(3)\ngetBar() \napplyMathToBar({ operation: 'MULTIPLY', operand: 2 })\ngetBar() \n</code></pre>\n\n<p>Those all give no errors in the type system, so the types are what you want.  Whether or not it behaves as you expect at runtime depends on the implementation of <code>create()</code>, I guess.</p>\n\n<p>Okay, hope that helps; good luck!</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html?ssl=43&amp;ssc=1&amp;pln=36&amp;pc=1#code/C4TwDgpgBAKghgSwDYDECuA7AxgHhgPigF5YoIAPYCDAEwGcoAKACwC4o4MQAaKAOgFwATgHM67BBgBmEIVACCASmKFJMuQCUoAfiYC+wseyUqoW9hggA3WQG4AsACgnNCFiTDoUzFmAIA9hhQWEIQcFR4+IwA1hAg7HTAQpIivFZwSGgQ7DCK7ADajMpEhDC8jOmZ2bDFhFb+CDQAui5uHqFQ3th+gcGh4RB4vACqZJTU9GZu-kI0OLEg-lJQw+WVWTm8+obiHFy1eyD4UU5QZ1ALCUkp3Kfn69Vld2eSYGjAu8NOeVCFB2VQADevwA0lBJBc4ksVk0cohUD4cMN8iCmoQAL4tZzYpxYQKJX4iCDAFD+fy8NBgGgDUn+JrEPphKiMADkUjJLN4LJQAHkeSzFA5HESSWSik5KdSqLTWez-AKoE4RTLlE4nJIqEIpHAsNAALLhZgABWEcAAtsTZAxAc8oP5IEJwgEMOwWXrhgAZGAASSNHoAmiyoAAfKAsgAi3oAat7wwBRFm2+2yTg0CxoM0AI1kTnRasceIwBPyIoAQsJeMC4DQaDB-OWhLxqzQAMrWah1htNsBgJAgA3AZid4RQTEMkJMiCszPCTlQAAMldtzeHQnYFQyWV4YFNFs1uwwGezQgODygAGooDvHXurbdHOcODW2zYMKv1w9T5voJeAOz3x84B7PsByHethA-b9t13S0hF2UCTRvWC6AOG0H0fc46AAdwQYAsGYJhr3NZC+GTR0egwZQ0IwmjgjgOhoDdT0fT9QNWFtWiMNCYA0CEIIzwAKivGD91Ih1U3zTjH1cbU0CQYB2PQqSuOJXj+O-DjzjzJTR1zRR8zLYQikVRxmxfDtwKEcVhWJBtjKcFdLMYABmfSbOAOzVVM4D+0NVdGGBMinUCV13S9X0AznILaHYAAmUc3MMqyvKAA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n\n<hr>\n\n<p>note that how to implement <code>create()</code> so that everything typechecks with the minimum of type assertions is outside the scope of the original question, so I'm only posting a link to one possible way to do it: <a href=\"https://www.typescriptlang.org/play/index.html?target=1&amp;ssl=1&amp;ssc=52&amp;pln=3&amp;pc=12#code/C4TwDgpgBAKghgSwDYDECuA7AxgHhgPigF4oAKAOkrgCcBzAZwC5ZEkAFGuAW3r3wEpihAG4B7BABMAsAChZoSC2Qdq3XgWKwoEAB7AIGCfTI1azOBhAAaKJXKmmUBBgBmEalACCgoiPHSZKCCoAH4vWWCoZgwIYXdZWRdMLGAEUQwoLGoIOH0+UgjggGsIEGZ6YGpnWitCoOE4JDQIZhhamX5mAG1SH0I2sgamltg+qDFJAF1E5NT0zOzciBw62HbIgFVtPQMjKAAlCCxRagkcEpBRFygNm1Ih5tabOwdzSzGJiXxZfALA4tK5Uq1XWwQeIzaq2cYDQwEct1knSgPTGA0OcAk6SQIBwAG9kQBpJwZC5XG6TVqsdDYHAbLoEyaEAC++GmMiS2DmGSyOTyq0h-yCW10+kMxkOx1O51KZNug0ajzWtiodEcFhAH383xkv1WFyBVQwNVW4KeUIwMLhIWYCI6jFWAB9kb0hEr7gqIZqpo7naibOjMRhsXjCcSoKTrhsKUpUMlafTGVAWZMoLioddSNDYcYiLmoJgJBAXM4IBJBGnBZEoNlgGhqBkuqsq8EXb5xh7Qc3Iu6kK0xhWu4OoAB6YdNrtMztVtmRJkJSs1usN8dBVsiDsrqAAeQARgArI7AcgubIQABeED+Q5bu4PKXIF3omYt2cEcGMnmoqhxEZuAnI2QSGgWCXpug44ESIq7MYv4bLqlbXs2oiwpajj4l0bBhrB0bwMg1K4HSbCJpOYGIRg3AjASU6IVA-akdexwYBUxKWpoWZwl05FcBAbL0UOyHAKhnEUSmJAUCqDCUsonA8DgCgQGS7ECK6A40Yho58YOc5yAhalBIu9ZQAJqGacEJG6deuJMlA76pqGzjhjKkY4VScZ0gyzLUV2-BeUEPmrGy2myIxzFdLQEDAAAQjQNj4hiEgwKI0XUDY8UAMqxAYiXJUmokLLyl4AOQ7jQhU2AADLFqzpZlGDZTQzA9s0HwelAADUUAAOxTvF9XUI14I2GAMkRe4jgYGgXA7u4LXDO1UDDao3H6NQ9DtEy-DzuFUU0L05DAKIbDZFgCD0GkGC9PONVxHVSW7ZtMi9Xd1CkAAHA9QA\" rel=\"nofollow noreferrer\">link to code</a></p>\n"}], "owner": {"reputation": 5318, "user_id": 2069860, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/GsdAQ.jpg?s=128&g=1", "display_name": "ArrayKnight", "link": "https://stackoverflow.com/users/2069860/arrayknight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 1, "accepted_answer_id": 58533027, "answer_count": 1, "score": 4, "last_activity_date": 1571961389, "creation_date": 1571864966, "last_edit_date": 1571946299, "question_id": 58531021, "link": "https://stackoverflow.com/questions/58531021/how-to-generically-type-a-modified-dictionary-of-inconsistent-functions", "title": "How to generically type a modified dictionary of inconsistent functions", "body": "<p>I have a function that needs to convert a dictionary of functions with partially dynamic properties into a new dictionary of functions with similar properties.</p>\n\n<p>What I have so far:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Dictionary&lt;T extends any&gt; {\n    [key: string]: T\n}\n\ntype InputFunction&lt;T&gt; = (value: T, parameters?: any) =&gt; T\n\ntype InputFunctionMap&lt;T&gt; = Dictionary&lt;InputFunction&lt;T&gt;&gt;\n\ntype OutputFunction = (parameters?: any) =&gt; void\n\ntype OutputFunctionMap&lt;T, U extends InputFunctionMap&lt;T&gt;&gt; = {\n    [P in keyof U]: OutputFunction\n}\n\nfunction create&lt;T&gt;(key: string, value: T): [() =&gt; T, (value: T) =&gt; void]\nfunction create&lt;T, U = InputFunctionMap&lt;T&gt;&gt;(key: string, value: T, inputs: U): [() =&gt; T, Readonly&lt;OutputFunctionMap&lt;T, U&gt;&gt;]\nfunction create&lt;T, U = InputFunctionMap&lt;T&gt;&gt;(key: string, value: T, inputs?: U): [() =&gt; T, (value: T) =&gt; void] | [() =&gt; T, Readonly&lt;OutputFunctionMap&lt;T, U&gt;&gt;] {\n    // ...\n}\n</code></pre>\n\n<p>What I'm trying to accomplish:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const [getFoo, updateFoo] = create('foo', 'FOO')\n\ngetFoo() // =&gt; 'FOO'\n\nupdateFoo('foo') // =&gt; 'foo'\n\ngetFoo() // =&gt; 'foo'\n\ninterface MathParameters {\n    operation: 'MULTIPLY' | 'DIVIDE'\n    operand: number\n}\n\nconst [getBar, {addToBar, addSevenToBar, applyMathToBar}] = create('bar', 0, {\n    addToBar: (value, parameters: number) =&gt; value + parameters,\n    addSevenToBar: (value) =&gt; value + 7,\n    applyMathToBar: (value, parameters: MathParameters) =&gt; {\n        switch (parameters.operation) {\n            case 'MULTIPLY':\n                return value * parameters.operand\n\n            default:\n                return value\n        }\n    }\n})\n\ngetBar() // =&gt; 0\n\naddSevenToBar()\n\ngetBar() // =&gt; 7\n\naddToBar(3)\n\ngetBar() // =&gt; 10\n\napplyMathToBar({operation: 'MULTIPLY', operand: 2})\n\ngetBar() // =&gt; 20\n\n</code></pre>\n\n<p>The problem is that I can't figure out how to properly and generically type <code>parameters</code> (I don't want them to be <code>any</code>) so that the type can be inferred from the input function and be correctly available as the parameter in the output function.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Thank you for the support so far!</p>\n\n<p>I'm just having trouble getting the ouput mapping to work as intended: <a href=\"https://www.typescriptlang.org/play/index.html?target=1#code/C4TwDgpgBAKghgSwDYDECuA7AxgHhgPigF5YoIAPYCDAEwGcoAKOAJwHMAuKODEAGigA6YazZ0uCDADMILKAEEAlMUIA3APYIaAWABQUA1AD8TYYNHiFyoms079hrhgirZevaEixESAAqs4AFs6PEISGDJKanomUS4efiERdktJGTklFSgNLT1DYwU8xyhnVxZ3XSlMLGAEdQwoLBYIOCpQxiKDAGsIEC46YBZJNj5O7LgkNAguGFHdRS4AbUZrQlmmVQmpmdXsuwBdPSrsWvrG5taIHDHZsYBVSKpaBgAlCCx1FhocHpB1KSgdwEjE2k2msAEZgs8V4uxyNHwenwHQc3V6-UGwzm+VB2whY0kYDQwEsQL0Cygy126zecBo9SQIBwAG9KQBpKCSKC-f6A-YzHzobA4O6LNn7QgAX3wh0q1VODSaLTaN2xhgeFCeMTeHy+P16vKBGy24PWUJSMJAcLsiN0yLGvwxQwwIzGuNNaoMhOJdCMXDJ8w4YwAPpSVll1iCTTssvDZflQ1SIwJafSMIyWezOQ0eQC7vzvMghbhReKpTKoMyCQDGN6ScQiCRMDQIFJJBAaMoq6j8lBmsA0CwGosxr3DOGbOMwZ6x+PQTHJ93Z8uoAB6Vej2eSmf5eOGSUVfL9wfDzcGCdqE07wwAeQARgArd7AQRSZoQABeEBRK9vj+fgi-HQtYYESJKKIIzQ0GgWDfmeK4-r+K7qMSYF0NeSGGBgQQQBhK67EumGzh8GADNmYHEORPqLNhgTQHADC5nyh5EWOKHAGhNE4dwjEGnm+yUYw5piAKyD+CwQQhJ4EC8nW+AEfBrEGOuilIQeuiqb+x5DlA7FoZpvbbgZ+TMpKPGVlmXJMfmomoNUIpihKUBGT2y6KHh7ljLK6l6CRZGLGwEDAAAQqwAisnSNAwOooUsAIkUAMouNQ0Wxc5AkkEqlyMAA5HerA5QIAAM4VjIlyUYKlrBcFGYJwiaUAANRQAA7DOkVVSwNXugIYABHRVAsJYGBoIEd6yPVYJNVAfUSQNsjoXokqKBUgUhawKyCMA6i+M0WAIHQdQYCsFTla4lUxRtK26B1l0sIwAAc11AA\" rel=\"nofollow noreferrer\">Typescript Playground</a></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type TailParams&lt;T&gt; = T extends (arg: any, ...args: infer A) =&gt; void\n    ? A\n    : never\n\nconst input = inputs[name as keyof U]\n\noutputs[name as keyof U] = (...args: TailParams&lt;typeof input&gt;) =&gt; {\n    //\n}\n</code></pre>\n\n<p>Throws: <code>Type '(...args: TailParams&lt;U[keyof U]&gt;) =&gt; void' is not assignable to type 'TailFunc&lt;U[keyof U]&gt;'.</code></p>\n"}, {"tags": ["angular", "typescript", "angular-router", "angular-routerlink"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1571865221, "post_id": 58531017, "comment_id": 103385939, "body": "If the attribute on the object you&#39;re dealing with is actually named <code>usedId</code>, why <i>would</i> that work?"}, {"owner": {"reputation": 11, "user_id": 12265332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f99406cd2cb40d0861257e6f96b58a3?s=128&d=identicon&r=PG&f=1", "display_name": "superszymi", "link": "https://stackoverflow.com/users/12265332/superszymi"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1571865788, "post_id": 58531017, "comment_id": 103386123, "body": "@jonsharpe I thought that <code>{{ user.id }}</code> is a reference of the User object created in the component of class specified in the user.ts file and not the one that I get from the server"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1571865867, "post_id": 58531017, "comment_id": 103386140, "body": "But are you actually using an object you built to that definition, or just whatever you got from the server? Maybe your object definition should match what you&#39;re actually going to get?"}, {"owner": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "edited": false, "score": 1, "creation_date": 1571865973, "post_id": 58531017, "comment_id": 103386175, "body": "Swap to this syntax and see if that fixes your issue: <code>[routerLink]=&quot;[&#39;&#47;detail&#39;, user.userId]&quot;</code>"}, {"owner": {"reputation": 11, "user_id": 12265332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f99406cd2cb40d0861257e6f96b58a3?s=128&d=identicon&r=PG&f=1", "display_name": "superszymi", "link": "https://stackoverflow.com/users/12265332/superszymi"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1571866114, "post_id": 58531017, "comment_id": 103386223, "body": "@jonrsharpe ok I think it might have to do with the fact that the <code>users: Users[]</code> in the user-list.component has its value set with <code>getUsers(): void {     this.userService.getUsers().subscribe(users =&gt; this.users = users);   }</code> so it overwrites property names too"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "reply_to_user": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "edited": false, "score": 1, "creation_date": 1571866228, "post_id": 58531017, "comment_id": 103386261, "body": "@Zze why would changing the syntax change the <i>value</i>?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1571866323, "post_id": 58531017, "comment_id": 103386296, "body": "What do you mean <i>&quot;overwrites property names&quot;</i>? They were never actually <code>User</code>s, they never had an <code>id</code> property; they had a <code>userId</code> property. The problem is most likely that you&#39;ve lied to the HttpClient about the shape of the server&#39;s response - see <a href=\"https://angular.io/guide/http#requesting-a-typed-response\" rel=\"nofollow noreferrer\">angular.io/guide/http#requesting-a-typed-response</a>."}, {"owner": {"reputation": 11, "user_id": 12265332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f99406cd2cb40d0861257e6f96b58a3?s=128&d=identicon&r=PG&f=1", "display_name": "superszymi", "link": "https://stackoverflow.com/users/12265332/superszymi"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1571866892, "post_id": 58531017, "comment_id": 103386461, "body": "@jonrsharpe Ok I think that I misunderstood the purpose of class in the client. I was thinking of it like the view used the instances of User defined in user.ts that only had property values provided by the server."}], "owner": {"reputation": 11, "user_id": 12265332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f99406cd2cb40d0861257e6f96b58a3?s=128&d=identicon&r=PG&f=1", "display_name": "superszymi", "link": "https://stackoverflow.com/users/12265332/superszymi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 127, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571865449, "creation_date": 1571864944, "last_edit_date": 1571865449, "question_id": 58531017, "link": "https://stackoverflow.com/questions/58531017/variable-named-id-does-not-work-in-angular-interpolation", "title": "Variable named &#39;id&#39; does not work in Angular interpolation", "body": "<p>I'm learning Angular, running CLI version 8.3.8</p>\n\n<p>So I've just spent several hours trying to figure out why does naming such as below not work:</p>\n\n<p>user.ts</p>\n\n<pre><code>export class User {\n    id: number\n...\n</code></pre>\n\n<p>app-routing.module.ts</p>\n\n<pre><code>const routes: Routes = [\n    { path: 'details/:id', component: UserDetailComponent }\n...\n</code></pre>\n\n<p>user-list.component.html</p>\n\n<pre><code>&lt;a *ngFor=\"let user of users\" routerLink=\"/details/{{ user.id }}\"&gt;\n    &lt;span&gt;{{user.id}}&lt;/span&gt;\n...\n</code></pre>\n\n<p>Every other file has every parameter corresponding to the user.id named just 'id'.</p>\n\n<p>When I click on the link from <em>user-list.component.html</em> I get the following error:</p>\n\n<pre><code>core.js:6014\nERROR Error: Uncaught (in promise): Error: Cannot match any routes. URL Segment: 'detail'\nError: Cannot match any routes. URL Segment: 'detail'\n...\n</code></pre>\n\n<p>and also the <code>user.id</code> in the <code>&lt;span&gt;</code> is not displayed.</p>\n\n<p>After messing around with routerLinks and paths I started randomly changing 'id' to 'userId' and when <em>user-list.component.html</em> looks like this:</p>\n\n<pre><code>&lt;a *ngFor=\"let user of users\" routerLink=\"/detail/{{ user.userId }}\"&gt;\n</code></pre>\n\n<p>it works without making any other changes to other files.\nSame goes for the <code>&lt;span&gt;</code> element.</p>\n\n<p>I also encountered opposite situation where another property - <code>user.name</code> will be displayed well with <code>{{ user.name }}</code>, but changing the name of the attribute to <code>user.userName</code> and replacing it everywhere, like <code>{{ user.userName }}</code> does not work and the name is not displayed.</p>\n\n<p>The user data is retrieved from a simple server setup where property names of <code>User</code> java bean are <code>userId</code> and <code>name</code>, so I reckon it has to do something with that, but why is the component template the only place where I need  the property names in the server and client to match? (and why is <em>user.service.ts</em> not affected by this at all with all its http requests?)</p>\n"}, {"tags": ["javascript", "jquery", "typescript", "aurelia"], "comments": [{"owner": {"reputation": 1020, "user_id": 1085837, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8e9c78bd89874317e1ab2cd451ef50a5?s=128&d=identicon&r=PG", "display_name": "Arne Deruwe", "link": "https://stackoverflow.com/users/1085837/arne-deruwe"}, "edited": false, "score": 0, "creation_date": 1571997720, "post_id": 58530285, "comment_id": 103431964, "body": "Have you read the docs on how to instgrate old libs? <a href=\"https://aurelia.io/docs/cli/cli-bundler/dependency-management#prepend\" rel=\"nofollow noreferrer\">aurelia.io/docs/cli/cli-bundler/dependency-management#prepen&zwnj;&#8203;d</a>"}], "answers": [{"tags": [], "owner": {"reputation": 9130, "user_id": 693560, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e71609811ad09d2eba439b051790fbc7?s=128&d=identicon&r=PG", "display_name": "Bronzato", "link": "https://stackoverflow.com/users/693560/bronzato"}, "is_accepted": false, "score": 1, "last_activity_date": 1572009125, "creation_date": 1572009125, "answer_id": 58559205, "question_id": 58530285, "link": "https://stackoverflow.com/questions/58530285/properly-reference-a-javascript-jquery-plugin-inside-my-typescript-file/58559205#58559205", "title": "Properly reference a (javascript) jquery plugin inside my typescript file", "body": "<p>Ok I got it by simply adding a reference to my jquery plugin like below:</p>\n\n<p>aurelia.json</p>\n\n<pre><code>\"dependencies\": [\n    ...\n    ...\n    {\n        \"name\": \"jquery.morelines\",\n        \"path\": \"../javascript\",\n        \"main\": \"jquery.morelines\",\n        \"deps\": [\n          \"jquery\"\n        ]\n    }\n]\n</code></pre>\n\n<p>No need to add any <code>import</code> in my typescript page.</p>\n\n<p>posts.ts</p>\n\n<pre><code>    ...\n    (&lt;any&gt;$('.card__description--details')).moreLines({\n      linecount: 6,\n      baseclass: 'b-description',\n      basejsclass: 'js-description',\n      classspecific: '_readmore',\n      buttontxtmore: \"\",\n      buttontxtless: \"\",\n      animationspeed: 400\n    });\n</code></pre>\n"}], "owner": {"reputation": 9130, "user_id": 693560, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e71609811ad09d2eba439b051790fbc7?s=128&d=identicon&r=PG", "display_name": "Bronzato", "link": "https://stackoverflow.com/users/693560/bronzato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1572009125, "creation_date": 1571861273, "question_id": 58530285, "link": "https://stackoverflow.com/questions/58530285/properly-reference-a-javascript-jquery-plugin-inside-my-typescript-file", "title": "Properly reference a (javascript) jquery plugin inside my typescript file", "body": "<p>I would like to use a jquery plugin inside a typescript page of my <a href=\"https://aurelia.io/\" rel=\"nofollow noreferrer\">Aurelia</a> SPA. This plugin is called <a href=\"https://github.com/tsurule/morelines\" rel=\"nofollow noreferrer\">morelines</a></p>\n\n<p>Here is my current solution so far:</p>\n\n<p>my typescript file: <strong>post.ts</strong></p>\n\n<pre><code>import './jquery.morelines'\nexport class Post {\n    attached() {\n            $('.card__description--details').moreLines({\n                linecount: 6,\n                baseclass: 'b-description',\n                basejsclass: 'js-description',\n                classspecific: '_readmore',\n                buttontxtmore: \"\",\n                buttontxtless: \"\",\n                animationspeed: 400\n            });\n    }\n}\n</code></pre>\n\n<p>the plugin <strong>jquery.morelines.js</strong></p>\n\n<p><a href=\"https://github.com/tsurule/morelines/blob/master/jquery.morelines.js\" rel=\"nofollow noreferrer\">Code visible here on github</a></p>\n\n<pre><code>(function ( $ ) {\n    $.fn.moreLines = function (options) {\n      ...\n    }\n }(jQuery));\n</code></pre>\n\n<p>my <strong>tsconfig.json</strong></p>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"sourceMap\": true,\n    \"target\": \"es5\",\n    \"module\": \"amd\",\n    \"declaration\": false,\n    \"noImplicitAny\": false,\n    \"removeComments\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"allowJs\": true,\n    \"moduleResolution\": \"node\",\n    \"lib\": [\"es2017\", \"dom\"],\n    \"baseUrl\": \"src\"\n  },\n  \"include\": [\n    \"./src/**/*.ts\",\n    \"./test/**/*.ts\"\n  ],\n  \"atom\": {\n    \"rewriteTsconfig\": false\n  }\n}\n</code></pre>\n\n<p>It works at runtime but I got errors when bundling ( <code>au build</code>)</p>\n\n<p><a href=\"https://i.stack.imgur.com/GBWHf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GBWHf.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/ivzEH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ivzEH.png\" alt=\"enter image description here\"></a></p>\n\n<p>How to get rid of these errors ? How to properly reference this javascript jquery plugin inside my typescript file ?</p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 20729, "user_id": 1470607, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/6CA0X.png?s=128&g=1", "display_name": "Etheryte", "link": "https://stackoverflow.com/users/1470607/etheryte"}, "edited": false, "score": 0, "creation_date": 1571860912, "post_id": 58530192, "comment_id": 103384233, "body": "The example you&#39;ve shown isn&#39;t valid JSON."}, {"owner": {"reputation": 7617, "user_id": 5664434, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-Ws_m-ConuqI/AAAAAAAAAAI/AAAAAAAAAAA/yJVKiI7N47Q/photo.jpg?sz=128", "display_name": "marzelin", "link": "https://stackoverflow.com/users/5664434/marzelin"}, "edited": false, "score": 0, "creation_date": 1571861191, "post_id": 58530192, "comment_id": 103384354, "body": "seems like too much curly braces"}], "answers": [{"tags": [], "owner": {"reputation": 740, "user_id": 9206112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cf45c7bcb3ff976244e952d69b1e73d?s=128&d=identicon&r=PG&f=1", "display_name": "JeromeBu", "link": "https://stackoverflow.com/users/9206112/jeromebu"}, "is_accepted": true, "score": 0, "last_activity_date": 1571861240, "creation_date": 1571861240, "answer_id": 58530279, "question_id": 58530192, "link": "https://stackoverflow.com/questions/58530192/how-do-you-configure-a-react-app-to-use-typescript/58530279#58530279", "title": "How do you configure a react app to use typescript?", "body": "<p>The <a href=\"https://create-react-app.dev/docs/adding-typescript/\" rel=\"nofollow noreferrer\">first instructions</a> should work fine. Make sure you don't have an old version of <strong>create-react-app</strong> globaly installed.</p>\n\n<p>You can remove it with :</p>\n\n<pre><code>npm uninstall -g create-react-app\n</code></pre>\n\n<p>And than create you project again with :</p>\n\n<pre><code>npx create-react-app my-app --typescript\n</code></pre>\n"}], "owner": {"reputation": 3634, "user_id": 2860931, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/968ddbc21b4695b3fba4665b69d231b5?s=128&d=identicon&r=PG&f=1", "display_name": "Mel", "link": "https://stackoverflow.com/users/2860931/mel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 58530279, "answer_count": 1, "score": 0, "last_activity_date": 1571861240, "creation_date": 1571860841, "question_id": 58530192, "link": "https://stackoverflow.com/questions/58530192/how-do-you-configure-a-react-app-to-use-typescript", "title": "How do you configure a react app to use typescript?", "body": "<p>I am trying to learn Typescript.</p>\n\n<p>I have followed <a href=\"https://create-react-app.dev/docs/adding-typescript/\" rel=\"nofollow noreferrer\">these instructions</a> and added typescript to my new app (just created a few minutes ago).</p>\n\n<p>I have also followed <a href=\"https://github.com/TypeStrong/ts-loader/issues/732\" rel=\"nofollow noreferrer\">these instructions</a> and replaced my empty (top-level) config file with:</p>\n\n<pre><code>{\n    {\n        \"compilerOptions\": {\n            \"jsx\": \"preserve\"\n        }\n    }\n}\n</code></pre>\n\n<p>There is still an error that says: </p>\n\n<blockquote>\n  <p>tsconfig.json(2,1): error TS1136: Property assignment expected.</p>\n</blockquote>\n\n<p>Does anyone know what it means or how to solve it?</p>\n"}, {"tags": ["node.js", "typescript", "npm", "environment-variables", "dotenv"], "comments": [{"owner": {"reputation": 1410, "user_id": 5817056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb8cc5a593728016414d7bead5a9912?s=128&d=identicon&r=PG&f=1", "display_name": "Talgat Saribayev", "link": "https://stackoverflow.com/users/5817056/talgat-saribayev"}, "edited": false, "score": 0, "creation_date": 1571861069, "post_id": 58530044, "comment_id": 103384303, "body": ".env mostly not for production. But you can use it, of course. Can you share <code>gitignore</code>, <code>dependencies</code> in <code>package.json</code> and <code>bin</code> in <code>package.json</code>?"}, {"owner": {"reputation": 439, "user_id": 7127982, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2574cc27f4133eb7630d7e2bfc27a19?s=128&d=identicon&r=PG&f=1", "display_name": "jones", "link": "https://stackoverflow.com/users/7127982/jones"}, "reply_to_user": {"reputation": 1410, "user_id": 5817056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb8cc5a593728016414d7bead5a9912?s=128&d=identicon&r=PG&f=1", "display_name": "Talgat Saribayev", "link": "https://stackoverflow.com/users/5817056/talgat-saribayev"}, "edited": false, "score": 0, "creation_date": 1571861534, "post_id": 58530044, "comment_id": 103384499, "body": "Well I&#39;m using a token secret in the code so I don&#39;t know how else to do it. Updated post :)"}, {"owner": {"reputation": 1410, "user_id": 5817056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb8cc5a593728016414d7bead5a9912?s=128&d=identicon&r=PG&f=1", "display_name": "Talgat Saribayev", "link": "https://stackoverflow.com/users/5817056/talgat-saribayev"}, "edited": false, "score": 0, "creation_date": 1571861643, "post_id": 58530044, "comment_id": 103384544, "body": "Here you are ignoring the .env in your <code>gitignore</code>. Just remove the last line. Also use it inside <code>lib&#47;index.js</code> as <code>require(&#39;dotenv&#39;).config()</code>"}, {"owner": {"reputation": 439, "user_id": 7127982, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2574cc27f4133eb7630d7e2bfc27a19?s=128&d=identicon&r=PG&f=1", "display_name": "jones", "link": "https://stackoverflow.com/users/7127982/jones"}, "reply_to_user": {"reputation": 1410, "user_id": 5817056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb8cc5a593728016414d7bead5a9912?s=128&d=identicon&r=PG&f=1", "display_name": "Talgat Saribayev", "link": "https://stackoverflow.com/users/5817056/talgat-saribayev"}, "edited": false, "score": 0, "creation_date": 1571862032, "post_id": 58530044, "comment_id": 103384710, "body": "It seems like the .gitignore file matters, I&#39;m not sure exactly why. Now my secret will be visible in the git repo though and as you said it&#39;s also visible in the npm package itself. Any good advice for dealing with secrets when publishing npm packages?"}, {"owner": {"reputation": 8552, "user_id": 1941241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvyT6.png?s=128&g=1", "display_name": "rickdenhaan", "link": "https://stackoverflow.com/users/1941241/rickdenhaan"}, "edited": false, "score": 0, "creation_date": 1571862368, "post_id": 58530044, "comment_id": 103384852, "body": "I have no solution to the secrets issue, but a bit of clarification: npm supports a <code>.npmignore</code> file to list the files that should not be published to the registry. If that file does not exist, it falls back to <code>.gitignore</code> under the assumption that if you don&#39;t want a file in your git repository, you don&#39;t want it in your package either. You can read more about it <a href=\"https://docs.npmjs.com/misc/developers#keeping-files-out-of-your-package\" rel=\"nofollow noreferrer\">in the docs</a>."}, {"owner": {"reputation": 439, "user_id": 7127982, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2574cc27f4133eb7630d7e2bfc27a19?s=128&d=identicon&r=PG&f=1", "display_name": "jones", "link": "https://stackoverflow.com/users/7127982/jones"}, "edited": false, "score": 0, "creation_date": 1571862579, "post_id": 58530044, "comment_id": 103384927, "body": "Ok, I was just slightly confused because i thought the files property overruled both of those. You should post it as an answer by the way so I can accept it ;)"}, {"owner": {"reputation": 8552, "user_id": 1941241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvyT6.png?s=128&g=1", "display_name": "rickdenhaan", "link": "https://stackoverflow.com/users/1941241/rickdenhaan"}, "edited": false, "score": 0, "creation_date": 1572011267, "post_id": 58530044, "comment_id": 103438566, "body": "@jones it&#39;s not an answer though, since your question is how to deal with (secret) environment variables. I was just responding to the &quot;It seems like the .gitignore file matters, I&#39;m not sure exactly why.&quot; comment."}], "owner": {"reputation": 439, "user_id": 7127982, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2574cc27f4133eb7630d7e2bfc27a19?s=128&d=identicon&r=PG&f=1", "display_name": "jones", "link": "https://stackoverflow.com/users/7127982/jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 641, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571861427, "creation_date": 1571860145, "last_edit_date": 1571861427, "question_id": 58530044, "link": "https://stackoverflow.com/questions/58530044/how-to-use-env-variables-when-publishing-npm-package", "title": "How to use .ENV variables when publishing npm package", "body": "<p>How do I inject my environment variable into the final build that gets published to npm?</p>\n\n<p>I'm using the dotenv package and that works great locally. However when I do <code>npm publish</code>, the env variable is gone since it just runs the file in the main property of the package.json. </p>\n\n<p>Some relevant fields from package json:</p>\n\n<pre><code>  \"main\": \"./lib/index.js\",\n  \"typings\": \"./lib/index.d.ts\",\n  \"files\": [\n    \"lib\",\n    \".env\"\n  ],\n  \"scripts\": {\n     \"start\" : \"tsc &amp;&amp; node -r dotenv/config ./lib/index.js\"\n  },\n  \"bin\" : {\n      \"run-app\" : \"./lib/index.js\"\n   },\n   \"dependencies\": {\n      \"dotenv\": \"^8.2.0\",\n    }\n\n</code></pre>\n\n<p>.gitignore: </p>\n\n<pre><code># OSX\n.DS_Store\n\nnode_modules\nnotes.MD\n\nlib\n.env\n</code></pre>\n\n<p>I tried to inject my env variable by passing it to my start script and also call the .config() method on dotenv inside the code. Either way the env variable ends up undefined when running my package using <code>npx</code>.</p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "koa", "typeorm"], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 8142509, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/422a04bb39f9c3758b3902900e907870?s=128&d=identicon&r=PG&f=1", "display_name": "vvAve", "link": "https://stackoverflow.com/users/8142509/vvave"}, "edited": false, "score": 1, "creation_date": 1571902193, "post_id": 58531463, "comment_id": 103395151, "body": "That was it, I figured it out later that night. It was confusing because I was following docs very closely."}, {"owner": {"reputation": 77, "user_id": 4468197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45061cc69cd0cb6c6fab5dcf207b01ed?s=128&d=identicon&r=PG", "display_name": "aizkhaj", "link": "https://stackoverflow.com/users/4468197/aizkhaj"}, "edited": false, "score": 0, "creation_date": 1578506913, "post_id": 58531463, "comment_id": 105464437, "body": "@robfz: I was just facing the same issue, and know that the proposed solution works, but with my <code>synchronize: true</code> setting, it won&#39;t show an updated table for my entity, so I&#39;m trying to point it to <code>src</code> since there must be issues with it on build that&#39;s showing up in the <code>dist</code> entity.  The question: is there a reason why it doesn&#39;t work with <code>src</code> path even though docs show it that way?"}, {"owner": {"reputation": 452, "user_id": 2668265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2d33c076b63ce13a1d610550a3439d0?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/2668265/patrick"}, "edited": false, "score": 0, "creation_date": 1598099833, "post_id": 58531463, "comment_id": 112350847, "body": "having to use the transpiled code in development is an abomination."}, {"owner": {"reputation": 20193, "user_id": 1779113, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/fbd338a5ff4a8feb86507a4dacddc05b?s=128&d=identicon&r=PG", "display_name": "nburk", "link": "https://stackoverflow.com/users/1779113/nburk"}, "edited": false, "score": 1, "creation_date": 1605693625, "post_id": 58531463, "comment_id": 114727216, "body": "The other answer of invoking the CLI via <code>ts-node</code> seems a bit nicer: <code>npx ts-node .&#47;node_modules&#47;typeorm&#47;cli.js migration:generate -n Init</code>"}], "tags": [], "owner": {"reputation": 280, "user_id": 2316672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/167e3ceba3ab249986c7b61b08792abe?s=128&d=identicon&r=PG", "display_name": "Robfz", "link": "https://stackoverflow.com/users/2316672/robfz"}, "is_accepted": true, "score": 9, "last_activity_date": 1571867602, "creation_date": 1571867602, "answer_id": 58531463, "question_id": 58529950, "link": "https://stackoverflow.com/questions/58529950/import-statement-breaks-typeorm-enitities-when-registered-through-config-json-fi/58531463#58531463", "title": "Import statement breaks typeorm enitities when registered through config.json file", "body": "<p>Are you getting the error when trying to run the CLI, or when running the app?</p>\n\n<p>You may need to change the <code>\"entities\"</code> entry in <code>ormconfig.json</code> to <code>[\"dist/entity/**/*.js\"]</code> or the <code>\"entitiesDir\"</code> to <code>\"dist/entity\"</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 199, "user_id": 3957873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/402a71813136e70188879883e213c0b0?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph Buchma", "link": "https://stackoverflow.com/users/3957873/joseph-buchma"}, "edited": false, "score": 4, "creation_date": 1580819325, "post_id": 59723493, "comment_id": 106216114, "body": "Why down vote? Accepted answer is misleading, there is no need to point configuration to <code>dist</code> directory. If your entities are in typescript you should use <code>ts-node</code> to run CLI, as  stated in the docs."}, {"owner": {"reputation": 3999, "user_id": 2678638, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/lSbaA.jpg?s=128&g=1", "display_name": "Ajay", "link": "https://stackoverflow.com/users/2678638/ajay"}, "edited": false, "score": 1, "creation_date": 1591430815, "post_id": 59723493, "comment_id": 110057164, "body": "I second it. The accepted answer is misleading. this is the correct answer! Thanks, @joseph for the correct answer! You saved my time!"}, {"owner": {"reputation": 382, "user_id": 1165236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e823b21c2c71249c8364f533716fed6?s=128&d=identicon&r=PG", "display_name": "Vincent", "link": "https://stackoverflow.com/users/1165236/vincent"}, "edited": false, "score": 0, "creation_date": 1593771447, "post_id": 59723493, "comment_id": 110902135, "body": "Totally agree too, during e2e test, it doesn&#39;t work, I had to use <code>https:&#47;&#47;docs.nestjs.com&#47;techniques&#47;database#auto-load-entiti&zwnj;&#8203;es</code> to autoload entities. Because during test, it&#39;s using ts-node transpiling code on the fly (in memory) and the dist directory is not present. So at the end. best option to work in any situation"}, {"owner": {"reputation": 1314, "user_id": 5249708, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/HU6sl.jpg?s=128&g=1", "display_name": "tim", "link": "https://stackoverflow.com/users/5249708/tim"}, "edited": false, "score": 0, "creation_date": 1593922772, "post_id": 59723493, "comment_id": 110943421, "body": "a related github issue <a href=\"https://github.com/typeorm/typeorm/issues/3079#issuecomment-449714614\" rel=\"nofollow noreferrer\">github.com/typeorm/typeorm/issues/3079#issuecomment-44971461&zwnj;&#8203;4</a>"}, {"owner": {"reputation": 20193, "user_id": 1779113, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/fbd338a5ff4a8feb86507a4dacddc05b?s=128&d=identicon&r=PG", "display_name": "nburk", "link": "https://stackoverflow.com/users/1779113/nburk"}, "edited": false, "score": 0, "creation_date": 1605691372, "post_id": 59723493, "comment_id": 114726156, "body": "Side-note: If you don&#39;t have <code>ts-node</code> installed globally you can invoke it prefixed with <code>npx</code>, e.g.: <code>npx ts-node .&#47;node_modules&#47;typeorm&#47;cli.js migration:generate -n Init</code>"}], "tags": [], "owner": {"reputation": 199, "user_id": 3957873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/402a71813136e70188879883e213c0b0?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph Buchma", "link": "https://stackoverflow.com/users/3957873/joseph-buchma"}, "is_accepted": false, "score": 11, "last_activity_date": 1578953586, "last_edit_date": 1578953586, "creation_date": 1578946237, "answer_id": 59723493, "question_id": 58529950, "link": "https://stackoverflow.com/questions/58529950/import-statement-breaks-typeorm-enitities-when-registered-through-config-json-fi/59723493#59723493", "title": "Import statement breaks typeorm enitities when registered through config.json file", "body": "<ol>\n<li>Make sure you have <code>\"module\": \"commonjs\"</code> in <code>\"compilerOptions\"</code> of <code>tsconfig.json</code></li>\n<li>Run typeorm cli using ts-node: <code>ts-node ./node_modules/typeorm/cli.js</code></li>\n</ol>\n\n<p><a href=\"https://github.com/typeorm/typeorm/blob/master/docs/using-cli.md#if-entities-files-are-in-typescript\" rel=\"noreferrer\">See docs</a></p>\n"}, {"tags": [], "owner": {"reputation": 1290, "user_id": 5027993, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/913375468704813/picture?type=large", "display_name": "Max Sherbakov", "link": "https://stackoverflow.com/users/5027993/max-sherbakov"}, "is_accepted": false, "score": 0, "last_activity_date": 1594285582, "creation_date": 1594285582, "answer_id": 62811307, "question_id": 58529950, "link": "https://stackoverflow.com/questions/58529950/import-statement-breaks-typeorm-enitities-when-registered-through-config-json-fi/62811307#62811307", "title": "Import statement breaks typeorm enitities when registered through config.json file", "body": "<p>Use <a href=\"https://docs.nestjs.com/techniques/database#auto-load-entities\" rel=\"nofollow noreferrer\">Auto-load entities</a>, that answer fits to nestJS+typeOrm.</p>\n<blockquote>\n<p>Manually adding entities to the entities array of the connection\noptions can be tedious. In addition, referencing entities from the\nroot module breaks application domain boundaries and causes leaking\nimplementation details to other parts of the application. To solve\nthis issue, static glob paths can be used (e.g., dist/**/*.entity{\n.ts,.js}).</p>\n<p>Note, however, that glob paths are not supported by webpack, so if you\nare building your application within a monorepo, you won't be able to\nuse them. To address this issue, an alternative solution is provided.\nTo automatically load entities, set the autoLoadEntities property of\nthe configuration object (passed into the forRoot() method) to true,\nas shown below:</p>\n<pre><code>import { Module } from '@nestjs/common';\nimport { TypeOrmModule } from '@nestjs/typeorm';\n\n@Module({\n  imports: [\n    TypeOrmModule.forRoot({\n      ...\n      autoLoadEntities: true,\n    }),\n  ],\n})\nexport class AppModule {}\n</code></pre>\n</blockquote>\n<p>With that option specified, every entity registered through the forFeature() method will be automatically added to the entities array of the configuration object.</p>\n<p><strong>And make sure that you use correct catalog path for entities dist/src.</strong> and latest NestJs and TypeOrm ver.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 13374138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adeac44ecf3ff7c839dd63bf577072b6?s=128&d=identicon&r=PG&f=1", "display_name": "Rogerio de Souza", "link": "https://stackoverflow.com/users/13374138/rogerio-de-souza"}, "is_accepted": false, "score": 1, "last_activity_date": 1604265571, "creation_date": 1604265571, "answer_id": 64637111, "question_id": 58529950, "link": "https://stackoverflow.com/questions/58529950/import-statement-breaks-typeorm-enitities-when-registered-through-config-json-fi/64637111#64637111", "title": "Import statement breaks typeorm enitities when registered through config.json file", "body": "<p>Problem is caused not just loading entities, but also for migrations and subscribers.</p>\n<p>Your app are looking for entities, migrations and subscribers files on pre-compiled .ts files. So the files contains &quot;imports&quot; not understood by nodejs, it is the cause of your error.</p>\n<p>When typescript compile the code it converts all the imports to requires (understood by node).</p>\n<p>So to stop error at all you should make your configurations on your <strong>ormconfig.json</strong>:</p>\n<pre><code>{\n  &quot;type&quot;: &quot;postgres&quot;,\n  &quot;host&quot;: &quot;localhost&quot;,\n  &quot;port&quot;: 5432,\n  &quot;username&quot;: ****,\n  &quot;password&quot;: ****,\n  &quot;database&quot;: ****,\n  &quot;synchronize&quot;: true,\n  &quot;entities&quot;: [&quot;dist/entity/**/*.js&quot;],\n  &quot;migrations&quot;: [&quot;dist/migration/**/*.js&quot;],\n  &quot;subscribers&quot;: [&quot;dist/subscriber/**/*.js&quot;],\n  &quot;cli&quot;: {\n    &quot;entitiesDir&quot;: &quot;src/entity&quot;,\n    &quot;migrationsDir&quot;: &quot;src/migration&quot;,\n    &quot;subscribersDir&quot;: &quot;src/subscriber&quot;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 8142509, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/422a04bb39f9c3758b3902900e907870?s=128&d=identicon&r=PG&f=1", "display_name": "vvAve", "link": "https://stackoverflow.com/users/8142509/vvave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6173, "favorite_count": 1, "accepted_answer_id": 58531463, "answer_count": 4, "score": 9, "last_activity_date": 1604265571, "creation_date": 1571859676, "question_id": 58529950, "link": "https://stackoverflow.com/questions/58529950/import-statement-breaks-typeorm-enitities-when-registered-through-config-json-fi", "title": "Import statement breaks typeorm enitities when registered through config.json file", "body": "<p>Following official docs, I created small koa/typeorm/postgres app. When I was using <code>createConnection</code> with config, importing entities in the same file, app was working fine, but typeorm cli coudn't find config file so I tried moving config to \"ormconfig.json\". Now I get this error:</p>\n\n<p><code>SyntaxError: Cannot use import statement outside a module</code></p>\n\n<p>It looks as if typeorm isn't able to use es6 features.</p>\n\n<p>My <code>ormconfig.json</code>:</p>\n\n<pre><code>{\n  \"type\": \"postgres\",\n  \"host\": \"localhost\",\n  \"port\": 5432,\n  \"username\": ****,\n  \"password\": ****,\n  \"database\": ****,\n  \"synchronize\": true,\n  \"entities\": [\"src/entity/**/*.ts\"],\n  \"migrations\": [\"src/migration/**/*.ts\"],\n  \"subscribers\": [\"src/subscriber/**/*.ts\"],\n  \"cli\": {\n    \"entitiesDir\": \"src/entity\",\n    \"migrationsDir\": \"src/migration\",\n    \"subscribersDir\": \"src/subscriber\"\n  }\n}\n</code></pre>\n\n<p>My <code>tsconfig.json</code>:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"lib\": [\"es5\", \"es6\"],\n    \"target\": \"es6\",\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"outDir\": \"./dist\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n  },\n  \"exclude\": [\"node_modules\"]\n}\n</code></pre>\n\n<p>File with error:</p>\n\n<pre><code>import {\n  BaseEntity,\n  Column,\n  Entity,\n  PrimaryGeneratedColumn,\n  CreateDateColumn,\n  ManyToOne\n} from 'typeorm';\nimport { IsIn, IsPositive, IsNotEmpty } from 'class-validator';\n\nimport { LOAN_TYPE } from '../consts';\nimport { User } from './user';\n\n@Entity('loans')\nexport class Loan extends BaseEntity {\n  @PrimaryGeneratedColumn()\n  public id: number;\n\n  @CreateDateColumn({ type: 'timestamp' })\n  public createdAt: Date;\n\n  @Column()\n  @IsNotEmpty()\n  @IsPositive()\n  public amount: number;\n\n  @Column({ type: 'enum', enum: LOAN_TYPE })\n  @IsNotEmpty()\n  @IsIn(Object.values(LOAN_TYPE))\n  public type: LOAN_TYPE;\n\n  @Column({ default: false })\n  public approvalStatus: boolean;\n\n  @ManyToOne(type =&gt; User, user =&gt; user.loans)\n  @IsNotEmpty()\n  public user: User;\n}\n\nexport default Loan;\n\n</code></pre>\n"}, {"tags": ["typescript", "null", "isnull"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 3, "creation_date": 1571859283, "post_id": 58529845, "comment_id": 103383601, "body": "&quot;<i>This is not working. TS linter is not smart enough to detect this:</i>&quot; it <b>is</b>. It&#39;s not complaining about <code>referenceNode</code> but <code>referenceNode.parentNode</code> which might be <code>null</code>. Check the <a href=\"https://www.typescriptlang.org/play/?ssl=1&amp;ssc=1&amp;pln=6&amp;pc=1#code/GYVwdgxgLglg9mABDMBnApgJygQWFLACkTHQHcA5OAE3QC5EAJAFQFkAZAUQBt0BbdGCgAaRJnTAsgiOiq0GPfoKiIAlIgYA3ODGqIA3gChDiU8mCJiYEN26IAvI7ESpkWTXRqDJs76gALTDgyRE5MIMxiAHJxCzAPZFQSG24o1QBuH1MAX2NfWNcZOXQAOgAHAENxIWKSlAxsACEJOHErcmLRAuqijxLSAA8oAGUYACNuFABzNUzsoA\" rel=\"nofollow noreferrer\">playground</a> and take a good note of the message and where it comes from."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1571859337, "post_id": 58529845, "comment_id": 103383625, "body": "Yeah, <code>null === referenceNode.parentNode</code> is the test you should do.  You know <code>referenceNode</code> isn&#39;t <code>null</code> because <code>insertAfter</code> doesn&#39;t accept a <code>null</code> value for <code>referenceNode</code>.  But <code>parentNode</code> might be <code>null</code>."}, {"owner": {"reputation": 787, "user_id": 2847723, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/397e4ca07248c1bd078f1dd65df9fb04?s=128&d=identicon&r=PG&f=1", "display_name": "redanimalwar", "link": "https://stackoverflow.com/users/2847723/redanimalwar"}, "edited": false, "score": 0, "creation_date": 1571860223, "post_id": 58529845, "comment_id": 103383974, "body": "You are right its about the Parent node. I am using VScode and its actually underlining both and showing both errors in many cases. If I put code that makes no sense in it it sometimes is only underlines the thing after a dot with &quot;does not exist of type never&quot;. So seems a bug in the linter."}], "answers": [{"tags": [], "owner": {"reputation": 787, "user_id": 2847723, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/397e4ca07248c1bd078f1dd65df9fb04?s=128&d=identicon&r=PG&f=1", "display_name": "redanimalwar", "link": "https://stackoverflow.com/users/2847723/redanimalwar"}, "is_accepted": false, "score": 0, "last_activity_date": 1571860881, "creation_date": 1571860881, "answer_id": 58530198, "question_id": 58529845, "link": "https://stackoverflow.com/questions/58529845/how-to-work-around-object-is-possibly-null-ts2531-error-in-typescript/58530198#58530198", "title": "How to work around Object is possibly &#39;null&#39;.ts(2531) error in TypeScript?", "body": "<p>It was actually about <code>.parentNode</code> as the guys in the comment pointed out. But VScode is buggy about this, it shows both errors.</p>\n\n<p><a href=\"https://i.stack.imgur.com/oz8xr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oz8xr.png\" alt=\"enter image description here\"></a></p>\n\n<p>This solution works:</p>\n\n<pre><code>function insertAfter( newNode: HTMLElement, refNode: Element ) : void {\n\n    if ( null === refNode.parentNode ) {\n        throw Error( 'refNode.parentNode is null');\n    }\n\n    refNode.parentNode.insertBefore( newNode, refNode.nextSibling );\n}\n</code></pre>\n"}], "owner": {"reputation": 787, "user_id": 2847723, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/397e4ca07248c1bd078f1dd65df9fb04?s=128&d=identicon&r=PG&f=1", "display_name": "redanimalwar", "link": "https://stackoverflow.com/users/2847723/redanimalwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1027, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572124375, "creation_date": 1571859188, "last_edit_date": 1572124375, "question_id": 58529845, "link": "https://stackoverflow.com/questions/58529845/how-to-work-around-object-is-possibly-null-ts2531-error-in-typescript", "title": "How to work around Object is possibly &#39;null&#39;.ts(2531) error in TypeScript?", "body": "<p>I have seen <a href=\"https://stackoverflow.com/questions/40349987/how-to-suppress-error-ts2533-object-is-possibly-null-or-undefined\">How to suppress &quot;error TS2533: Object is possibly &#39;null&#39; or &#39;undefined&#39;&quot;?</a>. And other things. This is <strong>not a duplicate!</strong></p>\n\n<p>There are like 3 different ways to <em>suppress</em> this error. I do not want what.  I do not want to disable strict null types either. I want a proper solution to code this properly.</p>\n\n<p>Can I create a new type that is the same as <code>HTMLElement</code> and <code>Element</code> just without null? What will happen at run-time if they are actually null and I just suppress the warning in TS. It feels like a horrible workaround.</p>\n\n<pre><code>function insertAfter( newNode: HTMLElement, referenceNode: Element ) : void {\n\n    referenceNode.parentNode.insertBefore( newNode, referenceNode.nextSibling );\n}\n</code></pre>\n\n<p>This is not working. TS linter is not smart enough to detect this:</p>\n\n<pre><code>function insertAfter( newNode: HTMLElement, referenceNode: Element ) : void {\n\n    if ( null === referenceNode ) {\n        throw Error( 'ref node is null');\n    }\n\n    referenceNode.parentNode.insertBefore( newNode, referenceNode.nextSibling );\n}\n</code></pre>\n\n<p>Found this here: <a href=\"https://rules.sonarsource.com/typescript/RSPEC-2966\" rel=\"nofollow noreferrer\">https://rules.sonarsource.com/typescript/RSPEC-2966</a> also not working. </p>\n\n<pre><code>function insertAfter( newNode: HTMLElement, referenceNode: Element ) : void {\n    if ( referenceNode ) {\n        referenceNode.parentNode.insertBefore( newNode, referenceNode.nextSibling );\n    }\n\n    throw Error( 'ref node is null');\n}\n</code></pre>\n\n<p>I am new to TypeScript but this is the most annoying thing. I hope there is a solution that I just did not find yet.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1571858550, "post_id": 58529640, "comment_id": 103383306, "body": "<i>I can&#39;t get any of the user input using the $event variable</i>: what does that mean? What are you doing precisely (post the code!), what do you expect to happen, and what happens instead? If you want to know is backspace if pressed, then the event should be keypress or keydown, not input. <a href=\"https://developer.mozilla.org/fr/docs/Web/API/KeyboardEvent\" rel=\"nofollow noreferrer\">developer.mozilla.org/fr/docs/Web/API/KeyboardEvent</a>, <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/InputEvent\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/InputEvent</a>"}, {"owner": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "edited": false, "score": 1, "creation_date": 1571858635, "post_id": 58529640, "comment_id": 103383340, "body": "Why do you use (input) at input this makes no sense. Try this instead. <code>(keydown.backspace)=&quot;($event)&quot;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 3835, "user_id": 136054, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0aef03d945bfe5810e2670f794b06f1f?s=128&d=identicon&r=PG", "display_name": "nayakam", "link": "https://stackoverflow.com/users/136054/nayakam"}, "is_accepted": true, "score": 2, "last_activity_date": 1571859575, "last_edit_date": 1571859575, "creation_date": 1571858832, "answer_id": 58529774, "question_id": 58529640, "link": "https://stackoverflow.com/questions/58529640/why-is-my-event-variable-undefined-on-input/58529774#58529774", "title": "Why is my event variable undefined on input?", "body": "<p>Use keydown / keypress/ keyup <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent\" rel=\"nofollow noreferrer\">Keyboardevent</a> to identify the user interaction with keyboard.</p>\n\n<p>Angular event bindings respond to any DOM event. Example usage of keydown event: </p>\n\n<pre><code>  &lt;input (keydown)=\"onKeydown($event)\"&gt;\n\nonKeydown(event) {\n  console.log(\"event.key:\" + event.key)\n  if (event.key === \"Backspace\") {\n    console.log(event);\n  }\n}\n</code></pre>\n\n<p>Other option, Trigger the keydown event for specific key. In the following example, the event will trigger only if the <code>backspace</code> pressed. </p>\n\n<pre><code>&lt;input (keydown.backspace)=\"onKeydownBackspace($event)\"&gt;\n\nonKeydownBackspace(event) {\n  console.log(\"event.key:\" + event.key)\n}\n</code></pre>\n"}], "owner": {"reputation": 442, "user_id": 10316412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fad70ef20b46e67b047bd31c40feaa0?s=128&d=identicon&r=PG&f=1", "display_name": "masu9", "link": "https://stackoverflow.com/users/10316412/masu9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 58529774, "answer_count": 1, "score": -1, "last_activity_date": 1571859575, "creation_date": 1571858201, "question_id": 58529640, "link": "https://stackoverflow.com/questions/58529640/why-is-my-event-variable-undefined-on-input", "title": "Why is my event variable undefined on input?", "body": "<p>HTML:</p>\n\n<p><code>&lt;input (input)=\"test(1, $event)\"&gt;</code></p>\n\n<p>Typescript:</p>\n\n<pre><code>test(index: number, event?) {\n    console.log(event);\n}\n</code></pre>\n\n<p>I'm trying to see if the user hits their backspace key on the input, but I can't get any of the user input using the $event variable. What am I doing wrong?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 810, "user_id": 7988437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/01DqH.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/7988437/akash"}, "reply_to_user": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "edited": false, "score": 0, "creation_date": 1571857908, "post_id": 58529554, "comment_id": 103383069, "body": "@CodeManiac just added the raw text"}, {"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "edited": false, "score": 0, "creation_date": 1571858000, "post_id": 58529554, "comment_id": 103383108, "body": "please post the code you&#39;ve tried so far as well as desired output, which will help you to get exact answer, instead of wild guesses, <code>split(&#39;\u21b5&#39;)</code> seems to do the job isn&#39;t it ?"}, {"owner": {"reputation": 88729, "user_id": 1353011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460d2e9d0a84c78e6a5c141a51eb3ab9?s=128&d=identicon&r=PG", "display_name": "Musa", "link": "https://stackoverflow.com/users/1353011/musa"}, "edited": false, "score": 1, "creation_date": 1571858101, "post_id": 58529554, "comment_id": 103383143, "body": "Are you sure those arrows are in the original text, and not a transformation to display the text. I ask this because <code>\u21b5</code> is used to represent a newline."}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 1, "creation_date": 1571858387, "post_id": 58529554, "comment_id": 103383251, "body": "<code>encodeURIComponent(yourString)</code> and figure out what they are"}, {"owner": {"reputation": 810, "user_id": 7988437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/01DqH.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/7988437/akash"}, "reply_to_user": {"reputation": 88729, "user_id": 1353011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460d2e9d0a84c78e6a5c141a51eb3ab9?s=128&d=identicon&r=PG", "display_name": "Musa", "link": "https://stackoverflow.com/users/1353011/musa"}, "edited": false, "score": 0, "creation_date": 1571858736, "post_id": 58529554, "comment_id": 103383377, "body": "@Musa I just checked again and I think, I completely got confused with that new line symbol to some type of unknown symbol. As I am processing the string and not directly displaying it  in a html element. Thank you pointing this out."}], "answers": [{"comments": [{"owner": {"reputation": 810, "user_id": 7988437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/01DqH.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/7988437/akash"}, "edited": false, "score": 0, "creation_date": 1571858549, "post_id": 58529609, "comment_id": 103383305, "body": "You are right. let me test this quickly and I will accept it. Thank You."}, {"owner": {"reputation": 810, "user_id": 7988437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/01DqH.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/7988437/akash"}, "edited": false, "score": 0, "creation_date": 1571866014, "post_id": 58529609, "comment_id": 103386186, "body": "can you help me with the regex to find the \u21b5&gt; character in the string. as I need to add some css when I see these two character together. And I need to add some other css when I JUST see the newline character \u21b5 alone ( without greater-than sign)."}, {"owner": {"reputation": 810, "user_id": 7988437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/01DqH.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/7988437/akash"}, "edited": false, "score": 0, "creation_date": 1571867514, "post_id": 58529609, "comment_id": 103386647, "body": "actually can you modified your earlier regex(/\\r\\n|\\r|\\n/) to include the &gt; character? I tried , like (\\r\\n&gt;|\\n&gt;|\\r&gt;) , but it is not working for me."}, {"owner": {"reputation": 810, "user_id": 7988437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/01DqH.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/7988437/akash"}, "edited": false, "score": 0, "creation_date": 1571867607, "post_id": 58529609, "comment_id": 103386677, "body": "I am pretty bad with regex."}, {"owner": {"reputation": 1035, "user_id": 5236667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qGI8K.jpg?s=128&g=1", "display_name": "webdevdani", "link": "https://stackoverflow.com/users/5236667/webdevdani"}, "reply_to_user": {"reputation": 810, "user_id": 7988437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/01DqH.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/7988437/akash"}, "edited": false, "score": 1, "creation_date": 1571867903, "post_id": 58529609, "comment_id": 103386774, "body": "That&#39;s why I love regex101.com. Easy testing and explanations of whats going on. If you want a version similar to the regex above but with the <code>&gt;</code>, you could do ``(\\r\\n|\\r|\\n|\u21b5)&gt;` <a href=\"https://regex101.com/r/XueUhQ/2\" rel=\"nofollow noreferrer\">regex101.com/r/XueUhQ/2</a>"}, {"owner": {"reputation": 810, "user_id": 7988437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/01DqH.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/7988437/akash"}, "edited": false, "score": 0, "creation_date": 1571868734, "post_id": 58529609, "comment_id": 103387002, "body": "Thanks for all the help."}], "tags": [], "owner": {"reputation": 1035, "user_id": 5236667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qGI8K.jpg?s=128&g=1", "display_name": "webdevdani", "link": "https://stackoverflow.com/users/5236667/webdevdani"}, "is_accepted": true, "score": 0, "last_activity_date": 1571858062, "creation_date": 1571858062, "answer_id": 58529609, "question_id": 58529554, "link": "https://stackoverflow.com/questions/58529554/split-text-based-on-the-back-arrow-symbol-in-the-text/58529609#58529609", "title": "split text based on the back arrow symbol in the text", "body": "<p>That arrow generally means a 'return' or newline. It's where line breaks are manually entered into the text. If you render this into HTML, it should show with the line breaks. If you want to split the string based on them, you can use regex: <code>str.split(/\\r\\n|\\r|\\n/)</code></p>\n"}], "owner": {"reputation": 810, "user_id": 7988437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/01DqH.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/7988437/akash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 58529609, "answer_count": 1, "score": -2, "last_activity_date": 1571858062, "creation_date": 1571857787, "last_edit_date": 1571857991, "question_id": 58529554, "link": "https://stackoverflow.com/questions/58529554/split-text-based-on-the-back-arrow-symbol-in-the-text", "title": "split text based on the back arrow symbol in the text", "body": "<p>I am getting the below text from an API call with some specific symbol as shown in the \"circle\" in the below image.\nI need to split the text based on this symbol ( back arrow symbol).\nCan someone let me know, what this symbol is?</p>\n\n<p><a href=\"https://i.stack.imgur.com/SGfoO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SGfoO.png\" alt=\"Text to be splitted\"></a></p>\n\n<blockquote>\n  <p>posting row text as requested:</p>\n</blockquote>\n\n<pre><code>\u201cThe endpoint is browser-based, rather than RESTful. Therefore it could \n result in the following different scenarios,\u21b51. SUCCESS \n(response_type=code)\u21b5&gt; redirect_uri?code=&lt;authorization-code&gt;&amp;scope= \n&lt;resource-owner-approved-scopes&gt;[&amp;state=&lt;state-provided-by-the-client&gt;]\u21b52. \nSUCCESS (response_type=token)\u21b5&gt; redirect_uri#token=&lt;access-token&gt;?scope= \n&lt;resource-owner-approved-scopes&gt;[&amp;state=&lt;state-provided-by-the-client&gt;]\u21b53. \nCLIENT_ERROR\u21b5&gt; redirect_uri?error=&lt;standard-error&gt;&amp;error_description= \n&lt;description-of-the-error&gt;\u21b54. FAILURE\u21b5&gt; Resource Owner will be alerted with \nan error page and the OAuth2 flow terminates immediately.\"\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "ui-automation", "cypress"], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 5865114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fce698e0a2ca81f484a6138003ba297?s=128&d=identicon&r=PG", "display_name": "Lukas Lewandowski", "link": "https://stackoverflow.com/users/5865114/lukas-lewandowski"}, "edited": false, "score": 0, "creation_date": 1607961003, "post_id": 58532186, "comment_id": 115429264, "body": "nope it is not working - at least for me :)"}], "tags": [], "owner": {"reputation": 4704, "user_id": 4826215, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/7310fe6e8910075b36ada7e2f572d66b?s=128&d=identicon&r=PG&f=1", "display_name": "soccerway", "link": "https://stackoverflow.com/users/4826215/soccerway"}, "is_accepted": false, "score": -1, "last_activity_date": 1571873264, "creation_date": 1571873264, "answer_id": 58532186, "question_id": 58529292, "link": "https://stackoverflow.com/questions/58529292/how-to-get-the-description-entered-in-describe-block-typescript/58532186#58532186", "title": "How to get the description entered in describe block? (typescript)", "body": "<p>I have tried <code>console.log(\"=======&gt;&gt;&gt;\", Cypress.mocha.getRunner().suite.title)</code> in the <code>beforeEach()</code> section and it is displaying me the suite title name in the console.log(). \nSo can you add <code>Cypress.mocha.getRunner().suite.title</code> and try the below code and let me know if it is working:</p>\n\n<pre><code>Cypress.on('test:after:run', (test, runnable) =&gt; {\nif (test.state === 'failed') {\n    const screenshotFileName = `Cypress.mocha.getRunner().suite.title (failed).png`\n    addContext({ test }, `assets/${Cypress.spec.name}/${screenshotFileName}`)\n}\n})\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Y75lO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y75lO.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 5865114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fce698e0a2ca81f484a6138003ba297?s=128&d=identicon&r=PG", "display_name": "Lukas Lewandowski", "link": "https://stackoverflow.com/users/5865114/lukas-lewandowski"}, "is_accepted": false, "score": 1, "last_activity_date": 1607963805, "creation_date": 1607963805, "answer_id": 65292811, "question_id": 58529292, "link": "https://stackoverflow.com/questions/58529292/how-to-get-the-description-entered-in-describe-block-typescript/65292811#65292811", "title": "How to get the description entered in describe block? (typescript)", "body": "<p>Try something like this:</p>\n<pre><code>Cypress.on('test:after:run', (test, runnable) =&gt; {\nif (test.state === 'failed') {\n    const screenshotFileName = `${Cypress.config('screenshotsFolder')}/${Cypress.spec.name}/${runnable.parent.title} -- ${test.title} (failed).png`\n    addContext({ test }, screenshotFileName)\n}\n</code></pre>\n<p>})</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10251019"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 241, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1607963805, "creation_date": 1571856438, "last_edit_date": 1571856756, "question_id": 58529292, "link": "https://stackoverflow.com/questions/58529292/how-to-get-the-description-entered-in-describe-block-typescript", "title": "How to get the description entered in describe block? (typescript)", "body": "<p>I am using cypress with typescript for my current project, I am in a situation to get the name of a saved screenshot. the screenshot name is automatically saved by cypress which starts with the description given in the describe block.</p>\n\n<p><strong>for example</strong> </p>\n\n<pre><code>describe('Admin Portal', () =&gt; {\n  it('Login Test', () =&gt; {\n\n  });\n});\n</code></pre>\n\n<p>the screenshot will be saved as '<strong>Admin Portal login -- Login Test (failed).png</strong>'</p>\n\n<pre><code>Cypress.on('test:after:run', (test, runnable) =&gt; {\nif (test.state === 'failed') {\n    const screenshotFileName = `${test.title} (failed).png`\n    addContext({ test }, `assets/${Cypress.spec.name}/${screenshotFileName}`)\n}\n</code></pre>\n\n<p>the above line of code is actually retrieving the name defined in the <strong>It</strong> block, how to get the name defined in the <strong>describe</strong> block??</p>\n"}, {"tags": ["angular", "typescript", "angular8"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 1, "creation_date": 1571855714, "post_id": 58529041, "comment_id": 103382170, "body": "<code>But something goes wrong</code> \u2190 What does that mean? What is wrong? Is the value not <code>falsy</code> or is the observable not being created? Also you should import <code>of</code> from <code>rxjs</code> and return an observable using <code>return of(false);</code>"}, {"owner": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1571855905, "post_id": 58529041, "comment_id": 103382255, "body": "@Igor: the wrong is: the component get&#39;s nothing back. The <code>subscribe()</code> does not detect something is returned. And I don&#39;t understand why."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1571856035, "post_id": 58529041, "comment_id": 103382302, "body": "Attach your debugger and step through the method. Is it entered? Does it throw an exception? Where does it exit?"}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 3, "creation_date": 1571856227, "post_id": 58529041, "comment_id": 103382370, "body": "@netdjw - Did you try <code>return of(false)</code>, as suggested by @Igor?"}, {"owner": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1571858968, "post_id": 58529041, "comment_id": 103383477, "body": "@Igor: the <code>return of(false);</code> solved the problem, thank you! @ConnorsFan thank you too!"}], "answers": [{"tags": [], "owner": {"reputation": 99, "user_id": 12240295, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5Div5vM-xKs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfXvnPaPxFdCZYg8dlPVdc_E0BcRQ/photo.jpg?sz=128", "display_name": "Elliot Mendiola", "link": "https://stackoverflow.com/users/12240295/elliot-mendiola"}, "is_accepted": false, "score": 2, "last_activity_date": 1571856953, "creation_date": 1571856953, "answer_id": 58529390, "question_id": 58529041, "link": "https://stackoverflow.com/questions/58529041/how-to-return-in-angular-8-with-observable-and-pipe/58529390#58529390", "title": "How to return in Angular 8 with Observable and pipe()?", "body": "<p>Typically you would address the failure case for invalid data with a thrown error</p>\n\n<pre><code>if (!data.isValid) {\n  // if data is invalid we should return before send datas to server\n  return throwError(new Error('Invalid request'));\n}\n</code></pre>\n\n<p>Then your error condition can catch it and present the error to the user in a way that makes sense</p>\n\n<p>That said your form should be the first line of defense here, it should never even make it to your service if the form is not valid.  I would take the time to look into reactive form validation</p>\n"}], "owner": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1712, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571856953, "creation_date": 1571855438, "question_id": 58529041, "link": "https://stackoverflow.com/questions/58529041/how-to-return-in-angular-8-with-observable-and-pipe", "title": "How to return in Angular 8 with Observable and pipe()?", "body": "<p>I use my own data service in Angular with a <code>save()</code> method witch can run create or update on server side. But before send datas to server it's need to be check datas are valid or not.</p>\n\n<p>If data isn't valid, the communication to the server will not happen.</p>\n\n<p>Here is the code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  save(data: T): Observable&lt;boolean&gt; {\n    const preparedData = JSON.stringify(data.prepareToSave());\n\n    if (!data.isValid) {\n      // if data is invalid we should return before send datas to server\n      return new Observable&lt;T&gt;().pipe(map(() =&gt; false));\n    }\n\n    if (!data.id) {\n      // create\n      return this.http.post(this.url, preparedData, this.options)\n        .pipe(map(() =&gt; true));\n    } else {\n      // update\n      return this.http.put(this.url + '/' + data.id, preparedData, this.options)\n        .pipe(map(() =&gt; true));\n    }\n  }\n</code></pre>\n\n<p>Now if the <code>data</code> isn't valid I need to return an <code>Observable&lt;boolean&gt;</code> with <code>false</code>.</p>\n\n<p>In the component I have this code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  saveDatas() {\n    this.dataService.save(this.customer).subscribe( (resolve: boolean) =&gt; {\n      if (resolve) {\n        // save OK\n      } else {\n        // save failed (1)\n      }\n    }, (error: any) =&gt; {\n      // save failed (2)\n    });\n  }\n</code></pre>\n\n<p>If the save fails because of <code>this.customer.isValid</code> is <code>false</code> then I expect <code>subscribe</code> will get <code>false</code> from dataService. Exactly from this line:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    if (!data.isValid) {\n      // if data is invalid we should return before send datas to server\n      return new Observable&lt;T&gt;().pipe(map(() =&gt; false));\n    }\n</code></pre>\n\n<p>But something goes wrong, and I can't figure out what's the mistake.</p>\n\n<p>Why don't return the data service with <code>false</code>?</p>\n"}, {"tags": ["html", "css", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1418, "user_id": 7934629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f317864efe49007e9393dc29c68b7a8?s=128&d=identicon&r=PG&f=1", "display_name": "Hitech Hitesh", "link": "https://stackoverflow.com/users/7934629/hitech-hitesh"}, "is_accepted": true, "score": 1, "last_activity_date": 1571854916, "creation_date": 1571854916, "answer_id": 58528904, "question_id": 58528576, "link": "https://stackoverflow.com/questions/58528576/how-to-add-mouseover-and-mouseout-on-a-tr/58528904#58528904", "title": "&#39;How to add&#39; mouseover and mouseout on a &lt;tr&gt;?", "body": "<p>You can use mouseover event of the angular</p>\n\n<pre><code> &lt;tr *ngFor = \"let row of tableTwo\" (mouseover)=\"showLinks=true\" (mouseout)=\"showLinks=false\" &gt;\n                        &lt;td scope=\"row\"&gt;{{row.session}}&lt;/td&gt;\n                        &lt;td scope=\"row\" id = \"trigger\" &gt;{{row.nextTrigger}} &lt;/td&gt;\n    &lt;td   *ngIf=\"!showLinks\" scope=\"row\"&gt; View  Edit   Trigger Now links  &lt;/td&gt;     \n &lt;/tr&gt;\n\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 11860449, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wNeTTulsNJ0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcFmyMmApBY6l_Ge_kDm6JutLMNWQ/photo.jpg?sz=128", "display_name": "JCA", "link": "https://stackoverflow.com/users/11860449/jca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 277, "favorite_count": 0, "accepted_answer_id": 58528904, "answer_count": 1, "score": 0, "last_activity_date": 1571854916, "creation_date": 1571853564, "question_id": 58528576, "link": "https://stackoverflow.com/questions/58528576/how-to-add-mouseover-and-mouseout-on-a-tr", "title": "&#39;How to add&#39; mouseover and mouseout on a &lt;tr&gt;?", "body": "<p>I've got a table that I need three different links to show up on the specific row that the mouse is hovering over. The links are \"View\", \"Edit\", and \"Trigger Now\".\nI need this event to happen only on the sessions table.\nHere's my current HTML: </p>\n\n<pre><code>&lt;div&gt;\n    &lt;h1&gt;Manage Workflows&lt;/h1&gt;\n&lt;/div&gt;\n&lt;div class=\"tablez\"&gt;\n        &lt;table class=\"table table-hover\" id = \"groups\"&gt;\n            &lt;thead&gt;\n                &lt;tr&gt;\n                &lt;th scope=\"col\"&gt;Groups&lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/thead&gt;\n            &lt;tbody&gt;\n                &lt;tr *ngFor = \"let row of rows\" (click) = \"onRowClick(row.id)\"&gt;\n                    &lt;td class=\"data\"&gt;{{row.group}}&lt;/td&gt;            \n                &lt;/tr&gt;\n\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n        &lt;table class=\"table\" id = \"sessions\"&gt;\n                &lt;thead&gt;\n                    &lt;tr&gt;\n                    &lt;th scope=\"col\"&gt;Sessions&lt;/th&gt;\n                    &lt;th scope=\"col\" id = \"trigger\"&gt;Next Trigger&lt;/th&gt;\n                    &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                    &lt;tr *ngFor = \"let row of tableTwo\"&gt;\n                        &lt;td scope=\"row\"&gt;{{row.session}}&lt;/td&gt;\n                        &lt;td scope=\"row\" id = \"trigger\" &gt;{{row.nextTrigger}}&lt;/td&gt;                 \n                    &lt;/tr&gt;\n\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n    &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 1750, "user_id": 11640763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tS29l.png?s=128&g=1", "display_name": "stud3nt", "link": "https://stackoverflow.com/users/11640763/stud3nt"}, "is_accepted": false, "score": 0, "last_activity_date": 1571853389, "creation_date": 1571853389, "answer_id": 58528538, "question_id": 58528248, "link": "https://stackoverflow.com/questions/58528248/typescript-array-like-type-with-same-generic-type-between-keys-of-each-item/58528538#58528538", "title": "Typescript array-like type with same generic type between keys of each item", "body": "<p>Maybe you can try something like below. I'm not 100% sure if it correct, but it works for the scenario which you have mentioned above.</p>\n\n<pre><code>interface type1 {\n    arg1: Array&lt;string&gt;,\n    arg2: Array&lt;string&gt;\n}\n\ninterface type2 {\n    arg1: Array&lt;number&gt;,\n    arg2: Array&lt;number&gt;\n}\n\nvar t = function Test(arg: type1 | type2) {\n    alert(arg.arg1);\n    alert(arg.arg2);\n}\n\nvar arg = { arg1: [2], arg2: [1]};\nt(arg);\n</code></pre>\n\n<p>Let me know your thoughts.</p>\n"}, {"comments": [{"owner": {"reputation": 4157, "user_id": 2115971, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/zkMcT.jpg?s=128&g=1", "display_name": "richbai90", "link": "https://stackoverflow.com/users/2115971/richbai90"}, "edited": false, "score": 0, "creation_date": 1571853910, "post_id": 58528612, "comment_id": 103381394, "body": "This is the best answer in my opinion"}, {"owner": {"reputation": 2690, "user_id": 96342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01adc1300bba8ca75320b6171c335edc?s=128&d=identicon&r=PG", "display_name": "arshaw", "link": "https://stackoverflow.com/users/96342/arshaw"}, "edited": false, "score": 0, "creation_date": 1572381904, "post_id": 58528612, "comment_id": 103540134, "body": "Agree, this is the best answer because it handles any type, not just strings or numbers"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1571853683, "creation_date": 1571853683, "answer_id": 58528612, "question_id": 58528248, "link": "https://stackoverflow.com/questions/58528248/typescript-array-like-type-with-same-generic-type-between-keys-of-each-item/58528612#58528612", "title": "Typescript array-like type with same generic type between keys of each item", "body": "<p>You can get something like this to work using generics and mapped types. We will use a type parameter to capture the actual type of the parameter (whatever that is, even if is does contain invalid initial/final pairs). We then transform this type to a new type where <code>finalValue</code> is typed according to the actual <code>initialValue</code> passed in. We use this new type in with an intersection in the parameter type. This will mean that the type of the parameter is inferred into the type parameter but checked against out transformed type:</p>\n\n<pre><code>type FinalValues&lt;T extends Array&lt;{ initialValue: any }&gt;&gt; = {\n    [P in keyof T]: T[P] extends { initialValue: infer I } ? { initialValue: I, finalValue: I }: never \n}\n\nfunction myFunc&lt;T extends [{ initialValue: any }] | Array&lt;{ initialValue: any }&gt;&gt;(v: T &amp; FinalValues&lt;T&gt;): FinalValues&lt;T&gt; {\n\n}\n\nmyFunc([\n  {\n    initialValue: 6, // number\n    finalValue: 8    // number\n  },\n  {\n    initialValue: 'hello', // string\n    finalValue: 'goodbye'  // string\n  }\n])\n\nmyFunc([\n  {\n    initialValue: 6, // number\n    finalValue: \"string\"    // err\n  },\n  {\n    initialValue: 'hello', // string\n    finalValue: 1  // err\n  }\n])\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/?ssl=29&amp;ssc=3&amp;pln=1&amp;pc=1#code/C4TwDgpgBAYglgOwIYBsBqqCuEDOAeAFSggA9gIEATHKAQQCd6kQ8BvKROYOVDFbAFxQkCEFAC+APklQAvFFYAoKCqgBtAAocEUANYQQAewBmUAgF0hBTeeJkK1Bdq490WCEMTGI9KAEkJKAB+J05uXnchPwAaKGNECP4PfwkhBAgANx8oRXFFRWNMBABjbkMdAFsQGCLiwjtyKho1djDXPkFhUQlbAB86RmY2Z3C3JKERMSlJAAoMqygAMlgEsex8AkkASiF4ZDXcQhklXPyqmpKZtWUFG5U2xM6ANliAeleoBEwKgCMfO7iqw6yQAHKooO9Pt8-vQbuJojclOCHgchAByAAWEBQKEMaLeHxwwHoiAA5gD4vtgejSYZDJQfiAIGiVJCiSSEOSVHlzFsztValdEQCUdSoC8IR8vr9-uDKY9kgAidlkxXgyE+WHchEqJGqUWRKCY7G4-GSqAqzkUoGGgCMrI+mrhil5QA\" rel=\"nofollow noreferrer\">Play</a></p>\n\n<p>You could also be a bit more creative and add a sort of custom error so that the the errors are more readable: <a href=\"https://www.typescriptlang.org/play/?ssl=8&amp;ssc=105&amp;pln=8&amp;pc=121#code/C4TwDgpgBAYglgOwIYBsBqqCuEDOAeAFSggA9gIEATHKAQQCd6kQ8BvKROYOVDFbAFxQkCEFAC+APklQAvFFYAoKCqgBtAAocEUANYQQAewBmUAgF0hBTeeJkK1Bdq490WCEMTGI9KAEkAGihjRF53TwRvXxgJKAB+BWVVZM5uMP4PfwCk5JUQ5DcMoRjScioaP3jYKCE1ACICcGgTZ2B07CgACjqgwKg6gEoOGgRDYGEcHDgAc2QAIxRoYEMoYAALJaaoFvXofNQoADd3Lp7YIMG68xzYoQQIQ58oRXFFRWNMBABjbkMdAFsQDBPl9CHYyo41OxUq4+IJhKIJLYAD50RjMNitWHhBFiKSSTqHKxQABksFChWw+AIkiGSheb0BwO+nTUSSUKQQLnamQAbEEAPQCqAITD-OY+G77SmZAAcySFIrFEvoSXE2RUHNUMJ5QgA5BsUChDHrBcKcMB6IhplKKXDMnrpoZDJQ5iAIHqVIqLVaEDaVK9zANGUCQaz2TcdTKhPyoIrReLJclpfahHUfda6grhT5VQGNYlOdzo1ADRAjSazVAM37bQVU1AAIxenOMNWKINAA\" rel=\"nofollow noreferrer\">Play</a></p>\n"}, {"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1571854187, "post_id": 58528651, "comment_id": 103381515, "body": "In reading of the question, the request is to corelate <code>initialValue</code> with <code>finalValue</code>, they could be different between items but they have to be the same with an item. This will not work id the type is different between items"}, {"owner": {"reputation": 4157, "user_id": 2115971, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/zkMcT.jpg?s=128&g=1", "display_name": "richbai90", "link": "https://stackoverflow.com/users/2115971/richbai90"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1571854762, "post_id": 58528651, "comment_id": 103381787, "body": "Yep, I noticed that on a second reading, that&#39;s why I upvoted your answer."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1571854826, "post_id": 58528651, "comment_id": 103381815, "body": "Wops, didn&#39;t notice that was you, my bad \ud83d\ude0a"}], "tags": [], "owner": {"reputation": 4157, "user_id": 2115971, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/zkMcT.jpg?s=128&g=1", "display_name": "richbai90", "link": "https://stackoverflow.com/users/2115971/richbai90"}, "is_accepted": false, "score": 0, "last_activity_date": 1571853852, "creation_date": 1571853852, "answer_id": 58528651, "question_id": 58528248, "link": "https://stackoverflow.com/questions/58528248/typescript-array-like-type-with-same-generic-type-between-keys-of-each-item/58528651#58528651", "title": "Typescript array-like type with same generic type between keys of each item", "body": "<p>Using generics you can achieve this like so:</p>\n\n<pre><code>const myFn = &lt;T&gt;(args: { [p: string]: T }[]) =&gt; {\n\n}\n\nmyFn&lt;string&gt;([\n    {someArg: 'foo', someOtherArg: 'bar'}\n])\n\nmyFn&lt;number&gt;([\n    {\n        someArg: 5,\n        someOtherArg: 9,\n    }\n])\n\n// ERROR\nmyFn&lt;string&gt;([\n    {\n        someArg: 'asdf',\n        someOtherArg: 5,\n    }\n])\n</code></pre>\n\n<p>If you know your objects should only have specific arguments you can do the same thing with a more specific typing like so</p>\n\n<pre><code>const myFn = &lt;T&gt;(args: { initialValue: T, finalValue: T }[]) =&gt; {\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13146, "user_id": 243192, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UmXVb.png?s=128&g=1", "display_name": "Rengers", "link": "https://stackoverflow.com/users/243192/rengers"}, "is_accepted": false, "score": 0, "last_activity_date": 1571856454, "creation_date": 1571856454, "answer_id": 58529295, "question_id": 58528248, "link": "https://stackoverflow.com/questions/58528248/typescript-array-like-type-with-same-generic-type-between-keys-of-each-item/58529295#58529295", "title": "Typescript array-like type with same generic type between keys of each item", "body": "<p>Another way of achieving something like this is to use classes.</p>\n\n<p>The downside is that it does not exactly replicate what you want, it comes pretty close though. The upside is that is is very straightforward and easy to understand.</p>\n\n<pre><code>class Arg&lt;T&gt; {\n    initialValue: T\n    finalValue: T\n\n    constructor({ initialValue, finalValue }: { initialValue: T, finalValue: T }) {\n        this.initialValue = initialValue\n        this.finalValue = finalValue\n    }\n}\n\nfunction myFunc(input: Arg&lt;unknown&gt;[]) {\n\n}\n\nmyFunc([\n    new Arg({\n        initialValue: 6, // number\n        finalValue: 8    // number\n    }),\n    new Arg({\n        initialValue: 'hello', // string\n        finalValue: 'goodbye'    // string\n    }),\n])\n\nmyFunc([\n  new Arg({\n    initialValue: 6, // number\n    finalValue: 'string' // ERROR\n  }),\n])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 604, "user_id": 11279581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CW8mt.jpg?s=128&g=1", "display_name": "MrRobboto", "link": "https://stackoverflow.com/users/11279581/mrrobboto"}, "edited": false, "score": 1, "creation_date": 1571869814, "post_id": 58531633, "comment_id": 103387274, "body": "I agree with your solution for being much simpler and more straightforward for other developers to read and understand."}], "tags": [], "owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "is_accepted": false, "score": 1, "last_activity_date": 1571868938, "creation_date": 1571868938, "answer_id": 58531633, "question_id": 58528248, "link": "https://stackoverflow.com/questions/58528248/typescript-array-like-type-with-same-generic-type-between-keys-of-each-item/58531633#58531633", "title": "Typescript array-like type with same generic type between keys of each item", "body": "<p>Solution is to define list element type as a sum type which member or two strings or two numbers.</p>\n\n<pre><code>type A = {\n  initialValue: number\n  finalValue: number\n}\ntype B = {\n  initialValue: string\n  finalValue: string\n}\n\ntype ListAB = (A | B) [] // type contains or A(two numbers) or B(two strings)\n\n</code></pre>\n\n<p>Now the array with the type <code>ListAB</code> is strictly typed by Sum <code>A | B</code>. Example usage:</p>\n\n<pre><code>\nfunction myFunc(list: ListAB) {\n  // implementation\n}\n\n// correct\nmyFunc([\n  {\n    initialValue: 6, // number\n    finalValue: 8    // number\n  },\n  {\n    initialValue: 'hello', // string\n    finalValue: 'goodbye'  // string\n  }\n])\n\n// will have error\nmyFunc([\n  {\n    initialValue: 6, // number\n    finalValue: 'a'    // string\n  },\n  {\n    initialValue: 1, // number\n    finalValue: 'goodbye'  // string\n  }\n])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 604, "user_id": 11279581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CW8mt.jpg?s=128&g=1", "display_name": "MrRobboto", "link": "https://stackoverflow.com/users/11279581/mrrobboto"}, "is_accepted": false, "score": 0, "last_activity_date": 1571869661, "creation_date": 1571869661, "answer_id": 58531736, "question_id": 58528248, "link": "https://stackoverflow.com/questions/58528248/typescript-array-like-type-with-same-generic-type-between-keys-of-each-item/58531736#58531736", "title": "Typescript array-like type with same generic type between keys of each item", "body": "<p>I upvoted Maciej's post as it's complete and you probably want to get into defining your types.</p>\n\n<p>Just to offer a quick and dirty solution along the same lines (this definitely seems like the way for me, simpler solution, straightforward). I would do types like Maciej though...</p>\n\n<pre><code>public myFunc(arr: ({ initialValue: string, finalValue: string } | { initialValue: number, finalValue: number })[])\n</code></pre>\n"}], "owner": {"reputation": 2690, "user_id": 96342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01adc1300bba8ca75320b6171c335edc?s=128&d=identicon&r=PG", "display_name": "arshaw", "link": "https://stackoverflow.com/users/96342/arshaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 1, "accepted_answer_id": 58528612, "answer_count": 6, "score": 2, "last_activity_date": 1572381981, "creation_date": 1571852166, "last_edit_date": 1572381981, "question_id": 58528248, "link": "https://stackoverflow.com/questions/58528248/typescript-array-like-type-with-same-generic-type-between-keys-of-each-item", "title": "Typescript array-like type with same generic type between keys of each item", "body": "<p>I'd like to write a typescript function that accepts arguments like this:</p>\n\n<pre><code>myFunc([\n  {\n    initialValue: 6, // number\n    finalValue: 8    // number\n  },\n  {\n    initialValue: 'hello', // string\n    finalValue: 'goodbye'  // string\n  }\n])\n</code></pre>\n\n<p>But will fail if given this:</p>\n\n<pre><code>myFunc([\n  {\n    initialValue: 6, // number\n    finalValue: 'goodbye' // should fail because not a number!\n  }\n])\n</code></pre>\n\n<p>It feels like the solution should entail generics, but generics that are generic <em>within each array item</em>, not generic across the whole array.</p>\n\n<p><strong>EDIT</strong>: I'd like a solution that works with ANY type of value, not just strings or integers. I will likely need to use this for classes/functions as well.</p>\n"}, {"tags": ["javascript", "node.js", "json", "typescript", "aws-lambda"], "answers": [{"tags": [], "owner": {"reputation": 13146, "user_id": 243192, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UmXVb.png?s=128&g=1", "display_name": "Rengers", "link": "https://stackoverflow.com/users/243192/rengers"}, "is_accepted": false, "score": 1, "last_activity_date": 1571853335, "creation_date": 1571853335, "answer_id": 58528522, "question_id": 58528234, "link": "https://stackoverflow.com/questions/58528234/node-typescript-json-undefined-when-using-bracket-notation/58528522#58528522", "title": "Node Typescript: JSON undefined when using bracket notation", "body": "<p>The reason this doesn't work is because Typescript infers the value for <code>env</code> to be of type <code>string</code>, which means it can be any string value. You can see this when you inspect <code>typeof config</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/snsnN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/snsnN.png\" alt=\"enter image description here\"></a></p>\n\n<p>Because Typescript thinks that <code>env</code> can be any string value, it throws an error. What would happen for example if you compiled this code, but then changed the <code>env</code> value to be \"foobar\"? The code would throw, and Typescript guards you from this.</p>\n"}, {"tags": [], "owner": {"reputation": 4573, "user_id": 1832330, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/tX0As.jpg?s=128&g=1", "display_name": "zhuber", "link": "https://stackoverflow.com/users/1832330/zhuber"}, "is_accepted": false, "score": 1, "last_activity_date": 1571856888, "creation_date": 1571856888, "answer_id": 58529379, "question_id": 58528234, "link": "https://stackoverflow.com/questions/58528234/node-typescript-json-undefined-when-using-bracket-notation/58529379#58529379", "title": "Node Typescript: JSON undefined when using bracket notation", "body": "<p>I'd suggest creating <code>config</code> folder</p>\n\n<pre><code>config/\n  settings.dev.json\n  settings.prod.json\n  index.js\n\n// index.js\nmodule.exports = function(){\n    switch(process.env.NODE_ENV){\n        case 'development':\n            return require('./settings.dev.json');\n\n        case 'production':\n            return require('./settings.prod.json');\n\n        default:\n            return {error or other settings};\n    }\n};\n</code></pre>\n\n<p>If you want to use approach you can do it this way:</p>\n\n<pre><code>enum Enivornment {\n  Dev = \"dev\",\n  Aws = \"aws\"\n}\n\ntype Config = {\n  \"env\": Enivornment,\n} &amp; {\n  [key in Enivornment]: ConfigItem\n}\n\n// this will help you have all environments in sync\ntype ConfigItem = {\n  \"url\": string\n} \n\nconst config: Config = {\n    \"env\": Enivornment.Dev,\n    [Enivornment.Dev]: {\n        \"url\": \"url1\"\n    },\n    [Enivornment.Aws]:{\n        \"url\": \"url2\"\n    }\n}\n</code></pre>\n\n<p>You can test it <a href=\"https://www.typescriptlang.org/play/index.html?ssl=26&amp;ssc=1&amp;pln=1&amp;pc=1#code/KYOwrgtgBAoiCWA3A9gJxBUAXKBvAUFFACLCJQC8UARACZnUA0hUAggO4DOlNAhl9XwBffPiwBPAA7AoAYWQgAZvADmPAkWqhE1AFywEKdJhBZmQqADI8LANoBrYOKjwQBpGgzYAuvvlLVAEksYAhhUQB6CKgsAAt4bnZ4ABtkqFjgZMkocWQwdN5EGV5UqG14VAUTLG5XKE5xEABjMSkZf2UVYND1FmowVGS9eqxUVxVhKFEmhU4cGYCVPwVO3qJNbWG4D2NsADpSRGZ1qFttoy9TA7JfGxOT-sHhx+SARkEToWP1s8NPar2HE4vg0900AyG+heACYPusRCJ8AtOrZkao9tpvHsIUA\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 28, "user_id": 8121432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14657001bac124e95f0be8720ba437ee?s=128&d=identicon&r=PG&f=1", "display_name": "RetepTrun", "link": "https://stackoverflow.com/users/8121432/reteptrun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 324, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1571856888, "creation_date": 1571852128, "question_id": 58528234, "link": "https://stackoverflow.com/questions/58528234/node-typescript-json-undefined-when-using-bracket-notation", "title": "Node Typescript: JSON undefined when using bracket notation", "body": "<p>I have a node project with typescript and I'm trying to read the right url from a json object.\nHowever when using square bracket notation I get undefined.</p>\n\n<pre><code>{\n    \"env\":\"dev\",\n    \"dev\":{\n        \"url\": \"url1\"\n    },\n    \"aws\":{\n        \"url\": \"url2\"\n    }\n}\n</code></pre>\n\n<p>For some reason this does not work:</p>\n\n<pre><code>const url = config[config.env].url;\n</code></pre>\n\n<p>The code below accomplishes what I need, but it is not as flexible as the above and I want to understand why it does not work the other way.</p>\n\n<pre><code>const cenv:string = config.env;\n    let url=null;\n    if( cenv === \"dev\")\n        url = config[\"dev\"].url;\n    else\n        url = config[\"aws\"].url;\n</code></pre>\n\n<p>This is my tsconfig file:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"lib\": [\n      \"es2017\"\n    ],\n    \"moduleResolution\": \"node\",\n    \"noUnusedLocals\": true,\n    \"noUnusedParameters\": true,\n    \"sourceMap\": true,\n    \"target\": \"es2017\",\n    \"outDir\": \"lib\",\n    \"resolveJsonModule\": true\n  },\n  \"exclude\": [\n    \"node_modules\"\n  ]\n}\n</code></pre>\n\n<p>The json is imported to the project like so:</p>\n\n<pre><code>import * as config from './config.json';\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "eslint"], "comments": [{"owner": {"reputation": 16053, "user_id": 1458413, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bc610c6d3b002273accb42820b3be34d?s=128&d=identicon&r=PG", "display_name": "Lux", "link": "https://stackoverflow.com/users/1458413/lux"}, "edited": false, "score": 0, "creation_date": 1571851550, "post_id": 58527904, "comment_id": 103380438, "body": "if only chaining is possible you could verify it with typescript. but otherwise you cant, since there is no static way to ever know if a was called before"}, {"owner": {"reputation": 3055, "user_id": 2831663, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e47e21eab99a99158a077632a79218cb?s=128&d=identicon&r=PG&f=1", "display_name": "kun", "link": "https://stackoverflow.com/users/2831663/kun"}, "reply_to_user": {"reputation": 16053, "user_id": 1458413, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bc610c6d3b002273accb42820b3be34d?s=128&d=identicon&r=PG", "display_name": "Lux", "link": "https://stackoverflow.com/users/1458413/lux"}, "edited": false, "score": 0, "creation_date": 1571851910, "post_id": 58527904, "comment_id": 103380585, "body": "@Lux could you elaborate more on how to verify it with typescript?"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11385347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UW12G.jpg?s=128&g=1", "display_name": "Nuramin Shaikh", "link": "https://stackoverflow.com/users/11385347/nuramin-shaikh"}, "is_accepted": false, "score": -2, "last_activity_date": 1571850945, "creation_date": 1571850945, "answer_id": 58527944, "question_id": 58527904, "link": "https://stackoverflow.com/questions/58527904/how-to-make-a-custom-eslint-rule-to-check-if-a-method-is-called-before-another/58527944#58527944", "title": "How to make a custom eslint rule to check if a method is called before another?", "body": "<p>A module is a npm bundle that typically fares rules. Some modules additionally send out at least one named arrangements. Ensure the bundle has been introduced to a catalog where ESLint can require it.</p>\n"}, {"tags": [], "owner": {"reputation": 16053, "user_id": 1458413, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bc610c6d3b002273accb42820b3be34d?s=128&d=identicon&r=PG", "display_name": "Lux", "link": "https://stackoverflow.com/users/1458413/lux"}, "is_accepted": true, "score": 1, "last_activity_date": 1571853187, "creation_date": 1571853187, "answer_id": 58528484, "question_id": 58527904, "link": "https://stackoverflow.com/questions/58527904/how-to-make-a-custom-eslint-rule-to-check-if-a-method-is-called-before-another/58528484#58528484", "title": "How to make a custom eslint rule to check if a method is called before another?", "body": "<p>If you only want to allow the chain you can enforce this by typescript.</p>\n\n<p>Basically with typescript you can type it like this:</p>\n\n<pre><code>interface FullA {\n    a(): FullA;\n    b(): FullA;\n}\ninterface ABeforeB {\n    b(): FullA;\n}\n</code></pre>\n\n<p>and just type you class as <code>ABeforeA</code> instead of <code>FullA</code>.</p>\n\n<p>However if you want to allow this:</p>\n\n<pre><code>c.b();\nc.a();\n</code></pre>\n\n<p>There is <em>no way</em> to check this at compile time. The only way to check if <code>a()</code> is called before <code>b()</code> is to <em>execute the programm</em>.</p>\n\n<p>A short example why this is the case: Assume this program:</p>\n\n<pre><code>const c = new A();\nif(Math.random() &gt; .5) {\n  c.b();\n}\nc.a();\n</code></pre>\n\n<p>In this case in 50% of the cases you will have in error, in 50% of the cases it will work fine. And the <code>if</code> clause could be arbitrary complex.</p>\n"}], "owner": {"reputation": 3055, "user_id": 2831663, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e47e21eab99a99158a077632a79218cb?s=128&d=identicon&r=PG&f=1", "display_name": "kun", "link": "https://stackoverflow.com/users/2831663/kun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 58528484, "answer_count": 2, "score": 0, "last_activity_date": 1571853187, "creation_date": 1571850724, "question_id": 58527904, "link": "https://stackoverflow.com/questions/58527904/how-to-make-a-custom-eslint-rule-to-check-if-a-method-is-called-before-another", "title": "How to make a custom eslint rule to check if a method is called before another?", "body": "<p>I have a class, Is it possible to have a eslint rule to check if b() is called before developer calls a()? </p>\n\n<pre><code>class A {\n  a(){return this}\n  b(){return this}\n}\nconst c= new A();\nc.a() // warning: b() has to be called before a()\nc.b().a() // no eslint warning\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "types"], "comments": [{"owner": {"reputation": 175, "user_id": 12238521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8973288c73d093449946af4d2544c52e?s=128&d=identicon&r=PG&f=1", "display_name": "krmckone", "link": "https://stackoverflow.com/users/12238521/krmckone"}, "edited": false, "score": 2, "creation_date": 1571851102, "post_id": 58527645, "comment_id": 103380226, "body": "Is there anything wrong with writing <code>string[]</code> as the type?"}, {"owner": {"reputation": 339, "user_id": 11967117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3c9789313201e94bf6691792ed487a3?s=128&d=identicon&r=PG&f=1", "display_name": "mangokitty", "link": "https://stackoverflow.com/users/11967117/mangokitty"}, "reply_to_user": {"reputation": 175, "user_id": 12238521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8973288c73d093449946af4d2544c52e?s=128&d=identicon&r=PG&f=1", "display_name": "krmckone", "link": "https://stackoverflow.com/users/12238521/krmckone"}, "edited": false, "score": 0, "creation_date": 1571851205, "post_id": 58527645, "comment_id": 103380277, "body": "That works, must have over complicated it by discarding String from reading Typescript&#39;s definition of a string. Thank you."}], "answers": [{"tags": [], "owner": {"reputation": 1603, "user_id": 4716488, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/gfPgZ.jpg?s=128&g=1", "display_name": "ethane", "link": "https://stackoverflow.com/users/4716488/ethane"}, "is_accepted": false, "score": 2, "last_activity_date": 1571852418, "last_edit_date": 1571852418, "creation_date": 1571851257, "answer_id": 58528019, "question_id": 58527645, "link": "https://stackoverflow.com/questions/58527645/how-to-specify-an-array-of-characters-in-typescript/58528019#58528019", "title": "How to specify an array of characters in TypeScript", "body": "<p>You could use an <code>enum</code> to do it, but if you don't want the run-time code or the indirection provided by enums then another way you could do this is define a custom string type union for your characters:</p>\n\n<pre><code>type Char = 'c' | 'a' | 'k' | 'e' | ' ' | 'p' | 'o' | 'u' | 'n' | 'd' | ' ' | 's' | 't' | 'e' | 'a' | 'l';\n\nconst messageOk: Char[] = [ 'c', 'a', 'k', 'e', ' ',\n            'p', 'o', 'u', 'n', 'd', ' ',\n            's', 't', 'e', 'a', 'l' ]; // OK!\n\nconst messageNotOk: Char[] = [ 'c', 'a', 'k', 'e', ' ',\n            'p', 'o', 'u', 'n', 'd', ' ',\n            's', 't', 'e', 'a', 'l', 'x' ]; // Not OK! x does not exist on type Char\n\nfunction reverseWords(wordArray : Char[]): Char[] {\n   ...\n}\n</code></pre>\n\n<p>This is almost like an <code>enum</code> in that each string in this union is a type on its own and is only assignable to that string. </p>\n"}], "owner": {"reputation": 339, "user_id": 11967117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3c9789313201e94bf6691792ed487a3?s=128&d=identicon&r=PG&f=1", "display_name": "mangokitty", "link": "https://stackoverflow.com/users/11967117/mangokitty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 286, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571852418, "creation_date": 1571849545, "last_edit_date": 1571850148, "question_id": 58527645, "link": "https://stackoverflow.com/questions/58527645/how-to-specify-an-array-of-characters-in-typescript", "title": "How to specify an array of characters in TypeScript", "body": "<p>I need to pass this array into my function using Typescript:</p>\n\n<pre><code>  const message = [ 'c', 'a', 'k', 'e', ' ',\n                'p', 'o', 'u', 'n', 'd', ' ',\n                's', 't', 'e', 'a', 'l' ];\n\n</code></pre>\n\n<p>As TypeScript doesn't have a type for a fixed length character, I'm not sure what is the best way to pass in the array to my function.</p>\n\n<p>Right now I'm calling it like this but I want to do it in a better way</p>\n\n<pre><code>function reverseWords(wordArray :any[]): any[]{\n\n}\n</code></pre>\n\n<p>I also tried using generics to make sure the input and output were the same but got the error\n\"Type 'string' is not assignable to type 'T'\"</p>\n\n<pre><code>function reverseWords&lt;T&gt;(wordArray: Array&lt;T&gt;): Array&lt;T&gt; {\n  return [\"c\", \"a\", \"k\", \"e\"];\n}\n\n</code></pre>\n\n<p>Thanks so much for any guidance on this, I'm clearly new to Type Script.</p>\n"}, {"tags": ["typescript", "ecmascript-6", "electron", "ecma"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1571847301, "post_id": 58527067, "comment_id": 103378524, "body": "If your project directory layout is relatively standard paths that include <code>src</code> are going to break in production. I think you need to specify <code>&quot;rootDir&quot;: &quot;src&quot;</code>"}, {"owner": {"reputation": 4673, "user_id": 310297, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/f2b790c7244df43c34434dedcf31fe18?s=128&d=identicon&r=PG", "display_name": "Jazzepi", "link": "https://stackoverflow.com/users/310297/jazzepi"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1571847819, "post_id": 58527067, "comment_id": 103378768, "body": "@AluanHaddad electron-builder had src excluded (I think) so I&#39;m going to remove that from exclusion and see if it  packages it up and works."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1571847968, "post_id": 58527067, "comment_id": 103378841, "body": "Ok but you should use rootDir if you use outDir"}, {"owner": {"reputation": 4673, "user_id": 310297, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/f2b790c7244df43c34434dedcf31fe18?s=128&d=identicon&r=PG", "display_name": "Jazzepi", "link": "https://stackoverflow.com/users/310297/jazzepi"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1571848357, "post_id": 58527067, "comment_id": 103379037, "body": "@AluanHaddad Those sound like webpack directives? I don&#39;t think I&#39;m using webpack?"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1571848609, "post_id": 58527067, "comment_id": 103379145, "body": "negative, I&#39;m talking about tsconfig.json. I looked at your project and you have specified rootDir"}], "answers": [{"tags": [], "owner": {"reputation": 4673, "user_id": 310297, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/f2b790c7244df43c34434dedcf31fe18?s=128&d=identicon&r=PG", "display_name": "Jazzepi", "link": "https://stackoverflow.com/users/310297/jazzepi"}, "is_accepted": true, "score": 0, "last_activity_date": 1571848439, "creation_date": 1571848439, "answer_id": 58527397, "question_id": 58527067, "link": "https://stackoverflow.com/questions/58527067/how-can-i-import-es-user-modules-used-in-renderer-process-into-electron-main-p/58527397#58527397", "title": "How can I import ES user modules (used in renderer process) into Electron main process", "body": "<p><code>electron-builder.json</code> had an entry for \"!src/\" telling it to ignore that folder. I'm sure this made my executable bigger but I don't care about packing up a few extra text files.</p>\n\n<p>Removing the <code>\"!src/\",</code> fixed the production runtime problem! Woot.</p>\n\n<pre><code>    \"files\": [\n        \"**/*\",\n        \"!**/*.ts\",\n        \"!*.code-workspace\",\n        \"!LICENSE.md\",\n        \"!package.json\",\n        \"!package-lock.json\",\n        \"!src/\",\n        \"!e2e/\",\n        \"!hooks/\",\n        \"!angular.json\",\n        \"!_config.yml\",\n        \"!karma.conf.js\",\n        \"!tsconfig.json\",\n        \"!tslint.json\"\n    ],\n</code></pre>\n"}], "owner": {"reputation": 4673, "user_id": 310297, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/f2b790c7244df43c34434dedcf31fe18?s=128&d=identicon&r=PG", "display_name": "Jazzepi", "link": "https://stackoverflow.com/users/310297/jazzepi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 58527397, "answer_count": 1, "score": 0, "last_activity_date": 1571848439, "creation_date": 1571847020, "question_id": 58527067, "link": "https://stackoverflow.com/questions/58527067/how-can-i-import-es-user-modules-used-in-renderer-process-into-electron-main-p", "title": "How can I import ES user modules (used in renderer process) into Electron main process", "body": "<p><a href=\"https://github.com/Jazzepi/bunny-tracker\" rel=\"nofollow noreferrer\">https://github.com/Jazzepi/bunny-tracker</a></p>\n\n<p>I'm working on a small localized database for a nonprofit Ohio House Rabbit Rescue (they're great) and I'm struggling with the deployed version of the Electron application.</p>\n\n<p>When I pass messages from the renderer to the main process often times I pass entire Typescript objects. I would like to use those Typescript definitions in the main process without replicating them by hand. You can see those imports here. Anything that comes from an import starting with <code>./src/</code> is pulling from ES \"user\" modules.</p>\n\n<p><a href=\"https://github.com/Jazzepi/bunny-tracker/blob/master/main.ts\" rel=\"nofollow noreferrer\">https://github.com/Jazzepi/bunny-tracker/blob/master/main.ts</a></p>\n\n<pre><code>import { app, BrowserWindow, ipcMain, Menu, MenuItem, MenuItemConstructorOptions, screen, shell } from 'electron';\nimport * as path from 'path';\nimport * as url from 'url';\nimport * as moment from 'moment';\nimport Bunny from './src/app/entities/Bunny';\nimport * as sqlite from 'sqlite';\nimport { Database } from 'sqlite';\nimport * as log from 'electron-log';\nimport SQL from 'sql-template-strings';\nimport IPC_EVENT from './src/app/ipcEvents';\nimport GENDER from './src/app/entities/Gender';\nimport RESCUE_TYPE from './src/app/entities/RescueType';\n</code></pre>\n\n<p>The error I get when running the production-ready app image is this. I get this image in Linux using app-image and in Mac using a dmg.</p>\n\n<pre><code>ohrr@ohrr:~/repos/bunny-tracker$ release/bunny-tracker-2.0.0-x86_64.AppImage \nA JavaScript error occurred in the main process\nUncaught Exception:\nError: Cannot find module './src/app/ipcEvents'\nRequire stack:\n- /tmp/.mount_bunny-45gwlx/resources/app.asar/main.js\n- \n    at Module._resolveFilename (internal/modules/cjs/loader.js:659:15)\n    at Function.Module._resolveFilename (/tmp/.mount_bunny-45gwlx/resources/electron.asar/common/reset-search-paths.js:43:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:577:27)\n    at Module.require (internal/modules/cjs/loader.js:715:19)\n    at require (internal/modules/cjs/helpers.js:14:16)\n    at Object.&lt;anonymous&gt; (/tmp/.mount_bunny-45gwlx/resources/app.asar/main.js:50:19)\n    at Module._compile (internal/modules/cjs/loader.js:808:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:820:10)\n    at Module.load (internal/modules/cjs/loader.js:677:32)\n</code></pre>\n\n<p>Everything works fine in development mode, but it can't find the modules in production deploys.</p>\n\n<p>I've read about custom protocols at the below links, but they seem to be more about letting you fetch values from custom URL schemas and I want to <code>import</code> stuff not messing around with HTML. </p>\n\n<p><a href=\"https://stackoverflow.com/questions/51113097/electron-es6-module-import\">Electron ES6 module import</a>\n<a href=\"https://github.com/electron/electron/issues/12011\" rel=\"nofollow noreferrer\">https://github.com/electron/electron/issues/12011</a>\n<a href=\"https://gist.github.com/smotaal/f1e6dbb5c0420bfd585874bd29f11c43\" rel=\"nofollow noreferrer\">https://gist.github.com/smotaal/f1e6dbb5c0420bfd585874bd29f11c43</a></p>\n\n<p>Any help with an answer or even just steering me in the right direction would be great! My go to solution if I can't figure this out is symlink the user imported modules into a space the main processor can actually import from.</p>\n"}, {"tags": ["node.js", "typescript", "koa", "koa2"], "answers": [{"comments": [{"owner": {"reputation": 591, "user_id": 8635165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbea5b39c84b0233d3f4b383461ad08f?s=128&d=identicon&r=PG", "display_name": "Ctfrancia", "link": "https://stackoverflow.com/users/8635165/ctfrancia"}, "edited": false, "score": 0, "creation_date": 1571900296, "post_id": 58527498, "comment_id": 103394302, "body": "I should have known! :( Thanks a lot for your help!"}], "tags": [], "owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "is_accepted": true, "score": 1, "last_activity_date": 1571848849, "creation_date": 1571848849, "answer_id": 58527498, "question_id": 58526862, "link": "https://stackoverflow.com/questions/58526862/koanodejs-ts-controller-error-cannot-read-x-of-undefined/58527498#58527498", "title": "Koa(nodejs)/TS Controller, Error: cannot read x of undefined", "body": "<p>You need to bind the <code>this</code> parameter. Either:</p>\n\n<pre><code>router.post('/resetPassword', ctx =&gt; email.resetPassword(ctx));\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>router.post('/resetPassword', email.resetPassword.bind(email));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1636, "user_id": 539133, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f66837101863aea91fd42192b0639c22?s=128&d=identicon&r=PG", "display_name": "Glstunna", "link": "https://stackoverflow.com/users/539133/glstunna"}, "is_accepted": false, "score": 0, "last_activity_date": 1576091643, "creation_date": 1576091643, "answer_id": 59292557, "question_id": 58526862, "link": "https://stackoverflow.com/questions/58526862/koanodejs-ts-controller-error-cannot-read-x-of-undefined/59292557#59292557", "title": "Koa(nodejs)/TS Controller, Error: cannot read x of undefined", "body": "<p>If you're serious about Typescript controllers in Koa v2+, definitely consider checking out <a href=\"https://github.com/iyobo/koa-ts-controllers\" rel=\"nofollow noreferrer\">https://github.com/iyobo/koa-ts-controllers</a></p>\n"}], "owner": {"reputation": 591, "user_id": 8635165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbea5b39c84b0233d3f4b383461ad08f?s=128&d=identicon&r=PG", "display_name": "Ctfrancia", "link": "https://stackoverflow.com/users/8635165/ctfrancia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 58527498, "answer_count": 2, "score": 0, "last_activity_date": 1576091643, "creation_date": 1571846335, "question_id": 58526862, "link": "https://stackoverflow.com/questions/58526862/koanodejs-ts-controller-error-cannot-read-x-of-undefined", "title": "Koa(nodejs)/TS Controller, Error: cannot read x of undefined", "body": "<p>I have typescript in the back and have an email controller, that email controller is a class and then does various stuff, passing data to the class works, but, not when trying to initialize another class.</p>\n\n<h2>email.router.ts</h2>\n\n<pre class=\"lang-js prettyprint-override\"><code>import Router from 'koa-router';\nconst router = new Router();\nimport { Email } from '../Controllers/sendEmail.controller';\nconst email = new Email();\nconsole.log('email class', email); // all data there\n\nrouter.post('/resetPassword', email.resetPassword);\n\nexport default router.routes();\n</code></pre>\n\n<h2>Email Class</h2>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class Email {\n  public conn: any = new Connection(); // all data there\n\n  public constructor() {\n    this.conn = this.conn;\n    console.log('in constructor of email', this.conn); // all data there\n  }\n\n  public async resetPassword(ctx: Context): Promise&lt;void&gt; {\n    console.log('email --&gt;', ctx.request.body); // passed by reference correctly\n    console.log('conn --&gt;', this.conn); // error*\n  }\n}\n\n</code></pre>\n\n<h2>Connection Class</h2>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class Connection {\n  public smtpHost = 'host';\n  public smtpPort = 1231273612;\n  public smtpSecure = boolean;\n  public smtpUser = 'foo@bar.com';\n  public smtpPass = 'someSuperSecretPassword';\n\n  public token: string;\n\n  public constructor(token?: string) {\n    this.token = token;\n  }\n\n  public message(): string {\n    return (\n      `string with ${this.token}`\n  }\n}\n\n</code></pre>\n\n<p><em>error*</em> <code>TypeError: Cannot read property 'conn' of undefined</code></p>\n\n<p>I for the life of me am struggling with this.... here is a <a href=\"https://stackblitz.com/edit/angular-y3fdtg\" rel=\"nofollow noreferrer\">stack blitz</a></p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 746, "user_id": 4650095, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-175VV-UocMM/AAAAAAAAAAI/AAAAAAAAACM/uMuUUjQ_8vo/photo.jpg?sz=128", "display_name": "henokg", "link": "https://stackoverflow.com/users/4650095/henokg"}, "edited": false, "score": 1, "creation_date": 1571847284, "post_id": 58526817, "comment_id": 103378515, "body": "why don&#39;t you just import your component and use it as the type of the Parameter?"}], "answers": [{"comments": [{"owner": {"reputation": 803, "user_id": 2965537, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3f30ad895ec511aceff59c018bbd910b?s=128&d=identicon&r=PG", "display_name": "Arjan", "link": "https://stackoverflow.com/users/2965537/arjan"}, "edited": false, "score": 1, "creation_date": 1571847411, "post_id": 58527100, "comment_id": 103378585, "body": "or maybe <code>function doSomething(id: string, component: React.Component&lt;T&gt;) {   &#47;&#47; do the rest } </code> assuming you imported React like : <code>import React from &quot;react&quot;;</code>"}, {"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "edited": false, "score": 1, "creation_date": 1571849137, "post_id": 58527100, "comment_id": 103379397, "body": "I recommend using <code>ComponentType</code> instead. That way it can be either a class or function component."}], "tags": [], "owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "is_accepted": true, "score": 0, "last_activity_date": 1571847155, "creation_date": 1571847155, "answer_id": 58527100, "question_id": 58526817, "link": "https://stackoverflow.com/questions/58526817/what-type-to-use-for-a-class-based-react-component/58527100#58527100", "title": "What type to use for a class based React component?", "body": "<p>If it is a functional component, you can try typing it as a <code>FunctionComponent</code> on your function's parameter.</p>\n\n<pre><code>function doSomething(id: string, component: FunctionComponent) {\n  // do the rest\n}\n</code></pre>\n\n<p>If it is a component class, you can try <code>ComponentClass</code> instead.</p>\n\n<pre><code>function doSomething(id: string, component: ComponentClass) {\n  // do the rest\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9809, "user_id": 2308005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/I8e1z.jpg?s=128&g=1", "display_name": "Medet Tleukabiluly", "link": "https://stackoverflow.com/users/2308005/medet-tleukabiluly"}, "is_accepted": false, "score": 0, "last_activity_date": 1571847274, "creation_date": 1571847274, "answer_id": 58527124, "question_id": 58526817, "link": "https://stackoverflow.com/questions/58526817/what-type-to-use-for-a-class-based-react-component/58527124#58527124", "title": "What type to use for a class based React component?", "body": "<pre><code>function doSomething(id: string, component: ReactNode) {}\n</code></pre>\n\n<p>It's the most suitable type</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user967451"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 58527100, "answer_count": 2, "score": 0, "last_activity_date": 1571847274, "creation_date": 1571846207, "question_id": 58526817, "link": "https://stackoverflow.com/questions/58526817/what-type-to-use-for-a-class-based-react-component", "title": "What type to use for a class based React component?", "body": "<p>I have a utility function that accepts a class based React component as a parameter. What should I type this as?</p>\n\n<pre><code>function doSomething(id: string, component: ???) {}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "typescript2.0"], "answers": [{"tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": true, "score": 1, "last_activity_date": 1571846111, "last_edit_date": 1571846111, "creation_date": 1571845986, "answer_id": 58526757, "question_id": 58526737, "link": "https://stackoverflow.com/questions/58526737/is-undefined-when-try-to-reassign-an-property/58526757#58526757", "title": "Is undefined when try to reassign an property", "body": "<p>To push an item into an array, first you need to initialize it. You can try by assigning an empty array</p>\n\n<p>Set :</p>\n\n<pre><code>public applications : Array&lt;any&gt; = [] \n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 11368396, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_Ab3nUZyW0M/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re4-dCJP1-X-UZAMd4iImaDGn6sXw/mo/photo.jpg?sz=128", "display_name": "frint", "link": "https://stackoverflow.com/users/11368396/frint"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 58526757, "answer_count": 1, "score": 1, "last_activity_date": 1571847585, "creation_date": 1571845894, "last_edit_date": 1571847585, "question_id": 58526737, "link": "https://stackoverflow.com/questions/58526737/is-undefined-when-try-to-reassign-an-property", "title": "Is undefined when try to reassign an property", "body": "<p>I have this code :</p>\n\n<pre><code>this.applicationService.getApplications(id).then(data =&gt; {\n        console.log(data);\n        forIn(GroupOrder,\n            (value, key) =&gt; {\n            if (data.hasOwnProperty(value)) {\n                let applicationGroup = {} as ApplicationGroupInterface;\n                applicationGroup.count = 2;\n                applicationGroup.applicationData = data[value];\n                this.applications.push(applicationGroup);\n            }\n        });\n        console.log(this.applications);\n    });\n</code></pre>\n\n<p>I declared the <code>this.applications</code> on the beggining of component like <code>public applications</code>. But I get the error in console </p>\n\n<blockquote>\n  <p>ERROR Error: \"Uncaught (in promise): TypeError: this.applications is undefined` </p>\n</blockquote>\n\n<p>the first console log works I have data in <code>data</code>.</p>\n"}, {"tags": ["html", "angular", "typescript", "angular-material"], "answers": [{"tags": [], "owner": {"reputation": 1456, "user_id": 11258735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tSYt3.png?s=128&g=1", "display_name": "JuNe", "link": "https://stackoverflow.com/users/11258735/june"}, "is_accepted": true, "score": 1, "last_activity_date": 1571895393, "creation_date": 1571895393, "answer_id": 58534745, "question_id": 58526615, "link": "https://stackoverflow.com/questions/58526615/how-to-ignore-filtering-for-fields-that-are-empty-undefined-using-filterpredicat/58534745#58534745", "title": "How to ignore filtering for fields that are empty/undefined using filterPredicate", "body": "<p>You just have to check the filter attribute before if it exists and length is greater 0 and when then search for it in your object. </p>\n\n<pre><code>this.registeredUserService.GetAllAdverts().subscribe(val =&gt; {\n  this.dataSource = new MatTableDataSource&lt;Card&gt;(val);\n  this.dataSource.paginator = this.paginator;\n  this.dataSource.filterPredicate = (myObject: IFilter, filterString: any) =&gt; {\n    let filterObj: IFilter = JSON.parse(filterString);\n    if (\n      (filterObj.provinceName &amp;&amp; filterObj.provinceName.length &gt; 0 &amp;&amp; !filterObj.provinceName.includes(myObject.provinceName)) ||\n      (filterObj.vehicleMake &amp;&amp; filterObj.vehicleMake.length &gt; 0 &amp;&amp; !filterObj.vehicleMake.includes(myObject.vehicleMake)) ||\n      (filterObj.vehicleModel &amp;&amp; filterObj.vehicleModel.length &gt; 0 &amp;&amp; !filterObj.vehicleModel.includes(myObject.vehicleModel)) ||\n      (filterObj.vehicleYear &amp;&amp; filterObj.vehicleYear.length &gt; 0 &amp;&amp; !filterObj.vehicleYear.includes(myObject.vehicleYear)) ||\n      (filterObj.vehicleColor &amp;&amp; filterObj.vehicleColor.length &gt; 0 &amp;&amp; !filterObj.vehicleColor.includes(myObject.vehicleColor))\n     ) {\n       return false;\n     } else {\n       return true;\n     }\n   }\n});\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 11929015, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8PB3ZoqL_4o/AAAAAAAAAAI/AAAAAAAAAIo/kicuobdEaRQ/photo.jpg?sz=128", "display_name": "MrTheBarintokyo", "link": "https://stackoverflow.com/users/11929015/mrthebarintokyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 406, "favorite_count": 0, "accepted_answer_id": 58534745, "answer_count": 1, "score": 0, "last_activity_date": 1571895393, "creation_date": 1571845495, "question_id": 58526615, "link": "https://stackoverflow.com/questions/58526615/how-to-ignore-filtering-for-fields-that-are-empty-undefined-using-filterpredicat", "title": "How to ignore filtering for fields that are empty/undefined using filterPredicate", "body": "<p>I am trying to understand the filterPredicate of MatTableDataSource, and when I thought I was close, I am missing some logic.</p>\n\n<p>I want to filter through a datasource and if the array's value is blank or \"\", then it shouldn't filter for every value that is defined as \"\". In other words, filter with what it does know and not what it doesn't know.</p>\n\n<p>I tried to assign the values to null if the length of the array is equal to 0. But even that did not work.</p>\n\n<p>Typescript</p>\n\n<pre><code>this.registeredUserService.GetAllAdverts().subscribe(val =&gt; {\n          this.dataSource = new MatTableDataSource&lt;Card&gt;(val);\n          this.dataSource.paginator = this.paginator;\n          this.dataSource.filterPredicate = (myObject: IFilter, filterString: any) =&gt; {\n            let filterObj: IFilter = JSON.parse(filterString);\n            if (!filterObj.provinceName.includes(myObject.provinceName) ||\n              !filterObj.vehicleMake.includes(myObject.vehicleMake) ||\n              !filterObj.vehicleModel.includes(myObject.vehicleModel) ||\n              !filterObj.vehicleYear.includes(myObject.vehicleYear) ||\n              !filterObj.vehicleColor.includes(myObject.vehicleColor))\n            {\n              return false;\n            }\n            else {\n              return true;\n            }\n          }\n\n    filter()//whenever triggered, it should do the filtering\n    {\n        this.myFilter.provinceName = this.search.value.provinceSelector;\n        this.myFilter.vehicleMake = this.search.value.makeSelector;\n        this.myFilter.vehicleModel = this.search.value.modelSelector;\n        this.myFilter.vehicleColor = this.search.value.colorSelector;\n        this.myFilter.vehicleYear = this.search.value.yearSelector;\n\n        if (this.myFilter.provinceName.length == 0 &amp;&amp;\n          this.myFilter.vehicleMake.length == 0 &amp;&amp;\n          this.myFilter.vehicleModel.length == 0 &amp;&amp;\n          this.myFilter.vehicleColor.length == 0 &amp;&amp;\n          this.myFilter.vehicleYear.length == 0) {\n          this.dataSource.filter = '';\n        }\n\n        else {\n          this.dataSource.filter = JSON.stringify(this.myFilter);\n        }\n      }\n\n    myFilter: IFilter = {\n        provinceName: [],\n        vehicleMake: [],\n        vehicleModel: [],\n        vehicleColor: [],\n        vehicleYear: []\n      }\n\n    interface IFilter{\n      provinceName:any[],\n      vehicleMake:any[],\n      vehicleModel:any[],\n      vehicleColor:any[],\n      vehicleYear:any[]\n    }\n</code></pre>\n\n<p>What it should do: Filter based on my query</p>\n\n<p>What it does: Only does filtering as soon as all the values are filled.</p>\n"}, {"tags": ["typescript", "generics", "factory-pattern"], "answers": [{"tags": [], "owner": {"reputation": 803, "user_id": 2965537, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3f30ad895ec511aceff59c018bbd910b?s=128&d=identicon&r=PG", "display_name": "Arjan", "link": "https://stackoverflow.com/users/2965537/arjan"}, "is_accepted": false, "score": 0, "last_activity_date": 1571847123, "creation_date": 1571847123, "answer_id": 58527090, "question_id": 58526577, "link": "https://stackoverflow.com/questions/58526577/typing-the-return-of-a-factory-method-that-applies-mixins-based-on-arguments/58527090#58527090", "title": "Typing the return of a Factory method that applies mixins based on arguments", "body": "<p>I do not know your use case, and the need for dynamic classes, but how about using generics for a quick solution:</p>\n\n<pre><code>export function ServiceFactory&lt;T extends BaseModel&gt;(name: string, operations = OPERATIONS.DEFAULT): T {\n}\n</code></pre>\n\n<pre><code>type MyType = {create: (oneArg: string, otherArg: number) =&gt; boolean}\n\nconst someNameClassInstance = ServiceFactory&lt;MyType&gt;('someName', OPERATIONS.CREATE)\nsomeNameClassInstance // yields code insight create\n</code></pre>\n\n<p>for a more solid solution I think refactoring factory itself is the way to go.</p>\n"}], "owner": {"reputation": 177, "user_id": 7049810, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0ee15a3f38d02119d92c91428cc96604?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/7049810/paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571847123, "creation_date": 1571845386, "question_id": 58526577, "link": "https://stackoverflow.com/questions/58526577/typing-the-return-of-a-factory-method-that-applies-mixins-based-on-arguments", "title": "Typing the return of a Factory method that applies mixins based on arguments", "body": "<p>Am trying to create a Factory method in TypeScript that creates a class (instance) with some mixins applied, based on one of the arguments of the Factory method.</p>\n\n<p>This is code being ported from plain JavaScript. Functionally it works fine, its just that TypeScript doesn't 'recognize' the dynamic stuff that is happening, thus it doesn't know the returnType of the factory method.</p>\n\n<p>This is the code I currently have and I'm trying to make TypeScript somehow know returnType of the ServiceFactory method, which is at least always BaseModel, but depending on the value for the operations parameter, also is augmented with interfaces like ICreatable.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\nconst OPERATIONS = Object.freeze({\n  /** Only HTTP GET support (methods: all and show) */\n  DEFAULT: 0,\n  /** HTTP POST (method: create */\n  CREATE: 1,\n  /** HTTP PATCH (method: update */\n  UPDATE: 2,\n  /** both HTTP POST &amp; PATCH  (methods: create &amp; update */\n  CREATE_AND_UPDATE: 3,\n  /** HTTP PUT (method: replace */\n  REPLACEABLE: 4,\n  /** HTTP DELETE (method: delete */\n  DELETE: 8,\n  /** HTTP GET, POST, PUT, PATCH &amp; DELETE (methods: all, show, create, replace, update &amp; delete) */\n  ALL: 15,\n});\n\ntype Constructor&lt;T = {}&gt; = new (...args: any[]) =&gt; T;\n\nexport interface ICreatable {\n  create(requestContext:object, body: object, options:object): Promise&lt;object&gt;\n}\n\nexport class BaseModel {}\n\nexport const Creatable = &lt;T extends Constructor&lt;BaseModel&gt;&gt;(Sup: T) =&gt; class extends Sup implements ICreatable {\n  async create(): Promise&lt;object&gt; {\n    return ...;\n  }\n};\n\nexport function ServiceFactory(name: string, operations = OPERATIONS.DEFAULT): BaseModel {\n  let Clazz = { [name]: class extends BaseModel {} }[name]; // https://stackoverflow.com/questions/33605775/es6-dynamic-class-names/33611096\n\n  //if (operations &amp; OPERATIONS.UPDATE) {\n  //  Clazz = Updatable(Clazz);\n  //}\n  if (operations &amp; OPERATIONS.CREATE) {\n    Clazz = Creatable(Clazz);\n  }\n  //if (operations &amp; OPERATIONS.DELETE) {\n  //  Clazz = Deletable(Clazz);\n  //}\n  //if (operations &amp; OPERATIONS.REPLACEABLE) {\n  //  Clazz = Replaceable(Clazz);\n  //}\n\n  return new Clazz();\n}\n\n\n</code></pre>\n\n<p>When I'd call the code below, TypeScript should know that someNameClassInstance has a method called 'create'</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const someNameClassInstance = ServiceFactory('someName', OPERATIONS.CREATE)\nsomeNameClassInstance. //auto complete should yield 'create'\n``\n</code></pre>\n"}, {"tags": ["angular", "typescript", "variables", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 11841015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65fe1882a606614f1d063edac388872c?s=128&d=identicon&r=PG&f=1", "display_name": "CreativeOne", "link": "https://stackoverflow.com/users/11841015/creativeone"}, "edited": false, "score": 0, "creation_date": 1571918162, "post_id": 58537337, "comment_id": 103403399, "body": "I added some more info to my question, please check it out. Other than that I will check out the info you provided a bit later."}, {"owner": {"reputation": 19, "user_id": 11841015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65fe1882a606614f1d063edac388872c?s=128&d=identicon&r=PG&f=1", "display_name": "CreativeOne", "link": "https://stackoverflow.com/users/11841015/creativeone"}, "edited": false, "score": 0, "creation_date": 1572272477, "post_id": 58537337, "comment_id": 103498226, "body": "Thanks for the help, it kinda helped, but wasn&#39;t enough. would give you +1, but my reputation is too low."}], "tags": [], "owner": {"reputation": 21, "user_id": 4362494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4428e457b3f00a92cb5f0bc3995d0cd5?s=128&d=identicon&r=PG&f=1", "display_name": "Tino", "link": "https://stackoverflow.com/users/4362494/tino"}, "is_accepted": false, "score": 0, "last_activity_date": 1571906030, "creation_date": 1571906030, "answer_id": 58537337, "question_id": 58526517, "link": "https://stackoverflow.com/questions/58526517/how-to-use-input-variable-set-in-one-view-as-variable-in-different-view-templat/58537337#58537337", "title": "How to use Input variable set in one view as variable in different view (template)? Angular", "body": "<p>I am not sure about the requirement.</p>\n\n<p>If by different template, you mean another component, you can either use a service shared by the two components or you can \"bubble\" the event depending on the relationships (siblings, parent and children components) by the use of EventEmitter and @Output  (<a href=\"https://angular.io/start#output\" rel=\"nofollow noreferrer\">https://angular.io/start#output</a>)</p>\n\n<p>If your problem is about getting the value of the input, please read through this and focus on the ngModel binding for the value. <a href=\"https://angular.io/guide/forms\" rel=\"nofollow noreferrer\">https://angular.io/guide/forms</a>.</p>\n\n<p>Or you might lso be interested by reactiveForm and the usage of formControl\n<a href=\"https://angular.io/guide/reactive-forms\" rel=\"nofollow noreferrer\">https://angular.io/guide/reactive-forms</a></p>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 11841015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65fe1882a606614f1d063edac388872c?s=128&d=identicon&r=PG&f=1", "display_name": "CreativeOne", "link": "https://stackoverflow.com/users/11841015/creativeone"}, "is_accepted": true, "score": 0, "last_activity_date": 1572272230, "creation_date": 1572272230, "answer_id": 58592581, "question_id": 58526517, "link": "https://stackoverflow.com/questions/58526517/how-to-use-input-variable-set-in-one-view-as-variable-in-different-view-templat/58592581#58592581", "title": "How to use Input variable set in one view as variable in different view (template)? Angular", "body": "<p>So the answer to my question can be found on <a href=\"https://angularfirebase.com/lessons/sharing-data-between-angular-components-four-methods/#Unrelated-Components-Sharing-Data-with-a-Service\" rel=\"nofollow noreferrer\">this</a> site.</p>\n\n<p>I used service as previously mentioned, just the way it is implemented is different, and for me - easier.\nHTML stays as it is besides adding <code>name=\"custmerName\"</code> next to <code>ngModel</code>.</p>\n\n<p>For typescript files I removed old code, and added this code:</p>\n\n<p><strong>Component 1 TS code</strong></p>\n\n<pre><code>import { Component, OnInit, Input } from '@angular/core';\nimport { VariablesService } from '../../variables.service';\n\n@Component({\n  selector: 'app-Step2',\n  templateUrl: './Step2.component.html',\n  styleUrls: ['./Step2.component.css']\n})\nexport class Step2Component implements OnInit {\n\n  customerName: string;\n\n  constructor(public variablesService: VariablesService) {\n\n   }\n\n  ngOnInit() {\n    this.variablesService.currentCustomerName.subscribe(customerName =&gt; this.customerName = customerName)\n  }\n\n\n  saveActions() {\n    this.variablesService.changeCustomerData(this.customerName)\n  }\n}\n</code></pre>\n\n<p><strong>Component 2 TS code</strong></p>\n\n<pre><code>import { Component, OnInit, Input } from '@angular/core';\nimport { VariablesService } from '../../variables.service';\n\n@Component({\n  selector: 'app-Step3',\n  templateUrl: './Step3.component.html',\n  styleUrls: ['./Step3.component.css']\n})\nexport class Step3Component implements OnInit {\n\ncustomerName: string;\n\n  constructor(public variablesService: VariablesService) {\n\n   }\n\n  ngOnInit() {\n    this.variablesService.currentCustomerName.subscribe(customerName =&gt; this.customerName = customerName)\n  }\n}\n</code></pre>\n\n<p><strong>Service TS code</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Subject, BehaviorSubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class VariablesService {\n\n  constructor() { }\n\n  private customerNameSource = new BehaviorSubject('');\n  currentCustomerName = this.customerNameSource.asObservable();\n\n\n  changeCustomerData(customerName: string) {\n    this.customerNameSource.next(customerName);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 11841015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65fe1882a606614f1d063edac388872c?s=128&d=identicon&r=PG&f=1", "display_name": "CreativeOne", "link": "https://stackoverflow.com/users/11841015/creativeone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 58592581, "answer_count": 2, "score": 1, "last_activity_date": 1572272230, "creation_date": 1571845131, "last_edit_date": 1571918077, "question_id": 58526517, "link": "https://stackoverflow.com/questions/58526517/how-to-use-input-variable-set-in-one-view-as-variable-in-different-view-templat", "title": "How to use Input variable set in one view as variable in different view (template)? Angular", "body": "<p>I am a newbie at Angular, and junior in general, and got a question for you.</p>\n\n<p>If I have an input which user sets, but I need to use the input in different view (different template), how can I manage to do so?</p>\n\n<p>I've read a lot of articles, but none was really helpful with my situation.</p>\n\n<p>One idea I read about and thought of using was creating a service, which I inject in the templates where user needs to set values, or I need to display them. In such case I can write to variable, and read from it, right?</p>\n\n<p>Here is a sample code of input form from template:</p>\n\n<pre><code>    &lt;form&gt;\n      &lt;mat-form-field class=\"size\"&gt;\n        &lt;mat-label&gt;Provide the customer name&lt;/mat-label&gt;\n        &lt;input matInput #customerName&gt;\n      &lt;/mat-form-field&gt;\n    &lt;/form&gt;\n</code></pre>\n\n<p>User would enter customer name, and it would save it as a variable in typescript file, from where I can re-use it elsewhere.</p>\n\n<p>The main idea is:\n<strong>How to add input field as typescript variable and re-use the entered variable in different templates?\nBy making the variable global? And how to do such a thing?</strong></p>\n\n<p>I hope I made it clear. If anything, just say and I will re-make it so it's easiet to understand.</p>\n\n<p><strong>--- EDIT ---</strong></p>\n\n<p>In this <a href=\"https://stackoverflow.com/questions/49592546/angular-5-service-variable-value-updating\">posts</a> answer they get to my problem, the person who gave the answer to this <a href=\"https://stackblitz.com/github/SenalKumarage/ng-service-blitz\" rel=\"nofollow noreferrer\">link</a> with stackblitz code, which I suppose is exactly what I wanted, but I can not manage to get it to work with HTML code I provided in my post previously</p>\n\n<p>Here is my updated code:\n<strong>Component 1 TS file</strong></p>\n\n<pre><code>    import { Component, OnInit } from '@angular/core';\nimport { VariablesService } from '../../variables.service';\nimport { Subject } from 'rxjs';\n\n@Component({\n  selector: 'app-Step2',\n  templateUrl: './Step2.component.html',\n  styleUrls: ['./Step2.component.css']\n})\nexport class Step2Component implements OnInit {\n\n  constructor(public variablesService: VariablesService) {\n    this.customerNameSource = this.variablesService.customerName;\n   }\n\n  ngOnInit() {\n  }\n\n  customerNameSource: Subject&lt;string&gt;;\n  customerName: string = \"\";\n\n  saveActions() {\n    this.variablesService.changeCustomerName(this.customerName);\n  }\n}\n</code></pre>\n\n<p><strong>Component 1 HTML file</strong></p>\n\n<pre><code>&lt;div&gt;\n  &lt;form&gt;\n    &lt;mat-form-field class=\"size\"&gt;\n      &lt;mat-label&gt;Provide the customer name&lt;/mat-label&gt;\n      &lt;input matInput [(ngModel)]=\"customerName\"&gt;\n    &lt;/mat-form-field&gt;\n  &lt;/form&gt;\n&lt;/div&gt;\n\n&lt;div class=\"next\"&gt;\n  &lt;button mat-button (click)=\"saveActions()\" routerLink=\"/step1\"&gt;Previous&lt;/button&gt;\n  &lt;button mat-button (click)=\"saveActions()\" routerLink=\"/step3\"&gt;Next&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Component 2 TS file</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { VariablesService } from '../../variables.service';\nimport { Subject } from 'rxjs';\n\n@Component({\n  selector: 'app-Step3',\n  templateUrl: './Step3.component.html',\n  styleUrls: ['./Step3.component.css']\n})\nexport class Step3Component implements OnInit {\n\n  constructor(public variablesService: VariablesService) {\n    this.customerNameSource = this.variablesService.customerName;\n\n    this.customerNameSource.subscribe(value =&gt; {\n      this.customerName = value;\n    })\n   }\n\n  ngOnInit() {\n  }\n\n  customerNameSource: Subject&lt;string&gt;;\n  public customerName: string = \"\";\n}\n</code></pre>\n\n<p><strong>Component 2 HTML file</strong></p>\n\n<pre><code>&lt;div&gt;\n  &lt;h6&gt;{{ customerName }}&lt;/h6&gt;\n&lt;/div&gt;\n\n&lt;div class=\"next\"&gt;\n  &lt;button mat-button routerLink=\"/step2\"&gt;Previous(test)&lt;/button&gt;\n  &lt;button mat-button routerLink=\"/step4\"&gt;NEXT(test)&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Service TS file</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class VariablesService {\n\nconstructor() { }\n\n_customerName: Subject&lt;string&gt; = new Subject();\nget customerName() : Subject&lt;string&gt; {\n  return this._customerName;\n}\nset customerName(cstName: Subject&lt;string&gt;) {\n  this._customerName = cstName;\n}\n\n\nchangeCustomerName(n: string) {\n  this.customerName.next(n);\n}    \n}\n</code></pre>\n\n<p><strong>But it still doesn't work as expected - By entering something in component 1 input, there is nothing showing up in component 2.</strong> </p>\n\n<p><strong>Yes, I have added service as provider in app.module.ts</strong></p>\n"}, {"tags": ["typescript", "typescript-typings", ".d.ts"], "answers": [{"comments": [{"owner": {"reputation": 2672, "user_id": 223936, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/j58Xn.jpg?s=128&g=1", "display_name": "Plastikfan", "link": "https://stackoverflow.com/users/223936/plastikfan"}, "edited": false, "score": 0, "creation_date": 1572009041, "post_id": 58530792, "comment_id": 103437361, "body": "That&#39;s great Donovan, this is exactly what I was looking for, just so easy not to find the right correct information at the right time. My initial approach of using <i>externalTypes/&lt;module-name&gt;/index.d.ts</i> came as a result of reading the templates, which as it turns out, not the solution I should have been looking for. Cheers."}], "tags": [], "owner": {"reputation": 979, "user_id": 7165303, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QzN9GsYrT-8/AAAAAAAAAAI/AAAAAAAAAIQ/dt-bAbLoh7E/photo.jpg?sz=128", "display_name": "Donovan Hiland", "link": "https://stackoverflow.com/users/7165303/donovan-hiland"}, "is_accepted": true, "score": 2, "last_activity_date": 1571863652, "creation_date": 1571863652, "answer_id": 58530792, "question_id": 58525877, "link": "https://stackoverflow.com/questions/58525877/writing-a-typescript-declaration-file-for-an-external-js-nodejs-package-without/58530792#58530792", "title": "Writing a typescript declaration file for an external js nodejs package, without type info", "body": "<p>It looks like you found the answer to your original question, but I thought I'd share some resources regarding your second question. From the typescript docs: <a href=\"https://www.typescriptlang.org/docs/handbook/modules.html#working-with-other-javascript-libraries\" rel=\"nofollow noreferrer\">Ambient Modules</a></p>\n\n<blockquote>\n  <p>In Node.js, most tasks are accomplished by loading one or more modules. We could define each module in its own .d.ts file with top-level export declarations, but it\u2019s more convenient to write them as one larger .d.ts file. To do so, we use a construct similar to ambient namespaces, but we use the module keyword and the quoted name of the module which will be available to a later import.</p>\n</blockquote>\n\n<p>The <code>declare module</code> are language keywords, and the string is the name of the module you're importing.</p>\n"}], "owner": {"reputation": 2672, "user_id": 223936, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/j58Xn.jpg?s=128&g=1", "display_name": "Plastikfan", "link": "https://stackoverflow.com/users/223936/plastikfan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2224, "favorite_count": 0, "accepted_answer_id": 58530792, "answer_count": 1, "score": 3, "last_activity_date": 1571863652, "creation_date": 1571843084, "last_edit_date": 1571844633, "question_id": 58525877, "link": "https://stackoverflow.com/questions/58525877/writing-a-typescript-declaration-file-for-an-external-js-nodejs-package-without", "title": "Writing a typescript declaration file for an external js nodejs package, without type info", "body": "<p>I'm  writing a node js typescript library (for use in cli app context) which has a dependency on a js library jinxed, which has no typescript type declarations. I have been following information at <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-files/introduction.html\" rel=\"nofollow noreferrer\">Typescript declaration files</a></p>\n\n<p><em>jinxed</em> is a simple library that currently exports a single function via module.exports { ... }, it is not intended to be the sole export from the library, (since it will be expanded in the future). So the exported function is a member of the export object.</p>\n\n<p>The problem is how do I consume this within a typescript library. After reading all the typescript declaration documentation, this is still not clear to me how to do this.</p>\n\n<p>The first problem to solve is which declaration template to pick from <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-files/templates.html\" rel=\"nofollow noreferrer\">Typescript declaration file templates</a>.</p>\n\n<p>I decided that the appropriate template to use to enable consuming jinxed from typescript is <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-files/templates/module-d-ts.html\" rel=\"nofollow noreferrer\">module.d.ts</a> (I stand to be corrected though).</p>\n\n<p>So my client typescript library (widget) looks like this:</p>\n\n<pre><code>widget/\n  lib/\n    externalTypes/\n      jinxed/\n        index.d.ts\n    index.ts\n</code></pre>\n\n<p>So the above shows me defining a type file for the external dependency jinxed according to the instructions in the template file; ie create a folder whose name matches the name of the external dependency and place an index.d.ts file inside it.</p>\n\n<p>widget/lib/externalTypes/jinxed/index.d.ts:</p>\n\n<blockquote>\n  <p>export function functify(obj: any): string;</p>\n</blockquote>\n\n<p>On the consuming side; ie inside my index.ts file (widget/lib/index.ts):</p>\n\n<pre><code>/// &lt;reference types=\"./externalTypes/jinxed\" /&gt;\n\nimport jinxed = require('jinxed');\n\nconst TestObject:any = {\n  name: 'dvorak',\n  occ: 'watchman'\n};\n\njinxed.functify(TestObject);\n</code></pre>\n\n<p>[PS: I have also tried:</p>\n\n<blockquote>\n  <p>let jinxed = require('./externalTypes/jinxed');\n  ( ... but this just results in an error about using the require statment)</p>\n</blockquote>\n\n<p>]</p>\n\n<p>But when compiled results in the following error message:</p>\n\n<blockquote>\n  <p>ERROR in /Users/User/dev/github/js/widget/lib/index.ts\n  ./lib/index.ts [tsl] ERROR in</p>\n  \n  <p>/Users/User/dev/github/js/widget/lib/index.ts(4,25)\n        TS7016: Could not find a declaration file for module 'jinxed'. \n  '/Users/User/dev/github/js/widget/node_modules/jinxed/index.js'\n  implicitly has an 'any' type.</p>\n</blockquote>\n\n<p>(Apologies for the error message looking a bit ugly, formatting issues)</p>\n\n<p>[</p>\n\n<p>And for the sake of completeness, the content of jinxed is as follows:</p>\n\n<pre><code>'use strict';\n\nfunction functify (obj) {\n  return JSON.stringify(obj, (key, val) =&gt; {\n    return (typeof val === 'function') ? '_function_' : val;\n  });\n}\n\nmodule.exports = {\n  functify: functify\n}\n</code></pre>\n\n<p>]</p>\n\n<p>The error message is indicating that it can't find the declaration file for jinxed, but I have used the </p>\n\n<pre><code> /// &lt;reference...\n</code></pre>\n\n<p>to specify the type file to use, so I don't know what the problem is.</p>\n\n<p>The dependencies in widget packaage.json is as follows:</p>\n\n<pre><code>  \"dependencies\": {\n    \"@types/ramda\": \"^0.26.19\",\n    \"jinxed\": \"0.0.1\",\n    \"ramda\": \"^0.26.1\",\n    \"xpath\": \"0.0.27\"   },\n</code></pre>\n\n<p>The tsconfig file is:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"allowJs\": true,\n    \"alwaysStrict\": true,\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"Node\",\n    \"noImplicitAny\": true,\n    \"sourceMap\": true,\n    \"strictNullChecks\": true,\n    \"target\": \"es5\",\n    \"types\": [],\n    \"lib\": [\n      \"es5\",\n      \"es2015\",\n      \"es6\",\n      \"dom\"\n    ]\n  },\n  \"include\": [\n    \"lib/**/*\"\n  ],\n  \"exclude\": [\n    \"node_modules\",\n    \"**/*.spec.ts\"\n  ]\n}\n</code></pre>\n\n<p>The \"main\" entry in package.json is:</p>\n\n<blockquote>\n  <p>\"main\": \"./lib/index.ts\",</p>\n</blockquote>\n\n<p>Also, I would like to know if the way I have structured external type dependencies seems reasonable. IE, let's say, I am trying to consume another external js library in a similar way to that illustrated above for jinxed; I would assume, that I would create another folder under externalTypes that matches the name of that dependency and populate it with its own index.d.ts. Is that correct or am I barking up the wrong tree?</p>\n\n<p>EDIT: (I found the solution to this problem via <a href=\"https://stackoverflow.com/questions/42693836/typescript-custom-declaration-files-for-untyped-npm-modules?rq=1\">this issue</a>, but I don't really userstand this.</p>\n\n<p>In the index.d.ts, I have updated it to be as follows:</p>\n\n<pre><code>declare module 'jinxed' {\n  export function functify(obj: any): string;\n}\n</code></pre>\n\n<p>... and this does actually work.</p>\n\n<p>However, I don't understand the <em>declare module</em> statement, in particular, why the names <em>jinxed</em> is inside quotes (remove the quotes and you get an error: TS7016: Could not find a declaration file for module 'jinxed'). So far I have not found the correct typescript template that this corresponds to, so I can't get a good explanation of why this works.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 1240, "user_id": 462803, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/eEdHO.png?s=128&g=1", "display_name": "KOVIKO", "link": "https://stackoverflow.com/users/462803/koviko"}, "edited": false, "score": 0, "creation_date": 1571843721, "post_id": 58525935, "comment_id": 103376671, "body": "This would still require some repetition from <code>isBase</code>, however, as I&#39;d want to first check that <code>value</code> is truthy. Also, if the example were more complex, there&#39;d potentially be even more repetition."}, {"owner": {"reputation": 1240, "user_id": 462803, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/eEdHO.png?s=128&g=1", "display_name": "KOVIKO", "link": "https://stackoverflow.com/users/462803/koviko"}, "edited": false, "score": 0, "creation_date": 1571845811, "post_id": 58525935, "comment_id": 103377776, "body": "I had no idea you could type cast the type guard, itself! +1"}], "tags": [], "owner": {"reputation": 1079, "user_id": 2108167, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d5464cfb00a7958f7256a71be56befef?s=128&d=identicon&r=PG", "display_name": "Boyen", "link": "https://stackoverflow.com/users/2108167/boyen"}, "is_accepted": true, "score": 1, "last_activity_date": 1571844009, "last_edit_date": 1571844009, "creation_date": 1571843275, "answer_id": 58525935, "question_id": 58525765, "link": "https://stackoverflow.com/questions/58525765/how-can-i-use-the-type-guard-of-the-parent-interface-in-the-type-guard-of-the-ch/58525935#58525935", "title": "How can I use the type guard of the parent interface in the type guard of the child interface?", "body": "<p>Simplest solution : Just swap it around: </p>\n\n<pre><code>function isExtendsBase(value: any): value is ExtendsBase {\n  return  'bar' in value &amp;&amp; typeof value.bar === 'boolean' &amp;&amp; isBase(value);\n}           \n</code></pre>\n\n<p>If you really want the bar checks to happen first, recast to any.</p>\n\n<pre><code>function isExtendsBase(value: any): value is ExtendsBase {\n  return isBase(value) as any &amp;&amp; 'bar' in value &amp;&amp; typeof value.bar === 'boolean'  ;\n}\n</code></pre>\n"}], "owner": {"reputation": 1240, "user_id": 462803, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/eEdHO.png?s=128&g=1", "display_name": "KOVIKO", "link": "https://stackoverflow.com/users/462803/koviko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 58525935, "answer_count": 1, "score": 1, "last_activity_date": 1571844009, "creation_date": 1571842785, "last_edit_date": 1571843912, "question_id": 58525765, "link": "https://stackoverflow.com/questions/58525765/how-can-i-use-the-type-guard-of-the-parent-interface-in-the-type-guard-of-the-ch", "title": "How can I use the type guard of the parent interface in the type guard of the child interface?", "body": "<p>I have two interfaces, a parent interface and an interface that extends it:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Base {\n  foo: boolean;\n}\n\ninterface ExtendsBase extends Base {\n  bar: boolean;\n}\n</code></pre>\n\n<p>And I have a user-defined type guard for the base class:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function isBase(value: any): value is Base {\n  return value &amp;&amp; 'foo' in value &amp;&amp; typeof value.foo === 'boolean';\n}\n</code></pre>\n\n<p>I'd like to make use of that type guard when writing the type guard of the <code>ExtendsBase</code> interface:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function isExtendsBase(value: any): value is ExtendsBase {\n  return isBase(value) &amp;&amp; 'bar' in value &amp;&amp; typeof value.bar === 'boolean';\n}                                                        ~~~\n</code></pre>\n\n<p>The first part of the expression, <code>isFoo(value)</code>, evaluates to <code>value: Base</code>. With the second part of the expression, <code>isFoo(value) &amp;&amp; 'bar' in value</code> evaluates to <code>value: never</code>. And in the full expression, I get the following error:</p>\n\n<blockquote>\n  <p>Property 'bar' does not exist on type 'never'.</p>\n</blockquote>\n\n<p>The goal, here, is to be able to use the code from <code>isBase</code> in <code>isExtendsBase</code> to follow the DRY principle, and in examples potentially much more complex than this one. Can this be done?</p>\n"}, {"tags": ["reactjs", "typescript", "react-hooks"], "answers": [{"comments": [{"owner": {"reputation": 1144, "user_id": 11777990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WR19M.png?s=128&g=1", "display_name": "Willman.Codes", "link": "https://stackoverflow.com/users/11777990/willman-codes"}, "edited": false, "score": 0, "creation_date": 1571868774, "post_id": 58527274, "comment_id": 103387017, "body": "I&#39;ve updated my answer with a better approach as well as a better explanation as to whats going on."}], "tags": [], "owner": {"reputation": 1144, "user_id": 11777990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WR19M.png?s=128&g=1", "display_name": "Willman.Codes", "link": "https://stackoverflow.com/users/11777990/willman-codes"}, "is_accepted": true, "score": 1, "last_activity_date": 1571893054, "last_edit_date": 1571893054, "creation_date": 1571847933, "answer_id": 58527274, "question_id": 58525732, "link": "https://stackoverflow.com/questions/58525732/deleting-moving-around-specific-item-on-array-in-react/58527274#58527274", "title": "Deleting / moving around specific item on array in React", "body": "<p>I believe <code>items.concat([children])</code> is creating new components, therefore you will also need to pass the <code>move()</code> and <code>delete()</code> methods as callbacks (or pass items in as an argument).\nAdditionally, <code>items.concat([children])</code> is making copy of the old components (including the props in their initial values) and putting them back into state, thus only the last item is getting the final state (in fact its likely one behind, ie your first item rendered is passed an empty <code>this.state.items</code> array as it wont yet include itself as state is set after creation). </p>\n\n<p>Maybe try to either convert to a class based component which will allow you to be explicit with binding <code>this</code> or use a <code>renderItems</code> type method to generate content without creating new components (shown in my snippet below)</p>\n\n<p>Also:</p>\n\n<ul>\n<li>Avoid mutating state array with [...items] where appropriate.</li>\n<li>Dynamically generated content (such as with a loop or map) needs to\nhave a a unique key prop for each item generated. Here I used\n<code>Math.random()</code> (which may not be suitable for production)</li>\n<li>You should be checking <code>futureIndex &lt; items.length</code></li>\n</ul>\n\n<p>I've created a working simplified/reworked example in JSX that may help you get where you need to go</p>\n\n<p><strong>UPDATED Snippet using <code>renderItems</code></strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const PriorizationList = () =&gt; {\r\n    const [items, setItems] = React.useState([]);\r\n    \r\n    const move = (currentIndex, futureIndex) =&gt; {\r\n        if (futureIndex !== -1 &amp;&amp; futureIndex &lt; items.length ) {\r\n            const tempItemsAray = [...items]\r\n            const item = tempItemsAray[currentIndex];\r\n            const movingItem = tempItemsAray[futureIndex];\r\n            tempItemsAray[currentIndex] = movingItem;\r\n            tempItemsAray[futureIndex] = item;\r\n            setItems(tempItemsAray);\r\n        }\r\n    };\r\n    const deleteItem = (index) =&gt; {\r\n        setItems(prevItems =&gt; prevItems.filter((_,i) =&gt; i !== index));\r\n    };\r\n    const addItem = () =&gt; {\r\n        const id = String(Math.floor(Math.random() * 100000))\r\n        const newItems = [...items , { id }];\r\n        setItems(newItems);\r\n    };\r\n\r\n    const renderItems = () =&gt; {\r\n        return items.map((item, index) =&gt; {\r\n            return (\r\n                &lt;div&gt;\r\n                    &lt;div&gt;\r\n                        &lt;span&gt;Item: {item.id}&lt;/span&gt;\r\n                        &lt;button type=\"pushUp\" onClick={() =&gt; move(index, index - 1)} &gt;up&lt;/button&gt;\r\n                        &lt;button type=\"pushDown\" onClick={() =&gt; move(index, index + 1)} &gt;down&lt;/button&gt;\r\n                        &lt;button type=\"delete\" onClick={() =&gt; deleteItem(index)} &gt;delete&lt;/button&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n            );\r\n        }) \r\n    }\r\n\r\n    return (\r\n        &lt;div&gt;\r\n            &lt;button type=\"text\" onClick={addItem} &gt; Add &lt;/button&gt;\r\n            \r\n            {renderItems()}\r\n        &lt;/div&gt;\r\n    );\r\n};\r\n\r\nReactDOM.render(\r\n    &lt;PriorizationList /&gt;,\r\n    document.getElementById(\"react\")\r\n);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/16.8.4/umd/react.production.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.8.4/umd/react-dom.production.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"react\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Previous Snippet Passing With Callbacks</strong>\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const PriorizationList = () =&gt; {\r\n    const [items, setItems] = React.useState([]);\r\n    \r\n    const move = (currentIndex, futureIndex) =&gt; {\r\n        if (futureIndex !== -1 &amp;&amp; futureIndex &lt; items.length ) {\r\n            const tempItemsAray = [...items]\r\n            const item = tempItemsAray[currentIndex];\r\n            const movingItem = tempItemsAray[futureIndex];\r\n            tempItemsAray[currentIndex] = movingItem;\r\n            tempItemsAray[futureIndex] = item;\r\n            setItems(tempItemsAray);\r\n        }\r\n    };\r\n    const deleteItem = (index) =&gt; {\r\n        setItems(prevItems =&gt; prevItems.filter((_,i) =&gt; i !== index));\r\n    };\r\n    const addItem = () =&gt; {\r\n        const id = String(Math.floor(Math.random() * 100000))\r\n        const newItems = [...items , { id , jsx : LineItemJSX }];\r\n        setItems(newItems);\r\n    };\r\n    \r\n    const LineItemJSX = ({deleteItem , move , index , item}) =&gt; {\r\n        return (\r\n            &lt;div&gt;\r\n                &lt;span&gt;Item: {item.id}&lt;/span&gt;\r\n                &lt;button type=\"pushUp\" onClick={() =&gt; move(index, index - 1)} &gt;up&lt;/button&gt;\r\n                &lt;button type=\"pushDown\" onClick={() =&gt; move(index, index + 1)} &gt;down&lt;/button&gt;\r\n                &lt;button type=\"delete\" onClick={() =&gt; deleteItem(index)} &gt;delete&lt;/button&gt;\r\n            &lt;/div&gt;\r\n        )\r\n    }\r\n    return (\r\n        &lt;div&gt;\r\n            &lt;button type=\"text\" onClick={addItem} &gt; Add &lt;/button&gt;\r\n\r\n            {items.map((item, index) =&gt; {\r\n                const Component = item.jsx\r\n                return (\r\n                    &lt;Component index={index} key={item.id} deleteItem={deleteItem} move={move} item={item}/&gt;\r\n                );\r\n            })}\r\n        &lt;/div&gt;\r\n    );\r\n};\r\n\r\nReactDOM.render(\r\n    &lt;PriorizationList /&gt;,\r\n    document.getElementById(\"react\")\r\n);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/16.8.4/umd/react.production.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.8.4/umd/react-dom.production.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"react\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n\n<strong>Previous Snippet Passing With Items State as Prop</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const PriorizationList = () =&gt; {\r\n    const [items, setItems] = React.useState([]);\r\n    \r\n    const move = (items , currentIndex, futureIndex) =&gt; {\r\n        if (futureIndex !== -1 &amp;&amp; futureIndex &lt; items.length ) {\r\n            const tempItemsAray = [...items]\r\n            const item = tempItemsAray[currentIndex];\r\n            const movingItem = tempItemsAray[futureIndex];\r\n            tempItemsAray[currentIndex] = movingItem;\r\n            tempItemsAray[futureIndex] = item;\r\n            setItems(tempItemsAray);\r\n        }\r\n    };\r\n    const deleteItem = (index) =&gt; {\r\n        setItems(prevItems =&gt; prevItems.filter((_,i) =&gt; i !== index));\r\n    };\r\n    const addItem = () =&gt; {\r\n        const id = String(Math.floor(Math.random() * 100000))\r\n        const newItems = [...items , { id , jsx : LineItemJSX }];\r\n        setItems(newItems);\r\n    };\r\n    \r\n    const LineItemJSX = ({items , index , item}) =&gt; {\r\n        return (\r\n            &lt;div&gt;\r\n                &lt;span&gt;Item: {item.id}&lt;/span&gt;\r\n                &lt;button type=\"pushUp\" onClick={() =&gt; move(items ,index, index - 1)} &gt;up&lt;/button&gt;\r\n                &lt;button type=\"pushDown\" onClick={() =&gt; move(items ,index, index + 1)} &gt;down&lt;/button&gt;\r\n                &lt;button type=\"delete\" onClick={() =&gt; deleteItem(index)} &gt;delete&lt;/button&gt;\r\n            &lt;/div&gt;\r\n        )\r\n    }\r\n    return (\r\n        &lt;div&gt;\r\n            &lt;button type=\"text\" onClick={addItem} &gt; Add &lt;/button&gt;\r\n\r\n            {items.map((item, index) =&gt; {\r\n                const Component = item.jsx\r\n                return (\r\n                    &lt;Component index={index} key={item.id} item={item} items={items}/&gt;\r\n                );\r\n            })}\r\n        &lt;/div&gt;\r\n    );\r\n};\r\n\r\nReactDOM.render(\r\n    &lt;PriorizationList /&gt;,\r\n    document.getElementById(\"react\")\r\n);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/16.8.4/umd/react.production.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.8.4/umd/react-dom.production.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"react\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 469, "user_id": 10149820, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qiTUzDix29g/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7ogHelhx3VThQj1ojDpHpa1le0g4w/mo/photo.jpg?sz=128", "display_name": "Diego Pedro", "link": "https://stackoverflow.com/users/10149820/diego-pedro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 58527274, "answer_count": 1, "score": 2, "last_activity_date": 1571893054, "creation_date": 1571842658, "question_id": 58525732, "link": "https://stackoverflow.com/questions/58525732/deleting-moving-around-specific-item-on-array-in-react", "title": "Deleting / moving around specific item on array in React", "body": "<p>I have the following situation, I've made a list that adds (after pressing a button) a React Node. The model final layout is something like this</p>\n\n<p><a href=\"https://i.stack.imgur.com/fG37r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fG37r.png\" alt=\"enter image description here\"></a></p>\n\n<p>The current code is the following:</p>\n\n<pre><code>import * as React from 'react';\nimport { Icon } from '../icon/icon';\nimport { Button } from '../..';\n\nexport interface PriorizationListProps {\n    children: React.ReactNode;\n    limit?: number;\n}\n\nexport const PriorizationList: React.FunctionComponent&lt;PriorizationListProps&gt; = ({ limit, children }) =&gt; {\n    const [items, setItems] = React.useState&lt;React.ReactNode[]&gt;([]);\n\n    const move = (currentIndex: number, futureIndex: number) =&gt; {\n        if (futureIndex !== -1 &amp;&amp; futureIndex &lt; items.length) {\n            const item = items[currentIndex];\n            const movingItem = items[futureIndex];\n            items[currentIndex] = movingItem;\n            items[futureIndex] = item;\n            setItems(items);\n        }\n    };\n\n    const deleteItem = (index: number) =&gt; {\n        setItems(prevItems =&gt; prevItems.filter((_,i) =&gt; i !== index));\n    };\n\n    const addItem = () =&gt; {\n        const newItems = items.concat([children]);\n        setItems(newItems);\n    };\n\n    const disabledByLimit = () =&gt; limit === items.length;\n\n    return (\n        &lt;&gt;\n            {items.map((item, index) =&gt; {\n                return (\n                    &lt;div className=\"PriorizationList\"&gt;\n                        &lt;span className=\"PriorizationList-order\"&gt;{`${index + 1}.`}&lt;/span&gt;\n                        &lt;span className=\"PriorizationList-content\"&gt;{item}&lt;/span&gt;\n                        &lt;span className=\"PriorizationList-icon\"&gt;\n                            &lt;Icon type=\"pushUp\" onClick={() =&gt; move(index, index - 1)} /&gt;\n                            &lt;Icon type=\"pushDown\" onClick={() =&gt; move(index, index + 1)} /&gt;\n                            &lt;Icon type=\"delete\" onClick={() =&gt; deleteItem(index)} /&gt;\n                        &lt;/span&gt;\n                    &lt;/div&gt;\n                );\n            })}\n            &lt;Button type=\"text\" className=\"PriorizationList-button\" onClick={addItem} disabled={disabledByLimit()}&gt;\n                &lt;span&gt;Add&lt;/span&gt;\n                &lt;Icon type=\"add\" /&gt;\n            &lt;/Button&gt;\n        &lt;/&gt;\n    );\n};\n\nPriorizationList.defaultProps = {\n    limit: 10\n};\n\nexport default PriorizationList;\n</code></pre>\n\n<p>The two issues I'm having are, when I delete an item from the list, it always deletes the last one. And the moving arrows are not working.\nI tried multiple changes but none of them worked.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "lodash"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 3, "creation_date": 1571844101, "post_id": 58525697, "comment_id": 103376895, "body": "You&#39;re getting that error because <code>_</code> isn&#39;t a function, it&#39;s an object containing a long list of functions.  The error message is accurate.  I did not downvote you, but if I had to make a guess, it&#39;s because (1) the error message is pretty clear, and (2) your code is not in your question, it is only linked off-site."}, {"owner": {"reputation": 3003, "user_id": 527123, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57ae00dfb3739f88fb58602ff2c8f526?s=128&d=identicon&r=PG", "display_name": "danbord", "link": "https://stackoverflow.com/users/527123/danbord"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1571844309, "post_id": 58525697, "comment_id": 103377010, "body": "Thanks for commenting; but I&#39;m trying to use lodash as in that article : <a href=\"https://mariusschulz.com/blog/implicit-function-chaining-in-lodash\" rel=\"nofollow noreferrer\">mariusschulz.com/blog/implicit-function-chaining-in-lodash</a>.  I&#39;ll add the code in description then"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1571844355, "post_id": 58525697, "comment_id": 103377032, "body": "That article is 4 years old.  It&#39;s either out-of-date, or that was a mistake on their part.  I think the error message is a better source of information than some blog author.  You might try using a 4-yo version of the library if that style of chaining is what you&#39;re after, though I believe this is a mistake by the author of the blog."}, {"owner": {"reputation": 3003, "user_id": 527123, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57ae00dfb3739f88fb58602ff2c8f526?s=128&d=identicon&r=PG", "display_name": "danbord", "link": "https://stackoverflow.com/users/527123/danbord"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1571844772, "post_id": 58525697, "comment_id": 103377249, "body": "@Amy Its also in lodash documentation.  <a href=\"https://lodash.com/docs/4.17.15#lodash\" rel=\"nofollow noreferrer\">lodash.com/docs/4.17.15#lodash</a>.  Search for &quot;_(value)&quot; in the page.  Sorry I cannot make a direct link to it"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1571848338, "post_id": 58525697, "comment_id": 103379025, "body": "Very interesting!  I&#39;ve used Lodash for almost 5 years, and I did not know this syntax existed.  More interesting, I can use this syntax in my own projects, so I suspect it your issue results from the particular Lodash build in use.  It was (<i>apparently</i>) built without support for implicit chaining."}, {"owner": {"reputation": 3003, "user_id": 527123, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57ae00dfb3739f88fb58602ff2c8f526?s=128&d=identicon&r=PG", "display_name": "danbord", "link": "https://stackoverflow.com/users/527123/danbord"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1571925536, "post_id": 58525697, "comment_id": 103407485, "body": "Glad you learned something out of it :)  But still don&#39;t understand why my implementation of lodash in my stackblitz project doesn&#39;t work with implicits :("}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1571926371, "post_id": 58525697, "comment_id": 103407973, "body": "I think its probably the build you&#39;re using.  I don&#39;t think its complete; I can use it in my project, but I&#39;m using the full build, not a modularized NodeJS build.  Lodash provides a wide variety of custom builds.  <a href=\"https://lodash.com/custom-builds\" rel=\"nofollow noreferrer\">lodash.com/custom-builds</a>"}], "answers": [{"tags": [], "owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "is_accepted": false, "score": 2, "last_activity_date": 1571844313, "creation_date": 1571844313, "answer_id": 58526279, "question_id": 58525697, "link": "https://stackoverflow.com/questions/58525697/lodash-implicit-gives-is-not-a-function-error/58526279#58526279", "title": "lodash implicit gives &quot;_ is not a function&quot; error", "body": "<p>Lodash's <code>_</code> is not a function, it is an object, just like the error message indicates.</p>\n\n<p>You are only using Lodash in two places in your code, and only one of those places uses <code>_</code> as a function.  This line of your code: </p>\n\n<pre><code>_([\"a\", \"b\", \"c\"]).filter(itm =&gt; itm == \"b\")\n</code></pre>\n\n<p>should be:</p>\n\n<pre><code>_.filter([\"a\", \"b\", \"c\"], itm =&gt; itm == \"b\")\n</code></pre>\n"}], "owner": {"reputation": 3003, "user_id": 527123, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57ae00dfb3739f88fb58602ff2c8f526?s=128&d=identicon&r=PG", "display_name": "danbord", "link": "https://stackoverflow.com/users/527123/danbord"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1041, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1571845275, "creation_date": 1571842578, "last_edit_date": 1571845275, "question_id": 58525697, "link": "https://stackoverflow.com/questions/58525697/lodash-implicit-gives-is-not-a-function-error", "title": "lodash implicit gives &quot;_ is not a function&quot; error", "body": "<p>When trying to use lodash as implicit it gives the error \"_ is not a function\"</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport * as _ from \"lodash\";\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent  {\n  name = 'Angular';\n\n  testImplicit(){\n\n    try{\n      _([\"a\", \"b\", \"c\"]).filter(itm =&gt; itm == \"b\")\n      alert(\"ok\")\n    }\n    catch(err){\n      alert(\"error : \" + err)\n    }\n\n\n  }\n\n  testExplicit(){\n\n    _.filter([\"a\", \"b\", \"c\"], itm =&gt; itm == \"b\")\n    alert(\"ok\")\n  }\n\n\n}\n</code></pre>\n\n<p>You can see an example at stackblitz here : <a href=\"https://stackblitz.com/edit/angular-zrxrru\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-zrxrru</a></p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 1240, "user_id": 2543115, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ee42288531002f4157dde4a01339a92b?s=128&d=identicon&r=PG", "display_name": "Alf Nielsen", "link": "https://stackoverflow.com/users/2543115/alf-nielsen"}, "edited": false, "score": 1, "creation_date": 1571860449, "post_id": 58525925, "comment_id": 103384079, "body": "I can see that I should have added more examples from the Sandbox test. I have now updated the question. When I declare a new constant of an interface the check is done, but it isn&#39;t for the return type of the function. I also updated the actual question, because I really need to be able to make Typescript test my return type. Sorry for not being precise."}], "tags": [], "owner": {"reputation": 56338, "user_id": 4265352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lzAUc5pYb24/AAAAAAAAAAI/AAAAAAAAAGQ/q3h7bZUnqrs/photo.jpg?sz=128", "display_name": "axiac", "link": "https://stackoverflow.com/users/4265352/axiac"}, "is_accepted": false, "score": 1, "last_activity_date": 1571843250, "creation_date": 1571843250, "answer_id": 58525925, "question_id": 58525694, "link": "https://stackoverflow.com/questions/58525694/why-does-typescript-allowed-incorrect-plain-object-return-for-interface-definiti/58525925#58525925", "title": "Why does Typescript allowed incorrect plain object return for Interface definition", "body": "<p>As the <a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html\" rel=\"nofollow noreferrer\">TypeScript documentation</a> says:</p>\n\n<blockquote>\n  <p>One of TypeScript\u2019s core principles is that type checking focuses on the shape that values have. This is sometimes called \u201cduck typing\u201d or \u201cstructural subtyping\u201d. In TypeScript, interfaces fill the role of naming these types, and are a powerful way of defining contracts within your code as well as contracts with code outside of your project.</p>\n</blockquote>\n\n<p>An interface, in most languages that support the concept, is a set of properties. Any object that implements the interface must provide them but it is not forced to limit its properties to those defined by that interface. In fact, an object may implement any number of interfaces.<br>\nEven more, there is no need to declare when a class implements an interface. One can but they do not need to. TypeScript doesn't care about it. If an object provides all the properties defined as required by an interface then that object is compatible with the interface.</p>\n\n<p>Or, using the <a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html#our-first-interface\" rel=\"nofollow noreferrer\">words of the documentation</a>:</p>\n\n<blockquote>\n  <p>It\u2019s worth pointing out that the type checker does not require that these properties come in any sort of order, only that the properties the interface requires are present and have the required type.</p>\n</blockquote>\n\n<p>The declaration of your function says it returns an object that implements the interface <code>S</code>.<br>\nAny object that contains a string property named <code>string1</code> is compatible with the interface <code>S</code> and can be successfully returned by the function.</p>\n"}], "owner": {"reputation": 1240, "user_id": 2543115, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ee42288531002f4157dde4a01339a92b?s=128&d=identicon&r=PG", "display_name": "Alf Nielsen", "link": "https://stackoverflow.com/users/2543115/alf-nielsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "closed_date": 1571913166, "answer_count": 1, "score": 0, "last_activity_date": 1571894238, "creation_date": 1571842564, "last_edit_date": 1571894238, "question_id": 58525694, "link": "https://stackoverflow.com/questions/58525694/why-does-typescript-allowed-incorrect-plain-object-return-for-interface-definiti", "closed_reason": "Duplicate", "title": "Why does Typescript allowed incorrect plain object return for Interface definition", "body": "<p><strong>UPDATE:</strong></p>\n\n<p>The 'why' is answered by another qution. </p>\n\n<p>The 'how to fix' is now this new question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/58534538/how-can-i-make-typescript-check-that-a-return-type-is-exactly-matching-a-structu\">How can I make Typescript check that a return type is exactly matching a structure?</a></p>\n\n<hr>\n\n<p>Original:</p>\n\n<p>Im missing error statement because Typescript isn't telling me that I have added incorrect data.</p>\n\n<p>Why are Typescript allowing this? </p>\n\n<p>Is this a bug or what is the reasoning for this?</p>\n\n<blockquote>\n  <p>See codesandbox here: <a href=\"https://codesandbox.io/s/k3ud7\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/k3ud7</a></p>\n</blockquote>\n\n<pre><code>interface ITester {\n  string1: string;\n}\n\ntype TestType&lt;S = any&gt; = (item: S) =&gt; S | undefined;\n\nconst Foo: TestType&lt;ITester&gt; = input =&gt; {\n  return {\n    ...input,\n    foo: 42 // &lt;-- This should not be allowed !\n  };\n};\n</code></pre>\n\n<p>More examples where Typescript does ensure that extra properties are not added:</p>\n\n<pre><code>const t1: ITester = {\n  string1: \"Hi\",\n  foo: 42 // &lt;-- Typescript dont allow this\n};\nconst Foo3: TestType&lt;ITester&gt; = input =&gt; {\n  const returnVal: ITester = {\n    ...input,\n    foo: 42 // &lt;-- Typescript dont allow this!\n  };\n  return returnVal;\n};\n</code></pre>\n"}, {"tags": ["angular", "typescript", "console"], "comments": [{"owner": {"reputation": 1226, "user_id": 8129670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0154e301979f85ac1d5ce168b84190a7?s=128&d=identicon&r=PG", "display_name": "Jelle", "link": "https://stackoverflow.com/users/8129670/jelle"}, "edited": false, "score": 0, "creation_date": 1571843061, "post_id": 58525678, "comment_id": 103376336, "body": "What is the exact use case for this? Wouldn&#39;t it be as simple as not called the console.log for that specific component.  Another option would be to create a LogService, in which you pass the log message and the source. And then inside the service check whether the source matches a list of your blacklisted sources."}, {"owner": {"reputation": 293, "user_id": 11839297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/175f774eb8e5023285f002ce29503d23?s=128&d=identicon&r=PG&f=1", "display_name": "jjzjx118_2", "link": "https://stackoverflow.com/users/11839297/jjzjx118-2"}, "reply_to_user": {"reputation": 1226, "user_id": 8129670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0154e301979f85ac1d5ce168b84190a7?s=128&d=identicon&r=PG", "display_name": "Jelle", "link": "https://stackoverflow.com/users/8129670/jelle"}, "edited": false, "score": 0, "creation_date": 1572243625, "post_id": 58525678, "comment_id": 103486506, "body": "@Jelle I&#39;m developing with other developers , and sometimes they feel annoying  with my logs , but it could be cumbersome remove console one by one , so I want to disable console just in my part of the code. (by giving a property or something else)"}], "answers": [{"tags": [], "owner": {"reputation": 654, "user_id": 6451395, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/81d87e5006c9f00b2e72dcd0e9c3dce2?s=128&d=identicon&r=PG&f=1", "display_name": "Krish", "link": "https://stackoverflow.com/users/6451395/krish"}, "is_accepted": false, "score": 0, "last_activity_date": 1571843350, "creation_date": 1571843350, "answer_id": 58525963, "question_id": 58525678, "link": "https://stackoverflow.com/questions/58525678/is-there-a-way-to-disable-console-log-in-specified-component-or-fileangular-8/58525963#58525963", "title": "Is there a way to disable console.log in specified component or file?(Angular 8)", "body": "<p>Create your own logger service and write a function in it. Let's say <code>loggerService</code></p>\n\n<pre><code>//Declare a boolean variable     \nprint = true\n\n//call the console function in your component\nthis.loggerService.console(print, \"console your message\" );\n</code></pre>\n\n<p>In the service you can implement your own console function, which prints message to window console</p>\n\n<p>This is one of the method, we created this method in our project to send client specific errors to analytics server</p>\n"}], "owner": {"reputation": 293, "user_id": 11839297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/175f774eb8e5023285f002ce29503d23?s=128&d=identicon&r=PG&f=1", "display_name": "jjzjx118_2", "link": "https://stackoverflow.com/users/11839297/jjzjx118-2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571843350, "creation_date": 1571842495, "question_id": 58525678, "link": "https://stackoverflow.com/questions/58525678/is-there-a-way-to-disable-console-log-in-specified-component-or-fileangular-8", "title": "Is there a way to disable console.log in specified component or file?(Angular 8)", "body": "<p>I know we can use </p>\n\n<pre><code>if (environment.production) {\n  enableProdMode();\n  if(window){\n    window.console.log=function(){};\n  }\n}\n\n</code></pre>\n\n<p>to control the console in the whole project. but what if I only want to disable console in a specified component or file?</p>\n\n<p>is there a way to do that?</p>\n"}, {"tags": ["javascript", "typescript", "deserialization"], "comments": [{"owner": {"reputation": 7276, "user_id": 5784924, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LC3Oq.png?s=128&g=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/5784924/nicolas"}, "edited": false, "score": 1, "creation_date": 1571842113, "post_id": 58525507, "comment_id": 103375808, "body": "You might have to set the <code>name</code> parameter to be optional : <code>name?:string = &quot;myname&quot;</code>."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 3, "creation_date": 1571842122, "post_id": 58525507, "comment_id": 103375814, "body": "That&#39;s not JSON. That&#39;s an object literal. JSON is a text format."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 3, "creation_date": 1571842237, "post_id": 58525507, "comment_id": 103375869, "body": "Don&#39;t use classes for this. Use interfaces."}], "answers": [{"comments": [{"owner": {"reputation": 2129, "user_id": 389023, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PcJEd.jpg?s=128&g=1", "display_name": "Sagi Mann", "link": "https://stackoverflow.com/users/389023/sagi-mann"}, "edited": false, "score": 0, "creation_date": 1571846564, "post_id": 58526037, "comment_id": 103378158, "body": "Not sure I follow option #2. Calling new MyClass({action:&quot;a&quot;}) doesnt seem to work. But calling MyClass(&quot;a&quot;) does. I am specifically looking for the former because I need a way to get a compiler error in case I forget a NAMED argument."}, {"owner": {"reputation": 5568, "user_id": 4166367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c9P3c.jpg?s=128&g=1", "display_name": "Sergeon", "link": "https://stackoverflow.com/users/4166367/sergeon"}, "reply_to_user": {"reputation": 2129, "user_id": 389023, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PcJEd.jpg?s=128&g=1", "display_name": "Sagi Mann", "link": "https://stackoverflow.com/users/389023/sagi-mann"}, "edited": false, "score": 0, "creation_date": 1571903878, "post_id": 58526037, "comment_id": 103395953, "body": "yeah the constructor only takes a string parameter, I made a mistake with the param. If you&#39;re not using the constructor, and only want intellisense about forgotten fields, it is better to use an interface. I&#39;ll edit my answer"}, {"owner": {"reputation": 2129, "user_id": 389023, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PcJEd.jpg?s=128&g=1", "display_name": "Sagi Mann", "link": "https://stackoverflow.com/users/389023/sagi-mann"}, "edited": false, "score": 0, "creation_date": 1572167609, "post_id": 58526037, "comment_id": 103471142, "body": "Thanks, tried that, but again, the problem is that I can&#39;t set any defaults that aren&#39;t coming from the object literal &quot;initializer&quot;. I finally came up with a different solution which combines both approaches at a tradeoff, I&#39;ve posted the answer below."}], "tags": [], "owner": {"reputation": 5568, "user_id": 4166367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c9P3c.jpg?s=128&g=1", "display_name": "Sergeon", "link": "https://stackoverflow.com/users/4166367/sergeon"}, "is_accepted": false, "score": 3, "last_activity_date": 1571910688, "last_edit_date": 1571910688, "creation_date": 1571843585, "answer_id": 58526037, "question_id": 58525507, "link": "https://stackoverflow.com/questions/58525507/typescript-how-to-initialize-derived-class-from-object/58526037#58526037", "title": "TypeScript: How to initialize derived class from object?", "body": "<p>When you write:</p>\n\n<p><code>let obj1: MyClass = { action: \"act1\" };</code></p>\n\n<p>You are using the class <code>MyClass</code> <strong>as a type</strong>, in the sense that you're telling the compiler that the variable <code>obj1</code> complies with the <code>MyClass</code> type. It has to have all the mandatory fields of the class and cannot have any not known properties.</p>\n\n<p>This is nice because if the type would have 200 properties, the intellisense could hint you about missing properties, for instance.</p>\n\n<p>Now, <code>MyClass</code> is actually a <code>class</code>, so it does not only work as a type/interface. It also has some functionality, i.e. you can invoke the constructor and you can use <code>extends</code> when declaring the class.</p>\n\n<p>Now, default properties of a class aren't default properties for the type. If you try to add a initializer in a typescript <code>interface</code> or <code>type</code>, you will see an error; instead, when you add a default property to a class, it means that an instance will have that property initialized to the default value <strong>only when called from the constructor</strong>.</p>\n\n<p>So, there are some things you can do to fix the issue:</p>\n\n<ol>\n<li>You may continue using <code>MyClass</code> as a type in that scenario, but then you need to still declare the <code>name</code> prop in the object literal:</li>\n</ol>\n\n<p><code>let obj1: MyClass = {action: \"act1\", name: \"first\"};</code></p>\n\n<p>If you do so, you still will face a:</p>\n\n<blockquote>\n  <p>Object literal may only specify known properties</p>\n</blockquote>\n\n<p>Because the <code>action</code> property does not exist in <code>MyClass</code>. You would need to add an <code>action</code> property to <code>MyClass</code>.</p>\n\n<ol start=\"2\">\n<li>Use a constructor</li>\n</ol>\n\n<p><code>let obj1 = new MyClass(\"act1\");</code></p>\n\n<p>While you can in some scenarios have a valid reason to use classes as types/interfaces, you should probably call the class constructor when possible -like in this example-, or, as a comment suggest, use an interface for this.</p>\n\n<p>In this case, I think you should prefer to call the constructor.</p>\n\n<ol start=\"3\">\n<li>If you only need the type to get compiler checks/intellisense on the variable type, you can use an interface: </li>\n</ol>\n\n<pre><code>interface MyCustomType {\n  name: string;\n  action?: string;\n}\n</code></pre>\n\n<p>So you get a warning if you try to type a variable as <code>MyCustomType</code> without the name:</p>\n\n<pre><code>let obj: MyCustomType = {\n  action: 'act1',\n} // error, you need to set 'name' since it is a mandatory field\n</code></pre>\n\n<p>You can set an object with or without action, since it is optional (due to the '?' in the declaration).</p>\n\n<p>You cannot add unknown fields:</p>\n\n<pre><code>let obj: MyCustomType = {\n  name: 'name',\n  value: 1, // error, unknown field\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 179, "user_id": 12219600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x3cgL.png?s=128&g=1", "display_name": "samhoooo", "link": "https://stackoverflow.com/users/12219600/samhoooo"}, "is_accepted": false, "score": 0, "last_activity_date": 1571844036, "creation_date": 1571844036, "answer_id": 58526188, "question_id": 58525507, "link": "https://stackoverflow.com/questions/58525507/typescript-how-to-initialize-derived-class-from-object/58526188#58526188", "title": "TypeScript: How to initialize derived class from object?", "body": "<p>In your code <code>let obj1: MyClass = { action: \"act1\" };</code></p>\n\n<p>You are not initializing <code>obj1</code> to be an instance of <code>MyClass</code>, but instead assigning an object <code>{ action: \"act1\" }</code> to a variable supposed to have type <code>MyClass</code>. So the typescript error arise.</p>\n\n<p>Correct implementation:</p>\n\n<pre><code>class MyClass {\n    name: string = \"myname\";\n    constructor(public action: string) { \n    }\n}\n\nlet obj1 = new MyClass(\"action\");\nconsole.log(obj1);\n\n/* \n   outputs:\n\n   {\n      action: \"action\"\n      name: \"myname\"\n   }\n*/\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2129, "user_id": 389023, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PcJEd.jpg?s=128&g=1", "display_name": "Sagi Mann", "link": "https://stackoverflow.com/users/389023/sagi-mann"}, "is_accepted": false, "score": 0, "last_activity_date": 1572184810, "last_edit_date": 1572184810, "creation_date": 1572167781, "answer_id": 58578023, "question_id": 58525507, "link": "https://stackoverflow.com/questions/58525507/typescript-how-to-initialize-derived-class-from-object/58578023#58578023", "title": "TypeScript: How to initialize derived class from object?", "body": "<p>Thanks for all the suggestions above, I've finally come up with a solution that lets me use the ctor and still get errors of any missing/extra values AND letting me set default values that are optional in the object literal \"initializer\":</p>\n\n<pre><code>class MyClassValues {\n    constructor(public name: string, public action?: string) {}\n}\n\nclass MyClass extends MyClassValues {\n    constructor(v: MyClassValues) {\n        super(v.name, \"default1\");\n    }\n}\n\nlet c1 : MyClass = new MyClass({}); // error, missing name\nlet c2 : MyClass = new MyClass({x:\"y\"}); // error, unknown prop\nlet c3 : MyClass = new MyClass({name:\"hello\"}); // no error\nconsole.log(c3.action); // prints \"default1\";\n</code></pre>\n"}], "owner": {"reputation": 2129, "user_id": 389023, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PcJEd.jpg?s=128&g=1", "display_name": "Sagi Mann", "link": "https://stackoverflow.com/users/389023/sagi-mann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1572184810, "creation_date": 1571841980, "last_edit_date": 1571842448, "question_id": 58525507, "link": "https://stackoverflow.com/questions/58525507/typescript-how-to-initialize-derived-class-from-object", "title": "TypeScript: How to initialize derived class from object?", "body": "<p>I have the following code:</p>\n\n<pre><code>class MyClass {\n    name: string = \"myname\";\n    constructor(public action: string) { }\n}\n\nlet obj1: MyClass = { action: \"act1\" };\n</code></pre>\n\n<p>It doesn't compile. The error on the last line is:</p>\n\n<pre><code>Property 'name' is missing in type '{ action: string; }' but required in type 'MyClass'.\n</code></pre>\n\n<p>I was expecting that, because 'name' property has a default value, I would not be expected to specify it for obj1. But it's not the case. Also, it seems the last line does not even call the ctor, so it's not a ctor syntactic sugar but rather a completely different initialization call. Is there a way I can set defaults for some properties and avoid initializing them in this technique?</p>\n"}, {"tags": ["angular", "typescript", "chart.js", "pie-chart"], "comments": [{"owner": {"reputation": 11, "user_id": 12041874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af08821b794dc19655a4da8a1a3968c6?s=128&d=identicon&r=PG&f=1", "display_name": "turingox", "link": "https://stackoverflow.com/users/12041874/turingox"}, "edited": false, "score": 0, "creation_date": 1571841901, "post_id": 58525343, "comment_id": 103375690, "body": "I am aware of other chart solutions for angular, such as ej2.syncfusion, which has this solution upfront but I&#39;d like to stick to Chart.js  <a href=\"https://ej2.syncfusion.com/angular/documentation/accumulation-chart/pie-dough-nut/#various-radius-pie-chart\" rel=\"nofollow noreferrer\">ej2.syncfusion.com/angular/documentation/accumulation-chart/&zwnj;&#8203;&hellip;</a>"}, {"owner": {"reputation": 14180, "user_id": 2358409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RMJS4.png?s=128&g=1", "display_name": "uminder", "link": "https://stackoverflow.com/users/2358409/uminder"}, "edited": false, "score": 0, "creation_date": 1571844417, "post_id": 58525343, "comment_id": 103377064, "body": "This answer may be useful for your issue <a href=\"https://stackoverflow.com/a/56225317/2358409\">stackoverflow.com/a/56225317/2358409</a>"}, {"owner": {"reputation": 11, "user_id": 12041874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af08821b794dc19655a4da8a1a3968c6?s=128&d=identicon&r=PG&f=1", "display_name": "turingox", "link": "https://stackoverflow.com/users/12041874/turingox"}, "reply_to_user": {"reputation": 14180, "user_id": 2358409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RMJS4.png?s=128&g=1", "display_name": "uminder", "link": "https://stackoverflow.com/users/2358409/uminder"}, "edited": false, "score": 0, "creation_date": 1571850533, "post_id": 58525343, "comment_id": 103379948, "body": "@uminder Thank you, seems like it might be quite useful, i&#39;ll get into it"}, {"owner": {"reputation": 11, "user_id": 12041874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af08821b794dc19655a4da8a1a3968c6?s=128&d=identicon&r=PG&f=1", "display_name": "turingox", "link": "https://stackoverflow.com/users/12041874/turingox"}, "reply_to_user": {"reputation": 14180, "user_id": 2358409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RMJS4.png?s=128&g=1", "display_name": "uminder", "link": "https://stackoverflow.com/users/2358409/uminder"}, "edited": false, "score": 0, "creation_date": 1571898726, "post_id": 58525343, "comment_id": 103393609, "body": "@uminder Unfortunately, I wasn&#39;t able to convert that code into usable angular context - I&#39;m rather a beginner to programming :) I will appreciate any new ideas / suggestions !"}], "owner": {"reputation": 11, "user_id": 12041874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af08821b794dc19655a4da8a1a3968c6?s=128&d=identicon&r=PG&f=1", "display_name": "turingox", "link": "https://stackoverflow.com/users/12041874/turingox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 183, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571870525, "creation_date": 1571841511, "last_edit_date": 1571870525, "question_id": 58525343, "link": "https://stackoverflow.com/questions/58525343/change-size-of-one-segment-of-chartjs-pie-in-angular", "title": "Change size of one segment of ChartJS pie in Angular?", "body": "<p>Simple question stated in the topic - I've been struggling with this for a couple of hours, googling and playing with the code but I can't find any solution. </p>\n\n<p>BONUS question: How can I format the legend so that every label is in a separate row?</p>\n\n<p>So the first pic shows what I managed to create:</p>\n\n<p><a href=\"https://imgur.com/GDASyiV\" rel=\"nofollow noreferrer\">https://imgur.com/GDASyiV</a></p>\n\n<p>While the second shows what I want to accomplish:</p>\n\n<p><a href=\"https://imgur.com/34nneia\" rel=\"nofollow noreferrer\">https://imgur.com/34nneia</a></p>\n\n<p>Below the code:</p>\n\n<p>HTML</p>\n\n<pre><code>    [data]=\"pieChartData\" \n    [labels]=\"pieChartLabels\" \n    [chartType]=\"pieChartType\"\n    [options]=\"pieChartOptions\"\n    [plugins]=\"pieChartPlugins\"\n    [colors]=\"pieChartColors\"\n    [legend]=\"pieChartLegend\"&gt;\n  &lt;/canvas&gt; \n</code></pre>\n\n<p>.TS</p>\n\n<pre><code> export class AppComponent  {\n // Pie\n  public pieChartOptions: ChartOptions = {\n    responsive: true,\n    plugins: {\n      datalabels: {\n        align: 'top',\n        color: ['white', 'rgba(59,97,25,1)'],\n        /* formatter: function (value){\n          return Math.round (value) + '%';\n        }, */\n        font: {\n          family: 'sans-serif',\n          weight: 'normal',\n          size: 19,\n        }\n      }\n    },\n    legend: {\n      position: 'bottom',\n      fullWidth: true,\n      display: true,\n      labels: {\n        fontSize: 14,\n        boxWidth: 15,\n        padding: 10\n      }\n    },\n    elements: {\n      arc: {borderWidth: 0}\n    },\n    layout: {\n      padding: {\n        bottom: 0\n      }\n    },\n\n  };\n\n  public pieChartLabels: Label[] = ['Sklepy aktywne', 'Wszystkie sklepy'];\n  public pieChartData: SingleOrMultiDataSet = [124, 590];\n  public pieChartType: ChartType = 'pie';\n  public pieChartLegend = true;\n  public pieChartPlugins = [pluginDataLabels];\n  public pieChartColors = [\n    {\n      backgroundColor: ['rgba(59,97,25,1)', 'rgb(190, 198, 185)']\n    }\n  ];\n\n  constructor() {\n    monkeyPatchChartJsTooltip();\n    monkeyPatchChartJsLegend();\n  } \n</code></pre>\n"}, {"tags": ["angular", "typescript", "azure-active-directory"], "answers": [{"tags": [], "owner": {"reputation": 391, "user_id": 5340896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262bf6765f0c45120e1a3d88945aa422?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Luo", "link": "https://stackoverflow.com/users/5340896/tom-luo"}, "is_accepted": true, "score": 1, "last_activity_date": 1572246386, "creation_date": 1572246386, "answer_id": 58586842, "question_id": 58525047, "link": "https://stackoverflow.com/questions/58525047/msadalangular6service-handle-invalid-logins/58586842#58586842", "title": "MsAdalAngular6Service - Handle Invalid Logins", "body": "<p>When authenticating with AAD, the process is handled independently in \"AAD portal\", instead  of your website. When login is successful, AD portal will redirect to \"redirect url\" you set with valid token.</p>\n\n<p>But if login failed, an error page like below appears and it will NOT redirect:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Jmfrr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jmfrr.png\" alt=\"enter image description here\"></a></p>\n\n<p>Besides, this page is not allowed to customized. So you can't put another login link or some notification for user in here. </p>\n\n<p>Regarding your requirement, a good practice is to provide a page for users to choose to login from AAD or with their individual accounts. \nIn <code>ms-adal-angular6</code>, you can set <code>popUp:true</code> then the login page will appear in pop-up window, not a new page. When login failed, the user just needs to close the window then choose another login method.</p>\n"}], "owner": {"reputation": 4422, "user_id": 154603, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/h0o2e.jpg?s=128&g=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/154603/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 58586842, "answer_count": 1, "score": 0, "last_activity_date": 1572246386, "creation_date": 1571840612, "question_id": 58525047, "link": "https://stackoverflow.com/questions/58525047/msadalangular6service-handle-invalid-logins", "title": "MsAdalAngular6Service - Handle Invalid Logins", "body": "<p>I have an Angular 7 application using the <code>ms-adal-angular6</code> library and am trying to determine my code flow.</p>\n\n<p>I am properly authenticating to AAD with a user who is currently logged in with their AAD account.  I get a fully populated MsAdalAngular6Service variable with all properties filled in.</p>\n\n<p>Where in this process do I determine if the login failed?   My code is as follows:</p>\n\n<pre><code> export class AppComponent {\n\n    constructor(private adalSvc: MsAdalAngular6Service) {\n\n    var token = this.adalSvc.acquireToken('http://adal.resource.com').subscribe((token: string) =&gt; {            \n       // This works fine for pre-logged in users, token is valid\n    });\n\n    }\n }\n</code></pre>\n\n<p>Where am I supposed to check if this entire process \"failed\"?   We are using a mix of individual user accounts as well as Azure AD and if the user does not pass the Azure AD process they need to get re-directed to the IUA process.</p>\n\n<p>Do I just check if this returned token is valid?   At this point, <code>adalSvc</code> has full user information if they user has already been logged in to Azure AD.</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 175, "user_id": 12238521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8973288c73d093449946af4d2544c52e?s=128&d=identicon&r=PG&f=1", "display_name": "krmckone", "link": "https://stackoverflow.com/users/12238521/krmckone"}, "edited": false, "score": 0, "creation_date": 1571840187, "post_id": 58524577, "comment_id": 103374699, "body": "It sounds like what you need is to use OOP and have class B extend class A so it can inherit those fields from A. You can then add more fields to class B as needed."}, {"owner": {"reputation": 5341, "user_id": 8597510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I3rOM.jpg?s=128&g=1", "display_name": "Tsvetan Ganev", "link": "https://stackoverflow.com/users/8597510/tsvetan-ganev"}, "edited": false, "score": 1, "creation_date": 1571840583, "post_id": 58524577, "comment_id": 103374943, "body": "I don&#39;t think this question has to do with Angular at all."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1571842096, "post_id": 58524577, "comment_id": 103375799, "body": "Without seeing how the classes are instantiated it&#39;s difficult to advise. If the classes represent data that is returned by your backend, you need to go back to the drawing board. Also, as previously noted, this has nothing to do with angular. For that matter, it has nothing to do with typescript. It&#39;s a JavaScript question"}, {"owner": {"reputation": 393, "user_id": 1338411, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/45c01e6bd8136e4abfaab34005ae0667?s=128&d=identicon&r=PG", "display_name": "Micchaleq", "link": "https://stackoverflow.com/users/1338411/micchaleq"}, "edited": false, "score": 0, "creation_date": 1571934349, "post_id": 58524577, "comment_id": 103412144, "body": "Ok thanks for your advices. I will try to analyse it (compare) when I will be able. Now I have another problem with An8 because I&#39;m begginer in this field."}], "owner": {"reputation": 393, "user_id": 1338411, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/45c01e6bd8136e4abfaab34005ae0667?s=128&d=identicon&r=PG", "display_name": "Micchaleq", "link": "https://stackoverflow.com/users/1338411/micchaleq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 196, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571840594, "creation_date": 1571839116, "last_edit_date": 1571840594, "question_id": 58524577, "link": "https://stackoverflow.com/questions/58524577/angular-2-8-nested-class-best-option", "title": "Angular 2 | 8 nested class - best option", "body": "<p>I have a question about \"nested classes\", because I would like to build optimalized app.</p>\n\n<p>For example I have two models / classes </p>\n\n<pre><code>export class A{\n    public id: number;\n}\n\nexport class B{\n    public id: number;\n    public a: A[];\n}\n</code></pre>\n\n<p>and objects like that:</p>\n\n<pre><code>new B(1, [new A(1), new A(2), new A(3)]\nnew B(1, [new A(2), new A(3)]\nnew B(1, [new A(1), new A(3)]\n</code></pre>\n\n<p>As u can see there are many data which are duplicated (objs A). \nOf course it is only an example because in the A class are more fields (in the real world). </p>\n\n<p>Now is the main question.\nWhat is optimal (or maybe it doesn't matter) to keep every A obj in the B obj or maybe to keep in the B object only ids of A objects. Does angular reduce these data automatycally or not?</p>\n\n<p>In the real app I would like to create form where user can chose color and structure of color. There are many duplicates of structures so I thinked that the ids of structures will be enought but im not sure. \nSo what is better more duplicated data or more operation to do. </p>\n\n<p>ADD:\nI use Symfony4 as backend and there I have relationship in the DB (doctrime2) like OneToOne, ManyToOne, OneToMany and ManyToMany. That is why I would like to find best approach. </p>\n"}, {"tags": ["angular", "typescript", "angular-datatables"], "comments": [{"owner": {"reputation": 76942, "user_id": 1407478, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mDZaj.png?s=128&g=1", "display_name": "davidkonrad", "link": "https://stackoverflow.com/users/1407478/davidkonrad"}, "edited": false, "score": 0, "creation_date": 1572175674, "post_id": 58524227, "comment_id": 103472776, "body": "Start by not wrapping the table inside a form ..."}, {"owner": {"reputation": 417, "user_id": 9745982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c513d1c336ea9be0078556cad28a428?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/9745982/santhosh"}, "reply_to_user": {"reputation": 76942, "user_id": 1407478, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mDZaj.png?s=128&g=1", "display_name": "davidkonrad", "link": "https://stackoverflow.com/users/1407478/davidkonrad"}, "edited": false, "score": 0, "creation_date": 1572238963, "post_id": 58524227, "comment_id": 103485684, "body": "how to do that @davidkonrad"}, {"owner": {"reputation": 76942, "user_id": 1407478, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mDZaj.png?s=128&g=1", "display_name": "davidkonrad", "link": "https://stackoverflow.com/users/1407478/davidkonrad"}, "edited": false, "score": 0, "creation_date": 1572256366, "post_id": 58524227, "comment_id": 103490833, "body": "I guess you have the entire table inside <code>&lt;form&gt;&lt;&#47;form&gt;</code> ...? Chrome should not autopopulate an input without the form tag."}, {"owner": {"reputation": 417, "user_id": 9745982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c513d1c336ea9be0078556cad28a428?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/9745982/santhosh"}, "reply_to_user": {"reputation": 76942, "user_id": 1407478, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mDZaj.png?s=128&g=1", "display_name": "davidkonrad", "link": "https://stackoverflow.com/users/1407478/davidkonrad"}, "edited": false, "score": 0, "creation_date": 1572266353, "post_id": 58524227, "comment_id": 103495185, "body": "that is just a normal table when the component loads table with options loads from the type script check this link <a href=\"http://l-lin.github.io/angular-datatables/#/basic/zero-config\" rel=\"nofollow noreferrer\">Angular-datables</a> @davidkornad"}], "answers": [{"comments": [{"owner": {"reputation": 417, "user_id": 9745982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c513d1c336ea9be0078556cad28a428?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/9745982/santhosh"}, "edited": false, "score": 0, "creation_date": 1571895157, "post_id": 58524861, "comment_id": 103392333, "body": "i tried this one still it is not working chrome still autofill search bar with the email-id @blackMagician"}, {"owner": {"reputation": 1067, "user_id": 8063684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00d663f8e9021166c4075e9b4eb6c632?s=128&d=identicon&r=PG&f=1", "display_name": "Ludwig", "link": "https://stackoverflow.com/users/8063684/ludwig"}, "edited": false, "score": 0, "creation_date": 1571914583, "post_id": 58524861, "comment_id": 103401551, "body": "If you overwrite the input you should also add a random id attribute. Chrome uses the id of an input to find autofill recommendations."}, {"owner": {"reputation": 379, "user_id": 9945674, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-iSoYEK-ZqA8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3fvnXMBwICQ1du6ykC6MMcz7bD7A/mo/photo.jpg?sz=128", "display_name": "GaryB", "link": "https://stackoverflow.com/users/9945674/garyb"}, "edited": false, "score": 0, "creation_date": 1571919809, "post_id": 58524861, "comment_id": 103404283, "body": "In chrome to use autocomplete=off you have to add the input into a form"}, {"owner": {"reputation": 417, "user_id": 9745982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c513d1c336ea9be0078556cad28a428?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/9745982/santhosh"}, "edited": false, "score": 0, "creation_date": 1572239078, "post_id": 58524861, "comment_id": 103485707, "body": "Even tried with the updated code its not working @blackMagician"}], "tags": [], "owner": {"reputation": 11, "user_id": 10870123, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jhZOGukt0lI/AAAAAAAAAAI/AAAAAAAAABU/YQJzwU4H0sw/photo.jpg?sz=128", "display_name": "blackMagician", "link": "https://stackoverflow.com/users/10870123/blackmagician"}, "is_accepted": false, "score": 1, "last_activity_date": 1571924995, "last_edit_date": 1571924995, "creation_date": 1571839996, "answer_id": 58524861, "question_id": 58524227, "link": "https://stackoverflow.com/questions/58524227/disable-the-chrome-autofill-for-the-table-search/58524861#58524861", "title": "Disable the Chrome autofill for the Table search", "body": "<p>I look in the Github repository to see how the hell it works.</p>\n\n<p>I found a dependency on the jquery library in this documentation:</p>\n\n<p><a href=\"http://l-lin.github.io/angular-datatables/#/getting-started\" rel=\"nofollow noreferrer\">http://l-lin.github.io/angular-datatables/#/getting-started</a></p>\n\n<p><strong>npm install datatables.net --save</strong></p>\n\n<p>Later i searched inside of the jquery library for the input field.</p>\n\n<p>/node_modules/datatables.net/js/jquery.dataTables.js</p>\n\n<p>in the <strong>line 4182</strong> i just added a property <strong>autocomplete=\"off\"</strong></p>\n\n<pre><code>var input = '&lt;input type=\"search\" autocomplete=\"off\" class=\"'+classes.sFilterInput+'\"/&gt;';\n</code></pre>\n\n<p>Yep, it is a bit tricky, if it works let me know to make an pull request in the datatables github repository.</p>\n\n<blockquote>\n  <p>Update</p>\n</blockquote>\n\n<p>Chrome intentionaly ignores <strong>autocomplete=\"off\"</strong> and <strong>autocomplete=\"false\"</strong> so use <strong>autocomplete=\"new-search\"</strong></p>\n\n<p>I do not add the same tag in jquery.dataTables.min.js, and it is certain that the compiler is using the .min.js file</p>\n\n<p>Find the next expresion inside of </p>\n\n<p><em>/node_modules/datatables.net/js/jquery.dataTables.min.js</em></p>\n\n<pre><code>'&lt;input type=\"search\" class=\"'+b.sFilterInput+'\"/&gt;'\n</code></pre>\n\n<p>And replace for:</p>\n\n<pre><code>'&lt;input type=\"search\" autocomplete=\"new-search\" class=\"'+b.sFilterInput+'\"/&gt;'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 417, "user_id": 9745982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c513d1c336ea9be0078556cad28a428?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/9745982/santhosh"}, "edited": false, "score": 0, "creation_date": 1571923119, "post_id": 58541404, "comment_id": 103406036, "body": "as the angular-datatables is giving the search option i want to disable auto fill ,I dont want to create a new function just to search and again render into the table. @GaryB"}, {"owner": {"reputation": 379, "user_id": 9945674, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-iSoYEK-ZqA8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3fvnXMBwICQ1du6ykC6MMcz7bD7A/mo/photo.jpg?sz=128", "display_name": "GaryB", "link": "https://stackoverflow.com/users/9945674/garyb"}, "reply_to_user": {"reputation": 417, "user_id": 9745982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c513d1c336ea9be0078556cad28a428?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/9745982/santhosh"}, "edited": false, "score": 0, "creation_date": 1571923777, "post_id": 58541404, "comment_id": 103406426, "body": "okay then there is a SO post <a href=\"https://stackoverflow.com/a/30976223/9945674\">stackoverflow.com/a/30976223/9945674</a>"}], "tags": [], "owner": {"reputation": 379, "user_id": 9945674, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-iSoYEK-ZqA8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3fvnXMBwICQ1du6ykC6MMcz7bD7A/mo/photo.jpg?sz=128", "display_name": "GaryB", "link": "https://stackoverflow.com/users/9945674/garyb"}, "is_accepted": false, "score": 0, "last_activity_date": 1571920066, "creation_date": 1571920066, "answer_id": 58541404, "question_id": 58524227, "link": "https://stackoverflow.com/questions/58524227/disable-the-chrome-autofill-for-the-table-search/58541404#58541404", "title": "Disable the Chrome autofill for the Table search", "body": "<p>if its acceptable for you here is a custom search for tables what im using:</p>\n\n<p>html:</p>\n\n<pre><code>&lt;form  [formGroup]=\"searchTableForm\" (ngSubmit)=\"onSubmit()\"&gt;\n    &lt;div class=\"tableSearchBox\"&gt;\n      &lt;input class=\"tableSearch\" required formControlName=\"search\"&gt;\n      &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>.ts:</p>\n\n<pre><code>onSubmit(){\n   this.datatableElement.dtInstance.then((dtInstance: DataTables.Api)=&gt;{\n     dtInstance.search(this.searchTableForm.value.search).draw()\n   })\n}\n</code></pre>\n\n<p>im running it every time when the forms value changes</p>\n"}], "owner": {"reputation": 417, "user_id": 9745982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c513d1c336ea9be0078556cad28a428?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/9745982/santhosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 345, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1571924995, "creation_date": 1571838062, "last_edit_date": 1571898627, "question_id": 58524227, "link": "https://stackoverflow.com/questions/58524227/disable-the-chrome-autofill-for-the-table-search", "title": "Disable the Chrome autofill for the Table search", "body": "<p>I am using the <a href=\"https://www.npmjs.com/package/angular-datatables\" rel=\"nofollow noreferrer\">angular-datatables</a> where chrome auto fill the table search with the email-id.</p>\n\n<p>I tried to override the search with the empty string but still chrome autofill the email-id</p>\n\n<pre><code>  dtTrigger: Subject&lt;any&gt; = new Subject();\n  dtOptions: DataTables.Settings = {};\n\n  this.dtOptions = {\n  pagingType: 'full_numbers',\n  pageLength: 10,\n  \"dom\": '&lt;\"top\"f&gt;rt&lt;\"bottom\"lip&gt;&lt;\"clear\"&gt;',\n  responsive: true,\n  search :{\n    search : \" \"\n    }\n\n};\n</code></pre>\n\n<p>so here <strong>search : \"anything\"</strong> it searchs for anything in the table, i tried null option empty string chrome auto fills with email id.</p>\n\n<p>how can force chrome not to fill email in the search input.</p>\n"}, {"tags": ["typescript", "progressive-web-apps", "lit-element"], "comments": [{"owner": {"reputation": 3933, "user_id": 7186598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5f869a58e83c9ef8ddd17c4c7879ef1?s=128&d=identicon&r=PG&f=1", "display_name": "Gerrit0", "link": "https://stackoverflow.com/users/7186598/gerrit0"}, "edited": false, "score": 0, "creation_date": 1571839560, "post_id": 58524044, "comment_id": 103374311, "body": "I&#39;m willing to bet the event has already fired. You should also be checking <code>document.readyState</code>"}, {"owner": {"reputation": 71, "user_id": 11592427, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QFEW49_cB4w/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZfZXWfkyfYtwt4TF-_pTOyJ-UYXw/mo/photo.jpg?sz=128", "display_name": "Dinesh kumar", "link": "https://stackoverflow.com/users/11592427/dinesh-kumar"}, "reply_to_user": {"reputation": 3933, "user_id": 7186598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5f869a58e83c9ef8ddd17c4c7879ef1?s=128&d=identicon&r=PG&f=1", "display_name": "Gerrit0", "link": "https://stackoverflow.com/users/7186598/gerrit0"}, "edited": false, "score": 0, "creation_date": 1571887949, "post_id": 58524044, "comment_id": 103390614, "body": "i checked by debugging. the code the debugger never went inside the addeventlistner method. I actually want to where should i put addEventListener method."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 11592427, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QFEW49_cB4w/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZfZXWfkyfYtwt4TF-_pTOyJ-UYXw/mo/photo.jpg?sz=128", "display_name": "Dinesh kumar", "link": "https://stackoverflow.com/users/11592427/dinesh-kumar"}, "edited": false, "score": 0, "creation_date": 1571887867, "post_id": 58526289, "comment_id": 103390598, "body": "its not javascript, its typescript. so i can not write this inside script tag."}, {"owner": {"reputation": 8273, "user_id": 68051, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a1aabc40d859fcb786eb4d28b95d299?s=128&d=identicon&r=PG", "display_name": "Tim Perry", "link": "https://stackoverflow.com/users/68051/tim-perry"}, "reply_to_user": {"reputation": 71, "user_id": 11592427, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QFEW49_cB4w/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZfZXWfkyfYtwt4TF-_pTOyJ-UYXw/mo/photo.jpg?sz=128", "display_name": "Dinesh kumar", "link": "https://stackoverflow.com/users/11592427/dinesh-kumar"}, "edited": false, "score": 2, "creation_date": 1571900710, "post_id": 58526289, "comment_id": 103394490, "body": "The TypeScript part shouldn&#39;t matter for now. You can test with javascript. TypeScript just compiles to JavaScript, at runtime they&#39;re the same thing. You can test with JavaScript in an HTML script tag even in a TypeScript codebase."}], "tags": [], "owner": {"reputation": 8273, "user_id": 68051, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a1aabc40d859fcb786eb4d28b95d299?s=128&d=identicon&r=PG", "display_name": "Tim Perry", "link": "https://stackoverflow.com/users/68051/tim-perry"}, "is_accepted": false, "score": 0, "last_activity_date": 1571844358, "creation_date": 1571844358, "answer_id": 58526289, "question_id": 58524044, "link": "https://stackoverflow.com/questions/58524044/domcontentloaded-not-getting-fired-in-typescript/58526289#58526289", "title": "DOMContentLoaded not getting fired in typescript", "body": "<p>The most likely situation here is that this event has already fired before this code has run.</p>\n\n<p>You can test this by putting an event listener somewhere earlier in your application. One example would be to simply add the below script directly near the top of your HTML page:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;script&gt;\n  document.addEventListener('DOMContentLoaded', () =&gt; {\n    console.log('DOMContentLoaded fired');\n  });\n&lt;/script&gt;\n</code></pre>\n\n<p>That should show the log message in your logs at the point when the event fires, which is likely before the object shown in your code sample above has been instantiated.</p>\n\n<p>In general, this event fires when the main document has loaded and been parsed, but not subresources. This means that if your line of code is run asynchronously from the document loading (e.g. if it waits for a <code>fetch</code> or <code>setTimeout</code>, or if the <code>&lt;script&gt;</code> tag is marked as <code>async</code>) then it's very possible that the event will fire first.</p>\n\n<p>There's one other option: the event might not be firing at all, because the DOM content really hasn't loaded yet. This is far more unlikely, but you can confirm the document state by checking the <code>document.readyState</code> global. If that's set to <code>interactive</code> or <code>complete</code> then the event has fired already.</p>\n"}], "owner": {"reputation": 71, "user_id": 11592427, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QFEW49_cB4w/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZfZXWfkyfYtwt4TF-_pTOyJ-UYXw/mo/photo.jpg?sz=128", "display_name": "Dinesh kumar", "link": "https://stackoverflow.com/users/11592427/dinesh-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 914, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1571844358, "creation_date": 1571837440, "last_edit_date": 1571839248, "question_id": 58524044, "link": "https://stackoverflow.com/questions/58524044/domcontentloaded-not-getting-fired-in-typescript", "title": "DOMContentLoaded not getting fired in typescript", "body": "<p>I Am trying to fire DOMContentLoaded event in typescript after page load is completed.<br></p>\n\n<p>I am unable to figure out where to put <code>addEventListener('DOMContentLoaded', event ()=&gt;{})</code> line, so that I can query for elements loaded as of now I am putting this code in consstructor of my web component class but its not firing.<br></p>\n\n<p>Below is the code.</p>\n\n<pre><code> constructor() {\n    super();\n    document.addEventListener('DOMContentLoaded', (e) =&gt; {\n        this.domCompleteHandler(e)\n    }, false);\n}\n domCompleteHandler(e: Event) {\n    //if (e.target!.readystatechange === \"complete\") {\n        var chkbxes = document!.querySelector('my-app[apptitle=\"my app\"]')!.shadowRoot!.querySelector('[active]')!.shadowRoot!.querySelector(\"#permSection\")!.querySelector(\"#permtable\")!.shadowRoot!.querySelector(\"#permtable\")!.querySelectorAll(\".permchk\");\n        chkbxes!.forEach(el =&gt; {\n            el.addEventListener('click', (e) =&gt; {\n                this.clickHandler(e);\n            });\n        });\n    console.log(e);\n    console.log(chkbxes);\n    //}\n}\n</code></pre>\n"}, {"tags": ["typescript", "firebase", "google-cloud-firestore", "google-cloud-functions"], "answers": [{"comments": [{"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "edited": false, "score": 0, "creation_date": 1571838188, "post_id": 58524156, "comment_id": 103373467, "body": "Amazing! That was it."}], "tags": [], "owner": {"reputation": 193, "user_id": 11737824, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5Hcz9Fv1XPU/AAAAAAAAAAI/AAAAAAAAABc/XtGxi6cxBFQ/photo.jpg?sz=128", "display_name": "Aykhan", "link": "https://stackoverflow.com/users/11737824/aykhan"}, "is_accepted": true, "score": 3, "last_activity_date": 1571837803, "creation_date": 1571837803, "answer_id": 58524156, "question_id": 58523921, "link": "https://stackoverflow.com/questions/58523921/typeerror-cannot-read-property-0-of-undefined-when-trying-to-read-from-fireba/58524156#58524156", "title": "TypeError: Cannot read property &#39;0&#39; of undefined when trying to read from firebase", "body": "<p>Problem is most probably in this line:</p>\n\n<pre><code>business_image: business.restaurant_photos[0] \n</code></pre>\n\n<ol>\n<li>Try checking your spelling</li>\n<li>Check if your database contains given field</li>\n<li>Check if that field is array</li>\n</ol>\n"}], "owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 376, "favorite_count": 0, "accepted_answer_id": 58524156, "answer_count": 1, "score": 0, "last_activity_date": 1599032236, "creation_date": 1571837105, "last_edit_date": 1571841058, "question_id": 58523921, "link": "https://stackoverflow.com/questions/58523921/typeerror-cannot-read-property-0-of-undefined-when-trying-to-read-from-fireba", "title": "TypeError: Cannot read property &#39;0&#39; of undefined when trying to read from firebase", "body": "<p>I've tried to read answers to similar question but couldn't solve my function.</p>\n\n<p>I am building an app for coupons, and I am working now on the function for reacquiring coupons. They way I designed it is so that once a week the function would go through a list of the coupons that should reoccur, and create a similar coupon for the week after.\nThe previous coupon is then removed from the list.</p>\n\n<p>I've currently set the function for 2 minute intervals to check the function, and I keep getting this error</p>\n\n<p><code>Function returned undefined, expected Promise or value</code></p>\n\n<p>Followed by this error:</p>\n\n<p><code>TypeError: Cannot read property '0' of undefined</code> but I can't understand why.</p>\n\n<p>This is my function:</p>\n\n<pre><code>exports.createRecurringDeals = functions.pubsub.schedule('every 2 minutes').timeZone('Asia/Jerusalem').onRun((context) =&gt; {\n    db.collection('recurring_deals').get().then(querySnapshot =&gt; {\n\n        querySnapshot.forEach(bus =&gt; {\n            const businessListDoc = bus.data();\n\n            if (businessListDoc !== undefined) {\n\n                return db.doc('businesses/' + bus.id).get().then(busDoc =&gt; {\n\n                    const business = busDoc.data();\n\n                    if (business !== undefined) {\n\n                        businessListDoc.list.forEach((deal:string) =&gt; {\n                            return db.doc('deals/' + deal).get().then(snapshot =&gt; {\n                                const oldDeal = snapshot.data();\n                                if (oldDeal !== undefined) {\n\n                                    const promises: any = [];\n\n                                    const startTime = oldDeal.startTime + oldDeal.interval;\n                                    const endTime = oldDeal.endTime + oldDeal.interval;\n\n                                    const newDealDoc = db.collection('deals').doc();\n\n                                    const newDeal = {\n                                        id: newDealDoc.id,\n                                        business_ID: business.id,\n                                        business_name: business.name,\n                                        business_address_text: business.address_text,\n                                        business_address_lat: business.address_lat,\n                                        business_address_long: business.address_long,\n                                        business_phone_number: business.phone_number,\n                                        business_image: business.restaurant_photos[0],\n                                        business_categories: business.categories,\n                                        business_sub_categories: business.sub_categories,\n                                        discount: oldDeal.discount,\n                                        timestamp_start: startTime,\n                                        timestamp_end: endTime,\n                                        gmt: oldDeal.gmt,\n                                        amount: oldDeal.amount,\n                                        claimers: [],\n                                        active: true\n                                    };\n\n                                    promises.push(newDealDoc.set(newDeal));\n\n                                    promises.push(db.doc('recurring_deals/' + business.id).update({ list: FieldValue.arrayRemove(oldDeal.id) }));\n\n                                    promises.push(db.doc('recurring_deals/' + business.id).update({ list: FieldValue.arrayUnion(newDeal.id) }));\n\n                                    return Promise.all(promises).catch(err =&gt; console.log(err));\n\n                                } else {\n                                    return null;\n                                };\n                            }).catch(err =&gt; console.log(err));\n                        });\n                        return null;\n                    } else {\n                        return null;\n                    };\n                }).catch(err =&gt; console.log(err));\n            } else {\n                return null;\n            };\n        });\n        return null;\n    }).catch(err =&gt; console.log(err));\n});\n</code></pre>\n\n<p>This is how my data is structured:</p>\n\n<p>Documents of businesses:</p>\n\n<p><a href=\"https://i.stack.imgur.com/JeFbl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JeFbl.png\" alt=\"enter image description here\"></a></p>\n\n<p>Documents of deals:</p>\n\n<p><a href=\"https://i.stack.imgur.com/fLUk8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fLUk8.png\" alt=\"enter image description here\"></a></p>\n\n<p>And then these are the documents of lists of recurring deals. Notice, these documents have the same ID as the business they belong to:</p>\n\n<p><a href=\"https://i.stack.imgur.com/q70yR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q70yR.png\" alt=\"enter image description here\"></a></p>\n\n<p>I keep going through the function and all the data seems to be in the right place, with no misspells, so why isn't it working?</p>\n"}, {"tags": ["reactjs", "typescript", "jestjs", "enzyme"], "comments": [{"owner": {"reputation": 2343, "user_id": 4142873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YPz6m.jpg?s=128&g=1", "display_name": "Woodrow", "link": "https://stackoverflow.com/users/4142873/woodrow"}, "edited": false, "score": 0, "creation_date": 1571837555, "post_id": 58523684, "comment_id": 103373099, "body": "What does the <code>render()</code> function for your JsonInput component look like? Can you please add that to your code example."}, {"owner": {"reputation": 14783, "user_id": 2071697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7d1ded508aa80214b01298b83562406?s=128&d=identicon&r=PG", "display_name": "skyboyer", "link": "https://stackoverflow.com/users/2071697/skyboyer"}, "edited": false, "score": 0, "creation_date": 1571837910, "post_id": 58523684, "comment_id": 103373295, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44625581/testing-a-react-component-with-enzyme-typescript-cant-find-instance-methods\">Testing a React component with Enzyme. Typescript can&#39;t find instance methods</a>"}], "owner": {"reputation": 1530, "user_id": 2856360, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Zh14f.png?s=128&g=1", "display_name": "Tomasz Waszczyk", "link": "https://stackoverflow.com/users/2856360/tomasz-waszczyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571838003, "creation_date": 1571836346, "last_edit_date": 1571838003, "question_id": 58523684, "link": "https://stackoverflow.com/questions/58523684/find-ref-for-testing-in-enzyme", "title": "Find ref for testing in Enzyme", "body": "<p>Having test code:</p>\n\n<pre><code>it('componentDidUpdate should mount and change props', () =&gt; {\n    const onChange = jest.fn();\n    const wrapper = enzyme\n      .mount(\n        withTestTheme(\n          &lt;JsonInput\n            onChange={onChange}\n            onValueChange={mockOnValueChange}\n            value={exampleJsonStringValidated}\n          /&gt;),\n      );\n\n    expect(wrapper.instance().JsonInputRef).toBeTruthy;\n});\n</code></pre>\n\n<p>I got: </p>\n\n<blockquote>\n  <p>Property 'JsonInputRef' does not exist on type 'Component&lt;{}, {},\n  any>'.ts(2339)</p>\n</blockquote>\n\n<p>I want to find the ref (text-area) and then check validity properties in order to write unit test that is why I need it.</p>\n\n<p>render function:</p>\n\n<pre><code>render() {\nconst { height = '', onValueChange, ...restProps } = this.props;\nreturn (\n  &lt;StyledTextArea\n    ref={this.JsonInputRef}\n    {...restProps}\n    onChange={this.handleValueChange}\n    height={height}\n  /&gt;\n);\n}\n</code></pre>\n\n<p>Similar question, but does not work: <a href=\"https://stackoverflow.com/questions/48088489/react-jestjs-enzyme-how-to-test-for-reference-function\">React/JestJS/Enzyme: How to test for reference function?</a></p>\n"}, {"tags": ["typescript", "redux-saga", "worker"], "answers": [{"tags": [], "owner": {"reputation": 7026, "user_id": 7141073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b0f2e16c86753e559fdd61cce2051b1?s=128&d=identicon&r=PG&f=1", "display_name": "Fyodor", "link": "https://stackoverflow.com/users/7141073/fyodor"}, "is_accepted": true, "score": 2, "last_activity_date": 1572258970, "creation_date": 1572258970, "answer_id": 58589384, "question_id": 58523465, "link": "https://stackoverflow.com/questions/58523465/redux-saga-how-to-type-workers-parameter-with-typescript/58589384#58589384", "title": "Redux-saga: How to type worker&#39;s parameter with typeScript", "body": "<p>If question is still relevant here is the answer.</p>\n\n<p>You shuold define some interface which extends <code>Action</code> from redux and then pass it as type argument to <code>takeEvery</code>. This will properly type worker function.</p>\n\n<pre><code>// This is Action interface which will hold type and payload. \ninterface TaskAction extends Action, ITask {type: \"TASK_ADD\" }\n\n// Alternatively you may use \n// interface TaskAction extends Action {type: \"TASK_ADD\", data: ITask }\n\ninterface ITask{\n  id: number\n  task: string,\n  //other things here\n}\n\nfunction* addTaskSaga():any {\n  yield takeEvery&lt;TaskAction&gt;(\"TASK_ADD\", workerAddTaskSaga);\n}\n\nfunction* workerAddTaskSaga(data:TaskAction) {\n  // data is of type TaskAction\n  // data.id is number from ITask\n  // data.task is string from ITask\n}\n\n// Or if you've chosen second form of TaskAction\n//   function* workerAddTaskSaga({ data } : TaskAction) {\n     // data is of type ITask\n//   }\n</code></pre>\n"}], "owner": {"reputation": 2648, "user_id": 2281602, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b63b31ed172fe78fa96cfd03f50d97e0?s=128&d=identicon&r=PG", "display_name": "Rumpelstinsk", "link": "https://stackoverflow.com/users/2281602/rumpelstinsk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1291, "favorite_count": 0, "accepted_answer_id": 58589384, "answer_count": 1, "score": 0, "last_activity_date": 1572258970, "creation_date": 1571835693, "last_edit_date": 1571896318, "question_id": 58523465, "link": "https://stackoverflow.com/questions/58523465/redux-saga-how-to-type-workers-parameter-with-typescript", "title": "Redux-saga: How to type worker&#39;s parameter with typeScript", "body": "<p>Is there any way to use typescript to set the parameter type on worker saga?</p>\n\n<p>I have this interface</p>\n\n<pre><code>interface ITask{\n    id: number\n    task: string,\n    //other things here\n}\n</code></pre>\n\n<p>And i have this listener and worker:</p>\n\n<pre><code>function* addTaskSaga():any {\n    yield takeEvery(\"TASK_ADD\", workerAddTaskSaga);\n}\nfunction* workerAddTaskSaga({data}:any) {\n  //other things here\n}\n</code></pre>\n\n<p>This code is working well, however I want to strong type the parameter of the worker, I mean: change <code>{data}:any</code> to <code>data:ITask</code></p>\n\n<p>However this throws an exception:</p>\n\n<pre><code>The last overload gave the following error.\n    Argument of type 'string' is not assignable to parameter of type 'TakeableChannel&lt;unknown&gt;'.ts(2769)\neffects.d.ts(207, 17): The last overload is declared here.\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 2717, "user_id": 2883184, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/dae17306841de73b2e27aae5359292af?s=128&d=identicon&r=PG&f=1", "display_name": "bamtheboozle", "link": "https://stackoverflow.com/users/2883184/bamtheboozle"}, "edited": false, "score": 0, "creation_date": 1571835715, "post_id": 58523459, "comment_id": 103371913, "body": "<code>arr: String[] = [..]</code>"}, {"owner": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1571835716, "post_id": 58523459, "comment_id": 103371914, "body": "How can you write <i>what exactly</i> in Typescript\u2026?"}, {"owner": {"reputation": 938, "user_id": 11855662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rP1Hg.jpg?s=128&g=1", "display_name": "Jesus", "link": "https://stackoverflow.com/users/11855662/jesus"}, "edited": false, "score": 0, "creation_date": 1571835852, "post_id": 58523459, "comment_id": 103371998, "body": "How to write my code in typescript ?"}, {"owner": {"reputation": 938, "user_id": 11855662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rP1Hg.jpg?s=128&g=1", "display_name": "Jesus", "link": "https://stackoverflow.com/users/11855662/jesus"}, "edited": false, "score": 0, "creation_date": 1571836572, "post_id": 58523459, "comment_id": 103372482, "body": "@adiga What did I explain wrong? I wrote js code.I want to convert my code to typescript"}], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 6800710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a73b4b8aff5984f54c687c79a505670e?s=128&d=identicon&r=PG&f=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/6800710/justin"}, "is_accepted": true, "score": 2, "last_activity_date": 1571836351, "creation_date": 1571836351, "answer_id": 58523685, "question_id": 58523459, "link": "https://stackoverflow.com/questions/58523459/undefined-typescript-object-properties/58523685#58523685", "title": "Undefined typescript object properties", "body": "<p>The only difference between JS and TS is the concept of strongly typing your code.\nIn this case, you want to migrate this code from JS to TS, you shouldn't need to do anything as the TS transpiler will be able to infer the types of the variables. If you do wants to enforce the type for the variables, you can do:</p>\n\n<pre><code>interface channelObj {\n    [key: string]: string\n} // This is called index signature and is useful for typing object key-value\nconst channel: channelObj = {},\narr: string[] = [string, ...];\nfor(let i = 0;i &lt; arr.length;i++ ){\n    channel[arr[i]] = \"Amo\" //equal string value\n}\n</code></pre>\n"}], "owner": {"reputation": 938, "user_id": 11855662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rP1Hg.jpg?s=128&g=1", "display_name": "Jesus", "link": "https://stackoverflow.com/users/11855662/jesus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 58523685, "answer_count": 1, "score": 0, "last_activity_date": 1571836351, "creation_date": 1571835658, "question_id": 58523459, "link": "https://stackoverflow.com/questions/58523459/undefined-typescript-object-properties", "title": "Undefined typescript object properties", "body": "<p>this my code</p>\n\n<p><strong>file.js</strong></p>\n\n<pre><code>const channel = {},\narr = [string,string,string];\nfor(let i = 0;i &lt; arr.length;i++ ){\n    channel[arr[i]] = \"Amo\" //equal string value\n}\n</code></pre>\n\n<p>An array contains only string values. example <code>[\"a\",\"b\",\"c\",\"n\"]</code>.\nHow can I write this code in typescript ?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 5062, "user_id": 5011469, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/u3AwK.jpg?s=128&g=1", "display_name": "OliverRadini", "link": "https://stackoverflow.com/users/5011469/oliverradini"}, "edited": false, "score": 0, "creation_date": 1571835670, "post_id": 58523421, "comment_id": 103371890, "body": "Excellent, many thanks for this; forever impressed with the type system in typescript!"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1571835529, "creation_date": 1571835529, "answer_id": 58523421, "question_id": 58523368, "link": "https://stackoverflow.com/questions/58523368/access-parts-of-sub-type-of-union-type/58523421#58523421", "title": "Access parts of &#39;sub-type&#39; of union type", "body": "<p>You can use an <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#index-types\" rel=\"nofollow noreferrer\">indexed type query</a>: </p>\n\n<pre><code>type ValidKey = StateUpdate ['key'];\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/?ssl=3&amp;ssc=37&amp;pln=1&amp;pc=1#code/C4TwDgpgBAysCGwIFUwBNHQLxQN5QGsIQAuKAcgGcBXAJwDt4BbCcgGigDd4AbaiMpWC0AlvQDmUAL4AoKPKgAfPIWJly8caw7c+AqPWpMARhFrSA3DNCQoANV4i0AaWJQccTKgxIoAbXIiEHIAXQsgA\" rel=\"nofollow noreferrer\">Play</a></p>\n"}], "owner": {"reputation": 5062, "user_id": 5011469, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/u3AwK.jpg?s=128&g=1", "display_name": "OliverRadini", "link": "https://stackoverflow.com/users/5011469/oliverradini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14, "favorite_count": 0, "accepted_answer_id": 58523421, "answer_count": 1, "score": 0, "last_activity_date": 1571835529, "creation_date": 1571835372, "question_id": 58523368, "link": "https://stackoverflow.com/questions/58523368/access-parts-of-sub-type-of-union-type", "title": "Access parts of &#39;sub-type&#39; of union type", "body": "<p>If I have a union type such as:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type StateUpdate = { key: 'surname', value: string }\n| { key : 'age', value: number };\n</code></pre>\n\n<p>This is handy as it allows me to determine the type of the value from the key.</p>\n\n<p>However, I'd like to be able to have other functions which can only be called with a valid 'key' from the union type. In the above example, that'd mean it'd have to be either 'surname' or 'age'.</p>\n\n<p>I know I can determine another type as:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type ValidKey = 'surname' | 'age';\n</code></pre>\n\n<p>Then I may have some arbitrary function such as:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>(keyName: ValidKey) =&gt; (console.log(keyName)); // ...or whatever\n</code></pre>\n\n<p>This requires that I always ensure the two correspond. Is there a good way to handle this automatically, or perhaps there's a better way to do this entirely?</p>\n"}, {"tags": ["javascript", "typescript", "orm", "nestjs", "typeorm"], "answers": [{"comments": [{"owner": {"reputation": 2871, "user_id": 9945420, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ft9JQ3kHBNY/AAAAAAAAAAI/AAAAAAAAAAA/vl44CYj2cng/photo.jpg?sz=128", "display_name": "hrp8sfH4xQ4", "link": "https://stackoverflow.com/users/9945420/hrp8sfh4xq4"}, "edited": false, "score": 0, "creation_date": 1571898159, "post_id": 58531553, "comment_id": 103393358, "body": "@ Ralph thanks. So you would say Permission shouldn&#39;t be an entity?"}, {"owner": {"reputation": 355, "user_id": 11562430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yHPvs.jpg?s=128&g=1", "display_name": "RalphJS", "link": "https://stackoverflow.com/users/11562430/ralphjs"}, "reply_to_user": {"reputation": 2871, "user_id": 9945420, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ft9JQ3kHBNY/AAAAAAAAAAI/AAAAAAAAAAA/vl44CYj2cng/photo.jpg?sz=128", "display_name": "hrp8sfH4xQ4", "link": "https://stackoverflow.com/users/9945420/hrp8sfh4xq4"}, "edited": false, "score": 0, "creation_date": 1572000126, "post_id": 58531553, "comment_id": 103433102, "body": "No no I was refering to the three dimensional relation of the right instead of using the ManyToMany decorator create it manually with oneToMany ManyToOne you can have both three dimensional relations but @ManyToMany forces you to have only one table with two relations, if you need I can give you an example for the relation on the right"}, {"owner": {"reputation": 355, "user_id": 11562430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yHPvs.jpg?s=128&g=1", "display_name": "RalphJS", "link": "https://stackoverflow.com/users/11562430/ralphjs"}, "reply_to_user": {"reputation": 2871, "user_id": 9945420, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ft9JQ3kHBNY/AAAAAAAAAAI/AAAAAAAAAAA/vl44CYj2cng/photo.jpg?sz=128", "display_name": "hrp8sfH4xQ4", "link": "https://stackoverflow.com/users/9945420/hrp8sfh4xq4"}, "edited": false, "score": 0, "creation_date": 1572000468, "post_id": 58531553, "comment_id": 103433270, "body": "And about the permission if a user always have a group maybe you don&#39;t need the Cross_User_Document_Permission I beleive you need the Permission table because you can then diferenciate the permission unless you planning to use ACL in each document"}, {"owner": {"reputation": 2871, "user_id": 9945420, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ft9JQ3kHBNY/AAAAAAAAAAI/AAAAAAAAAAA/vl44CYj2cng/photo.jpg?sz=128", "display_name": "hrp8sfH4xQ4", "link": "https://stackoverflow.com/users/9945420/hrp8sfh4xq4"}, "edited": false, "score": 0, "creation_date": 1572003697, "post_id": 58531553, "comment_id": 103434782, "body": "a small example would be awesome :) it&#39;s possible that a user has no group membership"}], "tags": [], "owner": {"reputation": 355, "user_id": 11562430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yHPvs.jpg?s=128&g=1", "display_name": "RalphJS", "link": "https://stackoverflow.com/users/11562430/ralphjs"}, "is_accepted": true, "score": 1, "last_activity_date": 1572010854, "last_edit_date": 1572010854, "creation_date": 1571868228, "answer_id": 58531553, "question_id": 58523301, "link": "https://stackoverflow.com/questions/58523301/designing-three-dimensional-relationships-with-orm-typeorm/58531553#58531553", "title": "designing three dimensional relationships with ORM (TypeORM)", "body": "<p>In this case it is recomended to handle it manually, create an entity class  CrossGroupDocumentPermissionEntity and add a ManyToOne for each relation and on the other side on the Document, Group, User add a OneToMany Relation <a href=\"https://typeorm.io/#/many-to-many-relations/many-to-many-relations-with-custom-properties\" rel=\"nofollow noreferrer\">here</a> is an example of the use in ManyToMany with custom fields</p>\n\n<p>Edit:</p>\n\n<p><strong>User</strong></p>\n\n<pre><code>@Entity('User')\nexport class UserEntity {\n  @PrimaryGeneratedColumn('uuid')\n  id: string;\n\n  @ManyToMany((type: any) =&gt; GroupEntity, (group: GroupEntity) =&gt; group.users)\n  @JoinTable()\n  groups: GroupEntity[];\n\n  @OneToMany((type: any) =&gt; CrossUserDocumentPermissionEntity, (documentPermission: CrossUserDocumentPermissionEntity) =&gt; documentPermission.user)\n  documentPermissions: CrossUserDocumentPermissionEntity[];\n}\n</code></pre>\n\n<p><strong>Group</strong></p>\n\n<pre><code>@Entity('Group')\nexport class GroupEntity {\n  @PrimaryGeneratedColumn('uuid')\n  id: string;\n\n  @ManyToMany((type: any) =&gt; UserEntity, (user: UserEntity) =&gt; user.groups)\n  users: UserEntity[];\n\n  @OneToMany((type: any) =&gt; CrossGroupDocumentPermissionEntity, (documentPermission: CrossGroupDocumentPermissionEntity) =&gt; documentPermission.group)\n  documentPermissions: CrossGroupDocumentPermissionEntity[];\n}\n</code></pre>\n\n<p><strong>Permission</strong></p>\n\n<pre><code>@Entity('Permission')\nexport class PermissionEntity {\n  @PrimaryGeneratedColumn('uuid')\n  id: string;\n\n  @OneToMany((type: any) =&gt; CrossUserDocumentPermissionEntity, (userDocument: CrossUserDocumentPermissionEntity) =&gt; userDocument.permission)\n  usersDocuments: CrossUserDocumentPermissionEntity[];\n\n  @OneToMany((type: any) =&gt; CrossGroupDocumentPermissionEntity, (groupDocument: CrossUserDocumentPermissionEntity) =&gt; groupDocument.permission)\n  GroupDocuments: CrossGroupDocumentPermissionEntity[];\n}\n</code></pre>\n\n<p><strong>Document</strong></p>\n\n<pre><code>@Entity('Document')\nexport class DocumentEntity {\n  @PrimaryGeneratedColumn('uuid')\n  id: string;\n\n  @OneToMany((type: any) =&gt; CrossUserDocumentPermissionEntity, (userPermission: CrossUserDocumentPermissionEntity) =&gt; userPermission.document)\n  usersPermissions: CrossUserDocumentPermissionEntity[];\n\n  @OneToMany((type: any) =&gt; CrossGroupDocumentPermissionEntity, (groupPermission: CrossUserDocumentPermissionEntity) =&gt; groupPermission.document)\n  GroupPermissions: CrossGroupDocumentPermissionEntity[];\n}\n</code></pre>\n\n<p><strong>Cross_User_Document_Permission</strong></p>\n\n<pre><code>@Entity('Cross_User_Document_Permission')\nexport class CrossUserDocumentPermissionEntity {\n  @PrimaryColumn()\n  userId: string;\n\n  @PrimaryColumn()\n  permissionId: string;\n\n  @PrimaryColumn()\n  documentId: string;\n\n  @ManyToOne((type: any) =&gt; UserEntity, (user: UserEntity) =&gt; user.documentPermission)\n  user: UserEntity;\n\n  @ManyToOne((type: any) =&gt; DocumentEntity, (document: DocumentEntity) =&gt; document.userPermission)\n  document: DocumentEntity;\n\n  @ManyToOne((type: any) =&gt; PermissionEntity, (permission: PermissionEntity) =&gt; permission.userDocument)\n  permission: PermissionEntity;\n}\n</code></pre>\n"}], "owner": {"reputation": 2871, "user_id": 9945420, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ft9JQ3kHBNY/AAAAAAAAAAI/AAAAAAAAAAA/vl44CYj2cng/photo.jpg?sz=128", "display_name": "hrp8sfH4xQ4", "link": "https://stackoverflow.com/users/9945420/hrp8sfh4xq4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 0, "accepted_answer_id": 58531553, "answer_count": 1, "score": 3, "last_activity_date": 1572010854, "creation_date": 1571835120, "question_id": 58523301, "link": "https://stackoverflow.com/questions/58523301/designing-three-dimensional-relationships-with-orm-typeorm", "title": "designing three dimensional relationships with ORM (TypeORM)", "body": "<p>I tried to create a database schema with users, groups, documents and permissions.</p>\n\n<ul>\n<li>users can join multiple groups</li>\n<li>groups can have multiple users</li>\n<li>users can have permissions for documents</li>\n<li>groups can have permissions for documents</li>\n<li>permissions can be anything, not for documents only</li>\n</ul>\n\n<p>I tried to create a small graphic for that</p>\n\n<p><a href=\"https://i.stack.imgur.com/5BjXh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5BjXh.png\" alt=\"enter image description here\"></a></p>\n\n<p>I started designing the entities</p>\n\n<p><strong>User</strong></p>\n\n<pre><code>@Entity('User')\nexport class UserEntity {\n  @PrimaryGeneratedColumn('uuid')\n  id: string;\n\n  @ManyToMany((type: any) =&gt; GroupEntity, (group: GroupEntity) =&gt; group.users)\n  @JoinTable()\n  groups: GroupEntity[];\n\n  @ManyToMany((type: any) =&gt; DocumentEntity, (document: DocumentEntity) =&gt; document.users)\n  @JoinTable()\n  documents: DocumentEntity[];\n}\n</code></pre>\n\n<p><strong>Group</strong></p>\n\n<pre><code>@Entity('Group')\nexport class GroupEntity {\n  @PrimaryGeneratedColumn('uuid')\n  id: string;\n\n  @ManyToMany((type: any) =&gt; UserEntity, (user: UserEntity) =&gt; user.groups)\n  users: UserEntity[];\n\n  @ManyToMany((type: any) =&gt; DocumentEntity, (document: DocumentEntity) =&gt; document.groups)\n  @JoinTable()\n  documents: DocumentEntity[];\n}\n</code></pre>\n\n<p><strong>Document</strong></p>\n\n<pre><code>@Entity('Document')\nexport class DocumentEntity {\n  @PrimaryGeneratedColumn('uuid')\n  id: string;\n\n  @ManyToMany((type: any) =&gt; UserEntity, (user: UserEntity) =&gt; user.documents)\n  users: UserEntity[];\n\n  @ManyToMany((type: any) =&gt; GroupEntity, (group: GroupEntity) =&gt; group.documents)\n  groups: GroupEntity[];\n}\n</code></pre>\n\n<p>When it comes to the persmissions for documents you will see that the relation exists between 3 tables, users/groups, documents and permissions.</p>\n\n<ol>\n<li><p>I use TypeORM for REST APIs (NestJs) and I'm not sure if a permission is an Entity. Due to the fact I'm designing REST endpoints this permission entity would be a shared entity along multiple endpoints.</p></li>\n<li><p>How do I have to extend my entities for these permissions?</p></li>\n</ol>\n\n<p>... and maybe you might come up with a better database design :)</p>\n"}, {"tags": ["angular", "typescript", "spinner", "primeng", "primeng-spinner"], "comments": [{"owner": {"reputation": 12915, "user_id": 11717458, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-n7Wjy36oQKw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reELdECHaKA7ESrLE7eYyYbMnpDxQ/photo.jpg?sz=128", "display_name": "SuleymanSah", "link": "https://stackoverflow.com/users/11717458/suleymansah"}, "edited": false, "score": 0, "creation_date": 1571834754, "post_id": 58523035, "comment_id": 103371364, "body": "Spinner has a required property, did you try did? <a href=\"https://www.primefaces.org/primeng/#/spinner\" rel=\"nofollow noreferrer\">primefaces.org/primeng/#/spinner</a>"}, {"owner": {"reputation": 11, "user_id": 7131317, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ULfjM2Jr2bw/AAAAAAAAAAI/AAAAAAAAADU/EcUGa9tSBaQ/photo.jpg?sz=128", "display_name": "Danilo Petkovi\u0107", "link": "https://stackoverflow.com/users/7131317/danilo-petkovi%c4%87"}, "reply_to_user": {"reputation": 12915, "user_id": 11717458, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-n7Wjy36oQKw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reELdECHaKA7ESrLE7eYyYbMnpDxQ/photo.jpg?sz=128", "display_name": "SuleymanSah", "link": "https://stackoverflow.com/users/11717458/suleymansah"}, "edited": false, "score": 0, "creation_date": 1571835009, "post_id": 58523035, "comment_id": 103371510, "body": "@SuleymanSah Tried it before, doesn&#39;t work."}, {"owner": {"reputation": 12915, "user_id": 11717458, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-n7Wjy36oQKw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reELdECHaKA7ESrLE7eYyYbMnpDxQ/photo.jpg?sz=128", "display_name": "SuleymanSah", "link": "https://stackoverflow.com/users/11717458/suleymansah"}, "edited": false, "score": 0, "creation_date": 1571835110, "post_id": 58523035, "comment_id": 103371573, "body": "Maybe the author can help  @cagatay-civici"}, {"owner": {"reputation": 12915, "user_id": 11717458, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-n7Wjy36oQKw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reELdECHaKA7ESrLE7eYyYbMnpDxQ/photo.jpg?sz=128", "display_name": "SuleymanSah", "link": "https://stackoverflow.com/users/11717458/suleymansah"}, "edited": false, "score": 0, "creation_date": 1571835571, "post_id": 58523035, "comment_id": 103371834, "body": "Can you add all the component and html code to the question?"}, {"owner": {"reputation": 11, "user_id": 7131317, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ULfjM2Jr2bw/AAAAAAAAAAI/AAAAAAAAADU/EcUGa9tSBaQ/photo.jpg?sz=128", "display_name": "Danilo Petkovi\u0107", "link": "https://stackoverflow.com/users/7131317/danilo-petkovi%c4%87"}, "reply_to_user": {"reputation": 12915, "user_id": 11717458, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-n7Wjy36oQKw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reELdECHaKA7ESrLE7eYyYbMnpDxQ/photo.jpg?sz=128", "display_name": "SuleymanSah", "link": "https://stackoverflow.com/users/11717458/suleymansah"}, "edited": false, "score": 0, "creation_date": 1571835937, "post_id": 58523035, "comment_id": 103372046, "body": "Added. @SuleymanSah"}, {"owner": {"reputation": 11, "user_id": 7131317, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ULfjM2Jr2bw/AAAAAAAAAAI/AAAAAAAAADU/EcUGa9tSBaQ/photo.jpg?sz=128", "display_name": "Danilo Petkovi\u0107", "link": "https://stackoverflow.com/users/7131317/danilo-petkovi%c4%87"}, "reply_to_user": {"reputation": 12915, "user_id": 11717458, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-n7Wjy36oQKw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reELdECHaKA7ESrLE7eYyYbMnpDxQ/photo.jpg?sz=128", "display_name": "SuleymanSah", "link": "https://stackoverflow.com/users/11717458/suleymansah"}, "edited": false, "score": 0, "creation_date": 1571836531, "post_id": 58523035, "comment_id": 103372451, "body": "@SuleymanSah Sorry, I&#39;ve put the wrong .ts file initially, now it&#39;s the right one."}, {"owner": {"reputation": 12915, "user_id": 11717458, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-n7Wjy36oQKw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reELdECHaKA7ESrLE7eYyYbMnpDxQ/photo.jpg?sz=128", "display_name": "SuleymanSah", "link": "https://stackoverflow.com/users/11717458/suleymansah"}, "edited": false, "score": 0, "creation_date": 1571836632, "post_id": 58523035, "comment_id": 103372529, "body": "Ok, it would be great if you could supply a minimal sample,"}, {"owner": {"reputation": 11, "user_id": 7131317, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ULfjM2Jr2bw/AAAAAAAAAAI/AAAAAAAAADU/EcUGa9tSBaQ/photo.jpg?sz=128", "display_name": "Danilo Petkovi\u0107", "link": "https://stackoverflow.com/users/7131317/danilo-petkovi%c4%87"}, "reply_to_user": {"reputation": 12915, "user_id": 11717458, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-n7Wjy36oQKw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reELdECHaKA7ESrLE7eYyYbMnpDxQ/photo.jpg?sz=128", "display_name": "SuleymanSah", "link": "https://stackoverflow.com/users/11717458/suleymansah"}, "edited": false, "score": 0, "creation_date": 1571837335, "post_id": 58523035, "comment_id": 103372962, "body": "This is the best i can do."}], "owner": {"reputation": 11, "user_id": 7131317, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ULfjM2Jr2bw/AAAAAAAAAAI/AAAAAAAAADU/EcUGa9tSBaQ/photo.jpg?sz=128", "display_name": "Danilo Petkovi\u0107", "link": "https://stackoverflow.com/users/7131317/danilo-petkovi%c4%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 939, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571838823, "creation_date": 1571834242, "last_edit_date": 1571838823, "question_id": 58523035, "link": "https://stackoverflow.com/questions/58523035/primeng-spinner-required-validation-style-not-showing", "title": "PrimeNG spinner required validation style not showing", "body": "<p>PrimeNG spinner input field is not properly showing required validation style(Input field is never marked with a red border).\nI'm using angular8 and primeng 8.0.2. Number field \"iznosDuguje\" is declared as a FormControl with validation - [Validators.required]. Form control is properly marked valid/invalid/dirty/etc, but the usual style(red border) is never shown on p-spinner. </p>\n\n<p>Screenshot of the validation(whole panel included):</p>\n\n<p><a href=\"https://prnt.sc/pn1u6k\" rel=\"nofollow noreferrer\">https://prnt.sc/pn1u6k</a></p>\n\n<p>//relevant .ts part - formControl initiation for \"iznosDuguje\"</p>\n\n<pre><code>//more code\nthis.editPrpStavkaPlanaForm = new FormGroup({\n      //more code\n      'iznosDuguje': new FormControl(this.prpStavkaPlanaEdit.iznosDuguje? this.prpStavkaPlanaEdit.iznosDuguje : \"\", [Validators.required]),\n      //more code\n</code></pre>\n\n<p>//relevant .html part - spinner \"iznosDuguje\" and validation messages</p>\n\n<pre><code>&lt;form [formGroup]=\"editPrpStavkaPlanaForm\" (ngSubmit)=\"snimi()\"&gt;\n//more code\n        &lt;div class=\"ui-g\"&gt;\n            &lt;div class=\"ui-md-2 ui-sm-6 text-right\"&gt;\n                &lt;label for=\"iznosDuguje\" l10nTranslate&gt;prpStavkaPlanaRashodaIPrihoda.iznosDuguje&lt;/label&gt;\n                &lt;label&gt;*&lt;/label&gt;\n            &lt;/div&gt;\n\n            &lt;p-spinner class=\"ui-md-4 ui-sm-6\" style=\"margin-left: -0.6%;\" [step]=\"0.01\" #iznosDuguje name=\"iznosDuguje\"\n                formControlName=\"iznosDuguje\"  tabindex=\"1\"\n                [decimalSeparator]=\"numberUtil.getDecimalSeparator(lang)\" [thousandSeparator]=\"numberUtil.getThousandSeparator(lang)\" [formatInput]=\"true\"&gt;\n            &lt;/p-spinner&gt;\n\n            &lt;div class=\"ui-md-4 ui-sm-12 ui-message ui-messages-error ui-corner-all\" style=\"margin-left: 0.6%;\"\n                *ngIf=\"!editPrpStavkaPlanaForm.get('iznosDuguje').valid &amp;&amp; editPrpStavkaPlanaForm.get('iznosDuguje').dirty &amp;&amp; editPrpStavkaPlanaForm.get('iznosDuguje').errors\"&gt;\n\n                &lt;span\n                    *ngIf=\"editPrpStavkaPlanaForm.get('iznosDuguje').errors &amp;&amp; editPrpStavkaPlanaForm.get('iznosDuguje').errors['required']\"&gt;\n                    &lt;i class=\"fa fa-close\"&gt;&lt;/i&gt;\n                    &lt;label for=\"iznosDuguje\" l10nTranslate&gt;validations.required&lt;/label&gt;\n                &lt;/span&gt;\n\n            &lt;/div&gt;\n//more code\n</code></pre>\n\n<p>//full component.ts\nThe field is declared within a FormGroup as FormControl:</p>\n\n<pre><code> import { NumberUtil } from 'src/app/global/utils/number-util';\nimport {  OnInit, Input, Output, EventEmitter, Component } from '@angular/core';\nimport { CoreSort, SortOrder } from './../../../../../global/domains/CoreSort';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { PrpPlanRashodaPrihoda } from 'src/app/backend-domains/prp/PrpPlanRashodaPrihoda';\nimport { SffIzvorFinansiranja } from './../../../../../backend-domains/sff/SffIzvorFinansiranja';\nimport { SffMestoTroska } from './../../../../../backend-domains/sff/SffMestoTroska';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { PrpStavkaPlana } from './../../../../../backend-domains/prp/PrpStavkaPlana';\nimport { BaseComponent } from './../../../../../global/utils/base.component';\nimport { CoreBackendService } from './../../../../../services/core-backend.service';\nimport { CoreMessageService } from './../../../../../services/core-message.service';\nimport { Language, DefaultLocale, TranslationService } from 'angular-l10n';\nimport { SysKorisnikUtil } from 'src/app/global/utils/sys-korisnik-util';\n\n@Component ({\n  selector: 'app-prp-stavka-rashoda-prihoda-modal-panel',\n  templateUrl: './prp-stavka-rashoda-prihoda-modal-panel.component.html',\n  styleUrls: ['./prp-stavka-rashoda-prihoda-modal-panel.component.css']\n})\nexport class PrpStavkaRashodaPrihodaModalPanelComponent extends BaseComponent implements OnInit {\n\n  constructor(private ms: CoreMessageService,\n    private coreBackendService: CoreBackendService,\n    private translation: TranslationService,\n    public numberUtil: NumberUtil) { super(); }\n\n  @Language() lang: string;\n  @DefaultLocale() defaultLocale: string;\n\n  prpStavkaPlanaEdit: PrpStavkaPlana;\n  editPrpStavkaPlanaForm: FormGroup;\n\n  //lov mesta troska\n  fgVisibleSffMestoTroskaLovModalPanel: boolean;\n  selectedSffMestoTroska: SffMestoTroska;\n  sffMestoTroskas: SffMestoTroska[];\n  sffIzvorFinansiranjas: SffIzvorFinansiranja[]\n\n  //lov izvora finansiranja\n  fgVisibleSffIzvorFinansiranjaLovModalPanel: boolean;\n  @Input() selectedSffIzvorFinansiranja: SffIzvorFinansiranja;\n\n  @Input() prpStavkaPlanaEditAzuriranje: PrpStavkaPlana;\n  @Input() fgVisible: boolean;\n  @Input() fgUnos: boolean;\n  @Input() prpPlanRashodaPrihoda: PrpPlanRashodaPrihoda;\n  @Output() hideModalPanel = new EventEmitter&lt;boolean&gt;();\n\n  ngOnInit() {\n    this.initForm();\n    this.sffMestoTroskas = [];\n    this.sffIzvorFinansiranjas = [];\n\n  }\n\n  onShow() {\n    this.initForm();\n    this.sffMestoTroskas = [];\n    this.sffIzvorFinansiranjas = [];\n\n  }\n\n  onHide() {\n    this.hideModalPanel.emit(false);\n  }\n\n  initForm() {\n    if (this.fgUnos) {\n      this.prpStavkaPlanaEdit = new PrpStavkaPlana();\n\n    } else {\n\n      this.prpStavkaPlanaEdit = this.prpStavkaPlanaEditAzuriranje;\n\n      this.selectedSffIzvorFinansiranja = this.prpStavkaPlanaEditAzuriranje.sffIzvorFinansiranja;\n      this.selectedSffMestoTroska = this.prpStavkaPlanaEditAzuriranje.sffMestoTroska;\n\n    }\n\n    this.editPrpStavkaPlanaForm = new FormGroup({\n\n      'brojKonta': new FormControl(this.prpStavkaPlanaEdit.brojKonta,[Validators.required]),\n      'iznosDuguje': new FormControl(this.prpStavkaPlanaEdit.iznosDuguje? this.prpStavkaPlanaEdit.iznosDuguje : \"\", [Validators.required]),\n      'iznosPotrazuje': new FormControl(this.prpStavkaPlanaEdit.iznosPotrazuje? this.prpStavkaPlanaEdit.iznosPotrazuje : \"\", [Validators.required]),\n      'izvorFinansiranja': new FormControl(this.prpStavkaPlanaEdit.sffIzvorFinansiranja ? this.prpStavkaPlanaEdit.sffIzvorFinansiranja.internaSifra : null),\n      'mestoTroska': new FormControl(this.prpStavkaPlanaEdit.sffMestoTroska ? this.prpStavkaPlanaEdit.sffMestoTroska.sifra : null),\n      'namena': new FormControl(this.prpStavkaPlanaEdit.namena, [Validators.required]),\n      'napomena': new FormControl(this.prpStavkaPlanaEdit.napomena),\n    });\n\n  }\n\n  hidePanel() {\n    this.fgVisible = false;\n  }\n\n  snimi() {\n\n    this.markFormAsDirty();\n    if (this.editPrpStavkaPlanaForm.valid) {\n      this.prpStavkaPlanaEdit.prpPlanRashodaPrihoda = this.prpPlanRashodaPrihoda;\n      this.prpStavkaPlanaEdit.brojKonta = this.editPrpStavkaPlanaForm.get('brojKonta').value;\n      this.prpStavkaPlanaEdit.namena = this.editPrpStavkaPlanaForm.get('namena').value;\n      this.prpStavkaPlanaEdit.napomena = this.editPrpStavkaPlanaForm.get('napomena').value;\n      this.prpStavkaPlanaEdit.iznosDuguje = this.editPrpStavkaPlanaForm.get('iznosDuguje').value;\n      this.prpStavkaPlanaEdit.iznosPotrazuje = this.editPrpStavkaPlanaForm.get('iznosPotrazuje').value;\n      this.prpStavkaPlanaEdit.sffIzvorFinansiranja = this.selectedSffIzvorFinansiranja;\n      this.prpStavkaPlanaEdit.sffMestoTroska = this.selectedSffMestoTroska;\n\n      this.coreBackendService.postResource('/prp-stavka-plana/insert/', this.prpStavkaPlanaEdit).subscribe(\n        (dataResult) =&gt; {\n          this.ms.addSuccessMessage(this.translation.translate('prpEvidencijaPlanovaRashodaIPrihoda.snimanjePrpPlanRashodaPrihoda'), this.translation.translate('prpEvidencijaPlanovaRashodaIPrihoda.snimanjePrpPlanRashodaPrihodaUspesno'));\n          this.hidePanel();\n        },\n        (error: HttpErrorResponse) =&gt; {\n          this.ms.addErrorMessage(error.error.error, error.error.error_description);\n        }\n      );\n\n    }\n  }\n\n  onShowLovMestoTroska() {\n    this.fgVisibleSffMestoTroskaLovModalPanel = true;\n  }\n\n  resetMestoTroska() {\n    this.selectedSffMestoTroska = null;\n    this.editPrpStavkaPlanaForm.controls.mestoTroska.setValue(null);\n    this.editPrpStavkaPlanaForm.get('mestoTroska').markAsDirty();\n  }\n\n  onHideLovMestoTroska(sffMestoTroska: SffMestoTroska) {\n    if (sffMestoTroska) {\n      this.selectedSffMestoTroska = sffMestoTroska;\n    }\n    setTimeout(() =&gt; { this.fgVisibleSffMestoTroskaLovModalPanel = false; });\n  }\n\n\n  public searchMestoTroska(event) {\n\n    let sifra:string=event.query.trim();\n    if(sifra.length&lt;2){\n      // ukucati barem 2 karaktera sifre\n      this.sffMestoTroskas = [];\n      return;\n    }\n\n\n    let coreSorts: CoreSort[] = [];\n\n    let coreSort: CoreSort = { sortField: \"sifra\", sortOrder: SortOrder.ASC };\n    coreSorts.push(coreSort);\n\n    let pretraga: { key: string, value: any }[];\n    pretraga = [];\n    pretraga.push({ key: \"sifra\", value: sifra });\n    pretraga.push({ key: \"idFirma\", value: SysKorisnikUtil.getOdabranaFirma().idFirma })\n\n\n    return this.coreBackendService.getResourceForDataTable('/sff-mesto-troska/filter-lov', 0, 20, coreSorts, pretraga).subscribe(\n      (response: any) =&gt; {\n        this.sffMestoTroskas = response.content;\n      },\n      (error: HttpErrorResponse) =&gt; {\n        this.sffMestoTroskas = [];\n\n        if (error.status === 403) {\n          this.ms.addErrorMessage(this.translation.translate('error.coreErrorMessage'), this.translation.translate(\"error.coreUnauthorizedError\"));\n        }\n\n\n        else {\n          this.ms.addErrorMessage(this.translation.translate('error.coreErrorMessage'), this.translation.translate(\"error.coreErrorMessageDescription\"));\n        }\n      }\n    );\n\n  }\n\n  public searchIzvorFinansiranja(event) {\n\n\n    let internaSifra:string=event.query;\n\n    let coreSorts: CoreSort[] = [];\n\n    let coreSort: CoreSort = { sortField: \"internaSifra\", sortOrder: SortOrder.ASC };\n    coreSorts.push(coreSort);\n\n    let pretraga: { key: string, value: any }[];\n    pretraga = [];\n    pretraga.push({ key: \"pretragaInternaSifra\", value: internaSifra });\n    pretraga.push({ key: \"idFirma\", value: SysKorisnikUtil.getOdabranaFirma().idFirma })\n\n\n    return this.coreBackendService.getResourceForDataTable('/sff-izvor-finansiranja/filter-lov', 0, 20, coreSorts, pretraga).subscribe(\n      (response: any) =&gt; {\n        this.sffIzvorFinansiranjas = response.content;\n      },\n      (error: HttpErrorResponse) =&gt; {\n        this.sffIzvorFinansiranjas = [];\n\n        if (error.status === 403) {\n          this.ms.addErrorMessage(this.translation.translate('error.coreErrorMessage'), this.translation.translate(\"error.coreUnauthorizedError\"));\n        }\n\n\n        else {\n          this.ms.addErrorMessage(this.translation.translate('error.coreErrorMessage'), this.translation.translate(\"error.coreErrorMessageDescription\"));\n        }\n      }\n    );\n\n  }\n\n  onShowLovIzvorFinansiranja() {\n    this.fgVisibleSffIzvorFinansiranjaLovModalPanel = true;\n  }\n\n  resetIzvorFinansiranja() {\n    this.selectedSffIzvorFinansiranja = null;\n    this.editPrpStavkaPlanaForm.controls.izvorFinansiranja.setValue(null);\n    this.editPrpStavkaPlanaForm.get('izvorFinansiranja').markAsDirty();\n  }\n\n  onHideLovIzvorFinansiranja(sffIzvorFinansiranja: SffIzvorFinansiranja) {\n    if (sffIzvorFinansiranja) {\n      this.selectedSffIzvorFinansiranja = sffIzvorFinansiranja;\n    }\n    setTimeout(() =&gt; { this.fgVisibleSffIzvorFinansiranjaLovModalPanel = false; });\n  }\n\n  markFormAsDirty() {\n    Object.keys(this.editPrpStavkaPlanaForm.controls).forEach(key =&gt; {\n      this.editPrpStavkaPlanaForm.get(key).markAsDirty();\n    });\n\n  }\n\n}\n\n</code></pre>\n\n<p>//full component.html</p>\n\n<pre><code>&lt;p-dialog [modal]=\"true\" [contentStyle]=\"{'overflow':'visible'}\" [(visible)]=\"fgVisible\" (onShow)=\"onShow();\"\n    (onHide)=\"onHide()\" [responsive]=\"true\" [closeOnEscape]=\"false\" focusFirstDirective&gt;\n    &lt;p-header&gt;\n        &lt;label *ngIf=\"fgUnos\" l10nTranslate&gt;new&lt;/label&gt;\n        &lt;label *ngIf=\"!fgUnos\" l10nTranslate&gt;edit&lt;/label&gt;\n    &lt;/p-header&gt;\n\n    &lt;form [formGroup]=\"editPrpStavkaPlanaForm\" (ngSubmit)=\"snimi()\"&gt;\n\n        &lt;div class=\"ui-g\"&gt;\n            &lt;div class=\"ui-md-2 ui-sm-6 text-right\"&gt;\n                &lt;label for=\"brojKonta\" l10nTranslate&gt;prpStavkaPlanaRashodaIPrihoda.brojKonta&lt;/label&gt;\n                &lt;label&gt;*&lt;/label&gt;\n            &lt;/div&gt;\n            &lt;input #brojKonta class=\"ui-md-4 ui-sm-6 first\" pInputText type=\"text\" id=\"brojKonta\" name=\"brojKonta\"\n                formControlName=\"brojKonta\" maxlength=\"20\" /&gt;\n            &lt;div class=\"ui-md-4 ui-sm-12 ui-message ui-messages-error ui-corner-all\"\n                *ngIf=\"!editPrpStavkaPlanaForm.get('brojKonta').valid &amp;&amp; editPrpStavkaPlanaForm.get('brojKonta').dirty &amp;&amp; editPrpStavkaPlanaForm.get('brojKonta').errors\"&gt;\n\n                &lt;span\n                    *ngIf=\"editPrpStavkaPlanaForm.get('brojKonta').errors &amp;&amp; editPrpStavkaPlanaForm.get('brojKonta').errors['required']\"&gt;\n                    &lt;i class=\"fa fa-close\"&gt;&lt;/i&gt;\n                    &lt;label for=\"brojKonta\" l10nTranslate&gt;validations.required&lt;/label&gt;\n                &lt;/span&gt;\n\n                &lt;span\n                    *ngIf=\"editPrpStavkaPlanaForm.get('brojKonta').errors &amp;&amp; editPrpStavkaPlanaForm.get('brojKonta').errors['emptyRequiredField']\"&gt;\n                    &lt;i class=\"fa fa-close\"&gt;&lt;/i&gt;\n                    &lt;label for=\"brojKonta\" l10nTranslate&gt;validations.emptyRequiredField&lt;/label&gt;\n                &lt;/span&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"ui-g\"&gt;\n            &lt;div class=\"ui-md-2 ui-sm-6 text-right\"&gt;\n                &lt;label for=\"iznosDuguje\" l10nTranslate&gt;prpStavkaPlanaRashodaIPrihoda.iznosDuguje&lt;/label&gt;\n                &lt;label&gt;*&lt;/label&gt;\n            &lt;/div&gt;\n\n            &lt;p-spinner class=\"ui-md-4 ui-sm-6\" style=\"margin-left: -0.6%;\" [step]=\"0.01\" #iznosDuguje name=\"iznosDuguje\"\n                formControlName=\"iznosDuguje\"  tabindex=\"1\"\n                [decimalSeparator]=\"numberUtil.getDecimalSeparator(lang)\" [thousandSeparator]=\"numberUtil.getThousandSeparator(lang)\" [formatInput]=\"true\"&gt;\n            &lt;/p-spinner&gt;\n\n            &lt;div class=\"ui-md-4 ui-sm-12 ui-message ui-messages-error ui-corner-all\" style=\"margin-left: 0.6%;\"\n                *ngIf=\"!editPrpStavkaPlanaForm.get('iznosDuguje').valid &amp;&amp; editPrpStavkaPlanaForm.get('iznosDuguje').dirty &amp;&amp; editPrpStavkaPlanaForm.get('iznosDuguje').errors\"&gt;\n\n                &lt;span\n                    *ngIf=\"editPrpStavkaPlanaForm.get('iznosDuguje').errors &amp;&amp; editPrpStavkaPlanaForm.get('iznosDuguje').errors['required']\"&gt;\n                    &lt;i class=\"fa fa-close\"&gt;&lt;/i&gt;\n                    &lt;label for=\"iznosDuguje\" l10nTranslate&gt;validations.required&lt;/label&gt;\n                &lt;/span&gt;\n\n            &lt;/div&gt;\n\n        &lt;/div&gt;\n\n        &lt;div class=\"ui-g\"&gt;\n            &lt;div class=\"ui-md-2 ui-sm-6 text-right\"&gt;\n                &lt;label for=\"iznosPotrazuje\" l10nTranslate&gt;prpStavkaPlanaRashodaIPrihoda.iznosPotrazuje&lt;/label&gt;\n                &lt;label&gt;*&lt;/label&gt;\n            &lt;/div&gt;\n            &lt;p-spinner class=\"ui-md-4 ui-sm-6\" style=\"margin-left: -0.6%;\" [step]=\"0.01\" #iznosPotrazuje\n                name=\"iznosPotrazuje\" formControlName=\"iznosPotrazuje\" \n                [decimalSeparator]=\"numberUtil.getDecimalSeparator(lang)\" [thousandSeparator]=\"numberUtil.getThousandSeparator(lang)\" [formatInput]=\"true\"&gt;&lt;/p-spinner&gt;\n\n            &lt;div class=\"ui-md-4 ui-sm-12 ui-message ui-messages-error ui-corner-all\" style=\"margin-left: 0.6%;\"\n                *ngIf=\"!editPrpStavkaPlanaForm.get('iznosPotrazuje').valid &amp;&amp; editPrpStavkaPlanaForm.get('iznosPotrazuje').dirty &amp;&amp; editPrpStavkaPlanaForm.get('iznosPotrazuje').errors\"&gt;\n\n                &lt;span\n                    *ngIf=\"editPrpStavkaPlanaForm.get('iznosPotrazuje').errors &amp;&amp; editPrpStavkaPlanaForm.get('iznosPotrazuje').errors['required']\"&gt;\n                    &lt;i class=\"fa fa-close\"&gt;&lt;/i&gt;\n                    &lt;label for=\"iznosPotrazuje\" l10nTranslate&gt;validations.required&lt;/label&gt;\n                &lt;/span&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"ui-g\" style=\"margin-bottom: 5px;\"&gt;\n            &lt;div class=\"ui-md-2 ui-sm-6 text-right\"&gt;\n                &lt;label for=\"izvorFinansiranja\" translate&gt;prpStavkaPlanaRashodaIPrihoda.izvorFinansiranja&lt;/label&gt;\n            &lt;/div&gt; \n            &lt;p-autoComplete class=\"ui-md-4 ui-sm-6\" formControlName=\"izvorFinansiranja\" [minLength]=\"1\" field=\"internaSifra\"\n                [placeholder]=\"'prpStavkaPlanaRashodaIPrihoda.unosIzvorFinansiranja'|translate:lang\"\n                [suggestions]=\"sffIzvorFinansiranjas\" (completeMethod)=\"searchIzvorFinansiranja($event)\"\n                [forceSelection]=\"true\" [style]=\"{'width':'100%', 'margin-left': '-0.4vw'}\" [inputStyle]=\"{'width':'100%'}\"\n                [(ngModel)]=\"selectedSffIzvorFinansiranja\" id=\"izvorFinansiranja\" name=\"izvorFinansiranja\"&gt;\n                &lt;ng-template let-value pTemplate=\"item\"&gt; \n                    &lt;span&gt;{{value.internaSifra}}&lt;/span&gt;\n                &lt;/ng-template&gt;\n            &lt;/p-autoComplete&gt;\n            &lt;div class=\"ui-sm-2 ui-md-1\"&gt;\n                &lt;button icon=\"fa fa-list\" style=\"margin-right: 3px;\" pButton (click)=\"onShowLovIzvorFinansiranja()\"\n                    type=\"button\" [title]=\"'choose'|translate:lang\"&gt;&lt;/button&gt;\n                &lt;button pButton icon=\"fa fa-close\" [title]=\"'delete'|translate:lang\" type=\"button\"\n                    class=\"ui-button-danger\" (click)=\"resetIzvorFinansiranja()\"&gt;&lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"ui-g\" style=\"margin-bottom: 5px;\"&gt;\n            &lt;div class=\"ui-md-2 ui-sm-6 text-right\"&gt;\n                &lt;label for=\"mestoTroska\" translate&gt;prpStavkaPlanaRashodaIPrihoda.mestoTroska&lt;/label&gt;\n            &lt;/div&gt;\n            &lt;p-autoComplete class=\"ui-md-4 ui-sm-6\" formControlName=\"mestoTroska\" [minLength]=\"2\" field=\"sifra\"\n                [placeholder]=\"'prpStavkaPlanaRashodaIPrihoda.unosSifreMestaTroska'|translate:lang\"\n                [suggestions]=\"sffMestoTroskas\" (completeMethod)=\"searchMestoTroska($event)\"\n                [forceSelection]=\"true\" [style]=\"{'width':'100%', 'margin-left': '-0.4vw'}\" [inputStyle]=\"{'width':'100%'}\"\n                [(ngModel)]=\"selectedSffMestoTroska\" id=\"mestoTroska\" name=\"mestoTroska\"&gt;\n                &lt;ng-template let-value pTemplate=\"item\"&gt;\n                        &lt;span&gt;{{value.sifra}}&lt;/span&gt;\n                    &lt;/ng-template&gt;\n            &lt;/p-autoComplete&gt;\n            &lt;div class=\"ui-sm-2 ui-md-1\"&gt;\n                &lt;button icon=\"fa fa-list\" style=\"margin-right: 3px;\" pButton (click)=\"onShowLovMestoTroska()\"\n                    type=\"button\" [title]=\"'choose'|translate:lang\"&gt;&lt;/button&gt;\n                &lt;button pButton icon=\"fa fa-close\" [title]=\"'delete'|translate:lang\" type=\"button\"\n                    class=\"ui-button-danger\" (click)=\"resetMestoTroska()\"&gt;&lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;!-- &lt;div class=\"ui-g\" style=\"margin-bottom: 5px;\"&gt;\n            &lt;div class=\"ui-md-2 ui-sm-6 text-right\"&gt;\n                &lt;label&gt;\"ss\"&lt;/label&gt;\n            &lt;/div&gt;\n            &lt;div class=\"ui-md-4 ui-sm-6\"&gt;\n                &lt;input readonly=\"true\" [(ngModel)]= \"selectedSffMestoTroska? selectedSffMestoTroska.naziv: selectedSffMestoTroska \" [ngModelOptions]=\"{standalone: true}\" /&gt;\n            &lt;/div&gt;\n        &lt;/div&gt; --&gt;\n\n        &lt;div class=\"ui-g\"&gt;\n            &lt;div class=\"ui-md-2 ui-sm-6 text-right\"&gt;\n                &lt;label for=\"namena\" l10nTranslate&gt;core.namena&lt;/label&gt;\n                &lt;label&gt;*&lt;/label&gt;\n            &lt;/div&gt;\n            &lt;textarea #namena class=\"ui-md-10 ui-sm-6\" pInputTextarea type=\"text\" id=\"namena\" name=\"namena\"\n                formControlName=\"namena\" maxlength=\"512\"&gt;&lt;/textarea&gt;\n            &lt;div class=\"ui-md-2 ui-sm-6 text-left\"&gt;\n                &amp;nbsp;\n            &lt;/div&gt;\n            &lt;div class=\"ui-md-10 ui-sm-6 ui-message ui-messages-error ui-corner-all\"\n                *ngIf=\"!editPrpStavkaPlanaForm.get('namena').valid &amp;&amp; editPrpStavkaPlanaForm.get('namena').dirty &amp;&amp; editPrpStavkaPlanaForm.get('namena').errors\"&gt;\n                &lt;span\n                    *ngIf=\"editPrpStavkaPlanaForm.get('namena').errors &amp;&amp; editPrpStavkaPlanaForm.get('namena').errors['required']\"&gt;\n                    &lt;i class=\"fa fa-close\"&gt;&lt;/i&gt;\n                    &lt;label for=\"namena\" l10nTranslate&gt;validations.required&lt;/label&gt;\n                &lt;/span&gt;\n                &lt;span\n                    *ngIf=\"editPrpStavkaPlanaForm.get('namena').errors &amp;&amp; editPrpStavkaPlanaForm.get('namena').errors['emptyRequiredField']\"&gt;\n                    &lt;i class=\"fa fa-close\"&gt;&lt;/i&gt;\n                    &lt;label for=\"namena\" l10nTranslate&gt;validations.emptyRequiredField&lt;/label&gt;\n                &lt;/span&gt;\n            &lt;/div&gt;\n\n        &lt;/div&gt;\n\n        &lt;div class=\"ui-g\"&gt;\n            &lt;div class=\"ui-md-2 ui-sm-6 text-right\"&gt;\n                &lt;label for=\"napomena\" l10nTranslate&gt;core.napomena&lt;/label&gt;\n            &lt;/div&gt;\n            &lt;textarea #napomena class=\"ui-md-10 ui-sm-6\" pInputTextarea type=\"text\" id=\"napomena\" name=\"napomena\"\n                formControlName=\"napomena\" maxlength=\"512\"&gt;&lt;/textarea&gt;\n            &lt;div class=\"ui-md-2 ui-sm-6 text-left\"&gt;\n                &amp;nbsp;\n            &lt;/div&gt;\n\n        &lt;/div&gt;\n        &lt;br /&gt;\n\n        &lt;div class=\"row text-center\"&gt;\n            &lt;button pButton icon=\"fa fa-check\" [label]=\"'save'|translate:lang\" type=\"submit\" class=\"ui-button-primary\"\n                style=\"margin-right: 5px;\"&gt;&lt;/button&gt;\n            &lt;button pButton icon=\"fa fa-close\" [label]=\"'cancel'|translate:lang\" type=\"button\" class=\"ui-button-danger\"\n                (click)=\"hidePanel()\"&gt;&lt;/button&gt;\n        &lt;/div&gt;\n\n\n    &lt;/form&gt;\n\n&lt;/p-dialog&gt;\n\n&lt;app-sff-izvor-finansiranja-lov [fgVisible]=\"fgVisibleSffIzvorFinansiranjaLovModalPanel\"\n    (hideModalPanel)=\"onHideLovIzvorFinansiranja($event);\"&gt;\n&lt;/app-sff-izvor-finansiranja-lov&gt;\n\n&lt;app-sff-mesto-troska-lov-modal-panel [fgVisible]=\"fgVisibleSffMestoTroskaLovModalPanel\"\n    (hideModalPanel)=\"onHideLovMestoTroska($event);\"&gt;\n&lt;/app-sff-mesto-troska-lov-modal-panel&gt;\n</code></pre>\n"}, {"tags": ["typescript", "unity3d", "generics", "ecmascript-5", "typeguards"], "comments": [{"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1571841505, "post_id": 58522860, "comment_id": 103375491, "body": "<i><code>The problem is that unity tiny is using es5</code></i> Either (a) you are not using Unity3D&#39;s Project Tiny, which <a href=\"https://docs.unity3d.com/Packages/com.unity.tiny@0.16/manual/scripting-systems.html#creating-a-system\" rel=\"nofollow noreferrer\">uses C#</a> just like the rest of the Unity engine or (b) you aren&#39;t using Unity 3D and have mistagged your question. And I&#39;m not sure which. Unity dropped support for JS (correctly, UnityScript) <a href=\"https://blogs.unity3d.com/2017/08/11/unityscripts-long-ride-off-into-the-sunset/\" rel=\"nofollow noreferrer\">in 2017</a>."}, {"owner": {"reputation": 27, "user_id": 9640872, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ls2rx512KAo/AAAAAAAAAAI/AAAAAAAAAFk/47mZQG1ZjJo/photo.jpg?sz=128", "display_name": "jessey stend", "link": "https://stackoverflow.com/users/9640872/jessey-stend"}, "reply_to_user": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1571915747, "post_id": 58522860, "comment_id": 103402139, "body": "I&#39;m using tiny build 14.5 which uses typescript. Typescript is related to javascripts so it uses some of the same lib&#39;s. So yes, I used the correct tags"}, {"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1571923016, "post_id": 58522860, "comment_id": 103405978, "body": "Please link me to a webpage regarding the package. I can&#39;t find any information about it."}, {"owner": {"reputation": 27, "user_id": 9640872, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ls2rx512KAo/AAAAAAAAAAI/AAAAAAAAAFk/47mZQG1ZjJo/photo.jpg?sz=128", "display_name": "jessey stend", "link": "https://stackoverflow.com/users/9640872/jessey-stend"}, "reply_to_user": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1572257855, "post_id": 58522860, "comment_id": 103491500, "body": "You need unity build 2018.3 or higher but below  2019:     <a href=\"https://blogs.unity3d.com/2018/12/05/project-tiny-preview-package-is-here/\" rel=\"nofollow noreferrer\">blogs.unity3d.com/2018/12/05/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 9640872, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ls2rx512KAo/AAAAAAAAAAI/AAAAAAAAAFk/47mZQG1ZjJo/photo.jpg?sz=128", "display_name": "jessey stend", "link": "https://stackoverflow.com/users/9640872/jessey-stend"}, "edited": false, "score": 0, "creation_date": 1571915851, "post_id": 58523494, "comment_id": 103402196, "body": "Thanks for the help, I have not tested this but it seems logical. I&#39;ll post the followup shortly"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1571835774, "creation_date": 1571835774, "answer_id": 58523494, "question_id": 58522860, "link": "https://stackoverflow.com/questions/58522860/trying-to-typeguard-my-custom-event-system-in-unitytiny/58523494#58523494", "title": "Trying to typeguard my custom event system in UnityTiny", "body": "<p><code>instanceof</code> exists and has been supported for <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/instanceof\" rel=\"nofollow noreferrer\">a while</a> so you can use it even in ES5.</p>\n\n<p>The only problem is the way you are doing your check. If you need to check for an instance of a class you need to actually have the class (not just the type) in the <code>checkEventType</code> function:</p>\n\n<pre><code>public static checkEventType&lt;T&gt;(cls: new (...a: any[]) =&gt; T, object: any): object is Event&lt;T&gt; {\n    if (object.type instanceof cls) {\n        return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/KYDwDg9gTgLgBAYwDYEMDOa4FEBuwB2MAPACoB8cAlgLZhLDUEyYCSuTpZA3gFBz9wwUSjhQxgcABYp8AE3pQ0ALjhc4AClliUAfhUkAlCpwRKsuAF8A2gF04AXji2A3HwFgArgCMklBHBgATzBgfVc3fgQIfDQYKA8EGGh1USQPULhDVQiBfhhJSjQAOiCQhzhU9Ndcix463M8fPzgAeXx1aTkFFTVNbT1MowrTcwshkzNs3Nz8wqLO+WBFIs80SQ6ZRagDaoFanMbffxaAMxONrqWejS0YXX1xkctHyd5pgVnihYVMR0-5zY-IonShIcRQDoOCiSOAAQnsjm+Sx2OX2DW8R0ywgA5tiln07gMsm93gECl9AUtimgjsB1AAGAzA6BYFAIdYw+zQgkoAwomr1dwY5pYcAQNB0obsQicKakqDAGAeKD4MmFXb8Wq1UCQWCIVAYbB4QgAVRgoMwJP4h2asTEzWAxuYKgASsAolBZERYsJ8NiADRGjgyQJkCiOLgWcLopr+O3m-wAYQVYmA0uI5HUjqYWEIlCC+kD+BQjFO6ZUPsofoMcGMIyt03+2cIaCsxdLJ3Tdkc+GAAHcgzLM82YLnzUF+XtBdbhXG7gm4ABlbxoBDCLzATjqdvAMtOitxKsBqSbYDdVQ3foPOuTMY38wN3IAeifABkIBAwGSoBAPNiYSOmAQF4ABW7owIGSAfgA1nAJzQHAO57kwgYeBKiCSO60HpiQwSSgEEAYVhVAnFQ8CFGSEhoCWEilBI6BwNiIgEIxBBLH4gb5CxaArmulAbiRATxMARSotOgiznA8bNCQOJ4lAW5IZ2+5SYefqBmAKBQDR4JEi8D45M+b4fl++Q-n+AFOkBoHgZBMFwQhSnpqh6HslhOF4eoNZJERCCwZQpH5lQmBcVJNEBHhcAMUxxqsb2wgIJxmGqoeuJLIJcTpKJAoHJJ0n+G5fkeSEW7IMoiH9hoRTVSgKghrYNZcpkgbAWBiR1fggRDK14HBYOGYUI+AgBRoPWJCUkVVna+AIMAECkWVNZDe8CpKiqQlVIZU6knAq3KqqJwoEgEoapYPD7Mg6CYAAghetwoOUABEj1nTw9DwI68COOmZoWkUybAKm6bbpV11eYGj3XY9KJvYqUkQIwuBff1v3HUUgFWJDj02K4I3qD95po4V2FOrhITqNdgafXycr8J9E0hEU93OHAL4RWUFHXedQA\" rel=\"nofollow noreferrer\">Play</a></p>\n"}], "owner": {"reputation": 27, "user_id": 9640872, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ls2rx512KAo/AAAAAAAAAAI/AAAAAAAAAFk/47mZQG1ZjJo/photo.jpg?sz=128", "display_name": "jessey stend", "link": "https://stackoverflow.com/users/9640872/jessey-stend"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 1, "accepted_answer_id": 58523494, "answer_count": 1, "score": 1, "last_activity_date": 1571835774, "creation_date": 1571833589, "question_id": 58522860, "link": "https://stackoverflow.com/questions/58522860/trying-to-typeguard-my-custom-event-system-in-unitytiny", "title": "Trying to typeguard my custom event system in UnityTiny", "body": "<p>I'm creating an event system in Unity Tiny because the one in the framework itself is very limited. I got it working but now I would like to make it more userfriendly for my colleagues. So I tried to typeguard it to prevent users from using different types but it does not seem to work for me. Any suggestions?</p>\n\n<p>I already looked at these:\n- <a href=\"https://medium.com/ovrsea/checking-the-type-of-an-object-in-typescript-the-type-guards-24d98d9119b0\" rel=\"nofollow noreferrer\">https://medium.com/ovrsea/checking-the-type-of-an-object-in-typescript-the-type-guards-24d98d9119b0</a>\n- <a href=\"https://dev.to/krumpet/generic-type-guard-in-typescript-258l\" rel=\"nofollow noreferrer\">https://dev.to/krumpet/generic-type-guard-in-typescript-258l</a></p>\n\n<p>The problem is that unity tiny is using es5. So you can't get the object.construtor.name to get the name of a type. Therefor using \"instanceof\" isn't possible.</p>\n\n<p>Also, the (object as T) does not work and I could not get the (object as T).type either.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class Event&lt;T&gt; implements IEvent&lt;T&gt;{\n        private handlers: {(data?: T): void}[] = [];\n        public type : T;\n\n        constructor(value: T){\n            this.type = value;\n        }\n\n\n        public On(handler: { (data?: T): void }) : void {\n            this.handlers.push(handler);\n        }\n\n        public Off(handler: { (data?: T): void }) : void {\n            this.handlers = this.handlers.filter(h =&gt; h !== handler);\n        }\n\n        public Trigger(data?: T) {\n            this.handlers.slice(0).forEach(h =&gt; h(data));\n        }\n\n        public Expose() : IEvent&lt;T&gt; {\n            return this;\n        }\n    }\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class EventUtils {\n        public static events = new Object();\n\n        public static CreateEvent&lt;T&gt;(eventEntity: ut.Entity, nameOfEvent: string) : void{\n            this.events[nameOfEvent] = new game.Event&lt;T&gt;();\n        }\n\n        public static Subscribe&lt;T&gt;(nameOfEvent: string, handeler: {(data? : T): void}) : void{\n            //Loop through events object, look for nameOfEvent, use checkEventType() to check if it is the same type as given generic, then subscribe if true.\n        }\n\n        public static Trigger&lt;T&gt;(nameOfEvent: string, parameter?: T) : void{\n            //Loop through events object, look for nameOfEvent, use checkEventType() to check if it is the same type as given generic, then trigger if true.\n        }\n\n        private static checkEventType&lt;T&gt;(object: any) : object is Event&lt;T&gt;{\n            let temp : T;\n            let temp2 = {temp};\n\n            if (object.type instanceof temp2.constructor.name) {\n                return true;\n            }\n            return false;\n        }\n    }\n}\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>private static checkEventType&lt;T&gt;(object: any) : object is Event&lt;T&gt;{\n            let temp : T;\n\n            if (object.type as typeof temp) {\n                return true;\n                //always returns true even if the type is different\n            }\n            return false;\n        }\n    }\n</code></pre>\n\n<p>and </p>\n\n<pre><code>let temp : T;\n\n            if ((object.type as typeof temp).type) {\n                return true;\n                //property 'type' does not exist in 'T'  \n            }\n            return false;\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "edited": false, "score": 3, "creation_date": 1571833998, "post_id": 58522766, "comment_id": 103370975, "body": "Does <a href=\"https://stackoverflow.com/questions/57686313/how-does-typescript-operator-work-with-generics-and-functions/57696667#57696667\">this answer</a> - especially second half - help you out? In essence the + operator does not work with union types."}, {"owner": {"reputation": 31, "user_id": 12260319, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCbt2OsUdrqmEN1tYCWwibSkowo8IMSSUXt4p3y=k-s128", "display_name": "David Griswold", "link": "https://stackoverflow.com/users/12260319/david-griswold"}, "reply_to_user": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "edited": false, "score": 0, "creation_date": 1571836304, "post_id": 58522766, "comment_id": 103372282, "body": "It does! Well, sort of - it tells me that what I&#39;ve discovered is, in fact, true, but it doesn&#39;t really address why. Is this a philosophical decision (and if so, what is the reasoning behind it) or just an implementation reality?"}, {"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "edited": false, "score": 1, "creation_date": 1571848308, "post_id": 58522766, "comment_id": 103378997, "body": "Cannot speak for the TS developers here, so just some speculations: I think, above is a very rare use case (in most cases you want to do a calculation <i>xor</i> a concatenation) and the team may have decided, that this construct is more likely to be an error according to <a href=\"https://github.com/microsoft/TypeScript/wiki/TypeScript-Design-Goals\" rel=\"nofollow noreferrer\">TS design goals</a>. Also it is stated that TS is not considered as &#39;sound or &quot;provably correct&#39; type system. Instead, strike a balance between correctness and productivity.&quot;, so that could be a point in favor of practicability."}, {"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "edited": false, "score": 1, "creation_date": 1571848314, "post_id": 58522766, "comment_id": 103379005, "body": "<a href=\"https://github.com/microsoft/TypeScript/issues/12410#issuecomment-286590386\" rel=\"nofollow noreferrer\">Here</a> is a statment from one of the developers that goes in your diretion: &quot;T + T where T extends string | number is still disallowed -- we don&#39;t feel this is a good use case because whether you get concatenation or addition is not predictable, thus something that people shouldn&#39;t be doing.&quot; That can be even more transferred to a simple union type <code>string | number</code> like in above case. Instead it is <a href=\"https://github.com/microsoft/TypeScript/issues/12410#issuecomment-286860930\" rel=\"nofollow noreferrer\">suggested</a> to e.g. use function overloads"}, {"owner": {"reputation": 31, "user_id": 12260319, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCbt2OsUdrqmEN1tYCWwibSkowo8IMSSUXt4p3y=k-s128", "display_name": "David Griswold", "link": "https://stackoverflow.com/users/12260319/david-griswold"}, "reply_to_user": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "edited": false, "score": 1, "creation_date": 1571853505, "post_id": 58522766, "comment_id": 103381222, "body": "Okay, so a (totally fair) philosophical decision. I even understand it! It just means I&#39;ll have to jump straight to method overloads to get into this idea, which is fine. I appreciate your time!"}], "owner": {"reputation": 31, "user_id": 12260319, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCbt2OsUdrqmEN1tYCWwibSkowo8IMSSUXt4p3y=k-s128", "display_name": "David Griswold", "link": "https://stackoverflow.com/users/12260319/david-griswold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1571833294, "creation_date": 1571833294, "question_id": 58522766, "link": "https://stackoverflow.com/questions/58522766/typescript-operator-usage-on-union-types", "title": "typescript + operator usage on union types", "body": "<p>I am trying to teach students the intricacies of things like polymorphism via (in this case built-in) operator overloading, and I created an example I thought should work but didn't. I would love some insight from Typescript experts as to why this example fails.</p>\n\n<pre><code>function add2(a: number) {\n  return a + 2;\n} // works fine, adds 2 and returns a number\n\nfunction concat2(a:string) {\n  return a + 2;\n} // works fine, concatenates '2' and returns a string\n\nfunction addOrConcatenateTwo(a: string | number) {\n  return a + 2;\n} \n// compile error. I THOUGHT it would return a string | number but it errors out no matter what.\n</code></pre>\n\n<p>I thought that Typescript would see that + is defined for strings and + is also defined for numbers and it would allow the last function to run. That's how it works for shared method names across interfaces, so why does the + operator work differently?</p>\n\n<p>This works fine and does exactly what I thought my example above would do. Is this a bug? Admittedly, one that would likely only appear in artificial educational scenarios?</p>\n\n<pre><code>function addOrConcatenateTwo(a: string | number) {\n    if (typeof (a) == \"string\") {\n        return a + 2;\n    } else {\n        return a + 2;\n    }\n}\n</code></pre>\n"}, {"tags": ["typescript", "call", "redux-saga", "yield"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1571836510, "post_id": 58522383, "comment_id": 103372435, "body": "Where is <code>call</code> coming from ?"}, {"owner": {"reputation": 2648, "user_id": 2281602, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b63b31ed172fe78fa96cfd03f50d97e0?s=128&d=identicon&r=PG", "display_name": "Rumpelstinsk", "link": "https://stackoverflow.com/users/2281602/rumpelstinsk"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1571842455, "post_id": 58522383, "comment_id": 103375992, "body": "My mistake. I&#39;m going to update the question. <code>Call</code> comes from <code>redux-saga</code>"}], "answers": [{"comments": [{"owner": {"reputation": 10154, "user_id": 2482570, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/1U8oq.jpg?s=128&g=1", "display_name": "Max Heiber", "link": "https://stackoverflow.com/users/2482570/max-heiber"}, "edited": false, "score": 0, "creation_date": 1575674162, "post_id": 58529729, "comment_id": 104658261, "body": "I understand that TS doesn&#39;t currently provide the ability to type what comes back from <code>yield</code>. Do you think it&#39;s possible to add this to the language? The implicit contracts between the generator and the thing calling &#39;next&#39; could be made explicit."}, {"owner": {"reputation": 2298, "user_id": 4340261, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/UMuEF.png?s=128&g=1", "display_name": "L_K", "link": "https://stackoverflow.com/users/4340261/l-k"}, "edited": false, "score": 2, "creation_date": 1583910194, "post_id": 58529729, "comment_id": 107266633, "body": "Looks like TS v3.6 <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-6.html\" rel=\"nofollow noreferrer\">improved the type ability for Generator</a>."}, {"owner": {"reputation": 584, "user_id": 563327, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5108acb0392a5063dac3f35b174b5eb0?s=128&d=identicon&r=PG", "display_name": "Andrew Craswell", "link": "https://stackoverflow.com/users/563327/andrew-craswell"}, "edited": false, "score": 0, "creation_date": 1586834373, "post_id": 58529729, "comment_id": 108267119, "body": "I would have thought I could cast this myself, and using the <code>ReturnType</code> felt like as could as I could get. But even using the same code described here, I&#39;m still getting an error.  <code>let response: ReturnType&lt;typeof apiFunction&gt; = yield call(apiFunction, action.payload, action.meta);</code>  <code>Type &#39;unknown&#39; is not assignable to type &#39;Promise&lt;IRequestResponse&lt;ResponsePayload&gt;&gt;&#39;</code>"}, {"owner": {"reputation": 861, "user_id": 11102617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BEdKw.jpg?s=128&g=1", "display_name": "Ege", "link": "https://stackoverflow.com/users/11102617/ege"}, "edited": false, "score": 2, "creation_date": 1590509355, "post_id": 58529729, "comment_id": 109703529, "body": "Just wanted to point a possible error in this answer, if <code>someFunction</code> is a function (not a type) it should be typed like this: <code>ReturnType&lt;typeof someFunction&gt;</code> instead of   <code>ReturnType&lt;someFunction&gt;</code>"}], "tags": [], "owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "is_accepted": true, "score": 13, "last_activity_date": 1590511920, "last_edit_date": 1590511920, "creation_date": 1571858624, "answer_id": 58529729, "question_id": 58522383, "link": "https://stackoverflow.com/questions/58522383/typescript-use-types-on-call-from-redux-saga/58529729#58529729", "title": "Typescript: Use types on call() from redux-saga", "body": "<p>Unfortunately, the left side of a <code>yield</code> <em>always</em> has type <code>any</code>. This is because a generator function can in principle be resumed with any value. Redux saga behaves in a predictable way when running generators, but there's nothing stopping someone from writing other code that steps through your saga and gives you values that are unrelated to what you yielded, as in:</p>\n\n<pre><code>const iterator = workerRefreshTaskSaga();\niterator.next();\n// You might have been expecting a ServerResponse, but too bad, you're getting a string.\niterator.next('hamburger'); \n</code></pre>\n\n<p>Only if you can assume that redux saga is running your generator can you make predictions about the types, and typescript doesn't have a way to say \"assume this generator will be run by redux saga (and all the implications that includes)\".</p>\n\n<p>So you'll need to add the types yourself. For example:</p>\n\n<pre><code>const resp: ServerResponse = yield call(apiFetch, 'url');\n</code></pre>\n\n<p>This does mean you are responsible for getting the types correct. Since typescript can only tell that it's an <code>any</code>, it will trust you with whatever you say the type is. So typescript can verify that the code following this interacts correctly with a <code>ServerResponse</code>, but if it's not actually a <code>ServerResponse</code>, typescript can't point that out to you.</p>\n\n<p>One thing i often do to get a bit more typesafety is use <code>ReturnType</code>, as in:</p>\n\n<pre><code>const output: ReturnType&lt;typeof someFunction&gt; = yield call(someFunction);\n</code></pre>\n\n<p>It's still up to me to know that <code>ReturnType&lt;typeof someFunction&gt;</code> is correct, but assuming i did that, then if someone changes the implementation of someFunction to cause it to return something different, output's type will be updated to match.</p>\n"}], "owner": {"reputation": 2648, "user_id": 2281602, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b63b31ed172fe78fa96cfd03f50d97e0?s=128&d=identicon&r=PG", "display_name": "Rumpelstinsk", "link": "https://stackoverflow.com/users/2281602/rumpelstinsk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8344, "favorite_count": 2, "accepted_answer_id": 58529729, "answer_count": 1, "score": 11, "last_activity_date": 1590511920, "creation_date": 1571831939, "last_edit_date": 1571842696, "question_id": 58522383, "link": "https://stackoverflow.com/questions/58522383/typescript-use-types-on-call-from-redux-saga", "title": "Typescript: Use types on call() from redux-saga", "body": "<p>How can I set the types of a function using <code>call()</code>?</p>\n\n<p>I have this funcion:</p>\n\n<pre><code>export function apiFetch&lt;T&gt;(url: string): Promise&lt;T&gt; {\n    return fetch(url).then(response =&gt; \n        {\n            if (!response.ok) throw new Error(response.statusText)\n            return response.json().then(data =&gt; data as T);\n        }\n    )  \n}\n</code></pre>\n\n<p>This function can be used like:</p>\n\n<pre><code>let resp = await apiFetch&lt;ServerResponse&gt;(\"http://localhost:51317/Task\");\n</code></pre>\n\n<p>By using the function as you can see in the above piece of code, <code>resp</code> is correctly string-typed. So intellisense offers me all the attributes of the <code>ServerResponse</code> interface.</p>\n\n<p>However, this function has to be call inside a worker from <code>redux-saga</code> wich does not allow, async functions:</p>\n\n<pre><code>function* refreshTaskSaga():any {\n    yield takeEvery(\"TASK_REFRESH\", workerRefreshTaskSaga);\n}\n\n\nfunction* workerRefreshTaskSaga() {\n  //I need to call the function here\n}\n</code></pre>\n\n<p>I try to call it using yield + call, as <code>redux-saga</code> documentation said:</p>\n\n<pre><code>a) let resp = yield call(apiFetch, \"http://localhost:51317/Task\");\nb) let resp = yield call(apiFetch&lt;ServerResponse&gt;, \"http://localhost:51317/Task\");\n</code></pre>\n\n<p>The first option, execute the funcion as expected, however <code>resp</code> has <code>any</code> type.\nThe second options throws me an excepction.</p>\n\n<pre><code>No overload matches this call.\n  The last overload gave the following error.\n    Argument of type 'boolean' is not assignable to parameter of type '{ context: unknown; fn: (this: unknown, ...args: any[]) =&gt; any; }'.ts(2769)\neffects.d.ts(499, 17): The last overload is declared here.\n</code></pre>\n\n<p>Any idea of the correct sintax to call it and don't lose types?</p>\n"}, {"tags": ["c#", "angular", "typescript", "asp.net-core"], "comments": [{"owner": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 1, "creation_date": 1571832608, "post_id": 58522277, "comment_id": 103370191, "body": "The second parameter for a <a href=\"https://angular.io/api/common/http/HttpClient#put\" rel=\"nofollow noreferrer\">put</a> is the body, not an <code>HttpParams</code> object."}], "answers": [{"tags": [], "owner": {"reputation": 341, "user_id": 10993965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65add3d4503319703effa104f0e0cf1c?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay", "link": "https://stackoverflow.com/users/10993965/vijay"}, "is_accepted": false, "score": 0, "last_activity_date": 1571843827, "last_edit_date": 1571843827, "creation_date": 1571838180, "answer_id": 58524265, "question_id": 58522277, "link": "https://stackoverflow.com/questions/58522277/how-to-access-httpparams-in-webapi-controller-using-httpput-verb/58524265#58524265", "title": "How to access HttpParams in WebApi Controller using [HttpPut] verb", "body": "<p>Got the answer after some research related to HttpParams that they are immutable and stuff.</p>\n\n<p>Useful link when looking through HttpParams\n<a href=\"https://stackoverflow.com/questions/45210406/angular-4-3-httpclient-set-params\">Angular 4.3 - HttpClient set params</a></p>\n\n<p>Resolution is</p>\n\n<pre><code>RollBackBatchById(selectedBatchId: number) {\n    const params = new HttpParams().append('resourceId', resourceId.toString()); \n    //chaining the parameters\n    let headers = new HttpHeaders();\n    headers.append('Content-Type', 'multipart/form-data');\n    headers.append('Accept', 'application/json');\n    const httpOptions = { headers: headers };\n    return this._httpClient.put(this.base_url + 'api/WebApi/UpdateResource',null { params: params })\n      .subscribe((res: Response) =&gt; {\n\n      });\n  } \n</code></pre>\n\n<ol>\n<li><strong>PUT</strong> excepts a body as the second parameter which I am not sending. So changed to NULL</li>\n<li><strong>HttpParams</strong> are immutable and in turn they return new instance of HttpParam which always be null. That's the reason I changed to the chaining.</li>\n</ol>\n\n<p>Then my url got construction has changed to \n<code>api/WebApi/UpdateResource?resourceId=XXX</code></p>\n"}, {"comments": [{"owner": {"reputation": 341, "user_id": 10993965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65add3d4503319703effa104f0e0cf1c?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay", "link": "https://stackoverflow.com/users/10993965/vijay"}, "edited": false, "score": 0, "creation_date": 1571913946, "post_id": 58526248, "comment_id": 103401200, "body": "It&#39;s one of the methods. Even I tried with [HttpPut] also. It worked. I just wanted to try with HttpParams. The above answers works fine"}], "tags": [], "owner": {"reputation": 1528, "user_id": 12171299, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B0Kus.jpg?s=128&g=1", "display_name": "German Quinteros", "link": "https://stackoverflow.com/users/12171299/german-quinteros"}, "is_accepted": false, "score": 0, "last_activity_date": 1571844195, "creation_date": 1571844195, "answer_id": 58526248, "question_id": 58522277, "link": "https://stackoverflow.com/questions/58522277/how-to-access-httpparams-in-webapi-controller-using-httpput-verb/58526248#58526248", "title": "How to access HttpParams in WebApi Controller using [HttpPut] verb", "body": "<p>In my opinion, you are not using correctly the REST URL definition for PUT method.\nThe URL should be: 'api/WebApi/UpdateResource/id'</p>\n\n<p>So the C# Controller should be:</p>\n\n<pre><code>[HttpPut]\n[Route(\"UpdateResource/{resourceId:int}\")]\npublic TransactionResult UpdateResource([FromUri]int resourceId)\n{\n    var id = resourceId;\n}\n</code></pre>\n\n<p>There I used int as \"resourceId\" type of data, here you have all the types available: <a href=\"https://docs.microsoft.com/en-us/aspnet/web-api/overview/web-api-routing-and-actions/attribute-routing-in-web-api-2\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/web-api/overview/web-api-routing-and-actions/attribute-routing-in-web-api-2</a></p>\n\n<p>Then in the Angular code:</p>\n\n<pre><code>RollBackBatchById(selectedBatchId: number) {\n    const params = new HttpParams();\n    let headers = new HttpHeaders();\n    headers.append('Content-Type', 'multipart/form-data');\n    headers.append('Accept', 'application/json');\n    const httpOptions = { headers: headers };\n    return this._httpClient.put(`${this.base_url}api/WebApi/UpdateResource/${selectedBatchId}`, null, { params: params })\n      .subscribe((res: Response) =&gt; {\n\n   });\n} \n</code></pre>\n\n<p>Try it and tell me if it's work now.\nGood luck.</p>\n"}], "owner": {"reputation": 341, "user_id": 10993965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65add3d4503319703effa104f0e0cf1c?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay", "link": "https://stackoverflow.com/users/10993965/vijay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 463, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1571844195, "creation_date": 1571831592, "last_edit_date": 1571832056, "question_id": 58522277, "link": "https://stackoverflow.com/questions/58522277/how-to-access-httpparams-in-webapi-controller-using-httpput-verb", "title": "How to access HttpParams in WebApi Controller using [HttpPut] verb", "body": "<p>I am trying to update a resource.So, I am trying to access the resource using PUT in angular service.</p>\n\n<pre><code>RollBackBatchById(selectedBatchId: number) {\n    const params = new HttpParams();\n    params.append('resourceId', resourceId.toString());\n    let headers = new HttpHeaders();\n    headers.append('Content-Type', 'multipart/form-data');\n    headers.append('Accept', 'application/json');\n    const httpOptions = { headers: headers };\n    return this._httpClient.put(this.base_url + 'api/WebApi/UpdateResource', { params: params })\n      .subscribe((res: Response) =&gt; {\n\n      });\n  }\n</code></pre>\n\n<p>In my WebApi Controller</p>\n\n<pre><code>[HttpPut]\n[Route(\"UpdateResource\")]\npublic TransactionResult UpdateResource([FromQuery]string resourceId)\n{\n    var id = resourceId;\n}\n</code></pre>\n\n<p>So, when I'm trying to access my resourceId it is coming as null.And when I am seeing in the network, I couldn't find the resourceId being appended to the URL.</p>\n\n<p>Could anyone please help me with this.</p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 2939, "user_id": 4711754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c25453f6a114ebb66aefcc27b0ab44d1?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Allen", "link": "https://stackoverflow.com/users/4711754/andrew-allen"}, "edited": false, "score": 1, "creation_date": 1571831394, "post_id": 58522184, "comment_id": 103369484, "body": "Don&#39;t subscribe and use the async pipe - do one or the other. The async pipe subscribes for you (and unsubscribes on component destruction)"}, {"owner": {"reputation": 2939, "user_id": 4711754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c25453f6a114ebb66aefcc27b0ab44d1?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Allen", "link": "https://stackoverflow.com/users/4711754/andrew-allen"}, "edited": false, "score": 2, "creation_date": 1571831439, "post_id": 58522184, "comment_id": 103369514, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/58349252/invalidpipeargument-for-pipe-asyncpipe-at-invalidpipeargumenterror\">InvalidPipeArgument: &#39;&#39; for pipe &#39;AsyncPipe&#39; at invalidPipeArgumentError</a>"}], "answers": [{"comments": [{"owner": {"reputation": 6004, "user_id": 6471538, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Robert Columbia", "link": "https://stackoverflow.com/users/6471538/robert-columbia"}, "edited": false, "score": 0, "creation_date": 1571839366, "post_id": 58522226, "comment_id": 103374173, "body": "It would help if you explained <i>how</i> this code solves the problem."}, {"owner": {"reputation": 599, "user_id": 6613743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f19186515922ca6449b38af7d9e1dc3b?s=128&d=identicon&r=PG&f=1", "display_name": "upinder kumar", "link": "https://stackoverflow.com/users/6613743/upinder-kumar"}, "reply_to_user": {"reputation": 6004, "user_id": 6471538, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Robert Columbia", "link": "https://stackoverflow.com/users/6471538/robert-columbia"}, "edited": false, "score": 0, "creation_date": 1571839951, "post_id": 58522226, "comment_id": 103374549, "body": "don&#39;t use this in the html because no need to use this in the html for global variable"}], "tags": [], "owner": {"reputation": 599, "user_id": 6613743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f19186515922ca6449b38af7d9e1dc3b?s=128&d=identicon&r=PG&f=1", "display_name": "upinder kumar", "link": "https://stackoverflow.com/users/6613743/upinder-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1571831411, "creation_date": 1571831411, "answer_id": 58522226, "question_id": 58522184, "link": "https://stackoverflow.com/questions/58522184/how-to-use-the-data-of-subscribe-somewhere-else/58522226#58522226", "title": "How to use the data of subscribe() somewhere else?", "body": "<pre><code>&lt;mat-option *ngFor=\"let data of myData | async\" [value]=\"data.technology\"&gt;\n  &lt;span&gt;{{ data.technology}}&lt;/span&gt;\n&lt;/mat-option&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "is_accepted": true, "score": 2, "last_activity_date": 1571831426, "creation_date": 1571831426, "answer_id": 58522233, "question_id": 58522184, "link": "https://stackoverflow.com/questions/58522184/how-to-use-the-data-of-subscribe-somewhere-else/58522233#58522233", "title": "How to use the data of subscribe() somewhere else?", "body": "<p>You should use one of subscribe or async pipe not together. it should be:</p>\n\n<pre><code>&lt;mat-option *ngFor=\"let data of myData\" [value]=\"data.technology\"&gt;\n  &lt;span&gt;{{ data.technology}}&lt;/span&gt;\n&lt;/mat-option&gt;\n</code></pre>\n\n<p>when using subscride.\nand if you don't want to use subscribe but async, it should be:</p>\n\n<pre><code>&lt;mat-option *ngFor=\"let data of myData | async\" [value]=\"data.technology\"&gt;\n  &lt;span&gt;{{ data.technology}}&lt;/span&gt;\n&lt;/mat-option&gt;\n</code></pre>\n\n<p>ts:</p>\n\n<pre><code>onKeyUp(event: any): void {\n  this.myData = this.technologiesService.getTechnologies(event.target.value)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1079, "user_id": 2108167, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d5464cfb00a7958f7256a71be56befef?s=128&d=identicon&r=PG", "display_name": "Boyen", "link": "https://stackoverflow.com/users/2108167/boyen"}, "is_accepted": false, "score": 1, "last_activity_date": 1571831505, "creation_date": 1571831505, "answer_id": 58522260, "question_id": 58522184, "link": "https://stackoverflow.com/questions/58522184/how-to-use-the-data-of-subscribe-somewhere-else/58522260#58522260", "title": "How to use the data of subscribe() somewhere else?", "body": "<p>this.myData is not async, so no need for the async pipe</p>\n\n<pre><code>&lt;mat-option *ngFor=\"let data of myData\" [value]=\"data.technology\"&gt;\n  &lt;span&gt;{{ data.technology}}&lt;/span&gt;\n&lt;/mat-option&gt;\n</code></pre>\n\n<p>will fix it.</p>\n\n<p>However, I would advice to instead make the observable an instance variable.</p>\n\n<pre><code>onKeyUp(event: any): void {\n  this.myData = this.technologiesService.getTechnologies(event.target.value)\n}\n</code></pre>\n\n<pre><code>&lt;mat-option *ngFor=\"let data of myData | async\" [value]=\"data.technology\"&gt;\n  &lt;span&gt;{{ data.technology}}&lt;/span&gt;\n&lt;/mat-option&gt;\n</code></pre>\n"}], "owner": {"reputation": 1094, "user_id": 7588829, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh3.googleusercontent.com/-I1LgDJ7tn7E/AAAAAAAAAAI/AAAAAAAAAN8/lBKB7lFMv-Y/photo.jpg?sz=128", "display_name": "Reza Saadati", "link": "https://stackoverflow.com/users/7588829/reza-saadati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 58522233, "answer_count": 3, "score": 0, "last_activity_date": 1571831505, "creation_date": 1571831254, "question_id": 58522184, "link": "https://stackoverflow.com/questions/58522184/how-to-use-the-data-of-subscribe-somewhere-else", "title": "How to use the data of subscribe() somewhere else?", "body": "<pre><code>onKeyUp(event: any): void {\n  this.technologiesService.getTechnologies(event.target.value)\n    .subscribe(data =&gt; {\n       this.myData = data;\n    });\n}\n</code></pre>\n\n<p>The output of <code>data</code> is:</p>\n\n<p><a href=\"https://i.stack.imgur.com/WjiD4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WjiD4.png\" alt=\"enter image description here\"></a></p>\n\n<p>I would like to declare <code>data</code> as property, so that I could use it somewhere else. As you see, I have tried it with <code>this.myData = data</code> and <code>myData</code> is defined like this on the top of my class: <code>myData = [];</code>.</p>\n\n<p>This is how I try to use <code>myData</code>:</p>\n\n<pre><code>&lt;mat-option *ngFor=\"let data of this.myData | async\" [value]=\"data.technology\"&gt;\n  &lt;span&gt;{{ data.technology}}&lt;/span&gt;\n&lt;/mat-option&gt;\n</code></pre>\n\n<p>But I get the following errors:</p>\n\n<blockquote>\n  <p>ERROR Error: InvalidPipeArgument: '' for pipe 'AsyncPipe'</p>\n  \n  <p>ERROR TypeError: Cannot read property 'dispose' of null</p>\n</blockquote>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["javascript", "typescript", "google-cloud-functions"], "comments": [{"owner": {"reputation": 18341, "user_id": 125562, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/SdIqA.png?s=128&g=1", "display_name": "Basilevs", "link": "https://stackoverflow.com/users/125562/basilevs"}, "edited": false, "score": 0, "creation_date": 1571830910, "post_id": 58522020, "comment_id": 103369207, "body": "<code>dealsList.forEach</code> ignores return value of its argument, leaving a promise unhandled."}], "answers": [{"tags": [], "owner": {"reputation": 96, "user_id": 7026911, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-N0nqI46dmmE/AAAAAAAAAAI/AAAAAAAAAcs/Ovwao0mX-QA/photo.jpg?sz=128", "display_name": "Adel Hassan", "link": "https://stackoverflow.com/users/7026911/adel-hassan"}, "is_accepted": true, "score": 2, "last_activity_date": 1571831012, "creation_date": 1571831012, "answer_id": 58522106, "question_id": 58522020, "link": "https://stackoverflow.com/questions/58522020/promises-must-be-handled-appropriately-error/58522106#58522106", "title": "Promises must be handled appropriately error", "body": "<p>I'm guessing that it wants you to add a <code>.catch()</code> clause after the <code>.then</code> in case the Promise fails for whatever reason. So for example, try changing</p>\n\n<pre><code>return db.doc('deals/' + deal).get().then(snapshot =&gt; {\n    ...\n});\n</code></pre>\n\n<p>to</p>\n\n<pre><code>return db.doc('deals/' + deal).get().then(snapshot =&gt; {\n    ...\n}).catch(err =&gt; console.log(err));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1550, "user_id": 11758131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4861bdb6ad28707418f6edc56d3fbd45?s=128&d=identicon&r=PG&f=1", "display_name": "Gibor", "link": "https://stackoverflow.com/users/11758131/gibor"}, "is_accepted": false, "score": 1, "last_activity_date": 1571833571, "last_edit_date": 1571833571, "creation_date": 1571831165, "answer_id": 58522159, "question_id": 58522020, "link": "https://stackoverflow.com/questions/58522020/promises-must-be-handled-appropriately-error/58522159#58522159", "title": "Promises must be handled appropriately error", "body": "<p>lets start with the notion that every promise <strong>has</strong> to be handled- either by <code>.catch</code> or <code>.then</code>. \nSo the first thing you're missing is a handler for the <code>Promise.all()</code> call you have near the end. </p>\n\n<p>Furthermore, in the latest versions of JS, you <em>have</em> to place a <code>catch</code> block after a pomise to handle rejection, even if it does nothing and even if you have a <code>.then</code>.\nHere you're missing <code>.catch</code> both for the main promise on top (<code>db.collection('recurring_deals').get()</code>), and for the <code>promise.all()</code> call.</p>\n\n<p>Add those and the error should disappear. </p>\n"}], "owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 58522106, "answer_count": 2, "score": 0, "last_activity_date": 1571833571, "creation_date": 1571830695, "question_id": 58522020, "link": "https://stackoverflow.com/questions/58522020/promises-must-be-handled-appropriately-error", "title": "Promises must be handled appropriately error", "body": "<p>I am trying to write this timer based function. Once a week, it should run and create almost duplicates of existing documents.\nEvery time I try to launch it, I keep getting the \"Promises must be handled appropriately\" error, but I can't understand what it is that I am doing wrong? There's a return at any stage possible.\nWhere is there a promises which I don't satisfy?</p>\n\n<p>I've previously launched about 40 cloud functions, so I do have some understanding of how promises work, but I'm obviously missing something here, and for the life of me, I can't understand what it is.</p>\n\n<p>This is the function:</p>\n\n<pre><code>exports.createRecurringDeals = functions.pubsub.schedule('0 0 * * 7').timeZone('Asia/Jerusalem').onRun((context) =&gt; {\n    db.collection('recurring_deals').get().then(querySnapshot =&gt; {\n\n        querySnapshot.forEach(bus =&gt; {\n            const businessListDoc = bus.data();\n\n            if (businessListDoc !== undefined) {\n                const dealsList = businessListDoc.list as Array&lt;String&gt;\n\n                return db.doc('businesses/' + bus.id).get().then(busDoc =&gt; {\n\n                    const business = busDoc.data();\n\n                    if (business !== undefined) {\n\n                        dealsList.forEach(deal =&gt; {\n                            return db.doc('deals/' + deal).get().then(snapshot =&gt; {\n                                const oldDeal = snapshot.data();\n                                if (oldDeal !== undefined) {\n\n                                    const promises: any = [];\n\n                                    const startTime = oldDeal.startTime + oldDeal.interval;\n                                    const endTime = oldDeal.endTime + oldDeal.interval;\n\n                                    const newDealDoc = db.collection('deals').doc();\n\n                                    const newDeal = {\n                                        id: newDealDoc.id,\n                                        business_ID: business.id,\n                                        business_name: business.name,\n                                        business_address_text: business.address_text,\n                                        business_address_lat: business.address_lat,\n                                        business_address_long: business.address_long,\n                                        business_phone_number: business.phone_number,\n                                        business_image: business.restaurant_photos[0],\n                                        business_categories: business.categories,\n                                        business_sub_categories: business.sub_categories,\n                                        discount: oldDeal.discount,\n                                        timestamp_start: startTime,\n                                        timestamp_end: endTime,\n                                        gmt: oldDeal.gmt,\n                                        amount: oldDeal.amount,\n                                        claimers: [],\n                                        active: true\n                                    };\n\n                                    promises.push(newDealDoc.set(newDeal));\n\n                                    promises.push(db.doc('recurring_deals/' + business.id).update({ list: FieldValue.arrayRemove(oldDeal.id) }));\n\n                                    promises.push(db.doc('recurring_deals/' + business.id).update({ list: FieldValue.arrayUnion(newDeal.id) }));\n\n                                    return Promise.all(promises);\n\n                                } else {\n                                    return null;\n                                };\n                            });\n                        });\n                        return null;\n                    } else {\n                        return null;\n                    };\n                });\n            } else {\n                return null;\n            };\n        });\n        return null;\n    });\n});\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "typescript", "data-structures", "higher-order-functions"], "comments": [{"owner": {"reputation": 2174, "user_id": 5626568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/syAh6.jpg?s=128&g=1", "display_name": "\u211b\u0251\u0192&#230;\u013f\u1d3f\u1d39\u1d3f", "link": "https://stackoverflow.com/users/5626568/%e2%84%9b%c9%91%c6%92%c3%a6%c4%bf%e1%b4%bf%e1%b4%b9%e1%b4%bf"}, "edited": false, "score": 0, "creation_date": 1571830496, "post_id": 58521866, "comment_id": 103368992, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/30640771/i-want-to-replace-all-values-with-another-array-values-both-arrays-are-in-same\">I want to replace all values with another array values , both arrays are in same size</a>"}, {"owner": {"reputation": 26524, "user_id": 3213034, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/ZD3DE.jpg?s=128&g=1", "display_name": "Amir Popovich", "link": "https://stackoverflow.com/users/3213034/amir-popovich"}, "edited": false, "score": 0, "creation_date": 1571830620, "post_id": 58521866, "comment_id": 103369064, "body": "<code>Object.keys(arrayOfObjects).forEach(k =&gt; arrayOfObjects[k] = arrayOfObjects2[k])</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1658, "user_id": 6475284, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4be636df95ad64c032e87d6796cf4e56?s=128&d=identicon&r=PG&f=1", "display_name": "Codehan25", "link": "https://stackoverflow.com/users/6475284/codehan25"}, "edited": false, "score": 0, "creation_date": 1571830501, "post_id": 58521921, "comment_id": 103368997, "body": "Is this also possible with the same array (without creating the arrray twoArray)? Because the values in the oneAray change here."}, {"owner": {"reputation": 571, "user_id": 7057771, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/o9nL8.jpg?s=128&g=1", "display_name": "Yahiya", "link": "https://stackoverflow.com/users/7057771/yahiya"}, "reply_to_user": {"reputation": 1658, "user_id": 6475284, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4be636df95ad64c032e87d6796cf4e56?s=128&d=identicon&r=PG&f=1", "display_name": "Codehan25", "link": "https://stackoverflow.com/users/6475284/codehan25"}, "edited": false, "score": 0, "creation_date": 1571830868, "post_id": 58521921, "comment_id": 103369190, "body": "@Codehan25 yes! <code>let oneArray = [     { &quot;id&quot;: 0, &quot;name&quot;: &quot;Available&quot; },     { &quot;id&quot;: 1, &quot;name&quot;: &quot;Ready&quot; },     { &quot;id&quot;: 2, &quot;name&quot;: &quot;Started&quot; } ];  let newArray = Object.assign({}, oneArray, [     { &quot;id&quot;: 0, &quot;name&quot;: &quot;Not Available&quot; },     { &quot;id&quot;: 1, &quot;name&quot;: &quot;Ready&quot; },     { &quot;id&quot;: 2, &quot;name&quot;: &quot;Not Started&quot; } ]);  console.log(newArray)</code> but ensure that two variables with the same name are not declared ."}], "tags": [], "owner": {"reputation": 571, "user_id": 7057771, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/o9nL8.jpg?s=128&g=1", "display_name": "Yahiya", "link": "https://stackoverflow.com/users/7057771/yahiya"}, "is_accepted": true, "score": 1, "last_activity_date": 1571831166, "last_edit_date": 1571831166, "creation_date": 1571830371, "answer_id": 58521921, "question_id": 58521866, "link": "https://stackoverflow.com/questions/58521866/how-to-replace-an-array-of-objects-with-an-array-including-newer-objects-in-type/58521921#58521921", "title": "How to replace an array of objects with an array including newer objects in TypeScript?", "body": "<p>Try this JS</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let oneArray = [\r\n    { \"id\": 0, \"name\": \"Available\" },\r\n    { \"id\": 1, \"name\": \"Ready\" },\r\n    { \"id\": 2, \"name\": \"Started\" }\r\n];\r\nlet twoArray = [\r\n    { \"id\": 0, \"name\": \"Not Available\" },\r\n    { \"id\": 1, \"name\": \"Not Ready\" },\r\n    { \"id\": 2, \"name\": \"Not Started\" }\r\n];\r\n\r\nlet newArray = Object.assign([], oneArray, twoArray);\r\nconsole.log(newArray);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>In TS</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>interface Data {\r\n  oneArray: array;\r\n  twoArray: array;\r\n}\r\n\r\nfunction merge(data: Data) {\r\n  return Object.assign([], data.oneArray, data.twoArray);\r\n}\r\n\r\nlet user = {\r\n    oneArray: [\r\n      { \"id\": 0, \"name\": \"Available\" },\r\n      { \"id\": 1, \"name\": \"Ready\" },\r\n      { \"id\": 2, \"name\": \"Started\" }\r\n    ],\r\n    twoArray:  [\r\n      { \"id\": 0, \"name\": \"Not Available\" },\r\n      { \"id\": 1, \"name\": \"Not Ready\" },\r\n      { \"id\": 2, \"name\": \"Not Started\" }\r\n  ]\r\n};\r\n\r\nconsole.log(merge(user));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 5237, "user_id": 819720, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/5bfa5cdbed8fbe25e9fb607a3b788aa4?s=128&d=identicon&r=PG", "display_name": "Marcus Vin&#237;cius Monteiro", "link": "https://stackoverflow.com/users/819720/marcus-vin%c3%adcius-monteiro"}, "is_accepted": false, "score": 1, "last_activity_date": 1571831099, "creation_date": 1571831099, "answer_id": 58522136, "question_id": 58521866, "link": "https://stackoverflow.com/questions/58521866/how-to-replace-an-array-of-objects-with-an-array-including-newer-objects-in-type/58522136#58522136", "title": "How to replace an array of objects with an array including newer objects in TypeScript?", "body": "<p>Sure :)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arrayOfObjects = [\r\n    { \"id\": 0, \"name\": \"Available\" },\r\n    { \"id\": 1, \"name\": \"Ready\" },\r\n    { \"id\": 2, \"name\": \"Started\" }\r\n];\r\n\r\nconst newValues = ['Not Available', 'Not Ready', 'Not Started'];\r\n\r\n\r\nnewValues.forEach((value, i) =&gt; {\r\n  arrayOfObjects.find(o =&gt; o.id === i).name = value;\r\n});\r\n\r\nconsole.log(arrayOfObjects);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I wouldn't recommend this though: <a href=\"https://mostly-adequate.gitbooks.io/mostly-adequate-guide/ch03.html#oh-to-be-pure-again\" rel=\"nofollow noreferrer\">functional programming is awesome</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1552, "user_id": 7145855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f52f640051a98574cf56e3324ad79ac2?s=128&d=identicon&r=PG&f=1", "display_name": "tolotra", "link": "https://stackoverflow.com/users/7145855/tolotra"}, "is_accepted": false, "score": 1, "last_activity_date": 1571838311, "creation_date": 1571838311, "answer_id": 58524321, "question_id": 58521866, "link": "https://stackoverflow.com/questions/58521866/how-to-replace-an-array-of-objects-with-an-array-including-newer-objects-in-type/58524321#58524321", "title": "How to replace an array of objects with an array including newer objects in TypeScript?", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arrayOfObjects = [\r\n  { \"id\": 0, \"name\": \"Available\" },\r\n  { \"id\": 1, \"name\": \"Ready\" },\r\n  { \"id\": 2, \"name\": \"Started\" }\r\n];\r\n\r\nlet names = ['Not Available', 'Not Ready', 'Not Started']\r\nlet result = arrayOfObjects.map((user, index) =&gt; ({ ...user, name: names[index] }))\r\n\r\nconsole.log(result)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1658, "user_id": 6475284, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4be636df95ad64c032e87d6796cf4e56?s=128&d=identicon&r=PG&f=1", "display_name": "Codehan25", "link": "https://stackoverflow.com/users/6475284/codehan25"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 58521921, "answer_count": 3, "score": 1, "last_activity_date": 1571838311, "creation_date": 1571830214, "question_id": 58521866, "link": "https://stackoverflow.com/questions/58521866/how-to-replace-an-array-of-objects-with-an-array-including-newer-objects-in-type", "title": "How to replace an array of objects with an array including newer objects in TypeScript?", "body": "<p>For example: I have an array of objects like this:</p>\n\n<pre><code>let arrayOfObjects: [\n    { \"id\": 0, \"name\": \"Available\" },\n    { \"id\": 1, \"name\": \"Ready\" },\n    { \"id\": 2, \"name\": \"Started\" }\n];\n</code></pre>\n\n<p>Now I want to replace or overwrite the array above with the same array, but including different values (same keys, different values):</p>\n\n<pre><code>let arrayOfObjects: [\n    { \"id\": 0, \"name\": \"Not Available\" },\n    { \"id\": 1, \"name\": \"Not Ready\" },\n    { \"id\": 2, \"name\": \"Not Started\" }\n];\n</code></pre>\n\n<p>How can this be done in TypeScript?</p>\n"}, {"tags": ["typescript", "index-signature"], "comments": [{"owner": {"reputation": 187, "user_id": 8932315, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-yMxyI_lshds/AAAAAAAAAAI/AAAAAAAA_Tc/U-vNxeMgZD0/photo.jpg?sz=128", "display_name": "MrMamen", "link": "https://stackoverflow.com/users/8932315/mrmamen"}, "edited": false, "score": 0, "creation_date": 1571830440, "post_id": 58521817, "comment_id": 103368959, "body": "<a href=\"http://www.typescriptlang.org/play/#code/MYewdgzgLgBAtgTwPICMBWMC8MDeBYAKBhgDMQQAuGAImgCcBLMAc2oBpDiUBDOqgRgBMAZg5EYPAF5VqDOAAcQdKNzCxoAVxIlqhAL4BuQoQAUAbQDkZEBbYwLPOhYC6ASgB0ZOgFFuwABYmJgDWAKYIrlgAfLicMAAmoQA2oVCh8MjoZmEIzkYEeq75QA\" rel=\"nofollow noreferrer\">typescriptlang.org/play/#code/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 187, "user_id": 8932315, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-yMxyI_lshds/AAAAAAAAAAI/AAAAAAAA_Tc/U-vNxeMgZD0/photo.jpg?sz=128", "display_name": "MrMamen", "link": "https://stackoverflow.com/users/8932315/mrmamen"}, "is_accepted": false, "score": 0, "last_activity_date": 1571830042, "creation_date": 1571830042, "answer_id": 58521818, "question_id": 58521817, "link": "https://stackoverflow.com/questions/58521817/index-signature-for-iteration-in-typescript/58521818#58521818", "title": "Index signature for iteration in typescript", "body": "<p>One workaround is:</p>\n\n<pre><code>(['foo', 'bar'] as (keyof typeof myObj)[]).forEach((key) =&gt; {\n  delete myObj[key];\n});\n</code></pre>\n\n<p>But it does not prevent typing errors in the array-strings.</p>\n"}, {"tags": [], "owner": {"reputation": 740, "user_id": 9206112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cf45c7bcb3ff976244e952d69b1e73d?s=128&d=identicon&r=PG&f=1", "display_name": "JeromeBu", "link": "https://stackoverflow.com/users/9206112/jeromebu"}, "is_accepted": true, "score": 1, "last_activity_date": 1571845639, "last_edit_date": 1571845639, "creation_date": 1571830344, "answer_id": 58521909, "question_id": 58521817, "link": "https://stackoverflow.com/questions/58521817/index-signature-for-iteration-in-typescript/58521909#58521909", "title": "Index signature for iteration in typescript", "body": "<p>Try typing your array :</p>\n\n<pre><code>const myObj = {\n  foo: \"string\",\n  bar: 123,\n  baz: \"important stuff\"\n};\n\nconst myArray: (keyof typeof myObj)[] = ['foo', 'bar']\n\nmyArray.forEach(...)\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 8932315, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-yMxyI_lshds/AAAAAAAAAAI/AAAAAAAA_Tc/U-vNxeMgZD0/photo.jpg?sz=128", "display_name": "MrMamen", "link": "https://stackoverflow.com/users/8932315/mrmamen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 58521909, "answer_count": 2, "score": 0, "last_activity_date": 1571845639, "creation_date": 1571830042, "question_id": 58521817, "link": "https://stackoverflow.com/questions/58521817/index-signature-for-iteration-in-typescript", "title": "Index signature for iteration in typescript", "body": "<p>We can all see that this code is valid javascript:</p>\n\n<pre><code>const myObj = {\n  foo: \"string\",\n  bar: 123,\n  baz: \"important stuff\"\n};\n\n['foo', 'bar'].forEach((key) =&gt; {\n  delete myObj[key];\n});\n</code></pre>\n\n<p>Element implicitly has an 'any' type because expression of type 'string' can't be used to index type '{ foo: string; bar: number; baz: string; }'.\n  No index signature with a parameter of type 'string' was found on type '{ foo: string; bar: number; baz: string; }'.</p>\n\n<p>So what's the best way of doing this TypeScript compatible?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 11426223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d4bc505a3f8e16290ebf652dd310d6?s=128&d=identicon&r=PG&f=1", "display_name": "Random", "link": "https://stackoverflow.com/users/11426223/random"}, "edited": false, "score": 0, "creation_date": 1571831594, "post_id": 58522001, "comment_id": 103369615, "body": "you are using a function called returnVariant(), where are you calling this function?"}, {"owner": {"reputation": 1678, "user_id": 7888956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vfzrr.png?s=128&g=1", "display_name": "DeC", "link": "https://stackoverflow.com/users/7888956/dec"}, "reply_to_user": {"reputation": 51, "user_id": 11426223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d4bc505a3f8e16290ebf652dd310d6?s=128&d=identicon&r=PG&f=1", "display_name": "Random", "link": "https://stackoverflow.com/users/11426223/random"}, "edited": false, "score": 0, "creation_date": 1571832112, "post_id": 58522001, "comment_id": 103369914, "body": "you can use it when veriant input change like  <code>&lt;input type=&quot;text&quot;  [(ngModel)]=&quot;variant&quot; name=&quot;reorder&quot; class=&quot; theme-input&quot; id=&quot;text&quot;  placeholder=&quot; Starting Inventory&quot; (ngModelChange)=&quot;returnVariant($event)&quot;&gt; </code>"}, {"owner": {"reputation": 51, "user_id": 11426223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d4bc505a3f8e16290ebf652dd310d6?s=128&d=identicon&r=PG&f=1", "display_name": "Random", "link": "https://stackoverflow.com/users/11426223/random"}, "edited": false, "score": 0, "creation_date": 1571834050, "post_id": 58522001, "comment_id": 103370998, "body": "Its working fine but the problem is lets say if I enter 123 in input field then the output is like this Variant {reorderLevel: &quot;1&quot;} Variant {reorderLevel: &quot;12&quot;} Variant {reorderLevel: &quot;123&quot;}"}, {"owner": {"reputation": 1678, "user_id": 7888956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vfzrr.png?s=128&g=1", "display_name": "DeC", "link": "https://stackoverflow.com/users/7888956/dec"}, "reply_to_user": {"reputation": 51, "user_id": 11426223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d4bc505a3f8e16290ebf652dd310d6?s=128&d=identicon&r=PG&f=1", "display_name": "Random", "link": "https://stackoverflow.com/users/11426223/random"}, "edited": false, "score": 0, "creation_date": 1571835662, "post_id": 58522001, "comment_id": 103371884, "body": "If that the case u can implement onChange method in product variant component.ts like onChange() { this.returnVariant.emit(this.variant) }"}], "tags": [], "owner": {"reputation": 1678, "user_id": 7888956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vfzrr.png?s=128&g=1", "display_name": "DeC", "link": "https://stackoverflow.com/users/7888956/dec"}, "is_accepted": false, "score": 0, "last_activity_date": 1571832436, "last_edit_date": 1571832436, "creation_date": 1571830616, "answer_id": 58522001, "question_id": 58521738, "link": "https://stackoverflow.com/questions/58521738/send-data-from-one-component-to-another-within-form/58522001#58522001", "title": "Send data from one component to another within form", "body": "<p>You Can Change Code Accordingly</p>\n\n<p><strong>product component.html</strong></p>\n\n<pre><code>&lt;form id=\"form\" #form=\"ngForm\" (ngSubmit)=\"onSubmit(form)\"&gt;\n &lt;label&gt;\n &lt;div class=\"field-heading\"&gt;Name&lt;/div&gt;\n&lt;input type=\"text\" [(ngModel)]=\"product.name\" name=\"productName\" class=\" theme-input\" id=\"text\" \nplaceholder=\"Enter product name\"&gt;\n&lt;/label&gt;\n&lt;product-variant (variant)=getVariantvalue($event)&gt; &lt;/product-variant&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>product component.ts</strong></p>\n\n<pre><code>export class ProductComponent implements OnInit{\n variant = new Variant();\n product= new Product();\n constructor() { }\n ngOnInit() {\n\n }\nonSubmit(){\n   console.log(this.product);\n   console.log(this.variant);\n}\ngetVariantvalue($event){\n  this.variant = $event\n}\n}\n</code></pre>\n\n<p><strong>ProductVariant component.ts</strong></p>\n\n<pre><code>import {Component, OnInit, ViewChild, EventEmitter, Output} from '@angular/core';\n\n@Component({\n  templateUrl: 'product-variant.component.html',\n  selector: 'product-variant'\n})\nexport class ProductVariant implements OnInit {\n  @Output()\n  returnVariant: EventEmitter&lt;Variant&gt; = new EventEmitter();\n  variant = new Variant();\n\n// send data from this component to the product\n  returnVariant() {\n    returnVariant.emit(variant)\n  }\n}\n</code></pre>\n\n<p>Angular Guid <a href=\"https://angular.io/guide/component-interaction\" rel=\"nofollow noreferrer\">component-interaction</a></p>\n\n<p>Hope this will helps ..!</p>\n\n<p><strong>Update:</strong>\nYou can find a detailed answer using this also: <a href=\"https://stackoverflow.com/a/58450327/4593145\">https://stackoverflow.com/a/58450327/4593145</a></p>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 11426223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d4bc505a3f8e16290ebf652dd310d6?s=128&d=identicon&r=PG&f=1", "display_name": "Random", "link": "https://stackoverflow.com/users/11426223/random"}, "edited": false, "score": 0, "creation_date": 1571834213, "post_id": 58522163, "comment_id": 103371099, "body": "Thanks for the answer but the problem is I am getting the output in the following format. Variant {reorderLevel: &quot;1&quot;} Variant {reorderLevel: &quot;12&quot;} Variant {reorderLevel: &quot;123&quot;} Is there any way to get the complete output in single object"}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "reply_to_user": {"reputation": 51, "user_id": 11426223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d4bc505a3f8e16290ebf652dd310d6?s=128&d=identicon&r=PG&f=1", "display_name": "Random", "link": "https://stackoverflow.com/users/11426223/random"}, "edited": false, "score": 0, "creation_date": 1571834488, "post_id": 58522163, "comment_id": 103371230, "body": "Can you fork my demo and share it"}, {"owner": {"reputation": 51, "user_id": 11426223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d4bc505a3f8e16290ebf652dd310d6?s=128&d=identicon&r=PG&f=1", "display_name": "Random", "link": "https://stackoverflow.com/users/11426223/random"}, "edited": false, "score": 1, "creation_date": 1571834985, "post_id": 58522163, "comment_id": 103371499, "body": "Never mind there was a mistake in my code, you solution is working. Thank you"}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "reply_to_user": {"reputation": 51, "user_id": 11426223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d4bc505a3f8e16290ebf652dd310d6?s=128&d=identicon&r=PG&f=1", "display_name": "Random", "link": "https://stackoverflow.com/users/11426223/random"}, "edited": false, "score": 0, "creation_date": 1571835084, "post_id": 58522163, "comment_id": 103371559, "body": "You are welcome. Please upvote and accept the answer if this helped :)"}], "tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": true, "score": 2, "last_activity_date": 1571831168, "creation_date": 1571831168, "answer_id": 58522163, "question_id": 58521738, "link": "https://stackoverflow.com/questions/58521738/send-data-from-one-component-to-another-within-form/58522163#58522163", "title": "Send data from one component to another within form", "body": "<p>Try like this:</p>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-q9pxgj?embed=1&amp;file=src/app/product-variant/product-variant.component.ts\" rel=\"nofollow noreferrer\">Working Demo</a></strong></p>\n\n<p>product.component.html </p>\n\n<blockquote>\n  <p>(onVariantChange)=\"variant = $event\"</p>\n</blockquote>\n\n<pre><code>&lt;form id=\"form\" #form=\"ngForm\" (ngSubmit)=\"onSubmit(form)\"&gt;\n    &lt;label&gt;\n&lt;div class=\"field-heading\"&gt;Name&lt;/div&gt;\n&lt;input type=\"text\" [(ngModel)]=\"product.name\" name=\"productName\" class=\" theme-input\" id=\"text\" \nplaceholder=\"Enter product name\"&gt;\n&lt;/label&gt;\n    &lt;product-variant (onVariantChange)=\"variant = $event\"&gt; &lt;/product-variant&gt;\n&lt;/form&gt;\n\n\n-----------------------------------------\nproduct : {{product | json}}\nvariant : {{variant | json}}\n</code></pre>\n\n<p>product-variant.component.html </p>\n\n<blockquote>\n  <p>(ngModelChange)=\"onChange()</p>\n</blockquote>\n\n<pre><code>&lt;label&gt;\n  &lt;div class=\"field-heading\"&gt;Starting Inventory&lt;/div&gt;\n  &lt;input type=\"text\"  [(ngModel)]=\"variant.reorderLevel\" name=\"reorder\" class=\" theme-input\" id=\"text\" \nplaceholder=\" Starting Inventory\" (ngModelChange)=\"onChange()\"&gt;\n&lt;/label&gt;\n</code></pre>\n\n<p>product-variant.component.ts</p>\n\n<blockquote>\n  <p><code>onChange() {\n      this.onVariantChange.emit(this.variant)\n    }</code></p>\n</blockquote>\n\n<pre><code>  @Output() onVariantChange = new EventEmitter();\n\n\n\n  onChange() {\n    this.onVariantChange.emit(this.variant)\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5062783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdc9629c76fb605ed826bfa852b83495?s=128&d=identicon&r=PG&f=1", "display_name": "Hamid.R Gharahzadeh", "link": "https://stackoverflow.com/users/5062783/hamid-r-gharahzadeh"}, "is_accepted": false, "score": -1, "last_activity_date": 1571831412, "creation_date": 1571831412, "answer_id": 58522228, "question_id": 58521738, "link": "https://stackoverflow.com/questions/58521738/send-data-from-one-component-to-another-within-form/58522228#58522228", "title": "Send data from one component to another within form", "body": "<p>There are multiple approaches.</p>\n\n<p>You can use services and dependency injection as described here:</p>\n\n<p><a href=\"https://angular.io/guide/architecture-services\" rel=\"nofollow noreferrer\">https://angular.io/guide/architecture-services</a></p>\n\n<p>And you can use Observables and especially \"subject\":\n<a href=\"https://angular.io/guide/observables-in-angular\" rel=\"nofollow noreferrer\">https://angular.io/guide/observables-in-angular</a></p>\n\n<p><a href=\"http://reactivex.io/documentation/subject.html\" rel=\"nofollow noreferrer\">http://reactivex.io/documentation/subject.html</a></p>\n"}], "owner": {"reputation": 51, "user_id": 11426223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d4bc505a3f8e16290ebf652dd310d6?s=128&d=identicon&r=PG&f=1", "display_name": "Random", "link": "https://stackoverflow.com/users/11426223/random"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 58522163, "answer_count": 3, "score": 0, "last_activity_date": 1571839636, "creation_date": 1571829732, "last_edit_date": 1571839636, "question_id": 58521738, "link": "https://stackoverflow.com/questions/58521738/send-data-from-one-component-to-another-within-form", "title": "Send data from one component to another within form", "body": "<p>How to send the data from one component to another? I have two components and I am using to selector to show the html in first component now I want to send the data entered in form to the first component.</p>\n\n<p><strong><em>product component.html</em></strong></p>\n\n<pre><code>&lt;form id=\"form\" #form=\"ngForm\" (ngSubmit)=\"onSubmit(form)\"&gt;\n  &lt;label&gt;\n  &lt;div class=\"field-heading\"&gt;Name&lt;/div&gt;\n    &lt;input type=\"text\" [(ngModel)]=\"product.name\" name=\"productName\" class=\" theme-input\" id=\"text\" \nplaceholder=\"Enter product name\"&gt;\n  &lt;/label&gt;\n  &lt;product-variant&gt; &lt;/product-variant&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong><em>product component.ts</em></strong></p>\n\n<pre><code>export class ProductComponent implements OnInit{\n variant = new Variant();\n product= new Product();\n constructor() { }\n ngOnInit() {\n\n }\nonSubmit(){\n   console.log(this.product);\n   console.log(this.variant);\n}\n</code></pre>\n\n<p><strong><em>ProductVariant component.html</em></strong></p>\n\n<pre><code>&lt;label&gt;\n  &lt;div class=\"field-heading\"&gt;Starting Inventory&lt;/div&gt;\n  &lt;input type=\"text\"  [(ngModel)]=\"variant.reorderLevel\" name=\"reorder\" class=\" theme-input\" id=\"text\" \nplaceholder=\" Starting Inventory\"&gt;\n&lt;/label&gt;\n</code></pre>\n\n<p><strong><em>ProductVariant component.ts</em></strong></p>\n\n<pre><code>import { Component, OnInit, ViewChild } from '@angular/core';\n@Component({\ntemplateUrl: 'product-variant.component.html',\nselector: 'product-variant'  \n })\nexport class ProductVariant implements OnInit {\nvariant = new Variant();\n// send data from this component to the product\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 413, "user_id": 3300370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f12e98c7b604b980ac8049ecc829c15?s=128&d=identicon&r=PG&f=1", "display_name": "Prawin soni", "link": "https://stackoverflow.com/users/3300370/prawin-soni"}, "edited": false, "score": 0, "creation_date": 1571830180, "post_id": 58521683, "comment_id": 103368787, "body": "Are you getting any error? Need more detail about the actual problem."}, {"owner": {"reputation": 249, "user_id": 12212344, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kVOZ786rnAM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reJlxXZdHmapwYNB1VUFyLU7jVRcw/photo.jpg?sz=128", "display_name": "kianoush dortaj", "link": "https://stackoverflow.com/users/12212344/kianoush-dortaj"}, "reply_to_user": {"reputation": 413, "user_id": 3300370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f12e98c7b604b980ac8049ecc829c15?s=128&d=identicon&r=PG&f=1", "display_name": "Prawin soni", "link": "https://stackoverflow.com/users/3300370/prawin-soni"}, "edited": false, "score": 0, "creation_date": 1571831069, "post_id": 58521683, "comment_id": 103369307, "body": "@Prawinsoni nor i havent any error"}, {"owner": {"reputation": 469, "user_id": 3035905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RTdB8.png?s=128&g=1", "display_name": "Laurent", "link": "https://stackoverflow.com/users/3035905/laurent"}, "edited": false, "score": 0, "creation_date": 1571831844, "post_id": 58521683, "comment_id": 103369786, "body": "If I understand it correct, you want to create a form and fill it with data from your PostSettingService?"}, {"owner": {"reputation": 249, "user_id": 12212344, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kVOZ786rnAM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reJlxXZdHmapwYNB1VUFyLU7jVRcw/photo.jpg?sz=128", "display_name": "kianoush dortaj", "link": "https://stackoverflow.com/users/12212344/kianoush-dortaj"}, "reply_to_user": {"reputation": 469, "user_id": 3035905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RTdB8.png?s=128&g=1", "display_name": "Laurent", "link": "https://stackoverflow.com/users/3035905/laurent"}, "edited": false, "score": 0, "creation_date": 1571831933, "post_id": 58521683, "comment_id": 103369830, "body": "@Laurent yes . . ."}], "answers": [{"comments": [{"owner": {"reputation": 469, "user_id": 3035905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RTdB8.png?s=128&g=1", "display_name": "Laurent", "link": "https://stackoverflow.com/users/3035905/laurent"}, "reply_to_user": {"reputation": 249, "user_id": 12212344, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kVOZ786rnAM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reJlxXZdHmapwYNB1VUFyLU7jVRcw/photo.jpg?sz=128", "display_name": "kianoush dortaj", "link": "https://stackoverflow.com/users/12212344/kianoush-dortaj"}, "edited": false, "score": 0, "creation_date": 1571835442, "post_id": 58522620, "comment_id": 103371756, "body": "@kianoushdortaj what are you returning in the getPostSetting() Observable&lt;SiteSetting&gt; of Observable&lt;PostSetting&gt;?  I edited the solution with html and service"}], "tags": [], "owner": {"reputation": 469, "user_id": 3035905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RTdB8.png?s=128&g=1", "display_name": "Laurent", "link": "https://stackoverflow.com/users/3035905/laurent"}, "is_accepted": true, "score": 0, "last_activity_date": 1571835687, "last_edit_date": 1571835687, "creation_date": 1571832804, "answer_id": 58522620, "question_id": 58521683, "link": "https://stackoverflow.com/questions/58521683/not-fill-model-and-set-it-in-form-in-angular8/58522620#58522620", "title": "not fill model and set it in form in angular8", "body": "<p>What I can see is that you never connects your form with your fetched data. Try something like this:</p>\n\n<pre><code>@Component({\n  selector: 'app-test',\n  templateUrl: './test.component.html',\n  styleUrls: ['./test.component.scss']\n})\nexport class TestComponent implements OnInit {\n\n  postSettingAddFormGroup: FormGroup;\n\n  constructor(private formBuilder: FormBuilder, private postSettingService: BtwService) {\n    this.postSettingAddFormGroup = this.formBuilder.group({\n      showDataRecordAfterSomeDay: new FormControl(null, Validators.compose([Validators.required, Validators.minLength(0), Validators.maxLength(365)]))\n    });\n  }\n\n  ngOnInit() {\n    this.postSettingService.getPostSetting().subscribe(data =&gt; {\n      this.postSettingAddFormGroup.patchValue({\n        showDataRecordAfterSomeDay: data.showDataRecordAfterSomeDay\n      });\n    });\n  }\n}\n</code></pre>\n\n<p>First, move your form creating in the constructor.</p>\n\n<p>\"showDataRecordAfterSomeDay\" is a number so you have to init this as null or 0 instead of ''.</p>\n\n<p>Now, to update your form with your data, you can use \"PatchValue\". This is what happens in ngOnInit.</p>\n\n<p>In your HTML:</p>\n\n<pre><code>&lt;form [formGroup]=\"postSettingAddFormGroup\"&gt;\n  &lt;input type=\"text\" formControlName=\"showDataRecordAfterSomeDay\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>In the PostSettingService, I asume you are returning a PostSetting? So:</p>\n\n<pre><code>getPostSetting(): Observable&lt;PostSetting&gt; {\n    return of({showDataRecordAfterSomeDay: 10});\n}\n</code></pre>\n"}], "owner": {"reputation": 249, "user_id": 12212344, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kVOZ786rnAM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reJlxXZdHmapwYNB1VUFyLU7jVRcw/photo.jpg?sz=128", "display_name": "kianoush dortaj", "link": "https://stackoverflow.com/users/12212344/kianoush-dortaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 58522620, "answer_count": 1, "score": 0, "last_activity_date": 1571835687, "creation_date": 1571829569, "question_id": 58521683, "link": "https://stackoverflow.com/questions/58521683/not-fill-model-and-set-it-in-form-in-angular8", "title": "not fill model and set it in form in angular8", "body": "<p><strong>hi</strong></p>\n\n<p>i have this model :</p>\n\n<pre><code>export interface SiteSetting {\n    postSetting: PostSetting;\n}\n\nexport interface PostSetting {\n    showDataRecordAfterSomeDay: number;\n}\n</code></pre>\n\n<p>and i need to fill model in component an add set to form value .</p>\n\n<pre><code>   postSettingAddFormGroup: FormGroup;\n  postSettingModel: SiteSetting;\n\n  constructor(private formBuilder: FormBuilder, private postsettingService: PostService, private alertService: AlertService, private route: Router) {\n    this.postSettingModel = {} as SiteSetting;\n    this.cachedSetting();\n  }\n\n  ngOnInit(): void {\n    this.intialForm();\n  }\n\n\n  ngAfterViewInit(): void {\n  }\n\n\n  intialForm(): void {\n    this.postSettingAddFormGroup = this.formBuilder.group({\n      showDataRecordAfterSomeDay: ['', Validators.compose([Validators.required, Validators.minLength(0), Validators.maxLength(365)])]\n    });\n  }\n\n  cachedSetting(): void {\n    this.postsettingService.getPostSetting().subscribe(data =&gt; {\n      this.postSettingModel.postSettingsModel = data\n    })\n  }\n</code></pre>\n\n<p>i using this code but it not <code>postSettingModel</code> .</p>\n\n<p>whats the problem? how can i solve this model ???</p>\n"}, {"tags": ["typescript", "typescript-typings"], "answers": [{"comments": [{"owner": {"reputation": 2078, "user_id": 1155168, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/bb007ea9916e45856033ffe97f8843ac?s=128&d=identicon&r=PG", "display_name": "Iazel", "link": "https://stackoverflow.com/users/1155168/iazel"}, "edited": false, "score": 0, "creation_date": 1571867595, "post_id": 58527491, "comment_id": 103386671, "body": "Thank you a lot for all the info! My actual use case is a lot more complex. I&#39;m trying to implement some flexible constraint for a UI library. Have a look at : <a href=\"https://github.com/microsoft/TypeScript/issues/23132#issuecomment-545642342\" rel=\"nofollow noreferrer\">github.com/microsoft/TypeScript/issues/&hellip;</a>"}, {"owner": {"reputation": 2078, "user_id": 1155168, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/bb007ea9916e45856033ffe97f8843ac?s=128&d=identicon&r=PG", "display_name": "Iazel", "link": "https://stackoverflow.com/users/1155168/iazel"}, "edited": false, "score": 0, "creation_date": 1571911433, "post_id": 58527491, "comment_id": 103399823, "body": "In the end I solved the problem by adding the restriction to the other function too, see my answer for more details"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": false, "score": 1, "last_activity_date": 1571848819, "creation_date": 1571848819, "answer_id": 58527491, "question_id": 58521104, "link": "https://stackoverflow.com/questions/58521104/typescript-custom-restriction-with-generics/58527491#58527491", "title": "Typescript custom restriction with Generics", "body": "<p>This is more of a design limitation than a bug; unresolved conditional types (ones which depend on a yet-to-be-specified generic type parameter) are more or less deferred completely by the compiler, and almost nothing is seen as assignable to them.  </p>\n\n<hr>\n\n<p>There's an open issue, <a href=\"https://github.com/microsoft/TypeScript/issues/23132\" rel=\"nofollow noreferrer\">microsoft/TypeScript#23132</a>, that suggests using generic constraints to determine assignability to unresolved conditional types; I think if this suggestion were implemented your example code would work (because <code>A extends Bottom</code> would be seen as true)... so you might want to go that issue and give it a \ud83d\udc4d and possibly explain your use case if you think it's more compelling than what's there.</p>\n\n<p>There's also <a href=\"https://github.com/microsoft/TypeScript/issues/33912\" rel=\"nofollow noreferrer\">microsoft/TypeScript#33912</a>, which proposes using control flow analysis to determine assignability to unresolved conditional types, which might also help if it were to be implemented.</p>\n\n<hr>\n\n<p>Right now I think the only way to \"make it work\" is either to use <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions\" rel=\"nofollow noreferrer\">type assertions</a>, as in:</p>\n\n<pre><code>useIt(a as R&lt;A&gt;)\n</code></pre>\n\n<p>or to express your type so that it is no longer an unresolved conditional type, if possible; in your example code, <code>R&lt;A&gt;</code> is unconditionally <code>A</code>, so </p>\n\n<pre><code>// type R&lt;A&gt; = A extends Bottom ? A : A\ntype R&lt;A&gt; = A\n</code></pre>\n\n<p>would solve it.  </p>\n\n<p>Actually I see you changed <code>R&lt;A&gt;</code> in another part of your code to be essentially <code>Extract&lt;A, Bottom&gt;</code>.  In some instances, <code>Extract&lt;T, U&gt;</code> can be replaced by the intersection <code>T &amp; U</code> without ill effects; you might try that instead:</p>\n\n<pre><code>// type R&lt;A&gt; = A extends Bottom ? A : never\ntype R&lt;A&gt; = A &amp; Bottom\n</code></pre>\n\n<p>That might also work.  </p>\n\n<hr>\n\n<p>Okay, hope that helps; good luck!</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#code/HYQwtgpgzgDiDGEAEBBKUICcAuSDeAUEsUtgJ4zIBKAPCgHxIC8qSEAHthMACZRIAhAPbZsQsEgD8rAFyoCREuUqCRYiSzylo2OcACuYAEZYkAXwUkk8IcCi4AZsyR02nbn1Wjx9ABQg5FABKZkZCKyt9DABJbH8kEH5aBiDFYgs061t7JCiIWOdXDi5efmFvMD8ApGT6EKZGGzshABsIADoWoQBzf1SM0EhYBGoIBwQxTHxLEgB6WdIKajpGFhQ3Es9y9SlZeStlZYZnFBniQ68dzW17PUMTKYyrJpynFiL3Usuff0D6sMykRicRAqSsTxIL1weQK73WxQ8ZTUP2qtX+WWabU6PT6BAG4GgcEQNTGEyEmAATNNMvNFipaicNojvhJpOs9BAAG5YTIXBlrJAAMhZZzpyG24mcWi4tyQBmMpghxChSDeLnhny2yMqv1Q6PCEWIMJBYJISoxOWNhQ1myRFSqcjRoQtrQ6XV6oLxCiAA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}, {"tags": [], "owner": {"reputation": 2078, "user_id": 1155168, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/bb007ea9916e45856033ffe97f8843ac?s=128&d=identicon&r=PG", "display_name": "Iazel", "link": "https://stackoverflow.com/users/1155168/iazel"}, "is_accepted": false, "score": 0, "last_activity_date": 1571911384, "creation_date": 1571911384, "answer_id": 58538910, "question_id": 58521104, "link": "https://stackoverflow.com/questions/58521104/typescript-custom-restriction-with-generics/58538910#58538910", "title": "Typescript custom restriction with Generics", "body": "<p>After a lot of tinkering, I solved this problem by explicitly adding the restriction:</p>\n\n<pre><code>const f = &lt;A extends Bottom&gt;(a: R&lt;A&gt;) =&gt; {\n    useIt(a) // works\n}\n\nconst useIt = &lt;A extends Bottom&gt;(a: R&lt;A&gt;) =&gt; console.log(a)\n</code></pre>\n\n<p>Please note that now <code>f</code> argument has the same constraint of <code>useIt</code>, which will make the compiler happy. With hindsight, this actually makes sense, so that we are 100% sure the type is usable for <code>useIt</code> too :)</p>\n"}], "owner": {"reputation": 2078, "user_id": 1155168, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/bb007ea9916e45856033ffe97f8843ac?s=128&d=identicon&r=PG", "display_name": "Iazel", "link": "https://stackoverflow.com/users/1155168/iazel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1571911384, "creation_date": 1571827557, "question_id": 58521104, "link": "https://stackoverflow.com/questions/58521104/typescript-custom-restriction-with-generics", "title": "Typescript custom restriction with Generics", "body": "<p>While working on a library, I discovered what to me looks like a bug when using Generics:</p>\n\n<pre><code>type R&lt;A&gt; = A extends Bottom ? A : A\ntype Bottom = { test: number }\n\nconst f = &lt;A extends Bottom&gt;(a: A) =&gt; {\n    useIt(a) // type error here\n}\n\nconst useIt = &lt;A extends Bottom&gt;(a: R&lt;A&gt;) =&gt; console.log(a)\n</code></pre>\n\n<p>As you can also see in the \n<a href=\"https://www.typescriptlang.org/play/index.html?ssl=1&amp;ssc=1&amp;pln=8&amp;pc=60#code/C4TwDgpgBASgPAQQHxQLxQVCAPYEB2AJgM5QBCA9sMBQLZQD8GUAXBgFCiTlU33oBvKHmLA2+AK60ARhABOUAL7t2AYwr5RUAGZooiLLgIke1OkgAUAQzYIAlGhQD2UV1AnEIASWDW77ZTUNLQ9vYD0DHDwiUkozWksbWEQkB1QUdU0KABsIADpsigBzPyA\" rel=\"nofollow noreferrer\">Playground example</a>, for some unclear reason <code>a</code> cannot be used as <code>R&lt;A&gt;</code>, even though this type is equivalent to <code>A</code>.</p>\n\n<p>The type error is:</p>\n\n<pre><code>Argument of type 'A' is not assignable to parameter of type 'R&lt;A&gt;'.\n  Type 'Bottom' is not assignable to type 'R&lt;A&gt;'.\n</code></pre>\n\n<p>Using a concrete type instead of a generic will work as expected, eg:</p>\n\n<pre><code>type X = {test: 1}\nconst x: R&lt;X&gt; = {test: 1} // all good\nconst noX: R&lt;X&gt; = {test: 2} // error\n</code></pre>\n\n<p>Having a better restriction type will also work as expected for concrete types:</p>\n\n<pre><code>type R&lt;A&gt; = A extends Bottom ? A : never\nconst x: R&lt;X&gt; = {test: 1} // all good\nconst error: R&lt;{}&gt; = {} // type error as expected given that {} doesn't extend Bottom\n</code></pre>\n\n<p>So, is there any way to make it work with Generics?</p>\n"}, {"tags": ["angular", "typescript", "error-handling"], "answers": [{"comments": [{"owner": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "edited": false, "score": 1, "creation_date": 1571827713, "post_id": 58521067, "comment_id": 103367522, "body": "thanks, this solved the problem, but the wier thing is exacly the same code is working fine in my other project... I just copied the files. Do you have any idea? Maybe this is an Angular versions mistake?"}, {"owner": {"reputation": 442, "user_id": 12084893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50c95c804a48a9bf87677cbdb0fdedca?s=128&d=identicon&r=PG&f=1", "display_name": "Aayush Gupta", "link": "https://stackoverflow.com/users/12084893/aayush-gupta"}, "reply_to_user": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "edited": false, "score": 1, "creation_date": 1571827805, "post_id": 58521067, "comment_id": 103367580, "body": "ya this is due to some version and node modules issues depends on the app"}], "tags": [], "owner": {"reputation": 442, "user_id": 12084893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50c95c804a48a9bf87677cbdb0fdedca?s=128&d=identicon&r=PG&f=1", "display_name": "Aayush Gupta", "link": "https://stackoverflow.com/users/12084893/aayush-gupta"}, "is_accepted": true, "score": 1, "last_activity_date": 1571827431, "creation_date": 1571827431, "answer_id": 58521067, "question_id": 58520938, "link": "https://stackoverflow.com/questions/58520938/how-to-solve-cant-resolve-all-parameters-for-issue-in-angular-8-applica/58521067#58521067", "title": "How to solve &quot;Can&#39;t resolve all parameters for [...]&quot; issue in Angular 8 application in a custom ErrorHandler?", "body": "<p>Try this in your <strong>error-handler.ts</strong></p>\n\n<pre><code>@Injectable() \nexport class AppErrorHandle extends ErrorHandler {\n.........\n.......\n</code></pre>\n"}], "owner": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 0, "accepted_answer_id": 58521067, "answer_count": 1, "score": 0, "last_activity_date": 1571827431, "creation_date": 1571826975, "question_id": 58520938, "link": "https://stackoverflow.com/questions/58520938/how-to-solve-cant-resolve-all-parameters-for-issue-in-angular-8-applica", "title": "How to solve &quot;Can&#39;t resolve all parameters for [...]&quot; issue in Angular 8 application in a custom ErrorHandler?", "body": "<p>In my Angular 8 app I want to handle errors with my custom error handler. I have this code:</p>\n\n<p><code>app.module.ts</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@NgModule({\n  declarations: [\n    AppComponent,\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    FormsModule,\n    HttpClientModule,\n  ],\n  providers: [\n    AppErrorHandler,\n    { provide: ErrorHandler, useClass: AppErrorHandler },\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p><code>error-handler.ts</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { ErrorHandler, Injector } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { throwError } from 'rxjs';\n\nexport class AppErrorHandler implements ErrorHandler {\n  constructor(\n    private injector: Injector,\n  ) {}\n\n  handleError(error: any) {\n    const router = this.injector.get(Router);\n    // ...some case I navigate user to a custom error page, like \"not found\"\n  }\n}\n</code></pre>\n\n<p>In the compiler everything is green, but in the console at loading application I get this error:</p>\n\n<pre><code>Uncaught Error: Can't resolve all parameters for AppErrorHandler: (?).\n    at syntaxError (compiler.js:2430)\n    at CompileMetadataResolver.push../node_modules/@angular/compiler/fesm5/compiler.js.CompileMetadataResolver._getDependenciesMetadata (compiler.js:18984)\n    at CompileMetadataResolver.push../node_modules/@angular/compiler/fesm5/compiler.js.CompileMetadataResolver._getTypeMetadata (compiler.js:18877)\n    at CompileMetadataResolver.push../node_modules/@angular/compiler/fesm5/compiler.js.CompileMetadataResolver._getInjectableTypeMetadata (compiler.js:19099)\n    at CompileMetadataResolver.push../node_modules/@angular/compiler/fesm5/compiler.js.CompileMetadataResolver.getProviderMetadata (compiler.js:19108)\n    at compiler.js:19046\n    at Array.forEach (&lt;anonymous&gt;)\n    at CompileMetadataResolver.push../node_modules/@angular/compiler/fesm5/compiler.js.CompileMetadataResolver._getProvidersMetadata (compiler.js:19006)\n    at CompileMetadataResolver.push../node_modules/@angular/compiler/fesm5/compiler.js.CompileMetadataResolver.getNgModuleMetadata (compiler.js:18725)\n    at JitCompiler.push../node_modules/@angular/compiler/fesm5/compiler.js.JitCompiler._loadModules (compiler.js:26029)\n</code></pre>\n\n<p>Why I get this error message and how can I solve this?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 917, "user_id": 11048793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/322AO.jpg?s=128&g=1", "display_name": "varundhariyal", "link": "https://stackoverflow.com/users/11048793/varundhariyal"}, "edited": false, "score": 1, "creation_date": 1571826547, "post_id": 58520632, "comment_id": 103366914, "body": "First of all use select and option tag for dropdowns.Ul is not recommended at all!.I can show the implementation for select tag."}], "answers": [{"comments": [{"owner": {"reputation": 2939, "user_id": 4711754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c25453f6a114ebb66aefcc27b0ab44d1?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Allen", "link": "https://stackoverflow.com/users/4711754/andrew-allen"}, "edited": false, "score": 1, "creation_date": 1571830437, "post_id": 58521749, "comment_id": 103368958, "body": "<a href=\"https://stackblitz.com/edit/angular-bare-bones-cva\" rel=\"nofollow noreferrer\">Stackblitz</a> of minimum required to set up control value accessor"}, {"owner": {"reputation": 395, "user_id": 11056703, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HjkpXNFIpr8/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQP4tBgqW5chp6xl9Bzvcx6RtuOoGA/mo/photo.jpg?sz=128", "display_name": "SIn san sun", "link": "https://stackoverflow.com/users/11056703/sin-san-sun"}, "edited": false, "score": 1, "creation_date": 1571851287, "post_id": 58521749, "comment_id": 103380318, "body": "Thanks, this is very helpful. I have another question. How to set the first element from the array to be selected in my select option. I updated the question, you can see the code."}, {"owner": {"reputation": 20573, "user_id": 1643676, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/418606a9471058ad35cb48144e582371?s=128&d=identicon&r=PG", "display_name": "Athanasios Kataras", "link": "https://stackoverflow.com/users/1643676/athanasios-kataras"}, "edited": false, "score": 0, "creation_date": 1571901526, "post_id": 58521749, "comment_id": 103394881, "body": "I updated the question and also included a stackblitz for you to see how the binding works!"}], "tags": [], "owner": {"reputation": 20573, "user_id": 1643676, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/418606a9471058ad35cb48144e582371?s=128&d=identicon&r=PG", "display_name": "Athanasios Kataras", "link": "https://stackoverflow.com/users/1643676/athanasios-kataras"}, "is_accepted": false, "score": 2, "last_activity_date": 1571901465, "last_edit_date": 1571901465, "creation_date": 1571829760, "answer_id": 58521749, "question_id": 58520632, "link": "https://stackoverflow.com/questions/58520632/how-set-ngmodel-in-the-bootstrap-model/58521749#58521749", "title": "How set [(ngModel)] in the bootstrap model", "body": "<h1>Bootstrap Section</h1>\n\n<p>There is no reason whatsoever to have NgModel on the anchor elements of the bootstrap menu. The menu is meant to redirect you somewhere in the website, thus you need not have it anywhere in your Form (where NgModel naturally resides).</p>\n\n<p>What you might be looking for though is <a href=\"https://getbootstrap.com/docs/4.0/components/forms/\" rel=\"nofollow noreferrer\">https://getbootstrap.com/docs/4.0/components/forms/</a> - The Example select section</p>\n\n<pre><code>  &lt;div class=\"form-group\"&gt;\n    &lt;label for=\"exampleFormControlSelect1\"&gt;Example select&lt;/label&gt;\n    &lt;select [(ngModel)]=\"size\" class=\"form-control\" id=\"exampleFormControlSelect1\"&gt;\n      &lt;option&gt;S&lt;/option&gt;\n      &lt;option&gt;XL&lt;/option&gt;\n      &lt;option&gt;XXL&lt;/option&gt;\n      &lt;option&gt;etc&lt;/option&gt;\n    &lt;/select&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<h1>Angular FormsModule Section</h1>\n\n<p>This question is answered very well by varundhariyal. I will though, provide some more information as to the why this comment is the proper answer.</p>\n\n<p>The NgModel can be applied to <a href=\"https://angular.io/api/forms/FormControl\" rel=\"nofollow noreferrer\">FormControl</a> FormControl implementations. This basically means that if you include the <a href=\"https://angular.io/api/forms/FormsModule\" rel=\"nofollow noreferrer\">FormsModule</a>, you can use the NgModel two way binding on html <strong>input</strong> and <strong>select</strong> tags.</p>\n\n<p>If you can't go any other way and you really must and need to use the above html, then you need to create your own <strong>CUSTOM</strong> FormControl.</p>\n\n<p>This basically means that you need to use <a href=\"https://angular.io/api/forms/ControlValueAccessor#description\" rel=\"nofollow noreferrer\">ControlValueAccessor</a> and create custom logic describing what it means to set a value or retrieve a value from your new FormControl. I will not provide the full solution here but basically you will have to create click events on your anchors that will set the value. You will need to implement the writeValue Which will have to apply the proper css so that the selected li will be the only one visible and so forth.</p>\n\n<p>You can see an exmaple of that <a href=\"https://codinglatte.com/posts/angular/angular-build-custom-form-control/\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>You can see how to pre-select a value for a select <a href=\"https://stackblitz.com/edit/angular-so-pre-select-value?file=src/app/app.component.html\" rel=\"nofollow noreferrer\">at the stackblitz here</a></p>\n\n<p>In summary you need following:</p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent  {\n  public sizeArray = ['SM', 'M', 'L', 'XL'];\n  public product = {\n    id: 1,\n    size: 'L'\n  };\n}\n</code></pre>\n\n<p>Set a variable in the model that has a pre-set value.</p>\n"}], "owner": {"reputation": 395, "user_id": 11056703, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HjkpXNFIpr8/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQP4tBgqW5chp6xl9Bzvcx6RtuOoGA/mo/photo.jpg?sz=128", "display_name": "SIn san sun", "link": "https://stackoverflow.com/users/11056703/sin-san-sun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1571901465, "creation_date": 1571825944, "last_edit_date": 1571851221, "question_id": 58520632, "link": "https://stackoverflow.com/questions/58520632/how-set-ngmodel-in-the-bootstrap-model", "title": "How set [(ngModel)] in the bootstrap model", "body": "<p>I want to set get selected data from my drop-down menu using <code>ngModel</code>.\nThis is my template:</p>\n\n<pre><code>&lt;div class=\"btn-group\"\n                             dropdown&gt;\n                            &lt;button id=\"button-basic\"\n                                    dropdownToggle\n                                    type=\"button\"\n                                    class=\"btn btn-outline-primary dropdown-toggle\"\n                                    aria-controls=\"dropdown-basic\"\n                                    [(ngModel)]=\"size\"\n                                    ngDefaultControl \n\n                                    &gt;\n                                Size\n                                &lt;span class=\"caret\"&gt;&lt;/span&gt;\n                            &lt;/button&gt;\n                            &lt;ul id=\"dropdown-basic\"\n                                *dropdownMenu\n                                class=\"dropdown-menu\"\n                                role=\"menu\"\n                                aria-labelledby=\"button-basic\"\n\n\n                                &gt;\n                                &lt;li role=\"menuitem\"&gt;\n                                    &lt;a class=\"dropdown-item\" &gt;\n                                        XS\n                                    &lt;/a&gt;\n                                &lt;/li&gt;\n                                &lt;li role=\"menuitem\"&gt;\n                                    &lt;a class=\"dropdown-item\" &gt;\n                                        S\n                                    &lt;/a&gt;\n                                &lt;/li&gt;\n                                &lt;li role=\"menuitem\"&gt;\n                                    &lt;a class=\"dropdown-item\"&gt;\n                                        M\n                                    &lt;/a&gt;\n                                &lt;/li&gt;\n\n\n                            &lt;/ul&gt;\n                        &lt;/div&gt;\n</code></pre>\n\n<p>This is my variable:   <code>public size:string;</code></p>\n\n<p>Update: I used select option </p>\n\n<pre><code>  &lt;select class=\"custom-select\" [(ngModel)]=\"this.product.size\" &gt;\n                                &lt;option *ngFor=\"let size of sizeArray; let i = index\"  &gt;\n                                    {{size}}\n                                &lt;/option&gt;\n                            &lt;/select&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "architecture", "mapping"], "answers": [{"tags": [], "owner": {"reputation": 303, "user_id": 4496605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2d7db3aa18aaba4dc3531d209ed5876?s=128&d=identicon&r=PG&f=1", "display_name": "Pistacchio", "link": "https://stackoverflow.com/users/4496605/pistacchio"}, "is_accepted": false, "score": 0, "last_activity_date": 1571827435, "creation_date": 1571827435, "answer_id": 58521071, "question_id": 58519847, "link": "https://stackoverflow.com/questions/58519847/how-to-map-absolutely-safety-backend-data-after-a-request/58521071#58521071", "title": "How to map absolutely safety backend data after a request?", "body": "<p>This is a problem that I also faced and from what I could understand there is no standard pattern yet to solve this in an easy, clean and elegant way.</p>\n\n<p>The easiest and dirtiest thing would be to check that the incoming JSON has only the properties contained in the model that you expect, if one unexpected property is found (so it's undefined on your model instance instead of null) an error can be thrown. It could be achieved with a generic recursive function to take in account nested data structures, iterating on the objects keys.</p>\n\n<p>Another more elegant but more complex method would be the one explained in this article: <a href=\"http://cloudmark.github.io/Json-Mapping/\" rel=\"nofollow noreferrer\">TypeScript Json Mapper</a>, alongside the <a href=\"https://www.npmjs.com/package/reflect-metadata\" rel=\"nofollow noreferrer\">reflect-metadata api</a> to make it work in angular2+</p>\n"}], "owner": {"reputation": 1, "user_id": 10005918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/031f2d1c99b5a0d42242846b4b5ed107?s=128&d=identicon&r=PG&f=1", "display_name": "NetworkRocker", "link": "https://stackoverflow.com/users/10005918/networkrocker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571827435, "creation_date": 1571823458, "last_edit_date": 1571826294, "question_id": 58519847, "link": "https://stackoverflow.com/questions/58519847/how-to-map-absolutely-safety-backend-data-after-a-request", "title": "How to map absolutely safety backend data after a request?", "body": "<p>First I want to say that this scenario can also be in the other way too.</p>\n\n<p><strong>Scenario:</strong> \nBackend developer is not your friend :D defines a DTO (send JSON) with properties for example in JAVA --> he doesn't communicate with you --> of course not best practise.</p>\n\n<p><strong>Common problem:</strong>\nAs a frontend developer with ANGULAR I want to be safe, when I try mapping the backend data to my frontend model (get JSON) --> because I expect this is the point which is definitely often underestimated.</p>\n\n<p><strong>Normal case</strong>\nJSON Object mapping these things which fits --> Wow, what a technique,\nbut I cannot be safe to have the data in a complete other point in my program.</p>\n\n<p><strong>Question</strong>\nIs there a method or pattern that I get a runtime or compile-time error <strong>during the mapping process</strong> --> that I can be sure, yes the model is definitely exact the same object (JSON model) like the response data?</p>\n"}, {"tags": ["reactjs", "typescript", "create-react-app", "yarnpkg", "package.json"], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 3758264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e2725d336cb3aab22fc88b6a7c4aca9?s=128&d=identicon&r=PG&f=1", "display_name": "Crow", "link": "https://stackoverflow.com/users/3758264/crow"}, "edited": false, "score": 1, "creation_date": 1580308750, "post_id": 58523806, "comment_id": 106055577, "body": "Even if you upgrade <code>@types&#47;node</code> to v13?"}], "tags": [], "owner": {"reputation": 94, "user_id": 10945715, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5htRG.jpg?s=128&g=1", "display_name": "Egor Pashko", "link": "https://stackoverflow.com/users/10945715/egor-pashko"}, "is_accepted": false, "score": 0, "last_activity_date": 1571836692, "creation_date": 1571836692, "answer_id": 58523806, "question_id": 58519610, "link": "https://stackoverflow.com/questions/58519610/interface-nodemodule-cannot-simultaneously-extend-types-module-and-module/58523806#58523806", "title": "Interface &#39;NodeModule&#39; cannot simultaneously extend types &#39;Module&#39; and &#39;Module&#39;", "body": "<p>After moved all @types to devDependencies exception doesn't appear</p>\n"}, {"tags": [], "owner": {"reputation": 1712, "user_id": 4826213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2023ba44d1ae3a0943ccbfdce7ae2db?s=128&d=identicon&r=PG", "display_name": "Jim Doyle", "link": "https://stackoverflow.com/users/4826213/jim-doyle"}, "is_accepted": false, "score": 2, "last_activity_date": 1596533731, "creation_date": 1596533731, "answer_id": 63244026, "question_id": 58519610, "link": "https://stackoverflow.com/questions/58519610/interface-nodemodule-cannot-simultaneously-extend-types-module-and-module/63244026#63244026", "title": "Interface &#39;NodeModule&#39; cannot simultaneously extend types &#39;Module&#39; and &#39;Module&#39;", "body": "<p>Try updating <code>@types/webpack-env</code> to latest version. Worked for me.</p>\n"}, {"tags": [], "owner": {"reputation": 8169, "user_id": 650104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50d91c4e7c47e577adbeef720e9010fe?s=128&d=identicon&r=PG", "display_name": "Javarome", "link": "https://stackoverflow.com/users/650104/javarome"}, "is_accepted": false, "score": 1, "last_activity_date": 1603277366, "creation_date": 1603277366, "answer_id": 64461964, "question_id": 58519610, "link": "https://stackoverflow.com/questions/58519610/interface-nodemodule-cannot-simultaneously-extend-types-module-and-module/64461964#64461964", "title": "Interface &#39;NodeModule&#39; cannot simultaneously extend types &#39;Module&#39; and &#39;Module&#39;", "body": "<p>This usually means that the version of <code>@types/node</code> you've specify in your <code>package.json</code>'s <code>devDependencies</code> is incompatible with the one used under the hood by one of your dependencies.</p>\n<p>For instance you will get this error if you've specified <code>&quot;@types/node&quot;: &quot;13.9.1&quot;</code> but use a <code>&quot;@nestjs/cli&quot;: &quot;^7.0.0&quot;</code> because that latter lib is using itself <code>&quot;@types/node&quot;: &quot;12.12.31&quot;</code>.</p>\n<p>A workaround for this is to lower your the <code>@types/node</code> version of your project to the lowest common denominator, so <code>&quot;12.12.31&quot;</code> in this example.</p>\n"}], "owner": {"reputation": 94, "user_id": 10945715, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5htRG.jpg?s=128&g=1", "display_name": "Egor Pashko", "link": "https://stackoverflow.com/users/10945715/egor-pashko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2066, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1603277366, "creation_date": 1571822673, "last_edit_date": 1581495898, "question_id": 58519610, "link": "https://stackoverflow.com/questions/58519610/interface-nodemodule-cannot-simultaneously-extend-types-module-and-module", "title": "Interface &#39;NodeModule&#39; cannot simultaneously extend types &#39;Module&#39; and &#39;Module&#39;", "body": "<p>I'm use React.\nAfter create-react-app --typescript I've added few libraries to package.json after that I received exception in runtime.</p>\n\n<pre><code>TypeScript error in D:/catalog/node_modules/@types/node/globals.d.ts(223,11):\nInterface 'NodeModule' cannot simultaneously extend types 'Module' and 'Module'.\n  Named property 'hot' of types 'Module' and 'Module' are not identical.  TS2320\n\n    221 | declare var require: NodeRequire;\n    222 |\n  &gt; 223 | interface NodeModule {\n        |           ^\n    224 |     exports: any;\n    225 |     require: NodeRequireFunction;\n    226 |     id: string;\n</code></pre>\n\n<p>I tried\n1) remove node_moduls/install again\n2) clear cache</p>\n\n<p>Fortunatly my project builds, but exception appear in runtime\nMy package.json</p>\n\n<pre><code>{\n    \"dependencies\": {\n        \"@types/bootstrap\": \"^4.2.0\",\n        \"@types/faker\": \"^4.1.4\",\n        \"@types/node\": \"12.11.2\",\n        \"@types/parcel-env\": \"^0.0.0\",\n        \"@types/ramda\": \"^0.25.48\",\n        \"@types/react-dom\": \"16.9.2\",\n        \"@types/react-router\": \"^4.4.3\",\n        \"@types/react-router-dom\": \"^4.3.1\",\n        \"@types/recompose\": \"^0.30.3\",\n        \"@types/styled-components\": \"4.1.16\",\n        \"react\": \"^16.10.2\",\n        \"react-dom\": \"^16.10.2\",\n        \"react-scripts\": \"3.2.0\",\n        \"remotedev\": \"^0.2.9\",\n        \"yarn-deduplicate\": \"^1.1.1\"\n    },\n    \"devDependencies\": {\n        \"@types/react\": \"16.8.19\",\n        \"@types/enzyme\": \"^3.9.0\",\n        \"@types/enzyme-adapter-react-16\": \"^1.0.5\",\n        \"@types/jest\": \"^23.3.10\",\n        \"@types/webpack\": \"^4.4.24\",\n        \"@types/webpack-env\": \"^1.13.6\",\n        \"awesome-typescript-loader\": \"^5.2.1\",\n        \"cross-env\": \"^5.2.0\",\n        \"enzyme\": \"^3.9.0\",\n        \"enzyme-adapter-react-16\": \"^1.12.1\",\n        \"lerna\": \"^3.15.0\",\n        \"prettier\": \"^1.15.3\",\n        \"tslint\": \"^5.12.0\",\n        \"tslint-config-prettier\": \"^1.17.0\",\n        \"tslint-eslint-rules\": \"^5.4.0\",\n        \"tslint-loader\": \"^3.5.4\",\n        \"tslint-plugin-prettier\": \"^2.0.1\",\n        \"tslint-react\": \"^3.6.0\",\n        \"typescript\": \"3.6.4\",\n        \"typescript-plugin-styled-components\": \"^1.0.0\"\n    },\n    \"resolutions\": {\n        \"@types/react\": \"16.8.19\"\n    },\n}\n</code></pre>\n\n<p>React/typescript/yarn.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 0, "creation_date": 1571822350, "post_id": 58519461, "comment_id": 103364690, "body": "<a href=\"http://www.typescriptlang.org/docs/handbook/interfaces.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/interfaces.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 484, "user_id": 10949543, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1_abZzfyaCM/AAAAAAAAAAI/AAAAAAAAAD8/z9DHeDb6Tnc/photo.jpg?sz=128", "display_name": "Robb216", "link": "https://stackoverflow.com/users/10949543/robb216"}, "is_accepted": false, "score": 0, "last_activity_date": 1571823144, "creation_date": 1571823144, "answer_id": 58519762, "question_id": 58519461, "link": "https://stackoverflow.com/questions/58519461/confusion-with-how-interface-typescript-is-used-in-react/58519762#58519762", "title": "Confusion with how interface (TypeScript) is used in React", "body": "<p>As @adiga pointed out, interfaces determine the shape that values have. When using TypeScript with React, you may type your state and props with an interface.</p>\n\n<p>An example using class components (see also <a href=\"https://stackoverflow.com/questions/36745013/interface-states-and-props-in-typescript-react\">this</a> answer):</p>\n\n<pre><code>interface MyProps {}\n\ninterface MyState {\n    foo: string;\n    bar?: boolean;\n}\n\nclass MyComponent extends React.Component &lt;MyProps, MyState&gt;  {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            // populate state fields according to props fields\n        };\n    }\n\n    render() {\n        ...\n    }\n}\n</code></pre>\n\n<p>An example using functional components:</p>\n\n<pre><code>  function MyForm(props: myProps) {\n      ...\n  }\n</code></pre>\n\n<p>As <a href=\"https://medium.com/@rossbulat/how-to-use-typescript-with-react-and-redux-a118b1e02b76\" rel=\"nofollow noreferrer\">this</a> Medium article points out, typing your state and props may help keep track of the shape of your state and props (and prevent errors). You may for instance decide to define all your interfaces in a single file (eg. <code>src/types/index.tsx</code>) and import your interfaces in your component files.</p>\n"}], "owner": {"reputation": 3, "user_id": 12257040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d40f688f67ad506bceb3fa271fdcd1cc?s=128&d=identicon&r=PG&f=1", "display_name": "ccdd", "link": "https://stackoverflow.com/users/12257040/ccdd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 266, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1571823144, "creation_date": 1571822216, "question_id": 58519461, "link": "https://stackoverflow.com/questions/58519461/confusion-with-how-interface-typescript-is-used-in-react", "title": "Confusion with how interface (TypeScript) is used in React", "body": "<p>I am new to TypeScript in React and was learning how to properly integrate TypeScript into React project and got stuck with Interface, that is, why do we need to use interface in React? Please help</p>\n"}, {"tags": ["typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "edited": false, "score": 0, "creation_date": 1572185366, "post_id": 58519436, "comment_id": 103474882, "body": "The most clean solution for your case (e.g. mapping from a fix library enum to project enum) probably is to define an explicit mapping without type casts, like <a href=\"https://www.typescriptlang.org/play/?ssl=17&amp;ssc=44&amp;pln=1&amp;pc=1#code/KYOwrgtgBAygLgQzsKBvAsAKCjqB5EAGi13wDMzjMBfLLUSWROMAZzRNwKtLwqtqYsAYwD2IVnCgQEAB1kBLEAHMoAXg7ZcAbXhJgAOgIBdAFxMkbI0U45dzQ3zJmLLVkYpZBI8ZKiT9AnM9ZHVXRxAAbh8JKQC3AgBGYOY2MJl5JWVteOATSKA\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 14622, "user_id": 532695, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67981608b1d90c4d7c5636a570fdf525?s=128&d=identicon&r=PG", "display_name": "Flavien Volken", "link": "https://stackoverflow.com/users/532695/flavien-volken"}, "reply_to_user": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "edited": false, "score": 0, "creation_date": 1572271641, "post_id": 58519436, "comment_id": 103497795, "body": "@ford04 this is what I am doing within a typeguard, something like fromStateToStatus(state: State): Status but I am looking for a simpler way as I suspect a solution to be possible in typescript."}], "answers": [{"comments": [{"owner": {"reputation": 14622, "user_id": 532695, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67981608b1d90c4d7c5636a570fdf525?s=128&d=identicon&r=PG", "display_name": "Flavien Volken", "link": "https://stackoverflow.com/users/532695/flavien-volken"}, "edited": false, "score": 0, "creation_date": 1571825031, "post_id": 58520011, "comment_id": 103366164, "body": "Hi, unfortunately nope, what I need is to solve the casting problem, not the enum duplicate. My example is just a dummy example one. In the real project, both enums are coming from generated code and I would like to avoid glue code or risky casting using <code>unknown</code>"}, {"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "reply_to_user": {"reputation": 14622, "user_id": 532695, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67981608b1d90c4d7c5636a570fdf525?s=128&d=identicon&r=PG", "display_name": "Flavien Volken", "link": "https://stackoverflow.com/users/532695/flavien-volken"}, "edited": false, "score": 0, "creation_date": 1571825873, "post_id": 58520011, "comment_id": 103366599, "body": "@FlavienVolken added some additional info"}], "tags": [], "owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "is_accepted": false, "score": 3, "last_activity_date": 1571825852, "last_edit_date": 1571825852, "creation_date": 1571824029, "answer_id": 58520011, "question_id": 58519436, "link": "https://stackoverflow.com/questions/58519436/typescript-how-to-safely-cast-an-enum-to-another/58520011#58520011", "title": "Typescript how to safely cast an enum to another?", "body": "<p>As I understand you want to have the same two enums only because of domain naming, so the important thing is to have two different names for the same structure. Then if my assumption is correct, the solution is not to create second enum but just create a type alias by <code>type</code> keyword:</p>\n\n<pre><code>type Status = State;\n</code></pre>\n\n<p>Now Status is the same type as State, but you can use both type names.</p>\n\n<p>If you need to keep those two enums (quite a rare situation), then probably the solution would be to use union type which will be just one thing (as both those types are represented as <code>0 | 1</code> under the hood). <code>State | Status === State === Status === 0 | 1</code>. So the union of those type is really the same thing as one of them, as they are equal in representation. </p>\n\n<p>Example using structures in both types.</p>\n\n<pre><code>const isOn = (s: State | Status) =&gt; {\n  return s === Status.On // Status.On === 0 === State.On\n}\n\nconst isOff = (s: State | Status) =&gt; {\n   return s === Status.Off // Status.Off === 1 === State.Off\n}\n\nconst a: State = State.On;\nisOn(a) // true\n\nconst b: Status = Status.On;\nisOn(b) // true\n\n\n</code></pre>\n"}], "owner": {"reputation": 14622, "user_id": 532695, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67981608b1d90c4d7c5636a570fdf525?s=128&d=identicon&r=PG", "display_name": "Flavien Volken", "link": "https://stackoverflow.com/users/532695/flavien-volken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1571825852, "creation_date": 1571822118, "question_id": 58519436, "link": "https://stackoverflow.com/questions/58519436/typescript-how-to-safely-cast-an-enum-to-another", "title": "Typescript how to safely cast an enum to another?", "body": "<p>I have 2 identical enums</p>\n\n<pre><code>enum State {\n    On,\n    Off,\n}\n\nenum Status {\n    On,\n    Off,\n}\n</code></pre>\n\n<p>I would like to be able to affect a state value to the status one</p>\n\n<pre><code>const stateOn: State = State.On;\nconst statusOn1: Status = stateOn; // But we cannot because State !== Status\n</code></pre>\n\n<p>So trying to cast it will give the following:</p>\n\n<pre><code>const statusOn2: Status = stateOn as Status; // Error, cannot cast a State to a Status\n\nconst statusOn3: Status = stateOn as unknown as Status; // Okay but risky\n</code></pre>\n\n<p>Therefore would it be possible to create a conditional type which would ensure both enums are the same ?</p>\n\n<p>Something like :</p>\n\n<pre><code>type castEnum&lt;T, U&gt; = Extract&lt;keyof typeof T, keyof typeof U&gt; extends keyof typeof U ? U : never;\n</code></pre>\n\n<p>To then be able to affect the variable like (idea):</p>\n\n<pre><code>const statusOn4: Status = stateOn as castEnum&lt;State, Status&gt;;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-material"], "answers": [{"tags": [], "owner": {"reputation": 2363, "user_id": 4834117, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/oC4DK.png?s=128&g=1", "display_name": "Tonio", "link": "https://stackoverflow.com/users/4834117/tonio"}, "is_accepted": false, "score": 0, "last_activity_date": 1571822382, "creation_date": 1571822382, "answer_id": 58519520, "question_id": 58519190, "link": "https://stackoverflow.com/questions/58519190/angular-material-tabs-how-to-customize-tab-row-and-add-text-or-dropdown-list/58519520#58519520", "title": "Angular Material Tabs how to customize tab row and add text or dropdown list?", "body": "<p>You could use absolute position to achieve what you want. You won't be able to do better than this because the component you are using mat-tab-group does not have the option to pass a component in input to display where you want.</p>\n\n<p>So if you want to show something inside mat-tab-group that is not part of mat-tab-group, you have to use absolute position.</p>\n\n<p>I <a href=\"https://stackblitz.com/edit/angular-bb3wwb-n5cswx\" rel=\"nofollow noreferrer\">updated your stackblitz here</a></p>\n\n<p>Note: your disabled Tab trick is very good also, it's a trick but sometimes you have to do some tricks</p>\n"}], "owner": {"reputation": 448, "user_id": 11473160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c44ac99f2a9ef94d376a03f51c6b551?s=128&d=identicon&r=PG&f=1", "display_name": "kaiilim", "link": "https://stackoverflow.com/users/11473160/kaiilim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 417, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571822382, "creation_date": 1571821413, "question_id": 58519190, "link": "https://stackoverflow.com/questions/58519190/angular-material-tabs-how-to-customize-tab-row-and-add-text-or-dropdown-list", "title": "Angular Material Tabs how to customize tab row and add text or dropdown list?", "body": "<p>I am currently using angular material tabs and I wish to add text before the tabs and also add a drop down list at the end of the row after the tabs. Ideally it should looks something like the following picture:</p>\n\n<p><img src=\"https://i.imgur.com/nwUYUHY.png\" alt=\"sample\" title=\"sample\"></p>\n\n<p>I tried putting a label or creating a div beside the tabs, however those are not showing. In the end, I created another tab and set it to disabled but I think this is not ideal and I couldn't change the disabled text colour. As for the drop down list I have no clue how to go about it.</p>\n\n<p>I have a demo on stackblitz <a href=\"https://stackblitz.com/edit/angular-bb3wwb\" rel=\"nofollow noreferrer\">HERE</a></p>\n\n<p>How do I customize the tab row and add text or dropdown list in it?</p>\n"}, {"tags": ["typescript", "visual-studio-code"], "owner": {"reputation": 11, "user_id": 5148977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34e872cc6fb6a03d6feffc22ebe75bda?s=128&d=identicon&r=PG&f=1", "display_name": "\u6881\u5bb6\u6587", "link": "https://stackoverflow.com/users/5148977/%e6%a2%81%e5%ae%b6%e6%96%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1571822474, "creation_date": 1571820390, "last_edit_date": 1571822474, "question_id": 58518911, "link": "https://stackoverflow.com/questions/58518911/vscode-throw-an-error-when-using-decorator-on-overload", "title": "VSCode throw an error when using decorator on overload", "body": "<p>My code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>declare class DemoApi {\n  @someDecorator\n  getIndexCards(foo: string, bar: number): Promise&lt;TIndexCards&gt;;\n}\n</code></pre>\n\n<p>The error message:</p>\n\n<pre><code>A decorator can only decorate a method implementation, not an overload.\n</code></pre>\n\n<p>Solutions that may help:</p>\n\n<ol>\n<li><p>Write a new typescript extension to VSCode</p></li>\n<li><p>a new Typescript Server Plugin. but as the <a href=\"https://github.com/microsoft/TypeScript/wiki/Writing-a-Language-Service-Plugin\" rel=\"nofollow noreferrer\">typescript wiki</a> says </p>\n\n<blockquote>\n  <p>Examples of things language plugins cannot do:\n  Add new custom syntax to TypeScript\n  Change how the compiler emits JavaScript\n  Customize the type system to change what is or isn't an error when running tsc</p>\n</blockquote></li>\n<li><p>remove <code>A_decorator_can_only_decorate_a_method_implementation_not_an_overload</code> code from <code>tsserver.js</code>, and it works, but that was not a good idea.</p></li>\n</ol>\n\n<p>I know that ts will remove all declare code after compiled so decorator for a abstract method was not allow. but i want to write a compiler using babel or something else to compile it and do something with these decorators, the question is vscode (who works with Typescript Language Server) will throw a error tips, that is annoying. so i think there might be a few way to eliminate it</p>\n\n<p>is there any hooks for <code>tsServer</code> or any other way to eliminate the error tips in vscode</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 98, "user_id": 3980005, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df9e96717de2f41e8eb8ded6c9e5aca3?s=128&d=identicon&r=PG&f=1", "display_name": "Federico Ibba", "link": "https://stackoverflow.com/users/3980005/federico-ibba"}, "edited": false, "score": 0, "creation_date": 1571820166, "post_id": 58518763, "comment_id": 103363571, "body": "I would suggest you to format better the text-area code and to specify when the error occurred on the stack trace"}], "answers": [{"tags": [], "owner": {"reputation": 561, "user_id": 10283464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ofgcx.png?s=128&g=1", "display_name": "Caro", "link": "https://stackoverflow.com/users/10283464/caro"}, "is_accepted": false, "score": 1, "last_activity_date": 1571829853, "creation_date": 1571829853, "answer_id": 58521773, "question_id": 58518763, "link": "https://stackoverflow.com/questions/58518763/set-value-to-text-area-when-button-clicked/58521773#58521773", "title": "Set value to text-area when button clicked", "body": "<p>You can assign the text area value at the click action level: inside your button logic add\nsalaryformulaEntity.function = \"newValue\"</p>\n"}], "owner": {"reputation": 51, "user_id": 12192293, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Y6HgqOYU07s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcWPcmBxngnTiK22kg4Ll81MbQibg/photo.jpg?sz=128", "display_name": "Muhammad Faisal Ramadhani", "link": "https://stackoverflow.com/users/12192293/muhammad-faisal-ramadhani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 241, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571829853, "creation_date": 1571819813, "last_edit_date": 1571821668, "question_id": 58518763, "link": "https://stackoverflow.com/questions/58518763/set-value-to-text-area-when-button-clicked", "title": "Set value to text-area when button clicked", "body": "<p>This is no error found, how do I set the value to text-area when button clicked?</p>\n\n<blockquote>\n  <p>default value 332 and when button clicked value changed to ROUNDUP(332)</p>\n</blockquote>\n\n<p>text-area code: </p>\n\n<pre><code>&lt;mat-form-field appearance=\"outline\"&gt;\n   &lt;mat-label&gt;{{getEntityMeta('function').fieldDescription}}&lt;/mat-label&gt;\n   &lt;textarea matInput [placeholder]=\"getEntityMeta('function').fieldDescription\" type=\"text\"\n       name=\"function\" [(ngModel)]=\"salaryformulaEntity.function\" \n       #function=\"ngModel\" [disabled]=\"salaryformulaEntity.isUnmodified()\" [required]=\"getEntityMeta('function').mandatory\" \n       [wynixMandatory]=\"getEntityMeta('function').mandatory\" [wynixMaxLength]=\"getEntityMeta('function').maxLength\"\n       wynixSpecialCharacter&gt;&lt;/textarea&gt;\n   &lt;mat-error *ngIf=\"getErrorMessage(function)\"&gt;{{getErrorMessage(function)}}&lt;/mat-error&gt;\n   &lt;mat-hint align=\"end\"&gt;{{function.value?.length || 0}}/{{getEntityMeta('function').maxLength}}&lt;/mat-hint&gt;\n&lt;/mat-form-field&gt;\n</code></pre>\n\n<p>button-logic code:</p>\n\n<pre><code>selectComponent(): void {\n    for (let index = this.componentLov.length - 1; index &gt;= 0; index--) {\n      const component: LOVItem = this.componentLov[index];\n\n      if (component.options.selected) {\n\n\n        component.options.selected = false;\n      }\n    }\n\n    this.filterComponentsLov();\n    this.filterFunctionsLov();\n    this.filterFormulasLov();\n}\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "is_accepted": true, "score": 1, "last_activity_date": 1571824790, "creation_date": 1571824790, "answer_id": 58520272, "question_id": 58518706, "link": "https://stackoverflow.com/questions/58518706/typescript-override-existing-values-and-enforce-field-value/58520272#58520272", "title": "TypeScript override existing values and enforce field value", "body": "<p>So solutions is a sum type, you were close by using union, but we need to define discriminants in order to allow TS to infer the difference.</p>\n\n<pre><code>// all fields which are static in all sum elements\ninterface IRouteBase {\n  path?: string\n  exact?: boolean\n  component: string\n  layout?: string\n}\n\n// type representing that if restricted is true - apiData needs to be set\ninterface IRouteWithData extends IRouteBase  {\n  restricted: true\n  apiData: string\n}\n// type representing that if restricted is false- apiData is optional\ninterface IRouteMaybeData extends IRouteBase  {\n  restricted: false\n  apiData?: string\n}\n\ntype TRoute = IRouteWithData | IRouteMaybeData;\n\n// example use\nconst mustHaveApiData: TRoute = {\n  component: 'component',\n  restricted: true, // error you need to set apiData\n}\n\nconst notNeedHaveApiData: TRoute = {\n  component: 'component',\n  restricted: false, // no error, apiData is optional\n}\n\n</code></pre>\n\n<p>More information about using sum types is included in my article - <a href=\"https://dev.to/macsikora/more-accurate-the-type-better-the-code-202l\" rel=\"nofollow noreferrer\">https://dev.to/macsikora/more-accurate-the-type-better-the-code-202l</a>. Enjoy!</p>\n"}], "owner": {"reputation": 966, "user_id": 1876510, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d485709aa53a73dbf21945664c7d4950?s=128&d=identicon&r=PG", "display_name": "tsujp", "link": "https://stackoverflow.com/users/1876510/tsujp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 58520272, "answer_count": 1, "score": 0, "last_activity_date": 1571827169, "creation_date": 1571819599, "last_edit_date": 1571827169, "question_id": 58518706, "link": "https://stackoverflow.com/questions/58518706/typescript-override-existing-values-and-enforce-field-value", "title": "TypeScript override existing values and enforce field value", "body": "<p>I've been trying to figure out how to extend an interface's optional values such that if one field is set to a specific value then another field <em>must</em> exist, I cannot figure this out \u2013 how is this done?</p>\n\n<p>The goal is this:</p>\n\n<ul>\n<li>If <code>restricted</code> is <code>true</code> then <code>apiData</code> is still optional.</li>\n<li>If <code>apiData</code> is set then <code>restricted</code> <em>must</em> be set to <code>true</code>.</li>\n</ul>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface IRoute {\n  path?: string\n  restricted?: boolean\n  exact?: boolean\n  component: string\n  layout?: string\n  apiData?: string\n}\n\ninterface IRouteWithData extends Omit&lt;IRouteConfigItem, 'restricted apiData'&gt; {\n  restricted: true\n  apiData: FC\n}\n\ntype TRoute = IRouteWithData | IRouteConfigItem\n\nconst routeConfig: TRoute[] = [\n  {\n    path: '/foo',\n    restricted: false, // this should be an error\n    exact: true,\n    component: 'something',\n    apiData: 'some data'\n  },\n  {\n    path: '/bar',\n    restricted: true, // this is fine\n    exact: true,\n    component: 'something'\n  }\n]\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 58, "user_id": 4748324, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TPZm1.gif?s=128&g=1", "display_name": "dolpsdw", "link": "https://stackoverflow.com/users/4748324/dolpsdw"}, "is_accepted": false, "score": 0, "last_activity_date": 1571991657, "creation_date": 1571991657, "answer_id": 58554784, "question_id": 58518602, "link": "https://stackoverflow.com/questions/58518602/react-calls-constructor-on-every-update-for-component-within-functional-componen/58554784#58554784", "title": "React calls constructor on every update for component within functional component", "body": "<p>Each time you call setState the component that holds that state, and all his children get a fully reInstanciate cycle.</p>\n\n<p>If you want to optimice the cycle, you can re tinker the app to have the portion of state declared to the places that should truly reRender.</p>\n\n<p>Or use a a global state solution (redux, easy-peasy \u2026)</p>\n\n<p>But the way that react team is moving and promote is fragmented states in components, and useContext for more shareable state.</p>\n"}, {"tags": [], "owner": {"reputation": 219, "user_id": 3655964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0be686d26a506267a8d00e969d33114c?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad Glazov", "link": "https://stackoverflow.com/users/3655964/vlad-glazov"}, "is_accepted": false, "score": 0, "last_activity_date": 1571993034, "creation_date": 1571993034, "answer_id": 58555107, "question_id": 58518602, "link": "https://stackoverflow.com/questions/58518602/react-calls-constructor-on-every-update-for-component-within-functional-componen/58555107#58555107", "title": "React calls constructor on every update for component within functional component", "body": "<p>Reason of recreating a TypeB component is that <code>this.props.componentSwitch(item.type)</code> is calculated on every App component re-render. While its return value is semantically equal, these are different js objects and are treated as different prop values from reactJs perspective. So, ItemWrapper component thinks what its prop.component changed and recreates its child component.</p>\n\n<p>Could it lead to performance issues? It might in case your constructor does some heavy lifting, but usually you don't put much logic there.</p>\n\n<p>There could be other problems though, for example when using some internal state. Let's say, for example, TypeB component fetches some data from api when initialized and then displays it. You don't want to call api unless it is needed, but if you recreate a component on every parent re-render, you end up with more api calls than you need.</p>\n\n<p>What could be done here to prevent those updates? <code>this.props.componentSwitch(item.type)</code> result could be wrapped into something like <a href=\"https://reactjs.org/docs/hooks-reference.html#usememo\" rel=\"nofollow noreferrer\">useMemo()</a>, so that you get control on when this value really gets updated.</p>\n"}], "owner": {"reputation": 1262, "user_id": 775575, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/3b787d13d5b2de5ba6b21d50ccd2c366?s=128&d=identicon&r=PG", "display_name": "Wish", "link": "https://stackoverflow.com/users/775575/wish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 647, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1571993034, "creation_date": 1571819187, "last_edit_date": 1571990937, "question_id": 58518602, "link": "https://stackoverflow.com/questions/58518602/react-calls-constructor-on-every-update-for-component-within-functional-componen", "title": "React calls constructor on every update for component within functional component", "body": "<p>I made a demo, which shows my problem. In my actual case, I have much more complicated data structures, and more reason for why I need this.</p>\n\n<p>Reason for this - I have made a quite generic component wrapper (<code>App</code> in the example). Consumer programmer can provide his own ways, for how to display the content in my Component. He has to provide a function, which decides - what to render when (<code>componentSwitch</code> prop on <code>App</code> and <code>myComponentSwitch()</code> as an example). All of the Components that he provides, has to have props, which inherit a specific interface (<code>IItemBaseProps</code> in the example). Of course, there are situations, where he needs to provide more props for the component. In that case, I wrote the component switch like this:</p>\n\n<pre><code>c = (props: IItemBaseProps) =&gt; &lt;TypeB {...props} color=\"red\" /&gt;;\n</code></pre>\n\n<p>This achieves what I want - <code>c</code> will be a component which will take <code>IItemBaseProps</code> as a props. But it will return <code>TypeB</code> component with addition <code>color</code> prop.</p>\n\n<p>The problem that arises - every time this functional component is rendered, constructor for <code>TypeB</code> is called. <code>componentDidUpdate</code> is never called.</p>\n\n<p>I have made an example app. Here is the code:</p>\n\n<pre><code>import React, { Component } from \"react\";\nimport { render } from \"react-dom\";\n\ninterface IItemBaseProps {\n  value: string;\n}\ninterface IItemAProps extends IItemBaseProps {}\ninterface IItemBProps extends IItemBaseProps {\n  color: string;\n}\n\ninterface IItem {\n  type: \"A\" | \"B\";\n  props: IItemBaseProps;\n}\n\nclass TypeA extends Component&lt;IItemAProps&gt; {\n  constructor(props: IItemAProps) {\n    super(props);\n    console.log(\"TypeA::constructor\", props);\n  }\n  componentDidUpdate(props: IItemAProps) {\n    console.log(\"TypeA::componentDidUpdate\", props, this.props);\n  }\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;b&gt;{this.props.value}&lt;/b&gt;\n      &lt;/div&gt;\n    );\n  }\n}\nclass TypeB extends Component&lt;IItemBProps&gt; {\n  constructor(props: IItemBProps) {\n    super(props);\n    console.log(\"TypeB::constructor\", props);\n  }\n  componentDidUpdate(props: IItemBProps) {\n    console.log(\"TypeB::componentDidUpdate\", props, this.props);\n  }\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;u style={{ color: this.props.color }}&gt;{this.props.value}&lt;/u&gt;\n      &lt;/div&gt;\n    );\n  }\n}\ninterface IITemWrapperProps {\n  props: IItemBaseProps;\n  component: React.ComponentType&lt;IItemBaseProps&gt;;\n}\nclass ItemWrapper extends Component&lt;IITemWrapperProps&gt; {\n  render() {\n    return &lt;this.props.component {...this.props.props} /&gt;;\n  }\n}\n\ninterface AppProps {\n  componentSwitch: (type: \"A\" | \"B\") =&gt; React.ComponentType&lt;IItemBaseProps&gt;;\n}\ninterface AppState {\n  items: IItem[];\n}\n\nclass App extends Component&lt;AppProps, AppState&gt; {\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: [\n        {\n          type: \"A\",\n          props: {\n            value: \"Value A1\"\n          }\n        },\n        {\n          type: \"A\",\n          props: {\n            value: \"Value A2\"\n          }\n        },\n        {\n          type: \"B\",\n          props: {\n            value: \"Value B1\"\n          }\n        },\n        {\n          type: \"ERR\",\n          props: {\n            value: \"Erroring item\"\n          }\n        }\n      ]\n    };\n  }\n\n  onClick = () =&gt; {\n    console.log(\"---- click\");\n    this.setState(state =&gt; {\n      return {\n        ...state,\n        items: state.items.map((item, i) =&gt; {\n          if (i === 0) {\n            console.log(\"Updating items[\" + i + \"], type: \" + item.type);\n            return {\n              ...item,\n              props: {\n                ...item.props,\n                value: item.props.value + \"!\"\n              }\n            };\n          }\n          return item;\n        })\n      };\n    });\n  };\n\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;div&gt;\n          {this.state.items.map((item, i) =&gt; {\n            return &lt;ItemWrapper key={i} component={this.props.componentSwitch(item.type)} props={item.props} /&gt;;\n          })}\n        &lt;/div&gt;\n        &lt;div&gt;\n          &lt;button onClick={this.onClick}&gt;Update first item!&lt;/button&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\nfunction myComponentSwitch(\n  type: \"A\" | \"B\"\n): React.ComponentType&lt;IItemBaseProps&gt; {\n  if (type === \"A\") {\n    return TypeA;\n  }\n  if (type === \"B\") {\n    return (props: IItemBaseProps) =&gt; &lt;TypeB {...props} color=\"red\" /&gt;;\n  }\n  return (props: IItemBaseProps) =&gt; (\n    &lt;div&gt;\n      &lt;i&gt;{props.value}&lt;/i&gt;\n    &lt;/div&gt;\n  );\n}\n\nrender(&lt;App componentSwitch={myComponentSwitch}/&gt;, \ndocument.getElementById(\"root\"));\n</code></pre>\n\n<p>And also, you can demo it here:\n<a href=\"https://stackblitz.com/edit/react-ts-a95cd6\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/react-ts-a95cd6</a></p>\n\n<p>There is a button, that updates 1st item.\nThe output in console:</p>\n\n<pre><code>TypeA::constructor {value: \"Value A1\"}\nTypeA::constructor {value: \"Value A2\"}\nTypeB::constructor {value: \"Value B1\", color: \"red\"} // So far so good, 1st render\n---- click // event on click\nUpdating items[0], type: A\nTypeB::constructor {value: \"Value B1\", color: \"red\"} // TypeB is constructed again as a new instance\nTypeA::componentDidUpdate {value: \"Value A1\"} {value: \"Value A1!\"} // TypeA components are just updated\nTypeA::componentDidUpdate {value: \"Value A2\"} {value: \"Value A2\"}\n</code></pre>\n\n<p>I kind of understand, why it behaves like this. I was wondering - is this a performance hole? I would guess, that updating components would be cheaper than making new ones on every update. How would I do, so that those components gets only an updates?</p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 3919, "user_id": 6271167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Li2nn19VvNw/AAAAAAAAAAI/AAAAAAAAGM8/FfH9SwLK4oY/photo.jpg?sz=128", "display_name": "HV Sharma", "link": "https://stackoverflow.com/users/6271167/hv-sharma"}, "edited": false, "score": 0, "creation_date": 1571819521, "post_id": 58518536, "comment_id": 103363243, "body": "I am guessing that <i>geoLocation$</i> is a subscription. You need to unsubscribe the subscription in ngOnDestroy() method.  Whenever the componenet loads, it starts the subscription and it stays until you unsubscribe it. In your case, Multiple Subscriptions might have started. That&#39;s why you&#39;re getting repetion of values.  Just end the subscription on ngOnDestroy :)"}, {"owner": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "edited": false, "score": 0, "creation_date": 1571819563, "post_id": 58518536, "comment_id": 103363264, "body": "where are you subscribing this.geoLocation$ ?"}, {"owner": {"reputation": 360, "user_id": 5368380, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CwYpY.jpg?s=128&g=1", "display_name": "blixenkrone", "link": "https://stackoverflow.com/users/5368380/blixenkrone"}, "reply_to_user": {"reputation": 3919, "user_id": 6271167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Li2nn19VvNw/AAAAAAAAAAI/AAAAAAAAGM8/FfH9SwLK4oY/photo.jpg?sz=128", "display_name": "HV Sharma", "link": "https://stackoverflow.com/users/6271167/hv-sharma"}, "edited": false, "score": 0, "creation_date": 1571819744, "post_id": 58518536, "comment_id": 103363355, "body": "@HVSharma &amp; @Fateme Fazli: It&#39;s unwrapped with async pipe in child html like so: <code>&lt;ng-container *ngIf=&quot;geoLocation$ | async as geo&quot;&gt;</code>. It&#39;s the only place the observable is used, and the unsubscription should do any difference to the array size."}, {"owner": {"reputation": 2939, "user_id": 4711754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c25453f6a114ebb66aefcc27b0ab44d1?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Allen", "link": "https://stackoverflow.com/users/4711754/andrew-allen"}, "edited": false, "score": 0, "creation_date": 1571821439, "post_id": 58518536, "comment_id": 103364214, "body": "Please check how many times is setLocations called.."}, {"owner": {"reputation": 360, "user_id": 5368380, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CwYpY.jpg?s=128&g=1", "display_name": "blixenkrone", "link": "https://stackoverflow.com/users/5368380/blixenkrone"}, "reply_to_user": {"reputation": 2939, "user_id": 4711754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c25453f6a114ebb66aefcc27b0ab44d1?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Allen", "link": "https://stackoverflow.com/users/4711754/andrew-allen"}, "edited": false, "score": 0, "creation_date": 1571822217, "post_id": 58518536, "comment_id": 103364634, "body": "@AndrewAllen see the answer. The func wasn&#39;t called multiple times, but the observable was unwrapped arr.length num of times in the *ngFor loop in html. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 360, "user_id": 5368380, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CwYpY.jpg?s=128&g=1", "display_name": "blixenkrone", "link": "https://stackoverflow.com/users/5368380/blixenkrone"}, "is_accepted": true, "score": 0, "last_activity_date": 1571821667, "creation_date": 1571821667, "answer_id": 58519267, "question_id": 58518536, "link": "https://stackoverflow.com/questions/58518536/how-to-properly-inserting-array-to-rxjs-subject/58519267#58519267", "title": "How to properly inserting array to rxjs subject", "body": "<p>Okay I'll admit imma donkey. Inside my childcomponent i had a <code>*ngFor</code> loop running, and the template where i unwrap the <code>geolocations$ | async</code> was just inside that loop. @Andrew Allen suggested to look how many times the subjects' next() func was called, but for anyone reading this, check if your template observables are being unwrapped multiple times in the html somewhere. Thanks!</p>\n"}], "owner": {"reputation": 360, "user_id": 5368380, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CwYpY.jpg?s=128&g=1", "display_name": "blixenkrone", "link": "https://stackoverflow.com/users/5368380/blixenkrone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 58519267, "answer_count": 1, "score": 0, "last_activity_date": 1571821667, "creation_date": 1571818990, "question_id": 58518536, "link": "https://stackoverflow.com/questions/58518536/how-to-properly-inserting-array-to-rxjs-subject", "title": "How to properly inserting array to rxjs subject", "body": "<p>I get 3 times the same array, when i insert my array into a rxjs subject.</p>\n\n<p>Parent component:</p>\n\n<pre><code>    const geoExistsArr: { lat: number, lng: number }[] = [];\n    for (let i = 0; i &lt; x.length; i++) {\n        for (let j = 0; j &lt; requiredKeys.length; j++) {\n            // Some logic\n        }\n        if (has(x[i].data, 'lat') &amp;&amp; has(x[i].data, 'lng')) {\n            // Pushing to array\n            const { lat, lng } = x[i].data;\n            geoExistsArr.push({ lat, lng })\n        }\n    }\n    console.log(geoExistsArr)\n    // Adding the array to subj.\n    this.locationSrv.setLocations(geoExistsArr)\n</code></pre>\n\n<p>Service:</p>\n\n<pre><code>setLocations(loc: ILocation) {\n    this.geoArray = [...this.geoArray, loc]\n    this.geoSubj$.next(this.geoArray)\n}\n</code></pre>\n\n<p>Child-component (displaying values from subject):</p>\n\n<pre><code>    this.geoLocation$ = this.locationSrv.geoCoordinates$.pipe(\n        switchMap((geo, idx) =&gt; {\n            console.log(geo, idx) // &lt;- problem here. this guy prints 3 times.\n            geo.forEach(g =&gt; {\n                console.log(g)\n                requests.push(this.locationSrv.getAddressByLatLng$(g))\n            });\n            return concat(...requests).pipe(\n                toArray()\n            )\n        }),\n</code></pre>\n\n<p>What should happen:\nI store a single array to the subject.</p>\n\n<p>I've gone blind to this bug, so any help would be appreciated!</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "webstorm"], "comments": [{"owner": {"reputation": 562, "user_id": 6476844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xstPu.jpg?s=128&g=1", "display_name": "Remy", "link": "https://stackoverflow.com/users/6476844/remy"}, "edited": false, "score": 1, "creation_date": 1571818969, "post_id": 58518479, "comment_id": 103362959, "body": "Any reason you&#39;re not using a .ts file for importing a .ts file?"}, {"owner": {"reputation": 63, "user_id": 12158174, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GzvMyrDEsfo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdhhqWQxY79I8eW3gX_ML313eYE1g/photo.jpg?sz=128", "display_name": "Omer Nave", "link": "https://stackoverflow.com/users/12158174/omer-nave"}, "reply_to_user": {"reputation": 562, "user_id": 6476844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xstPu.jpg?s=128&g=1", "display_name": "Remy", "link": "https://stackoverflow.com/users/6476844/remy"}, "edited": false, "score": 0, "creation_date": 1571819165, "post_id": 58518479, "comment_id": 103363062, "body": "I&#39;m using the Dredd framework, it doesn&#39;t support typescript yet"}, {"owner": {"reputation": 6768, "user_id": 1331040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fRC2U.png?s=128&g=1", "display_name": "Harun Yilmaz", "link": "https://stackoverflow.com/users/1331040/harun-yilmaz"}, "edited": false, "score": 1, "creation_date": 1571819361, "post_id": 58518479, "comment_id": 103363159, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/54410351/import-typescript-file-in-javascript\">Import Typescript file in Javascript</a>"}], "answers": [{"tags": [], "owner": {"reputation": 159, "user_id": 5950168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/590Lf.jpg?s=128&g=1", "display_name": "Azeem Chauhan", "link": "https://stackoverflow.com/users/5950168/azeem-chauhan"}, "is_accepted": false, "score": 0, "last_activity_date": 1596832782, "creation_date": 1596832782, "answer_id": 63308862, "question_id": 58518479, "link": "https://stackoverflow.com/questions/58518479/import-typescript-module-to-javascript/63308862#63308862", "title": "Import TypeScript Module to JavaScript", "body": "<p>Sometimes we face such situation in our projects. I am pretty sure that you are migrating some part of your code to typescript and somewhere in your project you need typescript in javascript file and creating javascript file for same ts file is not way to solve the problem, but If you really want to use <code>typescript(.ts)</code> in <code>javascript(.js)</code> files, so here is the one possible solution, I am assuming that your are suing <code>webpack</code> bundler, so you use <code>ts-loader</code> and <code>babel-loader</code>  in your webpack. here are rule for your webpack configuration(Note: you must have airbnb preset, ts-loader, and all plugins installed)</p>\n<pre><code>{\nrules: [\n  {\n    test: /\\.tsx?$/,\n    use: 'ts-loader',\n    exclude: /node_modules/,\n  },\n  {\n    test: /\\.jsx?/,\n    use: {\n      loader: 'babel-loader',\n      options: {\n        presets: ['airbnb'],\n        plugins: ['@babel/plugin-transform-modules-commonjs', '@babel/transform-async-to-generator', 'source-map-support', 'babel-plugin-root-import'],\n        ignore: ['node_modules/is_js'],\n      },\n    },\n    exclude: /node_modules\\/(?query-string|strict-uri-encode)/,\n  }\n]\n}\n</code></pre>\n<p>In case of running spec, if you are using <code>jest</code> you might also need <code>.babelrc</code> configuration for tests</p>\n<pre><code>{\n  &quot;presets&quot;: [\n    &quot;airbnb&quot;,\n    &quot;@babel/preset-typescript&quot;\n  ],\n  &quot;env&quot;: {\n    &quot;development&quot;: {\n      &quot;sourceMaps&quot;: true,\n      &quot;plugins&quot;: [&quot;source-map-support&quot;]\n    }\n  },\n  &quot;plugins&quot;: [&quot;@babel/plugin-transform-modules-commonjs&quot;, &quot;@babel/plugin-proposal-class-properties&quot;, &quot;@babel/transform-async-to-generator&quot;, &quot;babel-plugin-root-import&quot;],\n  &quot;ignore&quot;: [&quot;node_modules/is_js&quot;]\n}\n</code></pre>\n<p>We also have one article which might be helpful. <a href=\"https://www.salesscreen.com/blog/introducing-typescript-in-existing-javascript-projects-with-babel\" rel=\"nofollow noreferrer\">Use .ts File .js file</a></p>\n"}], "owner": {"reputation": 63, "user_id": 12158174, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GzvMyrDEsfo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdhhqWQxY79I8eW3gX_ML313eYE1g/photo.jpg?sz=128", "display_name": "Omer Nave", "link": "https://stackoverflow.com/users/12158174/omer-nave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1596832782, "creation_date": 1571818805, "last_edit_date": 1571832688, "question_id": 58518479, "link": "https://stackoverflow.com/questions/58518479/import-typescript-module-to-javascript", "title": "Import TypeScript Module to JavaScript", "body": "<p>I have a module in TypeScript that look as follows:</p>\n\n<pre><code>import { CallerId, CallScreening, CustomTagRef, MediaRef, OutboundSettings, ServiceCommon } \nfrom '../src/shared/domain/dto';\nimport { ServiceCommonEntity } from '../src/shared/domain/entity';\nimport { CallerIdMode, ResourceRefType } from '../src/shared/domain/enum';\n\nexport const CONTACT_PAYLOAD = 'payload';\n\nexport const ACCOUNT_PAYLOAD = 'a_payload';\n\nexport function getFakeAccountPayload() {\n  return fake_payload;\n}\n</code></pre>\n\n<p>In the same project I have a js file in which I want to use functions from my .ts file.</p>\n\n<p>How can I import my ts module to my js file?</p>\n"}, {"tags": ["angular", "typescript", "karma-jasmine", "karma-runner", "karma-coverage"], "answers": [{"tags": [], "owner": {"reputation": 2488, "user_id": 278653, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/bnQLn.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/278653/neil"}, "is_accepted": true, "score": 1, "last_activity_date": 1579509854, "creation_date": 1579509854, "answer_id": 59819611, "question_id": 58518466, "link": "https://stackoverflow.com/questions/58518466/typescript-code-has-coverage-enabled-when-debugging-unit-tests/59819611#59819611", "title": "Typescript code has coverage enabled when debugging unit tests", "body": "<p>For anyone who comes across this, the problem was that karma-typescript automatically enables code-coverage so I just had to add a setting to disable it and enable source maps</p>\n\n<p>In my karma config</p>\n\n<pre><code>karmaTypescriptConfig = {\n  bundleOptions:{\n    sourceMap: true\n  },\n  coverageOptions:{\n    instrumentation : false\n  }\n};\n</code></pre>\n"}], "owner": {"reputation": 2488, "user_id": 278653, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/bnQLn.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/278653/neil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 59819611, "answer_count": 1, "score": 1, "last_activity_date": 1579509854, "creation_date": 1571818759, "last_edit_date": 1571820603, "question_id": 58518466, "link": "https://stackoverflow.com/questions/58518466/typescript-code-has-coverage-enabled-when-debugging-unit-tests", "title": "Typescript code has coverage enabled when debugging unit tests", "body": "<p>I have a hybrid Angular App (mix between 1.7.5 and 8.2.10) which uses a mix between TypeScript and JavaScript. </p>\n\n<p>To run the unit tests, I have two separate npm scripts, one for the ngX tests and one for the ng1 tests. </p>\n\n<p>My issue is that when I run my ng1 tests for debugging, the typescript code always has the code coverage enabled, meaning it is minified and has extra lines of code to count which lines/branch/statements/functions I am hitting. This obviously makes debugging a major annoyance. This is my npm script to run the tests</p>\n\n<pre><code> \"test:ng1\": \"karma start ./src/karma.ng1.conf.js\",\n</code></pre>\n\n<p>And below is an example of a config I ran with all coverage plugins removed in an attempt to prevent the coverage code being applied to my typescript:</p>\n\n<pre><code>module.exports = function(config) {\n\n  var reporters = ['mocha', 'kjhtml'];\n  // Only implement coverage if the coverage argument was set\n  if(config.coverage){\n    reporters.push('coverage-istanbul');\n    console.log('Coverage enabled');\n  }\n  else{\n    console.log('Coverage not enabled');\n  }\n\n  config.set({\n    // base path, that will be used to resolve files and exclude\n    basePath: '../',\n\n    // testing framework to use (jasmine/mocha/qunit/...)\n    frameworks: ['jasmine', 'karma-typescript'],\n\n    preprocessors: {\n      'src/app/**/*.ts': ['karma-typescript'],\n      'src/test/spec/**/*.ts': ['karma-typescript'],\n      // 'src/app/modules/ng1/**/*.js': ['karma-coverage-istanbul-instrumenter'],\n      // 'src/app/modules/ng1/**/*.ts': ['karma-typescript', 'karma-coverage-istanbul-instrumenter'],\n      '**/*.html': ['ng-html2js']\n    },\n    mime: {\n      'text/x-typescript': ['ts','tsx']\n    },\n\n    // list of files / patterns to load in the browser\n    files: [\n      'node_modules/babel-polyfill/browser.js',\n      'node_modules/jquery/dist/jquery.js',\n      'node_modules/angular/angular.js',\n      'node_modules/angular-mocks/angular-mocks.js',\n      'node_modules/angular-animate/angular-animate.js',\n      'node_modules/angular-cookies/angular-cookies.js',\n      'node_modules/angular-resource/angular-resource.js',\n      'node_modules/angular-sanitize/angular-sanitize.js',\n      'node_modules/@uirouter/angularjs/release/angular-ui-router.js',\n      'node_modules/ui-bootstrap4/dist/ui-bootstrap-tpls.js',\n      'node_modules/lodash/lodash.js',\n      'node_modules/angular-growl-v2/build/angular-growl.js',\n      'node_modules/angular-jquery-timepicker/src/timepickerdirective.js',\n      'node_modules/timepicker/jquery.timepicker.js',\n      'node_modules/angularjs-scroll-glue/src/scrollglue.js',\n      'node_modules/angular-translate/dist/angular-translate.js',\n      'node_modules/moment/moment.js',\n      'node_modules/ngstorage/ngStorage.js',\n      'node_modules/jasmine-promise-matchers/dist/jasmine-promise-    matchers.js',\n      'node_modules/angular-ui-grid/ui-grid.js',\n      'src/app/*.ts',\n      'src/app/modules/**/*.js',\n      'src/app/modules/**/*.ts',\n      'src/app/partials/**/*.html',\n      'src/test/spec/ipsmicaTestFixtures.js',\n      'src/test/spec/**/*.spec.js',\n      'src/test/spec/**/*.spec.ts'\n    ],\n\n    // list of files / patterns to exclude\n    exclude: [\n      'src/app/modules/ngX/**/*.spec.ts'\n    ],\n\n    ngHtml2JsPreprocessor: {\n      cacheIdFromPath: function(filepath) {\n        return filepath.replace('src/app/partials/', '');\n      },\n\n      moduleName: 'ipsmica.templates'\n    },\n\n    // web server port defaults to 9876\n    browsers: [\n      'ChromeHeadless'\n    ],\n    browserNoActivityTimeout: 60000,\n\n    // Code coverage report\n    reporters: reporters,\n\n    mochaReporter: {\n      ignoreSkipped: true\n    },\n\n    // coverageIstanbulReporter: {\n    //   reports: ['text-summary', 'html'],\n    //   fixWebpackSourcePaths: true,\n    //   dir: 'target/coverage/ng1',\n    //   subdir: '.'\n    // },\n\n    // Which plugins to enable\n    plugins: [\n      'karma-chrome-launcher',\n      'karma-jasmine',\n      // 'karma-coverage-istanbul-reporter',\n      'karma-jasmine-html-reporter',\n      // 'karma-coverage-istanbul-instrumenter',\n      'karma-mocha-reporter',\n      'karma-ng-html2js-preprocessor',\n      'karma-typescript'\n    ],\n    tsconfig: 'tsconfig.spec.json',\n    colors: true,\n\n    // level of logging\n    // possible values: LOG_DISABLE || LOG_ERROR || LOG_WARN || LOG_INFO ||     LOG_DEBUG\n    logLevel: config.LOG_INFO\n  });\n};\n</code></pre>\n\n<p>With this config, the typescript code still has coverage code embedded in it when debugging. \nHow can I disable this?</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable", "ngrx"], "comments": [{"owner": {"reputation": 1026, "user_id": 11801537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F6aGv.jpg?s=128&g=1", "display_name": "Suhas Parameshwara", "link": "https://stackoverflow.com/users/11801537/suhas-parameshwara"}, "edited": false, "score": 0, "creation_date": 1571818493, "post_id": 58518362, "comment_id": 103362736, "body": "So you need to do two api calls?"}, {"owner": {"reputation": 2375, "user_id": 3241192, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/613c032be74a10f24138c3486120638e?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby", "link": "https://stackoverflow.com/users/3241192/bobby"}, "reply_to_user": {"reputation": 1026, "user_id": 11801537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F6aGv.jpg?s=128&g=1", "display_name": "Suhas Parameshwara", "link": "https://stackoverflow.com/users/11801537/suhas-parameshwara"}, "edited": false, "score": 0, "creation_date": 1571818882, "post_id": 58518362, "comment_id": 103362916, "body": "no I need a single api call,and subscribe to the result."}], "answers": [{"tags": [], "owner": {"reputation": 781, "user_id": 6434590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxWOw.jpg?s=128&g=1", "display_name": "David G.", "link": "https://stackoverflow.com/users/6434590/david-g"}, "is_accepted": true, "score": 3, "last_activity_date": 1571818700, "creation_date": 1571818700, "answer_id": 58518446, "question_id": 58518362, "link": "https://stackoverflow.com/questions/58518362/how-to-use-the-result-of-an-inner-observable-while-using-ngrx-selector/58518446#58518446", "title": "How to use the result of an inner observable while using ngrx selector?", "body": "<p>You can try switchMap, since you are returning a new observable:</p>\n\n<pre><code>checkMissionPoint(position: Cartographic): Observable&lt;CheckMissionResponse&gt; {\n  const params = {\n    latitude: CesiumMath.rad2Deg(position.latitude),\n    longitude: CesiumMath.rad2Deg(position.longitude),\n    altitude: position.height,\n  };\n\n  return this.store$.pipe(\n    select(TransactionsStoreSelectors.selectedTransactionId), \n    take(1),\n    switchMap((tId) =&gt; {\n      return this.httpClient.post&lt;any&gt;(`${environment.API_URL}/trajectories/${tId}/checkpoints`, params);\n    })\n  );\n}\n</code></pre>\n"}], "owner": {"reputation": 2375, "user_id": 3241192, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/613c032be74a10f24138c3486120638e?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby", "link": "https://stackoverflow.com/users/3241192/bobby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 58518446, "answer_count": 1, "score": 0, "last_activity_date": 1571818700, "creation_date": 1571818287, "question_id": 58518362, "link": "https://stackoverflow.com/questions/58518362/how-to-use-the-result-of-an-inner-observable-while-using-ngrx-selector", "title": "How to use the result of an inner observable while using ngrx selector?", "body": "<p>In My app, at some point I have the following code :</p>\n\n<pre><code>  this.missionHelperService.checkMissionPoint(position).subscribe(result =&gt; {\n\n  });\n</code></pre>\n\n<p>Now, checkMissionPoint is supposed to do the following => </p>\n\n<ol>\n<li>-Get a value from a store</li>\n<li>-Execute an API call</li>\n<li>-Return the API result</li>\n</ol>\n\n<p>I am trying to make it return the result of the observable, but I can't manage to find the correct syntax</p>\n\n<pre><code>  checkMissionPoint(position: Cartographic): Observable&lt;CheckMissionResponse&gt; {\n    const params = {\n      latitude: CesiumMath.rad2Deg(position.latitude),\n      longitude: CesiumMath.rad2Deg(position.longitude),\n      altitude: position.height,\n    };\n\n    return this.store$.pipe(select(TransactionsStoreSelectors.selectedTransactionId), take(1)).pipe(\n      map((tId) =&gt; {\n        return this.httpClient.post&lt;any&gt;(`${environment.API_URL}/trajectories/${tId}/checkpoints`, params);\n      })\n    )\n  }\n</code></pre>\n\n<p>How can I do this ? </p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 2198, "user_id": 10549313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4dd268b4cd15aa20cb25a4894be22?s=128&d=identicon&r=PG&f=1", "display_name": "Bravo", "link": "https://stackoverflow.com/users/10549313/bravo"}, "edited": false, "score": 2, "creation_date": 1571818182, "post_id": 58518284, "comment_id": 103362585, "body": "Where&#39;s your HTML? or your attempt to write any code yourself? It&#39;s been 2 years since you posted any code at all - you&#39;ve been spoiled with answers"}, {"owner": {"reputation": 2198, "user_id": 10549313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4dd268b4cd15aa20cb25a4894be22?s=128&d=identicon&r=PG&f=1", "display_name": "Bravo", "link": "https://stackoverflow.com/users/10549313/bravo"}, "edited": false, "score": 0, "creation_date": 1571823896, "post_id": 58518284, "comment_id": 103365577, "body": "that would be better off <i>in the question</i> where it is readable"}], "answers": [{"tags": [], "owner": {"reputation": 1490, "user_id": 540195, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/CkAiB.jpg?s=128&g=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/540195/amit"}, "is_accepted": true, "score": 1, "last_activity_date": 1571837866, "creation_date": 1571837866, "answer_id": 58524173, "question_id": 58518284, "link": "https://stackoverflow.com/questions/58518284/when-click-on-next-button-or-previous-button-at-the-same-time-active-next-li-or/58524173#58524173", "title": "when click on next button or previous button at the same time active next li or provious li element by using javascript", "body": "<p><strong>First of all it's not the decent solution, however you get an idea from here.</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var count = 0;\r\n\r\nfunction activeclass(val){\r\n   var totalElem=document.getElementsByClassName(\"item\");\r\n   if(count &gt; totalElem.length || count &lt; 0) return;\r\n  \r\n   var list=document.getElementsByClassName(\"active\");\r\n   let elem;\r\n   if(val == 'next') {\r\n    elem = list[0].nextElementSibling;\r\n    count++;\r\n   }\r\n   else {\r\n    elem = list[0].previousElementSibling;\r\n    count--;\r\n   }\r\n   \r\n   list[0].classList.remove(\"active\");\r\n   elem.classList.add('active');\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.active{\r\n  color:red;\r\n  font-size:16px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ul id=\"list\"&gt;\r\n  &lt;li class=\"item active\"&gt;item 1&lt;/li&gt;\r\n  &lt;li class=\"item\"&gt;item 2&lt;/li&gt;\r\n  &lt;li class=\"item\"&gt;item 3&lt;/li&gt;\r\n  &lt;li class=\"item\"&gt;item 4&lt;/li&gt;\r\n&lt;ul&gt;\r\n\r\n\r\n&lt;button class=\"btn btn-default button-next\" onclick=\"activeclass('next')\" type=\"button\"&gt;Next&lt;/button&gt;\r\n&lt;button class=\"btn btn-default button-prev\" onclick=\"activeclass('prev')\" type=\"button\"&gt;Previo</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Please don't hesitate to let me know if you have any query.</strong></p>\n"}], "owner": {"reputation": 121, "user_id": 7755207, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-M1c-SWX7nyY/AAAAAAAAAAI/AAAAAAAAAHI/k08sl6jk74k/photo.jpg?sz=128", "display_name": "rupesh sripuram", "link": "https://stackoverflow.com/users/7755207/rupesh-sripuram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 58524173, "answer_count": 1, "score": -2, "last_activity_date": 1571837866, "creation_date": 1571818020, "last_edit_date": 1571836468, "question_id": 58518284, "link": "https://stackoverflow.com/questions/58518284/when-click-on-next-button-or-previous-button-at-the-same-time-active-next-li-or", "title": "when click on next button or previous button at the same time active next li or provious li element by using javascript", "body": "<p>when I click on the next or previous buttons the list items need to active at the same time. if I click on next button the next list item needs to active (means color or background color) by using Javascript or typescript in angualr6.\nthanks in advance.</p>\n\n<ul>\n<li>item 1</li>\n<li>item 2</li>\n<li><strong><em>item 3</em></strong></li>\n<li>item 4</li>\n</ul>\n\n<p>Previous    Next</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var list=document.getElementById(\"list\").childElementCount;\r\nvar count = 0;\r\n\r\nfunction activeclass(index){\r\n   parent = document.getElementById(\"list\");\r\n   count += index;\r\n   chailditem = parent.children[count];\r\n   chailditem.style.color = 'red';\r\n   if(count == list){\r\n    count == 0\r\n   }\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.active{\r\n  color:red;\r\n  font-size:16px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ul id=\"list\"&gt;\r\n  &lt;li class=\"item active\"&gt;item 1&lt;li&gt;\r\n  &lt;li class=\"item\"&gt;item 2&lt;li&gt;\r\n  &lt;li class=\"item\"&gt;item 3&lt;li&gt;\r\n  &lt;li class=\"item\"&gt;item 4&lt;li&gt;\r\n&lt;ul&gt;\r\n\r\n\r\n&lt;button class=\"btn btn-default button-next\" on-click=\"activeclass(-1)\" type=\"button\"&gt;Next&lt;/button&gt;\r\n&lt;button class=\"btn btn-default button-prev\" on-click=\"activeclass(1)\" type=\"button\"&gt;Previous&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["typescript", "mocha.js", "nestjs"], "comments": [{"owner": {"reputation": 1204, "user_id": 7069126, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-q21KmVFAxJg/AAAAAAAAAAI/AAAAAAAAB9Q/m_x1LE3wn3w/photo.jpg?sz=128", "display_name": "Tobias Feil", "link": "https://stackoverflow.com/users/7069126/tobias-feil"}, "edited": false, "score": 0, "creation_date": 1614437878, "post_id": 58518076, "comment_id": 117388026, "body": "Did you end up finding a solution, or did you just use a different TestingModule for each suite?"}], "answers": [{"tags": [], "owner": {"reputation": 1190, "user_id": 9585130, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZaOTw_iAjhA/AAAAAAAAAAI/AAAAAAAAAXs/k3f_-RgmijA/photo.jpg?sz=128", "display_name": "Binh Ho", "link": "https://stackoverflow.com/users/9585130/binh-ho"}, "is_accepted": false, "score": 0, "last_activity_date": 1577983380, "creation_date": 1577983380, "answer_id": 59566936, "question_id": 58518076, "link": "https://stackoverflow.com/questions/58518076/nestjs-share-e2e-server-between-test-suites/59566936#59566936", "title": "NestJS Share e2e server between test suites", "body": "<p>Try this.</p>\n\n<pre><code>beforeAll(async () =&gt; {\n  const module = await Test.createTestingModule({\n    providers: [\n      MyTestsService,\n      {\n        provide: getRepositoryToken(Warehouse),\n        useValue: myTestsService\n      }\n    ],\n    controllers: [MyTestsController], // &lt;-- this will fix problem of getHttpServer\n  })\n    .overrideProvider(MyTestsService)\n    .useValue(myTestsService)\n    .compile();\n\n  app = module.createNestApplication();\n  await app.init();\n});\n</code></pre>\n"}], "owner": {"reputation": 4444, "user_id": 942354, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/b9602c1dfd9c497a4cfcecaee7f9c573?s=128&d=identicon&r=PG", "display_name": "Sami", "link": "https://stackoverflow.com/users/942354/sami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 264, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1577983380, "creation_date": 1571817184, "question_id": 58518076, "link": "https://stackoverflow.com/questions/58518076/nestjs-share-e2e-server-between-test-suites", "title": "NestJS Share e2e server between test suites", "body": "<p>I'm using NestJS test module to mock the nest app and I want to share this app among various test suites.<br>\nHere's my setup:</p>\n\n<pre><code>test\n  |_ helpers\n    |_ testApp.ts\n  |_ e2e\n    |_ users.e2e-test.ts\n  |_ beforeAll.e2e-test.ts\n</code></pre>\n\n<p><code>testApp.ts</code></p>\n\n<pre><code>import { Test } from '@nestjs/testing';\nimport { DatabaseModule } from '../../src/database/database.module';\nimport { UserModule } from '../../src/user/user.module';\n\nlet app: any;\nexport async function initServer() {\n  const fixture = await Test.createTestingModule({\n    imports: [\n      DatabaseModule,\n      UserModule,\n    ],\n  }).compile();\n  app = fixture.createNestApplication();\n\n  await app.init();\n}\nexport default app;\n</code></pre>\n\n<p><code>beforeAll.e2e-test.ts</code></p>\n\n<pre><code>import { initServer } from './helpers/testApp';\n\nbefore(async () =&gt; {\n  await initServer();\n});\n</code></pre>\n\n<p><code>users.e2e-test.ts</code></p>\n\n<pre><code>import * as request from 'supertest';\nimport * as chai from 'chai';\nconst expect = chai.expect;\n\nimport { UserType } from '../../src/user/enum/user-types.enm';\nimport app from '../helpers/testApp';\n\nconst admin = {\n  email: 'admin@example.com',\n  password: '123',\n  type: UserType.ADMIN\n};\ndescribe.only('Creating User with customized permissions', async () =&gt; {\n  it('User should be able to sign in', async () =&gt; {\n    request(app.getHttpServer())\n      .post('/auth/signin')\n      .send({ email: admin.email, password: '123' })\n      .end((_, res) =&gt; {\n        expect(res.status).to.equal(200);\n      });\n  });\n});\n</code></pre>\n\n<p>So basically I want to share the <code>NestApplication</code> instance among various test suites but I'm getting the <code>app</code> as <code>undefined</code> in the test case and it's giving the following error:<br>\n<code>TypeError: Cannot read property 'getHttpServer' of undefined</code></p>\n\n<p>Is there any way to do this? Or should I initialize a new <code>NestApplication</code> in each test suite?</p>\n\n<p>I'm using <code>mocha</code> as a test runner.</p>\n"}, {"tags": ["javascript", "typescript", "jasmine", "protractor"], "comments": [{"owner": {"reputation": 283, "user_id": 7196801, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d375ff02f0d174fbbd9fff017466996b?s=128&d=identicon&r=PG&f=1", "display_name": "return", "link": "https://stackoverflow.com/users/7196801/return"}, "edited": false, "score": 0, "creation_date": 1571820141, "post_id": 58518020, "comment_id": 103363556, "body": "You could throw an exception if the response status is not 200 and the test suite execution should stop"}], "answers": [{"tags": [], "owner": {"reputation": 4808, "user_id": 9150146, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r3Zq7.png?s=128&g=1", "display_name": "Sergey Pleshakov", "link": "https://stackoverflow.com/users/9150146/sergey-pleshakov"}, "is_accepted": true, "score": 0, "last_activity_date": 1572191861, "last_edit_date": 1572191861, "creation_date": 1571862262, "answer_id": 58530493, "question_id": 58518020, "link": "https://stackoverflow.com/questions/58518020/conditional-test-case-in-jasmine/58530493#58530493", "title": "conditional test case in jasmine", "body": "<p>something like this in your config</p>\n\n<pre><code>async onPrepare() {\n\nglobal.response = await sendQuery('Http://...');\n    if (global.response !== 200) {\n      throw new Error(`Status is ${response}`); // may not be needed actually, but I'll leave it\n      await browser.close();\n      await process.exit(1);\n    }\n}\n</code></pre>\n\n<p><code>global.response</code> will be available in your specs</p>\n"}], "owner": {"reputation": 13, "user_id": 5235006, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mZMYBBqOQ1I/AAAAAAAAAAI/AAAAAAAABAg/DxTwG5SKa8I/photo.jpg?sz=128", "display_name": "Leah", "link": "https://stackoverflow.com/users/5235006/leah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 58530493, "answer_count": 1, "score": 0, "last_activity_date": 1572191861, "creation_date": 1571816968, "question_id": 58518020, "link": "https://stackoverflow.com/questions/58518020/conditional-test-case-in-jasmine", "title": "conditional test case in jasmine", "body": "<p>I am writing Jasmine. I want that when the response from the site is ok (site uploaded- pending 200)\nrun the it's (test cases) in spec and when the site is failed to load the site the it's (test cases) will not run.</p>\n\n<p>i check the response from site in beafore all function.</p>\n\n<p>and now in each it that make difernt thing i check the condition if the response (saved in global var) is true</p>\n\n<p>how can i do it in global fun like before each?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let response;\r\n\r\ndescribe('', ()=&gt;{\r\n\r\nbeforeAll (async () =&gt; {\r\n\r\n//this function return the statusCode of http request\r\nresponse= await sendQuery('Http://...');\r\n})\r\n\r\nbeforeEach(async(), =&gt;{\r\n});\r\n\r\n\r\nit('', async()=&gt; {\r\nif (response = 200){\r\n//do somsing 1...\r\n}\r\nit('', async()=&gt; {\r\nif (response = 200){\r\n//do somsing 2...\r\n}\r\nit('', async()=&gt; {\r\nif (response = 200){\r\n//do somsing 3...\r\n}\r\nv\r\nit('', async()=&gt; {\r\nif (response = 200){\r\n//do somsing 4...\r\n}\r\nit('', async()=&gt; {\r\nif (response = 200){\r\n//do somsing 5...\r\n}\r\nit('', async()=&gt; {\r\nif (response = 200){\r\n//do somsing 6...\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["typescript", "visual-studio", "asp.net-core"], "comments": [{"owner": {"reputation": 51674, "user_id": 455493, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ub5uS.jpg?s=128&g=1", "display_name": "Tseng", "link": "https://stackoverflow.com/users/455493/tseng"}, "edited": false, "score": 0, "creation_date": 1571817950, "post_id": 58517957, "comment_id": 103362480, "body": "Whats your project structure? I&#39;d assume you put the ts file in the project root or somewhere outside your tsconfig folder and you&#39;re not using the spa template? The SPA templates have something along the lines of <code>&lt;SpaRoot&gt;ClientApp\\&lt;&#47;SpaRoot&gt;</code> and <code>&lt;Content Remove=&quot;$(SpaRoot)**&quot; &#47;&gt;</code> and then use targets to compile it / run the angular-cli or npm scripts or webpack to compile it or start an npm process which does the stuff necessary for hot module replacement (when debugging) or build static files when publish"}, {"owner": {"reputation": 35, "user_id": 4101909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de1995a30754cdba125368f881db7929?s=128&d=identicon&r=PG&f=1", "display_name": "Thurfir", "link": "https://stackoverflow.com/users/4101909/thurfir"}, "reply_to_user": {"reputation": 51674, "user_id": 455493, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ub5uS.jpg?s=128&g=1", "display_name": "Tseng", "link": "https://stackoverflow.com/users/455493/tseng"}, "edited": false, "score": 0, "creation_date": 1571841706, "post_id": 58517957, "comment_id": 103375598, "body": "Hello @Tseng, my .ts files are in the &quot;include&quot; folders from the tsconfig file. Regarding the SPA templates I think this is different, they use .netapp with spa services while I&#39;m using .net472 with TypeScript.MSBuild to build typescript."}, {"owner": {"reputation": 51674, "user_id": 455493, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ub5uS.jpg?s=128&g=1", "display_name": "Tseng", "link": "https://stackoverflow.com/users/455493/tseng"}, "edited": false, "score": 0, "creation_date": 1571845759, "post_id": 58517957, "comment_id": 103377747, "body": "For Visual Studio and .NET Core the tsconfig isn&#39;t really evaluated when you add files or not, thats only for the TypeScript compiler. The default project templates exclude content from the SPA folder, thats why files created there won&#39;t be added to csproj, which is why I asked for your project structure"}, {"owner": {"reputation": 35, "user_id": 4101909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de1995a30754cdba125368f881db7929?s=128&d=identicon&r=PG&f=1", "display_name": "Thurfir", "link": "https://stackoverflow.com/users/4101909/thurfir"}, "reply_to_user": {"reputation": 51674, "user_id": 455493, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ub5uS.jpg?s=128&g=1", "display_name": "Tseng", "link": "https://stackoverflow.com/users/455493/tseng"}, "edited": false, "score": 0, "creation_date": 1572259110, "post_id": 58517957, "comment_id": 103492024, "body": "I did a test on a SPA template: as soon as I add the Typescript.MSBuild nuget package, visual studio starts adding Removes, even in the SpaRoot: &lt;TypeScriptCompile Remove=&quot;ClientApp\\myTestFile.ts&quot; /&gt;"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 4101909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de1995a30754cdba125368f881db7929?s=128&d=identicon&r=PG&f=1", "display_name": "Thurfir", "link": "https://stackoverflow.com/users/4101909/thurfir"}, "edited": false, "score": 0, "creation_date": 1596616633, "post_id": 63129152, "comment_id": 111865521, "body": "My VS2019 never generated any .js or .map file even without that configuration. I&#39;m using a bundler (webpack). From your answer, and since this behaviour stopped when I switched that project&#39;s framework to netcore, it probably was a legacy behaviour. Thanks for your time!"}], "tags": [], "owner": {"reputation": 186, "user_id": 6373808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f34bc1910894aef0bab412844cbe089?s=128&d=identicon&r=PG", "display_name": "G. Zidar", "link": "https://stackoverflow.com/users/6373808/g-zidar"}, "is_accepted": true, "score": 1, "last_activity_date": 1595921825, "creation_date": 1595921825, "answer_id": 63129152, "question_id": 58517957, "link": "https://stackoverflow.com/questions/58517957/why-does-visual-studio-2019-adds-typescriptcompile-remove-in-my-project/63129152#63129152", "title": "Why does Visual studio 2019 adds &lt;TypeScriptCompile Remove /&gt; in my project?", "body": "<p>The &quot;remove&quot; entry is added so that you don't get the nested filename.js and filename.js.map files appearing in your project folder structure. The instruction explicitly tells Visual Studio not to compile this file and instead allows you to use some other compiler (either the TSC that you downloaded via NPM or perhaps even the Angular compiler). Basically it tells VisualStudio to get out of the way.</p>\n"}], "owner": {"reputation": 35, "user_id": 4101909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de1995a30754cdba125368f881db7929?s=128&d=identicon&r=PG&f=1", "display_name": "Thurfir", "link": "https://stackoverflow.com/users/4101909/thurfir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1207, "favorite_count": 0, "accepted_answer_id": 63129152, "answer_count": 1, "score": 2, "last_activity_date": 1595921825, "creation_date": 1571816786, "question_id": 58517957, "link": "https://stackoverflow.com/questions/58517957/why-does-visual-studio-2019-adds-typescriptcompile-remove-in-my-project", "title": "Why does Visual studio 2019 adds &lt;TypeScriptCompile Remove /&gt; in my project?", "body": "<p>I have an asp.net core 2.2 project running on .net 4.7.2, which includes the Microsoft.TypeScript.MSBuild nuget package.</p>\n\n<p>Every time I add a new typescript (.ts or .tsx) file to my project, visual studio automatically adds a:</p>\n\n<pre><code>&lt;ItemGroup&gt;&lt;TypeScriptCompile Remove=\"myFile.ts\" /&gt;&lt;/ItemGroup&gt;\n</code></pre>\n\n<p>line into my project .csproj file.</p>\n\n<p>Here is my tsconfig file:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    // Target latest version of ECMAScript.\n    \"target\": \"esnext\",\n\n    // Search under node_modules for non-relative imports.\n    \"moduleResolution\": \"node\",\n\n    // Process &amp; infer types from .js files.\n    \"allowJs\": false,\n    \"jsx\": \"react\",\n\n    // Don't emit; allow Babel to transform files.\n    \"noEmit\": true,\n\n    // Enable strictest settings like strictNullChecks &amp; noImplicitAny.\n    \"strict\": true,\n\n    // Disallow features that require cross-file information for emit.\n    \"isolatedModules\": true,\n\n    // Import non-ES modules as default imports.\n    \"esModuleInterop\": true,\n\n    \"skipLibCheck\": true,\n\n    \"baseUrl\": \".\",\n    \"paths\": {\n        /* my paths */\n    }\n  },\n  \"include\": [\n        /* my typescript folders */\n  ],\n  \"exclude\": [ \"node_modules\" ]\n}\n</code></pre>\n\n<p>Note that I'm only using the package to type-check my files, the actual compilation is done using Babel.</p>\n\n<p>Can you please help me understand why Visual studio adds these TypeScriptCompile Remove in my project? Am I doing something wrong?</p>\n"}, {"tags": ["angular", "typescript", "angular8"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 3, "creation_date": 1571816307, "post_id": 58517741, "comment_id": 103361675, "body": "If it isn&#39;t called by your template, make it private. You usually shouldn&#39;t have to export public functions in your component, put those inside a *_util.ts."}, {"owner": {"reputation": 210, "user_id": 6778546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uRVGp.png?s=128&g=1", "display_name": "Fyodor", "link": "https://stackoverflow.com/users/6778546/fyodor"}, "edited": false, "score": 0, "creation_date": 1571818424, "post_id": 58517741, "comment_id": 103362703, "body": "use webstorm. it refactors all the method occurrences correctly, including templates."}, {"owner": {"reputation": 2103, "user_id": 3209523, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yeaZC.jpg?s=128&g=1", "display_name": "canbax", "link": "https://stackoverflow.com/users/3209523/canbax"}, "reply_to_user": {"reputation": 210, "user_id": 6778546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uRVGp.png?s=128&g=1", "display_name": "Fyodor", "link": "https://stackoverflow.com/users/6778546/fyodor"}, "edited": false, "score": 0, "creation_date": 1571828962, "post_id": 58517741, "comment_id": 103368160, "body": "@Fyodor I&#39;m using vscode. I might try webstorm one day ;)"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1571839285, "post_id": 58517741, "comment_id": 103374113, "body": "No, it can&#39;t. Assuming we&#39;re still talking angular here."}, {"owner": {"reputation": 2103, "user_id": 3209523, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yeaZC.jpg?s=128&g=1", "display_name": "canbax", "link": "https://stackoverflow.com/users/3209523/canbax"}, "edited": false, "score": 0, "creation_date": 1574328001, "post_id": 58517741, "comment_id": 104196281, "body": "it is very interesting that if a component method is <b>private</b> and it is being used inside the HTML template of the component when I run <code>ng serve</code> it works fine. When I run <code>ng build</code> and serve that, it still runs fine. <b>BUT</b>, when I run <code>ng build --prod</code> it gives an error. Very strange!"}], "owner": {"reputation": 2103, "user_id": 3209523, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yeaZC.jpg?s=128&g=1", "display_name": "canbax", "link": "https://stackoverflow.com/users/3209523/canbax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571816089, "creation_date": 1571816089, "question_id": 58517741, "link": "https://stackoverflow.com/questions/58517741/is-there-a-way-to-mark-component-methods-that-used-in-html-part-of-the-component", "title": "Is there a way to mark component methods that used in html part of the component?", "body": "<p>angular-cli generated components contains an html and ts file. Ts file <strong>might</strong> contain methods which called in html. </p>\n\n<p>I want to <strong>mark/sign/distinguish the methods that are used in html</strong>. I want this to make my implementation more robust and understandable.</p>\n\n<p>For example, when I rename a method in ts, refactoring handles changing the function name on all ts files. <strong>BUT</strong> that function might be also used in html and I should manually find the usage and rename it.</p>\n"}, {"tags": ["typescript", "openlayers", "geojson"], "answers": [{"tags": [], "owner": {"reputation": 33432, "user_id": 58553, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/65bbe054348e2bc151413b9582e423ea?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/58553/peter"}, "is_accepted": false, "score": 0, "last_activity_date": 1571831518, "creation_date": 1571831518, "answer_id": 58522262, "question_id": 58517739, "link": "https://stackoverflow.com/questions/58517739/cant-import-geojson-from-types-ol/58522262#58522262", "title": "Can&#39;t import GeoJSON from @types/ol", "body": "<p>I managed to get it working by using </p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"target\": \"es5\",\n        \"module\": \"amd\",\n        \"importHelpers\": true,\n        \"declaration\": false,\n        \"moduleResolution\": \"node\",\n        \"outFile\": \"bundle.js\"\n    },\n    \"files\": [\"index.ts\"]\n}\n</code></pre>\n"}], "owner": {"reputation": 33432, "user_id": 58553, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/65bbe054348e2bc151413b9582e423ea?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/58553/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 545, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571831518, "creation_date": 1571816080, "question_id": 58517739, "link": "https://stackoverflow.com/questions/58517739/cant-import-geojson-from-types-ol", "title": "Can&#39;t import GeoJSON from @types/ol", "body": "<p>I have the following files:</p>\n\n<p>tsconfig.json</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"lib\": [\n            \"es2019\",\n            \"dom\"\n        ],\n        \"target\": \"es5\",\n        \"module\": \"system\",\n        \"allowSyntheticDefaultImports\": true,\n        \"esModuleInterop\": true,\n        \"outFile\": \"bundle.js\"\n    },\n    \"files\": [\"index.ts\"]\n}\n</code></pre>\n\n<p>Package.json</p>\n\n<pre><code>{\n  \"name\": \"testol\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"bundle.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"ol\": \"^5.3.3\",\n    \"@types/ol\": \"^5.3.6\"\n  },\n  \"devDependencies\": {\n    \"typescript\": \"^3.6.4\"\n  }\n}\n</code></pre>\n\n<p>index.ts</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import GeoJSON from 'ol/format/GeoJSON';\nconst geoJSON = new GeoJSON();\n</code></pre>\n\n<p>When i run <code>tsc --build tsconfig.json</code> i get a lot of errors like</p>\n\n<pre><code>node_modules/@types/ol/format/GeoJSON.d.ts:1:10 - error TS2305: Module '\"node_modules/@types/ol/format/GeoJSON\"' has no exported member 'Feature'.\n1 import { Feature, FeatureCollection, GeoJSON as GeoJSON_1, Geometry, GeometryCollection, LineString, MultiLineString, MultiPoint, MultiPolygon, Point, Polygon } from 'geojson';\n           ~~~~~~~\n\nnode_modules/@types/ol/format/GeoJSON.d.ts:1:19 - error TS2305: Module '\"node_modules/@types/ol/format/GeoJSON\"' has no exported member 'FeatureCollection'.\n1 import { Feature, FeatureCollection, GeoJSON as GeoJSON_1, Geometry, GeometryCollection, LineString, MultiLineString, MultiPoint, MultiPolygon, Point, Polygon } from 'geojson';\n                    ~~~~~~~~~~~~~~~~~\n</code></pre>\n\n<p>What is wrong here?\nI have tried to install a older version of @types/geojson as suggested <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/issues/21794#issuecomment-347522302\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"tags": ["javascript", "node.js", "typescript", "callback"], "comments": [{"owner": {"reputation": 7557, "user_id": 4148902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xDsBe.jpg?s=128&g=1", "display_name": "Sohail Ashraf", "link": "https://stackoverflow.com/users/4148902/sohail-ashraf"}, "edited": false, "score": 0, "creation_date": 1571816145, "post_id": 58517713, "comment_id": 103361605, "body": "you are getting undefined as the authenticate is an async function and you are returning the status immediately after calling the async function."}, {"owner": {"reputation": 217, "user_id": 7665222, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6b9ee5be4eb0adc5eea60a8e086510f7?s=128&d=identicon&r=PG&f=1", "display_name": "Java Dev Beginner", "link": "https://stackoverflow.com/users/7665222/java-dev-beginner"}, "reply_to_user": {"reputation": 7557, "user_id": 4148902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xDsBe.jpg?s=128&g=1", "display_name": "Sohail Ashraf", "link": "https://stackoverflow.com/users/4148902/sohail-ashraf"}, "edited": false, "score": 0, "creation_date": 1571816216, "post_id": 58517713, "comment_id": 103361638, "body": "@Sohail : So How I can fix ?"}], "answers": [{"comments": [{"owner": {"reputation": 217, "user_id": 7665222, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6b9ee5be4eb0adc5eea60a8e086510f7?s=128&d=identicon&r=PG&f=1", "display_name": "Java Dev Beginner", "link": "https://stackoverflow.com/users/7665222/java-dev-beginner"}, "edited": false, "score": 0, "creation_date": 1571816329, "post_id": 58517785, "comment_id": 103361686, "body": "it&#39;s not working, result is undefined."}, {"owner": {"reputation": 7557, "user_id": 4148902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xDsBe.jpg?s=128&g=1", "display_name": "Sohail Ashraf", "link": "https://stackoverflow.com/users/4148902/sohail-ashraf"}, "reply_to_user": {"reputation": 217, "user_id": 7665222, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6b9ee5be4eb0adc5eea60a8e086510f7?s=128&d=identicon&r=PG&f=1", "display_name": "Java Dev Beginner", "link": "https://stackoverflow.com/users/7665222/java-dev-beginner"}, "edited": false, "score": 0, "creation_date": 1571816660, "post_id": 58517785, "comment_id": 103361863, "body": "I have edited my answer, Please try that."}, {"owner": {"reputation": 7557, "user_id": 4148902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xDsBe.jpg?s=128&g=1", "display_name": "Sohail Ashraf", "link": "https://stackoverflow.com/users/4148902/sohail-ashraf"}, "reply_to_user": {"reputation": 217, "user_id": 7665222, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6b9ee5be4eb0adc5eea60a8e086510f7?s=128&d=identicon&r=PG&f=1", "display_name": "Java Dev Beginner", "link": "https://stackoverflow.com/users/7665222/java-dev-beginner"}, "edited": false, "score": 0, "creation_date": 1571816750, "post_id": 58517785, "comment_id": 103361904, "body": "when you are calling Service.doCallAuth at that time pass the callback function. Hope this will solve the problem."}], "tags": [], "owner": {"reputation": 7557, "user_id": 4148902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xDsBe.jpg?s=128&g=1", "display_name": "Sohail Ashraf", "link": "https://stackoverflow.com/users/4148902/sohail-ashraf"}, "is_accepted": false, "score": 0, "last_activity_date": 1571816634, "last_edit_date": 1571816634, "creation_date": 1571816224, "answer_id": 58517785, "question_id": 58517713, "link": "https://stackoverflow.com/questions/58517713/return-value-from-callback-in-typescript/58517785#58517785", "title": "Return value from callback in TypeScript", "body": "<p>Try this one.</p>\n\n<pre><code> export const doCallAuth = (username, password, callback) =&gt; {\n        var auth = new Auth({\n            url: '...',\n        });\n        var status;\n        auth.authenticate(username, password, callback);\n    }\n    var result;\n    Service.doCallAuth('test', 'test', function (err, user) {\n        if (err) {\n            console.log(err);\n            status = 'no';\n        } else if (!user.uid) {\n            console.log(\"user not found Error\");\n            status = 'no';\n        } else if (user.uid) {\n            console.log(\"success : user \" + user.uid + \" found \");\n            status = 'yes';\n        }\n        result = status;\n    });\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 217, "user_id": 7665222, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6b9ee5be4eb0adc5eea60a8e086510f7?s=128&d=identicon&r=PG&f=1", "display_name": "Java Dev Beginner", "link": "https://stackoverflow.com/users/7665222/java-dev-beginner"}, "edited": false, "score": 0, "creation_date": 1571816691, "post_id": 58517853, "comment_id": 103361879, "body": "It&#39;s still not working, status is undefined :)"}, {"owner": {"reputation": 3411, "user_id": 2773184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uAzez.jpg?s=128&g=1", "display_name": "Mohammad Ali Rony", "link": "https://stackoverflow.com/users/2773184/mohammad-ali-rony"}, "reply_to_user": {"reputation": 217, "user_id": 7665222, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6b9ee5be4eb0adc5eea60a8e086510f7?s=128&d=identicon&r=PG&f=1", "display_name": "Java Dev Beginner", "link": "https://stackoverflow.com/users/7665222/java-dev-beginner"}, "edited": false, "score": 0, "creation_date": 1571816908, "post_id": 58517853, "comment_id": 103361977, "body": "@JavaDevBeginner I have update my code. please check. If any problem please let me know."}, {"owner": {"reputation": 217, "user_id": 7665222, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6b9ee5be4eb0adc5eea60a8e086510f7?s=128&d=identicon&r=PG&f=1", "display_name": "Java Dev Beginner", "link": "https://stackoverflow.com/users/7665222/java-dev-beginner"}, "edited": false, "score": 0, "creation_date": 1571817008, "post_id": 58517853, "comment_id": 103362023, "body": "still not working :)"}], "tags": [], "owner": {"reputation": 3411, "user_id": 2773184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uAzez.jpg?s=128&g=1", "display_name": "Mohammad Ali Rony", "link": "https://stackoverflow.com/users/2773184/mohammad-ali-rony"}, "is_accepted": false, "score": 0, "last_activity_date": 1571816855, "last_edit_date": 1571816855, "creation_date": 1571816437, "answer_id": 58517853, "question_id": 58517713, "link": "https://stackoverflow.com/questions/58517713/return-value-from-callback-in-typescript/58517853#58517853", "title": "Return value from callback in TypeScript", "body": "<p>To get value from AJAX call need to Use <code>async</code> and <code>await</code> </p>\n\n<pre><code>    export const doCallAuth = async function(username, password) =&gt; {\n        var auth = new Auth({\n            url: '...',\n\n          });\n\n          var status;\n\n          auth.authenticate(username, password, function (err, user) {\n            if (err) {\n              console.log(err);\n              status = 'no';\n\n            } else if (!user.uid) {\n              console.log(\"user not found Error\");\n              status = 'no';\n            } else if (user.uid) {\n              console.log(\"success : user \" + user.uid + \" found \");\n              status = 'yes';\n            }\n            return status;\n          });\n\n\n    }\n</code></pre>\n\n<p>call this method by :</p>\n\n<pre><code>var result = await  Service.doCallAuth('test', 'test');\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 217, "user_id": 7665222, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6b9ee5be4eb0adc5eea60a8e086510f7?s=128&d=identicon&r=PG&f=1", "display_name": "Java Dev Beginner", "link": "https://stackoverflow.com/users/7665222/java-dev-beginner"}, "edited": false, "score": 0, "creation_date": 1571818383, "post_id": 58518015, "comment_id": 103362685, "body": "It&#39;s working fine.Can you writing by Async / Await ? :)"}, {"owner": {"reputation": 1552, "user_id": 7145855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f52f640051a98574cf56e3324ad79ac2?s=128&d=identicon&r=PG&f=1", "display_name": "tolotra", "link": "https://stackoverflow.com/users/7145855/tolotra"}, "reply_to_user": {"reputation": 217, "user_id": 7665222, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6b9ee5be4eb0adc5eea60a8e086510f7?s=128&d=identicon&r=PG&f=1", "display_name": "Java Dev Beginner", "link": "https://stackoverflow.com/users/7665222/java-dev-beginner"}, "edited": false, "score": 1, "creation_date": 1571818670, "post_id": 58518015, "comment_id": 103362805, "body": "Just change the function call to <code>const result = await Service.doCallAuth(&quot;test&quot;, &quot;test&quot;)</code>, Promises handle async/await pattern, and wrap the await call by try/catch pattern to catch errors."}], "tags": [], "owner": {"reputation": 1552, "user_id": 7145855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f52f640051a98574cf56e3324ad79ac2?s=128&d=identicon&r=PG&f=1", "display_name": "tolotra", "link": "https://stackoverflow.com/users/7145855/tolotra"}, "is_accepted": false, "score": 1, "last_activity_date": 1571818837, "last_edit_date": 1571818837, "creation_date": 1571816958, "answer_id": 58518015, "question_id": 58517713, "link": "https://stackoverflow.com/questions/58517713/return-value-from-callback-in-typescript/58518015#58518015", "title": "Return value from callback in TypeScript", "body": "<p>You can use Promise or callback patterns</p>\n\n<p><strong>1. Promise</strong></p>\n\n<pre><code>export const doCallAuth = (username, password) =&gt; {\n  return new Promise((resolve, reject) =&gt; {\n    var auth = new Auth({ url: \"...\" });\n    auth.authenticate(username, password, (err, user) =&gt; {\n      if (err) {\n        reject(err);\n      } else if (!user.uid) {\n        reject(new Error(\"user not found Error\"));\n      } else if (user.uid) {\n        console.log(\"success : user \" + user.uid + \" found \");\n        resolve(user);\n      }\n    });\n  });\n};\n\nService.doCallAuth(\"test\", \"test\")\n  .then(user =&gt; {\n    console.log(\"success : user \" + user.uid + \" found \");\n  })\n  .catch(e =&gt; {\n    console.log(e);\n  });\n</code></pre>\n\n<p><strong>2. Callback</strong></p>\n\n<pre><code>export const doCallAuthCallBack = (username, password, callback) =&gt; {\n  var auth = new Auth({ url: \"...\" });\n  auth.authenticate(username, password, (err, user) =&gt; {\n    if (err) {\n      callback(err);\n    } else if (!user.uid) {\n      callback(new Error(\"user not found Error\"));\n    } else if (user.uid) {\n      callback(null, user);\n    }\n  });\n};\n\nService.doCallAuthCallBack(\"test\", \"test\", (err, user) =&gt; {\n  if (err) {\n    console.log(err);\n  } else {\n    console.log(\"success : user \" + user.uid + \" found \");\n  }\n});\n</code></pre>\n"}], "owner": {"reputation": 217, "user_id": 7665222, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6b9ee5be4eb0adc5eea60a8e086510f7?s=128&d=identicon&r=PG&f=1", "display_name": "Java Dev Beginner", "link": "https://stackoverflow.com/users/7665222/java-dev-beginner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1746, "favorite_count": 0, "closed_date": 1571817160, "answer_count": 3, "score": 1, "last_activity_date": 1571818837, "creation_date": 1571815987, "last_edit_date": 1571816544, "question_id": 58517713, "link": "https://stackoverflow.com/questions/58517713/return-value-from-callback-in-typescript", "closed_reason": "Duplicate", "title": "Return value from callback in TypeScript", "body": "<p>I have a function in typescrypt in file Service.ts:</p>\n\n<pre><code>export const doCallAuth = (username, password) =&gt; {\n    var auth = new Auth({\n        url: '...',\n\n      });\n\n      var status;\n\n      auth.authenticate(username, password, function (err, user) {\n        if (err) {\n          console.log(err);\n          status = 'no';\n\n        } else if (!user.uid) {\n          console.log(\"user not found Error\");\n          status = 'no';\n        } else if (user.uid) {\n          console.log(\"success : user \" + user.uid + \" found \");\n          status = 'yes';\n        }\n      });\n\n      return status;\n}\n</code></pre>\n\n<p>I call this method by :</p>\n\n<pre><code>var result = Service.doCallAuth('test', 'test');\n</code></pre>\n\n<p><strong>And variable result is undefined</strong></p>\n\n<p>I don't know why <strong>result</strong> is undefined</p>\n\n<p>Can anybody help me out ?</p>\n\n<p>Thanks in advance. :)</p>\n"}, {"tags": ["javascript", "typescript", "openssl", "pem", "pfx"], "owner": {"reputation": 365, "user_id": 7739171, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7e9d959b3b935dad851facfce8de09f9?s=128&d=identicon&r=PG&f=1", "display_name": "Corene", "link": "https://stackoverflow.com/users/7739171/corene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1571871770, "creation_date": 1571815878, "last_edit_date": 1571871770, "question_id": 58517682, "link": "https://stackoverflow.com/questions/58517682/how-to-convert-pfx-certificate-to-pem-certificate-in-typescript-by-using-openss", "title": "How to convert PFX certificate to PEM certificate in TypeScript (by using openssl or any other package)?", "body": "<p>I'm working on converting a PFX certificate to PEM certificate and would like to use TypeScript to achieve above actions. I've researched about the some npm packages but none of them come across to me as a solution. Some packages could not be found in TypeScript etc...</p>\n\n<p>If there is no packages can do the conversion, I hope to find a package that can execute openssl command so I can execute the conversion command on it.</p>\n\n<p>Thank you for reading and appreciates if anyone could help! </p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 533, "user_id": 2456671, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/01283fda9e29795d3966017d9b6e4b47?s=128&d=identicon&r=PG", "display_name": "Mi\u0142osz Wieczorek", "link": "https://stackoverflow.com/users/2456671/mi%c5%82osz-wieczorek"}, "is_accepted": true, "score": 0, "last_activity_date": 1571817403, "creation_date": 1571817403, "answer_id": 58518126, "question_id": 58517407, "link": "https://stackoverflow.com/questions/58517407/access-children-in-angular/58518126#58518126", "title": "Access Children in Angular", "body": "<p>Generally you shouldn't \"talk to\" child components, but if you have to, use @ContentChild directive - <a href=\"https://angular.io/api/core/ContentChild\" rel=\"nofollow noreferrer\">https://angular.io/api/core/ContentChild</a> </p>\n\n<p>In your case you can control children selection in parent component, e.g. with property <code>selectedTab</code>.\nSo in parent component in you ts:</p>\n\n<pre><code>public selectedTab: 0;\npublic onTabSelected(value: number): void {\n    this.selectedTab = value;\n}\n</code></pre>\n\n<p>and in parent component in html:</p>\n\n<pre><code>&lt;section&gt;\n    &lt;app-child-tab isSelected=\"selectedTab === 0\" (tabClicked)=\"onTabSelected(0)\"&gt;\n    &lt;/app-child-tab&gt;\n    &lt;app-child-tab isSelected=\"selectedTab === 1\" (tabClicked)=\"onTabSelected(1)\"&gt;\n    &lt;/app-child-tab&gt;\n&lt;/section&gt;\n</code></pre>\n\n<p>In you child component you have to add EventEmitter:</p>\n\n<pre><code>export class ChildComponent {\n    @Output() tabClicked: EventEmitter&lt;void&gt; = new EventEmitter();\n\n    public click(): void {\n        this.tabClicked.emit();\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 308, "user_id": 4800494, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/3e630c5b5e404c23c3222efaf65aec5e?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Mehler", "link": "https://stackoverflow.com/users/4800494/sebastian-mehler"}, "edited": false, "score": 0, "creation_date": 1572243774, "post_id": 58575422, "comment_id": 103486535, "body": "Thanks for this answer. I know RxJS, Observables, Subjects etc. so far ;)"}], "tags": [], "owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "is_accepted": false, "score": 0, "last_activity_date": 1572131616, "creation_date": 1572131616, "answer_id": 58575422, "question_id": 58517407, "link": "https://stackoverflow.com/questions/58517407/access-children-in-angular/58575422#58575422", "title": "Access Children in Angular", "body": "<p>The most common way for parent and child to communicate is via a shared service, you have the parent provide the service in it's providers array and then the same instance of the service will be dependency injected into all the child components.</p>\n\n<p>The second method is for the child component the ask for the instance of the parent component in it's dependency list of it's constructor.</p>\n\n<p>Either way you expose methods from either the service or the parent component and observables, usually a behavior subject that can be subscribed to.</p>\n\n<p>If you don't know what I mean by observables or behavior subjects then you are not ready to be learning Angular just yet. If so pause you Angular journey for a day or two and come back after you have a sound understanding of the fundamentals of RxJs as Angular is heavily built upon RxJs. Go read up on Subjects, Behavior Subjects and the RxJs operators.</p>\n"}], "owner": {"reputation": 308, "user_id": 4800494, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/3e630c5b5e404c23c3222efaf65aec5e?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Mehler", "link": "https://stackoverflow.com/users/4800494/sebastian-mehler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 58518126, "answer_count": 2, "score": 1, "last_activity_date": 1572131616, "creation_date": 1571814975, "last_edit_date": 1572124591, "question_id": 58517407, "link": "https://stackoverflow.com/questions/58517407/access-children-in-angular", "title": "Access Children in Angular", "body": "<p>We want to write a little tab component in Angular.</p>\n\n<p>I wrote a component like this:</p>\n\n<pre><code>&lt;portal-flex-grid-tab-bar&gt;\n  &lt;portal-flex-grid-tab TabName=\"Apotheke\" TabIdentifier=\"Apotheke\"  TabSelected=\"true\" (TabClicked)=\"OnTabClick(0)\"&gt;&lt;/portal-flex-grid-tab&gt;\n  &lt;portal-flex-grid-tab TabName=\"Bundesland\" TabIdentifier=\"Bundesland\"  (TabClicked)=\"OnTabClick(1)\"&gt;&lt;/portal-flex-grid-tab&gt;\n  &lt;portal-flex-grid-tab TabName=\"ARZ Einzugsgebiet\" TabIdentifier=\"ARZ\"  (TabClicked)=\"OnTabClick(2)\"&gt;&lt;/portal-flex-grid-tab&gt;\n&lt;/portal-flex-grid-tab-bar&gt;\n</code></pre>\n\n<p>We want to offer the Tab Bar and clicked event which returns the identifier of the clicked tab. If a tab is clicked (selected) we want to deselect the other tabs.</p>\n\n<p>To achieve this goal, we need a way for the parent to talk with his children components and the other way around we need the tabs to send an event to the tab bar. How can we achieve this goal? We would be glad for any ideas as we are starters in Angular.</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 41460, "user_id": 2310289, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PO7Uz.jpg?s=128&g=1", "display_name": "Scary Wombat", "link": "https://stackoverflow.com/users/2310289/scary-wombat"}, "edited": false, "score": 1, "creation_date": 1571815001, "post_id": 58517402, "comment_id": 103361056, "body": "First figure out what language you want to use."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1571815217, "post_id": 58517402, "comment_id": 103361166, "body": "<code>let flag; switch (flag) {</code> you never assign flag, so you&#39;re switching <code>undefined</code>. Also, check exactly how a switch statement is to be used. You <i>can</i> do what you are trying here, but it&#39;s a very bad practice. You most likely want an <code>if&#47;else</code> chain."}], "answers": [{"tags": [], "owner": {"reputation": 458, "user_id": 8556874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ec3f0c2a4d2ed81e5f668e3784017cc?s=128&d=identicon&r=PG", "display_name": "mohsen saremi", "link": "https://stackoverflow.com/users/8556874/mohsen-saremi"}, "is_accepted": false, "score": 0, "last_activity_date": 1571816206, "creation_date": 1571816206, "answer_id": 58517777, "question_id": 58517402, "link": "https://stackoverflow.com/questions/58517402/message-would-not-displayed-based-on-tim/58517777#58517777", "title": "Message would not displayed based on tim", "body": "<p>The <code>flag</code> variable is <code>undefined</code> and always execute <code>default</code> case</p>\n\n<p>You should use <code>if else</code> statement instead of <code>switch</code></p>\n\n<pre><code>if(totalSeconds &gt;= 0 &amp;&amp; totalSeconds &lt;= 43199)\n{\n    msg = \"Good morning \" + value;\n}\nelse if(totalSeconds &gt;= 43200 &amp;&amp; totalSeconds &lt;= 53999)\n{\n    msg = \"Good Afternon \" + value;\n}\nelse {\n    msg = \"good evening \" + value;\n}\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 11713814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58046c74c35f210240502187fa2ef62c?s=128&d=identicon&r=PG&f=1", "display_name": "DevSantosh", "link": "https://stackoverflow.com/users/11713814/devsantosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1571816953, "creation_date": 1571814955, "last_edit_date": 1571816953, "question_id": 58517402, "link": "https://stackoverflow.com/questions/58517402/message-would-not-displayed-based-on-tim", "title": "Message would not displayed based on tim", "body": "<p>I tried to display text on the screen base on the time.</p>\n\n<p>example : </p>\n\n<p>if current time is 12:30 output should be \"good after-non Jonh\" but in my code something wrong i.e. after 12 pm output default expression . i am not able to find the problem please help me . </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let today = new Date();\r\nlet hours = today.getHours();\r\nlet mins = today.getMinutes();\r\nlet seconds = today.getSeconds();\r\nlet totalSeconds = hours * 60 * 60 + mins * 60 + seconds;\r\nlet msg = \"\";\r\nlet flag;\r\nswitch (flag) {\r\n  case totalSeconds &gt;= 0 &amp;&amp; totalSeconds &lt;= 43199:\r\n    msg = \"Good morning \" + value;\r\n    break;\r\n  case totalSeconds &gt;= 43200 &amp;&amp; totalSeconds &lt;= 53999:\r\n    msg = \"Good Afternon \" + value;\r\n    break;\r\n  default:\r\n    msg = \"good evening \" + value;\r\n    break;\r\n}\r\nreturn msg;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 3340, "user_id": 9722122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/adlMx.png?s=128&g=1", "display_name": "Mustahsan", "link": "https://stackoverflow.com/users/9722122/mustahsan"}, "is_accepted": false, "score": 0, "last_activity_date": 1571814820, "creation_date": 1571814820, "answer_id": 58517359, "question_id": 58517252, "link": "https://stackoverflow.com/questions/58517252/how-to-replace-the-values-of-a-variable-to-a-sample-data-in-a-textarea-in-angula/58517359#58517359", "title": "How to replace the values of a Variable to a sample data in a textarea in angular?", "body": "<p>You can use <code>Interpolation</code> like this:</p>\n\n<pre><code>&lt;textarea rows=\"4\" cols=\"50\"&gt;\nGood morning {{$firstName}} {{$lastName}}. The date today is {{$date}}\n&lt;/textarea&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1894, "user_id": 6850994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/41c03a52caf073aacaeb3f5a371f05d5?s=128&d=identicon&r=PG&f=1", "display_name": "Poldo", "link": "https://stackoverflow.com/users/6850994/poldo"}, "is_accepted": false, "score": 0, "last_activity_date": 1571814848, "creation_date": 1571814848, "answer_id": 58517366, "question_id": 58517252, "link": "https://stackoverflow.com/questions/58517252/how-to-replace-the-values-of-a-variable-to-a-sample-data-in-a-textarea-in-angula/58517366#58517366", "title": "How to replace the values of a Variable to a sample data in a textarea in angular?", "body": "<p>You can use Template Literals backticks (``)</p>\n\n<pre><code>const output = `Good morning ${$firstName} ${$lastName}. The date today is ${$date}`\n</code></pre>\n\n<p>Read documentation here: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals</a></p>\n"}, {"comments": [{"owner": {"reputation": 870, "user_id": 5741227, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1d13cf5faeab09d5f2f41222a9ecf3e9?s=128&d=identicon&r=PG", "display_name": "iamjoshua", "link": "https://stackoverflow.com/users/5741227/iamjoshua"}, "edited": false, "score": 0, "creation_date": 1571816052, "post_id": 58517426, "comment_id": 103361568, "body": "I&#39;m not yet familiar with the templating in angular. So I&#39;m confused. So, how do I make sure that the variables are exchanged with the proper sample data that is encoded in the typescript file/component?."}, {"owner": {"reputation": 847, "user_id": 2310216, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/325d022a1483f2261d42a8bde06c31ec?s=128&d=identicon&r=PG&f=1", "display_name": "Muhamamd Omar Muneer", "link": "https://stackoverflow.com/users/2310216/muhamamd-omar-muneer"}, "reply_to_user": {"reputation": 870, "user_id": 5741227, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1d13cf5faeab09d5f2f41222a9ecf3e9?s=128&d=identicon&r=PG", "display_name": "iamjoshua", "link": "https://stackoverflow.com/users/5741227/iamjoshua"}, "edited": false, "score": 0, "creation_date": 1571819139, "post_id": 58517426, "comment_id": 103363041, "body": "data is two-way bind between html and component. If you set any value in the component, that value will be available in html so, vise Versa."}, {"owner": {"reputation": 870, "user_id": 5741227, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1d13cf5faeab09d5f2f41222a9ecf3e9?s=128&d=identicon&r=PG", "display_name": "iamjoshua", "link": "https://stackoverflow.com/users/5741227/iamjoshua"}, "edited": false, "score": 0, "creation_date": 1571819949, "post_id": 58517426, "comment_id": 103363449, "body": "Can you show a live working example of this?. I can&#39;t quite grasp how this works stil and how it gets the values of the variable in the typescript file."}], "tags": [], "owner": {"reputation": 847, "user_id": 2310216, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/325d022a1483f2261d42a8bde06c31ec?s=128&d=identicon&r=PG&f=1", "display_name": "Muhamamd Omar Muneer", "link": "https://stackoverflow.com/users/2310216/muhamamd-omar-muneer"}, "is_accepted": false, "score": 0, "last_activity_date": 1571892151, "last_edit_date": 1571892151, "creation_date": 1571815047, "answer_id": 58517426, "question_id": 58517252, "link": "https://stackoverflow.com/questions/58517252/how-to-replace-the-values-of-a-variable-to-a-sample-data-in-a-textarea-in-angula/58517426#58517426", "title": "How to replace the values of a Variable to a sample data in a textarea in angular?", "body": "<p>Template literals are string literals allowing embedded expressions\nIn component, </p>\n\n<pre><code>tempalte = `Good morning ${$firstName} ${$lastName}. The date today is ${$date}`\n</code></pre>\n\n<p>In html you can add</p>\n\n<pre><code>&lt;textarea [(ngModel)]='tempalte '&gt;&lt;/textarea&gt;\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-xmejbs\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-xmejbs</a><a href=\"https://stackblitz.com/edit/angular-xmejbs\" rel=\"nofollow noreferrer\">stackblitz</a></p>\n"}], "owner": {"reputation": 870, "user_id": 5741227, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1d13cf5faeab09d5f2f41222a9ecf3e9?s=128&d=identicon&r=PG", "display_name": "iamjoshua", "link": "https://stackoverflow.com/users/5741227/iamjoshua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1571892151, "creation_date": 1571814461, "last_edit_date": 1571815684, "question_id": 58517252, "link": "https://stackoverflow.com/questions/58517252/how-to-replace-the-values-of-a-variable-to-a-sample-data-in-a-textarea-in-angula", "title": "How to replace the values of a Variable to a sample data in a textarea in angular?", "body": "<p>So I have a textarea, I could get the ff. values in the text area.</p>\n\n<pre><code>Good morning $firstName $lastName. The date today is $date\n</code></pre>\n\n<p>How do a replace the variables $firstName $lastName and $date with a sample data stored in a variable of my component. i.e</p>\n\n<pre><code>$firstName = \"John\"\n$lastName = \"Doe\"\n$date = \"October 23, 2019\"\n</code></pre>\n\n<p>and make it have a final output of </p>\n\n<pre><code>Good morning John Doe. The date today is October 23, 2019.\n</code></pre>\n\n<p>.....</p>\n\n<p>Could this be achhieve using angular features. How do I do this in typescript ?</p>\n\n<p>I do however have an idea how to implement this in javascript, just not in a Typescript.</p>\n"}, {"tags": ["node.js", "typescript", "angular6"], "comments": [{"owner": {"reputation": 1029, "user_id": 1712016, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f7eb911bb909e27aa3ad61c31583fb4?s=128&d=identicon&r=PG", "display_name": "phonemyatt", "link": "https://stackoverflow.com/users/1712016/phonemyatt"}, "edited": false, "score": 0, "creation_date": 1571814294, "post_id": 58517126, "comment_id": 103360702, "body": "the thing is target.queryselector won&#39;t work in angular 6, rather you need ngmodel to bind to variable in html. Another way is use HTMLInputElement which is built in module similar to queryselector"}, {"owner": {"reputation": 313, "user_id": 11826356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lPVFYwMpti4/AAAAAAAAAAI/AAAAAAAAC6M/UmXbmjQbYq0/photo.jpg?sz=128", "display_name": "Kyle Mutta", "link": "https://stackoverflow.com/users/11826356/kyle-mutta"}, "reply_to_user": {"reputation": 1029, "user_id": 1712016, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f7eb911bb909e27aa3ad61c31583fb4?s=128&d=identicon&r=PG", "display_name": "phonemyatt", "link": "https://stackoverflow.com/users/1712016/phonemyatt"}, "edited": false, "score": 0, "creation_date": 1571814413, "post_id": 58517126, "comment_id": 103360772, "body": "@phonemyatt no that one works fine i can even see what i subimtted on my console browser i think that shouldnt be the problem or what are u suggesting friend"}, {"owner": {"reputation": 1029, "user_id": 1712016, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f7eb911bb909e27aa3ad61c31583fb4?s=128&d=identicon&r=PG", "display_name": "phonemyatt", "link": "https://stackoverflow.com/users/1712016/phonemyatt"}, "edited": false, "score": 0, "creation_date": 1571814815, "post_id": 58517126, "comment_id": 103360966, "body": "if that&#39;s the case, what do you get in console when u receive the data? Maybe you need to check your if statement if(this.Auth.isAuthenticated(),data.token)"}, {"owner": {"reputation": 313, "user_id": 11826356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lPVFYwMpti4/AAAAAAAAAAI/AAAAAAAAC6M/UmXbmjQbYq0/photo.jpg?sz=128", "display_name": "Kyle Mutta", "link": "https://stackoverflow.com/users/11826356/kyle-mutta"}, "reply_to_user": {"reputation": 1029, "user_id": 1712016, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f7eb911bb909e27aa3ad61c31583fb4?s=128&d=identicon&r=PG", "display_name": "phonemyatt", "link": "https://stackoverflow.com/users/1712016/phonemyatt"}, "edited": false, "score": 0, "creation_date": 1571815050, "post_id": 58517126, "comment_id": 103361083, "body": "i get the the email and password which is the auth already but i cant navigate after that"}, {"owner": {"reputation": 1029, "user_id": 1712016, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f7eb911bb909e27aa3ad61c31583fb4?s=128&d=identicon&r=PG", "display_name": "phonemyatt", "link": "https://stackoverflow.com/users/1712016/phonemyatt"}, "edited": false, "score": 0, "creation_date": 1571815793, "post_id": 58517126, "comment_id": 103361423, "body": "you don&#39;t see any error because angular require to pipe with catcherror method from rxjs/operators. you can catch HttpErrorResponse like &quot;<a href=\"https://stackoverflow.com/questions/46018259/angular-4-observable-catch-error\" title=\"angular 4 observable catch error\">stackoverflow.com/questions/46018259/&hellip;</a>&quot;. I suspect your getUserDetails body parameter is not correct. it suppose to be object"}, {"owner": {"reputation": 313, "user_id": 11826356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lPVFYwMpti4/AAAAAAAAAAI/AAAAAAAAC6M/UmXbmjQbYq0/photo.jpg?sz=128", "display_name": "Kyle Mutta", "link": "https://stackoverflow.com/users/11826356/kyle-mutta"}, "reply_to_user": {"reputation": 1029, "user_id": 1712016, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f7eb911bb909e27aa3ad61c31583fb4?s=128&d=identicon&r=PG", "display_name": "phonemyatt", "link": "https://stackoverflow.com/users/1712016/phonemyatt"}, "edited": false, "score": 0, "creation_date": 1571815849, "post_id": 58517126, "comment_id": 103361457, "body": "can you help me with that please brother @phonemyatt"}, {"owner": {"reputation": 1029, "user_id": 1712016, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f7eb911bb909e27aa3ad61c31583fb4?s=128&d=identicon&r=PG", "display_name": "phonemyatt", "link": "https://stackoverflow.com/users/1712016/phonemyatt"}, "edited": false, "score": 0, "creation_date": 1571815921, "post_id": 58517126, "comment_id": 103361492, "body": "In your authservice, add // private handleError(error: HttpErrorResponse) {console.log(error);} and // getUserDetails(email: String,password:String){      //post these details to the database     return this.http.post&lt;myData&gt;(<code>${this.uri}&#47;auth</code>,{ email,password}).pipe(catchError(this.handleError));   } and import { catchError } from &#39;rxjs/operators&#39;; then tell me what is the error in console."}, {"owner": {"reputation": 313, "user_id": 11826356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lPVFYwMpti4/AAAAAAAAAAI/AAAAAAAAC6M/UmXbmjQbYq0/photo.jpg?sz=128", "display_name": "Kyle Mutta", "link": "https://stackoverflow.com/users/11826356/kyle-mutta"}, "reply_to_user": {"reputation": 1029, "user_id": 1712016, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f7eb911bb909e27aa3ad61c31583fb4?s=128&d=identicon&r=PG", "display_name": "phonemyatt", "link": "https://stackoverflow.com/users/1712016/phonemyatt"}, "edited": false, "score": 0, "creation_date": 1571816120, "post_id": 58517126, "comment_id": 103361591, "body": "okay brother am on it"}, {"owner": {"reputation": 1029, "user_id": 1712016, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f7eb911bb909e27aa3ad61c31583fb4?s=128&d=identicon&r=PG", "display_name": "phonemyatt", "link": "https://stackoverflow.com/users/1712016/phonemyatt"}, "edited": false, "score": 0, "creation_date": 1571819554, "post_id": 58517126, "comment_id": 103363257, "body": "try this &quot;return this.http.post&lt;myData&gt;(<code>${this.uri}&#47;auth</code>,{ email: email, password: password});&quot;"}, {"owner": {"reputation": 313, "user_id": 11826356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lPVFYwMpti4/AAAAAAAAAAI/AAAAAAAAC6M/UmXbmjQbYq0/photo.jpg?sz=128", "display_name": "Kyle Mutta", "link": "https://stackoverflow.com/users/11826356/kyle-mutta"}, "reply_to_user": {"reputation": 1029, "user_id": 1712016, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f7eb911bb909e27aa3ad61c31583fb4?s=128&d=identicon&r=PG", "display_name": "phonemyatt", "link": "https://stackoverflow.com/users/1712016/phonemyatt"}, "edited": false, "score": 0, "creation_date": 1571820690, "post_id": 58517126, "comment_id": 103363821, "body": "@phonemyatt i cant still navigate inspite of receiving the token"}, {"owner": {"reputation": 1029, "user_id": 1712016, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f7eb911bb909e27aa3ad61c31583fb4?s=128&d=identicon&r=PG", "display_name": "phonemyatt", "link": "https://stackoverflow.com/users/1712016/phonemyatt"}, "edited": false, "score": 0, "creation_date": 1571822362, "post_id": 58517126, "comment_id": 103364698, "body": "what&#39;s your router module look like? what&#39;s your route with auth guard and roles?"}, {"owner": {"reputation": 313, "user_id": 11826356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lPVFYwMpti4/AAAAAAAAAAI/AAAAAAAAC6M/UmXbmjQbYq0/photo.jpg?sz=128", "display_name": "Kyle Mutta", "link": "https://stackoverflow.com/users/11826356/kyle-mutta"}, "reply_to_user": {"reputation": 1029, "user_id": 1712016, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f7eb911bb909e27aa3ad61c31583fb4?s=128&d=identicon&r=PG", "display_name": "phonemyatt", "link": "https://stackoverflow.com/users/1712016/phonemyatt"}, "edited": false, "score": 0, "creation_date": 1571822965, "post_id": 58517126, "comment_id": 103365034, "body": "the files are all there brother the auth.gurad.role guard and the module too"}], "answers": [{"comments": [{"owner": {"reputation": 313, "user_id": 11826356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lPVFYwMpti4/AAAAAAAAAAI/AAAAAAAAC6M/UmXbmjQbYq0/photo.jpg?sz=128", "display_name": "Kyle Mutta", "link": "https://stackoverflow.com/users/11826356/kyle-mutta"}, "edited": false, "score": 0, "creation_date": 1571817215, "post_id": 58517986, "comment_id": 103362127, "body": "where exactly should put that statement brother"}, {"owner": {"reputation": 313, "user_id": 11826356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lPVFYwMpti4/AAAAAAAAAAI/AAAAAAAAC6M/UmXbmjQbYq0/photo.jpg?sz=128", "display_name": "Kyle Mutta", "link": "https://stackoverflow.com/users/11826356/kyle-mutta"}, "edited": false, "score": 0, "creation_date": 1571818576, "post_id": 58517986, "comment_id": 103362774, "body": "the problem still persists brother"}, {"owner": {"reputation": 313, "user_id": 11826356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lPVFYwMpti4/AAAAAAAAAAI/AAAAAAAAC6M/UmXbmjQbYq0/photo.jpg?sz=128", "display_name": "Kyle Mutta", "link": "https://stackoverflow.com/users/11826356/kyle-mutta"}, "edited": false, "score": 0, "creation_date": 1571846019, "post_id": 58517986, "comment_id": 103377876, "body": "heloow could you help me please"}, {"owner": {"reputation": 2346, "user_id": 993328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3012905df3539f948994f218db07423?s=128&d=identicon&r=PG", "display_name": "GaurangDhorda", "link": "https://stackoverflow.com/users/993328/gaurangdhorda"}, "reply_to_user": {"reputation": 313, "user_id": 11826356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lPVFYwMpti4/AAAAAAAAAAI/AAAAAAAAC6M/UmXbmjQbYq0/photo.jpg?sz=128", "display_name": "Kyle Mutta", "link": "https://stackoverflow.com/users/11826356/kyle-mutta"}, "edited": false, "score": 0, "creation_date": 1571850406, "post_id": 58517986, "comment_id": 103379895, "body": "may be you need canActivateChild() in auth.guard.ts because you are using AppRouter.forChild() in your app.module file."}, {"owner": {"reputation": 2346, "user_id": 993328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3012905df3539f948994f218db07423?s=128&d=identicon&r=PG", "display_name": "GaurangDhorda", "link": "https://stackoverflow.com/users/993328/gaurangdhorda"}, "reply_to_user": {"reputation": 313, "user_id": 11826356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lPVFYwMpti4/AAAAAAAAAAI/AAAAAAAAC6M/UmXbmjQbYq0/photo.jpg?sz=128", "display_name": "Kyle Mutta", "link": "https://stackoverflow.com/users/11826356/kyle-mutta"}, "edited": false, "score": 0, "creation_date": 1571850994, "post_id": 58517986, "comment_id": 103380177, "body": "And put this {path: &#39;&#39;, redirectTo: &#39;login&#39;,  pathMatch: &#39;full&#39;} to first and {path: &#39;**&#39;, redirectTo: &#39;pageNotFound&#39; } route to last in sequence."}, {"owner": {"reputation": 313, "user_id": 11826356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lPVFYwMpti4/AAAAAAAAAAI/AAAAAAAAC6M/UmXbmjQbYq0/photo.jpg?sz=128", "display_name": "Kyle Mutta", "link": "https://stackoverflow.com/users/11826356/kyle-mutta"}, "edited": false, "score": 0, "creation_date": 1571865220, "post_id": 58517986, "comment_id": 103385937, "body": "still facing the problem cant navigate to specidific page"}], "tags": [], "owner": {"reputation": 2346, "user_id": 993328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3012905df3539f948994f218db07423?s=128&d=identicon&r=PG", "display_name": "GaurangDhorda", "link": "https://stackoverflow.com/users/993328/gaurangdhorda"}, "is_accepted": false, "score": 0, "last_activity_date": 1571816861, "creation_date": 1571816861, "answer_id": 58517986, "question_id": 58517126, "link": "https://stackoverflow.com/questions/58517126/navigate-to-the-specific-page-after-implementing-role-base-authorisation-in-my-a/58517986#58517986", "title": "Navigate to the specific page after implementing role base authorisation in my Angular 6", "body": "<p>change this <code>this.router.navigate(['login']);</code> to <code>this.router.navigate(['/login']);</code></p>\n\n<ul>\n<li><p>You can use dynamic navigate style like this.</p>\n\n<pre><code>     this.router.navigate(['/'], {relativeTo: this.activatedRouter});\n</code></pre>\n\n<ul>\n<li><p>in your connstructor out this.</p>\n\n<pre><code> constructor (private activatedRouter: ActivatedRoute)\n</code></pre></li>\n</ul></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 313, "user_id": 11826356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lPVFYwMpti4/AAAAAAAAAAI/AAAAAAAAC6M/UmXbmjQbYq0/photo.jpg?sz=128", "display_name": "Kyle Mutta", "link": "https://stackoverflow.com/users/11826356/kyle-mutta"}, "edited": false, "score": 0, "creation_date": 1571845783, "post_id": 58520849, "comment_id": 103377762, "body": "thanks brother but am still stuck dont know whats the problem exactly"}, {"owner": {"reputation": 313, "user_id": 11826356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lPVFYwMpti4/AAAAAAAAAAI/AAAAAAAAC6M/UmXbmjQbYq0/photo.jpg?sz=128", "display_name": "Kyle Mutta", "link": "https://stackoverflow.com/users/11826356/kyle-mutta"}, "edited": false, "score": 0, "creation_date": 1571846054, "post_id": 58520849, "comment_id": 103377890, "body": "cou;d we reach more [eople of my problem so that they can be of many help"}, {"owner": {"reputation": 1029, "user_id": 1712016, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f7eb911bb909e27aa3ad61c31583fb4?s=128&d=identicon&r=PG", "display_name": "phonemyatt", "link": "https://stackoverflow.com/users/1712016/phonemyatt"}, "reply_to_user": {"reputation": 313, "user_id": 11826356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lPVFYwMpti4/AAAAAAAAAAI/AAAAAAAAC6M/UmXbmjQbYq0/photo.jpg?sz=128", "display_name": "Kyle Mutta", "link": "https://stackoverflow.com/users/11826356/kyle-mutta"}, "edited": false, "score": 1, "creation_date": 1571880618, "post_id": 58520849, "comment_id": 103389264, "body": "@KyleMutta, if you can recreate exact same problem in stackblitz, more people can help you."}], "tags": [], "owner": {"reputation": 1029, "user_id": 1712016, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f7eb911bb909e27aa3ad61c31583fb4?s=128&d=identicon&r=PG", "display_name": "phonemyatt", "link": "https://stackoverflow.com/users/1712016/phonemyatt"}, "is_accepted": false, "score": 0, "last_activity_date": 1571827035, "last_edit_date": 1571827035, "creation_date": 1571826695, "answer_id": 58520849, "question_id": 58517126, "link": "https://stackoverflow.com/questions/58517126/navigate-to-the-specific-page-after-implementing-role-base-authorisation-in-my-a/58520849#58520849", "title": "Navigate to the specific page after implementing role base authorisation in my Angular 6", "body": "<p>I am not sure what is wrong. but this part is to navigate to your route.</p>\n\n<pre><code> this.Auth.getUserDetails(email,password).subscribe(data =&gt;{\n        if(this.Auth.isAuthenticated(data.token))\n        {\n         localStorage.setItem('token',data.token);\n         this.router.navigate(['your-route']);\n        }\n      });\n</code></pre>\n\n<p>And roles are actually array. so in role guard</p>\n\n<pre><code>canActivate(\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable&lt;boolean | UrlTree&gt; | Promise&lt;boolean | UrlTree&gt; | boolean | UrlTree {\n\n    // this will be passed from the route config\n    // on the data property\n    const admintype = route.data.admintype;\n    const token = localStorage.getItem('token');\n    // decode the token to get its payload\n    const tokenPayload = decode(token);\n    if (\n      !this.auth.isAuthenticated() || \n      (tokenPayload.role &amp;&amp; tokenPayload.role.indexof(admintype) === -1)  // This part may be giving some problem?\n    ) {\n      this.router.navigate(['login']);\n      return false;\n    }    \n    return true;\n  }\n</code></pre>\n\n<p>you should check which of this getUserDetails or canActivate in role guard fire first. Because login flow should start in this way.</p>\n\n<ol>\n<li>key in username and password</li>\n<li>press login</li>\n<li>fire login service and subscribe</li>\n<li>login success, save auth token</li>\n<li>route to desired page which trigger role guard</li>\n</ol>\n"}], "owner": {"reputation": 313, "user_id": 11826356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lPVFYwMpti4/AAAAAAAAAAI/AAAAAAAAC6M/UmXbmjQbYq0/photo.jpg?sz=128", "display_name": "Kyle Mutta", "link": "https://stackoverflow.com/users/11826356/kyle-mutta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1571846516, "creation_date": 1571813984, "last_edit_date": 1571846516, "question_id": 58517126, "link": "https://stackoverflow.com/questions/58517126/navigate-to-the-specific-page-after-implementing-role-base-authorisation-in-my-a", "title": "Navigate to the specific page after implementing role base authorisation in my Angular 6", "body": "<p>I have created a frontend using Angular 6 and I want role based authorisation and have implemented using JWT helper-service. Unfortunately I can't navigate to the specific page after successfully authorising, I have tried several ways but I can't get the right solution please help me. I am a newbie in angular everything seems to work fine but on navigating to the specific page is where the problem come along.</p>\n\n<p><em>login.componet.ts</em></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { AuthService } from 'src/app/auth.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n\n  constructor(private Auth: AuthService,private router: Router) { }\n\n  ngOnInit() {\n  }\n  loginUser(event)\n  {\n    event.preventDefault()\n    const target = event.target\n    const email= target.querySelector('#email').value\n    const password = target.querySelector('#password').value\n\n     this.Auth.getUserDetails(email,password).subscribe(data =&gt;{\n       if(this.Auth.isAuthenticated(),data.token)\n       {\n        localStorage.setItem('token',data.token);\n\n         return true;\n       }\n\n       else\n       {\n         window.alert(data.message);\n       }\n     });\n     console.log(email,password)\n  }\n\n}\n</code></pre>\n\n<p><em>role.guard.ts</em></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { AuthService } from './auth.service';\nimport decode from 'jwt-decode';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RoleGuard implements CanActivate {\n\n  constructor( public auth: AuthService,public router: Router) {}\n  canActivate(\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable&lt;boolean | UrlTree&gt; | Promise&lt;boolean | UrlTree&gt; | boolean | UrlTree {\n\n    // this will be passed from the route config\n    // on the data property\n    const admintype = route.data.admintype;\n    const token = localStorage.getItem('token');\n    // decode the token to get its payload\n    const tokenPayload = decode(token);\n    if (\n      !this.auth.isAuthenticated() || \n      tokenPayload.role !== admintype\n    ) {\n      this.router.navigate(['login']);\n      return false;\n    }    \n    return true;\n  }\n\n}\n</code></pre>\n\n<p><em>auth.guard.ts</em></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { AuthService } from './auth.service';\nimport { UserService } from './user.service';\nimport { map } from 'rxjs/operators';\nimport { Router } from '@angular/router'\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuard implements CanActivate {\n\n  constructor(private auth: AuthService,private router:Router, private user: UserService)\n  {\n\n  }\n\n  canActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable&lt;boolean | UrlTree&gt; | Promise&lt;boolean | UrlTree&gt; | boolean | UrlTree {\n\n      if (!this.auth.isAuthenticated()) {\n        this.router.navigate(['login']);\n        return false;\n      }\n\n        return true    \n    }\n\n}\n</code></pre>\n\n<p><em>Auth.service.ts</em></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport{ HttpClient } from '@angular/common/http';\nimport { JwtHelperService } from '@auth0/angular-jwt';\ninterface myData\n{\n  success:boolean,\n  message: string,\n  token:\"token\"\n\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n  uri : String = 'http://localhost:4000';\n\n  private jwtHelper = new JwtHelperService();\n\n  constructor(private http: HttpClient) { }\n\n  public isAuthenticated(): boolean {\n    const token = localStorage.getItem('token');\n    // Check whether the token is expired and return\n    // true or false\n\n    if(token==null)\n    {\n      return false;\n    }\n    else{\n       return !this.jwtHelper.isTokenExpired(token)\n\n    }\n  }\n\n\n  getUserDetails(email: String,password:String){\n\n    //post these details to the database\n    return this.http.post&lt;myData&gt;(`${this.uri}/auth`,{ email,password});\n  }\n\n    signupadminsections(email:String,password:String,name:String,admintype:String,college:String,department:String)\n  {\n    //add new admin section\n    return this.http.post(`${this.uri}/register`,{ email,password,name,admintype,college,department});\n  }\n\n}\n</code></pre>\n\n<p><em>app.module.ts</em></p>\n\n<pre><code>import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule, Component } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { AuthGuard } from './auth.guard';\nimport { HttpClientModule } from '@angular/common/http';\nimport { MatTableModule, MatInputModule, MatSelectModule} from '@angular/material'\nimport { RoleGuard } from './role.guard'\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { HomeComponent } from './components/home/home.component';\nimport { LoginComponent } from './components/login/login.component';\nimport { AdmindashboardComponent } from './components/admindashboard/admindashboard.component';\nimport { AuthService } from './auth.service';\nimport { UserService } from './user.service';\nimport { ViewallstudentsComponent } from './components/viewallstudents/viewallstudents.component';\nimport { AdminComponent } from './components/admin/admin.component';\nimport { AddsectionadminsComponent } from './components/addsectionadmins/addsectionadmins.component';\nimport { PagenotfoundComponent } from './components/pagenotfound/pagenotfound.component';\nimport { from } from 'rxjs';\nimport { JwtHelperService, JwtModule } from '@auth0/angular-jwt';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    HomeComponent,\n    LoginComponent,\n    AdmindashboardComponent,\n    ViewallstudentsComponent,\n    AdminComponent,\n    AddsectionadminsComponent,\n    PagenotfoundComponent\n  ],\n  imports: [\n    JwtModule,\n    MatSelectModule,\n    MatTableModule,\n    MatInputModule,\n    BrowserModule,\n    HttpClientModule,\n    AppRoutingModule,\n    BrowserAnimationsModule,\n    RouterModule.forChild([\n      {\n        path: 'login',\n        component: LoginComponent\n\n      },\n      {\n        path: 'admin',\n        component:AdminComponent,\n        data:{\n          admintype:['admin']\n         },\n        canActivate :[RoleGuard],\n      },\n      {\n       path:'addsectionadmin',\n       component:AddsectionadminsComponent,\n       data:{\n        admintype:['admin']\n       },\n       canActivate:[AuthGuard]\n      },\n      {\n        path: 'admindashboard',\n        component: AdmindashboardComponent,\n        data:{\n          admintype:['sectionadmin']\n         },\n        canActivate: [RoleGuard]\n      },\n      {\n         path:'viewallstudents',\n         component:ViewallstudentsComponent,\n         canActivate:[AuthGuard]\n      },\n      {\n        path:'**',redirectTo:'pageNotFound'\n      },\n      {\n        path:'',redirectTo:'login',pathMatch:'full'\n      }\n\n\n    ])\n  ],\n  providers: [ AuthGuard, UserService,AuthService,RoleGuard,JwtHelperService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }```\n\n\n\n\n*here is my schema in mngodb*\n\n\n```const mongoose = require('mongoose');\n\nconst ClearAdminSchema = new mongoose.Schema({\n    email:\n    {\n        type:String,\n        required:true,\n        trim:true\n    },\n    password:{\n        type:String,\n        required:true\n    },\n    name:{\n        type:String,\n        required:true,\n        trim:true\n\n    },\n    admintype:{\n        type:String,\n        type:String,\n        enum :['HOD','CICT','Sports','SUASAB','Admin']\n    },\n    university:{\n        type:String,\n        default:\"Sokoine University of Agriculture\"\n    },\n    college:{\n       type:String,\n       required:true\n    },\n    department:{\n        type:String,\n        required:true\n    }\n});\n\nconst ClearAdmin = mongoose.model('ClearAdmin', ClearAdminSchema);\nmodule.exports = ClearAdmin;\n</code></pre>\n\n<p>The output doesn't navigate to either specific routes every thing works fine but navigation is the problem and I don't see any error on my code</p>\n"}, {"tags": ["node.js", "typescript", "puppeteer"], "comments": [{"owner": {"reputation": 1475, "user_id": 2653603, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d6f46ca189781e798d4ece2a4723c8dc?s=128&d=identicon&r=PG", "display_name": "Roysh", "link": "https://stackoverflow.com/users/2653603/roysh"}, "edited": false, "score": 0, "creation_date": 1571827741, "post_id": 58516990, "comment_id": 103367546, "body": "While clicking on a tab - do you expect any certain element to appear? or maybe even certain text?"}], "answers": [{"comments": [{"owner": {"reputation": 199, "user_id": 6012170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/193d82cd76a0f836014eb440bda53926?s=128&d=identicon&r=PG&f=1", "display_name": "Cheng.T", "link": "https://stackoverflow.com/users/6012170/cheng-t"}, "edited": false, "score": 0, "creation_date": 1571831133, "post_id": 58521042, "comment_id": 103369337, "body": "those data in those tables  will be  fetched when form submit ,and all table&#39;s data will fetched. when i click a inactive tab, page will hidden current table, and display the table linked to the tab i clicked. so  table&#39;s content would not change. and page.waitForSelector()  what i meet is that  i wait for table&#39;s active structure(class ,attributes etc.) but, if there is a  table displayed , this wait-for-Method will return immediately.   thank you for your help!"}, {"owner": {"reputation": 431, "user_id": 1706846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oY89w.jpg?s=128&g=1", "display_name": "seasick", "link": "https://stackoverflow.com/users/1706846/seasick"}, "reply_to_user": {"reputation": 199, "user_id": 6012170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/193d82cd76a0f836014eb440bda53926?s=128&d=identicon&r=PG&f=1", "display_name": "Cheng.T", "link": "https://stackoverflow.com/users/6012170/cheng-t"}, "edited": false, "score": 0, "creation_date": 1571832545, "post_id": 58521042, "comment_id": 103370147, "body": "So every tab has the same structure and uses the same CSS classes? If not, you could use a different selector for every tab."}, {"owner": {"reputation": 431, "user_id": 1706846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oY89w.jpg?s=128&g=1", "display_name": "seasick", "link": "https://stackoverflow.com/users/1706846/seasick"}, "reply_to_user": {"reputation": 199, "user_id": 6012170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/193d82cd76a0f836014eb440bda53926?s=128&d=identicon&r=PG&f=1", "display_name": "Cheng.T", "link": "https://stackoverflow.com/users/6012170/cheng-t"}, "edited": false, "score": 0, "creation_date": 1571832670, "post_id": 58521042, "comment_id": 103370239, "body": "Since the data is static and available after form submission, you could also use <code>evaluate</code> to just manipulate the tab-tables in the DOM tree - I&#39;ll updated my answer accordingly"}, {"owner": {"reputation": 199, "user_id": 6012170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/193d82cd76a0f836014eb440bda53926?s=128&d=identicon&r=PG&f=1", "display_name": "Cheng.T", "link": "https://stackoverflow.com/users/6012170/cheng-t"}, "edited": false, "score": 0, "creation_date": 1571832954, "post_id": 58521042, "comment_id": 103370413, "body": "the only different is in-active / active (class name) , when i click a in-active tab, this in-active change to active, but table not changed immediately, it has a canvas animation, i do not know how to listen  animation event.  i am now working on changing dom element css directly by page.$$eval()."}], "tags": [], "owner": {"reputation": 431, "user_id": 1706846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oY89w.jpg?s=128&g=1", "display_name": "seasick", "link": "https://stackoverflow.com/users/1706846/seasick"}, "is_accepted": false, "score": 0, "last_activity_date": 1571832851, "last_edit_date": 1571832851, "creation_date": 1571827328, "answer_id": 58521042, "question_id": 58516990, "link": "https://stackoverflow.com/questions/58516990/puppeteer-trigger-for-navigation-tabs/58521042#58521042", "title": "Puppeteer trigger for navigation tabs", "body": "<p>If the data in those tabs is static, you could use <a href=\"https://github.com/GoogleChrome/puppeteer/blob/v1.20.0/docs/api.md#pagewaitforselectorselector-options\" rel=\"nofollow noreferrer\">page.waitForSelector</a> to wait for the correct selector to appear.</p>\n\n<p>Another way could be to use <a href=\"https://github.com/GoogleChrome/puppeteer/blob/v1.20.0/docs/api.md#pageevaluatepagefunction-args\" rel=\"nofollow noreferrer\">page.evaluate</a> to manipulate the tables in the tabs to add an <code>id</code> attribute which can be used for <em>page.waitForSelector</em>.</p>\n\n<p>If a HTTP request has to be done, you could listen to <a href=\"https://github.com/GoogleChrome/puppeteer/blob/v1.20.0/docs/api.md#event-response\" rel=\"nofollow noreferrer\"><em>response</em></a> events and look for those HTTP requests.</p>\n\n<p>Another (dirty) solution I can think of is to repeatedly check if the <em>innerHTML</em> of that table has changed.</p>\n"}], "owner": {"reputation": 199, "user_id": 6012170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/193d82cd76a0f836014eb440bda53926?s=128&d=identicon&r=PG&f=1", "display_name": "Cheng.T", "link": "https://stackoverflow.com/users/6012170/cheng-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 245, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571832851, "creation_date": 1571813431, "last_edit_date": 1571831924, "question_id": 58516990, "link": "https://stackoverflow.com/questions/58516990/puppeteer-trigger-for-navigation-tabs", "title": "Puppeteer trigger for navigation tabs", "body": "<p>I have a page which looks like this:\n<a href=\"https://i.stack.imgur.com/MPco1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MPco1.png\" alt=\"enter image description here\"></a></p>\n\n<p>I would like to do a screenshot with puppetee which should work as followed:</p>\n\n<ol>\n<li><p>A web page, the script will type a date into a date-range input, and click a button, and then data will be displayed.</p></li>\n<li><p>There are several tabs in this page (as can be seen in the red line box in the picture), every tab has a link link to a table which displays the  data. One tab per table.</p></li>\n<li><p>The screenshot content is this whole page and one of tabs and table . </p></li>\n<li><p>Click on another tab lead to table content smoothly change. the problem is that I do not know when this change is done? Is there any trigger provided by puppeteer?</p></li>\n</ol>\n\n<p>source code:</p>\n\n<pre><code>private async doScreenShotGlobal(page: puppeteer.Page, dayStartStr: string) {\n    const tabs = await page.$$('div.ant-tabs-tab');  // get tabs\n    this.logger.info(tabs.length);\nfor (let j = 1; j &lt;= tabs.length; j++) {  // process each tab\n\n    let activeTab = await page.waitFor(`selector path &gt; div:nth-child(${j})`);\n\n    await activeTab.click(); \n\n    await page.waitForSelector('.ant-table-row.ant-table-row-level-0', { visible: true, timeout: 30000 }); // wait for table to appear\n\n    await page.waitFor(1000); // i clicked another tab,but active tab does not change yet, so wait for 1000,but not work properly.\n\n    const globalName = await page.$$eval('div.ant-tabs-tab-active.ant-tabs-tab', nodes =&gt; nodes.map(n =&gt; n.innerHTML));\n    this.logger.info(j);\n    this.logger.info(globalName);\n    const fullName = `${this.saveMainpath}/${globalType}/${globalType}_${globalName}_${dayStartStr}.png`;\n    const table = await page.$('div.ant-tabs-tabpane.ant-tabs-tabpane-active');\n        if (table &amp;&amp; !fs.existsSync(fullName)) {\n\n          await this.shotOnFullPage(table, page, fullName); // to do screenshot\n\n        }\n        else {\n          // ...\n        }\n      }\n\n}\n  }\n</code></pre>\n\n<p>and my dependencies:</p>\n\n<pre><code>\"dependencies\": {\n    \"@types/node\": \"12.7.2\",\n    \"log4js\": \"5.0.0\",  \n    \"moment\": \"2.24.0\",\n    \"puppeteer-core\": \"1.19.0\",\n    \"merge-img\": \"2.1.3\"\n},\n\"devDependencies\": {\n    \"@types/puppeteer\":\"1.19.1\",\n    \"@types/puppeteer-core\":\"1.9.0\",\n    \"dayjs\":\"1.8.15\",\n    \"@types/minimist\":\"1.2.0\"\n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "css", "angular", "typescript"], "comments": [{"owner": {"reputation": 2143, "user_id": 5267487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f42ba8882b0bfb13fcd7d9d430b55e4d?s=128&d=identicon&r=PG", "display_name": "AvcS", "link": "https://stackoverflow.com/users/5267487/avcs"}, "edited": false, "score": 0, "creation_date": 1571812141, "post_id": 58516653, "comment_id": 103359646, "body": "Whats the problem here? are you getting an error or are you getting wrong values?"}, {"owner": {"reputation": 55, "user_id": 12014285, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gwl5X.png?s=128&g=1", "display_name": "Ronak Upadhyay", "link": "https://stackoverflow.com/users/12014285/ronak-upadhyay"}, "reply_to_user": {"reputation": 2143, "user_id": 5267487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f42ba8882b0bfb13fcd7d9d430b55e4d?s=128&d=identicon&r=PG", "display_name": "AvcS", "link": "https://stackoverflow.com/users/5267487/avcs"}, "edited": false, "score": 0, "creation_date": 1571812287, "post_id": 58516653, "comment_id": 103359709, "body": "when I reposition the box programmatically and then move it around, the x,y values are coming negative"}, {"owner": {"reputation": 719, "user_id": 2709298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ce0c9b4e011ade979eb87a47ded8263?s=128&d=identicon&r=PG&f=1", "display_name": "Kishita Variya", "link": "https://stackoverflow.com/users/2709298/kishita-variya"}, "edited": false, "score": 0, "creation_date": 1571812727, "post_id": 58516653, "comment_id": 103359895, "body": "I am facing the same issue"}, {"owner": {"reputation": 2143, "user_id": 5267487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f42ba8882b0bfb13fcd7d9d430b55e4d?s=128&d=identicon&r=PG", "display_name": "AvcS", "link": "https://stackoverflow.com/users/5267487/avcs"}, "edited": false, "score": 0, "creation_date": 1571820142, "post_id": 58516653, "comment_id": 103363558, "body": "Can you provide a fiddle or plunkr for this problem?"}], "answers": [{"tags": [], "owner": {"reputation": 2143, "user_id": 5267487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f42ba8882b0bfb13fcd7d9d430b55e4d?s=128&d=identicon&r=PG", "display_name": "AvcS", "link": "https://stackoverflow.com/users/5267487/avcs"}, "is_accepted": true, "score": 1, "last_activity_date": 1571947618, "last_edit_date": 1571947618, "creation_date": 1571822550, "answer_id": 58519571, "question_id": 58516653, "link": "https://stackoverflow.com/questions/58516653/find-relative-position-of-div-inside-another-div-ng-drag-drop/58519571#58519571", "title": "Find relative position of div inside another div (ng-drag-drop)", "body": "<p>When the position of an element is changed using css transform, the values of transform indicate the <code>position change</code> from its' <code>original position</code>.</p>\n\n<p>Also when an element is moved using transform, its' original position will never change, as the new position should always be calculated from <code>original position + change in position</code>.</p>\n\n<p>So if you can get the original position of the element, you can add the transform values to the original position values to get the current position.</p>\n\n<p>The below code will give you the current position of the element with respect to its' offsetParent.</p>\n\n<pre><code>dragEnd(event: CdkDragEnd) {\n  const element = event.source.element.nativeElement;\n  const transform = element.style.transform;\n  let regex = /translate3d\\(\\s?(?&lt;x&gt;[-]?\\d*)px,\\s?(?&lt;y&gt;[-]?\\d*)px,\\s?(?&lt;z&gt;[-]?\\d*)px\\)/;\n  var values = regex.exec(transform);\n  this.selectedElem.startX = element.offsetLeft + +values[1];\n  this.selectedElem.startY = element.offsetTop + +values[2];\n}\n</code></pre>\n\n<blockquote>\n  <p><strong>PS:</strong> <code>offsetParent = 'closest positioned parent' || document.body</code></p>\n</blockquote>\n"}], "owner": {"reputation": 55, "user_id": 12014285, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gwl5X.png?s=128&g=1", "display_name": "Ronak Upadhyay", "link": "https://stackoverflow.com/users/12014285/ronak-upadhyay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 58519571, "answer_count": 1, "score": 4, "last_activity_date": 1571947618, "creation_date": 1571811914, "last_edit_date": 1571814887, "question_id": 58516653, "link": "https://stackoverflow.com/questions/58516653/find-relative-position-of-div-inside-another-div-ng-drag-drop", "title": "Find relative position of div inside another div (ng-drag-drop)", "body": "<p>I am preparing a web app which allows user to design Identity cards.</p>\n\n<p>I am using <code>ng-drag-drop</code> <code>https://www.npmjs.com/package/ng-drag-drop</code> for the same.</p>\n\n<p>I wish to get co-ordinates of a <code>div</code> box inside a bigger <code>div</code> box. </p>\n\n<p>As per the image, I want <code>(x,y)</code> with respect to <code>outer div</code></p>\n\n<p>Things to achieve:</p>\n\n<ol>\n<li>place inner div at specific position inside div</li>\n<li>drag around -- fetch new co-ordinates</li>\n</ol>\n\n<p>Problem : when I reposition the box programmatically and then move it around, the x,y values are coming negative \u2013</p>\n\n<p><img src=\"https://i.stack.imgur.com/8PrQV.png\" alt=\"**Check the Image here**\"></p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div class=\"card-boundary\" #boundary&gt;\n        &lt;img width=\"1039\" height=\"673\" [ngStyle]=\"bgStyle\" /&gt;\n        &lt;div cdkDragLockAxis=\"elem.dragLock\" (cdkDragEnded)=\"dragEnd($event)\" (cdkDragStarted)=\"onElemClick(elem,$event)\" cdkDragBoundary=\".card-boundary\" cdkDrag *ngFor=\"let elem of elemList\" [ngClass]=\"{'example-box-selected':(selectedElem &amp;&amp; elem.field == selectedElem.field)}\"\n              (click)=\"onElemClick(elem,$event)\" class=\"example-box\" style=\"text-align: start\" [ngStyle]=\"elem\" #item&gt;\n             {{elem.sample}}\n        &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Typescript:</p>\n\n<pre><code> dragEnd(event: CdkDragEnd) {\n    const transform = event.source.element.nativeElement.style.transform;\n    let regex = /translate3d\\(\\s?(?&lt;x&gt;[-]?\\d*)px,\\s?(?&lt;y&gt;[-]?\\d*)px,\\s?(?&lt;z&gt;[-]?\\d*)px\\)/;\n    var values = regex.exec(transform);\n    this.selectedElem.startX = +values[1];\n    this.selectedElem.startY = +values[2];\n  }\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>.card-boundary {\n    width: 1039px;\n    height: 676px;\n    max-width: 100%;\n    position: relative;\n    background-color: #fff\n}\n\n.bg-boundary {\n    width: 1039px;\n    height: 676px;\n    max-width: 100%;\n}\n\n.example-box {\n    cursor: move;\n    position: relative;\n    z-index: 1;\n}\n\n.example-box-selected {\n    cursor: move;\n    background: #eee;\n    position: relative;\n    z-index: 1;\n}\n</code></pre>\n"}, {"tags": ["typescript", "types", "assert", "argv", "assertion"], "answers": [{"tags": [], "owner": {"reputation": 8965, "user_id": 3580745, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/bc63c3ca36686abbc49e566bebaea528?s=128&d=identicon&r=PG", "display_name": "ThomasThiebaud", "link": "https://stackoverflow.com/users/3580745/thomasthiebaud"}, "is_accepted": true, "score": 0, "last_activity_date": 1571812437, "creation_date": 1571812437, "answer_id": 58516775, "question_id": 58516477, "link": "https://stackoverflow.com/questions/58516477/set-the-types-of-the-args-from-process-argv-in-typescript-without-type-assert/58516775#58516775", "title": "Set the types of the args from `process.argv` in TypeScript, without type assertions", "body": "<p>One way to do it would be to use type guard. <a href=\"https://medium.com/ovrsea/checking-the-type-of-an-object-in-typescript-the-type-guards-24d98d9119b0\" rel=\"nofollow noreferrer\">Here's</a> an article on medium about it</p>\n\n<p>I'm aware of that solution, but you may have something better available</p>\n\n<pre><code>type AppName = 'editor' | 'terminal';\n\nfunction isAppName(toBeDetermined: any): toBeDetermined is AppName {\n  if (toBeDetermined === 'editor' || toBeDetermined === 'terminal') {\n    return true\n  }\n  return false\n} \n\nfunction main(args: string[]): void {\n  if (!isAppName(args[0])) {\n    throw new Error(\"The first argument is not an app name.\")\n  }\n\n  const app = args[0]; // const app: AppName\n}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#code/C4TwDgpgBAgmYDkCGBbaBeKByCATAlsAPYBOWUAPtsBCSvgHZIA2WA3AFAcBmArgwGNg+Igyj4AznESoIACmIAhCABEINOozwAuKEgYgAlLqWr1tegzziJseMjRQA3hyjjuUBUWVqNl6+iB2HiEpOQUVKa+Flq4UIGYWH6MLFiGzq5uUCTqvCRiwCS8EJkAvpk5wHli3CwSJaVQXHyCwqJQKEiMckgkAOYSuhKFjH0A2gC6xlAAbkT4cS5uAPTLUAAqABaSULhEEBIMSXpCvCzMIFAA7qQA1gA0UBKMAtAABoxvu-uHxzcktyg7TeoEgbwAdJl8B45ABCSTSBzyXoDMYABim6SWWWAmxIRCuUCshIAoiR8SQ5AAiLbQbj4EjDPT9XhoBjAGxEogc-R6eBE2TgqmGMpcFZrWlQWgU3TrcDQLDDEijcg7BjcvQSZ59JgAI2Y0GIUFBCsRsiwkLcAlETKQ-MwKIk6ImnHKQA\" rel=\"nofollow noreferrer\">Here</a> is a working playground for it</p>\n"}], "owner": {"reputation": 2807, "user_id": 420217, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d8263b4bb6e7d385d9b6267b700a954d?s=128&d=identicon&r=PG", "display_name": "Gary", "link": "https://stackoverflow.com/users/420217/gary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 0, "accepted_answer_id": 58516775, "answer_count": 1, "score": 1, "last_activity_date": 1571812437, "creation_date": 1571811088, "question_id": 58516477, "link": "https://stackoverflow.com/questions/58516477/set-the-types-of-the-args-from-process-argv-in-typescript-without-type-assert", "title": "Set the types of the args from `process.argv` in TypeScript, without type assertions", "body": "<p>How can I, in TypeScript, set the types of the args passed in from <code>process.argv</code>, without using type assertions? Since using <code>as</code> would force the type, when I want to avoid that if possible.</p>\n\n<p>What I have now:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type AppName = 'editor' | 'terminal';\n\nfunction main(args: string[]): void {\n  const app: AppName = args[0] as AppName;\n}\n\nmain(process.argv.slice(2))\n</code></pre>\n\n<p>What I want (pseudo-code):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type AppName = 'editor' | 'terminal';\n\nfunction main(args: string[]): void {\n  // This doesn't actually work, since `in` doesn't work on `type`.\n  if (!(args[0] in AppName)) {\n    throw new Error(\"The first argument is not an app name.\")\n  }\n\n  // The error: Type 'string' is not assignable to type 'AppName'.\n  const app: AppName = args[0];\n}\n\nmain(process.argv.slice(2))\n</code></pre>\n\n<p>Is anything similar to this possible? With the conditional, TS should detect that I have already ensured that the first arg is one of the given app names, and therefore accept setting it to a var with type <code>AppName</code>.</p>\n"}, {"tags": ["javascript", "angular", "twitter-bootstrap", "typescript", "chart.js"], "comments": [{"owner": {"reputation": 3441, "user_id": 2801843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8w57h.jpg?s=128&g=1", "display_name": "Thriveni", "link": "https://stackoverflow.com/users/2801843/thriveni"}, "edited": false, "score": 0, "creation_date": 1571811226, "post_id": 58516375, "comment_id": 103359297, "body": "Hi, first of all you should know whether all records should be displayed at the same time or is there any restrict like 100 records should be shown like that. if you have constrains you can use limit of records. if you don&#39;t have that you have to use delay/loading concept for ready your records."}, {"owner": {"reputation": 11202, "user_id": 3775731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac52dbfc7688e1cc009d692118541469?s=128&d=identicon&r=PG", "display_name": "timclutton", "link": "https://stackoverflow.com/users/3775731/timclutton"}, "edited": false, "score": 0, "creation_date": 1571818784, "post_id": 58516375, "comment_id": 103362866, "body": "By &quot;one lack&quot; I assume you mean <a href=\"https://en.wikipedia.org/wiki/Lakh\" rel=\"nofollow noreferrer\">100,000</a>. That&#39;s a crazy number of data points that shouldn&#39;t be needed to create a meaningful chart (and might even be harmful by obscuring details). Look in to data decimation and the other options you have for <a href=\"https://www.chartjs.org/docs/latest/charts/line.html#high-performance-line-charts\" rel=\"nofollow noreferrer\">high performance charts</a>."}], "owner": {"reputation": 31, "user_id": 11986673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4ac1868b6f4815e6045b0623278eb3f?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak Sahani", "link": "https://stackoverflow.com/users/11986673/deepak-sahani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571810546, "creation_date": 1571810546, "question_id": 58516375, "link": "https://stackoverflow.com/questions/58516375/when-array-have-more-than-one-lack-element-then-how-to-pass-array-to-data-in-li", "title": "When array have more than one lack element then, how to pass array to data in line chart of chart.js", "body": "<p>I have created line chart using chart.js.But when array have more than one lack element then, how to pass array to data in line chart of chart.js.\nWhen i am passing small number of element in array it work but for big number array element it not work.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var num1: number;\r\nvar num2:number;\r\nvar x_Axes:number[]=[];\r\nvar y_Axes:number[]=[];\r\nfor(num1=0;num1&lt;=60;num1++){\r\n    xAxes.push(num1);\r\n }\r\nfor(num2=0;num2&lt;=2000000;num2++){\r\n   y_Axes.push(num2);\r\n }\r\n \r\n data: {\r\n      labels: x_Axes,\r\n      datasets: [\r\n        {\r\n          pointBorderColor: 'none',\r\n          borderColor: \"#D71F26\",\r\n          borderWidth: 1,\r\n          pointRadius: 0,\r\n          data: y_Axes,\r\n        }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You can see for labels i also use array and it work.but data it not work why i don't know.</p>\n\n<blockquote>\n  <p>when page load browser not throw any error,it take long time to load and finally it show blank on graph.</p>\n</blockquote>\n"}, {"tags": ["node.js", "typescript", "graphql", "apollo", "apollo-server"], "comments": [{"owner": {"reputation": 546, "user_id": 8505530, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ce949f0d6bb94fccac5257f56a70b91a?s=128&d=identicon&r=PG&f=1", "display_name": "parth", "link": "https://stackoverflow.com/users/8505530/parth"}, "edited": false, "score": 0, "creation_date": 1571809718, "post_id": 58516153, "comment_id": 103358746, "body": "Can you provide more information or repo for this example so we can have a better look?"}, {"owner": {"reputation": 141, "user_id": 6348924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d12f6c2a5a814dabe0d1f07dc09b2ff7?s=128&d=identicon&r=PG&f=1", "display_name": "rahul", "link": "https://stackoverflow.com/users/6348924/rahul"}, "reply_to_user": {"reputation": 546, "user_id": 8505530, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ce949f0d6bb94fccac5257f56a70b91a?s=128&d=identicon&r=PG&f=1", "display_name": "parth", "link": "https://stackoverflow.com/users/8505530/parth"}, "edited": false, "score": 0, "creation_date": 1571809867, "post_id": 58516153, "comment_id": 103358799, "body": "@parth thats all what I have."}, {"owner": {"reputation": 546, "user_id": 8505530, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ce949f0d6bb94fccac5257f56a70b91a?s=128&d=identicon&r=PG&f=1", "display_name": "parth", "link": "https://stackoverflow.com/users/8505530/parth"}, "edited": false, "score": 0, "creation_date": 1571809985, "post_id": 58516153, "comment_id": 103358831, "body": "Maybe this can help. <a href=\"https://github.com/apollographql/apollo-server/issues/1158\" rel=\"nofollow noreferrer\">github.com/apollographql/apollo-server/issues/1158</a>"}, {"owner": {"reputation": 141, "user_id": 6348924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d12f6c2a5a814dabe0d1f07dc09b2ff7?s=128&d=identicon&r=PG&f=1", "display_name": "rahul", "link": "https://stackoverflow.com/users/6348924/rahul"}, "reply_to_user": {"reputation": 546, "user_id": 8505530, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ce949f0d6bb94fccac5257f56a70b91a?s=128&d=identicon&r=PG&f=1", "display_name": "parth", "link": "https://stackoverflow.com/users/8505530/parth"}, "edited": false, "score": 0, "creation_date": 1571810154, "post_id": 58516153, "comment_id": 103358900, "body": "Ok Thanks @parth"}, {"owner": {"reputation": 409, "user_id": 9537428, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Cristian Duma", "link": "https://stackoverflow.com/users/9537428/cristian-duma"}, "edited": false, "score": 0, "creation_date": 1571822611, "post_id": 58516153, "comment_id": 103364828, "body": "Check this thread, <a href=\"https://github.com/graphql/graphql-js/issues/922\" rel=\"nofollow noreferrer\">github.com/graphql/graphql-js/issues/922</a>, might help!"}], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 6348924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d12f6c2a5a814dabe0d1f07dc09b2ff7?s=128&d=identicon&r=PG&f=1", "display_name": "rahul", "link": "https://stackoverflow.com/users/6348924/rahul"}, "edited": false, "score": 0, "creation_date": 1571832630, "post_id": 58521438, "comment_id": 103370207, "body": "I am referring (<a href=\"https://blog.logrocket.com/from-rest-to-graphql/\" rel=\"nofollow noreferrer\">blog.logrocket.com/from-rest-to-graphql</a>) in which they have used extend keyword. I don&#39;t know what is the use of this"}, {"owner": {"reputation": 57003, "user_id": 6024220, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6s3nUiQ9-fI/AAAAAAAAAAI/AAAAAAAAA0E/3zpg3zXHu4I/photo.jpg?sz=128", "display_name": "Daniel Rearden", "link": "https://stackoverflow.com/users/6024220/daniel-rearden"}, "reply_to_user": {"reputation": 141, "user_id": 6348924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d12f6c2a5a814dabe0d1f07dc09b2ff7?s=128&d=identicon&r=PG&f=1", "display_name": "rahul", "link": "https://stackoverflow.com/users/6348924/rahul"}, "edited": false, "score": 2, "creation_date": 1571834096, "post_id": 58521438, "comment_id": 103371020, "body": "@rahul Please see my edit for an additional explanation. I&#39;m not sure why the tutorial you&#39;re referencing uses the extend keyword -- if you&#39;re using <code>graphql-modules</code>, you actually don&#39;t need it because of how that library works under the hood. But with <code>graphql-modules</code>, it should work either way. If you&#39;re <i>not</i> using that library, you should only use extend if the type already exists."}, {"owner": {"reputation": 57003, "user_id": 6024220, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6s3nUiQ9-fI/AAAAAAAAAAI/AAAAAAAAA0E/3zpg3zXHu4I/photo.jpg?sz=128", "display_name": "Daniel Rearden", "link": "https://stackoverflow.com/users/6024220/daniel-rearden"}, "reply_to_user": {"reputation": 141, "user_id": 6348924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d12f6c2a5a814dabe0d1f07dc09b2ff7?s=128&d=identicon&r=PG&f=1", "display_name": "rahul", "link": "https://stackoverflow.com/users/6348924/rahul"}, "edited": false, "score": 1, "creation_date": 1571834201, "post_id": 58521438, "comment_id": 103371089, "body": "I would suggest referencing the actual documentation for both <code>apollo-server</code> and <code>graphql-modules</code> rather than relying exclusively on a tutorial. You&#39;ll get better examples and a better explanation of why you&#39;re doing things a certain way."}, {"owner": {"reputation": 141, "user_id": 6348924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d12f6c2a5a814dabe0d1f07dc09b2ff7?s=128&d=identicon&r=PG&f=1", "display_name": "rahul", "link": "https://stackoverflow.com/users/6348924/rahul"}, "edited": false, "score": 0, "creation_date": 1571834368, "post_id": 58521438, "comment_id": 103371163, "body": "Thanks, @Daniel, I am using apollo-server-express modules to build GraphQL server."}], "tags": [], "owner": {"reputation": 57003, "user_id": 6024220, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6s3nUiQ9-fI/AAAAAAAAAAI/AAAAAAAAA0E/3zpg3zXHu4I/photo.jpg?sz=128", "display_name": "Daniel Rearden", "link": "https://stackoverflow.com/users/6024220/daniel-rearden"}, "is_accepted": true, "score": 3, "last_activity_date": 1571833923, "last_edit_date": 1571833923, "creation_date": 1571828700, "answer_id": 58521438, "question_id": 58516153, "link": "https://stackoverflow.com/questions/58516153/error-cannot-extend-type-query-because-it-is-not-defined/58521438#58521438", "title": "Error: Cannot extend type &quot;Query&quot; because it is not defined", "body": "<p>The <code>extend</code> keyword is used to augment an existing type within the same schema. For example, we can do:</p>\n\n<pre><code>type User {\n  username: String!\n}\n\nextend type User {\n  firstName: String!\n  lastName: String!\n}\n</code></pre>\n\n<p>This is useful when splitting your schema across multiple files or building your schema from a base schema.</p>\n\n<p>You cannot, however, extend a type that doesn't exist. You have no defined a <code>Query</code> type in your schema, so you cannot extend it. Just remove the <code>extend</code> keyword.</p>\n"}], "owner": {"reputation": 141, "user_id": 6348924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d12f6c2a5a814dabe0d1f07dc09b2ff7?s=128&d=identicon&r=PG&f=1", "display_name": "rahul", "link": "https://stackoverflow.com/users/6348924/rahul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1789, "favorite_count": 0, "accepted_answer_id": 58521438, "answer_count": 1, "score": 0, "last_activity_date": 1571833923, "creation_date": 1571809283, "question_id": 58516153, "link": "https://stackoverflow.com/questions/58516153/error-cannot-extend-type-query-because-it-is-not-defined", "title": "Error: Cannot extend type &quot;Query&quot; because it is not defined", "body": "<p>I am getting this error while extending Query in GraphQL schema. Here is error stack:</p>\n\n<pre><code>stack=[Error: Cannot extend type \"Query\" because it is not defined.,     at assertValidSDL (/NodeGraphQL/node_modules/graphql/validation/validate.js:108:11),     \nat Object.buildASTSchema (/NodeGraphQL/node_modules/graphql/utilities/buildASTSchema.js:71:34),     \nat Object.buildSchemaFromTypeDefinitions (/NodeGraphQL/node_modules/graphql-tools/dist/generate/buildSchemaFromTypeDefinitions.js:23:28),     \nat Object.makeExecutableSchema (/NodeGraphQL/node_modules/graphql-tools/dist/makeExecutableSchema.js:26:29),     \nat ApolloServer.initSchema (/NodeGraphQL/node_modules/apollo-server-core/dist/ApolloServer.js:272:49),     \nat new ApolloServerBase (/NodeGraphQL/node_modules/apollo-server-core/dist/ApolloServer.js:202:30),     \nat new ApolloServer (/NodeGraphQL/node_modules/apollo-server-express/dist/ApolloServer.js:59:9),     \nat Object.&lt;anonymous&gt; (/NodeGraphQL/dist/server.js:17:16),     \nat Module._compile (internal/modules/cjs/loader.js:689:30),     at Object.Module._extensions..js (internal/modules/cjs/loader.js:700:10),     \nat Module.load (internal/modules/cjs/loader.js:599:32),     at tryModuleLoad (internal/modules/cjs/loader.js:538:12),     \nat Function.Module._load (internal/modules/cjs/loader.js:530:3),     at Function.Module.runMain (internal/modules/cjs/loader.js:742:12),     \nat startup (internal/bootstrap/node.js:283:19),     at bootstrapNodeJSCore (internal/bootstrap/node.js:743:3)]\n</code></pre>\n\n<p>Here is how my schema looks like:</p>\n\n<pre><code>import { gql } from 'apollo-server-express';\n\nexport const ticket = gql`\n  type Ticket {\n    id: ID!\n    subject: String\n    priority_id: Int\n    status_id: Int\n    user_id: Int\n    assigned_to_user_id: Int\n  }\n\n  extend type Query {\n    tickets: [Ticket]\n    ticket(id: ID!): Ticket\n  }\n`;\n</code></pre>\n\n<p>Looking for the solution :)</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "asynchronous", "async-await"], "comments": [{"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 1, "creation_date": 1571808912, "post_id": 58516069, "comment_id": 103358506, "body": "Because it&#39;s not being caught in the same block, can&#39;t you just return the Promise? Just remove the <code>await</code>? I&#39;d <i>think</i> that would result in the same behavior as in your current code"}, {"owner": {"reputation": 26, "user_id": 4818123, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7c7f6fefe7743c80b89b8af7d4ebacc2?s=128&d=identicon&r=PG&f=1", "display_name": "Takesi Tokugawa YD", "link": "https://stackoverflow.com/users/4818123/takesi-tokugawa-yd"}, "reply_to_user": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1571813108, "post_id": 58516069, "comment_id": 103360080, "body": "@CertainPerformance, thank you for the answer. You right, <code>await</code> is needless here. And also this case is another prove that <a href=\"https://eslint.org/docs/rules/require-await\" rel=\"nofollow noreferrer\">require-await</a> rule is obstacle."}], "owner": {"reputation": 26, "user_id": 4818123, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7c7f6fefe7743c80b89b8af7d4ebacc2?s=128&d=identicon&r=PG&f=1", "display_name": "Takesi Tokugawa YD", "link": "https://stackoverflow.com/users/4818123/takesi-tokugawa-yd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 201, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571808817, "creation_date": 1571808817, "question_id": 58516069, "link": "https://stackoverflow.com/questions/58516069/alternative-for-return-await-for-the-cases-when-waiting-for-some-result-whic", "title": "Alternative for `return await \u2026` for the cases when waiting for some result which must be returned", "body": "<p>I know that ESLint/TSLint rulest cannot be \"right\" for 100% of situations. However I need to decide which rules I really don't need.</p>\n\n<p>In ElectonJS, it's not recommended to use Node.js modules in Renderer Process. Instead, Renderer process should send request to Main Process and listen for the response. Below TypeScript class takes care about this routine. (I hope my variable names make code does not need comments, but those are hard to understand, please let me to know in comments)</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { ipcRenderer as IpcRenderer } from \"electron\";\n\nimport InterProcessDataTransferProtocol from \"@ProjectInitializer:Root/InterProcessDataTransferProtocol\";\nimport CheckingPathForWriteAccess = InterProcessDataTransferProtocol.CheckingPathForWriteAccess;\nimport MainProcessEvents = InterProcessDataTransferProtocol.MainProcessEvents;\n\nimport Timeout = NodeJS.Timeout;\n\n\nexport default abstract class InterProcessFacilitator {\n\n  private static readonly IS_PATH_WRITABLE__RESPONSE_WAITING_PERIOD__MILLISECONDS: number = 10000;\n\n  public static async requestCheckingPathForAccessToWrite(targetPath: string): Promise&lt;boolean&gt; {\n\n    IpcRenderer.send(\n        InterProcessDataTransferProtocol.RendererProcessEvents.checkingPathForWriteAccessRequestSent,\n        { targetPath }\n    );\n\n    const responseWaitingTimeout: Timeout = setTimeout(\n        () =&gt; { throw new Error(\"No response from Main Process\"); },\n        InterProcessFacilitator.IS_PATH_WRITABLE__RESPONSE_WAITING_PERIOD__MILLISECONDS\n    );\n\n    return await new Promise&lt;boolean&gt;((resolve: (isWritable: boolean) =&gt; void): void =&gt; {\n      IpcRenderer.on(\n          MainProcessEvents.checkingPathForWriteAccessDone,\n          (_event: Electron.Event, responsePayload: CheckingPathForWriteAccess.ResponsePayload) =&gt;\n          {\n            clearTimeout(responseWaitingTimeout);\n            if (responsePayload.targetPath === targetPath) {\n              resolve(responsePayload.isWritable);\n            }\n          });\n    });\n  }\n}\n</code></pre>\n\n<p>Currently, method <code>requestCheckingPathForAccessToWrite</code> violates <a href=\"https://eslint.org/docs/rules/no-return-await\" rel=\"nofollow noreferrer\">no-return-await</a>, the ESLint rules. However it could be used as:</p>\n\n<pre><code>async function checkTheDefaultPathForWrightPermission(): Promise&lt;void&gt; {\n    try {\n        const pickedPathIsWritable: boolean = await InterProcessFacilitator\n              .requestCheckingPathForAccessToWrite(DEFAULT_PATH);\n      pickedPathIsWritable ?\n          this.relatedStoreModule.reportAboutUnableToWriteToDirectoryErrorResolution() :\n          this.relatedStoreModule.reportAboutUnableToWriteToDirectoryErrorOccurrence();\n    } catch (error) {\n        console.error(`unable to check wright permission for path ${DEFAULT_PATH}`);\n        console.error(error);\n    }\n}\n</code></pre>\n\n<p>From ESLint documentation:</p>\n\n<blockquote>\n  <p>Inside an async function, return await is seldom useful. Since the\n  return value of an async function is always wrapped in\n  Promise.resolve, return await doesn\u2019t actually do anything except add\n  extra time before the overarching Promise resolves or rejects. The\n  only valid exception is if return await is used in a try/catch\n  statement to catch errors from another Promise-based function.</p>\n</blockquote>\n\n<p>Can you criticize either my solution or this ESLint rule, and in first case, suggest the refactoring?</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic4", "ionic-native"], "comments": [{"owner": {"reputation": 1757, "user_id": 1433107, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/311ae28285121bb38f0ec1b6717d1aca?s=128&d=identicon&r=PG", "display_name": "ulmas", "link": "https://stackoverflow.com/users/1433107/ulmas"}, "edited": false, "score": 0, "creation_date": 1571806605, "post_id": 58515520, "comment_id": 103357961, "body": "Do you have any other errors in the dev tools Console or the Network tab? Anything related to CORS maybe?...."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4670241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HH4oG.jpg?s=128&g=1", "display_name": "Vikki", "link": "https://stackoverflow.com/users/4670241/vikki"}, "edited": false, "score": 0, "creation_date": 1571920022, "post_id": 58516545, "comment_id": 103404402, "body": "use the code same way you are using but get this message:- Http failure response for <a href=\"http://www.hellodevs.online/wp-json/wp/v2/\" rel=\"nofollow noreferrer\">hellodevs.online/wp-json/wp/v2</a>: 0 Unknown Error .  Have you check it on your side is it working for u and if checked then over which platform"}, {"owner": {"reputation": 134, "user_id": 5415153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AASS8.png?s=128&g=1", "display_name": "dom.macs", "link": "https://stackoverflow.com/users/5415153/dom-macs"}, "reply_to_user": {"reputation": 21, "user_id": 4670241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HH4oG.jpg?s=128&g=1", "display_name": "Vikki", "link": "https://stackoverflow.com/users/4670241/vikki"}, "edited": false, "score": 0, "creation_date": 1571922738, "post_id": 58516545, "comment_id": 103405827, "body": "Yes, it is working on my side. I&#39;m using Ionic 4. Did you add it on your app.module.ts? Also, can you include your ionic info?"}, {"owner": {"reputation": 134, "user_id": 5415153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AASS8.png?s=128&g=1", "display_name": "dom.macs", "link": "https://stackoverflow.com/users/5415153/dom-macs"}, "reply_to_user": {"reputation": 21, "user_id": 4670241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HH4oG.jpg?s=128&g=1", "display_name": "Vikki", "link": "https://stackoverflow.com/users/4670241/vikki"}, "edited": false, "score": 0, "creation_date": 1571922847, "post_id": 58516545, "comment_id": 103405881, "body": "Try running your code on using this browser &quot;chrome.exe --user-data-dir=&quot;C://Chrome dev session&quot; --disable-web-security --incognito&quot;, if it runs, Most likely this is CORS issue, you need to enable CORS in your wordpress API"}], "tags": [], "owner": {"reputation": 134, "user_id": 5415153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AASS8.png?s=128&g=1", "display_name": "dom.macs", "link": "https://stackoverflow.com/users/5415153/dom-macs"}, "is_accepted": false, "score": 1, "last_activity_date": 1571812089, "last_edit_date": 1571812089, "creation_date": 1571811350, "answer_id": 58516545, "question_id": 58515520, "link": "https://stackoverflow.com/questions/58515520/how-to-get-json-data-from-wordpress-in-ionic-4-app/58516545#58516545", "title": "how to get json data from wordpress in ionic 4 app", "body": "<p>First import <code>import {HttpClientModule} from '@angular/common/http';</code> on your <strong>app.module.ts</strong> and add <code>HttpClientModule</code> on your <code>@NgModule({imports: [HttpClientModule]})</code> on the same file.</p>\n\n<p>Next, import <code>import { HttpClient } from '@angular/common/http';</code> on your <strong>page.ts</strong> and add it on the constructor, <code>constructor(private http: HttpClient)</code></p>\n\n<p>Now, you can call it successfully like the sample method below:</p>\n\n<pre><code>getSampleWP() {\n    this.http.get('http://www.hellodevs.online/wp-json/wp/v2/').subscribe(\n    (data: any) =&gt; {\n      console.log(data);\n    }, (error: any) =&gt; {\n      console.log(error);\n    });\n  }\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4670241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HH4oG.jpg?s=128&g=1", "display_name": "Vikki", "link": "https://stackoverflow.com/users/4670241/vikki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571812089, "creation_date": 1571805034, "question_id": 58515520, "link": "https://stackoverflow.com/questions/58515520/how-to-get-json-data-from-wordpress-in-ionic-4-app", "title": "how to get json data from wordpress in ionic 4 app", "body": "<p>I have tried many times in my ionic 4 app but didn't recognize what I am doing wrong.\nthis is my link( <code>http://www.hellodevs.online/wp-json/wp/v2/</code> ) to retrieve json data in my ionic 4 app.\nThe error message i got is here <code>Http failure response for http://www.hellodevs.online/wp-json/wp/v2/posts?_embed: 0 Unknown Error</code>\nIf anyone is there who help  me to get the data then that help will be very grateful to me</p>\n\n<p>provide me the working code.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 646, "user_id": 4780154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Po2KY.jpg?s=128&g=1", "display_name": "Jasmonate", "link": "https://stackoverflow.com/users/4780154/jasmonate"}, "edited": false, "score": 0, "creation_date": 1571813020, "post_id": 58515515, "comment_id": 103360040, "body": "I&#39;m not familiar with Redux, but is your PotentialFoo either a Foo or an &quot;incomplete&quot; Foo? If so you might want to use the partial type: <code>function someFunct(item: Partial&lt;Foo&gt;) { ... }</code> <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#mapped-types\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/&hellip;</a>"}, {"owner": {"reputation": 7109, "user_id": 1068446, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/F5uzH.jpg?s=128&g=1", "display_name": "dwjohnston", "link": "https://stackoverflow.com/users/1068446/dwjohnston"}, "reply_to_user": {"reputation": 646, "user_id": 4780154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Po2KY.jpg?s=128&g=1", "display_name": "Jasmonate", "link": "https://stackoverflow.com/users/4780154/jasmonate"}, "edited": false, "score": 0, "creation_date": 1571869147, "post_id": 58515515, "comment_id": 103387098, "body": "@Jasmonate no, it&#39;s not a Partial, because if it has the <code>id</code> field, then it also has the <code>data</code> field etc."}], "answers": [{"tags": [], "owner": {"reputation": 7109, "user_id": 1068446, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/F5uzH.jpg?s=128&g=1", "display_name": "dwjohnston", "link": "https://stackoverflow.com/users/1068446/dwjohnston"}, "is_accepted": false, "score": 2, "last_activity_date": 1571806100, "creation_date": 1571806100, "answer_id": 58515665, "question_id": 58515515, "link": "https://stackoverflow.com/questions/58515515/discriminated-union-check-on-existence-of-a-field/58515665#58515665", "title": "Discriminated union check on existence of a field?", "body": "<p>One solution is to use a TypeScript <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#using-type-predicates\" rel=\"nofollow noreferrer\">type predicate</a>, which is essentially to create a boolean function to determine the type, like you have here, but gives better compiler hints to TypeScript. </p>\n\n<pre><code>const itemA: PotentialFoo = {\n    id: \"foo\", \n    data :\"data\", \n}\n\nconst itemB: PotentialFoo = {}; \n\nfunction isFoo(item: PotentialFoo) : item is Foo {\n    return !!(item as Foo).id; \n}\n\n\nfunction someFunct(item: PotentialFoo) {\n    if (isFoo(item)) {\n        //handle it as a Foo. \n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7109, "user_id": 1068446, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/F5uzH.jpg?s=128&g=1", "display_name": "dwjohnston", "link": "https://stackoverflow.com/users/1068446/dwjohnston"}, "edited": false, "score": 0, "creation_date": 1572844448, "post_id": 58516935, "comment_id": 103673475, "body": "I actually do like this answer better than the one I posted. It&#39;s much simpler.   Can you explain why/how it works?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 7109, "user_id": 1068446, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/F5uzH.jpg?s=128&g=1", "display_name": "dwjohnston", "link": "https://stackoverflow.com/users/1068446/dwjohnston"}, "edited": false, "score": 0, "creation_date": 1572846716, "post_id": 58516935, "comment_id": 103673960, "body": "@dwjohnston The <code>in</code> operator is recognized as a type guard by the compiler. It will narrow the type of the tested variable (<code>item</code>) to any of the union constituents that contain the tested property (<code>id</code> in this case)"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1571813208, "creation_date": 1571813208, "answer_id": 58516935, "question_id": 58515515, "link": "https://stackoverflow.com/questions/58515515/discriminated-union-check-on-existence-of-a-field/58516935#58516935", "title": "Discriminated union check on existence of a field?", "body": "<p>The simplest solution in this case is to use an <code>in</code> check as a type guard:</p>\n\n<pre><code>\nfunction someFunct(item: PotentialFoo) {\n    if ('id' in item) {\n\n        item.data // ok\n    }\n}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/?ssl=19&amp;ssc=2&amp;pln=13&amp;pc=1#code/JYOwLgpgTgZghgYwgAgGIHt3IN4FgBQyRywAJgFzIDOYUoA5gNzIHHKlxhyU10hMt8AXwIEwATwAOKAArpI4YHAA2GLAF40mZAB8cQ5gQToQNEpAC2AQUpyFYJau2a8hYmUoAiGJk8AaQTYOLmRyT2C4f0ERfCMTM2BLACFbeQhFFTVkFwNBAhgAVxAEBxNqdAsIVCKSgApEiAtU+0c1AEocVncYZFqAcjI+khBzRo7XLrYiBosAOgjkAHpF5HQAa0nkGKEgA\" rel=\"nofollow noreferrer\">Play</a></p>\n"}], "owner": {"reputation": 7109, "user_id": 1068446, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/F5uzH.jpg?s=128&g=1", "display_name": "dwjohnston", "link": "https://stackoverflow.com/users/1068446/dwjohnston"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 58516935, "answer_count": 2, "score": 1, "last_activity_date": 1571813208, "creation_date": 1571805001, "last_edit_date": 1571805415, "question_id": 58515515, "link": "https://stackoverflow.com/questions/58515515/discriminated-union-check-on-existence-of-a-field", "title": "Discriminated union check on existence of a field?", "body": "<p>What I want to do is pretty simple: </p>\n\n<p>I have an type <code>Foo</code>, but there's cases where the Foo might be empty, so we have a union type with an empty object. (The use case here is actually with Redux, which doesn't let you have a redux state initalised as undefined). </p>\n\n<pre><code>interface Foo {\n    id: string; \n    data: string; \n}\n\ntype PotentialFoo = Foo | {}; \n</code></pre>\n\n<p>Later, when I'm using one of these <code>PotentialFoo</code>s, an easy way to check if it's a Foo or not, is to check if one of the fields exist. </p>\n\n<p>But the TypeScript compiler doesn't like this. </p>\n\n<pre><code>const itemA: PotentialFoo = {\n    id: \"foo\", \n    data :\"data\", \n}\n\nconst itemB: PotentialFoo = {}; \n\nfunction someFunct(item: PotentialFoo) {\n    if (item.id) { //  Property 'id' does not exist on type '{}'.\n\n        //handle it as a Foo. \n    }\n}\n</code></pre>\n\n<p>Is there a way to to otherwise allow a discrimination here, like TypeScript allows in other cases? </p>\n"}, {"tags": ["typescript", "vue.js", "vuex", "vuex-modules"], "answers": [{"comments": [{"owner": {"reputation": 26, "user_id": 4818123, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7c7f6fefe7743c80b89b8af7d4ebacc2?s=128&d=identicon&r=PG&f=1", "display_name": "Takesi Tokugawa YD", "link": "https://stackoverflow.com/users/4818123/takesi-tokugawa-yd"}, "edited": false, "score": 0, "creation_date": 1573019004, "post_id": 58708435, "comment_id": 103739381, "body": "Thank you for the answer. Off course, I have implemented this method. I&#39;ll comment again when try your solution."}], "tags": [], "owner": {"reputation": 37, "user_id": 11996732, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oMfn2rB35ko/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdJFgTq33xVSgqlk2GPb6Eeq7n4EQ/photo.jpg?sz=128", "display_name": "matrixb51", "link": "https://stackoverflow.com/users/11996732/matrixb51"}, "is_accepted": false, "score": 0, "last_activity_date": 1572946741, "creation_date": 1572946741, "answer_id": 58708435, "question_id": 58515156, "link": "https://stackoverflow.com/questions/58515156/dynamic-function-for-vuex-store-module-on-floating-undo-bar-example/58708435#58708435", "title": "Dynamic function for Vuex store module on floating undo bar example", "body": "<p>have u implemented the store rollbackRemoveItem?</p>\n\n<p>You could maybe use sth similar to this:</p>\n\n<pre><code>connect() {\n  const connection = getModule(Connection, this.$store);\n  connection.testAction();\n  this.$store.dispatch('Connection/rollbackRemoveItem');\n}\n</code></pre>\n"}], "owner": {"reputation": 26, "user_id": 4818123, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7c7f6fefe7743c80b89b8af7d4ebacc2?s=128&d=identicon&r=PG&f=1", "display_name": "Takesi Tokugawa YD", "link": "https://stackoverflow.com/users/4818123/takesi-tokugawa-yd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1242, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1581475061, "creation_date": 1571802210, "last_edit_date": 1581475061, "question_id": 58515156, "link": "https://stackoverflow.com/questions/58515156/dynamic-function-for-vuex-store-module-on-floating-undo-bar-example", "title": "Dynamic function for Vuex store module on floating undo bar example", "body": "<h2>Problem abstract</h2>\n\n<ol>\n<li>Make the mutation or action of Vuex store module <strong>A</strong> call the external function. It could be the mutation or action of other Vuex store module (e. g. <strong>B</strong>).</li>\n<li><strong>A</strong> must save link to external method (e. g. mutation or action of other Vuex store module <strong>B</strong>) because it will be invoked indirectly and not immediately.</li>\n</ol>\n\n<p>In below example:</p>\n\n<ul>\n<li><strong>A</strong> will be <code>RollbackActionFloatingPanelStoreModule</code></li>\n<li><strong>B</strong> will be <code>OtherStoreModule</code></li>\n<li>The external function will be <code>rollbackRemoveItem</code></li>\n</ul>\n\n<h2>Example (when it could be used)</h2>\n\n<p>This floating undo panel allows, obviously, undo the user's actions, however the undo method must be implemented. Also, because the undo panel must rollback multiple kinds of user's control actions, each time we need to specify the undo method implementation.</p>\n\n<p><a href=\"https://i.stack.imgur.com/GBk2A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GBk2A.png\" alt=\"enter image description here\"></a></p>\n\n<p><code>$ref</code> is not good for TypeScript-based Vue, so let <code>$ref</code> solution will be the last hope. Here is I want fully delegate the undo panel state and behavior to Vuex module, so the Vue component will be logicless:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Vue, Component } from \"vue-property-decorator\";\nimport { getModule } from \"vuex-module-decorators\";\n\nimport template from \"./RollbackActionFloatingPanel.pug\";\nimport RollbackActionFloatingPanelStoreModule\n    from \"@Store/modules/AssociatedWithComponents/RollbackActionFloatingPanel\";\n\n\n@Component({ template })\nexport default class RollbackActionFloatingPanel extends Vue {\n  private readonly relatedStoreModule: RollbackActionFloatingPanelStoreModule =\n      getModule(RollbackActionFloatingPanelStoreModule);\n}\n</code></pre>\n\n<p><strong>Component template</strong> (pug language; svg icons are encapsuled to pug mixins)</p>\n\n<pre><code>transition(name=\"rollback_action_floating_panel\")\n  .RollbackActionFloatingPanel(v-show=\"relatedStoreModule.displayFlag\")\n    +Checkmark__Simple__Bold--MaterialDesignIcon.RollbackActionFloatingPanel-CheckmarkIcon\n    .RollbackActionFloatingPanel-Text {{ relatedStoreModule.message }}\n    button.RollbackActionFloatingPanel-Button(@click=\"relatedStoreModule.onClickRollbackButton\")\n      +Undo__Simple--MaterialDesignIcon.ButtonWithPrependedIcon-Icon\n      | Undo\n    button.RollbackActionFloatingPanel-Button.RollbackActionFloatingPanel-Button__Primary(@click=\"relatedStoreModule.dismiss\")\n      +Hide__StrikethroughEye__Filled--MaterialDesignIcon.ButtonWithPrependedIcon-Icon\n      | Hide\n</code></pre>\n\n<p>The vuex store <code>RollbackActionFloatingPanel</code> needs only one public method: <code>displayAndHideALittleLater</code>. It could be called from other store module or Vue component. Logically, we could specify undo method implementation as parameter (<code>displayAndHideALittleLater(payload: { message: string; onClickRollbackButton: Function; })</code>).</p>\n\n<p>Methods <code>onClickRollbackButton</code> and <code>dismiss</code> are being called from template, so TypeScript can not forbid it's invocation in this case even those are not public.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { VuexModule, Module, Mutation, Action } from \"vuex-module-decorators\";\n\nimport store, { StoreModuleNames } from \"@Store/Store\";\n\n@Module({\n  name: \"VUEX_MODULE:UNDO_PANEL\",\n  store,\n  dynamic: true,\n  namespaced: true\n})\nexport default class RollbackActionFloatingPanelStoreModule extends VuexModule {\n\n  private static readonly AUTO_HIDE_TIMEOUT__MILLISECONDS: number = 5000;\n\n  private _displayFlag: boolean = false;\n  private _message: string = \"\";\n\n  private _onClickRollbackButton: Function = () =&gt; {};\n\n\n  @Action\n  public displayAndHideALittleLater(\n      {\n        message,\n        onClickRollbackButton\n      }: {\n        message: string;\n        onClickRollbackButton: Function;\n      }\n  ): void {\n\n    this.setMessage(message);\n    this.setOnClickRollbackButtonEventHandler(onClickRollbackButton);\n    this.display();\n\n    setTimeout(\n        (): void =&gt; { this.dismiss(); },\n        RollbackActionFloatingPanelStoreModule.AUTO_HIDE_TIMEOUT__MILLISECONDS\n    );\n  }\n\n  @Action\n  private onClickRollbackButton(): void {\n    this._onClickRollbackButton();\n  }\n\n  @Mutation\n  private setMessage(message: string): void {\n    this._message = message;\n  }\n\n  @Mutation\n  private setOnClickRollbackButtonEventHandler(newHandler: Function): void {\n    this._onClickRollbackButton = newHandler;\n  }\n\n  @Mutation\n  private display(): void {\n    this._displayFlag = true;\n  }\n\n  @Mutation\n  private dismiss(): void {\n    this._displayFlag = false;\n    this._onClickRollbackButton = () =&gt; {};\n  }\n\n  public get displayFlag(): boolean { return this._displayFlag; }\n  public get message(): string { return this._message; }\n}\n\n</code></pre>\n\n<p>The usage from other Vuex module: </p>\n\n<pre><code>import { VuexModule, Module, Mutation, getModule } from \"vuex-module-decorators\";\nimport store, { StoreModuleNames } from \"@ProjectInitializer:Store/Store\";\nimport RollbackActionFloatingPanelStoreModule\n  from \"@ProjectInitializer:Store/modules/AssociatedWithComponents/RollbackActionFloatingPanel\";\n\n\n@Module({\n  name: \"VUEX_MODULE:OTHER\"\n  store,\n  dynamic: true,\n  namespaced: true\n})\nexport default class OtherStoreModule extends VuexModule {\n\n  private _selectedItems: Array&lt;Item&gt; = getDefaultItemsFromRepsitory();\n  private _lastDeletedItem: Item | null = null;\n\n\n  @Mutation\n  public removeItem(targetItemId: string): void {\n\n    const targetItemSearchingPredicate: (item: Item) =&gt; boolean =\n        (item: Item): boolean =&gt; item.id === targetItemId;\n\n    const targetItem: Item | undefined = this._selectedItems.find(targetItemSearchingPredicate);\n    if (typeof targetItem === \"undefined\") { return; }\n\n    this._lastDeletedItem = targetEntryPointsGroupSettings;\n    const indexOfTargetItem: number = this._selectedItems.findIndex(targetItemSearchingPredicate);\n\n    if (indexOfTargetItem !== -1) {\n      this._selectedItems.splice(indexOfTargetItem, 1);\n    } else {\n      return;\n    }\n\n    getModule(RollbackActionFloatingPanelStoreModule).displayAndHideALittleLater({\n      message: \"Item deleted\",\n      onClickRollbackButton: (): void =&gt; { this.rollbackRemoveItem(); }\n    });\n  }\n\n  @Mutation\n  public rollbackRemoveItem(): void {\n    if (this._lastDeletedItem === null) { return; }\n    this._selectedItems.unshift(this._lastDeletedItem);\n    this._lastDeletedItem = null;\n  }\n}\n</code></pre>\n\n<p>error </p>\n\n<p><a href=\"https://i.stack.imgur.com/fxKTF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fxKTF.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>Error: ERR_ACTION_ACCESS_UNDEFINED: Are you trying to access this.someMutation() \nor this.someGetter inside an @Action? \nThat works only in dynamic modules. \nIf not dynamic use this.context.commit(\"mutationName\", payload) and \n this.context.getters[\"getterName\"]\nError: Could not perform action onClickRollbackButton\n</code></pre>\n\n<p>occurs. Because all my modules are dynamics, maybe error message is not accurate. In fact, we call mutation <code>rollbackRemoveItem</code> via non-decorated function <code>_onClickRollbackButton</code> via action <code>onClickRollbackButton</code>. I can not avoid <code>_onClickRollbackButton</code> so easily, because I need to store undo method implementation somewhere until <code>dismiss</code> mutation will be executed.</p>\n\n<h3>Attempt with static class field</h3>\n\n<pre><code>@Module({\n  name: \"VUEX_MODULE:UNDO_PANEL\",\n  store,\n  dynamic: true,\n  namespaced: true\n})\nexport default class RollbackActionFloatingPanelStoreModule extends VuexModule {\n\n  private static readonly AUTO_HIDE_TIMEOUT__MILLISECONDS: number = 5000;\n\n  private _displayFlag: boolean = false;\n  private _message: string = \"\";\n\n  private static _onClickRollbackButton: Function = () =&gt; {};\n\n\n  // ...\n\n  @Action\n  private onClickRollbackButton(): void {\n    RollbackActionFloatingPanelStoreModule._onClickRollbackButton();\n  }\n\n  @Mutation\n  private setOnClickRollbackButtonEventHandler(newHandler: Function): void {\n    RollbackActionFloatingPanelStoreModule._onClickRollbackButton = newHandler;\n  }\n}\n</code></pre>\n\n<p>Same error.</p>\n\n<hr>\n\n<h2>Repro</h2>\n\n<p>I'll share the repro as <a href=\"https://github.com/TokugawaTakesi/Repro-VuexDynamicFuction\" rel=\"nofollow noreferrer\">GitHub Repository</a> until this problem will be solved. If you will be kind enough to clone or download this repository, please execute <code>npm i &amp;&amp; npm run JavaScriptBuild</code> in the project directory. Once all npm dependencies will be installed, webpack will build the project and you can open the result on <a href=\"http://localhost:8081/\" rel=\"nofollow noreferrer\">http://localhost:8081/</a></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1154, "user_id": 9739044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jB8Cs.jpg?s=128&g=1", "display_name": "sibabrat swain", "link": "https://stackoverflow.com/users/9739044/sibabrat-swain"}, "edited": false, "score": 0, "creation_date": 1571802463, "post_id": 58515106, "comment_id": 103357130, "body": "Try with this one   <code>return (&#47;[.]&#47;.exec(filename)) ? &#47;[^.]+$&#47;.exec(filename)[0] : undefined;</code>"}, {"owner": {"reputation": 2000, "user_id": 9427395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d52a8e4b5f4f9875d69a059574e3416d?s=128&d=identicon&r=PG&f=1", "display_name": "dasunse", "link": "https://stackoverflow.com/users/9427395/dasunse"}, "edited": false, "score": 0, "creation_date": 1571809983, "post_id": 58515106, "comment_id": 103358830, "body": "try this <a href=\"https://stackoverflow.com/a/55946713/9427395\">stackoverflow.com/a/55946713/9427395</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1154, "user_id": 9739044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jB8Cs.jpg?s=128&g=1", "display_name": "sibabrat swain", "link": "https://stackoverflow.com/users/9739044/sibabrat-swain"}, "is_accepted": false, "score": 0, "last_activity_date": 1571802583, "creation_date": 1571802583, "answer_id": 58515204, "question_id": 58515106, "link": "https://stackoverflow.com/questions/58515106/how-to-get-file-extension-using-regex/58515204#58515204", "title": "How to get file extension using regex?", "body": "<p>Try with this. You need not split it separately. </p>\n\n<pre><code>function getFileExtension(filename) {\n   return (/[.]/.exec(filename)) ? /[^.]+$/.exec(filename)[0] : undefined;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 330, "user_id": 12098447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/896987764f37bc91c1f769feba2251d1?s=128&d=identicon&r=PG&f=1", "display_name": "Ayus Mohanty", "link": "https://stackoverflow.com/users/12098447/ayus-mohanty"}, "is_accepted": true, "score": 1, "last_activity_date": 1571804992, "last_edit_date": 1571804992, "creation_date": 1571804255, "answer_id": 58515422, "question_id": 58515106, "link": "https://stackoverflow.com/questions/58515106/how-to-get-file-extension-using-regex/58515422#58515422", "title": "How to get file extension using regex?", "body": "<p>The file extensions include only numbers and alphabets. So you could use something like below.</p>\n\n<pre><code>function getExtensionFile(filename) {\n   return (filename.match(/\\.[0-9a-zA-Z]+$/i)) ? filename.match(/\\.[0-9a-zA-Z]+$/i)[0] : 0;\n}\n</code></pre>\n\n<p>You can use this logic on a for loop to get extension of the file list.</p>\n"}], "owner": {"reputation": 47, "user_id": 12181008, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-31hWnVvlQQk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcnsUtkWJG0Ld4mXoXjdyTTCRzvuA/photo.jpg?sz=128", "display_name": "Ren", "link": "https://stackoverflow.com/users/12181008/ren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "closed_date": 1571974144, "accepted_answer_id": 58515422, "answer_count": 2, "score": 0, "last_activity_date": 1571804992, "creation_date": 1571801850, "last_edit_date": 1571803659, "question_id": 58515106, "link": "https://stackoverflow.com/questions/58515106/how-to-get-file-extension-using-regex", "closed_reason": "Duplicate", "title": "How to get file extension using regex?", "body": "<p>How do you use regex to get the file extension? \nBelow is the code I'm trying to do. I tried making a method to get the file extension but seems like the method I was creating isn't working. Anyone can help?</p>\n\n<pre><code>public getExtensionFile(files: FileList): void {\nfor(let i = 0; i &lt; files.length; i++) {\n  const file = files[i]; // files names or list\n  let fileDisplay = [];\n  const fileType = /[0-9a-z]+$/.exec(file.name);\n\n  fileDisplay['type'] = file.name.split(\"\\\\.\");\n  if(fileType != null ){\n    fileDisplay['file'] = file;\n\n  } \n  console.log(fileDisplay[files.length-1]);\n }\n}\n\n this.uploadService.fetchUploadInfo(this.resourceId).subscribe(res =&gt; {\n  if (res) {\n    this.getExtensionFile(res);\n    this.histories = res['histories'];\n\n    const model = res['generalInfo'] &amp;&amp; res['generalInfo']['model'];\n    const selectedTagIds = _.map(res['tag']['resourceTags'], 'tagId');\n    const selectedTagItems = _.filter(res['tag']['tags'], function (p) {\n      return _.includes(selectedTagIds, p.key);\n    });\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div class=\"img-box\" *ngFor=\"let file of referenceFiles; let i = index\"&gt;\n          &lt;div (click)=\"removeFile(i)\" class=\"trash-icon\"&gt;\n            &lt;img src=\"assets/icons/trash-alt-solid.svg\" alt=\"\"&gt;\n          &lt;/div&gt;\n          &lt;img [src]=\"file['absoluteUri'].toLowerCase()\"&gt;\n          &lt;div class=\"text\"&gt;\n            &lt;span&gt;{{ file.fileStorageId }}&lt;/span&gt;\n          &lt;/div&gt;\n</code></pre>\n"}]