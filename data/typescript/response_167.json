[{"tags": ["typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "edited": false, "score": 0, "creation_date": 1521681141, "post_id": 49417862, "comment_id": 85839490, "body": "Try to add &quot;export&quot; before type or a variable."}, {"owner": {"reputation": 1289, "user_id": 3486500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b69018d8998aa40d898db0f8bd769fad?s=128&d=identicon&r=PG&f=1", "display_name": "Behrooz", "link": "https://stackoverflow.com/users/3486500/behrooz"}, "edited": false, "score": 0, "creation_date": 1521683857, "post_id": 49417862, "comment_id": 85840071, "body": "To the best of my knowledge, you cannot use undefined names that implicitly resolve to <code>any</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1060, "user_id": 117544, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6af43be6f95a42bab4f8f59babddffd8?s=128&d=identicon&r=PG", "display_name": "Aleksandr Motsjonov", "link": "https://stackoverflow.com/users/117544/aleksandr-motsjonov"}, "edited": false, "score": 0, "creation_date": 1521769853, "post_id": 49420073, "comment_id": 85884316, "body": "That doesn&#39;t answer my question, though."}], "tags": [], "owner": {"reputation": 15994, "user_id": 587407, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/34c9b2871a5c18c38cc226759e17c538?s=128&d=identicon&r=PG", "display_name": "Offirmo", "link": "https://stackoverflow.com/users/587407/offirmo"}, "is_accepted": false, "score": 0, "last_activity_date": 1521689479, "creation_date": 1521689479, "answer_id": 49420073, "question_id": 49417862, "link": "https://stackoverflow.com/questions/49417862/ambient-module-with-some-explicit-interfaces/49420073#49420073", "title": "Ambient module with some explicit interfaces", "body": "<p><code>declare module \"my-module\";</code> is a shortcut for when you can't find an existing declaration file (.d.ts), don't have time to write one nor time to convert the module to typescript.</p>\n\n<p>If you want to write a proper declaration file, the official doc is here: <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-files/introduction.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/declaration-files/introduction.html</a></p>\n\n<p>You can see a live example you may be able to copy <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/random-js/index.d.ts\" rel=\"nofollow noreferrer\">https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/random-js/index.d.ts</a></p>\n\n<p>Be aware that if the module is simple, writing a declaration file can be longer than converting the module to typescript. (YMMV)</p>\n"}], "owner": {"reputation": 1060, "user_id": 117544, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6af43be6f95a42bab4f8f59babddffd8?s=128&d=identicon&r=PG", "display_name": "Aleksandr Motsjonov", "link": "https://stackoverflow.com/users/117544/aleksandr-motsjonov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 142, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521689479, "creation_date": 1521673063, "question_id": 49417862, "link": "https://stackoverflow.com/questions/49417862/ambient-module-with-some-explicit-interfaces", "title": "Ambient module with some explicit interfaces", "body": "<p>When I defined </p>\n\n<pre><code>declare module \"my-module\";\n</code></pre>\n\n<p>I am saying \"You can import anything from this module\" For example:</p>\n\n<pre><code>import {funcFuncFunc} from 'my-module';\n\nfuncFuncFunc(10); // No error here\n</code></pre>\n\n<p>But! I can't use anything imported from this module as a type.</p>\n\n<pre><code>import {BlahBlahBlah} from \"my-module\";\n\nlet a: BlahBlahBlah; // Error like \"Cannot use namespace 'BlahBlahBlah' as a type.\n</code></pre>\n\n<p>If I define this interface specifically like this:</p>\n\n<pre><code>declare module \"my-module\" {\n  type BlahBlahBlah = any;\n}\n</code></pre>\n\n<p>Then the last example will work fine but first will break. </p>\n\n<p><strong>Question:</strong> Is there a way to make a definition such that I can have best of both worlds? I want to define explicit interfaces only for things I want to use as types, and everything else to be implicitly any.</p>\n\n<p>So, this will work:</p>\n\n<pre><code>declare module \"my-module\" {\n  type BlahBlahBlah = any;\n  // + Some any Magic\n}\n\nimport {BlahBlahBlah, funcFuncFunc} from 'my-module';\n\nlet a: BlahBlahBlah;\nfuncFuncFunc(10);\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1521672297, "creation_date": 1521672297, "answer_id": 49417739, "question_id": 49417667, "link": "https://stackoverflow.com/questions/49417667/filtering-array-elements-based-on-in-condition-in-typescript/49417739#49417739", "title": "Filtering array elements based on &#39;in&#39; condition in typescript", "body": "<p>I'd just use something like:</p>\n\n<pre><code>x =&gt; [grade1,grade2,grade3].indexOf(x) != -1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13456, "user_id": 6053654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/7RcDF.png?s=128&g=1", "display_name": "Commercial Suicide", "link": "https://stackoverflow.com/users/6053654/commercial-suicide"}, "is_accepted": false, "score": 2, "last_activity_date": 1521674438, "last_edit_date": 1521674438, "creation_date": 1521672659, "answer_id": 49417809, "question_id": 49417667, "link": "https://stackoverflow.com/questions/49417667/filtering-array-elements-based-on-in-condition-in-typescript/49417809#49417809", "title": "Filtering array elements based on &#39;in&#39; condition in typescript", "body": "<p>When you deal with regular variables, you can just wrap them into additional array <code>[var1, var2, ...]</code> and use <code>includes()</code> for check:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const grade1 = 1,\r\n      grade2 = 2,\r\n      grade3 = 3;\r\nconst employeeList = [\r\n  { grade: 1 },\r\n  { grade: 3 },\r\n  { grade: 4 },\r\n  { grade: 8 },\r\n  { grade: 9 }\r\n];\r\n\r\nconst result = employeeList.filter(x =&gt; [grade1,grade2,grade3].includes(x.grade));\r\nconsole.log(result) // should print the array with objects {\"grade\": 1} and {\"grade\": 3}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 465, "user_id": 748756, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/405a0765df4cd97e2e3d723f631c0dac?s=128&d=identicon&r=PG", "display_name": "Satya", "link": "https://stackoverflow.com/users/748756/satya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1521674438, "creation_date": 1521671898, "last_edit_date": 1521672852, "question_id": 49417667, "link": "https://stackoverflow.com/questions/49417667/filtering-array-elements-based-on-in-condition-in-typescript", "title": "Filtering array elements based on &#39;in&#39; condition in typescript", "body": "<p>I have an arrayList which contains employees information like employeename, grade, designation. I have a multiselect component in my view which returns an array of grades like <code>[1,2,3]</code> once we choose <code>grade1</code>, <code>grade2</code>, <code>grade3</code> from the multiselect dropdown. Is there a way to filter my employeelist based on these grades array? Similar like this:</p>\n\n<pre><code>this.employeeList.filter(x=&gt; x.grade in (grade1,grade2,grade3));\n</code></pre>\n\n<p>Or is there otherway to acheive this? Basically I need to filter my employeelist based on multiselect values. Please suggest as I am new to typescript. \n Your help is very much appreciated.</p>\n"}, {"tags": ["angular", "typescript", "ionic3", "javascript-objects"], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 6242644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fwRPf.png?s=128&g=1", "display_name": "kenef", "link": "https://stackoverflow.com/users/6242644/kenef"}, "edited": false, "score": 0, "creation_date": 1521674502, "post_id": 49417779, "comment_id": 85837895, "body": "Thanks a ton man, this got me going:          this.dataSet = newArr.sort(function(a, b) {             return parseFloat(a.distance) - parseFloat(b.distance);         });"}, {"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "reply_to_user": {"reputation": 183, "user_id": 6242644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fwRPf.png?s=128&g=1", "display_name": "kenef", "link": "https://stackoverflow.com/users/6242644/kenef"}, "edited": false, "score": 0, "creation_date": 1521674546, "post_id": 49417779, "comment_id": 85837911, "body": "Glad to help :)"}], "tags": [], "owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1521672500, "creation_date": 1521672500, "answer_id": 49417779, "question_id": 49417661, "link": "https://stackoverflow.com/questions/49417661/reorder-the-objects-in-an-array-by-object-property-numeric-values/49417779#49417779", "title": "Reorder the objects in an array by object property numeric values", "body": "<p>For arrays you can just use <code>sort</code>, though this will not update automatically if new items are added as a view binding with sort order would:</p>\n\n<pre><code>list.sort((a, b) =&gt; a.distance - b.distance);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 183, "user_id": 6242644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fwRPf.png?s=128&g=1", "display_name": "kenef", "link": "https://stackoverflow.com/users/6242644/kenef"}, "is_accepted": true, "score": 0, "last_activity_date": 1521674562, "creation_date": 1521674562, "answer_id": 49418097, "question_id": 49417661, "link": "https://stackoverflow.com/questions/49417661/reorder-the-objects-in-an-array-by-object-property-numeric-values/49418097#49418097", "title": "Reorder the objects in an array by object property numeric values", "body": "<p>This was the magic:</p>\n\n<pre><code>    this.dataSet = newArr.sort(function(a, b) {\n        return parseFloat(a.distance) - parseFloat(b.distance);\n    });\n</code></pre>\n"}], "owner": {"reputation": 183, "user_id": 6242644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fwRPf.png?s=128&g=1", "display_name": "kenef", "link": "https://stackoverflow.com/users/6242644/kenef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "accepted_answer_id": 49418097, "answer_count": 2, "score": 0, "last_activity_date": 1521674562, "creation_date": 1521671850, "last_edit_date": 1521671926, "question_id": 49417661, "link": "https://stackoverflow.com/questions/49417661/reorder-the-objects-in-an-array-by-object-property-numeric-values", "title": "Reorder the objects in an array by object property numeric values", "body": "<p>I have an ionic cordova app I'm working in that runs on typescript. I have an array of objects. Each object contains information for a location. One of the fields in each location is the distance in miles from the user. When printing these locations to the template, I need to print them in order from smallest distance to largest. I'm new to typescript. </p>\n\n<p>Here is an example of my array of objects:</p>\n\n<pre><code>    (7) [Object, Object, Object, Object, Object, Object, Object]\n    0:Object\n        distance:17.24\n        emails:\"someemail@email.com, anotheremail@email.com\"\n        location_adress:\"555 Address Road, San Antonio, TX, United States\"\n        location_city:\"San Antonio\"\n        location_fax:\"555-555-5551\"\n        location_id:\"1\"\n        location_image:\"http://CDN/path/to/image1.jpg\"\n        location_latitude:\"29.3778525\"\n        location_longitude:\"-98.50377409999999\"\n        location_name:\"Some Name1\"\n        location_phone:\"555-555-5551\"\n        location_state:\"Texas\"\n        location_status:\"1\"\n        location_street:\"555 Address Road\"\n        location_zip_code:\"78214\"\n        __proto__:Object\n    1:Object\n        distance:19.994\n        emails:\"someemail@email.com, anotheremail@email.com\"\n        location_adress:\"556 Address Road, San Antonio, TX, United States\"\n        location_city:\"San Antonio\"\n        location_fax:\"\"\n        location_id:\"3\"\n        location_image:\"http://CDN/path/to/image2.jpg\"\n        location_latitude:\"29.4592474\"\n        location_longitude:\"-98.64008209999997\"\n        location_name:\"Some Name2\"\n        location_phone:\"555-555-5552\"\n        location_state:\"Texas\"\n        location_status:\"1\"\n        location_street:\"556 Address Road\"\n        location_zip_code:\"78251\"\n        __proto__:Object\n    2:Object\n        distance:14.19\n        emails:\"someemail@email.com, anotheremail@email.com\"\n        location_adress:\"557 Address Road, San Antonio, TX, United States\"\n        location_city:\"San Antonio\"\n        location_fax:\"\"\n        location_id:\"4\"\n        location_image:\"http://CDN/path/to/image3.jpg\"\n        location_latitude:\"29.45775019999999\"\n        location_longitude:\"-98.5540115\"\n        location_name:\"Some Name3\"\n        location_phone:\"555-555-5553\"\n        location_state:\"Texas\"\n        location_status:\"1\"\n        location_street:\"557 Address Street\"\n        location_zip_code:\"78228\"\n        __proto__:Object\n    ...... ect...\n</code></pre>\n\n<p>How can I sort these objects by smallest distance number to largest in my component file? I'll then print the correct order to my template.</p>\n\n<p>Here is the block in my template as-is that prints the objects:</p>\n\n<pre><code>  &lt;ion-col col-12 col-sm-6&gt;\n\n    &lt;div class=\"list-results\"&gt;\n\n      &lt;div class=\"zip-result\" *ngFor=\"let item of dataSet\" (click)=\"push(item.location_id)\"&gt;\n        &lt;p class=\"location-name\"&gt;{{item.location_name}}&lt;/p&gt;\n        &lt;p class=\"address\"&gt;&lt;ion-icon name=\"navigate-outline\"&gt;&lt;/ion-icon&gt; {{item.location_adress}}&lt;/p&gt;\n        &lt;p class=\"go-to-location\"&gt;\n            &lt;ion-icon name=\"arrow-forward\" &gt;&lt;/ion-icon&gt;\n        &lt;/p&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/ion-col&gt;\n</code></pre>\n\n<p>This seems so simple yet I can't find anything on this other than \"angular2+ does not allow orderBy\", no big deal if I can reorder them in the component file. Any ideas?</p>\n"}, {"tags": ["typescript", "payment-request-api"], "answers": [{"tags": [], "owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "is_accepted": true, "score": 0, "last_activity_date": 1521669895, "creation_date": 1521669895, "answer_id": 49417287, "question_id": 49417274, "link": "https://stackoverflow.com/questions/49417274/typescript-and-canmakepayment/49417287#49417287", "title": "TypeScript and canMakePayment", "body": "<p>I would recommend writing a small <code>.d.ts</code> file and reference that while the library type definitions do not include the complete interface yet.</p>\n\n<p>i.e. containing something like:</p>\n\n<pre><code>declare interface PaymentRequest\n{\n    canMakePayment(): boolean; // Or whatever the correct type signature is.\n}\n</code></pre>\n\n<p>If you place it in an <code>@types</code> directory it might be picked up automatically. Else use a reference comment, e.g. <code>/// &lt;reference path=\"payment-request-extension.d.ts\" /&gt;</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1624, "user_id": 323935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WFuTx.jpg?s=128&g=1", "display_name": "agektmr", "link": "https://stackoverflow.com/users/323935/agektmr"}, "is_accepted": false, "score": 1, "last_activity_date": 1522031328, "creation_date": 1522031328, "answer_id": 49483112, "question_id": 49417274, "link": "https://stackoverflow.com/questions/49417274/typescript-and-canmakepayment/49483112#49483112", "title": "TypeScript and canMakePayment", "body": "<p>I found <code>canMakePayment()</code> entry in TypeScript's code.</p>\n\n<p><a href=\"https://github.com/Microsoft/TypeScript/blob/master/src/lib/dom.generated.d.ts#L9737\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/blob/master/src/lib/dom.generated.d.ts#L9737</a></p>\n\n<p>I'm not a TypeScript expert but I assume you can import this?</p>\n"}], "owner": {"reputation": 450, "user_id": 2034247, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5303145e8f34a1ac6f3562c9288c68c7?s=128&d=identicon&r=PG", "display_name": "Andrew Davis", "link": "https://stackoverflow.com/users/2034247/andrew-davis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "accepted_answer_id": 49417287, "answer_count": 2, "score": 0, "last_activity_date": 1522031328, "creation_date": 1521669840, "question_id": 49417274, "link": "https://stackoverflow.com/questions/49417274/typescript-and-canmakepayment", "title": "TypeScript and canMakePayment", "body": "<p>I'm trying to make a system that uses the Payment Request Api and for the most part its successful, but TypeScript doesn't seem to have a definition for <code>canMakePayment</code> under the <code>PaymentRequest</code> object.</p>\n\n<p>Am I missing something or do I need to cast it to <code>any</code> so my Typescript builds?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "ngfor", "apollo-client"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 3658434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25d4023f8a4e2a54fc7e06c98be9dd7e?s=128&d=identicon&r=PG&f=1", "display_name": "user3658434", "link": "https://stackoverflow.com/users/3658434/user3658434"}, "edited": false, "score": 0, "creation_date": 1521672640, "post_id": 49417193, "comment_id": 85837289, "body": "I tried this, please see update above. Having trouble accessing the data when using subscribe(), even though ngFor | async accesses it just fine"}, {"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "reply_to_user": {"reputation": 11, "user_id": 3658434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25d4023f8a4e2a54fc7e06c98be9dd7e?s=128&d=identicon&r=PG&f=1", "display_name": "user3658434", "link": "https://stackoverflow.com/users/3658434/user3658434"}, "edited": false, "score": 0, "creation_date": 1521672889, "post_id": 49417193, "comment_id": 85837392, "body": "You can just look at the interface of <code>ApolloQueryResult</code>, if everything in your code is typed correctly, you need to access its <code>data</code> property, which in your case should contain a <code>PostsInterface</code>."}], "tags": [], "owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1521669461, "creation_date": 1521669461, "answer_id": 49417193, "question_id": 49417113, "link": "https://stackoverflow.com/questions/49417113/angular-object-iterable-with-ngfor-but-not-in-typescript/49417193#49417193", "title": "Angular: Object iterable with ngFor but not in Typescript?", "body": "<p>The <code>async</code> pipe awaits the results of the query. You would have to do that in your TypeScript code as well. This can probably be done by <a href=\"http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#instance-method-subscribe\" rel=\"nofollow noreferrer\">subscribing</a> to <code>this.posts.valueChanges</code> which should be an <a href=\"http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html\" rel=\"nofollow noreferrer\">observable</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "edited": false, "score": 1, "creation_date": 1521671633, "post_id": 49417565, "comment_id": 85837011, "body": "That is a faulty inference. Simply because the object cannot be iterated as tried, does not mean that the <i>object itself should be iterated at all</i>. You cannot assume that the keys will contain the data you need."}, {"owner": {"reputation": 11, "user_id": 3658434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25d4023f8a4e2a54fc7e06c98be9dd7e?s=128&d=identicon&r=PG&f=1", "display_name": "user3658434", "link": "https://stackoverflow.com/users/3658434/user3658434"}, "edited": false, "score": 0, "creation_date": 1521672387, "post_id": 49417565, "comment_id": 85837226, "body": "Tried this and it removed the compile error, but it gave junk data."}, {"owner": {"reputation": 7733, "user_id": 6335049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEatl.jpg?s=128&g=1", "display_name": "Narm", "link": "https://stackoverflow.com/users/6335049/narm"}, "edited": false, "score": 0, "creation_date": 1521672774, "post_id": 49417565, "comment_id": 85837339, "body": "Would you please show an example of what the <code>this.post</code> object looks like? It is challenging to understand why it isn&#39;t working without know what the object in question is."}], "tags": [], "owner": {"reputation": 7733, "user_id": 6335049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEatl.jpg?s=128&g=1", "display_name": "Narm", "link": "https://stackoverflow.com/users/6335049/narm"}, "is_accepted": false, "score": 0, "last_activity_date": 1521671353, "creation_date": 1521671353, "answer_id": 49417565, "question_id": 49417113, "link": "https://stackoverflow.com/questions/49417113/angular-object-iterable-with-ngfor-but-not-in-typescript/49417565#49417565", "title": "Angular: Object iterable with ngFor but not in Typescript?", "body": "<p>In addition to what @H.B. said, your error description:</p>\n\n<blockquote>\n  <p>\"I get the error \"Type 'QueryRef>'\n  is not an array type or a string type.\"</p>\n</blockquote>\n\n<p>Leads me to believe that <code>this.posts</code> is an object in which case you cannot use the <strong>for'of</strong> syntax. For objects you have to use <strong>for'in</strong>. </p>\n\n<pre><code>for (let key in this.posts) {\n      console.log(\"Post name is: \" + this.posts[key].name);\n    }\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 3658434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25d4023f8a4e2a54fc7e06c98be9dd7e?s=128&d=identicon&r=PG&f=1", "display_name": "user3658434", "link": "https://stackoverflow.com/users/3658434/user3658434"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 601, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1521739279, "creation_date": 1521669104, "last_edit_date": 1521739279, "question_id": 49417113, "link": "https://stackoverflow.com/questions/49417113/angular-object-iterable-with-ngfor-but-not-in-typescript", "title": "Angular: Object iterable with ngFor but not in Typescript?", "body": "<p>I have the following:</p>\n\n<pre><code>public posts: QueryRef&lt;PostsInterface&gt;;\n\nthis.posts = this._postService.get(); //in ngOnInit\n</code></pre>\n\n<p>And in the corresponding HTML:</p>\n\n<pre><code>&lt;mat-card *ngFor=\"let post of posts | async\"&gt;\n</code></pre>\n\n<p>And then am able to display each post's fields in html using {{post.name}}, etc.</p>\n\n<p><strong>My question is, how can I achieve the same iteration through the posts QueryRef inside typescript?</strong> When I try the following:</p>\n\n<pre><code>for (let post of this.posts) {\n      console.log(\"Post name is: \" + post.name);\n    }\n</code></pre>\n\n<p>I get the error <code>\"Type 'QueryRef&lt;PostsInterface, Record&lt;string, any&gt;&gt;' is not an array type or a string type.\"</code>\nIf ngFor is able to iterate through the QueryRef, there must be some way to do it in the typescript itself?</p>\n\n<p>Ultimately I want to display the data in a table with a paginator. Having trouble achieving this with mat-table. Are there any examples of displaying data grabbed with apollographql in a mat-table?</p>\n\n<p><strong>Update:</strong>\nI tried subscribing in ngOnInit like so:</p>\n\n<pre><code>this.posts.valueChanges.subscribe((post1: ApolloQueryResult&lt;PostsInterface&gt;) =&gt; {\n        console.log(\"name is: \"+ post1.name)\n    });\n</code></pre>\n\n<p>But this gives the error: Property 'name' does not exist on type 'ApolloQueryResult'. Again, this property can be accessed with no problem when iterating with the *ngFor and async pipe as described above.</p>\n\n<p><strong>Second update:</strong>\nI learned that QueryRef is not actually an Observable or iterable at all, which led me to discover that posts is being incorrectly typed as QueryRef, when it should be an Observable. This happened when I was migrating to Apollo 2.0; I just didn't do it right.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 2843, "user_id": 165713, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/98d4242c872913f1d9c6e3fc37c529d9?s=128&d=identicon&r=PG", "display_name": "Chris Long", "link": "https://stackoverflow.com/users/165713/chris-long"}, "is_accepted": false, "score": 1, "last_activity_date": 1521668263, "creation_date": 1521668263, "answer_id": 49416942, "question_id": 49416941, "link": "https://stackoverflow.com/questions/49416941/how-to-get-all-values-in-a-string-enum/49416942#49416942", "title": "How to get all values in a string enum?", "body": "<p>According to <a href=\"https://github.com/Microsoft/TypeScript/issues/17198#issuecomment-315400819\" rel=\"nofollow noreferrer\">this GitHub comment</a>, this can be achieved the following way:</p>\n\n<pre><code>Object.keys(FruitColors).map(c =&gt; FruitColors[c]);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2843, "user_id": 165713, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/98d4242c872913f1d9c6e3fc37c529d9?s=128&d=identicon&r=PG", "display_name": "Chris Long", "link": "https://stackoverflow.com/users/165713/chris-long"}, "edited": false, "score": 0, "creation_date": 1521669531, "post_id": 49416966, "comment_id": 85836213, "body": "Just tried this, and it worked perfectly! It wasn&#39;t showing up in my <code>lib.d.ts</code>, but became available after setting <code>&quot;target&quot;: &quot;ES2017&quot;</code> in my <code>tsconfig.json</code>."}], "tags": [], "owner": {"reputation": 796429, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "is_accepted": true, "score": 8, "last_activity_date": 1521668411, "creation_date": 1521668411, "answer_id": 49416966, "question_id": 49416941, "link": "https://stackoverflow.com/questions/49416941/how-to-get-all-values-in-a-string-enum/49416966#49416966", "title": "How to get all values in a string enum?", "body": "<p>You're looking for <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/values\" rel=\"noreferrer\"><code>Object.values()</code></a></p>\n"}, {"tags": [], "owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "is_accepted": false, "score": 1, "last_activity_date": 1521668968, "creation_date": 1521668968, "answer_id": 49417089, "question_id": 49416941, "link": "https://stackoverflow.com/questions/49416941/how-to-get-all-values-in-a-string-enum/49417089#49417089", "title": "How to get all values in a string enum?", "body": "<p>You can inspect the <code>FruitColors</code> object. Note that if you do not assign names for the enum values, the generated code will be different and a simple key/value based mapping will lead to wrong results. e.g.</p>\n\n<pre><code>export enum FruitColors {\n    \"Red\",\n    \"Yellow\",\n}\n\nObject.values(FruitColors); // [\"Red\", \"Yellow\", 0, 1]\n</code></pre>\n\n<p>Because the generated code is along these lines:</p>\n\n<pre><code>var FruitColors;\n(function (FruitColors) {\n    FruitColors[FruitColors[\"Red\"] = 0] = \"Red\";\n    FruitColors[FruitColors[\"Yellow\"] = 1] = \"Yellow\";\n})(FruitColors = exports.FruitColors || (exports.FruitColors = {}));\n</code></pre>\n\n<p>You could then just filter the results by <code>typeof value == \"string\"</code>.</p>\n"}], "owner": {"reputation": 2843, "user_id": 165713, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/98d4242c872913f1d9c6e3fc37c529d9?s=128&d=identicon&r=PG", "display_name": "Chris Long", "link": "https://stackoverflow.com/users/165713/chris-long"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2954, "favorite_count": 2, "accepted_answer_id": 49416966, "answer_count": 3, "score": 5, "last_activity_date": 1521668968, "creation_date": 1521668263, "question_id": 49416941, "link": "https://stackoverflow.com/questions/49416941/how-to-get-all-values-in-a-string-enum", "title": "How to get all values in a string enum?", "body": "<p>I have a string enum and need to get all the values. For instance, for the below enum, I'd like to return <code>[\"Red\", \"Yellow\"]</code>:</p>\n\n<pre><code>export enum FruitColors {\n    Apple = \"Red\",\n    Banana = \"Yellow\",\n}\n</code></pre>\n"}, {"tags": ["cordova", "typescript", "ionic3", "angular5"], "comments": [{"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "edited": false, "score": 0, "creation_date": 1521667706, "post_id": 49416572, "comment_id": 85835400, "body": "What exactly fails? What is the error and the corresponding code?"}, {"owner": {"reputation": 12982, "user_id": 1092815, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6d49e7c487938aac490de390f46a2d98?s=128&d=identicon&r=PG", "display_name": "GabLeRoux", "link": "https://stackoverflow.com/users/1092815/gableroux"}, "reply_to_user": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "edited": false, "score": 0, "creation_date": 1521670190, "post_id": 49416572, "comment_id": 85836504, "body": "The test that uses the mock should indeed be shown here as well. @H.B. I&#39;ve seen this and it&#39;s not much about the failing test; in a few words, we expect <code>this</code> in <code>concatMap</code> to be a <code>scanBusinessCard</code> object, but it&#39;s not the case, it&#39;s a <code>SafeSubscriber</code> object when mocked with above <code>ScanServiceMock</code>."}, {"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "reply_to_user": {"reputation": 12982, "user_id": 1092815, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6d49e7c487938aac490de390f46a2d98?s=128&d=identicon&r=PG", "display_name": "GabLeRoux", "link": "https://stackoverflow.com/users/1092815/gableroux"}, "edited": false, "score": 1, "creation_date": 1521671343, "post_id": 49416572, "comment_id": 85836903, "body": "@GabLeRoux: <code>this</code> should only be bound incorrectly, if the code is invoked the wrong way."}, {"owner": {"reputation": 1931, "user_id": 3445926, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/075p2.jpg?s=128&g=1", "display_name": "FisNaN", "link": "https://stackoverflow.com/users/3445926/fisnan"}, "edited": false, "score": 0, "creation_date": 1521679568, "post_id": 49416572, "comment_id": 85839177, "body": "Try replacing <code>scanBusinessCard</code> with arrow function"}], "owner": {"reputation": 21, "user_id": 9531143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23e06578185ac97f98a6c26c1effb1a5?s=128&d=identicon&r=PG&f=1", "display_name": "VBDOTNET", "link": "https://stackoverflow.com/users/9531143/vbdotnet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 156, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1521670764, "creation_date": 1521666622, "last_edit_date": 1521670397, "question_id": 49416572, "link": "https://stackoverflow.com/questions/49416572/this-is-replaced-by-safesubscriber", "title": "this is replaced by SafeSubscriber", "body": "<p>We are experiencing an issue with our code using Angular5 and Ionic 3.</p>\n\n<p>In our project, we are using a plugin to interact with the camera to scan business cards. When the scan is completed, we need to show an Ionic Loading to tell the user that his picture is uploading. This feature works well on mobile, but the unit tests for the feature fails. </p>\n\n<p>Here's an example of the code executed when the user scans a business card:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>public scanBusinessCard(fab?: FabContainer): void {\n    if (fab) fab.close();\n    let that: ContactListPage = this;\n\n    this.scanService.scanBusinessCard().pipe(\n      concatMap((picture: string) =&gt; {\n        this.loading = this.loadingCtrl.create({\n          content: this.uploadingText,\n        });\n\n        this.loading.present();\n        return this.scanService.saveBusinessCard(picture);\n      }),\n    ).subscribe({\n      next: (data) =&gt; {\n        that.loading.dismiss();\n        this.createModal('ContactEditionPage', {contactId: data.contact}, () =&gt; {\n          this.loadContacts();\n        });\n      },\n      error: (error) =&gt; {\n        if (error === 'No Image Selected') {\n          that.loading.dismiss();\n          return;\n        }\n        this.errorHandlerService.handleError(error);\n      },\n    });\n  }\n</code></pre>\n\n<p><strong>In the <a href=\"https://www.learnrxjs.io/operators/transformation/concatmap.html\" rel=\"nofollow noreferrer\"><code>concatMap</code></a> section, the type of <code>this</code> is <code>SafeSubscriber</code> so we can't access our object's variables.</strong></p>\n\n<p>We think that's related to the <code>mock</code> we use for the test, here's the <code>ScanServiceMock</code> code: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Observable } from 'rxjs/Observable';\nimport { ErrorObservable } from 'rxjs/observable/ErrorObservable';\n\nexport class ScanServiceMock {\n  // The picture returned by scanBusinessCard\n  public picture: string = '';\n\n  public raiseErrorOnScan: boolean = false;\n  public raiseErrorOnSave: boolean = false;\n\n  public scanBusinessCardSpy: jasmine.Spy;\n  public saveBusinessCardSpy: jasmine.Spy;\n\n  constructor() {\n    this.scanBusinessCardSpy = spyOn(this, 'scanBusinessCard').and.callThrough();\n    this.saveBusinessCardSpy = spyOn(this, 'saveBusinessCard').and.callThrough();\n  }\n\n  public scanBusinessCard(): Observable&lt;string&gt; {\n    if (this.raiseErrorOnScan) {\n      return ErrorObservable.create('Error');\n    }\n\n    return Observable.of(this.picture);\n  }\n\n  public saveBusinessCard(): Observable&lt;void&gt; {\n    if (this.raiseErrorOnSave) {\n      return ErrorObservable.create('Error');\n    }\n\n    return Observable.of();\n  }\n}\n</code></pre>\n\n<p>Are we doing something wrong? We tried <code>let that = this</code>, but within the <code>concatMap</code> section, <code>that</code> is <code>undefined</code>. Any ideas?</p>\n"}, {"tags": ["angular", "typescript", "types"], "comments": [{"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "edited": false, "score": 1, "creation_date": 1521666653, "post_id": 49416483, "comment_id": 85834908, "body": "That code does exactly what i expect it to do."}, {"owner": {"reputation": 13387, "user_id": 965834, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BiCtr.png?s=128&g=1", "display_name": "Jeto", "link": "https://stackoverflow.com/users/965834/jeto"}, "edited": false, "score": 1, "creation_date": 1521666976, "post_id": 49416483, "comment_id": 85835053, "body": "You need to return <code>typeof obj[key]</code> if you want its type. <code>obj[key]</code> is what it is, the value for that key."}, {"owner": {"reputation": 506, "user_id": 2345084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b14e142971b72341afb3d1662e6b942?s=128&d=identicon&r=PG", "display_name": "Farhad", "link": "https://stackoverflow.com/users/2345084/farhad"}, "reply_to_user": {"reputation": 13387, "user_id": 965834, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BiCtr.png?s=128&g=1", "display_name": "Jeto", "link": "https://stackoverflow.com/users/965834/jeto"}, "edited": false, "score": 0, "creation_date": 1521671100, "post_id": 49416483, "comment_id": 85836820, "body": "@Jeto :: Not actually, You would get a return value of the type &quot;string&quot; | &quot;number&quot; | &quot;boolean&quot; | &quot;symbol&quot; | &quot;undefined&quot; | &quot;object&quot; | &quot;function&quot;, because you&#39;re using the JavaScript typeof operator at runtime, which returns a string like &quot;object&quot;, not the compile-time type seen by TypeScript."}, {"owner": {"reputation": 13387, "user_id": 965834, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BiCtr.png?s=128&g=1", "display_name": "Jeto", "link": "https://stackoverflow.com/users/965834/jeto"}, "edited": false, "score": 0, "creation_date": 1521671776, "post_id": 49416483, "comment_id": 85837054, "body": "@Farhad True, but what about <code>obj[key].constructor.name</code> then? See <a href=\"https://stackblitz.com/edit/angular-cjcxa6\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-cjcxa6</a> (only main.ts is used, check browser console) for an example. I&#39;m fairly new to TypeScript so sorry if that&#39;s obvious (<code>object.constructor</code> is just JS though)."}], "answers": [{"tags": [], "owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1521667503, "last_edit_date": 1521667503, "creation_date": 1521666941, "answer_id": 49416635, "question_id": 49416483, "link": "https://stackoverflow.com/questions/49416483/in-angular-component-try-to-get-class-propertys-type/49416635#49416635", "title": "In Angular component try to get class property&#39;s type", "body": "<blockquote>\n  <p>You can use this pattern with other parts of the type system to get type-safe lookups</p>\n</blockquote>\n\n<p>...is what was stated, which is this: Getting property <em>values</em>.</p>\n\n<p>If you want to get type information you have to use things like <a href=\"https://github.com/rbuckton/reflect-metadata\" rel=\"nofollow noreferrer\">reflect-metadata</a>. Not sure if the emission of this information can be fully automated though. Types in TypeScript only exist before compilation, so without using some kind of annotation system, there is no way of getting that information during run time.</p>\n\n<p>You can of course always get the type of a value using <code>typeof</code> (could be added to the function above) but you will always need an instance of the class and the property has to be set to a valid value.</p>\n"}], "owner": {"reputation": 506, "user_id": 2345084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b14e142971b72341afb3d1662e6b942?s=128&d=identicon&r=PG", "display_name": "Farhad", "link": "https://stackoverflow.com/users/2345084/farhad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 785, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1521677239, "creation_date": 1521666251, "last_edit_date": 1521677239, "question_id": 49416483, "link": "https://stackoverflow.com/questions/49416483/in-angular-component-try-to-get-class-propertys-type", "title": "In Angular component try to get class property&#39;s type", "body": "<p>Try to get type of properties of an object based on the following <strong>typescript</strong> tutorial <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html\" rel=\"nofollow noreferrer\">link</a> but it acts like javascript and returns value of the property instead of the type:</p>\n\n<pre><code>const x = { foo: 10, bar: 'hello!' };\nconst foo = getProperty(x, 'foo'); // number\nconsole.log(foo);\n\nfunction getProperty&lt;T, K extends keyof T&gt;(obj: T, key: K) {\n  return obj[key];  // Inferred type is T[K]\n}\n</code></pre>\n\n<p>but it shows the value 10 instead of type number for example.\nAny idea?</p>\n\n<p>To clarify, please look into the following link, which is about TypeScript keyof and Lookup Types, I expect the above code in typescript angular component returns the type of property, not the value of that: </p>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html</a></p>\n"}, {"tags": ["javascript", "c#", "asp.net-mvc", "entity-framework", "typescript"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1521664526, "post_id": 49415986, "comment_id": 85833863, "body": "Search for &quot;BigInt&quot; and similar libraries. See <a href=\"https://stackoverflow.com/q/4557509/215552\">this question and its answers</a>."}, {"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 0, "creation_date": 1521664721, "post_id": 49415986, "comment_id": 85833982, "body": "Lucky escape with double... at that size it would have caused problems anyway. Somewhat unintuitively <code>(1.0e+100 + 1) == 1.0e+100</code> is <code>true</code>. Hmm..."}, {"owner": {"reputation": 7438, "user_id": 146773, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/f2c9dcd00b4947cd026f6afbfeb137b2?s=128&d=identicon&r=PG", "display_name": "matthy", "link": "https://stackoverflow.com/users/146773/matthy"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1521722338, "post_id": 49415986, "comment_id": 85859021, "body": "@MikeMcCaughan yes that would solve the problem for the JS part, however not the EF / C# part"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1521753705, "post_id": 49415986, "comment_id": 85879310, "body": "Actually, searching for bigint for .NET/C# yields <a href=\"https://stackoverflow.com/q/176775/215552\">stackoverflow.com/q/176775/215552</a> and <a href=\"https://stackoverflow.com/q/279038/215552\">stackoverflow.com/q/279038/215552</a>"}, {"owner": {"reputation": 7438, "user_id": 146773, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/f2c9dcd00b4947cd026f6afbfeb137b2?s=128&d=identicon&r=PG", "display_name": "matthy", "link": "https://stackoverflow.com/users/146773/matthy"}, "edited": false, "score": 0, "creation_date": 1523629425, "post_id": 49415986, "comment_id": 86653225, "body": "sorry for the late reply, i found this, but cant seem to find how to intergrate that in the EF (Entity framework V4) when i make a property with type of BigInteger it wont make a field for in the Database"}], "owner": {"reputation": 7438, "user_id": 146773, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/f2c9dcd00b4947cd026f6afbfeb137b2?s=128&d=identicon&r=PG", "display_name": "matthy", "link": "https://stackoverflow.com/users/146773/matthy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521664338, "creation_date": 1521664338, "question_id": 49415986, "link": "https://stackoverflow.com/questions/49415986/working-with-really-big-numbers-e1000-using-ef-asp-mvc-typescript-kn", "title": "Working with really big numbers (E+1000) using EF -&gt; ASP MVC -&gt; Typescript -&gt; Knockout", "body": "<p>I am using the following setup.\n- Backend Entity framework V4\n- Controller ASP.NET MCV\n- FrontEnd Typescript with Knockout JS</p>\n\n<p>I am creating a incremental game like cookie clicker, and clicker heroes. Where you get income and more money constantly.</p>\n\n<p>However now i am in the following issue the max size of a double is:\n1.7976931348623157E+308 (<a href=\"https://msdn.microsoft.com/en-us/library/system.double.maxvalue(v=vs.110).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/system.double.maxvalue(v=vs.110).aspx</a>)</p>\n\n<p>And the max size of a number in Javscript is: 1.7976931348623157e+308\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_VALUE\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_VALUE</a></p>\n\n<p>But i want to store, show and calculate with numbers bigger then that.\nI tried looking at the BigInteger class but EF does not know how to store that.</p>\n\n<p>Also i would not know how to intergrate that with typescript.\nI looked further but could not find any framework or class fitting my problem?\nIs there something for this, or do i need to build something from scratch?</p>\n"}, {"tags": ["reactjs", "typescript", "react-scripts"], "comments": [{"owner": {"reputation": 2336, "user_id": 1985912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MzQwC.jpg?s=128&g=1", "display_name": "Striped", "link": "https://stackoverflow.com/users/1985912/striped"}, "edited": false, "score": 0, "creation_date": 1521664080, "post_id": 49415680, "comment_id": 85833636, "body": "Did you try with the extension <code>.&#47;DiamondNodeModel.ts</code> ?"}, {"owner": {"reputation": 2620, "user_id": 2884250, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d880b0bfc6c878de208f1cc98b90e49a?s=128&d=identicon&r=PG&f=1", "display_name": "beek", "link": "https://stackoverflow.com/users/2884250/beek"}, "reply_to_user": {"reputation": 2336, "user_id": 1985912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MzQwC.jpg?s=128&g=1", "display_name": "Striped", "link": "https://stackoverflow.com/users/1985912/striped"}, "edited": false, "score": 0, "creation_date": 1521664534, "post_id": 49415680, "comment_id": 85833870, "body": "Yes sorry I forgot to mention, that finds the file but it won&#39;t compile when added to component via this.diagramModel = new DiamondNodeModel()"}, {"owner": {"reputation": 2620, "user_id": 2884250, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d880b0bfc6c878de208f1cc98b90e49a?s=128&d=identicon&r=PG&f=1", "display_name": "beek", "link": "https://stackoverflow.com/users/2884250/beek"}, "reply_to_user": {"reputation": 2336, "user_id": 1985912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MzQwC.jpg?s=128&g=1", "display_name": "Striped", "link": "https://stackoverflow.com/users/1985912/striped"}, "edited": false, "score": 0, "creation_date": 1521665558, "post_id": 49415680, "comment_id": 85834384, "body": "Do I have to convert the whole app to use TypeScript to have a typescript component in my javascript app?"}, {"owner": {"reputation": 2760, "user_id": 1840794, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/5pGqw.jpg?s=128&g=1", "display_name": "David Nore&#241;a", "link": "https://stackoverflow.com/users/1840794/david-nore%c3%b1a"}, "edited": false, "score": 0, "creation_date": 1521669373, "post_id": 49415680, "comment_id": 85836140, "body": "you need to configure typescript loader in your webpack configuration ... did you do that ?"}, {"owner": {"reputation": 2620, "user_id": 2884250, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d880b0bfc6c878de208f1cc98b90e49a?s=128&d=identicon&r=PG&f=1", "display_name": "beek", "link": "https://stackoverflow.com/users/2884250/beek"}, "edited": false, "score": 0, "creation_date": 1521669490, "post_id": 49415680, "comment_id": 85836186, "body": "Ahh thanks I thought it was something to do with that. I have no webpack configuration via react-scripts and don&#39;t really want to eject. Is that possible via react scripts?"}, {"owner": {"reputation": 2620, "user_id": 2884250, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d880b0bfc6c878de208f1cc98b90e49a?s=128&d=identicon&r=PG&f=1", "display_name": "beek", "link": "https://stackoverflow.com/users/2884250/beek"}, "edited": false, "score": 0, "creation_date": 1521669782, "post_id": 49415680, "comment_id": 85836313, "body": "Thanks that now seems to be generating jsx files under the typescript files. Is this correct?"}, {"owner": {"reputation": 2620, "user_id": 2884250, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d880b0bfc6c878de208f1cc98b90e49a?s=128&d=identicon&r=PG&f=1", "display_name": "beek", "link": "https://stackoverflow.com/users/2884250/beek"}, "edited": false, "score": 0, "creation_date": 1521670329, "post_id": 49415680, "comment_id": 85836558, "body": "Add this as an answer and I&#39;ll mark it correct"}], "owner": {"reputation": 2620, "user_id": 2884250, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d880b0bfc6c878de208f1cc98b90e49a?s=128&d=identicon&r=PG&f=1", "display_name": "beek", "link": "https://stackoverflow.com/users/2884250/beek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 215, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521667455, "creation_date": 1521663066, "last_edit_date": 1521667455, "question_id": 49415680, "link": "https://stackoverflow.com/questions/49415680/importing-typescript-classes-into-react-scripts-is-not-a-constructor", "title": "Importing Typescript classes into React-scripts - is not a constructor", "body": "<p>I have an existing app and I'm trying to import a Typescript file, I use Yarn and React-scripts.</p>\n\n<blockquote>\n  <p>Module not found: Can't resolve './DiamondNodeModel'</p>\n</blockquote>\n\n<pre><code>import {DiamondNodeModel} from './DiamondNodeModel'\n</code></pre>\n\n<p>In DiamondNodeModel.ts</p>\n\n<pre><code>export class DiamondNodeModel extends NodeModel {\n    constructor() {\n        super(\"diamond\");\n        this.addPort(new DiamondPortModel(\"top\"));\n        this.addPort(new DiamondPortModel(\"left\"));\n        this.addPort(new DiamondPortModel(\"bottom\"));\n        this.addPort(new DiamondPortModel(\"right\"));\n    }\n}\n</code></pre>\n\n<p>I'm assuming I'm missing something that allows importing TypeScript files.. but I'm not sure where to set that with React-scripts.. </p>\n\n<p>EDIT</p>\n\n<p>Changing the extension finds it, but it still can't compile</p>\n\n<blockquote>\n  <p><strong>WEBPACK_IMPORTED_MODULE_3__DiamondNodeModel_ts</strong>.DiamondNodeModel is not a constructor</p>\n</blockquote>\n"}, {"tags": ["angular", "typescript", "rxjs", "angular-material"], "comments": [{"owner": {"reputation": 13080, "user_id": 9226213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d9b1e59fd7fb8bc106b44b337ce5d83?s=128&d=identicon&r=PG&f=1", "display_name": "G. Tranter", "link": "https://stackoverflow.com/users/9226213/g-tranter"}, "edited": false, "score": 0, "creation_date": 1521666048, "post_id": 49415032, "comment_id": 85834609, "body": "This sounds like a dependency version mismatch - probably with rxjs. It might be a good idea to check which version of rxjs is actually installed and make sure it is compatible with the Angular and Angular Material versions installed. Your package.json specifies Angular 5.0.2 and Angular Material 5.2.4, but for material 5.2.4 you should be using Angular 5.2.3+ and rxjs 5.5.5+. The point is, make sure everything you have installed works together."}, {"owner": {"reputation": 327, "user_id": 2837065, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1012803551/picture?type=large", "display_name": "Lukas Sorensen", "link": "https://stackoverflow.com/users/2837065/lukas-sorensen"}, "reply_to_user": {"reputation": 13080, "user_id": 9226213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d9b1e59fd7fb8bc106b44b337ce5d83?s=128&d=identicon&r=PG&f=1", "display_name": "G. Tranter", "link": "https://stackoverflow.com/users/9226213/g-tranter"}, "edited": false, "score": 0, "creation_date": 1521669239, "post_id": 49415032, "comment_id": 85836084, "body": "I tried using Material 5.0.0 and 5.0.2 first before 5.2.3 and got the same error"}, {"owner": {"reputation": 327, "user_id": 2837065, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1012803551/picture?type=large", "display_name": "Lukas Sorensen", "link": "https://stackoverflow.com/users/2837065/lukas-sorensen"}, "reply_to_user": {"reputation": 13080, "user_id": 9226213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d9b1e59fd7fb8bc106b44b337ce5d83?s=128&d=identicon&r=PG&f=1", "display_name": "G. Tranter", "link": "https://stackoverflow.com/users/9226213/g-tranter"}, "edited": false, "score": 0, "creation_date": 1521669313, "post_id": 49415032, "comment_id": 85836111, "body": "I think it might be the way I set up angular universal when angular was still in v2"}, {"owner": {"reputation": 13080, "user_id": 9226213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d9b1e59fd7fb8bc106b44b337ce5d83?s=128&d=identicon&r=PG&f=1", "display_name": "G. Tranter", "link": "https://stackoverflow.com/users/9226213/g-tranter"}, "edited": false, "score": 0, "creation_date": 1521725712, "post_id": 49415032, "comment_id": 85861670, "body": "What is your version of rxjs?"}, {"owner": {"reputation": 327, "user_id": 2837065, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1012803551/picture?type=large", "display_name": "Lukas Sorensen", "link": "https://stackoverflow.com/users/2837065/lukas-sorensen"}, "reply_to_user": {"reputation": 13080, "user_id": 9226213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d9b1e59fd7fb8bc106b44b337ce5d83?s=128&d=identicon&r=PG&f=1", "display_name": "G. Tranter", "link": "https://stackoverflow.com/users/9226213/g-tranter"}, "edited": false, "score": 0, "creation_date": 1521728101, "post_id": 49415032, "comment_id": 85863525, "body": "5.5.6... I also tried 5.5.2"}, {"owner": {"reputation": 13080, "user_id": 9226213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d9b1e59fd7fb8bc106b44b337ce5d83?s=128&d=identicon&r=PG&f=1", "display_name": "G. Tranter", "link": "https://stackoverflow.com/users/9226213/g-tranter"}, "edited": false, "score": 0, "creation_date": 1521729314, "post_id": 49415032, "comment_id": 85864408, "body": "When are you subscribing to Observables? This may be a timing issue. See <a href=\"https://stackoverflow.com/questions/42454740/angular-2-subscribing-to-observable-fromevent-error-invalid-event-target\">this</a>."}], "owner": {"reputation": 327, "user_id": 2837065, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1012803551/picture?type=large", "display_name": "Lukas Sorensen", "link": "https://stackoverflow.com/users/2837065/lukas-sorensen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521701421, "creation_date": 1521660434, "last_edit_date": 1521701421, "question_id": 49415032, "link": "https://stackoverflow.com/questions/49415032/error-when-upgrading-angular-material-to-v5-0-0", "title": "Error when upgrading Angular material to v5.0.0", "body": "<p>I upgraded to Angular 5 around the time it was released and haven't had an problems with my code base, but was never able to upgrade Angular Material past beta.11... This is the error I am getting in node:</p>\n\n<pre><code>ERROR { TypeError: Invalid event target\n    at Function.FromEventObservable.setupSubscription (/Users/lsorensen/code/OneUnionV1/node_modules/rxjs/observable/FromEventObservable.js:189:19)\n    at FromEventObservable._subscribe (/Users/lsorensen/code/OneUnionV1/node_modules/rxjs/observable/FromEventObservable.js:211:29)\n    at FromEventObservable.Observable._trySubscribe (/Users/lsorensen/code/OneUnionV1/node_modules/rxjs/Observable.js:172:25)\n    at FromEventObservable.Observable.subscribe (/Users/lsorensen/code/OneUnionV1/node_modules/rxjs/Observable.js:160:65)\n    at Object.subscribeToResult (/Users/lsorensen/code/OneUnionV1/node_modules/rxjs/util/subscribeToResult.js:23:27)\n    at MergeMapSubscriber._innerSub (/Users/lsorensen/code/OneUnionV1/node_modules/rxjs/operators/mergeMap.js:132:38)\n    at MergeMapSubscriber._tryNext (/Users/lsorensen/code/OneUnionV1/node_modules/rxjs/operators/mergeMap.js:129:14)\n    at MergeMapSubscriber._next (/Users/lsorensen/code/OneUnionV1/node_modules/rxjs/operators/mergeMap.js:112:18)\n    at MergeMapSubscriber.Subscriber.next (/Users/lsorensen/code/OneUnionV1/node_modules/rxjs/Subscriber.js:89:18)\n    at ArrayObservable._subscribe (/Users/lsorensen/code/OneUnionV1/node_modules/rxjs/observable/ArrayObservable.js:114:28)\n    at ArrayObservable.Observable._trySubscribe (/Users/lsorensen/code/OneUnionV1/node_modules/rxjs/Observable.js:172:25)\n    at ArrayObservable.Observable.subscribe (/Users/lsorensen/code/OneUnionV1/node_modules/rxjs/Observable.js:160:65)\n    at MergeMapOperator.call (/Users/lsorensen/code/OneUnionV1/node_modules/rxjs/operators/mergeMap.js:87:23)\n    at Observable.subscribe (/Users/lsorensen/code/OneUnionV1/node_modules/rxjs/Observable.js:157:22)\n    at AuditOperator.call (/Users/lsorensen/code/OneUnionV1/node_modules/rxjs/operators/audit.js:62:23)\n    at Observable.subscribe (/Users/lsorensen/code/OneUnionV1/node_modules/rxjs/Observable.js:157:22)\n  ngDebugContext:\n   DebugContext_ {\n     view:\n      { def: [Object],\n        parent: [Object],\n        viewContainerParent: null,\n        parentNodeDef: [Object],\n        context: [Object],\n        component: [Object],\n        nodes: [Array],\n        state: 13,\n        root: [Object],\n        renderer: [Object],\n        oldValues: [Array],\n        disposables: [Array] },\n     nodeIndex: 4,\n     nodeDef:\n      { nodeIndex: 4,\n        parent: [Object],\n        renderParent: [Object],\n        bindingIndex: 0,\n        outputIndex: 1,\n        checkIndex: 4,\n        flags: 114688,\n        childFlags: 0,\n        directChildFlags: 0,\n        childMatchedQueries: 0,\n        matchedQueries: [Object],\n        matchedQueryIds: 4,\n        references: {},\n        ngContentIndex: -1,\n        childCount: 0,\n        bindings: [Array],\n        bindingFlags: 8,\n        outputs: [Array],\n        element: null,\n        provider: [Object],\n        text: null,\n        query: null,\n        ngContent: null },\n     elDef:\n      { nodeIndex: 3,\n        parent: null,\n        renderParent: null,\n        bindingIndex: 0,\n        outputIndex: 0,\n        checkIndex: 3,\n        flags: 33554433,\n        childFlags: 114690,\n        directChildFlags: 114690,\n        childMatchedQueries: 4,\n        matchedQueries: {},\n        matchedQueryIds: 0,\n        references: {},\n        ngContentIndex: null,\n        childCount: 2,\n        bindings: [],\n        bindingFlags: 0,\n        outputs: [Array],\n        element: [Object],\n        provider: null,\n        text: null,\n        query: null,\n        ngContent: null },\n     elView:\n      { def: [Object],\n        parent: [Object],\n        viewContainerParent: null,\n        parentNodeDef: [Object],\n        context: [Object],\n        component: [Object],\n        nodes: [Array],\n        state: 13,\n        root: [Object],\n        renderer: [Object],\n        oldValues: [Array],\n        disposables: [Array] } },\n  ngErrorLogger: [Function: bound ],\n  __zone_symbol__currentTask:\n   ZoneTask {\n     _zone:\n      Zone {\n        _properties: [Object],\n        _parent: [Object],\n        _name: 'angular',\n        _zoneDelegate: [Object] },\n     runCount: 0,\n     _zoneDelegates: null,\n     _state: 'notScheduled',\n     type: 'microTask',\n     source: 'Promise.then',\n     data: undefined,\n     scheduleFn: undefined,\n     cancelFn: null,\n     callback: [Function],\n     invoke: [Function] } }\nERROR CONTEXT DebugContext_ {\n  view:\n   { def:\n      { factory: [Object],\n        nodeFlags: 1061404723,\n        rootNodeFlags: 436207619,\n        nodeMatchedQueries: 6,\n        flags: 0,\n        nodes: [Array],\n        updateDirectives: [Function],\n        updateRenderer: [Function],\n        handleEvent: [Function: handleEvent],\n        bindingCount: 10,\n        outputCount: 5,\n        lastRenderRootNode: [Object] },\n     parent:\n      { def: [Object],\n        parent: null,\n        viewContainerParent: null,\n        parentNodeDef: null,\n        context: {},\n        component: {},\n        nodes: [Array],\n        state: 13,\n        root: [Object],\n        renderer: [Object],\n        oldValues: [],\n        disposables: null },\n     viewContainerParent: null,\n     parentNodeDef:\n      { nodeIndex: 1,\n        parent: [Object],\n        renderParent: [Object],\n        bindingIndex: 0,\n        outputIndex: 0,\n        checkIndex: 1,\n        flags: 114688,\n        childFlags: 0,\n        directChildFlags: 0,\n        childMatchedQueries: 0,\n        matchedQueries: {},\n        matchedQueryIds: 0,\n        references: {},\n        ngContentIndex: -1,\n        childCount: 0,\n        bindings: [],\n        bindingFlags: 0,\n        outputs: [],\n        element: null,\n        provider: [Object],\n        text: null,\n        query: null,\n        ngContent: null },\n     context:\n      AppComponent {\n        cache: [Object],\n        _dialogService: DialogService {},\n        _identityService: [Object],\n        _facebookService: FacebookService {},\n        _updateHeaderService: [Object],\n        router: [Object],\n        route: [Object],\n        loc: [Object],\n        loading: true,\n        isSidenavActive: false,\n        siteTitle: '1Union',\n        routeLabel: '1Union',\n        isLoggedIn: [Object] },\n     component:\n      AppComponent {\n        cache: [Object],\n        _dialogService: DialogService {},\n        _identityService: [Object],\n        _facebookService: FacebookService {},\n        _updateHeaderService: [Object],\n        router: [Object],\n        route: [Object],\n        loc: [Object],\n        loading: true,\n        isSidenavActive: false,\n        siteTitle: '1Union',\n        routeLabel: '1Union',\n        isLoggedIn: [Object] },\n     nodes: [ [Object], [Object], [Object], [Object], &lt;57 empty items&gt; ],\n     state: 13,\n     root:\n      { ngModule: [Object],\n        injector: _NullInjector {},\n        projectableNodes: [],\n        selectorOrNode: 'ou-app',\n        sanitizer: [Object],\n        rendererFactory: [Object],\n        renderer: [Object],\n        errorHandler: [Object] },\n     renderer: DebugRenderer2 { delegate: [Object] },\n     oldValues: [ &lt;10 empty items&gt; ],\n     disposables: [ [Function], &lt;4 empty items&gt; ] },\n  nodeIndex: 4,\n  nodeDef:\n   { nodeIndex: 4,\n     parent:\n      { nodeIndex: 3,\n        parent: null,\n        renderParent: null,\n        bindingIndex: 0,\n        outputIndex: 0,\n        checkIndex: 3,\n        flags: 33554433,\n        childFlags: 114690,\n        directChildFlags: 114690,\n        childMatchedQueries: 4,\n        matchedQueries: {},\n        matchedQueryIds: 0,\n        references: {},\n        ngContentIndex: null,\n        childCount: 2,\n        bindings: [],\n        bindingFlags: 0,\n        outputs: [Array],\n        element: [Object],\n        provider: null,\n        text: null,\n        query: null,\n        ngContent: null },\n     renderParent:\n      { nodeIndex: 3,\n        parent: null,\n        renderParent: null,\n        bindingIndex: 0,\n        outputIndex: 0,\n        checkIndex: 3,\n        flags: 33554433,\n        childFlags: 114690,\n        directChildFlags: 114690,\n        childMatchedQueries: 4,\n        matchedQueries: {},\n        matchedQueryIds: 0,\n        references: {},\n        ngContentIndex: null,\n        childCount: 2,\n        bindings: [],\n        bindingFlags: 0,\n        outputs: [Array],\n        element: [Object],\n        provider: null,\n        text: null,\n        query: null,\n        ngContent: null },\n     bindingIndex: 0,\n     outputIndex: 1,\n     checkIndex: 4,\n     flags: 114688,\n     childFlags: 0,\n     directChildFlags: 0,\n     childMatchedQueries: 0,\n     matchedQueries: { '2': 4 },\n     matchedQueryIds: 4,\n     references: {},\n     ngContentIndex: -1,\n     childCount: 0,\n     bindings: [ [Object] ],\n     bindingFlags: 8,\n     outputs: [ [Object] ],\n     element: null,\n     provider:\n      { token: [Function: SidenavComponent],\n        value: [Function: SidenavComponent],\n        deps: [Array] },\n     text: null,\n     query: null,\n     ngContent: null },\n  elDef:\n   { nodeIndex: 3,\n     parent: null,\n     renderParent: null,\n     bindingIndex: 0,\n     outputIndex: 0,\n     checkIndex: 3,\n     flags: 33554433,\n     childFlags: 114690,\n     directChildFlags: 114690,\n     childMatchedQueries: 4,\n     matchedQueries: {},\n     matchedQueryIds: 0,\n     references: {},\n     ngContentIndex: null,\n     childCount: 2,\n     bindings: [],\n     bindingFlags: 0,\n     outputs: [ [Object] ],\n     element:\n      { ns: '',\n        name: 'sidenav',\n        attrs: [],\n        template: null,\n        componentProvider: [Object],\n        componentView: [Object],\n        componentRendererType: [Object],\n        publicProviders: [Object],\n        allProviders: [Object],\n        handleEvent: [Function] },\n     provider: null,\n     text: null,\n     query: null,\n     ngContent: null },\n  elView:\n   { def:\n      { factory: [Object],\n        nodeFlags: 1061404723,\n        rootNodeFlags: 436207619,\n        nodeMatchedQueries: 6,\n        flags: 0,\n        nodes: [Array],\n        updateDirectives: [Function],\n        updateRenderer: [Function],\n        handleEvent: [Function: handleEvent],\n        bindingCount: 10,\n        outputCount: 5,\n        lastRenderRootNode: [Object] },\n     parent:\n      { def: [Object],\n        parent: null,\n        viewContainerParent: null,\n        parentNodeDef: null,\n        context: {},\n        component: {},\n        nodes: [Array],\n        state: 13,\n        root: [Object],\n        renderer: [Object],\n        oldValues: [],\n        disposables: null },\n     viewContainerParent: null,\n     parentNodeDef:\n      { nodeIndex: 1,\n        parent: [Object],\n        renderParent: [Object],\n        bindingIndex: 0,\n        outputIndex: 0,\n        checkIndex: 1,\n        flags: 114688,\n        childFlags: 0,\n        directChildFlags: 0,\n        childMatchedQueries: 0,\n        matchedQueries: {},\n        matchedQueryIds: 0,\n        references: {},\n        ngContentIndex: -1,\n        childCount: 0,\n        bindings: [],\n        bindingFlags: 0,\n        outputs: [],\n        element: null,\n        provider: [Object],\n        text: null,\n        query: null,\n        ngContent: null },\n     context:\n      AppComponent {\n        cache: [Object],\n        _dialogService: DialogService {},\n        _identityService: [Object],\n        _facebookService: FacebookService {},\n        _updateHeaderService: [Object],\n        router: [Object],\n        route: [Object],\n        loc: [Object],\n        loading: true,\n        isSidenavActive: false,\n        siteTitle: '1Union',\n        routeLabel: '1Union',\n        isLoggedIn: [Object] },\n     component:\n      AppComponent {\n        cache: [Object],\n        _dialogService: DialogService {},\n        _identityService: [Object],\n        _facebookService: FacebookService {},\n        _updateHeaderService: [Object],\n        router: [Object],\n        route: [Object],\n        loc: [Object],\n        loading: true,\n        isSidenavActive: false,\n        siteTitle: '1Union',\n        routeLabel: '1Union',\n        isLoggedIn: [Object] },\n     nodes: [ [Object], [Object], [Object], [Object], &lt;57 empty items&gt; ],\n     state: 13,\n     root:\n      { ngModule: [Object],\n        injector: _NullInjector {},\n        projectableNodes: [],\n        selectorOrNode: 'ou-app',\n        sanitizer: [Object],\n        rendererFactory: [Object],\n        renderer: [Object],\n        errorHandler: [Object] },\n     renderer: DebugRenderer2 { delegate: [Object] },\n     oldValues: [ &lt;10 empty items&gt; ],\n     disposables: [ [Function], &lt;4 empty items&gt; ] } }\n</code></pre>\n\n<p>Here is my package.json</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{\n  \"name\": \"TheOneUnion\",\n  \"version\": \"1.0.0\",\n  \"main\": \"index.js\",\n  \"repository\": {},\n  \"scripts\": {\n    \"start\": \"npm run build &amp;&amp; npm run server\",\n    \"build\": \"webpack --progress --color\",\n    \"build:aot\": \"webpack --env.aot --env.client &amp; webpack --env.aot --env.server\",\n    \"build:prod\": \"webpack --env.aot --env.client -p &amp; webpack --env.aot --env.server\",\n    \"prebuild\": \"npm run clean\",\n    \"prebuild:aot\": \"npm run clean\",\n    \"prebuild:prod\": \"npm run clean\",\n    \"clean\": \"rimraf dist\",\n    \"server\": \"nodemon dist/server.js\",\n    \"watch\": \"webpack --watch\",\n    \"watch:dev\": \"npm run server &amp; npm run watch\",\n    \"debug:server\": \"node-nightly --inspect --debug-brk dist/server.js &amp; webpack --watch\"\n  },\n  \"engines\": {\n    \"node\": \"&gt;=6.0.0\"\n  },\n  \"license\": \"MIT\",\n  \"dependencies\": {\n    \"@agm/core\": \"1.0.0-beta.2\",\n    \"@angular/animations\": \"5.0.2\",\n    \"@angular/cdk\": \"5.2.4\",\n    \"@angular/common\": \"5.0.2\",\n    \"@angular/forms\": \"5.0.2\",\n    \"@angular/http\": \"5.0.2\",\n    \"@angular/material\": \"5.2.4\",\n    \"@angular/platform-browser\": \"5.0.2\",\n    \"@angular/platform-browser-dynamic\": \"5.0.2\",\n    \"@angular/platform-server\": \"5.0.2\",\n    \"@angular/router\": \"5.0.2\",\n    \"@nguniversal/express-engine\": \"5.0.0-beta.5\",\n    \"@types/mongodb\": \"2.2.15\",\n    \"angular2-jwt\": \"0.2.3\",\n    \"autoprefixer\": \"6.7.7\",\n    \"aws-sdk\": \"2.154.0\",\n    \"base64url\": \"2.0.0\",\n    \"bcrypt-nodejs\": \"0.0.3\",\n    \"bluebird\": \"3.5.1\",\n    \"body-parser\": \"1.18.2\",\n    \"bootstrap-sass\": \"3.3.7\",\n    \"compression\": \"1.7.1\",\n    \"crypto\": \"1.0.1\",\n    \"css-loader\": \"0.25.0\",\n    \"css-to-string-loader\": \"0.1.3\",\n    \"debug\": \"2.6.9\",\n    \"elasticsearch\": \"12.1.3\",\n    \"evaporate\": \"2.1.4\",\n    \"express\": \"4.16.2\",\n    \"express-engine\": \"1.0.1\",\n    \"extract-text-webpack-plugin\": \"2.1.2\",\n    \"global\": \"4.3.2\",\n    \"gm\": \"1.23.0\",\n    \"hammerjs\": \"2.0.8\",\n    \"html-metadata\": \"1.6.3\",\n    \"imports-loader\": \"0.7.1\",\n    \"js.clone\": \"0.0.3\",\n    \"jsonwebtoken\": \"7.4.3\",\n    \"lodash\": \"4.17.4\",\n    \"log4js\": \"1.1.1\",\n    \"methods\": \"1.1.2\",\n    \"minilog\": \"3.1.0\",\n    \"moment\": \"2.19.2\",\n    \"mongoose\": \"4.13.4\",\n    \"morgan\": \"1.9.0\",\n    \"ng2-facebook-sdk\": \"2.3.1\",\n    \"node-ffprobe\": \"1.2.2\",\n    \"node-sass\": \"4.7.2\",\n    \"nodemailer\": \"4.4.0\",\n    \"normalize.css\": \"7.0.0\",\n    \"postcss-loader\": \"1.3.3\",\n    \"preboot\": \"4.5.2\",\n    \"request\": \"2.83.0\",\n    \"rxjs\": \"5.5.6\",\n    \"sass-loader\": \"6.0.6\",\n    \"webfontloader\": \"1.6.28\",\n    \"xhr2\": \"0.1.4\",\n    \"zone.js\": \"0.8.18\"\n  },\n  \"devDependencies\": {\n    \"@angular/compiler\": \"5.0.2\",\n    \"@angular/compiler-cli\": \"5.0.2\",\n    \"@angular/core\": \"5.0.2\",\n    \"@ngtools/webpack\": \"1.8.3\",\n    \"@types/angular-material\": \"1.1.58\",\n    \"@types/aws-sdk\": \"0.0.42\",\n    \"@types/base64url\": \"2.0.3\",\n    \"@types/bluebird\": \"3.5.18\",\n    \"@types/body-parser\": \"0.0.34\",\n    \"@types/compression\": \"0.0.33\",\n    \"@types/cookie-parser\": \"1.4.1\",\n    \"@types/elasticsearch\": \"5.0.17\",\n    \"@types/evaporate\": \"0.0.18\",\n    \"@types/express\": \"4.0.39\",\n    \"@types/express-serve-static-core\": \"4.0.57\",\n    \"@types/gm\": \"1.17.33\",\n    \"@types/googlemaps\": \"3.30.0\",\n    \"@types/hammerjs\": \"2.0.35\",\n    \"@types/jasmine\": \"2.8.2\",\n    \"@types/jasminewd2\": \"2.0.3\",\n    \"@types/jsonwebtoken\": \"7.2.3\",\n    \"@types/lodash\": \"4.14.85\",\n    \"@types/mime\": \"0.0.29\",\n    \"@types/mongoose\": \"4.7.27\",\n    \"@types/morgan\": \"1.7.35\",\n    \"@types/node\": \"7.0.48\",\n    \"@types/nodemailer\": \"1.3.33\",\n    \"@types/request\": \"2.0.8\",\n    \"@types/serve-static\": \"1.13.1\",\n    \"@types/webfontloader\": \"1.6.29\",\n    \"html-webpack-plugin\": \"2.30.1\",\n    \"node-loader\": \"0.6.0\",\n    \"nodemon\": \"1.12.1\",\n    \"raw-loader\": \"0.5.1\",\n    \"rimraf\": \"2.6.2\",\n    \"script-ext-html-webpack-plugin\": \"1.8.8\",\n    \"typescript\": \"2.5.1\",\n    \"webpack\": \"3.8.1\",\n    \"webpack-merge\": \"4.1.1\",\n    \"webpack-node-externals\": \"1.6.0\"\n  }\n}\n</code></pre>\n\n\n\n<p>If anyone has any bit of an idea of where to start or look it would help me out a lot. let me know if you need more information.. thank you!</p>\n"}, {"tags": ["typescript", "namespaces", "ambient"], "comments": [{"owner": {"reputation": 1852, "user_id": 4681265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pmOC.png?s=128&g=1", "display_name": "adrhc", "link": "https://stackoverflow.com/users/4681265/adrhc"}, "edited": false, "score": 0, "creation_date": 1521749198, "post_id": 49414997, "comment_id": 85877011, "body": "As you can see this is not a module so I guess (only) I can&#39;t use it in one of my modules. Or I might be completely wrong because of my complete confusion after reading the Modules and Namespaces chapters."}, {"owner": {"reputation": 293, "user_id": 4031976, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9cf983002be5f86ffe8bfb1c27a52c96?s=128&d=identicon&r=PG&f=1", "display_name": "jrv", "link": "https://stackoverflow.com/users/4031976/jrv"}, "edited": false, "score": 0, "creation_date": 1521759988, "post_id": 49414997, "comment_id": 85881671, "body": "edited my response."}], "answers": [{"comments": [{"owner": {"reputation": 1852, "user_id": 4681265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pmOC.png?s=128&g=1", "display_name": "adrhc", "link": "https://stackoverflow.com/users/4681265/adrhc"}, "edited": false, "score": 0, "creation_date": 1521748857, "post_id": 49416361, "comment_id": 85876790, "body": "Thanks but you miss my intent. I edited my post in order to avoid this. Specifically I don&#39;t care it&#39;s about d3 or g3 or whatever."}, {"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "reply_to_user": {"reputation": 1852, "user_id": 4681265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pmOC.png?s=128&g=1", "display_name": "adrhc", "link": "https://stackoverflow.com/users/4681265/adrhc"}, "edited": false, "score": 0, "creation_date": 1521749986, "post_id": 49416361, "comment_id": 85877439, "body": "My answer does not care about that either. The point is: If placed in a <code>@types</code> directory or referenced you then can use the globally defined variables. In the example <code>d3</code>. Without any import."}, {"owner": {"reputation": 1852, "user_id": 4681265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pmOC.png?s=128&g=1", "display_name": "adrhc", "link": "https://stackoverflow.com/users/4681265/adrhc"}, "edited": false, "score": 0, "creation_date": 1521750654, "post_id": 49416361, "comment_id": 85877837, "body": "Sorry again for me badly explaining my intent. I guess your suggestion is related to <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-files\" rel=\"nofollow noreferrer\">Declaration Files</a> but the example is from the <a href=\"https://www.typescriptlang.org/docs/handbook/namespaces.html\" rel=\"nofollow noreferrer\">Namespaces</a> chapter and I guess the notions learned there should apply to the example given too but not to a later chapter (meaning Declaration Files)."}, {"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "reply_to_user": {"reputation": 1852, "user_id": 4681265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pmOC.png?s=128&g=1", "display_name": "adrhc", "link": "https://stackoverflow.com/users/4681265/adrhc"}, "edited": false, "score": 0, "creation_date": 1521750767, "post_id": 49416361, "comment_id": 85877896, "body": "@adrhc: What are you talking about? This clearly <i>is a declaration file</i> (<code>.d.ts</code>), all of this is specific to declaration files."}, {"owner": {"reputation": 1852, "user_id": 4681265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pmOC.png?s=128&g=1", "display_name": "adrhc", "link": "https://stackoverflow.com/users/4681265/adrhc"}, "edited": false, "score": 0, "creation_date": 1521750828, "post_id": 49416361, "comment_id": 85877935, "body": "edited comment: You are right, it&#39;s a declaration file. Now please see the EDIT2."}, {"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "reply_to_user": {"reputation": 1852, "user_id": 4681265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pmOC.png?s=128&g=1", "display_name": "adrhc", "link": "https://stackoverflow.com/users/4681265/adrhc"}, "edited": false, "score": 0, "creation_date": 1521750874, "post_id": 49416361, "comment_id": 85877952, "body": "I have seen that, it&#39;s what you copied. It&#39;s a <b>declaration file</b>."}, {"owner": {"reputation": 1852, "user_id": 4681265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pmOC.png?s=128&g=1", "display_name": "adrhc", "link": "https://stackoverflow.com/users/4681265/adrhc"}, "edited": false, "score": 0, "creation_date": 1521752044, "post_id": 49416361, "comment_id": 85878553, "body": "<code>&#47;&#47;&#47; &lt;reference path=&quot;..&#47;types&#47;d3.d.ts&quot; &#47;&gt;</code> confuses me. The file specified in the example is named <i>D3.d.ts</i> and I&#39;m a linux guy (case sensitive FS). Are you talking about <i>D3.d.ts</i> file or something else?"}, {"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "reply_to_user": {"reputation": 1852, "user_id": 4681265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pmOC.png?s=128&g=1", "display_name": "adrhc", "link": "https://stackoverflow.com/users/4681265/adrhc"}, "edited": false, "score": 0, "creation_date": 1521752138, "post_id": 49416361, "comment_id": 85878622, "body": "@adrhc: It&#39;s just an example, it does not matter what the declaration file is named. Just assume that this file has the same contents as the ones in your code snippet."}], "tags": [], "owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "is_accepted": true, "score": 4, "last_activity_date": 1521752176, "last_edit_date": 1521752176, "creation_date": 1521665772, "answer_id": 49416361, "question_id": 49414997, "link": "https://stackoverflow.com/questions/49414997/ambient-namespaces-typescript-example/49416361#49416361", "title": "Ambient Namespaces typescript example", "body": "<p>Such declarations define global variables that do not come from imports but might be defined on the <code>window</code> by some <code>&lt;script&gt;</code>. To be able to simply use these variables directly (without imports!) you could always use a reference, e.g.:</p>\n\n<pre><code>/// &lt;reference path=\"../types/D3.d.ts\" /&gt;\nd3.select(\"div\"); // No import!\n</code></pre>\n\n<p>If the declaration file is placed in an <code>@types</code> directory it should be included without explicit reference.</p>\n\n<hr>\n\n<p>The namespace uses <code>declare</code> because this is a declaration file: It has to either export the namespace (which only is valid for modules) or declare it, to make these types available.</p>\n"}, {"comments": [{"owner": {"reputation": 1852, "user_id": 4681265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pmOC.png?s=128&g=1", "display_name": "adrhc", "link": "https://stackoverflow.com/users/4681265/adrhc"}, "edited": false, "score": 0, "creation_date": 1521750695, "post_id": 49433298, "comment_id": 85877860, "body": "Sorry, I badly explained my intent; please see the EDITs."}, {"owner": {"reputation": 1852, "user_id": 4681265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pmOC.png?s=128&g=1", "display_name": "adrhc", "link": "https://stackoverflow.com/users/4681265/adrhc"}, "edited": false, "score": 0, "creation_date": 1521828308, "post_id": 49433298, "comment_id": 85914662, "body": "The &quot;In summary ...&quot; part is helpful for me. The &quot;... name D3 was arbitrary ...&quot; part is confusing because I&#39;m a linux guy (case sensitive FS) and when thinking about a relation between <i>D3</i> and <i>d3</i> in fact there&#39;s none (considering the case sensitivity). Besides I read the entire typescript <a href=\"https://www.typescriptlang.org/docs/home.html\" rel=\"nofollow noreferrer\">Documentation</a> and I don&#39;t remember existing such a relation; maybe you could point that to me?"}, {"owner": {"reputation": 293, "user_id": 4031976, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9cf983002be5f86ffe8bfb1c27a52c96?s=128&d=identicon&r=PG&f=1", "display_name": "jrv", "link": "https://stackoverflow.com/users/4031976/jrv"}, "reply_to_user": {"reputation": 1852, "user_id": 4681265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pmOC.png?s=128&g=1", "display_name": "adrhc", "link": "https://stackoverflow.com/users/4681265/adrhc"}, "edited": false, "score": 0, "creation_date": 1522030031, "post_id": 49433298, "comment_id": 85968868, "body": "When I said the name was not arbitrary, I did not mean it was computationally significant. There is no code that will not work if the namespace were called &quot;DeeThree&quot; instead of &quot;D3.&quot; I don&#39;t know, but there may be some name collision if it were called &quot;d3&quot;, because the d3 library declares a global variable with that name. Even if there is no collision, I personally would name the namespace differently just to make it clear that sometimes I am referring to the namespace (D3) and sometimes to the variable (d3). There is no program relation between the upper-case symbol and the lower-case one."}], "tags": [], "owner": {"reputation": 293, "user_id": 4031976, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9cf983002be5f86ffe8bfb1c27a52c96?s=128&d=identicon&r=PG&f=1", "display_name": "jrv", "link": "https://stackoverflow.com/users/4031976/jrv"}, "is_accepted": false, "score": 0, "last_activity_date": 1521760756, "last_edit_date": 1521760756, "creation_date": 1521734577, "answer_id": 49433298, "question_id": 49414997, "link": "https://stackoverflow.com/questions/49414997/ambient-namespaces-typescript-example/49433298#49433298", "title": "Ambient Namespaces typescript example", "body": "<p>As I understand typescript the \"code\" in the example does not generate nor change any output javascript. It is all declarations that will help intellisense and the typescript compiler find errors, but does nothing to alter the code. The declarations that the example gives are intended for an \"ambient\" declaration file, i.e. a declaration file that provides typescript definitions for ordinary javascript library so that typescript and intellisense can work with them as if they were typescript files instead of plain javascript. I believe that at a first approximation typescript treats anything it finds of which it has no declaration knowledges as an \"any\" type.</p>\n\n<p>For the library mentioned you would be better off to use the existing type library (<code>npm install --save-dev @types/d3</code>). I have found that after installing the library (<code>npm install --save d3</code>) and the <code>@types/d3</code>, using <code>import * as d3 from 'd3'</code> in a .ts file (in angular 5; other situations may other steps) will bring the object and type information in, and everything works satisfactorily. If you open up the types file you will see a completely different set of declarations from the ones given in the typescript documentation example, but I believe they are still all declarations, i.e. no code.</p>\n\n<h3>In reply to edits</h3>\n\n<p>The file in the example is not a primary typescript file. It is a declarations file describing the \"typescript shape\" of an ordinary javascript library, i.e. how the typescript compiler and intellisense should pretend the ordinary javascript would look like if it were written in typescript. While you may think the choice of the name D3 was arbitrary, it was not exactly. The <code>.d.ts</code> file is trying to provide typescript meta information for a library (the d3 library: <a href=\"https://www.npmjs.com/package/d3\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/d3</a>) which does not itself provide that information (although, as mentioned, the typescript meta information for that particular library is available as an @types package). </p>\n\n<p>If you were writing your own library code and wanted to work inside a namespace as per the validation example, you would use <code>namespace D3</code> rather than <code>declare namespace D3</code>, but you would also be writing a <code>.ts</code> file, not a <code>.d.ts</code> file. As the section title of the documentation says, that example is working on <em>ambient</em> namespaces, i.e. namespaces for ordinary javascript code the writer of the file does not (typically) provide.</p>\n\n<p>In summary, the goals of the two halves of the documentation are different. In the first half the \"validation\" code is showing you how to use namespaces within your own typescript code. In the second half, the \"d3\" code is showing you how you can provide typescript metadata for code that is plain javascript, not typescript.</p>\n"}], "owner": {"reputation": 1852, "user_id": 4681265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pmOC.png?s=128&g=1", "display_name": "adrhc", "link": "https://stackoverflow.com/users/4681265/adrhc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1058, "favorite_count": 0, "accepted_answer_id": 49416361, "answer_count": 2, "score": 0, "last_activity_date": 1521760756, "creation_date": 1521660303, "last_edit_date": 1521750244, "question_id": 49414997, "link": "https://stackoverflow.com/questions/49414997/ambient-namespaces-typescript-example", "title": "Ambient Namespaces typescript example", "body": "<p>The <a href=\"https://www.typescriptlang.org/docs/handbook/namespaces.html\" rel=\"nofollow noreferrer\">Namespaces</a> chapter give an example related to <em>D3.d.ts</em> which I don't understand.<br>\nThis is the full example:  </p>\n\n<pre><code>declare namespace D3 {\n    export interface Selectors {\n        select: {\n            (selector: string): Selection;\n            (element: EventTarget): Selection;\n        };\n    }\n\n    export interface Event {\n        x: number;\n        y: number;\n    }\n\n    export interface Base extends Selectors {\n        event: Event;\n    }\n}\n\ndeclare var d3: D3.Base;\n</code></pre>\n\n<p>What I really don't understand is how would I use <em>D3.d.ts</em> in my modules or my typescript scripts? Please give me some short examples.</p>\n\n<p><strong>EDIT</strong><br>\nPlease ignore the fact that here it is used D3; could be B3 or G3 or X7 ... whatever; I'm not interested on a specifically library. I'm only interested in <strong>how would I use</strong> the example given both in my typescript modules and my typescript scripts.</p>\n\n<p><strong>EDIT2</strong>\nWhat mostly confuse me is the fact that the above example uses <em>declare namespace ...</em> instead of <em>namespace D3</em> (as used e.g. for <em>namespace Validation</em>). Also what's the use (and how to use?) of <em>declare var d3: D3.Base;</em>? </p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 4106, "user_id": 3634032, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PDCW3.jpg?s=128&g=1", "display_name": "Sam Herrmann", "link": "https://stackoverflow.com/users/3634032/sam-herrmann"}, "edited": false, "score": 1, "creation_date": 1521658884, "post_id": 49414549, "comment_id": 85830831, "body": "Maybe <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/instanceof\" rel=\"nofollow noreferrer\">instanceof</a> is what you&#39;re looking for"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1521659079, "post_id": 49414549, "comment_id": 85830935, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/36558088/is-there-a-way-to-get-the-name-of-the-generic-type-in-a-generic-t-function-c\">Is there a way to get the name of the generic type in a generic (&lt;T&gt;) function/class (Typescript)?</a>"}, {"owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "edited": false, "score": 1, "creation_date": 1521661119, "post_id": 49414549, "comment_id": 85832045, "body": "<code>console.log(typeof(type))</code> returns undefined because <code>type</code> is a non-initialised variable. You must remember that TypeScript&#39;s type annotations disappear at runtime, so, during runtime, you&#39;re doing this: <code>console.log(typeof(undefined))</code> which, of course, returns <code>undefined</code>."}, {"owner": {"reputation": 1783, "user_id": 437393, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/fXiIw.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/437393/anonymous"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1521662799, "post_id": 49414549, "comment_id": 85832952, "body": "@Igor 1. that question was not solved, 2. the only answer it has suggests to pass type as a parameter, if I wanted to do this, I would do this even simpler by creating method setType(DynamicType) { return new DynamicType() } but I&#39;m using constructor, moreover, constructor of the Angular service that cannot be initialized manually"}, {"owner": {"reputation": 1783, "user_id": 437393, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/fXiIw.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/437393/anonymous"}, "reply_to_user": {"reputation": 4106, "user_id": 3634032, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PDCW3.jpg?s=128&g=1", "display_name": "Sam Herrmann", "link": "https://stackoverflow.com/users/3634032/sam-herrmann"}, "edited": false, "score": 0, "creation_date": 1521663012, "post_id": 49414549, "comment_id": 85833073, "body": "@Sam Herrmann when I use this service this way SomeService&lt;MyModel&gt; then inside of the service &quot;type instanceof MyModel&quot; always returns &quot;false&quot;"}, {"owner": {"reputation": 1783, "user_id": 437393, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/fXiIw.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/437393/anonymous"}, "reply_to_user": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "edited": false, "score": 0, "creation_date": 1521663531, "post_id": 49414549, "comment_id": 85833347, "body": "@Oscar Paz can I create some dummy instance inside my constructor based on type T?"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 1, "creation_date": 1521663813, "post_id": 49414549, "comment_id": 85833502, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/a/18216538/1260204\">Get type of generic parameter</a>"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 1, "creation_date": 1521663903, "post_id": 49414549, "comment_id": 85833541, "body": "I proposed the duplicates because they are the same. There is no answer because without an instance it is not possible to do at run time."}], "answers": [{"comments": [{"owner": {"reputation": 1783, "user_id": 437393, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/fXiIw.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/437393/anonymous"}, "edited": false, "score": 0, "creation_date": 1521663194, "post_id": 49414760, "comment_id": 85833178, "body": "This check is done outside of the Array&lt;T&gt; class and it&#39;s done on a syntax level, how to do this check inside of Array&lt;T&gt; class? Is it possible?"}, {"owner": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "reply_to_user": {"reputation": 1783, "user_id": 437393, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/fXiIw.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/437393/anonymous"}, "edited": false, "score": 1, "creation_date": 1521663736, "post_id": 49414760, "comment_id": 85833463, "body": "Seems you don&#39;t understand generics. If you have some class or method which is doing the same for any input (and it is able to do it), and you want compiler to validate output. Then you are having generic functionality.   T is just for compiler not for code. It can be a class which implements some interface or extends some abstract class."}, {"owner": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "reply_to_user": {"reputation": 1783, "user_id": 437393, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/fXiIw.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/437393/anonymous"}, "edited": false, "score": 1, "creation_date": 1521664218, "post_id": 49414760, "comment_id": 85833707, "body": "In other words class Test&lt;T&gt;{  T here is not a instance or variable, you can not log it to console or use in code, just in input/output types }"}], "tags": [], "owner": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "is_accepted": false, "score": 1, "last_activity_date": 1521659381, "creation_date": 1521659381, "answer_id": 49414760, "question_id": 49414549, "link": "https://stackoverflow.com/questions/49414549/how-to-get-name-of-generic-type-t-inside-service-in-angular/49414760#49414760", "title": "How to get name of generic type T inside service in Angular", "body": "<p>Genrics are used for type validation</p>\n\n<pre><code>class Array&lt;T&gt;{\n  pop:() =&gt; T;\n  unshift:(v:T) =&gt; void;\n}\n\nlet numbers: Array&lt;number&gt; = ['1212']; //error\nlet strings: Array&lt;string&gt; = ['1','2','3']; //work\n\n\nclass Product{\n\n}\n\nlet products: Array&lt;Product&gt; = [new Product(), new Product()]; //works\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": true, "score": 5, "last_activity_date": 1521665571, "creation_date": 1521665571, "answer_id": 49416300, "question_id": 49414549, "link": "https://stackoverflow.com/questions/49414549/how-to-get-name-of-generic-type-t-inside-service-in-angular/49416300#49416300", "title": "How to get name of generic type T inside service in Angular", "body": "<p>You cannot instantiate a class based on generic types only.</p>\n\n<p>I mean, if you want this:</p>\n\n<pre><code>function createInstance&lt;T&gt;(): T {...}\n</code></pre>\n\n<p>It is not possible, because, it would transpile into this:</p>\n\n<pre><code>function createInstance() {...}\n</code></pre>\n\n<p>Which, as you can see, cannot be parametrized in any way.</p>\n\n<p>The closest you can get to what you want is this:</p>\n\n<pre><code>function createInstance&lt;T&gt;(type: new() =&gt; T): T {\n    return new type();\n}\n</code></pre>\n\n<p>Then, if you have a class with a parameterless constructor:</p>\n\n<pre><code>class C1 {\n   name: string;\n   constructor() { name = 'my name'; }\n}\n</code></pre>\n\n<p>You can now do this:</p>\n\n<pre><code>createInstance(C1); // returns an object &lt;C1&gt;{ name: 'my name' }\n</code></pre>\n\n<p>This works perfectly and the compiler gives you correct type information.\nThe reason I'm using <code>new() =&gt; T</code> as the type for <code>type</code>, is to indicate that you must pass a constructor function with no parameters that must return a type T. The class itself is exactly that. In this case, if you have</p>\n\n<pre><code>class C2 {\n    constructor(private name: string) {}\n}\n</code></pre>\n\n<p>And you do</p>\n\n<pre><code>createInstance(C2);\n</code></pre>\n\n<p>the compiler will throw an error.</p>\n\n<p>You can, however, generalise the <code>createInstance</code> function so it works for objects with any number of parameters:</p>\n\n<pre><code>function createInstance2&lt;T&gt;(type: new (...args) =&gt; T, ...args: any[]): T \n{\n    return new type(...args);\n}\n</code></pre>\n\n<p>Now:</p>\n\n<pre><code>createInstance(C1); // returns &lt;C1&gt;{ name: 'my name'}\ncreateInstance(C2, 'John'); // returns &lt;C2&gt;{name: 'John'}\n</code></pre>\n\n<p>I hope this serves you.</p>\n"}], "owner": {"reputation": 1783, "user_id": 437393, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/fXiIw.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/437393/anonymous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4817, "favorite_count": 0, "accepted_answer_id": 49416300, "answer_count": 2, "score": 1, "last_activity_date": 1521665571, "creation_date": 1521658640, "last_edit_date": 1521663766, "question_id": 49414549, "link": "https://stackoverflow.com/questions/49414549/how-to-get-name-of-generic-type-t-inside-service-in-angular", "title": "How to get name of generic type T inside service in Angular", "body": "<p>Need to create some factory method inside Angular 5 service based on generic type T passed to this service. How to get name of generic type \"T\"?</p>\n\n<pre><code>@Injectable()\nexport class SomeService&lt;T&gt; {\n\n    someModel: T;\n\n    constructor(protected userService: UserService) {\n\n        let user = this.userService.getLocalUser();\n        let type: new () =&gt; T;\n\n        console.log(typeof(type)) // returns \"undefined\"\n        console.log(type instanceof MyModel) // returns \"false\"\n\n        let model = new T(); // doesn't compile, T refers to a type, but used as a value\n\n        // I also tried to initialize type, but compiler says that types are different and can't be assigned\n\n        let type: new () =&gt; T = {}; // doesn't compile, {} is not assignable to type T \n    }\n}\n\n// This is how this service is supposed to be initialized\n\nclass SomeComponent {\n\n    constructor(service: SomeService&lt;MyModel&gt;) {\n        let modelName = this.service.getSomeInfoAboutInternalModel();\n    }\n}\n</code></pre>\n"}, {"tags": ["angularjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "is_accepted": true, "score": 0, "last_activity_date": 1521668166, "creation_date": 1521668166, "answer_id": 49416925, "question_id": 49414455, "link": "https://stackoverflow.com/questions/49414455/angularjs-change-checkbox-status-on-selected-row-with-typescript/49416925#49416925", "title": "AngularJS - Change checkbox status on selected row with Typescript", "body": "<p>Just bind the <code>checked</code> property?</p>\n\n<pre><code>&lt;input type=\"checkbox\" [checked]=\"selectedRows[i]\" /&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 329, "user_id": 9483156, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "kachus22", "link": "https://stackoverflow.com/users/9483156/kachus22"}, "edited": false, "score": 0, "creation_date": 1521838391, "post_id": 49417126, "comment_id": 85919255, "body": "This helped me, but wasn&#39;t exactly what I was looking for. Thank you tho, was helpful"}], "tags": [], "owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "is_accepted": false, "score": 0, "last_activity_date": 1521669199, "creation_date": 1521669199, "answer_id": 49417126, "question_id": 49414455, "link": "https://stackoverflow.com/questions/49414455/angularjs-change-checkbox-status-on-selected-row-with-typescript/49417126#49417126", "title": "AngularJS - Change checkbox status on selected row with Typescript", "body": "<p>First remove     </p>\n\n<pre><code>this.setClickedRow = function(index){...\n</code></pre>\n\n<p>from inside of the constructor.\nThen set is as:</p>\n\n<pre><code>setClickedRow (index) {\n  console.log(\"Clicked\")\n  this.selectedRows[index]=!!this.selectedRows[index];\n};\n</code></pre>\n\n<p>Now check the console on row click. </p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-9enb5w\" rel=\"nofollow noreferrer\">DEMO</a></p>\n"}], "owner": {"reputation": 329, "user_id": 9483156, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "kachus22", "link": "https://stackoverflow.com/users/9483156/kachus22"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 49416925, "answer_count": 2, "score": 0, "last_activity_date": 1521745904, "creation_date": 1521658311, "last_edit_date": 1521745904, "question_id": 49414455, "link": "https://stackoverflow.com/questions/49414455/angularjs-change-checkbox-status-on-selected-row-with-typescript", "title": "AngularJS - Change checkbox status on selected row with Typescript", "body": "<p>what I'm trying to do is to change the checkbox to checked/unchecked when I click on any part of the row. Also I'm changing the color of the selected rows.\nHere is what I got:</p>\n\n<p>player.component.html:</p>\n\n<pre><code>&lt;!-- Table showing players --&gt;\n&lt;tbody *ngFor=\"let volunteer of volunteers; let i = index\"&gt;\n  &lt;tr class=\"margin\" (click)=\"setClickedRow(i)\" [class.active]=\"selectedRows[i]==true\"&gt;\n    &lt;td&gt;\n      &lt;input type=\"checkbox\" /&gt;\n    &lt;/td&gt;\n    &lt;td style=\"font-weight: bold\"&gt;{{player.name}}&lt;/td&gt;\n    &lt;td&gt;{{player.number}}&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/tbody&gt;\n</code></pre>\n\n<p>player.component.ts:</p>\n\n<pre><code>export class PlayerComponent implements OnInit {\n    selectedRows: boolean[] = [false, false, false, false];\n    setClickedRow: Function;\n\n    player = [\n        { name: 'Jaden', number: '2' },\n        { name: 'Mickey', number: '10' },\n        { name: 'Dexter', number: '22' },\n        { name: 'Pedro', number: '11' },\n    ];\n\n    constructor() {\n\n        this.setClickedRow = function (index) {\n            if (!this.selectedRows[index]) {\n                this.selectedRows[index] = true;\n            }\n            else {\n                this.selectedRows[index] = false;\n            }\n        };\n    }\n\n    ngOnInit() { }\n}\n</code></pre>\n\n<p>I want the checkbox to change no matter what part of the row I click.</p>\n"}, {"tags": ["json", "angular", "typescript"], "comments": [{"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 2, "creation_date": 1521658465, "post_id": 49414296, "comment_id": 85830567, "body": "What do you try?"}], "answers": [{"tags": [], "owner": {"reputation": 38, "user_id": 6780759, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/818019f66097aee6168ebe653f16c216?s=128&d=identicon&r=PG&f=1", "display_name": "Barbosa Thiago", "link": "https://stackoverflow.com/users/6780759/barbosa-thiago"}, "is_accepted": true, "score": 1, "last_activity_date": 1521660051, "creation_date": 1521660051, "answer_id": 49414931, "question_id": 49414296, "link": "https://stackoverflow.com/questions/49414296/find-and-update-json-object-using-typescripts/49414931#49414931", "title": "Find and update JSON object using Typescripts", "body": "<p>Maybe this will help you:</p>\n\n<pre><code>export class Test {\n\n    // Objects array\n    myObjects = [{  \"id\": \"1\",\n        \"name\" : \"rob\",\n        \"Lastname\":\"Xyz\"\n    },\n    {   \"id\": \"2\",\n        \"name\" : \"xyz\",\n        \"Lastname\":\"abc\"\n    }]\n\n    // Method responsible for finding an object who has the name passed in as a parameter\n    getIndexByName(name: string): number{\n        let index: number;\n\n        this.myObjects.forEach(object =&gt; {             \n            if(object.name == name){ // Do your filtering here\n                index = this.myObjects.indexOf(object);\n            }    \n        })\n        return index;\n    }\n\n    updateObject(obj: any){\n        let index = this.getIndexByName(obj.name);\n        if(index){\n            this.myObjects.splice(index,1,obj); // This is the usual function that I use when I find myself needing to 'update' something in an array\n        }\n    }\n}\n</code></pre>\n\n<p>You can use it like this:</p>\n\n<pre><code>let user = {\"id\": \"2\", \"name\" : \"xyz\", \"Lastname\":\"yjk\"};\n\nthis.updateObject(user);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "is_accepted": false, "score": 0, "last_activity_date": 1521660677, "creation_date": 1521660677, "answer_id": 49415087, "question_id": 49414296, "link": "https://stackoverflow.com/questions/49414296/find-and-update-json-object-using-typescripts/49415087#49415087", "title": "Find and update JSON object using Typescripts", "body": "<pre><code>interface User {\n  id: string;\n  name: string;\n  Lastname: string;\n}\n\nclass UsersCollection {\n\n  private id = 15;\n\n  constructor(private _users: Array&lt;User&gt; = []) {\n\n  }\n\n  public create(name: string, lastName: string): User {\n    let user =  {\n      id: this.id++,\n      name: name,\n      Lastname: lastName\n    };\n    this._users.push(user);\n    return user;\n  }\n\n  public searchUser(name: string, lastName: string): User | null {\n    return this._users.find((user) =&gt; {\n      return user.name == name &amp;&amp; user.Lastname == lastName;\n    })\n  }\n\n  public getOrCreate(name: string, lastName: string) {\n    let user = this.searchUser(name, lastName);\n    if (user) {\n      return user;\n    }\n    return this.create(name, lastName);\n  }\n\n  public size(){\n    return this._users.length;\n  }\n}\n\n\nlet users = new UsersCollection([{\n  'id': '1',\n  'name': 'rob',\n  'Lastname': 'Xyz'\n},\n  {\n    'id': '2',\n    'name': 'xyz',\n    'Lastname': 'abc'\n  }]);\n\n// Existing user\nconsole.log(users.getOrCreate('rob','Xyz'));\nconsole.log(users.size() == 2);\n\n// Add new one\nconsole.log(users.getOrCreate('rob','123'));\nconsole.log(users.size() == 3);\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 2507099, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8cf5e9770283fbe63636b08809d8b769?s=128&d=identicon&r=PG", "display_name": "socialCoder", "link": "https://stackoverflow.com/users/2507099/socialcoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 49414931, "answer_count": 2, "score": -2, "last_activity_date": 1521660677, "creation_date": 1521657757, "question_id": 49414296, "link": "https://stackoverflow.com/questions/49414296/find-and-update-json-object-using-typescripts", "title": "Find and update JSON object using Typescripts", "body": "<p>Below is my JSON</p>\n\n<pre><code>[{  \"id\": \"1\",\n    \"name\" : \"rob\",\n    \"Lastname\":\"Xyz\"\n},\n{   \"id\": \"2\",\n    \"name\" : \"xyz\",\n    \"Lastname\":\"abc\"\n}]\n</code></pre>\n\n<p>I have a form where user will enter his first name and last name, what i am trying to achieve here is to check and see if user input info is available in JSON. if yes update with user information else add new object using .push()</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 524, "user_id": 7802839, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/14776401a5e8c33fc2b455785b69b935?s=128&d=identicon&r=PG&f=1", "display_name": "FakeEmpire", "link": "https://stackoverflow.com/users/7802839/fakeempire"}, "edited": false, "score": 0, "creation_date": 1521665675, "post_id": 49414578, "comment_id": 85834438, "body": "can you provide me with a more in depth example?"}, {"owner": {"reputation": 751, "user_id": 6742200, "user_type": "registered", "profile_image": "https://graph.facebook.com/1384259574936248/picture?type=large", "display_name": "David Ibl", "link": "https://stackoverflow.com/users/6742200/david-ibl"}, "reply_to_user": {"reputation": 524, "user_id": 7802839, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/14776401a5e8c33fc2b455785b69b935?s=128&d=identicon&r=PG&f=1", "display_name": "FakeEmpire", "link": "https://stackoverflow.com/users/7802839/fakeempire"}, "edited": false, "score": 0, "creation_date": 1521699110, "post_id": 49414578, "comment_id": 85844282, "body": "@FakeEmpire Edited my post with more details"}], "tags": [], "owner": {"reputation": 751, "user_id": 6742200, "user_type": "registered", "profile_image": "https://graph.facebook.com/1384259574936248/picture?type=large", "display_name": "David Ibl", "link": "https://stackoverflow.com/users/6742200/david-ibl"}, "is_accepted": true, "score": 1, "last_activity_date": 1521699078, "last_edit_date": 1521699078, "creation_date": 1521658741, "answer_id": 49414578, "question_id": 49414254, "link": "https://stackoverflow.com/questions/49414254/how-to-apply-a-class-to-just-one-individual-component-after-ngfor/49414578#49414578", "title": "How to apply a class to just one individual component after ngFor", "body": "<p>You are having one component with one class controlling the open state of the accordion segments. But within the template there are several accordion segments bound to the same class variable.\nTo achieve what you want, you have to create a component for every accordion segment defining it's very own state variable. Like the PlusComponent.\nThe easiest way is to embedd header body and button into one expandable component. After all ther should be something like:</p>\n\n<pre><code>&lt;accordion-segment *ngFor=\"let person of people\" [person]=\"person\"&gt;&lt;/accordion-segment&gt;\n</code></pre>\n\n<p>in the template.</p>\n\n<p>This new component could look like this:</p>\n\n<p>template:</p>\n\n<pre><code>&lt;div class=\"accordion noHighlight\" [ngClass]=\"currentClass\"&gt;\n    &lt;app-accordion-header\n         (handleExpansion)=\"handleExpansion($event)\"&gt;\n    &lt;/app-accordion-header&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Component:</p>\n\n<pre><code>@Component({selektor: 'accordion-segment', templateUrl: accordion-segment.html})\nexport class AccordionSegmentComponent {\n    public currentClass = false;\n    @Input()\n    public person: any;\n    public handleExpansion(event) {\n        this.currentClass = !this.currentClass;\n    }\n}\n</code></pre>\n\n<p>You just have to handle closing others when a segment is opened. But the variable controlling the open state of one segment is within one unique segment component.</p>\n"}], "owner": {"reputation": 524, "user_id": 7802839, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/14776401a5e8c33fc2b455785b69b935?s=128&d=identicon&r=PG&f=1", "display_name": "FakeEmpire", "link": "https://stackoverflow.com/users/7802839/fakeempire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 49414578, "answer_count": 1, "score": 0, "last_activity_date": 1521699078, "creation_date": 1521657589, "question_id": 49414254, "link": "https://stackoverflow.com/questions/49414254/how-to-apply-a-class-to-just-one-individual-component-after-ngfor", "title": "How to apply a class to just one individual component after ngFor", "body": "<p>I am creating an accordion component that expands and collapses when clicking a 'plus/minus' svg. This expanding and collapsing should be toggled and only effect one accordion component at a time, independent of the others. Right now, the accordions expand and collapse together. How do I target the class of each individual component?</p>\n\n<p>app.component.html</p>\n\n<pre><code>&lt;app-accordion&gt;\n&lt;/app-accordion&gt;\n</code></pre>\n\n<p>accordion.component.html</p>\n\n<pre><code>&lt;div\n*ngFor=\"let person of people\"\nclass=\"accordion noHighlight\"\n[ngClass]=\"currentClass\"&gt;\n  &lt;app-accordion-header\n  (handleExpansion)=\"handleExpansion($event)\"  \n  [person]=\"person\"&gt;\n  &lt;/app-accordion-header&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>accordion.component.ts</p>\n\n<pre><code>import { AccordionService } from \"./../accordion.service\";\nimport { Component, Input, OnInit } from \"@angular/core\";\n\n@Component({\n  selector: \"app-accordion\",\n  templateUrl: \"./accordion.component.html\",\n  styleUrls: [\"./accordion.component.css\"],\n  providers: [AccordionService]\n})\nexport class AccordionComponent implements OnInit {\n  plus: string = \"../../assets/images/plus.svg\";\n  minus: string = \"../../assets/images/minus.svg\";\n  people;\n  currentClass;\n  isOpen;\n\n\n  constructor(private accordionService: AccordionService) {}\n\n  ngOnInit() {\n    this.accordionService.getPeople().subscribe(people =&gt; {\n      this.people = people;\n    });\n  }\n\n  toggleOpen(open) {\n    open ? (this.currentClass = \"expand\") : (this.currentClass = \"collapse\");\n  }\n\n  handleExpansion(val) {\n    this.isOpen = val;\n    this.toggleOpen(this.isOpen);\n  }\n</code></pre>\n\n<p>accordion-header.component.html</p>\n\n<pre><code>&lt;div&gt; \n  &lt;div&gt;\n    &lt;div&gt;\n        &lt;app-plus (handleToggle)=\"handleToggle($event)\"&gt;&lt;/app-plus&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n      &lt;span&gt;{{person.name}}&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n      &lt;span&gt;{{person.age}}&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n      &lt;span&gt;{{person.description}}&lt;/span&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;    \n&lt;/div&gt; \n</code></pre>\n\n<p>accordion-header.component.ts</p>\n\n<pre><code>import { Component, OnInit, Input, Output, EventEmitter } from \"@angular/core\";\n\n@Component({\n  selector: \"app-accordion-header\",\n  templateUrl: \"./accordion-header.component.html\",\n  styleUrls: [\"./accordion-header.component.css\"]\n})\nexport class AccordionHeaderComponent implements OnInit {\n\n  @Input() person;\n  @Output() handleExpansion = new EventEmitter&lt;boolean&gt;()\n  isOpen;\n\n  constructor() {}\n\n  ngOnInit() {}\n\n  handleToggle(e){\n    this.handleExpansion.emit(e)\n  }\n\n}\n</code></pre>\n\n<p>plus.component.ts</p>\n\n<pre><code>import { Component, Input, EventEmitter, Output } from \"@angular/core\";\n\n@Component({\n  selector: \"app-plus\",\n  templateUrl: \"./plus.component.html\",\n  styleUrls: [\"./plus.component.css\"]\n})\nexport class PlusComponent {\n  @Output() handleToggle = new EventEmitter&lt;boolean&gt;();\n  isOpen: boolean = false;\n  icon = \"\";\n\n  toggleIcon(toggleOpen) {\n    toggleOpen ? this.icon = \"open\" : this.icon = \"closed\";\n  }\n\n  toggleExpansion() {\n    this.isOpen = !this.isOpen;\n    this.handleToggle.emit(this.isOpen);\n\n    this.toggleIcon(this.isOpen);\n  }\n}\n</code></pre>\n\n<p>plus.component.html</p>\n\n<pre><code>&lt;div (click)=\"toggleExpansion()\"&gt;\n  &lt;svg&gt;\n      &lt;g fill=\"#000000\"&gt;\n        &lt;rect \n        id=\"plusicon-vertbar\"\n        class=\"plusicon-vertbar\"\n        [ngClass]=\"icon\"\n        x=\"8\" \n        y=\"0\" \n        width=\"4\"\n        height=\"20\"&gt;\n        &lt;/rect&gt;\n        &lt;rect \n        id=\"plusicon-horizbar\"\n        transform=\"translate(10.000000, 10.000000) rotate(90.000000) translate(-10.000000, -10.000000)\"\n        x=\"8\" \n        y=\"0\" \n        width=\"4\"\n        height=\"20\"&gt;\n        &lt;/rect&gt;\n      &lt;/g&gt;\n    &lt;/g&gt;\n  &lt;/svg&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["typescript", "typescript2.0", "tsc"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1521656689, "post_id": 49413968, "comment_id": 85829537, "body": "Make <code>RootCtrl</code> generic? It can be <code>RootCtrl&lt;T&gt;</code>, <code>m</code> can be <code>T</code>, the <code>constructor</code> can accept an argument of <code>T</code> and <code>doFindMany</code> can return <code>T</code>."}, {"owner": {"reputation": 1, "user_id": 1223975, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/5Oh7r.jpg?s=128&g=1", "display_name": "Alexander Mills", "link": "https://stackoverflow.com/users/1223975/alexander-mills"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1521657478, "post_id": 49413968, "comment_id": 85829951, "body": "jonrsharpe thanks, is that answer from @Vayrex the same as your suggestion?"}], "answers": [{"tags": [], "owner": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "is_accepted": true, "score": 1, "last_activity_date": 1521657216, "creation_date": 1521657216, "answer_id": 49414142, "question_id": 49413968, "link": "https://stackoverflow.com/questions/49413968/use-generics-to-declare-type-of-return-value-of-class-method/49414142#49414142", "title": "Use generics to declare type of return value of class method", "body": "<p>Seems you need something like here.</p>\n\n<pre><code>  export class RootCtrl&lt;ModelType&gt; {\n\n  m: Model&lt;ModelType&gt;;\n\n  constructor(m: Model&lt;ModelType&gt;) {\n    this.m = m;\n  }\n\n  doFindMany(query: object, options?: CDTModelOpts, cb?: MongoErrorCB): Array&lt;Model&lt;ModelType&gt;&gt;{\n\n    const Model = this.m;\n\n    // cb is optional, if cb == null, returns promise\n    const {populate, lean} = options || ({} as CDTModelOpts);\n\n    let q = Model.find(query);\n\n    if (populate &amp;&amp; populate.length &gt; 0) {\n      q = q.populate(populate);\n    }\n\n    if (lean !== false) {\n      q = q.lean();\n    }\n\n    return q.lean().exec(cb)\n  }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 1223975, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/5Oh7r.jpg?s=128&g=1", "display_name": "Alexander Mills", "link": "https://stackoverflow.com/users/1223975/alexander-mills"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 49414142, "answer_count": 1, "score": 0, "last_activity_date": 1521657216, "creation_date": 1521656595, "question_id": 49413968, "link": "https://stackoverflow.com/questions/49413968/use-generics-to-declare-type-of-return-value-of-class-method", "title": "Use generics to declare type of return value of class method", "body": "<p>I have the following:</p>\n\n<pre><code>export class RootCtrl {\n\n  m: Model&lt;any&gt;;\n\n  constructor(m: Model&lt;any&gt;) {\n    this.m = m;\n  }\n\n  doFindMany(query: object, options?: CDTModelOpts, cb?: MongoErrorCB){\n\n    const Model = this.m;\n\n    // cb is optional, if cb == null, returns promise\n    const {populate, lean} = options || ({} as CDTModelOpts);\n\n    let q = Model.find(query);\n\n    if (populate &amp;&amp; populate.length &gt; 0) {\n      q = q.populate(populate);\n    }\n\n    if (lean !== false) {\n      q = q.lean();\n    }\n\n    return q.lean().exec(cb)\n  }\n\n}\n</code></pre>\n\n<p>what I want to do, is declare a return type for this wrapper method...something like this:</p>\n\n<pre><code>  doFindMany(query: object, options?: CDTModelOpts, cb?: MongoErrorCB) : Array&lt;typeof this.m&gt; {\n\n    const Model = this.m;\n\n    // cb is optional, if cb == null, returns promise\n    const {populate, lean} = options || ({} as CDTModelOpts);\n\n    let q = Model.find(query);\n\n    if (populate &amp;&amp; populate.length &gt; 0) {\n      q = q.populate(populate);\n    }\n\n    if (lean !== false) {\n      q = q.lean();\n    }\n\n    return q.lean().exec(cb)\n  }\n</code></pre>\n\n<p>the return type, is the type of the Model value that gets passed in.\nThe syntax I use is totally bogus however. Is there a way for the return type to reflect the typeof an input parameter to the constructor?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "websocket", "mqtt"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 11841320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1dd29a73c05fd1fe59ca52aa6a224a4?s=128&d=identicon&r=PG&f=1", "display_name": "shved", "link": "https://stackoverflow.com/users/11841320/shved"}, "is_accepted": false, "score": 3, "last_activity_date": 1564141611, "creation_date": 1564141611, "answer_id": 57219441, "question_id": 49413553, "link": "https://stackoverflow.com/questions/49413553/mqtt-js-how-to-handle-connection-errors/57219441#57219441", "title": "MQTT.js - How to handle connection errors?", "body": "<p>I had a very similar issue with <code>client.on('error'..</code> didnt trigger on WebSocket connection error, the solution was:</p>\n\n<p><code>client.stream.on('error', (err) =&gt; {\n    console.log('error', err);\n    client.end()\n});</code></p>\n"}], "owner": {"reputation": 1666, "user_id": 2830131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19FFr.png?s=128&g=1", "display_name": "Tao", "link": "https://stackoverflow.com/users/2830131/tao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1180, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1564141611, "creation_date": 1521655150, "last_edit_date": 1521655455, "question_id": 49413553, "link": "https://stackoverflow.com/questions/49413553/mqtt-js-how-to-handle-connection-errors", "title": "MQTT.js - How to handle connection errors?", "body": "<p>I have difficulties detecting connection errors with MQTT.js.</p>\n\n<p>I'm trying to use it in an Angular service and connecting and communicating with the server seems to work fine when the server is running but <code>client.on('error', ...)</code> never fires.</p>\n\n<p>I managed to detect errors when connecting by attaching the error callback to <code>client.stream</code> instead, but <code>stream</code> seems to be a private property since it isn't exposed in the official TypeScript definitions, so not sure if this really is the correct way to go.</p>\n\n<p>But what I still don't get to work are errors when the connection is lost, none of the error handlers fire. Instead the browser console logs unhandled websocket errors.</p>\n\n<p>Sample code:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { connect, MqttClient } from 'mqtt';\nimport * as msgpack5 from 'msgpack5';\nimport { environment } from '../../environments/environment';\n\n@Injectable()\nexport class MqttService {\n\n  private client: MqttClient;\n  private msgpack: msgpack5.MessagePack;\n\n  constructor() {\n    this.msgpack = msgpack5();\n\n    this.client = connect(`ws://${environment.host}:8001/mqtt`);\n\n    this.client.on('connect', () =&gt; {\n      console.log('connected');\n      this.client.subscribe('foo');\n    });\n\n    this.client['stream'].on('error', (error) =&gt; {\n      // fires when connection can't be established\n      // but not when an established connection is lost\n      console.log('stream', error);\n      this.client.end();\n    });\n\n    this.client.on('error', (error) =&gt; {\n      console.log('client', error); // never fires\n    });\n\n    this.client.on('message', (topic, payload) =&gt; {\n      console.log(topic, this.msgpack.decode(payload));\n    });\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "css", "angular", "typescript", "components"], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 4495588, "user_type": "registered", "profile_image": "https://graph.facebook.com/607297917/picture?type=large", "display_name": "SKOLZ", "link": "https://stackoverflow.com/users/4495588/skolz"}, "edited": false, "score": 0, "creation_date": 1521729761, "post_id": 49425530, "comment_id": 85864765, "body": "Thank youu! the problem with that is that i&#39;ll still have an unnecesary <code>span</code> wrapping my button. By looking at your code I thought I could write <code>&lt;button app-button&gt;</code> instead and make the template of the app-button just <code>&lt;ng-content&gt;&lt;&#47;ng-content&gt;</code> but if I do that I&#39;ll have to define the button styles in the generic stylesheet since component styles only apply to the template and I can&#39;t target the button with my directive from inside the component styles."}, {"owner": {"reputation": 133, "user_id": 4495588, "user_type": "registered", "profile_image": "https://graph.facebook.com/607297917/picture?type=large", "display_name": "SKOLZ", "link": "https://stackoverflow.com/users/4495588/skolz"}, "edited": false, "score": 0, "creation_date": 1521827741, "post_id": 49425530, "comment_id": 85914352, "body": "Well, I checked it. Now lets say I have 2 types of button <code>.button-1</code> which has a blue background and <code>.button-2</code> which has a red background. What I want to do is to add a <code>styles.css</code> to the button component with the 2 options. and in the app.layout do: <code>&lt;button app-button class=&quot;button-1&quot;&gt;&lt;ng-container app-text&gt;My Text&lt;&#47;ng-container&gt;&lt;&#47;button&gt;</code>. the problem I see there is that the &quot;.button-1&quot; styles will have to be placed in the <code>app.component.css</code> and can&#39;t be placed in the <code>button.component.css</code> so I&#39;ll have to declare those styles in every view that uses a button"}, {"owner": {"reputation": 133, "user_id": 4495588, "user_type": "registered", "profile_image": "https://graph.facebook.com/607297917/picture?type=large", "display_name": "SKOLZ", "link": "https://stackoverflow.com/users/4495588/skolz"}, "edited": false, "score": 0, "creation_date": 1521827797, "post_id": 49425530, "comment_id": 85914385, "body": "since the styles are component scoped. By the way what&#39;s the <code>ng-container</code> you added there? is it a dummy component that is removed when adding the template?"}, {"owner": {"reputation": 133, "user_id": 4495588, "user_type": "registered", "profile_image": "https://graph.facebook.com/607297917/picture?type=large", "display_name": "SKOLZ", "link": "https://stackoverflow.com/users/4495588/skolz"}, "edited": false, "score": 0, "creation_date": 1524022879, "post_id": 49425530, "comment_id": 86797246, "body": "I think that&#39;s a valid solution to my problem. I&#39;ll add a complete response soon! thank you very much for your help!"}, {"owner": {"reputation": 566, "user_id": 548701, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e607337cf798b7182ead36e447beb35f?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien Tromp", "link": "https://stackoverflow.com/users/548701/s%c3%a9bastien-tromp"}, "edited": false, "score": 0, "creation_date": 1565767247, "post_id": 49425530, "comment_id": 101450034, "body": "One issue I have with this approach is the breaking of encapsulation. Are you aware of a way to keep it, and still define all the styles in the child component? Apparently <a href=\"https://github.com/angular/angular/issues/18877\" rel=\"nofollow noreferrer\">github.com/angular/angular/issues/18877</a> is open on this topic, but seems stuck"}, {"owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "reply_to_user": {"reputation": 566, "user_id": 548701, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e607337cf798b7182ead36e447beb35f?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien Tromp", "link": "https://stackoverflow.com/users/548701/s%c3%a9bastien-tromp"}, "edited": false, "score": 0, "creation_date": 1565837005, "post_id": 49425530, "comment_id": 101477127, "body": "@S&#233;bastienTromp, yes, checkout <a href=\"https://stackblitz.com/edit/angular-wa9uir?file=styles.css\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-wa9uir?file=styles.css</a>"}, {"owner": {"reputation": 566, "user_id": 548701, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e607337cf798b7182ead36e447beb35f?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien Tromp", "link": "https://stackoverflow.com/users/548701/s%c3%a9bastien-tromp"}, "edited": false, "score": 0, "creation_date": 1565972601, "post_id": 49425530, "comment_id": 101522205, "body": "@Vega In the example, the class is defined at the &quot;app&quot; level, right? I was wondering if the same thing could be achieved by defining it at the &quot;button&quot; level so that the parent stays unaware of the styling of the child (unless it wants to restyle it, of course)"}, {"owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "reply_to_user": {"reputation": 566, "user_id": 548701, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e607337cf798b7182ead36e447beb35f?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien Tromp", "link": "https://stackoverflow.com/users/548701/s%c3%a9bastien-tromp"}, "edited": false, "score": 0, "creation_date": 1565974604, "post_id": 49425530, "comment_id": 101522942, "body": "@S&#233;bastienTromp It is styled from styles.css. But it could be done with host-context too: <a href=\"https://stackblitz.com/edit/angular-wujdwm\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-wujdwm</a>"}, {"owner": {"reputation": 8666, "user_id": 148298, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/47d1e3144ed1fb03c9ae808249d739ca?s=128&d=identicon&r=PG", "display_name": "ATL_DEV", "link": "https://stackoverflow.com/users/148298/atl-dev"}, "edited": false, "score": 0, "creation_date": 1573302644, "post_id": 49425530, "comment_id": 103842944, "body": "The problem with this solution and others is that it requires an understanding of Angular&#39;s internal workings.  Something like this should be trivial to do in plain old JS and other languages.  You have to wonder what&#39;s the aim of Angular. Is it productivity? Is it simplification? Is it enhancement?  Angular appears to be an emperor wearing no clothes."}], "tags": [], "owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "is_accepted": true, "score": 9, "last_activity_date": 1566009454, "last_edit_date": 1566009454, "creation_date": 1521712616, "answer_id": 49425530, "question_id": 49413363, "link": "https://stackoverflow.com/questions/49413363/how-to-remove-extra-wrapping-elements-in-the-rendered-html/49425530#49425530", "title": "How to remove extra wrapping elements in the rendered HTML?", "body": "<p>Angular components are directives with templates. <a href=\"https://angular.io/guide/cheatsheet#cheat-sheet\" rel=\"noreferrer\">According to this</a>:</p>\n\n<blockquote>\n  <p>Directive configuration    @Directive({ property1: value1, ... })</p>\n  \n  <p>selector: '.cool-button:not(a)'    Specifies a CSS selector that\n  identifies this directive within a template. Supported selectors\n  include element, [attribute], .class, and :not().</p>\n</blockquote>\n\n<p>So component selectors can be also attribute selectors. For your example, instead of writing this:</p>\n\n<p><strong>parent.component.html:</strong></p>\n\n<pre><code>&lt;app-button&gt;\n  &lt;app-text&gt;\n    My Text\n  &lt;/app-text&gt;\n&lt;/app-button&gt;\n</code></pre>\n\n<p>write this:</p>\n\n<p><strong>parent.component.html:</strong></p>\n\n<pre><code>&lt;button app-button&gt;\n    &lt;span app-text&gt;My Text&lt;/span&gt;\n&lt;/button&gt;\n</code></pre>\n\n<p>where :</p>\n\n<p><strong>app-button.component.ts</strong></p>\n\n<pre><code>...  \n  selector: '[app-button]',\n  template: `&lt;ng-content&gt;&lt;/ng-content&gt;\n...\n</code></pre>\n\n<p><strong>app-text.component.ts</strong></p>\n\n<pre><code>...\n  selector: '[app-text]',\n  template: `&lt;ng-content&gt;&lt;/ng-content&gt;`\n...\n</code></pre>\n\n<p>this would be rendered as you expected:</p>\n\n<p><a href=\"https://i.stack.imgur.com/AgLeo.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/AgLeo.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Update after your comment about styling those buttons:</strong></p>\n\n<p>To style the buttons from inside the button component, and set class in parent component, use <code>:host-context</code> pseudo-class. It is not depricated and works well</p>\n\n<p><strong>button.component.css</strong></p>\n\n<pre><code>  :host-context(.button-1)  {\n    background: red;\n  }\n  :host-context(.button-2)  {\n      background: blue;\n  }\n</code></pre>\n\n<p><strong>app.component.html</strong></p>\n\n<pre><code>&lt;button app-button class=\"button-1\"&gt;\n    &lt;span app-text&gt;My Text&lt;/span&gt;\n&lt;/button&gt;\n\n&lt;button app-button class=\"button-2\"&gt;\n    &lt;span app-text&gt;My Text&lt;/span&gt;\n&lt;/button&gt;\n</code></pre>\n\n<p>Here is the <a href=\"https://stackblitz.com/edit/angular-wujdwm\" rel=\"noreferrer\">DEMO</a></p>\n"}, {"tags": [], "owner": {"reputation": 699, "user_id": 935645, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7ef9a4fa2f0b24dabf60c297c194d83a?s=128&d=identicon&r=PG", "display_name": "ndvo", "link": "https://stackoverflow.com/users/935645/ndvo"}, "is_accepted": false, "score": 1, "last_activity_date": 1567530956, "creation_date": 1567530956, "answer_id": 57776156, "question_id": 49413363, "link": "https://stackoverflow.com/questions/49413363/how-to-remove-extra-wrapping-elements-in-the-rendered-html/57776156#57776156", "title": "How to remove extra wrapping elements in the rendered HTML?", "body": "<p>I had a similar issue. I'll provide my solution in case someone else has the same problem.</p>\n\n<p>My component should be able to be used either within other components or as a route from <code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code>. When I used the selector as an attribute <code>[my-component]</code> things worked perfectly provided it was used within other components. But when created by <code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code> a <code>&lt;div&gt;</code> were created automatically.</p>\n\n<p>To avoid that, we can simply <strong>use multiple selectors</strong>, and consider that the selectors can be combined.</p>\n\n<p>Consider this: I want my component to use the attribute <code>my-component</code> and if it ever should be created by the <code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code> it should be wrapped in a <code>&lt;section&gt;&lt;/section&gt;</code>. To achieve this simply use:</p>\n\n<pre><code>@Component(\n    selector: 'section[my-component], my-component',\n    ...\n)\n</code></pre>\n\n<p>The result will be, if used inside another tag:</p>\n\n<pre><code>&lt;whatevertag my-component&gt;\n     ... component content ...\n&lt;/whatertag&gt;\n</code></pre>\n\n<p>If used as a route:</p>\n\n<pre><code>&lt;section my-component&gt;\n     ... component content ...\n&lt;/section&gt;\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 4495588, "user_type": "registered", "profile_image": "https://graph.facebook.com/607297917/picture?type=large", "display_name": "SKOLZ", "link": "https://stackoverflow.com/users/4495588/skolz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7771, "favorite_count": 3, "accepted_answer_id": 49425530, "answer_count": 2, "score": 10, "last_activity_date": 1613753424, "creation_date": 1521654586, "last_edit_date": 1613753424, "question_id": 49413363, "link": "https://stackoverflow.com/questions/49413363/how-to-remove-extra-wrapping-elements-in-the-rendered-html", "title": "How to remove extra wrapping elements in the rendered HTML?", "body": "<p>I started learning angular 5 3 days ago so I'm quite new at it. I also use angularJS and React to develop applications and I think I don't understand how angular 5 components fully work. If I create for example a custom button that has a custom text inside (I'm not saying this should be done this way but it's a simple example that shows my point) like this:</p>\n\n<pre><code>&lt;app-button&gt;\n  &lt;app-text&gt;\n    My Text\n  &lt;/app-text&gt;\n&lt;/app-button&gt;\n</code></pre>\n\n<p>The rendered DOM results in:</p>\n\n<pre><code>&lt;app-button&gt;\n  &lt;button&gt;\n    &lt;app-text&gt;\n      &lt;span&gt;\n        My Text\n      &lt;/span&gt;\n    &lt;/app-text&gt;\n  &lt;/button&gt;\n&lt;/app-button&gt;\n</code></pre>\n\n<p>which is unreadable, I wanted to know if there's a way to remove this wrapping elements and just place the components layout replacing the tags resulting in the following structure:</p>\n\n<pre><code>&lt;button&gt;\n  &lt;span&gt;\n    My Text\n  &lt;/span&gt;\n&lt;/button&gt;\n</code></pre>\n\n<p>If there's no way of removing them what are your suggestions? thanks! </p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 791, "user_id": 4774651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fLLyV.jpg?s=128&g=1", "display_name": "mat3e", "link": "https://stackoverflow.com/users/4774651/mat3e"}, "edited": false, "score": 0, "creation_date": 1522515356, "post_id": 49413040, "comment_id": 86188162, "body": "I think you should distribute pure JS code and TypeScript definition files (those <code>.d.ts</code>). This is e.g. how Angular is distributed (take a look e.g. here: <a href=\"https://unpkg.com/@angular/core/\" rel=\"nofollow noreferrer\">unpkg.com/@angular/core</a>)."}], "owner": {"reputation": 2520, "user_id": 779323, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/aac2b85b157ea6a1ef164bb50a1eda89?s=128&d=identicon&r=PG", "display_name": "i_like_robots", "link": "https://stackoverflow.com/users/779323/i-like-robots"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1521705445, "creation_date": 1521653537, "last_edit_date": 1521705445, "question_id": 49413040, "link": "https://stackoverflow.com/questions/49413040/is-it-possible-to-write-typed-but-generic-functional-components-to-be-used-by", "title": "Is it possible to write typed, but generic, functional components to be used by non-React runtimes?", "body": "<p>We're wanting to distribute components with the intention that they may be consumed by any compatible runtime. These components are just functions written in JSX, and transpiled to a generic factory function, <code>h</code>. The output should therefore (for the most part) be compatible with React, Preact, Inferno, Hyperapp, vhtml, etc. For example, here is a simple <code>&lt;Title /&gt;</code> component:</p>\n\n<pre><code>import { h } from 'runtime';\n\nconst Title = ({ title, url }) =&gt; (\n    &lt;div className=\"component-heading\"&gt;\n        &lt;a href={url} className=\"component-heading-link\"&gt;\n            {title}\n        &lt;/a&gt;\n    &lt;/div&gt;\n);\n\nexport default Title;\n</code></pre>\n\n<p>We'd like to decorate our components with types, primarily so that the consumer gets help when passing properties along to them. If we borrow the React typings it could look like this:</p>\n\n<pre><code>import { SFC } from 'react';\nimport { h } from 'runtime';\n\nexport interface Props { \u2026 }\n\nconst Title: SFC&lt;Props&gt; = ({ title, url, premium }) =&gt; (\n    &lt;div className=\"component-heading\"&gt;\n        &lt;a href={url} className=\"component-heading-link\"&gt;\n            {title}\n        &lt;/a&gt;\n    &lt;/div&gt;\n);\n\nexport default Title;\n</code></pre>\n\n<p>This is very nice if the consumer is using TypeScript and React, but if they are using Preact or any other compatible runtime the types will clash.</p>\n\n<p>Is it therefore possible to write functional components that are generic enough to be used by non-React runtimes?</p>\n"}, {"tags": ["javascript", "typescript", "asynchronous", "ionic-framework", "promise"], "answers": [{"comments": [{"owner": {"reputation": 2230, "user_id": 4770729, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bN1--7fd-ZI/AAAAAAAAAAI/AAAAAAAADsc/vdPhCWj9ayc/photo.jpg?sz=128", "display_name": "William Terrill", "link": "https://stackoverflow.com/users/4770729/william-terrill"}, "edited": false, "score": 0, "creation_date": 1521660127, "post_id": 49413332, "comment_id": 85831515, "body": "Ok... So, it seems that for a data provider, that you&#39;d go with the #1 Promise inside a promise method.  That is, in the provider, you&#39;d create a promise that is handled by the calling page. The innards of that promise would be the async database promise"}, {"owner": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "reply_to_user": {"reputation": 2230, "user_id": 4770729, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bN1--7fd-ZI/AAAAAAAAAAI/AAAAAAAADsc/vdPhCWj9ayc/photo.jpg?sz=128", "display_name": "William Terrill", "link": "https://stackoverflow.com/users/4770729/william-terrill"}, "edited": false, "score": 0, "creation_date": 1521660836, "post_id": 49413332, "comment_id": 85831919, "body": "Sometimes you may need number of promises or other async data to be resolved at once, before page initialization.  So in your case page can have some absration, like angular2 resolvers."}, {"owner": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "reply_to_user": {"reputation": 2230, "user_id": 4770729, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bN1--7fd-ZI/AAAAAAAAAAI/AAAAAAAADsc/vdPhCWj9ayc/photo.jpg?sz=128", "display_name": "William Terrill", "link": "https://stackoverflow.com/users/4770729/william-terrill"}, "edited": false, "score": 0, "creation_date": 1521664046, "post_id": 49413332, "comment_id": 85833614, "body": "In 1 and 2 you are doing almost the same. Cuz somewhere in code it will be getProduct().then(() =&gt; {}); So 1 is same as sql.then(() =&gt; return Promise.resolve(data)), as sql call already returns a Promise"}, {"owner": {"reputation": 2230, "user_id": 4770729, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bN1--7fd-ZI/AAAAAAAAAAI/AAAAAAAADsc/vdPhCWj9ayc/photo.jpg?sz=128", "display_name": "William Terrill", "link": "https://stackoverflow.com/users/4770729/william-terrill"}, "edited": false, "score": 0, "creation_date": 1521664458, "post_id": 49413332, "comment_id": 85833824, "body": "yes.  I agree.  1, 2 and 3 are doing the same thing.  The only difference is how the information is passed between the provider and the calling page.  That&#39;s the nature of my confusion... which is the best way? (or are there others that I&#39;m missing?)"}, {"owner": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "reply_to_user": {"reputation": 2230, "user_id": 4770729, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bN1--7fd-ZI/AAAAAAAAAAI/AAAAAAAADsc/vdPhCWj9ayc/photo.jpg?sz=128", "display_name": "William Terrill", "link": "https://stackoverflow.com/users/4770729/william-terrill"}, "edited": false, "score": 0, "creation_date": 1521664858, "post_id": 49413332, "comment_id": 85834051, "body": "You must collect data not inside promises. Somewhere in page  Promise.all(getProducts(), getComments(), getUsers()).then(() =&gt; { });"}], "tags": [], "owner": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "is_accepted": true, "score": 1, "last_activity_date": 1521654463, "creation_date": 1521654463, "answer_id": 49413332, "question_id": 49412912, "link": "https://stackoverflow.com/questions/49412912/async-operations-architecture-between-providers-and-calling-pages/49413332#49413332", "title": "Async operations architecture between providers and calling pages", "body": "<p>Provider or service or any other class,\nmust return a value or Promise or Observable in getter.</p>\n\n<p>hope code example will be helpful</p>\n\n<pre><code>class Product{}\n\nclass ProductsService{\n  getProduct(){\n    return new Product();\n    //or return Observable&lt;Product&gt;\n    //or return Promise&lt;Product&gt;;\n  }\n}\n\nclass ProductPresenter{\n\n  private product: Product;\n\n  constructor(private _productService:ProductsService){\n    //so here must be sync or async way of getting a product to show\n    this.product = _productService.getProduct();\n    //or _productService.getProduct().then(() =&gt; {});\n    //or _productService.getProduct().subscribe(() =&gt; {});\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 2230, "user_id": 4770729, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bN1--7fd-ZI/AAAAAAAAAAI/AAAAAAAADsc/vdPhCWj9ayc/photo.jpg?sz=128", "display_name": "William Terrill", "link": "https://stackoverflow.com/users/4770729/william-terrill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 49413332, "answer_count": 1, "score": 0, "last_activity_date": 1521663421, "creation_date": 1521653161, "last_edit_date": 1521663421, "question_id": 49412912, "link": "https://stackoverflow.com/questions/49412912/async-operations-architecture-between-providers-and-calling-pages", "title": "Async operations architecture between providers and calling pages", "body": "<p>I'm flummoxed on the best way to use providers to get and subsequently forward asynchronous data... and, unfortunately, I don't know what I don't know, so my question is nebulous at best. </p>\n\n<p>What is the best way to create an architecture for database or other async operations that keeps all database/http/etc calls together, but allows for async operations on the calling page itself?  For example, I'd like to call \"this.provider.getDataFromDatabase()\" and then use the data in the same page.</p>\n\n<p>I guess I could boil the question down to, \"Where do you put the .then()s?\"</p>\n\n<p>Here are some examples of some things I've played with:</p>\n\n<p><strong>1. Promise wrapped in a promise method-</strong>  In the provider I've written promises wrapped in promises, where the inside promise is the database/http/etc call, and the outside promise is the function that the calling page will use to coordinate async functions (using .then())<br></p>\n\n<p><strong><em>.then() locations</em></strong> - one .then() for the async call is in the provider. The other .then() is in the calling page that handles the wrapper<br>\n<strong><em>Pro -</em></strong> I'm able to keep all async operations completely in the provider, and I'm still able to coordinate operations in the calling page.<br>\n<strong><em>Con -</em></strong> It seems unnecessarily complicated, and I keep thinking I'm smacking up against a \"promise anti-pattern\"<br></p>\n\n<pre><code>public getPeople() {\n        return new Promise((resolve, reject) =&gt; {\n            this.storage.executeSql(\"SELECT * FROM people\", []).then((data) =&gt; \n                { \n                  console.log(data); \n                  resolve(people); \n                }, (error) =&gt; { reject(error); }); \n         }); \n    }\n</code></pre>\n\n<p><br><br><br>\n<strong>2. Return a promise method-</strong> In the provider, the code is there just to set up the database/http/etc promise, that is just returned to the calling page where it uses .then() to coordinate operations. </p>\n\n<p><strong><em>.then() locations -</em></strong> only one in the calling page itself.<br>\n<strong><em>Pro -</em></strong> Simpler code in provider. <br>\n<strong><em>Con -</em></strong> The idea of a data provider seems to be spoiled since the actual functions are in the calling page.  That seems to blur the line between provider and calling page.<br>\nCode Example <br></p>\n\n<pre><code>public getPeople() {\n            return this.storage.executeSql(\"SELECT * FROM people\", []) \n            }\n</code></pre>\n\n<p><br><br><br>\n<strong>3. EventEmitters method -</strong> All of the code for performing an async operations is written in the provider. The .then() is in the provider and passes the results back to the page via an event.  The subscribe event, then, coordinates actions in the page itself.</p>\n\n<p><strong><em>.then() locations -</em></strong> only one in the provider <br>\n<strong><em>Pro -</em></strong> Simpler code in provider.  Simpler code in calling page. All async operations in provider, and page specific custom code in page. <br>\n<strong><em>Con -</em></strong> The code is a little harder to follow in the page since the calling function and the subscribe function aren't \"together.\" Additionally, I always feel like I'm going to get myself in trouble by sending data to an unloaded page. <br>\nCode Example<br></p>\n\n<pre><code>public getPeople() {\n        this.storage.executeSql(\"SELECT * FROM people\", []).then((data) =&gt; \n            { \n              this.events.publish('getPeople', data);        \n            } \n        }\n</code></pre>\n\n<p><br>\nI'm curious what the best practice is. I'm leaning to the emitter method, but I don't know if there's some hidden issue that I haven't yet encountered.  Thank you in advance for pointing me in the right direction.</p>\n"}, {"tags": ["angular", "typescript", "http"], "comments": [{"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "edited": false, "score": 0, "creation_date": 1521652530, "post_id": 49412674, "comment_id": 85827091, "body": "I do not understand the question."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9515832"}, "reply_to_user": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "edited": false, "score": 0, "creation_date": 1521652667, "post_id": 49412674, "comment_id": 85827189, "body": "In webservice I want to post homeboxpackage_id, token, and active 1 or active 0. In this code I post only  homeboxpackage_id, token, my question is,How to post in web service and active 1 or active 0 ?"}, {"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "edited": false, "score": 0, "creation_date": 1521652793, "post_id": 49412674, "comment_id": 85827264, "body": "What do you even mean by &quot;active 1&quot;?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9515832"}, "reply_to_user": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "edited": false, "score": 0, "creation_date": 1521653089, "post_id": 49412674, "comment_id": 85827442, "body": "I just want to send active  1 to activate the product, and active 0 to deactivate the product"}, {"owner": {"reputation": 2577, "user_id": 9112450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ocfqi.gif?s=128&g=1", "display_name": "sorak", "link": "https://stackoverflow.com/users/9112450/sorak"}, "edited": false, "score": 0, "creation_date": 1521666482, "post_id": 49412674, "comment_id": 85834818, "body": "What you are saying is still unclear. Do you mean a field in the post data? For example, with jQuery, $.post(&#39;target&#39;, {active:1}, function(){ /* callback */ }) ... in this case, how are you determining whether to pass the 1 or 0?"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9515832"}, "edited": false, "score": 0, "creation_date": 1521714455, "post_id": 49412901, "comment_id": 85853292, "body": "Missing radix parameter!!"}, {"owner": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "edited": false, "score": 0, "creation_date": 1521716063, "post_id": 49412901, "comment_id": 85854535, "body": "Add it, it is simple parseInt(isActive, 10). People can&#39;t understand what you want, cuz it is simple thing and you can&#39;t deal with that and even with parseInt. Site is for developers and questions must be adequate. I understand that you need a one more flag and show you how to set it. When talking about flags it is better to use Boolean, so variable isActive is boolean, but in database it is tinyint(1) e,g, 0 or 1. So I have added parseInt."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9515832"}, "edited": false, "score": 0, "creation_date": 1521716862, "post_id": 49412901, "comment_id": 85855112, "body": "Thank you for your answer. Now show this: argument of type &#39;boolean&#39; is not assignable to parameter of type &#39;string&#39;"}, {"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "edited": false, "score": 0, "creation_date": 1521798746, "post_id": 49412901, "comment_id": 85895103, "body": "@Aulonna: Just add <code>.toString()</code> to turn it into a string."}, {"owner": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "edited": false, "score": 0, "creation_date": 1521803221, "post_id": 49412901, "comment_id": 85898189, "body": "@Aulonna there is unary operator (+bool), which returns a string with toString() call. Really you need to learn more about build in functionality."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9515832"}, "edited": false, "score": 0, "creation_date": 1521810255, "post_id": 49412901, "comment_id": 85902736, "body": "@Vayrex Yes, I know, I&#39;m starting with programming. I need support and help. Thanks for the answer. What I am sending to the service is active: NaN"}, {"owner": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "edited": false, "score": 0, "creation_date": 1521814500, "post_id": 49412901, "comment_id": 85905718, "body": "@Aulonna You need to learn programming =). Support is not working properly when you have not basic knowlage.  You need to pass &quot;isActive&quot; parameter this method."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9515832"}, "edited": false, "score": 0, "creation_date": 1521815413, "post_id": 49412901, "comment_id": 85906491, "body": "urlSearchParams.append(&#39;active&#39;, (+&#39;isActive&#39;).toString()); --&gt; result NaN"}], "tags": [], "owner": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "is_accepted": false, "score": 0, "last_activity_date": 1521803093, "last_edit_date": 1521803093, "creation_date": 1521653122, "answer_id": 49412901, "question_id": 49412674, "link": "https://stackoverflow.com/questions/49412674/post-active-1-or-0-in-http-body/49412901#49412901", "title": "post active 1 or 0 in http body", "body": "<p>Do you mean something like that ?</p>\n\n<pre><code> public activatehomeboxp(id: string, isActive: boolean): Observable&lt;boolean&gt; {\n    let headers = new Headers();\n    headers.append('Content-Type', 'application/x-www-form-urlencoded');\n\n    let urlSearchParams = new URLSearchParams();\n    urlSearchParams.append('homeboxpackage_id', id);\n    urlSearchParams.append('token', this.auth.getCurrentUser().token);\n    urlSearchParams.append(\"active\", (+isActive).toString());\n\n    let body = urlSearchParams.toString();\n    return this.http.post(Api.getUrl(Api.URLS.activatehomeboxp), body, {\n      headers\n    })\n      .map((response: Response) =&gt; {\n        let res = response.json();\n        if (res.StatusCode === 0) {\n          return true;\n        }\n      });\n  }\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9515832"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521803093, "creation_date": 1521652423, "last_edit_date": 1521714353, "question_id": 49412674, "link": "https://stackoverflow.com/questions/49412674/post-active-1-or-0-in-http-body", "title": "post active 1 or 0 in http body", "body": "<p>I want to put in the body the active value 0 or 1. The code I'm using this code, but I can not send the active status. send only set parameters.</p>\n\n<pre><code>public activatehomeboxp(id: string): Observable&lt;boolean&gt; {\n    let headers = new Headers();\n    headers.append('Content-Type', 'application/x-www-form-urlencoded');\n\n    let urlSearchParams = new URLSearchParams();\n    urlSearchParams.append('homeboxpackage_id', id);\n    urlSearchParams.append('token', this.auth.getCurrentUser().token);\n    let body = urlSearchParams.toString();\n    return this.http\n               .post(Api.getUrl(Api.URLS.activatehomeboxp), body, { headers })\n               .map((response: Response) =&gt; {\n                   let res = response.json();\n                   if (res.StatusCode === 0) {\n                       return true;\n                   }\n               });\n}\n</code></pre>\n\n<p>I want something like this:</p>\n\n<pre><code>urlSearchParams.append('homeboxpackage_id', id);\nurlSearchParams.append('active', '1');\nurlSearchParams.append('token', this.auth.getCurrentUser().token);\n</code></pre>\n\n<p>only in this case I always send active 1, I want to send and active 0, not in all cases 1</p>\n\n<p>Can you suggest me any solution please?</p>\n\n<p>Thank you</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 10985, "user_id": 231821, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2d5bed99fd1db8db24640148a5032a47?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/231821/jim"}, "edited": false, "score": 2, "creation_date": 1521654032, "post_id": 49412572, "comment_id": 85828022, "body": "hah! thanks, can&#39;t believe it was so simple, and I missed it."}, {"owner": {"reputation": 417, "user_id": 1433400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/155fa72c432a6a9e7b9657b9e55dcd7e?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/1433400/mark"}, "edited": false, "score": 0, "creation_date": 1542032852, "post_id": 49412572, "comment_id": 93412550, "body": "Cheers for that! Such a simple answer."}], "tags": [], "owner": {"reputation": 1013, "user_id": 5810378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pbURV.jpg?s=128&g=1", "display_name": "Obed", "link": "https://stackoverflow.com/users/5810378/obed"}, "is_accepted": true, "score": 23, "last_activity_date": 1521654061, "last_edit_date": 1521654061, "creation_date": 1521652114, "answer_id": 49412572, "question_id": 49412457, "link": "https://stackoverflow.com/questions/49412457/keeping-two-formcontrol-input-elements-in-sync-using-reactiveforms-in-angular-4/49412572#49412572", "title": "keeping two FormControl input elements in sync using ReactiveForms in angular 4", "body": "<p>just add a value field to the form</p>\n\n<pre><code>&lt;input type=\"text\" class=\"form-control\" [value]=\"form.value.address\" placeholder=\"Address\" formControlName=\"address\"&gt;\n&lt;input type=\"text\" class=\"form-control\" [value]=\"form.value.address\" placeholder=\"Address\" formControlName=\"address\"&gt;\n</code></pre>\n\n<p>check out this <a href=\"https://plnkr.co/edit/WskFHZQcoe8DKusLeIM9?p=preview\" rel=\"noreferrer\">plunker</a></p>\n"}, {"comments": [{"owner": {"reputation": 12016, "user_id": 1175496, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d9fb1cc64151ef77c851e38a86991fdf?s=128&d=identicon&r=PG", "display_name": "The Red Pea", "link": "https://stackoverflow.com/users/1175496/the-red-pea"}, "edited": false, "score": 1, "creation_date": 1591383363, "post_id": 53629638, "comment_id": 110046027, "body": "Thanks! I like this solution. Is <code>onlySelf: true</code> important? From documentation: <a href=\"https://angular.io/api/forms/FormControl\" rel=\"nofollow noreferrer\">&quot;onlySelf: When true, each change only affects this control, and not its parent. Default is false.&quot;</a> I did not use it, but maybe it&#39;s a good idea"}, {"owner": {"reputation": 2467, "user_id": 1657333, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fc7874685a8897860552e01c1e269265?s=128&d=identicon&r=PG", "display_name": "Eslam Sameh Ahmed", "link": "https://stackoverflow.com/users/1657333/eslam-sameh-ahmed"}, "edited": false, "score": 0, "creation_date": 1596473780, "post_id": 53629638, "comment_id": 111816053, "body": "It is a working solution but there is must another elegant one."}], "tags": [], "owner": {"reputation": 684, "user_id": 1772757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OEDhA.png?s=128&g=1", "display_name": "Tito Leiva", "link": "https://stackoverflow.com/users/1772757/tito-leiva"}, "is_accepted": false, "score": 8, "last_activity_date": 1544004156, "creation_date": 1544004156, "answer_id": 53629638, "question_id": 49412457, "link": "https://stackoverflow.com/questions/49412457/keeping-two-formcontrol-input-elements-in-sync-using-reactiveforms-in-angular-4/53629638#53629638", "title": "keeping two FormControl input elements in sync using ReactiveForms in angular 4", "body": "<p>If the components have a reference to same form, but they are in different parts (different templates for example), you can subscribe the value change event to update the value. This works for me:</p>\n\n<pre><code>class CustomComponent implements OnInit {\n\n @Input() formGroup: FormGroup;\n\n ngOnInit() {\n\n this.formGroup.controls['param'].valueChanges.subscribe(x=&gt; {\n       this.formGroup.controls['param'].setValue(x, {onlySelf: true, emitEvent: false});\n    });\n\n  }\n\n}   \n</code></pre>\n\n<p>So, if you modify the value in one component, the subscription will handle the changes in the other component.\nThe <code>emitEvent: false</code> prevents to enter in a infinite loop on changes. </p>\n"}], "owner": {"reputation": 10985, "user_id": 231821, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2d5bed99fd1db8db24640148a5032a47?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/231821/jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7244, "favorite_count": 3, "accepted_answer_id": 49412572, "answer_count": 2, "score": 12, "last_activity_date": 1544004156, "creation_date": 1521651739, "question_id": 49412457, "link": "https://stackoverflow.com/questions/49412457/keeping-two-formcontrol-input-elements-in-sync-using-reactiveforms-in-angular-4", "title": "keeping two FormControl input elements in sync using ReactiveForms in angular 4", "body": "<p>Given a component, with a form declaration</p>\n\n<pre><code>ngOnInit() {\n  this.form = this.fb.group({\n    address: [\"\"],\n  });\n}\n</code></pre>\n\n<p>An two input controls on a form, both referencing the same control.</p>\n\n<pre><code>&lt;input type=\"text\" class=\"form-control\" placeholder=\"Address\" formControlName=\"address\"&gt;\n&lt;input type=\"text\" class=\"form-control\" placeholder=\"Address\" formControlName=\"address\"&gt;\n</code></pre>\n\n<p>How do I keep the input values the same in each of the controls.\nUpdating each input element does change the model value, but <strong>not the other corresponding input value</strong>. I am sure this is by design.</p>\n\n<p>I am using the control on a <em>tabbed interface, that requires a duplicate</em> on each tab. Is there an easy way to keep them updated?</p>\n\n<p>I have a <strong><a href=\"https://plnkr.co/edit/Gu68Yl?p=preview\" rel=\"noreferrer\">working plunker demonstration.</a></strong></p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "edited": false, "score": 0, "creation_date": 1521650986, "post_id": 49412139, "comment_id": 85826078, "body": "You&#39;re only pushing one object to the subject, and then you&#39;re changing that same object?"}, {"owner": {"reputation": 2995, "user_id": 978826, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0f8c167e323a7595d7e64be3239dd62c?s=128&d=identicon&r=PG", "display_name": "Dennis Ich", "link": "https://stackoverflow.com/users/978826/dennis-ich"}, "reply_to_user": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "edited": false, "score": 0, "creation_date": 1521716885, "post_id": 49412139, "comment_id": 85855132, "body": "I push several objects to the subscription but I want to listen to the changes of each."}], "answers": [{"comments": [{"owner": {"reputation": 12455, "user_id": 5699993, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/5428464065272667ef39b9415d8e8722?s=128&d=identicon&r=PG&f=1", "display_name": "Picci", "link": "https://stackoverflow.com/users/5699993/picci"}, "edited": false, "score": 0, "creation_date": 1521654798, "post_id": 49413050, "comment_id": 85828468, "body": "Putting the subscription in the constructor can be dangerous. It looks like that the property subject could be undefined at the moment the constructor is executed"}, {"owner": {"reputation": 562, "user_id": 7305720, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/wF0NE.jpg?s=128&g=1", "display_name": "telion", "link": "https://stackoverflow.com/users/7305720/telion"}, "edited": false, "score": 0, "creation_date": 1567412507, "post_id": 49413050, "comment_id": 101943822, "body": "Doesn&#39;t that mean that in a nested Object, this approach has to check the if(value.toObserver) every time anything in the whole object changes? If this is the case, this approach is easy but can get inperformant really fast. For example if the the if-clause contains a bit more complex function or the object is a little bigger with components changing the object on hovers for example."}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1567528052, "post_id": 49413050, "comment_id": 101986276, "body": "You&#39;re absolutely right. Of course one has to make sure that the performance is not slowed down too much. But this is how subscriptions basically have to be done. How you optimize the update-process of those subjects is up to you. --- If you&#39;d run a little test by putting all the lifecycle hooks Angular provides (OnInit, AfterViewInit, AfterContentInit and so on) inside a single component containing only one input field and let them all fire an output using console.log() whenever they get called, you&#39;d be surprised or maybe shocked how often Angular is passing / triggering all of them."}], "tags": [], "owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "is_accepted": false, "score": 1, "last_activity_date": 1521655651, "last_edit_date": 1521655651, "creation_date": 1521653575, "answer_id": 49413050, "question_id": 49412139, "link": "https://stackoverflow.com/questions/49412139/rxjs-observable-of-objects-property/49413050#49413050", "title": "RxJS observable of objects property", "body": "<p>Sorry, but I reckon you didn't completely understand how subscription is to be done properly.</p>\n\n<p>You have your subject </p>\n\n<pre><code>@Input() subject: Subject&lt;Test&gt;;\n</code></pre>\n\n<p>and you want to trigger actions whenever the subject changes. Then put this subscription into your ngOnInit()-method:</p>\n\n<pre><code>this.subject.subscribe(value =&gt; {\n   // and here goes your evaluation\n   if(value.toObserve) {\n      // do something\n   } else {\n      // do something else\n   }\n});\n</code></pre>\n\n<p>and you can go even further and do something like this</p>\n\n<pre><code>this.subject.subscribe(value =&gt; {\n   // and here goes your evaluation\n   if(value.toObserve) {\n      // do something\n   } else {\n      // do something else\n   }\n\n   if(value.required) {\n      // do something\n   } else {\n      // do something else\n   }\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2995, "user_id": 978826, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0f8c167e323a7595d7e64be3239dd62c?s=128&d=identicon&r=PG", "display_name": "Dennis Ich", "link": "https://stackoverflow.com/users/978826/dennis-ich"}, "edited": false, "score": 0, "creation_date": 1521713369, "post_id": 49413170, "comment_id": 85852461, "body": "Would I need to subscribe to this too then? I think I still miss something to fully understand how this subscriptions work. Would this snippet in <code>do</code> react on the change of property every time without pushing the object to the subject again?"}, {"owner": {"reputation": 1157, "user_id": 4693209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14b886011ab9adc2882e8fcb621ecc1a?s=128&d=identicon&r=PG", "display_name": "Quentin Fonck", "link": "https://stackoverflow.com/users/4693209/quentin-fonck"}, "reply_to_user": {"reputation": 2995, "user_id": 978826, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0f8c167e323a7595d7e64be3239dd62c?s=128&d=identicon&r=PG", "display_name": "Dennis Ich", "link": "https://stackoverflow.com/users/978826/dennis-ich"}, "edited": false, "score": 1, "creation_date": 1521714300, "post_id": 49413170, "comment_id": 85853178, "body": "Here, your subject is the emitter. It means that every time you change your value, you will have to call <code>this.subject.next(myNewValue)</code> to execute the code in registerHandlers(). You also have to subscribe to the function otherwise there&#39;s no point executing this code if there&#39;s no receiver.  But you&#39;ll always have to push the data manually to the subject, it won&#39;t do it automatically."}, {"owner": {"reputation": 2995, "user_id": 978826, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0f8c167e323a7595d7e64be3239dd62c?s=128&d=identicon&r=PG", "display_name": "Dennis Ich", "link": "https://stackoverflow.com/users/978826/dennis-ich"}, "edited": false, "score": 0, "creation_date": 1521714950, "post_id": 49413170, "comment_id": 85853687, "body": "Mh ok I understand so each time some component changes anything I have to push the hole object again to all other components in order to react on it. I will need to rethink my logic then... One more question before I go though my hole code again: There will not be a new object reference or a clone operation? So when I push it again and ask for equality (To remove it from a data table for example) the objects will be the same as the very first instance I pushed (just other prop values)?"}, {"owner": {"reputation": 1157, "user_id": 4693209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14b886011ab9adc2882e8fcb621ecc1a?s=128&d=identicon&r=PG", "display_name": "Quentin Fonck", "link": "https://stackoverflow.com/users/4693209/quentin-fonck"}, "reply_to_user": {"reputation": 2995, "user_id": 978826, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0f8c167e323a7595d7e64be3239dd62c?s=128&d=identicon&r=PG", "display_name": "Dennis Ich", "link": "https://stackoverflow.com/users/978826/dennis-ich"}, "edited": false, "score": 0, "creation_date": 1521715445, "post_id": 49413170, "comment_id": 85854070, "body": "Even if you change properties on the object you push in your subject, you are not changing the object reference, so it should be the same ( I am not sure though, it is best to do a quick test).  I would suggest to put your subject and your function in a service, so every component that needs the data can subscribe to it. Don&#39;t forget to unsubscribe in the ngDestroy of your components to prevent data leakage."}, {"owner": {"reputation": 2995, "user_id": 978826, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0f8c167e323a7595d7e64be3239dd62c?s=128&d=identicon&r=PG", "display_name": "Dennis Ich", "link": "https://stackoverflow.com/users/978826/dennis-ich"}, "edited": false, "score": 0, "creation_date": 1521716099, "post_id": 49413170, "comment_id": 85854557, "body": "Thanks for your insight I already wondered how it would work when I have several thousand subscriptions online... Is there an easy way to see &quot;what happened&quot; to the object? i.e. Which property has changed?"}, {"owner": {"reputation": 1157, "user_id": 4693209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14b886011ab9adc2882e8fcb621ecc1a?s=128&d=identicon&r=PG", "display_name": "Quentin Fonck", "link": "https://stackoverflow.com/users/4693209/quentin-fonck"}, "reply_to_user": {"reputation": 2995, "user_id": 978826, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0f8c167e323a7595d7e64be3239dd62c?s=128&d=identicon&r=PG", "display_name": "Dennis Ich", "link": "https://stackoverflow.com/users/978826/dennis-ich"}, "edited": false, "score": 0, "creation_date": 1521717077, "post_id": 49413170, "comment_id": 85855248, "body": "Regarding the subscriptions, you don&#39;t need to unsubscribe from observables that has completed and from those observables dealed by angular (like route object or async pipe), so it should lower the count ^^. In order to know what has changed to your object, I am afraid there&#39;s no easy answer. I find this answer when searching for it : <a href=\"https://stackoverflow.com/a/44396986/4693209\">stackoverflow.com/a/44396986/4693209</a> I hope it will help you somehow."}, {"owner": {"reputation": 2995, "user_id": 978826, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0f8c167e323a7595d7e64be3239dd62c?s=128&d=identicon&r=PG", "display_name": "Dennis Ich", "link": "https://stackoverflow.com/users/978826/dennis-ich"}, "edited": false, "score": 1, "creation_date": 1521725483, "post_id": 49413170, "comment_id": 85861492, "body": "Small update on this: I don&#39;t want <code>do</code> but subscribe directly as <code>do</code> discards the side effects on subsequent subscriptions. Made it work as I wanted more or less."}], "tags": [], "owner": {"reputation": 1157, "user_id": 4693209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14b886011ab9adc2882e8fcb621ecc1a?s=128&d=identicon&r=PG", "display_name": "Quentin Fonck", "link": "https://stackoverflow.com/users/4693209/quentin-fonck"}, "is_accepted": true, "score": 1, "last_activity_date": 1521713688, "last_edit_date": 1521713688, "creation_date": 1521653957, "answer_id": 49413170, "question_id": 49412139, "link": "https://stackoverflow.com/questions/49412139/rxjs-observable-of-objects-property/49413170#49413170", "title": "RxJS observable of objects property", "body": "<p>Doing a subscribe into a subscribe is not recommended. I would rather create an operators chain to your subject and subscribe to it:</p>\n\n<p>If you want to perform some side effects in your components depending on a specific property in your stream, you can use the do operator: </p>\n\n<pre><code>interface Test {\n  required: boolean;\n  toObserve: boolean;\n}\n\nclass TestClass implements OnInit {\n  @Input() subject: Subject&lt;Test&gt;;\n\n  ngOnInit() {\n    this.registerHandlers().subscribe();\n  }\n\n  registerHandlers() {\n    return this.subject\n     .filter(element =&gt; element.required)\n     .do(next =&gt; {\n        if (next.toObserve) {\n          // DO SOMETHING\n        } else {\n          // DO SOMETHING ELSE\n        }\n     });    \n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 2995, "user_id": 978826, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0f8c167e323a7595d7e64be3239dd62c?s=128&d=identicon&r=PG", "display_name": "Dennis Ich", "link": "https://stackoverflow.com/users/978826/dennis-ich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4230, "favorite_count": 1, "accepted_answer_id": 49413170, "answer_count": 2, "score": 1, "last_activity_date": 1521713688, "creation_date": 1521650828, "question_id": 49412139, "link": "https://stackoverflow.com/questions/49412139/rxjs-observable-of-objects-property", "title": "RxJS observable of objects property", "body": "<p>I want to observe changes of a property with RxJS.</p>\n\n<pre><code>interface Test {\n  required: boolean;\n  toObserve: boolean;\n}\n\nclass TestClass {\n  @Input() subject: Subject&lt;Test&gt;;\n\n  registerHandlers() {\n    this.subject.filter(element =&gt; element.required).subscribe(next =&gt;\n      // Observe a property of every element that was registered\n      Observable.of(next.toObserve).subscribe(val =&gt; {\n        if (val) {\n          // DO SOMETHING\n        } else {\n          // DO SOMETHING ELSE\n        }\n      })\n    );\n  }\n}\n</code></pre>\n\n<p>I got a subject into which newly created objects are pushed. Several components subscribe on these and should react on different property changes.</p>\n\n<p>In the above example if <code>toObserve</code> is set I want the component to do something. This works exactly once currently - Depending on the value the element has when it is registered with <code>subject.next(element)</code> the correct path is executed.</p>\n\n<p>However as soon as I change the value of <code>element.toObserve</code> nothing is happening and the subscription seems to have no effect anymore.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 383, "user_id": 3077921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/827ebc3c200acfb3c619d86380ff1777?s=128&d=identicon&r=PG&f=1", "display_name": "zelda11", "link": "https://stackoverflow.com/users/3077921/zelda11"}, "edited": false, "score": 0, "creation_date": 1521651513, "post_id": 49411946, "comment_id": 85826448, "body": "Can you attach your User model definition?"}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1521656662, "post_id": 49411946, "comment_id": 85829525, "body": "Why would you want to use template driven and reactive forms together, I suggest you choose either."}, {"owner": {"reputation": 31, "user_id": 9336868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c3e01daf89e75f00d521d3ab53101a?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/9336868/sam"}, "edited": false, "score": 0, "creation_date": 1521659485, "post_id": 49411946, "comment_id": 85831154, "body": "can you please tell me  what I have to remove to use only reactive forms"}, {"owner": {"reputation": 31, "user_id": 9336868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c3e01daf89e75f00d521d3ab53101a?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/9336868/sam"}, "edited": false, "score": 0, "creation_date": 1521731920, "post_id": 49411946, "comment_id": 85866388, "body": "Thank you Alex I understand where is my error now"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 9336868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c3e01daf89e75f00d521d3ab53101a?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/9336868/sam"}, "edited": false, "score": 0, "creation_date": 1521660128, "post_id": 49412618, "comment_id": 85831516, "body": "Sorry I did t understand why i have to create directive and for what . I just  try to flow the example given in angular.io and they didn&#39;t created any directive"}, {"owner": {"reputation": 383, "user_id": 3077921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/827ebc3c200acfb3c619d86380ff1777?s=128&d=identicon&r=PG&f=1", "display_name": "zelda11", "link": "https://stackoverflow.com/users/3077921/zelda11"}, "reply_to_user": {"reputation": 31, "user_id": 9336868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c3e01daf89e75f00d521d3ab53101a?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/9336868/sam"}, "edited": false, "score": 0, "creation_date": 1521708743, "post_id": 49412618, "comment_id": 85849300, "body": "Can you send me the tutorial link? I can try to find what&#39;s the key difference with your code"}, {"owner": {"reputation": 31, "user_id": 9336868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c3e01daf89e75f00d521d3ab53101a?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/9336868/sam"}, "edited": false, "score": 0, "creation_date": 1521731832, "post_id": 49412618, "comment_id": 85866325, "body": "Thank you Zelda7 i found where is my error, for the website I just try to flow the office documentation of Angular"}], "tags": [], "owner": {"reputation": 383, "user_id": 3077921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/827ebc3c200acfb3c619d86380ff1777?s=128&d=identicon&r=PG&f=1", "display_name": "zelda11", "link": "https://stackoverflow.com/users/3077921/zelda11"}, "is_accepted": false, "score": 0, "last_activity_date": 1521652239, "creation_date": 1521652239, "answer_id": 49412618, "question_id": 49411946, "link": "https://stackoverflow.com/questions/49411946/angular-5-reactive-forms-there-is-no-directive-with-exportas-set-to-ngmodel/49412618#49412618", "title": "Angular 5 Reactive Forms : There is no directive with &quot;exportAs&quot; set to &quot;ngModel&quot;", "body": "<p>In the line \n<code>#FirstName=\"ngModel\"</code>\nThe component referenced needs to have defined \"exportAs\" value.</p>\n\n<p>For example </p>\n\n<pre><code>@Directive({\n selector: '[tooltip]',\n exportAs: 'tooltip'\n})\n</code></pre>\n\n<p><code>#FirstName=\"tooltip\"</code></p>\n\n<p><a href=\"https://netbasal.com/angular-2-take-advantage-of-the-exportas-property-81374ce24d26\" rel=\"nofollow noreferrer\">https://netbasal.com/angular-2-take-advantage-of-the-exportas-property-81374ce24d26</a></p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 9336868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c3e01daf89e75f00d521d3ab53101a?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/9336868/sam"}, "is_accepted": false, "score": 1, "last_activity_date": 1521732443, "last_edit_date": 1521732443, "creation_date": 1521731633, "answer_id": 49432248, "question_id": 49411946, "link": "https://stackoverflow.com/questions/49411946/angular-5-reactive-forms-there-is-no-directive-with-exportas-set-to-ngmodel/49432248#49432248", "title": "Angular 5 Reactive Forms : There is no directive with &quot;exportAs&quot; set to &quot;ngModel&quot;", "body": "<p>I find where is my error I used template driven and reactive forms together\nthis why i had error (after i read the comment of Alex )</p>\n\n<p>the solution is just to remove all template driven from my Html template </p>\n\n<pre><code>&lt;form class=\"col s12\" [formGroup]=\"userLoginForm\" (ngSubmit)=\"saveUserLogin()\"&gt;\n\n    &lt;div class=\"row\"&gt;\n      &lt;div class=\"input-field col s12 m6\"&gt;\n\n        &lt;input id=\"firstName\" \n            type=\"text\" \n            class=\"validate\"\n           //[(ngModel)]=\"user.FirstName\" ==&gt; to remove template driven\n          formControlName=\"FirstName\" //==&gt; to keep reactive forms\n         // #FirstName=\"ngModel\" ===&gt; to remove template driven \n   /&gt;\n\n            &lt;label for=\"firstName\"&gt;{{ 'FIRST_NAME' | translate:param }}&lt;/label&gt;\n            &lt;p class=\"data-error data-validation\" *ngIf=\"FirstName.errors?.minlength\"&gt;\n              min length is 4 caracters.\n            &lt;/p&gt;\n            &lt;p class=\"data-error data-validation\" *ngIf=\"FirstName?.touched\"&gt;\n              touched.\n            &lt;/p&gt;\n\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/form&gt;\n</code></pre>\n\n<p>also im my \n<strong>LoginComponent.ts</strong></p>\n\n<pre><code>import {FormBuilder,FormGroup,FormControl,Validators} from '@angular/forms'\n</code></pre>\n\n<p>==> remove import <strong>NgForm</strong> no need with reactive forms</p>\n"}], "owner": {"reputation": 31, "user_id": 9336868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c3e01daf89e75f00d521d3ab53101a?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/9336868/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1449, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1521732443, "creation_date": 1521650289, "last_edit_date": 1521659650, "question_id": 49411946, "link": "https://stackoverflow.com/questions/49411946/angular-5-reactive-forms-there-is-no-directive-with-exportas-set-to-ngmodel", "title": "Angular 5 Reactive Forms : There is no directive with &quot;exportAs&quot; set to &quot;ngModel&quot;", "body": "<p>I'm working on angular 5 Reactive Forms :\nI had this error :\n<em>There is no directive with \"exportAs\" set to \"ngModel\"</em> \nI saw in others forums that problem can be for many reasons : \n  misspelling in the HTML template , forgetting to import \"FormsModule\" or  \"ReactiveFormsModule\", ....</p>\n\n<p>I checked my code but i didn't find the issue \nCan you Help me please !!! </p>\n\n<p><strong><em>Console error :</em></strong></p>\n\n<pre><code>There is no directive with \"exportAs\" set to \"ngModel\" (\" \n    [(ngModel)]=\"user.FirstName\" \n    formControlName=\"FirstName\"\n    [ERROR -&gt;]#FirstName=\"ngModel\" /&gt;\n    &lt;label for=\"firstName\"&gt;{{ 'FIRST_NAME' | translate:param}}&lt;/label&gt;\")\n   : ng:///AppModule/LoginComponent.html@12:15\n</code></pre>\n\n<p><strong>app.module.ts:</strong></p>\n\n<pre><code>//angular moudel\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';  \n....\n\n@NgModule({\n  declarations: [\n    .....\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule, \n    ReactiveFormsModule, \n     ...\n    AppRoutingMoudel,\n  ],\n    ...\n})\n</code></pre>\n\n<p><strong>LoginComponent.ts</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { User } from './../../../model/user';\nimport {FormBuilder,FormGroup,FormControl,Validators,NgForm} from  '@angular/forms'\n        ....\n export class LoginComponent implements OnInit {\n\n     user : User;\n     userLoginForm: FormGroup;\n\n      constructor(private userLoginFormBuilder:FormBuilder) { \n\n        this.user = new User (\"TestName\", \"Yagmi\",\n                                    \"TestName@Yagmi.com\", \"esay\", \"esay\");\n\n        this.userLoginForm = this.userLoginFormBuilder.group({\n                        FirstName: new FormControl (this.user.FirstName,\n                                         [Validators.minLength(4),])\n            });\n         }\n    }\n</code></pre>\n\n<p><strong>LoginComponent.Html</strong></p>\n\n<pre><code>&lt;form class=\"col s12\" [formGroup]=\"userLoginForm\" (ngSubmit)=\"saveUserLogin()\"&gt;\n\n    &lt;div class=\"row\"&gt;\n      &lt;div class=\"input-field col s12 m6\"&gt;\n\n        &lt;input id=\"firstName\" \n               type=\"text\" \n               class=\"validate\"\n               [(ngModel)]=\"user.FirstName\" \n               formControlName=\"FirstName\"\n               #FirstName=\"ngModel\" /&gt;\n\n        &lt;label for=\"firstName\"&gt;{{ 'FIRST_NAME' | translate:param }}&lt;/label&gt;\n        &lt;p class=\"data-error data-validation\" *ngIf=\"FirstName.errors?.minlength\"&gt;\n          min length is 4 caracters.\n        &lt;/p&gt;\n        &lt;p class=\"data-error data-validation\" *ngIf=\"FirstName?.touched\"&gt;\n          touched.\n        &lt;/p&gt;\n\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/form&gt;\n</code></pre>\n\n<p><strong>user.ts</strong></p>\n\n<pre><code>export class User {\n    constructor(\n        public FirstName: string,\n        public LastName: string,\n        public Email: string,\n        public Passeword: string,\n        public ConfirmPasseword: string\n   )\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "edited": false, "score": 2, "creation_date": 1521650161, "post_id": 49411838, "comment_id": 85825510, "body": "For what I see, <code>searchData</code> is an array (or you intend it to be), so you dont&#39; have to import anything. The problem, I think, is that <code>searchData</code> is not an array, hence the error."}, {"owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "edited": false, "score": 0, "creation_date": 1521650223, "post_id": 49411838, "comment_id": 85825545, "body": "Look what <code>searchData</code> truly is, maybe by logging it to the console"}, {"owner": {"reputation": 4389, "user_id": 1472806, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/u20P2.jpg?s=128&g=1", "display_name": "bob.mazzo", "link": "https://stackoverflow.com/users/1472806/bob-mazzo"}, "edited": false, "score": 0, "creation_date": 1521650252, "post_id": 49411838, "comment_id": 85825562, "body": "Can you put a Chrome breakpoint on your if statement ? Then check the contents of <code>searchData</code>, as it will probably be null as Oscar pointed out."}, {"owner": {"reputation": 1451, "user_id": 7937441, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0cb44353155a2515da95f03f2f687f9f?s=128&d=identicon&r=PG&f=1", "display_name": "Aa Yy", "link": "https://stackoverflow.com/users/7937441/aa-yy"}, "edited": false, "score": 0, "creation_date": 1521650269, "post_id": 49411838, "comment_id": 85825574, "body": "I declared it as an array in the first line, searchData: Array&lt;vw_webSiteCourseSearch&gt;"}, {"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "edited": false, "score": 0, "creation_date": 1521650467, "post_id": 49411838, "comment_id": 85825717, "body": "That is not a compiler error, or is it? If not, it does not matter what you declared it as, the question is what value it has at run time."}, {"owner": {"reputation": 1451, "user_id": 7937441, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0cb44353155a2515da95f03f2f687f9f?s=128&d=identicon&r=PG&f=1", "display_name": "Aa Yy", "link": "https://stackoverflow.com/users/7937441/aa-yy"}, "edited": false, "score": 0, "creation_date": 1521650772, "post_id": 49411838, "comment_id": 85825936, "body": "I think that you are right, it seems like somehow it jumps over my condition to check if it is undefined, and trying to filter a null array"}, {"owner": {"reputation": 4389, "user_id": 1472806, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/u20P2.jpg?s=128&g=1", "display_name": "bob.mazzo", "link": "https://stackoverflow.com/users/1472806/bob-mazzo"}, "edited": false, "score": 0, "creation_date": 1521653860, "post_id": 49411838, "comment_id": 85827931, "body": "<code>if (searchData=== undefined || searchData=== null)</code> is usually the technique we use for this scenario."}], "answers": [{"comments": [{"owner": {"reputation": 1451, "user_id": 7937441, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0cb44353155a2515da95f03f2f687f9f?s=128&d=identicon&r=PG&f=1", "display_name": "Aa Yy", "link": "https://stackoverflow.com/users/7937441/aa-yy"}, "edited": false, "score": 1, "creation_date": 1521650732, "post_id": 49412013, "comment_id": 85825908, "body": "(TS) Cannot find name &#39;array&#39;"}], "tags": [], "owner": {"reputation": 967, "user_id": 8563159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f681d5cfc3ef72ee72344bcbdbfcfb1b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Ruben", "link": "https://stackoverflow.com/users/8563159/steve-ruben"}, "is_accepted": false, "score": -2, "last_activity_date": 1521650471, "creation_date": 1521650471, "answer_id": 49412013, "question_id": 49411838, "link": "https://stackoverflow.com/questions/49411838/angular-4-filter-is-not-a-function/49412013#49412013", "title": "Angular 4 - .filter is not a function", "body": "<p>Just change <code>Array</code> to <code>array</code>. the first one is an object and the second is an array. you can have more informations about ``filter` here [1].</p>\n\n<p>[1] : <a href=\"https://alligator.io/js/filter-array-method/\" rel=\"nofollow noreferrer\">https://alligator.io/js/filter-array-method/</a></p>\n"}, {"comments": [{"owner": {"reputation": 1451, "user_id": 7937441, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0cb44353155a2515da95f03f2f687f9f?s=128&d=identicon&r=PG&f=1", "display_name": "Aa Yy", "link": "https://stackoverflow.com/users/7937441/aa-yy"}, "edited": false, "score": 0, "creation_date": 1521651642, "post_id": 49412328, "comment_id": 85826545, "body": "How come it is not an array, if it is defined as one?"}, {"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "reply_to_user": {"reputation": 1451, "user_id": 7937441, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0cb44353155a2515da95f03f2f687f9f?s=128&d=identicon&r=PG&f=1", "display_name": "Aa Yy", "link": "https://stackoverflow.com/users/7937441/aa-yy"}, "edited": false, "score": 1, "creation_date": 1521651808, "post_id": 49412328, "comment_id": 85826646, "body": "@AaYy: Do you know all instances in which this function is called? If any call passes in an <code>any</code> value, or if the call is from some external JS you have no guarantees on the actual type of the value."}, {"owner": {"reputation": 1773, "user_id": 1887860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vTWIU.png?s=128&g=1", "display_name": "Matei Radu", "link": "https://stackoverflow.com/users/1887860/matei-radu"}, "edited": false, "score": 0, "creation_date": 1521651884, "post_id": 49412328, "comment_id": 85826687, "body": "Exactly. You have declared that <code>searchData</code> is expected to be an <code>Array</code> but it doesn&#39;t mean that you are actually passing an array when invoking <code>transform</code>."}], "tags": [], "owner": {"reputation": 1773, "user_id": 1887860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vTWIU.png?s=128&g=1", "display_name": "Matei Radu", "link": "https://stackoverflow.com/users/1887860/matei-radu"}, "is_accepted": true, "score": 5, "last_activity_date": 1521651365, "creation_date": 1521651365, "answer_id": 49412328, "question_id": 49411838, "link": "https://stackoverflow.com/questions/49411838/angular-4-filter-is-not-a-function/49412328#49412328", "title": "Angular 4 - .filter is not a function", "body": "<p>Should <code>searchData</code> be null (or undefined), you should get an error like </p>\n\n<pre><code>TypeError: cannot read property filter of null  // or undefined\n</code></pre>\n\n<p>Like @OscarPaz thought, <code>filter is not a function</code> is thrown because the received <code>searchData</code> is not an array (yet still defined and not null).</p>\n"}], "owner": {"reputation": 1451, "user_id": 7937441, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0cb44353155a2515da95f03f2f687f9f?s=128&d=identicon&r=PG&f=1", "display_name": "Aa Yy", "link": "https://stackoverflow.com/users/7937441/aa-yy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10954, "favorite_count": 1, "accepted_answer_id": 49412328, "answer_count": 2, "score": 8, "last_activity_date": 1521651365, "creation_date": 1521649976, "question_id": 49411838, "link": "https://stackoverflow.com/questions/49411838/angular-4-filter-is-not-a-function", "title": "Angular 4 - .filter is not a function", "body": "<p>I have this code:</p>\n\n<pre><code> transform(searchData: Array&lt;vw_WebSiteCourseSearch&gt;, searchResultContentType: string) {\n        if (searchData == undefined) {\n            return;\n        }\n\n        return searchData.filter((item) =&gt; item.ContentType == searchResultContentType);\n    }\n</code></pre>\n\n<p>My console prints:</p>\n\n<pre><code>ERROR TypeError: searchData.filter is not a function\nat FilterCountPipe.webpackJsonp.../../../../../src/app/Common/pipes/filterCount.pipe.ts.FilterCountPipe.transform (filterCount.pipe.ts:19)\n</code></pre>\n\n<p>I tried to add import from rxjs/add/operator/filter, but it didn't solved it.\nAny ideas on how to fix it?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["angular", "typescript", "angular-forms"], "comments": [{"owner": {"reputation": 156, "user_id": 3767869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qzqr6.jpg?s=128&g=1", "display_name": "Rafael Ferreira", "link": "https://stackoverflow.com/users/3767869/rafael-ferreira"}, "edited": false, "score": 0, "creation_date": 1521651678, "post_id": 49411726, "comment_id": 85826564, "body": "what errors are appearing?"}, {"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "edited": false, "score": 0, "creation_date": 1521651980, "post_id": 49411726, "comment_id": 85826754, "body": "You should step through this in a debugger and ensure that no values are unexpected."}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1521656885, "post_id": 49411726, "comment_id": 85829658, "body": "could you create a demo showcasing your issue, much easier to help :)"}, {"owner": {"reputation": 1160, "user_id": 4528053, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh6.googleusercontent.com/-Pm0atpEuc7c/AAAAAAAAAAI/AAAAAAAAAGo/fxFj45l6wdQ/photo.jpg?sz=128", "display_name": "onmyway", "link": "https://stackoverflow.com/users/4528053/onmyway"}, "edited": false, "score": 0, "creation_date": 1521698734, "post_id": 49411726, "comment_id": 85844148, "body": "Hey all. Thanks for the comments. I get absolutely no errors. I do step through the debugger, and everything seem right. I think it has to do with the way I instantiate this <code>let fields: FormBase&lt;any&gt;[] = [];</code>, and then simply pushing my <code>fields</code> array into it. I don&#39;t know. My data match up with my models etc. I am at a lost."}], "owner": {"reputation": 1160, "user_id": 4528053, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh6.googleusercontent.com/-Pm0atpEuc7c/AAAAAAAAAAI/AAAAAAAAAGo/fxFj45l6wdQ/photo.jpg?sz=128", "display_name": "onmyway", "link": "https://stackoverflow.com/users/4528053/onmyway"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521649643, "creation_date": 1521649643, "question_id": 49411726, "link": "https://stackoverflow.com/questions/49411726/how-implement-and-build-angular-dynamic-forms-using-real-data", "title": "How implement and build Angular dynamic forms using real data", "body": "<p>I am struggling with the implementation of dynamically creating an Angular form from <code>JSON</code> data. </p>\n\n<p>I have used the <a href=\"https://angular.io/guide/dynamic-form\" rel=\"nofollow noreferrer\">example</a> on the Angular site as reference, and I got this to work with the mock data service, but I am battling with the implementation when using real data. </p>\n\n<p><strong>The Angular mock data method looks like this (using static data to build the <code>form</code> and the <code>formFields</code>):</strong></p>\n\n<pre><code>getFields() {\n    let fields: FormBase&lt;any&gt;[] = [\n\n      new DropdownField({\n        key: 'brave',\n        label: 'Bravery Rating',\n        options: [\n          { key: 'solid', value: 'Solid' },\n          { key: 'great', value: 'Great' },\n          { key: 'good', value: 'Good' },\n          { key: 'unproven', value: 'Unproven' }\n        ],\n        order: 3\n      }),\n\n      new TextboxField({\n        key: 'firstName',\n        label: 'First name',\n        value: 'Bombasto',\n        required: true,\n        order: 1\n      }),\n\n      new TextboxField({\n        key: 'emailAddress',\n        label: 'Email',\n        type: 'email',\n        order: 2\n      })\n    ];\n\n    return fields.sort((a, b) =&gt; a.order - b.order);\n  }\n}\n</code></pre>\n\n<p><strong>My real <code>array</code> of data <code>objects</code> would look something like this (just a single <code>object</code> to illustrate):</strong></p>\n\n<pre><code>[  \n   {  \n      Name:\"Pallet Quantity\",\n      Type:\"Integer\",\n      Required: false,\n      Units:[  \n         {  \n            Name:\"Kilograms\"\n         },\n         {  \n            Name:\"Tonnes\"\n         }\n      ]\n   }\n]\n</code></pre>\n\n<p><strong>Here is my attempt to implement the Angular <code>FormBase&lt;any&gt;[]</code>, <code>new DropdownField</code> and <code>new TextboxField</code> using my data:</strong></p>\n\n<pre><code>  createFields(dataArray) {\n    let order = 0;\n    let newArray = [];\n    let tempArray = [];\n    let modifiedArray = [];\n\n    for (let i = 0; i &lt; dataArray.length; i++) {\n      let controlType = null;\n      switch (dataArray[i].Type) {\n        case 'Integer':\n          controlType = 'number';\n          break;\n        default: controlType = 'text';\n          break;\n      };\n\n      if (dataArray[i].Units.length &gt; 0) {\n        modifiedArray = [];\n        tempArray = dataArray[i].Units;\n        tempArray.forEach(unit =&gt; {\n          modifiedArray.push({\n            key: unit.Name,\n            value: unit.Name\n          });\n        });\n      }\n\n      newArray.push({\n        key: dataArray[i].Name,\n        placeholder: dataArray[i].Name,\n        order: order++,\n        required: dataArray[i].Required,\n        controlType: controlType,\n        options: modifiedArray\n      });\n    }\n    return this.createFormAndFields(newArray);\n  }\n\n  createFormAndFields(newArray) {\n\n    let fields: FormBase&lt;any&gt;[] = [];\n    let dropDownArray;\n    let textBoxArray;\n\n    for (let i = 0; i &lt; newArray.length; i++) {\n      if (newArray[i].options.length &gt; 0) {\n        dropDownArray = [\n          new DropdownField(newArray[i])\n        ]\n      }\n      if (newArray[i].options.length === 0) {\n        textBoxArray = [\n          new TextboxField(newArray[i]),\n        ]\n      }\n    }\n    dropDownArray.push(...textBoxArray);\n    fields.push(dropDownArray);\n    return fields.sort((a, b) =&gt; a.order - b.order);\n  }\n</code></pre>\n\n<p>I am not getting errors, but no forms or fields gets created. What am I doing wrong? I appreciate your suggestions and help.</p>\n"}, {"tags": ["angular", "typescript", "firebase", "firebase-storage", "angularfire2"], "answers": [{"comments": [{"owner": {"reputation": 800, "user_id": 8799548, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CYaAp.jpg?s=128&g=1", "display_name": "asored", "link": "https://stackoverflow.com/users/8799548/asored"}, "edited": false, "score": 0, "creation_date": 1521650545, "post_id": 49411883, "comment_id": 85825769, "body": "Thanks. But with this solution I get the following error in my loop: &quot;Cannot find a differ supporting object &#39;[object Object]&#39; of type &#39;object&#39;. NgFor only supports binding to Iterables such as Arrays.&quot;"}, {"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "reply_to_user": {"reputation": 800, "user_id": 8799548, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CYaAp.jpg?s=128&g=1", "display_name": "asored", "link": "https://stackoverflow.com/users/8799548/asored"}, "edited": false, "score": 0, "creation_date": 1521650661, "post_id": 49411883, "comment_id": 85825861, "body": "@eleinad: That is why i noted that you have to find a different method for iterating over the object property values. As noted you could also use an array with e.g. a <code>key</code> and <code>value</code> property, then you can iterate it again, but you need to find the item with the right <code>key</code> for updates. Alternatively you could just use the file&#39;s index for lookup."}, {"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "reply_to_user": {"reputation": 800, "user_id": 8799548, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CYaAp.jpg?s=128&g=1", "display_name": "asored", "link": "https://stackoverflow.com/users/8799548/asored"}, "edited": false, "score": 0, "creation_date": 1521650712, "post_id": 49411883, "comment_id": 85825896, "body": "Just as i wrote that, i saw that Vayrex submitted an answer that simply uses the index, which should work just fine."}, {"owner": {"reputation": 800, "user_id": 8799548, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CYaAp.jpg?s=128&g=1", "display_name": "asored", "link": "https://stackoverflow.com/users/8799548/asored"}, "edited": false, "score": 0, "creation_date": 1521651939, "post_id": 49411883, "comment_id": 85826732, "body": "Thanks so much for your help :) The solution above works fine :)"}], "tags": [], "owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "is_accepted": false, "score": 1, "last_activity_date": 1521650126, "creation_date": 1521650126, "answer_id": 49411883, "question_id": 49411670, "link": "https://stackoverflow.com/questions/49411670/multiple-image-upload-progress-bar-for-each-upload/49411883#49411883", "title": "Multiple Image Upload: Progress bar for each upload", "body": "<p>It should not be an array (maybe an array with keys and values, but then the update is more complicated).</p>\n\n<p>e.g.</p>\n\n<pre><code>percentageArray = {};\n</code></pre>\n\n<p></p>\n\n<pre><code>this.percentage.subscribe(p =&gt; {\n    // Update percentage for this file.\n    this.percentageArray[file.name] = p;\n});\n</code></pre>\n\n<p>Not sure how to best iterate over object keys/values in Angular HTML, but you probably can find the answer to that somewhere on SO.</p>\n"}, {"tags": [], "owner": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "is_accepted": true, "score": 3, "last_activity_date": 1521650555, "creation_date": 1521650555, "answer_id": 49412050, "question_id": 49411670, "link": "https://stackoverflow.com/questions/49411670/multiple-image-upload-progress-bar-for-each-upload/49412050#49412050", "title": "Multiple Image Upload: Progress bar for each upload", "body": "<p>You need to use index of current file.</p>\n\n<pre><code>startUpload(event: FileList) {  Array.from(event).forEach((file, index) =&gt; { // &lt;-- separate index for each file\n    if (file.type.split('/')[0] != 'image') {\n      alert('Dieses Dateiformat wird nicht unterst\u00fctzt');\n    }\n\n    // Storage path\n    const path = `uploads/${this.currentUserEmail}/${this.uniqueID}/${file.name}`;\n\n// Meta Data\nconst customMetadata = {\n  auctionID: this.uniqueID.toString()\n}\n\n// Main Task\nthis.task = this.storage.upload(path, file, {customMetadata});\n\n// Progress Monitoring\n\nthis.percentage = this.task.percentageChanges();\nthis.percentage.subscribe(p =&gt; {\n  this.percentageArray[index] = p; // &lt;--- just put new percentage to needed index\n})\n\nthis.snapshot = this.task.snapshotChanges();\n\n// File Download Url\nthis.downloadURL = this.task.downloadURL();\n\nthis.imgArray.push(path);})}\n</code></pre>\n\n<p>Then remove one loop from html</p>\n\n<pre><code>&lt;div *ngIf=\"percentageArray as item\" class=\"w-100\"&gt; \n&lt;ngb-progressbar type=\"info\" [value]=\"item\" [striped]=\"true\"\n[max]=\"100\" showValue]=\"true\"&gt;&lt;/ngb-progressbar&gt;&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 800, "user_id": 8799548, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CYaAp.jpg?s=128&g=1", "display_name": "asored", "link": "https://stackoverflow.com/users/8799548/asored"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1306, "favorite_count": 0, "accepted_answer_id": 49412050, "answer_count": 2, "score": 0, "last_activity_date": 1521650555, "creation_date": 1521649465, "question_id": 49411670, "link": "https://stackoverflow.com/questions/49411670/multiple-image-upload-progress-bar-for-each-upload", "title": "Multiple Image Upload: Progress bar for each upload", "body": "<p>I need different progress bars for each image upload for my Angular4 application. (Storing with AngularFireStore)</p>\n\n<p><strong>My component</strong></p>\n\n<pre><code>percentageArray = [];\n\nstartUpload(event: FileList) {\n\n Array.from(event).forEach(file =&gt; {\n   if (file.type.split('/')[0] != 'image') {\n     alert('Dieses Dateiformat wird nicht unterst\u00fctzt');\n   }\n\n   // Storage path\n  const path = `uploads/${this.currentUserEmail}/${this.uniqueID}/${file.name}`;\n\n  // Meta Data\n  const customMetadata = {\n    auctionID: this.uniqueID.toString()\n  }\n\n   // Main Task\n  this.task = this.storage.upload(path, file, {customMetadata});\n\n  // Progress Monitoring\n\n  this.percentage = this.task.percentageChanges();\n  this.percentage.subscribe(p =&gt; {\n    this.percentageArray.push(p);\n  })\n\n  this.snapshot = this.task.snapshotChanges();\n\n  // File Download Url\n  this.downloadURL = this.task.downloadURL();\n\n  this.imgArray.push(path);\n\n })\n}\n</code></pre>\n\n<p><strong>My HTML</strong></p>\n\n<pre><code>&lt;div *ngIf=\"percentageArray as item\" class=\"w-100\"&gt;\n  &lt;div *ngFor=\"let elem of item\"&gt;\n  &lt;ngb-progressbar type=\"info\" [value]=\"elem\" [striped]=\"true\" [max]=\"100\" [showValue]=\"true\"&gt;&lt;/ngb-progressbar&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Result</strong>\n<img src=\"https://i.stack.imgur.com/Ccf61.png\" alt=\"I uploaded only 2 images\"></p>\n\n<p>For each status I get a new progress bar...how I can force to combine it in only one for each upload?</p>\n"}, {"tags": ["node.js", "typescript", "export", "environment-variables"], "comments": [{"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "edited": false, "score": 0, "creation_date": 1521648056, "post_id": 49410885, "comment_id": 85823884, "body": "So, you using node, right?"}, {"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "edited": false, "score": 0, "creation_date": 1521648184, "post_id": 49410885, "comment_id": 85823989, "body": "For me accessing exported variables via <code>process.env</code> works just fine."}, {"owner": {"reputation": 11, "user_id": 8158770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cebcfb75dc7ce158c2bf80666ec48ec1?s=128&d=identicon&r=PG&f=1", "display_name": "Anudeep Chandra", "link": "https://stackoverflow.com/users/8158770/anudeep-chandra"}, "reply_to_user": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "edited": false, "score": 0, "creation_date": 1521648524, "post_id": 49410885, "comment_id": 85824249, "body": "yes I use node."}, {"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "edited": false, "score": 0, "creation_date": 1521648687, "post_id": 49410885, "comment_id": 85824381, "body": "It would be good if you could provide more details about what exactly you are doing in which sequence in which environment, as i cannot reproduce the issue."}, {"owner": {"reputation": 11, "user_id": 8158770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cebcfb75dc7ce158c2bf80666ec48ec1?s=128&d=identicon&r=PG&f=1", "display_name": "Anudeep Chandra", "link": "https://stackoverflow.com/users/8158770/anudeep-chandra"}, "reply_to_user": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "edited": false, "score": 0, "creation_date": 1521650594, "post_id": 49410885, "comment_id": 85825823, "body": "ok this is the sequence of steps I am doing: 1)export my_service_port=1234 on my MAC localhost terminal  2)Trying to read this variable in TypeScript using process.env and see the output:     In ts:     {let x = process.env.my_service_port;     console.log(&#39;value of x is:&#39;, x);      } 3)npm start: from terminal to execute above statements as part of my app No value is displayed for of x after the execution Please let me know if this info is sufficient?"}, {"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "edited": false, "score": 0, "creation_date": 1521651435, "post_id": 49410885, "comment_id": 85826396, "body": "I created a minimal version that runs a script via <code>npm start</code> and it also works. Are you exporting and executing the script in the same terminal instance?"}, {"owner": {"reputation": 11, "user_id": 8158770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cebcfb75dc7ce158c2bf80666ec48ec1?s=128&d=identicon&r=PG&f=1", "display_name": "Anudeep Chandra", "link": "https://stackoverflow.com/users/8158770/anudeep-chandra"}, "reply_to_user": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "edited": false, "score": 0, "creation_date": 1521652113, "post_id": 49410885, "comment_id": 85826831, "body": "yes both are from same terminal instance"}, {"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "edited": false, "score": 0, "creation_date": 1521652581, "post_id": 49410885, "comment_id": 85827129, "body": "Hard to tell what might be wrong then..."}, {"owner": {"reputation": 3097, "user_id": 4602928, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/c04e59afdb86716b6221ed89dd3c26f1?s=128&d=identicon&r=PG&f=1", "display_name": "Wainage", "link": "https://stackoverflow.com/users/4602928/wainage"}, "edited": false, "score": 0, "creation_date": 1523029449, "post_id": 49410885, "comment_id": 86405724, "body": "<code>console.log(process.env)</code>. Is it there?"}, {"owner": {"reputation": 11, "user_id": 8158770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cebcfb75dc7ce158c2bf80666ec48ec1?s=128&d=identicon&r=PG&f=1", "display_name": "Anudeep Chandra", "link": "https://stackoverflow.com/users/8158770/anudeep-chandra"}, "edited": false, "score": 0, "creation_date": 1523459250, "post_id": 49410885, "comment_id": 86572422, "body": "yes that works as expected with console.log(process.env) Thank you Wainage!!"}], "owner": {"reputation": 11, "user_id": 8158770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cebcfb75dc7ce158c2bf80666ec48ec1?s=128&d=identicon&r=PG&f=1", "display_name": "Anudeep Chandra", "link": "https://stackoverflow.com/users/8158770/anudeep-chandra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1507, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1521651494, "creation_date": 1521647449, "last_edit_date": 1521651494, "question_id": 49410885, "link": "https://stackoverflow.com/questions/49410885/how-to-read-exported-environment-variables-in-typescript", "title": "how to read exported environment variables in typescript", "body": "<p>I have some environment variables exported in the terminal like<code>export my_server_port=1234</code></p>\n\n<p>I want to read the environment variable <code>my_server_port</code> from my TypeScript code.</p>\n\n<p>I tried reading it using the following code,  but that doesn't seem to return anything:</p>\n\n<pre><code>let my_req = process.env.my_server_port;\n</code></pre>\n\n<p>I would like to know how can I retrieve the exported value for <code>my_server_port</code> in TypeScript?</p>\n"}, {"tags": ["typescript", "flatbuffers"], "comments": [{"owner": {"reputation": 4578, "user_id": 17419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JU9iE.jpg?s=128&g=1", "display_name": "Aardappel", "link": "https://stackoverflow.com/users/17419/aardappel"}, "edited": false, "score": 0, "creation_date": 1521654561, "post_id": 49410658, "comment_id": 85828325, "body": "You&#39;ll have to be a bit more specific. What exact error are you getting? Are the enums missing from the generates .js files? What exactly is the problem? Includes are intended to work for enums, yes."}, {"owner": {"reputation": 35, "user_id": 9318131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6e9a520f153c94c20a1edbcd7ff664d?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Fitch", "link": "https://stackoverflow.com/users/9318131/jason-fitch"}, "reply_to_user": {"reputation": 4578, "user_id": 17419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JU9iE.jpg?s=128&g=1", "display_name": "Aardappel", "link": "https://stackoverflow.com/users/17419/aardappel"}, "edited": false, "score": 0, "creation_date": 1521724656, "post_id": 49410658, "comment_id": 85860768, "body": "The typescript file will have a reference in the form of: <i>transitionInputType():NS11858840996067445030.F8fbs.InputType</i>                 but there is no import statement included at the top of the file. I&#39;m not sure where that NS118... term comes from, but when I try to compile my webpack it says that the build fails because it&#39;s a unknown namespace. If I use a table instead of an enum, the include statement gets added. I&#39;m not sure if I&#39;m missing a command line argument or if this is a bug, but it is not working for me."}, {"owner": {"reputation": 35, "user_id": 9318131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6e9a520f153c94c20a1edbcd7ff664d?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Fitch", "link": "https://stackoverflow.com/users/9318131/jason-fitch"}, "reply_to_user": {"reputation": 4578, "user_id": 17419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JU9iE.jpg?s=128&g=1", "display_name": "Aardappel", "link": "https://stackoverflow.com/users/17419/aardappel"}, "edited": false, "score": 0, "creation_date": 1521731830, "post_id": 49410658, "comment_id": 85866321, "body": "<a href=\"https://github.com/google/flatbuffers/issues/4677\" rel=\"nofollow noreferrer\">github.com/google/flatbuffers/issues/4677</a>"}], "owner": {"reputation": 35, "user_id": 9318131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6e9a520f153c94c20a1edbcd7ff664d?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Fitch", "link": "https://stackoverflow.com/users/9318131/jason-fitch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 287, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521646844, "creation_date": 1521646844, "question_id": 49410658, "link": "https://stackoverflow.com/questions/49410658/flatbuffer-include-statement-does-not-work-for-enum", "title": "flatbuffer &quot;include&quot; statement does not work for enum", "body": "<p>I am building on Ubuntu 17.10 with flatc version 1.7</p>\n\n<p>I have a .fbs schema file defining different enumerations that are used multiple times throughout my flatbuffer files. However, when I include the .fbs file containing all of the enums and compile into TypeScript, I can't use the enums.</p>\n\n<p>I have included other files before and utilized \"tables\" defined in them. Do include statements only work when using tables, or can other data types be included?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 366, "user_id": 2828026, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/kGOyc.jpg?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2828026/stefan"}, "edited": false, "score": 0, "creation_date": 1521648390, "post_id": 49410590, "comment_id": 85824149, "body": "Thanks Oscar. I&#39;m aware of this. The conversion is up to the developer. But where/how? I&#39;m looking for a good pattern/practice. As examples I showed two possibilities (live cycle hooks and getters/setters). But this solutions just don&#39;t feel right. The Angular code examples are impressive and elegant. So for sure I&#39;m missing something or even the whole point."}, {"owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "reply_to_user": {"reputation": 366, "user_id": 2828026, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/kGOyc.jpg?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2828026/stefan"}, "edited": false, "score": 0, "creation_date": 1521648725, "post_id": 49410590, "comment_id": 85824409, "body": "Well, I usually make gettters/setters in the component when I need conversion of values or coercion between the view data and the model data. Of course, you can also use controls that use the exact type you need. In this case, <code>&lt;input type=&quot;number&quot;&gt;</code> or a third party control if you&#39;ve got to deal with browsers that don&#39;t support this."}, {"owner": {"reputation": 366, "user_id": 2828026, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/kGOyc.jpg?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2828026/stefan"}, "edited": false, "score": 0, "creation_date": 1521649343, "post_id": 49410590, "comment_id": 85824853, "body": "<code>&lt;input type=&quot;number&quot;&gt;</code> still transfers strings. If browsers support the type, they ensure lets say a &quot;correct number string&quot;, but still a string."}], "tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": false, "score": 0, "last_activity_date": 1521646688, "creation_date": 1521646688, "answer_id": 49410590, "question_id": 49410346, "link": "https://stackoverflow.com/questions/49410346/angular-5-where-should-type-conversion-between-form-field-values-strings-and/49410590#49410590", "title": "Angular 5: Where should type conversion between form field values (strings) and model properties (eg numbers) happen?", "body": "<p>There's no conversion. The type depends on the type of the <code>value</code> property of the field. <code>NgModel</code> deals with any kind of control, so of course, it treats the values as <code>any</code>. As the <code>input</code> fields is used to display text, its values are always of type <code>string</code>. There's no way Angular (and even less TypeScript which only knows about types at compile time) can convert between values. That's entirely up to you.</p>\n"}, {"comments": [{"owner": {"reputation": 366, "user_id": 2828026, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/kGOyc.jpg?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2828026/stefan"}, "edited": false, "score": 0, "creation_date": 1521647776, "post_id": 49410594, "comment_id": 85823676, "body": "Thanks for the answer. Yes, converting between Strings and Numbers is trivial. Here it just for demonstrating the pattern. Imagine a more real world model. Assume the Hero class from the angular tutorial. Lets say Heros have an age and other non string properties (dates, custom types). And they have methods like <code>olderThan(otherHero: Hero)</code>. So I would like to keep this model objects &quot;clean&quot; and I don&#39;t know where the conversion should happen. Setters and getters perhaps are one option."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 366, "user_id": 2828026, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/kGOyc.jpg?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2828026/stefan"}, "edited": false, "score": 0, "creation_date": 1521648209, "post_id": 49410594, "comment_id": 85824016, "body": "As I said, convert them when you need it. You said it yourself, it&#39;s trivial, so do it when you need to (comparing, sending a payload ...), it&#39;s just one line after all."}, {"owner": {"reputation": 366, "user_id": 2828026, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/kGOyc.jpg?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2828026/stefan"}, "edited": false, "score": 0, "creation_date": 1521648983, "post_id": 49410594, "comment_id": 85824600, "body": "&quot;Just one line after all&quot; but still one line on 10, 100, 500 places? That&#39;s not satisfying me at the moment. I have more Java server side background. Perhaps that&#39;s the reason. JavaServe Faces address this with converters and validators. The latter are also an Angular concept."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 366, "user_id": 2828026, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/kGOyc.jpg?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2828026/stefan"}, "edited": false, "score": 0, "creation_date": 1521649360, "post_id": 49410594, "comment_id": 85824868, "body": "And you somehow have to call your converters and validators right ? That takes one line on 10, 100, 500 places ? You can make a function to crate complex types of you want, it doesn&#39;t change the fact that you will have to call this function. So I stand by my statement, convert it when you need it."}, {"owner": {"reputation": 366, "user_id": 2828026, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/kGOyc.jpg?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2828026/stefan"}, "edited": false, "score": 0, "creation_date": 1521653514, "post_id": 49410594, "comment_id": 85827713, "body": "Hmmm, let me express it in other words. Forget the trivial example. If the model needs numbers, dates, customers or bicycles, only numbers, dates, customers or bicycles should go in the model. You propagate string values for all? For every counting on numbers, dates or whatever one should convert a string to the correct type? That&#39;s completely against software/oo design principles. Forms transfer strings. So, somewhere this strings must be converted to model data types. Angular permits many places to do that. Getters/setters/hooks/pipes and probably more. I&#39;m looking for a best/good practice."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 366, "user_id": 2828026, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/kGOyc.jpg?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2828026/stefan"}, "edited": false, "score": 0, "creation_date": 1521653727, "post_id": 49410594, "comment_id": 85827852, "body": "I understood in the first place don&#39;t worry. Given your example, you should for instance save this data into the database, or do something with it right ? Well then, on submiting the form, you convert your data to an object. You use it <i>when</i> you need it. The user can only input strings or numbers from his keyboard, so you should deal with that, and only convert the data when it&#39;s needed."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": false, "score": 0, "last_activity_date": 1521646699, "creation_date": 1521646699, "answer_id": 49410594, "question_id": 49410346, "link": "https://stackoverflow.com/questions/49410346/angular-5-where-should-type-conversion-between-form-field-values-strings-and/49410594#49410594", "title": "Angular 5: Where should type conversion between form field values (strings) and model properties (eg numbers) happen?", "body": "<p>It's not really a matter of <em>when</em>, but rather a mtter of <em>how</em>. </p>\n\n<p>You convert your string to numbers when you need them. </p>\n\n<p>In this particular example, you need them on console logging. </p>\n\n<p>Try that </p>\n\n<pre><code>double() {\n  if (isNaN(this.modelNumber) { console.log('isNaN(' + this.modelNumber + ')'; return; }\n  console.log(+this.modelNumber + +this.modelNumber);\n}\n</code></pre>\n\n<p>The conversion to number is very simple, you just append a plus sign before your strings. You simply have to test that they are numbers before doing that. </p>\n"}], "owner": {"reputation": 366, "user_id": 2828026, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/kGOyc.jpg?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2828026/stefan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1444, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1521646699, "creation_date": 1521645992, "last_edit_date": 1521646354, "question_id": 49410346, "link": "https://stackoverflow.com/questions/49410346/angular-5-where-should-type-conversion-between-form-field-values-strings-and", "title": "Angular 5: Where should type conversion between form field values (strings) and model properties (eg numbers) happen?", "body": "<p>I'm new to Angular and can't figure out, how to convert types between form field values (always strings) and typed model properties.</p>\n\n<p>The following component should double a number. The result is shown in the console. </p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-model-view-conversion',\n  template: `\n    &lt;input [(ngModel)]=\"aNumber\" (keyup)=\"double()\" /&gt;\n  `\n})\nexport class ModelViewConversionComponent {\n\n  aNumber: number;\n\n  double() {\n    console.log(this.aNumber + this.aNumber); // input 7 -&gt; 77\n  }\n\n}\n</code></pre>\n\n<p>Neither TypeScript nor Angular magically converts between strings and numbers. So the result is of course a concatenation and not the addition. That's only for simple demonstration purpose.</p>\n\n<p><strong>The question is, where/how should the conversion happen?</strong></p>\n\n<p>I came up with something like the following:</p>\n\n<pre><code>import { Component, DoCheck } from '@angular/core';\n\n@Component({\n  selector: 'app-model-view-conversion',\n  template: `\n    &lt;input [(ngModel)]=\"viewNumber\" (keyup)=\"double()\" /&gt;\n  `\n})\nexport class ModelViewConversionComponent implements DoCheck {\n\n  viewNumber: string;\n  modelNumber: number;\n\n  ngDoCheck() {\n    this.modelNumber = parseInt(this.viewNumber);\n  }\n\n  double() {\n    console.log(this.modelNumber + this.modelNumber); // input 7 -&gt; 14\n  }\n\n}\n</code></pre>\n\n<p>This works but does not really help. The model and the view must be kept in sync manually. Their must be something like converters, known from JavaServer Faces for example.</p>\n\n<p>Or what's about getters/setters in the model?</p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-model-view-conversion',\n  template: `\n    &lt;input [(ngModel)]=\"aNumber\" (keyup)=\"double()\" /&gt;\n  `\n})\nexport class ModelViewConversionComponent {\n\n  num: number;\n  set aNumber(numAsString) {\n    this.num = parseInt(&lt;any&gt;numAsString);\n  };\n  get aNumber() {\n    return this.num;\n  }\n\n  double() {\n    console.log(this.num + this.num);\n  }\n\n}\n</code></pre>\n\n<p>This feels also clumsy and verbose to me. TypeScript (I'm new to TypeScript too) requires the <code>&lt;any&gt;</code> cast to compile nicely.</p>\n\n<p>Could anyone point me in the right direction. Thanks.</p>\n"}, {"tags": ["typescript", "webpack", "webpack-4"], "answers": [{"comments": [{"owner": {"reputation": 318, "user_id": 4266055, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/421f9734cc751c79959f244e6a7d5e74?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Filler", "link": "https://stackoverflow.com/users/4266055/michael-filler"}, "edited": false, "score": 0, "creation_date": 1521646133, "post_id": 49410101, "comment_id": 85822321, "body": "thank you. That helps ;) Now I just have to make my code work with esnext ;)"}, {"owner": {"reputation": 2662, "user_id": 4635080, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/7YYQS.jpg?s=128&g=1", "display_name": "Brett East", "link": "https://stackoverflow.com/users/4635080/brett-east"}, "edited": false, "score": 0, "creation_date": 1614920287, "post_id": 49410101, "comment_id": 117537982, "body": "How are you able to import plugins into your webpack.config.ts file, if you&#39;re using <code>&quot;module&quot;: &quot;esnext&quot;</code>? I get a bunch of syntax errors whenever I try to import/require modules into my webpack file."}, {"owner": {"reputation": 3773, "user_id": 4118124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78daba65fc7099eab3bf4f2de9bf62ac?s=128&d=identicon&r=PG", "display_name": "fathy", "link": "https://stackoverflow.com/users/4118124/fathy"}, "edited": false, "score": 0, "creation_date": 1614995671, "post_id": 49410101, "comment_id": 117563569, "body": "I don&#39;t use TypeScript for my Webpack config, but if you do you can use <code>const module = require(&#39;somewhere&#39;)</code> instead of <code>import module from &#39;somewhere&#39;</code>. You might need <code>@types&#47;node</code> to get <code>require</code> to work."}], "tags": [], "owner": {"reputation": 3773, "user_id": 4118124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78daba65fc7099eab3bf4f2de9bf62ac?s=128&d=identicon&r=PG", "display_name": "fathy", "link": "https://stackoverflow.com/users/4118124/fathy"}, "is_accepted": true, "score": 9, "last_activity_date": 1521678358, "last_edit_date": 1521678358, "creation_date": 1521645380, "answer_id": 49410101, "question_id": 49410022, "link": "https://stackoverflow.com/questions/49410022/webpack-lazy-loading-with-typescript/49410101#49410101", "title": "Webpack Lazy Loading with Typescript", "body": "<p><a href=\"https://github.com/tc39/proposal-dynamic-import\" rel=\"noreferrer\">Dynamic imports are an ES feature</a>, you need to tell TypeScript to transform to ESNext to get <code>import</code> on the output, just change <code>\"module\": \"commonjs\"</code> to <code>\"module\": \"esnext\"</code>.</p>\n\n<p>Take this code :</p>\n\n<pre><code>export const LoadMe = () =&gt; import('./a-module')\n</code></pre>\n\n<ul>\n<li><code>\"module\": \"commonjs\"</code> compiles to <code>module.exports.LoadMe = () =&gt; require('a-module')</code>, Webpack can't know if it's dynamic or just a normal <code>require</code></li>\n<li><code>\"module\": \"esnext\"</code> compiles to <code>export const LoadMe = () =&gt; import('a-module')</code>, Webpack knows it's dynamic because it's a call expression to <code>import</code></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1802, "user_id": 2559157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b1fdad941fc13d6630a001c2919fe41?s=128&d=identicon&r=PG", "display_name": "Flying Fisher", "link": "https://stackoverflow.com/users/2559157/flying-fisher"}, "is_accepted": false, "score": 0, "last_activity_date": 1534833545, "creation_date": 1534833545, "answer_id": 51942949, "question_id": 49410022, "link": "https://stackoverflow.com/questions/49410022/webpack-lazy-loading-with-typescript/51942949#51942949", "title": "Webpack Lazy Loading with Typescript", "body": "<p>I have a trick one to lazyLoad a module with its type: </p>\n\n<p><code>function lazyLoad(){ \n    return let lazyModule:typeof import('xxx') = require('xxx');\n}</code></p>\n\n<p>limitation: <strong>the xxx can only be string not a variable</strong>.</p>\n"}, {"tags": [], "owner": {"reputation": 604, "user_id": 5089929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pBBwN.png?s=128&g=1", "display_name": "MrBar", "link": "https://stackoverflow.com/users/5089929/mrbar"}, "is_accepted": false, "score": 0, "last_activity_date": 1566992496, "creation_date": 1566992496, "answer_id": 57691600, "question_id": 49410022, "link": "https://stackoverflow.com/questions/49410022/webpack-lazy-loading-with-typescript/57691600#57691600", "title": "Webpack Lazy Loading with Typescript", "body": "<p>There is no way to configure the Typescript compiler to not touch certain imports.\nThe <a href=\"https://webpack.js.org/api/module-methods/#requireensure\" rel=\"nofollow noreferrer\">old way</a> of lazy loading works just as well though:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>require.ensure([], require =&gt; {\n  const lodash = require('lodash') as typeof import('lodash');\n}, 'lodash-chunk');\n</code></pre>\n\n<p>this can be wrapped in a promise to achieve a very similar behavior to the ES6 <code>import</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function importLodash(): Promise&lt;typeof import('lodash')&gt; {\n    return new Promise((resolve, reject) =&gt; {\n        require.ensure([], require =&gt; {\n            resolve(require('lodash'))\n        }, reject, 'lodash-chunk');\n    })\n}\n\n// then use it\n\nconst lodash = await importLodash();\n</code></pre>\n\n<p>*note- <code>require.ensure</code> is not generic - this function will need to be duplicated for every module you want to lazy load.</p>\n\n<p>You'll also need to declare the <code>require.ensure</code> interface based on your enabled libs. I use this in my custom typings file</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>/* typings.d.ts */\n\ndeclare global {\n    const require: {\n        // declare webpack's lazy loading interface\n        ensure(deps: string[], cb: (lazyRequire: (path: string) =&gt; any) =&gt; void, chunkName: string): void;\n        ensure(deps: string[], cb: (lazyRequire: (path: string) =&gt; any) =&gt; void, errCb: (err: Error) =&gt; void, chunkName: string): void;\n    };\n}\n</code></pre>\n"}], "owner": {"reputation": 318, "user_id": 4266055, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/421f9734cc751c79959f244e6a7d5e74?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Filler", "link": "https://stackoverflow.com/users/4266055/michael-filler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3011, "favorite_count": 0, "accepted_answer_id": 49410101, "answer_count": 3, "score": 2, "last_activity_date": 1566992496, "creation_date": 1521645143, "question_id": 49410022, "link": "https://stackoverflow.com/questions/49410022/webpack-lazy-loading-with-typescript", "title": "Webpack Lazy Loading with Typescript", "body": "<p>I have a problem with lazy loading and webpack.</p>\n\n<p>There is a video of Sean Larkin showing how easy it is with webpack 4 to create a lazy loaded bundle (<a href=\"https://www.youtube.com/watch?v=hQBAQh5AFwA\" rel=\"nofollow noreferrer\">Here</a>). But when I try to do it with typescript I run into some problems.</p>\n\n<pre><code>index.ts\n\nexport const someThing = something =&gt; import(\"./lazy/lazy\");\n</code></pre>\n\n<p>and</p>\n\n<pre><code>lazy/lazy.ts\nexport default \"I am lazy\";\n</code></pre>\n\n<p>when I run it without any webpack configuration and name the files to \".js\" I get a main chunk and a small chunk for the lazy loaded module.</p>\n\n<p>But when I run it as \".ts\" files with a simple webpack configuration I get just the \"main.js\" file and no extra chunk.</p>\n\n<pre><code>webpack.config.js\nlet config = {\n    resolve: {\n        extensions: [\".ts\", \".js\"]\n    },\n    module: {\n        rules: [\n            { test: /\\.ts$/, use: [\"ts-loader\"], exclude: /node_modules/ },\n        ]\n    },\n}\n\nmodule.exports = config;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>tsconfig.json\n{\n    \"compilerOptions\": {\n        \"module\": \"commonjs\",\n        \"target\": \"es5\",\n        \"noImplicitAny\": false,\n        \"sourceMap\": true,\n        \"lib\": [ \"es6\", \"dom\" ],\n        \"removeComments\": true\n    }\n}\n</code></pre>\n\n<p>Is there something to configure I am mission? \nWhat exactly is the difference between the import of a \"js\" file to a \"ts\" file?</p>\n"}, {"tags": ["node.js", "angular", "typescript", "adm-zip"], "comments": [{"owner": {"reputation": 3773, "user_id": 4118124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78daba65fc7099eab3bf4f2de9bf62ac?s=128&d=identicon&r=PG", "display_name": "fathy", "link": "https://stackoverflow.com/users/4118124/fathy"}, "edited": false, "score": 0, "creation_date": 1521645816, "post_id": 49410017, "comment_id": 85822056, "body": "<code>adm-zip</code> doesn&#39;t seem to be compatible with browsers, it says &quot;for Node.js&quot; in the README"}, {"owner": {"reputation": 3510, "user_id": 6474811, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10209554001672500/picture?type=large", "display_name": "Roman Skydan", "link": "https://stackoverflow.com/users/6474811/roman-skydan"}, "edited": false, "score": 0, "creation_date": 1521645878, "post_id": 49410017, "comment_id": 85822117, "body": "AdmZip is created for NodeJs. And when you use this library you need to have permissions to write or read files from your machine. But you do not have such an opportunity in the browser for security reason."}, {"owner": {"reputation": 161, "user_id": 7878768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/40qVz.jpg?s=128&g=1", "display_name": "Nityananda Gohain", "link": "https://stackoverflow.com/users/7878768/nityananda-gohain"}, "reply_to_user": {"reputation": 3510, "user_id": 6474811, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10209554001672500/picture?type=large", "display_name": "Roman Skydan", "link": "https://stackoverflow.com/users/6474811/roman-skydan"}, "edited": false, "score": 0, "creation_date": 1521646937, "post_id": 49410017, "comment_id": 85822949, "body": "can I use it in a electron application please help. @RomaSkydan."}, {"owner": {"reputation": 3510, "user_id": 6474811, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10209554001672500/picture?type=large", "display_name": "Roman Skydan", "link": "https://stackoverflow.com/users/6474811/roman-skydan"}, "edited": false, "score": 0, "creation_date": 1521647236, "post_id": 49410017, "comment_id": 85823216, "body": "yes, how I see you can use  special package for this <a href=\"https://www.npmjs.com/package/adm-zip-electron\" rel=\"nofollow noreferrer\">npmjs.com/package/adm-zip-electron</a>"}], "owner": {"reputation": 161, "user_id": 7878768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/40qVz.jpg?s=128&g=1", "display_name": "Nityananda Gohain", "link": "https://stackoverflow.com/users/7878768/nityananda-gohain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 489, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1521645133, "creation_date": 1521645133, "question_id": 49410017, "link": "https://stackoverflow.com/questions/49410017/adm-zip-error-typeerror-fss-existssync-is-not-a-function-angular-typescript", "title": "Adm-Zip &quot;ERROR TypeError: fss.existsSync is not a function&quot; Angular/Typescript", "body": "<p>I am writing an angular application. So i want to extract a zip file and I am using this </p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport * as AdmZip from 'adm-zip';\n\n@Component({\n  selector: 'newcomp',\n  templateUrl: './newcomp.component.html',\n  styleUrls: ['./newcomp.component.css']\n})\nexport class NewcompComponent implements OnInit {\n\n  constructor() {\n\n  }\n\n  ngOnInit() {\n  };\n\n  public xyz() {\n    var zip = new AdmZip('/home/nityananda/Pictures/abc.zip');\n    console.log(\"opened\");\n  };\n}\n</code></pre>\n\n<p>But I am getting this error <code>ERROR TypeError: fss.existsSync is not a function</code></p>\n"}, {"tags": ["javascript", "arrays", "typescript", "multidimensional-array"], "comments": [{"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 0, "creation_date": 1521645147, "post_id": 49409961, "comment_id": 85821481, "body": "Can you post a valid the input data?"}, {"owner": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "edited": false, "score": 0, "creation_date": 1521645212, "post_id": 49409961, "comment_id": 85821538, "body": "<code>if using lodash then _.groupBy else use lodash</code>"}, {"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "reply_to_user": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "edited": false, "score": 0, "creation_date": 1521645340, "post_id": 49409961, "comment_id": 85821629, "body": "@georg hehehe yes or yes!"}, {"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "edited": false, "score": 0, "creation_date": 1521646049, "post_id": 49409961, "comment_id": 85822256, "body": "For me that code seems to work..."}, {"owner": {"reputation": 374, "user_id": 4867299, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IS7hd.jpg?s=128&g=1", "display_name": "DFSFOT", "link": "https://stackoverflow.com/users/4867299/dfsfot"}, "reply_to_user": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "edited": false, "score": 0, "creation_date": 1521658504, "post_id": 49409961, "comment_id": 85830594, "body": "@H.B. That&#39;s the weird thing, I copied this code from another project where I did the same thing and it works there. So I thought I may be doing something wrong or maybe find doesn&#39;t work that way or whatever."}, {"owner": {"reputation": 374, "user_id": 4867299, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IS7hd.jpg?s=128&g=1", "display_name": "DFSFOT", "link": "https://stackoverflow.com/users/4867299/dfsfot"}, "reply_to_user": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "edited": false, "score": 0, "creation_date": 1521658581, "post_id": 49409961, "comment_id": 85830641, "body": "@georg I&#39;m sorry but I don&#39;t know what you&#39;re talking about. I do not know those terms."}, {"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "edited": false, "score": 0, "creation_date": 1521664658, "post_id": 49409961, "comment_id": 85833948, "body": "<code>lodash</code> a utility library which includes a <code>groupBy</code> function, i.e. exactly what you are doing here."}], "answers": [{"comments": [{"owner": {"reputation": 374, "user_id": 4867299, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IS7hd.jpg?s=128&g=1", "display_name": "DFSFOT", "link": "https://stackoverflow.com/users/4867299/dfsfot"}, "edited": false, "score": 0, "creation_date": 1521664306, "post_id": 49410098, "comment_id": 85833754, "body": "I feel stupid now. This would really be my first approach in this type of stuff but javascript really threw me off on this one."}, {"owner": {"reputation": 4532, "user_id": 4450187, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4bd15ffbc419f4b78e83d561b028bb66?s=128&d=identicon&r=PG&f=1", "display_name": "messerbill", "link": "https://stackoverflow.com/users/4450187/messerbill"}, "reply_to_user": {"reputation": 374, "user_id": 4867299, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IS7hd.jpg?s=128&g=1", "display_name": "DFSFOT", "link": "https://stackoverflow.com/users/4867299/dfsfot"}, "edited": false, "score": 0, "creation_date": 1521664719, "post_id": 49410098, "comment_id": 85833979, "body": "glad to hear that your problem is solved :) Happens to all of us"}, {"owner": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 0, "creation_date": 1521664751, "post_id": 49410098, "comment_id": 85833998, "body": "This maintains the original <code>O(n^2)</code> time complexity, though"}, {"owner": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 0, "creation_date": 1521664842, "post_id": 49410098, "comment_id": 85834040, "body": "And I think it should be <code>this.dateList.push({date: result.date, amounts: result.amount})</code> - otherwise you don&#39;t get the amount for the first occurrence of each unique date"}], "tags": [], "owner": {"reputation": 4532, "user_id": 4450187, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4bd15ffbc419f4b78e83d561b028bb66?s=128&d=identicon&r=PG&f=1", "display_name": "messerbill", "link": "https://stackoverflow.com/users/4450187/messerbill"}, "is_accepted": false, "score": 1, "last_activity_date": 1521645376, "creation_date": 1521645376, "answer_id": 49410098, "question_id": 49409961, "link": "https://stackoverflow.com/questions/49409961/how-to-push-value-into-sub-array-without-making-a-new-entry/49410098#49410098", "title": "How to push value into sub array without making a new entry", "body": "<p>I added an <code>else</code> clause to your if condition and remove the <code>.find()</code> part:</p>\n\n<pre><code>if (dateFound == false) {\n  //create new date entry in dateList\n  this.dateList.push({date: result.date, amounts: []});\n} else {\n  for (let d of this.dateList) {\n    if (d.date == result.date) {\n      d.amounts.push({amount: result.amount})\n    }\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 374, "user_id": 4867299, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IS7hd.jpg?s=128&g=1", "display_name": "DFSFOT", "link": "https://stackoverflow.com/users/4867299/dfsfot"}, "edited": false, "score": 0, "creation_date": 1521664194, "post_id": 49410116, "comment_id": 85833695, "body": "Works very neatly, thanks! Do you know perhaps why my approach didn&#39;t work?"}], "tags": [], "owner": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "is_accepted": true, "score": 2, "last_activity_date": 1521645768, "last_edit_date": 1521645768, "creation_date": 1521645409, "answer_id": 49410116, "question_id": 49409961, "link": "https://stackoverflow.com/questions/49409961/how-to-push-value-into-sub-array-without-making-a-new-entry/49410116#49410116", "title": "How to push value into sub array without making a new entry", "body": "<p>You can do this by first <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\" rel=\"nofollow noreferrer\">reducing</a> your data into an object with the unique dates as the keys and the amounts as the value for each key, and then <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Map\" rel=\"nofollow noreferrer\">mapping</a> them into the structure for your desired output, like so:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data = [\r\n  {date: '2018-03-21', amount: 1},\r\n  {date: '2018-03-21', amount: 43},\r\n  {date: '2018-03-21', amount: 41},\r\n  {date: '2018-03-22', amount: 18},\r\n  {date: '2018-03-23', amount: 25},\r\n  {date: '2018-03-24', amount: 15},\r\n  {date: '2018-03-24', amount: 25},\r\n];\r\n\r\n// reduce to single object with unique dates as keys, collection of amounts as values\r\nvar dateMap = data.reduce((res, curr) =&gt; {\r\n  // if the date has not been added already\r\n  if (!res[curr.date]) {\r\n    // create it on the result object\r\n    res[curr.date] = []\r\n  }\r\n  // push the amount into the array for the date\r\n  res[curr.date].push({amount: curr.amount});\r\n  return res;\r\n}, {});\r\n\r\n// map each key of dateMap to an object matching the desired output format\r\nvar dateList = Object.keys(dateMap).map(key =&gt; {\r\n  return {date: key, amounts: dateMap[key]};\r\n});\r\n\r\nconsole.log(dateList);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": false, "score": 0, "last_activity_date": 1521645784, "creation_date": 1521645784, "answer_id": 49410268, "question_id": 49409961, "link": "https://stackoverflow.com/questions/49409961/how-to-push-value-into-sub-array-without-making-a-new-entry/49410268#49410268", "title": "How to push value into sub array without making a new entry", "body": "<p>You can <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\" rel=\"nofollow noreferrer\">reduce</a> the array into a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\" rel=\"nofollow noreferrer\">Map</a>. For each date create an object with the <code>amounts</code> attribute, and fill it with the amount values from the same date. Then <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\" rel=\"nofollow noreferrer\">spread</a> the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/values\" rel=\"nofollow noreferrer\"><code>Map.values()</code></a> back to an array:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = [{\"date\":\"2018-03-21\",\"amount\":1},{\"date\":\"2018-03-21\",\"amount\":43},{\"date\":\"2018-03-21\",\"amount\":41},{\"date\":\"2018-03-22\",\"amount\":18},{\"date\":\"2018-03-23\",\"amount\":25},{\"date\":\"2018-03-24\",\"amount\":15},{\"date\":\"2018-03-24\",\"amount\":25}];\r\n\r\nconst result = [...data\r\n  .reduce((r, o) =&gt; {\r\n    const { date, amount } = o;\r\n  \r\n    r.has(date) || r.set(date, { \r\n      date, \r\n      amounts: [] \r\n    });\r\n    \r\n    r.get(date).amounts.push({ amount });\r\n    \r\n    return r;\r\n  }, new Map())\r\n  .values()\r\n];\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 374, "user_id": 4867299, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IS7hd.jpg?s=128&g=1", "display_name": "DFSFOT", "link": "https://stackoverflow.com/users/4867299/dfsfot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 628, "favorite_count": 0, "accepted_answer_id": 49410116, "answer_count": 3, "score": 1, "last_activity_date": 1521645784, "creation_date": 1521645003, "question_id": 49409961, "link": "https://stackoverflow.com/questions/49409961/how-to-push-value-into-sub-array-without-making-a-new-entry", "title": "How to push value into sub array without making a new entry", "body": "<p>So I've got these two arrays:</p>\n\n<pre><code>resultList: { date: string, amount: number }[] = [];\ndateList: { date: string, amounts: { amount: number }[] }[] = [];\n</code></pre>\n\n<p>One of them has all results, which I want to sort by dates hence the second array.\nThis is the code I'm using to try to achieve this:</p>\n\n<pre><code>this.resultList.forEach((result) =&gt; {\n      let dateFound: boolean = false;\n      this.dateList.forEach((date) =&gt; {\n        if (result.date === date.date) {\n          dateFound = true;\n          return;\n        }\n      });\n      if (dateFound == false) {\n        //create new date entry in dateList\n        this.dateList.push({date: result.date, amounts: []});\n      }\n      //find that date entry and push a value to it's sub array called amounts\n      this.dateList.find((dates) =&gt; {\n        return dates.date == result.date\n      }).amounts.push({\n        amount: result.amount\n      });\n    });\n</code></pre>\n\n<p>OUTPUT if you have 3 results of the same date</p>\n\n<pre><code>[\n  {date: '2018-03-21', amounts: [{amount: 1}]},\n  {date: '2018-03-21', amounts: [{amount: 1},{amount: 43}]},\n  {date: '2018-03-21', amounts: [{amount: 1},{amount: 43}, {amount: 55}]}\n]\n</code></pre>\n\n<p>Desired OUTPUT if you have 3 results of the same date</p>\n\n<pre><code>[\n  {date: '2018-03-21', amounts: [{amount: 1},{amount: 43}, {amount: 55}]}\n]\n</code></pre>\n"}, {"tags": ["typescript", "firebase", "ionic-framework", "ionic3", "google-cloud-functions"], "comments": [{"owner": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "edited": false, "score": 1, "creation_date": 1521646888, "post_id": 49409549, "comment_id": 85822913, "body": "Take a look at this library <a href=\"https://www.npmjs.com/package/firebase-rxjs\" rel=\"nofollow noreferrer\">npmjs.com/package/firebase-rxjs</a>"}, {"owner": {"reputation": 801, "user_id": 7130982, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10155393562339298/picture?type=large", "display_name": "Omar Hussein", "link": "https://stackoverflow.com/users/7130982/omar-hussein"}, "reply_to_user": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "edited": false, "score": 1, "creation_date": 1521648690, "post_id": 49409549, "comment_id": 85824386, "body": "I&#39;m not really a professional so if you could point me to a simple tutorial or tell me how to implement this in my code/firebase that would be great."}, {"owner": {"reputation": 5016, "user_id": 4254681, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/17tFz.jpg?s=128&g=1", "display_name": "Duannx", "link": "https://stackoverflow.com/users/4254681/duannx"}, "edited": false, "score": 1, "creation_date": 1521687573, "post_id": 49409549, "comment_id": 85841027, "body": "Just walk through the <a href=\"https://firebase.google.com/docs/functions/\" rel=\"nofollow noreferrer\">docs</a> you will know how to do this"}], "owner": {"reputation": 801, "user_id": 7130982, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10155393562339298/picture?type=large", "display_name": "Omar Hussein", "link": "https://stackoverflow.com/users/7130982/omar-hussein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 461, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1521646100, "creation_date": 1521643951, "last_edit_date": 1521646100, "question_id": 49409549, "link": "https://stackoverflow.com/questions/49409549/firebase-function-fetch-json-response", "title": "Firebase function fetch json response", "body": "<p>currently I have an ionic app that has a function that fetches responses and maps them through an external API, how can I set this up as a firebase function instead and have it inside my provider that includes the current function? I already have Firebase being used for login.</p>\n\n<p>This is one of the functions I would like to move into a firebase function:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>grabRAW(email): Observable&lt;any&gt; {\r\n    return this.grabID(email)\r\n      .switchMap(data =&gt; {\r\n        this.idList = data.data;\r\n        let id = this.idList[0].id;\r\n\r\n        // Now send the second http request\r\n        return this.http.get(((this.url1.concat(id))).concat(this.url2))\r\n          .map((res: Response) =&gt; res.json())\r\n          //.do((res:Response) =&gt; console.log(res))\r\n      });\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>GrabID function being used:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>grabID(email): Observable&lt;any&gt; {\r\n    return this.http.get(this.url.concat(email))\r\n      .map((res: Response) =&gt; res.json())\r\n      //.do((res:Response) =&gt; console.log(res))\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["angular", "typescript", "angular5", "angular-routing", "rxjs5"], "comments": [{"owner": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "edited": false, "score": 0, "creation_date": 1521645175, "post_id": 49409302, "comment_id": 85821505, "body": "Use Observable.zip(observable1, observable2)"}, {"owner": {"reputation": 2356, "user_id": 2312637, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/538954148/picture?type=large", "display_name": "Daniel Grima", "link": "https://stackoverflow.com/users/2312637/daniel-grima"}, "reply_to_user": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "edited": false, "score": 0, "creation_date": 1521645384, "post_id": 49409302, "comment_id": 85821680, "body": "Actually I just solved it, I&#39;ll update my question"}], "owner": {"reputation": 2356, "user_id": 2312637, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/538954148/picture?type=large", "display_name": "Daniel Grima", "link": "https://stackoverflow.com/users/2312637/daniel-grima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 581, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521645648, "creation_date": 1521643300, "last_edit_date": 1521645648, "question_id": 49409302, "link": "https://stackoverflow.com/questions/49409302/issue-with-angular-router-resolve-data-undefined", "title": "Issue with Angular Router Resolve - Data undefined", "body": "<p>I have a route in my application that I've attached a resolver to it so that before the route is accessed I have the data needed for the page. These last few days I've been updating the application from Angular 4 to Angular 5 and as part of the update I'm also changing the code to use the <code>HttpClientModule</code> rather than the deprecated <code>HttpModule</code> and <code>rxjs</code> 5.5.6.</p>\n\n<p>For some reason the resolver is now always returning undefined as the data. This is a sample of the resolver I have:</p>\n\n<pre><code>@Injectable()\nexport class GameLoaderResolver implements Resolve&lt;any&gt; {\n    constructor(\n        private router: Router,\n        private service1: Service1,\n        private service2: Service2\n    ) { }\n\n    resolve(): Observable&lt;any&gt; {\n        let observable1 = this.service1.get('http://localhost:1234/api/Users/getData');\n\n        let observable2 = this.service2.get('http://localhost:1234/api/Countries/getData');\n\n        return forkJoin(observable1, observable2);\n    }\n}\n</code></pre>\n\n<p>Above is a sample of what I have in my resolver. I need data from multiple service calls before the route loads so I'm using <code>forkJoin</code> to combine them into one single <code>Observable</code>. What happens with the above code is that an array with an element for each observable is returned. So in this case an array with two elements are returned, index <code>0</code> has the data of <code>observable1</code> and index <code>1</code> has the data of <code>observable2</code>. After I changed to using <code>HttpClient</code> and <code>rxjs</code> 5.5.6 I'm getting an array <code>[ undefined, undefined ]</code>.</p>\n\n<p>This used to work when using <code>HttpModule</code>, I did my research and unless I missed it I couldn't find any changes to the router resolvers, so I'm not sure if there's anything wrong with the code above.</p>\n\n<p><strong>Environment Verions:</strong></p>\n\n<ul>\n<li><strong>Angular:</strong> 5.2.8</li>\n<li><strong>RXJS:</strong> 5.5.6</li>\n</ul>\n\n<p><strong>Update</strong></p>\n\n<p>I managed to fix the issue by using <code>map</code> on each observable and on the <code>forkJoin</code>, this way the result is returned. So the updated code has to look something like this:</p>\n\n<pre><code>@Injectable()\nexport class GameLoaderResolver implements Resolve&lt;any&gt; {\n    constructor(\n        private router: Router,\n        private service1: Service1,\n        private service2: Service2\n    ) { }\n\n    resolve(): Observable&lt;any&gt; {\n        let observable1 = this.service1.get('http://localhost:1234/api/Users/getData')\n            .map(res =&gt; return res);\n\n        let observable2 = this.service2.get('http://localhost:1234/api/Countries/getData')\n            .map(res =&gt; return res);\n\n        return forkJoin(observable1, observable2)\n            .map(res =&gt; return res);\n    }\n}\n</code></pre>\n\n<p>I'm guessing that since before when using <code>HttpModule</code> we had to implement a  function to extract the data from the response, the data was being returned. Now with the latest update I'm guessing that this has to be done with an \"extra step\".</p>\n"}, {"tags": ["typescript", "angularjs-components", "angularjs-1.6"], "answers": [{"tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": false, "score": 0, "last_activity_date": 1521644522, "creation_date": 1521644522, "answer_id": 49409774, "question_id": 49409040, "link": "https://stackoverflow.com/questions/49409040/access-attributes-declared-inside-an-angularjs-components-tag/49409774#49409774", "title": "Access attributes declared inside an AngularJS component&#39;s tag", "body": "<p>When defining the component, declare <code>myAttr</code> as a binding for the component. This way its value will be part of your controller.</p>\n"}, {"comments": [{"owner": {"reputation": 1083, "user_id": 2007716, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/f752a8b0216a22f181c5e97072a2b68f?s=128&d=identicon&r=PG", "display_name": "luthien", "link": "https://stackoverflow.com/users/2007716/luthien"}, "edited": false, "score": 0, "creation_date": 1521645955, "post_id": 49409805, "comment_id": 85822179, "body": "Thanks for the fast answer. I am not sure I can do it like this with TypeScript, it seems that I need to declare the bindings inside the constructor which complicates things for me and I don&#39;t know how to refer to this attribute after that. For example, the following would not work...  ``` constructor() {   this.bindings = {     myAttr : &#39;@&#39;   }; }  console.log(this.myAttr); ```"}, {"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "reply_to_user": {"reputation": 1083, "user_id": 2007716, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/f752a8b0216a22f181c5e97072a2b68f?s=128&d=identicon&r=PG", "display_name": "luthien", "link": "https://stackoverflow.com/users/2007716/luthien"}, "edited": false, "score": 0, "creation_date": 1521646217, "post_id": 49409805, "comment_id": 85822402, "body": "Bindings have to be defined during component declaration because they need to be evaluated by the Angular parser."}, {"owner": {"reputation": 1083, "user_id": 2007716, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/f752a8b0216a22f181c5e97072a2b68f?s=128&d=identicon&r=PG", "display_name": "luthien", "link": "https://stackoverflow.com/users/2007716/luthien"}, "edited": false, "score": 0, "creation_date": 1521646620, "post_id": 49409805, "comment_id": 85822688, "body": "OK, indeed it makes sense. And then how would you refer to this? To print its value from the controller for example?"}, {"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "reply_to_user": {"reputation": 1083, "user_id": 2007716, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/f752a8b0216a22f181c5e97072a2b68f?s=128&d=identicon&r=PG", "display_name": "luthien", "link": "https://stackoverflow.com/users/2007716/luthien"}, "edited": false, "score": 0, "creation_date": 1521646919, "post_id": 49409805, "comment_id": 85822935, "body": "Just as you wrote by accessing <code>this.myAttr</code>. As mentioned in the answer you of course have to declare <code>myAttr</code> as a property of your class. Edited answer for clarity. (You may get an error if you use strict TS options.)"}], "tags": [], "owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1521646870, "last_edit_date": 1521646870, "creation_date": 1521644587, "answer_id": 49409805, "question_id": 49409040, "link": "https://stackoverflow.com/questions/49409040/access-attributes-declared-inside-an-angularjs-components-tag/49409805#49409805", "title": "Access attributes declared inside an AngularJS component&#39;s tag", "body": "<p>The attribute should be declared in the <code>bindings</code>:</p>\n\n<pre><code>app.component('myComponent', {\n  ...\n  bindings: {\n    myAttr: '@'\n  }\n});\n</code></pre>\n\n<p>(Binding types: <a href=\"https://stackoverflow.com/questions/14050195/what-is-the-difference-between-and-in-directive-scope-in-angularjs\">What is the difference between &#39;@&#39; and &#39;=&#39; in directive scope in AngularJS?</a>)</p>\n\n<p>The name of the attribute is normalized to camelCase and the value will be set on the controller instance as a property. So you might want to declare it accordingly on your controller type:</p>\n\n<pre><code>class MyComponentController\n{\n    myAttr: string;\n\n    logAttribute()\n    {\n        console.log(this.myAttr);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1083, "user_id": 2007716, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/f752a8b0216a22f181c5e97072a2b68f?s=128&d=identicon&r=PG", "display_name": "luthien", "link": "https://stackoverflow.com/users/2007716/luthien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1577569262, "creation_date": 1521642644, "last_edit_date": 1577569262, "question_id": 49409040, "link": "https://stackoverflow.com/questions/49409040/access-attributes-declared-inside-an-angularjs-components-tag", "title": "Access attributes declared inside an AngularJS component&#39;s tag", "body": "<p>I would like to declare an attribute and assign a value to it in the component's HTML tag, like this:</p>\n\n<pre><code>&lt;my-component my-attr=\"foo\"&gt;&lt;/my-component&gt;\n</code></pre>\n\n<p>Then I'd like to get the value of this attribute (<code>my-attr</code>) from inside my controller.</p>\n\n<p>Is this possible using AngularJS 1.6 and TypeScript, and if yes how?</p>\n"}, {"tags": ["typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1521642452, "post_id": 49408935, "comment_id": 85819296, "body": "So the result type is the same as the input type ?"}, {"owner": {"reputation": 225, "user_id": 9241764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa75c0184d19e330b1a4c9ab21b2c2c1?s=128&d=identicon&r=PG&f=1", "display_name": "donzul", "link": "https://stackoverflow.com/users/9241764/donzul"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1521642761, "post_id": 49408935, "comment_id": 85819553, "body": "@TitianCernicova-Dragomir You are correct."}], "answers": [{"comments": [{"owner": {"reputation": 225, "user_id": 9241764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa75c0184d19e330b1a4c9ab21b2c2c1?s=128&d=identicon&r=PG&f=1", "display_name": "donzul", "link": "https://stackoverflow.com/users/9241764/donzul"}, "edited": false, "score": 0, "creation_date": 1521642698, "post_id": 49408984, "comment_id": 85819497, "body": "I&#39;ve been trying this one but then I&#39;m having troubles with my returns having to do things like  <code>return parseArray(data) as T &amp; T[];</code>  I&#39;m missing something"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 225, "user_id": 9241764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa75c0184d19e330b1a4c9ab21b2c2c1?s=128&d=identicon&r=PG&f=1", "display_name": "donzul", "link": "https://stackoverflow.com/users/9241764/donzul"}, "edited": false, "score": 0, "creation_date": 1521642725, "post_id": 49408984, "comment_id": 85819523, "body": "You need to do some type assertions to <code>any</code>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 225, "user_id": 9241764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa75c0184d19e330b1a4c9ab21b2c2c1?s=128&d=identicon&r=PG&f=1", "display_name": "donzul", "link": "https://stackoverflow.com/users/9241764/donzul"}, "edited": false, "score": 0, "creation_date": 1521642881, "post_id": 49408984, "comment_id": 85819665, "body": "@donzul I added a full solution, you will need to type assert in <code>parseData</code> but at least the call site ewill work ok"}, {"owner": {"reputation": 225, "user_id": 9241764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa75c0184d19e330b1a4c9ab21b2c2c1?s=128&d=identicon&r=PG&f=1", "display_name": "donzul", "link": "https://stackoverflow.com/users/9241764/donzul"}, "edited": false, "score": 0, "creation_date": 1521643217, "post_id": 49408984, "comment_id": 85819938, "body": "Question, what is the drawback of doing something like <code>function parseArray&lt;T&gt;(data: T[]): T[]</code>?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 225, "user_id": 9241764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa75c0184d19e330b1a4c9ab21b2c2c1?s=128&d=identicon&r=PG&f=1", "display_name": "donzul", "link": "https://stackoverflow.com/users/9241764/donzul"}, "edited": false, "score": 0, "creation_date": 1521643350, "post_id": 49408984, "comment_id": 85820026, "body": "@donzul I don&#39;t know of any drawbacks, at runtime the type parameters are erased so it really does not matter. At compile time, the compiler will check you are actually passing in an array, which might get in your way in some corner cases (like above) but it is easy to get around using type assertions."}, {"owner": {"reputation": 225, "user_id": 9241764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa75c0184d19e330b1a4c9ab21b2c2c1?s=128&d=identicon&r=PG&f=1", "display_name": "donzul", "link": "https://stackoverflow.com/users/9241764/donzul"}, "edited": false, "score": 0, "creation_date": 1521643565, "post_id": 49408984, "comment_id": 85820218, "body": "But is there a difference in using <code>function parseArray&lt;T&gt;(data: T[]): T[]</code>  instead of  <code>function parseArray (data: any[]) : any[]</code>?   In terms of type correction / good practices?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 225, "user_id": 9241764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa75c0184d19e330b1a4c9ab21b2c2c1?s=128&d=identicon&r=PG&f=1", "display_name": "donzul", "link": "https://stackoverflow.com/users/9241764/donzul"}, "edited": false, "score": 0, "creation_date": 1521643677, "post_id": 49408984, "comment_id": 85820309, "body": "@donzul there is an advantage in terms of type flow, if you pass in a number array you will get back a number array with the generic function. With the <code>any</code> version you pass in a <code>number</code> array but you get back an <code>any</code> array, so you loose type safety after the call"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 225, "user_id": 9241764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa75c0184d19e330b1a4c9ab21b2c2c1?s=128&d=identicon&r=PG&f=1", "display_name": "donzul", "link": "https://stackoverflow.com/users/9241764/donzul"}, "edited": false, "score": 0, "creation_date": 1521644062, "post_id": 49408984, "comment_id": 85820627, "body": "@donzul I changed to parseArray to be generic, in this case if you only use it in <code>parseData</code> it really makes no difference if it generic or not, that is why I didn&#39;t use the generic version"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1521644009, "last_edit_date": 1521644009, "creation_date": 1521642516, "answer_id": 49408984, "question_id": 49408935, "link": "https://stackoverflow.com/questions/49408935/how-can-i-type-a-function-that-receives-dynamic-argument-and-does-recursion/49408984#49408984", "title": "How can I type a function that receives dynamic argument and does recursion", "body": "<p>You can use a generic function, and with the result type and the parameter type having the same generic type parameter:</p>\n\n<pre><code>function parseData&lt;T&gt;(data: T): T {\n    if (Array.isArray(data)) {\n        return parseArray(data);\n    }\n\n    if (typeof data === 'object') {\n        return parseObject(data);\n    }\n\n    if (typeof data === 'string') {\n        return parseString(data);\n    }\n\n    return data;\n}\n</code></pre>\n\n<p>Since the <code>parse*</code> function will take different argument types, you might need to go through <code>any</code> to return <code>T</code>:</p>\n\n<pre><code>function parseData&lt;T&gt;(data: T): T {\n    if (Array.isArray(data)) {\n        return parseArray(data as any) as any; \n    }\n\n    if (typeof data === 'string') {\n        return parseString(data as string) as any;\n    }\n\n    if (typeof data === 'object') {\n        return parseObject(data);\n    }\n\n    return data;\n}\n\nfunction parseObject (data: any) : any {\n    return data;\n}\nfunction parseArray&lt;T&gt;(data: T[]) : T[] {\n    return data;\n}\nfunction parseString (data: string) : string {\n    return data;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 2, "last_activity_date": 1521642527, "creation_date": 1521642527, "answer_id": 49408990, "question_id": 49408935, "link": "https://stackoverflow.com/questions/49408935/how-can-i-type-a-function-that-receives-dynamic-argument-and-does-recursion/49408990#49408990", "title": "How can I type a function that receives dynamic argument and does recursion", "body": "<blockquote>\n  <p>How can I type a function that receives dynamic argument and does recursion</p>\n</blockquote>\n\n<p>It is essentially the same type as it is for <code>JSON.parse</code>. </p>\n\n<p>You can use a generic type argument: </p>\n\n<pre><code>function parseData&lt;T&gt;(data)&lt;T&gt; {\n}\n</code></pre>\n"}], "owner": {"reputation": 225, "user_id": 9241764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa75c0184d19e330b1a4c9ab21b2c2c1?s=128&d=identicon&r=PG&f=1", "display_name": "donzul", "link": "https://stackoverflow.com/users/9241764/donzul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 49408984, "answer_count": 2, "score": 1, "last_activity_date": 1521644009, "creation_date": 1521642384, "question_id": 49408935, "link": "https://stackoverflow.com/questions/49408935/how-can-i-type-a-function-that-receives-dynamic-argument-and-does-recursion", "title": "How can I type a function that receives dynamic argument and does recursion", "body": "<p>I'm having troubles figuring out how to type this utility function that can receive some data in any form of Object / Array / Number / String. </p>\n\n<p>Then it calls its respective handler like <code>parseArray</code> which receives an array which then calls <code>parseData</code> on each item of the array.</p>\n\n<p>So this function will pretty much get some data in any structure, and return the same structure with some parsing on it.</p>\n\n<p>Would love some guidance on this one.</p>\n\n<pre><code>function parseData(data) {\n  if (Array.isArray(data)) {\n    return parseArray(data);\n  }\n\n  if (typeof data === 'object') {\n    return parseObject(data);\n  }\n\n  if (typeof data === 'string') {\n    return parseString(data);\n  }\n\n  return data;\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic-framework"], "answers": [{"comments": [{"owner": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "edited": false, "score": 0, "creation_date": 1521641356, "post_id": 49408487, "comment_id": 85818406, "body": "Array is new here, but link to object is left, so changes will left. You need to add JSON.parse(JSON.stringify(mockData));"}, {"owner": {"reputation": 1468, "user_id": 9295849, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/fGQz0.png?s=128&g=1", "display_name": "S_R", "link": "https://stackoverflow.com/users/9295849/s-r"}, "edited": false, "score": 0, "creation_date": 1521641454, "post_id": 49408487, "comment_id": 85818487, "body": "This works brilliantly! Is this the best practise to achieve my goal? Is there an initial way to code the model, data and component to remove this issue, or is this the way it has to be done everytime? Thanks"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "edited": false, "score": 0, "creation_date": 1521641526, "post_id": 49408487, "comment_id": 85818535, "body": "@Vayrex it returns a new array everytime, I don&#39;t know what you&#39;re talking about."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 1468, "user_id": 9295849, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/fGQz0.png?s=128&g=1", "display_name": "S_R", "link": "https://stackoverflow.com/users/9295849/s-r"}, "edited": false, "score": 0, "creation_date": 1521641592, "post_id": 49408487, "comment_id": 85818586, "body": "@S_R it is one of the best practices, but I don&#39;t know if it is the best one. Definitely the easiest and simplest one though. You can also make a static class if you want, or export an utils object."}, {"owner": {"reputation": 1468, "user_id": 9295849, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/fGQz0.png?s=128&g=1", "display_name": "S_R", "link": "https://stackoverflow.com/users/9295849/s-r"}, "edited": false, "score": 0, "creation_date": 1521641663, "post_id": 49408487, "comment_id": 85818643, "body": "@trichetriche ok brilliant, thanks again, great simple answer!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1521641715, "post_id": 49408487, "comment_id": 85818688, "body": "No problem, glad I could help !"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 1, "last_activity_date": 1521641075, "creation_date": 1521641075, "answer_id": 49408487, "question_id": 49408351, "link": "https://stackoverflow.com/questions/49408351/how-to-reset-model-data-on-view-load/49408487#49408487", "title": "How to reset model data on view load", "body": "<p>Create a function that return an array. </p>\n\n<pre><code>import { Users } from '../../models/Users';\n\nexport const createUserList = (): User[] =&gt; [\n    {\n        user_id:1,\n        email: 'test@tester.com',\n        forename:'Joe',\n        surname:'Bloggs',\n        username:'Joe',\n        dob:new Date,\n        telephone:'0151111111',\n    }\n];\n</code></pre>\n\n<p>In your component</p>\n\n<pre><code>let usersList: Users[] = createUserList(); \n</code></pre>\n"}], "owner": {"reputation": 1468, "user_id": 9295849, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/fGQz0.png?s=128&g=1", "display_name": "S_R", "link": "https://stackoverflow.com/users/9295849/s-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 49408487, "answer_count": 1, "score": 1, "last_activity_date": 1521641075, "creation_date": 1521640714, "question_id": 49408351, "link": "https://stackoverflow.com/questions/49408351/how-to-reset-model-data-on-view-load", "title": "How to reset model data on view load", "body": "<p>Lets say I have a users Model</p>\n\n<pre><code>export interface Users {\n    user_id:number;\n    email: string;\n    forename:string;\n    surname:string;\n    username:string;\n    dob:Date;\n    telephone:string;\n}\n</code></pre>\n\n<p>And I have some mock data for it</p>\n\n<pre><code>import { Users } from '../../models/Users';\nlet list: Users[] = [\n    {\n        user_id:1,\n        email: 'test@tester.com',\n        forename:'Joe',\n        surname:'Bloggs',\n        username:'Joe',\n        dob:new Date,\n        telephone:'0151111111',\n    }\n];\n\nexport let userList = list;\n</code></pre>\n\n<p>And I am importing the users model into my ts file and storing it in a variable like this</p>\n\n<pre><code>import { userList } from '../../mocks/Users/Users';\nimport { Users } from '../../models/Users';\n\nlet usersList: Users[] = userList; \n</code></pre>\n\n<p>If I then edited my newly created <code>usersList</code> variable, like so</p>\n\n<pre><code>this.usersList[1].email = 'newemail@test.com';\n</code></pre>\n\n<p>How would i actually reset this variable back to the original mock data when the view loads? At the moment whenever I navigate away from the page and come back to it, the <code>newemail@test.com</code> is persistant, but each time the page loads, I want to be able to reset it back to the original mock data email of <code>test@tester.com</code></p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 293, "user_id": 4031976, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9cf983002be5f86ffe8bfb1c27a52c96?s=128&d=identicon&r=PG&f=1", "display_name": "jrv", "link": "https://stackoverflow.com/users/4031976/jrv"}, "is_accepted": false, "score": 1, "last_activity_date": 1522115331, "last_edit_date": 1522115331, "creation_date": 1522114965, "answer_id": 49503154, "question_id": 49408168, "link": "https://stackoverflow.com/questions/49408168/specifying-directory-for-a-local-d-ts-type-file-in-typescript/49503154#49503154", "title": "specifying directory for a local .d.ts type file in typescript", "body": "<p>After some more research and reflection, I believe that putting the ambient declaration file for a third-party library can only be done by putting the file in a directory named \"node_modules/@types/ somewhere either off the directory where the third-party library is being used, or off one of its parent directories. If, using an angular 5 example, the component SimpleComponent (in src/app/simple/simple.component.ts) imported a library 'chi-squared-test', the ambient declarations file, chi-squared-test/index.d.ts, could be put in: node_modules/@types/chi-squared-test/index.d.ts (with the installed ones), in src/node_modules/@types/chi-squared-test/index.d.ts, in src/app/node_modules/@types/chi-squared-test/index.d.ts or in src/app/simple/node_modules/@types/chi-squared-test/index.d.ts. I have verified that src/node_modules/@types works. The <a href=\"http://www.typescriptlang.org/docs/handbook/tsconfig-json.html#types-typeroots-and-types\" rel=\"nofollow noreferrer\">documentation from typescript here</a> says that the others ought to work too, but I have not tested them.</p>\n\n<p>I have seen posts that suggest to me that one ought to be able to put declaration files not in directories that include \"node_modules/@types\" by using the \"typeRoots\" configuration value but I was never able to get that to work. At this point the only way I know which will add ambient type declaration files (.d.ts) is to put them in subdirectories named \"node_modules/@types\" on the path from directory containing the file that needs the declaration to the project root.</p>\n\n<p>This may be require some work with your .gitignore file. By default I believe it ignores subdirectories that have \"node_modules\" in the path. In most cases I expect you will want to commit your private library declarations to git, so you will have to adjust your .gitignore to include those directories (a line like \"!src/node_modules\" should work).</p>\n"}], "owner": {"reputation": 293, "user_id": 4031976, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9cf983002be5f86ffe8bfb1c27a52c96?s=128&d=identicon&r=PG&f=1", "display_name": "jrv", "link": "https://stackoverflow.com/users/4031976/jrv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2139, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1522115331, "creation_date": 1521640309, "last_edit_date": 1521641535, "question_id": 49408168, "link": "https://stackoverflow.com/questions/49408168/specifying-directory-for-a-local-d-ts-type-file-in-typescript", "title": "specifying directory for a local .d.ts type file in typescript", "body": "<p>Over the past few days I have been trying to create a .d.ts for a simple library I found on npm and used in an angular 4 project (<a href=\"https://stackoverflow.com/questions/49393529/creating-typescript-d-ts-for-third-party-library\">creating typescript .d.ts for third-party library</a>). I was able to create such a declaration file, and I thought that the other problem I had, moving the declaration file to a more appropriate directory, would be fairly simple.</p>\n\n<p>While working on the original problem I had simply created the .d.ts declarations file under <code>&lt;root&gt;/node_modules/@types</code> along with the type delcaration files I had downloaded and not created. I had done this because it was fairly clear that my attempts to put the declarations file in another directory were not working, and that seemed a secondary problem. Once I had solved the primary issue I addressed the secondary. I could not find anything to add locations to search for declaration files. I found a setting in <code>tsconfig.json</code> that sounded promising,</p>\n\n<pre><code>\"typeRoots\": [\n  \"node_modules/@types\",\n  \"hmm/@types\"\n],\n</code></pre>\n\n<p>here with an experimental value, but the value did not do what it sounded like it ought to do. In fact I could remove all the values in the list and not get any different behavior, including for other type libraries. (I have since found a mention that it is used only to resolve directories for <code>/// &lt;reference=...</code> directives.)</p>\n\n<p>After a great deal of experimentation and some scanning of the <code>tsc</code> code, I stumbled into the realization that if the directory containing additional typescript declarations files included <code>node_modules/@types</code>. tsc would find them and treat them as declaration files. In addition to <code>&lt;root&gt;/npm_modules/@types</code> I created <code>&lt;root&gt;/src/npm_modules/@types</code>, and everything worked as expected. I wasn't happy with the directory name so I tried <code>&lt;root&gt;/src/@types/npm_modules/@types</code>, but that failed.</p>\n\n<p>All my builds were through angular-cli <code>ng</code>, so it's possible <code>ng</code> is secretly creating configuration files that it uses instead of the ones I see, but I don't think that is the case.</p>\n\n<p>Is there any way to configure additional type declaration files for tsc, or to get tsc to recognize certain directories as such? There is a \"types\" parameter on tsconfig.json, but that seems to mean use <em>only</em> those type files, and I would like to use some type files <em>additionally</em>. Ideally I think I would like a directory structure similar to: <code>&lt;root&gt;/@types/library-package-name</code>. Is this possible?</p>\n"}, {"tags": ["javascript", "jquery", "typescript", "coffeescript"], "comments": [{"owner": {"reputation": 21436, "user_id": 1021703, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g09TV.jpg?s=128&g=1", "display_name": "Jeremy Thille", "link": "https://stackoverflow.com/users/1021703/jeremy-thille"}, "edited": false, "score": 1, "creation_date": 1521639559, "post_id": 49407800, "comment_id": 85816916, "body": "Why do you bother? There are online tools for this, like <a href=\"http://js2.coffee/\" rel=\"nofollow noreferrer\">js2coffee</a>"}], "answers": [{"comments": [{"owner": {"reputation": 421, "user_id": 9434120, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ca3b1f5217c4b06b142ef05c0758fb0?s=128&d=identicon&r=PG&f=1", "display_name": "Balance", "link": "https://stackoverflow.com/users/9434120/balance"}, "edited": false, "score": 0, "creation_date": 1521639660, "post_id": 49407820, "comment_id": 85816991, "body": "Yeah. It&#39;s help"}], "tags": [], "owner": {"reputation": 60727, "user_id": 1984039, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d6da57aad344d1dceec183610a788a86?s=128&d=identicon&r=PG", "display_name": "gurvinder372", "link": "https://stackoverflow.com/users/1984039/gurvinder372"}, "is_accepted": true, "score": 4, "last_activity_date": 1521639765, "last_edit_date": 1521639765, "creation_date": 1521639398, "answer_id": 49407820, "question_id": 49407800, "link": "https://stackoverflow.com/questions/49407800/cannot-read-property-indexof-of-undefined-typescript/49407820#49407820", "title": "Cannot read property &#39;indexOf&#39; of undefined (TypeScript)", "body": "<blockquote>\n  <p>I this row I need to get value from select list and paste it to input</p>\n  \n  <p><code>if ($(this).id.indexOf('origin') !== -1) {</code></p>\n  \n  <p>I have error</p>\n  \n  <p>Cannot read property 'indexOf' of undefined</p>\n</blockquote>\n\n<p><code>$(this)</code> is a jquery object, you need to get the DOM object from it first</p>\n\n<pre><code>$(this)[0].id\n</code></pre>\n\n<p>or simply</p>\n\n<pre><code>this.id\n</code></pre>\n\n<p>i.e.</p>\n\n<pre><code>if ($(this)[0].id.indexOf('origin') !== -1) {\n</code></pre>\n"}], "owner": {"reputation": 421, "user_id": 9434120, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ca3b1f5217c4b06b142ef05c0758fb0?s=128&d=identicon&r=PG&f=1", "display_name": "Balance", "link": "https://stackoverflow.com/users/9434120/balance"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4410, "favorite_count": 0, "accepted_answer_id": 49407820, "answer_count": 1, "score": 2, "last_activity_date": 1521639765, "creation_date": 1521639327, "question_id": 49407800, "link": "https://stackoverflow.com/questions/49407800/cannot-read-property-indexof-of-undefined-typescript", "title": "Cannot read property &#39;indexOf&#39; of undefined (TypeScript)", "body": "<p>I have cofeescript with working code here is code of it</p>\n\n<pre><code>   window.load_autocomplete_fields = -&gt;\n  $('.airport_field').each -&gt;\n    $(this).autocomplete({\n      delay: 10,\n      minLength: 0,\n      source: ((request, response) -&gt;\n        $(this.element[0]).attr('data-req-term', request.term)\n        $.ajax {\n          url: $(this.element[0]).attr('data-source'),\n          dataType: \"json\",\n          data: {\n            term: request.term\n          },\n          success: ((data) -&gt;\n            results = []\n            $.map(data.cities, (value, key) -&gt;\n              results.push(value)\n              $.map(value.airports, (value2, key2) -&gt; results.push(value2))\n            )\n            $.map(data.airports, (value, key) -&gt; results.push(value))\n            response(results)\n          ),\n          error: (-&gt; response([]))\n        }\n        return null\n      ),\n      focus: ((event, ui) -&gt;\n        return false\n      ),\n      select: ((event, ui) -&gt;\n        qel = $(event.currentTarget)\n        qel.val(ui.item.fullname)\n        $(qel.attr('data-id-element')).val(ui.item.id)\n        return false\n      )\n    }).data(\"ui-autocomplete\")._renderItem = (ul, item) -&gt;\n      create_autocomplete_item($(this.element[0]), ul, item)\n\n    $('.airport_field').on 'autocompleteselect', -&gt;\n      if this.id.indexOf('origin') != -1\n        id = this.id.split('_')[2]\n        $(\"#search_legs_#{id}_destination_text\").focus()\n\n    $('.airport_field').focus -&gt;\n      $(this).val(' ').keydown() unless $(this).val()\n</code></pre>\n\n<p>I need to rewrite it into typescript </p>\n\n<p>So I rewrite it like this</p>\n\n<pre><code> interface Window { \n    load_autocomplete_fields:()=&gt;JQuery;\n    load_datepickers:()=&gt;JQuery;\n    load_datepickers_inline:()=&gt;JQuery; \n    customCheckbox:(checkboxName:string) =&gt; JQuery;\n    customCheckboxes:any;\n    customRadio:(radioName:string)=&gt;JQuery;\n  }\n\n    window.load_autocomplete_fields = () =&gt;\n  $('.airport_field').each(function() {\n    $(this).autocomplete({\n      delay: 10,\n      minLength: 0,\n      source(request, response) {\n        $(this.element[0]).attr('data-req-term', request.term);\n        $.ajax({\n          url: $(this.element[0]).attr('data-source'),\n          dataType: \"json\",\n          data: {\n            term: request.term\n          },\n          success(data) {\n            const results = [];\n            $.map(data.cities, function(value, key) {\n              results.push(value);\n              return $.map(value.airports, (value2, key2) =&gt; results.push(value2));\n            });\n            $.map(data.airports, (value, key) =&gt; results.push(value));\n            return response(results);},\n          error() { return response([]); }\n        });\n        return null;},\n      focus(event, ui) {\n        return false;},\n      select(event, ui) {\n        const qel = $(event.currentTarget);\n        qel.val(ui.item.fullname);\n        $(qel.attr('data-id-element')).val(ui.item.id);\n        return false;}\n    }).data(\"ui-autocomplete\")._renderItem = function(ul, item) {\n      return create_autocomplete_item($(this.element[0]), ul, item);\n    };\n\n    $('.airport_field').on('autocompleteselect', function() {\n      if ($(this).id.indexOf('origin') !== -1) {\n        let id = $(this).id.split('_')[2];\n        return $(`#search_legs_${id}_destination_text`).focus();\n      }\n    });\n\n    $('.airport_field').focus(function () {\n      if (!$(this).val()) { return $(this).val(' ').keydown(); }\n    });\n  })\n;\n</code></pre>\n\n<p>But now I have error.</p>\n\n<p>I this row I need to get value from select list and paste it to input</p>\n\n<blockquote>\n  <p>if ($(this).id.indexOf('origin') !== -1) {</p>\n</blockquote>\n\n<p>I have error </p>\n\n<blockquote>\n  <p>Cannot read property 'indexOf' of undefined</p>\n</blockquote>\n\n<p>How I can solve it?</p>\n\n<p>Thanks for help</p>\n"}, {"tags": ["reactjs", "typescript", "webpack", "config"], "comments": [{"owner": {"reputation": 445, "user_id": 6826071, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/d9166e4e3caad8f3e81a2029ac50382d?s=128&d=identicon&r=PG&f=1", "display_name": "DrunkDevKek", "link": "https://stackoverflow.com/users/6826071/drunkdevkek"}, "edited": false, "score": 0, "creation_date": 1521639370, "post_id": 49407679, "comment_id": 85816758, "body": "Did you try this solution?   <code>If you&#39;re using typescript, just rename the file extension to .ts instead of .js. (foo.ts) . Then when you import, do not use the file extension: import ( Foo ) from &#39;..&#47;node_modules&#47;foo&#47;foo&#39;;</code>  (from <code>coffeenexus</code> in typescript Github issue)"}], "answers": [{"comments": [{"owner": {"reputation": 7440, "user_id": 675082, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/68f2e400184f3254bdf02029f66bf060?s=128&d=identicon&r=PG", "display_name": "CiccioMiami", "link": "https://stackoverflow.com/users/675082/cicciomiami"}, "edited": false, "score": 1, "creation_date": 1521651065, "post_id": 49408284, "comment_id": 85826135, "body": "Thanks for this solution. However your last sentence means that for each environment I should change the webpack.config.js file value for ENVIRONMENT and then rebuild, right? How would you define such file?"}, {"owner": {"reputation": 9996, "user_id": 1063392, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/vS0UT.jpg?s=128&g=1", "display_name": "Nathan Friend", "link": "https://stackoverflow.com/users/1063392/nathan-friend"}, "reply_to_user": {"reputation": 7440, "user_id": 675082, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/68f2e400184f3254bdf02029f66bf060?s=128&d=identicon&r=PG", "display_name": "CiccioMiami", "link": "https://stackoverflow.com/users/675082/cicciomiami"}, "edited": false, "score": 1, "creation_date": 1521654993, "post_id": 49408284, "comment_id": 85828597, "body": "You don&#39;t necessarily need a file - it depends a bit on how you trigger your builds.  In our application, we pass a command-line argument to our <code>build</code> command, i.e. <code>build --dev</code>.  We can access this value in our <code>webpack.config.js</code> file and change the value of the <code>ENVIRONMENT</code> constant appropriately."}, {"owner": {"reputation": 7440, "user_id": 675082, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/68f2e400184f3254bdf02029f66bf060?s=128&d=identicon&r=PG", "display_name": "CiccioMiami", "link": "https://stackoverflow.com/users/675082/cicciomiami"}, "edited": false, "score": 0, "creation_date": 1521794705, "post_id": 49408284, "comment_id": 85892584, "body": "Does it mean that everytime I need to change some config for prod I need to rebuild the whole project?"}], "tags": [], "owner": {"reputation": 9996, "user_id": 1063392, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/vS0UT.jpg?s=128&g=1", "display_name": "Nathan Friend", "link": "https://stackoverflow.com/users/1063392/nathan-friend"}, "is_accepted": true, "score": 3, "last_activity_date": 1521640558, "creation_date": 1521640558, "answer_id": 49408284, "question_id": 49407679, "link": "https://stackoverflow.com/questions/49407679/store-retrieve-config-settings-in-react-project-with-typescript/49408284#49408284", "title": "Store/retrieve config settings in React project with Typescript", "body": "<p>My favorite way of solving the problem you're describing is to use Webpack's <a href=\"https://webpack.js.org/plugins/define-plugin/\" rel=\"nofollow noreferrer\">DefinePlugin</a>:</p>\n\n<blockquote>\n  <p>The <code>DefinePlugin</code> allows you to create global constants which can be configured at <strong>compile</strong> time. This can be useful for allowing different behavior between development builds and release builds.</p>\n</blockquote>\n\n<p>In your <code>webpack.config.js</code>, you can create a global constant that you can access in your application code like this:</p>\n\n<pre><code>new webpack.DefinePlugin({\n    ENVIRONMENT: 'prod'\n})\n</code></pre>\n\n<p>Then, in your TypeScript code, you can access this constant like this:</p>\n\n<pre><code>declare const ENVIRONMENT: 'prod' | 'test' | 'dev' | 'etc...';\nif (ENVIRONMENT === 'prod') {\n    serverUrl = 'https://example.com';\n} else {\n    .... \n}\n</code></pre>\n\n<p>Note that this method requires that you build your application separately for each environment.  If instead you build your application once, and then deploy the output to multiple environments, you might consider putting this kind of configuration in a JSON file that you can swap out on a per-environment basis.</p>\n"}, {"comments": [{"owner": {"reputation": 7440, "user_id": 675082, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/68f2e400184f3254bdf02029f66bf060?s=128&d=identicon&r=PG", "display_name": "CiccioMiami", "link": "https://stackoverflow.com/users/675082/cicciomiami"}, "edited": false, "score": 0, "creation_date": 1521651632, "post_id": 49409562, "comment_id": 85826535, "body": "Thanks for your reply. I am a bit confused here, may you please provide an example? In the documentation they set process.env.NODE_ENV: JSON.Stringify(&#39;production&#39;) in the config file and then they state &#39;Thus, conditionals like process.env.NODE_ENV === &#39;production&#39; ? &#39;[name].[hash].bundle.js&#39; : &#39;[name].bundle.js&#39; within webpack configurations do not work as expected.&#39;"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 7440, "user_id": 675082, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/68f2e400184f3254bdf02029f66bf060?s=128&d=identicon&r=PG", "display_name": "CiccioMiami", "link": "https://stackoverflow.com/users/675082/cicciomiami"}, "edited": false, "score": 1, "creation_date": 1521670170, "post_id": 49409562, "comment_id": 85836491, "body": "This depends on how you set process.env.NODE_ENV . Docs mean that <code>webpack -p</code> doesn&#39;t automatically set NODE_ENV to &#39;production&#39;. You have to do this manually like <code>webpack -p --env production</code>, see <a href=\"https://webpack.js.org/guides/environment-variables/\" rel=\"nofollow noreferrer\">webpack.js.org/guides/environment-variables</a> . See <a href=\"https://github.com/webpack/webpack/issues/2537\" rel=\"nofollow noreferrer\">github.com/webpack/webpack/issues/2537</a> for more details, it&#39;s quite extensive. I usually don&#39;t have this problem because I use different config files for dev and prod that don&#39;t depend on NODE_ENV and set <code>ENV</code> global by hand, similarly to how another answer suggests."}, {"owner": {"reputation": 7440, "user_id": 675082, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/68f2e400184f3254bdf02029f66bf060?s=128&d=identicon&r=PG", "display_name": "CiccioMiami", "link": "https://stackoverflow.com/users/675082/cicciomiami"}, "edited": false, "score": 0, "creation_date": 1521794654, "post_id": 49409562, "comment_id": 85892550, "body": "Thanks, may you explain how you use different configs for dev and prod? I come from ASP.NET background and I am more familiar to this approach, even for maintenance purpose, since it is quite unconveniente to rebuild the whole project everytime I need to change some config, such as service url"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 7440, "user_id": 675082, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/68f2e400184f3254bdf02029f66bf060?s=128&d=identicon&r=PG", "display_name": "CiccioMiami", "link": "https://stackoverflow.com/users/675082/cicciomiami"}, "edited": false, "score": 1, "creation_date": 1521800685, "post_id": 49409562, "comment_id": 85896461, "body": "@CiccioMiami I use them like shown here, <a href=\"https://stackoverflow.com/a/49408284/3731501\">stackoverflow.com/a/49408284/3731501</a> . Some parts that depend on environment should be done at build time, like <code>enableProdMode()</code>. If you want to be able to change some parts dynamically, you can request them through API. But generally, this is how Angular works. If you want to change a single HTML line, you need to rebuild the project."}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": false, "score": 1, "last_activity_date": 1521643994, "creation_date": 1521643994, "answer_id": 49409562, "question_id": 49407679, "link": "https://stackoverflow.com/questions/49407679/store-retrieve-config-settings-in-react-project-with-typescript/49409562#49409562", "title": "Store/retrieve config settings in React project with Typescript", "body": "<p><code>import config from '../../webpack.config.js'</code> shouldn't be used in the application itself, it will cause ill effects (it is supposed to be used by Webpack) and won't provide necessary export.</p>\n\n<p><code>externals: { 'config': ... }</code> means that non-existing <code>config</code> module export is mapped to specified value.</p>\n\n<p>It is supposed to be used like:</p>\n\n<pre><code>import * as config from 'config';\n</code></pre>\n\n<p>A more conventional approach is to <a href=\"https://webpack.js.org/guides/production/#specify-the-environment\" rel=\"nofollow noreferrer\">provide environment constant as a global</a> and use it in real <code>config.ts</code> module.</p>\n"}], "owner": {"reputation": 7440, "user_id": 675082, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/68f2e400184f3254bdf02029f66bf060?s=128&d=identicon&r=PG", "display_name": "CiccioMiami", "link": "https://stackoverflow.com/users/675082/cicciomiami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 826, "favorite_count": 0, "accepted_answer_id": 49408284, "answer_count": 2, "score": 3, "last_activity_date": 1521643994, "creation_date": 1521638994, "question_id": 49407679, "link": "https://stackoverflow.com/questions/49407679/store-retrieve-config-settings-in-react-project-with-typescript", "title": "Store/retrieve config settings in React project with Typescript", "body": "<p>I am currently working on a project in <code>React</code> and I use <code>Typescript</code> as language. In my project I have <code>Webpack</code> installed. Everything works fine but now, since we are going to production, I would like to have an easy way to store/retrieve <code>config settings</code> such as server URL (which is usually different between development, testing and production phases) and I got stuck. I tried to use the <code>webpack.config.js</code> file by adding the <code>\"externals\"</code> key:</p>\n\n<pre><code>externals: {\n  'config': JSON.stringify(process.env.ENV === 'production' ? {\n    serviceUrl: \"https://prod.myserver.com\"\n  } : {\n    serviceUrl: \"http://localhost:8000\"\n  })\n} \n</code></pre>\n\n<p>and then try to reference the file from my <code>tsx</code> component files as such (take into account that the <code>webpack.config.js</code> is in the root folder and my components in <code>/ClientApp/components</code>):</p>\n\n<pre><code>import config from '../../webpack.config.js';\n</code></pre>\n\n<p>or</p>\n\n<pre><code>import {externals} from '../../webpack.config.js';\n</code></pre>\n\n<p>but I get the following error message:</p>\n\n<blockquote>\n  <p>'webpack.config.js' was resolved to '[PROJECT_DIR]/webpack.config.js',\n  but '--allowJs' is not set.</p>\n</blockquote>\n\n<p>Any solution/alternative to solve this issue? Thanks</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 154038, "user_id": 462627, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0285ad1973e938e2d2f40254c247f6f?s=128&d=identicon&r=PG", "display_name": "Praveen Kumar Purushothaman", "link": "https://stackoverflow.com/users/462627/praveen-kumar-purushothaman"}, "edited": false, "score": 0, "creation_date": 1521638688, "post_id": 49407525, "comment_id": 85816170, "body": "Umm... The second JSON is not a valid JSON. <code>:(</code>"}, {"owner": {"reputation": 21436, "user_id": 1021703, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g09TV.jpg?s=128&g=1", "display_name": "Jeremy Thille", "link": "https://stackoverflow.com/users/1021703/jeremy-thille"}, "edited": false, "score": 1, "creation_date": 1521638768, "post_id": 49407525, "comment_id": 85816232, "body": "<code>position.lat : 59.441388</code> is invalid. It could be <code>&quot;position.lat&quot; : 59.441388</code>, is that what you want?"}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 7, "creation_date": 1521638830, "post_id": 49407525, "comment_id": 85816296, "body": "Why do you want to do that? The original version of the object (a JavaScript object, not a &quot;JSON object&quot;) allows you to reference the <code>position</code> sub-properties as <code>array[n].position.lat</code> and <code>array[n].position.lng</code> as it is. Your desired result makes that less convenient."}, {"owner": {"reputation": 381, "user_id": 7572953, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d007bc1359ffae4a2a0a879c18ac3307?s=128&d=identicon&r=PG&f=1", "display_name": "Shikha", "link": "https://stackoverflow.com/users/7572953/shikha"}, "edited": false, "score": 0, "creation_date": 1521695781, "post_id": 49407525, "comment_id": 85843042, "body": "I am using file-saver.js for exporting json array to excel. It works fine with flat json. But If i use above json then it exports position column as blank. So I need position.lat , position.lng"}], "answers": [{"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 3, "last_activity_date": 1521639086, "creation_date": 1521639086, "answer_id": 49407724, "question_id": 49407525, "link": "https://stackoverflow.com/questions/49407525/how-to-flatten-properties-inside-json-array-in-javascript/49407724#49407724", "title": "How to flatten properties inside json array in javascript?", "body": "<p>You could iterate the array and build new properties and delete <code>position.</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var array = [{ amount: \"1 teine med 110 mtr iletau\", comment: \"\", created: \"Tue May 17 2016 00:00:00 (W. Europe Standard Time)\", locationDescription: \"P\u00e5 vestsiden av Jel\u00f8ya, utenfor Moss. (Oslofjorden).\", position: { lat: 59.441388, lng: 10.579491 }, time: \"15-05-2016\", type: \"Teine\", userId: \"\" }, { amount: \"1 teine med 110 mtr iletau\", comment: \"\", created: \"Tue May 17 2016 00:00:00 (W. Europe Standard Time)\", locationDescription: \"P\u00e5 vestsiden av Jel\u00f8ya, utenfor Moss. (Oslofjorden).\", position: { lat: 59.441388, lng: 10.579491 }, time: \"15-05-2016\", type: \"Teine\", userId: \"\" }];\r\n\r\narray.forEach(o =&gt; {\r\n    Object.assign(o, { 'position.lat': o.position.lat, 'position.lng': o.position.lng });\r\n    delete o.position;\r\n});\r\n\r\nconsole.log(array);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 1, "creation_date": 1521640656, "post_id": 49408250, "comment_id": 85817833, "body": "you still mutate the original object."}, {"owner": {"reputation": 2707, "user_id": 2417833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a7Rh6.jpg?s=128&g=1", "display_name": "scraaappy", "link": "https://stackoverflow.com/users/2417833/scraaappy"}, "reply_to_user": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1521641424, "post_id": 49408250, "comment_id": 85818463, "body": "you&#39;re right to mention that! (however that&#39;s what the op wants. But no needs for a new declaration, you&#39;re right)"}, {"owner": {"reputation": 2707, "user_id": 2417833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a7Rh6.jpg?s=128&g=1", "display_name": "scraaappy", "link": "https://stackoverflow.com/users/2417833/scraaappy"}, "reply_to_user": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1521642790, "post_id": 49408250, "comment_id": 85819573, "body": "By the way, I often read your answers (and learn a lot from them), so why iterations today vs map?"}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1521642912, "post_id": 49408250, "comment_id": 85819684, "body": "was it a question to me? if so, i wrote, that map does not work because of the switched array. the outer array reflects the result&#39;s inner array and vice versa. given 15 x 4 wanted 4 x 15."}, {"owner": {"reputation": 2707, "user_id": 2417833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a7Rh6.jpg?s=128&g=1", "display_name": "scraaappy", "link": "https://stackoverflow.com/users/2417833/scraaappy"}, "reply_to_user": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1521643066, "post_id": 49408250, "comment_id": 85819823, "body": "Yes. Thanks for your time."}], "tags": [], "owner": {"reputation": 2707, "user_id": 2417833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a7Rh6.jpg?s=128&g=1", "display_name": "scraaappy", "link": "https://stackoverflow.com/users/2417833/scraaappy"}, "is_accepted": false, "score": 0, "last_activity_date": 1521641199, "last_edit_date": 1521641199, "creation_date": 1521640482, "answer_id": 49408250, "question_id": 49407525, "link": "https://stackoverflow.com/questions/49407525/how-to-flatten-properties-inside-json-array-in-javascript/49408250#49408250", "title": "How to flatten properties inside json array in javascript?", "body": "<p>or using Array.map()</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arr = [\r\n{\r\n  amount:\"1 teine med 110 mtr iletau\",\r\n  comment:\"\",\r\n  created:\"Tue May 17 2016 00:00:00 (W. Europe Standard Time)\",\r\n  locationDescription:\"P\u00e5 vestsiden av Jel\u00f8ya, utenfor Moss. (Oslofjorden).\",\r\n  position:{lat: 59.441388, lng: 10.579491},\r\n  time:\"15-05-2016\",\r\n  type:\"Teine\",\r\n  userId:\"\"\r\n},\r\n{\r\n  amount:\"1 teine med 110 mtr iletau\",\r\n  comment:\"\",\r\n  created:\"Tue May 17 2016 00:00:00 (W. Europe Standard Time)\",\r\n  locationDescription:\"P\u00e5 vestsiden av Jel\u00f8ya, utenfor Moss.(Oslofjorden).\",\r\n  position:{lat: 59.441388, lng: 10.579491},\r\n  time:\"15-05-2016\",\r\n  type:\"Teine\",\r\n  userId:\"\"\r\n}\r\n];\r\n\r\n\r\nconst flattenPositions = o =&gt; {\r\n  o[\"position.lng\"] = o.position.lng;\r\n  o[\"position.lat\"] =  o.position.lat;\r\n  delete o.position;\r\n  return o;\r\n };\r\n\r\narr = arr.map(el=&gt;flattenPositions(el));\r\n\r\n\r\nconsole.log(arr);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 3839, "user_id": 275491, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Gd1Wr.jpg?s=128&g=1", "display_name": "majgis", "link": "https://stackoverflow.com/users/275491/majgis"}, "is_accepted": false, "score": 1, "last_activity_date": 1521641266, "creation_date": 1521641266, "answer_id": 49408568, "question_id": 49407525, "link": "https://stackoverflow.com/questions/49407525/how-to-flatten-properties-inside-json-array-in-javascript/49408568#49408568", "title": "How to flatten properties inside json array in javascript?", "body": "<p>For a flexible solution, you can use <a href=\"https://en.wikipedia.org/wiki/Recursion_(computer_science)\" rel=\"nofollow noreferrer\">recursion</a>.  Notice that the function calls itself to traverse the object:</p>\n\n<pre><code>$ cat test.js &amp;&amp; echo \"\\n-------\\n\" &amp;&amp; node test.js\nconst subject = {a:1, b:2, c:{d:3, e:{f:4, g:5}}};\n\nfunction flatten (obj){\n  const result = {};\n  Object.keys(obj).forEach(key =&gt; {\n    const value = obj[key];\n    if (typeof value === 'object') {\n      const flattened = flatten(value);\n      Object.keys(flattened).forEach( subKey =&gt; {\n         result[`${key}.${subKey}`] = flattened[subKey]\n      })\n    } else {\n      result[key] = value\n    }\n  });\n  return result;\n}\n\nconsole.log(JSON.stringify(flatten(subject), null, 2));\n\n-------\n\n{\n  \"a\": 1,\n  \"b\": 2,\n  \"c.d\": 3,\n  \"c.e.f\": 4,\n  \"c.e.g\": 5\n}\n</code></pre>\n"}], "owner": {"reputation": 381, "user_id": 7572953, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d007bc1359ffae4a2a0a879c18ac3307?s=128&d=identicon&r=PG&f=1", "display_name": "Shikha", "link": "https://stackoverflow.com/users/7572953/shikha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1084, "favorite_count": 1, "closed_date": 1521728065, "answer_count": 3, "score": -3, "last_activity_date": 1521641266, "creation_date": 1521638633, "question_id": 49407525, "link": "https://stackoverflow.com/questions/49407525/how-to-flatten-properties-inside-json-array-in-javascript", "closed_reason": "Not suitable for this site", "title": "How to flatten properties inside json array in javascript?", "body": "<p>I tried some code to flatten but it flattens the whole json. My requirement is just to flatten only position property.</p>\n\n<p>I have following json array:</p>\n\n<pre><code>[{\namount:\"1 teine med 110 mtr iletau\"\ncomment:\"\"\ncreated:\"Tue May 17 2016 00:00:00 (W. Europe Standard Time)\"\nlocationDescription:\"P\u00e5 vestsiden av Jel\u00f8ya, utenfor Moss. (Oslofjorden).\"\nposition:{lat: 59.441388, lng: 10.579491}\ntime:\"15-05-2016\"\ntype:\"Teine\"\nuserId:\"\"\n},\n{\namount:\"1 teine med 110 mtr iletau\"\ncomment:\"\"\ncreated:\"Tue May 17 2016 00:00:00 (W. Europe Standard Time)\"\nlocationDescription:\"P\u00e5 vestsiden av Jel\u00f8ya, utenfor Moss. (Oslofjorden).\"\nposition:{lat: 59.441388, lng: 10.579491}\ntime:\"15-05-2016\"\ntype:\"Teine\"\nuserId:\"\"\n}]\n</code></pre>\n\n<p>I want output like:</p>\n\n<pre><code>[{\namount:\"1 teine med 110 mtr iletau\"\ncomment:\"\"\ncreated:\"Tue May 17 2016 00:00:00 (W. Europe Standard Time)\"\nlocationDescription:\"P\u00e5 vestsiden av Jel\u00f8ya, utenfor Moss. (Oslofjorden).\"\nposition.lat:59.441388, \nposition.lng: 10.579491,\ntime:\"15-05-2016\"\ntype:\"Teine\"\nuserId:\"\"\n},\n{\namount:\"1 teine med 110 mtr iletau\"\ncomment:\"\"\ncreated:\"Tue May 17 2016 00:00:00 (W. Europe Standard Time)\"\nlocationDescription:\"P\u00e5 vestsiden av Jel\u00f8ya, utenfor Moss. (Oslofjorden).\"\nposition.lat: 59.441388, \nposition.lng: 10.579491,\ntime:\"15-05-2016\"\ntype:\"Teine\"\nuserId:\"\"\n}]\n</code></pre>\n\n<p>Can someone suggests me how to achieve the above output in javascript ? </p>\n"}, {"tags": ["angular", "typescript", "karma-jasmine"], "comments": [{"owner": {"reputation": 710, "user_id": 7763714, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-A0QHY1dhxrk/AAAAAAAAAAI/AAAAAAAACIE/-cjaoyOfWWc/photo.jpg?sz=128", "display_name": "Niveditha Karmegam", "link": "https://stackoverflow.com/users/7763714/niveditha-karmegam"}, "edited": false, "score": 0, "creation_date": 1563942594, "post_id": 49406639, "comment_id": 100862661, "body": "Can you mention how to tested the global variable?"}, {"owner": {"reputation": 5898, "user_id": 5974595, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Jn7MxQ5ro9M/AAAAAAAAAAI/AAAAAAAAAMg/QfRm8C6qdPM/photo.jpg?sz=128", "display_name": "Shailesh Ladumor", "link": "https://stackoverflow.com/users/5974595/shailesh-ladumor"}, "reply_to_user": {"reputation": 710, "user_id": 7763714, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-A0QHY1dhxrk/AAAAAAAAAAI/AAAAAAAACIE/-cjaoyOfWWc/photo.jpg?sz=128", "display_name": "Niveditha Karmegam", "link": "https://stackoverflow.com/users/7763714/niveditha-karmegam"}, "edited": false, "score": 0, "creation_date": 1564032600, "post_id": 49406639, "comment_id": 100898429, "body": "as per below answer. I can&#39;t test it."}], "answers": [{"comments": [{"owner": {"reputation": 889, "user_id": 396842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d7fb2a5767143c218cfc32209a1af3cb?s=128&d=identicon&r=PG", "display_name": "Jessy", "link": "https://stackoverflow.com/users/396842/jessy"}, "edited": false, "score": 0, "creation_date": 1548098227, "post_id": 49406947, "comment_id": 95413285, "body": "How would we ever test template driven forms then ? if we&#39;re unable to grab values out such as the form itself to test validation, etc.."}, {"owner": {"reputation": 15663, "user_id": 2564847, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1441871406/picture?type=large", "display_name": "Robin Dijkhof", "link": "https://stackoverflow.com/users/2564847/robin-dijkhof"}, "edited": false, "score": 0, "creation_date": 1548098866, "post_id": 49406947, "comment_id": 95413507, "body": "Test your validator methods, put some values in the form and check if the form is valid, etc. If you really think you need to test a local variable of a method, your method is probably too complex."}, {"owner": {"reputation": 889, "user_id": 396842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d7fb2a5767143c218cfc32209a1af3cb?s=128&d=identicon&r=PG", "display_name": "Jessy", "link": "https://stackoverflow.com/users/396842/jessy"}, "edited": false, "score": 0, "creation_date": 1548100855, "post_id": 49406947, "comment_id": 95414330, "body": "I have found a way of getting the component instance. <a href=\"https://angular.io/guide/testing#debugelement-1\" rel=\"nofollow noreferrer\">angular.io/guide/testing#debugelement-1</a> which at explains at the bottom, you can local your local variables via the references.  My usecase is that i have a bunch of custom form controls and I&#39;m using template driven forms instead of the form builder. Now I want to be able to test without modifying my component class, and I feel like I should be able to accomplish this via getting references to what angular hooks up automatically and not using @ViewChild to appease the tests :).  All this means less code and simple tests."}], "tags": [], "owner": {"reputation": 15663, "user_id": 2564847, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1441871406/picture?type=large", "display_name": "Robin Dijkhof", "link": "https://stackoverflow.com/users/2564847/robin-dijkhof"}, "is_accepted": true, "score": 4, "last_activity_date": 1521637025, "creation_date": 1521637025, "answer_id": 49406947, "question_id": 49406639, "link": "https://stackoverflow.com/questions/49406639/how-i-can-test-local-variable-in-angular-2-with-karma-jasmine/49406947#49406947", "title": "How i can test local variable in Angular 2 with karma + jasmine?", "body": "<p>You can't test it because it is gone after the call. However, you can test if that other fucntion has been called.</p>\n\n<pre><code>describe(\"Person toString() Test\", function() {\n  it(\"calls the getName() function\", function() {\n    var testPerson = new Person();\n    spyOn(testPerson, \"getName\");\n    testPerson.toString();\n    expect(testPerson.getName).toHaveBeenCalled();\n  });\n});\n</code></pre>\n"}], "owner": {"reputation": 5898, "user_id": 5974595, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Jn7MxQ5ro9M/AAAAAAAAAAI/AAAAAAAAAMg/QfRm8C6qdPM/photo.jpg?sz=128", "display_name": "Shailesh Ladumor", "link": "https://stackoverflow.com/users/5974595/shailesh-ladumor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5108, "favorite_count": 0, "accepted_answer_id": 49406947, "answer_count": 1, "score": 3, "last_activity_date": 1552070861, "creation_date": 1521636143, "last_edit_date": 1552070861, "question_id": 49406639, "link": "https://stackoverflow.com/questions/49406639/how-i-can-test-local-variable-in-angular-2-with-karma-jasmine", "title": "How i can test local variable in Angular 2 with karma + jasmine?", "body": "<p>I am trying to write a unit test with jasmine. The issue I am facing is how to test a local variable using jasmine. I was able to test a global variable but not a local variable.</p>\n\n<p>Here is my function:</p>\n\n<pre><code>checkDayIsOpen(): void {\n  let isSpecial = false;\n     this.items.forEach((item) =&gt; {\n         if (item.is_open) {\n             isSpecial = true;\n         }\n      });\n   if(isSpeciality){\n       call another function here...\n     }\n}\n</code></pre>\n\n<p>I want to test the value of <code>isSpecial</code>.</p>\n"}, {"tags": ["javascript", "typescript", "charts", "google-visualization"], "answers": [{"comments": [{"owner": {"reputation": 53495, "user_id": 5090771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2EOZG.png?s=128&g=1", "display_name": "WhiteHat", "link": "https://stackoverflow.com/users/5090771/whitehat"}, "edited": false, "score": 0, "creation_date": 1521638865, "post_id": 49407605, "comment_id": 85816334, "body": "hope this helps -- note: <i>erikflowers.github.io/weather-icons</i> is blocked from my current location..."}], "tags": [], "owner": {"reputation": 53495, "user_id": 5090771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2EOZG.png?s=128&g=1", "display_name": "WhiteHat", "link": "https://stackoverflow.com/users/5090771/whitehat"}, "is_accepted": true, "score": 1, "last_activity_date": 1521638825, "creation_date": 1521638825, "answer_id": 49407605, "question_id": 49406268, "link": "https://stackoverflow.com/questions/49406268/html-in-ticks-google-charts-column/49407605#49407605", "title": "HTML in ticks - Google Charts - Column", "body": "<p>since the chart is built using SVG,<br>\nHTML is not supported when included in chart elements<br>\n(other than tooltips)  </p>\n\n<p>however, the chart provides methods that can be used to position HTML overlays  </p>\n\n<p>on the chart's <code>'ready'</code> event, you can use chart method --> <code>getChartLayoutInterface()</code>  </p>\n\n<p>the interface has a method --> <code>getBoundingBox()</code><br>\nprovide the id of a chart element, and it will return the coordinates  </p>\n\n<p>to get the position of the first x-axis label...  </p>\n\n<pre><code>var chartLayout = chart.getChartLayoutInterface();\nvar labelBounds = chartLayout.getBoundingBox('hAxis#0#label#0');\n</code></pre>\n\n<p>use these coordinates to position your HTML overlay  </p>\n\n<p>see following working snippet,<br>\nan image is added just after each x-axis label...  </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>google.charts.load('current', {\r\n  packages: ['corechart']\r\n}).then(function () {\r\n  var data = new google.visualization.DataTable();\r\n  data.addColumn('timeofday', 'Hour');\r\n  data.addColumn('number', 'Visits');\r\n  data.addRows([\r\n    [[0, 0, 0, 0], 10],\r\n    [[0, 1, 0, 0], 11],\r\n    [[0, 2, 0, 0], 12],\r\n    [[0, 3, 0, 0], 13],\r\n    [[0, 4, 0, 0], 14],\r\n    [[0, 5, 0, 0], 15],\r\n    [[0, 6, 0, 0], 16],\r\n    [[0, 7, 0, 0], 17],\r\n    [[0, 8, 0, 0], 18],\r\n    [[0, 9, 0, 0], 19],\r\n    [[0, 10, 0, 0], 20],\r\n    [[0, 11, 0, 0], 21],\r\n    [[0, 12, 0, 0], 22],\r\n    [[0, 13, 0, 0], 23]\r\n  ]);\r\n\r\n  // build chart ticks\r\n  var xAxisTicks = [];\r\n  for (var i = 0; i &lt; data.getNumberOfRows(); i++) {\r\n    xAxisTicks.push({\r\n      v: data.getValue(i, 0),\r\n      f: data.getFormattedValue(i, 0)\r\n    });\r\n  }\r\n\r\n  var options = {\r\n    chartArea: {\r\n      height: '100%',\r\n      width: '100%',\r\n      top: 60,\r\n      left: 60,\r\n      right: 60,\r\n      bottom: 60\r\n    },\r\n    hAxis: {\r\n      ticks: xAxisTicks\r\n    },\r\n    height: '100%',\r\n    legend: {\r\n      position: 'top'\r\n    },\r\n    width: '100%'\r\n  };\r\n\r\n  var container = document.getElementById('chart_div');\r\n  var chart = new google.visualization.LineChart(container);\r\n\r\n  var tickIcons = [];\r\n  google.visualization.events.addListener(chart, 'ready', function () {\r\n    // remove old ticks\r\n    var index = tickIcons.length;\r\n    while (index--) {\r\n      container.removeChild(tickIcons[index]);\r\n      tickIcons.pop();\r\n    }\r\n\r\n    // add ticks\r\n    var chartLayout = chart.getChartLayoutInterface();\r\n    var labelPadding = 2;\r\n    xAxisTicks.forEach(function (tick, index) {\r\n      var labelBounds = chartLayout.getBoundingBox('hAxis#0#label#' + index);\r\n      var tickIcon = document.createElement('IMG');\r\n      tickIcon.className = 'tickIcon';\r\n      tickIcon.src = 'http://findicons.com/files/icons/512/star_wars/16/clone_old.png';\r\n      tickIcon.style.left = (labelBounds.left + labelBounds.width + labelPadding) + 'px';\r\n      tickIcon.style.top = labelBounds.top + 'px';\r\n      tickIcons.push(container.appendChild(tickIcon));\r\n    });\r\n  });\r\n\r\n  drawChart();\r\n  window.addEventListener('resize', drawChart, false);\r\n  function drawChart() {\r\n    chart.draw(data, options);\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>html, body {\r\n  height: 100%;\r\n  margin: 0px 0px 0px 0px;\r\n  overflow: hidden;\r\n  padding: 0px 0px 0px 0px;\r\n}\r\n\r\n.chart {\r\n  height: 100%;\r\n}\r\n\r\n.tickIcon {\r\n  position: absolute;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://www.gstatic.com/charts/loader.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"chart\" id=\"chart_div\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1381, "user_id": 1136734, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/a821597379bceb3e6bc90e768ecd8b71?s=128&d=identicon&r=PG", "display_name": "dave", "link": "https://stackoverflow.com/users/1136734/dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 49407605, "answer_count": 1, "score": 1, "last_activity_date": 1521642484, "creation_date": 1521634967, "last_edit_date": 1521642484, "question_id": 49406268, "link": "https://stackoverflow.com/questions/49406268/html-in-ticks-google-charts-column", "title": "HTML in ticks - Google Charts - Column", "body": "<p>Has anyone figured out how to use html in a tick in a google chart? I am trying to add a weather icon from <a href=\"http://erikflowers.github.io/weather-icons\" rel=\"nofollow noreferrer\">http://erikflowers.github.io/weather-icons</a></p>\n\n<p>This is what I have tried:</p>\n\n<pre><code>const dailyData = new google.visualization.DataTable();\n        dailyData.addColumn('timeofday', 'Hour');\n        dailyData.addColumn('number', 'Visits');\n\n        let mTicks = [];\n\n        for(let i: number = 8; i &lt;22; i++) {\n\n            let timeofday: any = [parseFloat(parsedData[0].data[i].name[1]),0,0];\n\n            let weatherIcon = '-';\n\n            if(parsedData[0].data[i].weather_code &gt; 0) {\n\n                let weather = new WeatherFunctions(parsedData[0].data[i].weather_code).getResult();\n\n                weatherIcon = weather.icon;\n            }\n\n            let fullString: string = `${i}:00 &lt;br/&gt; ${weatherIcon}`;\n\n            dailyData.addRow([timeofday, parsedData[0].data[i].visits]);\n            mTicks.push({v: timeofday, f: fullString});\n        }\n\n\n        const options: any = {\n            allowHTML: true,\n            legend: {\n                position: 'none'\n            },\n\n            hAxis: {\n                ticks:mTicks\n                ,\n                title: 'Time - Weather - Temperature'\n            }\n        };\n</code></pre>\n\n<p>where full string = <code>\"8:00 &lt;i class=\"wi wi-day-sunny-overcast\"&gt;&lt;/i&gt;\"</code>.</p>\n\n<p>However any html in the string means that the ticks do not display.</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "angular5"], "comments": [{"owner": {"reputation": 8065, "user_id": 4102561, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/r7671.jpg?s=128&g=1", "display_name": "Supamiu", "link": "https://stackoverflow.com/users/4102561/supamiu"}, "edited": false, "score": 1, "creation_date": 1521635177, "post_id": 49406079, "comment_id": 85813558, "body": "Changing <code>{{p[i][i2][name]</code> for <code>{{p[i][i2].name}}</code> should make this work I think."}], "answers": [{"tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": false, "score": 0, "last_activity_date": 1521635292, "creation_date": 1521635292, "answer_id": 49406363, "question_id": 49406079, "link": "https://stackoverflow.com/questions/49406079/how-to-show-values-from-json-without-show-parent-with-angular-5-and-ionic3/49406363#49406363", "title": "how to show values from JSON without show parent with angular 5 and IONIC3?", "body": "<p><code>ngFor</code> can't iterate over your structure. You must flatten it first.</p>\n\n<p>Assuming the array is called <code>arr</code>:</p>\n\n<pre><code>const newArr = [...arr[0].companies, ...arr[1].centers];\n</code></pre>\n\n<p>Now <code>newArr</code> contains the five objects you want and you can use <code>ngFor</code> over it.</p>\n"}], "owner": {"reputation": 23, "user_id": 6523829, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a9493d5a29c39bd5b736d493c50c29c2?s=128&d=identicon&r=PG&f=1", "display_name": "JossephBot", "link": "https://stackoverflow.com/users/6523829/jossephbot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521635292, "creation_date": 1521634374, "question_id": 49406079, "link": "https://stackoverflow.com/questions/49406079/how-to-show-values-from-json-without-show-parent-with-angular-5-and-ionic3", "title": "how to show values from JSON without show parent with angular 5 and IONIC3?", "body": "<p>I am triying to print value from Json without parent. </p>\n\n<p>I have this JSON: </p>\n\n<pre><code>[\n    {\n      \"companies\": [{\n        \"id\": 1,\n        \"name\": \"Prueba\",\n        \"company_number\": \"23423423A\",\n        \"latitude\": 241241.12,\n        \"longitude\": 213213.12,\n        \"country\": \"ES\"\n      },\n        {\n          \"id\": 2,\n          \"name\": \"Prueba2\",\n          \"company_number\": \"23423423A\",\n          \"latitude\": 241241.12,\n          \"longitude\": 213213.12,\n          \"country\": \"US\"\n        },\n        {\n          \"id\": 3,\n          \"name\": \"Prueba3\",\n          \"company_number\": \"23423423AB\",\n          \"latitude\": 241241.19,\n          \"longitude\": 213213.20,\n          \"country\": \"US\"\n        }\n      ]\n    },\n    {\n      \"centers\":[\n        {\n          \"id\": 1,\n          \"name\": \"Prueba4\",\n          \"center_number\": \"23423423A\",\n          \"latitude\": 241241.12,\n          \"longitude\": 213213.12,\n          \"country\": \"ES\"\n        },\n        {\n          \"id\": 2,\n          \"name\": \"Prueba5\",\n          \"center_number\": \"23423423A\",\n          \"latitude\": 241241.12,\n          \"longitude\": 213213.12,\n          \"country\": \"US\"\n        }\n      ]\n    }\n  ]\n</code></pre>\n\n<p>I've write this with angular in my ionic project: </p>\n\n<pre><code> &lt;ion-list&gt;\n&lt;ion-item *ngFor=\"let p of profiles; let i=index\"&gt;\n&lt;p&gt;{{i}}&lt;/p&gt; &lt;!-- this works fine--&gt;\n  &lt;ion-list&gt;\n    &lt;ion-item *ngFor=\"let s of p[i]; let i2=index\"&gt;\n      &lt;p&gt;{{p[i][i2][name]&lt;/p&gt;\n    &lt;/ion-item&gt;\n  &lt;/ion-list&gt;\n&lt;/ion-item&gt;\n</code></pre>\n\n<p></p>\n\n<p>I want to achieve this : </p>\n\n<ul>\n<li>Prueba </li>\n<li>Prueba2</li>\n<li>Prueba3</li>\n<li>Prueba4</li>\n<li>Prueba5</li>\n</ul>\n\n<p>Can I achieve this direct in front or should I process that before?</p>\n\n<p>Thank you in advance</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 1931, "user_id": 3445926, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/075p2.jpg?s=128&g=1", "display_name": "FisNaN", "link": "https://stackoverflow.com/users/3445926/fisnan"}, "is_accepted": false, "score": 0, "last_activity_date": 1521634420, "creation_date": 1521634420, "answer_id": 49406096, "question_id": 49405817, "link": "https://stackoverflow.com/questions/49405817/namespace-has-no-exported-member/49406096#49406096", "title": "Namespace has no exported member", "body": "<p>The <code>Qux</code> in your implementation is a variable rather than a type.<br>\nTherefore, the code below is valid:</p>\n\n<pre><code>class Foo {}\n\nnamespace Bar {\n    export const Qux = Foo;\n}\n\nlet a = Bar.Qux;\n</code></pre>\n\n<p>If you like to use <code>Qux</code> as an <code>interface</code> or extended <code>class</code>, you can do:</p>\n\n<pre><code>class Foo {}\n\nnamespace Bar {\n    export class Qux extends Foo {}\n}\n\nlet a = new Bar.Qux();\n</code></pre>\n\n<p>Does this solve your problem?</p>\n"}, {"tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": true, "score": 3, "last_activity_date": 1521634667, "creation_date": 1521634667, "answer_id": 49406187, "question_id": 49405817, "link": "https://stackoverflow.com/questions/49405817/namespace-has-no-exported-member/49406187#49406187", "title": "Namespace has no exported member", "body": "<p>You are exporting a constant, not a type. You can do this <code>let a = new Bar.Foo()</code>, and <code>a</code> will be of type Foo.</p>\n\n<p>If you want to export both a type and a constant:</p>\n\n<pre><code>namespace Bar\n{\n    export const Qux = Foo;\n    export type Qux = Foo;\n}\n</code></pre>\n\n<p>Then you can have:</p>\n\n<pre><code>let a: Bar.Qux = new Bar.Qux();\n</code></pre>\n\n<p>TypeScript will determine, based on context, if you are using the type definition or the constant.</p>\n"}], "owner": {"reputation": 7059, "user_id": 1137334, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9b2a13764b560b46cc04e2e0e29940a4?s=128&d=identicon&r=PG", "display_name": "m93a", "link": "https://stackoverflow.com/users/1137334/m93a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7645, "favorite_count": 0, "accepted_answer_id": 49406187, "answer_count": 2, "score": 5, "last_activity_date": 1521634667, "creation_date": 1521633592, "question_id": 49405817, "link": "https://stackoverflow.com/questions/49405817/namespace-has-no-exported-member", "title": "Namespace has no exported member", "body": "<p>When I write this in TypeScript, I get an error saying <code>Namespace Bar has no exported member Qux</code>. Why is that and how do I fix it?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class Foo {}\n\nnamespace Bar\n{\n    export const Qux = Foo;\n}\n\nlet a: Bar.Qux;\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "express", "express-session"], "comments": [{"owner": {"reputation": 337, "user_id": 2361959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kAwqq.jpg?s=128&g=1", "display_name": "Ryan Ouyang", "link": "https://stackoverflow.com/users/2361959/ryan-ouyang"}, "edited": false, "score": 0, "creation_date": 1521713717, "post_id": 49405765, "comment_id": 85852706, "body": "why not paste here the compiler error details?"}, {"owner": {"reputation": 1756, "user_id": 362432, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/e9a4cd88bddda561d4036fa60f33a1b0?s=128&d=identicon&r=PG", "display_name": "Kempeth", "link": "https://stackoverflow.com/users/362432/kempeth"}, "reply_to_user": {"reputation": 337, "user_id": 2361959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kAwqq.jpg?s=128&g=1", "display_name": "Ryan Ouyang", "link": "https://stackoverflow.com/users/2361959/ryan-ouyang"}, "edited": false, "score": 0, "creation_date": 1521714409, "post_id": 49405765, "comment_id": 85853254, "body": "@RyanOuyang The compiler literally does not say more than: property &#39;session&#39; does not exist on type &#39;Request&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 1756, "user_id": 362432, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/e9a4cd88bddda561d4036fa60f33a1b0?s=128&d=identicon&r=PG", "display_name": "Kempeth", "link": "https://stackoverflow.com/users/362432/kempeth"}, "edited": false, "score": 0, "creation_date": 1521714827, "post_id": 49411770, "comment_id": 85853582, "body": "I&#39;ve tried your updated code but the error persists. I&#39;ve also removed the line <code>store: ...</code> but that didn&#39;t change anything either..."}], "tags": [], "owner": {"reputation": 337, "user_id": 2361959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kAwqq.jpg?s=128&g=1", "display_name": "Ryan Ouyang", "link": "https://stackoverflow.com/users/2361959/ryan-ouyang"}, "is_accepted": false, "score": 1, "last_activity_date": 1521713645, "last_edit_date": 1521713645, "creation_date": 1521649774, "answer_id": 49411770, "question_id": 49405765, "link": "https://stackoverflow.com/questions/49405765/cannot-use-express-session-in-separate-route-handler/49411770#49411770", "title": "Cannot use express-session in separate route handler", "body": "<p>In your <code>app.ts</code> replace these lines of code</p>\n\n<pre><code>app.use('/register', session, register);\napp.use('/login', session, login);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>app.use('/register', register);\napp.use('/login', login);\n</code></pre>\n\n<hr>\n\n<p><strong>updated:</strong>\ntry update your code of setup session store by this example </p>\n\n<pre><code>var session = require('express-session');\nvar FileStore = require('session-file-store')(session);\n\napp.use(session({\n    store: new FileStore(options),\n    ...\n}));\n</code></pre>\n\n<p>if still not work, <code>express-session</code> has a default session store, use the default session store and check if there still a compiler error.</p>\n"}, {"tags": [], "owner": {"reputation": 1756, "user_id": 362432, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/e9a4cd88bddda561d4036fa60f33a1b0?s=128&d=identicon&r=PG", "display_name": "Kempeth", "link": "https://stackoverflow.com/users/362432/kempeth"}, "is_accepted": true, "score": 0, "last_activity_date": 1521715962, "creation_date": 1521715962, "answer_id": 49426803, "question_id": 49405765, "link": "https://stackoverflow.com/questions/49405765/cannot-use-express-session-in-separate-route-handler/49426803#49426803", "title": "Cannot use express-session in separate route handler", "body": "<p>On a hunch I tried to create the same project without TypeScript and it worked. Once I knew that TS was the culprit it was quite straight forward to find that I had to import an additional node package: <code>@types/express-session</code></p>\n"}], "owner": {"reputation": 1756, "user_id": 362432, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/e9a4cd88bddda561d4036fa60f33a1b0?s=128&d=identicon&r=PG", "display_name": "Kempeth", "link": "https://stackoverflow.com/users/362432/kempeth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1254, "favorite_count": 0, "accepted_answer_id": 49426803, "answer_count": 2, "score": 1, "last_activity_date": 1521716019, "creation_date": 1521633475, "last_edit_date": 1521716019, "question_id": 49405765, "link": "https://stackoverflow.com/questions/49405765/cannot-use-express-session-in-separate-route-handler", "title": "Cannot use express-session in separate route handler", "body": "<p>I'm trying to use the express session middleware in a separate route handler but the compiler complains that the property 'session' does not exist on type 'Request'.</p>\n\n<p>app.ts</p>\n\n<pre><code>import debug = require('debug');\nimport express = require('express');\nimport path = require('path');\nimport db = require('diskdb');\nimport bodyParser = require('body-parser');\nimport session = require('express-session');\nimport fileStore = require('session-file-store');\n\n\nimport routes from './routes/index/index';\nimport users from './routes/user';\nimport register from './routes/users/register';\nimport login from './routes/users/login';\n\nvar app = express();\n\n//Setup sesssion middleware\nvar sessionFileStore = fileStore(session);\napp.use(session({\n    name: 'server-session-cookie-id',\n    secret: 'my express secret',\n    saveUninitialized: true,\n    resave: true,\n    store: new sessionFileStore()\n}));\n\n//Here we are configuring express to use body-parser as middle-ware.\napp.use(bodyParser.urlencoded({ extended: false }));\napp.use(bodyParser.json());\n\n// view engine setup\napp.set('views', path.join(__dirname, 'views'));\napp.set('view engine', 'pug');\n\napp.use(express.static(path.join(__dirname, 'public')));\n\napp.use('/', routes);\napp.use('/users', users);\napp.use('/register', session, register);\napp.use('/login', session, login);\n\n// catch 404 and forward to error handler\napp.use(function (req, res, next) {\n    var err = new Error('Not Found');\n    err['status'] = 404;\n    next(err);\n});\n\n// error handlers\n\n// development error handler\n// will print stacktrace\nif (app.get('env') === 'development') {\n    app.use((err: any, req, res, next) =&gt; {\n        res.status(err['status'] || 500);\n        res.render('error', {\n            message: err.message,\n            error: err\n        });\n    });\n}\n\n// production error handler\n// no stacktraces leaked to user\napp.use((err: any, req, res, next) =&gt; {\n    res.status(err.status || 500);\n    res.render('error', {\n        message: err.message,\n        error: {}\n    });\n});\n\napp.set('port', process.env.PORT || 3000);\n\nvar server = app.listen(app.get('port'), function () {\n    debug('Express server listening on port ' + server.address().port);\n});\n</code></pre>\n\n<p><strong>login.ts</strong></p>\n\n<pre><code>import express = require('express');\nimport path = require('path');\nimport bcrypt = require('bcrypt');\n\nconst router = express.Router();\n\nrouter.get('/', (req: express.Request, res: express.Response) =&gt; {\n    res.render(path.join(__dirname, 'login'), { message: 'display login form', username: '' });\n});\n\nrouter.post('/', (req: express.Request, res: express.Response) =&gt; {\n    var un = req.body.username;\n    var pw = req.body.password;\n\n    var db = require('diskdb');\n    db = db.connect('db', ['users']);\n\n    var existing = db.users.findOne({ username: un });\n    var all = db.users.find();\n\n    bcrypt.compare(pw, existing != null ? existing.password : '', function (err, hashres) {\n        // res == true\n        if (hashres) {\n            res.render(path.join(__dirname, 'login'), {\n                message: ('handle login form submission for ' + un),\n                username: un,\n                result: \"the username \" + un + \" is now logged in.\",\n                resulttype: \"success\"\n            });\n            req.session.user = un;\n        }\n        else {\n            res.render(path.join(__dirname, 'login'), {\n                message: ('handle login form submission for ' + un),\n                username: un,\n                result: \"the username and password combination is incorrect.\",\n                resulttype: \"error\"\n            });\n        }\n    });\n});\n\nexport default router;\n</code></pre>\n\n<p>All the examples I've found online say that this is supposed to work, though most don't use a separate file for the route hander...</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "angular5"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5635439, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/913e8708937aba1ce422de7796405c0b?s=128&d=identicon&r=PG&f=1", "display_name": "Joel Christ", "link": "https://stackoverflow.com/users/5635439/joel-christ"}, "edited": false, "score": 0, "creation_date": 1521634178, "post_id": 49405838, "comment_id": 85812835, "body": "Hmm, this seems to be what I want. But now the caller of the <code>createShorty</code> method is complaining that <code>_subscribe is not a function</code>."}, {"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "reply_to_user": {"reputation": 21, "user_id": 5635439, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/913e8708937aba1ce422de7796405c0b?s=128&d=identicon&r=PG&f=1", "display_name": "Joel Christ", "link": "https://stackoverflow.com/users/5635439/joel-christ"}, "edited": false, "score": 0, "creation_date": 1521634274, "post_id": 49405838, "comment_id": 85812904, "body": "Are you sure <code>this.errorHandler.transform(err)</code> returns an Observable?"}, {"owner": {"reputation": 21, "user_id": 5635439, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/913e8708937aba1ce422de7796405c0b?s=128&d=identicon&r=PG&f=1", "display_name": "Joel Christ", "link": "https://stackoverflow.com/users/5635439/joel-christ"}, "edited": false, "score": 0, "creation_date": 1521634938, "post_id": 49405838, "comment_id": 85813382, "body": "Aha, the thing was: I was returning an observable by doing <code>Observable.create(newError)</code>. Changed that to <code>Observable.of(newError)</code> and it worked. Thanks a bunch!"}], "tags": [], "owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "is_accepted": false, "score": 2, "last_activity_date": 1521633624, "creation_date": 1521633624, "answer_id": 49405838, "question_id": 49405689, "link": "https://stackoverflow.com/questions/49405689/intercepting-observable-throw-using-catch-while-doing-async-operations-inside-t/49405838#49405838", "title": "Intercepting Observable.throw using .catch while doing async operations inside the .catch", "body": "<p>If you just want to transform the error to another object you can't do it inside <code>subscribe</code> because you want the new error to be passed down the chain.</p>\n\n<p>Instead inside <code>catch</code> run <code>this.errorHandler.transform</code> and turn its result into an <code>error</code> notification:</p>\n\n<pre><code>return this.http.post&lt;Shorty&gt;(url, shorty)\n  .catch(err =&gt; this.errorHandler.transform(err) // I'm assuming this returns an Observable\n    .map(newError =&gt; {\n      throw newError; // Rethrow the error so it'll be passed down as an `error` notification.\n    })\n  );\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5635439, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/913e8708937aba1ce422de7796405c0b?s=128&d=identicon&r=PG&f=1", "display_name": "Joel Christ", "link": "https://stackoverflow.com/users/5635439/joel-christ"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1521633644, "creation_date": 1521633259, "last_edit_date": 1521633644, "question_id": 49405689, "link": "https://stackoverflow.com/questions/49405689/intercepting-observable-throw-using-catch-while-doing-async-operations-inside-t", "title": "Intercepting Observable.throw using .catch while doing async operations inside the .catch", "body": "<p>I want to change the error I get from sending a HTTP post request by transforming it into another error. Unfortunately, this operation is asynchronous (it does some translations). I can't seem to get it to rethrow the <code>newError</code> from inside catch callback. Any help?</p>\n\n<p>See example below:</p>\n\n<pre><code>public createShorty(shorty: Shorty): Observable&lt;Shorty&gt; {\n  const shortyEndpoint = environment.shortyEndpoint;\n  const url = `${shortyEndpoint}/shorties`;\n  return this.http.post&lt;Shorty&gt;(url, shorty).catch(err =&gt; {\n    this.errorHandler.transform(err).subscribe(newErr =&gt; {\n      Observable.throw(newErr);\n    });\n  });\n}\n</code></pre>\n"}, {"tags": ["typescript", "rxjs", "observable"], "comments": [{"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1521632705, "post_id": 49405454, "comment_id": 85811811, "body": "So you want to receive each response in the observer immediately when it completes and then start the next http call."}, {"owner": {"reputation": 9156, "user_id": 1384767, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/090e14a4c7cd719dc87e1d757b56e90e?s=128&d=identicon&r=PG", "display_name": "Gerben Rampaart", "link": "https://stackoverflow.com/users/1384767/gerben-rampaart"}, "reply_to_user": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1521632811, "post_id": 49405454, "comment_id": 85811878, "body": "@martin yessir."}], "answers": [{"comments": [{"owner": {"reputation": 9156, "user_id": 1384767, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/090e14a4c7cd719dc87e1d757b56e90e?s=128&d=identicon&r=PG", "display_name": "Gerben Rampaart", "link": "https://stackoverflow.com/users/1384767/gerben-rampaart"}, "edited": false, "score": 0, "creation_date": 1521633124, "post_id": 49405596, "comment_id": 85812101, "body": "I&#39;m trying that out and let you know. Thanks in advance. The &quot;return&quot; was indeed suppose to be in my example."}, {"owner": {"reputation": 9156, "user_id": 1384767, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/090e14a4c7cd719dc87e1d757b56e90e?s=128&d=identicon&r=PG", "display_name": "Gerben Rampaart", "link": "https://stackoverflow.com/users/1384767/gerben-rampaart"}, "edited": false, "score": 0, "creation_date": 1521635829, "post_id": 49405596, "comment_id": 85814030, "body": "Updated my question after trying it out"}, {"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "reply_to_user": {"reputation": 9156, "user_id": 1384767, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/090e14a4c7cd719dc87e1d757b56e90e?s=128&d=identicon&r=PG", "display_name": "Gerben Rampaart", "link": "https://stackoverflow.com/users/1384767/gerben-rampaart"}, "edited": false, "score": 0, "creation_date": 1521636152, "post_id": 49405596, "comment_id": 85814274, "body": "Yeah that&#39;s true, you need to subscribe but it doesn&#39;t matter because the callback to <code>Observable.create</code> is called only after this Observable is subscribed"}], "tags": [], "owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "is_accepted": false, "score": 1, "last_activity_date": 1521633000, "creation_date": 1521633000, "answer_id": 49405596, "question_id": 49405454, "link": "https://stackoverflow.com/questions/49405454/chain-of-observables-emitting-same-observable-when-done/49405596#49405596", "title": "Chain of Observables emitting same Observable when done", "body": "<p>If each HTTP call is independent on the result of the previous call you can just chain them with <code>concatMap</code>:</p>\n\n<pre><code>Observable.create((observer: Observer&lt;InfoMessage&gt;) =&gt; {\n  doRequest(\"http://test1.com\")\n    .do(response =&gt; observer.next(new InfoMessage(\"request1 done\")))\n    .concatMap(() =&gt; doRequest(\"http://test2.com\"))\n    .do(response =&gt; observer.next(new InfoMessage(\"request2\")))\n    .concatMap(() =&gt; doRequest(\"http://test3.com\"))\n    .do(response =&gt; {\n      observer.next(new InfoMessage(\"request3\"));\n      observer.complete();\n    });\n})\n</code></pre>\n\n<p>Just don't forget you need to return <code>Observable.create</code> from your function and subscribe to it.</p>\n"}, {"comments": [{"owner": {"reputation": 9156, "user_id": 1384767, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/090e14a4c7cd719dc87e1d757b56e90e?s=128&d=identicon&r=PG", "display_name": "Gerben Rampaart", "link": "https://stackoverflow.com/users/1384767/gerben-rampaart"}, "edited": false, "score": 0, "creation_date": 1521670609, "post_id": 49412298, "comment_id": 85836678, "body": "I really like how this code looks. Thanks for answering, I&#39;m trying this tomorrow."}, {"owner": {"reputation": 1157, "user_id": 4693209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14b886011ab9adc2882e8fcb621ecc1a?s=128&d=identicon&r=PG", "display_name": "Quentin Fonck", "link": "https://stackoverflow.com/users/4693209/quentin-fonck"}, "reply_to_user": {"reputation": 9156, "user_id": 1384767, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/090e14a4c7cd719dc87e1d757b56e90e?s=128&d=identicon&r=PG", "display_name": "Gerben Rampaart", "link": "https://stackoverflow.com/users/1384767/gerben-rampaart"}, "edited": false, "score": 0, "creation_date": 1521704025, "post_id": 49412298, "comment_id": 85846493, "body": "I wrote the code using the last version of rxjs with the pipeable operators, but I am sure you can figure out how to write it in your current version.  Don&#39;t forget that, in order for the forkJoin operator to emit, all the observables you pass to the forkJoin have to complete (since it is requests, I assume they all complete)."}, {"owner": {"reputation": 9156, "user_id": 1384767, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/090e14a4c7cd719dc87e1d757b56e90e?s=128&d=identicon&r=PG", "display_name": "Gerben Rampaart", "link": "https://stackoverflow.com/users/1384767/gerben-rampaart"}, "edited": false, "score": 0, "creation_date": 1521737078, "post_id": 49412298, "comment_id": 85870095, "body": "Tried it and using it. Thanks."}], "tags": [], "owner": {"reputation": 1157, "user_id": 4693209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14b886011ab9adc2882e8fcb621ecc1a?s=128&d=identicon&r=PG", "display_name": "Quentin Fonck", "link": "https://stackoverflow.com/users/4693209/quentin-fonck"}, "is_accepted": true, "score": 1, "last_activity_date": 1521651290, "creation_date": 1521651290, "answer_id": 49412298, "question_id": 49405454, "link": "https://stackoverflow.com/questions/49405454/chain-of-observables-emitting-same-observable-when-done/49412298#49412298", "title": "Chain of Observables emitting same Observable when done", "body": "<p>Since your <code>doRequest()</code> already return an observable, why don't do you try to combine all your requests and get the responses into a single stream? You could use a forkJoin for that:</p>\n\n<pre><code>doAllRequests() : Observable&lt;InfoMessage&gt; {\n return forkJoin(\n  doRequest(\"http://test1.com\"),\n  doRequest(\"http://test2.com\"),\n  doRequest(\"http://test3.com\")\n ).pipe(\n  mergeMap((responsesArray: any[]) =&gt; from(responsesArray)),\n  map((response: any) =&gt; new InfoMessage(response))\n );\n}\nthis.doAllRequests().subscribe();\n</code></pre>\n"}], "owner": {"reputation": 9156, "user_id": 1384767, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/090e14a4c7cd719dc87e1d757b56e90e?s=128&d=identicon&r=PG", "display_name": "Gerben Rampaart", "link": "https://stackoverflow.com/users/1384767/gerben-rampaart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 49412298, "answer_count": 2, "score": 0, "last_activity_date": 1521736959, "creation_date": 1521632544, "last_edit_date": 1521736959, "question_id": 49405454, "link": "https://stackoverflow.com/questions/49405454/chain-of-observables-emitting-same-observable-when-done", "title": "Chain of Observables emitting same Observable when done", "body": "<p>I'm looking to do this in rxjs:</p>\n\n<ul>\n<li>I have a N number of http calls;</li>\n<li>I want to fire these calls <strong>sequentially</strong>;</li>\n<li>I want to map the result of each call into a Observable stream of InfoMessage;</li>\n</ul>\n\n<p>Non-working pseudo-code:</p>\n\n<pre><code>class InfoMessage {\n  constructor(public message: string) {}\n}\n\ndoAllRequests() : Observable&lt;InfoMessage&gt; {\n    return Observable.create((obs: Observer&lt;InfoMessage&gt;) =&gt; {\n      doRequest(\"http://test1.com\").map((res: RxRequestResponse) =&gt; obs.next(new InfoMessage(\"request1 done\")));\n      doRequest(\"http://test2.com\").map((res: RxRequestResponse) =&gt; obs.next(new InfoMessage(\"request2\")));\n      doRequest(\"http://test3.com\").map((res: RxRequestResponse) =&gt; obs.next(new InfoMessage(\"request3\")));\n      obs.complete();\n    });\n  }\n\ndoRequest(url: string) : Observable&lt;RxRequestResponse&gt; {\n  // use some http client which is wrapped in an Observable of type RxRequestResponse\n}\n\ndoAllRequests().subscribe(next =&gt; console(\"Message: \" + next.message));\n</code></pre>\n\n<p><strong>Update</strong> suggested answer by Martin:\nYour answer seems to work, but only if I subscribe to the first request like so:</p>\n\n<pre><code>Observable.create((observer: Observer&lt;InfoMessage&gt;) =&gt; {\n  doRequest(\"http://test1.com\")\n    .do(response =&gt; observer.next(new InfoMessage(\"request1 done\")))\n    .concatMap(() =&gt; doRequest(\"http://test2.com\"))\n    .do(response =&gt; observer.next(new InfoMessage(\"request2\")))\n    .concatMap(() =&gt; doRequest(\"http://test3.com\"))\n    .do(response =&gt; {\n      observer.next(new InfoMessage(\"request3\"));\n      observer.complete();\n    }).subscribe();\n})\n</code></pre>\n\n<p>And I really like to postpone subscribing and leave that to the caller of the doAllRequests(). Any thoughts?</p>\n\n<p><strong>Update</strong>: suggested answer by Quentin</p>\n\n<p>That solution works and it scales better for huge scripts I am going to run (with numerous requests), in terms of verbosity of code (or rather lack thereof).</p>\n\n<p>Since that is the one I now end up using, I'm changing my accepted answer. But Martin, I do feel guilty about that. I still have an upvote for you ... we good?</p>\n"}, {"tags": ["angular", "typescript", "angular5"], "answers": [{"tags": [], "owner": {"reputation": 6515, "user_id": 3034932, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/d8ZYg.jpg?s=128&g=1", "display_name": "Radonirina Maminiaina", "link": "https://stackoverflow.com/users/3034932/radonirina-maminiaina"}, "is_accepted": true, "score": 0, "last_activity_date": 1521633316, "last_edit_date": 1521633316, "creation_date": 1521633006, "answer_id": 49405597, "question_id": 49405396, "link": "https://stackoverflow.com/questions/49405396/how-to-check-the-response-status-in-component-ts-to-call-another-service-in-angu/49405597#49405597", "title": "how to check the response status in component.ts to call another service in Angular 5", "body": "<p>Try to return Object instead of Array:</p>\n\n<pre><code>return { status: response.status, response: &lt;Response&gt;response.json() }\n</code></pre>\n\n<p>When you access Array item, you have to use index of the item.\nSo in your case, when you want to get the status code, you do this <strong>into subscribe method</strong>:</p>\n\n<pre><code>this.addService.add(_new)\n  .subscribe(\n  resultArray =&gt; {\n    this.Response = resultArray\n    if(resultArray[0].status ===200){\n      this.getList();   \n    }\n  },\n  error =&gt; console.log(\"Error :: \" + error))\n</code></pre>\n\n<p><strong>Note:</strong> Don't forget that subscribe use asynchrone method. You can never access on the response it return outside.</p>\n"}, {"tags": [], "owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "is_accepted": false, "score": 0, "last_activity_date": 1521633999, "creation_date": 1521633999, "answer_id": 49405948, "question_id": 49405396, "link": "https://stackoverflow.com/questions/49405396/how-to-check-the-response-status-in-component-ts-to-call-another-service-in-angu/49405948#49405948", "title": "how to check the response status in component.ts to call another service in Angular 5", "body": "<p>You're trying to get your status from <code>Response</code> CLASS, not the instance of it. Watch for the uppercase and your <code>typeof Response</code> part of error.</p>\n\n<p>I think <code>if (resultArray[0].status === 200)</code> should work, though I don't understand why you're returning an array, so it could be <code>if (result.status === 200)</code></p>\n"}], "owner": {"reputation": 3, "user_id": 9518293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5789fb65ade78665da63ccd34cf05a89?s=128&d=identicon&r=PG&f=1", "display_name": "DD_Coder", "link": "https://stackoverflow.com/users/9518293/dd-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2205, "favorite_count": 0, "accepted_answer_id": 49405597, "answer_count": 2, "score": 0, "last_activity_date": 1521633999, "creation_date": 1521632372, "question_id": 49405396, "link": "https://stackoverflow.com/questions/49405396/how-to-check-the-response-status-in-component-ts-to-call-another-service-in-angu", "title": "how to check the response status in component.ts to call another service in Angular 5", "body": "<p>I am catching the status code in my service from below code:</p>\n\n<pre><code>add(new: Add): Observable&lt;Response&gt; {\n  return this.http\n   .post(this.addURL, new , httpOptions)\n     .map((response: Response) =&gt; {\n      if (response) {\n       if (response.status === 200) {\n        return [{ status: response.status, response: &lt;Response&gt;response.json() }]\n                }\n            }\n        })\n        .catch(this.handleError);\n}\n</code></pre>\n\n<p>Here is my component.ts code where I want to call the list after successful add</p>\n\n<pre><code>  addDetails(): void {\nvar new = this.form.value.array;\nnew = JSON.stringify(this.form.value.array);\nthis.addService.add(new)\n  .subscribe(\n  resultArray =&gt; this.Response = resultArray,\n  error =&gt; console.log(\"Error :: \" + error),    \n  )\n  if(Response.status ===200){\n    this.getList();   \n  }}\n</code></pre>\n\n<p>but I am getting the below error:\n<strong>Property 'status' does not exist on type 'typeof Response'</strong></p>\n"}, {"tags": ["typescript", "typescript-generics"], "answers": [{"comments": [{"owner": {"reputation": 1476, "user_id": 1372883, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/127986174d1281a23820584baecc0ea8?s=128&d=identicon&r=PG", "display_name": "ed&#39;", "link": "https://stackoverflow.com/users/1372883/ed"}, "edited": false, "score": 0, "creation_date": 1521633933, "post_id": 49405757, "comment_id": 85812671, "body": "This doesn&#39;t really give me what I want. There is no guarantee that the callback function accepts a single parameter and I do not wish to have to specify the <code>&lt;type&gt;</code> every time I call <code>.on()</code>. I want the type inferred from the first parameter passed to <code>.on()</code> and I want the callback information also inferred from that type."}], "tags": [], "owner": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "is_accepted": false, "score": 1, "last_activity_date": 1521633459, "creation_date": 1521633459, "answer_id": 49405757, "question_id": 49405379, "link": "https://stackoverflow.com/questions/49405379/using-typescript-generics-as-index/49405757#49405757", "title": "Using TypeScript generics as index", "body": "<p>Seems you doing over engineering things.</p>\n\n<p>Event can be listed in some enum.</p>\n\n<pre><code>enum EVENTS{\n  ERROR = \"ERROR\",\n  CONNECTED = \"CONNECTED\"\n}\n</code></pre>\n\n<p>on method can be not generic </p>\n\n<pre><code>function on(eventName: EVENTS, callback: (v: any) =&gt; void): void { }\n</code></pre>\n\n<p>And just few examples</p>\n\n<pre><code>on(EVENTS.ERROR, (v: any) =&gt; {\n  if(v instanceof Error){\n    console.log(v.stack);\n  }\n});\n\non(EVENTS.CONNECTED, (v:any) =&gt; {\n  console.log(v);\n});\n</code></pre>\n\n<p>As usual it is hard to set type of event value.</p>\n\n<p>Sorry. Here is edited function.</p>\n\n<pre><code>function on&lt;T&gt;(eventName: EVENTS, callback: (v: T) =&gt; void): void { }\n\non&lt;Error&gt;(EVENTS.ERROR, (err) =&gt; {  \n    console.log(err.stack);  \n});\n\non&lt;any&gt;(EVENTS.CONNECTED, (v) =&gt; {\n  console.log(v);\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1476, "user_id": 1372883, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/127986174d1281a23820584baecc0ea8?s=128&d=identicon&r=PG", "display_name": "ed&#39;", "link": "https://stackoverflow.com/users/1372883/ed"}, "edited": false, "score": 0, "creation_date": 1521635541, "post_id": 49406120, "comment_id": 85813824, "body": "Cool didn&#39;t know that <code>keyof</code> trick :). Specifying the type when calling the function does work. Your speculation sounds plausible, but any thoughts on why it works without specifying type when all <code>Callback</code> function definitions match?"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1521634471, "creation_date": 1521634471, "answer_id": 49406120, "question_id": 49405379, "link": "https://stackoverflow.com/questions/49405379/using-typescript-generics-as-index/49406120#49406120", "title": "Using TypeScript generics as index", "body": "<p>This seems to be a strange behavior on behalf of the inference engine in the compiler.</p>\n\n<p><strong>Speculation on why</strong>: If you type the second parameter, as <code>Callback[T]</code>, the engine will try to determine <code>T</code> based on the argument type. So if you don't explicitly specify the type for the arrow function, the inference engine will infer the parameter for the arrow function to be <code>any</code> and try to guess <code>T</code> based on the arrow function type. (If you run with strict you will actually receive an error that the parameter has type <code>any</code> implicitly).</p>\n\n<p>There are two possible solutions:</p>\n\n<p>Use a two function approach, where <code>T</code> is determined in the first call and is known for the second call where the parameter is passed:</p>\n\n<pre><code>type Callback = {\n    error: (e: Error) =&gt; void\n    connected: (e: string) =&gt; void\n};\nfunction on&lt;T extends Name&gt;(eventName: T) { \n    return function(callback: Callback[T])\n    {\n    };\n}\n\non(\"error\")(e=&gt; e.stack);\non(\"connected\")(e=&gt; e.substr(1));\n</code></pre>\n\n<p>If the only thing that differs between functions is the parameter type and you are using 2.8 or older (unreleased at the time of writing but it is in RC, you can get it via <code>npm install -g typescript@rc</code>) you can get just the argument that differs, and the inference engine will not try to use the second parameter to infer <code>T</code></p>\n\n<pre><code>type Arg0&lt;T&gt; =  T extends (p1: infer U) =&gt; any ? U: never;\nfunction on&lt;T extends keyof Callback&gt;(eventName: T, callback: (e: Arg0&lt;Callback[T]&gt;) =&gt; void) : void { }\n\non(\"error\", e=&gt; e.stack);\non(\"connected\", e=&gt; e.substr(1));\n</code></pre>\n"}], "owner": {"reputation": 1476, "user_id": 1372883, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/127986174d1281a23820584baecc0ea8?s=128&d=identicon&r=PG", "display_name": "ed&#39;", "link": "https://stackoverflow.com/users/1372883/ed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 49406120, "answer_count": 2, "score": 1, "last_activity_date": 1521634471, "creation_date": 1521632329, "question_id": 49405379, "link": "https://stackoverflow.com/questions/49405379/using-typescript-generics-as-index", "title": "Using TypeScript generics as index", "body": "<p>I am trying to create type information for my event listeners. As all event listeners are set on the same <code>.on()</code> function, I am using generics.</p>\n\n<pre><code>type Name = \"error\" | \"connected\";\n\ntype Callback = {\n    error: (err: Error) =&gt; void,\n    connected: (err: number) =&gt; void,\n};\n\nfunction on&lt;T extends Name&gt;(eventName: T, callback: Callback[T]): void { }\n\non(\"error\", (err) =&gt; err.stack);\non(\"connected\", (err) =&gt; err.stack);\n</code></pre>\n\n<p>I would expect the above to give me an error for the <code>connected</code> event as I attempt to use a <code>number</code> as an <code>Error</code>, however I get no type hinting at all for my callback functions.</p>\n\n<p>However if all function definitions in <code>Callback</code> match, it does begin to work. As below:</p>\n\n<pre><code>type Callback = {\n    error: (err: Error) =&gt; void,\n    connected: (err: Error) =&gt; void,\n};\n</code></pre>\n\n<p>GIF of what I mean from VS code:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nIxu1.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nIxu1.gif\" alt=\"GIF\"></a></p>\n\n<p>Am I doing something wrong?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1521632190, "post_id": 49405307, "comment_id": 85811468, "body": "Where does data come from ? How is it defined ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user320487"}, "edited": false, "score": 0, "creation_date": 1521632240, "post_id": 49405307, "comment_id": 85811511, "body": "Is the <code>data</code> property defined in the object/class?"}, {"owner": {"reputation": 632, "user_id": 7447765, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3DisC.jpg?s=128&g=1", "display_name": "Muizz Mahdy", "link": "https://stackoverflow.com/users/7447765/muizz-mahdy"}, "edited": false, "score": 0, "creation_date": 1521632904, "post_id": 49405307, "comment_id": 85811958, "body": "Data is an input, @Input() data: any;"}], "answers": [{"tags": [], "owner": {"reputation": 6515, "user_id": 3034932, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/d8ZYg.jpg?s=128&g=1", "display_name": "Radonirina Maminiaina", "link": "https://stackoverflow.com/users/3034932/radonirina-maminiaina"}, "is_accepted": true, "score": 1, "last_activity_date": 1521632856, "creation_date": 1521632856, "answer_id": 49405543, "question_id": 49405307, "link": "https://stackoverflow.com/questions/49405307/angular-typescript-accessing-object-data-in-constructor/49405543#49405543", "title": "Angular/Typescript: Accessing object data in constructor", "body": "<p>Have you read this <a href=\"https://angular.io/guide/lifecycle-hooks\" rel=\"nofollow noreferrer\">documentation</a>?</p>\n\n<p>It said:</p>\n\n<blockquote>\n  <p>After creating a component/directive by calling its constructor,\n  Angular calls the lifecycle hook methods in the following sequence at\n  specific moments</p>\n</blockquote>\n\n<p>And then it lists all methods according to the order of excecution.</p>\n\n<p>You can read the full documentation of <strong><a href=\"https://angular.io/guide/lifecycle-hooks\" rel=\"nofollow noreferrer\">lifecycle hook</a></strong>, it is good to know this when we start developing application using Angular.</p>\n"}, {"tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": false, "score": 1, "last_activity_date": 1521635919, "creation_date": 1521635919, "answer_id": 49406572, "question_id": 49405307, "link": "https://stackoverflow.com/questions/49405307/angular-typescript-accessing-object-data-in-constructor/49406572#49406572", "title": "Angular/Typescript: Accessing object data in constructor", "body": "<p>You can't access the value of a component input inside its constructor, except for the initial value you assign to it.</p>\n\n<p>Why?</p>\n\n<p>Well, easy: Angular must create the component first (by invoking its constructor). Only then can it set the inputs. If you try to use an input property in the constructor, obviously it will be <code>undefined</code>.</p>\n\n<p>In your case, you should use the value in <code>ngOnInit</code>, or, if you really need it in the constructor, retrieve it in another way (by using an injected service, a global shared object ...).</p>\n"}], "owner": {"reputation": 632, "user_id": 7447765, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3DisC.jpg?s=128&g=1", "display_name": "Muizz Mahdy", "link": "https://stackoverflow.com/users/7447765/muizz-mahdy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 271, "favorite_count": 0, "accepted_answer_id": 49405543, "answer_count": 2, "score": 0, "last_activity_date": 1521635919, "creation_date": 1521632134, "last_edit_date": 1521633005, "question_id": 49405307, "link": "https://stackoverflow.com/questions/49405307/angular-typescript-accessing-object-data-in-constructor", "title": "Angular/Typescript: Accessing object data in constructor", "body": "<p>Trying to access an object's data in a constructor returns an \"undefined\" object. It works on the ngOnInit() function, but the data (going to get reset) is needed <strong>every time</strong> the component starts.</p>\n\n<pre><code>   import { Component, OnInit, Input } from '@angular/core';\n   @Input() data: any;\n\n\n   constructor(dataService: DataService)\n   {\n     console.log(this.data); // undefined\n   }\n\n\n   ngOnInit()\n   {\n     console.log(this.data) // works here\n   }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-router"], "answers": [{"comments": [{"owner": {"reputation": 661, "user_id": 6916378, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/74527ac804c73b7f2d0a5f5ef0349122?s=128&d=identicon&r=PG&f=1", "display_name": "Asad Shah", "link": "https://stackoverflow.com/users/6916378/asad-shah"}, "edited": false, "score": 0, "creation_date": 1521632491, "post_id": 49405395, "comment_id": 85811665, "body": "already tried it gives: StaticInjectorError[ActivatedRouteSnapshot]: NullInjectorError: No provider for ActivatedRouteSnapshot!"}, {"owner": {"reputation": 13201, "user_id": 3486691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dc01f3f85a630c36252819704ad397d?s=128&d=identicon&r=PG", "display_name": "ForestG", "link": "https://stackoverflow.com/users/3486691/forestg"}, "reply_to_user": {"reputation": 661, "user_id": 6916378, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/74527ac804c73b7f2d0a5f5ef0349122?s=128&d=identicon&r=PG&f=1", "display_name": "Asad Shah", "link": "https://stackoverflow.com/users/6916378/asad-shah"}, "edited": false, "score": 0, "creation_date": 1521632899, "post_id": 49405395, "comment_id": 85811952, "body": "do you import it like this? <code>import {ActivatedRouteSnapshot, CanActivate,  RouterStateSnapshot} from &quot;@angular&#47;router&quot;; </code>"}, {"owner": {"reputation": 661, "user_id": 6916378, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/74527ac804c73b7f2d0a5f5ef0349122?s=128&d=identicon&r=PG&f=1", "display_name": "Asad Shah", "link": "https://stackoverflow.com/users/6916378/asad-shah"}, "edited": false, "score": 0, "creation_date": 1521633033, "post_id": 49405395, "comment_id": 85812043, "body": "yes, here&#39;s my import for RouteGuard:  import { Router, CanActivate, ActivatedRoute, CanActivateChild, ActivatedRouteSnapshot, RouterStateSnapshot } from &#39;@angular/router&#39;;"}, {"owner": {"reputation": 13201, "user_id": 3486691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dc01f3f85a630c36252819704ad397d?s=128&d=identicon&r=PG", "display_name": "ForestG", "link": "https://stackoverflow.com/users/3486691/forestg"}, "reply_to_user": {"reputation": 661, "user_id": 6916378, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/74527ac804c73b7f2d0a5f5ef0349122?s=128&d=identicon&r=PG&f=1", "display_name": "Asad Shah", "link": "https://stackoverflow.com/users/6916378/asad-shah"}, "edited": false, "score": 0, "creation_date": 1521633227, "post_id": 49405395, "comment_id": 85812174, "body": "Its really strange, couse this works for me. What Angular version are you using? Is this produced with Angular 5?"}, {"owner": {"reputation": 661, "user_id": 6916378, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/74527ac804c73b7f2d0a5f5ef0349122?s=128&d=identicon&r=PG&f=1", "display_name": "Asad Shah", "link": "https://stackoverflow.com/users/6916378/asad-shah"}, "edited": false, "score": 0, "creation_date": 1521633314, "post_id": 49405395, "comment_id": 85812226, "body": "Yes man I&#39;m using angular 5 and i&#39;m stuck for hours due to this."}, {"owner": {"reputation": 13201, "user_id": 3486691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dc01f3f85a630c36252819704ad397d?s=128&d=identicon&r=PG", "display_name": "ForestG", "link": "https://stackoverflow.com/users/3486691/forestg"}, "reply_to_user": {"reputation": 661, "user_id": 6916378, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/74527ac804c73b7f2d0a5f5ef0349122?s=128&d=identicon&r=PG&f=1", "display_name": "Asad Shah", "link": "https://stackoverflow.com/users/6916378/asad-shah"}, "edited": false, "score": 0, "creation_date": 1521633943, "post_id": 49405395, "comment_id": 85812675, "body": "this is really strange. Could you please extend your question with the full implementation of the RouteGuard service?"}, {"owner": {"reputation": 661, "user_id": 6916378, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/74527ac804c73b7f2d0a5f5ef0349122?s=128&d=identicon&r=PG&f=1", "display_name": "Asad Shah", "link": "https://stackoverflow.com/users/6916378/asad-shah"}, "edited": false, "score": 1, "creation_date": 1521634413, "post_id": 49405395, "comment_id": 85812999, "body": "Hey @ForestG thanks there was an issue in my canActivate method. I injected ActivatedRouteSnapshot provider in service constructor instead of canActivate. Cheers dude :)"}], "tags": [], "owner": {"reputation": 13201, "user_id": 3486691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dc01f3f85a630c36252819704ad397d?s=128&d=identicon&r=PG", "display_name": "ForestG", "link": "https://stackoverflow.com/users/3486691/forestg"}, "is_accepted": true, "score": 7, "last_activity_date": 1521632373, "creation_date": 1521632373, "answer_id": 49405395, "question_id": 49404999, "link": "https://stackoverflow.com/questions/49404999/get-target-route-url-in-canactivate-guard-lazy-load-modules-angular/49405395#49405395", "title": "Get target route URL in CanActivate guard Lazy load modules Angular", "body": "<pre><code>canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot){\n    console.log(\"route-access\", state);\n}\n</code></pre>\n\n<p>from <a href=\"https://stackoverflow.com/questions/42171356/how-to-get-target-route-in-ng2-guard-canactivate\">this</a> answer. </p>\n"}], "owner": {"reputation": 661, "user_id": 6916378, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/74527ac804c73b7f2d0a5f5ef0349122?s=128&d=identicon&r=PG&f=1", "display_name": "Asad Shah", "link": "https://stackoverflow.com/users/6916378/asad-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2923, "favorite_count": 0, "accepted_answer_id": 49405395, "answer_count": 1, "score": 5, "last_activity_date": 1521633871, "creation_date": 1521631286, "last_edit_date": 1521633871, "question_id": 49404999, "link": "https://stackoverflow.com/questions/49404999/get-target-route-url-in-canactivate-guard-lazy-load-modules-angular", "title": "Get target route URL in CanActivate guard Lazy load modules Angular", "body": "<p>I'm trying to get the target URL in canActivate guard but unable to do so. I've configured <code>preloadingStrategy: PreloadAllModules</code> in <code>RouterModule.forRoot</code> when i use <code>ActivatedRoute</code> its url property doesn't contain path.\nhere's both of my module:</p>\n\n<p>app.module.ts</p>\n\n<pre><code>const appRoutes: Routes = [\n  { path: 'login', component: LoginComponent },\n  {\n    path: '',\n    component: SiteLayoutComponent,\n    children: [\n      { path: '', redirectTo: 'dashboard', pathMatch: 'full' },\n      {\n        path: 'dashboard',\n        loadChildren: './dashboard/dashboard.module#DashboardModule'\n      },\n      {\n        path: 'user',\n        loadChildren: './user/user.module#UserModule'\n      }\n    ]\n  },\n  { path: '**', component: PageNotFoundComponent }\n];\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    SiteLayoutComponent,\n    LoginComponent,\n    PageNotFoundComponent,\n  ],\n  imports: [\n    RouterModule.forRoot(\n      appRoutes,\n      { enableTracing: false, preloadingStrategy: PreloadAllModules } \n    ),\n    BrowserModule,\n    BrowserAnimationsModule,\n    HttpClientModule,\n    HttpModule,\n    FormsModule,\n    CommonModule,\n  ],\n  providers: [AuthGuardAuthService, LoginService, SharedService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>user.module.ts</p>\n\n<pre><code>const appRoutes: Routes = [\n    {\n        path: 'user',\n        children: [\n            { path: '', redirectTo: 'create', pathMatch: 'full' },\n            {\n                path: 'create', component: CreateComponent, canActivate: [RouteGuard] //need activated route in this guard\n            },\n            { path: ':id/edit', component: CreateComponent },\n            { path: 'list', component: UserListComponent }\n        ],\n\n    },\n    {\n        path: 'role',\n        children: [\n            { path: '', redirectTo: 'create', pathMatch: 'full' },\n            {\n                path: 'create', component: RoleComponent,\n                resolve: {\n                    Modules: RolesResolver\n                }\n            },\n            {\n                path: ':id/edit', component: RoleComponent,\n                resolve: {\n                    Modules: RolesResolver,\n                }\n            },\n            { path: 'list', component: RoleListComponent },\n        ],\n    },\n];\n\n@NgModule({\n    declarations: [\n        CreateComponent,\n        RoleComponent,\n        UserListComponent,\n        RoleListComponent\n    ],\n    imports: [\n        CommonModule,\n        FormsModule,\n        RouterModule.forChild(\n            appRoutes\n        )\n    ],\n    providers: [RouteGuard, UserService, RoleService, RolesResolver],\n})\nexport class UserModule { }\n</code></pre>\n\n<p>i need activated route in RouteGuard.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1521631225, "post_id": 49404944, "comment_id": 85810779, "body": "How is <code>selectItem</code> called ?"}, {"owner": {"reputation": 2945, "user_id": 8107464, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f835a205571c44eaca74778b51c70242?s=128&d=identicon&r=PG&f=1", "display_name": "infodev", "link": "https://stackoverflow.com/users/8107464/infodev"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1521631389, "post_id": 49404944, "comment_id": 85810892, "body": "in html input ` (onSelect)=&quot;selectItem($event)&quot;` of <a href=\"https://www.primefaces.org/primeng/#/autocomplete\" rel=\"nofollow noreferrer\">this component</a> `"}, {"owner": {"reputation": 428, "user_id": 4156021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecc983a4c593764fc148810ded72ea4d?s=128&d=identicon&r=PG", "display_name": "Ankur R", "link": "https://stackoverflow.com/users/4156021/ankur-r"}, "edited": false, "score": 6, "creation_date": 1521631400, "post_id": 49404944, "comment_id": 85810902, "body": "Use <code>type.length</code> instead of <code>this.type.length</code>. Here <code>type</code> is not function variable, it&#39;s argument variable. So you can&#39;t read using <code>this</code>"}, {"owner": {"reputation": 2945, "user_id": 8107464, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f835a205571c44eaca74778b51c70242?s=128&d=identicon&r=PG&f=1", "display_name": "infodev", "link": "https://stackoverflow.com/users/8107464/infodev"}, "edited": false, "score": 0, "creation_date": 1521631642, "post_id": 49404944, "comment_id": 85811084, "body": "yes I have forgotten to delete <code>this</code> after changing var. you can put it as an answer I&#39;ll accept it"}, {"owner": {"reputation": 428, "user_id": 4156021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecc983a4c593764fc148810ded72ea4d?s=128&d=identicon&r=PG", "display_name": "Ankur R", "link": "https://stackoverflow.com/users/4156021/ankur-r"}, "edited": false, "score": 0, "creation_date": 1521633402, "post_id": 49404944, "comment_id": 85812284, "body": "@infodev Added as answer."}], "answers": [{"tags": [], "owner": {"reputation": 3079, "user_id": 5952279, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oKmMZ6K3vVc/AAAAAAAAAAI/AAAAAAAAB4E/7jMHtIPfPcE/photo.jpg?sz=128", "display_name": "Vasyl Moskalov", "link": "https://stackoverflow.com/users/5952279/vasyl-moskalov"}, "is_accepted": false, "score": 0, "last_activity_date": 1521631415, "creation_date": 1521631415, "answer_id": 49405046, "question_id": 49404944, "link": "https://stackoverflow.com/questions/49404944/cannot-get-length-of-array-passed-as-a-function-parameter/49405046#49405046", "title": "cannot get length of array passed as a function parameter", "body": "<p>You tried to extract attribute <code>length</code> from <code>this.type</code>, not from function parameter <code>type</code>. Looks like typo</p>\n"}, {"tags": [], "owner": {"reputation": 428, "user_id": 4156021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecc983a4c593764fc148810ded72ea4d?s=128&d=identicon&r=PG", "display_name": "Ankur R", "link": "https://stackoverflow.com/users/4156021/ankur-r"}, "is_accepted": false, "score": 1, "last_activity_date": 1521631750, "creation_date": 1521631750, "answer_id": 49405167, "question_id": 49404944, "link": "https://stackoverflow.com/questions/49404944/cannot-get-length-of-array-passed-as-a-function-parameter/49405167#49405167", "title": "cannot get length of array passed as a function parameter", "body": "<p>Use <code>type.length</code> instead of <code>this.type.length</code>. Here <code>type</code> is not function variable, it's argument variable. So you can't read using <code>this</code></p>\n"}], "owner": {"reputation": 2945, "user_id": 8107464, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f835a205571c44eaca74778b51c70242?s=128&d=identicon&r=PG&f=1", "display_name": "infodev", "link": "https://stackoverflow.com/users/8107464/infodev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1521631750, "creation_date": 1521631155, "question_id": 49404944, "link": "https://stackoverflow.com/questions/49404944/cannot-get-length-of-array-passed-as-a-function-parameter", "title": "cannot get length of array passed as a function parameter", "body": "<p>I would get a length of an array that I pass in the parameter of a function</p>\n\n<p>I have an array of object</p>\n\n<pre><code>groupList:group[]=[];\n</code></pre>\n\n<p>in <code>selectItem</code> I call <code>testExistinginArray</code> function</p>\n\n<pre><code>selectItem (event) {\n    if(!this.toggle) {\n        this.groupList.push(event);\n    }\n    else{\n        this.ejList.push(event);\n        if(!this.testExistinginArray(event,this.groupList)) { //I pass groupList as parameter\n            this.groupList.push({code:event.codeBusinessGroup,name:event.nameBusinessGroup})\n        }\n    }\n}\n\ntestExistinginArray(event,type: any[]) {\n    for(let i=0;i&lt;this.type.length;i++) {\n        if (this.type[i].code.indexOf(event.codeBusinessGroup)===-1) {\n            return false\n        }\n        else{\n            return true\n        }\n    }\n}\n</code></pre>\n\n<p>Actually I get undefined length error</p>\n\n<pre><code>TypeError: Cannot read property 'length' of undefined\n</code></pre>\n"}, {"tags": ["angular", "typescript", "web"], "comments": [{"owner": {"reputation": 2228, "user_id": 5441424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D91ou.jpg?s=128&g=1", "display_name": "DGarvanski", "link": "https://stackoverflow.com/users/5441424/dgarvanski"}, "edited": false, "score": 0, "creation_date": 1521635454, "post_id": 49404913, "comment_id": 85813768, "body": "All of your dropdowns have the same <code>ngModel</code>, therefore their value will be the same if you select an option in any of them. I don&#39;t know what you&#39;re binding to but make sure that all the select fields have a unique <code>ngModel</code>"}, {"owner": {"reputation": 393, "user_id": 5588829, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/313b849d1c65ed26a5012ddb050a1f40?s=128&d=identicon&r=PG&f=1", "display_name": "PAR", "link": "https://stackoverflow.com/users/5588829/par"}, "reply_to_user": {"reputation": 2228, "user_id": 5441424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D91ou.jpg?s=128&g=1", "display_name": "DGarvanski", "link": "https://stackoverflow.com/users/5441424/dgarvanski"}, "edited": false, "score": 0, "creation_date": 1521636319, "post_id": 49404913, "comment_id": 85814389, "body": "Thank you, it is dynamic dropdowns, dropdown are created based on response array."}, {"owner": {"reputation": 8732, "user_id": 1874522, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/1BXUD.png?s=128&g=1", "display_name": "peinearydevelopment", "link": "https://stackoverflow.com/users/1874522/peinearydevelopment"}, "edited": false, "score": 0, "creation_date": 1521636988, "post_id": 49404913, "comment_id": 85814854, "body": "Is this a typo: <code>[(ngModel)]=&quot;questions&quot;</code>? Should it be <code>[(ngModel)]=&quot;question&quot;</code>?"}], "owner": {"reputation": 393, "user_id": 5588829, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/313b849d1c65ed26a5012ddb050a1f40?s=128&d=identicon&r=PG&f=1", "display_name": "PAR", "link": "https://stackoverflow.com/users/5588829/par"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 528, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521633956, "creation_date": 1521631071, "last_edit_date": 1521633956, "question_id": 49404913, "link": "https://stackoverflow.com/questions/49404913/angular-2-dynamic-dropdown-using-ngfor", "title": "Angular 2 dynamic dropdown using ngfor", "body": "<p>I have response like this</p>\n\n<pre><code>Array(3)\n        0:\n        val_id:1\n        role_id:1\n        id:1\n        is_optional:false\n        is_text:false\n\n\n        1:\n        val_id:1\n        role_id:1\n        id: 2\n        is_optional:false\n        is_text:false\n\n\n        2:\n        val_id:1\n        role_id:1\n        id :3\n        is_optional: false\n        is_text: false\n</code></pre>\n\n<p>html</p>\n\n<pre><code>  &lt;div *ngFor=\"let question of response\" class=\"row\"&gt;\n        &lt;select id=\"{{option?.id}}\" class=\"dropdown\" [(ngModel)]=\"questions\"  (change)= \"GetDataselected($event.target.value)\"&gt;\n                          &lt;option *ngFor = \"let option of responseoption\"&gt;{{option?.name_eng}} &lt;/option&gt;\n                          &lt;/select&gt;  \n    &lt;/div&gt;\n</code></pre>\n\n<p>from above code, i am doing ngFor with response and creating a three dropdowns(resposne), if i select any one dropdown option, all other dropdown are also selecting with same value.how to rid of this.</p>\n\n<p>Please help me.</p>\n"}, {"tags": ["html", "angular", "typescript", "button", "ngfor"], "comments": [{"owner": {"reputation": 1113, "user_id": 5246199, "user_type": "registered", "accept_rate": 16, "profile_image": "https://i.stack.imgur.com/tSE1u.jpg?s=128&g=1", "display_name": "Parth Savadiya", "link": "https://stackoverflow.com/users/5246199/parth-savadiya"}, "edited": false, "score": 1, "creation_date": 1521632754, "post_id": 49404883, "comment_id": 85811842, "body": "In template where you are binding text and img variable?"}, {"owner": {"reputation": 25, "user_id": 9502317, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-ETRU2hd4Kb8/AAAAAAAAAAI/AAAAAAAAEwE/rt9y9nMV7PA/photo.jpg?sz=128", "display_name": "Lucie Schaffner", "link": "https://stackoverflow.com/users/9502317/lucie-schaffner"}, "reply_to_user": {"reputation": 1113, "user_id": 5246199, "user_type": "registered", "accept_rate": 16, "profile_image": "https://i.stack.imgur.com/tSE1u.jpg?s=128&g=1", "display_name": "Parth Savadiya", "link": "https://stackoverflow.com/users/5246199/parth-savadiya"}, "edited": false, "score": 0, "creation_date": 1521633015, "post_id": 49404883, "comment_id": 85812033, "body": "nowhere, I don&#39;t know how to declare them"}, {"owner": {"reputation": 1113, "user_id": 5246199, "user_type": "registered", "accept_rate": 16, "profile_image": "https://i.stack.imgur.com/tSE1u.jpg?s=128&g=1", "display_name": "Parth Savadiya", "link": "https://stackoverflow.com/users/5246199/parth-savadiya"}, "edited": false, "score": 0, "creation_date": 1521637868, "post_id": 49404883, "comment_id": 85815502, "body": "if you don&#39;t know how and where to use then how you can say my buttons still don&#39;t display me my text and image"}, {"owner": {"reputation": 25, "user_id": 9502317, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-ETRU2hd4Kb8/AAAAAAAAAAI/AAAAAAAAEwE/rt9y9nMV7PA/photo.jpg?sz=128", "display_name": "Lucie Schaffner", "link": "https://stackoverflow.com/users/9502317/lucie-schaffner"}, "reply_to_user": {"reputation": 1113, "user_id": 5246199, "user_type": "registered", "accept_rate": 16, "profile_image": "https://i.stack.imgur.com/tSE1u.jpg?s=128&g=1", "display_name": "Parth Savadiya", "link": "https://stackoverflow.com/users/5246199/parth-savadiya"}, "edited": false, "score": 0, "creation_date": 1521638435, "post_id": 49404883, "comment_id": 85815965, "body": "Like this ? <code>&lt;h1&gt;{{title}}&lt;&#47;h1&gt; &lt;tr class=&quot;btn-group&quot; *ngFor=&quot;let button of buttonData&quot;&gt;   &lt;td&gt;     &lt;button onclick=&quot;onTitleClick(button)&quot;&gt;     {{button.title}}       &lt;ng-template&gt;{{button.description}} {{button.img}}&lt;&#47;ng-template&gt;   &lt;&#47;button&gt;   &lt;&#47;td&gt; &lt;&#47;tr&gt;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 9502317, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-ETRU2hd4Kb8/AAAAAAAAAAI/AAAAAAAAEwE/rt9y9nMV7PA/photo.jpg?sz=128", "display_name": "Lucie Schaffner", "link": "https://stackoverflow.com/users/9502317/lucie-schaffner"}, "edited": false, "score": 0, "creation_date": 1521633101, "post_id": 49405004, "comment_id": 85812089, "body": "it doesn&#39;t work, my buttons still don&#39;t display me my text and image"}], "tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": false, "score": 1, "last_activity_date": 1521631303, "creation_date": 1521631303, "answer_id": 49405004, "question_id": 49404883, "link": "https://stackoverflow.com/questions/49404883/display-text-on-a-button-click-angular/49405004#49405004", "title": "Display text on a button click Angular", "body": "<p>You should pass button to the function</p>\n\n<pre><code>  &lt;button (click)=\"onTitleClick(button)\"&gt;\n</code></pre>\n\n<p>and set it as</p>\n\n<pre><code> onTitleClick(btnVal:any) {\n    this.text = btnVal.description;\n  }\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 9502317, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-ETRU2hd4Kb8/AAAAAAAAAAI/AAAAAAAAEwE/rt9y9nMV7PA/photo.jpg?sz=128", "display_name": "Lucie Schaffner", "link": "https://stackoverflow.com/users/9502317/lucie-schaffner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2969, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521631303, "creation_date": 1521631013, "question_id": 49404883, "link": "https://stackoverflow.com/questions/49404883/display-text-on-a-button-click-angular", "title": "Display text on a button click Angular", "body": "<p>I've created three buttons with ngFor, each button has it own name which is stocked in the array: buttonData[].\nbuttonData also contains texts and images.\nWhat I'm trying to achieve here is when I click on one of my buttons a text and an image appears, each button has its own text and image of course.\nI can't understand why my function doesn't work since I have no error.\nHere is my code:</p>\n\n<p><strong>component.ts</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { FeaturesService} from '../features.service';\n\n@Component({\n  selector: 'app-features',\n  templateUrl: './features.component.html',\n  styleUrls: ['./features.component.css']\n})\nexport class FeaturesComponent implements OnInit {\n\n  constructor(private featuresService: FeaturesService ) { }\n    title = 'Features';\n    textprediction: String;\n    textrebalancing: String;\n    textvisualization: String;\n    text = '';\n    img = '';\n    buttonData = [\n      {\n        title: 'Prediction',\n        description: this.textprediction,\n        img: '../../assets/prediction.png'\n      },\n      {\n        title: 'Rebalancing',\n        description: this.textrebalancing,\n        img: '../../assets/rebalancing.png'\n      },\n      {\n        title: 'Visualization',\n        description: this.textvisualization,\n        img: '../../assets/visualization.png'\n      }\n    ];\n\n  ngOnInit() {\n      this.featuresService.getFeatures().subscribe(value =&gt; {\n        console.log(value);\n        this.textprediction = value[1].textprediction;\n      });\n      this.featuresService.getFeatures().subscribe(value =&gt; {\n        console.log(value);\n        this.textrebalancing = value[2].textrebalancing;\n      });\n      this.featuresService.getFeatures().subscribe(value =&gt; {\n        console.log(value);\n        this.textvisualization = value[3].textvisualization;\n      });\n  }\n  onTitleClick(i: number) {\n    this.text = this.buttonData[i].description;\n    this.img = this.buttonData[i].img;        \n  }\n}\n</code></pre>\n\n<p><strong>component.html</strong></p>\n\n<pre><code>&lt;h1&gt;{{title}}&lt;/h1&gt;\n&lt;tr class=\"btn-group\" *ngFor=\"let button of buttonData; let i = index\"&gt;\n  &lt;td&gt;\n    &lt;button (click)=\"onTitleClick(i)\"&gt;\n    {{button.title}}\n    &lt;/button&gt; \n  &lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>The three variables textprediction, textrebalancing and textvisualization is some text that I get from my json file.\nI can't understand why it works when I declare my function this way:</p>\n\n<pre><code>  onTitleClick() {\n    this.text = this.textprediction;\n  }\n</code></pre>\n\n<p>But when I ask my function to go and get it in my array it doesnt work.</p>\n"}, {"tags": ["typescript", "promise", "observable", "angularfire", "angularfire2"], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 6016825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44489a01f506b8c4cdf443b07c910ce0?s=128&d=identicon&r=PG&f=1", "display_name": "Guilherme Pereira", "link": "https://stackoverflow.com/users/6016825/guilherme-pereira"}, "edited": false, "score": 0, "creation_date": 1521637336, "post_id": 49405452, "comment_id": 85815098, "body": ".looks like it is not how use the first() method. Here what it returns:: Argument of type &#39;(data: void) =&gt; void&#39; is not assignable to parameter of type &#39;(value: void, index: number, source: Observable&lt;void&gt;) =&gt; boolean&#39;"}], "tags": [], "owner": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "is_accepted": false, "score": 0, "last_activity_date": 1521639184, "last_edit_date": 1521639184, "creation_date": 1521632543, "answer_id": 49405452, "question_id": 49404868, "link": "https://stackoverflow.com/questions/49404868/i-want-a-frozen-copy-of-angularfire-t-obsersable/49405452#49405452", "title": "I want a frozen copy of AngularFire t Obsersable", "body": "<p>Map is used to modify data received in each event.\nSo you need to assign data to model like </p>\n\n<pre><code>.first((data) =&gt; model = data)\n</code></pre>\n\n<p>Then use</p>\n\n<pre><code>.subscribe((data) =&gt; model2 = data)\n</code></pre>\n\n<p>If you want to modify data format you may call </p>\n\n<pre><code>.map((data) =&gt; { let res = modifyData(data); return res});\n</code></pre>\n\n<p>Update: </p>\n\n<pre><code>import { timer } from 'rxjs/observable/timer';\nimport 'rxjs/add/operator/first';\n\nlet model, model1;\n\nlet observable = timer(0, 1000);\n\nobservable.first().subscribe((n) =&gt; { \n  model = n;\n});\n\nobservable.subscribe((n) =&gt; {\n  model1 = n;\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 93, "user_id": 6016825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44489a01f506b8c4cdf443b07c910ce0?s=128&d=identicon&r=PG&f=1", "display_name": "Guilherme Pereira", "link": "https://stackoverflow.com/users/6016825/guilherme-pereira"}, "edited": false, "score": 0, "creation_date": 1521806979, "post_id": 49408755, "comment_id": 85900490, "body": "Thank you! Instead of a assign the &quot;res&quot; to the models, i simply assigned a copy of it, using the assign method explained on this link: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}], "tags": [], "owner": {"reputation": 5306, "user_id": 2903466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/73a1642f48317c13cf1b6d2075ab15ee?s=128&d=identicon&r=PG", "display_name": "amit77309", "link": "https://stackoverflow.com/users/2903466/amit77309"}, "is_accepted": true, "score": 1, "last_activity_date": 1521744564, "last_edit_date": 1521744564, "creation_date": 1521641832, "answer_id": 49408755, "question_id": 49404868, "link": "https://stackoverflow.com/questions/49404868/i-want-a-frozen-copy-of-angularfire-t-obsersable/49408755#49408755", "title": "I want a frozen copy of AngularFire t Obsersable", "body": "<p><strong>Updated</strong></p>\n\n<p>You can use <a href=\"https://www.learnrxjs.io/operators/combination/combinelatest.html\" rel=\"nofollow noreferrer\">combineLatest</a> like </p>\n\n<pre><code>let supplier = this.afoDatabase.object(\"usuarios/\" + this.userKey + \"/pacientes/\" + this.pacienteKey);\nObservable.combineLatest(supplier, supplier)\n  .map([model1, model2]=&gt; {\n    this.model1=model1;\n    this.model2=model2;\n  }).first()\n  ...\n</code></pre>\n\n<p>CombineLatest will emit an array when both of these observables emits. Here <code>model1</code> and <code>model2</code> should have same value.</p>\n\n<p><em>Note</em>: This will create two separate requests. If you want to create single request then look below at Previous Answer.</p>\n\n<p><strong>Previous Answer</strong></p>\n\n<p>Look here</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let res = {foo:1,bar:2}\r\nlet model1 = res;\r\nlet model2 = res;\r\nmodel1.foo=3;\r\nconsole.log(model1.foo) //3\r\nconsole.log(model2.foo) //3</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Because when we declare <code>model1</code> and <code>model2</code> with value <code>res</code>, so both points to the same object. Both holds the reference of same object (here <code>res</code>) and changing one changes other. </p>\n\n<p>What you need to do is clone <code>res</code> to <code>model2</code> so it will a different object with same value as <code>res</code>. Cloning is of two types shallow and deep.</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/122102/what-is-the-most-efficient-way-to-deep-clone-an-object-in-javascript?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\">Efficient deep copy</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\" rel=\"nofollow noreferrer\">Shallow copy</a></li>\n<li><a href=\"https://stackoverflow.com/questions/184710/what-is-the-difference-between-a-deep-copy-and-a-shallow-copy\">Difference between shallow and deep copy.</a></li>\n</ol>\n\n<p>If your <code>res</code> objects values are string, numbers etc then you need shallow copy. Example </p>\n\n<pre><code>res= {a:1,b:\"2\"}\n</code></pre>\n\n<p>If they contains array, other objects then you need deep copy. Example </p>\n\n<pre><code>res={a:{c:1},b:[2,3]}\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 6016825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44489a01f506b8c4cdf443b07c910ce0?s=128&d=identicon&r=PG&f=1", "display_name": "Guilherme Pereira", "link": "https://stackoverflow.com/users/6016825/guilherme-pereira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 49408755, "answer_count": 2, "score": 0, "last_activity_date": 1521744564, "creation_date": 1521630965, "question_id": 49404868, "link": "https://stackoverflow.com/questions/49404868/i-want-a-frozen-copy-of-angularfire-t-obsersable", "title": "I want a frozen copy of AngularFire t Obsersable", "body": "<p>Okay, let met explain. I am getting a obsersable from AngularFire Database, and here is what I pretend to do:\n- get 2 static copies of the obsersable response\n- show 1 static copy\n- allow user to modify this static copy and not save it\n- when user decides too cancel the changes, i simply get the copy number 2 and set it to copy number 1.</p>\n\n<p>getting obsersable:</p>\n\n<pre><code>this.afoDatabase.object(\"usuarios/\"+this.userKey+\"/pacientes/\"+this.pacienteKey).map(res=&gt; {\n  this.model = res;\n  this.model2 = res;\n}).first().toPromise();\n</code></pre>\n\n<p>when the users decides to cancel the changes, here is what i am doing: </p>\n\n<pre><code>this.model = this.model2;\n  // this.model is the copy number 1 and this.model2 is the 'unchanged' copy number 2\n</code></pre>\n\n<p>but when i do it, the copy number 2, even that i never showed  or changed it, is exactly equal to copy number 1;</p>\n"}, {"tags": ["angular", "typescript", "ng-template"], "comments": [{"owner": {"reputation": 2027, "user_id": 3204942, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/YF12O.jpg?s=128&g=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/3204942/gary"}, "edited": false, "score": 0, "creation_date": 1556209785, "post_id": 49404822, "comment_id": 98369286, "body": "Please don&#39;t do it. It&#39;s is insecure. If you do intend to do that then an option is to put them in different files, make an Xhr request to get the HTML file, sanitize then and put them in the content page. Other option is to put them as a different component. Do also check blurys answer"}], "answers": [{"comments": [{"owner": {"reputation": 3776, "user_id": 2742156, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/TDxKk.jpg?s=128&g=1", "display_name": "Pratap A.K", "link": "https://stackoverflow.com/users/2742156/pratap-a-k"}, "edited": false, "score": 0, "creation_date": 1521634964, "post_id": 49405042, "comment_id": 85813399, "body": "Thanks for the answer. But I don&#39;t have 2 component I have one component and a file for ng-template"}, {"owner": {"reputation": 1601, "user_id": 6157936, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d4adc338b4cb3ab7a481261b9892d69f?s=128&d=identicon&r=PG&f=1", "display_name": "bluray", "link": "https://stackoverflow.com/users/6157936/bluray"}, "reply_to_user": {"reputation": 3776, "user_id": 2742156, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/TDxKk.jpg?s=128&g=1", "display_name": "Pratap A.K", "link": "https://stackoverflow.com/users/2742156/pratap-a-k"}, "edited": false, "score": 0, "creation_date": 1521635683, "post_id": 49405042, "comment_id": 85813922, "body": "I think it&#39;s not good, you dont have one component and two template files. The basis of the angular are the components. So you could create simple component,which would do nothing just to offer a template"}, {"owner": {"reputation": 3776, "user_id": 2742156, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/TDxKk.jpg?s=128&g=1", "display_name": "Pratap A.K", "link": "https://stackoverflow.com/users/2742156/pratap-a-k"}, "edited": false, "score": 0, "creation_date": 1521636558, "post_id": 49405042, "comment_id": 85814547, "body": "Thanks. But even the answer you provided is not working. I am getting error as can&#39;t read property template of undefined."}, {"owner": {"reputation": 1601, "user_id": 6157936, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d4adc338b4cb3ab7a481261b9892d69f?s=128&d=identicon&r=PG&f=1", "display_name": "bluray", "link": "https://stackoverflow.com/users/6157936/bluray"}, "reply_to_user": {"reputation": 3776, "user_id": 2742156, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/TDxKk.jpg?s=128&g=1", "display_name": "Pratap A.K", "link": "https://stackoverflow.com/users/2742156/pratap-a-k"}, "edited": false, "score": 1, "creation_date": 1521637008, "post_id": 49405042, "comment_id": 85814865, "body": "It&#39;s simple example for illustration. Or you can use something like this: <code>&lt;component1 [template]=&quot;component2.template&quot;&gt;&lt;&#47;component&gt;&lt;component2 #component2&gt;&lt;&#47;component2&gt;</code> and in component2 you will have <code>ContentChild</code> and component1 <code>ngTemplateOutlet</code>"}], "tags": [], "owner": {"reputation": 1601, "user_id": 6157936, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d4adc338b4cb3ab7a481261b9892d69f?s=128&d=identicon&r=PG&f=1", "display_name": "bluray", "link": "https://stackoverflow.com/users/6157936/bluray"}, "is_accepted": false, "score": 0, "last_activity_date": 1521631401, "creation_date": 1521631401, "answer_id": 49405042, "question_id": 49404822, "link": "https://stackoverflow.com/questions/49404822/angular2-ng-template-in-a-separate-file/49405042#49405042", "title": "angular2 ng-template in a separate file", "body": "<p>You can use something like this (template is used from another component):</p>\n\n<pre><code>@Component(\n    template: '&lt;ng-container *ngTemplateOutlet=\"infoMessage.template;\"&gt;&lt;/ng-container&gt;'\n)\nexport class MessageTemplate {\n    infoMessage: InfoMessage;    \n}\n\n@Component(\n    ....\n)\nexport class InfoMessage{    \n    @ContentChild('columnTemplate') template: TemplateRef&lt;any&gt;;\n\n    constructor(private messageTemplate: MessageTemplate) {\n        messageTemplate.infoMessage = this;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 148, "user_id": 3188640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ca43a84a1451a795e202218e7fbb62c?s=128&d=identicon&r=PG", "display_name": "KlavierCat", "link": "https://stackoverflow.com/users/3188640/klaviercat"}, "is_accepted": false, "score": 4, "last_activity_date": 1556205678, "creation_date": 1556205678, "answer_id": 55852720, "question_id": 49404822, "link": "https://stackoverflow.com/questions/49404822/angular2-ng-template-in-a-separate-file/55852720#55852720", "title": "angular2 ng-template in a separate file", "body": "<p>Have you seen this? <a href=\"https://github.com/angular/angular/issues/27503\" rel=\"nofollow noreferrer\">https://github.com/angular/angular/issues/27503</a>  There is an example there provided by dawidgarus </p>\n\n<p>The suggestion is that if you want to reuse your template in different files, you should convert what is inside the template into a separate component, then you can reuse that component wherever you want.</p>\n"}, {"tags": [], "owner": {"reputation": 950, "user_id": 6097525, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VmfJsgdKZts/AAAAAAAAAAI/AAAAAAAAFjs/wxMX_QIPjdk/photo.jpg?sz=128", "display_name": "peter554", "link": "https://stackoverflow.com/users/6097525/peter554"}, "is_accepted": false, "score": 5, "last_activity_date": 1556209209, "creation_date": 1556209209, "answer_id": 55853684, "question_id": 49404822, "link": "https://stackoverflow.com/questions/49404822/angular2-ng-template-in-a-separate-file/55853684#55853684", "title": "angular2 ng-template in a separate file", "body": "<p>This behaviour can be achieved via a 'portal'. This is a useful and fairly common pattern in Angular applications. For example you may have a global sidebar outlet living near the top app level and then child components may specify a local <code>&lt;ng-template/&gt;</code>, as part of their overall template, to be rendered at this location.</p>\n\n<p>Note that while the <code>&lt;ng-template/&gt;</code> may be defined outside of the file where the desired outlet is defined, it is still necessary to place the <code>&lt;ng-template/&gt;</code> inside the template of <em>some</em> component. This can be a minimalist component which is only responsible for wrapping the <code>&lt;ng-template/&gt;</code>, however it could equally be a complicated component where the <code>&lt;ng-template/&gt;</code> of interest only plays a minor part.</p>\n\n<p>This code illustrates one possible basic implementation of a portal.</p>\n\n<pre><code>@Directive({\n  selector: '[appPortal]'\n})\nexport class PortalDirective implements AfterViewInit {\n  @Input() outlet: string;\n\n  constructor(private portalService: PortalService, private templateRef: TemplateRef&lt;any&gt;) {}\n\n  ngAfterViewInit(): void {\n    const outlet: PortalOutletDirective = this.portalService.outlets[this.outlet];\n    outlet.viewContainerRef.clear();\n    outlet.viewContainerRef.createEmbeddedView(this.templateRef);\n  }\n}\n\n@Directive({\n  selector: '[appPortalOutlet]'\n})\nexport class PortalOutletDirective implements OnInit {\n  @Input() appPortalOutlet: string;\n\n  constructor(private portalService: PortalService, public viewContainerRef: ViewContainerRef) {}\n\n  ngOnInit(): void {\n    this.portalService.registerOutlet(this);\n  }\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PortalService {\n  outlets = new Map&lt;string, PortalOutletDirective&gt;();\n\n  registerOutlet(outlet: PortalOutletDirective) {\n    this.outlets[outlet.appPortalOutlet] = outlet;\n  }\n}\n</code></pre>\n\n<p>It works using three parts:</p>\n\n<ul>\n<li>A 'portal' directive. This lives on the desired <code>&lt;ng-template/&gt;</code> and takes as input the name of the outlet at which the content should be rendered.</li>\n<li>A 'portal outlet' directive. This lives on an outlet, e.g. an <code>&lt;ng-container/&gt;</code>, and defines the outlet.</li>\n<li>A 'portal' service. This is provided at the root level and stores references to the portal outlets so they can be accessed by the portals.</li>\n</ul>\n\n<p>This may seem like a lot of work for something quite simple but once this plumbing is in place it is easy to (re)use.</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n  &lt;div class=\"row\"&gt;\n    &lt;div class=\"col-6\"&gt;\n      &lt;app-foo&gt;&lt;/app-foo&gt;\n    &lt;/div&gt;\n    &lt;div class=\"col-6\"&gt;\n      &lt;ng-container [appPortalOutlet]=\"'RightPanel'\"&gt;&lt;/ng-container&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n// foo.component.html\n&lt;h1&gt;Foo&lt;/h1&gt;\n&lt;ng-template appPortal [outlet]=\"'RightPanel'\"&gt;\n &lt;h1&gt;RIGHT&lt;/h1&gt;\n&lt;/ng-template&gt;\n</code></pre>\n\n<p>In general it's not a great idea to reinvent the wheel though when there are already well-tested, documented and stable implementations available. The <a href=\"https://material.angular.io/cdk\" rel=\"noreferrer\">Angular CDK</a> provides <a href=\"https://material.angular.io/cdk/portal\" rel=\"noreferrer\">such an implementation</a> and I'd advise to use that one rather than your own in practice.</p>\n"}, {"tags": [], "owner": {"reputation": 5568, "user_id": 2658683, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Pa1qO.jpg?s=128&g=1", "display_name": "Gil Epshtain", "link": "https://stackoverflow.com/users/2658683/gil-epshtain"}, "is_accepted": false, "score": 0, "last_activity_date": 1575536899, "creation_date": 1575536899, "answer_id": 59191633, "question_id": 49404822, "link": "https://stackoverflow.com/questions/49404822/angular2-ng-template-in-a-separate-file/59191633#59191633", "title": "angular2 ng-template in a separate file", "body": "<p>If you are loading a separate file, you can define a Component in the separate file (instead of a <code>&lt;ng-template&gt;</code>). And then inject the entire Component into the <code>&lt;ng-container&gt;</code> using the <code>*ngComponentOutlet</code>. </p>\n\n<p>You can find the full sulotion with example here: <a href=\"https://stackoverflow.com/a/59180628/2658683\">https://stackoverflow.com/a/59180628/2658683</a></p>\n"}, {"tags": [], "owner": {"reputation": 85, "user_id": 5416004, "user_type": "registered", "profile_image": "https://graph.facebook.com/430032237182306/picture?type=large", "display_name": "Eric Shoberg", "link": "https://stackoverflow.com/users/5416004/eric-shoberg"}, "is_accepted": false, "score": 0, "last_activity_date": 1583469478, "creation_date": 1583469478, "answer_id": 60557674, "question_id": 49404822, "link": "https://stackoverflow.com/questions/49404822/angular2-ng-template-in-a-separate-file/60557674#60557674", "title": "angular2 ng-template in a separate file", "body": "<p>Expanding on the answer by @peter554 for reasons of explanation and portability. This will let you use a template across components.</p>\n\n<p><strong>To use:</strong></p>\n\n<pre><code>'app.module.ts'\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {NgModule} from '@angular/core';\nimport {\n    IdcPortalDirective, IdcTemplatePortalDirective,\n    PortalService\n} from './idc-template-portal/idc-template-portal.component';\n\n@NgModule({\n    declarations: [\n        IdcPortalDirective,\n        IdcTemplatePortalDirective\n    ],\n    imports: [],\n    exports: [],\n    providers: [\n        PortalService\n    ],\n    bootstrap: [AppComponent]\n})\nexport class AppModule {}\n</code></pre>\n\n<pre><code>'./idc-template-portal/idc-template-portal.component.ts'\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {\n    AfterViewInit,\n    Directive,\n    Injectable,\n    Input,\n    OnInit, Output,\n    TemplateRef,\n    ViewContainerRef\n} from '@angular/core';\n/*** Input Template ***/\n/*** &lt;ng-template idcPortal [outlet]=\"'outletname'\"&gt;Template Contents&lt;/ng-template&gt; ***/\n@Directive({\n    selector: '[idcPortal]'\n})\nexport class IdcPortalDirective implements OnInit {\n    @Input() outlet: string;\n    @Output() inlet: string = this.outlet;\n\n    constructor(private portalService: PortalService, public templateRef: TemplateRef&lt;any&gt;) {}\n\n    ngOnInit():void {\n        this.portalService.registerInlet(this);\n    }\n\n}\n/*** Output Container ***/\n/*** &lt;ng-container [idcPortalOutlet]=\"'outletname'\"&gt;&lt;/ng-container&gt; ***/\n@Directive({\n    selector: '[idcPortalOutlet]'\n})\nexport class IdcTemplatePortalDirective implements OnInit, AfterViewInit {\n    @Input() appPortalOutlet: string;\n    @Output() outlet: string = this.appPortalOutlet;\n\n    constructor(private portalService: PortalService, public viewContainerRef: ViewContainerRef) {}\n\n    ngOnInit():void {\n        this.portalService.registerOutlet(this);\n    }\n\n    ngAfterViewInit() {\n        this.portalService.initializePortal(this.appPortalOutlet);\n    }\n\n}\n@Injectable({\n    providedIn: 'root'\n})\nexport class PortalService {\n    outlets = new Map&lt;string, IdcTemplatePortalDirective&gt;();\n    inlets = new Map&lt;string, IdcPortalDirective&gt;();\n\n    registerOutlet(outlet: IdcTemplatePortalDirective) {\n        this.outlets[outlet.outlet] = outlet;\n    }\n\n    registerInlet(inlet: IdcPortalDirective) {\n        this.inlets[inlet.inlet] = inlet;\n    }\n\n    initializePortal(portal:string) {\n        const inlet: IdcPortalDirective = this.inlets[portal];\n        const outlet: IdcTemplatePortalDirective = this.outlets[portal];\n        outlet.viewContainerRef.clear();\n        outlet.viewContainerRef.createEmbeddedView(inlet.templateRef);\n    }\n}\n</code></pre>\n\n<p>He,@peter554, mentions reinventing the wheel in regards to the <a href=\"https://material.angular.io/cdk/portal/overview\" rel=\"nofollow noreferrer\">Angular CDK portals package</a>. However, I find his/this implementation to make more sense in the way it's used in the application flow and the ease in which a template can be ported from component to another component that contains the portal outlet (allowing component to component->portal template communication. For example within a component template implementing the <a href=\"https://material.angular.io/components/bottom-sheet/overview\" rel=\"nofollow noreferrer\">Angular Material MatBottomSheet</a> (idcBottomSheet)).</p>\n\n<p><strong>The 'input' element:</strong></p>\n\n<pre><code>&lt;!--\n/*\n  For example, perhaps you have a mobile view\n  where a template is hidden (via css) and ported\n  over to a MatBottomSheet component template to be \n  popped up when requested (by button click). \n*/\n--&gt;\n&lt;button #bottomsheetButton (click)=\"openBottomSheet(Notes)\" mat-button&gt;\n    &lt;mat-icon&gt;notes&lt;/mat-icon&gt;\n&lt;/button&gt;\n&lt;!--/* hidden in mobile view mode. */--&gt;\n&lt;ng-content *ngTemplateOutlet=\"Notes\"&gt;&lt;/ng-content&gt;\n&lt;ng-template #Notes idcPortal [outlet]=\"'idcBottomSheet'\"&gt;&lt;!--/* template to port */--&gt;\n    &lt;form&gt;\n        &lt;mat-form-field class=\"w-100 h-100\"&gt;\n            &lt;mat-label&gt;A place for your thoughts:&lt;/mat-label&gt;\n            &lt;textarea matInput\n                      cdkTextareaAutosize\n                      #autosize=\"cdkTextareaAutosize\"\n                      cdkAutosizeMinRows=\"10\"\n                      cdkAutosizeMaxRows=\"10\"\n                      placeholder=\"Angular. It makes me feel...\"&gt;\n            &lt;/textarea&gt;\n        &lt;/mat-form-field&gt;\n    &lt;/form&gt;\n&lt;/ng-template&gt;\n</code></pre>\n\n<p><strong>The 'output' element (inside your MatBottomSheet component template):</strong></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ng-container [idcPortalOutlet]=\"'appIdcBottomSheet'\"&gt;&lt;/ng-container&gt;\n</code></pre>\n"}], "owner": {"reputation": 3776, "user_id": 2742156, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/TDxKk.jpg?s=128&g=1", "display_name": "Pratap A.K", "link": "https://stackoverflow.com/users/2742156/pratap-a-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9308, "favorite_count": 2, "answer_count": 5, "score": 14, "last_activity_date": 1583469478, "creation_date": 1521630789, "last_edit_date": 1521707139, "question_id": 49404822, "link": "https://stackoverflow.com/questions/49404822/angular2-ng-template-in-a-separate-file", "title": "angular2 ng-template in a separate file", "body": "<p>angular2 how to use ng-template from a different file? When I place the ng-template within the same HTML where I use it works but when I move ng-template into a separate file then it won't work. Is there a way to move ng-template into its own file and use it in different html file?</p>\n\n<p><strong>info-message.html</strong></p>\n\n<pre><code>&lt;ng-template #messageTemplate&gt;\n    Hi\n&lt;/ng-template&gt;\n\n&lt;ng-container *ngTemplateOutlet=\"messageTemplate;\"&gt;&lt;/ng-container&gt;\n</code></pre>\n\n<p>above is working fine because ng-template and the usage is in same file</p>\n\n<p><strong>message-template.html</strong></p>\n\n<pre><code>&lt;ng-template #messageTemplate&gt;\n    Hi\n&lt;/ng-template&gt;\n</code></pre>\n\n<p><strong>info-message.html</strong></p>\n\n<pre><code>&lt;ng-container *ngTemplateOutlet=\"messageTemplate;\"&gt;&lt;/ng-container&gt;\n</code></pre>\n\n<p>This is not working. Is there a way to use <strong>\"messageTemplate\"</strong> which is in a separate file inside another html(Eg: info-message.html)</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["angularjs", "string", "typescript", "types", "primitive"], "comments": [{"owner": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "edited": false, "score": 0, "creation_date": 1521630510, "post_id": 49404380, "comment_id": 85810275, "body": "Why do you need to validate ID into ID class ?"}, {"owner": {"reputation": 13, "user_id": 9389847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0721f228fbcaa385ebb0429216821b7?s=128&d=identicon&r=PG&f=1", "display_name": "dev34fr", "link": "https://stackoverflow.com/users/9389847/dev34fr"}, "reply_to_user": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "edited": false, "score": 0, "creation_date": 1521631436, "post_id": 49404380, "comment_id": 85810929, "body": "To validate id fomat, for example I will be able to valide ids from my server."}, {"owner": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "edited": false, "score": 0, "creation_date": 1521631618, "post_id": 49404380, "comment_id": 85811068, "body": "I was thinking you have some logic in ID format (e.g. if ID has some letters, user will be able to do something). But client is UI so client must trust data from your server, and server must not trust to data from client side. Seems you have a mistake in general idea."}, {"owner": {"reputation": 13, "user_id": 9389847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0721f228fbcaa385ebb0429216821b7?s=128&d=identicon&r=PG&f=1", "display_name": "dev34fr", "link": "https://stackoverflow.com/users/9389847/dev34fr"}, "reply_to_user": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "edited": false, "score": 0, "creation_date": 1521637668, "post_id": 49404380, "comment_id": 85815344, "body": "You&#39;re right, but it&#39;s more for debug purpose and programmation auto-completion and implementation and it was just an example."}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 0, "last_activity_date": 1521629783, "creation_date": 1521629783, "answer_id": 49404478, "question_id": 49404380, "link": "https://stackoverflow.com/questions/49404380/typescript-create-a-type-extending-from-primitive-type/49404478#49404478", "title": "Typescript : create a type extending from primitive type?", "body": "<p>Don't think you need to extends <code>string</code>, you can use branded types to achieve the desired result. </p>\n\n<pre><code>type ObjectID =  string &amp; { __type: 'Id'}\nfunction ID(n: string): ObjectID{\n    return n as any;\n}\n\n\n// Usage\nfunction getUserById(id: ObjectID) {\n\n}\n\ngetUserById(ID(\"1\")); //ok\ngetUserById(\"1\");  // error\n</code></pre>\n\n<p>You need to define a helper function to create instances of the type or use casting, but the call site will give errors if you pass a simple string.</p>\n\n<p>This <a href=\"https://spin.atomicobject.com/2018/01/15/typescript-flexible-nominal-typing/\" rel=\"nofollow noreferrer\">article</a> has a bit more of a discussion on the topic. Also the typescript compiler uses this approach for <a href=\"https://github.com/Microsoft/TypeScript/blob/8e8e879fc22e080f0c8fe69a73921899ab062c3f/src/compiler/types.ts#L54\" rel=\"nofollow noreferrer\">paths</a></p>\n"}], "owner": {"reputation": 13, "user_id": 9389847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0721f228fbcaa385ebb0429216821b7?s=128&d=identicon&r=PG&f=1", "display_name": "dev34fr", "link": "https://stackoverflow.com/users/9389847/dev34fr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 805, "favorite_count": 1, "accepted_answer_id": 49404478, "answer_count": 1, "score": 1, "last_activity_date": 1521629783, "creation_date": 1521629515, "question_id": 49404380, "link": "https://stackoverflow.com/questions/49404380/typescript-create-a-type-extending-from-primitive-type", "title": "Typescript : create a type extending from primitive type?", "body": "<p>In my angular project, I want to create a custom type extending from string. my case is I want to create a \"ID\" type to separate string from idstring.</p>\n\n<pre><code>let str = String(\"tutu\");\nlet id = ID(\"ec1s69azs\");\n\nthis.service.getUserById(str) =&gt; doesn't compile;\nthis.service.getUserById(id) =&gt; compile;\n</code></pre>\n\n<p>In the future, I may want to add id validator in \"ID\" type</p>\n\n<p>I was wondering if its possible because I've tried many \"hacks\" but none give me the result I want.</p>\n\n<pre><code>class ObjectID extends String {\n}\n\n\nexport type ID = ObjectID;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>interface StringConstructor {\n  new(value?: any): String;\n  (value?: any): string;\n  readonly prototype: String;\n  fromCharCode(...codes: number[]): string;\n}\n\nexport type ID = StringConstructor;\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 10154, "user_id": 2482570, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/1U8oq.jpg?s=128&g=1", "display_name": "Max Heiber", "link": "https://stackoverflow.com/users/2482570/max-heiber"}, "edited": false, "score": 2, "creation_date": 1551378204, "post_id": 49403410, "comment_id": 96628365, "body": "I&#39;m not sure why the restriction exists. There&#39;s an issue on the TS repo asking about this as well <a href=\"https://github.com/Microsoft/TypeScript/issues/29490\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/29490</a>"}], "answers": [{"tags": [], "owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "is_accepted": true, "score": 3, "last_activity_date": 1555381923, "last_edit_date": 1555381923, "creation_date": 1555381557, "answer_id": 55699697, "question_id": 49403410, "link": "https://stackoverflow.com/questions/49403410/why-declaration-can-not-be-used-together-with-isolatedmodules-in-typescript/55699697#55699697", "title": "why declaration can not be used together with isolatedModules in typescript?", "body": "<h3>Answer</h3>\n\n<p>In the issue that Max Heiber referenced in the comments, Wesley Wigham from the TypeScript team <a href=\"https://github.com/Microsoft/TypeScript/issues/29490#issuecomment-474947274\" rel=\"nofollow noreferrer\">posted the following answer</a> (emphasis added):</p>\n\n<blockquote>\n  <p>The reason is for the same reason you can't use const enums in isolated modules: type information. Since <strong>isolated modules compiles each file individually without the types of the files it depends on, any inferred type we would write to a declaration file would potentially be incorrect</strong>, as their calculation would be missing information from the rest of the compilation. There is a limited subset of declaration emit where no types are inferred in the output which could be supported, however.</p>\n</blockquote>\n\n<p>In other words, <code>isolatedModules</code> does not provide enough type information for the creation of complete and accurate <code>*.d.ts</code> declaration files.</p>\n\n<h3>Suggested Workaround</h3>\n\n<p>The issue comments also have a suggested workaround, in which we have one <code>tsconfig</code> for compiling with isolated modules, and a second tsconfig for creating declaration files.</p>\n\n<p>tsconfig.json</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"incremental\": true,\n        \"isolatedModules\": true\n    }\n}\n</code></pre>\n\n<p>tsconfig-for-declarations.json</p>\n\n<pre><code>{\n    \"extends\": \"./tsconfig\",\n    \"compilerOptions\": {\n        \"emitDeclarationOnly\": true,\n        \"isolatedModules\": false,\n        \"declaration\": true\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1827, "user_id": 4225768, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/5vUai.jpg?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/4225768/leon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2159, "favorite_count": 2, "accepted_answer_id": 55699697, "answer_count": 1, "score": 16, "last_activity_date": 1555381923, "creation_date": 1521626877, "question_id": 49403410, "link": "https://stackoverflow.com/questions/49403410/why-declaration-can-not-be-used-together-with-isolatedmodules-in-typescript", "title": "why declaration can not be used together with isolatedModules in typescript?", "body": "<p><strong>declaration</strong> is used to generate type file, and <strong>isolatedModules</strong> mean all file should be a separate module. Why do these two options use together?</p>\n\n<pre><code>error TS5053: Option 'declaration' cannot be specified with option 'isolatedModules'.\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "edited": false, "score": 1, "creation_date": 1521630412, "post_id": 49403387, "comment_id": 85810210, "body": "Welcome to Stack Overflow. Please read the <a href=\"https://stackoverflow.com/tour\">tour</a> and <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Also, please do not post your code as an image, as this is causing a great number of drawbacks. Instead copy and paste the code into your question, and format it as such (using the corresponding &#39;code&#39; button or Ctrl+K) . Same remark applies for error message."}], "answers": [{"comments": [{"owner": {"reputation": 689, "user_id": 5396946, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/0qCIs.png?s=128&g=1", "display_name": "Marv", "link": "https://stackoverflow.com/users/5396946/marv"}, "reply_to_user": {"reputation": 1, "user_id": 9492594, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qy6rv.jpg?s=128&g=1", "display_name": "Hicham Boullban", "link": "https://stackoverflow.com/users/9492594/hicham-boullban"}, "edited": false, "score": 0, "creation_date": 1521798952, "post_id": 49403457, "comment_id": 85895244, "body": "Then i&#39;d be happy if you accept the answer @theRealjen :)"}], "tags": [], "owner": {"reputation": 689, "user_id": 5396946, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/0qCIs.png?s=128&g=1", "display_name": "Marv", "link": "https://stackoverflow.com/users/5396946/marv"}, "is_accepted": true, "score": 2, "last_activity_date": 1521635345, "last_edit_date": 1521635345, "creation_date": 1521627004, "answer_id": 49403457, "question_id": 49403387, "link": "https://stackoverflow.com/questions/49403387/how-to-convert-observable-to-array-angular4/49403457#49403457", "title": "how to convert observable to array ? angular4", "body": "<p>Use the async pipe</p>\n\n<pre><code>&lt;div *ngIf=\"(posts | async).length &gt; 0\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>to get the values for the current emit of your Observable.</p>\n"}, {"tags": [], "owner": {"reputation": 539, "user_id": 5349366, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HICMT.jpg?s=128&g=1", "display_name": "Ashish Sharma", "link": "https://stackoverflow.com/users/5349366/ashish-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1521701417, "creation_date": 1521701417, "answer_id": 49422264, "question_id": 49403387, "link": "https://stackoverflow.com/questions/49403387/how-to-convert-observable-to-array-angular4/49422264#49422264", "title": "how to convert observable to array ? angular4", "body": "<p>Would like to improve previous ans..\nasync pipe itself check for null or undefined value therefore no need to check .length>0 . So improved answer would be</p>\n\n<pre><code>*ngIf=\"(post | async)\"\n</code></pre>\n\n<p>or another way is </p>\n\n<pre><code>*ngIf=\"post.value.length&gt;0\"\n</code></pre>\n\n<p>Hope this will help you :)</p>\n"}], "owner": {"reputation": 1, "user_id": 9492594, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qy6rv.jpg?s=128&g=1", "display_name": "Hicham Boullban", "link": "https://stackoverflow.com/users/9492594/hicham-boullban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 796, "favorite_count": 0, "accepted_answer_id": 49403457, "answer_count": 2, "score": 0, "last_activity_date": 1521701417, "creation_date": 1521626822, "last_edit_date": 1521637501, "question_id": 49403387, "link": "https://stackoverflow.com/questions/49403387/how-to-convert-observable-to-array-angular4", "title": "how to convert observable to array ? angular4", "body": "<p>post has a type observable not array , I need a help</p>\n\n<p><a href=\"https://i.stack.imgur.com/jDe23.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jDe23.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["json", "angular", "typescript", "object"], "answers": [{"comments": [{"owner": {"reputation": 467, "user_id": 6787447, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b408560b4bdbcffe49e5e7c90af41fe1?s=128&d=identicon&r=PG&f=1", "display_name": "DBoi", "link": "https://stackoverflow.com/users/6787447/dboi"}, "edited": false, "score": 0, "creation_date": 1521626444, "post_id": 49403100, "comment_id": 85807484, "body": "I&#39;m getting the error Property &#39;find&#39; does not exist on type &#39;Observable&lt;Object&gt;&#39;"}, {"owner": {"reputation": 2321, "user_id": 7610968, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c2780545bb5d74b25c2b3b1c93dd8201?s=128&d=identicon&r=PG&f=1", "display_name": "Roland R&#225;cz", "link": "https://stackoverflow.com/users/7610968/roland-r%c3%a1cz"}, "reply_to_user": {"reputation": 467, "user_id": 6787447, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b408560b4bdbcffe49e5e7c90af41fe1?s=128&d=identicon&r=PG&f=1", "display_name": "DBoi", "link": "https://stackoverflow.com/users/6787447/dboi"}, "edited": false, "score": 0, "creation_date": 1521626533, "post_id": 49403100, "comment_id": 85807545, "body": "@DBoi You have to import <code>find</code>: <code>import &#39;rxjs&#47;add&#47;operator&#47;find&#39;;</code>"}, {"owner": {"reputation": 467, "user_id": 6787447, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b408560b4bdbcffe49e5e7c90af41fe1?s=128&d=identicon&r=PG&f=1", "display_name": "DBoi", "link": "https://stackoverflow.com/users/6787447/dboi"}, "edited": false, "score": 0, "creation_date": 1521626906, "post_id": 49403100, "comment_id": 85807776, "body": "Thanks Roland. i&#39;m now getting this error on the first &#39;id&#39; - Property &#39;id&#39; does not exist on type &#39;Object&#39; even though my ILead model has an id:string;"}, {"owner": {"reputation": 2321, "user_id": 7610968, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c2780545bb5d74b25c2b3b1c93dd8201?s=128&d=identicon&r=PG&f=1", "display_name": "Roland R&#225;cz", "link": "https://stackoverflow.com/users/7610968/roland-r%c3%a1cz"}, "reply_to_user": {"reputation": 467, "user_id": 6787447, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b408560b4bdbcffe49e5e7c90af41fe1?s=128&d=identicon&r=PG&f=1", "display_name": "DBoi", "link": "https://stackoverflow.com/users/6787447/dboi"}, "edited": false, "score": 0, "creation_date": 1521627291, "post_id": 49403100, "comment_id": 85808060, "body": "@DBoi Even if your <code>ILead</code> model has <code>id</code>, are you sure that the object has? In your JSON file you have <code>LeadId</code>. Try this: <code>order.LeadId === id</code>. If this is not the issue, try to log your object to check what&#39;s the problem with it."}, {"owner": {"reputation": 467, "user_id": 6787447, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b408560b4bdbcffe49e5e7c90af41fe1?s=128&d=identicon&r=PG&f=1", "display_name": "DBoi", "link": "https://stackoverflow.com/users/6787447/dboi"}, "edited": false, "score": 0, "creation_date": 1521629957, "post_id": 49403100, "comment_id": 85809917, "body": "Unfortunately i&#39;m still getting the same error using LeadId. Have I mapped it correctly in the getAllLeads function? Its logging the array in the console if I do .map((response) =&gt; console.log(response));"}, {"owner": {"reputation": 2321, "user_id": 7610968, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c2780545bb5d74b25c2b3b1c93dd8201?s=128&d=identicon&r=PG&f=1", "display_name": "Roland R&#225;cz", "link": "https://stackoverflow.com/users/7610968/roland-r%c3%a1cz"}, "reply_to_user": {"reputation": 467, "user_id": 6787447, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b408560b4bdbcffe49e5e7c90af41fe1?s=128&d=identicon&r=PG&f=1", "display_name": "DBoi", "link": "https://stackoverflow.com/users/6787447/dboi"}, "edited": false, "score": 0, "creation_date": 1521632525, "post_id": 49403100, "comment_id": 85811692, "body": "I think, I know the problem now: in your <code>getAllLeads</code> method change <code>map</code> to <code>flatMap</code> (with the same parameter). It should work. I update my answer too."}, {"owner": {"reputation": 467, "user_id": 6787447, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b408560b4bdbcffe49e5e7c90af41fe1?s=128&d=identicon&r=PG&f=1", "display_name": "DBoi", "link": "https://stackoverflow.com/users/6787447/dboi"}, "edited": false, "score": 0, "creation_date": 1521633334, "post_id": 49403100, "comment_id": 85812234, "body": "thanks Roland, just in case you need to update your answer... I had to import &#39;rxjs/add/operator/mergeMap&#39;;"}, {"owner": {"reputation": 467, "user_id": 6787447, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b408560b4bdbcffe49e5e7c90af41fe1?s=128&d=identicon&r=PG&f=1", "display_name": "DBoi", "link": "https://stackoverflow.com/users/6787447/dboi"}, "edited": false, "score": 0, "creation_date": 1521633385, "post_id": 49403100, "comment_id": 85812275, "body": "Getting the following error: Argument of type &#39;(data: Object) =&gt; Object&#39; is not assignable to parameter of type &#39;(value: Object, index: number) =&gt; ObservableInput&lt;{}&gt;&#39;.   Type &#39;Object&#39; is not assignable to type &#39;ObservableInput&lt;{}&gt;&#39;.     The &#39;Object&#39; type is assignable to very few other types. Did you mean to use the &#39;any&#39; type instead?       Type &#39;Object&#39; is not assignable to type &#39;ArrayLike&lt;{}&gt;&#39;.         The &#39;Object&#39; type is assignable to very few other types. Did you mean to use the &#39;any&#39; type instead?           Property &#39;length&#39; is missing in type &#39;Object&#39;."}, {"owner": {"reputation": 2321, "user_id": 7610968, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c2780545bb5d74b25c2b3b1c93dd8201?s=128&d=identicon&r=PG&f=1", "display_name": "Roland R&#225;cz", "link": "https://stackoverflow.com/users/7610968/roland-r%c3%a1cz"}, "reply_to_user": {"reputation": 467, "user_id": 6787447, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b408560b4bdbcffe49e5e7c90af41fe1?s=128&d=identicon&r=PG&f=1", "display_name": "DBoi", "link": "https://stackoverflow.com/users/6787447/dboi"}, "edited": false, "score": 0, "creation_date": 1521634090, "post_id": 49403100, "comment_id": 85812770, "body": "You should play with <code>console.log</code> in your <code>getAllLeads()</code> too to check the issue. Maybe try something like this: <code>.flatMap((data: any[]) =&gt; data)</code>."}, {"owner": {"reputation": 467, "user_id": 6787447, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b408560b4bdbcffe49e5e7c90af41fe1?s=128&d=identicon&r=PG&f=1", "display_name": "DBoi", "link": "https://stackoverflow.com/users/6787447/dboi"}, "edited": false, "score": 1, "creation_date": 1521634744, "post_id": 49403100, "comment_id": 85813238, "body": "That worked. Thanks so much for taking the time to help - its much appreciated. Also learnt something new - mergeMap!"}], "tags": [], "owner": {"reputation": 2321, "user_id": 7610968, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c2780545bb5d74b25c2b3b1c93dd8201?s=128&d=identicon&r=PG&f=1", "display_name": "Roland R&#225;cz", "link": "https://stackoverflow.com/users/7610968/roland-r%c3%a1cz"}, "is_accepted": true, "score": 1, "last_activity_date": 1521634963, "last_edit_date": 1521634963, "creation_date": 1521626093, "answer_id": 49403100, "question_id": 49403020, "link": "https://stackoverflow.com/questions/49403020/angular-2-getting-object-id-from-array-and-displaying-data/49403100#49403100", "title": "Angular 2 - Getting object id from array and displaying data", "body": "<p>You didn't used the newly created <code>leads</code> array (<code>const leads</code> is not <code>this.leads</code>), so do this:</p>\n\n<pre><code>getLead(id: any) {\n    return this.getAllLeads().find(order =&gt; order.LeadId === id);\n}\n</code></pre>\n\n<p>And change your <code>map</code> to <code>flatMap</code>, because from the server you get an array, but you have to transform it to a stream of its items:</p>\n\n<pre><code>getAllLeads() {\n    return this.http.get('../../assets/leads.json').flatMap(data =&gt; data);\n}\n</code></pre>\n\n<p>Don't forget to import it if you have to: <code>import 'rxjs/add/operator/flatMap';</code></p>\n"}, {"comments": [{"owner": {"reputation": 467, "user_id": 6787447, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b408560b4bdbcffe49e5e7c90af41fe1?s=128&d=identicon&r=PG&f=1", "display_name": "DBoi", "link": "https://stackoverflow.com/users/6787447/dboi"}, "edited": false, "score": 0, "creation_date": 1521626427, "post_id": 49403106, "comment_id": 85807465, "body": "im getting the error Property &#39;find&#39; does not exist on type &#39;Observable&lt;Object&gt;&#39;"}, {"owner": {"reputation": 467, "user_id": 6787447, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b408560b4bdbcffe49e5e7c90af41fe1?s=128&d=identicon&r=PG&f=1", "display_name": "DBoi", "link": "https://stackoverflow.com/users/6787447/dboi"}, "edited": false, "score": 0, "creation_date": 1521627968, "post_id": 49403106, "comment_id": 85808524, "body": "in my getAllLeads function?"}, {"owner": {"reputation": 467, "user_id": 6787447, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b408560b4bdbcffe49e5e7c90af41fe1?s=128&d=identicon&r=PG&f=1", "display_name": "DBoi", "link": "https://stackoverflow.com/users/6787447/dboi"}, "edited": false, "score": 0, "creation_date": 1521631085, "post_id": 49403106, "comment_id": 85810681, "body": "are you referring to my JSON set up?"}], "tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": false, "score": 1, "last_activity_date": 1521626105, "creation_date": 1521626105, "answer_id": 49403106, "question_id": 49403020, "link": "https://stackoverflow.com/questions/49403020/angular-2-getting-object-id-from-array-and-displaying-data/49403106#49403106", "title": "Angular 2 - Getting object id from array and displaying data", "body": "<p>You can have getLead in your component level itself since you are not making any api to get the information. In your component,</p>\n\n<pre><code>this.lead = this.leads.find(order =&gt; order.id === id);\n</code></pre>\n\n<p>or to make the above service work, just do <strong><code>leads</code></strong> instead of <strong><code>this.leads</code></strong></p>\n\n<pre><code> const lead = leads.find(order =&gt; order.id === id);\n</code></pre>\n"}], "owner": {"reputation": 467, "user_id": 6787447, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b408560b4bdbcffe49e5e7c90af41fe1?s=128&d=identicon&r=PG&f=1", "display_name": "DBoi", "link": "https://stackoverflow.com/users/6787447/dboi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1250, "favorite_count": 0, "accepted_answer_id": 49403100, "answer_count": 2, "score": 0, "last_activity_date": 1521634963, "creation_date": 1521625916, "last_edit_date": 1521631213, "question_id": 49403020, "link": "https://stackoverflow.com/questions/49403020/angular-2-getting-object-id-from-array-and-displaying-data", "title": "Angular 2 - Getting object id from array and displaying data", "body": "<p>I currently have a service that gets an array of json objects from a json file which displays a list of leads. Each lead has an id and when a lead within this list is clicked it takes the user to a view that has this id in the url ie ( /lead/156af71250a941ccbdd65f73e5af2e67 )</p>\n\n<p>I've been trying to get this object by id through my leads service but just cant get it working. Where am I going wrong?</p>\n\n<p>Also, i'm using two way binding in my html.</p>\n\n<p>SERVICE</p>\n\n<pre><code>  leads;\n\n  constructor(private http: HttpClient) { }\n\n  getAllLeads() {\n    return this.http.get('../../assets/leads.json').map((response) =&gt; response);\n  }\n\n  getLead(id: any) {\n    const leads = this.getAllLeads();\n    const lead = this.leads.find(order =&gt; order.id === id);\n    return lead;\n  }\n</code></pre>\n\n<p>COMPONENT</p>\n\n<pre><code>  lead = {};\n\n  constructor(\n    private leadService: LeadService,\n    private route: ActivatedRoute) {\n\n      const id = this.route.snapshot.paramMap.get('id');\n      if (id) { this.leadService.getLead(id).take(1).subscribe(lead =&gt; this.lead = lead); }\n\n   }\n</code></pre>\n\n<p>JSON</p>\n\n<pre><code>[\n  {\n    \"LeadId\": \"156af71250a941ccbdd65f73e5af2e66\",\n    \"LeadTime\": \"2016-03-04T10:53:05+00:00\",\n    \"SourceUserName\": \"Fred Dibnah\",\n    \"LeadNumber\": \"1603041053\",\n  },\n  {\n    \"LeadId\": \"156af71250a999ccbdd65f73e5af2e67\",\n    \"LeadTime\": \"2016-03-04T10:53:05+00:00\",\n    \"SourceUserName\": \"Harry Dibnah\",\n    \"LeadNumber\": \"1603021053\",\n  },\n  {\n    \"LeadId\": \"156af71250a999ccbdd65f73e5af2e68\",\n    \"LeadTime\": \"2016-03-04T10:53:05+00:00\",\n    \"SourceUserName\": \"John Doe\",\n    \"LeadNumber\": \"1603021053\",\n  }\n]\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-compiler"], "comments": [{"owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "edited": false, "score": 0, "creation_date": 1521625456, "post_id": 49402769, "comment_id": 85806750, "body": "I assume you&#39;re trying this with <code>ng serve</code>?"}, {"owner": {"reputation": 3383, "user_id": 2725515, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7583b5da6060911751cf5420a8ced1c?s=128&d=identicon&r=PG", "display_name": "Florian G&#246;ssele", "link": "https://stackoverflow.com/users/2725515/florian-g%c3%b6ssele"}, "reply_to_user": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "edited": false, "score": 0, "creation_date": 1521627430, "post_id": 49402769, "comment_id": 85808156, "body": "Also with ng build and --prod. I updated the question."}], "answers": [{"comments": [{"owner": {"reputation": 3383, "user_id": 2725515, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7583b5da6060911751cf5420a8ced1c?s=128&d=identicon&r=PG", "display_name": "Florian G&#246;ssele", "link": "https://stackoverflow.com/users/2725515/florian-g%c3%b6ssele"}, "edited": false, "score": 0, "creation_date": 1521627344, "post_id": 49403124, "comment_id": 85808096, "body": "I forgot to mention that I use TSLint in my IDE, but we could add it to the build-process or git-hooks to prevent having broken code..."}, {"owner": {"reputation": 6326, "user_id": 1876572, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/DRVDE.jpg?s=128&g=1", "display_name": "Eldho", "link": "https://stackoverflow.com/users/1876572/eldho"}, "reply_to_user": {"reputation": 3383, "user_id": 2725515, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7583b5da6060911751cf5420a8ced1c?s=128&d=identicon&r=PG", "display_name": "Florian G&#246;ssele", "link": "https://stackoverflow.com/users/2725515/florian-g%c3%b6ssele"}, "edited": false, "score": 0, "creation_date": 1521627432, "post_id": 49403124, "comment_id": 85808157, "body": "Have you added that to build-process ?"}, {"owner": {"reputation": 3383, "user_id": 2725515, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7583b5da6060911751cf5420a8ced1c?s=128&d=identicon&r=PG", "display_name": "Florian G&#246;ssele", "link": "https://stackoverflow.com/users/2725515/florian-g%c3%b6ssele"}, "edited": false, "score": 0, "creation_date": 1521627473, "post_id": 49403124, "comment_id": 85808187, "body": "Not yet, will do. But I&#39;m still curious if this also works on compile-time - an when it doesn&#39;t, if (and why) it is a design issue of the ng Compiler."}, {"owner": {"reputation": 6326, "user_id": 1876572, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/DRVDE.jpg?s=128&g=1", "display_name": "Eldho", "link": "https://stackoverflow.com/users/1876572/eldho"}, "reply_to_user": {"reputation": 3383, "user_id": 2725515, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7583b5da6060911751cf5420a8ced1c?s=128&d=identicon&r=PG", "display_name": "Florian G&#246;ssele", "link": "https://stackoverflow.com/users/2725515/florian-g%c3%b6ssele"}, "edited": false, "score": 1, "creation_date": 1521627774, "post_id": 49403124, "comment_id": 85808390, "body": "pls take a look at this <a href=\"https://github.com/angular/angular/issues/19681\" rel=\"nofollow noreferrer\">github.com/angular/angular/issues/19681</a>"}], "tags": [], "owner": {"reputation": 6326, "user_id": 1876572, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/DRVDE.jpg?s=128&g=1", "display_name": "Eldho", "link": "https://stackoverflow.com/users/1876572/eldho"}, "is_accepted": true, "score": 2, "last_activity_date": 1521629041, "last_edit_date": 1521629041, "creation_date": 1521626162, "answer_id": 49403124, "question_id": 49402769, "link": "https://stackoverflow.com/questions/49402769/can-i-make-the-angular-compiler-throw-an-error-when-a-non-existing-property-is-b/49403124#49403124", "title": "Can I make the Angular Compiler throw an error when a non-existing property is bound?", "body": "<p>The feature will be available on angular 6. Based on the <a href=\"https://github.com/angular/angular/issues/19681\" rel=\"nofollow noreferrer\">Issue</a>.</p>\n\n<blockquote>\n  <p>We have a new compiler setting called fullTemplateTypeCheck (see\n  <a href=\"https://github.com/angular/angular/blob/master/packages/compiler-cli/src/transformers/api.ts#L99\" rel=\"nofollow noreferrer\">https://github.com/angular/angular/blob/master/packages/compiler-cli/src/transformers/api.ts#L99</a>)\n  which will reveal this error.</p>\n  \n  <p>This setting will become the default in Angular 6, and is highly\n  recommended. We didn't turn in on in Angular 5 to not break existing\n  users. I.e. the behavior you are seeing here is exactly what users saw\n  in Angular 4.</p>\n</blockquote>\n\n<p><strong>Angular 6 Below</strong></p>\n\n<p>You can USE <a href=\"https://marketplace.visualstudio.com/items?itemName=eg2.tslint\" rel=\"nofollow noreferrer\">TS Lint</a> to achieve this.\nI have used <a href=\"https://marketplace.visualstudio.com/items?itemName=eg2.tslint\" rel=\"nofollow noreferrer\">TS Lint</a> with visual studio code to validate non-existent property bindings and methods. </p>\n\n<blockquote>\n  <p>It wont stop you from compiling but still show a error. </p>\n</blockquote>\n\n<p>TS Lint will validate <code>method,property</code> not found in the component</p>\n\n<p><a href=\"https://i.stack.imgur.com/djNeP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/djNeP.png\" alt=\"Ts Lint showing error in visual studio code\"></a></p>\n\n<p><strong>The angular CLI still compile your code successfully.</strong></p>\n"}], "owner": {"reputation": 3383, "user_id": 2725515, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7583b5da6060911751cf5420a8ced1c?s=128&d=identicon&r=PG", "display_name": "Florian G&#246;ssele", "link": "https://stackoverflow.com/users/2725515/florian-g%c3%b6ssele"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1012, "favorite_count": 0, "accepted_answer_id": 49403124, "answer_count": 1, "score": 4, "last_activity_date": 1521629041, "creation_date": 1521625183, "last_edit_date": 1521627412, "question_id": 49402769, "link": "https://stackoverflow.com/questions/49402769/can-i-make-the-angular-compiler-throw-an-error-when-a-non-existing-property-is-b", "title": "Can I make the Angular Compiler throw an error when a non-existing property is bound?", "body": "<p>Consider the following template:</p>\n\n<pre><code>&lt;p&gt;Hello, {{ name }}&lt;/p&gt;\n&lt;button (click)=\"doLogin()\"&gt;Login&lt;/button&gt;\n</code></pre>\n\n<p>together with this TS-Class:</p>\n\n<pre><code>@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {}\n</code></pre>\n\n<p>Neither <code>name</code> nor <code>doLogin()</code> exist. Still it compiles and runs without error. Only when I try to click the button, I get the error message <em>doLogin is not a function</em> in the browser's console.</p>\n\n<p>I do know, that this behaviour (errors on runtime) is mostly intended by Javascript. Nevertheless, I'd like to have as many errors shown as possible at compile time. Using Typescript does most of this work.</p>\n\n<p>However, property bindings seem not to be evaluated at compile time. In my opinion, the Angular-Compiler should be capable of this. I tried setting <a href=\"https://angular.io/guide/aot-compiler#fulltemplatetypecheck\" rel=\"nofollow noreferrer\">fulltemplatetypecheck</a> to true, but this didn't seem to do the trick. Tried it with <code>ng serve</code>, <code>ng build</code> and <code>ng build --prod</code>.</p>\n\n<p><strong>Is there a way to detect non-existent property bindings while compiling? If not, is this an intended behaviour?</strong></p>\n\n<p>I'm using Angular 5.2.0, Typescript 2.5.3 and Angular CLI 1.6.4</p>\n"}, {"tags": ["javascript", "jquery", "typescript"], "comments": [{"owner": {"reputation": 1085, "user_id": 5894918, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/CnsRg.jpg?s=128&g=1", "display_name": "ZombieChowder", "link": "https://stackoverflow.com/users/5894918/zombiechowder"}, "edited": false, "score": 0, "creation_date": 1521624227, "post_id": 49402369, "comment_id": 85805958, "body": "so you are trying to change your <code>radioButton</code> on click but you&#39;ve set it to a constant?"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 2, "creation_date": 1521624315, "post_id": 49402369, "comment_id": 85806021, "body": "You&#39;ve tagged TypeScript, and the error is clearly from TypeScript, but I don&#39;t see any type annotations in the code...?"}, {"owner": {"reputation": 421, "user_id": 9434120, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ca3b1f5217c4b06b142ef05c0758fb0?s=128&d=identicon&r=PG&f=1", "display_name": "Balance", "link": "https://stackoverflow.com/users/9434120/balance"}, "edited": false, "score": 0, "creation_date": 1521624329, "post_id": 49402369, "comment_id": 85806028, "body": "okay. const is killing it?@ZombieChowder"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1521624412, "post_id": 49402369, "comment_id": 85806088, "body": "No, <code>const</code> is not the problem."}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1521624455, "post_id": 49402369, "comment_id": 85806116, "body": "What code, specifically, does the error point to?"}, {"owner": {"reputation": 421, "user_id": 9434120, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ca3b1f5217c4b06b142ef05c0758fb0?s=128&d=identicon&r=PG&f=1", "display_name": "Balance", "link": "https://stackoverflow.com/users/9434120/balance"}, "edited": false, "score": 0, "creation_date": 1521624463, "post_id": 49402369, "comment_id": 85806126, "body": "let is not helping @BelminBedak"}, {"owner": {"reputation": 421, "user_id": 9434120, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ca3b1f5217c4b06b142ef05c0758fb0?s=128&d=identicon&r=PG&f=1", "display_name": "Balance", "link": "https://stackoverflow.com/users/9434120/balance"}, "edited": false, "score": 0, "creation_date": 1521624532, "post_id": 49402369, "comment_id": 85806158, "body": "I mark code in what I have error@T.J.Crowder"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1521624747, "post_id": 49402369, "comment_id": 85806287, "body": "@eugene: <i>Specifically</i> -- which part of that line? (TypeScript does tell you, I believe; if not, move each part to a separate line.) (Meanwhile, you&#39;re just ignoring the question about the absense of any type annotations?)"}, {"owner": {"reputation": 1085, "user_id": 5894918, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/CnsRg.jpg?s=128&g=1", "display_name": "ZombieChowder", "link": "https://stackoverflow.com/users/5894918/zombiechowder"}, "edited": false, "score": 0, "creation_date": 1521624755, "post_id": 49402369, "comment_id": 85806293, "body": "I can see that the quotes are not properly used here <code>$(this).wrap(</code>&lt;span class=&#39;custom-radio-${radioName.replace(&#39;[&#39;, &#39;_&#39;).replace(&#39;]&#39;, &#39;&#39;)}&#39;&gt;&lt;/span&gt;<code>);</code> Since you are using single quotes, this section ``&lt;span class=` is not counted as a piece of the string."}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 1085, "user_id": 5894918, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/CnsRg.jpg?s=128&g=1", "display_name": "ZombieChowder", "link": "https://stackoverflow.com/users/5894918/zombiechowder"}, "edited": false, "score": 0, "creation_date": 1521624886, "post_id": 49402369, "comment_id": 85806365, "body": "@ZombieChowder: No, that line&#39;s fine. It&#39;s tricky, but the single quotes you&#39;re referring to are within a token (<code>${...}</code>) in the template literal. It&#39;s fine. (<a href=\"https://jsfiddle.net/nmuLxweL/\" rel=\"nofollow noreferrer\">In action here</a>.)"}, {"owner": {"reputation": 421, "user_id": 9434120, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ca3b1f5217c4b06b142ef05c0758fb0?s=128&d=identicon&r=PG&f=1", "display_name": "Balance", "link": "https://stackoverflow.com/users/9434120/balance"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1521624940, "post_id": 49402369, "comment_id": 85806396, "body": "@T.J.Crowder this one .not(this). About type of what are you talking?"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1521624988, "post_id": 49402369, "comment_id": 85806431, "body": "You&#39;re using TypeScript. The only reason for using TypeScript is type safety. To have type safety, you need type annotations. Your code is just JavaScript."}, {"owner": {"reputation": 1085, "user_id": 5894918, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/CnsRg.jpg?s=128&g=1", "display_name": "ZombieChowder", "link": "https://stackoverflow.com/users/5894918/zombiechowder"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 1, "creation_date": 1521624997, "post_id": 49402369, "comment_id": 85806436, "body": "@T.J.Crowder I guess I shouldn&#39;t consider dropping Farsight Soft. an email regarding any junior positions lol."}, {"owner": {"reputation": 421, "user_id": 9434120, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ca3b1f5217c4b06b142ef05c0758fb0?s=128&d=identicon&r=PG&f=1", "display_name": "Balance", "link": "https://stackoverflow.com/users/9434120/balance"}, "edited": false, "score": 0, "creation_date": 1521625180, "post_id": 49402369, "comment_id": 85806572, "body": "Okay. you talk about type of radioButton variable?@T.J.Crowder"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1521625463, "post_id": 49402369, "comment_id": 85806753, "body": "No. TypeScript believes <code>this</code> is of type <code>TElement</code>. But jQuery&#39;s <code>not</code> only accepts strings, elements, functions, arrays, and jQuery instances. So you need to ensure that you add any necessary type annotations to tell TypeScript what <code>this</code> is in the context where you&#39;re using it. (Given the code above, I&#39;m a bit surprised you have to.) I don&#39;t know precisely how you do that above (not being into TypeScript much)."}], "answers": [{"comments": [{"owner": {"reputation": 421, "user_id": 9434120, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ca3b1f5217c4b06b142ef05c0758fb0?s=128&d=identicon&r=PG&f=1", "display_name": "Balance", "link": "https://stackoverflow.com/users/9434120/balance"}, "edited": false, "score": 0, "creation_date": 1521630413, "post_id": 49404616, "comment_id": 85810212, "body": "1)types are installed 2) I added <code>interface Window {      load_autocomplete_fields: any;     load_datepickers :any;     load_datepickers_inline:any;      customCheckbox:any;     customCheckboxes:any;     customRadio:any;   }</code> into same file. so my custom window.**** are working  3) ajaxComplete?"}, {"owner": {"reputation": 421, "user_id": 9434120, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ca3b1f5217c4b06b142ef05c0758fb0?s=128&d=identicon&r=PG&f=1", "display_name": "Balance", "link": "https://stackoverflow.com/users/9434120/balance"}, "edited": false, "score": 0, "creation_date": 1521630596, "post_id": 49404616, "comment_id": 85810325, "body": "If i add <code>customRadio:()=&gt;JQuery</code> I have error <code>Type &#39;(radioName: any) =&gt; JQuery&lt;HTMLElement&gt;&#39; is not assignable to type &#39;() =&gt; JQuery&lt;HTMLElement&gt;&#39;.</code>"}, {"owner": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "reply_to_user": {"reputation": 421, "user_id": 9434120, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ca3b1f5217c4b06b142ef05c0758fb0?s=128&d=identicon&r=PG&f=1", "display_name": "Balance", "link": "https://stackoverflow.com/users/9434120/balance"}, "edited": false, "score": 0, "creation_date": 1521630675, "post_id": 49404616, "comment_id": 85810384, "body": "Yes make it (radioName:string) =&gt; jQuery"}, {"owner": {"reputation": 421, "user_id": 9434120, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ca3b1f5217c4b06b142ef05c0758fb0?s=128&d=identicon&r=PG&f=1", "display_name": "Balance", "link": "https://stackoverflow.com/users/9434120/balance"}, "edited": false, "score": 0, "creation_date": 1521630678, "post_id": 49404616, "comment_id": 85810385, "body": "Okay, solved it with <code>customRadio:(radioName)=&gt;JQuery;</code>"}, {"owner": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "reply_to_user": {"reputation": 421, "user_id": 9434120, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ca3b1f5217c4b06b142ef05c0758fb0?s=128&d=identicon&r=PG&f=1", "display_name": "Balance", "link": "https://stackoverflow.com/users/9434120/balance"}, "edited": false, "score": 0, "creation_date": 1521630748, "post_id": 49404616, "comment_id": 85810435, "body": "Where do you have a code for this errors &quot;Property &#39;ajaxComplete&#39; is missing in type &#39;Node&#39;.&quot;?  It means that somewhere script returns Node and not  JQuery. But in you function everything seems to be fine."}, {"owner": {"reputation": 421, "user_id": 9434120, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ca3b1f5217c4b06b142ef05c0758fb0?s=128&d=identicon&r=PG&f=1", "display_name": "Balance", "link": "https://stackoverflow.com/users/9434120/balance"}, "edited": false, "score": 0, "creation_date": 1521630753, "post_id": 49404616, "comment_id": 85810439, "body": "But have trouble here   <code>return $(radioButton).not(this).each(function() {       $(this).parent().removeClass(&quot;selected&quot;);   });</code>"}, {"owner": {"reputation": 421, "user_id": 9434120, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ca3b1f5217c4b06b142ef05c0758fb0?s=128&d=identicon&r=PG&f=1", "display_name": "Balance", "link": "https://stackoverflow.com/users/9434120/balance"}, "edited": false, "score": 0, "creation_date": 1521630798, "post_id": 49404616, "comment_id": 85810477, "body": "In <code>.not(this)</code>"}, {"owner": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "reply_to_user": {"reputation": 421, "user_id": 9434120, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ca3b1f5217c4b06b142ef05c0758fb0?s=128&d=identicon&r=PG&f=1", "display_name": "Balance", "link": "https://stackoverflow.com/users/9434120/balance"}, "edited": false, "score": 0, "creation_date": 1521631106, "post_id": 49404616, "comment_id": 85810695, "body": "Try not $(this), JQuery.not types returns same type as input. And this is an element.  So you need to use (radioButtons.not(this) as JQuery), or radiButtons.not($(this))"}, {"owner": {"reputation": 421, "user_id": 9434120, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ca3b1f5217c4b06b142ef05c0758fb0?s=128&d=identicon&r=PG&f=1", "display_name": "Balance", "link": "https://stackoverflow.com/users/9434120/balance"}, "edited": false, "score": 0, "creation_date": 1521631330, "post_id": 49404616, "comment_id": 85810848, "body": "Seems it helps. Thank&#39;s"}], "tags": [], "owner": {"reputation": 1109, "user_id": 5488380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7b6b2f77e94bf0296dc9a2bb71ed0b?s=128&d=identicon&r=PG&f=1", "display_name": "Vayrex", "link": "https://stackoverflow.com/users/5488380/vayrex"}, "is_accepted": true, "score": 1, "last_activity_date": 1521630201, "creation_date": 1521630201, "answer_id": 49404616, "question_id": 49402369, "link": "https://stackoverflow.com/questions/49402369/this-not-works-in-script/49404616#49404616", "title": "(this) not works in script", "body": "<ol>\n<li>Intall @types/jquery, if not installed.</li>\n<li>Add interface Window{customRadio:()=>JQuery} into separate file, without any imports/exports.</li>\n<li>Show the place where you are using \"ajaxComplete\" method</li>\n</ol>\n"}], "owner": {"reputation": 421, "user_id": 9434120, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ca3b1f5217c4b06b142ef05c0758fb0?s=128&d=identicon&r=PG&f=1", "display_name": "Balance", "link": "https://stackoverflow.com/users/9434120/balance"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 49404616, "answer_count": 1, "score": 0, "last_activity_date": 1521630201, "creation_date": 1521624145, "last_edit_date": 1521624374, "question_id": 49402369, "link": "https://stackoverflow.com/questions/49402369/this-not-works-in-script", "title": "(this) not works in script", "body": "<p>I have ts script\nHere is code of it</p>\n\n<pre><code>window.customRadio = function(radioName) {\n    const radioButton = $(`input[type=radio][name='${radioName}']`);\n    $(radioButton).each(function() {\n        $(this).wrap(`&lt;span class='custom-radio-${radioName.replace('[', '_').replace(']', '')}'&gt;&lt;/span&gt;`);\n        if ($(this).is(':checked')) {\n            $(this).parent().addClass(\"selected\");\n        }\n    });\n\n    return $(radioButton).click(function() {\n        if ($(this).is(':checked')) {\n            $(this).parent().addClass(\"selected\");\n        }\n\n        return $(radioButton).not(this).each(function() {\n            $(this).parent().removeClass(\"selected\");\n        });\n    });\n};\n</code></pre>\n\n<p>But in this row I have error <code>return $(radioButton).not(this).each(function() {</code></p>\n\n<p>Here is error message</p>\n\n<blockquote>\n  <p>Argument of type 'TElement' is not assignable to parameter of type 'JQuery'.\n    Type 'Node' is not assignable to type 'JQuery'.\n      Property 'ajaxComplete' is missing in type 'Node'.</p>\n</blockquote>\n\n<p>How I can solve it?</p>\n"}, {"tags": ["javascript", "typescript", "visual-studio-code", "vscode-extensions", "language-server-protocol"], "answers": [{"comments": [{"owner": {"reputation": 2589, "user_id": 661422, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/472aa5dffcda16cf23d2979d035f9605?s=128&d=identicon&r=PG", "display_name": "Kir", "link": "https://stackoverflow.com/users/661422/kir"}, "edited": false, "score": 0, "creation_date": 1581441088, "post_id": 49529838, "comment_id": 106431366, "body": "@ricardo-ferreira-da-silva - can you share more about how you solved this one? Were you able to get the document list into a <code>TextDocuments&lt;TextDocument&gt;</code> stream?"}], "tags": [], "owner": {"reputation": 728, "user_id": 749719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5f40b79a31287fa0e44ac597e65644f?s=128&d=identicon&r=PG", "display_name": "rcjsuen", "link": "https://stackoverflow.com/users/749719/rcjsuen"}, "is_accepted": true, "score": 2, "last_activity_date": 1522226458, "creation_date": 1522226458, "answer_id": 49529838, "question_id": 49402283, "link": "https://stackoverflow.com/questions/49402283/visual-studio-code-language-server-how-to-validate-all-files-in-workspace/49529838#49529838", "title": "Visual Studio Code Language Server - how to validate all files in workspace", "body": "<p>You need to inspect the <code>rootPath</code> or <code>rootUri</code> from the initial <code>initialize</code> request from the client. From there, you can validate all of its files and report errors as necessary. Of course, it is possible that both of those are <code>null</code>.</p>\n\n<p>If the client supports workspace folders, then you will need to interact with the <code>workspace/workspaceFolders</code> and <code>workspace/didChangeWorkspaceFolders</code> and extract the relevant information from there to determine how to validate your files.</p>\n"}], "owner": {"reputation": 323, "user_id": 5730919, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/925450257532623/picture?type=large", "display_name": "Ricardo Ferreira da Silva", "link": "https://stackoverflow.com/users/5730919/ricardo-ferreira-da-silva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 486, "favorite_count": 0, "accepted_answer_id": 49529838, "answer_count": 1, "score": 2, "last_activity_date": 1522226458, "creation_date": 1521623870, "last_edit_date": 1592644375, "question_id": 49402283, "link": "https://stackoverflow.com/questions/49402283/visual-studio-code-language-server-how-to-validate-all-files-in-workspace", "title": "Visual Studio Code Language Server - how to validate all files in workspace", "body": "<p>I followed this <a href=\"https://code.visualstudio.com/docs/extensions/example-language-server\" rel=\"nofollow noreferrer\">tutorial</a> from the visual studio code on how to create a language server to a validate an extension file. I proceeded to make a copy of the lsp-sample project and got it running.</p>\n<p>In my analysis of this project, I noticed that only open or changed files in the workspace are validated.</p>\n<pre><code>// The content of a text document has changed. This event is emitted\n// when the text document first opened or when its content has changed.        \ndocuments.onDidChangeContent((change) =&gt; { \n    validateTextDocument(change.document);\n});\n</code></pre>\n<p>This is all fine for most cases, but I think that when the workspace is opened all files (regardless of being open by the editor or not) should be validated in order to have a richer IDE experiencie in vscode.</p>\n<p>Can anyone experienced in the Language Server protocol help me on how to do this? As far as I know the &quot;documents&quot; object is only populated with opened files.</p>\n<p>Many thanks,\nRicardo</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 915, "user_id": 4097644, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c8207bc2be02ca3e7420d45d0c635bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Xenya", "link": "https://stackoverflow.com/users/4097644/xenya"}, "edited": false, "score": 0, "creation_date": 1521637116, "post_id": 49402070, "comment_id": 85814939, "body": "thanks for the answer but I really meant the union type. I want to get all possible keys of an union type (yes of Foo or Bar) so that I can do a exhaustive check."}, {"owner": {"reputation": 1289, "user_id": 3486500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b69018d8998aa40d898db0f8bd769fad?s=128&d=identicon&r=PG&f=1", "display_name": "Behrooz", "link": "https://stackoverflow.com/users/3486500/behrooz"}, "reply_to_user": {"reputation": 915, "user_id": 4097644, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c8207bc2be02ca3e7420d45d0c635bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Xenya", "link": "https://stackoverflow.com/users/4097644/xenya"}, "edited": false, "score": 0, "creation_date": 1521656765, "post_id": 49402070, "comment_id": 85829584, "body": "@Xenya Would you please provide a case in which <code>type Batz = Foo &amp; Bar;</code> doesn&#39;t work for getting the keys? In the above case, <code>Batz</code> is <code>&#39;foo&#39; | &#39;bar&#39;</code> as expected."}, {"owner": {"reputation": 915, "user_id": 4097644, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c8207bc2be02ca3e7420d45d0c635bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Xenya", "link": "https://stackoverflow.com/users/4097644/xenya"}, "edited": false, "score": 0, "creation_date": 1522060376, "post_id": 49402070, "comment_id": 85981324, "body": "you&#39;re right, for getting the key it works. But I have already the type <code>type Batz = Foo | Bar;</code>. I want to avoid to rewrite the type with <code>&amp;</code>."}], "tags": [], "owner": {"reputation": 1289, "user_id": 3486500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b69018d8998aa40d898db0f8bd769fad?s=128&d=identicon&r=PG&f=1", "display_name": "Behrooz", "link": "https://stackoverflow.com/users/3486500/behrooz"}, "is_accepted": false, "score": 1, "last_activity_date": 1521623215, "creation_date": 1521623215, "answer_id": 49402070, "question_id": 49401866, "link": "https://stackoverflow.com/questions/49401866/all-possible-keys-of-an-union-type/49402070#49402070", "title": "all possible keys of an union type", "body": "<p>Instead of a union type, you need an intersection type:</p>\n\n<pre><code>type Batz = Foo &amp; Bar;\n</code></pre>\n\n<p>I agree that their naming can sometimes be confusing.</p>\n"}, {"comments": [{"owner": {"reputation": 2125, "user_id": 5209122, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/9d7292e2ab1a57756856148d42a99f8e?s=128&d=identicon&r=PG&f=1", "display_name": "dmwong2268", "link": "https://stackoverflow.com/users/5209122/dmwong2268"}, "edited": false, "score": 0, "creation_date": 1534610236, "post_id": 49402091, "comment_id": 90771451, "body": "this is awesome - can you explain the difference between KeysOfUnion type and a simple <code>keyof T</code> type? the former returns the correct union of the keys, the latter an intersection (which is not useful)"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 2125, "user_id": 5209122, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/9d7292e2ab1a57756856148d42a99f8e?s=128&d=identicon&r=PG&f=1", "display_name": "dmwong2268", "link": "https://stackoverflow.com/users/5209122/dmwong2268"}, "edited": false, "score": 1, "creation_date": 1534610879, "post_id": 49402091, "comment_id": 90771614, "body": "@dmwong2268 added a bit more of an explanation let me know if it&#39;s clear"}, {"owner": {"reputation": 61, "user_id": 839382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24ad30578ef9fa0398c521a0b84b5b97?s=128&d=identicon&r=PG", "display_name": "M&#225;rton S&#225;ri", "link": "https://stackoverflow.com/users/839382/m%c3%a1rton-s%c3%a1ri"}, "edited": false, "score": 0, "creation_date": 1588629338, "post_id": 49402091, "comment_id": 108967957, "body": "@TitianCernicova-Dragomir Your solution works, but your explanation doesn&#39;t seem to explain anything, just re-states the behavior. I found a discussion on gitter in which you&#39;re pointing to the right place where it&#39;s explained, so let me add it here: <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#distributive-conditional-types\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/&hellip;</a>"}, {"owner": {"reputation": 1102, "user_id": 2330913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddf3c030e76294bb7efb25a90917c5e5?s=128&d=identicon&r=PG", "display_name": "Bing Ren", "link": "https://stackoverflow.com/users/2330913/bing-ren"}, "edited": false, "score": 0, "creation_date": 1601092807, "post_id": 49402091, "comment_id": 113304246, "body": "Great answer! I also found that you have to use generics, otherwise it won&#39;t work.  type allBatzKeys = KeysOfUnion&lt;Batz&gt; // &quot;foo&quot;|&quot;bar&quot;    type alternativeAllBatzKeys = Batz extends any ? keyof Batz: never;  // never"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 45, "last_activity_date": 1611137553, "last_edit_date": 1611137553, "creation_date": 1521623267, "answer_id": 49402091, "question_id": 49401866, "link": "https://stackoverflow.com/questions/49401866/all-possible-keys-of-an-union-type/49402091#49402091", "title": "all possible keys of an union type", "body": "<p>This can be done in typescript 2.8 and later using conditional types. Conditional types iterate over types in a union, union-ing the result:</p>\n<pre><code>type Batz = Foo | Bar;\n\ntype KeysOfUnion&lt;T&gt; = T extends T ? keyof T: never;\n// AvailableKeys will basically be keyof Foo | keyof Bar \n// so it will be  &quot;foo&quot; | &quot;bar&quot;\ntype AvailableKeys = KeysOfUnion&lt;Batz&gt;; \n</code></pre>\n<p>The reason a simple <code>keyof Union</code> does not work is because <code>keyof</code> always returns the accessible keys of a type, in the case of a union that will only be the common keys. The conditional type in <code>KeysOfUnion</code> will actually take each member of the union and get its keys so the result will be a union of <code>keyof</code> applied to each member in the union.</p>\n"}], "owner": {"reputation": 915, "user_id": 4097644, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c8207bc2be02ca3e7420d45d0c635bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Xenya", "link": "https://stackoverflow.com/users/4097644/xenya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4585, "favorite_count": 5, "accepted_answer_id": 49402091, "answer_count": 2, "score": 24, "last_activity_date": 1611137553, "creation_date": 1521622576, "question_id": 49401866, "link": "https://stackoverflow.com/questions/49401866/all-possible-keys-of-an-union-type", "title": "all possible keys of an union type", "body": "<p>I want to get all available keys of an union type.</p>\n\n<pre><code>interface Foo {\n  foo: string;\n}\n\ninterface Bar {\n   bar: string;\n}\n\ntype Batz = Foo | Bar;\n\ntype AvailableKeys = keyof Batz;\n</code></pre>\n\n<p>I want to have <code>'foo' | 'bar'</code> as result of <code>AvailableKeys</code> but it is <code>never</code> (as alternative I could do <code>keyof (Foo &amp; Bar)</code>, what produces exact the required type but I want to avoid to repeat the Types).</p>\n\n<p>I found already the issue <a href=\"https://github.com/Microsoft/TypeScript/issues/12948\" rel=\"noreferrer\"><code>keyof</code> union type should produce union of keys</a> at github. I understand the answer, that <code>keyof UnionType</code> should not produce all possible keys.</p>\n\n<p>So my question is: Is there an other way to get the list of all possible keys (it is ok if the verison 2.8 of tsc is required)?</p>\n"}, {"tags": ["html", "angular", "typescript", "angular5"], "answers": [{"tags": [], "owner": {"reputation": 293, "user_id": 5693811, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/kV7LK.jpg?s=128&g=1", "display_name": "Padma Rubhan", "link": "https://stackoverflow.com/users/5693811/padma-rubhan"}, "is_accepted": true, "score": 0, "last_activity_date": 1524196618, "creation_date": 1524196618, "answer_id": 49933748, "question_id": 49401825, "link": "https://stackoverflow.com/questions/49401825/angular-shows-files-method-as-property-does-not-exist-on-type-htmlelement-w/49933748#49933748", "title": "Angular shows .files method as &quot;property does not exist on type &#39;htmlelement&#39;&quot; while try to get files from input type file", "body": "<p>methods like <code>.files</code> should be used in targeted services. It is not supported in the components. </p>\n"}], "owner": {"reputation": 293, "user_id": 5693811, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/kV7LK.jpg?s=128&g=1", "display_name": "Padma Rubhan", "link": "https://stackoverflow.com/users/5693811/padma-rubhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 348, "favorite_count": 1, "accepted_answer_id": 49933748, "answer_count": 1, "score": 1, "last_activity_date": 1524196618, "creation_date": 1521622448, "last_edit_date": 1521698103, "question_id": 49401825, "link": "https://stackoverflow.com/questions/49401825/angular-shows-files-method-as-property-does-not-exist-on-type-htmlelement-w", "title": "Angular shows .files method as &quot;property does not exist on type &#39;htmlelement&#39;&quot; while try to get files from input type file", "body": "<p>I am trying to show the image which i have selected from input type file.</p>\n\n<p>Here every thing is working fine, I also got the output.</p>\n\n<p>but the problem is in component try to get the value of input file, particularly using .file method, it show error( error TS2339: Property 'files' does not exist on type 'HTMLElement'). in editor also it shows like \"Property does not exist on type HTMLElement\".</p>\n\n<p>coding is working fine, still this error is showing. </p>\n\n<p>HTML page</p>\n\n<pre><code>  &lt;input type=\"file\" id=\"fileupload\" class=\"fileupload\" name=\"Image\" (change)=\"showimgupload()\" accept=\"image/*\" multiple=\"true\"&gt;\n</code></pre>\n\n<p>Component</p>\n\n<pre><code> showimgupload(){\n               var img_file =  document.getElementById(\"fileupload\") ;\n                  var imgTemp = img_file.files //here in .files shows error\n           console.log(imgTemp);\n              }\n</code></pre>\n\n<p>I try this the following:</p>\n\n<p>1) : HTMLElement\n2) as HTMLMediaElement</p>\n\n<p>still it is not working.so any one can help me to remove this error.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1521622201, "post_id": 49401696, "comment_id": 85804675, "body": "Why would you wan&#39;t to do that? <code>HttpClient</code> is already your <code>RestService</code> so you should just inject it in each of your services."}, {"owner": {"reputation": 13201, "user_id": 3486691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dc01f3f85a630c36252819704ad397d?s=128&d=identicon&r=PG", "display_name": "ForestG", "link": "https://stackoverflow.com/users/3486691/forestg"}, "edited": false, "score": 0, "creation_date": 1521622470, "post_id": 49401696, "comment_id": 85804852, "body": "I usually use only one &quot;RestService&quot;, directly from components. It makes more sense, as the components themselves can handle the error or success handling.   that way you keep your S1, S2 etc. services, but any backend communication is used in a different service.  If you inherit the methods which return observable / promises, you would just pass them trough anyway from the in-between services.   To answer your question: I think the latter is better, you use single communication endpoints and parameter those differently - but I don&#39;t know any performance differences."}], "answers": [{"tags": [], "owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "is_accepted": false, "score": 1, "last_activity_date": 1521625111, "creation_date": 1521625111, "answer_id": 49402732, "question_id": 49401696, "link": "https://stackoverflow.com/questions/49401696/inheritance-vs-injection-in-use-of-angular-4-service/49402732#49402732", "title": "Inheritance vs Injection in use of Angular 4 service", "body": "<p>I like to have a \"base service\"</p>\n\n<pre><code>export class ServiceModel&lt;T&gt;{\n    type: string;\n    url: string;\n    ...\n    constructor(private _http: HttpClient) {\n    }\n    list(): Observable&lt;T[]&gt; {\n        return this._http.get&lt;T[]&gt;(this.url)\n    }\n    ...\n}\n</code></pre>\n\n<p>Then in data1Service</p>\n\n<pre><code>export interface IData1\n{\n    id:number;\n    desc:string;\n    ...\n}\n\n@Injectable()\nexport class Data1Service extends ServiceModel&lt;IData1&gt; {\n    type:string=\"data1\";\n    url:string=\"myurl/data1\";\n\n    constructor(http: HttpClient) {\n        super(http)\n    }\n}\n</code></pre>\n\n<p>But I don't kwon if this answer resolve your question :(</p>\n"}], "owner": {"reputation": 105, "user_id": 5093990, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Iugh3R6yghs/AAAAAAAAAAI/AAAAAAAAASc/Q2yygPY3-AU/photo.jpg?sz=128", "display_name": "KaustubhN", "link": "https://stackoverflow.com/users/5093990/kaustubhn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521625111, "creation_date": 1521622026, "last_edit_date": 1521622405, "question_id": 49401696, "link": "https://stackoverflow.com/questions/49401696/inheritance-vs-injection-in-use-of-angular-4-service", "title": "Inheritance vs Injection in use of Angular 4 service", "body": "<p>I am a bit new to world of Angular. I am currently using Angular-4.4.6.\n<strong>My scenario is as follows:</strong>\nI have 3 components (for e.g. C1, C2, C3) each of which use their own services(e.g. S1, S2, S3 resp.) which then call \"http.get()\" to get the data from rest backend.\nWhat I want to know is instead of injecting the \"http:HttpClient\" in each of the three services, should I just create a 'RestService' class which has all the rest calls like get(), post(), put(), delete() and then:</p>\n\n<ul>\n<li>extend this base class into each of my 3 services where I will\nsubscribe to these method calls of base class and then use the data\nfetched?</li>\n</ul>\n\n<p>OR</p>\n\n<ul>\n<li>inject the 'RestService' which has generic methods into constructor of each of my services and then use these services by subscribing them?</li>\n</ul>\n\n<p>Are there any performance hits with these two approaches?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 58, "user_id": 5623063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b6626625b375f534791ef9e92954c60?s=128&d=identicon&r=PG&f=1", "display_name": "Ilfat Galiev", "link": "https://stackoverflow.com/users/5623063/ilfat-galiev"}, "is_accepted": false, "score": 1, "last_activity_date": 1548247181, "creation_date": 1548247181, "answer_id": 54327501, "question_id": 49401503, "link": "https://stackoverflow.com/questions/49401503/adding-request-library-to-power-bi-custom-visual/54327501#54327501", "title": "Adding request library to Power BI custom visual", "body": "<p>powerbi-visuals-tools@2.x.x doesn't support external modules and imports statement. </p>\n\n<p>You need to use powerbi-visuals-tools@3.x.x</p>\n\n<p>There is tutorial how to develop Power BI Custom Visual:</p>\n\n<p><a href=\"https://microsoft.github.io/PowerBI-visuals/docs/step-by-step-lab/developing-a-power-bi-custom-visual/\" rel=\"nofollow noreferrer\">https://microsoft.github.io/PowerBI-visuals/docs/step-by-step-lab/developing-a-power-bi-custom-visual/</a></p>\n\n<p>There is short docs how to use the new tools:</p>\n\n<p><a href=\"https://microsoft.github.io/PowerBI-visuals/docs/how-to-guide/migrating-to-powerbi-visuals-tools-3-0/\" rel=\"nofollow noreferrer\">https://microsoft.github.io/PowerBI-visuals/docs/how-to-guide/migrating-to-powerbi-visuals-tools-3-0/</a></p>\n"}], "owner": {"reputation": 350, "user_id": 3079296, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/OFBBP.jpg?s=128&g=1", "display_name": "Graffl", "link": "https://stackoverflow.com/users/3079296/graffl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548247181, "creation_date": 1521621400, "question_id": 49401503, "link": "https://stackoverflow.com/questions/49401503/adding-request-library-to-power-bi-custom-visual", "title": "Adding request library to Power BI custom visual", "body": "<p>I am using Visual Code on a Mac and trying to create a custom Power BI visual including</p>\n\n<pre><code>npm install request --save\n</code></pre>\n\n<p>I am adding the request.js file under <code>tsconfig.json</code> and <code>pbiviz.json</code> using the path </p>\n\n<pre><code>\"node_modules/request/request.js\"\n</code></pre>\n\n<p>I am trying to import request using</p>\n\n<pre><code>import * as request from 'request';\n</code></pre>\n\n<p>This gives me the error:</p>\n\n<blockquote>\n  <p>Cannot compile modules using option 'out' unless the '--module' flag is 'amd' or 'system'.</p>\n</blockquote>\n\n<p>Once I change the settings in <code>tsconfig.json</code> to <code>module: \"system\"</code>, error messages appear like</p>\n\n<blockquote>\n  <p>Cannot find name 'IVisual'</p>\n</blockquote>\n\n<p>I tried many other things, but somehow I cannot make \"request\" work here.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 5501952, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b580ace229528e712b78ec58432aefef?s=128&d=identicon&r=PG&f=1", "display_name": "Kert", "link": "https://stackoverflow.com/users/5501952/kert"}, "edited": false, "score": 0, "creation_date": 1521621431, "post_id": 49401377, "comment_id": 85804214, "body": "Yes, I&#39;ve been told that Angular and jQuery shouldn&#39;t go together, but I need it and removing it from the file entirely didn&#39;t help with the issue in hand. Also - this solution unfortunately doesn&#39;t display the data."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 91, "user_id": 5501952, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b580ace229528e712b78ec58432aefef?s=128&d=identicon&r=PG&f=1", "display_name": "Kert", "link": "https://stackoverflow.com/users/5501952/kert"}, "edited": false, "score": 0, "creation_date": 1521621486, "post_id": 49401377, "comment_id": 85804252, "body": "<code>I need it</code> no you don&#39;t. Everything that JQuery does, Angular does the same. And what is your issue now ?"}, {"owner": {"reputation": 91, "user_id": 5501952, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b580ace229528e712b78ec58432aefef?s=128&d=identicon&r=PG&f=1", "display_name": "Kert", "link": "https://stackoverflow.com/users/5501952/kert"}, "edited": false, "score": 0, "creation_date": 1521621617, "post_id": 49401377, "comment_id": 85804345, "body": "Guess I&#39;m just used to jQuery. I will look into getting rid of it, though. The issue remains - the data is not displayed. Now it also doesn&#39;t show the select boxes because of the *ngIf."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 91, "user_id": 5501952, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b580ace229528e712b78ec58432aefef?s=128&d=identicon&r=PG&f=1", "display_name": "Kert", "link": "https://stackoverflow.com/users/5501952/kert"}, "edited": false, "score": 0, "creation_date": 1521622019, "post_id": 49401377, "comment_id": 85804557, "body": "Well the, you don&#39;t get your data the right way. log every variable you try to assign and see if it has data."}, {"owner": {"reputation": 350, "user_id": 6457480, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh5.googleusercontent.com/-vOOnxZVfhk4/AAAAAAAAAAI/AAAAAAAAANQ/duSduCJSm7U/photo.jpg?sz=128", "display_name": "Boanta Ionut", "link": "https://stackoverflow.com/users/6457480/boanta-ionut"}, "edited": false, "score": 0, "creation_date": 1521622047, "post_id": 49401377, "comment_id": 85804571, "body": "I had issues with the filter function as well. The workaround that I found was to clone the array, something like : this.selectedPlace = JSON.parse(JSON.stringify(array.filter())). For some reason the filter in some cases finishes after the next line is read."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 350, "user_id": 6457480, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh5.googleusercontent.com/-vOOnxZVfhk4/AAAAAAAAAAI/AAAAAAAAANQ/duSduCJSm7U/photo.jpg?sz=128", "display_name": "Boanta Ionut", "link": "https://stackoverflow.com/users/6457480/boanta-ionut"}, "edited": false, "score": 0, "creation_date": 1521622243, "post_id": 49401377, "comment_id": 85804702, "body": "@BoantaIonut make a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> if you say things like that, because I&#39;ve never faced this kind of issue."}, {"owner": {"reputation": 350, "user_id": 6457480, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh5.googleusercontent.com/-vOOnxZVfhk4/AAAAAAAAAAI/AAAAAAAAANQ/duSduCJSm7U/photo.jpg?sz=128", "display_name": "Boanta Ionut", "link": "https://stackoverflow.com/users/6457480/boanta-ionut"}, "edited": false, "score": 0, "creation_date": 1521622876, "post_id": 49401377, "comment_id": 85805123, "body": "Alright, lets say I have a class that contains a string and a boolean property. You are creating an array of elements of that custom class. After a while you have to submit only the elements which have the boolean property set on true. Assigning a constant only those elements like const ex = this.array.filter(element =&gt; element.booleanValue) amd then iterating over that constant was not working for me. The workaround that worked was const ex = JSON.parse(JSON.stringify(this.array.filter(element =&gt; element.booleanValue)))."}, {"owner": {"reputation": 350, "user_id": 6457480, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh5.googleusercontent.com/-vOOnxZVfhk4/AAAAAAAAAAI/AAAAAAAAANQ/duSduCJSm7U/photo.jpg?sz=128", "display_name": "Boanta Ionut", "link": "https://stackoverflow.com/users/6457480/boanta-ionut"}, "edited": false, "score": 0, "creation_date": 1521622919, "post_id": 49401377, "comment_id": 85805149, "body": "Sorry, but I cannot provide a live example right now, I just share my past experiences."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1521623465, "post_id": 49401377, "comment_id": 85805451, "body": "And as I just said, you can share all you want, but until you make a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, don&#39;t say things like that, the only thing it does is inducing doubt in the head of people that already have an issue with their code."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": false, "score": 4, "last_activity_date": 1521621505, "last_edit_date": 1521621505, "creation_date": 1521620916, "answer_id": 49401377, "question_id": 49401311, "link": "https://stackoverflow.com/questions/49401311/angular-template-renders-before-dynamic-data/49401377#49401377", "title": "Angular template renders before dynamic data", "body": "<p><strong>STOP</strong><br>\n<strong>USING</strong><br>\n<strong>JQUERY</strong><br>\n<strong>WITH</strong>\n<strong>ANGULAR</strong></p>\n\n<p>I can't say it enough. JQuery is made for manipulating the DOM, and you should not do that in Angular. </p>\n\n<p>If you want to wait for your data to be loaded, use conditions in your HTML template. </p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;li class=\"dropdown\" *ngIf=\"selectedCompany &amp;&amp; data.companies\"&gt;\n  &lt;select [(ngModel)]=\"selectedCompany\" (change)=\"selectCompany()\" id=\"company-select\"&gt;\n    &lt;option *ngFor=\"let company of data?.companies\" [ngValue]=\"company\"&gt;\n      {{ company?.name }}\n    &lt;/option&gt;\n  &lt;/select&gt;\n&lt;/li&gt;\n&lt;li class=\"dropdown\" *ngIf=\"selectedPlace &amp;&amp; selectedCompany?.foodHandlingPlaces\"&gt;\n  &lt;select [(ngModel)]=\"selectedPlace\" (change)=\"selectPlace()\" id=\"place-select\"&gt;\n    &lt;option *ngFor=\"let place of selectedCompany.foodHandlingPlaces\" [ngValue]=\"place\"&gt;\n      {{ place?.name }}\n    &lt;/option&gt;\n  &lt;/select&gt;\n&lt;/li&gt;\n</code></pre>\n\n<p>In your component</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Component, OnInit } from '@angular/core';\nimport { DataService } from '../../services/data.service';\nimport { ActivatedRoute, Router } from '@angular/router';\n\n@Component({\n  selector: 'user-header',\n  templateUrl: '../../templates/plan/header.html',\n})\nexport class HeaderComponent implements OnInit {\n\n  data;\n  selectedCompany;\n  selectedPlace;\n\n  constructor(\n    private dataService: DataService,\n    private router: Router,\n    private route: ActivatedRoute\n  ) { }\n\n  ngOnInit() {\n    this.data = this.route.parent.snapshot.data;\n    this.selectedCompany = this.data.companies[0];\n    if (!this.dataService.selectedPlace.getValue()) {\n      this.dataService.selectedPlace = this.selectedCompany.foodHandlingPlaces[0];\n    }\n    this.selectedPlace = this.selectedCompany.foodHandlingPlaces.filter(\n      x =&gt; x.id === this.dataService.selectedPlace.getValue().id\n    )[0];\n    if (!this.selectedPlace) {\n      this.selectedPlace = this.selectedCompany.foodHandlingPlaces[0];\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 5501952, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b580ace229528e712b78ec58432aefef?s=128&d=identicon&r=PG&f=1", "display_name": "Kert", "link": "https://stackoverflow.com/users/5501952/kert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521621505, "creation_date": 1521620660, "last_edit_date": 1521621475, "question_id": 49401311, "link": "https://stackoverflow.com/questions/49401311/angular-template-renders-before-dynamic-data", "title": "Angular template renders before dynamic data", "body": "<p>I'm facing a really annoying problem - the page renders before I get the data. In $(document).ready() the names are logged correctly and there are no errors in console. However, the displayed html is empty and displays correct data after refreshing the page.</p>\n\n<p>This is my component.ts file:</p>\n\n<pre><code>import {Component} from '@angular/core';\nimport {DataService} from '../../services/data.service';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport * as $ from 'jquery/dist/jquery.min.js';\nimport 'jquery-ui/jquery-ui.min.js';\n\ndeclare let jQuery: any;\n\n@Component({\n  selector: 'user-header',\n  templateUrl: '../../templates/plan/header.html',\n})\nexport class HeaderComponent {\n\n  data;\n  selectedCompany;\n  selectedPlace;\n\n  constructor(private dataService: DataService,\n              private router: Router,\n              private route: ActivatedRoute) {\n    this.data = this.route.parent.snapshot.data;\n    this.selectedCompany = this.data.companies[0];\n    if (!this.dataService.selectedPlace.getValue()) {\n      this.dataService.selectedPlace = this.selectedCompany.foodHandlingPlaces[0];\n    }\n    this.selectedPlace = this.selectedCompany.foodHandlingPlaces.filter(\n        x =&gt; x.id === this.dataService.selectedPlace.getValue().id\n    )[0];\n    if (!this.selectedPlace) {\n      this.selectedPlace = this.selectedCompany.foodHandlingPlaces[0];\n    }\n\n    const self = this;\n    $(document).ready(function () {\n      console.log('selectedCompany', self.selectedCompany.name);\n      console.log('selectedPlace', self.selectedPlace.name);\n    });\n  }\n</code></pre>\n\n<p>This is part of my template (html) file:</p>\n\n<pre><code>&lt;li class=\"dropdown\"&gt;\n  &lt;select [(ngModel)]=\"selectedCompany\" (change)=\"selectCompany()\" id=\"company-select\"&gt;\n    &lt;option *ngFor=\"let company of data.companies\" [ngValue]=\"company\"&gt;\n      {{ company?.name }}\n    &lt;/option&gt;\n  &lt;/select&gt;\n&lt;/li&gt;\n&lt;li class=\"dropdown\"&gt;\n  &lt;select [(ngModel)]=\"selectedPlace\" (change)=\"selectPlace()\" id=\"place-select\"&gt;\n    &lt;option *ngFor=\"let place of selectedCompany.foodHandlingPlaces\" [ngValue]=\"place\"&gt;\n      {{ place?.name }}\n    &lt;/option&gt;\n  &lt;/select&gt;\n&lt;/li&gt;\n</code></pre>\n\n<p>How to make the html wait for the data and then render?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["angular", "typescript", "ionic3", "observable"], "comments": [{"owner": {"reputation": 4958, "user_id": 4627262, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iTGZT9YcyLE/AAAAAAAAAAI/AAAAAAAAALU/-5defYeBo50/photo.jpg?sz=128", "display_name": "rrd", "link": "https://stackoverflow.com/users/4627262/rrd"}, "edited": false, "score": 0, "creation_date": 1521620307, "post_id": 49401177, "comment_id": 85803661, "body": "Does it work if you try: return Observable.of&lt;any&gt;( ..."}, {"owner": {"reputation": 689, "user_id": 5396946, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/0qCIs.png?s=128&g=1", "display_name": "Marv", "link": "https://stackoverflow.com/users/5396946/marv"}, "edited": false, "score": 0, "creation_date": 1521621066, "post_id": 49401177, "comment_id": 85804023, "body": "<code>[&#39;Item1&#39;, &#39;Item2&#39;, &#39;Item3&#39;]</code> is not any, but an any-array, therefore: <code>[&#39;Item1&#39;, &#39;Item2&#39;, &#39;Item3&#39;] as any[]</code>"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1521621089, "post_id": 49401242, "comment_id": 85804037, "body": "Why the downvote ? This is a completely valid answer."}, {"owner": {"reputation": 2783, "user_id": 1027936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7c00c38a2a2840ee056e39b4a900d274?s=128&d=identicon&r=PG", "display_name": "nicowernli", "link": "https://stackoverflow.com/users/1027936/nicowernli"}, "edited": false, "score": 0, "creation_date": 1521621605, "post_id": 49401242, "comment_id": 85804334, "body": "Exactly, this is total valid answer, also I would say that using generics is the best solution you can get"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 2783, "user_id": 1027936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7c00c38a2a2840ee056e39b4a900d274?s=128&d=identicon&r=PG", "display_name": "nicowernli", "link": "https://stackoverflow.com/users/1027936/nicowernli"}, "edited": false, "score": 0, "creation_date": 1521621970, "post_id": 49401242, "comment_id": 85804534, "body": "@nicowernli I would agree, but can you declare an interface with a generic typing ?"}, {"owner": {"reputation": 1328, "user_id": 1571580, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b182ecf86b5ea641c4dcb5aae5a68ec?s=128&d=identicon&r=PG", "display_name": "Milos", "link": "https://stackoverflow.com/users/1571580/milos"}, "edited": false, "score": 0, "creation_date": 1521622035, "post_id": 49401242, "comment_id": 85804565, "body": "I still get and error in both cases. Maybe that is just VS2015 type script linter, but error is still there. In first example error is the same. In second example error is: any&#39; is not assignable to type &#39;Observable&lt;any&gt;&#39;."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1521622172, "post_id": 49401242, "comment_id": 85804652, "body": "Yeah that&#39;s because your interface should be written like this : <code>getDataSource(): Observable&lt;any&gt;;</code>. You&#39;re declaring a function, not a variable."}, {"owner": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "edited": false, "score": 0, "creation_date": 1521622200, "post_id": 49401242, "comment_id": 85804673, "body": "The 2nd example is not valid, as the whole return value is <code>any</code>, not Observable&lt;any&gt;"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "edited": false, "score": 0, "creation_date": 1521622292, "post_id": 49401242, "comment_id": 85804737, "body": "@David it is, <code>Observable&lt;any&gt;</code> complies with <code>any</code>. But I get your point let me edit my answer."}, {"owner": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "edited": false, "score": 0, "creation_date": 1521622629, "post_id": 49401242, "comment_id": 85804945, "body": "I just tried and actually all 3 examples lead to typescript error. But I don&#39;t get why"}, {"owner": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "edited": false, "score": 1, "creation_date": 1521622813, "post_id": 49401242, "comment_id": 85805074, "body": "@trichetriche You&#39;re right, it works if the interface is declared as <code>()=&gt;Observable&lt;any&gt;</code> Maybe you should edit your answer to make this clear."}, {"owner": {"reputation": 1328, "user_id": 1571580, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b182ecf86b5ea641c4dcb5aae5a68ec?s=128&d=identicon&r=PG", "display_name": "Milos", "link": "https://stackoverflow.com/users/1571580/milos"}, "edited": false, "score": 0, "creation_date": 1521623705, "post_id": 49401242, "comment_id": 85805597, "body": "@Thanks for the answer. Yes the real problem was my interface implementation."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1521623824, "post_id": 49401242, "comment_id": 85805688, "body": "No problem, be sure to see the last edit of the post"}, {"owner": {"reputation": 1328, "user_id": 1571580, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b182ecf86b5ea641c4dcb5aae5a68ec?s=128&d=identicon&r=PG", "display_name": "Milos", "link": "https://stackoverflow.com/users/1571580/milos"}, "edited": false, "score": 0, "creation_date": 1521623936, "post_id": 49401242, "comment_id": 85805774, "body": "Yes, this update with generic is even better. Thanks one more time."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 2, "last_activity_date": 1521623732, "last_edit_date": 1521623732, "creation_date": 1521620391, "answer_id": 49401242, "question_id": 49401177, "link": "https://stackoverflow.com/questions/49401177/observableany-is-not-assignable-to-type-observableany/49401242#49401242", "title": "Observable&lt;any&gt; is not assignable to type Observable&lt;any&gt;", "body": "<p>You have several way of doing this : </p>\n\n<pre><code>return Observable.of&lt;any&gt;(['Item1', 'Item2', 'Item3'])\nreturn Observable.of(['Item1', 'Item2', 'Item3']) as any\nreturn Observable.of(['Item1', 'Item2', 'Item3']) as Observable&lt;any&gt; // For code completion\n</code></pre>\n\n<p>All should work. You can just replace <code>any</code> with your type. </p>\n\n<p>By the way, your interface should be this </p>\n\n<pre><code>export interface IAny {\n    getDataSource(): Observable&lt;any&gt;;\n}\n</code></pre>\n\n<p>You declare a function, not a variable. </p>\n\n<p>Better, as <a href=\"https://stackoverflow.com/users/1027936/nicowernli\">@nicowernli</a> suggested, if you want to type your returns on the fly, declare your interface and your functions with generic types : </p>\n\n<pre><code>export interface IAny {\n  getDataSource&lt;T&gt;(): Observable&lt;T&gt;;\n}\n\ngetDataSource&lt;T&gt;() {\n  return Observable.of(['Item1', 'Item2', 'Item3'] as any)\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1328, "user_id": 1571580, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b182ecf86b5ea641c4dcb5aae5a68ec?s=128&d=identicon&r=PG", "display_name": "Milos", "link": "https://stackoverflow.com/users/1571580/milos"}, "edited": false, "score": 0, "creation_date": 1521621876, "post_id": 49401256, "comment_id": 85804485, "body": "If I remove casting I get Error.   Observable&lt;string[]&gt;&#39; is not assignable to type &#39;Observable&lt;any&gt;&#39;. I even tried to change interface to accept Observable&lt;any[]&gt;&#39;, but without success."}, {"owner": {"reputation": 1328, "user_id": 1571580, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b182ecf86b5ea641c4dcb5aae5a68ec?s=128&d=identicon&r=PG", "display_name": "Milos", "link": "https://stackoverflow.com/users/1571580/milos"}, "edited": false, "score": 0, "creation_date": 1521623863, "post_id": 49401256, "comment_id": 85805711, "body": "The problem was in my interface, when I fixed it, this works. Thanks."}], "tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": false, "score": 4, "last_activity_date": 1521620797, "last_edit_date": 1521620797, "creation_date": 1521620441, "answer_id": 49401256, "question_id": 49401177, "link": "https://stackoverflow.com/questions/49401177/observableany-is-not-assignable-to-type-observableany/49401256#49401256", "title": "Observable&lt;any&gt; is not assignable to type Observable&lt;any&gt;", "body": "<p>It is possible, but you don't need to cast the array to <code>any</code>.</p>\n\n<p>If you don't, in your example, your function is of type <code>() =&gt; Observable&lt;string&gt;</code>, a type compatible with <code>() =&gt; Observable&lt;any&gt;</code>, which is the type of the method defined in the interface.</p>\n\n<p>I mean, if you have:</p>\n\n<pre><code>let a: () =&gt; Observable&lt;any&gt;;\nlet b: () =&gt; Observable&lt;string&gt;;\n</code></pre>\n\n<p>Then you can do:</p>\n\n<pre><code>a = b;\n</code></pre>\n\n<p>Because <code>any</code> is compatible with any type in TypeScript.</p>\n"}, {"comments": [{"owner": {"reputation": 1328, "user_id": 1571580, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b182ecf86b5ea641c4dcb5aae5a68ec?s=128&d=identicon&r=PG", "display_name": "Milos", "link": "https://stackoverflow.com/users/1571580/milos"}, "edited": false, "score": 0, "creation_date": 1521623766, "post_id": 49402134, "comment_id": 85805644, "body": "I thought about his implementation but choose &#39;any&#39;, since it is less code :), but you are right it is a better way."}], "tags": [], "owner": {"reputation": 1817, "user_id": 4243635, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000619278014/picture?type=large", "display_name": "Nicolas Gehlert", "link": "https://stackoverflow.com/users/4243635/nicolas-gehlert"}, "is_accepted": false, "score": 1, "last_activity_date": 1521623378, "creation_date": 1521623378, "answer_id": 49402134, "question_id": 49401177, "link": "https://stackoverflow.com/questions/49401177/observableany-is-not-assignable-to-type-observableany/49402134#49402134", "title": "Observable&lt;any&gt; is not assignable to type Observable&lt;any&gt;", "body": "<p>If you are like me and want to avoid the 'any' type as much as possible (and in this case your any-castings) you could use a Type Alias especially for your value.</p>\n\n<p>It could look something like this: </p>\n\n<pre><code>// Just add your desired types that are possible return values\ntype DataSourceType = Array&lt;string&gt; | Array&lt;object&gt; | object;\n</code></pre>\n\n<p>You find everything about Type Aliases at the <a href=\"http://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">TS Docs</a></p>\n\n<p>You could even take it one step further and replace the generic object type with your custom type.</p>\n"}], "owner": {"reputation": 1328, "user_id": 1571580, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b182ecf86b5ea641c4dcb5aae5a68ec?s=128&d=identicon&r=PG", "display_name": "Milos", "link": "https://stackoverflow.com/users/1571580/milos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 488, "favorite_count": 0, "accepted_answer_id": 49401242, "answer_count": 3, "score": 1, "last_activity_date": 1521623732, "creation_date": 1521620108, "question_id": 49401177, "link": "https://stackoverflow.com/questions/49401177/observableany-is-not-assignable-to-type-observableany", "title": "Observable&lt;any&gt; is not assignable to type Observable&lt;any&gt;", "body": "<p>I am using angular 5 with ionic 3.\nI have one interface:</p>\n\n<pre><code>export interface IAny {\n    getDataSource: Observable&lt;any&gt;;\n}\n</code></pre>\n\n<p>Components which implements this interface has method:</p>\n\n<pre><code>getDataSource () {\n      return Observable.of(['Item1', 'Item2', 'Item3'] as any)\n };\n</code></pre>\n\n<p>This method should return different types of dataSources, some time it will be simple array of string , some time array of objects, some time the simple object.</p>\n\n<p>Is it possible at all ?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "authentication", "angular-services"], "comments": [{"owner": {"reputation": 377, "user_id": 2638412, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/TfW1Y.jpg?s=128&g=1", "display_name": "Krishna Chaitanya", "link": "https://stackoverflow.com/users/2638412/krishna-chaitanya"}, "edited": false, "score": 0, "creation_date": 1521706473, "post_id": 49401174, "comment_id": 85847888, "body": "Really? No one?"}], "answers": [{"tags": [], "owner": {"reputation": 377, "user_id": 2638412, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/TfW1Y.jpg?s=128&g=1", "display_name": "Krishna Chaitanya", "link": "https://stackoverflow.com/users/2638412/krishna-chaitanya"}, "is_accepted": true, "score": 1, "last_activity_date": 1521793245, "creation_date": 1521793245, "answer_id": 49445191, "question_id": 49401174, "link": "https://stackoverflow.com/questions/49401174/angular-4-5-instantiate-service-with-dynamic-configuration/49445191#49445191", "title": "Angular 4/5 - Instantiate service with dynamic configuration", "body": "<p>This can be done in the following way using an injection token.</p>\n\n<p><strong>Step 1:</strong> Create an <code>InjectionToken</code> for the configuration object that's passed in, like so:</p>\n\n<pre><code>export const AUTH_CONFIG = new InjectionToken&lt;AuthConfig&gt;('authConfig');\n</code></pre>\n\n<p><strong>Step 2:</strong> Inject the token into the <code>AuthService</code> constructor</p>\n\n<p><strong>Step 3:</strong> Pass the configuration object into the forRoot function for your module</p>\n\n<pre><code>public static forRoot(authConfig: AuthConfig): ModuleWithProviders\n</code></pre>\n\n<p><strong>Step 4:</strong> Use the passed in configuration as the value for the injection token</p>\n\n<pre><code>{ provide: AUTH_CONFIG, useValue: authConfig }\n</code></pre>\n"}], "owner": {"reputation": 377, "user_id": 2638412, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/TfW1Y.jpg?s=128&g=1", "display_name": "Krishna Chaitanya", "link": "https://stackoverflow.com/users/2638412/krishna-chaitanya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 0, "accepted_answer_id": 49445191, "answer_count": 1, "score": 0, "last_activity_date": 1521793245, "creation_date": 1521620093, "last_edit_date": 1521621594, "question_id": 49401174, "link": "https://stackoverflow.com/questions/49401174/angular-4-5-instantiate-service-with-dynamic-configuration", "title": "Angular 4/5 - Instantiate service with dynamic configuration", "body": "<p>I'm currently writing a library that exposes an <code>AuthModule</code>, which contains an <code>AuthService</code> for handling OAuth2 authentication using <code>oidc-client-js</code>. However, I would like the consuming application to specify the configuration for the OAuth client. I know I can pass in a configuration into the <code>forRoot</code> method of the <code>AuthModule</code>, like so:</p>\n\n<pre><code>AuthModule.forRoot({\n    applicationNamespace: 'ConsumingApp',\n    clientId: 'consuming.app'\n});\n</code></pre>\n\n<p>In the <code>forRoot</code> method, I'd like to provide an instance of the service with the passed in config.</p>\n\n<p>I've managed to hack it by just setting the passed in properties on the <code>window</code> object. I then use the references to <code>window.clientId</code> and <code>window.applicationNamespace</code> in the <code>AuthService</code>.</p>\n\n<pre><code>(window as any).applicationNamespace = authConfig.applicationNamespace;\n(window as any).clientId = authConfig.clientId;\n</code></pre>\n\n<p>Is there a better way of accomplishing this?</p>\n"}, {"tags": ["angular", "typescript", "semantic-ui", "ng2-semantic-ui"], "owner": {"reputation": 33, "user_id": 8136242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74db87df841f648fe3776c460bd1b707?s=128&d=identicon&r=PG&f=1", "display_name": "Zacke", "link": "https://stackoverflow.com/users/8136242/zacke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 399, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1521629006, "creation_date": 1521619724, "last_edit_date": 1521629006, "question_id": 49401080, "link": "https://stackoverflow.com/questions/49401080/clearing-selection-in-an-angular-2-semantic-ui-dropdown", "title": "Clearing selection in an angular 2 semantic ui dropdown", "body": "<p>So I have a optional dropdown list in a form and I want to be able to clear the selection after clicking on one of the values.\nI do not have nor do I want to use any jQuery in my component.</p>\n\n<p>The dropdown component:</p>\n\n<pre><code>&lt;sui-select \n  class=\"selection\"\n  [(ngModel)]=\"value\"\n  [options]=\"options\"\n  labelField=\"text\"\n  valueField=\"value\"\n  [isSearchable]=\"searchable\"\n  [isDisabled]=\"isDisabled\"\n  [placeholder]=\"placeholder | translate\"\n  #select&gt;\n&lt;sui-select-option *ngFor=\"let option of select.filteredOptions\" [value]=\"option\"&gt;\n&lt;/sui-select-option&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>@Component({\n  selector: \"[dropdown]\",\n  templateUrl: \"./dropdown.component.html\",\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [MakeValueAccessorProvider(DropDownComponent)]\n})\n\nexport class DropDownComponent extends BaseComponent&lt;string&gt; {\n  @Input() label: string;\n  @Input() placeholder: string;\n  @Input(\"items\") options: TextValue[];\n  @Input() searchable: boolean = true;\n  @HostBinding(\"class.field\") fieldClass: boolean = true;\n\nngOnChanges() {\n    if(this.options &amp;&amp; this.options.length &gt; 0) {\n        this.options.forEach(o =&gt; o.text = this.translateService.translate(o.text))\n    }\n  }\n}\n</code></pre>\n\n<p>Usage of the dropdown:</p>\n\n<pre><code>&lt;div dropdown formControlName=\"primaryInstructorId\" [items]=\"instructorItems\" label=\"labels/selectinstructor\" placeholder=\"labels/selectinstructor\"&gt;&lt;/div&gt;\n\n&lt;div *ngIf=\"form.get('primaryInstructorId').value\" dropdown formControlName=\"secondaryInstructorId\" [items]=\"instructorItems\" label=\"labels/selectinstructor\" placeholder=\"labels/selectinstructor\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>And in the component where I am using it I want to be able to clear the dropdown with the control name: secondaryInstructorId.\nEither by clicking on a value that I insert into the 0 index of the array or by clicking a \"x\" button next to the value.</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 9581, "user_id": 4742830, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ba70b0962fb392c3bb7ea4c6703aabae?s=128&d=identicon&r=PG", "display_name": "appiconhero.co", "link": "https://stackoverflow.com/users/4742830/appiconhero-co"}, "edited": false, "score": 0, "creation_date": 1521621748, "post_id": 49401425, "comment_id": 85804415, "body": "Thanks @Oscar Paz"}, {"owner": {"reputation": 1068, "user_id": 1850255, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ab9e7d69d7d1c1b7acaaaaba99c9b1cd?s=128&d=identicon&r=PG", "display_name": "Alexey Sh.", "link": "https://stackoverflow.com/users/1850255/alexey-sh"}, "edited": false, "score": 1, "creation_date": 1533925003, "post_id": 49401425, "comment_id": 90541432, "body": "Lambdas are forbidden in JSX attributes due to their rendering performance impact"}], "tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": true, "score": 1, "last_activity_date": 1521621080, "creation_date": 1521621080, "answer_id": 49401425, "question_id": 49401049, "link": "https://stackoverflow.com/questions/49401049/add-onclick-listener-reactjs/49401425#49401425", "title": "Add onclick listener reactjs", "body": "<p>In your <code>onClick</code> handler you're not passing a function, but the call to a function. Your function will be called <strong>when the <code>AmountToPayModal</code> is called (during render), not when the user makes a click.</strong> And that function returns <code>void</code>, so TypeScript infers (correctly) that you're assigning <code>void</code> to an event handler.</p>\n\n<p>I think that what you really want to to do is this:</p>\n\n<pre><code>&lt;PaymentButtonSelected onClick={() =&gt; props.togglePaymentMethod(PAYMENT_METHOD.online)}&gt;\n</code></pre>\n\n<p>Now you're assigning a function to the handler, and when the user clicks the element, your function will be called correctly</p>\n"}], "owner": {"reputation": 9581, "user_id": 4742830, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ba70b0962fb392c3bb7ea4c6703aabae?s=128&d=identicon&r=PG", "display_name": "appiconhero.co", "link": "https://stackoverflow.com/users/4742830/appiconhero-co"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1426, "favorite_count": 0, "accepted_answer_id": 49401425, "answer_count": 1, "score": 0, "last_activity_date": 1521621080, "creation_date": 1521619602, "question_id": 49401049, "link": "https://stackoverflow.com/questions/49401049/add-onclick-listener-reactjs", "title": "Add onclick listener reactjs", "body": "<p>I want to add callback function when I click to button.</p>\n\n<p>My code:</p>\n\n<pre><code>export enum PAYMENT_METHOD {\n  online,\n  offline,\n}\n\ninterface Props {\n  paymentMethod: PAYMENT_METHOD;\n  togglePaymentMethod: (paymentMethod: PAYMENT_METHOD) =&gt; void;\n}\n\nconst AmountToPayModal = (props: Props) =&gt; (\n  &lt;Container&gt;\n    &lt;SectionLabel&gt;\n  2.&amp;nbsp;\n  &lt;FormattedMessage id=\"SE-206.Section2.Title\" /&gt;\n&lt;/SectionLabel&gt;\n&lt;PaymentBox&gt;\n      &lt;PaymentButtonDeselected &gt;\n        &lt;FormattedMessage id=\"SE-206.Section2.OnlinePayment\" /&gt;\n      &lt;/PaymentButtonDeselected&gt;\n      &lt;PaymentButtonSelected onClick={props.togglePaymentMethod(PAYMENT_METHOD.online)}&gt;\n        &lt;FormattedMessage id=\"SE-206.Section2.OfflinePayment\" /&gt;\n      &lt;/PaymentButtonSelected&gt;\n    &lt;/div&gt;\n&lt;/PaymentBox&gt;\n&lt;/Container&gt;\n    );\n</code></pre>\n\n<blockquote>\n  <p>[ts] Type '{ onClick: void; children: Element; }' is not assignable to\n  type 'IntrinsicAttributes &amp;\n  IntrinsicClassAttributes, any>>'.\n      Types of property 'onClick' are incompatible.\n        Type 'void' is not assignable to type 'EventHandler> | undefined'.</p>\n</blockquote>\n\n<p>I am using TypeScript.</p>\n"}, {"tags": ["angular", "typescript", "url-parameters"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1521617588, "post_id": 49400537, "comment_id": 85802236, "body": "What if you try to parse the URL in the <code>ngOnInit</code> hook ?"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1521617592, "post_id": 49400537, "comment_id": 85802239, "body": "It looks like <a href=\"https://stackoverflow.com/questions/49370474/angular-activated-route-paramsmap-empty-depending-on-where-i-specify-the-service\" title=\"angular activated route paramsmap empty depending on where i specify the service\">stackoverflow.com/questions/49370474/&hellip;</a>"}, {"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1521618214, "post_id": 49400537, "comment_id": 85802543, "body": "@trichetriche: <code>ngOnInit()</code> in <code>app.component.ts</code>? I did give it a try, but din&#39;t work. The issue is exactly when I inject the service in the in <code>app.component.ts</code> constructor."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1521618266, "post_id": 49400537, "comment_id": 85802569, "body": "No, in the <code>ngOninit</code> of the service."}, {"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1521618725, "post_id": 49400537, "comment_id": 85802797, "body": "@trichetriche: unfortunately it doesn&#39;t help... the service doesn&#39;t even fire <code>ngOnInit()</code>, so therefore I even can&#39;t <code>console.log(&#39;param1: &#39; + this.param1)</code>. Nothing happens in other words."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1521618755, "post_id": 49400537, "comment_id": 85802816, "body": "What do you mean it doesn&#39;t fire ? Maybe that&#39;s your issue !"}, {"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1521618947, "post_id": 49400537, "comment_id": 85802915, "body": "Here is what I tried in the service: <code>ngOnInit() {this.param1 = this.router.parseUrl(this.router.url).queryParams[&#39;todo&#39;]; console.log(&#39;param1: &#39; + this.param1);}</code>. nothing comes out in chrome console then."}, {"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "reply_to_user": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1521619113, "post_id": 49400537, "comment_id": 85803011, "body": "@Eliseo: Yes, I&#39;am using <code>canActivte</code> for some routes which I want to protect. But How can it be related to it?"}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1521619150, "post_id": 49400537, "comment_id": 85803035, "body": "Change &#39;public myService: MyService&#39; to &#39;private myService: MyService&#39;. Only then Angular directly instantiates it."}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1521619397, "post_id": 49400537, "comment_id": 85803174, "body": "Sorry, I din&#39;t read your question :(. I think that you can try to use Location.path <a href=\"https://angular.io/api/common/Location#path\" rel=\"nofollow noreferrer\">angular.io/api/common/Location#path</a> , not router)"}, {"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "reply_to_user": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1521619496, "post_id": 49400537, "comment_id": 85803228, "body": "@DiabolicWords: no way.. always returns undefined even when using it as <code>private</code>"}, {"owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "edited": false, "score": 0, "creation_date": 1521621360, "post_id": 49400537, "comment_id": 85804167, "body": "You say that you get <code>undefined</code> when the service is injected in <code>AppComponent</code> ... when do you NOT get <code>undefined</code>? Are you injecting it elsewhere?"}], "answers": [{"comments": [{"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1521626368, "post_id": 49401547, "comment_id": 85807419, "body": "I did give it a try in the service, but unfortunately it didn&#39;t help..."}], "tags": [], "owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "is_accepted": false, "score": 0, "last_activity_date": 1521621520, "creation_date": 1521621520, "answer_id": 49401547, "question_id": 49400537, "link": "https://stackoverflow.com/questions/49400537/why-does-service-injection-in-app-component-cause-undefined-for-url-parameters/49401547#49401547", "title": "Why does service injection in app component cause undefined for URL parameters?", "body": "<p>When we pass some params we always do it this way:</p>\n\n<pre><code>import { Router, ActivatedRoute } from '@angular/router';\n\n  constructor(\n    private router: Router,\n    private route: ActivatedRoute\n  ){ \n      this.route.params.subscribe(params =&gt; {\n        let todo = params['todo'];\n      });\n  }\n</code></pre>\n\n<p>Maybe you have to move the subscription to ngOnInit() but normally this should work.</p>\n"}], "owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 172, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521621520, "creation_date": 1521617422, "question_id": 49400537, "link": "https://stackoverflow.com/questions/49400537/why-does-service-injection-in-app-component-cause-undefined-for-url-parameters", "title": "Why does service injection in app component cause undefined for URL parameters?", "body": "<p>I have a service where I read couple of parameters from the URL. looks good till I try to inject the service in the <code>constructor</code> of the <code>app.component.ts</code> or I try to call a service method from the <code>app.component.ts</code>. Then the url-parameters are undefined.</p>\n\n<p>Any idea what could be the reason for that?</p>\n\n<p><strong><code>my-service.service.ts</code></strong>:</p>\n\n<pre><code>...\npublic param1;\nconstructor(public router: Router, private http: HttpClient) {\n    this.param1 = \n     this.router.parseUrl(this.router.url).queryParams['todo'];\n    console.log('param1: ' + this.param1); // returns undefined if the service is injected in app.component\n}\n....\n</code></pre>\n\n<p><strong><code>app.component.ts</code></strong>:</p>\n\n<pre><code>...\nimport { MyService } from './service/my-service.service';\n....\nconstructor(private http: HttpClient, public myService: MyService) {\n    ...\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular2-template"], "comments": [{"owner": {"reputation": 1391, "user_id": 7561290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C6zJw.png?s=128&g=1", "display_name": "Javascript Hupp Technologies", "link": "https://stackoverflow.com/users/7561290/javascript-hupp-technologies"}, "edited": false, "score": 0, "creation_date": 1521616329, "post_id": 49400166, "comment_id": 85801564, "body": "You should read this documentation about component interaction <a href=\"https://angular.io/guide/component-interaction\" rel=\"nofollow noreferrer\">angular.io/guide/component-interaction</a>"}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1521616598, "post_id": 49400166, "comment_id": 85801706, "body": "Use a Service. Put a Subject or BehaviorSubject inside this service and let both Child-Components subscribe to it. Then the both of them can communicate and exchange data."}, {"owner": {"reputation": 9918, "user_id": 5695162, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ZCKFs.jpg?s=128&g=1", "display_name": "Vikas", "link": "https://stackoverflow.com/users/5695162/vikas"}, "edited": false, "score": 0, "creation_date": 1521617105, "post_id": 49400166, "comment_id": 85801969, "body": "see this <a href=\"https://stackoverflow.com/questions/49387889/passing-data-with-subjects-and-proxies/49388249#49388249\" title=\"passing data with subjects and proxies\">stackoverflow.com/questions/49387889/&hellip;</a>"}, {"owner": {"reputation": 1701, "user_id": 5720846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1dkaS.jpg?s=128&g=1", "display_name": "Amol Bhor", "link": "https://stackoverflow.com/users/5720846/amol-bhor"}, "edited": false, "score": 0, "creation_date": 1521634695, "post_id": 49400166, "comment_id": 85813195, "body": "Use @Input() and @Output() for category and products to interact and place both of them in your app component. You can also use &lt;router-outlet&gt;  in app component. In this case app component  is parent and both(category and products) are child"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 2581425, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e67c8989268a204d05f642965cfb4bb9?s=128&d=identicon&r=PG", "display_name": "Irphan Khan", "link": "https://stackoverflow.com/users/2581425/irphan-khan"}, "edited": false, "score": 0, "creation_date": 1521619371, "post_id": 49400741, "comment_id": 85803158, "body": "Thanks for the reply but I want to say, data(i.e selected categories) is passing to products components  fine but there is a function &quot;getProducts()&quot; in products component that need to be called on recieing this data from category component."}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "reply_to_user": {"reputation": 55, "user_id": 2581425, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e67c8989268a204d05f642965cfb4bb9?s=128&d=identicon&r=PG", "display_name": "Irphan Khan", "link": "https://stackoverflow.com/users/2581425/irphan-khan"}, "edited": false, "score": 0, "creation_date": 1521628148, "post_id": 49400741, "comment_id": 85808655, "body": "Please provide some code or a brief sketch of how your components are currently structured."}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "reply_to_user": {"reputation": 55, "user_id": 2581425, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e67c8989268a204d05f642965cfb4bb9?s=128&d=identicon&r=PG", "display_name": "Irphan Khan", "link": "https://stackoverflow.com/users/2581425/irphan-khan"}, "edited": false, "score": 1, "creation_date": 1521637554, "post_id": 49400741, "comment_id": 85815259, "body": "Please reread my solution. I extended it considering your comment from this morning."}, {"owner": {"reputation": 55, "user_id": 2581425, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e67c8989268a204d05f642965cfb4bb9?s=128&d=identicon&r=PG", "display_name": "Irphan Khan", "link": "https://stackoverflow.com/users/2581425/irphan-khan"}, "edited": false, "score": 0, "creation_date": 1521697204, "post_id": 49400741, "comment_id": 85843531, "body": "Thanks for the explaination and i&#39;m very near to solution but there is little confusion.Below are the screenshots of components &amp; services. Kindly check and and  suggest a slolution.Thank you very much. <a href=\"https://ibb.co/iyP9hx\" rel=\"nofollow noreferrer\">ibb.co/iyP9hx</a> <a href=\"https://ibb.co/gPG0pc\" rel=\"nofollow noreferrer\">ibb.co/gPG0pc</a> <a href=\"https://ibb.co/bx6N2x\" rel=\"nofollow noreferrer\">ibb.co/bx6N2x</a>"}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "reply_to_user": {"reputation": 55, "user_id": 2581425, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e67c8989268a204d05f642965cfb4bb9?s=128&d=identicon&r=PG", "display_name": "Irphan Khan", "link": "https://stackoverflow.com/users/2581425/irphan-khan"}, "edited": false, "score": 0, "creation_date": 1521704750, "post_id": 49400741, "comment_id": 85846896, "body": "Please, don&#39;t get me wrong, but your code looks problematic. For example: If you GET products from a service then name this service method getProducts() instead of just products(). And I still don&#39;t understand how your app is supposed to work. Please draw a sketch. What shall happen if one chooses a category? When is getProducts() fired? As I said, don&#39;t get me wrong. We all somewhen started from scratch. But I assure you that you&#39;ll run into deep trouble with your app, if you do not restructure it now. I need a sketch of how it is intended to work, to be able to help you."}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "reply_to_user": {"reputation": 55, "user_id": 2581425, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e67c8989268a204d05f642965cfb4bb9?s=128&d=identicon&r=PG", "display_name": "Irphan Khan", "link": "https://stackoverflow.com/users/2581425/irphan-khan"}, "edited": false, "score": 0, "creation_date": 1521736599, "post_id": 49400741, "comment_id": 85869750, "body": "I&#39;ll have look on it but it might take some time. I&#39;ll let you know a.s.a.p."}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "reply_to_user": {"reputation": 55, "user_id": 2581425, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e67c8989268a204d05f642965cfb4bb9?s=128&d=identicon&r=PG", "display_name": "Irphan Khan", "link": "https://stackoverflow.com/users/2581425/irphan-khan"}, "edited": false, "score": 0, "creation_date": 1521764678, "post_id": 49400741, "comment_id": 85883031, "body": "Okay, so now, with answer 3, I gave you a working demo app. It contains all you described. You have to adjust it to your needs afterwards but all of your topics are covered."}, {"owner": {"reputation": 55, "user_id": 2581425, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e67c8989268a204d05f642965cfb4bb9?s=128&d=identicon&r=PG", "display_name": "Irphan Khan", "link": "https://stackoverflow.com/users/2581425/irphan-khan"}, "edited": false, "score": 0, "creation_date": 1522056709, "post_id": 49400741, "comment_id": 85978965, "body": "Thank you very much"}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "reply_to_user": {"reputation": 55, "user_id": 2581425, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e67c8989268a204d05f642965cfb4bb9?s=128&d=identicon&r=PG", "display_name": "Irphan Khan", "link": "https://stackoverflow.com/users/2581425/irphan-khan"}, "edited": false, "score": 0, "creation_date": 1522060959, "post_id": 49400741, "comment_id": 85981684, "body": "My pleasure. Great to hear that. ;o)"}, {"owner": {"reputation": 55, "user_id": 2581425, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e67c8989268a204d05f642965cfb4bb9?s=128&d=identicon&r=PG", "display_name": "Irphan Khan", "link": "https://stackoverflow.com/users/2581425/irphan-khan"}, "edited": false, "score": 0, "creation_date": 1523248268, "post_id": 49400741, "comment_id": 86464899, "body": "I have a code in javascript as below <code>var Output1; window.setInterval(function () {     Output1 = Math.random(); },1000); console.log(Output1);</code>  and want to access <code>Output1</code>  outside but its not working. Can please tell me any way I could access <code>Output1</code>  outside ?"}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "reply_to_user": {"reputation": 55, "user_id": 2581425, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e67c8989268a204d05f642965cfb4bb9?s=128&d=identicon&r=PG", "display_name": "Irphan Khan", "link": "https://stackoverflow.com/users/2581425/irphan-khan"}, "edited": false, "score": 0, "creation_date": 1523249262, "post_id": 49400741, "comment_id": 86465148, "body": "Your problem is, that console.log() is processed immediately and only once, but Output1 gets filled after 1 sec for the first time and then repeatedly. I&#39;d suggest to call with a method. function showCurrentValue() {console.log(Output1);}  var Output1; window.setInterval(function () { Output1 = Math.random(); showCurrentValue(); },1000);"}, {"owner": {"reputation": 55, "user_id": 2581425, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e67c8989268a204d05f642965cfb4bb9?s=128&d=identicon&r=PG", "display_name": "Irphan Khan", "link": "https://stackoverflow.com/users/2581425/irphan-khan"}, "edited": false, "score": 0, "creation_date": 1523252371, "post_id": 49400741, "comment_id": 86466100, "body": "Thanks for the reply.Its working fine but  my problem is that I have to send this number on a api call so I need it as variable.for example: a timer is running from 1,2,3,4,5....and so on and someone hit an api at the moment when number is 5, he should get the value 5 and timer continues and if there is another api call then again it should send the current value.This  process need to be repeated. I hope I could explain the senariao ?"}, {"owner": {"reputation": 55, "user_id": 2581425, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e67c8989268a204d05f642965cfb4bb9?s=128&d=identicon&r=PG", "display_name": "Irphan Khan", "link": "https://stackoverflow.com/users/2581425/irphan-khan"}, "edited": false, "score": 0, "creation_date": 1523252766, "post_id": 49400741, "comment_id": 86466214, "body": "if I am doing <code>console.log(Output1);</code>  it always undefined"}], "tags": [], "owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "is_accepted": false, "score": 0, "last_activity_date": 1521637503, "last_edit_date": 1521637503, "creation_date": 1521618355, "answer_id": 49400741, "question_id": 49400166, "link": "https://stackoverflow.com/questions/49400166/communicate-three-componentsparent-with-two-childs-in-angular2/49400741#49400741", "title": "Communicate Three components(parent with two childs) in Angular2", "body": "<p>Create a new service, for example sibling-data-exchange.service.ts and put this code inside:</p>\n\n<pre><code>import { Observable } from 'rxjs/Rx';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class SiblingDataExchangeService {\n  private info = new BehaviorSubject('information');\n\n  getInfo(): Observable&lt;string&gt; {\n    return this.info.asObservable();\n  }\n\n  getInfoValue(): string {\n    return this.info.getValue();\n  }\n\n  setInfo(val: string) {\n    this.info.next(val);\n  }\n}\n</code></pre>\n\n<p>In both of your components import and subscribe to this service and add a method to store the value in the service.</p>\n\n<pre><code>import { SiblingDataExchangeService } from 'sibling-data-exchange.service';\n\n    constructor(\n        private siblingDataExchangeService: SiblingDataExchangeService\n    ) { \n\n        // stay updated whenever your sibling changes value\n        this.siblingDataExchangeService.getInfo().subscribe(value =&gt; {\n            // do something with this value\n            this.copyOfValue = value;\n        });\n    }\n\n    // update value for your sibling\n    private communicateValue(value: string): void {\n       siblingDataExchangeService.setInfo(value);\n    }\n</code></pre>\n\n<p>PS: Don't forget to PROVIDE the new service in your corresponding module!</p>\n\n<pre><code>import { SiblingDataExchangeService } from 'sibling-data-exchange.service';\n\n@NgModule({\n    imports: [\n       ...\n    ],\n    exports: [\n       ...\n    ],\n    declarations: [\n       ...\n    ],\n    providers: [\n        SiblingDataExchangeService\n    ]\n</code></pre>\n\n<p>Now your components communicate via a service due to the subscription to the BehaviorSubject.</p>\n\n<p>You said, that your CategoryComponent passes a list to the ProductsComponent and as soon as this list arrives the getProducts()-method is to be called. Well, to do this I really recommend to use the service-communication I described above.</p>\n\n<p>In your ProductsComponent you then have to modify the subscription as follows:</p>\n\n<pre><code>this.siblingDataExchangeService.getInfo().subscribe(value =&gt; {\n    // pass the value to your local list. (supposed you have one)\n    this.categories = value; \n\n    // then call your method\n    this.getProducts(); \n});\n</code></pre>\n\n<p>This variant is also possible. Here you use 'value' directly as a parameter. But therefor the signature of getProducts() has to match e.g. </p>\n\n<pre><code>getProducts(categories: Array&lt;string&gt;)\n</code></pre>\n\n<p>And then </p>\n\n<pre><code>this.siblingDataExchangeService.getInfo().subscribe(value =&gt; {\n    this.getProducts(value); \n});\n</code></pre>\n\n<p>Please note, that this subscription means, that your method gets called every time \nCategoryComponent passes in a new list. This ought to be exactly what you are searching for.</p>\n"}, {"tags": [], "owner": {"reputation": 1701, "user_id": 5720846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1dkaS.jpg?s=128&g=1", "display_name": "Amol Bhor", "link": "https://stackoverflow.com/users/5720846/amol-bhor"}, "is_accepted": false, "score": 1, "last_activity_date": 1521644207, "creation_date": 1521644207, "answer_id": 49409651, "question_id": 49400166, "link": "https://stackoverflow.com/questions/49400166/communicate-three-componentsparent-with-two-childs-in-angular2/49409651#49409651", "title": "Communicate Three components(parent with two childs) in Angular2", "body": "<p>You need to use <code>@Input()</code> and <code>@Output()</code> for category(as a child component) and product(as a parent component) to interact.</p>\n\n<blockquote>\n  <p>Parent html- [product.component.html]</p>\n</blockquote>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;app-filter-categories [categoryResult]=\"categoryFilterValue\" (clicked)=\"onClickedCategoryFilter($event)\"&gt;\r\n&lt;/app-filter-categories&gt;\r\n\r\n&lt;div class=\"row\"&gt;\r\n&lt;!--your code will come here for list of products--&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<blockquote>\n  <p>Parent component - [product.component.ts]</p>\n</blockquote>\n\n<pre><code>import { Component, OnInit, ChangeDetectionStrategy } from '@angular/core';\n\n@Component({\n      moduleId: module.id,\n      selector: 'all-products',\n      templateUrl: 'all-products.component.html',\n      changeDetection: ChangeDetectionStrategy.Default\n})\n\nexport class AllProductsComponent implements OnInit {\n\n  constructor(private _productsService: ProductsService,,\n        private _router: Router) {\n  }\n\n  ngOnInit() {\n     this.fillAllProducts(0);\n  }\n\n  fillAllProducts(pageIndex) {\n     this.loadingProgress = true;\n     var searchParams = new SearchParametersCategoryModel();\n     searchParams.CategoryFilter = this.categoryFilterValue;\n     searchParams.PageIndex = pageIndex;\n\n     //TODO - service call\n  }\n\n  onClickedCategoryFilter(filterValue: any) {\n    this.categoryFilterValue = filterValue;\n    this.allProductData$ = [];\n    this.currentPageIndex = 0;\n    this.fillAllProducts(this.currentPageIndex);\n  }\n\n  selectProduct(productId: any, selectedProductCart) {\n    //TODO\n  }\n}\n</code></pre>\n\n<blockquote>\n  <p>Child html- [category.component.html]</p>\n</blockquote>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"row\"&gt;\r\n&lt;!--your code will come here for different type of categories--&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<blockquote>\n  <p>Child component - [category.component.ts]</p>\n</blockquote>\n\n<pre><code>// libs\nimport { Component, Input, Output, EventEmitter, OnInit, AfterViewInit } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/debounceTime';\nimport { CategoriesService } from '../service/categories.service';\n\n@Component({\n  moduleId: module.id,\n  selector: 'app-filter-categories',\n  templateUrl: 'category.component.html'\n})\n\nexport class CategoryFilterComponent implements OnInit, AfterViewInit {\n  toggle = true;\n  @Input() categoryResult: any = '';\n  @Output() clicked = new EventEmitter&lt;any&gt;();\n\n  Category = [];\n  SelectedCategoryItems = [];\n  categoryFilterList: DictionaryFilter&lt;string&gt; = {};    //here u will add list of selected categories with key-value\n\n  constructor(private _categoriesService : CategoriesService) {\n  }\n\n  ngOnInit() {\n    //todo - fill categories list\n  }\n\n  onClickSelectCategory(searchType: any, event: any): any {\n    if (!(event.target.parentElement.className.search('active') &gt; 1)) {\n      //this.removeFilterElementWithKey(searchType);\n      //above line to add logic for remove deselected data from categoryFilterList\n    } else {\n       this.categoryFilterList.push(element);\n    }\n\n    this.clicked.emit(this.categoryFilterList);\n  }\n}\n</code></pre>\n\n<p>I think, this will solve your problem.</p>\n"}, {"tags": [], "owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "is_accepted": false, "score": 1, "last_activity_date": 1521816626, "last_edit_date": 1521816626, "creation_date": 1521764387, "answer_id": 49440497, "question_id": 49400166, "link": "https://stackoverflow.com/questions/49400166/communicate-three-componentsparent-with-two-childs-in-angular2/49440497#49440497", "title": "Communicate Three components(parent with two childs) in Angular2", "body": "<p>Okay, so here comes my demo app. This is just an example to show you how your app should be structured to work properly. I know that you call web services but it should be no problem for you to adapt it though:</p>\n\n<p>I have a CategoryComponent that subscribes to the CategoryService.</p>\n\n<p>The template</p>\n\n<pre><code>&lt;H2&gt;Category Component&lt;/H2&gt;\n&lt;div *ngFor=\"let category of categories; let ndx=index;\"&gt;\n     &lt;label&gt;{{category?.name}}&lt;/label&gt;\n     &lt;input type=\"checkbox\" id=\"cat.{{ndx}}\" [(ngModel)]=\"category.selected\" (change)=\"emitChange()\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The typescript file</p>\n\n<pre><code>import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { CategoryService } from '../services/category.service';\nimport { Category } from '../models/models';\n\n@Component({\n    moduleId: module.id,\n    selector: 'pm-category',\n    templateUrl: 'category.component.html',\n    styleUrls: ['category.component.scss']\n})\nexport class CategoryComponent implements OnInit, OnDestroy {\n\n    private categories: Array&lt;Category&gt; = [];\n\n    constructor(private categoryService: CategoryService) {\n\n    }\n\n    ngOnInit() {\n        this.categoryService.getCategories().subscribe(list =&gt; {\n            if (list) {\n                this.categories = list;\n            }\n        });\n    }\n\n    ngOnDestroy() { }\n\n    private emitChange(): void {\n        this.categoryService.setCategories(this.categories);\n    }\n\n}\n</code></pre>\n\n<p>Whenever a Category gets clicked the service gets updated.</p>\n\n<p>Next I have a ProductsComponent that subscribes to the CategoryService and the ProductsService and contains a child component ProductComponent.</p>\n\n<p>The template</p>\n\n<pre><code>&lt;H2&gt;Products Component&lt;/H2&gt;\n  &lt;div *ngFor=\"let product of products; let ndx=index;\"&gt;\n    &lt;label&gt;{{product?.name}}&lt;/label&gt;\n    &lt;input type=\"radio\" name=\"productGroup\" id=\"prod.{{ndx}}\" value=\"product\" (change)=\"setSelectedProduct(product)\"&gt;\n&lt;/div&gt;\n\n&lt;pm-product [product]=\"product\"&gt;&lt;/pm-product&gt;\n</code></pre>\n\n<p>The typescript file</p>\n\n<pre><code>import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { ProductsService } from '../services/products.service';\nimport { CategoryService } from '../services/category.service';\nimport { Product } from '../models/models';\n\n@Component({\n    moduleId: module.id,\n    selector: 'pm-products',\n    templateUrl: 'products.component.html',\n    styleUrls: ['products.component.scss']\n})\nexport class ProductsComponent implements OnInit, OnDestroy {\n\n    public product: Product;\n    private products: Array&lt;Product&gt; = [];\n\n    constructor(\n       private productsService: ProductsService,\n       private categoryService: CategoryService\n    ) { }\n\n    ngOnInit() {\n        this.productsService.getProducts().subscribe(list =&gt; {\n            if (list) {\n                this.products = list;\n            }\n        });\n\n        this.categoryService.getCategories().subscribe(list =&gt; {\n            const allProducts = this.productsService.getProductsValue();\n            const filteredProducts: Array&lt;Product&gt; = [];\n            let tempProducts: Array&lt;Product&gt; = [];\n\n            list.forEach(cat =&gt; {\n                tempProducts = allProducts.filter(prod =&gt; (prod.categoryId === cat.id) &amp;&amp; (cat.selected === true));\n\n                if (tempProducts.length &gt; 0) {\n                    tempProducts.forEach(el =&gt; {\n                        filteredProducts.push(el);\n                    });\n                }\n\n            });\n\n            this.products = filteredProducts;\n        });\n    }\n\n    ngOnDestroy() { }\n\n    private setSelectedProduct(product: Product): void {\n        this.product = product;\n    }\n\n}\n</code></pre>\n\n<p>When you chose a product its details get displayed in the ProductComponent through Input Binding between ProductComponent and ProductsComponent. And when a category gets changed in the CategoryComponent your list of products gets widened or narrowed depending on the selected checkboxes.</p>\n\n<p>Here comes the ProductComponent</p>\n\n<p>The template</p>\n\n<pre><code>&lt;H2&gt;Product Component&lt;/H2&gt;\n&lt;div&gt;Price: {{product?.details?.price}}&lt;/div&gt;\n&lt;div&gt;Age: {{product?.details?.age}}&lt;/div&gt;\n</code></pre>\n\n<p>and the typescript file</p>\n\n<pre><code>import { Component, Input, OnInit, OnDestroy } from '@angular/core';\nimport { Product } from '../models/models';\n\n@Component({\n    moduleId: module.id,\n    selector: 'pm-product',\n    templateUrl: 'product.component.html',\n    styleUrls: ['product.component.scss']\n})\nexport class ProductComponent implements OnInit, OnDestroy {\n\n    @Input() product: Product;\n\n    ngOnInit() { }\n\n    ngOnDestroy() { }\n\n}\n</code></pre>\n\n<p>Please note that I left out all the sass files als they are empty. But you have to have them in order to have your app compile!</p>\n\n<p>Here are both of the services and the model.ts I used.</p>\n\n<p>The CategoryService</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { Observable } from 'rxjs/Observable';\nimport { Category } from '../models/models';\n\n@Injectable()\nexport class CategoryService {\n\n    private categories: BehaviorSubject&lt;Array&lt;Category&gt;&gt; = new BehaviorSubject([]);\n\n    constructor() {\n        const list: Array&lt;Category&gt; = [];\n\n        const categoryA: Category = new Category('CategoryA', false);\n        categoryA.id = 1000;\n        list.push(categoryA);\n\n        const categoryB: Category = new Category('CategoryB', false);\n        categoryB.id = 2000;\n        list.push(categoryB);\n\n        const categoryC: Category = new Category('CategoryC', false);\n        categoryC.id = 3000;\n        list.push(categoryC);\n\n        this.setCategories(list);\n    }\n\n    getCategories(): Observable&lt;Array&lt;Category&gt;&gt; {\n        return this.categories.asObservable();\n    }\n\n    getCategoriesValue(): Array&lt;Category&gt; {\n        return this.categories.getValue();\n    }\n\n    setCategories(val: Array&lt;Category&gt;) {\n        this.categories.next(val);\n    }\n}\n</code></pre>\n\n<p>The ProductsService</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { Observable } from 'rxjs/Observable';\nimport { Product, Details } from '../models/models';\n\n@Injectable()\nexport class ProductsService {\n\n    private products: BehaviorSubject&lt;Array&lt;Product&gt;&gt; = new BehaviorSubject([]);\n\n    constructor() {\n        const list: Array&lt;Product&gt; = [];\n\n        const detailsA: Details = new Details(33, 12);\n        const productA: Product = new Product('ProductA', detailsA, 1000);\n        productA.id = 200;\n        list.push(productA);\n\n        const detailsB: Details = new Details(1002, 56);\n        const productB: Product = new Product('ProductB', detailsB, 1000);\n        productB.id = 400;\n        list.push(productB);\n\n        const detailsC: Details = new Details(9, 4);\n        const productC: Product = new Product('ProductC', detailsC, 2000);\n        productC.id = 600;\n        list.push(productC);\n\n        this.setProducts(list);\n    }\n\n    getProducts(): Observable&lt;Array&lt;Product&gt;&gt; {\n        return this.products.asObservable();\n    }\n\n    getProductsValue(): Array&lt;Product&gt; {\n        return this.products.getValue();\n    }\n\n    setProducts(val: Array&lt;Product&gt;) {\n        this.products.next(val);\n    }\n}\n</code></pre>\n\n<p>And my models.ts</p>\n\n<pre><code>export class Category {\n    constructor(\n        public name: string,\n        public selected: boolean,\n        public id?: number\n    ) { }\n}\n\nexport class Details {\n    constructor(\n        public price: number,\n        public age: number\n    ) { }\n}\n\nexport class Product {\n    constructor(\n        public name: string,\n        public details: Details,\n        public categoryId: number,\n        public id?: number\n    ) { }\n}\n</code></pre>\n\n<p>Finally, my main-page.module.ts, which I imported into the app.module.ts.</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { HttpClientModule } from '@angular/common/http';\nimport { RouterModule } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\n\nimport { MainPageComponent } from './main-page.component';\nimport { CategoryComponent } from '../category/category.component';\nimport { ProductComponent } from '../product/product.component';\nimport { ProductsComponent } from '../products/products.component';\nimport { CategoryService } from '../services/category.service';\nimport { ProductsService } from '../services/products.service';\n\n@NgModule({\n    imports: [\n        FormsModule,\n        BrowserModule,\n        HttpClientModule,\n        RouterModule.forRoot([\n            { path: 'pm-main-page', component: MainPageComponent },\n        ]),\n    ],\n    declarations: [\n       MainPageComponent,\n       CategoryComponent,\n       ProductComponent,\n       ProductsComponent\n    ],\n    exports: [\n       MainPageComponent,\n       CategoryComponent,\n       ProductComponent,\n       ProductsComponent\n    ],\n    providers: [\n       CategoryService,\n       ProductsService\n    ]\n\n})\nexport class MainPageModule {\n\n} \n</code></pre>\n\n<p>If you put all this together you'll have a small working app which exactly does what you described in your post. I hope you this helps.</p>\n\n<p>PS: it's of course optimizable in case of what happens to already made selections when the category list changes and such, but it's only supposed to be a demo. ;)</p>\n"}, {"comments": [{"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1523263350, "post_id": 49728781, "comment_id": 86471253, "body": "@Irphan Khan: So here is the promised solution. If it works for you, please upvote. Thx in advance."}, {"owner": {"reputation": 55, "user_id": 2581425, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e67c8989268a204d05f642965cfb4bb9?s=128&d=identicon&r=PG", "display_name": "Irphan Khan", "link": "https://stackoverflow.com/users/2581425/irphan-khan"}, "edited": false, "score": 0, "creation_date": 1523267783, "post_id": 49728781, "comment_id": 86473884, "body": "This is what I want to achieve but unfortunatly, its not working.  <code>var currInterval = window.setInterval(function () { setCurrentValue(); },1000);  var monitor = window.setInterval(function () { console.log(rngOutput1); },500);  function sendNumber(){   $.post( &quot;test.php&quot;, {rng: monitor} ); }   &lt;button onclick=&quot;sendNumber();return false;&quot;&gt; Send&lt;&#47;button&gt;</code>"}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "reply_to_user": {"reputation": 55, "user_id": 2581425, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e67c8989268a204d05f642965cfb4bb9?s=128&d=identicon&r=PG", "display_name": "Irphan Khan", "link": "https://stackoverflow.com/users/2581425/irphan-khan"}, "edited": false, "score": 0, "creation_date": 1523271617, "post_id": 49728781, "comment_id": 86476189, "body": "I re-edited my post once more, considering your comment. Please, try it this way. Please not, that the monitoring function&#39;s purpose was to present you the variable&#39;s content in the console. the object monitor returns the id of the Interval-Task and is only useful to stop the interval. -- Post output1 directly. It should work."}, {"owner": {"reputation": 55, "user_id": 2581425, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e67c8989268a204d05f642965cfb4bb9?s=128&d=identicon&r=PG", "display_name": "Irphan Khan", "link": "https://stackoverflow.com/users/2581425/irphan-khan"}, "edited": false, "score": 0, "creation_date": 1523273830, "post_id": 49728781, "comment_id": 86477572, "body": ":Excellent! Its working .Thank you very much for your time."}], "tags": [], "owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "is_accepted": true, "score": 1, "last_activity_date": 1523271581, "last_edit_date": 1523271581, "creation_date": 1523263214, "answer_id": 49728781, "question_id": 49400166, "link": "https://stackoverflow.com/questions/49400166/communicate-three-componentsparent-with-two-childs-in-angular2/49728781#49728781", "title": "Communicate Three components(parent with two childs) in Angular2", "body": "<p>Referring to your today's question</p>\n\n<p><strong><em>I have a code in javascript as below var Output1; window.setInterval(function () { Output1 = Math.random(); },1000); console.log(Output1); and want to access Output1 outside but its not working. Can please tell me any way I could access Output1 outside ?</em></strong> </p>\n\n<p>I'd suggest the following solution:</p>\n\n<pre><code>var output1;\n\nfunction setCurrentValue() {output1 = Math.random();}\nfunction sendNumber(){ $.post( \"test.php\", {rng: output1} ); }\n\nvar currInterval = window.setInterval(function () { setCurrentValue(); },1000);\n\n&lt;button onclick=\"sendNumber();return false;\"&gt; Send&lt;/button&gt;\n</code></pre>\n\n<p>And if you want to monitor output1 (for console only!) just do it this way:</p>\n\n<pre><code>var monitor = window.setInterval(function () { console.log(output1); },500);\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 2581425, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e67c8989268a204d05f642965cfb4bb9?s=128&d=identicon&r=PG", "display_name": "Irphan Khan", "link": "https://stackoverflow.com/users/2581425/irphan-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "accepted_answer_id": 49728781, "answer_count": 4, "score": -1, "last_activity_date": 1523271581, "creation_date": 1521615884, "question_id": 49400166, "link": "https://stackoverflow.com/questions/49400166/communicate-three-componentsparent-with-two-childs-in-angular2", "title": "Communicate Three components(parent with two childs) in Angular2", "body": "<p>I am working on a shopping cart in Angular 2.There are 2 components (category and products listing ) that included in app component(3rd one).Now problem is that I am unable to get communicate both child components.I have tried two solutions as below..</p>\n\n<p><strong>Solution1:</strong> I have used products component as provider in category compoment and everything working except on category select, view of products's component is not updating/refreshing.</p>\n\n<p><strong>Solution2:</strong> I have use \"rxjs/Subject\" in shared service and passing selected categories to products component but don't know how to call a function(getProducts()) of product component on category select/change.Any help will be highly appreciated.Thanks </p>\n"}, {"tags": ["typescript", "firebase", "ionic-framework", "angularfire2", "typescript-typings"], "answers": [{"tags": [], "owner": {"reputation": 1502, "user_id": 5544970, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/2AYud.jpg?s=128&g=1", "display_name": "Sebin Benjamin", "link": "https://stackoverflow.com/users/5544970/sebin-benjamin"}, "is_accepted": true, "score": 1, "last_activity_date": 1521641343, "creation_date": 1521641343, "answer_id": 49408594, "question_id": 49399838, "link": "https://stackoverflow.com/questions/49399838/firebase-js-sdk-missing-firebase-d-ts-typescript-error-when-running-ionic-serve/49408594#49408594", "title": "Firebase JS SDK missing firebase.d.ts. Typescript error when running ionic serve", "body": "<p>One temporary solution is to rename <code>index.d.ts</code> to <code>firebase.d.ts</code>, which does not seem to be causing other errors.</p>\n"}], "owner": {"reputation": 1502, "user_id": 5544970, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/2AYud.jpg?s=128&g=1", "display_name": "Sebin Benjamin", "link": "https://stackoverflow.com/users/5544970/sebin-benjamin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 49408594, "answer_count": 1, "score": 1, "last_activity_date": 1521641343, "creation_date": 1521614580, "last_edit_date": 1521616470, "question_id": 49399838, "link": "https://stackoverflow.com/questions/49399838/firebase-js-sdk-missing-firebase-d-ts-typescript-error-when-running-ionic-serve", "title": "Firebase JS SDK missing firebase.d.ts. Typescript error when running ionic serve", "body": "<p>I am running an ionic project using AngularFire. I get typescript error when running </p>\n\n<p><code>ionic cordova build  --prod --release android</code>.</p>\n\n<pre><code>typescript error '/home/sebinbenjamin/workspace/myapp/node_modules/firebase/firebase.d.ts' not found.\n\n    Error: The Angular AoT build failed. See the issues above\n        at /home/sebinbenjamin/workspace/myapp/node_modules/@ionic/app-scripts/dist/aot/aot-compiler.js:232:55\n        at step (/home/sebinbenjamin/workspace/myapp/node_modules/@ionic/app-scripts/dist/aot/aot-compiler.js:32:23)\n        at Object.next (/home/sebinbenjamin/workspace/myapp/node_modules/@ionic/app-scripts/dist/aot/aot-compiler.js:13:53)\n        at fulfilled (/home/sebinbenjamin/workspace/myapp/node_modules/@ionic/app-scripts/dist/aot/aot-compiler.js:4:58)\n</code></pre>\n\n<p>When checking the projects node/node_modules/firebase/ directory, there is no <code>firebase.d.ts</code>, but only <code>index.d.ts</code>.</p>\n\n<p>Here's my ionic info:</p>\n\n<pre><code>ionic info\ncli packages: (/usr/lib/node_modules)\n\n    @ionic/cli-utils  : 1.19.2\n    ionic (Ionic CLI) : 3.20.0\n\nglobal packages:\n\n    cordova (Cordova CLI) : 7.1.0\n\nlocal packages:\n\n    @ionic/app-scripts : 3.1.8\n    Cordova Platforms  : android 6.2.3\n    Ionic Framework    : ionic-angular 3.9.2\n\nSystem:\n\n    Android SDK Tools : 25.2.5\n    Node              : v6.13.1\n    npm               : 3.10.10\n    OS                : Linux 4.4\n\nEnvironment Variables:\n\n    ANDROID_HOME : /home/sebinbenjamin/Android/Sdk\n\nMisc:\n\n    backend : pro\n</code></pre>\n\n<p>I'm using <code>\"firebase\": \"~4.12.0\"</code> and <code>angularfire2\": \"~5.0.0-rc.6</code>.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 51, "user_id": 8007305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d53c6656ea81dadc15a2b0c4bd459e0?s=128&d=identicon&r=PG&f=1", "display_name": "johnny", "link": "https://stackoverflow.com/users/8007305/johnny"}, "edited": false, "score": 0, "creation_date": 1521613857, "post_id": 49399580, "comment_id": 85800392, "body": "is there anyone to solve the error..?"}], "answers": [{"tags": [], "owner": {"reputation": 1391, "user_id": 7561290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C6zJw.png?s=128&g=1", "display_name": "Javascript Hupp Technologies", "link": "https://stackoverflow.com/users/7561290/javascript-hupp-technologies"}, "is_accepted": true, "score": 1, "last_activity_date": 1521614746, "creation_date": 1521614746, "answer_id": 49399880, "question_id": 49399580, "link": "https://stackoverflow.com/questions/49399580/im-practicing-angular-2-but-getting-bindings-cannot-contain-assignments-this/49399880#49399880", "title": "i&#39;m practicing angular 2 but getting &quot;Bindings cannot contain assignments&quot; this error", "body": "<p>You are assigning value to the selectedEmployeeCountRadioButton in *ngIf</p>\n\n<p>Do this <code>&lt;tr *ngIf = \"selectedEmployeeCountRadioButton=='All' || selectedEmployeeCountRadioButton==employ.gender\"&gt;&lt;/tr&gt;</code></p>\n\n<p>Instead of  <code>&lt;tr *ngIf = \"selectedEmployeeCountRadioButton=='All' || selectedEmployeeCountRadioButton=employ.gender\"&gt;&lt;/tr&gt;</code></p>\n"}], "owner": {"reputation": 51, "user_id": 8007305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d53c6656ea81dadc15a2b0c4bd459e0?s=128&d=identicon&r=PG&f=1", "display_name": "johnny", "link": "https://stackoverflow.com/users/8007305/johnny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1705, "favorite_count": 0, "accepted_answer_id": 49399880, "answer_count": 1, "score": 1, "last_activity_date": 1521614746, "creation_date": 1521613482, "question_id": 49399580, "link": "https://stackoverflow.com/questions/49399580/im-practicing-angular-2-but-getting-bindings-cannot-contain-assignments-this", "title": "i&#39;m practicing angular 2 but getting &quot;Bindings cannot contain assignments&quot; this error", "body": "<pre><code>&lt;app-employeecount [all]= \"gettotalemployeescount()\"\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;app-employeecount [all]= \"gettotalemployeescount()\"\r\n                   [male]= \"gettotalmaleemployeescount()\"\r\n                   [female]=\"gettotalfemaleemployeescount()\"\r\n                   (onEmployeeCountRadioButtonChange) = \"onEmployeeCountRadioButtonChange($event)\"&gt;\r\n&lt;/app-employeecount&gt;             \r\n&lt;br/&gt;\r\n&lt;table&gt;\r\n  &lt;thead&gt;\r\n    &lt;tr&gt;\r\n      &lt;th&gt;id&lt;/th&gt;\r\n      &lt;th&gt;name&lt;/th&gt;\r\n      &lt;th&gt;Gender&lt;/th&gt;\r\n      &lt;th&gt;mobile&lt;/th&gt;\r\n      &lt;th&gt;Salary&lt;/th&gt;\r\n      &lt;th&gt;Date of joining&lt;/th&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/thead&gt;\r\n  &lt;tbody&gt;\r\n    &lt;ng-container *ngFor = \"let employ of employeelist;\"&gt;\r\n    &lt;tr *ngIf = \"selectedEmployeeCountRadioButton=='All' || selectedEmployeeCountRadioButton=employ.gender\"&gt;\r\n      &lt;td&gt;{{employ.id}}&lt;/td&gt;\r\n      &lt;td&gt;{{employ.name}}&lt;/td&gt;\r\n      &lt;td&gt;{{employ.gender}}&lt;/td&gt;\r\n      &lt;td&gt;{{employ.mobile}}&lt;/td&gt;\r\n      &lt;td&gt;{{employ.Salary | currency:'USD':'1.2-3'}}&lt;/td&gt;\r\n      &lt;td&gt;{{employ.Doa | date:'dd/MM/y' | uppercase}}&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/ng-container&gt;\r\n    &lt;tr *ngIf = \"!employeelist || employeelist.length==0\"&gt;\r\n      &lt;td colspan=\"6\"&gt;No Students are available right now&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/tbody&gt;\r\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<pre><code>   [male]= \"gettotalmaleemployeescount()\"\n               [female]=\"gettotalfemaleemployeescount()\"\n               (onEmployeeCountRadioButtonChange) = \n\"onEmployeeCountRadioButtonChange($event)\"&gt;\n&lt;/app-employeecount&gt;             \n&lt;br/&gt;\n&lt;table&gt;\n&lt;thead&gt;\n&lt;tr&gt;\n  &lt;th&gt;id&lt;/th&gt;\n  &lt;th&gt;name&lt;/th&gt;\n  &lt;th&gt;Gender&lt;/th&gt;\n  &lt;th&gt;mobile&lt;/th&gt;\n  &lt;th&gt;Salary&lt;/th&gt;\n  &lt;th&gt;Date of joining&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n&lt;ng-container *ngFor = \"let employ of employeelist;\"&gt;\n&lt;tr *ngIf = \"selectedEmployeeCountRadioButton=='All' || \nselectedEmployeeCountRadioButton=employ.gender\"&gt;\n  &lt;td&gt;{{employ.id}}&lt;/td&gt;\n  &lt;td&gt;{{employ.name}}&lt;/td&gt;\n  &lt;td&gt;{{employ.gender}}&lt;/td&gt;\n  &lt;td&gt;{{employ.mobile}}&lt;/td&gt;\n  &lt;td&gt;{{employ.Salary | currency:'USD':'1.2-3'}}&lt;/td&gt;\n  &lt;td&gt;{{employ.Doa | date:'dd/MM/y' | uppercase}}&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/ng-container&gt;\n&lt;tr *ngIf = \"!employeelist || employeelist.length==0\"&gt;\n  &lt;td colspan=\"6\"&gt;No Students are available right now&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "build", "production"], "comments": [{"owner": {"reputation": 6216, "user_id": 1471485, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8qRCk.png?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/1471485/john"}, "edited": false, "score": 0, "creation_date": 1521613325, "post_id": 49399272, "comment_id": 85800153, "body": "The error may be because of some other code you have written previously. Maybe you have a function that is not closed properly?"}], "answers": [{"comments": [{"owner": {"reputation": 1572, "user_id": 7383204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/36xvU.jpg?s=128&g=1", "display_name": "Talk is Cheap Show me Code", "link": "https://stackoverflow.com/users/7383204/talk-is-cheap-show-me-code"}, "edited": false, "score": 0, "creation_date": 1521614631, "post_id": 49399607, "comment_id": 85800761, "body": "Yup It was the problem. Thanks for reaching out. The strange part is TS ignores this in development mode."}], "tags": [], "owner": {"reputation": 387, "user_id": 7138410, "user_type": "registered", "profile_image": "https://graph.facebook.com/827436734026643/picture?type=large", "display_name": "Sksaif Uddin", "link": "https://stackoverflow.com/users/7138410/sksaif-uddin"}, "is_accepted": true, "score": 1, "last_activity_date": 1521613600, "creation_date": 1521613600, "answer_id": 49399607, "question_id": 49399272, "link": "https://stackoverflow.com/questions/49399272/strange-build-time-error-in-angular-5-app/49399607#49399607", "title": "strange build time error in angular 5 app", "body": "<p>You closed the forEach before closing of input key function , may be that is causing the error , change the line on top of line no.223 as i did below ,hope this will solve the issue.</p>\n\n<pre><code> Object.keys(res['com'][element]['schema']['properties']).forEach(inputKey =&gt; {\n          this.newfdata[element]['properties'].push(res['com'][element]['schema']['properties'][inputKey]\n\n    }); // close forEach \n\n\n\n   // this is line no. 223\n            this.objectProps = Object.keys(res['com'][element]['schema']['properties']).map(prop =&gt; { \n\n      return Object.assign({}, { key: prop} , res['com'][element]['schema']['properties'][prop]);\n\n    // this is line no. 228\n      });\n</code></pre>\n"}], "owner": {"reputation": 1572, "user_id": 7383204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/36xvU.jpg?s=128&g=1", "display_name": "Talk is Cheap Show me Code", "link": "https://stackoverflow.com/users/7383204/talk-is-cheap-show-me-code"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 49399607, "answer_count": 1, "score": 0, "last_activity_date": 1521613600, "creation_date": 1521612203, "question_id": 49399272, "link": "https://stackoverflow.com/questions/49399272/strange-build-time-error-in-angular-5-app", "title": "strange build time error in angular 5 app", "body": "<p>I am developing one application where I am getting object from http request and converting it to itteratable array like this. When I run the app in development mode the code sometime runs and give random error like below. But when I do run ng build --prod, it always gives me the below error and I am stuck due to it. </p>\n\n<p>Where I have missed anything? </p>\n\n<pre><code>         Object.keys(res['com'][element]['schema']['properties']).forEach(inputKey =&gt; {\n              this.newfdata[element]['properties'].push(res['com'][element]['schema']['properties'][inputKey]);\n\n        }\n\n\n\n       // this is line no. 223\n                this.objectProps = Object.keys(res['com'][element]['schema']['properties']).map(prop =&gt; { \n\n          return Object.assign({}, { key: prop} , res['com'][element]['schema']['properties'][prop]);\n\n        // this is line no. 228\n          });\n</code></pre>\n\n<p>I got the below error due to above lines. </p>\n\n<pre><code>ERROR in src/app/shared/layout/add.component.ts(223,5): error TS1005: ',' expected.\nsrc/app/shared/layout/add.component.ts(228,11): error TS1005: ')' expected.\n</code></pre>\n\n<p>Please help me. Because of this issue whole app is not getting into prod mode. </p>\n\n<p>Thanks in advance. </p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "edited": false, "score": 0, "creation_date": 1521613288, "post_id": 49399222, "comment_id": 85800130, "body": "can you please provide code at stack biz"}, {"owner": {"reputation": 6216, "user_id": 1471485, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8qRCk.png?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/1471485/john"}, "edited": false, "score": 0, "creation_date": 1521613987, "post_id": 49399222, "comment_id": 85800452, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/39847862/min-max-validator-in-angular-2-final\">Min / Max Validator in Angular 2 Final</a>"}], "answers": [{"tags": [], "owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "is_accepted": false, "score": 1, "last_activity_date": 1521613938, "creation_date": 1521613938, "answer_id": 49399692, "question_id": 49399222, "link": "https://stackoverflow.com/questions/49399222/restrict-input-value-for-number-from-range-1-3/49399692#49399692", "title": "restrict input value for number from range 1-3", "body": "<p>you need to put regular expression like this <code>[0-9]{1,3}</code>, which allow only three digit if more than that it fail. and if you have this regular expression you might dont need <code>maxlength</code> validator as this regaurlar expression handle that case.</p>\n\n<p>try it like </p>\n\n<pre><code>this.editThreshold = new FormGroup({\n  threshold: new FormControl('', [Validators.required, Validators.pattern(/[0-9]{1,3}/)),\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 405, "user_id": 4852848, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/8df431c0cae111827e3b15a49a25c46a?s=128&d=identicon&r=PG&f=1", "display_name": "Subhojit Mondal", "link": "https://stackoverflow.com/users/4852848/subhojit-mondal"}, "is_accepted": false, "score": 1, "last_activity_date": 1521615147, "creation_date": 1521615147, "answer_id": 49399977, "question_id": 49399222, "link": "https://stackoverflow.com/questions/49399222/restrict-input-value-for-number-from-range-1-3/49399977#49399977", "title": "restrict input value for number from range 1-3", "body": "<p>Use ng2-validation plugin for quickly solve this.\n<a href=\"https://github.com/yuyang041060120/ng2-validation#rangelength\" rel=\"nofollow noreferrer\">https://github.com/yuyang041060120/ng2-validation#rangelength</a></p>\n\n<pre><code>npm install ng2-validation --save\n</code></pre>\n\n<p>in app module</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule } from '@angular/forms';\nimport { CustomFormsModule } from 'ng2-validation'\n\nimport { AppComponent } from './app.component';\n\n@NgModule({\n    imports: [BrowserModule, FormsModule, CustomFormsModule],\n    declarations: [AppComponent],\n    bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n</code></pre>\n\n<p>Template form</p>\n\n<pre><code>&lt;input type=\"text\" [(ngModel)]=\"model.field\" name=\"field\" #field=\"ngModel\" [rangeLength]=\"[5, 9]\"/&gt;\n&lt;p *ngIf=\"field.errors?.rangeLength\"&gt;error message&lt;/p&gt;\n</code></pre>\n\n<p>Model driven</p>\n\n<pre><code>new FormControl('', CustomValidators.rangeLength([5, 9]))\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 9084879, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/618584764980676/picture?type=large", "display_name": "Asif Ahmed", "link": "https://stackoverflow.com/users/9084879/asif-ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 819, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1521615147, "creation_date": 1521612026, "question_id": 49399222, "link": "https://stackoverflow.com/questions/49399222/restrict-input-value-for-number-from-range-1-3", "title": "restrict input value for number from range 1-3", "body": "<p>HTML code</p>\n\n<pre><code>&lt;div class=\"col-sm-12\"&gt;\n  &lt;input class=\"form-control form-control-md\" [ngModel]=\"item.threshold\" placeholder=\"Set Threshold\" formControlName=\"threshold\"\n    type=\"text\"&gt;   \n  &lt;span class=\"text-danger text-small block\" *ngIf=\"editThreshold.get('threshold').hasError('required') &amp;&amp; editThreshold.get('threshold').touched\"&gt;threshold is required.&lt;/span&gt;\n  &lt;span class=\"text-danger text-small block\" *ngIf=\"editThreshold.get('threshold').hasError('pattern') &amp;&amp; editThreshold.get('threshold').touched\"&gt;threshold value should be number.&lt;/span&gt;\n  &lt;span class=\"text-danger text-small block\" *ngIf=\"editThreshold.get('threshold').hasError('maxlength') &amp;&amp; editThreshold.get('threshold').touched\"&gt;maximum three digits.&lt;/span&gt;                \n&lt;/div&gt;\n</code></pre>\n\n<p>ts code</p>\n\n<pre><code>this.editThreshold = new FormGroup({\n  threshold: new FormControl('', [Validators.required, Validators.pattern(/[0-9]/),Validators.maxLength(3)]),\n});\n</code></pre>\n\n<p>I want to restrict pattern to only accepting the number and from range 1 - 3</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1521611779, "creation_date": 1521611779, "answer_id": 49399155, "question_id": 49399127, "link": "https://stackoverflow.com/questions/49399127/while-creating-object-of-a-class-how-to-pass-string-array-object-as-an-argument/49399155#49399155", "title": "While creating object of a class, how to pass string array object as an argument into constructor of the class", "body": "<p>To initialize an array just use <code>[ values ]</code>:</p>\n\n<pre><code>this.selectedFilters = new SelectedFilters(['Test']); // Array with a string\nthis.selectedFilters = new SelectedFilters([]); // Empty array\n</code></pre>\n"}], "owner": {"reputation": 1093, "user_id": 3950587, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28ff3f39e5e6108d23a8a45c70f0ce70?s=128&d=identicon&r=PG&f=1", "display_name": "Shailesh Vikram Singh", "link": "https://stackoverflow.com/users/3950587/shailesh-vikram-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "accepted_answer_id": 49399155, "answer_count": 1, "score": 0, "last_activity_date": 1521611779, "creation_date": 1521611649, "question_id": 49399127, "link": "https://stackoverflow.com/questions/49399127/while-creating-object-of-a-class-how-to-pass-string-array-object-as-an-argument", "title": "While creating object of a class, how to pass string array object as an argument into constructor of the class", "body": "<p>While creating object of a class, how to pass string array object as an argument into constructor of the class.</p>\n\n<pre><code>export class ManagerComponent {\n    private selectedFilters: SelectedFilters;\n    public ngOnInit() {\n        this.selectedFilters = new SelectedFilters(new String[]);\n    }\n}\n\nexport class SelectedFilters {\n    constructor(public related: String[]) { }\n}\n</code></pre>\n"}, {"tags": ["java", "angular", "typescript", "ng-build"], "comments": [{"owner": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 0, "creation_date": 1521614533, "post_id": 49398763, "comment_id": 85800716, "body": "Does this pose a functional problem or is it just something you noticed?"}, {"owner": {"reputation": 9918, "user_id": 5695162, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ZCKFs.jpg?s=128&g=1", "display_name": "Vikas", "link": "https://stackoverflow.com/users/5695162/vikas"}, "edited": false, "score": 0, "creation_date": 1521616222, "post_id": 49398763, "comment_id": 85801511, "body": "production <code>build</code> performs minification on your code which removes excess whitespace, comments, and optional tokens.?  what does browser&#39;s console shows?"}, {"owner": {"reputation": 9918, "user_id": 5695162, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ZCKFs.jpg?s=128&g=1", "display_name": "Vikas", "link": "https://stackoverflow.com/users/5695162/vikas"}, "edited": false, "score": 0, "creation_date": 1521616561, "post_id": 49398763, "comment_id": 85801690, "body": "which server are you using to serve the generated bundles from <code>dist</code>?"}, {"owner": {"reputation": 6348, "user_id": 2873357, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/IBvqk.jpg?s=128&g=1", "display_name": "Relm", "link": "https://stackoverflow.com/users/2873357/relm"}, "reply_to_user": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 0, "creation_date": 1521617595, "post_id": 49398763, "comment_id": 85802240, "body": "@Phix, yes, it&#39;s a problem, as I said, a browser needs to read these tags to display pages properly, it can&#39;t read them while they like that."}, {"owner": {"reputation": 6348, "user_id": 2873357, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/IBvqk.jpg?s=128&g=1", "display_name": "Relm", "link": "https://stackoverflow.com/users/2873357/relm"}, "reply_to_user": {"reputation": 9918, "user_id": 5695162, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ZCKFs.jpg?s=128&g=1", "display_name": "Vikas", "link": "https://stackoverflow.com/users/5695162/vikas"}, "edited": false, "score": 0, "creation_date": 1521617647, "post_id": 49398763, "comment_id": 85802273, "body": "@Vikas nothing in console."}, {"owner": {"reputation": 6348, "user_id": 2873357, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/IBvqk.jpg?s=128&g=1", "display_name": "Relm", "link": "https://stackoverflow.com/users/2873357/relm"}, "reply_to_user": {"reputation": 9918, "user_id": 5695162, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ZCKFs.jpg?s=128&g=1", "display_name": "Vikas", "link": "https://stackoverflow.com/users/5695162/vikas"}, "edited": false, "score": 0, "creation_date": 1521617737, "post_id": 49398763, "comment_id": 85802309, "body": "@Vikas I used the htttp-server, live-server and a production server --&gt; Google. And this is not a serving issue. The file is just corrupt that&#39;s where we&#39;re at."}, {"owner": {"reputation": 9918, "user_id": 5695162, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ZCKFs.jpg?s=128&g=1", "display_name": "Vikas", "link": "https://stackoverflow.com/users/5695162/vikas"}, "edited": false, "score": 0, "creation_date": 1521618106, "post_id": 49398763, "comment_id": 85802507, "body": "So the issue is cropped up because of minification in production build? does <code>ng serve</code> works fine?"}, {"owner": {"reputation": 6348, "user_id": 2873357, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/IBvqk.jpg?s=128&g=1", "display_name": "Relm", "link": "https://stackoverflow.com/users/2873357/relm"}, "edited": false, "score": 0, "creation_date": 1521620183, "post_id": 49398763, "comment_id": 85803593, "body": "<code>ng serve</code>, <code>ng build</code>, they work file, but not <code>ng build --prod</code>"}, {"owner": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "edited": false, "score": 0, "creation_date": 1521620426, "post_id": 49398763, "comment_id": 85803711, "body": "Where did you get that having no space could cause an issue?"}, {"owner": {"reputation": 6348, "user_id": 2873357, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/IBvqk.jpg?s=128&g=1", "display_name": "Relm", "link": "https://stackoverflow.com/users/2873357/relm"}, "reply_to_user": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "edited": false, "score": 0, "creation_date": 1521620643, "post_id": 49398763, "comment_id": 85803827, "body": "@David Did you run the two html blocks on a mobile browser to see the difference? Maybe you should try that."}, {"owner": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "edited": false, "score": 0, "creation_date": 1521620948, "post_id": 49398763, "comment_id": 85803967, "body": "Yes and it works fine. Good luck"}, {"owner": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 0, "creation_date": 1521653338, "post_id": 49398763, "comment_id": 85827601, "body": "Looking at this again you have 4 viewport tags. You only need one with the values comma separated."}, {"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "reply_to_user": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 0, "creation_date": 1521876513, "post_id": 49398763, "comment_id": 85927377, "body": "@Phix is right, you should only use a single <code>viewport</code> entry and not expect browser to mix everything. Try using a single viewport entry and see if it helps"}, {"owner": {"reputation": 132, "user_id": 4691517, "user_type": "registered", "profile_image": "https://graph.facebook.com/1018940208133877/picture?type=large", "display_name": "Gagan Prajapati", "link": "https://stackoverflow.com/users/4691517/gagan-prajapati"}, "edited": false, "score": 0, "creation_date": 1522334646, "post_id": 49398763, "comment_id": 86125815, "body": "If you want it for SEO purpose then i would recommend you doing server-side rendering. <a href=\"https://angular.io/guide/universal\" rel=\"nofollow noreferrer\">angular.io/guide/universal</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3887, "user_id": 7914637, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x_BhuHcC8Ww/AAAAAAAAAAI/AAAAAAAAABg/hiPWIjRXbhI/photo.jpg?sz=128", "display_name": "Alexander", "link": "https://stackoverflow.com/users/7914637/alexander"}, "edited": false, "score": 0, "creation_date": 1522064250, "post_id": 49490443, "comment_id": 85983993, "body": "While this code may answer the question, providing additional context regarding <b>how</b> and <b>why</b> it solves the problem would improve the answer&#39;s long-term value."}, {"owner": {"reputation": 6348, "user_id": 2873357, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/IBvqk.jpg?s=128&g=1", "display_name": "Relm", "link": "https://stackoverflow.com/users/2873357/relm"}, "edited": false, "score": 0, "creation_date": 1522129486, "post_id": 49490443, "comment_id": 86014259, "body": "NO, that&#39;s a terrible idea."}], "tags": [], "owner": {"reputation": 1, "user_id": 2841161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b972a9b8a17d9cb750af14f733bd317?s=128&d=identicon&r=PG&f=1", "display_name": "user2841161", "link": "https://stackoverflow.com/users/2841161/user2841161"}, "is_accepted": false, "score": -2, "last_activity_date": 1522064289, "last_edit_date": 1522064289, "creation_date": 1522063924, "answer_id": 49490443, "question_id": 49398763, "link": "https://stackoverflow.com/questions/49398763/angular-4-how-to-build-for-production-without-losing-resposive-design-meta-tag/49490443#49490443", "title": "Angular 4 : How to build for production without losing resposive design meta tags.", "body": "<p>Try using this command:</p>\n\n<pre><code>ng build -prod --no-aot\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6348, "user_id": 2873357, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/IBvqk.jpg?s=128&g=1", "display_name": "Relm", "link": "https://stackoverflow.com/users/2873357/relm"}, "edited": false, "score": 0, "creation_date": 1522129532, "post_id": 49495942, "comment_id": 86014279, "body": "Ok, this seems worth a try, will check it out and report."}], "tags": [], "owner": {"reputation": 241, "user_id": 8571139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c94a022e55b0e1e90d175ecf3d7b494?s=128&d=identicon&r=PG&f=1", "display_name": "mur-tha", "link": "https://stackoverflow.com/users/8571139/mur-tha"}, "is_accepted": false, "score": 7, "last_activity_date": 1522080551, "creation_date": 1522080551, "answer_id": 49495942, "question_id": 49398763, "link": "https://stackoverflow.com/questions/49398763/angular-4-how-to-build-for-production-without-losing-resposive-design-meta-tag/49495942#49495942", "title": "Angular 4 : How to build for production without losing resposive design meta tags.", "body": "<p>From the angular/cli documentation, it looks like the production build flag minifies all of the html files by default, including index.html <a href=\"https://github.com/angular/angular-cli/issues/1861\" rel=\"noreferrer\">https://github.com/angular/angular-cli/issues/1861</a>.  You can retain the formatting in the meta tags by wrapping them in an ignore tag as shown below: </p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=\"en\"&gt;\n\n&lt;head&gt;\n  &lt;meta charset=\"utf-8\"&gt;\n  &lt;title&gt;DebugProject&lt;/title&gt;\n  &lt;base href=\"/\"&gt;\n\n  &lt;!-- htmlmin:ignore --&gt;\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n  &lt;meta name=\"viewport\" content=\"user-scalable=no, width=device-width\" /&gt;\n  &lt;meta name=\"viewport\" content=\"width=device-width\" /&gt;\n  &lt;meta name=\"apple-mobile-web-app-capable\" content=\"yes\"&gt;\n  &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=EmulateIE9\"&gt;\n  &lt;meta name=\"viewport\" content=\"width=device-width; initial-scale=1; minimum-scale=1; maximum-scale=1; user-scalable=0\"&gt;\n  &lt;!-- htmlmin:ignore --&gt;\n\n  &lt;link rel=\"icon\" type=\"image/x-icon\" href=\"favicon.ico\"&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n  &lt;app-root&gt;&lt;/app-root&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 54, "user_id": 9318852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8103fee57e60e8efe412697fe9637ba2?s=128&d=identicon&r=PG&f=1", "display_name": "Jarrett Helton", "link": "https://stackoverflow.com/users/9318852/jarrett-helton"}, "is_accepted": false, "score": 2, "last_activity_date": 1522082547, "creation_date": 1522082547, "answer_id": 49496513, "question_id": 49398763, "link": "https://stackoverflow.com/questions/49398763/angular-4-how-to-build-for-production-without-losing-resposive-design-meta-tag/49496513#49496513", "title": "Angular 4 : How to build for production without losing resposive design meta tags.", "body": "<p>I would try following this thread: <a href=\"https://stackoverflow.com/questions/46018599/how-to-globally-set-the-preservewhitespaces-option-in-angular-to-false?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\">How to globally set the preserveWhitespaces option in Angular to false?</a></p>\n\n<p>The issue, form what i can tell, is that building in aot removes whitespace by default. Not building in aot is not a good idea, in my honest opinion. It saves a lot of work on the client and speeds your SPA up.</p>\n"}], "owner": {"reputation": 6348, "user_id": 2873357, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/IBvqk.jpg?s=128&g=1", "display_name": "Relm", "link": "https://stackoverflow.com/users/2873357/relm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 562, "favorite_count": 1, "answer_count": 3, "score": 3, "last_activity_date": 1522082547, "creation_date": 1521609903, "last_edit_date": 1521614099, "question_id": 49398763, "link": "https://stackoverflow.com/questions/49398763/angular-4-how-to-build-for-production-without-losing-resposive-design-meta-tag", "title": "Angular 4 : How to build for production without losing resposive design meta tags.", "body": "<p>I've tested this with a new project, nothing unique.</p>\n\n<p><code>ng new debug-project</code></p>\n\n<p>Then I added some tags in the head section that resulted in this.</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=\"en\"&gt;\n\n&lt;head&gt;\n  &lt;meta charset=\"utf-8\"&gt;\n  &lt;title&gt;DebugProject&lt;/title&gt;\n  &lt;base href=\"/\"&gt;\n\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n  &lt;meta name=\"viewport\" content=\"user-scalable=no, width=device-width\" /&gt;\n  &lt;meta name=\"viewport\" content=\"width=device-width\" /&gt;\n  &lt;meta name=\"apple-mobile-web-app-capable\" content=\"yes\"&gt;\n  &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=EmulateIE9\"&gt;\n  &lt;meta name=\"viewport\" content=\"width=device-width; initial-scale=1; minimum-scale=1; maximum-scale=1; user-scalable=0\"&gt;\n\n  &lt;link rel=\"icon\" type=\"image/x-icon\" href=\"favicon.ico\"&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n  &lt;app-root&gt;&lt;/app-root&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>After <code>ng build --prod</code>, the html is now looking like this, which can't be read by the browser. Notice the missing spaces in viewport meta tags values. <code>width, initial-scale=1</code>, become <code>width,initial-scale=1</code>.</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=\"en\"&gt;\n\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;DebugProject&lt;/title&gt;\n    &lt;base href=\"/\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"&gt;\n    &lt;meta name=\"viewport\" content=\"user-scalable=no,width=device-width\" /&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width\" /&gt;\n    &lt;meta name=\"apple-mobile-web-app-capable\" content=\"yes\"&gt;\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=EmulateIE9\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width;initial-scale=1;minimum-scale=1;maximum-scale=1;user-scalable=0\"&gt;\n    &lt;link rel=\"icon\" type=\"image/x-icon\" href=\"favicon.ico\"&gt;\n    &lt;link href=\"styles.ac89bfdd6de82636b768.bundle.css\" rel=\"stylesheet\" /&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;app-root&gt;&lt;/app-root&gt;\n    &lt;script type=\"text/javascript\" src=\"inline.318b50c57b4eba3d437b.bundle.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"polyfills.bf95165a1d5098766b92.bundle.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"main.8df9530e9d55fa951861.bundle.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>Is there something wrong with my setup? Something I need to install on the project maybe?</p>\n"}, {"tags": ["angular", "typescript", "angular-pipe"], "comments": [{"owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "edited": false, "score": 0, "creation_date": 1521612891, "post_id": 49398732, "comment_id": 85799964, "body": "try includes as i given in my answer might resolves your issue easily"}, {"owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "edited": false, "score": 0, "creation_date": 1521628347, "post_id": 49398732, "comment_id": 85808818, "body": "<a href=\"https://stackblitz.com/edit/angular-ltxqou\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-ltxqou</a>"}, {"owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "edited": false, "score": 0, "creation_date": 1521630936, "post_id": 49398732, "comment_id": 85810569, "body": "instead of select just keep input box ...or li element ..or keep normal html base select"}, {"owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "edited": false, "score": 0, "creation_date": 1521631525, "post_id": 49398732, "comment_id": 85810991, "body": "i just need cod which you are trying ..i will try to replicate same at my end ..will give me more clear picture"}, {"owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "edited": false, "score": 0, "creation_date": 1521632167, "post_id": 49398732, "comment_id": 85811451, "body": "i see now , will try to get back to you asap"}, {"owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "edited": false, "score": 0, "creation_date": 1521632250, "post_id": 49398732, "comment_id": 85811515, "body": "can you please provide data which is retunred by this call   .getAllCategories()..just json as i have to create data like that at my end"}, {"owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "reply_to_user": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "edited": false, "score": 0, "creation_date": 1521633416, "post_id": 49398732, "comment_id": 85812292, "body": "@PranayRana I had updated the json in css file please have a look"}, {"owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "reply_to_user": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "edited": false, "score": 0, "creation_date": 1521634125, "post_id": 49398732, "comment_id": 85812798, "body": "@PranayRana i have coded one more type, in that if i select the data, full table gets empty"}, {"owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "edited": false, "score": 0, "creation_date": 1521695553, "post_id": 49398732, "comment_id": 85842971, "body": "it should be like this if (!filter) {       return items;     }"}, {"owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "edited": false, "score": 0, "creation_date": 1521696110, "post_id": 49398732, "comment_id": 85843145, "body": "I updated my answer and provided code which is working for me ..hope that helps you"}, {"owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "reply_to_user": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "edited": false, "score": 0, "creation_date": 1521696768, "post_id": 49398732, "comment_id": 85843361, "body": "@PranayRana i wrote same way as you gave, but the table remains empty"}, {"owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "edited": false, "score": 0, "creation_date": 1521697383, "post_id": 49398732, "comment_id": 85843601, "body": "that should work i cannot share at some website but its working for me , let me paste my html also you can try at your end same way"}, {"owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "reply_to_user": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "edited": false, "score": 0, "creation_date": 1521697601, "post_id": 49398732, "comment_id": 85843692, "body": "Is this HTML part correct? &lt;ng-select [options]=&quot;category&quot; [(ngModel)] = &quot;filter.name&quot; name=&quot;name&quot; class=&#39;filterDropDown&#39; placeholder=&quot;All&quot; [allowClear]=&quot;true&quot; notFoundMsg=&quot;No Category Found&quot;&gt;       &lt;/ng-select&gt;"}, {"owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "edited": false, "score": 0, "creation_date": 1521697810, "post_id": 49398732, "comment_id": 85843784, "body": "i suggest you should try static fields first as i given in my answer then see working or not and afterwas apply it dynamically ...if you check my code I applied <code>&amp;&amp;</code> condition that is also you need to check , i.e. you are passing all values if not than i suggest just check based on id"}, {"owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "reply_to_user": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "edited": false, "score": 0, "creation_date": 1521698118, "post_id": 49398732, "comment_id": 85843880, "body": "ya sure, thank you i will check and update you"}], "answers": [{"comments": [{"owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1521610397, "post_id": 49398807, "comment_id": 85798991, "body": "Thanks for the response. I had corrected few things, jus a minute i will update the code"}, {"owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1521610614, "post_id": 49398807, "comment_id": 85799066, "body": "i have updated the code can you please have a look at it and help me"}, {"owner": {"reputation": 956, "user_id": 5337044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12dcff803bf7d076e66d767a1eb0f70b?s=128&d=identicon&r=PG&f=1", "display_name": "Birbal Singh", "link": "https://stackoverflow.com/users/5337044/birbal-singh"}, "reply_to_user": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1521610918, "post_id": 49398807, "comment_id": 85799161, "body": "check you condition like user[field] !== filter[field] or user[field].toLowerCase()+&quot;&quot; !== filter[field].projectName.toLowerCase()+&quot;&quot;"}, {"owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1521611126, "post_id": 49398807, "comment_id": 85799229, "body": "Is this correct? applyFilter(user: Categories, filter: Categories): boolean {     for (let field in filter) {       if (typeof filter[field] == &#39;number&#39;) {         if (parseInt(user[field]) !== parseInt(filter[field])) {           return false;         }         else if (user[field] !== filter[field]) {           return false;         }       }     }     return true;   } }"}, {"owner": {"reputation": 956, "user_id": 5337044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12dcff803bf7d076e66d767a1eb0f70b?s=128&d=identicon&r=PG&f=1", "display_name": "Birbal Singh", "link": "https://stackoverflow.com/users/5337044/birbal-singh"}, "reply_to_user": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1521611629, "post_id": 49398807, "comment_id": 85799424, "body": "You can simple like if (user.name !== filter.name or user._id !== filter._id or user._cat !== filter._cat) { return false} remove loop"}, {"owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1521612017, "post_id": 49398807, "comment_id": 85799588, "body": "I am facing same issue even in that also"}, {"owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1521612354, "post_id": 49398807, "comment_id": 85799731, "body": "i have added code and checked, it is fully emptying contents in table"}, {"owner": {"reputation": 956, "user_id": 5337044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12dcff803bf7d076e66d767a1eb0f70b?s=128&d=identicon&r=PG&f=1", "display_name": "Birbal Singh", "link": "https://stackoverflow.com/users/5337044/birbal-singh"}, "reply_to_user": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1521612426, "post_id": 49398807, "comment_id": 85799764, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/167225/discussion-between-birbal-singh-and-bhrungarajni\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 956, "user_id": 5337044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12dcff803bf7d076e66d767a1eb0f70b?s=128&d=identicon&r=PG&f=1", "display_name": "Birbal Singh", "link": "https://stackoverflow.com/users/5337044/birbal-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1521612409, "last_edit_date": 1521612409, "creation_date": 1521610152, "answer_id": 49398807, "question_id": 49398732, "link": "https://stackoverflow.com/questions/49398732/filter-pipes-in-angular2/49398807#49398807", "title": "Filter pipes in angular2", "body": "<p>Be sure your Category object have all properties at run time </p>\n\n<p>or </p>\n\n<pre><code> applyFilter(user: Categories, filter: Categories): boolean {\n         if (user.name +\"\" !== filter.name +\"\" || user._id+\"\" !== filter._id+\"\" || user.cat_type+\"\" !== filter.cat_type+\"\") { \n             return false;\n           }\n        return true;\n      }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1521613282, "post_id": 49399395, "comment_id": 85800125, "body": "Thanks for the response, i will check and update you"}, {"owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "reply_to_user": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1521617221, "post_id": 49399395, "comment_id": 85802026, "body": "@Bhrungarajni - you just need to do like this in html <code>&lt;tr *ngFor=&#39;let cat in Categories&#39;&gt;</code>..if you are getting data in that then suggest to put filter back and debugge that code till end i.e. till you receive something in items in filter code"}, {"owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "reply_to_user": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1521617750, "post_id": 49399395, "comment_id": 85802314, "body": "@Bhrungarajni - thats what you have to debug ...by putting debugger, that must be some issue with the object filter that you are passing as pipe parameter"}, {"owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "reply_to_user": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1521617920, "post_id": 49399395, "comment_id": 85802402, "body": "@Bhrungarajni - check the filter value after you get value in your items array.. I will be right back after 1 hr ..."}, {"owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1521618029, "post_id": 49399395, "comment_id": 85802467, "body": "ya checking, but not getting what to do.. i will keep trying"}, {"owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "reply_to_user": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1521619259, "post_id": 49399395, "comment_id": 85803087, "body": "@Bhrungarajni - can you please share code of html and ts file where you are using this filter.."}, {"owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1521624100, "post_id": 49399395, "comment_id": 85805877, "body": "ya i will share now"}], "tags": [], "owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "is_accepted": false, "score": 0, "last_activity_date": 1521697417, "last_edit_date": 1521697417, "creation_date": 1521612700, "answer_id": 49399395, "question_id": 49398732, "link": "https://stackoverflow.com/questions/49398732/filter-pipes-in-angular2/49399395#49399395", "title": "Filter pipes in angular2", "body": "<p>Based on your input i tried this code and its working for me </p>\n\n<p>pipe.ts</p>\n\n<pre><code>import { Pipe, PipeTransform } from '@angular/core';\nimport { Categories } from './model';\n\n@Pipe({\n  name: 'categoryfilter',\n  pure: false\n})\nexport class CategoryPipe implements PipeTransform {\n  transform(items: Categories[], filter: Categories): Categories[] {\n    if (!filter) {\n      return items;\n    }\n    const filtered = items.filter(item =&gt; {\n      if (filter._id === item._id &amp;&amp; filter.cat_type === item.cat_type &amp;&amp; filter.name === item.name) {\n        return item;\n      }\n    }\n    );\n    return filtered;\n  }\n}\n</code></pre>\n\n<p>model.ts</p>\n\n<pre><code>export class Categories {\n  public _id: any;\n  public name: string;\n  public cat_type: string;\n}\n</code></pre>\n\n<p>component.ts</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { Categories } from './model';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  title = 'app';\n  categories: Categories[];\n  filter: Categories = { _id: 2, cat_type: 'abc', name: 'xyz2' };\n\n  ngOnInit() {\n    this.categories = [];\n    this.categories.push({ _id: 1, cat_type: 'abc', name: 'xyz1' });\n    this.categories.push({ _id: 2, cat_type: 'abc', name: 'xyz2' });\n    this.categories.push({ _id: 3, cat_type: 'abc', name: 'xyz3' });\n    this.categories.push({ _id: 2, cat_type: 'abc', name: 'xyz2' });\n    this.categories.push({ _id: 2, cat_type: 'abc', name: 'xyz2' });\n  }\n}\n</code></pre>\n\n<p>component.html </p>\n\n<pre><code>  &lt;table class=\"table adminTable\"&gt;\n    &lt;thead&gt;\n      &lt;th&gt;Name&lt;/th&gt;\n      &lt;th&gt;Type&lt;/th&gt;\n      &lt;th&gt;Image&lt;/th&gt;\n      &lt;th&gt;Action&lt;/th&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n      &lt;tr *ngFor=\"let category of categories | categoryfilter: filter\"&gt;\n        &lt;td&gt;{{category.name}}&lt;/td&gt;\n        &lt;td&gt;{{category.cat_type}}&lt;/td&gt;\n        &lt;td&gt;\n          test\n            &lt;!-- {{category.image}} --&gt;\n          &lt;!-- &lt;img class=\"cat-img\" src=\"{{category.image}}\"&gt; --&gt;\n          &lt;br&gt;\n          &lt;p class=\"inputimg\"&gt;\n            &lt;input type=\"file\" name=\"{{category._id}}\" id=\"{{category._id}}\" class=\"inputfile\" \n              style='display: none;' /&gt;\n            &lt;label for=\"{{category._id}}\" class=\"img_change\"&gt;Change&lt;/label&gt;\n          &lt;/p&gt;\n          &lt;td&gt;\n            &lt;button class=\"iconBtn first\" &gt;\n              &lt;i class=\"fa fa-pencil\" aria-hidden=\"true\"&gt;&lt;/i&gt;\n            &lt;/button&gt;\n            &lt;button class=\"iconBtn second\" &gt;\n              &lt;i class=\"fa fa-trash-o\" aria-hidden=\"true\"&gt;&lt;/i&gt;\n            &lt;/button&gt;\n          &lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/tbody&gt;\n  &lt;/table&gt;\n</code></pre>\n\n<p>no change in html its will be same as yours.</p>\n"}], "owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1521697417, "creation_date": 1521609756, "last_edit_date": 1521615835, "question_id": 49398732, "link": "https://stackoverflow.com/questions/49398732/filter-pipes-in-angular2", "title": "Filter pipes in angular2", "body": "<p><a href=\"https://i.stack.imgur.com/PY4AE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PY4AE.png\" alt=\"enter image description here\"></a>\nI have 2 select fields,namely Category and Category Type. I need to filter the table based on these contents.\nI have written pipe filter function as well.</p>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;div class=\"col-lg-3 col-md-3 col-sm-6 col-xs-12 no-padding\"&gt;\n      &lt;label style=\"font-size: 20px;color: #55595c;font-family: 'Roboto', sans-serif\"&gt;Category&lt;/label&gt;\n      &lt;ng-select [options]=\"category\" [(ngModel)] = \"filter.name\" name=\"name\" class='filterDropDown' placeholder=\"All\" [allowClear]=\"true\" notFoundMsg=\"No Category Found\"&gt;\n      &lt;/ng-select&gt;\n    &lt;/div&gt;\n    &lt;div class=\"col-lg-3 col-md-3 col-sm-6 col-xs-12 no-padding\" style=\"left:10%\"&gt;\n      &lt;label style=\"font-size: 20px;color: #55595c;font-family: 'Roboto', sans-serif\"&gt;Category Type&lt;/label&gt;\n      &lt;ng-select [options]=\"catType\" [(ngModel)] = \"filter.cat_type\" class='filterDropDown' placeholder=\"All\" [allowClear]=\"true\" notFoundMsg=\"No Category Found\"&gt;\n      &lt;/ng-select&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p><strong>component.ts:</strong></p>\n\n<pre><code>public filter: Categories = new Categories();\nexport class Categories {\n  public _id:any;\n  public name:string;\n  public cat_type:string;\n}\n</code></pre>\n\n<p><strong>Pipe.ts:</strong></p>\n\n<pre><code>export class Categories {\n  public _id:any;\n  public name:string;\n  public cat_type:string;\n}\n\n@Pipe({\n  name: 'categoryfilter',\n  pure: false\n})\n\n\n      export class CategoryPipe implements PipeTransform {\n  transform(items: Categories[], filter: Categories): Categories[] {\n    if (!items || !filter) {\n      return items;\n    }\n    return items.filter((item: Categories) =&gt; this.applyFilter(item, filter));\n  } \n  applyFilter(user: Categories, filter: Categories): boolean {\nfor (let field in filter) {\n  if (typeof filter[field] == 'number') {\n    console.log(\"working\");\n     if (user.name !== filter.name || user._id !== filter._id || user.cat_type !== filter.cat_type) { \n      return false;\n    }\n  }\n}\n  return true;\n  }\n}\n</code></pre>\n\n<p>I don't get any error, but the table is getting empty if i select item from the list. </p>\n"}, {"tags": ["javascript", "android", "typescript", "react-native"], "owner": {"reputation": 1733, "user_id": 1544669, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b8c7b9787f2dd6ade6fa018210f98673?s=128&d=identicon&r=PG", "display_name": "Chris O&#39;Kelly", "link": "https://stackoverflow.com/users/1544669/chris-okelly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1521620583, "creation_date": 1521608123, "last_edit_date": 1521620583, "question_id": 49398461, "link": "https://stackoverflow.com/questions/49398461/for-of-loops-array-destructuring-and-array-prototype-entries-should-they", "title": "for...of loops, array destructuring and Array.prototype.entries() - should they work together?", "body": "<p>So I have a react-native app. For what it's worth we are using redux &amp; redux-saga for state/action management. I've recently found that certain android devices are crashing in one of our sagas, the code for which looks like this (typescript):</p>\n\n<pre><code>function* displayTemplates(templateEffectProviders: EffectProvider[]) {\n  for (const [i, templateEffectProvider] of templateEffectProviders.entries()) {\n    // ...loop code\n  }\n}\n</code></pre>\n\n<p>I can guarantee that the function is only ever called with an array (other than typescript compiler suggesting this, the function is only ever called with an array literal as the only argument, such as <code>yield call(displayTemplates, [getTemplate1EffectProvider(), getTemplate2EffectProvider()]);</code>)</p>\n\n<p>Most devices handle this fine, however some android devices (so far as I can see: Samsung Galaxy or Note devices on Android 7) crash at the opening of the for...of loop, with the error: </p>\n\n<pre><code>undefined is not a function (evaluating 't[\"function\"==typeof Symbol&amp;&amp;\"function\"==typeof Symbol?Symbol.iterator:\"@@iterator\"]()')\n</code></pre>\n\n<p>Clearly this error refers to the transpiled code, which boils down to the following (after I clean it up a bit):</p>\n\n<pre><code>t = e.entries(),\nn = Array.isArray(t),\no = 0,\nt = n ? t : t[\"function\"==typeof Symbol&amp;&amp;\"function\"==typeof Symbol?Symbol.iterator:\"@@iterator\"]()\n</code></pre>\n\n<p>(Yes, that <code>\"function\"==typeof Symbol</code> check is doubled up, no I have no idea why... No idea if that is related)</p>\n\n<p>Our .babelrc looks like:</p>\n\n<pre><code>{\n  \"presets\": [\n    \"babel-preset-react-native-stage-0/decorator-support\"\n  ],\n  \"sourceMaps\": \"inline\",\n  \"env\": {\n    \"development\": {\n      \"plugins\": [\n        \"transform-react-jsx-source\"\n      ]\n    }\n  }\n}\n</code></pre>\n\n<p>It feels to me like maybe the js engine in those devices does not handle the output of that babel transpilation for some reason, but I am having difficulties figuring out why. I know, for instance, that the <code>react-navigation</code> package saw the <a href=\"https://github.com/react-navigation/react-navigation/issues/2853\" rel=\"nofollow noreferrer\">same error message</a> when destructuring a string, which was fixed <a href=\"https://github.com/react-navigation/react-navigation/commit/ed2fc9a09e2f562ae9d3fc7f5df17c593989db0a\" rel=\"nofollow noreferrer\">by removing the destructuring</a>. I know I can replace my for...of loop with an incremented for loop, but I am just trying to figure out why this is a problem so that I can have some confidence in applying that as a fix.</p>\n\n<p>Edit: My continued reading and investigation on this would suggest that this might due to a lack of a Symbol polyfill in React Native, and it not being supported natively in Android JavaScriptCore. I'm not 100% confident on this, and would still gladly accept an answer that definitively answers the question.</p>\n"}, {"tags": ["javascript", "typescript", "inversifyjs"], "answers": [{"comments": [{"owner": {"reputation": 80, "user_id": 4662974, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-Emk_CfgwfK4/AAAAAAAAAAI/AAAAAAAAAD4/_Gnckvk87XU/photo.jpg?sz=128", "display_name": "Jed Nocum", "link": "https://stackoverflow.com/users/4662974/jed-nocum"}, "edited": false, "score": 0, "creation_date": 1521689450, "post_id": 49411285, "comment_id": 85841443, "body": "Hi! thank you for the answer, what does the &quot;Client&quot; contains?"}, {"owner": {"reputation": 17182, "user_id": 606821, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/X49xe.png?s=128&g=1", "display_name": "Remo H. Jansen", "link": "https://stackoverflow.com/users/606821/remo-h-jansen"}, "reply_to_user": {"reputation": 80, "user_id": 4662974, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-Emk_CfgwfK4/AAAAAAAAAAI/AAAAAAAAAD4/_Gnckvk87XU/photo.jpg?sz=128", "display_name": "Jed Nocum", "link": "https://stackoverflow.com/users/4662974/jed-nocum"}, "edited": false, "score": 0, "creation_date": 1521711070, "post_id": 49411285, "comment_id": 85850842, "body": "&quot;Client&quot; is just a string used as ID, in TypeScript IDs cannot be interfaces because interfaces are removed from the code during the compilation, so they are not available at runtime. You can use a string a class or a symbol as ID."}, {"owner": {"reputation": 80, "user_id": 4662974, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-Emk_CfgwfK4/AAAAAAAAAAI/AAAAAAAAAD4/_Gnckvk87XU/photo.jpg?sz=128", "display_name": "Jed Nocum", "link": "https://stackoverflow.com/users/4662974/jed-nocum"}, "edited": false, "score": 0, "creation_date": 1522062707, "post_id": 49411285, "comment_id": 85982891, "body": "Hi sorry for the delay. It says cannot find name &quot;Client&quot;?"}], "tags": [], "owner": {"reputation": 17182, "user_id": 606821, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/X49xe.png?s=128&g=1", "display_name": "Remo H. Jansen", "link": "https://stackoverflow.com/users/606821/remo-h-jansen"}, "is_accepted": true, "score": 3, "last_activity_date": 1521648460, "creation_date": 1521648460, "answer_id": 49411285, "question_id": 49398155, "link": "https://stackoverflow.com/questions/49398155/typescript-inversifyjs-how-to-set-variable-value-from-maint-ts-and-get-the-val/49411285#49411285", "title": "Typescript InversifyJS - How to set variable value from maint.ts and get the value from a controller", "body": "<p>You can do the following in the <code>main.ts</code> file:</p>\n\n<pre><code>const client = new Client();\ncontainer.bind&lt;Client&gt;(\"Client\").toConstantValue(client);\n</code></pre>\n\n<p>Then in the service:</p>\n\n<pre><code>import { injectable, inject } from 'inversify';\n\n@injectable()\nexport class SetGetService  {\n\n    @inject(\"Client\") private _client: Client;\n\n    get () : any {\n        return this._client;\n    }\n\n    set (client: any) {\n        this._client = client;\n    }                                                                           \n} \n</code></pre>\n\n<p>If the client is a DB client and its initialization is async you might want to use the following:</p>\n\n<pre><code>// ioc_modules.ts\n\nconst asyncModule = new AsyncContainerModule(async (bind) =&gt; {\n    const client = await Client.getConnection();\n    bind&lt;Client&gt;(\"Client\").toConstantValue(client);\n});\n\n// main.ts\n\n(async () =&gt; {\n    await container.loadAsync(asyncModule);\n})()\n</code></pre>\n"}], "owner": {"reputation": 80, "user_id": 4662974, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-Emk_CfgwfK4/AAAAAAAAAAI/AAAAAAAAAD4/_Gnckvk87XU/photo.jpg?sz=128", "display_name": "Jed Nocum", "link": "https://stackoverflow.com/users/4662974/jed-nocum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 840, "favorite_count": 0, "accepted_answer_id": 49411285, "answer_count": 1, "score": 0, "last_activity_date": 1521648460, "creation_date": 1521606178, "question_id": 49398155, "link": "https://stackoverflow.com/questions/49398155/typescript-inversifyjs-how-to-set-variable-value-from-maint-ts-and-get-the-val", "title": "Typescript InversifyJS - How to set variable value from maint.ts and get the value from a controller", "body": "<p>I am new to Typescript and InversifyJS. What I am trying to achieve is to share variable value across multiple files. I am setting the value on the server startup on main.ts and I am trying to fetch that value from a controller. What I did is I created a @injectable service file</p>\n\n<p>service.ts\n<br /> <br /></p>\n\n<pre><code> import { injectable } from 'inversify';\n\n    @injectable()\n    export class SetGetService  {\n\n        private _client : any;\n\n        get () : any {\n            return this._client;\n        }\n\n        set (client: any) {\n            this._client = client;\n        }                                                                           \n  } \n</code></pre>\n\n<p>I am able to set the value from main.ts, but after calling the SetGetService on other files, it was undefined or empty. It seems like it was being reset or cleared. </p>\n"}, {"tags": ["angular", "typescript", "angular-decorator"], "answers": [{"comments": [{"owner": {"reputation": 374, "user_id": 5582285, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8c2faf67ccb0d436f69c28a1282c554d?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak Patidar", "link": "https://stackoverflow.com/users/5582285/deepak-patidar"}, "edited": false, "score": 0, "creation_date": 1521614709, "post_id": 49398158, "comment_id": 85800797, "body": "acdcjunior: Is&#39;t mandatory to define decorator just above the class whom we want to attached."}, {"owner": {"reputation": 113065, "user_id": 1850609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0C56.jpg?s=128&g=1", "display_name": "acdcjunior", "link": "https://stackoverflow.com/users/1850609/acdcjunior"}, "reply_to_user": {"reputation": 374, "user_id": 5582285, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8c2faf67ccb0d436f69c28a1282c554d?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak Patidar", "link": "https://stackoverflow.com/users/5582285/deepak-patidar"}, "edited": false, "score": 0, "creation_date": 1521645435, "post_id": 49398158, "comment_id": 85821717, "body": "I&#39;m sorry, what do you mean? I don&#39;t understand if you are asking or not"}], "tags": [], "owner": {"reputation": 113065, "user_id": 1850609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0C56.jpg?s=128&g=1", "display_name": "acdcjunior", "link": "https://stackoverflow.com/users/1850609/acdcjunior"}, "is_accepted": false, "score": 0, "last_activity_date": 1521606193, "creation_date": 1521606193, "answer_id": 49398158, "question_id": 49397952, "link": "https://stackoverflow.com/questions/49397952/hows-decorator-applied-to-classes-in-angular-in-case-of-multiple-classes/49398158#49398158", "title": "How&#39;s decorator applied to classes in angular in case of multiple classes", "body": "<blockquote>\n  <p>Or can't we use multiple decorator in same file?</p>\n</blockquote>\n\n<p>Yes, you can use multiple decorators in the same file. You even can use multiple decorators in the same class declaration, see below.</p>\n\n<blockquote>\n  <p>How is the decorator mapped to their class?</p>\n</blockquote>\n\n<p>A decorator is a actually a function. It is <strong>mapped to the declaration right next to it</strong>.</p>\n\n<p>From <a href=\"http://www.typescriptlang.org/docs/handbook/decorators.html\" rel=\"nofollow noreferrer\">TypeScript Handbook - Decorator docs</a>:</p>\n\n<blockquote>\n  <h1>Decorators</h1>\n  \n  <p>A Decorator is a special kind of declaration that can be attached to a\n  <a href=\"http://www.typescriptlang.org/docs/handbook/decorators.html#class-decorators\" rel=\"nofollow noreferrer\">class declaration</a>, <a href=\"http://www.typescriptlang.org/docs/handbook/decorators.html#method-decorators\" rel=\"nofollow noreferrer\">method</a>, <a href=\"http://www.typescriptlang.org/docs/handbook/decorators.html#accessor-decorators\" rel=\"nofollow noreferrer\">accessor</a>, <a href=\"http://www.typescriptlang.org/docs/handbook/decorators.html#property-decorators\" rel=\"nofollow noreferrer\">property</a>, or <a href=\"http://www.typescriptlang.org/docs/handbook/decorators.html#parameter-decorators\" rel=\"nofollow noreferrer\">parameter</a>.\n  Decorators use the form <code>@expression</code>, where <code>expression</code> must\n  evaluate to a function that will be called at runtime with information\n  about the decorated declaration.</p>\n  \n  <p>For example, given the decorator <code>@sealed</code> we might write the <code>sealed</code>\n  function as follows:</p>\n\n<pre><code>function sealed(target) {\n    // do something with 'target' ...\n}\n</code></pre>\n</blockquote>\n\n<p>So, again, you <strong>can have multiple decorators in one file</strong> and they are applied to the <a href=\"http://www.typescriptlang.org/docs/handbook/decorators.html#class-decorators\" rel=\"nofollow noreferrer\">class declaration</a>, <a href=\"http://www.typescriptlang.org/docs/handbook/decorators.html#method-decorators\" rel=\"nofollow noreferrer\">method</a>, <a href=\"http://www.typescriptlang.org/docs/handbook/decorators.html#accessor-decorators\" rel=\"nofollow noreferrer\">accessor</a>, <a href=\"http://www.typescriptlang.org/docs/handbook/decorators.html#property-decorators\" rel=\"nofollow noreferrer\">property</a>, or <a href=\"http://www.typescriptlang.org/docs/handbook/decorators.html#parameter-decorators\" rel=\"nofollow noreferrer\">parameter</a> next to it.</p>\n\n<h1>Runnable Demo</h1>\n\n<p>As a runnable demo is always welcome, here's one.</p>\n\n<p>In the following code, each decorator will print a message for each class it decorates. As you can see, multiple decorators for a single class, multiple classes, all in <strong>one file</strong>.</p>\n\n<pre><code>function MyDecoratorOne(target) {\n  console.log('MyDecoratorOne decorating class: ' + target.name);\n}\nfunction MyDecoratorTwo(target) {\n  console.log('MyDecoratorTwo decorating class: ' + target.name);\n}\n\n@MyDecoratorOne\n@MyDecoratorTwo\nclass Aaa {\n  aaaMethod() {}\n}\n\n@MyDecoratorOne\n@MyDecoratorTwo\nclass Bbb {\n  bbbMethod() {}\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>MyDecoratorTwo decorating class: Aaa\nMyDecoratorOne decorating class: Aaa\nMyDecoratorTwo decorating class: Bbb\nMyDecoratorOne decorating class: Bbb\n</code></pre>\n\n<p><a href=\"https://jsfiddle.net/acdcjunior/y8d3asgv/4/\" rel=\"nofollow noreferrer\"><strong>DEMO JSFiddle here.</strong></a></p>\n"}], "owner": {"reputation": 374, "user_id": 5582285, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8c2faf67ccb0d436f69c28a1282c554d?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak Patidar", "link": "https://stackoverflow.com/users/5582285/deepak-patidar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 900, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521614552, "creation_date": 1521604766, "last_edit_date": 1521614552, "question_id": 49397952, "link": "https://stackoverflow.com/questions/49397952/hows-decorator-applied-to-classes-in-angular-in-case-of-multiple-classes", "title": "How&#39;s decorator applied to classes in angular in case of multiple classes", "body": "<p>We use @decorator for defining class decorators.</p>\n\n<p>But what if we have multiple decorator and multiple classes in same file, how is the decorator mapped to their class?</p>\n\n<p>Or can't we use multiple decorator in same file?</p>\n"}, {"tags": ["node.js", "typescript", "express", "tsconfig"], "comments": [{"owner": {"reputation": 31, "user_id": 9526202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cac8fb842b2c659359b23655402c273e?s=128&d=identicon&r=PG&f=1", "display_name": "foccia", "link": "https://stackoverflow.com/users/9526202/foccia"}, "edited": false, "score": 1, "creation_date": 1521604287, "post_id": 49397736, "comment_id": 85797274, "body": "I found a way to let it worked. change the view engine setup config path.   &quot;app.set(&#39;views&#39;, path.join(__dirname, &#39;../../views&#39;));&quot; ......"}], "answers": [{"tags": [], "owner": {"reputation": 1498, "user_id": 8381015, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YsMDIFS4UxQ/AAAAAAAAAAI/AAAAAAAAABQ/0Y-uLXxOJ7M/photo.jpg?sz=128", "display_name": "\u017deljko \u0160evi\u0107", "link": "https://stackoverflow.com/users/8381015/%c5%bdeljko-%c5%a0evi%c4%87"}, "is_accepted": false, "score": 0, "last_activity_date": 1545259931, "creation_date": 1545259931, "answer_id": 53860264, "question_id": 49397736, "link": "https://stackoverflow.com/questions/49397736/express-with-typescript-failed-to-lookup-views-directory/53860264#53860264", "title": "express with typescript failed to lookup views directory", "body": "<p>You can write npm script that copies views to outDir</p>\n\n<p>tools/copyAssets.ts:</p>\n\n<pre><code>import * as shell from \"shelljs\";\nshell.cp(\"-R\", \"views\", \"bin/src/\");\n</code></pre>\n\n<p>package.json:</p>\n\n<pre><code>{\n  \"scripts\": {\n    \"copy-assets\": \"ts-node tools/copyAssets\"\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 9526202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cac8fb842b2c659359b23655402c273e?s=128&d=identicon&r=PG&f=1", "display_name": "foccia", "link": "https://stackoverflow.com/users/9526202/foccia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 477, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1545259931, "creation_date": 1521603439, "last_edit_date": 1521605673, "question_id": 49397736, "link": "https://stackoverflow.com/questions/49397736/express-with-typescript-failed-to-lookup-views-directory", "title": "express with typescript failed to lookup views directory", "body": "<p>I want to use typescript to develop a express server. set './bin' as outDir. then the compiled js file throw an error: \"failed to lookup views directory\"..</p>\n\n<pre><code>Failed to lookup view \"error\" in views directory \"D:\\work\\nodejs\\ly-node-test-site\\bin\\views\"\nat EventEmitter.render (D:\\work\\nodejs\\ly-node-test-site\\node_modules\\express\\lib\\application.js:580:17)\nat ServerResponse.render (D:\\work\\nodejs\\ly-node-test-site\\node_modules\\express\\lib\\response.js:971:7)\nat D:\\work\\nodejs\\ly-node-test-site\\bin\\src\\app.js:56:9\n</code></pre>\n\n<p>I see the output file referenced a wrong path. but don't know how to config it.\nMy project path is </p>\n\n<p><a href=\"https://i.stack.imgur.com/7W9ST.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7W9ST.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "generics"], "answers": [{"comments": [{"owner": {"reputation": 20004, "user_id": 508194, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ysmJN.jpg?s=128&g=1", "display_name": "Tom Esterez", "link": "https://stackoverflow.com/users/508194/tom-esterez"}, "edited": false, "score": 1, "creation_date": 1521606289, "post_id": 49397784, "comment_id": 85797798, "body": "I tried something similar but I was missing the <code>(...args: any[])</code> in the generics. Thanks!"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1521606489, "last_edit_date": 1521606489, "creation_date": 1521603718, "answer_id": 49397784, "question_id": 49397727, "link": "https://stackoverflow.com/questions/49397727/enforce-generic-type-return-function/49397784#49397784", "title": "Enforce generic type return function", "body": "<p>You can be more specific about your constraint on <code>F</code>, you can specify that is a function that takes any number of parameters and returns a <code>Promise&lt;any&gt;</code></p>\n\n<pre><code>const addLogging = &lt;F extends (...args: any[]) =&gt; Promise&lt;any&gt;&gt;(f: F) =&gt; ((\n  (...args) =&gt;\n    f(...args).then((result: any) =&gt; {\n      console.log('result:', result);\n      return result;\n    })\n) as F);\n\n//Ok\nconst test = addLogging(\n    (value: string) =&gt; Promise.resolve(value),\n);\n\n//Error\nconst test2 = addLogging(\n    (value: string) =&gt; value, // should return a promise\n);\n</code></pre>\n"}], "owner": {"reputation": 20004, "user_id": 508194, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ysmJN.jpg?s=128&g=1", "display_name": "Tom Esterez", "link": "https://stackoverflow.com/users/508194/tom-esterez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 49397784, "answer_count": 1, "score": 1, "last_activity_date": 1521606489, "creation_date": 1521603358, "question_id": 49397727, "link": "https://stackoverflow.com/questions/49397727/enforce-generic-type-return-function", "title": "Enforce generic type return function", "body": "<p>For the sake of the example, let's say I want to write a function that adds logging to any function that returns a Promise. In JS I would do something like:</p>\n\n<pre><code>const addLogging = (f) =&gt; (...args) =&gt; (\n  f(...args).then(result =&gt; {\n    console.log('result:', result);\n    return result;\n  })\n)\n\nconst test = addLogging(\n  (value) =&gt; Promise.resolve(value)\n)\n\ntest('foo') // logs \"\u200b\u200b\u200b\u200b\u200bresult: foo\u200b\u200b\u200b\u200b\u200b\"\n</code></pre>\n\n<p>Now I'd like to enforce typings with typescript. Here is what I came up with:</p>\n\n<pre><code>const addLogging = &lt;F extends Function&gt;(f: F): F =&gt; (\n  (\n    (...args: any[]) =&gt; (\n      (f as any)(...args).then((result: any) =&gt; {\n        console.log('result:', result);\n        return result;\n      })\n    )\n  ) as any\n);\n\n// Cool! :)\n// type of test is (value: string) =&gt; Promise&lt;string&gt;\nconst test = addLogging(\n  (value: string) =&gt; Promise.resolve(value),\n);\n\n// Less Cool :(\n// Not valid, how to prevent it with typings?\nconst test2 = addLogging(\n  (value: string) =&gt; value, // should return a promise\n);\n</code></pre>\n\n<p>The typing of the augmented function is preserved which is nice. But first I have to use a lot of <code>any</code> and also i'd like to enforce that <code>addLogging</code>'s <code>f</code> argument must be a function that returns a <code>Promise</code>. Is there any simple way to do that with typescript?</p>\n"}, {"tags": ["angular", "typescript", "async-await"], "answers": [{"tags": [], "owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "is_accepted": false, "score": 0, "last_activity_date": 1521603161, "creation_date": 1521603161, "answer_id": 49397691, "question_id": 49397587, "link": "https://stackoverflow.com/questions/49397587/typescript-async-await-causing-variable-to-be-undefined/49397691#49397691", "title": "typescript async-await causing variable to be undefined", "body": "<p><code>async/await</code> has nothing to do with it.</p>\n\n<p>As far as I can see, <code>this.vm_res</code> is only ever getting set inside of a <code>subscribe</code> callback, which isn't going to happen before you call <code>this.update_vm_raw_device()</code>.</p>\n\n<p>Did you intend to put the call to <code>this.update_vm_raw_device()</code> inside of the subscribe handler? Perhaps after setting that value?</p>\n"}], "owner": {"reputation": 777, "user_id": 1234419, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/44b28a82e9785233801ad999b57770a2?s=128&d=identicon&r=PG", "display_name": "Vaibhav Chauhan", "link": "https://stackoverflow.com/users/1234419/vaibhav-chauhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521603161, "creation_date": 1521602475, "question_id": 49397587, "link": "https://stackoverflow.com/questions/49397587/typescript-async-await-causing-variable-to-be-undefined", "title": "typescript async-await causing variable to be undefined", "body": "<p>I have this issue I am facing for a while where <code>vm_res</code> is is undefined in \nasync update_vm_raw_device function, the function <code>update_vm_raw_device</code> runs however  the value is udpated like as <code>/mnt/tank/ds/test_file_test_VM_undefined</code> please notice undefined in the end.</p>\n\n<pre><code>async customSubmit(value) {\n  const path = value.raw_file_directory+ '/' + value.raw_filename+ '_'+ value.name;\n    const payload = {}\n    const vm_payload = {}\n    ......SNIP..........\n    this.ws.call('vm.get_sharefs').subscribe((get_sharefs)=&gt;{\n      if(!get_sharefs){\n        this.ws.call('vm.activate_sharefs').subscribe((sharefs)=&gt;{\n          this.ws.call('vm.create', [vm_payload]).toPromise().then(vm_res =&gt; {\n            // here the assignment happens, but  this.vm_res is undefined in \n            // async update_vm_raw_device function.\n            this.vm_res = vm_res;\n          });\n        }\n      )\n      }\n      else {\n        this.ws.call('vm.create', [vm_payload]).toPromise().then(vm_res =&gt; {\n          this.vm_res = vm_res;\n        });\n      }\n    },)\n    await this.update_vm_raw_device(vm_payload, this.vm_res);\n  }\n\n  async update_vm_raw_device(vm_payload: any, vm_res: number) {\n  vm_payload.path = vm_payload.path+\"_\"+this.vm_res\n   await this.ws.call('datastore.update'[vm_payload])]).toPromise().then(\n       res=&gt;{});}\n</code></pre>\n"}, {"tags": ["typescript", "typescript-typings", "mapped-types"], "answers": [{"comments": [{"owner": {"reputation": 191, "user_id": 9526172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41850b51b90e14ab3041483ed0cc6b43?s=128&d=identicon&r=PG&f=1", "display_name": "Wander Wang", "link": "https://stackoverflow.com/users/9526172/wander-wang"}, "edited": false, "score": 0, "creation_date": 1521693480, "post_id": 49397693, "comment_id": 85842361, "body": "I have another question <a href=\"https://stackoverflow.com/questions/49420657/how-to-remove-properties-and-promisify-method-via-mapped-type-in-typescript\" title=\"how to remove properties and promisify method via mapped type in typescript\">stackoverflow.com/questions/49420657/&hellip;</a>    , thanks for your help"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 41, "last_activity_date": 1521609527, "last_edit_date": 1521609527, "creation_date": 1521603173, "answer_id": 49397693, "question_id": 49397567, "link": "https://stackoverflow.com/questions/49397567/how-to-remove-properties-via-mapped-type-in-typescript/49397693#49397693", "title": "how to remove properties via mapped type in TypeScript", "body": "<p>You can use the same trick as the <a href=\"http://ideasintosoftware.com/typescript-advanced-tricks/\" rel=\"noreferrer\"><code>Omit</code></a> type uses: </p>\n\n<pre><code>// We take the keys of P and if T[P] is a Function we type P as P (the string literal type for the key), otherwise we type it as never. \n// Then we index by keyof T, never will be removed from the union of types, leaving just the property keys that were not typed as never\ntype JustMethodKeys&lt;T&gt; = ({[P in keyof T]: T[P] extends Function ? P : never })[keyof T];  \ntype JustMethods&lt;T&gt; = Pick&lt;T, JustMethodKeys&lt;T&gt;&gt;; \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "is_accepted": false, "score": 10, "last_activity_date": 1613544935, "last_edit_date": 1613544935, "creation_date": 1600683608, "answer_id": 63990350, "question_id": 49397567, "link": "https://stackoverflow.com/questions/49397567/how-to-remove-properties-via-mapped-type-in-typescript/63990350#63990350", "title": "how to remove properties via mapped type in TypeScript", "body": "<h2>TS 4.1</h2>\n<p>You can use <a href=\"https://github.com/microsoft/TypeScript/pull/40336\" rel=\"nofollow noreferrer\"><code>as</code> clauses</a> in <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#mapped-types\" rel=\"nofollow noreferrer\">mapped types</a> to filter out properties in one go:</p>\n<pre><code>type Methods&lt;T&gt; = { [P in keyof T as T[P] extends Function ? P : never]: T[P] };\ntype A_Methods = Methods&lt;A&gt;;  // { render: () =&gt; void; }\n</code></pre>\n<blockquote>\n<p>When the type specified in an <code>as</code> clause resolves to <code>never</code>, no property is generated for that key. Thus, an <code>as</code> clause can be used as a filter [.]</p>\n</blockquote>\n<p>Further info:  <a href=\"https://devblogs.microsoft.com/typescript/announcing-typescript-4-1/#key-remapping-mapped-types\" rel=\"nofollow noreferrer\">Announcing TypeScript 4.1 - Key Remapping in Mapped Types</a></p>\n<p><a href=\"https://www.typescriptlang.org/play?#code/C4TwDgpgBAglC8UDeAoK6oA8BcUB2ArgLYBGEATmhiLoaRVegG4CWAziyQDYS4kD2-HgEM8jKOQh4AJhQAUASlxN+LaSgC+KFKEhQAshGAALftLYAeACoA+BMigBtAApQWeKAGsIIfgDMoKyhhNkCXAF0oCExgKXMoADECPABjYBZ+DwB+KFdaCCYKcNwrCKgNAG4dcGgYAH1DEzNQxEbTcwsYGwr0AHpeh0kZClxFBDsVNR6NIA\" rel=\"nofollow noreferrer\">Playground</a></p>\n"}], "owner": {"reputation": 191, "user_id": 9526172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41850b51b90e14ab3041483ed0cc6b43?s=128&d=identicon&r=PG&f=1", "display_name": "Wander Wang", "link": "https://stackoverflow.com/users/9526172/wander-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6299, "favorite_count": 6, "answer_count": 2, "score": 16, "last_activity_date": 1613544935, "creation_date": 1521602362, "question_id": 49397567, "link": "https://stackoverflow.com/questions/49397567/how-to-remove-properties-via-mapped-type-in-typescript", "title": "how to remove properties via mapped type in TypeScript", "body": "<p>Here is the code </p>\n\n<pre><code>class A {\n    x = 0;\n    y = 0;\n    visible = false;\n    render() {\n\n    }\n}\n\ntype RemoveProperties&lt;T&gt; = {\n    readonly [P in keyof T]: T[P] extends Function ? T[P] : never//;\n};\n\n\nvar a = new A() as RemoveProperties&lt;A&gt;\na.visible // never\na.render() // ok!\n</code></pre>\n\n<p>I want to remove \" visible / x / y \" properties via RemoveProperties ,but I can only replace it with never</p>\n"}, {"tags": ["typescript", "styled-components"], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 1377520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e4cec3079231e7eadb9cd7e4d1b5ae5?s=128&d=identicon&r=PG", "display_name": "b_d_m_p", "link": "https://stackoverflow.com/users/1377520/b-d-m-p"}, "edited": false, "score": 0, "creation_date": 1610450884, "post_id": 49398439, "comment_id": 116131250, "body": "Your first example is close to what I was working toward, but VSCode is saying &quot;Expected at least 2 arguments, but got 1 or more&quot; on the <code>...args</code> in the <code>call</code>. Any ideas as to why?"}, {"owner": {"reputation": 123, "user_id": 1377520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e4cec3079231e7eadb9cd7e4d1b5ae5?s=128&d=identicon&r=PG", "display_name": "b_d_m_p", "link": "https://stackoverflow.com/users/1377520/b-d-m-p"}, "edited": false, "score": 0, "creation_date": 1610457995, "post_id": 49398439, "comment_id": 116134497, "body": "I ended up using your second example and it worked for me with a little modification. Some of the content I don&#39;t really understand to be honest. Thanks for the solution."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 12, "last_activity_date": 1521607999, "creation_date": 1521607999, "answer_id": 49398439, "question_id": 49397538, "link": "https://stackoverflow.com/questions/49397538/typing-the-css-function-in-styled-components/49398439#49398439", "title": "Typing the css function in styled-components", "body": "<p>The signature for a tagged template should be <code>(literals: TemplateStringsArray, ...placeholders: any[]) =&gt; string</code> where <code>literals</code> are the strings in the template and <code>placeholders</code> are the variable values.</p>\n\n<p>If you just want to pass all arguments to the <code>css</code> you can use <code>call</code>. Typescript will not let you spread directly because <code>css</code> has required arguments that the ts compiler tries to check for:</p>\n\n<pre><code>acc[label] = (...args: any[]) =&gt; css`  \n  @media(max-width: ${sizes[label]}px) {\n    ${css.call(undefined, ...args)}\n  }\n\n`\n</code></pre>\n\n<p>A fully typed version that correctly specifies the types for the <code>media.*</code> functions would be :</p>\n\n<pre><code>const sizes = {\n    desktop: 992\n}\n\nconst media = Object.keys(sizes).reduce((acc, label) =&gt; {\n\n    acc[label] = (literals: TemplateStringsArray, ...placeholders: any[]) =&gt; css`      \n    @media(max-width: ${sizes[label]}px) {\n        ${css(literals, ...placeholders)}\n    }\n\n    `;\n    return acc\n}, {} as Record&lt;keyof typeof sizes, (l: TemplateStringsArray, ...p: any[]) =&gt; string&gt;)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 909, "user_id": 2599144, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/684288417/picture?type=large", "display_name": "Duc Hong", "link": "https://stackoverflow.com/users/2599144/duc-hong"}, "edited": false, "score": 0, "creation_date": 1546961092, "post_id": 53320060, "comment_id": 95022000, "body": "this is exactly my issue where it automatically adds a comma at the end, your solution saved my day"}, {"owner": {"reputation": 9610, "user_id": 508702, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/exOid.png?s=128&g=1", "display_name": "Bas Slagter", "link": "https://stackoverflow.com/users/508702/bas-slagter"}, "edited": false, "score": 1, "creation_date": 1551453518, "post_id": 53320060, "comment_id": 96657775, "body": "This seems to have issues when using props inside the helper function."}, {"owner": {"reputation": 4119, "user_id": 7557079, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/vcGrA.png?s=128&g=1", "display_name": "Alfrex92", "link": "https://stackoverflow.com/users/7557079/alfrex92"}, "edited": false, "score": 0, "creation_date": 1597936259, "post_id": 53320060, "comment_id": 112301062, "body": "I don&#39;t get where does it produce a string with commas? I&#39;m not seeing anything"}], "tags": [], "owner": {"reputation": 388, "user_id": 4546641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yHIr4.jpg?s=128&g=1", "display_name": "Matvii Hodovaniuk", "link": "https://stackoverflow.com/users/4546641/matvii-hodovaniuk"}, "is_accepted": false, "score": 5, "last_activity_date": 1542286836, "creation_date": 1542286836, "answer_id": 53320060, "question_id": 49397538, "link": "https://stackoverflow.com/questions/49397538/typing-the-css-function-in-styled-components/53320060#53320060", "title": "Typing the css function in styled-components", "body": "<p>The <code>Titian Cernicova-Dragomir</code> <a href=\"https://stackoverflow.com/questions/49397538/typing-the-css-function-in-styled-components/49398439#49398439\">solution</a> is great but doesn't work for me.\nIt produces a string with commas.\nSo I add <code>join</code> to <code>css</code> function.\n<br/></p>\n\n<pre><code>import { css } from \"styled-components\";\n\nconst sizes = {\n  desktop: 730,\n};\n\nconst media = Object.keys(sizes).reduce(\n  (acc, label) =&gt; {\n    acc[label] = (literals: TemplateStringsArray, ...placeholders: any[]) =&gt;\n      css`\n        @media (max-width: ${sizes[label]}px) {\n          ${css(literals, ...placeholders)};\n        }\n      `.join(\"\");\n    return acc;\n  },\n  {} as Record&lt;\n    keyof typeof sizes,\n    (l: TemplateStringsArray, ...p: any[]) =&gt; string\n  &gt;,\n);\n\nexport default media;\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 5667468, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_1ViN4qXWHg/AAAAAAAAAAI/AAAAAAAAAD0/Hrod5cRn_Ys/photo.jpg?sz=128", "display_name": "Thomas Chia", "link": "https://stackoverflow.com/users/5667468/thomas-chia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1897, "favorite_count": 1, "accepted_answer_id": 49398439, "answer_count": 2, "score": 1, "last_activity_date": 1542286836, "creation_date": 1521602193, "question_id": 49397538, "link": "https://stackoverflow.com/questions/49397538/typing-the-css-function-in-styled-components", "title": "Typing the css function in styled-components", "body": "<p>I'm following the <a href=\"https://www.styled-components.com/docs/advanced#media-templates\" rel=\"nofollow noreferrer\">example</a> in the docs for creating media templates, and I'm really struggling to type the arguments to pass to the <code>css</code> function (plain JS version from example):</p>\n\n<pre><code>const sizes = {\n  desktop: 992\n}\n\nconst media = Object.keys(sizes).reduce((acc, label) =&gt; {\n\n  acc[label] = (...args) =&gt; css`    // &lt;----- how to type args\n\n    @media(max-width: ${sizes[label]}px) {\n      ${css(...args)}\n    }\n\n  `\n\n  return acc\n}, {})\n</code></pre>\n\n<p>In case you know TS but not styled-components, <code>args</code> is a tagged template literal, so I would use the <code>media</code> object as such:</p>\n\n<pre><code>media.desktop`\n  background-color: blue;\n  ${variable}\n`\n</code></pre>\n\n<p>I have tried to type <code>args</code> as <code>TemplateStringsArray</code> but TS complains because spread arguments need to be of <code>array</code> type (which I think it is but somehow it is not recognised). If I change the type to <code>TemplateStringsArray[]</code>, the <code>css()</code> function complains because it expects at least 1 argument, but received 0 or more.</p>\n"}, {"tags": ["reactjs", "typescript", "redux"], "answers": [{"comments": [{"owner": {"reputation": 9581, "user_id": 4742830, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ba70b0962fb392c3bb7ea4c6703aabae?s=128&d=identicon&r=PG", "display_name": "appiconhero.co", "link": "https://stackoverflow.com/users/4742830/appiconhero-co"}, "edited": false, "score": 0, "creation_date": 1521630148, "post_id": 49402512, "comment_id": 85810041, "body": "could you check out my repo <code>https:&#47;&#47;github.com&#47;khuong291&#47;React_ToDo</code>. It can not compiled."}, {"owner": {"reputation": 312, "user_id": 3074317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c72e1f967eb864429512cd1e53971fe0?s=128&d=identicon&r=PG&f=1", "display_name": "bonheury", "link": "https://stackoverflow.com/users/3074317/bonheury"}, "reply_to_user": {"reputation": 9581, "user_id": 4742830, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ba70b0962fb392c3bb7ea4c6703aabae?s=128&d=identicon&r=PG", "display_name": "appiconhero.co", "link": "https://stackoverflow.com/users/4742830/appiconhero-co"}, "edited": false, "score": 0, "creation_date": 1521632728, "post_id": 49402512, "comment_id": 85811827, "body": "It can&#39;t be compiled because of tslint rules you wrote on <code>tslint.json</code> file. This rules must be respected before the compilation."}], "tags": [], "owner": {"reputation": 312, "user_id": 3074317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c72e1f967eb864429512cd1e53971fe0?s=128&d=identicon&r=PG&f=1", "display_name": "bonheury", "link": "https://stackoverflow.com/users/3074317/bonheury"}, "is_accepted": true, "score": 3, "last_activity_date": 1521624571, "creation_date": 1521624571, "answer_id": 49402512, "question_id": 49397096, "link": "https://stackoverflow.com/questions/49397096/binding-element-dispatch-implicitly-has-an-any-type-var-dispatch-any/49402512#49402512", "title": "Binding element &#39;dispatch&#39; implicitly has an &#39;any&#39; type. var dispatch: any", "body": "<p>Maybe is a types issue. Try to add types in your props like this:</p>\n\n<pre><code>import * as React from 'react'\nimport { connect } from 'react-redux'\nimport { addTodo } from '../actions'\nimport { Dispatch } from 'redux';\n\ninterface AddTodoProps { \n  dispatch : Dispatch&lt;{}&gt; \n }\n\n\nconst AddTodo = (props : AddTodoProps) =&gt; {\nlet input: any\n\nreturn (\n  &lt;div&gt;\n    &lt;form onSubmit={e =&gt; {\n      e.preventDefault()\n      if (!input.value.trim()) {\n        return\n      }\n      props.dispatch(addTodo(input.value))\n      input.value = ''\n    }}&gt;\n      &lt;input ref={node =&gt; {\n        input = node\n      }} /&gt;\n      &lt;button type=\"submit\"&gt;\n        Add Todo\n      &lt;/button&gt;\n    &lt;/form&gt;\n  &lt;/div&gt;\n)\n}\n\nexport default connect()(AddTodo)\n</code></pre>\n"}], "owner": {"reputation": 9581, "user_id": 4742830, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ba70b0962fb392c3bb7ea4c6703aabae?s=128&d=identicon&r=PG", "display_name": "appiconhero.co", "link": "https://stackoverflow.com/users/4742830/appiconhero-co"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2543, "favorite_count": 0, "accepted_answer_id": 49402512, "answer_count": 1, "score": 1, "last_activity_date": 1521624571, "creation_date": 1521598796, "last_edit_date": 1521601578, "question_id": 49397096, "link": "https://stackoverflow.com/questions/49397096/binding-element-dispatch-implicitly-has-an-any-type-var-dispatch-any", "title": "Binding element &#39;dispatch&#39; implicitly has an &#39;any&#39; type. var dispatch: any", "body": "<p>I follow this example about <code>redux</code> but I write with TypeScript.</p>\n\n<p><a href=\"https://codesandbox.io/s/github/reactjs/redux/tree/master/examples/todos-with-undo\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/github/reactjs/redux/tree/master/examples/todos-with-undo</a></p>\n\n<p>I get trouble in <code>AddTodo.tsx</code> file.</p>\n\n<pre><code>import * as React from 'react'\nimport { connect } from 'react-redux'\nimport { addTodo } from '../actions'\n\nconst AddTodo = ({ dispatch }) =&gt; {\nlet input: any\n\nreturn (\n  &lt;div&gt;\n    &lt;form onSubmit={e =&gt; {\n      e.preventDefault()\n      if (!input.value.trim()) {\n        return\n      }\n      dispatch(addTodo(input.value))\n      input.value = ''\n    }}&gt;\n      &lt;input ref={node =&gt; {\n        input = node\n      }} /&gt;\n      &lt;button type=\"submit\"&gt;\n        Add Todo\n      &lt;/button&gt;\n    &lt;/form&gt;\n  &lt;/div&gt;\n)\n}\nAddTodo = connect()(AddTodo)\n\nexport default AddTodo\n</code></pre>\n\n<p>The <code>dispatch</code> parameter does not allowed. The error says:</p>\n\n<blockquote>\n  <p>[ts] Binding element 'dispatch' implicitly has an 'any' type.</p>\n</blockquote>\n"}, {"tags": ["typescript", "webpack", "jasmine", "karma-jasmine", "webpack-4"], "answers": [{"tags": [], "owner": {"reputation": 169, "user_id": 3943106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/319d620ae7c7456b6103becc8e2c5c7f?s=128&d=identicon&r=PG&f=1", "display_name": "Cem Schemel", "link": "https://stackoverflow.com/users/3943106/cem-schemel"}, "is_accepted": false, "score": 3, "last_activity_date": 1536269254, "creation_date": 1536269254, "answer_id": 52212382, "question_id": 49396736, "link": "https://stackoverflow.com/questions/49396736/can-webpack-4-modules-be-configured-as-to-allow-jasmine-to-spy-on-their-members/52212382#52212382", "title": "Can webpack 4 modules be configured as to allow Jasmine to spy on their members?", "body": "<p>There's <a href=\"https://github.com/webpack/webpack/issues/6979\" rel=\"nofollow noreferrer\">this GitHub issue</a> where they arrive at the same conclusion; that immutable exports are intended. But user <strong>lavelle</strong> has a workaround (in <a href=\"https://github.com/webpack/webpack/issues/6979#issuecomment-379414342\" rel=\"nofollow noreferrer\">this comment</a>) where they've created different webpack configs for test and production code. The test config uses <code>\"commonjs\"</code> modules, which seems to have worked for them by not creating getters.</p>\n"}, {"comments": [{"owner": {"reputation": 489, "user_id": 4258848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-qgkG-8bKipo/AAAAAAAAAAI/AAAAAAAAALY/Vry2_VuUo3k/photo.jpg?sz=128", "display_name": "Amer Mograbi", "link": "https://stackoverflow.com/users/4258848/amer-mograbi"}, "edited": false, "score": 7, "creation_date": 1581679068, "post_id": 54757283, "comment_id": 106526066, "body": "Weird but this doesn&#39;t work for me. It fails with the following error: ===Error: &lt;spyOnProperty&gt; : myFunc is not declared configurable===. This is how I declared my function: export var myFunc = function(){...};"}, {"owner": {"reputation": 4696, "user_id": 107683, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5f8d2625702d8a51f0d442d9cfc1a3aa?s=128&d=identicon&r=PG", "display_name": "Richard Collette", "link": "https://stackoverflow.com/users/107683/richard-collette"}, "edited": false, "score": 0, "creation_date": 1584988066, "post_id": 54757283, "comment_id": 107605671, "body": "See fixedSpyOn function here github.com/jasmine/jasmine/issues/1414#issuecomment-45787839&zwnj;&#8203;7"}], "tags": [], "owner": {"reputation": 1931, "user_id": 1387126, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bd96d3ea545bb362e66e0e713ec58dc0?s=128&d=identicon&r=PG", "display_name": "Anton Poznyakovskiy", "link": "https://stackoverflow.com/users/1387126/anton-poznyakovskiy"}, "is_accepted": false, "score": 22, "last_activity_date": 1550536166, "creation_date": 1550536166, "answer_id": 54757283, "question_id": 49396736, "link": "https://stackoverflow.com/questions/49396736/can-webpack-4-modules-be-configured-as-to-allow-jasmine-to-spy-on-their-members/54757283#54757283", "title": "Can webpack 4 modules be configured as to allow Jasmine to spy on their members?", "body": "<p>There's <code>spyOnProperty</code> which allows treating a property as read-only by setting the <code>accessType</code> argument to <code>'get'</code>.</p>\n\n<p>Your setup would then look like</p>\n\n<pre><code>import * as mod from 'my/module';\n//...\nconst funcSpy = jasmine.createSpy('myFunc').and.returnValue('myMockReturnValue');\nspyOnProperty(mod, 'myFunc', 'get').and.returnValue(funcSpy);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2502, "user_id": 3311001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/011dc5bf6a350b0334887a89ce06038f?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Faltesek", "link": "https://stackoverflow.com/users/3311001/tom-faltesek"}, "is_accepted": false, "score": 4, "last_activity_date": 1551809100, "last_edit_date": 1551809100, "creation_date": 1551808589, "answer_id": 55008868, "question_id": 49396736, "link": "https://stackoverflow.com/questions/49396736/can-webpack-4-modules-be-configured-as-to-allow-jasmine-to-spy-on-their-members/55008868#55008868", "title": "Can webpack 4 modules be configured as to allow Jasmine to spy on their members?", "body": "<p>Adding to @Anton Poznyakovskiy's answer:</p>\n\n<p>I've added this TypeScript function to my shared testing module as a convenience:</p>\n\n<pre><code>export const spyOnFunction = &lt;T&gt;(obj: T, func: keyof T) =&gt; {\n  const spy = jasmine.createSpy(func as string);\n  spyOnProperty(obj, func, 'get').and.returnValue(spy);\n\n  return spy;\n};\n</code></pre>\n\n<p>Example usage:</p>\n\n<pre><code>import * as mod from 'my/module';\n//...\nspyOnFunction(mod, 'myFunc').and.returnValue('myMockReturnValue');\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7013575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd2ab6cbb47f0002760628ad00217b1d?s=128&d=identicon&r=PG&f=1", "display_name": "Tushar Agey", "link": "https://stackoverflow.com/users/7013575/tushar-agey"}, "is_accepted": false, "score": 0, "last_activity_date": 1610795091, "creation_date": 1610795091, "answer_id": 65748925, "question_id": 49396736, "link": "https://stackoverflow.com/questions/49396736/can-webpack-4-modules-be-configured-as-to-allow-jasmine-to-spy-on-their-members/65748925#65748925", "title": "Can webpack 4 modules be configured as to allow Jasmine to spy on their members?", "body": "<p>To resolve this, it is possible to wrap the methods in custom class and then mock it.</p>\n<p>Example below:</p>\n<pre><code>//Common Utility\n\nimport * as library from './myLibrary'\n\nexport class CustomWrapper{\n    static _func = library.func;\n}\n\n//Code File\nimport { CustomWrapper } from './util/moduleWrapper';\n\nconst output = CustomWrapper._func(arg1, arg2);\n\n//Test File \n\nimport { CustomWrapper } from './util/moduleWrapper';\n\nspyOn(CustomWrapper, '_func').and.returnValue('mockedResult');\n</code></pre>\n"}], "owner": {"reputation": 540, "user_id": 2403418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1952491cd33f62daaf4245a7258224e?s=128&d=identicon&r=PG", "display_name": "Ryan", "link": "https://stackoverflow.com/users/2403418/ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6037, "favorite_count": 3, "answer_count": 4, "score": 24, "last_activity_date": 1610795091, "creation_date": 1521595630, "last_edit_date": 1521596723, "question_id": 49396736, "link": "https://stackoverflow.com/questions/49396736/can-webpack-4-modules-be-configured-as-to-allow-jasmine-to-spy-on-their-members", "title": "Can webpack 4 modules be configured as to allow Jasmine to spy on their members?", "body": "<p>I've been unable to get my test jasmine test suite running with webpack 4. After upgrading webpack, I get the following error for almost every test:</p>\n\n<pre><code>Error: &lt;spyOn&gt; : getField is not declared writable or has no setter \n</code></pre>\n\n<p>This is due to a common pattern we use to create spys for simple functions is:</p>\n\n<pre><code>import * as mod from 'my/module';\n//...\nconst funcSpy = spyOn(mod, 'myFunc');\n</code></pre>\n\n<p>I've played around with <code>module.rules[].type</code> but none of the options seem to do the trick. </p>\n\n<p>This webpack <a href=\"https://github.com/webpack/webpack/issues/5834\" rel=\"noreferrer\">GH issue</a> indicates ECMA modules are meant to not be writable which makes sense for the web but is there really no workaround for testing?</p>\n\n<p>Relevant package versions:</p>\n\n<pre><code>\"jasmine-core\": \"2.6.4\",\n\"typescript\": \"2.5.3\",\n\"webpack\": \"4.1.1\",\n\"webpack-cli\": \"^2.0.12\",\n\"karma\": \"^0.13.22\",\n\"karma-jasmine\": \"^1.1.0\",\n\"karma-webpack\": \"^2.0.13\",\n</code></pre>\n"}, {"tags": ["typescript", "typescript-typings", "cryptojs"], "comments": [{"owner": {"reputation": 2531, "user_id": 1670610, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/68ee6fea135c2712746b7784edb9b15a?s=128&d=identicon&r=PG", "display_name": "charmeleon", "link": "https://stackoverflow.com/users/1670610/charmeleon"}, "edited": false, "score": 0, "creation_date": 1521596432, "post_id": 49396548, "comment_id": 85795399, "body": "Your code looks correct so far, can you please add your <code>import</code> statement to the original post?"}], "answers": [{"comments": [{"owner": {"reputation": 312, "user_id": 5673348, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a2de5732d8ce0f4bf1ea8dcc124c743a?s=128&d=identicon&r=PG&f=1", "display_name": "Gimy boya", "link": "https://stackoverflow.com/users/5673348/gimy-boya"}, "edited": false, "score": 0, "creation_date": 1521639718, "post_id": 49401723, "comment_id": 85817040, "body": "ummm thank it works! but wired the key parameter is optional with the <code>?</code> maybe we should add a default value to it as undefined would that solve the issue?"}, {"owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "reply_to_user": {"reputation": 312, "user_id": 5673348, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a2de5732d8ce0f4bf1ea8dcc124c743a?s=128&d=identicon&r=PG&f=1", "display_name": "Gimy boya", "link": "https://stackoverflow.com/users/5673348/gimy-boya"}, "edited": false, "score": 0, "creation_date": 1521640143, "post_id": 49401723, "comment_id": 85817376, "body": "I don&#39;t get what you&#39;re asking. A default value? For key?"}, {"owner": {"reputation": 312, "user_id": 5673348, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a2de5732d8ce0f4bf1ea8dcc124c743a?s=128&d=identicon&r=PG&f=1", "display_name": "Gimy boya", "link": "https://stackoverflow.com/users/5673348/gimy-boya"}, "edited": false, "score": 0, "creation_date": 1521653900, "post_id": 49401723, "comment_id": 85827955, "body": "Yes in the @types/crypto-js file. Is it possible?"}], "tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": true, "score": 0, "last_activity_date": 1521622095, "creation_date": 1521622095, "answer_id": 49401723, "question_id": 49396548, "link": "https://stackoverflow.com/questions/49396548/cant-add-option-object-to-the-sha3-function-with-typescript/49401723#49401723", "title": "Can&#39;t add option object to the SHA3 function with typescript", "body": "<p>That's because that function is defined, in <code>@types/crypto-js</code>, as:</p>\n\n<pre><code>(message: string | LibWordArray, key?: string | WordArray, ...options: any[]) =&gt; WordArray;\n</code></pre>\n\n<p>As you see, it expects three parameters, the second being the key (which is nullable). Just do this:</p>\n\n<pre><code>CryptoJS.SHA3(\"Message\", undefined, { outputLength: 512});\n</code></pre>\n\n<p>An it should work.</p>\n\n<p>By the way, there's another @types for this library, <code>@types\\cryptojs</code>, it might suit you better.</p>\n"}], "owner": {"reputation": 312, "user_id": 5673348, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a2de5732d8ce0f4bf1ea8dcc124c743a?s=128&d=identicon&r=PG&f=1", "display_name": "Gimy boya", "link": "https://stackoverflow.com/users/5673348/gimy-boya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 410, "favorite_count": 1, "accepted_answer_id": 49401723, "answer_count": 1, "score": 2, "last_activity_date": 1521622095, "creation_date": 1521594096, "question_id": 49396548, "link": "https://stackoverflow.com/questions/49396548/cant-add-option-object-to-the-sha3-function-with-typescript", "title": "Can&#39;t add option object to the SHA3 function with typescript", "body": "<p>the <code>SHA3</code> function provides an option to control the output length as shown in this example:</p>\n\n<pre><code>var hash = CryptoJS.SHA3(\"Message\", { outputLength: 512 });\nvar hash = CryptoJS.SHA3(\"Message\", { outputLength: 384 });\nvar hash = CryptoJS.SHA3(\"Message\", { outputLength: 256 });\nvar hash = CryptoJS.SHA3(\"Message\", { outputLength: 224 });\n</code></pre>\n\n<p>however when used in typescript with <a href=\"https://www.npmjs.com/package/@types/crypto-js\" rel=\"nofollow noreferrer\">@types/crypto-js</a> i am getting the following type error when trying to specify the the <code>outputLength</code>:</p>\n\n<blockquote>\n  <p>Argument of type '{ outputLength: number; }' is not assignable to\n  parameter of type 'string | WordArray | undefined'.\n        Object literal may only specify known properties, and 'outputLength' does not exist in type 'string | WordArray |\n  undefined'.</p>\n</blockquote>\n"}, {"tags": ["angular", "typescript", "enums", "ngfor"], "comments": [{"owner": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "edited": false, "score": 0, "creation_date": 1521591184, "post_id": 49396124, "comment_id": 85794117, "body": "I&#39;ve removed the snippets from this question because they weren&#39;t runable javascript."}, {"owner": {"reputation": 5875, "user_id": 4383512, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PdRqP.png?s=128&g=1", "display_name": "Meme Composer", "link": "https://stackoverflow.com/users/4383512/meme-composer"}, "edited": false, "score": 0, "creation_date": 1521591282, "post_id": 49396124, "comment_id": 85794144, "body": "If you know what a typescript enum get translated to in javascript, you would not want to <code>ngFor</code> it. What you can do is write a custom pipe to make the enum display-suitable and use it on your enum from inside an <code>ngFor</code>"}], "answers": [{"comments": [{"owner": {"reputation": 5269, "user_id": 1395676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed24d975f0de19e8f131d9551cf39433?s=128&d=identicon&r=PG&f=1", "display_name": "sensei", "link": "https://stackoverflow.com/users/1395676/sensei"}, "edited": false, "score": 1, "creation_date": 1532444590, "post_id": 49396468, "comment_id": 89972121, "body": "in angular5 this displays strings and corresponding numbers, use   keys() : Array&lt;string&gt; {     var keys = Object.keys(this.role);     return keys.slice(keys.length / 2);   }"}, {"owner": {"reputation": 1747, "user_id": 6800303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d86ffb4271b65f9121097792b5f77af1?s=128&d=identicon&r=PG&f=1", "display_name": "NitinSingh", "link": "https://stackoverflow.com/users/6800303/nitinsingh"}, "edited": false, "score": 0, "creation_date": 1577095711, "post_id": 49396468, "comment_id": 105088542, "body": "A required point for those who don&#39;t have the values assigned explicitly to the enum, this will display double items (one for value and another for text)."}], "tags": [], "owner": {"reputation": 113065, "user_id": 1850609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0C56.jpg?s=128&g=1", "display_name": "acdcjunior", "link": "https://stackoverflow.com/users/1850609/acdcjunior"}, "is_accepted": true, "score": 13, "last_activity_date": 1521593981, "last_edit_date": 1521593981, "creation_date": 1521593574, "answer_id": 49396468, "question_id": 49396124, "link": "https://stackoverflow.com/questions/49396124/angular5-iterate-over-enum-using-ngfor/49396468#49396468", "title": "Angular5: Iterate Over Enum Using *ngFor", "body": "<p>To have the enum accessible within the component, you must declare a property, like you did, but instead of declaring it of <em>type</em> <code>Symbols</code> (using <code>:</code>), you should assign <code>Symbol</code> to it (using <code>=</code>).</p>\n\n<p>To declare a <code>&lt;select&gt;</code> with options, you should use the <code>*ngFor</code> in the <code>&lt;option&gt;</code>s, not in the <code>&lt;select&gt;</code>.</p>\n\n<p>Also, to iterate the enum, you must use <code>Object.keys(symbols)</code>, which is aliased by <code>keys(symbol)</code> in the template below.</p>\n\n<p><a href=\"https://stackblitz.com/edit/ngfor-enum-select-options?file=app/app.component.ts\" rel=\"noreferrer\"><strong>Stackblitz Demo here.</strong></a></p>\n\n<pre><code>import { Component } from '@angular/core';\n\nexport enum Symbols {\n  equals = '\\u003D',\n  notEquals = '!='\n}\n\n@Component({\n  selector: 'my-app',\n  template: `\n    &lt;p&gt;\n      Having the name as label and symbol as value:\n      &lt;select&gt;\n        &lt;option *ngFor=\"let symbol of keys(symbols)\" [ngValue]=\"symbols[symbol]\"&gt;{{symbol}}&lt;/option&gt;\n      &lt;/select&gt;\n    &lt;/p&gt;\n    &lt;p&gt;\n      Having the symbol as label and name as value:\n      &lt;select&gt;\n        &lt;option *ngFor=\"let symbol of keys(symbols)\" [ngValue]=\"symbol\"&gt;{{symbols[symbol]}}&lt;/option&gt;\n      &lt;/select&gt;\n    &lt;/p&gt;\n  `\n})\nexport class AppComponent  {\n  keys = Object.keys;\n  symbols = Symbols;\n}\n</code></pre>\n"}], "owner": {"reputation": 705, "user_id": 5327403, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c293099c7e61e9c0396c0ca2d2e983f6?s=128&d=identicon&r=PG&f=1", "display_name": "FrankTheTank", "link": "https://stackoverflow.com/users/5327403/frankthetank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6283, "favorite_count": 1, "accepted_answer_id": 49396468, "answer_count": 1, "score": 3, "last_activity_date": 1521593981, "creation_date": 1521590990, "last_edit_date": 1521591151, "question_id": 49396124, "link": "https://stackoverflow.com/questions/49396124/angular5-iterate-over-enum-using-ngfor", "title": "Angular5: Iterate Over Enum Using *ngFor", "body": "<p>I am trying to make a structure of some sort that has key value pairs where the key is an identifier like 'equals' and the values are the unicode equivalent html like '\\u003D'. Right now I am using an enum, but I am not sure if this is the best structure. Anyways, I need to use this enum (or other structure) to display the unicode characters in a drop down on a page by using a ngFor statement to iterate over my enum and making options which innerHtml correspondes to the unicode character. What is the best way to do this? </p>\n\n<p>Right now my code is as follows: </p>\n\n<p><strong>enum</strong></p>\n\n<pre><code>export enum Symbols {\n  equals = '\\u003D'\n}\n</code></pre>\n\n<p><strong>component.ts</strong></p>\n\n<pre><code>symbols: Symbols;\n</code></pre>\n\n<p><strong>component.html</strong></p>\n\n<pre><code>&lt;select *ngFor=\"let symbol of symbols\"&gt;\n     &lt;option value=\"and\"&gt;{{symbol}}&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "typescript", "promise"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1521586406, "post_id": 49395419, "comment_id": 85792698, "body": "doesn&#39;t typescript have some keyword that allows you to specify <code>any</code> type?"}, {"owner": {"reputation": 3865, "user_id": 7663531, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/bRFv4.jpg?s=128&g=1", "display_name": "cham", "link": "https://stackoverflow.com/users/7663531/cham"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1521586631, "post_id": 49395419, "comment_id": 85792764, "body": "The original error was <code>[ts] Property &#39;forEach&#39; does not exist on type &#39;{}&#39;</code>. Now I get <code>SyntaxError: Unexpected token :</code> with something like Promise&lt;Array&lt;any&gt;&gt;"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1521586655, "post_id": 49395419, "comment_id": 85792775, "body": "It compiles fine <a href=\"https://www.typescriptlang.org/play/#src=function%20x()%3A%20Promise%3CArray%3Cany%3E%3E%20%7B%0D%0A%20%20%20%20return%20null%3B%0D%0A%7D%0D%0A%0D%0Aasync%20function%20z()%20%7B%0D%0A%20%20%20%20const%20y%20%3D%20await%20x()%3B%0D%0A%20%20%20%20y.forEach(n%20%3D%3E%20console.log(n))%3B%0D%0A%7D%0D%0A%0D%0A\" rel=\"nofollow noreferrer\">in the playground</a>. <code>Promise&lt;Array&lt;any&gt;&gt;</code> or <code>Promise&lt;any[]&gt;</code> is the right type for <code>OpenJSON</code>, by the looks of it."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1521586748, "post_id": 49395419, "comment_id": 85792806, "body": "@jonrsharpe it does, but not with <code>--noImplicitAny</code>. Anyway, it is not necessary to use <code>any</code> unless you want to convey that you don&#39;t know what the JSON looks like."}], "answers": [{"comments": [{"owner": {"reputation": 3865, "user_id": 7663531, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/bRFv4.jpg?s=128&g=1", "display_name": "cham", "link": "https://stackoverflow.com/users/7663531/cham"}, "edited": false, "score": 0, "creation_date": 1521586990, "post_id": 49395505, "comment_id": 85792885, "body": "Thanks for the fast reply. I&#39;ve pasted in your code but now this error appears: <code>(node:13688) UnhandledPromiseRejectionWarning: TypeError: Promise resolver undefined is not a function</code>"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 3865, "user_id": 7663531, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/bRFv4.jpg?s=128&g=1", "display_name": "cham", "link": "https://stackoverflow.com/users/7663531/cham"}, "edited": false, "score": 0, "creation_date": 1521587094, "post_id": 49395505, "comment_id": 85792915, "body": "@chamilton that is because I fixed some bugs where you were not converting the errors to rejections in the promise callbacks. Your code is throwing an error."}, {"owner": {"reputation": 3865, "user_id": 7663531, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/bRFv4.jpg?s=128&g=1", "display_name": "cham", "link": "https://stackoverflow.com/users/7663531/cham"}, "edited": false, "score": 1, "creation_date": 1521587395, "post_id": 49395505, "comment_id": 85793007, "body": "Cool, and thanks for the link @Aluan Haddad . I&#39;ll see if I can sort out the errors."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 1, "creation_date": 1521589385, "post_id": 49395505, "comment_id": 85793638, "body": "@unional: I&#39;m pretty sure your edit introduced a syntax errors. What&#39;s the reason?"}], "tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": false, "score": 2, "last_activity_date": 1521591709, "last_edit_date": 1521591709, "creation_date": 1521586708, "answer_id": 49395505, "question_id": 49395419, "link": "https://stackoverflow.com/questions/49395419/typescript-for-a-promise-that-resolves-an-array-of-objects/49395505#49395505", "title": "Typescript for a promise that resolves an array of objects", "body": "<p>In this case you need to specify the result type when you construct the promise itself.</p>\n\n<pre><code>function OpenJSON() {\n    return new Promise&lt;Array&lt;{ id: string, performance: number, average: number }&gt;&gt;(\n        (resolve, reject) =&gt; {\n            fs.open(kJsonPath, 'wx', (err, fd) =&gt; {\n                if (err) {\n                    if (err.code === 'EEXIST') {\n                        fs.readFile(kJsonPath, 'utf8', (err, content) =&gt; {\n                            if (err) {\n                                reject(err);\n                            }\n                            resolve(JSON.parse(content));\n                        })\n                    } else {\n                        reject(Error('When openening performance.JSON'));\n                    }\n                } else {\n                    reject(Error('There is a problem opening performance.JSON'));\n                }\n            });\n        });\n}\n</code></pre>\n\n<p>Note in the above, I fixed several error handling issues.</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=declare%20var%20kJsonPath%3A%20string%3B%0D%0Adeclare%20var%20fs%3A%20%7B%0D%0A%20%20%20%20open(path%3A%20string%2C%20x%3A%20string%2C%20callback%3A%20Function)%3A%20void%0D%0A%20%20%20%20readFile(path%3A%20string%2C%20x%3A%20string%2C%20callback%3A%20Function)%3A%20void%0D%0A%7D%3B%0D%0Afunction%20OpenJSON()%20%7B%0D%0A%20%20%20%20return%20new%20Promise%3CArray%3C%7B%20id%3A%20string%2C%20performance%3A%20number%2C%20average%3A%20number%20%7D%3E%3E(%0D%0A%20%20%20%20%20%20%20%20(resolve%2C%20reject)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20fs.open(kJsonPath%2C%20&#39;wx&#39;%2C%20(err%2C%20fd)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(err)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(err.code%20%3D%3D%3D%20&#39;EEXIST&#39;)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fs.readFile(kJsonPath%2C%20&#39;utf8&#39;%2C%20(err%2C%20content)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(err)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20reject(err)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20resolve(JSON.parse(content))%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20reject(Error(&#39;When%20openening%20performance.JSON&#39;))%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20reject(Error(&#39;There%20is%20a%20problem%20opening%20performance.JSON&#39;))%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%7D%0D%0A%0D%0Aasync%20function%20produceDataRows()%20%7B%0D%0A%20%20%20%20let%20tableContent%20%3D%20&#39;&#39;%3B%0D%0A%20%20%20%20let%20jsonData%20%3D%20await%20OpenJSON()%3B%0D%0A%0D%0A%20%20%20%20%2F%2F%20error%20occurs%20here%3A%20%5Bts%5D%20Property%20&#39;forEach&#39;%20does%20not%20exist%20on%20type%20&#39;%7B%7D&#39;.%0D%0A%20%20%20%20jsonData.forEach(element%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20convert%20this%20JSON%20data%20into%20table%20content%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20return%20tableContent%3B%0D%0A%7D%3B\" rel=\"nofollow noreferrer\">Playground link</a></p>\n"}], "owner": {"reputation": 3865, "user_id": 7663531, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/bRFv4.jpg?s=128&g=1", "display_name": "cham", "link": "https://stackoverflow.com/users/7663531/cham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3089, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1521591709, "creation_date": 1521586299, "question_id": 49395419, "link": "https://stackoverflow.com/questions/49395419/typescript-for-a-promise-that-resolves-an-array-of-objects", "title": "Typescript for a promise that resolves an array of objects", "body": "<p>I'd like to generally declare that a function returns a promise that resolves an array of objects (I think that this would resolve a TS error; TS doesn't know that I can use <code>forEach</code> on the resolved array). </p>\n\n<p>On the function <code>openJSON()</code> (see below) I tried things like:</p>\n\n<pre><code>function OpenJSON(): Promise&lt;Array&lt;{id: string, performance: number, average: number}&gt;&gt; { // ...\n</code></pre>\n\n<p>but I still get errors. And in the future, I expect all sorts of different objects to be produced by this function. Is there just a general way to declare an array of objects, say like <code>Promise&lt;Array&lt;{}&gt;&gt;</code>?</p>\n\n<pre><code>async function produceDataRows() {\n   let tableContent = '';\n   let jsonData = await OpenJSON();\n\n   // error occurs here: [ts] Property 'forEach' does not exist on type '{}'.\n   jsonData.forEach(element =&gt; {\n       // convert this JSON data into table content\n   });\n   return tableContent;\n};\n\nfunction OpenJSON() {\n   return new Promise( (resolve, reject) =&gt; {\n      fs.open(kJsonPath, 'wx', (err, fd) =&gt; {\n         if (err) {\n            if (err.code === 'EEXIST') {\n               fs.readFile(kJsonPath, 'utf8', function (err, content) {\n                  if (err) throw err;\n                  resolve(JSON.parse(content));\n               })\n            } else {\n               reject( new Error('When openening performance.JSON, in generateHTML.js, an unexpected error has occured. ' + err) );\n            }\n         } else throw Error('There is a problem opening performance.JSON');\n      })\n   })\n}\n</code></pre>\n"}, {"tags": ["typescript", "visual-studio-code"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1521587684, "post_id": 49395050, "comment_id": 85793097, "body": "<code>import $ from &#39;jquery&#39;;</code>"}, {"owner": {"reputation": 4257, "user_id": 1028679, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/fe67e29bbbb733dedab9bdf075a9ff38?s=128&d=identicon&r=PG", "display_name": "rmcsharry", "link": "https://stackoverflow.com/users/1028679/rmcsharry"}, "edited": false, "score": 0, "creation_date": 1535143110, "post_id": 49395050, "comment_id": 90973828, "body": "Did you find a solution? I have the same issue in an Angular5 project. There is no webpack config in Angular-CLI projects so we cannot modify that to provide plugin solution as per @IWallent&#39;s answer. The problem is that by installing @types/jquery (as I suspect you have) &#39;jQuery&#39; is already declared, so declaring it again throws the VSCode warning. What I don&#39;t understand is why removing it (as you did - deleting the declare reference) breaks the app - why can&#39;t the browser/code see the one declared via @types/jquery?"}], "answers": [{"comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1521587624, "post_id": 49395190, "comment_id": 85793079, "body": "Question doesn&#39;t mention the Angular CLI. Regardless, this is crap."}, {"owner": {"reputation": 2410, "user_id": 1363329, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ffd05e2e89b03bcd7077853638c87e9b?s=128&d=identicon&r=PG", "display_name": "tony09uk", "link": "https://stackoverflow.com/users/1363329/tony09uk"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1525333070, "post_id": 49395190, "comment_id": 87316648, "body": "@AluanHaddad i asked <code>How do I stop VS Code from showing declare var jQuery:any; as an error?</code> if the cli is a way to stop that, I don&#39;t see the problem in mentioning in the answer. Also maybe you could provide some constructive criticism? @MayurPatel thanks for your suggestion"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1525370890, "post_id": 49395190, "comment_id": 87340640, "body": "The CLI isn&#39;t stopping the error. Constructive feedback: <code>package-manager install @types&#47;jquery</code> instead"}, {"owner": {"reputation": 4257, "user_id": 1028679, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/fe67e29bbbb733dedab9bdf075a9ff38?s=128&d=identicon&r=PG", "display_name": "rmcsharry", "link": "https://stackoverflow.com/users/1028679/rmcsharry"}, "edited": false, "score": 0, "creation_date": 1535143555, "post_id": 49395190, "comment_id": 90973971, "body": "The question does not mention the Angular CLI but I suspect quite strongly that it should - examining all the code snippets and errors from the OP makes me 99% certain that he has an Angular 5 or 6 project built with CLI. In which case there is no webpack config file. He already has installed @types/jquery and is now redeclaring jquery as a global in his typing.d.ts file (because without it the app cannot compile, as the OP states). So what he needs is a way for the app to &#39;see&#39; the global jQuery declared by installing @types/jquery (and therefore not needing to redeclare it in typings.d.ts.)"}, {"owner": {"reputation": 4257, "user_id": 1028679, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/fe67e29bbbb733dedab9bdf075a9ff38?s=128&d=identicon&r=PG", "display_name": "rmcsharry", "link": "https://stackoverflow.com/users/1028679/rmcsharry"}, "edited": false, "score": 0, "creation_date": 1535143856, "post_id": 49395190, "comment_id": 90974073, "body": "@Mayur Patel I already have steps (1) and (2) in my project and have the same problem as the OP. Step (3) does not fix it - same compile error as OP gets (Cannot find name &#39;jQuery&#39;)."}], "tags": [], "owner": {"reputation": 42, "user_id": 9408858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74cc7d5f72c847a4971b107b693050aa?s=128&d=identicon&r=PG", "display_name": "Mayurkumar Patel", "link": "https://stackoverflow.com/users/9408858/mayurkumar-patel"}, "is_accepted": false, "score": 1, "last_activity_date": 1521585088, "creation_date": 1521585088, "answer_id": 49395190, "question_id": 49395050, "link": "https://stackoverflow.com/questions/49395050/cannot-redeclare-block-scoped-variable-jquery/49395190#49395190", "title": "cannot redeclare block-scoped variable &#39;jQuery&#39;", "body": "<p>May be below steps will solve your problem.\nLet me know your comments.</p>\n\n<hr>\n\n<p>1.) install jquery types and jquery from npm</p>\n\n<pre><code>npm install jquery\nnpm install @types/jquery\n</code></pre>\n\n<hr>\n\n<p>2.) add jquery to .angular-cli.json</p>\n\n<pre><code>      \"scripts\": [\n        \"../node_modules/jquery/dist/jquery.min.js\",\n      ],\n</code></pre>\n\n<hr>\n\n<p>3.) declare in your pages.component.ts file.</p>\n\n<pre><code>declare let $: any;\ndeclare let jQuery: any;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4257, "user_id": 1028679, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/fe67e29bbbb733dedab9bdf075a9ff38?s=128&d=identicon&r=PG", "display_name": "rmcsharry", "link": "https://stackoverflow.com/users/1028679/rmcsharry"}, "edited": false, "score": 0, "creation_date": 1535142880, "post_id": 49395266, "comment_id": 90973742, "body": "I suspect the op has the problem that he has no webpack config file. I have the exact same issue in an Angular5 project, which was built using angular-cli so there is no webpack config."}], "tags": [], "owner": {"reputation": 144, "user_id": 8483197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d186bdfd1de452ca1669c09bbc9905f7?s=128&d=identicon&r=PG", "display_name": "lwallent", "link": "https://stackoverflow.com/users/8483197/lwallent"}, "is_accepted": false, "score": 1, "last_activity_date": 1521615421, "last_edit_date": 1521615421, "creation_date": 1521585483, "answer_id": 49395266, "question_id": 49395050, "link": "https://stackoverflow.com/questions/49395050/cannot-redeclare-block-scoped-variable-jquery/49395266#49395266", "title": "cannot redeclare block-scoped variable &#39;jQuery&#39;", "body": "<p>I assume you have two problems. </p>\n\n<p>The first being declaring jQuery (you are already using <strong>@types/jquery</strong>, right?). VS Code is probably right about it already being declared. So remove that.</p>\n\n<p>The second problem is that some of your components cannot find jQuery when running webpack, right?</p>\n\n<p>Here I would suggest you use the ProvidePlugin in your <strong>webpack</strong> config:</p>\n\n<pre><code>//=============================================\n// Provide PLUGIN - making things available\n//=============================================\nconst provideVars = new webpack.ProvidePlugin({\n    $: \"jquery\",\n    jQuery: \"jquery\",\n    'window.jQuery': 'jquery'\n}); \n\nmodule.exports = {\n  ...\n  plugins: [\n    provideVars\n  ],\n  ...\n\n};\n</code></pre>\n"}], "owner": {"reputation": 2410, "user_id": 1363329, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ffd05e2e89b03bcd7077853638c87e9b?s=128&d=identicon&r=PG", "display_name": "tony09uk", "link": "https://stackoverflow.com/users/1363329/tony09uk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2630, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1521615421, "creation_date": 1521584300, "question_id": 49395050, "link": "https://stackoverflow.com/questions/49395050/cannot-redeclare-block-scoped-variable-jquery", "title": "cannot redeclare block-scoped variable &#39;jQuery&#39;", "body": "<p><strong>The question</strong></p>\n\n<p>How do I stop <em>VS Code</em> from showing <code>declare var jQuery:any;</code> as an error?</p>\n\n<p><strong>More info</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/4O2nf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4O2nf.png\" alt=\"vs code cannot redeclare block-scoped variable &#39;jQuery&#39;\"></a></p>\n\n<p><strong>What i've done</strong></p>\n\n<p>After a quick search I found a suggestion <a href=\"https://stackoverflow.com/questions/47533282/cannot-redeclare-block-scoped-variable-name-in-typescript?rq=1\">this</a>, which suggests that the <code>jQuery</code> variable has already been defined elsewhere in the same code block. So I delete this reference. <em>VS Code</em> stops complaining but the console show the below error and my app will not compile.</p>\n\n<blockquote>\n  <p>ERROR in src/app/app.config.ts(34,25): error TS2304: Cannot find name 'jQuery'.\n  src/app/pages/pages.component.ts(31,27): error TS2304: Cannot find name 'jQuery'.</p>\n</blockquote>\n\n<p>So I re-add the line i just removed and my application complies but I get the below error in the browser (in dev tools console)</p>\n\n<pre><code>ERROR Error: Uncaught (in promise): TypeError: __webpack_require__.e is not a function\nTypeError: __webpack_require__.e is not a function\n    at webpackAsyncContext (eval at ./src/$$_lazy_route_resource lazy recursive (main.bundle.js:13), &lt;anonymous&gt;:11:29)\n    at SystemJsNgModuleLoader.loadAndCompile (core.js:6554)\n    at SystemJsNgModuleLoader.load (core.js:6538)\n    at RouterConfigLoader.loadModuleFactory (router.js:4543)\n    at RouterConfigLoader.load (router.js:4523)\n    at MergeMapSubscriber.eval [as project] (router.js:2015)\n    at MergeMapSubscriber._tryNext (mergeMap.js:128)\n    at MergeMapSubscriber._next (mergeMap.js:118)\n    at MergeMapSubscriber.Subscriber.next (Subscriber.js:92)\n    at ScalarObservable._subscribe (ScalarObservable.js:51)\n    at webpackAsyncContext (eval at ./src/$$_lazy_route_resource lazy recursive (main.bundle.js:13), &lt;anonymous&gt;:11:29)\n    at SystemJsNgModuleLoader.loadAndCompile (core.js:6554)\n    at SystemJsNgModuleLoader.load (core.js:6538)\n    at RouterConfigLoader.loadModuleFactory (router.js:4543)\n    at RouterConfigLoader.load (router.js:4523)\n    at MergeMapSubscriber.eval [as project] (router.js:2015)\n    at MergeMapSubscriber._tryNext (mergeMap.js:128)\n    at MergeMapSubscriber._next (mergeMap.js:118)\n    at MergeMapSubscriber.Subscriber.next (Subscriber.js:92)\n    at ScalarObservable._subscribe (ScalarObservable.js:51)\n    at resolvePromise (zone.js:809)\n    at resolvePromise (zone.js:775)\n    at eval (zone.js:858)\n    at ZoneDelegate.invokeTask (zone.js:421)\n    at Object.onInvokeTask (core.js:4736)\n    at ZoneDelegate.invokeTask (zone.js:420)\n    at Zone.runTask (zone.js:188)\n    at drainMicroTaskQueue (zone.js:595)\n    at &lt;anonymous&gt;\n</code></pre>\n\n<p>So I terminate the app and restart it. Now the app runs with no errors but <em>VS Code</em> shows that same problem again.</p>\n\n<p><strong>tsconfig.json</strong></p>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"outDir\": \"./dist/out-tsc\",\n    \"sourceMap\": true,\n    \"declaration\": false,\n    \"moduleResolution\": \"node\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ],\n    \"lib\": [\n      \"es2017\",\n      \"dom\"\n    ]\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "visual-studio-code", "documentation", "jsdoc"], "comments": [{"owner": {"reputation": 4106, "user_id": 3634032, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PDCW3.jpg?s=128&g=1", "display_name": "Sam Herrmann", "link": "https://stackoverflow.com/users/3634032/sam-herrmann"}, "edited": false, "score": 1, "creation_date": 1521582664, "post_id": 49393923, "comment_id": 85791073, "body": "This was <a href=\"https://stackoverflow.com/questions/10223916/how-to-escape-sign-inside-jsdoc-comments-in-netbeans\">asked 5 years ago</a> with no answer and is also an outstanding issue in <a href=\"https://github.com/compodoc/compodoc/issues/304\" rel=\"nofollow noreferrer\">compodoc</a>"}], "answers": [{"tags": [], "owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "is_accepted": false, "score": 5, "last_activity_date": 1543574926, "creation_date": 1543574926, "answer_id": 53556016, "question_id": 49393923, "link": "https://stackoverflow.com/questions/49393923/jsdoc-character-inside-code-block/53556016#53556016", "title": "jsdoc @ character inside code block", "body": "<p>Sadly, special symbols are not supported in jsDoc inside <code>@example</code> block. They work only inside inline code blocks, like this one:</p>\n\n<pre><code>```js\n&amp;#64;Module\n```\n</code></pre>\n\n<p>This will result in the proper <code>@Module</code> output.</p>\n\n<p>And unlike <code>@example</code>, you cannot place an inline code block after everything, because it is inline, which means it will be somewhere before your <code>@returns</code> section. Awkward, I know.</p>\n\n<p>The same goes when you want to use something like multi-line comment in your code example, etc.</p>\n\n<pre><code>```js\na.setParams(&amp;#47;* parameters here *&amp;#47;);\n```\n</code></pre>\n\n<p>outputs: <code>a.setParams(/* parameters here */);</code></p>\n"}, {"comments": [{"owner": {"reputation": 5222, "user_id": 212706, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8f854e3cf0b54a622aba244b1af52dbf?s=128&d=identicon&r=PG", "display_name": "ktutnik", "link": "https://stackoverflow.com/users/212706/ktutnik"}, "edited": false, "score": 0, "creation_date": 1618606680, "post_id": 55214510, "comment_id": 118662512, "body": "The only solution work, should be the accepted answer"}], "tags": [], "owner": {"reputation": 1494, "user_id": 1479211, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f48bc1c951040bbf65b93ad3beeb5757?s=128&d=identicon&r=PG", "display_name": "psaxton", "link": "https://stackoverflow.com/users/1479211/psaxton"}, "is_accepted": false, "score": 3, "last_activity_date": 1552880774, "creation_date": 1552880774, "answer_id": 55214510, "question_id": 49393923, "link": "https://stackoverflow.com/questions/49393923/jsdoc-character-inside-code-block/55214510#55214510", "title": "jsdoc @ character inside code block", "body": "<p>I've had luck using an alternate @ symbol in the unicode space: <a href=\"https://www.compart.com/en/unicode/U+FF20\" rel=\"nofollow noreferrer\">U+FF20 (\uff20)</a>. It makes the documentation look correct, but unfortunately won't work if someone copy/pastes the code block. This appears to be an open issue since at least 2012 so I'm not holding my breath for a better fix.</p>\n"}], "owner": {"reputation": 7002, "user_id": 513570, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8a17b4d28084ddc12905d1a66869ffa7?s=128&d=identicon&r=PG", "display_name": "Miquel", "link": "https://stackoverflow.com/users/513570/miquel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1354, "favorite_count": 1, "answer_count": 2, "score": 10, "last_activity_date": 1552880774, "creation_date": 1521579231, "question_id": 49393923, "link": "https://stackoverflow.com/questions/49393923/jsdoc-character-inside-code-block", "title": "jsdoc @ character inside code block", "body": "<p>I'm trying to write documentation for a Module function like this:</p>\n\n<pre><code>/**\n * Usage:\n *\n * ```\n * @NgModule({\n *      imports: [\n *          BrowserModule,\n *          ...,\n *          ThisModule.forRoot({\n *              name: 'Name',\n *              version: '1.0',\n *      ],\n * }),\n * ```\n * \n * @param config Service configuration parameters\n */\npublic static forRoot(config: SVConfig) {\n</code></pre>\n\n<p>The problem is with <code>@NgModule</code>. I've tried with:</p>\n\n<pre><code>* ```\n* &amp;#064;NgModule\n</code></pre>\n\n<p>Seems that html entitites works well outside code (```), but not inside code block (it does something weird like making <code>NgModule</code> in bold and new line)</p>\n\n<p>Also tried <code>\\@</code>, <code>{@literal @}</code>, <code>\\u0064</code>, <code>@@</code> with no success.\nThe most friendly I've found is <code>(@)NgModule</code>.</p>\n\n<p>Any suggestion please?</p>\n"}, {"tags": ["javascript", "google-chrome", "typescript", "protractor", "downloadfile"], "comments": [{"owner": {"reputation": 1487, "user_id": 276311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2badde067ffa52cab3d6b1dfbebb4bc5?s=128&d=identicon&r=PG", "display_name": "Adriano P", "link": "https://stackoverflow.com/users/276311/adriano-p"}, "edited": false, "score": 2, "creation_date": 1521584437, "post_id": 49393815, "comment_id": 85791788, "body": "I couldn&#39;t follow your explanation. Please elaborate better (what tool are you using, how are you trying to perform this) and describe what you have do so far."}, {"owner": {"reputation": 47, "user_id": 9525053, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oYZv1HuAhD0/AAAAAAAAAAI/AAAAAAAAAEU/5rzQ6zRYVOI/photo.jpg?sz=128", "display_name": "AnumShk", "link": "https://stackoverflow.com/users/9525053/anumshk"}, "reply_to_user": {"reputation": 1487, "user_id": 276311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2badde067ffa52cab3d6b1dfbebb4bc5?s=128&d=identicon&r=PG", "display_name": "Adriano P", "link": "https://stackoverflow.com/users/276311/adriano-p"}, "edited": false, "score": 0, "creation_date": 1521628386, "post_id": 49393815, "comment_id": 85808846, "body": "I did exactly the same like tehbeardedone mentioned below with absolute path given in forward slash. Its working fine thanks"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 9525053, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oYZv1HuAhD0/AAAAAAAAAAI/AAAAAAAAAEU/5rzQ6zRYVOI/photo.jpg?sz=128", "display_name": "AnumShk", "link": "https://stackoverflow.com/users/9525053/anumshk"}, "edited": false, "score": 0, "creation_date": 1521628147, "post_id": 49394292, "comment_id": 85808653, "body": "Now I have added absolute path with forward slash in my previous code and it is working fine  ."}], "tags": [], "owner": {"reputation": 2600, "user_id": 2140747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CsujY.jpg?s=128&g=1", "display_name": "tehbeardedone", "link": "https://stackoverflow.com/users/2140747/tehbeardedone"}, "is_accepted": false, "score": 0, "last_activity_date": 1521580795, "creation_date": 1521580795, "answer_id": 49394292, "question_id": 49393815, "link": "https://stackoverflow.com/questions/49393815/downloading-filesvideo-audio-image-docx-etc-into-tmp-folder-through-protrac/49394292#49394292", "title": "Downloading files(video, audio, image, docx etc) into tmp folder through Protractor", "body": "<p>You will need to use the <a href=\"https://sites.google.com/a/chromium.org/chromedriver/capabilities\" rel=\"nofollow noreferrer\">chromeOptions</a> object to accomplish this. You can use this to configure whether or not you want to be prompted for downloads and what you want the default download directory to be. You can find an extensive list of all the preferences <a href=\"https://chromium.googlesource.com/chromium/src/+/master/chrome/common/pref_names.cc\" rel=\"nofollow noreferrer\">here</a>. Here is an example of how you would use it:</p>\n\n<pre><code>capabilities: {\n    browserName: 'chrome',            \n    chromeOptions: {\n      args: [\n        'deny-permission-prompts'\n      ],\n      prefs: {\n        profile: {\n          default_content_settings: {\n            popups: 0\n          }\n        },\n        download: {\n          prompt_for_download: false,\n          default_directory: 'C:\\your\\path\\to\\tmp'\n        }\n      }\n    }\n  }\n</code></pre>\n\n<p>One thing to note, you must make sure the path you specify in <code>default_directory</code> actually exists. If it doesn't it will still download to the default folder which is Downloads. </p>\n"}], "owner": {"reputation": 47, "user_id": 9525053, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oYZv1HuAhD0/AAAAAAAAAAI/AAAAAAAAAEU/5rzQ6zRYVOI/photo.jpg?sz=128", "display_name": "AnumShk", "link": "https://stackoverflow.com/users/9525053/anumshk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1521580795, "creation_date": 1521578802, "question_id": 49393815, "link": "https://stackoverflow.com/questions/49393815/downloading-filesvideo-audio-image-docx-etc-into-tmp-folder-through-protrac", "title": "Downloading files(video, audio, image, docx etc) into tmp folder through Protractor", "body": "<p>The scenario is, when the test cases are run, e2e project creates a tmp folder which contain mirror image of actual project(starts execution from tmp). I need to download files automatically in to this tmp folder. For this the default directory setting have been added in configuration file but after click on link, image is not going into tmp folder after downloading. It gets download into my desktop download folder.\nDon't know its an rights issue for writing in tmp or something else\nFurther need some way to automatically download file without click on any link.</p>\n"}]