[{"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 1, "creation_date": 1553731479, "post_id": 55388239, "comment_id": 97498334, "body": "You have the <code>i</code> and <code>j</code> variables in your <code>ngFor</code> loops; pass those into the cell clicked function, too. That way, you know the &quot;coordinates&quot; of the cell."}, {"owner": {"reputation": 1517, "user_id": 3179070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z7YIM.png?s=128&g=1", "display_name": "javapedia.net", "link": "https://stackoverflow.com/users/3179070/javapedia-net"}, "reply_to_user": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 0, "creation_date": 1553732302, "post_id": 55388239, "comment_id": 97498541, "body": "yes, that will help, just seeing if there is any straight forward way."}], "answers": [{"comments": [{"owner": {"reputation": 1517, "user_id": 3179070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z7YIM.png?s=128&g=1", "display_name": "javapedia.net", "link": "https://stackoverflow.com/users/3179070/javapedia-net"}, "edited": false, "score": 0, "creation_date": 1553734668, "post_id": 55388403, "comment_id": 97499050, "body": "Yes, this is R Richards&#39;s suggestion as well. thanks"}], "tags": [], "owner": {"reputation": 4617, "user_id": 6600549, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CeZTt.png?s=128&g=1", "display_name": "George C.", "link": "https://stackoverflow.com/users/6600549/george-c"}, "is_accepted": true, "score": 1, "last_activity_date": 1553735254, "last_edit_date": 1553735254, "creation_date": 1553732483, "answer_id": 55388403, "question_id": 55388239, "link": "https://stackoverflow.com/questions/55388239/angular-how-to-find-which-element-in-querylistelementref-is-clicked/55388403#55388403", "title": "Angular how to find which element in QueryList&lt;ElementRef&gt; is clicked", "body": "<pre><code>&lt;table&gt;\n    &lt;tr *ngFor=\"let i of Arr\"&gt;\n      &lt;ng-container *ngFor=\"let j of Arr\"&gt;\n\n      &lt;td  #tdID (click)=\"cellClicked(tdID, i, j)\"&gt;\n\n      &lt;/td&gt;\n      &lt;/ng-container&gt;\n\n    &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>In you .ts file</p>\n\n<pre><code>cellClicked(tdID, i, j) {\n   console.log(tdID, i, j)\n}\n</code></pre>\n"}], "owner": {"reputation": 1517, "user_id": 3179070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z7YIM.png?s=128&g=1", "display_name": "javapedia.net", "link": "https://stackoverflow.com/users/3179070/javapedia-net"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 712, "favorite_count": 0, "accepted_answer_id": 55388403, "answer_count": 1, "score": 0, "last_activity_date": 1600326912, "creation_date": 1553731098, "last_edit_date": 1600326912, "question_id": 55388239, "link": "https://stackoverflow.com/questions/55388239/angular-how-to-find-which-element-in-querylistelementref-is-clicked", "title": "Angular how to find which element in QueryList&lt;ElementRef&gt; is clicked", "body": "<p>I have ElmentRef(QueryList) of set of Table cells (td html elements-dynamically created) using ViewChildren. I debugged and have the element set available.</p>\n<p>When I click on a particular td html element I call a function and in that function I need to find which element in ElementRef(QueryList) is clicked. How can I do this?</p>\n<p>component.html</p>\n<pre><code>&lt;table&gt;\n\n    &lt;tr *ngFor=&quot;let i of Arr&quot;&gt;\n      &lt;ng-container *ngFor=&quot;let j of Arr&quot;&gt;\n      \n      &lt;td  #tdID (click)=&quot;cellClicked(tdID)&quot;&gt;\n       \n      &lt;/td&gt;\n      &lt;/ng-container&gt;\n    \n    &lt;/tr&gt;\n    &lt;/table&gt;\n</code></pre>\n<p>component.ts</p>\n<pre><code>Arr =[1,2,3];\n @ViewChildren('tdID') divs:QueryList&lt;ElementRef&gt;;\n\ncellClicked(cell) {\n       console.log(&quot;Cell clicked&quot;+cell);\n//Help find here which element in the divs QueryList matches &quot;cell&quot;     \n\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 614, "user_id": 9444169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50367348fe5cd6c4e26034a0543dda6e?s=128&d=identicon&r=PG&f=1", "display_name": "vndpal", "link": "https://stackoverflow.com/users/9444169/vndpal"}, "is_accepted": false, "score": 1, "last_activity_date": 1562742698, "creation_date": 1562742698, "answer_id": 56965240, "question_id": 55387624, "link": "https://stackoverflow.com/questions/55387624/how-to-rerender-multiple-datatables-with-typescript/56965240#56965240", "title": "How to rerender multiple datatables with typescript?", "body": "<p>By adding <code>destroy:true</code> in <code>datatable options</code> has solved my problem.\nInside your <code>ngOnInit()</code></p>\n\n<pre><code>ngOnInit(): void {\n    this.dtTrigger[\"new\"] = new Subject&lt;any&gt;();\n    this.dtOptions['new'] = {\n      pagingType: 'full_numbers',\n      language: this.listas.dtEspanol,\n      searching: false,\n      destroy:true //Add to allow the datatable to destroy\n    };\n    this.listaClaveProdServ = [];\n    this.listaClaveUnidad = [];\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 899, "user_id": 2961407, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/HW7Pi.jpg?s=128&g=1", "display_name": "Eric Soyke", "link": "https://stackoverflow.com/users/2961407/eric-soyke"}, "is_accepted": false, "score": 2, "last_activity_date": 1582818638, "creation_date": 1582818638, "answer_id": 60437008, "question_id": 55387624, "link": "https://stackoverflow.com/questions/55387624/how-to-rerender-multiple-datatables-with-typescript/60437008#60437008", "title": "How to rerender multiple datatables with typescript?", "body": "<p>I define separate triggers on each table:</p>\n\n<pre><code>&lt;table #table1 datatable [dtOptions]=\"dtOptions\" [dtTrigger]=\"dtTrigger1\"&gt;...\n\n&lt;table #table2 datatable [dtOptions]=\"dtOptions\" [dtTrigger]=\"dtTrigger2\"&gt;...\n</code></pre>\n\n<p>Then rerender like so:</p>\n\n<pre><code>  dtTrigger1: Subject&lt;any&gt; = new Subject();\n  dtTrigger2: Subject&lt;any&gt; = new Subject();\n\n  rerender(): void {     \n    this.dtElements.forEach((dtElement: DataTableDirective) =&gt; {\n      if(dtElement.dtInstance)\n        dtElement.dtInstance.then((dtInstance: DataTables.Api) =&gt; {\n          dtInstance.destroy();          \n      });\n    });\n    this.dtTrigger1.next(); \n    this.dtTrigger2.next();    \n  }\n</code></pre>\n\n<p>Profit!</p>\n"}], "owner": {"reputation": 41, "user_id": 5590507, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207311029948995/picture?type=large", "display_name": "Wero Lopez", "link": "https://stackoverflow.com/users/5590507/wero-lopez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1830, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1582818638, "creation_date": 1553726785, "last_edit_date": 1553752935, "question_id": 55387624, "link": "https://stackoverflow.com/questions/55387624/how-to-rerender-multiple-datatables-with-typescript", "title": "How to rerender multiple datatables with typescript?", "body": "<p>I'm using typescript in angular 7, I want to have two data tables in one page, and I want a rerender method for each one so I can use a search bar, I know data tables already have a search bar, but I need to assign the data arrays in each search because the data's have thousand of rows that make the data tables ultra slow, so with a search I filter the array making it faster.</p>\n\n<p>I already know how to rerender if I have one table, using dtElement, dtInstance.destroy(); and dtTrigger.next(); but I can't make it work using two tables. I found this code in a forum but gives me this error, and I don't know what to do because I'm not using JQuery: DataTables warning: table id=tablaClaveProdServ - Cannot reinitialize DataTable. For more information about this error, please see <a href=\"http://datatables.net/tn/3\" rel=\"nofollow noreferrer\">http://datatables.net/tn/3</a></p>\n\n<p>This is table 1</p>\n\n<pre><code>&lt;input type=\"text\" class=\"form-control\" placeholder=\"Busque una clave del catalogo SAT\" (change)=\"buscarClaveProdServ()\" [(ngModel)]=\"busquedaClaveProdServ\"&gt;         \n&lt;div class=\"table-responsive table-wrapper-scroll-y\"&gt;\n    &lt;table id=\"tablaClaveProdServ\" datatable [dtOptions]=\"dtOptions['new']\" [dtTrigger]=\"dtTrigger['new']\" class=\"table table-hover\"&gt;\n        &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;th scope=\"col\"&gt;Clave&lt;/th&gt;\n                &lt;th scope=\"col\"&gt;Descripci\u00f3n&lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;   \n            &lt;tr class=\"pointer\" *ngFor=\"let dato of listaClaveProdServ;\"&gt;\n                &lt;td scope=\"col\"&gt;{{dato.clave}}&lt;/td&gt;\n                &lt;td scope=\"col\"&gt;{{dato.descripcion}}&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n&lt;/div&gt; \n</code></pre>\n\n<p>This is table 2 (almost same table, changes the data array)</p>\n\n<pre><code>&lt;input type=\"text\" class=\"form-control\" placeholder=\"Busque una clave del catalogo SAT\" (change)=\"buscarClaveUnidades()\" [(ngModel)]=\"busquedaClaveUnidad\"&gt;     \n&lt;div class=\"table-responsive table-wrapper-scroll-y\"&gt;\n    &lt;table id=\"tablaClaveUnidad\" datatable [dtOptions]=\"dtOptions['new']\" [dtTrigger]=\"dtTrigger['new']\" class=\"table table-hover\"&gt;\n        &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;th scope=\"col\"&gt;Clave&lt;/th&gt;\n                &lt;th scope=\"col\"&gt;Descripci\u00f3n&lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;   \n            &lt;tr class=\"pointer\" *ngFor=\"let dato of listaClaveUnidades;\"&gt;\n                &lt;td scope=\"col\"&gt;{{dato.clave}}&lt;/td&gt;\n                &lt;td scope=\"col\"&gt;{{dato.descripcion}}&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n&lt;/div&gt; \n</code></pre>\n\n<p>This is my typescript file</p>\n\n<pre><code>export class FrmCatRegistroProductoComponent implements AfterViewInit, OnDestroy, OnInit {\n\n  //data arrays\n  listaClaveProdServ: Array&lt;GenericModel&gt;;\n  listaClaveUnidad: Array&lt;GenericModel&gt;;\n\n  //words to search\n  busquedaClaveProdServ:string;\n  busquedaClaveUnidad:string;\n\n  @ViewChildren(DataTableDirective)\n  dtElements: QueryList&lt;DataTableDirective&gt;;\n  dtOptions: DataTables.Settings[] = [];\n  dtTrigger: Subject&lt;any&gt;[] = [];\n\n  constructor(\n    private listas: GenericList) {\n  }    \n\n  ngOnInit(): void {\n    this.dtTrigger[\"new\"] = new Subject&lt;any&gt;();\n    this.dtOptions['new'] = {\n      pagingType: 'full_numbers',\n      language: this.listas.dtEspanol,\n      searching: false\n    };\n    this.listaClaveProdServ = [];\n    this.listaClaveUnidad = [];\n  }\n\n  ngAfterViewInit(): void {\n      this.dtTrigger['new'].next();    \n  }\n  ngOnDestroy(): void {\n      this.dtTrigger['new'].unsubscribe();    \n  }\n  rerender():void{\n    this.dtElements.forEach((dtElement: DataTableDirective) =&gt; {\n      dtElement.dtInstance.then((dtInstance: DataTables.Api) =&gt; {\n        dtInstance.destroy();\n        this.dtTrigger['new'].next();    \n      });\n    });\n  }\n\n  //the search methods\n  buscarClaveProdServ():void{\n    this.listaClaveProdServ = this.listas.ClaveProductoServicio.filter(o =&gt; o.descripcion.includes(this.busquedaClaveProdServ));\n    this.rerender();\n  }\n  buscarClaveUnidades():void{\n    this.listaClaveUnidad = this.listas.ClaveUnidad.filter(o =&gt; o.descripcion.includes(this.busquedaClaveUnidad));\n    this.rerender();\n  }\n}\n</code></pre>\n\n<p>I also tried sourrounded dtTrigger with setTimeout(()=>{...}); unsuccessfully.</p>\n\n<p>Hope someone can help me, very thanks if you read this far.</p>\n"}, {"tags": ["javascript", "node.js", "angular", "typescript", "npm"], "answers": [{"comments": [{"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1553726758, "post_id": 55387544, "comment_id": 97497019, "body": "Just double checked - AFAIK it&#39;s in the <code>compilerOptions</code> section ...?"}, {"owner": {"reputation": 158, "user_id": 4337953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e50f03ca522ac7a7325b2a530636eee6?s=128&d=identicon&r=PG", "display_name": "webpopular.net", "link": "https://stackoverflow.com/users/4337953/webpopular-net"}, "reply_to_user": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1553798098, "post_id": 55387544, "comment_id": 97529783, "body": "Did you not look at the sample config object?, it is in the compilerOptions section"}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1553798568, "post_id": 55387544, "comment_id": 97530034, "body": "<a href=\"https://github.com/fireflysemantics/validator/blob/master/tsconfig.json\" rel=\"nofollow noreferrer\">This is the config I&#39;m converting</a>.  I first created a minimal MVCE in order to make sure I had something that works.  Now I&#39;m trying to apply that to a different project, and it&#39;s not working ..."}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1553798591, "post_id": 55387544, "comment_id": 97530047, "body": "Did you try cloning the project to see if it works on your end?  You&#39;ll notice in the previous answer that I linked that we had to remove the glob patterns to get it to work."}], "tags": [], "owner": {"reputation": 158, "user_id": 4337953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e50f03ca522ac7a7325b2a530636eee6?s=128&d=identicon&r=PG", "display_name": "webpopular.net", "link": "https://stackoverflow.com/users/4337953/webpopular-net"}, "is_accepted": false, "score": -1, "last_activity_date": 1553798308, "last_edit_date": 1553798308, "creation_date": 1553726270, "answer_id": 55387544, "question_id": 55387238, "link": "https://stackoverflow.com/questions/55387238/trouble-converting-project-to-typescript-paths/55387544#55387544", "title": "Trouble converting project to Typescript paths", "body": "<p>Add your paths property to the compilerOptions in the tsconfig file.</p>\n\n<pre><code>  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"outDir\": \"./dist/out-tsc\",\n    \"sourceMap\": true,\n    \"declaration\": false,\n    \"moduleResolution\": \"node\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ],\n    \"lib\": [\n      \"es2017\",\n      \"dom\"\n    ],\n    \"paths\": {      \n      \"@app/*\": [\n        \"./app/*\"\n      ]\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1553798308, "creation_date": 1553724627, "last_edit_date": 1553784233, "question_id": 55387238, "link": "https://stackoverflow.com/questions/55387238/trouble-converting-project-to-typescript-paths", "title": "Trouble converting project to Typescript paths", "body": "<p><a href=\"https://stackoverflow.com/questions/55383929/typescript-paths-not-resolving\">So I asked this question earlier today on how to use paths</a>.</p>\n\n<p>Now I'm trying to convert <a href=\"https://github.com/fireflysemantics/validator\" rel=\"nofollow noreferrer\">this project</a> using that approach.</p>\n\n<p>So I first clone it:</p>\n\n<pre><code>git clone git@github.com:fireflysemantics/validator.git\n</code></pre>\n\n<p>Then edit the <code>paths</code> setting so it looks like this:</p>\n\n<pre><code>\"baseUrl\": \"./\",                          /* Base directory to resolve non-absolute module names. */\n\"paths\": {\n  \"@fs\": [\"./src\"], \n  \"@test\": [\"./test\"]\n},                                        /* \n</code></pre>\n\n<p>Then I tried editing the <code>src/container/error/index.ts</code> so that it looks like this:</p>\n\n<pre><code>export { ObjectErrors } from \"@fs/container/error/ObjectErrors\";\nexport { ValidationError } from \"./ValidationError\";\n</code></pre>\n\n<p>When I compile Typescript still generates this error:</p>\n\n<blockquote>\n  <p>src/container/error/index.ts:1:30 - error TS2307: Cannot find module '@fs/container/error/ObjectErrors'.</p>\n</blockquote>\n\n<p>1 export { ObjectErrors } from \"@fs/container/error/ObjectErrors\";\n                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</p>\n\n<p>Thoughts?</p>\n\n<h2>Typescript Github Issue</h2>\n\n<p><a href=\"https://github.com/Microsoft/TypeScript/issues/30619\" rel=\"nofollow noreferrer\">Filed an Issue with Typescript here</a></p>\n"}, {"tags": ["typescript", "ionic3", "es6-promise", "angular-promise"], "answers": [{"comments": [{"owner": {"reputation": 4130, "user_id": 205292, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/uwYjh.jpg?s=128&g=1", "display_name": "MikeTheReader", "link": "https://stackoverflow.com/users/205292/mikethereader"}, "reply_to_user": {"reputation": 3492, "user_id": 4983589, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/610eb31d22385e4687f5f50636ed904e?s=128&d=identicon&r=PG&f=1", "display_name": "Sireini", "link": "https://stackoverflow.com/users/4983589/sireini"}, "edited": false, "score": 0, "creation_date": 1553882522, "post_id": 55387554, "comment_id": 97565418, "body": "Excellent. Let me know if helps."}], "tags": [], "owner": {"reputation": 4130, "user_id": 205292, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/uwYjh.jpg?s=128&g=1", "display_name": "MikeTheReader", "link": "https://stackoverflow.com/users/205292/mikethereader"}, "is_accepted": true, "score": 1, "last_activity_date": 1553726367, "creation_date": 1553726367, "answer_id": 55387554, "question_id": 55387002, "link": "https://stackoverflow.com/questions/55387002/promise-resolved-data-is-not-accesable/55387554#55387554", "title": "Promise resolved data is not accesable", "body": "<p>So, I think the main issue that you're running into is that you're calling <code>resolve(restaurants)</code> inside the <code>restaurants.map</code> loop. This means that on the first iteration of the loop, you're going to resolve the promise. Now if you're loop is small enough and the processing time is small enough for each of the iterations, you might not really notice it as the loop will continue and things will get populated, but any \"point in time\" investigation (such as breakpoints) will reveal what you're seeing -- that not all the restaurants have been processed.</p>\n\n<p>There are a couple of other things that I think might help, too. Not being familiar with the APIs you're using there or the environment you're working in, I can't be 100% sure. With both <code>this.locationService.getUserLocation</code> and <code>this.googleMmapService.initGoogleMapsApi</code> they look like operations that only need to happen once (not for each instance of the <code>restaurants</code> loop). Can you pull those out of the <code>restaurants.map</code> loop?</p>\n\n<p>Also, changing this to an <code>async</code> function may make it easier to read since you have that multiple cascade of <code>then</code>s. So, in the end, something like this:</p>\n\n<pre><code>async function calculateDistance(restaurants: Array&lt;Restaurant&gt;): Promise&lt;Array&lt;Restaurant&gt;&gt; {\n    await this.locationService.getUserLocation();\n    await this.googlemapService.initGoogleMapsApi();\n    restaurants.map((restaurant) =&gt; {\n        const restaurantLocation: LatLng = new LatLng({\n            lat: restaurant['Restaurant']['Lat'],\n            lng: restaurant['Restaurant']['Long']\n        });\n\n        const distance = this.googlemapService.computeDistanceBetween(\n            this.locationService.location, restaurantLocation\n        );\n        restaurant['Restaurant']['Distance'] = distance;\n        // restaurantDistances.push(restaurant);\n        console.log(restaurants, 'restMap', restaurant, distance);\n    });\n    return restaurants;\n}\n</code></pre>\n\n<p>This is written \"off-the-cuff\" so can't say it will function as-is, but should give an idea.</p>\n"}], "owner": {"reputation": 3492, "user_id": 4983589, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/610eb31d22385e4687f5f50636ed904e?s=128&d=identicon&r=PG&f=1", "display_name": "Sireini", "link": "https://stackoverflow.com/users/4983589/sireini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 55387554, "answer_count": 1, "score": 0, "last_activity_date": 1553726367, "creation_date": 1553723384, "question_id": 55387002, "link": "https://stackoverflow.com/questions/55387002/promise-resolved-data-is-not-accesable", "title": "Promise resolved data is not accesable", "body": "<p>First of all would like to explain what I am trying to achieve. I fetch restaurants from the database, after that I add calculated distance from user position and restaurant position. Where I add this as property to the restaurant object. Then I would like to sort my results based on that distance from nearby to far away.</p>\n\n<p>But the promise result(restaurant with distance) does not contain the distance.</p>\n\n<p>Here is my code how I have tried, the console logs returns me the array WITH distance but when I set an breakpoint in the chrome debugger I am not able to see that property.</p>\n\n<p>This is the promise <code>calculateDistance function</code>:</p>\n\n<pre><code> calculateDistance(restaurants: Array&lt;Restaurant&gt;): Promise&lt;Array&lt;Restaurant&gt;&gt; {\n    const promise = new Promise&lt;any&gt;((resolve, reject) =&gt; {\n        // const restaurantDistances = [];\n\n        restaurants.map((restaurant) =&gt; {\n            const restaurantLocation: LatLng = new LatLng({\n                lat: restaurant['Restaurant']['Lat'],\n                lng: restaurant['Restaurant']['Long']\n            });\n\n            this.locationService.getUserLocation().then(() =&gt; {\n                this.googlemapService.initGoogleMapsApi().then(() =&gt; {\n                    const distance = this.googlemapService.computeDistanceBetween(this.locationService.location, restaurantLocation);\n                    restaurant['Restaurant']['Distance'] = distance;\n                    // restaurantDistances.push(restaurant);\n                    console.log(restaurants, 'restMap', restaurant, distance);\n                    resolve(restaurants);\n                });\n            }).catch( error =&gt; {\n                console.log('error = ', error);\n            });\n        });\n    });\n    return promise;\n}\n</code></pre>\n\n<p>this is inside the success function:</p>\n\n<pre><code>this.calculateDistance(restaurants).then((restaurantsDist) =&gt; {\n  console.log('after Calc distance', restaurantsDist, restaurants);\n  this.determinInstanceStorage(fetchMethodName, restaurantsDist, resolve);\n});\n</code></pre>\n\n<p>Can Somebody help me out, I resolve the result in a <code>map</code> method maybe this is causing the problem?</p>\n"}, {"tags": ["typescript", "tslint"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 2, "creation_date": 1553722940, "post_id": 55386890, "comment_id": 97495732, "body": "you should really debug your code. I have the feeling that at runtime value is actually a string not a number. :)"}, {"owner": {"reputation": 3262, "user_id": 597849, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/86dddbd3d8a3c3f370381dd51611077e?s=128&d=identicon&r=PG&f=1", "display_name": "Turnsole", "link": "https://stackoverflow.com/users/597849/turnsole"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1553722997, "post_id": 55386890, "comment_id": 97495740, "body": "But the field is specified as <code>number</code>, do they just get switched willy-nilly at runtime? O_O"}, {"owner": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "edited": false, "score": 2, "creation_date": 1553723053, "post_id": 55386890, "comment_id": 97495761, "body": "TypeScript types are ultimately only assertions. If the value comes from an external or non-type-checked source, you still have to verify that it&#39;s actually the type it says it is, or make sure to convert it before assigning it."}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1553723080, "post_id": 55386890, "comment_id": 97495773, "body": "Type hints are just that, <i>hints</i>. They don&#39;t enforce the type at run time. Depending on how the rest of your code generates an instance of <code>Model</code>, it could very well be something other than a <code>number</code>."}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1553723476, "post_id": 55386890, "comment_id": 97495914, "body": "To be more specific, if the object implementing <code>Model</code> comes from a result of operation declared to return <code>any</code>, for example <code>JSON.parse()</code>, then it could be <code>any</code>thing."}, {"owner": {"reputation": 1512, "user_id": 3309799, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/bd1613942a9507ec9e96773d70362378?s=128&d=identicon&r=PG", "display_name": "Chris Neve", "link": "https://stackoverflow.com/users/3309799/chris-neve"}, "edited": false, "score": 1, "creation_date": 1553723747, "post_id": 55386890, "comment_id": 97496036, "body": "What toskv said. The best way to do it is indeed with the === operator (== is considered bad practice). And if at runtime, the value is <i>indeed</i> a number, there&#39;s no reason for that not to work. If it&#39;s a string, on the other hand (which seems to be the case), then the problem is when the field is assigned a value"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 1, "creation_date": 1553727627, "post_id": 55386890, "comment_id": 97497301, "body": "thanks to everyone for taking over :) In the end everything in typescript gets compiled into javascript, the type checks are only at build time to make sure your code doesn&#39;t do anything that it should. At runtime all bets are off and you&#39;re still in javascript land. You should check the value you get at runtime and adjust your typing accordingly. Because if you have a server sending you a string and you treat it as a value your typing of it is wrong. :)"}], "answers": [{"tags": [], "owner": {"reputation": 1651, "user_id": 1830407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/72FXW.jpg?s=128&g=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/1830407/josh"}, "is_accepted": true, "score": 1, "last_activity_date": 1554378661, "creation_date": 1554378661, "answer_id": 55515318, "question_id": 55386890, "link": "https://stackoverflow.com/questions/55386890/whats-the-correct-way-to-compare-a-typed-objects-field-to-a-primitive-in-types/55515318#55515318", "title": "What&#39;s the correct way to compare a typed object&#39;s field to a primitive in Typescript?", "body": "<p>Alternately, tell TSLint to stop checking for <code>==</code>: <a href=\"https://palantir.github.io/tslint/usage/configuration/\" rel=\"nofollow noreferrer\">https://palantir.github.io/tslint/usage/configuration/</a></p>\n\n<pre><code>// tslint.json\n{\n    \"rules\": {\n        \"triple-equals\": false\n    }\n}\n</code></pre>\n\n<p><a href=\"https://palantir.github.io/tslint/rules/triple-equals/\" rel=\"nofollow noreferrer\">https://palantir.github.io/tslint/rules/triple-equals/</a></p>\n\n<p>The comments on the original post are spot on. Although you've declared in TypeScript that the <code>value</code> properties are always <code>number</code>s, it seems wherever you're taking them from is passing them as <code>string</code>s. One of the following must be true:</p>\n\n<ul>\n<li>What you've declared as the typings are incorrect; you should instead say <code>value: string</code></li>\n<li>What you've declared as the typings should be correct, but something is erroneously giving you a <code>string</code></li>\n</ul>\n\n<p>TypeScript is just a collection of development-time hints. It has no bearing on what happens at runtime.</p>\n"}], "owner": {"reputation": 3262, "user_id": 597849, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/86dddbd3d8a3c3f370381dd51611077e?s=128&d=identicon&r=PG&f=1", "display_name": "Turnsole", "link": "https://stackoverflow.com/users/597849/turnsole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 55515318, "answer_count": 1, "score": 0, "last_activity_date": 1554378661, "creation_date": 1553722799, "question_id": 55386890, "link": "https://stackoverflow.com/questions/55386890/whats-the-correct-way-to-compare-a-typed-objects-field-to-a-primitive-in-types", "title": "What&#39;s the correct way to compare a typed object&#39;s field to a primitive in Typescript?", "body": "<p>If you have a typed object's field and wish to compare it to a primitive, say to <code>1</code> or <code>ABCD</code>, what is the correct way to do that? </p>\n\n<p>Here's an example. </p>\n\n<pre><code>interface Model {\n  __typename: \"floors\";\n  value: number;\n  formattedValue?: string;\n}\n</code></pre>\n\n<p>This comparison gives me the answer I'm looking for, but tslint says <code>== should be ===</code>. </p>\n\n<pre><code>if (model.value == 1) {\n     return true;\n}\n</code></pre>\n\n<p>This does not give me the answer I'm looking for. It does not return true, even though <code>value</code> is 1. </p>\n\n<pre><code>if (model.value === 1) {\n     return true;\n}\n</code></pre>\n\n<p>How can I do this comparison without offending tslint? </p>\n\n<p>The only way I found was to do this was: </p>\n\n<pre><code>if (Number(value) === 1) {\n     return true;\n}\n</code></pre>\n\n<p>... but creating a Number just to do a comparison feels wrong. </p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": true, "score": 9, "last_activity_date": 1553725806, "creation_date": 1553725806, "answer_id": 55387456, "question_id": 55386842, "link": "https://stackoverflow.com/questions/55386842/typescript-copying-only-function-arguments-and-not-return-type/55387456#55387456", "title": "Typescript copying only function arguments and not return type", "body": "<p>There's built-in <a href=\"https://github.com/Microsoft/TypeScript/blob/master/lib/lib.es5.d.ts#L1474\" rel=\"noreferrer\">Parameters</a> type</p>\n\n<pre><code>declare function foo(a: number, b: string): number;\n\ntype fooParameters = Parameters&lt;typeof foo&gt;;\n\ndeclare const bar: (...parameters: fooParameters) =&gt; void;\n// inferred as const bar: (a: number, b: string) =&gt; void \n</code></pre>\n"}], "owner": {"reputation": 80557, "user_id": 578895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d8cf27059d3e36cdb21e26d5e1defe8c?s=128&d=identicon&r=PG", "display_name": "Mark Kahn", "link": "https://stackoverflow.com/users/578895/mark-kahn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 760, "favorite_count": 2, "accepted_answer_id": 55387456, "answer_count": 1, "score": 4, "last_activity_date": 1553725806, "creation_date": 1553722629, "question_id": 55386842, "link": "https://stackoverflow.com/questions/55386842/typescript-copying-only-function-arguments-and-not-return-type", "title": "Typescript copying only function arguments and not return type", "body": "<p>I have some util methods and I'm wondering if there's a way to copy arguments from one method to another.  I was playing around with <code>typeof</code> and trying to type the 2nd function that way but I can't quite figure it out.</p>\n\n<pre><code>declare function foo(a: number, b: string): number;\n</code></pre>\n\n<p>now I want a type <code>bar</code> to have <code>foo</code>'s arguments, but not the return type, for example let's say it calls foo but doesn't return anything:</p>\n\n<pre><code>const bar = (...args) =&gt; { foo(...args); }\n</code></pre>\n\n<p>Now I can declare <code>bar</code> to have the exact same type as <code>foo</code>:</p>\n\n<pre><code>const bar: typeof foo = (...args) =&gt; { foo(...args); }\n</code></pre>\n\n<p>but the return type doesn't match now.  So how do I either:</p>\n\n<ul>\n<li>Just copy the argument signature</li>\n<li>Change the return type I get from <code>typeof foo</code></li>\n</ul>\n"}, {"tags": ["javascript", "node.js", "git", "typescript", "npm"], "comments": [{"owner": {"reputation": 1777, "user_id": 780027, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ea69342f03261c186e20027e7e7894f9?s=128&d=identicon&r=PG", "display_name": "qballer", "link": "https://stackoverflow.com/users/780027/qballer"}, "edited": false, "score": 0, "creation_date": 1553727639, "post_id": 55386688, "comment_id": 97497305, "body": "This was introduced in npm version 5. Which version are you using?"}], "answers": [{"tags": [], "owner": {"reputation": 2844, "user_id": 10757200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/130077c6c2be1eb0e8175b1c7ce3e36b?s=128&d=identicon&r=PG&f=1", "display_name": "hdorgeval", "link": "https://stackoverflow.com/users/10757200/hdorgeval"}, "is_accepted": false, "score": 1, "last_activity_date": 1553728089, "creation_date": 1553728089, "answer_id": 55387842, "question_id": 55386688, "link": "https://stackoverflow.com/questions/55386688/triggering-prepare-on-npm-install/55387842#55387842", "title": "Triggering Prepare on NPM Install", "body": "<p>The <code>prepare</code> script is not intended to be executed by package consumers, but only by the package owner.</p>\n\n<p>This means you cannot execute the <code>prepare</code> script of any third-party package. </p>\n\n<p>Create a <code>prepare</code> script, that is identical to the third-party package, in <strong>your</strong> package.json , but it will be executed only on command <code>npm install</code>, not on command <code>npm install '&lt;git repository#version&gt;'</code></p>\n\n<p>If you publish your own package and you want that <code>prepare</code> script is executed when a consumer installs your package, you have to create a <code>preinstall</code> script instead of a <code>prepare</code> script. </p>\n"}], "owner": {"reputation": 3631, "user_id": 223963, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e60951bafe8df698109fa59f587eead2?s=128&d=identicon&r=PG", "display_name": "Ari", "link": "https://stackoverflow.com/users/223963/ari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 283, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1553728089, "creation_date": 1553721949, "question_id": 55386688, "link": "https://stackoverflow.com/questions/55386688/triggering-prepare-on-npm-install", "title": "Triggering Prepare on NPM Install", "body": "<p>I am installing a typescript module via git. This module has a <code>package.json</code> file that includes a <code>prepare</code> script in its scripts section. However, it appears the <code>prepare</code> script is <strong>not</strong> executed on <code>npm install &lt;git repository#version&gt;</code>.</p>\n\n<p>How can I have the <code>prepare</code> script executed on <code>npm install</code> via the git repository?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "edited": false, "score": 0, "creation_date": 1553722134, "post_id": 55386617, "comment_id": 97495434, "body": "Is <code>getInterestsForPerson</code> supposed to return a single <code>interest</code> or an array? Also, a side note: convention in TypeScript is for type names to be capitalized (e.g. <code>Interest</code>)"}, {"owner": {"reputation": 33, "user_id": 880927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb712d8df4080990e04ebddf191ccc3c?s=128&d=identicon&r=PG", "display_name": "yaksplat", "link": "https://stackoverflow.com/users/880927/yaksplat"}, "reply_to_user": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "edited": false, "score": 0, "creation_date": 1553722381, "post_id": 55386617, "comment_id": 97495534, "body": "It returns an array of interests.  Thanks for the note on the caps."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8098743"}, "edited": false, "score": 0, "creation_date": 1553722573, "post_id": 55386617, "comment_id": 97495605, "body": "But the observable&#39;s type is <code>Interest</code>, not <code>Interest[]</code>. And you try to apply that object to an array in PeopleComponent."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 880927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb712d8df4080990e04ebddf191ccc3c?s=128&d=identicon&r=PG", "display_name": "yaksplat", "link": "https://stackoverflow.com/users/880927/yaksplat"}, "edited": false, "score": 0, "creation_date": 1553723711, "post_id": 55386851, "comment_id": 97496018, "body": "Thanks!  That did it.  I&#39;m not sure how i missed that.  I&#39;ve been looking at the screen too long..."}], "tags": [], "owner": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "is_accepted": true, "score": 0, "last_activity_date": 1553722671, "creation_date": 1553722671, "answer_id": 55386851, "question_id": 55386617, "link": "https://stackoverflow.com/questions/55386617/property-includes-is-missing-in-type-interest/55386851#55386851", "title": "Property &#39;includes&#39; is missing in type &#39;interest&#39;", "body": "<pre><code>getInterestsForPerson(id: number): Observable&lt;interest&gt;\n</code></pre>\n\n<p>This says that your function returns an observable that emits a single <code>interest</code> object. If it's supposed to be an array, you need to say that instead, along with the other annotations in the function:</p>\n\n<pre><code>getInterestsForPerson(id: number): Observable&lt;interest[]&gt; {\n  const url = `${this.interestUrl}/${id}`;\n  return this.http.get&lt;interest[]&gt;(url).pipe(\n    tap(_ =&gt; this.log(`fetched interests for person id=${id}`)),\n    catchError(this.handleError&lt;interest[]&gt;(`getInterestsForPerson id=${id}`))\n  );\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 880927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb712d8df4080990e04ebddf191ccc3c?s=128&d=identicon&r=PG", "display_name": "yaksplat", "link": "https://stackoverflow.com/users/880927/yaksplat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 55386851, "answer_count": 1, "score": 0, "last_activity_date": 1553722671, "creation_date": 1553721553, "question_id": 55386617, "link": "https://stackoverflow.com/questions/55386617/property-includes-is-missing-in-type-interest", "title": "Property &#39;includes&#39; is missing in type &#39;interest&#39;", "body": "<p>I'm at a loss on this one.  I'm receiving the following error:</p>\n\n<pre><code>ERROR in src/app/People/People.component.ts(38,31): error TS2322: Type 'interest' is not assignable to type 'interest[]'.\nsrc/app/People/People.component.ts(38,31): error TS2322: Type 'interest' is not assignable to type 'interest[]'.\n  Property 'includes' is missing in type 'interest'.\n</code></pre>\n\n<p>I'm pretty new to angular and this is my last bug in this project.</p>\n\n<p>when I comment out the following, ng serve works perfectly.</p>\n\n<pre><code>  getInterestForPerson(id: number): void {\n    console.log(id);\n    this.interestService.getInterestsForPerson(id)\n      .subscribe(interests =&gt; this.interests = interests);\n  }\n</code></pre>\n\n<p>However i can uncomment it while the program is running, it works perfectly.  It seems like it's something on the initialization.</p>\n\n<pre><code>import { Component, Inject, OnInit, HostListener } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Person } from '../Person';\nimport { PersonService } from '../PersonService';\nimport { interest } from '../interest';\nimport { interestService } from '../interestService';\n\n@Component({\n  selector: 'app-people',\n  templateUrl: './people.component.html'\n\n})\nexport class PeopleComponent implements OnInit {\n  people: Person[];\n  interests: interest[];\n  searchText: string = '';\n\n  selectedPerson: Person;\n\n  constructor(private personService: PersonService, private interestService: interestService) { }\n\n  @HostListener('input') oninput() {\n\n  }\n\n  ngOnInit() {\n    this.getPeople();\n  }\n\n  getPeople(): void {\n    this.personService.getPeople()\n      .subscribe(people =&gt; this.people = people);\n  }\n\n  getInterestForPerson(id: number): void {\n    console.log(id);\n    this.interestService.getInterestsForPerson(id)\n      .subscribe(interests =&gt; this.interests = interests);\n  }\n\n  onSelect(person: Person): void {\n    this.selectedPerson = person;\n    this.getInterestForPerson(person.id);\n  }\n\n}\n</code></pre>\n\n<p>Service:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Observable, of } from 'rxjs';\nimport { catchError, map, tap } from 'rxjs/operators';\nimport { MessageService } from './message.service';\n\nimport { interest } from './interest'\n\n\nconst httpOptions = {\n  headers: new HttpHeaders({ 'Content-Type': 'application/json' })\n};\n\n@Injectable({ providedIn: 'root' })\nexport class interestService {\n\n  private interestUrl = 'api/interest';  // URL to web api\n  /** GET interests from the server */\n  constructor(\n    private http: HttpClient,\n    private messageService: MessageService) { }\n\n  /** GET interests from the server */\n  getInterests(): Observable&lt;interest[]&gt; {\n    return this.http.get&lt;interest[]&gt;(this.interestUrl)\n      .pipe(\n        tap(_ =&gt; this.log('fetched interests')),\n        catchError(this.handleError&lt;interest[]&gt;('getInterests', []))\n      );\n  }\n\n  /** GET interests for a person by id. Will 404 if id not found */\n  getInterestsForPerson(id: number): Observable&lt;interest&gt; {\n    const url = `${this.interestUrl}/${id}`;\n    return this.http.get&lt;interest&gt;(url).pipe(\n      tap(_ =&gt; this.log(`fetched interests for person id=${id}`)),\n      catchError(this.handleError&lt;interest&gt;(`getInterestsForPerson id=${id}`))\n    );\n  }\n\n\n  private handleError&lt;T&gt;(operation = 'operation', result?: T) {\n    return (error: any): Observable&lt;T&gt; =&gt; {\n\n      // TODO: send the error to remote logging infrastructure\n      console.error(error); // log to console instead\n\n      // TODO: better job of transforming error for user consumption\n      this.log(`${operation} failed: ${error.message}`);\n\n      // Let the app keep running by returning an empty result.\n      return of(result as T);\n    };\n  }\n\n  /** Log a interestService message with the MessageService */\n  private log(message: string) {\n    this.messageService.add(`interestService: ${message}`);\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1553720971, "post_id": 55386372, "comment_id": 97494864, "body": "You&#39;ve described two problems: 1. &quot;I have data points ... which i want to sort/group by date into arrays,&quot; and 2. &quot;How do calculate the difference between two dates in distinct day-steps...&quot; Keeping in mind the <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem/66378#66378\">XY problem</a>, which of these are you asking about?"}, {"owner": {"reputation": 1971, "user_id": 368657, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/134190f7aeec482ff17a7ad101a37f67?s=128&d=identicon&r=PG", "display_name": "Juarrow", "link": "https://stackoverflow.com/users/368657/juarrow"}, "reply_to_user": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1553721116, "post_id": 55386372, "comment_id": 97494938, "body": "@JordanRunning Well... i asked one question. But i&#39;ll clarify the first problem as background information."}, {"owner": {"reputation": 3803, "user_id": 9968486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32ef70d35b33f8d0451ce07c32bc53be?s=128&d=identicon&r=PG&f=1", "display_name": "SirPilan", "link": "https://stackoverflow.com/users/9968486/sirpilan"}, "edited": false, "score": 0, "creation_date": 1553721816, "post_id": 55386372, "comment_id": 97495265, "body": "Please add an example with desired result - for me its absolutely unclear what you try to accomplish. What is wrong with fraction of days?"}], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 11116977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZpus.jpg?s=128&g=1", "display_name": "Noah B", "link": "https://stackoverflow.com/users/11116977/noah-b"}, "edited": false, "score": 0, "creation_date": 1553721333, "post_id": 55386529, "comment_id": 97495029, "body": "Expanding on this, you should be able to take the result of tmp - diff and use getHours() on that."}], "tags": [], "owner": {"reputation": 1392, "user_id": 2922609, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/JRouJ.png?s=128&g=1", "display_name": "ivanibash", "link": "https://stackoverflow.com/users/2922609/ivanibash"}, "is_accepted": true, "score": 1, "last_activity_date": 1553722015, "last_edit_date": 1553722015, "creation_date": 1553721121, "answer_id": 55386529, "question_id": 55386372, "link": "https://stackoverflow.com/questions/55386372/distinct-1-step-difference-between-two-dates/55386529#55386529", "title": "Distinct 1-Step-Difference between two dates", "body": "<p>If your dates are in milliseconds you can try this. Divide both by (24 * 3600 * 1000) and take the Math.floor() - that will give you the amount of full days. Then simply subtract target result from today result.</p>\n\n<p>So,</p>\n\n<pre><code>mils_in_a_day = 24 * 3600 * 1000\ntoday_in_days = Math.floor(today_in_mils / mils_in_a_day)\ntarget_date_in_days = Math.floor(target_date_in_days / mils_in_a_day)\ndifference_in_days = target_date_in_days - today_in_days\n</code></pre>\n\n<p>Then to sort you can do smth this for each example</p>\n\n<pre><code>results = {}\nresults[difference_in_days] = target_date_in_days\n</code></pre>\n\n<p>and end up with a hash like this</p>\n\n<pre><code>{ \n  '1' : [12356, 123457, 123458], \n  '2' : [234567, 234568, 234569]\n}\n</code></pre>\n\n<p>Where the keys represent the difference in days and the values are the arrays of original timestamps. You can then call <code>sort()</code> on each of the arrays to sort timestamps within days. </p>\n\n<p>I'm sure it's not the most efficient way but that should give you the idea.</p>\n"}], "owner": {"reputation": 1971, "user_id": 368657, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/134190f7aeec482ff17a7ad101a37f67?s=128&d=identicon&r=PG", "display_name": "Juarrow", "link": "https://stackoverflow.com/users/368657/juarrow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 55386529, "answer_count": 1, "score": 0, "last_activity_date": 1553722015, "creation_date": 1553720423, "last_edit_date": 1553721139, "question_id": 55386372, "link": "https://stackoverflow.com/questions/55386372/distinct-1-step-difference-between-two-dates", "title": "Distinct 1-Step-Difference between two dates", "body": "<p><strong>Some Background:</strong></p>\n\n<p>I have data points (current day + 5 days ahead, in 3-hour steps (e.g. 22pm, 1am, 4am, 7am...)) which i want to sort/group by date into arrays (one for each date).</p>\n\n<p>My first attempt was to simply calculate the difference of the two date objects in date like</p>\n\n<p><code>(datapoint.getTime() - today.getTime())/ millisecondsPerDay</code>.\nThat did not work, because i get fractions of days.</p>\n\n<p>Then i went with <code>Math.ceil()</code> and <code>Math.floor()</code> on the results, but that of course (i have been looking at my code for a while, so my brain didn't recognize the flaw then) didn't work, too, because it would put the current day and parts of the next day into the same group (22 pm + 3 hours is not on the same day, though the difference is &lt; 1 day).</p>\n\n<p>Then i did day comparison like</p>\n\n<pre><code>let diff = tmp.getDate() - today.getDate()\n</code></pre>\n\n<p>the problem with that approach is, that when i'm at the end of the month and a datepoint is in the next months, i get (relatively) high negative values which i can't use as array indices (e.g. <code>[0,1,2,4,5,-27]</code>).</p>\n\n<p><strong>The Question</strong></p>\n\n<p>How do calculate the difference between two dates in distinct day-steps while regarding change of month?</p>\n"}, {"tags": ["angular", "typescript", "cheerio"], "comments": [{"owner": {"reputation": 11064, "user_id": 113165, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/V4v2u.jpg?s=128&g=1", "display_name": "Marcel Lamothe", "link": "https://stackoverflow.com/users/113165/marcel-lamothe"}, "edited": false, "score": 0, "creation_date": 1553718563, "post_id": 55385870, "comment_id": 97493715, "body": "Duplicate? <a href=\"https://stackoverflow.com/questions/52580570/adding-cheerio-js-to-an-angular-6-project\" title=\"adding cheerio js to an angular 6 project\">stackoverflow.com/questions/52580570/&hellip;</a>"}, {"owner": {"reputation": 6367, "user_id": 9386929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9bac9557ecb2df1aa89cd5dc5442d0?s=128&d=identicon&r=PG", "display_name": "nircraft", "link": "https://stackoverflow.com/users/9386929/nircraft"}, "edited": false, "score": 0, "creation_date": 1553718979, "post_id": 55385870, "comment_id": 97493879, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/52580570/adding-cheerio-js-to-an-angular-6-project\">Adding Cheerio.js to an Angular 6 project?</a>"}, {"owner": {"reputation": 11, "user_id": 4064343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85e5d8a526fef358558435570181be8b?s=128&d=identicon&r=PG&f=1", "display_name": "Arshaan", "link": "https://stackoverflow.com/users/4064343/arshaan"}, "edited": false, "score": 0, "creation_date": 1553719220, "post_id": 55385870, "comment_id": 97494006, "body": "I have actually tried the above links (they&#39;re the same link) and it doesn&#39;t solve the problem. I updated the bottom of my question to mention that I tried the link MarcelLamothe and nircraft mentioned."}, {"owner": {"reputation": 47898, "user_id": 966023, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/917fcb4327159076f752c0c3c3fddfbb?s=128&d=identicon&r=PG", "display_name": "pguardiario", "link": "https://stackoverflow.com/users/966023/pguardiario"}, "edited": false, "score": 0, "creation_date": 1553728291, "post_id": 55385870, "comment_id": 97497520, "body": "cheerio is a backend library. You probably want jQuery"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4064343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85e5d8a526fef358558435570181be8b?s=128&d=identicon&r=PG&f=1", "display_name": "Arshaan", "link": "https://stackoverflow.com/users/4064343/arshaan"}, "edited": false, "score": 0, "creation_date": 1553720673, "post_id": 55386263, "comment_id": 97494727, "body": "I copied your exact steps, and when I run it, it still gives the first error I mentioned above. This is extremely odd, everything I&#39;m using is up to date."}, {"owner": {"reputation": 11, "user_id": 4064343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85e5d8a526fef358558435570181be8b?s=128&d=identicon&r=PG&f=1", "display_name": "Arshaan", "link": "https://stackoverflow.com/users/4064343/arshaan"}, "edited": false, "score": 0, "creation_date": 1553721607, "post_id": 55386263, "comment_id": 97495156, "body": "I think for now I&#39;ll just have to create my apps on StackBlitz and export them to my local environment. Thanks for whipping this solution up. Also, can I ask how you knew to also npm install <code>events</code> and <code>string_decoder</code> for this to work?"}], "tags": [], "owner": {"reputation": 8732, "user_id": 1874522, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/1BXUD.png?s=128&g=1", "display_name": "peinearydevelopment", "link": "https://stackoverflow.com/users/1874522/peinearydevelopment"}, "is_accepted": false, "score": 0, "last_activity_date": 1553719980, "creation_date": 1553719980, "answer_id": 55386263, "question_id": 55385870, "link": "https://stackoverflow.com/questions/55385870/how-to-use-cheerio-with-angular/55386263#55386263", "title": "How to use Cheerio with Angular?", "body": "<p>I'm not familiar with the <code>cheerio</code> library. I have created a <a href=\"https://stackblitz.com/edit/angular-exhmdn\" rel=\"nofollow noreferrer\">StackBlitz example</a> of how to get this to work though.</p>\n\n<p>The project required me to install a few packages with npm as follows:\n<code>npm install cheerio @types/cheerio events string_decoder</code></p>\n\n<p>Then in the <code>app.component.ts</code> I imported it with: <code>import * as cheerio from 'cheerio';</code> and used it in the ngOnInit method as follows: <code>cheerio.load('&lt;h2 class=\"title\"&gt;Hello world&lt;/h2&gt;').xml();</code></p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 9045906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SDIzw.jpg?s=128&g=1", "display_name": "Lukas B&#252;hler", "link": "https://stackoverflow.com/users/9045906/lukas-b%c3%bchler"}, "is_accepted": false, "score": 3, "last_activity_date": 1618473237, "last_edit_date": 1618473237, "creation_date": 1576148342, "answer_id": 59303076, "question_id": 55385870, "link": "https://stackoverflow.com/questions/55385870/how-to-use-cheerio-with-angular/59303076#59303076", "title": "How to use Cheerio with Angular?", "body": "<p>I also wanted to use cheerio with Angular and just adding the package didn't do the job. The problem was missing NodeJS dependencies.\nCheerio uses some NodeJS Core features which are not automatically in your browser.</p>\n<p>To get it working I had to include some packages, add some lines to the &quot;polyfill.ts&quot; and add something to the &quot;tsconfig.json&quot;</p>\n<h2>My solution:</h2>\n<p>Firstly, I included the following packages with npm:</p>\n<ul>\n<li>stream-browserify</li>\n<li>string_decoder</li>\n<li>events</li>\n<li>buffer</li>\n<li>process</li>\n</ul>\n<p>One-liner:</p>\n<pre><code>npm install stream-browserify string_decoder events buffer process\n</code></pre>\n<p>It is possible that you won't need every one of those packages though.</p>\n<p>Then I added the following lines to &quot;polyfill.ts&quot;:</p>\n<pre><code>// cheerio nodejs emulating imports\nimport * as process from 'process';\nwindow['process'] = process;\n\n(window as any).global = window;\nvar global = global || window;\n\nimport * as bufferModule from &quot;buffer&quot;\nglobal.Buffer = global.Buffer || bufferModule.Buffer;\n</code></pre>\n<p>This is a mixture of solutions to answers for related issues and questions I found. Here they are:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/51837092/9045906\">StackOverflow Answer: angular 6 ERROR ReferenceError: \u201cprocess is not defined\u201d with elasticsearch js</a></li>\n<li><a href=\"https://github.com/aws-amplify/amplify-js/issues/678#issuecomment-389106098\" rel=\"nofollow noreferrer\">GitHub Issue Comment: Uncaught ReferenceError: global is not defined in latest Angular 6 RC #678</a></li>\n<li><a href=\"https://stackoverflow.com/a/50377270/9045906\">StackOverflow Answer: Angular 6 Uncaught ReferenceError: Buffer is not defined</a></li>\n</ul>\n<p>And my last step was adding a path for the stream module in the &quot;tsconfig.json&quot; to map it to the <code>stream-browserify</code> package in <code>node-modules</code>: (As seen in <a href=\"https://stackoverflow.com/a/55788098/9045906\">this answer</a>)</p>\n<p>tsconfig.json:</p>\n<pre><code>{\n  &quot;compilerOptions&quot;: {\n    &quot;paths&quot;: {\n      &quot;stream&quot;: [\n        &quot;node_modules/stream-browserify&quot;\n      ]\n    }\n  }\n}\n</code></pre>\n<p>I edited the &quot;tsconfig.json&quot; at the root (the same directory as the &quot;package.json&quot;).</p>\n<h2>Notes and insights</h2>\n<ul>\n<li>Installing <a href=\"https://github.com/oyyd/cheerio-without-node-native\" rel=\"nofollow noreferrer\"><code>cheerio-without-node-native</code></a> as proposed in <a href=\"https://github.com/cheeriojs/cheerio/issues/1058\" rel=\"nofollow noreferrer\">an issue on the cheerio GitHub</a> did not work for me and I moved away from it since it is now deprecated.</li>\n<li>Installing the <a href=\"https://www.npmjs.com/package/stream\" rel=\"nofollow noreferrer\"><code>stream</code></a> package did not work for me. (Seen in <a href=\"https://github.com/DevExpress/devextreme-angular/issues/776#issuecomment-399147892\" rel=\"nofollow noreferrer\">this issue</a>)</li>\n</ul>\n<h2>Possibly related issues</h2>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/52106505/xml2js-in-angular-6-cant-resolve-stream-and-timers\">xml2js in Angular 6: Can't resolve 'stream' and 'timers'</a></li>\n<li><a href=\"https://github.com/nodejs/readable-stream/issues/237\" rel=\"nofollow noreferrer\">GitHub: nodejs/readable-stream #237</a></li>\n</ul>\n"}], "owner": {"reputation": 11, "user_id": 4064343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85e5d8a526fef358558435570181be8b?s=128&d=identicon&r=PG&f=1", "display_name": "Arshaan", "link": "https://stackoverflow.com/users/4064343/arshaan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1800, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1618473237, "creation_date": 1553718332, "last_edit_date": 1553719377, "question_id": 55385870, "link": "https://stackoverflow.com/questions/55385870/how-to-use-cheerio-with-angular", "title": "How to use Cheerio with Angular?", "body": "<p>I am getting errors on Google Dev Tools's console when I load my Angular website and make a call to a Cheerio method <code>load('&lt;h2 class=\"title\"&gt;Hello world&lt;/h2&gt;');</code> as shown on the Github page.</p>\n\n<p>This is a brand new application, so all I've done is: \n<code>sudo ng new myProject</code>,\n<code>sudo chmod -R 777 myProject/</code>,\n<code>sudo npm install cheerio --save</code>,\n<code>sudo npm install @types/cheerio --save</code>.\nAlso, because I have gotten errors in the TypeScript compilation in the past, I also ran: <code>sudo npm install stream --save</code></p>\n\n<p>Atop my <code>app.component.ts</code> file I call <code>import * as cheerio from 'cheerio';</code> and lastly inside the component:</p>\n\n<pre><code>ngOnInit() {\n  cheerio.load('&lt;h2 class=\"title\"&gt;Hello world&lt;/h2&gt;');\n}\n</code></pre>\n\n<p>Now, when I run <code>ng serve</code>, the exact error message I get is:</p>\n\n<pre><code>inherits_browser.js:5 Uncaught TypeError: Cannot read property 'prototype' of undefined\n    at inherits (inherits_browser.js:5)\n    at Object../node_modules/cheerio/node_modules/parse5/lib/parser/parser_stream.js (parser_stream.js:27)\n    at __webpack_require__ (bootstrap:78)\n    at Object../node_modules/cheerio/node_modules/parse5/lib/index.js (index.js:41)\n    at __webpack_require__ (bootstrap:78)\n    at Object../node_modules/cheerio/lib/parse.js (parse.js:5)\n    at __webpack_require__ (bootstrap:78)\n    at Object../node_modules/cheerio/lib/cheerio.js (cheerio.js:5)\n    at __webpack_require__ (bootstrap:78)\n    at Object../node_modules/cheerio/index.js (index.js:5)\ninherits @ inherits_browser.js:5\n./node_modules/cheerio/node_modules/parse5/lib/parser/parser_stream.js @ parser_stream.js:27\n__webpack_require__ @ bootstrap:78\n./node_modules/cheerio/node_modules/parse5/lib/index.js @ index.js:41\n__webpack_require__ @ bootstrap:78\n./node_modules/cheerio/lib/parse.js @ parse.js:5\n__webpack_require__ @ bootstrap:78\n./node_modules/cheerio/lib/cheerio.js @ cheerio.js:5\n__webpack_require__ @ bootstrap:78\n./node_modules/cheerio/index.js @ index.js:5\n__webpack_require__ @ bootstrap:78\n./src/app/app.component.ts @ main.js:94\n__webpack_require__ @ bootstrap:78\n./src/app/app.module.ts @ app.component.ts:10\n__webpack_require__ @ bootstrap:78\n./src/main.ts @ main.ts:1\n__webpack_require__ @ bootstrap:78\n0 @ main.ts:12\n__webpack_require__ @ bootstrap:78\ncheckDeferredModules @ bootstrap:45\nwebpackJsonpCallback @ bootstrap:32\n(anonymous) @ main.js:1\n</code></pre>\n\n<p>Additionally, if you're going to recommend to instead put <code>import { load } from 'cheerio';</code> atop the file, I have tried this as well, and the same error appears.</p>\n\n<p>These are the versions of my tools (they're all the latest or very close).\nAngular CLI: 7.3.6\nNode: 11.12.0\nOS: darwin x64\nAngular: 7.2.11</p>\n\n<p>Edit: I have tried the solution in <a href=\"https://stackoverflow.com/questions/52580570/adding-cheerio-js-to-an-angular-6-project\">Adding Cheerio.js to an Angular 6 project?</a>, and it did not solve the problem, in fact it added another error in the console: </p>\n\n<pre><code>cheerio.js:5 Uncaught ReferenceError: require is not defined\n    at cheerio.js:5\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1241, "user_id": 710954, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f6ab997142e043460dbef0e37ad9170e?s=128&d=identicon&r=PG", "display_name": "Jon Tan", "link": "https://stackoverflow.com/users/710954/jon-tan"}, "edited": false, "score": 0, "creation_date": 1553719110, "post_id": 55385752, "comment_id": 97493944, "body": "You are the best! Your quick replies were spot on. Thank you!"}], "tags": [], "owner": {"reputation": 3290, "user_id": 9591609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/77PJu.jpg?s=128&g=1", "display_name": "Devansh J", "link": "https://stackoverflow.com/users/9591609/devansh-j"}, "is_accepted": true, "score": 10, "last_activity_date": 1553719132, "last_edit_date": 1592644375, "creation_date": 1553717811, "answer_id": 55385752, "question_id": 55385690, "link": "https://stackoverflow.com/questions/55385690/passing-function-as-parameter-in-typescript-expected-0-arguments-but-got-1-ts/55385752#55385752", "title": "Passing function as parameter in Typescript: Expected 0 arguments, but got 1.ts", "body": "<p>The <code>doSomething</code> type seems incorrect. In the type declaration \u2013 <code>() =&gt; void</code> it takes no arguments, but later you are passing arguments to it.</p>\n<p>For this piece of code following would work, but you would know better what should be the arguments and their types of <code>doSomething</code>. Probably use a interface if you already have an abstraction in your mind.</p>\n<pre><code>function performAction(doSomething: (stuff: { name: string, id: string }) =&gt; void) {\n  doSomething({\n    name: &quot;foo&quot;,\n    id: &quot;bar&quot;\n  });\n}\n</code></pre>\n<p><a href=\"http://www.typescriptlang.org/play/#src=function%20performAction(doSomething%3A%20(stuff%3A%20%7B%20name%3A%20string%2C%20id%3A%20string%20%7D)%20%3D%3E%20void)%20%7B%0D%0A%20%20doSomething(%7B%0D%0A%20%20%20%20name%3A%20%22foo%22%2C%0D%0A%20%20%20%20id%3A%20%22bar%22%0D%0A%20%20%7D)%3B%0D%0A%7D\" rel=\"noreferrer\">Demo</a> for above.</p>\n<p>Also if <code>string</code> in your code is a variable you need to change that because <code>string</code> is reserved for the type. In case you don't what to fix the type of <code>doSomething</code> right now you can use the <code>Function</code> type. <a href=\"http://www.typescriptlang.org/play/#src=function%20performAction(doSomething%3A%20Function)%20%7B%0D%0A%20%20doSomething(%7B%0D%0A%20%20%20%20name%3A%20%22foo%22%2C%0D%0A%20%20%20%20id%3A%20%22bar%22%0D%0A%20%20%7D)%3B%0D%0A%7D\" rel=\"noreferrer\">Demo</a></p>\n<br>\n<h2>Update</h2>\n<p>For your updated question you need to write <code>function performAction(doSomething: (stuff: someType) =&gt; void</code> <a href=\"http://www.typescriptlang.org/play/#src=type%20someType%20%3D%20%7B%0D%0A%20%20name%3A%20string%2C%0D%0A%20%20id%3A%20string%0D%0A%7D%0D%0A%0D%0Afunction%20doSomethingFn(props%3A%20someType)%20%7B%0D%0A%20%20console.log(props.name%20%2B%20%22%20%22%20%2B%20props.id)%3B%0D%0A%7D%0D%0A%0D%0Afunction%20performAction(doSomething%3A%20(stuff%3A%20someType)%20%3D%3E%20void)%20%7B%0D%0A%20%20doSomething(%7B%0D%0A%20%20%20%20name%3A%20%22foo%22%2C%0D%0A%20%20%20%20id%3A%20%22bar%22%0D%0A%20%20%7D)%3B%0D%0A%7D%0D%0A%0D%0AperformAction(doSomethingFn)%3B\" rel=\"noreferrer\">Demo</a></p>\n"}, {"tags": [], "owner": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "is_accepted": false, "score": 3, "last_activity_date": 1553717882, "creation_date": 1553717882, "answer_id": 55385768, "question_id": 55385690, "link": "https://stackoverflow.com/questions/55385690/passing-function-as-parameter-in-typescript-expected-0-arguments-but-got-1-ts/55385768#55385768", "title": "Passing function as parameter in Typescript: Expected 0 arguments, but got 1.ts", "body": "<p>You type doSomething as a function with no arguments: <code>doSomething: () =&gt; void</code>. Make it, dunno, <code>doSomething: (arg: SomeInterface) =&gt; void</code> (SomeInterface being, for example, <code>{name: string; id: string;}</code>).</p>\n"}], "owner": {"reputation": 1241, "user_id": 710954, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f6ab997142e043460dbef0e37ad9170e?s=128&d=identicon&r=PG", "display_name": "Jon Tan", "link": "https://stackoverflow.com/users/710954/jon-tan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10206, "favorite_count": 0, "accepted_answer_id": 55385752, "answer_count": 2, "score": 9, "last_activity_date": 1553719132, "creation_date": 1553717554, "last_edit_date": 1553718731, "question_id": 55385690, "link": "https://stackoverflow.com/questions/55385690/passing-function-as-parameter-in-typescript-expected-0-arguments-but-got-1-ts", "title": "Passing function as parameter in Typescript: Expected 0 arguments, but got 1.ts", "body": "<p>I am trying to pass in this <code>doSomething</code> function into <code>performAction</code>, but the error I'm getting is <code>Expected 0 arguments, but got 1</code></p>\n\n<pre><code>type someType = {\n  name: string,\n  id: string\n}\n\nfunction doSomethingFn(props: someType) {\n  console.log(props.name + \" \" + props.id);\n}\n\nfunction performAction(doSomething: () =&gt; void) {\n  doSomething({\n    name: \"foo\",\n    id: \"bar\"\n  });\n}\n\nperformAction(doSomethingFn);\n</code></pre>\n\n<p>Am I using the proper syntax for Typescript?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 3766, "user_id": 6640803, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Bx5JYGtjy7w/AAAAAAAAAAI/AAAAAAAAABM/np44KmT0STw/photo.jpg?sz=128", "display_name": "Nadhir Falta", "link": "https://stackoverflow.com/users/6640803/nadhir-falta"}, "edited": false, "score": 0, "creation_date": 1553717882, "post_id": 55385677, "comment_id": 97493426, "body": "Did you try using <code>interface</code> ?"}, {"owner": {"reputation": 671, "user_id": 5136485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5010d0a82ee6fb34eb9e9c6648088ed5?s=128&d=identicon&r=PG&f=1", "display_name": "delashum", "link": "https://stackoverflow.com/users/5136485/delashum"}, "reply_to_user": {"reputation": 3766, "user_id": 6640803, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Bx5JYGtjy7w/AAAAAAAAAAI/AAAAAAAAABM/np44KmT0STw/photo.jpg?sz=128", "display_name": "Nadhir Falta", "link": "https://stackoverflow.com/users/6640803/nadhir-falta"}, "edited": false, "score": 0, "creation_date": 1553717934, "post_id": 55385677, "comment_id": 97493451, "body": "What do you mean? Like make my own interface that mirrors their definition? I&#39;d rather not go that route."}, {"owner": {"reputation": 3766, "user_id": 6640803, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Bx5JYGtjy7w/AAAAAAAAAAI/AAAAAAAAABM/np44KmT0STw/photo.jpg?sz=128", "display_name": "Nadhir Falta", "link": "https://stackoverflow.com/users/6640803/nadhir-falta"}, "edited": false, "score": 0, "creation_date": 1553718226, "post_id": 55385677, "comment_id": 97493585, "body": "Why not ? I think that would your best shot, just like you reference non primitive types in typescript."}, {"owner": {"reputation": 671, "user_id": 5136485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5010d0a82ee6fb34eb9e9c6648088ed5?s=128&d=identicon&r=PG&f=1", "display_name": "delashum", "link": "https://stackoverflow.com/users/5136485/delashum"}, "reply_to_user": {"reputation": 3766, "user_id": 6640803, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Bx5JYGtjy7w/AAAAAAAAAAI/AAAAAAAAABM/np44KmT0STw/photo.jpg?sz=128", "display_name": "Nadhir Falta", "link": "https://stackoverflow.com/users/6640803/nadhir-falta"}, "edited": false, "score": 2, "creation_date": 1553718592, "post_id": 55385677, "comment_id": 97493730, "body": "Two reasons. Since This definition comes from a 3rd-party library if I make my interface and their definition changes at some point I will have to update my interface, and will probably forget about it which will cause problems down the road. Also, it seems redundant to have the same definition twice. That&#39;s the reason I asked this question. I know I can make an interface, but I&#39;m looking for another option. Some way to directly reference their definition."}], "answers": [{"comments": [{"owner": {"reputation": 671, "user_id": 5136485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5010d0a82ee6fb34eb9e9c6648088ed5?s=128&d=identicon&r=PG&f=1", "display_name": "delashum", "link": "https://stackoverflow.com/users/5136485/delashum"}, "edited": false, "score": 1, "creation_date": 1553719310, "post_id": 55385997, "comment_id": 97494051, "body": "duuude, this is exactly what I was looking for. thanks! Was able to use <code>Parameters&lt;HttpClient[&#39;post&#39;]&gt;[2]</code>."}], "tags": [], "owner": {"reputation": 2534, "user_id": 10609635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e433b22da80480e4d7d811ceec10430?s=128&d=identicon&r=PG&f=1", "display_name": "SpencerPark", "link": "https://stackoverflow.com/users/10609635/spencerpark"}, "is_accepted": true, "score": 2, "last_activity_date": 1553718887, "creation_date": 1553718887, "answer_id": 55385997, "question_id": 55385677, "link": "https://stackoverflow.com/questions/55385677/how-to-use-a-functions-parameter-type-in-typescript/55385997#55385997", "title": "How to use a functions parameter type in Typescript?", "body": "<p>In at least typescript 3.3 (version on the playground at the time of writing), you can extract the type of the 3rd parameter of <code>post</code>. See the trimmed down example below:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface A {\n    eh: number\n}\nfunction post(url: string, body: any | null, options?: {a: A}): void {}\n\n// Create an alias for convenience \ntype PostOptions = Parameters&lt;typeof post&gt;[2];\n\nlet options: PostOptions;\noptions = {}; // Expected error: Property 'a' is missing in type '{}' but required in type '{ a: A; }'.\noptions = { a: {} }; // Expected error: Property 'eh' is missing in type '{}' but required in type 'A'.\noptions = {a: {eh: 10}} // Ahh... just right :)\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/#src=interface%20A%20%7B%0D%0A%20%20%20%20eh%3A%20number%0D%0A%7D%0D%0Afunction%20post(url%3A%20string%2C%20body%3A%20any%20%7C%20null%2C%20options%3F%3A%20%7Ba%3A%20A%7D)%3A%20void%20%7B%7D%0D%0A%0D%0Atype%20PostOptions%20%3D%20Parameters%3Ctypeof%20post%3E%5B2%5D%3B%0D%0A%0D%0Alet%20options%3A%20PostOptions%3B%0D%0Aoptions%20%3D%20%7B%7D%3B%0D%0Aoptions%20%3D%20%7B%20a%3A%20%7B%7D%20%7D%3B%0D%0Aoptions%20%3D%20%7Ba%3A%20%7Beh%3A%2010%7D%7D\" rel=\"nofollow noreferrer\">Playground link</a></p>\n\n<p>A little more explanation: <code>Parameters&lt;T&gt;</code> is the type of the parameters of the function <code>T</code> as a tuple. <code>typeof post</code> gets the type of the function and then we want the 3rd parameter which is the type in the tuple at index <code>2</code>.</p>\n"}], "owner": {"reputation": 671, "user_id": 5136485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5010d0a82ee6fb34eb9e9c6648088ed5?s=128&d=identicon&r=PG&f=1", "display_name": "delashum", "link": "https://stackoverflow.com/users/5136485/delashum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 55385997, "answer_count": 1, "score": 1, "last_activity_date": 1553718887, "creation_date": 1553717509, "question_id": 55385677, "link": "https://stackoverflow.com/questions/55385677/how-to-use-a-functions-parameter-type-in-typescript", "title": "How to use a functions parameter type in Typescript?", "body": "<p>I am wrapping Angular's HttpClient service in my own method but still want users to be able to pass in <code>options</code>, however I can't seem to find a good way to reference that type in my own method parameter definition.</p>\n\n<p>example:</p>\n\n<pre><code>  constructor(private http: HttpClient) {}\n\n  my_request&lt;T = any&gt;(endpoint: string, payload: T, options: WhatTypeHere = {}) {\n    return this.http.post&lt;MyHttpResponse&gt;(this.build_url(endpoint), this.build_payload(payload), {\n      ...options,\n      withCredentials: true,\n    });\n  }\n</code></pre>\n\n<p>You can see the <code>options</code> parameter of <code>my_request()</code> I don't know what I can put there so that when using my_request it can enforce it.</p>\n\n<p>Here is the definition of <code>HttpClient.post()</code> fyi</p>\n\n<pre><code>post(url: string, body: any | null, options?: {\n        headers?: HttpHeaders | {\n            [header: string]: string | string[];\n        };\n        observe?: 'body';\n        params?: HttpParams | {\n            [param: string]: string | string[];\n        };\n        reportProgress?: boolean;\n        responseType?: 'json';\n        withCredentials?: boolean;\n    }): Observable&lt;Object&gt;;\n</code></pre>\n\n<p>I'm aware I could copy-paste that entire definition into my method, but if there is some way I can reference it I would rather for conciseness and if definitions change in the future.</p>\n\n<p>One things I tried that didn't work was something like <code>options: HttpClient['post']['options']</code></p>\n\n<p>Is there anything thing like this I can use to reference that type?</p>\n"}, {"tags": ["angularjs", "typescript", "sqlite", "ionic-framework", "error-handling"], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 9138382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a921d6cffbce5de2ff34f4813f80b2c?s=128&d=identicon&r=PG&f=1", "display_name": "Valentino", "link": "https://stackoverflow.com/users/9138382/valentino"}, "edited": false, "score": 0, "creation_date": 1553722063, "post_id": 55386414, "comment_id": 97495404, "body": "That fixed it! Thank you so much!"}], "tags": [], "owner": {"reputation": 2844, "user_id": 10757200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/130077c6c2be1eb0e8175b1c7ce3e36b?s=128&d=identicon&r=PG&f=1", "display_name": "hdorgeval", "link": "https://stackoverflow.com/users/10757200/hdorgeval"}, "is_accepted": true, "score": 4, "last_activity_date": 1553720621, "creation_date": 1553720621, "answer_id": 55386414, "question_id": 55385611, "link": "https://stackoverflow.com/questions/55385611/how-to-fix-argument-of-type-is-not-assignable-to-parameter-of-type-any/55386414#55386414", "title": "How to fix &#39;Argument of type &#39;{}&#39; is not assignable to parameter of type &#39;any[]&#39;. [ng] Property &#39;length&#39; is missing in type &#39;{}&#39;.&#39;", "body": "<p>The signature of the <code>executeSql</code> is :</p>\n\n<pre><code>executeSql(statement: string, params?: any[]): Promise&lt;any&gt;;\n</code></pre>\n\n<p>If you call the executeSql with <code>{}</code> as a second argument, I understand that you do not want to pass any argument. So you should call the method like this:</p>\n\n<pre><code>await this.database.executeSql(this.familyTable);\nawait this.database.executeSql(this.locationTable);\nawait this.database.executeSql(this.productTable);\nawait this.database.executeSql(this.transactionTable);\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 9138382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a921d6cffbce5de2ff34f4813f80b2c?s=128&d=identicon&r=PG&f=1", "display_name": "Valentino", "link": "https://stackoverflow.com/users/9138382/valentino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1390, "favorite_count": 0, "accepted_answer_id": 55386414, "answer_count": 1, "score": 0, "last_activity_date": 1553720621, "creation_date": 1553717175, "question_id": 55385611, "link": "https://stackoverflow.com/questions/55385611/how-to-fix-argument-of-type-is-not-assignable-to-parameter-of-type-any", "title": "How to fix &#39;Argument of type &#39;{}&#39; is not assignable to parameter of type &#39;any[]&#39;. [ng] Property &#39;length&#39; is missing in type &#39;{}&#39;.&#39;", "body": "<p>Im about to build a Ionic Inventory Management app with Barcode Scanner and SQLite with the help of this tutorial: <a href=\"https://www.techiediaries.com/ionic-cordova-sqlite-barcode-scanner-product-inventory-manager/\" rel=\"nofollow noreferrer\">https://www.techiediaries.com/ionic-cordova-sqlite-barcode-scanner-product-inventory-manager/</a></p>\n\n<p>When I add this code:</p>\n\n<pre><code>async createTables(){\n    try {\n        await this.database.executeSql(this.familyTable, {});\n        await this.database.executeSql(this.locationTable,{});\n        await this.database.executeSql(this.productTable,{});\n        await this.database.executeSql(this.transactionTable,{});\n    }catch(e){\n        console.log(\"Error !\");\n    }\n}\n</code></pre>\n\n<p>...to data-service.service.ts I got this error:</p>\n\n<blockquote>\n  <p>ERROR in src/app/data-service.service.ts(54,64): error TS2345:\n  Argument of type '{}' is not assignable to parameter of type 'any[]'.\n  [ng]   Property 'length' is missing in type '{}'. [ng]\n  src/app/data-service.service.ts(55,65): error TS2345: Argument of type\n  '{}' is not assignable to parameter of type 'any[]'. [ng]   Property\n  'length' is missing in type '{}'. [ng]\n  src/app/data-service.service.ts(56,64): error TS2345: Argument of type\n  '{}' is not assignable to parameter of type 'any[]'. [ng]   Property\n  'length' is missing in type '{}'. [ng]\n  src/app/data-service.service.ts(57,68): error TS2345: Argument of type\n  '{}' is not assignable to parameter of type 'any[]'. [ng]   Property\n  'length' is missing in type '{}'.</p>\n</blockquote>\n\n<p>This is the whole data-service.service.ts code:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\n\nimport 'rxjs/add/operator/map';\nimport { SQLite, SQLiteObject } from '@ionic-native/sqlite/ngx';\n\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DataServiceService {\n  public database: SQLiteObject;\n\n  productTable : string = `CREATE TABLE IF NOT EXISTS  products (\n    id INTEGER PRIMARY KEY,\n    sku TEXT,\n    barcode TEXT,\n    title TEXT NOT NULL,\n    description TEXT,\n    quantity REAL,\n    unit VARCHAR,\n    unitPrice REAL,\n    minQuantity INTEGER,\n    familly_id INTEGER,\n    location_id INTEGER,\n    FOREIGN KEY(familly_id) REFERENCES famillies(id),\n    FOREIGN KEY(location_id) REFERENCES locations(id)\n    );`;\n\nfamilyTable : string = `CREATE TABLE IF NOT EXISTS famillies (\n    id INTEGER PRIMARY KEY,\n    reference VARCHAR(32) NOT NULL,\n    name TEXT NOT NULL,\n    unit VARCHAR);`;\n\nlocationTable : string = `CREATE TABLE IF NOT EXISTS locations (\n        id INTEGER PRIMARY KEY,\n        name TEXT NOT NULL);`;\n//Date , Quantity , Unit Cost , Reason (New Stock - Usable Return - Unusable Return ) ,UPC (Universal Product Code ) Comment    \ntransactionTable : string = `CREATE TABLE IF NOT EXISTS transactions (\n        id INTEGER PRIMARY KEY,\n        date TEXT,\n        quantity REAL,\n        unitCost REAL,\n        reason VARCHAR,\n        upc TEXT,\n        comment TEXT,\n        product_id INTEGER,\n        FOREIGN KEY(product_id) REFERENCES products(id));`;\n\n        async createTables(){\n          try {\n              await this.database.executeSql(this.familyTable, {});\n              await this.database.executeSql(this.locationTable,{});\n              await this.database.executeSql(this.productTable,{});\n              await this.database.executeSql(this.transactionTable,{});\n          }catch(e){\n              console.log(\"Error !\");\n          }\n      }\n\n        constructor(public sqlite :SQLite) {\n          console.log('Hello DataServiceProvider Provider')\n\n              this.sqlite.create({name: \"data.db\", location: \"default\"}).then((db : SQLiteObject) =&gt; {\n                      this.database = db;\n                  }, (error) =&gt; {\n                      console.log(\"ERROR: \", error);\n              }); \n    }\n\n}\n</code></pre>\n\n<p>Does anyone has an idea how to fix it?</p>\n"}, {"tags": ["angularjs", "typescript"], "comments": [{"owner": {"reputation": 800, "user_id": 3907470, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1152716488/picture?type=large", "display_name": "Juan Camilo Mejia", "link": "https://stackoverflow.com/users/3907470/juan-camilo-mejia"}, "edited": false, "score": 0, "creation_date": 1553717829, "post_id": 55385540, "comment_id": 97493400, "body": "Try  this.driverId = $routeParams.driverId; instead this.driverId = $routeParams.id;"}, {"owner": {"reputation": 1, "user_id": 11136645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a19b71703a76e0d83b95b557dfff603f?s=128&d=identicon&r=PG&f=1", "display_name": "bobthehackerman", "link": "https://stackoverflow.com/users/11136645/bobthehackerman"}, "reply_to_user": {"reputation": 800, "user_id": 3907470, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1152716488/picture?type=large", "display_name": "Juan Camilo Mejia", "link": "https://stackoverflow.com/users/3907470/juan-camilo-mejia"}, "edited": false, "score": 0, "creation_date": 1553718277, "post_id": 55385540, "comment_id": 97493608, "body": "I tried but now I get the error &quot;TypeError: Cannot read property &#39;driverId&#39; of undefined&quot;"}, {"owner": {"reputation": 1203, "user_id": 6850443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf2Uj.png?s=128&g=1", "display_name": "BShaps", "link": "https://stackoverflow.com/users/6850443/bshaps"}, "edited": false, "score": 0, "creation_date": 1553726531, "post_id": 55385540, "comment_id": 97496954, "body": "I was having the same issue with angularJS 1.7.  Turns out that it was the use of $inject.  For some reason it doesn&#39;t appear to work for $routeParams."}, {"owner": {"reputation": 1, "user_id": 11136645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a19b71703a76e0d83b95b557dfff603f?s=128&d=identicon&r=PG&f=1", "display_name": "bobthehackerman", "link": "https://stackoverflow.com/users/11136645/bobthehackerman"}, "reply_to_user": {"reputation": 1203, "user_id": 6850443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf2Uj.png?s=128&g=1", "display_name": "BShaps", "link": "https://stackoverflow.com/users/6850443/bshaps"}, "edited": false, "score": 0, "creation_date": 1553730867, "post_id": 55385540, "comment_id": 97498200, "body": "@BShaps so how did you fix it?"}, {"owner": {"reputation": 1203, "user_id": 6850443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf2Uj.png?s=128&g=1", "display_name": "BShaps", "link": "https://stackoverflow.com/users/6850443/bshaps"}, "edited": false, "score": 0, "creation_date": 1553801576, "post_id": 55385540, "comment_id": 97531705, "body": "@bobthehackerman I used the <code>angular.module(&#39;app&#39;).controller(&#39;controllerName&#39;, [&#39;$routeParams&#39;, controllerFn])</code> syntax.  Every other dependency I use <code>$inject</code> but for some reason $routeParams came up as undefined."}], "owner": {"reputation": 1, "user_id": 11136645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a19b71703a76e0d83b95b557dfff603f?s=128&d=identicon&r=PG&f=1", "display_name": "bobthehackerman", "link": "https://stackoverflow.com/users/11136645/bobthehackerman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553716834, "creation_date": 1553716834, "question_id": 55385540, "link": "https://stackoverflow.com/questions/55385540/typeerror-cannot-read-property-id-of-undefined-routeparams-error", "title": "TypeError: Cannot read property &#39;id&#39; of undefined $routeparams error", "body": "<p>I'm having trouble with fetching the Api on my RouteParam page, I'd like the page to open up a new API with the info on given drivers, however when I open the route, the error says that the \"id\" is undefined. I'd like to know how I could fix my code in order to display such info with 2 different API's.</p>\n\n<p>I tried googling a ton of answers and changing my ID however nothing seems to work, I believe it has something to do with either the ID being wrong or the 2 functions working asynchronously however I cannot pinpoint the exact issue. The service is working with the other two of my API's but not this one.</p>\n\n<p>Routing </p>\n\n<pre><code>module app { \n    const app = angular.module(\"app\",['ngRoute']);\n    app.config(routeConfig);\n    require('./controllers/service');\n    require('./controllers/drivers');\n    require('./controllers/teams');\n    require('./controllers/driver')\n    require('route-params')\n\n    // require('angular-route');\n    routeConfig.$inject = [\"$routeProvider\"];\n\n    function routeConfig($routeProvider) {\n        $routeProvider\n            .when('/drivers', {\n                templateUrl: './src/pages/drivers.html',\n                controller: 'DriversListCtrl',\n                controllerAs: 'vm'\n            })\n            .when('/drivers/:driverId', {\n                templateUrl: './src/pages/driverDetails.html',\n                controller: 'DriverDetailsCtrl',\n                controllerAs: 'vm'\n            })\n            .when('/teams', {\n                templateUrl: './src/pages/teams.html',\n                controller: 'TeamListCtrl',\n                controllerAs:'vm'\n            })  \n            .otherwise({\n                redirectTo:'/drivers'\n            })\n    }\n}\n</code></pre>\n\n<p>service</p>\n\n<pre><code>module app.service {\n\n    export interface IDataAccessService {\n        getDriversApi():ng.IPromise&lt;IDriver&gt;;\n        getDriverDetailsApi(id:number):ng.IPromise&lt;IDriverDetails&gt;\n        getDriverRacesApi(id:number):ng.IPromise&lt;IDriverRaces&gt;\n    }\n\n    export class DataAccessService implements IDataAccessService {\n\n        static $inject = ['$http'];\n        constructor(private $http: ng.IHttpService,public id:any) {\n\n        }\n        getDriversApi():ng.IPromise&lt;IDriver&gt;{\n            return this.$http.get('https://ergast.com/api/f1/2013/driverStandings.json')\n            .then((response:ng.IHttpPromiseCallbackArg&lt;IDriver&gt;):IDriver=&gt;{ \n                return response.data;\n            })\n        }\n        getDriverDetailsApi(id:any):ng.IPromise&lt;IDriverDetails&gt;{\n            return this.$http.get('http://ergast.com/api/f1/2013/drivers/'+ id +'/driverStandings.json?callback=JSON_CALLBACK')\n            .then((response:ng.IHttpPromiseCallbackArg&lt;IDriverDetails&gt;):IDriverDetails=&gt;{ \n                return response.data;\n            })\n        }\n        getDriverRacesApi(id:any):ng.IPromise&lt;IDriverRaces&gt;{\n            return this.$http.get('http://ergast.com/api/f1/2013/drivers/'+ id +'/results.json?callback=JSON_CALLBACK')\n            .then((response:ng.IHttpPromiseCallbackArg&lt;IDriverRaces&gt;):IDriverRaces=&gt;{ \n                return response.data;\n\n</code></pre>\n\n<p>controller</p>\n\n<pre><code>    export class DriverDetailsCtrl implements IDriverDetails {\n\n\n        static $inject = [\"dataAccessService\", \"$routeParams\"];\n        constructor(\n            private dataAccessService: app.service.DataAccessService,\n            public driverDet,\n            public nameFilter,\n            public driverId,\n            public races,\n            public $routeParams // \n        ) {\n            this.driverId = $routeParams.id;\n\n\n            this.dataAccessService.getDriverDetailsApi(this.driverId)\n                .then((data: any): void =&gt; {\n                    this.driverDet = data.MRData.StandingsTable.StandingsLists[0].DriverStandings[0];\n                    console.log(driverDet)\n                    return this.driverDet;\n                });\n            this.dataAccessService.getDriverRacesApi(this.driverId)\n                .then((data: any): void =&gt; {\n                    this.races = data.MRData.RaceTable.Races;\n                    console.log(races)\n                    return this.races;\n                });\n        }\n</code></pre>\n"}, {"tags": ["javascript", "html", "angular", "typescript"], "comments": [{"owner": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 0, "creation_date": 1553717380, "post_id": 55385523, "comment_id": 97493198, "body": "What&#39;s your backend running on?"}, {"owner": {"reputation": 25, "user_id": 7191533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d77313b3c12a50ab6567387e864284e6?s=128&d=identicon&r=PG&f=1", "display_name": "Dejavu", "link": "https://stackoverflow.com/users/7191533/dejavu"}, "reply_to_user": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 0, "creation_date": 1553717790, "post_id": 55385523, "comment_id": 97493379, "body": "should be a apache server 2.4"}, {"owner": {"reputation": 4016, "user_id": 2202748, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9tSQE.jpg?s=128&g=1", "display_name": "Joel Joseph", "link": "https://stackoverflow.com/users/2202748/joel-joseph"}, "edited": false, "score": 0, "creation_date": 1553745796, "post_id": 55385523, "comment_id": 97501210, "body": "<code>&lt;img src=&quot;assets&#47;pictures&#47;pic_1.png&quot; &#47;&gt;</code> would work in both"}, {"owner": {"reputation": 25, "user_id": 7191533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d77313b3c12a50ab6567387e864284e6?s=128&d=identicon&r=PG&f=1", "display_name": "Dejavu", "link": "https://stackoverflow.com/users/7191533/dejavu"}, "edited": false, "score": 0, "creation_date": 1553802644, "post_id": 55385523, "comment_id": 97532209, "body": "yeah thank you !!!!!"}], "owner": {"reputation": 25, "user_id": 7191533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d77313b3c12a50ab6567387e864284e6?s=128&d=identicon&r=PG&f=1", "display_name": "Dejavu", "link": "https://stackoverflow.com/users/7191533/dejavu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553722624, "creation_date": 1553716762, "last_edit_date": 1553722624, "question_id": 55385523, "link": "https://stackoverflow.com/questions/55385523/is-it-possible-to-make-an-image-accessable-from-development-mode-and-production", "title": "Is it possible to make an image accessable from development mode AND production mode in Angular?", "body": "<p>I have been developing my App with Angular in development mode, now i wanted to build it into production mode to host it on my Synology Web Server.</p>\n\n<p>In Development mode I saved a picture in /assets/pictures/pic_1.png, this runs fine, but when I go into prod mode I am getting this Error Message:</p>\n\n<p><a href=\"https://imgur.com/a/xZHPA9j\" rel=\"nofollow noreferrer\">https://imgur.com/a/xZHPA9j</a> </p>\n\n<p>This is how I implemented the picture:</p>\n\n<pre><code>&lt;img src=\"../../assets/pictures/pic_1.png\" /&gt;\n</code></pre>\n\n<p>With this Code it SHOULD show the picture BOTH in development and production mode.</p>\n\n<p>Edit #1</p>\n\n<p>Current Workaround:</p>\n\n<p>I hosted the pictures in another folder of my Server which is accessable from the internet and I am getting the pictures with this code:</p>\n\n<pre><code>&lt;img src=\"http://(x.x.x/apipfadipics/pic_1.png\" /&gt;\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "webpack", "module"], "answers": [{"tags": [], "owner": {"reputation": 833, "user_id": 9138736, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/et4p0.jpg?s=128&g=1", "display_name": "Grigore Budac", "link": "https://stackoverflow.com/users/9138736/grigore-budac"}, "is_accepted": true, "score": 3, "last_activity_date": 1553716386, "creation_date": 1553716386, "answer_id": 55385441, "question_id": 55385245, "link": "https://stackoverflow.com/questions/55385245/module-not-found-typescript-and-baseurl-option/55385441#55385441", "title": "Module not found (Typescript and baseUrl option)", "body": "<p>Well, I found something that worked for me, it's called\n<a href=\"https://www.npmjs.com/package/tsconfig-paths-webpack-plugin\" rel=\"nofollow noreferrer\">tsconfig-paths-webpack-plugin</a>. All you need to do is to import it in your webpack config, connect with the tsconfig.json and that's all.</p>\n"}], "owner": {"reputation": 833, "user_id": 9138736, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/et4p0.jpg?s=128&g=1", "display_name": "Grigore Budac", "link": "https://stackoverflow.com/users/9138736/grigore-budac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1692, "favorite_count": 0, "accepted_answer_id": 55385441, "answer_count": 1, "score": 2, "last_activity_date": 1553716386, "creation_date": 1553715573, "question_id": 55385245, "link": "https://stackoverflow.com/questions/55385245/module-not-found-typescript-and-baseurl-option", "title": "Module not found (Typescript and baseUrl option)", "body": "<p>I am trying to use custom paths in my typescript project, the problem is that webpack doesn't recognize my modules giving me the <em>\"webpackMissingModule\"</em> error. </p>\n\n<p>I have tried different solutions but nothing works for me. Suggestions? Ideas?</p>\n\n<p><strong>Some packages</strong></p>\n\n<pre><code>\"react\": \"^16.8.4\",\n\"react-dom\": \"^16.8.4\",\n\"typescript\": \"3.3.1\",\n</code></pre>\n\n<p><strong>tsconfig.json</strong></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"lib\": [\"dom\", \"dom.iterable\", \"esnext\"],\n    \"allowJs\": true,\n    \"skipLibCheck\": true,\n    \"esModuleInterop\": true,\n    \"allowSyntheticDefaultImports\": true,\n    \"strict\": true,\n    \"forceConsistentCasingInFileNames\": true,\n    \"module\": \"esnext\",\n    \"moduleResolution\": \"node\",\n    \"resolveJsonModule\": true,\n    \"isolatedModules\": true,\n    \"noEmit\": true,\n    \"jsx\": \"preserve\"\n  },\n  \"include\": [\"./src\"],\n  \"exclude\": [\"node_modules\", \"build\"],\n  \"extends\": \"./paths.json\"\n}\n</code></pre>\n\n<p><strong>paths.json</strong></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"baseUrl\": \"./src\",\n    \"paths\": {\n      \"@src/*\": [\"*\"],\n      \"@components/*\": [\"components/*\"]\n    }\n  }\n}\n</code></pre>\n\n<p><strong>.env</strong></p>\n\n<pre><code>NODE_PATH=./\n</code></pre>\n\n<p><strong>Component</strong></p>\n\n<pre><code>import React from \"react\";\nimport Hello from \"@components/Hello\";\n\nconst Home = () =&gt; (\n  &lt;div&gt;\n    &lt;h1&gt;Home&lt;/h1&gt;\n    &lt;Hello /&gt;\n  &lt;/div&gt;\n);\n\nexport default Home;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript", "nestjs", "class-validator"], "answers": [{"comments": [{"owner": {"reputation": 934, "user_id": 1815209, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a6cbca63e8eae12b8959f53c6e4e5133?s=128&d=identicon&r=PG", "display_name": "quezak", "link": "https://stackoverflow.com/users/1815209/quezak"}, "edited": false, "score": 1, "creation_date": 1553867348, "post_id": 55387457, "comment_id": 97556781, "body": "You can also use <a href=\"https://github.com/19majkel94/class-transformer-validator\" rel=\"nofollow noreferrer\">class-transformer-validator</a> to do all the transformation, validation and checking the error list steps in one call :)"}, {"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "reply_to_user": {"reputation": 934, "user_id": 1815209, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a6cbca63e8eae12b8959f53c6e4e5133?s=128&d=identicon&r=PG", "display_name": "quezak", "link": "https://stackoverflow.com/users/1815209/quezak"}, "edited": false, "score": 0, "creation_date": 1553867600, "post_id": 55387457, "comment_id": 97556959, "body": "Good point. :-) I&#39;m not gonna change my answer because adding the notes about installing another package would make it even longer, but I think it&#39;s a very useful comment."}], "tags": [], "owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "is_accepted": true, "score": 1, "last_activity_date": 1553867882, "last_edit_date": 1553867882, "creation_date": 1553725808, "answer_id": 55387457, "question_id": 55385041, "link": "https://stackoverflow.com/questions/55385041/is-it-possible-to-validate-single-route-parameter/55387457#55387457", "title": "Is it possible to validate single route parameter?", "body": "<p>The problem is that you have a plain string here. For the validation with <code>class-validator</code> to work, you must instantiate a class, in your case <code>ResourceId</code>. The built-in <code>ValidationPipe</code> expects the value to be <code>{id: '123'}</code> instead <code>'123'</code> to be able to transform it automatically. But you can easily create your own validation pipe, that does this extra transformation. </p>\n\n<pre><code>export class ParamValidationPipe implements PipeTransform {\n  async transform(value, metadata: ArgumentMetadata) {\n    if (metadata.type === 'param') {\n      // This is the relevant part: value -&gt; { id: value }\n      const valueInstance = plainToClass(metadata.metatype, { id: value });\n      const validationErrors = await validate(valueInstance);\n      if (validationErrors.length &gt; 0) {\n        throw new BadRequestException(validationErrors, 'Invalid route param');\n      }\n      return valueInstance;\n    } else {\n      return value;\n    }\n  }\n}\n</code></pre>\n\n<p>You can then use it on your controller:</p>\n\n<pre><code>@UsePipes(ParamValidationPipe)\n@Get(':companyId/departments/:departmentId/employees')\ngetEmployees(\n  @Param('companyId') companyId: ResourceId,\n  @Param('departmentId') departmentId: ResourceId,\n) {\n  return `id1: ${companyId.id}, id2: ${departmentId.id}`;\n}\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 4726708, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/40c6544557c1751909ce3c1bdabba617?s=128&d=identicon&r=PG&f=1", "display_name": "always_bloo", "link": "https://stackoverflow.com/users/4726708/always-bloo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 277, "favorite_count": 0, "accepted_answer_id": 55387457, "answer_count": 1, "score": 2, "last_activity_date": 1553867882, "creation_date": 1553714697, "last_edit_date": 1553725835, "question_id": 55385041, "link": "https://stackoverflow.com/questions/55385041/is-it-possible-to-validate-single-route-parameter", "title": "Is it possible to validate single route parameter?", "body": "<p>Let's say I have following route:</p>\n\n<pre><code>companies/{companyId}/departments/{departmentId}/employees\n</code></pre>\n\n<p>Is it possible to validate both resources ids (<code>companyId</code>, <code>departmentId</code>) separately? I've tried following but it's not working.</p>\n\n<pre><code>class ResourceId {\n  @IsNumberString()\n  @StringNumberRange(...) // my custom validator\n  id: number;\n}\n\n@Get(':companyId/departments/:departmentId/employees')\ngetEmployees(\n  @Param('companyId') companyId: ResourceId,\n  @Param('departmentId') departmentId: ResourceId,\n) {}\n</code></pre>\n\n<p>I have multiple cases when there is more than one parameter in the single route. I would not like to create separate validation class for every route. Is there a way to handle this problem in a different way?</p>\n"}, {"tags": ["typescript", "visual-studio-code"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 6254915, "user_type": "registered", "profile_image": "https://graph.facebook.com/1763361713900137/picture?type=large", "display_name": "Anton  Kulakov", "link": "https://stackoverflow.com/users/6254915/anton-kulakov"}, "is_accepted": false, "score": 1, "last_activity_date": 1602639562, "last_edit_date": 1602639562, "creation_date": 1557921312, "answer_id": 56148793, "question_id": 55384690, "link": "https://stackoverflow.com/questions/55384690/collapse-type-definition-in-tsx-file-in-vs-code/56148793#56148793", "title": "Collapse type definition in tsx file in VS Code", "body": "<ol>\n<li><p><code>Ctrl + Shift + P</code> Preferences: <em>Open settings(JSON)</em></p>\n</li>\n<li><p>Add</p>\n</li>\n</ol>\n<pre><code>&quot;[javascript]&quot;: {\n    &quot;editor.foldingStrategy&quot;: &quot;indentation&quot;\n},\n&quot;[javascriptreact]&quot;: {\n    &quot;editor.foldingStrategy&quot;: &quot;indentation&quot;\n},\n&quot;[typescript]&quot;: {\n    &quot;editor.foldingStrategy&quot;: &quot;indentation&quot;\n},\n&quot;[typescriptreact]&quot;: {\n    &quot;editor.foldingStrategy&quot;: &quot;indentation&quot;\n}\n</code></pre>\n<ol start=\"3\">\n<li>That's All</li>\n</ol>\n"}], "owner": {"reputation": 67, "user_id": 1352717, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/0ec37192d53a5d6f85085f595b114662?s=128&d=identicon&r=PG", "display_name": "Brian Anderson", "link": "https://stackoverflow.com/users/1352717/brian-anderson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1602639562, "creation_date": 1553713259, "question_id": 55384690, "link": "https://stackoverflow.com/questions/55384690/collapse-type-definition-in-tsx-file-in-vs-code", "title": "Collapse type definition in tsx file in VS Code", "body": "<p>When I create a type definition in a typescript file (.ts) I am not given the option to collapse the definition in VS Code.  For example:</p>\n\n<pre><code>export type Test = {\n    someValue: string,\n    someOtherValue: string,\n    yetAnotherValue: string\n};\n</code></pre>\n\n<p>I don't get the option in the left margin to collapse this definition.  Is there a setting that I'm missing to allow this?  Does an extension like prettier have the ability to add this?  I have been unable to find a solution so my current workaround is to put a region around it.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1553714959, "post_id": 55384614, "comment_id": 97492034, "body": "You&#39;re saying both that <code>Matrix&lt;T&gt;</code> <i>is</i> a type of <code>Array&lt;Array&lt;T&gt;&gt;</code>, and that it is <i>not</i> an <code>Array&lt;Array&lt;T&gt;&gt;</code>.  If I do <code>for (let x of m) {}</code>, and <code>m</code> is assignable to <code>Array&lt;Array&lt;T&gt;&gt;</code>, then <code>x</code> must be <code>Array&lt;T&gt;</code>.  If <code>[number, number, T]</code> comes out instead, something is wrong.  I think you&#39;ll need to decide whether <code>Matrix&lt;T&gt;</code> should be an <code>Array&lt;Array&lt;T&gt;&gt;</code> or an <code>IterableIterator&lt;[number, number, T]&gt;</code>.  It can&#39;t be both."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1553715492, "post_id": 55384614, "comment_id": 97492295, "body": "Would it be okay if you didn&#39;t override the iterator signature and instead provide a differently named method like <code>unroll()</code> that did the same thing?  Then you could do <code>for (let x of m.unroll()) {}</code> to get row/column/value triplets."}, {"owner": {"reputation": 973, "user_id": 85094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc0c6f474e2c3964512698ca7d648867?s=128&d=identicon&r=PG", "display_name": "Serkan Yersen", "link": "https://stackoverflow.com/users/85094/serkan-yersen"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1553716884, "post_id": 55384614, "comment_id": 97492951, "body": "I thought about <code>unroll()</code> just like the <code>entries()</code> and it&#39;s probably what I should do anyways. but I was wondering if there is actually a way to override this signature somehow. I can modify the behaviour maybe I should be able to express my modification too."}, {"owner": {"reputation": 973, "user_id": 85094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc0c6f474e2c3964512698ca7d648867?s=128&d=identicon&r=PG", "display_name": "Serkan Yersen", "link": "https://stackoverflow.com/users/85094/serkan-yersen"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1553716979, "post_id": 55384614, "comment_id": 97493009, "body": "Like, here is my custom Matrix object, it works just like an <code>Array</code> but differs in these situations kinda way."}], "answers": [{"comments": [{"owner": {"reputation": 973, "user_id": 85094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc0c6f474e2c3964512698ca7d648867?s=128&d=identicon&r=PG", "display_name": "Serkan Yersen", "link": "https://stackoverflow.com/users/85094/serkan-yersen"}, "edited": false, "score": 0, "creation_date": 1553754191, "post_id": 55388864, "comment_id": 97503493, "body": "Awesome response. Thank you very much for detailed explanation and actually entertain my curiosity here. What you said about <code>Matrix</code> and <code>Array&lt;Array&lt;T&gt;&gt;</code> should be interchangeable makes perfect sense to me now. Matrix wrapper would add some helper methods but I should still be able to use this array with lodash or similar tools without breaking existing functionality. Thanks!"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1553736374, "creation_date": 1553736374, "answer_id": 55388864, "question_id": 55384614, "link": "https://stackoverflow.com/questions/55384614/overriding-iterator-signature/55388864#55388864", "title": "Overriding Iterator Signature", "body": "<p>It will be a major headache to try to do what you're asking, as it goes against the spirit of the type system.  There is an idea called the <a href=\"https://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"nofollow noreferrer\">Liskov Substitution Principle</a> which says that <code>A extends B</code> means that you should be allowed to use an instance of <code>A</code> anywhere an instance of <code>B</code> is expected.  Or, to put it another way, every instance of <code>A</code> <em>is also</em> an instance of <code>B</code>. </p>\n\n<p>By saying that <code>Matrix&lt;T&gt; extends Array&lt;Array&lt;T&gt;&gt;</code>, you are claiming that a <code>Matrix&lt;T&gt;</code> <em>is</em> an <code>Array&lt;Array&lt;T&gt;&gt;</code>.  But if I iterate over an <code>Array&lt;Array&lt;T&gt;&gt;</code> in a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of\" rel=\"nofollow noreferrer\"><code>for...of</code> loop</a>, I expect to be looping through <code>Array&lt;T&gt;</code> elements.  That's part of the interface contract of <code>Array&lt;Array&lt;T&gt;&gt;</code>.  If elements of type  <code>[number, number, T]</code> come out instead, something has gone wrong: a <code>Matrix&lt;T&gt;</code> is <em>not</em> an <code>Array&lt;Array&lt;T&gt;&gt;</code>.  The Liskov Substitution Principle has been violated.  </p>\n\n<p>The easy and recommended way to deal with this is to make <code>Matrix&lt;T&gt; extends Array&lt;Array&lt;T&gt;&gt;</code> true by leaving the iterator method alone, and just add an <code>unroll()</code> method to <code>Matrix&lt;T&gt;</code> which produces the desired iterator.  This added method doesn't break the substitution principle because \"not having an <code>unroll()</code> method\" isn't part of the <code>Array&lt;Array&lt;T&gt;&gt;</code> contract.  </p>\n\n<p>Something like this:</p>\n\n<pre><code>class Matrix&lt;T&gt; extends Array&lt;Array&lt;T&gt;&gt; {\n  constructor(data: T[][] = []) {\n    super();\n\n    // Fill given data to matrix;\n    for (let r = 0; r &lt; data.length; r++) {\n      this[r] = [];\n      for (let c = 0; c &lt; data[r].length; c++) {\n        this[r][c] = data[r][c];\n      }\n    }\n  }\n\n  *unroll(): IterableIterator&lt;[number, number, T]&gt; {\n    for (let r = 0; r &lt; this.length; r++) {\n      for (let c = 0; c &lt; this[r].length; c++) {\n        yield [c, r, this[r][c]];\n      }\n    }  \n  }\n\n}\n\nconst m = new Matrix([[1, 2, 3], [4, 5, 6], [7, 8, 9]]);\n\nfor (let [c, r, value] of m.unroll()) {\n  console.log(`Column: %s, Row: %s, Value: %s`, c, r, value);\n}\n</code></pre>\n\n<hr>\n\n<p>But if you really wanted to override the iterator with your custom implementation, could you do it?  \ud83d\ude05 Yeah, I guess.  You can't break the <code>Array&lt;Array&lt;T&gt;&gt;</code> contract, so you'll have to write a new one.  You can try to use some type manipulation like <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#mapped-types\" rel=\"nofollow noreferrer\">mapped</a> and <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#conditional-types\" rel=\"nofollow noreferrer\">conditional</a> types to express \"an <code>Array&lt;Array&lt;T&gt;&gt;</code> but without a defined iterator method\", and then <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions\" rel=\"nofollow noreferrer\">assert</a> that the <code>Array</code> constructor is also a constructor for that type of thing, and then extend <em>that</em>:</p>\n\n<pre><code>type _SortOfArray&lt;T&gt; = Pick&lt;\n  Array&lt;Array&lt;T&gt;&gt;,\n  Exclude&lt;keyof Array&lt;any&gt;, keyof IterableIterator&lt;any&gt;&gt;\n&gt;;\ninterface SortOfArray&lt;T&gt; extends _SortOfArray&lt;T&gt; {}\ninterface SortOfArrayConstructor {\n  new &lt;T&gt;(): SortOfArray&lt;T&gt;;\n}\nconst SortOfArray = Array as SortOfArrayConstructor;\n\nclass Matrix&lt;T&gt; extends SortOfArray&lt;T&gt; {\n  constructor(data: T[][] = []) {\n    super();\n\n    // Fill given data to matrix;\n    for (let r = 0; r &lt; data.length; r++) {\n      this[r] = [];\n      for (let c = 0; c &lt; data[r].length; c++) {\n        this[r][c] = data[r][c];\n      }\n    }\n  }\n\n  // Other helper methods...\n  *[Symbol.iterator](): IterableIterator&lt;[number, number, T]&gt; {\n    for (let r = 0; r &lt; this.length; r++) {\n      for (let c = 0; c &lt; this[r].length; c++) {\n        yield [c, r, this[r][c]];\n      }\n    }\n  }\n}\n\nconst m = new Matrix([['1', '2', '3'], ['4', '5', '6'], ['7', '8', '9']]);\n\nfor (let [c, r, value] of m) {\n  // c is a number, r is a number, value is a string\n  console.log(`Column: %s, Row: %s, Value: %s`, c, r, value);\n}\n</code></pre>\n\n<p>That all works, hooray?  Well, not quite:</p>\n\n<pre><code>const filteredM = m.filter(row =&gt; row[0]!=='4'); \n// filteredM is a string[][] at compile time, but Matrix&lt;string&gt; at runtime!\n\nfor (let hmm of filteredM) {\n    // compiler thinks hmm[0] is a string, but it's really a number\n    console.log(hmm[0].toUpperCase()); // no compiler error, runtime error!!\n}\n</code></pre>\n\n<p>See, the way <code>Array</code> extension works, methods that return new arrays actually return the extended version of the array by default (it's called the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/@@species\" rel=\"nofollow noreferrer\">species</a> of the array).  And, if a <code>Matrix&lt;T&gt;</code> were really an <code>Array&lt;Array&lt;T&gt;&gt;</code>, this subspecies substitution would be fine.  But we changed it to something else, so now all of the methods of <code>Matrix&lt;T&gt;</code> that return new arrays are typed all wrong.</p>\n\n<p>In fact, to get it \"right\" we would have to completely write out the new contract manually:</p>\n\n<pre><code>interface SortOfArray&lt;T&gt; {\n    [n: number]: Array&lt;T&gt;;\n    length: number;\n    toString(): string;\n    toLocaleString(): string;\n    pop(): T[] | undefined;\n    push(...items: T[][]): number;\n    concat(...items: ConcatArray&lt;T[]&gt;[]): SortOfArray&lt;T&gt;;\n    concat(...items: (T[] | ConcatArray&lt;T[]&gt;)[]): SortOfArray&lt;T&gt;;\n    join(separator?: string): string;\n    reverse(): SortOfArray&lt;T&gt;;\n    shift(): T[] | undefined;\n    slice(start?: number, end?: number): SortOfArray&lt;T&gt;[];\n    sort(compareFn?: (a: T[], b: T[]) =&gt; number): this;\n    splice(start: number, deleteCount?: number): SortOfArray&lt;T&gt;;\n    splice(start: number, deleteCount: number, ...items: T[]): SortOfArray&lt;T&gt;;\n    // ... and on and on and on ...\n</code></pre>\n\n<p>Ugh, I can't even tell if I got that right or made some mistakes.  It's really not feeling worth it to me.  Not to mention that plenty of things that expect an <code>Array&lt;Array&lt;T&gt;&gt;</code> will start to make compiler errors if you hand it a <code>Matrix&lt;T&gt;</code>.  </p>\n\n<p>Of course you can only write out the methods and properties you care about, but it still feels like quite a slog to me, for something of questionable benefit.</p>\n\n<hr>\n\n<p>Okay, hope that helps; good luck.</p>\n"}], "owner": {"reputation": 973, "user_id": 85094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc0c6f474e2c3964512698ca7d648867?s=128&d=identicon&r=PG", "display_name": "Serkan Yersen", "link": "https://stackoverflow.com/users/85094/serkan-yersen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 55388864, "answer_count": 1, "score": 1, "last_activity_date": 1553736374, "creation_date": 1553712941, "last_edit_date": 1553717380, "question_id": 55384614, "link": "https://stackoverflow.com/questions/55384614/overriding-iterator-signature", "title": "Overriding Iterator Signature", "body": "<p>I want to create a wrapper on Array object to handle two dimensional arrays easier. Everything is fine but I also want to overwrite the <code>Symbol.iterator</code> to simplify the nested loops you have to do with the 2D Arrays.</p>\n\n<p>I want to be able to loop the arrays like this basically</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const m = new Matrix([\n  [1, 2, 3],\n  [4, 5, 6],\n  [7, 8, 9],\n]);\n\nfor (let { c, r, value } = m) {\n   console.log(`Column: %s, Row: %s, Value: %s`, c, r, value);\n}\n</code></pre>\n\n<p>I've written the code for this and it works. However typescript complains about he iterator signature because it doesn't match with what the Array supposed to have.</p>\n\n<p>Here is my code</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class Matrix&lt;T=number&gt; extends Array&lt;Array&lt;T&gt;&gt; {\n\n    // Other methods...\n\n    *[Symbol.iterator]() {\n        for (let r = 0; r &lt; this.length; r++) {\n            for (let c = 0; c &lt; this[r].length; c++) {\n                yield { c, r, value: this[r][c] as T };\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Typescript is complaining that <code>Type '() =&gt; IterableIterator&lt;[number, number, T]&gt;' is not assignable to type '() =&gt; IterableIterator&lt;T[]&gt;'.</code> <a href=\"https://typescript-play.js.org/#code/MYGwhgzhAECyYBcBOBLAHgHgCoF4B2ArgLYBGApkgHzRloJl4AmMAgkkmAJ4ZsfdaVqAbwBQ0cdGAB7PBGQFgCKUgAUjRGABc0LAG0Augeg5oBgJTRRE69AgEADhRVmA3CLE3xAei-QAYiggINAA5igAbgzQ6ghg0ErQRIioaG6e4gBmytAqIGQI0EjG0AAMLoXQGNEaAHR5eCEIABblSADUbRZW6dbNKBC6SPrFBmk9EllFufmSOGWSldWxg-p1DI0tkh1dHuM2fQNDusDDJjFgK8f6Y3sAvrs299b3Dz7QAPLNFNBNZCCORSI+SaUmYNXB7msACpdABlTikKQgGooegcJRDZyWB7WSY5PIFIomeZFKoHNYNZqtbbYvaZbLTArAYrzZlkpr9FYUjblYA07p0iScFB-RiWSQAGkKUvCYBABDI2gOlxO0EgOmgtxu4ye6V14nuL2ksgKRGKeDIAHc4Ml0CpdB5dABGKUAJilAGZ9BLHQAWKUAVilADZvY6AOxSgAcUoAnGH9K53HjGeLgFKkDK5QrNdApBlEjsJMaIEiyHUpCEVAADADCSOIeG0AFIIFKAEpSS0ttvQABq2cV0Fb1al6el0Fl8rISduQA\" rel=\"nofollow noreferrer\">You can see it live here</a></p>\n\n<p><strong>My Question is: How can I write this code without Typescript complaining? I can stop the compiler by turning values to <code>Any</code> but then I lose all advantages of using Typescript in that case.</strong></p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "redux", "redux-observable"], "comments": [{"owner": {"reputation": 5932, "user_id": 1563130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F9nmW.jpg?s=128&g=1", "display_name": "Harald Gliebe", "link": "https://stackoverflow.com/users/1563130/harald-gliebe"}, "edited": false, "score": 0, "creation_date": 1553713342, "post_id": 55384606, "comment_id": 97491301, "body": "How do you do navigation in your app? Are you using a redux based router like <code>connected-react-router</code> ?"}, {"owner": {"reputation": 1113, "user_id": 905321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/83ccc9716b9469f9e55764d021898935?s=128&d=identicon&r=PG", "display_name": "charlee", "link": "https://stackoverflow.com/users/905321/charlee"}, "reply_to_user": {"reputation": 5932, "user_id": 1563130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F9nmW.jpg?s=128&g=1", "display_name": "Harald Gliebe", "link": "https://stackoverflow.com/users/1563130/harald-gliebe"}, "edited": false, "score": 0, "creation_date": 1553713510, "post_id": 55384606, "comment_id": 97491386, "body": "@Harald I don&#39;t want this question to be too specific. I know if the route is stored as redux state this problem can be solved. What if, say, I want to simply show a dialog with <code>window.alert()</code> after <code>listTodo.success()</code> is observed?"}, {"owner": {"reputation": 5932, "user_id": 1563130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F9nmW.jpg?s=128&g=1", "display_name": "Harald Gliebe", "link": "https://stackoverflow.com/users/1563130/harald-gliebe"}, "edited": false, "score": 0, "creation_date": 1553713805, "post_id": 55384606, "comment_id": 97491516, "body": "Then either create a new epic that watches for <code>listTodo.success()</code>, perform a side effect with <code>action$.tap(() =&gt; {window.alert()})</code> and then <code>ignoreElements()</code>"}, {"owner": {"reputation": 1113, "user_id": 905321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/83ccc9716b9469f9e55764d021898935?s=128&d=identicon&r=PG", "display_name": "charlee", "link": "https://stackoverflow.com/users/905321/charlee"}, "reply_to_user": {"reputation": 5932, "user_id": 1563130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F9nmW.jpg?s=128&g=1", "display_name": "Harald Gliebe", "link": "https://stackoverflow.com/users/1563130/harald-gliebe"}, "edited": false, "score": 0, "creation_date": 1553713867, "post_id": 55384606, "comment_id": 97491545, "body": "Thanks @Harald. Can I do this (create an epic) in a component?"}, {"owner": {"reputation": 5932, "user_id": 1563130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F9nmW.jpg?s=128&g=1", "display_name": "Harald Gliebe", "link": "https://stackoverflow.com/users/1563130/harald-gliebe"}, "edited": false, "score": 0, "creation_date": 1553714081, "post_id": 55384606, "comment_id": 97491631, "body": "You need to use <code>combineEpics()</code> to combine all the Epics in your application and run it with the <code>epicMiddleware</code>. See <a href=\"https://redux-observable.js.org/docs/basics/SettingUpTheMiddleware.html\" rel=\"nofollow noreferrer\">redux-observable.js.org/docs/basics/SettingUpTheMiddleware.h&zwnj;&#8203;tml</a> how to set up <code>redux-observable</code> correctly"}, {"owner": {"reputation": 1113, "user_id": 905321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/83ccc9716b9469f9e55764d021898935?s=128&d=identicon&r=PG", "display_name": "charlee", "link": "https://stackoverflow.com/users/905321/charlee"}, "reply_to_user": {"reputation": 5932, "user_id": 1563130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F9nmW.jpg?s=128&g=1", "display_name": "Harald Gliebe", "link": "https://stackoverflow.com/users/1563130/harald-gliebe"}, "edited": false, "score": 0, "creation_date": 1553717277, "post_id": 55384606, "comment_id": 97493154, "body": "@Harald I started to understand your first question. Probably route should be a global state and changing route is not something a component should worry about. I&#39;m trying to move more logics into Epics and see if I can solve all the problems."}, {"owner": {"reputation": 5932, "user_id": 1563130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F9nmW.jpg?s=128&g=1", "display_name": "Harald Gliebe", "link": "https://stackoverflow.com/users/1563130/harald-gliebe"}, "edited": false, "score": 0, "creation_date": 1553717830, "post_id": 55384606, "comment_id": 97493402, "body": "Good luck! It&#39;s a bit tricky at the beginning, but it will become easier very quickly. And then epics will be good way to encapsulate logic and reduce global state."}], "answers": [{"comments": [{"owner": {"reputation": 1113, "user_id": 905321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/83ccc9716b9469f9e55764d021898935?s=128&d=identicon&r=PG", "display_name": "charlee", "link": "https://stackoverflow.com/users/905321/charlee"}, "edited": false, "score": 0, "creation_date": 1553715123, "post_id": 55385062, "comment_id": 97492095, "body": "Thanks @ralph-ritoch for the solution. I kind of feel that this would be less error proof - what if there are some other actions also update <code>success</code> state? what if the original async &quot;request&quot; action is emitted twice and the successor &quot;success&quot; actions&#39; order cannot be guaranteed?"}, {"owner": {"reputation": 2908, "user_id": 804575, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7b68f43b0bb8a099d2fc6810a9f4a15b?s=128&d=identicon&r=PG", "display_name": "Ralph Ritoch", "link": "https://stackoverflow.com/users/804575/ralph-ritoch"}, "reply_to_user": {"reputation": 1113, "user_id": 905321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/83ccc9716b9469f9e55764d021898935?s=128&d=identicon&r=PG", "display_name": "charlee", "link": "https://stackoverflow.com/users/905321/charlee"}, "edited": false, "score": 0, "creation_date": 1553715449, "post_id": 55385062, "comment_id": 97492262, "body": "@charlee for multiple success states you just give them their own names, such as loginSuccess, fetchUserSuccess, whatever.  I regularly store state from redux into my component so when receiving the state updates from the observable I can check if the state has changed or not so if success is emitted twice it only shows once."}, {"owner": {"reputation": 2908, "user_id": 804575, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7b68f43b0bb8a099d2fc6810a9f4a15b?s=128&d=identicon&r=PG", "display_name": "Ralph Ritoch", "link": "https://stackoverflow.com/users/804575/ralph-ritoch"}, "reply_to_user": {"reputation": 1113, "user_id": 905321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/83ccc9716b9469f9e55764d021898935?s=128&d=identicon&r=PG", "display_name": "charlee", "link": "https://stackoverflow.com/users/905321/charlee"}, "edited": false, "score": 0, "creation_date": 1553715558, "post_id": 55385062, "comment_id": 97492332, "body": "@charlee if you need to sync multiple results with a component than I can see the possiblity of holding an array in your state which has something such as {success: boolean, id: string} and populating id with some random or unique value. I can&#39;t think of too many times when that would be needed, but it is possible to have  a queue redux state."}], "tags": [], "owner": {"reputation": 2908, "user_id": 804575, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7b68f43b0bb8a099d2fc6810a9f4a15b?s=128&d=identicon&r=PG", "display_name": "Ralph Ritoch", "link": "https://stackoverflow.com/users/804575/ralph-ritoch"}, "is_accepted": false, "score": 0, "last_activity_date": 1553714775, "creation_date": 1553714775, "answer_id": 55385062, "question_id": 55384606, "link": "https://stackoverflow.com/questions/55384606/how-to-listen-to-redux-action-stream-in-component/55385062#55385062", "title": "How to listen to redux action stream in component", "body": "<p>With redux the components update based on state. </p>\n\n<p>If you want to update a component based on an action than you update the state in the reducer, such as setting {...state, success: true} in the reducer. From there you simply read the state into your component as you normally would and if the state is changing to success than you show your window.</p>\n"}, {"tags": [], "owner": {"reputation": 30, "user_id": 11717219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1725e296773bdd3679136056be452571?s=128&d=identicon&r=PG", "display_name": "Muhammad Salman Abid", "link": "https://stackoverflow.com/users/11717219/muhammad-salman-abid"}, "is_accepted": false, "score": 0, "last_activity_date": 1561809612, "creation_date": 1561809612, "answer_id": 56817376, "question_id": 55384606, "link": "https://stackoverflow.com/questions/55384606/how-to-listen-to-redux-action-stream-in-component/56817376#56817376", "title": "How to listen to redux action stream in component", "body": "<p>Might be a little late but I solved a similar problem by creating a little npm module. It allows you to subscribe to and listen for redux actions and executes the provided callback function as soon as the state change is complete. Usage is as follows. In your componentWillMount or componentDidMount hook:</p>\n\n<pre><code> subscribeToWatcher(this,[\n      {  \n        action:\"SOME_ACTION\",\n        callback:()=&gt;{\n          console.log(\"Callback Working\");\n        },\n        onStateChange:true\n      },\n    ]);\n</code></pre>\n\n<p>Detailed documentation can be found at  <a href=\"https://www.npmjs.com/package/redux-action-watcher\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/redux-action-watcher</a></p>\n"}, {"tags": [], "owner": {"reputation": 1866, "user_id": 1055809, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/93cfb22638742453d82e7d374e052366?s=128&d=identicon&r=PG", "display_name": "TrySpace", "link": "https://stackoverflow.com/users/1055809/tryspace"}, "is_accepted": false, "score": 0, "last_activity_date": 1574119707, "creation_date": 1574119707, "answer_id": 58924440, "question_id": 55384606, "link": "https://stackoverflow.com/questions/55384606/how-to-listen-to-redux-action-stream-in-component/58924440#58924440", "title": "How to listen to redux action stream in component", "body": "<p>I feel like a dialogue should be a side effect, so you'd put them in epics</p>\n"}], "owner": {"reputation": 1113, "user_id": 905321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/83ccc9716b9469f9e55764d021898935?s=128&d=identicon&r=PG", "display_name": "charlee", "link": "https://stackoverflow.com/users/905321/charlee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2143, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1574119707, "creation_date": 1553712924, "last_edit_date": 1553713827, "question_id": 55384606, "link": "https://stackoverflow.com/questions/55384606/how-to-listen-to-redux-action-stream-in-component", "title": "How to listen to redux action stream in component", "body": "<p>I'm working on a React application that uses the following architecture:</p>\n\n<ul>\n<li><code>redux</code></li>\n<li><code>typesafe-actions</code></li>\n<li><code>redux-observable</code></li>\n</ul>\n\n<p>My question is: How can I execute an UI action on specific redux action?</p>\n\n<p>For example, suppose we have the following async actions defined with <code>typesafe-actions</code>:</p>\n\n<pre><code>export const listTodo = createAsyncAction(\n  'TODO:LIST:REQUEST',\n  'TODO:LIST:SUCCESS',\n  'TODO:LIST:FAILURE',\n)&lt;void, Todo[], Error&gt;();\n</code></pre>\n\n<p>An Epic will watch for <code>listTodo.request()</code> and send the API call, then convert the response to a <code>listTodo.success()</code> action. Then the redux reducer will be triggered by <code>listTodo.success()</code> action and store the todo list into redux store.</p>\n\n<p>In this setting, suppose I want to do the following things in an component:</p>\n\n<ul>\n<li>dispatch a <code>listTodo.request()</code> action to retrieve all the actions</li>\n<li>After the async request is done (i.e. after <code>listTodo.success()</code> action appears in the action stream), redirect the UI to a second path</li>\n</ul>\n\n<p>So my question is, how could I watch the action stream and react to the <code>listTodo.success()</code> action?</p>\n\n<p><strong>UPDATE:</strong> To avoid being too specific, we can think of another case. I want to simply display an alert with <code>window.alert()</code> after <code>listTodo.success()</code> appears in the action stream. Or simply <code>console.log()</code>, or whatever that changes local state (instead of global redux state). Is there a way to implement that?</p>\n\n<p><strong>UPDATE 2:</strong> There is a similar question <a href=\"https://stackoverflow.com/questions/43226681/how-to-subscribe-to-action-success-callback-using-ngrx-and-effects\">here</a>, but for Angular w/ ngrx. What I want to do is exactly the thing described in above post, but in React / redux-observable fashion:</p>\n\n<pre><code>import { Actions } from '@ngrx/effects';\n\n@Component(...)\nclass SomeComponent implements OnDestroy {\n    constructor(updates$: Actions) {\n        updates$\n            .ofType(PostActions.SAVE_POST_SUCCESS)\n            .takeUntil(this.destroyed$)\n            .do(() =&gt; /* hooray, success, show notification alert ect..             \n            .subscribe();\n    }\n\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "routing", "routes"], "comments": [{"owner": {"reputation": 11483, "user_id": 600486, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/akN6H.png?s=128&g=1", "display_name": "blurfus", "link": "https://stackoverflow.com/users/600486/blurfus"}, "edited": false, "score": 0, "creation_date": 1553712485, "post_id": 55384466, "comment_id": 97490870, "body": "Are you thinking something like this might help? <a href=\"https://stackoverflow.com/questions/41969571/how-can-i-programatically-pass-parameters-to-an-auxiliary-route-in-angular2\" title=\"how can i programatically pass parameters to an auxiliary route in angular2\">stackoverflow.com/questions/41969571/&hellip;</a>"}, {"owner": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "edited": false, "score": 2, "creation_date": 1553712646, "post_id": 55384466, "comment_id": 97490953, "body": "If you use a query param  (e.g., <code>http:&#47;&#47;localhost:4200&#47;index&#47;?v=1</code>) you don&#39;t need to configure any route and you can obtain it subscribing to <code>queryParams</code> instead of <code>params</code>."}, {"owner": {"reputation": 866, "user_id": 7396097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8b953df826d6691f2337c52325fcb1d8?s=128&d=identicon&r=PG&f=1", "display_name": "rgoal", "link": "https://stackoverflow.com/users/7396097/rgoal"}, "reply_to_user": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "edited": false, "score": 0, "creation_date": 1553713122, "post_id": 55384466, "comment_id": 97491192, "body": "@dcg I tried this (<a href=\"http://localhost:4200/index/?id=1\" rel=\"nofollow noreferrer\">localhost:4200/index/?id=1</a>) value still null for params[&#39;id&#39;]....i even tried this.val=elm.nativeElement.getAttribute(&#39;id&#39;);"}, {"owner": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "edited": false, "score": 1, "creation_date": 1553713209, "post_id": 55384466, "comment_id": 97491236, "body": "@rgoal You have to use <code>this._rout.queryParams.subscribe(...)</code>"}, {"owner": {"reputation": 2918, "user_id": 3979823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/azljt.png?s=128&g=1", "display_name": "ABOS", "link": "https://stackoverflow.com/users/3979823/abos"}, "edited": false, "score": 1, "creation_date": 1553715723, "post_id": 55384466, "comment_id": 97492406, "body": "@rgoal, have you checked out <a href=\"https://stackoverflow.com/questions/39858471/angular-2-how-to-pass-url-parameters/39915434\" title=\"angular 2 how to pass url parameters\">stackoverflow.com/questions/39858471/&hellip;</a>?"}, {"owner": {"reputation": 866, "user_id": 7396097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8b953df826d6691f2337c52325fcb1d8?s=128&d=identicon&r=PG&f=1", "display_name": "rgoal", "link": "https://stackoverflow.com/users/7396097/rgoal"}, "reply_to_user": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "edited": false, "score": 0, "creation_date": 1553721959, "post_id": 55384466, "comment_id": 97495344, "body": "@dcg &amp; ABOS I updated my above code....se Update section...I can get the parameters passed to dashboard but what I want is to get the parameters in the app.componenet to load global values before i do the redirection to dashboard"}, {"owner": {"reputation": 866, "user_id": 7396097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8b953df826d6691f2337c52325fcb1d8?s=128&d=identicon&r=PG&f=1", "display_name": "rgoal", "link": "https://stackoverflow.com/users/7396097/rgoal"}, "reply_to_user": {"reputation": 2918, "user_id": 3979823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/azljt.png?s=128&g=1", "display_name": "ABOS", "link": "https://stackoverflow.com/users/3979823/abos"}, "edited": false, "score": 0, "creation_date": 1553721977, "post_id": 55384466, "comment_id": 97495355, "body": "@ABOS I updated my above code....se Update section...I can get the parameters passed to dashboard but what I want is to get the parameters in the app.componenet to load global values before i do the redirection to dashboard"}, {"owner": {"reputation": 866, "user_id": 7396097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8b953df826d6691f2337c52325fcb1d8?s=128&d=identicon&r=PG&f=1", "display_name": "rgoal", "link": "https://stackoverflow.com/users/7396097/rgoal"}, "edited": false, "score": 0, "creation_date": 1553788835, "post_id": 55384466, "comment_id": 97524723, "body": "ok, i just had to change some of the logic...just I use app.component to get the params in the constructor which is called before my target component constructor"}], "answers": [{"tags": [], "owner": {"reputation": 681, "user_id": 5987836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/055dbc26444fb56e8a51e157613fc91c?s=128&d=identicon&r=PG&f=1", "display_name": "Venu Duggireddy", "link": "https://stackoverflow.com/users/5987836/venu-duggireddy"}, "is_accepted": false, "score": 0, "last_activity_date": 1553801579, "creation_date": 1553801579, "answer_id": 55405569, "question_id": 55384466, "link": "https://stackoverflow.com/questions/55384466/angular-passing-value-to-index-html/55405569#55405569", "title": "Angular Passing Value to index.html", "body": "<p>Here is how you can get the parameters in app.component.ts based on the URL. </p>\n\n<p>ie., <a href=\"http://localhost:4200/index/1\" rel=\"nofollow noreferrer\">http://localhost:4200/index/1</a></p>\n\n<pre><code> export class AppComponent {\n      constructor(private router: Router) {\n        this.router.events.subscribe( (event: RouterEvent) =&gt; {\n          if(event.url.startsWith('/index/')){\n            console.log(\"id is %s\", event.id);\n            this.router.navigate(['/']);\n          }\n\n        });\n      }\n\n    }\n</code></pre>\n\n<p>If you want to load static global variables you can pass with the route data object</p>\n\n<p>ex: </p>\n\n<pre><code>{ path: '', redirectTo: '/dashboard', pathMatch: 'full', data : {'one':'1', 'two': '2'} },\n</code></pre>\n\n<p>Then you can get data object as below </p>\n\n<pre><code>export class AppComponent {\n\n       constructor(private router: Router) {\n           this.router.events.subscribe( (event: RouterEvent) =&gt; {\n             console.log(event['snapshot'].data)      \n           });\n       }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 866, "user_id": 7396097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8b953df826d6691f2337c52325fcb1d8?s=128&d=identicon&r=PG&f=1", "display_name": "rgoal", "link": "https://stackoverflow.com/users/7396097/rgoal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2352, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553801579, "creation_date": 1553712331, "last_edit_date": 1553721741, "question_id": 55384466, "link": "https://stackoverflow.com/questions/55384466/angular-passing-value-to-index-html", "title": "Angular Passing Value to index.html", "body": "<p>I am trying to pass a value to index.html , which call app.componenet. I am trying to process the query string tha get passed in my root component before I do a redirect</p>\n\n<p><strong>LINK Goal</strong></p>\n\n<pre><code>http://localhost:4200/index/1\n</code></pre>\n\n<p><strong>HtML</strong></p>\n\n<pre><code>  &lt;app-root&gt;&lt;/app-root&gt;\n</code></pre>\n\n<p><strong>APP.Component</strong></p>\n\n<pre><code>@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n  providers: [AppComponentService]\n})\n\nexport class AppComponent {\n constructor(elm: ElementRef,private _service: AppComponentService, private _rout: ActivatedRoute) {\n\n        this._rout.params.subscribe(params =&gt; {\n\n            console.log('id' + params['id']);//value is undefined\n\n\n        });\n}\n</code></pre>\n\n<p><strong>App Routes</strong></p>\n\n<pre><code>{ path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n</code></pre>\n\n<p>*****************************UPDATE**********************************************************************</p>\n\n<p>My issue should be coming fro the rout..please keep in mind I am trying to hit the app.comonent first to perform some logic before I do redirect to dashboard</p>\n\n<pre><code>I change my rout to\n\nconst routes: Routes = [\n    { path: '', component: AppComponent }\n];\n\n@NgModule({\n    imports: [RouterModule.forRoot(routes, { preloadingStrategy: PreloadAllModules })],\n    exports: [RouterModule]\n})\n\nexport class AppRoutingModule { }\n</code></pre>\n\n<p><strong>app.component</strong></p>\n\n<pre><code>constructor(elm: ElementRef,private _service: AppComponentService, private _rout: ActivatedRoute) {\n\n        this._rout.params.subscribe(params =&gt; {\n\n            console.log('id' + params['id']);//value is undefined\n             //some logic then will redirect to dashboard\n\n        });\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 2041, "user_id": 7316365, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/84de9f27708456d85bf1078aa51155b2?s=128&d=identicon&r=PG&f=1", "display_name": "Vivick", "link": "https://stackoverflow.com/users/7316365/vivick"}, "is_accepted": true, "score": 1, "last_activity_date": 1553711300, "creation_date": 1553711300, "answer_id": 55384220, "question_id": 55384170, "link": "https://stackoverflow.com/questions/55384170/types-for-array-prototype-find-with-an-array-deconstructor/55384220#55384220", "title": "Types for &#39;Array.prototype.find()&#39; with an array deconstructor", "body": "<p>The whole problem comes down to the fact that you're trying to use destructuring on something that might not be destrcturable (e.g. <code>undefined</code>).</p>\n\n<p>If you are sure <code>let [alias, config] = Object.entries(info).find(...)</code> will <strong>never</strong> result in <code>undefined</code> in your use cases then you just have to cast it :</p>\n\n<pre><code>let [alias, config] = Object.entries(info).find(/*...*/) as [string | DBConfig];\n</code></pre>\n\n<p>If it <strong>may</strong> result in <code>undefined</code> then you will have to accept a nullable DBConfig </p>\n\n<pre><code>let [alias, config] = Object.entries(info).find(/*...*/) || [\"\", null];\n</code></pre>\n"}], "owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 55384220, "answer_count": 1, "score": 0, "last_activity_date": 1553711300, "creation_date": 1553711059, "question_id": 55384170, "link": "https://stackoverflow.com/questions/55384170/types-for-array-prototype-find-with-an-array-deconstructor", "title": "Types for &#39;Array.prototype.find()&#39; with an array deconstructor", "body": "<p>I am trying to destruct an array, but I am getting the following errors:</p>\n\n<blockquote>\n  <p>Type 'undefined' must have a 'Symbol.iterator' method that returns an iterator.</p>\n</blockquote>\n\n<pre><code>let [alias, config]: [string, DBConfig] | undefined = Object.entries(info).find(...)\n</code></pre>\n\n<p>This is what the <code>find</code> definition shows, it is the same as what I defined.</p>\n\n<pre><code>(method) Array&lt;[string, DBConfig]&gt;.find(predicate: (\n  value: [string, DBConfig], \n  index: number, \n  obj: [string, DBConfig][]) =&gt; boolean, thisArg?: any\n): [string, DBConfig] | undefined (+1 overload)\n</code></pre>\n\n<p>If I remove my definition so it looks like this:</p>\n\n<pre><code>let [alias, config] = Object.entries(info).find(...)\n</code></pre>\n\n<p>I then get the same error. What can I do (without using <code>any</code>) to get this working?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1553711430, "post_id": 55384069, "comment_id": 97490369, "body": "You <a href=\"https://github.com/Microsoft/TypeScript/issues/1213\" rel=\"nofollow noreferrer\">can&#39;t</a>, sorry.  \u2639"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1553711534, "post_id": 55384069, "comment_id": 97490422, "body": "Workarounds may be forthcoming if you can post more about your specific use case"}, {"owner": {"reputation": 80557, "user_id": 578895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d8cf27059d3e36cdb21e26d5e1defe8c?s=128&d=identicon&r=PG", "display_name": "Mark Kahn", "link": "https://stackoverflow.com/users/578895/mark-kahn"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1553711758, "post_id": 55384069, "comment_id": 97490548, "body": "@jcalz - was afraid of that, but thanks!  This pretty much is my current use case.  I want a mapping function in TS, e.g. <code>Map&lt;ary, unpack&gt;</code>, <code>Map&lt;ary, nullable&gt;</code>, etc.  <code>UnpackArray</code>, etc is possible but I was just wondering if it&#39;d be possible to make them less noisy."}], "owner": {"reputation": 80557, "user_id": 578895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d8cf27059d3e36cdb21e26d5e1defe8c?s=128&d=identicon&r=PG", "display_name": "Mark Kahn", "link": "https://stackoverflow.com/users/578895/mark-kahn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553710728, "creation_date": 1553710728, "question_id": 55384069, "link": "https://stackoverflow.com/questions/55384069/typescript-generic-extends-generic", "title": "Typescript generic extends generic?", "body": "<p>I'm trying to build a map function in TS (<a href=\"http://www.typescriptlang.org/play/#src=type%20%24TupleMap%3CT%20extends%20any%5B%5D%2C%20F%3E%20%3D%20%7B%0A%20%20%5BP%20in%20keyof%20T%5D%3A%20F%3CT%5BP%5D%3E%0A%7D\" rel=\"nofollow noreferrer\">TS playground</a>): </p>\n\n<pre><code>type $TupleMap&lt;T extends any[], F&gt; = {\n  [P in keyof T]: F&lt;T[P]&gt;\n}\n</code></pre>\n\n<p>This yells at me saying <code>Type 'F' is not generic</code> on the <code>F&lt;T[P]&gt;</code> bit.</p>\n\n<p>How do I define <code>F</code> to be a generic with one type argument?</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "tsconfig"], "comments": [{"owner": {"reputation": 2292, "user_id": 8412352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzHvQ.jpg?s=128&g=1", "display_name": "pmkro", "link": "https://stackoverflow.com/users/8412352/pmkro"}, "edited": false, "score": 0, "creation_date": 1553710727, "post_id": 55383929, "comment_id": 97490012, "body": "<a href=\"https://www.typescriptlang.org/docs/handbook/module-resolution.html\" rel=\"nofollow noreferrer\">In the docs</a> under path mapping they have set the base url to just <code>.</code>"}, {"owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "reply_to_user": {"reputation": 2292, "user_id": 8412352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzHvQ.jpg?s=128&g=1", "display_name": "pmkro", "link": "https://stackoverflow.com/users/8412352/pmkro"}, "edited": false, "score": 0, "creation_date": 1553710818, "post_id": 55383929, "comment_id": 97490060, "body": "@pmkro <code>.</code> and <code>.&#47;</code> resolve to the same directory, the contrary would be a TS implementation bug"}, {"owner": {"reputation": 2292, "user_id": 8412352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzHvQ.jpg?s=128&g=1", "display_name": "pmkro", "link": "https://stackoverflow.com/users/8412352/pmkro"}, "reply_to_user": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "edited": false, "score": 0, "creation_date": 1553710917, "post_id": 55383929, "comment_id": 97490121, "body": "@NinoFiliu I figured as much"}], "answers": [{"comments": [{"owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "reply_to_user": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 0, "creation_date": 1553711402, "post_id": 55384072, "comment_id": 97490355, "body": "Well, yes, and also <a href=\"https://netbasal.com/sexier-imports-in-typescript-e3c645bdd3c6\" rel=\"nofollow noreferrer\">this article</a> says the same. But on my machine, removing the glob pattern made the whole thing work as expected, and adding them back provoked a bug. That&#39;s enough to be an answer for me."}, {"owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "reply_to_user": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 0, "creation_date": 1553711474, "post_id": 55384072, "comment_id": 97490396, "body": "IMO there is definitely a bug in somewhere between my IDE and TS&#39; implementation, but still, if a fix works for someone, it has value as an answer"}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1553712001, "post_id": 55384072, "comment_id": 97490652, "body": "I tried removing the glob pattern and it still does not resolve for me.  I pushed the changes to the github repository."}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1553712822, "post_id": 55384072, "comment_id": 97491051, "body": "Also the issue is separate from VSCode.  I&#39;m running <code>npm run compile</code> configured in the <code>package.json</code> and the <code>src&#47;index.ts:1:20 - error TS2307:  Cannot find module &#39;@test&#39;</code> ` is still logged."}, {"owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "reply_to_user": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1553713102, "post_id": 55384072, "comment_id": 97491180, "body": "You didn&#39;t say I wrote ;) it&#39;s <code>&quot;@test&quot;: [&quot;.&#47;test&quot;]</code>, not <code>&quot;@test&#47;&quot;: [&quot;.&#47;test&#47;&quot;]</code>. No slash."}], "tags": [], "owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "is_accepted": false, "score": 2, "last_activity_date": 1553711650, "last_edit_date": 1553711650, "creation_date": 1553710738, "answer_id": 55384072, "question_id": 55383929, "link": "https://stackoverflow.com/questions/55383929/typescript-paths-not-resolving/55384072#55384072", "title": "Typescript paths not resolving", "body": "<p>Remove the glob patterns:</p>\n\n<pre><code>\"paths\": {\n  \"@test\": \"./test\"\n}\n</code></pre>\n\n<p>Your solution is weirdly supposed to work, but <a href=\"https://www.typescriptlang.org/docs/handbook/module-resolution.html#path-mapping\" rel=\"nofollow noreferrer\">the docs</a> use no globs and <a href=\"https://stackoverflow.com/questions/43281741/how-to-use-paths-in-tsconfig-json/43330003#43330003\">there have been some reported intellisense bugs</a> when using globs.</p>\n"}, {"comments": [{"owner": {"reputation": 728, "user_id": 7148629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HBjEl.gif?s=128&g=1", "display_name": "dropbeardan", "link": "https://stackoverflow.com/users/7148629/dropbeardan"}, "edited": false, "score": 0, "creation_date": 1613858596, "post_id": 58782628, "comment_id": 117207755, "body": "You sir, are brilliant."}], "tags": [], "owner": {"reputation": 1821, "user_id": 6445118, "user_type": "registered", "profile_image": "https://graph.facebook.com/1130636330333013/picture?type=large", "display_name": "Jai", "link": "https://stackoverflow.com/users/6445118/jai"}, "is_accepted": true, "score": 4, "last_activity_date": 1573327272, "last_edit_date": 1573327272, "creation_date": 1573326394, "answer_id": 58782628, "question_id": 55383929, "link": "https://stackoverflow.com/questions/55383929/typescript-paths-not-resolving/58782628#58782628", "title": "Typescript paths not resolving", "body": "<p>Don't adjust the VS Code Import Module Specifier settings (as per some answers floating around). And don't remove the glob patterns. In fact add some more in:</p>\n\n<pre><code> \"baseUrl\": \"./\",\n  \"paths\": {\n    \"@fs/*\": [\"src/*\"], \n    \"@test/*\": [\"test/*\"]\n  },\n</code></pre>\n\n<p>Notice that the glob is in the key AND the value. This is hilariously hard to spot sometimes.</p>\n\n<p>Where the target is a file, the glob should be omitted from key and value.</p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6137, "favorite_count": 0, "accepted_answer_id": 58782628, "answer_count": 2, "score": 5, "last_activity_date": 1615510751, "creation_date": 1553710202, "last_edit_date": 1553714119, "question_id": 55383929, "link": "https://stackoverflow.com/questions/55383929/typescript-paths-not-resolving", "title": "Typescript paths not resolving", "body": "<p><a href=\"https://github.com/oleersoy/typescript-paths\" rel=\"nofollow noreferrer\">Here</a>'s the Github MCVE showing an issue. <code>npm run compile</code> shows the error.</p>\n\n<p>I'm trying to do this:</p>\n\n<pre><code>import {Todo} from '@test';\n</code></pre>\n\n<p>But it's not resolving.</p>\n\n<blockquote>\n  <p>src/index.ts:1:20 - error TS2307: Cannot find module '@test'.</p>\n</blockquote>\n\n<p>I have <code>paths</code> in <code>tsconfig.json</code>.</p>\n\n<pre><code>  \"baseUrl\": \"./\",                          /* Base directory to resolve non-absolute module names. */\n  \"paths\": {\n    \"@fs/\": [\"src/\"], \n    \"@test/\": [\"test/\"]\n  },                                        /* A series of entries which re-map imports to lookup locations relative to the 'baseUrl'. */\n</code></pre>\n\n<p>Thoughts?  </p>\n\n<h2>Github Typescript Issue</h2>\n\n<p><a href=\"https://github.com/Microsoft/TypeScript/issues/30619\" rel=\"nofollow noreferrer\">I opened a bug report for this here</a> since per some of the comments it should have worked.</p>\n\n<p>Typescript note that I updated the github repository removing the glob patterns and slashes in <code>@test</code>.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "amazon-s3", "url-rewriting"], "comments": [{"owner": {"reputation": 14816, "user_id": 117658, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/kwZT6.jpg?s=128&g=1", "display_name": "Jack Marchetti", "link": "https://stackoverflow.com/users/117658/jack-marchetti"}, "edited": false, "score": 0, "creation_date": 1553721915, "post_id": 55383694, "comment_id": 97495311, "body": "Did you deploy to s3 as a static website or to an ec2 instance?"}, {"owner": {"reputation": 366, "user_id": 10385262, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A60lnpfJ-Vg/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWvWRuKdOqUAalP2U5YoQ_CcrrlWg/mo/photo.jpg?sz=128", "display_name": "Dexter", "link": "https://stackoverflow.com/users/10385262/dexter"}, "reply_to_user": {"reputation": 14816, "user_id": 117658, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/kwZT6.jpg?s=128&g=1", "display_name": "Jack Marchetti", "link": "https://stackoverflow.com/users/117658/jack-marchetti"}, "edited": false, "score": 0, "creation_date": 1553738986, "post_id": 55383694, "comment_id": 97499915, "body": "Static and what&#39;s the difference?"}], "owner": {"reputation": 366, "user_id": 10385262, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A60lnpfJ-Vg/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWvWRuKdOqUAalP2U5YoQ_CcrrlWg/mo/photo.jpg?sz=128", "display_name": "Dexter", "link": "https://stackoverflow.com/users/10385262/dexter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553709301, "creation_date": 1553709301, "question_id": 55383694, "link": "https://stackoverflow.com/questions/55383694/unable-route-to-pages-after-doing-build-and-deployed-in-aws-instance-using-angul", "title": "unable route to pages after doing build and deployed in aws instance using angular", "body": "<p>here in my local my application is working and previously the build edition used to run in docker also but when we moved to aws the issue we arised is some url and not navigating when we try to navigate i am getting \nthe link is this  <a href=\"http://www.sometesturl/demo-page\" rel=\"nofollow noreferrer\">http://www.sometesturl/demo-page</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/l4XOw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l4XOw.png\" alt=\"http://www.sometesturl/demo-page\"></a></p>\n\n<p>and other routing url are working and it is like i declared like</p>\n\n<pre><code> &lt;a href=\"/demo-page\"&gt; &lt;/a&gt;\n</code></pre>\n\n<p>on clicking it has to redirect and like this i have 7 other pages which are working but only this page is not working and i applied </p>\n\n<pre><code>RouterModule.forRoot(\n      appRoutes,\n      { enableTracing: true,useHash:true,anchorScrolling:'enabled' } // &lt;-- debugging purposes only\n    )\n</code></pre>\n\n<p>useHash:True also but whats happening is then the url stays in the same page i mean  if click on the demo page then it redirects and come back to the same page again  like  <a href=\"http://www.sometesturl/#/\" rel=\"nofollow noreferrer\">http://www.sometesturl/#/</a>  to  <a href=\"http://www.sometesturl/demo-page\" rel=\"nofollow noreferrer\">http://www.sometesturl/demo-page</a>  to  <a href=\"http://www.sometesturl/#/\" rel=\"nofollow noreferrer\">http://www.sometesturl/#/</a> it even doesn't redirect also if i use Hash is there any config rules to be written for aws instance  </p>\n"}, {"tags": ["angular", "typescript", "http", "rxjs"], "comments": [{"owner": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "edited": false, "score": 1, "creation_date": 1553707646, "post_id": 55383182, "comment_id": 97488311, "body": "What is the actual content-type being sent from the server? If the content-type is <code>application&#47;json</code> there would be no reason to use <code>responseType: &#39;text&#39;</code>. The &quot;data&quot; displayed in the error looks to be JSON, so you can just use the default <code>responseType</code> so that HttpClient parses the received JSON for use in your template. What is the reason you are wanting to use <code>responseType: &#39;text&#39;</code>?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1553707784, "post_id": 55383182, "comment_id": 97488373, "body": "<i>however, I am taking my object and transforming it into an array.</i>: where? The posted code doesn&#39;t do that anywhere. You&#39;re trying to iterate through a string."}, {"owner": {"reputation": 196, "user_id": 8441289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1f901e1b3367a449db32c1b657bae84?s=128&d=identicon&r=PG&f=1", "display_name": "Rob DePietro", "link": "https://stackoverflow.com/users/8441289/rob-depietro"}, "edited": false, "score": 0, "creation_date": 1553707867, "post_id": 55383182, "comment_id": 97488412, "body": "It is application/json ; however, I am getting httpResponse errors from my server when it can&#39;t render JSON from what I&#39;ve read that if I can have the httpResponse text I may get rid of those errors"}, {"owner": {"reputation": 196, "user_id": 8441289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1f901e1b3367a449db32c1b657bae84?s=128&d=identicon&r=PG&f=1", "display_name": "Rob DePietro", "link": "https://stackoverflow.com/users/8441289/rob-depietro"}, "edited": false, "score": 0, "creation_date": 1553707974, "post_id": 55383182, "comment_id": 97488488, "body": "JB nizet, in my ngOnInit() am I not taking the json object and then assigning it to the notificationFass array in my component? excuse my ignorance"}, {"owner": {"reputation": 5529, "user_id": 1939697, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5af836fe4c7401f77e1f58f0d5cce819?s=128&d=identicon&r=PG", "display_name": "UncleDave", "link": "https://stackoverflow.com/users/1939697/uncledave"}, "edited": false, "score": 2, "creation_date": 1553708080, "post_id": 55383182, "comment_id": 97488556, "body": "No, you are taking your text response from the server (a string) and overwriting the empty array that is <code>notificationFass</code>."}, {"owner": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "edited": false, "score": 1, "creation_date": 1553708090, "post_id": 55383182, "comment_id": 97488560, "body": "Right, <code>*ngFor</code> can only render objects of a specific format such as an array of objects. Definitely do not use <code>responseType: &#39;text&#39;</code> if your content-type is <code>application&#47;json</code>. It will not be parsed and will simply be a string that under no circumstances could be used by structural directives such as <code>*ngFor</code>. You should probably share the logic you had taking the response prior to the <code>text</code> <code>responseType</code> change and turning it into an array."}], "answers": [{"tags": [], "owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "is_accepted": false, "score": 1, "last_activity_date": 1553708842, "creation_date": 1553708842, "answer_id": 55383573, "question_id": 55383182, "link": "https://stackoverflow.com/questions/55383182/angular-http-get-error-with-responsetype-text/55383573#55383573", "title": "Angular http.get error with {{responseType: &#39;text}}", "body": "<p>Based on the json in the error message you need to do the following:</p>\n\n<ul>\n<li>Define an interface, I used the name <code>INotification</code>. This will define the members available on the deserialized json response.</li>\n<li>Strongly type the method return types and also supply the generic type argument in <code>http.get&lt;T&gt;</code>. When <code>http.get</code> is called it will try to deserialize the json response from the server to an object graph. By defining <code>INotification[]</code> as the returned type further callers, like from a component, can now safely call members on the return type like <code>find</code> or other Array.prototype members as well as access the defined members on instances in the array.</li>\n</ul>\n\n<p><code>responseType: 'text'</code> is only necessary when you are not emitting a response from the server <em>or</em> when the response is text and not json. The former can happen with <code>post</code> or <code>put</code> or <code>delete</code> calls where the server might only send a status and no message body in the response.</p>\n\n<p>Here is your service code rewritten based on the feedback above.</p>\n\n<p><strong>notificationsFassService.ts</strong></p>\n\n<pre><code>export interface INotification {\n    incidentNumber: number;\n    createdByName: string;\n    createdDate: string;\n}\n\nexport class NotificationsFassService {\n    constructor (private readonly http: HttpClient) { }\n\n    getAll():Observable&lt;INotification[]&gt; {\n        return this.http.get&lt;INotification[]&gt;(this.url);\n    } \n}\n</code></pre>\n\n<p><strong>notificationsFassComponent.ts</strong></p>\n\n<pre><code>export class NotificationsFassComponent implements OnInit {\n    notificationsFass: INotification[];\n\n    constructor(route: ActivatedRoute, private metaService: Meta, private notificationService: NotificationsFassService) {\n        this.notificationsFass = [];\n    }\n\n    ngOnInit() {\n        this.notificationService.getAll()\n          .subscribe(notificationsFass =&gt; {\n             this.notificationsFass = notificationsFass;\n          });\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 196, "user_id": 8441289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1f901e1b3367a449db32c1b657bae84?s=128&d=identicon&r=PG&f=1", "display_name": "Rob DePietro", "link": "https://stackoverflow.com/users/8441289/rob-depietro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553708842, "creation_date": 1553707437, "last_edit_date": 1553707666, "question_id": 55383182, "link": "https://stackoverflow.com/questions/55383182/angular-http-get-error-with-responsetype-text", "title": "Angular http.get error with {{responseType: &#39;text}}", "body": "<p>Whenever i try to use {{requestType: 'text'}} in my http.get(url) call I get an error that I am unable to diff and only arrays and iterables are allowed; however, I am taking my object and transforming it into an array. I need some assistance understanding my error and how to fix my situation</p>\n\n<p>When I remove the RequestType the array comes through no issues and displays on my front end. </p>\n\n<pre><code>----service-----\n\n getAll(){\n    const requestOptions: Object = {\n      /* other options here */\n      responseType: 'text'\n    }\n    return this.http.get&lt;any&gt;(this.url, requestOptions);\n} \n\n---component .ts----- \n\nnotificationsFass: any[];\n\n  constructor(route: ActivatedRoute, private metaService: Meta, private notificationService: NotificationsFassService) {\n    this.notificationsFass = [];\n}\n\n\nngOnInit() {\n    this.notificationService.getAll()\n      .subscribe(notificationsFass =&gt; {\n        this.notificationsFass = notificationsFass;\n      }\n        );\n}\n\n---html---\n\n&lt;div *ngFor=\"let m of notificationsFass\"&gt;\n\n---error----\nERROR Error: Error trying to diff '[{\"incidentNumber\":700,\"createdByName\":\"FASS Notification\",\"createdDate\":\"2019-03-27T09:18:15.000+0000\"}]'. Only arrays and iterables are allowed\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "edited": false, "score": 1, "creation_date": 1553708172, "post_id": 55383136, "comment_id": 97488605, "body": "Typically people will use <i>another</i> build tool to turn your source into something that&#39;s easier for the browser to digest. Popular ones are Webpack, Rollup and Browserify."}, {"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 0, "creation_date": 1553708262, "post_id": 55383136, "comment_id": 97488661, "body": "What does &quot;deploy it&quot; mean on browser. You want to use <code>require</code> but not in bundled code?"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 3976096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MlkcB.jpg?s=128&g=1", "display_name": "Nik Shevchenko", "link": "https://stackoverflow.com/users/3976096/nik-shevchenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1553713120, "creation_date": 1553713120, "answer_id": 55384657, "question_id": 55383136, "link": "https://stackoverflow.com/questions/55383136/deploy-typescript-project-for-use-in-browser/55384657#55384657", "title": "Deploy Typescript project for use in browser?", "body": "<p>If you need to check your library before publishing:</p>\n\n<p><strong>First solution</strong></p>\n\n<pre><code>npm install /absolute/path/to/your-lib\n</code></pre>\n\n<p>And that yields this in our package.json file:</p>\n\n<pre><code>\"dependencies\": {\n  \"your-lib\": \"file:../../path/your-lib\",\n}\n</code></pre>\n\n<p><strong>Second solution</strong></p>\n\n<pre><code>~/path/to/your-lib $ npm link\n~/path/to/some-lib $ npm link package-name\n</code></pre>\n\n<p>Information about this solution in official npm site: <a href=\"https://docs.npmjs.com/cli/link\" rel=\"nofollow noreferrer\">NPM Link</a></p>\n"}], "owner": {"reputation": 459, "user_id": 10576398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc7637759c1df9d1f9fd4acab1375de2?s=128&d=identicon&r=PG&f=1", "display_name": "cameraguy258", "link": "https://stackoverflow.com/users/10576398/cameraguy258"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1553713120, "creation_date": 1553707296, "question_id": 55383136, "link": "https://stackoverflow.com/questions/55383136/deploy-typescript-project-for-use-in-browser", "title": "Deploy Typescript project for use in browser?", "body": "<p>I've created a small project using Typescript that I wish to publish as a Node package. Since it gets compiled into JS, my hope is that both Typescript and Javascript coders can implement my project.</p>\n\n<p>However, I'm not sure how to test the application in-browser, since I can't use <code>require</code> (<code>Uncaught ReferenceError: require is not defined</code>).</p>\n\n<p>How can I test my application locally, but also set it up deploy it, so that someone could either use <code>import * as myProject from 'myproject</code> or <code>var myProject = require('myproject')</code>?</p>\n"}, {"tags": ["angular", "typescript", "promise"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 2, "creation_date": 1553706977, "post_id": 55382980, "comment_id": 97487981, "body": "Use an arrow function"}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 11267783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f932c24300bb1fdab1a12d646b0057b6?s=128&d=identicon&r=PG&f=1", "display_name": "Mo0nKizz", "link": "https://stackoverflow.com/users/11267783/mo0nkizz"}, "edited": false, "score": 0, "creation_date": 1553707526, "post_id": 55383050, "comment_id": 97488251, "body": "Thank&#39;s a lot  !!!! Now it works ! Why does it work with the arrow function and not with my function ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10747134"}, "reply_to_user": {"reputation": 65, "user_id": 11267783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f932c24300bb1fdab1a12d646b0057b6?s=128&d=identicon&r=PG&f=1", "display_name": "Mo0nKizz", "link": "https://stackoverflow.com/users/11267783/mo0nkizz"}, "edited": false, "score": 0, "creation_date": 1553707675, "post_id": 55383050, "comment_id": 97488331, "body": "You can read more about the scope here <a href=\"https://medium.com/tfogo/advantages-and-pitfalls-of-arrow-functions-a16f0835799e\" rel=\"nofollow noreferrer\">medium.com/tfogo/&hellip;</a>"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10747134"}, "is_accepted": true, "score": 0, "last_activity_date": 1553707008, "creation_date": 1553707008, "answer_id": 55383050, "question_id": 55382980, "link": "https://stackoverflow.com/questions/55382980/cant-access-to-module-in-promise-angular/55383050#55383050", "title": "Can&#39;t access to module in promise Angular", "body": "<p>You should be able to access it by using the arrow function to get lexical scoping. </p>\n\n<pre><code>return new Promise((resolve,reject) =&gt; {\n  console.log(this.tokenService.getToken());\n})\n</code></pre>\n\n<ul>\n<li><a href=\"https://ultimatecourses.com/blog/es6-arrow-functions-syntaxes-and-lexical-scoping#functionality-lexical-scoping-this\" rel=\"nofollow noreferrer\">More about arrow functions</a></li>\n</ul>\n"}], "owner": {"reputation": 65, "user_id": 11267783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f932c24300bb1fdab1a12d646b0057b6?s=128&d=identicon&r=PG&f=1", "display_name": "Mo0nKizz", "link": "https://stackoverflow.com/users/11267783/mo0nkizz"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "closed_date": 1553712884, "accepted_answer_id": 55383050, "answer_count": 1, "score": 0, "last_activity_date": 1553707008, "creation_date": 1553706751, "question_id": 55382980, "link": "https://stackoverflow.com/questions/55382980/cant-access-to-module-in-promise-angular", "closed_reason": "Duplicate", "title": "Can&#39;t access to module in promise Angular", "body": "<p>When I want to use a service, here TokenService with a method getToken() which return a string \"totototok\", when I call it in a promise, I can't get the answer. The error is : </p>\n\n<p>core.js:15723 ERROR Error: Uncaught (in promise): TypeError: Cannot read property 'tokenService' of undefined\nTypeError: Cannot read property 'tokenService' of undefined</p>\n\n<p>Just below, it's an easy example just to show you the problem.</p>\n\n<pre><code>import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class TokenService {\n\n  token : string;\n\n  constructor() {\n    this.token=\"tototototok\" \n  }\n\n  getToken(){\n    return this.token;\n  }\n}\n</code></pre>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { TokenService } from '../services/token.service';\n\n@Component({\n  selector: 'app-testpromise',\n  templateUrl: './testpromise.component.html',\n  styleUrls: ['./testpromise.component.scss']\n})\nexport class TestpromiseComponent implements OnInit {\n\n  constructor(private tokenService : TokenService) { }\n\n  ngOnInit() {\n  }\n\n  first(){\n\n\n    return new Promise(function(resolve,reject){\n\n      console.log(this.tokenService.getToken());\n\n    })\n  }\n\n}\n</code></pre>\n\n<p>How can I solve this problem ?</p>\n"}, {"tags": ["reactjs", "typescript", "visual-studio-code", "vscode-extensions"], "comments": [{"owner": {"reputation": 7110, "user_id": 800619, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/374b8f6eb41fb881b3c726786bc8383a?s=128&d=identicon&r=PG", "display_name": "NSjonas", "link": "https://stackoverflow.com/users/800619/nsjonas"}, "edited": false, "score": 0, "creation_date": 1553706746, "post_id": 55382843, "comment_id": 97487864, "body": "Stepped away to get coffee and it clicked! Redux would work wonderfully with this setup.    Sometimes it takes writing a dissertation on stackoverflow just to wrap your brain around the problem"}], "owner": {"reputation": 7110, "user_id": 800619, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/374b8f6eb41fb881b3c726786bc8383a?s=128&d=identicon&r=PG", "display_name": "NSjonas", "link": "https://stackoverflow.com/users/800619/nsjonas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 315, "favorite_count": 2, "answer_count": 0, "score": 2, "last_activity_date": 1607478980, "creation_date": 1553706299, "last_edit_date": 1561285425, "question_id": 55382843, "link": "https://stackoverflow.com/questions/55382843/react-with-a-event-based-communication", "title": "React with a event based communication", "body": "<p>I'm trying to use React inside a <a href=\"https://code.visualstudio.com/api/extension-guides/webview\" rel=\"nofollow noreferrer\">vscode webview panel</a>.  I'd consider myself decently component in react, but I'm used to communicating with the backend via http.  </p>\n\n<p>In this project, the vscode extension is essentially the server and all communication must be done by sending events between the two.</p>\n\n<pre><code>//vscode extension (server)\n\n//send message to react app\npanel.webview.postMessage({ command: 'refactor' });\n//receive messages from react app\npanel.webview.onDidReceiveMessage(message =&gt; console.log(message))\n</code></pre>\n\n<pre><code>//webview (react app)\n\n//send message to extension\nconst vscode = acquireVsCodeApi();\nvscode.postMessage({command: 'hello', text: 'world'});\n//receive messages from extension\nwindow.addEventListener('message', event =&gt; console.log(event))\n</code></pre>\n\n<p>My brain is struggling to determine the best way to setup 2-way communications.  </p>\n\n<p>For example, making a request from the webview to get data for a resource would typically that would look something like this:</p>\n\n<pre><code>public refresh = () =&gt; {\n    this.setState({loading: true}, async () =&gt; {\n       try{\n         const item = await (await fetch('api/items/3')).json();\n         this.setState({item});\n       }catch(e){\n         this.setState({loading: false, err: e});\n       }\n    })\n}\n</code></pre>\n\n<p>But with the Event API this approach obviously doesn't work...</p>\n\n<pre><code>public refresh = () =&gt; {\n   // could register a listener before sending and deactivate it after, but that seems wrong!\n   vscode.postMessage({command: 'getItems', id: '3'});\n\n}\n</code></pre>\n\n<p>I see some discussion about registering listeners in the <code>componentDidMount</code>, but since the event is a generic <code>message</code> then pretty much every component that communicates with server is going to be listening and then have to filter out what it cares about.</p>\n\n<p>One idea at this point is to create a abstraction layer that allows the messages to be sent and the response awaited:</p>\n\n<pre><code>//track requests and wait for a response\nconst PENDING_REQUESTS = {};\nfunction vscodeFetch(payload: any){\n\n    return new Promise((resolve, reject) =&gt; {\n        let reqId = crypto.getRandomValues(new Uint32Array(4)).join('-');\n        vscode.postMessage({reqId, payload);\n        PENDING_REQUESTS[reqId] = {resolve, reject};\n    });\n\n }\n\n //handle update resolve/reject promises on response\n window.addEventListener('message', event =&gt; {\n    const message = event.data;\n    if(message.reqId){\n        let promise = PENDING_REQUESTS[message.reqId];\n        delete PENDING_REQUESTS[message.reqId];\n        if(message.success){\n            p.resolve(message.resp);\n        }else{\n            p.reject(message.err);\n        }\n    }\n });\n\n\n\nlet items = await vscodeFetch({command: 'getItems', data: {id: 3}});\n</code></pre>\n\n<p>but this kinda feels like I'd be inventing my own protocol (sounds simple until you start considering exceptional behavior like timeouts)!</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "promise"], "comments": [{"owner": {"reputation": 32538, "user_id": 906113, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/eccce05f2ea328d45afe24843e009d25?s=128&d=identicon&r=PG", "display_name": "str", "link": "https://stackoverflow.com/users/906113/str"}, "edited": false, "score": 2, "creation_date": 1553706290, "post_id": 55382802, "comment_id": 97487601, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call\">How do I return the response from an asynchronous call?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 6954, "user_id": 4861873, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/iTryJ.jpg?s=128&g=1", "display_name": "gbalduzzi", "link": "https://stackoverflow.com/users/4861873/gbalduzzi"}, "edited": false, "score": 0, "creation_date": 1553706448, "post_id": 55382875, "comment_id": 97487696, "body": "Just want to add that the <code>async</code> function will return a promise aswell"}, {"owner": {"reputation": 1379, "user_id": 3587624, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/0d027a64fc870832410a87419265937a?s=128&d=identicon&r=PG&f=1", "display_name": "user3587624", "link": "https://stackoverflow.com/users/3587624/user3587624"}, "edited": false, "score": 0, "creation_date": 1553706865, "post_id": 55382875, "comment_id": 97487923, "body": "The second option I think is not doable for me because within the function that I am calling getUserNames is not an async function and I can&#39;t change that. In the first option, why when I do <i>return result</i> inside the .then(result ...) can I assign the result to a variable that is out of the getUserNames result? something similar to what I have done in my edition of the main post."}, {"owner": {"reputation": 1379, "user_id": 3587624, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/0d027a64fc870832410a87419265937a?s=128&d=identicon&r=PG&f=1", "display_name": "user3587624", "link": "https://stackoverflow.com/users/3587624/user3587624"}, "edited": false, "score": 0, "creation_date": 1553707106, "post_id": 55382875, "comment_id": 97488044, "body": "Just to clarify: If I try to do awai getUserNames within the function that I am trying to call getuserNames I get an error that says &#39;await&#39; expression is only allowed within an async function."}, {"owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "edited": false, "score": 1, "creation_date": 1553707502, "post_id": 55382875, "comment_id": 97488234, "body": "<code>why when I do return result inside the .then(result ...) can I assign the result to a variable that is out of the getUserNames result?</code> Assigning to a variable like that is legal javascript but almost certainly not what you want to do. The promise will resolve at some unknown time in the future. Any code that to interact with the result synchronously will fail, because the value doesn&#39;t exist yet. If you want to wait for the value to be available, then your only options are the .then callback or await. And yes, await can only be used in an async function."}, {"owner": {"reputation": 1379, "user_id": 3587624, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/0d027a64fc870832410a87419265937a?s=128&d=identicon&r=PG&f=1", "display_name": "user3587624", "link": "https://stackoverflow.com/users/3587624/user3587624"}, "edited": false, "score": 0, "creation_date": 1553708023, "post_id": 55382875, "comment_id": 97488522, "body": "Thanks, I will marl your response as the valid one given that you have enumerated here the two possible options."}], "tags": [], "owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "is_accepted": true, "score": 3, "last_activity_date": 1553706477, "last_edit_date": 1553706477, "creation_date": 1553706392, "answer_id": 55382875, "question_id": 55382802, "link": "https://stackoverflow.com/questions/55382802/resolve-a-function-that-uses-promise/55382875#55382875", "title": "Resolve a function that uses Promise", "body": "<p>If you want to get access to the value that the promise resolves to, your only options are </p>\n\n<p>1) use the promise's .then callback</p>\n\n<pre><code>getUserNames(idList)\n  .then(result =&gt; {\n    // Do something else here.\n  })\n</code></pre>\n\n<p>2) Put the code in an async function and use the await keyword:</p>\n\n<pre><code>async function someFunction () {\n  const result = await getUserNames(idList);\n  // Do something else here.\n}\n</code></pre>\n\n<p>Note that since all async functions return promises, someFunction will return a promise in this example.</p>\n"}, {"comments": [{"owner": {"reputation": 1379, "user_id": 3587624, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/0d027a64fc870832410a87419265937a?s=128&d=identicon&r=PG&f=1", "display_name": "user3587624", "link": "https://stackoverflow.com/users/3587624/user3587624"}, "edited": false, "score": 0, "creation_date": 1553707309, "post_id": 55382905, "comment_id": 97488135, "body": "I see what you mean. Then it is not possible to do anything else out of the if (result) block. All the dependent code needs to go in there, right?"}], "tags": [], "owner": {"reputation": 2038, "user_id": 2828594, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/4XNqm.jpg?s=128&g=1", "display_name": "soueuls", "link": "https://stackoverflow.com/users/2828594/soueuls"}, "is_accepted": false, "score": 0, "last_activity_date": 1553706484, "creation_date": 1553706484, "answer_id": 55382905, "question_id": 55382802, "link": "https://stackoverflow.com/questions/55382802/resolve-a-function-that-uses-promise/55382905#55382905", "title": "Resolve a function that uses Promise", "body": "<p><code>getUserNames</code> does return a <code>promise&lt;string[]&gt;</code> that's exactly what its signature says.</p>\n\n<p>You should perform your <code>if (result)</code> inside the <code>then</code></p>\n\n<p>Or you could use the new <code>await</code> keyword which will make sure the promise is resolved before it's assigned to <code>promiseResult</code>\nIn this case, wrap your <code>await</code> inside a try/catch.</p>\n"}, {"tags": [], "owner": {"reputation": 1668, "user_id": 1576822, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/FY9gu.jpg?s=128&g=1", "display_name": "Sergio Belevskij", "link": "https://stackoverflow.com/users/1576822/sergio-belevskij"}, "is_accepted": false, "score": 0, "last_activity_date": 1553706990, "creation_date": 1553706990, "answer_id": 55383046, "question_id": 55382802, "link": "https://stackoverflow.com/questions/55382802/resolve-a-function-that-uses-promise/55383046#55383046", "title": "Resolve a function that uses Promise", "body": "<p>You not need to use async/await in your code.</p>\n\n<pre><code>/**\n * async data fetcher\n * @param {String} url \n * @param {Object} options \n * @returns {Promise}\n */\nconst fetch = (url, options) =&gt; {\n  return new Promise((resolve, reject) =&gt; {\n    fetch(url, options)\n      .then((response) =&gt; {\n        if (response.ok) {\n          return resolve(response.json)\n        }\n        return reject(response.json)\n      })\n      .catch((error) =&gt; reject({ error }))\n  })\n}\n\n/**\n * async fetch wrapper, returns a Promise\n * @param {NUmber} id \n * @returns {Promise}\n */\nconst getUserNames = (id) =&gt; {\n  return fetch('www.yourapi.com/get_user_names', { params: { id } })\n}\n\nconst idList = [1, 2, 3]\n// so, your code also will be asyncronious too:\nPromise.all([getUserNames(idList)]).then((promiseResult) =&gt; {\n  if (promiseResult) {\n    // Do something else here.\n  }\n})\n</code></pre>\n"}], "owner": {"reputation": 1379, "user_id": 3587624, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/0d027a64fc870832410a87419265937a?s=128&d=identicon&r=PG&f=1", "display_name": "user3587624", "link": "https://stackoverflow.com/users/3587624/user3587624"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "accepted_answer_id": 55382875, "answer_count": 3, "score": 1, "last_activity_date": 1553707000, "creation_date": 1553706183, "last_edit_date": 1553707000, "question_id": 55382802, "link": "https://stackoverflow.com/questions/55382802/resolve-a-function-that-uses-promise", "title": "Resolve a function that uses Promise", "body": "<p>I have the following async function</p>\n\n<pre><code>export default async function getUserNames(id: string[]): Promise&lt;string[]&gt; {\n    let userNames: string[] = [];\n    // We do some stuff here like calling a service, etc...\n\n    return userNames;\n}\n</code></pre>\n\n<p>On a different typescript file, I am importing the getuserNames function and trying to call it like this:</p>\n\n<pre><code>const promiseResult = getUserNames(idList)\n        .then(result =&gt; {\n            return result;\n        })\n        .catch(error =&gt; {\n            return undefined;\n        });\n\n    if (promiseResult) {\n        // Do something else here.\n    }\n</code></pre>\n\n<p>However, the promiseResult type is of Promise instead of string[] which is what I am expecting. How can I call the getuserNames function and when it is done, the actual string[] is returned to the promiseResult variable?</p>\n\n<p><em>EDIT</em>\nIs it accepted to do something like this?</p>\n\n<pre><code>let varB: string[];\nconst promiseResult = getUserNames(idList)\n        .then(result =&gt; {\n            varB = result;\n        })\n        .catch(error =&gt; {\n            varB = undefined;\n        });\n\nif (varB) {\n        // Do something else here.\n    }\n</code></pre>\n\n<p>Lastly, please notice that the function that calls getUserNames is not defined as async and I can't change that.</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "navigator"], "comments": [{"owner": {"reputation": 19681, "user_id": 402037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc3b3667c918504550fd656ac50b87f?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/402037/andreas"}, "edited": false, "score": 0, "creation_date": 1553706242, "post_id": 55382758, "comment_id": 97487570, "body": "Then you should check the submitted data and the server-side code why it throws an <i>&quot;internal server error&quot;</i>"}, {"owner": {"reputation": 1, "user_id": 6866702, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EdVYJAK-i6A/AAAAAAAAAAI/AAAAAAAAYKQ/JofrM2-9nE0/photo.jpg?sz=128", "display_name": "Adam Foerster", "link": "https://stackoverflow.com/users/6866702/adam-foerster"}, "edited": false, "score": 0, "creation_date": 1553709409, "post_id": 55382758, "comment_id": 97489658, "body": "The error 500 is a server error, so the value of navigator.onLine is true. If not, can you reproduce it on stackblitz?"}, {"owner": {"reputation": 197, "user_id": 8041800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/513c32fac0a9f9280f00174c41eab130?s=128&d=identicon&r=PG&f=1", "display_name": "Avocado", "link": "https://stackoverflow.com/users/8041800/avocado"}, "reply_to_user": {"reputation": 1, "user_id": 6866702, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EdVYJAK-i6A/AAAAAAAAAAI/AAAAAAAAYKQ/JofrM2-9nE0/photo.jpg?sz=128", "display_name": "Adam Foerster", "link": "https://stackoverflow.com/users/6866702/adam-foerster"}, "edited": false, "score": 0, "creation_date": 1553711481, "post_id": 55382758, "comment_id": 97490399, "body": "@AdamFoerster it works when I go offline from browser network but doesn&#39;t work when I turn my wifi off"}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1553716098, "post_id": 55382758, "comment_id": 97492586, "body": "<code>navigator.onLine</code> is not reliable, it works differently depending on browser. You really should rely on the on the request failing and react accordingly."}], "owner": {"reputation": 197, "user_id": 8041800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/513c32fac0a9f9280f00174c41eab130?s=128&d=identicon&r=PG&f=1", "display_name": "Avocado", "link": "https://stackoverflow.com/users/8041800/avocado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553711544, "creation_date": 1553706015, "last_edit_date": 1553711544, "question_id": 55382758, "link": "https://stackoverflow.com/questions/55382758/make-post-request-when-user-is-online-otherwise-store-in-local-storage", "title": "Make post request when user is online otherwise store in local storage", "body": "<p>On click to submit button, I would like to make a post request when the user is online. if the user is offline I would like to store submitted data in local storage. Unfortunately, I am getting  500 error when clicking on submit button after turning my wifi off. It works when I go offline from the browser network  </p>\n\n<pre><code>onSubmit() {  \n let postData = [];\nfor (var groupId in this.deltasByGroupId) {\n  if (!this.deltasByGroupId.hasOwnProperty(groupId)) { continue }\n\n  for (var k in this.deltasByGroupId[groupId]) {\n    if (!this.deltasByGroupId[groupId].hasOwnProperty(k)) { continue }\n\n    let secs = this.deltasByGroupId[groupId][k];\n\n    var item1 = secs[\"items\"]\n    for (var j in item1) {\n\n      var item2 = item1[j]\n      for (var l in item2) {\n\n        var listItem = item2[\"items\"]\n        for (var li in listItem) {\n          this.model = new MeasurementChange(listItem[li].id, listItem[li].percent_complete);\n          postData.push(this.model);\n        }\n      }\n    }\n  }\n}\nif(navigator.onLine){\n  this.pEntryService.postEntries(postData).subscribe(res =&gt; {\n        alert(\"Data submitted successfully\")\n      })\n\n} else{\n\nthis.storage.set('cashedData', postData).then(res =&gt; {\nalert(\"Data successsfully stored locally\")\n})\n}\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-router"], "answers": [{"tags": [], "owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "is_accepted": true, "score": 3, "last_activity_date": 1553706002, "last_edit_date": 1553706002, "creation_date": 1553705691, "answer_id": 55382638, "question_id": 55382410, "link": "https://stackoverflow.com/questions/55382410/angular-7-2-0-type-string-is-not-assignable-to-type-runguardsandresolvers/55382638#55382638", "title": "Angular 7.2.0: Type &#39;string&#39; is not assignable to type &#39;RunGuardsAndResolvers&#39;", "body": "<p>This is just the way type inference works in TypeScript.\nWhen you first assign it to a variable, it will infer the type for the variable to <code>{runGuardsAndResolvers: string}</code> and then it doesn't match when it is used later. In this case, you have to specify the type explicitly:</p>\n\n<pre><code>const options = {\n  runGuardsAndResolvers: \"always\" as RunGuardsAndResolvers\n};\n</code></pre>\n\n<hr>\n\n<p>Have a look at this example:</p>\n\n<pre><code>const method = (options: { runGuardsAndResolvers: RunGuardsAndResolvers }) =&gt; {\n  return options;\n};\n\n// This works\nmethod({ runGuardsAndResolvers: \"always\" });\n\n// This fails\nconst options = { runGuardsAndResolvers: \"always\" };\nmethod(options);\n\n// This works\nconst typedOptions = {\n  runGuardsAndResolvers: \"always\" as RunGuardsAndResolvers\n};\nmethod(typedOptions);\n</code></pre>\n\n<p>Live demo:</p>\n\n<p><a href=\"https://codesandbox.io/s/rrq3mlq3rq?fontsize=14&amp;module=%2Fsrc%2Findex.ts\" rel=\"nofollow noreferrer\"><img src=\"https://codesandbox.io/static/img/play-codesandbox.svg\" alt=\"Edit Typescript type inference\"></a></p>\n"}], "owner": {"reputation": 920, "user_id": 3822326, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/80878d93dab19638c712a6ebe958a281?s=128&d=identicon&r=PG&f=1", "display_name": "RandyDaddis", "link": "https://stackoverflow.com/users/3822326/randydaddis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 959, "favorite_count": 0, "accepted_answer_id": 55382638, "answer_count": 1, "score": 2, "last_activity_date": 1553706039, "creation_date": 1553704915, "last_edit_date": 1553706039, "question_id": 55382410, "link": "https://stackoverflow.com/questions/55382410/angular-7-2-0-type-string-is-not-assignable-to-type-runguardsandresolvers", "title": "Angular 7.2.0: Type &#39;string&#39; is not assignable to type &#39;RunGuardsAndResolvers&#39;", "body": "<p>Angular compiler-cli v.7.2.0 is throwing:</p>\n\n<blockquote>\n  <p>Types of property 'runGuardsAndResolvers' are incompatible.   Type\n  'string' is not assignable to type 'RunGuardsAndResolvers'</p>\n</blockquote>\n\n<p>when setting <code>runGuardsAndResolvers: 'always'</code> in a constant which is imported into <code>AppRoutingModule</code>.</p>\n\n<p>This does not occur when I set <code>runGuardsAndResolvers: 'always'</code> within <code>AppRoutingModule</code> itself.</p>\n\n<p><strong>app-routing.module.ts</strong></p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { adminRouterConfig } from 'src/app/core/_routing/admin-router-config';\n\nconst appRoutes: Routes = [\n  { path: '', component: HomeComponent },\n  {\n    path: '',\n    children: [\n      ...adminRouterConfig\n    ]\n  },\n  { path: '**', redirectTo: '', pathMatch: 'full' }\n  ];\n\n@NgModule({\n  imports: [RouterModule.forRoot(appRoutes,\n                                 { enableTracing: true }\n)],\n  exports: [RouterModule]\n})\n\nexport class AppRoutingModule { }\n</code></pre>\n\n<p><strong>admin-router-config.ts</strong></p>\n\n<pre><code>import { AuthGuard } from 'src/app/core/_guards/auth.guard';\n\nexport const adminRouterConfig = [\n  {\n    path: 'admin',\n    runGuardsAndResolvers: 'always',\n    canActivate: [AuthGuard],\n    children: [\n      ...\n    ]\n  }\n];\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-services"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1553718107, "post_id": 55382379, "comment_id": 97493529, "body": "Where is this <code>bar</code>  instance coming from? (I am referring to code <code>new FooClass(bar);</code>)"}, {"owner": {"reputation": 352, "user_id": 5069196, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lVsDtRtafyg/AAAAAAAAAAI/AAAAAAAAABc/TFUCKGFxa_E/photo.jpg?sz=128", "display_name": "Harshul Vijay", "link": "https://stackoverflow.com/users/5069196/harshul-vijay"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1553786884, "post_id": 55382379, "comment_id": 97523300, "body": "@Igor Oh, sorry! It was intended to be a <code>string</code> or an <code>object</code>. Fixed."}], "answers": [{"comments": [{"owner": {"reputation": 352, "user_id": 5069196, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lVsDtRtafyg/AAAAAAAAAAI/AAAAAAAAABc/TFUCKGFxa_E/photo.jpg?sz=128", "display_name": "Harshul Vijay", "link": "https://stackoverflow.com/users/5069196/harshul-vijay"}, "edited": false, "score": 0, "creation_date": 1553786836, "post_id": 55385796, "comment_id": 97523261, "body": "OK, now I know what I was doing wrong... Actually I had already did this, but not in &#39;Foo2Service&#39;... Thanks, by the way..."}], "tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": true, "score": 1, "last_activity_date": 1553718019, "creation_date": 1553718019, "answer_id": 55385796, "question_id": 55382379, "link": "https://stackoverflow.com/questions/55382379/using-services-in-non-angular-classes/55385796#55385796", "title": "Using Services in non-Angular Classes", "body": "<p>Using <code>Injector</code> should work:</p>\n\n\n\n<p>Create the injector:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>const injector = Injector.create({ \n  providers: [ \n    { provide: Foo2Service, deps:[] },\n  ]\n});\n</code></pre>\n\n<p>For the sake of the test, let's return the string <code>test</code> from your init function in service:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>init() {\n  return 'test';\n}\n</code></pre>\n\n<p>for testing, in your class you would call <code>init</code> using the injector:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>func1() {\n  let myService = injector.get(Foo2Service);\n  return myService.init();\n}\n</code></pre>\n\n<p>and finally the component calling <code>func1</code>:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>ngOnInit() {\n  const foo = new FooClass({});\n  console.log(foo.func1()) // prints 'test'\n}\n</code></pre>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-2komcp?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">DEMO</a></strong></p>\n"}], "owner": {"reputation": 352, "user_id": 5069196, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lVsDtRtafyg/AAAAAAAAAAI/AAAAAAAAABc/TFUCKGFxa_E/photo.jpg?sz=128", "display_name": "Harshul Vijay", "link": "https://stackoverflow.com/users/5069196/harshul-vijay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 55385796, "answer_count": 1, "score": 1, "last_activity_date": 1553786909, "creation_date": 1553704805, "last_edit_date": 1553786909, "question_id": 55382379, "link": "https://stackoverflow.com/questions/55382379/using-services-in-non-angular-classes", "title": "Using Services in non-Angular Classes", "body": "<p>I am using Angular v7.3.5 and I want to use a Service in a non-Angular class, something like this:</p>\n\n<p>foo.model.ts</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>import { Foo2Service } from './foo2.service';\n// Definition for FooClass (a model)\nexport class FooClass {\n    constructor(args: any) {\n        // Do something with args\n    }\n\n    func1() {\n        // -----&gt; Use Foo2Service here &lt;-------\n    }\n}\n</code></pre>\n\n<p>foo2.service.ts</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>export class Foo2Service {\n    // Service code\n    constructor(private bar: BarService) {}\n\n    init() {\n        // Code that returns something\n    }\n}\n</code></pre>\n\n<p>app.component.ts</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>import { FooClass } from './foo.model.ts';\n\nexport class AppComponent {\n    constructor() {\n        const foo = new FooClass('bar');\n        console.log(foo.func1());\n    }\n}\n</code></pre>\n\n<p>Is it possible to do so? If yes, what is the best way to do it?</p>\n\n<p><strong>NOTE:</strong> I tried to use the <code>Injector</code> class provided by Angular but it didn't work for me. So please help.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 934, "user_id": 7266996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f671f26dca6ed03127bc42fc9c0a02?s=128&d=identicon&r=PG&f=1", "display_name": "Amol Gupta", "link": "https://stackoverflow.com/users/7266996/amol-gupta"}, "edited": false, "score": 0, "creation_date": 1553708999, "post_id": 55383517, "comment_id": 97489066, "body": "This seems fine but as i was going through the documentation the word <code>after</code> in phrase  <code>T refers to the individual constituents after the conditional type is distributed over the union type</code> is italicized does that hold any significance ?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 934, "user_id": 7266996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f671f26dca6ed03127bc42fc9c0a02?s=128&d=identicon&r=PG&f=1", "display_name": "Amol Gupta", "link": "https://stackoverflow.com/users/7266996/amol-gupta"}, "edited": false, "score": 3, "creation_date": 1553710201, "post_id": 55383517, "comment_id": 97489703, "body": "@AmolGupta I can&#39;t speak to the choice of italics .... but it seems consistent with what I wrote, when (ie after) instantiation occurs <code>T</code> will be in turn each constituent of the union."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 4, "last_activity_date": 1553708605, "creation_date": 1553708605, "answer_id": 55383517, "question_id": 55382306, "link": "https://stackoverflow.com/questions/55382306/typescript-distributive-conditional-types/55383517#55383517", "title": "Typescript Distributive Conditional Types", "body": "<p>Within a distributive conditional type (let's say <code>type BoxIfObject&lt;T&gt; = T extends object ? Array&lt;T&gt; : T;</code>) when the type is applied to a union (let's say <code>number | { a : string }</code>), it's as if the conditional type is applied to each constituent of the union and thus within the conditional type <code>T</code> will in turn refer to each constituent of the union (so <code>T</code> will first be <code>number</code> and then <code>T</code> will be <code>{ a : string }</code>)</p>\n\n<p>So when we apply <code>BoxIfObject&lt;number | { a : string }&gt;</code>, <code>T</code> will never refer to the whole union <code>number | { a : string }</code> but to each of it's constituents in turn. Basically <code>BoxIfObject&lt;number | { a : string }&gt; = BoxIfObject&lt;number&gt; | BoxIfObject&lt;{ a : string }&gt; = number | Array&lt;{ a : string }</code></p>\n"}, {"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1553710407, "post_id": 55383816, "comment_id": 97489812, "body": "A very through explanation, always a pleasure to read your stuff :)"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 23, "last_activity_date": 1553711229, "last_edit_date": 1553711229, "creation_date": 1553709797, "answer_id": 55383816, "question_id": 55382306, "link": "https://stackoverflow.com/questions/55382306/typescript-distributive-conditional-types/55383816#55383816", "title": "Typescript Distributive Conditional Types", "body": "<p>Hmm, I just read through <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#distributive-conditional-types\" rel=\"noreferrer\">the documentation</a> and it makes sense to me... I don't know if I can explain it any better than that, but let's go through it.  In what follows, and <code>...x...</code>, means \"some expression in which <code>x</code> might appear\".  </p>\n\n<blockquote>\n  <p>Conditional types in which the checked type is a naked type parameter are called <em>distributive conditional types</em>. </p>\n</blockquote>\n\n<p>In this case, a <em>type parameter</em> means a <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"noreferrer\">generic type parameter</a>, and a <em>naked</em> type parameter is a type expression where the type parameter appears alone and is not part of some more complex type expression.  And the <em>checked type</em> is the type appearing before <code>extends</code>.  Let's see some examples:</p>\n\n<ul>\n<li><code>type A&lt;T&gt; = string extends T ? \"yes\" : \"no\"</code>  This is not a distributive conditional type.  The checked type is <code>string</code>, which is not a generic type parameter.</li>\n<li><code>type B&lt;T&gt; = {x: T} extends {x: number} ? \"yes\" : \"no\"</code>  This is not a distributive conditional type.  The checked type is <code>{x: T}</code>, which has the type parameter <code>T</code> in it, but is not a <em>naked</em> type parameter.</li>\n<li><code>type C&lt;T&gt; = T extends string ? \"yes\" : \"no\"</code> This is a distributive conditional type; the checked type is <code>T</code>, which is a naked generic type parameter.</li>\n</ul>\n\n<blockquote>\n  <p>Distributive conditional types are automatically distributed over union types during instantiation. For example, an instantiation of <code>T extends U ? X : Y</code> with the type argument <code>A | B | C</code> for <code>T</code> is resolved as <code>(A extends U ? X : Y) | (B extends U ? X : Y) | (C extends U ? X : Y)</code>.  </p>\n</blockquote>\n\n<p>This is the essence of what a <a href=\"https://en.wikipedia.org/wiki/Distributive_property\" rel=\"noreferrer\">distributive</a> property does.  If you have a type alias <code>F&lt;T&gt;</code> defined to be a distributive conditional type, as in:</p>\n\n<pre><code>type F&lt;T&gt; = T extends ...T... ? ...T... : ...T...\n</code></pre>\n\n<p>Then <code>F&lt;T&gt;</code> will distribute over unions, meaning that for <em>any</em> types <code>A</code> and <code>B</code>, the type <code>F&lt;A | B&gt;</code> will be equivalent to the type <code>F&lt;A&gt; | F&lt;B&gt;</code></p>\n\n<blockquote>\n  <p>In instantiations of a distributive conditional type <code>T extends U ? X : Y</code>, references to <code>T</code> within the conditional type are resolved to individual constituents of the union type (i.e. <code>T</code> refers to the individual constituents after the conditional type is distributed over the union type). </p>\n</blockquote>\n\n<p>This is the part that confused you, but it's just explaining how the distribution works.    It's saying that to evaluate <code>F&lt;A | B&gt;</code>, you should evaluate <code>F&lt;A&gt; | F&lt;B&gt;</code>.  So for <code>F&lt;A&gt;</code>, you take <code>F&lt;T&gt; = T extends ...T... ? ...T... : ...T...</code> and plug in <code>A</code> for <code>T</code> (to get <code>A extends ...A... ? ...A... : ...A...</code>), and then plug in <code>B</code> for <code>T</code> (to get <code>B extends ...B... ? ...B... : ...B...</code>), and then unite them.  </p>\n\n<p>Let's go through a concrete example:</p>\n\n<pre><code>type D&lt;T&gt; = T extends string ? T : \"nope\"\n</code></pre>\n\n<p>What is this:</p>\n\n<pre><code>type E = D&lt;\"a\" | \"b\" | 0 | true&gt; \n</code></pre>\n\n<p>Well, here's how <em>not</em> to do it:</p>\n\n<pre><code>type E = (\"a\" | \"b\" | 0 | true) extends string ? (\"a\" | \"b\" | 0 | true) : \"nope\" //\ud83d\udc4e\n\ntype E = \"nope\" //\ud83d\udc4e\n</code></pre>\n\n<p>I just plugged <code>\"a\" | \"b\" | 0 | true</code> into <code>T</code> without distributing, and that's wrong.  Here's how to do it correctly:</p>\n\n<pre><code>type E = D&lt;\"a\"&gt; | D&lt;\"b\"&gt; | D&lt;0&gt; | D&lt;true&gt; //\ud83d\udc4d\n\ntype E = (\"a\" extends string ? \"a\" : \"nope\") |\n         (\"b\" extends string ? \"b\" : \"nope\") |\n         (0 extends string ? 0 : \"nope\") |\n         (true extends string ? true : \"nope\") //\ud83d\udc4d\n\ntype E = (\"a\") | (\"b\") | (\"nope\") | (\"nope\") //\ud83d\udc4d\n\ntype E = \"a\" | \"b\" | \"nope\" //\ud83d\udc4d\n</code></pre>\n\n<p>See, we took the \"individual constituents of the union\" and replaced <code>T</code> with each one of them in turn.</p>\n\n<p>Okay, I hope that makes more sense now.  Good luck!</p>\n"}], "owner": {"reputation": 934, "user_id": 7266996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f671f26dca6ed03127bc42fc9c0a02?s=128&d=identicon&r=PG&f=1", "display_name": "Amol Gupta", "link": "https://stackoverflow.com/users/7266996/amol-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1410, "favorite_count": 5, "accepted_answer_id": 55383816, "answer_count": 2, "score": 13, "last_activity_date": 1553711229, "creation_date": 1553704607, "question_id": 55382306, "link": "https://stackoverflow.com/questions/55382306/typescript-distributive-conditional-types", "title": "Typescript Distributive Conditional Types", "body": "<p>So i was going through the documentation on typescript and am not able to get my head around this concept.</p>\n\n<p>So the documentation states :- </p>\n\n<p>In instantiations of a distributive conditional type T extends U ? X : Y, references to T within the conditional type are resolved to individual constituents of the union type (i.e. T refers to the individual constituents after the conditional type is distributed over the union type). Furthermore, references to T within X have an additional type parameter constraint U (i.e. T is considered assignable to U within X).</p>\n\n<p>I cannot understand the part <code>T refers to the individual constituents after the conditional type is distributed over the union type</code>.</p>\n\n<p>Can anyone please explain this to me.\nAn example of the same would be highly appreciated, the one in the documentation is not very clear to me.</p>\n"}, {"tags": ["javascript", "node.js", "typescript"], "comments": [{"owner": {"reputation": 2711, "user_id": 998829, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/71565da9c7ff2de9ec6215c9d6882561?s=128&d=identicon&r=PG", "display_name": "Joey Ciechanowicz", "link": "https://stackoverflow.com/users/998829/joey-ciechanowicz"}, "edited": false, "score": 0, "creation_date": 1553705298, "post_id": 55382263, "comment_id": 97487084, "body": "is <code>this.map</code> a JS Map? Or an object?"}], "answers": [{"tags": [], "owner": {"reputation": 2711, "user_id": 998829, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/71565da9c7ff2de9ec6215c9d6882561?s=128&d=identicon&r=PG", "display_name": "Joey Ciechanowicz", "link": "https://stackoverflow.com/users/998829/joey-ciechanowicz"}, "is_accepted": true, "score": 0, "last_activity_date": 1553705425, "creation_date": 1553705425, "answer_id": 55382550, "question_id": 55382263, "link": "https://stackoverflow.com/questions/55382263/getting-object-and-not-a-string-using-hashmap/55382550#55382550", "title": "Getting OBJECT and not a string using hashmap", "body": "<p>If your <code>map</code> is a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\" rel=\"nofollow noreferrer\"><code>Map</code></a> then you can serialise it by first converting it to an array of key/pair values.</p>\n\n<pre><code>const stringMap = JSON.stringify([...this.map])\n</code></pre>\n\n<p>If it's a plain JS object then <code>JSON.stringify(this.map)</code> will suffice</p>\n"}], "owner": {"reputation": 371, "user_id": 10349481, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-w-NvSDYbOoM/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP8EFgyUaFI-e39P88F7VBIVbFeqg/mo/photo.jpg?sz=128", "display_name": "Andre Moraes", "link": "https://stackoverflow.com/users/10349481/andre-moraes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "accepted_answer_id": 55382550, "answer_count": 1, "score": 0, "last_activity_date": 1553705425, "creation_date": 1553704475, "last_edit_date": 1553704534, "question_id": 55382263, "link": "https://stackoverflow.com/questions/55382263/getting-object-and-not-a-string-using-hashmap", "title": "Getting OBJECT and not a string using hashmap", "body": "<p>I'm using some hashmap and wanna in the end of the code takes all values of this hashmap without pass a single key value.</p>\n\n<p>Basic flow:</p>\n\n<ol>\n<li>Create hashmap from a external file, structure of the file \"id:value\"</li>\n<li>use this hashmap</li>\n<li>insert new values in hashmap</li>\n<li>get all keys and values to save in the external file</li>\n</ol>\n\n<p>I'm tried to pass all the map without use get but not work.</p>\n\n<pre><code>fs.appendFile('test.txt', this.map.toString(), 'utf8', (err: Error) =&gt;\n{\n  if (err) throw err;\n  console.log('Data is appended to file successfully.');\n});\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 860, "user_id": 7757121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50ad2112e291c63100a9953313d440dd?s=128&d=identicon&r=PG&f=1", "display_name": "Farasi78", "link": "https://stackoverflow.com/users/7757121/farasi78"}, "edited": false, "score": 0, "creation_date": 1553704003, "post_id": 55381901, "comment_id": 97486312, "body": "try swapping the position of the userProfileEdit/:postId and userProfile.  I think order is important, going from most specific to least specific route"}, {"owner": {"reputation": 848, "user_id": 9707804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/woFB7.jpg?s=128&g=1", "display_name": "Ratnadeep Chakraborty", "link": "https://stackoverflow.com/users/9707804/ratnadeep-chakraborty"}, "reply_to_user": {"reputation": 860, "user_id": 7757121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50ad2112e291c63100a9953313d440dd?s=128&d=identicon&r=PG&f=1", "display_name": "Farasi78", "link": "https://stackoverflow.com/users/7757121/farasi78"}, "edited": false, "score": 0, "creation_date": 1553704401, "post_id": 55381901, "comment_id": 97486549, "body": "Thank you for your response. I tried what you said but unfortunately did not work."}, {"owner": {"reputation": 1232, "user_id": 5671595, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-BP1CrbVNLEo/AAAAAAAAAAI/AAAAAAAAALE/pmJWtJM1n6U/photo.jpg?sz=128", "display_name": "Abdul Basit", "link": "https://stackoverflow.com/users/5671595/abdul-basit"}, "edited": false, "score": 1, "creation_date": 1553705626, "post_id": 55381901, "comment_id": 97487267, "body": "@RatnadeepChakraborty replace this <code>[routerLink]=&quot;[&#39;userProfileEdit&#39;, post.id]&quot;</code> with this <code>[routerLink]=&quot;[&#39;&#47;userProfileEdit&#39;, post.id]&quot;</code>"}, {"owner": {"reputation": 848, "user_id": 9707804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/woFB7.jpg?s=128&g=1", "display_name": "Ratnadeep Chakraborty", "link": "https://stackoverflow.com/users/9707804/ratnadeep-chakraborty"}, "edited": false, "score": 0, "creation_date": 1553705846, "post_id": 55381901, "comment_id": 97487372, "body": "@AbdulBasil Thank you very much sir ! It worked. But can you just tell me why was not it working the other way as all others are working without that slash ? Just to know for future purpose."}, {"owner": {"reputation": 1232, "user_id": 5671595, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-BP1CrbVNLEo/AAAAAAAAAAI/AAAAAAAAALE/pmJWtJM1n6U/photo.jpg?sz=128", "display_name": "Abdul Basit", "link": "https://stackoverflow.com/users/5671595/abdul-basit"}, "edited": false, "score": 0, "creation_date": 1553709094, "post_id": 55381901, "comment_id": 97489120, "body": "@RatnadeepChakraborty please check the answer"}], "answers": [{"comments": [{"owner": {"reputation": 848, "user_id": 9707804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/woFB7.jpg?s=128&g=1", "display_name": "Ratnadeep Chakraborty", "link": "https://stackoverflow.com/users/9707804/ratnadeep-chakraborty"}, "edited": false, "score": 0, "creation_date": 1553711107, "post_id": 55383623, "comment_id": 97490215, "body": "Thanks for nice explanation."}], "tags": [], "owner": {"reputation": 1232, "user_id": 5671595, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-BP1CrbVNLEo/AAAAAAAAAAI/AAAAAAAAALE/pmJWtJM1n6U/photo.jpg?sz=128", "display_name": "Abdul Basit", "link": "https://stackoverflow.com/users/5671595/abdul-basit"}, "is_accepted": true, "score": 2, "last_activity_date": 1553709034, "creation_date": 1553709034, "answer_id": 55383623, "question_id": 55381901, "link": "https://stackoverflow.com/questions/55381901/how-to-fix-error-uncaught-in-promise-error-cannot-match-any-routes-url-seg/55383623#55383623", "title": "How to fix Error: Uncaught (in promise): Error: Cannot match any routes. URL Segment: &#39;****&#39;", "body": "<p>Just replace this </p>\n\n<pre><code> [routerLink]=\"['userProfileEdit', post.id]\n</code></pre>\n\n<p>with this </p>\n\n<pre><code>[routerLink]=\"['/userProfileEdit', post.id]\"\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>If you add slash <code>/</code> to <code>routerLink</code> like <code>[routerLink]=\"['/userProfileEdit']</code>, it means go to route with base url like <code>localhost/userProfileEdit</code>. And if you add route without slash <code>/</code> like <code>[routerLink]=\"['userProfileEdit']</code>, it will append <code>userProfileEdit</code> to the existing url already in address bar.</p>\n"}], "owner": {"reputation": 848, "user_id": 9707804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/woFB7.jpg?s=128&g=1", "display_name": "Ratnadeep Chakraborty", "link": "https://stackoverflow.com/users/9707804/ratnadeep-chakraborty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 836, "favorite_count": 0, "accepted_answer_id": 55383623, "answer_count": 1, "score": 1, "last_activity_date": 1553724418, "creation_date": 1553703316, "last_edit_date": 1553724418, "question_id": 55381901, "link": "https://stackoverflow.com/questions/55381901/how-to-fix-error-uncaught-in-promise-error-cannot-match-any-routes-url-seg", "title": "How to fix Error: Uncaught (in promise): Error: Cannot match any routes. URL Segment: &#39;****&#39;", "body": "<p>I'm using Angular for frontend for the first time.</p>\n\n<p>In my Angular app in the <strong>user-profile.component.html</strong> there is an edit button that has a designated route for it in the <strong>app-routing.module.ts</strong> file. </p>\n\n<p>Here is my <strong>user-profile.component.html</strong></p>\n\n<pre><code>&lt;mat-spinner *ngIf=\"isLoading\"&gt;&lt;/mat-spinner&gt;\n&lt;mat-accordion multi=\"true\" *ngIf=\"posts.length &gt; 0 &amp;&amp; !isLoading\"&gt;\n  &lt;mat-expansion-panel *ngFor=\"let post of posts\"&gt;\n    &lt;mat-expansion-panel-header&gt;\n      {{ post.title }}\n    &lt;/mat-expansion-panel-header&gt;\n    &lt;div class=\"post-image\"&gt;\n      &lt;img [src]=\"post.imagePath\" [alt]=\"post.title\"&gt;\n    &lt;/div&gt;\n    &lt;p&gt;{{ post.content }}&lt;/p&gt;\n    &lt;mat-action-row *ngIf=\"userIsAuthenticated &amp;&amp; userId === post.creator\"&gt;\n      &lt;button mat-button color=\"primary\" [routerLink]=\"['userProfileEdit', post.id]\"&gt;EDIT&lt;/button&gt;\n      &lt;button mat-button color=\"warn\" (click)=\"onDelete(post.id)\"&gt;DELETE&lt;/button&gt;\n    &lt;/mat-action-row&gt;\n  &lt;/mat-expansion-panel&gt;\n&lt;/mat-accordion&gt;\n&lt;mat-paginator [length]=\"totalPosts\" [pageSize]=\"postsPerPage\" [pageSizeOptions]=\"pageSizeOptions\" (page)=\"onPageChanged($event)\" *ngIf=\"posts.length &gt; 0\"&gt;&lt;/mat-paginator&gt;\n&lt;p class=\"info-text mat-body-1\" *ngIf=\"posts.length &lt;= 0 &amp;&amp; !isLoading\"&gt;No posts Yet&lt;/p&gt;\n</code></pre>\n\n<p>Here in line 12 there is that <code>routerLink</code>, <code>[routerLink]=\"['userProfileEdit', post.id]\"</code></p>\n\n<p>Which points to this route in <strong>app-routing.module.ts</strong> given below,</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { PostListComponent } from './posts/post-list/post-list.component';\nimport { PostCreateComponent } from './posts/post-create/post-create.component';\nimport { LoginComponent } from './auth/login/login.component';\nimport { SignupComponent } from './auth/signup/signup.component';\nimport { AuthGuard } from './auth/auth-guard';\nimport { UserProfileComponent } from './user-profile/user-profile.component';\n\nconst routes: Routes = [\n  {path: '', component: PostListComponent },\n  {path: 'create', component: PostCreateComponent, canActivate: [AuthGuard] },\n  {path: 'edit/:postId', component: PostCreateComponent, canActivate: [AuthGuard]},\n  {path: 'login', component: LoginComponent},\n  {path: 'signup', component: SignupComponent},\n  {path: 'userProfile', component: UserProfileComponent, canActivate: [AuthGuard]},\n  {path: 'userProfileEdit/:postId', component: PostCreateComponent, canActivate: [AuthGuard]}\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule],\n  providers: [AuthGuard]\n})\nexport class AppRoutingModule { }\n</code></pre>\n\n<p>Here in line 17, there is that designated route <code>{path: 'userProfileEdit/:postId', component: PostCreateComponent, canActivate: [AuthGuard]}</code> that should correspond.</p>\n\n<p>I fixed the syntax error that I had in this line as I searched for the similar issues in SO <code>[routerLink]=\"['userProfileEdit', post.id]\"</code>. But still it did not work. </p>\n\n<p>To mention, All other routes in that <strong>app-routing.module.ts</strong> work perfectly in all other parts of my app, no issues.</p>\n\n<p>Here is a screenshot of the error in the console log.</p>\n\n<p><a href=\"https://i.stack.imgur.com/5w8U0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5w8U0.png\" alt=\"enter image description here\"></a> </p>\n\n<p>Just expecting some little clue. Thank you. </p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1553703526, "creation_date": 1553703526, "answer_id": 55381964, "question_id": 55381777, "link": "https://stackoverflow.com/questions/55381777/can-i-create-a-type-based-on-characters-within-a-string/55381964#55381964", "title": "Can I create a type based on characters within a string", "body": "<p>Since this a finite and relatively low number of items you can use overloads, or you can use an interface to map the input strings to the output type and use that in your function signature:</p>\n\n<pre><code>interface Abbreviations {\n    \"mr\" : \"MarginRight\"\n    \"pr\" : \"PaddingRight\"\n    // and the rest \n}\nfunction expand&lt;K extends keyof Abbreviations&gt;(k: K): Abbreviations[K] {\n    return null!;\n}\n\nexpand(\"mr\") // retruns MarginRight\nexpand(\"SS\") // error\n</code></pre>\n\n<p>You could use also keep the abbreviations in an object and use the type of that instead, if yo don't already have an implementation:</p>\n\n<pre><code>function withLiterals&lt;\n    T extends Record&lt;string, V&gt;, \n    V extends string | boolean | number | symbol | null | undefined | Record&lt;string, V&gt;\n&gt;(input: T ): T { return input }\nconst abbreviations = withLiterals({\n    \"mr\" : \"MarginRight\",\n    \"pr\" : \"PaddingRight\"\n    // and the rest \n})\nfunction expand&lt;K extends keyof typeof abbreviations&gt;(k: K): typeof abbreviations[K] {\n    return null!;\n}\n\nexpand(\"mr\") // retruns MarginRight\nexpand(\"SS\") // error\n</code></pre>\n"}], "owner": {"reputation": 964, "user_id": 446556, "user_type": "registered", "profile_image": "https://graph.facebook.com/4801115/picture?type=large", "display_name": "Chris Drackett", "link": "https://stackoverflow.com/users/446556/chris-drackett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 55381964, "answer_count": 1, "score": 0, "last_activity_date": 1553703934, "creation_date": 1553702924, "question_id": 55381777, "link": "https://stackoverflow.com/questions/55381777/can-i-create-a-type-based-on-characters-within-a-string", "title": "Can I create a type based on characters within a string", "body": "<p>I have a function that takes a 2 character string and expands it to a full property. For example it'll take <code>mr</code> and return <code>MarginRight</code> or <code>pt</code> and return <code>PaddingTop</code>.</p>\n\n<p>My question here is how would one go about typing such a function? basically I want to limit the first character of the input string to <code>m</code> or <code>p</code> and the second character to <code>r</code>, <code>l</code>, <code>t</code>, or <code>b</code>. So far I just have <code>([marginOrPadding, direction]: string): string</code> but that obviously will accept a lot more than I want.</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1553702644, "post_id": 55381613, "comment_id": 97485455, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/54354340/check-if-an-objects-properties-are-null-in-typescript\">Check if an object&#39;s properties are null in Typescript</a>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1553703026, "post_id": 55381613, "comment_id": 97485719, "body": "My answer in that question would work here too, if you like a lot of <code>Proxy</code> action at runtime.  e.g., <code>nullSafe(value, v =&gt; v.field.field.field)</code>"}, {"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 0, "creation_date": 1553704789, "post_id": 55381613, "comment_id": 97486777, "body": "Wait for <a href=\"https://github.com/tc39/proposal-optional-chaining/\" rel=\"nofollow noreferrer\">this proposal</a>. In the meantime, use your solution."}], "answers": [{"tags": [], "owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "is_accepted": true, "score": 1, "last_activity_date": 1553705582, "creation_date": 1553705582, "answer_id": 55382600, "question_id": 55381613, "link": "https://stackoverflow.com/questions/55381613/check-if-field-inside-composition-chain-is-not-undefined/55382600#55382600", "title": "Check if field inside composition chain is not undefined", "body": "<p>The feature you need doesn't exist in JavaScript, so, yes, you have to protect your code with this kind of test:</p>\n\n<pre><code>if (value &amp;&amp; value.field &amp;&amp; value.field.field)\n</code></pre>\n\n<p>With the <code>strict</code> (or <code>strictNullCheck</code>) option, TypeScript helps you to think to each potential undefined value, but it won't help you to write the protecting code.</p>\n\n<p>But there is hope for improvement. A proposal for a <a href=\"https://github.com/tc39/proposal-optional-chaining/\" rel=\"nofollow noreferrer\">\"Optional Chaining for JavaScript\"</a> feature is still in stage 1, but quite active. Maybe the TypeScript team could start <a href=\"https://github.com/Microsoft/TypeScript/issues/16\" rel=\"nofollow noreferrer\">an implementation</a> in the TypeScript compiler when the proposal will reach the stage 3?</p>\n"}], "owner": {"reputation": 9698, "user_id": 2849613, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/SL5Wi.jpg?s=128&g=1", "display_name": "Maciej Treder", "link": "https://stackoverflow.com/users/2849613/maciej-treder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 55382600, "answer_count": 1, "score": 0, "last_activity_date": 1553705582, "creation_date": 1553702438, "question_id": 55381613, "link": "https://stackoverflow.com/questions/55381613/check-if-field-inside-composition-chain-is-not-undefined", "title": "Check if field inside composition chain is not undefined", "body": "<p>Let's say we have following declarations:</p>\n\n<pre><code>interface Inf1 {\n  field: boolean | undefined;\n}\n\ninterface Inf2 {\n  field: Inf1 | undefined\n}\n\ninterface Inf3 {\n  field: Inf2 | undefined\n}\n\nfunction fun1(): Inf3 | undefined {\n  return {field: {field: {field: true}}};\n}\n</code></pre>\n\n<p>I want to check if 3rd nested field in the object returned by <code>fun1()</code> equals <code>true</code> (or any other value). First try would be:</p>\n\n<pre><code>if (value.field.field.field) {\n  console.log('This code does not compile because nested `field` objects may be undefined.');\n}\n</code></pre>\n\n<p>What will cause compilation error, because <code>field</code>s in the middle may be <code>undefined</code>.</p>\n\n<p>What I need to do to compile this code is to check if all nested objects are not <code>undefined</code>:</p>\n\n<pre><code>let value = fun1();\nif (\n  value &amp;&amp;\n  value.field &amp;&amp;\n  value.field.field &amp;&amp;\n  value.field.field.field\n  ) {\n    console.log('This code is compiled successfully');\n  }\n</code></pre>\n\n<p>Is there a way, to check \"on the fly\" that those 'fields' which are in the middle are not undefined?</p>\n"}, {"tags": ["reactjs", "typescript", "react-redux"], "answers": [{"comments": [{"owner": {"reputation": 573, "user_id": 6471558, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e692dc54be613fd108b9f82f8ba3c0a2?s=128&d=identicon&r=PG&f=1", "display_name": "Haq.H", "link": "https://stackoverflow.com/users/6471558/haq-h"}, "edited": false, "score": 0, "creation_date": 1553704949, "post_id": 55382355, "comment_id": 97486887, "body": "adding ownProps doesn&#39;t work. I had it there before but I removed it as it was unecessary"}], "tags": [], "owner": {"reputation": 3905, "user_id": 9602863, "user_type": "registered", "profile_image": "https://graph.facebook.com/1743384949051322/picture?type=large", "display_name": "UjinT34", "link": "https://stackoverflow.com/users/9602863/ujint34"}, "is_accepted": false, "score": 0, "last_activity_date": 1553704726, "creation_date": 1553704726, "answer_id": 55382355, "question_id": 55381568, "link": "https://stackoverflow.com/questions/55381568/redux-does-not-recognize-dispatch-action-in-connect-statement/55382355#55382355", "title": "Redux does not recognize dispatch action in connect statement", "body": "<p><a href=\"https://react-redux.js.org/api/connect#mapdispatchtoprops-object-dispatch-ownprops-object\" rel=\"nofollow noreferrer\">mapDispatchToProps</a> expects a function which takes a second optional argument <code>ownProps</code>.</p>\n\n<p>Try this code:</p>\n\n<pre><code>const MapLogoutToProps = (dispatch: Dispatch&lt;fromActions.Actions&gt;, ownProps?: OwnProps) =&gt; ({\n  logout: () =&gt; dispatch(fromActions.actions.logout())\n})\n</code></pre>\n\n<p>If it helps with <code>MapLogoutToProps</code> then you are likely to get similar error with <code>MapDispatchToProps</code> because the third argument to <code>connect</code> should be <a href=\"https://react-redux.js.org/api/connect#mergeprops-stateprops-dispatchprops-ownprops-object\" rel=\"nofollow noreferrer\">mergeProps</a> with a different signature.</p>\n"}, {"tags": [], "owner": {"reputation": 573, "user_id": 6471558, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e692dc54be613fd108b9f82f8ba3c0a2?s=128&d=identicon&r=PG&f=1", "display_name": "Haq.H", "link": "https://stackoverflow.com/users/6471558/haq-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1553712118, "creation_date": 1553712118, "answer_id": 55384427, "question_id": 55381568, "link": "https://stackoverflow.com/questions/55381568/redux-does-not-recognize-dispatch-action-in-connect-statement/55384427#55384427", "title": "Redux does not recognize dispatch action in connect statement", "body": "<p>Here's the solution I wasn't aware of the COMPOSE function and typescript debugging is useless in helping with this situation</p>\n\n<pre><code>const MapDispatchToProps = (dispatch: Dispatch, ownProps: OwnProps) =&gt; ({\n  showBForm: (isOpen: boolean) =&gt; dispatch(fromDialogActions.actions.showBForm(isOpen)),\n  showOForm: (isOpen: boolean) =&gt; dispatch(fromDialogActions.actions.showOForm(isOpen)),\n  showPForm: (isOpen: boolean) =&gt; dispatch(fromDialogActions.actions.showPForm(isOpen)),\n  toggleDialog: (isOpen: boolean) =&gt; dispatch(fromDialogActions.actions.toggleDialog(isOpen)),\n  logout: () =&gt; dispatch(fromActions.actions.logout())\n})\n\n\nexport default compose(\n    withRouter\n)(\n  connect&lt;StateProps, DispatchProps, OwnProps&gt;(\n    MapStateToProps,\n    MapDispatchToProps,\n  )(SideBar as any))\n</code></pre>\n"}], "owner": {"reputation": 573, "user_id": 6471558, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e692dc54be613fd108b9f82f8ba3c0a2?s=128&d=identicon&r=PG&f=1", "display_name": "Haq.H", "link": "https://stackoverflow.com/users/6471558/haq-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1553712118, "creation_date": 1553702314, "last_edit_date": 1553709405, "question_id": 55381568, "link": "https://stackoverflow.com/questions/55381568/redux-does-not-recognize-dispatch-action-in-connect-statement", "title": "Redux does not recognize dispatch action in connect statement", "body": "<p>I am trying to implement logout into the side-bar of my application. The side-bar is also responsible to toggling some dialogs related to another state. the dialog state seems to have no issue. However, when I try to dispatch my logout action it throws this error</p>\n\n<pre><code>  Type '(dispatch: Dispatch&lt;{ type: \"[Auth] LOGIN_REQUEST\"; payload: Credentials; } | { type: \"[Auth] LOGIN_SUCCESS\"; payload: Credentials; } | { type: \"[Auth] LOGIN_FAILURE\"; } | { type: \"[Auth] LOGOUT\"; }&gt;) =&gt; { ...; }' is not assignable to type 'MapDispatchToPropsFactory&lt;DispatchProps, OwnProps&gt;'.\n    Type '{ logout: () =&gt; { type: \"[Auth] LOGOUT\"; }; }' is not assignable to type 'MapDispatchToPropsFunction&lt;DispatchProps, OwnProps&gt;'.\n      Type '{ logout: () =&gt; { type: \"[Auth] LOGOUT\"; }; }' provides no match for the signature '(dispatch: Dispatch&lt;Action&lt;any&gt;&gt;, ownProps: OwnProps): DispatchProps'.```\n\nWHAT DOES IT MEAN PROVIDES NO MATCH FOR THE SIGNATURE! I've tried everything I can think of...\n\n</code></pre>\n\n<p>this is my code for passing the action to (connect):</p>\n\n<pre><code>interface DispatchProps {\n  showBreachForm: (isOpen: boolean) =&gt; void\n  showOPIForm: (isOpen: boolean) =&gt; void\n  showPreapprovalForm: (isOpen: boolean) =&gt; void\n  toggleDialog: (isOpen: boolean) =&gt; void\n  logout: () =&gt; void\n}\n\n\nconst MapDispatchToProps = (dispatch: Dispatch&lt;fromDialogActions.Actions&gt;, ownProps: OwnProps) =&gt; ({\n  showBForm: (isOpen: boolean) =&gt; dispatch(fromDialogActions.actions.showBForm(isOpen)),\n  showOForm: (isOpen: boolean) =&gt; dispatch(fromDialogActions.actions.showOForm(isOpen)),\n  showPForm: (isOpen: boolean) =&gt; dispatch(fromDialogActions.actions.showPForm(isOpen)),\n  toggleDialog: (isOpen: boolean) =&gt; dispatch(fromDialogActions.actions.toggleDialog(isOpen)),\n})\n\nconst MapLogoutToProps = (dispatch: Dispatch&lt;fromActions.Actions&gt;) =&gt; ({\n  logout: () =&gt; dispatch(fromActions.actions.logout())\n})\n\nexport default withRouter(\n  connect&lt;StateProps, DispatchProps, OwnProps&gt;(\n    MapStateToProps,\n    MapLogoutToProps,\n    MapDispatchToProps,\n  )(SideBar as any)\n)\n//the error occurs in the above statement on MapLogoutToProps\n\n</code></pre>\n\n<p>PROGRESS: The Connect function works if I remove the withRouter wrapper. However, that needs to be there. Maybe clashing types is causing the issue?</p>\n"}, {"tags": ["html", "angular", "typescript", "ionic4"], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 10590692, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WR32-8bIVWQ/AAAAAAAAAAI/AAAAAAAACfQ/O2ip44qp3ZE/photo.jpg?sz=128", "display_name": "JoSeBu", "link": "https://stackoverflow.com/users/10590692/josebu"}, "edited": false, "score": 1, "creation_date": 1553702680, "post_id": 55381633, "comment_id": 97485481, "body": "Oohhhh, thks. Next time I will give more details"}, {"owner": {"reputation": 14181, "user_id": 557360, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7TZFZ.jpg?s=128&g=1", "display_name": "VtoCorleone", "link": "https://stackoverflow.com/users/557360/vtocorleone"}, "reply_to_user": {"reputation": 125, "user_id": 10590692, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WR32-8bIVWQ/AAAAAAAAAAI/AAAAAAAACfQ/O2ip44qp3ZE/photo.jpg?sz=128", "display_name": "JoSeBu", "link": "https://stackoverflow.com/users/10590692/josebu"}, "edited": false, "score": 0, "creation_date": 1553720982, "post_id": 55381633, "comment_id": 97494869, "body": "If you had many buttons, just name them independently such as <code>isSubmitDisabled</code> and <code>isCancelDisabled</code>"}], "tags": [], "owner": {"reputation": 14181, "user_id": 557360, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7TZFZ.jpg?s=128&g=1", "display_name": "VtoCorleone", "link": "https://stackoverflow.com/users/557360/vtocorleone"}, "is_accepted": true, "score": 1, "last_activity_date": 1553702486, "creation_date": 1553702486, "answer_id": 55381633, "question_id": 55381290, "link": "https://stackoverflow.com/questions/55381290/disable-a-button-in-html-or-html-and-typescript/55381633#55381633", "title": "Disable a button in html or html and typescript", "body": "<p>You need to set the button as disabled with a property</p>\n\n<p>.html</p>\n\n<pre><code>&lt;ion-content padding&gt;\n    &lt;button \n      ion-button \n      #a \n      [disabled]=\"isDisabled\" // &lt;- set disabled prop here\n      (click)=\"letraIntroducida('a')\"&gt;a\n    &lt;/button&gt;\n&lt;/ion-content&gt;\n</code></pre>\n\n<p>.ts</p>\n\n<pre><code>@Component({\n  selector: 'page-tipopregunta1',\n  templateUrl: 'tipopregunta1.html',\n})\nexport class Tipopregunta1Page {\n  isDisabled = false; // &lt;- create variable to determine state\n\n  constructor(public navCtrl: NavController, public navParams: NavParams) {}\n\n  letraIntroducida(letraUsuario: string){\n    isDisabled = true; // &lt;- toggle the state\n  }\n}\n</code></pre>\n\n<p>Also, welcome to SO.  Next time, include some of the steps you tried to make it work and why those failed.  </p>\n\n<p>The community is much more open when people show that they tried to solve the problems by themself first.  </p>\n"}], "owner": {"reputation": 125, "user_id": 10590692, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WR32-8bIVWQ/AAAAAAAAAAI/AAAAAAAACfQ/O2ip44qp3ZE/photo.jpg?sz=128", "display_name": "JoSeBu", "link": "https://stackoverflow.com/users/10590692/josebu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1773, "favorite_count": 0, "accepted_answer_id": 55381633, "answer_count": 1, "score": 0, "last_activity_date": 1553724500, "creation_date": 1553701540, "last_edit_date": 1553724500, "question_id": 55381290, "link": "https://stackoverflow.com/questions/55381290/disable-a-button-in-html-or-html-and-typescript", "title": "Disable a button in html or html and typescript", "body": "<p>I am trying to disable a button by pressing it without any condition but I can not. Is a Ionic-Angular project.</p>\n\n<p><strong>My html:</strong></p>\n\n<pre><code>&lt;ion-content padding&gt;\n    &lt;button ion-button #a (click)=\"letraIntroducida('a')\"&gt;a&lt;/button&gt;\n&lt;/ion-content&gt;\n</code></pre>\n\n<p><strong>My ts:</strong></p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { NavController, NavParams, ToastController } from 'ionic-angular';\n\n@Component({\n  selector: 'page-tipopregunta1',\n  templateUrl: 'tipopregunta1.html',\n})\nexport class Tipopregunta1Page {\n\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n\n  }\n\n  letraIntroducida(letraUsuario: string){\n  //here makes code not important\n  }\n\n}\n</code></pre>\n\n<p>I only want to disable the button after clicking.</p>\n"}, {"tags": ["typescript", "visual-studio-code"], "answers": [{"tags": [], "owner": {"reputation": 1711, "user_id": 2734259, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KGX0h.jpg?s=128&g=1", "display_name": "trebleCode", "link": "https://stackoverflow.com/users/2734259/treblecode"}, "is_accepted": false, "score": 0, "last_activity_date": 1553702502, "creation_date": 1553702502, "answer_id": 55381636, "question_id": 55380986, "link": "https://stackoverflow.com/questions/55380986/typescript-not-autogenerating-js-maps/55381636#55381636", "title": "TypeScript Not Autogenerating JS Maps", "body": "<p>Seems like just running <code>tsc -w</code> in a terminal the root of my <code>tsconfig.json</code> gives me what I need. Based on the settings it looked like that would happen automatically</p>\n"}], "owner": {"reputation": 1711, "user_id": 2734259, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KGX0h.jpg?s=128&g=1", "display_name": "trebleCode", "link": "https://stackoverflow.com/users/2734259/treblecode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553702502, "creation_date": 1553700715, "question_id": 55380986, "link": "https://stackoverflow.com/questions/55380986/typescript-not-autogenerating-js-maps", "title": "TypeScript Not Autogenerating JS Maps", "body": "<p>Running VS Code 1.28.2</p>\n\n<p>When I go to generate a build from my extension's <code>extension.ts</code> file, source map files for my <code>.ts</code> files are not being automatically generated in my project structure's <code>out</code> folder</p>\n\n<p>Only the maps generated from another machine are in the project.</p>\n\n<p>.vscode/launch.json</p>\n\n<pre><code>{\n    \"version\": \"0.2.0\",\n    \"configurations\": [{\n            \"name\": \"Run Extension\",\n            \"type\": \"extensionHost\",\n            \"request\": \"launch\",\n            \"runtimeExecutable\": \"${execPath}\",\n            \"args\": [\n                \"--extensionDevelopmentPath=${workspaceFolder}\"\n            ],\n            \"outFiles\": [\n                \"${workspaceFolder}/out/**/*.js\"\n            ],\n            \"preLaunchTask\": \"npm: watch\"\n        },\n        {\n            \"name\": \"Extension Tests\",\n            \"type\": \"extensionHost\",\n            \"request\": \"launch\",\n            \"runtimeExecutable\": \"${execPath}\",\n            \"args\": [\n                \"--extensionDevelopmentPath=${workspaceFolder}\",\n                \"--extensionTestsPath=${workspaceFolder}/out/test\"\n            ],\n            \"outFiles\": [\n                \"${workspaceFolder}/out/test/**/*.js\"\n            ],\n            \"preLaunchTask\": \"npm: watch\"\n        }\n    ]\n}\n</code></pre>\n\n<p>.vscode/tasks.json</p>\n\n<pre><code>{\n    \"version\": \"2.0.0\",\n    \"tasks\": [\n        {\n            \"type\": \"npm\",\n            \"script\": \"watch\",\n            \"problemMatcher\": \"$tsc-watch\",\n            \"isBackground\": true,\n            \"presentation\": {\n                \"reveal\": \"never\"\n            },\n            \"group\": {\n                \"kind\": \"build\",\n                \"isDefault\": true\n            }\n        }\n    ]\n}\n</code></pre>\n\n<p>./tsconfig.json</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"module\": \"commonjs\",\n        \"target\": \"es6\",\n        \"outDir\": \"out\",\n        \"lib\": [\n            \"es6\"\n        ],\n        \"sourceMap\": true,\n        \"rootDir\": \"src\",\n        \"strict\": true,\n        \"resolveJsonModule\": true\n    },\n    \"exclude\": [\n        \"node_modules\",\n        \".vscode-test\"\n    ]\n}\n</code></pre>\n\n<p>Even if I rename ./out to something else, a new out folder is never created. I'm not sure what I'm missing here when trying to debug. Any point in the right direction appreciated</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 1011, "user_id": 4223011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uDlDa.jpg?s=128&g=1", "display_name": "jburtondev", "link": "https://stackoverflow.com/users/4223011/jburtondev"}, "edited": false, "score": 0, "creation_date": 1553698935, "post_id": 55380352, "comment_id": 97482914, "body": "Hey, this isn&#39;t a proper map. I see you tagged this as TypeScript, do you mean to use this?  <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Map\" rel=\"nofollow noreferrer\">developer.mozilla.org/en/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 1011, "user_id": 4223011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uDlDa.jpg?s=128&g=1", "display_name": "jburtondev", "link": "https://stackoverflow.com/users/4223011/jburtondev"}, "edited": false, "score": 0, "creation_date": 1553698979, "post_id": 55380352, "comment_id": 97482938, "body": "Because you can iterate through a map using <code>Array.from(yourMap.keys()).forEach(k =&gt; console.log(k));</code>"}, {"owner": {"reputation": 255, "user_id": 5646296, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/50f1470b4761d361e1ffe546756fff6e?s=128&d=identicon&r=PG&f=1", "display_name": "Johannes N", "link": "https://stackoverflow.com/users/5646296/johannes-n"}, "reply_to_user": {"reputation": 1011, "user_id": 4223011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uDlDa.jpg?s=128&g=1", "display_name": "jburtondev", "link": "https://stackoverflow.com/users/4223011/jburtondev"}, "edited": false, "score": 0, "creation_date": 1553700007, "post_id": 55380352, "comment_id": 97483684, "body": "for me is important, that the functions are triggered whenever you iterate through the map. Or is there any other way, how to define a map from string to function with a static type?"}, {"owner": {"reputation": 1011, "user_id": 4223011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uDlDa.jpg?s=128&g=1", "display_name": "jburtondev", "link": "https://stackoverflow.com/users/4223011/jburtondev"}, "edited": false, "score": 0, "creation_date": 1553700995, "post_id": 55380352, "comment_id": 97484354, "body": "To do that, I think this should work:   <code>Array.from(yourMap.keys()).forEach(k =&gt; k());</code>  Also, yes you don&#39;t need a map for this, it can be done with an object, but nonetheless the concept is the same. Iterate through and run the function from the object index as in the example above."}, {"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 0, "creation_date": 1553701656, "post_id": 55380352, "comment_id": 97484784, "body": "With your current object and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Object/values\" rel=\"nofollow noreferrer\">Object.values (ES2017)</a>: <code>Object.values(fnMap).forEach(fn =&gt; fn());</code>."}], "owner": {"reputation": 255, "user_id": 5646296, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/50f1470b4761d361e1ffe546756fff6e?s=128&d=identicon&r=PG&f=1", "display_name": "Johannes N", "link": "https://stackoverflow.com/users/5646296/johannes-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 262, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553698779, "creation_date": 1553698779, "question_id": 55380352, "link": "https://stackoverflow.com/questions/55380352/iterating-through-typescript-map-from-string-to-function", "title": "Iterating through typescript map from string to function", "body": "<p>I have a map that I like to iterate through. It looks like the code sample. Can you give a code example how this works, please?</p>\n\n<pre><code>var fnMap = {\n  \"foo\": function() { ... },\n  \"bar\": function() { ... },\n  // ...\n};\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 1603, "user_id": 4716488, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/gfPgZ.jpg?s=128&g=1", "display_name": "ethane", "link": "https://stackoverflow.com/users/4716488/ethane"}, "edited": false, "score": 1, "creation_date": 1553698445, "post_id": 55380093, "comment_id": 97482546, "body": "<code>d.ts</code> files are generated by the typescript compiler from your <code>.ts</code> files. You wouldn&#39;t import a <code>d.ts</code> file, these are used by the compiler to tell it what types apply to whatever module you&#39;ve <code>import</code>ed."}], "answers": [{"comments": [{"owner": {"reputation": 112, "user_id": 9717671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58a47af542fc46684f19f71ab269a49d?s=128&d=identicon&r=PG&f=1", "display_name": "Psycho", "link": "https://stackoverflow.com/users/9717671/psycho"}, "edited": false, "score": 0, "creation_date": 1553699813, "post_id": 55380553, "comment_id": 97483547, "body": "Thanks for your help. Exporting the types directly works now for me. However as ethane already said in his comment I had to rename the <code>git-types.d.ts</code> file to <code>git-type.ts</code>."}, {"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "reply_to_user": {"reputation": 112, "user_id": 9717671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58a47af542fc46684f19f71ab269a49d?s=128&d=identicon&r=PG&f=1", "display_name": "Psycho", "link": "https://stackoverflow.com/users/9717671/psycho"}, "edited": false, "score": 0, "creation_date": 1553699926, "post_id": 55380553, "comment_id": 97483629, "body": "@Psycho No. You don&#39;t have to rename. The extension <code>.d.ts</code> is better for files that contain only types because the compiler doesn&#39;t emit file for these files."}], "tags": [], "owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "is_accepted": true, "score": 1, "last_activity_date": 1553700118, "last_edit_date": 1553700118, "creation_date": 1553699410, "answer_id": 55380553, "question_id": 55380093, "link": "https://stackoverflow.com/questions/55380093/typescript-own-module-not-found/55380553#55380553", "title": "Typescript own module not found", "body": "<h1>Do not declare your typings as if they came from a global module</h1>\n\n<p>In <code>src/typings/git-types.d.ts</code>, it's unnecessary to write <code>declare module \"git-types\"</code>. Just export your types:</p>\n\n<pre><code>// src/typings/git-types.d.ts\nexport interface GitRepoListItem {\n    repoName: string;\n    repoPath: string;\n}\n// \u2026\n</code></pre>\n\n<p>Then, these types can be imported with a relative path:</p>\n\n<pre><code>// src/CommitHistory.ts\nimport { GitCommit } from \"./typings/git-types\";\n</code></pre>\n\n<h1>Or, declare types for an existing global modules</h1>\n\n<p>If you installed a real npm package <code>git-types</code> that contains only JavaScript code and you want to provide types yourself, then your code is fine and should work.</p>\n"}], "owner": {"reputation": 112, "user_id": 9717671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58a47af542fc46684f19f71ab269a49d?s=128&d=identicon&r=PG&f=1", "display_name": "Psycho", "link": "https://stackoverflow.com/users/9717671/psycho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1342, "favorite_count": 0, "accepted_answer_id": 55380553, "answer_count": 1, "score": 0, "last_activity_date": 1553700118, "creation_date": 1553698062, "last_edit_date": 1553698424, "question_id": 55380093, "link": "https://stackoverflow.com/questions/55380093/typescript-own-module-not-found", "title": "Typescript own module not found", "body": "<p>I am currently learning TypeScript and trying to define my own types. I am currently using .d.ts files to declare my types. </p>\n\n<p>I created a file <code>./src/typings/git-types.d.ts</code>:</p>\n\n<pre><code>declare module \"git-types\" {\n    export interface GitRepoListItem {\n        repoName: string;\n        repoPath: string;\n    }\n\n    export interface GitReturnObject {\n        value: any;\n        errorCode: GitErrorCode;\n    }\n\n    export enum GitErrorCode {\n        UnknownError = 1,\n        GitNotFound = 2,\n        NoValidPathGiven = 3,\n        LocalChangesPreventCheckout = 4,\n        LocalChangesPreventPull = 5\n    }\n\n    export interface GitCommit {\n        hash: string;\n        author: string;\n        commitDate: string;\n        commitTime: string;\n        commitMessage: string;\n    }\n}\n</code></pre>\n\n<p>Now i try to import this module in order to use my types in another file <code>CommitHistory.ts</code>:</p>\n\n<pre><code>import { GitCommit } from \"git-types\";\n\nclass CommitHistory {\n    commitList: GitCommit[] = [];\n\n    ...\n}\n</code></pre>\n\n<p>But when i try to run my code, the compiler fails and gives me the following error:\n<code>Module not found: Can't resolve 'git-types' in './src/CommitHistory.ts</code></p>\n\n<p>As you can see in my <code>tsconfig.json</code>-file the whole \"src\"-folder is included:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"target\": \"es6\",\n        \"lib\": [\"dom\", \"dom.iterable\", \"esnext\"],\n        \"allowJs\": true,\n        \"skipLibCheck\": true,\n        \"esModuleInterop\": true,\n        \"allowSyntheticDefaultImports\": true,\n        \"strict\": true,\n        \"forceConsistentCasingInFileNames\": true,\n        \"module\": \"esnext\",\n        \"moduleResolution\": \"node\",\n        \"resolveJsonModule\": true,\n        \"isolatedModules\": true,\n        \"noEmit\": true,\n        \"jsx\": \"preserve\",\n        \"experimentalDecorators\": true\n    },\n    \"include\": [\"src\"]\n}\n</code></pre>\n\n<p>How do I have to declare the module in order to use my types?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "edited": false, "score": 0, "creation_date": 1553698063, "post_id": 55380032, "comment_id": 97482254, "body": "Is the whole code from one single file?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1553698213, "post_id": 55380032, "comment_id": 97482365, "body": "Getter/seter must have the same type. In your case you want the setter to take an item and the getter to return the array. this is not possible."}, {"owner": {"reputation": 213, "user_id": 11034056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b9ec8f7ced535c7699bd00f19a76f9b?s=128&d=identicon&r=PG&f=1", "display_name": "Ktr1000", "link": "https://stackoverflow.com/users/11034056/ktr1000"}, "edited": false, "score": 0, "creation_date": 1553698546, "post_id": 55380032, "comment_id": 97482628, "body": "No, they are from separate files.Is there an alternative  way i could do this."}, {"owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "edited": false, "score": 0, "creation_date": 1553698681, "post_id": 55380032, "comment_id": 97482736, "body": "On a side note, you&#39;ve got typos: <code>expence</code> instead of <code>expense</code>"}], "answers": [{"comments": [{"owner": {"reputation": 350, "user_id": 5078905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f217782217ed8124bfdc0ce578e0db57?s=128&d=identicon&r=PG", "display_name": "Spencer Pollock", "link": "https://stackoverflow.com/users/5078905/spencer-pollock"}, "edited": false, "score": 0, "creation_date": 1553700559, "post_id": 55380379, "comment_id": 97484078, "body": "Great solution. It&#39;s quite annoying how get/set have to be the same type, however, it would defeat the purpose of TypeScript if it wasn&#39;t!"}], "tags": [], "owner": {"reputation": 503, "user_id": 3582538, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dr1c8.png?s=128&g=1", "display_name": "Tanmay_vijay", "link": "https://stackoverflow.com/users/3582538/tanmay-vijay"}, "is_accepted": false, "score": 2, "last_activity_date": 1553698869, "creation_date": 1553698869, "answer_id": 55380379, "question_id": 55380032, "link": "https://stackoverflow.com/questions/55380032/typescript-getter-cant-return-array-with-custom-type/55380379#55380379", "title": "Typescript :Getter can&#39;t return array with custom type", "body": "<p>The problem here is both <code>get</code> and <code>set</code> must have the same type. In your case, <code>set</code> is working on single Expense object and <code>get</code> is returning <code>Expense[]</code>.</p>\n\n<p>Better solution would be create a append method for setter, as following code would not make sense</p>\n\n<pre><code>user.userExpenses = new Expense(\"1\", 100, \"1\"); \\\\ it appends to expenses array\n</code></pre>\n\n<p>Here's what I would do</p>\n\n<pre><code>class User {\nfirstName: string;\nlastName: string;\ntotalCost:number;\nprivate expenses: Expense[] ;\nconstructor(firstName: string,lastName: string) {\n    this.firstName = firstName;\n    this.lastName = this.lastName;\n}\n\nset userExpenses(expences: Expense[]) { //assignment\n    this.expenses = [...expences];   \n    this.expenses.forEach(e =&gt; this.totalCost += e.cost);\n}\n\nget userExpenses() {\n    return this.expenses\n}\n\naddExpences(expences: Expense[]) {  //append\n    expences.forEach(e =&gt; this.totalCost += e.cost);\n    this.expenses = [...this.expenses, ...expences];   \n}\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 213, "user_id": 11034056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b9ec8f7ced535c7699bd00f19a76f9b?s=128&d=identicon&r=PG&f=1", "display_name": "Ktr1000", "link": "https://stackoverflow.com/users/11034056/ktr1000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553698869, "creation_date": 1553697889, "last_edit_date": 1553698038, "question_id": 55380032, "link": "https://stackoverflow.com/questions/55380032/typescript-getter-cant-return-array-with-custom-type", "title": "Typescript :Getter can&#39;t return array with custom type", "body": "<p>Im getting errors when trying to return array with custom type from getter. Here is the error message:</p>\n\n<pre><code>Type 'Expense[]' is missing the following properties from type 'Expense': name, cost, priority\n</code></pre>\n\n<p>And here is my code:</p>\n\n<pre><code>import Expense from '../interfaces/expence';\n\nclass User {\n  firstName: string;\n  lastName: string;\n  totalCost: number;\n  private expenses: Expense[];\n  constructor(firstName: string, lastName: string) {\n    this.firstName = firstName;\n    this.lastName = this.lastName;\n  }\n  set userExpenses(expence: Expense) {\n    this.expenses = [...this.expenses, expence]\n    this.totalCost += expence.cost\n  }\n  get userExpenses() {\n    return this.expenses\n  }\n}\nexport default User;\n\ninterface Expense {\n  name: string\n  cost: number;\n  priority: string,\n}\n\nexport default Expense;\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6", "this", "arrow-functions"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 2, "creation_date": 1553697801, "post_id": 55379876, "comment_id": 97482065, "body": "Is that really all the code involved? What you&#39;re describing can&#39;t happen if what you posted is really all there is; if the outer-scope <code>this</code> were <code>undefined</code> the expression that adds the handler would have failed."}, {"owner": {"reputation": 418, "user_id": 10044533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KH1YD.png?s=128&g=1", "display_name": "marcopiii", "link": "https://stackoverflow.com/users/10044533/marcopiii"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1553699155, "post_id": 55379876, "comment_id": 97483065, "body": "@Pointy The snippet is from a function<code>showAuthPopup()</code> where nothing more than some <code>show()</code> and <code>hide()</code> happens. It is called in a more complex <code>render()</code> function as <code>_this.showAuthPopup()</code> because there <code>this</code> is not actually <code>MyWidget</code> (and that&#39;s ok) but it can&#39;t be the problem since as I explained at the beginning of execution of the snippet <code>this</code> acually refers to <code>MyWidget</code>, as I expect."}, {"owner": {"reputation": 418, "user_id": 10044533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KH1YD.png?s=128&g=1", "display_name": "marcopiii", "link": "https://stackoverflow.com/users/10044533/marcopiii"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1553699354, "post_id": 55379876, "comment_id": 97483213, "body": "I will update the snippet anyway to make it more clear"}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 2, "creation_date": 1553700077, "post_id": 55379876, "comment_id": 97483729, "body": "Let me put it this way: if <code>this</code> is correct in the line that sets up the &quot;click&quot; handler, then it is simply not possible for <code>this</code> to be <code>undefined</code> inside the <code>=&gt;</code> handler function if the code looks like what you posted."}, {"owner": {"reputation": 418, "user_id": 10044533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KH1YD.png?s=128&g=1", "display_name": "marcopiii", "link": "https://stackoverflow.com/users/10044533/marcopiii"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1553700825, "post_id": 55379876, "comment_id": 97484237, "body": "@Pointy this is exactly why I and other 3 colleagues are going crazy. And what about the fact that also in the working <i>cancel</i> callback the console says that <code>this</code> is the button while the scope explorer says that it is the widget?"}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 1, "creation_date": 1553701006, "post_id": 55379876, "comment_id": 97484364, "body": "Well if you <code>console.log()</code> what <code>this</code> is <i>outside</i> and <i>inside</i> those callback functions, it will be the same. I mean, that&#39;s simply how the language works. There&#39;s of course the possibility that you&#39;ve found a bug in your JavaScript implementation, but that is highly, highly unlikely."}, {"owner": {"reputation": 418, "user_id": 10044533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KH1YD.png?s=128&g=1", "display_name": "marcopiii", "link": "https://stackoverflow.com/users/10044533/marcopiii"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1553701889, "post_id": 55379876, "comment_id": 97484954, "body": "@Pointy I tried right now. Inside <code>showAuthPopup()</code> (but <i>outside</i> the callbacks) I get <code>MyWidget { ..., userId: &quot;the-user-id&quot;, ...}</code> as expected. Inside the callbacks I get <code>&lt;button id=&quot;cancel&quot; value=&quot;&quot;&gt;Cancel&lt;&#47;button&gt;</code> and <code>&lt;button id=&quot;confirm&quot; value=&quot;&quot;&gt;Ok&lt;&#47;button&gt;</code>. As i said <b>this makes no sense</b> because also the <i>cancel</i> callback should break!"}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1553702564, "post_id": 55379876, "comment_id": 97485411, "body": "Have you checked the code that Typescript is generating for that? It seems pretty unlikely that that would be wrong, but it&#39;s probably slightly more likely than the underlying JavaScript environment being broken."}, {"owner": {"reputation": 418, "user_id": 10044533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KH1YD.png?s=128&g=1", "display_name": "marcopiii", "link": "https://stackoverflow.com/users/10044533/marcopiii"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1553704062, "post_id": 55379876, "comment_id": 97486346, "body": "@Pointy I edited the answer adding the js code"}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 1, "creation_date": 1553712679, "post_id": 55379876, "comment_id": 97490978, "body": "Hmm. I can&#39;t think of any way that it&#39;s possible for that to wind up with <code>_this</code> being <code>undefined</code>."}, {"owner": {"reputation": 418, "user_id": 10044533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KH1YD.png?s=128&g=1", "display_name": "marcopiii", "link": "https://stackoverflow.com/users/10044533/marcopiii"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1553767522, "post_id": 55379876, "comment_id": 97510021, "body": "@Bergi obviously I meant &quot;declaring a <code>let _this = this</code> [outside] and use it inside the callbacks&quot;. And it actually works."}, {"owner": {"reputation": 418, "user_id": 10044533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KH1YD.png?s=128&g=1", "display_name": "marcopiii", "link": "https://stackoverflow.com/users/10044533/marcopiii"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 1, "creation_date": 1554283167, "post_id": 55379876, "comment_id": 97690365, "body": "@Pointy I&#39;ve been suggested to rename <code>_this</code> used in other parts of the code to <code>self</code> as the ts compiler already uses it and it may be overridden. And it worked! I did not understand it 100% but I think that those usage of <code>_this</code>, even if it were out of scope (the scoping at <i>typescript-level</i> was actually correct), caused confusion on the generated javascript."}], "owner": {"reputation": 418, "user_id": 10044533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KH1YD.png?s=128&g=1", "display_name": "marcopiii", "link": "https://stackoverflow.com/users/10044533/marcopiii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 177, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1553849884, "creation_date": 1553697448, "last_edit_date": 1553849884, "question_id": 55379876, "link": "https://stackoverflow.com/questions/55379876/this-scoping-issue-with-fat-arrow-function-in-typescript", "title": "&quot;this&quot; scoping issue with fat arrow function in Typescript", "body": "<p>I have the following code inside my widget class that should manage a simple authentication popup.</p>\n\n<pre><code>private showPopupAuth(): void {\n\n    //...just show() and hide() some stuff...\n\n    this.getDiv().find('#cancel').unbind();\n    this.getDiv().find('#cancel').click(() =&gt; {\n        this.clearAuthPopups();                        \n    });\n\n    this.getDiv().find('#confirm').unbind();\n    this.getDiv().find('#confirm').click(() =&gt; {\n\n        let authRequest = new AuthRequest();    \n        authRequest.userId = this.userId;\n        authRequest.pw = this.getDiv().find('#pw').val();\n        this.clearAuthPopups();\n\n        //...do stuff...\n    });\n}\n</code></pre>\n\n<p>By pressing the cancel button a private function that closes it is called, and it works perfectly as expected.\nBy pressing the confirm button I get the following error in console</p>\n\n<pre><code>MyWidget.ts:460 Uncaught TypeError: Cannot read property 'userId' of undefined\n    at HTMLButtonElement.&lt;anonymous&gt; (MyWidget.ts:460)\n    at HTMLButtonElement.dispatch (jquery.js:3)\n    at HTMLButtonElement.r.handle (jquery.js:3)\n</code></pre>\n\n<p>If I try to debug it and check Chrome > Sources > Scope window i see this:</p>\n\n<p>inside <em>cancel callback</em></p>\n\n<ul>\n<li>Local: <code>this</code> correctly points to MyWidget</li>\n<li>Closure(showPopupAuth): <code>this</code> correctly points to MyWidget</li>\n</ul>\n\n<p>inside <em>confirm callback</em></p>\n\n<ul>\n<li>Local: <code>this</code> is undefined</li>\n<li>Closure(showPopupAuth): <code>this</code> correctly points to MyWidget</li>\n</ul>\n\n<p>If I run <code>console.log(this)</code> inside <code>showPopupAuth()</code> and inside the two callbacks i get, respectively:</p>\n\n<pre><code> &gt;   console.log(this)\n &lt;   MyWidget { ..., userId: \"the-user-id\", ...}\n\n &gt;   console.log(this)\n &lt;   &lt;button id=\"cancel\"&gt;Cancel&lt;/button&gt;\n\n &gt;   console.log(this)\n &lt;   &lt;button id=\"confirm\"&gt;Ok&lt;/button&gt;\n</code></pre>\n\n<p>According to the console, <code>this</code> becomes HTMLButtonElement even if I'm using fat arrows in both callbacks.</p>\n\n<p><b>Why is this happening? What is going on?</b> Looks like scope explorer and console are saying two different things, and both make no sense to me.</p>\n\n<hr>\n\n<p>I know that I can solve the issue by simply declaring a <code>let _this = this</code> and use it inside the callbacks but I would like to understand the root of the problem.</p>\n\n<p>I already read <a href=\"https://stackoverflow.com/questions/20627138/typescript-this-scoping-issue-when-called-in-jquery-callback\">TypeScript &quot;this&quot; scoping issue when called in jquery callback</a> but it does not answer my question.</p>\n\n<hr>\n\n<p><strong>Update:</strong> as suggested i checked the generated js and everything looks ok</p>\n\n<pre><code>MyWidget.prototype.showPopupAuth = function () {\n    var _this = this;\n    this.getDiv().find('#cancel').unbind();\n    this.getDiv().find('#cancel').click(function () {\n        _this.clearAuthPopups();\n    });\n    this.getDiv().find('#confirm').unbind();\n    this.getDiv().find('#confirm').click(function () {\n        var authRequest = new AuthServiceBeans_1.AuthRequest();\n        authRequest.userId = _this.userId;\n        authRequest.pw = _this.getDiv().find('#pw').val();\n        _this.clearAuthPopups();\n    });\n};\n</code></pre>\n"}, {"tags": ["typescript", "angular-cli"], "answers": [{"comments": [{"owner": {"reputation": 384, "user_id": 7856143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/117876b42ac1442bbdd204a0d3f13c0c?s=128&d=identicon&r=PG&f=1", "display_name": "Ulises 2010", "link": "https://stackoverflow.com/users/7856143/ulises-2010"}, "edited": false, "score": 0, "creation_date": 1553700151, "post_id": 55379928, "comment_id": 97483795, "body": "Thanks @OneLunch Man... Maybe it&#39;s true, but do you have any idea to solve it?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10747134"}, "reply_to_user": {"reputation": 384, "user_id": 7856143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/117876b42ac1442bbdd204a0d3f13c0c?s=128&d=identicon&r=PG&f=1", "display_name": "Ulises 2010", "link": "https://stackoverflow.com/users/7856143/ulises-2010"}, "edited": false, "score": 0, "creation_date": 1553700534, "post_id": 55379928, "comment_id": 97484062, "body": "You may have to add a type check on the value in the if. <code>if (environment.HASVIDEOCALL &amp;&amp; typeof environment.HASVIDEOCALL === &#39;object&#39;) {</code>"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10747134"}, "is_accepted": false, "score": 1, "last_activity_date": 1553697595, "creation_date": 1553697595, "answer_id": 55379928, "question_id": 55379487, "link": "https://stackoverflow.com/questions/55379487/angular-environment-dont-loaded/55379928#55379928", "title": "Angular environment don&#39;t loaded", "body": "<p>environment.costumer.ts: <code>HASVIDEOCALL: false</code></p>\n\n<p>In the \"truthy\" case here, I believe the type checking is checking if it's possible to access <code>VIDEOCALLURL</code> from the <code>true</code> value (instead of your hard coded <code>false</code>).</p>\n"}, {"tags": [], "owner": {"reputation": 384, "user_id": 7856143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/117876b42ac1442bbdd204a0d3f13c0c?s=128&d=identicon&r=PG&f=1", "display_name": "Ulises 2010", "link": "https://stackoverflow.com/users/7856143/ulises-2010"}, "is_accepted": false, "score": 0, "last_activity_date": 1553758410, "creation_date": 1553758410, "answer_id": 55392275, "question_id": 55379487, "link": "https://stackoverflow.com/questions/55379487/angular-environment-dont-loaded/55392275#55392275", "title": "Angular environment don&#39;t loaded", "body": "<p>With the inspiration of @OneLunch Man I solve it </p>\n\n<p>I replace this:</p>\n\n<pre><code>if (environment.HASVIDEOCALL) {\n</code></pre>\n\n<p>with this:</p>\n\n<pre><code>let hasVideoCall: any = environment.HASVIDEOCALL;\nif (hasVideoCall) {\n</code></pre>\n\n<p>Hope it helps someone.</p>\n"}], "owner": {"reputation": 384, "user_id": 7856143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/117876b42ac1442bbdd204a0d3f13c0c?s=128&d=identicon&r=PG&f=1", "display_name": "Ulises 2010", "link": "https://stackoverflow.com/users/7856143/ulises-2010"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1553758410, "creation_date": 1553696352, "question_id": 55379487, "link": "https://stackoverflow.com/questions/55379487/angular-environment-dont-loaded", "title": "Angular environment don&#39;t loaded", "body": "<p>I have three environment whit this properties</p>\n\n<pre><code>environment.ts\nHASVIDEOCALL: {\n    VIDEOCALLURL: 'https://trial.herokuapp.com'\n  },\nenvironment.prod.ts\nHASVIDEOCALL: {\n    VIDEOCALLURL: 'https://trial.herokuapp.com'\n  },\nenvironment.costumer.ts\nHASVIDEOCALL: false\n</code></pre>\n\n<p>in angular.json I have</p>\n\n<pre><code>    \"costumer\": {\n      \"fileReplacements\": [\n        {\n          \"replace\": \"src/environments/environment.ts\",\n          \"with\": \"src/environments/environment.hasis.ts\"\n        },\n</code></pre>\n\n<p>And use this variable in some service like opentok.service.ts with this:</p>\n\n<pre><code>  getSessionConfig(room) {\n    if (environment.HASVIDEOCALL) {\n      let url = environment.HASVIDEOCALL.VIDEOCALLURL + '/room/' + room;\n      return this.http.get(url);\n    }\n  }\n</code></pre>\n\n<p>And now I try to start this enviroment with this:</p>\n\n<pre><code>ng serve --configuration=costumer\n</code></pre>\n\n<p>but the Terminal says:</p>\n\n<blockquote>\n  <p>src/app/services/opentok.service.ts(21,42): error TS2339: Property\n  'VIDEOCALLURL' does not exist on type 'true'.</p>\n  \n  <p>i \uff62wdm\uff63: Failed to compile.</p>\n</blockquote>\n\n<p>But as you can see, the type its not true.</p>\n\n<p>An still more extrange it's if I modify any file, only with a console.log, when I save it, automatically rebuild the app and it's works without problems.</p>\n\n<p>Do you know how it happens?</p>\n"}, {"tags": ["html", "typescript"], "comments": [{"owner": {"reputation": 551, "user_id": 4687451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IbZuC.jpg?s=128&g=1", "display_name": "Ikenna Anthony Okafor", "link": "https://stackoverflow.com/users/4687451/ikenna-anthony-okafor"}, "edited": false, "score": 0, "creation_date": 1553696654, "post_id": 55378946, "comment_id": 97481253, "body": "You will need to modify your Customer class to include a function that sorts complaints into groups with same complaintId, most likely at initialization"}], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 11266750, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cj1YuXO4k4A/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rczBDRB41t2a7pBAUUU_eDkGpoR4A/mo/photo.jpg?sz=128", "display_name": "ahmed", "link": "https://stackoverflow.com/users/11266750/ahmed"}, "edited": false, "score": 0, "creation_date": 1553714191, "post_id": 55379451, "comment_id": 97491688, "body": "since complaint can be multiple i want to find out how many complaintId are there in total..."}], "tags": [], "owner": {"reputation": 2769, "user_id": 1210271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/78SSJ.jpg?s=128&g=1", "display_name": "BugsArePeopleToo", "link": "https://stackoverflow.com/users/1210271/bugsarepeopletoo"}, "is_accepted": true, "score": 1, "last_activity_date": 1553696227, "creation_date": 1553696227, "answer_id": 55379451, "question_id": 55378946, "link": "https://stackoverflow.com/questions/55378946/how-to-get-count-of-attribute-from-json-using-typescript/55379451#55379451", "title": "How to get count of Attribute from Json using Typescript", "body": "<p>If <code>this.sampleData.complaint</code> is an array then...</p>\n\n<pre><code>this.sampleData.complaint.length\n</code></pre>\n\n<p>...will tell you how many items are inside.</p>\n"}], "owner": {"reputation": 121, "user_id": 11266750, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cj1YuXO4k4A/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rczBDRB41t2a7pBAUUU_eDkGpoR4A/mo/photo.jpg?sz=128", "display_name": "ahmed", "link": "https://stackoverflow.com/users/11266750/ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 55379451, "answer_count": 1, "score": 1, "last_activity_date": 1553696227, "creation_date": 1553694827, "last_edit_date": 1553695836, "question_id": 55378946, "link": "https://stackoverflow.com/questions/55378946/how-to-get-count-of-attribute-from-json-using-typescript", "title": "How to get count of Attribute from Json using Typescript", "body": "<p>I am fetching data from JSON. I created a class to map the data.</p>\n\n<p>I have been able to read simple attributes of customer such as Name, Id and Date of Birth. However there are array type of data also in JSON. I want to calculate the number of times a data has occured and also I would like help on how to read data of an array type on JSON.</p>\n\n<pre><code>export class Customer {\n  id: string;\n  address: Address[];\n  complaint: Complaint[];\n}\nclass Address {\n  addressId: number;\n  addressDescription: string;\n  address: string;\n  city: string;\n}\nclass Complaint {\n  complaintId: number;\n  startDate: string;\n  endDate: string;\n}\n</code></pre>\n\n<p>My understanding is that since complaint is an array there can be multiple complaintId so how do I get count of how many complaint Id are there?\nI wrote the following code:\n    <code>for (const entry of this.sampleData.complaint) {\n        this.complaintCount = i++;</code></p>\n\n<p>If I debug  in entry I am getting details of all the attributes present in Complaint.\nBut now I can't understand how to get count of Complaint Id.</p>\n"}, {"tags": ["angular", "typescript", "google-chrome"], "comments": [{"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 3, "creation_date": 1553694592, "post_id": 55378769, "comment_id": 97479818, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/navigator\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/Window/navigator</a> You need <code>.userAgent</code>"}, {"owner": {"reputation": 8140, "user_id": 6517383, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/CSaA5.jpg?s=128&g=1", "display_name": "Black Mamba", "link": "https://stackoverflow.com/users/6517383/black-mamba"}, "edited": false, "score": 2, "creation_date": 1553694606, "post_id": 55378769, "comment_id": 97479833, "body": "You can check for current browser but I don&#39;t think you can have access to check if an app is installed on a system"}, {"owner": {"reputation": 440, "user_id": 8695454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yFGLt.jpg?s=128&g=1", "display_name": "J&#225;nosi-Borsos R&#243;bert", "link": "https://stackoverflow.com/users/8695454/j%c3%a1nosi-borsos-r%c3%b3bert"}, "edited": false, "score": 2, "creation_date": 1553694662, "post_id": 55378769, "comment_id": 97479883, "body": "<a href=\"https://www.npmjs.com/package/ngx-device-detector\" rel=\"nofollow noreferrer\">npmjs.com/package/ngx-device-detector</a> you can use this package for this"}, {"owner": {"reputation": 1679, "user_id": 5536006, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-w_ThV1XwSRk/AAAAAAAAAAI/AAAAAAAAADA/UlccMsLP3uY/photo.jpg?sz=128", "display_name": "FranzHuber23", "link": "https://stackoverflow.com/users/5536006/franzhuber23"}, "edited": false, "score": 0, "creation_date": 1553695386, "post_id": 55378769, "comment_id": 97480386, "body": "It&#39;s not possible to get the installed applications on a device from the browser. This would be a huge data privacy issue if it was possible... You can use the package J&#225;nosi-Borsos R&#243;bert suggested to get the browser information, however."}, {"owner": {"reputation": 784, "user_id": 6686925, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d1b72cf30f0e2e490d2dcf157c6a7bcf?s=128&d=identicon&r=PG&f=1", "display_name": "SilverFish", "link": "https://stackoverflow.com/users/6686925/silverfish"}, "edited": false, "score": 0, "creation_date": 1553699857, "post_id": 55378769, "comment_id": 97483579, "body": "Thank you guys for all your useful input. I am able to detect browser using navigator.userAgent and should be able to provide prompt appropriately."}], "owner": {"reputation": 784, "user_id": 6686925, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d1b72cf30f0e2e490d2dcf157c6a7bcf?s=128&d=identicon&r=PG&f=1", "display_name": "SilverFish", "link": "https://stackoverflow.com/users/6686925/silverfish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1553694366, "creation_date": 1553694366, "question_id": 55378769, "link": "https://stackoverflow.com/questions/55378769/prompt-user-to-intall-google-chrome-if-not-already-in-angular-6", "title": "prompt user to intall Google Chrome if not already in Angular 6", "body": "<p>I am developing an Angular 6 application using some third party controls with custom coding. Some functionality does not behave as desired on IE. Therefore, we have put a note for the user to use Google Chrome for best experience. This intranet website will have large user base. I am wondering if there is a way to programmatically check whether or not Google Chrome is installed on client's machine. If not, prompt them to install it providing the download and install link.\nPlease guide</p>\n"}, {"tags": ["c#", "angular", "typescript", "asp.net-core", "ngxs"], "comments": [{"owner": {"reputation": 6367, "user_id": 9386929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9bac9557ecb2df1aa89cd5dc5442d0?s=128&d=identicon&r=PG", "display_name": "nircraft", "link": "https://stackoverflow.com/users/9386929/nircraft"}, "edited": false, "score": 0, "creation_date": 1553694192, "post_id": 55378635, "comment_id": 97479499, "body": "what do you have for <code>this.getEntitiesUrl()</code>?"}, {"owner": {"reputation": 313, "user_id": 4743494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e4f140809b79685672a5d7e332b07367?s=128&d=identicon&r=PG&f=1", "display_name": "mkanakis", "link": "https://stackoverflow.com/users/4743494/mkanakis"}, "edited": false, "score": 1, "creation_date": 1553694729, "post_id": 55378635, "comment_id": 97479922, "body": "can you try adding a subscribe to the http.get request in angular? similar to here: <a href=\"https://stackoverflow.com/questions/41296052/angular-http-post-without-subscribe-callback\" title=\"angular http post without subscribe callback\">stackoverflow.com/questions/41296052/&hellip;</a>"}, {"owner": {"reputation": 11, "user_id": 7818803, "user_type": "registered", "profile_image": "https://graph.facebook.com/1547818651919407/picture?type=large", "display_name": "Daniel Bennekers", "link": "https://stackoverflow.com/users/7818803/daniel-bennekers"}, "edited": false, "score": 0, "creation_date": 1553698362, "post_id": 55378635, "comment_id": 97482474, "body": "I have tried to add a manual subscribe to it, gives the same result. We are using NGXS and that should automatically use a subscribe(). Also, it comes with a HTTPREsult, which indicates a subscribe has been done?"}, {"owner": {"reputation": 11, "user_id": 7818803, "user_type": "registered", "profile_image": "https://graph.facebook.com/1547818651919407/picture?type=large", "display_name": "Daniel Bennekers", "link": "https://stackoverflow.com/users/7818803/daniel-bennekers"}, "edited": false, "score": 0, "creation_date": 1553698447, "post_id": 55378635, "comment_id": 97482548, "body": "this.getEntitiesUrl() just generates the URL based on the controller to contact."}, {"owner": {"reputation": 11, "user_id": 7818803, "user_type": "registered", "profile_image": "https://graph.facebook.com/1547818651919407/picture?type=large", "display_name": "Daniel Bennekers", "link": "https://stackoverflow.com/users/7818803/daniel-bennekers"}, "edited": false, "score": 0, "creation_date": 1553698499, "post_id": 55378635, "comment_id": 97482598, "body": "getQueryResult() doesn&#39;t do anything regarding the request/response, it just creates an object from the array given by the Response and some headers (paging)"}, {"owner": {"reputation": 313, "user_id": 4743494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e4f140809b79685672a5d7e332b07367?s=128&d=identicon&r=PG&f=1", "display_name": "mkanakis", "link": "https://stackoverflow.com/users/4743494/mkanakis"}, "edited": false, "score": 0, "creation_date": 1553699168, "post_id": 55378635, "comment_id": 97483076, "body": "@DanielBennekers I cannot reproduce but I can suggest that you look that entitiesUrl is indeed correct and matches the backend, also that a subscribe is done after the map and maybe the return type does not need QueryResult? Or then the get request also needs &lt;QueryResult&lt;TEntity[]&gt;&gt;."}, {"owner": {"reputation": 11, "user_id": 7818803, "user_type": "registered", "profile_image": "https://graph.facebook.com/1547818651919407/picture?type=large", "display_name": "Daniel Bennekers", "link": "https://stackoverflow.com/users/7818803/daniel-bennekers"}, "reply_to_user": {"reputation": 313, "user_id": 4743494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e4f140809b79685672a5d7e332b07367?s=128&d=identicon&r=PG&f=1", "display_name": "mkanakis", "link": "https://stackoverflow.com/users/4743494/mkanakis"}, "edited": false, "score": 0, "creation_date": 1553699727, "post_id": 55378635, "comment_id": 97483476, "body": "@Davelis4 thank you so much for your help. As you can see this is a generic function which we use for multiple calls. For the url that we are having problems it has been working  and for all other calls it works without problems. Also, I&#39;d expect an error if the url is wrong? If I use the url in Postman, it works without any problems."}, {"owner": {"reputation": 313, "user_id": 4743494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e4f140809b79685672a5d7e332b07367?s=128&d=identicon&r=PG&f=1", "display_name": "mkanakis", "link": "https://stackoverflow.com/users/4743494/mkanakis"}, "edited": false, "score": 0, "creation_date": 1553781493, "post_id": 55378635, "comment_id": 97519195, "body": "@DanielBennekers did you solve it yet?"}, {"owner": {"reputation": 11, "user_id": 7818803, "user_type": "registered", "profile_image": "https://graph.facebook.com/1547818651919407/picture?type=large", "display_name": "Daniel Bennekers", "link": "https://stackoverflow.com/users/7818803/daniel-bennekers"}, "reply_to_user": {"reputation": 313, "user_id": 4743494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e4f140809b79685672a5d7e332b07367?s=128&d=identicon&r=PG&f=1", "display_name": "mkanakis", "link": "https://stackoverflow.com/users/4743494/mkanakis"}, "edited": false, "score": 0, "creation_date": 1553782481, "post_id": 55378635, "comment_id": 97519935, "body": "Hello @Davelis4, yes I have managed to fix the problem, I have posted the solution below! Thank you for your help!"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7818803, "user_type": "registered", "profile_image": "https://graph.facebook.com/1547818651919407/picture?type=large", "display_name": "Daniel Bennekers", "link": "https://stackoverflow.com/users/7818803/daniel-bennekers"}, "edited": false, "score": 0, "creation_date": 1553698381, "post_id": 55379822, "comment_id": 97482491, "body": "I have tried to add a manual subscribe to it, gives the same result. We are using NGXS and that should automatically use a subscribe(). Also, it comes with a HTTPREsult, which indicates a subscribe has been done?"}], "tags": [], "owner": {"reputation": 1518, "user_id": 10816461, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6XNsrfhxp_c/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hhVp73I4eIN1MbnU6G4TmjkKpozA/mo/photo.jpg?sz=128", "display_name": "Alex Vovchuk", "link": "https://stackoverflow.com/users/10816461/alex-vovchuk"}, "is_accepted": false, "score": -1, "last_activity_date": 1553697924, "last_edit_date": 1553697924, "creation_date": 1553697309, "answer_id": 55379822, "question_id": 55378635, "link": "https://stackoverflow.com/questions/55378635/http-response-in-angular-gives-200-but-never-reached-server/55379822#55379822", "title": "HTTP Response in Angular gives 200 but never reached server", "body": "<p>Do you add subscription to the http.get()? Rxjs Observables are lazy in the sense that they only execute values when something subscribes to it. They don't execute request until get subscription.</p>\n\n<p>From <a href=\"https://angular.io/guide/http\" rel=\"nofollow noreferrer\">https://angular.io/guide/http</a>:\n\"An HttpClient method does not begin its HTTP request until you call subscribe() on the observable returned by that method\"</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7818803, "user_type": "registered", "profile_image": "https://graph.facebook.com/1547818651919407/picture?type=large", "display_name": "Daniel Bennekers", "link": "https://stackoverflow.com/users/7818803/daniel-bennekers"}, "is_accepted": true, "score": 0, "last_activity_date": 1553782436, "creation_date": 1553782436, "answer_id": 55399766, "question_id": 55378635, "link": "https://stackoverflow.com/questions/55378635/http-response-in-angular-gives-200-but-never-reached-server/55399766#55399766", "title": "HTTP Response in Angular gives 200 but never reached server", "body": "<p>I have managed to solve the problem and I'd like to share the solution:</p>\n\n<p>We were using a Controller on the backend called AssetsController, somehow all requests to this name were never sent and still got a HTTP 200 response. When we changed the name of the controller, everything worked as it should.</p>\n\n<p>The exact reason why it did not work is unknown, but we are happy we could solve this.</p>\n\n<p>Thanks to everybody who has been helping me!</p>\n\n<p>Yours sincerely,</p>\n\n<p>Daniel</p>\n"}], "owner": {"reputation": 11, "user_id": 7818803, "user_type": "registered", "profile_image": "https://graph.facebook.com/1547818651919407/picture?type=large", "display_name": "Daniel Bennekers", "link": "https://stackoverflow.com/users/7818803/daniel-bennekers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 55399766, "answer_count": 2, "score": 1, "last_activity_date": 1553782436, "creation_date": 1553693957, "question_id": 55378635, "link": "https://stackoverflow.com/questions/55378635/http-response-in-angular-gives-200-but-never-reached-server", "title": "HTTP Response in Angular gives 200 but never reached server", "body": "<p>We have a webapplication done in Angular 6 which makes use of NGXS for State Management.</p>\n\n<p>We have one particular call to our server where we have problems with. All other calls with almost the same code have no problems. On our dev environments this works without any problem.</p>\n\n<p>Both our server environment and our local dev environment use the same database.</p>\n\n<p><a href=\"https://i.imgur.com/JspJXrb.png\" rel=\"nofollow noreferrer\">https://i.imgur.com/JspJXrb.png</a> (I do not have enough reputation to post images, sorry)</p>\n\n<p>As you can see in the response here, the url is empty, all the test params are no part of the response.</p>\n\n<p>Server logging, seems like it never reaches the controller, nor it has an exception.\nFiddler, it never shows it is communicating with the API.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>protected getEntities(viewContext: ViewContext, entityQuery: TEntityQuery, pagingContext: PagingContext): Observable&lt;QueryResult&lt;TEntity[]&gt;&gt; {\n\n    const params = this.requestUtilsService.getHttpParams(entityQuery, viewContext, pagingContext);\n\n    this.logger.log('sending entity query with params', params);\n\n    const entitiesUrl = this.getEntitiesUrl();\n\n    return this.http.get&lt;TEntity[]&gt;(entitiesUrl, { params: params, observe: 'response' }).pipe(\n      map(resp =&gt; this.responseUtilsService.getQueryResult(resp))\n    );\n  }\n</code></pre>\n\n<p>I expect a list of entities or a server error. I expect the typescript code to contact the API.</p>\n"}, {"tags": ["javascript", "typescript", "lodash"], "answers": [{"comments": [{"owner": {"reputation": 58, "user_id": 2749178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64af946bad8c578ded82afe8439281a6?s=128&d=identicon&r=PG&f=1", "display_name": "trustkool", "link": "https://stackoverflow.com/users/2749178/trustkool"}, "edited": false, "score": 0, "creation_date": 1553695101, "post_id": 55378622, "comment_id": 97480195, "body": "Thanks - that makes sense, and will have to do then! Was just trying something along with:  _.chain(capital) .values() .filter({financeElements: [{data: [{ year: &#39;2020&#39; }]}] as any}).value(); But yeaah, just filters the financeElements and not data. Thanks!"}], "tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": true, "score": 0, "last_activity_date": 1553693924, "creation_date": 1553693924, "answer_id": 55378622, "question_id": 55378381, "link": "https://stackoverflow.com/questions/55378381/filtering-and-returning-parent-object-using-lodash-chain/55378622#55378622", "title": "Filtering and returning parent object using lodash chain", "body": "<p>A chain is used to transform a structure in several steps. In your case, you don't want to change the structure. You can use nested <code>Array.map()</code> (or lodash's <code>_.map()</code>) calls to iterate and rebuild the structure, and internally <code>_.filter()</code> the data:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const capital = [{\"financeCategory\":\"Loans\",\"financeCategoryId\":\"22HM6fFFwx9eK2P42Onc\",\"financeElements\":[{\"financeCategoryId\":\"22HM6fFFwx9eK2P42Onc\",\"financeElementId\":\"JQiqqvGEugVQuI0fN1xQ\",\"financeElementTitle\":\"Convertible loan\",\"data\":[{\"month\":1,\"value\":100,\"year\":\"2020\"},{\"month\":1,\"value\":100,\"year\":\"2019\"}]}]},{\"financeCategory\":\"Investments\",\"financeCategoryId\":\"JtnUsk5M4oklIFk6cAlL\",\"financeElements\":[]},{\"financeCategory\":\"Ownerships Contribution\",\"financeCategoryId\":\"PaDhGBm5uF0PhKJ1l6WX\",\"financeElements\":[]}];\r\n\r\nconst expenseFiltered = capital.map(ex =&gt; ({\r\n  ...ex,\r\n  financeElements: ex.financeElements.map(fe =&gt; ({\r\n    ...fe,\r\n    data: _.filter(fe.data, { year: '2020' })\r\n  }))\r\n}));\r\n\r\nconsole.log(expenseFiltered);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.11/lodash.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 58, "user_id": 2749178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64af946bad8c578ded82afe8439281a6?s=128&d=identicon&r=PG&f=1", "display_name": "trustkool", "link": "https://stackoverflow.com/users/2749178/trustkool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 337, "favorite_count": 0, "accepted_answer_id": 55378622, "answer_count": 1, "score": 0, "last_activity_date": 1553693924, "creation_date": 1553693240, "question_id": 55378381, "link": "https://stackoverflow.com/questions/55378381/filtering-and-returning-parent-object-using-lodash-chain", "title": "Filtering and returning parent object using lodash chain", "body": "<p>I want to use Lodash chain function to filter through an arrays nested array items and then return the full parent object.</p>\n\n<p>Here is some dummy data from my use case to illustrate my issue:</p>\n\n<pre><code>const capital = [\n  {\n    \"financeCategory\": \"Loans\",\n    \"financeCategoryId\": \"22HM6fFFwx9eK2P42Onc\",\n    \"financeElements\": [\n      {\n        \"financeCategoryId\": \"22HM6fFFwx9eK2P42Onc\",\n        \"financeElementId\": \"JQiqqvGEugVQuI0fN1xQ\",\n        \"financeElementTitle\": \"Convertible loan\",\n        \"data\": [\n          {\n            \"month\": 1,\n            \"value\": 100,\n            \"year\": \"2020\"\n          },\n          {\n            \"month\": 1,\n            \"value\": 100,\n            \"year\": \"2019\"\n          },\n        ],\n\n      }\n    ]\n  },\n  {\n    \"financeCategory\": \"Investments\",\n    \"financeCategoryId\": \"JtnUsk5M4oklIFk6cAlL\",\n    \"financeElements\": [] \n  },\n  {\n    \"financeCategory\": \"Ownerships Contribution\",\n    \"financeCategoryId\": \"PaDhGBm5uF0PhKJ1l6WX\",\n    \"financeElements\": []\n  }\n];\n</code></pre>\n\n<p>I want to filter on the \"data\" array within the financeElements and then return full expense object with the filter applied on \"data\".</p>\n\n<p>Let's say I want to manipulate the expense object and only get the data on the financeElements that have the year 2020. I've tried like so:</p>\n\n<pre><code>const expenseFiltered: any = _.chain(expenses)\n.flatMap('financeElements')\n.flatMap('data')\n.filter({year: '2020' as any}).value();\n</code></pre>\n\n<p>But that just gives me the filtered \"data\" objects. \nOutput:</p>\n\n<pre><code>[{\n            \"month\": 1,\n            \"value\": 100,\n            \"year\": \"2020\"\n}]\n</code></pre>\n\n<p>Now I know there are ways that I could use that to produce the full object with the filtered data, but I really want to do this in just one simple _.chain command</p>\n\n<p>Desired output</p>\n\n<pre><code>[\n  {\n    \"financeCategory\": \"Loans\",\n    \"financeCategoryId\": \"22HM6fFFwx9eK2P42Onc\",\n    \"financeElements\": [\n      {\n        \"financeCategoryId\": \"22HM6fFFwx9eK2P42Onc\",\n        \"financeElementId\": \"JQiqqvGEugVQuI0fN1xQ\",\n        \"financeElementTitle\": \"Convertible loan\",\n        \"data\": [\n          {\n            \"month\": 1,\n            \"value\": 100,\n            \"year\": \"2020\"\n          }\n        ],\n\n      }\n    ]\n  },\n  {\n    \"financeCategory\": \"Investments\",\n    \"financeCategoryId\": \"JtnUsk5M4oklIFk6cAlL\",\n    \"financeElements\": [] \n  },\n  {\n    \"financeCategory\": \"Ownerships Contribution\",\n    \"financeCategoryId\": \"PaDhGBm5uF0PhKJ1l6WX\",\n    \"financeElements\": []\n  }\n]\n</code></pre>\n\n<p>Is this possible using lodash chain?</p>\n"}, {"tags": ["angular", "typescript", "mapbox-gl"], "answers": [{"comments": [{"owner": {"reputation": 1075, "user_id": 5775267, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fc4775a1b4cf3bed9a539c264d1285ac?s=128&d=identicon&r=PG", "display_name": "Lauren", "link": "https://stackoverflow.com/users/5775267/lauren"}, "edited": false, "score": 0, "creation_date": 1557154132, "post_id": 55432849, "comment_id": 98660557, "body": "+1, this also worked for me. To get rid of the red underlines, simply install <code>@types&#47;node</code> in the dependencies tab!"}], "tags": [], "owner": {"reputation": 71, "user_id": 1504621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35a3f9ce5aa313825ede1b259bace5ab?s=128&d=identicon&r=PG", "display_name": "Kees Boogert", "link": "https://stackoverflow.com/users/1504621/kees-boogert"}, "is_accepted": true, "score": 2, "last_activity_date": 1553959112, "creation_date": 1553959112, "answer_id": 55432849, "question_id": 55378367, "link": "https://stackoverflow.com/questions/55378367/how-to-set-mapboxgl-accesstoken-in-angular-project/55432849#55432849", "title": "How to set mapboxgl.accessToken in Angular-project?", "body": "<p>Finally solved this problem by replacing</p>\n\n<pre><code>import * as mapboxgl from 'mapbox-gl';\n</code></pre>\n\n<p>with</p>\n\n<pre><code>const mapboxgl = require('mapbox-gl');\n</code></pre>\n\n<p>I don't know why this works (despite some red underlines). It could be specific to StackBlitz. I will leave the example there, but will disable the key from Mapbox.</p>\n"}, {"tags": [], "owner": {"reputation": 806, "user_id": 6843104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96a13ddc5278026339dbf5788ba8ce52?s=128&d=identicon&r=PG&f=1", "display_name": "J.S.R - Silicornio", "link": "https://stackoverflow.com/users/6843104/j-s-r-silicornio"}, "is_accepted": false, "score": 2, "last_activity_date": 1554367190, "creation_date": 1554367190, "answer_id": 55511443, "question_id": 55378367, "link": "https://stackoverflow.com/questions/55378367/how-to-set-mapboxgl-accesstoken-in-angular-project/55511443#55511443", "title": "How to set mapboxgl.accessToken in Angular-project?", "body": "<p>I was using typescript and I wanted to keep using import. So finally it works with:</p>\n\n<pre><code>import { Map } from \"mapbox-gl/dist/mapbox-gl\"\nimport * as mapboxgl from \"mapbox-gl/dist/mapbox-gl\"\n</code></pre>\n\n<p>and then, to create the instance of the map:</p>\n\n<pre><code>mapboxgl.accessToken = \"YOUR_API_KEY_BLA_BLA_BLA\"\nthis.map = new Map({\n    container: \"mapId\",\n    style: \"mapbox://styles/mapbox/light-v9\",\n    zoom: 5,\n    center: [-78.880453, 42.897852]\n})\n</code></pre>\n\n<p>and to show a full example. In html:</p>\n\n<pre><code>&lt;div id=\"mapId\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>If I am doing something wrong please tell me.</p>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 10978707, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C5MFLcNrLe4/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMzNXtVDw_uRlFvUSIN_CMAo7Dpwg/mo/photo.jpg?sz=128", "display_name": "Ivan Popkov", "link": "https://stackoverflow.com/users/10978707/ivan-popkov"}, "is_accepted": false, "score": 2, "last_activity_date": 1573046807, "creation_date": 1573046807, "answer_id": 58731259, "question_id": 55378367, "link": "https://stackoverflow.com/questions/55378367/how-to-set-mapboxgl-accesstoken-in-angular-project/58731259#58731259", "title": "How to set mapboxgl.accessToken in Angular-project?", "body": "<p>Another trick is to access token property as following: <code>(mapboxgl as any).accessToken = \"your token\"</code></p>\n"}], "owner": {"reputation": 71, "user_id": 1504621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35a3f9ce5aa313825ede1b259bace5ab?s=128&d=identicon&r=PG", "display_name": "Kees Boogert", "link": "https://stackoverflow.com/users/1504621/kees-boogert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1150, "favorite_count": 0, "accepted_answer_id": 55432849, "answer_count": 3, "score": 5, "last_activity_date": 1573046807, "creation_date": 1553693217, "last_edit_date": 1554543776, "question_id": 55378367, "link": "https://stackoverflow.com/questions/55378367/how-to-set-mapboxgl-accesstoken-in-angular-project", "title": "How to set mapboxgl.accessToken in Angular-project?", "body": "<p>I'm trying to make an example on StackBlitz with mapbox-gl. How can I set the accessToken?</p>\n\n<p>The editor states \"<em>Cannot assign to 'accessToken' because it is a constant or a read-only property</em>\". </p>\n\n<p>I already tried the possible solutions from another question:\n<a href=\"https://stackoverflow.com/questions/44332290/mapbox-gl-typing-wont-allow-accesstoken-assignment\">Mapbox-gl typing won&#39;t allow accessToken assignment</a></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Component, ViewChild, ElementRef } from '@angular/core';\nimport * as mapboxgl from 'mapbox-gl';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n\n  @ViewChild('map') mapElement: ElementRef;\n  map: mapboxgl.Map;\n\n  ngOnInit() {\n    mapboxgl.accessToken = '&lt;token&gt;';\n    this.map = new mapboxgl.Map({\n      container: this.mapElement.nativeElement,\n      style: 'mapbox://styles/mapbox/streets-v11',\n      center: [-77.04, 38.907],\n      zoom: 11.15\n    });\n  }\n}\n</code></pre>\n\n<p>Full code example: \n<a href=\"https://stackblitz.com/edit/angular-9djiw2\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-9djiw2</a></p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic4", "production"], "comments": [{"owner": {"reputation": 787, "user_id": 11165875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97508f816321d81844ecab06ea94d1de?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/11165875/sam"}, "edited": false, "score": 0, "creation_date": 1553695424, "post_id": 55378302, "comment_id": 97480422, "body": "Do you have dependencies warning  ? Maybe its that"}, {"owner": {"reputation": 3, "user_id": 7685920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1291f62f0cbdc3130d8f5ca417073ece?s=128&d=identicon&r=PG&f=1", "display_name": "KaOBWS", "link": "https://stackoverflow.com/users/7685920/kaobws"}, "reply_to_user": {"reputation": 787, "user_id": 11165875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97508f816321d81844ecab06ea94d1de?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/11165875/sam"}, "edited": false, "score": 0, "creation_date": 1553762243, "post_id": 55378302, "comment_id": 97506874, "body": "Hey Sam no, no warnings only Cordova ionic native warnings if I don&#39;t use my phone"}], "owner": {"reputation": 3, "user_id": 7685920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1291f62f0cbdc3130d8f5ca417073ece?s=128&d=identicon&r=PG&f=1", "display_name": "KaOBWS", "link": "https://stackoverflow.com/users/7685920/kaobws"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1588584951, "creation_date": 1553693047, "last_edit_date": 1588584951, "question_id": 55378302, "link": "https://stackoverflow.com/questions/55378302/splashscreen-dont-hide-in-prod-mode-on-device", "title": "Splashscreen dont hide in --prod mode on device", "body": "<p>I just develop a small business application with Ionic 4, if I try to build my app with <code>ionic cordova build android --prod --release</code> at first everything is working fine, so I sign my APK and install it on my Android 9 Device. </p>\n\n<p>But now the Splashscreen does not hide. </p>\n\n<p>If I try the same step without the <code>--prod</code> flag the Applikation starts and works as expected. </p>\n\n<p>Without Prod:</p>\n\n<ol>\n<li>Develop </li>\n<li><code>ionic cordova build android --release</code></li>\n<li>The app is working fine on Device </li>\n</ol>\n\n<p>With Prod: </p>\n\n<ol>\n<li>Develop </li>\n<li><code>ionic cordova build android --prod --release</code></li>\n<li>App don't hide the Splashscreen</li>\n</ol>\n\n<p>If I try to debug my Application on Device everything is working fine without any errors </p>\n\n<p>I am using Ionic 4.12 </p>\n\n<p>app.component.ts</p>\n\n<pre><code>initializeApp() {\n    this.store.subscribe();\n    this.platform.ready().then(() =&gt; {\n      this.statusBar.styleLightContent();\n      this.splashScreen.hide();\n      this.initOneSignal();\n      timer(3000).subscribe(() =&gt; this.showSplash = false);\n    });\n  }\n</code></pre>\n\n<p>Main.ts</p>\n\n<pre><code>import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err =&gt; console.log(err));\n\n</code></pre>\n\n<p>environment.ts</p>\n\n<pre><code>export const environment = {\n  message: 'dev mod',\n  production: false,\n  firebase: {\n    apiKey: 'xxxxxxxxxxx',\n    authDomain: 'xxxxxxxxxxxx',\n    databaseURL: 'xxxxxxxxxx',\n    projectId: 'xxxxxxxxxxxx',\n    storageBucket: 'xxxxxxxxxxx',\n    messagingSenderId: 'xxxxxxxx'\n  }\n};\n</code></pre>\n\n<p>environment.prod.ts</p>\n\n<pre><code>export const environment = {\n  message: 'prod mod',\n  production: true,\n  firebase: {\n    apiKey: 'xxxxxxxxxxx',\n    authDomain: 'xxxxxxxxxxxx',\n    databaseURL: 'xxxxxxxxxx',\n    projectId: 'xxxxxxxxxxxx',\n    storageBucket: 'xxxxxxxxxxx',\n    messagingSenderId: 'xxxxxxxx'\n  }\n};\n\n</code></pre>\n\n<p>I expect that the app size minimize with prod to 7mb,<br>\nthe building without the prod flag push the app Sie to 11mb</p>\n"}, {"tags": ["typescript", "typeof", "union-types", "keyof"], "comments": [{"owner": {"reputation": 4257, "user_id": 1028679, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/fe67e29bbbb733dedab9bdf075a9ff38?s=128&d=identicon&r=PG", "display_name": "rmcsharry", "link": "https://stackoverflow.com/users/1028679/rmcsharry"}, "edited": false, "score": 2, "creation_date": 1610434908, "post_id": 55377365, "comment_id": 116124148, "body": "It would be helpful to the community if you could spare a few seconds to mark an answer as correct"}], "answers": [{"tags": [], "owner": {"reputation": 2443, "user_id": 3676373, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HF3ws.jpg?s=128&g=1", "display_name": "Marvin Fischer", "link": "https://stackoverflow.com/users/3676373/marvin-fischer"}, "is_accepted": false, "score": 29, "last_activity_date": 1553690655, "creation_date": 1553690655, "answer_id": 55377517, "question_id": 55377365, "link": "https://stackoverflow.com/questions/55377365/what-does-keyof-typeof-mean-in-typescript/55377517#55377517", "title": "What does &quot;keyof typeof&quot; mean in TypeScript?", "body": "<p>An <code>enum</code> creates an instantiated <code>object</code>. With <code>typeof</code> we get the auto generated type of this <code>enum</code>.</p>\n\n<p>Now we can get all indices with <code>keyof</code> to make sure <code>Colors</code> can only contain one of them.</p>\n"}, {"comments": [{"owner": {"reputation": 620, "user_id": 1658543, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Fvc8F.png?s=128&g=1", "display_name": "Nils Lindemann", "link": "https://stackoverflow.com/users/1658543/nils-lindemann"}, "edited": false, "score": 4, "creation_date": 1594660584, "post_id": 62764510, "comment_id": 111196808, "body": "Why the heck does this just have two, eh three up votes?"}, {"owner": {"reputation": 363, "user_id": 9352142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dqGiA.jpg?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/9352142/tom"}, "edited": false, "score": 2, "creation_date": 1595585122, "post_id": 62764510, "comment_id": 111532581, "body": "Apprecciate the answer! It should have far more upvotes!"}, {"owner": {"reputation": 9809, "user_id": 2387316, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e5c1e836649e95b7e687bdd97d3aafaf?s=128&d=identicon&r=PG", "display_name": "dudewad", "link": "https://stackoverflow.com/users/2387316/dudewad"}, "edited": false, "score": 9, "creation_date": 1596728861, "post_id": 62764510, "comment_id": 111910624, "body": "This is an archetypal Stack Overflow answer and should be used to explain to new users how to answer a question. Incredibly good, and this should be the accepted answer. Excellent."}, {"owner": {"reputation": 2938, "user_id": 1196714, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/f865428108a2ba0cc944d1c5a7dd432f?s=128&d=identicon&r=PG", "display_name": "Anish Nair", "link": "https://stackoverflow.com/users/1196714/anish-nair"}, "edited": false, "score": 3, "creation_date": 1599653042, "post_id": 62764510, "comment_id": 112838428, "body": "@Yogesh Umesh Vaity. Bang on! Very well explained!"}], "tags": [], "owner": {"reputation": 15841, "user_id": 5925259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/89crf.jpg?s=128&g=1", "display_name": "Yogesh Umesh Vaity", "link": "https://stackoverflow.com/users/5925259/yogesh-umesh-vaity"}, "is_accepted": false, "score": 172, "last_activity_date": 1609075020, "last_edit_date": 1609075020, "creation_date": 1594069530, "answer_id": 62764510, "question_id": 55377365, "link": "https://stackoverflow.com/questions/55377365/what-does-keyof-typeof-mean-in-typescript/62764510#62764510", "title": "What does &quot;keyof typeof&quot; mean in TypeScript?", "body": "<p>To understand the <code>keyof typeof</code> usage in Typescript, first you need to understand what are <strong>literal types</strong> and <strong>union of literal types</strong>. So, I'll explain these concepts first and then explain <code>keyof</code> and <code>typeof</code> individually in detail. After that, I'll come back to <code>enum</code> to answer what is asked in the question. It's a long answer but examples are easy to understand.</p>\n<hr />\n<h2>Literal types</h2>\n<p>Literal types in Typescript are more specific types of <code>string</code>, <code>number</code> or <code>boolean</code>. For example, <code>&quot;Hello World&quot;</code> is a <code>string</code>, but a <code>string</code> is not <code>&quot;Hello World&quot;</code>. <code>&quot;Hello World&quot;</code> is a more specific type of type <code>string</code>, so it is a literal type.</p>\n<p>A literal type can be declared as following:</p>\n<pre><code>type Greeting = &quot;Hello&quot;\n</code></pre>\n<p>This means that the object of type <code>Greeting</code> can have only a <code>string</code> value <code>&quot;Hello&quot;</code> and no other <code>string</code> value or any other value of any other type as shown in the following code:</p>\n<pre><code>let greeting: Greeting\ngreeting = &quot;Hello&quot; // OK\ngreeting = &quot;Hi&quot;    // Error: Type '&quot;Hi&quot;' is not assignable to type '&quot;Hello&quot;'\n</code></pre>\n<p>Literal types are not useful on their own, however when combined with union types, type aliases and type guards they become powerful.</p>\n<p>Following is an example of <strong>union of literal types</strong>:</p>\n<pre><code>type Greeting = &quot;Hello&quot; | &quot;Hi&quot; | &quot;Welcome&quot;\n</code></pre>\n<p>Now the object of type <code>Greeting</code> can have the value either <code>&quot;Hello&quot;</code>, <code>&quot;Hi&quot;</code> or <code>&quot;Welcome&quot;</code>.</p>\n<pre><code>let greeting: Greeting\ngreeting = &quot;Hello&quot;       // OK\ngreeting = &quot;Hi&quot;          // OK\ngreeting = &quot;Welcome&quot;     // OK\ngreeting = &quot;GoodEvening&quot; // Error: Type '&quot;GoodEvening&quot;' is not assignable to type 'Greeting'\n</code></pre>\n<hr />\n<h2><code>keyof</code> only</h2>\n<p><code>keyof</code> of some type <code>T</code> gives you a new type that is a <strong>union of literal types</strong> and these literal types are the names of the properties of <code>T</code>. The resulting type is a subtype of string.</p>\n<p>For example, consider the following <code>interface</code>:</p>\n<pre><code>interface Person {\n    name: string\n    age: number\n    location: string\n}\n</code></pre>\n<p>Using the <code>keyof</code> operator on the type <code>Person</code> will give you a new type as shown in the following code:</p>\n<pre><code>type SomeNewType = keyof Person\n</code></pre>\n<p>This <code>SomeNewType</code> is a union of literal types (<code>&quot;name&quot; | &quot;age&quot; | &quot;location&quot;</code>) that is made from the properties of type <code>Person</code>.</p>\n<p>Now you can create objects of type <code>SomeNewType</code>:</p>\n<pre><code>let newTypeObject: SomeNewType\nnewTypeObject = &quot;name&quot;           // OK\nnewTypeObject = &quot;age&quot;            // OK\nnewTypeObject = &quot;location&quot;       // OK\nnewTypeObject = &quot;anyOtherValue&quot;  // Error...\n</code></pre>\n<hr />\n<h2><code>keyof typeof</code> together on an object</h2>\n<p>As you might already know, the <code>typeof</code> operator gives you the type of an object.\nIn the above example of <code>Person</code> interface, we already knew the type, so we just had to use the <code>keyof</code> operator on type <code>Person</code>.</p>\n<p>But what to do when we don't know the type of an object or we just have a value and not a type of that value like the following?</p>\n<pre><code>const bmw = { name: &quot;BMW&quot;, power: &quot;1000hp&quot; }\n</code></pre>\n<p>This is where we use <code>keyof typeof</code> together.</p>\n<p>The <code>typeof bmw</code> gives you the type: <code>{ name: string, power: string }</code></p>\n<p>And then <code>keyof</code> operator gives you the literal type union as shown in the following code:</p>\n<pre><code>type CarLiteralType = keyof typeof bmw\n\nlet carPropertyLiteral: CarLiteralType\ncarPropertyLiteral = &quot;name&quot;       // OK\ncarPropertyLiteral = &quot;power&quot;      // OK\ncarPropertyLiteral = &quot;anyOther&quot;   // Error...\n</code></pre>\n<hr />\n<h2><code>keyof typeof</code> on an <code>enum</code></h2>\n<p>In Typescript, enums are used as <em>types at compile-time</em> to achieve type-safety for the constants but they are treated as <em>objects at runtime</em>. This is because, they are converted to plain objects once the Typescript code is compiled to Javascript. So, the explanation of the objects above is applicable here too. The example given by OP in the question is:</p>\n<pre><code>enum ColorsEnum {\n    white = '#ffffff',\n    black = '#000000',\n}\n</code></pre>\n<p>Here <code>ColorsEnum</code> exists as an object at runtime, not as a type. So, we need to invoke <code>keyof typeof</code> operators together as shown in the following code:</p>\n<pre><code>type Colors = keyof typeof ColorsEnum\n\nlet colorLiteral: Colors\ncolorLiteral = &quot;white&quot;  // OK\ncolorLiteral = &quot;black&quot;  // OK\ncolorLiteral = &quot;red&quot;    // Error...\n</code></pre>\n<p>That's it! Hope that helps.</p>\n"}, {"tags": [], "owner": {"reputation": 14263, "user_id": 10325032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UwH88.jpg?s=128&g=1", "display_name": "Karol Majewski", "link": "https://stackoverflow.com/users/10325032/karol-majewski"}, "is_accepted": false, "score": 12, "last_activity_date": 1595502747, "last_edit_date": 1595502747, "creation_date": 1594761953, "answer_id": 62904231, "question_id": 55377365, "link": "https://stackoverflow.com/questions/55377365/what-does-keyof-typeof-mean-in-typescript/62904231#62904231", "title": "What does &quot;keyof typeof&quot; mean in TypeScript?", "body": "<p><strong>Common misconception about TypeScript</strong></p>\n<p>TypeScript is often described as a type layer on top of JavaScript runtime. As if types and values lived on separate planes. However, in TypeScript, some things are types <em>and</em> values at the same time.</p>\n<p>This is true for:</p>\n<ul>\n<li>classes,</li>\n<li>enums,</li>\n<li>namespaces.</li>\n</ul>\n<p><strong>When can you use <code>keyof</code>?</strong></p>\n<p>The <code>keyof</code> keyword only works on the type level. You cannot apply it to a JavaScript value.</p>\n<p><strong>When do you need <code>keyof typeof</code>?</strong></p>\n<p>When you're dealing with something that is a type and a value at the same time (like a class or an enum), but you're interested specifically in what the type of that value is.</p>\n<p>The simplest example:</p>\n<pre><code>const foo = { bar: 42 }; // foo is a value\ntype Foo = typeof foo; // Foo is the type of foo\n\ntype KeyOfFoo = keyof Foo; // &quot;keyof Foo&quot; is the same as &quot;keyof typeof foo&quot;, which is &quot;bar&quot;\n</code></pre>\n<p>In general, when you see this:</p>\n<pre><code>type A = keyof typeof B;\n</code></pre>\n<p>the <code>typeof B</code> part tells TypeScript to look at the <em>type</em> of B. You can think of it as casting B to its type. Sort of like casting a two-dimensional object to a one-dimensional space.</p>\n<p>Since <code>typeof B</code> is a type, not a value, we can now use <code>keyof</code> on it.</p>\n<p><strong>Example</strong></p>\n<p>Classes are types and values. You can call them, but you can also use <code>keyof</code> on them.</p>\n<pre><code>declare class Foo {\n    static staticProperty: string;\n\n    dynamicProperty: string;\n}\n\ntype Constructor = typeof Foo;\ntype Instance = Foo;\n\ntype A = keyof Constructor; // &quot;prototype&quot; | &quot;staticProperty&quot;\ntype B = keyof Instance; // &quot;dynamicProperty&quot;\n</code></pre>\n<p>By using <code>typeof</code> together with <code>keyof</code>, we can toggle between using <code>keyof</code> against the <em>instance</em> type and the <em>constructor</em> type.</p>\n"}, {"tags": [], "owner": {"reputation": 377, "user_id": 8212105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6871d4192c0043f4d0e85db7fc929dba?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Singh", "link": "https://stackoverflow.com/users/8212105/akash-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1600097722, "creation_date": 1600097722, "answer_id": 63887465, "question_id": 55377365, "link": "https://stackoverflow.com/questions/55377365/what-does-keyof-typeof-mean-in-typescript/63887465#63887465", "title": "What does &quot;keyof typeof&quot; mean in TypeScript?", "body": "<p>For finding the type of any values we use typeof operation. For eg</p>\n<pre><code>const user = {\n   getPersonalInfo(){},\n   getLocation(){}\n}\n</code></pre>\n<p>Here user is a value so here typeof operator comes in handy</p>\n<pre><code>type userType = typeof user\n</code></pre>\n<p>Here userType gives type information that user is an object which have two properties getPersonalInfo and getLocation and both are functions return void</p>\n<p>Now if you want to find the keys of user you can use keyof</p>\n<pre><code>type userKeys = keyof userType\n</code></pre>\n<p>which says userKeys= <strong>'getPersonalInfo'| 'getLocation'</strong></p>\n<blockquote>\n<p>Beware if you try to get user's key like <code>type userKeys = keyof user</code> you will get an error <em><strong>'user' refers to a value, but is being used as a type here. Did you mean 'typeof user'?</strong></em></p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1226, "user_id": 600525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59ed3af96e4f24189f7b4df910f6c492?s=128&d=identicon&r=PG", "display_name": "James EJ", "link": "https://stackoverflow.com/users/600525/james-ej"}, "is_accepted": true, "score": 12, "last_activity_date": 1611938044, "last_edit_date": 1611938044, "creation_date": 1611937119, "answer_id": 65958095, "question_id": 55377365, "link": "https://stackoverflow.com/questions/55377365/what-does-keyof-typeof-mean-in-typescript/65958095#65958095", "title": "What does &quot;keyof typeof&quot; mean in TypeScript?", "body": "<p><code>keyof</code> takes an object type and returns a type that accepts any of the object's keys.</p>\n<pre class=\"lang-js prettyprint-override\"><code>type Point = { x: number; y: number };\ntype P = keyof Point; // type '&quot;x&quot; || &quot;y&quot;'\n\nconst coordinate: P = 'z' // Type '&quot;z&quot;' is not assignable to type '&quot;x&quot; | &quot;y&quot;'.\n</code></pre>\n<h2>typeof with TypeScript types</h2>\n<p><code>typeof</code> behaves differently when called on javascript objects, to when it is called on typescript types.</p>\n<ul>\n<li>TypeScript uses <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/typeof\" rel=\"noreferrer\">javascript's typeof</a> when called on javascript values at runtime and returns one of <code>&quot;undefined&quot;, &quot;object&quot;, &quot;boolean&quot;, &quot;number&quot;, &quot;bigint&quot;, &quot;string&quot;, &quot;symbol&quot;, &quot;function&quot;</code></li>\n<li><a href=\"https://www.typescriptlang.org/docs/handbook/2/typeof-types.html\" rel=\"noreferrer\">TypeScript's typeof</a> is called on type values, but can also be called on javascript values when in a type expression. It can also infer the type of javascript objects, returning a more detailed object type.</li>\n</ul>\n<pre class=\"lang-js prettyprint-override\"><code>type Language = 'EN' | 'ES'; \nconst userLanguage: Language = 'EN';\nconst preferences = { language: userLanguage, theme: 'light' };\n\nconsole.log(typeof preferences); // &quot;object&quot;\ntype Preferences = typeof preferences; // type '{language: 'EN''; theme: string; }'\n</code></pre>\n<p>Because the second <code>typeof preferences</code> is in a type expression it is actually TypeScript's own <code>typeof</code> that get called, and not javascript's.</p>\n<h2>keyof typeof</h2>\n<p>Because <a href=\"https://www.typescriptlang.org/docs/handbook/2/keyof-types.html\" rel=\"noreferrer\"><code>keyof</code></a> is a TypeScript concept we will be calling TypeScript's verion of <code>typeof</code>.</p>\n<p><code>keyof typeof</code> will infer the type of a javascript object and return a type that is the union of its keys. Because it can infer the exact value of the keys it can return a union of their <a href=\"https://www.typescriptlang.org/docs/handbook/literal-types.html\" rel=\"noreferrer\">literal types</a> instead of just returning &quot;string&quot;.</p>\n<pre class=\"lang-js prettyprint-override\"><code>type PreferenceKeys = keyof typeof preferences; // type '&quot;language&quot; | &quot;theme&quot;'\n</code></pre>\n"}], "owner": {"reputation": 12496, "user_id": 1283776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/abb815001c365007d50d2bdb3226e70a?s=128&d=identicon&r=PG", "display_name": "user1283776", "link": "https://stackoverflow.com/users/1283776/user1283776"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29886, "favorite_count": 20, "accepted_answer_id": 65958095, "answer_count": 5, "score": 89, "last_activity_date": 1611938044, "creation_date": 1553690197, "last_edit_date": 1609072288, "question_id": 55377365, "link": "https://stackoverflow.com/questions/55377365/what-does-keyof-typeof-mean-in-typescript", "title": "What does &quot;keyof typeof&quot; mean in TypeScript?", "body": "<p>Example:</p>\n\n<p>Explain to me what <code>keyof typeof</code> means in TypeScript</p>\n\n<pre><code>enum ColorsEnum {\n    white = '#ffffff',\n    black = '#000000',\n}\n\ntype Colors = keyof typeof ColorsEnum;\n</code></pre>\n\n<p>The last row is equivalent to:</p>\n\n<pre><code>type Colors = \"white\" | \"black\"\n</code></pre>\n\n<p>But how does it work?</p>\n\n<p>I would expect <code>typeof ColorsEnum</code> to return something like <code>\"Object\"</code> and then <code>keyof \"Object\"</code> to not do anything interesting. But I am obviously wrong.</p>\n"}, {"tags": ["angular", "typescript", "datasource"], "comments": [{"owner": {"reputation": 1463, "user_id": 7423269, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh5.googleusercontent.com/-d0sjrU87oiA/AAAAAAAAAAI/AAAAAAAADgk/5wpFxnCRxoc/photo.jpg?sz=128", "display_name": "Brian Stanley", "link": "https://stackoverflow.com/users/7423269/brian-stanley"}, "edited": false, "score": 0, "creation_date": 1553691405, "post_id": 55377285, "comment_id": 97477556, "body": "call me crazy but I am pretty sure the i &lt; 11 portion of your for loop is the culprit"}, {"owner": {"reputation": 227, "user_id": 9010613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a633781b6d8ef3f82787e2b28b65535?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/9010613/michael"}, "reply_to_user": {"reputation": 1463, "user_id": 7423269, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh5.googleusercontent.com/-d0sjrU87oiA/AAAAAAAAAAI/AAAAAAAADgk/5wpFxnCRxoc/photo.jpg?sz=128", "display_name": "Brian Stanley", "link": "https://stackoverflow.com/users/7423269/brian-stanley"}, "edited": false, "score": 0, "creation_date": 1553696298, "post_id": 55377285, "comment_id": 97481030, "body": "I tried it with 10. It didn&#39;t change anything unfortunately."}, {"owner": {"reputation": 1463, "user_id": 7423269, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh5.googleusercontent.com/-d0sjrU87oiA/AAAAAAAAAAI/AAAAAAAADgk/5wpFxnCRxoc/photo.jpg?sz=128", "display_name": "Brian Stanley", "link": "https://stackoverflow.com/users/7423269/brian-stanley"}, "edited": false, "score": 0, "creation_date": 1553697566, "post_id": 55377285, "comment_id": 97481883, "body": "How many times do you want that for loop to run?"}, {"owner": {"reputation": 227, "user_id": 9010613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a633781b6d8ef3f82787e2b28b65535?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/9010613/michael"}, "reply_to_user": {"reputation": 1463, "user_id": 7423269, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh5.googleusercontent.com/-d0sjrU87oiA/AAAAAAAAAAI/AAAAAAAADgk/5wpFxnCRxoc/photo.jpg?sz=128", "display_name": "Brian Stanley", "link": "https://stackoverflow.com/users/7423269/brian-stanley"}, "edited": false, "score": 0, "creation_date": 1553697718, "post_id": 55377285, "comment_id": 97481999, "body": "Always 10 times."}], "owner": {"reputation": 227, "user_id": 9010613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a633781b6d8ef3f82787e2b28b65535?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/9010613/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553689923, "creation_date": 1553689923, "question_id": 55377285, "link": "https://stackoverflow.com/questions/55377285/why-does-my-mattabledatasource-push-more-than-one-object", "title": "Why does my MatTableDataSource push more than one Object?", "body": "<p>I have 2 subscriptions in my ngOnInit(). </p>\n\n<p>Here I can add a 'Transaction' to a transaction pool. When clicking on \"Send\" it will trigger the <code>transaction$</code> subscription and add the transaction to the pool. It should always only add ONE transaction.</p>\n\n<p><a href=\"https://i.stack.imgur.com/HRy7y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HRy7y.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is how the pool looks like for the first time:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ExBNU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ExBNU.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is what the console.logs give me: This should always be the case. After pushing a transaction in each of the 10 pools they should all contain 1 object.</p>\n\n<p><a href=\"https://i.stack.imgur.com/YjknK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YjknK.png\" alt=\"enter image description here\"></a></p>\n\n<p>After clicking on one button, the number of the winner is getting subscribed. The pool from the winner should be copied to the rest of the pools. \nAnd what happens now, when I add a transaction to the pool: </p>\n\n<p>The transaction is getting pushed to each of the 10 pools. But instead of getting pushed 1 time it's getting pushed 10 times in each pool.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZTTJC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZTTJC.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is what the console.logs show: </p>\n\n<p><a href=\"https://i.stack.imgur.com/Cy01g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cy01g.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>this.emitTransactionService.transaction$.subscribe(transaction =&gt; {\n        if (transaction !== false) {\n          for (let i = 1; i &lt; 11; ++i) {\n            console.log(this.transactionPools[i].dataSource.data);\n            this.transactionPools[i].dataSource.data.push(transaction);\n            console.log(this.transactionPools[i].dataSource.data);\n          }\n          console.log('Hallo');\n          this.sendMessage5();\n        }\n      }\n    );\n    this.emitTransactionService.winningMiner$.subscribe(winningMiner =&gt; {\n      if (winningMiner !== false) {\n        for (let i = 1; i &lt; 11; ++i) {\n          this.transactionPools[i].dataSource = this.transactionPools[winningMiner].dataSource;\n        }\n      }\n    });\n</code></pre>\n\n<p>I tried several things, but none of them worked. I tried creating a new MatTableDataSource after each button click, which didn't work. \nAnd also the problem appeared when I added the <code>winningMiner$</code> subscription</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 19307, "user_id": 1663462, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c30e0fa0f3a065c038c633a95066d299?s=128&d=identicon&r=PG", "display_name": "Chris Stryczynski", "link": "https://stackoverflow.com/users/1663462/chris-stryczynski"}, "reply_to_user": {"reputation": 3470, "user_id": 9381897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0hiHf.jpg?s=128&g=1", "display_name": "leopal", "link": "https://stackoverflow.com/users/9381897/leopal"}, "edited": false, "score": 1, "creation_date": 1553689707, "post_id": 55377076, "comment_id": 97476439, "body": "That works great, feel free to post as an answer."}], "answers": [{"tags": [], "owner": {"reputation": 3470, "user_id": 9381897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0hiHf.jpg?s=128&g=1", "display_name": "leopal", "link": "https://stackoverflow.com/users/9381897/leopal"}, "is_accepted": true, "score": 1, "last_activity_date": 1553689800, "creation_date": 1553689800, "answer_id": 55377249, "question_id": 55377076, "link": "https://stackoverflow.com/questions/55377076/how-to-export-a-typescript-function-to-be-accessible-from-browsers-command-line/55377249#55377249", "title": "How to export a typescript function to be accessible from browser&#39;s command line?", "body": "<p>In order to use function in browser console, you have to expose it first to window object.</p>\n\n<p>Try this:</p>\n\n<p><code>(&lt;any&gt;window).ident = ident</code></p>\n"}], "owner": {"reputation": 19307, "user_id": 1663462, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c30e0fa0f3a065c038c633a95066d299?s=128&d=identicon&r=PG", "display_name": "Chris Stryczynski", "link": "https://stackoverflow.com/users/1663462/chris-stryczynski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 55377249, "answer_count": 1, "score": 1, "last_activity_date": 1554380446, "creation_date": 1553689254, "last_edit_date": 1554380446, "question_id": 55377076, "link": "https://stackoverflow.com/questions/55377076/how-to-export-a-typescript-function-to-be-accessible-from-browsers-command-line", "title": "How to export a typescript function to be accessible from browser&#39;s command line?", "body": "<pre><code>var ident = (v: any) =&gt; {v};\nexport default ident;\n</code></pre>\n\n<p>It compiles succesfully, however if I try calling <code>ident</code> from the browser's command line it errors with:</p>\n\n<pre><code>VM1228:1 Uncaught ReferenceError: ident is not defined\n    at &lt;anonymous&gt;:1:1\n</code></pre>\n\n<p>How can I achieve the above?</p>\n"}, {"tags": ["angular", "typescript", "dependency-injection"], "answers": [{"tags": [], "owner": {"reputation": 186, "user_id": 4222328, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f11641d265e8fefa479152b4720f17b?s=128&d=identicon&r=PG&f=1", "display_name": "Nelladel", "link": "https://stackoverflow.com/users/4222328/nelladel"}, "is_accepted": true, "score": 1, "last_activity_date": 1553689137, "creation_date": 1553689137, "answer_id": 55377033, "question_id": 55376958, "link": "https://stackoverflow.com/questions/55376958/injection-token-undefined-in-service-but-found-in-component/55377033#55377033", "title": "Injection token undefined in service, but found in component", "body": "<p>Nevermind. <strong>Visual Studio Code</strong>'s linting didn't warn me that <code>HotParser</code> hadn't been imported in the service's <code>import</code> statement... I saw the following compiler error: </p>\n\n<pre><code>ERROR in src/entry/entry.service.ts(11,25): error TS2304: Cannot find name 'HotParser'.\n</code></pre>\n\n<p>So ended up changing: </p>\n\n<pre><code>import { IHotParser } from './parser/parser.injector';\n</code></pre>\n\n<p>to: </p>\n\n<pre><code>import { HotParser, IHotParser } from './parser/parser.injector';\n</code></pre>\n\n<p>And the error went away.</p>\n"}], "owner": {"reputation": 186, "user_id": 4222328, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f11641d265e8fefa479152b4720f17b?s=128&d=identicon&r=PG&f=1", "display_name": "Nelladel", "link": "https://stackoverflow.com/users/4222328/nelladel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 799, "favorite_count": 0, "accepted_answer_id": 55377033, "answer_count": 1, "score": 0, "last_activity_date": 1553689137, "creation_date": 1553688870, "question_id": 55376958, "link": "https://stackoverflow.com/questions/55376958/injection-token-undefined-in-service-but-found-in-component", "title": "Injection token undefined in service, but found in component", "body": "<p>I'm adding external <code>js</code> libraries as <code>InjectionTokens</code> to an Angular 7 application, so as to use them in <code>@Components</code> and services. \nI've created the interface, the <code>InjectionToken&lt;&gt;</code> and the <code>Provider</code>, and added the <code>Provider</code> to the <code>providers: []</code> property of an <code>@NgModule</code>. </p>\n\n<p>I've been following <a href=\"https://hackernoon.com/angular-providers-how-to-inject-3rd-party-library-af4a78722864\" rel=\"nofollow noreferrer\">this guide</a> on how to inject 3rd party libraries. </p>\n\n<p><strong>When I inject the <code>InjectionToken</code> in a component, I can use it perfectly well. When I try to inject it into a service, I get a <code>... is not defined</code> error.</strong></p>\n\n<p><code>angular.json</code>: </p>\n\n<pre><code>[...]\n\n\"scripts\": [\n    \"./node_modules/hot-formula-parser/dist/formula-parser.js\",\n    \"./node_modules/@handsontable/formulajs/dist/formula.js\"\n]\n\n[...]\n\n</code></pre>\n\n<p><code>entry.module.ts</code>:</p>\n\n<pre><code>import { NgModule, InjectionToken } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { EntryComponent } from './entry.component';\nimport { RouterModule } from '@angular/router';\nimport { entryRoutes } from './entry.routes';\nimport { SharedModule } from 'src/shared/shared.module';\nimport { EntryService } from './entry.service';\nimport { HotParserProvider} from './parser/parser.injector';\n\n@NgModule({\n    declarations: [EntryComponent],\n    imports: [SharedModule, CommonModule, RouterModule.forChild(entryRoutes)],\n    exports: [],\n    providers: [\n        HotParserProvider,\n        EntryService, \n    ],\n})\nexport class EntryModule { }\n</code></pre>\n\n<p><code>parser.injector.ts</code>:</p>\n\n<pre><code>import { InjectionToken, ValueProvider } from \"@angular/core\";\n\ninterface IHotParser {\n    parse: (formula: string) =&gt; {error:string, result: any};\n}\n\nconst HotParser: InjectionToken&lt;IHotParser&gt; = new InjectionToken&lt;IHotParser&gt;('HotParser');\n\nconst HotParserProvider: ValueProvider = {\n    provide: HotParser,\n    useValue: new window['formulaParser'].Parser()\n}\n\nexport {IHotParser, HotParser, HotParserProvider};\n</code></pre>\n\n<p><code>entry.component.ts</code>:</p>\n\n<pre><code>import { Component, Inject } from '@angular/core';\nimport { EntryService } from './entry.service';\nimport { HotParser, IHotParser } from './parser/parser.injector';\n\n@Component({\n    selector: 'tp-entry',\n    templateUrl: './entry.component.html',\n    styleUrls: ['./entry.component.css']\n})\nexport class EntryComponent {\n    constructor(\n        @Inject(HotParser) private parser: IHotParser, // No error!\n        private entryService:EntryService\n    ) { }\n\n    ngOnInit(): void {\n        console.log(parser.parse(\"SUM(1,1)\"); // Correct output!       \n    }\n}\n</code></pre>\n\n<p><code>entry.service.ts</code>: </p>\n\n<pre><code>import { Injectable, Inject } from '@angular/core';\nimport { IHotParser} from './parser/parser.injector';\n\n@Injectable()\nexport class EntryService {\n    constructor(\n        @Inject(HotParser) private parser: IHotParser // HotParser is not defined\n    ) { }\n\n</code></pre>\n\n<p>Is there a difference between injecting a token in a component and in a service? \nI've tried changing the module provider-array's order, to no avail...</p>\n"}, {"tags": ["javascript", "typescript", "cordova", "cordova-plugins", "cordova-plugin-file"], "comments": [{"owner": {"reputation": 319, "user_id": 8429632, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4fIQDhDacdc/AAAAAAAAAAI/AAAAAAAAAs0/Ep7FcIgRWaE/photo.jpg?sz=128", "display_name": "Ameur Baccoucha", "link": "https://stackoverflow.com/users/8429632/ameur-baccoucha"}, "edited": false, "score": 0, "creation_date": 1582800983, "post_id": 55376505, "comment_id": 106905752, "body": "did you find an answer here ? i have same problem"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 13557480, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-y1T1rklzusI/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucnuNELZL-gF5ZRKSvEYOKESDTX6Wg/photo.jpg?sz=128", "display_name": "KeyAnyPress", "link": "https://stackoverflow.com/users/13557480/keyanypress"}, "is_accepted": false, "score": 0, "last_activity_date": 1589664094, "creation_date": 1589664094, "answer_id": 61843742, "question_id": 55376505, "link": "https://stackoverflow.com/questions/55376505/cordova-plugin-file-clean-overwrite-of-file/61843742#61843742", "title": "cordova-plugin-file clean overwrite of file", "body": "<p>i guess i found the way to fix this.</p>\n\n<p>You can use HTML5 FileWriter truncate() method.</p>\n\n<pre><code>    file.createWriter(writer =&gt; {\n      const blob = new Blob([JSON.stringify(data)], { type: 'application/json' })\n      const truncated = false;\n      writer.onwriteend = function() {\n        if (!truncated) {\n          truncated = true;\n          this.truncate(this.position);\n          return;\n        }\n      };\n      writer.write(blob)\n    })\n</code></pre>\n"}], "owner": {"reputation": 347, "user_id": 5069238, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-orjJMNLVyc4/AAAAAAAAAAI/AAAAAAAAAB8/PC4U8bwEKXk/photo.jpg?sz=128", "display_name": "Joshua Moon", "link": "https://stackoverflow.com/users/5069238/joshua-moon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 321, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1589664094, "creation_date": 1553687436, "question_id": 55376505, "link": "https://stackoverflow.com/questions/55376505/cordova-plugin-file-clean-overwrite-of-file", "title": "cordova-plugin-file clean overwrite of file", "body": "<p>I'm looking for a clean and safe way to fully overwrite existing files when using the cordova-plugin-file Cordova plugin.  What I've found, is that even when using the <code>exclusive: false</code> option, if the new file contents is <strong>shorter</strong> than the existing file, the remainder of the existing file persists at the end of the new file.</p>\n\n<p>Example. I have an existing file with the contents of <code>0123456789</code>, and want to replace it with <code>abcd</code>. When using <code>exclusive: false</code>, the file I end up with afterwards has the contents of <code>abcd456789</code></p>\n\n<p>Obviously this causes complications when reading back, especially when I expect these files to be correct json.</p>\n\n<p>I've been unable to find other answers that don't just simply say use <code>exclusive: false</code>.</p>\n\n<p>So far, I can work around this by manually deleting the file first, then writing to it, but this leaves me a point where I'm at risk of losing the entire file data if the app closes at the wrong moment.</p>\n\n<p>Another option may be to write to a temp file, then remove the existing one, then copy the temp, then remove the temp. And when reading, check for the file I want, if it's not there, check for a temp file for it, then copy and clean up if exists. This feels like a very long-winded work around for something that should be an option.</p>\n\n<p>Am I missing something here?</p>\n\n<p>This is my existing work around, though it does not handle the potential of app closing yet. Is there a nicer way before I have to go down that rabbit hole?</p>\n\n<pre><code>  private replaceFileAtPath&lt;T&gt;(path: string, data: T): void {\n    FileService.map.Settings.getFile(path, { create: true }, fileEntry =&gt; {\n      fileEntry.remove(() =&gt; {})\n      FileService.map.Settings.getFile(path, { create: true }, fe =&gt;\n        this.writeFile(fe, data)\n      )\n    })\n  }\n\n  private writeFile&lt;T&gt;(file: FileEntry, data: T, cb?: () =&gt; void): void {\n    file.createWriter(writer =&gt; {\n      const blob = new Blob([JSON.stringify(data)], { type: 'application/json' })\n\n      writer.write(blob)\n    })\n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "loopback"], "comments": [{"owner": {"reputation": 1581, "user_id": 4171429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f14ba770d2b38ffc567f3087da11353c?s=128&d=identicon&r=PG&f=1", "display_name": "Joakim", "link": "https://stackoverflow.com/users/4171429/joakim"}, "edited": false, "score": 0, "creation_date": 1553687520, "post_id": 55376422, "comment_id": 97475087, "body": "that seems to be a contradiction. Query params means that you are sending the info in the URL itself, like GET localhost:8080/api/data <b>?partnerId=101</b>. You can also send the info in the headers, but then it wouldn&#39;t be query params"}, {"owner": {"reputation": 4016, "user_id": 2202748, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9tSQE.jpg?s=128&g=1", "display_name": "Joel Joseph", "link": "https://stackoverflow.com/users/2202748/joel-joseph"}, "edited": false, "score": 0, "creation_date": 1553688104, "post_id": 55376422, "comment_id": 97475439, "body": "post your service code too, also that&#39;s not right way to send the query param"}, {"owner": {"reputation": 7, "user_id": 6422952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ed2fc3f3268b124770e3d5ed763c942?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav Bhatt", "link": "https://stackoverflow.com/users/6422952/gaurav-bhatt"}, "reply_to_user": {"reputation": 1581, "user_id": 4171429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f14ba770d2b38ffc567f3087da11353c?s=128&d=identicon&r=PG&f=1", "display_name": "Joakim", "link": "https://stackoverflow.com/users/4171429/joakim"}, "edited": false, "score": 0, "creation_date": 1553688122, "post_id": 55376422, "comment_id": 97475451, "body": "thanks for the response @Joakim. Let&#39;s narrow it down further. Say I need to pass the parameter <code>customHeaders</code> when I am calling <code>this.partnerApi.getData()</code>. Any leads on this?"}, {"owner": {"reputation": 1581, "user_id": 4171429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f14ba770d2b38ffc567f3087da11353c?s=128&d=identicon&r=PG&f=1", "display_name": "Joakim", "link": "https://stackoverflow.com/users/4171429/joakim"}, "edited": false, "score": 0, "creation_date": 1553689482, "post_id": 55376422, "comment_id": 97476282, "body": "well the answer to your question is that you would call the api like GET localhost:8080/api/data?customHeaders=someStringValue. But it seems incorrect to have a <i>query paramater</i> called custom <i>Headers</i>. If you want to use query params, you shouldn&#39;t name them headers. If something is called customHeaders, it&#39;s probably supposed to be headers, and not query parameters."}, {"owner": {"reputation": 7, "user_id": 6422952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ed2fc3f3268b124770e3d5ed763c942?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav Bhatt", "link": "https://stackoverflow.com/users/6422952/gaurav-bhatt"}, "edited": false, "score": 0, "creation_date": 1553690306, "post_id": 55376422, "comment_id": 97476810, "body": "yes you got it but how to call that function <code>this.partnerApi.getData(()=&gt;{header: {partnerId: 101}})</code> so that it triggers correct?"}, {"owner": {"reputation": 1581, "user_id": 4171429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f14ba770d2b38ffc567f3087da11353c?s=128&d=identicon&r=PG&f=1", "display_name": "Joakim", "link": "https://stackoverflow.com/users/4171429/joakim"}, "edited": false, "score": 0, "creation_date": 1553692483, "post_id": 55376422, "comment_id": 97478342, "body": "sorry, I don&#39;t understand the loopback function. If nobody else is able to help you, you can add the working AngularJS code to your question, and then I can take another look."}], "owner": {"reputation": 7, "user_id": 6422952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ed2fc3f3268b124770e3d5ed763c942?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav Bhatt", "link": "https://stackoverflow.com/users/6422952/gaurav-bhatt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553688866, "creation_date": 1553687189, "last_edit_date": 1553688866, "question_id": 55376422, "link": "https://stackoverflow.com/questions/55376422/sending-query-parameters-in-headers-to-loopback-generated-api", "title": "Sending Query Parameters in headers to Loopback generated API", "body": "<p>I have generated shared SDK from loopback using <code>loopback-sdk-builder</code> and have got one of the APIs as </p>\n\n<p><code>public getData(customHeaders?: Function): Observable&lt;any&gt; { }</code></p>\n\n<p>The call to be made should have query parameters in the URL and hence I need to send the customHeaders in call like,</p>\n\n<p><code>this.partnerApi.getData(()=&gt;{header: {partnerId: 101}})</code></p>\n\n<p>The loopback API is </p>\n\n<pre><code>Partner.remoteMethod('getData', {\n  accepts: {arg: 'req', type: 'object',http: function(ctx) {    \n    var req = ctx.req;   \n    return req;\n  }},\n  returns: {arg: 'detail', type: 'object'},\n  http: {\"verb\": \"get\"}\n});\n</code></pre>\n\n<p>which is generated by loopback-sdk-builder as,</p>\n\n<p><code>public getData(customHeaders?: Function): Observable&lt;any&gt; { }</code></p>\n\n<p>I need to call this generated API and the call (GET) should finally be </p>\n\n<p><code>http://127.0.0.1:3000/api/Partners/getData?partnerId=1001</code> </p>\n\n<p>The above call was fine with AngularJS+Loopback, but this issue is with Angular6+Loopback </p>\n\n<p>Any help on how to achieve this would be appreciated.</p>\n"}, {"tags": ["angular", "typescript", "drupal", "server-side-rendering"], "comments": [{"owner": {"reputation": 614, "user_id": 4448598, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1X1pn0nZpyk/AAAAAAAAAAI/AAAAAAAAH1o/TSterbaz2jk/photo.jpg?sz=128", "display_name": "viren Kalkhudiya", "link": "https://stackoverflow.com/users/4448598/viren-kalkhudiya"}, "edited": false, "score": 1, "creation_date": 1553689622, "post_id": 55376376, "comment_id": 97476375, "body": "Coz Google Analytics works well in MPAs (Multi-Page Applications) and I think you are using it on Angular which is SPA follow this tutorial hope it will help you <a href=\"https://codeburst.io/using-google-analytics-with-angular-25c93bffaa18\" rel=\"nofollow noreferrer\">codeburst.io/using-google-analytics-with-angular-25c93bffaa1&zwnj;&#8203;8</a>"}], "answers": [{"tags": [], "owner": {"reputation": 380, "user_id": 9462484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IX5dU.jpg?s=128&g=1", "display_name": "Nirali", "link": "https://stackoverflow.com/users/9462484/nirali"}, "is_accepted": false, "score": 1, "last_activity_date": 1553689010, "creation_date": 1553689010, "answer_id": 55376997, "question_id": 55376376, "link": "https://stackoverflow.com/questions/55376376/google-analytics-does-not-track-data/55376997#55376997", "title": "Google Analytics does not track data", "body": "<p>make sure you just copy paste the code provided by Google analytics api, i have following code pasted at the last inside <code>&lt;head&gt;&lt;/head&gt;</code> tag of index.html file and its working and tracking the data </p>\n\n<pre><code>&lt;script async src=\"https://www.googletagmanager.com/gtag/js?id=UA-134123456-1\"&gt;&lt;/script&gt;\n  &lt;script&gt;\n    window.dataLayer = window.dataLayer || [];\n    function gtag() {\n      dataLayer.push(arguments);\n    }\n    gtag('js', new Date());\n    gtag('config', 'UA-134123456-1'); \n  &lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4442949, "user_type": "registered", "profile_image": "https://graph.facebook.com/1483512133/picture?type=large", "display_name": "Patrick", "link": "https://stackoverflow.com/users/4442949/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553689010, "creation_date": 1553687027, "question_id": 55376376, "link": "https://stackoverflow.com/questions/55376376/google-analytics-does-not-track-data", "title": "Google Analytics does not track data", "body": "<p>Google analytics does not seem to track any data on our website. How it works;</p>\n\n<ol>\n<li>Tracking code get's added in Drupal headless backend cms</li>\n<li>Dynamic front-end get tracking code by concept(type of site)</li>\n<li>Tracking get's dynamiccly added to the Head (using angular, in the constructor).</li>\n</ol>\n\n<p>Tag assistant says: </p>\n\n<p>Missing Analytics.js script\n&amp;\nNo HTTP response detected</p>\n\n<p>Tried multiple things, also use code in body, get different kind of trackings etc. Als tried adding </p>\n\n<p>Current used code:</p>\n\n<pre><code>&lt;!-- Global site tag (gtag.js) - Google Ads: 991964869 --&gt;\u2028&lt;script data-cfasync=\"false\" async src=\"https://www.googletagmanager.com/gtag/js?id=AW-991964869-1\"&gt;&lt;/script&gt;\n\n&lt;!-- Cross domain checking for the ticket sale cms--&gt;\n&lt;script data-cfasync=\"false\"&gt;\n  window.dataLayer = window.dataLayer || [];\n\n  function gtag() {\n    dataLayer.push(arguments);\n  }\n  gtag('js', new Date());\n\n  gtag('config', 'UA-37890526-1');\n&lt;/script&gt;\n\n&lt;script type=\"text/javascript\" data-cfasync=\"false\"&gt;\n  (function (i, s, o, g, r, a, m) {\n    i['GoogleAnalyticsObject'] = r;\n    i[r] = i[r] || function () {\n      (i[r].q = i[r].q || []).push(arguments)\n    }, i[r].l = 1 * new Date();\n    a = s.createElement(o),\n      m = s.getElementsByTagName(o)[0];\n    a.async = 1;\n    a.src = g;\n    m.parentNode.insertBefore(a, m)\n  })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');\n  ga('create', 'UA-37890526-1', 'auto');\n  ga(function (tracker) {\n    var clientId = tracker.get('clientId');\n    var frameWindow = document.getElementById('cm-ticketshop').contentWindow;\n    window.addEventListener('message', function (event) {\n      if (event.origin === \"pos.cmtickets.com\" &amp;&amp; event.data === \"shop.loaded\") {\n        frameWindow.postMessage({\n          clientId: clientId\n        }, '*');\n      }\n    });\n  });\n&lt;/script&gt;\n\n&lt;!-- Cross domain checking for the ticket sale cms --&gt;\n&lt;!-- Facebook Pixel Code --&gt;\u2028&lt;script&gt;\n  ! function (f, b, e, v, n, t, s) {\n    if (f.fbq) return;\n    n = f.fbq = function () {\n      n.callMethod ?\n        n.callMethod.apply(n, arguments) : n.queue.push(arguments)\n    };\n    if (!f._fbq) f._fbq = n;\n    n.push = n;\n    n.loaded = !0;\n    n.version = '2.0';\n    n.queue = [];\n    t = b.createElement(e);\n    t.async = !0;\n    t.src = v;\n    s = b.getElementsByTagName(e)[0];\n    s.parentNode.insertBefore(t, s)\n  }(window, document, 'script',\n    'https://connect.facebook.net/en_US/fbevents.js');\n  fbq('init', '324909954561696');\n  fbq('track', 'PageView');\n&lt;/script&gt;\u2028&lt;noscript&gt;&lt;img height=\"1\" width=\"1\" style=\"display:none\" \u2028src=\"https://www.facebook.com/tr?id=324909954561696&amp;ev=PageView&amp;noscript=1\"\n    \u2028 /&gt;&lt;/noscript&gt;\u2028\n&lt;!-- End Facebook Pixel Code --&gt;\n</code></pre>\n\n<p>Want the tracking to work! :(</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "passport.js", "nestjs"], "comments": [{"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "edited": false, "score": 0, "creation_date": 1553694311, "post_id": 55376098, "comment_id": 97479597, "body": "What do you need the context for? The <code>request</code>?"}, {"owner": {"reputation": 459, "user_id": 3979123, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ARNij.jpg?s=128&g=1", "display_name": "RezaT1994", "link": "https://stackoverflow.com/users/3979123/rezat1994"}, "reply_to_user": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "edited": false, "score": 0, "creation_date": 1553694463, "post_id": 55376098, "comment_id": 97479716, "body": "@KimKern Yes, I need the url"}], "answers": [{"tags": [], "owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "is_accepted": true, "score": 5, "last_activity_date": 1553696740, "creation_date": 1553696740, "answer_id": 55379643, "question_id": 55376098, "link": "https://stackoverflow.com/questions/55376098/how-to-access-the-request-url-in-the-validate-method-of-the-http-strategy/55379643#55379643", "title": "How to access the request url in the validate method of the http strategy?", "body": "<p>You can access the <code>request</code> object by passing the option <code>passReqToCallback: true</code> to <code>passport-http-bearer</code>. Then the first parameter in your validate callback will be the <code>request</code>:</p>\n\n<pre><code>@Injectable()\nexport class HttpStrategy extends PassportStrategy(Strategy) {\n  constructor(private readonly authService: AuthService) {\n    // Add the option here\n    super({ passReqToCallback: true });\n  }\n\n  async validate(request: Request, token: string) {\n    // Now you have access to the request url\n    console.log(request.url);\n    const user = await this.authService.validateUser(token);\n    if (!user) {\n      throw new UnauthorizedException();\n    }\n    return user;\n  }\n}\n</code></pre>\n\n<p>See a running demo here</p>\n\n<p><a href=\"https://codesandbox.io/s/1rqvxzz3x3?fontsize=14&amp;initialpath=%3Faccess_token%3D233&amp;module=%2Fsrc%2Fjwt.strategy.ts\" rel=\"noreferrer\"><img src=\"https://codesandbox.io/static/img/play-codesandbox.svg\" alt=\"Edit Nest HTTP Auth\"></a></p>\n"}], "owner": {"reputation": 459, "user_id": 3979123, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ARNij.jpg?s=128&g=1", "display_name": "RezaT1994", "link": "https://stackoverflow.com/users/3979123/rezat1994"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 780, "favorite_count": 0, "accepted_answer_id": 55379643, "answer_count": 1, "score": 4, "last_activity_date": 1553696826, "creation_date": 1553686077, "last_edit_date": 1553696826, "question_id": 55376098, "link": "https://stackoverflow.com/questions/55376098/how-to-access-the-request-url-in-the-validate-method-of-the-http-strategy", "title": "How to access the request url in the validate method of the http strategy?", "body": "<p>I want to access the context object that exists in guards, inside my bearer strategy validate method. Can I pass it as an argument alongside with the token?</p>\n\n<p>bearer-auth.guard.ts:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Injectable()\nexport class BearerAuthGuard extends AuthGuard('bearer') {\n    canActivate(context: ExecutionContext): boolean | Promise&lt;boolean&gt; | Observable&lt;boolean&gt; {\n        return super.canActivate(context);\n    }\n}\n</code></pre>\n\n<p>http.strategy.ts:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Injectable()\nexport class HttpStrategy extends PassportStrategy(Strategy) {\n    constructor(private globalService: GlobalService) {\n        super();\n    }\n\n    async validate(token: string) {\n        const customer = await this.globalService.validateCustomer(token);\n        if (!customer) {\n            throw new UnauthorizedException();\n        }\n        return customer;\n    }\n}\n</code></pre>\n\n<p>I want something like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>async validate(token: string, context) { // &lt;-- context object as argument\n    const customer = await this.globalService.validateCustomer(token);\n    if (!customer) {\n        throw new UnauthorizedException();\n    }\n    return customer;\n}\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 1, "creation_date": 1553688098, "post_id": 55376583, "comment_id": 97475438, "body": "Thanks Titian! Didn&#39;t occur to me at all, I kept thinking about mapped types. Appreciate all your work on Typescript on SO."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1553688552, "post_id": 55376583, "comment_id": 97475703, "body": "@IngoB&#252;rk thanks, keep the question coming :) It&#39;s been a slow couple of weeks on SO for TS, at least insofar as language questions are concerned :)"}, {"owner": {"reputation": 1441, "user_id": 1546820, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8a20d2bdcf163217944b3712488190c0?s=128&d=identicon&r=PG", "display_name": "htulipe", "link": "https://stackoverflow.com/users/1546820/htulipe"}, "edited": false, "score": 0, "creation_date": 1580306632, "post_id": 55376583, "comment_id": 106054202, "body": "Looks like it does not work when there are more than one call signature (function overloading). <code>JustSignature</code> picks the latest call signature in the overload list."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 1441, "user_id": 1546820, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8a20d2bdcf163217944b3712488190c0?s=128&d=identicon&r=PG", "display_name": "htulipe", "link": "https://stackoverflow.com/users/1546820/htulipe"}, "edited": false, "score": 1, "creation_date": 1580307107, "post_id": 55376583, "comment_id": 106054499, "body": "@htulipe that is true extracting multiple signatures is possible but messy (something like here <a href=\"https://stackoverflow.com/questions/52760509/typescript-returntype-of-overloaded-function\" title=\"typescript returntype of overloaded function\">stackoverflow.com/questions/52760509/&hellip;</a>), and this will not work for generics either. It is a limited solution for the problem posed in the original question."}, {"owner": {"reputation": 1441, "user_id": 1546820, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8a20d2bdcf163217944b3712488190c0?s=128&d=identicon&r=PG", "display_name": "htulipe", "link": "https://stackoverflow.com/users/1546820/htulipe"}, "edited": false, "score": 0, "creation_date": 1580307467, "post_id": 55376583, "comment_id": 106054752, "body": "Ok I just posted the question here <a href=\"https://stackoverflow.com/questions/59968958/typescript-extract-multiple-call-signatures-from-interface\" title=\"typescript extract multiple call signatures from interface\">stackoverflow.com/questions/59968958/&hellip;</a>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 1441, "user_id": 1546820, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8a20d2bdcf163217944b3712488190c0?s=128&d=identicon&r=PG", "display_name": "htulipe", "link": "https://stackoverflow.com/users/1546820/htulipe"}, "edited": false, "score": 0, "creation_date": 1580307705, "post_id": 55376583, "comment_id": 106054921, "body": "@htulipe just posted an answer \ud83d\ude02"}, {"owner": {"reputation": 1441, "user_id": 1546820, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8a20d2bdcf163217944b3712488190c0?s=128&d=identicon&r=PG", "display_name": "htulipe", "link": "https://stackoverflow.com/users/1546820/htulipe"}, "edited": false, "score": 0, "creation_date": 1580307943, "post_id": 55376583, "comment_id": 106055062, "body": "Need some real time notifications on SO \ud83d\ude06"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1580307740, "last_edit_date": 1580307740, "creation_date": 1553687654, "answer_id": 55376583, "question_id": 55376089, "link": "https://stackoverflow.com/questions/55376089/extract-call-signature-from-a-type/55376583#55376583", "title": "Extract call signature from a type", "body": "<p>You can use <code>ReturnType</code> and <code>Parameters</code> built-in types to extract the parameters and return type and rebuild the signature:</p>\n\n<pre><code>export interface Foo&lt;T&gt; {\n    (arg: T): T;\n    doFoo(): void;\n}\n\ntype JustSignature&lt;T extends (...a: any[]) =&gt; unknown&gt; = (...a: Parameters&lt;T&gt;) =&gt; ReturnType&lt;T&gt;\n\ntype FooSignature&lt;T&gt; = JustSignature&lt;Foo&lt;T&gt;&gt;\n\nconst foo: FooSignature&lt;string&gt; = (arg: string) =&gt; arg; \n</code></pre>\n\n<p>Note: For a solution that works for multiple overloads see <a href=\"https://stackoverflow.com/questions/59968958/typescript-extract-multiple-call-signatures-from-interface/59969114#59969114\">here</a></p>\n"}], "owner": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 1, "accepted_answer_id": 55376583, "answer_count": 1, "score": 2, "last_activity_date": 1580307740, "creation_date": 1553686043, "question_id": 55376089, "link": "https://stackoverflow.com/questions/55376089/extract-call-signature-from-a-type", "title": "Extract call signature from a type", "body": "<p>Given a type containing both a call signature and additional properties such as:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export interface Foo&lt;T&gt; {\n    (arg: T): T;\n    doFoo(): void;\n}\n</code></pre>\n\n<p>How can we type a function which implements the call signature of this type?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// Property 'doFoo' is missing in type '(arg: string) =&gt; string'\n// but required in type 'Foo&lt;string&gt;'.\nconst foo: Foo&lt;string&gt; = (arg: string) =&gt; arg;\n</code></pre>\n\n<p>One way to exclude the call signature is to use a mapped type since the call signature will not be in <code>keyof Foo&lt;T&gt;</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type FooProperties&lt;T&gt; = { [K in keyof Foo&lt;T&gt;]: Foo&lt;T&gt;[K] };\n\nconst foo: FooProperties&lt;string&gt; = {\n    doFoo() {}\n};\n</code></pre>\n\n<p>But how can we get the opposite, that is <em>only</em> the call signature so we can write the following?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type FooSignature&lt;T&gt; = /* \u2026? */\n\nconst foo: FooSignature&lt;string&gt; = (arg: string) =&gt; arg;\n</code></pre>\n"}, {"tags": ["typescript", "definitelytyped"], "answers": [{"comments": [{"owner": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1553686109, "post_id": 55376014, "comment_id": 97474193, "body": "Thanks! The trick of using <code>this: TThis</code> in the signature is what we seem to have been missing."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 1, "creation_date": 1553686226, "post_id": 55376014, "comment_id": 97474260, "body": "@IngoB&#252;rk also added a constraint on it to make <code>foo</code> members accessible"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1553686198, "last_edit_date": 1553686198, "creation_date": 1553685791, "answer_id": 55376014, "question_id": 55375863, "link": "https://stackoverflow.com/questions/55375863/implementing-an-interface-with-a-call-signature-and-method-returning-this/55376014#55376014", "title": "Implementing an interface with a call signature and method returning &quot;this&quot;", "body": "<p>In recent versions of typescript (3.2 or 3.3 not sure which) when you declare a function, you can also assign extra properties to the function and typescript will consider these as the definition for those properties and not complain about them not having been defined:</p>\n\n<pre><code>export interface Foo&lt;T&gt; {\n    (arg: T): T;  \n    doFoo(): this;\n}\n\nfunction foo(arg: number) : number {\n    return arg\n}\nfoo.doFoo = function &lt;TThis extends typeof foo&gt;(this: TThis): TThis { // no polymorphic this in simple functions\n    return this\n}\n\nlet o: Foo&lt;number&gt; = foo;  // foo is compatible with Foo&lt;number&gt;\n</code></pre>\n\n<p>The old was of doing it, which still works is using <code>Object.assign</code> to create the function with extra properties:</p>\n\n<pre><code>let o: Foo&lt;number&gt; = Object.assign(function (arg: number): number {\n    return arg\n}, {\n    doFoo: function &lt;TThis&gt;(this: TThis): TThis {\n        return this\n    }\n})\n</code></pre>\n"}], "owner": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 359, "favorite_count": 0, "accepted_answer_id": 55376014, "answer_count": 1, "score": 2, "last_activity_date": 1553686198, "creation_date": 1553685228, "question_id": 55375863, "link": "https://stackoverflow.com/questions/55375863/implementing-an-interface-with-a-call-signature-and-method-returning-this", "title": "Implementing an interface with a call signature and method returning &quot;this&quot;", "body": "<p><em>Preface:</em> Our team is working on a library built on top of d3. Since we are using TypeScript, we are also using d3's types from DefinitelyTyped. The following question arises when trying to work with interfaces such as <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/d3-scale/v1/index.d.ts#L1437\" rel=\"nofollow noreferrer\">ScaleOrdinal</a> and many others from there.</p>\n\n<hr>\n\n<p>Suppose we have an interface containing both a call signature and additional properties:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export interface Foo&lt;T&gt; {\n    // Let's pretend this will be the identity function\n    (arg: T): T;\n\n    // Let's pretend that this will be a no-op function\n    // Note that this returns \"this\"    \n    doFoo(): this;\n}\n</code></pre>\n\n<p>How can we implement such an interface correctly &amp; in a type-safe manner[1]? Upon research I've found the following related questions, all of which are slightly different and/or fairly old. I'd like to get an idea of whether we're missing something or whether to raise an issue with the TypeScript team here:</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/12769636/how-to-make-a-class-implement-a-call-signature-in-typescript\">How to make a class implement a call signature in Typescript?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/49657148/typescript-implement-interface-with-both-call-signature-and-constructor-signatu\">TypeScript: Implement interface with both call signature and constructor signature</a></li>\n<li><a href=\"https://stackoverflow.com/questions/49672942/typescript-implement-an-interface-with-both-call-signature-and-indexing-signatu\">TypeScript: Implement an interface with both call signature and indexing signature</a></li>\n</ol>\n\n<p>Note that the interface is external to us, thus implementing it is our only option.</p>\n\n<hr>\n\n<p>\u00b9 For the sake of the question, I would like the implementation to explicitly restate all type annotations.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "filter"], "comments": [{"owner": {"reputation": 5367, "user_id": 11011793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0p7CT.jpg?s=128&g=1", "display_name": "MoxxiManagarm", "link": "https://stackoverflow.com/users/11011793/moxximanagarm"}, "edited": false, "score": 0, "creation_date": 1553685378, "post_id": 55375797, "comment_id": 97473764, "body": "Please peek it out for me, where is the filter in use? I can&#39;t see it. Having a pipe doesn&#39;t autofilter anything for you."}, {"owner": {"reputation": 1, "user_id": 11070074, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gHJIqqK6FhA/AAAAAAAAAAI/AAAAAAAAABs/-boQtF0SZ6I/photo.jpg?sz=128", "display_name": "Emin Sahin", "link": "https://stackoverflow.com/users/11070074/emin-sahin"}, "reply_to_user": {"reputation": 5367, "user_id": 11011793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0p7CT.jpg?s=128&g=1", "display_name": "MoxxiManagarm", "link": "https://stackoverflow.com/users/11011793/moxximanagarm"}, "edited": false, "score": 0, "creation_date": 1553696181, "post_id": 55375797, "comment_id": 97480946, "body": "in customer-list.component.ts you can see the line.. <code>&lt;tr *ngFor=&quot;let customer of customerList | filter=&quot;filteredStatus&quot;&gt;           &lt;td&gt;{{ customer.id }}&lt;&#47;td&gt;           &lt;td&gt;{{ customer.firstName }}&lt;&#47;td&gt;           &lt;td&gt;{{ customer.lastName }}&lt;&#47;td&gt;           &lt;td&gt;{{ customer.birthDate }}&lt;&#47;td&gt;           &lt;td&gt;{{ customer.active }}&lt;&#47;td&gt;           &lt;td&gt;</code>@MoxxiManagarm"}, {"owner": {"reputation": 5367, "user_id": 11011793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0p7CT.jpg?s=128&g=1", "display_name": "MoxxiManagarm", "link": "https://stackoverflow.com/users/11011793/moxximanagarm"}, "edited": false, "score": 0, "creation_date": 1553847781, "post_id": 55375797, "comment_id": 97545508, "body": "No, not really. It&#39;s just &quot;let customer of customerList&quot; for me there"}], "owner": {"reputation": 1, "user_id": 11070074, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gHJIqqK6FhA/AAAAAAAAAAI/AAAAAAAAABs/-boQtF0SZ6I/photo.jpg?sz=128", "display_name": "Emin Sahin", "link": "https://stackoverflow.com/users/11070074/emin-sahin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553685049, "creation_date": 1553685049, "question_id": 55375797, "link": "https://stackoverflow.com/questions/55375797/how-can-i-insert-my-angular-project-into-a-filter", "title": "How can I insert my angular project into a filter?", "body": "<p>I am doing an Angular project and I need a filter possibility. How can I best handle a filter?</p>\n\n<p>I tried filter.pipe but I did not understand that well with the pipe.</p>\n\n<h1>customer-input.component.ts</h1>\n\n<pre><code>import { Component, Output, EventEmitter } from \"@angular/core\";\nimport { Customer, CustomerService } from \"./services\";\n\n@Component({\n  selector: \"app-customer-input\",\n  template: `\n    &lt;form *ngIf=\"customer\" novalidate #form=\"ngForm\"&gt;\n      &lt;h2&gt;{{ customer.id ? \"Bearbeite Kunde\" : \"F\u00fcge Kunden hinzu\" }} ...&lt;/h2&gt;\n      &lt;p *ngIf=\"customer.id\"&gt;\n        &lt;label for=\"id\"&gt;ID:&lt;/label&gt;\n        &lt;input type=\"number\" [value]=\"customer.id\" id=\"id\" name=\"id\" readonly /&gt;\n      &lt;/p&gt;\n      &lt;p&gt;\n        &lt;label for=\"title\"&gt;Vorname:&lt;/label&gt;\n        &lt;input\n          [(ngModel)]=\"customer.firstName\"\n          id=\"firstName\"\n          name=\"firstName\"\n          required\n          minlength=\"2\"\n        /&gt;\n      &lt;/p&gt;\n      &lt;p&gt;\n        &lt;label for=\"title\"&gt;Nachname:&lt;/label&gt;\n        &lt;input\n          [(ngModel)]=\"customer.lastName\"\n          id=\"lastName\"\n          name=\"lastName\"\n          required\n          minlength=\"2\"\n        /&gt;\n      &lt;/p&gt;\n      &lt;p&gt;\n        &lt;label for=\"birthDate\"&gt;Geburtstag:&lt;/label&gt;\n        &lt;input\n          [(ngModel)]=\"customer.birthDate\"\n          id=\"birthDate\"\n          type=\"date\"\n          name=\"birthDate\"\n          value=\"{{ customer.birthDate }}\"\n          required\n        /&gt;\n      &lt;/p&gt;\n      &lt;p&gt;\n        &lt;label for=\"active\"&gt;Aktiviert:&lt;/label&gt;\n        &lt;input\n          [(ngModel)]=\"customer.active\"\n          id=\"active\"\n          type=\"checkbox\"\n          name=\"active\"\n        /&gt;\n      &lt;/p&gt;\n      &lt;p&gt;\n        &lt;button\n          *ngIf=\"form.valid\"\n          (click)=\"finishWithOk()\"\n          class=\"btn btn-success\"\n        &gt;\n          Ok\n        &lt;/button&gt;\n        &lt;button (click)=\"finishWithCancel()\" class=\"btn btn-danger\"&gt;\n          Abbrechen\n        &lt;/button&gt;\n      &lt;/p&gt;\n    &lt;/form&gt;\n  `,\n  styles: [\n    `\n      * {\n        margin: 0;\n        padding: 0;\n      }\n\n      button,\n      input,\n      textarea {\n        margin: 5px;\n      }\n\n      form {\n        margin-top: 10px;\n      }\n\n      h2 {\n        margin: 10px 0;\n      }\n\n      label {\n        display: inline-block;\n        vertical-align: top;\n        width: 100px;\n      }\n    `\n  ]\n})\nexport class CustomerInputComponent {\n  @Output() ok = new EventEmitter&lt;Customer&gt;();\n  @Output() cancel = new EventEmitter();\n  customer: Customer;\n\n  constructor(private customerService: CustomerService) { }\n\n  startAddingCustomer() {\n    console.log(\"start adding\", this.customer);\n    this.customer = new Customer();\n  }\n\n  startEditingCustomer(id: number) {\n    console.log(\"start editing\");\n    this.customerService.retrieve(id).then(customer =&gt; (this.customer = customer));\n  }\n\n  setBirthDate() {\n    console.log(\"bday\");\n    this.customer.birthDate = new Date();\n  }\n\n  finishWithOk() {\n    console.log(\"finishing\");\n    this.createOrUpdate().then(() =&gt; {\n      this.ok.emit(this.customer);\n      this.customer = null;\n    });\n  }\n\n  finishWithCancel() {\n    this.cancel.emit();\n    this.customer = null;\n  }\n\n  createOrUpdate() {\n    if (this.customer.id) {\n      return this.customerService.update(this.customer);\n    } else {\n      return this.customerService.create(this.customer);\n    }\n  }\n}\n\n</code></pre>\n\n<h1>customer-list.component.ts</h1>\n\n<pre><code>import { CustomerService, Customer } from \"./services\";\nimport { Component, OnInit, EventEmitter, Output } from \"@angular/core\";\n\n@Component({\n  selector: \"app-customer-list\",\n  template: `\n    &lt;table&gt;\n      &lt;thead&gt;\n        &lt;tr&gt;\n          &lt;th&gt;Suchen:&lt;/th&gt;\n          &lt;th&gt;\n            &lt;input type=\"text\" [(ngModel)]=\"filteredStatus\" /&gt;\n          &lt;/th&gt;\n          &lt;th&gt;Filtert nach: {{ filteredStatus }}&lt;/th&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n          &lt;th&gt;ID&lt;/th&gt;\n          &lt;th&gt;Vorname&lt;/th&gt;\n          &lt;th&gt;Nachname&lt;/th&gt;\n          &lt;th&gt;Geburtsdatum&lt;/th&gt;\n          &lt;th&gt;Aktiviert&lt;/th&gt;\n          &lt;th&gt;\n            &lt;button (click)=\"addCustomer()\" class=\"btn btn-success\"&gt;\n              Kunden hinzuf\u00fcgen\n            &lt;/button&gt;\n          &lt;/th&gt;\n        &lt;/tr&gt;\n      &lt;/thead&gt;\n      &lt;tbody&gt;\n        &lt;tr *ngFor=\"let customer of customerList\"&gt;\n          &lt;td&gt;{{ customer.id }}&lt;/td&gt;\n          &lt;td&gt;{{ customer.firstName }}&lt;/td&gt;\n          &lt;td&gt;{{ customer.lastName }}&lt;/td&gt;\n          &lt;td&gt;{{ customer.birthDate }}&lt;/td&gt;\n          &lt;td&gt;{{ customer.active }}&lt;/td&gt;\n          &lt;td&gt;\n            &lt;button (click)=\"editCustomer(customer)\"&gt;\n              &lt;img src=\"assets/edit.gif\" /&gt;\n            &lt;/button&gt;\n            &lt;button (click)=\"deleteCustomer(customer)\"&gt;\n              &lt;img src=\"assets/delete.gif\" /&gt;\n            &lt;/button&gt;\n          &lt;/td&gt;\n        &lt;/tr&gt;\n      &lt;/tbody&gt;\n    &lt;/table&gt;\n  `,\n  styles: [\n    `\n      * {\n        margin: 0;\n        padding: 0;\n      }\n\n      button {\n        margin: 5px;\n      }\n\n      td {\n        text-align: left;\n      }\n\n      td:first-of-type {\n        text-align: right;\n      }\n\n      td,\n      th {\n        border: 1px solid black;\n        padding: 5px;\n      }\n\n      th {\n        text-align: center;\n      }\n    `\n  ]\n})\nexport class CustomerListComponent implements OnInit {\n  @Output() private add = new EventEmitter();\n  @Output() private edit = new EventEmitter&lt;number&gt;();\n  customerList: Customer[];\n  filteredStatus = \"\";\n\n  constructor(private customerService: CustomerService) { }\n\n  ngOnInit() {\n    this.refresh();\n  }\n\n  refresh() {\n    this.customerService.retrieveAll().then(customerList =&gt; {\n      this.customerList = customerList;\n      console.log(this.customerList);\n    });\n  }\n\n  private addCustomer() {\n    this.add.emit();\n  }\n\n  private editCustomer(customer: Customer) {\n    console.log(customer);\n    this.edit.emit(customer.id);\n  }\n\n  private deleteCustomer(customer: Customer) {\n    if (confirm(\"Wollen Sie die News wirklich l\u00f6schen?\")) {\n      this.customerService.delete(customer.id).then(() =&gt; this.refresh());\n    }\n  }\n}\n\n</code></pre>\n\n<h1>customer.component.ts</h1>\n\n<pre><code>import { Component } from \"@angular/core\";\n\n@Component({\n  selector: \"app-news\",\n  template: `\n\n    &lt;h1&gt;Kunden Management&lt;/h1&gt;\n    &lt;app-customer-list #list (add)=\"input.startAddingCustomer()\" (edit)=\"input.startEditingCustomer($event)\"&gt;&lt;/app-customer-list&gt;\n    &lt;app-customer-input #input (ok)=\"list.refresh()\"&gt;&lt;/app-customer-input&gt;\n\n  `,\n  styles: [\n    `\n      * {\n        margin: 0;\n        padding: 0;\n      }\n\n      h1 {\n        margin: 10px 0;\n      }\n    `\n  ]\n})\nexport class NewsComponent { }\n\n</code></pre>\n\n<h1>filter.pipe.ts</h1>\n\n<pre><code>import { Pipe, PipeTransform } from \"@angular/core\";\n\n@Pipe({\n  name: \"filter\"\n})\n// export class Filter implements PipeTransform {\n//   transform(value: string, chracter: string): string {\n//     return value.replace(chracter, \" \");\n//   }\n// }\nexport class FilterPipe implements PipeTransform {\n  transform(value: any, filterString: string, propName: string): any {\n    if (value.length === 0 || filterString === \"\") {\n      return value;\n    }\n    const resultArray = [];\n    for (const item of value) {\n      if (item[propName] === filterString) {\n        resultArray.push(item);\n      }\n    }\n    return resultArray;\n  }\n}\n\n</code></pre>\n\n<h1>services.ts</h1>\n\n<pre><code>import { Injectable } from \"@angular/core\";\nimport { HttpClient } from \"@angular/common/http\";\n\nexport class Customer {\n  id: number;\n  firstName: string;\n  lastName: string;\n  birthDate: Date;\n  active: boolean = false;\n}\n\nconst NEWS_RESOURCE_URL = \"http://localhost:8080/news/resources/news\";\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class CustomerService {\n  constructor(private httpClient: HttpClient) { }\n\n  create(customer: Customer): Promise&lt;any&gt; {\n    return this.httpClient.post(NEWS_RESOURCE_URL, customer).toPromise();\n  }\n\n  retrieve(id: number): Promise&lt;Customer&gt; {\n    return this.httpClient.get&lt;Customer&gt;(NEWS_RESOURCE_URL + '/' + id).toPromise();\n  }\n\n  update(customer: Customer): Promise&lt;any&gt; {\n    return this.httpClient.put(NEWS_RESOURCE_URL + '/' + customer.id, customer).toPromise();\n  }\n\n  delete(id: number): Promise&lt;any&gt; {\n    return this.httpClient.delete(NEWS_RESOURCE_URL + '/' + id).toPromise();\n  }\n\n  retrieveAll(): Promise&lt;Customer[]&gt; {\n    return this.httpClient.get&lt;Customer[]&gt;(NEWS_RESOURCE_URL).toPromise();\n  }\n}\n\n</code></pre>\n\n<p>I need a simple filter. if you enter something then the result comes</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 9320, "user_id": 5196394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/52GqN.jpg?s=128&g=1", "display_name": "hoangdv", "link": "https://stackoverflow.com/users/5196394/hoangdv"}, "edited": false, "score": 0, "creation_date": 1553684621, "post_id": 55375555, "comment_id": 97473261, "body": "Show your <code>tsconfig.json</code>  file, are you using webpack?"}, {"owner": {"reputation": 17248, "user_id": 1400869, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eTsCt.jpg?s=128&g=1", "display_name": "D.R.", "link": "https://stackoverflow.com/users/1400869/d-r"}, "reply_to_user": {"reputation": 9320, "user_id": 5196394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/52GqN.jpg?s=128&g=1", "display_name": "hoangdv", "link": "https://stackoverflow.com/users/5196394/hoangdv"}, "edited": false, "score": 0, "creation_date": 1553684745, "post_id": 55375555, "comment_id": 97473340, "body": "I&#39;ve added the <code>tsconfig.json</code>. No I&#39;m using a gulp pipeline."}, {"owner": {"reputation": 9320, "user_id": 5196394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/52GqN.jpg?s=128&g=1", "display_name": "hoangdv", "link": "https://stackoverflow.com/users/5196394/hoangdv"}, "edited": false, "score": 0, "creation_date": 1553686788, "post_id": 55375555, "comment_id": 97474614, "body": "I think, you could try add <code>babel</code> to your gulp pipeline."}, {"owner": {"reputation": 17248, "user_id": 1400869, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eTsCt.jpg?s=128&g=1", "display_name": "D.R.", "link": "https://stackoverflow.com/users/1400869/d-r"}, "reply_to_user": {"reputation": 9320, "user_id": 5196394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/52GqN.jpg?s=128&g=1", "display_name": "hoangdv", "link": "https://stackoverflow.com/users/5196394/hoangdv"}, "edited": false, "score": 0, "creation_date": 1553687726, "post_id": 55375555, "comment_id": 97475194, "body": "I added babel to my pipeline after <code>.js</code> and before <code>gulp.dest</code>, but it didn&#39;t help. What exactly should babel do?"}, {"owner": {"reputation": 3284, "user_id": 1841827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7626f7fd5a7d9ecc5f84d42c7eea4405?s=128&d=identicon&r=PG", "display_name": "Kewin Dousse", "link": "https://stackoverflow.com/users/1841827/kewin-dousse"}, "edited": false, "score": 0, "creation_date": 1553688687, "post_id": 55375555, "comment_id": 97475797, "body": "&quot;I receive browser errors for this.&quot; Could you tell us what are these ?"}, {"owner": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 0, "creation_date": 1553689138, "post_id": 55375555, "comment_id": 97476059, "body": "Do you want to exclude only <code>exports</code> line, or <code>require</code> as well? Which bundler/loader is used?"}, {"owner": {"reputation": 17248, "user_id": 1400869, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eTsCt.jpg?s=128&g=1", "display_name": "D.R.", "link": "https://stackoverflow.com/users/1400869/d-r"}, "reply_to_user": {"reputation": 3284, "user_id": 1841827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7626f7fd5a7d9ecc5f84d42c7eea4405?s=128&d=identicon&r=PG", "display_name": "Kewin Dousse", "link": "https://stackoverflow.com/users/1841827/kewin-dousse"}, "edited": false, "score": 0, "creation_date": 1553689993, "post_id": 55375555, "comment_id": 97476598, "body": "@KewinDousse: the error is about &quot;exports is an unknown object, and I can&#39;t use it&quot;, but it doesn&#39;t really matter. I want TypeScript to NOT generate those lines."}, {"owner": {"reputation": 17248, "user_id": 1400869, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eTsCt.jpg?s=128&g=1", "display_name": "D.R.", "link": "https://stackoverflow.com/users/1400869/d-r"}, "reply_to_user": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 0, "creation_date": 1553690036, "post_id": 55375555, "comment_id": 97476630, "body": "@raina77ow: I want to exclude both. I don&#39;t use any bundler/loader. I add JQuery via a simple <code>&lt;script src=&quot;...&quot;&gt;</code> tag, I don&#39;t want it to be imported/included some way. I just need the types to be present in TypeScript."}, {"owner": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 0, "creation_date": 1553696606, "post_id": 55375555, "comment_id": 97481228, "body": "BTW, you can exclude references from generated files with <code>noResolve: false</code> option."}], "answers": [{"comments": [{"owner": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 0, "creation_date": 1553689489, "post_id": 55377037, "comment_id": 97476291, "body": "That&#39;ll generate <code>import</code> statements in JS files."}, {"owner": {"reputation": 17248, "user_id": 1400869, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eTsCt.jpg?s=128&g=1", "display_name": "D.R.", "link": "https://stackoverflow.com/users/1400869/d-r"}, "edited": false, "score": 0, "creation_date": 1553690083, "post_id": 55377037, "comment_id": 97476669, "body": "Unfortunately, neither es2015 nor system helped."}, {"owner": {"reputation": 3284, "user_id": 1841827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7626f7fd5a7d9ecc5f84d42c7eea4405?s=128&d=identicon&r=PG", "display_name": "Kewin Dousse", "link": "https://stackoverflow.com/users/1841827/kewin-dousse"}, "edited": false, "score": 0, "creation_date": 1553690365, "post_id": 55377037, "comment_id": 97476848, "body": "Indeed, if you&#39;re not using any bundler and don&#39;t want multiple files, then I guess you should use the outFile option, which &quot;concatenates&quot; (in short) the output in a single file, after resolving the module imports. I edited my answer to reflect this."}, {"owner": {"reputation": 17248, "user_id": 1400869, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eTsCt.jpg?s=128&g=1", "display_name": "D.R.", "link": "https://stackoverflow.com/users/1400869/d-r"}, "edited": false, "score": 0, "creation_date": 1553698371, "post_id": 55377037, "comment_id": 97482479, "body": "Concatenating still creates the lines in question :("}], "tags": [], "owner": {"reputation": 3284, "user_id": 1841827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7626f7fd5a7d9ecc5f84d42c7eea4405?s=128&d=identicon&r=PG", "display_name": "Kewin Dousse", "link": "https://stackoverflow.com/users/1841827/kewin-dousse"}, "is_accepted": false, "score": 0, "last_activity_date": 1612989514, "last_edit_date": 1612989514, "creation_date": 1553689148, "answer_id": 55377037, "question_id": 55375555, "link": "https://stackoverflow.com/questions/55375555/typescript-javascript-for-browser-exports-require-statements/55377037#55377037", "title": "TypeScript -&gt; JavaScript for browser: exports/require statements", "body": "<p>Browsers don't support JavaScript modules, so you'll need to tell the TypeScript compiler that you're trying to compile code that will be run on a browser. I don't know what the rest of your project looks like, but in your configuration, try adding <code>&quot;module&quot;: &quot;es2015&quot;</code> or <code>&quot;module&quot;: &quot;system&quot;</code> to your configuration, while also adding an <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\"><code>outFile</code></a> defining where you want to file to be generated :</p>\n<p>in your tsconfig file :</p>\n<pre><code>{\n  &quot;compilerOptions&quot;: {\n    &quot;noImplicitAny&quot;: true,\n    &quot;noEmitOnError&quot;: true,\n    &quot;sourceMap&quot;: true,\n    &quot;target&quot;: &quot;es5&quot;,\n    &quot;module&quot;: &quot;es2015&quot;,\n    &quot;outFile&quot;: &quot;script.js&quot;,\n  },\n  &quot;compileOnSave&quot;: true\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17248, "user_id": 1400869, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eTsCt.jpg?s=128&g=1", "display_name": "D.R.", "link": "https://stackoverflow.com/users/1400869/d-r"}, "edited": false, "score": 0, "creation_date": 1553698349, "post_id": 55377372, "comment_id": 97482462, "body": "This seems to work, however, how to extend an interface from a given type schema? The compiler always fails with &quot;Augmentations for the global scope can only be directly nested in external modules or ambient module declarations.&quot;"}], "tags": [], "owner": {"reputation": 2604, "user_id": 3563439, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/68b30b257fe0f5cb4cfef5e5515b08a0?s=128&d=identicon&r=PG&f=1", "display_name": "masa", "link": "https://stackoverflow.com/users/3563439/masa"}, "is_accepted": false, "score": 1, "last_activity_date": 1553690551, "last_edit_date": 1553690551, "creation_date": 1553690209, "answer_id": 55377372, "question_id": 55375555, "link": "https://stackoverflow.com/questions/55375555/typescript-javascript-for-browser-exports-require-statements/55377372#55377372", "title": "TypeScript -&gt; JavaScript for browser: exports/require statements", "body": "<p>Just drop the module loading in the beginning of your typescript file, if you do not want to load any modules?</p>\n\n<p>file1.ts:</p>\n\n<pre><code>$(function () {\n});\n</code></pre>\n\n<p>If you try to compile this, you'll get an error:</p>\n\n<pre><code>file1.ts(2,1): error TS2581: Cannot find name '$'. Do you need to\ninstall type definitions for jQuery? Try `npm i @types/jquery` and\nthen add `jquery` to the types field in your tsconfig.\n</code></pre>\n\n<p>Run npm as told above (<code>npm init</code> first, if npm has not been initialized in the directory).</p>\n\n<p>Then add <code>typeRoots</code> and <code>types</code> to tsconfig:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"noImplicitAny\": true,\n    \"noEmitOnError\": true,\n    \"sourceMap\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [ \"node_modules/types\" ],\n    \"types\": [ \"jquery\" ]\n  },\n  \"compileOnSave\": true\n }\n</code></pre>\n\n<p>After that, the compiling works, and you still have the strong typing in place (jquery types applied in compilation).</p>\n"}], "owner": {"reputation": 17248, "user_id": 1400869, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eTsCt.jpg?s=128&g=1", "display_name": "D.R.", "link": "https://stackoverflow.com/users/1400869/d-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1882, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1612989514, "creation_date": 1553684315, "last_edit_date": 1553684729, "question_id": 55375555, "link": "https://stackoverflow.com/questions/55375555/typescript-javascript-for-browser-exports-require-statements", "title": "TypeScript -&gt; JavaScript for browser: exports/require statements", "body": "<p>I want to switch from JavaScript to TypeScript for our web app's scripts. However, when generating the JavaScript it always puts the following lines on top of the script:</p>\n\n<pre><code>\"use strict\";\nexports.__esModule = true;\nvar $ = require(\"jquery\");\n</code></pre>\n\n<p>I receive browser errors for this. How to prevent TypeScript from doing so?</p>\n\n<p>I read <a href=\"https://stackoverflow.com/questions/38127953/typescript-avoid-require-statements-in-compiled-javascript\">TypeScript: Avoid require statements in compiled JavaScript</a> but it can't be the answer to switch to \"any\", this forfeits the whole TypeScript idea.</p>\n\n<p>I also read <a href=\"https://stackoverflow.com/questions/37241988/typescript-importing-exported-class-emits-require-which-produces-browser-er\">Typescript importing exported class emits require(...) which produces browser errors</a> but this still generates the <code>&lt;reference...</code> stuff into the JS file, which is also not what I want.</p>\n\n<p>How to create \"clean\" JS files?</p>\n\n<p>My tsconfig.json looks like this:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"noImplicitAny\": true,\n    \"noEmitOnError\": true,\n    \"sourceMap\": true,\n    \"target\": \"es5\"\n  },\n  \"compileOnSave\": true\n}\n</code></pre>\n\n<p>My gulp call is:</p>\n\n<pre><code>var ts = require('gulp-typescript');\n...\nvar tsProject = ts.createProject(\"tsconfig.json\");\n...\ngulp.task(\"ts\", function () {\n  return gulp.src(tsInputFiles)\n    .pipe(tsProject())\n    .js\n    .pipe(gulp.dest(\"wwwroot/js\"));\n});\n</code></pre>\n"}, {"tags": ["angular", "typescript", "unit-testing", "jestjs", "nrwl"], "answers": [{"tags": [], "owner": {"reputation": 93, "user_id": 952384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6c5da3fd80302d542dfb84afbfeb514?s=128&d=identicon&r=PG", "display_name": "wannjanjic", "link": "https://stackoverflow.com/users/952384/wannjanjic"}, "is_accepted": true, "score": 1, "last_activity_date": 1553782940, "creation_date": 1553782940, "answer_id": 55399977, "question_id": 55374934, "link": "https://stackoverflow.com/questions/55374934/generated-test-fails-when-unit-testing-component-inside-the-library/55399977#55399977", "title": "Generated test fails when unit testing component inside the library", "body": "<p>I have found the solution! </p>\n\n<p>The problem was that jest was not configured out of box, when creating nx workspace. So I took this steps to make it work:</p>\n\n<p><strong>1. Install <a href=\"https://github.com/thymikee/jest-zone-patch\" rel=\"nofollow noreferrer\">jest-zone-patch</a></strong></p>\n\n<pre><code>npm install jest-zone-patch --save-dev\n</code></pre>\n\n<p><strong>2. Edit files</strong></p>\n\n<p>For each library you have to edit test-setup.ts file to look like this:</p>\n\n<pre><code>import 'zone.js/dist/zone.js';\nimport 'zone.js/dist/proxy';\nimport 'zone.js/dist/sync-test';\nimport 'zone.js/dist/async-test.js';\nimport 'zone.js/dist/proxy.js';\n\nimport 'jest-zone-patch';\nimport 'jest-preset-angular';\nimport './jestGlobalMocks';\n</code></pre>\n\n<p>Also, add <code>setupFilesAfterEnv: ['&lt;rootDir&gt;/src/test-setup.ts']</code> to <code>jest.config.js</code> file of your library, so it looks something like this:</p>\n\n<pre><code>module.exports = {\n  name: 'my-library',\n  preset: '../../../jest.config.js',\n  coverageDirectory: '../../../coverage/libs/administration/identification',\n  setupFilesAfterEnv: ['&lt;rootDir&gt;/src/test-setup.ts']\n};\n</code></pre>\n\n<p>and add <code>jestGlobalMocks.ts</code> file in the same folder as <code>test-setup.ts</code> file. You can find it <a href=\"https://github.com/thymikee/jest-preset-angular/blob/master/example/src/jestGlobalMocks.ts\" rel=\"nofollow noreferrer\">here</a>, or just copy the code bellow:</p>\n\n<pre><code>Object.defineProperty(window, 'CSS', {value: null});\nObject.defineProperty(document, 'doctype', {\n  value: '&lt;!DOCTYPE html&gt;'\n});\nObject.defineProperty(window, 'getComputedStyle', {\n  value: () =&gt; {\n    return {\n      display: 'none',\n      appearance: ['-webkit-appearance']\n    };\n  }\n});\n/**\n * ISSUE: https://github.com/angular/material2/issues/7101\n * Workaround for JSDOM missing transform property\n */\nObject.defineProperty(document.body.style, 'transform', {\n  value: () =&gt; {\n    return {\n      enumerable: true,\n      configurable: true,\n    };\n  },\n});\n</code></pre>\n\n<p><strong>3. Change spec files</strong></p>\n\n<p>Change your generated spec file to something like this: </p>\n\n<pre><code>describe('MyComponent', () =&gt; {\n  let component: MyComponent;\n  let fixture: ComponentFixture&lt;MyComponent&gt;;\n\n  beforeEach(async(() =&gt; {\n    TestBed.configureTestingModule({\n      declarations: [MyComponent]\n    })\n      .compileComponents()\n      .then(() =&gt; {\n        fixture = TestBed.createComponent(MyComponent);\n        component = fixture.componentInstance;\n\n        fixture.detectChanges();\n      });\n  }));\n\n  it('should create', () =&gt; {\n    expect(component).toBeTruthy();\n  });\n});\n</code></pre>\n\n<p>This way, component and fixture are created, after <code>compileComponents</code> promise has finished, thus avoiding race conditions and potential <em>undefined</em> error in <code>'should create'</code> unit test.</p>\n\n<p><strong>4. Run library test</strong></p>\n\n<p>Finnaly, you can run your test and hopefully it will pass.</p>\n\n<pre><code>ng test my-library\n</code></pre>\n\n<p>Hope that this will help someone.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 11740483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d660307c07782c3a1c55093e6b51f76?s=128&d=identicon&r=PG&f=1", "display_name": "SeeBenProgram", "link": "https://stackoverflow.com/users/11740483/seebenprogram"}, "is_accepted": false, "score": 3, "last_activity_date": 1562258252, "creation_date": 1562258252, "answer_id": 56891781, "question_id": 55374934, "link": "https://stackoverflow.com/questions/55374934/generated-test-fails-when-unit-testing-component-inside-the-library/56891781#56891781", "title": "Generated test fails when unit testing component inside the library", "body": "<h1>I just encountered the same problem.</h1>\n\n<p>Using <a href=\"https://nx.dev/angular\" rel=\"nofollow noreferrer\">Nrwl's Nx</a> to scaffold a new application plus a \"feature-shell\" library (the design pattern suggested by Nx's \"<a href=\"https://go.nrwl.io/angular-enterprise-monorepo-patterns-new-book?utm_campaign=Book%3A%20Monorepo%20Patterns%2C%20Jan%202019&amp;utm_source=Github&amp;utm_medium=Banner%20Ad\" rel=\"nofollow noreferrer\">Enterprise Angular Monorepo Patterns</a>\" book), I was also confused why my Jest unit tests for Angular component classes worked out of the box inside of <code>apps/</code>, but not <code>libs/</code>.</p>\n\n<h2>I may have found a simpler solution:</h2>\n\n<p>Look inside of <code>angular.json</code> in the workspace root. Take note of the property <code>projects.&lt;your-app&gt;.architect.test.options.setupFile</code>. Its value should be something like <code>\"apps/&lt;your-app&gt;/src/test-setup.ts\"</code>.</p>\n\n<p>The solution that worked for me was adding that exact property and value in <code>angular.json</code> to <code>projects.&lt;your-lib&gt;.architect.test.options</code>.</p>\n\n<h2>Example Solution</h2>\n\n<pre><code>// angular.json\n{\n  ...\n  \"projects\": {\n    \"my-app\": {\n      ...\n      \"architect\": {\n        ...\n        \"test\": {\n          ...\n          \"setupFile\": \"apps/my-app/src/test-setup.ts\" // &lt;- This was already here...\n        }\n      }\n    },\n    \"my-lib\": {\n      ...\n      \"architect\": {\n        ...\n        \"test\": {\n          ...\n          \"setupFile\": \"apps/my-app/src/test-setup.ts\" // &lt;- ...and I just added it here\n        }\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>Hopefully that one-liner works for you, too!</p>\n"}, {"tags": [], "owner": {"reputation": 2971, "user_id": 5561773, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ssUz7.jpg?s=128&g=1", "display_name": "Clement", "link": "https://stackoverflow.com/users/5561773/clement"}, "is_accepted": false, "score": 1, "last_activity_date": 1609314098, "creation_date": 1609314098, "answer_id": 65503591, "question_id": 55374934, "link": "https://stackoverflow.com/questions/55374934/generated-test-fails-when-unit-testing-component-inside-the-library/65503591#65503591", "title": "Generated test fails when unit testing component inside the library", "body": "<p>If anyone is using Jest with Angular 11 and experiencing this issue, what fixed it for me was.</p>\n<p>Making sure I had these two properties in my <code>package.json</code> file.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;jest&quot;: {\n    &quot;preset&quot;: &quot;jest-preset-angular&quot;,\n    &quot;setupFilesAfterEnv&quot;: [\n      &quot;&lt;rootDir&gt;/setupJest.ts&quot;\n    ],\n  }\n}\n</code></pre>\n<p><strong>setupJest.ts</strong></p>\n<pre><code>import 'jest-preset-angular'\n</code></pre>\n<p>Also make sure your jest config doesn't include <code>&quot;testEnvironment&quot;: &quot;node&quot;,</code>. I copied this over from a node project and it broke the tests for me  as well.</p>\n"}], "owner": {"reputation": 93, "user_id": 952384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6c5da3fd80302d542dfb84afbfeb514?s=128&d=identicon&r=PG", "display_name": "wannjanjic", "link": "https://stackoverflow.com/users/952384/wannjanjic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3237, "favorite_count": 1, "accepted_answer_id": 55399977, "answer_count": 3, "score": 3, "last_activity_date": 1609314098, "creation_date": 1553682360, "question_id": 55374934, "link": "https://stackoverflow.com/questions/55374934/generated-test-fails-when-unit-testing-component-inside-the-library", "title": "Generated test fails when unit testing component inside the library", "body": "<p>My project was created using nx schematics, and I'm having some components inside libraries that I want to unit test using jest.js. Every test fails with following errors:</p>\n\n<pre><code>\u25cf MyComponent \u203a should create\n\n    Failed: \"Zone is needed for the async() test helper but could not be found. Please make sure that your environment includes zone.js/dist/zone.js\"\n\n       7 |   let fixture: ComponentFixture&lt;MyComponent&gt;;\n       8 | \n    &gt;  9 |   beforeEach(async(() =&gt; {\n         |   ^\n      10 |     TestBed.configureTestingModule({\n      11 |       declarations: [ MyComponent ]\n      12 |     })\n\n      at Env.beforeEach (node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:41:24)\n      at Suite.&lt;anonymous&gt; (libs/componentlib/src/lib/components/my-component/my-component.component.spec.ts:9:3)\n      at Object.&lt;anonymous&gt; (libs/componentlib/src/lib/components/my-component/my-component.component.spec.ts:5:1)\n\n  \u25cf MyComponent \u203a should create\n\n    TypeError: Cannot read property 'getComponentFromError' of null\n\n      at TestBedViewEngine._initIfNeeded (../../packages/core/testing/src/test_bed.ts:393:46)\n      at TestBedViewEngine.createComponent (../../packages/core/testing/src/test_bed.ts:594:10)\n      at Function.TestBedViewEngine.createComponent (../../packages/core/testing/src/test_bed.ts:247:36)\n      at Object.&lt;anonymous&gt; (libs/componentlib/src/lib/components/my-component/my-component.component.spec.ts:17:23)\n\n  \u25cf MyComponent \u203a should create\n\n    expect(received).toBeTruthy()\n\n    Received: undefined\n\n      21 | \n      22 |   it('should create', () =&gt; {\n    &gt; 23 |     expect(component).toBeTruthy();\n         |                       ^\n      24 |   });\n      25 | });\n      26 | \n\n      at Object.&lt;anonymous&gt; (libs/componentlib/src/lib/components/my-component/my-component.component.spec.ts:23:23)\n</code></pre>\n\n<p>I've tried already to import zone.js in spec files, importing modules, removing async, reseting the test environment before each test, but everything fails with some different error. I should mention also that I'm using clarity components from vmware.</p>\n\n<p>Here's the .spec file:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { async, ComponentFixture, TestBed } from '@angular/core/testing';\n\nimport { MyComponent } from './my-component.component';\n\ndescribe('MyComponent', () =&gt; {\n  let component: MyComponent;\n  let fixture: ComponentFixture&lt;MyComponent&gt;;\n\n  beforeEach(async(() =&gt; {\n    TestBed.configureTestingModule({\n      declarations: [ MyComponent ]\n    })\n    .compileComponents();\n  }));\n\n  beforeEach(() =&gt; {\n    fixture = TestBed.createComponent(MyComponent);\n    component = fixture.componentInstance;\n  });\n\n  it('should create', () =&gt; {\n    expect(component).toBeTruthy();\n  });\n});\n</code></pre>\n\n<p>I was expecting that this should work like intended when using nx. What am I missing here?</p>\n"}, {"tags": ["typescript", "enums", "casting"], "comments": [{"owner": {"reputation": 5316, "user_id": 632445, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2782b92e468c33fdb66d27fea685e0c2?s=128&d=identicon&r=PG", "display_name": "Mario Vernari", "link": "https://stackoverflow.com/users/632445/mario-vernari"}, "edited": false, "score": 1, "creation_date": 1553681797, "post_id": 55374588, "comment_id": 97471536, "body": "I&#39;m not sure at 100%, but the compiler correctly refuses the cast: what should happen when the <code>a</code> field becomes &quot;N&quot;? the Enum2 does not allow &quot;N&quot; as possible value. However, if you really want to cast two incompatible types, you may cast one to &quot;any&quot; first, then follow a second cast to Enum2...at your own risk!"}], "answers": [{"tags": [], "owner": {"reputation": 913, "user_id": 1926733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9dea6c723e810876b6fbb55ca9c77dca?s=128&d=identicon&r=PG", "display_name": "AlbertoFdzM", "link": "https://stackoverflow.com/users/1926733/albertofdzm"}, "is_accepted": true, "score": 4, "last_activity_date": 1553682796, "creation_date": 1553682796, "answer_id": 55375076, "question_id": 55374588, "link": "https://stackoverflow.com/questions/55374588/how-to-map-an-enum-to-another-enum-in-typescript/55375076#55375076", "title": "How to map an enum to another enum in typescript?", "body": "<p>You need to cast the <code>type1.a</code> prop to <code>Enum2</code>. To do this you need to use a \"Type Guard\".</p>\n\n<p>Here is an example with your code:</p>\n\n<pre><code>enum Enum1 {\n  N = 0,\n  A = 1,\n  B = 2\n}\n\nenum Enum2 {\n  A = 1,\n  B = 2\n}\n\ninterface Type1 {\n  a: Enum1;\n}\n\ninterface Type2 {\n  a: Enum2;\n}\n\nconst type1: Type1 = {\n  a: Enum1.N\n};\n\nfunction isEnum2(value: any): value is Enum2 {\n  let isEnum2 = false;\n\n  for (let key in Enum2) {\n    if (Enum2[key] === value) {\n      isEnum2 = true;\n    }\n  }\n\n  return isEnum2;\n}\n\nif (isEnum2(type1.a)) {\n  const type2: Type2 = {\n    a: type1.a\n  };\n}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=enum%20Enum1%20%7B%0D%0A%20%20N%20%3D%200%2C%0D%0A%20%20A%20%3D%201%2C%0D%0A%20%20B%20%3D%202%0D%0A%7D%0D%0A%0D%0Aenum%20Enum2%20%7B%0D%0A%20%20A%20%3D%201%2C%0D%0A%20%20B%20%3D%202%0D%0A%7D%0D%0A%0D%0Ainterface%20Type1%20%7B%0D%0A%20%20a%3A%20Enum1%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20Type2%20%7B%0D%0A%20%20a%3A%20Enum2%3B%0D%0A%7D%0D%0A%0D%0Aconst%20type1%3A%20Type1%20%3D%20%7B%0D%0A%20%20a%3A%20Enum1.N%0D%0A%7D%3B%0D%0A%0D%0Afunction%20isEnum2(value%3A%20any)%3A%20value%20is%20Enum2%20%7B%0D%0A%20%20let%20isEnum2%20%3D%20false%3B%0D%0A%0D%0A%20%20for%20(let%20key%20in%20Enum2)%20%7B%0D%0A%20%20%20%20if%20(Enum2%5Bkey%5D%20%3D%3D%3D%20value)%20%7B%0D%0A%20%20%20%20%20%20isEnum2%20%3D%20true%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20return%20isEnum2%3B%0D%0A%7D%0D%0A%0D%0Aif%20(isEnum2(type1.a))%20%7B%0D%0A%20%20const%20type2%3A%20Type2%20%3D%20%7B%0D%0A%20%20%20%20a%3A%20type1.a%0D%0A%20%20%7D%3B%0D%0A%7D\" rel=\"nofollow noreferrer\">try it</a></p>\n\n<p>When the <code>isEnum2</code> function is used in the <code>if</code> block the prop <code>type1.a</code> becomes of type <code>Enum2</code> inside that <code>if</code> block only.</p>\n\n<p><strong>Note:</strong> you could replace the content in the <code>isEnum2</code> using <code>for..in</code> loop if you are using ES2017 or higher using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/values\" rel=\"nofollow noreferrer\"><code>Object.values</code></a>:</p>\n\n<pre><code>return Object.values(Enum2).indexOf(value) &gt; -1;\n</code></pre>\n\n<p><a href=\"https://codesandbox.io/embed/p5l7qzj6p0?fontsize=14&amp;view=editor\" rel=\"nofollow noreferrer\">try it</a> (Doesn't work in www.typescriptlang.org)</p>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#user-defined-type-guards\" rel=\"nofollow noreferrer\">More info about Type Guards</a></p>\n"}], "owner": {"reputation": 83, "user_id": 5830213, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hozZaStBqk0/AAAAAAAAAAI/AAAAAAAAAv0/YWYoU96-deE/photo.jpg?sz=128", "display_name": "Alex Wehe", "link": "https://stackoverflow.com/users/5830213/alex-wehe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5328, "favorite_count": 1, "accepted_answer_id": 55375076, "answer_count": 1, "score": 7, "last_activity_date": 1554194643, "creation_date": 1553681278, "last_edit_date": 1554194643, "question_id": 55374588, "link": "https://stackoverflow.com/questions/55374588/how-to-map-an-enum-to-another-enum-in-typescript", "title": "How to map an enum to another enum in typescript?", "body": "<p>I want to map one object's property that has an enum type to another object's property that is other enum type.</p>\n\n<p>I've tried with <code>type1.a as Enum2</code> or <code>Enum2[type1.a]</code> with no success.</p>\n\n<p>Here is my simplified code problem:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>enum Enum1 {\n  N = 0,\n  A = 1,\n  B = 2\n}\n\nenum Enum2 {\n  A = 1,\n  B = 2\n}\n\ninterface Type1 {\n  a: Enum1;\n}\n\ninterface Type2 {\n  a: Enum2;\n}\n\nconst type1: Type1 = {\n  a: Enum1.A\n};\n\nconst type2: Type2 = {\n  a: type1.a\n};\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=enum%20Enum1%20%7B%0D%0A%20%20N%20%3D%200%2C%0D%0A%20%20A%20%3D%201%2C%0D%0A%20%20B%20%3D%202%0D%0A%7D%0D%0A%0D%0Aenum%20Enum2%20%7B%0D%0A%20%20A%20%3D%201%2C%0D%0A%20%20B%20%3D%202%0D%0A%7D%0D%0A%0D%0Ainterface%20Type1%20%7B%0D%0A%20%20a%3A%20Enum1%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20Type2%20%7B%0D%0A%20%20a%3A%20Enum2%3B%0D%0A%7D%0D%0A%0D%0Aconst%20type1%3A%20Type1%20%3D%20%7B%0D%0A%20%20a%3A%20Enum1.A%0D%0A%7D%3B%0D%0A%0D%0Aconst%20type2%3A%20Type2%20%3D%20%7B%0D%0A%20%20a%3A%20type1.a%0D%0A%7D%3B\" rel=\"noreferrer\">try it</a></p>\n\n<p>Throws the error:</p>\n\n<pre><code>Type 'Enum1' is not assignable to type 'Enum2'.\n(property) Type2.a: Enum2\n</code></pre>\n"}, {"tags": ["angular", "typescript", "internet-explorer-11", "image-uploading"], "answers": [{"tags": [], "owner": {"reputation": 10400, "user_id": 7062291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17ca0ff9016cfdb9352adaf4435737d6?s=128&d=identicon&r=PG&f=1", "display_name": "Zhi Lv", "link": "https://stackoverflow.com/users/7062291/zhi-lv"}, "is_accepted": false, "score": -1, "last_activity_date": 1553770350, "creation_date": 1553770350, "answer_id": 55395765, "question_id": 55374418, "link": "https://stackoverflow.com/questions/55374418/angular4-uploading-image-in-typescript-on-ie11/55395765#55395765", "title": "Angular4 uploading image in typescript on ie11", "body": "<p>You can check <a href=\"https://github.com/Microsoft/TypeScript/issues/4163\" rel=\"nofollow noreferrer\">this issue</a>, and try to use the following code:</p>\n\n<pre><code>  fileChange = function (evt) {\n    let files = evt.target.files;\n    let file = files[0];\n    if (files &amp;&amp; file) {\n      const reader = new FileReader();\n\n      reader.onload = (event: Event) =&gt; {\n        // event.target.result; // This is invalid\n        console.log(reader.result); // This is valid\n     };\n\n      reader.readAsBinaryString(file);\n    }\n  };\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10428682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72e342a71af2d370c9ee327905006611?s=128&d=identicon&r=PG&f=1", "display_name": "Doreen Green", "link": "https://stackoverflow.com/users/10428682/doreen-green"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 219, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1553770350, "creation_date": 1553680803, "last_edit_date": 1553681420, "question_id": 55374418, "link": "https://stackoverflow.com/questions/55374418/angular4-uploading-image-in-typescript-on-ie11", "title": "Angular4 uploading image in typescript on ie11", "body": "<p>I'm trying to upload an image to my web application in <em>Angular 4</em>.\nI convert the input file with <strong>readAsBinaryString()</strong> and extract the ascii code with <strong>btoa()</strong> which I then pass to a backend service.\nEverything works correctly on Chrome, but not on Internet Explorer 11.</p>\n\n<p>To fix on ie11 I added the function <strong>readAsBinaryString()</strong> in the <strong>polyfills.ts</strong> :</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function str2ab(str) {\n  let buf = new ArrayBuffer(str.length);\n  let bufView = new Uint8Array(buf);\n  for (let i = 0, strLen = str.length; i &lt; strLen; i++) {\n    bufView[i] = str.charCodeAt(i);\n  }\n  return buf;\n}\n\nif (!FileReader.prototype.readAsBinaryString) {\n  FileReader.prototype.readAsBinaryString = function (fileData) {\n    let binary = '';\n    let pt = this;\n    let reader = new FileReader();\n    reader.onload = function (e) {\n      let bytes = str2ab(reader.result);\n      let length = bytes.byteLength;\n      for (let i = 0; i &lt; length; i++) {\n        binary += String.fromCharCode(bytes[i]);\n      }\n      pt.content = binary;\n      pt.onload();\n    };\n    reader.readAsArrayBuffer(fileData);\n  };\n}\n</code></pre>\n\n<p><strong>image.component.html</strong></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input type=\"file\" name=\"image\" id=\"image\" accept=\"image/png, image/jpeg\" (change)=\"fileChange($event)\" [(ngModel)]=\"image\" placeholder=\"Upload image\"&gt;\n</code></pre>\n\n<p><strong>image.component.ts</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  fileChange = function (evt) {\n    let files = evt.target.files;\n    let file = files[0];\n    if (files &amp;&amp; file) {\n      let reader = new FileReader();\n      reader.onload = (e) =&gt; { // 'e' is undefined on ie11!\n        let target = &lt;FileReader&gt;e.target;\n        let result = target.result as string;\n        this.byteArray = btoa(result);\n      };\n      reader.readAsBinaryString(file);\n    }\n  };\n</code></pre>\n\n<p>Currently with the polyfills works the function <strong>readAsBinaryString()</strong> on ie11, but in the function <strong>reader.onload</strong> gives the following error:\n<em>Unable to get property 'target' of undefined or null reference</em>.</p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 1513, "user_id": 1398004, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5d0aeb2b8de5c8e1fbce757d0ff783e2?s=128&d=identicon&r=PG", "display_name": "ashish.gd", "link": "https://stackoverflow.com/users/1398004/ashish-gd"}, "edited": false, "score": 0, "creation_date": 1553680713, "post_id": 55374349, "comment_id": 97470865, "body": "Use <code>filter</code> instead of <code>map</code>"}, {"owner": {"reputation": 1442, "user_id": 4365228, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/lb0Yh.jpg?s=128&g=1", "display_name": "Ranjith Varatharajan", "link": "https://stackoverflow.com/users/4365228/ranjith-varatharajan"}, "reply_to_user": {"reputation": 1513, "user_id": 1398004, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5d0aeb2b8de5c8e1fbce757d0ff783e2?s=128&d=identicon&r=PG", "display_name": "ashish.gd", "link": "https://stackoverflow.com/users/1398004/ashish-gd"}, "edited": false, "score": 0, "creation_date": 1553680880, "post_id": 55374349, "comment_id": 97470965, "body": "I don&#39;t want to filter it out."}], "answers": [{"comments": [{"owner": {"reputation": 3821, "user_id": 6921829, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TjT5QWqGMDU/AAAAAAAAAAI/AAAAAAAAA9Q/DNCpJksOM88/photo.jpg?sz=128", "display_name": "kos", "link": "https://stackoverflow.com/users/6921829/kos"}, "edited": false, "score": 0, "creation_date": 1553682328, "post_id": 55374403, "comment_id": 97471839, "body": "<code>map( book =&gt; ({ ...book, IsEnable: this.getEligibleBooks(book) }))</code>"}, {"owner": {"reputation": 1442, "user_id": 4365228, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/lb0Yh.jpg?s=128&g=1", "display_name": "Ranjith Varatharajan", "link": "https://stackoverflow.com/users/4365228/ranjith-varatharajan"}, "edited": false, "score": 0, "creation_date": 1553682966, "post_id": 55374403, "comment_id": 97472245, "body": "This creates a new property IsEnable, I need to assign the boolean value for each book&#39;s IsEnable."}, {"owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "reply_to_user": {"reputation": 1442, "user_id": 4365228, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/lb0Yh.jpg?s=128&g=1", "display_name": "Ranjith Varatharajan", "link": "https://stackoverflow.com/users/4365228/ranjith-varatharajan"}, "edited": false, "score": 0, "creation_date": 1553683063, "post_id": 55374403, "comment_id": 97472310, "body": "@RanjithVaradan its almost correct, just do <code>map( book =&gt; { book.IsEnable = this.getEligibleBooks(book); return book}) </code>"}, {"owner": {"reputation": 1592, "user_id": 11016183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/usqVz.jpg?s=128&g=1", "display_name": "Seba Cherian", "link": "https://stackoverflow.com/users/11016183/seba-cherian"}, "reply_to_user": {"reputation": 1442, "user_id": 4365228, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/lb0Yh.jpg?s=128&g=1", "display_name": "Ranjith Varatharajan", "link": "https://stackoverflow.com/users/4365228/ranjith-varatharajan"}, "edited": false, "score": 0, "creation_date": 1553683161, "post_id": 55374403, "comment_id": 97472379, "body": "@RanjithVaradan I&#39;ve edited my answer based on above comment by xyz"}], "tags": [], "owner": {"reputation": 1592, "user_id": 11016183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/usqVz.jpg?s=128&g=1", "display_name": "Seba Cherian", "link": "https://stackoverflow.com/users/11016183/seba-cherian"}, "is_accepted": false, "score": 0, "last_activity_date": 1553683114, "last_edit_date": 1553683114, "creation_date": 1553680757, "answer_id": 55374403, "question_id": 55374349, "link": "https://stackoverflow.com/questions/55374349/how-to-use-map-and-assign-the-value-back/55374403#55374403", "title": "How to use map and assign the value back", "body": "<p>You can try this</p>\n\n<pre><code>this.books.pipe(\n    map( book =&gt; {\n     book.IsEnable = this.getEligibleBooks(book); \n     return book\n    }) \n).subscribe( data =&gt; console.log(data) );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 154, "user_id": 8416741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26ad93739f91f9123493f84cd458d75a?s=128&d=identicon&r=PG&f=1", "display_name": "shemekh", "link": "https://stackoverflow.com/users/8416741/shemekh"}, "is_accepted": false, "score": 0, "last_activity_date": 1553684015, "creation_date": 1553684015, "answer_id": 55375454, "question_id": 55374349, "link": "https://stackoverflow.com/questions/55374349/how-to-use-map-and-assign-the-value-back/55375454#55375454", "title": "How to use map and assign the value back", "body": "<p>Rxjs of operator streams whole table at once. Rxjs map operator is mapping whole table to the new output. When you want to change items in the table you need to also use js map function to mutate whole table by checking all of the table items separately.</p>\n\n<pre><code>this.books.pipe(\n      map(\n        books =&gt; books.map( book =&gt; { ...book, IsEnable: this.getEligibleBooks(book) })),\n    ).subscribe(data =&gt; console.log(data));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "is_accepted": true, "score": 1, "last_activity_date": 1553684741, "last_edit_date": 1553684741, "creation_date": 1553684378, "answer_id": 55375581, "question_id": 55374349, "link": "https://stackoverflow.com/questions/55374349/how-to-use-map-and-assign-the-value-back/55375581#55375581", "title": "How to use map and assign the value back", "body": "<ul>\n<li>As you are not actually changing the returned type anywhere there is no need to use <code>map</code>. It seems all you want to do is iterate over the returned result and possibly set a member on a book instance. In that case use <code>tap</code> instead of <code>map</code>. <code>map</code> is useful when you want to transform the input into a different output.</li>\n<li>The code needs to make a distinction between an array and an object when performing an operation. That becomes easier to see when you define expected types in your method signatures for both inputs (method arguments) and the return type. The same goes for the naming of arguments, use plural form for arrays and singular form for non-array types. In this case use <code>books</code> and <code>book</code>.</li>\n<li>I would recommend using an interface over a class as you have no defined behavior. This is simpler when mapping parsed json to a type.</li>\n<li>Note that the constant boolean values are <code>true</code> and <code>false</code>, do not assign <code>\"True\"</code> / <code>\"False\"</code> as these are string literals and not boolean values. If you do a truthy comparison on <code>\"False\"</code> it will evaluate to <code>true</code></li>\n</ul>\n\n<p><strong>Books.ts</strong></p>\n\n<pre><code>export interface IBook{\n    Name:string;\n    IsEnable:boolean;\n    IsEligible?:boolean|undefined;\n}\n</code></pre>\n\n<p><strong>books.component.ts</strong></p>\n\n<pre><code>books: IBook[];\n\ngetBooksAsync() : Observable&lt;IBook[]&gt; {\n  return Observable.of([{\"Name\":\"A\", \"IsEnable\":false},{\"Name\":\"B\", \"IsEnable\":false}] as IBook[]);\n}\n\nisBookEligible(book: IBook): boolean {\n  return true; // hard coded for now because there is no implementation\n}\n\nngOnInit(){\n    this.getBooksAsync.pipe(\n        tap((books) =&gt; {\n            books.forEach((book) =&gt; book.IsEligible = this.isBookEligible(book));\n        })\n    ).subscribe(books =&gt; this.books = books);\n}\n</code></pre>\n"}], "owner": {"reputation": 1442, "user_id": 4365228, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/lb0Yh.jpg?s=128&g=1", "display_name": "Ranjith Varatharajan", "link": "https://stackoverflow.com/users/4365228/ranjith-varatharajan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 55375581, "answer_count": 3, "score": 1, "last_activity_date": 1553684741, "creation_date": 1553680613, "question_id": 55374349, "link": "https://stackoverflow.com/questions/55374349/how-to-use-map-and-assign-the-value-back", "title": "How to use map and assign the value back", "body": "<p>I have a list of books, with IsEnable default to False. I need to check each book whether its enabled or not in onInit(). I thought of adding a rxjs map and call the getEligibleBooks() function inside the map, but how to assign the return value true or false in the IsEnable?</p>\n\n<pre><code>Books.ts\n\nexport class Book{\nName:string;\nIsEnable:boolean;\n}\n\nbooks.component.ts\n\n...\nbooks = Observable.of([{\"Name\":\"A\", \"IsEnable\":\"False\"},{\"Name\":\"B\", \"IsEnable\":\"False\"}]);\n...\ngetEligibleBooks(book){\n//complex logic\nreturn result; //true or false\n}\n...\nngOnInit(){\nthis.books.pipe(\n    map( book =&gt; this.getEligibleBooks(book)) // have no idea how to achieve it\n  ).subscribe(data=&gt;console.log(data));\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 2604, "user_id": 3563439, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/68b30b257fe0f5cb4cfef5e5515b08a0?s=128&d=identicon&r=PG&f=1", "display_name": "masa", "link": "https://stackoverflow.com/users/3563439/masa"}, "edited": false, "score": 0, "creation_date": 1553683065, "post_id": 55374077, "comment_id": 97472311, "body": "Change the line to <code>var niceText = fs(+text);</code> ?"}, {"owner": {"reputation": 17248, "user_id": 1400869, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eTsCt.jpg?s=128&g=1", "display_name": "D.R.", "link": "https://stackoverflow.com/users/1400869/d-r"}, "reply_to_user": {"reputation": 2604, "user_id": 3563439, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/68b30b257fe0f5cb4cfef5e5515b08a0?s=128&d=identicon&r=PG&f=1", "display_name": "masa", "link": "https://stackoverflow.com/users/3563439/masa"}, "edited": false, "score": 0, "creation_date": 1553683376, "post_id": 55374077, "comment_id": 97472499, "body": "Oh, <i>plonk</i>, missed that. Thanks!"}], "owner": {"reputation": 17248, "user_id": 1400869, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eTsCt.jpg?s=128&g=1", "display_name": "D.R.", "link": "https://stackoverflow.com/users/1400869/d-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 627, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553679867, "creation_date": 1553679867, "question_id": 55374077, "link": "https://stackoverflow.com/questions/55374077/refers-to-a-umd-global-but-the-current-file-is-a-module-consider-adding-an-imp", "title": "Refers to a UMD global, but the current file is a module. Consider adding an import instead. TypeScript: 1 semantic error", "body": "<p>I receive the following error when compiling my TypeScript file:</p>\n\n<pre><code>error TS2686: 'filesize' refers to a UMD global, but the current file is a module. Consider adding an import instead.\n</code></pre>\n\n<p>Normally this tells me that I forgot an import, BUT my file already has the necessary import statement:</p>\n\n<pre><code>import * as $ from 'jquery';\nimport * as fs from 'filesize';\n\n$(function () {\n  $('.filesize').each(function() {\n    var elem = $(this);\n    var text = elem.text();\n    var niceText = filesize(+text);\n    elem.text(niceText);\n  });\n});\n</code></pre>\n\n<p>What am I still doing wrong? The error is shown in the line where filesize() is called.</p>\n"}, {"tags": ["typescript", "electron", "webdriver-io", "spectron"], "comments": [{"owner": {"reputation": 1322, "user_id": 8903949, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TTGhF.png?s=128&g=1", "display_name": "Bharath Kumar S", "link": "https://stackoverflow.com/users/8903949/bharath-kumar-s"}, "edited": false, "score": 0, "creation_date": 1553710172, "post_id": 55373927, "comment_id": 97489690, "body": "Your input tag type attribute is text. Choosefile is applied only when input type is file"}], "answers": [{"comments": [{"owner": {"reputation": 676, "user_id": 6546461, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9d5d960c734061e854db15a2d1efffb4?s=128&d=identicon&r=PG&f=1", "display_name": "FarFarAway", "link": "https://stackoverflow.com/users/6546461/farfaraway"}, "edited": false, "score": 0, "creation_date": 1553684047, "post_id": 55375364, "comment_id": 97472898, "body": "The same issue. The value is empty"}, {"owner": {"reputation": 1322, "user_id": 8903949, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TTGhF.png?s=128&g=1", "display_name": "Bharath Kumar S", "link": "https://stackoverflow.com/users/8903949/bharath-kumar-s"}, "reply_to_user": {"reputation": 676, "user_id": 6546461, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9d5d960c734061e854db15a2d1efffb4?s=128&d=identicon&r=PG&f=1", "display_name": "FarFarAway", "link": "https://stackoverflow.com/users/6546461/farfaraway"}, "edited": false, "score": 0, "creation_date": 1553684142, "post_id": 55375364, "comment_id": 97472956, "body": "Can you upload your input field HTML i mean this element  &#39;//*[@id=&quot;import-file&quot;]/form/div/div/div[1]/input&#39;"}, {"owner": {"reputation": 1322, "user_id": 8903949, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TTGhF.png?s=128&g=1", "display_name": "Bharath Kumar S", "link": "https://stackoverflow.com/users/8903949/bharath-kumar-s"}, "reply_to_user": {"reputation": 676, "user_id": 6546461, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9d5d960c734061e854db15a2d1efffb4?s=128&d=identicon&r=PG&f=1", "display_name": "FarFarAway", "link": "https://stackoverflow.com/users/6546461/farfaraway"}, "edited": false, "score": 0, "creation_date": 1553684218, "post_id": 55375364, "comment_id": 97473004, "body": "File is getting uploaded or not."}, {"owner": {"reputation": 676, "user_id": 6546461, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9d5d960c734061e854db15a2d1efffb4?s=128&d=identicon&r=PG&f=1", "display_name": "FarFarAway", "link": "https://stackoverflow.com/users/6546461/farfaraway"}, "edited": false, "score": 0, "creation_date": 1553690497, "post_id": 55375364, "comment_id": 97476932, "body": "Niether the file has been uploaded nor the text. I have added the DOM"}, {"owner": {"reputation": 1322, "user_id": 8903949, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TTGhF.png?s=128&g=1", "display_name": "Bharath Kumar S", "link": "https://stackoverflow.com/users/8903949/bharath-kumar-s"}, "reply_to_user": {"reputation": 676, "user_id": 6546461, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9d5d960c734061e854db15a2d1efffb4?s=128&d=identicon&r=PG&f=1", "display_name": "FarFarAway", "link": "https://stackoverflow.com/users/6546461/farfaraway"}, "edited": false, "score": 0, "creation_date": 1553707917, "post_id": 55375364, "comment_id": 97488449, "body": "Your input tag attribute is of type text not file. Choose file will work only for input type is file."}], "tags": [], "owner": {"reputation": 1322, "user_id": 8903949, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TTGhF.png?s=128&g=1", "display_name": "Bharath Kumar S", "link": "https://stackoverflow.com/users/8903949/bharath-kumar-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1553683691, "creation_date": 1553683691, "answer_id": 55375364, "question_id": 55373927, "link": "https://stackoverflow.com/questions/55373927/testing-file-choose-and-upload-in-spectron/55375364#55375364", "title": "Testing file choose and upload in Spectron", "body": "<pre><code>it('Should upload a file',async ()=&gt;{\n\n    let toUpload = path.join(__dirname, '..', '..', 'fixtures', 'Fahrtzeit.xlsx')\n\n    await app.client.chooseFile('//*[@id=\"import-file\"]/form/div/div/div[1]/input', toUpload);\n\n    let val =await app.client.getValue('//*[@id=\"import-file\"]/form/div/div/div[1]/input');\n\n// Do asserts and test the **val** \n})        \n</code></pre>\n\n<p>reference : <a href=\"http://v4.webdriver.io/api/utility/chooseFile.html\" rel=\"nofollow noreferrer\">http://v4.webdriver.io/api/utility/chooseFile.html</a></p>\n\n<p>just console val and test if this works.</p>\n"}], "owner": {"reputation": 676, "user_id": 6546461, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9d5d960c734061e854db15a2d1efffb4?s=128&d=identicon&r=PG&f=1", "display_name": "FarFarAway", "link": "https://stackoverflow.com/users/6546461/farfaraway"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 704, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1553690530, "creation_date": 1553679450, "last_edit_date": 1553690530, "question_id": 55373927, "link": "https://stackoverflow.com/questions/55373927/testing-file-choose-and-upload-in-spectron", "title": "Testing file choose and upload in Spectron", "body": "<p>I have to write test for a electron GUI which contains a choose file dialog. I have no access to the implementation of the GUI.</p>\n\n<p>I have wrote</p>\n\n<pre><code>await app.client.chooseFile('//*[@id=\"import-file\"]/form/div/div/div[1]/input', path.join(__dirname, '..','..','..', 'Fahrtzeit.xlsx'))\n.catch(function (error) {\n  console.log(error);\n}).getValue('//*[@id=\"import-file\"]/form/div/div/div[1]/input').then(function (val) {\n\n  console.log(\"value is :\"+val);\n  });\n</code></pre>\n\n<p>I get a console output </p>\n\n<pre><code>value is :\n</code></pre>\n\n<p>The value is empty</p>\n\n<p>I am new to spectron. Am I missing something?</p>\n\n<p>UPDATE:\nThe DOM of the choose file element is </p>\n\n<pre><code>&lt;div _ngcontent-c9=\"\" class=\"mat-form-field-flex\"&gt;&lt;div _ngcontent-c9=\"\" class=\"mat-form-field-infix\"&gt;&lt;input _ngcontent-c9=\"\" class=\"mat-input-element unit-input ng-untouched ng-pristine ng-valid\" formcontrolname=\"fileDisplay\" readonly=\"\" type=\"text\" ng-reflect-name=\"fileDisplay\" title=\"Auftragsdatei ausw\u00e4hlen\"&gt;&lt;/div&gt;&lt;button _ngcontent-c9=\"\" class=\"btn btn-link filepicker-btn unit-filepicker\"&gt;&lt;ui-icon _ngcontent-c9=\"\" class=\"filepicker-icon\" iconname=\"a_ic_attach_file\" _nghost-c5=\"\" ng-reflect-icon-name=\"a_ic_attach_file\" id=\"import-file-icon\"&gt;&lt;div _ngcontent-c5=\"\" class=\"a_ic_attach_file\" ng-reflect-ng-class=\"a_ic_attach_file\"&gt;&lt;/div&gt;&lt;/ui-icon&gt;&lt;/button&gt;&lt;div _ngcontent-c9=\"\" class=\"mat-form-field-underline\"&gt;&lt;/div&gt;&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 0, "creation_date": 1553678924, "post_id": 55373514, "comment_id": 97469770, "body": "No, but I need the same feature."}, {"owner": {"reputation": 1796, "user_id": 5914352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-95K_ALMidVw/AAAAAAAAAAI/AAAAAAAAABY/-XW0VDjXD7Q/photo.jpg?sz=128", "display_name": "Przemyslaw Jan Beigert", "link": "https://stackoverflow.com/users/5914352/przemyslaw-jan-beigert"}, "edited": false, "score": 1, "creation_date": 1553682064, "post_id": 55373514, "comment_id": 97471710, "body": "It&#39;s not possible to assign type to class, but you can make namespace with class and this type."}], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1553697148, "creation_date": 1553697148, "answer_id": 55379771, "question_id": 55373514, "link": "https://stackoverflow.com/questions/55373514/nested-interface-type-how-to-declare-function-return-types-inside-a-class-in/55379771#55379771", "title": "[Nested interface/type]: How to declare function return types inside a class in Typescript?", "body": "<p>As mentioned in the comments, this isn't currently supported.  There is an <a href=\"https://github.com/Microsoft/TypeScript/issues/7061\" rel=\"nofollow noreferrer\">existing suggestion in GitHub</a> to support allowing a <code>class</code> to also act as a namespace for type declarations.  If you care about this feature you might want to go to the GitHub issue and give it a \ud83d\udc4d and/or describe your use case if it's especially compelling.</p>\n\n<p>The current workaround is to use <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-merging.html#merging-namespaces-with-classes\" rel=\"nofollow noreferrer\">declaration merging</a> like this:</p>\n\n<pre><code>// separate namespace \ud83d\ude41\n// not close to your method either \ud83d\ude22\nnamespace Foo {\n  // must export the type in question \ud83d\ude41\n  export type ReturnObject = {\n    isInReferenceList: boolean,\n    referenceLabels: string[]\n  };\n}\n\nclass Foo {\n  // must refer to the type as fully qualified by namespace \ud83d\ude41\n  getReferenceInfo(word: string): Foo.ReturnObject {\n    return null!;\n  }\n}\n</code></pre>\n\n<p>It's obviously not perfect, and might not even be worth it if your use case is \"get the type declaration closer to the method that's using it\", which this doesn't even fix.  </p>\n\n<p>Oh well, hope that helps anyway.  Good luck!</p>\n"}], "owner": {"reputation": 1754, "user_id": 372459, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ruf3z.jpg?s=128&g=1", "display_name": "Obiwahn", "link": "https://stackoverflow.com/users/372459/obiwahn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 55379771, "answer_count": 1, "score": 2, "last_activity_date": 1553697148, "creation_date": 1553678152, "question_id": 55373514, "link": "https://stackoverflow.com/questions/55373514/nested-interface-type-how-to-declare-function-return-types-inside-a-class-in", "title": "[Nested interface/type]: How to declare function return types inside a class in Typescript?", "body": "<p>I have some big classes with functions with complex return objects that I want to refactor. </p>\n\n<pre><code>class BigClass {\n    ...\n    getReferenceInfo(word: string): { isInReferenceList:boolean, referenceLabels:string[] } {\n    ...\n    }\n}\n</code></pre>\n\n<p>I want to do something like this (declare it close to my function):</p>\n\n<pre><code>class Foo {\n    ...\n    type ReturnObject = { isInReferenceList:boolean, referenceLabels:string[] };\n    getReferenceInfo(word: string):ReturnObject   {\n      ...\n      }\n}\n</code></pre>\n\n<p>But right now Typescript only lets me declare interfaces/types outside of the class:</p>\n\n<pre><code>type ReturnObject = { isInReferenceList:boolean, referenceLabels:string[] };\nclass Foo {\n    ...\n    getReferenceInfo(word: string):ReturnObject   {\n      ...\n      }\n}\n</code></pre>\n\n<p>Is there a way to have nested interfaces in Typescript?</p>\n"}, {"tags": ["c#", "html", "angular", "typescript", "nvd3.js"], "comments": [{"owner": {"reputation": 1, "user_id": 10440961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v1lwQ.jpg?s=128&g=1", "display_name": "Rebecca", "link": "https://stackoverflow.com/users/10440961/rebecca"}, "edited": false, "score": 0, "creation_date": 1553754903, "post_id": 55373252, "comment_id": 97503758, "body": "No luck with fusion charts could any one please help me on how to implement the stacked bar chart using d3 charts in angular4 typescript and Html"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10440961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v1lwQ.jpg?s=128&g=1", "display_name": "Rebecca", "link": "https://stackoverflow.com/users/10440961/rebecca"}, "edited": false, "score": 0, "creation_date": 1553677824, "post_id": 55373348, "comment_id": 97469090, "body": "Thank you I will try implementing"}], "tags": [], "owner": {"reputation": 33, "user_id": 8970378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33579ab2a21a5efae5b92920170151ab?s=128&d=identicon&r=PG&f=1", "display_name": "chaucer", "link": "https://stackoverflow.com/users/8970378/chaucer"}, "is_accepted": false, "score": 0, "last_activity_date": 1553677609, "creation_date": 1553677609, "answer_id": 55373348, "question_id": 55373252, "link": "https://stackoverflow.com/questions/55373252/d3-charts-implementation-in-angular4/55373348#55373348", "title": "d3 Charts implementation in angular4", "body": "<p>You can use fusion charts for this..\n<a href=\"https://www.fusioncharts.com/charts/column-bar-charts/\" rel=\"nofollow noreferrer\">https://www.fusioncharts.com/charts/column-bar-charts/</a></p>\n"}], "owner": {"reputation": 1, "user_id": 10440961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v1lwQ.jpg?s=128&g=1", "display_name": "Rebecca", "link": "https://stackoverflow.com/users/10440961/rebecca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553677609, "creation_date": 1553677242, "question_id": 55373252, "link": "https://stackoverflow.com/questions/55373252/d3-charts-implementation-in-angular4", "title": "d3 Charts implementation in angular4", "body": "<p>I'm trying to implement bar chart in angular4 includes Html and TypeScript files as components Kindly guide me.</p>\n\n<p>the bar should display number of increase in employees in months starting from current month in x axis</p>\n"}, {"tags": ["node.js", "typescript", "webpack"], "comments": [{"owner": {"reputation": 5489, "user_id": 3670132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f1c25213978ce9fc6a9b8b60f5d780b4?s=128&d=identicon&r=PG", "display_name": "Seblor", "link": "https://stackoverflow.com/users/3670132/seblor"}, "edited": false, "score": 0, "creation_date": 1553856879, "post_id": 55372854, "comment_id": 97550592, "body": "Do you still have the same error after <code>npm install chalk</code> ?"}, {"owner": {"reputation": 26, "user_id": 4818123, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7c7f6fefe7743c80b89b8af7d4ebacc2?s=128&d=identicon&r=PG&f=1", "display_name": "Takesi Tokugawa YD", "link": "https://stackoverflow.com/users/4818123/takesi-tokugawa-yd"}, "reply_to_user": {"reputation": 5489, "user_id": 3670132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f1c25213978ce9fc6a9b8b60f5d780b4?s=128&d=identicon&r=PG", "display_name": "Seblor", "link": "https://stackoverflow.com/users/3670132/seblor"}, "edited": false, "score": 0, "creation_date": 1553857063, "post_id": 55372854, "comment_id": 97550700, "body": "@Seblor I install with <code>npm install chalk -d  -E</code>. If there is no difference between it and plain <code>npm install chalk</code> in this case, my answer is &quot;Yes&quot;."}, {"owner": {"reputation": 5489, "user_id": 3670132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f1c25213978ce9fc6a9b8b60f5d780b4?s=128&d=identicon&r=PG", "display_name": "Seblor", "link": "https://stackoverflow.com/users/3670132/seblor"}, "edited": false, "score": 0, "creation_date": 1553857328, "post_id": 55372854, "comment_id": 97550849, "body": "If <code>chalk</code> is used in your final build, you might want to install it with the <code>-S</code> flag instead of <code>-D</code>. Depending if your IDE uses the dependencies or devDependencies to resolve / check modules, it might change something. Have you tried an other IDE to see if the same error pops up ?"}, {"owner": {"reputation": 26, "user_id": 4818123, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7c7f6fefe7743c80b89b8af7d4ebacc2?s=128&d=identicon&r=PG&f=1", "display_name": "Takesi Tokugawa YD", "link": "https://stackoverflow.com/users/4818123/takesi-tokugawa-yd"}, "reply_to_user": {"reputation": 5489, "user_id": 3670132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f1c25213978ce9fc6a9b8b60f5d780b4?s=128&d=identicon&r=PG", "display_name": "Seblor", "link": "https://stackoverflow.com/users/3670132/seblor"}, "edited": false, "score": 0, "creation_date": 1553903625, "post_id": 55372854, "comment_id": 97572747, "body": "@Seblor, are you sure about <code>-S</code>? I has not been see this flag in <a href=\"https://docs.npmjs.com/cli/install\" rel=\"nofollow noreferrer\">npm documentation</a> ..."}, {"owner": {"reputation": 5489, "user_id": 3670132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f1c25213978ce9fc6a9b8b60f5d780b4?s=128&d=identicon&r=PG", "display_name": "Seblor", "link": "https://stackoverflow.com/users/3670132/seblor"}, "edited": false, "score": 0, "creation_date": 1553904237, "post_id": 55372854, "comment_id": 97572855, "body": "-S is the same as --save. It puts the installed module as a dependency instead of a dev dependency. Dev dependencies should only be modules used for dev purposes like webpack, babel, eslint, etc..."}, {"owner": {"reputation": 26, "user_id": 4818123, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7c7f6fefe7743c80b89b8af7d4ebacc2?s=128&d=identicon&r=PG&f=1", "display_name": "Takesi Tokugawa YD", "link": "https://stackoverflow.com/users/4818123/takesi-tokugawa-yd"}, "reply_to_user": {"reputation": 5489, "user_id": 3670132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f1c25213978ce9fc6a9b8b60f5d780b4?s=128&d=identicon&r=PG", "display_name": "Seblor", "link": "https://stackoverflow.com/users/3670132/seblor"}, "edited": false, "score": 0, "creation_date": 1553904838, "post_id": 55372854, "comment_id": 97572980, "body": "@Seblor I did what you said. Unfortunately, zero effect."}], "answers": [{"comments": [{"owner": {"reputation": 26, "user_id": 4818123, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7c7f6fefe7743c80b89b8af7d4ebacc2?s=128&d=identicon&r=PG&f=1", "display_name": "Takesi Tokugawa YD", "link": "https://stackoverflow.com/users/4818123/takesi-tokugawa-yd"}, "edited": false, "score": 0, "creation_date": 1553677811, "post_id": 55373047, "comment_id": 97469080, "body": "Thank you for the answer. Please enplane, what kind of relationship <code>each-async</code> and  <code>indent-string</code> has to resolving of TypeScript types. Why TypeScript cannot resolve it&#39;s types without <code>each-async</code> and  <code>indent-string</code>?"}], "tags": [], "owner": {"reputation": 320, "user_id": 6927069, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fF4Ae.jpg?s=128&g=1", "display_name": "Pooya Panahandeh", "link": "https://stackoverflow.com/users/6927069/pooya-panahandeh"}, "is_accepted": false, "score": 0, "last_activity_date": 1553676549, "creation_date": 1553676549, "answer_id": 55373047, "question_id": 55372854, "link": "https://stackoverflow.com/questions/55372854/how-to-import-node-js-dependency-in-webpack-project-if-package-already-includes/55373047#55373047", "title": "How to import node-js dependency in webpack project if package already includes types definitions?", "body": "<p>You need to fix it manual by following command:</p>\n\n<pre><code>npm install chalk\nnpm install each-async\nnpm install indent-string\n</code></pre>\n\n<p>in case it doesn't work you need to clear cash and check the config in webpack.</p>\n"}, {"tags": [], "owner": {"reputation": 26, "user_id": 4818123, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7c7f6fefe7743c80b89b8af7d4ebacc2?s=128&d=identicon&r=PG&f=1", "display_name": "Takesi Tokugawa YD", "link": "https://stackoverflow.com/users/4818123/takesi-tokugawa-yd"}, "is_accepted": true, "score": 0, "last_activity_date": 1554181451, "creation_date": 1554181451, "answer_id": 55467273, "question_id": 55372854, "link": "https://stackoverflow.com/questions/55372854/how-to-import-node-js-dependency-in-webpack-project-if-package-already-includes/55467273#55467273", "title": "How to import node-js dependency in webpack project if package already includes types definitions?", "body": "<p>In my case, <code>\"moduleResolution\": \"node\"</code> was missed in <code>tsconfig.json</code>.</p>\n"}], "owner": {"reputation": 26, "user_id": 4818123, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7c7f6fefe7743c80b89b8af7d4ebacc2?s=128&d=identicon&r=PG&f=1", "display_name": "Takesi Tokugawa YD", "link": "https://stackoverflow.com/users/4818123/takesi-tokugawa-yd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 55467273, "answer_count": 2, "score": 0, "last_activity_date": 1554181451, "creation_date": 1553675888, "last_edit_date": 1554082441, "question_id": 55372854, "link": "https://stackoverflow.com/questions/55372854/how-to-import-node-js-dependency-in-webpack-project-if-package-already-includes", "title": "How to import node-js dependency in webpack project if package already includes types definitions?", "body": "<p><a href=\"https://www.npmjs.com/package/chalk\" rel=\"nofollow noreferrer\">chalk</a> library already includes types definitions, and there is no need to use deprecated <a href=\"https://www.npmjs.com/package/@types/chalk\" rel=\"nofollow noreferrer\">@types/chalk</a> package. However, I got error <code>TS2307: Cannot find module 'chalk'</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/uDIJi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uDIJi.png\" alt=\"enter image description here\"></a></p>\n\n<p>The <code>chalk</code> library project structure is:</p>\n\n<p><a href=\"https://i.stack.imgur.com/qznbf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qznbf.png\" alt=\"enter image description here\"></a></p>\n\n<p>What I did wrong? I tried <a href=\"https://www.npmjs.com/package/colors\" rel=\"nofollow noreferrer\">colors.js</a> library instead - same error.</p>\n\n<p>Node: my project is build by Webpack for <code>Node.js</code>. Off course, webpack has been configured for node (includes <code>target: 'node'</code> option and <code>nodeExternals</code> plugin usage). </p>\n\n<hr>\n\n<p>Link to project with problem reproduction:</p>\n\n<p><a href=\"https://drive.google.com/file/d/1Aro46dXM9rTw6IsaTv5TEzzXEp_sCJTQ/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1Aro46dXM9rTw6IsaTv5TEzzXEp_sCJTQ/view?usp=sharing</a></p>\n\n<p>Node.js installation required, and as always, <code>npm i</code> command before run project building.</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 2267, "user_id": 5135610, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/1fc09e29dbb05d102453542ca1947b15?s=128&d=identicon&r=PG&f=1", "display_name": "bilpor", "link": "https://stackoverflow.com/users/5135610/bilpor"}, "edited": false, "score": 1, "creation_date": 1553675959, "post_id": 55372740, "comment_id": 97467975, "body": "you need to add the &#39;Typescript&#39; tag. You may get more help"}, {"owner": {"reputation": 213, "user_id": 11157765, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ijJnrrwIbH0/AAAAAAAAAAI/AAAAAAAABr4/BFYpfaoUDHA/photo.jpg?sz=128", "display_name": "madhavsai bhushan", "link": "https://stackoverflow.com/users/11157765/madhavsai-bhushan"}, "reply_to_user": {"reputation": 2267, "user_id": 5135610, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/1fc09e29dbb05d102453542ca1947b15?s=128&d=identicon&r=PG&f=1", "display_name": "bilpor", "link": "https://stackoverflow.com/users/5135610/bilpor"}, "edited": false, "score": 0, "creation_date": 1553678392, "post_id": 55372740, "comment_id": 97469471, "body": "thanks  changed the edit"}], "answers": [{"comments": [{"owner": {"reputation": 213, "user_id": 11157765, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ijJnrrwIbH0/AAAAAAAAAAI/AAAAAAAABr4/BFYpfaoUDHA/photo.jpg?sz=128", "display_name": "madhavsai bhushan", "link": "https://stackoverflow.com/users/11157765/madhavsai-bhushan"}, "edited": false, "score": 0, "creation_date": 1553678231, "post_id": 55372927, "comment_id": 97469387, "body": "i want this.list[index] ; example:this.list[2]; which u should give the values of 2nd indices of array"}, {"owner": {"reputation": 6613, "user_id": 2190498, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/tV6Vl.png?s=128&g=1", "display_name": "ttulka", "link": "https://stackoverflow.com/users/2190498/ttulka"}, "reply_to_user": {"reputation": 213, "user_id": 11157765, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ijJnrrwIbH0/AAAAAAAAAAI/AAAAAAAABr4/BFYpfaoUDHA/photo.jpg?sz=128", "display_name": "madhavsai bhushan", "link": "https://stackoverflow.com/users/11157765/madhavsai-bhushan"}, "edited": false, "score": 0, "creation_date": 1553678868, "post_id": 55372927, "comment_id": 97469735, "body": "@madhavsaibhushan That works - where&#39;s the problem?"}], "tags": [], "owner": {"reputation": 6613, "user_id": 2190498, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/tV6Vl.png?s=128&g=1", "display_name": "ttulka", "link": "https://stackoverflow.com/users/2190498/ttulka"}, "is_accepted": true, "score": 1, "last_activity_date": 1553676131, "creation_date": 1553676131, "answer_id": 55372927, "question_id": 55372740, "link": "https://stackoverflow.com/questions/55372740/cant-retrieve-the-data-from-the-array-by-using-methodpassing-index-as-argument/55372927#55372927", "title": "Cant retrieve the data from the Array by using method(passing) index as argument", "body": "<p>Your array contains objects, but you want to search by <code>id</code> which is a property of those objects. You have to use <code>filter</code>:</p>\n\n<pre><code>console.log(this.list.find(el =&gt; el.id === id))\n</code></pre>\n"}], "owner": {"reputation": 213, "user_id": 11157765, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ijJnrrwIbH0/AAAAAAAAAAI/AAAAAAAABr4/BFYpfaoUDHA/photo.jpg?sz=128", "display_name": "madhavsai bhushan", "link": "https://stackoverflow.com/users/11157765/madhavsai-bhushan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 55372927, "answer_count": 1, "score": 0, "last_activity_date": 1553678037, "creation_date": 1553675500, "last_edit_date": 1553678037, "question_id": 55372740, "link": "https://stackoverflow.com/questions/55372740/cant-retrieve-the-data-from-the-array-by-using-methodpassing-index-as-argument", "title": "Cant retrieve the data from the Array by using method(passing) index as argument", "body": "<p>Can't get the Array item by using method() while passing index as argument \nit shows as undefined</p>\n\n<pre><code>export class DataService {\n    public list = [\n        { id: 11, name: 'Mr. Nice' },\n        { id: 12, name: 'Narco' },\n        { id: 13, name: 'Bombasto' },\n        { id: 14, name: 'Celeritas' },\n        { id: 15, name: 'Magneta' },\n        { id: 16, name: 'RubberMan' },\n        { id: 17, name: 'Dynama' },\n        { id: 18, name: 'Dr IQ' },\n        { id: 19, name: 'Magma' },\n        { id: 20, name: 'Tornado' }\n    ]\n    getList() {\n        return this.list;\n    }\n\n\n    update(num, updated) {\n        let list = this.getList()\n        console.log(typeof (num))\n        console.log(this.list[num])\n    }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic4"], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 10590692, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WR32-8bIVWQ/AAAAAAAAAAI/AAAAAAAACfQ/O2ip44qp3ZE/photo.jpg?sz=128", "display_name": "JoSeBu", "link": "https://stackoverflow.com/users/10590692/josebu"}, "edited": false, "score": 0, "creation_date": 1553674091, "post_id": 55372389, "comment_id": 97467079, "body": "Forgive for my ignorance but where should I put that?"}, {"owner": {"reputation": 125, "user_id": 10590692, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WR32-8bIVWQ/AAAAAAAAAAI/AAAAAAAACfQ/O2ip44qp3ZE/photo.jpg?sz=128", "display_name": "JoSeBu", "link": "https://stackoverflow.com/users/10590692/josebu"}, "edited": false, "score": 0, "creation_date": 1553675137, "post_id": 55372389, "comment_id": 97467592, "body": "Ok, missing import Platform but it works, except the failure of pressing back you see how the previous page of the stack disappears, I just updated my code with what I have"}, {"owner": {"reputation": 991, "user_id": 4544288, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NXKlvPbQ4wA/AAAAAAAAAAI/AAAAAAAAABE/EBjOj2lD-N0/photo.jpg?sz=128", "display_name": "Massimiliano Sartoretto", "link": "https://stackoverflow.com/users/4544288/massimiliano-sartoretto"}, "reply_to_user": {"reputation": 125, "user_id": 10590692, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WR32-8bIVWQ/AAAAAAAAAAI/AAAAAAAACfQ/O2ip44qp3ZE/photo.jpg?sz=128", "display_name": "JoSeBu", "link": "https://stackoverflow.com/users/10590692/josebu"}, "edited": false, "score": 0, "creation_date": 1553675748, "post_id": 55372389, "comment_id": 97467874, "body": "Well <code>popToRoot</code> goes back to the first page in the stack (the root). Try just <code>pop</code> if you need to go to the previous page in the stack"}, {"owner": {"reputation": 125, "user_id": 10590692, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WR32-8bIVWQ/AAAAAAAAAAI/AAAAAAAACfQ/O2ip44qp3ZE/photo.jpg?sz=128", "display_name": "JoSeBu", "link": "https://stackoverflow.com/users/10590692/josebu"}, "edited": false, "score": 0, "creation_date": 1553676437, "post_id": 55372389, "comment_id": 97468224, "body": "I do not want to return to the previous one if not to the previous one of the previous one, that is, I want to take 2 steps back."}, {"owner": {"reputation": 991, "user_id": 4544288, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NXKlvPbQ4wA/AAAAAAAAAAI/AAAAAAAAABE/EBjOj2lD-N0/photo.jpg?sz=128", "display_name": "Massimiliano Sartoretto", "link": "https://stackoverflow.com/users/4544288/massimiliano-sartoretto"}, "reply_to_user": {"reputation": 125, "user_id": 10590692, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WR32-8bIVWQ/AAAAAAAAAAI/AAAAAAAACfQ/O2ip44qp3ZE/photo.jpg?sz=128", "display_name": "JoSeBu", "link": "https://stackoverflow.com/users/10590692/josebu"}, "edited": false, "score": 0, "creation_date": 1553676737, "post_id": 55372389, "comment_id": 97468414, "body": "Not sure if this still work on Ionic 4, but you might want to give it a try <a href=\"https://stackoverflow.com/a/48353059/4544288\">stackoverflow.com/a/48353059/4544288</a>"}], "tags": [], "owner": {"reputation": 991, "user_id": 4544288, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NXKlvPbQ4wA/AAAAAAAAAAI/AAAAAAAAABE/EBjOj2lD-N0/photo.jpg?sz=128", "display_name": "Massimiliano Sartoretto", "link": "https://stackoverflow.com/users/4544288/massimiliano-sartoretto"}, "is_accepted": false, "score": 1, "last_activity_date": 1553674381, "last_edit_date": 1553674381, "creation_date": 1553674001, "answer_id": 55372389, "question_id": 55372301, "link": "https://stackoverflow.com/questions/55372301/problem-when-going-back-in-the-stack-in-ionic-4/55372389#55372389", "title": "Problem when going back in the stack in ionic 4", "body": "<p>You need to inject the <code>Platform</code> service and subscribe to its <code>backButton</code> Observable like this:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\n@IonicPage()\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class LoginPage implements OnInit {\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private platform: Platform) {\n  }\n\n  ngOnInit() {\n    this.platform.backButton.subscribe(() =&gt; {\n      // Physical button pressed\n    });\n  }\n\n  goToSignUp() {\n    this.navCtrl.push(\"SignupPage\");\n  }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 125, "user_id": 10590692, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WR32-8bIVWQ/AAAAAAAAAAI/AAAAAAAACfQ/O2ip44qp3ZE/photo.jpg?sz=128", "display_name": "JoSeBu", "link": "https://stackoverflow.com/users/10590692/josebu"}, "is_accepted": true, "score": 0, "last_activity_date": 1553677590, "creation_date": 1553677590, "answer_id": 55373339, "question_id": 55372301, "link": "https://stackoverflow.com/questions/55372301/problem-when-going-back-in-the-stack-in-ionic-4/55373339#55373339", "title": "Problem when going back in the stack in ionic 4", "body": "<p><strong>The perfect solution for my problem was this.</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\n@IonicPage()\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class LoginPage implements OnInit {\n\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n  }\n\n  ngOnInit() {\n    this.navCtrl.removeView(this.navCtrl.getPrevious());\n  }\n\n  goToSignUp() {\n    let id = this.idRecibido;\n    this.navCtrl.push(\"SignupPage\", {id});\n  }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 10590692, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WR32-8bIVWQ/AAAAAAAAAAI/AAAAAAAACfQ/O2ip44qp3ZE/photo.jpg?sz=128", "display_name": "JoSeBu", "link": "https://stackoverflow.com/users/10590692/josebu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 55373339, "answer_count": 2, "score": 0, "last_activity_date": 1553677590, "creation_date": 1553673630, "last_edit_date": 1553676335, "question_id": 55372301, "link": "https://stackoverflow.com/questions/55372301/problem-when-going-back-in-the-stack-in-ionic-4", "title": "Problem when going back in the stack in ionic 4", "body": "<p>I'm doing my first project at Angular and I do not know how to do one thing, I've been searching but I have not found exactly what I wanted.</p>\n\n<p>This estructure is the next one.\nHomePage -> TutorialPage -> LoginPage</p>\n\n<p>When you get to LoginPage and you give the physical back or back button that appears above to the left virtually, what I want is to return to HomePage. I have been trying different things but nothing worked for me, my problem is that I do not know how to make an event call when pressing back. Thank you</p>\n\n<p><strong>My login.ts</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Platform } from 'ionic-angular';\n\n@IonicPage()\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class LoginPage implements OnInit {\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private platform: Platform) {\n  }\n\n  ngOnInit() {\n    this.platform.backButton.subscribe(() =&gt; {\n      this.navCtrl.popToRoot();\n    });\n  }\n\n  goToSignUp() {\n    let id = this.idRecibido;\n    this.navCtrl.push(\"SignupPage\", {id});\n  }\n\n}\n</code></pre>\n\n<p>I also need it to work with the virtual button back on the screen</p>\n"}, {"tags": ["angular", "typescript", "bootstrap-4", "carousel", "ngfor"], "comments": [{"owner": {"reputation": 964, "user_id": 2959773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfDqt.jpg?s=128&g=1", "display_name": "Patryk Uszy\u0144ski", "link": "https://stackoverflow.com/users/2959773/patryk-uszy%c5%84ski"}, "edited": false, "score": 0, "creation_date": 1553673171, "post_id": 55372038, "comment_id": 97466647, "body": "Meaby <code>ngb-carousel</code> load templates only on init, when there is no data inside <code>this.promotions</code>?"}, {"owner": {"reputation": 13, "user_id": 4881815, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JxBszzofel8/AAAAAAAAAAI/AAAAAAAAAKU/3gwPrf1MRI0/photo.jpg?sz=128", "display_name": "Nabeel Ahmad Khan", "link": "https://stackoverflow.com/users/4881815/nabeel-ahmad-khan"}, "reply_to_user": {"reputation": 964, "user_id": 2959773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfDqt.jpg?s=128&g=1", "display_name": "Patryk Uszy\u0144ski", "link": "https://stackoverflow.com/users/2959773/patryk-uszy%c5%84ski"}, "edited": false, "score": 0, "creation_date": 1553673989, "post_id": 55372038, "comment_id": 97467029, "body": "@PatrykUszy\u0144ski i have tried with image with index 0 in the promotions array. and It showing that image. but problem with this for loop i think"}, {"owner": {"reputation": 1464, "user_id": 7737777, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7EZ7yTlptnw/AAAAAAAAAAI/AAAAAAAAAlk/e6JOnR_ahmM/photo.jpg?sz=128", "display_name": "Gvs Akhil", "link": "https://stackoverflow.com/users/7737777/gvs-akhil"}, "edited": false, "score": 0, "creation_date": 1558877532, "post_id": 55372038, "comment_id": 99237141, "body": "same issue. did u find any solution @NabeelAhmadKhan"}], "owner": {"reputation": 13, "user_id": 4881815, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JxBszzofel8/AAAAAAAAAAI/AAAAAAAAAKU/3gwPrf1MRI0/photo.jpg?sz=128", "display_name": "Nabeel Ahmad Khan", "link": "https://stackoverflow.com/users/4881815/nabeel-ahmad-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553672459, "creation_date": 1553672459, "question_id": 55372038, "link": "https://stackoverflow.com/questions/55372038/dynamic-carosel-images-not-showing-with-ngfor-angular-7", "title": "Dynamic Carosel images not showing with ngFor (Angular 7)", "body": "<p>I am setting up a carousel for showing dynamic images fetching from an Node API. I am using ngFor directive in Angular 7</p>\n\n<p>Here is my code that i have tried:</p>\n\n<p>TypeScript:</p>\n\n<pre><code>getPromotions() {\n    this.dashboardService.getPromotions()\n      .subscribe(res =&gt; {\n\n          this.promotions = res.listings.map(res =&gt; {\n            return {image: `data:${\n              res.file_mime_type\n              };base64,${this.dashboardService.bufferToString(res.file_content.data)}`}\n            });\n\n\n        console.log('Promotions::', this.promotions);\n\n      }, err =&gt; {\n\n      })\n  }\n</code></pre>\n\n<p>html:</p>\n\n<pre><code>&lt;div class=\"card\"&gt;\n    &lt;div class=\"card-body\"&gt;\n        &lt;ngb-carousel&gt;\n            &lt;ng-template ngbSlide *ngFor=\"let promotion of promotions\"&gt;\n                &lt;img [src]=\"promotion.image\" height=\"392\" class=\"d-block w-100\" alt=\"Random slide\"&gt;\n                &lt;div class=\"carousel-caption\"&gt;\n                    &lt;h3&gt;No Promotion&lt;/h3&gt;\n                    &lt;p&gt;There is not active Promotion.&lt;/p&gt;\n                &lt;/div&gt;\n            &lt;/ng-template&gt;\n        &lt;/ngb-carousel&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This code should show the images in promotions array but it showing nothing.</p>\n"}, {"tags": ["angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "edited": false, "score": 0, "creation_date": 1553672176, "post_id": 55371932, "comment_id": 97466164, "body": "What&#39;s the issue you are having?"}, {"owner": {"reputation": 1438, "user_id": 7381844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/472a02745987037a063febc591fbb937?s=128&d=identicon&r=PG&f=1", "display_name": "jBuchholz", "link": "https://stackoverflow.com/users/7381844/jbuchholz"}, "edited": false, "score": 1, "creation_date": 1553672328, "post_id": 55371932, "comment_id": 97466240, "body": "You wouldn&#39;t. Use property binding to bind to the <code>src</code> element of each image directly."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1553672373, "post_id": 55371932, "comment_id": 97466257, "body": "You generally don&#39;t modify the DOM in Angular. You modify the model which is the single point of truth, and the view is modified accordingly. You need to learn how to do things the Angular way, and not the jQuery way."}, {"owner": {"reputation": 179, "user_id": 9774303, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BfIg1.jpg?s=128&g=1", "display_name": "Vishnudas", "link": "https://stackoverflow.com/users/9774303/vishnudas"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1553674671, "post_id": 55371932, "comment_id": 97467364, "body": "In my case iam dynamically appending html to template. After that  i want to change the src of element .Is there any way to do it in typescript @JBNizet"}], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 9774303, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BfIg1.jpg?s=128&g=1", "display_name": "Vishnudas", "link": "https://stackoverflow.com/users/9774303/vishnudas"}, "edited": false, "score": 0, "creation_date": 1553674745, "post_id": 55372010, "comment_id": 97467399, "body": "In my case i am dynamically appending html to template. After that  i want to change the src of element .Is there any way to do it in typescript @Patryk Uszy\u0144ski"}, {"owner": {"reputation": 964, "user_id": 2959773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfDqt.jpg?s=128&g=1", "display_name": "Patryk Uszy\u0144ski", "link": "https://stackoverflow.com/users/2959773/patryk-uszy%c5%84ski"}, "reply_to_user": {"reputation": 179, "user_id": 9774303, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BfIg1.jpg?s=128&g=1", "display_name": "Vishnudas", "link": "https://stackoverflow.com/users/9774303/vishnudas"}, "edited": false, "score": 0, "creation_date": 1553675112, "post_id": 55372010, "comment_id": 97467580, "body": "@Vishnudas you can start with empty <code>urls</code> array. When you dynamically push new item it will be rendered."}], "tags": [], "owner": {"reputation": 964, "user_id": 2959773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfDqt.jpg?s=128&g=1", "display_name": "Patryk Uszy\u0144ski", "link": "https://stackoverflow.com/users/2959773/patryk-uszy%c5%84ski"}, "is_accepted": false, "score": 1, "last_activity_date": 1553672318, "creation_date": 1553672318, "answer_id": 55372010, "question_id": 55371932, "link": "https://stackoverflow.com/questions/55371932/alternative-of-jquerys-each-in-angular-6/55372010#55372010", "title": "alternative of jquery&#39;s $.each in angular 6", "body": "<p>Try to use opposite approach - store collection inside component and iterate inside view:</p>\n\n<p><strong>component.ts</strong></p>\n\n<pre><code>public urls = ['url1', 'url2'];\n</code></pre>\n\n<p><strong>component.html</strong></p>\n\n<pre><code>&lt;img *ngFor=\"let url of urls\" [src]=\"url\"&gt;\n</code></pre>\n\n<p>If you change something in your <code>urls</code> now it will affect the view.</p>\n"}, {"comments": [{"owner": {"reputation": 179, "user_id": 9774303, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BfIg1.jpg?s=128&g=1", "display_name": "Vishnudas", "link": "https://stackoverflow.com/users/9774303/vishnudas"}, "edited": false, "score": 1, "creation_date": 1554122633, "post_id": 55455411, "comment_id": 97624135, "body": "Thanks that what iam looking for @Anoop Sanker"}], "tags": [], "owner": {"reputation": 455, "user_id": 10727661, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mSpaEYKb3tQ/AAAAAAAAAAI/AAAAAAAAAAc/RNtZmIu4Mlc/photo.jpg?sz=128", "display_name": "Anoop Sankar", "link": "https://stackoverflow.com/users/10727661/anoop-sankar"}, "is_accepted": true, "score": 0, "last_activity_date": 1554122572, "creation_date": 1554122572, "answer_id": 55455411, "question_id": 55371932, "link": "https://stackoverflow.com/questions/55371932/alternative-of-jquerys-each-in-angular-6/55455411#55455411", "title": "alternative of jquery&#39;s $.each in angular 6", "body": "<p>I think this may help you:</p>\n\n<pre><code>Array.from(document.getElementsByClassName(\"image\")).forEach(function(item) {\n    var image_link=item.getAttribute('href');\n    item.setAttribute('src',\"path\");\n});\n</code></pre>\n\n<p>Please check this for details: <a href=\"https://stackoverflow.com/questions/22754315/for-loop-for-htmlcollection-elements/22754453#22754453\">For loop for HTMLCollection elements</a></p>\n"}], "owner": {"reputation": 179, "user_id": 9774303, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BfIg1.jpg?s=128&g=1", "display_name": "Vishnudas", "link": "https://stackoverflow.com/users/9774303/vishnudas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 566, "favorite_count": 0, "accepted_answer_id": 55455411, "answer_count": 2, "score": 1, "last_activity_date": 1554122572, "creation_date": 1553672021, "question_id": 55371932, "link": "https://stackoverflow.com/questions/55371932/alternative-of-jquerys-each-in-angular-6", "title": "alternative of jquery&#39;s $.each in angular 6", "body": "<p>I want to loop through each element by its class for setting new value in the src attribute. below is the jquery code, how can i rewrite in typescript in angular</p>\n\n<pre><code>$(\".image\").each(function () {\n    $(this).attr(\"src\",\"http://xxx/xxx.png\");\n});\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1874, "user_id": 6623650, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/2NOJH.jpg?s=128&g=1", "display_name": "Amrit", "link": "https://stackoverflow.com/users/6623650/amrit"}, "is_accepted": false, "score": 2, "last_activity_date": 1553670117, "creation_date": 1553670117, "answer_id": 55371490, "question_id": 55371442, "link": "https://stackoverflow.com/questions/55371442/routing-on-event/55371490#55371490", "title": "Routing on event", "body": "<pre><code>this.router.navigate(['/first-view']);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1592, "user_id": 11016183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/usqVz.jpg?s=128&g=1", "display_name": "Seba Cherian", "link": "https://stackoverflow.com/users/11016183/seba-cherian"}, "is_accepted": false, "score": 1, "last_activity_date": 1553673401, "last_edit_date": 1553673401, "creation_date": 1553670132, "answer_id": 55371495, "question_id": 55371442, "link": "https://stackoverflow.com/questions/55371442/routing-on-event/55371495#55371495", "title": "Routing on event", "body": "<p><strong>Try this:</strong></p>\n\n<pre><code>import {Router} from '@angular/router';\n\nconstructor(private router: Router) { }\n\nmenuEvent(event: any): any {\n    if (event.item.label == 'First Page') {\n        this.router.navigate(['./first-view']);\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "is_accepted": true, "score": 1, "last_activity_date": 1553670251, "creation_date": 1553670251, "answer_id": 55371518, "question_id": 55371442, "link": "https://stackoverflow.com/questions/55371442/routing-on-event/55371518#55371518", "title": "Routing on event", "body": "<p>Inject to the component the router</p>\n\n<pre><code> import { Router } from '@angular/router';\n //...\n constructor(private router: Router){...}\n</code></pre>\n\n<p>Then you can do </p>\n\n<pre><code> this.router.navigate(['a', 'b', 'c']);\n</code></pre>\n"}], "owner": {"reputation": 521, "user_id": 7411958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qCCBJ.png?s=128&g=1", "display_name": "Bendemann", "link": "https://stackoverflow.com/users/7411958/bendemann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "closed_date": 1557213754, "accepted_answer_id": 55371518, "answer_count": 3, "score": 1, "last_activity_date": 1553673401, "creation_date": 1553669903, "question_id": 55371442, "link": "https://stackoverflow.com/questions/55371442/routing-on-event", "closed_reason": "Duplicate", "title": "Routing on event", "body": "<p>I would like to route to a specific page when the user clicks on a menu option. I already have created a method with the corresponding event but I don't know how to route to the specifc page that was clicked on the menu.</p>\n\n<pre><code>menuEvent(event: any): any {\n    if (event.item.label == 'First Page') {\n         // redirect to 'first-view'\n    }\n  }\n</code></pre>\n\n<p>The routes are already defined at the <code>app-routing</code> module:</p>\n\n<pre><code>const routes: Routes = [\n  {\n    path: '',\n    pathMatch: 'full',\n    redirectTo: 'first-view'\n  },\n  {\n    path: 'first-view',\n    component: FirstViewComponent\n  },\n  {\n    path: 'second-view',\n    component: SecondViewComponent\n  },\n}\n</code></pre>\n\n<p>This seems to be something pretty straightforward but I am new to angular and so have not yet been able to wrap my head around it.</p>\n"}, {"tags": ["typescript", "protractor", "cucumber"], "comments": [{"owner": {"reputation": 8275, "user_id": 4512398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yjm4v.jpg?s=128&g=1", "display_name": "Grasshopper", "link": "https://stackoverflow.com/users/4512398/grasshopper"}, "edited": false, "score": 0, "creation_date": 1553670710, "post_id": 55371434, "comment_id": 97465558, "body": "Remove the code in the feature file. The do and the step lines. The error message mentions it also at the end - got &#39;do&#39;"}, {"owner": {"reputation": 141, "user_id": 10837994, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sV0fZhRwHfc/AAAAAAAAAAI/AAAAAAAAVlo/EHPV29QHhYk/photo.jpg?sz=128", "display_name": "rarunp04", "link": "https://stackoverflow.com/users/10837994/rarunp04"}, "reply_to_user": {"reputation": 8275, "user_id": 4512398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yjm4v.jpg?s=128&g=1", "display_name": "Grasshopper", "link": "https://stackoverflow.com/users/4512398/grasshopper"}, "edited": false, "score": 0, "creation_date": 1553670871, "post_id": 55371434, "comment_id": 97465621, "body": "Then , how to call those steps . Intention is to reuse the steps . Should it be removed from feature file and added in Step Definition file? Then please help with the syntax"}, {"owner": {"reputation": 8275, "user_id": 4512398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yjm4v.jpg?s=128&g=1", "display_name": "Grasshopper", "link": "https://stackoverflow.com/users/4512398/grasshopper"}, "edited": false, "score": 0, "creation_date": 1553680298, "post_id": 55371434, "comment_id": 97470600, "body": "Code should be in step definition"}, {"owner": {"reputation": 141, "user_id": 10837994, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sV0fZhRwHfc/AAAAAAAAAAI/AAAAAAAAVlo/EHPV29QHhYk/photo.jpg?sz=128", "display_name": "rarunp04", "link": "https://stackoverflow.com/users/10837994/rarunp04"}, "reply_to_user": {"reputation": 8275, "user_id": 4512398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yjm4v.jpg?s=128&g=1", "display_name": "Grasshopper", "link": "https://stackoverflow.com/users/4512398/grasshopper"}, "edited": false, "score": 0, "creation_date": 1553687743, "post_id": 55371434, "comment_id": 97475206, "body": "can you please help in forming the syntax. I am trying to use typescript and the syntax doesnt work. Then(/^Print All console$/, async () =&gt; {     do         step &quot;Print the console for numbers&quot;;     step &quot;Print first numbers console&quot;;     step &quot;Print second numbers console&quot;;     end     console.log(&#39;------Printing all console-----&#39;); });"}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 7288921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/710256e85c143b86c7bb69b74057b5f2?s=128&d=identicon&r=PG&f=1", "display_name": "Mirza Asim Baig", "link": "https://stackoverflow.com/users/7288921/mirza-asim-baig"}, "is_accepted": false, "score": 0, "last_activity_date": 1553964569, "creation_date": 1553964569, "answer_id": 55433627, "question_id": 55371434, "link": "https://stackoverflow.com/questions/55371434/calling-steps-from-step-definitions/55433627#55433627", "title": "Calling Steps from Step Definitions", "body": "<p>You can use Scenario Outline \nLike:</p>\n\n<p>Scenario Outline : Print All console</p>\n\n<pre><code>Given Print the start console\n\nGiven Print All \u201c&lt;console&gt;\u201d\n</code></pre>\n\n<p>Examples:</p>\n\n<p>|console|</p>\n\n<p>| Print the console for numbers |</p>\n\n<p>| Print first numbers console |</p>\n\n<p>| Print second numbers console |</p>\n\n<p>Take a reference here: \n<a href=\"https://stackoverflow.com/questions/22640200/cucumber-scenario-outline-and-examples-with-generic-step-definitions\">Cucumber scenario outline and examples with generic step definitions</a></p>\n"}], "owner": {"reputation": 141, "user_id": 10837994, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sV0fZhRwHfc/AAAAAAAAAAI/AAAAAAAAVlo/EHPV29QHhYk/photo.jpg?sz=128", "display_name": "rarunp04", "link": "https://stackoverflow.com/users/10837994/rarunp04"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 459, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553964569, "creation_date": 1553669876, "question_id": 55371434, "link": "https://stackoverflow.com/questions/55371434/calling-steps-from-step-definitions", "title": "Calling Steps from Step Definitions", "body": "<p>I am creating a feature file where to call other steps from other scenario . Please find the below and suggest if missing anything.</p>\n\n<p>Feature File :</p>\n\n<p>Feature: Test Multiple Steps</p>\n\n<pre><code>Scenario: Print All console\n    Given Print the start console\n    Given Print All console\ndo\nstep \"Print the console for numbers\"\nstep \"Print first numbers console\"\nstep \"Print second numbers console\"\nend\n\nScenario: Print All console\n    Given Print the console for numbers\n    Then Print first numbers console\n    Then Print second numbers console\n</code></pre>\n\n<p>Step Definitions:</p>\n\n<pre><code>import { Then, Given } from 'cucumber';\n\nGiven(/^Print the start console$/, async () =&gt; {\n    console.log('------Printing console-----');\n});\n\n\nThen(/^Print All console$/, async () =&gt; {\n    console.log('------Printing all console-----');\n});\n\n\nGiven(/^Print the console for numbers$/, async () =&gt; {\n    console.log('------Printing console for numbers-----');\n});\n\n\nThen(/^Print first numbers console$/, async () =&gt; {\n    console.log('------Printing first number console-----');\n});\n\nThen(/^Print second numbers console$/, async () =&gt; {\n    console.log('------Printing second number console-----');\n});\n\n</code></pre>\n\n<p>While executing I receive an error as below . Please help.</p>\n\n<p>[12:21:35] E/launcher - Error: Error: Parse error in 'src\\features\\multipleSteps.feature': (6:5): expected: #EOF, #TableRow, #DocStringSeparator, #StepLine, #TagLine, #ScenarioLine, #ScenarioOutlineLine, #Comment, #Empty, got 'do'</p>\n\n<pre><code>\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "unit-testing", "enzyme"], "comments": [{"owner": {"reputation": 13638, "user_id": 4374566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61d5ab25523e9e65cec29bb4fa303bd3?s=128&d=identicon&r=PG", "display_name": "Agney", "link": "https://stackoverflow.com/users/4374566/agney"}, "edited": false, "score": 0, "creation_date": 1553669128, "post_id": 55371252, "comment_id": 97464931, "body": "seems like you haven&#39;t installed enzyme"}, {"owner": {"reputation": 1669, "user_id": 5032858, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/03bb8ef1a4faead9d5cec3e8a91d49dd?s=128&d=identicon&r=PG&f=1", "display_name": "sruthi", "link": "https://stackoverflow.com/users/5032858/sruthi"}, "reply_to_user": {"reputation": 13638, "user_id": 4374566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61d5ab25523e9e65cec29bb4fa303bd3?s=128&d=identicon&r=PG", "display_name": "Agney", "link": "https://stackoverflow.com/users/4374566/agney"}, "edited": false, "score": 0, "creation_date": 1553669271, "post_id": 55371252, "comment_id": 97464997, "body": "@Boy With Silver Wings  I have.. it is installed as @types/enzyme as I am using typescript."}, {"owner": {"reputation": 387, "user_id": 8203841, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Tr-gkE5ghhQ/AAAAAAAAAAI/AAAAAAAAAMo/_GIgFYRQ5yU/photo.jpg?sz=128", "display_name": "Smolin Pavel", "link": "https://stackoverflow.com/users/8203841/smolin-pavel"}, "edited": false, "score": 1, "creation_date": 1553669422, "post_id": 55371252, "comment_id": 97465062, "body": "@Sruthi @types/enzyme is used only for typescript interfaces and so on."}, {"owner": {"reputation": 13638, "user_id": 4374566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61d5ab25523e9e65cec29bb4fa303bd3?s=128&d=identicon&r=PG", "display_name": "Agney", "link": "https://stackoverflow.com/users/4374566/agney"}, "edited": false, "score": 1, "creation_date": 1553669624, "post_id": 55371252, "comment_id": 97465155, "body": "just install all libraries as described <a href=\"https://facebook.github.io/create-react-app/docs/running-tests#option-1-shallow-rendering\" rel=\"nofollow noreferrer\">docs</a> you linked to. <code>@types</code> is just the typings"}], "answers": [{"tags": [], "owner": {"reputation": 387, "user_id": 8203841, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Tr-gkE5ghhQ/AAAAAAAAAAI/AAAAAAAAAMo/_GIgFYRQ5yU/photo.jpg?sz=128", "display_name": "Smolin Pavel", "link": "https://stackoverflow.com/users/8203841/smolin-pavel"}, "is_accepted": true, "score": 13, "last_activity_date": 1553669389, "creation_date": 1553669389, "answer_id": 55371338, "question_id": 55371252, "link": "https://stackoverflow.com/questions/55371252/cannot-find-module-enzyme-from-setuptests-ts/55371338#55371338", "title": "Cannot find module &#39;enzyme&#39; from &#39;setupTests.ts&#39;", "body": "<p>You should do <code>yarn add enzyme</code> and you'll be good!\nOr <code>npm i enzyme</code> if you're using npm.</p>\n\n<p><code>@types/enzyme</code> is used to get typescript interfaces but not the actual enzyme package!</p>\n"}], "owner": {"reputation": 1669, "user_id": 5032858, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/03bb8ef1a4faead9d5cec3e8a91d49dd?s=128&d=identicon&r=PG&f=1", "display_name": "sruthi", "link": "https://stackoverflow.com/users/5032858/sruthi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7092, "favorite_count": 0, "accepted_answer_id": 55371338, "answer_count": 1, "score": 4, "last_activity_date": 1601643154, "creation_date": 1553668960, "last_edit_date": 1601643154, "question_id": 55371252, "link": "https://stackoverflow.com/questions/55371252/cannot-find-module-enzyme-from-setuptests-ts", "title": "Cannot find module &#39;enzyme&#39; from &#39;setupTests.ts&#39;", "body": "<p>I want to use enzyme to perform unit tests in my React project with TypeScript.</p>\n<p>I used documentation on adding tests to create-react-app - <a href=\"https://facebook.github.io/create-react-app/docs/running-tests\" rel=\"nofollow noreferrer\">runnning tests</a></p>\n<p>I created a setupTests.ts file in /src</p>\n<p><strong>setupTests.ts</strong></p>\n<pre><code>import { configure } from 'enzyme';\nimport Adapter from 'enzyme-adapter-react-16';\n\nconfigure({ adapter: new Adapter() });\n</code></pre>\n<p>And I wrote a test</p>\n<p><strong>App.test.ts</strong></p>\n<pre><code>import React from 'react';\nimport { shallow } from 'enzyme';\nimport App from './App';\n\nit('renders without crashing', () =&gt; {\n  shallow(&lt;App /&gt;);\n});\n\n</code></pre>\n<p>A test using react-dom works fine if I comment the line which configures adapter in setupTests.ts</p>\n<p><strong>setupTests.ts</strong></p>\n<pre><code>import { configure } from 'enzyme';\nimport Adapter from 'enzyme-adapter-react-16';\n\n// configure({ adapter: new Adapter() });\n</code></pre>\n<p><strong>App.test.ts</strong></p>\n<pre><code>import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/Dashboard';\n\nit('renders without crashing', () =&gt; {\n  const div = document.createElement('div');\n  ReactDOM.render(&lt;App /&gt;, div);\n});\n</code></pre>\n<p><strong>package.json</strong></p>\n<pre><code>{\n  &quot;name&quot;: &quot;sampleapp&quot;,\n  &quot;version&quot;: &quot;0.1.0&quot;,\n  &quot;private&quot;: true,\n  &quot;dependencies&quot;: {\n    &quot;@material-ui/core&quot;: &quot;^3.9.2&quot;,\n    &quot;@material-ui/icons&quot;: &quot;^3.0.2&quot;,\n    &quot;@types/enzyme&quot;: &quot;^3.9.1&quot;,\n    &quot;@types/enzyme-adapter-react-16&quot;: &quot;^1.0.5&quot;,\n    &quot;@types/enzyme-to-json&quot;: &quot;^1.5.3&quot;,\n    &quot;@types/jest&quot;: &quot;24.0.11&quot;,\n    &quot;@types/node&quot;: &quot;11.12.0&quot;,\n    &quot;@types/react&quot;: &quot;16.8.8&quot;,\n    &quot;@types/react-dom&quot;: &quot;16.8.3&quot;,\n    &quot;@types/react-redux&quot;: &quot;^7.0.5&quot;,\n    &quot;@types/react-router-dom&quot;: &quot;^4.3.1&quot;,\n    &quot;@types/redux-thunk&quot;: &quot;^2.1.0&quot;,\n    &quot;axios&quot;: &quot;^0.18.0&quot;,\n    &quot;react&quot;: &quot;^16.8.5&quot;,\n    &quot;react-dom&quot;: &quot;^16.8.5&quot;,\n    &quot;react-redux&quot;: &quot;^6.0.1&quot;,\n    &quot;react-router-dom&quot;: &quot;^5.0.0&quot;,\n    &quot;react-scripts&quot;: &quot;2.1.8&quot;,\n    &quot;redux&quot;: &quot;^4.0.1&quot;,\n    &quot;redux-thunk&quot;: &quot;^2.3.0&quot;,\n    &quot;typescript&quot;: &quot;3.3.4000&quot;\n  },\n  &quot;scripts&quot;: {\n    &quot;start&quot;: &quot;react-scripts start&quot;,\n    &quot;build&quot;: &quot;react-scripts build&quot;,\n    &quot;test&quot;: &quot;react-scripts test&quot;,\n    &quot;eject&quot;: &quot;react-scripts eject&quot;\n  },\n  &quot;eslintConfig&quot;: {\n    &quot;extends&quot;: &quot;react-app&quot;\n  },\n  &quot;browserslist&quot;: [\n    &quot;&gt;0.2%&quot;,\n    &quot;not dead&quot;,\n    &quot;not ie &lt;= 11&quot;,\n    &quot;not op_mini all&quot;\n  ]\n}\n</code></pre>\n<p>The test is supposed to run successfully. But it is failing and giving me an error</p>\n<p><code>Cannot find module 'enzyme' from 'setupTests.ts'</code></p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 2355, "user_id": 4449862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/frVl0.jpg?s=128&g=1", "display_name": "Luk&#225;\u0161 Gibo Vaic", "link": "https://stackoverflow.com/users/4449862/luk%c3%a1%c5%a1-gibo-vaic"}, "reply_to_user": {"reputation": 13638, "user_id": 4374566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61d5ab25523e9e65cec29bb4fa303bd3?s=128&d=identicon&r=PG", "display_name": "Agney", "link": "https://stackoverflow.com/users/4374566/agney"}, "edited": false, "score": 0, "creation_date": 1553674373, "post_id": 55370851, "comment_id": 97467220, "body": "@BoyWithSilverWings almost but not really, as that question is about propTypes and what the type should be, this one is about typescript and what causes this error."}, {"owner": {"reputation": 21272, "user_id": 52277, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/67498fd0e17d27cb9be0c107f306e378?s=128&d=identicon&r=PG", "display_name": "Michael Freidgeim", "link": "https://stackoverflow.com/users/52277/michael-freidgeim"}, "edited": false, "score": 0, "creation_date": 1588461777, "post_id": 55370851, "comment_id": 108906434, "body": "Related answer in <a href=\"https://stackoverflow.com/questions/40745992/binding-element-index-implicitly-has-an-any-type/40746812#40746812\" title=\"binding element index implicitly has an any type\">stackoverflow.com/questions/40745992/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1809, "user_id": 881180, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/vmrL9.jpg?s=128&g=1", "display_name": "Fasani", "link": "https://stackoverflow.com/users/881180/fasani"}, "edited": false, "score": 1, "creation_date": 1595152852, "post_id": 55372465, "comment_id": 111370314, "body": "Why is this called IProps and not just Props? (I am brand new to TS, I am not challenging just asking)."}, {"owner": {"reputation": 2355, "user_id": 4449862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/frVl0.jpg?s=128&g=1", "display_name": "Luk&#225;\u0161 Gibo Vaic", "link": "https://stackoverflow.com/users/4449862/luk%c3%a1%c5%a1-gibo-vaic"}, "reply_to_user": {"reputation": 1809, "user_id": 881180, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/vmrL9.jpg?s=128&g=1", "display_name": "Fasani", "link": "https://stackoverflow.com/users/881180/fasani"}, "edited": false, "score": 3, "creation_date": 1595247074, "post_id": 55372465, "comment_id": 111398899, "body": "@FMD Its just naming, we used to type <code>I</code> in front of each name of interface, but with time we dont do that anymore."}], "tags": [], "owner": {"reputation": 2355, "user_id": 4449862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/frVl0.jpg?s=128&g=1", "display_name": "Luk&#225;\u0161 Gibo Vaic", "link": "https://stackoverflow.com/users/4449862/luk%c3%a1%c5%a1-gibo-vaic"}, "is_accepted": true, "score": 58, "last_activity_date": 1553674292, "creation_date": 1553674292, "answer_id": 55372465, "question_id": 55370851, "link": "https://stackoverflow.com/questions/55370851/how-to-fix-binding-element-children-implicitly-has-an-any-type-ts7031/55372465#55372465", "title": "How to fix Binding element &#39;children&#39; implicitly has an &#39;any&#39; type.ts(7031)?", "body": "<p>Yes you are missing a type for Props as whole, which means typescript sees it as <code>any</code> and your ts rules dont allow it.</p>\n\n<p>You have to type your props as: </p>\n\n<pre><code>interface IProps {\n    children: ReactNode;\n    // any other props that come into the component\n}\n\nconst Button1 = ({ children, ...props }: IProps) =&gt; (\n    &lt;Button {...props}&gt;{children}&lt;/Button&gt;\n);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 556, "user_id": 7480923, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8fcb1aa2b43bf2bb7d943fd1b62664c7?s=128&d=identicon&r=PG", "display_name": "Julian Torregrosa", "link": "https://stackoverflow.com/users/7480923/julian-torregrosa"}, "edited": false, "score": 0, "creation_date": 1581527174, "post_id": 58670190, "comment_id": 106467295, "body": "How about functions comming from props, whihc type can you use in the interface declaration?"}, {"owner": {"reputation": 161, "user_id": 1130299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c886c0262e8cbe47f55b8975d4bab18?s=128&d=identicon&r=PG", "display_name": "Hung Ton", "link": "https://stackoverflow.com/users/1130299/hung-ton"}, "reply_to_user": {"reputation": 556, "user_id": 7480923, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8fcb1aa2b43bf2bb7d943fd1b62664c7?s=128&d=identicon&r=PG", "display_name": "Julian Torregrosa", "link": "https://stackoverflow.com/users/7480923/julian-torregrosa"}, "edited": false, "score": 1, "creation_date": 1597808878, "post_id": 58670190, "comment_id": 112251370, "body": "@JulianTorregrosa, we can have multiple ways to do it <a href=\"https://mariusschulz.com/articles/typing-functions-in-typescript\" rel=\"nofollow noreferrer\">mariusschulz.com/articles/typing-functions-in-typescript</a>"}], "tags": [], "owner": {"reputation": 161, "user_id": 1130299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c886c0262e8cbe47f55b8975d4bab18?s=128&d=identicon&r=PG", "display_name": "Hung Ton", "link": "https://stackoverflow.com/users/1130299/hung-ton"}, "is_accepted": false, "score": 16, "last_activity_date": 1590553808, "last_edit_date": 1590553808, "creation_date": 1572690331, "answer_id": 58670190, "question_id": 55370851, "link": "https://stackoverflow.com/questions/55370851/how-to-fix-binding-element-children-implicitly-has-an-any-type-ts7031/58670190#58670190", "title": "How to fix Binding element &#39;children&#39; implicitly has an &#39;any&#39; type.ts(7031)?", "body": "<p>You can also add the predefined type to your functional components like this:</p>\n\n<pre><code>const Button1: React.FC&lt;{}&gt;  = ({ children }) =&gt; (\n    &lt;Button&gt;{children}&lt;/Button&gt;\n);\n</code></pre>\n\n<p>By this way you don't have to repeat yourself to define <code>children</code> props.</p>\n\n<p>The fuller version could be like this:</p>\n\n<pre><code>interface Props {\n// any other props that come into the component, you don't have to explicitly define children.\n}\n\nconst Button: React.FC&lt;Props&gt; = ({ children, ...props }) =&gt; {\n  return (\n      &lt;Button {...props}&gt;{children}&lt;/Button&gt;\n  );\n};\n</code></pre>\n\n<p>Please note it works for <strong>React 16.8</strong></p>\n"}, {"tags": [], "owner": {"reputation": 5899, "user_id": 2761641, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/JuwBc.jpg?s=128&g=1", "display_name": "Akshay Vijay Jain", "link": "https://stackoverflow.com/users/2761641/akshay-vijay-jain"}, "is_accepted": false, "score": 0, "last_activity_date": 1590554912, "creation_date": 1590554912, "answer_id": 62035668, "question_id": 55370851, "link": "https://stackoverflow.com/questions/55370851/how-to-fix-binding-element-children-implicitly-has-an-any-type-ts7031/62035668#62035668", "title": "How to fix Binding element &#39;children&#39; implicitly has an &#39;any&#39; type.ts(7031)?", "body": "<p>This error can be fixed by explicitly defining type for the variable (<code>children</code> in this case) and not leaving it to be implicitly inferred</p>\n\n<p>Error can be stopped altogether with TypeScript <code>--noImplicitAny</code> <a href=\"https://medium.com/front-end-weekly/typescript-error-ts7031-makes-me-go-huh-c81cf76c829b\" rel=\"nofollow noreferrer\">compiler option</a></p>\n"}, {"tags": [], "owner": {"reputation": 556, "user_id": 7480923, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8fcb1aa2b43bf2bb7d943fd1b62664c7?s=128&d=identicon&r=PG", "display_name": "Julian Torregrosa", "link": "https://stackoverflow.com/users/7480923/julian-torregrosa"}, "is_accepted": false, "score": 0, "last_activity_date": 1597929083, "creation_date": 1597929083, "answer_id": 63505862, "question_id": 55370851, "link": "https://stackoverflow.com/questions/55370851/how-to-fix-binding-element-children-implicitly-has-an-any-type-ts7031/63505862#63505862", "title": "How to fix Binding element &#39;children&#39; implicitly has an &#39;any&#39; type.ts(7031)?", "body": "<p>You can use types as well</p>\n<pre><code>type ButtonProps = {\n    children: ReactNode;\n    \n}\n\nconst Button = ({ children }: ButtonProps) =&gt; (\n    &lt;button&gt;{children}&lt;/button&gt;\n);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6487, "user_id": 635069, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/1403794582312ddf67657288fa98ab54?s=128&d=identicon&r=PG", "display_name": "Merott", "link": "https://stackoverflow.com/users/635069/merott"}, "is_accepted": false, "score": 0, "last_activity_date": 1603893878, "creation_date": 1603893878, "answer_id": 64574508, "question_id": 55370851, "link": "https://stackoverflow.com/questions/55370851/how-to-fix-binding-element-children-implicitly-has-an-any-type-ts7031/64574508#64574508", "title": "How to fix Binding element &#39;children&#39; implicitly has an &#39;any&#39; type.ts(7031)?", "body": "<p>I find it best to have the component props interface extend from <code>React.HTMLAttributes</code> because it gives you the standard HTML attributes without any extra configuration:</p>\n<pre><code>interface Button1Props extends React.HTMLAttributes&lt;Element&gt; {\n  // add any custom props, but don't have to specify `children`\n}\n\nconst Button1 = ({ children, ...props }: Button1Props) =&gt; (\n    &lt;Button {...props}&gt;{children}&lt;/Button&gt;\n)\n</code></pre>\n<p>If you want to enforce <code>children</code> to be provided, you can make it required by redefining it in the props interface:</p>\n<pre><code>interface Button1Props extends React.HTMLAttributes&lt;Element&gt; {\n  children: React.ReactNode\n  // add any custom props, but don't have to specify `children`\n}\n\nconst Button1 = ({ children, ...props }: Button1Props) =&gt; (\n    &lt;Button {...props}&gt;{children}&lt;/Button&gt;\n)\n</code></pre>\n"}], "owner": {"reputation": 566, "user_id": 3876861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea335ae2444b37180af11dfa2e585d6a?s=128&d=identicon&r=PG&f=1", "display_name": "Zahid Karim", "link": "https://stackoverflow.com/users/3876861/zahid-karim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39227, "favorite_count": 6, "accepted_answer_id": 55372465, "answer_count": 5, "score": 39, "last_activity_date": 1603893878, "creation_date": 1553667139, "question_id": 55370851, "link": "https://stackoverflow.com/questions/55370851/how-to-fix-binding-element-children-implicitly-has-an-any-type-ts7031", "title": "How to fix Binding element &#39;children&#39; implicitly has an &#39;any&#39; type.ts(7031)?", "body": "<p>I'm missing something here with the validation how to add types validation? Having error \"element 'children' implicitly has an 'any' type\".</p>\n\n<pre><code>import * as React from 'react';\nimport Button from './Styles';\n\nconst Button1 = ({ children, ...props }) =&gt; (\n  &lt;Button {...props}&gt;{children}&lt;/Button&gt;\n);\n\nButton1.propTypes = {};\n\nexport default Button1;\n</code></pre>\n"}, {"tags": ["angularjs", "html", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 11258619, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9VyXOwkQ2qQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcrIVfiDwGxtm9lc_dX8E7ewDpaLQ/mo/photo.jpg?sz=128", "display_name": "gaus shaikh", "link": "https://stackoverflow.com/users/11258619/gaus-shaikh"}, "edited": false, "score": 0, "creation_date": 1553667304, "post_id": 55370672, "comment_id": 97464239, "body": "i want disabled not hide."}, {"owner": {"reputation": 107, "user_id": 11258619, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9VyXOwkQ2qQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcrIVfiDwGxtm9lc_dX8E7ewDpaLQ/mo/photo.jpg?sz=128", "display_name": "gaus shaikh", "link": "https://stackoverflow.com/users/11258619/gaus-shaikh"}, "edited": false, "score": 0, "creation_date": 1553671052, "post_id": 55370672, "comment_id": 97465691, "body": "not working sir, i found solution, but it is delay, i want input field disabled onLoad."}], "tags": [], "owner": {"reputation": 1592, "user_id": 11016183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/usqVz.jpg?s=128&g=1", "display_name": "Seba Cherian", "link": "https://stackoverflow.com/users/11016183/seba-cherian"}, "is_accepted": false, "score": 0, "last_activity_date": 1553669370, "last_edit_date": 1553669370, "creation_date": 1553666263, "answer_id": 55370672, "question_id": 55370373, "link": "https://stackoverflow.com/questions/55370373/how-to-disable-angular-input-field-by-using-mat-slide-toggle/55370672#55370672", "title": "How to disable angular input field by using mat-slide-toggle?", "body": "<p>Please try this</p>\n\n<p>in html:</p>\n\n<pre><code>&lt;mat-slide-toggle (change)=\"toggle($event)\"&gt;Slide me!&lt;/mat-slide-toggle&gt;\n&lt;input [attr.disabled]=\"show ? '' : null\"/&gt;{{show}}\n</code></pre>\n\n<p>in ts:</p>\n\n<pre><code>    show: boolean = false;\n    toggle(e: any) {\n      e.checked? this.show = true: this.show = false;\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 107, "user_id": 11258619, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9VyXOwkQ2qQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcrIVfiDwGxtm9lc_dX8E7ewDpaLQ/mo/photo.jpg?sz=128", "display_name": "gaus shaikh", "link": "https://stackoverflow.com/users/11258619/gaus-shaikh"}, "edited": false, "score": 0, "creation_date": 1553673008, "post_id": 55371946, "comment_id": 97466577, "body": "Hello sir, your example is good but i want input field disabled when slide off and enabled when slide on.how can achieve this .plz help me."}, {"owner": {"reputation": 2167, "user_id": 9434520, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J0UP5.jpg?s=128&g=1", "display_name": "Abhishek Kumar", "link": "https://stackoverflow.com/users/9434520/abhishek-kumar"}, "reply_to_user": {"reputation": 107, "user_id": 11258619, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9VyXOwkQ2qQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcrIVfiDwGxtm9lc_dX8E7ewDpaLQ/mo/photo.jpg?sz=128", "display_name": "gaus shaikh", "link": "https://stackoverflow.com/users/11258619/gaus-shaikh"}, "edited": false, "score": 0, "creation_date": 1553675254, "post_id": 55371946, "comment_id": 97467651, "body": "@gausshaikh add <code>this.formGroup.controls[&#39;FirstName&#39;].disable();</code> line in <code>ngOnInit</code> to make input disable at start-up. See, the link now, its updated"}, {"owner": {"reputation": 107, "user_id": 11258619, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9VyXOwkQ2qQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcrIVfiDwGxtm9lc_dX8E7ewDpaLQ/mo/photo.jpg?sz=128", "display_name": "gaus shaikh", "link": "https://stackoverflow.com/users/11258619/gaus-shaikh"}, "edited": false, "score": 1, "creation_date": 1553675900, "post_id": 55371946, "comment_id": 97467949, "body": "Thank You Sir,You are Great."}], "tags": [], "owner": {"reputation": 2167, "user_id": 9434520, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J0UP5.jpg?s=128&g=1", "display_name": "Abhishek Kumar", "link": "https://stackoverflow.com/users/9434520/abhishek-kumar"}, "is_accepted": true, "score": 1, "last_activity_date": 1553682702, "last_edit_date": 1553682702, "creation_date": 1553672057, "answer_id": 55371946, "question_id": 55370373, "link": "https://stackoverflow.com/questions/55370373/how-to-disable-angular-input-field-by-using-mat-slide-toggle/55371946#55371946", "title": "How to disable angular input field by using mat-slide-toggle?", "body": "<p>You can use <code>change</code> method on <code>mat-slide-toggle</code> as </p>\n\n<pre><code>    &lt;mat-slide-toggle \n      (change)=\"changeDisable()\" formControlName=\"enableWifi\"&gt;\n      Enable Wifi&lt;/mat-slide-toggle&gt;\n&lt;mat-form-field class=\"demo-full-width\"&gt;  \n        &lt;input [disabled]=\"checked\" formControlName=\"FirstName\" matInput\n         placeholder=\"First Name\"&gt;  \n &lt;/mat-form-field&gt; \n\nchangeDisable() {\n  if (this.formGroup.controls['FirstName'].disabled) {\n   this.formGroup.controls['FirstName'].enable() ;\n  } else {\n    this.formGroup.controls['FirstName'].disable() ;\n  }\n\n}\n</code></pre>\n\n<p><strong><a href=\"https://stackblitz.com/edit/mat-slide-toggle-example-ddwtsf?file=app/slide-toggle-overview-example.html\" rel=\"nofollow noreferrer\">Stackblitz Demo showing Input Disable/Enable on Change of mat toggle</a></strong></p>\n"}], "owner": {"reputation": 107, "user_id": 11258619, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9VyXOwkQ2qQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcrIVfiDwGxtm9lc_dX8E7ewDpaLQ/mo/photo.jpg?sz=128", "display_name": "gaus shaikh", "link": "https://stackoverflow.com/users/11258619/gaus-shaikh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1136, "favorite_count": 0, "accepted_answer_id": 55371946, "answer_count": 2, "score": -2, "last_activity_date": 1553682702, "creation_date": 1553664601, "last_edit_date": 1553668533, "question_id": 55370373, "link": "https://stackoverflow.com/questions/55370373/how-to-disable-angular-input-field-by-using-mat-slide-toggle", "title": "How to disable angular input field by using mat-slide-toggle?", "body": "<p>How to disable angular mat-form-field(input) field using <a href=\"https://material.angular.io/components/slide-toggle/overview\" rel=\"nofollow noreferrer\">mat-slide-toggle</a> in reactive forms, when slide toggle on input field is true it should be enabled otherwise input \nfield should be disabled.  </p>\n"}, {"tags": ["typescript", "react-native", "import"], "comments": [{"owner": {"reputation": 33, "user_id": 11173021, "user_type": "registered", "profile_image": "https://graph.facebook.com/2539131482797582/picture?type=large", "display_name": "Suvarna", "link": "https://stackoverflow.com/users/11173021/suvarna"}, "edited": false, "score": 0, "creation_date": 1553664464, "post_id": 55370325, "comment_id": 97463351, "body": "package.json as the following entry                                                                    &quot;react-native-dynamic-form&quot;: &quot;git+<a href=\"https://github.com/toystars/react-native-dynamic-form.git\" rel=\"nofollow noreferrer\">github.com/toystars/react-native-dynamic-form.git</a>&quot;,"}, {"owner": {"reputation": 1303, "user_id": 9799857, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Un8oP52iS7o/AAAAAAAAAAI/AAAAAAAAAGI/MLCSiItmk5E/photo.jpg?sz=128", "display_name": "Firu", "link": "https://stackoverflow.com/users/9799857/firu"}, "edited": false, "score": 0, "creation_date": 1553664838, "post_id": 55370325, "comment_id": 97463446, "body": "Try running <code>npm install react-native-dynamic-form --save</code>"}, {"owner": {"reputation": 33, "user_id": 11173021, "user_type": "registered", "profile_image": "https://graph.facebook.com/2539131482797582/picture?type=large", "display_name": "Suvarna", "link": "https://stackoverflow.com/users/11173021/suvarna"}, "reply_to_user": {"reputation": 1303, "user_id": 9799857, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Un8oP52iS7o/AAAAAAAAAAI/AAAAAAAAAGI/MLCSiItmk5E/photo.jpg?sz=128", "display_name": "Firu", "link": "https://stackoverflow.com/users/9799857/firu"}, "edited": false, "score": 0, "creation_date": 1553665159, "post_id": 55370325, "comment_id": 97463541, "body": "@Firu tried the above and it says npm ERR! code E404 npm ERR! 404 Not Found: react-native-dynamic-form@latest"}, {"owner": {"reputation": 2343, "user_id": 5151047, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/g6Mnu.jpg?s=128&g=1", "display_name": "Ankush Rishi", "link": "https://stackoverflow.com/users/5151047/ankush-rishi"}, "edited": false, "score": 0, "creation_date": 1553670243, "post_id": 55370325, "comment_id": 97465379, "body": "you need to configure <code>react-native-vector-icons</code> to use this component. please check if you have integrated vector icons in your project. In the docs, they have clearly mentioned to add react-native vector icons."}, {"owner": {"reputation": 33, "user_id": 11173021, "user_type": "registered", "profile_image": "https://graph.facebook.com/2539131482797582/picture?type=large", "display_name": "Suvarna", "link": "https://stackoverflow.com/users/11173021/suvarna"}, "edited": false, "score": 0, "creation_date": 1553670821, "post_id": 55370325, "comment_id": 97465599, "body": "yes its there... &quot;react-native-vector-icons&quot;: &quot;^6.2.0&quot;, and linked"}, {"owner": {"reputation": 33, "user_id": 11173021, "user_type": "registered", "profile_image": "https://graph.facebook.com/2539131482797582/picture?type=large", "display_name": "Suvarna", "link": "https://stackoverflow.com/users/11173021/suvarna"}, "edited": false, "score": 0, "creation_date": 1553670907, "post_id": 55370325, "comment_id": 97465635, "body": "it also gives me this error&quot;Could not find a declaration file for module &#39;react-native-dynamic-form&#39;. &#39;/node_modules/react-native-dynamic-form/index.js&#39; implicitly has an &#39;any&#39; type.   Try <code>npm install @types&#47;react-native-dynamic-form</code> if it exists or add a new declaration (.d.ts) file containing <code>declare module &#39;react-native-dynamic-form&#39;;</code>ts(7016)&quot;"}], "owner": {"reputation": 33, "user_id": 11173021, "user_type": "registered", "profile_image": "https://graph.facebook.com/2539131482797582/picture?type=large", "display_name": "Suvarna", "link": "https://stackoverflow.com/users/11173021/suvarna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 210, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553669864, "creation_date": 1553664305, "last_edit_date": 1553669864, "question_id": 55370325, "link": "https://stackoverflow.com/questions/55370325/how-to-import-a-library-not-published-on-npm-in-react-native", "title": "How to import a library not published on npm in react native", "body": "<p>I need to import a library \"toystars/react-native-dynamic-forms\". </p>\n\n<p>I did <code>npm install git+https://github.com/toystars/react-native-dynamic-form.git</code>. </p>\n\n<p>and in my app.js  </p>\n\n<p><code>import DynamicForm from \"react-native-dynamic-form\"</code> </p>\n\n<p>but I am getting an error</p>\n\n<blockquote>\n  <p>\"Invariant Violation: Invariant Violation: Element type is invalid:\n  expected a string (for built-in components) or a class/function (for\n  composite components) but got: undefined. You likely forgot to export\n  your component from the file it's defined in, or you might have mixed\n  up default and named imports.\"</p>\n</blockquote>\n\n<p>I am using it like this:</p>\n\n<pre><code>import DynamicForm from \"react-native-dynamic-form\" ;     \n&lt;DynamicForm\n    ref={ref =&gt; this.formRef = ref}\n    form={formeg}\n    style={styles.formContainer}/&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "edited": false, "score": 0, "creation_date": 1553662726, "post_id": 55370017, "comment_id": 97462891, "body": "No, I&#39;m not saying the error is because of that. I just noticed it. :)"}, {"owner": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "edited": false, "score": 0, "creation_date": 1553663054, "post_id": 55370017, "comment_id": 97462958, "body": "BTW, you can initialise the material inputs inside <code>ngOnInit</code> like <code>Name: [data.name],      Email: [data.EMailAddresses,[Validators.email]]</code> and get rid of the <code>[(ngModel)]</code>."}, {"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "reply_to_user": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "edited": false, "score": 0, "creation_date": 1553663352, "post_id": 55370017, "comment_id": 97463046, "body": "Actually i tried your solution i,e without using <code>[(ngModel)]</code> but still the same issue continuous,"}, {"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "reply_to_user": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "edited": false, "score": 0, "creation_date": 1553663413, "post_id": 55370017, "comment_id": 97463061, "body": "But if i make any changes in <code>Email</code> i/p field, The <code>PUT</code> operation will happen fine  and error also won&#39;t occur."}, {"owner": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "edited": false, "score": 0, "creation_date": 1553663480, "post_id": 55370017, "comment_id": 97463079, "body": "Post this <code>myService.updateContact</code> as well to see if I can help"}, {"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "reply_to_user": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "edited": false, "score": 0, "creation_date": 1553663507, "post_id": 55370017, "comment_id": 97463084, "body": "ok i will be posting soon."}, {"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "reply_to_user": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "edited": false, "score": 0, "creation_date": 1553663787, "post_id": 55370017, "comment_id": 97463164, "body": "I have given  <code>myService.updateContact</code>,Please check it @dcg"}, {"owner": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "reply_to_user": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1553663944, "post_id": 55370017, "comment_id": 97463211, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/190743/discussion-between-dcg-and-pgh\">continue this discussion in chat</a>."}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1553666324, "post_id": 55370017, "comment_id": 97463900, "body": "@PGH Check this out:<a href=\"https://stackblitz.com/edit/angular-pefydi\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-pefydi</a>"}, {"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1553668030, "post_id": 55370017, "comment_id": 97464508, "body": "Sorry it didn&#39;t worked for me.@PrashantPimpale"}], "answers": [{"tags": [], "owner": {"reputation": 462, "user_id": 5735388, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zPyiPMSXnFU/AAAAAAAAAAI/AAAAAAAAEEw/6fxW79KdpgA/photo.jpg?sz=128", "display_name": "Sumit Vekariya", "link": "https://stackoverflow.com/users/5735388/sumit-vekariya"}, "is_accepted": false, "score": -3, "last_activity_date": 1553662867, "creation_date": 1553662867, "answer_id": 55370106, "question_id": 55370017, "link": "https://stackoverflow.com/questions/55370017/to-push-single-string-to-an-array/55370106#55370106", "title": "To push single string to an array", "body": "<p>Syntactical Error is there in the form initialisation:</p>\n\n<pre><code>  public ngOnInit(): void {\n    this.updateForm = this.fb.group({\n      Name: [null],\n      Email: [null,[Validators.email],\n    });\n  }\n</code></pre>\n\n<p>in the \"Email\" form control one Square Bracket is missing!</p>\n"}, {"tags": [], "owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "is_accepted": false, "score": 0, "last_activity_date": 1553669489, "creation_date": 1553669489, "answer_id": 55371356, "question_id": 55370017, "link": "https://stackoverflow.com/questions/55370017/to-push-single-string-to-an-array/55371356#55371356", "title": "To push single string to an array", "body": "<p>I have solved my issue.Since the property <strong>EMailAddresses</strong> is an <code>array</code>, I just need to convert <strong>EMailAddresses</strong> to <code>string</code> and assign it to one variable like this:</p>\n\n<p><strong>TS</strong></p>\n\n<pre><code>public mail: string = this.data.EMailAddresses.toString();\n</code></pre>\n\n<p>and need to display in the <code>template</code> like this:</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;mat-form-field&gt;\n         &lt;input matInput [(ngModel)]=\"mail\"  placeholder=\"Email Address\"  formControlName=\"Email\"&gt;\n &lt;/mat-form-field&gt;\n</code></pre>\n\n<p>Instead of <code>[(ngModel)]=\"data.EMailAddresses\"</code> </p>\n"}], "owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1553669489, "creation_date": 1553662340, "last_edit_date": 1553663741, "question_id": 55370017, "link": "https://stackoverflow.com/questions/55370017/to-push-single-string-to-an-array", "title": "To push single string to an array", "body": "<p>I have an component called <strong>UpdateContact</strong> which is displayed in <code>dialog</code> window,This component is used to display the injected object  and will perform <strong>PUT</strong> operation of that injected object.Component Code as follows:</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;form [formGroup]=\"updateForm\"&gt;\n    &lt;mat-form-field&gt;\n        &lt;input matInput [(ngModel)]=\"data.name\"   placeholder=\"Name\"  formControlName=\"Name\"&gt;\n    &lt;/mat-form-field&gt;\n    &lt;mat-form-field&gt;\n        &lt;input matInput [(ngModel)]=\"data.EMailAddresses\"  placeholder=\"Email Address\"  formControlName=\"Email\"&gt;\n        &lt;mat-error *ngIf=\"updateForm.controls.email.hasError('email')&gt;\n             Please enter a valid email address\n        &lt;/mat-error&gt;\n    &lt;/mat-form-field&gt;\n    &lt;button mat-flat-button (click)=\"onClick()\"&gt;Save&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>TS</strong></p>\n\n<pre><code>import { Component, Inject,  OnInit} from '@angular/core';\nimport {\n  FormBuilder,\n  FormControl,\n  FormGroup,\n  Validators,\n} from '@angular/forms';\nimport {MAT_DIALOG_DATA, MatDialog, MatDialogRef, } from '@angular/material';\nimport { IContact } from 'src/app/models';\nimport { MyService } from 'src/app/services/my.service';\n\n@Component({\n  selector: 'app-update-contact',\n  templateUrl: './update-contact.component.html',\n  styleUrls: ['./update-contact.component.scss'],\n})\nexport class UpdateContactComponent implements OnInit {\n  public updateForm: FormGroup;\n  public someContact: IContact\n\n  constructor(@Inject(MAT_DIALOG_DATA) public data: IContact ,\n              private fb: FormBuilder,\n              public dialog: MatDialog,\n              public myService: MyService,\n              ) {} \n\n  public ngOnInit(): void {\n    this.updateForm = this.fb.group({\n      Name: [null],\n      Email: [null,[Validators.email]],\n    });\n  }\n\n  public onClick() {\n    this.someContact= this.updateForm.value;\n    this.someContact.EMailAddresses = [];\n    this.someContact.EMailAddresses.push(this.updateForm.value.Email);  \n    this.myService.updateContact(this.someContact, this.someContact.Id);\n  }\n\n}\n</code></pre>\n\n<p><strong>Contacts JSON</strong></p>\n\n<pre><code>{\n  \"Id\": \"\",\n  \"Name\": \"\",\n  \"EMailAddresses\": [\"\"],\n},\n</code></pre>\n\n<p><strong>Services file</strong></p>\n\n<pre><code>import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\nimport {IContact } from 'src/app/models';\n\n@Injectable({\n  providedIn: 'root',\n})\n\nexport class MyService {\n\n private  baseUrl : string = '......api Url.....';\n\n constructor(private http: HttpClient) {\n}\n\npublic  updateContact(Id : string): Observable&lt;object&gt; {\n  const apiUrl: string = `${this.baseUrl}/contacts/${Id}`;\n\n  return this.http.put(apiUrl, contact);\n}\n\n}\n</code></pre>\n\n<p>Now when i hit the <strong>SAVE</strong> button without making any changes in <strong>Email</strong> input field,I am unable to perform <strong>PUT</strong> operation and getting this error. </p>\n\n<p><a href=\"https://i.stack.imgur.com/SFdiQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SFdiQ.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["html", "typescript"], "comments": [{"owner": {"reputation": 581, "user_id": 6693783, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6mGP5R993ak/AAAAAAAAAAI/AAAAAAAAGqo/BANYLiTzdds/photo.jpg?sz=128", "display_name": "Bathri Nathan", "link": "https://stackoverflow.com/users/6693783/bathri-nathan"}, "edited": false, "score": 0, "creation_date": 1553661520, "post_id": 55369816, "comment_id": 97462607, "body": "check my answer bro it might help you!!"}, {"owner": {"reputation": 2908, "user_id": 804575, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7b68f43b0bb8a099d2fc6810a9f4a15b?s=128&d=identicon&r=PG", "display_name": "Ralph Ritoch", "link": "https://stackoverflow.com/users/804575/ralph-ritoch"}, "edited": false, "score": 0, "creation_date": 1553713661, "post_id": 55369816, "comment_id": 97491468, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/49013217/how-to-render-string-with-html-tags-in-angular-4\">How to render string with html tags in Angular 4+?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1553660974, "creation_date": 1553660974, "answer_id": 55369834, "question_id": 55369816, "link": "https://stackoverflow.com/questions/55369816/how-to-use-display-string-with-html-tags-in-typescript/55369834#55369834", "title": "How to use/display string with html tags in typescript", "body": "<blockquote>\n  <p><code>Observed output This is my &lt;u&gt;test content&lt;/u&gt; here</code> </p>\n</blockquote>\n\n<p>Whatever method you are using is <em>escaping</em> the html e.g. <code>&lt;</code> / <code>&gt;</code> etc. </p>\n\n<h1>Fix</h1>\n\n<p>You need some version of <em>set HTML</em>. </p>\n\n<p>e.g. React : <code>dangerouslySetInnerHTML</code>, Pure JS: Use <code>innerHTML</code> </p>\n\n<h1>Warning</h1>\n\n<p>Be careful, setting html exposes your app to XSS : <a href=\"https://en.wikipedia.org/wiki/Cross-site_scripting\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Cross-site_scripting</a></p>\n"}, {"tags": [], "owner": {"reputation": 581, "user_id": 6693783, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6mGP5R993ak/AAAAAAAAAAI/AAAAAAAAGqo/BANYLiTzdds/photo.jpg?sz=128", "display_name": "Bathri Nathan", "link": "https://stackoverflow.com/users/6693783/bathri-nathan"}, "is_accepted": false, "score": 1, "last_activity_date": 1553661118, "creation_date": 1553661118, "answer_id": 55369851, "question_id": 55369816, "link": "https://stackoverflow.com/questions/55369816/how-to-use-display-string-with-html-tags-in-typescript/55369851#55369851", "title": "How to use/display string with html tags in typescript", "body": "<p>check the below code it might help you.use inner html</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.getElementById(\"name\").innerHTML=\"This is &lt;u&gt;my test&lt;/u&gt; sample\"</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"name\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>.</p>\n"}, {"tags": [], "owner": {"reputation": 3397, "user_id": 11127383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FulXc.jpg?s=128&g=1", "display_name": "Daniel Danielecki", "link": "https://stackoverflow.com/users/11127383/daniel-danielecki"}, "is_accepted": false, "score": 0, "last_activity_date": 1589103849, "creation_date": 1589103849, "answer_id": 61709946, "question_id": 55369816, "link": "https://stackoverflow.com/questions/55369816/how-to-use-display-string-with-html-tags-in-typescript/61709946#61709946", "title": "How to use/display string with html tags in typescript", "body": "<pre><code>&lt;div [innerHTML]=\"bannerText\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>However, keep in mind Angular's <a href=\"https://angular.io/guide/security\" rel=\"nofollow noreferrer\">docs about security</a>, which says <code>Angular recognizes the value as unsafe and automatically sanitizes it, which removes the &lt;script&gt; tag but keeps safe content such as the &lt;b&gt; element.</code>.</p>\n"}], "owner": {"reputation": 41, "user_id": 4751115, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VEzHjJ8W1WE/AAAAAAAAAAI/AAAAAAAAAAA/AMml5PCzbcw/photo.jpg?sz=128", "display_name": "shravya", "link": "https://stackoverflow.com/users/4751115/shravya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3613, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1589103849, "creation_date": 1553660811, "last_edit_date": 1553661190, "question_id": 55369816, "link": "https://stackoverflow.com/questions/55369816/how-to-use-display-string-with-html-tags-in-typescript", "title": "How to use/display string with html tags in typescript", "body": "<pre><code>var bannerText = stringFormat(\"This is my {0}test content{1} here\", \"&lt;b&gt;\", \"&lt;/b&gt;\");\n&lt;div&gt;\n    &lt;p&gt; {para1}&lt;/p&gt;\n    &lt;p&gt; {bannerText}&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>html tags gets printed instead of applying them as text</p>\n\n<p>Observed output</p>\n\n<blockquote>\n  <p>This is my &lt;b&gt;test content&lt;/b&gt; here</p>\n</blockquote>\n\n<p>Needed output</p>\n\n<blockquote>\n  <p>This is my <strong>test content</strong> here</p>\n</blockquote>\n"}, {"tags": ["typescript", "types", "union"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1553697624, "post_id": 55369168, "comment_id": 97481940, "body": "This doesn&#39;t appear to be a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (it relies on thirty-party typings you haven&#39;t included here); so any answer I give would just be a guess.  My guess is that the typings for <code>Queue.process</code> are <a href=\"https://www.typescriptlang.org/docs/handbook/functions.html#overloads\" rel=\"nofollow noreferrer\">overloads</a> and none of the overloads accept the full union type.  That&#39;s a <a href=\"https://github.com/Microsoft/TypeScript/issues/14107\" rel=\"nofollow noreferrer\">known issue</a>.  There are ways to deal with that, but I don&#39;t want to spend too much time on a guess about what your issue is.  Good luck!"}], "owner": {"reputation": 71, "user_id": 449828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3203ed0e608d3bfae1e31282e629ffa2?s=128&d=identicon&r=PG", "display_name": "Peter Fitzgibbons", "link": "https://stackoverflow.com/users/449828/peter-fitzgibbons"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1553655896, "creation_date": 1553655896, "question_id": 55369168, "link": "https://stackoverflow.com/questions/55369168/wrapped-union-fails-with-argument-of-type-is-not-assignable-to-type-w", "title": "Wrapped union fails with &quot;Argument of type... is not assignable to type... &quot; - Why?", "body": "<p>I am trying to wrap a Bull.js queue inside my own class (for encapsulation and further processing, etc).  When wrapping the Bull Queue instance, tsc fails with Argument of type 'string | ((job: Job, done: Function) => void) | ((job: Job) => Promise)' is not assignable to parameter of type 'string'</p>\n\n<p>Compile works if I remove \"|string\" from the wrapping method's <code>callback:</code> signature.</p>\n\n<p>The actual code: (this fails)</p>\n\n<pre><code>    async process(name: string, callback: ((job: Job&lt;any&gt;, done: Function) =&gt; void) | ((job: Job&lt;any&gt;) =&gt; Promise&lt;any&gt;) | string, concurrency = 1): Promise&lt;void&gt; {\n        await this.queue.process(name, concurrency, callback)\n    }\n</code></pre>\n\n<p>This works:</p>\n\n<pre><code>    async process(name: string, callback: ((job: Job&lt;any&gt;, done: Function) =&gt; void) | ((job: Job&lt;any&gt;) =&gt; Promise&lt;any&gt;), concurrency = 1): Promise&lt;void&gt; {\n        await this.queue.process(name, concurrency, callback)\n    }\n</code></pre>\n\n<p>By intuition, I expected that wrapping a function and mirroring it's paremeter signatures would obviously compile.</p>\n\n<p>Why did my \"fix\" work?  And why did the original fail?  Your answer will help me understand union types!</p>\n"}, {"tags": ["angular", "typescript", "angular-material", "parent-child", "mat-card"], "comments": [{"owner": {"reputation": 13, "user_id": 11020757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0050f191a0edad1609531d07ba16c09?s=128&d=identicon&r=PG&f=1", "display_name": "Baktha", "link": "https://stackoverflow.com/users/11020757/baktha"}, "edited": false, "score": 0, "creation_date": 1553658113, "post_id": 55368908, "comment_id": 97461918, "body": "someone help me with the above"}], "answers": [{"comments": [{"owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "edited": false, "score": 0, "creation_date": 1553660631, "post_id": 55369776, "comment_id": 97462400, "body": "It can be set with ngClass, [class], ::ng-deep, in style.css, etc, etc... in case you need a class, not just color change"}, {"owner": {"reputation": 13, "user_id": 11020757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0050f191a0edad1609531d07ba16c09?s=128&d=identicon&r=PG&f=1", "display_name": "Baktha", "link": "https://stackoverflow.com/users/11020757/baktha"}, "edited": false, "score": 0, "creation_date": 1553668498, "post_id": 55369776, "comment_id": 97464686, "body": "thanks. The above one is working. But I am using 20 check boxes. So i am writing this for all the check boxes. Is there any way to add in typescript as &quot;if checkbox is checked&quot; the mat card background needs to be changed."}, {"owner": {"reputation": 13, "user_id": 11020757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0050f191a0edad1609531d07ba16c09?s=128&d=identicon&r=PG&f=1", "display_name": "Baktha", "link": "https://stackoverflow.com/users/11020757/baktha"}, "edited": false, "score": 0, "creation_date": 1553668979, "post_id": 55369776, "comment_id": 97464875, "body": "Also the above one is working in check boxes. Also i need to add this for radio buttons. for radio buttons it is not working"}, {"owner": {"reputation": 13, "user_id": 11020757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0050f191a0edad1609531d07ba16c09?s=128&d=identicon&r=PG&f=1", "display_name": "Baktha", "link": "https://stackoverflow.com/users/11020757/baktha"}, "edited": false, "score": 0, "creation_date": 1553669162, "post_id": 55369776, "comment_id": 97464941, "body": "please check in the above link(I have added screenshot)"}, {"owner": {"reputation": 13, "user_id": 11020757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0050f191a0edad1609531d07ba16c09?s=128&d=identicon&r=PG&f=1", "display_name": "Baktha", "link": "https://stackoverflow.com/users/11020757/baktha"}, "edited": false, "score": 0, "creation_date": 1553669194, "post_id": 55369776, "comment_id": 97464957, "body": "You can have an array for the ngmodel, put everything in ngFo  Could you please give me an example"}, {"owner": {"reputation": 13, "user_id": 11020757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0050f191a0edad1609531d07ba16c09?s=128&d=identicon&r=PG&f=1", "display_name": "Baktha", "link": "https://stackoverflow.com/users/11020757/baktha"}, "edited": false, "score": 0, "creation_date": 1553669453, "post_id": 55369776, "comment_id": 97465074, "body": "Here you go : stackblitz.com/edit/angular-2qatha-qurq9a \u2013  Let me try the above one. Thanks a lot"}, {"owner": {"reputation": 13, "user_id": 11020757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0050f191a0edad1609531d07ba16c09?s=128&d=identicon&r=PG&f=1", "display_name": "Baktha", "link": "https://stackoverflow.com/users/11020757/baktha"}, "edited": false, "score": 0, "creation_date": 1553669557, "post_id": 55369776, "comment_id": 97465134, "body": "And i suppose to change icon for each card and mat card content also"}, {"owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "reply_to_user": {"reputation": 13, "user_id": 11020757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0050f191a0edad1609531d07ba16c09?s=128&d=identicon&r=PG&f=1", "display_name": "Baktha", "link": "https://stackoverflow.com/users/11020757/baktha"}, "edited": false, "score": 0, "creation_date": 1553681093, "post_id": 55369776, "comment_id": 97471104, "body": "If you just need to change color on click, no need for a checkbox or radio button, check out this: <a href=\"https://stackblitz.com/edit/angular-2qatha-gebkpz\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-2qatha-gebkpz</a>"}], "tags": [], "owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "is_accepted": true, "score": 0, "last_activity_date": 1553660542, "creation_date": 1553660542, "answer_id": 55369776, "question_id": 55368908, "link": "https://stackoverflow.com/questions/55368908/how-to-add-css-to-the-mat-card-background-when-mat-checkbox-is-checked-which-is/55369776#55369776", "title": "How to add css to the mat-card background when mat-checkbox is checked which is inside the mat-card-content?", "body": "<p>There many ways to set the background. One of the ways that seems simple and comes to my mind is to use ngStyle, but you need to set an ngModel on the checkbox, or something similar so you can check its state:</p>\n\n<pre><code>&lt;mat-card [ngStyle]=\"{'background': myModel? 'blue':'red'}\" class=\"checkboxselect text-center little-profile workspacetype\"&gt;\n    &lt;mat-card-content&gt;\n        &lt;mat-checkbox [(ngModel)]=\"myModel\" class=\"multipleselect\"&gt;&lt;/mat-checkbox&gt;\n        &lt;div class=\"workspacetypeimage\"&gt;\n            &lt;i class=\"bgi bgi-certificate\"&gt;&lt;/i&gt;\n        &lt;/div&gt;\n        &lt;mat-card-actions&gt;\n            &lt;h4 class=\"m-t-0 m-b-0 typetitle\"&gt;Bidder Dashboard&lt;/h4&gt;\n        &lt;/mat-card-actions&gt;\n    &lt;/mat-card-content&gt;\n&lt;/mat-card&gt;\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-2qatha\" rel=\"nofollow noreferrer\">demo</a></p>\n"}], "owner": {"reputation": 13, "user_id": 11020757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0050f191a0edad1609531d07ba16c09?s=128&d=identicon&r=PG&f=1", "display_name": "Baktha", "link": "https://stackoverflow.com/users/11020757/baktha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1338, "favorite_count": 0, "accepted_answer_id": 55369776, "answer_count": 1, "score": 1, "last_activity_date": 1553684206, "creation_date": 1553653926, "last_edit_date": 1553684206, "question_id": 55368908, "link": "https://stackoverflow.com/questions/55368908/how-to-add-css-to-the-mat-card-background-when-mat-checkbox-is-checked-which-is", "title": "How to add css to the mat-card background when mat-checkbox is checked which is inside the mat-card-content?", "body": "<p>I need to change the mat-card background color when the mat-checkbox is checked which is inside the <code>mat-card-content</code></p>\n\n<pre><code>&lt;mat-card class=\"checkboxselect text-center little-profile workspacetype\"&gt;\n    &lt;mat-card-content&gt;\n        &lt;mat-checkbox class=\"multipleselect\"&gt;&lt;/mat-checkbox&gt;\n        &lt;div class=\"workspacetypeimage\"&gt;\n            &lt;i class=\"bgi bgi-certificate\"&gt;&lt;/i&gt;\n        &lt;/div&gt;\n        &lt;mat-card-actions&gt;\n            &lt;h4 class=\"m-t-0 m-b-0 typetitle\"&gt;Bidder Dashboard&lt;/h4&gt;\n        &lt;/mat-card-actions&gt;\n    &lt;/mat-card-content&gt;\n&lt;/mat-card&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 2181, "user_id": 7866526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8h0z4.jpg?s=128&g=1", "display_name": "Suleka_28", "link": "https://stackoverflow.com/users/7866526/suleka-28"}, "edited": false, "score": 0, "creation_date": 1553659035, "post_id": 55368988, "comment_id": 97462085, "body": "draw function is in another component"}, {"owner": {"reputation": 736, "user_id": 5479334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/923df64b7257020cce597ebbe4ef9b29?s=128&d=identicon&r=PG&f=1", "display_name": "Liam Fleming", "link": "https://stackoverflow.com/users/5479334/liam-fleming"}, "reply_to_user": {"reputation": 2181, "user_id": 7866526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8h0z4.jpg?s=128&g=1", "display_name": "Suleka_28", "link": "https://stackoverflow.com/users/7866526/suleka-28"}, "edited": false, "score": 0, "creation_date": 1553676579, "post_id": 55368988, "comment_id": 97468321, "body": "From the code you have supplied, here&#39;s what I understand:  You have a UiComponent and a NeuralcanvasComponent (with a draw() function) and a NnConfigService.  1) You update the UiComponent&#39;s slider, which calls the NnConfigService. 2) The NeuralcanvasComponent is subscribed to the NnConfigService and so it receives the updated values and assignes the local variables (e.g. hidden1Nodes)   And you want to call the draw() function when the slider values change?  Is that the case? If so, then the suggestion I made should work. If not, let me know what I&#39;m missing..."}], "tags": [], "owner": {"reputation": 736, "user_id": 5479334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/923df64b7257020cce597ebbe4ef9b29?s=128&d=identicon&r=PG&f=1", "display_name": "Liam Fleming", "link": "https://stackoverflow.com/users/5479334/liam-fleming"}, "is_accepted": false, "score": 0, "last_activity_date": 1553654468, "creation_date": 1553654468, "answer_id": 55368988, "question_id": 55368766, "link": "https://stackoverflow.com/questions/55368766/call-function-of-one-component-every-time-a-set-of-values-change-in-another-comp/55368988#55368988", "title": "Call function of one component every time a set of values change in another component in Angular 7", "body": "<p>From the limited code supplied, it appears that you are already subscribing to the data changes and updating the component data.. is that correct?</p>\n\n<p>e.g.: </p>\n\n<pre><code>this.nnService.currenthidden1Nodes.subscribe(h1 =&gt; this.hidden1Nodes =h1 );\n</code></pre>\n\n<p>If so, all you need to so is call the draw() method inside of the subscription: </p>\n\n<pre><code>this.nnService.currenthidden1Nodes.subscribe(h1 =&gt; {this.hidden1Nodes =h1; this.draw(); } );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7459225, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cirAQIC6_Lk/AAAAAAAAAAI/AAAAAAAADJI/78cR4ND_Nt8/photo.jpg?sz=128", "display_name": "Douglas C&#226;ndido", "link": "https://stackoverflow.com/users/7459225/douglas-c%c3%a2ndido"}, "is_accepted": false, "score": 0, "last_activity_date": 1553656230, "creation_date": 1553656230, "answer_id": 55369209, "question_id": 55368766, "link": "https://stackoverflow.com/questions/55368766/call-function-of-one-component-every-time-a-set-of-values-change-in-another-comp/55369209#55369209", "title": "Call function of one component every time a set of values change in another component in Angular 7", "body": "<p>If the atual element is a component children, you could emit an event to parent component.\nSee: <a href=\"https://angular.io/api/core/EventEmitter\" rel=\"nofollow noreferrer\">EventEmitter</a></p>\n"}], "owner": {"reputation": 2181, "user_id": 7866526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8h0z4.jpg?s=128&g=1", "display_name": "Suleka_28", "link": "https://stackoverflow.com/users/7866526/suleka-28"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1553656230, "creation_date": 1553652724, "question_id": 55368766, "link": "https://stackoverflow.com/questions/55368766/call-function-of-one-component-every-time-a-set-of-values-change-in-another-comp", "title": "Call function of one component every time a set of values change in another component in Angular 7", "body": "<p>I have a set of dropdowns and sliders which are implemented in one component. And I have a neural net visualization in another component. I pass 6 of the values obtained from several sliders and dropdowns to the neural net component via a service as it needs that data to draw the neural net. So what I want to do is from the values that I'm sending, every time the user changes the value of at least one drop down or slider I want to call the draw function to draw the neural net with the latest set of values. How can I do this in angular 7? I referred <a href=\"https://stackoverflow.com/questions/53827707/call-function-of-other-component-on-event-in-one-component-in-angular-6\">this</a> but it is not what I need. I need the same function to fire if when each required drop downs or slider change its value. </p>\n\n<p>shown below is a sample of my ui component, every time each of these changes I want to call a function in another component:</p>\n\n<pre><code>&lt;div class=\"list-group list-group-flush\"&gt;\n          &lt;a href=\"#\" class=\"list-group-item list-group-item-action bg-light\"&gt;Hidden Layers&lt;br&gt;\n              &lt;select [(ngModel)]=\"hiddenlayer\" (change)=\"selecHiddenLayers($event.target.value);\"&gt;\n                    &lt;option value=0&gt;0&lt;/option&gt;  \n                    &lt;option value=1&gt;1&lt;/option&gt;\n                  &lt;option value=2&gt;2&lt;/option&gt;\n                  &lt;option value=3&gt;3&lt;/option&gt;\n              &lt;/select&gt;\n          &lt;/a&gt;\n          &lt;a *ngIf=\"hidden1\" href=\"#\" class=\"list-group-item list-group-item-action bg-light\"&gt;Hidden Layer1 Nodes&lt;br&gt;\n            &lt;select (change)=\"selecHidden1Nodes($event.target.value);\"&gt;\n                &lt;option value=1&gt;0&lt;/option&gt; \n                &lt;option value=1&gt;1&lt;/option&gt;\n                &lt;option value=2&gt;2&lt;/option&gt;\n                &lt;option value=3&gt;3&lt;/option&gt;\n                &lt;option value=3&gt;4&lt;/option&gt;\n                &lt;option value=3&gt;5&lt;/option&gt;\n            &lt;/select&gt;\n        &lt;/a&gt;\n        &lt;a *ngIf=\"hidden2\" href=\"#\" class=\"list-group-item list-group-item-action bg-light\"&gt;Hidden Layer2 Nodes&lt;br&gt;\n            &lt;select (change)=\"selecHidden2Nodes($event.target.value);\"&gt; \n                &lt;option value=1&gt;0&lt;/option&gt; \n                &lt;option value=1&gt;1&lt;/option&gt;\n                &lt;option value=2&gt;2&lt;/option&gt;\n                &lt;option value=3&gt;3&lt;/option&gt;\n                &lt;option value=3&gt;4&lt;/option&gt;\n                &lt;option value=3&gt;5&lt;/option&gt;\n            &lt;/select&gt;\n        &lt;/a&gt;\n        &lt;a *ngIf=\"hidden3\" href=\"#\" class=\"list-group-item list-group-item-action bg-light\"&gt;Hidden Layer3 Nodes&lt;br&gt;\n            &lt;select (change)=\"selecHidden3Nodes($event.target.value);\"&gt;  \n                &lt;option value=1&gt;0&lt;/option&gt; \n                &lt;option value=1&gt;1&lt;/option&gt;\n                &lt;option value=2&gt;2&lt;/option&gt;\n                &lt;option value=3&gt;3&lt;/option&gt;\n                &lt;option value=3&gt;4&lt;/option&gt;\n                &lt;option value=3&gt;5&lt;/option&gt;\n            &lt;/select&gt;\n        &lt;/a&gt;\n</code></pre>\n\n<p>Shown below is the component that has the function I need to call. The function I need to call is the \"draw()\" function:</p>\n\n<pre><code>import { Component, OnInit,Input } from '@angular/core';\nimport {select,schemeCategory10,scaleOrdinal} from 'd3';\nimport { NnConfigService } from '../../services/nn-config.service';\n\ndeclare var $:any;\n\n@Component({\n  selector: 'app-neuralcanvas',\n  templateUrl: './neuralcanvas.component.html',\n  styleUrls: ['./neuralcanvas.component.css']\n})\nexport class NeuralcanvasComponent implements OnInit {\n\ninputLayerHeight;\noutputLayerHeight;\nhiddenLayersDepths;\nhiddenLayersCount;\nnodeSize = 17;\nwidth :any = 500 ;\nheight = 400;\nhidden1Nodes;\nhidden2Nodes;\nhidden3Nodes;\n\n  constructor(private nnService:NnConfigService) { }\n\n  ngOnInit() {\n    this.nnService.currenthiddenlayers.subscribe(hidden =&gt; this.hiddenLayersCount = hidden);\n      this.nnService.currenthidden1Nodes.subscribe(h1 =&gt; this.hidden1Nodes =h1 );\n      this.nnService.currenthidden2Nodes.subscribe(h2 =&gt; this.hidden2Nodes=h2);\n      this.nnService.currenthidden3Nodes.subscribe(h3 =&gt; this.hidden3Nodes=h3);\n      this.nnService.currentoutputNodes.subscribe(out =&gt; this.outputLayerHeight=out);\n      this.nnService.currentnnNodes.subscribe(nn =&gt; this.inputLayerHeight = nn); \n      this.hiddenLayersDepths = [this.hidden1Nodes,this.hidden2Nodes,this.hidden3Nodes]\n\n    this.draw()\n  }\n\n\n\n  draw() {}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["angular", "typescript", "unit-testing", "karma-runner"], "comments": [{"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1553650240, "post_id": 55368332, "comment_id": 97460396, "body": "I believe that karma will use a different tsconfig out of the box ... can you try updating src/app/tsconfig.test.json?"}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "edited": false, "score": 0, "creation_date": 1553650325, "post_id": 55368332, "comment_id": 97460417, "body": "Does that error show when you run ng build?"}, {"owner": {"reputation": 2505, "user_id": 1016388, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/1cdf8c6b6753650e204defdf60ac31eb?s=128&d=identicon&r=PG", "display_name": "ZZZ", "link": "https://stackoverflow.com/users/1016388/zzz"}, "reply_to_user": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1553660508, "post_id": 55368332, "comment_id": 97462369, "body": "@Explosion Pills, while Angular.json does point to tsconfig.test.json which does not define lib and target, I believe karma also use tsconfig.json which is apparently shared by both app and spec, since changing tsconfig.json for lib and target does fix the problem. However, I think the offending codes is fine in all versions of JavaScript engine semantically. Do you think so? I just like to find out the cause of the problem, and the suspects are: TS compiler, Karma, Angular compiler, or the offending codes. Which one do you think?"}], "answers": [{"comments": [{"owner": {"reputation": 2505, "user_id": 1016388, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/1cdf8c6b6753650e204defdf60ac31eb?s=128&d=identicon&r=PG", "display_name": "ZZZ", "link": "https://stackoverflow.com/users/1016388/zzz"}, "edited": false, "score": 0, "creation_date": 1553662127, "post_id": 55369807, "comment_id": 97462756, "body": "I am aware of this. However, the offending code looks fine in all versions of JavaScript. Do you think so? I like to find out the cause of the problem, and the suspects are: Type Script compiler, Karma, Angular compiler, or the offending codes. Which one do you think? since compiling with <code>ng build --base-href --aot</code> has no problem. My guess is that AOT compiling is smarter through checking the detection code, while TS compiler used by Karma is not so smart. However, I am not sure."}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 2505, "user_id": 1016388, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/1cdf8c6b6753650e204defdf60ac31eb?s=128&d=identicon&r=PG", "display_name": "ZZZ", "link": "https://stackoverflow.com/users/1016388/zzz"}, "edited": false, "score": 0, "creation_date": 1553733719, "post_id": 55369807, "comment_id": 97498835, "body": "` However, the offending code looks fine in all versions of JavaScript` No. It is not fine in anything before ES2017 e.g. ES2016. That said, it can be polyfiled \ud83c\udf39"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1553660767, "creation_date": 1553660767, "answer_id": 55369807, "question_id": 55368332, "link": "https://stackoverflow.com/questions/55368332/karma-or-typescript-compiler-told-me-property-padstart-does-not-exist-on-type/55369807#55369807", "title": "Karma or TypeScript compiler told me Property &#39;padStart&#39; does not exist on type &#39;String&#39;", "body": "<blockquote>\n  <p>If in tsconfig.json I have lib=es2017 and target=es2015, the compiling of ng test is fine</p>\n</blockquote>\n\n<p>This is the correct fix. <code>padStart</code> only came with <code>ES2017</code> : <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/padStart\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/padStart</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/8gGcc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8gGcc.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 2505, "user_id": 1016388, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/1cdf8c6b6753650e204defdf60ac31eb?s=128&d=identicon&r=PG", "display_name": "ZZZ", "link": "https://stackoverflow.com/users/1016388/zzz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 318, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553660767, "creation_date": 1553648748, "last_edit_date": 1553660588, "question_id": 55368332, "link": "https://stackoverflow.com/questions/55368332/karma-or-typescript-compiler-told-me-property-padstart-does-not-exist-on-type", "title": "Karma or TypeScript compiler told me Property &#39;padStart&#39; does not exist on type &#39;String&#39;", "body": "<p>I have a Angular 7 project with with lib=es2015 and target=es2015, and Angular-CLI compiling and the app running are very much OK. However, when running unit tests with <code>ng test</code>, Karma or TypeScript compiler told me Property 'padStart' does not exist on type 'String'</p>\n\n<pre><code>27 03 2019 10:40:57.424:INFO [karma-server]: Karma v4.0.1 server started at http://0.0.0.0:9876/\n27 03 2019 10:40:57.424:INFO [launcher]: Launching browsers Chrome with concurrency unlimited\n27 03 2019 10:40:57.429:INFO [launcher]: Starting browser Chrome\nERROR in node_modules/@azure/storage-blob/lib/utils/utils.common.ts(300,24): error TS2339: Property 'padStart' does not exist on type 'String'.\nnode_modules/@azure/storage-blob/lib/utils/utils.common.ts(301,26): error TS2339: Property 'padStart' does not exist on type 'string'.\n</code></pre>\n\n<p>When checking the offending codes as indicated in the error message:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export function padStart(\n  currentString: string,\n  targetLength: number,\n  padString: string = \" \"\n): string {\n  if (String.prototype.padStart) {\n    return currentString.padStart(targetLength, padString);\n  }\n...\n</code></pre>\n\n<p>I find that the last 2 lines of codes are looking perfectly fine to me, since I understand that padStart is defined in es2017, so the programmers of the lib had crafted those. If in tsconfig.json I have lib=es2017 and target=es2015, the compiling of ng test is fine.</p>\n\n<p>I like to find out the cause of the problem, and the suspects are: Type Script compiler, Karma, Angular compiler, or the offending codes. Which one do you think?</p>\n"}, {"tags": ["reactjs", "typescript", "react-router-dom"], "owner": {"reputation": 41, "user_id": 11263317, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vhXtTvIIl1s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfgEKpZ6X-AQOG1-0At7C4g68ZJ3A/mo/photo.jpg?sz=128", "display_name": "Colby Gilbert", "link": "https://stackoverflow.com/users/11263317/colby-gilbert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 359, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1561051388, "creation_date": 1553648507, "last_edit_date": 1553706254, "question_id": 55368307, "link": "https://stackoverflow.com/questions/55368307/react-typescript-route-component-field-type-error", "title": "React/Typescript Route component field type error", "body": "<p>Trying to set up a browser router with some routes but typescript is throwing a type error on the components passed and won't compile.</p>\n\n<p>I am using react typescript with the below code:</p>\n\n<pre><code>import { BrowserRouter, Switch, Route } from \"react-router-dom\";\n\nexport interface AppProps {}\n\nconst App: React.SFC&lt;AppProps&gt; = () =&gt; {\n  return (\n    &lt;BrowserRouter&gt;\n      &lt;div className=\"App\"&gt;\n        &lt;Switch&gt;\n          &lt;Route exact path=\"/\" component={Home} /&gt;\n          &lt;Route exact path=\"/feed\" component={Feed} /&gt;\n          &lt;Route path=\"/project/:projectid\" component={Project} /&gt;\n          &lt;Route path=\"/user/:userid\" component={Profile} /&gt;\n        &lt;/Switch&gt;\n      &lt;/div&gt;\n    &lt;/BrowserRouter&gt;\n  );\n};\nexport default App;\n</code></pre>\n\n<p>throws this error on each of the component fields of the  </p>\n\n<pre><code>Type 'typeof import(\"/Users/colbygilbert/Documents/EOS/DevelopX/frontend/src/components/home/Home\")' is not assignable to type 'ComponentClass&lt;any, any&gt; | FunctionComponent&lt;any&gt; | ComponentClass&lt;RouteComponentProps&lt;any, StaticContext, any&gt;, any&gt; | FunctionComponent&lt;RouteComponentProps&lt;any, StaticContext, any&gt;&gt; | undefined'.\n  Type 'typeof import(\"/Users/colbygilbert/Documents/EOS/DevelopX/frontend/src/components/home/Home\")' is not assignable to type 'FunctionComponent&lt;RouteComponentProps&lt;any, StaticContext, any&gt;&gt;'.\n    Type 'typeof import(\"/Users/colbygilbert/Documents/EOS/DevelopX/frontend/src/components/home/Home\")' provides no match for the signature '(props: RouteComponentProps&lt;any, StaticContext, any&gt; &amp; { children?: ReactNode; }, context?: any): ReactElement&lt;any, string | ((props: any) =&gt; ReactElement&lt;any, string | ... | (new (props: any) =&gt; Component&lt;any, any, any&gt;)&gt; | null) | (new (props: any) =&gt; Component&lt;...&gt;)&gt; | null'.ts(2322)\nindex.d.ts(87, 3): The expected type comes from property 'component' which is declared here on type 'IntrinsicAttributes &amp; IntrinsicClassAttributes&lt;Route&lt;RouteProps&gt;&gt; &amp; Readonly&lt;{ children?: ReactNode; }&gt; &amp; Readonly&lt;RouteProps&gt;'\n\n</code></pre>\n\n<p>Here is an example of my Home component:</p>\n\n<pre><code>export interface HomeProps extends RouteComponentProps&lt;{}&gt;{\n  auth: Auth;\n}\n\n\nconst Home: React.SFC&lt;HomeProps&gt; = ({ auth }) =&gt; {\n  if (auth.uid) return &lt;Redirect to=\"/feed\" /&gt;;\n  return (\n    &lt;div&gt;\n      &lt;Nav size=\"bg\" /&gt;\n      &lt;div className=\"c_header__spacing\"&gt;\n        &lt;Vision /&gt;\n        &lt;Demo /&gt;\n        &lt;Featurette /&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  );\n};\n\nconst mapStateToProps = (state: any) =&gt; {\n  return {\n    auth: state.firebase.auth\n  };\n};\n\nexport default connect(mapStateToProps)(Home);\n</code></pre>\n\n<p>Current dependencies:</p>\n\n<pre><code>\"dependencies\": {\n\n    \"@types/react-router\": \"^4.4.5\",\n    \"@types/react-router-dom\": \"^4.3.1\",\n    \"@types/react-router-redux\": \"^5.0.18\",\n    \"react-router\": \"^5.0.0\",\n    \"react-router-dom\": \"^5.0.0\",\n    \"react-router-redux\": \"^4.0.8\",\n    \"typescript\": \"3.3.3\"\n  }\n</code></pre>\n\n<p>Any help or pointers would be greatly appreciated</p>\n"}, {"tags": ["angular", "typescript", "sorting", "angular7"], "comments": [{"owner": {"reputation": 5357, "user_id": 1030169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93b40f413b34463de22c81d35b4c1930?s=128&d=identicon&r=PG", "display_name": "jmoerdyk", "link": "https://stackoverflow.com/users/1030169/jmoerdyk"}, "edited": false, "score": 1, "creation_date": 1553635717, "post_id": 55366401, "comment_id": 97456460, "body": "The code contains a chained <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator\" rel=\"nofollow noreferrer\">conditional (or ternary) operator</a>"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 8234024, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155441101639860/picture?type=large", "display_name": "Rod Flores", "link": "https://stackoverflow.com/users/8234024/rod-flores"}, "edited": false, "score": 0, "creation_date": 1553694505, "post_id": 55366647, "comment_id": 97479756, "body": "this is super helpful in the way you translated it to regular statements. Thank you"}], "tags": [], "owner": {"reputation": 3805, "user_id": 258113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dc1bfb6258deeee46ec76b29047f84e?s=128&d=identicon&r=PG", "display_name": "Matt Tester", "link": "https://stackoverflow.com/users/258113/matt-tester"}, "is_accepted": false, "score": 2, "last_activity_date": 1553636878, "last_edit_date": 1553636878, "creation_date": 1553636566, "answer_id": 55366647, "question_id": 55366401, "link": "https://stackoverflow.com/questions/55366401/what-does-and-mean-in-this-batch-of-code-for-filtering-and-sorting/55366647#55366647", "title": "What does &#39; ? &#39; and &#39; : &#39; mean in this batch of code for filtering and sorting?", "body": "<p>It is confusing looking code (and so not recommended), but it is a series of ternary operators. This is exactly the same as an <code>if</code>/<code>else</code> statement, just written in a short-hand way.</p>\n\n<p>So it looks confusing because the <code>if</code> (the <code>?</code>) and <code>else</code> (the <code>:</code>) of the first ternary operator is itself another ternary operator!</p>\n\n<pre class=\"lang-js prettyprint-override\"><code> return this.sortValue === 'ascend'\n          ? a[this.sortName!] &gt; b[this.sortName!]\n            ? 1\n            : -1\n          : b[this.sortName!] &gt; a[this.sortName!]\n          ? 1\n          : -1\n</code></pre>\n\n<p>Is the same as:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>if (this.sortValue === 'ascend') {\n  if(a[this.sortName!] &gt; b[this.sortName!]) {\n    return 1;\n  } else {\n    return -1;\n  }\n} else {\n  if (b[this.sortName!] &gt; a[this.sortName!]) {\n    return 1;\n  } else {\n    return -1;\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1592, "user_id": 11016183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/usqVz.jpg?s=128&g=1", "display_name": "Seba Cherian", "link": "https://stackoverflow.com/users/11016183/seba-cherian"}, "is_accepted": false, "score": 0, "last_activity_date": 1553657572, "creation_date": 1553657572, "answer_id": 55369369, "question_id": 55366401, "link": "https://stackoverflow.com/questions/55366401/what-does-and-mean-in-this-batch-of-code-for-filtering-and-sorting/55369369#55369369", "title": "What does &#39; ? &#39; and &#39; : &#39; mean in this batch of code for filtering and sorting?", "body": "<p>It is known as Conditional Operator (also called ternary operator).</p>\n\n<p>It has the form of: condition ? value-if-true : value-if-false\nThink of the ? as \"then\" and : as \"else\".</p>\n\n<p>For example, </p>\n\n<pre><code>return this.sortValue === 'ascend'\n          ? ( a[this.sortName!] &gt; b[this.sortName!] ? 1 : -1 )\n          : (b[this.sortName!] &gt; a[this.sortName!] ? 1 : -1)\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 8234024, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155441101639860/picture?type=large", "display_name": "Rod Flores", "link": "https://stackoverflow.com/users/8234024/rod-flores"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "closed_date": 1553697679, "answer_count": 2, "score": -1, "last_activity_date": 1553657572, "creation_date": 1553635421, "last_edit_date": 1553645509, "question_id": 55366401, "link": "https://stackoverflow.com/questions/55366401/what-does-and-mean-in-this-batch-of-code-for-filtering-and-sorting", "closed_reason": "Duplicate", "title": "What does &#39; ? &#39; and &#39; : &#39; mean in this batch of code for filtering and sorting?", "body": "<p>I read about ternary operators but both the filter data and sort data is still kind of confusing. I might be understanding it wrong but it seems to be a sort of IF.</p>\n\n<p>This is from the ZORRO framework. Section - Filter and Sorter</p>\n\n<p><a href=\"https://ng.ant.design/components/table/en#components-table-demo-virtual\" rel=\"nofollow noreferrer\">https://ng.ant.design/components/table/en#components-table-demo-virtual</a></p>\n\n<pre><code>search(): void {\n    /** filter data **/\n    const filterFunc = (item: { name: string; age: number; address: string }) =&gt;\n      (this.searchAddress ? item.address.indexOf(this.searchAddress) !== -1 : true) &amp;&amp;\n      (this.listOfSearchName.length ? this.listOfSearchName.some(name =&gt; item.name.indexOf(name) !== -1) : true);\n    const data = this.listOfData.filter(item =&gt; filterFunc(item));\n    console.log(data);\n    /** sort data **/\n    if (this.sortName &amp;&amp; this.sortValue) {\n      this.listOfDisplayData = data.sort((a, b) =&gt;\n        this.sortValue === 'ascend'\n          ? a[this.sortName!] &gt; b[this.sortName!]\n            ? 1\n            : -1\n          : b[this.sortName!] &gt; a[this.sortName!]\n          ? 1\n          : -1\n      );\n    } else {\n      this.listOfDisplayData = data;\n    }\n  }\n\n</code></pre>\n"}, {"tags": ["angular", "typescript", "material-design", "nativescript", "angular2-nativescript"], "comments": [{"owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "edited": false, "score": 0, "creation_date": 1553638814, "post_id": 55366370, "comment_id": 97457606, "body": "What you see in the attachment is <code>CoordinatorLayout</code> which is not implemented in {N} yet, you already seen the Github feature request. The parallax example might work if you use a complete custom view instead of default ActionBar (Toolbar)."}], "owner": {"reputation": 3190, "user_id": 4551323, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e877dee94c068df58fe28b260b7fe46f?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.wiseguy", "link": "https://stackoverflow.com/users/4551323/mr-wiseguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 206, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1553635260, "creation_date": 1553635260, "question_id": 55366370, "link": "https://stackoverflow.com/questions/55366370/nativescript-hide-toolbar-on-list-scroll-keep-tabs", "title": "Nativescript hide toolbar on list scroll - Keep tabs", "body": "<p>I am creating a Nativescript application (<a href=\"https://www.npmjs.com/package/nativescript-angular\" rel=\"nofollow noreferrer\">nativescript-angular</a> <code>v7.2.2</code>) with Angular (<code>v7.2.10</code>). I am trying to create a native parallax animation to hide the toolbar when scrolling down and show it again when scrolling up. </p>\n\n<p>To better explain what I want, below is the behavior described by Material design: \n<a href=\"https://i.stack.imgur.com/DNh7Q.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DNh7Q.gif\" alt=\"Material scroll\"></a></p>\n\n<hr>\n\n<p><strong>Default behavior</strong></p>\n\n<p>By default Nativescript <a href=\"https://github.com/NativeScript/NativeScript/issues/4908\" rel=\"nofollow noreferrer\">does not implement such animations</a>. It is just a static toolbar and tabs (<a href=\"https://play.nativescript.org/?template=play-ng&amp;id=tJuOve\" rel=\"nofollow noreferrer\">see this example</a>). </p>\n\n<hr>\n\n<p><strong>What I want</strong></p>\n\n<p>That brings me to what I want to achieve, is there a way in Typescript to implement the effect above? I know of a one NativeScript parallax library, <a href=\"https://github.com/JoshDSommer/nativescript-parallax\" rel=\"nofollow noreferrer\">nativescript-parallax</a>, but I don't really understand how this fixes my problem or how I should implement it. </p>\n\n<p>There is also the <a href=\"https://play.nativescript.org/?template=play-ng&amp;id=b9hyJh&amp;v=2\" rel=\"nofollow noreferrer\">custom implementation</a>, but that doesn't make much sense to me. What is the best way I could update my example and implement such behavior? Since I don't think NativeScript is going to support it anytime soon.  </p>\n"}, {"tags": ["typescript", "firebase", "google-cloud-functions"], "comments": [{"owner": {"reputation": 568, "user_id": 7700187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/632e7ee2cd211a86fc911f276e2bad72?s=128&d=identicon&r=PG&f=1", "display_name": "James T", "link": "https://stackoverflow.com/users/7700187/james-t"}, "edited": false, "score": 0, "creation_date": 1553661178, "post_id": 55366192, "comment_id": 97462525, "body": "Are you using the same <code>tsconfig.json</code> when you run and when you try to push?"}, {"owner": {"reputation": 6297, "user_id": 2139691, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ce43c3942da5a6d63a81ef76f0c109ba?s=128&d=identicon&r=PG", "display_name": "Ricardo", "link": "https://stackoverflow.com/users/2139691/ricardo"}, "reply_to_user": {"reputation": 568, "user_id": 7700187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/632e7ee2cd211a86fc911f276e2bad72?s=128&d=identicon&r=PG&f=1", "display_name": "James T", "link": "https://stackoverflow.com/users/7700187/james-t"}, "edited": false, "score": 0, "creation_date": 1553680012, "post_id": 55366192, "comment_id": 97470432, "body": "I didn&#39;t know even exist a tsconfig.json. Well I&#39;ve just read about it and I&#39;ve updated with the firebase functions/tsconfig.json. Answering your question: I&#39;m not using the same tsconfig.json, actually, after run tsc MessageTemplate.ts i don&#39;t have any tsconfig.json in the same folder."}], "answers": [{"tags": [], "owner": {"reputation": 568, "user_id": 7700187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/632e7ee2cd211a86fc911f276e2bad72?s=128&d=identicon&r=PG&f=1", "display_name": "James T", "link": "https://stackoverflow.com/users/7700187/james-t"}, "is_accepted": false, "score": 0, "last_activity_date": 1553823493, "creation_date": 1553823493, "answer_id": 55409323, "question_id": 55366192, "link": "https://stackoverflow.com/questions/55366192/firebase-and-typescript-argument-of-type-is-not-assignable-to-parameter-o/55409323#55409323", "title": "firebase and typescript - Argument of type &#39;{}&#39; is not assignable to parameter of type &#39;Message&#39;", "body": "<p>When you run locally, since you are not using a <code>tsconfig.json</code>, the compiler is using less strict settings than when you try to push, where there is a <code>tsconfig.json</code> with some of the available strict options enabled, i.e. <code>strict</code>, <code>noImplicitReturns</code> and <code>noUnusedLocals</code>.</p>\n\n<p>Here is the documentation for <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html\" rel=\"nofollow noreferrer\"><code>tsconfig.json</code></a> and <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">the compiler options</a></p>\n\n<p>To show the <code>strict</code> errors in the files that you successfully compiled locally, I have added them to a single file in a <a href=\"https://www.typescriptlang.org/play/#src=export%20enum%20SenderType%20%7B%0D%0A%20%20%20%20token%20%3D%20%22token%22%2C%0D%0A%20%20%20%20topic%20%3D%20%22topic%22%2C%0D%0A%20%20%20%20condition%20%3D%20%22condition%22%0D%0A%7D%0D%0A%0D%0Aexport%20class%20PNotification%20%7B%0D%0A%0D%0A%20%20%20%20title%3A%20string%0D%0A%20%20%20%20body%3A%20string%0D%0A%0D%0A%20%20%20%20constructor(title%3A%20string%2C%20body%3A%20string)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.title%20%3D%20title%0D%0A%20%20%20%20%20%20%20%20this.body%20%3D%20body%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20toJSON()%3A%20any%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%22title%22%3A%20this.title%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%22body%22%3A%20this.body%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20isNullOrUndefined(data%3A%20any)%20%7B%0D%0A%20%20%20%20return%20data%20%3D%3D%3D%20null%20%7C%7C%20typeof%20data%20%3D%3D%3D%20&#39;undefined&#39;%0D%0A%7D%0D%0A%0D%0Aexport%20function%20buildPushNotification(type%3A%20SenderType%2C%20to%3A%20string%2C%20notification%3F%3A%20PNotification%2C%20data%3F%3A%20any)%20%7B%0D%0A%0D%0A%20%20%20%20let%20payload%20%3D%20%7B%7D%0D%0A%0D%0A%20%20%20%20if%20(!isNullOrUndefined(notification))%20%7B%0D%0A%20%20%20%20%20%20%20%20payload%5B%22notification%22%5D%20%3D%20notification.toJSON()%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20if%20(!isNullOrUndefined(data))%20%7B%0D%0A%20%20%20%20%20%20%20%20payload%5B%22data%22%5D%20%3D%20data%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20payload%5Btype%5D%20%3D%20to%0D%0A%0D%0A%20%20%20%20return%20payload%0D%0A%7D%0D%0A%0D%0Alet%20notification%20%3D%20new%20PNotification(%22title%201%22%2C%20%22body%201%22)%0D%0Alet%20data%20%3D%20%7B%0D%0A%20%20%20%20id%3A%201024%2C%0D%0A%20%20%20%20name%3A%20%22Juan%22%0D%0A%7D%0D%0A%0D%0Alet%20to%20%3D%20%22AISA143f43533d32d3243d546fwf234%22%0D%0Alet%20topic%20%3D%20%22global%22%0D%0A%0D%0Alet%20payload1%20%3D%20buildPushNotification(SenderType.token%2C%20to%2C%20notification)%0D%0Aconsole.log(payload1)\" rel=\"nofollow noreferrer\">TypeScript Playground</a>. If you click the <code>Options</code> button and enable the strict options you will see the errors.</p>\n\n<p>Here is <a href=\"https://www.typescriptlang.org/play/#src=export%20enum%20SenderType%20%7B%0D%0A%20%20%20%20token%20%3D%20%22token%22%2C%0D%0A%20%20%20%20topic%20%3D%20%22topic%22%2C%0D%0A%20%20%20%20condition%20%3D%20%22condition%22%0D%0A%7D%0D%0A%0D%0Aexport%20class%20PNotification%20%7B%0D%0A%0D%0A%20%20%20%20title%3A%20string%0D%0A%20%20%20%20body%3A%20string%0D%0A%0D%0A%20%20%20%20constructor(title%3A%20string%2C%20body%3A%20string)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.title%20%3D%20title%0D%0A%20%20%20%20%20%20%20%20this.body%20%3D%20body%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20toJSON()%3A%20any%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%22title%22%3A%20this.title%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%22body%22%3A%20this.body%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20isNullOrUndefined(data%3A%20any)%20%7B%0D%0A%20%20%20%20return%20data%20%3D%3D%3D%20null%20%7C%7C%20typeof%20data%20%3D%3D%3D%20&#39;undefined&#39;%0D%0A%7D%0D%0A%0D%0Aexport%20function%20buildPushNotification(type%3A%20SenderType%2C%20to%3A%20string%2C%20notification%3F%3A%20PNotification%2C%20data%3F%3A%20any)%20%7B%0D%0A%20%20%20%20interface%20Payload%20%7B%0D%0A%20%20%20%20%20%20%20%20notification%3F%3A%20any%0D%0A%20%20%20%20%20%20%20%20data%3F%3A%20any%0D%0A%20%20%20%20%20%20%20%20token%3F%3A%20string%0D%0A%20%20%20%20%20%20%20%20topic%3F%3A%20string%0D%0A%20%20%20%20%20%20%20%20condition%3F%3A%20string%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%20%20%20%20let%20payload%3A%20Payload%20%3D%20%7B%7D%0D%0A%0D%0A%20%20%20%20if%20(!isNullOrUndefined(notification))%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(notification%20instanceof%20PNotification)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20payload.notification%20%3D%20notification.toJSON()%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20if%20(!isNullOrUndefined(data))%20%7B%0D%0A%20%20%20%20%20%20%20%20payload%5B%22data%22%5D%20%3D%20data%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20payload%5Btype%5D%20%3D%20to%0D%0A%0D%0A%20%20%20%20return%20payload%0D%0A%7D%0D%0A%0D%0Alet%20notification%20%3D%20new%20PNotification(%22title%201%22%2C%20%22body%201%22)%0D%0Alet%20data%20%3D%20%7B%0D%0A%20%20%20%20id%3A%201024%2C%0D%0A%20%20%20%20name%3A%20%22Juan%22%0D%0A%7D%0D%0A%0D%0Alet%20to%20%3D%20%22AISA143f43533d32d3243d546fwf234%22%0D%0Alet%20topic%20%3D%20%22global%22%0D%0A%0D%0Alet%20payload1%20%3D%20buildPushNotification(SenderType.token%2C%20to%2C%20notification)%0D%0Aconsole.log(payload1)\" rel=\"nofollow noreferrer\">another Playground with the errors removed</a>.</p>\n\n<p>To fix the <code>payload[...]</code> left-hand-side errors, I added an interface:</p>\n\n<pre><code>interface Payload {\n    notification?: any\n    data?: any\n    token?: string\n    topic?: string\n    condition?: string\n}\n</code></pre>\n\n<p>This defines the types for each of the possible properties, which are all optional, as they include <code>?</code>.</p>\n\n<p>The <code>payload</code> declaration now becomes:</p>\n\n<pre><code>let payload: Payload = {}\n</code></pre>\n\n<p>As <code>payload</code> and its properties have now been typed, the <code>noImplicitAny</code> errors have been fixed.</p>\n\n<p>To fix the <code>notification.toJSON</code> right-hand-side error, I added a type guard, to ensure that <code>notification</code> is the right type:</p>\n\n<pre><code>if (!isNullOrUndefined(notification)) {\n    if (notification instanceof PNotification) {\n        payload.notification = notification.toJSON()\n    }\n}\n</code></pre>\n\n<p>You may wish to change the <code>isNullOrUndefined</code> function instead of using this. If so, you could use a user-defined type guard (see <a href=\"https://github.com/Microsoft/TypeScript-Handbook/blob/master/pages/Advanced%20Types.md#user-defined-type-guards\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://basarat.gitbooks.io/typescript/docs/types/typeGuard.html#user-defined-type-guards\" rel=\"nofollow noreferrer\">here</a>).</p>\n\n<p>To fix the other errors, I would recommend using vscode or similar, with the same <code>tsconfig.json</code> as you have on Firebase, so you can see the errors locally and be shown potential fixes in the editor. Alternatively, if you prefer and are able to, you could remove the strict settings from the Firebase <code>tsconfig.json</code>.</p>\n"}], "owner": {"reputation": 6297, "user_id": 2139691, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ce43c3942da5a6d63a81ef76f0c109ba?s=128&d=identicon&r=PG", "display_name": "Ricardo", "link": "https://stackoverflow.com/users/2139691/ricardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1148, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1553823493, "creation_date": 1553634404, "last_edit_date": 1553679838, "question_id": 55366192, "link": "https://stackoverflow.com/questions/55366192/firebase-and-typescript-argument-of-type-is-not-assignable-to-parameter-o", "title": "firebase and typescript - Argument of type &#39;{}&#39; is not assignable to parameter of type &#39;Message&#39;", "body": "<p>It's my first time using typescript, so I've decided use it with Firebase.\nBut I'm facing errors that I'm not able to understand.</p>\n\n<p>I wrote two files <code>MessageTemplate.ts</code> and <code>test.ts</code> \nAfter run them everything works fine.</p>\n\n<p>But when I'm trying to push(firebase deploy --only functions) them to firebase-functions I have the following errors:</p>\n\n<pre><code>&gt; tsc\n\nsrc/index.ts:18:25 - error TS2345: Argument of type '{}' is not assignable to parameter of type 'Message'.\n  Property 'condition' is missing in type '{}' but required in type 'ConditionMessage'.\n\n18  admin.messaging().send(payload)\n                           ~~~~~~~\n\n  node_modules/firebase-admin/lib/index.d.ts:410:3\n    410   condition: string;\n          ~~~~~~~~~\n    'condition' is declared here.\n\nsrc/index.ts:19:11 - error TS7006: Parameter 'fcm_response' implicitly has an 'any' type.\n\n19    .then((fcm_response) =&gt; {\n             ~~~~~~~~~~~~\n\nsrc/index.ts:24:12 - error TS7006: Parameter 'error' implicitly has an 'any' type.\n\n24    .catch((error) =&gt; {\n              ~~~~~\n\nsrc/MessageTemplate.ts:37:5 - error TS7017: Element implicitly has an 'any' type because type '{}' has no index signature.\n\n37     payload[\"notification\"] = notification.toJSON()\n       ~~~~~~~~~~~~~~~~~~~~~~~\n\nsrc/MessageTemplate.ts:37:31 - error TS2532: Object is possibly 'undefined'.\n\n37     payload[\"notification\"] = notification.toJSON()\n                                 ~~~~~~~~~~~~\n\nsrc/MessageTemplate.ts:41:5 - error TS7017: Element implicitly has an 'any' type because type '{}' has no index signature.\n\n41     payload[\"data\"] = data\n       ~~~~~~~~~~~~~~~\n\nsrc/MessageTemplate.ts:44:3 - error TS7017: Element implicitly has an 'any' type because type '{}' has no index signature.\n\n44   payload[type] = to\n     ~~~~~~~~~~~~~\n\n\nFound 7 errors.\n\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 2\nnpm ERR! functions@ build: `tsc`\nnpm ERR! Exit status 2\nnpm ERR! \nnpm ERR! Failed at the functions@ build script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /somepath/_logs/2019-03-26T21_04_51_135Z-debug.log\n\nError: functions predeploy error: Command terminated with non-zero exit code2\n</code></pre>\n\n<p>functions/src/index.ts</p>\n\n<pre><code>import { buildPushNotification, SenderType } from \"./MessageTemplate\";\nimport * as functions from 'firebase-functions';\nimport * as admin from'firebase-admin';\nadmin.initializeApp();\n\n\n\nexport const sendMessage = functions.https.onRequest((request, response) =&gt; {\n    // The topic name can be optionally prefixed with \"/topics/\".\n    let topic = 'global'\n    let data = {\n        id:1024,\n        name:\"Juan\"\n    }\n    let payload = buildPushNotification(SenderType.topic, topic, undefined, data)\n\n    // Send a message to devices subscribed to the provided topic.\n    admin.messaging().send(payload)\n      .then((fcm_response) =&gt; {\n        // Response is a message ID string.\n        console.log('Successfully sent message:', fcm_response);\n        response.send(\"Successfully sent message\");\n      })\n      .catch((error) =&gt; {\n        console.log('Error sending message:', error);\n        response.send(\"Error\");\n      });\n});\n</code></pre>\n\n<p>MessageTemplate.ts</p>\n\n<pre><code>export enum SenderType {\n  token=\"token\", \n  topic=\"topic\", \n  condition=\"condition\"\n}\n\nexport class PNotification {\n\n    title:string\n    body:string\n\n    constructor(title:string, body:string) { \n      this.title = title \n      this.body = body\n  }\n\n  toJSON():any {\n    return {\n      \"title\":this.title,\n      \"body\":this.body\n    }\n  } \n}\n\nfunction isNullOrUndefined(data:any){\n  return data === null || typeof data === 'undefined' \n}\n\nexport function buildPushNotification(type:SenderType, to:string, notification?:PNotification, data?:any){\n\n  let payload = {}\n\n  if(!isNullOrUndefined(notification)) {\n    payload[\"notification\"] = notification.toJSON()\n  }\n\n  if(!isNullOrUndefined(data)) {\n    payload[\"data\"] = data\n  }\n\n  payload[type] = to\n\n  return payload\n}\n</code></pre>\n\n<p>test.ts</p>\n\n<pre><code>import { PNotification, buildPushNotification, SenderType } from \"./MessageTemplate\";\n\n\n\nlet notification = new PNotification(\"title 1\", \"body 1\")\nlet data = {\n    id:1024,\n    name:\"Juan\"\n}\n\nlet to = \"AISA143f43533d32d3243d546fwf234\"\nlet topic = \"global\"\n\nlet payload1 = buildPushNotification(SenderType.token, to, notification)\nconsole.log(payload1)\n</code></pre>\n\n<p>functions/tsconfig.json</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"module\": \"commonjs\",\n    \"noImplicitReturns\": true,\n    \"noUnusedLocals\": true,\n    \"outDir\": \"lib\",\n    \"sourceMap\": true,\n    \"strict\": true,\n    \"target\": \"es2015\"\n  },\n  \"compileOnSave\": true,\n  \"include\": [\n    \"src\"\n  ]\n}\n</code></pre>\n"}, {"tags": ["json", "typescript", "variables", "stringify"], "owner": {"reputation": 743, "user_id": 3660293, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/60e07a8b666f4913156db42104108382?s=128&d=identicon&r=PG&f=1", "display_name": "Y_Lakdime", "link": "https://stackoverflow.com/users/3660293/y-lakdime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1553633742, "creation_date": 1553633742, "question_id": 55366054, "link": "https://stackoverflow.com/questions/55366054/error-message-unresolved-variable-or-type-json-stringify", "title": "Error message: Unresolved variable or type JSON (stringify)?", "body": "<p>I got this really unexpected error message when trying to do:</p>\n\n<pre><code>localStorage.setItem('user', JSON.stringify(user));\n\nUnresolved variable or type JSON\n</code></pre>\n\n<p>Im working in an Angular Typescript file. I have looked on the internet for a solution but nothing really helped. Thanks in advance!</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "nestjs"], "answers": [{"comments": [{"owner": {"reputation": 3198, "user_id": 122309, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7c4a502869d7e826f2cc42b5d0e52138?s=128&d=identicon&r=PG", "display_name": "nurikabe", "link": "https://stackoverflow.com/users/122309/nurikabe"}, "edited": false, "score": 1, "creation_date": 1553686086, "post_id": 55366343, "comment_id": 97474178, "body": "Great answer. I wasn&#39;t aware of <code>useFactory</code> in providers."}, {"owner": {"reputation": 283, "user_id": 8319722, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/5HbvU.jpg?s=128&g=1", "display_name": "jackabe", "link": "https://stackoverflow.com/users/8319722/jackabe"}, "edited": false, "score": 3, "creation_date": 1562768380, "post_id": 55366343, "comment_id": 100481803, "body": "What is MockType?"}, {"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "reply_to_user": {"reputation": 283, "user_id": 8319722, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/5HbvU.jpg?s=128&g=1", "display_name": "jackabe", "link": "https://stackoverflow.com/users/8319722/jackabe"}, "edited": false, "score": 1, "creation_date": 1562777569, "post_id": 55366343, "comment_id": 100486898, "body": "@jackabe see the last paragraph. It&#39;s a type definition that&#39;s supposed to make using jest mocks more comfortable but it has a couple of limitations."}, {"owner": {"reputation": 770, "user_id": 539783, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/3a8fad7264f977f820feea58bdd9775b?s=128&d=identicon&r=PG", "display_name": "Daniel Flores", "link": "https://stackoverflow.com/users/539783/daniel-flores"}, "edited": false, "score": 2, "creation_date": 1566675508, "post_id": 55366343, "comment_id": 101733702, "body": "In my case, I need to add <code>await</code> before <code>service.findUser(user.id)</code>"}, {"owner": {"reputation": 1420, "user_id": 3826549, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/aq0sY.jpg?s=128&g=1", "display_name": "SalahAdDin", "link": "https://stackoverflow.com/users/3826549/salahaddin"}, "edited": false, "score": 0, "creation_date": 1613909654, "post_id": 55366343, "comment_id": 117216288, "body": "I&#39;, getting an error for <code>MongoRepository</code>: <code>Type &#39;Mock&lt;{ create: Mock&lt;any, any&gt;; deleteOne: Mock&lt;any, [entity: any]&gt;; findOne: Mock&lt;any, [entity: any]&gt;; save: Mock&lt;any, [entity: any]&gt;; update: Mock&lt;any, any&gt;; }, []&gt;&#39; is not assignable to type &#39;() =&gt; MockType&lt;MongoRepository&lt;any&gt;&gt;&#39;.       Type &#39;{ create: Mock&lt;any, any&gt;; deleteOne: Mock&lt;any, [entity: any]&gt;; findOne: Mock&lt;any, [entity: any]&gt;; save: Mock&lt;any, [entity: any]&gt;; update: Mock&lt;any, any&gt;; }&#39; is missing the following properties from type &#39;MockType&lt;MongoRepository&lt;any&gt;&gt;&#39;: manager, query, createQueryBuilder, find, and 54 more.</code>."}, {"owner": {"reputation": 1420, "user_id": 3826549, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/aq0sY.jpg?s=128&g=1", "display_name": "SalahAdDin", "link": "https://stackoverflow.com/users/3826549/salahaddin"}, "edited": false, "score": 1, "creation_date": 1613910005, "post_id": 55366343, "comment_id": 117216365, "body": "I found the solution and I edited the answer."}], "tags": [], "owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "is_accepted": true, "score": 51, "last_activity_date": 1613911153, "last_edit_date": 1613911153, "creation_date": 1553635131, "answer_id": 55366343, "question_id": 55366037, "link": "https://stackoverflow.com/questions/55366037/inject-typeorm-repository-into-nestjs-service-for-mock-data-testing/55366343#55366343", "title": "Inject TypeORM repository into NestJS service for mock data testing", "body": "<p>Let's assume we have a very simple service that finds a user entity by id:</p>\n<pre><code>export class UserService {\n  constructor(@InjectRepository(UserEntity) private userRepository: Repository&lt;UserEntity&gt;) {\n  }\n\n  async findUser(userId: string): Promise&lt;UserEntity&gt; {\n    return this.userRepository.findOne(userId);\n  }\n}\n</code></pre>\n<p>Then you can mock the <code>UserRepository</code> with the following mock factory (add more methods as needed):</p>\n<pre><code>// @ts-ignore\nexport const repositoryMockFactory: () =&gt; MockType&lt;Repository&lt;any&gt;&gt; = jest.fn(() =&gt; ({\n  findOne: jest.fn(entity =&gt; entity),\n  // ...\n}));\n</code></pre>\n<p>Using a factory ensures that a new mock is used for every test.</p>\n<pre><code>describe('UserService', () =&gt; {\n  let service: UserService;\n  let repositoryMock: MockType&lt;Repository&lt;UserEntity&gt;&gt;;\n\n  beforeEach(async () =&gt; {\n    const module: TestingModule = await Test.createTestingModule({\n      providers: [\n        UserService,\n        // Provide your mock instead of the actual repository\n        { provide: getRepositoryToken(UserEntity), useFactory: repositoryMockFactory },\n      ],\n    }).compile();\n    service = module.get&lt;UserService&gt;(UserService);\n    repositoryMock = module.get(getRepositoryToken(UserEntity));\n  });\n\n  it('should find a user', async () =&gt; {\n    const user = {name: 'Alni', id: '123'};\n    // Now you can control the return value of your mock's methods\n    repositoryMock.findOne.mockReturnValue(user);\n    expect(service.findUser(user.id)).toEqual(user);\n    // And make assertions on how often and with what params your mock's methods are called\n    expect(repositoryMock.findOne).toHaveBeenCalledWith(user.id);\n  });\n});\n</code></pre>\n<p>For type safety and comfort you can use the following typing for your (partial) mocks (far from perfect, there might be a better solution when jest itself starts using typescript in the upcoming major releases):</p>\n<pre><code>export type MockType&lt;T&gt; = {\n  [P in keyof T]?: jest.Mock&lt;{}&gt;;\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1528, "user_id": 2539811, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e536ce6889f771db3121a6a706218601?s=128&d=identicon&r=PG", "display_name": "Vincil Bishop", "link": "https://stackoverflow.com/users/2539811/vincil-bishop"}, "is_accepted": false, "score": 4, "last_activity_date": 1560904119, "creation_date": 1560904119, "answer_id": 56658615, "question_id": 55366037, "link": "https://stackoverflow.com/questions/55366037/inject-typeorm-repository-into-nestjs-service-for-mock-data-testing/56658615#56658615", "title": "Inject TypeORM repository into NestJS service for mock data testing", "body": "<p>I also found that this worked for me:</p>\n\n<pre><code>export const mockRepository = jest.fn(() =&gt; ({\n  metadata: {\n    columns: [],\n    relations: [],\n  },\n}));\n</code></pre>\n\n<p>and</p>\n\n<pre><code>const module: TestingModule = await Test.createTestingModule({\n      providers: [{ provide: getRepositoryToken(Entity), useClass: mockRepository }],\n    }).compile();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1771, "user_id": 1457016, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/896b83a25f195dee9a77f2f23647d7de?s=128&d=identicon&r=PG", "display_name": "lokeshjain2008", "link": "https://stackoverflow.com/users/1457016/lokeshjain2008"}, "edited": false, "score": 0, "creation_date": 1575960416, "post_id": 58163804, "comment_id": 104731686, "body": "Like the approach of having a test DB. this can be further improved."}], "tags": [], "owner": {"reputation": 4265, "user_id": 2470765, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/DOj3z.jpg?s=128&g=1", "display_name": "michal.jakubeczy", "link": "https://stackoverflow.com/users/2470765/michal-jakubeczy"}, "is_accepted": false, "score": 8, "last_activity_date": 1569830777, "creation_date": 1569830777, "answer_id": 58163804, "question_id": 55366037, "link": "https://stackoverflow.com/questions/55366037/inject-typeorm-repository-into-nestjs-service-for-mock-data-testing/58163804#58163804", "title": "Inject TypeORM repository into NestJS service for mock data testing", "body": "<p>My solution uses sqlite memory database where I insert all the needed data and create schema before every test run. So each test counts with the same set of data and you do not have to mock any TypeORM methods:</p>\n\n<pre><code>import { Test, TestingModule } from \"@nestjs/testing\";\nimport { CompanyInfo } from '../../src/company-info/company-info.entity';\nimport { CompanyInfoService } from \"../../src/company-info/company-info.service\";\nimport { Repository, createConnection, getConnection, getRepository } from \"typeorm\";\nimport { getRepositoryToken } from \"@nestjs/typeorm\";\n\ndescribe('CompanyInfoService', () =&gt; {\n  let service: CompanyInfoService;\n  let repository: Repository&lt;CompanyInfo&gt;;\n  let testingModule: TestingModule;\n\n  const testConnectionName = 'testConnection';\n\n  beforeEach(async () =&gt; {\n    testingModule = await Test.createTestingModule({\n      providers: [\n        CompanyInfoService,\n        {\n          provide: getRepositoryToken(CompanyInfo),\n          useClass: Repository,\n        },\n      ],\n    }).compile();\n\n    let connection = await createConnection({\n        type: \"sqlite\",\n        database: \":memory:\",\n        dropSchema: true,\n        entities: [CompanyInfo],\n        synchronize: true,\n        logging: false,\n        name: testConnectionName\n    });    \n\n    repository = getRepository(CompanyInfo, testConnectionName);\n    service = new CompanyInfoService(repository);\n\n    return connection;\n  });\n\n  afterEach(async () =&gt; {\n    await getConnection(testConnectionName).close()\n  });  \n\n  it('should be defined', () =&gt; {\n    expect(service).toBeDefined();\n  });\n\n  it('should return company info for findOne', async () =&gt; {\n    // prepare data, insert them to be tested\n    const companyInfoData: CompanyInfo = {\n      id: 1,\n    };\n\n    await repository.insert(companyInfoData);\n\n    // test data retrieval itself\n    expect(await service.findOne()).toEqual(companyInfoData);\n  });\n});\n</code></pre>\n\n<p>I got inspired here: <a href=\"https://gist.github.com/Ciantic/be6a8b8ca27ee15e2223f642b5e01549\" rel=\"noreferrer\">https://gist.github.com/Ciantic/be6a8b8ca27ee15e2223f642b5e01549</a></p>\n"}, {"comments": [{"owner": {"reputation": 1434, "user_id": 6131368, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WQREV.jpg?s=128&g=1", "display_name": "JSEvgeny", "link": "https://stackoverflow.com/users/6131368/jsevgeny"}, "edited": false, "score": 0, "creation_date": 1616345246, "post_id": 66298268, "comment_id": 117966991, "body": "<code>autoLoadEntities</code> didn&#39;t work for me, so I used string path. Huge thanx for this easy setup example! It is also possible to create test_db with init migration."}], "tags": [], "owner": {"reputation": 8220, "user_id": 2771889, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c568088e59a0fe4e38016d2707f48fb4?s=128&d=identicon&r=PG&f=1", "display_name": "thisismydesign", "link": "https://stackoverflow.com/users/2771889/thisismydesign"}, "is_accepted": false, "score": 1, "last_activity_date": 1613902305, "last_edit_date": 1613902305, "creation_date": 1613870730, "answer_id": 66298268, "question_id": 55366037, "link": "https://stackoverflow.com/questions/55366037/inject-typeorm-repository-into-nestjs-service-for-mock-data-testing/66298268#66298268", "title": "Inject TypeORM repository into NestJS service for mock data testing", "body": "<p>You can also use a test DB and insert data there.</p>\n<pre><code>describe('EmployeesService', () =&gt; {\n  let employeesService: EmployeesService;\n  let moduleRef: TestingModule;\n\n  beforeEach(async () =&gt; {\n    moduleRef = await Test.createTestingModule({\n      imports: [\n        TypeOrmModule.forFeature([Employee]),\n        TypeOrmModule.forRoot({\n          type: 'postgres',\n          host: 'db',\n          port: 5432,\n          username: 'postgres',\n          password: '',\n          database: 'test',\n          autoLoadEntities: true,\n          synchronize: true,\n        }),\n      ],\n      providers: [EmployeesService],\n    }).compile();\n\n    employeesService = moduleRef.get&lt;EmployeesService&gt;(EmployeesService);\n  });\n\n  afterEach(async () =&gt; {\n    // Free DB connection for next test\n    await moduleRef.close();\n  });\n\n  describe('findOne', () =&gt; {\n    it('returns empty array', async () =&gt; {\n      expect(await employeesService.findAll()).toStrictEqual([]);\n    });\n  });\n});\n</code></pre>\n<p>You will need to create the DB manually, e.g. <code>psql -U postgres -c 'create database test;'</code>. Schema sync will happen automatically.</p>\n"}], "owner": {"reputation": 3198, "user_id": 122309, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7c4a502869d7e826f2cc42b5d0e52138?s=128&d=identicon&r=PG", "display_name": "nurikabe", "link": "https://stackoverflow.com/users/122309/nurikabe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22858, "favorite_count": 13, "accepted_answer_id": 55366343, "answer_count": 4, "score": 29, "last_activity_date": 1613911153, "creation_date": 1553633687, "last_edit_date": 1553635193, "question_id": 55366037, "link": "https://stackoverflow.com/questions/55366037/inject-typeorm-repository-into-nestjs-service-for-mock-data-testing", "title": "Inject TypeORM repository into NestJS service for mock data testing", "body": "<p>There's a longish discussion about how to do this in this <a href=\"https://github.com/nestjs/nest/issues/363\" rel=\"noreferrer\">issue</a>.</p>\n\n<p>I've experimented with a number of the proposed solutions but I'm not having much luck.</p>\n\n<p>Could anyone provide a concrete example of how to test a service with an injected repository and mock data?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 54181, "user_id": 9382, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/bc7b9ac824e43ce9d62bf7dfb37b6393?s=128&d=identicon&r=PG", "display_name": "AngryHacker", "link": "https://stackoverflow.com/users/9382/angryhacker"}, "edited": false, "score": 0, "creation_date": 1553710950, "post_id": 55366887, "comment_id": 97490136, "body": "Solution 1 doesn&#39;t work because because the TypeScript compiler redefines this as _this=this.  Solution 2 does work, but we are basically back to JavaScript tricks.  I was hoping TypeScript would have a more elegant solution to this problem."}], "tags": [], "owner": {"reputation": 4617, "user_id": 6600549, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CeZTt.png?s=128&g=1", "display_name": "George C.", "link": "https://stackoverflow.com/users/6600549/george-c"}, "is_accepted": true, "score": 1, "last_activity_date": 1553638036, "creation_date": 1553638036, "answer_id": 55366887, "question_id": 55365781, "link": "https://stackoverflow.com/questions/55365781/how-to-access-this-scope-and-a-private-method-in-a-jquery-callback/55366887#55366887", "title": "How to access &quot;this&quot; scope and a private method in a jquery callback?", "body": "<p>You can trigger this with this way</p>\n\n<h2>solution 1.</h2>\n\n<pre><code>class SomeClass {\n  constructor {    \n    $('.someclass').on('click', = () =&gt; {\n\n      var color = $(this).css('color');\n      console.log(color);          \n\n      this.setResponsiveClass();\n    });\n }        \n\n  private setResponsiveClass() {\n    console.log('hello')\n  }\n} \n</code></pre>\n\n<h2>solution 2.</h2>\n\n<pre><code>class SomeClass {\n  constructor {    \n\n    var self = this;  &lt;====\n\n    $('.someclass').on('click', function() {\n\n      var color = $(this).css('color');\n      console.log(color);          \n\n      self.setResponsiveClass();  &lt;====\n    });\n }        \n\n  private setResponsiveClass() {\n    console.log('hello')\n  }\n} \n</code></pre>\n\n<p>I hope this helps you \ud83d\udc4d</p>\n"}], "owner": {"reputation": 54181, "user_id": 9382, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/bc7b9ac824e43ce9d62bf7dfb37b6393?s=128&d=identicon&r=PG", "display_name": "AngryHacker", "link": "https://stackoverflow.com/users/9382/angryhacker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "accepted_answer_id": 55366887, "answer_count": 1, "score": 0, "last_activity_date": 1553638036, "creation_date": 1553632432, "question_id": 55365781, "link": "https://stackoverflow.com/questions/55365781/how-to-access-this-scope-and-a-private-method-in-a-jquery-callback", "title": "How to access &quot;this&quot; scope and a private method in a jquery callback?", "body": "<p>Consider the code below.  In the click callback I am trying to access the <code>color</code> css property of <code>this</code>.  At the same time I need to call a private method <code>setResponsiveClass</code>, which can only be achieved by using <code>this.setResponsiveClass</code>.  The code won't compile obviously because <code>this</code> is scoped to event handler.</p>\n\n<pre><code>class SomeClass {\n  constructor {    \n    $('.someclass').on('click', function() {\n\n      var color = $(this).css('color');\n      console.log(color);          \n\n      this.setResponsiveClass();\n    });\n }        \n\n  private setResponsiveClass() {\n    console.log('hello')\n  }\n}    \n</code></pre>\n\n<p>This <a href=\"https://stackoverflow.com/a/20627988/9382\">answer</a> provides ways to achieve either event scoping (by keeping the current code) or class scoping (by converting to a fat arrow syntax).</p>\n\n<p>How can I access both <code>this</code> from the event scope and the private method in the same function? </p>\n"}, {"tags": ["typescript", "type-conversion"], "comments": [{"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 0, "creation_date": 1553634131, "post_id": 55365750, "comment_id": 97455829, "body": "Run this code in your browser console..."}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 7191318, "user_type": "registered", "profile_image": "https://graph.facebook.com/1423076337717696/picture?type=large", "display_name": "Taly Hotimsky", "link": "https://stackoverflow.com/users/7191318/taly-hotimsky"}, "edited": false, "score": 0, "creation_date": 1553634527, "post_id": 55365839, "comment_id": 97456000, "body": "Total brain fart moment (ie. using the function x calling the function). Sorry about that."}], "tags": [], "owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "is_accepted": true, "score": 1, "last_activity_date": 1553632744, "creation_date": 1553632744, "answer_id": 55365839, "question_id": 55365750, "link": "https://stackoverflow.com/questions/55365750/why-typescript-throws-conversion-error-when-trying-to-perform-operation-using-a/55365839#55365839", "title": "Why Typescript throws conversion error when trying to perform operation using a function&#39;s result?", "body": "<p>This is not a bug.</p>\n\n<p><code>foo</code> and <code>bar</code> are <strong><em>functions</em></strong> that return a number. They are not numbers themselves.</p>\n\n<p><code>foo/bar</code> doesn't compile because it cannot have a numeric value! That would be like, let's say, dividing the square root by the logarithm. It doesn't make sense to do arithmetic on <em>the functions themselves</em>.</p>\n"}], "owner": {"reputation": 101, "user_id": 7191318, "user_type": "registered", "profile_image": "https://graph.facebook.com/1423076337717696/picture?type=large", "display_name": "Taly Hotimsky", "link": "https://stackoverflow.com/users/7191318/taly-hotimsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 55365839, "answer_count": 1, "score": 1, "last_activity_date": 1553632744, "creation_date": 1553632286, "question_id": 55365750, "link": "https://stackoverflow.com/questions/55365750/why-typescript-throws-conversion-error-when-trying-to-perform-operation-using-a", "title": "Why Typescript throws conversion error when trying to perform operation using a function&#39;s result?", "body": "<p>I'm trying to understand what why Typescript is throwing a type conversion n error when I'm using the results of a function as part of an arithmetic operation.</p>\n\n<p>This probably exemplifies what I'm trying to say.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let foo = ():number =&gt; 5\nlet bar = ():number =&gt; 2\nlet operation = ():number =&gt; foo/bar; // The left-hand side of an arithmetic operation must be of type 'any', 'number', 'bigint' or an enum type.\n</code></pre>\n\n<pre><code>let baz = foo()\nlet qux = bar()\nlet otherOperation = ():number =&gt; baz/qux; // no compilation errors\n</code></pre>\n\n<p>Since both <code>foo</code> and <code>bar</code> are returning type <code>number</code>, I'd assume their values could be used as part of an arithmetic operation. Why is that not the case? And how to fix it?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 5, "user_id": 4075365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886bc00c011a19753816522367164779?s=128&d=identicon&r=PG&f=1", "display_name": "codingzx6r", "link": "https://stackoverflow.com/users/4075365/codingzx6r"}, "is_accepted": false, "score": 0, "last_activity_date": 1553719487, "creation_date": 1553719487, "answer_id": 55386140, "question_id": 55365521, "link": "https://stackoverflow.com/questions/55365521/how-to-change-object-from-hard-coded-to-dynamic-properties-in-typescript/55386140#55386140", "title": "How to change object from hard-coded to dynamic properties in TypeScript", "body": "<p>I ended up changing headers to an array then dynamically added the data to the end of the array:</p>\n\n<pre><code>let headers = [];\nheaders = ['CustomerName', 'Month/Year' ]\noutput.forEach((item) =&gt; {\n    formattedItems.push ({\n    customerName:  (item.Id &gt; 0 ) ? item.Name : '',          \n    monthYear:   (item.Id &gt; 0 ) ? item.SaleDate: '',  \n  });\n});\n//Dynamically add an extra column for each product\nfor (let x = 0; itemsFormatted.length &gt; x; x++) {\n  for (let y = 0; this.products.length &gt; y; y++) {\n      if (x == 0) {\n        //Add new header name to array\n        headers.push(this.companyOnboarders[y].name);\n      }\n       //Add data for corresponding header\n       itemsFormatted[x][this.products[y].name] = this.products[y].count\n   }\n}\n\n csvData = this.exportCsv(headers, formattedItems);\n this.exportCSV(csvData, fileName);\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 4075365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886bc00c011a19753816522367164779?s=128&d=identicon&r=PG&f=1", "display_name": "codingzx6r", "link": "https://stackoverflow.com/users/4075365/codingzx6r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553719487, "creation_date": 1553631079, "question_id": 55365521, "link": "https://stackoverflow.com/questions/55365521/how-to-change-object-from-hard-coded-to-dynamic-properties-in-typescript", "title": "How to change object from hard-coded to dynamic properties in TypeScript", "body": "<p>Using TypeScript 2.2 &amp; Angular in Visual Studio MVC app, I have an object (\"headers\") that stores header names for a set of data.  The object is currently hard-coded in advanced.  I need to change this to be dynamically populated depending on the data.  Eventually, this data is exported to CSV.  Currently, the code is similar to the following:</p>\n\n<pre><code>let output = (this.allData);\nlet headers = {};\nlet formattedItems = [];\nlet csvData: any;\nlet fileName = \"file.xls\";\nheaders = {\n   customerName = \"CustomerName\",\n   productName1 = \"Product Name 1\",  \n   productName2 = \"Product Name 2\",\n   monthYear = \"Month/Year\"   \n};\noutput.forEach((item) =&gt; {\n     formattedItems.push ({\n     customerName:  (item.Id &gt; 0 ) ? item.Name : '',     \n     productName1:  (item.Id &gt; 0 ) ? item.Count : '',     \n     productName2:  (item.Id &gt; 0 ) ? item.Count : '',   \n     monthYear:   (item.Id &gt; 0 ) ? item.SaleDate: '',  \n  });\n});\ncsvData = this.exportCsv(headers, formattedItems);\nthis.exportCSV(csvData, fileName);\n</code></pre>\n\n<p>I need to revise the code to do something like the following:</p>\n\n<ol>\n<li>loop through the data</li>\n<li>first, get column names</li>\n<li><p>second, append data rows accordingly</p>\n\n<p>headers = {\n    customerName = \"CustomerName\",\n     //  if (columnName like \"Product\")\n     //  then create new column name;\n    monthYear = \"Month/Year\"<br>\n};</p></li>\n</ol>\n\n<p>The resulting file will change from having only two \"Product Name\" columns:</p>\n\n<p><strong><em>|Customer Name|  Nike Shoe |  Adidas Shoe |  Mar2012</em></strong></p>\n\n<p>to a variable number of \"Product Name\" columns:</p>\n\n<p><strong><em>|Customer Name|  Nike Shoe |  Adidas Shoe |  Reebok Shoe |  New Balance Shoe| \n   Mar2012</em></strong></p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1394, "user_id": 4801016, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/I1GfD.jpg?s=128&g=1", "display_name": "Mike Me", "link": "https://stackoverflow.com/users/4801016/mike-me"}, "edited": false, "score": 0, "creation_date": 1553634857, "post_id": 55366210, "comment_id": 97456144, "body": "The reason for this is to send the Authenticated user to his/her Dashboard and the Guest user to a landing page. Similar to sites with this type of architecture, e.g. facebook, twitter"}, {"owner": {"reputation": 2091, "user_id": 3211922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15e46ab45e217ddb23730b56bd9fc95b?s=128&d=identicon&r=PG&f=1", "display_name": "SnorreDan", "link": "https://stackoverflow.com/users/3211922/snorredan"}, "reply_to_user": {"reputation": 1394, "user_id": 4801016, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/I1GfD.jpg?s=128&g=1", "display_name": "Mike Me", "link": "https://stackoverflow.com/users/4801016/mike-me"}, "edited": false, "score": 0, "creation_date": 1553635262, "post_id": 55366210, "comment_id": 97456305, "body": "Then I think this approach will solve your issue. Just realized though that this approach will not let you do lazy-loading of the AuthModule and GuestModule, so that will be a drawback with it."}], "tags": [], "owner": {"reputation": 2091, "user_id": 3211922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15e46ab45e217ddb23730b56bd9fc95b?s=128&d=identicon&r=PG&f=1", "display_name": "SnorreDan", "link": "https://stackoverflow.com/users/3211922/snorredan"}, "is_accepted": true, "score": 2, "last_activity_date": 1553634495, "creation_date": 1553634495, "answer_id": 55366210, "question_id": 55365464, "link": "https://stackoverflow.com/questions/55365464/same-url-path-but-loading-different-components-based-on-user-role-angular/55366210#55366210", "title": "Same URL path but loading different components based on User role - Angular", "body": "<p>I don't think it is possible to have 2 components with the exact same route. I can't remember having seen a solution for that before.</p>\n\n<p>I don't know exactly why you want to accomplish this, but hopefully the following approach could help you. Create a parent component called ContainerHomeComponent that you point your route towards. In the .ts file you query the \"this.authService.isAuthenticated()\" to find if the user is authenticated and assign to a propery called \"authenticated\". In the template all you have is:</p>\n\n<pre><code>&lt;app-guest-home-component *ngIf=\"!authenticated\"&gt;&lt;/app-guest-home-component&gt;\n\n&lt;app-auth-home-component *ngIf=\"authenticated\"&gt;&lt;/app-auth-home-component&gt;\n</code></pre>\n"}], "owner": {"reputation": 1394, "user_id": 4801016, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/I1GfD.jpg?s=128&g=1", "display_name": "Mike Me", "link": "https://stackoverflow.com/users/4801016/mike-me"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1036, "favorite_count": 0, "accepted_answer_id": 55366210, "answer_count": 1, "score": 0, "last_activity_date": 1553634495, "creation_date": 1553630865, "question_id": 55365464, "link": "https://stackoverflow.com/questions/55365464/same-url-path-but-loading-different-components-based-on-user-role-angular", "title": "Same URL path but loading different components based on User role - Angular", "body": "<p>I want to have 2 components with the same route (root '/'), but loading just one based on the User's role (Guest or Authenticated). So, a home page for Guest and a home page for Authenticated with the same path.</p>\n\n<p>I tried creating a guard for Guest and a guard for Authenticated users and apply each in its component in the Routes array, like this:</p>\n\n<pre><code>export const AppRoutes: Routes = [\n    {\n        path: '',\n        component: GuestLayoutComponent,\n        canActivate: [GuestGuard],\n        children: [\n            {\n                path: '',\n                loadChildren: './guest-components/guest.module#GuestModule',\n            }\n        ],\n    },\n    {\n        path: '',\n        component: AuthLayoutComponent,\n        canActivate: [AuthGuard],\n        children: [\n            {\n                path: '',\n                loadChildren: './auth-components/auth.module#AuthModule',\n            }\n        ],\n    },\n    {\n        path: '**',\n        component: ErrComponent,\n    },\n];\n</code></pre>\n\n<p><strong>But it created a infinite loop.</strong></p>\n\n<p>Also sharing:</p>\n\n<p><strong>GuestRoutes</strong>:</p>\n\n<pre><code>export const GuestRoutes: Routes = [\n    {\n        path: '',\n        children: [\n        {\n            path: '',\n            component: GuestHomeComponent,\n        }, {\n            path: 'about-guest',\n            component: GuestAboutComponent,\n            pathMatch: 'full'\n        },\n        ]\n    }\n];\n</code></pre>\n\n<p><strong>AuthRoutes:</strong></p>\n\n<pre><code>export const AuthRoutes: Routes = [\n    {\n        path: '',\n        children: [\n        {\n            path: '',\n            component: AuthHomeComponent,\n        }, {\n            path: 'about',\n            component: AuthAboutComponent,\n            pathMatch: 'full'\n        },\n        ]\n    }\n</code></pre>\n\n<p><strong>AuthGuard:</strong></p>\n\n<pre><code>export class AuthGuard implements CanActivate {\nconstructor(private authService: AuthService, private router: Router) {}\n\n    canActivate(route: ActivatedRouteSnapshot,\n                state: RouterStateSnapshot): Observable&lt;boolean&gt; | Promise&lt;boolean&gt; | boolean {\n        return this.authService.isAuthenticated()\n        .then(\n            (authenticated: boolean) =&gt; {\n            if (authenticated) {\n                return true;\n            } else {\n                this.router.navigate(['/']);\n                return false;\n            }\n            }\n        );\n    }\n}\n</code></pre>\n\n<p><strong>GuestGuard:</strong></p>\n\n<pre><code>export class GuestGuard implements CanActivate {\nconstructor(private authService: AuthService, private router: Router) {}\n\n    canActivate(route: ActivatedRouteSnapshot,\n                state: RouterStateSnapshot): Observable&lt;boolean&gt; | Promise&lt;boolean&gt; | boolean {\n        return this.authService.isAuthenticated()\n        .then(\n            (authenticated: boolean) =&gt; {\n            if (authenticated) {\n                this.router.navigate(['/']);\n                return false;\n            } else {\n                return true;\n            }\n            }\n        );\n    }\n}\n</code></pre>\n\n<p>Please find the <a href=\"https://stackblitz.com/github/mmm2306/onepathtwocomponents\" rel=\"nofollow noreferrer\">link to the demo</a>. </p>\n\n<p>How can I achieve this? I would appreciate any help.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "jestjs"], "answers": [{"tags": [], "owner": {"reputation": 28635, "user_id": 10149510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qVO7k.jpg?s=128&g=1", "display_name": "Brian Adams", "link": "https://stackoverflow.com/users/10149510/brian-adams"}, "is_accepted": true, "score": 2, "last_activity_date": 1553654501, "creation_date": 1553654501, "answer_id": 55368993, "question_id": 55365287, "link": "https://stackoverflow.com/questions/55365287/calling-prop-callback-in-react-test-renderer-doesnt-update-hooks/55368993#55368993", "title": "Calling prop callback in react test renderer doesn&#39;t update hooks", "body": "\n\n<p>It looks like the issue is that the state doesn't update <em>during</em> an <code>act</code> function, it only updates <em>after the <code>act</code> completes</em>.</p>\n\n<p>Here is a simple example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import React, { useState } from 'react';\nimport TestRenderer, { act } from 'react-test-renderer';\n\nfunction Example(props) {\n  const [count, setCount] = useState(0);\n  return (\n    &lt;div&gt;\n      &lt;p&gt;{count}&lt;/p&gt;\n      &lt;button onClick={() =&gt; setCount(count + 1)} data-test-id=\"increment\"&gt;\n        Increment\n      &lt;/button&gt;\n      &lt;button onClick={() =&gt; props.submit(count)} data-test-id=\"submit\"&gt;\n        Submit\n      &lt;/button&gt;\n    &lt;/div&gt;\n  );\n}\n\ntest('Example', () =&gt; {\n  const submitSpy = jest.fn();\n  const rendered = TestRenderer.create(&lt;Example submit={submitSpy} /&gt;);\n\n  act(() =&gt; {\n    rendered.root.findByProps({ 'data-test-id': 'increment' }).props.onClick();  // increment\n    rendered.root.findByProps({ 'data-test-id': 'submit' }).props.onClick();  // submit\n    expect(rendered.root.findByType('p').props.children).toBe(0);  //  &lt;= still 0\n    expect(submitSpy).toHaveBeenLastCalledWith(0);  //  &lt;= still 0\n  });\n\n  expect(rendered.root.findByType('p').props.children).toBe(1);  //  &lt;= NOW it's 1\n  rendered.root.findByProps({ 'data-test-id': 'submit' }).props.onClick();  // submit again\n  expect(submitSpy).toHaveBeenLastCalledWith(1);  // Success!\n});\n</code></pre>\n\n<p>So it looks like submitting the form <em>after</em> the <code>act</code> instead of <em>during</em> the <code>act</code> might fix the problem.</p>\n"}], "owner": {"reputation": 9937, "user_id": 2130365, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/DDYvz.png?s=128&g=1", "display_name": "SimpleJ", "link": "https://stackoverflow.com/users/2130365/simplej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1514, "favorite_count": 0, "accepted_answer_id": 55368993, "answer_count": 1, "score": 2, "last_activity_date": 1553654501, "creation_date": 1553630147, "question_id": 55365287, "link": "https://stackoverflow.com/questions/55365287/calling-prop-callback-in-react-test-renderer-doesnt-update-hooks", "title": "Calling prop callback in react test renderer doesn&#39;t update hooks", "body": "<p>I'm trying to figure out how to test a react function component that uses hooks to keep track of state. The problem I'm having is when I call the <code>onChange</code> prop function passed to the input components, the value of my <code>useState</code> hook isn't being updated, so when I trigger the form submit, the result doesn't reflect the state changes.</p>\n\n<p>Here is the component I'm testing:</p>\n\n<pre><code>import React, { useState, ChangeEvent, FormEvent } from 'react';\nimport styled from '../styled';\nimport Column from './Column';\nimport BlockButton from './BlockButton';\nimport Input from './Input';\nimport Form from './Form';\nimport InputRow from './InputRow';\n\nexport type LoginFormOnSubmit = (result: LoginFormResult) =&gt; any;\nexport interface LoginFormResult {\n  employeeId: string;\n  password: string;\n}\nexport interface LoginFormProps {\n  onSubmit?: LoginFormOnSubmit;\n}\n\nconst LoginForm: React.FunctionComponent&lt;LoginFormProps&gt; = props =&gt; {\n  const { onSubmit, ...rest } = props;\n  const [employeeId, setEmployeeId] = useState('');\n  const [password, setPassword] = useState('');\n\n  function handleEmployeeIdChange(event: ChangeEvent&lt;HTMLInputElement&gt;) {\n    setEmployeeId(event.currentTarget.value);\n  }\n\n  function handlePasswordChange(event: ChangeEvent&lt;HTMLInputElement&gt;) {\n    setPassword(event.currentTarget.value);\n  }\n\n  function handleSubmit(event: FormEvent&lt;HTMLFormElement&gt;) {\n    if(onSubmit) {\n      onSubmit({\n        employeeId,\n        password,\n      });\n    }\n  }\n\n  return (\n    &lt;Column {...rest}&gt;\n      &lt;h1&gt;SHIFT LEDGER LOGON&lt;/h1&gt;\n      &lt;Form onSubmit={handleSubmit}&gt;\n        &lt;InputRow&gt;\n          &lt;label&gt;Employee ID:&lt;/label&gt;\n          &lt;Input\n            type=\"text\"\n            value={employeeId}\n            onChange={handleEmployeeIdChange}\n            data-testid=\"employee-id-input\"\n          /&gt;\n        &lt;/InputRow&gt;\n        &lt;InputRow&gt;\n          &lt;label&gt;Password:&lt;/label&gt;\n          &lt;Input\n            type=\"password\"\n            value={password}\n            onChange={handlePasswordChange}\n            data-test-id=\"password-input\"\n          /&gt;\n        &lt;/InputRow&gt;\n        &lt;BlockButton data-testid=\"submit-button\"&gt;Enter&lt;/BlockButton&gt;\n      &lt;/Form&gt;\n    &lt;/Column&gt;\n  );\n};\n\nexport default styled(LoginForm)`\n  background-color: #F0EBDF;\n  justify-content: center;\n  flex: 1;\n\n  h1 {\n    text-align: center;\n  }\n\n  ${Form} {\n    align-items: center;\n  }\n\n  label {\n    width: 150px;\n  }\n`;\n</code></pre>\n\n<p>And here is my test:</p>\n\n<pre><code>import React from 'react';\nimport sinon from 'sinon';\nimport TestRenderer, { act } from 'react-test-renderer';\nimport LoginForm from '../LoginForm';\nimport Form from '../Form';\n\ndescribe('components/LoginForm', () =&gt; {\n  test('Should be able to edit employee id', async () =&gt; {\n    const onSubmit = sinon.fake();\n    const employeeId = 'test id';\n    const rendered = TestRenderer.create(&lt;LoginForm onSubmit={onSubmit}/&gt;);\n\n\n    act(() =&gt; {\n      const wrapper = rendered.root;\n      const employeeIdInput = wrapper.findByProps({ 'data-testid': 'employee-id-input' });\n\n      employeeIdInput.props!.onChange({\n        currentTarget: {\n          value: employeeId,\n        },\n      });\n\n      wrapper.findByType(Form).props.onSubmit({\n        preventDefault: sinon.fake(),\n      });\n    });\n\n    expect(onSubmit.calledOnce).toBeTruthy();\n    expect(onSubmit.args).toEqual([[\n      {\n        employeeId,\n        password: '',\n      }\n    ]]);\n  });\n});\n</code></pre>\n\n<p>And the error I'm seeing:</p>\n\n<pre><code>  \u25cf components/LoginForm \u203a Should be able to edit employee id\n\n    expect(received).toEqual(expected)\n\n    Difference:\n\n    - Expected\n    + Received\n\n      Array [\n        Array [\n          Object {\n    -       \"employeeId\": \"test id\",\n    +       \"employeeId\": \"\",\n            \"password\": \"\",\n          },\n        ],\n      ]\n\n      42 |     });\n      43 |\n    &gt; 44 |     expect(onSubmit.calledOnce).toBeTruthy();\n         |                                 ^\n      45 |     expect(onSubmit.args).toEqual([[\n      46 |       {\n      47 |         employeeId,\n\n      at react_test_renderer_1.act (src/components/__tests__/LoginForm.test.tsx:44:33)\n      at batchedUpdates (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12492:12)\n      at Object.act (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:13146:18)\n      at Object.test (src/components/__tests__/LoginForm.test.tsx:29:5)\n</code></pre>\n\n<p>Some extra info:</p>\n\n<ul>\n<li>typescript 3.3.3</li>\n<li>react 16.8.2</li>\n<li>react-dom 16.8.2</li>\n<li>react-test-renderer 16.8.5</li>\n<li>jest 24.3.1</li>\n</ul>\n"}]