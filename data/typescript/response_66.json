[{"tags": ["unit-testing", "dependency-injection", "typescript", "jasmine", "angular"], "answers": [{"tags": [], "owner": {"reputation": 27869, "user_id": 1988693, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XRVZv.jpg?s=128&g=1", "display_name": "drew moore", "link": "https://stackoverflow.com/users/1988693/drew-moore"}, "is_accepted": true, "score": 1, "last_activity_date": 1460590746, "last_edit_date": 1460590746, "creation_date": 1460590023, "answer_id": 36611283, "question_id": 36610811, "link": "https://stackoverflow.com/questions/36610811/angular2-testing-component-with-provider-dependency/36611283#36611283", "title": "Angular2 Testing Component with Provider dependency", "body": "<p>You need to use <a href=\"https://angular.io/docs/ts/latest/api/testing/beforeEachProviders-function.html\" rel=\"nofollow\"><code>beforeEachProviders</code></a> in this case: </p>\n\n\n\n<pre><code>import {beforeEachProviders, describe, it, expect} from 'angular2/testing';\n//...other imports... \n\ndescribe('property component', () =&gt; {\n\n  beforeEachProviders(()=&gt; [\n      ConfigService, //if you don't need to mock \n      provide(ConfigService, {useClass:MockConfigService}) // more typical\n  ]);\n\n  it('should have property page title', injectAsync([TestComponentBuilder], (tcb) =&gt; {\n    return tcb.createAsync(PropertyComponent).then((fixture) =&gt; {\n      //expectations...\n    });\n  }));\n})\n</code></pre>\n\n<p>Note that you need to import angular's patched <code>describe, it, expect</code> functions along with <code>beforeEachProviders</code>from <code>angular2/testing</code>. I emphasize this because it's easy to forget to do that, and it results in failures with rather unintuitive messages. </p>\n"}], "owner": {"reputation": 1179, "user_id": 4459619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9c5244cae81f609789666d5d941de624?s=128&d=identicon&r=PG&f=1", "display_name": "kdu", "link": "https://stackoverflow.com/users/4459619/kdu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 901, "favorite_count": 0, "accepted_answer_id": 36611283, "answer_count": 1, "score": 2, "last_activity_date": 1460590746, "creation_date": 1460587196, "last_edit_date": 1460590258, "question_id": 36610811, "link": "https://stackoverflow.com/questions/36610811/angular2-testing-component-with-provider-dependency", "title": "Angular2 Testing Component with Provider dependency", "body": "<p>I have a simple angular2 component as defined below. And I'm looking to create a unit testing with karma, jasmine to run through this component.    </p>\n\n<pre><code>@Component({\nselector: 'property',\ntemplate: require('./property.component.html'),\ndirectives: [Panel],\nproviders: [ConfigService]});\n\nexport class PropertyComponent {\nconfig:any;\n\nconstructor(config:ConfigService) {\n    this.config = config.getConfig();\n}\n}\n</code></pre>\n\n<p>This is my testing spec file.</p>\n\n<pre><code>describe('property component', () =&gt; {\n\nit('should have property page title', injectAsync([TestComponentBuilder], (tcb) =&gt; {\nreturn tcb.createAsync(PropertyComponent).then((fixture) =&gt; {\n  let propertyComp = fixture.componentInstance,\n      element = fixture.nativeElement;\n\n  expect(element.querySelector('h1').innerText).toBe('property page');\n      });\n    }));\n  })\n</code></pre>\n\n<p>However I got a list of weird errors... I'm guessing this is due to the ConfigService Provider in the PropertyComponent, because when I removed the provider dependency, it went through.</p>\n\n<p>Does anyone know how to deal with the dependency Providers?</p>\n\n<p>Thanks!</p>\n\n<p>errors:</p>\n\n<pre><code>_instantiateProvider@angular2-seed/config/spec-bundle.js:23435:38\n  _new@angular2-seed/config/spec-bundle.js:23424:42\n  getObjByKeyId@angular2-seed/config/spec-bundle.js:22937:38\n  _getByKeyDefault@angular2-seed/config/spec-bundle.js:23641:51\n  _getByKey@angular2-seed/config/spec-bundle.js:23587:42\n  _getByDependency@angular2-seed/config/spec-bundle.js:23573:35\n  _instantiate@angular2-seed/config/spec-bundle.js:23463:53\n  _instantiateProvider@angular2-seed/config/spec-bundle.js:23435:38\n  _new@angular2-seed/config/spec-bundle.js:23424:42\n  instantiateProvider@angular2-seed/config/spec-bundle.js:22924:35\n  init@angular2-seed/config/spec-bundle.js:34694:44\n  AppElement@angular2-seed/config/spec-bundle.js:34371:33\n  viewFactory_HostPropertyComponent0\n  createRootHostView@angular2-seed/config/spec-bundle.js:35741:48\n</code></pre>\n"}, {"tags": ["typescript", "angular"], "answers": [{"tags": [], "owner": {"reputation": 1191, "user_id": 3279156, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/SuVxV.jpg?s=128&g=1", "display_name": "sreeramu", "link": "https://stackoverflow.com/users/3279156/sreeramu"}, "is_accepted": false, "score": 1, "last_activity_date": 1460595751, "last_edit_date": 1495540008, "creation_date": 1460594685, "answer_id": 36611920, "question_id": 36610553, "link": "https://stackoverflow.com/questions/36610553/integration-crypto-js-in-typescript-angular-2/36611920#36611920", "title": "Integration Crypto-js in typeScript Angular 2", "body": "<p>The\u00a0require\u00a0function is provided by SystemJS. You need to add it into your script:</p>\n\n<pre><code>&lt;script src=\"node_modules/systemjs/dist/system.src.js\"&gt;&lt;/script&gt;\n&lt;script src=\"node_modules/angular2/bundles/angular2-polyfills.js\"&gt;&lt;/script&gt; \n&lt;script src=\"node_modules/rxjs/bundles/Rx.umd.js\"&gt;&lt;/script&gt;\n&lt;script src=\"node_modules/angular2/bundles/angular2-all.umd.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Here is a plunkr describing a working sample:<a href=\"https://plnkr.co/edit/JXLDFBW4A1mi9tyNHoJ3?p=preview\" rel=\"nofollow noreferrer\">https://plnkr.co/edit/JXLDFBW4A1mi9tyNHoJ3?p=preview</a></p>\n\n<p>From : <a href=\"https://stackoverflow.com/a/34874540/3279156\">https://stackoverflow.com/a/34874540/3279156</a></p>\n"}], "owner": {"reputation": 11, "user_id": 5585555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e80b6627d995a76f1a635abfc5f4a8a?s=128&d=identicon&r=PG&f=1", "display_name": "Henri Pollet", "link": "https://stackoverflow.com/users/5585555/henri-pollet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2754, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1481837240, "creation_date": 1460585818, "last_edit_date": 1481837240, "question_id": 36610553, "link": "https://stackoverflow.com/questions/36610553/integration-crypto-js-in-typescript-angular-2", "title": "Integration Crypto-js in typeScript Angular 2", "body": "<p>In our process to learn Angular2 . we are trying to use api done by  marvel . The access to this api is done with hash key that we need to send to the api\nbut we don't really know how to implement </p>\n\n<p>On the running process we the error:</p>\n\n<blockquote>\n  <p>require is not defined</p>\n</blockquote>\n\n<p>Here is the piece of code:</p>\n\n<pre><code>generateMarvelAccessUrl(baseurl: string) {\n\n    var CryptoJS = require(\"crypto-js\");\n\n    var PRIV_KEY = \"mypublickey\";\n    var API_KEY   = \"myprivatekey\";\n\n    var url = baseurl + \"?limit=100&amp;apikey=\" + API_KEY;\n    var ts = new Date().getTime();\n    var hash = CryptoJS.createHash('md5').update(ts + PRIV_KEY + API_KEY).digest('hex');\n    url += \"&amp;ts=\" + ts + \"&amp;hash=\" + hash;\n    return url;\n}\n</code></pre>\n\n<p>Is someone may help us on this item.</p>\n"}, {"tags": ["typescript", "angular"], "comments": [{"owner": {"reputation": 41440, "user_id": 3887516, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62e0310897139a10f3293022b6eb7054?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/3887516/amit"}, "edited": false, "score": 3, "creation_date": 1460583955, "post_id": 36609998, "comment_id": 60816992, "body": "I might be wrong since I don&#39;t know typescript, but shouldn&#39;t you first <i>initialize</i> <code>this.promise</code>? More accurately, shouldn&#39;t you return a promise, and keep reference of its <code>resolve</code> &amp; <code>reject</code> functions, then call these?"}, {"owner": {"reputation": 1858, "user_id": 2242564, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6421f665d70139f0599fdcce3cc7ba30?s=128&d=identicon&r=PG", "display_name": "pjlamb12", "link": "https://stackoverflow.com/users/2242564/pjlamb12"}, "reply_to_user": {"reputation": 41440, "user_id": 3887516, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62e0310897139a10f3293022b6eb7054?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/3887516/amit"}, "edited": false, "score": 0, "creation_date": 1460584871, "post_id": 36609998, "comment_id": 60817384, "body": "@Amit you are correct, I updated the original post."}, {"owner": {"reputation": 16322, "user_id": 215969, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/4a50a54d4d142661b7b2ac1e6dce80da?s=128&d=identicon&r=PG", "display_name": "Ilia Choly", "link": "https://stackoverflow.com/users/215969/ilia-choly"}, "edited": false, "score": 0, "creation_date": 1460586442, "post_id": 36609998, "comment_id": 60818040, "body": "what&#39;s invoking handle response?"}, {"owner": {"reputation": 1858, "user_id": 2242564, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6421f665d70139f0599fdcce3cc7ba30?s=128&d=identicon&r=PG", "display_name": "pjlamb12", "link": "https://stackoverflow.com/users/2242564/pjlamb12"}, "reply_to_user": {"reputation": 16322, "user_id": 215969, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/4a50a54d4d142661b7b2ac1e6dce80da?s=128&d=identicon&r=PG", "display_name": "Ilia Choly", "link": "https://stackoverflow.com/users/215969/ilia-choly"}, "edited": false, "score": 0, "creation_date": 1460586480, "post_id": 36609998, "comment_id": 60818052, "body": "@iliacholy That&#39;s a function that is called when the modal is closed. It&#39;s an output of an Angular 2 Modal Component I made. I&#39;ve also confirmed that it is being called correctly and the response is coming in."}, {"owner": {"reputation": 16322, "user_id": 215969, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/4a50a54d4d142661b7b2ac1e6dce80da?s=128&d=identicon&r=PG", "display_name": "Ilia Choly", "link": "https://stackoverflow.com/users/215969/ilia-choly"}, "edited": false, "score": 0, "creation_date": 1460586964, "post_id": 36609998, "comment_id": 60818266, "body": "Not an answer to your question, but your promise definition is extremely verbose. It can be <code>private promise = new Promise&lt;boolean&gt;((resolve, reject) =&gt; resolve(false));</code>"}, {"owner": {"reputation": 1858, "user_id": 2242564, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6421f665d70139f0599fdcce3cc7ba30?s=128&d=identicon&r=PG", "display_name": "pjlamb12", "link": "https://stackoverflow.com/users/2242564/pjlamb12"}, "reply_to_user": {"reputation": 16322, "user_id": 215969, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/4a50a54d4d142661b7b2ac1e6dce80da?s=128&d=identicon&r=PG", "display_name": "Ilia Choly", "link": "https://stackoverflow.com/users/215969/ilia-choly"}, "edited": false, "score": 0, "creation_date": 1460589025, "post_id": 36609998, "comment_id": 60819017, "body": "@iliacholy I have made some edits to the original post to explain a little more what I did."}, {"owner": {"reputation": 16322, "user_id": 215969, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/4a50a54d4d142661b7b2ac1e6dce80da?s=128&d=identicon&r=PG", "display_name": "Ilia Choly", "link": "https://stackoverflow.com/users/215969/ilia-choly"}, "edited": false, "score": 0, "creation_date": 1460595692, "post_id": 36609998, "comment_id": 60820914, "body": "@pjlamb12 I updated my answer."}], "answers": [{"comments": [{"owner": {"reputation": 1858, "user_id": 2242564, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6421f665d70139f0599fdcce3cc7ba30?s=128&d=identicon&r=PG", "display_name": "pjlamb12", "link": "https://stackoverflow.com/users/2242564/pjlamb12"}, "edited": false, "score": 0, "creation_date": 1460592715, "post_id": 36611559, "comment_id": 60820179, "body": "So as I started doing more digging, I realized that I was setting it to always be false, but it doesn&#39;t seem obvious how I can wait for the <code>handleResponse</code> function to run and wait for that response before the promise is resolved. Also, I think the error came from not correctly initializing the promise instance, which I believe I&#39;ve fixed."}, {"owner": {"reputation": 27869, "user_id": 1988693, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XRVZv.jpg?s=128&g=1", "display_name": "drew moore", "link": "https://stackoverflow.com/users/1988693/drew-moore"}, "reply_to_user": {"reputation": 1858, "user_id": 2242564, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6421f665d70139f0599fdcce3cc7ba30?s=128&d=identicon&r=PG", "display_name": "pjlamb12", "link": "https://stackoverflow.com/users/2242564/pjlamb12"}, "edited": false, "score": 0, "creation_date": 1460593727, "post_id": 36611559, "comment_id": 60820422, "body": "@pjlamb12 see edit... is that what you&#39;re looking for?"}, {"owner": {"reputation": 1858, "user_id": 2242564, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6421f665d70139f0599fdcce3cc7ba30?s=128&d=identicon&r=PG", "display_name": "pjlamb12", "link": "https://stackoverflow.com/users/2242564/pjlamb12"}, "edited": false, "score": 0, "creation_date": 1460653268, "post_id": 36611559, "comment_id": 60854709, "body": "I do need a way to make the <code>routerCanDeactivate</code> method wait to resolve to true or false based on the <code>handleResult</code> method, I&#39;m just not sure the best way to go about it. The answer above with the <code>Deferred</code> class almost works, but there&#39;s an error when the promise is resolved to false or rejected, so it turned out not to work."}], "tags": [], "owner": {"reputation": 27869, "user_id": 1988693, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XRVZv.jpg?s=128&g=1", "display_name": "drew moore", "link": "https://stackoverflow.com/users/1988693/drew-moore"}, "is_accepted": false, "score": 2, "last_activity_date": 1460593712, "last_edit_date": 1490005771, "creation_date": 1460591950, "answer_id": 36611559, "question_id": 36609998, "link": "https://stackoverflow.com/questions/36609998/angular-2-and-typescript-promises/36611559#36611559", "title": "Angular 2 and TypeScript Promises", "body": "<blockquote>\n  <p>Is there a reason why there is an error saying that there is no 'resolve' property on Promise? </p>\n</blockquote>\n\n<p>Yes, and it's that tsc can't find the correct typings for <code>es6-promise</code>. To avoid this and other typing problems in ng2 projects, <a href=\"https://github.com/angular/angular/blob/master/CHANGELOG.md#breaking-changes-4\" rel=\"nofollow noreferrer\">as of beta.6</a> you need to explicitly include </p>\n\n<pre><code>///&lt;reference path=\"node_modules/angular2/typings/browser.d.ts\"/&gt;\n</code></pre>\n\n<p>somewhere in your application (typically this is done at the top of your main bootstrap file).*</p>\n\n<p>The rest of your question is less clear (and is likely an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a> where x is the typings problem discussed above). But, if I'm correct in understanding that you've defined a promise like this: </p>\n\n<pre><code>private promise: Promise&lt;boolean&gt; = new Promise(\n    ( resolve: (res: boolean)=&gt; void, reject: (res: boolean)=&gt; void) =&gt; {\n        const res: boolean = false;\n        resolve(res); // &lt;=== how would this ever resolve to anything but false??? \n    }\n);\n</code></pre>\n\n<p>How are you expecting this to resolve to anything but false? </p>\n\n<pre><code>const res: boolean = false;\nresolve(res); //always false\n</code></pre>\n\n<p>is equivalent to </p>\n\n<pre><code>resolve(false);  //always false\n</code></pre>\n\n<p>*note: this is (presumably) temporary, and won't be necessary in later beta/release versions.  </p>\n\n<p>Update in response to your comment: </p>\n\n<blockquote>\n  <p>it doesn't seem obvious how I can wait for the handleResponse function to run and wait for that response </p>\n</blockquote>\n\n<p>I'm still not clear on what you're trying to do here, but in general, you'd want to have <code>handleResponse</code> return a promise of its own, and then: </p>\n\n<pre><code>private promise: Promise&lt;boolean&gt; = new Promise((resolve, reject) =&gt; {\n  handlePromise.then(resultOfHandleResult =&gt; {\n    //assuming you need to process this result somehow (otherwise this is redundant) \n    const res = doSomethingWith(resultOfHandleResult); \n    resolve(res); \n  })\n});\n\nhandleResponse(res: any) {\n    this.promise.then(val =&gt; {\n        val = res;\n    });\n}\n</code></pre>\n\n<p>Or, (<em>far</em>) more preferably, use Observables: </p>\n\n<pre><code>var promise = handleResult() //returns an observable\n                .map(resultOfHandleResult =&gt; doSomethingWith(resultOfHandleResult))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1858, "user_id": 2242564, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6421f665d70139f0599fdcce3cc7ba30?s=128&d=identicon&r=PG", "display_name": "pjlamb12", "link": "https://stackoverflow.com/users/2242564/pjlamb12"}, "edited": false, "score": 0, "creation_date": 1460646827, "post_id": 36611901, "comment_id": 60850439, "body": "Thanks for the suggestion! It&#39;s really close to working. The deferred.reject errors for some reason, and if you resolve with false it kind of freaks out too, so I just have to figure out why it does that."}, {"owner": {"reputation": 1858, "user_id": 2242564, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6421f665d70139f0599fdcce3cc7ba30?s=128&d=identicon&r=PG", "display_name": "pjlamb12", "link": "https://stackoverflow.com/users/2242564/pjlamb12"}, "edited": false, "score": 0, "creation_date": 1465485195, "post_id": 36611901, "comment_id": 62931006, "body": "I finally circled back to this issue on my project, and this works the best. Making a Deferred class didn&#39;t work before when I tried it, but when I used your top suggestion of listening for the event when the modal is closed, that part worked for me. Thanks!"}], "tags": [], "owner": {"reputation": 16322, "user_id": 215969, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/4a50a54d4d142661b7b2ac1e6dce80da?s=128&d=identicon&r=PG", "display_name": "Ilia Choly", "link": "https://stackoverflow.com/users/215969/ilia-choly"}, "is_accepted": true, "score": 29, "last_activity_date": 1486997044, "last_edit_date": 1486997044, "creation_date": 1460594528, "answer_id": 36611901, "question_id": 36609998, "link": "https://stackoverflow.com/questions/36609998/angular-2-and-typescript-promises/36611901#36611901", "title": "Angular 2 and TypeScript Promises", "body": "<p>I'm not familiar with the bootstrap modal api, but I'd expect there to be a way to bind to a close event somehow when creating it.</p>\n\n<pre><code>export class MyComponent implements CanDeactivate {\n\n  routerCanDeactivate(): Promise&lt;boolean&gt; {\n    let $modal = $('#modal').modal();\n    return new Promise&lt;boolean&gt;((resolve, reject) =&gt; {\n      $modal.on(\"hidden.bs.modal\", result =&gt; {\n        resolve(result.ok);\n      });\n      $modal.modal(\"show\");\n    });\n  }\n\n}\n</code></pre>\n\n<p>You're trying to use the <code>Promise</code> like <code>Deferred</code>. If you want that kind of API, write yourself a <code>Deferred</code> class.</p>\n\n<pre><code>class Deferred&lt;T&gt; {\n\n  promise: Promise&lt;T&gt;;\n  resolve: (value?: T | PromiseLike&lt;T&gt;) =&gt; void;\n  reject:  (reason?: any) =&gt; void;\n\n  constructor() {\n    this.promise = new Promise&lt;T&gt;((resolve, reject) =&gt; {\n      this.resolve = resolve;\n      this.reject  = reject;\n    });\n  }\n}\n\nexport class MyComponent implements CanDeactivate {\n\n    private deferred = new Deferred&lt;boolean&gt;();\n\n    routerCanDeactivate(): Promise&lt;boolean&gt; {\n        $(\"#modal\").modal(\"show\");\n        return this.deferred.promise;\n    }\n\n    handleRespone(res: boolean): void {\n        if (res) {\n            this.deferred.resolve(res);\n        } else {\n            this.deferred.reject(res);\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1858, "user_id": 2242564, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6421f665d70139f0599fdcce3cc7ba30?s=128&d=identicon&r=PG", "display_name": "pjlamb12", "link": "https://stackoverflow.com/users/2242564/pjlamb12"}, "edited": false, "score": 0, "creation_date": 1465422433, "post_id": 37713475, "comment_id": 62900578, "body": "Thanks for the comment I will definitely try this and get back to you with how it works for me."}, {"owner": {"reputation": 7548, "user_id": 463059, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ICK4t.jpg?s=128&g=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/463059/jon"}, "edited": false, "score": 0, "creation_date": 1471183491, "post_id": 37713475, "comment_id": 65240925, "body": "This is a fantastic response.  I had to modify the <code>userClick()</code> function to also remember the subscription, so that I could unsubscribe.  <code>this.subscription = this.myModal.buttonResultEmitter.subscribe(...)</code>.  Also in <code>routerCanDeactivate</code>, I needed a section of <code>this.userClick().then(result=&gt;{console.log(result); this.subscription.unsubscribe();})</code>"}], "tags": [], "owner": {"reputation": 1834, "user_id": 1121854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf791fc2ecc4b3767dc7b78c691ee562?s=128&d=identicon&r=PG", "display_name": "slasky", "link": "https://stackoverflow.com/users/1121854/slasky"}, "is_accepted": false, "score": 2, "last_activity_date": 1471183562, "last_edit_date": 1471183562, "creation_date": 1465422288, "answer_id": 37713475, "question_id": 36609998, "link": "https://stackoverflow.com/questions/36609998/angular-2-and-typescript-promises/37713475#37713475", "title": "Angular 2 and TypeScript Promises", "body": "<p>Here is a technique that worked for me. It is pretty similar to @iliacholy's answer, but uses a modal component instead of a jQuery modal. This makes it a somewhat more \"Angular 2\" approach. I believe it's still relevant to your question.</p>\n\n<p>First, build an Angular Component for the modal:</p>\n\n<pre><code>import {Component, Output, EventEmitter} from '@angular/core;\n@Component({\n    selector: 'myModal',\n    template: `&lt;div class=\"myModal\" [hidden]=\"showModal\"&gt;\n          &lt;!-- your modal HTML here... --&gt;\n          &lt;button type=\"button\" class=\"btn\" (click)=\"clickedYes()\"&gt;Yes&lt;/button&gt;\n          &lt;button type=\"button\" class=\"btn\" (click)=\"clickedNo()\"&gt;No&lt;/button&gt;\n        &lt;/div&gt;\n    `\n})\n\nexport class MyModal{\n    private hideModal: boolean = true;\n    @Output() buttonResultEmitter = new EventEmitter();\n    constructor(){}\n    openModal(){\n        this.hideModal = false;\n    }\n    closeModal(){\n        this.hideModal = true;\n    }\n    clickedYes(){\n        this.buttonResultEmitter.emit(true);\n    }\n    clickedNo(){\n        this.buttonResultEmitter.emit(false);\n    }\n}\n</code></pre>\n\n<p>Then on your component with RouterCanDeactivate(), import and reference the MyModal instance:</p>\n\n<pre><code>import {MyModal} from './myModal';\n@Component({\n    ....\n    directives: [MyModal]\n})\n</code></pre>\n\n<p>and in the class code:</p>\n\n<pre><code>private myModal: MyModal;\n</code></pre>\n\n<p>Create a method returning a promise, which is subscribed to the eventEmitter on myModal:</p>\n\n<pre><code>userClick(): Promise&lt;boolean&gt; {\n    var prom: new Promise&lt;boolean&gt;((resolve, reject) =&gt; {\n        this.myModal.buttonResultEmitter.subscribe(\n            (result) =&gt; {\n                if (result == true){\n                    resolve(true);\n                } else {\n                    reject(false);\n                }\n         });\n     });\n     return prom;\n}\n</code></pre>\n\n<p>and finally, in the RouterCanDeactivate hook:</p>\n\n<pre><code>routerCanDeactivate(next: ComponentInstruction, prev: ComponentInstruction) {\n    this.myModal.openModal();\n    return this.userClick().catch( function(){return false;} );\n}\n</code></pre>\n\n<hr>\n\n<p>As @drewmoore mentioned, using Observables is preferred in Angular 2, but A) that wasn't your question, and B) The routerCanDeactivate hook resolves to boolean | Promise, so this approach seemed more natural to me.</p>\n"}, {"tags": [], "owner": {"reputation": 7548, "user_id": 463059, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ICK4t.jpg?s=128&g=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/463059/jon"}, "is_accepted": false, "score": 2, "last_activity_date": 1471293688, "creation_date": 1471293688, "answer_id": 38962716, "question_id": 36609998, "link": "https://stackoverflow.com/questions/36609998/angular-2-and-typescript-promises/38962716#38962716", "title": "Angular 2 and TypeScript Promises", "body": "<p>Since everyone is talking about Observables, I figured that I would take a look and build upon @petryuno1's answer.</p>\n\n<p>Starting with his <code>ModalComponent</code>:</p>\n\n<pre><code>import {Component, Output, ViewChild} from '@angular/core;\n@Component({\n    selector: 'myModal',\n    template: `&lt;div class=\"myModal\" [hidden]=\"showModal\"&gt;\n          &lt;!-- your modal HTML here... --&gt;\n          &lt;button type=\"button\" class=\"btn\" (click)=\"clickedYes($event)\"&gt;Yes&lt;/button&gt;\n          &lt;button type=\"button\" class=\"btn\" (click)=\"clickedNo($event)\"&gt;No&lt;/button&gt;\n        &lt;/div&gt;\n    `\n})\n\nexport class MyModal{\n    private hideModal: boolean = true;\n    private clickStream = new Subject&lt;boolean&gt;();\n    @Output() observable = this.clickStream.asObservable();\n\n    constructor(){}\n    openModal(){\n        this.hideModal = false;\n    }\n    closeModal(){\n        this.hideModal = true;\n    }\n    clickedYes(){\n        this.clickStream.next(true);\n    }\n    clickedNo(){\n        this.clickStream.next(false);\n    }\n}\n</code></pre>\n\n<p>Next, we go to the <code>AppComponent</code>:</p>\n\n<pre><code>import { Component, ViewChild} from '@angular/core';\nimport {MyModal} from './myModal';\nimport {Subscription} from \"rxjs\";\n\n@Component({\n    ....\n    directives: [MyModal]\n})\n\nexport class AppComponent {\n    @ViewChild(ConfirmModal) confirmModal: ConfirmModal;\n    constructor(){...};\n\n    public showModal(){\n        this.myModal.openModal();\n        this.subscription = this.myModal.observable.subscribe(x =&gt; {\n            console.log('observable called ' + x)\n// unsubscribe is necessary such that the observable doesn't keep racking up listeners\n            this.subscription.unsubscribe();\n        });\n    }\n}\n</code></pre>\n\n<p>The elegance of observables is that we now get to write a lot less code to do the same thing.</p>\n"}, {"tags": [], "owner": {"reputation": 19407, "user_id": 68080, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JPU7k.jpg?s=128&g=1", "display_name": "Saeb Amini", "link": "https://stackoverflow.com/users/68080/saeb-amini"}, "is_accepted": false, "score": 0, "last_activity_date": 1495687969, "creation_date": 1495687969, "answer_id": 44172521, "question_id": 36609998, "link": "https://stackoverflow.com/questions/36609998/angular-2-and-typescript-promises/44172521#44172521", "title": "Angular 2 and TypeScript Promises", "body": "<p>Can also be done out of the box in the Angular2+ world using <a href=\"https://github.com/Reactive-Extensions/RxJS/blob/master/doc/gettingstarted/subjects.md\" rel=\"nofollow noreferrer\"><code>Subject</code></a>s:</p>\n\n<pre><code>export class MyComponent {\n  private subject: Subject&lt;boolean&gt;;\n\n  routerCanDeactivate(): PromiseLike&lt;boolean&gt; {\n    $('#modal').modal('show');\n    return this.subject.toPromise();\n  }\n\n  handleRespone(res: boolean) {\n    this.subject.next(res);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1858, "user_id": 2242564, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6421f665d70139f0599fdcce3cc7ba30?s=128&d=identicon&r=PG", "display_name": "pjlamb12", "link": "https://stackoverflow.com/users/2242564/pjlamb12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70384, "favorite_count": 6, "accepted_answer_id": 36611901, "answer_count": 5, "score": 27, "last_activity_date": 1495687969, "creation_date": 1460583301, "last_edit_date": 1460649937, "question_id": 36609998, "link": "https://stackoverflow.com/questions/36609998/angular-2-and-typescript-promises", "title": "Angular 2 and TypeScript Promises", "body": "<p>I'm trying to use the <code>routerCanDeactivate</code> function for a component in my app. The simple way to use it is as follows: </p>\n\n<pre><code>routerCanDeactivate() {\n    return confirm('Are you sure you want to leave this screen?');\n}\n</code></pre>\n\n<p>My only issue with this is that it's ugly. It just uses a browser generated confirm prompt. I really want to use a custom modal, like a Bootstrap modal. I have the Bootstrap modal returning a true or false value based on the button they click. The <code>routerCanDeactivate</code> I'm implementing can accept a true/false value or a promise that resolves to true/false. </p>\n\n<p>Here is the code for the component that has the <code>routerCanDeactivate</code> method:</p>\n\n<pre><code>export class MyComponent implements CanDeactivate {\n    private promise: Promise&lt;boolean&gt;;\n\n    routerCanDeactivate() {\n        $('#modal').modal('show');\n        return this.promise;\n    }\n\n    handleRespone(res: boolean) {\n        if(res) {\n            this.promise.resolve(res);\n        } else {\n            this.promise.reject(res);\n        }\n    }\n}\n</code></pre>\n\n<p>When my TypeScript files compile, I get the following errors in the terminal: </p>\n\n<pre><code>error TS2339: Property 'resolve' does not exist on type 'Promise&lt;boolean&gt;'.\nerror TS2339: Property 'reject' does not exist on type 'Promise&lt;boolean&gt;'.\n</code></pre>\n\n<p>When I try to leave the component, the modal starts, but then the component deactivates and doesn't wait for the promise to resolve. </p>\n\n<p>My issue is trying to work out the Promise so that the <code>routerCanDeactivate</code> method waits for the promise to resolve. Is there a reason why there is an error saying that there is no <code>'resolve'</code> property on <code>Promise&lt;boolean&gt;</code>? If I can work that part out, what must I return in the <code>routerCanDeactivate</code> method so that it waits for the resolution/rejection of the promise?</p>\n\n<p>For reference, <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/es6-promise/es6-promise.d.ts\">here is the DefinitelyTyped Promise definition</a>. There is clearly a resolve and reject function on there.</p>\n\n<p>Thanks for your help.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Here is the updated file, with the Promise being initialized:</p>\n\n<pre><code>private promise: Promise&lt;boolean&gt; = new Promise(\n    ( resolve: (res: boolean)=&gt; void, reject: (res: boolean)=&gt; void) =&gt; {\n        const res: boolean = false;\n        resolve(res);\n    }\n);\n</code></pre>\n\n<p>and the <code>handleResponse</code> function: </p>\n\n<pre><code>handleResponse(res: boolean) {\n    console.log('res: ', res);\n    this.promise.then(res =&gt; {\n        console.log('res: ', res);\n    });\n}\n</code></pre>\n\n<p>It still doesn't work correctly, but the modal shows up and waits for the response. When you say yes leave, it stays on the component. Also, the first <code>res</code> that is logged is the correct value returned from the component, but the one inside <code>.then</code> function is not the same as the one passed in to the <code>handleResponse</code> function.</p>\n\n<p><strong><em>More Updates</em></strong></p>\n\n<p>After doing some more reading, it appears that in the <code>promise</code> declaration, it sets the <code>resolve</code> value, and the <code>promise</code> has that value no matter what. So even though later on I call the <code>.then</code> method, it doesn't change the value of the <code>promise</code> and I can't make it true and switch components. Is there a way to make the <code>promise</code> not have a default value and that it has to wait until the its <code>.then</code> method is invoked?</p>\n\n<p>Updated functions:</p>\n\n<pre><code>private promise: Promise&lt;boolean&gt; = new Promise((resolve, reject) =&gt; resolve(false) );\n\nhandleResponse(res: any) {\n    this.promise.then(val =&gt; {\n        val = res;\n    });\n}\n</code></pre>\n\n<p>Thanks again for the help.</p>\n\n<p><strong><em>Last Update</em></strong></p>\n\n<p>After looking at many suggestions, I decided to create a <code>Deferred</code> class. It's worked pretty well, but when I do the <code>deferred.reject(anyType)</code>, I get an error in the console of:</p>\n\n<pre><code>EXCEPTION: Error: Uncaught (in promise): null\n</code></pre>\n\n<p>This same thing happens when I pass in <code>null</code>, a <code>string</code>, or a <code>boolean</code>. Trying to provide a <code>catch</code> function in the <code>Deferred</code> class didn't work.</p>\n\n<p><strong><em>Deferred Class</em></strong></p>\n\n<pre><code>export class Deferred&lt;T&gt; {\n    promise: Promise&lt;T&gt;;\n    resolve: (value?: T | PromiseLike&lt;T&gt;) =&gt; void;\n    reject:  (reason?: any) =&gt; void;\n\n    constructor() {\n        this.promise = new Promise&lt;T&gt;((resolve, reject) =&gt; {\n            this.resolve = resolve;\n            this.reject  = reject;\n        });\n    }\n}\n</code></pre>\n"}, {"tags": ["json", "class", "interface", "typescript"], "comments": [{"owner": {"reputation": 41440, "user_id": 3887516, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62e0310897139a10f3293022b6eb7054?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/3887516/amit"}, "edited": false, "score": 0, "creation_date": 1460583034, "post_id": 36609787, "comment_id": 60816505, "body": "Supported?? - <a href=\"https://github.com/Microsoft/TypeScript/issues/4653\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/4653</a>"}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1460594793, "creation_date": 1460594793, "answer_id": 36611933, "question_id": 36609787, "link": "https://stackoverflow.com/questions/36609787/non-standard-typescript-interface-class-fields/36611933#36611933", "title": "non-standard TypeScript interface/class fields", "body": "<blockquote>\n  <p>I want TypeScript to strictly allow only those four fields: faker, chance, x-faker, x-chance</p>\n</blockquote>\n\n<p>You can declare string properties: </p>\n\n<pre><code>interface IGeneratorSchema {\n    faker?: any;\n    chance?: any;\n    \"x-faker\"?: any;\n    \"x-chance\"?: any;\n}\n\nconst foo:IGeneratorSchema = { \"x-faker\": {} } // Okay\nconst bar:IGeneratorSchema = { bad: {} } // Error: unknown property\n</code></pre>\n\n<h1>Caveat</h1>\n\n<p>Extra member are only prevented in fresh object literal scenarios : <a href=\"https://basarat.gitbooks.io/typescript/content/docs/types/freshness.html\" rel=\"nofollow\">https://basarat.gitbooks.io/typescript/content/docs/types/freshness.html</a></p>\n"}], "owner": {"reputation": 22324, "user_id": 769384, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3fa57b5dc94ebba0dd8dc93878ccd922?s=128&d=identicon&r=PG", "display_name": "ducin", "link": "https://stackoverflow.com/users/769384/ducin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 36611933, "answer_count": 1, "score": 0, "last_activity_date": 1460594793, "creation_date": 1460582491, "question_id": 36609787, "link": "https://stackoverflow.com/questions/36609787/non-standard-typescript-interface-class-fields", "title": "non-standard TypeScript interface/class fields", "body": "<p>I'm working on <a href=\"https://github.com/json-schema-faker/json-schema-faker\" rel=\"nofollow\">JSON-Schema-faker project</a> where we use following TypeScript interface:</p>\n\n<p><code>interface IGeneratorSchema {\n  faker?: any;\n  chance?: any;\n}\n</code>\nfor objects such as:\n<code>\n{\n  \"faker\": \"name.findName\"\n}\n</code>\nor:\n<code>\n{\n  \"chance\": {\n     \"bool\": {\n       \"likelihood\": 100\n     }\n   }\n}\n</code></p>\n\n<p>Now we need to introduce support for <code>x-faker</code> and <code>x-chance</code> fields that would semantically mean the same as <code>faker</code> and <code>chance</code>, e.g:</p>\n\n<p><code>\n{\n  \"x-faker\": \"name.findName\"\n}\n</code>\nor:\n<code>\n{\n  \"x-chance\": {\n     \"bool\": {\n       \"likelihood\": 100\n     }\n   }\n}\n</code></p>\n\n<p>I know I can create neither <code>x-faker</code> nor <code>x-chance</code> field in TypeScript interface. <strong>The question is - how can I overcome that?</strong> I want TypeScript to strictly allow only those four fields: <code>faker</code>, <code>chance</code>, <code>x-faker</code>, <code>x-chance</code>.</p>\n"}, {"tags": ["angular", "typescript", "visual-studio-2015", "asp.net-core", "asp.net-core-mvc"], "answers": [{"comments": [{"owner": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "edited": false, "score": 0, "creation_date": 1460649007, "post_id": 36611251, "comment_id": 60852104, "body": "First, how would you know the referenced files? going around potentially hundreds of typescript files and figuring out the &#39;imports&#39; is not practical in large applications. Second, none of those fixes actually worked as i tried them. I still have to exclude the &#39;node_modules&#39; and i suspect that means no http requests can be made to that folder."}, {"owner": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "edited": false, "score": 0, "creation_date": 1460653759, "post_id": 36611251, "comment_id": 60854978, "body": "Update: that&#39;s exactly what i did first. Doesn&#39;t work. I get the same error in designer and can&#39;t build the project. Says &quot;module ... not found&quot;"}, {"owner": {"reputation": 99, "user_id": 2146823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d8b1b2f61c304d46bcf457263deca51f?s=128&d=identicon&r=PG", "display_name": "t_tsekov", "link": "https://stackoverflow.com/users/2146823/t-tsekov"}, "reply_to_user": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "edited": false, "score": 0, "creation_date": 1460654158, "post_id": 36611251, "comment_id": 60855182, "body": "Can you post your code: html where you include the scripts, .ts where you get the error, and tsconfig.json? Also check your typescript version and try updating it from here : <a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=48593\" rel=\"nofollow noreferrer\">UpdateLink</a>"}, {"owner": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "edited": false, "score": 0, "creation_date": 1460656381, "post_id": 36611251, "comment_id": 60856391, "body": "Check screenshots."}, {"owner": {"reputation": 99, "user_id": 2146823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d8b1b2f61c304d46bcf457263deca51f?s=128&d=identicon&r=PG", "display_name": "t_tsekov", "link": "https://stackoverflow.com/users/2146823/t-tsekov"}, "reply_to_user": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "edited": false, "score": 0, "creation_date": 1460658296, "post_id": 36611251, "comment_id": 60857530, "body": "You need the files in specific order, try changing the order to match mine. You need &quot;Rx.js&quot;, not &quot;rx.js&quot;, big &quot;R&quot;. In the system.config packages you need to provide the folder of your typescript transpiled files, not angular, which has to be in &quot;wwwroot&quot;. For example if it&#39;s in wwwroot/app, you just need to provide &quot;app&quot; ."}, {"owner": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "edited": false, "score": 0, "creation_date": 1460658731, "post_id": 36611251, "comment_id": 60857814, "body": "Tried all of that already, none worked. I&#39;m not asking a question if i haven&#39;t tried at least 10 different ways. Just to address your last comment, i&#39;ve tried setting it to &#39;app&#39;, but at run-time INSIDE of browser i&#39;ll get 404 not found. Reason being what you put in &#39;.ts&#39; imports, that url for import, has to match an exact .js file in exact same location when ran inside of browser."}, {"owner": {"reputation": 99, "user_id": 2146823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d8b1b2f61c304d46bcf457263deca51f?s=128&d=identicon&r=PG", "display_name": "t_tsekov", "link": "https://stackoverflow.com/users/2146823/t-tsekov"}, "reply_to_user": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "edited": false, "score": 0, "creation_date": 1460659315, "post_id": 36611251, "comment_id": 60858205, "body": "In what folder is your angular app?  You also need to remove wwwroot from the exclude in tsconfig."}, {"owner": {"reputation": 99, "user_id": 2146823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d8b1b2f61c304d46bcf457263deca51f?s=128&d=identicon&r=PG", "display_name": "t_tsekov", "link": "https://stackoverflow.com/users/2146823/t-tsekov"}, "reply_to_user": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "edited": false, "score": 0, "creation_date": 1460667411, "post_id": 36611251, "comment_id": 60862888, "body": "Ok I see it&#39;s in wwwroot/ts. So lets try the following : 1. Do everything in my previous post, 2. Remove wwwroot from the exclude in tsconfig. 3. In System.Config packages add ts instead of nodu_modules. : ` System.config({             packages: {                 ts: {                     defaultExtension: &#39;js&#39;                 }             }         });`"}], "tags": [], "owner": {"reputation": 99, "user_id": 2146823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d8b1b2f61c304d46bcf457263deca51f?s=128&d=identicon&r=PG", "display_name": "t_tsekov", "link": "https://stackoverflow.com/users/2146823/t-tsekov"}, "is_accepted": false, "score": 5, "last_activity_date": 1460652623, "last_edit_date": 1460652623, "creation_date": 1460589875, "answer_id": 36611251, "question_id": 36609671, "link": "https://stackoverflow.com/questions/36609671/angular2-with-mvc6-browsers-cant-access-scripts-inside-of-node-modules/36611251#36611251", "title": "angular2 with MVC6, browsers can&#39;t access scripts inside of node_modules", "body": "<p>You could just copy all the referenced files to wwwroot or better yet create a gulp/grunt task to do it. As for the file/directory length problem - this is fixed in later versions of NPM, however Visual Studio uses an earlier one by default, but you can change it :<a href=\"http://jameschambers.com/2015/09/upgrading-npm-in-visual-studio-2015/\" rel=\"nofollow\">here is how</a>. I recommend the second option, works perfect for me. After doing this just delete node_modules and restore NPM packages, you shouldn't get that error again.</p>\n\n<p>Update : \nYou don't need to reference any typescpript files, all you need is this in the html where you use angular:</p>\n\n<pre><code>    &lt;script src=\"/js/es6-shim.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"/js/system-polyfills.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"/js/shims_for_IE.js\"&gt;&lt;/script&gt;\n\n    &lt;script src=\"/js/angular2-polyfills.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"/js/system.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"/js/Rx.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"/js/angular2.dev.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"~/js/router.dev.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"~/js/http.dev.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n        System.config({\n            packages: {\n                appJs: {\n                    defaultExtension: 'js'\n                }\n            }\n        });\n    &lt;/script&gt;\n</code></pre>\n\n<p>Where you replace \"appJs\" with the folder your .ts are transpiled to .js files<br>\nAfter that importing angular modules in your typescript will work fine, for example :</p>\n\n<blockquote>\n  <p>import {Component} from 'angular2/core';</p>\n</blockquote>\n\n<p>will be imported from node_modules/angular2/cote.ts without you having to reference it anywhere. This is a gulp task that copies the required files for you from \"node_modules\" to \"wwwroot/js\":</p>\n\n<pre><code>var gulp = require('gulp');\n\n\ngulp.task('libs', function () {\n    return gulp.src([\n      'node_modules/angular2/bundles/js',\n      'node_modules/angular2/bundles/angular2.*.js*',\n      'node_modules/angular2/bundles/angular2-polyfills.js',\n      'node_modules/angular2/bundles/http.*.js*',\n      'node_modules/angular2/bundles/router.*.js*',\n      'node_modules/es6-shim/es6-shim.min.js*',\n      'node_modules/angular2/es6/dev/src/testing/shims_for_IE.js',\n      'node_modules/systemjs/dist/*.*',\n      'node_modules/rxjs/bundles/Rx.js'\n    ]).pipe(gulp.dest('./wwwroot/js/'));\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "is_accepted": true, "score": 1, "last_activity_date": 1461178915, "last_edit_date": 1461178915, "creation_date": 1460746408, "answer_id": 36654845, "question_id": 36609671, "link": "https://stackoverflow.com/questions/36609671/angular2-with-mvc6-browsers-cant-access-scripts-inside-of-node-modules/36654845#36654845", "title": "angular2 with MVC6, browsers can&#39;t access scripts inside of node_modules", "body": "<p>So it turns out that you have to have a <code>module</code> element in your <code>tsconfig.json</code> and set it's value to <code>system</code>, this is already part of angular2 quickstart. However, you also need to add another element named <code>moduleResolution</code> to the <code>tsconfig.json</code> and set it's value to \"node\". This is just Typescript compiler additions. See <a href=\"https://github.com/Microsoft/TypeScript/issues/5039\" rel=\"nofollow\">Typescript module resolution</a></p>\n\n<p>Additionally, in regards to <code>node_modules</code> not receiving http request, it's not possible to do that and as previous posts suggested you would need a gulp task to move all of your generated <code>.js</code> files inside of <code>wwwroot</code> in order for them to be visible. This needs to follow the same folder structure as your Typescript folders. So if you have <code>/ts/mytest.ts</code> you'll need the same structure under <code>wwwroot</code>, for example <code>wwwroot/myFolder/ts/mytest.ts</code> but watchout for SystemJS configuration as it has to point to <code>myFolder</code>. If you already placed the Typscript folder under the <code>wwwroot</code>, i suggest to put it under the root of your project and just move the generated <code>.js</code> files.</p>\n"}], "owner": {"reputation": 1165, "user_id": 3794166, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/J8lZL.png?s=128&g=1", "display_name": "RoninCoder", "link": "https://stackoverflow.com/users/3794166/ronincoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1203, "favorite_count": 1, "accepted_answer_id": 36654845, "answer_count": 2, "score": 3, "last_activity_date": 1487561929, "creation_date": 1460581980, "last_edit_date": 1487561929, "question_id": 36609671, "link": "https://stackoverflow.com/questions/36609671/angular2-with-mvc6-browsers-cant-access-scripts-inside-of-node-modules", "title": "angular2 with MVC6, browsers can&#39;t access scripts inside of node_modules", "body": "<p>Trying to use Angular2 with TypeScript, which means importing from <code>node_modules</code> folder. I have <code>node_modules</code> with built-in <code>npm</code> installed in their default status, the main project folder, but referencing any <code>.js</code> scripts in any given web page will result in 404 not found error in browser. Tried removing <code>node_modules</code>, still didn't work. So after a lot of tries and failures, it's surprising that even in a brand new ASP.NET 5 project which has everything pre-installed and configured, browser can't access referenced <code>.js</code> scripts in <code>node_modules</code> nor import types (it makes ajax calls for those scripts referenced in TypeScript files, and fails).</p>\n\n<p>Apparently with DNX and ASP.NET 5, there is an exclusion of <code>node_modules</code> in <code>tsconfig.json</code> and <code>project.json</code> along with the <code>wwwroot</code>. So I tried to remove that option, then got this error at compile time: </p>\n\n<p>\"The specified path, file name, or both are too long. The fully qualified file name must be less than 260 characters, and the directory name must be less than 248 characters.\"</p>\n\n<p>Interestingly, I can import the types and modules in <code>.ts</code> files and it works fine in designer, meaning it recognizes the imported types. However at run-time, I still get 404s for those imported modules and main Angular2 scripts from <code>node_modules</code>. Any suggestions are welcomed as i'm out of options.</p>\n\n<p><strong>Environment</strong></p>\n\n<ol>\n<li>Visual Studio Professional 2015 Update 1</li>\n<li>DNX 4.6.1 and 5.0</li>\n<li>Chrome version 49, Firefox version 43, IE version 11</li>\n</ol>\n\n<p><strong>Update</strong></p>\n\n<p>This is the folder structure:</p>\n\n<pre><code>MyWebApplication\n    project.json\n    package.json\n    ...\n    -node_modules\n    ...\n    -wwwroot\n    ...\n       -ts\n         -pages\n              orders-page.ts\n       tsconfig.json\n       typings.json\n    ...\n</code></pre>\n\n<p>Here are the screenshots from _Layout.cshtml, orders-page.ts and its error, tsconfig.json and project.json:</p>\n\n<p><a href=\"https://i.stack.imgur.com/PfZk2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PfZk2.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/Ra12R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ra12R.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/YEbYj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YEbYj.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/I2scO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I2scO.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 2319, "user_id": 485183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/nAFij.png?s=128&g=1", "display_name": "Corey Alix", "link": "https://stackoverflow.com/users/485183/corey-alix"}, "edited": false, "score": 0, "creation_date": 1460601024, "post_id": 36609641, "comment_id": 60822456, "body": "At 14k I wonder if porting to typescript would be an easier way to get the definitions you&#39;re looking for?"}, {"owner": {"reputation": 1606, "user_id": 221867, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/42ebbd694c66f6e030078bd0150f688d?s=128&d=identicon&r=PG", "display_name": "Olson.dev", "link": "https://stackoverflow.com/users/221867/olson-dev"}, "reply_to_user": {"reputation": 2319, "user_id": 485183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/nAFij.png?s=128&g=1", "display_name": "Corey Alix", "link": "https://stackoverflow.com/users/485183/corey-alix"}, "edited": false, "score": 1, "creation_date": 1460613059, "post_id": 36609641, "comment_id": 60826100, "body": "@CoreyAlix I&#39;ve considered it but I have to imagine other libraries have similar shapes. While my question is specific, I&#39;m interested in the answer more generically as external module type declarations become more prolific."}], "answers": [{"comments": [{"owner": {"reputation": 1606, "user_id": 221867, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/42ebbd694c66f6e030078bd0150f688d?s=128&d=identicon&r=PG", "display_name": "Olson.dev", "link": "https://stackoverflow.com/users/221867/olson-dev"}, "edited": false, "score": 0, "creation_date": 1460655589, "post_id": 36623590, "comment_id": 60855964, "body": "That&#39;s a similar approach to what blakeembrey mentioned in the linked GitHub issue and has the same downside: How do you write a function that requires a <code>KeyEvent</code> or <code>EventHandler</code> when the library doesn&#39;t export them?"}, {"owner": {"reputation": 2319, "user_id": 485183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/nAFij.png?s=128&g=1", "display_name": "Corey Alix", "link": "https://stackoverflow.com/users/485183/corey-alix"}, "reply_to_user": {"reputation": 1606, "user_id": 221867, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/42ebbd694c66f6e030078bd0150f688d?s=128&d=identicon&r=PG", "display_name": "Olson.dev", "link": "https://stackoverflow.com/users/221867/olson-dev"}, "edited": false, "score": 0, "creation_date": 1460687307, "post_id": 36623590, "comment_id": 60869430, "body": "Can&#39;t you add them to the definition (see edited answer)?"}, {"owner": {"reputation": 1606, "user_id": 221867, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/42ebbd694c66f6e030078bd0150f688d?s=128&d=identicon&r=PG", "display_name": "Olson.dev", "link": "https://stackoverflow.com/users/221867/olson-dev"}, "edited": false, "score": 0, "creation_date": 1460751330, "post_id": 36623590, "comment_id": 60905303, "body": "Thanks, I gave you a +1 because that does indeed fix the main concern. The only remaining issue is both of these are valid from TypeScript: <code>const k1 = new lib.Keyboard();</code> &amp; <code>const k2 = new lib.default.Keyboard();</code> but the former will throw a runtime error. I wonder if it&#39;s possible to hide <code>lib.default.Keyboard</code> <b>scratches head</b>"}, {"owner": {"reputation": 1606, "user_id": 221867, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/42ebbd694c66f6e030078bd0150f688d?s=128&d=identicon&r=PG", "display_name": "Olson.dev", "link": "https://stackoverflow.com/users/221867/olson-dev"}, "edited": false, "score": 1, "creation_date": 1460760705, "post_id": 36623590, "comment_id": 60908978, "body": "Turns out the type union/intersection is unnecessary; you could just do <code>const out: Keyboard; export default out;</code> Change your answer to reflect that and I&#39;ll accept it. :-)"}, {"owner": {"reputation": 2319, "user_id": 485183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/nAFij.png?s=128&g=1", "display_name": "Corey Alix", "link": "https://stackoverflow.com/users/485183/corey-alix"}, "reply_to_user": {"reputation": 1606, "user_id": 221867, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/42ebbd694c66f6e030078bd0150f688d?s=128&d=identicon&r=PG", "display_name": "Olson.dev", "link": "https://stackoverflow.com/users/221867/olson-dev"}, "edited": false, "score": 0, "creation_date": 1460807733, "post_id": 36623590, "comment_id": 60919725, "body": "@Olson.dev I&#39;m not trying to write your actual interface, just figure out how you can write it :)  Anyway I removed the mixin since I guess that wasn&#39;t a proper representation of your library.  I hope you decide to port it to typescript; it&#39;s an enjoyable development experience."}], "tags": [], "owner": {"reputation": 2319, "user_id": 485183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/nAFij.png?s=128&g=1", "display_name": "Corey Alix", "link": "https://stackoverflow.com/users/485183/corey-alix"}, "is_accepted": true, "score": 1, "last_activity_date": 1460807345, "last_edit_date": 1460807345, "creation_date": 1460638040, "answer_id": 36623590, "question_id": 36609641, "link": "https://stackoverflow.com/questions/36609641/how-to-create-d-ts-file-with-multiple-possibly-conflicting-requirements/36623590#36623590", "title": "How to create .d.ts file with multiple, possibly conflicting requirements", "body": "<p>I created test.ts to hopefully simulate your library:</p>\n\n<pre><code>export class Keyboard {\n    hereiam() { }\n}\n\nexport class Locale { }\n\nexport class KeyCombo { }\n\nlet out = new Keyboard();\nexport default out;\n</code></pre>\n\n<p>And the resulting d.ts:</p>\n\n<pre><code>export declare class Keyboard {\n    hereiam(): void;\n}\nexport declare class Locale {\n}\nexport declare class KeyCombo {\n}\ndeclare let out: Keyboard;\nexport default out;\n</code></pre>\n\n<p>And finally the way I was able to consume it:</p>\n\n<pre><code>import {default as l} from \"./test\";\nl.hereiam();\n</code></pre>\n\n<p>So taking the definition a little further you can add the two interfaces:</p>\n\n<pre><code>declare module \"lib\" {\n\n    export interface KeyEvent extends KeyboardEvent {\n        preventRepeat(): void;\n        pressedKeys: string;\n    }\n\n    export interface EventHandler {\n        (e?: KeyEvent): void;\n    }\n\n    export class Keyboard {\n        hereiam(): void;\n    }\n    export class Locale {\n    }\n    export class KeyCombo {\n    }\n\n    let out: Keyboard;\n    export default out;\n}\n</code></pre>\n\n<p>And then consume them like this:</p>\n\n<pre><code>import * as lib from \"lib\";\nlet l = lib.default;\nl.hereiam();\nlet k = new lib.Keyboard();\nk.hereiam();\n\nvar x: lib.EventHandler;\nvar y: lib.KeyEvent;\ny.preventRepeat;\n</code></pre>\n"}], "owner": {"reputation": 1606, "user_id": 221867, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/42ebbd694c66f6e030078bd0150f688d?s=128&d=identicon&r=PG", "display_name": "Olson.dev", "link": "https://stackoverflow.com/users/221867/olson-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1374, "favorite_count": 0, "accepted_answer_id": 36623590, "answer_count": 1, "score": 2, "last_activity_date": 1460807345, "creation_date": 1460581898, "last_edit_date": 1460582301, "question_id": 36609641, "link": "https://stackoverflow.com/questions/36609641/how-to-create-d-ts-file-with-multiple-possibly-conflicting-requirements", "title": "How to create .d.ts file with multiple, possibly conflicting requirements", "body": "<p>Because <a href=\"https://github.com/DefinitelyTyped/tsd\" rel=\"nofollow\"><code>tsd</code></a> is deprecated, I'm trying to migrate an ambient declaration file on <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped\" rel=\"nofollow\"><code>DefinitelyTyped</code></a> to the structure <a href=\"https://github.com/typings/typings\" rel=\"nofollow\"><code>typings</code></a> encourages (external modules). Here's the <a href=\"https://github.com/OlsonDev/typed-keyboardjs\" rel=\"nofollow\">typings repo</a> I'm making for KeyboardJS and <a href=\"https://github.com/OlsonDev/typed-keyboardjs/issues/1\" rel=\"nofollow\">the GitHub issue</a> that lead to this question.</p>\n\n<p>KeyboardJS is pretty simple (3 classes, 2 interfaces, 1 instance) but creating a proper <code>.d.ts</code> file for it has been troublesome for me. My requirements are simple:</p>\n\n<ol>\n<li>No ambient/global declarations</li>\n<li>Be able to extend exported members</li>\n<li>Be able to access type info from non-JS-exported members</li>\n</ol>\n\n<p>The problem comes in with how KeyboardJS does its exports:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var Keyboard = require('./lib/keyboard');\nvar Locale   = require('./lib/locale');\nvar KeyCombo = require('./lib/key-combo');\n\nvar keyboard = new Keyboard();\n\nkeyboard.setLocale('us', require('./locales/us'));\n\nexports          = module.exports = keyboard;\nexports.Keyboard = Keyboard;\nexports.Locale   = Locale;\nexports.KeyCombo = KeyCombo;\n</code></pre>\n\n<p>There are two other interfaces KeyboardJS has (<em>but does not expose</em>), <code>KeyEvent</code> and <code>EventHandler</code>:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>interface KeyEvent extends KeyboardEvent {\n    preventRepeat(): void;\n    pressedKeys: string;\n}\n\ninterface EventHandler {\n    (e?: KeyEvent): void;\n}\n</code></pre>\n\n<p>So, the <code>.d.ts</code> file needs to expose <code>Keyboard</code>, <code>Locale</code>, &amp; <code>KeyCombo</code> classes as well as <code>default</code> (as an instance of <code>Keyboard</code>) -- as an <a href=\"https://github.com/typings/typings/blob/master/docs/external-modules.md\" rel=\"nofollow\">external module</a>. I should be able to write TypeScript classes that extend the JavaScript classes. Also, I need to be able write functions having <code>KeyEvent</code> and <code>EventHandler</code> as parameters.</p>\n\n<p>Is this possible with the current state of TypeScript or do I need to file a TypeScript bug to support this scenario? If it's possible, how would I go about writing the <code>.d.ts</code> file?</p>\n"}, {"tags": ["javascript", "typescript", "angular"], "comments": [{"owner": {"reputation": 8071, "user_id": 5230735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97305d39e366bd0cf7e0e9bf5b19c179?s=128&d=identicon&r=PG&f=1", "display_name": "ralf htp", "link": "https://stackoverflow.com/users/5230735/ralf-htp"}, "edited": false, "score": 0, "creation_date": 1460581953, "post_id": 36609392, "comment_id": 60815966, "body": "See this <a href=\"http://www.jeffryhouser.com/index.cfm/2014/6/2/How-do-I-run-code-when-a-variable-changes-with-AngularJS\" rel=\"nofollow noreferrer\">jeffryhouser.com/index.cfm/2014/6/2/&hellip;</a> If you have a service in the background you can bind the service to $scope, see this <a href=\"https://thinkster.io/mean-stack-tutorial#angular-services\" rel=\"nofollow noreferrer\">thinkster.io/mean-stack-tutorial#angular-services</a>. i do not know if your message is a service"}, {"owner": {"reputation": 16227, "user_id": 401353, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/ad8b7da18de1bd7afcae52793734b76d?s=128&d=identicon&r=PG", "display_name": "Tuong Le", "link": "https://stackoverflow.com/users/401353/tuong-le"}, "edited": false, "score": 0, "creation_date": 1476760589, "post_id": 36609392, "comment_id": 67470311, "body": "This relates to <a href=\"http://stackoverflow.com/questions/35105374/how-to-force-a-components-re-rendering-in-angular-2?rq=1\" title=\"how to force a components re rendering in angular 2\">stackoverflow.com/questions/35105374/&hellip;</a>"}], "owner": {"reputation": 1779, "user_id": 5186877, "user_type": "registered", "accept_rate": 52, "profile_image": "https://graph.facebook.com/10204782008046419/picture?type=large", "display_name": "Gabe O&#39;Leary", "link": "https://stackoverflow.com/users/5186877/gabe-oleary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 183, "favorite_count": 0, "closed_date": 1460581326, "answer_count": 0, "score": 0, "last_activity_date": 1505018902, "creation_date": 1460580878, "last_edit_date": 1505018902, "question_id": 36609392, "link": "https://stackoverflow.com/questions/36609392/force-component-to-refresh-programmatically", "closed_reason": "Duplicate", "title": "Force component to refresh programmatically", "body": "<p>I have a Component whose data can be modified by a message sent in the background. This message is updating the data correctly, but the component view is not updating (unless I click around in the application triggering a refresh).  Is there anyway for me to programmatically trigger an update to the component?</p>\n"}, {"tags": ["typescript", "routing", "angular", "deep-linking"], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 2329474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d7YyD.jpg?s=128&g=1", "display_name": "dmcblue", "link": "https://stackoverflow.com/users/2329474/dmcblue"}, "edited": false, "score": 0, "creation_date": 1460639739, "post_id": 36614593, "comment_id": 60844436, "body": "Actually in this example, should be <code>this._router.navigateByUrl(path)</code> , but navigateByUrl seems to work great!  Thanks!"}, {"owner": {"reputation": 22195, "user_id": 5612697, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/GPZTK.jpg?s=128&g=1", "display_name": "Ankit Singh", "link": "https://stackoverflow.com/users/5612697/ankit-singh"}, "reply_to_user": {"reputation": 179, "user_id": 2329474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d7YyD.jpg?s=128&g=1", "display_name": "dmcblue", "link": "https://stackoverflow.com/users/2329474/dmcblue"}, "edited": false, "score": 0, "creation_date": 1460648226, "post_id": 36614593, "comment_id": 60851561, "body": "thanks for the correction, I assumed that you are generating a <code>url</code> of some sort in that <code>for loop</code>, my bad....     You&#39;re welcome!"}], "tags": [], "owner": {"reputation": 22195, "user_id": 5612697, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/GPZTK.jpg?s=128&g=1", "display_name": "Ankit Singh", "link": "https://stackoverflow.com/users/5612697/ankit-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1460648238, "last_edit_date": 1460648238, "creation_date": 1460612128, "answer_id": 36614593, "question_id": 36609375, "link": "https://stackoverflow.com/questions/36609375/how-to-pass-parameters-to-child-router-in-angular-2-for-deep-linking/36614593#36614593", "title": "How to pass parameters to child router in Angular 2 for deep linking?", "body": "<p>I think you're trying to navigate using <code>url</code>, </p>\n\n<p>and to do it correctly you need to use <a href=\"https://angular.io/docs/ts/latest/api/router/Router-class.html\" rel=\"nofollow\">navigateByUrl</a> instead of <code>navigate</code>, like this</p>\n\n<pre><code> this._router.navigateByUrl(path);\n</code></pre>\n"}], "owner": {"reputation": 179, "user_id": 2329474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d7YyD.jpg?s=128&g=1", "display_name": "dmcblue", "link": "https://stackoverflow.com/users/2329474/dmcblue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 938, "favorite_count": 0, "accepted_answer_id": 36614593, "answer_count": 1, "score": 0, "last_activity_date": 1460648238, "creation_date": 1460580820, "question_id": 36609375, "link": "https://stackoverflow.com/questions/36609375/how-to-pass-parameters-to-child-router-in-angular-2-for-deep-linking", "title": "How to pass parameters to child router in Angular 2 for deep linking?", "body": "<p>Basically, if I have one component that signals a child routing component, like:</p>\n\n<pre><code>@RouteConfig([\n    {\n        path: '/users/...', //CHILD ROUTING COMPONENT\n        name: 'Users',\n        component: UsersComponent,\n        useAsDefault: true\n    }\n])\nexport class App {\n   constructor(private _router: Router) {}\n   ucFirst(str:string){\n        var parts = str.split(' ');\n         for(var i = 0, ilen = parts.length; i &lt; ilen; i++){\n            parts[i] = parts[i].charAt(0).toUpperCase() + parts[i].slice(1);\n         }\n         return parts.join(' ');\n     }\n   ngOnInit() {\n     //Handle deep links if exist\n     var baseHref = document.getElementsByTagName('base')[0].href;\n        var path = location.href.replace(baseHref, '');\n\n         if(path.length){\n             let slugs = path.split('/');\n             for(let i = 0, ilen = slugs.length; i &lt; ilen; i++){\n                slugs[i] = this.ucFirst(slugs[i]);\n             }\n             this._router.navigate(slugs);\n         }\n     }\n }\n</code></pre>\n\n<p>And then the child router uses some kind of parameter in one of the paths, like:</p>\n\n<pre><code>@RouteConfig([{\n    path: '/',\n    name: 'UserList',\n    component: UserListComponent,\n    useAsDefault: true\n},{\n    path: '/:id', \n    name: 'UserView', \n    component: UserViewComponent\n}])\n</code></pre>\n\n<p>How do I make deep links work?  I can use the code to get to the grandchild view, but deep links fail (Error No route 'users/1' where 1 is the :id).  Basically I need to handle half of the path in the parent router and half in the child router but I have not found the way to do so.  I can make deep links work as long as they exist completely in the parent but I am working on a larger project and want to make the set up more modular.</p>\n\n<p>I have put my code in this plunker: <a href=\"https://plnkr.co/edit/7cKBEwQmFSJrDFWhL4EV?p=preview\" rel=\"nofollow\">https://plnkr.co/edit/7cKBEwQmFSJrDFWhL4EV?p=preview</a>\nIt works locally (minus the deep links) but not on plunker, which I've never used before so I imagine this is kind of simple configuration issue on my part.  But it at least gives you an idea of the attempt at modularization.</p>\n"}, {"tags": ["visual-studio", "typescript"], "comments": [{"owner": {"reputation": 2319, "user_id": 485183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/nAFij.png?s=128&g=1", "display_name": "Corey Alix", "link": "https://stackoverflow.com/users/485183/corey-alix"}, "edited": false, "score": 0, "creation_date": 1460581657, "post_id": 36608387, "comment_id": 60815810, "body": "I don&#39;t think that is going to be possible.  It&#39;s running in the browser so how can VS know what is going on with console?"}, {"owner": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "reply_to_user": {"reputation": 2319, "user_id": 485183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/nAFij.png?s=128&g=1", "display_name": "Corey Alix", "link": "https://stackoverflow.com/users/485183/corey-alix"}, "edited": false, "score": 0, "creation_date": 1460582387, "post_id": 36608387, "comment_id": 60816196, "body": "@CoreyAlix It might run in a NodeJS environment as well, and I wouldn&#39;t say it&#39;s impossible to redirect NodeJS output to the Visual Studio command line. I don&#39;t know how to do that, but it sounds perfectly reasonable and feasible to achieve."}, {"owner": {"reputation": 105, "user_id": 2995237, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/ih3vO.jpg?s=128&g=1", "display_name": "maanick90", "link": "https://stackoverflow.com/users/2995237/maanick90"}, "edited": false, "score": 0, "creation_date": 1460730063, "post_id": 36608387, "comment_id": 60892724, "body": "Other than console.log(), is there any other command available to print in VS itself?"}], "answers": [{"comments": [{"owner": {"reputation": 2825, "user_id": 3723803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Fujn1.jpg?s=128&g=1", "display_name": "Tim Hutchison", "link": "https://stackoverflow.com/users/3723803/tim-hutchison"}, "edited": false, "score": 0, "creation_date": 1496233585, "post_id": 44284127, "comment_id": 75576180, "body": "Looks like you missed a &quot;:&quot; after your [1] to put the hyperlink in the correct place.  Also, not sure why you are recommending a lesser version of Visual Studio since they are already using visual studio."}, {"owner": {"reputation": 1298, "user_id": 8091775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92198054a92b7ac48519bc1bd2cae893?s=128&d=identicon&r=PG&f=1", "display_name": "Quentin 2", "link": "https://stackoverflow.com/users/8091775/quentin-2"}, "reply_to_user": {"reputation": 2825, "user_id": 3723803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Fujn1.jpg?s=128&g=1", "display_name": "Tim Hutchison", "link": "https://stackoverflow.com/users/3723803/tim-hutchison"}, "edited": false, "score": 0, "creation_date": 1496245575, "post_id": 44284127, "comment_id": 75585133, "body": "As far as Typescript is concerned it is not a lesser version and can use the  latest version of it. It is also faster to start up and build projects. There are no spurious dll&#39;s created as a hang over from C#. It also works well with Chrome for debugging in Typescript."}], "tags": [], "owner": {"reputation": 1298, "user_id": 8091775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92198054a92b7ac48519bc1bd2cae893?s=128&d=identicon&r=PG&f=1", "display_name": "Quentin 2", "link": "https://stackoverflow.com/users/8091775/quentin-2"}, "is_accepted": false, "score": 1, "last_activity_date": 1496231985, "last_edit_date": 1496231985, "creation_date": 1496231681, "answer_id": 44284127, "question_id": 36608387, "link": "https://stackoverflow.com/questions/36608387/using-typescript-how-can-i-print-to-output-window-in-visual-studio/44284127#44284127", "title": "Using Typescript, how can I print to output window in Visual Studio?", "body": "<p>If you want what you can do is select Debug|Window | Javascript Console.[1] This also works for Typescript programs since they are converted to Javascript before being sent to the browser.</p>\n\n<p>You can do this using Visual Studio Code which is much more suitable for Typescript and can output the console, using Chrome, to the window inside. It can also examine variables and the stack.</p>\n\n<p>[1] <a href=\"https://msdn.microsoft.com/en-us/library/dn688631.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/dn688631.aspx</a></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 12510018, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/42ea98f71dda5000e7e5751252eb36f2?s=128&d=identicon&r=PG", "display_name": "YATHARTH KUNDRA", "link": "https://stackoverflow.com/users/12510018/yatharth-kundra"}, "is_accepted": false, "score": 1, "last_activity_date": 1575966690, "last_edit_date": 1575966690, "creation_date": 1575963649, "answer_id": 59262382, "question_id": 36608387, "link": "https://stackoverflow.com/questions/36608387/using-typescript-how-can-i-print-to-output-window-in-visual-studio/59262382#59262382", "title": "Using Typescript, how can I print to output window in Visual Studio?", "body": "<p>For single file in Visual Studio.</p>\n\n<blockquote>\n  <p>tsc filename.ts</p>\n</blockquote>\n\n<p>compiles and converts to JS.</p>\n\n<blockquote>\n  <p>node filename.js</p>\n</blockquote>\n\n<p>it displayed output in VS <code>console/terminal</code>.</p>\n"}], "owner": {"reputation": 105, "user_id": 2995237, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/ih3vO.jpg?s=128&g=1", "display_name": "maanick90", "link": "https://stackoverflow.com/users/2995237/maanick90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9422, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1610550265, "creation_date": 1460577559, "last_edit_date": 1460582315, "question_id": 36608387, "link": "https://stackoverflow.com/questions/36608387/using-typescript-how-can-i-print-to-output-window-in-visual-studio", "title": "Using Typescript, how can I print to output window in Visual Studio?", "body": "<p>I have started to develop a web application using Typescript in Visual Studio. I'd like to know how can I print my values to output window in Visual Studio. <code>console.log(....)</code> prints to browser console; but what should I use to print in Visual Studio itself.</p>\n"}, {"tags": ["object", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 2509, "user_id": 1629278, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/a759fb62eff73d12b00073f20148ccbc?s=128&d=identicon&r=PG", "display_name": "Rafael Reyes", "link": "https://stackoverflow.com/users/1629278/rafael-reyes"}, "edited": false, "score": 1, "creation_date": 1519937186, "post_id": 36608015, "comment_id": 85121606, "body": "Hi, good answer. Why you didn&#39;t use a class instead of a interface?"}, {"owner": {"reputation": 11951, "user_id": 1126273, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/XqyXV.png?s=128&g=1", "display_name": "Bal&#225;zs &#201;des", "link": "https://stackoverflow.com/users/1126273/bal%c3%a1zs-%c3%89des"}, "reply_to_user": {"reputation": 2509, "user_id": 1629278, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/a759fb62eff73d12b00073f20148ccbc?s=128&d=identicon&r=PG", "display_name": "Rafael Reyes", "link": "https://stackoverflow.com/users/1629278/rafael-reyes"}, "edited": false, "score": 4, "creation_date": 1521708648, "post_id": 36608015, "comment_id": 85849244, "body": "@RafaelReyes Interfaces will have no trace in the generated javascript, it&#39;s purely type information (as it should be in this case)."}], "tags": [], "owner": {"reputation": 11951, "user_id": 1126273, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/XqyXV.png?s=128&g=1", "display_name": "Bal&#225;zs &#201;des", "link": "https://stackoverflow.com/users/1126273/bal%c3%a1zs-%c3%89des"}, "is_accepted": true, "score": 81, "last_activity_date": 1584821181, "last_edit_date": 1584821181, "creation_date": 1460576301, "answer_id": 36608015, "question_id": 36607979, "link": "https://stackoverflow.com/questions/36607979/how-to-get-around-property-does-not-exist-on-object/36608015#36608015", "title": "How to get around property does not exist on &#39;Object&#39;", "body": "<p>If you use the <code>any</code> type instead of <code>Object</code>, you can access any property without compile errors.</p>\n\n<p>However, I would advise to create an interface that marks the possible properties for that object:</p>\n\n<pre><code>interface Options {\n  selector?: string\n  template?: string\n}\n</code></pre>\n\n<p>Since all of the fields use <code>?:</code>, it means that they might or might not be there. So this works:</p>\n\n<pre><code>function doStuff(o: Options) {\n  //...\n}\n\ndoStuff({}) // empty object\ndoStuff({ selector: \"foo\" }) // just one of the possible properties\ndoStuff({ selector: \"foo\", template: \"bar\" }) // all props\n</code></pre>\n\n<p>If something comes from javascript, you can do something like this:</p>\n\n<pre><code>import isObject from 'lodash/isObject'\n\nconst myOptions: Options = isObject(somethingFromJS) // if an object\n    ? (somethingFromJS as Options) // cast it\n    : {} // else create an empty object\n\ndoStuff(myOptions) // this works now\n</code></pre>\n\n<p>Of course this solution only works as expected if you are only unsure about the presence of a property not of it's type.</p>\n"}, {"comments": [{"owner": {"reputation": 20716, "user_id": 2299820, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/VlclH.jpg?s=128&g=1", "display_name": "Code Whisperer", "link": "https://stackoverflow.com/users/2299820/code-whisperer"}, "edited": false, "score": 12, "creation_date": 1524496740, "post_id": 45090885, "comment_id": 86985396, "body": "This works but seems to truly undermine TypeScript&#39;s typing"}, {"owner": {"reputation": 1953, "user_id": 641470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbf36bdd6961c8d1c638dfd538838380?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/641470/mark"}, "edited": false, "score": 0, "creation_date": 1554866268, "post_id": 45090885, "comment_id": 97903697, "body": "This is even more tricky when you do a for (let item of items) and item.x is not a property of object and you can&#39;t seem to cast it."}], "tags": [], "owner": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "is_accepted": false, "score": 19, "last_activity_date": 1499979969, "creation_date": 1499979969, "answer_id": 45090885, "question_id": 36607979, "link": "https://stackoverflow.com/questions/36607979/how-to-get-around-property-does-not-exist-on-object/45090885#45090885", "title": "How to get around property does not exist on &#39;Object&#39;", "body": "<p>If you don't want to change the type or create an interface, you can also use this syntax to access unknown properties:</p>\n\n<pre><code>selector ():string {\n    return this.options[\"selector\"];\n}   \n\ntemplate ():string {\n    return this.options[\"template\"];\n}\n</code></pre>\n"}], "owner": {"reputation": 717, "user_id": 5812315, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1623503457932175/picture?type=large", "display_name": "Eric Harms", "link": "https://stackoverflow.com/users/5812315/eric-harms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83580, "favorite_count": 7, "accepted_answer_id": 36608015, "answer_count": 2, "score": 65, "last_activity_date": 1584821181, "creation_date": 1460576189, "last_edit_date": 1499984288, "question_id": 36607979, "link": "https://stackoverflow.com/questions/36607979/how-to-get-around-property-does-not-exist-on-object", "title": "How to get around property does not exist on &#39;Object&#39;", "body": "<p>I'm new to Typescript, and not sure how to word this question. </p>\n\n<p>I need to access two \"possible\" properties on an object that is passed in the constructor. I know im missing some checks to see if they are defined, but Typescript is throwing me a \"Property does not exist on 'Object'\" message. The message appears on the <strong>selector</strong> and <strong>template</strong> returns.</p>\n\n<pre><code>class View {\n    public options:Object = {};\n\n   constructor(options:Object) {\n       this.options = options;\n   }\n\n   selector ():string {\n       return this.options.selector;\n   }   \n\n   template ():string {\n       return this.options.template;\n   }   \n\n   render ():void {\n\n   }   \n}\n</code></pre>\n\n<p>I'm sure its fairly simple, but Typescript is new to me.</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "gulp", "systemjs"], "comments": [{"owner": {"reputation": 3104, "user_id": 1350162, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Px86A.jpg?s=128&g=1", "display_name": "callback", "link": "https://stackoverflow.com/users/1350162/callback"}, "edited": false, "score": 0, "creation_date": 1460576057, "post_id": 36607912, "comment_id": 60812609, "body": "Might be that your code is running before <code>System</code> has been defined."}, {"owner": {"reputation": 9029, "user_id": 2663692, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/LOx4z.png?s=128&g=1", "display_name": "Tal Avissar", "link": "https://stackoverflow.com/users/2663692/tal-avissar"}, "edited": false, "score": 0, "creation_date": 1460576508, "post_id": 36607912, "comment_id": 60812917, "body": "How about adding: var System = require(&#39;systemjs&#39;);"}, {"owner": {"reputation": 550, "user_id": 2083818, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/1c7a7ab3e61c402a4a18629f4eb65fb7?s=128&d=identicon&r=PG", "display_name": "Amnestic", "link": "https://stackoverflow.com/users/2083818/amnestic"}, "reply_to_user": {"reputation": 3104, "user_id": 1350162, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Px86A.jpg?s=128&g=1", "display_name": "callback", "link": "https://stackoverflow.com/users/1350162/callback"}, "edited": false, "score": 0, "creation_date": 1460576767, "post_id": 36607912, "comment_id": 60813087, "body": "@callback, how would I go about fixing that?"}, {"owner": {"reputation": 2319, "user_id": 485183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/nAFij.png?s=128&g=1", "display_name": "Corey Alix", "link": "https://stackoverflow.com/users/485183/corey-alix"}, "edited": false, "score": 2, "creation_date": 1460577563, "post_id": 36607912, "comment_id": 60813554, "body": "Why are you using systemjs in node?  Change the tsconfig.json to use &quot;commonjs&quot; instead of &quot;system&quot;?"}, {"owner": {"reputation": 550, "user_id": 2083818, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/1c7a7ab3e61c402a4a18629f4eb65fb7?s=128&d=identicon&r=PG", "display_name": "Amnestic", "link": "https://stackoverflow.com/users/2083818/amnestic"}, "edited": false, "score": 0, "creation_date": 1460578775, "post_id": 36607912, "comment_id": 60814238, "body": "Why doesn&#39;t system work with node though? Answered my question tho."}, {"owner": {"reputation": 4789, "user_id": 5959673, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2c5f9e929ba8e6b7985e32547828e670?s=128&d=identicon&r=PG&f=1", "display_name": "rgvassar", "link": "https://stackoverflow.com/users/5959673/rgvassar"}, "edited": false, "score": 0, "creation_date": 1460578931, "post_id": 36607912, "comment_id": 60814332, "body": "System does work with node. The system.js file should not be in the same directory as the server.js file as you state. You should install it with npm, which would make it end up in the node_modules directory. Then you&#39;d import it with an import statement at the top. I agree with Corey Alix though. Just use commonjs, so you don&#39;t have to go through all of that."}], "owner": {"reputation": 550, "user_id": 2083818, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/1c7a7ab3e61c402a4a18629f4eb65fb7?s=128&d=identicon&r=PG", "display_name": "Amnestic", "link": "https://stackoverflow.com/users/2083818/amnestic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1710, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1460575956, "creation_date": 1460575956, "question_id": 36607912, "link": "https://stackoverflow.com/questions/36607912/system-is-not-defined", "title": "System is not defined", "body": "<p>I have made a little script turning my express server written in TypeScript into JavaScript using Gulp:</p>\n\n<pre><code>gulp.task(\"compile:server\", () =&gt; {\nvar tsProject = ts.createProject('./tsconfig.json');\nvar tsResult = gulp.src('server/**/*.ts')\n    .pipe(sourcemaps.init())\n    .pipe(ts(tsProject));\nreturn tsResult.js\n    .pipe(concat('server.js'))\n    .pipe(sourcemaps.write())\n    .pipe(gulp.dest('build'))\n</code></pre>\n\n<p>});</p>\n\n<p>The resultant JavaScript looks like this:</p>\n\n<pre><code>System.register(['express'], function(exports_1, context_1) {\n\"use strict\";\nvar __moduleName = context_1 &amp;&amp; context_1.id;\nvar express;\nvar app, PORT, logger;\nreturn {\n    setters:[\n        function (express_1) {\n            express = express_1;\n        }],\n    execute: function() {\n        app = express();\n        PORT = 3000;\n        logger = function (req, res, next) {\n            console.log(Date.now() + ': ' + req.baseUrl);\n            next();\n        };\n        app.use(logger);\n        app.listen(PORT);\n    }\n}\n});\n</code></pre>\n\n<p>However, when I run \"node server.js\", I get the following error:</p>\n\n<p>ReferenceError: System is not defined.</p>\n\n<p>Which I find very weird, since the system.js file is in the same directory as the server.js file. Help's much appreciated.</p>\n"}, {"tags": ["angularjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6200542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0484563fa81f39b8ec41d1480114e3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/6200542/jason"}, "edited": false, "score": 0, "creation_date": 1460578909, "post_id": 36608437, "comment_id": 60814318, "body": "That&#39;s not what I mean, suppose we have already some service defined, in controller we can use dependency injection to inject it, my question is for this service, how can we inject it to initialize serviceObj in Enums."}, {"owner": {"reputation": 2319, "user_id": 485183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/nAFij.png?s=128&g=1", "display_name": "Corey Alix", "link": "https://stackoverflow.com/users/485183/corey-alix"}, "reply_to_user": {"reputation": 11, "user_id": 6200542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0484563fa81f39b8ec41d1480114e3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/6200542/jason"}, "edited": false, "score": 0, "creation_date": 1460581499, "post_id": 36608437, "comment_id": 60815735, "body": "You&#39;ll want serviceObj to have some typing info on it but you can set/reassign it just like a normal property."}, {"owner": {"reputation": 11, "user_id": 6200542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0484563fa81f39b8ec41d1480114e3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/6200542/jason"}, "edited": false, "score": 0, "creation_date": 1460582041, "post_id": 36608437, "comment_id": 60816008, "body": "Can I use injector to do inject in a regular class instead of using new? Basically I want to use angular way to do it."}], "tags": [], "owner": {"reputation": 2319, "user_id": 485183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/nAFij.png?s=128&g=1", "display_name": "Corey Alix", "link": "https://stackoverflow.com/users/485183/corey-alix"}, "is_accepted": false, "score": 0, "last_activity_date": 1460581465, "last_edit_date": 1460581465, "creation_date": 1460577718, "answer_id": 36608437, "question_id": 36607446, "link": "https://stackoverflow.com/questions/36607446/angularjs-how-to-inject-service-to-a-static-member-of-a-regular-class/36608437#36608437", "title": "AngularJS: How to inject service to a static member of a regular class", "body": "<p>Not exactly sure what you're asking but is this what you're looking for?</p>\n\n<pre><code>interface ServiceObj {\n}\n\nclass Enums {\n    public static serviceObj : ServiceObj;\n}\n\nEnums.serviceObj = [set from some external location]\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6200542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0484563fa81f39b8ec41d1480114e3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/6200542/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1460581465, "creation_date": 1460574505, "last_edit_date": 1460577387, "question_id": 36607446, "link": "https://stackoverflow.com/questions/36607446/angularjs-how-to-inject-service-to-a-static-member-of-a-regular-class", "title": "AngularJS: How to inject service to a static member of a regular class", "body": "<p>I'm using typescript&amp;angularJS for a project and I have a public class (not controller, just a regular class) to hold some enums, is that possible I can instantiate a static member of this class with a service object? </p>\n\n<p>With Controller, it's very easy to use DI of AngularJS to instantiate a service object but for a regular class, I don't know how to do it.</p>\n\n<p>Thanks.</p>\n\n<p>Add code snippet: </p>\n\n<pre><code>export public Enums {\n    public static serviceObj; //how to instantiate serviceObj with some service?\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["typescript", "ionic2"], "comments": [{"owner": {"reputation": 918, "user_id": 3209658, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GJxAy.jpg?s=128&g=1", "display_name": "Raja Yogan", "link": "https://stackoverflow.com/users/3209658/raja-yogan"}, "edited": false, "score": 0, "creation_date": 1460617223, "post_id": 36607058, "comment_id": 60828164, "body": "You have the about.ts written separately right..?  In your error it shows this line /helloWordl/app/pages/about/about.js  so, why use typescript and es6 in the same project..?"}, {"owner": {"reputation": 3914, "user_id": 4482057, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cQnUj.jpg?s=128&g=1", "display_name": "Will.Harris", "link": "https://stackoverflow.com/users/4482057/will-harris"}, "edited": false, "score": 0, "creation_date": 1460726616, "post_id": 36607058, "comment_id": 60890093, "body": "This isn&#39;t in a lot of documentation but you need to declare your property <code>name</code> before the constructor otherwise <code>this.name = &quot;string&quot;</code> throws an error. So where you have <code>aboutPage = AboutPage</code> also add <code>name: string</code> to declare it as a string variable before you set it in the constructor"}, {"owner": {"reputation": 3914, "user_id": 4482057, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cQnUj.jpg?s=128&g=1", "display_name": "Will.Harris", "link": "https://stackoverflow.com/users/4482057/will-harris"}, "edited": false, "score": 0, "creation_date": 1460726696, "post_id": 36607058, "comment_id": 60890163, "body": "It could be that because the above causes an error the <code>[navPush]</code> page transition doesn&#39;t take effect"}], "answers": [{"tags": [], "owner": {"reputation": 2569, "user_id": 4392527, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1666204769/picture?type=large", "display_name": "Denko Mancheski", "link": "https://stackoverflow.com/users/4392527/denko-mancheski"}, "is_accepted": false, "score": 2, "last_activity_date": 1461368800, "creation_date": 1461368800, "answer_id": 36804914, "question_id": 36607058, "link": "https://stackoverflow.com/questions/36607058/ionic-2-navigation-pages-dont-work/36804914#36804914", "title": "Ionic 2 navigation pages dont work", "body": "<p>Create a function in the class which will do the navigation and call the function on the button instead of using [navPush]. Also you will need to Inject the NavController inside the constructor. Example:</p>\n\n<pre><code>constructor(private nav: NavController){\n}\n\nnavigateAbout(){\n  this.nav.push(AboutPage);\n}\n</code></pre>\n\n<p>Than in the html just do <code>&lt;button (click)=\"navigateAbout\"&gt;&lt;/button&gt;</code>\nI think this is better approach, plus you will see the whole logic in the class instead of having it in the html</p>\n\n<p>If you still want to do your approach, try injecing NavController in the constructor, maybe it will help</p>\n"}, {"tags": [], "owner": {"reputation": 66, "user_id": 700194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0f68d2b6ae0a2b80720748b77aab8f4?s=128&d=identicon&r=PG", "display_name": "roydell Clarke", "link": "https://stackoverflow.com/users/700194/roydell-clarke"}, "is_accepted": false, "score": 0, "last_activity_date": 1463096527, "creation_date": 1463096527, "answer_id": 37199137, "question_id": 36607058, "link": "https://stackoverflow.com/questions/36607058/ionic-2-navigation-pages-dont-work/37199137#37199137", "title": "Ionic 2 navigation pages dont work", "body": "<p>Your variable is in global space. Use \"let\" keyword for block scoping.\nOr place  your \"aboutPage\" variable  in the body of the constructor like so: this.aboutPage.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6767863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1CPnX.jpg?s=128&g=1", "display_name": "Aissar Murad", "link": "https://stackoverflow.com/users/6767863/aissar-murad"}, "is_accepted": false, "score": 0, "last_activity_date": 1472416227, "creation_date": 1472416227, "answer_id": 39195513, "question_id": 36607058, "link": "https://stackoverflow.com/questions/36607058/ionic-2-navigation-pages-dont-work/39195513#39195513", "title": "Ionic 2 navigation pages dont work", "body": "<p>I think this is because you need to call the NavController within your Constructor.\nThis should solve the issue.</p>\n\n<pre><code>import {Page} from 'ionic-angular';\nimport {AboutPage} from '../about/about';\n\n@Page({\n  templateUrl: 'build/pages/home/home.html'\n})\nexport class HomePage {\n  aboutPage = AboutPage;\n\n  constructor(public navCtrl: NavController) {\n    this.navCtrl;\n    this.name = \"Bartek\";\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6184118, "user_type": "registered", "profile_image": "https://graph.facebook.com/998446006891980/picture?type=large", "display_name": "Bartek Miko\u0142ajczuk", "link": "https://stackoverflow.com/users/6184118/bartek-miko%c5%82ajczuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2980, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1472416227, "creation_date": 1460573427, "question_id": 36607058, "link": "https://stackoverflow.com/questions/36607058/ionic-2-navigation-pages-dont-work", "title": "Ionic 2 navigation pages dont work", "body": "<p>I have problem with my first ionic 2 app just doing a tutorial form official blog of ionic and this just dont work for me, this is my home.ts</p>\n\n<pre><code>import {Page} from 'ionic-angular';\nimport {AboutPage} from '../about/about';\n\n@Page({\n  templateUrl: 'build/pages/home/home.html'\n})\nexport class HomePage {\n  aboutPage = AboutPage;\n\n  constructor() {\n  this.name = \"Bartek\";\n  }\n}\n</code></pre>\n\n<p>and this is my home.html and this should just navigate me to next page:</p>\n\n<pre><code>&lt;ion-navbar *navbar&gt;\n\n\n&lt;ion-title&gt;\n    Hello World\n  &lt;/ion-title&gt;\n&lt;/ion-navbar&gt;\n\n&lt;ion-content class=\"home\"&gt;\n  &lt;ion-card&gt;\n    &lt;ion-card-header&gt;\n      Card Header\n    &lt;/ion-card-header&gt;\n    &lt;ion-card-content&gt;\n      Hello\n      &lt;button [navPush]=\"aboutPage\"&gt;Go To About&lt;/button&gt;\n    &lt;/ion-card-content&gt;\n  &lt;/ion-card&gt;\n&lt;/ion-content&gt;\n</code></pre>\n\n<p>but when i run a \"ionic-serve\" in CLI this give me a that error</p>\n\n<pre><code>ionic $ TypeScript error: \n\n/home/bartomiej/Programowanie/Nauka/Ionic/helloWordl/app/pages/home/home.ts(2,25): Error TS2307: Cannot find module '../about/about'.\nTypeScript error: /home/bartomiej/Programowanie/Nauka/Ionic/helloWordl/app/pages/home/home.ts(11,8): Error TS2339: Property 'name' does not exist on type 'HomePage'.\n[20:41:16] Starting 'html'...\n[20:41:17] Finished 'html' after 770 ms\n\n/home/bartomiej/Programowanie/Nauka/Ionic/helloWordl/app/pages/about/about.js:1\nimport {Page, NavController} from 'ionic-angular';\n^\nParseError: 'import' and 'export' may appear only with 'sourceType: module'\nHTML changed: www/build/pages/about/about.html\nHTML changed: www/build/pages/home/home.html\n</code></pre>\n\n<p>Anyone have idea what is wrong there i just follow a instruction from official blog :)</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 5447, "user_id": 1307592, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/93c5b03c1754300d21a049a4026a4a81?s=128&d=identicon&r=PG", "display_name": "zeroin", "link": "https://stackoverflow.com/users/1307592/zeroin"}, "edited": false, "score": 0, "creation_date": 1460570343, "post_id": 36605831, "comment_id": 60809111, "body": "Thanks - this indeed solves first issue (correct type of style is created). What about 2nd - is it possible that style getter return type would be BetterStyle (if it&#39;s BetterBase instance)?"}, {"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "reply_to_user": {"reputation": 5447, "user_id": 1307592, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/93c5b03c1754300d21a049a4026a4a81?s=128&d=identicon&r=PG", "display_name": "zeroin", "link": "https://stackoverflow.com/users/1307592/zeroin"}, "edited": false, "score": 0, "creation_date": 1460573516, "post_id": 36605831, "comment_id": 60811078, "body": "Not currently possible to make that automatic. You could make <code>Base</code> generic and require derivatives to provide a concrete type, though."}, {"owner": {"reputation": 5447, "user_id": 1307592, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/93c5b03c1754300d21a049a4026a4a81?s=128&d=identicon&r=PG", "display_name": "zeroin", "link": "https://stackoverflow.com/users/1307592/zeroin"}, "edited": false, "score": 0, "creation_date": 1460575014, "post_id": 36605831, "comment_id": 60811982, "body": "By adding getter to each class which extends Base, right?"}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 2, "last_activity_date": 1460569465, "creation_date": 1460569465, "answer_id": 36605831, "question_id": 36605397, "link": "https://stackoverflow.com/questions/36605397/typescript-create-instance-in-base-class-of-a-type-defined-in-extending-class/36605831#36605831", "title": "Typescript: create instance in base class of a type defined in extending class / dynamic return type", "body": "<p>Basically what you're doing is calling a virtual method from a constructor, which is a no-no because the base class constructor has to finish before derived class initialization can happen. The solution is to defer that execution until later so that the derived class can overwrite the base class value:</p>\n\n<pre><code>class Base {\n    styleType:typeof Style = Style;\n    private _style:Style;\n\n    constructor(){ }\n\n    // Lazy initialization\n    public get style():Style{\n        return this._style || (this.style = new this.styleType());\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 5447, "user_id": 1307592, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/93c5b03c1754300d21a049a4026a4a81?s=128&d=identicon&r=PG", "display_name": "zeroin", "link": "https://stackoverflow.com/users/1307592/zeroin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 0, "accepted_answer_id": 36605831, "answer_count": 1, "score": 0, "last_activity_date": 1460569465, "creation_date": 1460568122, "question_id": 36605397, "link": "https://stackoverflow.com/questions/36605397/typescript-create-instance-in-base-class-of-a-type-defined-in-extending-class", "title": "Typescript: create instance in base class of a type defined in extending class / dynamic return type", "body": "<p>I have Base class which has style and styleType properties defined. There is a Better class which extends Base class and it overrides styleType with another value. </p>\n\n<p>Is it possible in the Base class to create instance of style which is of styleType defined in Better class?</p>\n\n<p>And, a second question - can getter of style in Base class return the correct type (BetterStyle if it's BetterBase instance) of style?</p>\n\n<pre><code>class Base {\n    styleType:typeof Style = Style;\n    private _style:Style;\n\n    constructor(){\n        this._style = new this.styleType();\n    }\n    // how to define return type so that it would beof styleType?\n    public get style():Style{\n        return this._style;\n    }\n}\n\nclass Style{\n    public color;\n}\n\nclass BetterBase extends Base{\n    styleType:typeof BetterStyle =  BetterStyle;\n}\n\nclass BetterStyle extends Style{\n    public betterColor;\n}\n\nvar betterBase = new BetterBase();\nbetterBase.style.color = \"#FF0000\";\nconsole.log(betterBase.style); // incorrect, outputs Style, not BetterStyle\nconsole.log(betterBase.styleType);\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=class%20Base%20%7B%0D%0A%20%20%20%20styleType%3Atypeof%20Style%20%3D%20Style%3B%0D%0A%09private%20_style%3AStyle%3B%0D%0A%09%0D%0A%09constructor()%7B%0D%0A%09%09this._style%20%3D%20new%20this.styleType()%3B%0D%0A%09%7D%0D%0A%09%2F%2F%20how%20to%20define%20return%20type%20so%20that%20it%20would%20be%20of%20styleType%3F%0D%0A%09public%20get%20style()%3AStyle%7B%0D%0A%09%09return%20this._style%3B%0D%0A%09%7D%0D%0A%7D%0D%0A%0D%0Aclass%20Style%7B%0D%0A%09public%20color%3B%0D%0A%7D%0D%0A%0D%0Aclass%20BetterBase%20extends%20Base%7B%0D%0A%09styleType%3Atypeof%20BetterStyle%20%3D%20%20BetterStyle%3B%0D%0A%7D%0D%0A%0D%0Aclass%20BetterStyle%20extends%20Style%7B%0D%0A%09public%20betterColor%3B%0D%0A%7D%0D%0A%0D%0Avar%20betterBase%20%3D%20new%20BetterBase()%3B%0D%0AbetterBase.style.color%20%3D%20%22%23FF0000%22%3B%0D%0Aconsole.log(betterBase.style)%3B%20%2F%2F%20incorrect%2C%20outputs%20Style%2C%20not%20BetterStyle%0D%0Aconsole.log(betterBase.styleType)%3B%0D%0A\" rel=\"nofollow\">Playground here</a>.</p>\n"}, {"tags": ["http", "post", "typescript", "angular", "ionic2"], "answers": [{"tags": [], "owner": {"reputation": 160, "user_id": 1588149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vaL6d.jpg?s=128&g=1", "display_name": "Natasha Loiseau", "link": "https://stackoverflow.com/users/1588149/natasha-loiseau"}, "is_accepted": false, "score": 0, "last_activity_date": 1466601556, "creation_date": 1466601556, "answer_id": 37969302, "question_id": 36604845, "link": "https://stackoverflow.com/questions/36604845/httpparamserializerjqlike-in-angular2/37969302#37969302", "title": "httpParamSerializerJQLike in angular2?", "body": "<p>I'm going to preface this by saying that this may not be the best way to handle this, but it's how I took care of the problem for myself (The Angular 2 docs don't seem to mention x-www-form-urlencoded anywhere).</p>\n\n<p>So if your data is set up like</p>\n\n<pre><code>var data = {\"contato\": $scope.contato, \"id\":$scope.contato.id, \"_method\":'PUT'};\n</code></pre>\n\n<p>You want to basically convert it to a form yourself. </p>\n\n<pre><code>var encodedData = \"contato=\" + contato + \"&amp;id=\" + contato.id + \"&amp;_method=PUT\";\n</code></pre>\n\n<p>then you can modify your POST request to look like this</p>\n\n<pre><code>this._http    \n.post(this.urlApi + '/contatos', encodedData, options)      \n.subscribe(data =&gt; {\n  console.log('Funciona: ' + data.text());\n}, error =&gt; {\n  console.log('Erro: ' + error.text())\n});\n</code></pre>\n\n<p>There's no need to JSON.stringify it since you're not passing json, you're passing form data. </p>\n\n<p>I hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 69, "user_id": 5254923, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5ba140aa18c3641eb317f0a718236b2e?s=128&d=identicon&r=PG&f=1", "display_name": "nemonake", "link": "https://stackoverflow.com/users/5254923/nemonake"}, "is_accepted": false, "score": 0, "last_activity_date": 1467552391, "creation_date": 1467552391, "answer_id": 38170391, "question_id": 36604845, "link": "https://stackoverflow.com/questions/36604845/httpparamserializerjqlike-in-angular2/38170391#38170391", "title": "httpParamSerializerJQLike in angular2?", "body": "<p>I wrote a function in my http.ts provider like so ---</p>\n\n<pre><code>private formatData(data){\n    let returnData = '';\n    console.log(data);\n    let count = 0;\n    for (let i in data){\n        if(count == 0){\n            returnData += i+'='+data[i];\n        }else{\n            returnData += '&amp;'+i+'='+data[i];\n        }\n        count = count + 1;\n        console.log(returnData);\n    }\n    return returnData;\n}\n</code></pre>\n\n<p>Call it like this.</p>\n\n<pre><code>post('localhost/url',data){\ndata = this.formatData(data);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 5849126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/178d659b699212ea1bb2eaad1c7c3f78?s=128&d=identicon&r=PG&f=1", "display_name": "Kriztian Bran", "link": "https://stackoverflow.com/users/5849126/kriztian-bran"}, "is_accepted": false, "score": 3, "last_activity_date": 1472590922, "creation_date": 1472590922, "answer_id": 39237036, "question_id": 36604845, "link": "https://stackoverflow.com/questions/36604845/httpparamserializerjqlike-in-angular2/39237036#39237036", "title": "httpParamSerializerJQLike in angular2?", "body": "<p>I had a similar problem, i can solve this:</p>\n\n<pre><code>import { Headers, Http, Response, URLSearchParams, RequestOptions } from '@angular/http';\n\nlet headers = new Headers({\n     'Content-Type': 'application/x-www-form-urlencoded',\n     'Accept': '*/*'});\n  let options = new RequestOptions({ headers: headers });\n  let body = new URLSearchParams();\n\n  body.set(\"message\", JSON.stringify(m_dataRequest));\n  body.set(\"webService\", \"authService\");\n\n  return this.http\n             .post(this.Url, body.toString(), options)\n             .toPromise()\n             .then(this.extractData)\n             .catch(this.handleError);\n</code></pre>\n\n<p>URLSearchParams normalized the params of the form and the pipes dimiss, this work for me.\nI hope this solve your problem.</p>\n"}, {"tags": [], "owner": {"reputation": 649, "user_id": 5465728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oQ0BU.jpg?s=128&g=1", "display_name": "B.Ma", "link": "https://stackoverflow.com/users/5465728/b-ma"}, "is_accepted": false, "score": 0, "last_activity_date": 1515142426, "creation_date": 1515142426, "answer_id": 48110148, "question_id": 36604845, "link": "https://stackoverflow.com/questions/36604845/httpparamserializerjqlike-in-angular2/48110148#48110148", "title": "httpParamSerializerJQLike in angular2?", "body": "<p>Just copy the relative codes from <a href=\"https://github.com/angular/angular.js/blob/72a87ceda7ae7a08b69fbc23dc6a3620f249493d/src/ng/http.js\" rel=\"nofollow noreferrer\">angularjs http module</a></p>\n\n<pre><code>import {\n  isArray,\n  forEach,\n  isObject,\n  isDate,\n  isFunction,\n  isUndefined,\n  isNumber,\n} from 'lodash';\n\nfunction toJsonReplacer(key, value) {\n  let val = value;\n\n  if (\n    typeof key === 'string' &amp;&amp;\n    key.charAt(0) === '$' &amp;&amp;\n    key.charAt(1) === '$'\n  ) {\n    val = undefined;\n  }\n\n  return val;\n}\n\nfunction toJson(obj, pretty = undefined) {\n  if (isUndefined(obj)) return undefined;\n  if (!isNumber(pretty)) {\n    pretty = pretty ? 2 : null; // tslint:disable-line no-parameter-reassignment\n  }\n  return JSON.stringify(obj, toJsonReplacer, pretty);\n}\n\nfunction serializeValue(v) {\n  if (isObject(v)) {\n    return isDate(v) ? v.toISOString() : toJson(v);\n  }\n  return v;\n}\n\nfunction forEachSorted(obj, iterator, context = null) {\n  const keys = Object.keys(obj).sort();\n  for (let i = 0; i &lt; keys.length; i += 1) {\n    iterator.call(context, obj[keys[i]], keys[i]);\n  }\n  return keys;\n}\n\n/**\n * This method is intended for encoding *key* or *value* parts of query component. We need a custom\n * method because encodeURIComponent is too aggressive and encodes stuff that doesn't have to be\n * encoded per http://tools.ietf.org/html/rfc3986:\n *    query         = *( pchar / \"/\" / \"?\" )\n *    pchar         = unreserved / pct-encoded / sub-delims / \":\" / \"@\"\n *    unreserved    = ALPHA / DIGIT / \"-\" / \".\" / \"_\" / \"~\"\n *    pct-encoded   = \"%\" HEXDIG HEXDIG\n *    sub-delims    = \"!\" / \"$\" / \"&amp;\" / \"'\" / \"(\" / \")\"\n *                     / \"*\" / \"+\" / \",\" / \";\" / \"=\"\n */\nfunction encodeUriQuery(val, pctEncodeSpaces = undefined) {\n  return encodeURIComponent(val)\n    .replace(/%40/gi, '@')\n    .replace(/%3A/gi, ':')\n    .replace(/%24/g, '$')\n    .replace(/%2C/gi, ',')\n    .replace(/%3B/gi, ';')\n    .replace(/%20/g, pctEncodeSpaces ? '%20' : '+');\n}\n\nexport function jQueryLikeParamSerializer(params) {\n  if (!params) return '';\n  const parts = [];\n  serialize(params, '', true);\n  return parts.join('&amp;');\n\n  function serialize(toSerialize, prefix, topLevel = undefined) {\n    if (isArray(toSerialize)) {\n      forEach(toSerialize, (value, index) =&gt; {\n        serialize(value, prefix + '[' + (isObject(value) ? index : '') + ']');\n      });\n    } else if (isObject(toSerialize) &amp;&amp; !isDate(toSerialize)) {\n      forEachSorted(toSerialize, (value, key) =&gt; {\n        serialize(\n          value,\n          prefix + (topLevel ? '' : '[') + key + (topLevel ? '' : ']'),\n        );\n      });\n    } else {\n      if (isFunction(toSerialize)) {\n        toSerialize = toSerialize(); // tslint:disable-line no-parameter-reassignment\n      }\n      parts.push(\n        encodeUriQuery(prefix) +\n          '=' +\n          (toSerialize == null\n            ? ''\n            : encodeUriQuery(serializeValue(toSerialize))),\n      );\n    }\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 518, "user_id": 2400627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16337a7df4ed9e56267ab2d12a1214b2?s=128&d=identicon&r=PG", "display_name": "v.babak", "link": "https://stackoverflow.com/users/2400627/v-babak"}, "is_accepted": false, "score": 0, "last_activity_date": 1566311356, "creation_date": 1566311356, "answer_id": 57575909, "question_id": 36604845, "link": "https://stackoverflow.com/questions/36604845/httpparamserializerjqlike-in-angular2/57575909#57575909", "title": "httpParamSerializerJQLike in angular2?", "body": "<p>I've met the similar issue when was upgrading from angular 1.x\nHere is my solution which also process nested JSON objects:</p>\n\n<pre><code>function Json2FormEncoded(json_obj) {\n  let path = arguments[1] || '';\n  let s = '', p = '';\n  for (let i in json_obj) {\n    p = path == '' ? i : path + '[' + i + ']';\n    s = s ? s + \"&amp;\" : s;\n    if (typeof json_obj[i] == 'object') {\n      s += Json2FormEncoded(json_obj[i], p);\n    } else {\n      s += p + '=' + encodeURIComponent(json_obj[i]);\n    }\n  }\n  return s;\n}\n</code></pre>\n\n<p>Hope you'll find it useful!</p>\n\n<p>Also check it <a href=\"https://gist.github.com/vbabak/93693360b87d452ccfb0420627c590c3\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 11, "user_id": 6199327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a744d6b1dab4e4613da37398c2e037d?s=128&d=identicon&r=PG&f=1", "display_name": "Bergmito", "link": "https://stackoverflow.com/users/6199327/bergmito"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1959, "favorite_count": 0, "answer_count": 5, "score": 1, "last_activity_date": 1566311356, "creation_date": 1460566334, "question_id": 36604845, "link": "https://stackoverflow.com/questions/36604845/httpparamserializerjqlike-in-angular2", "title": "httpParamSerializerJQLike in angular2?", "body": "<p>How to serialize JSON for Ruby API?</p>\n\n<p>Angular 1</p>\n\n<pre><code>$scope.submitForm = function() {       \n    var data = {\"contato\": $scope.contato, \"id\":$scope.contato.id, \"_method\":'PUT'};\n    $http.post(\n        'http://myApi/contatos/' + $scope.contato.id,\n        **$httpParamSerializerJQLike(data)**,\n        {\n            headers: {'Content-Type': 'application/x-www-form-urlencoded'},\n            datatype: \"JSONP\"\n        }).then(function successCallback(response) {\n            modalContato.show();\n            setTimeout(function (){\n                modalContato.hide();\n                $state.go('contato-detalhe', {\"id\":$scope.contato.id});\n            }, 1500);              \n\n    });\n};    \n</code></pre>\n\n<p>Angular2:</p>\n\n<pre><code>insertContato(contato: Contato) {\n  let headers = new Headers({\n    'Content-Type': 'application/x-www-form-urlencoded'        \n  });      \n  let options = new RequestOptions({ headers: headers });\n  this._http    \n    .post(this.urlApi + '/contatos', JSON.stringify(contato), options)      \n    .subscribe(data =&gt; {\n      console.log('Funciona: ' + data.text());\n    }, error =&gt; {\n      console.log('Erro: ' + error.text())\n    });           \n}\n</code></pre>\n\n<p>\"JSON.stringify(contato)\" \nIt does not have the same behavior as $httpParamSerializerJQLike(data).\nJson's broken in the server... </p>\n\n<blockquote>\n  <p>Started POST \"/contatos\" for 127.0.0.1 at 2016-04-13 13:25:55 -0300\n  Processing by ContatosController#create as HTML\n    Parameters: {\"{\\\"nome\\\":\\\"asd\\\",\\\"email\\\":\\\"asd@asda.com\\\",\\\"telefone\\\":\\\"123\\\"}\"=>nil}\n  Completed 400 Bad Request in 4ms (ActiveRecord: 0.0ms)</p>\n</blockquote>\n\n<p>Correct is:</p>\n\n<blockquote>\n  <p>Started POST \"/contatos\" for 127.0.0.1 at 2016-04-12 17:00:24 -0300\n  Processing by ContatosController#create as JSON\n    Parameters: {\"contato\"=>{\"nome\"=>\"felipe\", \"telefone\"=>\"5555\"}}\n  Completed 200 OK in 278ms (Views: 0.1ms | ActiveRecord: 229.4ms)</p>\n</blockquote>\n"}, {"tags": ["node.js", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": false, "score": 1, "last_activity_date": 1460572325, "creation_date": 1460572325, "answer_id": 36606725, "question_id": 36604696, "link": "https://stackoverflow.com/questions/36604696/angular2-ng2-uploader-upload-directives-is-not-defined/36606725#36606725", "title": "Angular2 + ng2-Uploader UPLOAD_DIRECTIVES is not defined", "body": "<p>I would try the following SystemJS configuration in your main HTML file:</p>\n\n<pre><code>&lt;script&gt;\n  System.config({\n    map: {\n      'ng2-uploader': 'node_modules/ng2-uploader'\n    },\n    packages: {\n      (...)   \n      'ng2-uploader': {\n        format: 'register',\n        defaultExtension: 'js'\n      }\n    }\n  });\n  (...)\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 4766, "user_id": 4957388, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/KUNhv.jpg?s=128&g=1", "display_name": "firasKoubaa", "link": "https://stackoverflow.com/users/4957388/firaskoubaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1503, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1497756745, "creation_date": 1460565821, "last_edit_date": 1497756745, "question_id": 36604696, "link": "https://stackoverflow.com/questions/36604696/angular2-ng2-uploader-upload-directives-is-not-defined", "title": "Angular2 + ng2-Uploader UPLOAD_DIRECTIVES is not defined", "body": "<p>Am trying to use <strong><em>ng2-uploader</em></strong> in my angular2 app , i'm trying to add a button click upload action in my view , i've tried to do like the documentations explains <a href=\"https://github.com/jkuri/ng2-uploader\" rel=\"nofollow\"><code>https://github.com/jkuri/ng2-uploader</code></a></p>\n\n<p><strong>component.ts</strong></p>\n\n<pre><code>import {Component} from 'angular2/core';\nimport {UPLOAD_DIRECTIVES} from 'ng2-uploader/ng2-uploader';\n\n@Component({\n  selector: 'demo-app',\n  templateUrl: 'app/demo.html',\n  directives: [UPLOAD_DIRECTIVES],\n})\nexport class DemoApp {\n  uploadFile: any;\n  options: Object = {\n    url: 'http://localhost:10050/upload'\n  };\n\n  handleUpload(data): void {\n    if (data &amp;&amp; data.response) {\n      data = JSON.parse(data.response);\n      this.uploadFile = data;\n    }\n  }\n}\n</code></pre>\n\n<p><strong><em>component.html</em></strong></p>\n\n<pre><code>&lt;a href=\"load\" class=\"clas1\" \n       [ng-file-select]=\"options\"\n       (onUpload)=\"handleUpload($event)\"&gt;\n\n&lt;div&gt;\nResponse: {{ uploadFile | json }}\n&lt;/div&gt;\n</code></pre>\n\n<p>but i'm facing this error in my navigator :</p>\n\n<blockquote>\n  <p>Error: ReferenceError: UPLOAD_DIRECTIVES is not\n  defined(\u2026)ZoneDelegate.invoke @ angular2-polyfills.js:332Zone.run @\n  angular2-polyfills.js:227(anonymous function) @\n  angular2-polyfills.js:576ZoneDelegate.invokeTask @\n  angular2-polyfills.js:365Zone.runTask @\n  angular2-polyfills.js:263drainMicroTaskQueue @\n  angular2-polyfills.js:482ZoneTask.invoke @ angular2-polyfills.js:434</p>\n</blockquote>\n\n<p>therefore i have taken a look in the ng2-uploader component installed in the node and it looks like this :</p>\n\n<pre><code>///&lt;reference path=\"../../node_modules/angular2/typings/browser.d.ts\"/&gt;\nimport {Ng2Uploader} from './src/services/ng2-uploader';\nimport {NgFileSelect} from './src/directives/ng-file-select';\nimport {NgFileDrop} from './src/directives/ng-file-drop';\n\nexport * from './src/services/ng2-uploader';\nexport * from './src/directives/ng-file-select';\nexport * from './src/directives/ng-file-drop';\n\nexport default {\n  directives: [NgFileSelect, NgFileDrop],\n  providers: [Ng2Uploader]\n}\n\nexport const UPLOAD_DIRECTIVES: [any] = [NgFileSelect, NgFileDrop];\n</code></pre>\n\n<p>so it looks like everything is correct , anybody know how to repair this ,  , maybe i should add something to my <strong>boot.ts</strong> or my <strong>index.html</strong> , but what exactly ??</p>\n"}, {"tags": ["typescript", "decorator"], "comments": [{"owner": {"reputation": 12083, "user_id": 681538, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/LNlya.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/681538/alex"}, "edited": false, "score": 0, "creation_date": 1460573010, "post_id": 36604380, "comment_id": 60810731, "body": "I recognize that error you get, not sure it&#39;s relevant, but could you include that code?"}, {"owner": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "reply_to_user": {"reputation": 12083, "user_id": 681538, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/LNlya.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/681538/alex"}, "edited": false, "score": 0, "creation_date": 1460573447, "post_id": 36604380, "comment_id": 60811017, "body": "@Alex A decorator with the following signature will always produce the issue, no matter tha function body: <code>(target: any, property: string | symbol) =&gt; PropertyDescriptor</code>. Changing argument types to compatible types does not help either, it&#39;s the return type that is causing trouble here. Which is strange, since returning a PropertyDescriptor is supposedly <a href=\"https://github.com/Microsoft/TypeScript-Handbook/blob/master/pages/Decorators.md#property-decorators\" rel=\"nofollow noreferrer\">supported</a>."}], "answers": [{"comments": [{"owner": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "edited": false, "score": 0, "creation_date": 1460566006, "post_id": 36604646, "comment_id": 60806433, "body": "I&#39;m afraid property decorators don&#39;t take a <code>descriptor</code> argument. At least I can&#39;t find any documentation on it, and neither does the compiler allow me to do that: <code>Unable to resolve signature of property decorator ...</code>"}, {"owner": {"reputation": 628, "user_id": 654141, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9bd9cd7019fdec1d488c6806dbef8da8?s=128&d=identicon&r=PG", "display_name": "ArcSine", "link": "https://stackoverflow.com/users/654141/arcsine"}, "reply_to_user": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "edited": false, "score": 0, "creation_date": 1460567407, "post_id": 36604646, "comment_id": 60807337, "body": "Sorry you are right.  That is a method decorator.   I don&#39;t know if there is a solution for a property.  Perhaps you could make a getter instead of a straight property."}], "tags": [], "owner": {"reputation": 628, "user_id": 654141, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9bd9cd7019fdec1d488c6806dbef8da8?s=128&d=identicon&r=PG", "display_name": "ArcSine", "link": "https://stackoverflow.com/users/654141/arcsine"}, "is_accepted": false, "score": 0, "last_activity_date": 1460565682, "creation_date": 1460565682, "answer_id": 36604646, "question_id": 36604380, "link": "https://stackoverflow.com/questions/36604380/property-decorator-only-for-a-specific-property-type/36604646#36604646", "title": "Property decorator only for a specific property type", "body": "<p>The error you are getting is due to the return expression missing.</p>\n\n<p>Try something along the lines:</p>\n\n<pre><code>export function Decorator(fn:any) {\n  return (target: Object, propertyKey: string, descriptor: TypedPropertyDescriptor&lt;Array&gt;) =&gt; {\n    if (Reflect.getMetadata(\"design:type\", target, propertyKey) !== Array) {\n        throw new TypeError();\n    } \n    return descriptor;\n  };\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18106, "user_id": 274473, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a13595a9bbfbe3f290afb626c9ec8f79?s=128&d=identicon&r=PG", "display_name": "kayahr", "link": "https://stackoverflow.com/users/274473/kayahr"}, "is_accepted": false, "score": 1, "last_activity_date": 1537011849, "last_edit_date": 1537011849, "creation_date": 1537011357, "answer_id": 52344322, "question_id": 36604380, "link": "https://stackoverflow.com/questions/36604380/property-decorator-only-for-a-specific-property-type/52344322#52344322", "title": "Property decorator only for a specific property type", "body": "<p>There is a little trick to achieve this:</p>\n\n<pre><code>function ArrayLog&lt;K extends string, C extends { [ A in K ]: Array&lt;any&gt; }&gt;(target: C, key: K) {\n    /* ... */\n}\n</code></pre>\n\n<p>Or even better (Just found in <a href=\"https://stackoverflow.com/a/47425850/274473\">https://stackoverflow.com/a/47425850/274473</a>):</p>\n\n<pre><code>function ArrayLog&lt;K extends string, C extends Record&lt;K, Array&lt;any&gt;&gt;&gt;(target: C, key: K) {\n    /* ... */\n}\n</code></pre>\n\n<p>Unfortunately this only works for public properties, not for private or protected properties...</p>\n"}], "owner": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1081, "favorite_count": 2, "answer_count": 2, "score": 5, "last_activity_date": 1537011849, "creation_date": 1460564920, "last_edit_date": 1504447987, "question_id": 36604380, "link": "https://stackoverflow.com/questions/36604380/property-decorator-only-for-a-specific-property-type", "title": "Property decorator only for a specific property type", "body": "<p>I have a property decorator in TypeScript that is only usable on properties of type <code>Array</code>. To enforce this, a <code>TypeError</code> is thrown at runtime if the property type is not <code>Array</code> (using <a href=\"https://github.com/Microsoft/TypeScript-Handbook/blob/master/pages/Decorators.md#metadata\" rel=\"nofollow noreferrer\">reflect metadata</a> to get property type information):</p>\n\n<pre><code>function ArrayLog(target: any, propertyKey: string) {\n    if (Reflect.getMetadata(\"design:type\", target, propertyKey) !== Array) {\n        throw new TypeError();\n    }\n\n    // ...\n}\n</code></pre>\n\n<p>However, I wouldn't consider this too dev-friendly. How could I make it so that the TypeScript compiler allows using a certain property decorator <em>only</em> on properties with a certain type?</p>\n"}, {"tags": ["typescript", "typescript1.8"], "comments": [{"owner": {"reputation": 628, "user_id": 654141, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9bd9cd7019fdec1d488c6806dbef8da8?s=128&d=identicon&r=PG", "display_name": "ArcSine", "link": "https://stackoverflow.com/users/654141/arcsine"}, "edited": false, "score": 0, "creation_date": 1460565912, "post_id": 36604115, "comment_id": 60806385, "body": "Are you compiling everything to a single file? You may want to separate your systemjs loader (WebpageLoader) out out of your app into a standalone .js file.  Generally the bootstrap for launching into the TypeScript code is not itself written in TypeScript."}], "answers": [{"tags": [], "owner": {"reputation": 15296, "user_id": 3508656, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/I5vvG.jpg?s=128&g=1", "display_name": "Madhu Ranjan", "link": "https://stackoverflow.com/users/3508656/madhu-ranjan"}, "is_accepted": false, "score": 1, "last_activity_date": 1461796097, "creation_date": 1461796097, "answer_id": 36902056, "question_id": 36604115, "link": "https://stackoverflow.com/questions/36604115/why-am-i-getting-duplicate-class-or-identifier-error/36902056#36902056", "title": "Why am I getting duplicate class (or identifier) error?", "body": "<p>You have to exclude your d.ts files from compilation. you may do it in tsconfig by adding exclude array and adding path of your d.ts</p>\n"}], "owner": {"reputation": 3181, "user_id": 1633604, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/04280a6b0a8d3bfc003a89d7cb960950?s=128&d=identicon&r=PG", "display_name": "fletchsod", "link": "https://stackoverflow.com/users/1633604/fletchsod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461796187, "creation_date": 1460564091, "last_edit_date": 1461796187, "question_id": 36604115, "link": "https://stackoverflow.com/questions/36604115/why-am-i-getting-duplicate-class-or-identifier-error", "title": "Why am I getting duplicate class (or identifier) error?", "body": "<p>Why am I getting this class duplication error?</p>\n\n<p><a href=\"https://i.stack.imgur.com/8T9fG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8T9fG.png\" alt=\"enter image description here\"></a></p>\n\n<p>Source code below.</p>\n\n<p>[Sigin.html]</p>\n\n\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" /&gt;\n    &lt;title&gt;&lt;/title&gt;\n    &lt;script type=\"text/javascript\" src=\"scripts/web/public/signin/WebpageLoader.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;WebBody&gt;&lt;/WebBody&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>.</p>\n\n<p>[WebpageLoader.ts]</p>\n\n<pre><code>/// &lt;reference path=\"../../../../../typings/main/ambient/systemjs/index.d.ts\" /&gt;\n\n'use strict';\n\n//import System = require(\"systemjs\");\n\nclass WebpageLoader {\n    public constructor() {\n        window.onload = () =&gt; {\n            //====================================================\n            //Notice: This is the javascript component that bootstrap Angular 2, to get it up and going...\n            //====================================================\n            System.config({\n                baseURL: \"/lib\",\n                defaultJSExtensions: true\n            });\n\n            System.import('/scripts/web/public/signin/WebpageLoaderComponent');\n            //====================================================\n        };\n    }\n}\n\nvar webpageLoader = new WebpageLoader();\n</code></pre>\n"}, {"tags": ["typescript", "async-await", "aurelia"], "comments": [{"owner": {"reputation": 1970, "user_id": 801241, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b0dbac6e2734489591163699ba615d23?s=128&d=identicon&r=PG", "display_name": "Qpirate", "link": "https://stackoverflow.com/users/801241/qpirate"}, "edited": false, "score": 0, "creation_date": 1460563190, "post_id": 36603745, "comment_id": 60804521, "body": "Can you post your HTML and JS Code."}, {"owner": {"reputation": 15, "user_id": 6159990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/557ca8619b25cb341a902cf93ebf27ef?s=128&d=identicon&r=PG&f=1", "display_name": "\u0410\u043d\u0434\u0440\u0435\u0439 \u041f\u043e\u0442\u0451\u043c\u043a\u0438\u043d", "link": "https://stackoverflow.com/users/6159990/%d0%90%d0%bd%d0%b4%d1%80%d0%b5%d0%b9-%d0%9f%d0%be%d1%82%d1%91%d0%bc%d0%ba%d0%b8%d0%bd"}, "reply_to_user": {"reputation": 1970, "user_id": 801241, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b0dbac6e2734489591163699ba615d23?s=128&d=identicon&r=PG", "display_name": "Qpirate", "link": "https://stackoverflow.com/users/801241/qpirate"}, "edited": false, "score": 0, "creation_date": 1460563903, "post_id": 36603745, "comment_id": 60804998, "body": "Added code to post"}, {"owner": {"reputation": 1030, "user_id": 6031322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FkO2b.jpg?s=128&g=1", "display_name": "kabaehr", "link": "https://stackoverflow.com/users/6031322/kabaehr"}, "edited": false, "score": 0, "creation_date": 1460567651, "post_id": 36603745, "comment_id": 60807513, "body": "When you remove &quot;async&quot; where? And what does not exist? response?"}, {"owner": {"reputation": 15, "user_id": 6159990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/557ca8619b25cb341a902cf93ebf27ef?s=128&d=identicon&r=PG&f=1", "display_name": "\u0410\u043d\u0434\u0440\u0435\u0439 \u041f\u043e\u0442\u0451\u043c\u043a\u0438\u043d", "link": "https://stackoverflow.com/users/6159990/%d0%90%d0%bd%d0%b4%d1%80%d0%b5%d0%b9-%d0%9f%d0%be%d1%82%d1%91%d0%bc%d0%ba%d0%b8%d0%bd"}, "edited": false, "score": 0, "creation_date": 1460568524, "post_id": 36603745, "comment_id": 60808020, "body": "When i&#39;m remove async in getPlayersData(currentPage: number) all ok. parameter currentPage does not exist, it undefined when i call method with async keyword"}, {"owner": {"reputation": 1178, "user_id": 3436921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D0xi3.jpg?s=128&g=1", "display_name": "valichek", "link": "https://stackoverflow.com/users/3436921/valichek"}, "edited": false, "score": 0, "creation_date": 1460569720, "post_id": 36603745, "comment_id": 60808729, "body": "I suppose, <code>click.trigger=&quot;getPlayersData(currentPage)&quot;</code> is expression that is parsed by aurelia templating engine and not processed by babel, so you just cannot call async functions in that way"}], "owner": {"reputation": 15, "user_id": 6159990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/557ca8619b25cb341a902cf93ebf27ef?s=128&d=identicon&r=PG&f=1", "display_name": "\u0410\u043d\u0434\u0440\u0435\u0439 \u041f\u043e\u0442\u0451\u043c\u043a\u0438\u043d", "link": "https://stackoverflow.com/users/6159990/%d0%90%d0%bd%d0%b4%d1%80%d0%b5%d0%b9-%d0%9f%d0%be%d1%82%d1%91%d0%bc%d0%ba%d0%b8%d0%bd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 507, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1460564714, "creation_date": 1460563079, "last_edit_date": 1460564714, "question_id": 36603745, "link": "https://stackoverflow.com/questions/36603745/passing-parameters-to-async-function-aurelia", "title": "Passing parameters to async function Aurelia", "body": "<p>I'm have async function which takes arguments.\nWhen I'm call it in click.tirgger=\"myFunc(param1, param2)\" or pass it to child component as callback parameter not exist.\nWhen I'm removing async keyword everything start working.</p>\n\n<pre><code> &lt;button type=\"button\" click.trigger=\"getPlayersData(currentPage)\" class=\"btn btn-info col-lg-1\"&gt;Show&lt;/button&gt;\n\nasync getPlayersData(currentPage: number){\n  var data = await this.reportService.getPlayersData(start, end,  currentPage, this.rowCount); \n  //do something \n}\n\nasync getPlayersData(startDate, endDate, page, rowCount): Promise&lt;ReportModel&gt; {\n    try {          \n        var response = await this.http.fetch('api/reportController/getPlayerBusinessReport?startDate=' + startDate + '&amp;endDate=' + endDate + '&amp;page=' + page + '&amp;rowCount=' + rowCount, {\n            method: 'get'\n        });\n        var data = await response.json();\n\n       // form ReportModel object\n       //report = ReportModel(data)\n\n        return Promise.resolve(report);\n    }\n    catch (ex) {\n        //error handling\n    }\n\n}\n</code></pre>\n\n<p>How could I'm solve this problem ? </p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 628, "user_id": 6199585, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-IdPVJXFKZrI/AAAAAAAAAAI/AAAAAAAAApE/iIo85sk1fRM/photo.jpg?sz=128", "display_name": "Boris", "link": "https://stackoverflow.com/users/6199585/boris"}, "edited": false, "score": 0, "creation_date": 1460562356, "post_id": 36603390, "comment_id": 60803900, "body": "The problem is not with <code>include</code>, which I already defined in a .d.ts, but with the class it creates, <code>LibraryClass</code>. I have a definition of <code>LibraryClass</code> coming from another .d.ts, but <code>var LibraryClass = ...</code> creates a different, local, definition..."}], "tags": [], "owner": {"reputation": 53661, "user_id": 1413538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/594bb80f7ed4b0b3770df7ad97c4d16a?s=128&d=identicon&r=PG", "display_name": "Brocco", "link": "https://stackoverflow.com/users/1413538/brocco"}, "is_accepted": false, "score": 4, "last_activity_date": 1460562138, "creation_date": 1460562138, "answer_id": 36603390, "question_id": 36603006, "link": "https://stackoverflow.com/questions/36603006/how-to-ignore-a-line-in-typescript-but-copy-it-to-js/36603390#36603390", "title": "How to ignore a line in TypeScript but copy it to JS?", "body": "<p>If this is the only place you're using <code>include</code> then place this at the top of that file:</p>\n\n<pre><code>declare var include: any;\n</code></pre>\n\n<p>If you're using it more throughout your application consider moving it to a <code>.d.ts</code> file</p>\n\n<p>But if you're using it in multiple projects maybe you should consider creating a more complete specification for it and submitting that to the definitely typed repo.</p>\n"}, {"tags": [], "owner": {"reputation": 628, "user_id": 6199585, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-IdPVJXFKZrI/AAAAAAAAAAI/AAAAAAAAApE/iIo85sk1fRM/photo.jpg?sz=128", "display_name": "Boris", "link": "https://stackoverflow.com/users/6199585/boris"}, "is_accepted": false, "score": 1, "last_activity_date": 1461186071, "creation_date": 1461186071, "answer_id": 36755095, "question_id": 36603006, "link": "https://stackoverflow.com/questions/36603006/how-to-ignore-a-line-in-typescript-but-copy-it-to-js/36755095#36755095", "title": "How to ignore a line in TypeScript but copy it to JS?", "body": "<p>Here's what I did to suppress the <code>include()</code> line in .ts but allow it in .js:</p>\n\n<p>1) In TypeScript code, commented each <code>include()</code> line with <code>////</code>, so that TypeScript treats it as a comment (and copied this \"comment\" to the .js).</p>\n\n<p>2) Made a post-processor script that looks in .js files (which have .ts counterparts) for lines matching <code>/^(\\s*\\/{4}).+=\\s*\\binclude\\b\\s*\\(.*\\)/</code> regular expression and deletes the <code>////</code>.</p>\n\n<p>3) Hooked this script to File Watchers plugin in IntelliJ/WebStorm, so that it automatically gets invoked after each TypeScript build.</p>\n"}, {"comments": [{"owner": {"reputation": 1016, "user_id": 1694962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/271238f63f992d2bd704d78bb311e9e8?s=128&d=identicon&r=PG&f=1", "display_name": "Chait", "link": "https://stackoverflow.com/users/1694962/chait"}, "edited": false, "score": 0, "creation_date": 1487626345, "post_id": 42354021, "comment_id": 71859879, "body": "Hello, please add some explanation to your answer, as one-line answers are not suited best on SO."}], "tags": [], "owner": {"reputation": 391, "user_id": 4549903, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rHyjUSuQcwc/AAAAAAAAAAI/AAAAAAAAAFw/nUT_1RKTuec/photo.jpg?sz=128", "display_name": "Richie", "link": "https://stackoverflow.com/users/4549903/richie"}, "is_accepted": false, "score": -1, "last_activity_date": 1487624015, "creation_date": 1487624015, "answer_id": 42354021, "question_id": 36603006, "link": "https://stackoverflow.com/questions/36603006/how-to-ignore-a-line-in-typescript-but-copy-it-to-js/42354021#42354021", "title": "How to ignore a line in TypeScript but copy it to JS?", "body": "<p>This can help please check out: /// TS_IGNORE\nlet a:string = 1:)</p>\n"}], "owner": {"reputation": 628, "user_id": 6199585, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-IdPVJXFKZrI/AAAAAAAAAAI/AAAAAAAAApE/iIo85sk1fRM/photo.jpg?sz=128", "display_name": "Boris", "link": "https://stackoverflow.com/users/6199585/boris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3791, "favorite_count": 1, "answer_count": 3, "score": 4, "last_activity_date": 1487624015, "creation_date": 1460561112, "last_edit_date": 1460563112, "question_id": 36603006, "link": "https://stackoverflow.com/questions/36603006/how-to-ignore-a-line-in-typescript-but-copy-it-to-js", "title": "How to ignore a line in TypeScript but copy it to JS?", "body": "<p>I am trying to write TypeScript code that uses an existing JS library. The problem is that this library provides a facility, <code>include()</code>, for loading JS classes at run time based on \"path\" passed to <code>include()</code>:</p>\n\n<blockquote>\n  <p>var LibraryClass = include('path-to-class');</p>\n</blockquote>\n\n<p>But TypeScript needs definitions of these classes at compile time... I can make my code compile by commenting the whole <code>include</code> line (together with <code>var LibraryClass</code>) in .ts and providing class definitions the usual TypeScript way, via  <code>/// &lt;reference path=\"someFile.ts\"/&gt;</code> or by creating .d.ts ambient definition files for this library.</p>\n\n<p>But I can't figure out how to ignore <code>include()</code> calls in .ts but keep them in the resulting .js...</p>\n\n<p>May be it's possible to have different variable names in .ts and .js? If I could, for example, have </p>\n\n<blockquote>\n  <p>var LibraryClassTS = include('path-to-class');</p>\n</blockquote>\n\n<p>in TypeScript but, somehow, compile it into</p>\n\n<blockquote>\n  <p>var LibraryClass = include('path-to-class');</p>\n</blockquote>\n\n<p>if JavaScript, that would solve my problem: I would have an empty <code>LibraryClassTS</code> class in .ts (while <code>LibraryClass</code> interface definition is loaded from .d.ts) and the run-time <code>LibraryClass</code> loading in .js.</p>\n"}, {"tags": ["typescript", "angular", "definitelytyped", "tsd"], "answers": [{"comments": [{"owner": {"reputation": 2880, "user_id": 300929, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/eb6935a516d40bf3985ded3b01b1bcb7?s=128&d=identicon&r=PG", "display_name": "Efrain", "link": "https://stackoverflow.com/users/300929/efrain"}, "edited": false, "score": 0, "creation_date": 1461140143, "post_id": 36602974, "comment_id": 61057911, "body": "Ok, thanks for the confirmation - it&#39;s just irritating because the Typings now look quite different and are spread over hundreds of files. :T"}, {"owner": {"reputation": 12611, "user_id": 491265, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/AJGd6.jpg?s=128&g=1", "display_name": "kemsky", "link": "https://stackoverflow.com/users/491265/kemsky"}, "reply_to_user": {"reputation": 2880, "user_id": 300929, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/eb6935a516d40bf3985ded3b01b1bcb7?s=128&d=identicon&r=PG", "display_name": "Efrain", "link": "https://stackoverflow.com/users/300929/efrain"}, "edited": false, "score": 0, "creation_date": 1461140372, "post_id": 36602974, "comment_id": 61058069, "body": "libraries sometimes have definitions included into node package"}, {"owner": {"reputation": 2880, "user_id": 300929, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/eb6935a516d40bf3985ded3b01b1bcb7?s=128&d=identicon&r=PG", "display_name": "Efrain", "link": "https://stackoverflow.com/users/300929/efrain"}, "edited": false, "score": 1, "creation_date": 1461140492, "post_id": 36602974, "comment_id": 61058150, "body": "Yes, understood.. it&#39;s just that there is not a single &quot;angular2.d.ts&quot; file where I can find all the typings. Basically I will always have to have the full node package around, I can not only extract the typings."}], "tags": [], "owner": {"reputation": 12611, "user_id": 491265, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/AJGd6.jpg?s=128&g=1", "display_name": "kemsky", "link": "https://stackoverflow.com/users/491265/kemsky"}, "is_accepted": true, "score": 1, "last_activity_date": 1460561020, "creation_date": 1460561020, "answer_id": 36602974, "question_id": 36602860, "link": "https://stackoverflow.com/questions/36602860/angular2-is-not-in-definitelytyped-repo/36602974#36602974", "title": "angular2 is not in DefinitelyTyped repo?", "body": "<p>You can find angular2 definitions (*.d.ts) files in node_modules/angular2/ folder.</p>\n"}], "owner": {"reputation": 2880, "user_id": 300929, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/eb6935a516d40bf3985ded3b01b1bcb7?s=128&d=identicon&r=PG", "display_name": "Efrain", "link": "https://stackoverflow.com/users/300929/efrain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 785, "favorite_count": 0, "accepted_answer_id": 36602974, "answer_count": 1, "score": 1, "last_activity_date": 1460561020, "creation_date": 1460560717, "question_id": 36602860, "link": "https://stackoverflow.com/questions/36602860/angular2-is-not-in-definitelytyped-repo", "title": "angular2 is not in DefinitelyTyped repo?", "body": "<p>Maybe my understanding of what DefinitelyTyped contains is wrong.. but I would imagine that I should be able to find the Angular2 typings in this repo, no? - I.e. 'tsd install angular2' doesn't find anything, and I can't find it in the repo anymore, neither.</p>\n\n<p>I found some old <a href=\"https://www.nuget.org/packages/angular2.TypeScript.DefinitelyTyped/\" rel=\"nofollow\">nuget package</a> that contain them.. but that one seems to refer to an alpha version only.</p>\n\n<p>So in short: where can I get the latest Angular2 typings? </p>\n"}, {"tags": ["node.js", "typescript", "typescript1.8"], "comments": [{"owner": {"reputation": 268112, "user_id": 1259510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0840e2c5392970ef26cbfef84a0e4903?s=128&d=identicon&r=PG", "display_name": "JohnnyHK", "link": "https://stackoverflow.com/users/1259510/johnnyhk"}, "edited": false, "score": 2, "creation_date": 1460559814, "post_id": 36602367, "comment_id": 60801890, "body": "Sounds like you&#39;re targeting ES6 where the arrow function syntax is natively supported so no conversion is required (as in node.js 4+)."}, {"owner": {"reputation": 26308, "user_id": 80932, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c8df6a60fa19ec03cde467dad65c8f24?s=128&d=identicon&r=PG", "display_name": "ufk", "link": "https://stackoverflow.com/users/80932/ufk"}, "reply_to_user": {"reputation": 268112, "user_id": 1259510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0840e2c5392970ef26cbfef84a0e4903?s=128&d=identicon&r=PG", "display_name": "JohnnyHK", "link": "https://stackoverflow.com/users/1259510/johnnyhk"}, "edited": false, "score": 0, "creation_date": 1460560308, "post_id": 36602367, "comment_id": 60802291, "body": "i&#39;m targeting es6. since i&#39;m using node 5.10.1 it should work. i&#39;ll investigate it further thanks"}, {"owner": {"reputation": 2319, "user_id": 485183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/nAFij.png?s=128&g=1", "display_name": "Corey Alix", "link": "https://stackoverflow.com/users/485183/corey-alix"}, "edited": false, "score": 0, "creation_date": 1460582010, "post_id": 36602367, "comment_id": 60815993, "body": "If you want the older syntax modify tsconfig.json so that the target is es5 or less.  Otherwise you&#39;re good as-is."}], "owner": {"reputation": 26308, "user_id": 80932, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c8df6a60fa19ec03cde467dad65c8f24?s=128&d=identicon&r=PG", "display_name": "ufk", "link": "https://stackoverflow.com/users/80932/ufk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1460559577, "creation_date": 1460559577, "question_id": 36602367, "link": "https://stackoverflow.com/questions/36602367/anonymous-functions-in-typescript-are-not-converted-to-javascript-properly", "title": "anonymous functions in typescript are not converted to javascript properly", "body": "<p>I'm writing my application using nodejs 5.10.1 with tsc 1.8.9</p>\n\n<p>In general i'm converting the syntax of anonymous functions to typescript syntax. which means converting</p>\n\n<pre><code>function(){}\n</code></pre>\n\n<p>to</p>\n\n<pre><code>()=&gt;{}\n</code></pre>\n\n<p>so I have several places where I changed to the typescript method of declaring anonymous functions:</p>\n\n<pre><code> async.each(params.fjso, (filePath:string, callback:Function)=&gt; {\n</code></pre>\n\n<p>is converted to:</p>\n\n<pre><code>async.each(params.fjso, (filePath, callback) =&gt; {\n</code></pre>\n\n<p>another example:</p>\n\n<pre><code>async.forEachOf(params.fjso, (filePath:string, fileIdx:number,callback:Function)=&gt;{\n</code></pre>\n\n<p>is converted to:</p>\n\n<pre><code>async.forEachOf(params.fjso, (filePath, fileIdx, callback) =&gt; {\n</code></pre>\n\n<p>as you can see the code part <code>()=&gt;{}</code> is not modified to <code>function(){}</code>. </p>\n\n<p>I'm new to typescript so i'm probably missing something... but what?</p>\n\n<p>tsc complication doesn't show any error messages.</p>\n\n<p>thanks</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 1500, "user_id": 5248219, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xKEKV.jpg?s=128&g=1", "display_name": "fbid", "link": "https://stackoverflow.com/users/5248219/fbid"}, "edited": false, "score": 0, "creation_date": 1460559309, "post_id": 36602076, "comment_id": 60801413, "body": "I don&#39;t think it&#39;s possible to do something like that, but there are possibly alternative ways to do that. What is the use of FooBar in the Bar class?"}, {"owner": {"reputation": 1007, "user_id": 1787139, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/93075298d5051c6cc43fecd292e5d263?s=128&d=identicon&r=PG", "display_name": "astex", "link": "https://stackoverflow.com/users/1787139/astex"}, "reply_to_user": {"reputation": 1500, "user_id": 5248219, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xKEKV.jpg?s=128&g=1", "display_name": "fbid", "link": "https://stackoverflow.com/users/5248219/fbid"}, "edited": false, "score": 0, "creation_date": 1460559511, "post_id": 36602076, "comment_id": 60801608, "body": "It&#39;s more or less used as a wrapper.  So that I can do something  like <code>ProjectService.Model</code> instead of having to separately fetch the proper model."}, {"owner": {"reputation": 1007, "user_id": 1787139, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/93075298d5051c6cc43fecd292e5d263?s=128&d=identicon&r=PG", "display_name": "astex", "link": "https://stackoverflow.com/users/1787139/astex"}, "reply_to_user": {"reputation": 1500, "user_id": 5248219, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xKEKV.jpg?s=128&g=1", "display_name": "fbid", "link": "https://stackoverflow.com/users/5248219/fbid"}, "edited": false, "score": 0, "creation_date": 1460563332, "post_id": 36602076, "comment_id": 60804624, "body": "There&#39;s a downvote on this and I&#39;m not sure why.  Could someone explain why this is a bad question?"}, {"owner": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "edited": false, "score": 0, "creation_date": 1460580145, "post_id": 36602076, "comment_id": 60814992, "body": "So you&#39;d like to store a class <i>itself</i> in a member?"}], "answers": [{"comments": [{"owner": {"reputation": 1007, "user_id": 1787139, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/93075298d5051c6cc43fecd292e5d263?s=128&d=identicon&r=PG", "display_name": "astex", "link": "https://stackoverflow.com/users/1787139/astex"}, "edited": false, "score": 0, "creation_date": 1460579397, "post_id": 36608671, "comment_id": 60814592, "body": "So just use the <code>any</code> type and monkey-patch it in?"}, {"owner": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "reply_to_user": {"reputation": 1007, "user_id": 1787139, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/93075298d5051c6cc43fecd292e5d263?s=128&d=identicon&r=PG", "display_name": "astex", "link": "https://stackoverflow.com/users/1787139/astex"}, "edited": false, "score": 1, "creation_date": 1460580233, "post_id": 36608671, "comment_id": 60815043, "body": "@astex The &#39;any&#39; return type in <code>new (...a: any[]): any</code> refers to the object instantiated from the class when calling it with the new operator. It can be more specific, or a generic type. It is analogous to a <i>newable type (the class) that takes arbitrary arguments and returns _any_ (the instance)</i>"}, {"owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "edited": false, "score": 0, "creation_date": 1460580933, "post_id": 36608671, "comment_id": 60815414, "body": "John is correct. Unfortunately generic type will not work with static members."}], "tags": [], "owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "is_accepted": true, "score": 1, "last_activity_date": 1460578437, "creation_date": 1460578437, "answer_id": 36608671, "question_id": 36602076, "link": "https://stackoverflow.com/questions/36602076/class-members-of-a-class-in-typescript/36608671#36608671", "title": "Class members of a class in typescript", "body": "<p>I think something like this might suit your needs:</p>\n\n<pre><code>class Foo \n{\n    constructor(a: string)\n    {\n        console.log(\"Foo.constructor\");\n    }\n}\n\nclass Foo2\n{\n    constructor()\n    {\n        console.log(\"Foo2.constructor\");\n    }\n}\n\nclass Bar\n{   \n    public static FooBar: {new(...a: any[]): any};\n}\n\nBar.FooBar = Foo;\nlet a = new Bar.FooBar('123');\n\nBar.FooBar = Foo2;\nlet b = new Bar.FooBar();\n</code></pre>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 1007, "user_id": 1787139, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/93075298d5051c6cc43fecd292e5d263?s=128&d=identicon&r=PG", "display_name": "astex", "link": "https://stackoverflow.com/users/1787139/astex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 459, "favorite_count": 0, "accepted_answer_id": 36608671, "answer_count": 1, "score": 0, "last_activity_date": 1460578437, "creation_date": 1460558939, "last_edit_date": 1460559448, "question_id": 36602076, "link": "https://stackoverflow.com/questions/36602076/class-members-of-a-class-in-typescript", "title": "Class members of a class in typescript", "body": "<p>I'd like to have a member of a class that is of the class type.  Something like this:</p>\n\n<pre><code>class Foo {}\nclass Bar {\n    static public FooBar:class = Foo;\n};\n</code></pre>\n\n<p>The <code>FooBar</code> member here would be set programatically.</p>\n"}, {"tags": ["mysql", "meteor", "typescript", "angular", "angular2-meteor"], "owner": {"reputation": 35, "user_id": 5888650, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PYorY4DApNw/AAAAAAAAAAI/AAAAAAAAChY/kNlKhWepyi0/photo.jpg?sz=128", "display_name": "tawfik medhaffar", "link": "https://stackoverflow.com/users/5888650/tawfik-medhaffar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 225, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1460558525, "creation_date": 1460558525, "question_id": 36601904, "link": "https://stackoverflow.com/questions/36601904/angular2-meteor-database-mysql-closing-error", "title": "Angular2-Meteor : Database (mysql) closing error", "body": "<p>Am using mysql within my angular2-meteor app , am trying to conclude a full transaction including opening , inserting ... and <strong>closing</strong> my database.</p>\n\n<p>i'm confronting a problem of a closed socket which causes a full crash of my app when i'm closing it , here is my code and the error ,</p>\n\n<p><strong><em>if there is any propositions ???</em></strong></p>\n\n<p><strong>* My code :*</strong></p>\n\n<p><strong>1) Main.ts</strong></p>\n\n<pre><code>import {loaduser} from \"./load-users\";\n\nif(Meteor.isServer){\n   Meteor.onConnection(loaduser)\n}\n</code></pre>\n\n<p><strong><em>2) My function :(load-users.ts)</em></strong></p>\n\n<pre><code>var Users:  Mysql.Collection&lt;any&gt;;\nvar db : Mysql.MeteorDatabase;\nexport function loaduser() {\n\n        if(!db) {\n            connexion();\n        }\n    traitement();\n</code></pre>\n\n<blockquote>\n  <p>db.end(function(err){   //the error is here\n          });</p>\n</blockquote>\n\n<pre><code>        function connexion() {\n            var connectionSettings = {\n                host: 'localhost',\n                user: 'root',\n                port: 3300,\n                password: '',\n                database: 'my_db'\n            };\n     db = Mysql.connect(connectionSettings);\n        }\n    function traitement (){\n\n        Users = db.meteorCollection&lt;Object&gt;(\"users\", \"usersCollection\");\n        console.log(\"condition \" + Users.find().count());\n    }\n\n};\n</code></pre>\n\n<p><strong><em>3) The error :</em></strong></p>\n\n<blockquote>\n  <p>W20160413-16:37:48.281(2)? (STDERR)         throw err;\n  W20160413-16:37:48.281(2)? (STDERR)               ^\n  W20160413-16:37:48.281(2)? (STDERR) Error: This socket is closed.\n  W20160413-16:37:48.281(2)? (STDERR)     at Socket._write\n  (net.js:638:19)</p>\n</blockquote>\n\n<p><strong>ANy ideas ?</strong></p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 12083, "user_id": 681538, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/LNlya.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/681538/alex"}, "is_accepted": false, "score": 2, "last_activity_date": 1460556018, "creation_date": 1460556018, "answer_id": 36600769, "question_id": 36600673, "link": "https://stackoverflow.com/questions/36600673/can-i-have-typescripts-compiled-javascript-check-types/36600769#36600769", "title": "Can I have TypeScript&#39;s compiled JavaScript check types?", "body": "<p>No. Typescript does not have runtime type checks.</p>\n\n<p>A proposition to include this in the language was <a href=\"https://github.com/Microsoft/TypeScript/issues/1573\" rel=\"nofollow\">declined</a> with a reference to their <a href=\"https://github.com/Microsoft/TypeScript/wiki/TypeScript-Design-Goals\" rel=\"nofollow\">design goals</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1689, "user_id": 277144, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/8def02087a15a1b0f0decbee8c8a00a9?s=128&d=identicon&r=PG", "display_name": "Nolan", "link": "https://stackoverflow.com/users/277144/nolan"}, "is_accepted": false, "score": 1, "last_activity_date": 1460556236, "creation_date": 1460556236, "answer_id": 36600868, "question_id": 36600673, "link": "https://stackoverflow.com/questions/36600673/can-i-have-typescripts-compiled-javascript-check-types/36600868#36600868", "title": "Can I have TypeScript&#39;s compiled JavaScript check types?", "body": "<p>Should have known to post a question before my first cup of coffee. Googling \"typescript runtime type checks\" gave me the answer:</p>\n\n<p>It is apparently <a href=\"https://github.com/Microsoft/TypeScript/issues/1573\" rel=\"nofollow\">outside of TS' goals</a> but there is an <a href=\"https://www.npmjs.com/package/runtime-type-checks\" rel=\"nofollow\">NPM package</a> that does it.</p>\n"}], "owner": {"reputation": 1689, "user_id": 277144, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/8def02087a15a1b0f0decbee8c8a00a9?s=128&d=identicon&r=PG", "display_name": "Nolan", "link": "https://stackoverflow.com/users/277144/nolan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 718, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1460556236, "creation_date": 1460555797, "question_id": 36600673, "link": "https://stackoverflow.com/questions/36600673/can-i-have-typescripts-compiled-javascript-check-types", "title": "Can I have TypeScript&#39;s compiled JavaScript check types?", "body": "<p>I've run my code through tsc, and have the following output for a constructor function accepting a single string parameter:</p>\n\n<pre><code>function Session(endpoint) {\n    var _this = this;\n    _super.call(this);\n    this.endpoint = endpoint;\n</code></pre>\n\n<p>There's no check that the parameter is defined or that typeof(endpoint) === \"string\".</p>\n\n<p>Are these checks only made at compile time? I originally had some sanity checks in the constructor to ensure that the value was correct, then deleted them because I assumed tsc would output them. Type declarations will certainly be useful when compiling, but I was hoping for runtime checks as well, and hoping not to have to write all that boilerplate.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["typescript", "angular", "angular-cli"], "answers": [{"comments": [{"owner": {"reputation": 2302, "user_id": 116671, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UPlur.jpg?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/116671/mark"}, "edited": false, "score": 0, "creation_date": 1460557295, "post_id": 36600542, "comment_id": 60799567, "body": "looks promising but I get a build error:rror: <code>Typescript found the following errors:  D:&#47;EOX2&#47;depots&#47;tmp&#47;broccoli_type_script_compiler-input_base_&zwnj;&#8203;path-3f2kXEiS.tmp&#47;0&#47;&zwnj;&#8203;src&#47;client&#47;app&#47;eox.t&zwnj;&#8203;s (63,28): Argumen  of type &#39;{ [key: string]: string; }&#39; is not assignable to parameter of type &#39;string&#39;.    at BroccoliTypeScriptCompiler._doIncrementalBuild (D:\\EOX2\\depots\\node_modules\\angular-cli\\lib\\broccoli\\brocco&zwnj;&#8203;li-typ script.js:111:19)</code>"}, {"owner": {"reputation": 2302, "user_id": 116671, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UPlur.jpg?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/116671/mark"}, "edited": false, "score": 0, "creation_date": 1460558107, "post_id": 36600542, "comment_id": 60800295, "body": "In the closure this refers to the function rather than the component"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 2302, "user_id": 116671, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UPlur.jpg?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/116671/mark"}, "edited": false, "score": 0, "creation_date": 1460558196, "post_id": 36600542, "comment_id": 60800377, "body": "I translated it from Dart where I tested it. Have to check again in TypeScript."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 2302, "user_id": 116671, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UPlur.jpg?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/116671/mark"}, "edited": false, "score": 0, "creation_date": 1460558261, "post_id": 36600542, "comment_id": 60800438, "body": "I found also <a href=\"http://stackoverflow.com/a/35776884/217408\">stackoverflow.com/a/35776884/217408</a> where the code is similar."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 2302, "user_id": 116671, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UPlur.jpg?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/116671/mark"}, "edited": false, "score": 0, "creation_date": 1460558749, "post_id": 36600542, "comment_id": 60800874, "body": "<a href=\"https://plnkr.co/edit/wXfYft?p=preview\" rel=\"nofollow noreferrer\"><b>Plunker example</b></a> when you switch to the <code>Other</code> route, the params will be printed to the console."}, {"owner": {"reputation": 2302, "user_id": 116671, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UPlur.jpg?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/116671/mark"}, "edited": false, "score": 0, "creation_date": 1460559852, "post_id": 36600542, "comment_id": 60801933, "body": "OK, the error was just caused by TS wanting the debug to take a string, so wrapping the params in a Stringify resolved that problem. The bigger issue is that the params object is an empty object by this time as Angular has done its magic and its now dealing with internal routing"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 2302, "user_id": 116671, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UPlur.jpg?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/116671/mark"}, "edited": false, "score": 0, "creation_date": 1460559924, "post_id": 36600542, "comment_id": 60801986, "body": "Not sure what you mean. In the Plunker it prints the params object containing the parameter value."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1460555494, "creation_date": 1460555494, "answer_id": 36600542, "question_id": 36600082, "link": "https://stackoverflow.com/questions/36600082/how-to-access-routeparams-in-the-app-class-in-angular2/36600542#36600542", "title": "How to Access RouteParams in the App class in Angular2", "body": "<p>You can inject the <code>Router</code> (like you already do), subscribe to it and then access the params like shown below:</p>\n\n<pre><code> constructor(\n        private _router: Router,\n        private _log: LoggingService,\n        private _state: StateService,\n        private _routeParams: RouteParams) {\n    this._router.subscribe(path =&gt; {\n      console.debug(this._router.currentInstruction.component.params);\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 2302, "user_id": 116671, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UPlur.jpg?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/116671/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1460555494, "creation_date": 1460554450, "question_id": 36600082, "link": "https://stackoverflow.com/questions/36600082/how-to-access-routeparams-in-the-app-class-in-angular2", "title": "How to Access RouteParams in the App class in Angular2", "body": "<p>I have an Angular2 application created using the CLI which I need to run in different modes. These modes need to be passed on the query string as the page will be hosted in an IFrame.</p>\n\n<p>From what I have read I there is a problem accessing the RouteParams in the top level application as they are only available in a routed component.</p>\n\n<p>currently I'm achieving what I want by going to the javascript location.search object but if possible I would prefer to do this in the correct dependency injected way so I can test things properly.</p>\n\n<p>Can someone advise me the correct way to access the parameters.</p>\n\n<pre><code>@Component({\n  selector: 'eox-app',\n  providers: [ROUTER_PROVIDERS, RouteParams,\n        FilterService,\n        LoggingService,\n        SpinnerService,\n        StateService,\n    ],\n  templateUrl: 'app/eox.html',\n  styleUrls: ['app//eox.css'],\n  directives: [ROUTER_DIRECTIVES],\n  pipes: []\n})\n@RouteConfig([\n\n].concat(CliRouteConfig))\n\nexport class EoxApp {\n    public menuItems = [\n        { caption: 'Dashboard', link: ['DashboardRoot'] },\n        { caption: 'Fonds', link: ['FundRoot'] },\n        { caption: 'Logs', link: ['LogRoot'] },\n        { caption: 'API', link: ['ApiRoot'] }\n    ];\n\n    public isEmbeded = false;\n    constructor(\n        private _router: Router,\n        private _log: LoggingService,\n        private _state: StateService,\n        private _routeParams: RouteParams) {\n\n        this.checkForEmbeded();\n        let jwt = this.getCookie(\"eox-token\");\n        this._state.isAuthenticated = jwt === \"123456\";\n\n        if(!this._state.isAuthenticated){\n            this._log.log(\"Not authenticated\", \"Eox vNext\");\n            this._router.navigate(['DashboardRoot']);\n        }\n        else {\n            this._log.log(\"Authenticated user\", \"Eox vNext\");\n        }\n        if(this.isEmbeded &amp;&amp; this._state.isAuthenticated)\n         {\n             this._log.log(\"Redirect to fundroot\", \"Eox vNext\");\n                this._router.navigate(['FundRoot']);\n         }\n    }\n\n    getCookie(c_name) {\n        var i, x, y, ARRcookies = document.cookie.split(';');\n        for (i = 0; i &lt; ARRcookies.length; i++) {\n            x = ARRcookies[i].substr(0, ARRcookies[i].indexOf('='));\n            y = ARRcookies[i].substr(ARRcookies[i].indexOf(\"=\") + 1);\n            x = x.replace(/^\\s+|\\s+$/g, \"\");\n            if (x == c_name) {\n                return unescape(y);\n            }\n        }\n    }\n\n    checkForEmbeded() {\n        this.isEmbeded = location.search.indexOf(\"embeded\") &gt; 0;\n        this._log.log(\"Embeded mode \" + this.isEmbeded, \"Eox vNext\");\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "angular", "alertifyjs"], "answers": [{"tags": [], "owner": {"reputation": 12611, "user_id": 491265, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/AJGd6.jpg?s=128&g=1", "display_name": "kemsky", "link": "https://stackoverflow.com/users/491265/kemsky"}, "is_accepted": false, "score": 2, "last_activity_date": 1460562710, "creation_date": 1460562710, "answer_id": 36603593, "question_id": 36599607, "link": "https://stackoverflow.com/questions/36599607/how-to-use-alertify-in-typescript/36603593#36603593", "title": "How to use Alertify in Typescript?", "body": "<p>If you don't want to use <code>tsd</code> or <code>typings</code> then the simplest way is to copy <code>alertify.d.ts</code> file to your source dir, include <code>alertify.js</code> using script tag and add next line to <code>main.ts</code>/<code>boot.ts</code>:</p>\n\n<pre><code>/// &lt;reference path=\"../path-to/alertify.d.ts\" /&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 343, "user_id": 6198809, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7c9932e0d21d104ff847ee0d7be99439?s=128&d=identicon&r=PG&f=1", "display_name": "marvstar", "link": "https://stackoverflow.com/users/6198809/marvstar"}, "is_accepted": true, "score": 1, "last_activity_date": 1460705585, "creation_date": 1460705585, "answer_id": 36640928, "question_id": 36599607, "link": "https://stackoverflow.com/questions/36599607/how-to-use-alertify-in-typescript/36640928#36640928", "title": "How to use Alertify in Typescript?", "body": "<p>I figured out how to use Alertify as easy as possible for me.</p>\n\n<p>I just bound it to my <code>index.html</code> with</p>\n\n<p><code>&lt;script src=\"alertify/alertify.min.js\"&gt;&lt;/script&gt;</code></p>\n\n<p>and then just calling it <code>alertify.METHODE()</code>.</p>\n\n<p>So making alertify global makes its very easy to use.</p>\n"}], "owner": {"reputation": 343, "user_id": 6198809, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7c9932e0d21d104ff847ee0d7be99439?s=128&d=identicon&r=PG&f=1", "display_name": "marvstar", "link": "https://stackoverflow.com/users/6198809/marvstar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2208, "favorite_count": 0, "accepted_answer_id": 36640928, "answer_count": 2, "score": 2, "last_activity_date": 1460705585, "creation_date": 1460553356, "last_edit_date": 1460553444, "question_id": 36599607, "link": "https://stackoverflow.com/questions/36599607/how-to-use-alertify-in-typescript", "title": "How to use Alertify in Typescript?", "body": "<p>I'm relative new to Angular2 so be patient with me.</p>\n\n<p>I tryed to use <em>Alertify.js</em> in my Angular2 project for a custom dialog box but i can't get Alertify running...\nI'm not that familiar with js so i tryed to use alertify.js in Typescript or rather tryed to make a module out of that alertify.js file.</p>\n\n<p>I found something about using  <em>.d.ts</em>  files and I also found the alertify.d.ts file on github but I cant figure out how to use it. I tryed several things but in the end I failed.</p>\n\n<p>Is there anyone who can help me with this problem or can show me an alternative for a custom dialogbox?</p>\n"}, {"tags": ["node.js", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 148, "user_id": 4533587, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3e5696042b9f0d6ab8e421a1ce6f1bce?s=128&d=identicon&r=PG&f=1", "display_name": "Johan Lindberg", "link": "https://stackoverflow.com/users/4533587/johan-lindberg"}, "edited": false, "score": 0, "creation_date": 1460575385, "post_id": 36600094, "comment_id": 60812213, "body": "The thing i want to achieve is to get both files classes under the same namespace, messages.Put and messages.GetWork"}, {"owner": {"reputation": 59, "user_id": 3741645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BfhLL.jpg?s=128&g=1", "display_name": "Norgerman", "link": "https://stackoverflow.com/users/3741645/norgerman"}, "reply_to_user": {"reputation": 148, "user_id": 4533587, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3e5696042b9f0d6ab8e421a1ce6f1bce?s=128&d=identicon&r=PG&f=1", "display_name": "Johan Lindberg", "link": "https://stackoverflow.com/users/4533587/johan-lindberg"}, "edited": false, "score": 0, "creation_date": 1460606104, "post_id": 36600094, "comment_id": 60823834, "body": "@JohanLindberg just write one messages.ts and export <code>Put</code> and <code>GetWork</code>, or use index to reexport the submodules, declare module and namespace is needless here."}, {"owner": {"reputation": 148, "user_id": 4533587, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3e5696042b9f0d6ab8e421a1ce6f1bce?s=128&d=identicon&r=PG&f=1", "display_name": "Johan Lindberg", "link": "https://stackoverflow.com/users/4533587/johan-lindberg"}, "edited": false, "score": 0, "creation_date": 1460661121, "post_id": 36600094, "comment_id": 60859205, "body": "Then i have to export every class i make, I&#39;m trying to get the same behavior as a normal C# project, where i can have multiple files targeting the same namespace without needing to double code somewhere."}, {"owner": {"reputation": 148, "user_id": 4533587, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3e5696042b9f0d6ab8e421a1ce6f1bce?s=128&d=identicon&r=PG&f=1", "display_name": "Johan Lindberg", "link": "https://stackoverflow.com/users/4533587/johan-lindberg"}, "edited": false, "score": 0, "creation_date": 1460662442, "post_id": 36600094, "comment_id": 60860000, "body": "I went with your first suggestion so i got the following stucture. messages.mq.getwork and messages.api.put which is better then my first intention but it doesn&#39;t exactly solve my original question. The export part does but it do require some extra coding every time i make a new class."}], "tags": [], "owner": {"reputation": 59, "user_id": 3741645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BfhLL.jpg?s=128&g=1", "display_name": "Norgerman", "link": "https://stackoverflow.com/users/3741645/norgerman"}, "is_accepted": true, "score": 1, "last_activity_date": 1460554481, "creation_date": 1460554481, "answer_id": 36600094, "question_id": 36599562, "link": "https://stackoverflow.com/questions/36599562/typescript-how-do-i-use-declare-module-in-node/36600094#36600094", "title": "Typescript : How do I use &quot;declare module&quot; in node", "body": "<p>In node you don't need to use declare module, every file is just a module, declare module is for d.ts and other usage.</p>\n\n<p>In your case just add an index.ts under /messages directory like this and remove declare module.</p>\n\n<pre><code>import * as M1 form \"./M1\";\nimport * as M2 form \"./M2\";\n\nexport {M1, M2};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 148, "user_id": 4533587, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3e5696042b9f0d6ab8e421a1ce6f1bce?s=128&d=identicon&r=PG&f=1", "display_name": "Johan Lindberg", "link": "https://stackoverflow.com/users/4533587/johan-lindberg"}, "edited": false, "score": 0, "creation_date": 1460575251, "post_id": 36600104, "comment_id": 60812130, "body": "I&#39;m aware of this, the reason I wanted to use declare module was that i wanted both the files classes to be under the same &quot;namespace&quot;. Both messages.Put and messages.GetWork."}, {"owner": {"reputation": 5287, "user_id": 186836, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d7c19b05522666e2a10a903c3bee56ac?s=128&d=identicon&r=PG", "display_name": "thitemple", "link": "https://stackoverflow.com/users/186836/thitemple"}, "reply_to_user": {"reputation": 148, "user_id": 4533587, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3e5696042b9f0d6ab8e421a1ce6f1bce?s=128&d=identicon&r=PG&f=1", "display_name": "Johan Lindberg", "link": "https://stackoverflow.com/users/4533587/johan-lindberg"}, "edited": false, "score": 1, "creation_date": 1460592501, "post_id": 36600104, "comment_id": 60820126, "body": "@JohanLindberg that&#39;s something that is not recommend by the TypeScript documentation, check the Needless Namespacing section on <a href=\"http://www.typescriptlang.org/docs/handbook/namespaces-and-modules.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/namespaces-and-modules.html</a>"}, {"owner": {"reputation": 148, "user_id": 4533587, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3e5696042b9f0d6ab8e421a1ce6f1bce?s=128&d=identicon&r=PG&f=1", "display_name": "Johan Lindberg", "link": "https://stackoverflow.com/users/4533587/johan-lindberg"}, "edited": false, "score": 0, "creation_date": 1460661202, "post_id": 36600104, "comment_id": 60859253, "body": "The part in Needless Namespacing isn&#39;t what I&#39;m doing or trying to achieve. I want the same functionality as in a C# project where multiple files can target the same namespace. Like their shapes.ts, i want another file moreshapes.ts that also get included in my shapes namespace. psuedo &quot;import * as shapes from &quot;./shapes &amp;&amp; ./moreshapes&quot;;"}, {"owner": {"reputation": 5287, "user_id": 186836, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d7c19b05522666e2a10a903c3bee56ac?s=128&d=identicon&r=PG", "display_name": "thitemple", "link": "https://stackoverflow.com/users/186836/thitemple"}, "reply_to_user": {"reputation": 148, "user_id": 4533587, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3e5696042b9f0d6ab8e421a1ce6f1bce?s=128&d=identicon&r=PG&f=1", "display_name": "Johan Lindberg", "link": "https://stackoverflow.com/users/4533587/johan-lindberg"}, "edited": false, "score": 0, "creation_date": 1460662390, "post_id": 36600104, "comment_id": 60859966, "body": "I don&#39;t think you can do that"}], "tags": [], "owner": {"reputation": 5287, "user_id": 186836, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d7c19b05522666e2a10a903c3bee56ac?s=128&d=identicon&r=PG", "display_name": "thitemple", "link": "https://stackoverflow.com/users/186836/thitemple"}, "is_accepted": false, "score": 1, "last_activity_date": 1460554495, "creation_date": 1460554495, "answer_id": 36600104, "question_id": 36599562, "link": "https://stackoverflow.com/questions/36599562/typescript-how-do-i-use-declare-module-in-node/36600104#36600104", "title": "Typescript : How do I use &quot;declare module&quot; in node", "body": "<p>A few things here, because you're trying to import messages without a relative path, with just the names, what TypeScript tries to do is to find a module in a node_modules folder. That's why it can't find any. </p>\n\n<p>So, if you want to import one of your own modules you should use a relative path.</p>\n\n<p>Now, every file is a module. So if you have a file called mq.ts you should import it as follows: </p>\n\n<pre><code>import { Put } from './mq';\n</code></pre>\n\n<p>The syntax:</p>\n\n<pre><code>declare module \"messages\" {\n  // ....\n}\n</code></pre>\n\n<p>is used only when creating Typings for existing node_modules and usually one would create a .d.ts file to do so.</p>\n\n<p><a href=\"http://www.typescriptlang.org/docs/handbook/module-resolution.html\" rel=\"nofollow\">Here's the documentation on module resolution for TypeScript, it is a good one</a>.</p>\n"}], "owner": {"reputation": 148, "user_id": 4533587, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3e5696042b9f0d6ab8e421a1ce6f1bce?s=128&d=identicon&r=PG&f=1", "display_name": "Johan Lindberg", "link": "https://stackoverflow.com/users/4533587/johan-lindberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2862, "favorite_count": 0, "accepted_answer_id": 36600094, "answer_count": 2, "score": 0, "last_activity_date": 1460575467, "creation_date": 1460553259, "last_edit_date": 1460575467, "question_id": 36599562, "link": "https://stackoverflow.com/questions/36599562/typescript-how-do-i-use-declare-module-in-node", "title": "Typescript : How do I use &quot;declare module&quot; in node", "body": "<p>How do i get declare module to work in Node, I get the typescript to compile without errors and the Intellisense in VS.Code works. But i get \"Cannot find module 'messages'\" in runtime.</p>\n\n<p>Clarification : I\u00b4m trying to get both the api.ts and mq.ts classes under the same \"namespace\" messages.</p>\n\n<p>I have the following node project setup.</p>\n\n<ul>\n<li>/messages/api.ts</li>\n<li>/messages/mq.ts </li>\n<li>/main.ts</li>\n</ul>\n\n<p>api.ts</p>\n\n<pre><code>declare module \"messages\" {\nexport class Put {\n\n    }\n}\n</code></pre>\n\n<p>mq.ts</p>\n\n<pre><code>declare module \"messages\"{\nexport class GetWork {\n\n    }\n}\n</code></pre>\n\n<p>main.ts</p>\n\n<pre><code>import * as messages from \"messages\";\nlet x = new messages.GetWork();\n</code></pre>\n\n<p>tsconfig.json</p>\n\n<pre><code>{\n   \"compilerOptions\": {\n      \"target\": \"es6\",\n      \"module\": \"commonjs\"\n   },\n   \"exclude\": [  ]\n}\n</code></pre>\n\n<p>jsconfig.json</p>\n\n<pre><code>{\n   \"compilerOptions\": {\n       \"target\": \"ES6\"\n   }\n}\n</code></pre>\n"}, {"tags": ["typescript", "angular", "angular2-routing"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1460550147, "post_id": 36597832, "comment_id": 60793218, "body": "I guess you should create a bug report in <a href=\"http://github.com/angular\" rel=\"nofollow noreferrer\">github.com/angular</a> if possible with a Plunker that demonstrates the issue."}, {"owner": {"reputation": 287, "user_id": 3035598, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d2ff8f1ce543f5039616c691026e5ce4?s=128&d=identicon&r=PG", "display_name": "Kevin Sleegers", "link": "https://stackoverflow.com/users/3035598/kevin-sleegers"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1460573785, "post_id": 36597832, "comment_id": 60811230, "body": "Thanks, I will create a new issue tomorrow."}, {"owner": {"reputation": 1281, "user_id": 271450, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fffc64449edc9c85b46a1a886bbe8cf7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/271450/jonathan"}, "edited": false, "score": 0, "creation_date": 1585956288, "post_id": 36597832, "comment_id": 107957405, "body": "I answered this question here: <a href=\"https://stackoverflow.com/a/61021832/271450\">stackoverflow.com/a/61021832/271450</a>"}], "answers": [{"comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1460614693, "post_id": 36608461, "comment_id": 60826785, "body": "Simon Green (CaptainCodeman) is always a great source of knowledge!"}, {"owner": {"reputation": 150, "user_id": 1943112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/281318e5a48c5efcc6686bea016b6dbf?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/1943112/craig"}, "edited": false, "score": 1, "creation_date": 1551805302, "post_id": 36608461, "comment_id": 96770956, "body": "I can&#39;t get this to work with child routes.  As soon as I put the * in there, it stops setting the parameter in the code."}, {"owner": {"reputation": 2109, "user_id": 134120, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afe563c5fd5aa838dafd41c45803f2eb?s=128&d=identicon&r=PG", "display_name": "AsGoodAsItGets", "link": "https://stackoverflow.com/users/134120/asgoodasitgets"}, "edited": false, "score": 1, "creation_date": 1556549819, "post_id": 36608461, "comment_id": 98467414, "body": "Indeed, this doesn&#39;t work, not anymore at least. I&#39;m using Angular Router 7.2.14. And I don&#39;t see how this could have ever worked, because once you put the star (*) in front of the parameter, it&#39;s not a parameter anymore, but just a string with a wildcard."}], "tags": [], "owner": {"reputation": 287, "user_id": 3035598, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d2ff8f1ce543f5039616c691026e5ce4?s=128&d=identicon&r=PG", "display_name": "Kevin Sleegers", "link": "https://stackoverflow.com/users/3035598/kevin-sleegers"}, "is_accepted": true, "score": 3, "last_activity_date": 1530028877, "last_edit_date": 1530028877, "creation_date": 1460577782, "answer_id": 36608461, "question_id": 36597832, "link": "https://stackoverflow.com/questions/36597832/angular2-routerlink-breaks-routes-by-replacing-slash-with-2f/36608461#36608461", "title": "Angular2 RouterLink breaks routes by replacing slash with %2F", "body": "<p>So I found the solution thanks to the Angular2 Issues page on Github (thanks G\u00fcnter!). </p>\n\n<p>My route was configured like this: </p>\n\n<pre><code>({ \n    path: \"/:page\",\n    component: Page,\n    name: \"Page\"\n}),\n</code></pre>\n\n<p>but instead should have been </p>\n\n<pre><code>({\n    path: \"/*page\",\n    component: Page,\n    name: \"Page\"\n}),\n</code></pre>\n\n<p>Difference is the <code>*</code> wildcard in front of <code>page</code>.</p>\n\n<p>I created <a href=\"https://github.com/angular/angular/issues/8049\" rel=\"nofollow noreferrer\">this issue</a></p>\n"}, {"tags": [], "owner": {"reputation": 1224, "user_id": 1175555, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/draqU.jpg?s=128&g=1", "display_name": "danivicario", "link": "https://stackoverflow.com/users/1175555/danivicario"}, "is_accepted": false, "score": 4, "last_activity_date": 1522679032, "creation_date": 1522679032, "answer_id": 49613075, "question_id": 36597832, "link": "https://stackoverflow.com/questions/36597832/angular2-routerlink-breaks-routes-by-replacing-slash-with-2f/49613075#49613075", "title": "Angular2 RouterLink breaks routes by replacing slash with %2F", "body": "<p>If the path was something like </p>\n\n<pre><code>pathServedByTheController = 'foo/bar'\n</code></pre>\n\n<p>then in the view I can do something like</p>\n\n<pre><code>&lt;my-button (click)=\"onEmitCta()\" [routerLink]=\"['/'].concat(pathServedByTheController.split('/')).concat('')\" class=\"banner-cta inverse shadow\"&gt;NAVIGATE&lt;/my-button&gt;\n</code></pre>\n\n<p>This works nicely to me!</p>\n"}, {"comments": [{"owner": {"reputation": 1400, "user_id": 2777687, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/k2BlC.png?s=128&g=1", "display_name": "Denis Evseev", "link": "https://stackoverflow.com/users/2777687/denis-evseev"}, "edited": false, "score": 0, "creation_date": 1588285041, "post_id": 59310529, "comment_id": 108848420, "body": "it won&#39;t work for angular-universal because it replaces all router links with &lt;a href"}, {"owner": {"reputation": 105, "user_id": 13647851, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FN042.jpg?s=128&g=1", "display_name": "Rajkumar M", "link": "https://stackoverflow.com/users/13647851/rajkumar-m"}, "edited": false, "score": 0, "creation_date": 1606827081, "post_id": 59310529, "comment_id": 115074506, "body": "Thanks. Finally I used calling a method from a tag and used location.back(). goBack(): void {     this._location.back();   }"}, {"owner": {"reputation": 1751, "user_id": 3302004, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/HVQgu.png?s=128&g=1", "display_name": "Jens Alenius", "link": "https://stackoverflow.com/users/3302004/jens-alenius"}, "edited": false, "score": 1, "creation_date": 1609773548, "post_id": 59310529, "comment_id": 115919945, "body": "Remember that this will this solution will disable the rightclick feature &#39;Open in new tab&#39; that many user expects."}], "tags": [], "owner": {"reputation": 172, "user_id": 3920086, "user_type": "registered", "profile_image": "https://graph.facebook.com/8305753/picture?type=large", "display_name": "Mark Lancaster", "link": "https://stackoverflow.com/users/3920086/mark-lancaster"}, "is_accepted": false, "score": 5, "last_activity_date": 1576174354, "creation_date": 1576174354, "answer_id": 59310529, "question_id": 36597832, "link": "https://stackoverflow.com/questions/36597832/angular2-routerlink-breaks-routes-by-replacing-slash-with-2f/59310529#59310529", "title": "Angular2 RouterLink breaks routes by replacing slash with %2F", "body": "<p>Instead of trying to use strings with slashes in routerLink, we simply let the router handle it in the component.</p>\n\n<pre><code>&lt;a (click)=\"goToPage(url)\"&gt;Link&lt;/a&gt;\n</code></pre>\n\n<pre><code>url = 'group/8';\n\ngoToPage(url) {\n    this.router.navigateByUrl(url);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 306, "user_id": 10376405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VZSo1.png?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/10376405/paul"}, "is_accepted": false, "score": 0, "last_activity_date": 1585048530, "creation_date": 1585048530, "answer_id": 60829935, "question_id": 36597832, "link": "https://stackoverflow.com/questions/36597832/angular2-routerlink-breaks-routes-by-replacing-slash-with-2f/60829935#60829935", "title": "Angular2 RouterLink breaks routes by replacing slash with %2F", "body": "<p>If you use Angular 7 or higher, and the other answers don't work out for you, you might have some problems with your paths. </p>\n\n<p>It works if you define a path with multiple slashes. However, when working with translations, I got an error.</p>\n\n<pre><code>[{\n  path: 'parentX',\n  children: [\n   {\n     path: 'y/z'\n     component: AnyComponent\n   }\n  ]\n}]\n</code></pre>\n\n<p><strong>All credit goes to Dabbas' question and</strong> <a href=\"https://stackoverflow.com/questions/55696188/in-angular-localize-router-if-path-contains-multiple-slashes-change-language-b\">answer</a></p>\n\n<p>It took me a while to land on his solution, which is why I added it here. </p>\n\n<pre><code>[{\n  path: 'parentX',\n  children: [\n   {\n     path: 'y',\n     children: [\n       {\n        path: 'z',\n        component: AnyComponent\n       }\n     ]\n   }\n  ]\n}]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2108, "user_id": 2049234, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8MpeV.png?s=128&g=1", "display_name": "Wen", "link": "https://stackoverflow.com/users/2049234/wen"}, "edited": false, "score": 0, "creation_date": 1601627527, "post_id": 64026557, "comment_id": 113471040, "body": "Thanks @Praveen. I tried different ways, your answer is the easiest and best way to solve this issue."}], "tags": [], "owner": {"reputation": 135, "user_id": 12803834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f791b32a4490b30ce1e3f4246d18093?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen RL", "link": "https://stackoverflow.com/users/12803834/praveen-rl"}, "is_accepted": false, "score": 2, "last_activity_date": 1600859097, "creation_date": 1600859097, "answer_id": 64026557, "question_id": 36597832, "link": "https://stackoverflow.com/questions/36597832/angular2-routerlink-breaks-routes-by-replacing-slash-with-2f/64026557#64026557", "title": "Angular2 RouterLink breaks routes by replacing slash with %2F", "body": "<p>You need to replace comma(,) with (+) like this</p>\n<pre><code>Wrong =&gt; &lt;a [routerLink]=&quot;['/Page', page.url]&quot; class=&quot;list-group-item&quot;&gt;{{ page.title }}&lt;/a&gt;\nRight =&gt; &lt;a [routerLink]=&quot;['/Page' + page.url]&quot; class=&quot;list-group-item&quot;&gt;{{ page.title }}&lt;/a&gt;\n</code></pre>\n"}], "owner": {"reputation": 287, "user_id": 3035598, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d2ff8f1ce543f5039616c691026e5ce4?s=128&d=identicon&r=PG", "display_name": "Kevin Sleegers", "link": "https://stackoverflow.com/users/3035598/kevin-sleegers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9695, "favorite_count": 1, "accepted_answer_id": 36608461, "answer_count": 5, "score": 9, "last_activity_date": 1600859097, "creation_date": 1460549171, "question_id": 36597832, "link": "https://stackoverflow.com/questions/36597832/angular2-routerlink-breaks-routes-by-replacing-slash-with-2f", "title": "Angular2 RouterLink breaks routes by replacing slash with %2F", "body": "<p>Since the latest Angular2 version (2.0.0-beta.14) it is possible to have query parameters that contain multiple slashes, like /foo/bar.</p>\n\n<p>This works great, however whenever I use a parameter with multiple slashes within a RouterLink link, it escapes the <code>/</code> with <code>%2F</code> causing the routes to not work anymore on reload.</p>\n\n<p>My link looks like this: <code>&lt;a [routerLink]=\"['/Page', {page: page.url | slug}]\" class=\"list-group-item\"&gt;{{ page.title }}&lt;/a&gt;</code></p>\n\n<p>Inside of the 'slug' pipe I even <code>URIDecode</code> the string, and when I log it it is correct. It would log something like <code>/pages/level-1/</code>, but when I inspect the actual <code>a</code> tag on the page it says <code>href=\"/pages%2Flevel-1\"</code>.</p>\n\n<p>I'm pretty clueless, because even when I print the value of <code>{{ page.url | slug }}</code> within my HTML template, it returns the url with slashes.</p>\n"}, {"tags": ["node.js", "typescript", "typescript1.8"], "answers": [{"tags": [], "owner": {"reputation": 628, "user_id": 654141, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9bd9cd7019fdec1d488c6806dbef8da8?s=128&d=identicon&r=PG", "display_name": "ArcSine", "link": "https://stackoverflow.com/users/654141/arcsine"}, "is_accepted": true, "score": 1, "last_activity_date": 1460549704, "creation_date": 1460549704, "answer_id": 36598044, "question_id": 36597670, "link": "https://stackoverflow.com/questions/36597670/exporting-modules-in-typescript/36598044#36598044", "title": "Exporting modules in typescript", "body": "<p>I would recommend exporting it as a class with static methods.  modules are more geared for the .d.ts files now.  They used to be for modules in general before the es2015 specification landed.  The following answers assume you are compiling all of your TypeScript code properly.</p>\n\n<p>Try this instead:</p>\n\n<pre><code>\"use strict\";\nvar fs = require('fs');\n\nexport class MyUtil {\n    static isFileReadable(filePath:string, callback:Function) {\n        fs.access(filePath, fs.R_OK, (err) =&gt; {\n            callback(err, null);\n        });\n    }\n}\n</code></pre>\n\n<p>Then to use it (using standard node imports) you would do:</p>\n\n<pre><code>var util = require('./my-util').MyUtil;\nutil.isFileReadble(...)\n</code></pre>\n\n<p>Using ES6 imports you would do:</p>\n\n<pre><code>import {MyUtil} from './my-util';\nMyUtil.isFileReadble(...)\n</code></pre>\n"}], "owner": {"reputation": 26308, "user_id": 80932, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c8df6a60fa19ec03cde467dad65c8f24?s=128&d=identicon&r=PG", "display_name": "ufk", "link": "https://stackoverflow.com/users/80932/ufk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1462, "favorite_count": 0, "accepted_answer_id": 36598044, "answer_count": 1, "score": 2, "last_activity_date": 1460549704, "creation_date": 1460548730, "last_edit_date": 1460549353, "question_id": 36597670, "link": "https://stackoverflow.com/questions/36597670/exporting-modules-in-typescript", "title": "Exporting modules in typescript", "body": "<p>I'm new to typescript, I'm working with Node.js 5.10.1 and tsc 1.8.9.\nI'm trying to create a simple ts file that contains a function that I can use.</p>\n\n<p>Since I'm using external modules and since my app is Node.js based I'm using the typescript-require 3rd library module.</p>\n\n<p>This is my <code>my-util.ts</code> file:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\"use strict\";\n\nvar fs = require('fs');\n\nexport module MyUtil {\n    export function isFileReadable(filePath:string, callback:Function) {\n        fs.access(filePath, fs.R_OK, (err) =&gt; {\n            callback(err, null);\n        });\n    }\n}\n</code></pre>\n\n<p>Now... in the main <code>ts</code> file which is currently.. empty. I want to require \nthe <code>my-util.ts</code> file and use the function <code>isFileReadable</code>. </p>\n\n<p>What I correct to add export to the module <code>MyUtil</code>? How do I require it?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 0, "creation_date": 1460549577, "post_id": 36597658, "comment_id": 60792726, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/750486/javascript-closure-inside-loops-simple-practical-example\">JavaScript closure inside loops \u2013 simple practical example</a>"}], "answers": [{"tags": [], "owner": {"reputation": 628, "user_id": 654141, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9bd9cd7019fdec1d488c6806dbef8da8?s=128&d=identicon&r=PG", "display_name": "ArcSine", "link": "https://stackoverflow.com/users/654141/arcsine"}, "is_accepted": false, "score": 0, "last_activity_date": 1460549031, "creation_date": 1460549031, "answer_id": 36597785, "question_id": 36597658, "link": "https://stackoverflow.com/questions/36597658/typescript-closure-inside-loop/36597785#36597785", "title": "Typescript - closure inside loop", "body": "<p>This is a problem because the function you calling in update is bound to the variable vehicle, not the loop iteration vehicle.  You would need to do something like:</p>\n\n<pre><code>for(let vehicle of vehicles) {\n    (vehicleClosure =&gt; {\n        update(location =&gt; vehicleClosure.location = location)\n    })(vehicle)\n}\n</code></pre>\n\n<p>Or use a JavaScript runtime that supports scoping via let which should behave as intended.</p>\n"}, {"tags": [], "owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "is_accepted": false, "score": 0, "last_activity_date": 1460549149, "creation_date": 1460549149, "answer_id": 36597822, "question_id": 36597658, "link": "https://stackoverflow.com/questions/36597658/typescript-closure-inside-loop/36597822#36597822", "title": "Typescript - closure inside loop", "body": "<p>Yes, bind the function that is using the closure variable, that will create a separate vehicle reference for each of the inner functions in the loop</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind</a></p>\n\n<pre><code>for(let vehicle of vehicles) {\n    update(function(veh, location)  {\n        veh.location = location;\n    }.bind(null, vehicle));\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 2, "last_activity_date": 1460551606, "creation_date": 1460551606, "answer_id": 36598868, "question_id": 36597658, "link": "https://stackoverflow.com/questions/36597658/typescript-closure-inside-loop/36598868#36598868", "title": "Typescript - closure inside loop", "body": "<blockquote>\n  <p>Is there any good workaround for this problem when targeting ES5?</p>\n</blockquote>\n\n<p>Please update to TypeScript nightly. This feature is supported there and will eventually make it to a release. </p>\n\n<h1>More</h1>\n\n<p><a href=\"https://basarat.gitbooks.io/typescript/content/docs/getting-started.html#nightly-typescript\" rel=\"nofollow\">https://basarat.gitbooks.io/typescript/content/docs/getting-started.html#nightly-typescript</a> </p>\n"}], "owner": {"reputation": 6861, "user_id": 739927, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Ua4Wm.jpg?s=128&g=1", "display_name": "Jarek", "link": "https://stackoverflow.com/users/739927/jarek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 576, "favorite_count": 0, "accepted_answer_id": 36598868, "answer_count": 3, "score": 0, "last_activity_date": 1460551606, "creation_date": 1460548691, "question_id": 36597658, "link": "https://stackoverflow.com/questions/36597658/typescript-closure-inside-loop", "title": "Typescript - closure inside loop", "body": "<p>I am trying to use closures in Typescript inside a loop, but I've got some serious problems:</p>\n\n<pre><code>for(let vehicle of vehicles) {\n    update(location =&gt; \n        {\n            vehicle.location = location;\n        }\n    );\n}\n</code></pre>\n\n<p>I am using Typescript 1.8.1 and I need to target ES5, when I compile the following error shows:</p>\n\n<pre><code>Loop contains block-scoped variable 'vehicle' \nreferenced by a function in the loop. \nThis is only supported in ECMAScript 6 or higher.\n</code></pre>\n\n<p>If i use var instead of let in the loop, it uses last value of vehicle for all closures.</p>\n\n<p>Is there any good workaround for this problem when targeting ES5?</p>\n"}, {"tags": ["jquery", "typescript", "angular", "ecmascript-6"], "comments": [{"owner": {"reputation": 30794, "user_id": 1906356, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nOR-lGSM4OQ/AAAAAAAAAAI/AAAAAAAAAKc/JK3VzYOOB-I/photo.jpg?sz=128", "display_name": "madalinivascu", "link": "https://stackoverflow.com/users/1906356/madalinivascu"}, "edited": false, "score": 0, "creation_date": 1460547148, "post_id": 36597021, "comment_id": 60790758, "body": "what is this <code>let</code> syntax?"}, {"owner": {"reputation": 15769, "user_id": 1054151, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/xrJol.png?s=128&g=1", "display_name": "BeNdErR", "link": "https://stackoverflow.com/users/1054151/benderr"}, "reply_to_user": {"reputation": 30794, "user_id": 1906356, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nOR-lGSM4OQ/AAAAAAAAAAI/AAAAAAAAAKc/JK3VzYOOB-I/photo.jpg?sz=128", "display_name": "madalinivascu", "link": "https://stackoverflow.com/users/1906356/madalinivascu"}, "edited": false, "score": 0, "creation_date": 1460547195, "post_id": 36597021, "comment_id": 60790787, "body": "@madalinivascu ES6 syntax"}], "answers": [{"comments": [{"owner": {"reputation": 7747, "user_id": 4655241, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bSNEB.jpg?s=128&g=1", "display_name": "Akhilesh Kumar", "link": "https://stackoverflow.com/users/4655241/akhilesh-kumar"}, "edited": false, "score": 1, "creation_date": 1460547922, "post_id": 36597266, "comment_id": 60791345, "body": "#myId is dynamically created so there is no #myId in my view initially"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 7747, "user_id": 4655241, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bSNEB.jpg?s=128&g=1", "display_name": "Akhilesh Kumar", "link": "https://stackoverflow.com/users/4655241/akhilesh-kumar"}, "edited": false, "score": 1, "creation_date": 1460548033, "post_id": 36597266, "comment_id": 60791437, "body": "<code>(click)=&quot;slctRmv($event)&quot;</code> or any other kind of Angular binding syntax doesn&#39;t work in dynamically added HTML. Components or directives are not instantiated neither. You probably want <a href=\"https://angular.io/docs/ts/latest/api/core/DynamicComponentLoader-class.html\" rel=\"nofollow noreferrer\">DynamicComponentLoader</a>"}, {"owner": {"reputation": 7747, "user_id": 4655241, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bSNEB.jpg?s=128&g=1", "display_name": "Akhilesh Kumar", "link": "https://stackoverflow.com/users/4655241/akhilesh-kumar"}, "edited": false, "score": 0, "creation_date": 1460548343, "post_id": 36597266, "comment_id": 60791705, "body": "yes, I also suspect so, but how to use it in my scenario?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 7747, "user_id": 4655241, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bSNEB.jpg?s=128&g=1", "display_name": "Akhilesh Kumar", "link": "https://stackoverflow.com/users/4655241/akhilesh-kumar"}, "edited": false, "score": 0, "creation_date": 1460549805, "post_id": 36597266, "comment_id": 60792930, "body": "What is your scenario? This might work for you <a href=\"http://stackoverflow.com/questions/36325212/angular-2-dynamic-tabs-with-user-click-chosen-components/36325468#36325468\" title=\"angular 2 dynamic tabs with user click chosen components\">stackoverflow.com/questions/36325212/&hellip;</a>"}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 2, "last_activity_date": 1460547632, "creation_date": 1460547632, "answer_id": 36597266, "question_id": 36597021, "link": "https://stackoverflow.com/questions/36597021/jquery-append-prepend-html-equivalent-in-angular-2/36597266#36597266", "title": "jQuery append(), prepend(), html() equivalent in angular 2", "body": "<p>Direct DOM manipulation should be avoided in Angular2.</p>\n\n<p>You can get a reference to an anchor element like</p>\n\n<pre><code>@Component({\n  selector: '...',\n  template: `&lt;div&gt;&lt;span #myAnchor&gt;&lt;/span&gt;&lt;/div&gt;`})\nclass MyComponent {\n  @ViewChildren('myAnchor') myAnchor;\n\n  constuctor(private renderer:Renderer) {}\n\n  ngAfterViewInit() {\n    // this.myAnchor.nativeElement.appendChild();\n    this.renderer.invokeElementMethod(this.myAnchor, 'appendChild', []);\n  }\n}\n</code></pre>\n\n<p>or other methods HTML elements provide see [Node.appendChild()](<a href=\"https://developer.mozilla.org/de/docs/Web/API/Node/appendChild\" rel=\"nofollow\">https://developer.mozilla.org/de/docs/Web/API/Node/appendChild</a></p>\n\n<p>But prefer the methods <a href=\"https://angular.io/docs/ts/latest/api/core/Renderer-class.html\" rel=\"nofollow\">Renderer</a> provides.</p>\n\n<p>You can also use </p>\n\n<pre><code>&lt;div&gt;&lt;span [innerHTML]=\"someField\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>class MyComponent {\n  someField:string = '&lt;div&gt;xxx&lt;/div&gt;';\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1837, "user_id": 1182510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8110748e5e181ddb8bbd155207abeb33?s=128&d=identicon&r=PG", "display_name": "Joel Davey", "link": "https://stackoverflow.com/users/1182510/joel-davey"}, "is_accepted": false, "score": 0, "last_activity_date": 1480087511, "creation_date": 1480087511, "answer_id": 40808160, "question_id": 36597021, "link": "https://stackoverflow.com/questions/36597021/jquery-append-prepend-html-equivalent-in-angular-2/40808160#40808160", "title": "jQuery append(), prepend(), html() equivalent in angular 2", "body": "<p>You can include the likes of jquery, although it's not advised if your intention is to modify stuff in the view.</p>\n\n<p>You could also build a lite version <a href=\"https://www.npmjs.com/package/jquery-lite\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/jquery-lite</a>.</p>\n\n<p>a genuine use case might be an external library returning some html , and you need to internally do some DOM manipulation on the returned html and send it to another service. It can be quite time consuming writing vanilla JS for that.</p>\n"}], "owner": {"reputation": 7747, "user_id": 4655241, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bSNEB.jpg?s=128&g=1", "display_name": "Akhilesh Kumar", "link": "https://stackoverflow.com/users/4655241/akhilesh-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1663, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1480087511, "creation_date": 1460546997, "last_edit_date": 1460547231, "question_id": 36597021, "link": "https://stackoverflow.com/questions/36597021/jquery-append-prepend-html-equivalent-in-angular-2", "title": "jQuery append(), prepend(), html() equivalent in angular 2", "body": "<p>I'm creating an element as follows:</p>\n\n<pre><code>let tmplt=``;\n      for(let i=0;i&lt;wht.length;i++){\n        tmplt +=`&lt;li title=\"${wht[i]}\" style=\"color:#000\"&gt;\n          &lt;span (click)=\"slctRmv($event)\"&gt;\u00d7&lt;/span&gt;${wht[i]}\n          &lt;/li&gt;`;\n      }\n      jQuery(\"#myId\").prepend(tmplt);\n</code></pre>\n\n<p>It is appending to the myId but click event is not triggering as in template.</p>\n\n<p>So is there solution for this in angular2.</p>\n"}, {"tags": ["javascript", "typescript", "angular"], "answers": [{"tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1460547007, "creation_date": 1460547007, "answer_id": 36597028, "question_id": 36597004, "link": "https://stackoverflow.com/questions/36597004/angular-2-how-to-use-nested-components/36597028#36597028", "title": "Angular 2 how to use nested components", "body": "<p>You need to list all components and directives you use in the template in the <code>directives: []</code> array.</p>\n\n<pre><code>@Component({\n    selector: 'my-app',\n    directives: [NavigationComponent],\n    templateUrl: 'app/app.component.html'\n})\nexport class MyApp {\n}\n</code></pre>\n\n<p>If the code of the components is in the same file, ensure that you don't refer to classes that are further down in your file because then they are unknown when you use them. Classes in TypeScript are not hoisted.</p>\n\n<p>You're on the safe side if you have one file per class.</p>\n"}], "owner": {"reputation": 1037, "user_id": 3535736, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-VGbbcW5O6Wc/AAAAAAAAAAI/AAAAAAAAByU/caMBVVLkU_0/photo.jpg?sz=128", "display_name": "Konrad Klimczak", "link": "https://stackoverflow.com/users/3535736/konrad-klimczak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 744, "favorite_count": 0, "accepted_answer_id": 36597028, "answer_count": 1, "score": 1, "last_activity_date": 1460547007, "creation_date": 1460546956, "question_id": 36597004, "link": "https://stackoverflow.com/questions/36597004/angular-2-how-to-use-nested-components", "title": "Angular 2 how to use nested components", "body": "<p>I have just started using Angular 2 and I run into a problem when using components. I want to use \"NavigationComponent\" component inside template of my \"MyApp\" component.</p>\n\n<p>This is \"MyApp\" component(/app/app.component.ts) :</p>\n\n<pre><code>import { Component } from 'angular2/core';\nimport { RouteConfig, ROUTER_DIRECTIVES, ROUTER_PROVIDERS } from 'angular2/router';\nimport {NavigationComponent} from './navigation/navigation.component';\n\n@Component({\n    selector: 'my-app',\n    templateUrl: 'app/app.component.html'\n})\nexport class MyApp {\n}\n</code></pre>\n\n<p>/app/app.component.html:\n\n\n<pre><code>&lt;nav class=\"pink accent-3\" role=\"navigation\"&gt;\n    &lt;na-navigation&gt;Loading...&lt;/na-navigation&gt; // &lt;-- this is my not working attempt :(\n&lt;/nav&gt;\n&lt;footer class=\"page-footer\"&gt;\n    &lt;!--footer--&gt;\n&lt;/footer&gt;\n</code></pre>\n\n<p>/app/navigation/navigation.component.ts:</p>\n\n<pre><code>import { Component, OnInit } from 'angular2/core';\nimport { MenuItem } from './menuItem';\n\n@Component({\n  selector: 'na-navigation',\n  templateUrl: 'app/navigation/navigation.component.html'\n})\nexport class NavigationComponent implements OnInit {\n\n  menuItems: MenuItem[] = [];\n\n  ngOnInit() {\n      this.menuItems.push(new MenuItem(\"Sign in\", \"signIn\"));\n      this.menuItems.push(new MenuItem(\"Create account\", \"createAccount\"));\n  }\n}\n</code></pre>\n\n<p>/app/navigation/navigation.component.html:</p>\n\n<pre><code>&lt;div class=\"nav-wrapper container\"&gt;\n    &lt;a id=\"logo-container\" href=\"#\" class=\"brand-logo\"&gt;Logo&lt;/a&gt;\n    &lt;ul class=\"right hide-on-med-and-down\"&gt;\n        &lt;li *ngFor=\"#menuItem of menuItems\"&gt;\n            &lt;a&gt;{{menuItem.label}}&lt;/a&gt;\n        &lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>But in the end my tag is not rendered, instead of menu list, there is only \"Loading...\".</p>\n\n<p>How should I pass \"NavigationComponent\" into \"MyApp\" to have in available in \"app.component.html\" template?</p>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1460549136, "post_id": 36596959, "comment_id": 60792391, "body": "You can return a function from your <code>Logger</code> constructor, but it will be an arbitrary function not an instance (not inheriting from <code>Logger.prototype</code>)"}], "answers": [{"comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1460549648, "post_id": 36597763, "comment_id": 60792785, "body": "Please don&#39;t forget to include the drawbacks of this approach in your answer."}, {"owner": {"reputation": 273, "user_id": 747704, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0f72eb28578c135f901ab21006878d0?s=128&d=identicon&r=PG", "display_name": "M--", "link": "https://stackoverflow.com/users/747704/m"}, "edited": false, "score": 1, "creation_date": 1462306021, "post_id": 36597763, "comment_id": 61578967, "body": "But this way Logger is not a class anymore, just a function."}], "tags": [], "owner": {"reputation": 384, "user_id": 3636970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df8d4f9c0dc004e057fbd95513df9a9b?s=128&d=identicon&r=PG&f=1", "display_name": "Angelos Kyriakopoulos", "link": "https://stackoverflow.com/users/3636970/angelos-kyriakopoulos"}, "is_accepted": false, "score": 3, "last_activity_date": 1460550198, "last_edit_date": 1460550198, "creation_date": 1460548988, "answer_id": 36597763, "question_id": 36596959, "link": "https://stackoverflow.com/questions/36596959/call-class-instance-as-function-js-ts/36597763#36597763", "title": "Call class instance as function (JS/TS)", "body": "<pre><code>function Logger() {\n  return function log(arg1, arg2) {\n    //@TODO: use the function's args\n    // or the arguments property to\n    // generate the log\n\n    console.log(log.arguments);\n  }\n}\nlogger = new Logger();\nlogger('boom', 123, 'yolo');\n</code></pre>\n\n<p>This solution should to the trick you are looking for. How optimal it is or better ways of setting this up will probably be found in the comments below.</p>\n"}], "owner": {"reputation": 273, "user_id": 747704, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0f72eb28578c135f901ab21006878d0?s=128&d=identicon&r=PG", "display_name": "M--", "link": "https://stackoverflow.com/users/747704/m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 512, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1460550198, "creation_date": 1460546872, "question_id": 36596959, "link": "https://stackoverflow.com/questions/36596959/call-class-instance-as-function-js-ts", "title": "Call class instance as function (JS/TS)", "body": "<p>Let's say I have a logging class called Logger.</p>\n\n<pre><code>let log = new Logger(...);\n</code></pre>\n\n<p>Is it possible to specify a magic method in that class to be executed when the class instance is invoked as function? For example</p>\n\n<pre><code>log(...)\n</code></pre>\n\n<p>In php implementing the  __invoke() magic method of a class achieves the same thing. </p>\n"}, {"tags": ["typescript", "angular"], "comments": [{"owner": {"reputation": 19421, "user_id": 3795501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaeec79535337d9a96f63f2d6ef3e49d?s=128&d=identicon&r=PG", "display_name": "Luka Jacobowitz", "link": "https://stackoverflow.com/users/3795501/luka-jacobowitz"}, "edited": false, "score": 0, "creation_date": 1460543685, "post_id": 36595699, "comment_id": 60788272, "body": "Can you make a plunker?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1460544391, "post_id": 36595699, "comment_id": 60788759, "body": "I don&#39;t see why this wouldn&#39;t work. Inheriting <code>@Input()....</code> and <code>@Component(...)</code> stuff is not supported but plain TS class inheritance should work without problems."}, {"owner": {"reputation": 15500, "user_id": 3125880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3e27beedab625639f716f543323d926?s=128&d=identicon&r=PG&f=1", "display_name": "Abdulrahman Alsoghayer", "link": "https://stackoverflow.com/users/3125880/abdulrahman-alsoghayer"}, "edited": false, "score": 0, "creation_date": 1460544433, "post_id": 36595699, "comment_id": 60788794, "body": "If i had to guess, your import  <code>import {BaseComponent} from &#39;..&#47;baseComponent&#39;;</code> should probably be <code>import {BaseComponent} from &#39;.&#47;baseComponent&#39;;</code> . It works as expected in this <a href=\"http://plnkr.co/edit/utCvRzeOAgJK7L6GL6xY?p=preview\" rel=\"nofollow noreferrer\">plunker</a>"}, {"owner": {"reputation": 152, "user_id": 5010473, "user_type": "registered", "profile_image": "https://graph.facebook.com/10100259876509418/picture?type=large", "display_name": "mattdotdev", "link": "https://stackoverflow.com/users/5010473/mattdotdev"}, "edited": false, "score": 0, "creation_date": 1460544654, "post_id": 36595699, "comment_id": 60788946, "body": "I&#39;ve just made up my own plunkr and yes its working exactly as I expected. Base Component is definitely one level above the icon file, and tsc is not complaining about the import.  At least I know now that its specific to this setup and its not a TS/angular thing I don&#39;t understand."}, {"owner": {"reputation": 152, "user_id": 5010473, "user_type": "registered", "profile_image": "https://graph.facebook.com/10100259876509418/picture?type=large", "display_name": "mattdotdev", "link": "https://stackoverflow.com/users/5010473/mattdotdev"}, "edited": false, "score": 0, "creation_date": 1460545227, "post_id": 36595699, "comment_id": 60789377, "body": "As a follow up, I duplicated the baseComponent file, put it on the same level as icon.ts and updated the import statement and it works fine. Is there some kind of system.js magic I&#39;m missing where it doesn&#39;t like going up a directory?"}], "answers": [{"tags": [], "owner": {"reputation": 152, "user_id": 5010473, "user_type": "registered", "profile_image": "https://graph.facebook.com/10100259876509418/picture?type=large", "display_name": "mattdotdev", "link": "https://stackoverflow.com/users/5010473/mattdotdev"}, "is_accepted": false, "score": 0, "last_activity_date": 1460546559, "creation_date": 1460546559, "answer_id": 36596842, "question_id": 36595699, "link": "https://stackoverflow.com/questions/36595699/class-inheritance-doesnt-work/36596842#36596842", "title": "Class inheritance doesn&#39;t work", "body": "<p>Apologies for the trip down the rabbit hole here. Half hour of walking through the code, for whatever reason BaseComponent.ts wasn't being compiled. Run tsc a few times and it all suddenly started working.</p>\n\n<p>Thanks for everyones help!</p>\n"}], "owner": {"reputation": 152, "user_id": 5010473, "user_type": "registered", "profile_image": "https://graph.facebook.com/10100259876509418/picture?type=large", "display_name": "mattdotdev", "link": "https://stackoverflow.com/users/5010473/mattdotdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 704, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1460546559, "creation_date": 1460543501, "last_edit_date": 1460544426, "question_id": 36595699, "link": "https://stackoverflow.com/questions/36595699/class-inheritance-doesnt-work", "title": "Class inheritance doesn&#39;t work", "body": "<p>I am trying to build an <code>Icon</code> component that inherits properties from a base class. However, when an <code>Icon</code> is instantiated, none of the properties from <code>super</code> are present, the <code>__proto__</code> property is not set.</p>\n\n<p>I feel like I'm missing something super obvious. I've run a very simple codepen version of the code and it works as expected: <a href=\"http://codepen.io/anon/pen/grerwZ\" rel=\"nofollow\">CodePen Example</a></p>\n\n<p>However, bringing it in to the context of Angular 2, the inherited property is always <code>undefined</code>.</p>\n\n<p>BaseComponent.ts</p>\n\n<pre><code>export abstract class BaseComponent {\n  constructor() {\n    this.baseImagePath = '/Assets/Images';\n  }\n\n  baseImagePath: string;\n}\n</code></pre>\n\n<p>Icon.ts</p>\n\n<pre><code>import {Component, Input} from 'angular2/core';\nimport {BaseComponent} from '../baseComponent';\n\n@Component({\n  selector: 'lib-icon',\n  templateUrl: 'app/components/icon/icon.tmpl.html'\n})\nexport class Icon extends BaseComponent {\n  @Input() icon: string;\n\n  constructor() {\n    super();\n    this.baseImagePath += '/icons/';\n  }\n\n\n  getSrc() {\n    return `${this.baseImagePath}${this.icon}`;\n  }\n}\n</code></pre>\n\n<p>I've tried moving the <code>this.baseImagePath += '/icons/'</code> line in to <code>ngOnInit</code> too just in case - it's always undefined.</p>\n\n<p>Any insight in to what I'm missing would be much appreciated.</p>\n"}, {"tags": ["typescript", "angular", "lite-server"], "answers": [{"tags": [], "owner": {"reputation": 15500, "user_id": 3125880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3e27beedab625639f716f543323d926?s=128&d=identicon&r=PG&f=1", "display_name": "Abdulrahman Alsoghayer", "link": "https://stackoverflow.com/users/3125880/abdulrahman-alsoghayer"}, "is_accepted": false, "score": 2, "last_activity_date": 1460553034, "last_edit_date": 1460553034, "creation_date": 1460546425, "answer_id": 36596783, "question_id": 36595649, "link": "https://stackoverflow.com/questions/36595649/angular2-config-outdir/36596783#36596783", "title": "angular2 config outDir", "body": "<p>I think you can't pass <code>baseDir</code> argument to <code>lite-server</code>. Although, I don't see the cli arguments documented neither in <a href=\"https://www.npmjs.com/package/lite-server\" rel=\"nofollow\">npmjs</a> nor in <a href=\"https://github.com/johnpapa/lite-server\" rel=\"nofollow\">github</a>. You have to have a <code>bs-config.json</code> file. </p>\n\n<pre><code>{\n   \"server\": { \"baseDir\": \"./dist\" }\n}\n</code></pre>\n\n<p>Of course,that would require you to move <code>index.html</code> to inside <code>dist/</code></p>\n"}], "owner": {"reputation": 207, "user_id": 2064194, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/zlwqO.png?s=128&g=1", "display_name": "Bonci Marco", "link": "https://stackoverflow.com/users/2064194/bonci-marco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 851, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1460553034, "creation_date": 1460543363, "question_id": 36595649, "link": "https://stackoverflow.com/questions/36595649/angular2-config-outdir", "title": "angular2 config outDir", "body": "<p>i create my first project and started on <a href=\"https://angular.io/docs/ts/latest/quickstart.html\" rel=\"nofollow\">angular 2 getstarted</a></p>\n\n<p>I changed my config tsconfig.json with </p>\n\n<pre><code>{\n\n\"compilerOptions\": {\n  \"target\": \"es5\",\n  \"module\": \"system\",\n  \"moduleResolution\": \"node\",\n  \"sourceMap\": true,\n  \"emitDecoratorMetadata\": true,\n  \"experimentalDecorators\": true,\n  \"removeComments\": false,\n  \"noImplicitAny\": false,\n  \"outDir\": \"dist\"  &lt;---- NEW \n },\n   \"exclude\": [\n     \"node_modules\",\n     \"typings/main\",\n    \"typings/main.d.ts\"\n    ]\n}\n</code></pre>\n\n<p>and I add on my package.json \"lite\": \"lite-server  --baseDir ./dist\"</p>\n\n<p>Why the app don't start? Please Help me. Thank's Marco.</p>\n"}, {"tags": ["visual-studio", "typescript", "visual-studio-2015"], "answers": [{"comments": [{"owner": {"reputation": 5124, "user_id": 5044561, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8c89dcde3ed01ba8a5e2fc8dda49d485?s=128&d=identicon&r=PG", "display_name": "fikkatra", "link": "https://stackoverflow.com/users/5044561/fikkatra"}, "edited": false, "score": 0, "creation_date": 1460543215, "post_id": 36595056, "comment_id": 60787896, "body": "Thanks for your answer! I&#39;m familiar with Gulp and Grunt, however it is still important to get TypeScript tools for Visual Studio working, because of the IDE support (squiggly lines, intellisense,...)"}, {"owner": {"reputation": 915, "user_id": 4697350, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/206c6423ad7fa91e522a3dc0c48c9842?s=128&d=identicon&r=PG&f=1", "display_name": "Peurr", "link": "https://stackoverflow.com/users/4697350/peurr"}, "reply_to_user": {"reputation": 5124, "user_id": 5044561, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8c89dcde3ed01ba8a5e2fc8dda49d485?s=128&d=identicon&r=PG", "display_name": "fikkatra", "link": "https://stackoverflow.com/users/5044561/fikkatra"}, "edited": false, "score": 0, "creation_date": 1460546919, "post_id": 36595056, "comment_id": 60790602, "body": "@fikkatra That&#39;s true, well I&#39;m not familiar with the TypeScript tools, sorry."}], "tags": [], "owner": {"reputation": 915, "user_id": 4697350, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/206c6423ad7fa91e522a3dc0c48c9842?s=128&d=identicon&r=PG&f=1", "display_name": "Peurr", "link": "https://stackoverflow.com/users/4697350/peurr"}, "is_accepted": false, "score": 1, "last_activity_date": 1460541873, "creation_date": 1460541873, "answer_id": 36595056, "question_id": 36594894, "link": "https://stackoverflow.com/questions/36594894/no-typescript-compiler-was-found-at-c-program-files-x86-microsoft-sdks-typesc/36595056#36595056", "title": "No TypeScript compiler was found at C:\\Program Files (x86)\\Microsoft SDKs\\TypeScript\\1.8\\tsc.exe", "body": "<p>I'm not experienced with using the TypeScript tools for Microsoft.. what you could do is use Gulp or Grunt tasks to compile TypeScript, this will even allow you to compile the TypeScript files everytime your save your <code>.ts</code> files.</p>\n\n<p>You will need NPM (Node Package Manager) to install Gulp or Grunt and then install the package for compiling TypeScript.</p>\n\n<p>You can find some information about the Grunt TypeScript package here: <a href=\"https://www.npmjs.com/package/grunt-typescript\" rel=\"nofollow\">https://www.npmjs.com/package/grunt-typescript</a></p>\n\n<p>Or for information about the Gulp TypeScript package, check this: <a href=\"https://www.npmjs.com/package/gulp-typescript\" rel=\"nofollow\">https://www.npmjs.com/package/gulp-typescript</a></p>\n"}, {"tags": [], "owner": {"reputation": 5124, "user_id": 5044561, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8c89dcde3ed01ba8a5e2fc8dda49d485?s=128&d=identicon&r=PG", "display_name": "fikkatra", "link": "https://stackoverflow.com/users/5044561/fikkatra"}, "is_accepted": true, "score": 1, "last_activity_date": 1460547296, "creation_date": 1460547296, "answer_id": 36597130, "question_id": 36594894, "link": "https://stackoverflow.com/questions/36594894/no-typescript-compiler-was-found-at-c-program-files-x86-microsoft-sdks-typesc/36597130#36597130", "title": "No TypeScript compiler was found at C:\\Program Files (x86)\\Microsoft SDKs\\TypeScript\\1.8\\tsc.exe", "body": "<p>I've read through the comments on <a href=\"https://github.com/Microsoft/TypeScript/issues/2039\" rel=\"nofollow\">this</a> issue on the TypeScript Github repo. Although this is a different issue, I did find a clue: repairing Visual Studio 2015 (through the Control Panel) installed tsc.exe in the correct folder.</p>\n"}, {"comments": [{"owner": {"reputation": 5124, "user_id": 5044561, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8c89dcde3ed01ba8a5e2fc8dda49d485?s=128&d=identicon&r=PG", "display_name": "fikkatra", "link": "https://stackoverflow.com/users/5044561/fikkatra"}, "edited": false, "score": 0, "creation_date": 1460579972, "post_id": 36606851, "comment_id": 60814909, "body": "Thanks for your answer. You&#39;re right..either I made a typo in the error message in my question, or by some miracle installing the tsc.exe in the TypeScript\\1.8 directory miraculously solved the issue. However, I do have the typescripttoolsversion included in my proj file. I&#39;m going to update the question. Sorry for the confusion."}], "tags": [], "owner": {"reputation": 2280, "user_id": 1549726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c39f08ba9154f238b5f65a06f54e781?s=128&d=identicon&r=PG", "display_name": "Silver Solver", "link": "https://stackoverflow.com/users/1549726/silver-solver"}, "is_accepted": false, "score": 2, "last_activity_date": 1460572734, "creation_date": 1460572734, "answer_id": 36606851, "question_id": 36594894, "link": "https://stackoverflow.com/questions/36594894/no-typescript-compiler-was-found-at-c-program-files-x86-microsoft-sdks-typesc/36606851#36606851", "title": "No TypeScript compiler was found at C:\\Program Files (x86)\\Microsoft SDKs\\TypeScript\\1.8\\tsc.exe", "body": "<p><code>MSBuild</code> is looking in the wrong place for <code>tsc.exe</code></p>\n\n<p>It should be looking in 'C:\\Program Files (x86)\\Microsoft SDKs\\TypeScript\\ <em>tsc version</em> \\tsc.exe'</p>\n\n<p>e.g. <code>C:\\Program Files (x86)\\Microsoft SDKs\\TypeScript\\1.8\\tsc.exe</code></p>\n\n<p>The one thing the TypeScript SDK installer wont do, is upgrade your existing projects. So all that reinstalling wont change anything. However, if you want MSBuild to use the newer compiler, you can upgrade your project yourself.</p>\n\n<p>I don't think there is any way to do this through the UI, but it's easy enough to edit the Project file.\nIt needs to contain this in the first PropertyGroup</p>\n\n<pre><code>&lt;TypeScriptToolsVersion&gt;1.7&lt;/TypeScriptToolsVersion&gt;\n</code></pre>\n\n<p>If you want the build to use v1.8.6, you need to set </p>\n\n<pre><code>&lt;TypeScriptToolsVersion&gt;1.8&lt;/TypeScriptToolsVersion&gt;\n</code></pre>\n\n<p>In your case, I'm betting it's not there at all. So you should just add it.</p>\n"}], "owner": {"reputation": 5124, "user_id": 5044561, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8c89dcde3ed01ba8a5e2fc8dda49d485?s=128&d=identicon&r=PG", "display_name": "fikkatra", "link": "https://stackoverflow.com/users/5044561/fikkatra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7649, "favorite_count": 0, "accepted_answer_id": 36597130, "answer_count": 3, "score": 4, "last_activity_date": 1460579997, "creation_date": 1460541515, "last_edit_date": 1460579997, "question_id": 36594894, "link": "https://stackoverflow.com/questions/36594894/no-typescript-compiler-was-found-at-c-program-files-x86-microsoft-sdks-typesc", "title": "No TypeScript compiler was found at C:\\Program Files (x86)\\Microsoft SDKs\\TypeScript\\1.8\\tsc.exe", "body": "<p>I installed Visual Studio 2015 and TypeScript 1.8.6 for Visual Studio 2015. After creating a new TypeScript project and building, I get this build error:</p>\n\n<blockquote>\n  <p>No compiler was found at C:\\Program Files (x86)\\Microsoft\n  SDKs\\TypeScript\\1.8\\tsc.exe</p>\n</blockquote>\n\n<p>Indeed, tsc.exe is missing in the file system.</p>\n\n<p>Things I've tried:</p>\n\n<ul>\n<li>Uninstall and re-install TypeScript Tools for Visual Studio 2015 1.8.6.0</li>\n<li>Uninstall and re-install TypeScript Tools for Visual Studio 2013 1.8.5.0</li>\n<li>Repair TypeScript Tools for Visual Studio 2015 1.8.6.0</li>\n<li>I HAVE tried turning it off and on again :-)</li>\n</ul>\n\n<p>Any clue on how to solve this? Which component installs the TypeScript SDK?</p>\n"}, {"tags": ["angular", "typescript", "xss", "csrf"], "answers": [{"comments": [{"owner": {"reputation": 2119, "user_id": 4185989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe84cd79828a71d2cfe73e43b7ca8c83?s=128&d=identicon&r=PG&f=1", "display_name": "jmq", "link": "https://stackoverflow.com/users/4185989/jmq"}, "edited": false, "score": 0, "creation_date": 1516645015, "post_id": 37414222, "comment_id": 83763287, "body": "Worth looking at that security guide as a whole, but also ref <a href=\"https://angular.io/guide/http#security-xsrf-protection\" rel=\"nofollow noreferrer\">angular.io/guide/http#security-xsrf-protection</a> specifically (which the security guide links to)"}], "tags": [], "owner": {"reputation": 7944, "user_id": 402231, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/8sVAs.jpg?s=128&g=1", "display_name": "Daniel Gartmann", "link": "https://stackoverflow.com/users/402231/daniel-gartmann"}, "is_accepted": true, "score": 38, "last_activity_date": 1469874469, "last_edit_date": 1469874469, "creation_date": 1464094400, "answer_id": 37414222, "question_id": 36594516, "link": "https://stackoverflow.com/questions/36594516/how-does-angular-handle-xss-or-csrf/37414222#37414222", "title": "How does Angular handle XSS or CSRF?", "body": "<p><strong>Angular2</strong> provides built-in, enabled by default*, anti <strong>XSS</strong> and <strong>CSRF/XSRF</strong> protection.</p>\n\n<p>The <a href=\"https://github.com/angular/angular/blob/7a524e3debf85f3cb773e7d4a8914d625ddb256e/modules/%40angular/platform-browser/src/security/dom_sanitization_service.ts\">DomSanitizationService</a> takes care of removing the dangerous bits in order to prevent an <strong>XSS</strong> attack.</p>\n\n<p>The <a href=\"https://github.com/angular/angular/blob/10475b859d88570b13bc37b2c97d031e57f85b63/modules/%40angular/http/src/backends/xhr_backend.ts\">CookieXSRFStrategy</a> class (within the XHRConnection class) takes care of preventing <strong>CSRF/XSRF</strong> attacks.</p>\n\n<p>*Note that the <strong>CSRF/XSRF</strong> protection is enabled by default on the client but only works if the backend sets a cookie named <strong>XSRF-TOKEN</strong> with a random value when the user authenticates. For more information read up about the <a href=\"https://en.wikipedia.org/wiki/Cross-site_request_forgery#Cookie-to-Header_Token\">Cookie-to-Header Token pattern</a>.</p>\n\n<p>UPDATE: Official Angular2 security documentation: <a href=\"https://angular.io/docs/ts/latest/guide/security.html\">https://angular.io/docs/ts/latest/guide/security.html</a> (Thanks to Martin Probst for the edit suggestion!).</p>\n"}, {"comments": [{"owner": {"reputation": 1522, "user_id": 9151084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JFWMM.jpg?s=128&g=1", "display_name": "x-magix", "link": "https://stackoverflow.com/users/9151084/x-magix"}, "edited": false, "score": 1, "creation_date": 1600035471, "post_id": 57391494, "comment_id": 112953687, "body": "perfect explanation"}], "tags": [], "owner": {"reputation": 3397, "user_id": 11127383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FulXc.jpg?s=128&g=1", "display_name": "Daniel Danielecki", "link": "https://stackoverflow.com/users/11127383/daniel-danielecki"}, "is_accepted": false, "score": 1, "last_activity_date": 1565171209, "creation_date": 1565171209, "answer_id": 57391494, "question_id": 36594516, "link": "https://stackoverflow.com/questions/36594516/how-does-angular-handle-xss-or-csrf/57391494#57391494", "title": "How does Angular handle XSS or CSRF?", "body": "<p>For mentioned server side in Angular, the CSRF you might handle using Express:</p>\n\n<pre><code>app.use(express.csrf())\napp.use(function (req, res, next) {\n  res.cookie('XSRF-TOKEN', req.session._csrf);\n  res.locals.csrftoken = req.session._csrf;\n  next();\n})\n</code></pre>\n\n<p>Not sure if with the new <strong>HttpClientXsrfModule</strong> it's still required though. It might be enough to add only the following (but need to be confirmed) on the client side in <strong>app.module</strong>:</p>\n\n<pre><code>HttpClientXsrfModule.withOptions({\n  cookieName: 'XSRF-TOKEN',\n  headerName: 'X-XSRF-TOKEN'\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 4518884, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-r76JXzhjp7A/AAAAAAAAAAI/AAAAAAAAAKM/Htr4fV5qNaE/photo.jpg?sz=128", "display_name": "SNL", "link": "https://stackoverflow.com/users/4518884/snl"}, "is_accepted": false, "score": 0, "last_activity_date": 1601479024, "creation_date": 1601479024, "answer_id": 64140681, "question_id": 36594516, "link": "https://stackoverflow.com/questions/36594516/how-does-angular-handle-xss-or-csrf/64140681#64140681", "title": "How does Angular handle XSS or CSRF?", "body": "<p>Following is brief guide on how <strong>CSRF</strong> is handled in\nbackend/server-side implementation when using SpringBoot</p>\n<p>The token in <strong>CSRF</strong> can be associated either with  HttpSession or in a cookie</p>\n<p>To handle as a <strong>cookie</strong>, we may pass</p>\n<pre><code>.csrfTokenRepository(new CookieCsrfTokenRepository())\n</code></pre>\n<p>To handle as a <strong>HttpSession</strong>, we may pass</p>\n<pre><code>.csrfTokenRepository(new HttpSessionCsrfTokenRepository())   \n</code></pre>\n<p>Even we can have a custom csrf token repository by implmenting CsrfTokenRepository\nin case we need skip specific url and so on</p>\n<p>all above can be used when overriding  <strong>configure</strong> method of <strong>WebSecurityConfigurerAdapter</strong></p>\n"}], "owner": {"reputation": 721, "user_id": 5655282, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5d8f886f2bdbc17204b1dce97110c247?s=128&d=identicon&r=PG&f=1", "display_name": "TheHeroOfTime", "link": "https://stackoverflow.com/users/5655282/theherooftime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29053, "favorite_count": 10, "accepted_answer_id": 37414222, "answer_count": 3, "score": 24, "last_activity_date": 1601479024, "creation_date": 1460540592, "last_edit_date": 1551969556, "question_id": 36594516, "link": "https://stackoverflow.com/questions/36594516/how-does-angular-handle-xss-or-csrf", "title": "How does Angular handle XSS or CSRF?", "body": "<p>How does Angular (2) handle XSS and CSRF. Does it even handle these attacks? \nIf so, what do I have to do to use this protection? If not, do I have to handle all these attacks in my server, or somehow with TypeScript in the frontend?</p>\n\n<p>I have read that you have to use \"<code>withCredentials: true</code>\", but I'm not quite sure where to put this code or if it is even that, what I'm looking for.</p>\n\n<p>In the <a href=\"https://angular.io/\" rel=\"nofollow noreferrer\">https://angular.io/</a> webpage I didn't find anything about this (or I just missed it).</p>\n"}, {"tags": ["typescript", "promise", "bluebird"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1460547224, "post_id": 36593087, "comment_id": 60790806, "body": "Why <code>Test&lt;typeof promise&gt;</code>, shouldn&#39;t it just be <code>Test&lt;promise&gt;</code>?"}, {"owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1460556101, "post_id": 36593087, "comment_id": 60798557, "body": "@Bergi that tells the compiler to treat the variable as a class. But it doesn&#39;t matter, because the error occurs before that call, while parsing class <code>Test</code>. I have updated the question ;)"}, {"owner": {"reputation": 245145, "user_id": 1348195, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f6dca2295546af21e1cde8e68f2d49bd?s=128&d=identicon&r=PG", "display_name": "Benjamin Gruenbaum", "link": "https://stackoverflow.com/users/1348195/benjamin-gruenbaum"}, "edited": false, "score": 0, "creation_date": 1460899447, "post_id": 36593087, "comment_id": 60944136, "body": "You need to define a <code>then</code>able structural interface, although I think bluebird would structurally pass as an ES2015 promise since it has exactly the same function signatures."}, {"owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "reply_to_user": {"reputation": 245145, "user_id": 1348195, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f6dca2295546af21e1cde8e68f2d49bd?s=128&d=identicon&r=PG", "display_name": "Benjamin Gruenbaum", "link": "https://stackoverflow.com/users/1348195/benjamin-gruenbaum"}, "edited": false, "score": 0, "creation_date": 1460899653, "post_id": 36593087, "comment_id": 60944191, "body": "@BenjaminGruenbaum Bluebird has a lot of extra methods on top of the standard Promise protocol that I want to have access to, so I&#39;m trying to figure out how it can be templated in as a dynamic parameter."}, {"owner": {"reputation": 245145, "user_id": 1348195, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f6dca2295546af21e1cde8e68f2d49bd?s=128&d=identicon&r=PG", "display_name": "Benjamin Gruenbaum", "link": "https://stackoverflow.com/users/1348195/benjamin-gruenbaum"}, "edited": false, "score": 1, "creation_date": 1460914606, "post_id": 36593087, "comment_id": 60949573, "body": "Oh, you want the type of the returned promise to depend on the type of the input promise? I don&#39;t think TS does that but I&#39;ll ping @spion who is literally the only other person on earth that is deeply interested in this :P (update: after some thought it doesn&#39;t sound too hard to model this with generics in general and I see how I could easily do it in C++)"}, {"owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "reply_to_user": {"reputation": 245145, "user_id": 1348195, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f6dca2295546af21e1cde8e68f2d49bd?s=128&d=identicon&r=PG", "display_name": "Benjamin Gruenbaum", "link": "https://stackoverflow.com/users/1348195/benjamin-gruenbaum"}, "edited": false, "score": 0, "creation_date": 1460914740, "post_id": 36593087, "comment_id": 60949626, "body": "@BenjaminGruenbaum that&#39;s exactly what I want. I&#39;ve had lots productive talks with spion in the past, I hope he can help with this one too :) I have been asked to do this by other developers, and I came to a point when I&#39;m not sure myself if this is possible. Some TS generics guru suggest it is, but I&#39;m yet to see it work..."}, {"owner": {"reputation": 18865, "user_id": 1990451, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/kffVz.jpg?s=128&g=1", "display_name": "smnbbrv", "link": "https://stackoverflow.com/users/1990451/smnbbrv"}, "edited": false, "score": 0, "creation_date": 1460918590, "post_id": 36593087, "comment_id": 60951075, "body": "as I understand you ain&#39;t gonna use the standard Promise, are you? Why can&#39;t you then just extend a Promise with the Bluebird&#39;s signature?"}, {"owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "reply_to_user": {"reputation": 18865, "user_id": 1990451, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/kffVz.jpg?s=128&g=1", "display_name": "smnbbrv", "link": "https://stackoverflow.com/users/1990451/smnbbrv"}, "edited": false, "score": 0, "creation_date": 1460918912, "post_id": 36593087, "comment_id": 60951217, "body": "@smnbbrv I don&#39;t need to extend <code>Promise</code> with one specific promise library, I need generic custom promise support, that&#39;s the problem. As stated at the very top, it is for an ambient module that represents a library which supports any custom promise library."}, {"owner": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "edited": false, "score": 0, "creation_date": 1460923405, "post_id": 36593087, "comment_id": 60952920, "body": "I&#39;m not sure I understand completely. Generic type parameter <code>P</code> is supposed to be a Promise itself, or act as the <i>type parameter</i> of a Promise?"}, {"owner": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "edited": false, "score": 0, "creation_date": 1460923585, "post_id": 36593087, "comment_id": 60952992, "body": "It looks like you want higher-kinded generics, which typescript does not support."}, {"owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "reply_to_user": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "edited": false, "score": 0, "creation_date": 1460923751, "post_id": 36593087, "comment_id": 60953045, "body": "@JohnWhite <code>P</code> is the custom promise that we are trying to use, something that implements the basic <code>Promise</code> protocol, plus a lot more."}, {"owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "reply_to_user": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "edited": false, "score": 0, "creation_date": 1460923894, "post_id": 36593087, "comment_id": 60953090, "body": "@Lee My reads of all the information around similar problems point out at a possibility that a certain combination of extensible generics with concatenated types (T1&amp;T2) could produce the desired result. I just haven&#39;t been able to put it all together. Who knows, you may be right, and it&#39;s simply impossible, but I&#39;d like a conclusive verdict on this."}, {"owner": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "edited": false, "score": 0, "creation_date": 1460961666, "post_id": 36593087, "comment_id": 60962754, "body": "The interface name <code>Test</code> doesn&#39;t tell much. So if I get it right, you are deliberately looking for a signature that accepts a <i>generic type</i> as the <i>generic type parameter</i>, aren&#39;t you? Because if so, it&#39;s not possible in TS AFAIK."}], "answers": [{"comments": [{"owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1460973464, "post_id": 36689437, "comment_id": 60969919, "body": "Going through that TypeScript feature progress, prospects to ever see it are rather dim."}, {"owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1460975803, "post_id": 36689437, "comment_id": 60971404, "body": "I&#39;ve been asked to implement this feature, but I failed time and again. Just hesitated to say NO, it&#39;s impossible, due to my lack of TypeScript knowledge. Now I feel confident to say that it is in fact impossible, and that the way I&#39;m doing it in my library is the only (though ugly) way to do it - manually patching with the custom promise: <a href=\"https://github.com/vitaly-t/pg-promise/blob/master/typescript/promise.ts\" rel=\"nofollow noreferrer\">github.com/vitaly-t/pg-promise/blob/master/typescript/&hellip;</a>. Thank you for the clarification!"}, {"owner": {"reputation": 1489, "user_id": 110271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d924ad2ac22af6216aadd2e9184616de?s=128&d=identicon&r=PG", "display_name": "Gorgi Kosev", "link": "https://stackoverflow.com/users/110271/gorgi-kosev"}, "reply_to_user": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1460983365, "post_id": 36689437, "comment_id": 60976780, "body": "I recommend commenting on the TypeScript issue and  adding your problem there. It will show the TS team that the features is useful and not just for FP style code..."}, {"owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1460984111, "post_id": 36689437, "comment_id": 60977387, "body": "I commented on that within the library: <a href=\"https://github.com/vitaly-t/pg-promise/blob/master/typescript/ext-promise.ts#L21\" rel=\"nofollow noreferrer\">github.com/vitaly-t/pg-promise/blob/master/typescript/&hellip;</a>, but do you mean on the TypeScript list of issues?"}, {"owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1481019510, "post_id": 36689437, "comment_id": 69194367, "body": "Would you, please, update your answer and add how it can be done with TypeScript 2.0 now that it is out? Cheers!"}, {"owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1481021209, "post_id": 36689437, "comment_id": 69195466, "body": "Never mind, please see an updated question: <a href=\"http://stackoverflow.com/questions/40993251/generic-promise-with-typescript-2-0\" title=\"generic promise with typescript 2 0\">stackoverflow.com/questions/40993251/&hellip;</a>"}, {"owner": {"reputation": 1489, "user_id": 110271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d924ad2ac22af6216aadd2e9184616de?s=128&d=identicon&r=PG", "display_name": "Gorgi Kosev", "link": "https://stackoverflow.com/users/110271/gorgi-kosev"}, "reply_to_user": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 1, "creation_date": 1481039433, "post_id": 36689437, "comment_id": 69207545, "body": "It can&#39;t be done with TypeScript 2.0 either. If you check the issue, you can see its still open."}, {"owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1481040014, "post_id": 36689437, "comment_id": 69207944, "body": "Bummer, I&#39;ll go break something.... 1 year of waiting for TypeScript 2.0, and all for naught."}, {"owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1498866712, "post_id": 36689437, "comment_id": 76692953, "body": "With the release of TypeScript 2.4, and this new feature: <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#return-types-as-inference-targets\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/wiki/&hellip;</a>, do you think it may now be finally possible? And if so, then please update your answer, it would be very valuable! Thank you!"}, {"owner": {"reputation": 1489, "user_id": 110271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d924ad2ac22af6216aadd2e9184616de?s=128&d=identicon&r=PG", "display_name": "Gorgi Kosev", "link": "https://stackoverflow.com/users/110271/gorgi-kosev"}, "reply_to_user": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 1, "creation_date": 1499500824, "post_id": 36689437, "comment_id": 76942666, "body": "The higher-kinded generics issue is still open, so I don&#39;t believe it is."}], "tags": [], "owner": {"reputation": 1489, "user_id": 110271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d924ad2ac22af6216aadd2e9184616de?s=128&d=identicon&r=PG", "display_name": "Gorgi Kosev", "link": "https://stackoverflow.com/users/110271/gorgi-kosev"}, "is_accepted": true, "score": 5, "last_activity_date": 1460972916, "last_edit_date": 1460972916, "creation_date": 1460969698, "answer_id": 36689437, "question_id": 36593087, "link": "https://stackoverflow.com/questions/36593087/using-a-custom-promise-as-a-generic-type/36689437#36689437", "title": "Using a custom promise as a generic type", "body": "<p>This requires higher kinded types to land in TypeScript. The issue that tracks them is here:</p>\n\n<p><a href=\"https://github.com/Microsoft/TypeScript/issues/1213\" rel=\"nofollow\">https://github.com/Microsoft/TypeScript/issues/1213</a></p>\n\n<p>As of April 2016, its not yet possible.</p>\n\n<p>You can approximate some of it with product types, but it needs a modification of the <code>PromiseLike</code> type and you will need to explicitly pass the type parameter around any time you use <code>then</code> within your library:</p>\n\n<pre><code>interface HKPromiseLike&lt;T&gt; {\n    then&lt;TResult, P&gt;(onfulfilled?: (value: T) =&gt; TResult | PromiseLike&lt;TResult&gt;, onrejected?: (reason: any) =&gt; TResult | PromiseLike&lt;TResult&gt;): P &amp; HKPromiseLike&lt;TResult&gt;;\n    then&lt;TResult, P&gt;(onfulfilled?: (value: T) =&gt; TResult | PromiseLike&lt;TResult&gt;, onrejected?: (reason: any) =&gt; void): P &amp; HKPromiseLike&lt;TResult&gt;;\n}\n\nclass Wrapper&lt;T, P&gt; {\n    constructor(public p:P &amp; HKPromiseLike&lt;T&gt;) {}\n\n    map&lt;U&gt;(f:(t:T) =&gt; U) {\n        var res = this.p.then&lt;U, P&gt;(f)\n        var w = new Wrapper(res);\n        return w\n    }\n}\n</code></pre>\n\n<p>To specialize this wrapper, you must use class/extends.</p>\n\n<pre><code>class Specialized&lt;T&gt; extends Wrapper&lt;T, SomePromise&lt;T&gt;&gt; { }\n</code></pre>\n"}], "owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1455, "favorite_count": 2, "accepted_answer_id": 36689437, "answer_count": 1, "score": 9, "last_activity_date": 1460972916, "creation_date": 1460537162, "last_edit_date": 1460922641, "question_id": 36593087, "link": "https://stackoverflow.com/questions/36593087/using-a-custom-promise-as-a-generic-type", "title": "Using a custom promise as a generic type", "body": "<p>I have an ambient TypeScript module represent a library that supports any Promises/A+ library:</p>\n\n<pre><code>interface Test {\n  funcName():Promise&lt;string&gt;;\n}\n</code></pre>\n\n<p>So I need to adjust it in such a way as to make the protocol of any promise library accessible on declarative level:</p>\n\n<pre><code>interface Test&lt;P&gt; {\n  funcName():P&lt;string&gt;;\n}\n</code></pre>\n\n<p>But the TypeScript immediately complains: <code>Type 'P' is not generic</code>, before I even use it.</p>\n\n<p>Note that I cannot include a custom promise library into the same file as <code>Test</code>, because I have to pass it in from another module.</p>\n\n<p>And if I change the code to this:</p>\n\n<pre><code>interface AnyPromise&lt;T, P extends Promise&lt;T&gt;&gt; {\n}\n\ninterface Test&lt;P&gt; {\n    funcName():AnyPromise&lt;string, P&lt;string&gt;&gt;;\n}\n</code></pre>\n\n<p>It also complains <code>error TS2315: Type 'P' is not generic.</code> within this part: <code>P&lt;string&gt;</code>.</p>\n\n<p>In the end I need to be able to do something like this:</p>\n\n<pre><code>import * as promise from 'bluebird'; // from Bluebird ambient declarations \nimport {Test} from 'test';\n\nvar Test&lt;promise&gt; t; // plus initialize it;\n\nt.funcName().finally(())=&gt;{\n}); // NOTE: 'finally' is to be visible from Bluebird (doesn't exist in ES6 Promise)\n</code></pre>\n\n<p>To clarify again, I use Bluebird just as an example, as I need a solution to support any promise library, not one specific.</p>\n"}, {"tags": ["javascript", "node.js", "typescript"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1460560685, "post_id": 36592157, "comment_id": 60802584, "body": "You can, but you shouldn&#39;t."}, {"owner": {"reputation": 1024, "user_id": 231248, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/814de06703247a61bfdd1b3c322f97ec?s=128&d=identicon&r=PG", "display_name": "Schodemeiss", "link": "https://stackoverflow.com/users/231248/schodemeiss"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1460641736, "post_id": 36592157, "comment_id": 60846210, "body": "@Bergi - Can you explain why please?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1460643952, "post_id": 36592157, "comment_id": 60848117, "body": "It&#39;s potentially confusing. It will work, as it ultimately compiles to the same, but you should aim at consistency and use only one style per project (or at least, per file)."}], "answers": [{"comments": [{"owner": {"reputation": 1024, "user_id": 231248, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/814de06703247a61bfdd1b3c322f97ec?s=128&d=identicon&r=PG", "display_name": "Schodemeiss", "link": "https://stackoverflow.com/users/231248/schodemeiss"}, "edited": false, "score": 0, "creation_date": 1460548074, "post_id": 36592936, "comment_id": 60791477, "body": "Can I use import foo = require(&#39;foo&#39;); if foo is a TypeScript file (foo.ts) with a &quot;export default class Foo&quot; in it?"}, {"owner": {"reputation": 8159, "user_id": 1916362, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/fu3Fi.jpg?s=128&g=1", "display_name": "James Monger", "link": "https://stackoverflow.com/users/1916362/james-monger"}, "reply_to_user": {"reputation": 1024, "user_id": 231248, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/814de06703247a61bfdd1b3c322f97ec?s=128&d=identicon&r=PG", "display_name": "Schodemeiss", "link": "https://stackoverflow.com/users/231248/schodemeiss"}, "edited": false, "score": 1, "creation_date": 1460551521, "post_id": 36592936, "comment_id": 60794486, "body": "No I don&#39;t think you can in that case."}, {"owner": {"reputation": 1024, "user_id": 231248, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/814de06703247a61bfdd1b3c322f97ec?s=128&d=identicon&r=PG", "display_name": "Schodemeiss", "link": "https://stackoverflow.com/users/231248/schodemeiss"}, "edited": false, "score": 0, "creation_date": 1460557642, "post_id": 36592936, "comment_id": 60799889, "body": "How would I include that module inside another file if I can&#39;t use import foo = require(&#39;foo&#39;); Whats the correct syntax?"}, {"owner": {"reputation": 8159, "user_id": 1916362, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/fu3Fi.jpg?s=128&g=1", "display_name": "James Monger", "link": "https://stackoverflow.com/users/1916362/james-monger"}, "reply_to_user": {"reputation": 1024, "user_id": 231248, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/814de06703247a61bfdd1b3c322f97ec?s=128&d=identicon&r=PG", "display_name": "Schodemeiss", "link": "https://stackoverflow.com/users/231248/schodemeiss"}, "edited": false, "score": 1, "creation_date": 1460558913, "post_id": 36592936, "comment_id": 60801040, "body": "You can <code>require</code> it with <code>const foo = require(&#39;foo&#39;);</code> (or other declaration)"}], "tags": [], "owner": {"reputation": 8159, "user_id": 1916362, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/fu3Fi.jpg?s=128&g=1", "display_name": "James Monger", "link": "https://stackoverflow.com/users/1916362/james-monger"}, "is_accepted": true, "score": 4, "last_activity_date": 1460536737, "creation_date": 1460536737, "answer_id": 36592936, "question_id": 36592157, "link": "https://stackoverflow.com/questions/36592157/typescript-can-i-mix-using-import-from-and-require/36592936#36592936", "title": "TypeScript: Can I mix using &quot;import * from&quot; and &quot;require(*)&quot;", "body": "<p>Yes, this is acceptable in TypeScript.</p>\n\n<p>When using the <code>import foo = require('foo');</code>, you must have a module <code>'foo'</code> declared with <code>declare module 'foo'</code>, typically in a <code>.d.ts</code> file.</p>\n\n<p>This is typically covered in <code>node.d.ts</code>.</p>\n"}], "owner": {"reputation": 1024, "user_id": 231248, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/814de06703247a61bfdd1b3c322f97ec?s=128&d=identicon&r=PG", "display_name": "Schodemeiss", "link": "https://stackoverflow.com/users/231248/schodemeiss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4463, "favorite_count": 1, "accepted_answer_id": 36592936, "answer_count": 1, "score": 6, "last_activity_date": 1460557872, "creation_date": 1460534493, "last_edit_date": 1460557872, "question_id": 36592157, "link": "https://stackoverflow.com/questions/36592157/typescript-can-i-mix-using-import-from-and-require", "title": "TypeScript: Can I mix using &quot;import * from&quot; and &quot;require(*)&quot;", "body": "<p>Is it ok in TypeScript to mix these too 'include' types?   </p>\n\n<pre><code>import { SomeType, someFunc } from \"./MyThings\";\n</code></pre>\n\n<p>And:</p>\n\n<pre><code>import events = require('events');\n</code></pre>\n\n<p>The first would be a TypeScript module with an export or two... and the second is just a node module called events (I guess this could be anything pulled in from NPM too).</p>\n\n<p>Am I ok to mix these two conventions in a single TypeScript file?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1460533727, "post_id": 36591779, "comment_id": 60781084, "body": "Damn, and I thought that I had enough coffee this morning. I should have thought about it myself. Thank you for your answer!"}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 2, "last_activity_date": 1460533488, "creation_date": 1460533488, "answer_id": 36591779, "question_id": 36591652, "link": "https://stackoverflow.com/questions/36591652/value-or-function-that-returns-value-as-parameter-type/36591779#36591779", "title": "Value or Function that returns Value as parameter type", "body": "<p>You just need to add some parentheses:</p>\n\n<pre><code>class X {\n    funcName(value: (Array&lt;number&gt;) | (() =&gt; Array&lt;number&gt;)) {\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 36591779, "answer_count": 1, "score": 1, "last_activity_date": 1460533488, "creation_date": 1460533126, "question_id": 36591652, "link": "https://stackoverflow.com/questions/36591652/value-or-function-that-returns-value-as-parameter-type", "title": "Value or Function that returns Value as parameter type", "body": "<p>What is the correct syntax for defining a function parameter type as this:</p>\n\n<ul>\n<li><code>Date</code> or a function that returns one;</li>\n<li><code>Array</code> or a function that returns one.</li>\n</ul>\n\n<p>I thought I could just write directly:</p>\n\n<ul>\n<li><code>funcName(value:Date|()=&gt;Date)</code></li>\n<li><code>funcName(value:Array&lt;number&gt;|()=&gt;Array&lt;number&gt;)</code></li>\n</ul>\n\n<p>But turns out, such syntax isn't recognized.</p>\n\n<p>How should it be then?</p>\n"}, {"tags": ["typescript", "angular", "keycloak"], "comments": [{"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "edited": false, "score": 2, "creation_date": 1460535434, "post_id": 36591073, "comment_id": 60782164, "body": "Have you added <code>keycloak.js</code> to your <code>index.html</code> ?"}, {"owner": {"reputation": 1, "user_id": 6197170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/818bcd5649c1aa43555b4b270de377b4?s=128&d=identicon&r=PG", "display_name": "Thimo", "link": "https://stackoverflow.com/users/6197170/thimo"}, "reply_to_user": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "edited": false, "score": 0, "creation_date": 1460539925, "post_id": 36591073, "comment_id": 60785344, "body": "Yes, I have added keycloak.js"}, {"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "edited": false, "score": 0, "creation_date": 1460540404, "post_id": 36591073, "comment_id": 60785753, "body": "Without anymore code it is hard to determine. Perhaps provide a fiddle?"}, {"owner": {"reputation": 15500, "user_id": 3125880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3e27beedab625639f716f543323d926?s=128&d=identicon&r=PG&f=1", "display_name": "Abdulrahman Alsoghayer", "link": "https://stackoverflow.com/users/3125880/abdulrahman-alsoghayer"}, "edited": false, "score": 0, "creation_date": 1460544026, "post_id": 36591073, "comment_id": 60788537, "body": "add <code>&lt;script src=&quot;https:&#47;&#47;rawgit.com&#47;keycloak&#47;keycloak-js-bower&#47;master&#47;di&zwnj;&#8203;st&#47;keycloak.min.js&quot; &gt;&lt;&#47;script&gt;</code>  taken from <a href=\"https://github.com/keycloak/keycloak-js-bower/blob/master/dist/keycloak.min.js\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 1, "user_id": 6197170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/818bcd5649c1aa43555b4b270de377b4?s=128&d=identicon&r=PG", "display_name": "Thimo", "link": "https://stackoverflow.com/users/6197170/thimo"}, "reply_to_user": {"reputation": 15500, "user_id": 3125880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3e27beedab625639f716f543323d926?s=128&d=identicon&r=PG&f=1", "display_name": "Abdulrahman Alsoghayer", "link": "https://stackoverflow.com/users/3125880/abdulrahman-alsoghayer"}, "edited": false, "score": 0, "creation_date": 1460544561, "post_id": 36591073, "comment_id": 60788881, "body": "that worked for me. Thx @Abdulrahman"}], "answers": [{"tags": [], "owner": {"reputation": 4056, "user_id": 2791574, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/utfmN.jpg?s=128&g=1", "display_name": "hakamairi", "link": "https://stackoverflow.com/users/2791574/hakamairi"}, "is_accepted": false, "score": 0, "last_activity_date": 1484227268, "creation_date": 1484227268, "answer_id": 41614308, "question_id": 36591073, "link": "https://stackoverflow.com/questions/36591073/keycloak-is-not-defined-in-angularjs-2-example/41614308#41614308", "title": "Keycloak is not defined in angularjs 2 Example", "body": "<p>If you haven't figured this one yet you can either modify the index.html to point to your keycloak js adapter nodejs installation.\nInstall</p>\n\n<pre><code>npm install keycloak-js-adapter \n</code></pre>\n\n<p>And then in Index.html</p>\n\n<pre><code>&lt;script src=\"node_modules/keycloak-js/dist/keycloak.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Or it would be better to reference it directly from your keycloak installation. For latest 2.5.0.Final that's</p>\n\n<pre><code>&lt;script src=\"KEYCLOAK_BASE_URL/auth/js/keycloak.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Of course the KEYCLOAK_BASE_URL is for example <a href=\"http://localhost:4400\" rel=\"nofollow noreferrer\">http://localhost:4400</a> or your domain name for keycloak.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8464149, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wp70_-wOAt4/AAAAAAAAAAI/AAAAAAAAAYU/tMR7MLwykIY/photo.jpg?sz=128", "display_name": "Hugo Zumaeta Rodr&#237;guez", "link": "https://stackoverflow.com/users/8464149/hugo-zumaeta-rodr%c3%adguez"}, "is_accepted": false, "score": 0, "last_activity_date": 1590739379, "last_edit_date": 1590739379, "creation_date": 1590704743, "answer_id": 62075550, "question_id": 36591073, "link": "https://stackoverflow.com/questions/36591073/keycloak-is-not-defined-in-angularjs-2-example/62075550#62075550", "title": "Keycloak is not defined in angularjs 2 Example", "body": "<p>try to include this in the \"<code>scripts</code>\" section like below:</p>\n\n<pre><code>\"scripts\": [\"../node_modules/keycloak-js/dist/keycloak.js\"]\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6197170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/818bcd5649c1aa43555b4b270de377b4?s=128&d=identicon&r=PG", "display_name": "Thimo", "link": "https://stackoverflow.com/users/6197170/thimo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4411, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1590739379, "creation_date": 1460531488, "last_edit_date": 1460540416, "question_id": 36591073, "link": "https://stackoverflow.com/questions/36591073/keycloak-is-not-defined-in-angularjs-2-example", "title": "Keycloak is not defined in angularjs 2 Example", "body": "<p>I'm trying to implement keycloak into an angularjs 2 app (typescript).\nI used the code from this <a href=\"https://github.com/keycloak/keycloak/tree/master/examples/demo-template/angular2-product-app\" rel=\"nofollow\">example</a>, but when I start the app I get:</p>\n\n<pre><code>Error: ReferenceError: Keycloak is not defined(\u2026)\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["maven", "typescript", "npm", "angular", "war"], "comments": [{"owner": {"reputation": 10311, "user_id": 447426, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/74c82f407852060ed709046dcd70a0e2?s=128&d=identicon&r=PG", "display_name": "dermoritz", "link": "https://stackoverflow.com/users/447426/dermoritz"}, "reply_to_user": {"reputation": 3844, "user_id": 1346996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14f3eea4163ec574bad1bd83c17267b2?s=128&d=identicon&r=PG", "display_name": "aribeiro", "link": "https://stackoverflow.com/users/1346996/aribeiro"}, "edited": false, "score": 0, "creation_date": 1460558144, "post_id": 36590900, "comment_id": 60800327, "body": "thanks for advice, this is what i tried in mean time. but i am not sure how to configuring war packaging this way. but i think this advice is worth an &quot;answer&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 10311, "user_id": 447426, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/74c82f407852060ed709046dcd70a0e2?s=128&d=identicon&r=PG", "display_name": "dermoritz", "link": "https://stackoverflow.com/users/447426/dermoritz"}, "edited": false, "score": 0, "creation_date": 1460699492, "post_id": 36617299, "comment_id": 60872854, "body": "thanks, for this detailed guide. its more than a starting point ;-)"}, {"owner": {"reputation": 10311, "user_id": 447426, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/74c82f407852060ed709046dcd70a0e2?s=128&d=identicon&r=PG", "display_name": "dermoritz", "link": "https://stackoverflow.com/users/447426/dermoritz"}, "edited": false, "score": 0, "creation_date": 1461078798, "post_id": 36617299, "comment_id": 61029529, "body": "i have one additional question: in my case i use different &quot;scripts&quot; and i am not sure how to set &quot;src/main/webapp/&quot; as root for all of them on the other hand and how to run all those scripts and let them now about &quot;src/main/webapp/&quot; and &quot;/target&quot;. eg.&quot;&quot;start&quot;: &quot;tsc &amp;&amp; concurrently \\&quot;npm run tsc:w\\&quot; \\&quot;npm run lite\\&quot; &quot;&quot;. how to run this and let it use /src/main/webapp ? (all my target are from angular2 tutorial)"}, {"owner": {"reputation": 3844, "user_id": 1346996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14f3eea4163ec574bad1bd83c17267b2?s=128&d=identicon&r=PG", "display_name": "aribeiro", "link": "https://stackoverflow.com/users/1346996/aribeiro"}, "reply_to_user": {"reputation": 10311, "user_id": 447426, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/74c82f407852060ed709046dcd70a0e2?s=128&d=identicon&r=PG", "display_name": "dermoritz", "link": "https://stackoverflow.com/users/447426/dermoritz"}, "edited": false, "score": 1, "creation_date": 1461137056, "post_id": 36617299, "comment_id": 61055808, "body": "Well, I&#39;m not familiar with Angular2... yet! :) Nevertheless, I believe that you have a <i>root</i> script. On that <i>root</i> script, you should call your other scripts taking into account their path on <i>src/main/webapp</i>, like <b>src/main/webapp/scritps/script1</b> for instance. Regarding the <i>target</i> folder, basically only Maven should be aware of that folder. Therefore, the building order of your app should be: 1. Run scripts; 2. Build app.; 3. Package app. This way, your app doesn&#39;t need to be aware of the <i>target</i> folder. Don&#39;t know if I&#39;ve answer your doubts..."}, {"owner": {"reputation": 10311, "user_id": 447426, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/74c82f407852060ed709046dcd70a0e2?s=128&d=identicon&r=PG", "display_name": "dermoritz", "link": "https://stackoverflow.com/users/447426/dermoritz"}, "edited": false, "score": 0, "creation_date": 1461141417, "post_id": 36617299, "comment_id": 61058763, "body": "thanks but in my index.html are references to js-dependencies like node-modules/.... By using the frontent plugin this should change to .../target/node-modules/.. . But &quot;target is not deployed&quot; and i don&#39;t want to deploy hole &quot;node-modules&quot;. On the other hand &quot;lite-server&quot; deploys something that is working but i am not sure how to package a correct war."}, {"owner": {"reputation": 3844, "user_id": 1346996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14f3eea4163ec574bad1bd83c17267b2?s=128&d=identicon&r=PG", "display_name": "aribeiro", "link": "https://stackoverflow.com/users/1346996/aribeiro"}, "reply_to_user": {"reputation": 10311, "user_id": 447426, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/74c82f407852060ed709046dcd70a0e2?s=128&d=identicon&r=PG", "display_name": "dermoritz", "link": "https://stackoverflow.com/users/447426/dermoritz"}, "edited": false, "score": 1, "creation_date": 1461236866, "post_id": 36617299, "comment_id": 61113027, "body": "What you could do is copy the node_modules, with only the dependencies you need, during the WAR packaging phase. Something like this: <code>&lt;configuration&gt;&lt;webResources&gt;&lt;webResource&gt;&lt;directory&gt;node_mo&zwnj;&#8203;dules&lt;&#47;directory&gt;&lt;ta&zwnj;&#8203;rgetPath&gt;node_module&zwnj;&#8203;s&lt;&#47;targetPath&gt;&lt;inclu&zwnj;&#8203;des&gt;&lt;include&gt;dep1&#47;*&lt;&zwnj;&#8203;&#47;include&gt;&lt;include&gt;de&zwnj;&#8203;p2&#47;*&lt;&#47;include&gt;&lt;&#47;incl&zwnj;&#8203;udes&gt;&lt;&#47;webResource&gt;&lt;&zwnj;&#8203;&#47;configuration&gt;</code>. Then, you just need to modify the elements that use those node_modules&#39; dependencies in order to access them in the right way."}], "tags": [], "owner": {"reputation": 3844, "user_id": 1346996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14f3eea4163ec574bad1bd83c17267b2?s=128&d=identicon&r=PG", "display_name": "aribeiro", "link": "https://stackoverflow.com/users/1346996/aribeiro"}, "is_accepted": true, "score": 8, "last_activity_date": 1460621680, "creation_date": 1460621680, "answer_id": 36617299, "question_id": 36590900, "link": "https://stackoverflow.com/questions/36590900/how-to-configure-npm-to-use-maven-folder-structure-and-war-deployment/36617299#36617299", "title": "How to configure npm to use maven folder structure and war deployment", "body": "<p>In order to integrate NPM with Maven, you could make use of <a href=\"https://github.com/eirslett/frontend-maven-plugin\" rel=\"noreferrer\">frontend-maven-plugin</a> which I think will be a great tool for your <em>compiling steps</em>.</p>\n\n<p>So, in order to configure everything together this how your <em>pom.xml</em> should look like:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" \n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 \n                             http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;group.id&lt;/groupId&gt;\n    &lt;artifactId&gt;artifact-id&lt;/artifactId&gt;\n    &lt;version&gt;2.0.14-SNAPSHOT&lt;/version&gt;\n\n    &lt;name&gt;Artifact Name&lt;/name&gt;\n\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;!-- Plug-in definition --&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;!-- frontend-maven plug-in --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n                &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.29&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;nodeVersion&gt;v5.10.1&lt;/nodeVersion&gt;\n                    &lt;npmVersion&gt;3.8.6&lt;/npmVersion&gt;\n                    &lt;installDirectory&gt;target&lt;/installDirectory&gt;\n                    &lt;workingDirectory&gt;${basedir}&lt;/workingDirectory&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;!-- install node &amp; npm --&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;install node and npm&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n\n                    &lt;!--npm install --&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;npm install&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;install&lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n\n                    &lt;!-- npm run build --&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;npm run build&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;run build&lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- Maven WAR plug-in --&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;webXml&gt;src/main/webapp/WEB-INF/web.xml&lt;/webXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>As you can see, first we define the usage of <em>frontend-maven-plugin</em>:</p>\n\n<ul>\n<li>we use the most recent <a href=\"https://nodejs.org/en/\" rel=\"noreferrer\">stable NodeJS</a> version: v5.10.1;</li>\n<li>the most recent version of <a href=\"https://www.npmjs.com/package/npm\" rel=\"noreferrer\">NPM</a>: 3.8.6;</li>\n<li>since the plugin downloads and installs NodeJS and NPM, one needs to declare the installation directory (<strong>installDirectory</strong>). I've opted to store everything on Maven's <em>target</em> directory;</li>\n<li>then it's necessary to define one's working directory (<strong>workingDirectory</strong>), which basically is the directory where our <em>package.json</em> will be. In your case, it will be at the same level as your <em>pom.xml</em> file, so we use <em>${basedir}</em> for that;</li>\n<li><p>following, it will be necessary to define the executions: the first two I believe that are quite straightforward; the last one simply assumes that, inside your <em>package.json</em>, there's a <em>script</em> target named <strong>build</strong> which will, for example, call the <em>browserify</em> command in order to build a <em>bundle.js</em> file:</p>\n\n<pre><code>\"scripts\": {\n    \"build\": \"browserify src/main/webapp/app.js -o src/main/webapp/modules/bundle.js\"\n}\n</code></pre>\n\n<p>In your case, instead of the <em>app.js</em>, the <em>package.json</em> would interact with your typescript files.</p></li>\n</ul>\n\n<hr>\n\n<p>Finally, one has the definition of the <a href=\"https://maven.apache.org/plugins/maven-war-plugin/index.html\" rel=\"noreferrer\">Maven WAR plugin</a>. The only configuration made was the mention to the location where the <em>web.xml</em> is.</p>\n\n<p>Notice that, by definition, Maven will package everything that's inside <strong>src/main/webapp</strong> directory. So, if there are any files (or folders) that you'd like to exclude, you should make use of the configuration parameter <a href=\"https://maven.apache.org/plugins/maven-war-plugin/examples/including-excluding-files-from-war.html\" rel=\"noreferrer\">&lt;packagingExcludes></a>:</p>\n\n<pre><code>&lt;!-- Maven WAR plug-in --&gt;\n&lt;plugin&gt;\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;webXml&gt;src/main/webapp/WEB-INF/web.xml&lt;/webXml&gt;\n        &lt;packagingExcludes&gt;app/**&lt;/packagingExcludes&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>The configuration above would exclude the folder <em>app</em>.</p>\n\n<p>Again, this is a starting point. From here, you could play with Maven in order to custom build your application.</p>\n"}], "owner": {"reputation": 10311, "user_id": 447426, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/74c82f407852060ed709046dcd70a0e2?s=128&d=identicon&r=PG", "display_name": "dermoritz", "link": "https://stackoverflow.com/users/447426/dermoritz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7805, "favorite_count": 1, "accepted_answer_id": 36617299, "answer_count": 1, "score": 6, "last_activity_date": 1460621680, "creation_date": 1460530938, "question_id": 36590900, "link": "https://stackoverflow.com/questions/36590900/how-to-configure-npm-to-use-maven-folder-structure-and-war-deployment", "title": "How to configure npm to use maven folder structure and war deployment", "body": "<p>I began my first pure front end project. I want to deploy it the java/maven. So i set up a normal war project:</p>\n\n<pre><code>\u2502   package.json\n\u2502   pom.xml\n\u2502   tsconfig.json\n\u2502   typings.json\n\u2502\n\u2502\n\u251c\u2500\u2500\u2500src\n\u2502   \u2514\u2500\u2500\u2500main\n\u2502       \u251c\u2500\u2500\u2500resources\n\u2502       \u2514\u2500\u2500\u2500webapp\n\u2502           \u2502   index.html\n\u2502           \u2502\n\u2502           \u251c\u2500\u2500\u2500app\n\u2502           \u2502       app.component.ts\n\u2502           \u2502       main.ts\n\u2502           \u2502\n\u2502           \u251c\u2500\u2500\u2500css\n\u2502           \u2502       styles.css\n\u2502           \u2502\n\u2502           \u2514\u2500\u2500\u2500WEB-INF\n\u2502                   web.xml\n\u2502\n</code></pre>\n\n<p>My problem is how to set the path to index.html/the source relative to package. json? Since this is an angular/typescript project there is also some typescript specific stuff. but my hope is to set the \"source\" path once and for all in package json?!</p>\n\n<p>I am also not sure if i want to deploy the stuff in \"webapp\" directly since there are Compiling steps. So any advice how to structure a pur front end project for maven/war deployment are welcome.</p>\n"}, {"tags": ["javascript", "html", "typescript", "angular"], "answers": [{"tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 4, "last_activity_date": 1460529767, "creation_date": 1460529767, "answer_id": 36590528, "question_id": 36590292, "link": "https://stackoverflow.com/questions/36590292/cannot-focus-after-blur-from-another-element-in-angular2/36590528#36590528", "title": "Cannot `focus` after `blur` from another element in angular2", "body": "<p><a href=\"https://plnkr.co/edit/1k2avULTifrRccAp165F?p=preview\" rel=\"nofollow\"><strong>Plunker example</strong></a></p>\n\n<p>Listen to window click events and only hide the dropdown when the <code>event.target</code> is outside the wrapper:</p>\n\n<pre><code>@Component({\n  selector: 'my-app',\n  template: `\n      &lt;div #wrapper class=\"wrapper\"&gt;\n        &lt;input #input [(ngModel)]=\"searchText\" \n               tabindex=\"0\"\n               placeholder=\"name\" \n               (focus)=\"inputShow()\"\n               &gt; \n        &lt;div class=\"option-wrapper\" \n             [hidden]=\"isHideList()\" \n             tabindex=\"0\" \n             (focus)=\"inputShow()\" \n             &gt; \n          &lt;li class=\"options\" \n              *ngFor=\"#option of optionlist\"&gt;\n            &lt;div &gt;{{option['name']}}&lt;/div&gt;\n          &lt;/li&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    `\n})\nexport class App {\n    @ViewChild('wrapper') wrapper:ElementRef;\n    @ViewChild('input') input:ElementRef;\n\n\n    @HostListener('window:click', ['$event'])\n    clickHandler(event) {\n\n      var parent = event.target;\n      while(parent != this.wrapper.nativeElement &amp;&amp; parent != document) {\n        parent = parent.parentNode;\n      }\n      if(parent == document) {\n        this.inputHide();\n      }\n    }\n\n    optionlist = [{'name': '1'}, {'name': '2'}]\n\n    inputShow() {\n      this.inputFocus = true;\n    }\n    inputHide(){\n      this.inputFocus= false;\n    }\n\n    isHideList() {\n        return !this.inputFocus;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2083, "user_id": 5628302, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/5f2485540a76d5f3ca57c2f238b5ac8f?s=128&d=identicon&r=PG&f=1", "display_name": "testing", "link": "https://stackoverflow.com/users/5628302/testing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1245, "favorite_count": 0, "accepted_answer_id": 36590528, "answer_count": 1, "score": 1, "last_activity_date": 1460529767, "creation_date": 1460528878, "last_edit_date": 1460528952, "question_id": 36590292, "link": "https://stackoverflow.com/questions/36590292/cannot-focus-after-blur-from-another-element-in-angular2", "title": "Cannot `focus` after `blur` from another element in angular2", "body": "<p>Consider the following <a href=\"https://plnkr.co/edit/drhfXAoI78mdeqlv3jYu?p=preview\" rel=\"nofollow\">plunker</a></p>\n\n<p>I have an input that will expand into dropdown when <code>(focus)</code> I want to have the following behavior</p>\n\n<ol>\n<li><strong>When input is focused, user click anywhere that is not \n       in the <code>dropdown</code> or <code>input</code> , <code>dropdown</code> should be contracted</strong></li>\n<li><strong>When input is focused, user click on the <code>dropdown</code>, <code>dropdown</code> should stay expanded</strong></li>\n</ol>\n\n<p>Right now when user click on the input and click on the dropdown, the dropdown is contracted.</p>\n\n<p>Here is my code for reference</p>\n\n<pre><code>@Component({\n  selector: 'my-app',\n  template: `\n      &lt;div class=\"wrapper\"&gt;\n        &lt;input [(ngModel)]=\"searchText\" \n               tabindex=\"0\"\n               placeholder=\"name\" \n               (focus)=\"inputShow()\"\n               (blur)=\"inputHide()\" \n               &gt;\n        &lt;div class=\"option-wrapper\" \n             [hidden]=\"isHideList()\" \n             tabindex=\"0\" \n             (focus)=\"inputShow()\" \n             (blur)=\"inputHide()\"&gt;\n          &lt;li class=\"options\" \n              *ngFor=\"#option of optionlist\"&gt;\n            &lt;div &gt;{{option['name']}}&lt;/div&gt;\n          &lt;/li&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    `\n})\nexport class App {\n\n    optionlist = [{'name': '1'}, {'name': '2'}]\n\n    inputShow() {\n      this.inputFocus = true;\n    }\n    inputHide(){\n      this.inputFocus= false;\n    }\n\n    isHideList() {\n        return !this.inputFocus;\n    }\n}\n</code></pre>\n\n<p>One way to get close to the expected behavior is to take away</p>\n\n<pre><code>(blur)=\"inputHide()\"\n</code></pre>\n\n<p>on <code>input</code> like <a href=\"https://plnkr.co/edit/wOzMrWT5zE0HoKCvY7sA?p=preview\" rel=\"nofollow\">this</a></p>\n\n<p>But now when I click on <code>input</code> and click anywhere besides <code>input</code> and <code>dropdown</code> the <code>dropdown</code> does not contract</p>\n\n<p>Only if I click on <code>input</code> then <code>dropdown</code> then anywhere else does the <code>dropdown</code> contract</p>\n\n<p>Can anyone give me some insight on this?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 235857, "user_id": 65387, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c0377fc1b08293d3362611978913a32b?s=128&d=identicon&r=PG", "display_name": "mpen", "link": "https://stackoverflow.com/users/65387/mpen"}, "edited": false, "score": 1, "creation_date": 1460529338, "post_id": 36590381, "comment_id": 60778482, "body": "Perfect, thank you! Didn&#39;t know what to search for. Will accept in ~5min"}, {"owner": {"reputation": 235857, "user_id": 65387, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c0377fc1b08293d3362611978913a32b?s=128&d=identicon&r=PG", "display_name": "mpen", "link": "https://stackoverflow.com/users/65387/mpen"}, "edited": false, "score": 0, "creation_date": 1460597877, "post_id": 36590381, "comment_id": 60821530, "body": "This still <a href=\"http://i.imgur.com/Sf3txDO.png\" rel=\"nofollow noreferrer\">errors in VSCode</a>. Is that a bug in VS Code or is there another way to say &quot;any property is OK&quot;?"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 235857, "user_id": 65387, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c0377fc1b08293d3362611978913a32b?s=128&d=identicon&r=PG", "display_name": "mpen", "link": "https://stackoverflow.com/users/65387/mpen"}, "edited": false, "score": 2, "creation_date": 1460603771, "post_id": 36590381, "comment_id": 60823172, "body": "You need to access it as a dictionary i.e. <code>creeps[&#39;key&#39;]</code> instead of <code>creeps.key</code>. If you know the key name then you should add it as a standard prop instead of using an index signagure"}, {"owner": {"reputation": 235857, "user_id": 65387, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c0377fc1b08293d3362611978913a32b?s=128&d=identicon&r=PG", "display_name": "mpen", "link": "https://stackoverflow.com/users/65387/mpen"}, "edited": false, "score": 2, "creation_date": 1460604685, "post_id": 36590381, "comment_id": 60823419, "body": "Aha! I didn&#39;t expect those behave differently. Thanks again :-)"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 25, "last_activity_date": 1460529206, "creation_date": 1460529206, "answer_id": 36590381, "question_id": 36590284, "link": "https://stackoverflow.com/questions/36590284/how-to-declare-a-typed-object-with-arbitrary-keys/36590381#36590381", "title": "How to declare a typed object with arbitrary keys?", "body": "<p>Use an <em>index signature</em>: </p>\n\n<pre><code>declare var Game: {\n    creeps: {[key:string]: Creep}\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 235857, "user_id": 65387, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c0377fc1b08293d3362611978913a32b?s=128&d=identicon&r=PG", "display_name": "mpen", "link": "https://stackoverflow.com/users/65387/mpen"}, "edited": false, "score": 0, "creation_date": 1607466425, "post_id": 65206867, "comment_id": 115280953, "body": "There&#39;s a new flag in TS 4.1 that will treat all index signatures as optional if you want to get a warning for that. <code>--noUncheckedIndexedAccess</code>"}], "tags": [], "owner": {"reputation": 702, "user_id": 3777314, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/600103728/picture?type=large", "display_name": "ocket8888", "link": "https://stackoverflow.com/users/3777314/ocket8888"}, "is_accepted": false, "score": 2, "last_activity_date": 1607554285, "last_edit_date": 1607554285, "creation_date": 1607461359, "answer_id": 65206867, "question_id": 36590284, "link": "https://stackoverflow.com/questions/36590284/how-to-declare-a-typed-object-with-arbitrary-keys/65206867#65206867", "title": "How to declare a typed object with arbitrary keys?", "body": "<p>basrat's answer still works fine but, in Typescript 2.1 or higher, there is a typing that looks more similar to what you originally thought might work:</p>\n<pre class=\"lang-js prettyprint-override\"><code>declare var Game: {\n    creeps: Record&lt;string, Creep&gt;\n};\n</code></pre>\n<p>There's no real difference, though I'd add that Typescript assumes that for any <code>K</code> value a <code>Record&lt;K, V&gt;</code> can produce a corresponding <code>V</code> value. For example:</p>\n<pre class=\"lang-js prettyprint-override\"><code>type Creep = {\n    id: number;\n}\n\nfunction printIt(c: Creep) {\n    console.log(c.id);\n}\n\nlet game: Record&lt;string, Creep&gt; = {&quot;test&quot;: {id: 0}};\nprintIt(thing[&quot;quest&quot;]);\n</code></pre>\n<p>will compile - even with <code>strictNullChecks</code> - although it will definitely result in a run-time error. So you need to check index access yourself, and/or use the <code>--noUncheckedIndexedAccess</code> flag as @mpen suggested.</p>\n"}], "owner": {"reputation": 235857, "user_id": 65387, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c0377fc1b08293d3362611978913a32b?s=128&d=identicon&r=PG", "display_name": "mpen", "link": "https://stackoverflow.com/users/65387/mpen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6551, "favorite_count": 0, "accepted_answer_id": 36590381, "answer_count": 2, "score": 16, "last_activity_date": 1607554285, "creation_date": 1460528854, "last_edit_date": 1460562346, "question_id": 36590284, "link": "https://stackoverflow.com/questions/36590284/how-to-declare-a-typed-object-with-arbitrary-keys", "title": "How to declare a typed object with arbitrary keys?", "body": "<p>In a <code>.d.ts</code> file, how do I define an object as having string keys and <code>T</code> values?</p>\n\n<p>e.g.</p>\n\n<pre><code>declare var Game: {\n    creeps: Object&lt;string, Creep&gt;; // not sure what syntax to use here\n};\n\ndeclare class Creep {\n   // definition...\n}\n</code></pre>\n\n<p><code>Game.creeps</code> is an <code>object</code>, but I don't know what properties/keys it will have (they're defined at run time -- I'm using it like a dictionary), however, I do know that all its values will be <code>Creep</code>s.</p>\n\n<p>My IDE says \"Object is not generic\" so I guess that syntax isn't quite right.</p>\n"}, {"tags": ["arrays", "multidimensional-array", "types", "typescript", "angular"], "comments": [{"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "edited": false, "score": 0, "creation_date": 1460520720, "post_id": 36588385, "comment_id": 60775012, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/30144580/typescript-multidimensional-array-initialization\">Typescript - multidimensional array initialization</a>"}, {"owner": {"reputation": 6810, "user_id": 5342949, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10206370752321994/picture?type=large", "display_name": "Han Che", "link": "https://stackoverflow.com/users/5342949/han-che"}, "reply_to_user": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "edited": false, "score": 1, "creation_date": 1460524342, "post_id": 36588385, "comment_id": 60776143, "body": "I&#39;ve seen that thread, which unfortunately does not explain the typing question"}, {"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "edited": false, "score": 0, "creation_date": 1460555551, "post_id": 36588385, "comment_id": 60798059, "body": "I believe it does\u2014<code>ThreadObj[][]</code>. If that&#39;s not what you mean then can you provide an example of <code>THREADLISTS</code> use? Maybe we&#39;re misunderstanding."}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 2, "last_activity_date": 1460521203, "creation_date": 1460521203, "answer_id": 36588512, "question_id": 36588385, "link": "https://stackoverflow.com/questions/36588385/typescript-multidimensional-array-with-different-types/36588512#36588512", "title": "typescript multidimensional array with different types", "body": "<p>Example : </p>\n\n<pre><code>type ThreadObj = {foo:string}\ntype ThreadList = ThreadObj[]; \ntype ThreadListList = ThreadList[];\n\nconst obj: ThreadObj = {\n    foo: '123'\n}\nconst singleDim: ThreadList = [\n    obj\n]\nconst multiDim: ThreadListList = [\n    singleDim,\n    singleDim\n]\n</code></pre>\n\n<h1>More</h1>\n\n<p>All in one step: </p>\n\n<pre><code>const allInOneStep: {foo:string}[][] = [\n    [\n        {\n            foo: 'hello'\n        },\n        {\n            foo: 'is it me'\n        }\n    ],\n    [ \n        {\n            foo: 'you are looking for'\n        }\n    ]\n]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 628, "user_id": 654141, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9bd9cd7019fdec1d488c6806dbef8da8?s=128&d=identicon&r=PG", "display_name": "ArcSine", "link": "https://stackoverflow.com/users/654141/arcsine"}, "is_accepted": false, "score": 2, "last_activity_date": 1460551696, "creation_date": 1460551696, "answer_id": 36598903, "question_id": 36588385, "link": "https://stackoverflow.com/questions/36588385/typescript-multidimensional-array-with-different-types/36598903#36598903", "title": "typescript multidimensional array with different types", "body": "<p>Wouldn't that just be:</p>\n\n<pre><code>let arr:ThreadObj[][] = []\n</code></pre>\n"}], "owner": {"reputation": 6810, "user_id": 5342949, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10206370752321994/picture?type=large", "display_name": "Han Che", "link": "https://stackoverflow.com/users/5342949/han-che"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8321, "favorite_count": 3, "answer_count": 2, "score": 1, "last_activity_date": 1460551696, "creation_date": 1460520410, "question_id": 36588385, "link": "https://stackoverflow.com/questions/36588385/typescript-multidimensional-array-with-different-types", "title": "typescript multidimensional array with different types", "body": "<p>I have an custom object declared (ThreadObj) and I want to create a THREADLISTS, holding multiple arrays of Threadlist. So</p>\n\n<pre><code>Threadlist:ThreadObj[]=[];\nTHREADLISTS:[ThreadObj[]][ThreadObj]=[][]; //how to type and init?\n</code></pre>\n\n<p>The first dim is of ThreadObj[] and the second is of ThreadObj.</p>\n\n<p>Cheers</p>\n"}, {"tags": ["node.js", "typescript", "microservices", "restify"], "answers": [{"comments": [{"owner": {"reputation": 2721, "user_id": 1710444, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/23fb7b17ea705c9454dfc41d75f578a4?s=128&d=identicon&r=PG", "display_name": "Catalyst", "link": "https://stackoverflow.com/users/1710444/catalyst"}, "edited": false, "score": 0, "creation_date": 1460511787, "post_id": 36587015, "comment_id": 60772760, "body": "so the <code>function(a,b,c, req) { ... } </code> method? I was hoping to avoid modifying all of the functions to pass it through, though it is survivable. It seems like a second-class-citizen solution since it doesn&#39;t enforce itself / is painful to keep up. the developer has to remember to build it in. modifying the log signatures to need the req doesn&#39;t even work since colleagues will likely choose to just not log rather than modify several function signatures to get access to req.  I appreciate the answer, I&#39;m just curious if there&#39;s a way to ease the pain of carrying that parameter everywhere."}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 2721, "user_id": 1710444, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/23fb7b17ea705c9454dfc41d75f578a4?s=128&d=identicon&r=PG", "display_name": "Catalyst", "link": "https://stackoverflow.com/users/1710444/catalyst"}, "edited": false, "score": 0, "creation_date": 1460512706, "post_id": 36587015, "comment_id": 60773044, "body": "Make it the first parameter. Or the second (if you have <code>err</code> as the first). That way the developers don&#39;t forget to add it."}, {"owner": {"reputation": 2721, "user_id": 1710444, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/23fb7b17ea705c9454dfc41d75f578a4?s=128&d=identicon&r=PG", "display_name": "Catalyst", "link": "https://stackoverflow.com/users/1710444/catalyst"}, "edited": false, "score": 0, "creation_date": 1460513923, "post_id": 36587015, "comment_id": 60773326, "body": "I&#39;m investigating passing it through the constructors for classes (instead of each function). We&#39;ve also been considering bringing in inversify for dependency management - so maybe some static routing methods can extract the context, and configure providers for downstream dependency injection. this could make it nearly transparent, although with Thrift and Queues we will have to use the additional property and the meta data property."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1460511355, "creation_date": 1460511355, "answer_id": 36587015, "question_id": 36586934, "link": "https://stackoverflow.com/questions/36586934/carrying-request-context-through-the-stack-and-across-thrift-service-boundaries/36587015#36587015", "title": "Carrying request context through the stack and across thrift service boundaries with Node.js", "body": "<blockquote>\n  <p>Is there a known practice for doing this with Node</p>\n</blockquote>\n\n<p>Within NodeJs you move <code>request</code> around whereever you need <em>request context stuff</em>. </p>\n\n<p>With every other system you need to carry the stuff around <em>in the request system format for that thing</em>. E.g. for Event store we store it in the event metadata.</p>\n\n<p>For thrift I recommend just adding it as a property in every query that is echoed back in every response. </p>\n"}], "owner": {"reputation": 2721, "user_id": 1710444, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/23fb7b17ea705c9454dfc41d75f578a4?s=128&d=identicon&r=PG", "display_name": "Catalyst", "link": "https://stackoverflow.com/users/1710444/catalyst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 481, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1460511355, "creation_date": 1460510795, "question_id": 36586934, "link": "https://stackoverflow.com/questions/36586934/carrying-request-context-through-the-stack-and-across-thrift-service-boundaries", "title": "Carrying request context through the stack and across thrift service boundaries with Node.js", "body": "<p>I'm trying to figure out an appropriate method to carry a request-id (x-request-id from a restify request header) through my stack; across thrift inter-service calls, and with rabbitmq queue messages. The goal is that anywhere, in any service, I can correlate an error or event back to an initiating http request. Is there a known practice for doing this with Node? I'd like to avoid passing a context around through virtually every function call.</p>\n\n<p>I've looked into the way New Relic handles instrumentation, and there's this blog: <a href=\"https://opbeat.com/blog/posts/how-we-instrument-nodejs/\" rel=\"nofollow\">https://opbeat.com/blog/posts/how-we-instrument-nodejs/</a>; but these types of instrumentation require hooking into tons of node core library calls, and don't really help with carrying the context across thrift calls.</p>\n\n<p>How can I take a restify header id such as \"x-request-id\" from a request, and have access to it deeper in my stack (even in async callbacks) without modifying every function to pass the values through? </p>\n\n<p>I'm also looking for a clean way to pass it through all thrift calls (getting it across service boundaries).</p>\n\n<p>This is with TypeScript and Node.js 5.x</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["typescript", "tsd"], "answers": [{"comments": [{"owner": {"reputation": 7340, "user_id": 1146785, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/l51PO.jpg?s=128&g=1", "display_name": "dcsan", "link": "https://stackoverflow.com/users/1146785/dcsan"}, "edited": false, "score": 0, "creation_date": 1466558466, "post_id": 36586485, "comment_id": 63362036, "body": "this is out of date now, the incantation has changed to <code>global</code>"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1460507697, "last_edit_date": 1495540403, "creation_date": 1460507697, "answer_id": 36586485, "question_id": 36586452, "link": "https://stackoverflow.com/questions/36586452/how-do-i-install-a-listed-typings/36586485#36586485", "title": "how do i install a listed typings?", "body": "<blockquote>\n  <p>but then i cant install that</p>\n</blockquote>\n\n<p>Type definitions in DefinitelyTyped are considered <code>ambient</code>. So you need to install with the ambient flag: </p>\n\n<pre><code>typings install --ambient handsontable\n</code></pre>\n\n<h1>More on ambient</h1>\n\n<p><a href=\"https://stackoverflow.com/questions/36397954/when-to-use-ambient-while-searching-for-a-type-definition/36414912#36414912\">When to use ambient while searching for a type definition?</a></p>\n"}, {"tags": [], "owner": {"reputation": 3570, "user_id": 2831925, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9895ee2af1860eb0103e1cac199061c0?s=128&d=identicon&r=PG&f=1", "display_name": "Ajay", "link": "https://stackoverflow.com/users/2831925/ajay"}, "is_accepted": false, "score": 0, "last_activity_date": 1460520597, "creation_date": 1460520597, "answer_id": 36588408, "question_id": 36586452, "link": "https://stackoverflow.com/questions/36586452/how-do-i-install-a-listed-typings/36588408#36588408", "title": "how do i install a listed typings?", "body": "<p>You can directly copy a typings file from <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped\" rel=\"nofollow\">Definitely Typed Typescript</a> and paste it in your project.</p>\n\n<p>You can also download the whole definitely typed github project from above link, copy and paste the required typings files according to your need.</p>\n\n<p>As @basarat told </p>\n\n<pre><code>typings install --ambient fileName \n</code></pre>\n\n<p>would be an another option to download typings file.</p>\n\n<p>For more info on typings file, like how to use them, what they contain look at <a href=\"http://definitelytyped.org/\" rel=\"nofollow\">Definitely Typed</a>.</p>\n\n<p>Regards</p>\n\n<p>Ajay</p>\n"}, {"tags": [], "owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "is_accepted": false, "score": 0, "last_activity_date": 1460526297, "creation_date": 1460526297, "answer_id": 36589575, "question_id": 36586452, "link": "https://stackoverflow.com/questions/36586452/how-do-i-install-a-listed-typings/36589575#36589575", "title": "how do i install a listed typings?", "body": "<p>The ERR message actually suggest what you should do (adding line breaks for SO):</p>\n\n<pre><code>$ typings install handsontable\ntypings ERR! message Unable to find \"handsontable\" for \"npm\" in the registry.\nDid you want to install ambient typings with the ambient flag?\nIf you can contribute these typings, please help us: https://github.com/typings/registry\n</code></pre>\n\n<p>To get the help message on typings, you should do</p>\n\n<pre><code>typings &lt;command&gt; -h\n</code></pre>\n\n<p>In this case</p>\n\n<pre><code>typings install -h\n\ntypings install (with no arguments, in package directory)\ntypings install [&lt;name&gt;=]&lt;location&gt;\n\n  &lt;name&gt;      Module name of the installed definition\n  &lt;location&gt;  The location to read from (described below)\n\nValid Locations:\n  [&lt;source&gt;!]&lt;pkg&gt;[@&lt;version&gt;][#&lt;tag&gt;]\n  file:&lt;path&gt;\n  github:&lt;org&gt;/&lt;repo&gt;[/&lt;path&gt;][#&lt;commitish&gt;]\n  bitbucket:&lt;org&gt;/&lt;repo&gt;[/&lt;path&gt;][#&lt;commitish&gt;]\n  npm:&lt;pkg&gt;[/&lt;path&gt;]\n  bower:&lt;pkg&gt;[/&lt;path&gt;]\n  http(s)://&lt;host&gt;/&lt;path&gt;\n\n  &lt;source&gt;    The registry mirror (E.g. \"npm\", \"bower\", \"env\", \"global\", \"dt\", ...)\n  &lt;path&gt;      Path to a `.d.ts` file or `typings.json`\n  &lt;host&gt;      A domain name (with optional port)\n  &lt;version&gt;   A semver range (E.g. \"&gt;=4.0\")\n  &lt;tag&gt;       The specific tag of a registry entry\n  &lt;commitish&gt; A git commit, tag or branch\n\nOptions:\n  [--save|-S]       Persist to \"dependencies\"\n  [--save-dev|-D]   Persist to \"devDependencies\"\n  [--save-peer|-P]  Persist to \"peerDependencies\"\n  [--ambient|-A]    Install and persist as an ambient definition\n    [-SA]           Persist to \"ambientDependencies\"\n    [-DA]           Persist to \"ambientDevDependencies\"\n  [--production]    Install only production dependencies (omits dev dependencies)\n\nAliases: i, in\n</code></pre>\n\n<blockquote>\n  <p>Is there some way to use a different \"source\" than npm?</p>\n</blockquote>\n\n<p>You can configure the <code>defaultSource</code> and <code>defaultAmbientSource</code> in <code>.typingsrc</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 7340, "user_id": 1146785, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/l51PO.jpg?s=128&g=1", "display_name": "dcsan", "link": "https://stackoverflow.com/users/1146785/dcsan"}, "edited": false, "score": 0, "creation_date": 1466520307, "post_id": 37846175, "comment_id": 63343929, "body": "whats the difference between en~node and dt~node - since dt is where the typing is listed as existing?"}], "tags": [], "owner": {"reputation": 1, "user_id": 5616936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e58ed15ecff82c28c83c043d8482dc27?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Ganesan", "link": "https://stackoverflow.com/users/5616936/michael-ganesan"}, "is_accepted": false, "score": 0, "last_activity_date": 1466026490, "creation_date": 1466026490, "answer_id": 37846175, "question_id": 36586452, "link": "https://stackoverflow.com/questions/36586452/how-do-i-install-a-listed-typings/37846175#37846175", "title": "how do i install a listed typings?", "body": "<p>try using the following command\nif there is a source for dt or env</p>\n\n<p>typings install --global en~node</p>\n"}, {"tags": [], "owner": {"reputation": 7340, "user_id": 1146785, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/l51PO.jpg?s=128&g=1", "display_name": "dcsan", "link": "https://stackoverflow.com/users/1146785/dcsan"}, "is_accepted": true, "score": 13, "last_activity_date": 1466372357, "creation_date": 1466372357, "answer_id": 37912109, "question_id": 36586452, "link": "https://stackoverflow.com/questions/36586452/how-do-i-install-a-listed-typings/37912109#37912109", "title": "how do i install a listed typings?", "body": "<p>I believe <code>global</code> has replaced <code>ambient</code> as a keyword, \nand <code>source~packagename</code> is the syntax, for example:</p>\n\n<pre><code>typings install dt~node --global\n</code></pre>\n\n<p>still unclear what the <code>env</code> or <code>dt</code> typings repo distinctions are. surely <code>dt</code> is the default place that is searched, so why is there a need to specify it?</p>\n"}], "owner": {"reputation": 7340, "user_id": 1146785, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/l51PO.jpg?s=128&g=1", "display_name": "dcsan", "link": "https://stackoverflow.com/users/1146785/dcsan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12755, "favorite_count": 1, "accepted_answer_id": 37912109, "answer_count": 5, "score": 7, "last_activity_date": 1474907009, "creation_date": 1460507480, "question_id": 36586452, "link": "https://stackoverflow.com/questions/36586452/how-do-i-install-a-listed-typings", "title": "how do i install a listed typings?", "body": "<p>I'm using a library with Typescript, and getting a compiler error.</p>\n\n<blockquote>\n  <p>public/components/chatlogs.ts(25,19): error TS2304: Cannot find name 'Handsontable'.</p>\n</blockquote>\n\n<p>it seems there is a typings for it:</p>\n\n<pre><code>$ typings search handsontable\nViewing 2 of 2\n\nNAME                SOURCE HOMEPAGE                  DESCRIPTION UPDATED                 \nhandsontable        dt     https://handsontable.com/             2016-04-12T15:30:16.000Z\njquery-handsontable dt     http://handsontable.com               2016-03-29T17:54:46.000Z\n</code></pre>\n\n<p>but then i cant install that?</p>\n\n<pre><code>$ typings install handsontable\ntypings ERR! message Unable to find \"handsontable\" for \"npm\" in the registry. Did you want to install ambient typings with the ambient flag? If you can contribute these typings, please help us: https://github.com/typings/registry\ntypings ERR! caused by https://api.typings.org/entries/npm/handsontable/versions/latest responded with 404, expected it to equal 200\n\ntypings ERR! cwd /Users/dc/dev/rikai/boteditor\ntypings ERR! system Darwin 15.3.0\ntypings ERR! command \"/usr/local/bin/iojs\" \"/usr/local/bin/typings\" \"install\" \"handsontable\"\ntypings ERR! node -v v5.1.1\ntypings ERR! typings -v 0.7.12\n\ntypings ERR! If you need help, you may report this error at:\ntypings ERR!   &lt;https://github.com/typings/typings/issues&gt;\n\u279c  boteditor git:(master) \u2717 \n</code></pre>\n\n<p>Is there some way to use a different \"source\" than npm?</p>\n\n<pre><code>typings help install\n\nUsage: typings &lt;command&gt;\n\nCommands:\n    bundle, i, in, info, init, install, la, list, ll, ls, open, r, remove, rm,\n    search, uninstall, view\n\ntypings &lt;command&gt; -h   Get help for &lt;command&gt;\ntypings &lt;command&gt; -V   Enable verbose logging\n\ntypings --version      Print the CLI version\n\ntypings@0.7.12 /usr/local/lib/node_modules/typings\n</code></pre>\n\n<p>How do I install a typings that is listed with a different homepage?</p>\n\n<p>Or maybe they exist for tsd but not typings?</p>\n"}, {"tags": ["jquery-ui", "typescript", "visual-studio-2015", "jquery-ui-autocomplete"], "answers": [{"comments": [{"owner": {"reputation": 738, "user_id": 1260628, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8f7488b893ccbc468a983b7cabfa519e?s=128&d=identicon&r=PG", "display_name": "d_mcg", "link": "https://stackoverflow.com/users/1260628/d-mcg"}, "edited": false, "score": 0, "creation_date": 1460520084, "post_id": 36586366, "comment_id": 60774857, "body": "Great, it worked - thanks for that! Can you please clarify the &quot;Better fix&quot;? Based on the Freshness article, I&#39;m guessing there would need to be some TypeScript type binding for autoComplete options to include <code>[x: string]: any</code> so that optional properties are allowed."}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 738, "user_id": 1260628, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8f7488b893ccbc468a983b7cabfa519e?s=128&d=identicon&r=PG", "display_name": "d_mcg", "link": "https://stackoverflow.com/users/1260628/d-mcg"}, "edited": false, "score": 0, "creation_date": 1460521357, "post_id": 36586366, "comment_id": 60775176, "body": "@d_mcg no. You need to add <code>focus:any</code> on the type that the <code>complete</code> method accepts"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 0, "last_activity_date": 1460506877, "creation_date": 1460506877, "answer_id": 36586366, "question_id": 36585920, "link": "https://stackoverflow.com/questions/36585920/typescript-error-with-jqueryui-autocomplete-in-vs2015/36586366#36586366", "title": "TypeScript error with jQueryUI AutoComplete in VS2015", "body": "<blockquote>\n  <p>This has worked in VS2013, so I'm not sure why VS2015 is having an issue</p>\n</blockquote>\n\n<p>This is because of a new feature of <code>freshness</code> in TypeScript : <a href=\"https://basarat.gitbooks.io/typescript/content/docs/types/freshness.html\" rel=\"nofollow\">https://basarat.gitbooks.io/typescript/content/docs/types/freshness.html</a></p>\n\n<h1>Quick Fix</h1>\n\n<p>Just move to a variable: </p>\n\n<pre><code>const config = {\n    source: (req, resp) =&gt; this.onAutoCompleteRequest(req, resp),\n    focus: (event, ui) =&gt; {\n        // Don't populate input field with selected value (pxid)\n        event.preventDefault();\n    },\n    minLength: 3,  // Don't call autocomplete until specified number of characters have been input\n    select: (e, ui) =&gt; this.onItemSelected(e, ui)\n\n};\n$(lookupElem).autocomplete(config);\n</code></pre>\n\n<h1>Better Fix</h1>\n\n<p>Send a PR to definitely typed \ud83c\udf39</p>\n"}], "owner": {"reputation": 738, "user_id": 1260628, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8f7488b893ccbc468a983b7cabfa519e?s=128&d=identicon&r=PG", "display_name": "d_mcg", "link": "https://stackoverflow.com/users/1260628/d-mcg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 589, "favorite_count": 0, "accepted_answer_id": 36586366, "answer_count": 1, "score": 0, "last_activity_date": 1460506877, "creation_date": 1460504014, "question_id": 36585920, "link": "https://stackoverflow.com/questions/36585920/typescript-error-with-jqueryui-autocomplete-in-vs2015", "title": "TypeScript error with jQueryUI AutoComplete in VS2015", "body": "<p>I am running Visual Studio 2015 Professional Update 2, and regularly getting a TypeScript error when building the solution for a client's system. The particular error is:</p>\n\n<pre><code>TS2345 Argument of type\n    '{\n        source: (req: any, resp: any) =&gt; void;\n        focus: (event: any, ui: any) =&gt; void;\n        minLength: number;\n        ...'\n    is not assignable to parameter of type 'AutocompleteOptions'.\n    Object literal may only specify known properties, and 'focus' does not exist\n    in type 'AutocompleteOptions'.\n</code></pre>\n\n<p>Having looked at the <a href=\"http://api.jqueryui.com/autocomplete/#event-focus\" rel=\"nofollow\">jQueryUI documentation for autocomplete</a>, this appears to be legitimate.</p>\n\n<p>The fragment of code causing this error (from within an <code>init()</code> function) is as follows:</p>\n\n<pre><code>$(lookupElem).autocomplete({\n    source: (req, resp) =&gt; this.onAutoCompleteRequest(req, resp),\n    focus: (event, ui) =&gt; {\n        // Don't populate input field with selected value (pxid)\n        event.preventDefault();\n    },\n    minLength: 3,  // Don't call autocomplete until specified number of characters have been input\n    select: (e, ui) =&gt; this.onItemSelected(e, ui)\n});\n</code></pre>\n\n<p>This has worked in VS2013, so I'm not sure why VS2015 is having an issue. This is causing the rest of the solution (e.g. Azure components, separate MVC website) to fail the build, plus it's deleting the existing <code>.js</code> and <code>.js.map</code> files from my source folder.</p>\n\n<p>How can I either:</p>\n\n<ul>\n<li>fix this; or</li>\n<li>suppress this error completely from Visual Studio?</li>\n</ul>\n\n<p>My version of the TypeScript tools is <strong>1.8.24.0</strong>, which appears to be up-to-date from within Tools => Extensions and Updates.</p>\n\n<p>Many thanks.</p>\n"}, {"tags": ["typescript", "angular", "typescript1.8"], "answers": [{"comments": [{"owner": {"reputation": 8816, "user_id": 3342253, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/bHXDR.jpg?s=128&g=1", "display_name": "Jan Nielsen", "link": "https://stackoverflow.com/users/3342253/jan-nielsen"}, "edited": false, "score": 0, "creation_date": 1460504671, "post_id": 36585966, "comment_id": 60770917, "body": "Thanks, @VinTem -- yes, I&#39;m aware of that; I should have been more clear. I use distinct <code>imports</code> for sorting, grouping, de-duplication workflows during refactoring so this form won&#39;t work in my use-case. I&#39;ll add a bit to my question."}, {"owner": {"reputation": 8816, "user_id": 3342253, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/bHXDR.jpg?s=128&g=1", "display_name": "Jan Nielsen", "link": "https://stackoverflow.com/users/3342253/jan-nielsen"}, "edited": false, "score": 0, "creation_date": 1460505088, "post_id": 36585966, "comment_id": 60771015, "body": "Consider separating the singleton module aspect into a separate answer, @VinTem."}], "tags": [], "owner": {"reputation": 5287, "user_id": 186836, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d7c19b05522666e2a10a903c3bee56ac?s=128&d=identicon&r=PG", "display_name": "thitemple", "link": "https://stackoverflow.com/users/186836/thitemple"}, "is_accepted": true, "score": 3, "last_activity_date": 1460506347, "last_edit_date": 1460506347, "creation_date": 1460504288, "answer_id": 36585966, "question_id": 36585777, "link": "https://stackoverflow.com/questions/36585777/multiple-typescript-import-statements-for-single-module/36585966#36585966", "title": "Multiple TypeScript `import` statements for single module", "body": "<p>If you prefer to have every object imported in a different line just for the sake of what you're viewing you can do this:</p>\n\n<pre><code>import {\n  Component, \n  Input, \n  enableProdMode\n} from 'angular2/core';\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>The difference in the generated code is that in the case of multiple imports for the same module will generate different variables. In your case, you might have a js compiled code like this (if you're compiling to commonjs):</p>\n\n<pre><code>var angular2_core_1 = require('angular2/core');\nvar angular2_core_2 = require('angular2/core');\nvar angular2_core_3 = require('angular2/core');\n</code></pre>\n\n<p>If you have only one import you will have only one variable.</p>\n\n<p>In any case, modules are singleton, so it does not matter that you importing the same module multiple times, there will always be only one instance of each module.</p>\n"}, {"tags": [], "owner": {"reputation": 12611, "user_id": 491265, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/AJGd6.jpg?s=128&g=1", "display_name": "kemsky", "link": "https://stackoverflow.com/users/491265/kemsky"}, "is_accepted": false, "score": 2, "last_activity_date": 1460505342, "last_edit_date": 1460505342, "creation_date": 1460504850, "answer_id": 36586054, "question_id": 36585777, "link": "https://stackoverflow.com/questions/36585777/multiple-typescript-import-statements-for-single-module/36586054#36586054", "title": "Multiple TypeScript `import` statements for single module", "body": "<p>TypeScript will generate three <code>require</code> calls:</p>\n\n<pre><code>var core_1 = require('angular2/core');\nvar core_2 = require('angular2/core');\nvar core_3 = require('angular2/core');\n</code></pre>\n\n<p>nevertheless each module will be loaded only once. The size of generated JavaScript code will slightly increase.</p>\n"}], "owner": {"reputation": 8816, "user_id": 3342253, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/bHXDR.jpg?s=128&g=1", "display_name": "Jan Nielsen", "link": "https://stackoverflow.com/users/3342253/jan-nielsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1161, "favorite_count": 0, "accepted_answer_id": 36585966, "answer_count": 2, "score": 1, "last_activity_date": 1460506734, "creation_date": 1460503003, "last_edit_date": 1460506734, "question_id": 36585777, "link": "https://stackoverflow.com/questions/36585777/multiple-typescript-import-statements-for-single-module", "title": "Multiple TypeScript `import` statements for single module", "body": "<p>Especially during refactoring, I prefer distinct <code>import</code> statements from a visual, conceptual, and workflow perspective:</p>\n\n<pre><code>import {Component}      from 'angular2/core';\nimport {Input}          from 'angular2/core';\nimport {enableProdMode} from 'angular2/core';\n</code></pre>\n\n<p>as opposed to the more common inline form:</p>\n\n<pre><code>import {Component, Input, enableProdMode} from 'angular2/core';\n</code></pre>\n\n<p>or the wrapped inline form:</p>\n\n<pre><code>import {\n   Component, \n   Input, \n   enableProdMode\n   }                    from 'angular2/core';\n</code></pre>\n\n<p>The TS compiler should be savvy enough to address this, but I don't know that it is. Are there any negative consequence to the generated JavaScript in <em>TypeScript 1.8+</em> for using multiple <em>TypeScript</em> <code>import</code> statements for one module?</p>\n"}, {"tags": ["node.js", "typescript", "gulp", "run-sequence"], "answers": [{"tags": [], "owner": {"reputation": 325, "user_id": 1161952, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/Hkgkf.jpg?s=128&g=1", "display_name": "Vish", "link": "https://stackoverflow.com/users/1161952/vish"}, "is_accepted": false, "score": 0, "last_activity_date": 1549311159, "last_edit_date": 1549311159, "creation_date": 1460521405, "answer_id": 36588537, "question_id": 36585767, "link": "https://stackoverflow.com/questions/36585767/run-sequence-synchronous-task-never-completes/36588537#36588537", "title": "run-sequence synchronous task never completes", "body": "<p>You need to add a callback function to your gulp task and call the cb (callback) function after all your runSequence tasks have completed.</p>\n\n<pre><code>gulp.task('e2e.headless', (cb) =&gt;\nrunSequence('start.xvfb',\n    'protractor',\n    'stop.xvfb',\n     (err) =&gt; {\n        if (err) {\n            console.log(err.message);\n        } else {\n            console.log(\"Build finished successfully\");\n        }\n        cb(err);\n    });\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 311, "user_id": 3204277, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gmDqJ.jpg?s=128&g=1", "display_name": "GMeister", "link": "https://stackoverflow.com/users/3204277/gmeister"}, "is_accepted": true, "score": 0, "last_activity_date": 1460557258, "creation_date": 1460557258, "answer_id": 36601330, "question_id": 36585767, "link": "https://stackoverflow.com/questions/36585767/run-sequence-synchronous-task-never-completes/36601330#36601330", "title": "run-sequence synchronous task never completes", "body": "<p>Thanks to Ludovic from the angular2-seed team!</p>\n\n<p>The mistake was in not calling the runProtractor function from the wrapper class, i.e. <code>\nexport = runProtractor()</code>.  Once that was noted, I could then strip out the un-necessary wrapper function as well as the promiseFromChildProcess, which were distractions.</p>\n\n<p>The final task was just an anonymous function that takes the gulp callback \"done\" which is called when exiting:</p>\n\n<pre><code>function reportError(message: string) {\n  console.error(require('chalk').white.bgRed.bold(message));\n  process.exit(1);\n}\n\nexport = (done: any) =&gt; {\n    const root = normalize(join(__dirname, '..', '..', '..'));\n    const exec = require('child_process').exec;\n\n    process.env.DISPLAY=':99';\n    util.log('cwd:', root);\n\n    exec('protractor', { cwd: root, env: process.env},\n      function (error: Error, stdout: NodeBuffer, stderr: NodeBuffer) {\n        if (error !== null) {\n          reportError('Protractor error: ' + error + stderr);\n        } else {\n          done();\n        }\n      });\n}\n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 3204277, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gmDqJ.jpg?s=128&g=1", "display_name": "GMeister", "link": "https://stackoverflow.com/users/3204277/gmeister"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 513, "favorite_count": 0, "accepted_answer_id": 36601330, "answer_count": 2, "score": 0, "last_activity_date": 1549311159, "creation_date": 1460502944, "question_id": 36585767, "link": "https://stackoverflow.com/questions/36585767/run-sequence-synchronous-task-never-completes", "title": "run-sequence synchronous task never completes", "body": "<p>I'm almost certainly going about this in the wrong way, so first up my high-level requirement.</p>\n\n<p>I'm using the <a href=\"https://github.com/mgechev/angular2-seed\" rel=\"nofollow\">angular2-seed</a> and want to run Protractor tests in a headless mode by using Xvfb.  I don't want an Xvfb server running at all times (this is a build server) so instead I'd like to spin up an Xvfb service, have Protractor do it's thing, and then \"gracefully\" shut down Xvfb.  In isolation these tasks are working fine, however I've hit a wall when it comes to adding them into the gulp build setup.</p>\n\n<p>Here's the task in the gulpfile:</p>\n\n<pre><code>gulp.task('e2e.headless', (done: any) =&gt;\n  runSequence('start.xvfb',\n              'protractor',\n              'stop.xvfb',\n              done));\n</code></pre>\n\n<p>The tasks themselves are loaded in through individual typescript task files, i.e:</p>\n\n<pre><code>import {runProtractor} from '../../utils';\n\nexport = runProtractor\n</code></pre>\n\n<p>And here are my (latest) utility files themselves.</p>\n\n<p><strong><em>protractor.ts</em></strong></p>\n\n<pre><code>import * as util from 'gulp-util';\nimport {normalize, join} from 'path';\nimport {ChildProcess} from 'child_process';\n\nfunction reportError(message: string) {\n  console.error(require('chalk').white.bgRed.bold(message));\n  process.exit(1);\n}\n\nfunction promiseFromChildProcess(child: ChildProcess) {\n  return new Promise(function (resolve: () =&gt; void, reject: () =&gt; void) {\n    child.on('close', (code: any) =&gt; {\n      util.log('Exited with code: ', code);\n      resolve();\n    });\n    child.stdout.on('data', (data: any) =&gt; {\n      util.log(`stdout: ${data}`);\n    });\n\n    child.stderr.on('data', (data: any) =&gt; {\n      util.log(`stderr: ${data}`);\n      reject();\n    });\n  });\n}\n\nexport function runProtractor(): (done: () =&gt; void) =&gt; void {\n  return done =&gt; {\n    const root = normalize(join(__dirname, '..', '..', '..'));\n    const exec = require('child_process').exec;\n\n    // Our Xvfb instance is running on :99\n    // TODO: Pass this in instead of hard-coding\n    process.env.DISPLAY=':99';\n    util.log('cwd:', root);\n\n    let child = exec('protractor', { cwd: root, env: process.env},\n      function (error: Error, stdout: NodeBuffer, stderr: NodeBuffer) {\n        if (error !== null) {\n          reportError('Protractor error: ' + error + stderr);\n        }\n      });\n    promiseFromChildProcess(child).then(() =&gt; done());\n  };\n}\n</code></pre>\n\n<p><strong><em>xvfb_tools.ts</em></strong></p>\n\n<pre><code>import * as util from 'gulp-util';\n\nconst exec = require('child_process').exec;\n\nfunction reportError(message: string) {\n  console.error(require('chalk').white.bgRed.bold(message));\n  process.exit(1);\n}\n\nexport function stopXvfb() {\n    return exec('pkill -c -n Xvfb',\n        function (error: NodeJS.ErrnoException, stdout: NodeBuffer, stderr: NodeBuffer) {\n            if (error !== null) {\n                reportError('Failed to kill Xvfb.  Not really sure why...');\n            } else if (stdout.toString() === '0') {\n                reportError('No known Xvfb instance.  Is it running?');\n            } else {\n                util.log('Xvfb terminated');\n            }\n        });\n}\n\nexport function startXvfb() {\n    return exec('Xvfb :99 -ac -screen 0 1600x1200x24',\n        function (error: NodeJS.ErrnoException, stdout: NodeBuffer, stderr: NodeBuffer) {\n            if (error !== null &amp;&amp; error.code !== null) {\n                reportError('Xvfb failed to start.  Err: ' + error.code + ', ' + error + ', ' + stderr);\n            }\n        });\n}\n</code></pre>\n\n<p>I feel as though I'm probably going around the houses in creating a promise from my <code>exec</code> child_process, however earlier interations of the code didn't do it, so...\nNote that the debug logging which should be output in <code>runProtractor()</code> displaying the root directory never gets called, so I'm quite sure that there is an async issue at play here.  Here is the output from the task:</p>\n\n<pre><code>[00:47:49] Starting 'e2e.headless'...\n[00:47:49] Starting 'start.xvfb'...\n[00:47:49] Finished 'start.xvfb' after 12 ms\n[00:47:49] Starting 'protractor'...\n[00:47:49] Finished 'protractor' after 5.74 ms\n[00:47:49] Starting 'stop.xvfb'...\n[00:47:49] Finished 'stop.xvfb' after 11 ms\n[00:47:49] Finished 'e2e.headless' after 38 ms\n[00:47:49] Xvfb terminated\n</code></pre>\n\n<p>Can someone set me straight/push me in the right direction please??</p>\n"}, {"tags": ["javascript", "typescript", "rxjs"], "answers": [{"tags": [], "owner": {"reputation": 293, "user_id": 5116722, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/662d9da3bac6493c21b05f2d3b9f68c7?s=128&d=identicon&r=PG&f=1", "display_name": "JeffC", "link": "https://stackoverflow.com/users/5116722/jeffc"}, "is_accepted": true, "score": 6, "last_activity_date": 1531631988, "last_edit_date": 1531631988, "creation_date": 1460573943, "answer_id": 36607246, "question_id": 36585491, "link": "https://stackoverflow.com/questions/36585491/typescript-rxjs-observable-array-concat/36607246#36607246", "title": "Typescript rxjs Observable array concat", "body": "<p>OK, Problem solved. </p>\n\n<p>Important note for users of reactive js version 5:\nIn typescript with rxjs, to minimize app size each operator must be specifically imported for the function/operator to be included.\nSo the line...</p>\n\n<p><code>import {concat} from 'rxjs/operators/concat'</code> must be inlcuded at the top of the typescript file for concat to work.</p>\n\n<p>What confused me was that I was getting intellisense in VS2015 for the Observable.concat function even though the function had not actually been imported. </p>\n"}, {"comments": [{"owner": {"reputation": 4071, "user_id": 83542, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/djdz6.jpg?s=128&g=1", "display_name": "Kildareflare", "link": "https://stackoverflow.com/users/83542/kildareflare"}, "edited": false, "score": 0, "creation_date": 1542972720, "post_id": 53109017, "comment_id": 93764575, "body": "Additionally I had to change import { Observable } from &#39;rxjs/Observable&#39;; to import { Observable } from &#39;rxjs&#39;;"}], "tags": [], "owner": {"reputation": 61, "user_id": 8679162, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0jY66p_2hag/AAAAAAAAAAI/AAAAAAAABlQ/FmThMwELZQU/photo.jpg?sz=128", "display_name": "S&#233;verin Beauvais", "link": "https://stackoverflow.com/users/8679162/s%c3%a9verin-beauvais"}, "is_accepted": false, "score": 2, "last_activity_date": 1541104707, "creation_date": 1541104707, "answer_id": 53109017, "question_id": 36585491, "link": "https://stackoverflow.com/questions/36585491/typescript-rxjs-observable-array-concat/53109017#53109017", "title": "Typescript rxjs Observable array concat", "body": "<p>I'm using rxjs 5.5.7 and had to use <code>import 'rxjs/add/observable/concat';</code>.</p>\n\n<p>The code itself looks like:\n<code>Observable.concat(...observables).subscribe etc</code></p>\n"}], "owner": {"reputation": 293, "user_id": 5116722, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/662d9da3bac6493c21b05f2d3b9f68c7?s=128&d=identicon&r=PG&f=1", "display_name": "JeffC", "link": "https://stackoverflow.com/users/5116722/jeffc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6465, "favorite_count": 0, "accepted_answer_id": 36607246, "answer_count": 2, "score": 3, "last_activity_date": 1541104707, "creation_date": 1460501457, "last_edit_date": 1531632491, "question_id": 36585491, "link": "https://stackoverflow.com/questions/36585491/typescript-rxjs-observable-array-concat", "title": "Typescript rxjs Observable array concat", "body": "<p>I am having trouble using rxjs Observable.concat function with typescript.\nGetting an error \"Cannot read property 'apply' of undefined\"</p>\n\n<p>The problem seems to be only within typescript and \nmay be specific to rxjs version 5 concat. The code seems to work with rxjs V4. </p>\n\n<p>Here is a simplified version of the code illustrating the problem...</p>\n\n<pre><code> /*jshint esnext: true */\n\nconsole.clear();\nconsole.log('started');\nclass test{\n    observableArray: Observable&lt;any&gt;[]=[];\n\n    constructor(){\n        this.observableArray.push(Rx.Observable.return(\"Line 1\"));\n        this.observableArray.push(Rx.Observable.return(56));\n        this.observableArray.push(Rx.Observable.create((observer)=&gt;{\n             setTimeout(()=&gt;{\n                try{\n                    observer.onNext(\"Waited for\");\n                    observer.onCompleted();\n                }\n                catch(err){\n                     observer.onError(err);\n                }\n             },3000);\n         }));\n      }\n\n    run(){\n         // ... indeterminate number of observables pushed into array.\n         // The problem lies below\n         var source = Rx.Observable.concat(...this.observableArray);\n         // seems to transpile into js: source =   Observable_1.Observable.concat.apply(Observable_1.Observable, this.observableArray);\n         // In the chrome debugger I am getting error: Cannot read property 'apply' of undefined      \n\n         var subscription = source.subscribe(\n             function (x) {\n                 console.log('Next: ' + x);\n             },\n             function (err) {\n                 console.error('Error: ' + err);\n             },\n             function () {\n                 console.log('Completed');\n         });\n      }\n  }\n\n}\n</code></pre>\n\n<p>Here is the jsbin:\n<a href=\"https://jsbin.com/naxeba/edit?html,js,console,output\" rel=\"nofollow\">https://jsbin.com/naxeba/edit?html,js,console,output</a></p>\n"}, {"tags": ["typescript", "typescript1.8"], "answers": [{"comments": [{"owner": {"reputation": 25584, "user_id": 501459, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/29b9e5f5d700524e3a6eaef99de7d069?s=128&d=identicon&r=PG", "display_name": "Mud", "link": "https://stackoverflow.com/users/501459/mud"}, "edited": false, "score": 0, "creation_date": 1460504141, "post_id": 36584843, "comment_id": 60770745, "body": "That complaint makes perfect sense.  I&#39;m running into the same type error when I tried to implement your first example (two signatures). I included my code in my post."}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": false, "score": 0, "last_activity_date": 1460499769, "last_edit_date": 1460499769, "creation_date": 1460498462, "answer_id": 36584843, "question_id": 36584603, "link": "https://stackoverflow.com/questions/36584603/typescript-type-inference-failure/36584843#36584843", "title": "Typescript type inference failure?", "body": "<p>I think you're probably better off writing this as two signatures:</p>\n\n<pre><code>function toMap&lt;T,TKey&gt;(items: Array&lt;T&gt;, keySelector: (item: T) =&gt; TKey): Map&lt;TKey,T&gt;;\nfunction toMap&lt;T,TKey,TElement&gt;(items: Array&lt;T&gt;, keySelector: (item: T) =&gt; TKey, elemSelector: (item: T) =&gt; TElement): Map&lt;TKey,TElement&gt;;\n/* implementation signature here */\n</code></pre>\n\n<p>This would be solvable with <a href=\"https://github.com/Microsoft/TypeScript/issues/2175\" rel=\"nofollow\">generic type defaults</a> (you would write <code>&lt;T, TKey, TElement = T&gt;</code>), but those have not been merged in yet.</p>\n\n<p>The legitimate complaint about your code, from the compiler's perspective, is that someone might manually specify all the type parameters, but not specify the optional argument:</p>\n\n<pre><code>let x = toMap&lt;string, number, boolean&gt;(someStringArray, someNumberFunc);\n</code></pre>\n"}], "owner": {"reputation": 25584, "user_id": 501459, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/29b9e5f5d700524e3a6eaef99de7d069?s=128&d=identicon&r=PG", "display_name": "Mud", "link": "https://stackoverflow.com/users/501459/mud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1460504100, "creation_date": 1460497263, "last_edit_date": 1460504100, "question_id": 36584603, "link": "https://stackoverflow.com/questions/36584603/typescript-type-inference-failure", "title": "Typescript type inference failure?", "body": "<p>I wrote a function to project an Array into a Map:</p>\n\n<pre><code>function toMap&lt;T,TKey,TElement&gt;(items: Array&lt;T&gt;,\n        keySelector: (item: T) =&gt; TKey,\n        elementSelector: (item: T) =&gt; TElement\n    ): Map&lt;TKey,TElement&gt; {\n\n    var map = new Map&lt;TKey,TElement&gt;();\n    for (var item of items) {\n        map.set(keySelector(item), elementSelector(item));\n    }\n    return map;\n}\n</code></pre>\n\n<p>Basically, iterate through the list and call a user-provided projection function to extract a key and value for the Map.</p>\n\n<p>Note that the types TKey and TElement are infered from the return value of the projection functions being passed in.</p>\n\n<p>Most of the time, the <em>value</em> in the map is simply the original element:</p>\n\n<pre><code>var personBySocial = toMap(people, person =&gt; person.ssn, person =&gt; person);\n</code></pre>\n\n<p>So I'd like to make that second lambda the default. Easy enough:</p>\n\n<pre><code>function toMap&lt;T,TKey,TElement&gt;(items: Array&lt;T&gt;,\n        keySelector: (item: T) =&gt; TKey,\n        elementSelector: (item: T) =&gt; TElement = item =&gt; item\n    ): Map&lt;TKey,TElement&gt; {\n\n    var map = new Map&lt;TKey,TElement&gt;();\n    for (var item of items) {\n        map.set(keySelector(item), elementSelector(item));\n    }\n    return map;\n}\n</code></pre>\n\n<p>However, this produces a compile error:</p>\n\n<pre><code>Type '(item: T) =&gt; T' is not assignable to type '(item: T) =&gt; TElement'.\n  Type 'T' is not assignable to type 'TElement'.\n</code></pre>\n\n<p>For some reason, if I pass <code>item =&gt; item</code> in separately, Typescript can infer that TElement == T, but if I pass it in as a default, it can't.</p>\n\n<p>Am I doing something wrong here, or is this a current limitation of Typescript? If it's the latter, does anyone know if it's a known problem that will be addressed in the future?</p>\n\n<hr>\n\n<p>EDIT, in response to Ryan's comment:</p>\n\n<pre><code>function toMap&lt;T,TKey&gt;(items: Array&lt;T&gt;, keySelector: (item: T) =&gt; TKey): Map&lt;TKey,T&gt;;\nfunction toMap&lt;T,TKey, TElement&gt;(items: Array&lt;T&gt;, keySelector: (item: T) =&gt; TKey, elementSelector: (item: T) =&gt; TElement): Map&lt;TKey, TElement&gt;;\nfunction toMap&lt;T,TKey, TElement&gt;(items: Array&lt;T&gt;, keySelector: (item: T) =&gt; TKey, elementSelector?: (item: T) =&gt; TElement): Map&lt;TKey, TElement&gt; {\n    var map = new Map&lt;TKey, TElement&gt;();\n    if (elementSelector)\n        for (var item of items)\n            map.set(keySelector(item), elementSelector(item));\n    else\n        for (var item of items)\n            map.set(keySelector(item), item);\n    return map;\n}\n</code></pre>\n\n<p>I'm running into the same type error, where the map.set in the else clause (<code>map.set(keySelector(item), item)</code>) is triggering the error on the second <code>item</code> that \"T is not assignable to parameter of type TElement\".</p>\n"}, {"tags": ["angular", "typescript", "angular2-services"], "answers": [{"tags": [], "owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "is_accepted": false, "score": 0, "last_activity_date": 1460495968, "creation_date": 1460495968, "answer_id": 36584252, "question_id": 36584212, "link": "https://stackoverflow.com/questions/36584212/angular-enforcing-a-model-format-in-a-returned-json-array/36584252#36584252", "title": "Angular - enforcing a model format in a returned JSON array", "body": "<p>You should use <code>Array</code>/<code>List</code> there, to indicate it as a collection.</p>\n\n<pre><code>.map(result =&gt; Array&lt;MyModel&gt; result.json())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19421, "user_id": 3795501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaeec79535337d9a96f63f2d6ef3e49d?s=128&d=identicon&r=PG", "display_name": "Luka Jacobowitz", "link": "https://stackoverflow.com/users/3795501/luka-jacobowitz"}, "is_accepted": true, "score": 4, "last_activity_date": 1460496001, "creation_date": 1460496001, "answer_id": 36584262, "question_id": 36584212, "link": "https://stackoverflow.com/questions/36584212/angular-enforcing-a-model-format-in-a-returned-json-array/36584262#36584262", "title": "Angular - enforcing a model format in a returned JSON array", "body": "<p>You can cast them to <code>MyModel[]</code>. </p>\n\n<pre><code>function getLotsOfModels() {\n    return this.http\n     .post('http://www.somewhere.com/getLotsOfModels')\n     .map(result =&gt; &lt;MyModel[]&gt; result.json())\n     .catch(this.handleError);\n}\n</code></pre>\n\n<p>Typescript won't do any structural check, so casting this can only fail at runtime. If you have any methods on <code>MyModel</code>. The Json won't have them, and you'll run into problems, when you want to evoke a method.</p>\n\n<p>For example, after you've obtained your model:</p>\n\n<pre><code>myModel.myMethod();\n</code></pre>\n\n<p>This will throw an error at runtime, since the underlying JSON, doesn't have the function defined and the compiler can't catch it because of the cast.</p>\n"}], "owner": {"reputation": 2773, "user_id": 3357958, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1a47f91c5bdc58874b450fe6e742af9d?s=128&d=identicon&r=PG", "display_name": "ebakunin", "link": "https://stackoverflow.com/users/3357958/ebakunin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "accepted_answer_id": 36584262, "answer_count": 2, "score": 2, "last_activity_date": 1550031590, "creation_date": 1460495836, "last_edit_date": 1550031590, "question_id": 36584212, "link": "https://stackoverflow.com/questions/36584212/angular-enforcing-a-model-format-in-a-returned-json-array", "title": "Angular - enforcing a model format in a returned JSON array", "body": "<p>While using Angular I have the following model:</p>\n\n<pre><code>export interface MyModel {\n    id: number;\n    content: string;\n}\n</code></pre>\n\n<p>In a service I make a request for JSON data that has the attributes of MyModel. Something like this:</p>\n\n<pre><code>function getMyModel() {\n    return this.http\n       .post('http://www.somewhere.com/getOneModel')\n       .map(result =&gt; &lt;MyModel&gt; result.json())\n       .catch(this.handleError);\n}\n</code></pre>\n\n<p>The returned JSON is something like this:</p>\n\n<pre><code>{ id: 1, content: \"Stuff\" }\n</code></pre>\n\n<p>In <code>getMyModel()</code> you'll see that while I <code>map()</code> the results I make sure that the JSON conforms to MyModel by doing this: <code>&lt;MyModel&gt; result.json()</code>.</p>\n\n<p>Everything is working fine to this point.</p>\n\n<p>Now I want to return an array of models and confirm all of them conform to MyModel.</p>\n\n<pre><code>function getLotsOfModels() {\n    return this.http\n       .post('http://www.somewhere.com/getLotsOfModels')\n       .map(result =&gt; result.json())\n       .catch(this.handleError);\n}\n</code></pre>\n\n<p>The returned JSON is something like this:</p>\n\n<pre><code>{[\n    { id: 1, content: \"Stuff\" },\n    { id: 2, content: \"More stuff\" }\n]}\n</code></pre>\n\n<p>In this case <code>map()</code> cannot confirm the JSON array elements agree with MyModel since the result is an array. How can I check that the results are correct? </p>\n"}, {"tags": ["typescript", "gulp", "gulp-typescript"], "owner": {"reputation": 7849, "user_id": 576396, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8371065173a6c6bc169a4694c4fa2b50?s=128&d=identicon&r=PG", "display_name": "Katana314", "link": "https://stackoverflow.com/users/576396/katana314"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 111, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1460493648, "creation_date": 1460493648, "question_id": 36583636, "link": "https://stackoverflow.com/questions/36583636/gulp-typescript-generating-incorrect-module-path-in-singular-file-output", "title": "gulp-typescript generating incorrect module path in singular file output", "body": "<p>Here's my project structure.</p>\n\n<pre><code>node_modules\njs\n  app\n    app.ts\nbuilt_js\n  app\n    app.js &lt;- compiled from js folder\n</code></pre>\n\n<p>I have a tsconfig.json that, when run via <code>tsc</code>, correctly generates module definitions like the following in app.js, the idea being there will be many files combined here:</p>\n\n<pre><code>System.register(\"app/app\", ...\n</code></pre>\n\n<p>tsconfig.json:</p>\n\n<pre><code>{\n\"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"system\",\n    \"moduleResolution\": \"node\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"noImplicitAny\": false,\n    \"removeComments\": true,\n    \"rootDir\": \"js\",\n    \"outFile\": \"built_js/app/main.js\"\n}\n</code></pre>\n\n<p>However, whichever way I try to build my files using <code>gulp-typescript</code>, it generates the wrong System.register command, ignoring the rootDir property.</p>\n\n<pre><code>System.register(\"app\", ...\n</code></pre>\n\n<p>gulpfile.js (both tasks generate the above):</p>\n\n<pre><code>var tsProj = ts.createProject('tsconfig.json', {\n    typescript: typescript\n});\n\ngulp.task('tsc', () =&gt; {\n    var tsResult = gulp.src(['js/**/*.ts'], {base: './js/'}).pipe(ts(tsProj));\n    return tsResult.js.pipe(gulp.dest(''));\n});\n\ngulp.task('tscproject', () =&gt; {\n    var tsResult = tsProj.src().pipe(ts(tsProj));\n    return tsResult.js.pipe(gulp.dest(''));\n});\n</code></pre>\n\n<p>Does anyone know of a way to fix this?</p>\n"}, {"tags": ["typescript", "angular"], "comments": [{"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "edited": false, "score": 0, "creation_date": 1460498236, "post_id": 36583322, "comment_id": 60768471, "body": "Could you provide the content of the tsconfig.json file? Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 3838400, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lXKju.jpg?s=128&g=1", "display_name": "Homayoon", "link": "https://stackoverflow.com/users/3838400/homayoon"}, "edited": false, "score": 0, "creation_date": 1460917558, "post_id": 36584979, "comment_id": 60950672, "body": "my configuration file is like this, but still doesn&#39;t work."}, {"owner": {"reputation": 5097, "user_id": 5058871, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fe7ecb8d6a0171ca6462d59ab0663c25?s=128&d=identicon&r=PG", "display_name": "Dov Benyomin Sohacheski", "link": "https://stackoverflow.com/users/5058871/dov-benyomin-sohacheski"}, "edited": false, "score": 0, "creation_date": 1460917856, "post_id": 36584979, "comment_id": 60950787, "body": "You need to use <code>system.js</code>&#39;s <code>map</code> property in the main <code>System.config()</code> function in the <code>index.html</code>"}], "tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": false, "score": 0, "last_activity_date": 1460499151, "creation_date": 1460499151, "answer_id": 36584979, "question_id": 36583322, "link": "https://stackoverflow.com/questions/36583322/changing-angular2-core-directory-not-working/36584979#36584979", "title": "changing angular2/core directory not working", "body": "<p>You have the error since the TypeScript compiler can't find the <code>core.d.ts</code> file. You need to have the following configuration to make it work. Be careful to the <code>moduleResolution</code> attribute that must be set to <code>node</code>:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"system\",\n    \"moduleResolution\": \"node\", // &lt;----------\n    \"sourceMap\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"removeComments\": false,\n    \"noImplicitAny\": false\n  },\n  \"exclude\": [\n    \"node_modules\",\n    \"typings/main\",\n    \"typings/main.d.ts\"\n  ]\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 3838400, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lXKju.jpg?s=128&g=1", "display_name": "Homayoon", "link": "https://stackoverflow.com/users/3838400/homayoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1460917691, "creation_date": 1460492442, "last_edit_date": 1460917691, "question_id": 36583322, "link": "https://stackoverflow.com/questions/36583322/changing-angular2-core-directory-not-working", "title": "changing angular2/core directory not working", "body": "<p>when i using:</p>\n\n<pre><code>import {Component} from 'angular2/core';\n</code></pre>\n\n<p>from <em>app.component.ts</em> my app will be ran successfully but compiler throw the <strong>Error:(1, 25) TS2307: Cannot find module 'angular2/core'</strong> whereas core file is in <strong>node_modules/angular2/core</strong> directory!</p>\n\n<p>When I change core directory my app doesn't work but the compiler is ok! \nI'm working on <a href=\"https://angular.io/docs/js/latest/quickstart.html\" rel=\"nofollow\">ANGULAR: 5 MIN QUICKSTART</a></p>\n\n<p><a href=\"http://i.stack.imgur.com/ebT3x.png\" rel=\"nofollow\">Project Folders Structure</a></p>\n\n<p>my tsconfig.json:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es6\",\n    \"module\": \"system\",\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"removeComments\": false,\n    \"noImplicitAny\": false\n  },\n  \"exclude\": [\n    \"node_modules\",\n    \"typings/main\",\n    \"typings/main.d.ts\"\n  ]\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "rxjs", "angular2-routing"], "answers": [{"tags": [], "owner": {"reputation": 12611, "user_id": 491265, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/AJGd6.jpg?s=128&g=1", "display_name": "kemsky", "link": "https://stackoverflow.com/users/491265/kemsky"}, "is_accepted": true, "score": 13, "last_activity_date": 1460493758, "creation_date": 1460493758, "answer_id": 36583675, "question_id": 36582997, "link": "https://stackoverflow.com/questions/36582997/end-observable-interval-when-route-changes-in-angular/36583675#36583675", "title": "End Observable interval when route changes in Angular", "body": "<p>You should save subscription to observable:</p>\n\n<pre><code>this.subscription = getAllPolls().subscribe(...);\n</code></pre>\n\n<p>And implement OnDestroy interface:</p>\n\n<pre><code>  ngOnDestroy() {\n     this.subscription.unsubscribe();\n  }\n</code></pre>\n"}], "owner": {"reputation": 5418, "user_id": 2573961, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ZqHZp.jpg?s=128&g=1", "display_name": "Diego Unanue", "link": "https://stackoverflow.com/users/2573961/diego-unanue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2141, "favorite_count": 1, "accepted_answer_id": 36583675, "answer_count": 1, "score": 3, "last_activity_date": 1550068559, "creation_date": 1460491363, "last_edit_date": 1550068559, "question_id": 36582997, "link": "https://stackoverflow.com/questions/36582997/end-observable-interval-when-route-changes-in-angular", "title": "End Observable interval when route changes in Angular", "body": "<p>I start a interval in an Angular component, but it keeps making requests even after I change the route. How can I stop the interval?</p>\n\n<pre><code>//returns an observable\ngetAllPolls() {\n    return Observable.interval(2000).switchMap(() =&gt; this._http.get('https://xq4kftam4k.execute-api.us-east-1.amazonaws.com/test/polls2'))\n        .map((res: Response) =&gt; res.json())\n\n}\n</code></pre>\n"}, {"tags": ["typescript", "bluebird"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1460491339, "post_id": 36582449, "comment_id": 60764856, "body": "You can include your own definition file that overrides the library&#39;s definitions. Is that what you mean?"}, {"owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1460491522, "post_id": 36582449, "comment_id": 60764957, "body": "@MikeMcCaughan I can&#39;t override the entire library with my own file, the library&#39;s interface is huge."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1460491873, "post_id": 36582449, "comment_id": 60765179, "body": "Well, you <i>can</i>, you just don&#39;t want to ;). The only other way I can think of would be to <code>import Promise = bluebird.Promise</code> (or <a href=\"https://github.com/Microsoft/TypeScript-Handbook/blob/master/pages/Namespaces%20and%20Modules.md\" rel=\"nofollow noreferrer\">whatever the syntax is</a>) at the top of all of the library&#39;s definition files."}, {"owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1460491959, "post_id": 36582449, "comment_id": 60765227, "body": "Is it something that can be injected, somehow, without modifying the original library files?"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1460492295, "post_id": 36582449, "comment_id": 60765427, "body": "I can&#39;t think of any way of doing it, but maybe others have better ideas..."}, {"owner": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "edited": false, "score": 0, "creation_date": 1462858913, "post_id": 36582449, "comment_id": 61800144, "body": "Would casting to a bluebird promise in your code or using the bluebird promise constructor on the returned object be out of the question?"}, {"owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1481019683, "post_id": 36582449, "comment_id": 69194489, "body": "I&#39;m tempted to close it in favor of: <a href=\"http://stackoverflow.com/questions/36593087/using-a-custom-promise-as-a-generic-type\" title=\"using a custom promise as a generic type\">stackoverflow.com/questions/36593087/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 291, "user_id": 3353791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dH8gt.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/3353791/matt"}, "is_accepted": false, "score": 0, "last_activity_date": 1476949459, "last_edit_date": 1495542649, "creation_date": 1476949459, "answer_id": 40148359, "question_id": 36582449, "link": "https://stackoverflow.com/questions/36582449/typescript-override-for-es6-promise-with-bluebird/40148359#40148359", "title": "TypeScript override for ES6 Promise with Bluebird", "body": "<p>You could possibly overwrite the Promise type using a union <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#union-types\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/advanced-types.html#union-types</a></p>\n\n<p><strong>This is the non-preferred way</strong></p>\n\n<pre><code>import Bluebird from 'bluebird';\n\ntype Promise = Promise | Bluebird;\n</code></pre>\n\n<hr>\n\n<p>Taking from <a href=\"https://stackoverflow.com/users/2557260/paarth\">@Paarth</a>'s comment above, you could typecast your Bluebird promise to a ES6 Promise.</p>\n\n<p><strong>This is the preferred way</strong></p>\n\n<p>Given the 3rd party library as:</p>\n\n<pre><code>interface Protocol {\n    methodName(param1:string, param2:number):Promise&lt;Object[]&gt;\n}\n</code></pre>\n\n<p>You could consume it like so:</p>\n\n<pre><code>import Bluebird from 'bluebird';\n\nclass Http implements Protocol {\n  methodName(url: string, payload: number): Promise&lt;Object[]&gt; {\n    return &lt;Promise&lt;Object[]&gt;&gt;new Bluebird((resolve, reject) =&gt; {\n\n      // Do whatever you need to do ... use the url &amp; payload\n\n      resolve([{ data: 'Done' }]);\n    });\n  }\n}\n\n\nlet http = new Http();\n\nhttp.methodName('//get-some-data', 10);\n</code></pre>\n\n<p><em>disclaimer: I haven't compiled this to test it - I don't have an environment set up at the moment and jsbin is playing havoc with the Typescript compiler</em></p>\n"}], "owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1894, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1476949459, "creation_date": 1460489537, "last_edit_date": 1460491723, "question_id": 36582449, "link": "https://stackoverflow.com/questions/36582449/typescript-override-for-es6-promise-with-bluebird", "title": "TypeScript override for ES6 Promise with Bluebird", "body": "<p>I have a Node.js library that uses promises, with its TypeScript declarations using ES6 <code>Promise</code>, even though the library itself can be customized to use any promise library.</p>\n\n<p>So, I have no problem passing in <code>Bluebird</code> into that library so it can use it.</p>\n\n<p>The problem is how to make Bluebird promise interface visible on declarative level, since my library declares its interface only through ES6 <code>Promise</code>.</p>\n\n<p>Is there a way to make the compiler aware that I am using a different Promise protocol, without having to modify the library itself?</p>\n\n<p>The latter, of course, is the catch, as there would be no question if I could just modify the library.</p>\n\n<p>And if it is of any help to understand what that library is like, let's take this simple interface from it:</p>\n\n<pre><code>interface Protocol {\n    methodName(param1:string, param2:number):Promise&lt;Object[]&gt;\n}\n</code></pre>\n\n<p>and then multiply its size 1000 times.</p>\n\n<p>So, I can't just fake the protocol with my own file. I need to figure out how to tell the compiler that <code>Promise</code> isn't the default ES6, but the one that Bluebird TypeScript provides.</p>\n"}, {"tags": ["typescript", "angular", "ionic2", "rxjs5"], "answers": [{"tags": [], "owner": {"reputation": 2569, "user_id": 4392527, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1666204769/picture?type=large", "display_name": "Denko Mancheski", "link": "https://stackoverflow.com/users/4392527/denko-mancheski"}, "is_accepted": false, "score": 0, "last_activity_date": 1461369037, "creation_date": 1461369037, "answer_id": 36804952, "question_id": 36581597, "link": "https://stackoverflow.com/questions/36581597/ionic-2-rxjs5-cordova-network-plugin-event-observable/36804952#36804952", "title": "ionic 2 / rxjs5 / cordova network plugin event observable", "body": "<p>You can do it normally like the documentation says (<code>document.addEventListener(\"offline\", onOffline, false);</code>), and in the handler you can emit with an EventEmitter or if you still want to use observable you can dispatch custom event to the document and make <code>Observable.fromEvent(document, 'nameofevent')</code></p>\n\n<p>Example:</p>\n\n<pre><code>window.addEventListener('offline', this.onOffline);\nonOffline(e) {\n        var event = new CustomEvent('onoffline');\n        event['offlineTimestamp'] = new Date()\n        document.dispatchEvent(event);\n    }\n</code></pre>\n\n<p>and than just <code>this.networkObservable = Observable.fromEvent(document, 'onoffline');</code></p>\n\n<p>or instead of dispatching CustomEvent, you can have an EventEmitter which will emit in the handlers</p>\n\n<pre><code>networkEmitter = new EventEmitter();\nwindow.addEventListener('offline', onOffline);\n    onOffline(e) {\n            this.networkEmitter.emit('wentOffline');\n        }\n</code></pre>\n\n<p>You can than subscribe in the EventEmitter or Observable :)</p>\n"}], "owner": {"reputation": 1264, "user_id": 4021204, "user_type": "registered", "accept_rate": 41, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "divramod", "link": "https://stackoverflow.com/users/4021204/divramod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 520, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1461369037, "creation_date": 1460486855, "last_edit_date": 1460559236, "question_id": 36581597, "link": "https://stackoverflow.com/questions/36581597/ionic-2-rxjs5-cordova-network-plugin-event-observable", "title": "ionic 2 / rxjs5 / cordova network plugin event observable", "body": "<p>is it somehow possible to make an rxjs observable with the <a href=\"http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#static-method-fromEvent\" rel=\"nofollow\">fromEvent method</a> out of the <a href=\"https://github.com/apache/cordova-plugin-network-information\" rel=\"nofollow\">cordova network connection plugin</a>.</p>\n\n<p>i am trying that with ionic 2.</p>\n\n<p>i can see, that there are two events (online/offline) in the <a href=\"https://github.com/apache/cordova-plugin-network-information\" rel=\"nofollow\">cordova network connection plugin</a>. but how to hook into them with rxjs?</p>\n\n<p>something that looks like that:</p>\n\n<pre><code>const offline$ = Observable.fromEvent(CORDOVA_OFFLINE_EVENT);\noffline$.subscribe(\n    function (connectionType) {\n        console.log(\"connectionType\", JSON.stringify(connectionType));\n    },\n    function (err) {\n        console.log('Error: ' + err);\n    },\n    function () {\n        console.log('Completed');\n    }\n);\n</code></pre>\n"}, {"tags": ["typescript", "gulp", "ecmascript-6", "webpack", "browserify"], "answers": [{"comments": [{"owner": {"reputation": 1056, "user_id": 5847412, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e00cfe1938337ca55b7496893faaa0f4?s=128&d=identicon&r=PG&f=1", "display_name": "unseen_damage", "link": "https://stackoverflow.com/users/5847412/unseen-damage"}, "edited": false, "score": 0, "creation_date": 1460491861, "post_id": 36582848, "comment_id": 60765171, "body": "Hi Amid. Thank you for the links and information. It does provide helpful insight, however I am not sure that it answers the question on how to solve the issue of Uncaught Reference Error, or present an alternative diagnosis on what might cause it. I will look into how those tools can be used together though via your links."}, {"owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "reply_to_user": {"reputation": 1056, "user_id": 5847412, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e00cfe1938337ca55b7496893faaa0f4?s=128&d=identicon&r=PG&f=1", "display_name": "unseen_damage", "link": "https://stackoverflow.com/users/5847412/unseen-damage"}, "edited": false, "score": 0, "creation_date": 1460492158, "post_id": 36582848, "comment_id": 60765358, "body": "I have updated answer. Sorry for not being clear about the reason for your errors."}], "tags": [], "owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "is_accepted": false, "score": 0, "last_activity_date": 1460492127, "last_edit_date": 1495539921, "creation_date": 1460490829, "answer_id": 36582848, "question_id": 36581525, "link": "https://stackoverflow.com/questions/36581525/using-typescript-in-the-browser/36582848#36582848", "title": "Using Typescript in the Browser", "body": "<p>Here are some resources to get you started:</p>\n\n<ol>\n<li>Webpack: <a href=\"http://www.jbrantly.com/typescript-and-webpack/\" rel=\"nofollow noreferrer\">link</a></li>\n<li>Gulp+webpack: <a href=\"http://webpack.github.io/docs/usage-with-gulp.html\" rel=\"nofollow noreferrer\">link</a></li>\n<li>Browserify: <a href=\"http://www.davidkudera.com/2015/02/28/typescript-gulp-bower-browserify/\" rel=\"nofollow noreferrer\">link</a></li>\n<li>Systemjs: <a href=\"http://david-barreto.com/how-to-use-typescript-with-systemjs/\" rel=\"nofollow noreferrer\">link</a>, <a href=\"https://angular.io/docs/ts/latest/quickstart.html#systemjs\" rel=\"nofollow noreferrer\">link</a></li>\n<li>requirejs: <a href=\"http://www.codebelt.com/typescript/typescript-amd-with-requirejs-tutorial/\" rel=\"nofollow noreferrer\">link</a></li>\n<li>Sample gulp task: <a href=\"https://stackoverflow.com/questions/35956888/gulp-and-ts-compilation/35957118#35957118\">link</a></li>\n<li>Sample basic systemjs config in index.html: <a href=\"https://stackoverflow.com/questions/35685702/how-to-use-a-huge-typescript-library-without-polluting-html/35685782#35685782\">link</a></li>\n</ol>\n\n<p>There is no 'best way' it depends on the specifics of your application. If you need/can to bundle all app as a single js file - webpack or browserify. Otherwise - systemjs, maybe requirejs. My personal preference is gulp+systemjs. But as links 1-5 shows it can be done with any loader.</p>\n\n<p>Browsers so far cannot load javascript modules and need so called loaders (that is webpack, requirejs, systemjs, browserify) to do the job. That is the reason why you see errors you specified. In order to get rid of them - choose one of the loaders, configure it and the errors will go away.</p>\n\n<p>Hope this will help you to get started. </p>\n"}, {"tags": [], "owner": {"reputation": 1056, "user_id": 5847412, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e00cfe1938337ca55b7496893faaa0f4?s=128&d=identicon&r=PG&f=1", "display_name": "unseen_damage", "link": "https://stackoverflow.com/users/5847412/unseen-damage"}, "is_accepted": true, "score": 0, "last_activity_date": 1461179911, "creation_date": 1461179911, "answer_id": 36753182, "question_id": 36581525, "link": "https://stackoverflow.com/questions/36581525/using-typescript-in-the-browser/36753182#36753182", "title": "Using Typescript in the Browser", "body": "<p>I have figured out my issue. I was referencing these files directly in the \"index.html\" page, which wasn't necessary. What needed to be done was change the reference so that the Node controller knew where the files were, and not the index page. After this, and on compile, the export and require worked fine.</p>\n"}, {"tags": [], "owner": {"reputation": 489, "user_id": 7997373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f097ccc6857ab9459c01e1b0545cbce?s=128&d=identicon&r=PG", "display_name": "kobako", "link": "https://stackoverflow.com/users/7997373/kobako"}, "is_accepted": false, "score": 0, "last_activity_date": 1583039419, "creation_date": 1583039419, "answer_id": 60472187, "question_id": 36581525, "link": "https://stackoverflow.com/questions/36581525/using-typescript-in-the-browser/60472187#60472187", "title": "Using Typescript in the Browser", "body": "<p>Now only the <code>tsc</code> command line tool can do all the things for you to use typescript on browser.</p>\n\n<h3>First of all, config the module to be 'AMD' in the tsconfig.json</h3>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"module\": \"amd\",\n    \"outDir\": \"./\", //Just by default\n    \"rootDir\": \"./\" //Just by default\n  }\n}\n</code></pre>\n\n<h3>Secondly, prepare a really simple index html. It use the entry file index.js to boostrap the whole application(by require.js).</h3>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;html&gt;\n  &lt;body&gt;\n    &lt;div id=\"me\"&gt;Nothing&lt;/div&gt;\n\n    &lt;script data-main=\"./index.js\" src=\"https://cdn.bootcss.com/require.js/2.3.6/require.min.js\"&gt;&lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<h3>Then, write whatever you want into the index.ts.</h3>\n\n<pre><code>//import something from somewhere\n\nconst el : HTMLElement | null = document.getElementById('me');\nif(el){\n  el.innerHTML = 'Hey I am typescript!';\n}\n</code></pre>\n\n<p>You can also import other files just like what you do in regular typescript.</p>\n\n<h3>Finally, run <code>tsc</code> command to compile all files then open the index.html, you can see what happens.</h3>\n"}], "owner": {"reputation": 1056, "user_id": 5847412, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e00cfe1938337ca55b7496893faaa0f4?s=128&d=identicon&r=PG&f=1", "display_name": "unseen_damage", "link": "https://stackoverflow.com/users/5847412/unseen-damage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1122, "favorite_count": 0, "accepted_answer_id": 36753182, "answer_count": 3, "score": 0, "last_activity_date": 1583039419, "creation_date": 1460486613, "last_edit_date": 1460491939, "question_id": 36581525, "link": "https://stackoverflow.com/questions/36581525/using-typescript-in-the-browser", "title": "Using Typescript in the Browser", "body": "<p>I have been struggling with this issue a lot lately. I am creating a new Typescript project, and I am trying to figure out the best way to use Typescript to connect with a database, and display the results in the browser. However, I am getting console errors in the browser as follows:</p>\n\n<pre><code>Uncaught ReferenceError: exports is not defined (\"export class Database\")\n\nUncaught ReferenceError: require is not defined (\"import {Database} from \"./Database\";\") \n</code></pre>\n\n<p>From what I can tell, I am getting the error because the files are being transpiled to a CommonJS module which the browser cannot understand. </p>\n\n<p>My question is: Is this the correct diagnosis of the issue? If so, what is the best way to resolve an issue like this? </p>\n\n<p>One approach from my research says to use WebPack or Browserify, and others suggest using AMD/SystemJS or RequireJS. I am curious if this can be done with Gulp and Webpack, but I am not sure where to even start, or how that fits in the workflow.</p>\n\n<p>Database Class</p>\n\n<pre><code>export class Database{\n    //...\n}\n</code></pre>\n\n<p>Mongo Class</p>\n\n<pre><code>&lt;reference path=\"../../../typings/browser/ambient/node/index.d.ts\" /&gt;\n&lt;reference path=\"../../../typings/browser/ambient/mongodb/index.d.ts\" /&gt;\n\n    import {IDatabase} from \"../interfaces/IDatabase\";\n    import {Database} from \"./Database\";\n    import {MongoClient} from \"mongodb\";\n\n    class MongoDB extends Database implements IDatabase{\n        //...\n    }\n</code></pre>\n\n<p>Database Interface</p>\n\n<pre><code>export interface IDatabase{\n    //...\n}\n</code></pre>\n\n<p>TSConfig Options</p>\n\n<pre><code>\"target\": \"es6\",\n\"module\": \"commonjs\",\n\"moduleResolution\": \"classic\",\n\"sourceMap\": true,\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "webpack"], "answers": [{"tags": [], "owner": {"reputation": 7850, "user_id": 255966, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/00266ff14a605bf99cb6aed0518ad2ec?s=128&d=identicon&r=PG", "display_name": "Stef Heyenrath", "link": "https://stackoverflow.com/users/255966/stef-heyenrath"}, "is_accepted": false, "score": 2, "last_activity_date": 1473750631, "creation_date": 1473750631, "answer_id": 39464127, "question_id": 36579283, "link": "https://stackoverflow.com/questions/36579283/create-concatenated-d-ts-with-webpack/39464127#39464127", "title": "Create concatenated .d.ts with webpack", "body": "<p>You could try <a href=\"https://www.npmjs.com/package/dts-bundle\" rel=\"nofollow\">https://www.npmjs.com/package/dts-bundle</a>, but this is experimental and it does not work well with <strong>awesome-typescript-loader</strong>.</p>\n"}], "owner": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 761, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1473750631, "creation_date": 1460479246, "last_edit_date": 1460479901, "question_id": 36579283, "link": "https://stackoverflow.com/questions/36579283/create-concatenated-d-ts-with-webpack", "title": "Create concatenated .d.ts with webpack", "body": "<p>I'd wish to build my TypeScript project (in Visual Studio) with the following automated steps:</p>\n\n<ol>\n<li>compile each <code>.ts</code> file as an AMD module, separately</li>\n<li>bundle each created <code>.js</code> file with webpack, into <code>release/my-app.js</code></li>\n</ol>\n\n<p>As part of step 1, <code>.d.ts</code> files are also created for each <code>.ts</code> file (in addition to the output Javascript files). How may I bundle these definition files together as well, so that they provide type definitions for what gets bundled into the <code>my-app.js</code> output file?</p>\n\n<hr>\n\n<p><strong>project layout</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>MyApp\n|-- lib\n|   |-- foo.ts\n|   |-- foo.js\n|   |-- foo.d.ts\n|   `-- ...\n|-- release\n|   `-- my-app.js\n|-- main.ts\n|-- main.js\n|-- main.d.ts\n`-- webpack.config.js\n</code></pre>\n\n<p><strong>webpack.config.js</strong></p>\n\n<pre><code>module.exports = {\n    context: __dirname,\n    entry: './main.js',\n    output: {\n        path: path.join(__dirname, 'release'),\n        filename: 'my-app.js'\n    }\n}\n</code></pre>\n"}, {"tags": ["node.js", "typescript"], "comments": [{"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1460478697, "post_id": 36578703, "comment_id": 60757246, "body": "Do you realize that node.js does not run TypeScript syntax files directly?  You have to transpile it to plain JS and then run that plain JS file with node.js.  Your first code example is legal ES6 code which is why node.js can run it."}, {"owner": {"reputation": 23968, "user_id": 442351, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/069558aeae416cb4a81cd65b90f987ec?s=128&d=identicon&r=PG", "display_name": "BanksySan", "link": "https://stackoverflow.com/users/442351/banksysan"}, "reply_to_user": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1460478802, "post_id": 36578703, "comment_id": 60757315, "body": "I assumed it was doing so &#39;under the hood&#39;.  Why is one file OK, and the other not though?  Both are runs directly with <code>node filename.ts</code>."}, {"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1460478854, "post_id": 36578703, "comment_id": 60757350, "body": "node.js has no &quot;under the hood&quot; transpile capabilities.  You have to do that yourself before giving the file to node.js.  Your first code example works because it&#39;s legal ES6 Javascript.  node.js has no built-in TypeScript support."}, {"owner": {"reputation": 23968, "user_id": 442351, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/069558aeae416cb4a81cd65b90f987ec?s=128&d=identicon&r=PG", "display_name": "BanksySan", "link": "https://stackoverflow.com/users/442351/banksysan"}, "reply_to_user": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1460478914, "post_id": 36578703, "comment_id": 60757394, "body": "That would explain it then."}, {"owner": {"reputation": 5050, "user_id": 3696076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NkvJM.png?s=128&g=1", "display_name": "chrisbajorin", "link": "https://stackoverflow.com/users/3696076/chrisbajorin"}, "edited": false, "score": 0, "creation_date": 1460484526, "post_id": 36578703, "comment_id": 60760809, "body": "If you&#39;d like to directly run <code>.ts</code> files from the command line without transpiling, you can use <a href=\"https://github.com/TypeStrong/ts-node\" rel=\"nofollow noreferrer\">ts-node</a>"}, {"owner": {"reputation": 23968, "user_id": 442351, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/069558aeae416cb4a81cd65b90f987ec?s=128&d=identicon&r=PG", "display_name": "BanksySan", "link": "https://stackoverflow.com/users/442351/banksysan"}, "reply_to_user": {"reputation": 5050, "user_id": 3696076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NkvJM.png?s=128&g=1", "display_name": "chrisbajorin", "link": "https://stackoverflow.com/users/3696076/chrisbajorin"}, "edited": false, "score": 0, "creation_date": 1460484929, "post_id": 36578703, "comment_id": 60761036, "body": "Thanks @cdbajorin, I&#39;ve heard of that.  I&#39;ll give it a go."}], "answers": [{"tags": [], "owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "is_accepted": true, "score": 1, "last_activity_date": 1460478987, "creation_date": 1460478987, "answer_id": 36579213, "question_id": 36578703, "link": "https://stackoverflow.com/questions/36578703/node-js-not-running-typescript-file/36579213#36579213", "title": "Node JS not running TypeScript file", "body": "<p>Making my comments into an answer.</p>\n\n<p>node.js has no built-in support for TypeScript and no built-in support for automatically transpiling TypeScript into plain Javascript.  As such, you have to transpile your TypeScript files first before running them in node.js.</p>\n\n<p>Your first code example works because it is legal ES6 Javascript syntax and thus node.js can just run it directly.</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 9553459, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Stadler", "link": "https://stackoverflow.com/users/9553459/stadler"}, "is_accepted": false, "score": 0, "last_activity_date": 1552492132, "last_edit_date": 1552492132, "creation_date": 1552491695, "answer_id": 55145857, "question_id": 36578703, "link": "https://stackoverflow.com/questions/36578703/node-js-not-running-typescript-file/55145857#55145857", "title": "Node JS not running TypeScript file", "body": "<p>I've had the same problem using both VS Code and WebStorm.\nThanks to <a href=\"https://stackoverflow.com/users/3696076/cdbajorin\">cdbjorin</a> I was able to make it work by changing one line in the Package.json file:</p>\n\n<pre><code>...\n\"name\": \"myProject\",\n\"version\": \"0.0.0\",\n\"private\": true,\n\"scripts\": {\n  \"start\": \"node ./myScript.ts\"// &lt;--\n},\n...\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>\"start\": \"ts-node ./myscript.ts\"\n</code></pre>\n\n<p>Or in this case simply use <code>ts-node myScript.ts</code> to run it;</p>\n\n<p>Hope this helps</p>\n"}], "owner": {"reputation": 23968, "user_id": 442351, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/069558aeae416cb4a81cd65b90f987ec?s=128&d=identicon&r=PG", "display_name": "BanksySan", "link": "https://stackoverflow.com/users/442351/banksysan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 689, "favorite_count": 0, "accepted_answer_id": 36579213, "answer_count": 2, "score": 0, "last_activity_date": 1552492132, "creation_date": 1460477445, "question_id": 36578703, "link": "https://stackoverflow.com/questions/36578703/node-js-not-running-typescript-file", "title": "Node JS not running TypeScript file", "body": "<p>Node is able to run the following without errors (<code>node hello-world.ts</code>):</p>\n\n<pre><code>var f = () =&gt; {\n    console.log('Hello World!');\n};\n\nf();\n</code></pre>\n\n<p>However, when I try this file:</p>\n\n<pre><code>interface Accountable {\n    getIncome() : number;\n}\n</code></pre>\n\n<p>I get get the following exception:</p>\n\n<pre><code>interface Accountable {\n          ^^^^^^^^^^^\n\nSyntaxError: Unexpected identifier\n    at exports.runInThisContext (vm.js:53:16)\n    at Module._compile (module.js:414:25)\n    at Object.Module._extensions..js (module.js:442:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:311:12)\n    at Function.Module.runMain (module.js:467:10)\n    at startup (node.js:136:18)\n    at node.js:963:3\n</code></pre>\n\n<p>I've tried adding <code>--target ES5</code> and <code>ES2015</code> to the TSC settings page, but no effect.</p>\n"}, {"tags": ["typescript", "webpack", "chart.js"], "comments": [{"owner": {"reputation": 8878, "user_id": 41403, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/476b1c3cf22e774b835403adc9af6a59?s=128&d=identicon&r=PG", "display_name": "Quango", "link": "https://stackoverflow.com/users/41403/quango"}, "edited": false, "score": 0, "creation_date": 1460476260, "post_id": 36577943, "comment_id": 60755472, "body": "require usually requires a <i>module name</i>, not a <i>filename</i> - the module name might be <code>chart</code> but it depends on how your code is configured. Try <code>import Chart = require(&quot;chart&quot;);</code>"}, {"owner": {"reputation": 11683, "user_id": 741981, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3m6Na.png?s=128&g=1", "display_name": "kbtz", "link": "https://stackoverflow.com/users/741981/kbtz"}, "edited": false, "score": 0, "creation_date": 1460476322, "post_id": 36577943, "comment_id": 60755527, "body": "Also you&#39;d better to write your definitions on a <code>d.ts</code> file"}, {"owner": {"reputation": 310, "user_id": 2411988, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/sdY7l.jpg?s=128&g=1", "display_name": "Keith W.", "link": "https://stackoverflow.com/users/2411988/keith-w"}, "edited": false, "score": 0, "creation_date": 1460476529, "post_id": 36577943, "comment_id": 60755694, "body": "I&#39;v used <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped\" rel=\"nofollow noreferrer\">github.com/DefinitelyTyped/DefinitelyTyped</a> for definitions. And I have used <code>require(&#39;chart&#39;)</code> as well but no luck."}, {"owner": {"reputation": 11683, "user_id": 741981, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3m6Na.png?s=128&g=1", "display_name": "kbtz", "link": "https://stackoverflow.com/users/741981/kbtz"}, "edited": false, "score": 0, "creation_date": 1460476675, "post_id": 36577943, "comment_id": 60755825, "body": "<a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/chartjs/chart.d.ts\" rel=\"nofollow noreferrer\">github.com/DefinitelyTyped/DefinitelyTyped/blob/master/chart&zwnj;&#8203;js/&hellip;</a>"}, {"owner": {"reputation": 23968, "user_id": 442351, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/069558aeae416cb4a81cd65b90f987ec?s=128&d=identicon&r=PG", "display_name": "BanksySan", "link": "https://stackoverflow.com/users/442351/banksysan"}, "edited": false, "score": 0, "creation_date": 1460477821, "post_id": 36577943, "comment_id": 60756667, "body": "Try <code>import Chart = require( &quot;.&#47;chart&quot; );</code> instead"}, {"owner": {"reputation": 5287, "user_id": 186836, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d7c19b05522666e2a10a903c3bee56ac?s=128&d=identicon&r=PG", "display_name": "thitemple", "link": "https://stackoverflow.com/users/186836/thitemple"}, "edited": false, "score": 0, "creation_date": 1460478667, "post_id": 36577943, "comment_id": 60757224, "body": "you don&#39;t need to add the files section in your tsconfig.json file, infact you should only do that if your adding all of your ts files in that section."}, {"owner": {"reputation": 310, "user_id": 2411988, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/sdY7l.jpg?s=128&g=1", "display_name": "Keith W.", "link": "https://stackoverflow.com/users/2411988/keith-w"}, "reply_to_user": {"reputation": 23968, "user_id": 442351, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/069558aeae416cb4a81cd65b90f987ec?s=128&d=identicon&r=PG", "display_name": "BanksySan", "link": "https://stackoverflow.com/users/442351/banksysan"}, "edited": false, "score": 0, "creation_date": 1460479856, "post_id": 36577943, "comment_id": 60758001, "body": "@BanksySan that didnt work either."}, {"owner": {"reputation": 11683, "user_id": 741981, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3m6Na.png?s=128&g=1", "display_name": "kbtz", "link": "https://stackoverflow.com/users/741981/kbtz"}, "edited": false, "score": 0, "creation_date": 1461012788, "post_id": 36577943, "comment_id": 60996050, "body": "@KeithW. I&#39;ve read your question more carefully and updated the answer"}], "answers": [{"comments": [{"owner": {"reputation": 310, "user_id": 2411988, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/sdY7l.jpg?s=128&g=1", "display_name": "Keith W.", "link": "https://stackoverflow.com/users/2411988/keith-w"}, "edited": false, "score": 0, "creation_date": 1460477527, "post_id": 36578492, "comment_id": 60756466, "body": "Iv attached a screenshot of the folder structure. Does that help? ChartJS is inside <code>node_modules</code> folder"}, {"owner": {"reputation": 11683, "user_id": 741981, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3m6Na.png?s=128&g=1", "display_name": "kbtz", "link": "https://stackoverflow.com/users/741981/kbtz"}, "reply_to_user": {"reputation": 310, "user_id": 2411988, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/sdY7l.jpg?s=128&g=1", "display_name": "Keith W.", "link": "https://stackoverflow.com/users/2411988/keith-w"}, "edited": false, "score": 0, "creation_date": 1460477648, "post_id": 36578492, "comment_id": 60756543, "body": "@KeithW. Yes, thanks. Add your <code>tsconfig.json</code> as well please"}, {"owner": {"reputation": 310, "user_id": 2411988, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/sdY7l.jpg?s=128&g=1", "display_name": "Keith W.", "link": "https://stackoverflow.com/users/2411988/keith-w"}, "edited": false, "score": 0, "creation_date": 1460478672, "post_id": 36578492, "comment_id": 60757226, "body": "Added tsconfig and screenshot of tsd.d.ts"}, {"owner": {"reputation": 310, "user_id": 2411988, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/sdY7l.jpg?s=128&g=1", "display_name": "Keith W.", "link": "https://stackoverflow.com/users/2411988/keith-w"}, "edited": false, "score": 0, "creation_date": 1461265175, "post_id": 36578492, "comment_id": 61132875, "body": "I did make the tsconfig file changes and the webpack file changes. but its still saying it cant find the &quot;Chart&quot; module. Please look at the &quot;Important&quot; section on my OP. I think thats the issue. Im not sure how to use it when attached to the global scope"}, {"owner": {"reputation": 310, "user_id": 2411988, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/sdY7l.jpg?s=128&g=1", "display_name": "Keith W.", "link": "https://stackoverflow.com/users/2411988/keith-w"}, "edited": false, "score": 0, "creation_date": 1461337051, "post_id": 36578492, "comment_id": 61168488, "body": "Now I get a runtime error saying Chart is not defined."}], "tags": [], "owner": {"reputation": 11683, "user_id": 741981, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3m6Na.png?s=128&g=1", "display_name": "kbtz", "link": "https://stackoverflow.com/users/741981/kbtz"}, "is_accepted": false, "score": 6, "last_activity_date": 1461278626, "last_edit_date": 1461278626, "creation_date": 1460476853, "answer_id": 36578492, "question_id": 36577943, "link": "https://stackoverflow.com/questions/36577943/cannot-find-module-chart-js/36578492#36578492", "title": "Cannot find module &#39;chart.js&#39;", "body": "<p>I believe there is two issues in your setup, the error you're getting is just the first one, after solving that you will need to setup webpack to recognize your dependencies from TypeScript source code.</p>\n\n<p>Considering you have the module and its typings properly installed...</p>\n\n<h3>1 - Get tsc to compile your chart test</h3>\n\n<p>First, in your <code>tsconfig.json</code> you should omit the \"files\" directive so the compiler reads all relevant files automatically(including the typings). Then just add an entry on \"exclude\" for each folder that doesn't need to be compiled (e.g \"node_modules\"). So your tsconfig.json should look something like this:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\"\n  },\n  \"exclude\": [\n    \"node_modules\"\n  ]\n}\n</code></pre>\n\n<p>As @vintem posted in the answer below, you don't need to <code>require()</code> chart.js as a module, its a package initially designed to be consumed from the browser in the old fashioned way, so it will automatically come into the global scope once the lib is loaded.</p>\n\n<h3>2 - Configuring webpack to work with tsc</h3>\n\n<p>Create a configuration file for your webpack build in the project root named <code>webpack.config.js</code> with something like this as content:</p>\n\n<pre><code>module.exports = {\n  entry: './app.ts',\n  output: {\n    filename: 'bundle.js'\n  },\n  resolve: {\n    // Add `.ts` and `.tsx` as a resolvable extension.\n    extensions: ['', '.webpack.js', '.web.js', '.ts', '.tsx', '.js']\n  },\n  module: {\n    loaders: [\n      // all files with a `.ts` or `.tsx` extension will be handled by `ts-loader`\n      { test: /\\.tsx?$/, loader: 'ts-loader' }\n    ]\n  }\n}\n</code></pre>\n\n<p>This makes webpack understand dependencies used in your TypeScript code using <a href=\"https://github.com/TypeStrong/ts-loader\" rel=\"noreferrer\">ts-loader</a>, you can install it with:</p>\n\n<p><code>npm install ts-loader --save-dev</code></p>\n\n<p>If your prefer, you can make those configurations <a href=\"https://webpack.github.io/docs/usage-with-gulp.html#without-webpack-stream\" rel=\"noreferrer\">directly in your gulp file</a>.</p>\n\n<hr>\n\n<h3>UPDATE 1</h3>\n\n<p>When you use from global scope, well... you just use it, like in the @vintem's answer below. However you need to remove your attempt of writing the definition by yourself and just make sure a <code>/// ref</code> to the downloaded chart definitions is on the file <code>typings/tsd.d.ts</code>, otherwise you're overwriting/mixing those definitions and making a big mess... <code>tsc</code> you automatically look typings folder and find everything for you.</p>\n\n<p>If you're receiving an error like \"cannot find Chart <strong>module</strong>\" it probably means you're still trying to import that module somewhere in your code. You need to try to use it directly with <code>new Chart(...)</code> and maybe receive an error like \"cannot find Chart <strong>class</strong>\", but then is a whole different history.</p>\n\n<hr>\n\n<p>Good luck and please give a try in the above procedures and tell me if you have any progress.</p>\n"}, {"tags": [], "owner": {"reputation": 5287, "user_id": 186836, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d7c19b05522666e2a10a903c3bee56ac?s=128&d=identicon&r=PG", "display_name": "thitemple", "link": "https://stackoverflow.com/users/186836/thitemple"}, "is_accepted": true, "score": 1, "last_activity_date": 1460478526, "creation_date": 1460478526, "answer_id": 36579060, "question_id": 36577943, "link": "https://stackoverflow.com/questions/36577943/cannot-find-module-chart-js/36579060#36579060", "title": "Cannot find module &#39;chart.js&#39;", "body": "<p>With the way the typings were defined for chartjs, you don't need to import it. It is in the global space, so you can just use it like this:</p>\n\n<pre><code>let myChart = new Chart(new CanvasRenderingContext2D());\n</code></pre>\n\n<p>Of course, you still need to add a reference to chartjs in your page, so that it is available globally.</p>\n"}, {"tags": [], "owner": {"reputation": 189, "user_id": 5467492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TB7jT.jpg?s=128&g=1", "display_name": "Thomas Verhoeven", "link": "https://stackoverflow.com/users/5467492/thomas-verhoeven"}, "is_accepted": false, "score": -1, "last_activity_date": 1530525742, "creation_date": 1530525742, "answer_id": 51133596, "question_id": 36577943, "link": "https://stackoverflow.com/questions/36577943/cannot-find-module-chart-js/51133596#51133596", "title": "Cannot find module &#39;chart.js&#39;", "body": "<p>So after you do the <code>npm install chart.js --save</code></p>\n\n<p>Just do this in your javascript file</p>\n\n<pre><code>import Chart from 'chart.js'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3298, "user_id": 8928024, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/75f4b1f5d87975964979ce2718af1ae9?s=128&d=identicon&r=PG&f=1", "display_name": "ZF007", "link": "https://stackoverflow.com/users/8928024/zf007"}, "edited": false, "score": 1, "creation_date": 1545596938, "post_id": 53906763, "comment_id": 94658370, "body": "This answer was already given by user Thomas Verhoeven. Remove answer because it adds nothing."}, {"owner": {"reputation": 3298, "user_id": 8928024, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/75f4b1f5d87975964979ce2718af1ae9?s=128&d=identicon&r=PG&f=1", "display_name": "ZF007", "link": "https://stackoverflow.com/users/8928024/zf007"}, "edited": false, "score": 0, "creation_date": 1545911209, "post_id": 53906763, "comment_id": 94727713, "body": "This answer was already given by user Thomas Verhoeven. Remove answer because it adds nothing."}], "tags": [], "owner": {"reputation": 11, "user_id": 8839585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d603d070488fc1701cc2a0f99814339e?s=128&d=identicon&r=PG&f=1", "display_name": "Gigi Gigi", "link": "https://stackoverflow.com/users/8839585/gigi-gigi"}, "is_accepted": false, "score": 0, "last_activity_date": 1545595428, "last_edit_date": 1545595428, "creation_date": 1545595118, "answer_id": 53906763, "question_id": 36577943, "link": "https://stackoverflow.com/questions/36577943/cannot-find-module-chart-js/53906763#53906763", "title": "Cannot find module &#39;chart.js&#39;", "body": "<p>I had the same issue and my problem was that I run:</p>\n\n<pre><code>npm install chart.js --save \n</code></pre>\n\n<p>in a different file (not the one with the ionic project).\nThis might be useful for other people having the same issue.</p>\n"}, {"tags": [], "owner": {"reputation": 2372, "user_id": 7245145, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/njfat.png?s=128&g=1", "display_name": "Steffi Keran Rani J", "link": "https://stackoverflow.com/users/7245145/steffi-keran-rani-j"}, "is_accepted": false, "score": 0, "last_activity_date": 1616570508, "creation_date": 1616570508, "answer_id": 66776351, "question_id": 36577943, "link": "https://stackoverflow.com/questions/36577943/cannot-find-module-chart-js/66776351#66776351", "title": "Cannot find module &#39;chart.js&#39;", "body": "<p>For me, this error came because of a missed dependency <code>@types/chart.js</code>.\nIf this is the case for you too, add the dependency by running either:</p>\n<pre><code>npm i -D @types/chart.js\n</code></pre>\n<p>or</p>\n<pre><code>yarn add -D @types/chart.js\n</code></pre>\n<p>This solved the error for me!</p>\n"}], "owner": {"reputation": 310, "user_id": 2411988, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/sdY7l.jpg?s=128&g=1", "display_name": "Keith W.", "link": "https://stackoverflow.com/users/2411988/keith-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15783, "favorite_count": 1, "accepted_answer_id": 36579060, "answer_count": 5, "score": 3, "last_activity_date": 1616570508, "creation_date": 1460475382, "last_edit_date": 1465573318, "question_id": 36577943, "link": "https://stackoverflow.com/questions/36577943/cannot-find-module-chart-js", "title": "Cannot find module &#39;chart.js&#39;", "body": "<p>I have a webapp thats running webpack, typescript and gulp. I want to use chart.js library and I have installed the chart.js npm package. I tried to define chart.js on one of the JS files and I am getting this: <code>error TS2307: Cannot find module 'chart.js'</code></p>\n\n<p>My JS file looks like this:</p>\n\n<pre><code>import Chart = require( \"chart.js\" );\n</code></pre>\n\n<p>tsconfig:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"module\": \"commonjs\"\n  },\n  \"files\": [\n    \"typings/tsd.d.ts\"\n  ]\n}\n</code></pre>\n\n<p><strong>IMPORTANT:</strong>\nNoticed that chart.js definitions file doesnt have a proper module declaration. The left is accounting JS library which clearly defines the module and it works. Im guessing this is the issue. How do I use the declared variable or import it into another JS file?\n<a href=\"https://i.stack.imgur.com/Csjbc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Csjbc.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "ecmascript-6", "destructuring"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1497698104, "post_id": 36577568, "comment_id": 76195074, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/q/34904523/1048572\">ES6 object destructuring and changing target variable</a>"}], "answers": [{"comments": [{"owner": {"reputation": 561, "user_id": 1641852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mbu9t.jpg?s=128&g=1", "display_name": "keano", "link": "https://stackoverflow.com/users/1641852/keano"}, "edited": false, "score": 0, "creation_date": 1460475770, "post_id": 36577803, "comment_id": 60755054, "body": "Great! thanks, didn&#39;t realise you could change the property name like that. Although it does state that in the typescript docs, so should have checked there first! My bad.. <a href=\"https://www.typescriptlang.org/docs/handbook/variable-declarations.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/variable-declarations.html</a>"}, {"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "reply_to_user": {"reputation": 561, "user_id": 1641852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mbu9t.jpg?s=128&g=1", "display_name": "keano", "link": "https://stackoverflow.com/users/1641852/keano"}, "edited": false, "score": 1, "creation_date": 1460475922, "post_id": 36577803, "comment_id": 60755190, "body": "@keano the <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\" rel=\"nofollow noreferrer\">documentation at mdm</a> is pretty good too. At least in the future someone will be able to find it easily here."}], "tags": [], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "is_accepted": true, "score": 31, "last_activity_date": 1460475048, "creation_date": 1460475048, "answer_id": 36577803, "question_id": 36577568, "link": "https://stackoverflow.com/questions/36577568/object-destructuring-with-property-names-that-are-not-valid-variable-names/36577803#36577803", "title": "Object destructuring with property names that are not valid variable names", "body": "<p>You can assign it a valid variable name using this syntax:</p>\n\n<pre><code>var {\"my name\": myName, age} = obj2; \n\n// use myName here\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 561, "user_id": 1641852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mbu9t.jpg?s=128&g=1", "display_name": "keano", "link": "https://stackoverflow.com/users/1641852/keano"}, "edited": false, "score": 0, "creation_date": 1460488414, "post_id": 36578101, "comment_id": 60763044, "body": "I&#39;ve used the &#39;as&#39; keyword for importing modules I thought there was some sort of similar syntax when destructuring objects... thanks for the explanation though :)"}, {"owner": {"reputation": 2868, "user_id": 2554788, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0fbaa696710100a0f934686b90fdb5e9?s=128&d=identicon&r=PG", "display_name": "Ifedi Okonkwo", "link": "https://stackoverflow.com/users/2554788/ifedi-okonkwo"}, "edited": false, "score": 0, "creation_date": 1481787815, "post_id": 36578101, "comment_id": 69518783, "body": "Interesting, never knew this! Pity there&#39;s no way to dynamically destructure an object, similar to PHP&#39;s <code>extract()</code>, or is there?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 2868, "user_id": 2554788, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0fbaa696710100a0f934686b90fdb5e9?s=128&d=identicon&r=PG", "display_name": "Ifedi Okonkwo", "link": "https://stackoverflow.com/users/2554788/ifedi-okonkwo"}, "edited": false, "score": 0, "creation_date": 1481789430, "post_id": 36578101, "comment_id": 69519589, "body": "@IfediOkonkwo Dynamic variable names are a pita. And actually JS <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/with\" rel=\"nofollow noreferrer\">has them</a> - but you really don&#39;t want to use this. Better use computed property names and destructure into known variables."}], "tags": [], "owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "is_accepted": false, "score": 7, "last_activity_date": 1460475825, "creation_date": 1460475825, "answer_id": 36578101, "question_id": 36577568, "link": "https://stackoverflow.com/questions/36577568/object-destructuring-with-property-names-that-are-not-valid-variable-names/36578101#36578101", "title": "Object destructuring with property names that are not valid variable names", "body": "<blockquote>\n  <p>When I have an object with spaces in the property name can I use object destructuring or not?</p>\n</blockquote>\n\n<p>Yes, you can use destructuring, but you can always only assign to identifiers (variable names). As those don't allow spaces, you cannot use the shorthand syntax where property name and identifier are the same.</p>\n\n<blockquote>\n  <p>It would be nice if I could assign the variable with some sort of syntax like 'as':</p>\n\n<pre><code>var {'my name' as name, age} = obj2;\n</code></pre>\n</blockquote>\n\n<p><code>as</code> is for module imports/exports. For normal objects - both literals and destructuring - you use the colon <code>:</code>:</p>\n\n<pre><code>var {'my name': name, age} = obj2;\n</code></pre>\n"}], "owner": {"reputation": 561, "user_id": 1641852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mbu9t.jpg?s=128&g=1", "display_name": "keano", "link": "https://stackoverflow.com/users/1641852/keano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3449, "favorite_count": 4, "accepted_answer_id": 36577803, "answer_count": 2, "score": 24, "last_activity_date": 1481818575, "creation_date": 1460474518, "last_edit_date": 1481818575, "question_id": 36577568, "link": "https://stackoverflow.com/questions/36577568/object-destructuring-with-property-names-that-are-not-valid-variable-names", "title": "Object destructuring with property names that are not valid variable names", "body": "<p>Does anyone know if you can use object destructuring with spaces in the property name? Maybe this cannot be done and I realize the JavaScript notation is incorrect but I cannot change the server json response.</p>\n\n<pre><code>var obj1 = {name: 'Mr Smith', age: 21};\n//destructure\nvar {name, age} = obj1;\n//name='Mr Smith' and age=21\n</code></pre>\n\n<p>This works as expected. </p>\n\n<p>But when I have the following object structure can I use object destructuring or not?</p>\n\n<pre><code>var obj2 = {\"my name\": \"Mr Jones\", age: 22};\nvar {'my name', age} = obj2; \n</code></pre>\n\n<p>If this is not possible It would be nice if I could assign the variable with some sort of syntax like 'as'... </p>\n\n<pre><code>var {'my name' as name, age} = obj2; //name='Mr Jones';\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 1191, "user_id": 6161714, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SlNxU.jpg?s=128&g=1", "display_name": "Alex Logan", "link": "https://stackoverflow.com/users/6161714/alex-logan"}, "edited": false, "score": 0, "creation_date": 1460474884, "post_id": 36577564, "comment_id": 60754279, "body": "Is it because the JS version is compiling to ES2015, whereas TypeScript is compiling down to ES5?"}, {"owner": {"reputation": 7024, "user_id": 644786, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/7c42772bd5489a3a042da03dda171047?s=128&d=identicon&r=PG", "display_name": "atmd", "link": "https://stackoverflow.com/users/644786/atmd"}, "edited": false, "score": 0, "creation_date": 1460475281, "post_id": 36577564, "comment_id": 60754625, "body": "no, the Class in the standard js is part of the angular core lib, not the es2015 Class. if you are interested in the perf of the transpilled code take a look at <a href=\"https://benchmarkjs.com/\" rel=\"nofollow noreferrer\">benchmarkjs.com</a>"}], "answers": [{"tags": [], "owner": {"reputation": 10473, "user_id": 1023216, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UEzVe.jpg?s=128&g=1", "display_name": "Tyler", "link": "https://stackoverflow.com/users/1023216/tyler"}, "is_accepted": true, "score": 2, "last_activity_date": 1460479557, "creation_date": 1460479557, "answer_id": 36579376, "question_id": 36577564, "link": "https://stackoverflow.com/questions/36577564/angular2-typescript-performance/36579376#36579376", "title": "angular2 TypeScript performance", "body": "<p>TypeScript is not really designed for extreme readability post-compilation, and machine-compiled code will always be harder to read than well-written-by-a-human code (until AI takes our jobs).  So to answer your questions:</p>\n\n<ol>\n<li><p>I'm unaware of any performance tests that show major speed benefits or drawbacks either way.  These days slight differences in JS syntax are not likely to be a bottleneck anyhow.  Inefficient algorithms, constant repaints, slow network, etc are much more noticeable.</p></li>\n<li><p>The Angular team does seem to be pushing hard for TypeScript.  TBD if that will catch on, but they have the resources to push for as long as they want.</p></li>\n<li><p>Not particularly.  The main benefit of TypeScript is that you can't be all willy-nilly with your data types like in regular JS.  In theory, this leads to maintainable code with fewer errors that are easier to debug.  Ultimately it will come down to your preferred methods of debugging, but error messages are not more cryptic with TypeScript.</p></li>\n</ol>\n"}], "owner": {"reputation": 4688, "user_id": 1794925, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d93645aa27646106a37b3cd64f77b9ae?s=128&d=identicon&r=PG", "display_name": "Shawn", "link": "https://stackoverflow.com/users/1794925/shawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 484, "favorite_count": 0, "accepted_answer_id": 36579376, "answer_count": 1, "score": 3, "last_activity_date": 1494962794, "creation_date": 1460474507, "last_edit_date": 1494962794, "question_id": 36577564, "link": "https://stackoverflow.com/questions/36577564/angular2-typescript-performance", "title": "angular2 TypeScript performance", "body": "<p>I am new to Angular, JavaScript, and TypeScript and am playing with Angular2 tutorial at <a href=\"https://angular.io/docs/js/latest/quickstart.html\" rel=\"nofollow\">https://angular.io/docs/js/latest/quickstart.html</a></p>\n\n<p>The TypeScript compiled app.component.js</p>\n\n<pre><code>System.register(['angular2/core'], function(exports_1, context_1) {\n    \"use strict\";\n    var __moduleName = context_1 &amp;&amp; context_1.id;\n    var __decorate = (this &amp;&amp; this.__decorate) || function (decorators, target, key, desc) {\n        var c = arguments.length, r = c &lt; 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n        if (typeof Reflect === \"object\" &amp;&amp; typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n        else for (var i = decorators.length - 1; i &gt;= 0; i--) if (d = decorators[i]) r = (c &lt; 3 ? d(r) : c &gt; 3 ? d(target, key, r) : d(target, key)) || r;\n        return c &gt; 3 &amp;&amp; r &amp;&amp; Object.defineProperty(target, key, r), r;\n    };\n    var __metadata = (this &amp;&amp; this.__metadata) || function (k, v) {\n        if (typeof Reflect === \"object\" &amp;&amp; typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n    };\n    var core_1;\n    var AppComponent;\n    return {\n        setters:[\n            function (core_1_1) {\n                core_1 = core_1_1;\n            }],\n        execute: function() {\n            AppComponent = (function () {\n                function AppComponent() {\n                }\n                AppComponent = __decorate([\n                    core_1.Component({\n                        selector: 'my-app',\n                        template: '&lt;h1&gt;My First Angular 2 App&lt;/h1&gt;'\n                    }), \n                    __metadata('design:paramtypes', [])\n                ], AppComponent);\n                return AppComponent;\n            }());\n            exports_1(\"AppComponent\", AppComponent);\n        }\n    }\n});\n</code></pre>\n\n<p>The JavaScript example app.component.js</p>\n\n<pre><code>(function(app) {\n  app.AppComponent =\n    ng.core.Component({\n      selector: 'my-app',\n      template: '&lt;h1&gt;My First Angular 2 App&lt;/h1&gt;'\n    })\n    .Class({\n      constructor: function() {}\n    });\n})(window.app || (window.app = {}));\n</code></pre>\n\n<p>To me the JavaScript version of Angular2 is much shorter and easier to understand. The compiled one by TypeScript is a bit hard to swallow, like core_1_1 passed in as parameter but I don't see where I can pass it in.</p>\n\n<p>So my questions are as follows</p>\n\n<ol>\n<li><p>Will TypeScript version runs slower than the JavaScript version, since usually the more abstraction layers the slower?</p></li>\n<li><p>Is TypeScript the recommended way to go in the future since the tutorial in JavaScript is not even available other than quick start?</p></li>\n<li><p>If I use TypeScript for coding Angular to modules do I have to care much compiled JavaScript code other than error/debugging purpose?</p></li>\n</ol>\n\n<p>Thanks, </p>\n"}, {"tags": ["meteor", "typescript", "angular", "angular2-meteor"], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 2192924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/014b18789690b3cd5007f10da18ced53?s=128&d=identicon&r=PG", "display_name": "Sergeant-Q", "link": "https://stackoverflow.com/users/2192924/sergeant-q"}, "is_accepted": true, "score": 1, "last_activity_date": 1462573183, "creation_date": 1462573183, "answer_id": 37082229, "question_id": 36577233, "link": "https://stackoverflow.com/questions/36577233/meteor-with-angular-2-how-to-use-node-libraries-like-fs-and-others/37082229#37082229", "title": "Meteor with Angular 2 - how to use node libraries like fs and others?", "body": "<p>I'm assuming you are using Meteor version <strong>1.3</strong>? If so, please take a look at <a href=\"http://guide.meteor.com/using-npm-packages.html\" rel=\"nofollow\">this</a> section of the Meteor guide. Meteor 1.3 uses ES2015 module syntax with the <code>import</code> and <code>export</code> keywords. You can learn more about this syntax <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import\" rel=\"nofollow\">here</a>.</p>\n\n<p>In your case, you should be able to import and use the <strong>fs</strong> npm package in your Meteor apps as so:</p>\n\n<pre><code>import fs from 'fs'\n</code></pre>\n\n<p>Then that variable is available for you to use through that file. </p>\n\n<p>Of course, this is assuming you've first installed and saved the npm package to your project via <code>meteor npm install &lt;package-name&gt; --save</code></p>\n\n<p>I am not sure if you have used it before but <a href=\"http://www.angular-meteor.com/tutorials/socially/angular2/bootstrapping\" rel=\"nofollow\">this</a> Angular2-Meteor tutorial should come handy as well.</p>\n"}], "owner": {"reputation": 5113, "user_id": 3753499, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/SnLGR.jpg?s=128&g=1", "display_name": "Marco Jr", "link": "https://stackoverflow.com/users/3753499/marco-jr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 563, "favorite_count": 0, "accepted_answer_id": 37082229, "answer_count": 1, "score": 1, "last_activity_date": 1462573183, "creation_date": 1460473622, "question_id": 36577233, "link": "https://stackoverflow.com/questions/36577233/meteor-with-angular-2-how-to-use-node-libraries-like-fs-and-others", "title": "Meteor with Angular 2 - how to use node libraries like fs and others?", "body": "<p>all !</p>\n\n<p>Basic question : In many previous app, I'm used to do in this way:</p>\n\n<pre><code>const fs = require('fs');\n</code></pre>\n\n<p>this does not work as well...</p>\n\n<pre><code>var fs = Npm.require('fs');\n</code></pre>\n\n<p>Now...using angular 2 with meteor and typescript I've no clue how to produce the same line of code.</p>\n\n<p>Any solution ? Actually I just need to load a json file from my File System, but in the future I will need to use many others libs like S3 (amazon) and others.</p>\n\n<p>ty !</p>\n"}, {"tags": ["typescript", "angular", "ionic2", "pipes-filters"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1460471857, "post_id": 36576463, "comment_id": 60751763, "body": "Did you try to print <code>clients</code> and <code>client.name</code> to see when they are <code>null</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 4591, "user_id": 216624, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e2a7faa24adaad20d2638f9053df1152?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/216624/dave"}, "edited": false, "score": 0, "creation_date": 1460472061, "post_id": 36576509, "comment_id": 60751937, "body": "You again! Thanks for your response.  It seems my collection is undefined:  Cannot read property &#39;filter&#39; of undefined.  It&#39;s worth noting that the list is an http observable call."}, {"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "reply_to_user": {"reputation": 4591, "user_id": 216624, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e2a7faa24adaad20d2638f9053df1152?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/216624/dave"}, "edited": false, "score": 0, "creation_date": 1460472125, "post_id": 36576509, "comment_id": 60751981, "body": "Oh! So you need to add the async pipe before: <code>&lt;ion-card *ngFor=&quot;#item of (items | async | clientNameFilter:query)&quot;&gt;</code> and check that the clients parameter isn&#39;t null. If it&#39;s not the case, return null directly..."}, {"owner": {"reputation": 4591, "user_id": 216624, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e2a7faa24adaad20d2638f9053df1152?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/216624/dave"}, "edited": false, "score": 0, "creation_date": 1460472599, "post_id": 36576509, "comment_id": 60752388, "body": "hmmm, that just caused the list never to display.  Wrapping the template with:   &lt;div *ngIf=&quot;items &amp;&amp; items.length &gt; 0&quot;&gt;....&lt;/div&gt; seems to work though.  That seem ok?"}, {"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "reply_to_user": {"reputation": 4591, "user_id": 216624, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e2a7faa24adaad20d2638f9053df1152?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/216624/dave"}, "edited": false, "score": 0, "creation_date": 1460472794, "post_id": 36576509, "comment_id": 60752577, "body": "You mean <code>items</code> is an observable? If not remove <code>async</code> but keep the test on null..."}], "tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": true, "score": 1, "last_activity_date": 1460471883, "creation_date": 1460471883, "answer_id": 36576509, "question_id": 36576463, "link": "https://stackoverflow.com/questions/36576463/ionic-2-pipe-to-filter-async-list-by-name-property/36576509#36576509", "title": "Ionic 2: Pipe to filter async list by name property", "body": "<p>The parameters aren't in the right order and the second parameter must be an array:</p>\n\n<pre><code>@Pipe({\n  name: 'clientNameFilter'\n})\nexport class ClientNameFilterPipe  implements PipeTransform {\n  transform(clients: Client[], params: string[]) {\n    let query = params[0];\n    return clients.filter(client =&gt; \n        client.name.toLowerCase().indexOf(query) &gt; -1\n    );\n  }\n}\n</code></pre>\n\n<p>The first parameter is the value / list you want the pipe to be applied on and the second one your parameter(s).</p>\n\n<p>See this doc for more details:</p>\n\n<ul>\n<li><a href=\"https://angular.io/docs/ts/latest/api/core/PipeTransform-interface.html\" rel=\"nofollow\">https://angular.io/docs/ts/latest/api/core/PipeTransform-interface.html</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 2328, "user_id": 234318, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/469f88e0c2d6e73916b567f389987301?s=128&d=identicon&r=PG", "display_name": "coderberry", "link": "https://stackoverflow.com/users/234318/coderberry"}, "is_accepted": false, "score": 0, "last_activity_date": 1478895975, "creation_date": 1478895975, "answer_id": 40555666, "question_id": 36576463, "link": "https://stackoverflow.com/questions/36576463/ionic-2-pipe-to-filter-async-list-by-name-property/40555666#40555666", "title": "Ionic 2: Pipe to filter async list by name property", "body": "<p>Here's my working version (for contacts):</p>\n\n<pre><code>import { PipeTransform, Pipe } from '@angular/core';\n\n@Pipe({\n  name: 'contactNameFilter'\n})\nexport class ContactNameFilterPipe implements PipeTransform {\n  transform(contacts: Array&lt;any&gt;, searchTerm: string) : Array&lt;any&gt; {\n    if (contacts == null) {\n      return [];\n    }\n    if (searchTerm == null) {\n      return contacts;\n    }\n    return contacts.filter( contact =&gt; {\n      return `${contact.firstName} ${contact.lastName}`.toLowerCase().indexOf(searchTerm) &gt; -1;\n    });\n  }\n}\n</code></pre>\n\n<p>and usage:</p>\n\n<pre><code>&lt;ion-item *ngFor=\"let contact of (contacts | async | contactNameFilter:searchTerm)\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 4591, "user_id": 216624, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e2a7faa24adaad20d2638f9053df1152?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/216624/dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5936, "favorite_count": 0, "accepted_answer_id": 36576509, "answer_count": 2, "score": 0, "last_activity_date": 1478895975, "creation_date": 1460471765, "question_id": 36576463, "link": "https://stackoverflow.com/questions/36576463/ionic-2-pipe-to-filter-async-list-by-name-property", "title": "Ionic 2: Pipe to filter async list by name property", "body": "<p><strong>Q) What is wrong with my syntax/code below?</strong></p>\n\n<p>I want to filter my list of items by the name property.  I've tried with the code below, but am getting the error:</p>\n\n<p><em>Cannot read property 'toLowerCase' of undefined</em></p>\n\n<p><strong>Note</strong>: query is defined as an empty string on page load i.e.</p>\n\n<pre><code>var query = \"\";\n</code></pre>\n\n<p>My template:</p>\n\n<pre><code>  &lt;ion-card *ngFor=\"#item of (items | clientNameFilter:query)\"&gt;\n    &lt;img [src]=\"getItemImage(item)\" (click)=\"editItem(item)\"/&gt;\n    &lt;ion-card-content (click)=\"editItem(item)\"&gt;\n      &lt;h2 class=\"card-title\"&gt;{{item.name}}&lt;/h2&gt;\n      &lt;p&gt;{{item.address.name}}&lt;/p&gt;\n      &lt;p&gt;{{item.address.addressLine1}}&lt;/p&gt;\n      &lt;p&gt;{{item.address.town}}&lt;/p&gt;\n      &lt;p&gt;{{item.address.postcode}}&lt;/p&gt;\n    &lt;/ion-card-content&gt;\n  &lt;/ion-card&gt;\n</code></pre>\n\n<p>My filter:</p>\n\n<pre><code>import {Pipe, PipeTransform} from 'angular2/core';\nimport {Client} from '../interfaces/client';\n\n@Pipe({\n  name: 'clientNameFilter',\n  pure: false\n})\nexport class ClientNameFilterPipe  implements PipeTransform {\n  transform(query: string, clients: Client[]) {\n    return clients.filter(client =&gt; \n        client.name.toLowerCase().indexOf(query) &gt; -1\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["visual-studio", "typescript", "ionic-framework", "angular", "ionic2"], "comments": [{"owner": {"reputation": 5287, "user_id": 186836, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d7c19b05522666e2a10a903c3bee56ac?s=128&d=identicon&r=PG", "display_name": "thitemple", "link": "https://stackoverflow.com/users/186836/thitemple"}, "edited": false, "score": 0, "creation_date": 1460476510, "post_id": 36576376, "comment_id": 60755677, "body": "Do you have a tsconfig.json file?"}, {"owner": {"reputation": 1470, "user_id": 406100, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KuIOg.jpg?s=128&g=1", "display_name": "Jordan Matthiesen", "link": "https://stackoverflow.com/users/406100/jordan-matthiesen"}, "edited": false, "score": 0, "creation_date": 1460490404, "post_id": 36576376, "comment_id": 60764253, "body": "Just confirming - you&#39;re seeing these errors inside of a <code>.js</code> file, instead of a <code>.ts</code> file, correct?"}, {"owner": {"reputation": 3914, "user_id": 4482057, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cQnUj.jpg?s=128&g=1", "display_name": "Will.Harris", "link": "https://stackoverflow.com/users/4482057/will-harris"}, "edited": false, "score": 0, "creation_date": 1460536477, "post_id": 36576376, "comment_id": 60782859, "body": "The app doesn&#39;t have a tsconfig.json file and yes all of the errors are inside .js files. None of the default files are of type .ts. I used the following command to create the app <code>ionic start test-app --v2</code> which creates Ionic&#39;s default tabs style template"}, {"owner": {"reputation": 3914, "user_id": 4482057, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cQnUj.jpg?s=128&g=1", "display_name": "Will.Harris", "link": "https://stackoverflow.com/users/4482057/will-harris"}, "edited": false, "score": 0, "creation_date": 1460536608, "post_id": 36576376, "comment_id": 60782962, "body": "I&#39;ve realised I can create Ionic 2 apps with a TypeScript template by using the following command <code>ionic start test-app --v2 --ts</code> and this method provides me with .ts files and a tsconfig.json so I no longer get the errors. I think this is now resolved thanks guys!"}], "answers": [{"tags": [], "owner": {"reputation": 3914, "user_id": 4482057, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cQnUj.jpg?s=128&g=1", "display_name": "Will.Harris", "link": "https://stackoverflow.com/users/4482057/will-harris"}, "is_accepted": true, "score": 1, "last_activity_date": 1464949972, "last_edit_date": 1464949972, "creation_date": 1460538514, "answer_id": 36593623, "question_id": 36576376, "link": "https://stackoverflow.com/questions/36576376/the-ionic-2-template-project-gives-me-syntax-errors-for-page-decorator-and-cons/36593623#36593623", "title": "The Ionic 2 template project gives me syntax errors for @Page decorator and constructor ()", "body": "<p><strong>This answer has been updated with (hopefully) a better explanation</strong></p>\n\n<p>After some online reading I've realised this is not a code breaking problem but more of an inconvenience as a developer seeing these errors on the screen.</p>\n\n<p><strong>Why does it happen?</strong></p>\n\n<p>Visual Studio (and possibly other IDE's) classes certain characters as invalid for .js files. Angular 2 and Ionic 2 reserve some of these characters (such as @) for special purposes, for example using <code>@Page</code> will tell Ionic to create a new navigation component so that it can be used with <code>NavController</code>.</p>\n\n<p><strong>Solution</strong></p>\n\n<p>Ionic give you the choice to create an application in JavaScript or TypeScript. If you prefer to use JavaScript you will just have to put up with these visual errors because the application will still run and work as expected (as far as I'm aware).</p>\n\n<p>Or</p>\n\n<p>You can use TypeScript. TypeScript will accept these characters which means these errors are no more. The only downside is you will need to learn TypeScript, but this becomes a good thing IMO. To create a TypeScript project just add <code>--ts</code> at the end of the CLI command, for example <code>ionic start testApp --v2 --ts</code> </p>\n\n<p>I'll leave this here in case anybody else experiences a similar problem and may find this information useful.</p>\n"}], "owner": {"reputation": 3914, "user_id": 4482057, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cQnUj.jpg?s=128&g=1", "display_name": "Will.Harris", "link": "https://stackoverflow.com/users/4482057/will-harris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 647, "favorite_count": 0, "accepted_answer_id": 36593623, "answer_count": 1, "score": 1, "last_activity_date": 1464949972, "creation_date": 1460471558, "last_edit_date": 1464088615, "question_id": 36576376, "link": "https://stackoverflow.com/questions/36576376/the-ionic-2-template-project-gives-me-syntax-errors-for-page-decorator-and-cons", "title": "The Ionic 2 template project gives me syntax errors for @Page decorator and constructor ()", "body": "<p>I have created an Ionic 2 beta app and when I open it in Visual Studio (VS) 2015 I get syntax errors inside all of the .js files for the <code>@Page</code> decorator and the <code>contructor () { }</code>. Being new to Ionic 2 I'm unsure if the error is related to TypeScript, Ionic, Angular, or VS just being a pain.</p>\n\n<p>Here's an example screenshot of the tabs.js file...</p>\n\n<p><a href=\"https://i.stack.imgur.com/Kzii2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kzii2.png\" alt=\"enter image description here\"></a></p>\n\n<p>Could anybody explain why I get these syntax errors and what I can do to resolve them?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 4162, "user_id": 463464, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e5660b1d210c0b122cf24b6780fc2665?s=128&d=identicon&r=PG", "display_name": "Randall Flagg", "link": "https://stackoverflow.com/users/463464/randall-flagg"}, "edited": false, "score": 1, "creation_date": 1460470968, "post_id": 36576005, "comment_id": 60751018, "body": "The one who down voted can at least explain why?"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1460471254, "post_id": 36576005, "comment_id": 60751269, "body": "what exactly are you asking here?"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 1, "creation_date": 1460472300, "post_id": 36576005, "comment_id": 60752126, "body": "still not clear. what&#39;s up with using <code>new</code>? what are you trying to achieve? also, what&#39;s <code>doSomething</code>? as it&#39;s not in the code at all. It will be best if you explain exactly what you want, because I&#39;m not about to read that tutorial you linked to"}, {"owner": {"reputation": 4162, "user_id": 463464, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e5660b1d210c0b122cf24b6780fc2665?s=128&d=identicon&r=PG", "display_name": "Randall Flagg", "link": "https://stackoverflow.com/users/463464/randall-flagg"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1460473901, "post_id": 36576005, "comment_id": 60753498, "body": "@NitzanTomer Updated the question"}], "answers": [{"comments": [{"owner": {"reputation": 4162, "user_id": 463464, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e5660b1d210c0b122cf24b6780fc2665?s=128&d=identicon&r=PG", "display_name": "Randall Flagg", "link": "https://stackoverflow.com/users/463464/randall-flagg"}, "edited": false, "score": 0, "creation_date": 1460474078, "post_id": 36576689, "comment_id": 60753650, "body": "Thanks. I updated the question to reflect better what I want. Also, can I do this using class or something else that is more suitable for typescript?"}, {"owner": {"reputation": 2212, "user_id": 207247, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/217a141e34d151a86d92beaa666ef442?s=128&d=identicon&r=PG", "display_name": "MrHen", "link": "https://stackoverflow.com/users/207247/mrhen"}, "reply_to_user": {"reputation": 4162, "user_id": 463464, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e5660b1d210c0b122cf24b6780fc2665?s=128&d=identicon&r=PG", "display_name": "Randall Flagg", "link": "https://stackoverflow.com/users/463464/randall-flagg"}, "edited": false, "score": 0, "creation_date": 1460474354, "post_id": 36576689, "comment_id": 60753861, "body": "I updated my answer with a more detailed example. If you really need both <code>A(id)</code> and <code>new A(id)</code> patterns it gets more tricky. I chose to only keep the <code>new A(id)</code> pattern."}, {"owner": {"reputation": 4162, "user_id": 463464, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e5660b1d210c0b122cf24b6780fc2665?s=128&d=identicon&r=PG", "display_name": "Randall Flagg", "link": "https://stackoverflow.com/users/463464/randall-flagg"}, "edited": false, "score": 0, "creation_date": 1460475979, "post_id": 36576689, "comment_id": 60755240, "body": "I need both. I want the JS users not to get an exception just because they didn&#39;t do &#39;new&#39;. How is that possible? Can you show an example?"}, {"owner": {"reputation": 5050, "user_id": 3696076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NkvJM.png?s=128&g=1", "display_name": "chrisbajorin", "link": "https://stackoverflow.com/users/3696076/chrisbajorin"}, "reply_to_user": {"reputation": 4162, "user_id": 463464, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e5660b1d210c0b122cf24b6780fc2665?s=128&d=identicon&r=PG", "display_name": "Randall Flagg", "link": "https://stackoverflow.com/users/463464/randall-flagg"}, "edited": false, "score": 1, "creation_date": 1460481617, "post_id": 36576689, "comment_id": 60759028, "body": "@RandallFlagg <code>class</code> in es6 is always run in strict mode, so it will throw an error without <code>new</code>. From my opinionated perspective: If you&#39;re making a brand new library, plan it around es6. Your consumers will have to learn it anyway. Don&#39;t hack the language just to let your consumers write incorrect code."}, {"owner": {"reputation": 4162, "user_id": 463464, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e5660b1d210c0b122cf24b6780fc2665?s=128&d=identicon&r=PG", "display_name": "Randall Flagg", "link": "https://stackoverflow.com/users/463464/randall-flagg"}, "edited": false, "score": 0, "creation_date": 1460633980, "post_id": 36576689, "comment_id": 60839741, "body": "@MrHen Thanks for your help. That is basically what I wanted."}], "tags": [], "owner": {"reputation": 2212, "user_id": 207247, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/217a141e34d151a86d92beaa666ef442?s=128&d=identicon&r=PG", "display_name": "MrHen", "link": "https://stackoverflow.com/users/207247/mrhen"}, "is_accepted": true, "score": 2, "last_activity_date": 1460474280, "last_edit_date": 1460474280, "creation_date": 1460472278, "answer_id": 36576689, "question_id": 36576005, "link": "https://stackoverflow.com/questions/36576005/creating-my-own-typescript-library/36576689#36576689", "title": "Creating (my own) TypeScript Library", "body": "<p>TypeScript is trying to reconcile the multiple purposes of <code>A()</code> and doesn't have enough information to figure out what you want it to look like.</p>\n\n<p><a href=\"http://www.typescriptlang.org/play/index.html#src=function%20A(id)%3A%20void%20%7B%0D%0A%09if%20(window%20%3D%3D%3D%20this)%20%7B%0D%0A%09%09return%20new%20A(id)%3B%2F%2F%3C-Error%20in%20typescript%0D%0A%09%7D%0D%0A%0D%0A%09this.e%20%3D%20document.getElementById(id)%3B%0D%0A%09return%20this%3B%0D%0A%7D%3B%0D%0A%0D%0Alet%20result%20%3D%20A(%22test%22)%3B%0D%0Aresult%20%3D%20new%20A(%22test%22).doSomething()%3B%0D%0A\" rel=\"nofollow\">This works</a>:</p>\n\n<pre><code>function A(id): void {\n    if (window === this) {\n        return new A(id);//&lt;-Error in typescript\n    }\n\n    this.e = document.getElementById(id);\n    return this;\n};\n\nlet result = A(\"test\");\nresult = new A(\"test\").doSomething();\n</code></pre>\n\n<p>But adding the version return block is confusing the compiler because <code>A</code> is now acting like two totally different things.</p>\n\n<p>If you want to force the compiler to ignore the complaint you can do this:</p>\n\n<pre><code>function A(id): void {\n    var about = {\n        Version: \"0.0.0.1\",\n    };\n\n    if (id) {\n        if (window === this) {\n            return new A(id);//&lt;-Error in typescript\n        }\n\n        this.e = document.getElementById(id);\n        return this;\n    } else {\n        return &lt;any&gt;about;\n    }\n};\n\nlet result = A(\"test\");\nresult = new A(\"test\").doSomething();\n</code></pre>\n\n<p>But I don't recommend it. What you are trying to do is part of what TypeScript is trying to protect against. I don't know of a way to make the typings on this one \"just work\".</p>\n\n<hr>\n\n<p>Edit: In response to your comment, I recommend something more like this:</p>\n\n<pre><code>class A {\n    public static about = {\n        Version: \"0.0.0.1\"\n    };\n\n    private e: HTMLElement;\n\n    constructor(id) {\n        this.e = document.getElementById(id);\n    }\n\n    public doSomething() {\n        //Some logic\n        return this;\n    }\n}\n\nlet result = new A(\"test\");\nresult.doSomething();\n\nlet about = A.about;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4162, "user_id": 463464, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e5660b1d210c0b122cf24b6780fc2665?s=128&d=identicon&r=PG", "display_name": "Randall Flagg", "link": "https://stackoverflow.com/users/463464/randall-flagg"}, "is_accepted": false, "score": 0, "last_activity_date": 1460634216, "creation_date": 1460634216, "answer_id": 36622053, "question_id": 36576005, "link": "https://stackoverflow.com/questions/36576005/creating-my-own-typescript-library/36622053#36622053", "title": "Creating (my own) TypeScript Library", "body": "<p>This is the final code I came up with thanks to MrHen help:</p>\n\n<pre><code>class A {\n    public element;\n    public test;\n    public doSomething;\n\n    constructor(id) {\n        if (id) {\n            if (window === this as any) {\n                return new A(id);//&lt;-Error in typescript\n            }\n\n            this.element = document.getElementById(id);\n            this.test = function () {\n                console.log(\"testing\"); return this;\n            };\n            this.doSomething = function () {\n                console.log(\"doing something\"); return this;\n            };\n\n            return this;\n        }\n    }\n}\n\nlet result = ((A as any)(\"test\") as A).doSomething();\nresult = new A(\"test\").doSomething();\n</code></pre>\n"}], "owner": {"reputation": 4162, "user_id": 463464, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e5660b1d210c0b122cf24b6780fc2665?s=128&d=identicon&r=PG", "display_name": "Randall Flagg", "link": "https://stackoverflow.com/users/463464/randall-flagg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 589, "favorite_count": 0, "accepted_answer_id": 36576689, "answer_count": 2, "score": 0, "last_activity_date": 1460634216, "creation_date": 1460470683, "last_edit_date": 1460477115, "question_id": 36576005, "link": "https://stackoverflow.com/questions/36576005/creating-my-own-typescript-library", "title": "Creating (my own) TypeScript Library", "body": "<p>Following the tutorial on <a href=\"http://www.mikedoesweb.com/2012/creating-your-own-javascript-library/\" rel=\"nofollow\">this page</a>\nI have the following JavaScript:  </p>\n\n<pre><code>function A(id) {\n    var about = {\n        Version: \"0.0.0.1\",\n    };\n\n    if (id) {\n        if (window === this) {\n            return new A(id);//&lt;-Error in typescript\n        }\n\n        this.e = document.getElementById(id);\n        return this;\n    } else {\n        return about;\n    }\n};\n\nA.prototype = {\n    doSomething: function () {\n        //Some logic\n        return this;\n    }\n}\n</code></pre>\n\n<p>JavaScript Usage:</p>\n\n<pre><code>var result = A(\"test\");//The type of result should be 'A'\nresult = new A(\"test\");//The type of result should be 'A'\nresult = A(\"test\").doSomething();//The type of result should be 'A'\nresult = new A(\"test\").doSomething();//The type of result should be 'A'\n</code></pre>\n\n<p>I want to create a library based on TypeScript that has the same usage. How can that be done?</p>\n\n<p>If I try to just put this in a '.ts' file and compile I get an error saying: Error TS2350: Only a void function can be called with the 'new' keyword.</p>\n\n<p>Also I am not sure how the usage with and without the 'new' keyword can be achieved as I am trying to make a library in typescript that can be used in javascript and not to make the user have to use the 'new' keyword.</p>\n\n<p><strong>P.S.</strong><br>\nI know I can create a javascript file with a '.d.ts' file but that is not the purpose.</p>\n"}, {"tags": ["typescript", "angular", "components"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1460466584, "post_id": 36574251, "comment_id": 60747238, "body": "I don&#39;t get it. What is a &quot;selector element&quot;?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 2, "creation_date": 1460466792, "post_id": 36574251, "comment_id": 60747429, "body": "I also can&#39;t see an component selector. No idea at all what this question is about."}, {"owner": {"reputation": 3492, "user_id": 4983589, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/610eb31d22385e4687f5f50636ed904e?s=128&d=identicon&r=PG&f=1", "display_name": "Sireini", "link": "https://stackoverflow.com/users/4983589/sireini"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1460470550, "post_id": 36574251, "comment_id": 60750671, "body": "@G&#252;nterZ&#246;chbauer lol i understand why you had no idea it was the wrong code -.-&#39;&#39;"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1460470645, "post_id": 36574251, "comment_id": 60750742, "body": "It&#39;s still quite vague what this question is about. You can&#39;t use <code>*ngIf</code> in <code>index.html</code>."}, {"owner": {"reputation": 3492, "user_id": 4983589, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/610eb31d22385e4687f5f50636ed904e?s=128&d=identicon&r=PG&f=1", "display_name": "Sireini", "link": "https://stackoverflow.com/users/4983589/sireini"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1460471302, "post_id": 36574251, "comment_id": 60751306, "body": "The <code>*ngIf</code> is in a component where i want to re use the template. I am trying to create a plunkr to show you, but it is not working..."}, {"owner": {"reputation": 5726, "user_id": 5969411, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e12d84a1f74d9acd8afab1d679aca89?s=128&d=identicon&r=PG", "display_name": "ManoDestra", "link": "https://stackoverflow.com/users/5969411/manodestra"}, "edited": false, "score": 0, "creation_date": 1460647256, "post_id": 36574251, "comment_id": 60850756, "body": "Just post all the necessary code to replicate your problem here, as part of your question."}, {"owner": {"reputation": 3492, "user_id": 4983589, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/610eb31d22385e4687f5f50636ed904e?s=128&d=identicon&r=PG&f=1", "display_name": "Sireini", "link": "https://stackoverflow.com/users/4983589/sireini"}, "reply_to_user": {"reputation": 5726, "user_id": 5969411, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e12d84a1f74d9acd8afab1d679aca89?s=128&d=identicon&r=PG", "display_name": "ManoDestra", "link": "https://stackoverflow.com/users/5969411/manodestra"}, "edited": false, "score": 0, "creation_date": 1460704989, "post_id": 36574251, "comment_id": 60875625, "body": "@ManoDestra this creates a better view also my question: <a href=\"http://stackoverflow.com/questions/36617468/angular-2-unexpected-directive-value-undefined/36623575?noredirect=1#comment60844576_36623575\" title=\"angular 2 unexpected directive value undefined\">stackoverflow.com/questions/36617468/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3492, "user_id": 4983589, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/610eb31d22385e4687f5f50636ed904e?s=128&d=identicon&r=PG&f=1", "display_name": "Sireini", "link": "https://stackoverflow.com/users/4983589/sireini"}, "edited": false, "score": 0, "creation_date": 1460472418, "post_id": 36576587, "comment_id": 60752222, "body": "I&#39;ll get this : <code>Unexpected directive value &#39;undefined&#39; on the View of component &#39;ExpressionComponent&#39;</code>"}, {"owner": {"reputation": 3492, "user_id": 4983589, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/610eb31d22385e4687f5f50636ed904e?s=128&d=identicon&r=PG&f=1", "display_name": "Sireini", "link": "https://stackoverflow.com/users/4983589/sireini"}, "edited": false, "score": 0, "creation_date": 1460475027, "post_id": 36576587, "comment_id": 60754398, "body": "i&#39;ll edit my question as you can see, what is wrong?"}], "tags": [], "owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "is_accepted": false, "score": 0, "last_activity_date": 1460472062, "creation_date": 1460472062, "answer_id": 36576587, "question_id": 36574251, "link": "https://stackoverflow.com/questions/36574251/angular-2-reuse-component-selector/36576587#36576587", "title": "Angular 2 Reuse component selector", "body": "<p>In whatever <code>component</code> you set this:</p>\n\n<pre><code>&lt;!-- Expression Set selector --&gt;\n &lt;div *ngIf=\"prototype?.valueType === 'Set'\"&gt;\n     &lt;expression-builder&gt;&lt;/expression-builder&gt;\n &lt;/div&gt;\n</code></pre>\n\n<p>You have to add the class name of <code>expression-builder</code> to the <code>directives</code> attribute of the <code>@Component()</code> to let angular2 know what kind of directives/components you are using in your template.</p>\n\n<p>For instance if the classname of the <code>expression-builder</code> is <code>ExpressionBuilderComponent</code> and the classname of the parent component is <code>ExpressionSetComponent</code> you'll get something like this:</p>\n\n<p><strong>expression.set.component.ts</strong></p>\n\n<pre><code>@Component({\n  selector : 'expression-set',\n  template : `\n     &lt;div *ngIf=\"prototype?.valueType === 'Set'\"&gt;\n         &lt;expression-builder&gt;&lt;/expression-builder&gt;\n     &lt;/div&gt;\n  `,\n  directives : [\n    ExpressionBuilderComponent //&lt;-- this is kinda important\n  ]\n})\nexport class ExpressionSetComponent {\n\n}\n</code></pre>\n"}], "owner": {"reputation": 3492, "user_id": 4983589, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/610eb31d22385e4687f5f50636ed904e?s=128&d=identicon&r=PG&f=1", "display_name": "Sireini", "link": "https://stackoverflow.com/users/4983589/sireini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 639, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1460473231, "creation_date": 1460466412, "last_edit_date": 1460473231, "question_id": 36574251, "link": "https://stackoverflow.com/questions/36574251/angular-2-reuse-component-selector", "title": "Angular 2 Reuse component selector", "body": "<p>I want to re-use an component selector which looks like this:</p>\n\n<pre><code>@Component({\nselector: 'expression-builder',\ntemplate: `\n    &lt;div class=\"container\"&gt;\n       &lt;expression *ngFor=\"#expression of expressions\" [prototypes]=\"prototypes\" [expression]=\"expression\" [expressions]=\"expressions\"&gt;&lt;/expression&gt;\n       &lt;a class=\"btn btn-primary\" (click)=\"addExpression()\"&gt;&lt;i class=\"glyphicon glyphicon-plus\"&gt;&lt;/i&gt;&lt;/a&gt;\n    &lt;/div&gt;\n`,\n})\n</code></pre>\n\n<p>But if I set it like this in an other component it will not show anything:</p>\n\n<pre><code>@Component({\nselector: 'expression',\ntemplate: `\n&lt;div class=\"row\"&gt;\n&lt;!-- First Select --&gt;\n    &lt;div class=\"col-xs-3\"&gt;\n        &lt;select class=\"form-control\" [(ngModel)]=\"selectedPrototypeSelector\" (ngModelChange)=\"onPrototypeChange()\"&gt;\n            &lt;option *ngFor=\"#p of prototypes\" [value]=\"p.selector\"&gt;\n                {{ p.selectorName }}\n            &lt;/option&gt;\n        &lt;/select&gt;\n    &lt;/div&gt;\n\n&lt;!-- Second Select --&gt;\n    &lt;div [ngClass]=\"{'col-xs-3': prototype?.valueType !== 'Set', 'col-xs-2': prototype?.valueType === 'Set'}\" *ngIf=\"prototype\"&gt;\n        &lt;select class=\"form-control\" [(ngModel)]=\"expression.constraint\"&gt;\n            &lt;option *ngFor=\"#constraint of prototype.constraints\" [value]=\"constraint\"&gt;\n                {{ constraint }}\n            &lt;/option&gt;\n        &lt;/select&gt;\n    &lt;/div&gt;\n\n&lt;!-- Third Select --&gt;\n    &lt;div [ngClass]=\"{'col-xs-3': prototype?.valueType !== 'Set', 'col-xs-2': prototype?.valueType === 'Set'}\"&gt;\n\n       &lt;div&gt;{{expression | json}}&lt;/div&gt;\n   &lt;/div&gt;\n    &lt;div class=\"col-xs-1\"&gt;\n        &lt;a class=\"btn btn-danger pull-right\" (click)=\"deleteExpression()\"&gt;&lt;i class=\"glyphicon glyphicon-remove\"&gt;&lt;/i&gt;&lt;/a&gt;\n    &lt;/div&gt;\n\n    &lt;!-- Expression Set selector --&gt;\n    &lt;div *ngIf=\"prototype?.valueType === 'Set'\"&gt;\n       &lt;expression-builder&gt;&lt;/expression-builder&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n`,\ndirectives: [ExpressionBuilderComponent]\n})\n</code></pre>\n\n<p>If i set it here i well get the following error: </p>\n\n<pre><code>Unexpected directive value 'undefined'\n</code></pre>\n\n<p>I want to re-use the template when in my case <code>valueType = Set</code> </p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 19421, "user_id": 3795501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaeec79535337d9a96f63f2d6ef3e49d?s=128&d=identicon&r=PG", "display_name": "Luka Jacobowitz", "link": "https://stackoverflow.com/users/3795501/luka-jacobowitz"}, "edited": false, "score": 1, "creation_date": 1460461409, "post_id": 36572253, "comment_id": 60742958, "body": "Can&#39;t you just specify typescript 1.7 in your npm dependencies in the package.json?"}, {"owner": {"reputation": 35732, "user_id": 107783, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c4a45b6251a361ee85ac1d3c2bcb2d62?s=128&d=identicon&r=PG", "display_name": "Luke Puplett", "link": "https://stackoverflow.com/users/107783/luke-puplett"}, "reply_to_user": {"reputation": 19421, "user_id": 3795501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaeec79535337d9a96f63f2d6ef3e49d?s=128&d=identicon&r=PG", "display_name": "Luka Jacobowitz", "link": "https://stackoverflow.com/users/3795501/luka-jacobowitz"}, "edited": false, "score": 0, "creation_date": 1460462062, "post_id": 36572253, "comment_id": 60743456, "body": "I&#39;m not sure. I get a compiler error when VS builds the solution, I don&#39;t think npm is involved. We have grunt and npm for building the front end when we want to deploy but its called manually, or by our CI server. VS doesn&#39;t invoke npm, its not MVC vNext (ASP.NET Core whatever)."}, {"owner": {"reputation": 19421, "user_id": 3795501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaeec79535337d9a96f63f2d6ef3e49d?s=128&d=identicon&r=PG", "display_name": "Luka Jacobowitz", "link": "https://stackoverflow.com/users/3795501/luka-jacobowitz"}, "edited": false, "score": 0, "creation_date": 1460462645, "post_id": 36572253, "comment_id": 60743914, "body": "You could make a package.json, then specify the typescript version and then use <code>npm install</code> from the command line. Then you can run <code>tsc</code> and it will compile with your given version."}], "owner": {"reputation": 35732, "user_id": 107783, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c4a45b6251a361ee85ac1d3c2bcb2d62?s=128&d=identicon&r=PG", "display_name": "Luke Puplett", "link": "https://stackoverflow.com/users/107783/luke-puplett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1460461244, "creation_date": 1460461244, "question_id": 36572253, "link": "https://stackoverflow.com/questions/36572253/can-i-force-an-older-version-of-typescript-on-a-fresh-dev-pc-build", "title": "Can I force an older version of TypeScript on a fresh dev PC build?", "body": "<p>I've built a new dev PC. It has the latest Visual Studio and all that comes with it but my team are behind and there's a breaking change in TypeScript. The team won't update until we've shipped a certain release, just.. uff, don't even..</p>\n\n<p>I need to install TS 1.7 and force it to use that. On GitHub there's the source code in ZIPs for older versions but... is that of much use? Can I compile that into something and install it or put it somewhere and point something at it?</p>\n\n<p>Nightmare.</p>\n\n<p>Luke</p>\n"}, {"tags": ["javascript", "typescript", "angular"], "comments": [{"owner": {"reputation": 15500, "user_id": 3125880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3e27beedab625639f716f543323d926?s=128&d=identicon&r=PG&f=1", "display_name": "Abdulrahman Alsoghayer", "link": "https://stackoverflow.com/users/3125880/abdulrahman-alsoghayer"}, "edited": false, "score": 0, "creation_date": 1460461483, "post_id": 36572077, "comment_id": 60743022, "body": "<code>ngModel</code> doesn&#39;t <code>set&#47;get</code> the <code>metadata</code> object itself. But the <code>languages[0]</code> item."}, {"owner": {"reputation": 25, "user_id": 5856111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9befa9befccb380c59d2b660f9baace5?s=128&d=identicon&r=PG&f=1", "display_name": "Chakijs Terz\u0113t\u0101js", "link": "https://stackoverflow.com/users/5856111/chakijs-terz%c4%93t%c4%81js"}, "reply_to_user": {"reputation": 15500, "user_id": 3125880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3e27beedab625639f716f543323d926?s=128&d=identicon&r=PG&f=1", "display_name": "Abdulrahman Alsoghayer", "link": "https://stackoverflow.com/users/3125880/abdulrahman-alsoghayer"}, "edited": false, "score": 0, "creation_date": 1460462017, "post_id": 36572077, "comment_id": 60743418, "body": "@Abdulrahman true can&#39;t argue with that, but that is not the source of my confusion. How does it change only the currentItem or.. moreover how does the RestoreService provide that functionality?"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 5856111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9befa9befccb380c59d2b660f9baace5?s=128&d=identicon&r=PG&f=1", "display_name": "Chakijs Terz\u0113t\u0101js", "link": "https://stackoverflow.com/users/5856111/chakijs-terz%c4%93t%c4%81js"}, "edited": false, "score": 0, "creation_date": 1460542326, "post_id": 36572934, "comment_id": 60787242, "body": "I just tested it and you are right! This was the confusing part of it... &quot;using getter for setting stuff&quot;, but when I think of it, it makes perfect sense now.  Thanks again for explaining it!"}, {"owner": {"reputation": 15500, "user_id": 3125880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3e27beedab625639f716f543323d926?s=128&d=identicon&r=PG&f=1", "display_name": "Abdulrahman Alsoghayer", "link": "https://stackoverflow.com/users/3125880/abdulrahman-alsoghayer"}, "reply_to_user": {"reputation": 25, "user_id": 5856111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9befa9befccb380c59d2b660f9baace5?s=128&d=identicon&r=PG&f=1", "display_name": "Chakijs Terz\u0113t\u0101js", "link": "https://stackoverflow.com/users/5856111/chakijs-terz%c4%93t%c4%81js"}, "edited": false, "score": 0, "creation_date": 1460542474, "post_id": 36572934, "comment_id": 60787353, "body": "@ChakijsTerz\u0113t\u0101js You are very welcome. I am glad to be of help."}], "tags": [], "owner": {"reputation": 15500, "user_id": 3125880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3e27beedab625639f716f543323d926?s=128&d=identicon&r=PG&f=1", "display_name": "Abdulrahman Alsoghayer", "link": "https://stackoverflow.com/users/3125880/abdulrahman-alsoghayer"}, "is_accepted": true, "score": 1, "last_activity_date": 1460464992, "last_edit_date": 1495541387, "creation_date": 1460463229, "answer_id": 36572934, "question_id": 36572077, "link": "https://stackoverflow.com/questions/36572077/angular2-documentation-hierarchical-dependency-injectors-restore-service/36572934#36572934", "title": "Angular2 documentation - Hierarchical Dependency Injectors ( Restore Service )", "body": "<p>RestoreService: it has two functions <code>setter</code> and <code>getter</code>;</p>\n\n<p><strong><code>setItem (item: T)</code></strong>  sets <code>originalItem</code>, clones it and save the clone to <code>currentItem</code>.</p>\n\n<p><strong><code>getItem()</code></strong>  just returns <code>currentItem</code> (the cloned item)</p>\n\n<p>Now, <code>ngModel</code> gets the item <code>metadata</code> in order to get its property <code>languages</code>. So it will get <code>currentItem</code>. When <code>ngModel</code> sets a new property value, it doesn't need to <code>set metadata()</code>. it only need to set <code>languages</code> property inside <code>metadata</code>. So, it will get <code>metadata</code> again and sets the <code>languages</code> property.</p>\n\n<p><a href=\"http://plnkr.co/edit/heQfzru4a0xO90uPFlRy?p=preview\" rel=\"nofollow noreferrer\">Here is a plunker</a> hopefully it will help</p>\n\n<p><strong>Another way of explaining it:</strong></p>\n\n<pre><code>this.metadata = {language:['english']}; // you set metadata, effectively setting originalItem and cloning it to currentItem\n\nthis.metadata.languages = ['arabic'];  // you get metadata \"currentItem\", set its property languages. Never actually setting metadata itself\n</code></pre>\n\n<p><strong>Note on the <code>clone</code> function:</strong> the function <code>clone</code> in <code>RestoreService</code> is not cloning the object in a \"practical\" way. Because it uses JSON parser. See these question for more details and better cloning approaches: <a href=\"https://stackoverflow.com/questions/122102/what-is-the-most-efficient-way-to-clone-an-object\">122102</a>, <a href=\"https://stackoverflow.com/questions/728360/most-elegant-way-to-clone-a-javascript-object\">728360</a></p>\n"}], "owner": {"reputation": 25, "user_id": 5856111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9befa9befccb380c59d2b660f9baace5?s=128&d=identicon&r=PG&f=1", "display_name": "Chakijs Terz\u0113t\u0101js", "link": "https://stackoverflow.com/users/5856111/chakijs-terz%c4%93t%c4%81js"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 36572934, "answer_count": 1, "score": 1, "last_activity_date": 1460464992, "creation_date": 1460460790, "last_edit_date": 1460461062, "question_id": 36572077, "link": "https://stackoverflow.com/questions/36572077/angular2-documentation-hierarchical-dependency-injectors-restore-service", "title": "Angular2 documentation - Hierarchical Dependency Injectors ( Restore Service )", "body": "<p>This is beginners question..\nI have been reading Angular2 documentation, I came across example in \nHierarchical Dependency Injectors chapter where Restore service is used to\nmake save/cancel functionality available for editing.</p>\n\n<p>This is the service:</p>\n\n<pre><code>export class RestoreService&lt;T&gt; {\n   originalItem: T;\n   currentItem: T;\n setItem (item: T) {\n   this.originalItem = item;\n   this.currentItem = this.clone(item);\n }\n getItem () :T {\n   return this.currentItem;\n }\n restoreItem () :T {\n   this.currentItem = this.originalItem;\n   return this.getItem();\n }\n clone (item: T) :T {\n   return JSON.parse(JSON.stringify(item));\n }\n}\n</code></pre>\n\n<p>I was so excited about it so I tried it myself!\nFirst I'm setting the values like this:</p>\n\n<pre><code>ngAfterContentInit(){\n     this.metadata = {\n      languages: this.selected_languages,\n      countries: this.selected_countries,\n      international: false\n     }\n }\n set metadata(metadata: CvMetadata){\n      this._restoreService.setItem(metadata);\n }\n get metadata(): CvMetadata{\n    return this._restoreService.getItem();\n }\n</code></pre>\n\n<p>After that I'm changing <em>metadata</em> properties values with ngModel \nfor example:  <code>[(ngModel)]=\"metadata.languages[0]\"</code></p>\n\n<p><strong>The question:</strong><bR> For my sruprise When I update the <em>metadata</em> property value with ngModel it works - the currentItem has changed and the orginalItem has not! What I do not understand is how is that possible? I thought that ngModel would use setter for setting the <em>metadata</em> properties. But the setter is called only once when I set the original data. How does the ngModel know that it should change only the currentItem not he originalItem?\nIs this the black magic?</p>\n\n<p>I know.. I only need someone to explain this, but unfortunately or fortunately there are only you guys!</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["typescript", "intellisense", "strong-typing"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 6050022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bed89d979b29488012bbdb9fa3eab9a?s=128&d=identicon&r=PG&f=1", "display_name": "Jukka Varis", "link": "https://stackoverflow.com/users/6050022/jukka-varis"}, "edited": false, "score": 0, "creation_date": 1460462372, "post_id": 36572412, "comment_id": 60743694, "body": "You are still defining seed again in return value. How about, if there are 5 parameters and map will add 1 parameter. What a mess that would be."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 71, "user_id": 6050022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bed89d979b29488012bbdb9fa3eab9a?s=128&d=identicon&r=PG&f=1", "display_name": "Jukka Varis", "link": "https://stackoverflow.com/users/6050022/jukka-varis"}, "edited": false, "score": 0, "creation_date": 1460462547, "post_id": 36572412, "comment_id": 60743838, "body": "@JukkaVaris so use the first solution with the interfaces. There&#39;s no way (that I&#39;m aware of) to extend it otherwise"}, {"owner": {"reputation": 71, "user_id": 6050022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bed89d979b29488012bbdb9fa3eab9a?s=128&d=identicon&r=PG&f=1", "display_name": "Jukka Varis", "link": "https://stackoverflow.com/users/6050022/jukka-varis"}, "edited": false, "score": 0, "creation_date": 1460466135, "post_id": 36572412, "comment_id": 60746816, "body": "I&#39;m afraid of that. My actual use case is with RxJS and there chains can be pretty long. Interface graph would grow out of hand easily. I use anonymous types to decrease amount of code I need to write and I would like to see that compiler could infer types from usage."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 71, "user_id": 6050022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bed89d979b29488012bbdb9fa3eab9a?s=128&d=identicon&r=PG&f=1", "display_name": "Jukka Varis", "link": "https://stackoverflow.com/users/6050022/jukka-varis"}, "edited": false, "score": 0, "creation_date": 1460466501, "post_id": 36572412, "comment_id": 60747159, "body": "@JukkaVaris The whole point of typescript is to declare types, if you don&#39;t want to go through the hustle of doing that then just use javascript. Yes, it&#39;s way more verbose to define all of your types with interfaces but then you get the benefits."}, {"owner": {"reputation": 71, "user_id": 6050022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bed89d979b29488012bbdb9fa3eab9a?s=128&d=identicon&r=PG&f=1", "display_name": "Jukka Varis", "link": "https://stackoverflow.com/users/6050022/jukka-varis"}, "edited": false, "score": 0, "creation_date": 1460529202, "post_id": 36572412, "comment_id": 60778406, "body": "If you are using latest typescript, 1.8 at the moment, you don&#39;t need to explicitly declare all types. There is concept called contextual typing, which will infer types for function parameters. Therefore your second example is having lots of overhead compared to my original example."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 71, "user_id": 6050022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bed89d979b29488012bbdb9fa3eab9a?s=128&d=identicon&r=PG&f=1", "display_name": "Jukka Varis", "link": "https://stackoverflow.com/users/6050022/jukka-varis"}, "edited": false, "score": 0, "creation_date": 1460533597, "post_id": 36572412, "comment_id": 60780988, "body": "@JukkaVaris Well then, what&#39;s the problem?  if your original example is working well for you then what exactly are you asking?"}, {"owner": {"reputation": 71, "user_id": 6050022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bed89d979b29488012bbdb9fa3eab9a?s=128&d=identicon&r=PG&f=1", "display_name": "Jukka Varis", "link": "https://stackoverflow.com/users/6050022/jukka-varis"}, "edited": false, "score": 0, "creation_date": 1460535384, "post_id": 36572412, "comment_id": 60782132, "body": "My example is working by means of strong typing, but it introduces more code than I would like to write. It is simplified to have only 2 properties, but in real world there are usually more parameters. <code>[{a:1, b:2, c:3, d:4}].map(data =&gt; ({a:data.a, b: data.b, c: data.c, d: data.d, result: calculate(data) }).map(data =&gt; ({a: data.a, b: data.b, c: data.c: d: data.d, result: data.result, checksum: calculateChecksum(data)})</code>. Can you see the problem here? It would be easier to just somehow extend anonymous type. How many changes there would be to get one more property to be added to seed data?"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 71, "user_id": 6050022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bed89d979b29488012bbdb9fa3eab9a?s=128&d=identicon&r=PG&f=1", "display_name": "Jukka Varis", "link": "https://stackoverflow.com/users/6050022/jukka-varis"}, "edited": false, "score": 0, "creation_date": 1460548683, "post_id": 36572412, "comment_id": 60791995, "body": "Well, I think you&#39;re just thinking about this the wrong way.  Why do you want each step to extend the previous one? why not just encapsulating it? That will solve your &quot;problem&quot; and in my opinion it&#39;s a better and more robust design."}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": false, "score": 2, "last_activity_date": 1460461693, "creation_date": 1460461693, "answer_id": 36572412, "question_id": 36572053, "link": "https://stackoverflow.com/questions/36572053/how-to-extend-anonymous-type-in-typescript/36572412#36572412", "title": "How to extend anonymous type in Typescript", "body": "<p>How about:</p>\n\n<pre><code>interface A {\n    seed: number;\n}\n\ninterface B extends A {\n    square: number;\n}\n\nlet array: A[] = [{ seed: 2 }, { seed: 3 }];\narray\n    .map&lt;B&gt;(a =&gt; { \n        return { seed: a.seed, square: a.seed * a.seed } \n    })\n    .forEach(b =&gt; console.log(\"square for ${b.seed} is ${b.square}\"));\n</code></pre>\n\n<p>or (if you want to keep things anonymous):</p>\n\n<pre><code>let array = [{ seed: 2 }, { seed: 3 }];\narray\n    .map&lt;{seed: number, square: number}&gt;(a =&gt; {\n        return { seed: a.seed, square: a.seed * a.seed }\n    })\n    .forEach(b =&gt; console.log(\"square for ${b.seed} is ${b.square}\"));\n</code></pre>\n\n<p>(use it in <a href=\"https://www.typescriptlang.org/play/#src=interface%20A%20%7B%0D%0A%09seed%3A%20number%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20B%20extends%20A%20%7B%0D%0A%09square%3A%20number%3B%0D%0A%7D%0D%0A%0D%0Alet%20array%3A%20A%5B%5D%20%3D%20%5B%7B%20seed%3A%202%20%7D%2C%20%7B%20seed%3A%203%20%7D%5D%3B%0D%0Aarray%0D%0A%09.map%3CB%3E(a%20%3D%3E%20%7B%20%0D%0A%09%09return%20%7B%20seed%3A%20a.seed%2C%20square%3A%20a.seed%20*%20a.seed%20%7D%20%0D%0A%09%7D)%0D%0A%09.forEach(b%20%3D%3E%20console.log(%22square%20for%20%24%7Bb.seed%7D%20is%20%24%7Bb.square%7D%22))%3B%0D%0A%09%0D%0A%09%0D%0A%09%0D%0A%0D%0Alet%20array2%20%3D%20%5B%7B%20seed%3A%202%20%7D%2C%20%7B%20seed%3A%203%20%7D%5D%3B%0D%0Aarray2%0D%0A%09.map%3C%7Bseed%3A%20number%2C%20square%3A%20number%7D%3E(a%20%3D%3E%20%7B%0D%0A%09%09return%20%7B%20seed%3A%20a.seed%2C%20square%3A%20a.seed%20*%20a.seed%20%7D%0D%0A%09%7D)%0D%0A%09.forEach(b%20%3D%3E%20console.log(%22square%20for%20%24%7Bb.seed%7D%20is%20%24%7Bb.square%7D%22))%3B\" rel=\"nofollow\">playground</a>)</p>\n"}, {"comments": [{"owner": {"reputation": 1973, "user_id": 484050, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/75870a83d2863117631cd690335d473d?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/484050/mike"}, "edited": false, "score": 0, "creation_date": 1563967758, "post_id": 39895838, "comment_id": 100874578, "body": "Could you please share an example how to import and use core-js implementation? This will help folks like me who don&#39;t want to introduce own definition of extend() function to their project. Thanks!"}], "tags": [], "owner": {"reputation": 71, "user_id": 6050022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bed89d979b29488012bbdb9fa3eab9a?s=128&d=identicon&r=PG&f=1", "display_name": "Jukka Varis", "link": "https://stackoverflow.com/users/6050022/jukka-varis"}, "is_accepted": true, "score": 3, "last_activity_date": 1475756416, "creation_date": 1475756416, "answer_id": 39895838, "question_id": 36572053, "link": "https://stackoverflow.com/questions/36572053/how-to-extend-anonymous-type-in-typescript/39895838#39895838", "title": "How to extend anonymous type in Typescript", "body": "<p>I have finally found a solution. This can be achieved by <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow\">Intersection Types</a>. Those can be used with anonymous types and classes. In the example below, extend function will copy properties from each of objects and return an object of Intersection Type. This will reduce considerable amount of type definition code without losing intellisense and strong typing.</p>\n\n<pre><code>function extend&lt;T, U&gt;(first: T, second: U): T &amp; U {\n    let result = &lt;T &amp; U&gt;{};\n    for (let id in first) {\n        (&lt;any&gt;result)[id] = (&lt;any&gt;first)[id];\n    }\n    for (let id in second) {\n        if (!result.hasOwnProperty(id)) {\n            (&lt;any&gt;result)[id] = (&lt;any&gt;second)[id];\n        }\n    }\n    return result;\n}\n\nlet array = [{ seed: 2 }, { seed: 3 }];\n\narray\n    .map(i =&gt; extend(i, { square: i.seed * i.seed }))\n    .map(i =&gt; extend(i, { cube: i.square * i.seed }))\n    .forEach(i =&gt; console.log(`square for ${i.seed} is ${i.square} and cube is ${i.cube}`));\n</code></pre>\n\n<p>Same in <a href=\"https://www.typescriptlang.org/play/#src=function%20extend%3CT%2C%20U%3E(first%3A%20T%2C%20second%3A%20U)%3A%20T%20%26%20U%20%7B%0D%0A%20%20%20%20let%20result%20%3D%20%3CT%20%26%20U%3E%7B%7D%3B%0D%0A%20%20%20%20for%20(let%20id%20in%20first)%20%7B%0D%0A%20%20%20%20%20%20%20%20(%3Cany%3Eresult)%5Bid%5D%20%3D%20(%3Cany%3Efirst)%5Bid%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20for%20(let%20id%20in%20second)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(!result.hasOwnProperty(id))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20(%3Cany%3Eresult)%5Bid%5D%20%3D%20(%3Cany%3Esecond)%5Bid%5D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20result%3B%0D%0A%7D%0D%0A%0D%0Alet%20array%20%3D%20%5B%7B%20seed%3A%202%20%7D%2C%20%7B%20seed%3A%203%20%7D%5D%3B%0D%0A%0D%0Aarray%0D%0A%20%20%20%20.map(i%20%3D%3E%20extend(i%2C%20%7B%20square%3A%20i.seed%20*%20i.seed%20%7D))%0D%0A%20%20%20%20.map(i%20%3D%3E%20extend(i%2C%20%7B%20cube%3A%20i.square%20*%20i.seed%20%7D))%0D%0A%20%20%20%20.forEach(i%20%3D%3E%20console.log(%60square%20for%20%24%7Bi.seed%7D%20is%20%24%7Bi.square%7D%20and%20cube%20is%20%24%7Bi.cube%7D%60))%3B\" rel=\"nofollow\">Playground</a></p>\n\n<p>This is implemented f.e. in <a href=\"https://github.com/zloirock/core-js\" rel=\"nofollow\">core-js</a> and its <a href=\"https://raw.githubusercontent.com/DefinitelyTyped/DefinitelyTyped/be0ba281b67575b3b626a6bbb15b152add97244e/core-js/core-js.d.ts\" rel=\"nofollow\">type definitions</a> return Intersection Type:</p>\n\n<pre><code>assign&lt;T, U&gt;(target: T, source: U): T &amp; U;\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 6050022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bed89d979b29488012bbdb9fa3eab9a?s=128&d=identicon&r=PG&f=1", "display_name": "Jukka Varis", "link": "https://stackoverflow.com/users/6050022/jukka-varis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4762, "favorite_count": 0, "accepted_answer_id": 39895838, "answer_count": 2, "score": 2, "last_activity_date": 1475756416, "creation_date": 1460460724, "last_edit_date": 1460462126, "question_id": 36572053, "link": "https://stackoverflow.com/questions/36572053/how-to-extend-anonymous-type-in-typescript", "title": "How to extend anonymous type in Typescript", "body": "<p>When chaining functionality in <code>typescript</code> with anonymous types for example like this:</p>\n\n<pre><code>  let array = [{ seed: 2 }, { seed: 3 }];\n  array\n    .map(i =&gt; ({ seed: i.seed, square: i.seed * i.seed }))\n    .forEach(i =&gt; console.log(`square for ${i.seed} is ${i.square}`));\n</code></pre>\n\n<p>I need to define new anonymous type for map function. If I would have multiple steps all producing new properties, I'd end up writing lots of definition code to get all properties carried over.\nI could use <code>$.extend</code> (or <code>Object.assign</code>), but that way I'll lose intellisense and strong typing.</p>\n\n<pre><code>  array\n    .map(i =&gt; $.extend(i, { square: i.seed * i.seed }))\n    .forEach(i =&gt; console.log(`square for ${i.seed} is ${i.square}`));\n</code></pre>\n\n<p>How can I extend anonymous object without defining all properties again while keeping strong typing?</p>\n"}, {"tags": ["javascript", "json", "xpath", "typescript", "jsonpath"], "comments": [{"owner": {"reputation": 3399, "user_id": 4124076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fc6e13deb275f81133be0ac3ed89843?s=128&d=identicon&r=PG", "display_name": "Manish Maheshwari", "link": "https://stackoverflow.com/users/4124076/manish-maheshwari"}, "edited": false, "score": 0, "creation_date": 1556196155, "post_id": 36571556, "comment_id": 98360846, "body": "Are you okay with a command-line solution?"}, {"owner": {"reputation": 3399, "user_id": 4124076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fc6e13deb275f81133be0ac3ed89843?s=128&d=identicon&r=PG", "display_name": "Manish Maheshwari", "link": "https://stackoverflow.com/users/4124076/manish-maheshwari"}, "edited": false, "score": 0, "creation_date": 1556647243, "post_id": 36571556, "comment_id": 98506495, "body": "You can use jq command line tool for querying a json file."}, {"owner": {"reputation": 3399, "user_id": 4124076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fc6e13deb275f81133be0ac3ed89843?s=128&d=identicon&r=PG", "display_name": "Manish Maheshwari", "link": "https://stackoverflow.com/users/4124076/manish-maheshwari"}, "edited": false, "score": 1, "creation_date": 1556896704, "post_id": 36571556, "comment_id": 98596193, "body": "<a href=\"https://stedolan.github.io/jq/\" rel=\"nofollow noreferrer\">stedolan.github.io/jq</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1750, "user_id": 1341001, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/81Mb2.jpg?s=128&g=1", "display_name": "Abdelkrim", "link": "https://stackoverflow.com/users/1341001/abdelkrim"}, "edited": false, "score": 0, "creation_date": 1460460409, "post_id": 36571726, "comment_id": 60742173, "body": "hi @emil-s-j&#248;rgensen, thank you for the answer, do you know an answer using a kind of JSON XPath? You solution is certainly correct and I would like to find a more generic solution in case the data model of the json changes in the future. Thanks"}], "tags": [], "owner": {"reputation": 5684, "user_id": 5242739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1aea26eac2e5538025006c7623146a9?s=128&d=identicon&r=PG&f=1", "display_name": "Emil S. J&#248;rgensen", "link": "https://stackoverflow.com/users/5242739/emil-s-j%c3%b8rgensen"}, "is_accepted": false, "score": 5, "last_activity_date": 1460461928, "last_edit_date": 1460461928, "creation_date": 1460459888, "answer_id": 36571726, "question_id": 36571556, "link": "https://stackoverflow.com/questions/36571556/how-to-query-a-json-file/36571726#36571726", "title": "How to query a json file?", "body": "<p>Assuming that you are loading the response into a variable data:</p>\n\n<pre><code>var data = {\n    \"response\" : {\n        \"result\" : {\n            \"Countries\" : {\n                \"row\" : [{\n                        \"no\" : \"1\",\n                        \"FL\" : [{\n                                \"content\" : \"USA\",\n                                \"val\" : \"Country\"\n                            }, {\n                                \"content\" : \"Barack Obama\",\n                                \"val\" : \"President\"\n                            }\n                        ]\n                    }, {\n                        \"no\" : \"2\",\n                        \"FL\" : [{\n                                \"content\" : \"Cuba\",\n                                \"val\" : \"Country\"\n                            }, {\n                                \"content\" : \"Raul Castro\",\n                                \"val\" : \"President\"\n                            }\n                        ]\n                    }\n                ]\n            }\n        }\n    }\n};\n</code></pre>\n\n<p>You can then filter your data like this:</p>\n\n<pre><code>data.response.result.Countries.row.filter(function (el) {\n    return (el.FL[0].content == \"USA\");\n})[0].FL[1];\n</code></pre>\n\n<p>To get to:</p>\n\n<pre><code>{\n    \"content\" : \"Barack Obama\",\n    \"val\" : \"President\"\n}\n</code></pre>\n\n<p>To get the name, simply specify \"content\"</p>\n\n<pre><code>data.response.result.Countries.row.filter(function(el){\n  return (el.FL[0].content == \"USA\");\n})[0].FL[1].content;\n</code></pre>\n\n<p><strong>EDIT 1</strong></p>\n\n<p>One could search a json object like a string.</p>\n\n<p>If we know that the element will have no children, then we could use something like this:</p>\n\n<pre><code>function find(query,obj) {\n  var str = JSON.stringify(obj);\n  var start = str.substr(0,str.indexOf(query)).lastIndexOf('{');\n  var end = str.substr(start,str.length).indexOf('}');\n  return str.substr(start,end);\n}\n\nconsole.log(find('\"content\":\"USA\"',data))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1750, "user_id": 1341001, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/81Mb2.jpg?s=128&g=1", "display_name": "Abdelkrim", "link": "https://stackoverflow.com/users/1341001/abdelkrim"}, "edited": false, "score": 1, "creation_date": 1460460368, "post_id": 36571749, "comment_id": 60742150, "body": "hi @almasK89, thank you for the answer, do you know an answer using a kind of JSON XPath? You solution is certainly correct and I would like to find a more generic solution in case the data model of the json changes in the future. Thanks"}, {"owner": {"reputation": 1263, "user_id": 2408698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a685e5e9973b863b7fac4940141364a?s=128&d=identicon&r=PG", "display_name": "AlmasK89", "link": "https://stackoverflow.com/users/2408698/almask89"}, "reply_to_user": {"reputation": 1750, "user_id": 1341001, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/81Mb2.jpg?s=128&g=1", "display_name": "Abdelkrim", "link": "https://stackoverflow.com/users/1341001/abdelkrim"}, "edited": false, "score": 1, "creation_date": 1460461212, "post_id": 36571749, "comment_id": 60742811, "body": "<a href=\"http://techslides.com/how-to-parse-and-search-json-in-javascript\" rel=\"nofollow noreferrer\">techslides.com/how-to-parse-and-search-json-in-javascript</a> found this solution"}], "tags": [], "owner": {"reputation": 1263, "user_id": 2408698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a685e5e9973b863b7fac4940141364a?s=128&d=identicon&r=PG", "display_name": "AlmasK89", "link": "https://stackoverflow.com/users/2408698/almask89"}, "is_accepted": true, "score": 3, "last_activity_date": 1460459950, "creation_date": 1460459950, "answer_id": 36571749, "question_id": 36571556, "link": "https://stackoverflow.com/questions/36571556/how-to-query-a-json-file/36571749#36571749", "title": "How to query a json file?", "body": "<pre><code>t = {\n    \"response\": {\n        \"result\": {\n            \"Countries\": {\n                \"row\": [\n                    {\n                        \"no\": \"1\",\n                        \"FL\": [\n                            {\n                                \"content\": \"USA\",\n                                \"val\": \"Country\"\n                            },\n                            {\n                                \"content\": \"Barack Obama\",\n                                \"val\": \"President\"\n                            }\n                        ]\n                    },\n                    {\n                        \"no\": \"2\",\n                        \"FL\": [\n                            {\n                                \"content\": \"Cuba\",\n                                \"val\": \"Country\"\n                            },\n                            {\n                                \"content\": \"Raul Castro\",\n                                \"val\": \"President\"\n                            }\n                        ]\n                    }\n                ]\n            }\n        }\n    }\n}\nres={};//Here we will store result\nfor (i in t.response.result.Countries.row) {\n  // get current country\n  country = t.response.result.Countries.row[i].FL[0].content;\n  // get current president\n  president = t.response.result.Countries.row[i].FL[1].content;\n  if (country == 'USA') {\n    res.presidents=[{name:president}];\n    break;\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 178, "user_id": 2846138, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2sp68.png?s=128&g=1", "display_name": "cyberbrain", "link": "https://stackoverflow.com/users/2846138/cyberbrain"}, "is_accepted": false, "score": 2, "last_activity_date": 1547621141, "creation_date": 1547621141, "answer_id": 54211704, "question_id": 36571556, "link": "https://stackoverflow.com/questions/36571556/how-to-query-a-json-file/54211704#54211704", "title": "How to query a json file?", "body": "<p>Despite of the age of the question I want to add this answer as reference for future visitors with the same problem:</p>\n\n<p>You can use <a href=\"https://goessner.net/articles/JsonPath/\" rel=\"nofollow noreferrer\">JSONPath</a>. The page contains a description and an implementation in JavaScript and PHP.</p>\n"}], "owner": {"reputation": 1750, "user_id": 1341001, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/81Mb2.jpg?s=128&g=1", "display_name": "Abdelkrim", "link": "https://stackoverflow.com/users/1341001/abdelkrim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13429, "favorite_count": 0, "accepted_answer_id": 36571749, "answer_count": 3, "score": 4, "last_activity_date": 1547621141, "creation_date": 1460459439, "last_edit_date": 1460460291, "question_id": 36571556, "link": "https://stackoverflow.com/questions/36571556/how-to-query-a-json-file", "title": "How to query a json file?", "body": "<h2>Here is the file I would like to parse</h2>\n\n<ol>\n<li>I receive a file from a webservice in JSON format.</li>\n<li>I would like to parse the content in such a way that I display the name of the president from the USA</li>\n</ol>\n\n<blockquote>\n<pre><code>{\n    \"response\": {\n        \"result\": {\n            \"Countries\": {\n                \"row\": [\n                    {\n                        \"no\": \"1\",\n                        \"FL\": [\n                            {\n                                \"content\": \"USA\",\n                                \"val\": \"Country\"\n                            },\n                            {\n                                \"content\": \"Barack Obama\",\n                                \"val\": \"President\"\n                            }\n                        ]\n                    },\n                    {\n                        \"no\": \"2\",\n                        \"FL\": [\n                            {\n                                \"content\": \"Cuba\",\n                                \"val\": \"Country\"\n                            },\n                            {\n                                \"content\": \"Raul Castro\",\n                                \"val\": \"President\"\n                            }\n                        ]\n                    }\n                ]\n            }\n        }\n    }\n}\n</code></pre>\n</blockquote>\n\n<h2>The expected output</h2>\n\n<pre><code>{ presidents: [\n    { \"name\": \"Barack Obama\"}\n    ]\n}\n</code></pre>\n\n<h2>could you provide a solution using a kind of JSON XPath?</h2>\n"}, {"tags": ["typescript", "mocha.js", "chutzpah"], "comments": [{"owner": {"reputation": 16194, "user_id": 50660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vhL7s.jpg?s=128&g=1", "display_name": "Matthew Manela", "link": "https://stackoverflow.com/users/50660/matthew-manela"}, "edited": false, "score": 0, "creation_date": 1460565356, "post_id": 36571121, "comment_id": 60806063, "body": "Do you see any errors/warning on the tests or output window?"}, {"owner": {"reputation": 2205, "user_id": 536221, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7f4d402ef819528e31690f645e0a6621?s=128&d=identicon&r=PG", "display_name": "N.K", "link": "https://stackoverflow.com/users/536221/n-k"}, "reply_to_user": {"reputation": 16194, "user_id": 50660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vhL7s.jpg?s=128&g=1", "display_name": "Matthew Manela", "link": "https://stackoverflow.com/users/50660/matthew-manela"}, "edited": false, "score": 0, "creation_date": 1460695207, "post_id": 36571121, "comment_id": 60871407, "body": "i just see , 0 run , 0 passed and 0 failed .... though i have more than 20 test cases..."}, {"owner": {"reputation": 16194, "user_id": 50660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vhL7s.jpg?s=128&g=1", "display_name": "Matthew Manela", "link": "https://stackoverflow.com/users/50660/matthew-manela"}, "edited": false, "score": 0, "creation_date": 1460734701, "post_id": 36571121, "comment_id": 60895954, "body": "And running the exact same test using chutzpah.console.exe work? Is your chutzpah.console.exe the same version as VS plugin?"}, {"owner": {"reputation": 2205, "user_id": 536221, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7f4d402ef819528e31690f645e0a6621?s=128&d=identicon&r=PG", "display_name": "N.K", "link": "https://stackoverflow.com/users/536221/n-k"}, "reply_to_user": {"reputation": 16194, "user_id": 50660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vhL7s.jpg?s=128&g=1", "display_name": "Matthew Manela", "link": "https://stackoverflow.com/users/50660/matthew-manela"}, "edited": false, "score": 0, "creation_date": 1460962861, "post_id": 36571121, "comment_id": 60963387, "body": "yes both are same.... and another finding is . if for the same test i use jasmine .. then every thing works fine :("}, {"owner": {"reputation": 16194, "user_id": 50660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vhL7s.jpg?s=128&g=1", "display_name": "Matthew Manela", "link": "https://stackoverflow.com/users/50660/matthew-manela"}, "edited": false, "score": 0, "creation_date": 1461077218, "post_id": 36571121, "comment_id": 61028299, "body": "If you turn on tracing do what do you see in the chutzpah.log file?"}, {"owner": {"reputation": 2205, "user_id": 536221, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7f4d402ef819528e31690f645e0a6621?s=128&d=identicon&r=PG", "display_name": "N.K", "link": "https://stackoverflow.com/users/536221/n-k"}, "reply_to_user": {"reputation": 16194, "user_id": 50660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vhL7s.jpg?s=128&g=1", "display_name": "Matthew Manela", "link": "https://stackoverflow.com/users/50660/matthew-manela"}, "edited": false, "score": 0, "creation_date": 1461746891, "post_id": 36571121, "comment_id": 61334318, "body": "it reads each test file, but does nothing.."}, {"owner": {"reputation": 16194, "user_id": 50660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vhL7s.jpg?s=128&g=1", "display_name": "Matthew Manela", "link": "https://stackoverflow.com/users/50660/matthew-manela"}, "edited": false, "score": 0, "creation_date": 1461936957, "post_id": 36571121, "comment_id": 61438570, "body": "Can you provide a repro I can run locally?"}], "owner": {"reputation": 2205, "user_id": 536221, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7f4d402ef819528e31690f645e0a6621?s=128&d=identicon&r=PG", "display_name": "N.K", "link": "https://stackoverflow.com/users/536221/n-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1460458343, "creation_date": 1460458343, "question_id": 36571121, "link": "https://stackoverflow.com/questions/36571121/chutzpah-test-runner-adapter-for-visual-studio-2013-not-picking-up-ts-tests", "title": "Chutzpah Test Runner/ adapter for visual studio 2013 not picking up .ts tests , but running from the console.?", "body": "<p>I am using Mocha Framework for typescript test cases. i am able to run the test cases from the chutzpah console. but visual studio test adapter/runner is not picking up the test cases. pleas guide... following is the Json.</p>\n\n<pre><code>&gt;     \"Framework\": \"mocha\",\n&gt;     \"MochaInterface\": \"bdd\",\n&gt;     \"RootReferencePathMode\": \"SettingsFileDirectory\",\n&gt;     \"EnableCodeCoverage\": false,\n&gt;     \"IgnoreResourceLoadingErrors\": true,\n&gt;     \"EnableTestFileBatching\": false,\n&gt;     \"TestFileTimeout\": 30000,\n</code></pre>\n"}, {"tags": ["typescript", "async-await", "mocha.js"], "comments": [{"owner": {"reputation": 6323, "user_id": 279204, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/09e6e06467b9e40a504b1f0e98ae729b?s=128&d=identicon&r=PG", "display_name": "timothyclifford", "link": "https://stackoverflow.com/users/279204/timothyclifford"}, "edited": false, "score": 1, "creation_date": 1479723848, "post_id": 36570638, "comment_id": 68662593, "body": "Did you ever figure this out @dcsan?"}], "answers": [{"tags": [], "owner": {"reputation": 1216, "user_id": 2660856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e38bafc6f871c1267c6ad98a8ac3731?s=128&d=identicon&r=PG", "display_name": "Dave Templin", "link": "https://stackoverflow.com/users/2660856/dave-templin"}, "is_accepted": false, "score": 10, "last_activity_date": 1461541919, "creation_date": 1461541919, "answer_id": 36830237, "question_id": 36570638, "link": "https://stackoverflow.com/questions/36570638/how-do-async-await-testing-with-typescript-and-mocha/36830237#36830237", "title": "how do async/await testing with TypeScript and mocha", "body": "<p>Try defining your test like this... (and at the same time remove your <em>done</em> call)</p>\n\n<pre><code>it('should start with a random topic', async function () {\n    // ...\n});\n</code></pre>\n\n<p>Note if your test returns a Promise then the mocha framework will look for the Promise to be resolved or rejected rather than a done callback. Note async functions always return a Promise.</p>\n\n<p>Also it's a best practice to avoid using arrow functions to define tests otherwise you can't access the correct <code>this</code> context from the test (i.e. you can't do things like calling <code>this.title</code> within your test code).</p>\n"}], "owner": {"reputation": 7340, "user_id": 1146785, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/l51PO.jpg?s=128&g=1", "display_name": "dcsan", "link": "https://stackoverflow.com/users/1146785/dcsan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6701, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1571492573, "creation_date": 1460457071, "last_edit_date": 1460457528, "question_id": 36570638, "link": "https://stackoverflow.com/questions/36570638/how-do-async-await-testing-with-typescript-and-mocha", "title": "how do async/await testing with TypeScript and mocha", "body": "<p>I have a simple async mocha test, but the <code>done()</code> callback never seems to get called.</p>\n\n<pre><code>describe(\"RiBot\", function() {\n  it(\"should start with a random topic\", async (done) =&gt; {\n    await RiBot.init();\n    let topic = RiBot.getTopic(\"testuser\")\n    assert.equal(topic, \"FAILHERE\");\n    done()\n  })\n})\n</code></pre>\n\n<p>In this case the assertion should fail but instead I just get a timeout.</p>\n\n<pre><code>  RiBot\n  RibotTest topic +0ms undefined\n    1) should start with a random topic\n\n\n  0 passing (2s)\n  1 failing\n\n  1) RiBot should start with a random topic:\n     Error: timeout of 2000ms exceeded. Ensure the done() callback is being called in this test.\n</code></pre>\n\n<p>edit: when i run just as standard JS code with an assert:</p>\n\n<pre><code>async function testRiBot() {\n  try {\n    await RiBot.init()\n    let topic = RiBot.getTopic(\"testuser\")\n    debug('topic', topic)\n    assert.equal(topic, \"FAILHERE\", 'fail match on topic');\n  } catch(err) {\n    debug(\"err\", err, err.stack)\n  }\n}\n</code></pre>\n\n<p>I do get an exception thrown as the error.</p>\n\n<pre><code>  RibotTest err +2ms { [AssertionError: fail match on topic]\n  name: 'AssertionError',\n  actual: 'undefined',\n  expected: 'FAILHERE',\n  operator: '==',\n  message: 'fail match on topic',\n  generatedMessage: false } AssertionError: fail match on topic\n    at /Users/dc/dev/rikai/boteditor/test/RiBot_test.js:19:20\n    at next (native)\n    at fulfilled (/Users/dc/dev/rikai/boteditor/test/RiBot_test.js:4:58)\n    at process._tickCallback (node.js:412:9)\n</code></pre>\n\n<p>Can someone provide a simple example using a typescript async/await and mocha?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic2", "ionic3"], "answers": [{"tags": [], "owner": {"reputation": 165, "user_id": 4604978, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MG9BbVed5KI/AAAAAAAAAAI/AAAAAAAAAlo/fIqbvWfE42Q/photo.jpg?sz=128", "display_name": "Thomas Withaar", "link": "https://stackoverflow.com/users/4604978/thomas-withaar"}, "is_accepted": false, "score": 1, "last_activity_date": 1463658466, "creation_date": 1463658466, "answer_id": 37322285, "question_id": 36569179, "link": "https://stackoverflow.com/questions/36569179/get-data-async-before-a-page-gets-rendered/37322285#37322285", "title": "Get data async before a `Page` gets rendered", "body": "<p>If you only navigate to that page from one location, couldn't you simply load the data before navigating and using the <code>NavParams</code> to pass the data?</p>\n\n<p>I am using this structure for a Profile page, from a certain index page I click on a user, and then retrieve his profile before visiting his profile. You can show a nice <code>Loading</code> while this is happening.</p>\n\n<pre><code>let self=this;\nthis.profileSvc.getProfile(id)\n.then(profile =&gt; {\n    self.nav.push(Profile, {profile:profile});\n});\n</code></pre>\n\n<p>Now in the Profile page you can use the <code>NavParams</code> to initialize your page.</p>\n\n<pre><code>export class Profile {\n    profile:any;\n    constructor(private params:NavParams) {\n        if(params.get('profile')) {\n            this.profile = params.get('profile');\n        } else {\n            this.profile = this.me;\n        }\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 266, "user_id": 779057, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6e6702ab7fc055f7892f658c0948f3d3?s=128&d=identicon&r=PG", "display_name": "atx", "link": "https://stackoverflow.com/users/779057/atx"}, "edited": false, "score": 1, "creation_date": 1467635845, "post_id": 38014256, "comment_id": 63795542, "body": "This is by far the best &quot;workaround&quot; I&#39;ve seen so far. Thank you very much"}, {"owner": {"reputation": 41555, "user_id": 3915438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ef58d4da96105d5c0880ee70c37756?s=128&d=identicon&r=PG&f=1", "display_name": "sebaferreras", "link": "https://stackoverflow.com/users/3915438/sebaferreras"}, "reply_to_user": {"reputation": 266, "user_id": 779057, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6e6702ab7fc055f7892f658c0948f3d3?s=128&d=identicon&r=PG", "display_name": "atx", "link": "https://stackoverflow.com/users/779057/atx"}, "edited": false, "score": 0, "creation_date": 1470069611, "post_id": 38014256, "comment_id": 64785614, "body": "Glad I could help :)"}, {"owner": {"reputation": 551, "user_id": 2900289, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/916b7221ea8ff245f53db6a707c78070?s=128&d=identicon&r=PG&f=1", "display_name": "Raphael St", "link": "https://stackoverflow.com/users/2900289/raphael-st"}, "edited": false, "score": 0, "creation_date": 1536679711, "post_id": 38014256, "comment_id": 91506757, "body": "I do not know why, but the view will load before the async bits no matter what solution I use .."}], "tags": [], "owner": {"reputation": 41555, "user_id": 3915438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ef58d4da96105d5c0880ee70c37756?s=128&d=identicon&r=PG&f=1", "display_name": "sebaferreras", "link": "https://stackoverflow.com/users/3915438/sebaferreras"}, "is_accepted": false, "score": 7, "last_activity_date": 1466773738, "creation_date": 1466773738, "answer_id": 38014256, "question_id": 36569179, "link": "https://stackoverflow.com/questions/36569179/get-data-async-before-a-page-gets-rendered/38014256#38014256", "title": "Get data async before a `Page` gets rendered", "body": "<p>I'm not sure if this is the <em>official way</em> to do it, but I use the <code>Loading</code> component for situations like this one. You can find more information in <a href=\"http://ionicframework.com/docs/v2/api/components/loading/Loading/\" rel=\"noreferrer\">Ionic API Docs</a>.</p>\n\n<p>The page <code>.ts</code> file would look like this:</p>\n\n<pre><code>import {Component} from '@angular/core';\nimport {Loading, NavController} from 'ionic-angular';\n\n@Component({\n  templateUrl:\"page1.html\"\n})\nexport class Page1 {\n  // Loading component\n  loading : any;\n  // Information to obtain from server\n  comments: string = '';\n\n  constructor(nav: NavController) {\n    this.nav = nav;\n  }\n\n  onPageWillEnter() {\n    // Starts the process \n    this.showLoading();\n  }\n\n  private showLoading() {\n    this.loading = Loading.create({\n      content: \"Please wait...\"\n    });\n    // Show the loading page\n    this.nav.present(this.loading);\n    // Get the Async information \n    this.getAsyncData();\n  }\n\n  private getAsyncData() {\n\n    // this simulates an async method like\n    // this._service.getComments().then((data) =&gt; { \n    //     this.comments = data);\n    //     this.hideLoading();\n    // });\n\n    setTimeout(() =&gt; {\n      // This would be the part of the code inside the =&gt; {...}\n      this.comments = \"Data retrieved from server\";\n      // Hide the loading page\n      this.hideLoading();\n    }, 5000);\n  }\n\n  private hideLoading(){\n    // Hide the loading component\n    this.loading.dismiss();\n  }\n}\n</code></pre>\n\n<p>The code is very simple so it doesn't need further details, the idea is to define a <code>loading</code> so we can show it, then try to obtain the information, and as soon as we get that data, we can hide it calling the <code>this.loading.dismiss()</code> method.</p>\n\n<p>You can find a <a href=\"http://plnkr.co/edit/R6UQvxyPghOlLK3rKRWb?p=preview\" rel=\"noreferrer\">working plunker here</a> (using beta.9)</p>\n"}, {"comments": [{"owner": {"reputation": 1068, "user_id": 5854882, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6fe1e093f1daa8277a4dd0b61eafd72b?s=128&d=identicon&r=PG&f=1", "display_name": "jhhoff02", "link": "https://stackoverflow.com/users/5854882/jhhoff02"}, "edited": false, "score": 1, "creation_date": 1483623325, "post_id": 40205490, "comment_id": 70177908, "body": "Very good, I was &#39;crawling Stackoverflow about restricting page access when using Ionic 2&#39; :)"}, {"owner": {"reputation": 31497, "user_id": 122313, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/65a1c89a4d5c60688f29abd3eb636c08?s=128&d=identicon&r=PG", "display_name": "Aaron Saunders", "link": "https://stackoverflow.com/users/122313/aaron-saunders"}, "edited": false, "score": 1, "creation_date": 1486844162, "post_id": 40205490, "comment_id": 71524422, "body": "This is the correct answer and should be ranked higher... i finally made sense of it and here is a plunker I got working - <a href=\"http://embed.plnkr.co/B8XPvV/\" rel=\"nofollow noreferrer\">embed.plnkr.co/B8XPvV</a>"}, {"owner": {"reputation": 7642, "user_id": 1757321, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f47b6fc12c9c2b7a93419b0f65de0a32?s=128&d=identicon&r=PG", "display_name": "KhoPhi", "link": "https://stackoverflow.com/users/1757321/khophi"}, "edited": false, "score": 0, "creation_date": 1502758050, "post_id": 40205490, "comment_id": 78327932, "body": "Angular had a way to apply the <code>canActivate</code> to entire routes and related children. If there was a way to apply this guard to all pages within a module, it would save a lot of <code>ionViewCanEnter</code> code scattered around."}], "tags": [], "owner": {"reputation": 4253, "user_id": 1050809, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/SF4U9.png?s=128&g=1", "display_name": "Scott Sword", "link": "https://stackoverflow.com/users/1050809/scott-sword"}, "is_accepted": true, "score": 9, "last_activity_date": 1477242293, "creation_date": 1477242293, "answer_id": 40205490, "question_id": 36569179, "link": "https://stackoverflow.com/questions/36569179/get-data-async-before-a-page-gets-rendered/40205490#40205490", "title": "Get data async before a `Page` gets rendered", "body": "<p>For anyone crawling Stackoverflow about <em>restricting</em> page access when using Ionic 2, it looks like Ionic's recommended lifecycle event to tap into is <code>ionViewCanEnter</code>.</p>\n\n<p><strong>From the docs:</strong></p>\n\n<blockquote>\n  <p><strong>ionViewCanEnter</strong> Runs before the view can enter. This can be used as a sort of \"guard\" in authenticated views where you need to check permissions before the view can enter.</p>\n</blockquote>\n\n<p><a href=\"http://ionicframework.com/docs/v2/api/navigation/NavController/\" rel=\"noreferrer\">http://ionicframework.com/docs/v2/api/navigation/NavController/</a></p>\n"}], "owner": {"reputation": 266, "user_id": 779057, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6e6702ab7fc055f7892f658c0948f3d3?s=128&d=identicon&r=PG", "display_name": "atx", "link": "https://stackoverflow.com/users/779057/atx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5013, "favorite_count": 10, "accepted_answer_id": 40205490, "answer_count": 3, "score": 16, "last_activity_date": 1505384406, "creation_date": 1460453490, "last_edit_date": 1505384406, "question_id": 36569179, "link": "https://stackoverflow.com/questions/36569179/get-data-async-before-a-page-gets-rendered", "title": "Get data async before a `Page` gets rendered", "body": "<p>What is the correct way to get data async before a <code>Page</code> gets rendered? </p>\n\n<p><code>Angular2</code> suggests the <code>@CanActivate</code> decorator as far as I understand it. Sadly this is not working with Ionic2, at least not for me and for <a href=\"https://forum.ionicframework.com/t/what-is-the-equivalent-of-resolve-in-ionic-2/37679/15\" rel=\"noreferrer\">others</a></p>\n\n<p>Apparently <code>Ionic2</code> does something with the <code>@CanActivate</code> decorator, <a href=\"https://github.com/driftyco/ionic-code/blob/c546dcf7dcbf334df349b45db81fbec9718d9fea/2.0.0/js/router.dev.js\" rel=\"noreferrer\">see</a> \nBut its not documented and i can't figure out what it does exactly. </p>\n\n<p>Nevertheless <a href=\"https://webcake.co/page-lifecycle-hooks-in-ionic-2/\" rel=\"noreferrer\">this guy</a> points out one should use <code>Ionics View States</code> instead anyways, due to ionics caching. His example looks like this: </p>\n\n<pre><code>  onPageWillEnter() { \n      return this._service.getComments().then(data =&gt; this.comments = data);\n  }\n</code></pre>\n\n<p>Which looks like he is expecting Ionic to consider the returned promise, but a <a href=\"https://github.com/driftyco/ionic-code/blob/c546dcf7dcbf334df349b45db81fbec9718d9fea/2.0.0/components/nav/view-controller.js\" rel=\"noreferrer\">quick glance</a> a Ionics sources reveals (at least I think so) that the returned value is ignored. Hence there is no guarantee that the promise gets resolved <em>before</em> the page gets rendered. Here is an <a href=\"https://plnkr.co/edit/jF9QAcPwGY97cW9dQ7x0\" rel=\"noreferrer\">example</a> with onPage* and how it does not perform as needed/expected.</p>\n\n<p>So I'm lost, how does one achieve this simple task? </p>\n\n<p>In the first link, it was suggested to resolve the data before navigating to the page, which burdens the knowledge which data is needed for the page on the callee. This is not an option in my opinion. </p>\n\n<p>*edit: added negative example</p>\n"}, {"tags": ["node.js", "typescript", "tsc", "typescript1.8"], "answers": [{"comments": [{"owner": {"reputation": 26308, "user_id": 80932, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c8df6a60fa19ec03cde467dad65c8f24?s=128&d=identicon&r=PG", "display_name": "ufk", "link": "https://stackoverflow.com/users/80932/ufk"}, "edited": false, "score": 0, "creation_date": 1460456940, "post_id": 36569308, "comment_id": 60739817, "body": "thank you. where do i place the d.ts file after creating it? what&#39;s the flow ?"}, {"owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "reply_to_user": {"reputation": 26308, "user_id": 80932, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c8df6a60fa19ec03cde467dad65c8f24?s=128&d=identicon&r=PG", "display_name": "ufk", "link": "https://stackoverflow.com/users/80932/ufk"}, "edited": false, "score": 0, "creation_date": 1460457247, "post_id": 36569308, "comment_id": 60740023, "body": "I am used to create a root folder named <code>manual_typings</code> and put all my custom d.ts files in there. No extra steps required."}, {"owner": {"reputation": 26308, "user_id": 80932, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c8df6a60fa19ec03cde467dad65c8f24?s=128&d=identicon&r=PG", "display_name": "ufk", "link": "https://stackoverflow.com/users/80932/ufk"}, "edited": false, "score": 0, "creation_date": 1460462421, "post_id": 36569308, "comment_id": 60743738, "body": "where can i find information on how to create custom d.ts files ?"}], "tags": [], "owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "is_accepted": true, "score": 2, "last_activity_date": 1460453768, "creation_date": 1460453768, "answer_id": 36569308, "question_id": 36568999, "link": "https://stackoverflow.com/questions/36568999/requiring-an-npm-module-using-typescript/36569308#36569308", "title": "requiring an npm module using typescript", "body": "<p>If there are no typings available you can write your own d.ts files containing necessary type declarations.</p>\n\n<p>There are some samples for you: <a href=\"https://github.com/Polymer/polytool/blob/master/custom_typings/command-line-args.d.ts\" rel=\"nofollow\">link</a>, <a href=\"https://github.com/electron-userland/electron-builder/blob/master/typings/command-line-args.d.ts\" rel=\"nofollow\">link</a></p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 26308, "user_id": 80932, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c8df6a60fa19ec03cde467dad65c8f24?s=128&d=identicon&r=PG", "display_name": "ufk", "link": "https://stackoverflow.com/users/80932/ufk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 36569308, "answer_count": 1, "score": 0, "last_activity_date": 1460453768, "creation_date": 1460453091, "question_id": 36568999, "link": "https://stackoverflow.com/questions/36568999/requiring-an-npm-module-using-typescript", "title": "requiring an npm module using typescript", "body": "<p>I'm working on a new nodejs 5.10.1 project using typescript.</p>\n\n<p>I have tsc installed version 1.8.9</p>\n\n<p>I created a new project that contains the following configuration files:</p>\n\n<p>package.json</p>\n\n<pre><code>{\n  \"name\": \"mdb-analyze\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"mdb-analyze.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"command-line-args\": \"^2.1.6\"\n  }\n}\n</code></pre>\n\n<p>tsconfig.json</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"module\": \"commonjs\",\n        \"target\": \"es6\",\n        \"noImplicitAny\": false,\n        \"sourceMap\": false\n    },\n    \"exclude\": [\n        \"node_modules\"\n    ]\n}\n</code></pre>\n\n<p>typings.json</p>\n\n<pre><code>{\n  \"name\": \"mdb-analyze\",\n  \"version\": false,\n  \"dependencies\": {}\n}\n</code></pre>\n\n<p>and this is my main mdb-analyze.ts file:</p>\n\n<pre><code>import * as commandLineArgs from 'command-line-args';\n\nvar cli = commandLineArgs([\n  { name: 'verbose', alias: 'v', type: Boolean },\n  { name: 'fjso', alias:'f',type: String, multiple: true, defaultOption: true },\n  { name: 'help',alias:'h',type:Boolean }\n])\n\nvar params = cli.parse();\nif (params.help || !params.fjso || params.fjso.length == 0) {\n    console.info(cli.getUsage());\n} else {\n\n}\n</code></pre>\n\n<p>when I try to compile with tsc i get the following error:</p>\n\n<pre><code>mdb-analyze.ts(5,34): error TS2307: Cannot find module 'command-line-args'.\n</code></pre>\n\n<p>welp i've been told to use typings to load typescript definitions for the modules i want. but searching on typings doesn't show this module. i'm new to typescript, and very confused on what to do next.</p>\n\n<p>any information regarding the issue would be greatly appreciated.</p>\n"}, {"tags": ["typescript", "typescript1.8"], "comments": [{"owner": {"reputation": 907, "user_id": 1476674, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3200e5875e2d40343f649b77a3c8ab15?s=128&d=identicon&r=PG", "display_name": "Rene Wooller", "link": "https://stackoverflow.com/users/1476674/rene-wooller"}, "edited": false, "score": 0, "creation_date": 1512018141, "post_id": 36568939, "comment_id": 82090153, "body": "I found this question because I am looking for a way to have an inline conditional (the ?) to be type guarded. Are you saying that when you used the inline conditional, it was type guarded automatically? I couldn&#39;t get it to do this for me."}], "answers": [{"comments": [{"owner": {"reputation": 10414, "user_id": 1323504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8fqkP.jpg?s=128&g=1", "display_name": "Zolt&#225;n Tam&#225;si", "link": "https://stackoverflow.com/users/1323504/zolt%c3%a1n-tam%c3%a1si"}, "edited": false, "score": 2, "creation_date": 1460453795, "post_id": 36569130, "comment_id": 60737507, "body": "The whole sense of type guards is to not need casts inside a guarded block of code, so while your answer is working, I actually can&#39;t accept it."}, {"owner": {"reputation": 10414, "user_id": 1323504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8fqkP.jpg?s=128&g=1", "display_name": "Zolt&#225;n Tam&#225;si", "link": "https://stackoverflow.com/users/1323504/zolt%c3%a1n-tam%c3%a1si"}, "edited": false, "score": 0, "creation_date": 1460454914, "post_id": 36569130, "comment_id": 60738357, "body": "In my case the user-defined version is not working either. In the linked docs it&#39;s written that simple <code>typeof</code> guards can be inlined. It seems like I have some special circumstances around. It&#39;s a small piece in quite a big project."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 10414, "user_id": 1323504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8fqkP.jpg?s=128&g=1", "display_name": "Zolt&#225;n Tam&#225;si", "link": "https://stackoverflow.com/users/1323504/zolt%c3%a1n-tam%c3%a1si"}, "edited": false, "score": 1, "creation_date": 1460459935, "post_id": 36569130, "comment_id": 60741845, "body": "@Zolt&#225;nTam&#225;si finally understood what you want and what the problem is, check my revised answer."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 10414, "user_id": 1323504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8fqkP.jpg?s=128&g=1", "display_name": "Zolt&#225;n Tam&#225;si", "link": "https://stackoverflow.com/users/1323504/zolt%c3%a1n-tam%c3%a1si"}, "edited": false, "score": 0, "creation_date": 1460460340, "post_id": 36569130, "comment_id": 60742125, "body": "oh, I see you find out about it yourself"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 10414, "user_id": 1323504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8fqkP.jpg?s=128&g=1", "display_name": "Zolt&#225;n Tam&#225;si", "link": "https://stackoverflow.com/users/1323504/zolt%c3%a1n-tam%c3%a1si"}, "edited": false, "score": 0, "creation_date": 1460462419, "post_id": 36569130, "comment_id": 60743735, "body": "@Zolt&#225;nTam&#225;si thanks, next time you can also answer your own question and mark it as accepted instead of adding it to your question"}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 1, "last_activity_date": 1460459907, "last_edit_date": 1460459907, "creation_date": 1460453371, "answer_id": 36569130, "question_id": 36568939, "link": "https://stackoverflow.com/questions/36568939/why-isnt-this-type-guard-for-string-working/36569130#36569130", "title": "Why isn&#39;t this type guard for string working?", "body": "<p>You need to cast it to the appropriate type:</p>\n\n<pre><code>function mergeUrlParameters(sourceParameters: string | Object, targetUrl: string, overwrite: boolean = false): string {\n    var sourceParamObject: Object;\n\n    if (typeof sourceParameters === \"string\") {\n        if ((&lt;string&gt; sourceParameters).indexOf(\"?\") &gt;= 0) {\n            sourceParameters = (&lt;string&gt; sourceParameters).substr((&lt;string&gt; sourceParameters).indexOf(\"?\") + 1);\n        }\n        sourceParamObject = $.deparam((&lt;string&gt; sourceParameters), true);\n    } else {\n        sourceParamObject = sourceParameters;\n    }\n\n    ...\n}\n</code></pre>\n\n<hr>\n\n<h3>Edit</h3>\n\n<p>If you want to avoid that casting, you can create your own type guard (which you haven't in your code):</p>\n\n<pre><code>function isString(x: any): x is string {\n    return typeof x === \"string\";\n}\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>function mergeUrlParameters(sourceParameters: string | Object, targetUrl: string, overwrite: boolean = false): string {\n    var sourceParamObject: Object;\n\n    if (isString(sourceParameters)) {\n        if (sourceParameters.indexOf(\"?\") &gt;= 0) {\n            sourceParameters = sourceParameters.substr(sourceParameters.indexOf(\"?\") + 1);\n        }\n        sourceParamObject = $.deparam(sourceParameters, true);\n    } else {\n        sourceParamObject = sourceParameters;\n    }\n\n    ...\n}\n</code></pre>\n\n<p>more info in <a href=\"https://github.com/Microsoft/TypeScript-Handbook/blob/master/pages/Advanced%20Types.md#user-content-typeof-type-guards\" rel=\"nofollow\">TypeScript Handbook | typeof type guards</a></p>\n\n<hr>\n\n<h3>2nd edit</h3>\n\n<p>Ok, after playing around with it for a while I understand what is the compiler problem with your code.<br>\nThis variation of your code compiles with no errors:</p>\n\n<pre><code>function mergeUrlParameters(sourceParameters: string | Object, targetUrl: string, overwrite: boolean = false): string {\n    var sourceParamObject: Object;\n\n    if (typeof sourceParameters === \"string\") {\n        sourceParamObject = $.deparam(sourceParameters.indexOf(\"?\") &gt;= 0 ? \n                sourceParameters.substr(sourceParameters.indexOf(\"?\") + 1)\n                : sourceParameters\n            , true);\n    } else {\n        sourceParamObject = sourceParameters;\n    }\n}\n</code></pre>\n\n<p>The main difference being that in your code you reassign a value to <code>sourceParameters</code> and that probably confuses the compiler.</p>\n\n<p>To illustrate the issue, consider this simple example:</p>\n\n<pre><code>function x(param: number | string): number {\n    var num: number;\n\n    if (typeof param === \"string\") {\n        num = parseInt(param);\n    } else {\n        num = param;\n    }\n\n    return num;\n}\n\nfunction y(param: number | string): number {\n    if (typeof param === \"string\") {\n        param = parseInt(param);\n    } \n\n    return param;\n}\n</code></pre>\n\n<p>function <code>x</code> compiles without errors, but <code>y</code> has the following error:</p>\n\n<pre><code>Argument of type 'number | string' is not assignable to parameter of type 'string'. Type 'number' is not assignable to type 'string'\n</code></pre>\n\n<p>(check it out in <a href=\"https://www.typescriptlang.org/play/#src=function%20x(param%3A%20number%20%7C%20string)%3A%20number%20%7B%0D%0A%09var%20num%3A%20number%3B%0D%0A%09%0D%0A%09if%20(typeof%20param%20%3D%3D%3D%20%22string%22)%20%7B%0D%0A%09%09num%20%3D%20parseInt(param)%3B%0D%0A%09%7D%20else%20%7B%0D%0A%09%09num%20%3D%20param%3B%0D%0A%09%7D%0D%0A%09%0D%0A%09return%20num%3B%0D%0A%7D%0D%0A%0D%0Afunction%20y(param%3A%20number%20%7C%20string)%3A%20number%20%7B%0D%0A%09if%20(typeof%20param%20%3D%3D%3D%20%22string%22)%20%7B%0D%0A%09%09param%20%3D%20parseInt(param)%3B%0D%0A%09%7D%20%0D%0A%09%0D%0A%09return%20param%3B%0D%0A%7D\" rel=\"nofollow\">the playground</a>)</p>\n"}], "owner": {"reputation": 10414, "user_id": 1323504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8fqkP.jpg?s=128&g=1", "display_name": "Zolt&#225;n Tam&#225;si", "link": "https://stackoverflow.com/users/1323504/zolt%c3%a1n-tam%c3%a1si"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 720, "favorite_count": 0, "accepted_answer_id": 36569130, "answer_count": 1, "score": 2, "last_activity_date": 1460459907, "creation_date": 1460452945, "last_edit_date": 1460457100, "question_id": 36568939, "link": "https://stackoverflow.com/questions/36568939/why-isnt-this-type-guard-for-string-working", "title": "Why isn&#39;t this type guard for string working?", "body": "<p>I have a TypeScript method which accepts a parameter. The parameter can be either of type <code>string</code> or type <code>Object</code>. When I use a <code>typeof</code> check for type <code>string</code> in the method body, I still get error stating that <code>indexOf</code> and <code>substr</code> are not found on type <code>string | Object</code>.</p>\n\n<p>As far as I understand the <code>if</code> block body should be type-guarded by the condition. What am I doing wrong?</p>\n\n<pre><code>function mergeUrlParameters(sourceParameters: string | Object, targetUrl: string, overwrite: boolean = false): string {\n\n  var sourceParamObject: Object;\n  if (typeof sourceParameters === \"string\") {\n    if (sourceParameters.indexOf(\"?\") &gt;= 0)\n      sourceParameters = sourceParameters.substr(sourceParameters.indexOf(\"?\") + 1);\n    sourceParamObject = $.deparam(sourceParameters, true);\n  } else {\n    sourceParamObject = sourceParameters;\n  }\n\n  ...\n}\n</code></pre>\n\n<p>I'm using Visual Studio 2015 with latest TypeScript installed (1.8.x).</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>It turned out that the reassignment of the <code>sourceParameters</code> variable causes the type-guard to fail. I've posted a related potential bug report about this behavior <a href=\"https://github.com/Microsoft/TypeScript/issues/8022\" rel=\"nofollow\">here</a>. In the meantime, several easy workarounds are available, I chose to inline the check and substring call with a <code>?</code> conditional expression.</p>\n"}, {"tags": ["unit-testing", "typescript", "angular", "phantomjs", "karma-jasmine"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1460459460, "post_id": 36568913, "comment_id": 60741525, "body": "It seems to be <a href=\"http://stackoverflow.com/questions/34177221/angular2-how-to-inject-window-into-an-angular2-service\">quite straghtforward</a>. Probably an XY problem, because the router already <a href=\"https://github.com/angular/angular/blob/03627aa84d90f7f1d8d62f160997b783fdf9eaa4/modules/angular2/src/router/location/hash_location_strategy.ts#L64\" rel=\"nofollow noreferrer\">has the hash abstracted</a>, the abstraction goes up to <a href=\"https://angular.io/docs/ts/latest/api/platform/browser/BrowserDomAdapter-class.html#!#getLocation\" rel=\"nofollow noreferrer\">DOM location</a>."}], "answers": [{"comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1463114025, "post_id": 37176904, "comment_id": 61934581, "body": "You can also just inject <code>constructor(window:Window)</code> and provide it like <code>provide(Window, {useValue: window})</code> or <code>provide(Window, {useClass: MyWindowMock})</code>. No need to use a string key if there is a type available."}, {"owner": {"reputation": 4442, "user_id": 234110, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2ZYqV.jpg?s=128&g=1", "display_name": "Anand Rockzz", "link": "https://stackoverflow.com/users/234110/anand-rockzz"}, "edited": false, "score": 1, "creation_date": 1494172272, "post_id": 37176904, "comment_id": 74703658, "body": "<a href=\"https://github.com/angular/angular/blob/master/CHANGELOG.md#breaking-changes\" rel=\"nofollow noreferrer\">provide removed in RC6</a> from core, change it to <code>providers: [     {provide: Window, useValue: window},   ]</code>"}, {"owner": {"reputation": 16730, "user_id": 101095, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/9e5c6cdbcebd9b26a264a97465f713ce?s=128&d=identicon&r=PG", "display_name": "Cuga", "link": "https://stackoverflow.com/users/101095/cuga"}, "edited": false, "score": 0, "creation_date": 1614964831, "post_id": 37176904, "comment_id": 117555266, "body": "This is a lifesaver.  Enabled me to mock the tests I needed without the page redirecting.  Worked in Angular 11"}], "tags": [], "owner": {"reputation": 9271, "user_id": 227622, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bdea66420888d70b8e2f864c04b43fd9?s=128&d=identicon&r=PG", "display_name": "elwyn", "link": "https://stackoverflow.com/users/227622/elwyn"}, "is_accepted": false, "score": 8, "last_activity_date": 1463215201, "last_edit_date": 1463215201, "creation_date": 1463024937, "answer_id": 37176904, "question_id": 36568913, "link": "https://stackoverflow.com/questions/36568913/unit-testing-mocking-window-properties-in-angular2-typescript/37176904#37176904", "title": "Unit Testing/mocking Window properties in Angular2 (TypeScript)", "body": "<p>As @estus mentioned in the comment, you'd be better getting the hash from the Router. But to answer your question directly, you need to inject window into the place you're using it, so that during testing you can mock it.</p>\n\n<p>First, register window with the angular2 provider - probably somewhere global if you use this all over the place:</p>\n\n<pre><code>import { provide } from '@angular/core';\nprovide(Window, { useValue: window });\n</code></pre>\n\n<p>This tells angular when the dependency injection asks for the type <code>Window</code>, it should return the global <code>window</code>.</p>\n\n<p>Now, in the place you're using it, you inject this into your class instead of using the global directly:</p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({ ... })\nexport default class MyCoolComponent {\n    constructor (\n        window: Window\n    ) {}\n\n    public myCoolFunction () {\n        let hash: string;\n        hash = this.window.location.hash;\n    }\n}\n</code></pre>\n\n<p>Now you're ready to mock that value in your test.</p>\n\n<pre><code>import {\n    beforeEach,\n    beforeEachProviders,\n    describe,\n    expect,\n    it,\n    inject,\n    injectAsync\n} from 'angular2/testing';\n\nlet myMockWindow: Window;\nbeforeEachProviders(() =&gt; [\n    //Probably mock your thing a bit better than this..\n    myMockWindow = &lt;any&gt; { location: &lt;any&gt; { hash: 'WAOW-MOCK-HASH' }};\n    provide(Window, {useValue: myMockWindow})\n]);\n\nit('should do the things', () =&gt; {\n    let mockHash = myMockWindow.location.hash;\n    //...\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 35167, "user_id": 46194, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/4eca63bc630dcac855080d2871f73ee7?s=128&d=identicon&r=PG", "display_name": "Klas Mellbourn", "link": "https://stackoverflow.com/users/46194/klas-mellbourn"}, "edited": false, "score": 1, "creation_date": 1477780800, "post_id": 39209423, "comment_id": 67904210, "body": "That syntax is deprecated in the release version of Angular2"}], "tags": [], "owner": {"reputation": 2268, "user_id": 4983752, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Ly6B9.jpg?s=128&g=1", "display_name": "ulou", "link": "https://stackoverflow.com/users/4983752/ulou"}, "is_accepted": false, "score": 5, "last_activity_date": 1472483002, "creation_date": 1472483002, "answer_id": 39209423, "question_id": 36568913, "link": "https://stackoverflow.com/questions/36568913/unit-testing-mocking-window-properties-in-angular2-typescript/39209423#39209423", "title": "Unit Testing/mocking Window properties in Angular2 (TypeScript)", "body": "<p>After RC4 method <code>provide()</code> its depracated, so the way to handle this after RC4 is:</p>\n\n<pre><code>  let myMockWindow: Window;\n\n  beforeEach(() =&gt; {\n    myMockWindow = &lt;any&gt; { location: &lt;any&gt; {hash: 'WAOW-MOCK-HASH'}};\n    addProviders([SomeService, {provide: Window, useValue: myMockWindow}]);\n  });\n</code></pre>\n\n<p>It take me a while to figure it out, how it works.</p>\n"}, {"comments": [{"owner": {"reputation": 180, "user_id": 1359129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/464c8b226dfb321be2a9a6b24d95523b?s=128&d=identicon&r=PG", "display_name": "Dunos", "link": "https://stackoverflow.com/users/1359129/dunos"}, "edited": false, "score": 0, "creation_date": 1483027721, "post_id": 40320802, "comment_id": 69968484, "body": "This works for testing but not in AoT compilation (compiles but with a warning and the app crashes in the browser)"}, {"owner": {"reputation": 508, "user_id": 1683187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff82061f5efab4ca8fde666f6d0d478e?s=128&d=identicon&r=PG", "display_name": "Timespace", "link": "https://stackoverflow.com/users/1683187/timespace"}, "edited": false, "score": 0, "creation_date": 1494262108, "post_id": 40320802, "comment_id": 74741804, "body": "Tried this with an AoT build (along with typing <code>window</code> as <code>any</code> inside the constructor to work around a different bug), but my production build crashed when I tried to access a custom property on <code>window</code> that I&#39;m setting in another file. I followed the solution here instead, and it worked: <a href=\"http://stackoverflow.com/a/37176929/1683187\">stackoverflow.com/a/37176929/1683187</a>"}, {"owner": {"reputation": 10568, "user_id": 2951933, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6HrRg.png?s=128&g=1", "display_name": "Eugen Sunic", "link": "https://stackoverflow.com/users/2951933/eugen-sunic"}, "edited": false, "score": 0, "creation_date": 1566969099, "post_id": 40320802, "comment_id": 101816295, "body": "This is the correct answer for changing the windowMock object dynamically in each test when needed"}], "tags": [], "owner": {"reputation": 35167, "user_id": 46194, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/4eca63bc630dcac855080d2871f73ee7?s=128&d=identicon&r=PG", "display_name": "Klas Mellbourn", "link": "https://stackoverflow.com/users/46194/klas-mellbourn"}, "is_accepted": false, "score": 28, "last_activity_date": 1502350416, "last_edit_date": 1502350416, "creation_date": 1477755825, "answer_id": 40320802, "question_id": 36568913, "link": "https://stackoverflow.com/questions/36568913/unit-testing-mocking-window-properties-in-angular2-typescript/40320802#40320802", "title": "Unit Testing/mocking Window properties in Angular2 (TypeScript)", "body": "<p>In Angular 2 you can use the <code>@Inject()</code> function to inject the window object by naming it using a string token, like this</p>\n\n<pre><code>  constructor( @Inject('Window') private window: Window) { }\n</code></pre>\n\n<p>In the <code>@NgModule</code> you must then provide it using the same string:</p>\n\n<pre><code>@NgModule({\n    declarations: [ ... ],\n    imports: [ ... ],\n    providers: [ { provide: 'Window', useValue: window } ],\n})\nexport class AppModule {\n}\n</code></pre>\n\n<p>Then you can also mock it using the token string</p>\n\n<pre><code>beforeEach(() =&gt; {\n  let windowMock: Window = &lt;any&gt;{ };\n  TestBed.configureTestingModule({\n    providers: [\n      ApiUriService,\n      { provide: 'Window', useFactory: (() =&gt; { return windowMock; }) }\n    ]\n  });\n</code></pre>\n\n<p>This worked in Angular 2.1.1, the latest as of 2016-10-28.</p>\n\n<p>Does not work with Angular 4.0.0 AOT.\n<a href=\"https://github.com/angular/angular/issues/15640\" rel=\"noreferrer\">https://github.com/angular/angular/issues/15640</a></p>\n"}, {"tags": [], "owner": {"reputation": 1312, "user_id": 2437838, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mhyrY.jpg?s=128&g=1", "display_name": "Ilker Cat", "link": "https://stackoverflow.com/users/2437838/ilker-cat"}, "is_accepted": false, "score": 0, "last_activity_date": 1606916831, "last_edit_date": 1606916831, "creation_date": 1606915129, "answer_id": 65108877, "question_id": 36568913, "link": "https://stackoverflow.com/questions/36568913/unit-testing-mocking-window-properties-in-angular2-typescript/65108877#65108877", "title": "Unit Testing/mocking Window properties in Angular2 (TypeScript)", "body": "<p>I really don't get why nobody provided the easiest solution which is the <strong>recommended way by the Angular-Team to test a service</strong> as you can see <a href=\"https://angular.io/guide/testing-services\" rel=\"nofollow noreferrer\">here</a>. You even don't have to deal with the TestBed stuff at all in most of the cases.</p>\n<p>Futhermore, you can use this approach for components and directives as well. In that case, you won't create a component-instance but a class-instance. This means, you don't have to deal with the child-components used within the components template as well.</p>\n<p>Assuming you are able to inject Window into your constructor</p>\n<pre><code>constructor(@Inject(WINDOW_TOKEN) private _window: Window) {}\n</code></pre>\n<p>Just do the following in your .spec file:</p>\n<pre><code>describe('YourService', () =&gt; {\n  let service: YourService;\n  \n  beforeEach(() =&gt; {\n    service = new YourService(\n      {\n        location: {hash: 'YourHash'} as any,\n        ...\n      } as any,\n      ...\n    );\n  });\n}\n</code></pre>\n<p>I don't care about other properties, therefore I usually add a type cast to <code>any</code>. Feel free to include all other properties as well and type appropriately.</p>\n<p>In case you need different values on the mocked properties you can simply spy on them and change the value using <code>returnValue</code> of jasmine:</p>\n<pre><code>const spy: any = spyOn((service as any)._window, 'location').and.returnValue({hash: 'AnotherHash'});\n</code></pre>\n<p>or</p>\n<pre><code>const spy: any = spyOn((service as any)._window.location, 'hash').and.returnValue('AnotherHash');\n</code></pre>\n"}], "owner": {"reputation": 325, "user_id": 4487862, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a6131b0669ec4f9b6f0d68864336a0e4?s=128&d=identicon&r=PG&f=1", "display_name": "Rhys", "link": "https://stackoverflow.com/users/4487862/rhys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29984, "favorite_count": 2, "answer_count": 4, "score": 24, "last_activity_date": 1606916831, "creation_date": 1460452885, "question_id": 36568913, "link": "https://stackoverflow.com/questions/36568913/unit-testing-mocking-window-properties-in-angular2-typescript", "title": "Unit Testing/mocking Window properties in Angular2 (TypeScript)", "body": "<p>I'm building some unit tests for a service in Angular2.</p>\n\n<p>Within my Service I have the following code: </p>\n\n<p><code>var hash: string;\n hash = this.window.location.hash;</code></p>\n\n<p>However when I run a test which contains this code, it will fail.</p>\n\n<p>It'd be great to utilise all the features of Window, but as I'm using PhantomJs, I don't think this is possible (I have also tried Chrome which yields the same results).</p>\n\n<p>In AngularJs, I would have resorted to mocking $Window (or at least the properties in question), but as there is not a lot of documentation for Angular2 unit testing I'm not sure how to do this.</p>\n\n<p>Can anyone help? </p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1460451492, "post_id": 36568252, "comment_id": 60735870, "body": "That&#39;s an ambient declaration for an existing Node.js module written in JavaScript. How else should it be declared then?"}, {"owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "reply_to_user": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1460451818, "post_id": 36568252, "comment_id": 60736115, "body": "@vitaly-t: You need to export something that implements your <code>main</code> interface, rather the interface itself, I think? So, something like <code>var myModule: main; export default myModule;</code>."}, {"owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1460452340, "post_id": 36568252, "comment_id": 60736455, "body": "If I do that, the code compiles, but it generates this: <code>var my_module_1 = require(&quot;my-module&quot;); var s = my_module_1[&quot;default&quot;](&#39;test&#39;);</code> which then throws with <code>my_module_1.default is not a function</code>."}, {"owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "reply_to_user": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1460452881, "post_id": 36568252, "comment_id": 60736836, "body": "@vitaly-t: I think I&#39;ve seen that issue before - updated my answer."}, {"owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1460453003, "post_id": 36568252, "comment_id": 60736930, "body": "That did it! Thank you! :) :) :)"}, {"owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "reply_to_user": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1460453195, "post_id": 36568252, "comment_id": 60737047, "body": "@vitaly-t: No problem! I had the exact same issues trying to get TypeScript to play nice with Webpack, so I know the frustration all too well - glad I could help."}, {"owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1460455207, "post_id": 36568252, "comment_id": 60738606, "body": "Would you be so kind and please follow up on the last update I provided there? I&#39;m really stuck on that one."}, {"owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "reply_to_user": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1460458067, "post_id": 36568252, "comment_id": 60740564, "body": "@vitaly-t: Updated the answer - can&#39;t say I&#39;m sure what&#39;s causing the very last issue you mention though!"}], "tags": [], "owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "is_accepted": true, "score": 2, "last_activity_date": 1460457978, "last_edit_date": 1460457978, "creation_date": 1460451359, "answer_id": 36568252, "question_id": 36568075, "link": "https://stackoverflow.com/questions/36568075/typescript-call-signature-issue/36568252#36568252", "title": "TypeScript call signature issue", "body": "<p>a) If you have a default export, the import syntax is just <code>import MyModule from \"my-module\";</code> - you don't need the <code>* as</code>.</p>\n\n<p>b) You can't call an interface. You can call something that <em>implements</em> it, but trying to do <code>MyModule()</code> doesn't make sense.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>In response to the updated code - <a href=\"https://github.com/Microsoft/TypeScript/issues/5565#issuecomment-155216760\" rel=\"nofollow\">this is a pretty common issue when you're trying to use TypeScript's ES6 imports with a CommonJS module</a>. Microsoft insist on sticking to the spec where possible, rather than using any kind of magic to convert <code>module.exports</code> to an ES6 default export - technically they're probably correct in doing so, but given that <a href=\"https://babeljs.io\" rel=\"nofollow\">Babel</a> (probably the most popular JavaScript transpiler) does the conversion just fine, I really do wish they'd just add it to TypeScript too.</p>\n\n<p>The recommended way around this is to revert your import to the <code>import * as MyModule from \"my-module\";</code> syntax and modify your declaration like so:</p>\n\n<pre><code>declare module \"my-module\" {\n    interface main {\n        (string):string,\n        methodName():any,\n        propertyName:any,\n        objectName:Object\n    }\n    var myModule: main;\n    export = myModule; // &lt;= Here's the change\n}\n</code></pre>\n\n<p>Hopefully that'll give you the result you're looking for.</p>\n\n<p><strong>EDIT 2:</strong></p>\n\n<p>It gets a little more complex when you want to start defining your own types within your declaration, rather than just primitives - but not too much more complicated. A good example to start with is <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/body-parser/body-parser.d.ts\" rel=\"nofollow\">the type definitions for <code>body-parser</code></a>. I'm not going to copy the entire thing here, as my answer is already getting crazy long, but the things to note are:</p>\n\n<ul>\n<li>You can declare a <code>namespace</code>, have that as your main export, and then export other things from within that.</li>\n<li>It's possible to 'merge' declarations - in the file I linked, notice that they define <code>bodyParser</code> as a function, then define a namespace with the same name. These will get merged, meaning that the exports within the namespace will show up as properties of the function (e.g. <code>bodyParser()</code> and <code>bodyParser.json()</code> will both be available).</li>\n</ul>\n\n<p>Basically, the best advice I can give you is to browse the DefinitelyTyped repository for modules you know well, and look at how their definitions were created - it's the best way to learn how to do it yourself. </p>\n"}], "owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 778, "favorite_count": 0, "accepted_answer_id": 36568252, "answer_count": 1, "score": 0, "last_activity_date": 1460457978, "creation_date": 1460450943, "last_edit_date": 1460455897, "question_id": 36568075, "link": "https://stackoverflow.com/questions/36568075/typescript-call-signature-issue", "title": "TypeScript call signature issue", "body": "<p>I have file <code>my-module.ts</code>:</p>\n\n<pre><code>declare module \"my-module\" {\n    interface main {\n        (string):string,\n        methodName():any,\n        propertyName:any,\n        objectName:Object\n    }\n    export default main;\n}\n</code></pre>\n\n<p>and when using it from file <code>test.ts</code>:</p>\n\n<pre><code>import * as MyModule from \"my-module\";\nvar s = MyModule('test');\n</code></pre>\n\n<p>I'm getting error <code>Cannot invoke an expression whose type lacks a call signature.</code></p>\n\n<p>Why is it happening, and how to fix it?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Following suggestion from Joe Clay, if we change the code to this:</p>\n\n<pre><code>declare module \"my-module\" {\n    interface main {\n        (string):string,\n        methodName():any,\n        propertyName:any,\n        objectName:Object\n    }\n    var myModule: main;\n    export default myModule;\n}\n</code></pre>\n\n<p>And then try to use it like this:</p>\n\n<pre><code>import myModule from \"my-module\";\nvar s = myModule('test');\n</code></pre>\n\n<p>It generates the following JavaScript:</p>\n\n<pre><code>var my_module_1 = require(\"my-module\");\nvar s = my_module_1[\"default\"]('test');\n</code></pre>\n\n<p>Which throws error <code>my_module_1.default is not a function</code>.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>The following change resolved the immediate problem:</p>\n\n<pre><code>declare module \"my-module\" {\n    interface main {\n        (string):string,\n        methodName():any,\n        propertyName:any,\n        objectName:Object\n    }\n    var myModule: main;\n    export = myModule; // &lt;= Here's the change\n}\n</code></pre>\n\n<p>and using it:</p>\n\n<pre><code>import * as myModule from \"my-module\";\n</code></pre>\n\n<p>However, this presented me with another problem. I showed a simplified example of <code>my-module</code>, while the real one has a few classes and <code>enum</code>-s to export. However, with the change as above we no longer can do that.</p>\n\n<p>Ambient classes and <code>enum</code>-s are supposed to be exported using <code>export enum Name{}</code>, and <code>export class Name</code>, but this syntax is disallowed when <code>export = myModule</code> is used, producing error: <code>An export assignment cannot be used in a module with other exported elements.</code>.</p>\n\n<p>How to correct this one now? :)</p>\n\n<p>Even more trouble, I have another module which has a property of type <code>my-module</code>, for which if I declare as <code>properName: MyModule</code>, i'm getting <code>Cannot find name 'pgMinify'</code>. I don't understand what that means.</p>\n"}, {"tags": ["typescript", "webpack"], "answers": [{"comments": [{"owner": {"reputation": 1237, "user_id": 4800160, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a715600b3c75af58dd12ab468d60a1b6?s=128&d=identicon&r=PG&f=1", "display_name": "\u041a\u0430\u0447\u0430\u043b\u043e\u0432 \u0422\u0438\u043c\u043e\u0444\u0435\u0439", "link": "https://stackoverflow.com/users/4800160/%d0%9a%d0%b0%d1%87%d0%b0%d0%bb%d0%be%d0%b2-%d0%a2%d0%b8%d0%bc%d0%be%d1%84%d0%b5%d0%b9"}, "edited": false, "score": 0, "creation_date": 1460452219, "post_id": 36568569, "comment_id": 60736378, "body": "any way to do that without passing __exteds as global variable? and if so, any way to do that without DefinePlugins? I use gulp-webpack and plugins not supported inside gulp-webpack config"}, {"owner": {"reputation": 897, "user_id": 17977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/405c08a97bfa52d1d4ffaa6072606dc6?s=128&d=identicon&r=PG", "display_name": "Hristo Deshev", "link": "https://stackoverflow.com/users/17977/hristo-deshev"}, "reply_to_user": {"reputation": 1237, "user_id": 4800160, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a715600b3c75af58dd12ab468d60a1b6?s=128&d=identicon&r=PG&f=1", "display_name": "\u041a\u0430\u0447\u0430\u043b\u043e\u0432 \u0422\u0438\u043c\u043e\u0444\u0435\u0439", "link": "https://stackoverflow.com/users/4800160/%d0%9a%d0%b0%d1%87%d0%b0%d0%bb%d0%be%d0%b2-%d0%a2%d0%b8%d0%bc%d0%be%d1%84%d0%b5%d0%b9"}, "edited": false, "score": 0, "creation_date": 1460452294, "post_id": 36568569, "comment_id": 60736426, "body": "The only other way around I can think of is to bundle your __extends function definition together with your app, and let webpack wire it up automatically with the rest of your code."}, {"owner": {"reputation": 1237, "user_id": 4800160, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a715600b3c75af58dd12ab468d60a1b6?s=128&d=identicon&r=PG&f=1", "display_name": "\u041a\u0430\u0447\u0430\u043b\u043e\u0432 \u0422\u0438\u043c\u043e\u0444\u0435\u0439", "link": "https://stackoverflow.com/users/4800160/%d0%9a%d0%b0%d1%87%d0%b0%d0%bb%d0%be%d0%b2-%d0%a2%d0%b8%d0%bc%d0%be%d1%84%d0%b5%d0%b9"}, "edited": false, "score": 0, "creation_date": 1460452467, "post_id": 36568569, "comment_id": 60736553, "body": "if i bundle this function with my app - i need to import (or require) that function inside modules? if so - this is a bad solution =("}], "tags": [], "owner": {"reputation": 897, "user_id": 17977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/405c08a97bfa52d1d4ffaa6072606dc6?s=128&d=identicon&r=PG", "display_name": "Hristo Deshev", "link": "https://stackoverflow.com/users/17977/hristo-deshev"}, "is_accepted": false, "score": 1, "last_activity_date": 1460452072, "creation_date": 1460452072, "answer_id": 36568569, "question_id": 36567953, "link": "https://stackoverflow.com/questions/36567953/how-to-import-custom-function-inside-allmodules/36568569#36568569", "title": "How to import custom function inside allmodules?", "body": "<p>Is your custom function somewhere in the global scope? You can use the <a href=\"https://webpack.github.io/docs/list-of-plugins.html#defineplugin\" rel=\"nofollow\">DefinePlugin</a> to alias it:</p>\n\n<pre><code>new webpack.DefinePlugin({\n__extends: \"window.__extends\"\n})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1237, "user_id": 4800160, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a715600b3c75af58dd12ab468d60a1b6?s=128&d=identicon&r=PG&f=1", "display_name": "\u041a\u0430\u0447\u0430\u043b\u043e\u0432 \u0422\u0438\u043c\u043e\u0444\u0435\u0439", "link": "https://stackoverflow.com/users/4800160/%d0%9a%d0%b0%d1%87%d0%b0%d0%bb%d0%be%d0%b2-%d0%a2%d0%b8%d0%bc%d0%be%d1%84%d0%b5%d0%b9"}, "edited": false, "score": 0, "creation_date": 1460457824, "post_id": 36570446, "comment_id": 60740410, "body": "I did that, but got error: <code>Cannot find module &quot;.&#47;extends&quot;</code>  <code>extends.js</code> is near webpack config (for testing)"}, {"owner": {"reputation": 1237, "user_id": 4800160, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a715600b3c75af58dd12ab468d60a1b6?s=128&d=identicon&r=PG&f=1", "display_name": "\u041a\u0430\u0447\u0430\u043b\u043e\u0432 \u0422\u0438\u043c\u043e\u0444\u0435\u0439", "link": "https://stackoverflow.com/users/4800160/%d0%9a%d0%b0%d1%87%d0%b0%d0%bb%d0%be%d0%b2-%d0%a2%d0%b8%d0%bc%d0%be%d1%84%d0%b5%d0%b9"}, "edited": false, "score": 0, "creation_date": 1460458924, "post_id": 36570446, "comment_id": 60741164, "body": "After setting <code>modulesDirectories: [&#39;node_modules&#39;, &#39;.&#39;]</code> everybody works fine."}, {"owner": {"reputation": 12181, "user_id": 1290227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/059bcba3dc99dced802aa77e6bb96efd?s=128&d=identicon&r=PG", "display_name": "dreyescat", "link": "https://stackoverflow.com/users/1290227/dreyescat"}, "reply_to_user": {"reputation": 1237, "user_id": 4800160, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a715600b3c75af58dd12ab468d60a1b6?s=128&d=identicon&r=PG&f=1", "display_name": "\u041a\u0430\u0447\u0430\u043b\u043e\u0432 \u0422\u0438\u043c\u043e\u0444\u0435\u0439", "link": "https://stackoverflow.com/users/4800160/%d0%9a%d0%b0%d1%87%d0%b0%d0%bb%d0%be%d0%b2-%d0%a2%d0%b8%d0%bc%d0%be%d1%84%d0%b5%d0%b9"}, "edited": false, "score": 1, "creation_date": 1460458964, "post_id": 36570446, "comment_id": 60741197, "body": "It is weird. It shouldn&#39;t complain because you actually have the <code>extends.js</code> module right next to the <code>webpack.config.js</code>."}], "tags": [], "owner": {"reputation": 12181, "user_id": 1290227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/059bcba3dc99dced802aa77e6bb96efd?s=128&d=identicon&r=PG", "display_name": "dreyescat", "link": "https://stackoverflow.com/users/1290227/dreyescat"}, "is_accepted": true, "score": 1, "last_activity_date": 1460456952, "last_edit_date": 1460456952, "creation_date": 1460456602, "answer_id": 36570446, "question_id": 36567953, "link": "https://stackoverflow.com/questions/36567953/how-to-import-custom-function-inside-allmodules/36570446#36570446", "title": "How to import custom function inside allmodules?", "body": "<p>One way to make a function available in all modules is moving this function into a module and let webpack automatically load it when required. To do this you just need to:</p>\n\n<p>1.- Move your <code>__extends</code> function into a module that exports this function:</p>\n\n<p><strong>extends.js</strong></p>\n\n<pre><code>function __extends(d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nmodule.exports = __extends;\n</code></pre>\n\n<p>2.- Configure webpack to automatically require/import this module whenever <code>__extends</code> is used as a free variable. For this just use the <a href=\"https://webpack.github.io/docs/list-of-plugins.html#provideplugin\" rel=\"nofollow\">ProvidePlugin</a>:</p>\n\n<pre><code>var webpack = require('webpack');\n\nmodule.exports = {\n  // Your other configuration\n  plugins: [\n    new webpack.ProvidePlugin({\n      __extends: './extends'\n    })\n  ]\n};\n</code></pre>\n\n<p>Now you are free to use <code>__extends</code> anywhere without having to explicitly import/require it. Webpack will take care for you.</p>\n"}, {"tags": [], "owner": {"reputation": 1237, "user_id": 4800160, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a715600b3c75af58dd12ab468d60a1b6?s=128&d=identicon&r=PG&f=1", "display_name": "\u041a\u0430\u0447\u0430\u043b\u043e\u0432 \u0422\u0438\u043c\u043e\u0444\u0435\u0439", "link": "https://stackoverflow.com/users/4800160/%d0%9a%d0%b0%d1%87%d0%b0%d0%bb%d0%be%d0%b2-%d0%a2%d0%b8%d0%bc%d0%be%d1%84%d0%b5%d0%b9"}, "is_accepted": false, "score": 0, "last_activity_date": 1460553366, "creation_date": 1460553366, "answer_id": 36599618, "question_id": 36567953, "link": "https://stackoverflow.com/questions/36567953/how-to-import-custom-function-inside-allmodules/36599618#36599618", "title": "How to import custom function inside allmodules?", "body": "<p>Now <code>__extends</code> as node module!</p>\n\n<p><a href=\"https://www.npmjs.com/package/typescript-extends\" rel=\"nofollow\">https://www.npmjs.com/package/typescript-extends</a></p>\n\n<pre><code>// webpack configuration object\n\nplugins: [\n    new ProvidePlugin({\n        __extends: 'typescript-extends'\n    })\n],\n</code></pre>\n"}], "owner": {"reputation": 1237, "user_id": 4800160, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a715600b3c75af58dd12ab468d60a1b6?s=128&d=identicon&r=PG&f=1", "display_name": "\u041a\u0430\u0447\u0430\u043b\u043e\u0432 \u0422\u0438\u043c\u043e\u0444\u0435\u0439", "link": "https://stackoverflow.com/users/4800160/%d0%9a%d0%b0%d1%87%d0%b0%d0%bb%d0%be%d0%b2-%d0%a2%d0%b8%d0%bc%d0%be%d1%84%d0%b5%d0%b9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 671, "favorite_count": 0, "accepted_answer_id": 36570446, "answer_count": 3, "score": 0, "last_activity_date": 1460553366, "creation_date": 1460450584, "question_id": 36567953, "link": "https://stackoverflow.com/questions/36567953/how-to-import-custom-function-inside-allmodules", "title": "How to import custom function inside allmodules?", "body": "<p>I have function:</p>\n\n<pre><code>function __extends(d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n</code></pre>\n\n<p>How i can pass with Webpack that function as variable <code>__extends</code> inside ALL modules?</p>\n"}, {"tags": ["node.js", "testing", "typescript", "npm", "gulp"], "comments": [{"owner": {"reputation": 4755, "user_id": 3284355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eeUPu.jpg?s=128&g=1", "display_name": "Molda", "link": "https://stackoverflow.com/users/3284355/molda"}, "edited": false, "score": 0, "creation_date": 1460454273, "post_id": 36567453, "comment_id": 60737842, "body": "Possible duplicate <a href=\"http://stackoverflow.com/questions/31322525/typescript-confusing-duplicate-identifier-error-message\" title=\"typescript confusing duplicate identifier error message\">stackoverflow.com/questions/31322525/&hellip;</a>"}, {"owner": {"reputation": 626, "user_id": 5264382, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/8581153a09411e416714e70a3ed46816?s=128&d=identicon&r=PG&f=1", "display_name": "n00n", "link": "https://stackoverflow.com/users/5264382/n00n"}, "reply_to_user": {"reputation": 4755, "user_id": 3284355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eeUPu.jpg?s=128&g=1", "display_name": "Molda", "link": "https://stackoverflow.com/users/3284355/molda"}, "edited": false, "score": 0, "creation_date": 1460460196, "post_id": 36567453, "comment_id": 60742028, "body": "no, I found your link before, but it could not help to solve my problem..."}], "answers": [{"comments": [{"owner": {"reputation": 626, "user_id": 5264382, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/8581153a09411e416714e70a3ed46816?s=128&d=identicon&r=PG&f=1", "display_name": "n00n", "link": "https://stackoverflow.com/users/5264382/n00n"}, "edited": false, "score": 0, "creation_date": 1460713350, "post_id": 36586134, "comment_id": 60880808, "body": "Yes, there are many files importing the IDialogService. I do not know if I can import it once..."}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 626, "user_id": 5264382, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/8581153a09411e416714e70a3ed46816?s=128&d=identicon&r=PG&f=1", "display_name": "n00n", "link": "https://stackoverflow.com/users/5264382/n00n"}, "edited": false, "score": 0, "creation_date": 1460834572, "post_id": 36586134, "comment_id": 60929107, "body": "You can <code>import</code> it as many times as you want. But you must not define it more than once"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1460505318, "creation_date": 1460505318, "answer_id": 36586134, "question_id": 36567453, "link": "https://stackoverflow.com/questions/36567453/many-duplicate-identifier-errors-on-testing-type-script-application/36586134#36586134", "title": "many Duplicate Identifier errors on testing type script application", "body": "<p>I see lots of <code>Duplicate identifier 'IDialogService'.</code> I suspect the error is <em>genuine</em> and you are doing something like : </p>\n\n<pre><code> interface Something {\n   IDialogService: Foo;\n }\n</code></pre>\n\n<p><em>multiple times in your codebase</em>. You should only have this <em>once</em>. </p>\n"}, {"tags": [], "owner": {"reputation": 626, "user_id": 5264382, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/8581153a09411e416714e70a3ed46816?s=128&d=identicon&r=PG&f=1", "display_name": "n00n", "link": "https://stackoverflow.com/users/5264382/n00n"}, "is_accepted": false, "score": 0, "last_activity_date": 1461842954, "creation_date": 1461842954, "answer_id": 36913293, "question_id": 36567453, "link": "https://stackoverflow.com/questions/36567453/many-duplicate-identifier-errors-on-testing-type-script-application/36913293#36913293", "title": "many Duplicate Identifier errors on testing type script application", "body": "<p>solved like this</p>\n\n<p>instead of \nimport foo as library.foo;\nfunction .. (..., foo, ... )</p>\n\n<p>I used: \nfunction .. (..., library.foo, ... )</p>\n"}], "owner": {"reputation": 626, "user_id": 5264382, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/8581153a09411e416714e70a3ed46816?s=128&d=identicon&r=PG&f=1", "display_name": "n00n", "link": "https://stackoverflow.com/users/5264382/n00n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1461842954, "creation_date": 1460449229, "question_id": 36567453, "link": "https://stackoverflow.com/questions/36567453/many-duplicate-identifier-errors-on-testing-type-script-application", "title": "many Duplicate Identifier errors on testing type script application", "body": "<p>searching the whole morning for a solution... </p>\n\n<p>I use typescript on (node, npm, bower and gulp).\nOn gulp serve / gulp test I got hundreds of same error message: </p>\n\n<pre><code>src\\app\\main\\common\\dialogs\\collections\\collections.controller.ts(1,8): error TS2300: Duplicate identifier 'IDialogService'.\nsrc\\app\\main\\common\\dialogs\\createproject\\createprojectdialog.controller.ts(1,8): error TS2300: Duplicate identifier 'ILogService'.\nsrc\\app\\main\\common\\dialogs\\datasheet\\create\\controller.ts(1,8): error TS2300: Duplicate identifier 'IDialogService'.\nsrc\\app\\main\\common\\dialogs\\decisor\\controller.ts(1,8): error TS2300: Duplicate identifier 'IDialogService'.\n</code></pre>\n\n<p>my Compiler Options:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"module\": \"commonjs\",\n    \"target\": \"es5\",\n    \"sourceMap\": true\n  },\n  \"exclude\": [\n    \"node_modules\"\n  ]\n}\n</code></pre>\n\n<p>Anyone who can give me a hint... ?</p>\n\n<p>regards <em>n00n</em></p>\n"}, {"tags": ["typescript", "packages"], "comments": [{"owner": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "edited": false, "score": 0, "creation_date": 1460450478, "post_id": 36567182, "comment_id": 60735161, "body": "I&#39;d say this is a complex problem that needs to be approached from multiple perspectives, and cannot be answered in one concise post. Either way, you might want to extensively utilize reexporting to organize your modules the best you can."}, {"owner": {"reputation": 1459, "user_id": 730264, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0ec44c1dd349bc6d94705335f5d2b492?s=128&d=identicon&r=PG", "display_name": "cubiclewar", "link": "https://stackoverflow.com/users/730264/cubiclewar"}, "reply_to_user": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "edited": false, "score": 0, "creation_date": 1460459972, "post_id": 36567182, "comment_id": 60741875, "body": "I was thinking along those lines, however unsure whether I should have an englib namespace everything sits in and how that even works across multiple packages."}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1460505515, "creation_date": 1460505515, "answer_id": 36586162, "question_id": 36567182, "link": "https://stackoverflow.com/questions/36567182/structure-of-a-large-library-with-typescript/36586162#36586162", "title": "Structure of a large library with typescript", "body": "<blockquote>\n  <p>Ideally each of these modules would be a separate npm module </p>\n</blockquote>\n\n<p>This is the way to go. Note that TypeScript understands <code>node_modules</code> out of the box : <a href=\"https://basarat.gitbooks.io/typescript/content/docs/quick/nodejs.html\" rel=\"nofollow\">https://basarat.gitbooks.io/typescript/content/docs/quick/nodejs.html</a></p>\n\n<blockquote>\n  <p>or bower package</p>\n</blockquote>\n\n<p>Also bower is dead : <a href=\"https://twitter.com/basarat/status/671930970690347009\" rel=\"nofollow\">https://twitter.com/basarat/status/671930970690347009</a></p>\n"}], "owner": {"reputation": 1459, "user_id": 730264, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0ec44c1dd349bc6d94705335f5d2b492?s=128&d=identicon&r=PG", "display_name": "cubiclewar", "link": "https://stackoverflow.com/users/730264/cubiclewar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1460505515, "creation_date": 1460448375, "question_id": 36567182, "link": "https://stackoverflow.com/questions/36567182/structure-of-a-large-library-with-typescript", "title": "Structure of a large library with typescript", "body": "<p>I am developing a library for engineering calculations which is becoming quite complex in structure. Currently I use UMD to allow me to add or extend modules and have recently become interested in converting this over to typescript.</p>\n\n<p>Say the library is called englib it might have several modules like the following</p>\n\n<ul>\n<li>englib.thermo.pengrobinson</li>\n<li>englib.thermo.srk</li>\n<li>englib.convert</li>\n<li>englib.maths</li>\n</ul>\n\n<p>Ideally each of these modules would be a separate npm module or bower package so functionality can be cherrypicked.</p>\n\n<p>Additionally englib.thermo would be its own module that provides base data and classes for englib.thermo.pengrobinson and englib.thermo.srk.</p>\n\n<p>What is the best way to structure this using namespaces and modules in typescript so I can maintain the organisational hierarchy while also allowing module consumption to be cherry picked?</p>\n"}, {"tags": ["typescript", "angular", "ng-class"], "answers": [{"tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": false, "score": 2, "last_activity_date": 1460448077, "creation_date": 1460448077, "answer_id": 36567093, "question_id": 36567061, "link": "https://stackoverflow.com/questions/36567061/angular2-is-there-a-way-to-set-bootstrap-col-dynamically/36567093#36567093", "title": "Angular2 is there a way to set bootstrap col dynamically?", "body": "<p>I would leverage <code>NgClass</code> for this:</p>\n\n<pre><code>&lt;div [ngClass]=\"{'col-xs-2': prototype?.valueType === 'Set', 'col-xs-3': 'prototype?.valueType !== 'Set''}\"&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 6, "last_activity_date": 1460449327, "last_edit_date": 1460449327, "creation_date": 1460448108, "answer_id": 36567099, "question_id": 36567061, "link": "https://stackoverflow.com/questions/36567061/angular2-is-there-a-way-to-set-bootstrap-col-dynamically/36567099#36567099", "title": "Angular2 is there a way to set bootstrap col dynamically?", "body": "<p>Use <code>ngClass</code>:</p>\n\n<pre><code>&lt;div [ngClass]=\"{\n    'col-xs-3': prototype?.valueType !== 'Set',\n    'col-xs-2': prototype?.valueType === 'Set'}\"&gt; \n</code></pre>\n\n<p>See also <a href=\"https://angular.io/docs/ts/latest/api/common/NgClass-directive.html\" rel=\"noreferrer\">https://angular.io/docs/ts/latest/api/common/NgClass-directive.html</a></p>\n"}], "owner": {"reputation": 3492, "user_id": 4983589, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/610eb31d22385e4687f5f50636ed904e?s=128&d=identicon&r=PG&f=1", "display_name": "Sireini", "link": "https://stackoverflow.com/users/4983589/sireini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1556, "favorite_count": 0, "accepted_answer_id": 36567099, "answer_count": 2, "score": 2, "last_activity_date": 1460449327, "creation_date": 1460447979, "question_id": 36567061, "link": "https://stackoverflow.com/questions/36567061/angular2-is-there-a-way-to-set-bootstrap-col-dynamically", "title": "Angular2 is there a way to set bootstrap col dynamically?", "body": "<p>Is it possible to use an <code>If statement</code> to set the column width of the <code>div</code>? I have got different <code>div</code> elements like this:</p>\n\n<pre><code>    &lt;div class=\"col-xs-3\"&gt;\n        &lt;select class=\"form-control\" [(ngModel)]=\"selectedPrototypeSelector\" (ngModelChange)=\"onPrototypeChange()\"&gt;\n            &lt;option *ngFor=\"#p of prototypes\" [value]=\"p.selector\"&gt;\n                {{ p.selectorName }}\n            &lt;/option&gt;\n        &lt;/select&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"col-xs-1\" *ngIf=\"prototype?.valueType === 'Set'\"&gt;\n       &lt;p class=\"text-center\"&gt;If&lt;/p&gt;\n   &lt;/div&gt;\n</code></pre>\n\n<p>How can I change the <code>col-xs-3</code> above to <code>col-xs-2</code> for example when <code>prototype?.valueType === 'Set'</code> </p>\n"}, {"tags": ["javascript", "node.js", "typescript"], "comments": [{"owner": {"reputation": 69847, "user_id": 3853934, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GtQuz.jpg?s=128&g=1", "display_name": "Micha\u0142 Per\u0142akowski", "link": "https://stackoverflow.com/users/3853934/micha%c5%82-per%c5%82akowski"}, "edited": false, "score": 1, "creation_date": 1460446347, "post_id": 36566391, "comment_id": 60732460, "body": "TypeScript is a superset of JavaScript, which means this code, which is valid JavaScript, is also valid TypeScript."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 69847, "user_id": 3853934, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GtQuz.jpg?s=128&g=1", "display_name": "Micha\u0142 Per\u0142akowski", "link": "https://stackoverflow.com/users/3853934/micha%c5%82-per%c5%82akowski"}, "edited": false, "score": 0, "creation_date": 1460446470, "post_id": 36566391, "comment_id": 60732539, "body": "@Gothdo while that is true, TypeScript makes it a pain to extend objects after their types are defined because of the static typing. Like adding properties to a function. It&#39;s much easier and cleaner to transform the code to a class. :)"}], "answers": [{"comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 69847, "user_id": 3853934, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GtQuz.jpg?s=128&g=1", "display_name": "Micha\u0142 Per\u0142akowski", "link": "https://stackoverflow.com/users/3853934/micha%c5%82-per%c5%82akowski"}, "edited": false, "score": 0, "creation_date": 1460446567, "post_id": 36566494, "comment_id": 60732607, "body": "indeed he doesn&#39;t, but it is cleaner this way. :) the alternative is to add type assertions to &lt;any&gt; when adding the extra properties on the main function. I&#39;ll make an example of that too. :)"}, {"owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1460446569, "post_id": 36566494, "comment_id": 60732608, "body": "I think there maybe some misunderstanding. I was asking for a declaration interface for an existing Node.js module, not for a way to implement a new class that works in the same way."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1460446871, "post_id": 36566494, "comment_id": 60732819, "body": "@vitaly-t I added another example that just patches the current code to have it work in the typescript compiler. The generated js code for the 2 should be equivalent."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1460447479, "post_id": 36566494, "comment_id": 60733202, "body": "@vitaly-t I did, does that fit?"}, {"owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1460447719, "post_id": 36566494, "comment_id": 60733349, "body": "@toskv in my module <code>main(options)</code> is a function that returns a string, it is not in any way a class. How to amend it then?"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1460447824, "post_id": 36566494, "comment_id": 60733408, "body": "@vitaly-t that should do it."}, {"owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1460448275, "post_id": 36566494, "comment_id": 60733688, "body": "@toskv could you, please look at my updated post and tell me what else am I missing there?"}, {"owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1460448936, "post_id": 36566494, "comment_id": 60734069, "body": "@toskv I have updated the error to <code>Cannot invoke an expression whose type lacks a call signature.</code>. Any idea what am I missing there?"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1460453094, "post_id": 36566494, "comment_id": 60736991, "body": "where are you getting the error? is it when you call myModule?"}], "tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": false, "score": 3, "last_activity_date": 1460447784, "last_edit_date": 1460447784, "creation_date": 1460446335, "answer_id": 36566494, "question_id": 36566391, "link": "https://stackoverflow.com/questions/36566391/declaring-javascript-extended-functions-in-typescript/36566494#36566494", "title": "Declaring JavaScript extended functions in TypeScript", "body": "<p>A TypeScript interface describing that code would be:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface MainIf {\n    (options) : string ; // the main function\n    methodName() : any;\n    propertyName: number;\n    objectName: Object;\n}\n</code></pre>\n\n\n"}], "owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1460448905, "creation_date": 1460445990, "last_edit_date": 1460448905, "question_id": 36566391, "link": "https://stackoverflow.com/questions/36566391/declaring-javascript-extended-functions-in-typescript", "title": "Declaring JavaScript extended functions in TypeScript", "body": "<p>I have this type of Node.js module written in JavaScript:</p>\n\n<pre><code>function main(options) {\n    return \"some string\";\n}\n\nmain.methodName = function () {\n    // implementation;\n};\n\nmain.objectName = {\n    // a namespace;\n};\n\nmain.propertyName = 123;\n\nmodule.exports = main;\n</code></pre>\n\n<p>What is the proper way of declaring such an interface in TypeScript?</p>\n\n<p><strong>CLARIFICATION</strong></p>\n\n<p>I'm asking about how to properly declare such an interface in TypeScript for an existing Node.js module, so it can be used correctly from TypeScript files, not how to re-implement such interfaces in TypeScript.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Following suggestion from @toskv, I have added the following interface:</p>\n\n<pre><code>declare module \"my-module\" {\n\n    // Default library interface\n    interface main {\n        (options?:{}):string,\n        methodName():any,\n        propertyName:any,\n        objectName:Object\n    }\n\n    export default main;\n}\n</code></pre>\n\n<p>But if I use it like this:</p>\n\n<pre><code>import * as myModule from \"my-module\";\nvar s = myModule({});\n</code></pre>\n\n<p>Then I'm getting error <code>Cannot invoke an expression whose type lacks a call signature.</code>.</p>\n\n<p>Any idea why?</p>\n"}, {"tags": ["javascript", "module", "typescript", "ecmascript-6"], "owner": {"reputation": 1424, "user_id": 25735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaca067812137242b1a60be1add56639?s=128&d=identicon&r=PG", "display_name": "rawpower", "link": "https://stackoverflow.com/users/25735/rawpower"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 168, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1460442449, "creation_date": 1460442449, "question_id": 36565132, "link": "https://stackoverflow.com/questions/36565132/retrofitting-es6-modules-to-an-existing-typescript-project", "title": "Retrofitting ES6 modules to an existing TypeScript project", "body": "<p>I have a TypeScript project that I started a year ago when tooling/language/libraries were at a stage that choosing a module system was confusing and risky - so I chose none. </p>\n\n<p>I used <code>tsd</code> to pull in the <code>.d.ts</code> files for external libraries and compiler was happy. I used - occasionally - <code>/// &lt;reference src=\"\"</code> for my own files and nothing else (no module system). </p>\n\n<p>I let TypeScript compiler create a single output JavaScript file which I referenced from a Web page, preceded by references to the external libraries (in the order of dependency). </p>\n\n<p>Everything worked fine.</p>\n\n<p>I am now switching to ES6 modules transpiled (by TypeScript) to CommonJS. I am also not referencing the dependencies in the Web page which hosts my JavaScript result, but will be using <code>browserify</code> to bundle everything together.</p>\n\n<p>Finally, the question: how do I make sure that <strong>in compile time</strong> the TypeScript compiler warns about missing <code>import</code> statements which reference external code?</p>\n\n<p>In the current code, since I use <code>tsd</code> (soon <code>typings</code>) all the declaration files are included in the source tree, compiler sees them and is happy. However, nothing is <code>require</code>d in the output (I have yet to add <code>import</code> statements for external code) and if I don't include the dependency in the final HTML myself (which I don't want to do anymore, I want <code>browserify</code> to bundle everything for me), the code won't work, plus I have to run it to see that it doesn't work (whole point of TypeScript is to catch as many errors as I can while compiling and not while running the code).</p>\n\n<p>When I do use <code>import</code> syntax, the compilation works and the <code>require</code> is emitted in the JavaScript, but <strong>only</strong> if TypeScript definition file is present (I kind of expected the compiler to look into <code>node_modules</code>, though since only JavaScript is there I guess it cannot really know which symbols have been exported).</p>\n\n<p>In order for compiler to tell me where I need to add <code>import</code> for external code, I tried removing typings produced by <code>tsd</code>, which does produce errors for all places where I'm referencing the external dependencies, but if I keep typings removed, I cannot compile any more (not without errors).</p>\n\n<p>I know this sounds like \"have cake and eat it too\" scenario, but I have a feeling I'm missing something obvious.</p>\n\n<p>What would be the best approach to this, if any? Or should I continue with my \"remove typings, blindly type <code>import</code> wherever there are compilation errors, then put back typings and pray that things work in runtime\"?</p>\n"}, {"tags": ["javascript", "typescript", "angular"], "comments": [{"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 0, "creation_date": 1460441696, "post_id": 36564799, "comment_id": 60729739, "body": "In Edit i have removed <code>@View</code>  because there in no more use of @view in beta angular2"}], "answers": [{"tags": [], "owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "is_accepted": true, "score": 4, "last_activity_date": 1460442735, "last_edit_date": 1460442735, "creation_date": 1460441406, "answer_id": 36564868, "question_id": 36564799, "link": "https://stackoverflow.com/questions/36564799/why-does-focus-doesn-t-work-in-this-angular2-example/36564868#36564868", "title": "Why does (focus) doesn&#39; t work in this angular2 example?", "body": "<blockquote>\n  <p>A <code>p</code>(paragraph) or <code>div</code> tag can't receive focus. Focus can only be applies to things you can interact with, like links(anchor), input elements, textareas, button, etc</p>\n</blockquote>\n\n<p>Add <code>tabindex</code> attribute  over <code>p</code> tag to receive focus event over this element, add <code>tabindex=\"0\"</code> over <code>p</code> tag to make it working. By keeping <code>tabindex</code> to <code>0</code>, it will make sure that will perform focus, how the order of element on DOM.</p>\n\n<p><strong>Markup</strong></p>\n\n<pre><code>&lt;h1&gt;AngularJs 2 Material Design Demo&lt;/h1&gt;\n&lt;md-input-container&gt;\n  &lt;label&gt;Your name&lt;/label&gt;\n  &lt;input #newname tabindex=\"0\"/&gt;\n\n&lt;/md-input-container&gt;\n&lt;p (click)=\"test()\" (focus)=\"test2()\" tabindex=\"0\"&gt;\n  Hello, {{newname.value}}\n&lt;/p&gt;\n</code></pre>\n\n<p><a href=\"http://plnkr.co/edit/pTic1UQ7yyg5TBtbelkC?p=preview\" rel=\"nofollow\"><strong>Demo Plunkr</strong></a></p>\n\n<blockquote>\n  <p>Don't use <code>@View</code> annotation, it has already been deprecated.</p>\n</blockquote>\n"}], "owner": {"reputation": 2083, "user_id": 5628302, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/5f2485540a76d5f3ca57c2f238b5ac8f?s=128&d=identicon&r=PG&f=1", "display_name": "testing", "link": "https://stackoverflow.com/users/5628302/testing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3550, "favorite_count": 0, "accepted_answer_id": 36564868, "answer_count": 1, "score": 3, "last_activity_date": 1460442735, "creation_date": 1460441097, "last_edit_date": 1460441661, "question_id": 36564799, "link": "https://stackoverflow.com/questions/36564799/why-does-focus-doesn-t-work-in-this-angular2-example", "title": "Why does (focus) doesn&#39; t work in this angular2 example?", "body": "<p>Here is <a href=\"http://plnkr.co/edit/QKAnoCTNdTvk84RmtTLy?p=preview\" rel=\"nofollow\">plunker</a> for testing</p>\n\n<pre><code> @Component({\n   selector: 'test-app'\n   template:`\n    &lt;h1&gt;AngularJs 2 Material Design Demo&lt;/h1&gt;\n    &lt;md-input-container&gt;\n      &lt;label&gt;Your name&lt;/label&gt;\n      &lt;input #newname /&gt;\n\n    &lt;/md-input-container&gt;\n    &lt;p (click)=\"test()\" (focus)=\"test2()\"&gt;\n      Hello, {{newname.value}}\n    &lt;/p&gt;\n  `,\n  directives: [MdInputContainer, MdInput]\n})\n\nclass TestApp {\n  constructor(){\n    this.title = 'AngularJs 2 Material Design Demo';\n  }\n  test() {\n\n    console.log('test');\n  }\n  test2() {\n    console.log('test2');\n  }\n}\n</code></pre>\n\n<p>In the above example, I added <code>(click)</code> and <code>(focus)</code> to <code>&lt;p&gt;</code> element.</p>\n\n<pre><code>&lt;p (click)=\"test()\" (focus)=\"test2()\"&gt;\n</code></pre>\n\n<p>However we can see that only <code>click</code> event is propagated, while <code>focus</code> event is not propagated. Am I using focus the wrong way?</p>\n\n<p>Any advice would be appreciated.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["typescript", "jasmine", "angular", "karma-runner", "tsc"], "comments": [{"owner": {"reputation": 349, "user_id": 1760705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SbqpW.jpg?s=128&g=1", "display_name": "Benni", "link": "https://stackoverflow.com/users/1760705/benni"}, "edited": false, "score": 0, "creation_date": 1460456518, "post_id": 36563975, "comment_id": 60739548, "body": "Same problem here during a webpack build with ts-loader."}], "answers": [{"tags": [], "owner": {"reputation": 43871, "user_id": 1492009, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/FtlBx.jpg?s=128&g=1", "display_name": "Mark Pieszak - Trilon.io", "link": "https://stackoverflow.com/users/1492009/mark-pieszak-trilon-io"}, "is_accepted": false, "score": 0, "last_activity_date": 1460461774, "creation_date": 1460461774, "answer_id": 36572445, "question_id": 36563975, "link": "https://stackoverflow.com/questions/36563975/typescript-compilation-errors-in-angular-2/36572445#36572445", "title": "Typescript compilation errors in Angular 2", "body": "<p>You need a reference to the definition file in your apps entry point:</p>\n\n<pre><code>/// &lt;reference path=\"node_modules/angular2/typings/browser.d.ts\" /&gt;\n</code></pre>\n\n<p><a href=\"https://github.com/angular/angular/issues/7280\" rel=\"nofollow\">https://github.com/angular/angular/issues/7280</a></p>\n"}, {"comments": [{"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 1, "creation_date": 1460466961, "post_id": 36574192, "comment_id": 60747579, "body": "Reference issues on <a href=\"https://github.com/angular/angular/pull/7919\" rel=\"nofollow noreferrer\">angular2</a> and <a href=\"https://github.com/ReactiveX/rxjs/pull/1551\" rel=\"nofollow noreferrer\">RxJS</a>"}], "tags": [], "owner": {"reputation": 275, "user_id": 3522865, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/58e242236f5fd0ea2f2ba4b8d7921d8c?s=128&d=identicon&r=PG&f=1", "display_name": "Lauris01", "link": "https://stackoverflow.com/users/3522865/lauris01"}, "is_accepted": false, "score": 2, "last_activity_date": 1460466258, "creation_date": 1460466258, "answer_id": 36574192, "question_id": 36563975, "link": "https://stackoverflow.com/questions/36563975/typescript-compilation-errors-in-angular-2/36574192#36574192", "title": "Typescript compilation errors in Angular 2", "body": "<p>It is a bug in rxjs bet 5. Wait for beta 6 or downgrade to 4 using</p>\n\n<pre><code> npm install rxjs@5.0.0-beta.4 --save.\n</code></pre>\n"}], "owner": {"reputation": 606, "user_id": 3683877, "user_type": "registered", "accept_rate": 8, "profile_image": "https://graph.facebook.com/100003118377871/picture?type=large", "display_name": "abhinavmsra", "link": "https://stackoverflow.com/users/3683877/abhinavmsra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 902, "favorite_count": 3, "answer_count": 2, "score": 1, "last_activity_date": 1460466258, "creation_date": 1460437291, "question_id": 36563975, "link": "https://stackoverflow.com/questions/36563975/typescript-compilation-errors-in-angular-2", "title": "Typescript compilation errors in Angular 2", "body": "<p>So, I have been trying to learn <code>Angular 2</code> for some days now (<a href=\"https://github.com/abhinavmsra/Angular2-jasmine-karma\" rel=\"nofollow\">Github Repo</a>). For unit testing, I have been trying to configure <code>Jasmine</code> and <code>Karma</code>. I have been following these projects as a base </p>\n\n<p>1) <a href=\"http://twofuckingdevelopers.com/2016/01/testing-angular-2-with-karma-and-jasmine/\" rel=\"nofollow\">Testing Angular 2 with Karma and Jasmine</a></p>\n\n<p>2) <a href=\"https://github.com/juliemr/ng2-test-seed\" rel=\"nofollow\">seed Angular2 application</a></p>\n\n<p>However, for some reasons I am not getting the configurations right. May be due to lack of experience on front end development.</p>\n\n<p>First I got errors with message:</p>\n\n<p><code>\nnode_modules/angular2/platform/browser.d.ts(77,90): error TS2304: Cannot find name 'Promise'.\n</code> </p>\n\n<p>I found similar issue posted <a href=\"https://github.com/angular/angular/issues/7280\" rel=\"nofollow\">here</a> \n and followed the solution as mentioned <a href=\"https://github.com/ericmdantas/angular2-typescript-todo/blob/master/index.ts#L1\" rel=\"nofollow\">here</a></p>\n\n<p>However now I am receiving following errors:</p>\n\n<pre><code>node_modules/rxjs/Observable.d.ts(1,1): error TS2654: Exported external package typings file cannot contain tripleslash references. Please contact the package author to update the package definition.\nnode_modules/rxjs/Observable.d.ts(12,6): error TS2304: Cannot find name 'Symbol'.\nnode_modules/rxjs/Observable.d.ts(15,42): error TS2304: Cannot find name 'Iterable'.\n</code></pre>\n\n<p>For this error, I didnt find any convincing solution. So, can someone help me out with it?</p>\n\n<p>Thanks in advance.</p>\n\n<p><strong>Configuration Details:</strong></p>\n\n<p>1) Package.json</p>\n\n<pre><code>{\n  \"name\": \"learning\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Learning Angular 2\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"build\": \"rm -rf dist &amp;&amp; tsc -p src/\",\n    \"start\": \"tsc &amp;&amp; concurrently \\\"npm run tsc:w\\\" \\\"http-server -c-1 -o -p 8875 .\\\" \",\n    \"tsc\": \"tsc\",\n    \"tsc:w\": \"tsc -w\",\n    \"pretest\": \"npm run build\",\n    \"test\": \"karma start karma.conf.js\",\n    \"posttest\": \"node_modules/.bin/remap-istanbul -i coverage/coverage-final.json -o coverage -t html\",\n    \"coverage\": \"http-server -c-1 -o -p 9875 ./coverage\",\n    \"typings\": \"typings\",\n    \"postinstall\": \"typings install\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"angular2\": \"^2.0.0-beta.14\",\n    \"es6-promise\": \"^3.1.2\",\n    \"es6-shim\": \"^0.35.0\",\n    \"reflect-metadata\": \"^0.1.3\",\n    \"rxjs\": \"^5.0.0-beta.5\",\n    \"zone.js\": \"^0.6.10\"\n  },\n  \"devDependencies\": {\n    \"concurrently\": \"^2.0.0\",\n    \"http-server\": \"^0.9.0\",\n    \"jasmine-core\": \"^2.4.1\",\n    \"karma\": \"^0.13.22\",\n    \"karma-chrome-launcher\": \"^0.2.3\",\n    \"karma-coverage\": \"^0.5.5\",\n    \"karma-jasmine\": \"^0.3.8\",\n    \"remap-istanbul\": \"^0.5.1\",\n    \"systemjs\": \"^0.19.25\",\n    \"typescript\": \"^1.8.9\",\n    \"typings\":\"^0.7.12\"\n  }\n}\n</code></pre>\n\n<p>2) tsconfig.json</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"ES5\",\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"sourceMap\": true,\n    \"removeComments\": true,\n    \"declaration\": true,\n    \"outDir\": \"../dist\"\n  },\n  \"exclude\": [\n    \"node_modules\"\n  ]\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "promise", "bluebird"], "comments": [{"owner": {"reputation": 6959, "user_id": 481904, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0f412e7c9959eb9b354c147d4c2f9c97?s=128&d=identicon&r=PG", "display_name": "zam6ak", "link": "https://stackoverflow.com/users/481904/zam6ak"}, "edited": false, "score": 0, "creation_date": 1460554288, "post_id": 36563077, "comment_id": 60796972, "body": "Have you ever found a way to resolve this? I am running into same issue..."}, {"owner": {"reputation": 10575, "user_id": 150094, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9fa2fd43a05ae2e1474f22f81bc802ea?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/150094/dave"}, "reply_to_user": {"reputation": 6959, "user_id": 481904, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0f412e7c9959eb9b354c147d4c2f9c97?s=128&d=identicon&r=PG", "display_name": "zam6ak", "link": "https://stackoverflow.com/users/481904/zam6ak"}, "edited": false, "score": 0, "creation_date": 1460667368, "post_id": 36563077, "comment_id": 60862862, "body": "@zam6ak Yes by using declaration merging. See my answer below."}], "answers": [{"comments": [{"owner": {"reputation": 6959, "user_id": 481904, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0f412e7c9959eb9b354c147d4c2f9c97?s=128&d=identicon&r=PG", "display_name": "zam6ak", "link": "https://stackoverflow.com/users/481904/zam6ak"}, "edited": false, "score": 2, "creation_date": 1461094107, "post_id": 36633824, "comment_id": 61039302, "body": "is this maintainable for large libraries? What if you promifisy a lib that has a lots of method - would you have to re-declare all *Async() methods? Because that would be tedious..."}, {"owner": {"reputation": 10575, "user_id": 150094, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9fa2fd43a05ae2e1474f22f81bc802ea?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/150094/dave"}, "reply_to_user": {"reputation": 6959, "user_id": 481904, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0f412e7c9959eb9b354c147d4c2f9c97?s=128&d=identicon&r=PG", "display_name": "zam6ak", "link": "https://stackoverflow.com/users/481904/zam6ak"}, "edited": false, "score": 1, "creation_date": 1461203211, "post_id": 36633824, "comment_id": 61095914, "body": "I think explicitly declaring them is essentially the point of using Typescript. The alternative is to use <code>&lt;any&gt;</code> which basically returns to the dynamic nature (of javascript)."}, {"owner": {"reputation": 6292, "user_id": 1483676, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/h2IgH.jpg?s=128&g=1", "display_name": "cubuspl42", "link": "https://stackoverflow.com/users/1483676/cubuspl42"}, "edited": false, "score": 1, "creation_date": 1494342768, "post_id": 36633824, "comment_id": 74782301, "body": "One could implement some sort of offline script that would be a static counterpart of <code>Promise.promisifyAll</code>. It would take a reference to original typings and would produce an &quot;appendfix&quot; with <code>*Async</code> functions."}, {"owner": {"reputation": 7691, "user_id": 91813, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/f0FGM.jpg?s=128&g=1", "display_name": "stanleyxu2005", "link": "https://stackoverflow.com/users/91813/stanleyxu2005"}, "edited": false, "score": 0, "creation_date": 1517068141, "post_id": 36633824, "comment_id": 83948097, "body": "really hope typescript team can add some promisifyAll in the beautiful language"}], "tags": [], "owner": {"reputation": 10575, "user_id": 150094, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9fa2fd43a05ae2e1474f22f81bc802ea?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/150094/dave"}, "is_accepted": true, "score": 12, "last_activity_date": 1460667333, "creation_date": 1460667333, "answer_id": 36633824, "question_id": 36563077, "link": "https://stackoverflow.com/questions/36563077/how-to-properly-deal-with-promisifyall-in-typescript/36633824#36633824", "title": "How to properly deal with promisifyAll in typescript?", "body": "<p>I'm solving this by <a href=\"http://www.typescriptlang.org/docs/handbook/declaration-merging.html\" rel=\"noreferrer\">declaration merging</a> the <code>setAsync</code> &amp; <code>getAsync</code> methods. I added the following code in my own custom <code>.d.ts</code> file.</p>\n\n<pre><code>declare module \"redis\" {\n\n    export interface RedisClient extends NodeJS.EventEmitter {\n        setAsync(key:string, value:string): Promise&lt;void&gt;;\n        getAsync(key:string): Promise&lt;string&gt;;\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 3557046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/535998d99975669d62e9b8051c48710f?s=128&d=identicon&r=PG", "display_name": "Kelvin Campelo", "link": "https://stackoverflow.com/users/3557046/kelvin-campelo"}, "is_accepted": false, "score": 1, "last_activity_date": 1564603852, "creation_date": 1564603852, "answer_id": 57298182, "question_id": 36563077, "link": "https://stackoverflow.com/questions/36563077/how-to-properly-deal-with-promisifyall-in-typescript/57298182#57298182", "title": "How to properly deal with promisifyAll in typescript?", "body": "<p>Just adding to Dave's answer, in my needs, I has to add in Multi for atomic operations. </p>\n\n<pre><code>declare module 'redis' {\n    export interface RedisClient extends NodeJS.EventEmitter {\n        execAsync(...args: any[]): Promise&lt;any&gt;;\n        hgetallAsync(...args: any[]): Promise&lt;any&gt;;\n        // add other methods here\n    }\n    export interface Multi extends Commands&lt;Multi&gt; {\n        execAsync(...args: any[]): Promise&lt;any&gt;;\n        // add other methods here\n    }\n}\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2675, "user_id": 679913, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0ebb9e4a763c8416dda5e02529ea0157?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/679913/alex"}, "is_accepted": false, "score": 4, "last_activity_date": 1577688752, "creation_date": 1577688752, "answer_id": 59526836, "question_id": 36563077, "link": "https://stackoverflow.com/questions/36563077/how-to-properly-deal-with-promisifyall-in-typescript/59526836#59526836", "title": "How to properly deal with promisifyAll in typescript?", "body": "<p>Another way to do it which requires less code is to extend the Redis object like so:</p>\n\n<pre><code>import { promisify } from 'util';\nimport { ClientOpts, RedisClient } from 'redis';\n\nclass AsyncRedis extends RedisClient {\n  public readonly getAsync = promisify(this.get).bind(this);\n  public readonly setAsync = promisify(this.set).bind(this);\n  public readonly quitAsync = promisify(this.quit).bind(this);\n  public readonly rpushAsync: (list: string, item: string) =&gt; Promise&lt;number&gt; = promisify(\n    this.rpush\n  ).bind(this);\n  public readonly blpopAsync: (\n    list: string,\n    timeout: number\n  ) =&gt; Promise&lt;[string, string]&gt; = promisify(this.blpop).bind(this);\n  public readonly flushdbAsync = promisify(this.flushdb).bind(this);\n}\n</code></pre>\n\n<p>Notice that not all method signatures overwrite correctly, so you have to help typescript a little.</p>\n\n<p>Now you can just use this enhanced class by creating it with your options, for example:</p>\n\n<pre><code>new AsyncRedis({\n  host: process.env.REDIS_HOST || '127.0.0.1',\n  password: process.env.REDIS_PASSWORD || 'whatever',\n });\n</code></pre>\n"}], "owner": {"reputation": 10575, "user_id": 150094, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9fa2fd43a05ae2e1474f22f81bc802ea?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/150094/dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4670, "favorite_count": 1, "accepted_answer_id": 36633824, "answer_count": 3, "score": 13, "last_activity_date": 1577688752, "creation_date": 1460431381, "question_id": 36563077, "link": "https://stackoverflow.com/questions/36563077/how-to-properly-deal-with-promisifyall-in-typescript", "title": "How to properly deal with promisifyAll in typescript?", "body": "<p>Consider the following code:</p>\n\n<pre><code>import redis = require('redis');  //Has ambient declaration from DT\nimport bluebird = require('bluebird');  //Has ambient declaration from DT\n\nbluebird.promisifyAll((&lt;any&gt;redis).RedisClient.prototype);\nbluebird.promisifyAll((&lt;any&gt;redis).Multi.prototype);\n\nconst client = redis.createClient();\n\nclient.getAsync('foo').then(function(res) {\n    console.log(res);\n});\n</code></pre>\n\n<p><code>getAsync</code> will error out because it's created on the fly and not defined in any <code>.d.ts</code> file. So what is the proper way to handle this?</p>\n\n<p>Also, even though I have the <code>.d.ts</code> files loaded for redis, I still need to cast <code>redis</code> to <code>any</code> to be used for <code>promisifyAll</code>. Otherwise, it will spill out error:</p>\n\n<pre><code>Property 'RedisClient' does not exist on type 'typeof \"redis\"'\n</code></pre>\n\n<p>Is typing it to <code>any</code> the only easy way to go?</p>\n"}, {"tags": ["laravel", "typescript", "angular"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6190904, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XfBgmDg-kPY/AAAAAAAAAAI/AAAAAAAAIjw/CMgHXRPD4uk/photo.jpg?sz=128", "display_name": "Jr Mendoza", "link": "https://stackoverflow.com/users/6190904/jr-mendoza"}, "edited": false, "score": 0, "creation_date": 1460427024, "post_id": 36562406, "comment_id": 60725151, "body": "Sorry but i have used this code  <code>this._postService.emitEvent             .subscribe(                 data =&gt; {                     if(data.name == &quot;checkbox&quot;){                         this.updateCategory(data.data);                     }                      if(data.name == &quot;select&quot;){                         this.parentCategory(data.data);                     }                 }             );</code>  I send the event via request. using subscribe."}], "tags": [], "owner": {"reputation": 42137, "user_id": 361151, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Z524i.jpg?s=128&g=1", "display_name": "Chandermani", "link": "https://stackoverflow.com/users/361151/chandermani"}, "is_accepted": true, "score": 2, "last_activity_date": 1460451929, "last_edit_date": 1460451929, "creation_date": 1460426834, "answer_id": 36562406, "question_id": 36562240, "link": "https://stackoverflow.com/questions/36562240/check-parent-if-child-is-checked-angular-2-typescript/36562406#36562406", "title": "Check parent if child is checked. Angular 2 Typescript", "body": "<p>It is very difficult to understand what you have done, and there seem to be many issues with code.</p>\n\n<p>But the basic idea here is that when <code>node.selected</code> is changed on a node, emit the event with the node selected</p>\n\n<pre><code>@Output() public nodeSelected: EventEmitter&lt;Node&gt; = new EventEmitter();\n\n updateCategory(node) {\n    this.nodeSelected.next(this);\n  }\n</code></pre>\n\n<p>On the parent html node markup add an event handler:</p>\n\n<pre><code>&lt;node *ngFor=\"#n of node.subcategories\" [node]=\"n\" (nodeSelected)=\"onChildSelected($event)\"&gt; \n</code></pre>\n\n<p>The <code>onChildSelected</code> function on parent can check the state of node and mark itself checked, and again raise an event.</p>\n"}], "owner": {"reputation": 3, "user_id": 6190904, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XfBgmDg-kPY/AAAAAAAAAAI/AAAAAAAAIjw/CMgHXRPD4uk/photo.jpg?sz=128", "display_name": "Jr Mendoza", "link": "https://stackoverflow.com/users/6190904/jr-mendoza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1449, "favorite_count": 1, "accepted_answer_id": 36562406, "answer_count": 1, "score": 0, "last_activity_date": 1460451929, "creation_date": 1460425760, "last_edit_date": 1460426761, "question_id": 36562240, "link": "https://stackoverflow.com/questions/36562240/check-parent-if-child-is-checked-angular-2-typescript", "title": "Check parent if child is checked. Angular 2 Typescript", "body": "<p>Here are Images </p>\n\n<p><a href=\"http://i.stack.imgur.com/MfOix.png\" rel=\"nofollow\">This Image shows all unchecked checkbox</a></p>\n\n<p><a href=\"http://i.stack.imgur.com/X800v.png\" rel=\"nofollow\">I wanted to happen if the child is checked all parents will be check</a></p>\n\n<p>Here is my how my tree looks</p>\n\n<pre>\n\n    [\n      {\n        \"id\": 1,\n        \"parent_category_id\": 0,\n        \"name\": \"General\",\n        \"description\": \"Doloremque voluptas veniam architecto consectetur beatae.\",\n        \"slug\": \"general\",\n        \"position\": 1,\n        \"is_default\": 0,\n        \"created_at\": \"2016-04-11 07:00:48\",\n        \"updated_at\": \"2016-04-11 07:00:48\",\n        \"deleted_at\": null,\n        \"post_count\": 0,\n        \"subcategories\": [\n          {\n            \"id\": 5,\n            \"parent_category_id\": 1,\n            \"name\": \"Magazine\",\n            \"description\": \"This is the magazine category\",\n            \"slug\": \"magazine\",\n            \"position\": 1,\n            \"is_default\": 0,\n            \"created_at\": \"2016-04-11 07:55:35\",\n            \"updated_at\": \"2016-04-11 08:08:19\",\n            \"deleted_at\": null,\n            \"post_count\": 0,\n            \"subcategories\": [\n              {\n                \"id\": 6,\n                \"parent_category_id\": 5,\n                \"name\": \"Life Style\",\n                \"description\": \"The Life Style Magazine\",\n                \"slug\": \"life-style\",\n                \"position\": 1,\n                \"is_default\": 0,\n                \"created_at\": \"2016-04-11 08:07:10\",\n                \"updated_at\": \"2016-04-11 08:07:10\",\n                \"deleted_at\": null,\n                \"post_count\": 0,\n                \"subcategories\": [\n\n                ]\n              }\n            ]\n          }\n        ]\n      },\n      {\n        \"id\": 2,\n        \"parent_category_id\": 0,\n        \"name\": \"Rush Business Cards\",\n        \"description\": \"Voluptatem nam similique et rem ratione laudantium.\",\n        \"slug\": \"rush-business-cards\",\n        \"position\": 1,\n        \"is_default\": 0,\n        \"created_at\": \"2016-04-11 07:00:48\",\n        \"updated_at\": \"2016-04-11 07:00:48\",\n        \"deleted_at\": null,\n        \"post_count\": 0,\n        \"subcategories\": [\n\n        ]\n      },\n      {\n        \"id\": 3,\n        \"parent_category_id\": 0,\n        \"name\": \"Flyers\",\n        \"description\": \"Consequatur molestiae enim necessitatibus vero et eum sint.\",\n        \"slug\": \"flyers\",\n        \"position\": 1,\n        \"is_default\": 0,\n        \"created_at\": \"2016-04-11 07:00:48\",\n        \"updated_at\": \"2016-04-11 07:00:48\",\n        \"deleted_at\": null,\n        \"post_count\": 0,\n        \"subcategories\": [\n\n        ]\n      },\n      {\n        \"id\": 4,\n        \"parent_category_id\": 0,\n        \"name\": \"Brochures\",\n        \"description\": \"Ratione magnam repellendus quo commodi enim.\",\n        \"slug\": \"brochures\",\n        \"position\": 1,\n        \"is_default\": 0,\n        \"created_at\": \"2016-04-11 07:00:48\",\n        \"updated_at\": \"2016-04-11 07:00:48\",\n        \"deleted_at\": null,\n        \"post_count\": 0,\n        \"subcategories\": [\n\n        ]\n      }\n    ]\n\n</pre>\n\n<p>Here is my code for checking each checkbox.</p>\n\n<pre><code>updateCategory(category) {\n    category.selected = (category.selected) ? false : true\n    let myCategory = _.findWhere(this.postDetail.categories,{id: category.id})\n    if(_.isUndefined(myCategory))\n        this.postDetail.categories.push(category)\n    else\n        this.postDetail.categories = _.without(this.postDetail.categories, _.findWhere(this.postDetail.categories, { id: category.id }));\n\n\n}\n</code></pre>\n\n<p>Here is a Directive where i create all of my checkbox and I've used EventEmitter to send the event on my directive.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import {Component, Input, Output, ElementRef, EventEmitter} from 'angular2/core';\r\nimport { PostService }   from './post.service';\r\n\r\n@Component({\r\n  selector: 'node',\r\n  providers: [],\r\n  template: `\r\n    &lt;div class=\"checkbox3 checkbox-success checkbox-inline checkbox-check checkbox-round checkbox-light\"&gt;\r\n      &lt;input (change)=\"updateCategory(node)\" type=\"checkbox\" attr.id=\"category-{{ node.id }}\" [(ngModel)]=\"node.selected\"/&gt;\r\n      &lt;label  attr.for=\"category-{{ node.id }}\"&gt;\r\n          {{  node.name }}\r\n      &lt;/label&gt;\r\n    &lt;/div&gt;\r\n   &lt;ul *ngIf=\"node.subcategories != null\"&gt;\r\n      &lt;li style=\"list-style: none;\"&gt;&lt;node *ngFor=\"#n of node.subcategories\" [node]=\"n\"&gt;&lt;/node&gt;&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n  `,\r\n  directives: [Node]\r\n})\r\nexport class Node {\r\n  @Input() node;\r\n  @Input() public postDetail : Object = [];\r\n  @Output() public emitter: EventEmitter&lt;any&gt; = new EventEmitter();\r\n\r\n  constructor(private _service: PostService) {\r\n\r\n  }\r\n\r\n  updateCategory(node) {\r\n    this.postDetail = { name: 'checkbox', data:node}\r\n    this._service.emitEvent.next(this.postDetail);\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 3483, "user_id": 2668666, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/3QEDd.jpg?s=128&g=1", "display_name": "jmrah", "link": "https://stackoverflow.com/users/2668666/jmrah"}, "edited": false, "score": 0, "creation_date": 1460416152, "post_id": 36560832, "comment_id": 60722058, "body": "that did it!  Sure enough, I double checked the handbook, and the number type is definitely lower case.  Thanks so much.  I don&#39;t know why I thought it was upper case..."}], "tags": [], "owner": {"reputation": 87802, "user_id": 340760, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef1a0f00d57917768acdc5b379ca1b28?s=128&d=identicon&r=PG", "display_name": "BrunoLM", "link": "https://stackoverflow.com/users/340760/brunolm"}, "is_accepted": true, "score": 56, "last_activity_date": 1460416047, "creation_date": 1460416047, "answer_id": 36560832, "question_id": 36560806, "link": "https://stackoverflow.com/questions/36560806/the-left-hand-side-of-an-arithmetic-operation-must-be-of-type-any-number-or/36560832#36560832", "title": "The left-hand side of an arithmetic operation must be of type &#39;any&#39;, &#39;number&#39; or an enum type", "body": "<p><code>Number</code> should be lowercase: <code>number</code>.</p>\n\n<ul>\n<li><a href=\"https://www.typescriptlang.org/play/index.html#src=interface%20Dimensions%20%7B%20width%3A%20number%2C%20height%3A%20number%20%7D%0D%0A%0D%0Afunction%20findArea(dimensions%3A%20Dimensions)%3A%20number%20%7B%0D%0A%09return%20dimensions.height%20*%20dimensions.width%3B%0D%0A%7D\">See sample on Playground</a></li>\n<li><a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html\">Documentation for basic types</a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 176, "user_id": 9483584, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-z4LJzAzw9K4/AAAAAAAAAAI/AAAAAAAAM_8/ftirgFTZ_q8/photo.jpg?sz=128", "display_name": "JEWEL JACOB", "link": "https://stackoverflow.com/users/9483584/jewel-jacob"}, "edited": false, "score": 4, "creation_date": 1598356600, "post_id": 60688789, "comment_id": 112426482, "body": "Nice one. I believe this can be added as a separate question"}, {"owner": {"reputation": 752, "user_id": 6166406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02c3283ed141aa518267d8bf10cbb16b?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/6166406/raj"}, "edited": false, "score": 1, "creation_date": 1612198435, "post_id": 60688789, "comment_id": 116685906, "body": "I was actually searching for Date issue only. And was disappointed with the question, coz that deals with something else. But glad to see your answer here. Upvoted."}, {"owner": {"reputation": 230, "user_id": 11878342, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dJ791KtwEEw/AAAAAAAAAAI/AAAAAAAAABg/694fmnRDtNs/photo.jpg?sz=128", "display_name": "Mohamed Imran", "link": "https://stackoverflow.com/users/11878342/mohamed-imran"}, "reply_to_user": {"reputation": 752, "user_id": 6166406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02c3283ed141aa518267d8bf10cbb16b?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/6166406/raj"}, "edited": false, "score": 1, "creation_date": 1614217471, "post_id": 60688789, "comment_id": 117321278, "body": "@Raj same bro, even I am so happy I found this."}, {"owner": {"reputation": 467, "user_id": 1562811, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b8ba290435acdec1b70d6312094b56a4?s=128&d=identicon&r=PG&f=1", "display_name": "Krutal Modi", "link": "https://stackoverflow.com/users/1562811/krutal-modi"}, "edited": false, "score": 0, "creation_date": 1618985030, "post_id": 60688789, "comment_id": 118764224, "body": "I was also actually searching for Date issue only glad to see your answer here. Upvoted. Thanks for your suggestion."}], "tags": [], "owner": {"reputation": 1577, "user_id": 545566, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/oO24P.png?s=128&g=1", "display_name": "Matt Mazzola", "link": "https://stackoverflow.com/users/545566/matt-mazzola"}, "is_accepted": false, "score": 70, "last_activity_date": 1584234012, "creation_date": 1584234012, "answer_id": 60688789, "question_id": 36560806, "link": "https://stackoverflow.com/questions/36560806/the-left-hand-side-of-an-arithmetic-operation-must-be-of-type-any-number-or/60688789#60688789", "title": "The left-hand side of an arithmetic operation must be of type &#39;any&#39;, &#39;number&#39; or an enum type", "body": "<p>Here is another example of this error occurring that might help people.</p>\n\n<p>If you're using typescript and trying to compute the difference between dates (In my case I was attempting to use ISO string from database):</p>\n\n<pre><code>new Date(\"2020-03-15T00:47:38.813Z\") - new Date(\"2020-03-15T00:47:24.676Z\")\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play?#code/HYUw7gBAIghgLiAFAIgEwAYMFp0GYsCMArACrroBcALAOwW4AcAdAwbgFrICUEWEokWAhQZseQqXLU6qKkwBsNeZy5A\" rel=\"noreferrer\">TypeScript Playground</a></p>\n\n<p>It will show the error.\n<a href=\"https://i.stack.imgur.com/f5rjb.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/f5rjb.png\" alt=\"enter image description here\"></a></p>\n\n<p>However, this same exact code works if you put it in the browser console or other node environment</p>\n\n<pre><code>new Date(\"2020-03-15T00:47:38.813Z\") - new Date(\"2020-03-15T00:47:24.676Z\")\n14137\n</code></pre>\n\n<p>I may be wrong, but I believe this works due to the <code>-</code> operator implicitly using <code>valueOf</code> on each of it's operands.  Since <code>valueOf</code> on Date returns a <code>number</code> the operation works.  </p>\n\n<p>However, typescript doesn't like it. Maybe there is a compiler option for this is forcing this constrain and I'm not aware.</p>\n\n<pre><code>new Date().valueOf()\n1584233296463\n</code></pre>\n\n<p>You can fix by explicitly making the operands number (bigint) types so the <code>-</code> works.</p>\n\n<p>Fixed Example</p>\n\n<pre><code>new Date(\"2020-03-15T00:47:38.813Z\").valueOf() - new Date(\"2020-03-15T00:47:24.676Z\").valueOf()\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play?#code/HYUw7gBAIghgLiAFAIgEwAYMFp0GYsCMArACrroBcALAOwW4AcAdAwbgFrICUTAbjABsAriADyAM0RcIWCKEiwEKDNjyFS5anVRUmANhp7OPfsLGSuQA\" rel=\"noreferrer\">TypeScript Playground</a></p>\n"}, {"tags": [], "owner": {"reputation": 287, "user_id": 3693763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hoV7b.jpg?s=128&g=1", "display_name": "Pinaki", "link": "https://stackoverflow.com/users/3693763/pinaki"}, "is_accepted": false, "score": 0, "last_activity_date": 1612349478, "creation_date": 1612349478, "answer_id": 66025976, "question_id": 36560806, "link": "https://stackoverflow.com/questions/36560806/the-left-hand-side-of-an-arithmetic-operation-must-be-of-type-any-number-or/66025976#66025976", "title": "The left-hand side of an arithmetic operation must be of type &#39;any&#39;, &#39;number&#39; or an enum type", "body": "<blockquote>\n<p>ERROR in src/app/demo.component.ts(...): error TS2362: The left-hand side of an arithmetic operation must be of type 'any', 'number' or an enum type.</p>\n</blockquote>\n<p><strong>package.json -</strong></p>\n<pre><code>&quot;dependencies&quot;: {\n    &quot;@angular/core&quot;: &quot;^6.1.10&quot;\n}\n\n&quot;devDependencies&quot;: {\n    &quot;typescript&quot;: &quot;^2.9.2&quot;\n}\n</code></pre>\n<p><strong>Code -</strong></p>\n<pre><code>dateISOString(d: any): string {\n    var nDate = new Date(d);\n    var tzoffset = nDate.getTimezoneOffset() * 60000;\n    var localISOTime = (new Date(nDate - tzoffset)).toISOString(); // This line gives error\n    return localISOTime;\n}\n</code></pre>\n<p><strong>Solution -</strong> Add <code>valueOf()</code> with date</p>\n<pre><code>var localISOTime = (new Date(nDate.valueOf() - tzoffset.valueOf())).toISOString();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1664, "user_id": 7804896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a00eb8f7afc188877efebaeae824b859?s=128&d=identicon&r=PG&f=1", "display_name": "samehanwar", "link": "https://stackoverflow.com/users/7804896/samehanwar"}, "is_accepted": false, "score": 0, "last_activity_date": 1616364881, "creation_date": 1616364881, "answer_id": 66738119, "question_id": 36560806, "link": "https://stackoverflow.com/questions/36560806/the-left-hand-side-of-an-arithmetic-operation-must-be-of-type-any-number-or/66738119#66738119", "title": "The left-hand side of an arithmetic operation must be of type &#39;any&#39;, &#39;number&#39; or an enum type", "body": "<p>you can cast the expression to number.</p>\n<pre><code>function findArea(dimensions: Dimensions): Number {    \n    return Number(dimensions.height) * Number(dimensions.width);\n}\n</code></pre>\n"}], "owner": {"reputation": 3483, "user_id": 2668666, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/3QEDd.jpg?s=128&g=1", "display_name": "jmrah", "link": "https://stackoverflow.com/users/2668666/jmrah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49027, "favorite_count": 2, "accepted_answer_id": 36560832, "answer_count": 4, "score": 31, "last_activity_date": 1616364881, "creation_date": 1460415884, "question_id": 36560806, "link": "https://stackoverflow.com/questions/36560806/the-left-hand-side-of-an-arithmetic-operation-must-be-of-type-any-number-or", "title": "The left-hand side of an arithmetic operation must be of type &#39;any&#39;, &#39;number&#39; or an enum type", "body": "<pre><code>1    interface Dimensions {\n2        width: Number,\n3        height: Number\n4    }\n5\n6    function findArea(dimensions: Dimensions): Number {    \n7        return dimensions.height * dimensions.width;\n8    }\n</code></pre>\n\n<p>line 7, red squiggly lines under <code>dimensions.height</code> and <code>dimensions.width</code></p>\n\n<blockquote>\n  <p>The left-hand side of an arithmetic operation must be of type 'any',\n  'number' or an enum type.</p>\n</blockquote>\n\n<p>I'm trying to eradicate red squiggly, but I'm stumped as to why the typescript compiler is giving me an error.  As far as I can tell, width and height are of type Number.</p>\n"}, {"tags": ["node.js", "unit-testing", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 6618, "user_id": 28537, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a1b5488f926f818b9aac995be2995ec?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/28537/dan"}, "edited": false, "score": 0, "creation_date": 1460585268, "post_id": 36562830, "comment_id": 60817561, "body": "Thanks, can you be a bit more specific? If I use a TypeScript import in my test file then building the tests rebuilds the main code (separately though so coverage does work). If I were to use something like RequireJS then I guess I wouldn&#39;t get the type safety unless I also created a .d.ts file for my compiled module?"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 0, "last_activity_date": 1460429904, "creation_date": 1460429904, "answer_id": 36562830, "question_id": 36560725, "link": "https://stackoverflow.com/questions/36560725/how-do-i-write-typescript-tests-that-dont-include-the-classes-under-test-in-the/36562830#36562830", "title": "How do I write TypeScript tests that don&#39;t include the classes under test in the transpiled test code?", "body": "<blockquote>\n  <p>So, how can I get the type safety and autocomplete benefits of \"/// reference\" whilst using my compiled JS file when the tests are actually run?</p>\n</blockquote>\n\n<p>Don't using TypeScript's <code>--outFile</code> option (<a href=\"https://github.com/TypeStrong/atom-typescript/blob/master/docs/out.md\" rel=\"nofollow\">few other reasons</a>). Instead use modules e.g. <code>--module commonsjs</code> and a module loader e.g. <code>webpack</code>. </p>\n\n<h1>More</h1>\n\n<p>Browser quickstart : <a href=\"https://basarat.gitbooks.io/typescript/content/docs/quick/browser.html\" rel=\"nofollow\">https://basarat.gitbooks.io/typescript/content/docs/quick/browser.html</a></p>\n\n<p>Modules: \n<a href=\"https://basarat.gitbooks.io/typescript/content/docs/project/modules.html\" rel=\"nofollow\">https://basarat.gitbooks.io/typescript/content/docs/project/modules.html</a></p>\n"}], "owner": {"reputation": 6618, "user_id": 28537, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a1b5488f926f818b9aac995be2995ec?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/28537/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 324, "favorite_count": 0, "accepted_answer_id": 36562830, "answer_count": 1, "score": 0, "last_activity_date": 1460429904, "creation_date": 1460415410, "question_id": 36560725, "link": "https://stackoverflow.com/questions/36560725/how-do-i-write-typescript-tests-that-dont-include-the-classes-under-test-in-the", "title": "How do I write TypeScript tests that don&#39;t include the classes under test in the transpiled test code?", "body": "<p>I have a TypeScript project that compiles down to a single JS file in /dist.</p>\n\n<p>I have Jasmine tests, also written in TypeScript, that reference the various classes they test with references like:</p>\n\n<pre><code>/// &lt;reference path=\"../../../src/script/classUnderTest.ts\" /&gt;\n</code></pre>\n\n<p>When I compile the tests the TypeScript compiler pulls in all the referenced classes and I get a single JS file containing the test code and the code under test.</p>\n\n<p>This actually works fine for just running the tests, but now I'd like code coverage too. From what I can tell, to get Istanbul to work I need to have the code under test separate from the test code. Also it would be nice to be testing exactly the JS file that will be live.</p>\n\n<p>So, how can I get the type safety and autocomplete benefits of \"/// reference\" whilst using my compiled JS file when the tests are actually run?</p>\n\n<p>(Or am I barking up the wrong tree entirely?)</p>\n\n<p>Note, I am building this on a Mac, so from what I've read Chutzpah is not currently an option. I'm also currently using only npm scripts to do builds. I'd prefer to not bring in grunt or gulp unless it's absolutely necessary.</p>\n"}, {"tags": ["javascript", "typescript", "angular"], "comments": [{"owner": {"reputation": 14181, "user_id": 557360, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7TZFZ.jpg?s=128&g=1", "display_name": "VtoCorleone", "link": "https://stackoverflow.com/users/557360/vtocorleone"}, "edited": false, "score": 0, "creation_date": 1460407666, "post_id": 36558807, "comment_id": 60718317, "body": "Look into @Output() with EventEmitter.  Then you can have the parent listen for child events."}], "answers": [{"comments": [{"owner": {"reputation": 1779, "user_id": 5186877, "user_type": "registered", "accept_rate": 52, "profile_image": "https://graph.facebook.com/10204782008046419/picture?type=large", "display_name": "Gabe O&#39;Leary", "link": "https://stackoverflow.com/users/5186877/gabe-oleary"}, "edited": false, "score": 0, "creation_date": 1460411815, "post_id": 36559335, "comment_id": 60720488, "body": "what is the difference between using <code>inputs: [&#39;element&#39;]</code> in the <code>@Component</code> section above, and using <code>@Input()</code> inside the class itself?"}, {"owner": {"reputation": 9832, "user_id": 2018084, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/44a1fa8aae7cbaea8f09afe47b8819bf?s=128&d=identicon&r=PG", "display_name": "Juicy", "link": "https://stackoverflow.com/users/2018084/juicy"}, "edited": false, "score": 0, "creation_date": 1475068161, "post_id": 36559335, "comment_id": 66793057, "body": "You need to do <code>(elementDeleted)=&quot;onElementDeleted($event)&quot;</code> in the template (instead of <code>(elementDeleted)=&quot;onElementDeleted(element)&quot;</code>). This probably changed since you posted the answer."}, {"owner": {"reputation": 1137, "user_id": 4524996, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2cf8bb0af8804192727d60c970afd377?s=128&d=identicon&r=PG&f=1", "display_name": "bartosz.baczek", "link": "https://stackoverflow.com/users/4524996/bartosz-baczek"}, "edited": false, "score": 0, "creation_date": 1476448891, "post_id": 36559335, "comment_id": 67362538, "body": "This answer doesn&#39;t work for me. Everything seems fine until I reach angular&#39;s change detection - it compares elements variable before and after splicing and detects inconsistence when deleted element is not the LAST one of elements array. It deletes both component request to be deleted and all that are before on the list of elements."}], "tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": true, "score": 9, "last_activity_date": 1460409169, "creation_date": 1460409169, "answer_id": 36559335, "question_id": 36558807, "link": "https://stackoverflow.com/questions/36558807/angular2-child-component-deleting/36559335#36559335", "title": "Angular2 child component deleting", "body": "<p>You could implement this this way in the child component:</p>\n\n<pre><code>@Component({\n  selector: 'child',\n  template: `\n    &lt;div&gt;\n      {{element.name}}\n      &lt;span (click)=\"deleteElement()\"&gt;Delete&lt;/span&gt;\n    &lt;/div&gt;\n  `\n})\nexport class ChildComponent {\n  @Input()\n  element: any;\n  @Output()\n  elementDeleted: EventEmitter&lt;any&gt; = new EventEmitter();\n\n  deleteElement() {\n    this.elementDeleted.emit();\n  }\n}\n</code></pre>\n\n<p>And leverage this event in the parent:</p>\n\n<pre><code>@Component({\n  selector: 'child',\n  template: `\n    &lt;div&gt;\n      &lt;child *ngFor=\"#element of elements\" [element]=\"element\"\n             (elementDeleted)=\"onElementDeleted(element)\"&gt;\n      &lt;/child&gt;\n    &lt;/div&gt;\n  `\n})\nexport class ParentComponent {\n  constructor() {\n    this.elements = [\n      { name: 'element1' },\n      { name: 'element2' },\n      (...)\n    ];\n  }\n\n  onElementDeleted(element) {\n    var index = this.elements.findIndex((elt) =&gt; (elt===element));\n    if (index != -1) {\n      this.elements.splice(index, 1);\n    }\n  }\n</code></pre>\n"}], "owner": {"reputation": 1779, "user_id": 5186877, "user_type": "registered", "accept_rate": 52, "profile_image": "https://graph.facebook.com/10204782008046419/picture?type=large", "display_name": "Gabe O&#39;Leary", "link": "https://stackoverflow.com/users/5186877/gabe-oleary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5093, "favorite_count": 2, "accepted_answer_id": 36559335, "answer_count": 1, "score": 4, "last_activity_date": 1460409169, "creation_date": 1460407112, "question_id": 36558807, "link": "https://stackoverflow.com/questions/36558807/angular2-child-component-deleting", "title": "Angular2 child component deleting", "body": "<p>I have an angular application, and I'm having an issue.  I have a (parent) component that has an array of items, for each item there is a sub (child) component.  The child components each have a button (and function) to delete themselves, but the parent component is not being notified of this event taking place.</p>\n\n<p>I'm not sure what is the proper way to delete the child component in such away that the parent component removes it from the view.  I am currently just calling <code>delete this.product</code> (product is one of the items in the parent array) which does indeed remove it from the parent array, but the parent array does not update.</p>\n"}, {"tags": ["javascript", "typescript", "transpiler"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 1, "creation_date": 1460406970, "post_id": 36558729, "comment_id": 60717928, "body": "have you tried searching for source maps online? You won&#39;t get a bit by bit explanation of the standard here. The proposal for version 3 can be found here. <a href=\"https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit#heading=h.q4jwyo5vn7wd\" rel=\"nofollow noreferrer\">docs.google.com/document/d/&hellip;</a>"}, {"owner": {"reputation": 1578, "user_id": 1222805, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e3f4f692741e9f3ffa29f29678aea11a?s=128&d=identicon&r=PG", "display_name": "whipdancer", "link": "https://stackoverflow.com/users/1222805/whipdancer"}, "edited": false, "score": 0, "creation_date": 1460407790, "post_id": 36558729, "comment_id": 60718388, "body": "They are for autocompletion from what I understand."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 1578, "user_id": 1222805, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e3f4f692741e9f3ffa29f29678aea11a?s=128&d=identicon&r=PG", "display_name": "whipdancer", "link": "https://stackoverflow.com/users/1222805/whipdancer"}, "edited": false, "score": 0, "creation_date": 1460408294, "post_id": 36558729, "comment_id": 60718689, "body": "@whipdancer no they are not. they map code generated in one language back to the language it was generated from in order to facilitate debugging in the language the developer wrote. the question is not about what they do, but rather about how they work, and that is either too broad for SO or at best the user would be pointed to an offsite resource, like the standards document. In both cases the question ought to be closed. :)"}, {"owner": {"reputation": 17247, "user_id": 1675976, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/SNvIc.jpg?s=128&g=1", "display_name": "CodyBugstein", "link": "https://stackoverflow.com/users/1675976/codybugstein"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 1, "creation_date": 1460408480, "post_id": 36558729, "comment_id": 60718785, "body": "@toskv Thanks for giving the search terms to look up. I will do some research"}], "answers": [{"comments": [{"owner": {"reputation": 17247, "user_id": 1675976, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/SNvIc.jpg?s=128&g=1", "display_name": "CodyBugstein", "link": "https://stackoverflow.com/users/1675976/codybugstein"}, "edited": false, "score": 0, "creation_date": 1460433738, "post_id": 36562855, "comment_id": 60726994, "body": "cool visualizer link!"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1460430074, "creation_date": 1460430074, "answer_id": 36562855, "question_id": 36558729, "link": "https://stackoverflow.com/questions/36558729/how-can-i-understand-all-this-rubbish-in-js-map-files/36562855#36562855", "title": "How can I understand all this rubbish in js.map files?", "body": "<blockquote>\n  <p>Why</p>\n</blockquote>\n\n<p>These are sourcemap files. They allow you to debug <em>the original code before it gets transpiled</em>. </p>\n\n<h1>Resources</h1>\n\n<p>Checkout the sourcemap visualizer : <a href=\"https://sokra.github.io/source-map-visualization/\" rel=\"nofollow\">https://sokra.github.io/source-map-visualization/</a></p>\n\n<p>And more details on sourcemaps : <a href=\"http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/\" rel=\"nofollow\">http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/</a></p>\n"}], "owner": {"reputation": 17247, "user_id": 1675976, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/SNvIc.jpg?s=128&g=1", "display_name": "CodyBugstein", "link": "https://stackoverflow.com/users/1675976/codybugstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "closed_date": 1461026909, "accepted_answer_id": 36562855, "answer_count": 1, "score": -2, "last_activity_date": 1460430074, "creation_date": 1460406820, "question_id": 36558729, "link": "https://stackoverflow.com/questions/36558729/how-can-i-understand-all-this-rubbish-in-js-map-files", "closed_reason": "Needs more focus", "title": "How can I understand all this rubbish in js.map files?", "body": "<p>I know it's not crucial to being a good coder, but I am curious if someone knows and could explain what is going on in <code>.js.map</code> files.</p>\n\n<p>For example for this simple <code>.ts</code> file, </p>\n\n<pre><code>import {bootstrap}    from 'angular2/platform/browser';\nimport {enableProdMode}    from 'angular2/core';\nimport {AppComponent} from './app.component';\nimport {HTTP_PROVIDERS} from 'angular2/http';\nimport {JSONP_PROVIDERS} from 'angular2/http';\n\nenableProdMode();\nbootstrap(AppComponent, [HTTP_PROVIDERS, JSONP_PROVIDERS]);\n</code></pre>\n\n<p>after compiling to <code>js</code> I get this <code>.js.map</code> file</p>\n\n<pre><code>{\"version\":3,\"file\":\"main.js\",\"sourceRoot\":\"\",\"sources\":[\"main.ts\"],\"names\":[],\"mappings\":\";;;;;;;;;;;;;;;;;;;;YAMA,qBAAc,EAAE,CAAC;YACjB,mBAAS,CAAC,4BAAY,EAAE,CAAC,qBAAc,EAAE,sBAAe,CAAC,CAAC,CAAC\"}\n</code></pre>\n\n<p>Why?</p>\n"}, {"tags": ["angularjs", "node.js", "typescript", "hosting", "shared-hosting"], "comments": [{"owner": {"reputation": 435, "user_id": 4250408, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-QvMmqp9Zgpw/AAAAAAAAAAI/AAAAAAAAAFw/EdmAHzvSOhw/photo.jpg?sz=128", "display_name": "funky-nd", "link": "https://stackoverflow.com/users/4250408/funky-nd"}, "edited": false, "score": 1, "creation_date": 1466355033, "post_id": 36558096, "comment_id": 63271181, "body": "hi, did you find the answer. same problem here"}, {"owner": {"reputation": 83, "user_id": 3350170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78c1512e7b83754000c7ba36df5fcfed?s=128&d=identicon&r=PG&f=1", "display_name": "AndersonDev", "link": "https://stackoverflow.com/users/3350170/andersondev"}, "reply_to_user": {"reputation": 435, "user_id": 4250408, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-QvMmqp9Zgpw/AAAAAAAAAAI/AAAAAAAAAFw/EdmAHzvSOhw/photo.jpg?sz=128", "display_name": "funky-nd", "link": "https://stackoverflow.com/users/4250408/funky-nd"}, "edited": false, "score": 1, "creation_date": 1466452076, "post_id": 36558096, "comment_id": 63312008, "body": "Yes, <a href=\"https://github.com/AngularClass/angular2-webpack-starter\" rel=\"nofollow noreferrer\">here</a> . You need to build your app for runing in host."}, {"owner": {"reputation": 111, "user_id": 4371424, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8KdZ9CBpMiI/AAAAAAAAAAI/AAAAAAAAAfw/_eFIZs_XE_k/photo.jpg?sz=128", "display_name": "Samar Gurjar", "link": "https://stackoverflow.com/users/4371424/samar-gurjar"}, "edited": false, "score": 0, "creation_date": 1528282694, "post_id": 36558096, "comment_id": 88445716, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/40854368/how-to-deploy-a-simple-angular2-app-on-a-shared-hosting\">How to deploy a simple Angular2 app on a shared hosting?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 439, "user_id": 2816279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Oxmjh.png?s=128&g=1", "display_name": "Pedro Ferreira", "link": "https://stackoverflow.com/users/2816279/pedro-ferreira"}, "edited": false, "score": 0, "creation_date": 1485189097, "post_id": 38081931, "comment_id": 70810217, "body": "What you have is Angular 1, not 2 as wanted."}, {"owner": {"reputation": 1212, "user_id": 3992496, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/o2mTB.jpg?s=128&g=1", "display_name": "Mahavirsinh Padhiyar", "link": "https://stackoverflow.com/users/3992496/mahavirsinh-padhiyar"}, "edited": false, "score": 0, "creation_date": 1603802774, "post_id": 38081931, "comment_id": 114146783, "body": "live example link is not found."}], "tags": [], "owner": {"reputation": 161, "user_id": 1685442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/048ca55921b3651ee522f82fef7acf17?s=128&d=identicon&r=PG", "display_name": "user1685442", "link": "https://stackoverflow.com/users/1685442/user1685442"}, "is_accepted": false, "score": 2, "last_activity_date": 1467132366, "creation_date": 1467132366, "answer_id": 38081931, "question_id": 36558096, "link": "https://stackoverflow.com/questions/36558096/angular-2-run-on-shared-hosting/38081931#38081931", "title": "Angular 2. Run on shared hosting", "body": "<p>You dont need anything else other than importing a few javascript files in your index.html file.</p>\n\n<p>Check this <a href=\"https://angular.io/resources/live-examples/quickstart/js/plnkr.html\" rel=\"nofollow\">live example</a></p>\n\n<p>Download it from <a href=\"https://angular.io/resources/live-examples/quickstart/js/plnkr.html\" rel=\"nofollow\">plunkr</a> here and extract it to your required folder in your shared hosting, that's all.</p>\n\n<p>Source: <a href=\"https://angular.io/docs/js/latest/quickstart.html\" rel=\"nofollow\">https://angular.io/docs/js/latest/quickstart.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 563, "user_id": 777700, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/846d97bac3f5185678254d14b3e04938?s=128&d=identicon&r=PG", "display_name": "Kristjan O.", "link": "https://stackoverflow.com/users/777700/kristjan-o"}, "edited": false, "score": 1, "creation_date": 1488414424, "post_id": 41811331, "comment_id": 72225083, "body": "Works great, if Angular 2 CLI was used, otherwise it returns <code>You have to be inside an angular-cli project in order to use the build command.</code>. Any recommendation on how to build a non CLI Angular project?"}, {"owner": {"reputation": 13755, "user_id": 207051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ktARb.jpg?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/207051/martin"}, "reply_to_user": {"reputation": 563, "user_id": 777700, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/846d97bac3f5185678254d14b3e04938?s=128&d=identicon&r=PG", "display_name": "Kristjan O.", "link": "https://stackoverflow.com/users/777700/kristjan-o"}, "edited": false, "score": 0, "creation_date": 1498653046, "post_id": 41811331, "comment_id": 76584843, "body": "@Kristjan O. are you in the same boat as the OP where you based a project on a starter project and now can&#39;t build it? Where did you download your starter project? If it was the Angular Class starter project use: <code>npm build:aot:prod</code>. Check the <code>project.json</code> file for any build commands. Maybe query on the project page for the starter project you downloaded."}], "tags": [], "owner": {"reputation": 439, "user_id": 2816279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Oxmjh.png?s=128&g=1", "display_name": "Pedro Ferreira", "link": "https://stackoverflow.com/users/2816279/pedro-ferreira"}, "is_accepted": true, "score": 13, "last_activity_date": 1485189764, "last_edit_date": 1495541828, "creation_date": 1485189764, "answer_id": 41811331, "question_id": 36558096, "link": "https://stackoverflow.com/questions/36558096/angular-2-run-on-shared-hosting/41811331#41811331", "title": "Angular 2. Run on shared hosting", "body": "<p>You have to command <code>ng build --prod</code>.  </p>\n\n<p>This will build your app into the dist folder.<br>\nCopy the contents of your dist folder to the public directory of your shared hosting.</p>\n\n<p>Answered here: <a href=\"https://stackoverflow.com/a/40854458/2816279\">https://stackoverflow.com/a/40854458/2816279</a></p>\n"}], "owner": {"reputation": 83, "user_id": 3350170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78c1512e7b83754000c7ba36df5fcfed?s=128&d=identicon&r=PG&f=1", "display_name": "AndersonDev", "link": "https://stackoverflow.com/users/3350170/andersondev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11304, "favorite_count": 3, "accepted_answer_id": 41811331, "answer_count": 2, "score": 5, "last_activity_date": 1485189764, "creation_date": 1460404608, "question_id": 36558096, "link": "https://stackoverflow.com/questions/36558096/angular-2-run-on-shared-hosting", "title": "Angular 2. Run on shared hosting", "body": "<p>I am started with AngularJS 2:</p>\n\n<ul>\n<li>Instaled NodeJS</li>\n<li>Downloaded start project</li>\n<li>Run on Node</li>\n</ul>\n\n<p><strong>All works!</strong></p>\n\n<p>However how to run it in production on shared hosting (without Node ant not on vps)? How to open in browser by clicking on index.html?</p>\n"}, {"tags": ["javascript", "generics", "typescript"], "comments": [{"owner": {"reputation": 44007, "user_id": 941240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SCC3P.jpg?s=128&g=1", "display_name": "Wiktor Zychla", "link": "https://stackoverflow.com/users/941240/wiktor-zychla"}, "edited": false, "score": 0, "creation_date": 1460405064, "post_id": 36558088, "comment_id": 60716808, "body": "If there are no arguments then why do you need the type there?"}, {"owner": {"reputation": 91, "user_id": 5920911, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eamVtFLtqmM/AAAAAAAAAAI/AAAAAAAAAF4/Ao9ktH_Wk1w/photo.jpg?sz=128", "display_name": "Aneela Brister", "link": "https://stackoverflow.com/users/5920911/aneela-brister"}, "reply_to_user": {"reputation": 44007, "user_id": 941240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SCC3P.jpg?s=128&g=1", "display_name": "Wiktor Zychla", "link": "https://stackoverflow.com/users/941240/wiktor-zychla"}, "edited": false, "score": 0, "creation_date": 1460405185, "post_id": 36558088, "comment_id": 60716879, "body": "I will need to compose a url string, part of which is the name of the class T. And I will return an object of a generic type: for instance, Result&lt;T&gt;."}, {"owner": {"reputation": 12611, "user_id": 491265, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/AJGd6.jpg?s=128&g=1", "display_name": "kemsky", "link": "https://stackoverflow.com/users/491265/kemsky"}, "edited": false, "score": 0, "creation_date": 1460406288, "post_id": 36558088, "comment_id": 60717551, "body": "Perhaps override of <code>toString()</code> method could help?"}], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 5920911, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eamVtFLtqmM/AAAAAAAAAAI/AAAAAAAAAF4/Ao9ktH_Wk1w/photo.jpg?sz=128", "display_name": "Aneela Brister", "link": "https://stackoverflow.com/users/5920911/aneela-brister"}, "edited": false, "score": 0, "creation_date": 1460416414, "post_id": 36558491, "comment_id": 60722141, "body": "This worked for me, thank you.      getData&lt;T extends Entity&gt;(type: { new(): T ;} ) {        let d = new type();        let name: string = d.getName();     }  (not sure how to format code sample)"}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": false, "score": 5, "last_activity_date": 1460406022, "creation_date": 1460406022, "answer_id": 36558491, "question_id": 36558088, "link": "https://stackoverflow.com/questions/36558088/is-there-a-way-to-get-the-name-of-the-generic-type-in-a-generic-t-function-c/36558491#36558491", "title": "Is there a way to get the name of the generic type in a generic (&lt;T&gt;) function/class (Typescript)?", "body": "<p>Types are erased during compilation, so no. You should <em>never</em> <strong><em>ever</em></strong> have a generic function that doesn't use its type parameter in an argument position.</p>\n\n<p>Assuming <code>getData</code> works on classes, you could write something like:</p>\n\n<pre><code>class NotSureThisIsReallyAGoodIdea {\n    static getData&lt;T&gt;(cls: new(...args: any[]) =&gt; T): T {\n        /* magic happens */\n        const url = 'http://example.com/' + cls['name'];\n        return &lt;T&gt;undefined;\n    }\n}\n\nclass SomeShape {\n    x: number;\n}\n\nlet s = NotSureThisIsReallyAGoodIdea.getData(SomeShape);\ns.x; // OK\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 5920911, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eamVtFLtqmM/AAAAAAAAAAI/AAAAAAAAAF4/Ao9ktH_Wk1w/photo.jpg?sz=128", "display_name": "Aneela Brister", "link": "https://stackoverflow.com/users/5920911/aneela-brister"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1982, "favorite_count": 0, "answer_count": 1, "score": 7, "last_activity_date": 1460406022, "creation_date": 1460404596, "last_edit_date": 1460404720, "question_id": 36558088, "link": "https://stackoverflow.com/questions/36558088/is-there-a-way-to-get-the-name-of-the-generic-type-in-a-generic-t-function-c", "title": "Is there a way to get the name of the generic type in a generic (&lt;T&gt;) function/class (Typescript)?", "body": "<p>Here is the definition of my function: </p>\n\n<pre><code>getData&lt;T extends Entity&gt; () { }\n</code></pre>\n\n<p>I don't currently accept any arguments. Is there a way for me to translate the T into the string name of the type at runtime? Perhaps using typeof? </p>\n\n<p>I am from the C# world where you would use reflection. However I am new to Javascript and not sure what the equivalent would be. </p>\n\n<p>Thanks.</p>\n"}, {"tags": ["typescript", "typescript1.8"], "answers": [{"tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 4, "last_activity_date": 1460403274, "creation_date": 1460403274, "answer_id": 36557687, "question_id": 36557616, "link": "https://stackoverflow.com/questions/36557616/how-can-i-do-constructor-overloading-in-a-implemented-interface-in-typescript/36557687#36557687", "title": "How can I do constructor overloading in a implemented interface in TypeScript?", "body": "<p>The implementation signature is not visible. You need to declare <em>all</em> the overloads callers should see, then write the implementation body.</p>\n\n<pre><code>export interface Item {\n    time: number;\n}\n\nexport class Foo implements Item {\n    public time: number;\n    public name: string;\n\n    constructor();\n    constructor(\n        time: number,\n        name: string\n    );\n    constructor(\n        time?: number,\n        name?: string\n    ) { \n        this.time = id || -1\n        this.name = name || \"\"\n      };\n}\n</code></pre>\n\n<p>You can also read the <a href=\"https://github.com/Microsoft/TypeScript/wiki/FAQ#why-am-i-getting-supplied-parameters-do-not-match-any-signature-error\" rel=\"nofollow\">TypeScript FAQ entry on this</a></p>\n"}], "owner": {"reputation": 2676, "user_id": 1456004, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8bc8096bf315be2fb658f246ae9f4ef0?s=128&d=identicon&r=PG", "display_name": "Fran b", "link": "https://stackoverflow.com/users/1456004/fran-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1008, "favorite_count": 0, "accepted_answer_id": 36557687, "answer_count": 1, "score": 1, "last_activity_date": 1460403557, "creation_date": 1460403031, "last_edit_date": 1495541206, "question_id": 36557616, "link": "https://stackoverflow.com/questions/36557616/how-can-i-do-constructor-overloading-in-a-implemented-interface-in-typescript", "title": "How can I do constructor overloading in a implemented interface in TypeScript?", "body": "\n\n<p>I tried to overload the constructor of a class which implements an interface but I'm getting the following error: </p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>[0] app/foo.ts(12,5): error TS2394: Overload signature is not compatible with function implementation.\n</code></pre>\n\n<p><strong>Classes</strong></p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>export interface Item {\n    time: number;\n}\n\nexport class Foo implements Item {\n    public time: number;\n    public name: string;\n\n    constructor();\n    constructor(\n        time: number,\n        name: string\n    ) { \n        this.time = id || -1\n        this.name = name || \"\"\n      };\n}\n</code></pre>\n\n<p>I found other similar questions (<a href=\"https://stackoverflow.com/questions/12702548/constructor-overload-in-typescript\">Constructor overload in TypeScript</a>) but I'm missing something because it doesn't work. The typscript versions is 1.8.9.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 2, "last_activity_date": 1460430267, "creation_date": 1460430267, "answer_id": 36562897, "question_id": 36557339, "link": "https://stackoverflow.com/questions/36557339/adding-overload-to-method-of-built-in-object-in-typescript/36562897#36562897", "title": "Adding overload to method of built-in object in TypeScript", "body": "<p>Create a file <code>globals.d.ts</code> and just put in the following : </p>\n\n<pre><code>declare interface JSON {\n    parse&lt;T&gt;(text: string, type: { new (): T }): T;\n}\n</code></pre>\n\n<p>Now you can use this <code>JSON.parse</code> overload in <code>yourfile.ts</code>. </p>\n\n<h1>More</h1>\n\n<p><a href=\"https://basarat.gitbooks.io/typescript/content/docs/types/lib.d.ts.html\" rel=\"nofollow\">https://basarat.gitbooks.io/typescript/content/docs/types/lib.d.ts.html</a></p>\n"}], "owner": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 36562897, "answer_count": 1, "score": 0, "last_activity_date": 1460430267, "creation_date": 1460402127, "question_id": 36557339, "link": "https://stackoverflow.com/questions/36557339/adding-overload-to-method-of-built-in-object-in-typescript", "title": "Adding overload to method of built-in object in TypeScript", "body": "<p>A library I'm working with adds secondary functionality to <code>JSON.parse</code>, which is of course a built-in method on a built-in object (but <code>writable</code>). I need to add the following overload signature to let the TypeScript compiler know about the new functionality:</p>\n\n<pre><code>&lt;T&gt;(text: string, type: { new (): T }) =&gt; T\n</code></pre>\n\n<p>Obviously, I would refrain from touching <code>lib.d.ts</code>.</p>\n\n<p>I tried redeclaring the entire <code>JSON</code> interface, as well as making the global <code>JSON</code> variable of that type, but that duplicated all built-in call signatures besides adding the new one.</p>\n\n<p>If I redeclare the <code>JSON</code> interface with just the new signature, the whole thing seems to work correctly, the new method overload is accepted along with the built-in ones, but this just seems hackish and fragile:</p>\n\n<pre><code>declare interface JSON {\n    parse&lt;T&gt;(text: string, type: { new (): T }): T;\n}\n\ndeclare var JSON: JSON;\n</code></pre>\n\n<p><strong>How do I <em>correctly</em> extend a built-in object with a method overload?</strong></p>\n"}, {"tags": ["typescript", "webpack"], "comments": [{"owner": {"reputation": 1451, "user_id": 385692, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/7TOpy.jpg?s=128&g=1", "display_name": "Nick Tsitlakidis", "link": "https://stackoverflow.com/users/385692/nick-tsitlakidis"}, "edited": false, "score": 1, "creation_date": 1460401038, "post_id": 36556772, "comment_id": 60714293, "body": "This is the default behavior of the TypeScript compiler whenever it detects the &quot;extends&quot; keyword. Since the compiler doesn&#39;t know if you&#39;re going to bundle the output into one file or more, it emits the snippet wherever the keyword is."}, {"owner": {"reputation": 1237, "user_id": 4800160, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a715600b3c75af58dd12ab468d60a1b6?s=128&d=identicon&r=PG&f=1", "display_name": "\u041a\u0430\u0447\u0430\u043b\u043e\u0432 \u0422\u0438\u043c\u043e\u0444\u0435\u0439", "link": "https://stackoverflow.com/users/4800160/%d0%9a%d0%b0%d1%87%d0%b0%d0%bb%d0%be%d0%b2-%d0%a2%d0%b8%d0%bc%d0%be%d1%84%d0%b5%d0%b9"}, "reply_to_user": {"reputation": 1451, "user_id": 385692, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/7TOpy.jpg?s=128&g=1", "display_name": "Nick Tsitlakidis", "link": "https://stackoverflow.com/users/385692/nick-tsitlakidis"}, "edited": false, "score": 0, "creation_date": 1460401455, "post_id": 36556772, "comment_id": 60714558, "body": "After googling i found <code>--noEmitHelpers</code> flag, which disable helpers. But now i need manually include all TS helpers with Webpack <a href=\"https://www.npmjs.com/package/typescript-helpers\" rel=\"nofollow noreferrer\">npmjs.com/package/typescript-helpers</a>.  I at home now, but tomorrow i try do that with <code>imports-loader</code> <a href=\"https://webpack.github.io/docs/shimming-modules.html#importing\" rel=\"nofollow noreferrer\">webpack.github.io/docs/shimming-modules.html#importing</a> or with something else."}], "answers": [{"comments": [{"owner": {"reputation": 1237, "user_id": 4800160, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a715600b3c75af58dd12ab468d60a1b6?s=128&d=identicon&r=PG&f=1", "display_name": "\u041a\u0430\u0447\u0430\u043b\u043e\u0432 \u0422\u0438\u043c\u043e\u0444\u0435\u0439", "link": "https://stackoverflow.com/users/4800160/%d0%9a%d0%b0%d1%87%d0%b0%d0%bb%d0%be%d0%b2-%d0%a2%d0%b8%d0%bc%d0%be%d1%84%d0%b5%d0%b9"}, "edited": false, "score": 0, "creation_date": 1460401643, "post_id": 36557144, "comment_id": 60714692, "body": "Yes, thanks, i google same solution. But how i can correct import and include once all helpers inside Webpack modules?"}, {"owner": {"reputation": 1237, "user_id": 4800160, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a715600b3c75af58dd12ab468d60a1b6?s=128&d=identicon&r=PG&f=1", "display_name": "\u041a\u0430\u0447\u0430\u043b\u043e\u0432 \u0422\u0438\u043c\u043e\u0444\u0435\u0439", "link": "https://stackoverflow.com/users/4800160/%d0%9a%d0%b0%d1%87%d0%b0%d0%bb%d0%be%d0%b2-%d0%a2%d0%b8%d0%bc%d0%be%d1%84%d0%b5%d0%b9"}, "edited": false, "score": 0, "creation_date": 1460402061, "post_id": 36557144, "comment_id": 60714954, "body": "Looks like <code>ProvidePlugin</code> is what i&#39;m looking for."}], "tags": [], "owner": {"reputation": 6204, "user_id": 396119, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9d0b74d8e51d461235893edd4ab5785?s=128&d=identicon&r=PG", "display_name": "goenning", "link": "https://stackoverflow.com/users/396119/goenning"}, "is_accepted": false, "score": 5, "last_activity_date": 1460405758, "last_edit_date": 1460405758, "creation_date": 1460401501, "answer_id": 36557144, "question_id": 36556772, "link": "https://stackoverflow.com/questions/36556772/webpack-and-typescript-extends/36557144#36557144", "title": "Webpack and Typescript `__extends`", "body": "<p>One possible solution would be cofiguring TypeScript to omit those helpers when compiling and write it by yourself, once and in a single file that will be later bundled by webpack.</p>\n\n<p>Set <code>compilerOptions.noEmitHelpers</code> to <code>true</code> on your <code>tsconfig.json</code> file.</p>\n\n<p>Create a <code>extends.js</code> with <code>__extends</code> function definition (<a href=\"https://npmjs.com/package/typescript-helpers\" rel=\"nofollow\">typescript-helpers</a>) and add it into your  webpack bundle.</p>\n\n<p>Never tried that, but I've done something similar <a href=\"http://goenning.net/2016/01/25/how-to-achieve-100-code-coverage-when-using-typescript/\" rel=\"nofollow\">here</a> regarding <code>__awaiter</code> and code coverage.</p>\n"}, {"tags": [], "owner": {"reputation": 605, "user_id": 6623551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y6cv8.jpg?s=128&g=1", "display_name": "Dmitry Kurmanov", "link": "https://stackoverflow.com/users/6623551/dmitry-kurmanov"}, "is_accepted": true, "score": 5, "last_activity_date": 1606239739, "last_edit_date": 1606239739, "creation_date": 1485521605, "answer_id": 41894439, "question_id": 36556772, "link": "https://stackoverflow.com/questions/36556772/webpack-and-typescript-extends/41894439#41894439", "title": "Webpack and Typescript `__extends`", "body": "<ol>\n<li><p>Please look at @goenning's answer and webpack.ProvidePlugin example for that:</p>\n<pre><code>new webpack.ProvidePlugin({\n    __extends: path.join(__dirname, './src', 'extends.ts')\n})\n</code></pre>\n</li>\n<li><p>We could use <code>&quot;importHelpers&quot;: true</code> option in the <strong>tsconfig</strong>: <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/compiler-options.html</a><br />\nBut it adds <strong>all</strong> ts helpers without duplication (I've tried it with <strong>ts-loader</strong>).</p>\n</li>\n</ol>\n<p>I've chosen second variant because it is not a great overhead.</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 5946940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j49Nu.png?s=128&g=1", "display_name": "Kevin F", "link": "https://stackoverflow.com/users/5946940/kevin-f"}, "is_accepted": false, "score": 6, "last_activity_date": 1490624060, "last_edit_date": 1490624060, "creation_date": 1489488796, "answer_id": 42784034, "question_id": 36556772, "link": "https://stackoverflow.com/questions/36556772/webpack-and-typescript-extends/42784034#42784034", "title": "Webpack and Typescript `__extends`", "body": "<p>Webpack's <code>ProvidePlugin</code> actually has an undocumented feature: you can configure it with an array instead of a string and it'll extract the given object path from the exports of a module.</p>\n\n<p>This allows you to make use of TypeScript's official <code>tslib</code> module, which exports all the desired functions.</p>\n\n<p>The following code works with <code>webpack@2.2.1</code>:</p>\n\n<pre><code>new webpack.ProvidePlugin({\n    '__assign': ['tslib', '__assign'],\n    '__extends': ['tslib', '__extends'],\n})\n</code></pre>\n\n<p>Make sure to force Webpack to use the ES6 module version of <code>tslib</code>:</p>\n\n<pre><code>aliases: {\n    'tslib$': 'tslib/tslib.es6.js',\n}\n</code></pre>\n\n<p>And configure your <code>tsc</code>/<code>tsconfig.json</code> not to emit the helper functions for every module:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"noEmitHelpers\": true,\n    }\n}\n</code></pre>\n\n<p><strong>Edit</strong>: My pull-request for a documentation update has been merged, so you'll find this on the official website as well, now: <a href=\"https://webpack.js.org/guides/shimming/\" rel=\"nofollow noreferrer\">https://webpack.js.org/guides/shimming/</a></p>\n"}], "owner": {"reputation": 1237, "user_id": 4800160, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a715600b3c75af58dd12ab468d60a1b6?s=128&d=identicon&r=PG&f=1", "display_name": "\u041a\u0430\u0447\u0430\u043b\u043e\u0432 \u0422\u0438\u043c\u043e\u0444\u0435\u0439", "link": "https://stackoverflow.com/users/4800160/%d0%9a%d0%b0%d1%87%d0%b0%d0%bb%d0%be%d0%b2-%d0%a2%d0%b8%d0%bc%d0%be%d1%84%d0%b5%d0%b9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2947, "favorite_count": 2, "accepted_answer_id": 41894439, "answer_count": 3, "score": 9, "last_activity_date": 1606239739, "creation_date": 1460400329, "question_id": 36556772, "link": "https://stackoverflow.com/questions/36556772/webpack-and-typescript-extends", "title": "Webpack and Typescript `__extends`", "body": "<p>I write project with help of TypeScript. Project divided into many modules.\nI bundle all modules into one file with Webpack.</p>\n\n<p>For each module-class, which extends from parent class, webpack added TypeScript <code>__extends</code> helper.\nAs result - i got many repeated code.</p>\n\n<pre><code>/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __extends = (this &amp;&amp; this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar DeepExtend_1 = __webpack_require__(6);\n\n//...\n\nexports.SafariDetector = SafariDetector;\n\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __extends = (this &amp;&amp; this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar DeepExtend_1 = __webpack_require__(6);\n\n//...\n\nexports.SafariMobileDetector = SafariMobileDetector;\n</code></pre>\n\n<p>So, any way to fix that?</p>\n"}]