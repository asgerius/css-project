[{"tags": ["typescript", "jestjs", "es6-modules"], "owner": {"reputation": 103, "user_id": 3940150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/692e17cf987f3eed4c0d4c46797824b5?s=128&d=identicon&r=PG&f=1", "display_name": "Magnus Siverbrant", "link": "https://stackoverflow.com/users/3940150/magnus-siverbrant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 511, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1541665558, "creation_date": 1541633789, "last_edit_date": 1541665558, "question_id": 53199535, "link": "https://stackoverflow.com/questions/53199535/syntaxerror-unexpected-token-export-when-testing-typescript-code-with-es2015-mo", "title": "SyntaxError: Unexpected token export when testing typescript code with ES2015 module imports with jest", "body": "<p>Im struggeling to get some code I work with tested.</p>\n\n<p>In all my projects I use jest for testing. it works fine as long as I have javascript files but I do work with some packages containing typescript code. The code contains dependencies with ES2015 module imports and exports and when built its bundled with webpack where the target code still contain ES2015 module exports and imports</p>\n\n<p>Jest runs on node and can\u00b4t handle ES2015 modules (yet) and I can not figure out how to configure either typescript babel or jest to transpile the dependency code into commonjs modules when I want to run my tests</p>\n\n<p>I have spent an insane amount of time trying to figure this out so I appreciate all help I can get.</p>\n\n<p>in this example I have cloned the jest example project for Typescript and modified it to contain a dependency containing ES2015 modules to illustrate the problem</p>\n\n<p>tsconfig.json</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"allowJs\": true,\n    \"module\": \"commonjs\"\n  }\n}\n</code></pre>\n\n<p>package.json</p>\n\n<pre><code>{\n    \"devDependencies\": {\n        \"@types/jest\": \"^23.1.1\",\n        \"@types/node\": \"^10.12.3\",\n        \"jest\": \"*\",\n        \"typescript\": \"*\",\n        \"ts-jest\": \"*\"\n      },\n\n        \"dependencies\": {\n            \"lodash-es\": \"^4.17.11\" //has es2015 exports\n          },\n          \"jest\": {\n            \"moduleFileExtensions\": [\n             \"ts\",\n              \"tsx\",\n              \"js\"\n            ],\n            \"transform\": {\n              \"^.+\\\\.(ts|tsx)$\": \"ts-jest\"\n            },\n            \"globals\": {\n              \"ts-jest\": {\n                \"tsConfigFile\": \"tsconfig.json\"\n              }\n            },\n            \"testMatch\": [\n              \"**/__tests__/*.+(ts|tsx|js)\"&gt;\n            ]\n          }\n}\n</code></pre>\n\n<p>wrap.ts</p>\n\n<pre><code>import {map} from \"lodash-es\";\nexport function wrap(a: number, b: number): number {\n  return map([a,b],i=&gt;({i}));\n}\n</code></pre>\n\n<p>wrap.test.ts</p>\n\n<pre><code>import {wrap} from \"../sum\"\nit('wrap ', ()=&gt; {\n  expect(wrap(1, 2)).toBe([{i:1},{i:1}]);\n});\n</code></pre>\n\n<p>when running jest i get </p>\n\n<pre><code> export { default as add } from './add.js';\n ^^^^^^\n\nSyntaxError: Unexpected token export\n</code></pre>\n\n<p>from a file in the dependency</p>\n\n<p>any ideas on how to solve this?</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 966, "user_id": 3846065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88681ce72e9fa053125209554c40a5c1?s=128&d=identicon&r=PG&f=1", "display_name": "Badashi", "link": "https://stackoverflow.com/users/3846065/badashi"}, "edited": false, "score": 0, "creation_date": 1541635313, "post_id": 53199351, "comment_id": 93287935, "body": "Looking into the react-apollo github, it seems to be written in TS by itself: <a href=\"https://github.com/apollographql/react-apollo\" rel=\"nofollow noreferrer\">github.com/apollographql/react-apollo</a> , is there a difference from your <code>withApolloClient</code> and theirs <code>withApollo</code> HOC?"}, {"owner": {"reputation": 79, "user_id": 3117766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/605803749/picture?type=large", "display_name": "eddeee", "link": "https://stackoverflow.com/users/3117766/eddeee"}, "reply_to_user": {"reputation": 966, "user_id": 3846065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88681ce72e9fa053125209554c40a5c1?s=128&d=identicon&r=PG&f=1", "display_name": "Badashi", "link": "https://stackoverflow.com/users/3846065/badashi"}, "edited": false, "score": 0, "creation_date": 1541973882, "post_id": 53199351, "comment_id": 93391965, "body": "I am using nextjs and following their example here: <a href=\"https://github.com/zeit/next.js/tree/canary/examples/with-apollo\" rel=\"nofollow noreferrer\">github.com/zeit/next.js/tree/canary/examples/with-apollo</a>. It is currently in JS, so when I try to import <code>with-apollo-client.js</code>, it says that I need to declare a <code>d.ts</code> file"}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 3117766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/605803749/picture?type=large", "display_name": "eddeee", "link": "https://stackoverflow.com/users/3117766/eddeee"}, "edited": false, "score": 0, "creation_date": 1541974129, "post_id": 53208179, "comment_id": 93392033, "body": "This works. However, in the file where I&#39;m importing the HOC, I still need import the interface to be extended (<code>WithApolloClient</code> in the following example):  <code>import withApolloClient, { WithApolloClient } from &#39;src&#47;lib&#47;with-apollo-client&#39;;</code>  <code>interface Props extends WithApolloClient {     id?: string; }</code>  Do I have to do this everywhere I want to use the HOC?"}, {"owner": {"reputation": 140, "user_id": 10506074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb5eb803f4d4998a32c32e1d37e4a6a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stramski", "link": "https://stackoverflow.com/users/10506074/stramski"}, "reply_to_user": {"reputation": 79, "user_id": 3117766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/605803749/picture?type=large", "display_name": "eddeee", "link": "https://stackoverflow.com/users/3117766/eddeee"}, "edited": false, "score": 0, "creation_date": 1542006897, "post_id": 53208179, "comment_id": 93399240, "body": "If you want to use the properties you need to pass the interface to the react component. So that&#39;s exactly the way to go."}], "tags": [], "owner": {"reputation": 140, "user_id": 10506074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb5eb803f4d4998a32c32e1d37e4a6a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stramski", "link": "https://stackoverflow.com/users/10506074/stramski"}, "is_accepted": true, "score": 1, "last_activity_date": 1541681685, "creation_date": 1541681685, "answer_id": 53208179, "question_id": 53199351, "link": "https://stackoverflow.com/questions/53199351/writing-declaration-d-ts-file-for-existing-hoc/53208179#53208179", "title": "Writing declaration d.ts file for existing HOC", "body": "<p>You need to remove the interface WithApolloClient from your returned React.Component. Otherwise it will expect an apolloClient as prop. Something like this should work:</p>\n\n<pre><code>type Omit&lt;T, K&gt; = Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;;\ntype Subtract&lt;T, K&gt; = Omit&lt;T, keyof K&gt;;\n\nexport default &lt;P extends WithApolloClient&gt;(App: React.ComponentType&lt;P&gt;) =&gt; {\n  return class Apollo extends React.Component&lt;Subtract&lt;P, WithApolloClient&gt;&gt; {};\n};\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 3117766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/605803749/picture?type=large", "display_name": "eddeee", "link": "https://stackoverflow.com/users/3117766/eddeee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "accepted_answer_id": 53208179, "answer_count": 1, "score": 0, "last_activity_date": 1541681685, "creation_date": 1541632599, "question_id": 53199351, "link": "https://stackoverflow.com/questions/53199351/writing-declaration-d-ts-file-for-existing-hoc", "title": "Writing declaration d.ts file for existing HOC", "body": "<p>I'm having problem with writing a <code>d.ts</code> file for a HOC component:\n<code>with-apollo-client.js</code> wraps an component to inject a prop in. It is something like this:</p>\n\n<pre><code>export default App =&gt; {\n  return class Apollo extends React.Component{\n    render(){\n       // code to get apolloClient variable omitted\n\n       &lt;Apollo client={apolloClient}&gt;\n    }\n  }\n}\n</code></pre>\n\n<p>To use it, we just do:</p>\n\n<pre><code>import withApolloClient from './with-apollo-client'\n...\nexport default withApolloClient(App)\n</code></pre>\n\n<p>And in <code>with-apollo-client.d.ts</code></p>\n\n<pre><code>import { ApolloClient } from 'apollo-boost';\n\nexport interface WithApolloClient {\n    apolloClient: ApolloClient&lt;any&gt;;\n}\n\nexport default &lt;P extends WithApolloClient&gt;(App: React.ComponentType&lt;P&gt;) =&gt; {\n    return class Apollo extends React.Component&lt;P&gt; {};\n};\n</code></pre>\n\n<p>And TS is complaining:</p>\n\n<pre><code>`Type '{ id: string; }' is not assignable to type 'Readonly&lt;Props&gt;'.\n  Property 'apolloClient' is missing in type '{ id: string; }'.`\n</code></pre>\n"}, {"tags": ["angular", "typescript", "highcharts", "pie-chart", "donut-chart"], "answers": [{"tags": [], "owner": {"reputation": 6757, "user_id": 10077925, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dLnp6.jpg?s=128&g=1", "display_name": "Wojciech Chmiel", "link": "https://stackoverflow.com/users/10077925/wojciech-chmiel"}, "is_accepted": true, "score": 0, "last_activity_date": 1541666053, "creation_date": 1541666053, "answer_id": 53204018, "question_id": 53199334, "link": "https://stackoverflow.com/questions/53199334/inner-size-of-pie-chart-highchart-getting-change-with-the-values-provided-in-t/53204018#53204018", "title": "Inner size of pie chart (HighChart) getting change with the values provided in the series", "body": "<p>The solution is very easy. When you set <code>50, 50</code> dataLables are positioned horizontally and take a lot of space, <code>innerSize</code> value is fixed (innerSize = 250 in your example) so the only option to fit the chart in the plot area is to decrease the pie thickness. Check the same settings on a wider screen and you will see it. </p>\n\n<p>The solution is to use <code>innerSize</code> as the <strong>percentage</strong> of the pie.</p>\n\n<p>Code:</p>\n\n<pre><code>Highcharts.chart('container', {\n  chart: {\n    type: 'pie'\n  },\n  credits: {\n    enabled: false\n  },\n  title: {\n    text: ''\n  },\n  plotOptions: {\n    pie: {\n      innerSize: '70%'\n    }\n  },\n  colors: ['#F0F0F0', '#4BB482', '#4cb581'],\n  series: [{\n    name: 'Tasks (%)',\n    data: [\n      ['Not completed', 50],\n      ['Completed', 50],\n    ]\n  }]\n});\n</code></pre>\n\n<p>Demo:\n<a href=\"https://jsfiddle.net/BlackLabel/c0Lyx3jo/2/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/BlackLabel/c0Lyx3jo/2/</a></p>\n"}], "owner": {"reputation": 1646, "user_id": 1800337, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TErst.jpg?s=128&g=1", "display_name": "Kushan Randima", "link": "https://stackoverflow.com/users/1800337/kushan-randima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 542, "favorite_count": 0, "accepted_answer_id": 53204018, "answer_count": 1, "score": 0, "last_activity_date": 1541666053, "creation_date": 1541632483, "last_edit_date": 1541633714, "question_id": 53199334, "link": "https://stackoverflow.com/questions/53199334/inner-size-of-pie-chart-highchart-getting-change-with-the-values-provided-in-t", "title": "Inner size of pie chart (HighChart) getting change with the values provided in the series", "body": "<p>I am using HichChart to present a doughnut (pie) chart in my angular application. The issue is that the 'inner size' of the graph getting change with the values provided in the series. The chart has only two values in the series. As an example, the chart inner size is getting very thin when I provide the series values as 50 and 50. It looks fine if I provide the values as 20 and 80. </p>\n\n<p>The interesting thing is if I run the same code I have written for 50 and 50 scenario in JsFiddle, chart inner size is not getting thin. (Please note that, in JsFiddle, I have selected the most relevant dev settings - JavaScript + AngularJS 2.0.0-alpha.47). </p>\n\n<p>In My application, 'package.json' file shows the highchart versions as \"highcharts\": \"^6.1.4\", \"highcharts-angular\": \"^2.3.0\". Please find my angular version and some additional information below. Please assist me to resolve this mystery.</p>\n\n<pre><code>setCompletedTasksDonutChartRM(completedTasks, notCompletedTasks) {\nthis.donutChartOptionsForRM_Completed = {\n  chart: {\n    type: 'pie'\n  },\n  credits: {\n    enabled: false\n  },\n  title: {\n    text: ''\n  },\n  plotOptions: {\n    pie: {\n      innerSize: 250\n    }\n  },\n  colors: ['#F0F0F0', '#4BB482', '#4cb581'],\n  series: [{\n    name: 'Tasks (%)',\n    data: [\n      ['Not completed', 50],\n      ['Completed', 50],\n    ]\n  }]\n};\n}\n</code></pre>\n\n<p><a href=\"https://jsfiddle.net/kushannc/4pLkbtzc/5/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/kushannc/4pLkbtzc/5/</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/V65pE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V65pE.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/P4jpJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P4jpJ.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/d6qYO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d6qYO.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript", "dictionary", "ngrx", "ngrx-entity"], "comments": [{"owner": {"reputation": 4080, "user_id": 3547482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f93615ed584db10b4cc59daa1437b7e1?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Leonov", "link": "https://stackoverflow.com/users/3547482/alexander-leonov"}, "edited": false, "score": 1, "creation_date": 1541646080, "post_id": 53199211, "comment_id": 93290410, "body": "Maybe it&#39;s just me, but I can see nothing in here that tries to select any object by passing some Id somewhere... My guess is that you want to get this mysterious message by its id... but I can see no storage for those messages to begin with. It is completely unclear what you&#39;re trying to do."}], "answers": [{"comments": [{"owner": {"reputation": 904, "user_id": 13087977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ii0to.png?s=128&g=1", "display_name": "Deitsch", "link": "https://stackoverflow.com/users/13087977/deitsch"}, "edited": false, "score": 1, "creation_date": 1611746449, "post_id": 53203482, "comment_id": 116548201, "body": "Why would i not need <code>getOneById</code>? Selecting a specific item of a list seems very default to me"}, {"owner": {"reputation": 979, "user_id": 2594702, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/R2eg2.jpg?s=128&g=1", "display_name": "Samih", "link": "https://stackoverflow.com/users/2594702/samih"}, "reply_to_user": {"reputation": 904, "user_id": 13087977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ii0to.png?s=128&g=1", "display_name": "Deitsch", "link": "https://stackoverflow.com/users/13087977/deitsch"}, "edited": false, "score": 0, "creation_date": 1614262178, "post_id": 53203482, "comment_id": 117336459, "body": "Agree with @Deitsch here. The use case I run into repeatedly is I want to update one or two properties on a single entity in my reducer. I don&#39;t see another way to do this besides selecting that one entity by id, updating the required properties then writing it back to the store with upsertOne()."}], "tags": [], "owner": {"reputation": 9151, "user_id": 10112124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e6297e8a8df7affbe897ed476212148?s=128&d=identicon&r=PG", "display_name": "timdeschryver", "link": "https://stackoverflow.com/users/10112124/timdeschryver"}, "is_accepted": false, "score": 1, "last_activity_date": 1541663959, "creation_date": 1541663959, "answer_id": 53203482, "question_id": 53199211, "link": "https://stackoverflow.com/questions/53199211/angular-ngrx-not-able-to-select-single-value-in-ngrx-entity-based-on-id/53203482#53203482", "title": "angular NGRX: Not able to select single value in ngrx entity based on id", "body": "<p><code>@ngrx/entity</code> doesn't provide a <code>getOneById</code> selector.</p>\n\n<p>In most of the cases, this is something you shouldn't have to do.</p>\n\n<p>That being said there are ways of creating a selector which does exactly this, for more info see (NgRx: Parameterized selectors)[<a href=\"https://blog.angularindepth.com/ngrx-parameterized-selector-e3f610529f8]\" rel=\"nofollow noreferrer\">https://blog.angularindepth.com/ngrx-parameterized-selector-e3f610529f8]</a>.</p>\n\n<p>For example:</p>\n\n<pre><code>export const getCount = createSelector(\n  getCounterValue, \n  (counter, props) =&gt; counter * props.multiply\n);\n\nexport const selectCustomer = (id: string) =&gt; createSelector(\n  selectCustomers,\n  customers =&gt; customers[id]\n);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 647, "user_id": 7290236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79fd945fdfca441d28b62ed0a2374212?s=128&d=identicon&r=PG&f=1", "display_name": "prabhat gundepalli", "link": "https://stackoverflow.com/users/7290236/prabhat-gundepalli"}, "is_accepted": true, "score": 3, "last_activity_date": 1541994960, "creation_date": 1541994960, "answer_id": 53255764, "question_id": 53199211, "link": "https://stackoverflow.com/questions/53199211/angular-ngrx-not-able-to-select-single-value-in-ngrx-entity-based-on-id/53255764#53255764", "title": "angular NGRX: Not able to select single value in ngrx entity based on id", "body": "<p><code>@ngrx/entity</code> does provide a getEntityValueById after their release of v6.1.0 (<a href=\"https://github.com/ngrx/platform/blob/master/CHANGELOG.md#610-2018-08-01\" rel=\"nofollow noreferrer\">ngrx entity changelog</a>) where they have introduced <code>dictionary</code>. </p>\n\n<p>Thus using this, I was able to pull a single value of an entity by its id in the below way.</p>\n\n<pre><code>// in the selector\nimport { Dictionary} from '@ngrx/entity;\n\nexport const getMessageById = () =&gt; {\n  return createSelector(\n    selectMessagesEntities,                \n    (entities: Dictionary&lt;Message&gt;, props: { messageId: number }) =&gt; {\n      return entities[props.messageId];\n    },\n  );\n};\n\n\n//to call the selector\n\n\nthis.msg$ = this.store.pipe(select(\n      fromStore.getMessageById(), { messageId: 10 }\n    )).pipe(\n      map(\n        (message: Message) =&gt; {\n          return this.msg = message;\n        },\n      )\n    );\n</code></pre>\n\n<p>Also a great reference for this approach has been documented \n<a href=\"https://blog.angularindepth.com/ngrx-parameterized-selector-e3f610529f8\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 647, "user_id": 7290236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79fd945fdfca441d28b62ed0a2374212?s=128&d=identicon&r=PG&f=1", "display_name": "prabhat gundepalli", "link": "https://stackoverflow.com/users/7290236/prabhat-gundepalli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2024, "favorite_count": 0, "accepted_answer_id": 53255764, "answer_count": 2, "score": 1, "last_activity_date": 1541994960, "creation_date": 1541631670, "question_id": 53199211, "link": "https://stackoverflow.com/questions/53199211/angular-ngrx-not-able-to-select-single-value-in-ngrx-entity-based-on-id", "title": "angular NGRX: Not able to select single value in ngrx entity based on id", "body": "<p>I am trying to select an object by Id from the entity state. Below is my reducer.</p>\n\n<pre><code> export interface MessageState extends EntityState&lt;Message&gt; {\n  // additional entities state properties\n  loaded: boolean;\n  loading: boolean;\n}\n\nexport const adapter: EntityAdapter&lt;Message&gt; = createEntityAdapter&lt;Message&gt;({\n  selectId: (msg: Message) =&gt; msg.messageId,\n});\n\nexport const initialState: MessageState = adapter.getInitialState({\n  // additional entity state properties\n  loaded: false,\n  loading: false,\n});\n\nexport function reducer(state = initialState, action: MessageActionsUnion): MessageState {\n  switch (action.type) {\n\n    case MessageActionTypes.UPSERT_Message: {\n      return { ...state, loading: true, loaded: false };\n    }\n\n    case MessageActionTypes.UPSERT_Message_SUCCESS: {\n      return adapter.upsertOne(action.payload.Message,\n        {\n          ...state, loaded: true, loading: false,\n        });\n\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n</code></pre>\n\n<p>Below is my index.ts file</p>\n\n<pre><code>export interface State extends fromRoot.AppState {\n  queueModule: QueueState;\n}\n\nexport interface QueueState {\n  msgHeaders: fromMsgHeaders.MessageHeaderState\n}\n\nexport const reducers: ActionReducerMap&lt;QueueState&gt; = {\n  msgHeaders: fromMsgHeaders.reducer\n\n};\n\nexport const getQueueState$ = createFeatureSelector&lt;QueueState&gt;('queueModule');\n</code></pre>\n\n<p>I am trying to form a selector when passed an Id will return the value from the entity.</p>\n\n<pre><code>    export const selectMessages = createSelector(\n      fromFeatures.getQueueState$,\n      (state: fromFeatures.QueueState) =&gt; state.msgs\n    );\n\n    export const {\n      selectAll: selectAllMessages,\n      selectEntities: selectMessagesEntities,\n      selectIds: selectMessagesIds,\n      selectTotal: selectMessagesTotal\n    } = adapter.getSelectors(selectMessages);\n</code></pre>\n\n<p>I looked at many resources, but none are clear on how to select an object by passing the id. </p>\n"}, {"tags": ["angular", "typescript", "angular7"], "comments": [{"owner": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "edited": false, "score": 0, "creation_date": 1547596964, "post_id": 53199133, "comment_id": 95243681, "body": "Did you install the types using NPM? What does your tsconfig look like?"}, {"owner": {"reputation": 1577, "user_id": 53537, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4de779c6c2aa36c83ab9277b8be6ade2?s=128&d=identicon&r=PG", "display_name": "Karptonite", "link": "https://stackoverflow.com/users/53537/karptonite"}, "reply_to_user": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "edited": false, "score": 0, "creation_date": 1547650715, "post_id": 53199133, "comment_id": 95265242, "body": "Thanks for taking an interest. I believe I found the answer to my question in another stackoverflow question (see my answer below)."}], "answers": [{"comments": [{"owner": {"reputation": 982, "user_id": 7511690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932d47d0df3e363c5439fd6d4d799bae?s=128&d=identicon&r=PG&f=1", "display_name": "Gilsdav", "link": "https://stackoverflow.com/users/7511690/gilsdav"}, "edited": false, "score": 0, "creation_date": 1541664275, "post_id": 53200304, "comment_id": 93295304, "body": "Not a good idea to copy past but how it works if you direct access to this d.ts from node_modules ?"}, {"owner": {"reputation": 1855, "user_id": 6587634, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209643793277415/picture?type=large", "display_name": "Wong Jia Hau", "link": "https://stackoverflow.com/users/6587634/wong-jia-hau"}, "reply_to_user": {"reputation": 982, "user_id": 7511690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932d47d0df3e363c5439fd6d4d799bae?s=128&d=identicon&r=PG&f=1", "display_name": "Gilsdav", "link": "https://stackoverflow.com/users/7511690/gilsdav"}, "edited": false, "score": 0, "creation_date": 1541665177, "post_id": 53200304, "comment_id": 93295676, "body": "@Gilsdav It will work as well without importing the actual module, however please remember to install the typings using <code>--save-dev</code> options."}], "tags": [], "owner": {"reputation": 1855, "user_id": 6587634, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209643793277415/picture?type=large", "display_name": "Wong Jia Hau", "link": "https://stackoverflow.com/users/6587634/wong-jia-hau"}, "is_accepted": false, "score": 0, "last_activity_date": 1541640451, "creation_date": 1541640451, "answer_id": 53200304, "question_id": 53199133, "link": "https://stackoverflow.com/questions/53199133/typescript-types-for-code-that-is-not-imported-by-typescript/53200304#53200304", "title": "Typescript types for code that is not imported by typescript?", "body": "<p>I had the same problem in the past, and I also find it impossible to import the Type Definition files using <code>import</code> without importing the actual module.  </p>\n\n<p>So, what I did is, I <strong>copied</strong> the Type Definition file (usually <code>index.d.ts</code>) into my codebase. </p>\n\n<p>After that, you could do something like:</p>\n\n<pre><code>import {SomeType} from \"sometype.d.ts\"\ndeclare let ObjectImportedFromHTMLScriptTag: SomeType;\n</code></pre>\n\n<p>Then, you could use the imported object without breaking type safety.</p>\n"}, {"tags": [], "owner": {"reputation": 1577, "user_id": 53537, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4de779c6c2aa36c83ab9277b8be6ade2?s=128&d=identicon&r=PG", "display_name": "Karptonite", "link": "https://stackoverflow.com/users/53537/karptonite"}, "is_accepted": true, "score": 0, "last_activity_date": 1547650655, "last_edit_date": 1547650655, "creation_date": 1547599079, "answer_id": 54208854, "question_id": 53199133, "link": "https://stackoverflow.com/questions/53199133/typescript-types-for-code-that-is-not-imported-by-typescript/54208854#54208854", "title": "Typescript types for code that is not imported by typescript?", "body": "<p>The answer to my question appears to be here: <a href=\"https://stackoverflow.com/questions/51084724/types-googlemaps-index-d-ts-is-not-a-module\">@types/googlemaps/index.d.ts&#39; is not a module</a>\nThat is, I can use a triple slash directive, or declare the module in a root typings.d.ts file.</p>\n"}], "owner": {"reputation": 1577, "user_id": 53537, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4de779c6c2aa36c83ab9277b8be6ade2?s=128&d=identicon&r=PG", "display_name": "Karptonite", "link": "https://stackoverflow.com/users/53537/karptonite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2640, "favorite_count": 0, "accepted_answer_id": 54208854, "answer_count": 2, "score": 6, "last_activity_date": 1547650655, "creation_date": 1541631224, "last_edit_date": 1547596539, "question_id": 53199133, "link": "https://stackoverflow.com/questions/53199133/typescript-types-for-code-that-is-not-imported-by-typescript", "title": "Typescript types for code that is not imported by typescript?", "body": "<p>This is an issue with an Angular app, but I don't believe this is an angular-specific issue.</p>\n\n<p>I'm working on an Angular 7 app, and I'm working with a few libraries that are imported via script tags on the front end from other sources (Stripe, recaptcha, googletags, etc). I'll use Stripe as an example here, because Stripe absolutely requires that the front end library be imported from <code>Stripe.js</code> by the client for PCI compliance, so from source server side is not an option. </p>\n\n<p>I've installed the types for <code>Stripe</code> from DefinitelyTyped. If I add <code>declare let Stripe: any;</code> and use <code>Stripe</code> in a component, it works, but of course it is not type safe. If I omit the declaration, VSCode finds the types fine, and the editor catches type errors, but it won't compile, (<code>error TS2304: Cannot find name 'Stripe'.</code> ) presumable because I have no <code>import</code> statement for Stripe.</p>\n\n<p>Is there any way to hint to TypeScript that it should use the types from DefinitelyTyped to catch type errors, without importing the Stripe library itself?</p>\n\n<p>Edit: I take back what I said about not thinking this is Angular specific. I now think this might have something to do with the angular compilation process.</p>\n"}, {"tags": ["reactjs", "typescript", "material-ui"], "answers": [{"tags": [], "owner": {"reputation": 2096, "user_id": 3406963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ez2DT.jpg?s=128&g=1", "display_name": "epsilon", "link": "https://stackoverflow.com/users/3406963/epsilon"}, "is_accepted": false, "score": 4, "last_activity_date": 1541657768, "creation_date": 1541657768, "answer_id": 53202380, "question_id": 53198972, "link": "https://stackoverflow.com/questions/53198972/reactjs-material-ui-withstyles-incl-theme-in-ts/53202380#53202380", "title": "ReactJS Material UI withStyles incl. theme in TS", "body": "<p><code>export default withStyles(styles)(Dashboard);</code> </p>\n\n<p><code>withStyles</code> will determine if it needs to call it with the theme or not.</p>\n\n<p><code>withTheme</code> or <code>withStyles(stylesObjectOrCreator, { withTheme: true })</code> is only required if you need to access the <code>theme</code> inside your component via props.</p>\n\n<p>API: <a href=\"https://material-ui.com/customization/css-in-js/#withstyles-styles---options----higher-order-component\" rel=\"nofollow noreferrer\">https://material-ui.com/customization/css-in-js/#withstyles-styles---options----higher-order-component</a></p>\n"}], "owner": {"reputation": 81, "user_id": 6327580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B3gmJ.jpg?s=128&g=1", "display_name": "H4rd_B4se", "link": "https://stackoverflow.com/users/6327580/h4rd-b4se"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4642, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1541657768, "creation_date": 1541630345, "question_id": 53198972, "link": "https://stackoverflow.com/questions/53198972/reactjs-material-ui-withstyles-incl-theme-in-ts", "title": "ReactJS Material UI withStyles incl. theme in TS", "body": "<p>I tried to convert the Material UI Dashboard into TypeScript. <a href=\"https://github.com/mui-org/material-ui/blob/master/docs/src/pages/page-layout-examples/dashboard/Dashboard.js\" rel=\"nofollow noreferrer\">https://github.com/mui-org/material-ui/blob/master/docs/src/pages/page-layout-examples/dashboard/Dashboard.js</a></p>\n\n<p>Currently I'm facing the problem that the CSS style definitions cannot be set on withStyles function when exporting the Dashboard. </p>\n\n<pre><code>const styles = (theme: Theme) =&gt; ({\n  root: {\n    display: 'flex',\n  },\n  toolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n  },\n  toolbarIcon: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: '0 8px',\n    ...theme.mixins.toolbar,\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  .....\n});\n</code></pre>\n\n<p>If I correctly understand, I need this theme reference to adjust the style to the current Theme. But how do I get the current theme when calling the style function? </p>\n\n<pre><code>export default withStyles(styles(/*WHAT TO PUT IN HERE?*/))(Dashboard);\n</code></pre>\n"}, {"tags": ["typescript", "google-apps-script", "clasp"], "comments": [{"owner": {"reputation": 32101, "user_id": 8404453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/616cb81bb678bb5b17869511b2a41367?s=128&d=identicon&r=PG&f=1", "display_name": "TheMaster", "link": "https://stackoverflow.com/users/8404453/themaster"}, "edited": false, "score": 1, "creation_date": 1541689011, "post_id": 53198823, "comment_id": 93308537, "body": "You don&#39;t have to annotate every variable. Types are inferred by default. If not, refer <a href=\"https://stackoverflow.com/questions/49015874/enabling-autocomplete-for-google-apps-script-in-locally-installed-ide\" title=\"enabling autocomplete for google apps script in locally installed ide\">stackoverflow.com/questions/49015874/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 10144, "user_id": 401450, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/41o2I.jpg?s=128&g=1", "display_name": "SET", "link": "https://stackoverflow.com/users/401450/set"}, "is_accepted": true, "score": 8, "last_activity_date": 1541629652, "creation_date": 1541629652, "answer_id": 53198835, "question_id": 53198823, "link": "https://stackoverflow.com/questions/53198823/abbreviate-lengthy-typescript-types/53198835#53198835", "title": "Abbreviate lengthy TypeScript Types", "body": "<p>You can define new alias type:</p>\n\n<pre><code>type Sheet = GoogleAppsScript.Spreadsheet.Sheet\n</code></pre>\n"}], "owner": {"reputation": 1936, "user_id": 7576819, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GsET9kif7jM/AAAAAAAAAAI/AAAAAAAARdo/zN92oXaOgHE/photo.jpg?sz=128", "display_name": "Dustin Michels", "link": "https://stackoverflow.com/users/7576819/dustin-michels"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 53198835, "answer_count": 1, "score": 1, "last_activity_date": 1541636746, "creation_date": 1541629586, "last_edit_date": 1541636746, "question_id": 53198823, "link": "https://stackoverflow.com/questions/53198823/abbreviate-lengthy-typescript-types", "title": "Abbreviate lengthy TypeScript Types", "body": "<p>I'm developing a <a href=\"https://developers.google.com/apps-script/\" rel=\"nofollow noreferrer\">Google Apps Script (GAS)</a> using Typescript (via the <a href=\"https://developers.google.com/apps-script/guides/clasp\" rel=\"nofollow noreferrer\">clasp</a> tool).</p>\n\n<p>I imported type definitions by running <code>npm i -S @types/google-apps-script</code>.</p>\n\n<p>Some types are quite lengthy, for example:</p>\n\n<pre><code>let sheet: GoogleAppsScript.Spreadsheet.Sheet\n</code></pre>\n\n<p>Is there a way to define an abbreviation within a file? e.g.,</p>\n\n<pre><code>declare Sheet = GoogleAppsScript.Spreadsheet.Sheet\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 13387, "user_id": 965834, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BiCtr.png?s=128&g=1", "display_name": "Jeto", "link": "https://stackoverflow.com/users/965834/jeto"}, "edited": false, "score": 3, "creation_date": 1541628760, "post_id": 53198632, "comment_id": 93285894, "body": "<a href=\"https://docs.microsoft.com/en-us/previous-versions/dotnet/netframework-4.0/k6xeyd4z(v=vs.100)\" rel=\"nofollow noreferrer\">Looks like ASP to me.</a>"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1541628860, "post_id": 53198632, "comment_id": 93285927, "body": "It&#39;s some kind of server-side templating language.  Possibly classic ASP.  Could be Webforms."}, {"owner": {"reputation": 982, "user_id": 7511690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932d47d0df3e363c5439fd6d4d799bae?s=128&d=identicon&r=PG&f=1", "display_name": "Gilsdav", "link": "https://stackoverflow.com/users/7511690/gilsdav"}, "edited": false, "score": 0, "creation_date": 1541628900, "post_id": 53198632, "comment_id": 93285936, "body": "Variables that are replaced by your compilation or prerendering process."}, {"owner": {"reputation": 690, "user_id": 2069516, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a5ee5d002b57ffc03b04121d1d050180?s=128&d=identicon&r=PG&f=1", "display_name": "John Alexander", "link": "https://stackoverflow.com/users/2069516/john-alexander"}, "edited": false, "score": 0, "creation_date": 1541628998, "post_id": 53198632, "comment_id": 93285973, "body": "It&#39;s clear that it&#39;s some kind of templating, but which one? Where can I find out and read the documentation so I know all the tricks it has up its sleeve?"}, {"owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "edited": false, "score": 0, "creation_date": 1541629056, "post_id": 53198632, "comment_id": 93285992, "body": "@JohnAlexander That looks like ASP.  See Example: <a href=\"https://www.w3schools.com/asp/showasp.asp?filename=demo_syntax_tags\" rel=\"nofollow noreferrer\">w3schools.com/asp/showasp.asp?filename=demo_syntax_tags</a>"}, {"owner": {"reputation": 1415, "user_id": 2872366, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/aCfl2.png?s=128&g=1", "display_name": "Gregory R.", "link": "https://stackoverflow.com/users/2872366/gregory-r"}, "edited": false, "score": 0, "creation_date": 1541629375, "post_id": 53198632, "comment_id": 93286112, "body": "This can also be HAML. A template engine for Ruby on Rails <a href=\"http://haml.info/\" rel=\"nofollow noreferrer\">haml.info</a>"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1541629385, "post_id": 53198632, "comment_id": 93286115, "body": "We can&#39;t tell you which one specifically.  Several use that syntax.  What is the file extension of the file containing that markup?"}], "answers": [{"comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 2, "creation_date": 1541629412, "post_id": 53198741, "comment_id": 93286125, "body": "There are other templating engines that use those tags.  There is no reason to be certain this is ASP."}, {"owner": {"reputation": 690, "user_id": 2069516, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a5ee5d002b57ffc03b04121d1d050180?s=128&d=identicon&r=PG&f=1", "display_name": "John Alexander", "link": "https://stackoverflow.com/users/2069516/john-alexander"}, "edited": false, "score": 0, "creation_date": 1541631755, "post_id": 53198741, "comment_id": 93286952, "body": "Interesting. So it is getting preprocessed and rendering that variable&#39;s value into the Javascript when Angular compiles. Is it a separate install, or part of Angular? What is the scope it has access to?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "reply_to_user": {"reputation": 690, "user_id": 2069516, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a5ee5d002b57ffc03b04121d1d050180?s=128&d=identicon&r=PG&f=1", "display_name": "John Alexander", "link": "https://stackoverflow.com/users/2069516/john-alexander"}, "edited": false, "score": 0, "creation_date": 1541640030, "post_id": 53198741, "comment_id": 93289074, "body": "@JohnAlexander It is completely unrelated to Angular or TypeScript.  No relationship.  You just happen to have a server-side system in use, and you also happen to be using Angular.  The scope is everything server-side."}, {"owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "reply_to_user": {"reputation": 690, "user_id": 2069516, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a5ee5d002b57ffc03b04121d1d050180?s=128&d=identicon&r=PG&f=1", "display_name": "John Alexander", "link": "https://stackoverflow.com/users/2069516/john-alexander"}, "edited": false, "score": 0, "creation_date": 1541688830, "post_id": 53198741, "comment_id": 93308432, "body": "@JohnAlexander when you visit a website, a lot of websites use that time to log information about you from the cookies you submitted, etc.  That being said, a website can use that as a time to fetch data related to said user.  They may fetch or set tokens, or in this case, prepopulate part of the Angular application with relevant information.  Maybe even Localization information etc.  Then the application is served to the client and after it is finished, runs.  Then the app would run with that given information."}, {"owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "reply_to_user": {"reputation": 690, "user_id": 2069516, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a5ee5d002b57ffc03b04121d1d050180?s=128&d=identicon&r=PG&f=1", "display_name": "John Alexander", "link": "https://stackoverflow.com/users/2069516/john-alexander"}, "edited": false, "score": 0, "creation_date": 1541688836, "post_id": 53198741, "comment_id": 93308438, "body": "@JohnAlexander Server side processing prior to an application running and displaying to a user is fairly common and there are a lot of ways to accomplish this.  Python, PHP, ASP all have different use cases, but their own separate frameworks in place to help with development."}, {"owner": {"reputation": 690, "user_id": 2069516, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a5ee5d002b57ffc03b04121d1d050180?s=128&d=identicon&r=PG&f=1", "display_name": "John Alexander", "link": "https://stackoverflow.com/users/2069516/john-alexander"}, "edited": false, "score": 0, "creation_date": 1551206605, "post_id": 53198741, "comment_id": 96553373, "body": "So in the Chrome Source panel, it shows me the Typescript code, and that variable is still in there... not token-replaced with anything else. How does that work?"}, {"owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "reply_to_user": {"reputation": 690, "user_id": 2069516, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a5ee5d002b57ffc03b04121d1d050180?s=128&d=identicon&r=PG&f=1", "display_name": "John Alexander", "link": "https://stackoverflow.com/users/2069516/john-alexander"}, "edited": false, "score": 0, "creation_date": 1551214574, "post_id": 53198741, "comment_id": 96557038, "body": "@JohnAlexander is this a different question?"}], "tags": [], "owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "is_accepted": false, "score": 0, "last_activity_date": 1541629120, "creation_date": 1541629120, "answer_id": 53198741, "question_id": 53198632, "link": "https://stackoverflow.com/questions/53198632/syntax-in-typescript-angular/53198741#53198741", "title": "&lt;%= %&gt; syntax in Typescript/Angular", "body": "<p>So, this is ASP Tags.</p>\n\n<p>If you take a look at the following from w3schools.  <a href=\"https://www.w3schools.com/asp/showasp.asp?filename=demo_syntax_tags\" rel=\"nofollow noreferrer\">https://www.w3schools.com/asp/showasp.asp?filename=demo_syntax_tags</a></p>\n\n<p>You will see that it is used in the HTML for templating.  It can also be used I believe in other files as it is processed on the server before the client application runs on your browser.</p>\n\n<p>HTH</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5693138, "user_type": "registered", "profile_image": "https://graph.facebook.com/529902310507123/picture?type=large", "display_name": "Vang B\u1eddm", "link": "https://stackoverflow.com/users/5693138/vang-b%e1%bb%9dm"}, "is_accepted": false, "score": -1, "last_activity_date": 1541633298, "creation_date": 1541633298, "answer_id": 53199451, "question_id": 53198632, "link": "https://stackoverflow.com/questions/53198632/syntax-in-typescript-angular/53199451#53199451", "title": "&lt;%= %&gt; syntax in Typescript/Angular", "body": "<p>You could try this way on HTML file</p>\n\n<p>{{window.location.origin}}</p>\n\n<p>if it doesn't recognize the window variable we might need this in ts file</p>\n\n<p>declare const window;</p>\n"}, {"tags": [], "owner": {"reputation": 2151, "user_id": 10068463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3df811097b7fb8fef67238aad1151ca?s=128&d=identicon&r=PG&f=1", "display_name": "Nate", "link": "https://stackoverflow.com/users/10068463/nate"}, "is_accepted": false, "score": 0, "last_activity_date": 1541638893, "creation_date": 1541638893, "answer_id": 53200150, "question_id": 53198632, "link": "https://stackoverflow.com/questions/53198632/syntax-in-typescript-angular/53200150#53200150", "title": "&lt;%= %&gt; syntax in Typescript/Angular", "body": "<p>Looks like ERB, a Ruby templating engine that Ruby on Rails uses.\n<a href=\"https://codingbee.net/tutorials/ruby/ruby-the-erb-templating-system\" rel=\"nofollow noreferrer\">https://codingbee.net/tutorials/ruby/ruby-the-erb-templating-system</a></p>\n\n<p>Others have mentioned that various languages use <code>&lt;%= some_code_here %&gt;</code> for templating.</p>\n\n<p>Regardless of what language is processing it, I imagine your .ts file runs through some server side framework, that will put some string value in place of WEB_HOST, and then the .ts file will be transpiled to JS.</p>\n"}], "owner": {"reputation": 690, "user_id": 2069516, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a5ee5d002b57ffc03b04121d1d050180?s=128&d=identicon&r=PG&f=1", "display_name": "John Alexander", "link": "https://stackoverflow.com/users/2069516/john-alexander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1541638893, "creation_date": 1541628611, "question_id": 53198632, "link": "https://stackoverflow.com/questions/53198632/syntax-in-typescript-angular", "title": "&lt;%= %&gt; syntax in Typescript/Angular", "body": "<p>I'm working on an Angular project that makes use of a variable called <code>WEB_HOST</code>. I can see in another file where the variable is defined (it's somehow defined in a class called <code>ProjectConfig</code>).</p>\n\n<p><strong>Definition (simplified):</strong></p>\n\n<pre><code>export class ProjectConfig {\n  WEB_HOST = 'https://example.com'; // I didn't think properties could be assigned here?\n\n  constructor() { ... }\n}\n</code></pre>\n\n<p>Now, from a completely separate *.ts file, this obviously doesn't work:</p>\n\n<pre><code>let x = WEB_HOST; // x is undefined\n</code></pre>\n\n<p>However, in the same file, some existing code manages to access the variable's value by using a bizarre string interpolation:</p>\n\n<pre><code>let x = `&lt;%= WEB_HOST %&gt;`; // x == 'https://example.com'\n</code></pre>\n\n<p>What is going on here? I've never seen this <code>&lt;%=</code> syntax before. Is it part of Angular? Typescript? I haven't been able to find any documentation on what it does.</p>\n\n<p>I also don't know how it manages to get a property out of <code>ProjectConfig</code> (and I'm not sure it's a class property either... the definition being outside of any class function confuses me too).</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1541627538, "post_id": 53198309, "comment_id": 93285393, "body": "You can add it to the <code>index.html</code> file, though it&#39;ll need to be just static HTML, i.e. no Angular bits"}, {"owner": {"reputation": 982, "user_id": 7511690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932d47d0df3e363c5439fd6d4d799bae?s=128&d=identicon&r=PG&f=1", "display_name": "Gilsdav", "link": "https://stackoverflow.com/users/7511690/gilsdav"}, "edited": false, "score": 1, "creation_date": 1541628632, "post_id": 53198309, "comment_id": 93285850, "body": "You can use every DOM manipulations like <code>document.body.appendChild</code>. Use the Document Angular Provider instead of direct access to document if you plan to use SSR"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "edited": false, "score": 0, "creation_date": 1541641625, "post_id": 53198309, "comment_id": 93289463, "body": "Refer this <a href=\"https://stackoverflow.com/questions/44948763/bootstrap-two-apps-in-same-page-using-angular-2\" title=\"bootstrap two apps in same page using angular 2\">stackoverflow.com/questions/44948763/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2806, "user_id": 8864728, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c7e35a8c48bc099d7a1e1a2e0c6fac1c?s=128&d=identicon&r=PG&f=1", "display_name": "Mahi", "link": "https://stackoverflow.com/users/8864728/mahi"}, "is_accepted": true, "score": 0, "last_activity_date": 1541630310, "last_edit_date": 1541630310, "creation_date": 1541629085, "answer_id": 53198734, "question_id": 53198309, "link": "https://stackoverflow.com/questions/53198309/angular-how-to-display-content-outside-of-application-root/53198734#53198734", "title": "Angular How to Display content outside of application root", "body": "<p>Link:-  <a href=\"https://stackblitz.com/edit/hello-angular-6-kaa5u8?file=src%2Findex.html\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/hello-angular-6-kaa5u8?file=src%2Findex.html</a></p>\n\n<h2>index.html</h2>\n\n<pre><code>&lt;head&gt;\n&lt;script src=\"..///\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script&gt;\nvar h = document.createElement(\"H4\");\nvar t = document.createTextNode(\"Hello World2\");\nh.appendChild(t);\ndocument.body.appendChild(h);\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;my-app&gt;loading&lt;/my-app&gt;\n&lt;h4&gt;hello boy&lt;/h4&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>or</p>\n\n<h2>app.component.ts</h2>\n\n<pre><code>ngOnInit(){\n       var h = document.createElement(\"H1\");\n    var t = document.createTextNode(\"Hello World\");\n    h.appendChild(t);\n    document.body.appendChild(h);\n  }\n</code></pre>\n\n<p>In angular2+ , there is just a <code>body</code> tag which holds root component ie <code>&lt;app-root&gt;&lt;/app-root&gt;</code>  which contains views(templates) and typescript files(as business logic controller). If you want to just write something out of root component, you can directly add relevant codes inside  <code>body</code>  tag. Same goes for script files as well.</p>\n"}], "owner": {"reputation": 55, "user_id": 10601408, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-53F_IQb3tHg/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCbVcUq6R2IaOE8I16whSd73Tu57g/mo/photo.jpg?sz=128", "display_name": "crazycoder", "link": "https://stackoverflow.com/users/10601408/crazycoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 868, "favorite_count": 1, "accepted_answer_id": 53198734, "answer_count": 1, "score": 1, "last_activity_date": 1541630310, "creation_date": 1541627101, "question_id": 53198309, "link": "https://stackoverflow.com/questions/53198309/angular-how-to-display-content-outside-of-application-root", "title": "Angular How to Display content outside of application root", "body": "<p>I want to display some content, something like a 'div' outside of the application root, inside the body tag of the root html.  </p>\n\n<p>Is it possible in Angular?  </p>\n\n<p>For example see this Angular Hello world app when we inspect the html we see \"Hello Angular 4\" content inside <code>&lt;hello&gt;</code> tag: </p>\n\n<p><a href=\"https://i.stack.imgur.com/6Jsrf.png\" rel=\"nofollow noreferrer\">before</a>  </p>\n\n<p>I need to display \"Hello Angular 4\" outside <code>&lt;my-app&gt;</code> as below<br>\n<a href=\"https://i.stack.imgur.com/1T3Dg.png\" rel=\"nofollow noreferrer\">after</a></p>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable", "angular7"], "comments": [{"owner": {"reputation": 982, "user_id": 7511690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932d47d0df3e363c5439fd6d4d799bae?s=128&d=identicon&r=PG&f=1", "display_name": "Gilsdav", "link": "https://stackoverflow.com/users/7511690/gilsdav"}, "edited": false, "score": 1, "creation_date": 1541630372, "post_id": 53198120, "comment_id": 93286488, "body": "I can see in <a href=\"https://github.com/angular/in-memory-web-api/blob/36b5f6777f7688ae9109a2df687a89dbfd4a2066/src/app/hero-in-mem-data-override.service.ts\" rel=\"nofollow noreferrer\">github.com/angular/in-memory-web-api/blob/&hellip;</a> that they use <code>reqInfo.utils.createResponse$()</code>. Did you try it ?"}, {"owner": {"reputation": 371, "user_id": 335666, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/20f3d38ad3d8b307c34e38006c6a048e?s=128&d=identicon&r=PG", "display_name": "Drellgor", "link": "https://stackoverflow.com/users/335666/drellgor"}, "reply_to_user": {"reputation": 982, "user_id": 7511690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932d47d0df3e363c5439fd6d4d799bae?s=128&d=identicon&r=PG&f=1", "display_name": "Gilsdav", "link": "https://stackoverflow.com/users/7511690/gilsdav"}, "edited": false, "score": 1, "creation_date": 1541658719, "post_id": 53198120, "comment_id": 93293295, "body": "@Gilsdav, yep that fixed it.  You wanna create an answer so I can accept it and you can get your due credit.  ;-)"}, {"owner": {"reputation": 982, "user_id": 7511690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932d47d0df3e363c5439fd6d4d799bae?s=128&d=identicon&r=PG&f=1", "display_name": "Gilsdav", "link": "https://stackoverflow.com/users/7511690/gilsdav"}, "edited": false, "score": 1, "creation_date": 1541697913, "post_id": 53198120, "comment_id": 93313816, "body": "I added the answer, thanks \ud83d\ude42"}], "answers": [{"tags": [], "owner": {"reputation": 982, "user_id": 7511690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932d47d0df3e363c5439fd6d4d799bae?s=128&d=identicon&r=PG&f=1", "display_name": "Gilsdav", "link": "https://stackoverflow.com/users/7511690/gilsdav"}, "is_accepted": true, "score": 1, "last_activity_date": 1541663728, "creation_date": 1541663728, "answer_id": 53203430, "question_id": 53198120, "link": "https://stackoverflow.com/questions/53198120/using-angular-rxjs-6-and-inmemoryapi-how-do-i-get-a-returned-observable-value-t/53203430#53203430", "title": "Using Angular, RxJs 6 and InMemoryAPI how do I get a returned Observable value that seems to be nested in multiple observable sources?", "body": "<p>Use <code>reqInfo.utils.createResponse$()</code> instead of <code>Observable.of()</code>.</p>\n\n<p>Here is an example of how to do it : <a href=\"https://github.com/angular/in-memory-web-api/blob/36b5f6777f7688ae9109a2df687a89dbfd4a2066/src/app/hero-in-mem-data-override.service.ts\" rel=\"nofollow noreferrer\">https://github.com/angular/in-memory-web-api/blob/36b5f6777f7688ae9109a2df687a89dbfd4a2066/src/app/hero-in-mem-data-override.service.ts</a></p>\n"}], "owner": {"reputation": 371, "user_id": 335666, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/20f3d38ad3d8b307c34e38006c6a048e?s=128&d=identicon&r=PG", "display_name": "Drellgor", "link": "https://stackoverflow.com/users/335666/drellgor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 1, "accepted_answer_id": 53203430, "answer_count": 1, "score": 0, "last_activity_date": 1541802621, "creation_date": 1541626214, "last_edit_date": 1541802621, "question_id": 53198120, "link": "https://stackoverflow.com/questions/53198120/using-angular-rxjs-6-and-inmemoryapi-how-do-i-get-a-returned-observable-value-t", "title": "Using Angular, RxJs 6 and InMemoryAPI how do I get a returned Observable value that seems to be nested in multiple observable sources?", "body": "\n\n<p>I'm trying to use Angular 7+, RxJS 6+, and the InMemoryAPI to create a mock API for testing my front-end GUI.  Here's my \"in-memory-data-.service.ts\":</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class InMemoryDataService implements InMemoryDbService {\n  // HTTP POST interceptor\n  post(reqInfo: RequestInfo) {\n    console.log('Caught POST:');\n    console.log(reqInfo);\n    if (reqInfo.collectionName === 'myApiUrlSign') {\n      console.log('Return generated myObject');\n      const reportResponse = new MyObject();\n      reportResponse.id = reqInfo.utils.getJsonBody(reqInfo.req);\n      reportResponse.time = new Date();\n      const response: ResponseOptions = {\n        body: reportResponse,\n        status: STATUS.OK\n      };\n      const observable = of(response);\n      console.log('In Memeory data service = ');\n      console.log(observable);\n      return observable;\n    }\n    return undefined; // Let the default POST handle all others\n  }\n\n  // Example DB Collection\n  createDb() {\n    const heroes = [\n      { id: 11, name: 'Mr. Nice' },\n      { id: 12, name: 'Narco' }\n    ];\n    return {heroes};\n  }\n}\n</code></pre>\n\n<p>Then my service is a simple post call:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>generateMyObject(myId: string): Observable&lt;MyObject&gt; {\n    return this.http.post&lt;MyObject&gt;(\n        this.apiUrl,\n        JSON.stringify({ myId }),\n        { headers: this.headers }\n    );\n}\n</code></pre>\n\n<p>Finally my component onSubmit function is as follows:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  onSubmit() {\n    const self = this;\n    const formModel = this.myForm.value;\n    const obs = this.myService.generateMyObject(formModel.myId);\n    console.log('On Submit Observer = ');\n    console.log(obs);\n    obs.subscribe((data: MyObject) =&gt; { // On Next()\n          console.log('MyObject recieved');\n          console.log(data);\n          self.myObject = data;\n        },\n        error =&gt; console.log(error), // On Error()\n        () =&gt; console.log('Completed')); // On Completed()\n\n    console.log(this.myObject);\n  }\n</code></pre>\n\n<p>Everything works except my observer next function is never called and the \"Completed\" function is.  The console log inside the \"InMemoryDataService\" returns the correct observable with the expected \"MyObject\" value.  Although, in my Angular component console.log a different observable is returned.  It has the correct MyObject value, but it looks \"nested\" in 3 parents Observable.source objects.  So if I use the following assignment the next() function is called correctly:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const obs = this.reportGenService.generateReport(formModel.orderId)\n    .source.source.source;\n</code></pre>\n\n<p>This is super weird and when I hover over the \".source\" in my IDE the hint says it's deprecated.  How do I get this to work without using multiple \".source\" calls?  I'm sure I'm missing something, I just don't know what.  Your help is greatly appreciated.</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "jestjs", "codesandbox"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1541625896, "post_id": 53197952, "comment_id": 93284706, "body": "The expectation comes <i>after</i> the test ends."}], "answers": [{"comments": [{"owner": {"reputation": 104819, "user_id": 135786, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9035acc6a3970f0a52f66ed3f703219b?s=128&d=identicon&r=PG", "display_name": "Ben Lesh", "link": "https://stackoverflow.com/users/135786/ben-lesh"}, "edited": false, "score": 0, "creation_date": 1584546616, "post_id": 53198327, "comment_id": 107471245, "body": "Funny enough the observable he&#39;s testing is <i>not</i> asynchronous. So this seems like a bug in Jest."}, {"owner": {"reputation": 1345, "user_id": 2073800, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ytYPR.jpg?s=128&g=1", "display_name": "Jags", "link": "https://stackoverflow.com/users/2073800/jags"}, "reply_to_user": {"reputation": 104819, "user_id": 135786, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9035acc6a3970f0a52f66ed3f703219b?s=128&d=identicon&r=PG", "display_name": "Ben Lesh", "link": "https://stackoverflow.com/users/135786/ben-lesh"}, "edited": false, "score": 0, "creation_date": 1584552300, "post_id": 53198327, "comment_id": 107474065, "body": "The observable itself may not be asynchronous, but the subscribe call is, and Jest completes the test prior to the expect call being reached"}], "tags": [], "owner": {"reputation": 1345, "user_id": 2073800, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ytYPR.jpg?s=128&g=1", "display_name": "Jags", "link": "https://stackoverflow.com/users/2073800/jags"}, "is_accepted": true, "score": 1, "last_activity_date": 1541627186, "creation_date": 1541627186, "answer_id": 53198327, "question_id": 53197952, "link": "https://stackoverflow.com/questions/53197952/jest-reports-that-test-passes-even-though-expect-assertion-fails/53198327#53198327", "title": "Jest reports that test passes even though expect assertion fails", "body": "<p>rxjs observables are asynchronous. Take a look at <a href=\"https://jestjs.io/docs/en/asynchronous.html\" rel=\"nofollow noreferrer\">this page</a> to help with testing asynchronous code</p>\n\n<p>You want to add the done argument as below -></p>\n\n<pre><code>test(\"It should fail\", done =&gt; {\n  source.subscribe(\n    x =&gt; {\n      expect(x).toContain(\"NOTHING\")\n      done();\n    });\n});\n</code></pre>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 555, "favorite_count": 0, "accepted_answer_id": 53198327, "answer_count": 1, "score": 2, "last_activity_date": 1590603520, "creation_date": 1541625473, "last_edit_date": 1541626518, "question_id": 53197952, "link": "https://stackoverflow.com/questions/53197952/jest-reports-that-test-passes-even-though-expect-assertion-fails", "title": "Jest reports that test passes even though expect assertion fails", "body": "<p>In <a href=\"https://codesandbox.io/s/nk6rv45oz4\" rel=\"nofollow noreferrer\">this code sandbox</a> the following test is executed:</p>\n\n<pre><code>    import { of } from \"rxjs\";\n    import { map } from \"rxjs/operators\";\n\n    const source = of(\"World\");\n\n    test(\"It should fail\", () =&gt; {\n      source.subscribe(x =&gt; expect(x).toContain(\"NOTHING\"));\n    });\n</code></pre>\n\n<p>Jest reports it as passing, even though the expectation fails.  Thoughts?</p>\n"}, {"tags": ["typescript", "types", "visual-studio-code"], "answers": [{"tags": [], "owner": {"reputation": 20315, "user_id": 963881, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e82a2a2b9ddf6fb580a9c34b2eca65f4?s=128&d=identicon&r=PG&f=1", "display_name": "syntagma", "link": "https://stackoverflow.com/users/963881/syntagma"}, "is_accepted": true, "score": 0, "last_activity_date": 1541629480, "creation_date": 1541629480, "answer_id": 53198802, "question_id": 53197815, "link": "https://stackoverflow.com/questions/53197815/property-host-does-not-exist-on-type-proxytargeturl-error-even-though-i-get/53198802#53198802", "title": "Property &#39;host&#39; does not exist on type &#39;ProxyTargetUrl&#39; Error. Even though i get IntelliSense in JS File", "body": "<p>The problem is that in your union type <code>type ProxyTargetUrl = string | url.Url</code>, only <code>Url</code> has field <code>host</code> defined.</p>\n\n<p>To access this field, you would need a type assertion: <code>(&lt;Url&gt;options.target).host</code>.</p>\n\n<p>See <a href=\"https://github.com/Microsoft/TypeScript/issues/12815\" rel=\"nofollow noreferrer\">this Github issue</a> for more information.</p>\n"}], "owner": {"reputation": 1470, "user_id": 2722783, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/74810c3f7526967c5a50e23a6bc22f8e?s=128&d=identicon&r=PG&f=1", "display_name": "VSDekar", "link": "https://stackoverflow.com/users/2722783/vsdekar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 240, "favorite_count": 0, "accepted_answer_id": 53198802, "answer_count": 1, "score": 0, "last_activity_date": 1541629480, "creation_date": 1541624786, "question_id": 53197815, "link": "https://stackoverflow.com/questions/53197815/property-host-does-not-exist-on-type-proxytargeturl-error-even-though-i-get", "title": "Property &#39;host&#39; does not exist on type &#39;ProxyTargetUrl&#39; Error. Even though i get IntelliSense in JS File", "body": "<p>I have the following code in a <code>.ts</code> file:</p>\n\n<pre><code>const connection = {\n        host: options.target.host\n      };\n</code></pre>\n\n<p><code>options</code> are of type <code>httpProxy.ServerOptions</code> and <code>target</code> is of type <code>ProxyTargetUrl</code></p>\n\n<p>The error i get is the following:</p>\n\n<pre><code>Property 'host' does not exist on type 'ProxyTargetUrl'.\n  Property 'host' does not exist on type 'string'.\n</code></pre>\n\n<p>These options are part from the <code>http-proxy</code> npm module. The newest typings are installed. <code>\"@types/http-proxy\": \"^1.16.2\"</code></p>\n\n<p>When i follow the declaration i see this:</p>\n\n<pre><code>type ProxyTargetUrl = string | url.Url;\n</code></pre>\n\n<p>--</p>\n\n<pre><code>interface Url extends UrlObjectCommon {\n        port?: string;\n        query?: string | null | ParsedUrlQuery;\n    }\n</code></pre>\n\n<p>--</p>\n\n<pre><code>interface UrlObjectCommon {\n        auth?: string;\n        hash?: string;\n        host?: string;\n        hostname?: string;\n        href?: string;\n        path?: string;\n        pathname?: string;\n        protocol?: string;\n        search?: string;\n        slashes?: boolean;\n    }\n</code></pre>\n\n<p>Why do i get this error? When i copy my code over in a JS File i get IntelliSense for the <code>host</code> property and the code also works perfectly fine at runtime. So the typings are correct. What did i miss?</p>\n"}, {"tags": ["reactjs", "typescript", "typescript-typings", "ref", "react-ref"], "owner": {"reputation": 8031, "user_id": 8331756, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/qcaCX.jpg?s=128&g=1", "display_name": "J. Hesters", "link": "https://stackoverflow.com/users/8331756/j-hesters"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "closed_date": 1541622596, "answer_count": 0, "score": 1, "last_activity_date": 1541622812, "creation_date": 1541622310, "last_edit_date": 1541622812, "question_id": 53197283, "link": "https://stackoverflow.com/questions/53197283/react-typescript-how-to-make-a-ref", "closed_reason": "Duplicate", "title": "React TypeScript: How to make a ref?", "body": "<p>I'm building a React app using TypeScript. I'm using React-Slick's carousel.</p>\n\n<p>I'm trying to programmatically change the slide of the carousel. Therefore I followed <a href=\"https://react-slick.neostack.com/docs/example/slick-go-to/\" rel=\"nofollow noreferrer\">the documentation</a> and tried to create a ref for the Slider.</p>\n\n<pre><code>&lt;Slider ref={slider =&gt; (this.slider = slider)} {...settings}&gt;\n</code></pre>\n\n<p>Now TypeScript complains that it does not now slider. So I tried declaring it like this:</p>\n\n<pre><code>slider: Slider | null;\n</code></pre>\n\n<p>If I try it like this, I get the error:</p>\n\n<pre><code>[ts] Property 'slider' has no initializer and is not definitely assigned in the constructor.\n</code></pre>\n\n<p>How is one supposed to make a ref work with TypeScript?</p>\n\n<p>The only way I could find was to say:</p>\n\n<pre><code>slide: any;\n</code></pre>\n\n<p>which defeats the purpose of TypeScript \ud83d\ude22.</p>\n\n<p><strong>EDIT:</strong>\n<a href=\"https://stackoverflow.com/users/3617886/tholle\">Tolle</a> you marked this question as a duplicate. But it is different, in that here the ref is created this way:</p>\n\n<pre><code>ref={slider =&gt; (this.slider = slider)}\n</code></pre>\n\n<p>And in your proposed original question this way:</p>\n\n<pre><code>ref={this.stepInput}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "enums"], "comments": [{"owner": {"reputation": 4682, "user_id": 1665540, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/62e9aae97c4b1b1caa0778a22542bd72?s=128&d=identicon&r=PG", "display_name": "Florian F.", "link": "https://stackoverflow.com/users/1665540/florian-f"}, "edited": false, "score": 0, "creation_date": 1541621905, "post_id": 53197034, "comment_id": 93282873, "body": "You should probably post your javascript code as well"}, {"owner": {"reputation": 285, "user_id": 8450776, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fa81546723f6ec1e006c9e2529f71f33?s=128&d=identicon&r=PG&f=1", "display_name": "Amal", "link": "https://stackoverflow.com/users/8450776/amal"}, "reply_to_user": {"reputation": 4682, "user_id": 1665540, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/62e9aae97c4b1b1caa0778a22542bd72?s=128&d=identicon&r=PG", "display_name": "Florian F.", "link": "https://stackoverflow.com/users/1665540/florian-f"}, "edited": false, "score": 0, "creation_date": 1541624395, "post_id": 53197034, "comment_id": 93283996, "body": "@Florian, added the JS code as well"}], "answers": [{"tags": [], "owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "is_accepted": true, "score": 1, "last_activity_date": 1541624763, "creation_date": 1541624763, "answer_id": 53197808, "question_id": 53197034, "link": "https://stackoverflow.com/questions/53197034/error-on-converting-enum-from-typescript-to-javascript/53197808#53197808", "title": "Error on converting enum from Typescript to JavaScript", "body": "<p>From the <a href=\"https://www.typescriptlang.org/docs/handbook/enums.html\" rel=\"nofollow noreferrer\">documenation</a>:</p>\n\n<blockquote>\n  <p>Const enums can only use constant enum expressions and <strong>unlike regular enums they are completely removed during compilation.</strong> Const enum members are inlined at use sites. This is possible since const enums cannot have computed members.</p>\n</blockquote>\n\n<p>Removing the <code>const</code> keyword should work. The inlining can only work if you use the enum in another TypeScript file.</p>\n"}, {"tags": [], "owner": {"reputation": 515, "user_id": 2946008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05c09a65a7da49f59996c4b08b7046b3?s=128&d=identicon&r=PG", "display_name": "Allenaz", "link": "https://stackoverflow.com/users/2946008/allenaz"}, "is_accepted": false, "score": 0, "last_activity_date": 1578308037, "creation_date": 1578308037, "answer_id": 59610804, "question_id": 53197034, "link": "https://stackoverflow.com/questions/53197034/error-on-converting-enum-from-typescript-to-javascript/59610804#59610804", "title": "Error on converting enum from Typescript to JavaScript", "body": "<p>You can set the compiler option (<a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">TSC options</a>) \"preserveConstEnums\" as true:</p>\n\n<p>tsconfig.json:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"preserveConstEnums\": true,\n    ...\n  },\n  ...\n}\n</code></pre>\n\n<p>Or command line:</p>\n\n<pre><code>tsc --preserveConstEnums true path/to/some_file.ts\n</code></pre>\n\n<p><a href=\"https://github.com/Microsoft/TypeScript/blob/master/doc/spec.md#94-constant-enum-declarations\" rel=\"nofollow noreferrer\">constant enum spec</a></p>\n"}], "owner": {"reputation": 285, "user_id": 8450776, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fa81546723f6ec1e006c9e2529f71f33?s=128&d=identicon&r=PG&f=1", "display_name": "Amal", "link": "https://stackoverflow.com/users/8450776/amal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 338, "favorite_count": 0, "accepted_answer_id": 53197808, "answer_count": 2, "score": 0, "last_activity_date": 1578308037, "creation_date": 1541621204, "last_edit_date": 1541624367, "question_id": 53197034, "link": "https://stackoverflow.com/questions/53197034/error-on-converting-enum-from-typescript-to-javascript", "title": "Error on converting enum from Typescript to JavaScript", "body": "<p>I have an enum in Typescript let's say </p>\n\n<pre><code>export const enum CarType {\n    SED = \"Sedan\"\n}\n</code></pre>\n\n<p>The JavaScript code after build : </p>\n\n<pre><code>\"use strict\";\nObject.defineProperty(exports,\"_esModule, { value: true })\n</code></pre>\n\n<p>: </p>\n\n<p>So basically the js code doesn't  have the logic, instead only the .d.ts file has the same.\nWhen I build it using <code>tsc</code> command and export the JavaScript code to a react app, while accessing this enum like: <code>CarType.SED</code>, it is giving an error like - <code>Cannot read property SED of undefined</code></p>\n\n<p>What could be the reason for the same. I understood that the typescript has a declaration file(of extension .ts). How can I use this in a purely JS project? </p>\n"}, {"tags": ["typescript", "extension-methods"], "comments": [{"owner": {"reputation": 10144, "user_id": 401450, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/41o2I.jpg?s=128&g=1", "display_name": "SET", "link": "https://stackoverflow.com/users/401450/set"}, "edited": false, "score": 0, "creation_date": 1541622945, "post_id": 53196890, "comment_id": 93283297, "body": "don`t think it is possible or useful somehow. Interface should not be changed during runtime. Otherwise it would make impossible type checking during compilation."}, {"owner": {"reputation": 10144, "user_id": 401450, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/41o2I.jpg?s=128&g=1", "display_name": "SET", "link": "https://stackoverflow.com/users/401450/set"}, "edited": false, "score": 0, "creation_date": 1541623135, "post_id": 53196890, "comment_id": 93283389, "body": "what you can do is to create another type that would be a combination of few interfaces: <code>type Blah = Foo &amp; Bar</code>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1541625225, "post_id": 53196890, "comment_id": 93284391, "body": "You are looking for module augmentation and interfaces merging <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-merging.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/declaration-merging.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 187, "user_id": 4010136, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0dc44c14a6b2c5e651cf414ebfd58f8d?s=128&d=identicon&r=PG&f=1", "display_name": "M B", "link": "https://stackoverflow.com/users/4010136/m-b"}, "edited": false, "score": 0, "creation_date": 1541623628, "post_id": 53197512, "comment_id": 93283612, "body": "So <code>Promise</code> is definitely an object, but the problem is that the TypeScript definition for it is as an <code>interface</code>. My question is, how/why does that work but not my <code>Cart</code> example? What do I need to do to achieve the same behavior for <code>Cart</code>, as I can with <code>Promise</code>?"}, {"owner": {"reputation": 470, "user_id": 5046129, "user_type": "registered", "profile_image": "https://graph.facebook.com/1021289891228498/picture?type=large", "display_name": "Charles Assuncao", "link": "https://stackoverflow.com/users/5046129/charles-assuncao"}, "reply_to_user": {"reputation": 187, "user_id": 4010136, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0dc44c14a6b2c5e651cf414ebfd58f8d?s=128&d=identicon&r=PG&f=1", "display_name": "M B", "link": "https://stackoverflow.com/users/4010136/m-b"}, "edited": false, "score": 0, "creation_date": 1541624078, "post_id": 53197512, "comment_id": 93283856, "body": "You can&#39;t like that. TypeScript knows that your Promise is some provided API. You are not extending the interface, you are a global variable declared on promise.d.ts file ( that&#39;s overwritten by the browser api ). When you extend Promise you are extending <code>declare var Promise: PromiseConstructor;</code> that has the prototype declared there: <code>interface PromiseConstructor {     &#47;**      * A reference to the prototype.      *&#47;     readonly prototype: Promise&lt;any&gt;;</code>"}], "tags": [], "owner": {"reputation": 470, "user_id": 5046129, "user_type": "registered", "profile_image": "https://graph.facebook.com/1021289891228498/picture?type=large", "display_name": "Charles Assuncao", "link": "https://stackoverflow.com/users/5046129/charles-assuncao"}, "is_accepted": false, "score": 0, "last_activity_date": 1541623376, "creation_date": 1541623376, "answer_id": 53197512, "question_id": 53196890, "link": "https://stackoverflow.com/questions/53196890/how-can-we-create-extension-methods-for-non-global-interfaces-in-typescript/53197512#53197512", "title": "How can we create extension methods for non-global interfaces in TypeScript?", "body": "<p>In your case, Cart is just a type. There's no object, you can't extend a prototype of a type/interface ref. There's no prototype to extend, you could do it with some object that implements Cart.</p>\n\n<p>In the case of Promise, it's a browser API, if you got to you console on the Browser and type Promise you will see you have a object there. When you extend promise prototype like the example you gave you are not extending the interface but this object provided. </p>\n\n<p>One possible solution if you want to do so is interface composition like:</p>\n\n<pre><code>interface CartSpecial extends Cart {\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 4010136, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0dc44c14a6b2c5e651cf414ebfd58f8d?s=128&d=identicon&r=PG&f=1", "display_name": "M B", "link": "https://stackoverflow.com/users/4010136/m-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 643, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1541623376, "creation_date": 1541620657, "last_edit_date": 1541620992, "question_id": 53196890, "link": "https://stackoverflow.com/questions/53196890/how-can-we-create-extension-methods-for-non-global-interfaces-in-typescript", "title": "How can we create extension methods for non-global interfaces in TypeScript?", "body": "<p>I'm currently learning TypeScript but am thoroughly stumped at how to implement extension methods for non-global interfaces. Consider the following example: say I have an <code>interface</code> defining a <code>Cart</code> like so:</p>\n\n<pre><code>interface Cart {\n    id(): string,\n    name(): string,\n    quantity(): number\n\n    /* Other methods */\n}\n</code></pre>\n\n<p>Then, I'd like to add an extension method similar to the following:</p>\n\n<pre><code>Cart.prototype.isValid = function() {\n    return this.quantity() &gt; 0;\n}\n</code></pre>\n\n<p>This obviously doesn't work since <code>Cart</code> is not a type but I'm confused because <code>Promise</code> is also defined as an <code>interface</code>, yet I can successfully add extension methods to it. For example:</p>\n\n<pre><code>declare global {\n    interface Promise&lt;T&gt; {\n        hello(): string\n    }\n}\n\nPromise.prototype.hello = function() {\n    return \"Hello!\";\n}\n\nexport {};\n</code></pre>\n\n<p>Is it possible to extend non-global interfaces like <code>Cart</code> and if so, how do I do it?</p>\n"}, {"tags": ["angular", "typescript", "angular6"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 8079472, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-YUf2qzn2gdk/AAAAAAAAAAI/AAAAAAAAABc/C4aDJSTl08o/photo.jpg?sz=128", "display_name": "julian corredor", "link": "https://stackoverflow.com/users/8079472/julian-corredor"}, "edited": false, "score": 0, "creation_date": 1541621118, "post_id": 53196914, "comment_id": 93282499, "body": "What can I do if the API can&#39;t handle the title? I mean, I receive a json with all the articles, they have the title, id, and machine name (which is the <code>article-about-angular</code> string) but, when I want to get the article, I can only get it through the id, not through the title"}, {"owner": {"reputation": 863, "user_id": 4638529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/znUZb.png?s=128&g=1", "display_name": "Wrokar", "link": "https://stackoverflow.com/users/4638529/wrokar"}, "reply_to_user": {"reputation": 71, "user_id": 8079472, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-YUf2qzn2gdk/AAAAAAAAAAI/AAAAAAAAABc/C4aDJSTl08o/photo.jpg?sz=128", "display_name": "julian corredor", "link": "https://stackoverflow.com/users/8079472/julian-corredor"}, "edited": false, "score": 0, "creation_date": 1541621615, "post_id": 53196914, "comment_id": 93282743, "body": "If you have a json list of <i>all</i> of the articles, then you could create a function that returns the id number if you give it a title. Then that id could be used to fetch the article."}, {"owner": {"reputation": 71, "user_id": 8079472, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-YUf2qzn2gdk/AAAAAAAAAAI/AAAAAAAAABc/C4aDJSTl08o/photo.jpg?sz=128", "display_name": "julian corredor", "link": "https://stackoverflow.com/users/8079472/julian-corredor"}, "edited": false, "score": 0, "creation_date": 1541622305, "post_id": 53196914, "comment_id": 93283034, "body": "I tried your solution, but I don&#39;t have only one list of articles. Those are grouped by the &quot;network&quot; they belong to, and they are in different NGXS states (I didn&#39;t mentioned this because I didn&#39;t though it was needed, sorry). Though we&#39;re now working on a service that gives me the id and type of the content. I&#39;ll let you know as soon as we get it, thank you :)"}], "tags": [], "owner": {"reputation": 863, "user_id": 4638529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/znUZb.png?s=128&g=1", "display_name": "Wrokar", "link": "https://stackoverflow.com/users/4638529/wrokar"}, "is_accepted": true, "score": 0, "last_activity_date": 1541621719, "last_edit_date": 1541621719, "creation_date": 1541620758, "answer_id": 53196914, "question_id": 53196786, "link": "https://stackoverflow.com/questions/53196786/path-aliases-to-paths-in-angular/53196914#53196914", "title": "Path aliases to paths in angular", "body": "<p>You can have them both map to the same component using <code>article/:id</code> as you are already using. Instead of just being a <em>numeric</em> id, this will now contain either an article title <strong>or</strong> a numeric id. Then when fetching the article, simply handle it differently based on whether the id is a number or a string:</p>\n\n<pre><code>// Check if id is \"not a number\"\nif(isNaN(id)) {\n    // Define a function to convert from titles to id numbers\n    var idNumber = getIdNumberFromTitle(id);\n    getArticleFromTitleName(idNumber);\n} else {\n    getArticleFromIdNumber(id);\n}\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 8079472, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-YUf2qzn2gdk/AAAAAAAAAAI/AAAAAAAAABc/C4aDJSTl08o/photo.jpg?sz=128", "display_name": "julian corredor", "link": "https://stackoverflow.com/users/8079472/julian-corredor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 0, "accepted_answer_id": 53196914, "answer_count": 1, "score": 1, "last_activity_date": 1541621719, "creation_date": 1541620232, "last_edit_date": 1541620663, "question_id": 53196786, "link": "https://stackoverflow.com/questions/53196786/path-aliases-to-paths-in-angular", "title": "Path aliases to paths in angular", "body": "<p>I'm trying to make URL aliases in an angular 6 application. The problem is the following:<br>\nI have a URL in my angular app defined as <code>article/:id</code>, that maps to a component called <code>ArticleViewComponent</code>, but, the thing is I'm trying to make a different url where I can send the title of the article as the path for the article. For example, if I have an article called <code>Article about angular</code> with id <code>1</code>, I want the URL to be <code>/article/article-about-angular</code>and still map it to the article with id <code>1</code> (because the id is what the API handles, not the title). Thanks in advance for your help, I know this seems impossible.</p>\n"}, {"tags": ["angular", "typescript", "nativescript", "nativescript-codesharing", "nativescript-schematics"], "comments": [{"owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "edited": false, "score": 0, "creation_date": 1541620972, "post_id": 53196685, "comment_id": 93282432, "body": "I have seen his happening when I don&#39;t inject <code>moduleId</code> in component decorator - (<code>moduleId: module.id</code>)"}, {"owner": {"reputation": 3791, "user_id": 9547658, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jonas", "link": "https://stackoverflow.com/users/9547658/jonas"}, "edited": false, "score": 0, "creation_date": 1541625086, "post_id": 53196685, "comment_id": 93284331, "body": "I have the same problem. If I find something I&#39;ll let you know"}, {"owner": {"reputation": 2225, "user_id": 4518455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/b6fe608c819603e0e8de37e875eac158?s=128&d=identicon&r=PG&f=1", "display_name": "L1ghtk3ira", "link": "https://stackoverflow.com/users/4518455/l1ghtk3ira"}, "edited": false, "score": 0, "creation_date": 1541626647, "post_id": 53196685, "comment_id": 93285045, "body": "Thanks, as will I. This should work out of the box for Android and iOS so seems strange"}, {"owner": {"reputation": 2225, "user_id": 4518455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/b6fe608c819603e0e8de37e875eac158?s=128&d=identicon&r=PG&f=1", "display_name": "L1ghtk3ira", "link": "https://stackoverflow.com/users/4518455/l1ghtk3ira"}, "edited": false, "score": 0, "creation_date": 1541890394, "post_id": 53196685, "comment_id": 93373795, "body": "Has anyone found a solution for this? I am not sure if this is an issue and the nativescript team is aware or not."}, {"owner": {"reputation": 2225, "user_id": 4518455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/b6fe608c819603e0e8de37e875eac158?s=128&d=identicon&r=PG&f=1", "display_name": "L1ghtk3ira", "link": "https://stackoverflow.com/users/4518455/l1ghtk3ira"}, "edited": false, "score": 0, "creation_date": 1541992800, "post_id": 53196685, "comment_id": 93395663, "body": "Not sure if anyone else has had success yet. I am starting to think the nativescript team put it up without testing it. Followed it about 10 times now and still cannot find build"}, {"owner": {"reputation": 2225, "user_id": 4518455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/b6fe608c819603e0e8de37e875eac158?s=128&d=identicon&r=PG&f=1", "display_name": "L1ghtk3ira", "link": "https://stackoverflow.com/users/4518455/l1ghtk3ira"}, "edited": false, "score": 1, "creation_date": 1541992949, "post_id": 53196685, "comment_id": 93395690, "body": "New update it seems to be working now with tns run android --bundle. It failed at first and about 3 minutes later it closed and re-opened working. Not sure if the file was not converted to as a starting point so it starts with a crash and ends up rebuilding when its done."}], "answers": [{"comments": [{"owner": {"reputation": 1160, "user_id": 1200059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5f68648d6decfcd392940172525b5f9f?s=128&d=identicon&r=PG", "display_name": "Pedro Teran", "link": "https://stackoverflow.com/users/1200059/pedro-teran"}, "edited": false, "score": 0, "creation_date": 1542213850, "post_id": 53255617, "comment_id": 93490844, "body": "I have issues System.err: android.content.res.Resources$NotFoundException: Resource ID #0xfffffff6  after using your package json"}, {"owner": {"reputation": 2225, "user_id": 4518455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/b6fe608c819603e0e8de37e875eac158?s=128&d=identicon&r=PG&f=1", "display_name": "L1ghtk3ira", "link": "https://stackoverflow.com/users/4518455/l1ghtk3ira"}, "reply_to_user": {"reputation": 1160, "user_id": 1200059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5f68648d6decfcd392940172525b5f9f?s=128&d=identicon&r=PG", "display_name": "Pedro Teran", "link": "https://stackoverflow.com/users/1200059/pedro-teran"}, "edited": false, "score": 0, "creation_date": 1542219040, "post_id": 53255617, "comment_id": 93493392, "body": "Have you made other changes before that? If you follow this guide for a code sharing project: <a href=\"https://docs.nativescript.org/angular/code-sharing/creating-a-new-project\" rel=\"nofollow noreferrer\">docs.nativescript.org/angular/code-sharing/&hellip;</a> and then use my package.json before you use npm install it should be fine."}, {"owner": {"reputation": 2225, "user_id": 4518455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/b6fe608c819603e0e8de37e875eac158?s=128&d=identicon&r=PG&f=1", "display_name": "L1ghtk3ira", "link": "https://stackoverflow.com/users/4518455/l1ghtk3ira"}, "reply_to_user": {"reputation": 1160, "user_id": 1200059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5f68648d6decfcd392940172525b5f9f?s=128&d=identicon&r=PG", "display_name": "Pedro Teran", "link": "https://stackoverflow.com/users/1200059/pedro-teran"}, "edited": false, "score": 0, "creation_date": 1542219300, "post_id": 53255617, "comment_id": 93493536, "body": "I added some steps for you to follow. Ensure you have xcode or android installed with SDKs. Or have your ios or Android device connected."}], "tags": [], "owner": {"reputation": 2225, "user_id": 4518455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/b6fe608c819603e0e8de37e875eac158?s=128&d=identicon&r=PG&f=1", "display_name": "L1ghtk3ira", "link": "https://stackoverflow.com/users/4518455/l1ghtk3ira"}, "is_accepted": true, "score": 0, "last_activity_date": 1542219227, "last_edit_date": 1542219227, "creation_date": 1541993547, "answer_id": 53255617, "question_id": 53196685, "link": "https://stackoverflow.com/questions/53196685/nativescript-angular-code-sharing-project/53255617#53255617", "title": "NativeScript + Angular: Code Sharing Project", "body": "<p>It seems it may be difficult for the nativescript team as the packages it relies on keep changing rapidly. This is the package.json setup I used thanks @NickIliev from the nativescript team, @skopekreep, and good old debugging. If you use this setup you should be fine. </p>\n\n<p>Just be wary updating the packages in the future and test before committing your package.json. </p>\n\n<p>As well as the main packages I would suggest you be careful updating and ensure you test:</p>\n\n<p><code>typescript</code>\n  <code>@types/jasmine</code>\n  <code>nativescript-dev-webpack</code>\n  <code>tns-core-modules</code></p>\n\n<pre><code>{\n  \"name\": \"myproject\",\n  \"nativescript\": {\n  \"id\": \"org.nativescript.myproject\",\n    \"tns-android\": {\n    \"version\": \"5.0.0\"\n   }\n},\n\"version\": \"0.0.0\",\n\"scripts\": {\n  \"ng\": \"ng\",\n  \"start\": \"ng serve\",\n  \"build\": \"ng build\",\n  \"test\": \"ng test\",\n  \"lint\": \"ng lint\",\n  \"e2e\": \"ng e2e\",\n  \"android\": \"tns run android --bundle\",\n  \"ios\": \"tns run ios --bundle\"\n},\n\"private\": true,\n\"dependencies\": {\n  \"@angular/animations\": \"~6.1.0\",\n  \"@angular/common\": \"~6.1.0\",\n  \"@angular/compiler\": \"~6.1.0\",\n  \"@angular/core\": \"~6.1.0\",\n  \"@angular/forms\": \"~6.1.0\",\n  \"@angular/http\": \"~6.1.0\",\n  \"@angular/platform-browser\": \"~6.1.0\",\n  \"@angular/platform-browser-dynamic\": \"~6.1.0\",\n  \"@angular/router\": \"~6.1.0\",\n  \"core-js\": \"^2.5.4\",\n  \"nativescript-angular\": \"~6.1.0\",\n  \"nativescript-theme-core\": \"~1.0.4\",\n  \"reflect-metadata\": \"~0.1.8\",\n  \"rxjs\": \"^6.0.0\",\n  \"tns-core-modules\": \"~5.0.2\",\n  \"zone.js\": \"^0.8.26\"\n},\n\"devDependencies\": {\n  \"@angular-devkit/build-angular\": \"^0.8.0\",\n  \"@angular/cli\": \"^6.2.0\",\n  \"@angular/compiler-cli\": \"^7.0.3\",\n  \"@nativescript/schematics\": \"~0.4.0\",\n  \"@types/jasmine\": \"2.8.6\",\n  \"@types/jasminewd2\": \"~2.0.3\",\n  \"@types/node\": \"~8.9.4\",\n  \"codelyzer\": \"~4.2.1\",\n  \"jasmine-core\": \"~2.99.1\",\n  \"jasmine-spec-reporter\": \"~4.2.1\",\n  \"karma\": \"~1.7.1\",\n  \"karma-chrome-launcher\": \"~2.2.0\",\n  \"karma-coverage-istanbul-reporter\": \"~2.0.0\",\n  \"karma-jasmine\": \"~1.1.1\",\n  \"karma-jasmine-html-reporter\": \"^0.2.2\",\n  \"nativescript-dev-sass\": \"~1.6.0\",\n  \"nativescript-dev-typescript\": \"~0.7.0\",\n  \"nativescript-dev-webpack\": \"^0.17.0\",\n  \"protractor\": \"~5.3.0\",\n  \"ts-node\": \"~5.0.1\",\n  \"tslint\": \"~5.9.1\",\n  \"typescript\": \"^3.1.6\"\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>Steps:</strong>\n1. Install latest version of Node JS</p>\n\n<ol start=\"2\">\n<li><p>Install latest version of NPM</p></li>\n<li><p>npm i -g @angular/cli</p></li>\n<li><p>npm i -g @nativescript/schematics</p></li>\n<li><p>Go into the folder and Replace the package.json, ensure to change name and id to your projects name</p></li>\n<li><p>npm install</p></li>\n<li><p>tns run android --bundle</p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 2225, "user_id": 4518455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/b6fe608c819603e0e8de37e875eac158?s=128&d=identicon&r=PG&f=1", "display_name": "L1ghtk3ira", "link": "https://stackoverflow.com/users/4518455/l1ghtk3ira"}, "edited": false, "score": 0, "creation_date": 1542031918, "post_id": 53258466, "comment_id": 93411960, "body": "Hello Seba Wita, I do run the command tns run android --bundle. Maybe something is wrong on my pc. I will try again from a new pc from scratch and let you know."}, {"owner": {"reputation": 2225, "user_id": 4518455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/b6fe608c819603e0e8de37e875eac158?s=128&d=identicon&r=PG&f=1", "display_name": "L1ghtk3ira", "link": "https://stackoverflow.com/users/4518455/l1ghtk3ira"}, "edited": false, "score": 0, "creation_date": 1542032029, "post_id": 53258466, "comment_id": 93412032, "body": "Also I did try before using the Nativescript Sidekick origionally. Not sure if that would cause an issue."}, {"owner": {"reputation": 1, "user_id": 10639523, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Frxyv8SW-Uw/AAAAAAAAAAI/AAAAAAAADYI/QOidvbN8klE/photo.jpg?sz=128", "display_name": "Seba Wita", "link": "https://stackoverflow.com/users/10639523/seba-wita"}, "reply_to_user": {"reputation": 2225, "user_id": 4518455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/b6fe608c819603e0e8de37e875eac158?s=128&d=identicon&r=PG&f=1", "display_name": "L1ghtk3ira", "link": "https://stackoverflow.com/users/4518455/l1ghtk3ira"}, "edited": false, "score": 0, "creation_date": 1542033890, "post_id": 53258466, "comment_id": 93413150, "body": "We are going to release a new version of the @nativescript/schematics tomorrow, which should include an update for angular 7. It should also resolve an issue with the TypeScript version."}, {"owner": {"reputation": 2225, "user_id": 4518455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/b6fe608c819603e0e8de37e875eac158?s=128&d=identicon&r=PG&f=1", "display_name": "L1ghtk3ira", "link": "https://stackoverflow.com/users/4518455/l1ghtk3ira"}, "edited": false, "score": 0, "creation_date": 1542036216, "post_id": 53258466, "comment_id": 93414483, "body": "You believe is may be why the build is crashing? I did create a github ticket here if it helps: <a href=\"https://github.com/NativeScript/NativeScript/issues/6552\" rel=\"nofollow noreferrer\">github.com/NativeScript/NativeScript/issues/6552</a>. Thanks for the sturdy replies"}], "tags": [], "owner": {"reputation": 1, "user_id": 10639523, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Frxyv8SW-Uw/AAAAAAAAAAI/AAAAAAAADYI/QOidvbN8klE/photo.jpg?sz=128", "display_name": "Seba Wita", "link": "https://stackoverflow.com/users/10639523/seba-wita"}, "is_accepted": false, "score": 0, "last_activity_date": 1542026353, "last_edit_date": 1542026353, "creation_date": 1542012142, "answer_id": 53258466, "question_id": 53196685, "link": "https://stackoverflow.com/questions/53196685/nativescript-angular-code-sharing-project/53258466#53258466", "title": "NativeScript + Angular: Code Sharing Project", "body": "<p>When you build code-sharing projects you should use the <code>--bundle</code> flag.\nSo your command should be:</p>\n\n<p><code>tns run android --bundle</code> or <code>tns run ios --bundle</code></p>\n\n<p>If you keep forgetting the <code>--bundle</code> flag, then you could use the scripts provided in <em>package.json</em> and run:\n<code>npm run android</code> or <code>npm run ios</code></p>\n\n<p>Additionally, if your project uses TypeScript 2.7, then you might need to update it to 2.8 </p>\n\n<p>As a side note: you don't need <code>moduleId</code> in code-sharing projects, as webpack is taking care of this for you.</p>\n"}], "owner": {"reputation": 2225, "user_id": 4518455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/b6fe608c819603e0e8de37e875eac158?s=128&d=identicon&r=PG&f=1", "display_name": "L1ghtk3ira", "link": "https://stackoverflow.com/users/4518455/l1ghtk3ira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2064, "favorite_count": 2, "accepted_answer_id": 53255617, "answer_count": 2, "score": 2, "last_activity_date": 1542219227, "creation_date": 1541619850, "last_edit_date": 1541997153, "question_id": 53196685, "link": "https://stackoverflow.com/questions/53196685/nativescript-angular-code-sharing-project", "title": "NativeScript + Angular: Code Sharing Project", "body": "<p>I followed the Nativescript steps for creating a new code sharing project <a href=\"https://docs.nativescript.org/code-sharing/creating-a-new-project\" rel=\"nofollow noreferrer\">here</a> and I would like to use sass. I tried both for ones that have the NatievScript theme as well as the one that does not:</p>\n\n<pre><code>ng new -c=@nativescript/schematics no-theme-project --shared --no-theme\n</code></pre>\n\n<p>or</p>\n\n<pre><code>ng new -c=@nativescript/schematics sass-no-theme-project --shared --style=scss --no-theme\n</code></pre>\n\n<p>For this Post I chose <strong><em>No Theme</em></strong>. When it finishes creating a new project the folder is as shown:</p>\n\n<p><a href=\"https://i.stack.imgur.com/oQRYk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oQRYk.png\" alt=\"enter image description here\"></a></p>\n\n<p>Inside <code>Desktop/TestProjects/sass-no-theme-project</code> I install the node modules:</p>\n\n<pre><code>npm install\n</code></pre>\n\n<p>When running <code>ng serve --o</code> the application builds and loads up as expected in the browser. For NativeScript mobile however for Android (have not tested iOS yet) the application crashes with an error. I have tried both <code>tns run android</code> as well as using the NativeScript SideKick to build however they end up with the same results. I have also tried local and cloud builds.</p>\n\n<h2>Device Used:</h2>\n\n<p>Physical Samsung A5: Not emulator </p>\n\n<h2>Error On Mobile Device In Logs:</h2>\n\n<pre><code>An uncaught Exception occurred on \"main\" thread.\njava.lang.RuntimeException: Unable to create application com.tns.NativeScriptApplication: com.tns.NativeScriptException: Application entry point file not found. Please specify the file in package.json otherwise make sure the file index.js or bootstrap.js exists.\\nIf using typescript make sure your entry point file is transpiled to javascript.\n    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6065)\n    at android.app.ActivityThread.-wrap1(Unknown Source:0)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1764)\n    at android.os.Handler.dispatchMessage(Handler.java:105)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6944)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\nCaused by: com.tns.NativeScriptException: Application entry point file not found. Please specify the file in package.json otherwise make sure the file index.js or bootstrap.js exists.\\nIf using typescript make sure your entry point file is transpiled to javascript.\n    at com.tns.Module.bootstrapApp(Module.java:311)\n    at com.tns.Runtime.run(Runtime.java:544)\n    at com.tns.NativeScriptApplication.onCreate(NativeScriptApplication.java:21)\n    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1125)\n    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6062)\n    ... 8 more\nCaused by: com.tns.NativeScriptException: Failed to find module: \"./\", relative to: app//\n    at com.tns.Module.resolvePathHelper(Module.java:146)\n    at com.tns.Module.bootstrapApp(Module.java:309)\n    ... 12 more\n</code></pre>\n\n<h2>Logs In Command Line and NativeScript Client</h2>\n\n<pre><code>[18-11-10 17:43:53.724] (CLI) [./main.ns.ts] 1.22 KiB {bundle} [built]\n[18-11-10 17:43:53.724] (CLI) [./package.json] 123 bytes {bundle} [optional] [built]\n[18-11-10 17:43:53.724] (CLI)     + 403 hidden modules\n[18-11-10 17:43:53.724] (CLI) ERROR in Patterns must be a string or an array of strings\n[18-11-10 17:43:53.724] (CLI)  Webpack compilation complete.\n[18-11-10 17:43:53.724] (CLI)  Executing webpack failed with exit code 2.\n[18-11-10 17:43:53.724] (CLI)  # tns build android\n[18-11-10 17:43:53.724] (CLI) ### Description\n[18-11-10 17:43:53.724] (CLI) clean-webpack-plugin: /mnt/storage/builds/_/1bfec9e7b462a1843535f909d892c70d2010e1cf/5.0.0/5.0.0/no-sass-project/platforms/android/app/src/main/assets/app/**/* has been removed.\n[18-11-10 17:43:53.724] (CLI) Executing webpack failed with exit code 2.\n[18-11-10 17:43:53.724] (CLI) bc_GgX4lpDXQFHYT4ydmJ\n[18-11-10 17:43:56.917] (CLI) Unable to apply changes on device: 5210ffc964ca44f3. Error is: Build failed..\n[18-11-10 17:43:56.920] Error detected during LiveSync on 5210ffc964ca44f3 for C:\\Users\\userName\\Desktop\\no-sass-project. Error: Build failed.\n[18-11-10 17:43:56.925] (CLI) Executing after-watch hook from C:\\Users\\userName\\Desktop\\no-sass-project\\hooks\\after-watch\\nativescript-dev-sass.js\n[18-11-10 17:43:56.925] (CLI) Executing after-watch hook from C:\\Users\\userName\\Desktop\\no-sass-project\\hooks\\after-watch\\nativescript-dev-typescript.js\n[18-11-10 17:43:56.925] (CLI) Executing after-watch hook from C:\\Users\\userName\\Desktop\\no-sass-project\\hooks\\after-watch\\nativescript-dev-webpack.js\n[18-11-10 17:43:56.925] (CLI) Stopping webpack watch\n</code></pre>\n\n<p>With Nativescript and Angular creating a blank new project for me I would assume it is suppose to be a HelloWorld project that works in Web, iOS, and Android right out of the gate.</p>\n\n<h2>UPDATE</h2>\n\n<p>I tried following the troubleshoot guide <a href=\"https://docs.nativescript.org/troubleshooting\" rel=\"nofollow noreferrer\">here</a> such as reinstalling <code>JDK 8</code> and that however the problem persists. I got it to run once, it failed and after about 4-10 minutes it rebuilt and was working. Since then I can not get it to work a second time. This leads to me believe there maybe a configuration issues somewhere such as the <code>tsconfig</code> <code>json</code> files. Taken a look in them and they seem to be fine.</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "rxjs6"], "comments": [{"owner": {"reputation": 1082, "user_id": 1338585, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/sqfbx.gif?s=128&g=1", "display_name": "SK.", "link": "https://stackoverflow.com/users/1338585/sk"}, "reply_to_user": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1541619272, "post_id": 53196493, "comment_id": 93281587, "body": "@user184994 - Sir/Madam, yes, there are so many questions like this. But I didn&#39;t find an example/question where more then one .map() are used"}, {"owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1541619393, "post_id": 53196493, "comment_id": 93281647, "body": "You just need to comma separate the map functions: <code>pipe(map(), map())</code> etc"}], "answers": [{"comments": [{"owner": {"reputation": 1082, "user_id": 1338585, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/sqfbx.gif?s=128&g=1", "display_name": "SK.", "link": "https://stackoverflow.com/users/1338585/sk"}, "edited": false, "score": 0, "creation_date": 1541619990, "post_id": 53196578, "comment_id": 93281921, "body": "Thanks Dmitry. I will try this code. But I am not sure why some genius guy downvoted without leaving a comment why he/she did so..."}, {"owner": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "reply_to_user": {"reputation": 1082, "user_id": 1338585, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/sqfbx.gif?s=128&g=1", "display_name": "SK.", "link": "https://stackoverflow.com/users/1338585/sk"}, "edited": false, "score": 0, "creation_date": 1541620483, "post_id": 53196578, "comment_id": 93282191, "body": "I&#39;ve updated an answer."}, {"owner": {"reputation": 1082, "user_id": 1338585, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/sqfbx.gif?s=128&g=1", "display_name": "SK.", "link": "https://stackoverflow.com/users/1338585/sk"}, "edited": false, "score": 0, "creation_date": 1541620630, "post_id": 53196578, "comment_id": 93282265, "body": "I am accepting the answer as I used your code and not getting that error. But I have some other errors which are because of upgrading Angular to 6. It seems like Angular is so fragile now, in every 2-3 months there are so many changes and the old are not backward compatible... so annoying..."}, {"owner": {"reputation": 1082, "user_id": 1338585, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/sqfbx.gif?s=128&g=1", "display_name": "SK.", "link": "https://stackoverflow.com/users/1338585/sk"}, "edited": false, "score": 0, "creation_date": 1541620778, "post_id": 53196578, "comment_id": 93282334, "body": "Now I am getting the below error: ERROR in ./node_modules/angular2-jwt/angular2-jwt.js  Module not found: Error: Can&#39;t resolve &#39;rxjs/Observable&#39; in &#39;C:\\AFS\\AFS-WEB\\node_modules\\angular2-jwt&#39;    ERROR in node_modules/angular2-jwt/angular2-jwt.d.ts(3,10): error TS2305: Module &#39;&quot;C:/AFS/AFS-WEB/node_modules/rxjs/Observable&quot;&#39; has no exported member &#39;Observable&#39;."}, {"owner": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "reply_to_user": {"reputation": 1082, "user_id": 1338585, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/sqfbx.gif?s=128&g=1", "display_name": "SK.", "link": "https://stackoverflow.com/users/1338585/sk"}, "edited": false, "score": 0, "creation_date": 1541620866, "post_id": 53196578, "comment_id": 93282386, "body": "1) npm i angular2-jwt 2) import { Observable } from &#39;rxjs&#39;;"}, {"owner": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "reply_to_user": {"reputation": 1082, "user_id": 1338585, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/sqfbx.gif?s=128&g=1", "display_name": "SK.", "link": "https://stackoverflow.com/users/1338585/sk"}, "edited": false, "score": 0, "creation_date": 1541620979, "post_id": 53196578, "comment_id": 93282435, "body": "Create new question if it is not help"}, {"owner": {"reputation": 1082, "user_id": 1338585, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/sqfbx.gif?s=128&g=1", "display_name": "SK.", "link": "https://stackoverflow.com/users/1338585/sk"}, "edited": false, "score": 0, "creation_date": 1541621071, "post_id": 53196578, "comment_id": 93282476, "body": "Sure, creating a new question after I do some research."}, {"owner": {"reputation": 1082, "user_id": 1338585, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/sqfbx.gif?s=128&g=1", "display_name": "SK.", "link": "https://stackoverflow.com/users/1338585/sk"}, "edited": false, "score": 0, "creation_date": 1541621364, "post_id": 53196578, "comment_id": 93282618, "body": "installed rxjs-compat. now no error. Lets see by running the application."}], "tags": [], "owner": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "is_accepted": true, "score": 0, "last_activity_date": 1541620437, "last_edit_date": 1541620437, "creation_date": 1541619413, "answer_id": 53196578, "question_id": 53196493, "link": "https://stackoverflow.com/questions/53196493/angular-6-rxjs-property-map-does-not-exist-on-type-observable/53196578#53196578", "title": "Angular 6 - rxjs property &#39;map&#39; does not exist on type &#39;observable&#39;", "body": "<p>to use pipe with multiple operators you should use comma:</p>\n\n<pre><code>return this.http.post(AuthenticationService.AUTH_TOKEN, body, {headers})\n.pipe(\n  map(res =&gt; res.json()),\n  map((res: any) =&gt; {\n    if (res.access_token) {\n      return res.access_token;\n    }\n    return null;\n  })\n);\n</code></pre>\n\n<p>but it's not needed to use <code>map(res =&gt; res.json())</code> in your case.</p>\n\n<p>and</p>\n\n<p>In previous versions the import was <code>import 'rxjs/add/operators/map'</code>.</p>\n\n<p>In Angular 6 it should be: <code>import { map } from 'rxjs/operators';</code></p>\n\n<p>By the way if you're expected <strong>the cancelling effect</strong> you should use <strong>switchMap</strong> instead of map. <a href=\"https://www.learnrxjs.io/operators/transformation/switchmap.html\" rel=\"nofollow noreferrer\">Read more</a></p>\n"}], "owner": {"reputation": 1082, "user_id": 1338585, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/sqfbx.gif?s=128&g=1", "display_name": "SK.", "link": "https://stackoverflow.com/users/1338585/sk"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3460, "favorite_count": 0, "closed_date": 1541619425, "accepted_answer_id": 53196578, "answer_count": 1, "score": 1, "last_activity_date": 1541620437, "creation_date": 1541619026, "last_edit_date": 1541619909, "question_id": 53196493, "link": "https://stackoverflow.com/questions/53196493/angular-6-rxjs-property-map-does-not-exist-on-type-observable", "closed_reason": "Duplicate", "title": "Angular 6 - rxjs property &#39;map&#39; does not exist on type &#39;observable&#39;", "body": "<p>Getting this error when I upgraded to Angular 6. I see the documentation to use .pipe(), but I am not getting how to use pipe when there is multiple .map() as below. Need your help...</p>\n\n<pre><code>   import {Injectable} from '@angular/core';\n    import {Http, Headers} from '@angular/http';\n    import 'rxjs/add/operator/map';\n    import {TOKEN_AUTH_PASSWORD, TOKEN_AUTH_USERNAME} from '../services/auth.constant';\n\n    @Injectable()\n\n    export class AuthenticationService {\n\n      static AUTH_TOKEN = '/oauth/token';\n      constructor(private http: Http) {\n      }\n      login(username: string, password: string) {\n\n        const body = `username=${encodeURIComponent(username)}&amp;password=${encodeURIComponent(password)}&amp;grant_type=password`;\n\n        const headers = new Headers();\n        headers.append('Content-Type', 'application/x-www-form-urlencoded');\n        headers.append('Authorization', 'Basic ' + btoa(TOKEN_AUTH_USERNAME + ':' + TOKEN_AUTH_PASSWORD));\n        return this.http.post(AuthenticationService.AUTH_TOKEN, body, {headers})\n          //.map(res =&gt; res.json())\n          .pipe(map((res: any) =&gt; {\n            if (res.access_token) {\n              return res.access_token;\n            }\n            return null;\n          }));\n      }\n    }\n</code></pre>\n\n<p>I understand to use .pipe when there is one .map is used like below, but I am not getting how to use pipe() when multiple .map are used.</p>\n\n<pre><code>.pipe(map(data =&gt; {})).subscribe(result =&gt; {\n      console.log(result);\n    });\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript", "express", "nestjs"], "comments": [{"owner": {"reputation": 15210, "user_id": 1364771, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/wI3aU.jpg?s=128&g=1", "display_name": "Jesse Carter", "link": "https://stackoverflow.com/users/1364771/jesse-carter"}, "edited": false, "score": 0, "creation_date": 1542655328, "post_id": 53195616, "comment_id": 93638295, "body": "Is it possible that somewhere in your application you have an async function that isn&#39;t being awaited? The stack trace indicates that your code is falling into the global error handler which returns a default error message but in this case your application has already returned a response to the client so the error handler itself is failing. I had this exact same issue in my app and the underlying was a promise that wasn&#39;t being awaited"}, {"owner": {"reputation": 972, "user_id": 338456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MDI7W.jpg?s=128&g=1", "display_name": "Ricardo Saracino", "link": "https://stackoverflow.com/users/338456/ricardo-saracino"}, "reply_to_user": {"reputation": 15210, "user_id": 1364771, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/wI3aU.jpg?s=128&g=1", "display_name": "Jesse Carter", "link": "https://stackoverflow.com/users/1364771/jesse-carter"}, "edited": false, "score": 0, "creation_date": 1542750732, "post_id": 53195616, "comment_id": 93679519, "body": "i was thinking its the Nest Framework im using or a library.. i have no idea how to track it down though"}, {"owner": {"reputation": 15210, "user_id": 1364771, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/wI3aU.jpg?s=128&g=1", "display_name": "Jesse Carter", "link": "https://stackoverflow.com/users/1364771/jesse-carter"}, "edited": false, "score": 0, "creation_date": 1542809168, "post_id": 53195616, "comment_id": 93702154, "body": "Are you able to upload a small repo that reproduces this issue?"}], "owner": {"reputation": 972, "user_id": 338456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MDI7W.jpg?s=128&g=1", "display_name": "Ricardo Saracino", "link": "https://stackoverflow.com/users/338456/ricardo-saracino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 477, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1541797852, "creation_date": 1541615328, "last_edit_date": 1541797852, "question_id": 53195616, "link": "https://stackoverflow.com/questions/53195616/nestjs-and-express-causing-intermittent-unhandledpromiserejectionwarning", "title": "NestJS and Express causing intermittent UnhandledPromiseRejectionWarning", "body": "<p>I cannot for the life of me cannot figure this out. It happens once every so often doesn't cause any issues with the application itself but i have no idea what is causing this. Im making simultaneous calls to the api from the browser if that has anything to do with it. </p>\n\n<pre><code>[Nest] 16608   - 11/7/2018, 1:23:08 PM   [NestApplication] Nest application successfully started\n[Nest] 16608   - 11/7/2018, 1:23:23 PM   [LoggerMiddleware] Request /api/observation-statement/pending-count +14943ms\n[Nest] 16608   - 11/7/2018, 1:23:23 PM   [LoggerMiddleware] Request /api/observation-statement/revision-count +16ms\n\n\n(node:14968) UnhandledPromiseRejectionWarning: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\nat ServerResponse.setHeader (_http_outgoing.js:469:11)\nat ServerResponse.header (C:\\Users\\Ricardo Saracino\\IdeaProjects\\sor-api\\node_modules\\express\\lib\\response.js:767:10)\nat ServerResponse.send (C:\\Users\\Ricardo Saracino\\IdeaProjects\\sor-api\\node_modules\\express\\lib\\response.js:170:12)\nat ServerResponse.json (C:\\Users\\Ricardo Saracino\\IdeaProjects\\sor-api\\node_modules\\express\\lib\\response.js:267:15)\nat ExpressAdapter.reply (C:\\Users\\Ricardo Saracino\\IdeaProjects\\sor-api\\node_modules\\@nestjs\\core\\adapters\\express-adapter.js:44:52)\nat ExceptionsHandler.catch (C:\\Users\\Ricardo Saracino\\IdeaProjects\\sor-api\\node_modules\\@nestjs\\core\\exceptions\\base-exception-filter.js:16:33)\nat ExceptionsHandler.next (C:\\Users\\Ricardo Saracino\\IdeaProjects\\sor-api\\node_modules\\@nestjs\\core\\exceptions\\exceptions-handler.js:15:20)\nat C:\\Users\\Ricardo Saracino\\IdeaProjects\\sor-api\\node_modules\\@nestjs\\core\\router\\router-proxy.js:23:35\nat Layer.handle_error (C:\\Users\\Ricardo Saracino\\IdeaProjects\\sor-api\\node_modules\\express\\lib\\router\\layer.js:71:5)\nat trim_prefix (C:\\Users\\Ricardo Saracino\\IdeaProjects\\sor-api\\node_modules\\express\\lib\\router\\index.js:315:13)\n(node:14968) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)\n(node:14968) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n</code></pre>\n\n<p>I've reduced the calls to a pretty simple function, and make sure the call is returning a unique value (i thought it might be a 304 issue)</p>\n\n<pre><code>@Get('revision-count')\nasync countRevisions(@User() user, @Param() params) {\n\n    user.count ++;\n\n    return {\n        status: 'success',\n        data: {\n            rand: user.count,\n        }\n    };\n}\n</code></pre>\n\n<blockquote>\n  <p>this was happening prior to the middleware</p>\n</blockquote>\n"}, {"tags": ["html", "angular", "typescript", "angular6", "offset"], "answers": [{"comments": [{"owner": {"reputation": 567, "user_id": 7679136, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-R1vVv35MaFc/AAAAAAAAAAI/AAAAAAAAACY/-2WDlsZ_H-M/photo.jpg?sz=128", "display_name": "Sox -", "link": "https://stackoverflow.com/users/7679136/sox"}, "edited": false, "score": 0, "creation_date": 1541615812, "post_id": 53195632, "comment_id": 93280006, "body": "Thanks for answering, I tried what you said but there is no change at all."}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 567, "user_id": 7679136, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-R1vVv35MaFc/AAAAAAAAAAI/AAAAAAAAACY/-2WDlsZ_H-M/photo.jpg?sz=128", "display_name": "Sox -", "link": "https://stackoverflow.com/users/7679136/sox"}, "edited": false, "score": 0, "creation_date": 1541615901, "post_id": 53195632, "comment_id": 93280053, "body": "Just check with <code>setTimeout</code>. Updated the answer."}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 567, "user_id": 7679136, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-R1vVv35MaFc/AAAAAAAAAAI/AAAAAAAAACY/-2WDlsZ_H-M/photo.jpg?sz=128", "display_name": "Sox -", "link": "https://stackoverflow.com/users/7679136/sox"}, "edited": false, "score": 0, "creation_date": 1541616203, "post_id": 53195632, "comment_id": 93280171, "body": "you must put the if block inside the subscribe section. updated the answer."}, {"owner": {"reputation": 567, "user_id": 7679136, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-R1vVv35MaFc/AAAAAAAAAAI/AAAAAAAAACY/-2WDlsZ_H-M/photo.jpg?sz=128", "display_name": "Sox -", "link": "https://stackoverflow.com/users/7679136/sox"}, "edited": false, "score": 0, "creation_date": 1541616384, "post_id": 53195632, "comment_id": 93280244, "body": "Unfortunately, it has nothing to do with the problem. I tried and the same thing happened, I can see on the developer console that I retrieve the right information, but it is not displayed. I presume it has something to do with the MatSelectChange I am using"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 567, "user_id": 7679136, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-R1vVv35MaFc/AAAAAAAAAAI/AAAAAAAAACY/-2WDlsZ_H-M/photo.jpg?sz=128", "display_name": "Sox -", "link": "https://stackoverflow.com/users/7679136/sox"}, "edited": false, "score": 0, "creation_date": 1541616524, "post_id": 53195632, "comment_id": 93280305, "body": "First put the content inside response block, second use the ChangeDetection code or setTimeout option. This should solve your issue."}, {"owner": {"reputation": 567, "user_id": 7679136, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-R1vVv35MaFc/AAAAAAAAAAI/AAAAAAAAACY/-2WDlsZ_H-M/photo.jpg?sz=128", "display_name": "Sox -", "link": "https://stackoverflow.com/users/7679136/sox"}, "edited": false, "score": 0, "creation_date": 1541617238, "post_id": 53195632, "comment_id": 93280637, "body": "Actually it does not. Maybe someone else might propose something else."}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 567, "user_id": 7679136, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-R1vVv35MaFc/AAAAAAAAAAI/AAAAAAAAACY/-2WDlsZ_H-M/photo.jpg?sz=128", "display_name": "Sox -", "link": "https://stackoverflow.com/users/7679136/sox"}, "edited": false, "score": 0, "creation_date": 1541617376, "post_id": 53195632, "comment_id": 93280709, "body": "It would be easier to fix if can create the stackblitz demo."}, {"owner": {"reputation": 567, "user_id": 7679136, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-R1vVv35MaFc/AAAAAAAAAAI/AAAAAAAAACY/-2WDlsZ_H-M/photo.jpg?sz=128", "display_name": "Sox -", "link": "https://stackoverflow.com/users/7679136/sox"}, "reply_to_user": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "edited": false, "score": 0, "creation_date": 1541617617, "post_id": 53195632, "comment_id": 93280810, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/183254/discussion-between-sox-and-sunil-singh\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "is_accepted": false, "score": 2, "last_activity_date": 1541616583, "last_edit_date": 1541616583, "creation_date": 1541615443, "answer_id": 53195632, "question_id": 53195397, "link": "https://stackoverflow.com/questions/53195397/offset-selectionchange-angular/53195632#53195632", "title": "Offset selectionChange Angular", "body": "<p>Your issue is related to Angular Change Detection which is not happening once you get your async data. You can notify angular check for change once response had come from server.</p>\n\n<pre><code>constructor(private cd: ChangeDetectorRef) {\n}\n\ncompleteInputAgencyAndVersion(event: MatSelectChange) {\n     this.service.getCodeList(event.value).subscribe(val =&gt; { \n       this.currCodeList = val; \n        if (this.currCodeList) {\n          this.contextScheme.schemeAgencyId = \n            this.currCodeList.agencyId.toString();\n          this.contextScheme.schemeVersionId = \n           this.currCodeList.versionId.toString();\n          this.contextScheme.ctxSchemeValues = \n          this.convertCodeListValuesIntoContextSchemeValues(\n             this.currCodeList.codeListValues);\n          this.dataSource.data = this.contextScheme.ctxSchemeValues;\n          this.cd.detectChanges();\n }\n       } );\n\n}\n</code></pre>\n"}], "owner": {"reputation": 567, "user_id": 7679136, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-R1vVv35MaFc/AAAAAAAAAAI/AAAAAAAAACY/-2WDlsZ_H-M/photo.jpg?sz=128", "display_name": "Sox -", "link": "https://stackoverflow.com/users/7679136/sox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1541616583, "creation_date": 1541614491, "last_edit_date": 1541615901, "question_id": 53195397, "link": "https://stackoverflow.com/questions/53195397/offset-selectionchange-angular", "title": "Offset selectionChange Angular", "body": "<p>I have a form which contains 1 drop-down list and 2 inputs.\nI have a drop down list which contains several objects. When I select one of them, I can retrieve the whole object and I am supposed to filled the two other inputs with the value from the selected object.\nHowever, it seems there is an offset when I do that.</p>\n\n<p>For instance I have an object banana in my list. If i select it nothing will happen.</p>\n\n<p>The 2 other inputs will not be filled at first. Then if I select another object such as apple, the banana values will be retrieved and so on if I select Orange, Apple's values will be retrieved.</p>\n\n<blockquote>\n  <p>In my HTML file I have this :</p>\n</blockquote>\n\n<pre><code>      &lt;mat-form-field&gt;\n          &lt;mat-select placeholder=\"Code List\" \n            (ngModel)]=\"contextScheme.codeListId\" \n            (selectionChange)=\"completeInputAgencyAndVersion($event)\"&gt;\n              &lt;mat-option *ngFor=\"let codeList of codeLists\" \n                   [value]=\"codeList.codeListId\"&gt;\n          {{codeList.codeListName}}\n              &lt;/mat-option&gt;\n         &lt;/mat-select&gt;\n      &lt;/mat-form-field&gt;\n\n  &lt;mat-form-field&gt;\n    &lt;mat-label&gt;Scheme ID&lt;/mat-label&gt;\n    &lt;input matInput required \n         [(ngModel)]=\"contextScheme.schemeId\" [maxlength]=\"45\"/&gt;\n  &lt;/mat-form-field&gt;\n\n  &lt;mat-form-field&gt;\n    &lt;mat-label&gt;Agency ID&lt;/mat-label&gt;\n    &lt;input matInput required \n     [(ngModel)]=\"contextScheme.schemeAgencyId\" [maxlength]=\"45\"/&gt;\n  &lt;/mat-form-field&gt;\n</code></pre>\n\n<blockquote>\n  <p>Basically I only display everything and in the ts file I have the\n  method completeInput :</p>\n</blockquote>\n\n<pre><code>  completeInputAgencyAndVersion(event: MatSelectChange) {\n     this.service.getCodeList(event.value).subscribe(val =&gt; { \n       this.currCodeList = val; } );\n       if (this.currCodeList) {\n          this.contextScheme.schemeAgencyId = \n            this.currCodeList.agencyId.toString();\n          this.contextScheme.schemeVersionId = \n           this.currCodeList.versionId.toString();\n          this.contextScheme.ctxSchemeValues = \n          this.convertCodeListValuesIntoContextSchemeValues(\n             this.currCodeList.codeListValues);\n          this.dataSource.data = this.contextScheme.ctxSchemeValues;\n }\n}\n</code></pre>\n\n<blockquote>\n  <p>My question is why is there this offset and how can I fix it ?</p>\n</blockquote>\n\n<p>Thanks !</p>\n\n<p><strong>EDIT :</strong> Whenever I chose an object from my drop-down list, I can see that the correct request is sent and that I receive the correct piece of information, the issue dwells in Angular and how it load the information.</p>\n"}, {"tags": ["reactjs", "typescript", "unit-testing", "htmlelements", "react-testing-library"], "answers": [{"comments": [{"owner": {"reputation": 8031, "user_id": 8331756, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/qcaCX.jpg?s=128&g=1", "display_name": "J. Hesters", "link": "https://stackoverflow.com/users/8331756/j-hesters"}, "edited": false, "score": 1, "creation_date": 1541618131, "post_id": 53196107, "comment_id": 93281030, "body": "Genius! Thank you very much!"}], "tags": [], "owner": {"reputation": 5535, "user_id": 9200817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91bdda21dbfbeabc9496aadb2d42d670?s=128&d=identicon&r=PG&f=1", "display_name": "casieber", "link": "https://stackoverflow.com/users/9200817/casieber"}, "is_accepted": true, "score": 22, "last_activity_date": 1541617419, "creation_date": 1541617419, "answer_id": 53196107, "question_id": 53195381, "link": "https://stackoverflow.com/questions/53195381/react-testing-library-with-typescript-set-an-inputs-value/53196107#53196107", "title": "React Testing Library with TypeScript: Set an input&#39;s value", "body": "<p>The typings provided by that library type the return value of <code>getByLabelText</code> as type: <code>HTMLElement</code>. Not all HTML elements have <code>value</code> properties, only things like <code>HTMLInputElement</code> do.</p>\n\n<p>The <code>getByLabelText</code> also has no sort of generic type through which you might be able to affect the output type, so essentially you will need to either unsafely cast the result to type <code>HTMLInputElement</code> or you will need to build a helper function that tells TypeScript whether or not the object is the right type:</p>\n\n<ol>\n<li><p><strong>Unsafe cast</strong>. All you really need to do is update any calls to <code>getByLabelText</code> where you expect it to be a type with a <code>value</code> property to:</p>\n\n<pre><code>(getByLabelText(/username/i) as HTMLInputElement).value = 'chuck';\n</code></pre></li>\n<li><p><strong>Type validation</strong>. This method is a bit safer as you can provide a type validation function that will cause TypeScript to update the type:</p>\n\n<pre><code>function isElementInput&lt;T extends HTMLElement&gt;(element: T): T is HTMLInputElement {\n    // Validate that element is actually an input\n    return element instanceof HTMLInputElement;\n}\n\n// Update your attempted value sets:\nconst elem = getByLabelText(/username/i);\nif (isElementInput(elem)) {\n    elem.value = 'chuck';\n} else {\n    // Handle failure here...\n}\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 8031, "user_id": 8331756, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/qcaCX.jpg?s=128&g=1", "display_name": "J. Hesters", "link": "https://stackoverflow.com/users/8331756/j-hesters"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6366, "favorite_count": 3, "accepted_answer_id": 53196107, "answer_count": 1, "score": 9, "last_activity_date": 1541617419, "creation_date": 1541614414, "question_id": 53195381, "link": "https://stackoverflow.com/questions/53195381/react-testing-library-with-typescript-set-an-inputs-value", "title": "React Testing Library with TypeScript: Set an input&#39;s value", "body": "<p>I'm building a React application using TypeScript. I do my component tests using React Testing Library.</p>\n\n<p>Let's say you have simple form like this:</p>\n\n<pre><code>import React from 'react'\n\nfunction Login({onSubmit}) {\n  return (\n    &lt;div&gt;\n      &lt;form\n        onSubmit={e =&gt; {\n          e.preventDefault()\n          const {username, password} = e.target.elements\n          onSubmit({\n            username: username.value,\n            password: password.value,\n          })\n        }}\n      &gt;\n        &lt;label htmlFor=\"username\"&gt;Username&lt;/label&gt;\n        &lt;input id=\"username\" /&gt;\n        &lt;label htmlFor=\"password\"&gt;Password&lt;/label&gt;\n        &lt;input id=\"password\" type=\"password\" /&gt;\n        &lt;br /&gt;\n        &lt;button type=\"submit\"&gt;Submit&lt;/button&gt;\n      &lt;/form&gt;\n    &lt;/div&gt;\n  )\n}\n\nexport {Login}\n</code></pre>\n\n<p>In <a href=\"https://www.youtube.com/watch?v=kCR3JAR7CHE\" rel=\"noreferrer\">this video</a> Kent (the creator of the library) shows how you would test the forms input inputs. The tests would look like this:</p>\n\n<pre><code>import React from 'react'\nimport {renderIntoDocument, cleanup} from 'react-testing-library'\nimport {Login} from '../login'\n\nafterEach(cleanup)\n\ntest('calls onSubmit with username and password', () =&gt; {\n  const handleSubmit = jest.fn()\n  const {getByLabelText, getByText} = renderIntoDocument(\n    &lt;Login onSubmit={handleSubmit} /&gt;,\n  )\n  getByLabelText(/username/i).value = 'chuck'\n  getByLabelText(/password/i).value = 'norris'\n  getByText(/submit/i).click()\n  expect(handleSubmit).toHaveBeenCalledTimes(1)\n  expect(handleSubmit).toHaveBeenCalledWith({\n    username: 'chuck',\n    password: 'norris',\n  })\n})\n</code></pre>\n\n<p>The problem is that he did it with plain JavaScript. When doing this with \nTypeScript the lines where he sets <code>.value</code> throw the following errors</p>\n\n<pre><code>[ts] Property 'value' does not exist on type 'HTMLElement'.\n</code></pre>\n\n<p>How would one test this functionality with TypeScript using React Testing Library? How would you set the input's values?</p>\n"}, {"tags": ["angular", "typescript", "google-maps", "ionic-framework", "ionic3"], "answers": [{"tags": [], "owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1541614876, "creation_date": 1541614876, "answer_id": 53195499, "question_id": 53195228, "link": "https://stackoverflow.com/questions/53195228/ionic-app-showing-invalidvalueerror-not-a-number/53195499#53195499", "title": "Ionic app showing InvalidValueError not a number", "body": "<p>You should create the map once you get the position and you had done but there is issue with sequence of call. Its a async execution so you must ensure that <code>initMap</code> is once you receive the position.</p>\n\n<p>You can move <code>initMap</code> in the callback section of <code>currentPositon</code> function.</p>\n\n<pre><code>import { Component, ViewChild, ElementRef } from '@angular/core';\nimport { NavController, Platform, LoadingController } from 'ionic-angular';\n\nimport { Geolocation } from '@ionic-native/geolocation';\n\ndeclare var google: any;\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n\n   public lat:number;\n   public long: number;\n\n  @ViewChild('map') mapElement: ElementRef;\n  map: any;\n\n  constructor(public navCtrl: NavController, public \nplatform: Platform, public geo: Geolocation, public loadingCtrl: LoadingController) {\n  platform.ready().then(() =&gt; {\n      this.currentPositon();\n      // this.initMap(); &lt;-- do not call here\n  });\n}\n\n\n\n  initMap() {\n    let loading = this.loadingCtrl.create({\n    content:'Locating...'\n  });\n\nloading.present();\n\nthis.map = new google.maps.Map(this.mapElement.nativeElement, {\n  zoom: 18,\n  mapTypeId:google.maps.MapTypeId.ROADMAP,\n  center: {lat:  this.lat, lng:  this.long},\n});\nloading.dismiss();\n}\n\n\n  currentPositon()\n  {\n    this.geo.getCurrentPosition().then((resp) =&gt; {\n    this.lat = resp.coords.latitude;\n    this.long = resp.coords.longitude;\n    this.initMap(); //&lt;-- init map once the position is received\n  console.log(resp);\n }).catch((error) =&gt; {\n   console.log('Error getting location', error);\n });\n }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 437, "user_id": 8390502, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b4a8efd73874fa0c06e517ba77fc1dfb?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Obafemi", "link": "https://stackoverflow.com/users/8390502/patrick-obafemi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 53195499, "answer_count": 1, "score": 0, "last_activity_date": 1541614876, "creation_date": 1541613858, "question_id": 53195228, "link": "https://stackoverflow.com/questions/53195228/ionic-app-showing-invalidvalueerror-not-a-number", "title": "Ionic app showing InvalidValueError not a number", "body": "<p>I have geolocation setup in my ionic app and i want to get current location of user and display on the app but i get the following error.</p>\n\n<pre><code>InvalidValueError: setCenter: not a LatLng or LatLngLiteral: in property lat: not a number\n</code></pre>\n\n<p>Here is my home.ts code</p>\n\n<pre><code>import { Component, ViewChild, ElementRef } from '@angular/core';\nimport { NavController, Platform, LoadingController } from 'ionic-angular';\n\nimport { Geolocation } from '@ionic-native/geolocation';\n\ndeclare var google: any;\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n\n   public lat:number;\n   public long: number;\n\n  @ViewChild('map') mapElement: ElementRef;\n  map: any;\n\n  constructor(public navCtrl: NavController, public \nplatform: Platform, public geo: Geolocation, public loadingCtrl: LoadingController) {\n  platform.ready().then(() =&gt; {\n      this.currentPositon();\n      this.initMap();\n  });\n}\n\n\n\n  initMap() {\n    let loading = this.loadingCtrl.create({\n    content:'Locating...'\n  });\n\nloading.present();\n\nthis.map = new google.maps.Map(this.mapElement.nativeElement, {\n  zoom: 18,\n  mapTypeId:google.maps.MapTypeId.ROADMAP,\n  center: {lat:  this.lat, lng:  this.long},\n});\nloading.dismiss();\n}\n\n\n  currentPositon()\n  {\n    this.geo.getCurrentPosition().then((resp) =&gt; {\n    this.lat = resp.coords.latitude;\n    this.long = resp.coords.longitude\n  console.log(resp);\n }).catch((error) =&gt; {\n   console.log('Error getting location', error);\n });\n }\n\n}\n</code></pre>\n\n<p>What am i doing wrong? When i console.log resp i get the coordinates but console logging this.lat and this.long returns undefined.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "jison"], "comments": [{"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "edited": false, "score": 2, "creation_date": 1541617177, "post_id": 53195072, "comment_id": 93280604, "body": "Elaborate your question in detail."}, {"owner": {"reputation": 219, "user_id": 1411126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9770f5be3918d1ae21e7f17ec0074879?s=128&d=identicon&r=PG", "display_name": "mluis", "link": "https://stackoverflow.com/users/1411126/mluis"}, "reply_to_user": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "edited": false, "score": 0, "creation_date": 1541701254, "post_id": 53195072, "comment_id": 93315385, "body": "Would you detail which details do I need more?"}], "answers": [{"comments": [{"owner": {"reputation": 219, "user_id": 1411126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9770f5be3918d1ae21e7f17ec0074879?s=128&d=identicon&r=PG", "display_name": "mluis", "link": "https://stackoverflow.com/users/1411126/mluis"}, "edited": false, "score": 0, "creation_date": 1542025621, "post_id": 53196444, "comment_id": 93408562, "body": "I&#39;m getting: <code>WARNING in .&#47;node_modules&#47;jison&#47;node_modules&#47;source-map&#47;lib&#47;source-map&#47;&zwnj;&#8203;source-node.js 8:45-52 Critical dependency: require function is used in a way in which dependencies cannot be statically extracted</code>"}, {"owner": {"reputation": 219, "user_id": 1411126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9770f5be3918d1ae21e7f17ec0074879?s=128&d=identicon&r=PG", "display_name": "mluis", "link": "https://stackoverflow.com/users/1411126/mluis"}, "edited": false, "score": 0, "creation_date": 1542025738, "post_id": 53196444, "comment_id": 93408615, "body": "and also <code>GET http:&#47;&#47;localhost:4200&#47;vendor.bundle.js net::ERR_CONTENT_LENGTH_MISMATCH 200 (OK) inline.bundle.js:55 Uncaught TypeError: Cannot read property &#39;call&#39; of undefined     at __webpack_require__ (inline.bundle.js:55)</code>"}, {"owner": {"reputation": 219, "user_id": 1411126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9770f5be3918d1ae21e7f17ec0074879?s=128&d=identicon&r=PG", "display_name": "mluis", "link": "https://stackoverflow.com/users/1411126/mluis"}, "edited": false, "score": 0, "creation_date": 1542893542, "post_id": 53196444, "comment_id": 93737910, "body": "I was missing &quot;module&quot;: &quot;commonjs&quot; in my tsconfig.json also."}], "tags": [], "owner": {"reputation": 92, "user_id": 3878455, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/IxuAj.png?s=128&g=1", "display_name": "Levi Barker", "link": "https://stackoverflow.com/users/3878455/levi-barker"}, "is_accepted": true, "score": 0, "last_activity_date": 1541618884, "creation_date": 1541618884, "answer_id": 53196444, "question_id": 53195072, "link": "https://stackoverflow.com/questions/53195072/how-to-include-jison-into-angular/53196444#53196444", "title": "How to include Jison into Angular?", "body": "<p>Install to your projects package.json</p>\n\n<pre><code>npm install jison -s\n</code></pre>\n\n<p>In your tsconfig.app.json include 'node' in your types array within compilerOptions</p>\n\n<pre><code>\"compilerOptions\": {\n    \"types\": [\n       \"node\"\n    ]\n}\n</code></pre>\n\n<p>Then import it in any TypeScript file.</p>\n\n<pre><code>import * as jison from 'jison';\n</code></pre>\n"}], "owner": {"reputation": 219, "user_id": 1411126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9770f5be3918d1ae21e7f17ec0074879?s=128&d=identicon&r=PG", "display_name": "mluis", "link": "https://stackoverflow.com/users/1411126/mluis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 372, "favorite_count": 0, "accepted_answer_id": 53196444, "answer_count": 1, "score": -5, "last_activity_date": 1542125971, "creation_date": 1541613311, "last_edit_date": 1542125971, "question_id": 53195072, "link": "https://stackoverflow.com/questions/53195072/how-to-include-jison-into-angular", "title": "How to include Jison into Angular?", "body": "<p>How can one include the </p>\n\n<blockquote>\n  <p>Jison</p>\n</blockquote>\n\n<p>javascript library into an angular project?</p>\n\n<p>At the moment I'm getting: </p>\n\n<blockquote>\n  <p>WARNING in\n  ./node_modules/jison/node_modules/source-map/lib/source-map/source-node.js\n  8:45-52 Critical dependency: require function is used in a way in\n  which dependencies cannot be statically extracted</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>GET <a href=\"http://localhost:4200/vendor.bundle.js\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js</a>\n  net::ERR_CONTENT_LENGTH_MISMATCH 200 (OK) inline.bundle.js:55 Uncaught\n  TypeError: Cannot read property 'call' of undefined at\n  <strong>webpack_require</strong> (inline.bundle.js:55)</p>\n</blockquote>\n"}, {"tags": ["javascript", "node.js", "typescript", "jestjs", "sinon"], "comments": [{"owner": {"reputation": 813, "user_id": 6262037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VjFSr.jpg?s=128&g=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/6262037/richard"}, "edited": false, "score": 1, "creation_date": 1541614423, "post_id": 53194913, "comment_id": 93279382, "body": "Sinon is a great tool for creating spy functions, alternatively you could implement it yourself, by passing a boolean flag into the function that gets switched when executed, and assert that the flag has/hasn&#39;t been changed"}], "answers": [{"tags": [], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "is_accepted": true, "score": 1, "last_activity_date": 1541628397, "last_edit_date": 1541628397, "creation_date": 1541616361, "answer_id": 53195859, "question_id": 53194913, "link": "https://stackoverflow.com/questions/53194913/testing-callbacks-that-are-not-called-with-jest/53195859#53195859", "title": "Testing callbacks that are not called with Jest?", "body": "<p>Per @Richard's comment:</p>\n\n<pre><code>let error = false;\nlet cbError = ()=&gt; { error =true };\nlet cbComplete = ()=&gt;{\n  complete = true;\n  expect(complete).toBeTruthy();\n  expect(error).toBeFalsy();\n  done(); //This is the async callback that Jest provides to let Jest know that the test is done.\n\n}\n</code></pre>\n\n<p>Inside the complete callback we test that error is still <code>false</code>.  Since it's false after the Observable completes, the cbError callback was never called, because that callback is mutually exclusive from the other callbacks.</p>\n\n<h2>Side Note</h2>\n\n<p>This sort of gives an indication that the cbError is not called.  By design the cbError and cbComplete callbacks are meant to be mutually exclusive, but we can't call <code>done()</code> from jest in both places, because it would equal a race condition in the test, so it that essentially we have to trust the design in this case. If anyone has any other thoughts on this please leave a comment.</p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 790, "favorite_count": 0, "accepted_answer_id": 53195859, "answer_count": 1, "score": 2, "last_activity_date": 1541628397, "creation_date": 1541612596, "last_edit_date": 1541620017, "question_id": 53194913, "link": "https://stackoverflow.com/questions/53194913/testing-callbacks-that-are-not-called-with-jest", "title": "Testing callbacks that are not called with Jest?", "body": "<p>Is there a way to test that a callback is not called with Jest?</p>\n\n<p>For example:</p>\n\n<pre><code>o.subscribe(cb, cbError, cbComplete);\n</code></pre>\n\n<p>The <code>cb</code> and <code>cbComplete</code> callbacks should fire and the <code>cbError</code> callback should not fire.</p>\n\n<p>is there a way to test that <code>cbError</code> is never called?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 3, "creation_date": 1541611542, "post_id": 53194659, "comment_id": 93278039, "body": "<code>dwsubscriptions</code> is not an Observable / async. It seems like you want to do <code>*ngFor=&quot;let dwsubscription of dwsubscriptions&quot;</code> and then <code>{{ (dwsubscription | async).params.data</code>"}, {"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1541611818, "post_id": 53194659, "comment_id": 93278167, "body": "A better question is why do you have an array of Observables vs. getting an array of data from one Observable?"}, {"owner": {"reputation": 6494, "user_id": 1668501, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/yuQQv.png?s=128&g=1", "display_name": "Code-EZ", "link": "https://stackoverflow.com/users/1668501/code-ez"}, "edited": false, "score": 0, "creation_date": 1541612736, "post_id": 53194659, "comment_id": 93278608, "body": "I would suggest you to use forkJoin from the component itself"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 8011402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9d7d02a6c108ef13b68cbfd343a1a98?s=128&d=identicon&r=PG&f=1", "display_name": "ovidiup", "link": "https://stackoverflow.com/users/8011402/ovidiup"}, "is_accepted": false, "score": 0, "last_activity_date": 1541612430, "creation_date": 1541612430, "answer_id": 53194881, "question_id": 53194659, "link": "https://stackoverflow.com/questions/53194659/use-ngfor-with-async-pipe-to-display-array-of-observables/53194881#53194881", "title": "Use ngFor with async pipe to display array of observables", "body": "<p>You are creating an array of observables. You'll have to loop over each observable and then use the async pipe for each one. </p>\n\n<p>Try this:</p>\n\n<pre><code>&lt;div *ngFor=\"let dwsubscription of dwsubscriptions\"&gt;\n  &lt;div *ngIf=\"dwsubscription | async as dw\"&gt;\n    &lt;p&gt;value: {{dw.params.data}}&lt;/p&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": [], "owner": {"reputation": 2602, "user_id": 3072366, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/e05703551a89ed28e6950c498b6eea2c?s=128&d=identicon&r=PG&f=1", "display_name": "Pezetter", "link": "https://stackoverflow.com/users/3072366/pezetter"}, "is_accepted": false, "score": 0, "last_activity_date": 1541613002, "creation_date": 1541613002, "answer_id": 53195004, "question_id": 53194659, "link": "https://stackoverflow.com/questions/53194659/use-ngfor-with-async-pipe-to-display-array-of-observables/53195004#53195004", "title": "Use ngFor with async pipe to display array of observables", "body": "<p>Your question implies that you want an array of Observables. That means you would need to fix how you reference <code>dwsubscriptions</code> in your html. dwsubscriptions <strong>is not</strong> an Observable in your example. It is an array of Observables. So no need to use the <code>async</code> pipe on <code>dwsubscriptions</code> ;</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-arryn1\" rel=\"nofollow noreferrer\">Heres a quick Stackblitz example</a></p>\n\n<p>The chaing comes from:</p>\n\n<pre><code>&lt;ul&gt;\n  &lt;li *ngFor=\"let obs of dwsubscriptions\"&gt;\n  {{obs | async | json}}\n  &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 342, "user_id": 9100310, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yb6k0CraWhM/AAAAAAAAAAI/AAAAAAAAABs/4jAXxxQ98fg/photo.jpg?sz=128", "display_name": "Dr. Freddy Dimethyltryptamine", "link": "https://stackoverflow.com/users/9100310/dr-freddy-dimethyltryptamine"}, "is_accepted": false, "score": 0, "last_activity_date": 1564400145, "creation_date": 1564400145, "answer_id": 57253036, "question_id": 53194659, "link": "https://stackoverflow.com/questions/53194659/use-ngfor-with-async-pipe-to-display-array-of-observables/57253036#57253036", "title": "Use ngFor with async pipe to display array of observables", "body": "<p>Try using joinFork</p>\n\n<pre><code>this.results = forkJoin(this.locations, this.distances).pipe(\n  map(([locations, distances]) =&gt; locations.concat(distances))\n</code></pre>\n\n<p>);</p>\n"}], "owner": {"reputation": 421, "user_id": 5092005, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/10206147533318859/picture?type=large", "display_name": "Austen Stone", "link": "https://stackoverflow.com/users/5092005/austen-stone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2078, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1564400145, "creation_date": 1541611459, "question_id": 53194659, "link": "https://stackoverflow.com/questions/53194659/use-ngfor-with-async-pipe-to-display-array-of-observables", "title": "Use ngFor with async pipe to display array of observables", "body": "<p>I'm having a hard time understanding why ngFor isn't working with an array of observables.</p>\n\n<pre><code>export class DashboardComponent implements OnInit {\n    dwsubscriptions: Observable&lt;Dwsubscription&gt;[] = new Array();\n\n    ngOnInit() {\n        this.dwsubscriptions.push(\n            this.devicewiseService.getSubscription('Randomizer', '1', 3, 1, -1)\n        )\n    }\n}\n</code></pre>\n\n<p>Then my html</p>\n\n<pre><code>&lt;div *ngFor=\"let dwsubscription of dwsubscriptions | async\"&gt;\n    &lt;p&gt;value: {{dwsubscription.params.data}}&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>getSubscriptions is returning an observable</p>\n\n<pre><code>getSubscription(device: string, variable: string, type: number, count:number, length:number): Observable&lt;Dwsubscription&gt; {\n</code></pre>\n\n<p>I am getting the error</p>\n\n<blockquote>\n  <p>ERROR Error: InvalidPipeArgument: '[object Object]' for pipe\n  'AsyncPipe'</p>\n</blockquote>\n\n<p>This works fine if I do async pipe on a single observable returned from getSubscription(). Why can't I push those observables to an array and then iterate through them in my template using ngFor?</p>\n"}, {"tags": ["angular", "typescript", "angularjs-directive"], "comments": [{"owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 1, "creation_date": 1541610365, "post_id": 53194316, "comment_id": 93277411, "body": "That error implies you need to import the <code>RouterModule</code> in your <code>AppModule</code>"}, {"owner": {"reputation": 21, "user_id": 10100547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/149e279a74b2e0d7c234526bab0c6d1d?s=128&d=identicon&r=PG&f=1", "display_name": "Lio MC", "link": "https://stackoverflow.com/users/10100547/lio-mc"}, "reply_to_user": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1541668617, "post_id": 53194316, "comment_id": 93297340, "body": "@user184994 already did :). I even re-read the tutorial on angular. everything is set up properly based on the tutorial :)"}, {"owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1541668847, "post_id": 53194316, "comment_id": 93297454, "body": "Can you add your module to the question please?"}, {"owner": {"reputation": 21, "user_id": 10100547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/149e279a74b2e0d7c234526bab0c6d1d?s=128&d=identicon&r=PG&f=1", "display_name": "Lio MC", "link": "https://stackoverflow.com/users/10100547/lio-mc"}, "reply_to_user": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1541669051, "post_id": 53194316, "comment_id": 93297571, "body": "yep, did. @user184994"}, {"owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1541669290, "post_id": 53194316, "comment_id": 93297713, "body": "Which module is <code>ONavLink</code> declared in?"}, {"owner": {"reputation": 21, "user_id": 10100547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/149e279a74b2e0d7c234526bab0c6d1d?s=128&d=identicon&r=PG&f=1", "display_name": "Lio MC", "link": "https://stackoverflow.com/users/10100547/lio-mc"}, "reply_to_user": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1541669475, "post_id": 53194316, "comment_id": 93297808, "body": "It declared in ngboostedModule, which is another angular project, I used npm link to link that. <a href=\"https://github.com/Orange-OpenSource/Orange-Boosted-Angular/blob/version_3.3.0/src/o-navbar/o-navbar.component.ts\" rel=\"nofollow noreferrer\">ng boosted</a> check this right here"}], "answers": [{"comments": [{"owner": {"reputation": 1834, "user_id": 8398630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F9nSv.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/8398630/rahul"}, "reply_to_user": {"reputation": 21, "user_id": 10100547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/149e279a74b2e0d7c234526bab0c6d1d?s=128&d=identicon&r=PG&f=1", "display_name": "Lio MC", "link": "https://stackoverflow.com/users/10100547/lio-mc"}, "edited": false, "score": 0, "creation_date": 1541669032, "post_id": 53194501, "comment_id": 93297553, "body": "Is there any error !! can you please share the source so that i can have a look - actually i have changed your <code>li</code> a bit <code>[route]=&quot;[&#39;test&#39;]&quot;</code> but you have <code>linkto</code> which is not an property in the child component - please check that too"}, {"owner": {"reputation": 21, "user_id": 10100547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/149e279a74b2e0d7c234526bab0c6d1d?s=128&d=identicon&r=PG&f=1", "display_name": "Lio MC", "link": "https://stackoverflow.com/users/10100547/lio-mc"}, "edited": false, "score": 0, "creation_date": 1541669223, "post_id": 53194501, "comment_id": 93297673, "body": "yes i did change it and set it was before. here is the <a href=\"https://github.com/Orange-OpenSource/Orange-Boosted-Angular/blob/version_3.3.0/src/o-navbar/o-navbar.component.ts\" rel=\"nofollow noreferrer\">link to the project</a>."}, {"owner": {"reputation": 21, "user_id": 10100547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/149e279a74b2e0d7c234526bab0c6d1d?s=128&d=identicon&r=PG&f=1", "display_name": "Lio MC", "link": "https://stackoverflow.com/users/10100547/lio-mc"}, "edited": false, "score": 0, "creation_date": 1541687986, "post_id": 53194501, "comment_id": 93307929, "body": "I guess you tested it. But with the changes you made it&#39;s still rising the same error. something have change with router link but i don&#39;t know what so far..."}, {"owner": {"reputation": 1834, "user_id": 8398630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F9nSv.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/8398630/rahul"}, "reply_to_user": {"reputation": 21, "user_id": 10100547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/149e279a74b2e0d7c234526bab0c6d1d?s=128&d=identicon&r=PG&f=1", "display_name": "Lio MC", "link": "https://stackoverflow.com/users/10100547/lio-mc"}, "edited": false, "score": 0, "creation_date": 1541691833, "post_id": 53194501, "comment_id": 93310280, "body": "Yeah i tested it twice - it was working fine for me - check the <code>href</code> by inspecting in the browser - I checked it shows <code>href= &#39;&#47;test&#39;</code>"}, {"owner": {"reputation": 21, "user_id": 10100547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/149e279a74b2e0d7c234526bab0c6d1d?s=128&d=identicon&r=PG&f=1", "display_name": "Lio MC", "link": "https://stackoverflow.com/users/10100547/lio-mc"}, "edited": false, "score": 0, "creation_date": 1541692306, "post_id": 53194501, "comment_id": 93310583, "body": "ok. There is something that I did wrong. can you push your test ?"}, {"owner": {"reputation": 1834, "user_id": 8398630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F9nSv.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/8398630/rahul"}, "reply_to_user": {"reputation": 21, "user_id": 10100547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/149e279a74b2e0d7c234526bab0c6d1d?s=128&d=identicon&r=PG&f=1", "display_name": "Lio MC", "link": "https://stackoverflow.com/users/10100547/lio-mc"}, "edited": false, "score": 0, "creation_date": 1541695356, "post_id": 53194501, "comment_id": 93312395, "body": "Yeah i will show you by tomorrow morning now I&#39;m off work"}, {"owner": {"reputation": 1834, "user_id": 8398630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F9nSv.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/8398630/rahul"}, "reply_to_user": {"reputation": 21, "user_id": 10100547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/149e279a74b2e0d7c234526bab0c6d1d?s=128&d=identicon&r=PG&f=1", "display_name": "Lio MC", "link": "https://stackoverflow.com/users/10100547/lio-mc"}, "edited": false, "score": 0, "creation_date": 1541745788, "post_id": 53194501, "comment_id": 93328835, "body": "Please check this link - [<a href=\"https://stackblitz.com/edit/angular-zjpzy5?embed=1&amp;file=src/app/app.module.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-zjpzy5?embed=1&amp;file=src/app/&hellip;</a>"}, {"owner": {"reputation": 21, "user_id": 10100547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/149e279a74b2e0d7c234526bab0c6d1d?s=128&d=identicon&r=PG&f=1", "display_name": "Lio MC", "link": "https://stackoverflow.com/users/10100547/lio-mc"}, "edited": false, "score": 0, "creation_date": 1541751839, "post_id": 53194501, "comment_id": 93331060, "body": "Tanks Rahul ! Yeah it&#39;s working. I think I am doing something badly on my project."}, {"owner": {"reputation": 1834, "user_id": 8398630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F9nSv.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/8398630/rahul"}, "reply_to_user": {"reputation": 21, "user_id": 10100547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/149e279a74b2e0d7c234526bab0c6d1d?s=128&d=identicon&r=PG&f=1", "display_name": "Lio MC", "link": "https://stackoverflow.com/users/10100547/lio-mc"}, "edited": false, "score": 0, "creation_date": 1541753750, "post_id": 53194501, "comment_id": 93331893, "body": "Just try out the same way - it might work - happy coding - make sure to mark the answer - thanks"}, {"owner": {"reputation": 1834, "user_id": 8398630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F9nSv.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/8398630/rahul"}, "reply_to_user": {"reputation": 21, "user_id": 10100547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/149e279a74b2e0d7c234526bab0c6d1d?s=128&d=identicon&r=PG&f=1", "display_name": "Lio MC", "link": "https://stackoverflow.com/users/10100547/lio-mc"}, "edited": false, "score": 0, "creation_date": 1541851293, "post_id": 53194501, "comment_id": 93363421, "body": "It will be great - if my solution worked just mark the answer - thanks"}, {"owner": {"reputation": 21, "user_id": 10100547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/149e279a74b2e0d7c234526bab0c6d1d?s=128&d=identicon&r=PG&f=1", "display_name": "Lio MC", "link": "https://stackoverflow.com/users/10100547/lio-mc"}, "edited": false, "score": 0, "creation_date": 1542091536, "post_id": 53194501, "comment_id": 93432826, "body": "You solution is great ! And I figure out that my problem is coming from angular. My project was based on angular 5.2.9 and I upgraded it to 6.0.0. By investigating I find out there is a change made between the 6.beta 2 and 6 beta 3. Thank you for your help."}, {"owner": {"reputation": 1834, "user_id": 8398630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F9nSv.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/8398630/rahul"}, "reply_to_user": {"reputation": 21, "user_id": 10100547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/149e279a74b2e0d7c234526bab0c6d1d?s=128&d=identicon&r=PG&f=1", "display_name": "Lio MC", "link": "https://stackoverflow.com/users/10100547/lio-mc"}, "edited": false, "score": 0, "creation_date": 1542091654, "post_id": 53194501, "comment_id": 93432865, "body": "Does my solution work ? yep angular dependency are something complex :) use the latest version of it always :)  - please do mark the answer if it works - Thanks"}], "tags": [], "owner": {"reputation": 1834, "user_id": 8398630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F9nSv.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/8398630/rahul"}, "is_accepted": false, "score": 0, "last_activity_date": 1541673140, "last_edit_date": 1541673140, "creation_date": 1541610886, "answer_id": 53194501, "question_id": 53194316, "link": "https://stackoverflow.com/questions/53194316/how-to-set-a-route-using-input/53194501#53194501", "title": "how to set a route using @input", "body": "<p>Import <code>RouterMoudle</code> in your <code>AppModule</code> and <code>[routerLink]</code> is an array of string not just a string value </p>\n\n<p>Try to bind the <code>route</code> property as an array of string </p>\n\n<p><code>&lt;li o-nav-link [route]=\"['test']\"&gt;Getting tested&lt;/li&gt;</code></p>\n\n<p>I think the above code will work - please check - happy coding !!</p>\n\n<p><strong>Update:</strong></p>\n\n<p>After some research i have changed the selector in the <code>ONavLink</code> component which was the major cause of the issue - In your question you are binding <code>[route]</code> which is not the known property of <code>&lt;li&gt;</code> and that's the triumph card of the issue</p>\n\n<p>So finally here is the update - </p>\n\n<p><strong>ONavLink.compoent.ts</strong> </p>\n\n<pre><code>@Component({\n  selector: 'li-link',\n  template: `\n    &lt;a #link [routerLink]=\"route\" class=\"nav-link\" routerLinkActive='active'\n     [attr.title]=\"title === 'undefined' ? null : title\"\n     [attr.aria-current]=\"isActive\"&gt;&lt;ng-content&gt;&lt;/ng-content&gt;&lt;/a&gt;\n  `\n})\nexport class ONavLink implements DoCheck {\n  @HostBinding('class.nav-item')\n\n  @Input()\n  public route: string[];\n\n  @Input()\n  public title: string;\n\n  @ViewChild('link')\n  public link: ElementRef;\n\n  public isActive = false;\n\n  public ngDoCheck() {\n    this.isActive = this.link.nativeElement.classList.contains('active');\n  }\n}\n</code></pre>\n\n<p>I have changed the selector as <code>li-link</code> and the <code>route</code> property as <code>string[]</code> and you can access the component like this</p>\n\n<p><code>&lt;li-link [route]=\"['test']\"&gt;Getting Tested&lt;/li-link&gt;</code></p>\n\n<p>Make sure you have the route <code>test</code> in your routes and make sure you are importing the modules </p>\n\n<p>Hope this will work </p>\n"}], "owner": {"reputation": 21, "user_id": 10100547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/149e279a74b2e0d7c234526bab0c6d1d?s=128&d=identicon&r=PG&f=1", "display_name": "Lio MC", "link": "https://stackoverflow.com/users/10100547/lio-mc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 242, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541673140, "creation_date": 1541610176, "last_edit_date": 1541669030, "question_id": 53194316, "link": "https://stackoverflow.com/questions/53194316/how-to-set-a-route-using-input", "title": "how to set a route using @input", "body": "<p>I have a component that uses a html attribute. I designed it so that an user can set the route when using that component in another component. But whenever I try to set the route value, I am running into a 'No provider for Router'.</p>\n\n<p>This the output I get on the browser:</p>\n\n<blockquote>\n  <p>ERROR Error: StaticInjectorError(AppModule)[RouterLinkActive -> Router]: \n    StaticInjectorError(Platform: core)[RouterLinkActive -> Router]: \n      NullInjectorError: No provider for Router!</p>\n</blockquote>\n\n<p>Here is the component :</p>\n\n<pre><code>@Component({\n  selector: 'li[o-nav-link]',\n  template: `\n    &lt;a #link [routerLink]=\"route\" class=\"nav-link\" routerLinkActive=\"active\"\n     [attr.title]=\"title === 'undefined' ? null : title\"\n     [attr.aria-current]=\"isActive\"&gt;&lt;ng-content&gt;&lt;/ng-content&gt;&lt;/a&gt;\n  `\n})\n\n    export class ONavLink implements DoCheck {\n      @HostBinding('class.nav-item')\n\n      @Input()\n      public route: string;\n\n      @Input()\n      public title: string;\n\n      @ViewChild('link')\n      public link: ElementRef;\n\n      public isActive = false;\n\n      public ngDoCheck() {\n        this.isActive = this.link.nativeElement.classList.contains('active');\n      }\n    }\n</code></pre>\n\n<p>And i am using it like this:</p>\n\n<pre><code>&lt;li o-nav-link route=\"test\"&gt;Getting tested&lt;/li&gt;\n</code></pre>\n\n<p>If you have any idea what is really going on right here, that could really help. I am futzing around like crazy !</p>\n\n<p>and this is my module:</p>\n\n<pre><code>import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport {NgbModule} from '@ng-bootstrap/ng-bootstrap';\nimport { NgBoostedModule } from 'ng-boosted';\n\nconst approutes: Routes = [\n  { path: 'test', component: AppComponent},\n  { path: 'start', component: AppComponent}\n  ];\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    NgbModule.forRoot(),\n    NgBoostedModule,\n    FormsModule,\n    RouterModule.forRoot(approutes)\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>PS: 'test' is defined in a route array :)</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1541611049, "post_id": 53194295, "comment_id": 93277771, "body": "<i>&quot;I still wonder what&#39;s the reason that this rule is not applied to variables as well.&quot;</i> <b>That</b> part, I can answer: To allow for subclasses, which do still (after all) have an &quot;is a&quot; relationship with <code>Foo</code>. What I can&#39;t answer (which is why I didn&#39;t post an answer) is why TypeScript restricts object literals in that way. (I could guess, but answers shouldn&#39;t be guesses. :-) )"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 3, "creation_date": 1541611252, "post_id": 53194295, "comment_id": 93277877, "body": "Where&#39;s @Titian Cernicova-Dragomir when you need him? :-)"}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 2, "creation_date": 1541613241, "post_id": 53194295, "comment_id": 93278835, "body": "Explained in various places, for example here <a href=\"https://stackoverflow.com/questions/50143250/how-excess-property-check-helps\" title=\"how excess property check helps\">stackoverflow.com/questions/50143250/&hellip;</a> and <a href=\"https://github.com/Microsoft/TypeScript/issues/3755\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/3755</a>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1541617527, "post_id": 53194295, "comment_id": 93280769, "body": "Also see <a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html#excess-property-checks\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/&hellip;</a>"}, {"owner": {"reputation": 1855, "user_id": 6587634, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209643793277415/picture?type=large", "display_name": "Wong Jia Hau", "link": "https://stackoverflow.com/users/6587634/wong-jia-hau"}, "edited": false, "score": 0, "creation_date": 1541641583, "post_id": 53194295, "comment_id": 93289451, "body": "This might be an intended feature, because by allowing such behaviour, <b>row type polymorphism</b> can be achieved. For more info, look at <a href=\"https://stackoverflow.com/questions/48092739/what-are-row-types-are-they-algebraic-data-types\" title=\"what are row types are they algebraic data types\">stackoverflow.com/questions/48092739/&hellip;</a>."}, {"owner": {"reputation": 21, "user_id": 550204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dffa56eb11f51022cb652a3cdc0f6e5?s=128&d=identicon&r=PG", "display_name": "Carles Tom&#225;s Mart&#237;", "link": "https://stackoverflow.com/users/550204/carles-tom%c3%a1s-mart%c3%ad"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1541687099, "post_id": 53194295, "comment_id": 93307338, "body": "Thanks for the comments, I think I understand better now. It does make sense that &quot;excess property checks&quot; are not applied by default to variables since that would be pretty restrictive (for example like @T.J.Crowder said it would hamper subclassing)."}, {"owner": {"reputation": 21, "user_id": 550204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dffa56eb11f51022cb652a3cdc0f6e5?s=128&d=identicon&r=PG", "display_name": "Carles Tom&#225;s Mart&#237;", "link": "https://stackoverflow.com/users/550204/carles-tom%c3%a1s-mart%c3%ad"}, "edited": false, "score": 0, "creation_date": 1541687122, "post_id": 53194295, "comment_id": 93307356, "body": "My only last question would be whether there&#39;s any way to achieve something equivalent to an excess property check on variables as arguments to a function call. I have a particular call I would like to protect with such a thing. But maybe I should ask this as a separate question?"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1541687614, "post_id": 53194295, "comment_id": 93307688, "body": "@CarlesTom&#225;sMart&#237; - I think so, if you don&#39;t find an already-answered version of that. <a href=\"https://stackoverflow.com/questions/53187413/javascript-nameof-object-property\">This</a> gets you close, but you can&#39;t do it in a dynamic loop..."}], "owner": {"reputation": 21, "user_id": 550204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dffa56eb11f51022cb652a3cdc0f6e5?s=128&d=identicon&r=PG", "display_name": "Carles Tom&#225;s Mart&#237;", "link": "https://stackoverflow.com/users/550204/carles-tom%c3%a1s-mart%c3%ad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "closed_date": 1541622743, "answer_count": 0, "score": 2, "last_activity_date": 1541687383, "creation_date": 1541610099, "last_edit_date": 1541687383, "question_id": 53194295, "link": "https://stackoverflow.com/questions/53194295/typescript-correctly-rejects-wrong-type-in-a-function-argument-if-its-a-literal", "closed_reason": "Duplicate", "title": "Typescript correctly rejects wrong type in a function argument if it&#39;s a literal but not if it&#39;s a variable", "body": "<p>I have stumbled upon the following issue which to me it looks like Typescript is failing to catch a type error.</p>\n\n<p>In all honesty, it feels a bit weird Typescript would miss this so I suspect it's me who's missing something. I would appreciate if somebody could help me understand.</p>\n\n<p>The following code correctly fails to compile with tsc v3.1.6</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type Foo = { bar: string };\nfunction test(x: Foo) { console.log(x); }\ntest({ bar: 'bar', wrong: 'wrong' });\n</code></pre>\n\n<p>...with the following error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>test.ts:3:20 - error TS2345: Argument of type '{ bar: string; wrong: \nstring; }' is not assignable to parameter of type 'Foo'.\n  Object literal may only specify known properties, and 'wrong' does \n  not exist in type 'Foo'.\n\n3 test({ bar: 'bar', wrong: 'wrong' });\n                     ~~~~~~~~~~~~~~\n</code></pre>\n\n<p>However, the following code somehow compiles just fine (tsc v3.1.6):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type Foo = { bar: string };\nfunction test(x: Foo) { console.log(x); }\nconst z = { bar: 'bar', wrong: 'wrong' };\ntest(z);\n</code></pre>\n\n<p>I would have expected the second snippet to fail with the same error as the first one.</p>\n\n<hr>\n\n<h1>EDIT 1</h1>\n\n<p>So I just read again the error message more carefully and it does say \"Object literal may\u2026\" which implies this rule only applies to literals and not local variables, explaining the issue.</p>\n\n<p>However, I still wonder what's the reason that this rule is not applied to variables as well.</p>\n\n<hr>\n\n<h1>EDIT 2</h1>\n\n<p>After reading the comments I realised my question relates to \"excess property checks\". An alternative title for the question could have been: </p>\n\n<p><em>Why do \"excess property checks\" only apply to object literals?</em></p>\n"}, {"tags": ["angular", "typescript", "kendo-ui", "rxjs", "angular7"], "comments": [{"owner": {"reputation": 1594, "user_id": 1648800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ab5bf42807e6dd145f8a8b63bf239a9?s=128&d=identicon&r=PG", "display_name": "Philipp", "link": "https://stackoverflow.com/users/1648800/philipp"}, "edited": false, "score": 0, "creation_date": 1541615277, "post_id": 53193523, "comment_id": 93279764, "body": "What error do you get? Can you provide us a running <a href=\"https://stackoverflow.com/help/mcve\">example</a>? This will help us to help you."}, {"owner": {"reputation": 97, "user_id": 6768535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e633381fb7374f246bfe946583136731?s=128&d=identicon&r=PG&f=1", "display_name": "Lentian Latifi", "link": "https://stackoverflow.com/users/6768535/lentian-latifi"}, "reply_to_user": {"reputation": 1594, "user_id": 1648800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ab5bf42807e6dd145f8a8b63bf239a9?s=128&d=identicon&r=PG", "display_name": "Philipp", "link": "https://stackoverflow.com/users/1648800/philipp"}, "edited": false, "score": 0, "creation_date": 1541668322, "post_id": 53193523, "comment_id": 93297172, "body": "@Philipp this is link to see picture with example and error which is returned back  <a href=\"https://pasteboard.co/HMbZyEv.png\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 1594, "user_id": 1648800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ab5bf42807e6dd145f8a8b63bf239a9?s=128&d=identicon&r=PG", "display_name": "Philipp", "link": "https://stackoverflow.com/users/1648800/philipp"}, "edited": false, "score": 0, "creation_date": 1541743035, "post_id": 53193523, "comment_id": 93328072, "body": "What is the returned value &amp; type of <code>this.treeserviceService.getAllFolderAndTestCases</code>?"}, {"owner": {"reputation": 97, "user_id": 6768535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e633381fb7374f246bfe946583136731?s=128&d=identicon&r=PG&f=1", "display_name": "Lentian Latifi", "link": "https://stackoverflow.com/users/6768535/lentian-latifi"}, "reply_to_user": {"reputation": 1594, "user_id": 1648800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ab5bf42807e6dd145f8a8b63bf239a9?s=128&d=identicon&r=PG", "display_name": "Philipp", "link": "https://stackoverflow.com/users/1648800/philipp"}, "edited": false, "score": 0, "creation_date": 1541754183, "post_id": 53193523, "comment_id": 93332107, "body": "I would need to return data from Observables from two different functions like below:   public getSubFolders(noderef: number): any {     return this.fetch(<code>${this.baseUrl}&#47;testfolders&#47;${noderef}&#47;testfolder&zwnj;&#8203;s</code>);   }    public getTestCases(noderef: number): any {     return this.fetch(<code>${this.baseUrl}&#47;testfolders&#47;${noderef}&#47;testcases</code>)&zwnj;&#8203;;   }   private fetch(url: string): Observable&lt;any[]&gt; {     return this.http       .get(url)       .pipe(map((response: any) =&gt; response));   }"}, {"owner": {"reputation": 76, "user_id": 9962301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2fe66e39f03c9e51944c7eb02aeef53?s=128&d=identicon&r=PG&f=1", "display_name": "Sathishkumar", "link": "https://stackoverflow.com/users/9962301/sathishkumar"}, "edited": false, "score": 0, "creation_date": 1571681890, "post_id": 53193523, "comment_id": 103314039, "body": "Me too have exactly the same problem? Does anyone know the fix? It would be really helpful"}], "owner": {"reputation": 97, "user_id": 6768535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e633381fb7374f246bfe946583136731?s=128&d=identicon&r=PG&f=1", "display_name": "Lentian Latifi", "link": "https://stackoverflow.com/users/6768535/lentian-latifi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 566, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1541807508, "creation_date": 1541607504, "last_edit_date": 1541807508, "question_id": 53193523, "link": "https://stackoverflow.com/questions/53193523/angular-7-kendo-ui-treeview", "title": "Angular 7 + Kendo UI Treeview", "body": "<h2>I want to create dynamic TreeView with Kendo UI for Angular, the structure which i want is like below:</h2>\n\n<pre><code>Folder 1\nFolder 2\n  Folder 2.1\n  Folder 2.2\n  Test Case 2.1\n  Test Case 2.2\n      Test Step 2.2.1\n      Test Step 2.2.2\n  Test Case 2.3\nFolder 3\n  Test Case 3.1 \n      Test Step 3.1.1\n      Test Step 3.1.2\n</code></pre>\n\n<hr>\n\n<pre><code>selector: 'my-app',\n  template: `\n    &lt;kendo-treeview\n        [nodes]=\"varg | async\"\n        [textField]=\"['name']\"\n\n        kendoTreeViewExpandable\n        [hasChildren]=\"hasChildren\"\n        [children]=\"getChildren\"\n        &gt;\n    &lt;/kendo-treeview&gt;\n</code></pre>\n\n<h2>      `</h2>\n\n<pre><code>public varg: Observable&lt;any[]&gt;;\n\n  constructor(private treeserviceService:  TreeserviceService) {}  \n\n  ngOnInit(): void {  \n    this.varg = this.treeserviceService.getTestFolders()  \n    ;\n  } \n  public hasChildren = (item: any) =&gt; 'name' in item; \n\n  public getChildren = (item: any) =&gt; \n  this.treeserviceService.getAllFolderAndTestCases(item.noderef);\n</code></pre>\n\n<p>But my problem is that when I click for example in Folder 2 I can't get Folder and Test Cases, because it is showing error</p>\n"}, {"tags": ["javascript", "angular", "typescript", "error-handling"], "comments": [{"owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "reply_to_user": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1541608289, "post_id": 53193220, "comment_id": 93276277, "body": "i tried its still returning empty object {} to UI and showing error in network response"}], "answers": [{"comments": [{"owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "edited": false, "score": 0, "creation_date": 1541608033, "post_id": 53193415, "comment_id": 93276135, "body": "i wanted to send object like <code>return { \t\t\theader: { \t\t\t\tstatusCode: REQUEST_SYSTEM_FAILURE, \t\t\t\tstatusDesc: REQUEST_FAILURE_STATUS_DESCRIPTION, \t\t\t\trefID: request.body.getSpecialtyQuestionsRequest.header.serviceCont&zwnj;&#8203;ext.refID, \t\t\t\ttokenID: request.body.getSpecialtyQuestionsRequest.header.serviceCont&zwnj;&#8203;ext.tokenID \t\t\t}</code>"}, {"owner": {"reputation": 1687, "user_id": 5320535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdae082086870c50d90ee6f95cd1d2ed?s=128&d=identicon&r=PG&f=1", "display_name": "front_end_dev", "link": "https://stackoverflow.com/users/5320535/front-end-dev"}, "reply_to_user": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "edited": false, "score": 0, "creation_date": 1541608402, "post_id": 53193415, "comment_id": 93276336, "body": "Where do you want to send object?.  Set your object in the <code>throw new CustomError(YOUR_CUSTOM_OBJECT, &#39;bazMessage&#39;);</code> and get it in the catch of parent function."}], "tags": [], "owner": {"reputation": 1687, "user_id": 5320535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdae082086870c50d90ee6f95cd1d2ed?s=128&d=identicon&r=PG&f=1", "display_name": "front_end_dev", "link": "https://stackoverflow.com/users/5320535/front-end-dev"}, "is_accepted": true, "score": 1, "last_activity_date": 1541607141, "creation_date": 1541607141, "answer_id": 53193415, "question_id": 53193220, "link": "https://stackoverflow.com/questions/53193220/how-to-pass-error-back-to-caller-function-using-async/53193415#53193415", "title": "How to pass error back to caller function using async?", "body": "<p>Create your custom exception object to pass data while throw error</p>\n\n<pre><code>class CustomError extends Error {\n  constructor(foo = 'bar', ...params) {\n    // Pass remaining arguments (including vendor specific ones) to parent constructor\n    super(...params);\n\n    // Maintains proper stack trace for where our error was thrown (only available on V8)\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, CustomError);\n    }\n\n    // Custom debugging information\n    this.foo = foo;\n    this.date = new Date();\n  }\n}\n\ntry {\n  throw new CustomError('baz', 'bazMessage');\n} catch(e){\n  console.log(e.foo); //baz\n  console.log(e.message); //bazMessage\n  console.log(e.stack); //stacktrace\n}\n</code></pre>\n\n<p>For reference read more from official mdn documentation - <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error</a></p>\n"}], "owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 0, "accepted_answer_id": 53193415, "answer_count": 1, "score": 0, "last_activity_date": 1541607141, "creation_date": 1541606508, "last_edit_date": 1541606921, "question_id": 53193220, "link": "https://stackoverflow.com/questions/53193220/how-to-pass-error-back-to-caller-function-using-async", "title": "How to pass error back to caller function using async?", "body": "<p>right now i am throwing error if \"dateofBirth\" is not found that just sent empty object back to client , how can i pass error object back to client instead of empty object. basically want to send back to process catch</p>\n\n<p>main.ts</p>\n\n<pre><code>export class GetSpecialtyQuestionsController extends Controller {\n        public static async process(@Request() request: ExpressRequest,\n            response: ExpressResponse): Promise &lt; any &gt; {\n            try {\n                const instance = new GetSpecialtyQuestionsController();\n                const data = await instance.execute(request);\n                response.status(200);\n                response.send(data);\n            } catch (err) {\n                response.status(200);\n                response.send(err.message);\n            }\n\n        }\n\n        // private _request: IRequestURL[] = [];\n\n        constructor() {\n            super();\n        }\n\n        private async execute(@Request() request: ExpressRequest): Promise &lt; any &gt; {\n            // const specialtyMembers = this.getSpecialtyMemberInfoFakeObject();\n            const specialtyMembers = await new SpecialtyCacheUtility().getSpecialtyMemberInfoCache(\n                request.body.getSpecialtyQuestionsRequest.header.serviceContext.tokenID);\n            if (!specialtyMembers) {\n                return this.errorHandler(request);\n            }\n            let proxyMember: ISpecialtyInfoObj = {}\n            as ISpecialtyInfoObj;\n            for (const member of specialtyMembers) {\n                if (member.specialtyIdEnc === request.body.getSpecialtyQuestionsRequest.details.specialtyIdEnc) {\n                    proxyMember = member;\n                    if (!member.dateOfBirth) {\n                        throw new Error('no patient info for given HBS ID');\n                    }\n                    break;\n                }\n            }\n\n        }\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1541606106, "post_id": 53193049, "comment_id": 93275039, "body": "There&#39;s no operator for this. You can use <code>map</code> and compare it yourself."}, {"owner": {"reputation": 12455, "user_id": 5699993, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/5428464065272667ef39b9415d8e8722?s=128&d=identicon&r=PG&f=1", "display_name": "Picci", "link": "https://stackoverflow.com/users/5699993/picci"}, "edited": false, "score": 3, "creation_date": 1541608277, "post_id": 53193049, "comment_id": 93276269, "body": "If you are sure that the 2 arrays have always the same elements in the same order with respect to the key (e.g. the name in your example) you can look at the <code>zip</code> operator"}], "answers": [{"tags": [], "owner": {"reputation": 396, "user_id": 2986983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd401e99f4a7c5db597b2ddb3c316f5c?s=128&d=identicon&r=PG&f=1", "display_name": "johnheroy", "link": "https://stackoverflow.com/users/2986983/johnheroy"}, "is_accepted": true, "score": 1, "last_activity_date": 1546464005, "creation_date": 1546464005, "answer_id": 54013332, "question_id": 53193049, "link": "https://stackoverflow.com/questions/53193049/comparing-collection-keys-in-rxjs/54013332#54013332", "title": "Comparing collection keys in RxJS?", "body": "<p>You can try merging the two lists and then applying the <code>distinct</code> operator with a key selector function (to specify key is <code>\"name\"</code>) so that you get a stream of the de-duped items.</p>\n\n<p><a href=\"https://rxjs-dev.firebaseapp.com/api/operators/distinct\" rel=\"nofollow noreferrer\">https://rxjs-dev.firebaseapp.com/api/operators/distinct</a></p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 54013332, "answer_count": 1, "score": 0, "last_activity_date": 1546464005, "creation_date": 1541606035, "last_edit_date": 1541610462, "question_id": 53193049, "link": "https://stackoverflow.com/questions/53193049/comparing-collection-keys-in-rxjs", "title": "Comparing collection keys in RxJS?", "body": "<p>Wanted to see if RxJS has a quick / elegant way of doing this.  </p>\n\n<p>Suppose we have two different array of objects.  For example:</p>\n\n<p><code>A1</code>:</p>\n\n<pre><code>[{ name: 'Sue', age: 25 },\n{ name: 'Joe', age: 30 },\n{ name: 'Frank', age: 25 },\n{ name: 'Sarah', age: 35 }]\n</code></pre>\n\n<p><code>A2</code>:</p>\n\n<pre><code>[{ name: 'Sue', age: 25 },\n{ name: 'Frank', age: 25 },\n{ name: 'Joe', age: 30 },\n{ name: 'Sarah', age: 35 }]\n</code></pre>\n\n<p>The keys we want to compare are identified by the <code>name</code> property.  </p>\n\n<p>I was thinking about just producing two arrays of all the names filtering out the duplicates, and then comparing them to make sure they are equal, but thought perhaps <code>RxJS</code> has a slick way of doing this and could also emit an observable of any names that don't have a match?</p>\n"}, {"tags": ["node.js", "typescript", "logging", "electron", "child-process"], "comments": [{"owner": {"reputation": 1316, "user_id": 5378743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634a53a13a8a33706274e0f17c2c003e?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Starke", "link": "https://stackoverflow.com/users/5378743/roland-starke"}, "edited": false, "score": 1, "creation_date": 1541606659, "post_id": 53193039, "comment_id": 93275346, "body": "does <code>fs.appendFile(&#39;Back.log&#39;, &#39;test&#39;, console.log);</code> work?"}, {"owner": {"reputation": 23, "user_id": 6021468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6298aa541a71f2771c53c7eee1547b25?s=128&d=identicon&r=PG&f=1", "display_name": "Miswanting", "link": "https://stackoverflow.com/users/6021468/miswanting"}, "reply_to_user": {"reputation": 1316, "user_id": 5378743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634a53a13a8a33706274e0f17c2c003e?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Starke", "link": "https://stackoverflow.com/users/5378743/roland-starke"}, "edited": false, "score": 0, "creation_date": 1541652168, "post_id": 53193039, "comment_id": 93291690, "body": "@RolandStarke No, and there is no log on terminal."}, {"owner": {"reputation": 1931, "user_id": 6522713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EWd8s.jpg?s=128&g=1", "display_name": "Hai Pham", "link": "https://stackoverflow.com/users/6522713/hai-pham"}, "edited": false, "score": 0, "creation_date": 1541733334, "post_id": 53193039, "comment_id": 93326010, "body": "&quot;it will crash randomly&quot; Does it mean your electron app was crashed?"}, {"owner": {"reputation": 23, "user_id": 6021468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6298aa541a71f2771c53c7eee1547b25?s=128&d=identicon&r=PG&f=1", "display_name": "Miswanting", "link": "https://stackoverflow.com/users/6021468/miswanting"}, "reply_to_user": {"reputation": 1931, "user_id": 6522713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EWd8s.jpg?s=128&g=1", "display_name": "Hai Pham", "link": "https://stackoverflow.com/users/6522713/hai-pham"}, "edited": false, "score": 0, "creation_date": 1542093976, "post_id": 53193039, "comment_id": 93433806, "body": "@HaiPham No, in fact, my electron app is just alright but the program I executed will crash randomly"}, {"owner": {"reputation": 1931, "user_id": 6522713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EWd8s.jpg?s=128&g=1", "display_name": "Hai Pham", "link": "https://stackoverflow.com/users/6522713/hai-pham"}, "edited": false, "score": 0, "creation_date": 1542167104, "post_id": 53193039, "comment_id": 93467035, "body": "@Miswanting please use electron-log instead <a href=\"https://www.npmjs.com/package/electron-log\" rel=\"nofollow noreferrer\">npmjs.com/package/electron-log</a>"}], "owner": {"reputation": 23, "user_id": 6021468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6298aa541a71f2771c53c7eee1547b25?s=128&d=identicon&r=PG&f=1", "display_name": "Miswanting", "link": "https://stackoverflow.com/users/6021468/miswanting"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 432, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1541652939, "creation_date": 1541606008, "last_edit_date": 1541652713, "question_id": 53193039, "link": "https://stackoverflow.com/questions/53193039/node-js-spawn-child-process-and-get-terminal-output-to-log-realtime", "title": "Node.js spawn child process and get terminal output to log realtime", "body": "<p>I want to exec a program called 'Game.exe' with Node.js child_process, the program will print a number every second to terminal, but it will crash randomly.</p>\n\n<p>I want to log the output to a file called 'Back.log', but with the code I currently write, the log file will never be created. What`s the problem?</p>\n\n<pre><code>var game = child_process.spawn('Game.exe')\ngame.stdout.on('data', function (data) {\n    console.log(data);\n    fs.appendFile('Back.log', data.toString(), function (err) { })\n})\ngame.stderr.on('data', function (data) {\n    console.log(data);\n    fs.appendFile('Back.log', data.toString(), function (err) { })\n})\ngame.on('close', function (data) {\n    console.log(data);\n    fs.appendFile('Back.log', data.toString(), function (err) { })\n})\n</code></pre>\n\n<p>This code is positioned in electron main process, and is 3000ms delay by using <code>setTimeout(startScript, 3000)</code></p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 127, "user_id": 10591525, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uj4kJr9JO3M/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbB0YCoLdeKmjvsuAukirRVWk3iyng/mo/photo.jpg?sz=128", "display_name": "h-Reser", "link": "https://stackoverflow.com/users/10591525/h-reser"}, "edited": false, "score": 0, "creation_date": 1541631193, "post_id": 53194405, "comment_id": 93286770, "body": "It works perfectly. Thanks a lot, it&#39;s going to be a great help. I haven&#39;t played with type assertions yet, but maybe I should look into it. It seems to be quite a powerful tool."}], "tags": [], "owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "is_accepted": true, "score": 1, "last_activity_date": 1541610527, "creation_date": 1541610527, "answer_id": 53194405, "question_id": 53192751, "link": "https://stackoverflow.com/questions/53192751/typescript-index-signature-on-class-properties/53194405#53194405", "title": "Typescript: index signature on class properties", "body": "<p>There has been an <a href=\"https://github.com/Microsoft/TypeScript/issues/6480\" rel=\"nofollow noreferrer\">open issue on TypeScript's GitHub</a> for a few years around this. It doesn't seem to be possible to have a static index signature currently. </p>\n\n<p>I think the only way around this limitation is to help the compiler out by letting it know that your class has a static index signature by using a type assertion like below.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Indexable {\n  [key: string]: any;\n}\n\nclass MyClass {\n    ...\n    public getStaticProperty( propertyName: string ): number {\n      return (MyClass as Indexable)[propertyName];\n    }\n    ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 133, "user_id": 10763156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IJcNb.jpg?s=128&g=1", "display_name": "nbl7", "link": "https://stackoverflow.com/users/10763156/nbl7"}, "is_accepted": false, "score": 0, "last_activity_date": 1588874327, "creation_date": 1588874327, "answer_id": 61664581, "question_id": 53192751, "link": "https://stackoverflow.com/questions/53192751/typescript-index-signature-on-class-properties/61664581#61664581", "title": "Typescript: index signature on class properties", "body": "<p>Another solution can be:</p>\n\n<pre class=\"lang-typescript prettyprint-override\"><code>class MyClass {\n\n    public static myMethod(variable:any):string{\n\n    }\n\n}\n\ninterface Indexable {\n    [key:string]:any;\n}\n\nexport const MyExportedClass = MyClass as Indexable;\n\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 10591525, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uj4kJr9JO3M/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbB0YCoLdeKmjvsuAukirRVWk3iyng/mo/photo.jpg?sz=128", "display_name": "h-Reser", "link": "https://stackoverflow.com/users/10591525/h-reser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1950, "favorite_count": 1, "accepted_answer_id": 53194405, "answer_count": 2, "score": 4, "last_activity_date": 1588874327, "creation_date": 1541605126, "question_id": 53192751, "link": "https://stackoverflow.com/questions/53192751/typescript-index-signature-on-class-properties", "title": "Typescript: index signature on class properties", "body": "<p>I am getting an error about index signatures when trying to dynamically access my static and instantiated class properties. I've found a lot of people talking about this error online, but I've not yet been able to fix the issue.</p>\n\n<p>I was able to reproduce the issue on a simple class:</p>\n\n<pre><code>interface MyClassInterface {\n  name: string;\n  getInstanceProperty( propertyName: string ): string;\n  getStaticProperty( propertyName: string ): number;\n}\n\nclass MyClass implements MyClassInterface {\n\n  public name: string;\n\n  private static age: number;\n\n  public constructor( theName: string, theAge: number ) {\n\n    this.name = theName;\n    MyClass.age = theAge;\n\n  }\n\n  public getInstanceProperty( propertyName: string ): string {\n\n    return this[propertyName];\n    // Typescript error:\n    // Element implicitly has an 'any' type because type 'MyClass' has no index signature.\n\n  }\n\n  public getStaticProperty( propertyName: string ): number {\n\n    return MyClass[propertyName];\n    // Typescript error:\n    // Element implicitly has an 'any' type because type 'typeof MyClass' has no index signature.\n\n  }\n\n}\n\nconst myClass = new MyClass( \"John\", 35 );\n\nconsole.log(\n  myClass.getInstanceProperty( \"name\" ),\n  myClass.getStaticProperty( \"age\" )\n); // Outputs \"John 35\" in the console\n</code></pre>\n\n<p>I found that it is possible to avoid the error in getInstanceProperty() by adding a type information inside of the class as follows:</p>\n\n<pre><code>class MyClass implements MyClassInterface {\n  [key: string]: any;\n\n  // ...\n}\n</code></pre>\n\n<p>Is it possible to add this in the class interface? I haven't managed to do it yet.\nI suppose that I need a similar modification somewhere for the static properties, but I don't know how to do it. Any idea?</p>\n\n<p>I have reproduced this code in the <a href=\"http://www.typescriptlang.org/play/index.html#src=interface%20MyClassInterface%20%7B%0D%0A%20%20name%3A%20string%3B%0D%0A%20%20getInstanceProperty%3A%20any%3B%0D%0A%20%20getStaticProperty%3A%20any%3B%0D%0A%7D%0D%0A%0D%0Aclass%20MyClass%20implements%20MyClassInterface%20%7B%0D%0A%20%20%5Bkey%3A%20string%5D%3A%20any%3B%0D%0A%0D%0A%20%20public%20name%3A%20string%3B%0D%0A%20%20%0D%0A%20%20private%20static%20age%3A%20number%3B%0D%0A%0D%0A%20%20public%20constructor(%20theName%3A%20string%2C%20theAge%3A%20number%20)%20%7B%0D%0A%0D%0A%20%20%20%20this.name%20%3D%20theName%3B%0D%0A%20%20%20%20MyClass.age%20%3D%20theAge%3B%0D%0A%0D%0A%20%20%7D%0D%0A%0D%0A%20%20public%20getInstanceProperty(%20propertyName%3A%20string%20)%3A%20string%20%7B%0D%0A%0D%0A%20%20%20%20return%20this%5BpropertyName%5D%3B%0D%0A%0D%0A%20%20%7D%0D%0A%0D%0A%20%20public%20getStaticProperty(%20propertyName%3A%20string%20)%3A%20number%20%7B%0D%0A%0D%0A%20%20%20%20return%20MyClass%5BpropertyName%5D%3B%0D%0A%0D%0A%20%20%7D%0D%0A%0D%0A%7D%0D%0A%0D%0Aconst%20myClass%20%3D%20new%20MyClass(%20%22John%22%2C%2035%20)%3B%0D%0A%0D%0Aconsole.log(%0D%0A%20%20myClass.getInstanceProperty(%20%22name%22%20)%2C%0D%0A%20%20myClass.getStaticProperty(%20%22age%22%20)%0D%0A)%3B\" rel=\"nofollow noreferrer\">TypeScript Playground</a>. You just need to enable the noImplicitAny option to show the errors.</p>\n\n<p>Many thanks!</p>\n"}, {"tags": ["java", "json", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 2464, "user_id": 10581132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XmD0q.jpg?s=128&g=1", "display_name": "Kiril1512", "link": "https://stackoverflow.com/users/10581132/kiril1512"}, "is_accepted": true, "score": 0, "last_activity_date": 1571839528, "last_edit_date": 1571839528, "creation_date": 1542037954, "answer_id": 53265691, "question_id": 53192430, "link": "https://stackoverflow.com/questions/53192430/angular-http-response-is-undefined/53265691#53265691", "title": "Angular - http response is undefined", "body": "<p>So the main problem was the backend. It was returning a string and not an object.</p>\n\n<p>I used <a href=\"http://jsoneditoronline.org/\" rel=\"nofollow noreferrer\">JSON editor online</a> to validate the JSON and see that the response was not what I was expecting to get.</p>\n\n<p>So what I done was change the backend to return an array with objects and not with strings.</p>\n\n<p><strong>Update</strong>: Also what could be done is parse the string to objects.</p>\n"}], "owner": {"reputation": 2464, "user_id": 10581132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XmD0q.jpg?s=128&g=1", "display_name": "Kiril1512", "link": "https://stackoverflow.com/users/10581132/kiril1512"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 894, "favorite_count": 0, "accepted_answer_id": 53265691, "answer_count": 1, "score": 1, "last_activity_date": 1571839528, "creation_date": 1541604024, "last_edit_date": 1571839388, "question_id": 53192430, "link": "https://stackoverflow.com/questions/53192430/angular-http-response-is-undefined", "title": "Angular - http response is undefined", "body": "<p>I'm trying to make a http get request to my backend and it returns the following JSON:</p>\n\n<pre><code>    \"{\\\"instID\\\":\\\"2018#10#30\\\",\\\"procID\\\":1161006,\\\"threadNum\\\":0,\\\"status\\\":2}\",\n    \"{\\\"instID\\\":\\\"2018#10#30\\\",\\\"procID\\\":1161021,\\\"threadNum\\\":0,\\\"status\\\":2}\",\n    \"{\\\"instID\\\":\\\"2018#10#30\\\",\\\"procID\\\":1161031,\\\"threadNum\\\":0,\\\"status\\\":2}\"\n</code></pre>\n\n<p>I'm trying set it to my interface so latter I can display it in a HTML table. </p>\n\n<p><strong>Interface:</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export interface IliveLog {\n    instID: string;\n    procID: number;\n    threadNum: number;\n    status: number;\n}\n</code></pre>\n\n<p><strong>Backend http service:</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Injectable } from \"@angular/core\";\nimport 'rxjs/Rx';\nimport { Observable } from \"rxjs/Rx\";\nimport { HttpClient } from \"@angular/common/http\";\nimport { IliveLog } from \"../jobs/live-log/log.interface\";\n\n\n@Injectable()\nexport class BackEndService {\n    constructor(private http: HttpClient) { }\n\n    getAgentStatus(): Observable&lt;IliveLog[]&gt; {\n            return this.http.get&lt;IliveLog[]&gt;('http://localhost:8081/rms_agent/status');\n        }\n}\n</code></pre>\n\n<p><strong>live-log component:</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class LiveLogComponent implements OnInit {\n\nprivate dataMaster: IliveLog[] = new Array();//Observable&lt;IliveLog[]&gt;;\nprivate dataAgent: IliveLog[] = new Array();//Observable&lt;IliveLog[]&gt;;\n\nconstructor(private backend: BackEndService) { }\n\nngOnInit() {\n  setInterval(() =&gt; {\n    this.onGetMaster();\n    this.onGetAgent();\n  }, 500);\n}\n\nonGetAgent() {\n  this.backend.getAgentStatus().subscribe(\n    response =&gt; {\n\n      //apenas para ver como funciona\n      for (const i of response) {\n        console.log('instID: ' + i.instID);\n        console.log('procID: ' + i.procID);\n        console.log('threadNum: ' + i.threadNum);\n        console.log('status: ' + i.status);\n      }\n\n      for (let i=0; i&lt;response.length; i++)\n      {\n        this.dataAgent.push({instID: response[i].instID, procID: response[i].procID, threadNum: response[i].threadNum, status: response[i].status});\n        console.log(\"response[i].instID = \" + response[i].instID);\n      }\n\n      /* this.dataAgent = response;\n      console.log(\"Agent: \" + this.dataAgent); */\n    }\n  )\n}\n</code></pre>\n\n<p><strong>HTML:</strong></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;p&gt;Running on Agent:&lt;/p&gt;\n&lt;table border=\"1\"&gt;\n  &lt;thead&gt;\n    &lt;td&gt;instID&lt;/td&gt;\n    &lt;td&gt;procID&lt;/td&gt;\n    &lt;td&gt;threadNum&lt;/td&gt;\n    &lt;td&gt;status&lt;/td&gt;\n  &lt;/thead&gt;\n  &lt;tbody&gt;\n    &lt;tr *ngFor=\"let item of this.dataAgent\"&gt;\n      &lt;td&gt;{{item.instID}}&lt;/td&gt;\n      &lt;td&gt;{{item.procID}}&lt;/td&gt;\n      &lt;td&gt;{{item.threadNum}}&lt;/td&gt;\n      &lt;td&gt;{{item.status}}&lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/tbody&gt;\n&lt;/table&gt; \n\n &lt;p *ngIf=\"this.dataAgent\"&gt;{{ this.dataAgent }}&lt;/p&gt;\n&lt;button class=\"btn btn-success\" [disabled]=\"true\"&gt;start&lt;/button&gt;\n&lt;button class=\"btn btn-danger\" [disabled]=\"true\"&gt;kill&lt;/button&gt;\n&lt;button class=\"btn btn-info\" [disabled]=\"true\"&gt;log&lt;/button&gt;\n&lt;hr&gt;\n</code></pre>\n\n<p>My log says that the objects are undefined and I can't list them in my html table:\n<a href=\"https://i.stack.imgur.com/9ezjL.png\" rel=\"nofollow noreferrer\">Console LOG</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/YpXGo.png\" rel=\"nofollow noreferrer\">HTML table result</a></p>\n\n<p>Why I can't get my response in type to my interface? \nIs the backend the problem? </p>\n\n<p><a href=\"https://i.stack.imgur.com/Gglrd.png\" rel=\"nofollow noreferrer\">Example of console.log(response).</a></p>\n\n<p><strong>My JAVA backend code:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// pe/status\nstatic class StatusHandler implements HttpHandler {\n\n    ProcessManager pm;\n\n    public StatusHandler( ProcessManager pm ) {\n        this.pm = pm;\n    }\n\n    public void handle(HttpExchange httpExchange) {\n\n        try {        \n            // Get Processes status\n            HashMap&lt;String,ProcessTask&gt; currProcs = pm.getRunningProcs();\n\n            JSONArray rspBuilder = new JSONArray();\n\n\n            // If not empty\n            if ( !currProcs.isEmpty() ) {\n\n        // Iterate\n        Collection&lt;ProcessTask&gt; procList = currProcs.values();\n        if (procList != null &amp;&amp; !procList.isEmpty() ) {\n                    for (ProcessTask pt : procList) {\n\n                        JSONObject procBuilder = new JSONObject();\n\n                        procBuilder.put(\"procID\",pt.getProcID());\n                        procBuilder.put(\"instID\",pt.getInstID());\n                        procBuilder.put(\"threadNum\",pt.getThreadNum());\n                        procBuilder.put(\"status\",pt.getStatus());\n\n                        rspBuilder.put(procBuilder.toString());\n\n                    }\n                 }\n            }\n\n            // build response\n            String response = rspBuilder.toString();\n\n            httpExchange.getResponseHeaders().add(\"Access-Control-Allow-Origin\", \"*\");\n            httpExchange.sendResponseHeaders(200, response.length());\n            OutputStream os = httpExchange.getResponseBody();\n            os.write(response.getBytes());\n            os.close(); \n        } catch (Exception ex) {\n            LogUtils.log(LogUtils.LOG_ERROR,\"[ WS StatusHandler ]  Error Message - \" + ex.getMessage() );\n        }\n    }\n\n} \n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-reactive-forms", "angular7"], "answers": [{"tags": [], "owner": {"reputation": 392, "user_id": 3909681, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bdf047033560e92ec82c4294b0d56635?s=128&d=identicon&r=PG&f=1", "display_name": "Barzev", "link": "https://stackoverflow.com/users/3909681/barzev"}, "is_accepted": false, "score": 0, "last_activity_date": 1541603654, "creation_date": 1541603654, "answer_id": 53192315, "question_id": 53192208, "link": "https://stackoverflow.com/questions/53192208/reactive-forms-how-to-show-one-error-message-at-a-time/53192315#53192315", "title": "Reactive Forms How to show one error message at a time?", "body": "<p>If both errors are generated (because the input does not satisfy either of the validation rules), you could implement an ngIf-else switch to display whichever error you want first. <a href=\"https://toddmotto.com/angular-ngif-else-then#ngif-then-and-else\" rel=\"nofollow noreferrer\">An example of this can be found here.</a></p>\n"}, {"tags": [], "owner": {"reputation": 1058, "user_id": 6118353, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SykR7dnvK_U/AAAAAAAAAAI/AAAAAAAAACE/fK45qacuqWw/photo.jpg?sz=128", "display_name": "Ashish Yadav", "link": "https://stackoverflow.com/users/6118353/ashish-yadav"}, "is_accepted": false, "score": 0, "last_activity_date": 1541603880, "creation_date": 1541603880, "answer_id": 53192372, "question_id": 53192208, "link": "https://stackoverflow.com/questions/53192208/reactive-forms-how-to-show-one-error-message-at-a-time/53192372#53192372", "title": "Reactive Forms How to show one error message at a time?", "body": "<p>A logical operator will be helpful here. You can check if the one error is not valid and another is valid. Theory might be little bit confusing, here is the example below:</p>\n\n<pre><code>&lt;label for=\"email\" class=\"error-msg\" *ngIf=\"authForm.get('email').hasError('email')  &amp;&amp; hideFocus\"&gt;Your email is invalid&lt;/label&gt;\n&lt;label for=\"email\" class=\"error-msg\" *ngIf=\"!authForm.get('email').hasError('email') &amp;&amp; authForm.get('email').hasError('pattern')  &amp;&amp; hideFocus\"&gt;Only emails ending with .com .go and .jet are allowed&lt;/label&gt;\n</code></pre>\n\n<p>I haven't used reactive forms yet so you need to work with above syntax properly, I use <code>ngForm</code>. The simple logic behind this is to check if the one error is not valid and another is valid which will show one error at a time.</p>\n\n<p>An edit with correct syntax will be highly appreciated.</p>\n"}], "owner": {"reputation": 4054, "user_id": 2190986, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0c77e57abcda8e74326f8ea28a3101fe?s=128&d=identicon&r=PG&f=1", "display_name": "Skywalker", "link": "https://stackoverflow.com/users/2190986/skywalker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 405, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1541843437, "creation_date": 1541603293, "last_edit_date": 1541843437, "question_id": 53192208, "link": "https://stackoverflow.com/questions/53192208/reactive-forms-how-to-show-one-error-message-at-a-time", "title": "Reactive Forms How to show one error message at a time?", "body": "<p>Im using Angular 7 and have created a Reactive Form. The input field <code>email</code> has two validators set on it see below:</p>\n\n<pre><code>email: ['', [Validators.email, Validators.pattern('^[\\\\w._]+@company(.com|.go|.jet)')]],\n</code></pre>\n\n<p>Both validators have 2 errors messages in the template:</p>\n\n<pre><code>&lt;label for=\"email\" class=\"error-msg\" *ngIf=\"authForm.get('email').hasError('email')  &amp;&amp; hideFocus\"&gt;Your email is invalid&lt;/label&gt;\n&lt;label for=\"email\" class=\"error-msg\" *ngIf=\"authForm.get('email').hasError('pattern')  &amp;&amp; hideFocus\"&gt;Only emails ending with .com .go and .jet are allowed&lt;/label&gt;\n</code></pre>\n\n<p>When the user types in the input field both errors are displayed at the same time. </p>\n\n<p><strong>How can I display one error message at a time? Is it possible?</strong> </p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1541603326, "creation_date": 1541603326, "answer_id": 53192219, "question_id": 53192171, "link": "https://stackoverflow.com/questions/53192171/typescript-combine-mappable-indexable-type-and-property-both-with-the-same-val/53192219#53192219", "title": "Typescript : combine mappable indexable type and property both with the same value type in an interface", "body": "<p>You can use a mapped type (for the languages in <code>SupportedLanguagesUnion</code>) in an intersection (<code>&amp;</code>) with the a type that has the extra properties you require:</p>\n\n<pre><code>export type SupportedLanguagesUnion = 'fr' | 'es';\n\nexport interface Translation {\n    [word: string]: {\n        default: string;\n    } &amp; {\n        [language in SupportedLanguagesUnion]?: string;\n    }\n}\n\nconst translationDictionary: Translation = {\n    hello: {\n        default: 'hello',\n        fr: 'bonjour',\n        es: 'hola'\n    }\n};\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 5049209, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/SvXww.png?s=128&g=1", "display_name": "ashtrail", "link": "https://stackoverflow.com/users/5049209/ashtrail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 53192219, "answer_count": 1, "score": 0, "last_activity_date": 1541603326, "creation_date": 1541603166, "question_id": 53192171, "link": "https://stackoverflow.com/questions/53192171/typescript-combine-mappable-indexable-type-and-property-both-with-the-same-val", "title": "Typescript : combine mappable indexable type and property both with the same value type in an interface", "body": "<p>I'm wondering if there is a clean way to combine a mappable indexable type with a property of the same value type in an interface.</p>\n\n<p>Here is an example where this would be useful.</p>\n\n<pre><code>export type SupportedLanguagesUnion = 'fr' | 'es';\n\nexport interface Translation {\n    [word: string]: {\n        default: string;\n        [language in SupportedLanguagesUnion]?: string;\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>import { Translation } from './example';\n\nconst translationDictionary: Translation = {\n    hello: {\n        default: 'hello',\n        fr: 'bonjour',\n        es: 'hola'\n    }\n};\n</code></pre>\n\n<p>This interface would ensure that there is no unsupported languages but always a default value.</p>\n\n<p>Unfortunately this code isn't valid typescript. I guess the problem lies in the conflict between default and language both having the same value type.</p>\n\n<p>For the moment I have to  replace the interface with the less secure</p>\n\n<pre><code>export interface Translation {\n    [word: string]: {\n        default: string;\n        [language: string]: string;\n    }\n}\n</code></pre>\n\n<p>that would accept the following code</p>\n\n<pre><code>const translationDictionary: Translation = {\n    hello: {\n        default: \"hello\",\n        foo: 'bar'\n    }\n};\n</code></pre>\n\n<p>I could also add <code>'default'</code> as a value in the <code>SupportedLanguagesUnion</code> but then it would become optional.</p>\n\n<p>Is there a way to write this interface in order to keep both checks ?</p>\n"}, {"tags": ["typescript", "typescript-typings"], "answers": [{"comments": [{"owner": {"reputation": 6408, "user_id": 2436109, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/1r3JK.png?s=128&g=1", "display_name": "tenbits", "link": "https://stackoverflow.com/users/2436109/tenbits"}, "edited": false, "score": 0, "creation_date": 1541604011, "post_id": 53192064, "comment_id": 93273698, "body": "Thank you, but unfortunately this creates chainings, but I need to mix two different classes, so I can&#39;t modify them, to create something like <code>Flies</code>, <code>Climbs</code>."}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 1, "last_activity_date": 1541602831, "creation_date": 1541602831, "answer_id": 53192064, "question_id": 53191711, "link": "https://stackoverflow.com/questions/53191711/type-annotations-how-to-inherit-from-a-mixin-of-several-classes-and-preserve-st/53192064#53192064", "title": "Type annotations: How to inherit from a Mixin of several classes and preserve static methods?", "body": "<p>I can't see your mixin mechanism... but it looks like the original version, rather than the updated version.</p>\n\n<p>The example below taken from <a href=\"https://www.stevefenton.co.uk/2018/11/typescript-mixins-part-three/\" rel=\"nofollow noreferrer\">TypeScript Mixins Part Three</a> shows that static properties are handled in terms of the types and the runtime behaviour when you use this method of creating mixins.</p>\n\n<h1>Mixins with Static Members</h1>\n\n<pre><code>type Constructor&lt;T = {}&gt; = new (...args: any[]) =&gt; T;\n\nfunction Flies&lt;TBase extends Constructor&gt;(Base: TBase) {\n    return class extends Base {\n        static altitude = 100;\n        fly() {\n            console.log('Is it a bird? Is it a plane?');\n        }\n    };\n}\n\nfunction Climbs&lt;TBase extends Constructor&gt;(Base: TBase) {\n    return class extends Base {\n        static stickyHands = true;\n        climb() {\n            console.log('My spider-sense is tingling.');\n        }\n    };\n}\n\nclass Hero {\n    constructor(private name: string) {\n\n    }\n}\n\nconst HorseFlyWoman = Climbs(Flies(Hero));\n\nconst superhero = new HorseFlyWoman('Shelley');\nsuperhero.climb();\nsuperhero.fly();\n\nconsole.log(HorseFlyWoman.stickyHands);\nconsole.log(HorseFlyWoman.altitude);\n</code></pre>\n\n<h1>Runnable Version</h1>\n\n<p>Here is the transpiled version so you can see the output:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var __extends = (this &amp;&amp; this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array &amp;&amp; function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nfunction Flies(Base) {\r\n    var _a;\r\n    return _a = /** @class */ (function (_super) {\r\n            __extends(class_1, _super);\r\n            function class_1() {\r\n                return _super !== null &amp;&amp; _super.apply(this, arguments) || this;\r\n            }\r\n            class_1.prototype.fly = function () {\r\n                console.log('Is it a bird? Is it a plane?');\r\n            };\r\n            return class_1;\r\n        }(Base)),\r\n        _a.altitude = 100,\r\n        _a;\r\n}\r\nfunction Climbs(Base) {\r\n    var _a;\r\n    return _a = /** @class */ (function (_super) {\r\n            __extends(class_2, _super);\r\n            function class_2() {\r\n                return _super !== null &amp;&amp; _super.apply(this, arguments) || this;\r\n            }\r\n            class_2.prototype.climb = function () {\r\n                console.log('My spider-sense is tingling.');\r\n            };\r\n            return class_2;\r\n        }(Base)),\r\n        _a.stickyHands = true,\r\n        _a;\r\n}\r\nvar Hero = /** @class */ (function () {\r\n    function Hero(name) {\r\n        this.name = name;\r\n    }\r\n    return Hero;\r\n}());\r\nvar HorseFlyWoman = Climbs(Flies(Hero));\r\nvar superhero = new HorseFlyWoman('Shelley');\r\nsuperhero.climb();\r\nsuperhero.fly();\r\nconsole.log(HorseFlyWoman.stickyHands);\r\nconsole.log(HorseFlyWoman.altitude);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 6408, "user_id": 2436109, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/1r3JK.png?s=128&g=1", "display_name": "tenbits", "link": "https://stackoverflow.com/users/2436109/tenbits"}, "edited": false, "score": 0, "creation_date": 1541603824, "post_id": 53192164, "comment_id": 93273571, "body": "Wow, that&#39;s it. Do you know why <code>T1 &amp; T2 &amp; (new(...args: any[]) =&gt; (InstanceType&lt;T1&gt; &amp; InstanceType&lt;T2&gt;))</code> doesn&#39;t work, <code>mixin(A, B)</code> shows the error from question? But when <code>T1 &amp; T2</code> are at the end, everything works. Thanks."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 6408, "user_id": 2436109, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/1r3JK.png?s=128&g=1", "display_name": "tenbits", "link": "https://stackoverflow.com/users/2436109/tenbits"}, "edited": false, "score": 0, "creation_date": 1541603903, "post_id": 53192164, "comment_id": 93273625, "body": "@tenbits not 100% sure why.. I&#39;d have to look at the compiler code.. I found that weird too :)."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1541603134, "creation_date": 1541603134, "answer_id": 53192164, "question_id": 53191711, "link": "https://stackoverflow.com/questions/53191711/type-annotations-how-to-inherit-from-a-mixin-of-several-classes-and-preserve-st/53192164#53192164", "title": "Type annotations: How to inherit from a Mixin of several classes and preserve static methods?", "body": "<p>You can keep you original <code>mixin</code> function as is, and just intersect the constructor you return with <code>T1</code> and <code>T2</code></p>\n\n<pre><code>class A {\n    a!: string\n    static staticA: string\n}\nclass B {\n    b!: string\n    static staticB: string\n}\nclass C extends mixin(A, B) {\n    c!: string\n    static staticC: string\n}\n\ninterface Constructor&lt;T = {}&gt; {\n    new(...args: any[]): T;\n}\n\ndeclare function mixin&lt;T1 extends Constructor, T2 extends Constructor&gt;(\n    mix1: T1,\n    mix2: T2\n): {\n    new(...args: any[]): (InstanceType&lt;T1&gt; &amp; InstanceType&lt;T2&gt;)\n} &amp; T1 &amp; T2\n\nC.staticA\nC.staticB\nC.staticC\nlet c = new C;\nc.a\nc.b\nc.c\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=class%20A%20%7B%0D%0A%20%20%20%20a!%3A%20string%0D%0A%20%20%20%20static%20staticA%3A%20string%0D%0A%7D%0D%0Aclass%20B%20%7B%0D%0A%20%20%20%20b!%3A%20string%0D%0A%20%20%20%20static%20staticB%3A%20string%0D%0A%7D%0D%0Aclass%20C%20extends%20mixin(A%2C%20B)%20%7B%0D%0A%20%20%20%20c!%3A%20string%0D%0A%20%20%20%20static%20staticC%3A%20string%0D%0A%7D%0D%0A%0D%0Ainterface%20Constructor%3CT%20%3D%20%7B%7D%3E%20%7B%0D%0A%20%20%20%20new(...args%3A%20any%5B%5D)%3A%20T%3B%0D%0A%7D%0D%0A%0D%0Adeclare%20function%20mixin%3CT1%20extends%20Constructor%2C%20T2%20extends%20Constructor%3E(%0D%0A%20%20%20%20mix1%3A%20T1%2C%0D%0A%20%20%20%20mix2%3A%20T2%0D%0A)%3A%20%7B%0D%0A%20%20%20%20new(...args%3A%20any%5B%5D)%3A%20(InstanceType%3CT1%3E%20%26%20InstanceType%3CT2%3E)%0D%0A%7D%20%26%20T1%20%26%20T2%0D%0AC.staticA%0D%0AC.staticB%0D%0AC.staticC%0D%0Alet%20c%20%3D%20new%20C%3B%0D%0Ac.a%0D%0Ac.b%0D%0Ac.c%0D%0A%0D%0A\" rel=\"nofollow noreferrer\">Playground link</a></p>\n\n<p>You mention you tried <code>T1 &amp; T2</code> the problem with that approach is that would not change the constructor to return <code>(InstanceType&lt;T1&gt; &amp; InstanceType&lt;T2&gt;)</code>. You must add this new signature to the constructor and the original classes as well.</p>\n"}], "owner": {"reputation": 6408, "user_id": 2436109, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/1r3JK.png?s=128&g=1", "display_name": "tenbits", "link": "https://stackoverflow.com/users/2436109/tenbits"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 575, "favorite_count": 0, "accepted_answer_id": 53192164, "answer_count": 2, "score": 2, "last_activity_date": 1541605016, "creation_date": 1541601759, "last_edit_date": 1541605016, "question_id": 53191711, "link": "https://stackoverflow.com/questions/53191711/type-annotations-how-to-inherit-from-a-mixin-of-several-classes-and-preserve-st", "title": "Type annotations: How to inherit from a Mixin of several classes and preserve static methods?", "body": "<blockquote>\n  <p>It is only the ts annotation problem, in js runtime works everything as expected.</p>\n</blockquote>\n\n<p>For a multiple inheritance/mixin, we have a runtime method which takes classes/objects and creates compound(mixed) class.</p>\n\n<pre><code>class A {\n    a: string\n    static staticA: string\n}\nclass B {\n    b: string\n    static staticB: string\n}\nclass C extends mixin(A, B) {\n    c: string\n    static staticC: string\n}\n</code></pre>\n\n<p>So our <code>mixin</code> method creates the mixed class which the <code>C</code> inherits. Now we have some annotation problems. Simple <code>mixin</code> declaration looks like this (<em>actually, <code>mixin</code> accepts also objects for <code>T1</code> and <code>T2</code>, but to make it simple I removed it from code</em>):</p>\n\n<pre><code>interface Constructor&lt;T = {}&gt; {\n    new (...args: any[]): T;    \n}\n\ndeclare function mixin&lt;T1 extends Constructor, T2 extends Constructor&gt; (\n    mix1: T1, \n    mix2: T2\n): new (...args) =&gt; (InstanceType&lt;T1&gt; &amp; InstanceType&lt;T2&gt;)\n</code></pre>\n\n<p>Unfortunately, the type returned by <code>mixin</code> looses static methods for <code>T1</code> and <code>T2</code>. </p>\n\n<pre><code>C. /* only 'staticC' is present in autocomplete */\nlet c = new C;\nc. /* all - 'a', 'b' and 'c' are present in autocomplete */\n</code></pre>\n\n<p>I also tried to return the type <code>T1 &amp; T2</code>, but get the error in <code>mixin(A, B)</code></p>\n\n<blockquote>\n  <p>[ts] Base constructors must all have the same return type.</p>\n</blockquote>\n\n<p>Is there any solution for this?</p>\n\n<hr>\n\n<h2>Final Solution</h2>\n\n<p>Thanks to @titian-cernicova-dragomir. I'm adding here my final solution, I have extended the annotation to support also objects, not only classes, hopefully it will be helpful for somebody.</p>\n\n<pre><code>// Extract static methods from a function (constructor)\ntype Statics&lt;T&gt; = {\n    [P in keyof T]: T[P];\n}\n\ndeclare function mixin&lt;\n    T1 extends Constructor | object, \n    T2 extends Constructor | object,\n    T3 extends Constructor | object = {},\n    T4 extends Constructor | object = {},\n    &gt; (\n        mix1: T1,\n        mix2: T2,\n        mix3?: T3,\n        mix4?: T4,\n    ): \n    (T1 extends Constructor ? Statics&lt;T1&gt; : {}) &amp; \n    (T2 extends Constructor ? Statics&lt;T2&gt; : {}) &amp;\n    (T3 extends Constructor ? Statics&lt;T3&gt; : {}) &amp;\n    (T4 extends Constructor ? Statics&lt;T4&gt; : {}) &amp;\n    (new (...args: T1 extends Constructor ? ConstructorParameters&lt;T1&gt; : never[]) =&gt;\n        (T1 extends Constructor ? InstanceType&lt;T1&gt; : T1) &amp;\n        (T2 extends Constructor ? InstanceType&lt;T2&gt; : T2) &amp;\n        (T3 extends Constructor ? InstanceType&lt;T3&gt; : T3) &amp;\n        (T4 extends Constructor ? InstanceType&lt;T4&gt; : T4)\n    );\n\n\n\nclass A {\n    a: string\n    static staticA: string\n}\nclass B {\n    b: string\n    static staticB: string\n}\nconst Utils = {\n    log () {}\n}\nclass C extends mixin(A, B, Utils) {\n    c: string\n    static staticC: string\n}\nC. // has 'staticA', 'staticB', 'staticC'\nlet c = new C;\nc. // has 'a', 'b', 'c', 'log'\n</code></pre>\n\n<p>I have also added arguments support from the first class's constructor (if any).  </p>\n\n<p><code>...args: T1 extends Constructor ? ConstructorParameters&lt;T1&gt; : never[]</code>. </p>\n\n<p>Unfortunately, I couldn't find the solution to make the <code>mixin</code> annotation to support any number of arguments, currently I made 4, as it is enough for my case. Though our js <code>mixin</code> can accept any number of classes/objects to create mixed class.</p>\n"}, {"tags": ["javascript", "typescript", "firebase", "ionic-framework", "firebase-realtime-database"], "comments": [{"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1541604529, "post_id": 53191586, "comment_id": 93274062, "body": "I&#39;m not sure I understand. But if you don&#39;t want to exit the loop, don&#39;t use <code>return</code> in there."}, {"owner": {"reputation": 165, "user_id": 9253041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a13c5321de38d863385ef63f4cead084?s=128&d=identicon&r=PG&f=1", "display_name": "nyx97", "link": "https://stackoverflow.com/users/9253041/nyx97"}, "reply_to_user": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1541605815, "post_id": 53191586, "comment_id": 93274859, "body": "@FrankvanPuffelen if i will do that the loop will continue without trying to query in the firebase, the code must execute like this loop-&gt;query-&gt;if exists break;else-&gt;loop"}], "answers": [{"tags": [], "owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "is_accepted": true, "score": 0, "last_activity_date": 1541607045, "creation_date": 1541607045, "answer_id": 53193395, "question_id": 53191586, "link": "https://stackoverflow.com/questions/53191586/prevent-loop-from-stopping-without-having-result-from-the-query-function-firebas/53193395#53193395", "title": "Prevent loop from stopping without having result from the query function firebase", "body": "<p>I think you're trying to find the first user identification in the array that already exists in the database. If that's the case, it'd be something like this:</p>\n\n<pre><code>function findMatch(ids, callback) {\n  var id = ids.shift;\n  this.loginFiredatabase.ref('users/' + this.loginIdentification[counter] + '/' + authData.uid)\n      .once('value', function(snapshot) {\n        if (snapshot.exists()) {\n          callback(snapshot);\n        else if (ids.length &gt; 0) {\n          findMatch(ids, callback);\n        }\n        else {\n          callback();\n        }\n      });\n}\n</code></pre>\n\n<p>The trick about this function is that it checks one ID from the array at a time. Since data is loaded from Firebase asynchronously, it waits until it gets a result before trying the next item.</p>\n\n<p>You'd call it like:</p>\n\n<pre><code>findMatch(['bfp','ndrmmc','pnp','rta'], function(result) {\n  if (result) {\n    console.log(\"Found match: \"+result.val());\n  }\n  else {\n    console.log(\"No match found\");\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 9253041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a13c5321de38d863385ef63f4cead084?s=128&d=identicon&r=PG&f=1", "display_name": "nyx97", "link": "https://stackoverflow.com/users/9253041/nyx97"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 53193395, "answer_count": 1, "score": 0, "last_activity_date": 1541607045, "creation_date": 1541601347, "question_id": 53191586, "link": "https://stackoverflow.com/questions/53191586/prevent-loop-from-stopping-without-having-result-from-the-query-function-firebas", "title": "Prevent loop from stopping without having result from the query function firebase", "body": "<p>So I query a set of nodes in firebase in order to get a value depends if the id inputted is exists, problem here is after the function returns the for loop stops looping though the return will exits a loop. So what would be the best way on querying data synchronously without stopping the loop after a return called. Hope someone helps snippet of the code attached below</p>\n\n<pre><code>     loginIdentification = ['bfp','ndrmmc','pnp','rta'];\nfor (var counter = 0; counter &lt; this.loginIdentification.length; counter++) { // loop the possible place of the data\n              console.log('loop',counter);\n              return this.loginFiredatabase.ref('users/' + this.loginIdentification[counter] + '/' + authData.uid).on('value', (snapshot) =&gt; { // authdata.uid is the id of the user\n                console.log('await');\n                  if(snapshot.exists()) {\n                    console.log(JSON.stringify(snapshot));\n                    return snapshot;\n                  }\n                  else {\n                    console.log('not exists');\n                  }\n                });\n              }\n</code></pre>\n"}, {"tags": ["angular", "rest", "typescript", "ionic-framework", "promise"], "answers": [{"tags": [], "owner": {"reputation": 165, "user_id": 9253041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a13c5321de38d863385ef63f4cead084?s=128&d=identicon&r=PG&f=1", "display_name": "nyx97", "link": "https://stackoverflow.com/users/9253041/nyx97"}, "is_accepted": false, "score": 0, "last_activity_date": 1541601779, "creation_date": 1541601779, "answer_id": 53191719, "question_id": 53191538, "link": "https://stackoverflow.com/questions/53191538/how-to-return-value-in-then/53191719#53191719", "title": "How to return value in then()", "body": "<p>If you change from this <code>loginPromise(): Promise&lt;{}&gt;</code> into something simple like this <code>loginPromise(){</code> I think it still returning a value</p>\n"}, {"comments": [{"owner": {"reputation": 123, "user_id": 7052690, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JRIqy.png?s=128&g=1", "display_name": "Puremonk", "link": "https://stackoverflow.com/users/7052690/puremonk"}, "edited": false, "score": 1, "creation_date": 1541602917, "post_id": 53191723, "comment_id": 93272935, "body": "this worked! Also, at the consumer I added another <code>.then(()=&gt; { &#47;&#47;do stuff });</code> so that code would only be fired after the previous bit finished."}], "tags": [], "owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "is_accepted": true, "score": 3, "last_activity_date": 1541601796, "creation_date": 1541601796, "answer_id": 53191723, "question_id": 53191538, "link": "https://stackoverflow.com/questions/53191538/how-to-return-value-in-then/53191723#53191723", "title": "How to return value in then()", "body": "<p>You <code>login</code> function can't return <code>User</code> object directly, it has to return <code>Promise&lt;User&gt;</code> object because it gets <code>user</code> object asynchronously.</p>\n\n<pre><code>login(user: User): Promise&lt;User&gt; {\n  this.user = user;\n  //in between I fill some fields for the user\n  return this.loginPromise()\n  .catch(err =&gt; {\n    console.log(err);\n  });\n}\n</code></pre>\n\n<p>And then the consumer function will call <code>login</code> function and use <code>.then</code> to get the <code>user</code> value retrieved from the Server.</p>\n\n<pre><code>this.login().then(\n  user =&gt; console.log(user);\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2478, "user_id": 10430329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mhmaV.png?s=128&g=1", "display_name": "Artyom Amiryan", "link": "https://stackoverflow.com/users/10430329/artyom-amiryan"}, "is_accepted": false, "score": 1, "last_activity_date": 1541601848, "creation_date": 1541601848, "answer_id": 53191736, "question_id": 53191538, "link": "https://stackoverflow.com/questions/53191538/how-to-return-value-in-then/53191736#53191736", "title": "How to return value in then()", "body": "<p>you can't return from <code>.then</code>, an option you can use here is to use <code>async await</code>, but in this case your <code>login</code> function will return <code>promise</code>, so you will need to call <code>.then</code> on login  when you will call <code>login</code> function</p>\n\n<pre><code>async login(user: User): Promise&lt;User&gt; {\n  this.user = user;\n\n  return await this.loginPromise();\n}\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 7052690, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JRIqy.png?s=128&g=1", "display_name": "Puremonk", "link": "https://stackoverflow.com/users/7052690/puremonk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5031, "favorite_count": 0, "accepted_answer_id": 53191723, "answer_count": 3, "score": 2, "last_activity_date": 1541601903, "creation_date": 1541601206, "question_id": 53191538, "link": "https://stackoverflow.com/questions/53191538/how-to-return-value-in-then", "title": "How to return value in then()", "body": "<p>I know similar questions have been asked. But I will explain the difference.</p>\n\n<p>I have a function called <code>login()</code> that needs to return a User. This function calls another function which makes a call to my backend. The <code>login()</code> function needs to wait for a promise to finish before returning the User. The problem is, if I put the return in the <code>then()</code> it will say: </p>\n\n<blockquote>\n  <p>[ts] A function whose declared type is neither 'void' nor 'any' must\n  return a value.</p>\n</blockquote>\n\n<p>It needs to be returned because the function calling it will need the JWT of the User.</p>\n\n<hr>\n\n<p>Simplified code:</p>\n\n<pre><code>login(user: User): User {\n  this.user = user;\n  //in between I fill some fields for the user\n  this.loginPromise().then(user =&gt; {\n    return user;\n  })\n  .catch(err =&gt; {\n    console.log(err);\n    //it doesn't make a difference wether I return a user here or not\n}\n\nloginPromise(): Promise&lt;{}&gt; {\n var promise = new Promise(function(resolve, reject) {\n  this.restProvider.login(this.user)\n  .subscribe(result =&gt; {\n    const jwt = result.headers.get('JWT');\n    const config = { ... result.body };\n    if(config['result'] != 'failed'){\n      this.user.$JsonWebToken = jwt;\n      this.user.$passwordIsValid = true;\n      this.user.$usernameIsValid = true;\n      resolve(this.user);\n    }\n  }, err =&gt; {\n    console.log(\"error: \" + err);\n    reject(err);\n  });\n })\n return promise;\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "class", "generics"], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 3314345, "user_type": "registered", "profile_image": "https://graph.facebook.com/1086400638/picture?type=large", "display_name": "user3314345", "link": "https://stackoverflow.com/users/3314345/user3314345"}, "edited": false, "score": 0, "creation_date": 1541604728, "post_id": 53191359, "comment_id": 93274198, "body": "Thanks for the answer, &lt;T extends { exampleMethod() }&gt; i extended it but still get this error: TS2345: Argument of type &#39;typeof ImportedClass&#39; is not assignable to parameter of type &#39;{ exampleMethod(): any; }&#39;.   Property &#39;exampleMethod&#39; is missing in type &#39;typeof ImportedClass&#39;.   Again thanks."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 29, "user_id": 3314345, "user_type": "registered", "profile_image": "https://graph.facebook.com/1086400638/picture?type=large", "display_name": "user3314345", "link": "https://stackoverflow.com/users/3314345/user3314345"}, "edited": false, "score": 0, "creation_date": 1541604816, "post_id": 53191359, "comment_id": 93274245, "body": "@user3314345 Your parameter to the constructor of <code>Simulator</code> was <code>T</code> you want it to be the constructor (<code>GenericInterface&lt;T&gt;</code>), check my sample code and the playground link."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1541600597, "creation_date": 1541600597, "answer_id": 53191359, "question_id": 53191274, "link": "https://stackoverflow.com/questions/53191274/pass-class-as-generic-parameter-typescript/53191359#53191359", "title": "Pass class as generic parameter Typescript", "body": "<p>If <code>T</code> must have a method named <code>exampleMethod</code> you must include this in the constraint for <code>T</code> on <code>Simulator</code> to be able to use it inside <code>Simulator</code>:</p>\n\n<pre><code>export class ImportedClass {\n    public constructor(something: any) {\n    }\n    public async exampleMethod() {\n        return \"hey\";\n    }\n}\n\ninterface GenericInterface&lt;T&gt; {\n    new(something: any): T;\n}\n\nexport class Simulator&lt;T extends { exampleMethod(): Promise&lt;string&gt; }&gt; {\n    public constructor(private c: GenericInterface&lt;T&gt;) {\n    }\n    async work() {\n        const instanceTry = new this.c(\"hello\");\n        await instanceTry.exampleMethod();\n    }\n}\nconst simulator = new Simulator(ImportedClass);\nsimulator.work()\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=export%20class%20ImportedClass%20%7B%0D%0A%20%20%20%20public%20constructor(something%3A%20any)%20%7B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20public%20async%20exampleMethod()%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20%22hey%22%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Ainterface%20GenericInterface%3CT%3E%20%7B%0D%0A%20%20%20%20new(something%3A%20any)%3A%20T%3B%0D%0A%7D%0D%0A%0D%0Aexport%20class%20Simulator%3CT%20extends%20%7B%20exampleMethod()%3A%20Promise%3Cstring%3E%20%7D%3E%20%7B%0D%0A%20%20%20%20public%20constructor(private%20c%3A%20GenericInterface%3CT%3E)%20%7B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20async%20work()%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20instanceTry%20%3D%20new%20this.c(%22hello%22)%3B%0D%0A%20%20%20%20%20%20%20%20await%20instanceTry.exampleMethod()%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0Aconst%20simulator%20%3D%20new%20Simulator(ImportedClass)%3B%0D%0Asimulator.work()\" rel=\"nofollow noreferrer\">Playground link</a></p>\n\n<p>There were other small issues that needed to be fixed to make the snippet above work, but that is the mai issue.</p>\n"}], "owner": {"reputation": 29, "user_id": 3314345, "user_type": "registered", "profile_image": "https://graph.facebook.com/1086400638/picture?type=large", "display_name": "user3314345", "link": "https://stackoverflow.com/users/3314345/user3314345"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 541, "favorite_count": 0, "accepted_answer_id": 53191359, "answer_count": 1, "score": 1, "last_activity_date": 1541601365, "creation_date": 1541600274, "last_edit_date": 1541601365, "question_id": 53191274, "link": "https://stackoverflow.com/questions/53191274/pass-class-as-generic-parameter-typescript", "title": "Pass class as generic parameter Typescript", "body": "<p>im trying to instance a class passed as parameter to another, I have this in one file, ImportedClass.ts:</p>\n\n<pre><code>export default class ImportedClass {\n  public constructor(something: any) {\n  }\n  public async exampleMethod() {\n    return \"hey\";\n  }\n}\n</code></pre>\n\n<p>And this in another, InstanceClass.ts:</p>\n\n<pre><code>interface GenericInterface&lt;T&gt; {\n  new(something: any): T;\n}\n\nexport default class InstanceClass &lt;T&gt; {\n  private c: GenericInterface&lt;T&gt;;\n  public constructor(c: T) {\n  }\n  async work() {\n    const instanceTry = new this.c(\"hello\");\n    instanceTry.exampleMethod();\n  }\n}\n</code></pre>\n\n<p>And this in another, ClassCaller.ts: &lt;--EDITED--></p>\n\n<pre><code>import ImportedClass from './ImportedClass';\nimport ImportedClass from './InstanceClass';\n\nconst simulator = new InstanceClass &lt;ImportedClass&gt;(ImportedClass);\n</code></pre>\n\n<p>Then when I call it like this:</p>\n\n<pre><code>simulator.work();\n</code></pre>\n\n<p>It throw this error:</p>\n\n<pre><code>error TS2339: Property 'exampleMethod' does not exist on type 'T'.\n</code></pre>\n\n<p>Any help is welcome, thanks.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 0, "creation_date": 1541599631, "post_id": 53191054, "comment_id": 93270903, "body": "Could you enable it just before you change the height to <code>auto</code> and then disable it once you set the height?"}, {"owner": {"reputation": 1, "user_id": 10584343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f332ecffc1d68dad168f10e84935dde0?s=128&d=identicon&r=PG&f=1", "display_name": "Jari S", "link": "https://stackoverflow.com/users/10584343/jari-s"}, "reply_to_user": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 0, "creation_date": 1541600040, "post_id": 53191054, "comment_id": 93271121, "body": "I have tried that previously and it didn&#39;t work. I have found something weird though, I&#39;m going to update my post in a minute."}, {"owner": {"reputation": 1, "user_id": 10584343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f332ecffc1d68dad168f10e84935dde0?s=128&d=identicon&r=PG&f=1", "display_name": "Jari S", "link": "https://stackoverflow.com/users/10584343/jari-s"}, "reply_to_user": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 0, "creation_date": 1541600912, "post_id": 53191054, "comment_id": 93271625, "body": "Updated the post."}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 0, "creation_date": 1541601534, "post_id": 53191054, "comment_id": 93271984, "body": "I have created a little JSFiddle... perhaps you can come up with a version of this that shows your problem? <a href=\"https://jsfiddle.net/tme2c0sa/5/\" rel=\"nofollow noreferrer\">jsfiddle.net/tme2c0sa/5</a>"}, {"owner": {"reputation": 1, "user_id": 10584343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f332ecffc1d68dad168f10e84935dde0?s=128&d=identicon&r=PG&f=1", "display_name": "Jari S", "link": "https://stackoverflow.com/users/10584343/jari-s"}, "reply_to_user": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 0, "creation_date": 1541603535, "post_id": 53191054, "comment_id": 93273386, "body": "I&#39;m going home right now from my job, tomorrow when I&#39;m back ill be trying that. I find it a bit hard to simulate a FormGroup and I&#39;m not too experienced at JavaScript/Typescript and angular."}], "owner": {"reputation": 1, "user_id": 10584343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f332ecffc1d68dad168f10e84935dde0?s=128&d=identicon&r=PG&f=1", "display_name": "Jari S", "link": "https://stackoverflow.com/users/10584343/jari-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541600893, "creation_date": 1541599447, "last_edit_date": 1541600893, "question_id": 53191054, "link": "https://stackoverflow.com/questions/53191054/adapt-disabled-textarea-height-to-content", "title": "Adapt disabled textarea height to content", "body": "<p>I need to adapt a disabled textarea's height to it's preexisting content.\nI already have a working solution for non disabled textarea's but if I apply the following solution to the one with the preexisting text the size of the textarea is twice as big as it needs to be.\nOnly after manually enabling again and pressing a random key it adapts correctly.\nI have tried to fix it by dispatching an input event but this also results into the textarea getting twice as big as it needs to be.</p>\n\n<p>Code:</p>\n\n<pre><code>textAreaAdjust(textArea: HTMLTextAreaElement) {\ntextArea.style.height = 'auto';\ntextArea.style.height = textArea.scrollHeight + 'px';\n}\n</code></pre>\n\n<p>My current \"solution\" is just dividing the scroll height by two but the sizes aren't consistent enough.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>I have been testing it with different lengths of values and have found that if the length of a single line exceeds a certain amount it starts bugging out.\nIf the values are below the limit they display just fine no matter how many lines it contains.</p>\n\n<p><a href=\"https://i.stack.imgur.com/gb2uD.png\" rel=\"nofollow noreferrer\">textarea when input is too long</a>\n<a href=\"https://i.stack.imgur.com/zkbnB.png\" rel=\"nofollow noreferrer\">textarea when input is fine</a></p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 1089, "user_id": 6080889, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j9S1fFOR5tc/AAAAAAAAAAI/AAAAAAAARjI/ZshXXge1K5o/photo.jpg?sz=128", "display_name": "Royson", "link": "https://stackoverflow.com/users/6080889/royson"}, "edited": false, "score": 0, "creation_date": 1541599629, "post_id": 53190999, "comment_id": 93270902, "body": "<code>declare</code> goes in the declaration file general.d.ts. Use <code>import * as general from &#39;.&#47;path&#47;to&#47;general&#39;</code>. Call the method as <code>general.fadeDivWrite()</code> in your ts file."}, {"owner": {"reputation": 1037, "user_id": 5389325, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/055df0116b8d00b32661d0685e001fdb?s=128&d=identicon&r=PG&f=1", "display_name": "Binvention", "link": "https://stackoverflow.com/users/5389325/binvention"}, "edited": false, "score": 0, "creation_date": 1541599679, "post_id": 53190999, "comment_id": 93270935, "body": "So just to be clear your problem is with the transpiler? So you don&#39;t know if the code itself works should it transpile?"}], "answers": [{"comments": [{"owner": {"reputation": 2015, "user_id": 102312, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5cf4d9ec63c151034bc6055eec845269?s=128&d=identicon&r=PG", "display_name": "jvcoach23", "link": "https://stackoverflow.com/users/102312/jvcoach23"}, "edited": false, "score": 0, "creation_date": 1541599881, "post_id": 53191074, "comment_id": 93271031, "body": "thanks for the response.  So i put that in my ts file.  Now fadeDivWrite has the red line under it telling me &quot;Overload signatures must all be ambient or non-ambient.  Would sure appreciate it if your willing to continue helping."}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 2015, "user_id": 102312, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5cf4d9ec63c151034bc6055eec845269?s=128&d=identicon&r=PG", "display_name": "jvcoach23", "link": "https://stackoverflow.com/users/102312/jvcoach23"}, "edited": false, "score": 1, "creation_date": 1541600086, "post_id": 53191074, "comment_id": 93271143, "body": "Ah - it is likely that you have inadvertently included the function in the compilation, as well as the ambient declaration. Are you sure it isn&#39;t either a) in a TypeScript file already, or b) are you including JavaScript files in your compilation, so the general.js is part of the compile?"}, {"owner": {"reputation": 2015, "user_id": 102312, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5cf4d9ec63c151034bc6055eec845269?s=128&d=identicon&r=PG", "display_name": "jvcoach23", "link": "https://stackoverflow.com/users/102312/jvcoach23"}, "edited": false, "score": 1, "creation_date": 1541600492, "post_id": 53191074, "comment_id": 93271379, "body": "that was it.. has included a reference to the java script file.  I up voted your answer.  thanks much"}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 2, "last_activity_date": 1541599571, "creation_date": 1541599571, "answer_id": 53191074, "question_id": 53190999, "link": "https://stackoverflow.com/questions/53190999/how-to-calling-a-javascript-function-from-a-typescript-file/53191074#53191074", "title": "how to calling a javascript function from a typescript file", "body": "<p>Just to clarify, the below should work - it certainly all passes a quick test on the TypeScript Playground.</p>\n\n<pre><code>declare function fadeDivWrite(text: string): string;\n\nconst pText: string = 'Test';\nconst result = fadeDivWrite(pText);\n</code></pre>\n\n<p>I have rewritten to avoid any confusion there might be between the type information and the actual variable <code>pText</code>.</p>\n\n<p>Let me know if you still have an issue and include the error message if you have one.</p>\n"}], "owner": {"reputation": 2015, "user_id": 102312, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5cf4d9ec63c151034bc6055eec845269?s=128&d=identicon&r=PG", "display_name": "jvcoach23", "link": "https://stackoverflow.com/users/102312/jvcoach23"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 53191074, "answer_count": 1, "score": 0, "last_activity_date": 1541599876, "creation_date": 1541599286, "last_edit_date": 1541599876, "question_id": 53190999, "link": "https://stackoverflow.com/questions/53190999/how-to-calling-a-javascript-function-from-a-typescript-file", "title": "how to calling a javascript function from a typescript file", "body": "<p>I have a file called general.js.  In the file is a function</p>\n\n<pre><code>function fadeDivWrite(pString) {};\n</code></pre>\n\n<p>The typescript file is called Default.ts.  I'm trying to call the fadeDivWrite function from general.js but it's not working.  What i'm trying to use in the Default.ts file is </p>\n\n<pre><code> var pText: string = \"Test\";\n        declare function fadeDivWrite(pText): string;\n</code></pre>\n\n<p>The ts file won't compile with an red line under the declare.  The error is (TS) Modifiers cannot appear here.  </p>\n\n<p>This is how I've seen it done in multipal places when doing searches so I'm missing something.  Hoping someone can help out.</p>\n\n<p>thanks\nshannon</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 1115457, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2421acca1e1257bcd1c8f34bfd337816?s=128&d=identicon&r=PG", "display_name": "beatjunky99", "link": "https://stackoverflow.com/users/1115457/beatjunky99"}, "edited": false, "score": 0, "creation_date": 1541600842, "post_id": 53191036, "comment_id": 93271587, "body": "This gives now another problem: <code>[2684] The &#39;this&#39; context of type &#39;T&#39; is not assignable to method&#39;s &#39;this&#39; of type &#39;new () =&gt; DataFetcherImp&lt;DataFetcherImp&lt;any&gt;&gt;&#39;.   Type &#39;typeof DataFetcherImp&#39; is not assignable to type &#39;new () =&gt; DataFetcherImp&lt;DataFetcherImp&lt;any&gt;&gt;&#39;.     Cannot assign an abstract constructor type to a non-abstract constructor type.</code> (The type of <code>DataFetcherImp</code> is actually <code>declare abstract class DataFetcherImp&lt;T extends DataFetcherImp&lt;T&gt;&gt; extends SomethingElse</code>)"}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 149, "user_id": 1115457, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2421acca1e1257bcd1c8f34bfd337816?s=128&d=identicon&r=PG", "display_name": "beatjunky99", "link": "https://stackoverflow.com/users/1115457/beatjunky99"}, "edited": false, "score": 0, "creation_date": 1541600928, "post_id": 53191036, "comment_id": 93271634, "body": "Can you provide a minimal example that shows the error? Happy to look at a TypeScript Playground link."}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 0, "last_activity_date": 1541599380, "creation_date": 1541599380, "answer_id": 53191036, "question_id": 53190612, "link": "https://stackoverflow.com/questions/53190612/typescript-type-generics-not-properly-infering-type/53191036#53191036", "title": "TypeScript Type Generics not properly infering type", "body": "<p>Because <code>fetch</code> is static, it actually won't exist on an instance of <code>DataFetcherImp</code>, but only on a <code>typeof DataFetcherImp</code>.</p>\n\n<p>Here is the change that removes the error (<code>T extends typeof DataFetcherImp</code>):</p>\n\n<pre><code>class DataFetcher_Broken {\n  public async getData&lt;T extends typeof DataFetcherImp&gt;(entity: Entity&lt;T&gt;, id: UUID): Promise&lt;T&gt; {\n    return await entity.fetcher().fetch(id);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 1115457, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2421acca1e1257bcd1c8f34bfd337816?s=128&d=identicon&r=PG", "display_name": "beatjunky99", "link": "https://stackoverflow.com/users/1115457/beatjunky99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 179, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541604900, "creation_date": 1541598041, "last_edit_date": 1541604900, "question_id": 53190612, "link": "https://stackoverflow.com/questions/53190612/typescript-type-generics-not-properly-infering-type", "title": "TypeScript Type Generics not properly infering type", "body": "<p>Consider the following code:</p>\n\n<pre><code>interface Entity&lt;T extends DataFetcherImp&gt; {\n  name: string,\n  fetcher: () =&gt; T\n}\n\ntype UUID = string;\n\ndeclare abstract class DataFetcherImp {\n  public static fetch(id: UUID);\n}\n\nclass TestFetcher implements DataFetcherImp {\n  public static async fetch(id: UUID): Promise&lt;TestFetcher&gt; {\n    return new TestFetcher(id);\n  }\n\n  constructor(private id: UUID) {\n    // perform some io\n  }\n}\n\nclass OtherTestFetcher implements DataFetcherImp {\n  public static async fetch(id: UUID): Promise&lt;OtherTestFetcher&gt; {\n    return new OtherTestFetcher(id);\n  }\n\n  constructor(private id: UUID) {\n    // perform some other io\n  }\n}\n\nclass DataFetcher_Broken {\n  public async getData&lt;T extends DataFetcherImp&gt;(entity: Entity&lt;T&gt;, id: UUID): Promise&lt;T&gt; {\n    return await entity.fetcher().fetch(id); // [2339] Property 'fetch' does not exist on type 'T'.\n  }\n}\n\nclass DataFetcher_Working {\n\n  public async getData(entity: Entity&lt;typeof TestFetcher&gt;, id: UUID): Promise&lt;TestFetcher&gt;;\n  public async getData(entity: Entity&lt;typeof OtherTestFetcher&gt;, id: UUID): Promise&lt;OtherTestFetcher&gt;;\n  public async getData(entity: Entity&lt;typeof TestFetcher | typeof OtherTestFetcher&gt;, id: UUID): Promise&lt;TestFetcher | OtherTestFetcher&gt; {\n    return await entity.fetcher().fetch(id);\n  }\n}\n</code></pre>\n\n<p>The class <code>DataFetcher_Broken</code> should in my understanding be working. But <code>tsc</code> outputs an error: <code>[2339] Property 'fetch' does not exist on type 'T'.</code> It seems like the compiler wants a <em>non-static</em> method fetch to exist on the type T.\nBut the method has to be static, since a library is used, which only provides static methods on a generic abstract class.</p>\n\n<p>As you can see the class <code>DataFetcher_Working</code> does the job, but then there is another problem. How can the class be extended to work with other classes which implement the <code>DataFetcherImp</code> abstraction? Also with classes we have no control over?\nLet's assume some user of the <code>DataFetcher</code> utility class creates a class <code>YetAnotherFetcher</code>. This class then can not be used with the <code>DataFetcher_Working</code> without modifying the method signature. So this method can not be included in a library.</p>\n\n<pre><code>const df = new DataFetcher_Working();\ndf.getData({\n    name: 'yaf',\n    fetcher: () =&gt; YetAnotherFetcher // [2322] Type 'typeof YetAnotherFetcher' is not assignable to type 'typeof OtherTestFetcher'.  Types of property 'fetch' are incompatible.    Type '(id: string) =&gt; Promise&lt;YetAnotherFetcher&gt;' is not assignable to type '(id: string) =&gt; Promise&lt;OtherTestFetcher&gt;'.      Type 'Promise&lt;YetAnotherFetcher&gt;' is not assignable to type 'Promise&lt;OtherTestFetcher&gt;'.        Type 'YetAnotherFetcher' is not assignable to type 'OtherTestFetcher'.          Types have separate declarations of a private property 'id'.\n}, 'd6413b62-5bc7-4670-a28e-d14c822d1dd8');\n</code></pre>\n\n<p>So the generic way as in <code>DataFetcher_Broken</code> is the only way to go.</p>\n\n<p>Following modifications allready tried but not working:</p>\n\n<p>1.</p>\n\n<pre><code>class DataFetcher_Broken {\n  public async getData&lt;T extends DataFetcherImp&gt;(entity: Entity&lt;T&gt;, id: UUID): Promise&lt;T&gt; {\n    return await (entity.fetcher() as any as typeof DataFetcherImp).fetch(id);\n  }\n}\n</code></pre>\n\n<p>this change allows for</p>\n\n<pre><code>const df = new DataFetcher_Broken();\ndf.getData({ name: 'completeDesaster', fetcher: () =&gt; Object }, 'd6413b62-5bc7-4670-a28e-d14c822d1dd8');\n</code></pre>\n\n<p>but <code>Object</code> has no static method <code>fetch</code>.</p>\n\n<p>2.</p>\n\n<pre><code>class DataFetcher_Broken {\n  public async getData&lt;T extends DataFetcherImp&gt;(entity: Entity&lt;T&gt;, id: UUID): Promise&lt;T&gt; {\n    return await (entity.fetcher() as DataFetcherImp).fetch(id); // [2576] Property 'fetch' is a static member of type 'DataFetcherImp'\n  }\n}\n</code></pre>\n\n<p>3.</p>\n\n<pre><code>interface Entity&lt;T extends DataFetcherImp&gt; {\n  name: string,\n  fetcher: () =&gt; typeof DataFetcherImp\n}\n</code></pre>\n\n<p>this change would kinda make sense, but then the type <code>T</code> on the entity is not anymore enforced for the <code>fetcher</code> property and it yields yet another error: </p>\n\n<pre><code>const df = new DataFetcher_Broken();\ndf.getData({ name: 'willNotCompile', fetcher: () =&gt; TestFetcher }, 'd6413b62-5bc7-4670-a28e-d14c822d1dd8'); // [2322] Type 'typeof TestFetcher' is not assignable to type 'typeof DataFetcherImp'.\n</code></pre>\n\n<p>Any suggestions, how to get this working?</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#src=interface%20Entity%3CT%20extends%20DataFetcherImp%3CT%3E%3E%20%7B%0A%20%20name%3A%20string%2C%0A%20%20fetcher%3A%20()%20%3D%3E%20T%0A%7D%0A%0Atype%20UUID%20%3D%20string%3B%0A%0Adeclare%20abstract%20class%20DataFetcherImp%3CT%20extends%20DataFetcherImp%3CT%3E%3E%20extends%20Object%20%7B%0A%20%20static%20fetch%3CT%20extends%20DataFetcherImp%3CT%3E%3E(this%3A%20(new%20()%20%3D%3E%20T)%2C%20id%3A%20UUID)%3A%20Promise%3CT%3E%3B%0A%7D%0A%0Aclass%20TestFetcher%20extends%20DataFetcherImp%3CTestFetcher%3E%20%7B%0A%7D%0A%0Aclass%20DataFetcher%20%7B%0A%20%20public%20async%20getData%3CT%20extends%20typeof%20DataFetcherImp%3E(entity%3A%20Entity%3CT%3E%2C%20id%3A%20UUID)%3A%20Promise%3CT%3E%20%7B%0A%20%20%20%20return%20await%20entity.fetcher().fetch(id)%3B%0A%20%20%7D%0A%7D%0A%0Afunction%20main()%20%7B%0A%20%20const%20df%20%3D%20new%20DataFetcher()%3B%0A%20%20df.getData(%7B%0A%20%20%20%20name%3A%20&#39;completeDesaster&#39;%2C%0A%20%20%20%20fetcher%3A%20()%20%3D%3E%20TestFetcher%0A%20%20%7D%2C%20&#39;d6413b62-5bc7-4670-a28e-d14c822d1dd8&#39;)%3B%0A%7D%0A%0Amain()%3B\" rel=\"nofollow noreferrer\">TS Playground: minimal example.</a> (The part where the static functions get copied to the prototype of the <code>TestFetcher</code> are omitted)</p>\n"}, {"tags": ["typescript", "firebase", "rxjs", "google-cloud-firestore", "observable"], "comments": [{"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1541597915, "post_id": 53190345, "comment_id": 93269881, "body": "What is the inner Observable?"}, {"owner": {"reputation": 466, "user_id": 9460996, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JaiDeBjvS6g/AAAAAAAAAAI/AAAAAAAAExE/U39U4snQYZk/photo.jpg?sz=128", "display_name": "filip", "link": "https://stackoverflow.com/users/9460996/filip"}, "reply_to_user": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1541597978, "post_id": 53190345, "comment_id": 93269915, "body": "@martin The firestore query: this.afs.collection(&#39;chats&#39; ....."}, {"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1541598035, "post_id": 53190345, "comment_id": 93269949, "body": "Just use <code>concatMap</code> instead of <code>flatMap</code>"}, {"owner": {"reputation": 466, "user_id": 9460996, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JaiDeBjvS6g/AAAAAAAAAAI/AAAAAAAAExE/U39U4snQYZk/photo.jpg?sz=128", "display_name": "filip", "link": "https://stackoverflow.com/users/9460996/filip"}, "reply_to_user": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1541598190, "post_id": 53190345, "comment_id": 93270059, "body": "Still doesn&#39;t work well @martin"}], "answers": [{"tags": [], "owner": {"reputation": 466, "user_id": 9460996, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JaiDeBjvS6g/AAAAAAAAAAI/AAAAAAAAExE/U39U4snQYZk/photo.jpg?sz=128", "display_name": "filip", "link": "https://stackoverflow.com/users/9460996/filip"}, "is_accepted": true, "score": 0, "last_activity_date": 1541669973, "creation_date": 1541669973, "answer_id": 53205019, "question_id": 53190345, "link": "https://stackoverflow.com/questions/53190345/return-inner-observable-with-which-operator/53205019#53205019", "title": "Return inner observable with which operator?", "body": "<p>Switchmap is okay, works well with it the problem was that 'array-contains' doesnt work for DocumentReferences in Firestore</p>\n"}], "owner": {"reputation": 466, "user_id": 9460996, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JaiDeBjvS6g/AAAAAAAAAAI/AAAAAAAAExE/U39U4snQYZk/photo.jpg?sz=128", "display_name": "filip", "link": "https://stackoverflow.com/users/9460996/filip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 53205019, "answer_count": 1, "score": 0, "last_activity_date": 1548178726, "creation_date": 1541596994, "last_edit_date": 1548178726, "question_id": 53190345, "link": "https://stackoverflow.com/questions/53190345/return-inner-observable-with-which-operator", "title": "Return inner observable with which operator?", "body": "<p>chat.service.ts:</p>\n\n<pre><code>  getUserChats(): Observable&lt;Chat[]&gt; {\n    return this.auth.currUser\n      .pipe(\n        take(1),\n        flatMap(user =&gt; this.afs\n          .collection('chats', ref =&gt; {\n            console.log(user.uid)\n            return ref.where('members', 'array-contains', `/users/${user.uid}`);\n          })\n          .snapshotChanges()\n          .pipe(\n            map(actions =&gt; {\n              return actions.map(action =&gt; {\n                const data = action.payload.doc.data() as Chat;\n                const id = action.payload.doc.id;\n                return {id, ...data};\n              });\n            })\n          ) as Observable&lt;Chat[]&gt;)\n      );\n  }\n</code></pre>\n\n<p>Is there a way to return the inner Observable which holds the chats from the user?</p>\n\n<pre><code>this.afs\n              .collection('chats', ref =&gt; {\n                console.log(user.uid)\n                return ref.where('members', 'array-contains', `/users/${user.uid}`);\n              })\n              .snapshotChanges()\n              .pipe(\n                map(actions =&gt; {\n                  return actions.map(action =&gt; {\n                    const data = action.payload.doc.data() as Chat;\n                    const id = action.payload.doc.id;\n                    return {id, ...data};\n                  });\n                })\n              ) as Observable&lt;Chat[]&gt;\n</code></pre>\n\n<p>In the inner observable I need to wait for the user.uid to query for the chats.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic-framework"], "answers": [{"tags": [], "owner": {"reputation": 226, "user_id": 2404477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46d3d0995f4169eee7d2721590a1e94b?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/2404477/marc"}, "is_accepted": false, "score": 1, "last_activity_date": 1541596937, "creation_date": 1541596937, "answer_id": 53190332, "question_id": 53190240, "link": "https://stackoverflow.com/questions/53190240/how-to-disable-nfc-eventlistener-when-before-second-value-read/53190332#53190332", "title": "How to disable NFC EventListener when before second value read?", "body": "<p>You can take only the first subscription with observable.take(1).subscribe(...) .<br>\nAnd then re-create a subscription later.</p>\n"}, {"tags": [], "owner": {"reputation": 800, "user_id": 4634060, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/IV1YP.png?s=128&g=1", "display_name": "JsWizard", "link": "https://stackoverflow.com/users/4634060/jswizard"}, "is_accepted": true, "score": 0, "last_activity_date": 1545231268, "last_edit_date": 1545231268, "creation_date": 1541766543, "answer_id": 53225734, "question_id": 53190240, "link": "https://stackoverflow.com/questions/53190240/how-to-disable-nfc-eventlistener-when-before-second-value-read/53225734#53225734", "title": "How to disable NFC EventListener when before second value read?", "body": "<p>I solved with this code.</p>\n\n<pre><code>this.myListener = this.nfc.addNdefListener(() =&gt; {\n   console.log(\u2018successfully attached ndef listener\u2019);\n},(err) =&gt; {\n   console.log(\u2018error attaching ndef listener\u2019, err);\n}).subscribe((event) =&gt; {\n  . . .\n});\n\n//remove listener\nthis.myListener.unsubscribe();\n</code></pre>\n\n<p>thanks to Avdm in Ionic forum.\n<a href=\"https://forum.ionicframework.com/t/remove-listener-nfc-plugin/113393\" rel=\"nofollow noreferrer\">https://forum.ionicframework.com/t/remove-listener-nfc-plugin/113393</a></p>\n"}], "owner": {"reputation": 800, "user_id": 4634060, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/IV1YP.png?s=128&g=1", "display_name": "JsWizard", "link": "https://stackoverflow.com/users/4634060/jswizard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 545, "favorite_count": 0, "accepted_answer_id": 53225734, "answer_count": 2, "score": 0, "last_activity_date": 1545231268, "creation_date": 1541596568, "last_edit_date": 1541603972, "question_id": 53190240, "link": "https://stackoverflow.com/questions/53190240/how-to-disable-nfc-eventlistener-when-before-second-value-read", "title": "How to disable NFC EventListener when before second value read?", "body": "<p>This problem came from NFC tag is too sensitive.\nWhen I put an NFC tag once, then too many values are entered momentarily.\nSo if one NFC tag value is entered, then wish to stop the NFC event listener at that moment. How do I implement it?</p>\n\n<p>I think NFC reading speed is so fast in between device and NFC-tag than EventListener cancellation in program side.</p>\n\n<p><strong>this ionic page working like this...</strong></p>\n\n<p>*1) First load ionViewDidEnter()</p>\n\n<p>2) Add addListenNFC()</p>\n\n<p>3) If NFC tagged, then value send to onNfcLogin(tagId)</p>\n\n<p>4) In onNfcLogin(tagId), this is included \"Http post service provider\" as userService.nfclogin()</p>\n\n<p>5) Finally get the json type return from server side.*</p>\n\n<p><strong>{\n\"dependencies\": {\n \"ionic-native/core\": \"4.7.0\",\n \"ionic-angular\": \"3.9.2\", \n \"typescript\": \"~2.6.2\"]\n},\n\"test device\": \"Galaxy8\",\n\"NFC Tag\": \"cheaped NFC stick\"\n}</strong></p>\n\n<pre><code>  ionViewDidEnter() {\n    this.nfc.enabled().then((resolve) =&gt; {\n      this.addListenNFC();\n    }).catch((reject) =&gt; {\n      alert(\"NFC is not supported by your Device\");\n    });\n  }\n\n\n  addListenNFC() {\n    this.nfc.addTagDiscoveredListener().subscribe(data =&gt; {\n    //window.removeEventListener; //this is not working.\n      if (data &amp;&amp; data.tag &amp;&amp; data.tag.id) {\n        this.tagId = this.nfc.bytesToHexString(data.tag.id);\n        if (this.tagId) {\n          this.scanned = true;\n          this.onNfcLogin(this.tagId);\n        } else {\n          alert('NFC_NOT_DETECTED');\n        }\n      }\n    });\n  }\n\n\n  onNfcLogin(tagId) {\n    this.userService.nfclogin(tagId).subscribe(data =&gt; { \n       // \"this.userService.nfclogin()\" is at Http post service provider\n      this.getData = JSON.stringify(data);\n      if (this.getData) {\n        this.granted = true;\n        this.loading.dismiss();\n        this.events.publish('user:login');\n        this.navCtrl.setRoot(HomePage);\n      }\n      this.resetScanData;\n    },\n      error =&gt; {\n        this.loading.dismiss();\n        this.showError(error);\n      });\n  }\n\n\n  showError(error) {\n    console.log(error);\n    let alert = this.alertCtrl.create({\n      title: 'Login Error',\n      message: error.json().message,\n      buttons: ['OK']\n    });\n    alert.present();\n  }\n\n\n  resetScanData() {\n    this.granted = false;\n    this.scanned = false;\n    this.tagId = \"\";\n  }\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 309, "user_id": 3304875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cKoA3.png?s=128&g=1", "display_name": "Marthinus Engelbrecht", "link": "https://stackoverflow.com/users/3304875/marthinus-engelbrecht"}, "edited": false, "score": 0, "creation_date": 1541596885, "post_id": 53190115, "comment_id": 93269371, "body": "Thanks, didn&#39;t even think of that. I use <code>new () =&gt; A</code>."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1541596136, "creation_date": 1541596136, "answer_id": 53190115, "question_id": 53190034, "link": "https://stackoverflow.com/questions/53190034/how-to-define-a-type-that-extends-from-an-abstract-class-but-is-never-the-toplev/53190115#53190115", "title": "How to define a type that extends from an abstract class but is never the toplevel abstract class?", "body": "<p>You can use a constructor signature instead of the actual class:</p>\n\n<pre><code>const myMap = new Map&lt;string, new () =&gt; A&gt;([ \n    [\"B\", B],\n    [\"C\", C]\n]);\n\nconst Constructor = myMap.get(\"B\");\n\nconst obj = new Constructor();\n</code></pre>\n\n<p>The type <code>new () =&gt; A</code> represents a constructor (because of the <code>new</code> keyword) with an empty argument list (<code>()</code>) that returns an instance of <code>A</code>. Any derived concrete class that has an default constructor will satisfy this signature.</p>\n"}, {"tags": [], "owner": {"reputation": 2478, "user_id": 10430329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mhmaV.png?s=128&g=1", "display_name": "Artyom Amiryan", "link": "https://stackoverflow.com/users/10430329/artyom-amiryan"}, "is_accepted": false, "score": -1, "last_activity_date": 1541596215, "creation_date": 1541596215, "answer_id": 53190136, "question_id": 53190034, "link": "https://stackoverflow.com/questions/53190034/how-to-define-a-type-that-extends-from-an-abstract-class-but-is-never-the-toplev/53190136#53190136", "title": "How to define a type that extends from an abstract class but is never the toplevel abstract class?", "body": "<p>you can create an interface and implement your class <code>A</code> from that interface, and define your <code>typesomeTypeThatIncludeDecendantsOfA_ButNotA</code> type as your interface</p>\n\n<pre><code>interface AA { .... }\n\nabstract class A implements AA {}; \nclass B extends A {\n    constructor(){\n        console.log(\"Creating B\")\n        super()\n    }\n };\n\n class C extends A{};\n\n const myMap = new Map&lt;string, AA&gt;([ \n     [\"B\", B],\n     [\"C\", C]\n ]);\n\n const Constructor = myMap.get(\"B\");\n\n const obj = new Constructor();\n</code></pre>\n"}], "owner": {"reputation": 309, "user_id": 3304875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cKoA3.png?s=128&g=1", "display_name": "Marthinus Engelbrecht", "link": "https://stackoverflow.com/users/3304875/marthinus-engelbrecht"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 53190115, "answer_count": 2, "score": 0, "last_activity_date": 1541596215, "creation_date": 1541595879, "question_id": 53190034, "link": "https://stackoverflow.com/questions/53190034/how-to-define-a-type-that-extends-from-an-abstract-class-but-is-never-the-toplev", "title": "How to define a type that extends from an abstract class but is never the toplevel abstract class?", "body": "<p>Given the following how should you define type<code>someTypeThatIncludeDecendantsOfA_ButNotA</code>?</p>\n\n<pre><code>abstract class A {}; \nclass B extends A {\n    constructor(){\n        console.log(\"Creating B\")\n        super()\n    }\n };\n\n class C extends A{};\n\n const myMap = new Map&lt;string, someTypeThatIncludeDecendantsOfA_ButNotA&gt;([ \n     [\"B\", B],\n     [\"C\", C]\n ]);\n\n const Constructor = myMap.get(\"B\");\n\n const obj = new Constructor();\n</code></pre>\n\n<p>I've tried defining the map as <code>new Map&lt;string, typeof A&gt;()</code> but then I get an error saying <code>Cannot create an instance of an abstract class</code>. Which makes sense. </p>\n\n<p>Also played around with <code>Exclude</code> and <code>Extract</code> types. But that also turned up nothing useful. I think Java uses the syntax <code>new Map&lt;string, ? extends A&gt;</code>.\nI've been pouring over the documentation but can't seem to find anything similar. </p>\n"}, {"tags": ["angular", "typescript", "angular6", "angular-routing"], "comments": [{"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "edited": false, "score": 0, "creation_date": 1541596508, "post_id": 53189974, "comment_id": 93269186, "body": "Looks like AuthGaurd is blocking it, remove Gaurd and check"}, {"owner": {"reputation": 1108, "user_id": 5573733, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/869ffbc18071db8d6dfc3e01d816147d?s=128&d=identicon&r=PG&f=1", "display_name": "GreatHawkeye", "link": "https://stackoverflow.com/users/5573733/greathawkeye"}, "edited": false, "score": 0, "creation_date": 1541596550, "post_id": 53189974, "comment_id": 93269210, "body": "I&#39;m not sure to understand why you are creating different page for each route if they share the same component. You could use a parameter like so <code>path: &#39;home&#47;:id&#39;</code>."}, {"owner": {"reputation": 1624, "user_id": 3577360, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62ed0f4309cffd5b9ce23f7d8afb34d1?s=128&d=identicon&r=PG&f=1", "display_name": "Zander17", "link": "https://stackoverflow.com/users/3577360/zander17"}, "reply_to_user": {"reputation": 1108, "user_id": 5573733, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/869ffbc18071db8d6dfc3e01d816147d?s=128&d=identicon&r=PG&f=1", "display_name": "GreatHawkeye", "link": "https://stackoverflow.com/users/5573733/greathawkeye"}, "edited": false, "score": 0, "creation_date": 1541596817, "post_id": 53189974, "comment_id": 93269342, "body": "@GreatHawkeye You have a very fair point there (feel like an idiot). I will make the changes accordingly and get back with you."}, {"owner": {"reputation": 1624, "user_id": 3577360, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62ed0f4309cffd5b9ce23f7d8afb34d1?s=128&d=identicon&r=PG&f=1", "display_name": "Zander17", "link": "https://stackoverflow.com/users/3577360/zander17"}, "reply_to_user": {"reputation": 1108, "user_id": 5573733, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/869ffbc18071db8d6dfc3e01d816147d?s=128&d=identicon&r=PG&f=1", "display_name": "GreatHawkeye", "link": "https://stackoverflow.com/users/5573733/greathawkeye"}, "edited": false, "score": 0, "creation_date": 1541597003, "post_id": 53189974, "comment_id": 93269431, "body": "@GreatHawkeye I&#39;ve updated the route to include /:service, however, the contents of the component stay the same when attempting to route."}], "answers": [{"tags": [], "owner": {"reputation": 1108, "user_id": 5573733, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/869ffbc18071db8d6dfc3e01d816147d?s=128&d=identicon&r=PG&f=1", "display_name": "GreatHawkeye", "link": "https://stackoverflow.com/users/5573733/greathawkeye"}, "is_accepted": true, "score": 2, "last_activity_date": 1541597177, "creation_date": 1541597177, "answer_id": 53190384, "question_id": 53189974, "link": "https://stackoverflow.com/questions/53189974/angular6-router-navigate-to-multiple-child-routes-that-share-the-same-component/53190384#53190384", "title": "Angular6 Router navigate to multiple child routes that share the same component", "body": "<p>You first have to create a same page for each route and use parameters like so : <code>path: 'home/:id'</code> .</p>\n\n<p>It won't solve your problem though.\nYou have to use RXJS there. For example :</p>\n\n<p><code>\nthis.route.paramMap\n      .pipe(\n        map((paramMap) =&gt; Number.parseInt(paramMap.get('id') || '1', 10)),\n        switchMap((id) =&gt; this.myService.getData(id))\n      ).subscribe((data) =&gt; this.data = data);\n</code></p>\n\n<p>this.route.paramMap is an Observable which you can subscribe to.</p>\n"}, {"tags": [], "owner": {"reputation": 226, "user_id": 2404477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46d3d0995f4169eee7d2721590a1e94b?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/2404477/marc"}, "is_accepted": false, "score": 1, "last_activity_date": 1541597216, "creation_date": 1541597216, "answer_id": 53190397, "question_id": 53189974, "link": "https://stackoverflow.com/questions/53189974/angular6-router-navigate-to-multiple-child-routes-that-share-the-same-component/53190397#53190397", "title": "Angular6 Router navigate to multiple child routes that share the same component", "body": "<p>You can use <a href=\"https://angular.io/api/router/RunGuardsAndResolvers\" rel=\"nofollow noreferrer\">runGuardsAndResolvers</a>.<br>\nFor example try this :   </p>\n\n<pre><code>{\n        path: '',\n        component: StructureComponent,\n        canActivate: [AuthGuard],\n        runGuardsAndResolvers: 'always'\n        children: [...]\n}\n</code></pre>\n"}], "owner": {"reputation": 1624, "user_id": 3577360, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62ed0f4309cffd5b9ce23f7d8afb34d1?s=128&d=identicon&r=PG&f=1", "display_name": "Zander17", "link": "https://stackoverflow.com/users/3577360/zander17"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 374, "favorite_count": 0, "accepted_answer_id": 53190384, "answer_count": 2, "score": 0, "last_activity_date": 1541597216, "creation_date": 1541595660, "question_id": 53189974, "link": "https://stackoverflow.com/questions/53189974/angular6-router-navigate-to-multiple-child-routes-that-share-the-same-component", "title": "Angular6 Router navigate to multiple child routes that share the same component", "body": "<p>I have multiple child components that share the same component which works fine, however, I cannot route between the pages as it appears Angular suspects the component is already loaded. Is it possible to reload the component when attempting to route to these child routes?</p>\n\n<pre><code>const ServicesRouting: ModuleWithProviders = RouterModule.forChild([\n    {\n        path: '',\n        component: StructureComponent,\n        canActivate: [AuthGuard],\n        children: [\n            {\n                path: 'services',\n                canActivate: [AuthGuard],\n                component: servicesComponent,\n                children: [\n                    {\n                        path: 'one',\n                        canActivate: [AuthGuard],\n                        component: servicesComponent,\n                    },\n                    {\n                        path: 'two',\n                        canActivate: [AuthGuard],\n                        component: servicesComponent,\n                    },\n                    {\n                        path: 'three',\n                        canActivate: [AuthGuard],\n                        component: servicesComponent,\n                    },\n                    {\n                        path: 'four',\n                        canActivate: [AuthGuard],\n                        component: servicesComponent,\n                    }\n                ]\n            }\n        ]\n    }\n]);\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 2834, "user_id": 1852370, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/juxbf.png?s=128&g=1", "display_name": "Jyothu", "link": "https://stackoverflow.com/users/1852370/jyothu"}, "edited": false, "score": 1, "creation_date": 1575454362, "post_id": 53189769, "comment_id": 104569185, "body": "Accessing <code>window</code> will break when trying to build the application on server side."}, {"owner": {"reputation": 449, "user_id": 3757553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f0ca4dd7b18f3cda3554680366c5c67?s=128&d=identicon&r=PG", "display_name": "Russ", "link": "https://stackoverflow.com/users/3757553/russ"}, "edited": false, "score": 1, "creation_date": 1613428316, "post_id": 53189769, "comment_id": 117067517, "body": "For those that may not know, plain &#39;old <code>setInterval</code> seems to return <code>NodeJS.Timeout</code> (per code inspection) but <code>window.setInterval</code> returns <code>number</code>."}], "tags": [], "owner": {"reputation": 346, "user_id": 9765684, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vt6JxvcXYuw/AAAAAAAAAAI/AAAAAAAAAOA/2vFgETmrLxo/photo.jpg?sz=128", "display_name": "Fran Dioniz", "link": "https://stackoverflow.com/users/9765684/fran-dioniz"}, "is_accepted": true, "score": 15, "last_activity_date": 1541594905, "creation_date": 1541594905, "answer_id": 53189769, "question_id": 53189729, "link": "https://stackoverflow.com/questions/53189729/typescript-error-setinterval-type-timer-is-not-assignable-to-type-number/53189769#53189769", "title": "Typescript Error: setInterval - Type &#39;Timer&#39; is not assignable to type &#39;number&#39;", "body": "<p>Use <code>window.setInterval</code> instead</p>\n"}, {"comments": [{"owner": {"reputation": 803, "user_id": 10488923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t7NfB.jpg?s=128&g=1", "display_name": "marvinIsSacul", "link": "https://stackoverflow.com/users/10488923/marvinissacul"}, "edited": false, "score": 0, "creation_date": 1541596632, "post_id": 53189795, "comment_id": 93269249, "body": "yeah. I think he could also use <code>var</code> instead of <code>let</code>."}, {"owner": {"reputation": 1107, "user_id": 812519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fda24871248807e66071f02841feea77?s=128&d=identicon&r=PG", "display_name": "anvk", "link": "https://stackoverflow.com/users/812519/anvk"}, "reply_to_user": {"reputation": 803, "user_id": 10488923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t7NfB.jpg?s=128&g=1", "display_name": "marvinIsSacul", "link": "https://stackoverflow.com/users/10488923/marvinissacul"}, "edited": false, "score": 2, "creation_date": 1541601165, "post_id": 53189795, "comment_id": 93271772, "body": "I guess he could. But I would strongly suggest to use ES6 <code>let</code> or <code>const</code> and avoid using <code>var</code>. Var is not block-scoped so I would recommend to stop using it and fully switch to the first 2 type of variables. Embrace newer JavaScript (ES6) (<a href=\"https://hackernoon.com/js-var-let-or-const-67e51dbb716f\" rel=\"nofollow noreferrer\">hackernoon.com/js-var-let-or-const-67e51dbb716f</a>)"}], "tags": [], "owner": {"reputation": 1107, "user_id": 812519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fda24871248807e66071f02841feea77?s=128&d=identicon&r=PG", "display_name": "anvk", "link": "https://stackoverflow.com/users/812519/anvk"}, "is_accepted": false, "score": 3, "last_activity_date": 1541595021, "creation_date": 1541595021, "answer_id": 53189795, "question_id": 53189729, "link": "https://stackoverflow.com/questions/53189729/typescript-error-setinterval-type-timer-is-not-assignable-to-type-number/53189795#53189795", "title": "Typescript Error: setInterval - Type &#39;Timer&#39; is not assignable to type &#39;number&#39;", "body": "<p>By looking at <code>error TS2322</code> it looks like a TypeScript error rather than JavaScript one. Basically you are trying to cast type number variable to a timer one.</p>\n\n<p>could you do instead ?</p>\n\n<pre><code>let onSizeChangeSetInterval:NodeJS.Timer;\nonSizeChangeSetInterval = setInterval(() =&gt; {...}, 30);\n</code></pre>\n\n<p>Taken from</p>\n\n<p><a href=\"http://evanshortiss.com/development/nodejs/typescript/2016/11/16/timers-in-typescript.html\" rel=\"nofollow noreferrer\">http://evanshortiss.com/development/nodejs/typescript/2016/11/16/timers-in-typescript.html</a></p>\n"}], "owner": {"reputation": 8183, "user_id": 5148197, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/7F7nc.jpg?s=128&g=1", "display_name": "Ricardo Rocha", "link": "https://stackoverflow.com/users/5148197/ricardo-rocha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6759, "favorite_count": 0, "accepted_answer_id": 53189769, "answer_count": 2, "score": 11, "last_activity_date": 1541595021, "creation_date": 1541594762, "question_id": 53189729, "link": "https://stackoverflow.com/questions/53189729/typescript-error-setinterval-type-timer-is-not-assignable-to-type-number", "title": "Typescript Error: setInterval - Type &#39;Timer&#39; is not assignable to type &#39;number&#39;", "body": "<p>I have the following code:</p>\n\n<pre><code>let onSizeChangeSetInterval = setInterval(() =&gt; {...}, 30);\n</code></pre>\n\n<p>When I compile this code, I'm getting the following error:</p>\n\n<blockquote>\n  <p>ERROR in src/components/popover/popover.component.ts(98,17): error TS2322: Type 'Timer' is not assignable to type 'number'.\n  src/modules/forms-ui/formly/types/daterange/picker.daterange.component.ts(186,9): error TS2322: Type 'Timer' is not assignable to type 'number'.</p>\n</blockquote>\n"}, {"tags": ["javascript", "typescript", "rxjs"], "answers": [{"comments": [{"owner": {"reputation": 2438, "user_id": 2759473, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/fkdGV.jpg?s=128&g=1", "display_name": "Tomas", "link": "https://stackoverflow.com/users/2759473/tomas"}, "reply_to_user": {"reputation": 1118, "user_id": 2347137, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/vy9PI.png?s=128&g=1", "display_name": "Starscream", "link": "https://stackoverflow.com/users/2347137/starscream"}, "edited": false, "score": 0, "creation_date": 1541595146, "post_id": 53189698, "comment_id": 93268505, "body": "Glad I was able to help. For your reference, please have look on <a href=\"http://reactivex.io/rxjs/manual/overview.html#operators\" rel=\"nofollow noreferrer\">reactivex.io/rxjs/manual/overview.html#operators</a> and section <code>Choose an operator</code>. It will point out operator you need in 95% of cases. Unfortunately, RxJS 6 does not have this feature on it&#39;s doc site :("}], "tags": [], "owner": {"reputation": 2438, "user_id": 2759473, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/fkdGV.jpg?s=128&g=1", "display_name": "Tomas", "link": "https://stackoverflow.com/users/2759473/tomas"}, "is_accepted": true, "score": 2, "last_activity_date": 1541594575, "creation_date": 1541594575, "answer_id": 53189698, "question_id": 53189580, "link": "https://stackoverflow.com/questions/53189580/serialise-observable-next-function-calls/53189698#53189698", "title": "Serialise observable next function calls", "body": "<p>Consider using <code>concatMap</code> operator on each <code>longLastingOperation(num)</code> call to wrap response in Observable and subscribe to results in order:  </p>\n\n<pre><code>range(1, 5)\n.concatMap((num) =&gt; {\n  return Observable.fromPromise(longLastingOperation(num));\n})\n.subscribe(res =&gt; {\n  console.log(`End working on ${res}`) // Shall be ordered here\n})\n</code></pre>\n\n<p>Here is documentation reference:<br>\n<a href=\"http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#instance-method-concatMap\" rel=\"nofollow noreferrer\">http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#instance-method-concatMap</a></p>\n\n<p>Here is some my additional work on this topic:<br>\n<a href=\"https://www.linkedin.com/pulse/rx-map-misleading-marbles-tomasz-budzi%C5%84ski/\" rel=\"nofollow noreferrer\">https://www.linkedin.com/pulse/rx-map-misleading-marbles-tomasz-budzi%C5%84ski/</a></p>\n"}], "owner": {"reputation": 1118, "user_id": 2347137, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/vy9PI.png?s=128&g=1", "display_name": "Starscream", "link": "https://stackoverflow.com/users/2347137/starscream"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 53189698, "answer_count": 1, "score": 0, "last_activity_date": 1541594575, "creation_date": 1541594045, "question_id": 53189580, "link": "https://stackoverflow.com/questions/53189580/serialise-observable-next-function-calls", "title": "Serialise observable next function calls", "body": "<p>Consider the following Typescript / rxjs code:</p>\n\n<pre><code>import { range } from 'rxjs'; \n\nrange(1, 5).subscribe(async (num) =&gt; {\n  await longLastingOperation(num);\n})\n\nfunction longLastingOperation(num) {\n  console.log('starting', num);\n\n  return new Promise((resolve) =&gt; {\n    setTimeout(() =&gt; {\n      console.log('done with', num);\n      resolve();\n    }, Math.random() * 1000);\n  });\n}\n</code></pre>\n\n<p>Each emitted value triggers a long lasting operation of a random duration. the console output is unpredictable and looks something similar to this:</p>\n\n<pre><code>starting 1\nstarting 2\nstarting 3\nstarting 4\nstarting 5\ndone with 2\ndone with 5\ndone with 1\ndone with 4\ndone with 3\n</code></pre>\n\n<p>Now, I want to \"serialise\" the execution of the long lasting operations for each emitted value. For instance, I want that <code>longLastingOperation(2)</code> waits for <code>longLastingOperation(1)</code> is done before it starts. </p>\n\n<p>I'd like to achieve an output every time looking exactly like that:</p>\n\n<pre><code>starting 1\ndone with 1\nstarting 2\ndone with 2\nstarting 3\ndone with 3\nstarting 4\ndone with 4\nstarting 5\ndone with 5\n</code></pre>\n\n<p>How would one achieve this with rxjs and observables ?</p>\n"}, {"tags": ["angular", "typescript", "twitter-bootstrap", "bootstrap-4", "leaflet"], "answers": [{"comments": [{"owner": {"reputation": 1214, "user_id": 12120101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19f1ed62390b6d8a61b6d43169bb2816?s=128&d=identicon&r=PG", "display_name": "lsabi", "link": "https://stackoverflow.com/users/12120101/lsabi"}, "edited": false, "score": 1, "creation_date": 1618385186, "post_id": 53190189, "comment_id": 118582173, "body": "Small note: if you are using geoman editor for leaflet, the controls are at z-index 1000. Simply set the z-index of your overlay to 1001 and it&#39;ll work"}], "tags": [], "owner": {"reputation": 9327, "user_id": 4929531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QCqJG.jpg?s=128&g=1", "display_name": "kboul", "link": "https://stackoverflow.com/users/4929531/kboul"}, "is_accepted": true, "score": 4, "last_activity_date": 1549999356, "last_edit_date": 1549999356, "creation_date": 1541596398, "answer_id": 53190189, "question_id": 53189337, "link": "https://stackoverflow.com/questions/53189337/bootstrap-angular-leaflet-div-above-map/53190189#53190189", "title": "Bootstrap Angular Leaflet Div above map", "body": "<p>Since you have used <code>position: absolute</code> in your <code>overlay</code> class you can apply the <code>z-index</code> property to be <code>equal or more 1000</code> so it is in front of the map element which has lower z-index value. </p>\n\n<pre><code>.overlay {\n     width: 100px;\n     position: absolute;\n     top: 0;\n     left: 0;\n     bottom: 0;\n     background-color: rgba(255, 50, 50, 0.5);\n     z-index: 1000\n}\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-u6gqv8\" rel=\"nofollow noreferrer\">Demo</a> </p>\n"}], "owner": {"reputation": 799, "user_id": 1322874, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/d7b69a210be6b1981a2b28303d20d3e7?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/1322874/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 993, "favorite_count": 0, "accepted_answer_id": 53190189, "answer_count": 1, "score": 2, "last_activity_date": 1584263531, "creation_date": 1541593125, "last_edit_date": 1584263531, "question_id": 53189337, "link": "https://stackoverflow.com/questions/53189337/bootstrap-angular-leaflet-div-above-map", "title": "Bootstrap Angular Leaflet Div above map", "body": "<p>I'm trying to put a div above the map , to put some actions, like filters and stuff but the div only appears when I move the map and the it goes behind the map.</p>\n\n<p>component css:</p>\n\n<pre><code>.map {\n    padding: 0;\n    position:relative;\n    width:100% ;\n    height: 100%;\n}\n\n.mapContainer{\n        width: 100vw;\n        height: 92.6vh; /* Fallback for browsers that do not support Custom Properties */\n        height: calc(var(--vh, 1vh) * 92.6);\n        padding: 0 ;\n}\n\n.overlay {\n    width: 100px;\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    background-color: rgba(255, 50, 50, 0.5);\n}\n</code></pre>\n\n<p>component html :</p>\n\n<pre><code>&lt;div class=\"container-fluid\" &gt;\n    &lt;div class=\"row\"&gt;\n        &lt;div class=\"col-sm-2\"&gt;\n            &lt;div *ngIf=\"city\"&gt;\n                &lt;p&gt;{{city.name}}  &lt;/p&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;div class=\"col-sm-10 mapContainer\" &gt;\n        &lt;div leaflet class=\"map\"\n            [leafletOptions]=\"options\"\n            [leafletFitBounds]=\"bounds\"\n            (leafletMapReady)=\"onMapReady($event)\"\n            [leafletMarkerCluster]=\"markerClusterData\"   \n            [leafletMarkerClusterOptions]=\"markerClusterOptions\"\n            (leafletMarkerClusterReady)=\"markerClusterReady($event)\"&gt;\n        &lt;/div&gt;\n        &lt;div class = \"overlay\"&gt;\n            &lt;input type=\"radio\" class = \"someButton\"&gt;Foo Bar\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 4919, "user_id": 1049111, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/02dfecae7cab53753a210d191180274e?s=128&d=identicon&r=PG", "display_name": "Allan Jardine", "link": "https://stackoverflow.com/users/1049111/allan-jardine"}, "edited": false, "score": 0, "creation_date": 1541600557, "post_id": 53189910, "comment_id": 93271427, "body": "Hi - thanks for your reply. I did try <code>Promise&lt;{[K in keyof T]: T[K]}&gt;</code> but <code>T[K]</code> is the wrapper function that needs to be executed to instantiate a class. Using just <code>T[K]</code> as the return means <code>ter1</code> is <code>let ter1: (id: number, db: any) =&gt; Promise&lt;Test&gt;</code> rather than just <code>Test</code>. I&#39;m not clear on how to get just the resulting type from that function."}], "tags": [], "owner": {"reputation": 224, "user_id": 8338611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c822c05d8168ce3cee9333a3242320bd?s=128&d=identicon&r=PG&f=1", "display_name": "kaosdev", "link": "https://stackoverflow.com/users/8338611/kaosdev"}, "is_accepted": false, "score": 0, "last_activity_date": 1541596212, "last_edit_date": 1541596212, "creation_date": 1541595455, "answer_id": 53189910, "question_id": 53189169, "link": "https://stackoverflow.com/questions/53189169/resolve-a-promise-in-a-typescript-type/53189910#53189910", "title": "Resolve a promise in a TypeScript type", "body": "<p>The unit type is a function that return a <code>Promise&lt;{[K in keyof T]: Builder&lt;T[K]&gt;}&gt;</code>.\nInstead it should just return a <code>Promise&lt;{[K in keyof T]: T[K]}&gt;;</code>.</p>\n\n<p>Also in the init function you are calling \n<code>let res = await value( {}, {} );</code>\nBut value is the fromId function of Test, that accept only one number parameter.</p>\n"}, {"comments": [{"owner": {"reputation": 4919, "user_id": 1049111, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/02dfecae7cab53753a210d191180274e?s=128&d=identicon&r=PG", "display_name": "Allan Jardine", "link": "https://stackoverflow.com/users/1049111/allan-jardine"}, "edited": false, "score": 0, "creation_date": 1541621497, "post_id": 53196435, "comment_id": 93282682, "body": "Wow! I don&#39;t believe I&#39;d ever have got there without your help. <code>ReturnType</code> is a new one on me and that is going to be extremely useful. If you have a patreon or anything I&#39;d very much like to buy you a few beers."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 9, "last_activity_date": 1541618852, "creation_date": 1541618852, "answer_id": 53196435, "question_id": 53189169, "link": "https://stackoverflow.com/questions/53189169/resolve-a-promise-in-a-typescript-type/53196435#53196435", "title": "Resolve a promise in a TypeScript type", "body": "<p>It looks like the types you want are something like these:</p>\n\n<pre><code>type Unpromise&lt;T extends Promise&lt;any&gt;&gt; = T extends Promise&lt;infer U&gt; ? U : never;\n\ntype Init = &lt;T extends { [key: string]: (...args: any[]) =&gt; Promise&lt;any&gt; }&gt;(\n  db: any,\n  config: Config&lt;T&gt;\n) =&gt; Promise&lt;{ [K in keyof T]: Unpromise&lt;ReturnType&lt;T[K]&gt;&gt; }&gt;; \n</code></pre>\n\n<p>But I haven't spent the time going through all your code to see if it makes sense or if you've implemented it correctly (is this really a <a href=\"https://stackoverflow.com/help/mcve\">minimum example</a>?), so please forgive me if you run into some other problem.</p>\n\n<p>Explanation: the way you call <code>init()</code> implies that <code>T</code> should be an object whose properties are functions that return a promise of the kind you care about.  (I'm not sure if the types and numbers of arguments to those functions are important).  So for each property in <code>T</code> you want to extract its return type and then extract the promise type.  </p>\n\n<ul>\n<li><p><code>Unpromise&lt;T&gt;</code> uses <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#type-inference-in-conditional-types\" rel=\"noreferrer\">type inference in conditional types</a> to pull out  the type of the promised value; so <code>Unpromise&lt;Promise&lt;XXX&gt;&gt;</code> should be <code>XXX</code>.</p></li>\n<li><p><code>ReturnType&lt;T&gt;</code> is a <a href=\"https://github.com/Microsoft/TypeScript/blob/v3.1.3/lib/lib.es5.d.ts#L1411-L1414\" rel=\"noreferrer\">type from the standard TypeScript library</a> that does a similar thing to get the return type of a function; so <code>ReturnType&lt;()=&gt;XXX&gt;</code> should be <code>XXX</code>.</p></li>\n</ul>\n\n<p>Hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 4919, "user_id": 1049111, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/02dfecae7cab53753a210d191180274e?s=128&d=identicon&r=PG", "display_name": "Allan Jardine", "link": "https://stackoverflow.com/users/1049111/allan-jardine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3308, "favorite_count": 1, "accepted_answer_id": 53196435, "answer_count": 2, "score": 0, "last_activity_date": 1541618852, "creation_date": 1541592454, "question_id": 53189169, "link": "https://stackoverflow.com/questions/53189169/resolve-a-promise-in-a-typescript-type", "title": "Resolve a promise in a TypeScript type", "body": "<p>This is a continuation of <a href=\"https://stackoverflow.com/questions/53174191/infering-return-type-in-a-nested-object-with-typescript\">a question about resolving return types</a>. I'm <em>so</em> close to what I'm looking to do (which is to have a common function to build model instances based on validated data) and it works fine in JS, but I can't figure out the final part for the TS typing.</p>\n\n<p>The key is the return for my <code>Init</code> type - specifically the <code>Builder&lt;T[K]&gt;</code> part. I understand why that results in <code>Builder&lt;(id: number) =&gt; Promise&lt;Test&gt;&gt;</code> as the returned type, but I can't for the life of me figure out how to tell TS that in fact it is just <code>Test</code> being returned, not the function that returns a Promise of <code>Test</code>.</p>\n\n<p>The following can be copy / pasted into VSCode (or whatever) to show the issue. The <code>ter1</code> variable should be an instance of <code>Test</code>, and when compiled to JS it is, but TS doesn't see that.</p>\n\n<pre><code>export interface Builder&lt;T&gt; {\n    (values: any, db: any): Promise&lt;T&gt;\n}\n\nexport interface Wrapper {\n    &lt;T, TId&gt;(\n        construct: (id: TId, db: any | null) =&gt; Promise&lt;T&gt;,\n        idSrc: string | string[],\n        errorMsg: string\n    ): Builder&lt;T&gt;\n}\n\nlet builder: Wrapper = function (construct, idSrc, errorMsg ) {\n    // A function that can be used to construct the instance\n    return async function(values: any, db: any | null) {\n        let id = null;\n        let inst = await construct(id, db);\n\n        if (!inst) {\n            throw new Error(errorMsg);\n        }\n\n        return inst;\n    };\n}\n\n\nclass Test {\n    is1 = true;\n\n    static async fromId( id: number ) {\n        var inst = new Test();\n        // Some async action (e.g. a db read)\n        return inst;\n    }\n}\nclass Test2 {\n    is2 = true;\n\n    static async fromId( id: number ) {\n        var inst = new Test2();\n        // Some async action (e.g. a db read)\n        return inst;\n    }\n}\n\n\ntype Config&lt;T extends {}&gt; = {\n    inputs?: {[index:string]: any},\n    inst?: T;\n};\n\ntype Init = &lt;T extends {[key:string]: any}&gt;(\n    db: any,\n    config: Config&lt;T&gt;\n) =&gt; Promise&lt;{[K in keyof T]: Builder&lt;T[K]&gt;}&gt;; // ???\n\nlet init: Init = async function ( db, config ) {\n    let ret: any = {};\n\n    if ( config.inst ) {\n        for (let [key, value] of Object.entries(config.inst)) {\n            let res = await value( {}, {} );\n            ret[ key ] = res;\n        }\n    }\n\n    return ret;\n}\n\n\nasync function allan () {\n    let { ter1, ter2 } = await init( null, {\n        inst: {\n            ter1: Test.fromId,\n            ter2: Test2.fromId\n        }\n    } );\n\n    console.log( ter1.is1, ter1.is2 ); // should be `true undefined`\n\n    // Test `builder` typing\n    var t1Wrapper = builder( Test.fromId, 'id', 'test');\n    var t2Wrapper = builder( Test2.fromId, 'id', 'test');\n\n    var t1 = await t1Wrapper({}, {});\n    var t2 = await t2Wrapper({}, {});\n\n    t1.is1;\n    t2.is2;\n}\n\nallan();\n</code></pre>\n\n<p>Thank you!</p>\n"}, {"tags": ["typescript", "styled-components"], "comments": [{"owner": {"reputation": 6534, "user_id": 101116, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Vk7ug.jpg?s=128&g=1", "display_name": "Ashley Williams", "link": "https://stackoverflow.com/users/101116/ashley-williams"}, "edited": false, "score": 0, "creation_date": 1549889494, "post_id": 53189010, "comment_id": 96054158, "body": "Did you manage to fix this?"}, {"owner": {"reputation": 12496, "user_id": 1283776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/abb815001c365007d50d2bdb3226e70a?s=128&d=identicon&r=PG", "display_name": "user1283776", "link": "https://stackoverflow.com/users/1283776/user1283776"}, "reply_to_user": {"reputation": 6534, "user_id": 101116, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Vk7ug.jpg?s=128&g=1", "display_name": "Ashley Williams", "link": "https://stackoverflow.com/users/101116/ashley-williams"}, "edited": false, "score": 0, "creation_date": 1549889907, "post_id": 53189010, "comment_id": 96054395, "body": "I did not manage to fix this"}], "answers": [{"tags": [], "owner": {"reputation": 134, "user_id": 181561, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bWiee.png?s=128&g=1", "display_name": "Adi Unnithan", "link": "https://stackoverflow.com/users/181561/adi-unnithan"}, "is_accepted": false, "score": 0, "last_activity_date": 1571708655, "creation_date": 1571708655, "answer_id": 58496087, "question_id": 53189010, "link": "https://stackoverflow.com/questions/53189010/styled-components-babel-plugin-in-create-react-app-with-typescript/58496087#58496087", "title": "Styled components babel plugin in create-react-app with TypeScript?", "body": "<p>I hit this same issue. I was trying to run a <code>tsc -b -w</code> (watch) over a monorepo while at the same time running a <code>react-scripts start</code> in a <code>create-react-app</code> project so I could watch projects and build upstream ones if they changed.</p>\n\n<p>I eventually realized that the reason this wasn't working was because I had the styled components defined in a <code>.ts</code> file instead of a <code>.tsx</code> file, for example a <code>Menu.styles.ts</code> file. When I renamed it to <code>Menu.styles.tsx</code> the concurrent watch + <code>start</code> worked consistently.</p>\n\n<p>Hope this helps someone.</p>\n"}], "owner": {"reputation": 12496, "user_id": 1283776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/abb815001c365007d50d2bdb3226e70a?s=128&d=identicon&r=PG", "display_name": "user1283776", "link": "https://stackoverflow.com/users/1283776/user1283776"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 606, "favorite_count": 3, "answer_count": 1, "score": 4, "last_activity_date": 1571708655, "creation_date": 1541591822, "question_id": 53189010, "link": "https://stackoverflow.com/questions/53189010/styled-components-babel-plugin-in-create-react-app-with-typescript", "title": "Styled components babel plugin in create-react-app with TypeScript?", "body": "<p>Can I use the styled components babel plugin in a create-react-app application that uses TypeScript?</p>\n\n<p>I have read in the docs that there is a \"macro [that] incorporates all the functionality of [the] babel plugin while allowing the unejected tooling to handle the Babel part of the build process.\"</p>\n\n<p>I have tried:</p>\n\n<pre><code>npm install babel-plugin-macros\n</code></pre>\n\n<p>and </p>\n\n<pre><code>import styled from 'styled-components/macro';\nconst Div = styled.div`\n`;\n</code></pre>\n\n<p>On <code>npm run start</code> in the console I get</p>\n\n<pre><code>Compiled with warnings.\n\n./node_modules/babel-plugin-macros/dist/index.js\n62:46-53 Critical dependency: require function is used in a way in which dependencies cannot be statically extracted\n\n./node_modules/babel-plugin-macros/node_modules/cosmiconfig/dist/loaders.js\n8:17-34 Critical dependency: the request of a dependency is an expression\n</code></pre>\n\n<p>When visiting the application in the browser I get</p>\n\n<pre><code>TypeError: __WEBPACK_IMPORTED_MODULE_1_styled_components_macro__.a.div is not a function\n</code></pre>\n"}, {"tags": ["jquery", "typescript", "webpack"], "comments": [{"owner": {"reputation": 2314, "user_id": 8569519, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JhomB.jpg?s=128&g=1", "display_name": "scipper", "link": "https://stackoverflow.com/users/8569519/scipper"}, "edited": false, "score": 0, "creation_date": 1541591225, "post_id": 53188710, "comment_id": 93266612, "body": "did you mean <code>jquery-datetimepicker</code>?"}, {"owner": {"reputation": 696, "user_id": 5381951, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ph1jHS1_Y_U/AAAAAAAAAAI/AAAAAAAAAFY/33hDqu1RdWc/photo.jpg?sz=128", "display_name": "Chris Jung", "link": "https://stackoverflow.com/users/5381951/chris-jung"}, "reply_to_user": {"reputation": 2314, "user_id": 8569519, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JhomB.jpg?s=128&g=1", "display_name": "scipper", "link": "https://stackoverflow.com/users/8569519/scipper"}, "edited": false, "score": 0, "creation_date": 1541591796, "post_id": 53188710, "comment_id": 93266912, "body": "How can I use jquery-datetimepicker with TS?"}, {"owner": {"reputation": 2314, "user_id": 8569519, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JhomB.jpg?s=128&g=1", "display_name": "scipper", "link": "https://stackoverflow.com/users/8569519/scipper"}, "edited": false, "score": 0, "creation_date": 1541591906, "post_id": 53188710, "comment_id": 93266973, "body": "If you are not using any framework, you have to import <code>jquery</code> first, then <code>jquery-ui</code> and then <code>$</code> or <code>jQuery</code> is available in global scope."}, {"owner": {"reputation": 696, "user_id": 5381951, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ph1jHS1_Y_U/AAAAAAAAAAI/AAAAAAAAAFY/33hDqu1RdWc/photo.jpg?sz=128", "display_name": "Chris Jung", "link": "https://stackoverflow.com/users/5381951/chris-jung"}, "reply_to_user": {"reputation": 2314, "user_id": 8569519, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JhomB.jpg?s=128&g=1", "display_name": "scipper", "link": "https://stackoverflow.com/users/8569519/scipper"}, "edited": false, "score": 0, "creation_date": 1541592489, "post_id": 53188710, "comment_id": 93267245, "body": "I already have that working. But the method $(...).datetimepicker() is not available."}], "owner": {"reputation": 696, "user_id": 5381951, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ph1jHS1_Y_U/AAAAAAAAAAI/AAAAAAAAAFY/33hDqu1RdWc/photo.jpg?sz=128", "display_name": "Chris Jung", "link": "https://stackoverflow.com/users/5381951/chris-jung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541590611, "creation_date": 1541590611, "question_id": 53188710, "link": "https://stackoverflow.com/questions/53188710/how-do-i-use-a-jquery-plugin-in-typescript", "title": "How do I use a jQuery Plugin in Typescript?", "body": "<p>I already have the types installed for e.g. datetimepicker (@types/jquery.ui.datetimepicker), but how do I go on from here?</p>\n\n<p>Yarn suggests to install it via</p>\n\n<blockquote>\n  <p>npm install --save jquery.ui.datetimepicker</p>\n</blockquote>\n\n<p>but it fails with a 404 error.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["android", "html", "json", "angular", "typescript"], "comments": [{"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1541590770, "post_id": 53188486, "comment_id": 93266428, "body": "See <a href=\"https://stackoverflow.com/questions/13964155/get-javascript-object-from-array-of-objects-by-value-of-property\" title=\"get javascript object from array of objects by value of property\">stackoverflow.com/questions/13964155/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1541591164, "post_id": 53188750, "comment_id": 93266578, "body": "Hi Sunil thanks for your time. I hardcoded a value to test if it works. This is what I have now: <code>this.selectedItem = data.find(item =&gt; item.plate == &quot;test3&quot;)</code> and I get an error on <code>data</code>: ``Property &#39;find&#39; does not exist on type &#39;Object&#39;"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1541591358, "post_id": 53188750, "comment_id": 93266682, "body": "so the response is not Array type. Can you print <code>data</code> and  check what values you get."}, {"owner": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1541591496, "post_id": 53188750, "comment_id": 93266745, "body": "yes I posted it below this sentence:  This is my result in my google dev tool from console.log(data). It&#39;s an array with JSON objects."}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1541592314, "post_id": 53188750, "comment_id": 93267164, "body": "Here is the sample demo which is working on sample data given <a href=\"https://stackblitz.com/edit/angular-r4gkd3\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-r4gkd3</a>"}, {"owner": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1541592980, "post_id": 53188750, "comment_id": 93267457, "body": "I think I understand you. First I need to convert this call <code>this.dataService.getRemoteData().subscribe(data =&gt; console.log(data));</code>into an array variable before I can use the find function."}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1541593132, "post_id": 53188750, "comment_id": 93267534, "body": "Right, you should convert it to <code>Array</code> before using <code>find</code> function."}, {"owner": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1541593484, "post_id": 53188750, "comment_id": 93267712, "body": "Alright I did this: <code>var arr = this.dataService.getRemoteData().subscribe(data =&gt; { [data] })     var obj = arr.find(item =&gt; item.plate == &quot;test2&quot;);     console.log(&quot;found &quot;, obj);</code> but still can&#39;t use the <code>find</code> function."}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1541593611, "post_id": 53188750, "comment_id": 93267807, "body": "Are you using http or HttpClient ?"}, {"owner": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1541594543, "post_id": 53188750, "comment_id": 93268249, "body": "Yes I am using this: <code>import { HttpClientModule } from &#39;@angular&#47;common&#47;http&#39;;</code>"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1541595155, "post_id": 53188750, "comment_id": 93268509, "body": "Updated the answer with http"}, {"owner": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1541595647, "post_id": 53188750, "comment_id": 93268739, "body": "I have read  about this solution in this post:  <a href=\"https://stackoverflow.com/questions/46630893/angular-res-json-is-not-a-function\" title=\"angular res json is not a function\">stackoverflow.com/questions/46630893/&hellip;</a> I used your solution and still problems with <code>data.find()</code>"}], "tags": [], "owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1541595101, "last_edit_date": 1541595101, "creation_date": 1541590784, "answer_id": 53188750, "question_id": 53188486, "link": "https://stackoverflow.com/questions/53188486/how-can-i-select-one-object-in-an-json-array-based-on-the-user-input-in-ionic-3/53188750#53188750", "title": "How can I select one object in an JSON array based on the user input in Ionic 3?", "body": "<p>you can use below snippet to find the specific object </p>\n\n<pre><code>    selectedItem;\n\n    this.dataService.getRemoteData().map((res: Response) =&gt; res.json()).subscribe(\n    data =&gt; {\n               this.data = data.find(item=&gt; item.plate == $plate)\n            }\n    );\n</code></pre>\n\n<p>Note : $plate dynamic value, so must pass the value for it.</p>\n"}, {"comments": [{"owner": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1541592229, "post_id": 53189002, "comment_id": 93267128, "body": "Thanks for you time. I have test both solutions and I get an error on <code>data.find</code> and <code>data.filter</code>. The same error of the solution above. Property &#39;find&#39; and &#39;filter&#39;."}, {"owner": {"reputation": 1, "user_id": 10618160, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/8e7ac4d9f0ec5cc7254f5879e04d8508?s=128&d=identicon&r=PG", "display_name": "sekoli", "link": "https://stackoverflow.com/users/10618160/sekoli"}, "reply_to_user": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1541600618, "post_id": 53189002, "comment_id": 93271453, "body": "Can you change <code>getRemoteData() {     return this.http.get(this.statusUrl);   }</code> function to <code>getRemoteData() {     return this.http.get(this.statusUrl).map(response as json);   }</code>. Then you should try find operation. If you still get same error, make sure your data object array."}], "tags": [], "owner": {"reputation": 1, "user_id": 10618160, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/8e7ac4d9f0ec5cc7254f5879e04d8508?s=128&d=identicon&r=PG", "display_name": "sekoli", "link": "https://stackoverflow.com/users/10618160/sekoli"}, "is_accepted": false, "score": 0, "last_activity_date": 1541591803, "creation_date": 1541591803, "answer_id": 53189002, "question_id": 53188486, "link": "https://stackoverflow.com/questions/53188486/how-can-i-select-one-object-in-an-json-array-based-on-the-user-input-in-ionic-3/53189002#53189002", "title": "How can I select one object in an JSON array based on the user input in Ionic 3?", "body": "<p>If your data contains test3 more than once and you need to use <code>filter</code></p>\n\n<pre><code>this.dataService.getRemoteData().subscribe(data =&gt; { items = data.filter(item =&gt; item.plate === 'enter what you need')});\n</code></pre>\n\n<p>If you want a data, use <code>find</code></p>\n\n<pre><code>this.dataService.getRemoteData().subscribe(data =&gt; { item = data.find(item =&gt; item.plate === 'enter what you need')});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "is_accepted": true, "score": 0, "last_activity_date": 1541643400, "last_edit_date": 1541643400, "creation_date": 1541642322, "answer_id": 53200507, "question_id": 53188486, "link": "https://stackoverflow.com/questions/53188486/how-can-i-select-one-object-in-an-json-array-based-on-the-user-input-in-ionic-3/53200507#53200507", "title": "How can I select one object in an JSON array based on the user input in Ionic 3?", "body": "<p>I have changed the URL and passed a query parameter. This is my code now:</p>\n\n<pre><code>getResults(plate) {  \n    this.dataService.getRemoteData(plate).subscribe(data =&gt; this.jsondata = data)\n  }\n</code></pre>\n\n<p>This is working fine!</p>\n"}], "owner": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 53200507, "answer_count": 3, "score": 0, "last_activity_date": 1541643400, "creation_date": 1541589660, "question_id": 53188486, "link": "https://stackoverflow.com/questions/53188486/how-can-i-select-one-object-in-an-json-array-based-on-the-user-input-in-ionic-3", "title": "How can I select one object in an JSON array based on the user input in Ionic 3?", "body": "<p>I am following an tutorial in Ionic 3 about HTTP. I have made a data provider called <strong>data.ts</strong>. This is my method:</p>\n\n<p><strong>data.ts</strong></p>\n\n<pre><code> getRemoteData() {\n    return this.http.get(this.statusUrl);\n  }\n</code></pre>\n\n<p>I am calling this method in <strong>home.ts</strong> like this:</p>\n\n<p><strong>home.ts</strong></p>\n\n<pre><code> ionViewDidLoad() {\n    this.dataService.getRemoteData().subscribe(data =&gt; console.log(data));\n  }\n</code></pre>\n\n<p>This is my result in my google dev tool from <code>console.log(data)</code>:</p>\n\n<pre><code> [{\"status\":\"P\",\"plate\":\"test2\",\"code:\"MGP150151\",\"message\":\"fail\"}\n,{\"status\":\"P\",\"plate\":\"test3\",\"code\":\"MGP160298\",\"message\":\"fail\"}\n,{\"status\":\"P\",\"plate\":\"test4\",\"code\":\"MGP140085\",\"message\":\"succes\"}\n,{\"status\":\"O\",\"plate\":\"test5\",\"code\":\"MGP150175\",\"message\":\"succes\"}]\n</code></pre>\n\n<p>The data provider is working good. Now my problem is I want to select just one object in this array. For example: the user enters <code>test3</code> based on <code>plate</code> and the app must return this result:</p>\n\n<pre><code>{\"status\":\"P\",\"plate\":\"test3\",\"code\":\"MGP160298\",\"message\":\"fail\"}\n</code></pre>\n\n<p>Then I am binding like this:</p>\n\n<pre><code>&lt;ul&gt;\n    &lt;li *ngFor=\"let jsondata of data&gt;\n      &lt;span&gt;{{jsondata.plate}}&lt;/span&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>I have searched over the internet and I found something like this:</p>\n\n<p><a href=\"https://developer.mozilla.org/nl/docs/Web/JavaScript/Reference/Global_Objects/Array/find\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/nl/docs/Web/JavaScript/Reference/Global_Objects/Array/find</a></p>\n\n<p>I don't know how to use this on my JSON object array. </p>\n\n<p>Can someone point me in the right direction?</p>\n\n<p>Kind regards </p>\n\n<p>Source I used:</p>\n\n<p><a href=\"https://www.joshmorony.com/loading-remote-json-data-with-http-in-ionic-2/\" rel=\"nofollow noreferrer\">https://www.joshmorony.com/loading-remote-json-data-with-http-in-ionic-2/</a></p>\n\n<p><a href=\"https://angular.io/guide/http\" rel=\"nofollow noreferrer\">https://angular.io/guide/http</a></p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 887685, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6e7daead2ff2a9c54a534bd6b6cea250?s=128&d=identicon&r=PG", "display_name": "Anze", "link": "https://stackoverflow.com/users/887685/anze"}, "edited": false, "score": 0, "creation_date": 1541675853, "post_id": 53188463, "comment_id": 93301208, "body": "Thanks for answer, but since I&#39;m already extending component with other class, I went with service solution."}], "tags": [], "owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "is_accepted": false, "score": 0, "last_activity_date": 1541589607, "creation_date": 1541589607, "answer_id": 53188463, "question_id": 53188232, "link": "https://stackoverflow.com/questions/53188232/angular-reusable-router-change-observer/53188463#53188463", "title": "Angular reusable router change observer", "body": "<p>You could make an abstract class which implements what you want and extend the ones you want to have that routing implementation.</p>\n\n<pre><code>abstract class BaseComponent {\n    observer;\n\n    constructor() {\n        this.observer = [1, 2, 3].forEach(number =&gt; {\n            this.do(number);\n        });\n    }\n\n    onDestroy() {\n        // this.observer.unsubscribe();\n    }\n\n    abstract do(number);\n}\n</code></pre>\n\n<p>And implement:</p>\n\n<pre><code>class Component extends BaseComponent {\n    do(number) {\n        console.log(number);\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 119, "user_id": 887685, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6e7daead2ff2a9c54a534bd6b6cea250?s=128&d=identicon&r=PG", "display_name": "Anze", "link": "https://stackoverflow.com/users/887685/anze"}, "edited": false, "score": 0, "creation_date": 1541674841, "post_id": 53189036, "comment_id": 93300746, "body": "Looks good, but how do I unsubscribe after I leave this component and want same functionality on the other? With this setup callbacks are adding to each other."}, {"owner": {"reputation": 119, "user_id": 887685, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6e7daead2ff2a9c54a534bd6b6cea250?s=128&d=identicon&r=PG", "display_name": "Anze", "link": "https://stackoverflow.com/users/887685/anze"}, "edited": false, "score": 0, "creation_date": 1541675239, "post_id": 53189036, "comment_id": 93300930, "body": "Already solved it. Removed from app.module providers and added into component providers. Also added <code>ngOnDestroy() { ...unsubscribe(); }</code> into service. Service singleton was the problem. Is there any problem with solution like this?"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 119, "user_id": 887685, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6e7daead2ff2a9c54a534bd6b6cea250?s=128&d=identicon&r=PG", "display_name": "Anze", "link": "https://stackoverflow.com/users/887685/anze"}, "edited": false, "score": 0, "creation_date": 1541675539, "post_id": 53189036, "comment_id": 93301069, "body": "That is absolutely fine.\ud83d\udc4d"}], "tags": [], "owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1541675865, "last_edit_date": 1541675865, "creation_date": 1541591891, "answer_id": 53189036, "question_id": 53188232, "link": "https://stackoverflow.com/questions/53188232/angular-reusable-router-change-observer/53189036#53189036", "title": "Angular reusable router change observer", "body": "<p>You can create a separate Service class to handle this small piece of code and will give you option of callback which will handles the async operations.</p>\n\n<h2>NavigationService</h2>\n\n<pre><code>@Injectable()\nexport class NavigationService {\n\n  private changeObserver;\n\n  constructor(private router: Router) {\n\n  }\n\n  execute(callback) {\n    this.changeObserver = router.events.pipe(\n      filter(event =&gt; event instanceof NavigationEnd)\n    ).subscribe((event: NavigationEnd) =&gt; {\n      if (event instanceof NavigationEnd)\n              callback();\n        });\n  }\n\n}\n</code></pre>\n\n<h2>In Component</h2>\n\n<pre><code>constructor(private NavigationService: navigationService) {\n\n        this.navigationService.execute(()=&gt;{\n             //your code goes here.\n        });\n       }\n</code></pre>\n\n<blockquote>\n  <p>Note : The code is written in stackoverflow editor directly so there could be some typo and syntactical error. Please correct yourself.</p>\n</blockquote>\n"}], "owner": {"reputation": 119, "user_id": 887685, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6e7daead2ff2a9c54a534bd6b6cea250?s=128&d=identicon&r=PG", "display_name": "Anze", "link": "https://stackoverflow.com/users/887685/anze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "accepted_answer_id": 53189036, "answer_count": 2, "score": 0, "last_activity_date": 1541675865, "creation_date": 1541588690, "question_id": 53188232, "link": "https://stackoverflow.com/questions/53188232/angular-reusable-router-change-observer", "title": "Angular reusable router change observer", "body": "<p>I am using router change observer in different components. I would like to have it reusable so I dont need to include this code into every component that needs it. How could I achive this?</p>\n\n<pre><code>changeObserver = null;\n\nconstructor(private router: Router) {\n        this.changeObserver = router.events.pipe(\n          filter(event =&gt; event instanceof NavigationEnd)  \n          ).subscribe((event: NavigationEnd) =&gt; {\n            if(event instanceof NavigationEnd)\n              // change of url\n              //--\n              // call some component functions - different for each component\n              //--\n          });\n       }\n\nngOnDestroy()\n{\n  this.changeObserver.unsubscribe();\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 5159, "user_id": 2882688, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/GZLz2.png?s=128&g=1", "display_name": "firegloves", "link": "https://stackoverflow.com/users/2882688/firegloves"}, "edited": false, "score": 0, "creation_date": 1541588995, "post_id": 53188163, "comment_id": 93265661, "body": "first of all you should have ages data paired in some way to the persons data. you could create a typescript model for example"}], "answers": [{"tags": [], "owner": {"reputation": 2401, "user_id": 9890873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkm7i.jpg?s=128&g=1", "display_name": "Jacopo Sciampi", "link": "https://stackoverflow.com/users/9890873/jacopo-sciampi"}, "is_accepted": false, "score": 1, "last_activity_date": 1541590024, "last_edit_date": 1541590024, "creation_date": 1541589313, "answer_id": 53188386, "question_id": 53188163, "link": "https://stackoverflow.com/questions/53188163/to-display-selected-list-item-values-in-another-component/53188386#53188386", "title": "To display selected list-item values in another component", "body": "<p>You can use <code>BehaviorSubject</code> to achieve that.</p>\n\n<p>Declare a service like that:</p>\n\n<pre><code>@Injectable()\nexport class YourService{\n  private data$ = new BehaviorSubject&lt;any&gt;(null);\n  public dataEvent = this.data$.asObservable();\n\n  public setData(data: any){\n    this.data$.next(data);\n  }\n}\n</code></pre>\n\n<p>Inject the service into the <code>listComponent</code></p>\n\n<pre><code>constructor(\n  ...\n  private serivice: YourService\n) {\n...\n}\n</code></pre>\n\n<p>add a function that trigger the BehaviorSubject:</p>\n\n<pre><code>function sendData(data){\n  this.service.setData(data);\n}\n</code></pre>\n\n<p><strong>Note</strong>: in this example I assume that when you click on a element, it will fire this function. Let's assume your html being something like that:</p>\n\n<pre><code>&lt;div *ngFor=\"let item of yourList&gt;\n  &lt;span (click)=\"sendData(item)&gt;{{item.name}}&lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>In the <code>detailsComponent</code> catch the result from the BehaviorSubject (inject the service first):</p>\n\n<pre><code>ngOnInit(){\n  this.service.dataEvent\n  .subscribe(res =&gt; {\n    if(!!res){\n      this.dataDetail = res;\n    }\n  });\n}\n</code></pre>\n\n<p>then in the .html, you could've something like that:</p>\n\n<pre><code>&lt;span&gt;Name: {{dataDetail.name}}&lt;/span&gt;\n</code></pre>\n\n<p>Stackblitz: <a href=\"https://stackblitz.com/edit/angular-d64vtt\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-d64vtt</a></p>\n"}, {"comments": [{"owner": {"reputation": 729, "user_id": 10176081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e3d78e0d50fd3c8d0a39ed3a482c06?s=128&d=identicon&r=PG&f=1", "display_name": "Empty_Soul", "link": "https://stackoverflow.com/users/10176081/empty-soul"}, "edited": false, "score": 0, "creation_date": 1541589765, "post_id": 53188409, "comment_id": 93265997, "body": "In your <code>stackblitz</code> example you are displaying only name i, e (Person1, Person 2....) . I want the age also..:)"}, {"owner": {"reputation": 729, "user_id": 10176081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e3d78e0d50fd3c8d0a39ed3a482c06?s=128&d=identicon&r=PG&f=1", "display_name": "Empty_Soul", "link": "https://stackoverflow.com/users/10176081/empty-soul"}, "edited": false, "score": 0, "creation_date": 1541589793, "post_id": 53188409, "comment_id": 93266008, "body": "If possible please do it for 2-3 persons..:)"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 729, "user_id": 10176081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e3d78e0d50fd3c8d0a39ed3a482c06?s=128&d=identicon&r=PG&f=1", "display_name": "Empty_Soul", "link": "https://stackoverflow.com/users/10176081/empty-soul"}, "edited": false, "score": 0, "creation_date": 1541590042, "post_id": 53188409, "comment_id": 93266125, "body": "Updated the demo."}, {"owner": {"reputation": 729, "user_id": 10176081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e3d78e0d50fd3c8d0a39ed3a482c06?s=128&d=identicon&r=PG&f=1", "display_name": "Empty_Soul", "link": "https://stackoverflow.com/users/10176081/empty-soul"}, "edited": false, "score": 0, "creation_date": 1541590111, "post_id": 53188409, "comment_id": 93266160, "body": "Thanks for the answer..:)"}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "reply_to_user": {"reputation": 729, "user_id": 10176081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e3d78e0d50fd3c8d0a39ed3a482c06?s=128&d=identicon&r=PG&f=1", "display_name": "Empty_Soul", "link": "https://stackoverflow.com/users/10176081/empty-soul"}, "edited": false, "score": 0, "creation_date": 1542106428, "post_id": 53188409, "comment_id": 93440589, "body": "Ok, let me check"}], "tags": [], "owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1541589428, "creation_date": 1541589428, "answer_id": 53188409, "question_id": 53188163, "link": "https://stackoverflow.com/questions/53188163/to-display-selected-list-item-values-in-another-component/53188409#53188409", "title": "To display selected list-item values in another component", "body": "<p>There are several way to communicate among different components. In your case you can use Services to communicate.</p>\n\n<p>Working demo is here - <a href=\"https://stackblitz.com/edit/list-examples-nh4hik\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/list-examples-nh4hik</a></p>\n\n<h3>person.service.ts</h3>\n\n<p>This is the service which will communicate between one component to another.</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Subject , Observable} from 'rxjs';\n\n@Injectable()\nexport class PersonService {\n\n  person$ = new Subject();\n\n  public setPerson(person){\n    this.person$.next(person);\n  }\n\n  public getPerson() : Observable&lt;any&gt;{\n    return this.person$.asObservable();\n  }\n\n}\n</code></pre>\n\n<h3>List Component</h3>\n\n<pre><code>export class ListComponent {\n\n  constructor(private personService : PersonService){}\n\n  public setSelected(person){\n    this.personService.setPerson(person);\n  }\n\n}\n</code></pre>\n\n<h3>DetailsComponent</h3>\n\n<pre><code>export class DetailsComponent implements OnInit {\n\n  person : any;\n  constructor(private personService : PersonService){}\n\n  ngOnInit() {\n\n    this.personService.getPerson().subscribe(person=&gt;{ //&lt;-- subscribe \n\n      this.person = person;\n    });\n\n  }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4880, "user_id": 1374311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1fbc434d6cdef7dac0f8245d761a03a?s=128&d=identicon&r=PG", "display_name": "alexey28", "link": "https://stackoverflow.com/users/1374311/alexey28"}, "is_accepted": false, "score": 0, "last_activity_date": 1541589668, "creation_date": 1541589668, "answer_id": 53188490, "question_id": 53188163, "link": "https://stackoverflow.com/questions/53188163/to-display-selected-list-item-values-in-another-component/53188490#53188490", "title": "To display selected list-item values in another component", "body": "<p>Different approach based on components input/output:</p>\n\n<p>Add onSelectionChange to material list:</p>\n\n<pre><code>(onSelectionChange)=\"personSelected(event)\"\n</code></pre>\n\n<p>Add output to your list component:</p>\n\n<pre><code>@Output() onPersonSelect = new EventEmitter&lt;any&gt;();;\n</code></pre>\n\n<p>In personSelected call onPersonSelect emit:</p>\n\n<pre><code>personSelected(event) {\n    this.onPersonSelect.emit(event);\n}\n</code></pre>\n\n<p>In app component add listener to list component:</p>\n\n<pre><code>personSelectedListener(event) {\n    this.selectedPerson = event;\n}\n</code></pre>\n\n<p>And add it to list:</p>\n\n<pre><code>&lt;app-list (onPersonSelect)=\"personSelectedListener\"&gt;&lt;/app-list&gt;\n</code></pre>\n\n<p>Finally pass selected person to detains component:</p>\n\n<pre><code>&lt;app-details [selectedPerson]=\"selectedPerson\"&gt;&lt;/app-details&gt;\n</code></pre>\n\n<p>Accept input parameter in details component and do what ever you want:</p>\n\n<pre><code>@Input() selectedPerson;\n</code></pre>\n\n<p>In template</p>\n\n<pre><code>&lt;h4&gt; Person Details &lt;/h4&gt;\n&lt;div&gt;Selected person is {{selectedPerson}}&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 729, "user_id": 10176081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e3d78e0d50fd3c8d0a39ed3a482c06?s=128&d=identicon&r=PG&f=1", "display_name": "Empty_Soul", "link": "https://stackoverflow.com/users/10176081/empty-soul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1133, "favorite_count": 0, "closed_date": 1553229631, "accepted_answer_id": 53188409, "answer_count": 3, "score": 0, "last_activity_date": 1541590024, "creation_date": 1541588409, "question_id": 53188163, "link": "https://stackoverflow.com/questions/53188163/to-display-selected-list-item-values-in-another-component", "closed_reason": "Not suitable for this site", "title": "To display selected list-item values in another component", "body": "<p>I have 2 components called <code>list</code>(i,e Person list) and <code>details</code>(i,e Person details) which i am displaying like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ini8f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ini8f.png\" alt=\"enter image description here\"></a> </p>\n\n<p><strong>Here my requirements is:</strong> On selecting particular <code>list-item</code> for ex:Person 1, I want to display the <code>Person 1</code> details on <code>details</code> component which present on the right side, something like this: </p>\n\n<p><a href=\"https://i.stack.imgur.com/Ae1Pi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ae1Pi.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can i  assign values for individual <code>list-item</code> (i,e Person 1, Person 2 ....) in <code>list</code> component and pass them to <code>details</code> component to display as shown in 2nd image.I saw some examples but they are not matching to my requirement.</p>\n\n<p><a href=\"https://stackblitz.com/edit/list-examples-kczke2?file=app/details/details.component.html\" rel=\"nofollow noreferrer\"><strong>DEMO</strong></a></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "edited": false, "score": 0, "creation_date": 1541587861, "post_id": 53187934, "comment_id": 93265155, "body": "why do you want to access two properties by one variable ?"}, {"owner": {"reputation": 2838, "user_id": 4099159, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh3.googleusercontent.com/-AjTth8DFBH8/AAAAAAAAAAI/AAAAAAAAABU/AlgxHE6CeCc/photo.jpg?sz=128", "display_name": "LuckyLikey", "link": "https://stackoverflow.com/users/4099159/luckylikey"}, "reply_to_user": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "edited": false, "score": 0, "creation_date": 1541588159, "post_id": 53187934, "comment_id": 93265296, "body": "convenience. Of course i would then rename it to reflect whats being done when setting it."}], "answers": [{"tags": [], "owner": {"reputation": 1226, "user_id": 1556857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa89ecd14973548ef4c8082a4dc1ca46?s=128&d=identicon&r=PG", "display_name": "muradm", "link": "https://stackoverflow.com/users/1556857/muradm"}, "is_accepted": false, "score": 0, "last_activity_date": 1541588214, "creation_date": 1541588214, "answer_id": 53188111, "question_id": 53187934, "link": "https://stackoverflow.com/questions/53187934/2-hostbinding-1-member-in-angular/53188111#53188111", "title": "2 @HostBinding 1 Member in Angular", "body": "<p>May be:</p>\n\n<pre><code>_hasFormControl: boolean = true;\n\n@HostBinding('class.form-control')\nget classFormControl() { return this._hasFormControl; }\n@HostBinding('class.px-0')\nget classPx0() { return this._hasFormControl; }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "is_accepted": true, "score": 1, "last_activity_date": 1541588872, "last_edit_date": 1541588872, "creation_date": 1541588548, "answer_id": 53188205, "question_id": 53187934, "link": "https://stackoverflow.com/questions/53187934/2-hostbinding-1-member-in-angular/53188205#53188205", "title": "2 @HostBinding 1 Member in Angular", "body": "<p>You can apply <code>@HostBinding(...)</code> more than once to the <em>same property</em> to achieve the desired result:</p>\n\n<pre><code>@Input()\n@HostBinding('class.form-control')\n@HostBinding('class.px-0')\nhasFormControl: boolean = true;\n</code></pre>\n"}], "owner": {"reputation": 2838, "user_id": 4099159, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh3.googleusercontent.com/-AjTth8DFBH8/AAAAAAAAAAI/AAAAAAAAABU/AlgxHE6CeCc/photo.jpg?sz=128", "display_name": "LuckyLikey", "link": "https://stackoverflow.com/users/4099159/luckylikey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 53188205, "answer_count": 2, "score": 0, "last_activity_date": 1541588872, "creation_date": 1541587652, "last_edit_date": 1541588559, "question_id": 53187934, "link": "https://stackoverflow.com/questions/53187934/2-hostbinding-1-member-in-angular", "title": "2 @HostBinding 1 Member in Angular", "body": "<p>I Use the following to default a bootstrap class when my component is used. It works perfectly well (angular 6):</p>\n\n<pre><code>@Input()\n@HostBinding('class.form-control')\nhasFormControl: boolean = true;\n</code></pre>\n\n<p>However i want to configure other HostBindings to apply on when the same variable is true, somewhat like this:</p>\n\n<pre><code>@Input()\n@HostBinding('class.form-control')\nhasFormControl: boolean = true;\n@HostBinding('class.px-0') this.hasFormControl; // does not compile\n</code></pre>\n\n<p>How to properly do this?</p>\n"}, {"tags": ["typescript", "vue.js", "webpack", "dynamic-import"], "comments": [{"owner": {"reputation": 6701, "user_id": 3591273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e9f02f036080c8be4e2abfcf753be75?s=128&d=identicon&r=PG", "display_name": "Nikos M.", "link": "https://stackoverflow.com/users/3591273/nikos-m"}, "edited": false, "score": 0, "creation_date": 1541587598, "post_id": 53187687, "comment_id": 93265033, "body": "there is a <code>babel</code> plugin called <code>dynamic-import</code> to dynamicaly import plugins into your app, is this used?"}, {"owner": {"reputation": 7775, "user_id": 423839, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/87198e930e8a9974c207222c0e164174?s=128&d=identicon&r=PG", "display_name": "Archeg", "link": "https://stackoverflow.com/users/423839/archeg"}, "reply_to_user": {"reputation": 6701, "user_id": 3591273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e9f02f036080c8be4e2abfcf753be75?s=128&d=identicon&r=PG", "display_name": "Nikos M.", "link": "https://stackoverflow.com/users/3591273/nikos-m"}, "edited": false, "score": 0, "creation_date": 1541588221, "post_id": 53187687, "comment_id": 93265325, "body": "@NikosM. No, I&#39;ve never heard of it. I&#39;ll try to read more about it, but in my head, I should not have a need to use any build plugins, dynamic import should be sufficient"}, {"owner": {"reputation": 5668, "user_id": 2548746, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/0ccce8d8768f2a8173e18c5f1ea329c5?s=128&d=identicon&r=PG", "display_name": "PlayMa256", "link": "https://stackoverflow.com/users/2548746/playma256"}, "edited": false, "score": 0, "creation_date": 1541594549, "post_id": 53187687, "comment_id": 93268251, "body": "try reading t his: <a href=\"https://medium.com/js-dojo/code-splitting-with-vue-js-and-webpack-c9830b29d557\" rel=\"nofollow noreferrer\">medium.com/js-dojo/&hellip;</a> and yes, you need @babel/plugin-syntax-dynamic-import at the end."}, {"owner": {"reputation": 7775, "user_id": 423839, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/87198e930e8a9974c207222c0e164174?s=128&d=identicon&r=PG", "display_name": "Archeg", "link": "https://stackoverflow.com/users/423839/archeg"}, "reply_to_user": {"reputation": 5668, "user_id": 2548746, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/0ccce8d8768f2a8173e18c5f1ea329c5?s=128&d=identicon&r=PG", "display_name": "PlayMa256", "link": "https://stackoverflow.com/users/2548746/playma256"}, "edited": false, "score": 0, "creation_date": 1541596477, "post_id": 53187687, "comment_id": 93269167, "body": "@PlayMa256 Ok, I&#39;ve tried to follow the article, and I seem to succeed, but unfortunately, this is not what I want. Looks like Babel/Webpack need to process chunks before being able to find them. By that I mean generate <code>0.js</code> (or <code>bundle.0.js</code> in article) out of my <code>TestChunk.js</code>. This is good for code splitting but unappliable in my case. I want to be able to upload <code>TestChunk.js</code> to a production server and server should grasp this file. This means that webpack will build <code>Home.js</code> and <code>TestChunk.js</code> separately and it doesn&#39;t know about <code>TestChunk.js</code> when it builds <code>Home.js</code>"}, {"owner": {"reputation": 6701, "user_id": 3591273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e9f02f036080c8be4e2abfcf753be75?s=128&d=identicon&r=PG", "display_name": "Nikos M.", "link": "https://stackoverflow.com/users/3591273/nikos-m"}, "edited": false, "score": 0, "creation_date": 1542448372, "post_id": 53187687, "comment_id": 93578036, "body": "dynamic <code>import</code> is NOT supported for <code>import</code> directives (only static <code>import</code>) maybe babel plugin has some workaround, else try to use dynamic <code>require</code> if possible. <code>require</code> can be dynamic but works in node, else simply add the script tag dynamicaly in your web page"}], "owner": {"reputation": 7775, "user_id": 423839, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/87198e930e8a9974c207222c0e164174?s=128&d=identicon&r=PG", "display_name": "Archeg", "link": "https://stackoverflow.com/users/423839/archeg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 871, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541586762, "creation_date": 1541586762, "question_id": 53187687, "link": "https://stackoverflow.com/questions/53187687/dynamic-import-with-webpack", "title": "Dynamic import with webpack", "body": "<p>I have a trouble implementing a dynamic import (I might just have a lack of understanding the concept). </p>\n\n<p>I have a <code>vue.js</code> application written in <code>typescript</code> with a <code>webpack</code>. All frameworks are last stable versions. I'd like this application to support plugin components. The plugin is defined in application configuration and then loaded with a dynamic import and can be shown somewhere. </p>\n\n<p>I set up two separate configurations in Webpack config, one for the app, another for the plugin:</p>\n\n<p><code>webpack.config.js</code>:</p>\n\n<pre><code>...\nvar main = Object.assign({\n        entry: {\n           Home: './ViewModels/Home/main.ts'\n        },\n        output: {\n            path: path.join(__dirname, \"./Scripts/dist/\"),\n            filename: \"[name].js\",\n            chunkFilename: '[name].js'\n        },\n    },\n    vueJsConfig);\n\nvar testChunkConfig = Object.assign({\n        entry: {\n           TestChunk: './ViewModels/Test/registrations.ts'\n        },\n        output: {\n            path: path.join(__dirname, \"./Scripts/dist/\"),\n            filename: \"[name].js\",\n            chunkFilename: '[name].js'\n        },\n    },\n    vueJsConfig);\n\n\nmodule.exports = [main, testChunkConfig];\n</code></pre>\n\n<p>`~/ViewModels/TestChunk/registrations.ts':</p>\n\n<pre><code>import Vue from \"vue\";\nVue.component('testExternal', require('./testExternalComponent.vue').default);\n</code></pre>\n\n<p>`~/ViewModels/Home/main.ts':</p>\n\n<pre><code>...\nlet test = \"TestChunk\";\nimport(test);\n...\n</code></pre>\n\n<p>Usage:\n<code>~/ViewModels/Components/ProjectAdministration/Test/projectAdminTest.vue</code></p>\n\n<pre><code>&lt;template&gt;\n    &lt;div&gt;\n        &lt;h2&gt;Test Page&lt;/h2&gt;\n        &lt;testExternal&gt;&lt;/testExternal&gt;\n    &lt;/div&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p>Unfortunately, this shows an error:</p>\n\n<pre><code>Uncaught (in promise) Error: Cannot find module 'TestChunk'\n    at eval (eval at ./ViewModels/Home lazy recursive\n</code></pre>\n"}, {"tags": ["node.js", "mongodb", "typescript", "loopback"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 5459629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VDVM.jpg?s=128&g=1", "display_name": "Citizen", "link": "https://stackoverflow.com/users/5459629/citizen"}, "is_accepted": false, "score": 1, "last_activity_date": 1541587362, "creation_date": 1541587362, "answer_id": 53187864, "question_id": 53187650, "link": "https://stackoverflow.com/questions/53187650/how-to-set-the-mongodb-collection-name-when-using-loopback-v4/53187864#53187864", "title": "How to set the mongodb collection name when using loopback v4?", "body": "<p>after sometime (try and error), found out that the collection name is exactly your model name.</p>\n\n<p>the structure of the loopback 4 as far as i know:</p>\n\n<ul>\n<li>models\n\n<ul>\n<li>yourmodel.model.ts</li>\n</ul></li>\n<li>datasources\n\n<ul>\n<li>yourdatasource.datasource.ts</li>\n<li>yourdatasource.datasource.json</li>\n</ul></li>\n<li>controllers</li>\n<li>repositories</li>\n</ul>\n\n<p>i think it would be nice if they add the collection name as a field to the json file in datasource directory, since it already includes the configuration for the mongodb.</p>\n\n<p><em>hope this helps. thought it would be nice to have this on Stackoverflow. Please feel free to add to this answer, so it would cover more edge cases.</em></p>\n"}], "owner": {"reputation": 11, "user_id": 5459629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VDVM.jpg?s=128&g=1", "display_name": "Citizen", "link": "https://stackoverflow.com/users/5459629/citizen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571399866, "creation_date": 1541586614, "question_id": 53187650, "link": "https://stackoverflow.com/questions/53187650/how-to-set-the-mongodb-collection-name-when-using-loopback-v4", "title": "How to set the mongodb collection name when using loopback v4?", "body": "<p>Loopback v.4 is relatively new and I couldn't find how to modify the name of the mongodb collection here on stackoverflow.</p>\n"}, {"tags": ["javascript", "typescript", "firebase", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "reply_to_user": {"reputation": 466, "user_id": 9460996, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JaiDeBjvS6g/AAAAAAAAAAI/AAAAAAAAExE/U39U4snQYZk/photo.jpg?sz=128", "display_name": "filip", "link": "https://stackoverflow.com/users/9460996/filip"}, "edited": false, "score": 1, "creation_date": 1541597009, "post_id": 53187926, "comment_id": 93269434, "body": "FYI, I&#39;ve just made some tests and slashes (/) in the array value do not create any problem (I suspected that maybe the / were the problem cause... but no). If I test your database model and values with a &quot;pure&quot; javascript code the query works well."}], "tags": [], "owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "is_accepted": false, "score": 1, "last_activity_date": 1541587632, "creation_date": 1541587632, "answer_id": 53187926, "question_id": 53187513, "link": "https://stackoverflow.com/questions/53187513/firestore-where-statement-with-array-containts-doesnt-work/53187926#53187926", "title": "Firestore where statement with array-containts doesn&#39;t work", "body": "<p>Apparently, you are querying for <code>users/uid</code> while it is <code>/users/uid</code> that is stored in your database, see the first / </p>\n"}, {"comments": [{"owner": {"reputation": 466, "user_id": 9460996, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JaiDeBjvS6g/AAAAAAAAAAI/AAAAAAAAExE/U39U4snQYZk/photo.jpg?sz=128", "display_name": "filip", "link": "https://stackoverflow.com/users/9460996/filip"}, "edited": false, "score": 0, "creation_date": 1541606347, "post_id": 53187991, "comment_id": 93275169, "body": "I don&#39;t want to subscribe, I want to get the Observable as a return value @yehonatan yehezkel"}, {"owner": {"reputation": 732, "user_id": 2613863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc26af105e67636a5760b3b0ad40db54?s=128&d=identicon&r=PG", "display_name": "yehonatan yehezkel", "link": "https://stackoverflow.com/users/2613863/yehonatan-yehezkel"}, "reply_to_user": {"reputation": 466, "user_id": 9460996, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JaiDeBjvS6g/AAAAAAAAAAI/AAAAAAAAExE/U39U4snQYZk/photo.jpg?sz=128", "display_name": "filip", "link": "https://stackoverflow.com/users/9460996/filip"}, "edited": false, "score": 0, "creation_date": 1542892660, "post_id": 53187991, "comment_id": 93737458, "body": "i think that you the rxjs operator switchMap will solve your problem. <a href=\"https://youtu.be/65Us8NwmYf4?t=242\" rel=\"nofollow noreferrer\">youtu.be/65Us8NwmYf4?t=242</a>"}], "tags": [], "owner": {"reputation": 732, "user_id": 2613863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc26af105e67636a5760b3b0ad40db54?s=128&d=identicon&r=PG", "display_name": "yehonatan yehezkel", "link": "https://stackoverflow.com/users/2613863/yehonatan-yehezkel"}, "is_accepted": false, "score": 0, "last_activity_date": 1541606437, "last_edit_date": 1541606437, "creation_date": 1541587828, "answer_id": 53187991, "question_id": 53187513, "link": "https://stackoverflow.com/questions/53187513/firestore-where-statement-with-array-containts-doesnt-work/53187991#53187991", "title": "Firestore where statement with array-containts doesn&#39;t work", "body": "<p>i think that you return \"this.chat\" from the service before the Observable comeback from the server . \nyou need to return the Observable himself....\ntry this change:</p>\n\n<pre><code>getUserChats(): Observable &lt; Chat[] &gt; {\n    let uid = '-1';\n    this.auth.currUser.subscribe(user =&gt; (\n            uid = user.uid;\n\n            //that what you need to return\n            return this.afs\n                .collection('chats', ref =&gt; ref.where('members', 'array- \n                        contains ', `users/${uid}`))\n                        .snapshotChanges()\n                        .pipe(\n                            map(actions =&gt; {\n                                return actions.map(action =&gt; {\n                                    const data = action.payload.doc.data() as Chat;\n                                    const id = action.payload.doc.id;\n                                    return { id,...data   };\n                                });\n                            })\n                        ) as Observable &lt; Chat[] &gt; ;\n\n                    }\n\n                ));\n</code></pre>\n\n<p>each Observable need subscribe - but in angular the async pipe make it for you - so you just need to pass him Observable.</p>\n\n<p>i edit my answer - now the query waits to the answer from the user auth</p>\n"}, {"tags": [], "owner": {"reputation": 466, "user_id": 9460996, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JaiDeBjvS6g/AAAAAAAAAAI/AAAAAAAAExE/U39U4snQYZk/photo.jpg?sz=128", "display_name": "filip", "link": "https://stackoverflow.com/users/9460996/filip"}, "is_accepted": true, "score": 0, "last_activity_date": 1541596253, "creation_date": 1541596253, "answer_id": 53190148, "question_id": 53187513, "link": "https://stackoverflow.com/questions/53187513/firestore-where-statement-with-array-containts-doesnt-work/53190148#53190148", "title": "Firestore where statement with array-containts doesn&#39;t work", "body": "<p>The value '-1' will be searched for instantly because I'm not waiting for the User Observable to finish, that's why it searchs for -1 and finds nothing, so I have to wait for the user Observable. Still don't know how to return the inner observable then.</p>\n"}], "owner": {"reputation": 466, "user_id": 9460996, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JaiDeBjvS6g/AAAAAAAAAAI/AAAAAAAAExE/U39U4snQYZk/photo.jpg?sz=128", "display_name": "filip", "link": "https://stackoverflow.com/users/9460996/filip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 53190148, "answer_count": 3, "score": 0, "last_activity_date": 1541606437, "creation_date": 1541586131, "question_id": 53187513, "link": "https://stackoverflow.com/questions/53187513/firestore-where-statement-with-array-containts-doesnt-work", "title": "Firestore where statement with array-containts doesn&#39;t work", "body": "<p>I check my database for a reference (which exists) and i don't get any chats back but I don't see where.</p>\n\n<p><strong>chat.service.ts:</strong></p>\n\n<pre><code>  getUserChats(): Observable&lt;Chat[]&gt; {\n        let uid = '-1';\n        this.auth.currUser.subscribe(user =&gt; (uid = user.uid));\n        this.chats = this.afs\n          .collection('chats', ref =&gt; ref.where('members', 'array-contains', `users/${uid}`))\n          .snapshotChanges()\n          .pipe(\n            map(actions =&gt; {\n              return actions.map(action =&gt; {\n                const data = action.payload.doc.data() as Chat;\n                const id = action.payload.doc.id;\n                return {id, ...data};\n              });\n            })\n          ) as Observable&lt;Chat[]&gt;;\n        return this.chats;\n      }\n</code></pre>\n\n<p>The code is intented to get all the chats where the logged in user is a member in. I do this by checking the members array, if there is any reference to him.</p>\n\n<p><strong>chat.component.ts:</strong></p>\n\n<pre><code>chats: Observable&lt;Chat[]&gt;;\n  constructor(private router: Router, public chatService: ChatService, public dialog: MatDialog, public auth: AuthService) { }\n\n  ngOnInit() {\n    this.chats = this.chatService.getUserChats();\n  }\n</code></pre>\n\n<p><strong>chat.component.html:</strong></p>\n\n<pre><code>&lt;mat-list-option *ngFor=\"let chat of chats | async\" (click)=\"handleClick(chatList)\" [value]=\"chat.id\"&gt;\n        &lt;img matListAvatar src=\"./assets/avatar.svg\" alt=\"Avatar Icon\"&gt;\n        &lt;h3 mat-line&gt;{{chat.name}}&lt;/h3&gt;\n        &lt;p mat-line&gt;test&lt;/p&gt;\n      &lt;/mat-list-option&gt;\n</code></pre>\n\n<p><strong>Chat structure:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/QXVcx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QXVcx.png\" alt=\"model\"></a></p>\n"}, {"tags": ["typescript", "dictionary", "hash", "hashmap"], "answers": [{"comments": [{"owner": {"reputation": 5259, "user_id": 715286, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/BqXXo.jpg?s=128&g=1", "display_name": "Qortex", "link": "https://stackoverflow.com/users/715286/qortex"}, "edited": false, "score": 0, "creation_date": 1541586507, "post_id": 53187486, "comment_id": 93264526, "body": "Alright, thanks. Kind of sad! So if the object to test is <b>for sure</b> a hashmap, underkillTest is fine, right?"}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 5259, "user_id": 715286, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/BqXXo.jpg?s=128&g=1", "display_name": "Qortex", "link": "https://stackoverflow.com/users/715286/qortex"}, "edited": false, "score": 1, "creation_date": 1541590206, "post_id": 53187486, "comment_id": 93266197, "body": "@mic yes - but if you&#39;re hiding it with a function, belt and braces may prevent a future bit of odd behaviour."}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 6, "last_activity_date": 1541590142, "last_edit_date": 1541590142, "creation_date": 1541586021, "answer_id": 53187486, "question_id": 53187452, "link": "https://stackoverflow.com/questions/53187452/how-to-check-if-a-hash-map-is-empty-in-typescript/53187486#53187486", "title": "How to check if a hash map is empty in Typescript", "body": "<p>Funnily enough, your overkill solution is actually underkill; you need to go a bit further:</p>\n\n<pre><code>Object.keys(obj).length === 0 &amp;&amp; obj.constructor === Object\n</code></pre>\n\n<p>Examples:</p>\n\n<pre><code>function isEmptyUnderkill(obj: any) {\n    return Object.keys(obj).length === 0;\n}\n\nfunction isEmptyObject(obj: any) {\n    return Object.keys(obj).length === 0 &amp;&amp; obj.constructor === Object;\n}\n\n\nconst a = {};\nconst b = { name: 'User' };\n\nconsole.log(isEmptyUnderkill(a), isEmptyObject(a));\nconsole.log(isEmptyUnderkill(b), isEmptyObject(b));\nconsole.log(isEmptyUnderkill(new Date()), isEmptyObject(new Date()));\n</code></pre>\n\n<p>gives:</p>\n\n<pre><code>true true\nfalse false\ntrue false\n</code></pre>\n"}], "owner": {"reputation": 5259, "user_id": 715286, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/BqXXo.jpg?s=128&g=1", "display_name": "Qortex", "link": "https://stackoverflow.com/users/715286/qortex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6440, "favorite_count": 0, "accepted_answer_id": 53187486, "answer_count": 1, "score": 3, "last_activity_date": 1579711544, "creation_date": 1541585901, "last_edit_date": 1579711544, "question_id": 53187452, "link": "https://stackoverflow.com/questions/53187452/how-to-check-if-a-hash-map-is-empty-in-typescript", "title": "How to check if a hash map is empty in Typescript", "body": "<p>I have</p>\n\n\n\n<pre><code>my_map: { [name: string]: string }\n</code></pre>\n\n<p><strong>How do I check if the hashmap <code>my_map</code> is empty?</strong></p>\n\n<p>I can think of <code>Object.keys(my_map).length === 0</code> but it feels overkill.</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 0, "creation_date": 1541585842, "post_id": 53187413, "comment_id": 93264176, "body": "<a href=\"https://schneidenbach.gitbooks.io/typescript-cookbook/nameof-operator.html\" rel=\"nofollow noreferrer\">schneidenbach.gitbooks.io/typescript-cookbook/&hellip;</a>"}, {"owner": {"reputation": 6485, "user_id": 1849358, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8758a0291a9c0b7dab9f67681b0d0902?s=128&d=identicon&r=PG", "display_name": "andy mccullough", "link": "https://stackoverflow.com/users/1849358/andy-mccullough"}, "edited": false, "score": 3, "creation_date": 1541585850, "post_id": 53187413, "comment_id": 93264180, "body": "dont you have to know the name of the key to get the key?"}, {"owner": {"reputation": 73, "user_id": 10508281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5a81aecea058dd977b22252e30fdcb6?s=128&d=identicon&r=PG&f=1", "display_name": "Linnot", "link": "https://stackoverflow.com/users/10508281/linnot"}, "edited": false, "score": 0, "creation_date": 1541586168, "post_id": 53187413, "comment_id": 93264347, "body": "I know the name of the property. When I make changes, it will give an error on the property, but the key is a string value and will not give an error"}, {"owner": {"reputation": 6930, "user_id": 1287643, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/58fbf4309ed8205b568a28342105f31f?s=128&d=identicon&r=PG", "display_name": "rishat", "link": "https://stackoverflow.com/users/1287643/rishat"}, "edited": false, "score": 1, "creation_date": 1541586279, "post_id": 53187413, "comment_id": 93264412, "body": "You already have the name of the property. That&#39;s how you access this property in an object\u2014by its name. The question seems very odd to me to be honest."}, {"owner": {"reputation": 73, "user_id": 10508281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5a81aecea058dd977b22252e30fdcb6?s=128&d=identicon&r=PG&f=1", "display_name": "Linnot", "link": "https://stackoverflow.com/users/10508281/linnot"}, "reply_to_user": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 0, "creation_date": 1541586287, "post_id": 53187413, "comment_id": 93264418, "body": "@series0ne that&#39;s just perfect"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1541586559, "post_id": 53187413, "comment_id": 93264552, "body": "@Linnot - So based on that link, what you want <b>isn&#39;t</b> to know the name of the property. What you want is an error if the name you have isn&#39;t a valid property name for a given type. That&#39;s a very, very different thing. (And that link&#39;s <code>nameof</code> is a terrible name for it. More like <code>assertValidName</code>.)"}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 4, "last_activity_date": 1541585902, "creation_date": 1541585902, "answer_id": 53187453, "question_id": 53187413, "link": "https://stackoverflow.com/questions/53187413/javascript-nameof-object-property/53187453#53187453", "title": "Javascript nameof object property", "body": "<p>There is no <code>nameof</code> operator in Javascript/Typescript. You can creat a function that takes the key of another object and this is checked by the typescript compiler:</p>\n\n<pre><code>function keyOf&lt;T&gt;(o: T, k: keyof T) {\n    return k\n}\n\nlet o = { a: 1 }\nkeyOf(o, 'a'); //ok\nkeyOf(o, 'b'); //err\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 75, "user_id": 2046883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G0Klu.jpg?s=128&g=1", "display_name": "Marcel Mateman", "link": "https://stackoverflow.com/users/2046883/marcel-mateman"}, "is_accepted": false, "score": 1, "last_activity_date": 1592465113, "last_edit_date": 1592465113, "creation_date": 1592464571, "answer_id": 62444390, "question_id": 53187413, "link": "https://stackoverflow.com/questions/53187413/javascript-nameof-object-property/62444390#62444390", "title": "Javascript nameof object property", "body": "<p>Yes, this can be done in Javascript/Typescript. There is a <a href=\"https://github.com/dsherret/ts-nameof\" rel=\"nofollow noreferrer\">typescript module</a>.</p>\n\n<p>Shamelessly copied from the manual.</p>\n\n<pre><code>nameof(console);\nnameof(console.log);\nnameof(console[\"warn\"]);\n</code></pre>\n\n<p>Transforms to:</p>\n\n<pre><code>\"console\";\n\"log\";\n\"warn\";\n</code></pre>\n\n<p>There are more nice examples in the manual.</p>\n\n<p>The solution for yours question:</p>\n\n<pre><code>interface IMyObject {\n     myPropertyOther: string;\n}\nlet myObject: IMyObject = {\n    myProperty: 'Hello world'\n};\nconsole.log(myObject[nameof&lt;IMyObject&gt;((o) =&gt; o.myProperty)]); \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1601043878, "post_id": 64065796, "comment_id": 113290258, "body": "If it&#39;s just five lines of code, why don&#39;t you post them in your answer? Also currently your answer is basically link-only, it doesn&#39;t even show how to use the library or what the library would achieve."}, {"owner": {"reputation": 13080, "user_id": 553609, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c0eacc2216ee78427fa0774c5ae419bf?s=128&d=identicon&r=PG", "display_name": "Mathias Lykkegaard Lorenzen", "link": "https://stackoverflow.com/users/553609/mathias-lykkegaard-lorenzen"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1601058570, "post_id": 64065796, "comment_id": 113296865, "body": "I assumed that it would be simple enough for people to go to the repo and look at the single <code>ts</code> file to get the source code. I&#39;ve edited the post."}], "tags": [], "owner": {"reputation": 13080, "user_id": 553609, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c0eacc2216ee78427fa0774c5ae419bf?s=128&d=identicon&r=PG", "display_name": "Mathias Lykkegaard Lorenzen", "link": "https://stackoverflow.com/users/553609/mathias-lykkegaard-lorenzen"}, "is_accepted": false, "score": 2, "last_activity_date": 1601058525, "last_edit_date": 1601058525, "creation_date": 1601042997, "answer_id": 64065796, "question_id": 53187413, "link": "https://stackoverflow.com/questions/53187413/javascript-nameof-object-property/64065796#64065796", "title": "Javascript nameof object property", "body": "<p>I made a library that fetches the name of a property at runtime, even for types that don't exist at runtime (interfaces or types in TypeScript):</p>\n<p>It can be found on NPM here: <a href=\"https://www.npmjs.com/package/@fluffy-spoon/name-of\" rel=\"nofollow noreferrer\">@fluffy-spoon/name-of</a></p>\n<p>The source code is simple (just a few lines of code): <a href=\"https://github.com/ffMathy/FluffySpoon.JavaScript.NameOf\" rel=\"nofollow noreferrer\">https://github.com/ffMathy/FluffySpoon.JavaScript.NameOf</a></p>\n<h1>Usage</h1>\n<pre class=\"lang-js prettyprint-override\"><code>import { getPropertyName, getDeepPropertyName } from '@fluffy-spoon/name-of';\n\ninterface SomeType {\n  foo: boolean;\n\n  someNestedObject: {\n      bar: string;\n  }\n}\n\nconsole.log(getPropertyName&lt;SomeType&gt;(x =&gt; x.foo)); //prints &quot;foo&quot;\nconsole.log(getPropertyName&lt;SomeType&gt;(x =&gt; x.someNestedObject)); //prints &quot;someNestedObject&quot;\nconsole.log(getPropertyName&lt;SomeType&gt;(x =&gt; x.someNestedObject.bar)); //prints &quot;bar&quot;\n\nconsole.log(getDeepPropertyName&lt;SomeType&gt;(x =&gt; x.foo)); //prints &quot;foo&quot;\nconsole.log(getDeepPropertyName&lt;SomeType&gt;(x =&gt; x.someNestedObject)); //prints &quot;someNestedObject&quot;\nconsole.log(getDeepPropertyName&lt;SomeType&gt;(x =&gt; x.someNestedObject.bar)); //prints &quot;someNestedObject.bar&quot;\n</code></pre>\n<h1>Library source code</h1>\n<p>In case you don't want to install the NPM package.</p>\n<pre class=\"lang-js prettyprint-override\"><code>function getPropertyNameInternal&lt;T = unknown&gt;(expression: (instance: T) =&gt; any, options: {\n    isDeep: boolean\n}) {\n    let propertyThatWasAccessed = &quot;&quot;;\n    var proxy: any = new Proxy({} as any, {\n        get: function(_: any, prop: any) {\n            if(options.isDeep) {\n                if(propertyThatWasAccessed)\n                    propertyThatWasAccessed += &quot;.&quot;;\n                \n                propertyThatWasAccessed += prop;\n            } else {\n                propertyThatWasAccessed = prop;\n            }\n            return proxy;\n        }\n    });\n    expression(proxy);\n\n    return propertyThatWasAccessed;\n}\n\nexport function getPropertyName&lt;T = unknown&gt;(expression: (instance: T) =&gt; any) {\n    return getPropertyNameInternal(expression, {\n        isDeep: false\n    });\n}\n\nexport function getDeepPropertyName&lt;T = unknown&gt;(expression: (instance: T) =&gt; any) {\n    return getPropertyNameInternal(expression, {\n        isDeep: true\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 10508281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5a81aecea058dd977b22252e30fdcb6?s=128&d=identicon&r=PG&f=1", "display_name": "Linnot", "link": "https://stackoverflow.com/users/10508281/linnot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1522, "favorite_count": 0, "accepted_answer_id": 53187453, "answer_count": 3, "score": 1, "last_activity_date": 1601058525, "creation_date": 1541585752, "last_edit_date": 1541586573, "question_id": 53187413, "link": "https://stackoverflow.com/questions/53187413/javascript-nameof-object-property", "title": "Javascript nameof object property", "body": "<p>In C# there is the posibility to get the name of an object property as a string value.</p>\n\n<p>nameof(object.myProperty) --> \"myProprty\"</p>\n\n<p>Can this be done in Javascript/Typescript?</p>\n\n<p>Object.Keys() is the only thing i found, but it gives me all the keys.</p>\n\n<p>Example what I want to achieve:</p>\n\n<pre><code>export interface myObject {\n     myProperty: string;\n}\n\nconsole.log(myObject[\"myProperty\"]); \n</code></pre>\n\n<p>Let's say I change my interface for some reason to:</p>\n\n<pre><code>export interface myObject {\n     myPropertyOther: string;\n}\n\nconsole.log(myObject[\"myProperty\"]); // This will not give an error on build\n</code></pre>\n\n<p>So I want to have something like this:</p>\n\n<pre><code>console.log(myObject[nameOf(myObject.myProperty)]\n// This will give an error on build when the interface is changed\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 1, "last_activity_date": 1541947348, "creation_date": 1541947348, "answer_id": 53249804, "question_id": 53187316, "link": "https://stackoverflow.com/questions/53187316/strictfunctiontypes-and-inference-of-generic-union-types/53249804#53249804", "title": "&quot;--strictFunctionTypes&quot; and inference of generic union types", "body": "<p>As you may know, TypeScript infers the type argument for a type parameter of a function call by matching up the argument types against the parameter types and generating a set of \"inferences\" for each type parameter.  Each inference is either \"covariant\" or \"contravariant\" depending on whether the type of the inference matched an occurrence of the type parameter in a covariant or a contravariant position.  Then there are rules that determine the final inferred type of the type parameter based on the set of covariant and contravariant inferences.  <code>strictFunctionTypes</code> can affect whether certain positions are considered covariant or contravariant and thereby change the final result.  I haven't worked out the details of what happens in your example; if you're curious, look at the <code>inferTypes</code> and <code>getInferredType</code> functions in the TypeScript <a href=\"https://raw.githubusercontent.com/Microsoft/TypeScript/master/src/compiler/checker.ts\" rel=\"nofollow noreferrer\">checker</a>.</p>\n\n<p>I understand that your practical problem is that you are writing an inline arrow function <code>(a, s) =&gt; { ... }</code> in the <code>effects</code> array and you want <code>a</code> to get a contextual type of <code>Subject&lt;ActionA | ActionB | ActionC&gt;</code> so that you can call <code>a.next</code> with an <code>ActionC</code>.  I can think of a few ways you can achieve this:</p>\n\n<ol>\n<li><p>Lower the \"inference priority\" of the occurrence in <code>A</code> in the type of the <code>outerAction$</code> parameter to <code>createState$</code> by using a dummy intersection:</p>\n\n<pre><code>declare function createState$&lt;S, A&gt;(\n  reducer: Reducer&lt;S, A&gt;,\n  initialState: S,\n  outerAction$: Observable&lt;A &amp; {dummy?: undefined}&gt;,\n  optionalParams?: OptionalParams&lt;S, A&gt;,\n): Observable&lt;S&gt;\n</code></pre>\n\n<p>Then the inference for <code>A</code> from <code>reducer</code> will take priority over the one from <code>outerAction$</code>.  However, changing the type of <code>outerAction$</code> might have undesired side effects.</p></li>\n<li><p>Add a dummy property of type <code>A</code> to <code>Reducer</code> so that the <code>reducer</code> parameter gives you a covariant inference instead of just a contravariant inference:</p>\n\n<pre><code>export interface Reducer&lt;S, A&gt; {\n  (state: S, action: A): S;\n  _dummy?: A;\n}\n</code></pre>\n\n<p>However, this might have undesired side effects on other uses of the <code>Reducer</code> interface.</p></li>\n<li>Pass explicit type arguments on the call to <code>createState$</code>.</li>\n<li>Break <code>createState$</code> into a curried function that takes the reducer and returns another function that takes the remaining arguments.  Then the type arguments for <code>S</code> and <code>A</code> will be fixed based on the reducer during the first function call and won't be affected by <code>outerAction$</code>.</li>\n</ol>\n"}], "owner": {"reputation": 27, "user_id": 2340487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf8f95d868f8244d42cbb79d5e66d4d2?s=128&d=identicon&r=PG", "display_name": "user2340487", "link": "https://stackoverflow.com/users/2340487/user2340487"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "accepted_answer_id": 53249804, "answer_count": 1, "score": 0, "last_activity_date": 1541947348, "creation_date": 1541585386, "last_edit_date": 1541587002, "question_id": 53187316, "link": "https://stackoverflow.com/questions/53187316/strictfunctiontypes-and-inference-of-generic-union-types", "title": "&quot;--strictFunctionTypes&quot; and inference of generic union types", "body": "<p>I faced with some problem in my project which is totally unclear to me</p>\n\n<pre><code>// =========================== RxJS types imitation ===========================================================\n\ninterface Subscription {\n    unsubscribe(): void\n}\n\ntype Subscribe&lt;T&gt; = (value: T) =&gt; void\n\ninterface Observable&lt;T&gt; {\n    subscribe(subscribe: Subscribe&lt;T&gt;): Subscription\n}\n\ninterface Subject&lt;T&gt; {\n    next(value: T): void\n    subscribe(subscribe: Subscribe&lt;T&gt;): Subscription\n}\n\n\n// =========================== My custom types ===========================================================\n\n\nexport interface Reducer&lt;S, A&gt; {\n  (state: S, action: A): S;\n}\n\nexport interface Effect&lt;A, S&gt; {\n  (action$: Subject&lt;A&gt;, state$: Observable&lt;S&gt;): Subscription;\n}\n\nexport interface OptionalParams&lt;S, A&gt; {\n  effects?: Effect&lt;A, S&gt;[];\n}\n\n\n// =========================== Reproducing concrete types and variables ===========================================================\n\nconst initialState = {\n  some: true\n}\n\ntype State = typeof initialState\n\ninterface BaseAction&lt;T extends string&gt; {\n  type: T\n}\n\ninterface ActionA extends BaseAction&lt;\"A\"&gt; {\n  payload: string\n}\n\ninterface ActionB extends BaseAction&lt;\"B\"&gt; {\n  payload: number\n}\n\ninterface ActionC extends BaseAction&lt;\"C\"&gt; {\n  payload: boolean\n}\n\ndeclare const reducer: Reducer&lt;State, ActionA | ActionB | ActionC&gt;\n\ndeclare const outerAction$: Observable&lt;ActionA | ActionB&gt;\n\ndeclare function createState$&lt;S, A&gt;(\n  reducer: Reducer&lt;S, A&gt;,\n  initialState: S,\n  outerAction$: Observable&lt;A&gt;,\n  optionalParams?: OptionalParams&lt;S, A&gt;,\n): Observable&lt;S&gt;\n\n\n// =========================== Reproducing the problem ===========================================================\n\nconst state$1 = createState$(reducer, initialState, outerAction$)\n\ndeclare const someEffect: Effect&lt;ActionA | ActionB | ActionC, State&gt;\n\nconst state$2 = createState$(reducer, initialState, outerAction$, {\n  effects: [\n    someEffect,\n  ]\n})\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/#src=%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20RxJS%20types%20imitation%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%0Ainterface%20Subscription%20%7B%0A%20%20%20%20unsubscribe()%3A%20void%0A%7D%0A%0Atype%20Subscribe%3CT%3E%20%3D%20(value%3A%20T)%20%3D%3E%20void%0A%0Ainterface%20Observable%3CT%3E%20%7B%0A%20%20%20%20subscribe(subscribe%3A%20Subscribe%3CT%3E)%3A%20Subscription%0A%7D%0A%0Ainterface%20Subject%3CT%3E%20%7B%0A%20%20%20%20next(value%3A%20T)%3A%20void%0A%20%20%20%20subscribe(subscribe%3A%20Subscribe%3CT%3E)%3A%20Subscription%0A%7D%0A%0A%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20My%20custom%20types%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%0A%0Aexport%20interface%20Reducer%3CS%2C%20A%3E%20%7B%0A%20%20(state%3A%20S%2C%20action%3A%20A)%3A%20S%3B%0A%7D%0A%0Aexport%20interface%20Effect%3CA%2C%20S%3E%20%7B%0A%20%20(action%24%3A%20Subject%3CA%3E%2C%20state%24%3A%20Observable%3CS%3E)%3A%20Subscription%3B%0A%7D%0A%0Aexport%20interface%20OptionalParams%3CS%2C%20A%3E%20%7B%0A%20%20effects%3F%3A%20Effect%3CA%2C%20S%3E%5B%5D%3B%0A%7D%0A%0A%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20Reproducing%20concrete%20types%20and%20variables%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%0Aconst%20initialState%20%3D%20%7B%0A%20%20some%3A%20true%0A%7D%0A%0Atype%20State%20%3D%20typeof%20initialState%0A%0Ainterface%20BaseAction%3CT%20extends%20string%3E%20%7B%0A%20%20type%3A%20T%0A%7D%0A%0Ainterface%20ActionA%20extends%20BaseAction%3C%22A%22%3E%20%7B%0A%20%20payload%3A%20string%0A%7D%0A%0Ainterface%20ActionB%20extends%20BaseAction%3C%22B%22%3E%20%7B%0A%20%20payload%3A%20number%0A%7D%0A%0Ainterface%20ActionC%20extends%20BaseAction%3C%22C%22%3E%20%7B%0A%20%20payload%3A%20boolean%0A%7D%0A%0Adeclare%20const%20reducer%3A%20Reducer%3CState%2C%20ActionA%20%7C%20ActionB%20%7C%20ActionC%3E%0A%0Adeclare%20const%20outerAction%24%3A%20Observable%3CActionA%20%7C%20ActionB%3E%0A%0Adeclare%20function%20createState%24%3CS%2C%20A%3E(%0A%20%20reducer%3A%20Reducer%3CS%2C%20A%3E%2C%0A%20%20initialState%3A%20S%2C%0A%20%20outerAction%24%3A%20Observable%3CA%3E%2C%0A%20%20optionalParams%3F%3A%20OptionalParams%3CS%2C%20A%3E%2C%0A)%3A%20Observable%3CS%3E%0A%0A%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20Reproducing%20the%20problem%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%0Aconst%20state%241%20%3D%20createState%24(reducer%2C%20initialState%2C%20outerAction%24)%0A%0Adeclare%20const%20someEffect%3A%20Effect%3CActionA%20%7C%20ActionB%20%7C%20ActionC%2C%20State%3E%0A%0Aconst%20state%242%20%3D%20createState%24(reducer%2C%20initialState%2C%20outerAction%24%2C%20%7B%0A%20%20effects%3A%20%5B%0A%20%20%20%20someEffect%2C%0A%20%20%5D%0A%7D)%0A\" rel=\"nofollow noreferrer\">the same code in typescript playground (please switch on/off strictFunctionTypes option and hover createState$ function in the last section)</a></p>\n\n<p>If <code>--sctrictFunctionTypes</code> option is enabled, hovering <code>createState$</code> function in the last section will show that generic <code>A</code> is inferred not as type <code>ActionA | ActionB | ActionC</code> but <code>ActionA | ActionB</code>. I don't understand how <code>--sctrictFunctionTypes</code> affects union inference. I thought that typescript will try to infer the most common union type. This knowledge is essential to me because I need the type of <code>action$</code> argument to be <code>Subject&lt;ActionA | ActionB | ActionC&gt;</code> for my effects defined as inline arrow functions. More than that: if I add an arrow-function-effect below <code>someEffect</code>, I'll get an error from typescript (v3.1+) in my project saying <code>Types of property 'effects' are incompatible</code>.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1541585957, "post_id": 53187283, "comment_id": 93264236, "body": "I think you meant <code>abAction (&#39;a&#39;)</code> not <code>test(&#39;a&#39;)</code>"}, {"owner": {"reputation": 117, "user_id": 10081542, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UCe-hn76t_0/AAAAAAAAAAI/AAAAAAAAAAc/P_a8jA9QtwU/photo.jpg?sz=128", "display_name": "Le Tom", "link": "https://stackoverflow.com/users/10081542/le-tom"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1541586048, "post_id": 53187283, "comment_id": 93264282, "body": "Yes, You are right. Sorry for my mistake"}], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 10081542, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UCe-hn76t_0/AAAAAAAAAAI/AAAAAAAAAAc/P_a8jA9QtwU/photo.jpg?sz=128", "display_name": "Le Tom", "link": "https://stackoverflow.com/users/10081542/le-tom"}, "edited": false, "score": 0, "creation_date": 1541586642, "post_id": 53187572, "comment_id": 93264600, "body": "Thanks. One more thing <code>AT[number]&gt;</code> is error because AT type contains MakeActionType | undefined. Could you help me resolve it?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 117, "user_id": 10081542, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UCe-hn76t_0/AAAAAAAAAAI/AAAAAAAAAAc/P_a8jA9QtwU/photo.jpg?sz=128", "display_name": "Le Tom", "link": "https://stackoverflow.com/users/10081542/le-tom"}, "edited": false, "score": 0, "creation_date": 1541587323, "post_id": 53187572, "comment_id": 93264914, "body": "@LeTom fixed, forgot to enable strict null checks in the playground"}, {"owner": {"reputation": 117, "user_id": 10081542, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UCe-hn76t_0/AAAAAAAAAAI/AAAAAAAAAAc/P_a8jA9QtwU/photo.jpg?sz=128", "display_name": "Le Tom", "link": "https://stackoverflow.com/users/10081542/le-tom"}, "edited": false, "score": 0, "creation_date": 1541587709, "post_id": 53187572, "comment_id": 93265082, "body": "This will cause <code>previous</code> type cannot spread.<code>[ts] Spread types may only be created from object types.</code>"}, {"owner": {"reputation": 117, "user_id": 10081542, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UCe-hn76t_0/AAAAAAAAAAI/AAAAAAAAAAc/P_a8jA9QtwU/photo.jpg?sz=128", "display_name": "Le Tom", "link": "https://stackoverflow.com/users/10081542/le-tom"}, "edited": false, "score": 1, "creation_date": 1541588096, "post_id": 53187572, "comment_id": 93265264, "body": "I got it, I&#39;m so appreciate that"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1541587935, "last_edit_date": 1541587935, "creation_date": 1541586314, "answer_id": 53187572, "question_id": 53187283, "link": "https://stackoverflow.com/questions/53187283/how-to-union-element-in-array-if-each-element-of-array-is-a-function/53187572#53187572", "title": "How to Union element in array if each element of array is a function?", "body": "<p>You need to explicitly tell typescript what the return type of <code>reduce</code> will be, typescript will not be able to infer the type.</p>\n\n<p>The return type should be an intersection of all the function return types. We can get a union of the function types using a type query (<code>AT[number]</code>) and we can get the return type using the <code>ReturnType</code> conditional type. To transform the union of return types to an intersection we can use the <code>UnionToIntersection</code> type from <a href=\"https://stackoverflow.com/questions/50374908/transform-union-type-to-intersection-type\">here</a> (don't forget to upvote jcalz)</p>\n\n<pre><code>type UnionToIntersection&lt;U&gt; = \n(U extends any ? (k: U)=&gt;void : never) extends ((k: infer I)=&gt;void) ? I : never\nexport type MakeActionType = (name: string) =&gt; { [key: string]: string }\nconst combineActionType = &lt;AT extends (MakeActionType | undefined)[]&gt;(...actionTypeList: AT) =&gt; (name: string)  =&gt; {\n    return actionTypeList.reduce(\n        (previous, makeActionType) =&gt; {\n            const actionType = makeActionType ? makeActionType(name) : {}\n            return {\n                ...previous,\n                ...actionType,\n            }\n        },\n        {} \n    )  as UnionToIntersection&lt;ReturnType&lt;Exclude&lt;AT[number], undefined&gt;&gt;&gt;\n}\n\n\nconst abAction = combineActionType((name) =&gt; ({a: 'a'}), (name) =&gt; ({b: 'b'}))\nconst ab = abAction ('a') // { a: string } &amp; { b: string }\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=type%20UnionToIntersection%3CU%3E%20%3D%20%0D%0A%20%20%20%20(U%20extends%20any%20%3F%20(k%3A%20U)%3D%3Evoid%20%3A%20never)%20extends%20((k%3A%20infer%20I)%3D%3Evoid)%20%3F%20I%20%3A%20never%0D%0Aexport%20type%20MakeActionType%20%3D%20(name%3A%20string)%20%3D%3E%20%7B%20%5Bkey%3A%20string%5D%3A%20string%20%7D%0D%0Aconst%20combineActionType%20%3D%20%3CAT%20extends%20(MakeActionType%20%7C%20undefined)%5B%5D%3E(...actionTypeList%3A%20AT)%20%3D%3E%20(name%3A%20string)%20%20%3D%3E%20%7B%0D%0A%20%20%20%20return%20actionTypeList.reduce(%0D%0A%20%20%20%20%20%20%20%20(previous%2C%20makeActionType)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20actionType%20%3D%20makeActionType%20%3F%20makeActionType(name)%20%3A%20%7B%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20...previous%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20...actionType%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%7B%7D%20%0D%0A%20%20%20%20)%20as%20UnionToIntersection%3CReturnType%3CExclude%3CAT%5Bnumber%5D%2C%20undefined%3E%3E%3E%0D%0A%7D%0D%0A%0D%0A%0D%0Aconst%20abAction%20%3D%20combineActionType((name)%20%3D%3E%20(%7Ba%3A%20&#39;a&#39;%7D)%2C%20(name)%20%3D%3E%20(%7Bb%3A%20&#39;b&#39;%7D))%0D%0Aconst%20ab%20%3D%20abAction%20(&#39;a&#39;)%0D%0Aab.a%0D%0Aab.b%0D%0A\" rel=\"nofollow noreferrer\">Playground link</a></p>\n"}], "owner": {"reputation": 117, "user_id": 10081542, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UCe-hn76t_0/AAAAAAAAAAI/AAAAAAAAAAc/P_a8jA9QtwU/photo.jpg?sz=128", "display_name": "Le Tom", "link": "https://stackoverflow.com/users/10081542/le-tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 53187572, "answer_count": 1, "score": 1, "last_activity_date": 1541587935, "creation_date": 1541585237, "last_edit_date": 1541586014, "question_id": 53187283, "link": "https://stackoverflow.com/questions/53187283/how-to-union-element-in-array-if-each-element-of-array-is-a-function", "title": "How to Union element in array if each element of array is a function?", "body": "<pre><code>export type MakeActionType = (name: string) =&gt; {[key: string]: string}\nconst combineActionType = &lt;AT extends (MakeActionType | undefined)[]&gt;(...actionTypeList: AT) =&gt; (name: string) =&gt; {\n    return actionTypeList.reduce(\n        (previous, makeActionType) =&gt; {\n            const actionType = makeActionType ? makeActionType(name) : {}\n            return {\n                ...previous,\n                ...actionType,\n            }\n        },\n        {}\n    )\n}\n</code></pre>\n\n<p>Now I applied the function above like this:</p>\n\n<pre><code>const abAction = combineActionType((name) =&gt; ({a: 'a'}), (name) =&gt; ({b: 'b'}))\nconst ab = abAction('ab')\n</code></pre>\n\n<p>I would like <code>ab</code> to contain <code>a</code> and <code>b</code> properties, but <code>ab</code> returns <code>{}</code> type, that is why <code>ab.a</code> or <code>ab.b</code> are not working.</p>\n\n<pre><code>ab.a //err\nab.b //err\n</code></pre>\n\n<p>How can I define a type of ab that contains both 'a' and 'b' properties?</p>\n"}, {"tags": ["angular", "typescript", "validation"], "answers": [{"comments": [{"owner": {"reputation": 444, "user_id": 10289641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/853647ae22c31f8c0707e07ef4b17682?s=128&d=identicon&r=PG&f=1", "display_name": "Gereon99", "link": "https://stackoverflow.com/users/10289641/gereon99"}, "edited": false, "score": 0, "creation_date": 1541586753, "post_id": 53187446, "comment_id": 93264653, "body": "Sadly that doesn&#39;t work, it&#39;s the same behaviour as before :c"}, {"owner": {"reputation": 2438, "user_id": 2759473, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/fkdGV.jpg?s=128&g=1", "display_name": "Tomas", "link": "https://stackoverflow.com/users/2759473/tomas"}, "reply_to_user": {"reputation": 444, "user_id": 10289641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/853647ae22c31f8c0707e07ef4b17682?s=128&d=identicon&r=PG&f=1", "display_name": "Gereon99", "link": "https://stackoverflow.com/users/10289641/gereon99"}, "edited": false, "score": 0, "creation_date": 1541587217, "post_id": 53187446, "comment_id": 93264863, "body": "even with hardcoded regex Validator function parameter?"}], "tags": [], "owner": {"reputation": 2438, "user_id": 2759473, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/fkdGV.jpg?s=128&g=1", "display_name": "Tomas", "link": "https://stackoverflow.com/users/2759473/tomas"}, "is_accepted": false, "score": 2, "last_activity_date": 1541586326, "last_edit_date": 1541586326, "creation_date": 1541585867, "answer_id": 53187446, "question_id": 53187094, "link": "https://stackoverflow.com/questions/53187094/my-validator-is-telling-invalid-even-though-its-actually-not/53187446#53187446", "title": "My validator is telling &#39;invalid&#39; even though it&#39;s actually not", "body": "<p>The root cause is in execution contexts. In your <code>Validators.pattern</code> function you are referring to it's parameter via <code>this.regExp</code>, but this function will not be executed in scope of current controller and as a result <code>this</code> will not be pointing to your controller but to some Angular internals of <code>InputControl</code> class in this case. So, saying simple, you lost <code>this</code>.</p>\n\n<p>To quick and dirty solution change:  </p>\n\n<pre><code>Validators.pattern(this.regExp)  \n</code></pre>\n\n<p>to:</p>\n\n<pre><code>Validators.pattern(/^((?!(test)).)*$/gmi)\n</code></pre>\n\n<p>And verify, if those help.</p>\n\n<p>If yes, then if you still wish to store pattern in controller, you basically have to wrap your validator function in another controller function to enclose pattern in closure, that will be available to function in execution context:</p>\n\n<pre><code>getMyValidation(): (AbstractControl): ValidationErrors | null {\n  let pattern = this.regExp;\n  return Validators.pattern(pattern)\n}\n</code></pre>\n\n<p>and pass it to form constructor like so:</p>\n\n<pre><code>InputControl = new FormControl(\"\", [Validators.required, this.getMyValidation()])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 444, "user_id": 10289641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/853647ae22c31f8c0707e07ef4b17682?s=128&d=identicon&r=PG&f=1", "display_name": "Gereon99", "link": "https://stackoverflow.com/users/10289641/gereon99"}, "edited": false, "score": 0, "creation_date": 1541589757, "post_id": 53188457, "comment_id": 93265995, "body": "Thats why it switched between valid and invalid, it basically HAD to be true and false in subsequent inputs."}], "tags": [], "owner": {"reputation": 444, "user_id": 10289641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/853647ae22c31f8c0707e07ef4b17682?s=128&d=identicon&r=PG&f=1", "display_name": "Gereon99", "link": "https://stackoverflow.com/users/10289641/gereon99"}, "is_accepted": true, "score": 0, "last_activity_date": 1541589591, "creation_date": 1541589591, "answer_id": 53188457, "question_id": 53187094, "link": "https://stackoverflow.com/questions/53187094/my-validator-is-telling-invalid-even-though-its-actually-not/53188457#53188457", "title": "My validator is telling &#39;invalid&#39; even though it&#39;s actually not", "body": "<p>Okay, so apparently I found the mistake by myself. It had to do with the flags I used. <code>gmi</code></p>\n\n<p>I removed 'g' and now it works. I think it has something to do with the way RegExp objects work. When you use the 'g' flag the object keeps track of the lastIndex, where a match occured, so on subsequent matches it would start from there. If you remove the 'g'-flag it basically sets it to zero after a match and thus solves my problem.\nI'm not 100% sure about that however.</p>\n"}], "owner": {"reputation": 444, "user_id": 10289641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/853647ae22c31f8c0707e07ef4b17682?s=128&d=identicon&r=PG&f=1", "display_name": "Gereon99", "link": "https://stackoverflow.com/users/10289641/gereon99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 53188457, "answer_count": 2, "score": 2, "last_activity_date": 1541589591, "creation_date": 1541584555, "question_id": 53187094, "link": "https://stackoverflow.com/questions/53187094/my-validator-is-telling-invalid-even-though-its-actually-not", "title": "My validator is telling &#39;invalid&#39; even though it&#39;s actually not", "body": "<p>Im currently making a text field, which shouldn't be empty and also shouldn't be allowed to start with a specific chain of characters. (lets say 'test')</p>\n\n<p>So e.g. I want <code>testxyz</code> or <code></code> to be invalid and anything else to be valid. I already got the RegExp: <code>/^((?!(test)).)*$/gmi</code>. I know something like <code>abctest</code> is also invalid, but that doesn't matter for this case.</p>\n\n<p>The problem is that once I submit an invalid input every time I enter a string with an even (!) amount of characters the validator says that it's an invalid input (it prints 'Error 2'; you can see where that gets printed in the HTML) even though it's not! </p>\n\n<p>So e.g. if I write <code>test</code> first it gives me an error saying it's invalid. Correct. If I then write ANY character, like <code>a</code> it doesn't give me an error. Also correct. But as soon as I write an even amount of characters, no matter what (!), like <code>aa</code> or <code>wxyz</code> it gives me an error where it shouldn't!</p>\n\n<p>I can submit anyways it and everything is working, it's just the false 'interpretation' of the validator and I have no idea why he is doing that. Maybe someone can help me. I have added the code below.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;h1 mat-dialog-title&gt;{{data.dialogTitle}}&lt;/h1&gt;\n&lt;div mat-dialog-content&gt;\n  &lt;p class=\"mat-typography\"&gt;{{data.dialogText}}&lt;/p&gt;\n&lt;/div&gt;\n\n&lt;mat-form-field&gt;\n  &lt;input matInput [(ngModel)]=\"name\" placeholder=\"Enter your name?\" [formControl]=\"InputControl\"&gt;\n  &lt;mat-error *ngIf='InputControl.hasError(\"required\")'&gt;\n    Error 1\n  &lt;/mat-error&gt;\n  &lt;mat-error *ngIf='InputControl.hasError(\"pattern\")'&gt;\n    Error 2\n  &lt;/mat-error&gt;\n&lt;/mat-form-field&gt;\n\n&lt;mat-dialog-actions&gt;\n  &lt;span style=\"flex: 1 1 auto\"&gt;&lt;/span&gt;\n  &lt;button mat-flat-button (click)=\"pressed()\" class=\"mat-primary\"&gt;OK&lt;/button&gt;\n&lt;/mat-dialog-actions&gt;\n</code></pre>\n\n<p>TypeScript:</p>\n\n<pre><code>export class DialogComponent {\n\n    regExp = /^((?!(test)).)*$/gmi;\n    InputControl = new FormControl(\"\", [Validators.required, Validators.pattern(this.regExp)])\n    @Input() name:string\n\n    constructor(public dialogRef: MatDialogRef&lt;DialogComponent&gt;,\n                @Optional() @Inject(MAT_DIALOG_DATA) public data: any) { }\n\n    pressed() {\n        console.log(this.name.match(this.regExp));\n        if(this.regExp.test(this.name)) {\n            alert(\"valid\");\n            this.dialogRef.close(true);\n        }\n    }\n}\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["typescript", "express"], "answers": [{"tags": [], "owner": {"reputation": 18483, "user_id": 497600, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9d2bd51b0d7a3e483cb42919119d2e8d?s=128&d=identicon&r=PG", "display_name": "lhk", "link": "https://stackoverflow.com/users/497600/lhk"}, "is_accepted": true, "score": 5, "last_activity_date": 1541764359, "last_edit_date": 1541764359, "creation_date": 1541587928, "answer_id": 53188025, "question_id": 53186841, "link": "https://stackoverflow.com/questions/53186841/exports-and-export-assignments-are-not-permitted-in-module-augmentations/53188025#53188025", "title": "Exports and export assignments are not permitted in module augmentations", "body": "<p><strong>Module Augmentation:</strong></p>\n\n<p>Typescript calls this a module augmentation: You are using an existing module and add new definitions to it. Module augmentations have their own syntax:</p>\n\n<ul>\n<li>the module that your declare must have the same name as the augmented module</li>\n<li>inside the module you can't export anything</li>\n</ul>\n\n<p>This is described here: <a href=\"https://github.com/Microsoft/TypeScript-Handbook/blob/fa9e2be1024014fe923d44b1b69d315e8347e444/pages/Declaration%20Merging.md#module-augmentation\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript-Handbook/blob/fa9e2be1024014fe923d44b1b69d315e8347e444/pages/Declaration%20Merging.md#module-augmentation</a></p>\n\n<p>Following the docs, your code becomes this:</p>\n\n<pre><code>// file1.ts\nimport { Request as ExpressRequest, Response as ExpressResponse } from 'express';\n\n// module name must be \"express\"\ndeclare module 'express' {\n\n    // this can't be an export\n    const kvl : {\n        ValidationDone:(param:(error: any, response: ExpressResponse) =&gt; void) =&gt; void;\n      }\n}\n</code></pre>\n\n<p>Now you have augmented the <code>express</code> module and can use it like this:</p>\n\n<pre><code>// file2.ts\nimport {kvl} from \"express\";\n\n// ...\n</code></pre>\n\n<p><strong>Modular Declaration File:</strong></p>\n\n<p>If you don't want to inject your new types into the express module, you can use a declaration file for your new module.\nThere are various types, a good overview can be found here: <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-files/library-structures.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/declaration-files/library-structures.html</a></p>\n\n<p>Basically, you have to check how the code is used and then adapt your declarations to that. In your case, it looks like you want to import <code>kvl</code> as a module. So you can orient yourself on this sample file: <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-files/templates/module-d-ts.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/declaration-files/templates/module-d-ts.html</a></p>\n\n<p>I have changed your code to the appropriate syntax. By the way, this is only correct in a .d.ts file:</p>\n\n<pre><code>//kvl.d.ts\nimport { Request as ExpressRequest, Response as ExpressResponse } from 'express';\n\nexport as namespace kvl;\n\nexport const kvl : {\n    ValidationDone:(param:(error: any, response: ExpressResponse) =&gt; void) =&gt; void;\n    };\n</code></pre>\n\n<p><strong>Implementing a Module:</strong></p>\n\n<p>If <code>kvl</code> is your own code, then you don't have to work with declaration files. Typescript can analyze your modules. A module definition that would produce a kvl constant with proper type could look like this:</p>\n\n<pre><code>// kvl.ts\nimport { Request as ExpressRequest, Response as ExpressResponse } from 'express';\nexport const kvl : {\n    ValidationDone:(param:(error: any, response: ExpressResponse) =&gt; void) =&gt; void;\n    } = {ValidationDone: function(param){}};\n</code></pre>\n\n<p>Please note that modules automatically have their filename as modulename. Therefore, the above code should be in a file called kvl.ts.</p>\n"}], "owner": {"reputation": 63, "user_id": 9270674, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ElCG4.png?s=128&g=1", "display_name": "\u4ed8\u5ef6\u4f1f", "link": "https://stackoverflow.com/users/9270674/%e4%bb%98%e5%bb%b6%e4%bc%9f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3611, "favorite_count": 1, "accepted_answer_id": 53188025, "answer_count": 1, "score": 3, "last_activity_date": 1541764359, "creation_date": 1541583628, "question_id": 53186841, "link": "https://stackoverflow.com/questions/53186841/exports-and-export-assignments-are-not-permitted-in-module-augmentations", "title": "Exports and export assignments are not permitted in module augmentations", "body": "<pre><code>`\nimport { Request as ExpressRequest, Response as ExpressResponse } from 'express';\ndeclare module 'kvl' {\n    export = kvl;\n}\ndeclare const kvl : {\n  ValidationDone:(param:(error: any, response: ExpressResponse) =&gt; void) =&gt; void;\n}\n`\n</code></pre>\n\n<p><strong>Exports and export assignments are not permitted in module augmentations.</strong></p>\n\n<p>I was declared in .d.ts\uff0c Can't I use it like this?</p>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 1, "creation_date": 1541582656, "post_id": 53186459, "comment_id": 93262578, "body": "Bind <code>click</code> event on <code>li</code> and set <code>satz.selected=true</code>"}, {"owner": {"reputation": 21, "user_id": 6429816, "user_type": "registered", "profile_image": "https://graph.facebook.com/1113370202019233/picture?type=large", "display_name": "JoJo123", "link": "https://stackoverflow.com/users/6429816/jojo123"}, "reply_to_user": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1541583868, "post_id": 53186459, "comment_id": 93263147, "body": "Nice - quick and easy :) Thank you :)"}], "answers": [{"tags": [], "owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "is_accepted": false, "score": 0, "last_activity_date": 1569327965, "last_edit_date": 1569327965, "creation_date": 1541583864, "answer_id": 53186903, "question_id": 53186459, "link": "https://stackoverflow.com/questions/53186459/click-on-table-row-select-checkbox/53186903#53186903", "title": "Click on Table Row - Select Checkbox", "body": "<p>you have used two-way data binding with <code>[(ngModel)]</code> so any change to bonded property <code>satz.selected</code> will affect the checkbox</p>\n\n<pre><code>    &lt;li class=\"row list-table-row\" \n     *ngFor=\"let satz of detailSatz\" \n     (click)=\"satz.selected\"&gt;\n         &lt;div class=\"list-table-cell col-xs-1 col-sm-1 col-md-1 sel_box\"&gt;\n             &lt;label&gt;\n                 &lt;input type=\"checkbox\" [(ngModel)]=\"satz.selected\"\n                 (change)=\"checkIfAllSelected();\"&gt;\n               &lt;/label&gt;\n           &lt;/div&gt;\n     &lt;/li&gt;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6429816, "user_type": "registered", "profile_image": "https://graph.facebook.com/1113370202019233/picture?type=large", "display_name": "JoJo123", "link": "https://stackoverflow.com/users/6429816/jojo123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 598, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1569327965, "creation_date": 1541582148, "last_edit_date": 1541582281, "question_id": 53186459, "link": "https://stackoverflow.com/questions/53186459/click-on-table-row-select-checkbox", "title": "Click on Table Row - Select Checkbox", "body": "<p>I have an angular app, where I created a table. Here is an excerpt of the table</p>\n\n<pre><code>&lt;li class=\"row list-table-row\" *ngFor=\"let satz of detailSatz\"&gt;\n     &lt;div class=\"list-table-cell col-xs-1 col-sm-1 col-md-1 sel_box\"&gt;\n     &lt;label&gt;&lt;input type=\"checkbox\" [(ngModel)]=\"satz.selected\" (change)=\"checkIfAllSelected();\"&gt;&lt;/label&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>My goal is, that the correct checkbox is \"selected\" (checked), when I click anywhere in the table row and not only when I click the \"select\" Button. How can I do that?  </p>\n"}, {"tags": ["reactjs", "typescript", "material-ui", "typescript-typings", "typescript-types"], "answers": [{"comments": [{"owner": {"reputation": 8031, "user_id": 8331756, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/qcaCX.jpg?s=128&g=1", "display_name": "J. Hesters", "link": "https://stackoverflow.com/users/8331756/j-hesters"}, "edited": false, "score": 0, "creation_date": 1541581356, "post_id": 53186232, "comment_id": 93261875, "body": "Thank you for your help. Unfortunately this doesn&#39;t solve the problem. After reading your answer I tried both: <code>classes.disabled || &#39;false&#39;</code> and <code>classes.disabled || &#39;undefined&#39;</code>. I also tried passing these as literally <code>false</code> or <code>undefined</code> (not as a string). The errors remain."}, {"owner": {"reputation": 470, "user_id": 5046129, "user_type": "registered", "profile_image": "https://graph.facebook.com/1021289891228498/picture?type=large", "display_name": "Charles Assuncao", "link": "https://stackoverflow.com/users/5046129/charles-assuncao"}, "reply_to_user": {"reputation": 8031, "user_id": 8331756, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/qcaCX.jpg?s=128&g=1", "display_name": "J. Hesters", "link": "https://stackoverflow.com/users/8331756/j-hesters"}, "edited": false, "score": 0, "creation_date": 1541581528, "post_id": 53186232, "comment_id": 93261954, "body": "Your problem is with the disabled or underline property ?"}], "tags": [], "owner": {"reputation": 470, "user_id": 5046129, "user_type": "registered", "profile_image": "https://graph.facebook.com/1021289891228498/picture?type=large", "display_name": "Charles Assuncao", "link": "https://stackoverflow.com/users/5046129/charles-assuncao"}, "is_accepted": false, "score": 2, "last_activity_date": 1541581468, "last_edit_date": 1541581468, "creation_date": 1541581231, "answer_id": 53186232, "question_id": 53186049, "link": "https://stackoverflow.com/questions/53186049/typescript-string-undefined-is-not-assignable-to-type-string/53186232#53186232", "title": "TypeScript: &#39;string | undefined&#39; is not assignable to type &#39;string&#39;", "body": "<p>The thing is, a property on a object can be undefined and you input prop in this case needs a string so, a way to fix is:</p>\n\n<pre><code>classes={{\n   disabled: classes.disabled,\n   input: inputClasses,\n   root: marginTop,\n   underline: underlineClasses || ''\n}}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8031, "user_id": 8331756, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/qcaCX.jpg?s=128&g=1", "display_name": "J. Hesters", "link": "https://stackoverflow.com/users/8331756/j-hesters"}, "is_accepted": true, "score": 1, "last_activity_date": 1541581565, "creation_date": 1541581565, "answer_id": 53186318, "question_id": 53186049, "link": "https://stackoverflow.com/questions/53186049/typescript-string-undefined-is-not-assignable-to-type-string/53186318#53186318", "title": "TypeScript: &#39;string | undefined&#39; is not assignable to type &#39;string&#39;", "body": "<p>Found my own error \ud83e\udd26\ud83c\udffb\u200d\u2642\ufe0f I accidentally wrote <code>&lt;Input /&gt;</code> again instead of <code>&lt;MUIInput /&gt;</code>.</p>\n\n<pre><code>&lt;MUIInput\n  classes={{\n    disabled: classes.disabled,\n    input: inputClasses,\n    root: marginTop,\n    underline: underlineClasses\n  }}\n  id={id}\n  {...inputProps}\n/&gt;\n</code></pre>\n"}], "owner": {"reputation": 8031, "user_id": 8331756, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/qcaCX.jpg?s=128&g=1", "display_name": "J. Hesters", "link": "https://stackoverflow.com/users/8331756/j-hesters"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6634, "favorite_count": 1, "accepted_answer_id": 53186318, "answer_count": 2, "score": 3, "last_activity_date": 1541581565, "creation_date": 1541580512, "question_id": 53186049, "link": "https://stackoverflow.com/questions/53186049/typescript-string-undefined-is-not-assignable-to-type-string", "title": "TypeScript: &#39;string | undefined&#39; is not assignable to type &#39;string&#39;", "body": "<p>I'm writing a React application using TypeScript. I use material-ui for my components. I'm currently writing a wrapper for material-ui's input like this:</p>\n\n<pre><code>import FormControl, { FormControlProps } from \"@material-ui/core/FormControl\";\nimport MUIInput, { InputProps } from \"@material-ui/core/Input\";\nimport InputLabel, { InputLabelProps } from \"@material-ui/core/InputLabel\";\nimport withStyles, { WithStyles } from \"@material-ui/core/styles/withStyles\";\nimport classNames from \"classnames\";\nimport React, { PureComponent, ReactNode } from \"react\";\nimport styles from \"./styles\";\n\nexport interface OwnProps {\n  labelText?: ReactNode;\n  labelProps?: InputLabelProps;\n  id?: string;\n  inputProps?: InputProps;\n  formControlProps?: FormControlProps;\n  inputRootCustomClasses?: string;\n  success?: boolean;\n  white?: boolean;\n  error?: boolean;\n}\n\nexport interface Props extends WithStyles&lt;typeof styles&gt;, OwnProps {}\n\nexport class Input extends PureComponent&lt;Props&gt; {\n  render() {\n    const {\n      classes,\n      formControlProps,\n      labelText,\n      id,\n      labelProps,\n      inputProps,\n      error,\n      white,\n      inputRootCustomClasses,\n      success\n    } = this.props;\n    const labelClasses = classNames({\n      [\" \" + classes.labelRootError]: error,\n      [\" \" + classes.labelRootSuccess]: success &amp;&amp; !error\n    });\n    const underlineClasses = classNames({\n      [classes.underlineError]: error,\n      [classes.underlineSuccess]: success &amp;&amp; !error,\n      [classes.underline]: true,\n      [classes.whiteUnderline]: white\n    });\n    const marginTop = classNames({\n      [inputRootCustomClasses!]: inputRootCustomClasses !== undefined\n    });\n    const inputClasses = classNames({\n      [classes.input]: true,\n      [classes.whiteInput]: white\n    });\n    let formControlClasses;\n    if (formControlProps !== undefined) {\n      formControlClasses = classNames(formControlProps.className, classes.formControl);\n    } else {\n      formControlClasses = classes.formControl;\n    }\n    return (\n      &lt;FormControl {...formControlProps} className={formControlClasses}&gt;\n        {labelText !== undefined ? (\n          &lt;InputLabel\n            className={classes.labelRoot + \" \" + labelClasses}\n            htmlFor={id}\n            {...labelProps}\n          &gt;\n            {labelText}\n          &lt;/InputLabel&gt;\n        ) : null}\n        &lt;Input\n          classes={{\n            disabled: classes.disabled,\n            input: inputClasses,\n            root: marginTop,\n            underline: underlineClasses\n          }}\n          id={id}\n          {...inputProps}\n        /&gt;\n      &lt;/FormControl&gt;\n    );\n  }\n}\n\nexport default withStyles(styles)(Input);\n</code></pre>\n\n<p>I have a problem with this <code>&lt;Input /&gt;</code>'s properties:</p>\n\n<pre><code>classes={{\n  disabled: classes.disabled,\n  input: inputClasses,\n  root: marginTop,\n  underline: underlineClasses\n}}\n</code></pre>\n\n<p>For disabled, inputt throws the error:</p>\n\n<pre><code>[ts]\nType 'string | undefined' is not assignable to type 'string'.\n  Type 'undefined' is not assignable to type 'string'.\n</code></pre>\n\n<p>I can't figure out how to solve this. I tried <code>as</code>:</p>\n\n<pre><code>underline: underlineClasses as string\n</code></pre>\n\n<p>Doesn't work. I tried using the <code>!</code> operator to assert not-null, but it doesn't work. The weirdest thing about it is that the function <code>classNames</code> always returns a string (even if its empty). Furthermore classes.disabled is also always defined, since its included within my <code>styles</code>.</p>\n\n<p>How can I solve this? I'm developing in strict mode so this linter hickup crashes my application.</p>\n"}, {"tags": ["typescript", "rxjs"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1541580089, "post_id": 53185922, "comment_id": 93261319, "body": "<code>return this.menuService.getAll().pipe(...)</code>?"}, {"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1541580138, "post_id": 53185922, "comment_id": 93261334, "body": "Just map instead of subscribe"}, {"owner": {"reputation": 1519, "user_id": 1486848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KNtLf.jpg?s=128&g=1", "display_name": "ShamPooSham", "link": "https://stackoverflow.com/users/1486848/shampoosham"}, "edited": false, "score": 0, "creation_date": 1541580471, "post_id": 53185922, "comment_id": 93261471, "body": "Is the errorCallback placed at the wrong place? It&#39;s a second argument to forEach now"}], "answers": [{"tags": [], "owner": {"reputation": 1519, "user_id": 1486848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KNtLf.jpg?s=128&g=1", "display_name": "ShamPooSham", "link": "https://stackoverflow.com/users/1486848/shampoosham"}, "is_accepted": true, "score": 0, "last_activity_date": 1541584971, "last_edit_date": 1541584971, "creation_date": 1541580700, "answer_id": 53186091, "question_id": 53185922, "link": "https://stackoverflow.com/questions/53185922/rxjs-special-filtering/53186091#53186091", "title": "RxJs special filtering", "body": "<p>Just pipe it into a <code>map</code> (and <code>catchError</code> for the errorCallback). Assuming you misplaced the errorCallback, this is how you would do it: </p>\n\n<pre><code>private loadMenuItems() {\n  return this.menuService.getAll().pipe(map(menuItems =&gt; {\n\n    this.rootMenus.forEach(rootMenu =&gt; {\n      rootMenu.menus = menuItems\n          .filter(menuItem =&gt; menuItem.type === rootMenu.rootMenu.type)\n          .sort((a, b) =&gt; a.showOrder - b.showOrder);\n\n          this.menuItems.concat(rootMenu.menus);\n      });\n\n  }), catchError(this.errorCallback));\n}\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 2728302, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/318441dc74ab84e5d8cbcee2079d2cd7?s=128&d=identicon&r=PG", "display_name": "Mushu8", "link": "https://stackoverflow.com/users/2728302/mushu8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 53186091, "answer_count": 1, "score": -1, "last_activity_date": 1541584971, "creation_date": 1541579973, "question_id": 53185922, "link": "https://stackoverflow.com/questions/53185922/rxjs-special-filtering", "title": "RxJs special filtering", "body": "<p>I have this piece of typescript code which is calling a web service and then selectively (based on type) appends the received menu items in an array of root menu items :</p>\n\n<pre><code>private loadMenuItems() {\n  this.menuService.getAll().subscribe(menuItems =&gt; {\n\n    this.rootMenus.forEach(rootMenu =&gt; {\n      rootMenu.menus = menuItems\n          .filter(menuItem =&gt; menuItem.type === rootMenu.rootMenu.type)\n          .sort((a, b) =&gt; a.showOrder - b.showOrder);\n\n          this.menuItems.concat(rootMenu.menus);\n      }, this.errorCallback);\n\n  });\n}\n</code></pre>\n\n<p>i would like instead of subscribing the observable in this method that it would return the observable with these data already in shape.</p>\n\n<p>How could i do this ?</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic4"], "comments": [{"owner": {"reputation": 12798, "user_id": 116733, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/459176826cc4324dd3c2ff8ff4d0425d?s=128&d=identicon&r=PG", "display_name": "Steffen", "link": "https://stackoverflow.com/users/116733/steffen"}, "edited": false, "score": 3, "creation_date": 1544288193, "post_id": 53185901, "comment_id": 94226154, "body": "I actually have the exactly same issue, it&#39;s quite easy to reproduce as well. Just start a new project: ionic start project blank --type=angular. Then generate a component: ionic g component timer And finally add &lt;app-timer&gt;&lt;/app-timer&gt; to home.page.html  It&#39;ll give you the &quot;app-timer is not a known element&quot; error.  I&#39;ve read through a lot of the v4 documentation to no avail.  I realize this doesn&#39;t solve it, but I thought I&#39;d provide a repro.  EDIT: line breaks are missing, sorry about that."}], "answers": [{"comments": [{"owner": {"reputation": 1440, "user_id": 6141513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hi7VH.jpg?s=128&g=1", "display_name": "Yushin", "link": "https://stackoverflow.com/users/6141513/yushin"}, "edited": false, "score": 1, "creation_date": 1541584693, "post_id": 53186941, "comment_id": 93263572, "body": "&#39;mycomponent&#39; is not a known element: 1. If &#39;mycomponent&#39; is an Angular component, then verify that it is part of this module. 2. To allow any element add &#39;NO_ERRORS_SCHEMA&#39; to the &#39;@NgModule.schemas&#39; of this component."}, {"owner": {"reputation": 37, "user_id": 10617045, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/ca325f40d88a2d86f8781934e69c0f34?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/10617045/jonathan"}, "reply_to_user": {"reputation": 1440, "user_id": 6141513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hi7VH.jpg?s=128&g=1", "display_name": "Yushin", "link": "https://stackoverflow.com/users/6141513/yushin"}, "edited": false, "score": 0, "creation_date": 1541585103, "post_id": 53186941, "comment_id": 93263770, "body": "I forgot components.module.ts"}, {"owner": {"reputation": 1440, "user_id": 6141513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hi7VH.jpg?s=128&g=1", "display_name": "Yushin", "link": "https://stackoverflow.com/users/6141513/yushin"}, "edited": false, "score": 0, "creation_date": 1541585254, "post_id": 53186941, "comment_id": 93263853, "body": "i guess you wil have to edit the app.module.ts  declarations to"}, {"owner": {"reputation": 37, "user_id": 10617045, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/ca325f40d88a2d86f8781934e69c0f34?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/10617045/jonathan"}, "reply_to_user": {"reputation": 1440, "user_id": 6141513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hi7VH.jpg?s=128&g=1", "display_name": "Yushin", "link": "https://stackoverflow.com/users/6141513/yushin"}, "edited": false, "score": 0, "creation_date": 1541585499, "post_id": 53186941, "comment_id": 93264005, "body": "Yes as in my Answer. There I described what to do in app.module.ts"}, {"owner": {"reputation": 1440, "user_id": 6141513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hi7VH.jpg?s=128&g=1", "display_name": "Yushin", "link": "https://stackoverflow.com/users/6141513/yushin"}, "edited": false, "score": 0, "creation_date": 1541587874, "post_id": 53186941, "comment_id": 93265164, "body": "no please note that in ionic 4 its proving to be difficult try doing it"}, {"owner": {"reputation": 37, "user_id": 10617045, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/ca325f40d88a2d86f8781934e69c0f34?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/10617045/jonathan"}, "reply_to_user": {"reputation": 1440, "user_id": 6141513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hi7VH.jpg?s=128&g=1", "display_name": "Yushin", "link": "https://stackoverflow.com/users/6141513/yushin"}, "edited": false, "score": 0, "creation_date": 1541588684, "post_id": 53186941, "comment_id": 93265529, "body": "I dont think that there is a different component installation in Ionic 4 than in Ionic 3. What is now the problem?"}, {"owner": {"reputation": 12798, "user_id": 116733, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/459176826cc4324dd3c2ff8ff4d0425d?s=128&d=identicon&r=PG", "display_name": "Steffen", "link": "https://stackoverflow.com/users/116733/steffen"}, "edited": false, "score": 0, "creation_date": 1544288331, "post_id": 53186941, "comment_id": 94226191, "body": "Jonathan &gt; Ionic 4 doesn&#39;t handle components the same way as Ionic 3. Your solution works fine for Ionic 3, but not for Ionic 4."}], "tags": [], "owner": {"reputation": 37, "user_id": 10617045, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/ca325f40d88a2d86f8781934e69c0f34?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/10617045/jonathan"}, "is_accepted": false, "score": 0, "last_activity_date": 1541585068, "last_edit_date": 1541585068, "creation_date": 1541584015, "answer_id": 53186941, "question_id": 53185901, "link": "https://stackoverflow.com/questions/53185901/ionic-4-custom-components/53186941#53186941", "title": "Ionic 4 custom components", "body": "<h2>In your src/components folder</h2>\n\n<p><strong>myComponent.html</strong>:</p>\n\n<pre><code>//Here your component HTML Code. For example:\n&lt;ion-list radio-group (ionSelect)=\"change($event, item.type);\" \n  ... \n&lt;/ion-list&gt;\n</code></pre>\n\n<p><strong>components.module.ts</strong>:</p>\n\n<pre><code>import {myComponentComponent} from \"./myComponent/myComponent\";\n@NGModule({\n  declatations: [myComponentComponent],\n  imports:[],\n  exports: [myComponentComponent]\n})\nexport class ComponentsModule{}\n</code></pre>\n\n<h2>In your src/app folder</h2>\n\n<p><strong>app.module.ts</strong>:</p>\n\n<pre><code>import { MyComponentComponent } from \"../components/myComponent/myComponent\";\n\n@NGModule({\n   declarations: [\n      yourPages....,\n     MyComponentComponent\n   ]\n)}\n</code></pre>\n\n<h2>To use it:</h2>\n\n<p>For example in <strong>HomePage.html</strong>: </p>\n\n<pre><code>&lt;myComponent&gt; &lt;/myComponent&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1257, "user_id": 3934886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LCCuX.png?s=128&g=1", "display_name": "alex351", "link": "https://stackoverflow.com/users/3934886/alex351"}, "edited": false, "score": 2, "creation_date": 1546556180, "post_id": 53696515, "comment_id": 94898228, "body": "Somehow, it works with a blank new project, but in my existing project it loads an empty page with no errors reported."}, {"owner": {"reputation": 479, "user_id": 5026093, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WIofmx6Oqxk/AAAAAAAAAAI/AAAAAAAAACg/IjP4HCd8uKs/photo.jpg?sz=128", "display_name": "Chinonso Chukwuogor", "link": "https://stackoverflow.com/users/5026093/chinonso-chukwuogor"}, "edited": false, "score": 0, "creation_date": 1548355927, "post_id": 53696515, "comment_id": 95522179, "body": "Thank you very much. I found this very helpful"}, {"owner": {"reputation": 548, "user_id": 6482060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MpxDW.png?s=128&g=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/6482060/raj"}, "edited": false, "score": 1, "creation_date": 1550225270, "post_id": 53696515, "comment_id": 96199478, "body": "If i want to use single component in any page..? Then also do i need to import whole componentModule to my page module?"}, {"owner": {"reputation": 331, "user_id": 4971138, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YTnTXcIRB-8/AAAAAAAAAAI/AAAAAAAAAwQ/gRJK8RoQdPk/photo.jpg?sz=128", "display_name": "glmdev", "link": "https://stackoverflow.com/users/4971138/glmdev"}, "edited": false, "score": 4, "creation_date": 1569190429, "post_id": 53696515, "comment_id": 102505483, "body": "For some reason, the --export flag didn&#39;t work for me, but adding the MyComponentComponent to the ComponentsModule declarations and exports arrays manually worked."}, {"owner": {"reputation": 3164, "user_id": 5056173, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/99dc39f718c2d6e8a5f0a300e0b3c482?s=128&d=identicon&r=PG&f=1", "display_name": "Sean Stayns", "link": "https://stackoverflow.com/users/5056173/sean-stayns"}, "edited": false, "score": 0, "creation_date": 1612435286, "post_id": 53696515, "comment_id": 116768340, "body": "With the comment from glmdev it works, but in the html the component shows &quot;element not found&quot;. After I added the myComponent to EntryComponents in home.module.ts it works for me."}], "tags": [], "owner": {"reputation": 12798, "user_id": 116733, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/459176826cc4324dd3c2ff8ff4d0425d?s=128&d=identicon&r=PG", "display_name": "Steffen", "link": "https://stackoverflow.com/users/116733/steffen"}, "is_accepted": true, "score": 47, "last_activity_date": 1544388303, "creation_date": 1544388303, "answer_id": 53696515, "question_id": 53185901, "link": "https://stackoverflow.com/questions/53185901/ionic-4-custom-components/53696515#53696515", "title": "Ionic 4 custom components", "body": "<p>Finally figured this out, here's a repro that works:</p>\n\n<pre><code>ionic start myProject blank --type=angular\nionic g module components\nionic g component components/myComponent --export\n</code></pre>\n\n<p>This adds both a declaration and export to the components module for \"myComponent\".</p>\n\n<p>To use the component just add <code>ComponentsModule</code> to your <code>imports</code> in your page module, e.g.</p>\n\n<pre><code>@NgModule({\nimports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComponentsModule,\n    RouterModule.forChild([\n        {\n            path: '',\n            component: HomePage\n        }\n    ])\n],\ndeclarations: [HomePage]\n})\nexport class HomePageModule { }\n</code></pre>\n\n<p>This way nothing is added to <code>app.module.ts</code> which is how it should be.</p>\n\n<p>Also note if you want to use ANY  components in your own custom components, you need to add <code>IonicModule</code> to the <code>imports</code> in <code>components.module.ts</code></p>\n\n<p>Hope this helps :-)</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8531037"}, "is_accepted": false, "score": 17, "last_activity_date": 1551363306, "last_edit_date": 1551363306, "creation_date": 1544621282, "answer_id": 53744129, "question_id": 53185901, "link": "https://stackoverflow.com/questions/53185901/ionic-4-custom-components/53744129#53744129", "title": "Ionic 4 custom components", "body": "<p>This is your selector in components>foot-card>foot-card.ts: </p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n  selector: 'foot-card',\n  templateUrl: 'foot-card.html'\n})\nexport class FootCardComponent {\n\n  text: string;\n\n  constructor() {\n    console.log('Hello FootCardComponent Component');\n    this.text = 'Hello World';\n  }\n\n}\n</code></pre>\n\n<p>This is your components.module.ts: </p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { FootCardComponent } from './foot-card/foot-card';\nimport { IonicModule } from 'ionic-angular';\n\n@NgModule({\n    declarations: [FootCardComponent],\n    imports: [IonicModule],\n    exports: [FootCardComponent]\n})\n\nexport class ComponentsModule {}\n</code></pre>\n\n<p>This is your app.module.ts: </p>\n\n<pre><code>import { FootCardComponent } from '../components/foot-card/foot-card';\nimport { ComponentsModule } from '../components/components.module'\n\n@NgModule({\n  declarations: [\n\n  ],\n  imports: [\n    ComponentsModule,\n    IonicModule.forRoot(MyApp)\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    FootCardComponent\n  ],\n  providers: [\n  ]\n})\nexport class AppModule {}\n</code></pre>\n\n<p>You have to import component-module in import and declare component-name in entry components in app.module.ts.        </p>\n\n<p>In components.module.ts, You have to declare and export the component but don't forget to import IonicModule.</p>\n\n<p>I was facing the same problem but no one told to import IonicModule In Components.module.ts and In app.module.ts, only add to entryComponent and import componentModule. </p>\n"}, {"tags": [], "owner": {"reputation": 729, "user_id": 7912859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JoO4b.jpg?s=128&g=1", "display_name": "Silvair L. Soares", "link": "https://stackoverflow.com/users/7912859/silvair-l-soares"}, "is_accepted": false, "score": 1, "last_activity_date": 1550754011, "creation_date": 1550754011, "answer_id": 54807706, "question_id": 53185901, "link": "https://stackoverflow.com/questions/53185901/ionic-4-custom-components/54807706#54807706", "title": "Ionic 4 custom components", "body": "<p>The key is to include a new module, specifically for your custom component.</p>\n\n<p>I just do not understand why the command \"ionic generate component components/myComponent --export\" no longer creates this outmoded module. I went through this same <a href=\"https://forum.ionicframework.com/t/problem-adding-a-custom-component-to-ionic-4/156744/5\" rel=\"nofollow noreferrer\">problem here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 2121, "user_id": 2087270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JJg5G.png?s=128&g=1", "display_name": "In&#234;s Gomes", "link": "https://stackoverflow.com/users/2087270/in%c3%aas-gomes"}, "is_accepted": false, "score": 7, "last_activity_date": 1551362281, "creation_date": 1551362281, "answer_id": 54927401, "question_id": 53185901, "link": "https://stackoverflow.com/questions/53185901/ionic-4-custom-components/54927401#54927401", "title": "Ionic 4 custom components", "body": "<p>After doing all the above ...</p>\n\n<p>only worked in home.page.html\nadding <strong>app</strong> before the name of my component like :</p>\n\n<pre><code>&lt;app-my-component&gt;&lt;/app-my-component&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1178, "user_id": 6207923, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/78c70a45ece12323ff2a2a96eafe2fbb?s=128&d=identicon&r=PG&f=1", "display_name": "Huiting", "link": "https://stackoverflow.com/users/6207923/huiting"}, "edited": false, "score": 1, "creation_date": 1576410908, "post_id": 56600158, "comment_id": 104884172, "body": "Really great explanation. Thank you!"}], "tags": [], "owner": {"reputation": 1638, "user_id": 7401054, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sRVSb.jpg?s=128&g=1", "display_name": "Snow Bases", "link": "https://stackoverflow.com/users/7401054/snow-bases"}, "is_accepted": false, "score": 23, "last_activity_date": 1560522423, "creation_date": 1560522423, "answer_id": 56600158, "question_id": 53185901, "link": "https://stackoverflow.com/questions/53185901/ionic-4-custom-components/56600158#56600158", "title": "Ionic 4 custom components", "body": "<p>Basically, <code>ionic g component myComponent</code> will update the app.module.ts and create the component inside the app folder.</p>\n\n<p>But if you want a more elegant way to add the components. Here is the steps:</p>\n\n<pre><code>ionic g module components\n</code></pre>\n\n<p>will generate a module folder called <code>components</code>. Then generate a bunch of components:</p>\n\n<pre><code>ionic g component components/myComponent --export\nionic g component components/myComponent2 --export\nionic g component components/myComponent3 --export\nionic g component components/myComponent4 --export\n</code></pre>\n\n<p>Inside components.module.ts could be write like this :</p>\n\n<pre><code>...\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\n\nimport { MyComponentComponent } from './my-component/my-component.component';\nimport { MyComponentComponent2 } from './my-component2/my-component2.component';\nimport { MyComponentComponent3 } from './my-component3/my-component3.component';\nimport { MyComponentComponent4 } from './my-component4/my-component4.component';\n\nconst PAGES_COMPONENTS = [\n  MyComponentComponent,\n  MyComponentComponent2,\n  MyComponentComponent3,\n  MyComponentComponent4\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule.forRoot(),\n  ],\n  declarations: [\n    PAGES_COMPONENTS\n  ],\n  exports: [\n    PAGES_COMPONENTS\n  ],\n  entryComponents: [],\n})\nexport class ComponentsModule {}\n</code></pre>\n\n<p>and then make sure to import the components module inside the <code>app.module.ts</code>:</p>\n\n<pre><code>...\nimport { ComponentsModule } from './components/components.module';\n...\n\n@NgModule({\n  declarations: [AppComponent],\n  entryComponents: [],\n  imports: [\n    ...\n    ComponentsModule,\n    ...\n  ],\n  providers: [\n    ...\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}\n</code></pre>\n\n<p>To test the components, you need to create a page or component again.</p>\n\n<pre><code>ionic g page testing\n</code></pre>\n\n<p>Import components module into your testing component/page or (into your current home page similarly):</p>\n\n<pre><code>...\nimport { ComponentsModule } from '../components/components.module';\n...\n\n@NgModule({\n  imports: [\n     ...\n     ComponentsModule,\n     ...\n  ],\n  declarations: [TestingPage]\n})\nexport class TestingPageModule {}\n</code></pre>\n\n<p>Finally, just write the component inside the testing page by using the component selector. e.g.</p>\n\n<pre><code>&lt;app-my-component&gt;&lt;/app-my-component&gt;\n&lt;app-my-component2&gt;&lt;/app-my-component&gt;\n&lt;app-my-component3&gt;&lt;/app-my-component&gt;\n&lt;app-my-component4&gt;&lt;/app-my-component&gt;\n</code></pre>\n\n<p>Hope this might help.</p>\n"}, {"tags": [], "owner": {"reputation": 65, "user_id": 11935605, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-KYGXBigMOvY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rehmS-bJtVkB1Z0geeK53csnBCRQg/photo.jpg?sz=128", "display_name": "Jitendra Dhadavi", "link": "https://stackoverflow.com/users/11935605/jitendra-dhadavi"}, "is_accepted": false, "score": 0, "last_activity_date": 1588072977, "creation_date": 1588072977, "answer_id": 61479036, "question_id": 53185901, "link": "https://stackoverflow.com/questions/53185901/ionic-4-custom-components/61479036#61479036", "title": "Ionic 4 custom components", "body": "<p>simply enter below command to genrate custom component</p>\n\n<p><strong>ionic g component components/Component-Name</strong></p>\n\n<p>add component to html \n<strong></strong></p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 1435086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d80b36d28b3bbdc6124e7fbbf14307cd?s=128&d=identicon&r=PG", "display_name": "Tawfiqur Rahman", "link": "https://stackoverflow.com/users/1435086/tawfiqur-rahman"}, "is_accepted": false, "score": 1, "last_activity_date": 1600154551, "creation_date": 1600154551, "answer_id": 63896970, "question_id": 53185901, "link": "https://stackoverflow.com/questions/53185901/ionic-4-custom-components/63896970#63896970", "title": "Ionic 4 custom components", "body": "<p>Testes this solution on Ionic 6.11.0. Works perfectly.\nFlows to create a reusable component named 'FeaturedProduct' -</p>\n<p>Step 1: Create a component <code>ionic g component components/FeaturedProduct</code></p>\n<p>Step 2: Create a module for this component.\n<code>ionic g module components/FeaturedProduct</code></p>\n<p>Step 3: Import FeaturedProductComponent to featured-product.module.ts file</p>\n<pre><code>@NgModule({\n  declarations: [FeaturedProductComponent],\n  exports: [FeaturedProductComponent],\n  imports: [\n    CommonModule\n  ]\n})\n</code></pre>\n<p>Step 4: Import FeaturedProductModule on the module.ts file of your desired page.</p>\n<pre><code>@NgModule({\n  imports: [\n    ...\n    ...\n    FeaturedProductModule\n  ],\n  declarations: [Tab2Page]\n})\n</code></pre>\n<p>Now the component can be used by this tag\n<code>&lt;app-featured-product&gt;&lt;/app-featured-product&gt;</code></p>\n"}], "owner": {"reputation": 1440, "user_id": 6141513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hi7VH.jpg?s=128&g=1", "display_name": "Yushin", "link": "https://stackoverflow.com/users/6141513/yushin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28798, "favorite_count": 3, "accepted_answer_id": 53696515, "answer_count": 8, "score": 38, "last_activity_date": 1600154551, "creation_date": 1541579865, "last_edit_date": 1554084434, "question_id": 53185901, "link": "https://stackoverflow.com/questions/53185901/ionic-4-custom-components", "title": "Ionic 4 custom components", "body": "<p>How do you load a component in ionic 4 after running the command <code>ionic g component myComponent</code>? I want to add a new generated custom component to my home page.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 22589, "user_id": 542251, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c6a0ac3e18f1cd8d0f1be4c2e3a4cfbd?s=128&d=identicon&r=PG", "display_name": "Liam", "link": "https://stackoverflow.com/users/542251/liam"}, "edited": false, "score": 0, "creation_date": 1590655108, "post_id": 53185724, "comment_id": 109762897, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/34645731/export-more-than-one-variable-in-es6\">Export more than one variable in ES6?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1101, "user_id": 2657121, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/66a4fc1e49fd79c5670af3d4903e8629?s=128&d=identicon&r=PG", "display_name": "iPhoneJavaDev", "link": "https://stackoverflow.com/users/2657121/iphonejavadev"}, "edited": false, "score": 1, "creation_date": 1541580633, "post_id": 53185870, "comment_id": 93261543, "body": "actually i can&#39;t export the variable directly, what i did is <code>const sample = new Sample();  export const samp = sample, variable2 = sample.var2;</code>  Then <code>import {samp, variable2} from &#39;.&#47;sample&#39;;</code>"}], "tags": [], "owner": {"reputation": 611, "user_id": 10109897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7050ce5c5ad90b99eebbd84fcd03c7d5?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Rothig", "link": "https://stackoverflow.com/users/10109897/daniel-rothig"}, "is_accepted": true, "score": 2, "last_activity_date": 1541580864, "last_edit_date": 1541580864, "creation_date": 1541579677, "answer_id": 53185870, "question_id": 53185724, "link": "https://stackoverflow.com/questions/53185724/export-multiple-variables-from-typescript-class/53185870#53185870", "title": "Export multiple variables from typescript class", "body": "<p>Replace your export statement with</p>\n\n<pre><code>const sampleToExport = new Sample();\n\nexport sample = sampleToExport;\nexport var2 = sampleToExport.var2;\n</code></pre>\n\n<p>You can then import it like this:</p>\n\n<pre><code>import { sample, var2 } from './sample'\n</code></pre>\n"}], "owner": {"reputation": 1101, "user_id": 2657121, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/66a4fc1e49fd79c5670af3d4903e8629?s=128&d=identicon&r=PG", "display_name": "iPhoneJavaDev", "link": "https://stackoverflow.com/users/2657121/iphonejavadev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2674, "favorite_count": 0, "accepted_answer_id": 53185870, "answer_count": 1, "score": 1, "last_activity_date": 1541580864, "creation_date": 1541579067, "question_id": 53185724, "link": "https://stackoverflow.com/questions/53185724/export-multiple-variables-from-typescript-class", "title": "Export multiple variables from typescript class", "body": "<p>I have a the following sample.ts:</p>\n\n<pre><code>class Sample {\n    var1;\n    var2;\n    ...\n}\nexport default new Sample();\n</code></pre>\n\n<p>In another class, i imported it using:</p>\n\n<pre><code>import sample from './sample';\n</code></pre>\n\n<p>And use it as:</p>\n\n<pre><code>sample.var1;\n</code></pre>\n\n<p>But I would like to access var2 without using <code>sample.var2</code>.  I thought of exporting <code>var2</code> as well, but I'm not sure if that is possible.  I want something like below, so I can use <code>var2</code> directly when i import the file.</p>\n\n<pre><code>class Sample {...}\nexport default new Sample(), var2;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "dialog"], "comments": [{"owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1541578465, "post_id": 53185593, "comment_id": 93260664, "body": "So does the <code>afterClosed</code> Observable not fire then?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1541578595, "post_id": 53185593, "comment_id": 93260711, "body": "Data is sent when the user closes the dialog with ESC or clicking outside, it&#39;s an empty string."}, {"owner": {"reputation": 1527, "user_id": 4627239, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8-AOz6OuyQk/AAAAAAAAAAI/AAAAAAAAC1o/pJw-AxTXFCs/photo.jpg?sz=128", "display_name": "Santi Nunez", "link": "https://stackoverflow.com/users/4627239/santi-nunez"}, "edited": false, "score": 1, "creation_date": 1541578657, "post_id": 53185593, "comment_id": 93260738, "body": "afterClosed is triggered but i don&#39;t know how to send data from the dialog to &quot;result&quot; when the user close the Modal using default options (clicking outside or pressing ESC)"}], "answers": [{"comments": [{"owner": {"reputation": 1527, "user_id": 4627239, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8-AOz6OuyQk/AAAAAAAAAAI/AAAAAAAAC1o/pJw-AxTXFCs/photo.jpg?sz=128", "display_name": "Santi Nunez", "link": "https://stackoverflow.com/users/4627239/santi-nunez"}, "edited": false, "score": 0, "creation_date": 1541580193, "post_id": 53185782, "comment_id": 93261364, "body": "The problem is when the user change the data in the modal and after that close the modal clicking outside. I don&#39;t recive this change in the parent so the data would be default when it shouldn`t"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 1527, "user_id": 4627239, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8-AOz6OuyQk/AAAAAAAAAAI/AAAAAAAAC1o/pJw-AxTXFCs/photo.jpg?sz=128", "display_name": "Santi Nunez", "link": "https://stackoverflow.com/users/4627239/santi-nunez"}, "edited": false, "score": 0, "creation_date": 1541580794, "post_id": 53185782, "comment_id": 93261609, "body": "That&#39;s another issue, completely unrelated to this one. I suggest you create a question with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 1527, "user_id": 4627239, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8-AOz6OuyQk/AAAAAAAAAAI/AAAAAAAAC1o/pJw-AxTXFCs/photo.jpg?sz=128", "display_name": "Santi Nunez", "link": "https://stackoverflow.com/users/4627239/santi-nunez"}, "edited": false, "score": 0, "creation_date": 1541584567, "post_id": 53185782, "comment_id": 93263496, "body": "In fact is the main issue"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 1527, "user_id": 4627239, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8-AOz6OuyQk/AAAAAAAAAAI/AAAAAAAAC1o/pJw-AxTXFCs/photo.jpg?sz=128", "display_name": "Santi Nunez", "link": "https://stackoverflow.com/users/4627239/santi-nunez"}, "edited": false, "score": 0, "creation_date": 1541585265, "post_id": 53185782, "comment_id": 93263863, "body": "I don&#39;t doubt that, what I&#39;m saying is that you didn&#39;t say that in your original question, you explained a totally different issue. So, again, consider creating a new question with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> reproducing this specific issue."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": false, "score": 0, "last_activity_date": 1541579355, "creation_date": 1541579355, "answer_id": 53185782, "question_id": 53185593, "link": "https://stackoverflow.com/questions/53185593/angular-material-dialog-send-data-when-close/53185782#53185782", "title": "Angular Material dialog - send data when close", "body": "<p>If you want to change the default data, here is how you proceed. </p>\n\n<pre><code>dialogRef.afterClosed().pipe(\n  map(result =&gt; !result ? 'Default data' : result),\n).subscribe(...);\n</code></pre>\n\n<p>This test will test falsy values (<code>''</code>, <code>undefined</code>, <code>null</code>, <code>0</code> ...), and since the default returned value by the dialog is <code>''</code>, it will replace it with <code>'Default data'</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 2489340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4433572da126c0a1b77117a00602211b?s=128&d=identicon&r=PG", "display_name": "Pawel", "link": "https://stackoverflow.com/users/2489340/pawel"}, "is_accepted": false, "score": 0, "last_activity_date": 1565776576, "creation_date": 1565776576, "answer_id": 57492404, "question_id": 53185593, "link": "https://stackoverflow.com/questions/53185593/angular-material-dialog-send-data-when-close/57492404#57492404", "title": "Angular Material dialog - send data when close", "body": "<p>Today I've encountered the same problem, my workaround: service and rxjs:</p>\n\n<pre><code>// service.ts\n@Injectable({\n  providedIn: 'root'\n})\nexport class ComunicationService {\n  observedEvent$ = new Subject&lt;ISomeInterface&gt;();\n  constructor() { }\n  eventOcurs(some_object: ISomeInterface) {\n    observedEvent$.next(some_object);\n  }\n}\n</code></pre>\n\n<p>Then in dialog component (ComunicationService is injected as comunicationService) I'm watching for some events and fire important object into observed stream:</p>\n\n<pre><code>// dialog-component.ts\nthis.comunicationService.eventOcurs(some_object);\n</code></pre>\n\n<p>Parent component (ComunicationService is injected as comunicationService) is subscribing for changes:</p>\n\n<pre><code>// parent-component.ts\nthis.comunicationService.observedEvent$.subscribe((some_object) =&gt; {\n  //some action\n})\n</code></pre>\n\n<p>Using services you can follow any change you want.\nBenefit of this method is that the parent component is reacting for changes in background, when I close the dialog, all changes are provided in parent component already.  </p>\n"}], "owner": {"reputation": 1527, "user_id": 4627239, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8-AOz6OuyQk/AAAAAAAAAAI/AAAAAAAAC1o/pJw-AxTXFCs/photo.jpg?sz=128", "display_name": "Santi Nunez", "link": "https://stackoverflow.com/users/4627239/santi-nunez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3034, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1565776576, "creation_date": 1541578266, "last_edit_date": 1541579363, "question_id": 53185593, "link": "https://stackoverflow.com/questions/53185593/angular-material-dialog-send-data-when-close", "title": "Angular Material dialog - send data when close", "body": "<p>Is there any way to send data from dialog to the \"parent\" when it's close (even when user clicks outsite or press ESC)?</p>\n\n<p>currently I have a parent whith:</p>\n\n<p><strong>PARENT:</strong></p>\n\n<pre><code>open(){\n    const dialogRef = this.dialog.open(ModalinvitarComponent, {\n      width: '90%',\n      maxWidth: '520px'\n    });\n    dialogRef.afterClosed().subscribe(result =&gt; {\n      console.log(result)\n    });\n}\n</code></pre>\n\n<p>when the modal is closed results get \"undefined\"</p>\n\n<p>I can send some data from the modal using:</p>\n\n<pre><code>this.dialogRef.close(true)\n</code></pre>\n\n<p>then I get \"true\" in response, but I would like to send data even when the user close the modal clicking outside of the modal or press ESC.</p>\n\n<p>I have a variable inside the modal, and I would like to recive it, no matters the way the user close the modal.</p>\n"}, {"tags": ["html", "angular", "typescript", "event-handling"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1541578704, "post_id": 53185544, "comment_id": 93260758, "body": "Why not <code>(click)=&quot;runSelect($event)&quot;</code> ? Also sometimes, too much simplification is bad, consider giving a serious use-case."}, {"owner": {"reputation": 2401, "user_id": 9890873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkm7i.jpg?s=128&g=1", "display_name": "Jacopo Sciampi", "link": "https://stackoverflow.com/users/9890873/jacopo-sciampi"}, "edited": false, "score": 0, "creation_date": 1541578869, "post_id": 53185544, "comment_id": 93260816, "body": "Even if you achieve that, the <code>onSelect</code> event is not catching any text you selected in the first button. I&#39;ve made a stackblitz when you can click the second button and it fires the click on the first, but is that what you need?"}, {"owner": {"reputation": 173, "user_id": 9433582, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "fly high", "link": "https://stackoverflow.com/users/9433582/fly-high"}, "reply_to_user": {"reputation": 2401, "user_id": 9890873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkm7i.jpg?s=128&g=1", "display_name": "Jacopo Sciampi", "link": "https://stackoverflow.com/users/9890873/jacopo-sciampi"}, "edited": false, "score": 0, "creation_date": 1541581291, "post_id": 53185544, "comment_id": 93261843, "body": "@JacopoSciampi I have supplemented the question. Thank you."}, {"owner": {"reputation": 173, "user_id": 9433582, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "fly high", "link": "https://stackoverflow.com/users/9433582/fly-high"}, "edited": false, "score": 0, "creation_date": 1541581418, "post_id": 53185544, "comment_id": 93261905, "body": "@trichetriche I have supplemented the question. Thank you."}], "answers": [{"tags": [], "owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "is_accepted": true, "score": 0, "last_activity_date": 1541579356, "creation_date": 1541579356, "answer_id": 53185783, "question_id": 53185544, "link": "https://stackoverflow.com/questions/53185544/angular-run-event-on-other-button/53185783#53185783", "title": "Angular | Run event on other button", "body": "<p>What you want is to trigger event <code>onSelect</code>. The point to be noted here is <code>onSelect</code> is not a <code>function</code> but <code>event</code>. You should not call the <code>event</code> instead call the <code>function</code> which actually triggers it.</p>\n\n<p>Since you are using <code>onSelect</code> which is custom event so you must be using some <code>Directive</code> for the same. So what you should do is, access the Directive inside the component and call the function which triggers the event (EventEmitter);</p>\n\n<h3>Sue-do code</h3>\n\n<pre><code>@Directive(selector=\"my-directive\")\npublic class MyDirective {\n\n value : string;\n\n onSelect = new EventEmitter();\n\n public selectionMade(){\n      this.onSelect.emit(value);\n }\n\n}\n</code></pre>\n\n<h3>Component html</h3>\n\n<pre><code>&lt;button (onSelect)=\"runSelect($event)\" myDirective #myDirective=\"myDirective\"&gt;&lt;/button&gt;\n\n&lt;button (click)=\"clickTest()\" #button2&gt;&lt;/button&gt;\n</code></pre>\n\n<h3>Component ts</h3>\n\n<pre><code>@ViewChild('myDirective') myDirective : MyDirective;\n\n...\nclickTest() {\n    this.myDirective.selectionMade();   // In this section, call (onSelect).\n}\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 9433582, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "fly high", "link": "https://stackoverflow.com/users/9433582/fly-high"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 53185783, "answer_count": 1, "score": 0, "last_activity_date": 1541599922, "creation_date": 1541578004, "last_edit_date": 1541599922, "question_id": 53185544, "link": "https://stackoverflow.com/questions/53185544/angular-run-event-on-other-button", "title": "Angular | Run event on other button", "body": "<p>(Invalid question. You do not need to refer to it. Thank you.)</p>\n\n<p>Solution : Use a common variable not $event.</p>\n\n<hr>\n\n<p>I want to run the event on the other buttons.</p>\n\n<p>I use <code>$event</code>, but I can not call function immediately.</p>\n\n<p><br>\n.html</p>\n\n<pre><code>&lt;p-fileUpload (onSelect)=\"runSelect($event)\"\n    accept=\"image/*\" #imageUpload&gt;&lt;/p-fileUpload&gt;\n\n&lt;button (click)=\"callImageSelect()\" #button2&gt;&lt;/button&gt;\n</code></pre>\n\n<p>When button2 is pressed, I want to run (onSelect) event on #imageUpload.</p>\n\n<p>(onSelect) have a parameter. (event.files: List of selected files)</p>\n\n<p>If press button1 to run ,</p>\n\n<p>and I want to put the default value in $event.</p>\n\n<p>So the way I found is to use <code>viewChild</code>.</p>\n\n<p><br>\n.ts</p>\n\n<pre><code>@ViewChild('imageUpload') imageUpload;\n\n...\ncallImageSelect() {\n    this.imageUpload.**onSelect()**;   // In this section, call (onSelect).\n}\n\nrunSelect(event) {\n     event.files.push(defalut);\n     // Here I put the default value for event.\n}\n</code></pre>\n\n<p>Is there a good way?</p>\n\n<p>Thank you for your advice.</p>\n"}, {"tags": ["angular", "typescript", "inheritance", "angular7"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 1, "creation_date": 1541578396, "post_id": 53185211, "comment_id": 93260637, "body": "Would that bother you to do it in the bootstraped component ? Seems to work : <a href=\"https://stackblitz.com/edit/component-inheritance-angular-7-mzhem6?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>"}, {"owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "edited": false, "score": 0, "creation_date": 1541579165, "post_id": 53185211, "comment_id": 93260944, "body": "Use AppModule constructor <a href=\"https://stackblitz.com/edit/component-inheritance-angular-7-dfd2wr\" rel=\"nofollow noreferrer\">stackblitz.com/edit/component-inheritance-angular-7-dfd2wr</a>"}, {"owner": {"reputation": 614, "user_id": 2023525, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/08fa04651eee0619f6a4006889eb7958?s=128&d=identicon&r=PG", "display_name": "Lightheaded", "link": "https://stackoverflow.com/users/2023525/lightheaded"}, "edited": false, "score": 0, "creation_date": 1541678891, "post_id": 53185211, "comment_id": 93302848, "body": "Thanks! Both suggestions help circumvent the problem :)"}], "answers": [{"comments": [{"owner": {"reputation": 614, "user_id": 2023525, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/08fa04651eee0619f6a4006889eb7958?s=128&d=identicon&r=PG", "display_name": "Lightheaded", "link": "https://stackoverflow.com/users/2023525/lightheaded"}, "edited": false, "score": 0, "creation_date": 1541678203, "post_id": 53185632, "comment_id": 93302507, "body": "Thanks, this seems to be working. Althought I went for storing the injector in the <code>AppComponent</code> instead of <code>AppModule</code> as per trichetriche&#39;s comment, I will mark your answer as accepted, as it works too. Feels somewhat hacky to do so, but as long as it works, right? :)"}, {"owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "reply_to_user": {"reputation": 614, "user_id": 2023525, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/08fa04651eee0619f6a4006889eb7958?s=128&d=identicon&r=PG", "display_name": "Lightheaded", "link": "https://stackoverflow.com/users/2023525/lightheaded"}, "edited": false, "score": 1, "creation_date": 1541750085, "post_id": 53185632, "comment_id": 93330306, "body": "Both are acceptable but if the you extend <code>AppComponent</code> with base class <code>AppModule</code> will be the place to set injector because <code>AppModule</code> is create before <code>AppComponent</code>."}, {"owner": {"reputation": 1621, "user_id": 1639141, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/g5J7j.jpg?s=128&g=1", "display_name": "Rasshu", "link": "https://stackoverflow.com/users/1639141/rasshu"}, "edited": false, "score": 0, "creation_date": 1551205083, "post_id": 53185632, "comment_id": 96552598, "body": "Can you send the full final example to plunkr?"}, {"owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "reply_to_user": {"reputation": 1621, "user_id": 1639141, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/g5J7j.jpg?s=128&g=1", "display_name": "Rasshu", "link": "https://stackoverflow.com/users/1639141/rasshu"}, "edited": false, "score": 2, "creation_date": 1551242955, "post_id": 53185632, "comment_id": 96564693, "body": "@rsb2097  this live example <a href=\"https://stackblitz.com/edit/component-inheritance-angular-7-dfd2wr?file=src%2Fapp%2Fbase.component.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>"}], "tags": [], "owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "is_accepted": true, "score": 6, "last_activity_date": 1541579278, "last_edit_date": 1541579278, "creation_date": 1541578510, "answer_id": 53185632, "question_id": 53185211, "link": "https://stackoverflow.com/questions/53185211/angular-7-component-inheritance-using-a-global-injector/53185632#53185632", "title": "Angular 7 Component Inheritance using a global injector", "body": "<p>I have set the injector service in AppModule and that mean I will inject Injector and set it in the constractor of AppModule and store the injector service in global object </p>\n\n<pre><code>export class AppModule { \n  constructor(injector:Injector){\n  // Store module's injector in the AppInjector class\n  console.log('Expected #1: storing app injector');\n  AppInjector.setInjector(injector);\n  }\n}\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/component-inheritance-angular-7-dfd2wr\" rel=\"noreferrer\"><strong>demo</strong></a> </p>\n"}], "owner": {"reputation": 614, "user_id": 2023525, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/08fa04651eee0619f6a4006889eb7958?s=128&d=identicon&r=PG", "display_name": "Lightheaded", "link": "https://stackoverflow.com/users/2023525/lightheaded"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2190, "favorite_count": 3, "accepted_answer_id": 53185632, "answer_count": 1, "score": 4, "last_activity_date": 1543354481, "creation_date": 1541576312, "last_edit_date": 1541843442, "question_id": 53185211, "link": "https://stackoverflow.com/questions/53185211/angular-7-component-inheritance-using-a-global-injector", "title": "Angular 7 Component Inheritance using a global injector", "body": "<p>I've been using the approach described in an <a href=\"https://blogs.msdn.microsoft.com/premier_developer/2018/06/17/angular-how-to-simplify-components-with-typescript-inheritance/#comment-38395\" rel=\"nofollow noreferrer\">MSDN blog post</a> to simplify extending components without needing to provide all the dependencies in the <code>super()</code> call. However this has stopped working in Angular 7 with Typescript 3.</p>\n\n<p>So what's happening is that after bootstrapping, I'm trying to store the injector in a service and afterwards I try to retrieve it.</p>\n\n<pre><code>platformBrowserDynamic().bootstrapModule(AppModule).then(ref =&gt; {\n  // Store module's injector in the AppInjector class\n  console.log('Expected #1: storing app injector');\n  AppInjector.setInjector(ref.injector);\n})\n</code></pre>\n\n<p>and then in the base component I fetch the stored injector</p>\n\n<pre><code>export class BaseComponent {\n  constructor() {\n    console.log('Expected #2: retrieving stored injector');\n    const injector = AppInjector.getInjector();\n  }\n}\n</code></pre>\n\n<p>However looking at the console, the order is reversed \u2013 first the <code>BaseComponent</code>'s constructor is called whichafter the promise of <code>boostrapModule()</code> is resolved.</p>\n\n<p>I'm not sure if bootstrapping is behaving differently now in Angular 7, as the console logs hint. The very same solution used to work in Angular 6 with Typescript 2, but with version 7 it has stopped working. Here's a stackblitz of the broken app based on the MSDN article: <a href=\"https://stackblitz.com/edit/component-inheritance-angular-7\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/component-inheritance-angular-7</a></p>\n\n<p>So the fundamental question is \u2013 <strong>how to guarantee that <code>AppInjector.setInjector()</code> happens before <code>AppInjector.getInjector()</code></strong>?</p>\n"}, {"tags": ["typescript", "mocking", "jestjs"], "answers": [{"comments": [{"owner": {"reputation": 12884, "user_id": 2739078, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sbROn.jpg?s=128&g=1", "display_name": "CodinCat", "link": "https://stackoverflow.com/users/2739078/codincat"}, "edited": false, "score": 0, "creation_date": 1541754989, "post_id": 53222290, "comment_id": 93332506, "body": "If change the import to <code>..&#47;__mocks__&#47;Database</code> then the database mock will not be used at all. <code>index.ts</code> will import the real <code>Database.ts</code> and both line 10 and 11 will fail."}, {"owner": {"reputation": 10300, "user_id": 428486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4ca8698e59a2414899f97b850084f45?s=128&d=identicon&r=PG", "display_name": "lucascaro", "link": "https://stackoverflow.com/users/428486/lucascaro"}, "reply_to_user": {"reputation": 12884, "user_id": 2739078, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sbROn.jpg?s=128&g=1", "display_name": "CodinCat", "link": "https://stackoverflow.com/users/2739078/codincat"}, "edited": false, "score": 1, "creation_date": 1541793121, "post_id": 53222290, "comment_id": 93351801, "body": "@CodinCat I finally understand what you meant :) updated the answer which seems to work on my end, hope it helps!"}, {"owner": {"reputation": 10300, "user_id": 428486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4ca8698e59a2414899f97b850084f45?s=128&d=identicon&r=PG", "display_name": "lucascaro", "link": "https://stackoverflow.com/users/428486/lucascaro"}, "reply_to_user": {"reputation": 12884, "user_id": 2739078, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sbROn.jpg?s=128&g=1", "display_name": "CodinCat", "link": "https://stackoverflow.com/users/2739078/codincat"}, "edited": false, "score": 0, "creation_date": 1541915052, "post_id": 53222290, "comment_id": 93377313, "body": "@CodinCat have you tried this? does the answer make sense?"}], "tags": [], "owner": {"reputation": 10300, "user_id": 428486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4ca8698e59a2414899f97b850084f45?s=128&d=identicon&r=PG", "display_name": "lucascaro", "link": "https://stackoverflow.com/users/428486/lucascaro"}, "is_accepted": true, "score": 8, "last_activity_date": 1541793099, "last_edit_date": 1541793099, "creation_date": 1541752707, "answer_id": 53222290, "question_id": 53184529, "link": "https://stackoverflow.com/questions/53184529/typescript-doesnt-recognize-my-jest-mock-module/53222290#53222290", "title": "TypeScript doesn&#39;t recognize my jest mock module", "body": "<p>Since typescript is not aware of <code>jest</code> mocking, you will need to manually type cast whenever your mocks are different than your actual code:</p>\n\n<pre><code>import * as MockDatabase from \"../__mocks__/Database\";\nimport * as Database from \"../Database\";\n\nimport { runSomeQuery } from \"../index\";\njest.mock(\"../Database\");\n\n// Type cast since Database is automatically mocked by jest\nconst { connect, __getMockConnection } = Database as typeof MockDatabase;\n\ntest(\"runSomeQuery\", async () =&gt; {\n  await runSomeQuery();\n  const mockConnection = __getMockConnection();\n  expect(connect).toBeCalled();\n  expect(mockConnection.query).toBeCalledWith(\"SOME QUERY\");\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 984, "user_id": 5115898, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XURm8chJ1E4/AAAAAAAAAAI/AAAAAAAAB9c/y3vbKvRDju8/photo.jpg?sz=128", "display_name": "Tobi", "link": "https://stackoverflow.com/users/5115898/tobi"}, "is_accepted": false, "score": 0, "last_activity_date": 1587535353, "creation_date": 1587535353, "answer_id": 61358282, "question_id": 53184529, "link": "https://stackoverflow.com/questions/53184529/typescript-doesnt-recognize-my-jest-mock-module/61358282#61358282", "title": "TypeScript doesn&#39;t recognize my jest mock module", "body": "<p>Another option is to use <a href=\"https://github.com/kulshekhar/ts-jest/blob/master/docs/user/test-helpers.md\" rel=\"nofollow noreferrer\">ts-jest</a>'s mocked() helper. The helper will make sure you have access to the mock test methods. For details have a look at the post here: <a href=\"https://stackoverflow.com/questions/58639737/import-function-from-a-jest-manual-mock-with-typescript/61358020#61358020\">Import function from a Jest manual mock with Typescript</a></p>\n"}], "owner": {"reputation": 12884, "user_id": 2739078, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sbROn.jpg?s=128&g=1", "display_name": "CodinCat", "link": "https://stackoverflow.com/users/2739078/codincat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3812, "favorite_count": 2, "accepted_answer_id": 53222290, "answer_count": 2, "score": 7, "last_activity_date": 1587535353, "creation_date": 1541572070, "last_edit_date": 1541577314, "question_id": 53184529, "link": "https://stackoverflow.com/questions/53184529/typescript-doesnt-recognize-my-jest-mock-module", "title": "TypeScript doesn&#39;t recognize my jest mock module", "body": "<p>Suppose I have an <code>index.ts</code> that will import <code>Database.ts</code> and run some queries. To test this <code>index.ts</code> file, I want to mock the <code>Database.ts</code> because I don't want to connect to any real database.</p>\n\n<p>This is my <code>index.ts</code>:</p>\n\n<pre><code>import { connect } from './Database'\n\nexport async function runSomeQuery() {\n  const connection = await connect()\n  const result = await connection.query('SOME QUERY')\n  return result\n}\n</code></pre>\n\n<p>and here is the mock of database (<code>__mocks__/Database.ts</code>)</p>\n\n<pre><code>const mockConnection = {\n  query: jest.fn()\n}\n\nexport const connect = jest.fn(\n  () =&gt; Promise.resolve(mockConnection)\n)\n\nexport function __getMockConnection() {\n  return mockConnection\n}\n</code></pre>\n\n<p>you can see that I expose a <code>__getMockConnection</code> so that I can get the <code>mockConnection</code> in my tests (<code>index.spec.ts</code>) (this pattern is learnt from the <a href=\"https://jestjs.io/docs/en/manual-mocks\" rel=\"noreferrer\">official doc</a>):</p>\n\n<pre><code>import { connect, __getMockConnection } from '../Database'\n//                ^^^^ getting type error here \nimport { runSomeQuery } from '../index'\n\njest.mock('../Database')\n\ntest('runSomeQuery', async () =&gt; {\n  await runSomeQuery()\n  const mockConnection = __getMockConnection()\n  expect(connect).toBeCalled()\n  expect(mockConnection.query).toBeCalledWith('SOME QUERY')\n  expect(mockConnection.query).toBeCalledWith('SOME QUERY')\n})\n</code></pre>\n\n<p>The test case does pass as expected, but I'm getting this TypeScript error </p>\n\n<pre><code>Module '\"/project/path/Database\"' has no exported member '__getMockConnection'. [2305]\n</code></pre>\n\n<p>TypeScript doesn't know that I'm importing <code>Database</code> from the mock. Also for this reason I have to disable the diagnostics of ts-jest which complains the same issue.</p>\n\n<p>How can I solve this? Change the import path to <code>'../__mocks__/Database'</code> doesn't work.</p>\n\n<p>Here is the repo: <a href=\"https://github.com/CodinCat/ts-jest-mock-issue\" rel=\"noreferrer\">https://github.com/CodinCat/ts-jest-mock-issue</a></p>\n\n<p>Open <code>__tests__/index.spec.ts</code> with an editor that supports TypeScript like VS Code and you will see the error.</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": true, "score": 0, "last_activity_date": 1541572766, "creation_date": 1541572766, "answer_id": 53184637, "question_id": 53184178, "link": "https://stackoverflow.com/questions/53184178/about-a-indexable-type-index-signature-in-typescript/53184637#53184637", "title": "about a indexable type (index signature) in typescript", "body": "<p>You either go with a plain object:</p>\n\n<pre><code> const dict: { [key: string]: number } = {};\n\n dict[\"a\"] = 1;\n dict[\"b\"] = 2;\n\n for(let key in dict)\n   console.log(key + \":\" + dict[key]);\n\nfor(const [k, v] of Object.entries(dict))\n  consope.log(k + \":\" + v);\n</code></pre>\n\n<p>Or you use a Map:</p>\n\n<pre><code>  const dict = new Map&lt;string, number&gt;();\n\n  dict.set(\"a\", 1).set(\"b\", 2);\n\n  for(const [k, v] of dict.entries())\n    console.log(k + \":\" + v);\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 10235078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yY0ZP.png?s=128&g=1", "display_name": "Dubs", "link": "https://stackoverflow.com/users/10235078/dubs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 53184637, "answer_count": 1, "score": 0, "last_activity_date": 1541572766, "creation_date": 1541569747, "question_id": 53184178, "link": "https://stackoverflow.com/questions/53184178/about-a-indexable-type-index-signature-in-typescript", "title": "about a indexable type (index signature) in typescript", "body": "<p>I want to make a generic Dictionary like Dictionary of c#.</p>\n\n<p>but javascript not support bracket([]) operator overloading.</p>\n\n<p>so i think of a trick. that's just using index signature.</p>\n\n<p>but it has a critical problem. cannot traverse elements like c#. (for or foreach)</p>\n\n<p>help me!</p>\n\n<p>ps. sorry to english.</p>\n"}, {"tags": ["javascript", "typescript", "gulp", "jasmine", "karma-jasmine"], "comments": [{"owner": {"reputation": 1849, "user_id": 2535616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73eb9f75b3df33ca2649634a3d91e315?s=128&d=identicon&r=PG", "display_name": "lleon", "link": "https://stackoverflow.com/users/2535616/lleon"}, "edited": false, "score": 0, "creation_date": 1541569920, "post_id": 53183650, "comment_id": 93257945, "body": "What is the exact error you&#39;re getting? You probably have to install <code>@types&#47;node</code>"}, {"owner": {"reputation": 51, "user_id": 7506269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb5122ef33d3b3dc2a0e9fc1a158a628?s=128&d=identicon&r=PG&f=1", "display_name": "Sandaru", "link": "https://stackoverflow.com/users/7506269/sandaru"}, "reply_to_user": {"reputation": 1849, "user_id": 2535616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73eb9f75b3df33ca2649634a3d91e315?s=128&d=identicon&r=PG", "display_name": "lleon", "link": "https://stackoverflow.com/users/2535616/lleon"}, "edited": false, "score": 0, "creation_date": 1541571487, "post_id": 53183650, "comment_id": 93258366, "body": "@lleon when i build the project with gulp, it cannot identify require method and required modules. It won&#39;t show any compile or run time error"}, {"owner": {"reputation": 1849, "user_id": 2535616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73eb9f75b3df33ca2649634a3d91e315?s=128&d=identicon&r=PG", "display_name": "lleon", "link": "https://stackoverflow.com/users/2535616/lleon"}, "edited": false, "score": 0, "creation_date": 1541571645, "post_id": 53183650, "comment_id": 93258407, "body": "Can you provide the minimal code to reproduce the error?"}, {"owner": {"reputation": 51, "user_id": 7506269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb5122ef33d3b3dc2a0e9fc1a158a628?s=128&d=identicon&r=PG&f=1", "display_name": "Sandaru", "link": "https://stackoverflow.com/users/7506269/sandaru"}, "reply_to_user": {"reputation": 1849, "user_id": 2535616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73eb9f75b3df33ca2649634a3d91e315?s=128&d=identicon&r=PG", "display_name": "lleon", "link": "https://stackoverflow.com/users/2535616/lleon"}, "edited": false, "score": 0, "creation_date": 1541572204, "post_id": 53183650, "comment_id": 93258559, "body": "<code>const proxyquire = require(&#39;proxyquireify&#39;)(require);  describe(&#39;Experiences Test&#39;, () =&gt; {   let experiencesMock: any;    beforeEach(() =&gt; {     experiencesMock = proxyquire(&#39;.&#47;Experiences&#39;, {       loglevel: {         getLogger: mockFunctions.spyGetLogger,         setLevel: mockFunctions.spySetLevel       }     });</code>"}], "owner": {"reputation": 51, "user_id": 7506269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb5122ef33d3b3dc2a0e9fc1a158a628?s=128&d=identicon&r=PG&f=1", "display_name": "Sandaru", "link": "https://stackoverflow.com/users/7506269/sandaru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1541565590, "creation_date": 1541565590, "question_id": 53183650, "link": "https://stackoverflow.com/questions/53183650/how-to-use-import-statement-instead-of-require-typescript", "title": "How to use import statement instead of require TypeScript", "body": "<pre><code> const proxyquire = require('proxyquireify')(require);\n</code></pre>\n\n<p>I'm using proxyquire to mock dependencies for jasmine in unit testing. When i use the code mentioned above, I'm getting some errors because of using 'require' method. </p>\n\n<p>Is there any way to use import statement for this scenario instead of require or is there any alternative to proxyquire?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2429, "user_id": 8946627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t5N2d.jpg?s=128&g=1", "display_name": "JBoothUA", "link": "https://stackoverflow.com/users/8946627/jboothua"}, "edited": false, "score": 0, "creation_date": 1541562867, "post_id": 53183085, "comment_id": 93256675, "body": "sorry, so what is happening currently?  and what do you want it to do?"}, {"owner": {"reputation": 2429, "user_id": 8946627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t5N2d.jpg?s=128&g=1", "display_name": "JBoothUA", "link": "https://stackoverflow.com/users/8946627/jboothua"}, "edited": false, "score": 0, "creation_date": 1541562891, "post_id": 53183085, "comment_id": 93256679, "body": "maybe we can put together a stackblitz, let me know if you want me to try to set one up"}], "answers": [{"tags": [], "owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "is_accepted": true, "score": 0, "last_activity_date": 1541612761, "last_edit_date": 1541612761, "creation_date": 1541563532, "answer_id": 53183428, "question_id": 53183085, "link": "https://stackoverflow.com/questions/53183085/angular-clear-input-when-setting-model-to-undefined/53183428#53183428", "title": "Angular clear input when setting model to undefined", "body": "<p>You could do the following when an invalid value is entered:</p>\n\n<ul>\n<li>Set <code>value</code> to the value entered in the <code>input</code> element</li>\n<li>Force an update of the view by calling <code>ChangeDetectorRef.detectChanges</code></li>\n<li>Set <code>value</code> to <code>undefined</code></li>\n<li>Let Angular update the view on change detection</li>\n</ul>\n\n<p>This can be done by setting a different handler for the <code>ngModelChange</code> event:</p>\n\n<pre><code>&lt;input [ngModel]=\"value\" (ngModelChange)=\"setValue($event)\" [ngModelOptions]=\"{updateOn: 'blur'}\" /&gt;\n</code></pre>\n\n<p>The <code>ChangeDetectorRef</code> class is injected in the constructor, and the event handler <code>setValue</code> is defined as follows:</p>\n\n<pre><code>constructor(private cd: ChangeDetectorRef) { }\n\nsetValue(val: string) {\n  const result = this.parse(val); // Get final value\n  if (!result) {                  // If final value is invalid\n    this.value = val;             // Set temporary value\n    this.cd.detectChanges();      // Force view update\n  }\n  this.value = result;            // Set final value\n}\n</code></pre>\n\n<p>See <a href=\"https://stackblitz.com/edit/angular-hiavft\" rel=\"nofollow noreferrer\">this stackblitz</a> for a demo.</p>\n"}], "owner": {"reputation": 652, "user_id": 6457540, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-viIm1iKV3iA/AAAAAAAAAAI/AAAAAAAACAo/h30YfuZV0ac/photo.jpg?sz=128", "display_name": "Bradley Moorfield", "link": "https://stackoverflow.com/users/6457540/bradley-moorfield"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 53183428, "answer_count": 1, "score": 1, "last_activity_date": 1541612761, "creation_date": 1541560100, "last_edit_date": 1541590518, "question_id": 53183085, "link": "https://stackoverflow.com/questions/53183085/angular-clear-input-when-setting-model-to-undefined", "title": "Angular clear input when setting model to undefined", "body": "<p>I have an input where I am using <code>ngModelChange</code> to parse input like so</p>\n\n<pre><code>&lt;input [ngModel]=\"value\" (ngModelChange)=\"value = parse($event)\" [ngModelOptions]=\"{ updateOn: 'blur' }\" /&gt;\n</code></pre>\n\n<p>Where the <code>parse</code> function either returns a value, or <code>undefined</code> if the input is invalid.</p>\n\n<p>If the input is valid, then changes to an invalid value, assigning <code>undefined</code> clears the input as desired.</p>\n\n<p>If the value is already <code>undefined</code> and an invalid input is entered, the parse function returns <code>undefined</code> again, but the input is not cleared.</p>\n\n<p>How can I force the view to update in this second case, or tackle this problem a different way.</p>\n"}, {"tags": ["node.js", "typescript", "rxjs", "rxjs6"], "answers": [{"tags": [], "owner": {"reputation": 966, "user_id": 3846065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88681ce72e9fa053125209554c40a5c1?s=128&d=identicon&r=PG&f=1", "display_name": "Badashi", "link": "https://stackoverflow.com/users/3846065/badashi"}, "is_accepted": true, "score": 3, "last_activity_date": 1541555621, "creation_date": 1541555621, "answer_id": 53182649, "question_id": 53182499, "link": "https://stackoverflow.com/questions/53182499/counting-the-number-of-values-emitted-before-the-observable-completes/53182649#53182649", "title": "Counting the number of values emitted before the Observable completes?", "body": "<p>The <code>count</code> operator works as follows:</p>\n\n<blockquote>\n  <p>Counts the number of emissions on the source and emits that number when the source completes (<a href=\"https://rxjs-dev.firebaseapp.com/api/operators/count\" rel=\"nofollow noreferrer\">source</a>)</p>\n</blockquote>\n\n<p>So you can use it like so:</p>\n\n<pre><code>obs.pipe(count()).subscribe(totalEmissions =&gt; expect(totalEmissions).toEqual(4))\n</code></pre>\n\n<p>Note that you can't really measure how many events occured <em>before</em> the original observable completed, because if it didn't complete then you didn't finish counting!</p>\n\n<p>You can, however, take note of the \"index\" of each emission using <code>tap</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let count = 0\nobs.pipe(tap(() =&gt; console.log(\"emitted! Index: \" + count++))).subscribe(obsValue =&gt; {/*...*/})\n</code></pre>\n\n<p>I'm not sure which is your use case, but that's how you can do it.</p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 320, "favorite_count": 0, "accepted_answer_id": 53182649, "answer_count": 1, "score": 0, "last_activity_date": 1541555621, "creation_date": 1541554013, "last_edit_date": 1541555593, "question_id": 53182499, "link": "https://stackoverflow.com/questions/53182499/counting-the-number-of-values-emitted-before-the-observable-completes", "title": "Counting the number of values emitted before the Observable completes?", "body": "<p>Attempting to verify that an observable emits a certain number of events before it completes.  This is pseudo code:</p>\n\n<pre><code>o.pipe(count).subscribe(count=&gt;\n  expect(count).toEqual(4));\n</code></pre>\n\n<p>Thoughts?</p>\n"}, {"tags": ["reactjs", "typescript", "antd"], "comments": [{"owner": {"reputation": 5156, "user_id": 5913838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0df3c4aaad3d579b91cc5b38d1819b2?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/5913838/alex"}, "edited": false, "score": 1, "creation_date": 1541580943, "post_id": 53182493, "comment_id": 93261688, "body": "<code>initialValue</code> member in second argument of <code>getFieldDecorator</code> should work. You don&#39;t need to pass <code>defaultValue</code> into <code>Input</code>."}, {"owner": {"reputation": 1343, "user_id": 1874080, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/29891187f20bc72d5afecc4bfddfa394?s=128&d=identicon&r=PG", "display_name": "Flezcano", "link": "https://stackoverflow.com/users/1874080/flezcano"}, "reply_to_user": {"reputation": 5156, "user_id": 5913838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0df3c4aaad3d579b91cc5b38d1819b2?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/5913838/alex"}, "edited": false, "score": 1, "creation_date": 1541581357, "post_id": 53182493, "comment_id": 93261878, "body": "Thanks a lot for the response. You know, I tried that, but I had a problem, please see the edit."}, {"owner": {"reputation": 5156, "user_id": 5913838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0df3c4aaad3d579b91cc5b38d1819b2?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/5913838/alex"}, "edited": false, "score": 1, "creation_date": 1541582050, "post_id": 53182493, "comment_id": 93262252, "body": "Ah, ok. That make sense then. Idk how to fix it properly, but as a workaround I&#39;d 1) extract the form into a separate component, 2) mount extracted component only after loading complete (and pass the data as a props). There might be a better solution, though."}, {"owner": {"reputation": 1343, "user_id": 1874080, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/29891187f20bc72d5afecc4bfddfa394?s=128&d=identicon&r=PG", "display_name": "Flezcano", "link": "https://stackoverflow.com/users/1874080/flezcano"}, "reply_to_user": {"reputation": 5156, "user_id": 5913838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0df3c4aaad3d579b91cc5b38d1819b2?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/5913838/alex"}, "edited": false, "score": 0, "creation_date": 1541582438, "post_id": 53182493, "comment_id": 93262455, "body": "Oh, very cool approach. I really like it, but one question, is this a good practice? Sorry for the silly question I am very new with ReactJS."}], "answers": [{"comments": [{"owner": {"reputation": 1343, "user_id": 1874080, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/29891187f20bc72d5afecc4bfddfa394?s=128&d=identicon&r=PG", "display_name": "Flezcano", "link": "https://stackoverflow.com/users/1874080/flezcano"}, "edited": false, "score": 0, "creation_date": 1541584589, "post_id": 53186755, "comment_id": 93263508, "body": "Thanks a lot, this works. One question tho, about this &quot;You shouldn&#39;t call setState manually&quot;. The way I see it , I still need to use both, right? setState (after webapi call and onChange) and this.props.form.setFieldsValue(data.field). Otherwise, how is react going to know what the current state is? Should I tie somehow &quot;setFieldsValue&quot; with my state name(s)?"}, {"owner": {"reputation": 5156, "user_id": 5913838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0df3c4aaad3d579b91cc5b38d1819b2?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/5913838/alex"}, "reply_to_user": {"reputation": 1343, "user_id": 1874080, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/29891187f20bc72d5afecc4bfddfa394?s=128&d=identicon&r=PG", "display_name": "Flezcano", "link": "https://stackoverflow.com/users/1874080/flezcano"}, "edited": false, "score": 1, "creation_date": 1541585180, "post_id": 53186755, "comment_id": 93263811, "body": "Good question. You can pull data using <code>props.form.getFieldValue</code>/<code>props.form.getFieldsValue</code>. However, if your component state uses additional data (that is not in form), I think you can use both, from my view it shouldn&#39;t affect the antd form logic."}, {"owner": {"reputation": 1845, "user_id": 770704, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GokOg.jpg?s=128&g=1", "display_name": "Hassan Ali Shahzad", "link": "https://stackoverflow.com/users/770704/hassan-ali-shahzad"}, "edited": false, "score": 0, "creation_date": 1607677028, "post_id": 53186755, "comment_id": 115352528, "body": "I received error: TypeError: Cannot read property &#39;setFieldsValue&#39; of undefined"}, {"owner": {"reputation": 5156, "user_id": 5913838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0df3c4aaad3d579b91cc5b38d1819b2?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/5913838/alex"}, "reply_to_user": {"reputation": 1845, "user_id": 770704, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GokOg.jpg?s=128&g=1", "display_name": "Hassan Ali Shahzad", "link": "https://stackoverflow.com/users/770704/hassan-ali-shahzad"}, "edited": false, "score": 0, "creation_date": 1607709999, "post_id": 53186755, "comment_id": 115367156, "body": "@HassanAliShahzad if you use antd version &gt; 4.x then, you have to use hooks: <code>const [form] = Form.useForm()</code>, and then you can use <code>form.setFieldsValue(...)</code>"}], "tags": [], "owner": {"reputation": 5156, "user_id": 5913838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0df3c4aaad3d579b91cc5b38d1819b2?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/5913838/alex"}, "is_accepted": true, "score": 15, "last_activity_date": 1541583746, "last_edit_date": 1592644375, "creation_date": 1541583335, "answer_id": 53186755, "question_id": 53182493, "link": "https://stackoverflow.com/questions/53182493/defaultvalue-or-value-not-working-on-formitem-antd/53186755#53186755", "title": "defaultValue or value not working on FormItem ANTD", "body": "<p>The <a href=\"https://ant.design/components/form/\" rel=\"noreferrer\">docs states</a> that:</p>\n<blockquote>\n<p>You cannot set value of form <strong>control</strong> via value <strong>defaultValue</strong> prop, and you should set default value with <strong>initialValue in getFieldDecorator</strong> instead.</p>\n<p>You shouldn't call setState manually, please <strong>use this.props.form.setFieldsValue</strong> to change value programmatically.</p>\n</blockquote>\n<p>So you just need to call <code>setFieldsValue</code> when the data is loaded from the backend:</p>\n<pre><code>fetch('http://localhost:5728/Fields/get/' + this.state.Data.Id)\n      .then(results=&gt;{\n        return results.json()\n      })\n      .then(data=&gt;{\n\n        this.props.form.setFieldsValue({\n                Id: data.field.Id,\n                Name: data.field.Name,\n                Description: data.field.Description,\n                Value: data.field.Value\n          })\n      })\n</code></pre>\n<p>Or shorter, if <code>data.field</code> from backend totally matches the field names:</p>\n<pre><code>this.props.form.setFieldsValue(data.field)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 174, "user_id": 10767143, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eKyn0.jpg?s=128&g=1", "display_name": "Gucal", "link": "https://stackoverflow.com/users/10767143/gucal"}, "edited": false, "score": 0, "creation_date": 1614339113, "post_id": 65263944, "comment_id": 117361682, "body": "I think the most guaranteed way is to use ref. Do you agree with me?"}], "tags": [], "owner": {"reputation": 1845, "user_id": 770704, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GokOg.jpg?s=128&g=1", "display_name": "Hassan Ali Shahzad", "link": "https://stackoverflow.com/users/770704/hassan-ali-shahzad"}, "is_accepted": false, "score": 1, "last_activity_date": 1607769360, "creation_date": 1607769360, "answer_id": 65263944, "question_id": 53182493, "link": "https://stackoverflow.com/questions/53182493/defaultvalue-or-value-not-working-on-formitem-antd/65263944#65263944", "title": "defaultValue or value not working on FormItem ANTD", "body": "<p>For Class component V4:</p>\n<pre><code>class Demo extends React.Component {\n  formRef = React.createRef();\n\n  componentDidMount() {\n    this.formRef.current.setFieldsValue({\n      username: 'Bamboo',\n    });\n  }\n\n  render() {\n    return (\n      &lt;Form ref={this.formRef}&gt;\n        &lt;Form.Item name=&quot;username&quot; rules={[{ required: true }]}&gt;\n          &lt;Input /&gt;\n        &lt;/Form.Item&gt;\n      &lt;/Form&gt;\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1343, "user_id": 1874080, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/29891187f20bc72d5afecc4bfddfa394?s=128&d=identicon&r=PG", "display_name": "Flezcano", "link": "https://stackoverflow.com/users/1874080/flezcano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15116, "favorite_count": 0, "accepted_answer_id": 53186755, "answer_count": 2, "score": 9, "last_activity_date": 1607769360, "creation_date": 1541553959, "last_edit_date": 1541581301, "question_id": 53182493, "link": "https://stackoverflow.com/questions/53182493/defaultvalue-or-value-not-working-on-formitem-antd", "title": "defaultValue or value not working on FormItem ANTD", "body": "<p>I tried using the following code and the field never gets bind. The onChange property works well</p>\n\n<pre><code>const { getFieldDecorator, getFieldError, isFieldTouched } = this.props.form;\nconst NameError = isFieldTouched(\"Name\") &amp;&amp; getFieldError(\"Name\");\n\n&lt;FormItem validateStatus={NameError ? \"error\" : \"\"} help={NameError || \"\"}&gt;\n  {getFieldDecorator(\"Name\", {\n    //initialValue: this.state.Data.Name,\n    rules: [{ required: true, message: \"Please input the component name!\" }]\n  })(\n    &lt;Input\n      className=\"form-control\"\n      type=\"text\"\n      name=\"Name\"\n      defaultValue={this.state.Data.Name}\n      onChange={this.onChange}\n    /&gt;\n  )}\n&lt;/FormItem&gt;\n</code></pre>\n\n<p>Am I missing something? I even used <code>input</code> instead of <code>Input</code></p>\n\n<p><strong>EDIT</strong>\nOn <code>componentDidMount</code> method I get the data from an API:</p>\n\n<pre><code>fetch('http://localhost:5728/Fields/get/' + this.state.Data.Id)\n          .then(results=&gt;{\n            return results.json()\n          })\n          .then(data=&gt;{\n\n            this.setState({\n                Data: {\n                    Id: data.field.Id,\n                    Name: data.field.Name,\n                    Description: data.field.Description,\n                    Value: data.field.Value\n                }\n              })\n\n          })\n</code></pre>\n\n<p>I tried using <code>initialValue</code>, but it only works when the state value is set on the <code>constructor</code> method. When calling the API, the change is not reflected.</p>\n"}, {"tags": ["angularjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 738, "user_id": 3736937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/afRZ9.jpg?s=128&g=1", "display_name": "Porlune", "link": "https://stackoverflow.com/users/3736937/porlune"}, "is_accepted": true, "score": 1, "last_activity_date": 1541555393, "last_edit_date": 1541555393, "creation_date": 1541553195, "answer_id": 53182405, "question_id": 53182379, "link": "https://stackoverflow.com/questions/53182379/two-way-data-binding-between-an-input-field-to-an-object-property-of-type-number/53182405#53182405", "title": "Two way data binding between an input field to an object property of type number results in a string value", "body": "<p>You can set your input to type=\"number\", that should make it so that your model is a number and not a string.</p>\n\n<pre><code>    &lt;input type=\"number\" name=\"input\" ng-model=\"example.value\"&gt;\n</code></pre>\n\n<p>Note that your model must always be a number to prevent an error from being thrown if you set the input element to type=\"number\"</p>\n"}], "owner": {"reputation": 37178, "user_id": 129001, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/886427a445a180eb6618d77ee4ec4894?s=128&d=identicon&r=PG", "display_name": "Tony_Henrich", "link": "https://stackoverflow.com/users/129001/tony-henrich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 53182405, "answer_count": 1, "score": 0, "last_activity_date": 1541555393, "creation_date": 1541552966, "last_edit_date": 1541553354, "question_id": 53182379, "link": "https://stackoverflow.com/questions/53182379/two-way-data-binding-between-an-input-field-to-an-object-property-of-type-number", "title": "Two way data binding between an input field to an object property of type number results in a string value", "body": "<p>If I have an object Customer in Typescript (skeletal example):</p>\n\n<pre><code>var Customer: ICustomer = &lt;ICustomer&gt;{};\n...\ninterface ICustomer {\norderAmount: number;\n}\n</code></pre>\n\n<p>and in html:</p>\n\n<pre><code>&lt;input ng-model=\"vm.Customer.orderAmount\"... &gt;\n</code></pre>\n\n<p>and the user types a number in the input field, the orderAmount contains a string instead of a number. Is this normal behavior? I was expecting a number as I was expecting TypeScript to cast the value to a number because of the number type. Looks like I still have to parse the value if I want to do arithmetic operations to it.</p>\n"}, {"tags": ["angular", "typescript", "firebase"], "comments": [{"owner": {"reputation": 2511, "user_id": 1968911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0XjWj.png?s=128&g=1", "display_name": "sketchthat", "link": "https://stackoverflow.com/users/1968911/sketchthat"}, "edited": false, "score": 0, "creation_date": 1541569292, "post_id": 53182328, "comment_id": 93257814, "body": "There is a lot of code to go through in your example, can you remove the code thats irrelevant to the question?"}, {"owner": {"reputation": 1, "user_id": 10615250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6829d85b2c3101bdab64624f89e70014?s=128&d=identicon&r=PG&f=1", "display_name": "user10615250", "link": "https://stackoverflow.com/users/10615250/user10615250"}, "reply_to_user": {"reputation": 2511, "user_id": 1968911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0XjWj.png?s=128&g=1", "display_name": "sketchthat", "link": "https://stackoverflow.com/users/1968911/sketchthat"}, "edited": false, "score": 0, "creation_date": 1541599152, "post_id": 53182328, "comment_id": 93270607, "body": "@sketchthat I have removed the unnecessary code. In TS file with downloadUrl I&#39;m able to get the image URL and in HTML file I&#39;m able to add it to image &#39;[src]=&quot;url&quot;&#39; which works fine but it&#39;s the input that I&#39;m having an issue with. Under input &#39;[value]=&quot;url&quot; name=&quot;image&quot;&#39; doesn&#39;t work together."}, {"owner": {"reputation": 2511, "user_id": 1968911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0XjWj.png?s=128&g=1", "display_name": "sketchthat", "link": "https://stackoverflow.com/users/1968911/sketchthat"}, "edited": false, "score": 0, "creation_date": 1541632983, "post_id": 53182328, "comment_id": 93287376, "body": "You should need to use both <code>[value]</code> and <code>ngModel</code>. If you set <code>project.image = url</code> it and remove the <code>[value]</code> property does it work as expected. Also the error message has some solutions for you to try."}], "owner": {"reputation": 1, "user_id": 10615250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6829d85b2c3101bdab64624f89e70014?s=128&d=identicon&r=PG&f=1", "display_name": "user10615250", "link": "https://stackoverflow.com/users/10615250/user10615250"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 370, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541608240, "creation_date": 1541552519, "last_edit_date": 1541608240, "question_id": 53182328, "link": "https://stackoverflow.com/questions/53182328/how-to-add-firebase-image-url-to-input-and-submit-to-database", "title": "How to add Firebase Image URL to input and submit to Database", "body": "<p><strong>What I'm trying to do:</strong>\nI'm building an Angular form where I can add project Name, Description, Image, and link and submit to save information in Firebase. Then in another component pull that information and display on page.</p>\n\n<p><strong>What i'm able to do:</strong>\nI'm able to upload the image to Firebase storage and submit ProjectName, Description and link to database but I'm having issue with saving image URL in database.</p>\n\n<p><a href=\"https://i.stack.imgur.com/7dBFG.png\" rel=\"nofollow noreferrer\">angular form to add project img</a></p>\n\n<p><strong>What I'm having issue with:</strong>\nAfter I upload the image I want to get it's url and add it to Project Link input field and submit to database to save it along with other fields. That's the part I'm having issue with, after I upload the image I'm not able to add it's value to input. I tried binding it with [value]=\"url\" but that doesn't work unless I remove name=\"image\". in that case I get the image url value in field but get error.</p>\n\n<p><a href=\"https://i.stack.imgur.com/2DIGZ.png\" rel=\"nofollow noreferrer\">Form Error img</a></p>\n\n<p>Here is my component.html file</p>\n\n<pre><code> &lt;div class=\"card-body\"&gt;\n &lt;form #projectForm=\"ngForm\" (ngSubmit)=\"onSubmit(projectForm)\"&gt;  \n\n\n\n   //UPLOAD IMAGE AND ADD THE URL TO INPUT\n\n    &lt;div *ngIf=\"(snapshot | async) as snap\"&gt;\n    {{ snap.bytesTransferred | fileSize }} of {{ snap.totalBytes | fileSize }} \n\n\n    &lt;div *ngIf=\"downloadURL | async as url\"&gt;\n    &lt;h3&gt;Results!&lt;/h3&gt;\n    &lt;img width=\"150px\" #var height=\"auto\" [src]=\"url\"&gt;&lt;br&gt;    \n    &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"image\"&gt;Project Link&lt;/label&gt;&lt;br&gt;\n        &lt;input \n          [value]=\"url\"\n          name=\"image\"\n          #projectImage=\"ngModel\"\n          class=\"form-control\"\n          [ngClass]=\"{'is-invalid':projectImage.errors &amp;&amp; projectImage.touched}\"\n          [(ngModel)]=\"project.image\"\n          minlength=\"2\"\n          required\n          readonly\n        &gt;\n      &lt;/div&gt;\n    &lt;/div&gt; \n    &lt;hr&gt;\n\n    &lt;/div&gt;\n\n\n        &lt;input type=\"submit\" value=\"Submit\" class=\"btn btn-primary btn-block\"&gt;\n&lt;/form&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This is my component.ts file</p>\n\n<pre><code> import { Component, OnInit, ViewChild } from \n '@angular/core';\nimport { Project } from '../../models/Project';\nimport { HttpClient } from '@angular/common/http';\nimport { FlashMessagesService } from 'angular2-flash-messages';\nimport { UserService } from '../../services/user.service';\nimport { AngularFireStorage, AngularFireUploadTask } from 'angularfire2/storage';\nimport { AngularFirestore } from 'angularfire2/firestore';\nimport { Observable } from 'rxjs/Observable';\nimport { tap } from 'rxjs/operators';\nimport { finalize } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-add-project',\n  templateUrl: './add-project.component.html',\n  styleUrls: ['./add-project.component.scss']\n})\nexport class AddProjectComponent implements OnInit { \n  project: Project = {\n    projName: '',\n    description: '',\n    image: '',\n    link: ''\n    }\n  @ViewChild('projectForm') form: any;  \n  constructor(\n    private flashMessage: FlashMessagesService,\n    private userService: UserService,\n    private storage: AngularFireStorage, \n    private db: AngularFirestore\n  ) { }\n\n  ngOnInit() {\n  }\n\n\n\n // Download URL\n downloadURL: Observable&lt;string&gt;;\n\n\n\n\n// The file's download URL\nthis.snapshot.pipe(finalize(() =&gt; this.downloadURL = this.storage.ref(path).getDownloadURL())).subscribe();\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "types", "functional-programming", "type-inference"], "comments": [{"owner": {"reputation": 796429, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1541552378, "post_id": 53182284, "comment_id": 93254688, "body": "The compiler cannot infer your types because they don&#39;t appear in the parameters.  How do you expect it to be able to tell?"}, {"owner": {"reputation": 2005, "user_id": 8809024, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CJ3wsrQDkBk/AAAAAAAAAAI/AAAAAAAAAbM/0v24phFPQc8/photo.jpg?sz=128", "display_name": "Mateja Petrovic", "link": "https://stackoverflow.com/users/8809024/mateja-petrovic"}, "reply_to_user": {"reputation": 796429, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1541580457, "post_id": 53182284, "comment_id": 93261464, "body": "Type variables."}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1541574073, "creation_date": 1541574073, "answer_id": 53184831, "question_id": 53182284, "link": "https://stackoverflow.com/questions/53182284/typescript-functional-type-inference/53184831#53184831", "title": "Typescript Functional Type Inference", "body": "<p>Typescript can't infer such linked types (linked in the sense that the argument o the function depends on the result of the previous function). </p>\n\n<p>You can't even define the signature of <code>compose</code> in a general enough way that it works for an number of function. What we can do, is define overloads that accept up to a given number of functions:</p>\n\n<pre><code>type Fn&lt;A, R&gt; = (a: A) =&gt; R // just to be a bit shorter in the compose signature, you can use teh function signature directly  \nfunction compose&lt;T, P1, P2, R&gt;(fn1: Fn&lt;T, P1&gt;, fn2: Fn&lt;P1, P2&gt;, f3: Fn&lt;P2, R&gt;) : Fn&lt;T, R&gt;\nfunction compose&lt;T, P1, R&gt;(fn1: Fn&lt;T, P1&gt;, f2: Fn&lt;P1, R&gt;) : Fn&lt;T, R&gt;\nfunction compose(...fns: Array&lt;(a: any) =&gt; any&gt;) {\n    return function (a: any) {\n        return fns.reduce((b, f) =&gt; f(b), a);\n    }\n}\n\nconst greet = (s: string) =&gt; \"Hello \" + s;\nconst toUpperCase = (s: string) =&gt; s.toUpperCase();\nconst log = console.log;\n\nconst upperCaseAndLog = compose(\n    greet,\n    toUpperCase,\n    log\n);\n\nupperCaseAndLog(\"bill\");//(a: string) =&gt; void\n</code></pre>\n"}], "owner": {"reputation": 2005, "user_id": 8809024, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CJ3wsrQDkBk/AAAAAAAAAAI/AAAAAAAAAbM/0v24phFPQc8/photo.jpg?sz=128", "display_name": "Mateja Petrovic", "link": "https://stackoverflow.com/users/8809024/mateja-petrovic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 53184831, "answer_count": 1, "score": 0, "last_activity_date": 1541574073, "creation_date": 1541552172, "question_id": 53182284, "link": "https://stackoverflow.com/questions/53182284/typescript-functional-type-inference", "title": "Typescript Functional Type Inference", "body": "<p>I've written this simple compose function which works just fine. However in order to assure type safety I had to resort to using generics to provide the compiler with type hints even though it's easily possible to infer the signature of \"upperCaseAndLog\". </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const compose = &lt;T, R&gt;(...fns: Array&lt;(a: any) =&gt; any&gt;) =&gt; (a: T): R =&gt;\r\n  fns.reduce((b, f) =&gt; f(b), a);\r\n\r\nconst greet = (s: string) =&gt; \"Hello \" + s;\r\nconst toUpperCase = (s: string) =&gt; s.toUpperCase();\r\nconst log = console.log;\r\n\r\nconst upperCaseAndLog = compose&lt;string, void&gt;(\r\n  greet,\r\n  toUpperCase,\r\n  log\r\n);\r\n\r\nupperCaseAndLog(\"bill\");</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Am I missing something, is there a more elegant way of accomplishing the same goal? I assume that languages like F# or Haskell would be able to infer the types without any additional information.</p>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 909, "user_id": 10200536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e3889c1bb4f8aaf2943912d3282ef1?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/10200536/james"}, "reply_to_user": {"reputation": 70443, "user_id": 244353, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3ec4378e62a1eb052941217776ea0f2d?s=128&d=identicon&r=PG", "display_name": "Mrchief", "link": "https://stackoverflow.com/users/244353/mrchief"}, "edited": false, "score": 0, "creation_date": 1541554622, "post_id": 53182275, "comment_id": 93255174, "body": "Actually, I have showed it in the answer. I&#39;m not sure how this bad feedback helps anyone."}, {"owner": {"reputation": 639, "user_id": 3934988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZRRGo.jpg?s=128&g=1", "display_name": "chairmanmow", "link": "https://stackoverflow.com/users/3934988/chairmanmow"}, "edited": false, "score": 0, "creation_date": 1541556348, "post_id": 53182275, "comment_id": 93255484, "body": "I thought it was answering homework as well based on the phrasing, but I don&#39;t think so - it seems like James is thinking in terms of his requirements and passing along extraneous details in the event we can validate some of those assumptions as to what he&#39;s done, but the tone sounds like he&#39;s following a recipe, or a homework assignment.  If you switch out the phrasing &#39;need&#39;, &#39;will&#39;, &#39;can&#39; for the words &#39;want&#39;/&#39;want to&#39;,&#39;should be able to because&#39; this question would read better. I don&#39;t think it&#39;s hw, but there is something to Mrchief &#39;s reaction to the phrasing here that&#39;s valid"}], "answers": [{"comments": [{"owner": {"reputation": 909, "user_id": 10200536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e3889c1bb4f8aaf2943912d3282ef1?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/10200536/james"}, "edited": false, "score": 0, "creation_date": 1542113729, "post_id": 53182423, "comment_id": 93444546, "body": "hey one last question... what if I have an array of arrays <code>File[][] [ [file, file, file], [file, file] ]</code> that is ordered by type &#39;color&#39; options (same order)?"}, {"owner": {"reputation": 292, "user_id": 10060627, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-e2FL53uMS-c/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pTjaNUA43EazT82mhneXoMIUQSog/mo/photo.jpg?sz=128", "display_name": "Ajay Ojha", "link": "https://stackoverflow.com/users/10060627/ajay-ojha"}, "reply_to_user": {"reputation": 909, "user_id": 10200536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e3889c1bb4f8aaf2943912d3282ef1?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/10200536/james"}, "edited": false, "score": 0, "creation_date": 1542113987, "post_id": 53182423, "comment_id": 93444693, "body": "can you please share that json on provided link of stackblitz, It will be good for me to answer your comment."}, {"owner": {"reputation": 292, "user_id": 10060627, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-e2FL53uMS-c/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pTjaNUA43EazT82mhneXoMIUQSog/mo/photo.jpg?sz=128", "display_name": "Ajay Ojha", "link": "https://stackoverflow.com/users/10060627/ajay-ojha"}, "reply_to_user": {"reputation": 909, "user_id": 10200536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e3889c1bb4f8aaf2943912d3282ef1?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/10200536/james"}, "edited": false, "score": 0, "creation_date": 1542116597, "post_id": 53182423, "comment_id": 93446289, "body": "Please check this link <a href=\"https://stackblitz.com/edit/angular-3uapxf?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-3uapxf?file=src/app/&hellip;</a> and let me know if you need any help in this."}, {"owner": {"reputation": 909, "user_id": 10200536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e3889c1bb4f8aaf2943912d3282ef1?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/10200536/james"}, "edited": false, "score": 0, "creation_date": 1542116808, "post_id": 53182423, "comment_id": 93446436, "body": "can you move the filenames to <code>options: [         {           option: &#39;red&#39;,           &#47;&#47; [filename1, filename2]           filenames: &#39;&#39;         }</code> ?"}, {"owner": {"reputation": 909, "user_id": 10200536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e3889c1bb4f8aaf2943912d3282ef1?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/10200536/james"}, "edited": false, "score": 0, "creation_date": 1542117177, "post_id": 53182423, "comment_id": 93446689, "body": "every array needs to be positioned in the right object (same order of option)"}, {"owner": {"reputation": 292, "user_id": 10060627, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-e2FL53uMS-c/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pTjaNUA43EazT82mhneXoMIUQSog/mo/photo.jpg?sz=128", "display_name": "Ajay Ojha", "link": "https://stackoverflow.com/users/10060627/ajay-ojha"}, "reply_to_user": {"reputation": 909, "user_id": 10200536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e3889c1bb4f8aaf2943912d3282ef1?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/10200536/james"}, "edited": false, "score": 0, "creation_date": 1542117395, "post_id": 53182423, "comment_id": 93446827, "body": "check on stackblitz"}, {"owner": {"reputation": 909, "user_id": 10200536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e3889c1bb4f8aaf2943912d3282ef1?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/10200536/james"}, "edited": false, "score": 0, "creation_date": 1542117547, "post_id": 53182423, "comment_id": 93446934, "body": "Nice... Thank you for the help once again!"}], "tags": [], "owner": {"reputation": 292, "user_id": 10060627, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-e2FL53uMS-c/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pTjaNUA43EazT82mhneXoMIUQSog/mo/photo.jpg?sz=128", "display_name": "Ajay Ojha", "link": "https://stackoverflow.com/users/10060627/ajay-ojha"}, "is_accepted": true, "score": 0, "last_activity_date": 1541553405, "last_edit_date": 1592644375, "creation_date": 1541553405, "answer_id": 53182423, "question_id": 53182275, "link": "https://stackoverflow.com/questions/53182275/typescript-how-to-extract-the-objects-inside-an-array-of-objects/53182423#53182423", "title": "Typescript - How to extract the objects inside an array of objects?", "body": "<p>Please correct me if I am wrong, I believe instead of two arrays of variants, there is one array.\nI have created a sample example on <a href=\"https://stackblitz.com/edit/angular-focbfn?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">stackblitz</a>.\nYou just have to create types array.</p>\n<p>Here is the ts code :</p>\n<pre class=\"lang-js prettyprint-override\"><code> variants = [\n  {\n    type: 'color',\n    options: ['red', 'green', 'blue']\n  },\n   {\n    type: 'size',\n    options: ['M', 'G', 'GG']\n  }\n]\ntypes = [];\noptions = [];\nngOnInit(){\nthis.variants.forEach(t=&gt;this.types.push(t.type));\n}\ntypeChange(type: string) {\n  const variant = this.variants.find(v =&gt; v.type === type);\n  this.options = variant.options;\n}\n</code></pre>\n\n<p>Please let me know if you have any question.</p>\n"}], "owner": {"reputation": 909, "user_id": 10200536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e3889c1bb4f8aaf2943912d3282ef1?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/10200536/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3665, "favorite_count": 0, "accepted_answer_id": 53182423, "answer_count": 1, "score": 1, "last_activity_date": 1541553638, "creation_date": 1541552137, "last_edit_date": 1541553638, "question_id": 53182275, "link": "https://stackoverflow.com/questions/53182275/typescript-how-to-extract-the-objects-inside-an-array-of-objects", "title": "Typescript - How to extract the objects inside an array of objects?", "body": "<p>Here is the <code>variants</code> array:</p>\n\n<pre><code>[\n  {\n    type: 'color',\n    options: ['red', 'green', 'blue']\n  },\n  {\n    type: 'size',\n    options: ['M', 'G', 'GG']\n  }\n]\n</code></pre>\n\n<p>Firstly, I need to get an array of <code>type</code> like this <code>types = ['color', 'size']</code>. Then, I'll use this array inside a <code>mat-select</code>:</p>\n\n<pre><code>&lt;mat-select placeholder=\"Types\" (selectionChange)=\"typeChange($event.value)\"&gt;\n  &lt;mat-option *ngFor=\"let type of types\" [value]=\"type\"&gt; {{type}} &lt;/mat-option&gt;\n&lt;/mat-select&gt;\n</code></pre>\n\n<p>Secondly, I need to populate a array of <code>options</code> by filtering the <code>variants</code> array to find the correct type:</p>\n\n<pre><code>typeChange(type: string) {\n  const variant = this.variants.find(v =&gt; v.type === type);\n  this.options = variant.options;\n}\n</code></pre>\n\n<p>Then I can populate the second <code>select</code> with the options:</p>\n\n<pre><code>&lt;mat-select placeholder=\"Options\"&gt;\n  &lt;mat-option *ngFor=\"let opt of options\" [value]=\"opt\"&gt; {{opt}} &lt;/mat-option&gt;\n&lt;/mat-select&gt;\n</code></pre>\n\n<p>I need to populate this two <code>mat-selects</code> using <code>variants</code> array. Is there a good way to achieve this?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 0, "last_activity_date": 1541947843, "creation_date": 1541947843, "answer_id": 53249876, "question_id": 53181916, "link": "https://stackoverflow.com/questions/53181916/add-additional-d-ts-files-with-module-declarations/53249876#53249876", "title": "Add additional .d.ts files with module declarations", "body": "<p>Since TypeScript is looking for a declaration file at <code>mypackage/foo</code>, creating <code>mypackage/build/foo.d.ts</code> will not help anything.  You'll need to either create <code>mypackage/foo.d.ts</code> containing something like:</p>\n\n<pre><code>import foo = require('./build/foo');\nexport = foo;\n</code></pre>\n\n<p>or do the redirection using a <code>mypackage/foo/package.json</code> file with a <code>main</code> field pointing to <code>../build/foo</code> (TypeScript will automatically add the <code>.d.ts</code> extension).</p>\n"}], "owner": {"reputation": 7598, "user_id": 116925, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/03796b58f0c972492903f781b2d410cc?s=128&d=identicon&r=PG", "display_name": "elado", "link": "https://stackoverflow.com/users/116925/elado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 884, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541947843, "creation_date": 1541549124, "question_id": 53181916, "link": "https://stackoverflow.com/questions/53181916/add-additional-d-ts-files-with-module-declarations", "title": "Add additional .d.ts files with module declarations", "body": "<p>Is there an option to include additional <code>.d.ts</code> files when using <code>tsc</code> with <code>declarations</code>?</p>\n\n<p>My project is defined as following:</p>\n\n<ul>\n<li><code>package.json</code> defines <code>\"main\": \"build\"</code> and <code>\"typings\": \"./build/index.d.ts\"</code></li>\n<li><code>tsconfig.json</code> defines <code>\"declaration\": true</code> and <code>\"outDir\": \"build\"</code></li>\n<li>with those definitions and <code>src/index.ts</code>, <code>import X from 'mypackage'</code> works, and goes to <code>build/index.js</code>.</li>\n</ul>\n\n<p>I also have <code>src/foo/index.ts</code> but I since don't want users of the package to <code>import foo from 'mypackage/build/foo'</code>, I added <code>foo.js</code> in the root, with</p>\n\n<pre><code>module.exports = require('./build/foo')\n</code></pre>\n\n<p>and now it's possible to <code>import foo from 'mypackage/foo'</code></p>\n\n<p>Problem is, that on consuming project, it errors</p>\n\n<pre><code>Could not find a declaration file for module 'mypackage/foo'\n</code></pre>\n\n<p>I would like to add an additional <code>.d.ts</code> into the build folder when <code>tsc</code> runs; <code>build/foo.d.ts</code> that contains the declaration for <code>src/foo/index.ts</code>.</p>\n\n<p>Is that possible?</p>\n"}, {"tags": ["reactjs", "typescript", "onclick", "reactstrap"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10541973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/271559e77ab02d6d65f23c541fe402a0?s=128&d=identicon&r=PG&f=1", "display_name": "Reacter23", "link": "https://stackoverflow.com/users/10541973/reacter23"}, "edited": false, "score": 0, "creation_date": 1541586882, "post_id": 53181937, "comment_id": 93264712, "body": "Ive tried the arrow function before that as follows: () =&gt; props.appendChoiceList(props.totalWorkloadOptions.optionTitl&zwnj;&#8203;e, op)   I have also tried changing the () =&gt; function being called to a normal function but still when I select a drop down item nothing appears in the console."}, {"owner": {"reputation": 649, "user_id": 770449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b39bb4d9a7f45973e85e52ea0d354dc3?s=128&d=identicon&r=PG&f=1", "display_name": "buhbang", "link": "https://stackoverflow.com/users/770449/buhbang"}, "reply_to_user": {"reputation": 1, "user_id": 10541973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/271559e77ab02d6d65f23c541fe402a0?s=128&d=identicon&r=PG&f=1", "display_name": "Reacter23", "link": "https://stackoverflow.com/users/10541973/reacter23"}, "edited": false, "score": 0, "creation_date": 1541612764, "post_id": 53181937, "comment_id": 93278622, "body": "@Reacter23 Are you passing <code>appendChoiceList</code> to <code>&lt;Options &#47;&gt;</code> correctly? i.e. <code>&lt;Options appendChoiceList={this.appendChoiceList) &#47;&gt;</code>"}, {"owner": {"reputation": 1, "user_id": 10541973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/271559e77ab02d6d65f23c541fe402a0?s=128&d=identicon&r=PG&f=1", "display_name": "Reacter23", "link": "https://stackoverflow.com/users/10541973/reacter23"}, "edited": false, "score": 0, "creation_date": 1541614661, "post_id": 53181937, "comment_id": 93279491, "body": "The function is inherited as follows, &lt;ModalConponent appendChoiceList={this.appendChoiceList} /&gt; then in the reactstrap Modal I use a map function to create many &lt;Options appendChoiceList={props.appendChoiceList} /&gt;"}, {"owner": {"reputation": 649, "user_id": 770449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b39bb4d9a7f45973e85e52ea0d354dc3?s=128&d=identicon&r=PG&f=1", "display_name": "buhbang", "link": "https://stackoverflow.com/users/770449/buhbang"}, "reply_to_user": {"reputation": 1, "user_id": 10541973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/271559e77ab02d6d65f23c541fe402a0?s=128&d=identicon&r=PG&f=1", "display_name": "Reacter23", "link": "https://stackoverflow.com/users/10541973/reacter23"}, "edited": false, "score": 0, "creation_date": 1541615062, "post_id": 53181937, "comment_id": 93279661, "body": "can you check that the props are being passed correctly? Maybe <code>console.log(typeof props. appendChoiceList)</code> to check if it&#39;s a function and get rid of any <code>.bind()</code> on the appendChoiceList calls"}, {"owner": {"reputation": 1, "user_id": 10541973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/271559e77ab02d6d65f23c541fe402a0?s=128&d=identicon&r=PG&f=1", "display_name": "Reacter23", "link": "https://stackoverflow.com/users/10541973/reacter23"}, "edited": false, "score": 0, "creation_date": 1541615912, "post_id": 53181937, "comment_id": 93280056, "body": "Says function in Firefox web browser"}, {"owner": {"reputation": 1, "user_id": 10541973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/271559e77ab02d6d65f23c541fe402a0?s=128&d=identicon&r=PG&f=1", "display_name": "Reacter23", "link": "https://stackoverflow.com/users/10541973/reacter23"}, "edited": false, "score": 0, "creation_date": 1541617628, "post_id": 53181937, "comment_id": 93280814, "body": "Is what I&#39;m doing right now considered ok in react? I have a component that passes a function to a functional component that then passes to another functional conponent"}, {"owner": {"reputation": 649, "user_id": 770449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b39bb4d9a7f45973e85e52ea0d354dc3?s=128&d=identicon&r=PG&f=1", "display_name": "buhbang", "link": "https://stackoverflow.com/users/770449/buhbang"}, "reply_to_user": {"reputation": 1, "user_id": 10541973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/271559e77ab02d6d65f23c541fe402a0?s=128&d=identicon&r=PG&f=1", "display_name": "Reacter23", "link": "https://stackoverflow.com/users/10541973/reacter23"}, "edited": false, "score": 0, "creation_date": 1541620282, "post_id": 53181937, "comment_id": 93282073, "body": "I think it&#39;s a bit messy, but if it works, it works... i guess. (I dont think the comment section is the correct place to talk about this tbh) except it doesn&#39;t work right now. Have you checked if <code>DropdownItem</code> actually does anything when clicked on? you said you saw <i>no</i> console outputs, right? not even the <code>selected</code> text?"}, {"owner": {"reputation": 1, "user_id": 10541973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/271559e77ab02d6d65f23c541fe402a0?s=128&d=identicon&r=PG&f=1", "display_name": "Reacter23", "link": "https://stackoverflow.com/users/10541973/reacter23"}, "edited": false, "score": 0, "creation_date": 1541620533, "post_id": 53181937, "comment_id": 93282215, "body": "Ok I&#39;ll refactor my code and send you a  PM later explaining what I done, if I can get it working I&#39;ll post here"}], "tags": [], "owner": {"reputation": 649, "user_id": 770449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b39bb4d9a7f45973e85e52ea0d354dc3?s=128&d=identicon&r=PG&f=1", "display_name": "buhbang", "link": "https://stackoverflow.com/users/770449/buhbang"}, "is_accepted": false, "score": 2, "last_activity_date": 1541549345, "creation_date": 1541549345, "answer_id": 53181937, "question_id": 53181909, "link": "https://stackoverflow.com/questions/53181909/bind-doesnt-run-when-onclick-is-used-on-dropdown-item/53181937#53181937", "title": "bind() doesn&#39;t run when onClick is used on dropdown item", "body": "<p>I believe you're trying to go for</p>\n\n<pre><code>onClick={() =&gt; props.appendChoiceList(props.totalWorkloadOptions.optionTitle, op)}\n</code></pre>\n\n<p>Not <code>.bind()</code></p>\n\n<p>I think you have the wrong understanding of <code>.bind</code>. Take a look at the syntax from <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Function/bind\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Function/bind</a></p>\n"}], "owner": {"reputation": 1, "user_id": 10541973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/271559e77ab02d6d65f23c541fe402a0?s=128&d=identicon&r=PG&f=1", "display_name": "Reacter23", "link": "https://stackoverflow.com/users/10541973/reacter23"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541549345, "creation_date": 1541549079, "question_id": 53181909, "link": "https://stackoverflow.com/questions/53181909/bind-doesnt-run-when-onclick-is-used-on-dropdown-item", "title": "bind() doesn&#39;t run when onClick is used on dropdown item", "body": "<p>Why is my component method onClick not firing? when users click a dropdown item it should activate the following method using the .bind() function, but instead nothing happens, this work fine when applied in other parts of my app at a higher component level.</p>\n\n<p>Typescript File where component is rendered:</p>\n\n<pre><code>export const Options = props =&gt; (\n  &lt;div&gt;\n    &lt;Dropdown isOpen={props.modalDropDown} toggle={props.toggleDropDown.bind()}&gt;\n      &lt;DropdownToggle caret&gt;{props.totalWorkloadOptions.optionTitle}&lt;/DropdownToggle&gt;\n      &lt;DropdownMenu&gt;\n        {props.totalWorkloadOptions.options.map(op =&gt; (\n          // tslint:disable-next-line:no-invalid-this\n          &lt;DropdownItem key={op} onClick={props.appendChoiceList.bind(props.totalWorkloadOptions.optionTitle, op)}&gt;\n            {op}\n          &lt;/DropdownItem&gt;\n        ))}\n      &lt;/DropdownMenu&gt;\n      &lt;strong&gt; {props.totalWorkloadOptions.optionDescription} &lt;/strong&gt;\n    &lt;/Dropdown&gt;\n    &lt;br /&gt;\n  &lt;/div&gt;\n);\n</code></pre>\n\n<p>Method Im trying to bind to:</p>\n\n<pre><code>appendChoiceList = (title: string, selected: string) =&gt; {\n    console.log('selected:' + selected);\n    console.log('new choice:' + title);\n    const newOptionRequest: IWorkloadRequest = {\n      optionTitle: title,\n      selectedOption: selected\n    };\n\n    // tslint:disable-next-line:prefer-const\n    for (let item of this.state.userChoices) {\n      console.log(item);\n      if (item.optionTitle === newOptionRequest.optionTitle) {\n        // If user has already selected this before repalce it\n        console.log(item);\n        // tslint:disable-next-line:prefer-const\n        let i = this.state.userChoices.indexOf(item);\n        console.log(i);\n        this.state.userChoices[i] = newOptionRequest;\n      } else {\n        // if this choice has not been set before\n        this.state.userChoices.push(newOptionRequest);\n      }\n    }\n  };\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 982, "user_id": 7511690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932d47d0df3e363c5439fd6d4d799bae?s=128&d=identicon&r=PG&f=1", "display_name": "Gilsdav", "link": "https://stackoverflow.com/users/7511690/gilsdav"}, "edited": false, "score": 0, "creation_date": 1541549948, "post_id": 53181719, "comment_id": 93254132, "body": "You constructor is probably empty and do not set default values. undefined attributes will not be shown in console."}, {"owner": {"reputation": 1, "user_id": 9975683, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HYS6v4fkpCw/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq14GqjBK0WC0-6_A1aW0975xt7UTw/mo/photo.jpg?sz=128", "display_name": "Carlo Adap", "link": "https://stackoverflow.com/users/9975683/carlo-adap"}, "reply_to_user": {"reputation": 982, "user_id": 7511690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932d47d0df3e363c5439fd6d4d799bae?s=128&d=identicon&r=PG&f=1", "display_name": "Gilsdav", "link": "https://stackoverflow.com/users/7511690/gilsdav"}, "edited": false, "score": 0, "creation_date": 1541550461, "post_id": 53181719, "comment_id": 93254245, "body": "I&#39;ve set the object like this public testItems: TestItem[] = []; and the weird thing is why the log says that the testItems have values on it and the texts in the input box got removed everytime I add a new object."}, {"owner": {"reputation": 982, "user_id": 7511690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932d47d0df3e363c5439fd6d4d799bae?s=128&d=identicon&r=PG&f=1", "display_name": "Gilsdav", "link": "https://stackoverflow.com/users/7511690/gilsdav"}, "edited": false, "score": 0, "creation_date": 1541550934, "post_id": 53181719, "comment_id": 93254350, "body": "Ok sorry. Firstly, do not set value attribute if you have ngModel. After that can you test using immutability ? So using <code>this.testItems  = [...this.testItems, new TestItem()]</code> instead of <code>this.testItems.push(new TestItem());</code> ?"}, {"owner": {"reputation": 1, "user_id": 9975683, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HYS6v4fkpCw/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq14GqjBK0WC0-6_A1aW0975xt7UTw/mo/photo.jpg?sz=128", "display_name": "Carlo Adap", "link": "https://stackoverflow.com/users/9975683/carlo-adap"}, "reply_to_user": {"reputation": 982, "user_id": 7511690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932d47d0df3e363c5439fd6d4d799bae?s=128&d=identicon&r=PG&f=1", "display_name": "Gilsdav", "link": "https://stackoverflow.com/users/7511690/gilsdav"}, "edited": false, "score": 0, "creation_date": 1541551091, "post_id": 53181719, "comment_id": 93254383, "body": "Hm, yea or maybe there&#39;s something wrong on the way I get or display data on the elements? Might be on nGModel. I&#39;ve tried to remove it and place the property value on the value attribute of the input element, the value stays but it doesn&#39;t actually save it on the object."}, {"owner": {"reputation": 1, "user_id": 9975683, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HYS6v4fkpCw/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq14GqjBK0WC0-6_A1aW0975xt7UTw/mo/photo.jpg?sz=128", "display_name": "Carlo Adap", "link": "https://stackoverflow.com/users/9975683/carlo-adap"}, "reply_to_user": {"reputation": 982, "user_id": 7511690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932d47d0df3e363c5439fd6d4d799bae?s=128&d=identicon&r=PG&f=1", "display_name": "Gilsdav", "link": "https://stackoverflow.com/users/7511690/gilsdav"}, "edited": false, "score": 0, "creation_date": 1541551128, "post_id": 53181719, "comment_id": 93254390, "body": "I will try that."}, {"owner": {"reputation": 1, "user_id": 9975683, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HYS6v4fkpCw/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq14GqjBK0WC0-6_A1aW0975xt7UTw/mo/photo.jpg?sz=128", "display_name": "Carlo Adap", "link": "https://stackoverflow.com/users/9975683/carlo-adap"}, "reply_to_user": {"reputation": 982, "user_id": 7511690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932d47d0df3e363c5439fd6d4d799bae?s=128&d=identicon&r=PG&f=1", "display_name": "Gilsdav", "link": "https://stackoverflow.com/users/7511690/gilsdav"}, "edited": false, "score": 0, "creation_date": 1541551579, "post_id": 53181719, "comment_id": 93254495, "body": "It because of the name attribute. It&#39;s answered on the question above. Thanks @Gilsdav"}], "owner": {"reputation": 1, "user_id": 9975683, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HYS6v4fkpCw/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq14GqjBK0WC0-6_A1aW0975xt7UTw/mo/photo.jpg?sz=128", "display_name": "Carlo Adap", "link": "https://stackoverflow.com/users/9975683/carlo-adap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "closed_date": 1541553126, "answer_count": 0, "score": 0, "last_activity_date": 1541547583, "creation_date": 1541547583, "question_id": 53181719, "link": "https://stackoverflow.com/questions/53181719/angular-typescript-adding-object-to-an-array-values-removing-on-the-elements", "closed_reason": "Duplicate", "title": "Angular - Typescript adding object to an array - values removing on the elements", "body": "<p>When I'm adding a new element in the table, the values on it is removed. I tried to add logging on it and the log display that the array have values on it.</p>\n\n<pre><code>&lt;table class=\"table table-hover\" [mfData]=\"testItems\" #mf=\"mfDataTable\" [mfRowsOnPage]=\"5\"&gt;\n                        &lt;thead&gt;\n                            &lt;tr&gt;\n                                &lt;th scope=\"col\"&gt;Test Item&lt;/th&gt;\n                                &lt;th scope=\"col\"&gt;Description&lt;/th&gt;\n                                &lt;th scope=\"col\"&gt;Linked&lt;/th&gt;\n                            &lt;/tr&gt;\n                        &lt;/thead&gt;\n                        &lt;tbody&gt;\n                            &lt;tr *ngFor=\"let t of mf.data; let i = index\"&gt;\n                                &lt;td&gt;\n                                    &lt;span *ngIf=\"t.id\"&gt;{{ t.title }}&lt;/span&gt;\n                                    &lt;div *ngIf=\"!t.id\"&gt;\n                                        &lt;input class=\"form-control\" placeholder=\"Title\" value=\"{{t.title}}\" [(ngModel)]=\"t.title\" name=\"title\" /&gt;\n                                    &lt;/div&gt;\n                                &lt;/td&gt;\n                                &lt;td&gt;\n                                    &lt;span *ngIf=\"t.id\"&gt;{{ t.description }}&lt;/span&gt;\n                                    &lt;div *ngIf=\"!t.id\"&gt;\n                                        &lt;input class=\"form-control\" placeholder=\"Description\" value=\"{{t.description}}\" [(ngModel)]=\"t.description\" name=\"description\"  /&gt;\n                                    &lt;/div&gt;\n                                &lt;/td&gt;\n                                &lt;td&gt;&lt;input type=\"checkbox\" value=\"{{t.id}}\" [checked]=\"t.selected\" [(ngModel)]=\"t.selected\" name=\"selected\"&gt;&lt;/td&gt;\n                                &lt;td *ngIf=\"!t.id\"&gt;&lt;a (click)=\"removeItem(i)\" style=\"cursor:pointer\" class=\"mdi mdi-close mdi-18px\"&gt;&lt;u&gt;Remove&lt;/u&gt;&lt;/a&gt;&lt;/td&gt;\n                            &lt;/tr&gt;\n                        &lt;/tbody&gt;\n                        &lt;tfoot&gt;\n                            &lt;tr&gt;\n                                &lt;td colspan=\"4\"&gt;\n                                    &lt;mfBootstrapPaginator [rowsOnPageSet]=\"[5,10,25]\"&gt;&lt;/mfBootstrapPaginator&gt;\n                                &lt;/td&gt;\n                            &lt;/tr&gt;\n                        &lt;/tfoot&gt;\n                    &lt;/table&gt;\n\n&lt;a (click)=\"addItem()\" style=\"cursor:pointer\" class=\"mdi mdi-close mdi-18px\"&gt;&lt;u&gt;Add Item&lt;/u&gt;&lt;/a&gt;\n</code></pre>\n\n<p>Here's the typescript code:</p>\n\n<pre><code>    addItem(): void {\n    console.log(this.testItems);\n    this.testItems.push(new TestItem());\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/7hoGe.png\" rel=\"nofollow noreferrer\">Screenshot</a></p>\n"}, {"tags": ["reactjs", "typescript", "asp.net-core", "npm", "webpack"], "comments": [{"owner": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1541548810, "post_id": 53181651, "comment_id": 93253878, "body": "appears to be an issue with webpack and the <code>meta</code> option property.   You might want to downgrade the version of webpack you are using and/or file an issue with the webpack devs."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 11001944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5221e6b3d06676afef318824df96cf8?s=128&d=identicon&r=PG", "display_name": "Saby", "link": "https://stackoverflow.com/users/11001944/saby"}, "is_accepted": false, "score": 1, "last_activity_date": 1549036795, "creation_date": 1549036795, "answer_id": 54482997, "question_id": 53181651, "link": "https://stackoverflow.com/questions/53181651/many-internal-server-errors/54482997#54482997", "title": "Many Internal Server Errors", "body": "<p>I don't know if you solved it or not , but I had the same problem when I updated to <code>Webpack 4</code> . The solution was to to run the <code>DllPlugin</code> from <code>webpack.config.vendor.js</code> so that <code>vendor-manifest.json</code> would get the latest attributes.</p>\n\n<p>To do this, in <code>packages.json</code> put this line in the scripts section </p>\n\n<pre><code>  \"scripts\": {\n    \"build\": \"webpack --config webpack.config.vendor.js\",\n  }\n</code></pre>\n\n<p>and from console run <code>npm run build</code></p>\n"}], "owner": {"reputation": 275, "user_id": 7974831, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bc702b8e30bdccdd65e4ec2c3048bb07?s=128&d=identicon&r=PG&f=1", "display_name": "anesthetic", "link": "https://stackoverflow.com/users/7974831/anesthetic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 546, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1549036795, "creation_date": 1541547145, "last_edit_date": 1541548868, "question_id": 53181651, "link": "https://stackoverflow.com/questions/53181651/many-internal-server-errors", "title": "Many Internal Server Errors", "body": "<p>Due to some package incompatibilities I have updated my package.json to the latest version for most of the entries, however now when I start the application it displays this long list of errors in the browser:</p>\n\n<blockquote>\n  <p>An error occurred while starting the application.\n  AggregateException: One or more errors occurred. (Dll Reference Plugin Invalid Options</p>\n  \n  <p>options.manifest.content['./node_modules/fbjs/lib/invariant.js']['meta'] is an invalid additional property</p>\n  \n  <p>options.manifest.content['./node_modules/fbjs/lib/warning.js']['meta'] is an invalid additional property</p>\n  \n  <p>options.manifest.content['./node_modules/react-dom/lib/reactProdInvariant.js']['meta'] is an invalid additional property</p>\n  \n  <p>options.manifest.content['./node_modules/object-assign/index.js']['meta'] is an invalid additional property</p>\n  \n  <p>options.manifest.content['./node_modules/react-dom/lib/ReactDOMComponentTree.js']['meta'] is an invalid additional property</p>\n  \n  <p>options.manifest.content['./node_modules/fbjs/lib/ExecutionEnvironment.js']['meta'] is an invalid additional property</p>\n  \n  <p>options.manifest.content['./node_modules/jquery/dist/jquery.js']['meta'] is an invalid additional property</p>\n  \n  <p>options.manifest.content['./node_modules/react/react.js']['meta'] is an invalid additional property</p>\n</blockquote>\n\n<p>And it just goes on and on for about 500 errors. There were no compile errors when the project was built. Here is my package.json:</p>\n\n<pre><code>  \"private\": true,\n  \"version\": \"0.0.0\",\n  \"devDependencies\": {\n    \"@types/history\": \"^4.7.2\",\n    \"@types/react\": \"~16.0.2\",\n    \"@types/react-dom\": \"~16.0.9\",\n    \"@types/react-hot-loader\": \"~4.1.0\",\n    \"@types/react-router\": \"~4.4.0\",\n    \"@types/react-router-dom\": \"~4.3.1\",\n    \"@types/seamless-immutable\": \"^7.1.1\",\n    \"aspnet-webpack-react\": \"~4.0.0\",\n    \"awesome-typescript-loader\": \"3.2.1\",\n    \"bootstrap\": \"3.3.7\",\n    \"css-loader\": \"0.28.4\",\n    \"event-source-polyfill\": \"0.0.9\",\n    \"extract-text-webpack-plugin\": \"3.0.2\",\n    \"file-loader\": \"0.11.2\",\n    \"isomorphic-fetch\": \"2.2.1\",\n    \"jquery\": \"3.2.1\",\n    \"json-loader\": \"0.5.4\",\n    \"react-hot-loader\": \"~4.3.12\",\n    \"react-router-dom\": \"~4.3.1\",\n    \"style-loader\": \"0.18.2\",\n    \"typescript\": \"~3.1.6\",\n    \"url-loader\": \"0.5.9\",\n    \"webpack\": \"4.25.1\",\n    \"webpack-hot-middleware\": \"2.18.2\",\n    \"@types/webpack-env\": \"1.13.0\",\n    \"aspnet-webpack\": \"3.0.0\",\n    \"webpack-dev-middleware\": \"3.4.0\",\n    \"@types/deep-freeze\": \"^0.1.1\",\n    \"@types/deep-freeze-es6\": \"^1.0.0\",\n    \"@types/material-ui\": \"^0.20.4\",\n    \"@types/react-datepicker\": \"~1.1.7\",\n    \"@types/react-virtualized\": \"~9.18.7\",\n    \"a-react-timepicker\": \"~2.0.0\"\n  },\n  \"dependencies\": {\n    \"deep-freeze-es6\": \"https://registry.npmjs.org/deep-freeze-es6/-/deep-freeze-es6-1.0.1.tgz\",\n    \"history\": \"https://registry.npmjs.org/history/-/history-4.6.3.tgz\",\n    \"react-datepicker\": \"~1.8.0\",\n    \"react-timekeeper\": \"~1.0.9\",\n    \"react-virtualized\": \"~9.21.0\",\n    \"seamless-immutable\": \"^7.1.2\",\n    \"react\": \"~16.6.0\",\n    \"react-dom\": \"~16.6.0\",\n    \"moment\": \"2.20.0\"\n  }\n</code></pre>\n\n<p>Is anyone familiar with why this is happening? I've searched multiple posts and it seems like people always just have a couple errors. Not 500.</p>\n"}, {"tags": ["typescript", "mobile", "nativescript", "html5-audio"], "comments": [{"owner": {"reputation": 796429, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1541542019, "post_id": 53180768, "comment_id": 93251662, "body": "What MIME type are you serving as?"}, {"owner": {"reputation": 6795, "user_id": 745831, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8f8bf389cdf63466cc5692fa7faec159?s=128&d=identicon&r=PG", "display_name": "Jesse Crossen", "link": "https://stackoverflow.com/users/745831/jesse-crossen"}, "reply_to_user": {"reputation": 796429, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1541543510, "post_id": 53180768, "comment_id": 93252220, "body": "If you aren&#39;t specifying an encoder and file format when setting up the recorder, the device may be using a default format like 3GPP that isn&#39;t supported in HTML5. The available encoders and file formats will be OS specific and I highly doubt iOS will let you record to ogg/vorbis. As @SLaks points out, you&#39;ll also need to serve the file with a Content-Type header that matches its file format, the extension alone might not do it."}, {"owner": {"reputation": 25, "user_id": 10355445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bhr2Q.jpg?s=128&g=1", "display_name": "Jacob Jacobs", "link": "https://stackoverflow.com/users/10355445/jacob-jacobs"}, "edited": false, "score": 0, "creation_date": 1541621211, "post_id": 53180768, "comment_id": 93282549, "body": "I&#39;ve tried already using <code>audio&#47;ogg</code> and <code>audio&#47;*</code> but neither of &#39;em worked."}, {"owner": {"reputation": 4254, "user_id": 3840213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634292034686babc667bc3b9b43c33a2?s=128&d=identicon&r=PG&f=1", "display_name": "Narendra", "link": "https://stackoverflow.com/users/3840213/narendra"}, "edited": false, "score": 0, "creation_date": 1541650985, "post_id": 53180768, "comment_id": 93291430, "body": "Have tested with any other ogg file on your browser? e,g. <a href=\"https://upload.wikimedia.org/wikipedia/commons/7/79/Example_of_flats_in_music.ogg\" rel=\"nofollow noreferrer\">upload.wikimedia.org/wikipedia/commons/7/79/&hellip;</a>"}, {"owner": {"reputation": 25, "user_id": 10355445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bhr2Q.jpg?s=128&g=1", "display_name": "Jacob Jacobs", "link": "https://stackoverflow.com/users/10355445/jacob-jacobs"}, "reply_to_user": {"reputation": 4254, "user_id": 3840213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634292034686babc667bc3b9b43c33a2?s=128&d=identicon&r=PG&f=1", "display_name": "Narendra", "link": "https://stackoverflow.com/users/3840213/narendra"}, "edited": false, "score": 0, "creation_date": 1541686456, "post_id": 53180768, "comment_id": 93306928, "body": "@NarendraMongiya Yes, and it worked. Just these audio files that&#39;s from the mobile app."}], "owner": {"reputation": 25, "user_id": 10355445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bhr2Q.jpg?s=128&g=1", "display_name": "Jacob Jacobs", "link": "https://stackoverflow.com/users/10355445/jacob-jacobs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541686585, "creation_date": 1541541932, "last_edit_date": 1541686585, "question_id": 53180768, "link": "https://stackoverflow.com/questions/53180768/i-have-created-an-audio-file-from-mobile-but-it-doesnt-play-using-html5-audio", "title": "I have created an audio file from mobile but it doesn&#39;t play using HTML5 &lt;audio&gt; and even on browser", "body": "<p>I have a mobile app which records an audio then after recording, the audio file is sent to a web server. The problem is the audio file doesn't play using HTML5  and even on browser but if I play the audio file on mobile or to any media player, it works. I have tried .wav, .ogg, and .mp3 file extension but none of them worked on HTML5  or directly on browser. </p>\n\n<p>It shows this image <a href=\"https://i.stack.imgur.com/Eqc8U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Eqc8U.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm using Nativescript on my mobile app. And i'm using nativescript-audio plugin for recording an audio and nativescript-background-http for sending the audio file to web server. </p>\n\n<p>Here's my code on sending the audio file to web server</p>\n\n<pre><code>var session = bghttp.session(\"image-upload\");\n\nvar request = {\n    url: UploadURL,\n    method: \"POST\",\n    headers: {\n        \"Content-Type\": \"application/octet-stream\",\n        \"File-Name\": \"Abi_2018-11-07T05:40:21+08:00.ogg\",\n        \"User-Id\": id\n    },\n    description: \"{ 'uploading': '\" + \"recording.ogg\" + \"' }\"\n};\nvar task = session.uploadFile(fs.path.normalize(recordedFile.path), request);\n</code></pre>\n\n<p>I even tried specifying the <code>Content-type</code> to all possible audio mime type but neither of them worked.</p>\n"}, {"tags": ["javascript", "typescript", "highcharts"], "comments": [{"owner": {"reputation": 3695, "user_id": 3200799, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/XDFzs.png?s=128&g=1", "display_name": "Core972", "link": "https://stackoverflow.com/users/3200799/core972"}, "edited": false, "score": 0, "creation_date": 1541571424, "post_id": 53180514, "comment_id": 93258348, "body": "I just try in a <a href=\"http://jsfiddle.net/dwqeau4L/\" rel=\"nofollow noreferrer\">fiddle</a> and everything works. I think the problem is from the library."}, {"owner": {"reputation": 1654, "user_id": 9604055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5dVyA.png?s=128&g=1", "display_name": "SovietFrontier", "link": "https://stackoverflow.com/users/9604055/sovietfrontier"}, "reply_to_user": {"reputation": 3695, "user_id": 3200799, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/XDFzs.png?s=128&g=1", "display_name": "Core972", "link": "https://stackoverflow.com/users/3200799/core972"}, "edited": false, "score": 0, "creation_date": 1541597665, "post_id": 53180514, "comment_id": 93269765, "body": "Wow. You&#39;re right. I am guessing the <code>@types</code> aren&#39;t up to date.... thanks a million @Core972"}], "answers": [{"tags": [], "owner": {"reputation": 1654, "user_id": 9604055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5dVyA.png?s=128&g=1", "display_name": "SovietFrontier", "link": "https://stackoverflow.com/users/9604055/sovietfrontier"}, "is_accepted": true, "score": 0, "last_activity_date": 1541607234, "creation_date": 1541607234, "answer_id": 53193448, "question_id": 53180514, "link": "https://stackoverflow.com/questions/53180514/highcharts-how-to-set-colors-per-column-per-series-with-a-data-set-in-a-mult/53193448#53193448", "title": "Highcharts: How to set colors per column, per series, with a data set, in a multi series chart?", "body": "<p>The main issue I was having was because of <code>@types/highcharts</code>. It is out of date, and starting with v7 of Highcharts, this will no longer be an issue.</p>\n\n<p>In the meantime, people looking for better typings, can visit <a href=\"https://github.com/highcharts/highcharts-declarations-beta\" rel=\"nofollow noreferrer\">this beta typing declaration</a>. For some questions on how to use the new <code>interface</code> declarations, there is some Q/A going on <a href=\"https://github.com/highcharts/highcharts-declarations-beta/issues/8\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 1654, "user_id": 9604055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5dVyA.png?s=128&g=1", "display_name": "SovietFrontier", "link": "https://stackoverflow.com/users/9604055/sovietfrontier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 53193448, "answer_count": 1, "score": 0, "last_activity_date": 1541607234, "creation_date": 1541540622, "question_id": 53180514, "link": "https://stackoverflow.com/questions/53180514/highcharts-how-to-set-colors-per-column-per-series-with-a-data-set-in-a-mult", "title": "Highcharts: How to set colors per column, per series, with a data set, in a multi series chart?", "body": "<p>I am using the <code>@types</code> since my code is within a <code>.ts</code> file.</p>\n\n<p>I have a chart that uses a column and a line series. My data returns the color code that needs to be sent to the chart. How can I apply this, so that each column has a specific color that I set with my data?</p>\n\n<p>Certain columns will be red for example, while the rest are blue. The red indicates to pay attention to this bar etc. The line chart color needs to stay default, or whatever color I would like. Using the <code>plotOptions.column.colorByPoint = true</code> then adding to the <code>colors:{}</code> array sets them globally, which affects the line chart.</p>\n\n<p>Setting them within the <code>chart.series:[]</code> only works if you want one color for the entire series and only accepts a <code>string</code>, not an array of any kind.</p>\n\n<p>The reference seems to hint that you can use <code>colors:{}</code> within a <code>chart.series:[]</code> but I get the following error when I try:</p>\n\n<blockquote>\n<pre><code>Object literal may only specify known properties, \n  but 'colors' does not exist in type 'IndividualSeriesOptions'. \n  Did you mean to write 'color'?\n</code></pre>\n</blockquote>\n\n<p>I seem to have exhausted all my luck looking for a super customizable option. We previously used Logi, which did this for us SOMEHOW</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 2, "creation_date": 1541541298, "post_id": 53180441, "comment_id": 93251356, "body": "<a href=\"https://www.typescriptlang.org/play/#src=enum%20Enum%20%7B%0D%0A%20%20ONE%20%3D%201%2C%0D%0A%20%20TWO%20%3D%202%2C%0D%0A%20%20THREE%20%3D%203%2C%0D%0A%7D\" rel=\"nofollow noreferrer\"><code>Enum</code> already <i>is</i> that object</a>. It just has bidirectional mappings instead of unidirectional."}, {"owner": {"reputation": 5504, "user_id": 7741897, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/271c12ca9e7fa087a181657aebed1293?s=128&d=identicon&r=PG&f=1", "display_name": "Eduard", "link": "https://stackoverflow.com/users/7741897/eduard"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1541593801, "post_id": 53180441, "comment_id": 93267912, "body": "@PatrickRoberts but how do I assign <code>Enum</code> string values to props of <code>obj</code>? If I do it the way I have shown in the post, I get <code>Type &quot;string&quot; is not assignable to type &quot;Enum&quot;.</code>"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1541601517, "post_id": 53180441, "comment_id": 93271972, "body": "I think you&#39;re misunderstanding... why can&#39;t you just use <code>const obj = Enum</code>?"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1541601984, "post_id": 53180441, "comment_id": 93272260, "body": "Also that&#39;s not the error I get. I get <code>Type &#39;{ 1: string; 2: string; 3: string; }&#39; is not assignable to type &#39;typeof Enum&#39;.   Property &#39;ONE&#39; is missing in type &#39;{ 1: string; 2: string; 3: string; }&#39;.</code> when running <a href=\"https://www.typescriptlang.org/play/#src=enum%20Enum%20%7B%0A%20%20ONE%20%3D%201%2C%0A%20%20TWO%20%3D%202%2C%0A%20%20THREE%20%3D%203%2C%0A%7D%0A%0Aconst%20obj%3A%20typeof%20Enum%20%3D%20%7B%0A%20%20%20%201%3A%20Enum%5B1%5D%2C%0A%20%20%20%202%3A%20Enum%5B2%5D%2C%0A%20%20%20%203%3A%20Enum%5B3%5D%0A%7D\" rel=\"nofollow noreferrer\">this</a>"}, {"owner": {"reputation": 5504, "user_id": 7741897, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/271c12ca9e7fa087a181657aebed1293?s=128&d=identicon&r=PG&f=1", "display_name": "Eduard", "link": "https://stackoverflow.com/users/7741897/eduard"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1541605340, "post_id": 53180441, "comment_id": 93274573, "body": "@PatrickRoberts You assigned <code>typeof Enum</code>, I was assigning just <code>Enum</code> as a type. <code>const obj = Enum</code> does not work because enum has bidirectional mapping and I do not know how to choose the variant of unidirectional <code>(ONE: 1 or 1: &#39;ONE&#39;)</code> while at the same type letting typescript infer the type. I tried it with <code>for..in</code> and <code>fromPairs</code>. In both cases the inferred type was incorrect. For <code>for..in</code> the problem was that initial value of <code>obj</code> is being assigned as <code>{}</code>prior to execution of <code>for..in</code>"}], "owner": {"reputation": 5504, "user_id": 7741897, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/271c12ca9e7fa087a181657aebed1293?s=128&d=identicon&r=PG&f=1", "display_name": "Eduard", "link": "https://stackoverflow.com/users/7741897/eduard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541593629, "creation_date": 1541540304, "last_edit_date": 1541593629, "question_id": 53180441, "link": "https://stackoverflow.com/questions/53180441/create-object-type-from-reversed-enum", "title": "Create object type from reversed enum", "body": "<p>If I have this <code>enum</code>:</p>\n\n<pre><code>enum Enum {\n  ONE = 1,\n  TWO = 2,\n  THREE = 3,\n}\n</code></pre>\n\n<p>How could I create a type that would be suitable for this object created from <code>Enum</code>:</p>\n\n<pre><code>const obj: TypeFromEnum = {\n    1: Enum[1],\n    2: Enum[2],\n    3: Enum[3]\n}\n</code></pre>\n\n<p>If I assign <code>Enum</code> itself as a type (as was suggested in the first comment to this post), I am getting:</p>\n\n<blockquote>\n  <p>Type \"string\" is not assignable to type \"Enum\". </p>\n</blockquote>\n"}, {"tags": ["angular", "typescript", "google-api", "angular6", "google-translate"], "comments": [{"owner": {"reputation": 982, "user_id": 7511690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932d47d0df3e363c5439fd6d4d799bae?s=128&d=identicon&r=PG&f=1", "display_name": "Gilsdav", "link": "https://stackoverflow.com/users/7511690/gilsdav"}, "edited": false, "score": 0, "creation_date": 1541547555, "post_id": 53179948, "comment_id": 93253574, "body": "What the problem if you put the code of your second script tag into a function of your angular component ? I think the only thing you need to do is to add <code>declare var google: any;</code> at the beginning of your TS file."}, {"owner": {"reputation": 19, "user_id": 4357237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252dbaf42c64e54b613b5a829cc72993?s=128&d=identicon&r=PG&f=1", "display_name": "Prabuddha Namal", "link": "https://stackoverflow.com/users/4357237/prabuddha-namal"}, "reply_to_user": {"reputation": 982, "user_id": 7511690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932d47d0df3e363c5439fd6d4d799bae?s=128&d=identicon&r=PG&f=1", "display_name": "Gilsdav", "link": "https://stackoverflow.com/users/7511690/gilsdav"}, "edited": false, "score": 0, "creation_date": 1541571529, "post_id": 53179948, "comment_id": 93258378, "body": "i already use this but not working."}, {"owner": {"reputation": 982, "user_id": 7511690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932d47d0df3e363c5439fd6d4d799bae?s=128&d=identicon&r=PG&f=1", "display_name": "Gilsdav", "link": "https://stackoverflow.com/users/7511690/gilsdav"}, "edited": false, "score": 0, "creation_date": 1541576369, "post_id": 53179948, "comment_id": 93259870, "body": "Use <code>AfterViewInit</code> and not the constructor. And use <code>ViewChild</code> instead of document.getElementsByClassName(&#39;sinhalaText&#39;).  PS: you don&#39;t have any class named &quot;sinhalaText&quot; but it&#39;s an ID."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 4357237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252dbaf42c64e54b613b5a829cc72993?s=128&d=identicon&r=PG&f=1", "display_name": "Prabuddha Namal", "link": "https://stackoverflow.com/users/4357237/prabuddha-namal"}, "edited": false, "score": 0, "creation_date": 1541582030, "post_id": 53185387, "comment_id": 93262237, "body": "Thanks @Gilsdav. this is work only app component. but  i call  another component not working. it is result of display empty."}, {"owner": {"reputation": 19, "user_id": 4357237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252dbaf42c64e54b613b5a829cc72993?s=128&d=identicon&r=PG&f=1", "display_name": "Prabuddha Namal", "link": "https://stackoverflow.com/users/4357237/prabuddha-namal"}, "edited": false, "score": 0, "creation_date": 1541582320, "post_id": 53185387, "comment_id": 93262382, "body": "<code>ERROR Error: Uncaught (in promise): ReferenceError: google is not defined ReferenceError: google is not defined</code>"}, {"owner": {"reputation": 982, "user_id": 7511690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932d47d0df3e363c5439fd6d4d799bae?s=128&d=identicon&r=PG&f=1", "display_name": "Gilsdav", "link": "https://stackoverflow.com/users/7511690/gilsdav"}, "reply_to_user": {"reputation": 19, "user_id": 4357237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252dbaf42c64e54b613b5a829cc72993?s=128&d=identicon&r=PG&f=1", "display_name": "Prabuddha Namal", "link": "https://stackoverflow.com/users/4357237/prabuddha-namal"}, "edited": false, "score": 0, "creation_date": 1541583000, "post_id": 53185387, "comment_id": 93262736, "body": "Is the error in first call of &quot;google&quot; or in &quot;onLoad&quot; function ? Can you try to put <code>&lt;script type=&quot;text&#47;javascript&quot; src=&quot;https:&#47;&#47;www.google.com&#47;jsapi&quot;&gt;&lt;&#47;script&gt;</code> in head ?"}, {"owner": {"reputation": 19, "user_id": 4357237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252dbaf42c64e54b613b5a829cc72993?s=128&d=identicon&r=PG&f=1", "display_name": "Prabuddha Namal", "link": "https://stackoverflow.com/users/4357237/prabuddha-namal"}, "edited": false, "score": 0, "creation_date": 1541584035, "post_id": 53185387, "comment_id": 93263232, "body": "I did it. but not working. But  after refresh this page in this working."}, {"owner": {"reputation": 329, "user_id": 9398998, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DJU1u.jpg?s=128&g=1", "display_name": "MonicaPC", "link": "https://stackoverflow.com/users/9398998/monicapc"}, "reply_to_user": {"reputation": 19, "user_id": 4357237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252dbaf42c64e54b613b5a829cc72993?s=128&d=identicon&r=PG&f=1", "display_name": "Prabuddha Namal", "link": "https://stackoverflow.com/users/4357237/prabuddha-namal"}, "edited": false, "score": 0, "creation_date": 1543523675, "post_id": 53185387, "comment_id": 93960886, "body": "@Prabuddha if the solution has worked for you, please consider to accept the answer."}], "tags": [], "owner": {"reputation": 982, "user_id": 7511690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932d47d0df3e363c5439fd6d4d799bae?s=128&d=identicon&r=PG&f=1", "display_name": "Gilsdav", "link": "https://stackoverflow.com/users/7511690/gilsdav"}, "is_accepted": false, "score": 1, "last_activity_date": 1541577194, "creation_date": 1541577194, "answer_id": 53185387, "question_id": 53179948, "link": "https://stackoverflow.com/questions/53179948/how-to-use-google-transliterate-in-angular-6/53185387#53185387", "title": "How to use google Transliterate in angular 6?", "body": "<p>Please use good livecyle function: <code>AfterViewInit</code> that wait HTML is included in DOM.</p>\n\n<p>In TS</p>\n\n<pre><code>@ViewChild('sinhalaTextInput') sinhalaTextInput: ElementRef;\n\nngAfterViewInit() {\n    ...\n    google.setOnLoadCallback(() =&gt; this.onLoad()); // Don't lose \"this\" context \n}\n\nprivate onLoad() {\n    ...\n    const elements = this.sinhalaTextInput.nativeElement;\n    ...\n}\n</code></pre>\n\n<p>In HTML</p>\n\n<pre><code>&lt;textarea #sinhalaTextInput [(ngModel)]=\"sinhalaText\" id=\"sinhalaText\" style=\"width:600px;height:200px\"&gt;&lt;/textarea&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 1373279, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001413150807/picture?type=large", "display_name": "swaminathan.gunasekeran", "link": "https://stackoverflow.com/users/1373279/swaminathan-gunasekeran"}, "is_accepted": false, "score": 0, "last_activity_date": 1551102933, "creation_date": 1551102933, "answer_id": 54867812, "question_id": 53179948, "link": "https://stackoverflow.com/questions/53179948/how-to-use-google-transliterate-in-angular-6/54867812#54867812", "title": "How to use google Transliterate in angular 6?", "body": "<p>I just posting full component as answer</p>\n\n<pre><code>export class HomeComponent implements OnInit {\nmodel = {\n    left: true,\n    middle: false,\n    right: false\n};\nsinhalaText:\"string\"\nfocus;\nfocus1;\nconstructor() { }\n\nngOnInit() {}\n\n@ViewChild('sinhalaTextInput') sinhalaTextInput: ElementRef;\nngAfterViewInit() {\n    google.load(\"elements\", \"1\", {\n        packages: \"transliteration\"\n      });   \n\ngoogle.setOnLoadCallback(() =&gt; this.onLoad()); // Don't lose \"this\" context \n}\n\nprivate onLoad() {\nconst elements = this.sinhalaTextInput.nativeElement;\nvar options = {\n    sourceLanguage:\n        google.elements.transliteration.LanguageCode.ENGLISH,\n    destinationLanguage:\n        [google.elements.transliteration.LanguageCode.TAMIL],\n    shortcutKey: 'ctrl+g',\n    transliterationEnabled: true\n};\n\n// Create an instance on TransliterationControl with the required\n// options.\nvar control =\n    new google.elements.transliteration.TransliterationControl(options);\n\n// Enable transliteration in the textbox with id\n// 'transliterateTextarea'.\ncontrol.makeTransliteratable([elements]);\n\n}\n\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 404, "user_id": 2527427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d137c854091b96f715d204369d5152d3?s=128&d=identicon&r=PG", "display_name": "Nirmalya Roy", "link": "https://stackoverflow.com/users/2527427/nirmalya-roy"}, "is_accepted": false, "score": 0, "last_activity_date": 1580659046, "last_edit_date": 1580659046, "creation_date": 1580650868, "answer_id": 60026668, "question_id": 53179948, "link": "https://stackoverflow.com/questions/53179948/how-to-use-google-transliterate-in-angular-6/60026668#60026668", "title": "How to use google Transliterate in angular 6?", "body": "<p>Below code is working for me. </p>\n\n<p>I have done two changes </p>\n\n<ol>\n<li>I have moved below code to index.html inside script tag.</li>\n</ol>\n\n<pre><code>      google.load(\"elements\", \"1\", {\n          packages: \"transliteration\"\n        });\n</code></pre>\n\n<ol start=\"2\">\n<li>Changed below line in ts file. Please follow the full code mentioned below. Its working.  </li>\n</ol>\n\n<pre><code>sinhalaControl.makeTransliteratable([elements.id]);\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component, ElementRef, ViewChild, OnInit, AfterViewInit } from '@angular/core';\r\ndeclare var google: any;\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent implements OnInit, AfterViewInit {\r\n  title = 'ng-transliteration';\r\n  sinhalaText: string = '';\r\n  constructor() {\r\n  }\r\n  @ViewChild('sinhalaTextInput', {static: false}) sinhalaTextInput: ElementRef;\r\n  ngOnInit() {\r\n\r\n  }\r\n  ngAfterViewInit() {\r\n    google.setOnLoadCallback(() =&gt; this.onLoad());\r\n  }\r\n  onLoad() {\r\n    const sinhalOptions = {\r\n      sourceLanguage:\r\n        google.elements.transliteration.LanguageCode.ENGLISH,\r\n      destinationLanguage:\r\n                 [google.elements.transliteration.LanguageCode.SINHALESE],\r\n   shortcutKey: 'ctrl+s',\r\n   transliterationEnabled: true\r\n };\r\n const tamilOptions = {\r\n   sourceLanguage:\r\n     google.elements.transliteration.LanguageCode.ENGLISH,\r\n   destinationLanguage:\r\n     [google.elements.transliteration.LanguageCode.TAMIL],\r\n   shortcutKey: 'ctrl+t',\r\n   transliterationEnabled: true\r\n };\r\n    const sinhalaControl = new google.elements.transliteration.TransliterationControl(sinhalOptions);\r\n    const elements = this.sinhalaTextInput.nativeElement;\r\n    sinhalaControl.makeTransliteratable([elements.id]);\r\n    // const sinhalaControl = new google.elements.transliteration.TransliterationControl(sinhalOptions);\r\n    // sinhalaControl.makeTransliteratable(this.sinhalaText);\r\n   }\r\n\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!doctype html&gt;\r\n&lt;html lang=\"en\"&gt;\r\n&lt;head&gt;\r\n  &lt;meta charset=\"utf-8\"&gt;\r\n  &lt;title&gt;NgTransliteration&lt;/title&gt;\r\n  &lt;base href=\"/\"&gt;\r\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\r\n  &lt;link rel=\"icon\" type=\"image/x-icon\" href=\"favicon.ico\"&gt;\r\n  &lt;script type=\"text/javascript\" src=\"https://www.google.com/jsapi\"&gt;&lt;/script&gt;\r\n  &lt;script&gt;\r\n    google.load(\"elements\", \"1\", {\r\n      packages: \"transliteration\"\r\n    });\r\n  &lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n  &lt;app-root&gt;&lt;/app-root&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n\r\n&lt;!---- app.component.html ----&gt;\r\n\r\n\r\n&lt;textarea [(ngModel)]=\"sinhalaText\" #sinhalaTextInput id=\"sinhalaText\" style=\"width:600px;height:200px\"&gt;&lt;/textarea&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 19, "user_id": 4357237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252dbaf42c64e54b613b5a829cc72993?s=128&d=identicon&r=PG&f=1", "display_name": "Prabuddha Namal", "link": "https://stackoverflow.com/users/4357237/prabuddha-namal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2012, "favorite_count": 2, "answer_count": 3, "score": 0, "last_activity_date": 1580659046, "creation_date": 1541538134, "last_edit_date": 1541572776, "question_id": 53179948, "link": "https://stackoverflow.com/questions/53179948/how-to-use-google-transliterate-in-angular-6", "title": "How to use google Transliterate in angular 6?", "body": "<p>I used the below code. this is worked in the index.html </p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"https://www.google.com/jsapi\"&gt;&lt;/script&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    // Load the Google Transliterate API\n    google.load(\"elements\", \"1\", {\n      packages: \"transliteration\"\n    });\n\n    function onLoad() {\n      if (google.elements.transliteration.isBrowserCompatible()) {\n        var options = {\n          sourceLanguage: google.elements.transliteration.LanguageCode.ENGLISH,\n          destinationLanguage: [google.elements.transliteration.LanguageCode.SINHALESE],\n          shortcutKey: 'ctrl+g',\n          transliterationEnabled: true\n        };\n\n        // Create an instance on TransliterationControl with the required\n        // options.\n        var control =\n          new google.elements.transliteration.TransliterationControl(options);\n\n        // Enable transliteration in the textbox with id\n        // 'transliterateTextarea'.\n        control.makeTransliteratable(['transliterateTextarea']);\n      } else {\n        document.getElementById('errorDiv').innerHTML = 'Sorry! Your browser does not support transliteration';\n      }\n    }\n\n    google.setOnLoadCallback(onLoad);\n\n  &lt;/script&gt;\n</code></pre>\n\n<p>after change above this code. </p>\n\n<p><strong>Ts Component</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';  \ndeclare var google:any; \n</code></pre>\n\n<p>@Component({<br>\n    selector: 'app-root',<br>\n    templateUrl:'./app.component.html',<br>\n    styleUrls: ['./app.component.css'] \n }) </p>\n\n<pre><code>export class AppComponent implements OnInit {   \n title = 'translate';  \n public sinhalaText: string;   \n\n constructor() { \n         google.load('elements','1', { packages: 'transliteration'});\n         google.setOnLoadCallback(this.onLoad);     \n }\n\n ngOnInit() {}\n\n\n\nonLoad() {\n     const sinhalOptions = {\n       sourceLanguage:\n         google.elements.transliteration.LanguageCode.ENGLISH,\n       destinationLanguage:\n         [google.elements.transliteration.LanguageCode.SINHALESE],\n       shortcutKey: 'ctrl+s',\n       transliterationEnabled: true\n     };\n     const tamilOptions = {\n       sourceLanguage:\n         google.elements.transliteration.LanguageCode.ENGLISH,\n       destinationLanguage:\n         [google.elements.transliteration.LanguageCode.TAMIL],\n       shortcutKey: 'ctrl+t',\n       transliterationEnabled: true\n     };\n     const sinhalaControl = new google.elements.transliteration.TransliterationControl(sinhalOptions);\n     const elements = document.getElementsByClassName('sinhalaText');&gt;         sinhalaControl.makeTransliteratable(elements);\n     // const sinhalaControl = new google.elements.transliteration.TransliterationControl(sinhalOptions);\n     // sinhalaControl.makeTransliteratable(this.sinhalaText);   \n    }\n\n\n\n }\n</code></pre>\n\n<p><strong>html comonent</strong></p>\n\n<pre><code>&lt;textarea [(ngModel)]=\"sinhalaText\" id=\"sinhalaText\" style=\"width:600px;height:200px\"&gt;&lt;/textarea&gt;\n</code></pre>\n\n<p><strong>index.html</strong></p>\n\n<pre><code>&lt;body&gt;\n  &lt;app-root&gt;&lt;/app-root&gt;\n  &lt;script type=\"text/javascript\" src=\"https://www.google.com/jsapi\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>This is not working.</p>\n\n<p>That code works on index.html file in angular. but I request that the code be embedded in the inside the component in angular application. how it is do ?</p>\n"}, {"tags": ["typescript", "commonjs", "vue-cli-3"], "owner": {"reputation": 73, "user_id": 3760824, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6a9ZN.png?s=128&g=1", "display_name": "Sean K", "link": "https://stackoverflow.com/users/3760824/sean-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 550, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1541537110, "creation_date": 1541536373, "last_edit_date": 1541537110, "question_id": 53179576, "link": "https://stackoverflow.com/questions/53179576/vue-cli-3-1-0-how-to-import-commonjs-module-into-typescript-component", "title": "vue-cli 3.1.0 how to import commonjs module into typescript component", "body": "<p>I'm trying to import some legacy code in commonjs format into a typescript translation unit that is associated with a vanilla-ish project created by vue-cli 3.1.0. The error I'm getting is from webpack. It appears that the typescript component wants to consume modules in ES6 format:</p>\n\n<pre><code>ReferenceError: exports is not defined\ncjs_module.js:3\n    at Module../src/cjs_module.js (/Users/skelly/dev/nimbee/edu/js/app/wmadmin_dashboard/src/cjs_module.js:3:1)\n    at __webpack_require__ (http://10.0.9.2:8080/app.js:725:30)\n</code></pre>\n\n<p>The <code>tsconfig.json</code> is below:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>{\r\n  \"compilerOptions\": {\r\n    \"target\": \"esnext\",\r\n    \"module\": \"esnext\",\r\n    \"strict\": true,\r\n    \"noUnusedLocals\": false,\r\n    \"noUnusedParameters\": true,\r\n    \"noImplicitReturns\": true,\r\n    \"noFallthroughCasesInSwitch\": true,\r\n    \"jsx\": \"preserve\",\r\n    \"importHelpers\": true,\r\n    \"moduleResolution\": \"node\",\r\n    \"experimentalDecorators\": true,\r\n    \"esModuleInterop\": true,\r\n    \"allowSyntheticDefaultImports\": true,\r\n    \"composite\": true\r\n  },\r\n  \"lib\": [\r\n    \"esnext\",\r\n    \"dom\",\r\n    \"dom.iterable\",\r\n    \"scripthost\"\r\n  ],\r\n  \"exclude\": [\r\n    \"node_modules\"\r\n  ]\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>There are other configs in play such as <code>vue.config.js</code> and <code>babel.config.js</code>. I'm new to the vue JS ecosystem so thanks for entertaining a newb question.</p>\n\n<p>I should add the module I'm experimenting with is:</p>\n\n<pre><code>// works\nexport const a = 'es6 module';\n// doesn't work\n//exports.a= 'cjs_module';\nvar regexp = new RegExp('blah');\n</code></pre>\n\n<p>The import syntax in typescript I'm using is:</p>\n\n<pre><code>const cjs_module = require('./cjs_module');\nconsole.log(cjs_module.a);    \n</code></pre>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 2, "creation_date": 1541533767, "post_id": 53178961, "comment_id": 93247997, "body": "Can you please supply more details around the <code>serviceShared.currentMood</code> property and how you are changing it?"}, {"owner": {"reputation": 1907, "user_id": 484698, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/xrU8m.png?s=128&g=1", "display_name": "circusdei", "link": "https://stackoverflow.com/users/484698/circusdei"}, "edited": false, "score": 0, "creation_date": 1541533856, "post_id": 53178961, "comment_id": 93248034, "body": "If you&#39;re loading asynchronously, you&#39;ll need $scope.$apply() after var is updated."}], "answers": [{"tags": [], "owner": {"reputation": 153, "user_id": 6087873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17cc3a3769e8d3acc372f3041a90eefa?s=128&d=identicon&r=PG&f=1", "display_name": "Tomm", "link": "https://stackoverflow.com/users/6087873/tomm"}, "is_accepted": false, "score": 0, "last_activity_date": 1541534302, "creation_date": 1541534302, "answer_id": 53179122, "question_id": 53178961, "link": "https://stackoverflow.com/questions/53178961/can-i-change-dynamically-innerhtml-input-code/53179122#53179122", "title": "Can I change dynamically innerHTML input code?", "body": "<p>Maybe in the decorator of your component <strong>ChangeDetectionStrategy</strong> is set to <strong>onPush</strong></p>\n"}], "owner": {"reputation": 1, "user_id": 10614943, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dpV7jFpWNsU/AAAAAAAAAAI/AAAAAAAAAIg/72BkBMJAg7E/photo.jpg?sz=128", "display_name": "inteGral", "link": "https://stackoverflow.com/users/10614943/integral"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541584558, "creation_date": 1541533635, "last_edit_date": 1541584558, "question_id": 53178961, "link": "https://stackoverflow.com/questions/53178961/can-i-change-dynamically-innerhtml-input-code", "title": "Can I change dynamically innerHTML input code?", "body": "<p>I have a small angular app. One component use <code>innerHTML</code> to display content</p>\n\n<pre><code>&lt;div [innerHTML]=\"serviceShared.currentMood\"&gt;&lt;/div&gt; \n</code></pre>\n\n<p>But when I change value of <code>serviceShared.currentMood</code> in main component nothing changes. Can I change content dynamically and re-render the component?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p><code>serviceShared</code> is a service that provides a value for my <code>currentMood</code> which is a string variable that holds HTML code. I change value of that variable by method in my main component. Method changes variable content to one of array`s (string) cell. </p>\n"}, {"tags": ["node.js", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "edited": false, "score": 0, "creation_date": 1541703709, "post_id": 53213821, "comment_id": 93316488, "body": "You are correct.  I ended up leveraging JSDOM through The MockBrowser utilities.  Then I created an implementation of <code>import {mocks} from &#39;mock-browser&#39;; var MockBrowser = mocks.MockBrowser; var mock = new MockBrowser(); var document = mock.getDocument()</code> Something that also needs to be noted, is that JSDOM doesnt have all utilities that the browsers do.  So instead of me saying:  <code>document.all</code> i will say <code>document.querySelectorAll(&quot;*&quot;)</code>"}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 1, "last_activity_date": 1541700962, "creation_date": 1541700962, "answer_id": 53213821, "question_id": 53178916, "link": "https://stackoverflow.com/questions/53178916/running-a-js-file-with-node-is-giving-me-an-htmldivelement-is-not-defined-do/53213821#53213821", "title": "Running a js file with node is giving me an &quot;HTMLDivElement&quot; is not defined. Do i need to import it, or is that specific to browsers outside of Node?", "body": "<p>Indeed, Node.js doesn't come with a DOM implementation.  If you want to run tests that use the DOM, you'll need to either load a Node.js-compatible DOM implementation such as <a href=\"https://github.com/jsdom/jsdom\" rel=\"nofollow noreferrer\">jsdom</a>, or if that doesn't meet your requirements, switch to a browser-based testing environment such as <a href=\"https://www.seleniumhq.org/\" rel=\"nofollow noreferrer\">Selenium</a>.</p>\n"}], "owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 53213821, "answer_count": 1, "score": 0, "last_activity_date": 1541700962, "creation_date": 1541533416, "last_edit_date": 1541534046, "question_id": 53178916, "link": "https://stackoverflow.com/questions/53178916/running-a-js-file-with-node-is-giving-me-an-htmldivelement-is-not-defined-do", "title": "Running a js file with node is giving me an &quot;HTMLDivElement&quot; is not defined. Do i need to import it, or is that specific to browsers outside of Node?", "body": "<p>I was trying to run some tests, but needed test data, so i created a generation file which created dummy html.  When I attempt to run it though, it gives me a <em>Reference Error: HTMLDivElement is not defined.</em></p>\n\n<p>Is there something I need to import such that Node knows what HTMLDivElement is?  I am not rendering anything, but just want correct data to pipe into follow on code.</p>\n\n<p>I run my file through TSC, and then run it through node.</p>\n\n<p>Sample Code:</p>\n\n<pre><code>const main = () =&gt; {\n    let root = new HTMLDivElement();\n}\nmain();\n</code></pre>\n\n<p>Edit:</p>\n\n<p>I was trying to just bypass it with: <code>let root = document.createElement(\"div\");</code> but node does not understand what document is, so I cant seem to get that running either as a fallback.</p>\n"}, {"tags": ["angular", "typescript", "bootstrap-modal", "ng-bootstrap"], "comments": [{"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1541533959, "post_id": 53178873, "comment_id": 93248087, "body": "what do you mean by <i>positioning of the modal window</i>?"}], "answers": [{"tags": [], "owner": {"reputation": 470, "user_id": 5046129, "user_type": "registered", "profile_image": "https://graph.facebook.com/1021289891228498/picture?type=large", "display_name": "Charles Assuncao", "link": "https://stackoverflow.com/users/5046129/charles-assuncao"}, "is_accepted": false, "score": 8, "last_activity_date": 1559488569, "last_edit_date": 1559488569, "creation_date": 1541534051, "answer_id": 53179057, "question_id": 53178873, "link": "https://stackoverflow.com/questions/53178873/ngbmodal-custom-class-styling/53179057#53179057", "title": "NgbModal - Custom Class Styling", "body": "<p>Use <code>windowClass</code> from <code>NgbModalOptions</code></p>\n\n<pre><code>    this.modalService.open(\n        content, \n        {\n            ariaLabelledBy: 'modal-basic-title', \n            size: 'lg', \n            windowClass: 'custom-class'\n        }\n    )\n    .result\n    .then((result) =&gt; {\n        // write your code here\n    });\n</code></pre>\n\n<p>and in the scss:</p>\n\n<pre><code>.custom-class {\n    float: right;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 805, "user_id": 6563591, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/sZUtG.jpg?s=128&g=1", "display_name": "roger", "link": "https://stackoverflow.com/users/6563591/roger"}, "edited": false, "score": 3, "creation_date": 1548721247, "post_id": 53198283, "comment_id": 95635040, "body": "<code>encapsulation: ViewEncapsulation.None</code> means that you turn off the component encapsulation off, so the component scss populates as part of the global scss which what we may want here and it breaks the angular way. I would want to do is using <code>ng-deep</code>, but currently I am still have trouble with it."}], "tags": [], "owner": {"reputation": 573, "user_id": 2942897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aHdbo.jpg?s=128&g=1", "display_name": "Cody Pritchard", "link": "https://stackoverflow.com/users/2942897/cody-pritchard"}, "is_accepted": true, "score": 7, "last_activity_date": 1541627007, "creation_date": 1541627007, "answer_id": 53198283, "question_id": 53178873, "link": "https://stackoverflow.com/questions/53178873/ngbmodal-custom-class-styling/53198283#53198283", "title": "NgbModal - Custom Class Styling", "body": "<p>I had tried using the <code>window.class: 'custom-class'</code> property, but it wasnt working. I would add the custom class declaration and the modal would look exactly the same.</p>\n\n<p>The solution, came from <a href=\"https://ng-bootstrap.github.io/#/components/modal/examples\" rel=\"noreferrer\">https://ng-bootstrap.github.io/#/components/modal/examples</a>\nwhich i had originally modeled my modal after. </p>\n\n<p>They key piece of code here, which they do not explain why its needed or what it does so im still not entirely sure myself, was <code>encapsulation: ViewEncapsulation.None</code></p>\n\n<p>After adding that line to my @Component declaration, along with the custom class, all the styling worked. </p>\n"}, {"tags": [], "owner": {"reputation": 83, "user_id": 9681047, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hsIGZXgQhW8/AAAAAAAAAAI/AAAAAAAAAcc/n_-t5v63z1E/photo.jpg?sz=128", "display_name": "Matanya dayfani", "link": "https://stackoverflow.com/users/9681047/matanya-dayfani"}, "is_accepted": false, "score": 1, "last_activity_date": 1554290608, "creation_date": 1554290608, "answer_id": 55493990, "question_id": 53178873, "link": "https://stackoverflow.com/questions/53178873/ngbmodal-custom-class-styling/55493990#55493990", "title": "NgbModal - Custom Class Styling", "body": "<p>The problem with the solution of add <code>encapsulation: ViewEncapsulation.None</code> it breaks all the style of the component.\nI found another solution from angular documentation:\n: <a href=\"https://valor-software.com/ngx-bootstrap/#/modals#service-custom-css-class\" rel=\"nofollow noreferrer\">https://valor-software.com/ngx-bootstrap/#/modals#service-custom-css-class</a>\nThrough the '''open-modal''' method you add your own class and then you can access the class and model the model.\nfor example:</p>\n\n<pre><code>modalRef: BsModalRef;\n  constructor(private modalService: BsModalService) {}\n\n  openModalWithClass(template: TemplateRef&lt;any&gt;) {\n    this.modalRef = this.modalService.show(\n      template,\n      Object.assign({}, { class: 'pupUp-image-modal'})\n    );\n  }\n</code></pre>\n\n<p>Css: </p>\n\n<pre><code>.pupUp-image-modal {\n    width: fit-content !important;\n    max-width: 95% !important;\n    max-height: 95%;\n}\n</code></pre>\n\n<p>Note that the model style must be placed in the main style file (style.css)\nBecause the model is not part of the current component</p>\n"}, {"tags": [], "owner": {"reputation": 773, "user_id": 1228434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9abea429fdc00dbb04fcd547e094473?s=128&d=identicon&r=PG", "display_name": "mike", "link": "https://stackoverflow.com/users/1228434/mike"}, "is_accepted": false, "score": 0, "last_activity_date": 1603989673, "last_edit_date": 1603989673, "creation_date": 1603987955, "answer_id": 64595023, "question_id": 53178873, "link": "https://stackoverflow.com/questions/53178873/ngbmodal-custom-class-styling/64595023#64595023", "title": "NgbModal - Custom Class Styling", "body": "<p>If you just need to modify an existing class in the modal, like <code>.modal-content</code>, you can just do:</p>\n<pre><code>::ng-deep .modal-content  {\n  background-color: yellow;\n}\n</code></pre>\n<p>If you want to use your own CSS class, here is a more complex example:</p>\n<pre><code>::ng-deep .my-class {\n  font-size: 2rem;\n  .modal-dialog { \n    background-color: yellow;\n    padding:1rem;\n  }  \n  .modal-content {\n    color: white;\n  }\n  .modal-header {\n    background-color: red;\n  }\n  .modal-body {\n    background-color: green;\n  }\n}\n</code></pre>\n<p>and in the *.ts file:</p>\n<pre><code>this.modalService.open(content, { windowClass: 'my-class'})\n</code></pre>\n<p>Note that if you are working on a big application, you don't want to use <code>::ng-deep</code> because it will make the CSS rule global (also, it's <a href=\"https://angular.io/guide/component-styles#deprecated-deep--and-ng-deep\" rel=\"nofollow noreferrer\">deprecated</a>). You can just put <code>.my-class</code> in <code>styles.scss</code> or somewhere where every developer knows that &quot;all rules here are global&quot;. That way you can also have a <code>.my-class-2</code> for a different modal.</p>\n"}], "owner": {"reputation": 573, "user_id": 2942897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aHdbo.jpg?s=128&g=1", "display_name": "Cody Pritchard", "link": "https://stackoverflow.com/users/2942897/cody-pritchard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15256, "favorite_count": 1, "accepted_answer_id": 53198283, "answer_count": 4, "score": 4, "last_activity_date": 1603989673, "creation_date": 1541533229, "question_id": 53178873, "link": "https://stackoverflow.com/questions/53178873/ngbmodal-custom-class-styling", "title": "NgbModal - Custom Class Styling", "body": "<p>I have an Angular 6 app that I am trying to implement a modal window that slides in from the right side of the screen, like shown here: <a href=\"https://codepen.io/anon/pen/OayRVy\" rel=\"nofollow noreferrer\">https://codepen.io/anon/pen/OayRVy</a></p>\n\n<p>But, no matter what I try, I cannot override the positioning of the modal window. The only thing I have been able to change is things like the background color of the header/body. </p>\n\n<p>My modal HTML:</p>\n\n<pre><code>&lt;ng-template #content let-modal=\"close\"&gt;\n\n      &lt;div class=\"modal-header\"&gt;\n        &lt;h4 class=\"modal-title\" id=\"modal-basic-title\"&gt;Table of Contents&lt;/h4&gt;\n        &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"dismissModal(modal)\"&gt;&lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;&lt;/button&gt;\n      &lt;/div&gt;\n\n      &lt;div class=\"modal-body\"&gt;\n        &lt;p&gt;\n          ....\n        &lt;/p&gt;\n      &lt;/div&gt;\n\n&lt;/ng-template&gt;\n</code></pre>\n\n<p>Component code:</p>\n\n<pre><code>  import {NgbModal} from '@ng-bootstrap/ng-bootstrap';\n\n  constructor(private modalService: NgbModal) {}\n\n  public open(content) {\n    this.modalService.open(content, {ariaLabelledBy: 'modal-basic-title', size: 'lg'}).result.then((result) =&gt; {\n      ...\n    }, (reason) =&gt; {\n      ...\n    });\n  }\n</code></pre>\n\n<p>If I inspect the HTML and in Chrome DevTools add a <code>float: right</code> property to the <code>.modal-dialog</code> container, it will do what I want. But, adding a </p>\n\n<pre><code>.modal-dialog {\n  float: right;\n}\n</code></pre>\n\n<p>to my .scss file for the component has no effect. </p>\n\n<p>Can anyone show me how to override the default bootstrap styling so I can force it to appear on the right side of the screen and take up 100% of the height?  </p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 470, "user_id": 5046129, "user_type": "registered", "profile_image": "https://graph.facebook.com/1021289891228498/picture?type=large", "display_name": "Charles Assuncao", "link": "https://stackoverflow.com/users/5046129/charles-assuncao"}, "edited": false, "score": 0, "creation_date": 1541534276, "post_id": 53178831, "comment_id": 93248244, "body": "You can have just one level of prop? Or you object can be more complex like:   <code>{ prop: { propArr: [] } }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 10135786, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XInxLWVZVUg/AAAAAAAAAAI/AAAAAAAAAD4/aGJ4JAqvBig/photo.jpg?sz=128", "display_name": "sgabb", "link": "https://stackoverflow.com/users/10135786/sgabb"}, "edited": false, "score": 0, "creation_date": 1571273141, "post_id": 53179213, "comment_id": 103188943, "body": "Nice solution! I would add a little refactoring that takes into account nested FormArray:  function removeNullValueField(formValue) {   for (const prop in formValue) {     if (formValue.hasOwnProperty(prop)) {       if (!formValue[prop]) {         delete formValue[prop];       }       if (Array.isArray(formValue[prop]) &amp;&amp; formValue[prop].length &gt; 0) {         formValue[prop].forEach(fsValue =&gt; {           this.removeNullValueField(fsValue);         });       }     }   } }"}, {"owner": {"reputation": 87, "user_id": 9497310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a503b57d4cace753e6df4f4e416194b0?s=128&d=identicon&r=PG&f=1", "display_name": "Haven", "link": "https://stackoverflow.com/users/9497310/haven"}, "edited": false, "score": 0, "creation_date": 1589539934, "post_id": 53179213, "comment_id": 109340940, "body": "@siddAjmera - That&#39;s amazing! - However, is there a way to ensure that it doesn&#39;t exclude any properties that have a value set to 0 (number). Using the above currently results in the form ignoring any numerical value of 0"}], "tags": [], "owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "is_accepted": false, "score": 3, "last_activity_date": 1541535098, "last_edit_date": 1541535098, "creation_date": 1541534779, "answer_id": 53179213, "question_id": 53178831, "link": "https://stackoverflow.com/questions/53178831/angular-reactive-forms-exclude-empty-fields-on-form-submit/53179213#53179213", "title": "Angular Reactive Forms - Exclude empty fields on form submit", "body": "<p>If you don't assign an empty value to the form controls, then these will automatically be <code>null</code>.</p>\n\n<p>Considering this is how you're creating your form:</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { FormBuilder, FormArray } from '@angular/forms';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n\n  constructor(private fb: FormBuilder) {}\n\n  userForm = this.fb.group({\n    user: [],\n    directory: [],\n    filename: this.fb.array([])\n  });\n\n  addFile() {\n    (&lt;FormArray&gt;this.userForm.get('filename')).push(this.fb.control(null));\n  }\n\n  get files() {\n    return (&lt;FormArray&gt;this.userForm.get('filename')).controls;\n  }\n\n  onSubmit() {\n    console.log(this.userForm.value);\n  }\n\n}\n</code></pre>\n\n<p>The form value would yield <code>null</code> for fields that were not filled. You can then remove them from the <code>value</code> like this:</p>\n\n<pre><code>onSubmit() {\n  let formValue = { ...this.userForm.value };\n\n  for (let prop in formValue) {\n    if (!formValue[prop]) {\n      delete formValue[prop];\n    }\n\n    if (Array.isArray(formValue[prop])) {\n      let resultArray = formValue[prop].filter(item =&gt; item);\n      if (resultArray.length &gt; 0) {\n        formValue[prop] = resultArray;\n      } else {\n        delete formValue[prop];\n      }\n    }\n  }\n  console.log(formValue);\n}\n</code></pre>\n\n<p>Here's a <a href=\"https://stackblitz.com/edit/angular-json-placeholder-form?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\"><strong>Sample StackBlitz</strong></a> for your ref.</p>\n"}], "owner": {"reputation": 119, "user_id": 6179654, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9b2e90ea51ff414f200cdbdaa5ef1a09?s=128&d=identicon&r=PG&f=1", "display_name": "Yeol", "link": "https://stackoverflow.com/users/6179654/yeol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3553, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1541535098, "creation_date": 1541533030, "question_id": 53178831, "link": "https://stackoverflow.com/questions/53178831/angular-reactive-forms-exclude-empty-fields-on-form-submit", "title": "Angular Reactive Forms - Exclude empty fields on form submit", "body": "<p>I am trying to get only fields from the form with values entered by the user. The resulting JSON object from still contains empty quotation marks for empty inputs (see below). Is there a way to exclude empty fields upon form submit? Thank you!</p>\n\n<p>Current:\n    <code>{ \"user\": \"\", \"directory\": \"documents\", \"filename\": [ \"a\", \"\", \"\" ] }</code></p>\n\n<p>Goal: <code>{ \"directory\": \"documents\", \"filename\": [ \"a\" ] }</code></p>\n"}, {"tags": ["android", "json", "angular", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1541530896, "post_id": 53178270, "comment_id": 93246685, "body": "What field are you filtering on? <code>plate</code> or <code>code</code>?"}, {"owner": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "reply_to_user": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1541531011, "post_id": 53178270, "comment_id": 93246724, "body": "On the field <code>plate</code>"}, {"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1541531678, "post_id": 53178270, "comment_id": 93247041, "body": "What does <code>this.url</code> return? An array or an Object?"}, {"owner": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "reply_to_user": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1541531792, "post_id": 53178270, "comment_id": 93247105, "body": "An array with json objects have a look at the json data. The url is working fine I tested it with postman."}], "answers": [{"comments": [{"owner": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1541531117, "post_id": 53178313, "comment_id": 93246767, "body": "Thanks for your time. I get the following error when I added your solution: <code>Property &#39;find&#39; does not exist on type &#39;VehicleStatus&#39;</code>"}, {"owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "reply_to_user": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1541531189, "post_id": 53178313, "comment_id": 93246799, "body": "are you sure you are applying filter on data not on  VehicleStatus?"}, {"owner": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1541531426, "post_id": 53178313, "comment_id": 93246910, "body": "Yes have a look in the <b>data.ts</b> file"}, {"owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "reply_to_user": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1541531480, "post_id": 53178313, "comment_id": 93246939, "body": "can you post what you get inside console.log(JSON.stringify(data));"}, {"owner": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1541531735, "post_id": 53178313, "comment_id": 93247069, "body": "I get the following message when I add it <code>Cannot find name &#39;data&#39;.</code>"}, {"owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "reply_to_user": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1541531821, "post_id": 53178313, "comment_id": 93247118, "body": "what? that&#39;s strange, where did you get the json data then?"}, {"owner": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "edited": false, "score": 0, "creation_date": 1541531902, "post_id": 53178313, "comment_id": 93247162, "body": "I have used the example in the Angular documentation:  <code>config: Config;  showConfig() {   this.configService.getConfig()     &#47;&#47; clone the data object, using its known Config shape     .subscribe((data: Config) =&gt; this.config = { ...data }); }</code>"}], "tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": false, "score": 0, "last_activity_date": 1541530891, "creation_date": 1541530891, "answer_id": 53178313, "question_id": 53178270, "link": "https://stackoverflow.com/questions/53178270/how-to-select-an-element-in-json-array-and-bind-it-to-the-view-in-ionic-3/53178313#53178313", "title": "How to select an element in JSON array and bind it to the view in ionic 3?", "body": "<p>You need <strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\" rel=\"nofollow noreferrer\">array.find</a></strong> to get the matching value, which will return the first matching element from the array</p>\n\n<pre><code> this.vehiclestatus =  data.find(vehicle=&gt;vehicle.plate === plate);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "edited": false, "score": 0, "creation_date": 1541531216, "post_id": 53178353, "comment_id": 93246810, "body": "filter will not be the suitable option in this case"}, {"owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "edited": false, "score": 2, "creation_date": 1541531259, "post_id": 53178353, "comment_id": 93246831, "body": "<a href=\"https://stackoverflow.com/questions/33759109/difference-between-find-and-filter-shift-on-javascript\" title=\"difference between find and filter shift on javascript\">stackoverflow.com/questions/33759109/&hellip;</a>"}], "tags": [], "owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "is_accepted": true, "score": 0, "last_activity_date": 1541532457, "last_edit_date": 1541532457, "creation_date": 1541531019, "answer_id": 53178353, "question_id": 53178270, "link": "https://stackoverflow.com/questions/53178270/how-to-select-an-element-in-json-array-and-bind-it-to-the-view-in-ionic-3/53178353#53178353", "title": "How to select an element in JSON array and bind it to the view in ionic 3?", "body": "<p>The responsibility to <code>find</code> the <code>VehicleStatus</code> from the list should be of the service rather than of the Component itself.</p>\n\n<p>Consider changing your Service Implementation to take up that responsibility. You can use the <code>map</code> operator to transform the response to return the <code>VehicleStatus</code> found based on the <code>plate</code> that will be passed as an arg while calling the <code>getVehicleStatus</code> method.</p>\n\n<pre><code>import { map } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\n\ngetVehicleStatus(plate): Observable&lt;VehicleStatus&gt; {\n  return this.http.get&lt;VehicleStatus[]&gt;(this.url)\n    .pipe(\n      map(statuses =&gt; statuses.find(status =&gt; status.plate === plate))\n    );\n}\n</code></pre>\n\n<p>Then in your home.ts:</p>\n\n<pre><code>ionViewDidLoad() {\n  this.getStatus('test3');\n}\n\ngetStatus(plate: string) {\n  this.dataService.getVehicleStatus(plate)\n    .subscribe((data: VehicleStatus) =&gt; this.vehiclestatus = data);\n}\n</code></pre>\n"}], "owner": {"reputation": 876, "user_id": 6280280, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60a8daec5bd303e757a4c5757b07dfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Fearcoder", "link": "https://stackoverflow.com/users/6280280/fearcoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "accepted_answer_id": 53178353, "answer_count": 2, "score": 0, "last_activity_date": 1541532457, "creation_date": 1541530723, "last_edit_date": 1541531283, "question_id": 53178270, "link": "https://stackoverflow.com/questions/53178270/how-to-select-an-element-in-json-array-and-bind-it-to-the-view-in-ionic-3", "title": "How to select an element in JSON array and bind it to the view in ionic 3?", "body": "<p>I am making an app in <code>ionic 3</code> and I am trying to fetch data from an url.</p>\n\n<p>This is my code in <strong>data.ts</strong> and my data provider:</p>\n\n<pre><code>   getVehicleStatus() {\n    return this.http.get&lt;VehicleStatus&gt;(this.url);\n  }\n</code></pre>\n\n<p><strong>This is my vehicle class:</strong></p>\n\n<pre><code>class VehicleStatus {\n    status: string;\n    plate: string;\n    code: string;\n    message: string;\n}\n</code></pre>\n\n<p>I am calling the method into my <strong>home.ts</strong> file.</p>\n\n<pre><code>  ionViewDidLoad() {\n    console.log(this.getStatus('test3'));\n  }\n\n  getStatus(plate: string) {\n    this.dataService.getVehicleStatus()\n      .subscribe((data: VehicleStatus) =&gt; this.vehiclestatus = [{ ...data }]);\n  }\n</code></pre>\n\n<p>To test out if everything works I hard code a license plate number to log it into my chrome developer tools. It said <code>'Undefined'</code>. </p>\n\n<p>This is how the json data looks like:</p>\n\n<pre><code>[{\"status\":\"P\",\"plate\":\"test2\",\"code:\"MGP150151\",\"message\":\"fail\"}\n,{\"status\":\"P\",\"plate\":\"test3\",\"code\":\"MGP160298\",\"message\":\"fail\"}\n,{\"status\":\"P\",\"plate\":\"test4\",\"code\":\"MGP140085\",\"message\":\"succes\"}\n,{\"status\":\"O\",\"plate\":\"test5\",\"code\":\"MGP150175\",\"message\":\"succes\"}]\n</code></pre>\n\n<p><strong>I should get this object back:</strong></p>\n\n<pre><code>{\"status\":\"P\",\"plate\":\"test3\",\"code\":\"MGP160298\",\"message\":\"fail\"}\n</code></pre>\n\n<p>But it doesn't work and got the message undefined.</p>\n\n<p>I have used the following source: </p>\n\n<p><a href=\"https://angular.io/guide/http\" rel=\"nofollow noreferrer\">https://angular.io/guide/http</a></p>\n\n<p>How can I search in the array and bind it to my <code>HTML</code> page in <code>ionic 3</code>?.</p>\n\n<p>Can someone point me in the right direction?.</p>\n\n<p>Kind regards .</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 720, "user_id": 3024554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120625c224347bf543e43a36d740abe1?s=128&d=identicon&r=PG", "display_name": "Jonathan Raoult", "link": "https://stackoverflow.com/users/3024554/jonathan-raoult"}, "edited": false, "score": 0, "creation_date": 1541541794, "post_id": 53178573, "comment_id": 93251564, "body": "In my (real) scenario, the first solution works better since I can&#39;t/don&#39;t want to modify <code>Source</code>. It works perfectly."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1541531900, "creation_date": 1541531900, "answer_id": 53178573, "question_id": 53178218, "link": "https://stackoverflow.com/questions/53178218/whats-the-canonical-way-of-checking-for-exhaustive-keys-union/53178573#53178573", "title": "What&#39;s the canonical way of checking for exhaustive keys union", "body": "<p>You don't have to introduce a variable, at least not at runtime.  Purely at the type level you could do something like this:</p>\n\n<pre><code>type MutuallyExtends&lt;T extends U, U extends V, V=T&gt; = true;\ntype ExhaustiveCheck = \n  MutuallyExtends&lt;keyof Source, typeof dataProps[number] | typeof metaProps[number]&gt;;\n</code></pre>\n\n<p>But probably I'd prefer to do something where the compiler error happens right inside the <code>Source</code> class where the extra property is added:</p>\n\n<pre><code>const keysTuple = &lt;T extends Array&lt;keyof any&gt;&gt;(...args: T) =&gt; args;\nconst dataProps = keysTuple(\"data\");\nconst metaProps = keysTuple(\"meta\");\n\ntype NoExtraKeys&lt;T, K extends keyof T&gt; = Record&lt;Exclude&lt;keyof T, K&gt;, never&gt;;\ntype DataMetaKeys = typeof dataProps[number] | typeof metaProps[number];\nclass Source implements NoExtraKeys&lt;Source, DataMetaKeys&gt;\n{\n  data = \"d\";\n\n  meta = \"m\";\n\n  // if you un-comment this the compilation fails right here\n  //meta2 = \"m2\";\n}\n</code></pre>\n\n<p>By declaring that <code>Source</code> implements <code>NoExtraKeys&lt;Source, DataMetaKeys&gt;</code>, any extra keys such as <code>meta2</code> will evaluate to something like <code>Source implements {meta2: never}</code>, which will fail.  </p>\n\n<p>Hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 720, "user_id": 3024554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120625c224347bf543e43a36d740abe1?s=128&d=identicon&r=PG", "display_name": "Jonathan Raoult", "link": "https://stackoverflow.com/users/3024554/jonathan-raoult"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 53178573, "answer_count": 1, "score": 0, "last_activity_date": 1541531900, "creation_date": 1541530464, "question_id": 53178218, "link": "https://stackoverflow.com/questions/53178218/whats-the-canonical-way-of-checking-for-exhaustive-keys-union", "title": "What&#39;s the canonical way of checking for exhaustive keys union", "body": "<p>I'm trying to transform and filter certain properties of an instance of a class <code>Source</code>. In order to repeat as less code as possible, I decided to start with data available at runtime (my keys name put in an array) and then derive types from there.</p>\n\n<p>I want all that to be type checked so that if there is a new property added to <code>Source</code> TS will warn me that I forgot to handle it. This is what I'm doing right now:</p>\n\n<pre><code>class Source {\n  data = \"d\";\n\n  meta = \"m\";\n\n  // if I un-comment this the compilation fails, that is what I want\n  // meta2 = \"m2\";\n}\n\nconst keysTuple = &lt;T extends Array&lt;keyof Source&gt;&gt;(...args: T) =&gt; args;\n\nconst dataProps = keysTuple(\"data\");\nconst metaProps = keysTuple(\"meta\");\n</code></pre>\n\n<p>And that's how I'm checking full \"coverage\":</p>\n\n<pre><code>const _exhaustiveCheck: keyof Source extends\n  | typeof dataProps[number]\n  | typeof metaProps[number]\n  ? boolean\n  : never = true;\n</code></pre>\n\n<p>It seems weird having to introduce the <code>_exhaustiveCheck</code> variable just for the sake of type checking against <code>never</code>, so I was wondering if there is a better way?</p>\n"}, {"tags": ["angular", "typescript", "crud"], "comments": [{"owner": {"reputation": 982, "user_id": 7511690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932d47d0df3e363c5439fd6d4d799bae?s=128&d=identicon&r=PG&f=1", "display_name": "Gilsdav", "link": "https://stackoverflow.com/users/7511690/gilsdav"}, "edited": false, "score": 1, "creation_date": 1541529237, "post_id": 53177867, "comment_id": 93245843, "body": "You pass &#39;code&#39; as first parameter of you update function. And the first parameter is called id. So you have &#39;code&#39; in id. Replace &#39;code&#39; by form.value.id ?"}], "answers": [{"tags": [], "owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1541531701, "last_edit_date": 1541531701, "creation_date": 1541529361, "answer_id": 53177966, "question_id": 53177867, "link": "https://stackoverflow.com/questions/53177867/angular-400-error-when-using-a-generic-base-service-with-different-id-property/53177966#53177966", "title": "Angular - 400 error when using a generic base service with different id property name", "body": "<p>There is slightly issue in the calling the service function. Instead of passing hard coded value <code>code</code>, eight your should pass the <code>form.value.id</code> or <code>params['code']</code>.</p>\n\n<blockquote>\n  <p>Modified code is as</p>\n</blockquote>\n\n<pre><code>updateItem(form: FormGroup) {\n    this.route.params.subscribe(params =&gt; {\n      form.value.id = params['code'];\n      this.itemService.update(form.value.id, form.value)\n        .subscribe(res =&gt; {\n          this.router.navigate(['/list']);\n        });\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 4849, "user_id": 1299388, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/fPo0R.jpg?s=128&g=1", "display_name": "Sami-L", "link": "https://stackoverflow.com/users/1299388/sami-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 53177966, "answer_count": 1, "score": 0, "last_activity_date": 1541531701, "creation_date": 1541528906, "question_id": 53177867, "link": "https://stackoverflow.com/questions/53177867/angular-400-error-when-using-a-generic-base-service-with-different-id-property", "title": "Angular - 400 error when using a generic base service with different id property name", "body": "<p>I am using a base class service with <strong>id</strong> property name when selecting a given item, but I have other components that use different property names.</p>\n\n<p>For a custom component that uses 'code' instead of 'id', when I click to update an item (PUT method), the console gives me a 400 error, and shows a bad Request URL: </p>\n\n<p><a href=\"http://example.com/api/items/\" rel=\"nofollow noreferrer\">http://example.com/api/items/</a><strong>code</strong> </p>\n\n<p>instead of</p>\n\n<p><a href=\"http://example.com/api/items/\" rel=\"nofollow noreferrer\">http://example.com/api/items/</a><strong>C002</strong></p>\n\n<p>The payload shown is correct: > { code:\"C002\", name \"Item 2\" }</p>\n\n<p>The item class is as follows:</p>\n\n<pre><code>export interface Item {\n    code: string;\n    name: string;\n    }\n</code></pre>\n\n<p>The component method:</p>\n\n<pre><code>updateItem(form: FormGroup) {\n    this.route.params.subscribe(params =&gt; {\n      form.value.id = params['code'];\n\n      this.itemService.update('code', form.value)\n        .subscribe(res =&gt; {\n          this.router.navigate(['/list']);\n        });\n    });\n}\n</code></pre>\n\n<p>and the base class service:</p>\n\n<pre><code>public update(id: string, dto: INDTO): Observable&lt;OUTDTO&gt; {\n    return this.http.put&lt;OUTDTO&gt;(`/${this.controllerName}/${id}`, dto, this.endPointFactory.getRequestHeaders());\n}\n</code></pre>\n\n<p>What am I doing wrong here ?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 6494, "user_id": 1668501, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/yuQQv.png?s=128&g=1", "display_name": "Code-EZ", "link": "https://stackoverflow.com/users/1668501/code-ez"}, "edited": false, "score": 1, "creation_date": 1541528762, "post_id": 53177788, "comment_id": 93245647, "body": "you can use RxJs subject to send the new value from service to the component"}, {"owner": {"reputation": 982, "user_id": 7511690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932d47d0df3e363c5439fd6d4d799bae?s=128&d=identicon&r=PG&f=1", "display_name": "Gilsdav", "link": "https://stackoverflow.com/users/7511690/gilsdav"}, "edited": false, "score": 1, "creation_date": 1541528827, "post_id": 53177788, "comment_id": 93245679, "body": "You probably need a store between your component and your service."}, {"owner": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "edited": false, "score": 0, "creation_date": 1541529511, "post_id": 53177788, "comment_id": 93246000, "body": "Technically you could have public properties on the service that <code>DashboardComponent</code> uses and provide an instance <code>DragAndDropService</code> to each instance of <code>DashboardComponent</code> rather than to root or even to the <code>NgModule</code> that <code>DashboardComponent</code> is part of. You may need to clarify at least conceptually why you&#39;d need the service to alter properties on component. Each combination of the component + service could be &quot;unique&quot; and independent, allowing to modify properties without affecting other instances. Can it not instead take values and return the necessary modified values?"}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 1, "creation_date": 1541529628, "post_id": 53177788, "comment_id": 93246058, "body": "You could have something like this in the component code: <code>this.myProperty = this.dragAndDropService.getPropertyValue()</code>."}, {"owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1541529755, "post_id": 53177788, "comment_id": 93246110, "body": "You could modify <code>alterMyProperty</code> so that it takes the component as an parameter. Then you can call it using <code>this.dragAndDropService.alterMyProperty(this)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "is_accepted": false, "score": 1, "last_activity_date": 1541530119, "last_edit_date": 1541530119, "creation_date": 1541529734, "answer_id": 53178045, "question_id": 53177788, "link": "https://stackoverflow.com/questions/53177788/can-an-angular-service-directly-change-properties-on-component-where-it-is-injec/53178045#53178045", "title": "Can an Angular service directly change properties on component where it is injected (without a store/RxJs)?", "body": "<p>I'm not sure why you don't want to use Rxjs. But it would make your life easy.</p>\n\n<p>You can set the Component's property from the service itself.</p>\n\n<p>Try this:</p>\n\n<p>Dashboard.component.ts</p>\n\n<pre><code>import { DragAndDropService } from '../api/services/drag-and-drop.service';\n\nexport class DashboardComponent {\n  myProperty = \"hello\"\n\n  constructor(private dragAndDropService: DragAndDropService) {}\n\n  ngOnInit() {\n    this.dragAndDropService.alteredProperty$\n      .subscribe(alertedProperty =&gt; this.myProperty = alertedProperty);\n  }\n}\n</code></pre>\n\n<p>DragAndDropService.service.ts</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DragAndDropService {\n\n  private alteredProperty: BehaviorSubject&lt;string&gt; = new BehaviorSubject&lt;string&gt;(null);\n  alteredProperty$: Observable&lt;string&gt; = this.alteredProperty.asObservable();\n\n  alterMyProperty(alteredProperty) {\n    this.alteredProperty.next(alteredProperty);\n  }\n}\n</code></pre>\n\n<p>You can now inject the <code>DragAndDropService</code> anywhere to call it's <code>alterMyProperty</code> method and pass it the value of the <code>alteredProperty</code>. As soon as this method is called, it will notify the DashboardComponent as it is <code>subscribe</code>ing to the <code>alteredProperty$</code> Observable.</p>\n"}], "owner": {"reputation": 170, "user_id": 6205699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUEcc.jpg?s=128&g=1", "display_name": "Aljosha Novakovic", "link": "https://stackoverflow.com/users/6205699/aljosha-novakovic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1541533417, "creation_date": 1541528592, "last_edit_date": 1541529099, "question_id": 53177788, "link": "https://stackoverflow.com/questions/53177788/can-an-angular-service-directly-change-properties-on-component-where-it-is-injec", "title": "Can an Angular service directly change properties on component where it is injected (without a store/RxJs)?", "body": "<p><strong>Dashboard.component.ts</strong></p>\n\n<pre><code>import { DragAndDropService } from '../api/services/drag-and-drop.service';\n\nexport class DashboardComponent {\n  myProperty = \"hello\"\n\n  constructor(private dragAndDropService: DragAndDropService) {}\n\n  ngOnInit() {\n    this.dragAndDropService.alterMyProperty()\n  }\n}\n</code></pre>\n\n<p><strong>DragAndDropService.service.ts</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DragAndDropService {\n\n  alterMyProperty() {\n    this.myProperty = \"New String we are trying to alter\";\n  }\n}\n</code></pre>\n\n<p>So of course this will not work due to scope. The service will look for \"this.myProperty\" within it's own class. But is there a way to have it default to the scope where it is instantiated (in this case, the constructor of Dashboard.component)?? </p>\n\n<p>This example is very simplified, I left code out for conciseness. My actual code is much more complex than this. </p>\n"}]