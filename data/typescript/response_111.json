[{"tags": ["javascript", "html", "angular", "typescript"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1487805933, "post_id": 42404222, "comment_id": 71955227, "body": "...you have two one last things, and neither of them is the last thing."}, {"owner": {"reputation": 21, "user_id": 5377860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61bbc2b742a8c525f68164ed6d912214?s=128&d=identicon&r=PG&f=1", "display_name": "robert", "link": "https://stackoverflow.com/users/5377860/robert"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1487806300, "post_id": 42404222, "comment_id": 71955380, "body": "can you elaborate on your comment im new to angularjs2"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1487806382, "post_id": 42404222, "comment_id": 71955422, "body": "That&#39;s nothing to do with Angular, or programming. I mean literally you have two different sentences starting with <i>&quot;One last thing&quot;</i>, neither of which is the final sentence of your post."}, {"owner": {"reputation": 21, "user_id": 5377860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61bbc2b742a8c525f68164ed6d912214?s=128&d=identicon&r=PG&f=1", "display_name": "robert", "link": "https://stackoverflow.com/users/5377860/robert"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1487825542, "post_id": 42404222, "comment_id": 71961144, "body": "thanks i will post that on grammer flow next time lol but really am looking for Angular experts to jump in with some real help"}], "owner": {"reputation": 21, "user_id": 5377860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61bbc2b742a8c525f68164ed6d912214?s=128&d=identicon&r=PG&f=1", "display_name": "robert", "link": "https://stackoverflow.com/users/5377860/robert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 466, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487867566, "creation_date": 1487805863, "last_edit_date": 1487867566, "question_id": 42404222, "link": "https://stackoverflow.com/questions/42404222/angular-quickstart-tutorial-app-component-ts-not-showing-in-html", "title": "Angular Quickstart Tutorial app.component.ts not showing in html", "body": "<p>Can someone please explain why, when I run the Angular Quickstart Tutorial (from the official Angular 2 documentation) and it loads the html in <code>App.component.ts</code>, it does not load the component in the HTML directive?</p>\n\n<p>Heres my code:</p>\n\n<p><strong>app.component.ts</strong></p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n  selector: 'my-app',\n  template: `&lt;h1&gt;Hello {{name}}&lt;/h1&gt;`,\n})\nexport class AppComponent  { name = 'Angular'; }\n</code></pre>\n\n<p><strong>index.html</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;Angular QuickStart&lt;/title&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n    &lt;base href=\"/\"&gt;\n    &lt;link rel=\"stylesheet\" href=\"styles.css\"&gt;\n\n    &lt;!-- Polyfill(s) for older browsers --&gt;\n    &lt;script src=\"node_modules/core-js/client/shim.min.js\"&gt;&lt;/script&gt;\n\n    &lt;script src=\"node_modules/zone.js/dist/zone.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"node_modules/systemjs/dist/system.src.js\"&gt;&lt;/script&gt;\n\n    &lt;script src=\"systemjs.config.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n      System.import('main.js').catch(function(err){ console.error(err); });\n    &lt;/script&gt;\n  &lt;/head&gt;\n\n  &lt;body&gt;\n    &lt;my-app&gt;Loading AppComponent content heres ...&lt;/my-app&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>app.module.ts</strong></p>\n\n<pre><code>import { NgModule }      from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\n\nimport { AppComponent }  from './app.component';\n\n@NgModule({\n  imports:      [ BrowserModule ],\n  declarations: [ AppComponent ],\n  bootstrap:    [ AppComponent ]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>One last thing - it only allows me to edit the <code>.js</code> files for it to update in the browser, if I edit a <code>.ts</code> file.  In the <code>app.component.ts</code> file it won't show changes in the browser, but if I edit it in the <code>app.component.js</code> it does show the changes in the browser. </p>\n\n<p>I am using Visual Studio to code. </p>\n"}, {"tags": ["typescript", "protractor"], "comments": [{"owner": {"reputation": 4656, "user_id": 1787388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSr04.png?s=128&g=1", "display_name": "shusson", "link": "https://stackoverflow.com/users/1787388/shusson"}, "edited": false, "score": 0, "creation_date": 1487806930, "post_id": 42404141, "comment_id": 71955657, "body": "<code>export const EC = protractor.ExpectedConditions;</code> ?"}, {"owner": {"reputation": 4877, "user_id": 2571256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f90c6023cd605708e1ca5afc6afbf029?s=128&d=identicon&r=PG", "display_name": "cnishina", "link": "https://stackoverflow.com/users/2571256/cnishina"}, "edited": false, "score": 1, "creation_date": 1487891954, "post_id": 42404141, "comment_id": 72001539, "body": "you could also just import ExpectedConditions. <code>import {ExpectedConditions} from &#39;protractor&#39;;</code> Although reading your question, I&#39;m not exactly sure what you are asking for? Are you asking to remove the one line of code <code>const EC</code>? Are you trying to export the same EC reference to all page objects?"}, {"owner": {"reputation": 18209, "user_id": 843542, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/kZdih.png?s=128&g=1", "display_name": "Eric Francis", "link": "https://stackoverflow.com/users/843542/eric-francis"}, "edited": false, "score": 0, "creation_date": 1487892033, "post_id": 42404141, "comment_id": 72001577, "body": "Trying to export the same EC reference to all page objects."}, {"owner": {"reputation": 4877, "user_id": 2571256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f90c6023cd605708e1ca5afc6afbf029?s=128&d=identicon&r=PG", "display_name": "cnishina", "link": "https://stackoverflow.com/users/2571256/cnishina"}, "edited": false, "score": 0, "creation_date": 1487892068, "post_id": 42404141, "comment_id": 72001590, "body": "Just import it. Also you could do <code>import {ExpectedConditions as EC} from &#39;protractor&#39;;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 4877, "user_id": 2571256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f90c6023cd605708e1ca5afc6afbf029?s=128&d=identicon&r=PG", "display_name": "cnishina", "link": "https://stackoverflow.com/users/2571256/cnishina"}, "edited": false, "score": 0, "creation_date": 1488395134, "post_id": 42426187, "comment_id": 72215564, "body": "ExpectedConditions is already <code>global</code>. So you are basically setting <code>global.EC = global.ExpectedConditions</code>. I&#39;m not sure why this is the answer."}], "tags": [], "owner": {"reputation": 17034, "user_id": 858913, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b5015a60c08feee1d8116be3dd70878d?s=128&d=identicon&r=PG", "display_name": "eLRuLL", "link": "https://stackoverflow.com/users/858913/elrull"}, "is_accepted": true, "score": 0, "last_activity_date": 1487884025, "creation_date": 1487884025, "answer_id": 42426187, "question_id": 42404141, "link": "https://stackoverflow.com/questions/42404141/how-to-share-access-to-protractor-expectedconditions/42426187#42426187", "title": "How to share access to protractor.ExpectedConditions", "body": "<p>set a global variable on the <code>onPrepare()</code> method:</p>\n\n<p><strong>conf.js</strong></p>\n\n<pre><code>exports.config = {\n    ...\n    onPrepare: function () {\n        global.EC = protractor.ExpectedConditions;\n    }\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4877, "user_id": 2571256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f90c6023cd605708e1ca5afc6afbf029?s=128&d=identicon&r=PG", "display_name": "cnishina", "link": "https://stackoverflow.com/users/2571256/cnishina"}, "is_accepted": false, "score": 1, "last_activity_date": 1487892376, "creation_date": 1487892376, "answer_id": 42428087, "question_id": 42404141, "link": "https://stackoverflow.com/questions/42404141/how-to-share-access-to-protractor-expectedconditions/42428087#42428087", "title": "How to share access to protractor.ExpectedConditions", "body": "<p>ExpectedConditions is readily available as an import object. I have concerns about setting EC globally. See comment above. This should just be:</p>\n\n<pre><code>import {ExpectedConditions as EC} from 'protractor';\n\n// use EC as is without setting it globally.\nexport class MyPageObject { }\n</code></pre>\n"}], "owner": {"reputation": 18209, "user_id": 843542, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/kZdih.png?s=128&g=1", "display_name": "Eric Francis", "link": "https://stackoverflow.com/users/843542/eric-francis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 0, "accepted_answer_id": 42426187, "answer_count": 2, "score": 0, "last_activity_date": 1487892376, "creation_date": 1487805488, "question_id": 42404141, "link": "https://stackoverflow.com/questions/42404141/how-to-share-access-to-protractor-expectedconditions", "title": "How to share access to protractor.ExpectedConditions", "body": "<p>In all of my page objects I am doing</p>\n\n<pre><code>import { browser, ElementFinder, $, protractor } from 'protractor';\n\nconst EC = protractor.ExpectedConditions;\n\nexport class MyPageObject { }\n</code></pre>\n\n<p>Is there a way to share the expected conditions object?</p>\n"}, {"tags": ["angular", "templates", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 0, "creation_date": 1487805098, "post_id": 42404022, "comment_id": 71954921, "body": "The error message you get when trying this is what? Have you tried wrapping it all in a <code>div</code> or <code>template</code> tag when you moved it to it&#39;s own file?"}, {"owner": {"reputation": 4656, "user_id": 1787388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSr04.png?s=128&g=1", "display_name": "shusson", "link": "https://stackoverflow.com/users/1787388/shusson"}, "edited": false, "score": 0, "creation_date": 1487807453, "post_id": 42404022, "comment_id": 71955855, "body": "show us the component, particularly how you define the <code>templateUrl</code>"}], "owner": {"reputation": 1, "user_id": 7584604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/685cb11a5991c914d3ef284a71c611a0?s=128&d=identicon&r=PG&f=1", "display_name": "Ugur Ayan SmartUpCode", "link": "https://stackoverflow.com/users/7584604/ugur-ayan-smartupcode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1504409259, "creation_date": 1487804940, "last_edit_date": 1504409259, "question_id": 42404022, "link": "https://stackoverflow.com/questions/42404022/code-is-not-working-when-using-templateurl-instead-of-using-template-in-angular2", "title": "Code is not working when using templateUrl instead of using template in angular2", "body": "<p>Below code is not working while using \"<strong>templateUrl</strong>\" directive but while using \"<strong>template</strong>\" this code is working </p>\n\n<p>What is the problem about this situation?\nI want to use templateUrl directive instead of template in order to discriminate the designers and  programmers !!!</p>\n\n<p>templateUrl and template are the same  ....</p>\n\n<pre><code>&lt;ion-header&gt;\n &lt;ion-navbar&gt;\n  &lt;button ion-button menuToggle&gt;\n   &lt;ion-icon name=\"menu\"&gt;&lt;/ion-icon&gt;\n  &lt;/button&gt;\n &lt;ion-title&gt;CONTACTS&lt;/ion-title&gt;\n &lt;ion-buttons end&gt;\n   &lt;button ion-button icon-only (click)=\"openAddContactPage()\"&gt;\n     &lt;ion-icon name=\"add-circle\"&gt;&lt;/ion-icon&gt;\n   &lt;/button&gt;\n  &lt;/ion-buttons&gt;\n &lt;/ion-navbar&gt;\n&lt;/ion-header&gt;\n\n&lt;ion-content padding&gt;\n&lt;ion-searchbar  (ionInput)=\"getContacts(0, 10, 'contacts','search',$event, '')\"&gt;&lt;/ion-searchbar&gt;\n\n&lt;ion-list&gt;\n\n&lt;ion-item *ngFor=\"let c of contacts\"&gt;\n\n  &lt;ion-avatar item-left&gt;\n    &lt;img *ngIf=\"c.imageId != null\" src=\"{{BACKEND_PATH}}/api/images/{{c.imageId}}\"&gt;\n    &lt;img *ngIf=\"c.imageId.length == 0\" src=\"../../assets/imgs/contact.png\"&gt;\n  &lt;/ion-avatar&gt;\n  &lt;h2 bold&gt;{{c.firstName}} {{c.lastName}}&lt;/h2&gt;\n  &lt;p&gt;&lt;span *ngIf=\"c.department != null\"&gt;{{c.department}}: &lt;/span&gt;{{c.job}}  &lt;/p&gt;\n  &lt;p&gt;{{c.companyName}}&lt;/p&gt;\n  &lt;p&gt;{{c.imageId}} .. {{c.imageId.length}}&lt;/p&gt;\n  &lt;ion-note item-right&gt;\n    &lt;ion-icon ios=\"ios-arrow-dropright\" md=\"md-arrow-dropright\"&gt;&lt;/ion-icon&gt;\n  &lt;/ion-note&gt;\n &lt;/ion-item&gt;\n\n &lt;/ion-list&gt;\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 0, "last_activity_date": 1487899295, "creation_date": 1487899295, "answer_id": 42429154, "question_id": 42403884, "link": "https://stackoverflow.com/questions/42403884/is-there-a-plugin-or-tool-i-can-install-that-allows-browsers-to-read-typescript/42429154#42429154", "title": "Is there a plugin or tool I can install that allows browser&#39;s to read Typescript raw?", "body": "<blockquote>\n  <p>Just out of curiosity, I was wondering if there were any experimental tools out there being developed or already exists.</p>\n</blockquote>\n\n<p>Checkout <code>script</code> tag support for TypeScript <a href=\"https://github.com/basarat/typescript-script\" rel=\"nofollow noreferrer\">https://github.com/basarat/typescript-script</a> </p>\n\n<pre><code>&lt;script type=\"text/typescript\" src=\"script.ts\"&gt;&lt;/script&gt;\n&lt;script type=\"text/typescript\"&gt;\n    setTimeout(()=&gt;console.log('hello'));\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 179, "user_id": 6567932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uaENv.jpg?s=128&g=1", "display_name": "Ryan Santos", "link": "https://stackoverflow.com/users/6567932/ryan-santos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16, "favorite_count": 0, "accepted_answer_id": 42429154, "answer_count": 1, "score": -1, "last_activity_date": 1487899295, "creation_date": 1487804264, "question_id": 42403884, "link": "https://stackoverflow.com/questions/42403884/is-there-a-plugin-or-tool-i-can-install-that-allows-browsers-to-read-typescript", "title": "Is there a plugin or tool I can install that allows browser&#39;s to read Typescript raw?", "body": "<p>Just out of curiosity, I was wondering if there were any experimental tools out there being developed or already exists.</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "types"], "comments": [{"owner": {"reputation": 1751, "user_id": 156166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/663120570/picture?type=large", "display_name": "Rich Seviora", "link": "https://stackoverflow.com/users/156166/rich-seviora"}, "edited": false, "score": 0, "creation_date": 1487809905, "post_id": 42403729, "comment_id": 71956622, "body": "Can you include your ts file that references interact?"}, {"owner": {"reputation": 548, "user_id": 2698254, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fa0ce83435fa9559637d4b87c498b979?s=128&d=identicon&r=PG&f=1", "display_name": "James Adams", "link": "https://stackoverflow.com/users/2698254/james-adams"}, "reply_to_user": {"reputation": 1751, "user_id": 156166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/663120570/picture?type=large", "display_name": "Rich Seviora", "link": "https://stackoverflow.com/users/156166/rich-seviora"}, "edited": false, "score": 0, "creation_date": 1487826220, "post_id": 42403729, "comment_id": 71961393, "body": "I just solved it with a bit of a hack by putting : <code>declare var interact: Function;</code> at the top. The ts file is a few hundred lines, so best not to include it."}], "owner": {"reputation": 548, "user_id": 2698254, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fa0ce83435fa9559637d4b87c498b979?s=128&d=identicon&r=PG&f=1", "display_name": "James Adams", "link": "https://stackoverflow.com/users/2698254/james-adams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 912, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487803564, "creation_date": 1487803564, "question_id": 42403729, "link": "https://stackoverflow.com/questions/42403729/using-interactjs-with-typescript", "title": "Using InteractJs with Typescript", "body": "<p>I'm struggling to get the typings for interact into my typescript project.</p>\n\n<p>The only type file I found for InteractJs was here: <a href=\"https://github.com/taye/interact.js/blob/master/interact.d.ts\" rel=\"nofollow noreferrer\">https://github.com/taye/interact.js/blob/master/interact.d.ts</a></p>\n\n<p>So I can't install it using the standard npm @ type.</p>\n\n<p>Instead,  I created an interact folder within node_modules/@types, and placed the above type file. I then tried to reference it from within my ts file, and the compiler still winges that:</p>\n\n<blockquote>\n  <p>Cannot find type definition file for 'interact'.</p>\n</blockquote>\n\n<p>Any suggestions? </p>\n"}, {"tags": ["angular", "typescript", "webpack", "karma-runner"], "comments": [{"owner": {"reputation": 3201, "user_id": 2017781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f158070ca67f3dc6db7e15cbfdddf28e?s=128&d=identicon&r=PG", "display_name": "eddygeek", "link": "https://stackoverflow.com/users/2017781/eddygeek"}, "edited": false, "score": 0, "creation_date": 1488372298, "post_id": 42402938, "comment_id": 72199862, "body": "I am encountering the same issue trying to migrate to @angular/cli 1.0.0-rc.0 (from 1.0.0-beta.26)"}], "answers": [{"comments": [{"owner": {"reputation": 16386, "user_id": 13103, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6577dde0800361864cd804c7245da581?s=128&d=identicon&r=PG", "display_name": "Jason Jackson", "link": "https://stackoverflow.com/users/13103/jason-jackson"}, "edited": false, "score": 0, "creation_date": 1488382409, "post_id": 42532473, "comment_id": 72207237, "body": "The exact same solution <i>just</i> worked for me.  Thank you."}, {"owner": {"reputation": 1041, "user_id": 2577326, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/a271c324eda7467ebd83e03b290eb671?s=128&d=identicon&r=PG", "display_name": "michaelAdam", "link": "https://stackoverflow.com/users/2577326/michaeladam"}, "edited": false, "score": 0, "creation_date": 1491871036, "post_id": 42532473, "comment_id": 73733985, "body": "Marked as answer because it prompted me to rebuild my project using angular cli instead of Yeoman, and then tests worked."}, {"owner": {"reputation": 103, "user_id": 5674493, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10205977925183043/picture?type=large", "display_name": "Ramazan Z&#252;lkarneyn", "link": "https://stackoverflow.com/users/5674493/ramazan-z%c3%bclkarneyn"}, "edited": false, "score": 0, "creation_date": 1563363702, "post_id": 42532473, "comment_id": 100673271, "body": "I didnt find angular-cli.json flile. Where is the exactly location or i have to create new one ?"}], "tags": [], "owner": {"reputation": 3201, "user_id": 2017781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f158070ca67f3dc6db7e15cbfdddf28e?s=128&d=identicon&r=PG", "display_name": "eddygeek", "link": "https://stackoverflow.com/users/2017781/eddygeek"}, "is_accepted": true, "score": 7, "last_activity_date": 1489788742, "last_edit_date": 1489788742, "creation_date": 1488373232, "answer_id": 42532473, "question_id": 42402938, "link": "https://stackoverflow.com/questions/42402938/uncaught-error-zone-already-loaded-during-karma-test/42532473#42532473", "title": "&quot;Uncaught Error: Zone already loaded.&quot; during karma test", "body": "<p>In my case (migrating to @angular/cli 1.0.0-rc.0 from 1.0.0-beta.26) I fixed it by removing</p>\n\n<pre><code>import './polyfills.ts';\n</code></pre>\n\n<p>from <code>src/test.ts</code>, as it now seems to be added by <em>ng</em> based on <code>\"polyfills\": \"polyfills.ts\"</code> in <code>angular-cli.json</code>.</p>\n\n<p>Here is the beta->rc <a href=\"https://github.com/angular/angular-cli/wiki/stories-rc-update\" rel=\"noreferrer\">upgrade guide</a> listing other changes needed. </p>\n"}, {"tags": [], "owner": {"reputation": 103, "user_id": 5674493, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10205977925183043/picture?type=large", "display_name": "Ramazan Z&#252;lkarneyn", "link": "https://stackoverflow.com/users/5674493/ramazan-z%c3%bclkarneyn"}, "is_accepted": false, "score": 0, "last_activity_date": 1563466844, "creation_date": 1563466844, "answer_id": 57098903, "question_id": 42402938, "link": "https://stackoverflow.com/questions/42402938/uncaught-error-zone-already-loaded-during-karma-test/57098903#57098903", "title": "&quot;Uncaught Error: Zone already loaded.&quot; during karma test", "body": "<p>I fix my problem as below. </p>\n\n<p>Install the lower version of firebase using this command</p>\n\n<p><strong>npm install angularfire2@5.0.0-rc.4</strong>  </p>\n\n<p>then install npm</p>\n\n<p><strong>npm install</strong></p>\n\n<p>Then remove this line on src / main.ts</p>\n\n<pre><code>import  './polyfills';\n</code></pre>\n\n<p>it work for me. I just want share it. I hope it will help someone.</p>\n"}], "owner": {"reputation": 1041, "user_id": 2577326, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/a271c324eda7467ebd83e03b290eb671?s=128&d=identicon&r=PG", "display_name": "michaelAdam", "link": "https://stackoverflow.com/users/2577326/michaeladam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1874, "favorite_count": 0, "accepted_answer_id": 42532473, "answer_count": 2, "score": 2, "last_activity_date": 1563466844, "creation_date": 1487800138, "question_id": 42402938, "link": "https://stackoverflow.com/questions/42402938/uncaught-error-zone-already-loaded-during-karma-test", "title": "&quot;Uncaught Error: Zone already loaded.&quot; during karma test", "body": "<p>All I want is to be able to load my typescript files into the browser's debugger when I run unit tests with Karma. If I remove karma-typescript, the tests run, but I can only debug with the transpiled javascript. With karma-typescript, I get the above error. What do I need to do to debug my typescript files while using karma?</p>\n\n<p>Here is my karma conf that is used for tests.</p>\n\n<pre><code>const conf = require('./gulp.conf');\n\nmodule.exports = function (config) {\nconst configuration = {\nbasePath: '../',\nsingleRun: false,\nautoWatch: true,\nlogLevel: 'INFO',\njunitReporter: {\n  outputDir: 'test-reports'\n},\nbrowsers: [\n  'Chrome'\n],\nframeworks: [\n  'jasmine',\n  'karma-typescript'\n],\nfiles: [\n  { pattern: \"src/**/*.ts\" },\n  conf.path.src('index.spec.js')\n],\npreprocessors: {\n  [conf.path.src('index.spec.js')]: [\n    'webpack'\n  ],\n  \"**/*.ts\": ['karma-typescript']\n},\nreporters: ['progress', 'coverage', 'karma-typescript'],\ncoverageReporter: {\n  type: 'html',\n  dir: 'coverage/'\n},\nwebpack: require('./webpack-test.conf'),\nwebpackMiddleware: {\n  noInfo: true\n},\nplugins: [\n  require('karma-jasmine'),\n  require('karma-junit-reporter'),\n  require('karma-coverage'),\n  require('karma-chrome-launcher'),\n  require('karma-webpack'),\n  require('karma-typescript')\n]\n};\n\n  config.set(configuration);\n};\n</code></pre>\n\n<p>Here is my webpack conf that is used for tests.</p>\n\n<pre><code>const webpack = require('webpack');\nconst conf = require('./gulp.conf');\nmodule.exports = {\n  module: {\n    loaders: [\n      {\n        test: /.json$/,\n        loaders: [\n          'json-loader'\n        ]\n      },\n      {\n        test: /.ts$/,\n        exclude: /node_modules/,\n        loader: 'tslint-loader',\n        enforce: 'pre'\n      },\n      {\n        test: /\\.ts$/,\n        exclude: /node_modules/,\n        loaders: [\n          'ts-loader'\n        ]\n      },\n      {\n        test: /.html$/,\n        loaders: [\n          'html-loader'\n        ]\n      }\n    ]\n  },\n  plugins: [\n    new webpack.ContextReplacementPlugin(\n      /angular(\\\\|\\/)core(\\\\|\\/)(esm(\\\\|\\/)src|src)(\\\\|\\/)linker/,\n      conf.paths.src\n    ),\n    new webpack.LoaderOptionsPlugin({\n      options: {\n        resolve: {},\n        ts: {\n          configFileName: 'tsconfig.json'\n        },\n        tslint: {\n          configuration: require('../tslint.json')\n        }\n      },\n      debug: true\n    }),\n    new webpack.SourceMapDevToolPlugin({\n      filename: null,\n      test: /\\.(ts|js)($|\\?)/i\n    })\n  ],\n  devtool: 'source-map',\n  resolve: {\n    extensions: [\n      '.webpack.js',\n      '.web.js',\n      '.js',\n      '.ts'\n    ]\n  }\n};\n</code></pre>\n\n<p>Here is my webpack conf that is used for running the app.</p>\n\n<pre><code>const webpack = require('webpack');\nconst conf = require('./gulp.conf');\nconst path = require('path');\n\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\nconst FailPlugin = require('webpack-fail-plugin');\nconst autoprefixer = require('autoprefixer');\nconst fileLoader = require('file-loader');\n\nmodule.exports = {\n  module: {\n    loaders: [\n      {\n        test: /.json$/,\n        loaders: [\n          'json-loader'\n        ]\n      },\n      {\n        test: /.ts$/,\n        exclude: /node_modules/,\n        loader: 'tslint-loader',\n        enforce: 'pre'\n      },\n      {\n        test: /\\.(css|scss)$/,\n        loaders: [\n          'style-loader',\n          'css-loader',\n          'sass-loader',\n          'postcss-loader'\n        ]\n      },\n      {\n        test: /\\.ts$/,\n        exclude: /node_modules/,\n        loaders: [\n          'ts-loader'\n        ]\n      },\n      {\n        test: /.html$/,\n        loaders: [\n          'html-loader'\n        ]\n      },\n      {\n        test: /\\.(jpe?g|png|gif|svg)$/i,\n        loader: \"file-loader?name=/public/images/[name].[ext]\"\n\n      }\n    ]\n  },\n  plugins: [\n    new webpack.optimize.OccurrenceOrderPlugin(),\n    new webpack.NoErrorsPlugin(),\n    FailPlugin,\n    new HtmlWebpackPlugin({\n      template: conf.path.src('index.html')\n    }),\n    new webpack.ContextReplacementPlugin(\n      /angular(\\\\|\\/)core(\\\\|\\/)(esm(\\\\|\\/)src|src)(\\\\|\\/)linker/,\n      conf.paths.src\n    ),\n    new webpack.LoaderOptionsPlugin({\n      options: {\n        postcss: () =&gt; [autoprefixer],\n        resolve: {},\n        ts: {\n          configFileName: 'tsconfig.json'\n        },\n        tslint: {\n          configuration: require('../tslint.json')\n        }\n      },\n      debug: true\n    })\n  ],\n  devtool: 'source-map',\n  output: {\n    path: path.join(process.cwd(), conf.paths.tmp),\n    filename: 'index.js'\n  },\n  resolve: {\n    extensions: [\n      '.webpack.js',\n      '.web.js',\n      '.js',\n      '.ts'\n    ]\n  },\n  entry: `./${conf.path.src('index')}`\n};\n</code></pre>\n\n<p>Please let me know what other info or code you would like.</p>\n"}, {"tags": ["javascript", "node.js", "angular", "typescript", "angular-cli"], "comments": [{"owner": {"reputation": 577, "user_id": 2662587, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100004296133669/picture?type=large", "display_name": "Admir Sabanovic", "link": "https://stackoverflow.com/users/2662587/admir-sabanovic"}, "edited": false, "score": 0, "creation_date": 1487806080, "post_id": 42402698, "comment_id": 71955296, "body": "Just put back &lt;base href=&quot;./&quot;&gt; but with ."}], "answers": [{"tags": [], "owner": {"reputation": 1715, "user_id": 6443274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f325293d96210f36925447405f5ad729?s=128&d=identicon&r=PG&f=1", "display_name": "ScottL", "link": "https://stackoverflow.com/users/6443274/scottl"}, "is_accepted": false, "score": 0, "last_activity_date": 1487806143, "creation_date": 1487806143, "answer_id": 42404278, "question_id": 42402698, "link": "https://stackoverflow.com/questions/42402698/angular-2-ng-build/42404278#42404278", "title": "Angular 2 ng build", "body": "<p>Use --base-href with an appropriate base</p>\n\n<p>From ng help build:</p>\n\n<blockquote>\n  <p>--base-href (String) (Default: /)<br>\n  aliases: -bh </p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6515031, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lb3ttpod9OM/AAAAAAAAAAI/AAAAAAAAAFs/hgj-cDNdzYQ/photo.jpg?sz=128", "display_name": "Antoine Nouvene", "link": "https://stackoverflow.com/users/6515031/antoine-nouvene"}, "is_accepted": false, "score": 0, "last_activity_date": 1488393345, "creation_date": 1488393345, "answer_id": 42539404, "question_id": 42402698, "link": "https://stackoverflow.com/questions/42402698/angular-2-ng-build/42539404#42539404", "title": "Angular 2 ng build", "body": "<pre><code>Bonjour,\n\n&lt;div&gt;Ma question concerne ng build d'un projet angular 2 dont voici un exemple :\n</code></pre>\n\n<p>[screen shot of my project][1]</p>\n\n<pre><code>Quand j'ex\u00e9cute la commande ng build, toutes les ressources de mon projet sont transf\u00e9r\u00e9es dans le r\u00e9pertoire \"dist\", donc normale jusque l\u00e0.\nCependant, dans ce dossier, je constate que certains de mes fichiers media et fonts qui se trouvent dans \"assets\", se retrouve en double \u00e0 l\u2019ext\u00e9rieur de ce dossier (Voir copie \u00e9cran ci-dessous).\nPar exemple, le fichier image back.jpg qui est rang\u00e9 dans  ponyracing/dist/assets/img/back.jpg, se retrouve en double \u00e0 l\u2019ext\u00e9rieur dans ponyracing/dist/back.jpg\n\nDe plus, voici la config de angular-cli.json  : \n\n\"styles\": [\n  \"assets/css/main.css\",\n  \"styles.css\",\n  ...\n]\n\nMa question est de savoir si ce probl\u00e8me de fichiers doubles est caus\u00e9 par mon fichier main.css externe que j\u2019ai rang\u00e9 dans ponyracing/dist/assets/css/main.css et que dans ce fichier, le path des images est relatif au dossier ponyracing/dist/assets/img ?\n\nExemple : body { background: url( ../img/back.jpg ) };\n\nMerci pour votre aide.&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2307, "user_id": 3430184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwwTf.jpg?s=128&g=1", "display_name": "totallytotallyamazing", "link": "https://stackoverflow.com/users/3430184/totallytotallyamazing"}, "is_accepted": false, "score": 0, "last_activity_date": 1488905891, "creation_date": 1488905891, "answer_id": 42653964, "question_id": 42402698, "link": "https://stackoverflow.com/questions/42402698/angular-2-ng-build/42653964#42653964", "title": "Angular 2 ng build", "body": "<p>Add a \".\" to your base href, like this:</p>\n\n<pre><code>&lt;base href=\"./\"&gt;\n</code></pre>\n\n<p>Thanks to Admir's comment, this worked for me.</p>\n"}, {"tags": [], "owner": {"reputation": 1865, "user_id": 7756343, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/7e6964980c438556b9746f19cc09e93c?s=128&d=identicon&r=PG&f=1", "display_name": "k11k2", "link": "https://stackoverflow.com/users/7756343/k11k2"}, "is_accepted": false, "score": 0, "last_activity_date": 1499176420, "creation_date": 1499176420, "answer_id": 44907840, "question_id": 42402698, "link": "https://stackoverflow.com/questions/42402698/angular-2-ng-build/44907840#44907840", "title": "Angular 2 ng build", "body": "<p>Use below script in index.html.</p>\n\n<pre><code>&lt;script&gt;\n    document.write('&lt;base href=\"' + String(document.location).replace('index.html','') + '\"&gt;')\n&lt;/script&gt;\n</code></pre>\n\n<p>let me know it works for you or not.</p>\n"}], "owner": {"reputation": 115, "user_id": 7605484, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/33a960cfa4ba6c255c6272cbb8a26ea3?s=128&d=identicon&r=PG&f=1", "display_name": "Artemy Wiese", "link": "https://stackoverflow.com/users/7605484/artemy-wiese"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 570, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1499176420, "creation_date": 1487799214, "question_id": 42402698, "link": "https://stackoverflow.com/questions/42402698/angular-2-ng-build", "title": "Angular 2 ng build", "body": "<p>So i need to create a build which can work without running a server.</p>\n\n<p>Run <code>ng build</code>. Got a <code>dist</code> folder.</p>\n\n<p>When i run <code>index.html</code> im getting an error like </p>\n\n<p><code>GET file:///D:/inline.bundle.js net::ERR_FILE_NOT_FOUND</code></p>\n\n<p>He is searching that <code>js</code> file in the root of my D:// drive, not in a project folder</p>\n\n<p>So okay, i removed a <code>&lt;base href=\"/\"&gt;</code> from my <code>index.html</code> and got this error:</p>\n\n<pre><code>Unhandled Promise rejection: No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document. ; Zone: &lt;root&gt; ; Task: Promise.then ; Value: ZoneAwareError {__zone_symbol__error: Error: No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to\u2026, __zone_symbol__stack: \"Error: No base href set. Please provide a value fo\u2026testing1/dist/vendor.bundle.js:28631:62) [&lt;root&gt;]\", __zone_symbol__message: \"No base href set. Please provide a value for the A\u2026HREF token or add a base element to the document.\"} Error: No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.\nat new PathLocationStrategy (file:///D:/angular/testing1/dist/vendor.bundle.js:66150:19) [angular]\nat provideLocationStrategy (file:///D:/angular/testing1/dist/vendor.bundle.js:62944:9) [angular]\nat AppModuleInjector.get (/AppModule/module.ngfactory.js:164:77) [angular]\nat AppModuleInjector.get (/AppModule/module.ngfactory.js:169:84) [angular]\nat AppModuleInjector.get (/AppModule/module.ngfactory.js:198:151) [angular]\nat AppModuleInjector.createInternal (/AppModule/module.ngfactory.js:241:60) [angular]\nat AppModuleInjector.NgModuleInjector.create (file:///D:/angular/testing1/dist/vendor.bundle.js:56323:76) [angular]\nat NgModuleFactory.create (file:///D:/angular/testing1/dist/vendor.bundle.js:56291:18) [angular]\nat file:///D:/angular/testing1/dist/vendor.bundle.js:38426:61 [angular]\nat Object.onInvoke (file:///D:/angular/testing1/dist/vendor.bundle.js:28762:37) [angular]\nat Zone.webpackJsonp.528.Zone.run (file:///D:/angular/testing1/dist/polyfills.bundle.js:2591:43) [&lt;root&gt; =&gt; angular]\nat NgZone.run (file:///D:/angular/testing1/dist/vendor.bundle.js:28631:62) [&lt;root&gt;]\n</code></pre>\n\n<p>So <code>angular2router</code> doesnt work without <code>&lt;base&gt;</code> and <code>index.html</code> cannot find my local files with <code>&lt;base&gt;</code></p>\n\n<p>How can i solve it ?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 1387, "user_id": 1930482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5960053b3ba9ed93f79bced9dce97c8?s=128&d=identicon&r=PG", "display_name": "Aviad Hadad", "link": "https://stackoverflow.com/users/1930482/aviad-hadad"}, "edited": false, "score": 0, "creation_date": 1487798638, "post_id": 42402115, "comment_id": 71952077, "body": "semi-related: I would really suggest moving away from &quot;internal modules&quot; if possible.  According to your code you already use real modules, so I think it should be possible for you..."}, {"owner": {"reputation": 17694, "user_id": 227436, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ea9b1dccafcdbaa702ee1cf957ff3692?s=128&d=identicon&r=PG", "display_name": "Daryl", "link": "https://stackoverflow.com/users/227436/daryl"}, "reply_to_user": {"reputation": 1387, "user_id": 1930482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5960053b3ba9ed93f79bced9dce97c8?s=128&d=identicon&r=PG", "display_name": "Aviad Hadad", "link": "https://stackoverflow.com/users/1930482/aviad-hadad"}, "edited": false, "score": 0, "creation_date": 1487798705, "post_id": 42402115, "comment_id": 71952121, "body": "@st_huck, you mean how my Test.ts code isn&#39;t wrapped in a module?  My Example.ts is exporting the module, so that would be an external module correct?"}, {"owner": {"reputation": 1387, "user_id": 1930482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5960053b3ba9ed93f79bced9dce97c8?s=128&d=identicon&r=PG", "display_name": "Aviad Hadad", "link": "https://stackoverflow.com/users/1930482/aviad-hadad"}, "edited": false, "score": 0, "creation_date": 1487799583, "post_id": 42402115, "comment_id": 71952589, "body": "I meant I didn&#39;t understand why you use &#39;module&#39; keyword in your Example.ts. Maybe it&#39;s intentional, just wanted to comment if it&#39;s not. Indeed, your example.ts in considered an external module, but what it exports is an internal module. You have no reason to use an internal module, because all your local variables in example.ts will still be private to the file, since it&#39;s an external module. maybe I&#39;m the one missing something here? why not simply <code>export const Example = {...}</code>?"}, {"owner": {"reputation": 17694, "user_id": 227436, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ea9b1dccafcdbaa702ee1cf957ff3692?s=128&d=identicon&r=PG", "display_name": "Daryl", "link": "https://stackoverflow.com/users/227436/daryl"}, "reply_to_user": {"reputation": 1387, "user_id": 1930482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5960053b3ba9ed93f79bced9dce97c8?s=128&d=identicon&r=PG", "display_name": "Aviad Hadad", "link": "https://stackoverflow.com/users/1930482/aviad-hadad"}, "edited": false, "score": 0, "creation_date": 1487799844, "post_id": 42402115, "comment_id": 71952722, "body": "@st_huck I&#39;m using Require JS to load my files, so I have to have everything that i want to import, defined in an module.  My Test.ts in practice would be in a module as well, but it wasn&#39;t important to what i was  doing.  Does that answer the question?  Maybe I need to brush up on internal modules...  I just assumed that was dropping the <code>export</code> keyword from module."}], "answers": [{"tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 3, "last_activity_date": 1487798425, "creation_date": 1487798425, "answer_id": 42402494, "question_id": 42402115, "link": "https://stackoverflow.com/questions/42402115/how-to-type-a-variable-to-a-module-in-typescript/42402494#42402494", "title": "How to type a variable to a module in Typescript?", "body": "<p>Try</p>\n\n<pre><code>let exampleMock = getExampleMock() as typeof Example;\n</code></pre>\n"}], "owner": {"reputation": 17694, "user_id": 227436, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ea9b1dccafcdbaa702ee1cf957ff3692?s=128&d=identicon&r=PG", "display_name": "Daryl", "link": "https://stackoverflow.com/users/227436/daryl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 42402494, "answer_count": 1, "score": 1, "last_activity_date": 1487798425, "creation_date": 1487796956, "question_id": 42402115, "link": "https://stackoverflow.com/questions/42402115/how-to-type-a-variable-to-a-module-in-typescript", "title": "How to type a variable to a module in Typescript?", "body": "<p>Given files</p>\n\n<p>Path\\Example.ts:</p>\n\n<pre><code>export module Example {\n    ... Stuff ...\n}\n</code></pre>\n\n<p>and Test.ts:</p>\n\n<pre><code>import { Example }    from \"Path/Example\";\n\nlet exampleMock = getExampleMock(); // getExampleMock returns an any that matches the type structure of Example\n\nlet e = exampleMock as Example; // Errors: Cannot find name 'Example'\nlet local = Example; // local is typed as Example;\nlocal = exampleMock ; // since exampleMock is an any, compiler allows this call.\n\n... use local with full typing of Example module \n</code></pre>\n\n<p>Is there any way to type a variable to a module, without setting it to the real module first?</p>\n"}, {"tags": ["json", "angular", "typescript"], "comments": [{"owner": {"reputation": 20813, "user_id": 4911842, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Wb3RO.png?s=128&g=1", "display_name": "developer033", "link": "https://stackoverflow.com/users/4911842/developer033"}, "edited": false, "score": 0, "creation_date": 1487796194, "post_id": 42401772, "comment_id": 71950637, "body": "For what are you using the <code>[(ngModel)]</code>? Doesn&#39;t <code>[formControl]</code>/<code>formControlName</code> works fine for you?"}, {"owner": {"reputation": 466, "user_id": 481791, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/59a73eb8562898b52113ed908f9b4686?s=128&d=identicon&r=PG", "display_name": "Ergun Polat", "link": "https://stackoverflow.com/users/481791/ergun-polat"}, "reply_to_user": {"reputation": 20813, "user_id": 4911842, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Wb3RO.png?s=128&g=1", "display_name": "developer033", "link": "https://stackoverflow.com/users/4911842/developer033"}, "edited": false, "score": 0, "creation_date": 1487796847, "post_id": 42401772, "comment_id": 71951036, "body": "@developer033 I am trying to bind the data that I get from http get request to my form input. <code>[formControl]&#47;formControlName</code> doesnt seem to do anything"}, {"owner": {"reputation": 20813, "user_id": 4911842, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Wb3RO.png?s=128&g=1", "display_name": "developer033", "link": "https://stackoverflow.com/users/4911842/developer033"}, "edited": false, "score": 0, "creation_date": 1487797795, "post_id": 42401772, "comment_id": 71951583, "body": "Does this error happens after you modify the <code>name</code> <i>field</i>?"}, {"owner": {"reputation": 466, "user_id": 481791, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/59a73eb8562898b52113ed908f9b4686?s=128&d=identicon&r=PG", "display_name": "Ergun Polat", "link": "https://stackoverflow.com/users/481791/ergun-polat"}, "reply_to_user": {"reputation": 20813, "user_id": 4911842, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Wb3RO.png?s=128&g=1", "display_name": "developer033", "link": "https://stackoverflow.com/users/4911842/developer033"}, "edited": false, "score": 0, "creation_date": 1487797888, "post_id": 42401772, "comment_id": 71951644, "body": "@developer033 this error happens when i load the page which has the form on it."}, {"owner": {"reputation": 20813, "user_id": 4911842, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Wb3RO.png?s=128&g=1", "display_name": "developer033", "link": "https://stackoverflow.com/users/4911842/developer033"}, "edited": false, "score": 0, "creation_date": 1487798021, "post_id": 42401772, "comment_id": 71951701, "body": "Well.. look at your <code>code</code>... you&#39;re attributing each row to the same <code>control</code>. Not sure, but I guess you must use <code>FormArray</code> in this case. Btw, @A.Tim&#39;s answer is correct."}], "answers": [{"comments": [{"owner": {"reputation": 466, "user_id": 481791, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/59a73eb8562898b52113ed908f9b4686?s=128&d=identicon&r=PG", "display_name": "Ergun Polat", "link": "https://stackoverflow.com/users/481791/ergun-polat"}, "edited": false, "score": 0, "creation_date": 1487797563, "post_id": 42402116, "comment_id": 71951450, "body": "Not sure I understand quite what you mean. Could you maybe give me an example? thanks."}, {"owner": {"reputation": 2386, "user_id": 7285325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bc0b4009f4bb657526dfe60e9ec2b24?s=128&d=identicon&r=PG&f=1", "display_name": "A. Tim", "link": "https://stackoverflow.com/users/7285325/a-tim"}, "reply_to_user": {"reputation": 466, "user_id": 481791, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/59a73eb8562898b52113ed908f9b4686?s=128&d=identicon&r=PG", "display_name": "Ergun Polat", "link": "https://stackoverflow.com/users/481791/ergun-polat"}, "edited": false, "score": 0, "creation_date": 1487798123, "post_id": 42402116, "comment_id": 71951759, "body": "Will try to explain... Generated HTML template after applying <code>ngFor</code> is: <code>&lt;form [form]=&quot;form&quot;&gt; &lt;input [formControl]=&quot;id&quot;&gt;&lt;input [formControl]=&quot;name&quot;&gt;&lt;input [formControl]=&quot;percentage&gt;...&lt;input [formControl]=&quot;id&quot;&gt;&lt;input [formControl]=&quot;name&quot;&gt;&lt;input [formControl]=&quot;percentage&gt;...&lt;&#47;form&gt;&quot;</code>. So you have 5 <code>FormControls</code> and 15 inputs. Same <code>FormControl</code> is used in 3 different inputs. You must have NEW <code>FormGroup</code> for each <code>BillType</code> instance. <code>&lt;form [form]=&quot;form2&quot;&gt;&lt;input [formControl]=&quot;name1&quot;&gt;&lt;&#47;form&gt;...&lt;form [form]=&quot;form2&quot;&gt;&lt;input [formControl]=&quot;name2&quot;&gt;&lt;&#47;form&gt;</code>"}, {"owner": {"reputation": 466, "user_id": 481791, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/59a73eb8562898b52113ed908f9b4686?s=128&d=identicon&r=PG", "display_name": "Ergun Polat", "link": "https://stackoverflow.com/users/481791/ergun-polat"}, "edited": false, "score": 0, "creation_date": 1487842673, "post_id": 42402116, "comment_id": 71969775, "body": "I have updated component to the following  `  constructor(private billTypesService: BillTypesDataService, fb: FormBuilder) {     this.billTypesForm = new FormGroup({         id:new FormControl(&#39;&#39;),         name: new FormControl(&#39;&#39;),         percentage: new FormControl(&#39;&#39;),         outOfScope:new FormControl(&#39;&#39;),         active: new FormControl(&#39;&#39;)     }); }` and in my html I have the following `  &lt;input type=&quot;text&quot; *ngFor=&#39;let billType of billTypes&#39;name=&quot;name&quot; placeholder=&quot;Name&quot; [ngModel]=&quot;billType.name&quot; formControlName=&quot;name&quot;/&gt;` But this only outputs the last element in the list"}, {"owner": {"reputation": 466, "user_id": 481791, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/59a73eb8562898b52113ed908f9b4686?s=128&d=identicon&r=PG", "display_name": "Ergun Polat", "link": "https://stackoverflow.com/users/481791/ergun-polat"}, "edited": false, "score": 0, "creation_date": 1487842715, "post_id": 42402116, "comment_id": 71969808, "body": "I am not sure if I am heading the right direction here."}, {"owner": {"reputation": 20813, "user_id": 4911842, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Wb3RO.png?s=128&g=1", "display_name": "developer033", "link": "https://stackoverflow.com/users/4911842/developer033"}, "edited": false, "score": 0, "creation_date": 1487883682, "post_id": 42402116, "comment_id": 71997627, "body": "@A.Tim, shouldn&#39;t it be <code>&lt;bill-item [billType]=&quot;billType&quot;</code> instead of <code>&lt;bill-item bill-type=&quot;billType&quot;</code>?"}, {"owner": {"reputation": 2386, "user_id": 7285325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bc0b4009f4bb657526dfe60e9ec2b24?s=128&d=identicon&r=PG&f=1", "display_name": "A. Tim", "link": "https://stackoverflow.com/users/7285325/a-tim"}, "edited": false, "score": 0, "creation_date": 1487883951, "post_id": 42402116, "comment_id": 71997784, "body": "You are right. Thanks. Forgot that it is angular2, not angularJS"}, {"owner": {"reputation": 466, "user_id": 481791, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/59a73eb8562898b52113ed908f9b4686?s=128&d=identicon&r=PG", "display_name": "Ergun Polat", "link": "https://stackoverflow.com/users/481791/ergun-polat"}, "edited": false, "score": 0, "creation_date": 1487927339, "post_id": 42402116, "comment_id": 72013645, "body": "Thanks guys and @A.Tim thanks for your help, my issue is now resolved."}], "tags": [], "owner": {"reputation": 2386, "user_id": 7285325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bc0b4009f4bb657526dfe60e9ec2b24?s=128&d=identicon&r=PG&f=1", "display_name": "A. Tim", "link": "https://stackoverflow.com/users/7285325/a-tim"}, "is_accepted": true, "score": 2, "last_activity_date": 1487883967, "last_edit_date": 1487883967, "creation_date": 1487796956, "answer_id": 42402116, "question_id": 42401772, "link": "https://stackoverflow.com/questions/42401772/twoway-data-binding-form-exception/42402116#42402116", "title": "Twoway data binding form exception", "body": "<p>I assume, that your form goes crazy. You created 1 instance for each field <code>this.billTypesForm = fb.group({})</code> and then you use <em>same</em> fields for each row. Try to create new formGroup for each row...</p>\n\n<p>Update:</p>\n\n<pre><code>@Component({\n    selector: 'brightbook-bill-types',\n    templateUrl: './bill-types.component.html',\n    styleUrls: ['./bill-types.component.css'],\n})\nexport class BillTypesComponent implements OnInit {\n\n    public billTypes: BillTypes;\n\n    constructor(private billTypesService: BillTypesDataService){}\n\n    ngOnInit() {\n        this.billTypesService.getBillTypes()\n        .subscribe(\n             (res:BillTypes) =&gt; this.billTypes = res,\n             error =&gt;  console.log( &lt;any&gt;error)\n        );\n    }\n}\n\n@Component({\n    selector: 'brightbook-bill-item',\n    templateUrl: './bill-item.component.html'\n})\nexport class BrItem{\n\n    billTypesForm : FormGroup;\n\n    @Input()billType: BillType;\n\n    constructor(fb: FormBuilder){\n        this.billTypesForm = fb.group({\n            'id':[''],\n            'name':[''],\n            'percentage':[''],\n            'outOfScope':[''],\n            'active':['']\n        });\n    }\n}\n</code></pre>\n\n<p>bill-item.component.html</p>\n\n<pre><code>&lt;tr&gt;\n&lt;form [formGroup]='billTypesForm' (ngSubmit)=\"submitForm(billTypesForm.value)\"&gt;\n    &lt;input type=\"hidden\" name=\"id\" [(ngModel)]=\"billType.id\" [formControl]=\"billTypesForm.controls['id']\" /&gt;\n\n        &lt;td class=\"name\"&gt;\n           &lt;div class=\"input-field\"&gt;\n             &lt;input type=\"text\" name=\"name\" placeholder=\"Name\" [(ngModel)]=\"billType.name\" [formControl]=\"billTypesForm.controls['name']\" /&gt;\n          &lt;/div&gt;\n        &lt;/td&gt;\n\n        &lt;td class=\"percentage\"&gt;\n           &lt;div class=\"input-field\"&gt;\n             &lt;input type=\"text\" name=\"percentage\"  [(ngModel)]=\"billType.percentage\" readonly placeholder=\"Tax\" [formControl]=\"billTypesForm.controls['percentage']\" /&gt;\n          &lt;/div&gt;\n        &lt;/td&gt;\n    ...\n&lt;/form&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>bill-types.component.html</p>\n\n<pre><code>&lt;table&gt;\n  &lt;thead&gt;\n  &lt;tr&gt;\n    &lt;th&gt;name&lt;/th&gt;\n    &lt;th&gt;percentage&lt;/th&gt;\n    &lt;th&gt;out of scope&lt;/th&gt;\n    &lt;th&gt;Edit&lt;/th&gt;\n  &lt;/tr&gt;\n  &lt;/thead&gt;\n  &lt;tbody&gt;\n     &lt;bill-item [billType]=\"billType\" *ngFor='let billType of billTypes;'&gt;&lt;/bill-item&gt;\n  &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n"}], "owner": {"reputation": 466, "user_id": 481791, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/59a73eb8562898b52113ed908f9b4686?s=128&d=identicon&r=PG", "display_name": "Ergun Polat", "link": "https://stackoverflow.com/users/481791/ergun-polat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 42402116, "answer_count": 1, "score": 0, "last_activity_date": 1503613339, "creation_date": 1487795844, "last_edit_date": 1503613339, "question_id": 42401772, "link": "https://stackoverflow.com/questions/42401772/twoway-data-binding-form-exception", "title": "Twoway data binding form exception", "body": "<p>Hi I am getting the following error on my form </p>\n\n<pre><code>EXCEPTION: Expression has changed after it was checked. Previous value: 'Advertising'. Current value: 'Contractors'.\n</code></pre>\n\n<p>here is my html form </p>\n\n<pre><code>&lt;form [formGroup]='billTypesForm' (ngSubmit)=\"submitForm(billTypesForm.value)\"&gt;\n\n    &lt;table&gt;\n      &lt;thead&gt;\n      &lt;tr&gt;\n        &lt;th&gt;name&lt;/th&gt;\n        &lt;th&gt;percentage&lt;/th&gt;\n        &lt;th&gt;out of scope&lt;/th&gt;\n        &lt;th&gt;Edit&lt;/th&gt;\n      &lt;/tr&gt;\n      &lt;/thead&gt;\n      &lt;tbody&gt;\n\n      &lt;tr *ngFor='let billType of billTypes; let i = index'&gt;\n\n        &lt;input type=\"hidden\" name=\"id\" [(ngModel)]=\"billType.id\" [formControl]=\"billTypesForm.controls['id']\" /&gt;\n\n        &lt;td class=\"name\"&gt;\n          &lt;div class=\"input-field\"&gt;\n            &lt;input type=\"text\" name=\"name\" placeholder=\"Name\" [(ngModel)]=\"billType.name\" [formControl]=\"billTypesForm.controls['name']\" /&gt;\n          &lt;/div&gt;\n        &lt;/td&gt;\n\n        &lt;td class=\"percentage\"&gt;\n          &lt;div class=\"input-field\"&gt;\n            &lt;input type=\"text\" name=\"percentage\"  [(ngModel)]=\"billType.percentage\" readonly placeholder=\"Tax\" [formControl]=\"billTypesForm.controls['percentage']\" /&gt;\n          &lt;/div&gt;\n        &lt;/td&gt;\n        &lt;td class=\"outOfScope\"&gt;\n          &lt;input type=\"checkbox\" name=\"outOfScope\"  [(ngModel)]=\"billType.outOfScope\"  [formControl]=\"billTypesForm.controls['outOfScope']\" /&gt;\n        &lt;/td&gt;\n\n        &lt;input type=\"hidden\" name=\"active\" [(ngModel)]=\"billType.active\"  [formControl]=\"billTypesForm.controls['active']\" /&gt;\n\n        &lt;td class=\"edit\" onclick=\"deleteBillTypeRow($(this));\"&gt;\n          &lt;i class=\"material-icons\"&gt;mode_edit&lt;/i&gt;\n        &lt;/td&gt;\n\n      &lt;/tr&gt;\n      &lt;/tbody&gt;\n    &lt;/table&gt;\n  &lt;/form&gt;\n</code></pre>\n\n<p>The problem seems to be around [(ngModel)]=\"billType.name\" in the input text boxes </p>\n\n<p>here is my component</p>\n\n<pre><code>    import {Component, OnInit, AfterViewInit, AfterContentChecked, Input} from '@angular/core';\n\nimport {FormBuilder, FormGroup} from '@angular/forms'\nimport {BillTypesDataService} from './bill-types-data.service'\nimport {BillTypes} from \"./bill-types\";\n\n@Component({\n  selector: 'brightbook-bill-types',\n  templateUrl: './bill-types.component.html',\n  styleUrls: ['./bill-types.component.css'],\n})\nexport class BillTypesComponent implements OnInit {\n\n  billTypesForm : FormGroup;\n  public billTypes: BillTypes;\n\n  constructor(private billTypesService: BillTypesDataService, fb: FormBuilder) {\n    this.billTypesForm = fb.group({\n        'id':[''],\n        'name':[''],\n        'percentage':[''],\n        'outOfScope':[''],\n        'active':['']\n\n    });\n  }\n\n  ngOnInit() {\n    this.billTypesService.getBillTypes()\n    .subscribe(\n      (res:BillTypes) =&gt; this.billTypes = res,\n      error =&gt;  console.log( &lt;any&gt;error)\n    );\n  }\n</code></pre>\n\n<p>and here is my service </p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport {Http, Response, Request, RequestMethod} from '@angular/http';\nimport {BillTypes} from './bill-types'\n\nimport {Observable} from \"rxjs\";\n\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/catch';\n\n@Injectable()\nexport class BillTypesDataService {\n\n  private billTypesUrl = '/settings/bill-types/json';\n\n  billTypes: BillTypes[] = [];\n\n  constructor(public http: Http) {\n  }\n\n  getBillTypes() {\n    return this.http.get(this.billTypesUrl)\n      .map(res =&gt; &lt;BillTypes[]&gt; res.json())\n      .catch(this.handleError);\n  }\n\n  private handleError (error: Response) {\n    return Observable.throw('Internal server error');\n  }\n\n}\n</code></pre>\n\n<p>this is the json I am getting back from the end point call </p>\n\n<pre><code>[\n  {\n    \"id\": null,\n    \"name\": \"Advertising\",\n    \"percentage\": 0.5,\n    \"outOfScope\": false,\n    \"active\": true,\n    \"created\": null\n  },\n  {\n    \"id\": null,\n    \"name\": \"Car &amp; Truck Expenses\",\n    \"percentage\": 1,\n    \"outOfScope\": false,\n    \"active\": true,\n    \"created\": null\n  },\n  {\n    \"id\": null,\n    \"name\": \"Contractors\",\n    \"percentage\": 0,\n    \"outOfScope\": false,\n    \"active\": true,\n    \"created\": null\n  }\n]\n</code></pre>\n\n<p>I have a model class that looks like this </p>\n\n<pre><code>export class BillTypes {\n  constructor(\n  public id:string,\n  public name:string,\n  public percentage:number,\n  public outOfScope:boolean,\n  public active:boolean,\n  public dateCreate:string,\n  ){}\n}\n</code></pre>\n\n<p>If anyone can help that would be much appreciated thanks in advance. </p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1487793973, "post_id": 42401160, "comment_id": 71949389, "body": "It&#39;s not very clear what you&#39;re asking. Are you asking about how to implement it or how to &quot;type it&quot;? (or both..).  What is this nameless function? What is it supposed to do?"}, {"owner": {"reputation": 1550, "user_id": 1945844, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0abab320b8888891fa3c00256fca89d2?s=128&d=identicon&r=PG", "display_name": "FremyCompany", "link": "https://stackoverflow.com/users/1945844/fremycompany"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1487794095, "post_id": 42401160, "comment_id": 71949451, "body": "This code there is not valid. Here are the two errors it yields:  - &#39;An interface may only extend a class or another interface.&#39; at: &#39;1,41&#39; - &#39;Property &#39;title&#39; does not exist on type &#39;Clonable&lt;{ title: string; url: string; }&gt;&#39;.&#39; at: &#39;7, 13&#39;  I am looking for an alternative way to achieve this that would work."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1487794400, "post_id": 42401160, "comment_id": 71949645, "body": "Obviously, but what do you have so far? Is the <code>clone</code> and <code>cloneFrom</code> implemented? How would you use this? Please explain better what you have and what you want to do with it"}, {"owner": {"reputation": 1550, "user_id": 1945844, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0abab320b8888891fa3c00256fca89d2?s=128&d=identicon&r=PG", "display_name": "FremyCompany", "link": "https://stackoverflow.com/users/1945844/fremycompany"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1487794618, "post_id": 42401160, "comment_id": 71949781, "body": "Exactly as this code is trying to do. I want Clonable&lt;X&gt; be both a valid X (and therefore have &quot;title&quot; and &quot;url&quot; as properties) but also have the clone() and copyFrom() methods. The actual implementation is autogenerated JSX code so I cannot control that, I just want to typecheck it)."}], "answers": [{"comments": [{"owner": {"reputation": 1550, "user_id": 1945844, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0abab320b8888891fa3c00256fca89d2?s=128&d=identicon&r=PG", "display_name": "FremyCompany", "link": "https://stackoverflow.com/users/1945844/fremycompany"}, "edited": false, "score": 0, "creation_date": 1487795984, "post_id": 42401564, "comment_id": 71950518, "body": "Thanks, you rock!"}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 3, "last_activity_date": 1487795131, "creation_date": 1487795131, "answer_id": 42401564, "question_id": 42401160, "link": "https://stackoverflow.com/questions/42401160/inheriting-an-interface-given-as-generic-argument/42401564#42401564", "title": "Inheriting an interface given as generic argument", "body": "<p>You can use an <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#intersection-types\" rel=\"nofollow noreferrer\">intersection type</a>:</p>\n\n<pre><code>interface Clonable&lt;TAttributes&gt; {\n    clone(): TAttributes\n    copyFrom(input: TAttributes)\n}\n\ntype AttributesClonable&lt;TAttributes&gt; = Clonable&lt;TAttributes&gt; &amp; TAttributes;\n\nfunction doSomething(x : AttributesClonable&lt;{title:string,url:string}&gt;) {\n    alert(x.title); // fine now\n}\n</code></pre>\n\n<p>(<a href=\"https://www.typescriptlang.org/play/#src=interface%20Clonable%3CTAttributes%3E%20%7B%0D%0A%20%20%20%20clone()%3A%20TAttributes%0D%0A%20%20%20%20copyFrom(input%3A%20TAttributes)%0D%0A%7D%0D%0A%0D%0Atype%20AttributesClonable%3CTAttributes%3E%20%3D%20Clonable%3CTAttributes%3E%20%26%20TAttributes%3B%0D%0A%0D%0Afunction%20doSomething(x%20%3A%20AttributesClonable%3C%7Btitle%3Astring%2Curl%3Astring%7D%3E)%20%7B%0D%0A%20%20%20%20alert(x.title)%3B%20%2F%2F%20fine%20now%0D%0A%7D\" rel=\"nofollow noreferrer\">code in playground</a>)</p>\n"}], "owner": {"reputation": 1550, "user_id": 1945844, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0abab320b8888891fa3c00256fca89d2?s=128&d=identicon&r=PG", "display_name": "FremyCompany", "link": "https://stackoverflow.com/users/1945844/fremycompany"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 42401564, "answer_count": 1, "score": 1, "last_activity_date": 1487795131, "creation_date": 1487793766, "last_edit_date": 1487794241, "question_id": 42401160, "link": "https://stackoverflow.com/questions/42401160/inheriting-an-interface-given-as-generic-argument", "title": "Inheriting an interface given as generic argument", "body": "<p>How would you achieve something like this in TypeScript?</p>\n\n<pre><code>interface Clonable&lt;TAttributes&gt; extends TAttributes { // ERROR: TAttributes is not an interface\n    clone(): TAttributes\n    copyFrom(input: TAttributes)\n}\n\nfunction(x : Clonable&lt;{title:string,url:string}&gt;) {\n    alert(x.title) // ERROR: title is not an property of x\n}\n</code></pre>\n\n<p>Background: I am trying to use TypeScript + Mithril + JSX. To have my attributes exposed in auto-completion, I need a property \"attributes\" with the types of my attributes; but I also want my class to have those attributes directly because it is way shorter to write \"this.title\" than \"this.attributes.title\".</p>\n\n<p>Any option here?</p>\n"}, {"tags": ["sockets", "angular", "typescript", "socket.io", "angular2-routing"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1487798789, "post_id": 42401068, "comment_id": 71952167, "body": "What&#39;s your question? If your question is &quot;what causes this behavior in my code?&quot;, don&#39;t you think being able to see the code might help answering the question?"}, {"owner": {"reputation": 956, "user_id": 2086463, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/29poK.jpg?s=128&g=1", "display_name": "ceebreenk", "link": "https://stackoverflow.com/users/2086463/ceebreenk"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1487826083, "post_id": 42401068, "comment_id": 71961339, "body": "My question is why are the ChannelComponents being destroyed right after constructing them in point 3, and then created again straight after? This module is part of a large solution so I tried to show the pieces of relevance."}], "owner": {"reputation": 956, "user_id": 2086463, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/29poK.jpg?s=128&g=1", "display_name": "ceebreenk", "link": "https://stackoverflow.com/users/2086463/ceebreenk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 611, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487830429, "creation_date": 1487793483, "last_edit_date": 1487830429, "question_id": 42401068, "link": "https://stackoverflow.com/questions/42401068/angular2-route-change-not-destroying-components-correctly", "title": "Angular2 route change not destroying components correctly", "body": "<p>I have a communications module with component hierarchy like this - </p>\n\n<pre><code>CommsComponent &gt; ChannelsComponent &gt; [ChannelComponent, ChannelComponent, n]\n</code></pre>\n\n<p><strong>Comms component template:</strong>  </p>\n\n<pre><code>&lt;div class=\"row m-t-md\"&gt;\n  &lt;comms-channels&gt;&lt;/comms-channels&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Channels component template:</strong>  </p>\n\n<pre><code>&lt;template ngFor let-channel [ngForOf]=\"channelService.channels | async\"&gt;\n   &lt;comms-channel [channel]=channel\n     [hidden]=\"channel.name !== selectedChannel?.name\"&gt;\n   &lt;/comms-channel&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p><strong>Channel component template:</strong>  </p>\n\n<pre><code>&lt;ul *ngFor=\"let message of messages\"&gt;\n   {{ message.text }}\n&lt;/ul&gt;  \n</code></pre>\n\n<p><strong>Services:</strong><br>\nChannelService - creates a new socket connection to '/channels' namespace:</p>\n\n<pre><code>subscribeToChannelEvents() {\n    let listenEvents = [ 'channel:connect', 'channel:create', 'channel:list' ];\n    this.socket = new SocketService(this.config.apiEndpoint);\n    this.socket\n      .connect(this.socketName, this.listenEvents)\n      .subscribe((socketEvent: ISocketEvent) =&gt; {\n        this.listen(socketEvent);\n      },\n      error =&gt; console.log(error)\n    );\n  }\n</code></pre>\n\n<p>MessageService - creates a new socket connection to '/messages/{{ channel }}' namespace, <em>for each channel</em>.</p>\n\n<pre><code>subscribeToMessages() {\n      let listenEvents = [ 'message:sent', 'message:list' ];\n      this.socket = new SocketService(this.url);\n      this.socket\n        .connect('messages/' + encodeURIComponent(this.channel.name), listenEvents)\n        .subscribe((socketEvent: ISocketEvent) =&gt; { this.listen(socketEvent); },\n          error =&gt; console.log(error)\n        );\n    }\n</code></pre>\n\n<p><strong>The problem</strong> is that on route change (navigate away from comms URL and then back), the message socket connections are <em>recreated for each channel</em>. The existing socket connections are either not reused correctly <strong>or</strong> not properly destroyed when changing the route. On refresh(F5) all these connections are properly destroyed and the correct number of connections are made again.</p>\n\n<p><strong>Analysis:</strong><br>\nI've logged the events and noticed a random destroy while re-creating the channel components on URL change back to comms. (Between 3 and 4).</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>1. On page load:\r\n\r\n[constructor] ChannelService\r\n[constructor] SocketService create\r\nSocketService Connected to 'channels'\r\n\r\n[constructor] ChannelsComponent\t&lt; CREATED \r\n\r\n[constructor] ChannelComponent - General\r\n[constructor] ChannelComponent - Sales\r\n[constructor] ChannelComponent - Orders\r\n\r\n[constructor] MessageService -  General\r\n[constructor] SocketService created for General\r\n[constructor] MessageService -  Sales\r\n[constructor] SocketService created for Sales\r\n[constructor] MessageService -  Orders\r\n[constructor] SocketService created for Orders\r\n\r\nSocketService Connected to 'messages/General'\r\nSocketService Connected to 'messages/Sales'\r\nSocketService Connected to 'messages/Orders'\r\n\r\n2. On url change away:\r\n\r\n(ngOnDestroy) channel -  General\r\n(ngOnDestroy) channel -  Sales\r\n(ngOnDestroy) channel -  Orders\r\n(ngOnDestroy) ChannelsComponent\t&lt; DESTROYED\r\n\u2026 load new components\r\n\r\n3. On url change back to communications:\r\n\r\n\u2026 destroy previous components\r\n[constructor] ChannelsComponent\t&lt; CREATED AGAIN\r\n\r\n[constructor] ChannelComponent - General\r\n[constructor] ChannelComponent - Sales\r\n[constructor] ChannelComponent - Orders\r\n\r\n[constructor] MessageService -  General\r\n[constructor] SocketService created for General\r\n[constructor] MessageService -  Sales\r\n[constructor] SocketService created for Sales\r\n[constructor] MessageService -  Orders\r\n[constructor] SocketService created for Orders\r\n\r\nWHAT IS DESTROYING THIS?\r\n(ngOnDestroy) channel -  General\r\n(ngOnDestroy) channel -  Sales\r\n(ngOnDestroy) channel -  Orders\r\n(ngOnDestroy)  &gt; no ChannelsComponent? \t&lt; NOT DESTROYED\r\n\r\nCreated again...\r\n\r\n[constructor] ChannelComponent - General\r\n[constructor] ChannelComponent - Sales\r\n[constructor] ChannelComponent - Orders\r\n\r\n[constructor] MessageService -  General\r\n[constructor] SocketService created for General\t#\r\n[constructor] MessageService -  Sales\r\n[constructor] SocketService created for Sales\t#\r\n[constructor] MessageService -  Orders\t\r\n[constructor] SocketService created for Orders\t#\r\n\r\nSocketService Connected to 'messages/General'\r\nSocketService Connected to 'messages/Sales'\r\nSocketService Connected to 'messages/Orders'\r\nSocketService Connected to 'messages/General'\t#\r\nSocketService Connected to 'messages/Sales'\t    #\r\nSocketService Connected to 'messages/Orders\u2019\t#\r\n\r\n4. On url change away:\r\n\r\nREPEAT from no 2.</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "typescript", "webpack"], "answers": [{"tags": [], "owner": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "is_accepted": true, "score": 3, "last_activity_date": 1487792351, "creation_date": 1487792351, "answer_id": 42400746, "question_id": 42400659, "link": "https://stackoverflow.com/questions/42400659/how-to-make-webpack-consume-files/42400746#42400746", "title": "How to make webpack consume files", "body": "<p>Yes, use the <a href=\"https://github.com/TypeStrong/ts-loader\" rel=\"nofollow noreferrer\">typescript loader for webpack.</a></p>\n\n<p>The <a href=\"https://github.com/TypeStrong/ts-loader#configuration\" rel=\"nofollow noreferrer\">Configuration section</a> of that page presents a sample webpack config</p>\n\n<pre><code>module.exports = {\n  entry: './app.ts',\n  output: {\n    filename: 'bundle.js'\n  },\n  resolve: {\n    // Add `.ts` and `.tsx` as a resolvable extension.\n    extensions: ['.ts', '.tsx', '.js'] // note if using webpack 1 you'd also need a '' in the array as well\n  },\n  module: {\n    loaders: [ // loaders will work with webpack 1 or 2; but will be renamed \"rules\" in future\n      // all files with a `.ts` or `.tsx` extension will be handled by `ts-loader`\n      { test: /\\.tsx?$/, loader: 'ts-loader' }\n    ]\n  }\n}\n</code></pre>\n\n<p>As a second real world example, here is the appropriate section from my personal webpack.config.js which also sets up babel and (p)react</p>\n\n<pre><code>module: {\n    rules: [\n        {\n            test: /\\.ts(x?)$/,\n            exclude: /node_modules/,\n            use: [\n                {\n                    loader: 'babel-loader',\n                    query: {\n                        presets: ['es2015']\n                    }\n                },\n                'ts-loader'\n            ]\n        }\n    ]\n},\nresolve: {\n    modules: [\n        __dirname,\n        'node_modules'\n    ],\n    extensions: ['.ts','.tsx','.js'],\n    alias: {\n        'react': 'preact-compat/dist/preact-compat.js',\n        'react-dom': 'preact-compat/dist/preact-compat.js'\n    }\n},\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 572, "user_id": 4931398, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c50c3f4445363d9ea9afd2ff5c804b5?s=128&d=identicon&r=PG&f=1", "display_name": "dominik791", "link": "https://stackoverflow.com/users/4931398/dominik791"}, "is_accepted": false, "score": 1, "last_activity_date": 1487798317, "creation_date": 1487798317, "answer_id": 42402470, "question_id": 42400659, "link": "https://stackoverflow.com/questions/42400659/how-to-make-webpack-consume-files/42402470#42402470", "title": "How to make webpack consume files", "body": "<p>Yes, it's possible. I recommend using <a href=\"https://github.com/s-panferov/awesome-typescript-loader\" rel=\"nofollow noreferrer\">awesome-typescript-loader</a> for this purpose. </p>\n\n<pre><code>const rootDir = path.resolve(__dirname);\nconst path = require('path');\n\nmodule.exports = {\n  entry: {\n    boot: [path.resolve(rootDir, 'src', 'boot')]\n  },\n  output: {\n    filename: 'js/[name].bundle.js',\n    path: path.resolve(rootDir, 'build')\n  },\n  module: {\n    loaders: [\n      {\n        test: /\\.tsx?$/,\n        loader: 'awesome-typescript-loader',\n        exclude: /node_modules/\n      }\n    ]\n  },\n  resolve: {\n    extensions: ['.ts', '.tsx', '.js']\n  }\n};\n</code></pre>\n\n<p>If you use 3rd party modules or libraries, it's also recommended to create separate bundle for vendor files and use <a href=\"https://webpack.js.org/plugins/commons-chunk-plugin/\" rel=\"nofollow noreferrer\">webpack.optimize.CommonsChunkPlugin</a>. Check out configuration of <a href=\"https://github.com/dominik791/webpack-typescript-postcss-universal-starter/blob/master/webpack.dev.js\" rel=\"nofollow noreferrer\">webpack-typescript-postcss-universal-starter</a> to see how you can easily use it. </p>\n"}], "owner": {"reputation": 4639, "user_id": 3986708, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/g0JCF.jpg?s=128&g=1", "display_name": "hgiesel", "link": "https://stackoverflow.com/users/3986708/hgiesel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 42400746, "answer_count": 2, "score": 0, "last_activity_date": 1487798317, "creation_date": 1487792035, "question_id": 42400659, "link": "https://stackoverflow.com/questions/42400659/how-to-make-webpack-consume-files", "title": "How to make webpack consume files", "body": "<p>So I use <code>Typescript</code> with <code>Webpack</code>.</p>\n\n<p><code>tsc</code> compiles everything from <code>.ts</code> to <code>.js</code> and then I want to use <code>webpack</code> to make it usable by the browser. However the problem is that I still have all of these <code>.js</code> files lying around from <code>tsc</code>.\nIs there some way to tell <code>webpack</code>: </p>\n\n<p>\"Pack all these things into a nice bundle, and destroy them after you're done!\"</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 2228, "user_id": 2522162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/645e349de791bc124bdb4d6fd921b3d7?s=128&d=identicon&r=PG", "display_name": "Alma", "link": "https://stackoverflow.com/users/2522162/alma"}, "edited": false, "score": 0, "creation_date": 1487794591, "post_id": 42400593, "comment_id": 71949766, "body": "what is item in mydata.GridData.forEach(item), the Data is exactly like you have mansion."}, {"owner": {"reputation": 5422, "user_id": 431111, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/54bff374f1db6e74794e409ae9b5f7c2?s=128&d=identicon&r=PG", "display_name": "shawty", "link": "https://stackoverflow.com/users/431111/shawty"}, "reply_to_user": {"reputation": 2228, "user_id": 2522162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/645e349de791bc124bdb4d6fd921b3d7?s=128&d=identicon&r=PG", "display_name": "Alma", "link": "https://stackoverflow.com/users/2522162/alma"}, "edited": false, "score": 0, "creation_date": 1487799659, "post_id": 42400593, "comment_id": 71952637, "body": "It&#39;s the current object that your iterating.  You use that as your gateway to access the current element in your loop as my examples clearly show."}, {"owner": {"reputation": 531, "user_id": 1625651, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/e14c270edcdbc3a2d7a867e752a47ef8?s=128&d=identicon&r=PG", "display_name": "Edeph", "link": "https://stackoverflow.com/users/1625651/edeph"}, "edited": false, "score": 0, "creation_date": 1529677149, "post_id": 42400593, "comment_id": 88974560, "body": "This is actually wrong you can&#39;t access it as <code>myData.GridHeader.Id</code>. In the forEach structure you can access each element of the array through the <code>item</code> which holds the current element&#39;s data."}, {"owner": {"reputation": 5422, "user_id": 431111, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/54bff374f1db6e74794e409ae9b5f7c2?s=128&d=identicon&r=PG", "display_name": "shawty", "link": "https://stackoverflow.com/users/431111/shawty"}, "edited": false, "score": 0, "creation_date": 1529687321, "post_id": 42400593, "comment_id": 88980029, "body": "You know what, your absolutely right, if that&#39;s what I was doing.  But if you reread my answer, instead of skipping the detail, and read it carefully, you&#39;ll actually see that your the one who&#39;s wrong.  Downvote yourself by 1 while your there ;-) then try again."}], "tags": [], "owner": {"reputation": 5422, "user_id": 431111, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/54bff374f1db6e74794e409ae9b5f7c2?s=128&d=identicon&r=PG", "display_name": "shawty", "link": "https://stackoverflow.com/users/431111/shawty"}, "is_accepted": true, "score": 1, "last_activity_date": 1487791802, "creation_date": 1487791802, "answer_id": 42400593, "question_id": 42400298, "link": "https://stackoverflow.com/questions/42400298/iterate-json-data-in-javascript-typescript/42400593#42400593", "title": "Iterate Json Data in JavaScript/TypeScript", "body": "<p>Your going to have to explain in more detail what you mean by \"iterate on the data\".</p>\n\n<pre><code>{\n   \"GridHeader\":{\n      \"Id\":\"Id\",\n      \"Name\":\"Full Name\",\n      \"Age\":\"Age\"\n   },\n   \"GridData\":{\n      \"Id\":3,\n      \"name\":\"Vu\",\n      \"age\":34\n   }\n}\n</code></pre>\n\n<p>Does not have any Arrays present in it.</p>\n\n<p>If it did have arrays in it, then I'm going to assume you meant something like this:</p>\n\n<pre><code>\"mydata\":{\n   \"GridHeader\":{\n      \"Id\":\"Id\",\n      \"Name\":\"Full Name\",\n      \"Age\":\"Age\"\n   },\n   \"GridData\":[\n        {\n          \"Id\":3,\n          \"name\":\"Vu\",\n          \"age\":34\n        },\n        {\n          \"Id\":2,\n          \"name\":\"Vu2\",\n          \"age\":33\n        },\n        {\n          \"Id\":1,\n          \"name\":\"Vu1\",\n          \"age\":32\n        }\n   ] \n}\n</code></pre>\n\n<p>If your data looks like that, then you have an array of objects in your grid data, and you would then be able to use something like this:</p>\n\n<pre><code>mydata.GridData.forEach(item){\n  // DO something with\n  // item.Id\n  // item.Name\n  // item.Age\n}\n</code></pre>\n\n<p>Within the loop your code will get called once for each object in the GridData part of your parent and allow you access to each of the 3 properties for each individual item.</p>\n\n<p>However, looking at your data the way it is, then it's just a simple object.</p>\n\n<p>If we imagine you have it in a variable called myData, then you can access it's parts as follows:</p>\n\n<pre><code>myData.GridHeader.Id\nmyData.GridHeader.Name\nmyData.GridHeader.Age\n</code></pre>\n\n<p>To get the header properties.</p>\n\n<pre><code>myData.GridData.Id\nmyData.GridData.Name\nmyData.GridData.Age\n</code></pre>\n\n<p>To get at the properties of the one and only non iterable object you have present.</p>\n"}, {"tags": [], "owner": {"reputation": 732, "user_id": 6688223, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/t4WbO.jpg?s=128&g=1", "display_name": "Owais", "link": "https://stackoverflow.com/users/6688223/owais"}, "is_accepted": false, "score": 8, "last_activity_date": 1487791845, "creation_date": 1487791845, "answer_id": 42400603, "question_id": 42400298, "link": "https://stackoverflow.com/questions/42400298/iterate-json-data-in-javascript-typescript/42400603#42400603", "title": "Iterate Json Data in JavaScript/TypeScript", "body": "<p>Yes, your data is actually a javascript object below:</p>\n\n<pre><code>var header = {\n    \"GridHeader\":{\"Id\":\"Id\",\"Name\":\"Full Name\",\"Age\":\"Age\"},\n  \"GridData\":   {\"Id\":3,\"name\":\"Vu\",\"age\":34}\n  };\n</code></pre>\n\n<p>And you can loop through it like below: </p>\n\n<pre><code>for (var prop in header) {\n        console.log(\"Key:\" + prop);\n        console.log(\"Value:\" + header[prop]);\n    }\n</code></pre>\n\n<p>Please, make it according to your needs. I have give you a clue to iterate it. Thanks.</p>\n"}], "owner": {"reputation": 2228, "user_id": 2522162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/645e349de791bc124bdb4d6fd921b3d7?s=128&d=identicon&r=PG", "display_name": "Alma", "link": "https://stackoverflow.com/users/2522162/alma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12580, "favorite_count": 0, "accepted_answer_id": 42400593, "answer_count": 2, "score": 4, "last_activity_date": 1487791845, "creation_date": 1487790814, "question_id": 42400298, "link": "https://stackoverflow.com/questions/42400298/iterate-json-data-in-javascript-typescript", "title": "Iterate Json Data in JavaScript/TypeScript", "body": "<p>I need to Iterate on this Json Data and add value to the Grid in JavaScript(TypeScript) No Jquery.</p>\n\n<pre><code>{\"GridHeader\":{\"Id\":\"Id\",\"Name\":\"Full Name\",\"Age\":\"Age\"},\"GridData\":{\"Id\":3,\"name\":\"Vu\",\"age\":34}}\n</code></pre>\n\n<p>I have the Add function as follows which add header and Data to the Grid:</p>\n\n<pre><code> let header = '{\"GridHeader\":{\"Id\":\"Id\",\"Name\":\"Full Name\",\"Age\":\"Age\"},\"GridData\":{\"Id\":3,\"name\":\"Vu\",\"age\":34}}';\nlet myheader = JSON.parse(header);\n\n\nfor (var i = 0; ??) {\n   ....\n\n    AddRecord(headerdata, i);\n}\n</code></pre>\n\n<p>This is where I am adding it to the Grid:</p>\n\n<pre><code>function AddRecord(record, n) {\nvar detail = document.getElementById(\"detail\");\nvar header = document.getElementById(\"header\");\n\nif (n == 0) {\n    var newdiv = document.createElement(\"div\");\n    newdiv.innerHTML = \"&lt;div style=''&gt;\" + record.id + \"&lt;/div&gt;\" + \"&lt;div&gt;\" + record.name + \"&lt;/div&gt;\" + \"&lt;div&gt;\" + record.age + \"&lt;/div&gt;\";\n}\n\nvar newdiv = document.createElement(\"div\");\nnewdiv.innerHTML = \"&lt;div style=''&gt;\" + record.id + \"&lt;/div&gt;\" + \"&lt;div&gt;\" + record.name + \"&lt;/div&gt;\" + \"&lt;div&gt;\" + record.age + \"&lt;/div&gt;\";\ndetail.appendChild(newdiv);\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 709, "user_id": 3379586, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0b42bad0ce56a144a5b74a9278f8802b?s=128&d=identicon&r=PG&f=1", "display_name": "Tumen_t", "link": "https://stackoverflow.com/users/3379586/tumen-t"}, "edited": false, "score": 0, "creation_date": 1487789792, "post_id": 42399956, "comment_id": 71946963, "body": "Why cannot you declare this variable in the component instead?"}, {"owner": {"reputation": 1193, "user_id": 2445556, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/xfgtp.jpg?s=128&g=1", "display_name": "David Aguirre", "link": "https://stackoverflow.com/users/2445556/david-aguirre"}, "reply_to_user": {"reputation": 709, "user_id": 3379586, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0b42bad0ce56a144a5b74a9278f8802b?s=128&d=identicon&r=PG&f=1", "display_name": "Tumen_t", "link": "https://stackoverflow.com/users/3379586/tumen-t"}, "edited": false, "score": 0, "creation_date": 1487789829, "post_id": 42399956, "comment_id": 71946988, "body": "It is being rendered by the server."}, {"owner": {"reputation": 709, "user_id": 3379586, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0b42bad0ce56a144a5b74a9278f8802b?s=128&d=identicon&r=PG&f=1", "display_name": "Tumen_t", "link": "https://stackoverflow.com/users/3379586/tumen-t"}, "edited": false, "score": 0, "creation_date": 1487790054, "post_id": 42399956, "comment_id": 71947130, "body": "Look at this article. <a href=\"https://juristr.com/blog/2016/09/ng2-get-window-ref/\" rel=\"nofollow noreferrer\">juristr.com/blog/2016/09/ng2-get-window-ref</a>. You will need to expose the <code>window</code> object and then access the variable through it."}], "answers": [{"comments": [{"owner": {"reputation": 1193, "user_id": 2445556, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/xfgtp.jpg?s=128&g=1", "display_name": "David Aguirre", "link": "https://stackoverflow.com/users/2445556/david-aguirre"}, "edited": false, "score": 0, "creation_date": 1487789977, "post_id": 42400004, "comment_id": 71947083, "body": "Property &#39;DATA&#39; does not exist on type &#39;Window&#39;. is the error I get when I try this."}, {"owner": {"reputation": 15296, "user_id": 3508656, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/I5vvG.jpg?s=128&g=1", "display_name": "Madhu Ranjan", "link": "https://stackoverflow.com/users/3508656/madhu-ranjan"}, "reply_to_user": {"reputation": 1193, "user_id": 2445556, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/xfgtp.jpg?s=128&g=1", "display_name": "David Aguirre", "link": "https://stackoverflow.com/users/2445556/david-aguirre"}, "edited": false, "score": 1, "creation_date": 1487790052, "post_id": 42400004, "comment_id": 71947127, "body": "That is a typescript error, you may add it in your typings file. or else try using <code>window[&quot;DATA&quot;]</code>"}, {"owner": {"reputation": 1193, "user_id": 2445556, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/xfgtp.jpg?s=128&g=1", "display_name": "David Aguirre", "link": "https://stackoverflow.com/users/2445556/david-aguirre"}, "edited": false, "score": 0, "creation_date": 1487790450, "post_id": 42400004, "comment_id": 71947387, "body": "window[&quot;DATA&quot;] worked. I will accept answer when possible. There was an error in a JSON variable declared before the variable I was trying to access that resulted in the &quot;undefined&quot; issue."}], "tags": [], "owner": {"reputation": 15296, "user_id": 3508656, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/I5vvG.jpg?s=128&g=1", "display_name": "Madhu Ranjan", "link": "https://stackoverflow.com/users/3508656/madhu-ranjan"}, "is_accepted": true, "score": 3, "last_activity_date": 1487790258, "last_edit_date": 1487790258, "creation_date": 1487789887, "answer_id": 42400004, "question_id": 42399956, "link": "https://stackoverflow.com/questions/42399956/access-a-global-variable-located-in-the-head-of-index-file-within-angular2-compo/42400004#42400004", "title": "Access a global variable located in the head of Index file within Angular2 component?", "body": "<p>you may try below,</p>\n\n<pre><code>console.log(window.DATA);\nor\nconsole.log(window[\"DATA\"]);\n</code></pre>\n\n<p>to get strongly type add below in <code>typings.d.ts</code>,</p>\n\n<pre><code>declare interface Window {\n    DATA: { foo: string};\n}\n</code></pre>\n\n<p>Hope this helps!!</p>\n"}], "owner": {"reputation": 1193, "user_id": 2445556, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/xfgtp.jpg?s=128&g=1", "display_name": "David Aguirre", "link": "https://stackoverflow.com/users/2445556/david-aguirre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 407, "favorite_count": 0, "accepted_answer_id": 42400004, "answer_count": 1, "score": 0, "last_activity_date": 1487790258, "creation_date": 1487789707, "last_edit_date": 1487789928, "question_id": 42399956, "link": "https://stackoverflow.com/questions/42399956/access-a-global-variable-located-in-the-head-of-index-file-within-angular2-compo", "title": "Access a global variable located in the head of Index file within Angular2 component?", "body": "<p>I am trying to access a variable declared in the head of the Index file from within an Angular2 Component. </p>\n\n<pre><code>&lt;script&gt;\n    var DATA = {\n         foo: 'bar'\n    };\n&lt;/script&gt;\n</code></pre>\n\n<p>I have tried declaring the variable inside the component with </p>\n\n<pre><code>declare var DATA: any;\n</code></pre>\n\n<p>However, accessing the variable inside my constructor remains \"undefined\". I should also mention this variable is being declared by the server. We are utilizing Angular Universal for pre-render. </p>\n"}, {"tags": ["angular", "typescript", "webpack", "webpack-dev-server"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 481508, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/109675bc14552b700de92c5fc306d2d7?s=128&d=identicon&r=PG", "display_name": "user481508", "link": "https://stackoverflow.com/users/481508/user481508"}, "edited": false, "score": 0, "creation_date": 1487842409, "post_id": 42398899, "comment_id": 71969595, "body": "Like @Litz said, watchpack is the culprit - I added &quot;watchpack&quot;: &quot;1.2.1&quot; to my package.json and re-installed. Fixed."}], "tags": [], "owner": {"reputation": 57, "user_id": 481508, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/109675bc14552b700de92c5fc306d2d7?s=128&d=identicon&r=PG", "display_name": "user481508", "link": "https://stackoverflow.com/users/481508/user481508"}, "is_accepted": false, "score": 1, "last_activity_date": 1487786096, "creation_date": 1487786096, "answer_id": 42398899, "question_id": 42398734, "link": "https://stackoverflow.com/questions/42398734/awesome-typescript-loader-error-on-webpack-rebuild/42398899#42398899", "title": "Awesome-TypeScript-Loader error on webpack rebuild", "body": "<p>For what it's worth, I get the same error using ts-loader, but only when testing with karma.</p>\n"}, {"comments": [{"owner": {"reputation": 1440, "user_id": 763398, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/cca0be3f5b0fdd63fe4a0ed329dbb117?s=128&d=identicon&r=PG", "display_name": "Josh", "link": "https://stackoverflow.com/users/763398/josh"}, "edited": false, "score": 0, "creation_date": 1487862819, "post_id": 42400830, "comment_id": 71984455, "body": "thanks! Not sure how anyone is supposed to figure stuff like thus out without help? How did you track this down?"}], "tags": [], "owner": {"reputation": 36, "user_id": 4262577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25045ff8d8a0d70ed48fe768dcaef2fc?s=128&d=identicon&r=PG&f=1", "display_name": "Litz", "link": "https://stackoverflow.com/users/4262577/litz"}, "is_accepted": true, "score": 2, "last_activity_date": 1487792643, "creation_date": 1487792643, "answer_id": 42400830, "question_id": 42398734, "link": "https://stackoverflow.com/questions/42398734/awesome-typescript-loader-error-on-webpack-rebuild/42400830#42400830", "title": "Awesome-TypeScript-Loader error on webpack rebuild", "body": "<p>I am having the same issue and tracked it down to watchpack being updated to version 1.3.0.  Create a shrinkwrap file using \"npm shrinkwrap --dev\" and change the watchpack version to 1.2.1 and re-run npm install. That fixed it for me.</p>\n"}, {"tags": [], "owner": {"reputation": 5503, "user_id": 1624684, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/04b21d9f85011c53930a4370a2e41e9b?s=128&d=identicon&r=PG", "display_name": "Sean Larkin", "link": "https://stackoverflow.com/users/1624684/sean-larkin"}, "is_accepted": false, "score": 0, "last_activity_date": 1487794054, "creation_date": 1487794054, "answer_id": 42401255, "question_id": 42398734, "link": "https://stackoverflow.com/questions/42398734/awesome-typescript-loader-error-on-webpack-rebuild/42401255#42401255", "title": "Awesome-TypeScript-Loader error on webpack rebuild", "body": "<p>This is a defect that was identified from us while deprecating a property on <a href=\"http://github.com/webpack/watchpack\" rel=\"nofollow noreferrer\">watchpack</a>. However we didn't realize that people were relying on the private api endpoints. Therefore, we should have just rolled it back. Keep an eye on the tracking issue: </p>\n\n<p><a href=\"https://github.com/TypeStrong/ts-loader/issues/479\" rel=\"nofollow noreferrer\">https://github.com/TypeStrong/ts-loader/issues/479</a></p>\n"}, {"comments": [{"owner": {"reputation": 1440, "user_id": 763398, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/cca0be3f5b0fdd63fe4a0ed329dbb117?s=128&d=identicon&r=PG", "display_name": "Josh", "link": "https://stackoverflow.com/users/763398/josh"}, "edited": false, "score": 0, "creation_date": 1487862131, "post_id": 42413431, "comment_id": 71983908, "body": "Updated to those versions and same issue."}], "tags": [], "owner": {"reputation": 546, "user_id": 1648429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/539c2455b9f9cc516f1e5f339acdc7c1?s=128&d=identicon&r=PG", "display_name": "Robula", "link": "https://stackoverflow.com/users/1648429/robula"}, "is_accepted": false, "score": 0, "last_activity_date": 1487846598, "creation_date": 1487846598, "answer_id": 42413431, "question_id": 42398734, "link": "https://stackoverflow.com/questions/42398734/awesome-typescript-loader-error-on-webpack-rebuild/42413431#42413431", "title": "Awesome-TypeScript-Loader error on webpack rebuild", "body": "<p>I was experiencing the same issue using webpack 2.</p>\n\n<pre><code>\"awesome-typescript-loader\": \"^3.0.4\",\n\"ts-loader\": \"^2.0.0\",\n\"webpack\": \"^2.2.1\",\n\"webpack-dev-server\": \"^2.4.1\"\n</code></pre>\n\n<p>Updating <code>ts-loader</code> => 2.0.1 and <code>awesome-typescript-loader</code> => 3.0.7 has resolved this issue for me. I can't speak for webpack 1.</p>\n"}], "owner": {"reputation": 1440, "user_id": 763398, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/cca0be3f5b0fdd63fe4a0ed329dbb117?s=128&d=identicon&r=PG", "display_name": "Josh", "link": "https://stackoverflow.com/users/763398/josh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1326, "favorite_count": 0, "accepted_answer_id": 42400830, "answer_count": 4, "score": 2, "last_activity_date": 1487846598, "creation_date": 1487785608, "question_id": 42398734, "link": "https://stackoverflow.com/questions/42398734/awesome-typescript-loader-error-on-webpack-rebuild", "title": "Awesome-TypeScript-Loader error on webpack rebuild", "body": "<p>When I run \"npm start\" webpack build everything successfully. When I then go and change a file and save, it attempt to rebuild and I get the following error</p>\n\n<pre><code>C:\\Users\\me\\Source\\Repos\\PTCCompass\\Web.Angular\\node_modules\\awesome-typescript-loader\\src\\instance.ts:334\n        const changedFiles = Object.keys(mtimes).map(toUnix);\n                                    ^\nTypeError: Cannot convert undefined or null to object\n    at Compiler.&lt;anonymous&gt; (C:\\Users\\me\\Source\\Repos\\PTCCompass\\Web.Angular\\node_modules\\awesome-typescript-loader\\src\\instance.ts:334:37)\n    at next (C:\\Users\\me\\Source\\Repos\\PTCCompass\\Web.Angular\\node_modules\\tapable\\lib\\Tapable.js:140:14)\n    at Compiler.compilerInvalid (C:\\Users\\me\\Source\\Repos\\PTCCompass\\Web.Angular\\node_modules\\webpack-dev-middleware\\lib\\Shared.js:144:5)\n    at next (C:\\Users\\me\\Source\\Repos\\PTCCompass\\Web.Angular\\node_modules\\tapable\\lib\\Tapable.js:140:14)\n    at Compiler.compiler.plugin (C:\\Users\\me\\Source\\Repos\\PTCCompass\\Web.Angular\\node_modules\\webpack\\lib\\CachePlugin.js:32:5)\n    at next (C:\\Users\\me\\Source\\Repos\\PTCCompass\\Web.Angular\\node_modules\\tapable\\lib\\Tapable.js:140:14)\n    at Compiler.&lt;anonymous&gt; (C:\\Users\\me\\Source\\Repos\\PTCCompass\\Web.Angular\\node_modules\\awesome-typescript-loader\\src\\watch-mode.ts:12:13)\n    at Compiler.applyPluginsAsyncSeries (C:\\Users\\me\\Source\\Repos\\PTCCompass\\Web.Angular\\node_modules\\tapable\\lib\\Tapable.js:142:13)\n    at Watching._go (C:\\Users\\me\\Source\\Repos\\PTCCompass\\Web.Angular\\node_modules\\webpack\\lib\\Compiler.js:43:16)\n    at Watching.invalidate (C:\\Users\\me\\Source\\Repos\\PTCCompass\\Web.Angular\\node_modules\\webpack\\lib\\Compiler.js:121:8)\n    at Watching.&lt;anonymous&gt; (C:\\Users\\me\\Source\\Repos\\PTCCompass\\Web.Angular\\node_modules\\webpack\\lib\\Compiler.js:106:8)\n    at EventEmitter.watcher.once (C:\\Users\\me\\Source\\Repos\\PTCCompass\\Web.Angular\\node_modules\\webpack\\lib\\node\\NodeWatchFileSystem.js:44:4)\n    at EventEmitter.g (events.js:291:16)\n    at emitTwo (events.js:106:13)\n    at EventEmitter.emit (events.js:191:7)\n    at EventEmitter._onTimeout (C:\\Users\\me\\Source\\Repos\\PTCCompass\\Web.Angular\\node_modules\\watchpack\\lib\\watchpack.js:139:7)\n    at ontimeout (timers.js:365:14)\n    at tryOnTimeout (timers.js:237:5)\n    at Timer.listOnTimeout (timers.js:207:5)\n</code></pre>\n\n<p>Here is my package.json</p>\n\n<pre><code>  \"dependencies\": {\n    \"@angular/common\": \"2.4.6\",\n    \"@angular/compiler\": \"2.4.6\",\n    \"@angular/core\": \"2.4.6\",\n    \"@angular/forms\": \"2.4.6\",\n    \"@angular/http\": \"2.4.6\",\n    \"@angular/material\": \"2.0.0-beta.1\",\n    \"@angular/platform-browser\": \"2.4.6\",\n    \"@angular/platform-browser-dynamic\": \"2.4.6\",\n    \"@angular/platform-server\": \"2.4.6\",\n    \"@angular/router\": \"3.4.6\",\n    \"@angularclass/conventions-loader\": \"^1.0.2\",\n    \"@angularclass/hmr\": \"~1.2.2\",\n    \"@angularclass/hmr-loader\": \"~3.0.2\",\n    \"@vaadin/angular2-polymer\": \"^1.0.0\",\n    \"ag-grid\": \"~8.0.1\",\n    \"ag-grid-enterprise\": \"~8.0.1\",\n    \"ag-grid-ng2\": \"~8.0.0\",\n    \"animate.css\": \"^3.5.2\",\n    \"assets-webpack-plugin\": \"^3.4.0\",\n    \"bootstrap-sass\": \"^3.3.7\",\n    \"bootstrap-select\": \"^1.12.1\",\n    \"bootstrap-tour\": \"^0.11.0\",\n    \"core-js\": \"^2.4.1\",\n    \"font-awesome\": \"^4.7.0\",\n    \"http-server\": \"^0.9.0\",\n    \"icheck\": \"^1.0.2\",\n    \"ie-shim\": \"^0.1.0\",\n    \"jasmine-core\": \"^2.5.2\",\n    \"lz-string\": \"^1.4.4\",\n    \"metismenu\": \"2.0.2\",\n    \"nestable\": \"^0.2.0\",\n    \"ng2-modal\": \"0.0.24\",\n    \"ng2-tag-input\": \"^0.7.9\",\n    \"pace\": \"0.0.4\",\n    \"pace-progress\": \"^1.0.2\",\n    \"primeng\": \"^1.1.4\",\n    \"reflect-metadata\": \"^0.1.9\",\n    \"rxjs\": \"~5.1.0\",\n    \"summernote\": \"^0.8.2\",\n    \"zone.js\": \"0.7.4\"\n  },\n  \"devDependencies\": {\n    \"@angular/compiler-cli\": \"~2.4.6\",\n    \"@types/hammerjs\": \"^2.0.33\",\n    \"@types/jasmine\": \"2.5.41\",\n    \"@types/node\": \"^6.0.38\",\n    \"@types/selenium-webdriver\": \"2.53.38\",\n    \"@types/source-map\": \"^0.5.0\",\n    \"@types/uglify-js\": \"^2.0.27\",\n    \"@types/webpack\": \"^2.0.0\",\n    \"angular-router-loader\": \"^0.4.0\",\n    \"angular2-template-loader\": \"^0.6.0\",\n    \"assets-webpack-plugin\": \"^3.4.0\",\n    \"awesome-typescript-loader\": \"~3.0.6\",\n    \"codelyzer\": \"~2.0.0-beta.4\",\n    \"copy-webpack-plugin\": \"^4.0.0\",\n    \"css-loader\": \"^0.26.0\",\n    \"exports-loader\": \"^0.6.3\",\n    \"expose-loader\": \"^0.7.1\",\n    \"extract-text-webpack-plugin\": \"^1.0.1\",\n    \"file-loader\": \"^0.9.0\",\n    \"gh-pages\": \"^0.12.0\",\n    \"html-webpack-plugin\": \"^2.21.0\",\n    \"imports-loader\": \"^0.7.0\",\n    \"istanbul-instrumenter-loader\": \"1.2.0\",\n    \"jasmine-core\": \"^2.5.2\",\n    \"json-loader\": \"^0.5.4\",\n    \"karma\": \"^1.2.0\",\n    \"karma-chrome-launcher\": \"^2.0.0\",\n    \"karma-coverage\": \"^1.1.1\",\n    \"karma-jasmine\": \"^1.0.2\",\n    \"karma-mocha-reporter\": \"^2.0.0\",\n    \"karma-remap-coverage\": \"^0.1.4\",\n    \"karma-sourcemap-loader\": \"^0.3.7\",\n    \"karma-webpack\": \"1.8.1\",\n    \"ngc-webpack\": \"^1.0.2\",\n    \"node-sass\": \"^4.1.1\",\n    \"npm-run-all\": \"^4.0.0\",\n    \"parse5\": \"^3.0.1\",\n    \"protractor\": \"^4.0.10\",\n    \"raw-loader\": \"0.5.1\",\n    \"rimraf\": \"~2.5.4\",\n    \"sass-loader\": \"^4.1.1\",\n    \"script-ext-html-webpack-plugin\": \"^1.3.2\",\n    \"source-map-loader\": \"^0.1.5\",\n    \"string-replace-loader\": \"1.0.5\",\n    \"style-loader\": \"^0.13.1\",\n    \"to-string-loader\": \"^1.1.4\",\n    \"ts-helpers\": \"1.1.2\",\n    \"ts-node\": \"^2.0.0\",\n    \"tslint\": \"4.2.0\",\n    \"tslint-loader\": \"^3.3.0\",\n    \"typedoc\": \"^0.5.3\",\n    \"typescript\": \"2.0.10\",\n    \"url-loader\": \"^0.5.7\",\n    \"v8-lazy-parse-webpack-plugin\": \"^0.3.0\",\n    \"webpack\": \"2.2.1\",\n    \"webpack-dev-middleware\": \"^1.10.0\",\n    \"webpack-dev-server\": \"2.4.1\",\n    \"webpack-dll-bundles-plugin\": \"^1.0.0-beta.5\",\n    \"webpack-md5-hash\": \"^0.0.5\",\n    \"webpack-merge\": \"3.0.0\"\n  },\n</code></pre>\n\n<p>The change that started this was reverting angular back to 2.4.6 from 2.4.7. On 2.4.7 I was getting an error about Token is null, so reverted back to 2.4.6 which fixed that, but now every time I save a file my webpack server crashes. Any ideas?</p>\n"}, {"tags": ["html", "css", "angular", "typescript", "ionic2"], "answers": [{"tags": [], "owner": {"reputation": 1767, "user_id": 7314014, "user_type": "registered", "accept_rate": 61, "profile_image": "https://lh3.googleusercontent.com/-MDvLb9YeZSM/AAAAAAAAAAI/AAAAAAAAEHY/J-wpokd4oo0/photo.jpg?sz=128", "display_name": "Ivan Lencina", "link": "https://stackoverflow.com/users/7314014/ivan-lencina"}, "is_accepted": false, "score": 1, "last_activity_date": 1487786369, "creation_date": 1487786369, "answer_id": 42398982, "question_id": 42398523, "link": "https://stackoverflow.com/questions/42398523/click-different-icons-into-a-div-that-it-already-have-a-click-event/42398982#42398982", "title": "Click different icons into a div that it already have a click event", "body": "<p>I solved it:</p>\n\n<pre><code>&lt;ion-list&gt;\n        &lt;div class=\"audioContainer\" *ngFor=\"let audio of audios\"&gt;\n            &lt;div class=\"audioItem\" ion-item (click)=\"tryToPlay(audio)\"&gt;\n                &lt;img id=\"leftIcon\" src=\"img/audio-magenta@300x.svg\"&gt;\n                &lt;h3&gt;{{ audio.name }}&lt;/h3&gt;\n            &lt;/div&gt;\n            &lt;div *ngIf=\"audio.downloaded\"&gt;\n                &lt;img class=\"downloadIcon\" src=\"img/download-onclick@300x.svg\" (click)=\"clicked(audio)\"&gt;\n            &lt;/div&gt;\n            &lt;div *ngIf=\"!audio.downloaded\"&gt;\n                &lt;img class=\"downloadIcon\" src=\"img/download@300x.svg\" (click)=\"clicked(audio)\"&gt;\n            &lt;/div&gt;\n            &lt;div id=\"play\" *ngIf=\"!audio.locked\"&gt;\n                &lt;img id=\"arrowIcon\" src=\"img/play@300x.svg\" (click)=\"tryToPlay(audio)\"&gt;\n            &lt;/div&gt;\n            &lt;div *ngIf=\"audio.locked\"&gt;\n                &lt;img id=\"lockIcon\" src=\"img/ui-lock100.png\" (click)=\"tryToPlay(audio)\"&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n&lt;/ion-list&gt;\n</code></pre>\n\n<p>Css:</p>\n\n<pre><code>.audioContainer {\n    position: relative;\n}\n\nion-list .audioItem {\n    position: relative;\n    color: #fff !important;\n    margin-bottom: .1em !important;\n    padding-top: .5em !important;\n    padding-bottom: .5em !important;\n}\n\nion-list .audioItem img#leftIcon {\n    width: 9% !important;\n    float: left;\n    margin-right: 0;\n}\n\nion-list img#arrowIcon {\n    position: absolute;\n    right: 4%;\n    bottom: 22%;\n    width: 10%;\n}\nion-list img#lockIcon {\n    position: absolute;\n    right: 1.3em;\n    bottom: 1.6em;\n    width: 3%;\n}\n\nion-list img.downloadIcon {\n    position: absolute;\n    width: 10%;\n    right: 15%;\n    bottom: 22%;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1767, "user_id": 7314014, "user_type": "registered", "accept_rate": 61, "profile_image": "https://lh3.googleusercontent.com/-MDvLb9YeZSM/AAAAAAAAAAI/AAAAAAAAEHY/J-wpokd4oo0/photo.jpg?sz=128", "display_name": "Ivan Lencina", "link": "https://stackoverflow.com/users/7314014/ivan-lencina"}, "edited": false, "score": 1, "creation_date": 1488223760, "post_id": 42454660, "comment_id": 72127523, "body": "I didn&#39;t know about it. I solved it by applying relative and absolute positions with css, something much more farfetched, as I said in my own answer below ... but I think your way to solve it is much better, thank you very much !!"}, {"owner": {"reputation": 41555, "user_id": 3915438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ef58d4da96105d5c0880ee70c37756?s=128&d=identicon&r=PG&f=1", "display_name": "sebaferreras", "link": "https://stackoverflow.com/users/3915438/sebaferreras"}, "reply_to_user": {"reputation": 1767, "user_id": 7314014, "user_type": "registered", "accept_rate": 61, "profile_image": "https://lh3.googleusercontent.com/-MDvLb9YeZSM/AAAAAAAAAAI/AAAAAAAAEHY/J-wpokd4oo0/photo.jpg?sz=128", "display_name": "Ivan Lencina", "link": "https://stackoverflow.com/users/7314014/ivan-lencina"}, "edited": false, "score": 0, "creation_date": 1488227382, "post_id": 42454660, "comment_id": 72129502, "body": "Glad to hear that! :)"}], "tags": [], "owner": {"reputation": 41555, "user_id": 3915438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ef58d4da96105d5c0880ee70c37756?s=128&d=identicon&r=PG&f=1", "display_name": "sebaferreras", "link": "https://stackoverflow.com/users/3915438/sebaferreras"}, "is_accepted": true, "score": 2, "last_activity_date": 1488017580, "creation_date": 1488017580, "answer_id": 42454660, "question_id": 42398523, "link": "https://stackoverflow.com/questions/42398523/click-different-icons-into-a-div-that-it-already-have-a-click-event/42454660#42454660", "title": "Click different icons into a div that it already have a click event", "body": "<p>You could also solve this issue by using <code>event.stopPropagation();</code>.</p>\n\n<p>Please take a look at <a href=\"https://plnkr.co/edit/aVKzdS?p=preview\" rel=\"nofollow noreferrer\">this plunker</a>.</p>\n\n<p>like you can see there, you can also send the <code>$event</code> object to both methods</p>\n\n<pre><code>&lt;ion-list&gt;\n    &lt;ion-item *ngFor=\"let item of items\" (click)=\"open($event, item)\"&gt;\n        {{ item }}\n        &lt;ion-icon (click)=\"download($event, item)\" item-right name=\"download\"&gt;&lt;/ion-icon&gt;\n    &lt;/ion-item&gt;\n&lt;/ion-list&gt;\n</code></pre>\n\n<p>And then use that information to stop the propagation of the event, so only the right method will be executed</p>\n\n<pre><code>public open(event, item) {\n    event.stopPropagation();\n    alert('Open ' + item);\n  }\n\n  public download(event, item) {\n    event.stopPropagation();\n    alert('Download ' + item);\n  }\n</code></pre>\n"}], "owner": {"reputation": 1767, "user_id": 7314014, "user_type": "registered", "accept_rate": 61, "profile_image": "https://lh3.googleusercontent.com/-MDvLb9YeZSM/AAAAAAAAAAI/AAAAAAAAEHY/J-wpokd4oo0/photo.jpg?sz=128", "display_name": "Ivan Lencina", "link": "https://stackoverflow.com/users/7314014/ivan-lencina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "accepted_answer_id": 42454660, "answer_count": 2, "score": 1, "last_activity_date": 1488017580, "creation_date": 1487784972, "last_edit_date": 1487849982, "question_id": 42398523, "link": "https://stackoverflow.com/questions/42398523/click-different-icons-into-a-div-that-it-already-have-a-click-event", "title": "Click different icons into a div that it already have a click event", "body": "<p>I have a problem with a clickable div.</p>\n\n<p>It's an Ionic 2 audio application. And I have a list of divs with different icons into them. </p>\n\n<p>More exactly, each div contains two icons that can be clicked, one to download the audio and another to play it.</p>\n\n<p>I need to click on each icon, perform the appropriate behaviour for each of them, but in turn, when clicking on any other part of the containing div, it must have the same behaviour as the play button, so that it plays the audio.</p>\n\n<p>The problem is that if I attach the event click to the parent div, this cancels me the other events of the children icons. So when clicking on the download or play icon, it always plays the audio, because I'm really clicking on the parent div.</p>\n\n<p>This is my code:</p>\n\n<pre><code>&lt;div class=\"audioItem\" ion-item *ngFor=\"let audio of audios\" (click)=\"tryToPlay(audio)\"&gt;\n            &lt;img id=\"leftIcon\" src=\"img/audio-magenta@300x.svg\"&gt;\n            &lt;h3&gt;{{ audio.name }}&lt;/h3&gt;\n            &lt;div *ngIf=\"audio.downloaded\"&gt;\n                &lt;img class=\"downloadIcon\" src=\"img/download-onclick@300x.svg\" (click)=\"clicked(audio)\"&gt;\n            &lt;/div&gt;\n            &lt;div *ngIf=\"!audio.downloaded\"&gt;\n                &lt;img class=\"downloadIcon\" src=\"img/download@300x.svg\" (click)=\"clicked(audio)\"&gt;\n            &lt;/div&gt;\n            &lt;div id=\"play\" *ngIf=\"!audio.locked\"&gt;\n                &lt;img id=\"arrowIcon\" src=\"img/play@300x.svg\" (click)=\"tryToPlay(audio)\"&gt;\n            &lt;/div&gt;\n            &lt;div *ngIf=\"audio.locked\"&gt;\n                &lt;img id=\"lockIcon\" src=\"img/ui-lock100.png\" (click)=\"tryToPlay(audio)\"&gt;\n            &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Note that the clicked() method is only for test something, here it will be any other \"download()\" method. The important here is to know how to allow clicking the children icons.</p>\n"}, {"tags": ["visual-studio", "angular", "typescript", "webpack"], "answers": [{"tags": [], "owner": {"reputation": 1047, "user_id": 4704908, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/10203649995879167/picture?type=large", "display_name": "Anton Pegov", "link": "https://stackoverflow.com/users/4704908/anton-pegov"}, "is_accepted": false, "score": 0, "last_activity_date": 1507886205, "last_edit_date": 1507886205, "creation_date": 1507808372, "answer_id": 46708652, "question_id": 42398389, "link": "https://stackoverflow.com/questions/42398389/what-is-a-visual-studio-typescript-virtual-project-and-how-can-i-get-it-out-of/46708652#46708652", "title": "What is a Visual Studio TypeScript Virtual Project? And how can I get it out of my way if I&#39;m compiling externally?", "body": "<p>Adding to <strong>tsconfig.json</strong> next option helped me:</p>\n\n<pre><code>\"compilerOptions\": {\n   \"watch\": true,\n    ...\n</code></pre>\n\n<p>And don't forget to add</p>\n\n<pre><code>&lt;TypeScriptCompileBlocked&gt;true&lt;/TypeScriptCompileBlocked&gt;\n</code></pre>\n\n<p>to any <code>&lt;PropertyGroup&gt;</code> your project file.</p>\n"}], "owner": {"reputation": 405, "user_id": 4114387, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/ZYoKM.png?s=128&g=1", "display_name": "Jim Barrett", "link": "https://stackoverflow.com/users/4114387/jim-barrett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1018, "favorite_count": 0, "answer_count": 1, "score": 7, "last_activity_date": 1507886205, "creation_date": 1487784511, "last_edit_date": 1503636745, "question_id": 42398389, "link": "https://stackoverflow.com/questions/42398389/what-is-a-visual-studio-typescript-virtual-project-and-how-can-i-get-it-out-of", "title": "What is a Visual Studio TypeScript Virtual Project? And how can I get it out of my way if I&#39;m compiling externally?", "body": "<p>The first part of this question is the most important. There are a lot of stack questions around Visual Studio and TypeScript and \"TypeScript Virtual Projects\" but I have found nothing that explains what TypeScript Virtual Projects are, what they do for me, and what to do when they are \"in the way\". I have never found any official documentation on this from Microsoft so it would be great if someone from that team or close to the team could respond. \"TypeScript Virtual Projects\" have remained in VS 2017 and I am seeing the same problems as in VS 2015.</p>\n\n<p>Second part of the question...I am trying to use Visual Studio 2015 with an Angular 2 and TypeScript app but I am using Webpack as an external TS compiler and build.  For the most part it works but every now and then the TypeScript Virtual Projects gives errors in the output window and in the code even though I can successfully compile. Most of them are not being able to find the @angular/core imports etc. What is confusing is that the TS Virtual Project sometimes catches real errors also.  So do I need Virtual Project for intellisense and compile checking? </p>\n\n<p>My current state is that I am doing 2 compiles to try to keep TypeScript Virtual Project happy, even thought sometimes it still complains. The first build is using tsc as part of VS build but then I do my normal Webpack build with SourceMaps for debugging. This seems to work 90% of the time but the other 10% when TS Virtual Project gets in the way is so frustrating and since they are still in Visual Studio 2017 it's important to know what's going on.</p>\n\n<p>The ultimate goal is to be able to use Visual Studio as my editor and debugger (with all it's great features) with intellisense and compile checking but to use an external TypeScript build like Webpack for building/bundling etc.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["node.js", "typescript", "namespaces", "global", "declaration"], "answers": [{"comments": [{"owner": {"reputation": 15907, "user_id": 40480, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/232138cd777883a8f6412864f098a62a?s=128&d=identicon&r=PG", "display_name": "rfgamaral", "link": "https://stackoverflow.com/users/40480/rfgamaral"}, "edited": false, "score": 0, "creation_date": 1487795070, "post_id": 42401047, "comment_id": 71949996, "body": "Having that <code>namespace Twilio { Device= {} }</code> on my test files is not working for me. I get a <code>Cannot find name &#39;Device&#39;.</code>."}, {"owner": {"reputation": 1751, "user_id": 156166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/663120570/picture?type=large", "display_name": "Rich Seviora", "link": "https://stackoverflow.com/users/156166/rich-seviora"}, "reply_to_user": {"reputation": 15907, "user_id": 40480, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/232138cd777883a8f6412864f098a62a?s=128&d=identicon&r=PG", "display_name": "rfgamaral", "link": "https://stackoverflow.com/users/40480/rfgamaral"}, "edited": false, "score": 0, "creation_date": 1487795459, "post_id": 42401047, "comment_id": 71950207, "body": "@RicardoAmaral can you try referencing the declaration file via the triple-slash directive? If that doesn&#39;t work, can you include your <code>tsconfig.json</code> file(s) and project structure?"}, {"owner": {"reputation": 15907, "user_id": 40480, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/232138cd777883a8f6412864f098a62a?s=128&d=identicon&r=PG", "display_name": "rfgamaral", "link": "https://stackoverflow.com/users/40480/rfgamaral"}, "edited": false, "score": 0, "creation_date": 1487795488, "post_id": 42401047, "comment_id": 71950221, "body": "I believe you&#39;re missing something important here... Look at this: <a href=\"http://stackoverflow.com/a/40460395/40480\">stackoverflow.com/a/40460395/40480</a> In my tests I currently have something like <code>global.Twilio = { Device: { ready: () =&gt; {} } };</code> wrapped in a <code>beforeAll</code> call. And this is working fine, I&#39;m successfully mocking <code>Twilio.Device</code> and my tests pass. If I remove that, my tests fail. In other words, I need to use <code>global.Twilio</code> and not <code>Twilio</code> directly."}, {"owner": {"reputation": 1751, "user_id": 156166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/663120570/picture?type=large", "display_name": "Rich Seviora", "link": "https://stackoverflow.com/users/156166/rich-seviora"}, "reply_to_user": {"reputation": 15907, "user_id": 40480, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/232138cd777883a8f6412864f098a62a?s=128&d=identicon&r=PG", "display_name": "rfgamaral", "link": "https://stackoverflow.com/users/40480/rfgamaral"}, "edited": false, "score": 0, "creation_date": 1487795677, "post_id": 42401047, "comment_id": 71950342, "body": "@RicardoAmaral can you provide a complete code sample? I have <a href=\"https://gist.github.com/richseviora/7479889d210014b57d2d75da2b78ec16\" rel=\"nofollow noreferrer\">this gist</a> and the test executes successfully for me."}, {"owner": {"reputation": 15907, "user_id": 40480, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/232138cd777883a8f6412864f098a62a?s=128&d=identicon&r=PG", "display_name": "rfgamaral", "link": "https://stackoverflow.com/users/40480/rfgamaral"}, "edited": false, "score": 0, "creation_date": 1487795704, "post_id": 42401047, "comment_id": 71950356, "body": "In all honesty I&#39;d like to avoid using the triple-slash directive. It feels like a hack. And I believe the TypeScript team did something on the latest TypeScript versions so that we don&#39;t need these annoying triple-slash directives."}, {"owner": {"reputation": 1751, "user_id": 156166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/663120570/picture?type=large", "display_name": "Rich Seviora", "link": "https://stackoverflow.com/users/156166/rich-seviora"}, "reply_to_user": {"reputation": 15907, "user_id": 40480, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/232138cd777883a8f6412864f098a62a?s=128&d=identicon&r=PG", "display_name": "rfgamaral", "link": "https://stackoverflow.com/users/40480/rfgamaral"}, "edited": false, "score": 0, "creation_date": 1487795959, "post_id": 42401047, "comment_id": 71950506, "body": "I agree, but I wanted to make sure the issue isn&#39;t a type resolution issue. I&#39;ve amended my answer with an example extension of the Global interface, which I think might be the way to go. I suspect the problem might be that the test context isn&#39;t the same context that your classes are executing in."}, {"owner": {"reputation": 15907, "user_id": 40480, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/232138cd777883a8f6412864f098a62a?s=128&d=identicon&r=PG", "display_name": "rfgamaral", "link": "https://stackoverflow.com/users/40480/rfgamaral"}, "edited": false, "score": 0, "creation_date": 1487795981, "post_id": 42401047, "comment_id": 71950516, "body": "You don&#39;t really have the actual Twilio library, it&#39;s only a declaration, that&#39;s why it works. Forget about the Twilio namespace declaration we&#39;ve created before for a second. Twilio.js is a library that exposes a global variable as <code>Twilio</code>. Inside my Jest tests, this variable is <b>accessible through <code>global.Twilio</code> only</b>."}, {"owner": {"reputation": 1751, "user_id": 156166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/663120570/picture?type=large", "display_name": "Rich Seviora", "link": "https://stackoverflow.com/users/156166/rich-seviora"}, "reply_to_user": {"reputation": 15907, "user_id": 40480, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/232138cd777883a8f6412864f098a62a?s=128&d=identicon&r=PG", "display_name": "rfgamaral", "link": "https://stackoverflow.com/users/40480/rfgamaral"}, "edited": false, "score": 0, "creation_date": 1487795995, "post_id": 42401047, "comment_id": 71950523, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/136394/discussion-between-richard-seviora-and-ricardo-amaral\">continue this discussion in chat</a>."}, {"owner": {"reputation": 15907, "user_id": 40480, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/232138cd777883a8f6412864f098a62a?s=128&d=identicon&r=PG", "display_name": "rfgamaral", "link": "https://stackoverflow.com/users/40480/rfgamaral"}, "edited": false, "score": 0, "creation_date": 1487796007, "post_id": 42401047, "comment_id": 71950533, "body": "&quot;I suspect the problem might be that the test context isn&#39;t the same context that your classes are executing in.&quot; Yeah, this is what I was trying to explain above. Sorry I wasn&#39;t more helpful."}], "tags": [], "owner": {"reputation": 1751, "user_id": 156166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/663120570/picture?type=large", "display_name": "Rich Seviora", "link": "https://stackoverflow.com/users/156166/rich-seviora"}, "is_accepted": true, "score": 1, "last_activity_date": 1487798190, "last_edit_date": 1487798190, "creation_date": 1487793416, "answer_id": 42401047, "question_id": 42398170, "link": "https://stackoverflow.com/questions/42398170/how-to-declare-global-nodejs-variables-within-my-ambient-declaration-file/42401047#42401047", "title": "How to declare global NodeJS variables within my ambient declaration file?", "body": "<p>This is definitely an interesting question. The problem is that the ambient file asserts that <code>Twilio.Device</code> exists, and so anything like a global declaration needs to take that into account.</p>\n\n<p>It turned out being rather simple to solve. There was no need to extend the declaration file or create another one. Given the declaration file you provided, all you need to do include the following in your test setup:</p>\n\n<pre><code>namespace Twilio {\n    Device = {\n        setup: function () { },\n        ready: function () { },\n        offline: function () { },\n        incoming: function () { },\n        connect: function (params): Twilio.Connection { return null },\n        error: function () { }\n    }\n}\n</code></pre>\n\n<p>Because we declared <code>let Twilio.Device : IDevice</code>, we also permitted consumers to assign <code>Twilio.Device</code> at later date. This would not be possible if we declared <code>const Twilio.Device : IDevice</code>. </p>\n\n<p>However, we couldn't just say:</p>\n\n<pre><code>Twilio.Device = { ... }\n</code></pre>\n\n<p>Because doing so required the <code>Twilio</code> namespace to exist, which is something that we had asserted was the case when we said <code>declare namespace Twilio</code>. This Typescript would compile successfully, but the compiled JS took the existence of the ambient <code>Twilio</code> variable as granted and therefore failed.</p>\n\n<p>TypeScript also doesn't allow you to assign values to an existing namespace so we couldn't do:</p>\n\n<pre><code>const Twilio = {}; // Or let for that matter.\nTwilio.Device = {...}\n</code></pre>\n\n<p>However, since TypeScript namespace declarations merge in the compiled JS, wrapping the assignment in the Twilio namespace would instantiate <code>Twilio</code> (if it doesn't already exist) and then assign <code>Device</code>, while all respecting the type rules stated in the ambient file.</p>\n\n<pre><code>namespace Twilio {\n    Device = {\n        // All properties need to be stubbed.\n        setup: function () { },\n        ready: function () { },\n        offline: function () { },\n        incoming: function () { },\n        connect: function (params): Twilio.Connection { return null },\n        error: function () { }\n    }\n}\n\nbeforeEach(() =&gt; {\n    // Properties/mocks will need to be reset as the namespace declaration only runs once.\n    Twilio.Device.setup = () =&gt; {return null;};\n})\n\ntest('adds stuff', () =&gt; {\n    expect(Twilio.Device.setup(null, null)).toBeNull()\n})\n</code></pre>\n\n<p>This all assumes that your test files have access to the declaration file. If not you'll need to include it through <code>tsconfig.json</code>, or reference it via <code>/// &lt;references path=\"wherever\"/&gt;</code> directive.</p>\n\n<h2>Edit 1</h2>\n\n<p>Corrected <code>beforeEach</code> in the example above to return null. Otherwise test would fail.</p>\n\n<h2>Edit 2 - Extending NodeJS Global Declaration</h2>\n\n<p>I thought I should add why extending the <code>NodeJS.Global</code> interface isn't necessary.</p>\n\n<p>When we make an ambient declaration, it is assumed to exist as part of the global context (and any child closures). Therefore, we don't need to extend <code>Global</code> with <code>Twilio</code> because <code>Twilio</code> is assumed to exist in the immediate context as well. </p>\n\n<p>HOWEVER, this particular declaration method means that <code>global.Twilio</code> does not exist. I can declare:</p>\n\n<pre><code>namespace NodeJS {\n    interface Global {\n        Twilio : {\n            Device : Twilio.IDevice;\n        };\n    }\n}\n</code></pre>\n\n<p>And this will provide type inference for the Device property of the <code>NodeJS.Global.Twilio</code> object, but there isn't a way to \"share\" namespaces in the same way we can types.</p>\n\n<h2>EDIT 3 - Global Extension IS Necessary After All</h2>\n\n<p>After conversation, we came to the conclusion that extending <code>NodeJS.Global</code> is necessary because Jest does not share context between tests and the classes they're being executed in.</p>\n\n<p>To allow us to modify the <code>NodeJS.Global</code> interface, we append the following to the definition file:</p>\n\n<pre><code>declare namespace NodeJS {\n    interface Global {\n        Twilio: { Device: Partial&lt;Twilio.IDevice&gt; }\n    }\n}\n</code></pre>\n\n<p>This then enables:</p>\n\n<pre><code>beforeEach(() =&gt; {\n    global.Twilio =\n        {\n            Device: {\n                setup: function () { return null },\n                ready: function () { },\n                connect: function (params): Twilio.Connection { return null },\n                error: function () { }\n            }\n        };\n})\n</code></pre>\n\n<p>While this means that the <code>NodeJS.Global.Twilio</code> will not be identical to the <code>Twilio</code> namespace, it does permit to operate identically for the purpose of constructing tests.</p>\n"}], "owner": {"reputation": 15907, "user_id": 40480, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/232138cd777883a8f6412864f098a62a?s=128&d=identicon&r=PG", "display_name": "rfgamaral", "link": "https://stackoverflow.com/users/40480/rfgamaral"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1489, "favorite_count": 0, "accepted_answer_id": 42401047, "answer_count": 1, "score": 0, "last_activity_date": 1487799396, "creation_date": 1487783903, "last_edit_date": 1495540032, "question_id": 42398170, "link": "https://stackoverflow.com/questions/42398170/how-to-declare-global-nodejs-variables-within-my-ambient-declaration-file", "title": "How to declare global NodeJS variables within my ambient declaration file?", "body": "<p>This is a follow-up question to <a href=\"https://stackoverflow.com/q/42317942/40480\">this one</a>.</p>\n\n<p>Given the answer on that question, let's say I have the following ambient declaration file:</p>\n\n<pre><code>declare namespace Twilio {\n    interface IDevice {\n        ready(handler: Function): void;\n    }\n\n    let Device: IDevice;\n}\n</code></pre>\n\n<p>This is working nicely on my application <code>.ts</code> files, <code>Twilio.Device.ready</code> is fully recognized. But I have my unit tests running with Jest and AFAIK, they run on a NodeJS environment.</p>\n\n<p>As an over simplified mock on my tests I have this (which are <code>.ts</code> files too):</p>\n\n<pre><code>global.Twilio = {\n     Device: {\n         ready: () =&gt; {},\n         offline: () =&gt; {},\n         error: () =&gt; {},\n     }\n};\n</code></pre>\n\n<p>But this <code>Twilio</code> instance is not recognized. I can fix that by adding something like below to a <code>.d.ts</code> file:</p>\n\n<pre><code>declare global {\n    namespace NodeJS {\n        interface Global {\n            Twilio: any;\n        }\n    }\n}\n\nexport = {}; // This is needed otherwise `declare global` won't work\n</code></pre>\n\n<p>However, I can't have this piece of code on the same file as the <code>declare namespace Twilio</code> I first mentioned. They need to be on separate files, otherwise <code>global.Twilio</code> on my tests will be recognized but <code>Twilio.Device</code> on my code won't.</p>\n\n<p>So my question is, how can I get both instances of <code>Twilio</code> to be recognized in the app code and in the tests code?</p>\n\n<p>And as a bonus question, it would be nice if I could use the <code>Twilio</code> namespace declaration, somehow, as the type of the NodeJS <code>Twilio</code> global instead of <code>any</code>.</p>\n\n<h1><strong>EDIT:</strong></h1>\n\n<p>After a nice chat with Richard Seviora, discussing all my issues, I ended up with the following <code>twilio.d.ts</code> file for my project:</p>\n\n<pre><code>/**\n * Namespace declaration for the Twilio.js library global variable.\n */\ndeclare namespace Twilio {\n\n    type DeviceCallback = (device : IDevice) =&gt; void;\n    type ConnectionCallback = (connection : IConnection) =&gt; void;\n    type ErrorCallback = (error : IError) =&gt; void;\n\n    interface IConnection {\n        parameters: IConnectionParameters;\n    }\n\n    interface IConnectionParameters {\n        From?: string;\n        To?: string;\n    }\n\n    interface IDevice {\n        cancel(handler: ConnectionCallback): void;\n        connect(params: IConnectionParameters): IConnection;\n        disconnect(handler: ConnectionCallback): void;\n        error(handler: ErrorCallback): void;\n        incoming(handler: ConnectionCallback): void;\n        offline(handler: DeviceCallback): void;\n        ready(handler: DeviceCallback): void;\n        setup(token: string, params: ISetupParameters): void;\n    }\n\n    interface IError {\n        message?: string;\n        code?: number;\n        connection?: IConnection;\n    }\n\n    interface ISetupParameters {\n        closeProtection: boolean;\n    }\n\n    let Device: IDevice;\n\n}\n\n/**\n * Augment the Node.js namespace with a global declaration for the Twilio.js library.\n */\ndeclare namespace NodeJS {\n\n    interface Global {\n        Twilio: {\n            // Partial type intended for test execution only!\n            Device: Partial&lt;Twilio.IDevice&gt;;\n        };\n    }\n\n}\n</code></pre>\n\n<p>Hopefully others find this question and Richard's answer below insightful (since the declarations documentation is kinda lacking).</p>\n\n<p>Thanks again Richard for all your assistance.</p>\n"}, {"tags": ["css", "angular", "typescript", "responsive", "image-gallery"], "comments": [{"owner": {"reputation": 6857, "user_id": 755666, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ea86c464319f512785c5b6e4e64c7f8e?s=128&d=identicon&r=PG", "display_name": "Steven Scott", "link": "https://stackoverflow.com/users/755666/steven-scott"}, "edited": false, "score": 0, "creation_date": 1487785404, "post_id": 42398116, "comment_id": 71944285, "body": "What have you tried?  You tend to get responses on StackOverflow  by showing what you have tried, and then getting assistance in the parts that do not work, as opposed to simply asking someone how to do it."}, {"owner": {"reputation": 6857, "user_id": 755666, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ea86c464319f512785c5b6e4e64c7f8e?s=128&d=identicon&r=PG", "display_name": "Steven Scott", "link": "https://stackoverflow.com/users/755666/steven-scott"}, "edited": false, "score": 0, "creation_date": 1487861561, "post_id": 42398116, "comment_id": 71983448, "body": "That should help you get some answers.  I am not an expert on this, and not sure how to do it directly, but have you looked at something like Flexbox (the grid layout) to try to help?"}, {"owner": {"reputation": 955, "user_id": 1058278, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/ef04e33a6c612515629366083fbe512f?s=128&d=identicon&r=PG", "display_name": "Androidian", "link": "https://stackoverflow.com/users/1058278/androidian"}, "reply_to_user": {"reputation": 6857, "user_id": 755666, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ea86c464319f512785c5b6e4e64c7f8e?s=128&d=identicon&r=PG", "display_name": "Steven Scott", "link": "https://stackoverflow.com/users/755666/steven-scott"}, "edited": false, "score": 0, "creation_date": 1487869776, "post_id": 42398116, "comment_id": 71989645, "body": "Yes and it&#39;s not easy to realize what I&#39;m looking for but I&#39;m trying to adapt angular2-image-gallery pluging to my case, see the answer for details."}, {"owner": {"reputation": 14733, "user_id": 2589202, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/KBJx4.jpg?s=128&g=1", "display_name": "crthompson", "link": "https://stackoverflow.com/users/2589202/crthompson"}, "edited": false, "score": 0, "creation_date": 1492639983, "post_id": 42398116, "comment_id": 74068594, "body": "Did you ever get an answer for this?"}], "owner": {"reputation": 955, "user_id": 1058278, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/ef04e33a6c612515629366083fbe512f?s=128&d=identicon&r=PG", "display_name": "Androidian", "link": "https://stackoverflow.com/users/1058278/androidian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 769, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487870172, "creation_date": 1487783713, "last_edit_date": 1487870172, "question_id": 42398116, "link": "https://stackoverflow.com/questions/42398116/angular-2-wrapping-responsive-horizontal-gallery", "title": "Angular 2 wrapping responsive horizontal gallery", "body": "<p>I'm trying to implement an horizontal gallery that wraps images based on their dimension.\nThe effect I would like to achieve is like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/m6rGd.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m6rGd.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Is there any way to do this?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I'll add something that I tried.</p>\n\n<p><strong>1.</strong> I've used <a href=\"https://github.com/angular/flex-layout\" rel=\"nofollow noreferrer\">angular/flex-layout</a> with the <em>fxLayoutWrap</em> functionality. This wraps images correctly but I've not been able to create an horizontal scrolling gallery. Moreover the images dimension is a bit static and I need a dynamic wrapping:</p>\n\n<pre><code>&lt;div fxFlex=\"80%\" fxLayout=\"row\" fxLayoutWrap&gt;\n    &lt;div fxFlex=\"30%\" style=\"background:#ff0000\"&gt;IMAGE 1&lt;/div&gt;\n    &lt;div fxFlex=\"45%\" style=\"background:#ff6a00\"&gt;IMAGE 2&lt;/div&gt;\n    &lt;div fxFlex=\"25%\" style=\"background:#b200ff\"&gt;IMAGE 3&lt;/div&gt;\n    &lt;div fxFlex=\"33%\" style=\"background:#ffd800\"&gt;IMAGE 4&lt;/div&gt;\n    &lt;div fxFlex=\"67%\" style=\"background:#ff006e\"&gt;IMAGE 5&lt;/div&gt;\n    &lt;div fxFlex=\"50%\" style=\"background:#808080\"&gt;IMAGE 6&lt;/div&gt;\n    &lt;div fxFlex style=\"background:#00ff90\"&gt;IMAGE 7&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>2.</strong> I tried to use custom <em>css</em> and <em>html</em>. In this case I'm able to build an horizontal scrolling gallery but I'm not able to wrap images dinamically and I have to set width and height manually.</p>\n\n<p><em>Html code:</em></p>\n\n<pre><code>&lt;div class=\"h-scroll-container\"&gt;\n    &lt;div class=\"h-scroll\"&gt;\n        &lt;div style=\"display:inline-block; width:15em; height:100%\"&gt;\n            &lt;div class=\"thumb\" style=\"background-image:url(images/project_1.jpg); width:100%; height:50%;\"&gt;&lt;/div&gt;\n            &lt;div class=\"thumb\" style=\"background-image:url(images/project_2.jpg); width:100%; height:50%;\"&gt;&lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"thumb\" style=\"background-image:url(images/project_3.jpg); display:inline-block; width:15em; height:100%;\"&gt;&lt;/div&gt;\n\n        &lt;div style=\"display:inline-block; width:30em; height:100%;\"&gt;\n            &lt;div style=\"width:100%; height:50%;\"&gt;\n                &lt;div class=\"thumb\" style=\"background-image:url(images/project_4.jpg); display:inline-block; width:50%; height:100%;\"&gt;&lt;/div&gt;\n                &lt;div class=\"thumb\" style=\"background-image:url(images/project_5.jpg); display:inline-block; width:50%; height:100%;\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"thumb\" style=\"background-image:url(images/project_6.jpg); display:inline-block; width:100%; height:50%;\"&gt;&lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"thumb\" style=\"background-image:url(images/project_7.jpg); display:inline-block; width:15em; height:100%;\"&gt;&lt;/div&gt;\n\n        &lt;div style=\"display:inline-block; width:30em; height:100%\"&gt;\n            &lt;div class=\"thumb\" style=\"background-image:url(images/project_8.jpg); width:100%; height:50%;\"&gt;&lt;/div&gt;\n            &lt;div class=\"thumb\" style=\"background-image:url(images/project_9.jpg); width:50%; height:50%;\"&gt;&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;     \n</code></pre>\n\n<p><em>CSS code</em>:</p>\n\n<pre><code>.h-scroll-container {\n    width: 100%;\n    height: 100%;\n    overflow-x: auto!important;\n    overflow-y: hidden!important;\n}\n\n.h-scroll {\n    height: calc(100% - .5em);\n    white-space: nowrap;\n}\n\n.thumb {\n    background-position:center; \n    background-size:cover; \n}\n</code></pre>\n\n<p><strong>3.</strong> I'm now trying to adapt <a href=\"https://github.com/BenjaminBrandmeier/angular2-image-gallery\" rel=\"nofollow noreferrer\">this</a> to my case. Here the code:</p>\n\n<pre><code>import { Component, ViewChild, ViewChildren, ElementRef, HostListener, Input, SimpleChanges, QueryList, ChangeDetectorRef, OnChanges, AfterViewInit } from \"@angular/core\";\nimport { slideToLeft } from \"../../router.animations\";\n\nvar $: JQueryStatic = require('jquery');\nimport 'jquery-mousewheel';\nrequire(\"jquery-mousewheel\")($);\nrequire('malihu-custom-scrollbar-plugin')($);\n\nexport class Image {\n    name: string;\n    path: string;\n    width: number;\n    height: number;\n\n    galleryImageLoaded: boolean;\n    srcAfterFocus: string;\n}\n\n@Component({\n    selector: \"projects\",\n    template: require(\"./projects.component.html\"),\n    styles: [require(\"./projects.component.css\")]\n})\nexport class ProjectsComponent implements OnChanges, AfterViewInit {\n    @Input('flexBorderSize') providedImageMargin: number = 10\n    @Input('flexImageSize') providedImageSize: number = 10\n\n    @ViewChild('galleryContainer') galleryContainer: ElementRef\n    @ViewChildren('imageElement') imageElements: QueryList&lt;any&gt;\n\n    @HostListener('window:scroll', ['$event']) triggerCycle(event) {\n        this.scaleGallery()\n    }\n\n    @HostListener('window:resize', ['$event']) windowResize(event) {\n        this.render()\n    }\n\n    private images: Image[] = [];\n    private gallery: any[] = [];\n\n    constructor(private ChangeDetectorRef: ChangeDetectorRef) {\n    }\n\n    ngAfterViewInit() {\n        this.fetchDataAndRender()\n    }\n\n    public ngOnChanges(changes: SimpleChanges) {\n        // input params changed\n        this.render()\n    }\n\n    private fetchDataAndRender() {\n    var images: Image[] = [\n        {\n            name: \"project_1.jpg\",\n            path: \"images/projects/project_1.jpg\",\n            width: 521,\n            height: 375,\n            galleryImageLoaded: false,\n            srcAfterFocus: ''\n        },\n        {\n            name: \"project_2.jpg\",\n            path: \"images/projects/project_2.jpg\",\n            width: 534,\n            height: 375,\n            galleryImageLoaded: false,\n            srcAfterFocus: ''\n        },\n        {\n            name: \"project_3.jpg\",\n            path: \"images/projects/project_3.jpg\",\n            width: 220,\n            height: 375,\n            galleryImageLoaded: false,\n            srcAfterFocus: ''\n        },\n        {\n            name: \"project_4.jpg\",\n            path: \"images/projects/project_4.jpg\",\n            width: 443,\n            height: 375,\n            galleryImageLoaded: false,\n            srcAfterFocus: ''\n        },\n        {\n            name: \"project_5.jpg\",\n            path: \"images/projects/project_5.jpg\",\n            width: 374,\n            height: 375,\n            galleryImageLoaded: false,\n            srcAfterFocus: ''\n        },\n        {\n            name: \"project_6.jpg\",\n            path: \"images/projects/project_6.jpg\",\n            width: 1052,\n            height: 375,\n            galleryImageLoaded: false,\n            srcAfterFocus: ''\n        },\n        {\n            name: \"project_7.jpg\",\n            path: \"images/projects/project_7.jpg\",\n            width: 235,\n            height: 375,\n            galleryImageLoaded: false,\n            srcAfterFocus: ''\n        },\n        {\n            name: \"project_8.jpg\",\n            path: \"images/projects/project_8.jpg\",\n            width: 570,\n            height: 375,\n            galleryImageLoaded: false,\n            srcAfterFocus: ''\n        },\n        {\n            name: \"project_9.jpg\",\n            path: \"images/projects/project_9.jpg\",\n            width: 328,\n            height: 375,\n            galleryImageLoaded: false,\n            srcAfterFocus: ''\n        },\n        {\n            name: \"project_10.jpg\",\n            path: \"images/projects/project_10.jpg\",\n            width: 521,\n            height: 375,\n            galleryImageLoaded: false,\n            srcAfterFocus: ''\n        },\n        {\n            name: \"project_11.jpg\",\n            path: \"images/projects/project_11.jpg\",\n            width: 534,\n            height: 375,\n            galleryImageLoaded: false,\n            srcAfterFocus: ''\n        },\n        {\n            name: \"project_12.jpg\",\n            path: \"images/projects/project_12.jpg\",\n            width: 220,\n            height: 375,\n            galleryImageLoaded: false,\n            srcAfterFocus: ''\n        },\n        {\n            name: \"project_13.jpg\",\n            path: \"images/projects/project_13.jpg\",\n            width: 235,\n            height: 375,\n            galleryImageLoaded: false,\n            srcAfterFocus: ''\n        },\n        {\n            name: \"project_14.jpg\",\n            path: \"images/projects/project_14.jpg\",\n            width: 570,\n            height: 375,\n            galleryImageLoaded: false,\n            srcAfterFocus: ''\n        },\n    ]\n\n    this.images = images;\n    //this.ImageService.updateImages(this.images)\n\n    // twice, single leads to different strange browser behaviour\n    this.render();\n    this.render();\n}\n\nprivate render() {\n    this.gallery = []\n\n    let tempRow = [this.images[0]]\n    let rowIndex = 0\n    let i = 0\n\n    for (i; i &lt; this.images.length; i++) {\n        while (this.images[i + 1] &amp;&amp; this.shouldAddCandidate(tempRow, this.images[i + 1])) {\n            i++\n        }\n        if (this.images[i + 1]) {\n            tempRow.pop()\n        }\n        this.gallery[rowIndex++] = tempRow\n\n        tempRow = [this.images[i + 1]]\n    }\n\n    this.scaleGallery()\n}\n\nprivate shouldAddCandidate(imgRow: Image[], candidate: Image): boolean {\n    let oldDifference = this.calcIdealHeight() - this.calcRowHeight(imgRow)\n    imgRow.push(candidate)\n    let newDifference = this.calcIdealHeight() - this.calcRowHeight(imgRow)\n\n    return Math.abs(oldDifference) &gt; Math.abs(newDifference) || (this.getGalleryWidth() + 1000) &gt; this.calcOriginalRowWidth(imgRow)\n}\n\nprivate calcRowHeight(imgRow: Image[]) {\n    let originalRowWidth = this.calcOriginalRowWidth(imgRow)\n\n    let ratio = (this.getGalleryWidth() - (imgRow.length - 1) * this.calcImageMargin()) / originalRowWidth\n    let rowHeight = imgRow[0].height * ratio\n\n    return rowHeight\n}\n\nprivate calcImageMargin() {\n    let galleryWidth = this.getGalleryWidth()\n    let ratio = galleryWidth / 1920\n    return Math.round(Math.max(1, this.providedImageMargin * ratio))\n}\n\nprivate calcOriginalRowWidth(imgRow: Image[]) {\n    let originalRowWidth = 0\n    imgRow.forEach((img) =&gt; {\n        let individualRatio = this.calcIdealHeight() / img.height\n        img.width = img.width * individualRatio\n        img.height = this.calcIdealHeight()\n        originalRowWidth += img.width\n    })\n\n    return originalRowWidth\n}\n\nprivate calcIdealHeight() {\n    return this.getGalleryWidth() / (80 / this.providedImageSize) + 100\n}\n\nprivate getGalleryWidth() {\n    if (this.galleryContainer.nativeElement.clientWidth === 0) {\n        // IE11\n        return this.galleryContainer.nativeElement.scrollWidth\n    }\n    return this.galleryContainer.nativeElement.clientWidth\n}\n\nprivate scaleGallery() {\n    let imageCounter = 0\n    let maximumGalleryImageHeight = 0\n\n    this.gallery.forEach((imgRow: Image[]) =&gt; {\n        let originalRowWidth = this.calcOriginalRowWidth(imgRow)\n\n        if (imgRow !== this.gallery[this.gallery.length - 1]) {\n            let ratio = (this.getGalleryWidth() - (imgRow.length - 1) * this.calcImageMargin()) / originalRowWidth\n\n            imgRow.forEach((img) =&gt; {\n                img.width = img.width * ratio\n                img.height = img.height * ratio\n                maximumGalleryImageHeight = Math.max(maximumGalleryImageHeight, img.height)\n                this.checkForAsyncLoading(img, imageCounter++)\n            })\n        }\n        else {\n            imgRow.forEach((img) =&gt; {\n                img.width = img.width\n                img.height = img.height\n                maximumGalleryImageHeight = Math.max(maximumGalleryImageHeight, img.height)\n                this.checkForAsyncLoading(img, imageCounter++)\n            })\n        }\n    })\n\n    //if (maximumGalleryImageHeight &gt; 375) {\n    //    this.minimalQualityCategory = 'preview_xs'\n    //} else {\n    //    this.minimalQualityCategory = 'preview_xxs'\n    //}\n\n    this.ChangeDetectorRef.detectChanges()\n}\n\nprivate checkForAsyncLoading(image: Image, imageCounter: number) {\n    let imageElements = this.imageElements.toArray()\n\n    if (image.galleryImageLoaded ||\n        (imageElements.length &gt; 0 &amp;&amp; this.isScrolledIntoView(imageElements[imageCounter].nativeElement))) {\n        image.galleryImageLoaded = true\n        image.srcAfterFocus = image.path\n    }\n    else {\n        image.srcAfterFocus = ''\n    }\n}\n\nprivate isScrolledIntoView(element) {\n    let elementTop = element.getBoundingClientRect().top\n    let elementBottom = element.getBoundingClientRect().bottom\n\n    return elementTop &lt; window.innerHeight &amp;&amp; elementBottom &gt;= 0 &amp;&amp; (elementBottom &gt; 0 || elementTop &gt; 0)\n}\n}\n</code></pre>\n\n<p>I've quite achieved my objective but I have to set manually the width check inside <em>shouldAddCandidate</em> method and rows are not of the same height. Some suggestions to make this more dynamic ad responsive?</p>\n"}, {"tags": ["unit-testing", "angular", "typescript", "angular-cli"], "answers": [{"comments": [{"owner": {"reputation": 2192, "user_id": 814752, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/57074da821d9593faa4d77536eec1ead?s=128&d=identicon&r=PG", "display_name": "Danny Bullis", "link": "https://stackoverflow.com/users/814752/danny-bullis"}, "edited": false, "score": 2, "creation_date": 1487791313, "post_id": 42399718, "comment_id": 71947876, "body": "That fixed it, thank you! I&#39;ve found an open issue regarding the omission of the <code>entryComponents</code> property in the TestModuleMetadata, <a href=\"https://github.com/angular/angular/issues/10760\" rel=\"nofollow noreferrer\">ComponentFactoryResolver is not aware of components compiled via TestBed</a>"}], "tags": [], "owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "is_accepted": true, "score": 18, "last_activity_date": 1487788917, "creation_date": 1487788917, "answer_id": 42399718, "question_id": 42398059, "link": "https://stackoverflow.com/questions/42398059/angular-2-testmodulemetadata-does-not-have-an-entrycomponents-property/42399718#42399718", "title": "Angular 2 TestModuleMetadata does not have an EntryComponents property", "body": "<p>As far as i know it has not supported yet. As workaround you can create fake module with <code>entryComponent</code> and import it to your testing module</p>\n\n<pre><code>@NgModule({\n  imports: [CommonModule],\n  declarations: [TestDialogComponent],\n  entryComponents: [TestDialogComponent]\n})\nexport class FakeTestDialogModule {}\n</code></pre>\n\n<p>and then</p>\n\n<pre><code>TestBed.configureTestingModule({\n    imports: [FakeTestDialogModule]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11616, "user_id": 6703783, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/af329d320f6609622cc298ccdeb1ace7?s=128&d=identicon&r=PG&f=1", "display_name": "Manu Chadha", "link": "https://stackoverflow.com/users/6703783/manu-chadha"}, "is_accepted": false, "score": 3, "last_activity_date": 1546971771, "creation_date": 1546971771, "answer_id": 54097566, "question_id": 42398059, "link": "https://stackoverflow.com/questions/42398059/angular-2-testmodulemetadata-does-not-have-an-entrycomponents-property/54097566#54097566", "title": "Angular 2 TestModuleMetadata does not have an EntryComponents property", "body": "<p>Check <code>TestBed.overrideModule</code>. Please refer to this discussion \n<a href=\"https://github.com/angular/angular/issues/12079\" rel=\"nofollow noreferrer\">https://github.com/angular/angular/issues/12079</a></p>\n\n<p>I got the error for my <code>DialogBoxComponent</code>. I resolved it as follows</p>\n\n<pre><code>  beforeEach(async(() =&gt; {\n    TestBed.configureTestingModule({\n      declarations: [ NewPracticeQuestionComponent,\n      DialogBoxComponent,\n        ShowErrorsComponent],\n      imports:[ReactiveFormsModule,HttpClientTestingModule],\n      providers:[WebToBackendInterfaceService,HelperService,AuthService]\n    })\n\n    TestBed.overrideModule(BrowserDynamicTestingModule, {\n      set: {\n        entryComponents: [DialogBoxComponent]\n      }\n    })\n    .compileComponents();\n  }));\n</code></pre>\n"}], "owner": {"reputation": 2192, "user_id": 814752, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/57074da821d9593faa4d77536eec1ead?s=128&d=identicon&r=PG", "display_name": "Danny Bullis", "link": "https://stackoverflow.com/users/814752/danny-bullis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5563, "favorite_count": 3, "accepted_answer_id": 42399718, "answer_count": 2, "score": 6, "last_activity_date": 1546971771, "creation_date": 1487783531, "last_edit_date": 1488312671, "question_id": 42398059, "link": "https://stackoverflow.com/questions/42398059/angular-2-testmodulemetadata-does-not-have-an-entrycomponents-property", "title": "Angular 2 TestModuleMetadata does not have an EntryComponents property", "body": "<p>I'm using Angular CLI 1.0.0-beta.32.2 and am writing a unit test for an Angular 2 service, which dynamically creates a Component and inserts it into another Component. </p>\n\n<p>In my unit test I try to create a mock component to test my service, but the output of <code>ng test</code> throws an error, stating my mock Component is specified in the <code>entryComponents</code> property. When I try to add the Component into an <code>entryComponents</code> property of the TestModuleMetadata object, like this: <code>TestBed.createTestingModule({...entryComponents:  [ TestDialogComponent ]...})</code> I see the following error stating the <code>entryComponents</code> property does not exist.</p>\n\n<p><code>Chrome 56.0.2924 (Windows 10 0.0.0) DialogService should create a child component when opening FAILED\nError: No component factory found for TestDialogComponent. Did you add it to @NgModule.entryComponents?\n</code></p>\n\n<p>Looking at the TestModuleMetadata definition shows that the entryComponents property does not exist. So how do I go about dynamically creating a Component in my unit tests in Angular 2 and Jasmine?</p>\n"}, {"tags": ["c#", "asp.net", "typescript", "visual-studio-2015"], "comments": [{"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1487790485, "post_id": 42397814, "comment_id": 71947415, "body": "DNX and TypeScript 1.x? Are you really sure you want to use such old stuffs? Especially DNX is obsolete, when everyone uses .NET Core now. Don&#39;t use that term any more for all sake."}], "answers": [{"comments": [{"owner": {"reputation": 911, "user_id": 4688085, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f9c57f8ea2060cb071305d3f5d38de9b?s=128&d=identicon&r=PG&f=1", "display_name": "Massey", "link": "https://stackoverflow.com/users/4688085/massey"}, "edited": false, "score": 0, "creation_date": 1487801431, "post_id": 42399883, "comment_id": 71953476, "body": "Thanks a lot. Worked like a charm!"}], "tags": [], "owner": {"reputation": 3310, "user_id": 455490, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/5ef9aead4c90820aaaadf8a9c018cc34?s=128&d=identicon&r=PG", "display_name": "rageit", "link": "https://stackoverflow.com/users/455490/rageit"}, "is_accepted": true, "score": 3, "last_activity_date": 1487789493, "last_edit_date": 1592644375, "creation_date": 1487789493, "answer_id": 42399883, "question_id": 42397814, "link": "https://stackoverflow.com/questions/42397814/how-to-setup-typescript-environment-in-visual-studio-2015/42399883#42399883", "title": "How to setup TypeScript environment in Visual Studio 2015", "body": "<p>It's actually pretty straight forward:</p>\n<ol>\n<li>Install TypeScript from Tools -&gt; Extension and Updates</li>\n<li>Add tsconfig.json at the root of the web form project. Refer to <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html\" rel=\"nofollow noreferrer\">this</a> link for more info on the TypeScript configuration file.</li>\n<li>Add TypeScript file (*.ts) to your application</li>\n<li>Add link to the transpiled JavaScript file in your page. You can define where the JavaScript file is created in the tsconfig.json file.</li>\n</ol>\n<p>If you need to use NPM, then your original reference link works just fine.</p>\n"}], "owner": {"reputation": 911, "user_id": 4688085, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f9c57f8ea2060cb071305d3f5d38de9b?s=128&d=identicon&r=PG&f=1", "display_name": "Massey", "link": "https://stackoverflow.com/users/4688085/massey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 700, "favorite_count": 0, "accepted_answer_id": 42399883, "answer_count": 1, "score": 1, "last_activity_date": 1487789493, "creation_date": 1487782896, "question_id": 42397814, "link": "https://stackoverflow.com/questions/42397814/how-to-setup-typescript-environment-in-visual-studio-2015", "title": "How to setup TypeScript environment in Visual Studio 2015", "body": "<p>I am using the community edition Visual Studio 2015. I want to setup the environment to use TypeScript to be used in an asp.net webforms application. I see lots of guidance in doing it using Visual Studio Code but not in Visual Studio. I was following the methods given at <a href=\"http://mobilemancer.com/2015/08/14/getting-started-typescript-1-5-in-visual-studio-2015/\" rel=\"nofollow noreferrer\">http://mobilemancer.com/2015/08/14/getting-started-typescript-1-5-in-visual-studio-2015/</a> However I don't see the option for NPM Configuration file under DNX. I see it only under C#, so probably it is server side while DNX represents client side. I have installed Visual Studio 2015 Update 3 as well as .Net Core 1.0</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1487782609, "post_id": 42397629, "comment_id": 71942380, "body": "This line looks suspect to me: <code>var rowData:any[] = [];</code>. Try removing the <code>var</code>."}, {"owner": {"reputation": 3549, "user_id": 3930193, "user_type": "registered", "profile_image": "https://graph.facebook.com/1153850599/picture?type=large", "display_name": "Steeve Pitis", "link": "https://stackoverflow.com/users/3930193/steeve-pitis"}, "edited": false, "score": 6, "creation_date": 1487782612, "post_id": 42397629, "comment_id": 71942384, "body": "Everything is good, you are just logging your data before the end of the promise. So chrome show you an empty array, but since you expend it the promise is done so chrome fill it."}, {"owner": {"reputation": 824, "user_id": 6484148, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e534993655e5bc6a1566f0f16e2e1404?s=128&d=identicon&r=PG&f=1", "display_name": "skid", "link": "https://stackoverflow.com/users/6484148/skid"}, "edited": false, "score": 0, "creation_date": 1487783172, "post_id": 42397629, "comment_id": 71942801, "body": "i tried removing the var but still getting the same error"}], "answers": [{"comments": [{"owner": {"reputation": 824, "user_id": 6484148, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e534993655e5bc6a1566f0f16e2e1404?s=128&d=identicon&r=PG&f=1", "display_name": "skid", "link": "https://stackoverflow.com/users/6484148/skid"}, "edited": false, "score": 0, "creation_date": 1487785235, "post_id": 42397845, "comment_id": 71944174, "body": "it return the value as i expect but the how to terminate the promise since the code freezes after the return"}, {"owner": {"reputation": 824, "user_id": 6484148, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e534993655e5bc6a1566f0f16e2e1404?s=128&d=identicon&r=PG&f=1", "display_name": "skid", "link": "https://stackoverflow.com/users/6484148/skid"}, "edited": false, "score": 0, "creation_date": 1487788746, "post_id": 42397845, "comment_id": 71946378, "body": "it generate error when i change my code to your new updated, I figured out the problem is with the asyc call that is happening in the code it return the value before it actually have the data"}, {"owner": {"reputation": 824, "user_id": 6484148, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e534993655e5bc6a1566f0f16e2e1404?s=128&d=identicon&r=PG&f=1", "display_name": "skid", "link": "https://stackoverflow.com/users/6484148/skid"}, "edited": false, "score": 1, "creation_date": 1487955810, "post_id": 42397845, "comment_id": 72032284, "body": "i fixed it by making a function call after return statement"}], "tags": [], "owner": {"reputation": 2758, "user_id": 4972822, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/2hjjY.jpg?s=128&g=1", "display_name": "Vishnu Mishra", "link": "https://stackoverflow.com/users/4972822/vishnu-mishra"}, "is_accepted": true, "score": 1, "last_activity_date": 1487872582, "last_edit_date": 1487872582, "creation_date": 1487782973, "answer_id": 42397845, "question_id": 42397629, "link": "https://stackoverflow.com/questions/42397629/array-are-adding-only-in-0th-index/42397845#42397845", "title": "Array are adding only in 0th index", "body": "<blockquote>\n  <p>In the above function you are using DB call which is async and then you are sending the response without waiting for the result.</p>\n</blockquote>\n\n<p>So, In this case, you will get the rowData.length 0.</p>\n\n<p>send the result after the callback response.</p>\n\n<p>try this:</p>\n\n<pre><code>    private createRowData() {\n        return new Promise((resolve, reject) =&gt; {\n            var rowData: any[] = [];\n            this.wakanda.catalog.then(ds =&gt; {\n                ds.Group.query({ select: 'groupName' }).then(op =&gt; {\n                    for (let entity of op['entities']) {\n                        rowData.push({ row: entity.groupName });\n                    }\n                    resolve(rowData); // Send result from here\n                });\n            }).catch(reject);\n        })\n    }\n</code></pre>\n"}], "owner": {"reputation": 824, "user_id": 6484148, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e534993655e5bc6a1566f0f16e2e1404?s=128&d=identicon&r=PG&f=1", "display_name": "skid", "link": "https://stackoverflow.com/users/6484148/skid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 42397845, "answer_count": 1, "score": -1, "last_activity_date": 1487872582, "creation_date": 1487782417, "question_id": 42397629, "link": "https://stackoverflow.com/questions/42397629/array-are-adding-only-in-0th-index", "title": "Array are adding only in 0th index", "body": "<p>I am writing a function in which i need to add the elements into an array.I am getting the data from my database.When add the element into it all the elements are only being added to the Array[0] of the rowData.</p>\n\n<pre><code>private createRowData() {\n        var rowData:any[] = [];\n        this.wakanda.catalog.then(ds =&gt; {\n            ds.Group.query({select : 'groupName'}).then(op =&gt; {\n                for(let entity of op['entities']){\n                    rowData.push(\n                    {row : entity.groupName});\n                }\n            });\n        });\n        return rowData;\n    }\n</code></pre>\n\n<p>My output is like this </p>\n\n<p><a href=\"https://i.stack.imgur.com/jpIVs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jpIVs.png\" alt=\"enter image description here\"></a></p>\n\n<p>I need something like this</p>\n\n<p><a href=\"https://i.stack.imgur.com/Oshnw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Oshnw.png\" alt=\"enter image description here\"></a></p>\n\n<p>How do i solve it </p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["node.js", "typescript", "socket.io", "promise", "es6-promise"], "comments": [{"owner": {"reputation": 7967, "user_id": 4620733, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh6.googleusercontent.com/-ajCsJtIDhCE/AAAAAAAAAAI/AAAAAAAAABU/VDLJ1dSAyvk/photo.jpg?sz=128", "display_name": "George Edwards", "link": "https://stackoverflow.com/users/4620733/george-edwards"}, "reply_to_user": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1487785762, "post_id": 42397485, "comment_id": 71944529, "body": "@KevinB Thanks - I have modified my code, but as you noted, I still have the problem, see my updated code."}, {"owner": {"reputation": 18374, "user_id": 3478010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y4DTM.png?s=128&g=1", "display_name": "Roamer-1888", "link": "https://stackoverflow.com/users/3478010/roamer-1888"}, "edited": false, "score": 0, "creation_date": 1487788509, "post_id": 42397485, "comment_id": 71946257, "body": "At the very least, fix the loop counter issue in <code>registerEndPoints</code> ... <code>for (let i=0; ...)</code> not <code>for (var i=0; ...)</code>."}, {"owner": {"reputation": 7967, "user_id": 4620733, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh6.googleusercontent.com/-ajCsJtIDhCE/AAAAAAAAAAI/AAAAAAAAABU/VDLJ1dSAyvk/photo.jpg?sz=128", "display_name": "George Edwards", "link": "https://stackoverflow.com/users/4620733/george-edwards"}, "reply_to_user": {"reputation": 18374, "user_id": 3478010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y4DTM.png?s=128&g=1", "display_name": "Roamer-1888", "link": "https://stackoverflow.com/users/3478010/roamer-1888"}, "edited": false, "score": 0, "creation_date": 1487790178, "post_id": 42397485, "comment_id": 71947213, "body": "@Roamer-1888 Done! - although am still facing the same issue"}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 1, "creation_date": 1487790620, "post_id": 42397485, "comment_id": 71947503, "body": "so... where is it failing? how is it failing? why is it failing?"}, {"owner": {"reputation": 7967, "user_id": 4620733, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh6.googleusercontent.com/-ajCsJtIDhCE/AAAAAAAAAAI/AAAAAAAAABU/VDLJ1dSAyvk/photo.jpg?sz=128", "display_name": "George Edwards", "link": "https://stackoverflow.com/users/4620733/george-edwards"}, "reply_to_user": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1487790779, "post_id": 42397485, "comment_id": 71947610, "body": "@KevinB I believe the namespace registering logic (first code block) isn&#39;t all being completed within the promise completing, so when the test comes around, the socket hasn&#39;t been configured correctly, so when the test is waiting for the &#39;value&#39; event, it times out"}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1487790910, "post_id": 42397485, "comment_id": 71947667, "body": "is what is waiting for it to complete properly waiting? Are you sure it is actually completing? (your catch will convert a rejected promise to a resolved one)"}, {"owner": {"reputation": 18374, "user_id": 3478010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y4DTM.png?s=128&g=1", "display_name": "Roamer-1888", "link": "https://stackoverflow.com/users/3478010/roamer-1888"}, "edited": false, "score": 0, "creation_date": 1487791022, "post_id": 42397485, "comment_id": 71947716, "body": "In the test, take a look at <code>socket</code>. The inner <code>describe</code> relies on something asynchrounous to have successfully completed before <code>socket</code> becomes available. I&#39;m not sure it&#39;s valid but you could try localizing <code>socket</code> (and <code>server</code>), and moving the inner <code>describe</code> between <code>let socket = ...;</code> and <code>done();</code>."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1487792837, "post_id": 42397485, "comment_id": 71948766, "body": "Why do you even have a <code>complete</code> promise but never wait for it anywhere?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1487792915, "post_id": 42397485, "comment_id": 71948820, "body": "(Hint: you <a href=\"http://stackoverflow.com/q/24398699/1048572\">shouldn&#39;t use (need) that <code>complete</code> promise</a> at all)"}, {"owner": {"reputation": 7967, "user_id": 4620733, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh6.googleusercontent.com/-ajCsJtIDhCE/AAAAAAAAAAI/AAAAAAAAABU/VDLJ1dSAyvk/photo.jpg?sz=128", "display_name": "George Edwards", "link": "https://stackoverflow.com/users/4620733/george-edwards"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1487844099, "post_id": 42397485, "comment_id": 71970764, "body": "@Bergi I am waiting for it in the <code>new RealTimeStations(io).complete.then(() =&gt; {</code> line of the test"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1487889954, "post_id": 42397485, "comment_id": 72000749, "body": "@GeorgeEdwards Ah, I see now. What exactly is the error you get when it fails, and what could be the reason? Would that error happen when <code>registerEndPoint</code> was not yet called? Or maybe you should wait for the <code>nsp.on(&#39;connection&#39;, \u2026)</code> events?"}, {"owner": {"reputation": 7967, "user_id": 4620733, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh6.googleusercontent.com/-ajCsJtIDhCE/AAAAAAAAAAI/AAAAAAAAABU/VDLJ1dSAyvk/photo.jpg?sz=128", "display_name": "George Edwards", "link": "https://stackoverflow.com/users/4620733/george-edwards"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1488207785, "post_id": 42397485, "comment_id": 72117429, "body": "@Bergi my tests timeout, so what I think is happening is - the <code>beforeEach</code> event completes (complete promise) before the <code>emitInitialPackage()</code> function has completed (as this is a promise in itself), so the test beigns and the connection event is fired, but as the <code>emitInitialPackage()</code> function still hasn&#39;t been completed, the <code>nsp.emit(&#39;value&#39;, results);</code> line doesn&#39;t get hit, so by the time the initial package func is completed, the connection has already been sent, hence the timeout"}, {"owner": {"reputation": 7967, "user_id": 4620733, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh6.googleusercontent.com/-ajCsJtIDhCE/AAAAAAAAAAI/AAAAAAAAABU/VDLJ1dSAyvk/photo.jpg?sz=128", "display_name": "George Edwards", "link": "https://stackoverflow.com/users/4620733/george-edwards"}, "reply_to_user": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1488207924, "post_id": 42397485, "comment_id": 72117532, "body": "@KevinB Yes, I think the issue is that my <code>emitInitialPackage()</code> takes a while and isn&#39;t completed when my <code>complete</code> promise completes correctly"}, {"owner": {"reputation": 7967, "user_id": 4620733, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh6.googleusercontent.com/-ajCsJtIDhCE/AAAAAAAAAAI/AAAAAAAAABU/VDLJ1dSAyvk/photo.jpg?sz=128", "display_name": "George Edwards", "link": "https://stackoverflow.com/users/4620733/george-edwards"}, "reply_to_user": {"reputation": 18374, "user_id": 3478010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y4DTM.png?s=128&g=1", "display_name": "Roamer-1888", "link": "https://stackoverflow.com/users/3478010/roamer-1888"}, "edited": false, "score": 0, "creation_date": 1488208008, "post_id": 42397485, "comment_id": 72117607, "body": "@Roamer-1888 Thanks, If you see some of the comments above, I think we have isolated the problem, but I am not sure how to fix it... I need <code>emitInitialPackage()</code> to complete before the <code>complete</code> promise is resolved."}, {"owner": {"reputation": 18374, "user_id": 3478010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y4DTM.png?s=128&g=1", "display_name": "Roamer-1888", "link": "https://stackoverflow.com/users/3478010/roamer-1888"}, "edited": false, "score": 0, "creation_date": 1488251374, "post_id": 42397485, "comment_id": 72137739, "body": "Seems like there&#39;s a gap in the promise logic that leads to resolution of <code>complete</code>. At the top level, <code>this.complete = Promise.resolve(db.Line.findAll())</code> is fine but there&#39;s no attempt to allow the low level promises returned by <code>emitInitialPackage()</code> to be assimilated at the top level. In the middle, <code>registerEndPoints()</code> is a promise-free black hole. At the heart of <code>registerEndPoints()</code>, you can promisify <code>nsp.on(&#39;connection&#39; ...);</code> (which is presumably a one-off event per nsp) and chain calls to <code>emitInitialPackage()</code>. You will also need a <code>Promise.all(...)</code> , and appropriate returns."}], "owner": {"reputation": 7967, "user_id": 4620733, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh6.googleusercontent.com/-ajCsJtIDhCE/AAAAAAAAAAI/AAAAAAAAABU/VDLJ1dSAyvk/photo.jpg?sz=128", "display_name": "George Edwards", "link": "https://stackoverflow.com/users/4620733/george-edwards"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 157, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1488208749, "creation_date": 1487782034, "last_edit_date": 1488208749, "question_id": 42397485, "link": "https://stackoverflow.com/questions/42397485/promises-timing-issue", "title": "Promises timing issue", "body": "<p>I have the following TypeScript and nodeJS file which registers a series of socket.io namespaces. I then have some mocha tests which test those namespaces, however, my first test always fails, unless I am live reloading, in which case the second time around the tests will pass. NB: the <code>db.Line.findAll()</code> and similar functions are sequelize functions returning promises. </p>\n\n<pre><code>export class RealTimeStations {\n    public complete: Promise&lt;boolean&gt;;\n    server: any;\n\n    constructor(io: any) {\n        this.server = io;\n        this.complete = Promise.resolve(db.Line.findAll()).then(lines =&gt; {\n                // do some mapping to generate routes and cells\n                this.registerEndPoints(routes, [], cells);\n            }).catch(err =&gt; console.log(err))\n    }\n\n    registerEndPoints(routes: Array&lt;string&gt;, nsps: Array&lt;any&gt;, cells: Array&lt;string&gt;) {\n        for (let i = 0; i &lt; routes.length; i++) {\n            nsps.push(this.server.of('/api/testNamespace/' + routes[i]));\n            let that = this;\n            nsp.on('connection', function (socket) {\n                that.emitInitialPackage(nsps[i], routes[i], cells[i]);\n            });\n        }\n    }\n\n    emitInitialPackage(nsp: any, name: string, cell: any) {\n        return db.Line.find({/* Some sequelize params*/}).then(results =&gt; {\n            nsp.emit('value', results);\n        }).catch(err =&gt; console.log(err));\n    }\n}\n</code></pre>\n\n<p>I have seen this problem before, where the socketio setup wasn't being completed before the test executed, hence I moved to the promise based approach, however, this test now fails first time around but then on 2nd and subsequent livereloads, it passes...</p>\n\n<pre><code>describe('Stations Socket /api/getLine/stations', function () {\n    beforeEach(function (done) {\n        models.sequelize.sync({ force: true }).then(function () { //setup SQLite db\n            sequelize_fixtures.loadFile('C:/Users/George/Source/Repos/Coty%20Monitoring%20System/server/seeders/default.json', db) //seed the db\n                .then(function () {\n                    app.set('port', '3000');\n                    server = http.createServer(app);\n                    server.listen('3000', function () { });\n                    var io = require('socket.io').listen(server);\n                    new RealTimeStations(io).complete.then(() =&gt; { //config socketio namespaces\n                        socket = require('socket.io-client')('http://localhost:3000/api/testNamespace/2');\n                        done();\n                    });\n                });\n        })\n    })\n    describe('Setup', () =&gt; {\n        it('Should connect and receive correct state', function (done) {\n            socket.on('connect', function () {\n                socket.on('value', function (test) {\n                    test.stations.should.equal('\"expected value\"');\n                    done();\n                });\n            });\n        });\n    });\n\n    afterEach(function () {\n        socket.disconnect();\n        server.close();\n        socket = null;\n    })\n})\n</code></pre>\n\n<h1>Update:</h1>\n\n<p>The issue is that the <code>nsp.emit('value', results);</code> line doesn't get executed before the <code>complete</code> promise resolves. This means that when the test begins and connects to the server, the value event isn't triggered, and as the connect event is only sent once, the test just timeouts. </p>\n\n<p>So I need a way of linking the complete promise to the <code>emitInitialPackage</code> promise.</p>\n"}, {"tags": ["javascript", "typescript", "mongoose", "mongoose-schema", "typescript2.0"], "comments": [{"owner": {"reputation": 91, "user_id": 8584022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad7daea7f8f46b4a1896344e342ae559?s=128&d=identicon&r=PG&f=1", "display_name": "Raihanul", "link": "https://stackoverflow.com/users/8584022/raihanul"}, "edited": false, "score": 0, "creation_date": 1592588610, "post_id": 42397220, "comment_id": 110489574, "body": "wondering why there&#39;s still no good answer to this question in three years"}], "answers": [{"tags": [], "owner": {"reputation": 364, "user_id": 2936499, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/12f1070c3834dfe663e1dad400eb5c38?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Mika", "link": "https://stackoverflow.com/users/2936499/martin-mika"}, "is_accepted": false, "score": 0, "last_activity_date": 1526033610, "creation_date": 1526033610, "answer_id": 50290037, "question_id": 42397220, "link": "https://stackoverflow.com/questions/42397220/how-to-avoid-writing-the-schema-of-mongoose-twice-when-using-it-with-typescript/50290037#50290037", "title": "How to avoid writing the Schema of Mongoose twice when using it with TypeScript?", "body": "<p><code>Or alternatively, perhaps Mongoose is not the right ODM solution if I am using TypeScript? Is there a better solution?</code></p>\n\n<p>I would be happy to offer you this library: <a href=\"https://github.com/doublemcz/mongo-odm\" rel=\"nofollow noreferrer\">https://github.com/doublemcz/mongo-odm</a></p>\n\n<p>It is based on Native Client with focus on ease-of-use.</p>\n"}], "owner": {"reputation": 3282, "user_id": 4833127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2dbdd602d584725385f45ab6087bda58?s=128&d=identicon&r=PG&f=1", "display_name": "Zsw", "link": "https://stackoverflow.com/users/4833127/zsw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 270, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1526033610, "creation_date": 1487781295, "question_id": 42397220, "link": "https://stackoverflow.com/questions/42397220/how-to-avoid-writing-the-schema-of-mongoose-twice-when-using-it-with-typescript", "title": "How to avoid writing the Schema of Mongoose twice when using it with TypeScript?", "body": "<p>I am trying to use <a href=\"http://mongoosejs.com/\" rel=\"nofollow noreferrer\">Mongoose</a> together with TypeScript.</p>\n\n<p>With JavaScript alone, we can pretty easily write the schema for a model <code>Foo</code>.</p>\n\n<pre><code>const fooSchema = new mongoose.Schema({\n  name: String,\n  value: Number\n});\n\nfooSchema.methods.someInstanceMethod = function() {/*...*/};\n\nfooSchema.statics.someStaticMethod = function() {/*...*/};\n\nconst Foo = mongoose.model('Foo', fooSchema);\n</code></pre>\n\n<p>And we can use <code>Foo</code> like so:</p>\n\n<pre><code>Foo.someStaticMethod();\nvar foo = new Foo();\nfoo.someInstanceMethod();\nfoo.name;\n</code></pre>\n\n<p>-</p>\n\n<p>However, now that we have TypeScript, we will get error messages:</p>\n\n<blockquote>\n  <p>Property 'someStaticMethod' does not exist on type 'Model'.</p>\n  \n  <p>Property 'someInstanceMethod' does not exist on type 'Document'.</p>\n  \n  <p>Property 'name' does not exist on type 'Document'.</p>\n</blockquote>\n\n<p>After some research, I gathered that the way to fix this is to declare the following interfaces:</p>\n\n<pre><code>export interface IFooDocument extends mongoose.Document {\n  name: string;\n  value: number;\n  someInstanceMethod(): any;\n}\n\nexport interface IFooModel extends mongoose.Model&lt;IFooDocument&gt; {\n  someStaticMethod(): any;\n}\n</code></pre>\n\n<p>And adjust <code>Foo</code> to be:</p>\n\n<pre><code>export const Foo = &lt;IFooModel&gt;mongoose.model&lt;IFooDocument&gt;('Foo', fooSchema);\n</code></pre>\n\n<p>-</p>\n\n<p>The issue I have with this approach is that we essentially need to rewrite the Schema twice - once on <code>fooSchema</code>, and once on the interfaces. To me, the necessity of having to make sure the interface and schema are always kept in sync introduces just as many problems as type checking solves. </p>\n\n<p><strong>So my question is: Is there a way to avoid having to rewrite the Schema twice and still use types? Is there a better way to keep the schema and interface in sync?</strong></p>\n\n<p><strong>Or alternatively, perhaps Mongoose is not the right ODM solution if I am using TypeScript? Is there a better solution?</strong></p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 5287, "user_id": 186836, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d7c19b05522666e2a10a903c3bee56ac?s=128&d=identicon&r=PG", "display_name": "thitemple", "link": "https://stackoverflow.com/users/186836/thitemple"}, "edited": false, "score": 0, "creation_date": 1487782346, "post_id": 42397407, "comment_id": 71942196, "body": "It shouldn&#39;t, I was just hoping to not come to that."}, {"owner": {"reputation": 5287, "user_id": 186836, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d7c19b05522666e2a10a903c3bee56ac?s=128&d=identicon&r=PG", "display_name": "thitemple", "link": "https://stackoverflow.com/users/186836/thitemple"}, "edited": false, "score": 0, "creation_date": 1487798354, "post_id": 42397407, "comment_id": 71951900, "body": "Can you explain why that works and not [P in keyof T]: T[P] ??"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 5287, "user_id": 186836, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d7c19b05522666e2a10a903c3bee56ac?s=128&d=identicon&r=PG", "display_name": "thitemple", "link": "https://stackoverflow.com/users/186836/thitemple"}, "edited": false, "score": 0, "creation_date": 1487798524, "post_id": 42397407, "comment_id": 71952008, "body": "As explained in the link in my question, you need to &quot;break the homomorphic relationship&quot; and to do that you need a &quot;different set of keys&quot;"}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 0, "last_activity_date": 1487783246, "last_edit_date": 1487783246, "creation_date": 1487781808, "answer_id": 42397407, "question_id": 42397214, "link": "https://stackoverflow.com/questions/42397214/changing-a-property-modifier-when-merging-an-interface/42397407#42397407", "title": "Changing a property modifier when merging an interface", "body": "<p>(I'm pretty sure that) no, you can't change the modifiers or types of existing types.</p>\n\n<p>But as you're only using it for testing then it shouldn't be problematic to cast it to any:</p>\n\n<pre><code>(window as any).innerWidth = 500;\n(window as any).innerHeight = 300;\n</code></pre>\n\n<hr>\n\n<h3>Edit</h3>\n\n<p>There's a trick to make a type mutable:</p>\n\n<pre><code>type Mutable&lt;T extends { [x: string]: any }, K extends string&gt; = {\n    [P in K]: T[P];\n}\n\ntype MyWindow = Mutable&lt;Window, keyof Window&gt;;\n(window as MyWindow).innerWidth = 500;\n(window as MyWindow).innerHeight = 300;\n</code></pre>\n\n<p>(<a href=\"https://www.typescriptlang.org/play/index.html#src=type%20Mutable%3CT%20extends%20%7B%20%5Bx%3A%20string%5D%3A%20any%20%7D%2C%20K%20extends%20string%3E%20%3D%20%7B%0D%0A%20%20%20%20%5BP%20in%20K%5D%3A%20T%5BP%5D%3B%0D%0A%7D%0D%0A%0D%0Atype%20MyWindow%20%3D%20Mutable%3CWindow%2C%20keyof%20Window%3E%3B%0D%0A(window%20as%20MyWindow).innerWidth%20%3D%20500%3B%0D%0A(window%20as%20MyWindow).innerHeight%20%3D%20300%3B\" rel=\"nofollow noreferrer\">code in playground</a>)</p>\n\n<p>It was suggested in this issue: <a href=\"https://github.com/Microsoft/TypeScript/issues/13723\" rel=\"nofollow noreferrer\">Mapped Types syntax to remove modifiers</a>, but if it's for testing then this is probably an overkill and casting to <code>any</code> would do the trick (in my opinion).</p>\n"}], "owner": {"reputation": 5287, "user_id": 186836, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d7c19b05522666e2a10a903c3bee56ac?s=128&d=identicon&r=PG", "display_name": "thitemple", "link": "https://stackoverflow.com/users/186836/thitemple"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 42397407, "answer_count": 1, "score": 0, "last_activity_date": 1487783246, "creation_date": 1487781280, "question_id": 42397214, "link": "https://stackoverflow.com/questions/42397214/changing-a-property-modifier-when-merging-an-interface", "title": "Changing a property modifier when merging an interface", "body": "<p>The Window interface has a few properties that are readonly:</p>\n\n<pre><code>interface Window extends ... {\n  // ...\n  readonly innerHeight: number;\n  readonly innerWidth: number;\n  // ...\n}\n</code></pre>\n\n<p>I get that those cannot really be changed, but in my unit tests, I'm changing the values of the object to simulate the changes. And it's an object of that type.</p>\n\n<p>Is there a way I can augment that type in a custom d.ts file and change these properties modifiers? </p>\n\n<p>I tried to just create a .d.ts file with this:</p>\n\n<pre><code>interface Window {\n  innerHeight: number;\n  innerWidth: number;\n}\n</code></pre>\n\n<p>But the compiler is complaining with:</p>\n\n<p>All declarations of 'innerWidth' must have identical modifiers.</p>\n"}, {"tags": ["angular", "typescript", "routing", "components"], "answers": [{"comments": [{"owner": {"reputation": 1649, "user_id": 1711974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/XXJTm.png?s=128&g=1", "display_name": "Radu Cojocari", "link": "https://stackoverflow.com/users/1711974/radu-cojocari"}, "edited": false, "score": 0, "creation_date": 1487834455, "post_id": 42397862, "comment_id": 71964967, "body": "I just want to add something to your solution that took me a while to figure out. In the submit method, you need to return false to not propagate the event. I had problems with the page reloading when trying to navigate to a different route on the submit button"}, {"owner": {"reputation": 1639, "user_id": 1113788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2445f274f0326e682ef74aa21d1f8fc?s=128&d=identicon&r=PG", "display_name": "davidejones", "link": "https://stackoverflow.com/users/1113788/davidejones"}, "reply_to_user": {"reputation": 1649, "user_id": 1711974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/XXJTm.png?s=128&g=1", "display_name": "Radu Cojocari", "link": "https://stackoverflow.com/users/1711974/radu-cojocari"}, "edited": false, "score": 0, "creation_date": 1487863073, "post_id": 42397862, "comment_id": 71984638, "body": "Hmm I&#39;ve had that problem with links or other buttons but it seemed to be fine with my forms and a submit button."}], "tags": [], "owner": {"reputation": 1639, "user_id": 1113788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2445f274f0326e682ef74aa21d1f8fc?s=128&d=identicon&r=PG", "display_name": "davidejones", "link": "https://stackoverflow.com/users/1113788/davidejones"}, "is_accepted": false, "score": 0, "last_activity_date": 1487783007, "creation_date": 1487783007, "answer_id": 42397862, "question_id": 42396793, "link": "https://stackoverflow.com/questions/42396793/app-getting-reloaded-on-navigating-to-a-route/42397862#42397862", "title": "App getting reloaded on navigating to a route", "body": "<p>It sounds like your form is actually posting to iteslf like a regular form would instead of angular catching it and doing what it needs to. Have you tried having a form submit and then making the button just a submit button.</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n    &lt;h1&gt;Login Form&lt;/h1&gt;\n    &lt;form (ngSubmit)=\"submit(username,password)\"&gt;\n        &lt;div class=\"form-group\"&gt;\n            &lt;label for=\"name\"&gt;Username&lt;/label&gt;\n            &lt;input type=\"text\" class=\"form-control\" id=\"name\" #username required&gt;\n        &lt;/div&gt;\n        &lt;div class=\"form-group\"&gt;\n            &lt;label for=\"alterEgo\"&gt;Password&lt;/label&gt;\n            &lt;input type=\"text\" class=\"form-control\" #password id=\"alterEgo\"&gt;\n        &lt;/div&gt;\n        &lt;button type=\"submit\" class=\"btn btn-success\"&gt;Login&lt;/button&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 3390, "user_id": 6760868, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/e2bce546959469a520331f6d2f41fc9f?s=128&d=identicon&r=PG&f=1", "display_name": "Aakash Thakur", "link": "https://stackoverflow.com/users/6760868/aakash-thakur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487783007, "creation_date": 1487780179, "question_id": 42396793, "link": "https://stackoverflow.com/questions/42396793/app-getting-reloaded-on-navigating-to-a-route", "title": "App getting reloaded on navigating to a route", "body": "<p>I am working on an angular2 application where <strong>on login I want to navigate to a specific route</strong>. Now I have a function defined for the login and what it simply does is calls a service which checks the credentials passed in form.</p>\n\n<p>I am sharing the service as well as my loginComponent:</p>\n\n<p><strong>LoginFormComponent:</strong></p>\n\n<pre><code>import {Component} from '@angular/core';\nimport {ShareService} from './ShareService'\nimport { Router, ActivatedRoute, Params } from '@angular/router';\n\n@Component({\n selector: 'login',\n template: `\n\n      &lt;div class=\"container\"&gt;\n        &lt;h1&gt;Login Form&lt;/h1&gt;\n        &lt;form&gt;\n          &lt;div class=\"form-group\"&gt;\n            &lt;label for=\"name\"&gt;Username&lt;/label&gt;\n            &lt;input type=\"text\" class=\"form-control\" id=\"name\" #username required&gt;\n          &lt;/div&gt;\n          &lt;div class=\"form-group\"&gt;\n            &lt;label for=\"alterEgo\"&gt;Password&lt;/label&gt;\n            &lt;input type=\"text\" class=\"form-control\" #password id=\"alterEgo\"&gt;\n          &lt;/div&gt;\n          &lt;button type=\"submit\" class=\"btn btn-success\" (click)=\"submit(username,password)\"&gt;Login&lt;/button&gt;\n        &lt;/form&gt;\n      &lt;/div&gt;\n\n `\n })\n export class LoginFormComponent {\n\n   admin_name=\"Admin\";\n   admin_password=\"Password\";\n   loginadmin:boolean;\n\n   constructor(private _shareService:ShareService,private router: Router,private route: ActivatedRoute) \n   {}\n\n\n   submit(name:HTMLInputElement,pass:HTMLInputElement){\n        this._shareService.submit(name.value,pass.value);\n\n        if(this._shareService.getData())\n        {\n          this.router.navigate(['about']);\n        }\n   }\n\n }\n</code></pre>\n\n<p><strong>ShareService:</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport {EventEmitter} from '@angular/core';\n\n@Injectable()\n\n\n export class ShareService {\n\n   updateComponent:EventEmitter=new EventEmitter();\n\n   loginadmin:boolean;\n\n   submit(name:string,pass:string):boolean{\n     if(this.admin_name===name.value  &amp;&amp; this.admin_password===pass.value){\n     this.loginadmin=true;\n     this.updateComponent.emit(this.loginadmin);\n     }\n     return false;\n   }\n\n   getData():boolean{\n     return this.loginadmin;\n   }\n\n\n }\n</code></pre>\n\n<p>The <code>about</code> which you can see in <code>this.router.navigate</code> in <code>loginFormComponent</code> is route configured in <code>app module</code>. Sharing the route configuration as well:</p>\n\n<p><strong>app module</strong>:</p>\n\n<pre><code>const routes:Routes=[\n  { path: 'login', component: LoginFormComponent},\n  { path: 'home', component: HomeComponent },\n  { path: 'about', component: AboutComponent },\n  { path: 'contact', component: ContactComponent },\n  { path: 'contactus', redirectTo: 'contact' },\n  { path: '', component:LandingComponent } \n ];\n</code></pre>\n\n<p>And here's my simple <strong>about component</strong>:</p>\n\n<pre><code>import {Component} from '@angular/core';\n\n@Component({\n selector: 'about',\n template: `&lt;h1&gt;Welcome about!&lt;/h1&gt;`\n })\n export class AboutComponent {\n }\n</code></pre>\n\n<p>Now the problem is it gets authenticated but as soon as I click on login it just reloads the application inplace of navigating to <code>about</code> component. </p>\n\n<p>Can someone tell me as to what I am doing wrong here. Thnaks in advance.</p>\n"}, {"tags": ["javascript", "typescript", "webpack"], "owner": {"reputation": 330, "user_id": 3436842, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ff1ca32c80d11de896a63f7714f33543?s=128&d=identicon&r=PG&f=1", "display_name": "JJJ", "link": "https://stackoverflow.com/users/3436842/jjj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1487780017, "creation_date": 1487780017, "question_id": 42396733, "link": "https://stackoverflow.com/questions/42396733/using-webpack-to-produce-a-vendor-bundle-and-one-to-one-source-files", "title": "Using webpack to produce a vendor bundle and one-to-one source files", "body": "<p>How can I use webpack (v2.x) to produce a single vendor bundle and separate source files?</p>\n\n<p>For example:</p>\n\n<ul>\n<li>src/\n\n<ul>\n<li>test.html</li>\n<li>test.ts</li>\n</ul></li>\n</ul>\n\n<p>Where <code>test.ts</code> imports <code>lodash</code>.</p>\n\n<p>I want to output:</p>\n\n<ul>\n<li>build/\n\n<ul>\n<li>vendor.js (lodash in this case, and any webpack logic)</li>\n<li>src/\n\n<ul>\n<li>test.html</li>\n<li>test.js</li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>Is there a way to do this?</p>\n\n<p>My current webpack config:</p>\n\n<pre><code>const webpack = require('webpack');\nconst { CheckerPlugin } = require('awesome-typescript-loader');\nconst glob = require('glob');\nconst path = require('path');\n\nconst srcDir = path.join(__dirname, 'src');\nconst buildDir = path.join(__dirname, 'build');\n\nmodule.exports = {\n  bail: true,\n  devtool: 'source-map',\n  entry: glob.sync('./src/**/*'),\n  output: {\n    path: buildDir,\n    filename: '[name].js'\n  },\n  resolve: {\n    extensions: ['.ts', '.js']\n  },\n  module: {\n    rules: [\n      { parser: { requireEnsure: false } },\n      {\n        test: /\\.(js|ts)$/,\n        enforce: 'pre',\n        loader: 'tslint-loader',\n        include: srcDir\n      },\n      {\n        test: /\\.(js|ts)$/,\n        loader: 'awesome-typescript-loader',\n        include: srcDir\n      },\n      {\n        exclude: [\n          /\\.(js|ts)$/\n        ],\n        loader: 'file-loader',\n        options: {\n          name: '[name].[ext]'\n        }\n      }\n    ]\n  },\n  plugins: [\n    new CheckerPlugin(),\n    new webpack.optimize.CommonsChunkPlugin({\n      name: 'vendor',\n      minChunks: (module) =&gt; {\n        return module.context &amp;&amp; module.context.indexOf('node_modules') !== -1;\n      }\n    })\n  ]\n}\n</code></pre>\n\n<p>This unfortunately produces the following:</p>\n\n<ul>\n<li>build/\n\n<ul>\n<li>vendor.js</li>\n<li>main.js</li>\n</ul></li>\n</ul>\n"}, {"tags": ["function", "angular", "typescript", "dynamic"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487781523, "post_id": 42396380, "comment_id": 71941651, "body": "In general <code>{{}}</code> is not supposed to be used together with <code>[input]</code> or <code>(event)</code>. If you use <code>[]</code> or <code>()</code> then use <code>x + &#39;y&#39;</code> to concatenate strings in the expression."}], "answers": [{"comments": [{"owner": {"reputation": 2539, "user_id": 1035619, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/9PD1N.jpg?s=128&g=1", "display_name": "Aram Mkrtchyan", "link": "https://stackoverflow.com/users/1035619/aram-mkrtchyan"}, "edited": false, "score": 0, "creation_date": 1487781093, "post_id": 42396610, "comment_id": 71941355, "body": "it works but give error  EXCEPTION: Error in ./SignUpSocialItem class SignUpSocialItem - inline template:3:4 caused by: self.context.self[(&quot;on&quot; + self.context.social.name)] is not a function"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 2539, "user_id": 1035619, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/9PD1N.jpg?s=128&g=1", "display_name": "Aram Mkrtchyan", "link": "https://stackoverflow.com/users/1035619/aram-mkrtchyan"}, "edited": false, "score": 0, "creation_date": 1487781417, "post_id": 42396610, "comment_id": 71941584, "body": "Seems to work without problems for me <a href=\"https://plnkr.co/edit/zENP2iTnlIzwRJqXjvuf?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/zENP2iTnlIzwRJqXjvuf?p=preview</a>"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 2539, "user_id": 1035619, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/9PD1N.jpg?s=128&g=1", "display_name": "Aram Mkrtchyan", "link": "https://stackoverflow.com/users/1035619/aram-mkrtchyan"}, "edited": false, "score": 0, "creation_date": 1487782326, "post_id": 42396610, "comment_id": 71942173, "body": "You&#39;re welcome :) Glad to hear you could make it work."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487790223, "post_id": 42396610, "comment_id": 71947237, "body": "Really, I always thought <code>this</code> is not supported in bindings. Only on the phone right now and can&#39;t test. Will have a look later."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487795518, "post_id": 42396610, "comment_id": 71950236, "body": "Just tried it. <code>this[&#39;on&#39; + &#39;Foo&#39;]()</code> really works as well. Thanks a lot for the hint."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 3, "last_activity_date": 1487795544, "last_edit_date": 1487795544, "creation_date": 1487779642, "answer_id": 42396610, "question_id": 42396380, "link": "https://stackoverflow.com/questions/42396380/angular-2-set-dynamic-functions-name-on-element/42396610#42396610", "title": "Angular 2 set dynamic functions name on element", "body": "<p>You need to use <code>this</code> explicitly</p>\n\n\n\n<pre><code>&lt;button md-icon-button (click)=\"this['on' + scial.name]()\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 2539, "user_id": 1035619, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/9PD1N.jpg?s=128&g=1", "display_name": "Aram Mkrtchyan", "link": "https://stackoverflow.com/users/1035619/aram-mkrtchyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1613, "favorite_count": 0, "accepted_answer_id": 42396610, "answer_count": 1, "score": 2, "last_activity_date": 1487795544, "creation_date": 1487779087, "question_id": 42396380, "link": "https://stackoverflow.com/questions/42396380/angular-2-set-dynamic-functions-name-on-element", "title": "Angular 2 set dynamic functions name on element", "body": "<p>Hi I try to add dynamic functions name on button  but don't know how to do that try something but doesn't work.</p>\n\n<p>My example </p>\n\n<pre><code>&lt;button md-icon-button (click)=\"on{{scial.name}}()\"&gt;&lt;i class=\"{{social.icon}} \"&gt;&lt;/i&gt;&lt;/button&gt;\n</code></pre>\n\n<p>it's on <code>*ngFor</code></p>\n\n<p>Is it realy to do?</p>\n"}, {"tags": ["node.js", "angular", "typescript"], "comments": [{"owner": {"reputation": 1606, "user_id": 2270804, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/viQTy.jpg?s=128&g=1", "display_name": "Charles-Antoine Fournel", "link": "https://stackoverflow.com/users/2270804/charles-antoine-fournel"}, "edited": false, "score": 1, "creation_date": 1487778562, "post_id": 42395904, "comment_id": 71939407, "body": "you can simply install angular package with node js , furthers reading here :<a href=\"https://angular.io/docs/js/latest/quickstart.html\" rel=\"nofollow noreferrer\">angular.io/docs/js/latest/quickstart.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 7605484, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/33a960cfa4ba6c255c6272cbb8a26ea3?s=128&d=identicon&r=PG&f=1", "display_name": "Artemy Wiese", "link": "https://stackoverflow.com/users/7605484/artemy-wiese"}, "edited": false, "score": 0, "creation_date": 1487779828, "post_id": 42396164, "comment_id": 71940438, "body": "I did like u said. But when i run index.html from dist folder i&#39;m getting an empty page with the message &quot;loading...&quot; on top. Where can be the problem ?"}, {"owner": {"reputation": 12335, "user_id": 1153681, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/YkEOT.png?s=128&g=1", "display_name": "AngularChef", "link": "https://stackoverflow.com/users/1153681/angularchef"}, "edited": false, "score": 0, "creation_date": 1487785126, "post_id": 42396164, "comment_id": 71944107, "body": "You need to run <code>index.html</code> from a server, not just open the file in your browser. Check out the browser console, you&#39;re probably getting 404 errors for all the js/css files that <code>index.html</code> is trying to load."}, {"owner": {"reputation": 115, "user_id": 7605484, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/33a960cfa4ba6c255c6272cbb8a26ea3?s=128&d=identicon&r=PG&f=1", "display_name": "Artemy Wiese", "link": "https://stackoverflow.com/users/7605484/artemy-wiese"}, "edited": false, "score": 0, "creation_date": 1487803455, "post_id": 42396164, "comment_id": 71954331, "body": "So i cant run my Angular2 Application without running a server ?"}, {"owner": {"reputation": 577, "user_id": 2662587, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100004296133669/picture?type=large", "display_name": "Admir Sabanovic", "link": "https://stackoverflow.com/users/2662587/admir-sabanovic"}, "reply_to_user": {"reputation": 115, "user_id": 7605484, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/33a960cfa4ba6c255c6272cbb8a26ea3?s=128&d=identicon&r=PG&f=1", "display_name": "Artemy Wiese", "link": "https://stackoverflow.com/users/7605484/artemy-wiese"}, "edited": false, "score": 0, "creation_date": 1487806708, "post_id": 42396164, "comment_id": 71955562, "body": "@ArtemyWiese You can, do as al37350 said but to solve your error edit created index.html file and change &lt;base href=&quot;/&quot;&gt; with &lt;base href=&quot;./&quot;&gt;   Also it is important that your router strategy is Location, not Hash."}], "tags": [], "owner": {"reputation": 139, "user_id": 7391638, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cQCfHmFsYJM/AAAAAAAAAAI/AAAAAAAAAME/R0a5df-ZLh8/photo.jpg?sz=128", "display_name": "al37350", "link": "https://stackoverflow.com/users/7391638/al37350"}, "is_accepted": false, "score": 1, "last_activity_date": 1487778515, "creation_date": 1487778515, "answer_id": 42396164, "question_id": 42395904, "link": "https://stackoverflow.com/questions/42395904/angular-2-application-with-no-server/42396164#42396164", "title": "Angular 2 application with no server?", "body": "<p>If you use angular-cli you can do <code>ng build --prod</code>. The index.html will be in the dist folder.</p>\n"}, {"tags": [], "owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "is_accepted": false, "score": 0, "last_activity_date": 1508136337, "creation_date": 1508136337, "answer_id": 46764381, "question_id": 42395904, "link": "https://stackoverflow.com/questions/42395904/angular-2-application-with-no-server/46764381#46764381", "title": "Angular 2 application with no server?", "body": "<p>Completing Admir Sabanovic's answer. In your app.module.ts add as provider</p>\n\n<pre><code>providers: [\n   { provide: LocationStrategy, useClass: HashLocationStrategy }\n]\n</code></pre>\n\n<p>In your index.html change the line &lt; base href=\"./\" > by</p>\n\n<pre><code>&lt;script&gt;document.write(\"&lt;base href='\"+window.location.href+\"'/&gt;\") &lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 7605484, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/33a960cfa4ba6c255c6272cbb8a26ea3?s=128&d=identicon&r=PG&f=1", "display_name": "Artemy Wiese", "link": "https://stackoverflow.com/users/7605484/artemy-wiese"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 509, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1508136337, "creation_date": 1487777898, "question_id": 42395904, "link": "https://stackoverflow.com/questions/42395904/angular-2-application-with-no-server", "title": "Angular 2 application with no server?", "body": "<p>How to run Angular 2 application without running a server?\nI need to take just one folder which contains index.html (some css, js additionally)</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487777796, "post_id": 42395811, "comment_id": 71938825, "body": "Can only be because <code>control.value.match(&#47;^[a-z0-9]+$&#47;i)</code> always matches"}, {"owner": {"reputation": 6112, "user_id": 584018, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0770bdb62b52b2629ecd50eca624669b?s=128&d=identicon&r=PG", "display_name": "user584018", "link": "https://stackoverflow.com/users/584018/user584018"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487778003, "post_id": 42395811, "comment_id": 71938978, "body": "then what would be the correct regex for alpha numeric"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487778193, "post_id": 42395811, "comment_id": 71939109, "body": "What do you get when you add <code>console.log(control.value.match(&#47;^[a-z0-9]+$&#47;i));</code> before th <code>if(...)</code>?"}, {"owner": {"reputation": 6112, "user_id": 584018, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0770bdb62b52b2629ecd50eca624669b?s=128&d=identicon&r=PG", "display_name": "user584018", "link": "https://stackoverflow.com/users/584018/user584018"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487778430, "post_id": 42395811, "comment_id": 71939314, "body": "[&quot;b&quot;, index: 0, input: &quot;b&quot;]              for a character &#39;b&#39;"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487778575, "post_id": 42395811, "comment_id": 71939417, "body": "You could try <code>&#47;^[a-z0-9]+$&#47;i.test(control.value)</code> instead <a href=\"http://stackoverflow.com/questions/6603015/check-whether-a-string-matches-a-regex\" title=\"check whether a string matches a regex\">stackoverflow.com/questions/6603015/&hellip;</a>"}, {"owner": {"reputation": 6112, "user_id": 584018, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0770bdb62b52b2629ecd50eca624669b?s=128&d=identicon&r=PG", "display_name": "user584018", "link": "https://stackoverflow.com/users/584018/user584018"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487779076, "post_id": 42395811, "comment_id": 71939821, "body": "i tried this, but now even for valid alphanumeric values, error message always appreas"}], "answers": [{"comments": [{"owner": {"reputation": 6112, "user_id": 584018, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0770bdb62b52b2629ecd50eca624669b?s=128&d=identicon&r=PG", "display_name": "user584018", "link": "https://stackoverflow.com/users/584018/user584018"}, "edited": false, "score": 0, "creation_date": 1487779087, "post_id": 42396202, "comment_id": 71939835, "body": "i tried this, but now even for valid alphanumeric values, error message always appreas"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 6112, "user_id": 584018, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0770bdb62b52b2629ecd50eca624669b?s=128&d=identicon&r=PG", "display_name": "user584018", "link": "https://stackoverflow.com/users/584018/user584018"}, "edited": false, "score": 0, "creation_date": 1487779284, "post_id": 42396202, "comment_id": 71939999, "body": "Can&#39;t reproduce. This works fine in the browser console like <code>!&#47;^[a-z0-9]+$&#47;i.test(&#39;abc&#39;)</code> (<code>false</code>) or <code>!&#47;^[a-z0-9]+$&#47;i.test(&#39;ab.)</code> (<code>true</code>)"}, {"owner": {"reputation": 6112, "user_id": 584018, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0770bdb62b52b2629ecd50eca624669b?s=128&d=identicon&r=PG", "display_name": "user584018", "link": "https://stackoverflow.com/users/584018/user584018"}, "edited": false, "score": 0, "creation_date": 1487779633, "post_id": 42396202, "comment_id": 71940283, "body": "will it be possible that one character should be number and one character should be non-number?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 6112, "user_id": 584018, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0770bdb62b52b2629ecd50eca624669b?s=128&d=identicon&r=PG", "display_name": "user584018", "link": "https://stackoverflow.com/users/584018/user584018"}, "edited": false, "score": 0, "creation_date": 1487779706, "post_id": 42396202, "comment_id": 71940337, "body": "Can you please be more specific? What exactly do you want to allow/disallow?"}, {"owner": {"reputation": 6112, "user_id": 584018, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0770bdb62b52b2629ecd50eca624669b?s=128&d=identicon&r=PG", "display_name": "user584018", "link": "https://stackoverflow.com/users/584018/user584018"}, "edited": false, "score": 0, "creation_date": 1487779880, "post_id": 42396202, "comment_id": 71940488, "body": "for input &quot;abc&quot; should be true, for &quot;234&quot; also true, but for &quot;7Alph&quot; should false. the input content must contain at lease a character and a number"}, {"owner": {"reputation": 4046, "user_id": 1440240, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/079c35c4cdab398fc94f466961445fa8?s=128&d=identicon&r=PG", "display_name": "Ben Racicot", "link": "https://stackoverflow.com/users/1440240/ben-racicot"}, "edited": false, "score": 0, "creation_date": 1503794625, "post_id": 42396202, "comment_id": 78760552, "body": "@G&#252;nterZ&#246;chbauer what about strictly Alpha (uppercase and or lowercase) or Strictly numeric characters? Something like <code>&#47;(^[a-z]+$)|(^[A-Z]+$)&#47;i</code> Not sure?"}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 0, "last_activity_date": 1487778619, "creation_date": 1487778619, "answer_id": 42396202, "question_id": 42395811, "link": "https://stackoverflow.com/questions/42395811/alpha-numeric-validation-is-not-working/42396202#42396202", "title": "alpha numeric validation is not working", "body": "<p>use </p>\n\n<pre><code>!/^[a-z0-9]+$/i.test(control.value)\n</code></pre>\n\n<p>to get a boolean result</p>\n"}], "owner": {"reputation": 6112, "user_id": 584018, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0770bdb62b52b2629ecd50eca624669b?s=128&d=identicon&r=PG", "display_name": "user584018", "link": "https://stackoverflow.com/users/584018/user584018"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3340, "favorite_count": 0, "accepted_answer_id": 42396202, "answer_count": 1, "score": 2, "last_activity_date": 1487778619, "creation_date": 1487777635, "question_id": 42395811, "link": "https://stackoverflow.com/questions/42395811/alpha-numeric-validation-is-not-working", "title": "alpha numeric validation is not working", "body": "<p>For a Angular 2 application, I wrote a custom validator TypeScript class like below,</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { FormControl } from '@angular/forms';\r\n\r\nexport class AlphaNumericValidator {\r\n    static invalidAlphaNumeric(control: FormControl): { [key: string]: boolean } {\r\n        if (control.value.length &amp;&amp; !control.value.match(/^[a-z0-9]+$/i)) {\r\n            return { invalidAlphaNumeric: true };\r\n        }\r\n        return null;\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I am applying this validator for a Model Driven Form,</p>\n\n<pre><code>'name': [this.exercise.name, [Validators.required, AlphaNumericValidator.invalidAlphaNumeric]],\n</code></pre>\n\n<p>And Here is the HTML,</p>\n\n<pre><code>&lt;label *ngIf=\"exerciseForm.controls.name.hasError('invalidAlphaNumeric') &amp;&amp; (exerciseForm.controls.name.touched || submitted)\" class=\"alert alert-danger validation-message\"&gt;Name must be alphanumeric&lt;/label&gt;\n</code></pre>\n\n<p>I notice that whenever I am typing a character in input, the above TypeScript class code called, but every time it's return Null.</p>\n\n<p>Is there any issue on typeScript class?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["typescript", "deserialization", "typescript2.0", "axios"], "owner": {"reputation": 5071, "user_id": 510577, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6a84f90aeadb4b177edfabd533f8fad1?s=128&d=identicon&r=PG", "display_name": "chub", "link": "https://stackoverflow.com/users/510577/chub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1775, "favorite_count": 2, "answer_count": 0, "score": 6, "last_activity_date": 1527718452, "creation_date": 1487777257, "last_edit_date": 1527718452, "question_id": 42395677, "link": "https://stackoverflow.com/questions/42395677/typescript-deserialization-on-axios-get-request-response-object", "title": "typescript deserialization on axios get request response object", "body": "<p>I have the following <code>axios</code> get request:</p>\n\n<pre><code>export function getCurrentCart() {\n    return axios.get(Constants.ENDPOINT_MENU_TIMESLOTS, getConfig())\n        .then(res =&gt; {\n            let data = (res as AxiosResponse).data;\n            if (data != null) {\n                // parsing logic to singleton CartStore instance here\n                ...\n            } else {\n                console.error(\"data is null\");\n            }\n        });\n}\n</code></pre>\n\n<p>which retrieves a ts <code>CartStore</code> class:</p>\n\n<pre><code>export class CartStore {\n    id: number;\n    temporaryTotal: number;\n    status: string = \"SHOPPING\";\n    statusLockTime?: any;\n    updatedAt?: string;\n    createdAt?: string;\n    coupon?: Coupon;\n\n    readonly items = observable.shallowArray&lt;CartItem&gt;([]);  // this is a mobx observable\n\n    @computed get hasItem(): boolean {\n        return this.items.length &gt; 0;\n    }\n\n    @action clear() {\n        this.items.clear();\n    }\n}\n</code></pre>\n\n<p>where <code>Coupon</code> and <code>CartItem</code> are the other model classes.</p>\n\n<p>Here is the sample JSON response:</p>\n\n<pre><code>{\n  \"createdAt\": \"2017-02-16T20:37:13\",\n  \"updatedAt\": \"2017-02-22T22:48:50\",\n  \"id\": 1,\n  \"status\": \"SHOPPING\",\n  \"statusLockTime\": null,\n  \"temporaryTotal\": 0,\n  \"items\": [\n    ... array of some other json object\n  ],\n  \"coupon\": {\n    ... json object\n  }\n}\n</code></pre>\n\n<p>Which deserializer librar(ies) do you guys recommend? Another question is: how to do it in the most TS way without using any library?</p>\n"}, {"tags": ["javascript", "typescript", "nodes", "appendchild"], "answers": [{"tags": [], "owner": {"reputation": 564, "user_id": 5684762, "user_type": "registered", "profile_image": "https://graph.facebook.com/10200651607289103/picture?type=large", "display_name": "Vin&#237;cius Negr&#227;o", "link": "https://stackoverflow.com/users/5684762/vin%c3%adcius-negr%c3%a3o"}, "is_accepted": true, "score": 1, "last_activity_date": 1487777421, "creation_date": 1487777421, "answer_id": 42395728, "question_id": 42395561, "link": "https://stackoverflow.com/questions/42395561/when-appending-childnode-its-throwing-error-property-appendchild-does-not-ex/42395728#42395728", "title": "When appending childnode, its throwing error &quot;Property &#39;appendChild&#39; does not exist on type &#39;NodeListOf&lt;Element&gt;&#39;.&quot;", "body": "<p><code>document.querySelectorAll</code> is an array and not an element, you should iterate over your <code>li</code> variable, but I'm guessing that you want to add an item to an existing list, if this is the case you should append the item to the list container <code>&lt;ul&gt;...&lt;/ul&gt;</code></p>\n\n<p>EDIT: use <code>document.querySelector</code> to select only a specific element</p>\n\n<p>Also, it's bad practice to define new custom html tags, try to use a class instead, so for an html like this:</p>\n\n<pre><code>&lt;ul class=\"test\"&gt;\n  &lt;li&gt;Item 1&lt;/li&gt;\n  &lt;li&gt;Item 2&lt;/li&gt;\n  &lt;li&gt;Item 3&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>use this:</p>\n\n<pre><code>let li: NodeListOf&lt;Element&gt; = document.querySelector(\"ul.test\");\n\nvar newNumberListItem = document.createElement(\"li\");\nvar numberListValue = document.createTextNode(\"java\");\nvar numberListValue = document.createTextNode(\"ajax\");\nvar numberListValue = document.createTextNode(\"javascript\");\n\nnewNumberListItem.appendChild(numberListValue);\nli.appendChild(newNumberListItem);\n</code></pre>\n\n<p>Tip: if you are using ES6, avoid using <code>var</code> and use <code>const</code> for values that won't change on your scope and <code>let</code> for variables</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    let li: NodeListOf&lt;Element&gt; = document.querySelector(\"ul.test\");\r\n\r\n    var newNumberListItem = document.createElement(\"li\");\r\n    var numberListValue = document.createTextNode(\"java\");\r\n    var numberListValue = document.createTextNode(\"ajax\");\r\n    var numberListValue = document.createTextNode(\"javascript\");\r\n\r\n    newNumberListItem.appendChild(numberListValue);\r\n    li.appendChild(newNumberListItem);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;ul class=\"test\"&gt;\r\n      &lt;li&gt;Item 1&lt;/li&gt;\r\n      &lt;li&gt;Item 2&lt;/li&gt;\r\n      &lt;li&gt;Item 3&lt;/li&gt;\r\n    &lt;/ul&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 127411, "user_id": 1906307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kRxnP.jpg?s=128&g=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/1906307/louis"}, "is_accepted": false, "score": 0, "last_activity_date": 1487777569, "creation_date": 1487777569, "answer_id": 42395790, "question_id": 42395561, "link": "https://stackoverflow.com/questions/42395561/when-appending-childnode-its-throwing-error-property-appendchild-does-not-ex/42395790#42395790", "title": "When appending childnode, its throwing error &quot;Property &#39;appendChild&#39; does not exist on type &#39;NodeListOf&lt;Element&gt;&#39;.&quot;", "body": "<p><code>li</code> is a <code>NodeListOf&lt;Element&gt;</code>, it is not itself an <code>Element</code> so it does not have an <code>appendChild</code> method. Most likely what you wanted to do is address an element in your list:</p>\n\n<pre><code>li[0].appendChild(newNumberListItem);\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 5208062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/24fe9dd548c7468e8aa8ee559e848b27?s=128&d=identicon&r=PG&f=1", "display_name": "invisible", "link": "https://stackoverflow.com/users/5208062/invisible"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1695, "favorite_count": 0, "accepted_answer_id": 42395728, "answer_count": 2, "score": 0, "last_activity_date": 1488262697, "creation_date": 1487776998, "last_edit_date": 1488262697, "question_id": 42395561, "link": "https://stackoverflow.com/questions/42395561/when-appending-childnode-its-throwing-error-property-appendchild-does-not-ex", "title": "When appending childnode, its throwing error &quot;Property &#39;appendChild&#39; does not exist on type &#39;NodeListOf&lt;Element&gt;&#39;.&quot;", "body": "<p>when appending child node to <em>li</em> , getting error like <em>Property 'appendChild' does not exist on type 'NodeListOf'</em></p>\n\n<pre><code>let li: NodeListOf&lt;Element&gt; = document.querySelectorAll(\"name li\");  \n\n        var newItem = document.createElement(\"li\");\n        var ListValue = document.createTextNode(\"abcd\");\n        var ListValue = document.createTextNode(\"efgh\");\n        var ListValue = document.createTextNode(\"ijkl\");\n\n\n        newItem.appendChild(ListValue);\n        li.appendChild(ListItem);\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 1563, "user_id": 112571, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b7ac7166dba99523395197f9918121f0?s=128&d=identicon&r=PG", "display_name": "admax", "link": "https://stackoverflow.com/users/112571/admax"}, "edited": false, "score": 0, "creation_date": 1487782915, "post_id": 42395425, "comment_id": 71942611, "body": "Can you check the browser console to see if there is any error after clicking notification?"}, {"owner": {"reputation": 9698, "user_id": 717839, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d6252a826fac2914aa414e635b77c666?s=128&d=identicon&r=PG", "display_name": "Caballero", "link": "https://stackoverflow.com/users/717839/caballero"}, "reply_to_user": {"reputation": 1563, "user_id": 112571, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b7ac7166dba99523395197f9918121f0?s=128&d=identicon&r=PG", "display_name": "admax", "link": "https://stackoverflow.com/users/112571/admax"}, "edited": false, "score": 0, "creation_date": 1487783488, "post_id": 42395425, "comment_id": 71943005, "body": "@admax Yes, I keep it open all the time - there are no errors whatsoever."}], "answers": [{"comments": [{"owner": {"reputation": 9698, "user_id": 717839, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d6252a826fac2914aa414e635b77c666?s=128&d=identicon&r=PG", "display_name": "Caballero", "link": "https://stackoverflow.com/users/717839/caballero"}, "edited": false, "score": 0, "creation_date": 1487779081, "post_id": 42396046, "comment_id": 71939829, "body": "Thanks for the observation, I have fixed it now, however <code>ngOnInit</code> method was working before, otherwise the app wouldn&#39;t even function"}, {"owner": {"reputation": 9698, "user_id": 717839, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d6252a826fac2914aa414e635b77c666?s=128&d=identicon&r=PG", "display_name": "Caballero", "link": "https://stackoverflow.com/users/717839/caballero"}, "edited": false, "score": 0, "creation_date": 1487779739, "post_id": 42396046, "comment_id": 71940359, "body": "Just to clarify, this change doesn&#39;t fix the actual problem described in the question"}], "tags": [], "owner": {"reputation": 214, "user_id": 7601840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cbxZw.jpg?s=128&g=1", "display_name": "Jeff Justice", "link": "https://stackoverflow.com/users/7601840/jeff-justice"}, "is_accepted": false, "score": 0, "last_activity_date": 1487778237, "creation_date": 1487778237, "answer_id": 42396046, "question_id": 42395425, "link": "https://stackoverflow.com/questions/42395425/angular2-when-url-is-opened-from-browser-notification-target-component-stops/42396046#42396046", "title": "Angular2: when url is opened from browser notification - target component stops working", "body": "<p>I can't get your project to run but your CarComponent class does not implement OnInit even though you have a ngOnInit function within the class.</p>\n\n<pre><code>export class CarComponent implements OnInit \n</code></pre>\n\n<p>Same is true of your CarsComponent class.</p>\n"}], "owner": {"reputation": 9698, "user_id": 717839, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d6252a826fac2914aa414e635b77c666?s=128&d=identicon&r=PG", "display_name": "Caballero", "link": "https://stackoverflow.com/users/717839/caballero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1487781361, "creation_date": 1487776608, "last_edit_date": 1487781361, "question_id": 42395425, "link": "https://stackoverflow.com/questions/42395425/angular2-when-url-is-opened-from-browser-notification-target-component-stops", "title": "Angular2: when url is opened from browser notification - target component stops working", "body": "<p>When I open a URL by clicking browser notification, the functionality of the page stops working.</p>\n\n<p>I have a small project to demostrate the issue: <a href=\"https://github.com/bdwbdv/quickstart\" rel=\"nofollow noreferrer\">https://github.com/bdwbdv/quickstart</a></p>\n\n<p>Normal behaviour: start the application, open project in browser (URL <code>/cars</code>), click one of the cars which takes you to a <code>/car/:id</code> view, click button \"EDIT\" - opens an input field with car brand and shows \"CANCEL\" button.</p>\n\n<p>Abnormal behaviour: start the application, open project in browser (URL <code>/cars</code>), click the browser notification \"Check out this car (click me)\" which takes you to a <code>/car/:id</code> view, click button \"EDIT\" - nothing happens.</p>\n\n<p>Any idea why this is happening and how to fix it?</p>\n"}, {"tags": ["html", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 2825, "user_id": 6806381, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fguIJ.png?s=128&g=1", "display_name": "Christopher Moore", "link": "https://stackoverflow.com/users/6806381/christopher-moore"}, "edited": false, "score": 0, "creation_date": 1487777520, "post_id": 42395619, "comment_id": 71938633, "body": "In the pipe, you can condense it down to one line using ES6 array.reduce <code>return value.reduce((a,b) =&gt; a + b[key], 0)</code>"}], "tags": [], "owner": {"reputation": 5160, "user_id": 6705115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5c3bb4a1139f63e96487512d9202f877?s=128&d=identicon&r=PG", "display_name": "Igor Jankovi\u0107", "link": "https://stackoverflow.com/users/6705115/igor-jankovi%c4%87"}, "is_accepted": false, "score": 1, "last_activity_date": 1487777116, "creation_date": 1487777116, "answer_id": 42395619, "question_id": 42395300, "link": "https://stackoverflow.com/questions/42395300/angular2-assign-component-field-within-ngfor/42395619#42395619", "title": "Angular2: assign component field within #ngFor", "body": "<p>As far as I know, it is not possible. You can achieve it by creating custom pipe which will iterate through the array and return totalAmount. As the parameter you can pass the name of the key which you want to use as value.</p>\n\n<p>For the example:</p>\n\n<pre><code>import { Pipe, PipeTransform } from '@angular/core';\n@Pipe({\n   name: 'totalAmount'\n})\n\nexport class totalAmount implements PipeTransform {\n    transform(value:any, key:string):any {\n       if(value){\n          let total = 0;\n\n          for(let i in value){\n             total = total + value[i][key];    \n          }            \n\n          return total;\n    }\n    return value;\n    }}\n</code></pre>\n\n<p>And then you can call it from html:</p>\n\n<pre><code>&lt;div&gt;{{expenses | totalAmount:\"amount\"}}&lt;/div&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 636, "user_id": 5314581, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/bT66s.jpg?s=128&g=1", "display_name": "t-jd", "link": "https://stackoverflow.com/users/5314581/t-jd"}, "edited": false, "score": 0, "creation_date": 1487778217, "post_id": 42395858, "comment_id": 71939128, "body": "Yes, i could and actually i did it in the same way, but now i try to avoid such approach, because there is already one loop <code>*ngFor</code> and i thought i could calculate <code>totalAmount</code> within <code>*ngFor</code>"}, {"owner": {"reputation": 2695, "user_id": 1749630, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ce1f414d36af7bf28062c9caa7600479?s=128&d=identicon&r=PG", "display_name": "aaron-bond", "link": "https://stackoverflow.com/users/1749630/aaron-bond"}, "reply_to_user": {"reputation": 636, "user_id": 5314581, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/bT66s.jpg?s=128&g=1", "display_name": "t-jd", "link": "https://stackoverflow.com/users/5314581/t-jd"}, "edited": false, "score": 1, "creation_date": 1487779134, "post_id": 42395858, "comment_id": 71939881, "body": "I agree, it&#39;s inelegant... but it&#39;s good separation of concerns. Rather than trying to use your view code to maintain a total (which may or may not be needed in your component code at some point), it should be managed in the ts file. It&#39;s worth considering whether you&#39;re prematurely optimising by avoiding doing it this way."}], "tags": [], "owner": {"reputation": 2695, "user_id": 1749630, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ce1f414d36af7bf28062c9caa7600479?s=128&d=identicon&r=PG", "display_name": "aaron-bond", "link": "https://stackoverflow.com/users/1749630/aaron-bond"}, "is_accepted": false, "score": 1, "last_activity_date": 1487777767, "creation_date": 1487777767, "answer_id": 42395858, "question_id": 42395300, "link": "https://stackoverflow.com/questions/42395300/angular2-assign-component-field-within-ngfor/42395858#42395858", "title": "Angular2: assign component field within #ngFor", "body": "<p>You could make totalAmount a get() method and return it there?</p>\n\n<pre><code>private get totalAmount() {\n    let total = 0;\n    for (let item in this.expenses) {\n        total += item.amount;\n    }\n    return total;\n}\n</code></pre>\n"}], "owner": {"reputation": 636, "user_id": 5314581, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/bT66s.jpg?s=128&g=1", "display_name": "t-jd", "link": "https://stackoverflow.com/users/5314581/t-jd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1487777767, "creation_date": 1487776327, "question_id": 42395300, "link": "https://stackoverflow.com/questions/42395300/angular2-assign-component-field-within-ngfor", "title": "Angular2: assign component field within #ngFor", "body": "<p>I have such component:</p>\n\n<pre><code> @Component({\n        selector: \"expenses-component\",\n        templateUrl: \"expenses.html\"\n    })\n    export default class ExpensesComponent {\n        private expenses: [] = [{name: \"Foo\", amount: 100}, {name: \"Bar\", amount: 200}];\n        private totalAmount: number = 0;\n    }\n</code></pre>\n\n<p>and also such template:</p>\n\n<pre><code>&lt;h2 class=\"sub-header\"&gt;Total: {{total | currency:\"USD\":true}}&lt;/h2&gt;\n&lt;div class=\"table-responsive\"&gt;\n    &lt;table class=\"table table-hover table-condensed\"&gt;\n        &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th&gt;#&lt;/th&gt;\n            &lt;th&gt;Name&lt;/th&gt;\n            &lt;th&gt;Amount&lt;/th&gt;\n        &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n        &lt;tr *ngFor=\"let expense of expenses | orderByDate; let id = index\"&gt;\n            &lt;td&gt;{{id + 1}}&lt;/td&gt;\n            &lt;td&gt;{{expense.name}}&lt;/td&gt;\n            &lt;td&gt;{{expense.amount | currency:\"USD\":true}}&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I need to count <code>totalAmount</code>, but i can't figure out how to do it without providing another one for loop in typescript code, so is there possibility to initialize <code>total += expense.amount</code> within the above <code>#ngFor</code> loop?</p>\n"}, {"tags": ["typescript", "amd"], "comments": [{"owner": {"reputation": 511, "user_id": 3684165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/924fac79a635e4a368c4a40bd5c95977?s=128&d=identicon&r=PG&f=1", "display_name": "lujcon", "link": "https://stackoverflow.com/users/3684165/lujcon"}, "edited": false, "score": 1, "creation_date": 1487780945, "post_id": 42395279, "comment_id": 71941247, "body": "You can&#39;t import <code>TestClass1</code> and <code>TestClass2</code>  in <code>TestClassCommon</code> and at the same time import <code>TestClassCommon</code> in both <code>TestClass1</code> and <code>TestClass2</code>. Can you avoid using <code>TestClass1</code> and <code>TestClass2</code> inside <code>TestClassCommon</code>?"}, {"owner": {"reputation": 7906, "user_id": 4620101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rPIEi.jpg?s=128&g=1", "display_name": "Szabolcs D&#233;zsi", "link": "https://stackoverflow.com/users/4620101/szabolcs-d%c3%a9zsi"}, "reply_to_user": {"reputation": 511, "user_id": 3684165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/924fac79a635e4a368c4a40bd5c95977?s=128&d=identicon&r=PG&f=1", "display_name": "lujcon", "link": "https://stackoverflow.com/users/3684165/lujcon"}, "edited": false, "score": 0, "creation_date": 1487785527, "post_id": 42395279, "comment_id": 71944367, "body": "As @lujcon pointed out your problem here is circular dependency. <code>TestClassCommon</code>&#39;s name suggests that it contains shared stuff so it shouldn&#39;t reference <code>TestClass1</code> and <code>TestClass2</code>."}, {"owner": {"reputation": 259, "user_id": 5667929, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/89a8f38064bedc7cf2b7607fdf01cfc2?s=128&d=identicon&r=PG&f=1", "display_name": "KoenT_X", "link": "https://stackoverflow.com/users/5667929/koent-x"}, "edited": false, "score": 0, "creation_date": 1488207942, "post_id": 42395279, "comment_id": 72117548, "body": "This is a simple case, constructed for example purposes. In the real case, there are more classes involved. I could rewrite a bunch of them to extract certain parts into yet another class, and try to eliminate using circular dependencies, but I was trying to avoid that... It does happen from time to time that one class needs something from another one, and in languages like C++ or C# there are no problems with circular dependencies, so I was hoping TypeScript with AMD also had a way to handle this properly."}], "owner": {"reputation": 259, "user_id": 5667929, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/89a8f38064bedc7cf2b7607fdf01cfc2?s=128&d=identicon&r=PG&f=1", "display_name": "KoenT_X", "link": "https://stackoverflow.com/users/5667929/koent-x"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487776284, "creation_date": 1487776284, "question_id": 42395279, "link": "https://stackoverflow.com/questions/42395279/how-to-use-static-class-variable-as-initialization-value-for-static-class-variab", "title": "How to use static class variable as initialization value for static class variable of other class with AMD in TypeScript?", "body": "<p>please consider the following code, consisting of 3 simple classes, where I try to use a static class variable of a \"common\" class to initialize a static class variable of two other classes (to make sure they both use the same value).\nI'm using AMD in my project settings as module system.</p>\n\n<p>Here is the first class:</p>\n\n<pre><code>import TestClassCommon from \"TestClassCommon\";\n\nclass TestClass1\n{\n    static ParameterNames =\n    {\n        CommonName: TestClassCommon.ParameterNames.CommonName,\n        TestClass1Name: \"TestClass1Name\"\n    }\n\n    SomeAction()\n    {\n        console.log(\"TestClass1 action\");\n    }\n}\n\nexport default TestClass1;\n</code></pre>\n\n<p>Here the second one:</p>\n\n<pre><code>import TestClassCommon from \"TestClassCommon\";\n\nclass TestClass2\n{\n    static ParameterNames =\n    {\n        CommonName: TestClassCommon.ParameterNames.CommonName,\n        TestClass2Name: \"TestClass2Name\"\n    }\n\n    SomeAction()\n    {\n        console.log(\"TestClass2 action\");\n    }\n}\n\nexport default TestClass2;\n</code></pre>\n\n<p>And the \"common\" one:</p>\n\n<pre><code>import TestClass1 from \"TestClass1\";\nimport TestClass2 from \"TestClass2\";\n\nclass TestClassCommon\n{\n    static ParameterNames =\n    {\n        CommonName: \"CommonName\"\n    }\n\n    static DoSomething()\n    {\n        console.log(\"Common name =     \" + this.ParameterNames.CommonName);\n        console.log(\"TestClass1 name = \" + TestClass1.ParameterNames.TestClass1Name);\n        console.log(\"TestClass2 name = \" + TestClass2.ParameterNames.TestClass2Name);\n    }\n}\n\nexport default TestClassCommon;\n</code></pre>\n\n<p>When I then use the 2 classes like this:</p>\n\n<pre><code>import TestClass1 from \"TestClass1\";\nimport TestClass2 from \"TestClass2\";\n\nlet tc1 = new TestClass1();\nlet tc2 = new TestClass2();\n</code></pre>\n\n<p>I get an exception in TestClass2:</p>\n\n<blockquote>\n  <p>Unhandled exception at line 11, column 5 in\n  <a href=\"http://localhost:54375/scripts/TestClass2.js\" rel=\"nofollow noreferrer\">http://localhost:54375/scripts/TestClass2.js</a></p>\n  \n  <p>0x800a138f - JavaScript runtime error: Unable to get property\n  'ParameterNames' of undefined or null reference</p>\n</blockquote>\n\n<p>I ran into a similar issue some time ago, but after some advice from other people switched to using the above way of importing, defining the classes and export the classes, and that solved the issues.</p>\n\n<p>But now I ran into this issue again.\nCan anyone get this simple example to work?\nThanks!</p>\n"}, {"tags": ["google-maps", "angular", "typescript", "angular-cli", "angular2-google-maps"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487774953, "post_id": 42394697, "comment_id": 71936714, "body": "Where do you import <code>google</code>?"}, {"owner": {"reputation": 2982, "user_id": 3780040, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/g8J5b.png?s=128&g=1", "display_name": "Milo", "link": "https://stackoverflow.com/users/3780040/milo"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487775065, "post_id": 42394697, "comment_id": 71936801, "body": "@G&#252;nterZ&#246;chbauer Within AppModule: `    AgmCoreModule.forRoot({       apiKey: &#39;--key--&#39;,       libraries: [&#39;places&#39;]     })`"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487775103, "post_id": 42394697, "comment_id": 71936827, "body": "You need a TypeScript import as well that provides <code>google</code>. Seems you copied the code from somewhere. Can you please post a link?"}, {"owner": {"reputation": 2982, "user_id": 3780040, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/g8J5b.png?s=128&g=1", "display_name": "Milo", "link": "https://stackoverflow.com/users/3780040/milo"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487775204, "post_id": 42394697, "comment_id": 71936914, "body": "I have added `    &lt;script src=&quot;<a href=\"https://www.gstatic.com/charts/loader.js&quot;&gt;&lt;/script\" rel=\"nofollow noreferrer\">gstatic.com/charts/loader.js&quot;&gt;&lt;/script</a>&gt;     &lt;script type=&quot;text/javascript&quot; src=&quot;<a href=\"https://www.google.com/jsapi&quot;&gt;&lt;/script\" rel=\"nofollow noreferrer\">google.com/jsapi&quot;&gt;&lt;/script</a>&gt;` and tried adding the google-maps typings globally as well."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487775416, "post_id": 42394697, "comment_id": 71937091, "body": "<code>AgmCoreModule</code> doesn&#39;t seem to provide anything related to <code>Geocoder</code>"}], "answers": [{"tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 12, "last_activity_date": 1487775483, "creation_date": 1487775483, "answer_id": 42394975, "question_id": 42394697, "link": "https://stackoverflow.com/questions/42394697/angular2-cannot-find-namespace-google/42394975#42394975", "title": "Angular2 Cannot find namespace &#39;google&#39;", "body": "<p>Add</p>\n\n<pre><code>declare var google: any;\n</code></pre>\n\n<p>after the TypeScript imports</p>\n\n<p>See also <a href=\"https://github.com/SebastianM/angular2-google-maps/issues/689\" rel=\"noreferrer\">https://github.com/SebastianM/angular2-google-maps/issues/689</a></p>\n"}, {"tags": [], "owner": {"reputation": 2982, "user_id": 3780040, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/g8J5b.png?s=128&g=1", "display_name": "Milo", "link": "https://stackoverflow.com/users/3780040/milo"}, "is_accepted": true, "score": 0, "last_activity_date": 1487856040, "creation_date": 1487856040, "answer_id": 42416954, "question_id": 42394697, "link": "https://stackoverflow.com/questions/42394697/angular2-cannot-find-namespace-google/42416954#42416954", "title": "Angular2 Cannot find namespace &#39;google&#39;", "body": "<p>I finally figured out the problem, which I didn't know was a thing. My component that I was referencing the services in was named <code>map.component.ts</code> while my services file was named <code>maps.service.ts</code> with the <code>s</code> at the end of <code>map</code>. After I changed the file and <code>import</code> statements everything worked fine.</p>\n"}, {"comments": [{"owner": {"reputation": 6303, "user_id": 458969, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bef35ee113fb03e83a39ff3b149332b8?s=128&d=identicon&r=PG&f=1", "display_name": "newman", "link": "https://stackoverflow.com/users/458969/newman"}, "edited": false, "score": 1, "creation_date": 1500820949, "post_id": 44279109, "comment_id": 77495467, "body": "This worked for me...just want to add that in Angular 2, I added <code>import {} from &#39;@types&#47;googlemaps&#39;;</code> to the same file after <code>import { NguiMapModule} from &#39;@ngui&#47;map&#39;;</code> in my shared.module.ts."}, {"owner": {"reputation": 2923, "user_id": 1505416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b59f1b9ee892c9503057b98123fd70a2?s=128&d=identicon&r=PG", "display_name": "AJ Zane", "link": "https://stackoverflow.com/users/1505416/aj-zane"}, "edited": false, "score": 1, "creation_date": 1524528783, "post_id": 44279109, "comment_id": 86999873, "body": "It seems like Typescript linting doesn&#39;t like <code>import {} from &#39;@types&#47;googlemaps&#39;;</code> anymore, but suggests:   <code>import { } from &#39;googlemaps&#39;</code>"}, {"owner": {"reputation": 963, "user_id": 5931805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccfdd5147be94d217e457651282aeffc?s=128&d=identicon&r=PG&f=1", "display_name": "DicBrus", "link": "https://stackoverflow.com/users/5931805/dicbrus"}, "edited": false, "score": 1, "creation_date": 1527766251, "post_id": 44279109, "comment_id": 88256274, "body": "can somebody explain (or even better to drive me to ts doc page) about this &quot;empty&quot; import. Nevertheless it works it looks like unused import. Wondered why does this help..."}], "tags": [], "owner": {"reputation": 779, "user_id": 1880686, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Vb3K4.jpg?s=128&g=1", "display_name": "Ayman Sharaf", "link": "https://stackoverflow.com/users/1880686/ayman-sharaf"}, "is_accepted": false, "score": 59, "last_activity_date": 1520695180, "last_edit_date": 1520695180, "creation_date": 1496218072, "answer_id": 44279109, "question_id": 42394697, "link": "https://stackoverflow.com/questions/42394697/angular2-cannot-find-namespace-google/44279109#44279109", "title": "Angular2 Cannot find namespace &#39;google&#39;", "body": "<p>I was facing the same problem \nI tried :</p>\n\n<pre><code>declare var google: any;\n</code></pre>\n\n<p>But it didn't work for me .<br/>\nI found this <a href=\"https://stackoverflow.com/a/42733622/1880686\">answer</a> and it worked for me .<br/> First make sure you installed the typings for google maps<br/> <code>npm install @types/googlemaps --save --dev</code></p>\n\n<blockquote>\n  <p>--dev flag is deprecated. Use <code>npm install @types/googlemaps --save-dev</code></p>\n</blockquote>\n\n<p>And Then in your Controller</p>\n\n<pre><code>import {} from '@types/googlemaps';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1477, "user_id": 8607382, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/r9vYE.jpg?s=128&g=1", "display_name": "gauravbhai daxini", "link": "https://stackoverflow.com/users/8607382/gauravbhai-daxini"}, "is_accepted": false, "score": 3, "last_activity_date": 1513093323, "last_edit_date": 1513093323, "creation_date": 1513056662, "answer_id": 47765891, "question_id": 42394697, "link": "https://stackoverflow.com/questions/42394697/angular2-cannot-find-namespace-google/47765891#47765891", "title": "Angular2 Cannot find namespace &#39;google&#39;", "body": "<p>It is working for me also:  </p>\n\n<p>First install the <code>typings</code> for google maps in cmd on root of project</p>\n\n<pre><code>npm install @types/googlemaps --save --dev\n</code></pre>\n\n<p>And then add in your <code>.ts</code> component file below:</p>\n\n<pre><code>import {} from '@types/googlemaps';\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2982, "user_id": 3780040, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/g8J5b.png?s=128&g=1", "display_name": "Milo", "link": "https://stackoverflow.com/users/3780040/milo"}, "edited": false, "score": 3, "creation_date": 1539970401, "post_id": 51152010, "comment_id": 92706987, "body": "Note: I had to use <code>declare var google: any</code> in conjunction with this technique."}, {"owner": {"reputation": 1775, "user_id": 2401088, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8f17309b5e6b0dd44075947ce5e4283?s=128&d=identicon&r=PG", "display_name": "Pankaj Prakash", "link": "https://stackoverflow.com/users/2401088/pankaj-prakash"}, "edited": false, "score": 0, "creation_date": 1578828175, "post_id": 51152010, "comment_id": 105559412, "body": "Worked for me without any <code>declare var google: any</code>"}, {"owner": {"reputation": 1183, "user_id": 1107013, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/97ea15ef4a88c0cc807cf33f65d40df0?s=128&d=identicon&r=PG", "display_name": "Gavin Haynes", "link": "https://stackoverflow.com/users/1107013/gavin-haynes"}, "edited": false, "score": 1, "creation_date": 1595736101, "post_id": 51152010, "comment_id": 111574871, "body": "looks like that package is now deprecated, replaced by <code>@googlemaps&#47;google-maps-services-js</code>"}], "tags": [], "owner": {"reputation": 399, "user_id": 8937387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a1e9a572d4ee676b125eca800c4e1c6?s=128&d=identicon&r=PG&f=1", "display_name": "clse", "link": "https://stackoverflow.com/users/8937387/clse"}, "is_accepted": false, "score": 13, "last_activity_date": 1534972724, "last_edit_date": 1534972724, "creation_date": 1530612869, "answer_id": 51152010, "question_id": 42394697, "link": "https://stackoverflow.com/questions/42394697/angular2-cannot-find-namespace-google/51152010#51152010", "title": "Angular2 Cannot find namespace &#39;google&#39;", "body": "<p>To prevent more suffering of anyone else with this issue.</p>\n\n<pre><code>npm install @google/maps\n</code></pre>\n\n<p><a href=\"https://www.npmjs.com/package/@google/maps\" rel=\"noreferrer\">https://www.npmjs.com/package/@google/maps</a></p>\n\n<p>THEN:</p>\n\n<pre><code>import { google } from '@google/maps';\n</code></pre>\n\n<p>Basically we're importing the google object from the package <code>@google/maps</code>.</p>\n\n<p>Tested in 2018 after <code>@types/googlemaps</code> stopped working.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 8996012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f593329ad32d1b320abcc867efdf3ab?s=128&d=identicon&r=PG&f=1", "display_name": "chaendler", "link": "https://stackoverflow.com/users/8996012/chaendler"}, "is_accepted": false, "score": 2, "last_activity_date": 1532604188, "last_edit_date": 1532604188, "creation_date": 1532599648, "answer_id": 51536303, "question_id": 42394697, "link": "https://stackoverflow.com/questions/42394697/angular2-cannot-find-namespace-google/51536303#51536303", "title": "Angular2 Cannot find namespace &#39;google&#39;", "body": "<p>I have a similar problem with Angular 6, and I did all the possible solutions mentioned above but no luck.\nFinally, I manage to solve this problem by adding <code>googlemaps</code> into <code>types</code> inside <code>tsconfig.app</code> and <code>tsconfig.spec</code> files.\nHope it helps for others.</p>\n"}, {"comments": [{"owner": {"reputation": 18433, "user_id": 826983, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8fc679891e6c3cf3aec3b353f3fb9bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Falk", "link": "https://stackoverflow.com/users/826983/stefan-falk"}, "edited": false, "score": 1, "creation_date": 1537107256, "post_id": 52200117, "comment_id": 91654541, "body": "Dammit I am still getting <code>error TS2503: Cannot find namespace &#39;google&#39;.</code> I just need to add <code>&quot;compilerOptions&quot;: { &quot;types&quot;: [&quot;googlemaps&quot;]}</code>, right? Does not work for me .. :/"}, {"owner": {"reputation": 18433, "user_id": 826983, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8fc679891e6c3cf3aec3b353f3fb9bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Falk", "link": "https://stackoverflow.com/users/826983/stefan-falk"}, "edited": false, "score": 0, "creation_date": 1537107486, "post_id": 52200117, "comment_id": 91654585, "body": "Alright I had to restart <code>ng server</code> then it worked!"}, {"owner": {"reputation": 77, "user_id": 9366105, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Steve Perkins", "link": "https://stackoverflow.com/users/9366105/steve-perkins"}, "edited": false, "score": 1, "creation_date": 1539962338, "post_id": 52200117, "comment_id": 92703315, "body": "I found that I also had to move my Google Maps &lt;script&gt; tag from within my component into index.html&#39;s &lt;head&gt;. Until I did this <i>no</i> solutions worked for me."}, {"owner": {"reputation": 182, "user_id": 7224159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72586c5816a960034fa0e66558c22f5d?s=128&d=identicon&r=PG&f=1", "display_name": "Valentino Pereira", "link": "https://stackoverflow.com/users/7224159/valentino-pereira"}, "edited": false, "score": 0, "creation_date": 1540623864, "post_id": 52200117, "comment_id": 92941601, "body": "Worked for angular 5 too!"}, {"owner": {"reputation": 2259, "user_id": 1165734, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7d6dd57ebebafad7e0f91c56adad1685?s=128&d=identicon&r=PG", "display_name": "Ionel Lupu", "link": "https://stackoverflow.com/users/1165734/ionel-lupu"}, "edited": false, "score": 0, "creation_date": 1545490234, "post_id": 52200117, "comment_id": 94638856, "body": "Working on Angular 7 here. Thank you!"}, {"owner": {"reputation": 106, "user_id": 2249193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cUtFm.jpg?s=128&g=1", "display_name": "ctrleffive", "link": "https://stackoverflow.com/users/2249193/ctrleffive"}, "edited": false, "score": 0, "creation_date": 1566811064, "post_id": 52200117, "comment_id": 101759888, "body": "Using Angular 8. Works for me! Thanks"}, {"owner": {"reputation": 2569, "user_id": 356083, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/awxYs.jpg?s=128&g=1", "display_name": "f.khantsis", "link": "https://stackoverflow.com/users/356083/f-khantsis"}, "edited": false, "score": 0, "creation_date": 1577640292, "post_id": 52200117, "comment_id": 105214215, "body": "why do I have to add to types in .spec and .app, if I already added in typeroots?"}, {"owner": {"reputation": 455, "user_id": 5628396, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/08f7ccebb610d0e2e1d21bededc21648?s=128&d=identicon&r=PG&f=1", "display_name": "David Bell", "link": "https://stackoverflow.com/users/5628396/david-bell"}, "edited": false, "score": 0, "creation_date": 1582060997, "post_id": 52200117, "comment_id": 106645252, "body": "I&#39;m using google pay and this solution worked for me in vue as well. thanks."}], "tags": [], "owner": {"reputation": 2913, "user_id": 2640826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea008b0e1f4e711b0ab9e9e0a9e373a5?s=128&d=identicon&r=PG", "display_name": "Zsolt Tolvaly", "link": "https://stackoverflow.com/users/2640826/zsolt-tolvaly"}, "is_accepted": false, "score": 75, "last_activity_date": 1566568287, "last_edit_date": 1566568287, "creation_date": 1536223752, "answer_id": 52200117, "question_id": 42394697, "link": "https://stackoverflow.com/questions/42394697/angular2-cannot-find-namespace-google/52200117#52200117", "title": "Angular2 Cannot find namespace &#39;google&#39;", "body": "<h1>Angular 6 &amp; 7 steps (should also work for every other Angular version):</h1>\n\n<ol>\n<li><code>npm install @types/googlemaps --save-dev</code></li>\n<li>Add googlemaps to the types array in <code>tsconfig.app.json</code> respectively in <code>tsconfig.spec.json</code></li>\n<li>Restart npm server</li>\n</ol>\n\n<p>In the end should look like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/L4P03.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/L4P03.png\" alt=\"enter image description here\"></a></p>\n\n<blockquote>\n  <p>You can delete both declaration types from the components: <code>import {} from '@types/googlemaps';</code> <code>declare var google: any;</code> You don't have to include any of them.</p>\n</blockquote>\n\n<p>PS: If you are using agm-s GoogleMapsAPIWrapper.getNativeMap() you must convert the map object before you use it. For example turning on the traffic layer:</p>\n\n<pre><code>this.apiWrapper.getNativeMap().then(map =&gt; {\n    this.trafficLayer = new google.maps.TrafficLayer();\n    const gMap: any = map;\n    this.trafficLayer.setMap(gMap as google.maps.Map);\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 211, "user_id": 6683857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3d55c57180f98c06a05112b2e4fcdb?s=128&d=identicon&r=PG", "display_name": "odiaz", "link": "https://stackoverflow.com/users/6683857/odiaz"}, "is_accepted": false, "score": 3, "last_activity_date": 1550671941, "last_edit_date": 1550671941, "creation_date": 1550617939, "answer_id": 54776343, "question_id": 42394697, "link": "https://stackoverflow.com/questions/42394697/angular2-cannot-find-namespace-google/54776343#54776343", "title": "Angular2 Cannot find namespace &#39;google&#39;", "body": "<p>In my case I was getting 2 types of errors: </p>\n\n<ul>\n<li>Cannot find namespace google</li>\n<li>Cannot find name google</li>\n</ul>\n\n<p>Since in my code I am using:</p>\n\n<pre><code>let autocomplete = new google.maps.places.Autocomplete(...)\n\nlet place: google.maps.places.PlaceResult = autocomplete.getPlace();\n</code></pre>\n\n<p>So fixed it by adding this:</p>\n\n<pre><code>declare var google: any;\n\ndeclare namespace google.maps.places {\n    export interface PlaceResult { geometry }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 665, "user_id": 5590380, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nQmD-ZDrADU/AAAAAAAAAAI/AAAAAAAAEZw/of6iEdmhdb0/photo.jpg?sz=128", "display_name": "Ramin Ar", "link": "https://stackoverflow.com/users/5590380/ramin-ar"}, "is_accepted": false, "score": -1, "last_activity_date": 1556900659, "creation_date": 1556900659, "answer_id": 55973789, "question_id": 42394697, "link": "https://stackoverflow.com/questions/42394697/angular2-cannot-find-namespace-google/55973789#55973789", "title": "Angular2 Cannot find namespace &#39;google&#39;", "body": "<pre><code>`\nimport { Observable } from 'rxjs';\nimport { GoogleMapsAPIWrapper, MapsAPILoader } from '@agm/core';\nimport { Injectable, NgZone } from '@angular/core';\ndeclare var google: any;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MapService extends GoogleMapsAPIWrapper {\n  geocoder: Promise&lt;any&gt;;\n  constructor(private __loader: MapsAPILoader, private __zone: NgZone) {\n    super(__loader, __zone);\n    this.geocoder = this.__loader.load().then(() =&gt; new google.maps.Geocoder());\n  }\n\n  getLatLan(address: string): Observable&lt;any&gt; {\n    return Observable.create(observer =&gt; {\n      this.geocoder.then((geocoder) =&gt; {\n        geocoder.geocode({ 'address': address }, (results, status) =&gt; {\n          if (status === google.maps.GeocoderStatus.OK) {\n            observer.next(results[0].geometry.location);\n            observer.complete();\n          } else {\n            console.error('Error - ', results, ' &amp; Status - ', status);\n            observer.next({});\n            observer.complete();\n          }\n        });\n      });\n    });\n  }\n}`\n</code></pre>\n\n<p>This is a service with a method to get the address and return lan and lat.</p>\n"}, {"comments": [{"owner": {"reputation": 1329, "user_id": 1188074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7673f2d36bc2891fc777d4433b7737fe?s=128&d=identicon&r=PG", "display_name": "wlf", "link": "https://stackoverflow.com/users/1188074/wlf"}, "edited": false, "score": 0, "creation_date": 1590360864, "post_id": 58522542, "comment_id": 109644862, "body": "good answer for showing all the possibilities including the one that fixed it for me - tsconfig.app.json, which also avoided installing @google/maps"}, {"owner": {"reputation": 185, "user_id": 3079062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46e8c76507ed17990d237a1298878f05?s=128&d=identicon&r=PG&f=1", "display_name": "tim.rohrer", "link": "https://stackoverflow.com/users/3079062/tim-rohrer"}, "edited": false, "score": 1, "creation_date": 1601214851, "post_id": 58522542, "comment_id": 113330516, "body": "Don&#39;t forget to restart your dev environment. I&#39;ve found that is necessary to get the reference seen."}], "tags": [], "owner": {"reputation": 2292, "user_id": 1995258, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/wd5ST.png?s=128&g=1", "display_name": "makkasi", "link": "https://stackoverflow.com/users/1995258/makkasi"}, "is_accepted": false, "score": 5, "last_activity_date": 1571836130, "last_edit_date": 1571836130, "creation_date": 1571832556, "answer_id": 58522542, "question_id": 42394697, "link": "https://stackoverflow.com/questions/42394697/angular2-cannot-find-namespace-google/58522542#58522542", "title": "Angular2 Cannot find namespace &#39;google&#39;", "body": "<pre><code>error: [ts] Cannot import type declaration files. Consider importing \u2018googlemaps\u2019 instead of \u2018@types/googlemaps\u2019\n</code></pre>\n\n<p><strong>solution</strong>: change <code>import {} from \u2018@types/googlemaps\u2019;</code> for </p>\n\n<pre><code>/// &lt;reference types=\u201d@types/googlemaps\u201d /&gt;\n</code></pre>\n\n<hr>\n\n<pre><code>error: while compiling, error TS2304: Cannot find name \u2018google\u2019.\n</code></pre>\n\n<p><strong>solution</strong>: add <code>declare var google: any;</code> below @types/googlemaps reference</p>\n\n<hr>\n\n<pre><code>error: while compiling error TS2503: Cannot find namespace \u2018google\u2019.\n</code></pre>\n\n<p><strong>solution</strong>: Add to tsconfig.app.json : <code>\"types\": [\"googlemaps\"]</code>\nand restart</p>\n\n<hr>\n\n<blockquote>\n  <p>error: map doesn\u2019t load correctly and in the web browser console you\n  read \u201cGoogle  Maps Javascript API Warning: NoApiKeys\u201d</p>\n</blockquote>\n\n<p><strong>solution</strong>: add a valid api key inside the javascript file in index.html, should \nlook like this \n<code>&lt;script type=\u201dtext/javascript\u201d src=\u201dhttp://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY_HERE\"&gt;&lt;/script&gt;</code> \nyou can get an API key from here <a href=\"https://developers.google.com/maps/documentation/javascript/get-api-key\" rel=\"noreferrer\">https://developers.google.com/maps/documentation/javascript/get-api-key</a></p>\n"}, {"tags": [], "owner": {"reputation": 184, "user_id": 7314892, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-xxqol08ZS9k/AAAAAAAAAAI/AAAAAAAAASQ/9JREuhSK7GY/photo.jpg?sz=128", "display_name": "Mohsin Younas", "link": "https://stackoverflow.com/users/7314892/mohsin-younas"}, "is_accepted": false, "score": 0, "last_activity_date": 1592072583, "creation_date": 1592072583, "answer_id": 62363962, "question_id": 42394697, "link": "https://stackoverflow.com/questions/42394697/angular2-cannot-find-namespace-google/62363962#62363962", "title": "Angular2 Cannot find namespace &#39;google&#39;", "body": "<p>Straight solution, Add \"googlemaps\" to types array in tsconfig.app.json. And I didnt need to declare anything like, declare var google: any;. Just adding googlemaps in tsconfig works. </p>\n\n<pre><code>\"types\": [\"googlemaps\"]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1351, "user_id": 2008950, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bb05f9ec4614bf1a99e4bb9748e02eba?s=128&d=identicon&r=PG", "display_name": "Tukkan", "link": "https://stackoverflow.com/users/2008950/tukkan"}, "is_accepted": false, "score": 0, "last_activity_date": 1612787285, "creation_date": 1612787285, "answer_id": 66101642, "question_id": 42394697, "link": "https://stackoverflow.com/questions/42394697/angular2-cannot-find-namespace-google/66101642#66101642", "title": "Angular2 Cannot find namespace &#39;google&#39;", "body": "<p>If anyone is struggling with this because Webstorm undescores the code even after installing types and adding them to tsconfig... restart the Webstorm. It took me an hour.</p>\n"}], "owner": {"reputation": 2982, "user_id": 3780040, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/g8J5b.png?s=128&g=1", "display_name": "Milo", "link": "https://stackoverflow.com/users/3780040/milo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47050, "favorite_count": 9, "protected_date": 1534159461, "accepted_answer_id": 42416954, "answer_count": 12, "score": 44, "last_activity_date": 1612787285, "creation_date": 1487774798, "last_edit_date": 1487855874, "question_id": 42394697, "link": "https://stackoverflow.com/questions/42394697/angular2-cannot-find-namespace-google", "title": "Angular2 Cannot find namespace &#39;google&#39;", "body": "<p>I am working with <code>angular2-google-maps</code> and latest version of Angular2. I am trying to convert some of the local map component functions into services in their own file <code>maps.service.ts</code>. For example:</p>\n\n<p>map.component.ts</p>\n\n<pre><code>getGeoLocation(lat: number, lng: number) {\nif (navigator.geolocation) {\n    let geocoder = new google.maps.Geocoder();\n    let latlng = new google.maps.LatLng(lat, lng);\n    let request = { latLng: latlng };\n    geocoder.geocode(request, (results, status) =&gt; {\n      if (status == google.maps.GeocoderStatus.OK) {\n        let result = results[0];\n        if (result != null) {\n          this.fillInputs(result.formatted_address);\n        } else {\n          alert(\"No address available!\");\n        }\n      }\n    });\n}\n}\n</code></pre>\n\n<p>Into something like: <code>maps.service.ts</code></p>\n\n<pre><code>getGeoLocation(lat: number, lng: number): Observable&lt;google.maps.GeocoderResult[]&gt; {\n    let geocoder = new google.maps.Geocoder();\n    let latlng = new google.maps.LatLng(lat, lng);\n    let request = { latLng: latlng };\n    return new Observable((observer: Observer&lt;google.maps.GeocoderResult[]&gt;) =&gt; {\n        geocoder.geocode({ request }, (\n            (results: google.maps.GeocoderResult[], status: google.maps.GeocoderStatus) =&gt; {\n                if (status == google.maps.GeocoderStatus.OK) {\n                    observer.next(results);\n                    observer.complete();\n                } else {\n                    console.log('Geocoding service failed due to: ' +status);\n                    observer.error(status);\n                }\n            }\n        ));\n    });\n}\n</code></pre>\n\n<p>The issue I'm getting is that <code>google</code> variable is not being recognized when I try to use <code>Observer&lt;google.maps.GeocoderResult[]&gt;</code>. I have <code>declare var google: any;</code> outside of the service class as well.</p>\n\n<p>The <code>google</code> variable works in my <code>map.componenet.ts</code> but doesn't get recognized in the <code>maps.service.ts</code>.</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "reactive-programming"], "comments": [{"owner": {"reputation": 1049, "user_id": 6371125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iio7R.jpg?s=128&g=1", "display_name": "Oliver Cooke", "link": "https://stackoverflow.com/users/6371125/oliver-cooke"}, "edited": false, "score": 0, "creation_date": 1487777000, "post_id": 42394438, "comment_id": 71938210, "body": "Can you show your complete code (the comment saying do things with observer)"}], "answers": [{"comments": [{"owner": {"reputation": 453, "user_id": 558193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3658a1b51c10dd31b103ecb9069bdbbf?s=128&d=identicon&r=PG", "display_name": "Roger", "link": "https://stackoverflow.com/users/558193/roger"}, "edited": false, "score": 2, "creation_date": 1528840150, "post_id": 42536229, "comment_id": 88657343, "body": "As of Angular6 the imports will be: <code>import {Observable} from &#39;rxjs&#47;Observable&#39;; import {Observer} from &#39;rxjs&#47;Observer&#39;; </code>"}, {"owner": {"reputation": 2140, "user_id": 2393789, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0d7ae370c3d97446212070057e2b4a8a?s=128&d=identicon&r=PG", "display_name": "onetwo12", "link": "https://stackoverflow.com/users/2393789/onetwo12"}, "edited": false, "score": 1, "creation_date": 1603491597, "post_id": 42536229, "comment_id": 114064623, "body": "As of RxJS 6.5.5 <code>import { Observable, Observer } from &#39;rxjs&#39;</code>"}, {"owner": {"reputation": 2589, "user_id": 1186291, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/LlKBe.jpg?s=128&g=1", "display_name": "alfonsodev", "link": "https://stackoverflow.com/users/1186291/alfonsodev"}, "edited": false, "score": 0, "creation_date": 1606339923, "post_id": 42536229, "comment_id": 114938552, "body": "I need to emit a different type than the one I&#39;m receiving, is there any way of doing that ?"}], "tags": [], "owner": {"reputation": 116, "user_id": 2502891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w03kR.png?s=128&g=1", "display_name": "David Vale", "link": "https://stackoverflow.com/users/2502891/david-vale"}, "is_accepted": true, "score": 7, "last_activity_date": 1603673771, "last_edit_date": 1603673771, "creation_date": 1488383479, "answer_id": 42536229, "question_id": 42394438, "link": "https://stackoverflow.com/questions/42394438/how-to-define-the-type-of-an-observer-in-typescript/42536229#42536229", "title": "how to define the type of an observer in typescript", "body": "<p>In case you didn't find a solution yet:\nFirst you must import the Observer and Observable lib.</p>\n<p><code>import { Observable, Observer } from 'rxjs/Rx';</code></p>\n<p>And as in you question we do something like this:</p>\n<pre><code>Observable.create( (observer: Observer&lt;JSON&gt;) =&gt; {\n    /* do things with observer */\n    observer.next(data); //data - Must be a JSON object\n    observer.complete();\n})\n</code></pre>\n<p>Note that the observer type argument is the type of the <code>observer.next(data)</code>.</p>\n"}], "owner": {"reputation": 6896, "user_id": 6797267, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/bba37c069bfb5b705b7a0c98bd9b4803?s=128&d=identicon&r=PG&f=1", "display_name": "Lev", "link": "https://stackoverflow.com/users/6797267/lev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4055, "favorite_count": 1, "accepted_answer_id": 42536229, "answer_count": 1, "score": 6, "last_activity_date": 1603673771, "creation_date": 1487774115, "question_id": 42394438, "link": "https://stackoverflow.com/questions/42394438/how-to-define-the-type-of-an-observer-in-typescript", "title": "how to define the type of an observer in typescript", "body": "<p>Typescript is asking me to type my observer variable :</p>\n\n<pre><code>Observer.create(observer: whatTypeShouldIUse =&gt; /* do things with observer */)\n</code></pre>\n\n<p>I tried using the <code>Observer</code> class or interface from the rxjs library, but it's a generic type.</p>\n\n<p>What type should I put for my observer ? I put <code>Observer&lt;any&gt;</code> for now...</p>\n"}, {"tags": ["jquery", "angular", "typescript", "webpack"], "comments": [{"owner": {"reputation": 8055, "user_id": 3197720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bb0aq.jpg?s=128&g=1", "display_name": "Tyler Jennings", "link": "https://stackoverflow.com/users/3197720/tyler-jennings"}, "edited": false, "score": 1, "creation_date": 1487774260, "post_id": 42394377, "comment_id": 71936233, "body": "You always have to import or declare external objects you are using in each component.  You can have webpack bundle it, but external objects still have to be declared or imported in each component."}], "answers": [{"comments": [{"owner": {"reputation": 955, "user_id": 1058278, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/ef04e33a6c612515629366083fbe512f?s=128&d=identicon&r=PG", "display_name": "Androidian", "link": "https://stackoverflow.com/users/1058278/androidian"}, "edited": false, "score": 0, "creation_date": 1487776089, "post_id": 42394503, "comment_id": 71937594, "body": "My webpack already contains those statements and I&#39;ve already installed jquery and @types/jquery. See my webpack.config file in my updated question please."}], "tags": [], "owner": {"reputation": 4976, "user_id": 6848233, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ce4932ec84e19e8970d40e8c837346aa?s=128&d=identicon&r=PG&f=1", "display_name": "Jaroslaw K.", "link": "https://stackoverflow.com/users/6848233/jaroslaw-k"}, "is_accepted": false, "score": 3, "last_activity_date": 1487774267, "creation_date": 1487774267, "answer_id": 42394503, "question_id": 42394377, "link": "https://stackoverflow.com/questions/42394377/angular-2-typescript-jquery-webpack-not-defined/42394503#42394503", "title": "Angular 2 + Typescript + jQuery + webpack: $ not defined", "body": "<p>Yes, you can do this, if you update plugins in your webpack.config.js in this way: </p>\n\n<pre><code>plugins: [\n    new webpack.ProvidePlugin({\n      jQuery: 'jquery',\n      $: 'jquery',\n      jquery: 'jquery'\n    })\n  ]\n</code></pre>\n\n<p>do not forget before install necessary dependencies:</p>\n\n<pre><code>npm install jquery --save\nnpm install @types/jquery --save-dev\n</code></pre>\n"}], "owner": {"reputation": 955, "user_id": 1058278, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/ef04e33a6c612515629366083fbe512f?s=128&d=identicon&r=PG", "display_name": "Androidian", "link": "https://stackoverflow.com/users/1058278/androidian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1065, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1522917606, "creation_date": 1487773975, "last_edit_date": 1522917606, "question_id": 42394377, "link": "https://stackoverflow.com/questions/42394377/angular-2-typescript-jquery-webpack-not-defined", "title": "Angular 2 + Typescript + jQuery + webpack: $ not defined", "body": "<p>As title says I'm developing an Angular 2 application using typescript, jquery and webpack (to dist js and css files).</p>\n\n<p>From a controller, when I need to access jquery ($) I have to always import it like:</p>\n\n<pre><code>var $: JQueryStatic = require('jquery');\n</code></pre>\n\n<p>at the top of each controller which need jQuery functions.</p>\n\n<p>For more information, here is my webpack.config file:</p>\n\n<pre><code>const path = require('path');\nconst webpack = require('webpack');\nconst ExtractTextPlugin = require('extract-text-webpack-plugin');\nconst merge = require('webpack-merge');\n\nmodule.exports = (env) =&gt; {\n    const extractCSS = new ExtractTextPlugin('vendor.css');\n    const isDevBuild = !(env &amp;&amp; env.prod);\n    const sharedConfig = {\n        stats: { modules: false },\n        resolve: { extensions: ['.js'] },\n        module: {\n            rules: [\n                { test: /\\.(png|woff|woff2|eot|ttf|svg)(\\?|$)/, use: 'url-loader?limit=100000' },\n                { test: /jquery-mousewheel/, loader: \"imports-loader?define=&gt;false&amp;this=&gt;window\" },\n                { test: /malihu-custom-scrollbar-plugin/, loader: \"imports-loader?define=&gt;false&amp;this=&gt;window\" }\n            ]\n        },\n        entry: {\n            vendor: [\n                '@angular/common',\n                '@angular/compiler',\n                '@angular/core',\n                '@angular/flex-layout',\n                '@angular/http',\n                '@angular/material',\n                '@angular/platform-browser',\n                '@angular/platform-browser-dynamic',\n                '@angular/router',\n                '@angular/platform-server',\n                'angular2-universal',\n                'angular2-universal-polyfills',\n                'bootstrap',\n                //'bootstrap/dist/css/bootstrap.css',\n                'es6-shim',\n                'es6-promise',\n                'font-awesome/css/font-awesome.css',\n                'event-source-polyfill',\n                'hammerjs',\n                'jquery',\n                'jquery-mousewheel',\n                'malihu-custom-scrollbar-plugin',\n                'malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.css',\n                'swiper',\n                'swiper/dist/css/swiper.css',\n                'zone.js',\n            ]\n        },\n        output: {\n            publicPath: '/dist/',       // Specifies the public URL address of the output files when referenced in a browser\n            filename: '[name].js',      // Specifies the name of each output file on disk\n            library: '[name]_[hash]'    // Export the bundle as library with that name\n        },\n        plugins: [\n            new webpack.ProvidePlugin({ $: 'jquery', jQuery: 'jquery', jquery: 'jquery', Hammer: \"hammerjs/hammer\" }), // Maps these identifiers to the jQuery package (because Bootstrap expects it to be a global variable)\n            new webpack.ContextReplacementPlugin(/\\@angular\\b.*\\b(bundles|linker)/, path.join(__dirname, './ClientApp')), // Workaround for https://github.com/angular/angular/issues/11580\n            new webpack.IgnorePlugin(/^vertx$/) // Workaround for https://github.com/stefanpenner/es6-promise/issues/100\n        ]\n    };\n\n    const clientBundleConfig = merge(sharedConfig, {\n        output: { path: path.join(__dirname, 'wwwroot', 'dist') },\n        module: {\n            rules: [\n                { test: /\\.css(\\?|$)/, use: extractCSS.extract({ use: 'css-loader' }) }\n            ]\n        },\n        plugins: [\n            extractCSS,\n            new webpack.DllPlugin({\n                path: path.join(__dirname, 'wwwroot', 'dist', '[name]-manifest.json'),\n                name: '[name]_[hash]'\n            })\n        ].concat(isDevBuild ? [] : [\n            new webpack.optimize.UglifyJsPlugin()\n        ])\n    });\n\n    const serverBundleConfig = merge(sharedConfig, {\n        target: 'node',\n        resolve: { mainFields: ['main'] },\n        output: {\n            path: path.join(__dirname, 'ClientApp', 'dist'),\n            libraryTarget: 'commonjs2',\n        },\n        module: {\n            rules: [{ test: /\\.css(\\?|$)/, use: ['to-string-loader', 'css-loader'] }]\n        },\n        entry: { vendor: ['aspnet-prerendering'] },\n        plugins: [\n            new webpack.DllPlugin({\n                path: path.join(__dirname, 'ClientApp', 'dist', '[name]-manifest.json'),\n                name: '[name]_[hash]'\n            })\n        ]\n    });\n\n    return [clientBundleConfig, serverBundleConfig];\n}\n</code></pre>\n\n<p>Is there a way to not have to do that declaration each time?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5997019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed88f0b9926788a1bd77d3c28ba5517?s=128&d=identicon&r=PG", "display_name": "Michael Knoll", "link": "https://stackoverflow.com/users/5997019/michael-knoll"}, "edited": false, "score": 0, "creation_date": 1487773789, "post_id": 42393823, "comment_id": 71935890, "body": "It didn&#39;t work. Maybe I have to give a better example. Imagine a user sends a link to another user. For example <a href=\"http://localhost:3000/create/user\" rel=\"nofollow noreferrer\">localhost:3000/create/user</a>. Now my problem is that Angular isn&#39;t redirecting to my DynamicCreationComponent. The router is just empty."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 23, "user_id": 5997019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed88f0b9926788a1bd77d3c28ba5517?s=128&d=identicon&r=PG", "display_name": "Michael Knoll", "link": "https://stackoverflow.com/users/5997019/michael-knoll"}, "edited": false, "score": 0, "creation_date": 1487773889, "post_id": 42393823, "comment_id": 71935966, "body": "What server are you using? Is this happening with <code>ng serve</code>?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 23, "user_id": 5997019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed88f0b9926788a1bd77d3c28ba5517?s=128&d=identicon&r=PG", "display_name": "Michael Knoll", "link": "https://stackoverflow.com/users/5997019/michael-knoll"}, "edited": false, "score": 0, "creation_date": 1487773921, "post_id": 42393823, "comment_id": 71935992, "body": "What do you mean exactly with &quot;The router is just empty&quot;?"}, {"owner": {"reputation": 23, "user_id": 5997019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed88f0b9926788a1bd77d3c28ba5517?s=128&d=identicon&r=PG", "display_name": "Michael Knoll", "link": "https://stackoverflow.com/users/5997019/michael-knoll"}, "edited": false, "score": 0, "creation_date": 1487774691, "post_id": 42393823, "comment_id": 71936525, "body": "Ok sry it displays the login component. I didn&#39;t saw it because I was logged in"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 23, "user_id": 5997019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed88f0b9926788a1bd77d3c28ba5517?s=128&d=identicon&r=PG", "display_name": "Michael Knoll", "link": "https://stackoverflow.com/users/5997019/michael-knoll"}, "edited": false, "score": 0, "creation_date": 1487774759, "post_id": 42393823, "comment_id": 71936574, "body": "Does this mean it&#39;s working? or is there still a problem?"}, {"owner": {"reputation": 23, "user_id": 5997019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed88f0b9926788a1bd77d3c28ba5517?s=128&d=identicon&r=PG", "display_name": "Michael Knoll", "link": "https://stackoverflow.com/users/5997019/michael-knoll"}, "edited": false, "score": 0, "creation_date": 1487775148, "post_id": 42393823, "comment_id": 71936867, "body": "Unfortunately no. I would like that he displays the component, that the user wants but he always goes to the LoginComponent. Also if the user types in another url into the browser."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 23, "user_id": 5997019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed88f0b9926788a1bd77d3c28ba5517?s=128&d=identicon&r=PG", "display_name": "Michael Knoll", "link": "https://stackoverflow.com/users/5997019/michael-knoll"}, "edited": false, "score": 0, "creation_date": 1487775206, "post_id": 42393823, "comment_id": 71936915, "body": "Do your <code>AuthService</code> or <code>AuthGuard</code> do any redirects?"}, {"owner": {"reputation": 23, "user_id": 5997019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed88f0b9926788a1bd77d3c28ba5517?s=128&d=identicon&r=PG", "display_name": "Michael Knoll", "link": "https://stackoverflow.com/users/5997019/michael-knoll"}, "edited": false, "score": 0, "creation_date": 1487775748, "post_id": 42393823, "comment_id": 71937341, "body": "No. The only redirect is when the user wants to log out"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 23, "user_id": 5997019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed88f0b9926788a1bd77d3c28ba5517?s=128&d=identicon&r=PG", "display_name": "Michael Knoll", "link": "https://stackoverflow.com/users/5997019/michael-knoll"}, "edited": false, "score": 0, "creation_date": 1487776164, "post_id": 42393823, "comment_id": 71937648, "body": "Have you set a base HREF like <code>&lt;base href=&quot;&#47;&quot;&gt;</code> or <code>{ provide: APP_BASE_HREF, useValue: &#39;&#47;&#39;}</code>?"}, {"owner": {"reputation": 23, "user_id": 5997019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed88f0b9926788a1bd77d3c28ba5517?s=128&d=identicon&r=PG", "display_name": "Michael Knoll", "link": "https://stackoverflow.com/users/5997019/michael-knoll"}, "edited": false, "score": 0, "creation_date": 1487776268, "post_id": 42393823, "comment_id": 71937728, "body": "do i have to add this in my app.constant?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 23, "user_id": 5997019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed88f0b9926788a1bd77d3c28ba5517?s=128&d=identicon&r=PG", "display_name": "Michael Knoll", "link": "https://stackoverflow.com/users/5997019/michael-knoll"}, "edited": false, "score": 0, "creation_date": 1487776655, "post_id": 42393823, "comment_id": 71937977, "body": "You could try adding the later to <code>APP_ROUTER_PROVIDERS</code>. For the default setup you don&#39;t need it AFAIK. If might hurt if you have it with a different value than <code>&#47;</code> - which is why I asked."}, {"owner": {"reputation": 23, "user_id": 5997019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed88f0b9926788a1bd77d3c28ba5517?s=128&d=identicon&r=PG", "display_name": "Michael Knoll", "link": "https://stackoverflow.com/users/5997019/michael-knoll"}, "edited": false, "score": 0, "creation_date": 1487854267, "post_id": 42393823, "comment_id": 71977776, "body": "ok thanks for your effort but I have solved it with another solution. It may not be the cleanest method but it works"}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 1, "last_activity_date": 1487772563, "creation_date": 1487772563, "answer_id": 42393823, "question_id": 42393804, "link": "https://stackoverflow.com/questions/42393804/router-doesnt-route-to-component-after-refresh-angular-2/42393823#42393823", "title": "Router doesn&#39;t route to component after refresh angular 2", "body": "<p>If you use an empty path <code>''</code>, without child routes, then add <code>pathMatch</code></p>\n\n<pre><code>{\n    path: '',\n    component: LoginComponent,\n    pathMatch: 'full'\n},\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5997019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed88f0b9926788a1bd77d3c28ba5517?s=128&d=identicon&r=PG", "display_name": "Michael Knoll", "link": "https://stackoverflow.com/users/5997019/michael-knoll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 378, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1514575640, "creation_date": 1487772515, "question_id": 42393804, "link": "https://stackoverflow.com/questions/42393804/router-doesnt-route-to-component-after-refresh-angular-2", "title": "Router doesn&#39;t route to component after refresh angular 2", "body": "<p>I have the problem that if I reload my application with a url that should show a specific component my application will instead show the default page. For example I want to go to /create/user directly over the browser (refresh) he will instead show me my default page. </p>\n\n<p>Here is my route config. </p>\n\n<pre><code>import {provideRouter, RouterConfig} from '@angular/router';\nimport {GenericRequestEndpoint} from './components/dynamicresponsetable/dynamicresponsetable.component';\nimport {DynamicDisplayForm} from './components/dynamicdisplaycomponent/dynamic.display.component';\nimport {DynamicCreationComponent} from './components/dynamiccreationcomponent/dynamic.creation.component';\nimport {LoginComponent} from './components/login/login.component';\nimport {AuthService} from './components/services/auth.service';\nimport {AuthGuard} from './components/services/auth-guard.service';\nimport {Dummy} from './components/dummy';\nimport {ConfigurationComponent} from './components/configurationcomponent/configuration.component';\n\n\nexport const ROUTER: RouterConfig = [\n    {\n        path: '',\n        component: LoginComponent\n    },\n    {\n        path: 'dashboard',\n        component: Dummy,\n        canActivate: [AuthGuard]\n    },\n    {\n        path: 'endpoint/:endpointname',\n        component: GenericRequestEndpoint,\n        canActivate: [AuthGuard]\n    },\n    {\n        path: 'detail/:specificitem',\n        component: DynamicDisplayForm,\n        canActivate: [AuthGuard]\n    },\n    {\n        path: 'create/:endpointname',\n        component: DynamicCreationComponent,\n        canActivate: [AuthGuard]\n    },\n    {\n        path: 'configurator/:endpointname',\n        component: ConfigurationComponent,\n        canActivate: [AuthGuard]\n    }\n];\n\n\n\nexport const APP_ROUTER_PROVIDERS = [\n    provideRouter(ROUTER), AuthService, AuthGuard\n];\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic2", "angular2-template"], "answers": [{"tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": 6, "last_activity_date": 1487772642, "creation_date": 1487772642, "answer_id": 42393853, "question_id": 42393755, "link": "https://stackoverflow.com/questions/42393755/define-a-default-image-if-the-variable-image-is-empty/42393853#42393853", "title": "Define a default image if the variable {{image}} is empty", "body": "<p>Use Logical OR operator <code>||</code></p>\n\n<pre><code>&lt;img width=\"90\" height=\"90\"  src=\"{{image||'assets/img/pic_user.png'}}\" /&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 40137, "user_id": 6677986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cwYCn.jpg?s=128&g=1", "display_name": "Stefan Svrkota", "link": "https://stackoverflow.com/users/6677986/stefan-svrkota"}, "is_accepted": false, "score": 6, "last_activity_date": 1487772916, "last_edit_date": 1487772916, "creation_date": 1487772664, "answer_id": 42393866, "question_id": 42393755, "link": "https://stackoverflow.com/questions/42393755/define-a-default-image-if-the-variable-image-is-empty/42393866#42393866", "title": "Define a default image if the variable {{image}} is empty", "body": "<p>You can store default image route in variable and then use ternary operator to use it in case <code>image</code> doesn't exist:</p>\n\n<pre><code>defaultImage: string = \"assets/img/pic_user.png\";\n</code></pre>\n\n<p>And then in your template:</p>\n\n<pre><code>&lt;img width=\"90\" height=\"90\"  [src]=\"image ? image : defaultImage\" /&gt;\n</code></pre>\n\n<p>Notice that I used property binding instead of interpolation, it is much more elegant in my opinion.</p>\n"}, {"tags": [], "owner": {"reputation": 96, "user_id": 7589519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J3vUk.png?s=128&g=1", "display_name": "A. Kutluozen", "link": "https://stackoverflow.com/users/7589519/a-kutluozen"}, "is_accepted": false, "score": 1, "last_activity_date": 1487772676, "creation_date": 1487772676, "answer_id": 42393873, "question_id": 42393755, "link": "https://stackoverflow.com/questions/42393755/define-a-default-image-if-the-variable-image-is-empty/42393873#42393873", "title": "Define a default image if the variable {{image}} is empty", "body": "<p>There is a trick to set default values in JavaScript:</p>\n\n<pre><code>var a = newValue || 0;\n</code></pre>\n\n<p>Same also works for Angular. \nIn your case:</p>\n\n<pre><code>&lt;img width=\"90\" height=\"90\" src=\"{{image || 'assets/img/pic_user.png' }}\" /&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1092, "user_id": 1820424, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/62c66025eb107cbd96e4d285847074c2?s=128&d=identicon&r=PG&f=1", "display_name": "uzr", "link": "https://stackoverflow.com/users/1820424/uzr"}, "is_accepted": false, "score": 0, "last_activity_date": 1487772861, "last_edit_date": 1495541857, "creation_date": 1487772861, "answer_id": 42393944, "question_id": 42393755, "link": "https://stackoverflow.com/questions/42393755/define-a-default-image-if-the-variable-image-is-empty/42393944#42393944", "title": "Define a default image if the variable {{image}} is empty", "body": "<p>Use a fallback image</p>\n\n<pre><code>&lt;img fallback-src=\"fallbackimg\" ng-src=\"{{image}}\"/&gt;\n\nmyApp.directive('fallbackSrc', function () {\n  var fallbackSrc = {\n    link: function postLink(scope, iElement, iAttrs) {\n      iElement.bind('error', function() {\n        angular.element(this).attr(\"src\", iAttrs.fallbackSrc);\n      });\n    }\n   }\n   return fallbackSrc;\n});\n</code></pre>\n\n<p>from: <a href=\"https://stackoverflow.com/questions/16349578/angular-directive-for-a-fallback-image\">Angular directive for a fallback image</a></p>\n"}], "owner": {"reputation": 563, "user_id": 2570426, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/93d2q.jpg?s=128&g=1", "display_name": "viana", "link": "https://stackoverflow.com/users/2570426/viana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5547, "favorite_count": 0, "accepted_answer_id": 42393853, "answer_count": 4, "score": 1, "last_activity_date": 1487774971, "creation_date": 1487772378, "last_edit_date": 1487774971, "question_id": 42393755, "link": "https://stackoverflow.com/questions/42393755/define-a-default-image-if-the-variable-image-is-empty", "title": "Define a default image if the variable {{image}} is empty", "body": "<p>My <code>&lt;img&gt;</code>:</p>\n\n<pre><code>&lt;img width=\"90\" height=\"90\"  src=\"{{image}}\" /&gt;\n</code></pre>\n\n<p>Default image folder: <code>assets/img/pic_user.png</code></p>\n\n<p>How can I define a default image that is not defined in the variable: <code>{{image}}</code> ?</p>\n"}, {"tags": ["javascript", "angularjs", "angular", "typescript"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 1, "creation_date": 1487772019, "post_id": 42393555, "comment_id": 71934537, "body": "How <code>action</code> looks like? I usually use <code>string</code> datatype not <code>String</code>"}, {"owner": {"reputation": 1496, "user_id": 5960632, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/gIuBD.jpg?s=128&g=1", "display_name": "Maxime G&#233;linas", "link": "https://stackoverflow.com/users/5960632/maxime-g%c3%a9linas"}, "edited": false, "score": 0, "creation_date": 1487772431, "post_id": 42393555, "comment_id": 71934874, "body": "Try with a propery getter <code>get text() { return &quot;Test&quot;; }</code> and <code>{{action.text}}</code>. Work only if the action object come from your component ts file or from a local variable defined with the # tag."}, {"owner": {"reputation": 63, "user_id": 6651577, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000476118039/picture?type=large", "display_name": "Luca", "link": "https://stackoverflow.com/users/6651577/luca"}, "reply_to_user": {"reputation": 1496, "user_id": 5960632, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/gIuBD.jpg?s=128&g=1", "display_name": "Maxime G&#233;linas", "link": "https://stackoverflow.com/users/5960632/maxime-g%c3%a9linas"}, "edited": false, "score": 0, "creation_date": 1487773124, "post_id": 42393555, "comment_id": 71935398, "body": "@MaximeG&#233;linas i now have <code>get text() { return &quot;Test&quot;;}</code> and <code>{{action.text}}</code> in my component. But there is now no text shown (at least it doesn&#39;t crash anymore). The variable action is defined in the associated Component file"}, {"owner": {"reputation": 63, "user_id": 6651577, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000476118039/picture?type=large", "display_name": "Luca", "link": "https://stackoverflow.com/users/6651577/luca"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1487773178, "post_id": 42393555, "comment_id": 71935435, "body": "@AvinashRaj this class only holds a few variables and this method. What&#39;s the difference between <code>string</code> and <code>String</code>?"}, {"owner": {"reputation": 63, "user_id": 6651577, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000476118039/picture?type=large", "display_name": "Luca", "link": "https://stackoverflow.com/users/6651577/luca"}, "edited": false, "score": 1, "creation_date": 1487773545, "post_id": 42393555, "comment_id": 71935710, "body": "And for general understanding: So, it&#39;s not possible to call a function this way? Let&#39;s say, my class Action has a date property and i want to display the minutes value. Then i cannot write <code>{{action.date.getMinutes()}}</code>"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487773816, "post_id": 42393555, "comment_id": 71935915, "body": "Why do you think <code>ation</code> contains a method <code>getText()</code>. Is the typo (missing <code>c</code>) only in your question?"}, {"owner": {"reputation": 63, "user_id": 6651577, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000476118039/picture?type=large", "display_name": "Luca", "link": "https://stackoverflow.com/users/6651577/luca"}, "edited": false, "score": 0, "creation_date": 1487774022, "post_id": 42393555, "comment_id": 71936063, "body": "Yes, it&#39;s just a typo in my question. I just corrected it. The variable is of type Action which contains a method getText()"}, {"owner": {"reputation": 1496, "user_id": 5960632, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/gIuBD.jpg?s=128&g=1", "display_name": "Maxime G&#233;linas", "link": "https://stackoverflow.com/users/5960632/maxime-g%c3%a9linas"}, "edited": false, "score": 0, "creation_date": 1487777281, "post_id": 42393555, "comment_id": 71938427, "body": "@Luca Note that the text property getter should be inside the action class."}], "answers": [{"comments": [{"owner": {"reputation": 7329, "user_id": 127826, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/550d8e560b41ac68e1ba3df892095600?s=128&d=identicon&r=PG", "display_name": "Cobus Kruger", "link": "https://stackoverflow.com/users/127826/cobus-kruger"}, "edited": false, "score": 0, "creation_date": 1487774036, "post_id": 42394270, "comment_id": 71936074, "body": "Scratch that. You can convert to a property, but binding to a function result actually works as expected."}, {"owner": {"reputation": 63, "user_id": 6651577, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000476118039/picture?type=large", "display_name": "Luca", "link": "https://stackoverflow.com/users/6651577/luca"}, "edited": false, "score": 0, "creation_date": 1487774128, "post_id": 42394270, "comment_id": 71936137, "body": "Now, it shows nothing at all where the <code>&lt;span&gt;</code> should be"}, {"owner": {"reputation": 7329, "user_id": 127826, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/550d8e560b41ac68e1ba3df892095600?s=128&d=identicon&r=PG", "display_name": "Cobus Kruger", "link": "https://stackoverflow.com/users/127826/cobus-kruger"}, "reply_to_user": {"reputation": 63, "user_id": 6651577, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000476118039/picture?type=large", "display_name": "Luca", "link": "https://stackoverflow.com/users/6651577/luca"}, "edited": false, "score": 0, "creation_date": 1487774357, "post_id": 42394270, "comment_id": 71936300, "body": "Anything in the console?"}, {"owner": {"reputation": 63, "user_id": 6651577, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000476118039/picture?type=large", "display_name": "Luca", "link": "https://stackoverflow.com/users/6651577/luca"}, "edited": false, "score": 0, "creation_date": 1487774428, "post_id": 42394270, "comment_id": 71936341, "body": "So, in your comment you&#39;re saying that <code>action.getText()</code> should actually work fine?"}, {"owner": {"reputation": 63, "user_id": 6651577, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000476118039/picture?type=large", "display_name": "Luca", "link": "https://stackoverflow.com/users/6651577/luca"}, "edited": false, "score": 0, "creation_date": 1487774495, "post_id": 42394270, "comment_id": 71936384, "body": "With the function call <code>action.getText()</code> the application crashes. With the getter, there&#39;s nothing in the console"}, {"owner": {"reputation": 7329, "user_id": 127826, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/550d8e560b41ac68e1ba3df892095600?s=128&d=identicon&r=PG", "display_name": "Cobus Kruger", "link": "https://stackoverflow.com/users/127826/cobus-kruger"}, "reply_to_user": {"reputation": 63, "user_id": 6651577, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000476118039/picture?type=large", "display_name": "Luca", "link": "https://stackoverflow.com/users/6651577/luca"}, "edited": false, "score": 0, "creation_date": 1487774523, "post_id": 42394270, "comment_id": 71936412, "body": "What does &quot;crashes&quot; mean exactly? What is the message?"}, {"owner": {"reputation": 63, "user_id": 6651577, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000476118039/picture?type=large", "display_name": "Luca", "link": "https://stackoverflow.com/users/6651577/luca"}, "edited": false, "score": 0, "creation_date": 1487774826, "post_id": 42394270, "comment_id": 71936621, "body": "This is the output on my console: <code>Object { __zone_symbol__error: Error, fileName: Getter, lineNumber: Getter, columnNumber: Getter, message: Getter, name: Getter, stack: Getter, originalStack: Getter, zoneAwareStack: Getter, toString: createMethodProperty&#47;props[key].value(), 4 weitere\u2026 }  zone.js:518:9 \tconsoleError http:&#47;&#47;localhost:3000&#47;node_modules&#47;zone.js&#47;dist&#47;zone.js:518:&zwnj;&#8203;9 \tdrainMicroTaskQueue http:&#47;&#47;localhost:3000&#47;node_modules&#47;zone.js&#47;dist&#47;zone.js:532:&zwnj;&#8203;25 \tZoneTask&#47;this.invoke http:&#47;&#47;localhost:3000&#47;node_modules&#47;zone.js&#47;dist&#47;zone.js:420:&zwnj;&#8203;25</code>"}, {"owner": {"reputation": 7329, "user_id": 127826, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/550d8e560b41ac68e1ba3df892095600?s=128&d=identicon&r=PG", "display_name": "Cobus Kruger", "link": "https://stackoverflow.com/users/127826/cobus-kruger"}, "reply_to_user": {"reputation": 63, "user_id": 6651577, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000476118039/picture?type=large", "display_name": "Luca", "link": "https://stackoverflow.com/users/6651577/luca"}, "edited": false, "score": 0, "creation_date": 1487789595, "post_id": 42394270, "comment_id": 71946857, "body": "I think your <code>zone.js</code> is busted. If you update, you should see the actual error. Meanwhile, when you make the property change and place a breakpoint, can you confirm it&#39;s being called? I think you have something else going on."}, {"owner": {"reputation": 63, "user_id": 6651577, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000476118039/picture?type=large", "display_name": "Luca", "link": "https://stackoverflow.com/users/6651577/luca"}, "edited": false, "score": 0, "creation_date": 1487953944, "post_id": 42394270, "comment_id": 72031061, "body": "Ok, i just found out, what is wrong. Apparently, the data i have is not properly casted to type <code>Action</code>. I get the data as JSON from my Server and then call <code>result =&gt; result.json() as Action[]</code> as advised <a href=\"https://angular.io/docs/ts/latest/tutorial/toh-pt6.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/tutorial/toh-pt6.html</a> here. This apparently does not cast the data to type <code>Action[]</code> but to type <code>Object[]</code> which explains why i can&#39;t do any function calls at all. When i mock the data as <code>Action[]</code> every one of the proposed solutions works"}], "tags": [], "owner": {"reputation": 7329, "user_id": 127826, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/550d8e560b41ac68e1ba3df892095600?s=128&d=identicon&r=PG", "display_name": "Cobus Kruger", "link": "https://stackoverflow.com/users/127826/cobus-kruger"}, "is_accepted": true, "score": 4, "last_activity_date": 1487773700, "creation_date": 1487773700, "answer_id": 42394270, "question_id": 42393555, "link": "https://stackoverflow.com/questions/42393555/angular-2-string-interpolation-with-function-call/42394270#42394270", "title": "Angular 2: String interpolation with function call", "body": "<p>You could convert it to a property:</p>\n\n<pre><code>get text(): string { return \"Test\"; }\n</code></pre>\n\n<p>Your template becomes:</p>\n\n<pre><code>&lt;span&gt;{{ation.text}}&lt;/span&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 63, "user_id": 6651577, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000476118039/picture?type=large", "display_name": "Luca", "link": "https://stackoverflow.com/users/6651577/luca"}, "edited": false, "score": 0, "creation_date": 1487774336, "post_id": 42394390, "comment_id": 71936292, "body": "<code>ation</code> is a typo, which I have now corrected. The reference to <code>action.title</code> should just show, that the variable is defined correctly, since i can access this property."}], "tags": [], "owner": {"reputation": 7329, "user_id": 127826, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/550d8e560b41ac68e1ba3df892095600?s=128&d=identicon&r=PG", "display_name": "Cobus Kruger", "link": "https://stackoverflow.com/users/127826/cobus-kruger"}, "is_accepted": false, "score": 0, "last_activity_date": 1487962555, "last_edit_date": 1487962555, "creation_date": 1487773997, "answer_id": 42394390, "question_id": 42393555, "link": "https://stackoverflow.com/questions/42393555/angular-2-string-interpolation-with-function-call/42394390#42394390", "title": "Angular 2: String interpolation with function call", "body": "<p>You refer to <code>action.title</code>, but <code>ation.getText()</code>. Certainly a typo?</p>\n\n<pre><code>&lt;span&gt;{{action.getText()}}&lt;/span&gt;\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 6651577, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000476118039/picture?type=large", "display_name": "Luca", "link": "https://stackoverflow.com/users/6651577/luca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10188, "favorite_count": 0, "accepted_answer_id": 42394270, "answer_count": 2, "score": 3, "last_activity_date": 1581087176, "creation_date": 1487771933, "last_edit_date": 1581087176, "question_id": 42393555, "link": "https://stackoverflow.com/questions/42393555/angular-2-string-interpolation-with-function-call", "title": "Angular 2: String interpolation with function call", "body": "<p>I am developing my first Angular app and having trouble with string interpolation.</p>\n\n<p>I have a component which contains the following element:</p>\n\n<pre><code>`&lt;span&gt;{{action.getText()}}&lt;/span&gt;`\n</code></pre>\n\n<p>action is of Type Action which has the following method:</p>\n\n<pre><code>getText(): String { return \"Test\"; }\n</code></pre>\n\n<p>The variable action is defined correctly since I can access properties via {{}} without a problem. e.g. <code>{{action.title}}</code></p>\n\n<p>So my question is, is this even possible to access this function and if yes, what am I doing wrong?</p>\n"}, {"tags": ["typescript", "datepicker", "ionic2", "momentjs"], "owner": {"reputation": 6103, "user_id": 7325327, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/QYY60.jpg?s=128&g=1", "display_name": "Gabriel Barreto", "link": "https://stackoverflow.com/users/7325327/gabriel-barreto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1189, "favorite_count": 0, "answer_count": 0, "score": 6, "last_activity_date": 1487769680, "creation_date": 1487769680, "question_id": 42392678, "link": "https://stackoverflow.com/questions/42392678/ion-datetime-min-max-for-hours-doesn-t-works", "title": "Ion-datetime min/max for hours doesn\u2019t works", "body": "<p>I'm trying to implement a min and max attributes for datepickers. So i have two datepickers, one for start and another for the end, both just pick hours and minutes</p>\n\n<pre><code>&lt;ion-row&gt;\n  &lt;ion-col width-45&gt;\n    &lt;ion-item&gt;\n      &lt;ion-datetime formControlName=\"start\" displayFormat=\"HH:mm\" min=\"{{minStart}}\" max=\"{{maxStart}}\" pickerFormat=\"HH mm\" doneText=\"Ok\" cancelText=\"Cancelar\" (ionChange)=\"changeHours()\"&gt;&lt;/ion-datetime&gt;\n    &lt;/ion-item&gt;\n  &lt;/ion-col&gt;\n  &lt;ion-col width-45&gt;\n    &lt;ion-item&gt;\n      &lt;ion-datetime formControlName=\"end\" displayFormat=\"HH:mm\" min=\"{{minEnd}}\" max=\"{{maxEnd}}\" pickerFormat=\"HH mm\" doneText=\"Ok\" cancelText=\"Cancelar\" (ionChange)=\"changeHours()\"&gt;&lt;/ion-datetime&gt;\n    &lt;/ion-item&gt;\n  &lt;/ion-col&gt;\n&lt;/ion-row&gt;\n</code></pre>\n\n<p>In my ts file i have the variables and my <code>changeHours()</code> that i'm using to update the min and max values, and i'm using <code>Moment.js</code> to create and manipulate the dates</p>\n\n<pre><code>minDate: string = Moment().toDate().toISOString(); // i'm using this for other stuff too\nminStart: string = Moment().toDate().toISOString();\nmaxStart: string = Moment().toDate().toISOString();\nminEnd: string = Moment().toDate().toISOString();\nmaxEnd: string = Moment().format('YYYY-MM-DDT') + '23:59';\n\nchangeHours() {\n    let start= this.novoAtendimento.get('start').value;\n    let end= this.novoAtendimento.get('end').value;\n\n    if (ini != null &amp;&amp; term == null) {\n        this.minEnd= Moment(this.minDate).format('YYYY-MM-DDT') + start; //output is '2017-02-23T05:00' if i choose 05 00 in the picker\n    } else {\n        this.maxStart= Moment(this.minDate).format('YYYY-MM-DDT') + end;\n    }\n}\n</code></pre>\n\n<p>So this is basically what i have, i've also tried just the hour and minute in <code>HH:mm</code> format and <code>HH mm</code> (i know it isn't a ISO 8601 format, but it doesn't hurt to try).</p>\n\n<p>I've seen one guy updating it via the picker component to create a custom picker with the values he wants, but i think it's a ugly way since i can have a min/max attribute. And having in mind it's a dynamic field i don't want to call a method to create a new picker everytime the user changes the start or end datetime (but if it's the only way i'll use this picker component).</p>\n\n<p>So, how can i create a \"fence\" for my picker hours so the user can't select a end value that's smaller than the start value and vice versa? Does ionic 2 datetime min and max works just for hours and minutes?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "reply_to_user": {"reputation": 14609, "user_id": 1694368, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/ce50876f1ca095cb2b4c3f2033f72ed0?s=128&d=identicon&r=PG", "display_name": "Koby Douek", "link": "https://stackoverflow.com/users/1694368/koby-douek"}, "edited": false, "score": 0, "creation_date": 1487777683, "post_id": 42392398, "comment_id": 71938749, "body": "@KobyDouek try removing comment(<code>&#47;&#47;&quot;module&quot;: &quot;commonjs&quot;,</code>) from <code>tsconfig.json</code>.It makes JSON is invalid."}], "tags": [], "owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "is_accepted": true, "score": 3, "last_activity_date": 1487769146, "last_edit_date": 1487769146, "creation_date": 1487768952, "answer_id": 42392398, "question_id": 42392288, "link": "https://stackoverflow.com/questions/42392288/typescript-warning-transpiling-to-commonjs-consider-setting-module-system/42392398#42392398", "title": "TypeScript [Warning] transpiling to CommonJS, consider setting module: &quot;system&quot; in typescript Options", "body": "<p>You could set <code>module</code> to <code>system</code> option by setting <code>compilerOptions</code> of of <code>tsconfig.json</code> option.</p>\n\n<p><strong>tsconfig.json</strong></p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"allowSyntheticDefaultImports\": true,\n        \"module\": \"system\",\n        \"noImplicitAny\": true,\n        \"removeComments\": true,\n        \"preserveConstEnums\": true,\n        \"sourceMap\": true\n    }\n}\n</code></pre>\n\n<p>Find <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html\" rel=\"nofollow noreferrer\"><strong>tsconfig.json docs here</strong></a></p>\n\n<p>Also you can do the same via command line by adding <code>--module system</code> in your command args.</p>\n"}, {"tags": [], "owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "is_accepted": false, "score": 0, "last_activity_date": 1487768978, "creation_date": 1487768978, "answer_id": 42392418, "question_id": 42392288, "link": "https://stackoverflow.com/questions/42392288/typescript-warning-transpiling-to-commonjs-consider-setting-module-system/42392418#42392418", "title": "TypeScript [Warning] transpiling to CommonJS, consider setting module: &quot;system&quot; in typescript Options", "body": "<p>It should go into\n<code>tsconfig.json</code>\nThey contain the settings and configurations for typescript transpilation \nCheck <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<pre><code> \"compilerOptions\": {\n    \"allowSyntheticDefaultImports\": true,\n         \"module\": \"system\",\n\n    //other settings\n   }\n</code></pre>\n"}], "owner": {"reputation": 14609, "user_id": 1694368, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/ce50876f1ca095cb2b4c3f2033f72ed0?s=128&d=identicon&r=PG", "display_name": "Koby Douek", "link": "https://stackoverflow.com/users/1694368/koby-douek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 789, "favorite_count": 1, "accepted_answer_id": 42392398, "answer_count": 2, "score": 2, "last_activity_date": 1487769146, "creation_date": 1487768608, "last_edit_date": 1487769103, "question_id": 42392288, "link": "https://stackoverflow.com/questions/42392288/typescript-warning-transpiling-to-commonjs-consider-setting-module-system", "title": "TypeScript [Warning] transpiling to CommonJS, consider setting module: &quot;system&quot; in typescript Options", "body": "<p>Using Angular 2, I'm getting a warning in Chrome console:</p>\n\n<blockquote>\n  <p>TypeScript [Warning] transpiling to CommonJS, consider setting module: \"system\" in typescriptOptions to transpile directly to System.register format</p>\n</blockquote>\n\n<p>I've serached the web thoroughly but couldn't find a solution or an article about this issue.</p>\n\n<p>I did find <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">this</a> site, that mentions using:</p>\n\n<pre><code>--allowSyntheticDefaultImports  (boolean)   \n</code></pre>\n\n<p>as</p>\n\n<pre><code>module === \"system\"\n</code></pre>\n\n<p>I added to my <code>tsconfig.json</code> file:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    //\"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"noEmitHelpers\": true,\n    \"lib\": [ \"es2015\", \"dom\" ],\n    \"noImplicitAny\": true,\n    \"suppressImplicitAnyIndexErrors\": true,\n    \"allowSyntheticDefaultImports\": true,\n    \"module\": \"system\"\n  }\n}\n</code></pre>\n\n<p>But it did not help.</p>\n\n<p>Any suggestions ?</p>\n"}, {"tags": ["angular", "typescript", "ionic2"], "answers": [{"tags": [], "owner": {"reputation": 7040, "user_id": 5218360, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/rFIHY.jpg?s=128&g=1", "display_name": "Mohan Gopi", "link": "https://stackoverflow.com/users/5218360/mohan-gopi"}, "is_accepted": false, "score": 2, "last_activity_date": 1487768598, "creation_date": 1487768598, "answer_id": 42392282, "question_id": 42392137, "link": "https://stackoverflow.com/questions/42392137/hide-and-show-on-click-in-the-ionic-2/42392282#42392282", "title": "Hide and show on click in the ionic 2", "body": "<p>use ngIf to show and hide a content </p>\n\n<p>in your .html</p>\n\n<pre><code>&lt;button ion-button full round (click)=\"ngIfCtrl()\" &gt;Click &lt;/button&gt;\n&lt;ion-input type=\"text\" value=\"\" *ngIf=\"hide\"&gt;&lt;/ion-input&gt;\n</code></pre>\n\n<p>in your .ts file</p>\n\n<pre><code> hide:boolean = true;\nngIfCtrl(){\n  hide = !this.hide;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 519, "user_id": 5763965, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/xMD6N.jpg?s=128&g=1", "display_name": "jjgarc&#237;a", "link": "https://stackoverflow.com/users/5763965/jjgarc%c3%ada"}, "edited": false, "score": 0, "creation_date": 1507111574, "post_id": 42392300, "comment_id": 80077801, "body": "And with animation? thaks :)"}, {"owner": {"reputation": 1049, "user_id": 6371125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iio7R.jpg?s=128&g=1", "display_name": "Oliver Cooke", "link": "https://stackoverflow.com/users/6371125/oliver-cooke"}, "reply_to_user": {"reputation": 519, "user_id": 5763965, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/xMD6N.jpg?s=128&g=1", "display_name": "jjgarc&#237;a", "link": "https://stackoverflow.com/users/5763965/jjgarc%c3%ada"}, "edited": false, "score": 0, "creation_date": 1507194497, "post_id": 42392300, "comment_id": 80116350, "body": "@jjgarc&#237;a hope that animation example help you ouy :)"}, {"owner": {"reputation": 1301, "user_id": 4551227, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/WFnO7.jpg?s=128&g=1", "display_name": "Jesus Erwin Suarez", "link": "https://stackoverflow.com/users/4551227/jesus-erwin-suarez"}, "edited": false, "score": 0, "creation_date": 1531290633, "post_id": 42392300, "comment_id": 89534733, "body": "Works perfect!."}, {"owner": {"reputation": 342, "user_id": 9100310, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yb6k0CraWhM/AAAAAAAAAAI/AAAAAAAAABs/4jAXxxQ98fg/photo.jpg?sz=128", "display_name": "Dr. Freddy Dimethyltryptamine", "link": "https://stackoverflow.com/users/9100310/dr-freddy-dimethyltryptamine"}, "edited": false, "score": 0, "creation_date": 1568899353, "post_id": 42392300, "comment_id": 102428253, "body": "don&#39;t forget to include <code>import { BrowserAnimationsModule } from &#39;@angular&#47;platform-browser&#47;animations&#39;;</code>  in your app.module.ts"}], "tags": [], "owner": {"reputation": 1049, "user_id": 6371125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iio7R.jpg?s=128&g=1", "display_name": "Oliver Cooke", "link": "https://stackoverflow.com/users/6371125/oliver-cooke"}, "is_accepted": true, "score": 18, "last_activity_date": 1507196556, "last_edit_date": 1507196556, "creation_date": 1487768650, "answer_id": 42392300, "question_id": 42392137, "link": "https://stackoverflow.com/questions/42392137/hide-and-show-on-click-in-the-ionic-2/42392300#42392300", "title": "Hide and show on click in the ionic 2", "body": "<p>You could use a variable in your code behind and an <code>*ngIf</code></p>\n\n<p><em>your.component.html</em></p>\n\n<pre><code>&lt;button ion-button full round (click)=\"onButtonClick()\"&gt;Click&lt;/button&gt;\n\n&lt;ion-input *ngIf=\"buttonClicked\" type=\"text\" value=\"\"&gt;&lt;/ion-input&gt;\n</code></pre>\n\n<p><em>your.component.ts</em></p>\n\n<pre><code>export class YourComponent {\n\n    public buttonClicked: boolean = false; //Whatever you want to initialise it as\n\n    public onButtonClick() {\n\n        this.buttonClicked = !this.buttonClicked;\n    }\n}\n</code></pre>\n\n<p>Here's a plunker example <a href=\"https://plnkr.co/edit/Ot0b9iSc3vHWIDdwhhpw?p=preview\" rel=\"noreferrer\">https://plnkr.co/edit/Ot0b9iSc3vHWIDdwhhpw?p=preview</a></p>\n\n<p>Hope that helps</p>\n\n<p>-- <strong>Edit</strong> - Updated Plunk with animated example</p>\n\n<p>Animated button clicks are can be done but they are slightly different, you have to use angular's built-in animation which is put within the component itself. It also requires additional imports within the component to use it.</p>\n\n<p>Within the Component set up, you put an animation tag along with you selector, template etc and you can apply the style changes to that based on the string.</p>\n\n<pre><code>   animations: [\n        trigger(\"showHello\", [\n            state(\"true\", style({\n                \"opacity\": 1\n            })),\n            state(\"false\", style({\n                \"opacity\": 0\n            })),\n            transition(\"1 =&gt; 0\", animate(\"350ms ease-in\")),\n            transition(\"0 =&gt; 1\", animate(\"350ms ease-out\"))\n        ])\n    ]\n</code></pre>\n\n<p>This is then applied to something within the components HTML with a tag like follows.</p>\n\n<pre><code>&lt;div [@showHello]=\"buttonClicked\"&gt;\n    animated hello\n&lt;/div&gt;\n</code></pre>\n\n<p>Here's the plunker example again <a href=\"https://plnkr.co/edit/Ot0b9iSc3vHWIDdwhhpw?p=preview\" rel=\"noreferrer\">https://plnkr.co/edit/Ot0b9iSc3vHWIDdwhhpw?p=preview</a></p>\n\n<p>Hope that helps some more</p>\n"}], "owner": {"reputation": 133, "user_id": 6193651, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VGDoi.jpg?s=128&g=1", "display_name": "Vivek Kannan", "link": "https://stackoverflow.com/users/6193651/vivek-kannan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36099, "favorite_count": 2, "accepted_answer_id": 42392300, "answer_count": 2, "score": 8, "last_activity_date": 1507196556, "creation_date": 1487768174, "last_edit_date": 1487769324, "question_id": 42392137, "link": "https://stackoverflow.com/questions/42392137/hide-and-show-on-click-in-the-ionic-2", "title": "Hide and show on click in the ionic 2", "body": "<p>I Want to hide and show the input field by clicking a button.\ncan anyone please tell me how to do.</p>\n\n<p>My code follows:</p>\n\n<pre><code>&lt;button ion-button full round &gt;Click &lt;/button&gt;\n</code></pre>\n\n<p>Need to Hide</p>\n\n<pre><code>&lt;ion-input type=\"text\" value=\"\"&gt;&lt;/ion-input&gt;\n</code></pre>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["angular", "typescript", "firebase", "angularfire2"], "answers": [{"comments": [{"owner": {"reputation": 2133, "user_id": 1289311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b641f7aaa9603b827997a90ed8ce60c8?s=128&d=identicon&r=PG", "display_name": "Clark", "link": "https://stackoverflow.com/users/1289311/clark"}, "edited": false, "score": 0, "creation_date": 1487794172, "post_id": 42399929, "comment_id": 71949497, "body": "Your Player constructor? That is the only thing we differ on really. I am storing the <code>FirebaseObjectObservable</code> that was emitted.  My constructor is <code>(private dbObject: FirebaseObjectObservable)</code>.  It is basically a wrapper around that inner object. (Actually I have a dedicated interface for that inner observable). I would say <code>get key(){ return this.dbObject.$key}</code>.  Does anyone know the pros and cons of our variance? It is like Transfer vs Wrap"}, {"owner": {"reputation": 2904, "user_id": 7576144, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/drGTk.jpg?s=128&g=1", "display_name": "Karuban", "link": "https://stackoverflow.com/users/7576144/karuban"}, "reply_to_user": {"reputation": 2133, "user_id": 1289311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b641f7aaa9603b827997a90ed8ce60c8?s=128&d=identicon&r=PG", "display_name": "Clark", "link": "https://stackoverflow.com/users/1289311/clark"}, "edited": false, "score": 0, "creation_date": 1487831945, "post_id": 42399929, "comment_id": 71963789, "body": "@Clark Can you post your answer so they can compare our implementation? Thanks"}, {"owner": {"reputation": 127, "user_id": 6128071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vgzia.jpg?s=128&g=1", "display_name": "Jonas Wyss", "link": "https://stackoverflow.com/users/6128071/jonas-wyss"}, "edited": false, "score": 0, "creation_date": 1487834836, "post_id": 42399929, "comment_id": 71965187, "body": "Has the <code>Observable&lt;&gt;</code> the same functions as the <code>FirebaseObjectObservable&lt;&gt;</code> and the <code>FirebaseListObservable&lt;&gt;</code>, do changes in the db tribbe a UI update if i use it?"}], "tags": [], "owner": {"reputation": 2904, "user_id": 7576144, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/drGTk.jpg?s=128&g=1", "display_name": "Karuban", "link": "https://stackoverflow.com/users/7576144/karuban"}, "is_accepted": false, "score": 3, "last_activity_date": 1487789629, "creation_date": 1487789629, "answer_id": 42399929, "question_id": 42391187, "link": "https://stackoverflow.com/questions/42391187/classes-in-angularfire2-how-to-handle-key/42399929#42399929", "title": "Classes in AngularFire2: how to handle $key", "body": "<p>You can do it this way:</p>\n\n<p><strong><code>player.ts</code></strong></p>\n\n<pre><code>export class Player {\n    constructor(public $key: string, public name: string) {\n    }\n\n    static fromJson({ $key, name }) {\n        return new Player($key, name);\n    }\n\n    static fromJsonArray(json: any[]): Player[] {\n        return json.map(Player.fromJson);\n    }\n}\n</code></pre>\n\n<p>Get all players with player instance. </p>\n\n<p><strong><code>playerService.ts</code></strong></p>\n\n<pre><code>import { Injectable } from \"@angular/core\";\nimport { Observable } from \"rxjs\";\nimport { AngularFireDatabase } from 'angularfire2';\nimport { Player } from 'path/to/player.ts'\n\n@Injectable()\nexport class playerService {\n    constructor(private afd: AngularFireDatabase) {}\n\n    getPlayers(): Observable&lt;Player[]&gt; {\n        return this.afd.list(`players`).map(Player.fromJsonArray);\n    }\n\n    savePlayer(player: Player): Observable&lt;any&gt; {\n        // your code to save a player\n    }\n}\n</code></pre>\n\n<p>Add this method in your component</p>\n\n<p><strong><code>yourComponent.ts</code></strong></p>\n\n<pre><code>savePlayer(name: string) {\n    let player = Player.fromJson({ name: name });\n    delete player.$key;\n\n    this.playerService().savePlayer(player).subscribe();\n}\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 6128071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vgzia.jpg?s=128&g=1", "display_name": "Jonas Wyss", "link": "https://stackoverflow.com/users/6128071/jonas-wyss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 340, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1487797127, "creation_date": 1487765696, "last_edit_date": 1487797127, "question_id": 42391187, "link": "https://stackoverflow.com/questions/42391187/classes-in-angularfire2-how-to-handle-key", "title": "Classes in AngularFire2: how to handle $key", "body": "<p>Currently working on my first AngularFire2 app. \nI have Typescript classes that match my structure in the firebase.</p>\n\n<p>my firebase structure</p>\n\n<pre><code>-players\n |-playerkey\n   |-name\n</code></pre>\n\n<p>and my class is</p>\n\n<pre><code>export class Player {\n    constructor(public name: string) {}\n}\n</code></pre>\n\n<p>If i want the playerkey in my player object i can't just add public key:string to the constructor because this would prevent me from pushing any player object to the firebase.</p>\n\n<p>Is there any proper way to use AngularFire2 with my own classes and objects?</p>\n\n<p>Should I always use  the FirebaseObjectObservable to pass my playerobject between services? As far as I know, I can't create a FirebaseObjectObservable by myself. I have to get it from the firebase.</p>\n"}, {"tags": ["unit-testing", "typescript", "mocha.js", "sinon", "stubbing"], "answers": [{"comments": [{"owner": {"reputation": 3435, "user_id": 2297825, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/fc4f1c9b553838666151b4d9d7bba906?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/2297825/tim"}, "edited": false, "score": 0, "creation_date": 1487766127, "post_id": 42391363, "comment_id": 71930097, "body": "but how can i stub it?"}, {"owner": {"reputation": 12267, "user_id": 298969, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ItLUZ.jpg?s=128&g=1", "display_name": "Sebastian Sebald", "link": "https://stackoverflow.com/users/298969/sebastian-sebald"}, "reply_to_user": {"reputation": 3435, "user_id": 2297825, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/fc4f1c9b553838666151b4d9d7bba906?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/2297825/tim"}, "edited": false, "score": 0, "creation_date": 1487766289, "post_id": 42391363, "comment_id": 71930204, "body": "Do you mean: <code>sinon.stub(ipc, &#39;publisher&#39;);</code>?"}, {"owner": {"reputation": 3435, "user_id": 2297825, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/fc4f1c9b553838666151b4d9d7bba906?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/2297825/tim"}, "edited": false, "score": 0, "creation_date": 1487766461, "post_id": 42391363, "comment_id": 71930337, "body": "i would like to test my code as shown above, but i cant achieve it, it will complain <code>Cannot read property &#39;getCall&#39; of undefined</code>, so I dont know how to achieve the test I wanted.."}, {"owner": {"reputation": 12267, "user_id": 298969, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ItLUZ.jpg?s=128&g=1", "display_name": "Sebastian Sebald", "link": "https://stackoverflow.com/users/298969/sebastian-sebald"}, "reply_to_user": {"reputation": 3435, "user_id": 2297825, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/fc4f1c9b553838666151b4d9d7bba906?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/2297825/tim"}, "edited": false, "score": 0, "creation_date": 1487766583, "post_id": 42391363, "comment_id": 71930429, "body": "Then the result of <code>createStubInstance</code> is not what you think it is. I would suggest debugging <code>ipc</code>."}, {"owner": {"reputation": 3435, "user_id": 2297825, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/fc4f1c9b553838666151b4d9d7bba906?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/2297825/tim"}, "edited": false, "score": 0, "creation_date": 1487766772, "post_id": 42391363, "comment_id": 71930579, "body": "i think is more like how can i test the code in such cases, is it something achievable or not.."}, {"owner": {"reputation": 12267, "user_id": 298969, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ItLUZ.jpg?s=128&g=1", "display_name": "Sebastian Sebald", "link": "https://stackoverflow.com/users/298969/sebastian-sebald"}, "reply_to_user": {"reputation": 3435, "user_id": 2297825, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/fc4f1c9b553838666151b4d9d7bba906?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/2297825/tim"}, "edited": false, "score": 0, "creation_date": 1487767266, "post_id": 42391363, "comment_id": 71930928, "body": "I a language with real access modifier (like Java) it&#39;s not possible. If you want to tests stuff like that it should be public. In the case of TypeScript it is possible, because the modifier are only development-time modifiers, not runtime."}, {"owner": {"reputation": 3435, "user_id": 2297825, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/fc4f1c9b553838666151b4d9d7bba906?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/2297825/tim"}, "edited": false, "score": 0, "creation_date": 1487771868, "post_id": 42391363, "comment_id": 71934429, "body": "even, i change it to public, i still have problem, it complains <code>Attempted to wrap object property publisher as function</code>"}, {"owner": {"reputation": 12267, "user_id": 298969, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ItLUZ.jpg?s=128&g=1", "display_name": "Sebastian Sebald", "link": "https://stackoverflow.com/users/298969/sebastian-sebald"}, "reply_to_user": {"reputation": 3435, "user_id": 2297825, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/fc4f1c9b553838666151b4d9d7bba906?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/2297825/tim"}, "edited": false, "score": 0, "creation_date": 1487773959, "post_id": 42391363, "comment_id": 71936017, "body": "Maybe <code>sinon.createStubInstance</code> doens&#39;t create the instance correctly. Did you check?"}, {"owner": {"reputation": 3435, "user_id": 2297825, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/fc4f1c9b553838666151b4d9d7bba906?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/2297825/tim"}, "edited": false, "score": 0, "creation_date": 1488593461, "post_id": 42391363, "comment_id": 72314600, "body": "i posted the answer above, which requires a change in my approach"}], "tags": [], "owner": {"reputation": 12267, "user_id": 298969, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ItLUZ.jpg?s=128&g=1", "display_name": "Sebastian Sebald", "link": "https://stackoverflow.com/users/298969/sebastian-sebald"}, "is_accepted": false, "score": 2, "last_activity_date": 1487766068, "creation_date": 1487766068, "answer_id": 42391363, "question_id": 42390900, "link": "https://stackoverflow.com/questions/42390900/sinon-stub-private-variable-in-typescript/42391363#42391363", "title": "Sinon stub private variable in typescript?", "body": "<p>You can use <em>type assertion</em> in order to get access to the private variable. Like:</p>\n\n<pre><code>(ipc as any).publisher\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3435, "user_id": 2297825, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/fc4f1c9b553838666151b4d9d7bba906?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/2297825/tim"}, "is_accepted": true, "score": 2, "last_activity_date": 1488593413, "creation_date": 1488593413, "answer_id": 42591272, "question_id": 42390900, "link": "https://stackoverflow.com/questions/42390900/sinon-stub-private-variable-in-typescript/42591272#42591272", "title": "Sinon stub private variable in typescript?", "body": "<p>There is no way to stub a private variable, and this is not the right way to do it, you could see the discussion below with Christian Johansen</p>\n\n<p><a href=\"https://groups.google.com/forum/#!topic/sinonjs/ixtXspcamg8\" rel=\"nofollow noreferrer\">https://groups.google.com/forum/#!topic/sinonjs/ixtXspcamg8</a></p>\n\n<p>The best approach, is to inject any dependency into the constructor, once we refactor the code, we could easily stub the dependency with our required behaviour</p>\n\n<pre><code>class IPC {    \n    constructor(private publisher: redis.RedisClient) {\n\n    }\n\n\n    publish(text: string) {\n        const msg = {\n            text: text\n        };\n\n\n        this.publisher.publish('hello', JSON.stringify(msg));\n    }\n}\n\n\n\nit('should return text object', () =&gt; {\n    sinon.stub(redis, 'createClient')\n        .returns({\n            publish: sinon.spy()\n        });\n    const publisherStub = redis.createClient();\n\n\n    const ipc = new IPC(publisherStub)\n    ipc.publish('world!');\n\n\n    // this is working fine now\n    assert.deepStrictEqual({\n        text: 'world!'\n    }, publisherStub.publish.getCall(0).args[0])\n\n    sinon.restore(redis.createClient)\n})\n</code></pre>\n"}], "owner": {"reputation": 3435, "user_id": 2297825, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/fc4f1c9b553838666151b4d9d7bba906?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/2297825/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5244, "favorite_count": 0, "accepted_answer_id": 42591272, "answer_count": 2, "score": 0, "last_activity_date": 1488593413, "creation_date": 1487764955, "last_edit_date": 1487766217, "question_id": 42390900, "link": "https://stackoverflow.com/questions/42390900/sinon-stub-private-variable-in-typescript", "title": "Sinon stub private variable in typescript?", "body": "<p>I would like to stub a private variable inside a class</p>\n\n<pre><code>class IPC {\n    private publisher: redis.RedisClient;\n    constructor() {\n        this.publisher = redis.createClient();\n    }\n\n    publish(text: string) {\n        const msg = {\n            text: text\n        };\n\n        this.publisher.publish('hello', JSON.stringify(msg));\n    }\n}\n</code></pre>\n\n<p>How can I stub the private variable <code>publisher</code> , inside this class?\nso I could test the code as shown below</p>\n\n<pre><code>it('should return text object', () =&gt; {\n    const ipc = sinon.createStubInstance(IPC);\n    ipc.publish('world!');\n\n    // this will throw error, because ipc.publisher is undefined\n    assert.deepStrictEqual({\n        text: 'world!'\n    }, ipc.publisher.getCall(0).args[0]) \n})\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular2-services"], "comments": [{"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1487767805, "post_id": 42390027, "comment_id": 71931304, "body": "if you just want to overwrite the data, why not: <code>.subscribe(posts =&gt; {TRACKONE = posts})</code>?"}, {"owner": {"reputation": 321, "user_id": 5901845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e29c0d4a001fc8989ee517a336dda00e?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Ryan", "link": "https://stackoverflow.com/users/5901845/akash-ryan"}, "reply_to_user": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1487823862, "post_id": 42390027, "comment_id": 71960580, "body": "It does not work. I need the static data inside TRACKONE to be replaced by the web service. But if I subscribe TRACKONE inside getService() then it shows error when I&#39;m getting TRACKONE in another function as it is not globally exported."}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1487839452, "post_id": 42390027, "comment_id": 71967694, "body": "You&#39;d need to share some more code. Where is <code>TRACKONE</code> declared? Please share the minimal code needed to reproduce the issue :)"}], "answers": [{"tags": [], "owner": {"reputation": 321, "user_id": 5901845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e29c0d4a001fc8989ee517a336dda00e?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Ryan", "link": "https://stackoverflow.com/users/5901845/akash-ryan"}, "is_accepted": true, "score": 0, "last_activity_date": 1487840476, "creation_date": 1487840476, "answer_id": 42411155, "question_id": 42390027, "link": "https://stackoverflow.com/questions/42390027/how-to-push-web-service-in-variable-in-angular-2-typescript/42411155#42411155", "title": "How to push Web Service in Variable in Angular 2 Typescript", "body": "<p>Finally I figured it out, I need to call the <strong>getServiceOne( )</strong> function in components rather than in service, because of that i was facing the issue.</p>\n\n<p>Now I have added the below line in <strong>component.ts</strong> file and imported the <strong>service.ts</strong> file, it's working fine.</p>\n\n<pre><code>getTrackOnes(): void {\n  this.trackoneService.getServiceOne(5000).subscribe(tracks =&gt; {this.tracks = tracks;});\n}\n</code></pre>\n"}], "owner": {"reputation": 321, "user_id": 5901845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e29c0d4a001fc8989ee517a336dda00e?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Ryan", "link": "https://stackoverflow.com/users/5901845/akash-ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 340, "favorite_count": 0, "accepted_answer_id": 42411155, "answer_count": 1, "score": 0, "last_activity_date": 1487840476, "creation_date": 1487762898, "question_id": 42390027, "link": "https://stackoverflow.com/questions/42390027/how-to-push-web-service-in-variable-in-angular-2-typescript", "title": "How to push Web Service in Variable in Angular 2 Typescript", "body": "<p>I want to push dynamic web service data to <strong>TRACKONE</strong> inside <strong>app.service.ts</strong> file.</p>\n\n<p>I've created a server on the link which is projecting the JSON in the same order as displayed below in <strong>Track[ ]</strong>.</p>\n\n<pre><code>[\n  {id: 11, name: 'App1'},\n  {id: 12, name: 'App2'},\n  {id: 13, name: 'App3'},\n  {id: 14, name: 'App4'}\n];\n</code></pre>\n\n<p>Also fetched the data from the server and stored in a function using <strong>Http</strong>, which is getting the data and refreshing data after every 5 sec interval and displaying it in <strong>console</strong>.</p>\n\n<pre><code>private serviceUrl = \"http://localhost:9000/service\";\n\nconstructor(private http: Http){\n  this.getService();\n}\n\ngetServiceOne(interval: number): Observable&lt;Track[]&gt; {\n  return Observable.timer(0,interval)\n  .mergeMap(()=&gt;{\n    return this.http.get(this.serviceUrl)\n      .map(res =&gt; res.json());\n  });\n}\n\ngetService() {\n  this.getServiceOne(5000).subscribe(posts =&gt; {\n    console.log(this.posts = posts);\n  })\n}\n</code></pre>\n\n<p>I just need to pass the JSON value from <strong>getService()</strong> to <strong>export var TRACKONE: Track[ ]</strong></p>\n\n<pre><code>export class Track {\n  id: number;\n  name: string;\n}\n\nexport var TRACKONE: Track[] = [\n  {id: 11, name: 'App1'},\n  {id: 12, name: 'App2'},\n  {id: 13, name: 'App3'},\n  {id: 14, name: 'App4'},\n];\n</code></pre>\n\n<p>Kindly help in finding the right solution. Thanks in advance.</p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "answers": [{"comments": [{"owner": {"reputation": 4694, "user_id": 4775350, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-J_Y-a1NouBI/AAAAAAAAAAI/AAAAAAAAAQs/KRm7CFMGTaw/photo.jpg?sz=128", "display_name": "Alejandro Lora", "link": "https://stackoverflow.com/users/4775350/alejandro-lora"}, "edited": false, "score": 0, "creation_date": 1487764499, "post_id": 42389593, "comment_id": 71928866, "body": "Thanks @Sebastian I was actually looking for delay. really appreciated :)"}], "tags": [], "owner": {"reputation": 12267, "user_id": 298969, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ItLUZ.jpg?s=128&g=1", "display_name": "Sebastian Sebald", "link": "https://stackoverflow.com/users/298969/sebastian-sebald"}, "is_accepted": false, "score": 0, "last_activity_date": 1487761820, "creation_date": 1487761820, "answer_id": 42389593, "question_id": 42389074, "link": "https://stackoverflow.com/questions/42389074/observable-debouncetime-for-http-service-doesnt-work-angular/42389593#42389593", "title": "Observable - debounceTime for http service doesn&#39;t work - Angular", "body": "<p>I think <code>debounceTime</code> is a way to control back pressure. Meaning if the request is executed a lot, you will only get a new value when nothing is pushed 5s.</p>\n\n<p>Maybe <code>throttleTime</code> is what you're looking for? <a href=\"https://www.learnrxjs.io/operators/filtering/throttletime.html\" rel=\"nofollow noreferrer\">https://www.learnrxjs.io/operators/filtering/throttletime.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 4694, "user_id": 4775350, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-J_Y-a1NouBI/AAAAAAAAAAI/AAAAAAAAAQs/KRm7CFMGTaw/photo.jpg?sz=128", "display_name": "Alejandro Lora", "link": "https://stackoverflow.com/users/4775350/alejandro-lora"}, "edited": false, "score": 0, "creation_date": 1487764545, "post_id": 42389636, "comment_id": 71928903, "body": "Thanks, this is what I was looking for"}], "tags": [], "owner": {"reputation": 17182, "user_id": 606821, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/X49xe.png?s=128&g=1", "display_name": "Remo H. Jansen", "link": "https://stackoverflow.com/users/606821/remo-h-jansen"}, "is_accepted": true, "score": 2, "last_activity_date": 1487761927, "creation_date": 1487761927, "answer_id": 42389636, "question_id": 42389074, "link": "https://stackoverflow.com/questions/42389074/observable-debouncetime-for-http-service-doesnt-work-angular/42389636#42389636", "title": "Observable - debounceTime for http service doesn&#39;t work - Angular", "body": "<p>The <code>debounceTime</code> is not supposed to be used for what you are trying to do here. From the <a href=\"https://www.learnrxjs.io/operators/filtering/debouncetime.html\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>Discard emitted values that take less than the specified time between output</p>\n</blockquote>\n\n<p>I think what you are looking for is <a href=\"https://www.learnrxjs.io/operators/utility/delay.html\" rel=\"nofollow noreferrer\">delay</a>:</p>\n\n<blockquote>\n  <p>Delay emitted values by given time.</p>\n</blockquote>\n"}], "owner": {"reputation": 4694, "user_id": 4775350, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-J_Y-a1NouBI/AAAAAAAAAAI/AAAAAAAAAQs/KRm7CFMGTaw/photo.jpg?sz=128", "display_name": "Alejandro Lora", "link": "https://stackoverflow.com/users/4775350/alejandro-lora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2165, "favorite_count": 0, "accepted_answer_id": 42389636, "answer_count": 2, "score": 1, "last_activity_date": 1487761927, "creation_date": 1487760506, "last_edit_date": 1487760857, "question_id": 42389074, "link": "https://stackoverflow.com/questions/42389074/observable-debouncetime-for-http-service-doesnt-work-angular", "title": "Observable - debounceTime for http service doesn&#39;t work - Angular", "body": "<p>just a simple question but I can't make it work :( How to combine debounceTime with the http service?</p>\n\n<p>So I have my generic service:</p>\n\n<pre><code>public getAll(): Observable&lt;T[]&gt; {\n        return this._http.get(this.url, { headers: this.headers })\n            .map(this.extractAll)\n            .catch((err) =&gt; { return this.extractAllError(err, this._alertService); });\n}\n</code></pre>\n\n<p>and I am calling the service like this:</p>\n\n<pre><code>this._myService.getAll().debounceTime(5000).subscribe((data) =&gt; {\n            debugger;\n            this.data = data;\n});\n</code></pre>\n\n<p>but it doesn't wait 5 seconds for me to retrieve the data, it's just instantly.</p>\n\n<p>I've tried with <code>distinctUntilChanged()</code> also but same result.</p>\n\n<p>Thanks in advance ;)</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 2913, "user_id": 204195, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c794011b28efbf3255c61ed670cbb79e?s=128&d=identicon&r=PG", "display_name": "pdjota", "link": "https://stackoverflow.com/users/204195/pdjota"}, "is_accepted": true, "score": 1, "last_activity_date": 1487760358, "creation_date": 1487760358, "answer_id": 42389014, "question_id": 42388375, "link": "https://stackoverflow.com/questions/42388375/angular-2-service-filter-parameter-is-array/42389014#42389014", "title": "Angular 2 Service filter parameter is Array", "body": "<p>So, assuming it is an array of strings and field should be included in the list you could check that the field is in the list.</p>\n\n<pre><code>ids: string[];\n\nresults.filter( (result) =&gt; {\n    return ids.indexOf(result.field) &gt; -1;\n})\n</code></pre>\n"}], "owner": {"reputation": 324, "user_id": 6921903, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/40bcd7d2e3d2509fe630066ff6d16edc?s=128&d=identicon&r=PG&f=1", "display_name": "hydrococcus", "link": "https://stackoverflow.com/users/6921903/hydrococcus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 701, "favorite_count": 0, "accepted_answer_id": 42389014, "answer_count": 1, "score": 0, "last_activity_date": 1487760358, "creation_date": 1487757802, "last_edit_date": 1487759624, "question_id": 42388375, "link": "https://stackoverflow.com/questions/42388375/angular-2-service-filter-parameter-is-array", "title": "Angular 2 Service filter parameter is Array", "body": "<p>I create a service to get filtered results from a JSON</p>\n\n<pre><code>getItem(id: string): Observable&lt;any[]&gt; {\n    return this.http.get('path/to/my.json')\n        .map((response) =&gt; {\n                let results: any = response.json();\n\n                let filtered: any = results.filter((result) =&gt; {\n                    return result.field === id;\n                })[0];\n\n                return filtered;\n            }\n        );\n}\n</code></pre>\n\n<p>Now my Parameter (id) is not a string rather an array. How must i modify my service? Currently, if 'id' is an array, it returns an Array with all Objects from my JSON.</p>\n"}, {"tags": ["typescript", "immutable.js"], "comments": [{"owner": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "edited": false, "score": 0, "creation_date": 1487759680, "post_id": 42388373, "comment_id": 71925472, "body": "Object <i>properties</i> and map <i>entries</i> are not the same thing. Which one do you need?"}, {"owner": {"reputation": 5801, "user_id": 2586392, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9d89d4072afb4457b0c49131d8d258f5?s=128&d=identicon&r=PG", "display_name": "rpadovani", "link": "https://stackoverflow.com/users/2586392/rpadovani"}, "reply_to_user": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "edited": false, "score": 0, "creation_date": 1487759755, "post_id": 42388373, "comment_id": 71925517, "body": "@TamasHegedus indeed <i>entries</i> of the map"}], "answers": [{"comments": [{"owner": {"reputation": 5801, "user_id": 2586392, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9d89d4072afb4457b0c49131d8d258f5?s=128&d=identicon&r=PG", "display_name": "rpadovani", "link": "https://stackoverflow.com/users/2586392/rpadovani"}, "edited": false, "score": 0, "creation_date": 1487759617, "post_id": 42388642, "comment_id": 71925437, "body": "Good idea, but in this way I do not have typecheck on the value of <code>set</code>, because the generic <code>set(key: K, value: V)</code> makes any value acceptable for any key. Do you have an idea to disable that behavior?"}, {"owner": {"reputation": 5801, "user_id": 2586392, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9d89d4072afb4457b0c49131d8d258f5?s=128&d=identicon&r=PG", "display_name": "rpadovani", "link": "https://stackoverflow.com/users/2586392/rpadovani"}, "edited": false, "score": 0, "creation_date": 1488189487, "post_id": 42388642, "comment_id": 72104949, "body": "Shouldn&#39;t be <code>set(name: &quot;b&quot;, value: any): void</code>?"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 5801, "user_id": 2586392, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9d89d4072afb4457b0c49131d8d258f5?s=128&d=identicon&r=PG", "display_name": "rpadovani", "link": "https://stackoverflow.com/users/2586392/rpadovani"}, "edited": false, "score": 0, "creation_date": 1488205284, "post_id": 42388642, "comment_id": 72115664, "body": "@rpadovani Right, my bad. Fixed the answer."}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 2, "last_activity_date": 1488205255, "last_edit_date": 1488205255, "creation_date": 1487758418, "answer_id": 42388642, "question_id": 42388373, "link": "https://stackoverflow.com/questions/42388373/typescript-and-immutablejs-set/42388642#42388642", "title": "Typescript and ImmutableJS.set()", "body": "<p>The following interface:</p>\n\n<pre><code>interface MyImmutableMap extends Immutable.Map&lt;string, any&gt; {\n    a: number;\n    b: number;\n    c?: string;\n}\n</code></pre>\n\n<p>Defines an instance of <code>Immutable.Map</code> which also has the <code>a</code>, <code>b</code> and <code>c</code> <strong>properties</strong>:</p>\n\n<pre><code>let m: MyImmutableMap;\nm.a = 4;\nm.b = 6;\nm.c = \"str\";\n</code></pre>\n\n<p>You cannot control the map key/values like that.</p>\n\n<p>You can do this:</p>\n\n<pre><code>type MyImmutableMap = Immutable.Map&lt;string, any&gt; &amp; {\n    set(name: \"a\", value: number);\n    get(name: \"a\"): number;\n\n    set(name: \"b\", value: number);\n    get(name: \"b\"): number;\n\n    set(name: \"c\", value: string);\n    get(name: \"c\"): string | undefined;\n}\n</code></pre>\n\n<hr>\n\n<h3>Edit</h3>\n\n<p>You can \"override\" the default <code>set</code> like so:</p>\n\n<pre><code>type MyImmutableMap = Immutable.Map&lt;string, any&gt; &amp; {\n    set(name: \"a\", value: number);\n    set(name: \"a\", value: any): void\n    get(name: \"a\"): number;\n\n    set(name: \"b\", value: number);\n    set(name: \"b\", value: any): void\n    get(name: \"b\"): number;\n\n    set(name: \"c\", value: string);\n    set(name: \"c\", value: any): void\n    get(name: \"c\"): string | undefined;\n}\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>return myMap\n    .set('c', 45);\n}\n</code></pre>\n\n<p>Results in:</p>\n\n<blockquote>\n  <p>Type 'void' is not assignable to type 'Map'</p>\n</blockquote>\n\n<p>It's not the best error message for this case, it's still restricted.</p>\n"}, {"comments": [{"owner": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "edited": false, "score": 0, "creation_date": 1487760588, "post_id": 42388980, "comment_id": 71926100, "body": "My god, static typing is getting out of hand! What will happen if somebody sets a key with a simple string type and not a literal type?"}, {"owner": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "edited": false, "score": 0, "creation_date": 1487760734, "post_id": 42388980, "comment_id": 71926199, "body": "Oh I see, you cannot do that."}, {"owner": {"reputation": 12267, "user_id": 298969, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ItLUZ.jpg?s=128&g=1", "display_name": "Sebastian Sebald", "link": "https://stackoverflow.com/users/298969/sebastian-sebald"}, "reply_to_user": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "edited": false, "score": 0, "creation_date": 1487760991, "post_id": 42388980, "comment_id": 71926391, "body": "AFAIK currently TypeScript can not infer this correctly . But you can change the <code>set</code> signature and use a generic. I&#39;ll update my question."}], "tags": [], "owner": {"reputation": 12267, "user_id": 298969, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ItLUZ.jpg?s=128&g=1", "display_name": "Sebastian Sebald", "link": "https://stackoverflow.com/users/298969/sebastian-sebald"}, "is_accepted": false, "score": 3, "last_activity_date": 1487761107, "last_edit_date": 1487761107, "creation_date": 1487760281, "answer_id": 42388980, "question_id": 42388373, "link": "https://stackoverflow.com/questions/42388373/typescript-and-immutablejs-set/42388980#42388980", "title": "Typescript and ImmutableJS.set()", "body": "<p>If you only have primitive values, you can also use <a href=\"http://facebook.github.io/immutable-js/docs/#/Record\" rel=\"nofollow noreferrer\"><code>Record</code></a>s instead of a <code>Map</code>. </p>\n\n<p>Sadly, the typings for <em>immutable.js</em> aren't that good and I am not sure if they are actively maintained by the authors (because the typings are part of the repo and not <code>@types</code>).</p>\n\n<p>We had a similar issue and used <em>type assertions</em> to overwrite the <code>Map</code> with a \"better\" version:</p>\n\n<pre><code>declare function Immutable&lt;T&gt;(o: T): Immutable&lt;T&gt;;\ninterface Immutable&lt;T&gt; {\n  get&lt;K extends keyof T&gt;(name: K): T[K];\n  set&lt;S&gt;(o: S): Immutable&lt;T &amp; S&gt;;\n}\n\nconst alice = Immutable({ name: 'Alice', age: 29 });\nalice.get('name');      // Ok, returns a `string`\nalice.get('age');       // Ok, returns a `number`\nalice.get('lastName');  // Error: Argument of type '\"lastName\"' is not assignable to parameter of type '\"name\" | \"age\"'.\n\nconst aliceSmith = alice.set({ lastName: 'Smith' });\naliceSmith.get('name');     // Ok, returns a `string`\naliceSmith.get('age');      // Ok, returns a `number`\naliceSmith.get('lastName'); // Ok, returns `string`\n</code></pre>\n\n<p>Since the <code>set</code> of <em>immutable.js</em> is something like <code>set(key:string, value:any)</code> you would need to use a generic to help the compiler:</p>\n\n<pre><code>declare function Immutable&lt;T&gt;(o: T): Immutable&lt;T&gt;;\ninterface Immutable&lt;T&gt; {\n  get&lt;K extends keyof T&gt;(name: K): T[K];\n  set&lt;S&gt;(key:string, value:any): Immutable&lt;T &amp; S&gt;;\n}\n\nconst alice = Immutable({ name: 'Alice', age: 29 });\nalice.get('name');      // Ok, returns a `string`\nalice.get('age');       // Ok, returns a `number`\nalice.get('lastName');  // Error: Argument of type '\"lastName\"' is not assignable to parameter of type '\"name\" | \"age\"'.\n\nconst aliceSmith = alice.set&lt;{ 'lastName':string }&gt;('lastName', 'Smith');\naliceSmith.get('name');     // Ok, returns a `string`\naliceSmith.get('age');      // Ok, returns a `number`\naliceSmith.get('lastName'); // Ok, returns `string`\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/index.html#src=declare%20function%20Immutable%3CT%3E(o%3A%20T)%3A%20Immutable%3CT%3E%3B%0Ainterface%20Immutable%3CT%3E%20%7B%0A%20%20get%3CK%20extends%20keyof%20T%3E(name%3A%20K)%3A%20T%5BK%5D%3B%0A%20%20set%3CS%3E(key%3Astring%2C%20value%3Aany)%3A%20Immutable%3CT%20%26%20S%3E%3B%0A%7D%0A%0Aconst%20alice%20%3D%20Immutable(%7B%20name%3A%20&#39;Alice&#39;%2C%20age%3A%2029%20%7D)%3B%0Aalice.get(&#39;name&#39;)%3B%20%20%20%20%20%20%2F%2F%20Ok%2C%20returns%20a%20%60string%60%0Aalice.get(&#39;age&#39;)%3B%20%20%20%20%20%20%20%2F%2F%20Ok%2C%20returns%20a%20%60number%60%0Aalice.get(&#39;lastName&#39;)%3B%20%20%2F%2F%20Error%3A%20Argument%20of%20type%20&#39;%22lastName%22&#39;%20is%20not%20assignable%20to%20parameter%20of%20type%20&#39;%22name%22%20%7C%20%22age%22&#39;.%0A%0Aconst%20aliceSmith%20%3D%20alice.set%3C%7B%20&#39;lastName&#39;%3Astring%20%7D%3E(&#39;lastName&#39;%2C%20&#39;Smith&#39;)%3B%0AaliceSmith.get(&#39;name&#39;)%3B%20%20%20%20%20%2F%2F%20Ok%2C%20returns%20a%20%60string%60%0AaliceSmith.get(&#39;age&#39;)%3B%20%20%20%20%20%20%2F%2F%20Ok%2C%20returns%20a%20%60number%60%0AaliceSmith.get(&#39;lastName&#39;)%3B%20%2F%2F%20Ok%2C%20returns%20%60string%60\" rel=\"nofollow noreferrer\">Here is a link to the playground.</a></p>\n"}], "owner": {"reputation": 5801, "user_id": 2586392, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9d89d4072afb4457b0c49131d8d258f5?s=128&d=identicon&r=PG", "display_name": "rpadovani", "link": "https://stackoverflow.com/users/2586392/rpadovani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1237, "favorite_count": 0, "accepted_answer_id": 42388642, "answer_count": 2, "score": 1, "last_activity_date": 1488205255, "creation_date": 1487757801, "question_id": 42388373, "link": "https://stackoverflow.com/questions/42388373/typescript-and-immutablejs-set", "title": "Typescript and ImmutableJS.set()", "body": "<p>I want to have an ImmutableJS Map which has to have always defined some properties:</p>\n\n<pre><code>interface MyImmutableMap extends Immutable.Map&lt;string, any&gt; {\n  a: number;\n  b: number;\n  c?: string;\n}\n</code></pre>\n\n<p>I have a function which edits the map:</p>\n\n<pre><code>function myFunction(myMap: MyImmutableMap, flag: boolean, value: number): MyImmutableMap {\n  if (flag) {\n     return myMap\n       .set('a', value);\n  }\n\n  return myMap;\n}\n</code></pre>\n\n<p>The second return is ok, because it returns the same thing I received, therefore an <em>MyImmutableMap</em>.</p>\n\n<p>Unfortunately the <em>set()</em> doesn't work, because its return type is a Map and not the type of <em>myMap</em>.</p>\n\n<p>This is the error:</p>\n\n<blockquote>\n  <p>Type 'Map' is not assignable to type 'MyImmutableMap'.<br>\n  Property 'a' is missing in type 'Map'.</p>\n</blockquote>\n\n<p>There is any way to go around this?</p>\n"}, {"tags": ["node.js", "angular", "typescript"], "comments": [{"owner": {"reputation": 1207, "user_id": 1337078, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/60f34dd16077a4019dcbbe955fd85b08?s=128&d=identicon&r=PG", "display_name": "nuander", "link": "https://stackoverflow.com/users/1337078/nuander"}, "edited": false, "score": 0, "creation_date": 1510343427, "post_id": 42388315, "comment_id": 81410838, "body": "I get this error from VS Code"}], "owner": {"reputation": 51, "user_id": 5473919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rYiv.jpg?s=128&g=1", "display_name": "Demon Hunter", "link": "https://stackoverflow.com/users/5473919/demon-hunter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 468, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1487757665, "creation_date": 1487757665, "question_id": 42388315, "link": "https://stackoverflow.com/questions/42388315/xmlhttprequest-is-not-defined-in-platform-browser-dynamic-umd-js", "title": "XMLHttpRequest is not defined in platform-browser-dynamic.umd.js", "body": "<p>I get a XMLHttpRequest is not defined error with Angular2, Typescript, and NodeJS When I run command <code>ts-node main.ts</code>. <br>\nThis is my exception</p>\n\n<pre><code>D:\\workspace_git\\nodejs\\xgame\\node_modules\\@angular\\platform-browser-dynamic\\bundles\\platform-browser-dynamic.umd.js:31\n            var xhr = new XMLHttpRequest();\n                          ^\nReferenceError: XMLHttpRequest is not defined\n    at ResourceLoaderImpl.get (D:\\workspace_git\\nodejs\\xgame\\node_modules\\@angular\\platform-browser-dynamic\\bundles\\platform-bro\nwser-dynamic.umd.js:31:27)\n    at DirectiveNormalizer._fetch (D:\\workspace_git\\nodejs\\xgame\\node_modules\\@angular\\compiler\\bundles\\compiler.umd.js:13753:47\n)\n    at DirectiveNormalizer.normalizeTemplateAsync (D:\\workspace_git\\nodejs\\xgame\\node_modules\\@angular\\compiler\\bundles\\compiler\n.umd.js:13799:25)\n    at DirectiveNormalizer.normalizeTemplate (D:\\workspace_git\\nodejs\\xgame\\node_modules\\@angular\\compiler\\bundles\\compiler.umd.\njs:13771:48)\n    at CompileMetadataResolver._loadDirectiveMetadata (D:\\workspace_git\\nodejs\\xgame\\node_modules\\@angular\\compiler\\bundles\\comp\niler.umd.js:18074:79)\n    at D:\\workspace_git\\nodejs\\xgame\\node_modules\\@angular\\compiler\\bundles\\compiler.umd.js:18250:58\n    at Array.forEach (native)\n    at CompileMetadataResolver.loadNgModuleDirectiveAndPipeMetadata (D:\\workspace_git\\nodejs\\xgame\\node_modules\\@angular\\compile\nr\\bundles\\compiler.umd.js:18249:45)\n    at D:\\workspace_git\\nodejs\\xgame\\node_modules\\@angular\\compiler\\bundles\\compiler.umd.js:27366:62\n    at Array.forEach (native)\n    at JitCompiler._loadModules (D:\\workspace_git\\nodejs\\xgame\\node_modules\\@angular\\compiler\\bundles\\compiler.umd.js:27365:47)\n    at JitCompiler._compileModuleAndComponents (D:\\workspace_git\\nodejs\\xgame\\node_modules\\@angular\\compiler\\bundles\\compiler.um\nd.js:27320:56)\n    at JitCompiler.compileModuleAsync (D:\\workspace_git\\nodejs\\xgame\\node_modules\\@angular\\compiler\\bundles\\compiler.umd.js:2728\n6:25)\n    at PlatformRef_._bootstrapModuleWithZone (D:\\workspace_git\\nodejs\\xgame\\node_modules\\@angular\\core\\bundles\\core.umd.js:8083:\n29)\n    at PlatformRef_.bootstrapModule (D:\\workspace_git\\nodejs\\xgame\\node_modules\\@angular\\core\\bundles\\core.umd.js:8058:25)\n</code></pre>\n\n<p>How to fix this bug.</p>\n"}, {"tags": ["node.js", "typescript", "typescript-typings", "typescript2.1"], "answers": [{"comments": [{"owner": {"reputation": 409, "user_id": 2368322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9kzp4.png?s=128&g=1", "display_name": "Alen Liang", "link": "https://stackoverflow.com/users/2368322/alen-liang"}, "edited": false, "score": 1, "creation_date": 1489038393, "post_id": 42522751, "comment_id": 72498441, "body": "What should I do if a 3rd-party library already has definition file .d.ts included, but I would like to ignore it and use a custom one?"}, {"owner": {"reputation": 2296, "user_id": 866613, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/020af416a52f9f41ce1de53aaf89ed00?s=128&d=identicon&r=PG", "display_name": "hirikarate", "link": "https://stackoverflow.com/users/866613/hirikarate"}, "reply_to_user": {"reputation": 409, "user_id": 2368322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9kzp4.png?s=128&g=1", "display_name": "Alen Liang", "link": "https://stackoverflow.com/users/2368322/alen-liang"}, "edited": false, "score": 0, "creation_date": 1489200836, "post_id": 42522751, "comment_id": 72580923, "body": "I&#39;m not sure. Did you try &lt;reference path=&quot;..&quot; /&gt; pointing to custom definition?"}, {"owner": {"reputation": 5506, "user_id": 1033426, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a6263131d6ccdbfe1c7cee96da970eda?s=128&d=identicon&r=PG", "display_name": "ChaseMoskal", "link": "https://stackoverflow.com/users/1033426/chasemoskal"}, "edited": false, "score": 24, "creation_date": 1494484673, "post_id": 42522751, "comment_id": 74849522, "body": "I&#39;m trying to write a definition file for a completely untyped npm module, <code>supertest</code> \u2014 TypeScript&#39;s complaint doesn&#39;t even make sense, how can I not augment something that doesn&#39;t even have a declaration? I thought I&#39;ve wrote custom definition files like this many times... <code>[ts] Invalid module name in augmentation. Module &#39;supertest&#39; resolves to an untyped module at &#39;&#47;home&#47;chase&#47;Desktop&#47;projects&#47;formuoli&#47;node_modules&#47;supertes&zwnj;&#8203;t&#47;index.js&#39;, which cannot be augmented.</code> \u2014 unfortunately <code>@types&#47;supertest</code> is broken by including DOM libraries rendering it broken.. looks like I&#39;m out of luck"}, {"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "reply_to_user": {"reputation": 5506, "user_id": 1033426, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a6263131d6ccdbfe1c7cee96da970eda?s=128&d=identicon&r=PG", "display_name": "ChaseMoskal", "link": "https://stackoverflow.com/users/1033426/chasemoskal"}, "edited": false, "score": 35, "creation_date": 1500629830, "post_id": 42522751, "comment_id": 77434052, "body": "@ChaseMoskal: In your file <code>.d.ts</code>, maybe you should just move all the import into the declare module &quot;moduleName&quot; {}."}, {"owner": {"reputation": 6319, "user_id": 647380, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/07709965ee03bbc0a25288dc62102114?s=128&d=identicon&r=PG&f=1", "display_name": "pocesar", "link": "https://stackoverflow.com/users/647380/pocesar"}, "reply_to_user": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 17, "creation_date": 1503368213, "post_id": 42522751, "comment_id": 78573679, "body": "@Paleo that was exactly it, all <code>import</code> calls must go inside <code>declare module &#39;module&#39; {}</code> scope. the error is misleading at best"}, {"owner": {"reputation": 5864, "user_id": 429091, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a8defe14b1c80bc2bd59a1fab3848cfb?s=128&d=identicon&r=PG", "display_name": "binki", "link": "https://stackoverflow.com/users/429091/binki"}, "edited": false, "score": 2, "creation_date": 1522783530, "post_id": 42522751, "comment_id": 86283115, "body": "typescript does the same thing if you put the <code>import</code> statements required by your module outside of the <code>declare module</code> instead of inside it. Such unintuitive odd behavior (sorry for ranting here)."}], "tags": [], "owner": {"reputation": 2296, "user_id": 866613, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/020af416a52f9f41ce1de53aaf89ed00?s=128&d=identicon&r=PG", "display_name": "hirikarate", "link": "https://stackoverflow.com/users/866613/hirikarate"}, "is_accepted": true, "score": 62, "last_activity_date": 1580221701, "last_edit_date": 1580221701, "creation_date": 1488339633, "answer_id": 42522751, "question_id": 42388217, "link": "https://stackoverflow.com/questions/42388217/having-error-module-name-resolves-to-an-untyped-module-at-when-writing-cu/42522751#42522751", "title": "Having error &quot;Module &#39;name&#39; resolves to an untyped module at...&quot; when writing custom TypeScript definition file", "body": "<p>After some tries and errors, I found that <code>augmentation</code> means \"declaring a module in the same file with other module declaration(s)\".</p>\n\n<p>Therefore if we want to write a definition file for an <strong>untyped</strong> 3rd-party JavaScript library, we must have ONLY ONE <code>declare module 'lib-name'</code> in that file, and 'lib-name' must exactly match the library name (can be found in its package.json, \"name\" property).</p>\n\n<p>On the other hand, if a 3rd-party library <strong>already has definition file</strong> <code>.d.ts</code> included, and we want to extend its functionalities, then we can put the additional definition in another file that we create. This is called <code>augmenting</code>.</p>\n\n<p>For example:</p>\n\n<pre><code>// These module declarations are in same file, given that each of them already has their own definition file.\ndeclare module 'events' {\n   // Extended functionality\n}\n\ndeclare module 'querystring' {\n   // Extended functionality        \n}\n\ndeclare module '...' { ... }\n</code></pre>\n\n<p>I leave my discovery here just in case somebody has same question. And please correct me if I missed something.</p>\n"}, {"comments": [{"owner": {"reputation": 6452, "user_id": 3547347, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/15780fe731005d0f3e5c56dedeb12039?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas Gaskell", "link": "https://stackoverflow.com/users/3547347/douglas-gaskell"}, "edited": false, "score": 0, "creation_date": 1612730187, "post_id": 48846446, "comment_id": 116851915, "body": "This is a catch-22. Can&#39;t import the <code>somemodulehere</code> because it doesn&#39;t have a declaration. Can&#39;t create a declaration to augment it because it&#39;s an <code>untyped modue</code>. The example above would be throwing 2 errors. The first being that you cannot augment the <code>node-helper-lib</code> the 2nd being that it cannot find the declaration file for the import."}, {"owner": {"reputation": 9331, "user_id": 216012, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e80bdb7a7d2f6be1f039b83b365e03ee?s=128&d=identicon&r=PG", "display_name": "Lee Benson", "link": "https://stackoverflow.com/users/216012/lee-benson"}, "reply_to_user": {"reputation": 6452, "user_id": 3547347, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/15780fe731005d0f3e5c56dedeb12039?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas Gaskell", "link": "https://stackoverflow.com/users/3547347/douglas-gaskell"}, "edited": false, "score": 0, "creation_date": 1612761411, "post_id": 48846446, "comment_id": 116857711, "body": "It may have changed since I wrote that."}], "tags": [], "owner": {"reputation": 9331, "user_id": 216012, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e80bdb7a7d2f6be1f039b83b365e03ee?s=128&d=identicon&r=PG", "display_name": "Lee Benson", "link": "https://stackoverflow.com/users/216012/lee-benson"}, "is_accepted": false, "score": 166, "last_activity_date": 1518905593, "creation_date": 1518905593, "answer_id": 48846446, "question_id": 42388217, "link": "https://stackoverflow.com/questions/42388217/having-error-module-name-resolves-to-an-untyped-module-at-when-writing-cu/48846446#48846446", "title": "Having error &quot;Module &#39;name&#39; resolves to an untyped module at...&quot; when writing custom TypeScript definition file", "body": "<p>The actual solution is given in a comment by @Paleo in @hirikarate's answer: </p>\n\n<p><strong>Imports should be declared <em>inside</em> the module declaration.</strong></p>\n\n<p>Example:</p>\n\n<pre><code>declare module 'node-helper-lib' {\n   import * as SomeThirdParty from 'node-helper-lib';\n   interface Helper {\n       new(opt: SomeThirdParty.Options): SomeThirdParty.Type\n   }\n   export = Helper;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11759, "user_id": 82460, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/8fqP5.jpg?s=128&g=1", "display_name": "MilMike", "link": "https://stackoverflow.com/users/82460/milmike"}, "edited": false, "score": 0, "creation_date": 1618573198, "post_id": 53110375, "comment_id": 118648368, "body": "this helped me, thanks!"}], "tags": [], "owner": {"reputation": 7121, "user_id": 29805, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/KM8SF.png?s=128&g=1", "display_name": "G-Wiz", "link": "https://stackoverflow.com/users/29805/g-wiz"}, "is_accepted": false, "score": 2, "last_activity_date": 1541112595, "last_edit_date": 1541112595, "creation_date": 1541111979, "answer_id": 53110375, "question_id": 42388217, "link": "https://stackoverflow.com/questions/42388217/having-error-module-name-resolves-to-an-untyped-module-at-when-writing-cu/53110375#53110375", "title": "Having error &quot;Module &#39;name&#39; resolves to an untyped module at...&quot; when writing custom TypeScript definition file", "body": "<p>I was getting that error message too. The issue for me was that I was trying to declare another module in an existing type definition file that had a module declaration in it. After I moved the new module declaration to a new file, the error went away.</p>\n"}, {"tags": [], "owner": {"reputation": 1242, "user_id": 4704760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1f70970cf92ddd05ae281baf48e4def?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey", "link": "https://stackoverflow.com/users/4704760/alexey"}, "is_accepted": false, "score": -7, "last_activity_date": 1564773936, "creation_date": 1564773936, "answer_id": 57332405, "question_id": 42388217, "link": "https://stackoverflow.com/questions/42388217/having-error-module-name-resolves-to-an-untyped-module-at-when-writing-cu/57332405#57332405", "title": "Having error &quot;Module &#39;name&#39; resolves to an untyped module at...&quot; when writing custom TypeScript definition file", "body": "<p>In my case I just used following declaration in one of my types files so I was able to use all non-typescript packages:</p>\n\n<pre><code>declare module '*'\n</code></pre>\n"}], "owner": {"reputation": 2296, "user_id": 866613, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/020af416a52f9f41ce1de53aaf89ed00?s=128&d=identicon&r=PG", "display_name": "hirikarate", "link": "https://stackoverflow.com/users/866613/hirikarate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24705, "favorite_count": 18, "accepted_answer_id": 42522751, "answer_count": 4, "score": 94, "last_activity_date": 1580221701, "creation_date": 1487757436, "last_edit_date": 1488338591, "question_id": 42388217, "link": "https://stackoverflow.com/questions/42388217/having-error-module-name-resolves-to-an-untyped-module-at-when-writing-cu", "title": "Having error &quot;Module &#39;name&#39; resolves to an untyped module at...&quot; when writing custom TypeScript definition file", "body": "<p>I can't find TypeScript definition <code>@type/{name}</code> for one of my installed NodeJS packages, so I attempt to write a <code>d.ts</code> file for it, and put the file in <code>{project root}\\typings</code> folder. This is how I do:</p>\n\n<pre><code>// My source code: index.ts\nimport Helper from 'node-helper-lib';\n\n\n// My definition: \\typings\\node-helper-lib.d.ts\ndeclare....(something else)\n\ndeclare module 'node-helper-lib' {\n   class Helper { ... }\n   export = Helper;\n}\n</code></pre>\n\n<p>However, Visual Studio Code keeps yielding this error and puts red line under <code>declare module 'node-helper-lib'</code>:</p>\n\n<blockquote>\n  <p>[ts] Invalid module name in augmentation. Module 'node-helper-lib'\n  resolves to an untyped module at '{project\n  path}\\node_modules\\node-helper-lib\\index.js', which cannot be\n  augmented.</p>\n</blockquote>\n\n<p>Isn't it legit that because the library is untyped, so I should be allowed to add typing to it?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I am using:</p>\n\n<ul>\n<li>TypeScript: 2.1.4</li>\n<li>Visual Studio Code: 1.9.1</li>\n<li>Node JS: 6.9.4</li>\n<li>Windows 10 x64</li>\n</ul>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1487757808, "post_id": 42388286, "comment_id": 71924829, "body": "Great stuff! impressed :) +1"}, {"owner": {"reputation": 6896, "user_id": 6797267, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/bba37c069bfb5b705b7a0c98bd9b4803?s=128&d=identicon&r=PG&f=1", "display_name": "Lev", "link": "https://stackoverflow.com/users/6797267/lev"}, "edited": false, "score": 0, "creation_date": 1487758221, "post_id": 42388286, "comment_id": 71925122, "body": "active-link is highlighted with this error : the property &quot;link&quot; that you are trying to access doesn&#39;t exist in class declaration"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1487758264, "post_id": 42388286, "comment_id": 71925160, "body": "pls remove <code>routerLinkActive=&quot;active-link&quot;</code> this attribute from the tag. And give a try to the second option.."}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1487758493, "post_id": 42388286, "comment_id": 71925338, "body": "Pls post the corresponding tag.. If possible, pls create a plnkr"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 6896, "user_id": 6797267, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/bba37c069bfb5b705b7a0c98bd9b4803?s=128&d=identicon&r=PG&f=1", "display_name": "Lev", "link": "https://stackoverflow.com/users/6797267/lev"}, "edited": false, "score": 0, "creation_date": 1487761920, "post_id": 42388286, "comment_id": 71927052, "body": "@Lev still it&#39;s not?"}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": false, "score": 4, "last_activity_date": 1487758352, "last_edit_date": 1487758352, "creation_date": 1487757610, "answer_id": 42388286, "question_id": 42388209, "link": "https://stackoverflow.com/questions/42388209/disactivating-routerlinkactive-attribute-conditionally-to-some-value/42388286#42388286", "title": "Disactivating RouterLinkActive attribute conditionally to some value", "body": "<p>Below template code will add the attribute <code>routerLinkActive</code> to it's corresponding tag only if the value of <code>routerLinkActiveIsDisabled</code> is set to false (<em>non-truthy value</em>).</p>\n\n<pre><code>[attr.routerLinkActive]=\"routerLinkActiveIsDisabled ? null: active-link\"\n</code></pre>\n\n<p>or</p>\n\n<pre><code>[attr.routerLinkActive]=\"routerLinkActiveIsDisabled ? null: 'active-link'\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 83, "user_id": 6810387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0742a35230b6a217c7ddcc3fce37258?s=128&d=identicon&r=PG&f=1", "display_name": "looffee", "link": "https://stackoverflow.com/users/6810387/looffee"}, "is_accepted": false, "score": 0, "last_activity_date": 1487757823, "creation_date": 1487757823, "answer_id": 42388385, "question_id": 42388209, "link": "https://stackoverflow.com/questions/42388209/disactivating-routerlinkactive-attribute-conditionally-to-some-value/42388385#42388385", "title": "Disactivating RouterLinkActive attribute conditionally to some value", "body": "<p>u can use</p>\n\n<pre><code>&lt;a [routerLink]=\"routeUrl\" \n[routerLinkActive]=\"{{classname if link is active}}\" \n&gt;\n&lt;/a&gt;\n</code></pre>\n\n<p>or use *ngIf and have two different \"a\" tags</p>\n\n<pre><code>&lt;a *ngIf=\"!routerLinkActiveIsDisabled\"\n[routerLink]=\"routeUrl\" \nrouterLinkActive=\"active-link\" \n&gt;\n&lt;/a&gt;\n\n&lt;a *ngIf=\"routerLinkActiveIsDisabled\"\n[routerLink]=\"routeUrl\" \n&gt;\n&lt;/a&gt;\n</code></pre>\n"}], "owner": {"reputation": 6896, "user_id": 6797267, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/bba37c069bfb5b705b7a0c98bd9b4803?s=128&d=identicon&r=PG&f=1", "display_name": "Lev", "link": "https://stackoverflow.com/users/6797267/lev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3834, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1595578509, "creation_date": 1487757401, "last_edit_date": 1492353877, "question_id": 42388209, "link": "https://stackoverflow.com/questions/42388209/disactivating-routerlinkactive-attribute-conditionally-to-some-value", "title": "Disactivating RouterLinkActive attribute conditionally to some value", "body": "<p>In this simple menu item component:</p>\n\n<pre><code>import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'nav-item',\n  template: `\n    &lt;a [routerLink]=\"routeUrl\" \n    routerLinkActive=\"active-link\" \n    &gt;\n    &lt;/a&gt;\n  `\n})\n\nexport class NavItemComponent {\n  @Input() routerLinkActiveIsDisabled: boolean;\n}\n</code></pre>\n\n<p>I would like <code>routerLinkActive</code> to be used on only certain items not all.</p>\n\n<p>How can I make it so that the <code>routerLinkActive</code> attribute is removed  if <code>routerLinkActiveIsDisabled</code> is <code>true</code></p>\n"}, {"tags": ["angular", "typescript", "jasmine", "angular2-routing", "angular2-testing"], "answers": [{"comments": [{"owner": {"reputation": 3496, "user_id": 1274248, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a5faf6d5b6d38c6b4015b69fd31e7f8f?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/1274248/will"}, "edited": false, "score": 0, "creation_date": 1487885533, "post_id": 42386099, "comment_id": 71998613, "body": "Your test, which validates the component data gets set according to the route param, looks good to me. The test is relying only on the mock implementation of ActivatedRoute, not the real one. That&#39;s good. Unit tests should be as isolated as possible. The purpose of a test like this is to identify issues in just the one component itself, not interactions with other components or services or Angular classes or the browser. If you introduced other such unnecessary interactions, it would cloud the test results, because those other things could mask issues within your component."}, {"owner": {"reputation": 477, "user_id": 3640967, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/25db910e9892b2bd214886730111e633?s=128&d=identicon&r=PG&f=1", "display_name": "user3640967", "link": "https://stackoverflow.com/users/3640967/user3640967"}, "edited": false, "score": 1, "creation_date": 1545998825, "post_id": 42386099, "comment_id": 94754236, "body": "Thank you so much for taking the time to answer your own question to help those of us who are stuck with the same problem.  I&#39;ve tried a few different ways of mocking out the route params now but this is the only solution I&#39;ve found that allows the params to be changed on a per test basis."}], "tags": [], "owner": {"reputation": 963, "user_id": 4923309, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5432f74448570aa72fcc355e1e0af97c?s=128&d=identicon&r=PG&f=1", "display_name": "be-ndee", "link": "https://stackoverflow.com/users/4923309/be-ndee"}, "is_accepted": true, "score": 7, "last_activity_date": 1487751633, "creation_date": 1487751633, "answer_id": 42386099, "question_id": 42385851, "link": "https://stackoverflow.com/questions/42385851/testing-a-component-which-depends-on-a-route-param/42386099#42386099", "title": "Testing a component, which depends on a route param", "body": "<p>Okay, reading a little bit in the angular2 testing documentation, I saw their <code>ActivatedRouteStub</code> class. I have created this stub class, and have replaced my original mock with this new class. Now it is working (recognize the line <code>mockActivatedRoute.testParams = {foo: '3'};</code> in the second beforeEach).</p>\n\n<pre><code>import {TestBed, ComponentFixture, async} from '@angular/core/testing';\nimport {DebugElement} from '@angular/core';\nimport {By} from '@angular/platform-browser';\nimport {Params, ActivatedRoute} from '@angular/router';\n\nimport {Observable} from 'rxjs';\n\nimport {MyComponent} from './MyComponent';\n\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\n\n@Injectable()\nexport class ActivatedRouteStub\n{\n    private subject = new BehaviorSubject(this.testParams);\n    params = this.subject.asObservable();\n\n    private _testParams: {};\n    get testParams() { return this._testParams; }\n    set testParams(params: {}) {\n        this._testParams = params;\n        this.subject.next(params);\n    }\n}\n\ndescribe('MyComponent', () =&gt; {\n    let mockParams, mockActivatedRoute;\n\n    let component: MyComponent;\n    let fixture: ComponentFixture&lt;MyComponent&gt;;\n    let debugElement: DebugElement;\n    let element: HTMLElement;\n\n    beforeEach(async(() =&gt; {\n        mockActivatedRoute = new ActivatedRouteStub();\n\n        TestBed.configureTestingModule({\n            declarations: [\n                MyComponent\n            ],\n            providers: [\n                {provide: ActivatedRoute, useValue: mockActivatedRoute}\n            ]\n        }).compileComponents();\n    }));\n\n    beforeEach(() =&gt; {\n        fixture = TestBed.createComponent(MyComponent);\n        component = fixture.componentInstance;\n\n        debugElement = fixture.debugElement;\n        element = debugElement.nativeElement;\n\n        mockActivatedRoute.testParams = {foo: '3'};\n\n        fixture.detectChanges();\n    });\n\n    it('should set foo to \"3\"', () =&gt; {\n        expect(component.foo).toBe('3');\n    });\n});\n</code></pre>\n\n<p>Do you think this is the right way?</p>\n"}], "owner": {"reputation": 963, "user_id": 4923309, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5432f74448570aa72fcc355e1e0af97c?s=128&d=identicon&r=PG&f=1", "display_name": "be-ndee", "link": "https://stackoverflow.com/users/4923309/be-ndee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6457, "favorite_count": 1, "accepted_answer_id": 42386099, "answer_count": 1, "score": 6, "last_activity_date": 1578033711, "creation_date": 1487750814, "last_edit_date": 1578033711, "question_id": 42385851, "link": "https://stackoverflow.com/questions/42385851/testing-a-component-which-depends-on-a-route-param", "title": "Testing a component, which depends on a route param", "body": "<p>I have a question about testing a routed component in angular2.</p>\n\n<p>Here is a simple component, which depends on a route with a parameter <code>'foo'</code>. The attribute <code>foo</code> in the component will be set to the value of the parameter.</p>\n\n<pre><code>import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, Params} from '@angular/router';\n\n@Component({\n    selector: 'my-component',\n    templateUrl: './my-component.html'\n})\nexport class MyComponent implements OnInit\n{\n    foo: string;\n\n    constructor(\n        private route: ActivatedRoute\n    )\n    {\n    }\n\n    ngOnInit()\n    {\n        this.route.params.subscribe((params: Params) =&gt; {\n            this.foo = params['foo'];\n        });\n    }\n}\n</code></pre>\n\n<p>Now I want to test, that if the component will be created with the route, the param will be set correctly. So somewhere I want to have <code>expect(component.foo).toBe('3');</code>.</p>\n\n<pre><code>import {TestBed, ComponentFixture, async} from '@angular/core/testing';\nimport {DebugElement} from '@angular/core';\nimport {By} from '@angular/platform-browser';\nimport {Params, ActivatedRoute} from '@angular/router';\n\nimport {Observable} from 'rxjs';\n\nimport {MyComponent} from './MyComponent';\n\ndescribe('MyComponent', () =&gt; {\n    let mockParams, mockActivatedRoute;\n\n    let component: MyComponent;\n    let fixture: ComponentFixture&lt;MyComponent&gt;;\n    let debugElement: DebugElement;\n    let element: HTMLElement;\n\n    beforeEach(async(() =&gt; {\n        mockParams = Observable.of&lt;Params&gt;({foo: '3'});\n        mockActivatedRoute = {params: mockParams};\n\n        TestBed.configureTestingModule({\n            declarations: [\n                MyComponent\n            ],\n            providers: [\n                {provide: ActivatedRoute, useValue: mockActivatedRoute}\n            ]\n        }).compileComponents();\n    }));\n\n    beforeEach(() =&gt; {\n        fixture = TestBed.createComponent(MyComponent);\n        component = fixture.componentInstance;\n\n        debugElement = fixture.debugElement;\n        element = debugElement.nativeElement;\n\n        fixture.detectChanges();\n    });\n\n    it('should set foo to \"3\"', () =&gt; {\n        expect(component.foo).toBe('3');\n    });\n});\n</code></pre>\n\n<p>My problem is that I don't know how to wait, until resolving of the route is finished, and I can do an <code>expect()</code>. And in this example the test fails and it says \"Expected undefined to be '3'.\".</p>\n\n<p>Can someone help me please?!</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["javascript", "typescript", "testing"], "comments": [{"owner": {"reputation": 3662, "user_id": 5076405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xvLnU.jpg?s=128&g=1", "display_name": "David Guan", "link": "https://stackoverflow.com/users/5076405/david-guan"}, "edited": false, "score": 4, "creation_date": 1487751339, "post_id": 42385701, "comment_id": 71920208, "body": "First, Based on DRY, the option 2 help us don&#39;t make 2 changes if there are any directory name changes.  Second, Personally, I like option 2 because it&#39;s much easier for TDD."}, {"owner": {"reputation": 557, "user_id": 1934747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32f65cd4baa5ff0f11cd895de48d1ffc?s=128&d=identicon&r=PG", "display_name": "UghSegment", "link": "https://stackoverflow.com/users/1934747/ughsegment"}, "reply_to_user": {"reputation": 3662, "user_id": 5076405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xvLnU.jpg?s=128&g=1", "display_name": "David Guan", "link": "https://stackoverflow.com/users/5076405/david-guan"}, "edited": false, "score": 0, "creation_date": 1487751721, "post_id": 42385701, "comment_id": 71920447, "body": "@DavidGuan That makes sense, but it does make the code less &quot;organized&quot;, in a sense. I feel like the directory naming wouldn&#39;t be an issue if there was some tooling to mirror directory structure."}, {"owner": {"reputation": 6067, "user_id": 2315360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8htWF.jpg?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/2315360/george"}, "edited": false, "score": 0, "creation_date": 1487752376, "post_id": 42385701, "comment_id": 71920822, "body": "I&#39;d say option 1, although you do end up repeating yourself it makes your builds easier/faster as you can just ignore one folder instead of having to check every file, but that may only be milliseconds. I don&#39;t think it makes a huge amount of difference, so just go with what you feel works best with you."}], "answers": [{"comments": [{"owner": {"reputation": 2695, "user_id": 1749630, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ce1f414d36af7bf28062c9caa7600479?s=128&d=identicon&r=PG", "display_name": "aaron-bond", "link": "https://stackoverflow.com/users/1749630/aaron-bond"}, "edited": false, "score": 9, "creation_date": 1487763124, "post_id": 42387591, "comment_id": 71927858, "body": "I have to disagree here: even the Angular 2 project itself sets up this way. Tests don&#39;t &quot;pollute&quot; your code. Tests ARE your code. Unit tests for individual components are useful, and rather than keeping a mirror of your main code directory solely for tests, you can find the unit test you&#39;re looking for right there where you&#39;d expect it."}, {"owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "reply_to_user": {"reputation": 2695, "user_id": 1749630, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ce1f414d36af7bf28062c9caa7600479?s=128&d=identicon&r=PG", "display_name": "aaron-bond", "link": "https://stackoverflow.com/users/1749630/aaron-bond"}, "edited": false, "score": 4, "creation_date": 1487763504, "post_id": 42387591, "comment_id": 71928155, "body": "We are talking different things. I would really like not to go into wars what approach it &quot;the one&quot; therefore my answer starts with &quot;My personal recommendation&quot;. Regarding angular2 - just by taking the first folder from their git repository: <a href=\"https://github.com/angular/angular/tree/master/modules/%40angular/animation\" rel=\"nofollow noreferrer\">github.com/angular/angular/tree/master/modules/%40angular/&hellip;</a> we see clear separation of tests and sorce code into two distinct nested folders. And the same for each &quot;module&quot;."}, {"owner": {"reputation": 2695, "user_id": 1749630, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ce1f414d36af7bf28062c9caa7600479?s=128&d=identicon&r=PG", "display_name": "aaron-bond", "link": "https://stackoverflow.com/users/1749630/aaron-bond"}, "edited": false, "score": 0, "creation_date": 1487763772, "post_id": 42387591, "comment_id": 71928331, "body": "That&#39;s a fair point. I hadn&#39;t noticed that the Angular project itself differed from the CLI project. I wonder what the rationale for that is. I agree that this is mostly opinion-based, but the OP mentioned they&#39;re using Angular-CLI, and sticking to conventions in that regard will be beneficial in the long run (considering upgrades etc)"}, {"owner": {"reputation": 2695, "user_id": 1749630, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ce1f414d36af7bf28062c9caa7600479?s=128&d=identicon&r=PG", "display_name": "aaron-bond", "link": "https://stackoverflow.com/users/1749630/aaron-bond"}, "edited": false, "score": 0, "creation_date": 1487763898, "post_id": 42387591, "comment_id": 71928423, "body": "Further to this, point #2: e2e ARE separated in the Angular-CLI project, so this is taken care of (since e2e don&#39;t correspond to a specific component). #3: the .spec.ts files are already removed from the output JS so this isn&#39;t an issue the OP has to be aware of."}, {"owner": {"reputation": 186, "user_id": 2367418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abf144cbb17332d8c1fc64255105d64e?s=128&d=identicon&r=PG", "display_name": "user2367418", "link": "https://stackoverflow.com/users/2367418/user2367418"}, "edited": false, "score": 0, "creation_date": 1496249365, "post_id": 42387591, "comment_id": 75587483, "body": "My opinion: I prefer #1 because #2 makes my eyes work harder.  With # 2, the spec files slow me down when I am looking for a component file to click on.   The name of the spec file is so similar, unless I slow down and read carefully,  I will click on the spec file name instead of the component file name.  This wastes my time.   This is significant because I will work with the component file many more times than the spec file."}, {"owner": {"reputation": 100, "user_id": 889823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af73493ae8cc00cde5c2433ebdfd61b9?s=128&d=identicon&r=PG", "display_name": "Geert Bellemans", "link": "https://stackoverflow.com/users/889823/geert-bellemans"}, "edited": false, "score": 3, "creation_date": 1520411315, "post_id": 42387591, "comment_id": 85299046, "body": "personal preferations aside, your tests are part of your business logic (#1). You can see your tests as the definitions of the business rules and your production code as their implementations.  When I take a first look at a project I mostly look at the tests as they explain the code better than the code itself sometimes does (assuming they are well written). For #2, you put e2e tests in a seperate folder, as you would do now. I Don&#39;t see the problem in combining both philosophies? #3 Adding 1 extra exclusion in your build config doesn&#39;t seem like a lot of work to me :)"}, {"owner": {"reputation": 108811, "user_id": 1269037, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/mMk1e.jpg?s=128&g=1", "display_name": "Dan Dascalescu", "link": "https://stackoverflow.com/users/1269037/dan-dascalescu"}, "edited": false, "score": 1, "creation_date": 1590962969, "post_id": 42387591, "comment_id": 109872591, "body": "I think only #2 is a valid argument here, and that can be solved by having e2e tests in a separate directory, while unit tests are next to their files, thus showing what has and what doesn&#39;t have a test, and making it easier to move/rename test files when source files (inevitably) get moved or renamed."}, {"owner": {"reputation": 9760, "user_id": 4925661, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5f75c5f5338aa25763f5715122fabeb?s=128&d=identicon&r=PG&f=1", "display_name": "Maciej Krawczyk", "link": "https://stackoverflow.com/users/4925661/maciej-krawczyk"}, "edited": false, "score": 0, "creation_date": 1615545323, "post_id": 42387591, "comment_id": 117729684, "body": "#3 it depends on your build setup. At worst, you can exclude *.test.js from the pipeline. In more modern build setups with tree-shaking, you don&#39;t even have to think about it."}], "tags": [], "owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "is_accepted": false, "score": 23, "last_activity_date": 1563992419, "last_edit_date": 1563992419, "creation_date": 1487755809, "answer_id": 42387591, "question_id": 42385701, "link": "https://stackoverflow.com/questions/42385701/pros-and-cons-of-placing-test-files-in-the-same-folder-as-source-files-or-separ/42387591#42387591", "title": "Pros and cons of placing test files in the same folder as source files, or separate under test/", "body": "<p>My personal recommendation is to go with #1. The reasons are:</p>\n\n<ol>\n<li>Your source code is not 'polluted' with code that is not related to actual business logic. Mind that it is not so uncommon to have more than one test file for the same class/module.</li>\n<li>There are more that just unit tests you are probably going to write. What about e2e? Are they going to be placed along side corresponding 'something', as they are not so bound to the particular file? So you risk end up cluttering your tests over whole project - some of them in one place and some in other. Separation of all tests in the dedicated directory - solves this issue.</li>\n<li>Its easy to prepare the deploy of the project. Otherwise you will have to somehow strip out all tests from the transpiled sources. </li>\n</ol>\n\n<p>Do not trust me on this - have a look at the established projects like </p>\n\n<ul>\n<li><a href=\"https://github.com/facebook/react/tree/master/packages/react/src\" rel=\"noreferrer\">React</a></li>\n<li><a href=\"https://github.com/angular/angular.js\" rel=\"noreferrer\">Angular2</a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 557, "user_id": 1934747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32f65cd4baa5ff0f11cd895de48d1ffc?s=128&d=identicon&r=PG", "display_name": "UghSegment", "link": "https://stackoverflow.com/users/1934747/ughsegment"}, "edited": false, "score": 1, "creation_date": 1487825696, "post_id": 42390234, "comment_id": 71961210, "body": "My question isn&#39;t specific to Angular 2 at all."}, {"owner": {"reputation": 2695, "user_id": 1749630, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ce1f414d36af7bf28062c9caa7600479?s=128&d=identicon&r=PG", "display_name": "aaron-bond", "link": "https://stackoverflow.com/users/1749630/aaron-bond"}, "reply_to_user": {"reputation": 557, "user_id": 1934747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32f65cd4baa5ff0f11cd895de48d1ffc?s=128&d=identicon&r=PG", "display_name": "UghSegment", "link": "https://stackoverflow.com/users/1934747/ughsegment"}, "edited": false, "score": 1, "creation_date": 1487847390, "post_id": 42390234, "comment_id": 71973020, "body": "In that case it&#39;s surely just preference"}, {"owner": {"reputation": 1274, "user_id": 5689384, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/DESj1.jpg?s=128&g=1", "display_name": "The Dembinski", "link": "https://stackoverflow.com/users/5689384/the-dembinski"}, "edited": false, "score": 11, "creation_date": 1498544430, "post_id": 42390234, "comment_id": 76527238, "body": "Upvoted for <i>&quot;think about unit tests as PART of your code&quot;</i>"}, {"owner": {"reputation": 1790, "user_id": 2991410, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5cdbc3590e5bcb211129003a5d9121e7?s=128&d=identicon&r=PG", "display_name": "JasmineOT", "link": "https://stackoverflow.com/users/2991410/jasmineot"}, "edited": false, "score": 0, "creation_date": 1524095494, "post_id": 42390234, "comment_id": 86837137, "body": "Then where will you put the test related sources? For example, test mock file?"}, {"owner": {"reputation": 2695, "user_id": 1749630, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ce1f414d36af7bf28062c9caa7600479?s=128&d=identicon&r=PG", "display_name": "aaron-bond", "link": "https://stackoverflow.com/users/1749630/aaron-bond"}, "edited": false, "score": 0, "creation_date": 1524129460, "post_id": 42390234, "comment_id": 86849734, "body": "In my Angular apps I keep my common mock files located under <code>&#47;src&#47;test&#47;</code> because that&#39;s alongside the <code>test.ts</code> file which is used to collect all the tests together. You just have to make sure to exclude the directory in your tsconfig.json"}, {"owner": {"reputation": 944, "user_id": 5771248, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gMXrg.png?s=128&g=1", "display_name": "macbem", "link": "https://stackoverflow.com/users/5771248/macbem"}, "edited": false, "score": 2, "creation_date": 1533641538, "post_id": 42390234, "comment_id": 90411674, "body": "What&#39;s the plugin called? I&#39;d love to try it."}, {"owner": {"reputation": 1367, "user_id": 2253888, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c3584277297d48dcfb1baace9ff9aadb?s=128&d=identicon&r=PG", "display_name": "ESR", "link": "https://stackoverflow.com/users/2253888/esr"}, "edited": false, "score": 3, "creation_date": 1539748478, "post_id": 42390234, "comment_id": 92609993, "body": "&quot;so why move the unit tests?&quot; because they are not required to produce or render the component in a web browser, unlike the other files you mentioned. This nuance is important and why I disagree with this answer."}, {"owner": {"reputation": 878, "user_id": 2351948, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/H2px3.jpg?s=128&g=1", "display_name": "kiwicomb123", "link": "https://stackoverflow.com/users/2351948/kiwicomb123"}, "edited": false, "score": 0, "creation_date": 1619108786, "post_id": 42390234, "comment_id": 118811345, "body": "I agree, I&#39;ve been using Option #1 for the last few years and it does NOT scale well into large code bases.  With Option#1 your test folder hierarchy has to mirror the same structure as your src code structure.  This is okay for small projects.  But for large refactoring s its very difficult to keep that mirror structure correct.   With Option #1 whenever you move source code folders around, the tests move with them.  Much more efficient."}], "tags": [], "owner": {"reputation": 2695, "user_id": 1749630, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ce1f414d36af7bf28062c9caa7600479?s=128&d=identicon&r=PG", "display_name": "aaron-bond", "link": "https://stackoverflow.com/users/1749630/aaron-bond"}, "is_accepted": false, "score": 26, "last_activity_date": 1487763366, "creation_date": 1487763366, "answer_id": 42390234, "question_id": 42385701, "link": "https://stackoverflow.com/questions/42385701/pros-and-cons-of-placing-test-files-in-the-same-folder-as-source-files-or-separ/42390234#42390234", "title": "Pros and cons of placing test files in the same folder as source files, or separate under test/", "body": "<p>Option #2 is the way I'd go.</p>\n\n<p>When thinking about the Angular 2 components, I consider them to be a single entity, made up of multiple files. You don't move your HTML / CSS files out to some other directory, away from the component, so why move the unit tests?</p>\n\n<p>I've written a small utility plugin for VSCode that I personally find quite useful - it compresses an Angular 2 component into a single entry on the Explorer view, and adds icons / context menu options for getting to the template / css / unit tests. This helps me see the component as a single unit, comprising multiple parts. Maybe something like that would help keep your directory \"clean\" if that's what you worry about?</p>\n\n<p>I would encourage you to think about unit tests as PART OF your code, rather than in addition to. They'll be very useful if you can keep on top of them.</p>\n"}], "owner": {"reputation": 557, "user_id": 1934747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32f65cd4baa5ff0f11cd895de48d1ffc?s=128&d=identicon&r=PG", "display_name": "UghSegment", "link": "https://stackoverflow.com/users/1934747/ughsegment"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10821, "favorite_count": 2, "closed_date": 1491925284, "answer_count": 2, "score": 37, "last_activity_date": 1590962780, "creation_date": 1487750349, "last_edit_date": 1590962780, "question_id": 42385701, "link": "https://stackoverflow.com/questions/42385701/pros-and-cons-of-placing-test-files-in-the-same-folder-as-source-files-or-separ", "closed_reason": "Opinion-based", "title": "Pros and cons of placing test files in the same folder as source files, or separate under test/", "body": "<p>What are the advantages and disadvantages of placing test files next to the source files they test (in the same <code>src</code> directory), vs. in a separate <code>tests</code> directory, mirroring the <code>src</code> hierarchy? </p>\n\n<p>Having them in the same folder seems to make life easier when it comes to maintenance, but also crowds the source directories.</p>\n\n<p><strong>Option 1:</strong> Directory structure when having separate folders for source and tests:</p>\n\n<pre><code>- src\n+-- item.ts\n`-- util\n    +-- helper.ts\n\n- test\n+-- item.test.ts\n`-- util\n    `-- helper.test.ts\n</code></pre>\n\n<p><strong>Option 2:</strong> Directory structure when having both types of files in the same directory:</p>\n\n<pre><code>- src\n+-- item.ts\n+-- item.test.ts\n`-- util\n    +-- helper.ts\n    `-- helper.test.ts\n</code></pre>\n\n<p>I used to always go with option 1 until trying out <code>angular-cli</code> and having it generate code files alongside the test files as in option 2, which made me rethink the whole thing.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "edited": false, "score": 0, "creation_date": 1487748553, "post_id": 42385163, "comment_id": 71918739, "body": "There&#39;s nothing weird going on here. You&#39;re passing an array reference around and subsequently modifying that array. What would you expect to happen?"}], "answers": [{"comments": [{"owner": {"reputation": 404, "user_id": 1407088, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/322ac178e30a5408973fe8e260d1019e?s=128&d=identicon&r=PG", "display_name": "bravik", "link": "https://stackoverflow.com/users/1407088/bravik"}, "edited": false, "score": 0, "creation_date": 1487748726, "post_id": 42385214, "comment_id": 71918844, "body": "Thank you. How can I make sure to return a copy of an object, not a reference ?"}, {"owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "reply_to_user": {"reputation": 404, "user_id": 1407088, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/322ac178e30a5408973fe8e260d1019e?s=128&d=identicon&r=PG", "display_name": "bravik", "link": "https://stackoverflow.com/users/1407088/bravik"}, "edited": false, "score": 1, "creation_date": 1487748771, "post_id": 42385214, "comment_id": 71918870, "body": "You can return <code>cities.slice()</code> in your service, but it will copy only first level objects"}], "tags": [], "owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "is_accepted": true, "score": 1, "last_activity_date": 1487748551, "creation_date": 1487748551, "answer_id": 42385214, "question_id": 42385163, "link": "https://stackoverflow.com/questions/42385163/private-typescript-class-variable-returned-in-getter-method-is-affected-in-other/42385214#42385214", "title": "Private TypeScript class variable returned in getter method is affected in other class?", "body": "<p>You have returned a reference of that cities. So you have one object with two references and if you change it from one, it will be changed also for the second. In this case you can use <code>slice()</code> function instead of <code>splice()</code>, because <code>splice</code> actually changes the array.</p>\n\n<pre><code>this.cities = this.cities.slice(index, 1);\n</code></pre>\n"}], "owner": {"reputation": 404, "user_id": 1407088, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/322ac178e30a5408973fe8e260d1019e?s=128&d=identicon&r=PG", "display_name": "bravik", "link": "https://stackoverflow.com/users/1407088/bravik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "accepted_answer_id": 42385214, "answer_count": 1, "score": 0, "last_activity_date": 1487748551, "creation_date": 1487748393, "question_id": 42385163, "link": "https://stackoverflow.com/questions/42385163/private-typescript-class-variable-returned-in-getter-method-is-affected-in-other", "title": "Private TypeScript class variable returned in getter method is affected in other class?", "body": "<p>It's an angular 2 project.</p>\n\n<p>I have a class with static cities data:</p>\n\n<pre><code>export class CityService {    \n    private availableCities: City[] = [];\n\n    constructor() {\n        this.availableCities.push(new City('london', 'London'));\n        this.availableCities.push(new City('paris', 'Paris'));\n    }\n\n    getAll() {\n        return this.availableCities;\n    };\n}\n</code></pre>\n\n<p>I have another class using it:</p>\n\n<pre><code>export class NavbarComponent {\n    private cities: City[];\n    private currentCity : City;\n\n    constructor(private cityService: CityService) {\n        this.cities = cityService.getAll();\n        this.currentCity = cityService.getCurrent();\n        this.cities.forEach((city, index) =&gt; {\n            if (city.name == this.currentCity.name) {\n                //@todo BUG This affects private cities variable in CityService class WTF!!!!!!!\n                this.cities.splice(index, 1);\n                return;\n            }\n        })\n    }\n\n}\n</code></pre>\n\n<p>So in constructor of this class I'm trying to load all cities with getAll() method. These cities are loaded into NavbarComponent own private cities variable. However when I do manipulate with NavbarComponent's cities var - it changes CityService's cities private property! \nWhy???????? That ruins my perception of the wold!</p>\n\n<p>Can anybody explain and give links to do some reading why that happens</p>\n\n<p>TypeScript version 2.1.5</p>\n"}, {"tags": ["angular", "typescript", "visual-studio-code"], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 5471117, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0a516b603f8fa48a641725f11c7c28d7?s=128&d=identicon&r=PG&f=1", "display_name": "Basil Joy", "link": "https://stackoverflow.com/users/5471117/basil-joy"}, "edited": false, "score": 0, "creation_date": 1487748988, "post_id": 42385224, "comment_id": 71918986, "body": "i have added   import { BehaviorSubject } from &#39;rxjs&#39;;       private myValue = new BehaviorSubject&lt;String&gt;();       public myValue$ = this.myValue.asObservable(); It shows error like , Supplied parameters do not match any signature of call target.)"}, {"owner": {"reputation": 151, "user_id": 5471117, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0a516b603f8fa48a641725f11c7c28d7?s=128&d=identicon&r=PG&f=1", "display_name": "Basil Joy", "link": "https://stackoverflow.com/users/5471117/basil-joy"}, "edited": false, "score": 0, "creation_date": 1487753312, "post_id": 42385224, "comment_id": 71921428, "body": "private myValue = new BehaviorSubject&lt;String&gt;();"}, {"owner": {"reputation": 151, "user_id": 5471117, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0a516b603f8fa48a641725f11c7c28d7?s=128&d=identicon&r=PG&f=1", "display_name": "Basil Joy", "link": "https://stackoverflow.com/users/5471117/basil-joy"}, "edited": false, "score": 0, "creation_date": 1487754410, "post_id": 42385224, "comment_id": 71922206, "body": "now no errors,but  view not updated,is it because i missed something?."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 151, "user_id": 5471117, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0a516b603f8fa48a641725f11c7c28d7?s=128&d=identicon&r=PG&f=1", "display_name": "Basil Joy", "link": "https://stackoverflow.com/users/5471117/basil-joy"}, "edited": false, "score": 0, "creation_date": 1487754950, "post_id": 42385224, "comment_id": 71922568, "body": "Are you talking about <code>selected name is: {{selectedName}}</code> and is this part of <code>Component2Component</code>s template?"}, {"owner": {"reputation": 151, "user_id": 5471117, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0a516b603f8fa48a641725f11c7c28d7?s=128&d=identicon&r=PG&f=1", "display_name": "Basil Joy", "link": "https://stackoverflow.com/users/5471117/basil-joy"}, "edited": false, "score": 0, "creation_date": 1487755754, "post_id": 42385224, "comment_id": 71923209, "body": "yes that part is html code of component2, as the div from component1 is clicked the clicked name should be set to &quot;selected name is: {{selectedName}}&quot; im using service to set this name to component2."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 151, "user_id": 5471117, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0a516b603f8fa48a641725f11c7c28d7?s=128&d=identicon&r=PG&f=1", "display_name": "Basil Joy", "link": "https://stackoverflow.com/users/5471117/basil-joy"}, "edited": false, "score": 0, "creation_date": 1487755930, "post_id": 42385224, "comment_id": 71923382, "body": "Where do you provide the <code>MyserviceService</code>?"}, {"owner": {"reputation": 151, "user_id": 5471117, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0a516b603f8fa48a641725f11c7c28d7?s=128&d=identicon&r=PG&f=1", "display_name": "Basil Joy", "link": "https://stackoverflow.com/users/5471117/basil-joy"}, "edited": false, "score": 0, "creation_date": 1487756210, "post_id": 42385224, "comment_id": 71923615, "body": "code for myserviceService is provided in the question,and it is imoprted in component1 and on click the function from the sevice is used to set the value"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 151, "user_id": 5471117, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0a516b603f8fa48a641725f11c7c28d7?s=128&d=identicon&r=PG&f=1", "display_name": "Basil Joy", "link": "https://stackoverflow.com/users/5471117/basil-joy"}, "edited": false, "score": 0, "creation_date": 1487756319, "post_id": 42385224, "comment_id": 71923703, "body": "I mean where did you add <code>providers: [MyserviceService]</code>. You need to have this somewhere, otherwise you&#39;d get an error message when running your code."}, {"owner": {"reputation": 151, "user_id": 5471117, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0a516b603f8fa48a641725f11c7c28d7?s=128&d=identicon&r=PG&f=1", "display_name": "Basil Joy", "link": "https://stackoverflow.com/users/5471117/basil-joy"}, "edited": false, "score": 0, "creation_date": 1487756503, "post_id": 42385224, "comment_id": 71923846, "body": "its added in app.module.ts"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487757611, "post_id": 42385224, "comment_id": 71924690, "body": "Sorry, can&#39;t imagine what would not work. At least I would expect an error."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1487753932, "last_edit_date": 1487753932, "creation_date": 1487748592, "answer_id": 42385224, "question_id": 42385142, "link": "https://stackoverflow.com/questions/42385142/pass-data-from-one-component-to-another-and-reflect-in-view/42385224#42385224", "title": "Pass data from one component to another and reflect in view", "body": "<p>It's best to use an observable to actively notify subscribers about value changes:</p>\n\n<pre><code>@Injectable()\nexport class MyserviceService {\n  private myValue = new BehaviorSubject&lt;String&gt;(null);\n  public myValue$ = this.myValue.asObservable();\n}\n</code></pre>\n\n\n\n<pre><code> export class Component2Component implements OnInit {\n private selectedName: string;\n   constructor(service:MyserviceService) { \n     this.service.myValue$.subscribe(val =&gt; this.selectedName = val);\n   }\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 733, "user_id": 6615101, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-dnPBVztkdiM/AAAAAAAAAAI/AAAAAAAABJw/g4t_oantv-w/photo.jpg?sz=128", "display_name": "Vinay Prabhakaran", "link": "https://stackoverflow.com/users/6615101/vinay-prabhakaran"}, "is_accepted": false, "score": 0, "last_activity_date": 1487752941, "last_edit_date": 1487752941, "creation_date": 1487752613, "answer_id": 42386408, "question_id": 42385142, "link": "https://stackoverflow.com/questions/42385142/pass-data-from-one-component-to-another-and-reflect-in-view/42386408#42386408", "title": "Pass data from one component to another and reflect in view", "body": "<p>Angular documentation talks about using @Input bindings\n[<a href=\"https://angular.io/docs/ts/latest/cookbook/component-communication.html#!#parent-to-child][1]\" rel=\"nofollow noreferrer\">https://angular.io/docs/ts/latest/cookbook/component-communication.html#!#parent-to-child][1]</a></p>\n\n<p>In your component 1 html format id and name within square brackets and the replace div tag with name of component 2 selector tag</p>\n\n<pre><code>&lt;app-component2 *ngFor=\"let emp of employee\" (click)=\"onSelect(emp.name)\"\n  [hero]=\"hero\"\n  [master]=\"master\"&gt;\n&lt;/app-component2&gt;\n</code></pre>\n\n<p>In your component 2 .ts file add a import and the input variables</p>\n\n<pre><code>import { Component, Input } from '@angular/core';\n\n\nexport class Component2Component {\n  @Input() Id: string;\n  @Input() Name: string;\n}\n</code></pre>\n\n<p>In your component 2 html</p>\n\n<pre><code>&lt;p&gt;\nselected name is: {{Name}}\n&lt;/p&gt;\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 5471117, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0a516b603f8fa48a641725f11c7c28d7?s=128&d=identicon&r=PG&f=1", "display_name": "Basil Joy", "link": "https://stackoverflow.com/users/5471117/basil-joy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1854, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1487761295, "creation_date": 1487748340, "question_id": 42385142, "link": "https://stackoverflow.com/questions/42385142/pass-data-from-one-component-to-another-and-reflect-in-view", "title": "Pass data from one component to another and reflect in view", "body": "<p>In my project i have two components</p>\n\n<p><strong>component1.ts</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { MyserviceService } from '../myservice.service';\n\n@Component({\nselector: 'app-component1',\ntemplateUrl: './component1.component.html',\nstyleUrls: ['./component1.component.css']\n})\nexport class Component1Component implements OnInit {\n\nconstructor(private Service: MyserviceService) { }\n employee = [\n { id: '001', name: 'michael' },\n { id: '002', name: 'john' },\n { id: '003', name: 'james' },\n { id: '004', name: 'joe' },\n ];\n ngOnInit() {\n }\n\n onSelect(name) {\n  alert(name);\n  this.Service.setValue(name);\n }\n }\n</code></pre>\n\n<p>html</p>\n\n<pre><code>&lt;div *ngFor=\"let emp of employee\" (click)=\"onSelect(emp.name)\"&gt;\nId: {{emp.id}} &lt;br /&gt;\nName:  {{emp.name}}\n&lt;/div&gt;\n</code></pre>\n\n<p>Here onclick emp.name is passed to a service via onselect()</p>\n\n<p>i need this value to be passed to a second component</p>\n\n<p>component2.ts</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\n\n\n@Component({\nselector: 'app-component2',\n templateUrl: './component2.component.html',\n styleUrls: ['./component2.component.css']\n })\n export class Component2Component implements OnInit {\n private selectedName: string;\n constructor() { }\n\n  ngOnInit() {\n  }\n  }\n</code></pre>\n\n<p>html</p>\n\n<pre><code>&lt;p&gt;\nselected name is: {{selectedName}}\n&lt;/p&gt;\n</code></pre>\n\n<p>service code is:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class MyserviceService {\n private myValue;\n  constructor() { }\n   setValue(val) {\n    this.myValue = val;\n\n  }\n\n  getValue() {\n    return this.myValue;\n }\n }\n</code></pre>\n\n<p>i need to display name in component2 html code as variable selectedName.</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic2"], "comments": [{"owner": {"reputation": 324, "user_id": 6921903, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/40bcd7d2e3d2509fe630066ff6d16edc?s=128&d=identicon&r=PG&f=1", "display_name": "hydrococcus", "link": "https://stackoverflow.com/users/6921903/hydrococcus"}, "edited": false, "score": 0, "creation_date": 1492756950, "post_id": 42384763, "comment_id": 74123408, "body": "How did you do this?"}, {"owner": {"reputation": 1355, "user_id": 6642869, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/qF1G7.jpg?s=128&g=1", "display_name": "Devansh sadhotra", "link": "https://stackoverflow.com/users/6642869/devansh-sadhotra"}, "reply_to_user": {"reputation": 324, "user_id": 6921903, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/40bcd7d2e3d2509fe630066ff6d16edc?s=128&d=identicon&r=PG&f=1", "display_name": "hydrococcus", "link": "https://stackoverflow.com/users/6921903/hydrococcus"}, "edited": false, "score": 0, "creation_date": 1492949839, "post_id": 42384763, "comment_id": 74191645, "body": "@hydrococcus <a href=\"https://github.com/napolitano/cordova-plugin-intent\" rel=\"nofollow noreferrer\">github.com/napolitano/cordova-plugin-intent</a> , followed this"}], "answers": [{"comments": [{"owner": {"reputation": 1355, "user_id": 6642869, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/qF1G7.jpg?s=128&g=1", "display_name": "Devansh sadhotra", "link": "https://stackoverflow.com/users/6642869/devansh-sadhotra"}, "edited": false, "score": 1, "creation_date": 1487748129, "post_id": 42384953, "comment_id": 71918501, "body": "i am using Ionic framework, so there is no concept for intents."}, {"owner": {"reputation": 1598, "user_id": 973379, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100000215477293/picture?type=large", "display_name": "Piotr Zawadzki", "link": "https://stackoverflow.com/users/973379/piotr-zawadzki"}, "reply_to_user": {"reputation": 1355, "user_id": 6642869, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/qF1G7.jpg?s=128&g=1", "display_name": "Devansh sadhotra", "link": "https://stackoverflow.com/users/6642869/devansh-sadhotra"}, "edited": false, "score": 1, "creation_date": 1487749651, "post_id": 42384953, "comment_id": 71919359, "body": "My bad, I am not really familiar with ionic, but I came across this <a href=\"http://stackoverflow.com/questions/32856046/sending-url-to-ionic-android-app-via-webintents-from-another-app\" title=\"sending url to ionic android app via webintents from another app\">stackoverflow.com/questions/32856046/&hellip;</a> it&#39;s not exactly your case but it might be a starting point?"}, {"owner": {"reputation": 1355, "user_id": 6642869, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/qF1G7.jpg?s=128&g=1", "display_name": "Devansh sadhotra", "link": "https://stackoverflow.com/users/6642869/devansh-sadhotra"}, "edited": false, "score": 0, "creation_date": 1487749989, "post_id": 42384953, "comment_id": 71919525, "body": "thanks a lot for the reference , but i am afraid it won&#39;t work , as i am working with Ionic 2 and the link mentions about ionic 1.1"}, {"owner": {"reputation": 1344, "user_id": 4226967, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000095272882/picture?type=large", "display_name": "JoeriShoeby", "link": "https://stackoverflow.com/users/4226967/joerishoeby"}, "edited": false, "score": 0, "creation_date": 1487780154, "post_id": 42384953, "comment_id": 71940681, "body": "I agree to @PiotrZawadzki. You might not find a 1-on-1 solution to your question, but he&#39;s pointing you in the right direction. Note there is also a WebIntent plugin for Ionic 2. <a href=\"https://ionicframework.com/docs/v2/native/webintent/\" rel=\"nofollow noreferrer\">ionicframework.com/docs/v2/native/webintent</a>"}, {"owner": {"reputation": 1355, "user_id": 6642869, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/qF1G7.jpg?s=128&g=1", "display_name": "Devansh sadhotra", "link": "https://stackoverflow.com/users/6642869/devansh-sadhotra"}, "reply_to_user": {"reputation": 1344, "user_id": 4226967, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000095272882/picture?type=large", "display_name": "JoeriShoeby", "link": "https://stackoverflow.com/users/4226967/joerishoeby"}, "edited": false, "score": 0, "creation_date": 1492949898, "post_id": 42384953, "comment_id": 74191661, "body": "@JoeriShoeby yeah !after digging more into it , i found this <a href=\"https://github.com/napolitano/cordova-plugin-intent\" rel=\"nofollow noreferrer\">github.com/napolitano/cordova-plugin-intent</a> and then my app was visible in share options . i have updated the question accordingly"}], "tags": [], "owner": {"reputation": 1598, "user_id": 973379, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100000215477293/picture?type=large", "display_name": "Piotr Zawadzki", "link": "https://stackoverflow.com/users/973379/piotr-zawadzki"}, "is_accepted": false, "score": 2, "last_activity_date": 1487747767, "creation_date": 1487747767, "answer_id": 42384953, "question_id": 42384763, "link": "https://stackoverflow.com/questions/42384763/sharing-photo-photos-to-my-ionic-2-application-from-share-button-in-gallery-im/42384953#42384953", "title": "Sharing photo/photos to my ionic 2 application from \u201cshare\u201d button in gallery images", "body": "<p>You need to update your Android manifest as well as handle the received intent in your Activity. Please see the official guide: <a href=\"https://developer.android.com/training/sharing/receive.html#update-manifest\" rel=\"nofollow noreferrer\">https://developer.android.com/training/sharing/receive.html#update-manifest</a></p>\n"}], "owner": {"reputation": 1355, "user_id": 6642869, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/qF1G7.jpg?s=128&g=1", "display_name": "Devansh sadhotra", "link": "https://stackoverflow.com/users/6642869/devansh-sadhotra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3368, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1488871501, "creation_date": 1487747027, "last_edit_date": 1488871501, "question_id": 42384763, "link": "https://stackoverflow.com/questions/42384763/sharing-photo-photos-to-my-ionic-2-application-from-share-button-in-gallery-im", "title": "Sharing photo/photos to my ionic 2 application from \u201cshare\u201d button in gallery images", "body": "<p>When I choose picture/pictures from gallery of my android phone and click on share button, a list of apps appear. Here, those selected photos can be shared. I want my ionic2 application to appear in that list so that photos can be shared in my app.</p>\n\n<p>//07-03-2017 updating this question</p>\n\n<p>As per latest update to this question.</p>\n\n<p>Now my application appears in that list. but i am not been able to post pics , as i click the app icon , it takes me to the main page of the application and not the the desired page! </p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1638, "user_id": 5018980, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-MHHbFXhNr5Y/AAAAAAAAAAI/AAAAAAAABNk/4th8DMxY_l0/photo.jpg?sz=128", "display_name": "raj m", "link": "https://stackoverflow.com/users/5018980/raj-m"}, "edited": false, "score": 0, "creation_date": 1487747376, "post_id": 42384746, "comment_id": 71918123, "body": "Make a service to call your API.."}], "answers": [{"comments": [{"owner": {"reputation": 622, "user_id": 3352844, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7947c72104ebe37a33a9159145c63373?s=128&d=identicon&r=PG&f=1", "display_name": "Ravinder Kumar", "link": "https://stackoverflow.com/users/3352844/ravinder-kumar"}, "edited": false, "score": 0, "creation_date": 1487747651, "post_id": 42384827, "comment_id": 71918258, "body": "Is &#39;&lt;MyData&gt;r.json()&#39; and &#39;r.json() as MyData&#39; are same? Is first startement also typecasting json response int some type? I&#39;ll appreciate you reply @Gunter"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 622, "user_id": 3352844, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7947c72104ebe37a33a9159145c63373?s=128&d=identicon&r=PG&f=1", "display_name": "Ravinder Kumar", "link": "https://stackoverflow.com/users/3352844/ravinder-kumar"}, "edited": false, "score": 1, "creation_date": 1487748023, "post_id": 42384827, "comment_id": 71918454, "body": "Yes, both do the same. Not sure what you mean with &quot; Is first startement also typecasting json response int some type?&quot;"}, {"owner": {"reputation": 622, "user_id": 3352844, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7947c72104ebe37a33a9159145c63373?s=128&d=identicon&r=PG&f=1", "display_name": "Ravinder Kumar", "link": "https://stackoverflow.com/users/3352844/ravinder-kumar"}, "edited": false, "score": 0, "creation_date": 1487748165, "post_id": 42384827, "comment_id": 71918517, "body": "Sorry for typo mistake but I got the answer."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 622, "user_id": 3352844, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7947c72104ebe37a33a9159145c63373?s=128&d=identicon&r=PG&f=1", "display_name": "Ravinder Kumar", "link": "https://stackoverflow.com/users/3352844/ravinder-kumar"}, "edited": false, "score": 2, "creation_date": 1487748277, "post_id": 42384827, "comment_id": 71918581, "body": "Just to be sure, this is only for more convenient development (autocompletion, type checking during compilation), <b>it doesn&#39;t have any effect for code execution</b>. If the received JSON doesn&#39;t match the interface, this won&#39;t cause an error at runtime."}, {"owner": {"reputation": 622, "user_id": 3352844, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7947c72104ebe37a33a9159145c63373?s=128&d=identicon&r=PG&f=1", "display_name": "Ravinder Kumar", "link": "https://stackoverflow.com/users/3352844/ravinder-kumar"}, "edited": false, "score": 0, "creation_date": 1487748497, "post_id": 42384827, "comment_id": 71918701, "body": "So to handle negative scenario(unmatched JSON), how should we achieve this functionality."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 622, "user_id": 3352844, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7947c72104ebe37a33a9159145c63373?s=128&d=identicon&r=PG&f=1", "display_name": "Ravinder Kumar", "link": "https://stackoverflow.com/users/3352844/ravinder-kumar"}, "edited": false, "score": 1, "creation_date": 1487748645, "post_id": 42384827, "comment_id": 71918791, "body": "Then it&#39;s probably best to just create classes as interfaces with a constructor that parses the JSON and assigns its values to fields."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1487747348, "creation_date": 1487747348, "answer_id": 42384827, "question_id": 42384746, "link": "https://stackoverflow.com/questions/42384746/angular2-and-typescript-do-i-need-to-declare-models-for-each-api-call/42384827#42384827", "title": "Angular2 and Typescript do i need to declare models for each api call", "body": "<p>You can just cast to interfaces that match JSON exactly. This way you get autocompletion and compilation errors, but you don't need to implement any methods. Interfaces are ignored at runtime. Therefore you don't get any type safety at runtime.</p>\n\n<pre><code>interface MyData {\n  a:string;\n  b:number;\n}\n</code></pre>\n\n\n\n<pre><code>this.http.get(`/api/OwnerData/GetOwners`, { headers: this.getHeaders() })\n    .map(r =&gt; r.json() as MyData)\n    .catch(handleError);\n</code></pre>\n"}], "owner": {"reputation": 4607, "user_id": 563309, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/16d11188649ca592dd7507c2977bf0c6?s=128&d=identicon&r=PG", "display_name": "JenonD", "link": "https://stackoverflow.com/users/563309/jenond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 418, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1487747348, "creation_date": 1487746966, "question_id": 42384746, "link": "https://stackoverflow.com/questions/42384746/angular2-and-typescript-do-i-need-to-declare-models-for-each-api-call", "title": "Angular2 and Typescript do i need to declare models for each api call", "body": "<p>Coming from Angular 1 background, I used to have all my models declare as POCOs and my web api calls returned the data. </p>\n\n<pre><code> datacontext.query('api/OwnerData/GetOwners').then(function (d) {\n            vm.domain = d;\n}\n</code></pre>\n\n<p>Now with Angular2 and Typescript, I have two options. Either i can use map and get a JSON object and assign it to a property in the component and then use it on view.</p>\n\n<pre><code>this.http.get(`/api/OwnerData/GetOwners`, { headers: this.getHeaders() })\n        .map(r =&gt; r.json())\n        .catch(handleError);\n</code></pre>\n\n<p>Or else, I can use a different mapping function to map it to a strongly typed object. But if I go on this path i will have to define entire domain model in back end in typescript. Plus a suite of methods to map them. I feel this is a too much work and repetitions. On the other hand if I go with the JSON then I will loose the type safety. </p>\n\n<p>What are your thoughts on this. Thanks for your time. (i am using Angular 2.4 and Typescript 2.1.5)</p>\n"}, {"tags": ["angular", "typescript", "ionic2"], "answers": [{"comments": [{"owner": {"reputation": 2810, "user_id": 861615, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cb45954de36bb378bd68c67437317d8b?s=128&d=identicon&r=PG", "display_name": "Luckylooke", "link": "https://stackoverflow.com/users/861615/luckylooke"}, "edited": false, "score": 1, "creation_date": 1487931160, "post_id": 42429190, "comment_id": 72016050, "body": "Thank you for answer, I have found &quot;any&quot; solutions before, but I am looking for more general solution, using config flag would be the best. I thought /read that typescript is &quot;optional&quot; superset, so &quot;you can use standard js&quot; beside it. But this case shows that it seems it is not true."}, {"owner": {"reputation": 2084, "user_id": 2173016, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/TtNuv.png?s=128&g=1", "display_name": "Alex Filatov", "link": "https://stackoverflow.com/users/2173016/alex-filatov"}, "edited": false, "score": 0, "creation_date": 1488568014, "post_id": 42429190, "comment_id": 72305305, "body": "@basarat added my 5 cents to this answer"}, {"owner": {"reputation": 5560, "user_id": 544779, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bc1Ok.jpg?s=128&g=1", "display_name": "M&#246;rre", "link": "https://stackoverflow.com/users/544779/m%c3%b6rre"}, "reply_to_user": {"reputation": 2810, "user_id": 861615, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cb45954de36bb378bd68c67437317d8b?s=128&d=identicon&r=PG", "display_name": "Luckylooke", "link": "https://stackoverflow.com/users/861615/luckylooke"}, "edited": false, "score": 0, "creation_date": 1556564592, "post_id": 42429190, "comment_id": 98474050, "body": "@Luckylooke Of course you can! Apart from three minor things (enums, namespaces, and an obscurespecial  import= syntax), if you remove the type annotations, you are left with pure ECMAScript. That you have to add types, or turn off times specifically at some places using the <code>any</code> type, is why you chose TypeScript in the first place! What&#39;s the point of adding types to then turn around and complain that you want to turn them off? Then don&#39;t add any! You are not using TypeScript in that case, &quot;just JS&quot;!"}, {"owner": {"reputation": 5560, "user_id": 544779, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bc1Ok.jpg?s=128&g=1", "display_name": "M&#246;rre", "link": "https://stackoverflow.com/users/544779/m%c3%b6rre"}, "edited": false, "score": 0, "creation_date": 1556564819, "post_id": 42429190, "comment_id": 98474133, "body": "@basarat - Your answer, incl. the link, is missing the performance aspect. Keyword &quot;hidden classes&quot;, e.g. in V8. Whenever the properties on an object change internally the JS runtime decides &quot;this is a new class of object&quot; and creates a new internal meta structure representing the object and its properties. So if you start with an empty object and add <code>n</code> properties one by one, you end up with <code>n+1</code> internal representations of that object, all incompatible to one another (becomes important for internal runtime optimizations)."}, {"owner": {"reputation": 2810, "user_id": 861615, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cb45954de36bb378bd68c67437317d8b?s=128&d=identicon&r=PG", "display_name": "Luckylooke", "link": "https://stackoverflow.com/users/861615/luckylooke"}, "reply_to_user": {"reputation": 5560, "user_id": 544779, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bc1Ok.jpg?s=128&g=1", "display_name": "M&#246;rre", "link": "https://stackoverflow.com/users/544779/m%c3%b6rre"}, "edited": false, "score": 0, "creation_date": 1556597556, "post_id": 42429190, "comment_id": 98481987, "body": "@M&#246;rre it was because we have had mixure of legacy code and the new one, and I wanted to typescript to be more tolerant to legacy code.. using typescript features where there are defined, but not complain where there are not."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 8, "last_activity_date": 1487899562, "creation_date": 1487899562, "answer_id": 42429190, "question_id": 42384166, "link": "https://stackoverflow.com/questions/42384166/trying-to-suppress-ts2339-by-suppressexcesspropertyerrors-compiler-option/42429190#42429190", "title": "Trying to suppress TS2339 by suppressExcessPropertyErrors compiler option", "body": "<blockquote>\n  <p>I suppose that putting suppressExcessPropertyErrors into tsconfig.json should solve this.</p>\n</blockquote>\n\n<p>No. It suppresses excess properties in object construction e.g. </p>\n\n<pre><code>var x = {};\nx = {test:'abc'};\n</code></pre>\n\n<blockquote>\n  <p>I want to suppress this warning for object literals</p>\n</blockquote>\n\n<p>You can do anything you want using the <code>any</code> type e.g. </p>\n\n<pre><code>var x:any = {};\nx.test = 'abc';\n</code></pre>\n\n<h1>More</h1>\n\n<p>This is called <em>lazy object initiliazation</em> and patterns for dealing with it are covered here : <a href=\"https://basarat.gitbooks.io/typescript/content/docs/tips/lazyObjectLiteralInitialization.html\" rel=\"noreferrer\">https://basarat.gitbooks.io/typescript/content/docs/tips/lazyObjectLiteralInitialization.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 2810, "user_id": 861615, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cb45954de36bb378bd68c67437317d8b?s=128&d=identicon&r=PG", "display_name": "Luckylooke", "link": "https://stackoverflow.com/users/861615/luckylooke"}, "edited": false, "score": 1, "creation_date": 1488729617, "post_id": 42586568, "comment_id": 72350272, "body": "Sometimes I need to merge some multiple data into one object for REST API request, then I would like to use object literal. Everything is ok until you need some conditionals for several properties.. putting &quot;any&quot; solves the problem, but I suppose typescript is optional, so IMHO it should not push me into &quot;any&quot; solution.. and all not specified objects should be type of &quot;any&quot; by default."}], "tags": [], "owner": {"reputation": 2084, "user_id": 2173016, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/TtNuv.png?s=128&g=1", "display_name": "Alex Filatov", "link": "https://stackoverflow.com/users/2173016/alex-filatov"}, "is_accepted": false, "score": 0, "last_activity_date": 1506093046, "last_edit_date": 1506093046, "creation_date": 1488567810, "answer_id": 42586568, "question_id": 42384166, "link": "https://stackoverflow.com/questions/42384166/trying-to-suppress-ts2339-by-suppressexcesspropertyerrors-compiler-option/42586568#42586568", "title": "Trying to suppress TS2339 by suppressExcessPropertyErrors compiler option", "body": "<p>I could agree with <strong>@basarat</strong> by some points, but please let me to add some suggestions also.</p>\n\n<p>Declaration object props like this could a make sense by several reasons:</p>\n\n<pre><code>var x = {\n  test: ''\n};\nx.test = 'abc';\n</code></pre>\n\n<ol>\n<li>You will get intellisense support and in next time when you will call <code>x</code> object you will see which properties this object contains.</li>\n<li>Good for testing. You will be sure that construction of your object will not be changed somewhere in your project and can write tests keep in mind it.</li>\n<li>You will avoid to overriding your object properties with new ones. It could be if you declare you object as <code>any</code> type. </li>\n</ol>\n\n<p><strong>Explanation</strong>:</p>\n\n<pre><code>// origin object x with originProp property\nvar x: any = {\n  originProp: 'abc'\n};\n// new object with new newProp property\nx = {\n  newProp:'abc'\n};\n</code></pre>\n"}], "owner": {"reputation": 2810, "user_id": 861615, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cb45954de36bb378bd68c67437317d8b?s=128&d=identicon&r=PG", "display_name": "Luckylooke", "link": "https://stackoverflow.com/users/861615/luckylooke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4207, "favorite_count": 0, "accepted_answer_id": 42429190, "answer_count": 2, "score": 1, "last_activity_date": 1506093046, "creation_date": 1487744800, "question_id": 42384166, "link": "https://stackoverflow.com/questions/42384166/trying-to-suppress-ts2339-by-suppressexcesspropertyerrors-compiler-option", "title": "Trying to suppress TS2339 by suppressExcessPropertyErrors compiler option", "body": "<p>Here is the code:</p>\n\n<pre><code>var x = {};\nx.test = 'abc';\n</code></pre>\n\n<p>Getting typescript compiler error:</p>\n\n<blockquote>\n  <p>TS2339: Property 'test' does not exist on type '{}'. </p>\n</blockquote>\n\n<p>I want to suppress this warning for object literals, I suppose that putting <code>suppressExcessPropertyErrors</code> into <code>tsconfig.json</code> should solve this.</p>\n\n<p>tsconfig:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"suppressExcessPropertyErrors\": true\n    },\n    ...\n}\n</code></pre>\n\n<p>But nothing changed.. compiler still showing the error.</p>\n\n<p>Thank you for any hints ;)</p>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487744631, "post_id": 42384101, "comment_id": 71916737, "body": "Obviously <code>getData</code> is not returning the array you show as <code>Response data</code>. Try <code>&lt;div&gt;{{getData | json}}&lt;&#47;div&gt;</code>"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487744733, "post_id": 42384101, "comment_id": 71916776, "body": "Please post the code for <code>getClientList()</code>"}, {"owner": {"reputation": 393, "user_id": 5588829, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/313b849d1c65ed26a5012ddb050a1f40?s=128&d=identicon&r=PG&f=1", "display_name": "PAR", "link": "https://stackoverflow.com/users/5588829/par"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487744924, "post_id": 42384101, "comment_id": 71916856, "body": "i have tried {{getData | json }},getting response in html"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487745158, "post_id": 42384101, "comment_id": 71916965, "body": "Have you tried my answer? Why do you <code>JSON.stringify()</code> when you want an array?"}, {"owner": {"reputation": 393, "user_id": 5588829, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/313b849d1c65ed26a5012ddb050a1f40?s=128&d=identicon&r=PG&f=1", "display_name": "PAR", "link": "https://stackoverflow.com/users/5588829/par"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1487745451, "post_id": 42384101, "comment_id": 71917115, "body": "thanks a lot, i have removed JSON.stringify(), yes it is solved."}], "answers": [{"tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1487744690, "creation_date": 1487744690, "answer_id": 42384142, "question_id": 42384101, "link": "https://stackoverflow.com/questions/42384101/angular-2-cannot-find-a-differ-supporting-object-for-ngfor/42384142#42384142", "title": "Angular 2: Cannot find a differ supporting object for *ngFor", "body": "<pre><code>data =&gt; this.getData = JSON.stringify(data),\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>data =&gt; this.getData = data,\n</code></pre>\n"}], "owner": {"reputation": 393, "user_id": 5588829, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/313b849d1c65ed26a5012ddb050a1f40?s=128&d=identicon&r=PG&f=1", "display_name": "PAR", "link": "https://stackoverflow.com/users/5588829/par"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 0, "accepted_answer_id": 42384142, "answer_count": 1, "score": 1, "last_activity_date": 1487744690, "creation_date": 1487744515, "last_edit_date": 1487744573, "question_id": 42384101, "link": "https://stackoverflow.com/questions/42384101/angular-2-cannot-find-a-differ-supporting-object-for-ngfor", "title": "Angular 2: Cannot find a differ supporting object for *ngFor", "body": "<p>Here is client.service.ts</p>\n\n<pre><code>clients: Client[];\n\ngetClientList()\n   { \n     let headers = new Headers();\n     headers.append('Content-Type', 'application/json');\n     let authToken = localStorage.getItem('auth_token');\n     console.log(authToken);\n     headers.append('X-auth-Token', authToken)\n      return this._http.get('http://localhost:8080/api/v1/client/list?isClient=Y', {headers})\n      .map(( data: Response) =&gt; {\n      this.clients= JSON.parse(data['_body']);\n      return this.clients;\n    })\n  }\n</code></pre>\n\n<p>I have created model for client.</p>\n\n<p>HomeComponent.ts</p>\n\n<pre><code>onTestGet()\n{\n\n      this._httpService.getClientList()\n      .subscribe(\n        data =&gt; this.getData = JSON.stringify(data),\n        error =&gt; alert(error),\n         () =&gt; console.log(\"finished\")\n         );\n  }\n</code></pre>\n\n<p><strong>home.html</strong></p>\n\n<pre><code>&lt;select class=\"borderdiv\" #select [(ngModel)]=\"cuurent\" (change)=\"onChange($event.target.value)\" class=\"form-control input-group\" *ngIf=\"radioValue == 'yes'\"&gt;\n                &lt;option *ngFor=\"let client of getData\"&gt;  {{client.clientName}} &lt;/option&gt;\n            &lt;/select&gt;\n</code></pre>\n\n<p><strong>Response data:</strong></p>\n\n<pre><code>[{\"userId\":\"cos.com\",\"clientCode\":\"75\",\"clientName\":\"Abc COMPANY, THE\"},{\"userId\":\"maintenance.com\",\"clientCode\":\"51\",\"clientName\":\"AINC./ ALSTYLE APPAREL\"}]\n</code></pre>\n\n<p>I have searched a lot.but unable to solve the problem.please help me.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1638, "user_id": 5018980, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-MHHbFXhNr5Y/AAAAAAAAAAI/AAAAAAAABNk/4th8DMxY_l0/photo.jpg?sz=128", "display_name": "raj m", "link": "https://stackoverflow.com/users/5018980/raj-m"}, "edited": false, "score": 0, "creation_date": 1487744627, "post_id": 42384018, "comment_id": 71916733, "body": "Did you include that class ?"}, {"owner": {"reputation": 143, "user_id": 4860002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d91c242937f83ed13283fcfaf22c62c9?s=128&d=identicon&r=PG&f=1", "display_name": "Yannick Menager", "link": "https://stackoverflow.com/users/4860002/yannick-menager"}, "reply_to_user": {"reputation": 1638, "user_id": 5018980, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-MHHbFXhNr5Y/AAAAAAAAAAI/AAAAAAAABNk/4th8DMxY_l0/photo.jpg?sz=128", "display_name": "raj m", "link": "https://stackoverflow.com/users/5018980/raj-m"}, "edited": false, "score": 0, "creation_date": 1487821576, "post_id": 42384018, "comment_id": 71959950, "body": "Yes I included it"}], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 4860002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d91c242937f83ed13283fcfaf22c62c9?s=128&d=identicon&r=PG&f=1", "display_name": "Yannick Menager", "link": "https://stackoverflow.com/users/4860002/yannick-menager"}, "edited": false, "score": 1, "creation_date": 1487821722, "post_id": 42384205, "comment_id": 71959989, "body": "Oh that&#39;s odd, it does work when the class in part of the app rather than a library. So this problem only occurs with components and only when the extended class if in a dependency library then ?"}, {"owner": {"reputation": 143, "user_id": 4860002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d91c242937f83ed13283fcfaf22c62c9?s=128&d=identicon&r=PG&f=1", "display_name": "Yannick Menager", "link": "https://stackoverflow.com/users/4860002/yannick-menager"}, "edited": false, "score": 0, "creation_date": 1487830524, "post_id": 42384205, "comment_id": 71963199, "body": "I did, but it doesn&#39;t say anything about why it affecting only classes from libraries. Also I&#39;ve just tested inheriting from a normal class (not a component), and that doesn&#39;t work either"}], "tags": [], "owner": {"reputation": 1638, "user_id": 5018980, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-MHHbFXhNr5Y/AAAAAAAAAAI/AAAAAAAABNk/4th8DMxY_l0/photo.jpg?sz=128", "display_name": "raj m", "link": "https://stackoverflow.com/users/5018980/raj-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1487744956, "creation_date": 1487744956, "answer_id": 42384205, "question_id": 42384018, "link": "https://stackoverflow.com/questions/42384018/extend-class-from-an-angularjs-2-library/42384205#42384205", "title": "extend class from an angularjs 2 library", "body": "<p>You can't extend a component since you won't inherit the metadata of the parent component class.</p>\n\n<p>This article could help you to understand what is the problem:</p>\n\n<p><a href=\"https://medium.com/@ttemplier/angular2-decorators-and-class-inheritance-905921dbd1b7\" rel=\"nofollow noreferrer\">https://medium.com/@ttemplier/angular2-decorators-and-class-inheritance-905921dbd1b7</a></p>\n"}], "owner": {"reputation": 143, "user_id": 4860002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d91c242937f83ed13283fcfaf22c62c9?s=128&d=identicon&r=PG&f=1", "display_name": "Yannick Menager", "link": "https://stackoverflow.com/users/4860002/yannick-menager"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 646, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1487830588, "creation_date": 1487744194, "last_edit_date": 1487830588, "question_id": 42384018, "link": "https://stackoverflow.com/questions/42384018/extend-class-from-an-angularjs-2-library", "title": "extend class from an angularjs 2 library", "body": "<p>When i try to extend from a class that is in a library based on <a href=\"https://github.com/jhades/angular2-library-example\" rel=\"nofollow noreferrer\">https://github.com/jhades/angular2-library-example</a></p>\n\n<p>ie - class in lib:</p>\n\n<pre><code>export class Stuff {\n    foo: string = \"BAR\";\n}\n</code></pre>\n\n<p>class in my app</p>\n\n<pre><code>export class SomeClass extends Stuff {\n}\n</code></pre>\n\n<hr>\n\n<p>I always get the following error:</p>\n\n<pre><code>EXCEPTION: Uncaught (in promise): Error: Error in :0:0 caused by: Class     constructor Stuff cannot be invoked without 'new'\nTypeError: Class constructor Stuff cannot be invoked without 'new'\nat new HomeComponent (http://localhost:3000/main.bundle.js:46859:16)\nat new Wrapper_HomeComponent (/AppModule/HomeComponent/wrapper.ngfactory.js:7:18)\nat CompiledTemplate.proxyViewClass.View_HomeComponent_Host0.createInternal (/AppModule/HomeComponent/host.ngfactory.js:15:29)\nat CompiledTemplate.proxyViewClass.AppView.createHostView (http://localhost:3000/main.bundle.js:58198:21)\nat CompiledTemplate.proxyViewClass.DebugAppView.createHostView (http://localhost:3000/main.bundle.js:58458:52)\nat ComponentFactory.create (http://localhost:3000/main.bundle.js:28964:25)\nat ViewContainerRef_.createComponent (http://localhost:3000/main.bundle.js:42370:45)\nat RouterOutlet.activate (http://localhost:3000/main.bundle.js:46144:40)\nat ActivateRoutes.placeComponentIntoOutlet (http://localhost:3000/main.bundle.js:15248:16)\nat ActivateRoutes.activateRoutes (http://localhost:3000/main.bundle.js:15222:22)\nat http://localhost:3000/main.bundle.js:15177:58\nat Array.forEach (native)\n</code></pre>\n"}, {"tags": ["typescript", "angular2-routing"], "comments": [{"owner": {"reputation": 321, "user_id": 5901845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e29c0d4a001fc8989ee517a336dda00e?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Ryan", "link": "https://stackoverflow.com/users/5901845/akash-ryan"}, "edited": false, "score": 0, "creation_date": 1487744536, "post_id": 42383963, "comment_id": 71916697, "body": "Kindly go to the link <a href=\"https://angular.io/resources/live-examples/toh-5/ts/eplnkr.html\" rel=\"nofollow noreferrer\">angular.io/resources/live-examples/toh-5/ts/eplnkr.html</a>. You will get clear idea as well as the code to do Angular2 Routing using Typescripts."}], "owner": {"reputation": 121, "user_id": 5146622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/205d0ec7b9369d871f3161ed0e58e70e?s=128&d=identicon&r=PG&f=1", "display_name": "nikita kakraniya", "link": "https://stackoverflow.com/users/5146622/nikita-kakraniya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1487743898, "creation_date": 1487743898, "question_id": 42383963, "link": "https://stackoverflow.com/questions/42383963/typescript-angular2-routing", "title": "Typescript Angular2 Routing", "body": "<p>Hello I am totally new to Angular2 and Typescript,</p>\n\n<p>I want to have two Links like this:\nAdmin\nCalculation.</p>\n\n<p>So when I Click on Admin Page, Admin page must be appear on that same page and\nCalculation Page when click on Calculation.\nI want to achieve this through Angular2 Routing and written in Typescript.\nI already have Admin component and calculation component in My Angular2 App</p>\n"}, {"tags": ["angularjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 276, "user_id": 7436125, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2c97f4c86b36448ee7284bcef8d95c88?s=128&d=identicon&r=PG&f=1", "display_name": "Bhushan Khaladkar", "link": "https://stackoverflow.com/users/7436125/bhushan-khaladkar"}, "edited": false, "score": 0, "creation_date": 1487744402, "post_id": 42383748, "comment_id": 71916630, "body": "Values are being assigned to dropdown but its taking wrong values..taking last value from the array (Address as SC) for both rows."}, {"owner": {"reputation": 6525, "user_id": 5039495, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cX5npD_mFv8/AAAAAAAAAAI/AAAAAAAAAhs/CKOtMU1hZI4/photo.jpg?sz=128", "display_name": "Icycool", "link": "https://stackoverflow.com/users/5039495/icycool"}, "reply_to_user": {"reputation": 276, "user_id": 7436125, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2c97f4c86b36448ee7284bcef8d95c88?s=128&d=identicon&r=PG&f=1", "display_name": "Bhushan Khaladkar", "link": "https://stackoverflow.com/users/7436125/bhushan-khaladkar"}, "edited": false, "score": 0, "creation_date": 1487747879, "post_id": 42383748, "comment_id": 71918375, "body": "@Bob please refer to example"}], "tags": [], "owner": {"reputation": 6525, "user_id": 5039495, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cX5npD_mFv8/AAAAAAAAAAI/AAAAAAAAAhs/CKOtMU1hZI4/photo.jpg?sz=128", "display_name": "Icycool", "link": "https://stackoverflow.com/users/5039495/icycool"}, "is_accepted": false, "score": 0, "last_activity_date": 1487747617, "last_edit_date": 1487747617, "creation_date": 1487743024, "answer_id": 42383748, "question_id": 42383569, "link": "https://stackoverflow.com/questions/42383569/values-should-be-selected-in-dropdown-once-my-page-is-loaded-in-angularjs-ngrou/42383748#42383748", "title": "Values should be selected in dropdown once my page is loaded in angularJS (NgRoute)", "body": "<pre><code>&lt;md-select ng-model=\"x.Address\"&gt;\n    &lt;md-option ng-value=\"address.description\" ng-repeat=\"address in LTController.AddressData track by $index\"&gt;{{ address.description }}&lt;/md-option&gt;\n&lt;/md-select&gt;\n</code></pre>\n\n<ol>\n<li><p>Your <code>ng-model</code> needs to be bound to <code>x.Address</code> which is where the data comes from.</p></li>\n<li><p><code>ng-model-options - trackBy</code> needs to be removed because we are doing shallow comparison on string only.</p></li>\n<li><p><code>ng-value</code> on option needs to be <code>address.description</code> because this is the field to be matched against <code>x.Address</code>.</p></li>\n</ol>\n\n<hr>\n\n<p>I've included a simple example. I'm not familiar with typescript so I've written using vanilla JS.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>angular.module('test', ['ngMaterial']).controller('TestController', TestController);\r\n\r\nfunction TestController($scope) {\r\n  $scope.items = [\r\n    { Name: \"LinkType1\", Address: \"NC\"},\r\n    { Name: \"LinkType2\", Address: \"NY\"}\r\n  ];    \r\n\r\n  $scope.AddressData = [\r\n    { ID: 1, description: \"NY\" },\r\n    { ID: 2, description: \"NC\" },\r\n    { ID: 3, description: \"SC\" },\r\n  ];\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://cdnjs.cloudflare.com/ajax/libs/angular-material/1.1.3/angular-material.min.css\" rel=\"stylesheet\"&gt;\r\n\r\n&lt;script src=\"http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-animate.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-aria.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-messages.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/angular-material/1.1.3/angular-material.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div ng-app='test' ng-controller='TestController'&gt;\r\n  &lt;div ng-repeat='x in items'&gt;\r\n    &lt;div&gt;Name: {{x.Name}}&lt;/div&gt;\r\n    &lt;div&gt;\r\n      &lt;md-select ng-model='x.Address' aria-label='address'&gt;\r\n        &lt;md-option ng-value='address.description' ng-repeat='address in AddressData'&gt;{{address.description}}&lt;/md-option&gt;\r\n      &lt;/md-select&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 276, "user_id": 7436125, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2c97f4c86b36448ee7284bcef8d95c88?s=128&d=identicon&r=PG&f=1", "display_name": "Bhushan Khaladkar", "link": "https://stackoverflow.com/users/7436125/bhushan-khaladkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487747617, "creation_date": 1487742241, "question_id": 42383569, "link": "https://stackoverflow.com/questions/42383569/values-should-be-selected-in-dropdown-once-my-page-is-loaded-in-angularjs-ngrou", "title": "Values should be selected in dropdown once my page is loaded in angularJS (NgRoute)", "body": "<p>I am using single page angular application. I have defined the static array in my typescript file. I want to bind my value from my Address array to the dropdown(select control). My ts file is as follows.</p>\n\n<pre><code> let mainAngularModule = angular.module(\"mm\", ['ngMaterial', 'ngRoute']);\n\n    mainAngularModule.config(routeConfig);\n\n    routeConfig.$inject = ['$routeProvider'];\n    function routeConfig($routeProvider, $locationProvider) {\n        $routeProvider\n            .when('/UserDefinedElement', {\n                templateUrl: 'LinkType.html',\n                controller: 'linktController as LTController'\n            })\n       .when('/PersonalPreferences', {\n            templateUrl: 'PersonalPreference.html',\n            controller: 'personalpreferencesController as PPController'\n        })\n}\n</code></pre>\n\n<p>and i have defined the class in same ts file which is as follows</p>\n\n<pre><code>class LinkTypeController {\n    constructor() {\n\n        $scope.items = [\n            { Name: \"LinkType1\", Address: \"NC\"},\n            { Name: \"LinkType2\", Address: \"NY\"}\n        ];    \n\n       this.AddressData= [\n        { ID: 1, description: \"NY\" },\n        { ID: 2, description: \"NC\" },\n        { ID: 3, description: \"SC\" },\n    ];       \n\n    }\n}\n\nmainAngularModule.controller(\"linktController\", LinkTypeController);\n</code></pre>\n\n<p>my Linktype HTML code is as follows</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;&lt;/title&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n        &lt;div class=\"demo-md-panel-content\"&gt;\n            &lt;table&gt;\n                &lt;thead&gt;\n                    &lt;tr&gt;\n                        &lt;th&gt;Name&lt;/th&gt;\n                        &lt;th&gt;Address&lt;/th&gt;\n                    &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                    &lt;tr  ng-repeat=\"x in items\"&gt;\n                        &lt;td&gt;{{x.Name}}&lt;/td&gt;\n                        &lt;td&gt;\n          &lt;md-select ng-model=\"selectedAddress\" ng-model-options=\"{trackBy:'$value.ID'}\"&gt;\n                            &lt;md-option ng-value=\"address\" ng-repeat=\"address in LTController.AddressData track by $index\"&gt;{{ address.description }}&lt;/md-option&gt;\n                        &lt;/md-select&gt;\n                      &lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n        &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>when my page is loaded i want values from my address arrays to be selected in dropdown. Is something i am missing?</p>\n"}, {"tags": ["angular", "typescript", "visual-studio-code"], "comments": [{"owner": {"reputation": 12071, "user_id": 4395301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j34br9qqF6U/AAAAAAAAAAI/AAAAAAAAAFA/tAovpM_weSo/photo.jpg?sz=128", "display_name": "ranakrunal9", "link": "https://stackoverflow.com/users/4395301/ranakrunal9"}, "edited": false, "score": 1, "creation_date": 1487742499, "post_id": 42383532, "comment_id": 71915882, "body": "Create plunker which generate the issue you have mentioned."}, {"owner": {"reputation": 2128, "user_id": 4213803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dY6k0.png?s=128&g=1", "display_name": "Vusal", "link": "https://stackoverflow.com/users/4213803/vusal"}, "edited": false, "score": 1, "creation_date": 1487743449, "post_id": 42383532, "comment_id": 71916243, "body": "Where do you call <code>showNames(...)</code>?"}, {"owner": {"reputation": 151, "user_id": 5471117, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0a516b603f8fa48a641725f11c7c28d7?s=128&d=identicon&r=PG&f=1", "display_name": "Basil Joy", "link": "https://stackoverflow.com/users/5471117/basil-joy"}, "edited": false, "score": 0, "creation_date": 1487743546, "post_id": 42383532, "comment_id": 71916283, "body": "it call from a service.."}, {"owner": {"reputation": 151, "user_id": 5471117, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0a516b603f8fa48a641725f11c7c28d7?s=128&d=identicon&r=PG&f=1", "display_name": "Basil Joy", "link": "https://stackoverflow.com/users/5471117/basil-joy"}, "edited": false, "score": 0, "creation_date": 1487743761, "post_id": 42383532, "comment_id": 71916359, "body": "import { Injectable } from &#39;@angular/core&#39;; import { ConversationComponent } from &#39;./conversation/conversation.component&#39;; @Injectable() export   class ChatingService {   constructor(private Conversation:ConversationComponent) {         }  setValue(val) {            this.Conversation.showNames(this.myValue);         } }"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1487745224, "post_id": 42383532, "comment_id": 71917000, "body": "Please edit your question and add the code there. Code in comments is unreadable."}], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 5471117, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0a516b603f8fa48a641725f11c7c28d7?s=128&d=identicon&r=PG&f=1", "display_name": "Basil Joy", "link": "https://stackoverflow.com/users/5471117/basil-joy"}, "edited": false, "score": 0, "creation_date": 1487744465, "post_id": 42383957, "comment_id": 71916661, "body": "in my project on load there will not be any value in the variable the value is set on button click in another component in my page,so i cant use ngOnInit()"}, {"owner": {"reputation": 2128, "user_id": 4213803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dY6k0.png?s=128&g=1", "display_name": "Vusal", "link": "https://stackoverflow.com/users/4213803/vusal"}, "reply_to_user": {"reputation": 151, "user_id": 5471117, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0a516b603f8fa48a641725f11c7c28d7?s=128&d=identicon&r=PG&f=1", "display_name": "Basil Joy", "link": "https://stackoverflow.com/users/5471117/basil-joy"}, "edited": false, "score": 0, "creation_date": 1487744985, "post_id": 42383957, "comment_id": 71916881, "body": "<a href=\"https://gist.github.com/sasxa/e1164d9773b31459f6dc\" rel=\"nofollow noreferrer\">Here</a> is the gist which demonstrate communication between sibling components via service. You can consider it. But if your components are nested then it will be better to communicate using events and callback between parent and child."}], "tags": [], "owner": {"reputation": 2128, "user_id": 4213803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dY6k0.png?s=128&g=1", "display_name": "Vusal", "link": "https://stackoverflow.com/users/4213803/vusal"}, "is_accepted": false, "score": 0, "last_activity_date": 1487743871, "creation_date": 1487743871, "answer_id": 42383957, "question_id": 42383532, "link": "https://stackoverflow.com/questions/42383532/view-not-updated-while-changing-class-variable-value-angular2/42383957#42383957", "title": "view not updated while changing class variable value angular2", "body": "<p>Try this:</p>\n\n<pre><code>@Component(...)\nexport class ConversationComponent implements OnInit {\n  private myName: string;\n\n  constructor(private service:ServiceClass) {}\n\n  ngOnInit() {\n    this.showNames(this.service.getName());\n  }\n\n  showNames(name) {\n    this.myName=name;\n  }\n}\n</code></pre>\n\n<p>Here <code>ServiceClass</code> is your injectable <code>Service</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 1, "last_activity_date": 1487745296, "creation_date": 1487745296, "answer_id": 42384306, "question_id": 42383532, "link": "https://stackoverflow.com/questions/42383532/view-not-updated-while-changing-class-variable-value-angular2/42384306#42384306", "title": "view not updated while changing class variable value angular2", "body": "<p>Injecting a component into a service doesn't work. You need a different approach. You probably injected a component class instance that is not related in any way to the component shown on the page.</p>\n"}], "owner": {"reputation": 151, "user_id": 5471117, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0a516b603f8fa48a641725f11c7c28d7?s=128&d=identicon&r=PG&f=1", "display_name": "Basil Joy", "link": "https://stackoverflow.com/users/5471117/basil-joy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 513, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1487769724, "creation_date": 1487742049, "last_edit_date": 1487769724, "question_id": 42383532, "link": "https://stackoverflow.com/questions/42383532/view-not-updated-while-changing-class-variable-value-angular2", "title": "view not updated while changing class variable value angular2", "body": "<p>I have a component which has a variable myName</p>\n\n<pre><code>export class ConversationComponent implements OnInit {\n  private myName: string;\n\n  showNames(name)\n  {\n    this.myName=name;\n  }\n}\n</code></pre>\n\n<p>the value is set by using <code>showNames()</code>,and it is displayed by</p>\n\n<pre><code> &lt;h4&gt;{{MyName}} &lt;/h4&gt;\n</code></pre>\n\n<p>but when the value is set to the variable the change is not reflected in the view ie html page.</p>\n\n<p>Here's my Service:</p>\n\n<pre><code>import { Injectable } from '@angular/core'; \nimport { ConversationComponent } from './conversation/conversation.component'; \n\n@Injectable() export class ChatingService { \n\n  constructor(private Conversation:ConversationComponent) { } \n\n  setValue(val) { \n    this.Conversation.showNames(this.myValue); \n  } \n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "typescript"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user663031"}, "edited": false, "score": 0, "creation_date": 1487741196, "post_id": 42383285, "comment_id": 71915347, "body": "I&#39;m guessing the error is on the <code>forEach</code> line, not the <code>querySelector</code> line. The problem is what it is saying it is, which is that a NodeList is not an array type. Try <code>[...li]</code> or <code>Array.from(li)</code>. Also, why are you looping twice, once with <code>forEach</code> and then again with <code>for...of</code>?"}, {"owner": {"reputation": 43, "user_id": 5208062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/24fe9dd548c7468e8aa8ee559e848b27?s=128&d=identicon&r=PG&f=1", "display_name": "invisible", "link": "https://stackoverflow.com/users/5208062/invisible"}, "edited": false, "score": 0, "creation_date": 1487741617, "post_id": 42383285, "comment_id": 71915521, "body": "@torazaburo after removing for each loop still getting same error."}, {"owner": {"user_type": "does_not_exist", "display_name": "user663031"}, "edited": false, "score": 0, "creation_date": 1487744921, "post_id": 42383285, "comment_id": 71916853, "body": "As I said, you have to do <code>for (var Element of Array.from(li))</code>. Or, if you don&#39;t have <code>Array.from</code> available, then <code>for (var x = 0; x &lt; li.length; x++) li[x].innerHTML...</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1751, "user_id": 156166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/663120570/picture?type=large", "display_name": "Rich Seviora", "link": "https://stackoverflow.com/users/156166/rich-seviora"}, "edited": false, "score": 1, "creation_date": 1487744181, "post_id": 42383988, "comment_id": 71916535, "body": "Have you tested this? Casting <code>li</code> to <code>any</code> will suppress the error message, but I&#39;m not sure that it resolves the underlying incompatibility."}], "tags": [], "owner": {"reputation": 1, "user_id": 7352842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0b55101ffaaa795fcc5603da2c878a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prasanna", "link": "https://stackoverflow.com/users/7352842/prasanna"}, "is_accepted": false, "score": -1, "last_activity_date": 1487744033, "creation_date": 1487744033, "answer_id": 42383988, "question_id": 42383285, "link": "https://stackoverflow.com/questions/42383285/when-i-try-to-compile-typescript-code-into-javascript-getting-type-nodelisto/42383988#42383988", "title": "When i try to compile typescript code into javascript, getting **Type &#39;NodeListOf&lt;Element&gt;&#39; is not an array type or a string type**", "body": "<p>Try this..  will solve the problems.   </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>if (query.length) {                                              \r\n  var pattern = new RegExp(\"(\" + query + \")\", \"gim\"); \r\n  var li = document.querySelectorAll(\"#test li\");                 \r\n   for (var Element of &lt;any&gt; li){                                   \r\n      Element.innerHTML = Element.innerHTML.replace(pattern, '&lt;span class=\"target\"&gt;$1&lt;/span&gt;'); \r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 1751, "user_id": 156166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/663120570/picture?type=large", "display_name": "Rich Seviora", "link": "https://stackoverflow.com/users/156166/rich-seviora"}, "reply_to_user": {"reputation": 43, "user_id": 5208062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/24fe9dd548c7468e8aa8ee559e848b27?s=128&d=identicon&r=PG&f=1", "display_name": "invisible", "link": "https://stackoverflow.com/users/5208062/invisible"}, "edited": false, "score": 0, "creation_date": 1487745172, "post_id": 42383995, "comment_id": 71916974, "body": "Weird! Turns out that an absent <code>tsconfig.json</code> file will cause <code>tsc</code> to assume that <code>Array.from</code> is available, even though it&#39;s an ES2015 capability. I&#39;ve corrected."}], "tags": [], "owner": {"reputation": 1751, "user_id": 156166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/663120570/picture?type=large", "display_name": "Rich Seviora", "link": "https://stackoverflow.com/users/156166/rich-seviora"}, "is_accepted": true, "score": 1, "last_activity_date": 1487745058, "last_edit_date": 1487745058, "creation_date": 1487744072, "answer_id": 42383995, "question_id": 42383285, "link": "https://stackoverflow.com/questions/42383285/when-i-try-to-compile-typescript-code-into-javascript-getting-type-nodelisto/42383995#42383995", "title": "When i try to compile typescript code into javascript, getting **Type &#39;NodeListOf&lt;Element&gt;&#39; is not an array type or a string type**", "body": "<p>The below compiles fine and I've added comments inline.</p>\n\n<pre><code>let query = '';\nif (query.length) {\n    var pattern = new RegExp(\"(\" + query + \")\", \"gim\");\n    var li: NodeListOf&lt;Element&gt; = document.querySelectorAll(\"#test li\");\n    // ES5 does not allow TS iteration of NodeListOf&lt;Element&gt; nor use of Array.from \n    // so it is necessary to loop over it manually.\n    // Note that Element is an existing type which caused a conflict with \"(var Element of list)\".\n    // It was necessary to rename Element to element.\n    for (let i = 0; i &lt; li.length; i++) {\n        let element = li[i];\n        element.innerHTML = element.innerHTML.replace(pattern, '&lt;span class=\"target\"&gt;$1&lt;/span&gt;');\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 8632250, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CFxWVletMbc/AAAAAAAAAAI/AAAAAAAAABI/BQUwyDluJ2A/photo.jpg?sz=128", "display_name": "nukeurself", "link": "https://stackoverflow.com/users/8632250/nukeurself"}, "is_accepted": false, "score": 0, "last_activity_date": 1557913881, "creation_date": 1557913881, "answer_id": 56146429, "question_id": 42383285, "link": "https://stackoverflow.com/questions/42383285/when-i-try-to-compile-typescript-code-into-javascript-getting-type-nodelisto/56146429#56146429", "title": "When i try to compile typescript code into javascript, getting **Type &#39;NodeListOf&lt;Element&gt;&#39; is not an array type or a string type**", "body": "<p>This does also work:</p>\n\n<pre><code>let elements: any = document.querySelectorAll(\".class\");\nfor(let ele of elements) {\n     // do stuff\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 5208062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/24fe9dd548c7468e8aa8ee559e848b27?s=128&d=identicon&r=PG&f=1", "display_name": "invisible", "link": "https://stackoverflow.com/users/5208062/invisible"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1523, "favorite_count": 0, "accepted_answer_id": 42383995, "answer_count": 3, "score": 1, "last_activity_date": 1557913881, "creation_date": 1487740762, "last_edit_date": 1488262465, "question_id": 42383285, "link": "https://stackoverflow.com/questions/42383285/when-i-try-to-compile-typescript-code-into-javascript-getting-type-nodelisto", "title": "When i try to compile typescript code into javascript, getting **Type &#39;NodeListOf&lt;Element&gt;&#39; is not an array type or a string type**", "body": "<p>When i try to compile typescript code into javascript, getting <strong>Type 'NodeListOf' is not an array type or a string type</strong>.</p>\n\n<pre><code>if (query.length) {                                              \n  var regex = new RegExp(\"(\" + query + \")\", \"gm\"); \n  var li = document.querySelectorAll(\"#id li\"); //error                 \n    for (var Element of li){                                   \n      Element.innerHTML = Element.innerHTML.replace(regex, '&lt;span class=\"classname\"&gt;$1&lt;/span&gt;'); \n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "jasmine", "karma-jasmine"], "answers": [{"comments": [{"owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "reply_to_user": {"reputation": 519, "user_id": 7344357, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/f39b16e6b8d08b43652d95caa7c10d92?s=128&d=identicon&r=PG&f=1", "display_name": "Sahil Agarwal", "link": "https://stackoverflow.com/users/7344357/sahil-agarwal"}, "edited": false, "score": 0, "creation_date": 1487740392, "post_id": 42383176, "comment_id": 71915025, "body": "In some time pls  heading Office"}, {"owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "reply_to_user": {"reputation": 519, "user_id": 7344357, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/f39b16e6b8d08b43652d95caa7c10d92?s=128&d=identicon&r=PG&f=1", "display_name": "Sahil Agarwal", "link": "https://stackoverflow.com/users/7344357/sahil-agarwal"}, "edited": false, "score": 0, "creation_date": 1487825261, "post_id": 42383176, "comment_id": 71961054, "body": "Yes what is the HTML or your trying to achieve. Be clear on the logica"}, {"owner": {"reputation": 519, "user_id": 7344357, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/f39b16e6b8d08b43652d95caa7c10d92?s=128&d=identicon&r=PG&f=1", "display_name": "Sahil Agarwal", "link": "https://stackoverflow.com/users/7344357/sahil-agarwal"}, "edited": false, "score": 0, "creation_date": 1487828516, "post_id": 42383176, "comment_id": 71962365, "body": "the problem is that, when I return an empty object in the observable, it works fine, but when I return it with the data it gives the above error"}, {"owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "reply_to_user": {"reputation": 519, "user_id": 7344357, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/f39b16e6b8d08b43652d95caa7c10d92?s=128&d=identicon&r=PG&f=1", "display_name": "Sahil Agarwal", "link": "https://stackoverflow.com/users/7344357/sahil-agarwal"}, "edited": false, "score": 0, "creation_date": 1487828716, "post_id": 42383176, "comment_id": 71962460, "body": "Which line. And u Should not use observables for unit testing."}, {"owner": {"reputation": 519, "user_id": 7344357, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/f39b16e6b8d08b43652d95caa7c10d92?s=128&d=identicon&r=PG&f=1", "display_name": "Sahil Agarwal", "link": "https://stackoverflow.com/users/7344357/sahil-agarwal"}, "edited": false, "score": 0, "creation_date": 1487828892, "post_id": 42383176, "comment_id": 71962550, "body": "return Observable.of(MANUALPROCESSMOCKDATA);  So, how could I test the component subscribing the actual observable. Can you guide me to an article doing so."}, {"owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "reply_to_user": {"reputation": 519, "user_id": 7344357, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/f39b16e6b8d08b43652d95caa7c10d92?s=128&d=identicon&r=PG&f=1", "display_name": "Sahil Agarwal", "link": "https://stackoverflow.com/users/7344357/sahil-agarwal"}, "edited": false, "score": 0, "creation_date": 1487828963, "post_id": 42383176, "comment_id": 71962581, "body": "Definitely I will, reach me out at fb @ aravind2109"}, {"owner": {"reputation": 519, "user_id": 7344357, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/f39b16e6b8d08b43652d95caa7c10d92?s=128&d=identicon&r=PG&f=1", "display_name": "Sahil Agarwal", "link": "https://stackoverflow.com/users/7344357/sahil-agarwal"}, "edited": false, "score": 0, "creation_date": 1487829607, "post_id": 42383176, "comment_id": 71962857, "body": "I have send you request @fb"}], "tags": [], "owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "is_accepted": true, "score": 5, "last_activity_date": 1488077789, "last_edit_date": 1488077789, "creation_date": 1487740219, "answer_id": 42383176, "question_id": 42383117, "link": "https://stackoverflow.com/questions/42383117/expression-has-changed-after-it-was-checked-getting-error-in-testing-an-angular/42383176#42383176", "title": "Expression has changed after it was checked, getting error in testing an angular 2 component with jasmine", "body": "<p>The changes should be detected every time the value is changed and your before Each will be executed before the value is assigned so hi will get the error have the</p>\n\n<pre><code>fixture.detectChanges(); \n</code></pre>\n\n<p>Inside your it statements and call for every change in value.</p>\n\n<p>Update 1: </p>\n\n<pre><code>import { ManualProcessService } from '../../services/manual-process.service';\nimport { ManualProcessComponent } from './manual-process.component';\nimport { MANUALPROCESSMOCKDATA } from '../../shared/mocks/mock-manualprocessdata';\nimport { IManualProcessData } from '../../models/manual-process.model';\nimport {\n    async,\n    TestBed,\n    fakeAsync,\n    tick,\n} from '@angular/core/testing';\n// used to interact with the HTML elements \nimport { By } from '@angular/platform-browser';\n\ndescribe('Testing Manual Process Component', () =&gt; {\n\n    let fixture,\n        event = {\n            first: 0,\n            rows: 10\n        },\n        manualProcessService;\n    let hardCodedData = {\n        ...\n    };\n    beforeEach(async () =&gt; {\n        TestBed.configureTestingModule({\n            imports: [],\n            declarations: [ManualProcessComponent],\n            providers: [\n                { provide: ManualProcessService, useValue: mockManualProcessService }\n            ]\n        }).compileComponents();\n    });\n\n    beforeEach(() =&gt; {\n        fixture = TestBed.createComponent(ManualProcessComponent);\n        component = fixture.componentInstance;\n        debugElement = fixture.debugElement;\n        element = fixture.nativeElement;\n        // analyse your component and the variables used in it and make hard values of them\n        let variables;\n        // Note: Never call detectChanges() inside a beforeEach\n    })\n\n    it('Filters should be reset', (done) =&gt; {\n        fixture.componentInstance.clearFilters();\n        fixture.detectChanges();\n        expect(fixture.componentInstance.filterBy.length).toBe(0);\n        done();\n    })\n\n    it('Should load list of manual process files', fakeAsync(() =&gt; {\n        fixture.componentInstance.loadData(event);\n        tick();\n        fixture.detectChanges();\n        expect(fixture.componentInstance.filterBy.length).toBe(10);\n    }));\n\n    it('a sample case to check if the text box contains expected value aor not',()=&gt;{\n        expect(debugElement.query(By.css('.className')).nativeElement.textContent).toBe('somename');\n    });\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5295, "user_id": 48791, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/76bc51e0dfec11117d2c906c265e7c0c?s=128&d=identicon&r=PG", "display_name": "Ralph Lavelle", "link": "https://stackoverflow.com/users/48791/ralph-lavelle"}, "is_accepted": false, "score": 2, "last_activity_date": 1593671435, "creation_date": 1593671435, "answer_id": 62690274, "question_id": 42383117, "link": "https://stackoverflow.com/questions/42383117/expression-has-changed-after-it-was-checked-getting-error-in-testing-an-angular/62690274#62690274", "title": "Expression has changed after it was checked, getting error in testing an angular 2 component with jasmine", "body": "<p>I was having this problem too, and changed my test to target the component's ngOnInit() method directly. So, instead of</p>\n<pre><code>fixture.detectChanges();\n</code></pre>\n<p>in your tests, you could try</p>\n<pre><code>fixture.componentInstance.ngOnInit();\n</code></pre>\n<p>(or whatever lifecycle hook is the entry point for your component). That worked for me. It unblocked me from tests that were falling over even though the component itself ran fine.</p>\n"}], "owner": {"reputation": 519, "user_id": 7344357, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/f39b16e6b8d08b43652d95caa7c10d92?s=128&d=identicon&r=PG&f=1", "display_name": "Sahil Agarwal", "link": "https://stackoverflow.com/users/7344357/sahil-agarwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7947, "favorite_count": 0, "accepted_answer_id": 42383176, "answer_count": 2, "score": 5, "last_activity_date": 1593671435, "creation_date": 1487739924, "question_id": 42383117, "link": "https://stackoverflow.com/questions/42383117/expression-has-changed-after-it-was-checked-getting-error-in-testing-an-angular", "title": "Expression has changed after it was checked, getting error in testing an angular 2 component with jasmine", "body": "<p>I am getting an error while testing a component that is receiving an observable from the service, I have tried to mock that behaviour in the spec but I am getting the following error: Expression has changed after it was checked, previous vale '', current value: [object Object]. Could you please help me with this. My spec file is as follows: </p>\n\n<pre><code>import { ManualProcessService } from '../../services/manual-process.service';\nimport { ManualProcessComponent } from './manual-process.component';\nimport { MANUALPROCESSMOCKDATA } from '../../shared/mocks/mock-manualprocessdata';\nimport {DataTableModule, SharedModule, DropdownModule as PrimeNgDropDownModule, CheckboxModule, InputTextModule} from 'primeng/primeng';\nimport {MenuModule} from 'primeng/components/menu/menu';\nimport {DropdownModule} from 'ng2-bootstrap';\nimport { PopoverModule } from 'ng2-popover';\nimport {Observable} from 'rxjs/Observable';\nimport { IManualProcessData} from '../../models/manual-process.model';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {\n  async,\n  TestBed,\n  fakeAsync,\n  tick,\n} from '@angular/core/testing';\n\nclass MockManualProcessService {\n\n  getManualProcessData(): Observable&lt;IManualProcessData&gt; {\n      return Observable.of(MANUALPROCESSMOCKDATA);\n  }\n}\n\ndescribe('Testing Manual Process Component', () =&gt; {\n\n  let fixture,\n  event = {\n    first: 0,\n    rows: 10\n  }, \n  manualProcessService;\n\n  beforeEach(() =&gt; {\n    TestBed.configureTestingModule({\n      declarations: [\n        ManualProcessComponent\n      ],\n      providers: [\n        { provide: ManualProcessService, useClass: MockManualProcessService }\n      ],\n      imports: [\n        FormsModule, \n        ReactiveFormsModule,\n        DataTableModule,\n        SharedModule,\n        PopoverModule,\n        PrimeNgDropDownModule,\n        DropdownModule.forRoot(),\n        CheckboxModule,\n        InputTextModule,\n        MenuModule\n    ],\n    });\n    fixture = TestBed.createComponent(ManualProcessComponent);\n    manualProcessService = TestBed.get(ManualProcessService);\n    spyOn(manualProcessService, 'getManualProcessData').and.returnValue(Observable.of(MANUALPROCESSMOCKDATA));\n    fixture.detectChanges();\n  });\n\n  it('Filters should be reset', (done) =&gt; {\n    fixture.componentInstance.clearFilters()\n    fixture.detectChanges();\n    expect(fixture.componentInstance.filterBy.length).toBe(0);\n    done();\n  })\n\n\n  it('Should load list of manual process files', fakeAsync(() =&gt; {\n    fixture.componentInstance.loadData(event);\n    tick();\n    fixture.detectChanges();\n    expect(fixture.componentInstance.filterBy.length).toBe(10);\n  }));\n});\n</code></pre>\n\n<p>I am new to angular 2 and unit testing. Can someone guide, what am I doing wrong.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1488172258, "post_id": 42382503, "comment_id": 72096693, "body": "const currVal_4_0_0:any = valUnwrapper.unwrap(import3.castByValue(this._pipe_keys_0_0,&zwnj;&#8203;(&lt;View_TableComponen&zwnj;&#8203;t0&gt;this.parentView).&zwnj;&#8203;_pipe_keys_0.transfo&zwnj;&#8203;rm)(this.parentView.&zwnj;&#8203;context.competitionT&zwnj;&#8203;eams)); // this is the error line  Can you please post the Pipe you have added for this code , the error line is reffering to pipe_keys"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7161814"}, "reply_to_user": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1488172504, "post_id": 42382503, "comment_id": 72096759, "body": "@RahulSingh added pipes to the Code"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7161814"}, "edited": false, "score": 0, "creation_date": 1487741089, "post_id": 42382706, "comment_id": 71915301, "body": "@tan639 I didnot get you . If this was the case how is the app running when using npm start only when i try and build it , it gives me this error"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7161814"}, "edited": false, "score": 0, "creation_date": 1487776837, "post_id": 42382706, "comment_id": 71938094, "body": "How do we get to know which ?"}, {"owner": {"reputation": 152, "user_id": 1477738, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4a6b958a2a32229dd5e61b0a9909b19d?s=128&d=identicon&r=PG", "display_name": "tan369", "link": "https://stackoverflow.com/users/1477738/tan369"}, "edited": false, "score": 0, "creation_date": 1487810919, "post_id": 42382706, "comment_id": 71956900, "body": "maybe this would be a safer approach  <code>ngOnInit(){       this.competitionId = this.route.snapshot.params[&#39;id&#39;];       if(this.competitionId)       this.getTeams(this.competitionId);       else       this.getTeams();     }      getTeams(comp_id?:string){         .... </code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7161814"}, "edited": false, "score": 0, "creation_date": 1488033278, "post_id": 42382706, "comment_id": 72057243, "body": "I tried it but to no avail still getting the same error , i also commented tue code but still i donot know why the error is popping up."}], "tags": [], "owner": {"reputation": 152, "user_id": 1477738, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4a6b958a2a32229dd5e61b0a9909b19d?s=128&d=identicon&r=PG", "display_name": "tan369", "link": "https://stackoverflow.com/users/1477738/tan369"}, "is_accepted": false, "score": 0, "last_activity_date": 1487737594, "creation_date": 1487737594, "answer_id": 42382706, "question_id": 42382503, "link": "https://stackoverflow.com/questions/42382503/getting-error-when-doing-npm-run-buildprod-of-my-angular2-app/42382706#42382706", "title": "Getting Error When Doing npm run build:prod of my Angular2 App", "body": "<p>Seems like one of your services is expecting a value to be parsed but not getting it, maybe try to make the parameter passed optional. </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7161814"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 135, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1488172688, "creation_date": 1487736296, "last_edit_date": 1488172469, "question_id": 42382503, "link": "https://stackoverflow.com/questions/42382503/getting-error-when-doing-npm-run-buildprod-of-my-angular2-app", "title": "Getting Error When Doing npm run build:prod of my Angular2 App", "body": "<p>My app works fine when i do a npm start .\nBut when trying to build using prod - npm run build:prod</p>\n\n<p>It is throwing a weird error in one of the compiled ts files . I cannot get it why.</p>\n\n<p>Please help </p>\n\n<p>The Component file of the js file .</p>\n\n<pre><code>import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\n\nimport { CompetitionService } from '../shared/competition.service';\n\n@Component({\n  selector:'competitiontable',\n  styleUrls:['table.component.css'],\n  templateUrl:'table.component.html' //or use absoulte path with templateUrl:'app/competition/competition.component.html'require('./table.component.html')\n})\n\nexport class TableComponent implements OnInit{\n\n    constructor(private competitionService:CompetitionService,private route:ActivatedRoute,private router: Router) {\n\n    }\n      competitionId:string;\n      competitionTeams:any;\n      teamId:string;\n      //groupComptetitionTeams:any;\n      visibleLeague:boolean;\n      visibleTournament:boolean;\n\n    ngOnInit(){\n      this.competitionId = this.route.snapshot.params['id'];\n      console.log(\"competition ID\"+this.competitionId);\n      this.getTeams();\n    }\n\n    getTeams(){\n      this.competitionService.getTeams(this.competitionId).subscribe(teams =&gt; {\n                                                                if(teams.standing){\n                                                                  this.visibleLeague = true;\n                                                                  this.visibleTournament = false;\n                                                                  return this.competitionTeams = teams.standing;\n                                                                }else{\n                                                                  this.visibleLeague = false;\n                                                                  this.visibleTournament = true;\n                                                                  return this.competitionTeams = teams.standings;\n                                                                }\n      });\n      //this.competitionService.getTeams(this.competitionId).subscribe(teams =&gt; (this.groupComptetitionTeams = teams.standings));\n\n\n    }\n\n    onSubmit(team:any){\n      this.teamId = team._links.team.href.split('/').pop(-1);\n      this.competitionService.storeTeamCrest(team.crestURI);\n      this.router.navigate(['team', {id: this.teamId}]);\n    }\n\n\n}\n</code></pre>\n\n<p>The Error line in the ts file. Coudnt paste the whole js as it is very big</p>\n\n<pre><code> detectChangesInternal(throwOnChange:boolean):void {\n    const valUnwrapper:any = new import13.ValueUnwrapper();\n    valUnwrapper.reset();\n    const currVal_4_0_0:any = valUnwrapper.unwrap(import3.castByValue(this._pipe_keys_0_0,(&lt;View_TableComponent0&gt;this.parentView)._pipe_keys_0.transform)(this.parentView.context.competitionTeams)); // this is the error line\n    this._NgFor_4_6.check_ngForOf(currVal_4_0_0,throwOnChange,valUnwrapper.hasWrappedValue);\n    this._NgFor_4_6.ngDoCheck(this,this._anchor_4,throwOnChange);\n    this._vc_4.detectChangesInNestedViews(throwOnChange);\n  }\n</code></pre>\n\n<p>The error in the console when building</p>\n\n<pre><code>[at-loader] Checking finished with 1 errors\nError in bail mode: [at-loader] compiled\\src\\app\\table\\table.component.ngfactory.ts:530:51\n    TS2346: Supplied parameters do not match any signature of call target.\n</code></pre>\n\n<p>Pipe</p>\n\n<pre><code>import { PipeTransform, Pipe } from '@angular/core';\n\n@Pipe({name: 'keys'})\nexport class KeysPipe implements PipeTransform {\n  transform(value, args:string[]) : any {\n    let keys = [];\n    for (let key in value) {\n      keys.push({key: key, value: value[key]});\n    }\n    //console.log(\"Keys\"+keys);\n    return keys;\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "event-handling"], "answers": [{"tags": [], "owner": {"reputation": 171, "user_id": 6754267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ld7Yf.jpg?s=128&g=1", "display_name": "Devon Germano", "link": "https://stackoverflow.com/users/6754267/devon-germano"}, "is_accepted": false, "score": 0, "last_activity_date": 1487737392, "last_edit_date": 1487737392, "creation_date": 1487736942, "answer_id": 42382623, "question_id": 42382173, "link": "https://stackoverflow.com/questions/42382173/angular-2-passing-a-click-event-to-a-reusable-generic-component/42382623#42382623", "title": "Angular 2 passing a click event to a reusable generic component", "body": "<p>Angular2 as far as I know will not bind to a \"(click)\" event that way. It may look ugly, but I would add the NgIf directive to the table on the row that the click event should act upon, and inversely apply the logic to another row that should not be affected by a click event. Ex:</p>\n\n<p><code>&lt;tr *ngIf=\"!isClickable\" class=\"someClass\"&gt;\n &lt;tr *ngIf=\"isClickable\" class=\"someClass\" (click)=\"rowClicked()&gt;\n  &lt;td *ngFor=\"let column of row;\"&gt;&lt;div [innerHtml]=\"column\"&gt;&lt;/div&gt;&lt;/td&gt;\n &lt;/tr&gt;</code></p>\n\n<p>Then you can pass the isClickable variable as an input into your table from anywhere that you instantiate the table component, and act upon it.</p>\n"}, {"tags": [], "owner": {"reputation": 557, "user_id": 7301621, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-1Mre8fTiS0E/AAAAAAAAAAI/AAAAAAAAAz8/fF0Z5KtQxOk/photo.jpg?sz=128", "display_name": "Youngz ie", "link": "https://stackoverflow.com/users/7301621/youngz-ie"}, "is_accepted": false, "score": 0, "last_activity_date": 1487738316, "creation_date": 1487738316, "answer_id": 42382823, "question_id": 42382173, "link": "https://stackoverflow.com/questions/42382173/angular-2-passing-a-click-event-to-a-reusable-generic-component/42382823#42382823", "title": "Angular 2 passing a click event to a reusable generic component", "body": "<p>Using this in HTML</p>\n\n<pre><code>&lt;tr *ngIf=\"!isClickable\" class=\"someClass\"&gt;\n &lt;tr *ngIf=\"isClickable\" class=\"someClass\" #click&gt;\n  &lt;td *ngFor=\"let column of row;\"&gt;&lt;div [innerHtml]=\"column\"&gt;&lt;/div&gt;&lt;/td&gt;\n &lt;/tr&gt;\n</code></pre>\n\n<p>this in typescript</p>\n\n<pre><code>export class GenericTableComponent implements OnInit {\n    @Input() visibleData;\n    @ViewChild('click') protected _click:ElementRef;\n\n    constructor(enderer: Renderer) {\n        renderer.listen(this._click.nativeElement, 'click', (event) =&gt; {\n            // Do something with 'event'\n        })\n    }\n}\n</code></pre>\n\n<p>Hope that help you</p>\n"}, {"comments": [{"owner": {"reputation": 1805, "user_id": 5865712, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-Y5Rum91W6os/AAAAAAAAAAI/AAAAAAAAAGI/J3TK0_uwiHw/photo.jpg?sz=128", "display_name": "Chris Sharp", "link": "https://stackoverflow.com/users/5865712/chris-sharp"}, "edited": false, "score": 0, "creation_date": 1487780338, "post_id": 42394287, "comment_id": 71940810, "body": "Thank you for this elegant solution. I do have a couple of questions.  1. Where is &#39;VisibleDataRow&#39; declared at? The object passed in is a complex object which includes the table headings and rows arrays, with some other properties. I&#39;m not sure what the VisibleDataRow represents or if my initial explanation was insufficient. Apologies if it was misleading. 2. In order to make the clickable function optional I was considering just passing in a string of &#39;style=&quot;cursor: pointer&quot;&#39; with any parents who wish to make the rows clickable. Is this a hacky approach? Thanks again!"}, {"owner": {"reputation": 6030, "user_id": 11662, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cecb8a1f3d8a89ea8b7fb236b7b7d031?s=128&d=identicon&r=PG", "display_name": "Vilmantas Baranauskas", "link": "https://stackoverflow.com/users/11662/vilmantas-baranauskas"}, "reply_to_user": {"reputation": 1805, "user_id": 5865712, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-Y5Rum91W6os/AAAAAAAAAAI/AAAAAAAAAGI/J3TK0_uwiHw/photo.jpg?sz=128", "display_name": "Chris Sharp", "link": "https://stackoverflow.com/users/5865712/chris-sharp"}, "edited": false, "score": 0, "creation_date": 1487833958, "post_id": 42394287, "comment_id": 71964715, "body": "1. As you haven&#39;t specified any type of rows in your question, I just used VisibleDataRow to represent it. &quot;visibleData&quot; is an array of any kind of objects you may have. 2. You could add another input parameter [selectable]=&quot;true&quot; to enable/disable table row selection. Inside of your OmaGenericTableComponent you can bind necessary css class based on this input parameter by using &quot;@HostBinding(&#39;class.selectable&#39;) @Input() selectable: boolean;&quot; declaration."}], "tags": [], "owner": {"reputation": 6030, "user_id": 11662, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cecb8a1f3d8a89ea8b7fb236b7b7d031?s=128&d=identicon&r=PG", "display_name": "Vilmantas Baranauskas", "link": "https://stackoverflow.com/users/11662/vilmantas-baranauskas"}, "is_accepted": true, "score": 8, "last_activity_date": 1487773753, "creation_date": 1487773753, "answer_id": 42394287, "question_id": 42382173, "link": "https://stackoverflow.com/questions/42382173/angular-2-passing-a-click-event-to-a-reusable-generic-component/42394287#42394287", "title": "Angular 2 passing a click event to a reusable generic component", "body": "<p>Your generic table can emit custom events to which parent component can subscribe:</p>\n\n<pre><code>@Component({\n    selector: 'oma-generic-table',\n    template: `\n        &lt;table&gt;\n            &lt;tr *ngFor=\"let row of visibleData\" class=\"someClass\" (click)=\"selectRow(row)\"&gt;\n              &lt;td *ngFor=\"let column of row;\"&gt;&lt;div [innerHtml]=\"column\"&gt;&lt;/div&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n    `\n})\nexport class OmaGenericTable {\n\n    @Input() visibleData: VisibleDataRow[];\n\n    @Output() select = new EventEmitter&lt;VisibleDataRow&gt;();\n\n    selectRow(row: VisibleDataRow) {\n        this.select.emit(row);\n    }\n}\n</code></pre>\n\n<p>Then in your parent component:</p>\n\n<pre><code>// in template\n&lt;oma-generic-table \n        [visibleData]=\"visibleData\" \n        (select)=\"tableRowSelected($event)\"\n&gt;&lt;/oma-generic-table&gt;\n\n// in component\ntableRowSelected(r: VisibleDataRow) {\n    console.log(`Selected row ${r}`);\n}\n</code></pre>\n"}], "owner": {"reputation": 1805, "user_id": 5865712, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-Y5Rum91W6os/AAAAAAAAAAI/AAAAAAAAAGI/J3TK0_uwiHw/photo.jpg?sz=128", "display_name": "Chris Sharp", "link": "https://stackoverflow.com/users/5865712/chris-sharp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8608, "favorite_count": 0, "accepted_answer_id": 42394287, "answer_count": 3, "score": 4, "last_activity_date": 1487773753, "creation_date": 1487734197, "question_id": 42382173, "link": "https://stackoverflow.com/questions/42382173/angular-2-passing-a-click-event-to-a-reusable-generic-component", "title": "Angular 2 passing a click event to a reusable generic component", "body": "<p>I have several components that use basically the same table so I'm in the process of abstracting out that table. I have solved most of my dynamic table population needs but have yet to find a solution to the following.</p>\n\n<p>In one of my table instances the rows need to be clickable. In the original table I simply added a click event in the row and had it call a function in my typescript file. </p>\n\n<p>Now that the table is a child of any consuming component I am not sure how to dynamically add this click event. Here is an essentially what I am trying to achieve:</p>\n\n<pre><code>HTML:\n&lt;tr class=\"someClass\" &lt;!-- want click event here --&gt;&gt;\n  &lt;td *ngFor=\"let column of row;\"&gt;&lt;div [innerHtml]=\"column\"&gt;&lt;/div&gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>This is the tables typescript file, where all the data is coming in on the visibleData object:</p>\n\n<pre><code>export class GenericTableComponent implements OnInit {\n    @Input() visibleData;\n    constructor() { }\n\n    ngOnInit() {\n    }\n}\n</code></pre>\n\n<p>I implement the generic table in my parent HTML here</p>\n\n<pre><code>Parent HTML:\n&lt;oma-generic-table [visibleData]=\"visibleData\"&gt;&lt;/oma-generic-table&gt;\n</code></pre>\n\n<p>And here is a function in the parent which prepares the data. I have attempted to store the click event in a string and pass it but everything I've tried so far has failed (data binding with {{}}, square brackets, etc..). </p>\n\n<pre><code>transformData(visibleData) {\n    const ret: any = {};\n    ret.headings = visibleData.headings;\n    ret.action = '(click)=\"rowClicked([row.id])\"';\n    ret.checkbox = this.checkBox;                                                   //add if the table needs checkboxes\n    ret.content = [];\n    for (let i = 0; i &lt; visibleData.content.length; i++) {\n        ret.content.push(_.values(_.omit(visibleData.content[i], 'id')));\n    }\n    return ret;\n}\n</code></pre>\n\n<p>However, even when hard coded into the child, the click event doesn't recognize the function in the parent and I get the following error:</p>\n\n<pre><code>EXCEPTION: Error in ./GenericTableComponent class GenericTableComponent - inline template:35:4 caused by: self.parentView.context.rowClicked is not a function\nORIGINAL EXCEPTION: self.parentView.context.rowClicked is not a function\n</code></pre>\n\n<p>I'm not sure if this is something simple or not. I'm new to Angular 2 so I apologize if this question is simplistic. Thanks in advance for any help. </p>\n"}, {"tags": ["typescript", "mocking", "jasmine"], "answers": [{"tags": [], "owner": {"reputation": 1086, "user_id": 1679435, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/aDX5A.jpg?s=128&g=1", "display_name": "Yogesh Ralebhat", "link": "https://stackoverflow.com/users/1679435/yogesh-ralebhat"}, "is_accepted": false, "score": 0, "last_activity_date": 1487734873, "creation_date": 1487734873, "answer_id": 42382283, "question_id": 42381743, "link": "https://stackoverflow.com/questions/42381743/jasmine-spy-on-then-request-library/42382283#42382283", "title": "jasmine spy on then-request library", "body": "<p>If you change</p>\n\n<pre><code>const request = require('then-request');\n</code></pre>\n\n<p>to</p>\n\n<pre><code>var request = require('then-request');\n</code></pre>\n\n<p>then you can mock the <strong>request</strong> function like this</p>\n\n<pre><code>request = jasmine.createSpy().and.callFake(() =&gt; {\n            console.log('requesting');\n          });\n\nConfigService.LoadClientConfigs();\n</code></pre>\n\n<p>I have not executed this answer on my computer but it should work.</p>\n"}], "owner": {"reputation": 4399, "user_id": 7385798, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/bc11dd8b186448da419102d83c48a138?s=128&d=identicon&r=PG&f=1", "display_name": "tmp dev", "link": "https://stackoverflow.com/users/7385798/tmp-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 189, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487734873, "creation_date": 1487731433, "question_id": 42381743, "link": "https://stackoverflow.com/questions/42381743/jasmine-spy-on-then-request-library", "title": "jasmine spy on then-request library", "body": "<p>I have the following TypeScript code</p>\n\n<pre><code>LoadClientConfigs(): Promise&lt;ClientConfig&gt; {\n    return new Promise((resolve, reject) =&gt; {\n        try {\n            request('GET', 'config/clients.json').done(function (res: any) {\n\n                if (res.statusCode &gt;= 300) {\n                    reject(res);\n                }\n\n                const clientConfigs: ClientConfig = JSON.parse(res.getBody());\n                resolve(clientConfigs);\n            });\n        }\n        catch (e) {\n            reject(e);\n        }\n\n    });\n}\n</code></pre>\n\n<p>Now I'm writing Jasmine tests and I need to mock the <strong>request</strong> method.  Request is from the npm package then-request and I import it in the following manner</p>\n\n<pre><code>const request = require('then-request');\n</code></pre>\n\n<p>How do I mock the <strong>request</strong> method to return a specific set of data when called.  So far this is what I have </p>\n\n<p>describe('Client Config', () => {\n        it('Should load the correct config for the given client', () => {         </p>\n\n<pre><code>        createSpy(\"request\").and.callFake(() =&gt; {\n            console.log('requesting');\n        });\n\n        ConfigService.LoadClientConfigs();\n    })\n})\n</code></pre>\n\n<p>However the fake method does not get called.</p>\n"}, {"tags": ["javascript", "typescript", "redux"], "comments": [{"owner": {"reputation": 3467, "user_id": 2370224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f70b41d29762672414430b61f1d471a6?s=128&d=identicon&r=PG", "display_name": "Lucas", "link": "https://stackoverflow.com/users/2370224/lucas"}, "edited": false, "score": 1, "creation_date": 1487766541, "post_id": 42381712, "comment_id": 71930388, "body": "You can see the pull request that added that interface and the reasoning on this link: <a href=\"https://github.com/reactjs/redux/pull/1537\" rel=\"nofollow noreferrer\">github.com/reactjs/redux/pull/1537</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5916, "user_id": 6902543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56066c06c63a8accd0db1dbeb74157de?s=128&d=identicon&r=PG", "display_name": "Michael Peyper", "link": "https://stackoverflow.com/users/6902543/michael-peyper"}, "is_accepted": false, "score": 1, "last_activity_date": 1487758391, "creation_date": 1487758391, "answer_id": 42388633, "question_id": 42381712, "link": "https://stackoverflow.com/questions/42381712/why-does-the-redux-js-dispatch-typescript-interface-have-a-template-parameter/42388633#42388633", "title": "Why does the Redux.js &quot;Dispatch&quot; TypeScript interface have a template parameter?", "body": "<p>You're right, on it's own it does not appear to make much sense.  </p>\n\n<p>My guess is they have done it to ensure like dispatch functions are returned in <a href=\"https://github.com/reactjs/redux/blob/master/index.d.ts#L271\" rel=\"nofollow noreferrer\">middleware</a>.</p>\n\n<p>In the case of a middleware like redux-thunk, the <a href=\"https://github.com/gaearon/redux-thunk/blob/master/index.d.ts#L8\" rel=\"nofollow noreferrer\">new dispatch function</a> does use the <code>&lt;S&gt;</code> parameter, although I'm not sure it would matter if the default one did not in this case.</p>\n"}, {"tags": [], "owner": {"reputation": 1025, "user_id": 2117581, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/12a3f80cf27cdbdd6bb38e5088ada257?s=128&d=identicon&r=PG", "display_name": "pleasedesktop", "link": "https://stackoverflow.com/users/2117581/pleasedesktop"}, "is_accepted": true, "score": 1, "last_activity_date": 1487811651, "creation_date": 1487811651, "answer_id": 42405201, "question_id": 42381712, "link": "https://stackoverflow.com/questions/42381712/why-does-the-redux-js-dispatch-typescript-interface-have-a-template-parameter/42405201#42405201", "title": "Why does the Redux.js &quot;Dispatch&quot; TypeScript interface have a template parameter?", "body": "<blockquote>\n  <p>Having state type parameter S allows middlewares be more accurate in\n  typings. For example, thunk function takes a dispatch and a\n  getState(): S, so without S it couldn't be well-typed. See the example\n  of this here below\n  <a href=\"https://github.com/Igorbek/redux/blob/ts-def-improv/test/typescript/dispatch.ts#L9-L16\" rel=\"nofollow noreferrer\">https://github.com/Igorbek/redux/blob/ts-def-improv/test/typescript/dispatch.ts#L9-L16</a></p>\n</blockquote>\n\n<p><a href=\"https://github.com/reactjs/redux/pull/1537#r57173994\" rel=\"nofollow noreferrer\">Source</a></p>\n\n<p>Credit goes to @Lucas for finding that source.</p>\n"}], "owner": {"reputation": 1025, "user_id": 2117581, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/12a3f80cf27cdbdd6bb38e5088ada257?s=128&d=identicon&r=PG", "display_name": "pleasedesktop", "link": "https://stackoverflow.com/users/2117581/pleasedesktop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 822, "favorite_count": 0, "accepted_answer_id": 42405201, "answer_count": 2, "score": 3, "last_activity_date": 1487811651, "creation_date": 1487731131, "question_id": 42381712, "link": "https://stackoverflow.com/questions/42381712/why-does-the-redux-js-dispatch-typescript-interface-have-a-template-parameter", "title": "Why does the Redux.js &quot;Dispatch&quot; TypeScript interface have a template parameter?", "body": "<p><a href=\"https://github.com/reactjs/redux/blob/master/index.d.ts#L96\" rel=\"nofollow noreferrer\">Relevant line</a>.</p>\n\n<p>If the interface is as follows:</p>\n\n<pre><code>export interface Dispatch&lt;S&gt; {\n    &lt;A extends Action&gt;(action: A): A;\n}\n</code></pre>\n\n<p>...and <code>S</code> is clearly not used, then why is it there?</p>\n\n<p>I notice that <code>S</code> is used elsewhere for \"store\" related things, but if it's not used in this interface, I don't think it should be there.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 4656, "user_id": 1787388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSr04.png?s=128&g=1", "display_name": "shusson", "link": "https://stackoverflow.com/users/1787388/shusson"}, "edited": false, "score": 0, "creation_date": 1487737386, "post_id": 42381667, "comment_id": 71914077, "body": "where do you provide <code>ValidateService</code> ?"}, {"owner": {"reputation": 103, "user_id": 7337048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f2f58b2d23962a4df75f9949d35f87ed?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan", "link": "https://stackoverflow.com/users/7337048/ethan"}, "reply_to_user": {"reputation": 4656, "user_id": 1787388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSr04.png?s=128&g=1", "display_name": "shusson", "link": "https://stackoverflow.com/users/1787388/shusson"}, "edited": false, "score": 0, "creation_date": 1487738367, "post_id": 42381667, "comment_id": 71914332, "body": "app.module.ts in the providers array. Just updated code to display it :)"}, {"owner": {"reputation": 4656, "user_id": 1787388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSr04.png?s=128&g=1", "display_name": "shusson", "link": "https://stackoverflow.com/users/1787388/shusson"}, "edited": false, "score": 0, "creation_date": 1487738948, "post_id": 42381667, "comment_id": 71914496, "body": "can you display a stacktrace?"}, {"owner": {"reputation": 103, "user_id": 7337048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f2f58b2d23962a4df75f9949d35f87ed?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan", "link": "https://stackoverflow.com/users/7337048/ethan"}, "reply_to_user": {"reputation": 4656, "user_id": 1787388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSr04.png?s=128&g=1", "display_name": "shusson", "link": "https://stackoverflow.com/users/1787388/shusson"}, "edited": false, "score": 0, "creation_date": 1487739152, "post_id": 42381667, "comment_id": 71914570, "body": "ERROR in /home/jd/Documents/development/mean-auth/angular-src/src/app&zwnj;&#8203;/components/register&zwnj;&#8203;/register.component.&zwnj;&#8203;ts (31,30): Property &#39;validateRegister&#39; does not exist on type &#39;ValidateService&#39;.)"}, {"owner": {"reputation": 103, "user_id": 7337048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f2f58b2d23962a4df75f9949d35f87ed?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan", "link": "https://stackoverflow.com/users/7337048/ethan"}, "reply_to_user": {"reputation": 4656, "user_id": 1787388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSr04.png?s=128&g=1", "display_name": "shusson", "link": "https://stackoverflow.com/users/1787388/shusson"}, "edited": false, "score": 0, "creation_date": 1487739170, "post_id": 42381667, "comment_id": 71914577, "body": "That is the only output in the console"}], "owner": {"reputation": 103, "user_id": 7337048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f2f58b2d23962a4df75f9949d35f87ed?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan", "link": "https://stackoverflow.com/users/7337048/ethan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 264, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487741176, "creation_date": 1487730836, "last_edit_date": 1487741176, "question_id": 42381667, "link": "https://stackoverflow.com/questions/42381667/property-validateregister-does-not-exist-on-type-validateservice", "title": "Property &#39;validateRegister&#39; does not exist on type &#39;ValidateService&#39;.)", "body": "<p>I am following a tutorial on YouTube and unfortunately what the instructor is doing doesn't work for me. I am using Angular 2</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport {ValidateService} from '../../services/validate.service';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.css']\n})\nexport class RegisterComponent implements OnInit {\n\n  name: String;\n  username: String;\n  email: String;\n  password: String;\n\n  constructor(private validateService: ValidateService) { }\n\n  ngOnInit() {\n  }\n\n  onRegisterSubmit() {\n    const user = {\n        name: this.name,\n        username: this.username,\n        email: this.email,\n        password: this.password\n    };\n      // Required fields\n\n      // Required Fields\n    if(!this.validateService.validateRegister(user)){\n        console.log(\"fill in all fields\");\n      return false;\n    }\n\n  }\n\n}\n</code></pre>\n\n<hr>\n\n<p>ValidateService (./services/validate.service.ts)</p>\n\n<pre><code>import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class ValidateService {\n\n  constructor() { }\n\n  // Ensures all fields are filled out.\n  validateRegister(user) {\n    if (user.name == undefined || user.username == undefined || user.email == undefined || user.password == undefined) {\n        return false;\n    } else {\n        return true;\n    }\n  }\n\n  // Makes sure email is in correct format\n  validateEmail(email) {\n    const re = /^(([^&lt;&gt;()\\[\\]\\\\.,;:\\s@\"]+(\\.[^&lt;&gt;()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);\n  }\n\n}\n</code></pre>\n\n<hr>\n\n<p>Error: Property 'validateRegister' does not exist on type 'ValidateService'.)</p>\n\n<p>I see that it's showing validateRegister not being recognized but I cannot figure out why it is.</p>\n\n<pre><code>// Modules\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\nimport {RouterModule, Routes} from '@angular/router';\n\n\n// Componenets\nimport { AppComponent } from './app.component';\nimport { NavbarComponent } from './components/navbar/navbar.component';\nimport { LoginComponent } from './components/login/login.component';\nimport { RegisterComponent } from './components/register/register.component';\nimport { HomeComponent } from './components/home/home.component';\nimport { DashboardComponent } from './components/dashboard/dashboard.component';\nimport { ProfileComponent } from './components/profile/profile.component';\n\n// Services\nimport {ValidateService} from './services/validate.service';\n\nconst appRoutes: Routes = [\n  {path: '', component: HomeComponent},\n  {path: 'register', component: RegisterComponent},\n  {path: 'login', component: LoginComponent},\n  {path: 'dashboard', component: DashboardComponent},\n  {path: 'profile', component: ProfileComponent}\n];\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    NavbarComponent,\n    LoginComponent,\n    RegisterComponent,\n    HomeComponent,\n    DashboardComponent,\n    ProfileComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule,\n    RouterModule.forRoot(appRoutes)\n  ],\n  providers: [ValidateService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>Sorry but not sorry, I just figured it out. Had to restart the server. I thought Angular was saving as I was changing :P Thanks for the help folks!</p>\n"}, {"tags": ["typescript", "ionic2", "leaflet", "leaflet-routing-machine"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4265930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9499d3820b01921cc9a9794c9c268478?s=128&d=identicon&r=PG&f=1", "display_name": "Sia Kateb", "link": "https://stackoverflow.com/users/4265930/sia-kateb"}, "edited": false, "score": 1, "creation_date": 1487770879, "post_id": 42381217, "comment_id": 71933634, "body": "Yes, I got this error: <code>Property &#39;routing&#39; does not exist on type &#39;typeof L&#39;.</code>"}], "tags": [], "owner": {"reputation": 34057, "user_id": 5108796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf3d4505d0473b230f8b413248f7439f?s=128&d=identicon&r=PG&f=1", "display_name": "ghybs", "link": "https://stackoverflow.com/users/5108796/ghybs"}, "is_accepted": false, "score": 0, "last_activity_date": 1487727868, "creation_date": 1487727868, "answer_id": 42381217, "question_id": 42380525, "link": "https://stackoverflow.com/questions/42380525/how-to-import-leaflet-routing-machine-into-an-ionic2-project/42381217#42381217", "title": "How to import leaflet-routing-machine into an Ionic2 project?", "body": "<p>Not sure if <a href=\"https://github.com/perliedman/leaflet-routing-machine\" rel=\"nofollow noreferrer\">Leaflet Routing Machine</a> plugin directly exports itself.</p>\n\n<p>Normally it should at least have the side effect of attaching to the <code>L</code> global namespace.</p>\n\n<p>After calling <code>require('leaflet-routing-machine')</code>, have you tried instantiating a control with <code>L.routing.control</code>? (pay attention to the starting <code>L</code>)</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 7779901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31aa84ef8b67b09241e2ab7fb7f329a9?s=128&d=identicon&r=PG&f=1", "display_name": "Guillaume", "link": "https://stackoverflow.com/users/7779901/guillaume"}, "is_accepted": false, "score": 3, "last_activity_date": 1490744076, "last_edit_date": 1495535456, "creation_date": 1490744076, "answer_id": 43081722, "question_id": 42380525, "link": "https://stackoverflow.com/questions/42380525/how-to-import-leaflet-routing-machine-into-an-ionic2-project/43081722#43081722", "title": "How to import leaflet-routing-machine into an Ionic2 project?", "body": "<p>We solved this problem by adding the following line before declaring our component.  </p>\n\n<p><code>declare var L: any;</code></p>\n\n<p><strong>myclass.component.ts</strong>\n</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\n...\n\n// Leaflet and Leaflet Routing Machine have been installed with npm\nimport 'leaflet-routing-machine';\nimport 'leaflet-easybutton';\n\n// Add this line to remove typescript errors\ndeclare var L: any;\n\n@Component({\n  ...\n})\nexport class MyClass extends OnInit {\n  ...\n\n  constructor(...) {\n    ...\n  }\n\n  ngOnInit() {\n\n    ...\n\n    // The example snippet is now working\n    L.Routing.control({\n      waypoints: [\n        L.latLng(57.74, 11.94),\n        L.latLng(57.6792, 11.949)\n      ]\n    }).addTo(myMap);\n\n    ...\n\n  }\n\n  ...\n\n}\n</code></pre>\n\n<p>As mentioned in <a href=\"https://stackoverflow.com/questions/37614323/how-to-include-leaflet-routing-machine-into-angular-2-typescript-webpack-applica/37694849#37694849\">this post</a>, typescript seems to be causing problems to add properties to the global L object of Leaflet, but in our case declaring L of type any was enough to make it work. </p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7979164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EYMe2.png?s=128&g=1", "display_name": "suwit kongponoi", "link": "https://stackoverflow.com/users/7979164/suwit-kongponoi"}, "is_accepted": false, "score": 0, "last_activity_date": 1528971026, "last_edit_date": 1528971026, "creation_date": 1528966234, "answer_id": 50853401, "question_id": 42380525, "link": "https://stackoverflow.com/questions/42380525/how-to-import-leaflet-routing-machine-into-an-ionic2-project/50853401#50853401", "title": "How to import leaflet-routing-machine into an Ionic2 project?", "body": "<p>ok. how to use it! </p>\n\n<p>1) <code>npm i leaflet-routing-machine https://www.npmjs.com/package/leaflet-routing-machine</code></p>\n\n<p>2) <code>npm i leaflet-easybutton https://www.npmjs.com/package/leaflet-easybutton</code> </p>\n\n<p>3) import module in the work page:</p>\n\n<pre><code>import leaflet from 'leaflet'; \nimport 'leaflet-routing-machine'; \nimport 'leaflet-easybutton';\n</code></pre>\n\n<p>4) declare L <code>declare var L:any;</code></p>\n\n<p>add code content </p>\n\n<pre><code>var maptt = leaflet.map('mapId2');\nleaflet.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', { \n    attribution: '\u00a9suwitbb' \n}).addTo(maptt);\n\nleaflet.Routing.control({ \n    waypoints: [ \n        leaflet.latLng(57.74, 11.94), \n        leaflet.latLng(57.6792, 11.949) \n    ], routeWhileDragging: true \n}).addTo(maptt);\n</code></pre>\n\n<p>6) add tag to view html</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10920287, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nxpAvkhfpFM/AAAAAAAAAAI/AAAAAAAAAww/7--QUaVTo3s/photo.jpg?sz=128", "display_name": "German Aviles", "link": "https://stackoverflow.com/users/10920287/german-aviles"}, "is_accepted": false, "score": 0, "last_activity_date": 1549994424, "last_edit_date": 1549994424, "creation_date": 1549988765, "answer_id": 54654550, "question_id": 42380525, "link": "https://stackoverflow.com/questions/42380525/how-to-import-leaflet-routing-machine-into-an-ionic2-project/54654550#54654550", "title": "How to import leaflet-routing-machine into an Ionic2 project?", "body": "<p>In Ionic 4, try it.</p>\n\n<blockquote>\n  <p>1) npm i leaflet.</p>\n  \n  <p>2) npm i leaflet-routing-machine.</p>\n  \n  <p>3) import in \"index.html\" the js and css .</p>\n</blockquote>\n\n<pre><code>&lt;!-- Leaflet CDN JS and Css--&gt;\n&lt;link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet@1.4.0/dist/leaflet.css\" integrity=\"sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA==\" crossorigin=\"\" /&gt;\n&lt;script src=\"https://unpkg.com/leaflet@1.4.0/dist/leaflet.js\" integrity=\"sha512-QVftwZFqvtRNi0ZyCtsznlKSWOStnDORoefr1enyq5mVL4tmKB3S/EnC3rRJcxCPavG10IcrVGSmPh6Qw5lwrg==\" crossorigin=\"\"&gt;&lt;/script&gt;\n\n&lt;!-- Leaflet Machine. path: 'node_modules/leaflet-routing-machine/dist/leaflet-routing-machine.js' the same to css--&gt;\n&lt;link rel=\"stylesheet\" href=\"./assets/css/leaflet-routing-machine.css\"&gt;\n&lt;script src=\"./assets/js/leaflet-routing-machine.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<blockquote>\n  <p>4) in your_component.ts</p>\n</blockquote>\n\n<pre><code>import Leaflet from 'leaflet';\nimport 'leaflet-routing-machine';\n\n// Add this line to remove typescript errors\ndeclare var L: any;\n\nexport class FullScreenMapPage implements OnInit { \n  // mapa\n  mapa: any;\n\n  ionViewDidEnter() {\n    this.drawMap();\n  }\n\ndrawMap(): void {\n    // marcador del mapa\n    const markerGroup = Leaflet.featureGroup();\n    const marker = Leaflet.marker([lat, lng]);\n\n    this.mapa = Leaflet.map('map').setView([lat, lng], 11);\n\n    Leaflet.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n    attribution: '\u00a9 Open Street Map',\n    zoom: 8,\n    maxZoom: 18,\n    minZoom: 4,\n    minResolution: 4891.96981025128,\n    maxResolution: 39135.75848201024,\n    doubleClickZoom: true,\n    center: [lat, lng]\n    }).addTo(this.mapa);\n\n    Leaflet.Routing.control({\n      waypoints: [\n        Leaflet.latLng(PointA_lat, PointB_lng),\n        Leaflet.latLng(PointB_lat, PointB_lng)\n      ], routeWhileDragging: true\n    }).addTo(this.mapa);\n\n  }\n\n}\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/sdVQo.png\" alt=\"enter image description here\"></p>\n"}], "owner": {"reputation": 21, "user_id": 4265930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9499d3820b01921cc9a9794c9c268478?s=128&d=identicon&r=PG&f=1", "display_name": "Sia Kateb", "link": "https://stackoverflow.com/users/4265930/sia-kateb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2907, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1551878177, "creation_date": 1487723138, "question_id": 42380525, "link": "https://stackoverflow.com/questions/42380525/how-to-import-leaflet-routing-machine-into-an-ionic2-project", "title": "How to import leaflet-routing-machine into an Ionic2 project?", "body": "<p>I don't quite get how to import LRM into a ts file. After installing via <code>npm install leaflet-routing-machine</code>, I defined Routing like this:</p>\n\n<pre><code>var Routing = require('leaflet-routing-machine');\nvar newRoute = Routing.control({Options});\n</code></pre>\n\n<p>which didn't help me and I got:</p>\n\n<pre><code>Error caused by: Routing.control is not a function\n</code></pre>\n\n<p>Here is my Ionic information:</p>\n\n<pre><code>Cordova CLI: 6.4.0\nIonic Framework Version: 2.0.1\nIonic CLI Version: 2.2.1\nIonic App Lib Version: 2.2.0\nIonic App Scripts Version: 1.1.0\nNode Version: v6.3.1\n</code></pre>\n\n<p>BTW, I don't have any problem with leaflet itself.</p>\n"}, {"tags": ["javascript", "typescript", "jasmine", "requirejs", "jasmine2.0"], "answers": [{"comments": [{"owner": {"reputation": 127411, "user_id": 1906307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kRxnP.jpg?s=128&g=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/1906307/louis"}, "edited": false, "score": 0, "creation_date": 1487776381, "post_id": 42394723, "comment_id": 71937792, "body": "You mean Squire. I don&#39;t recommend it for more than super simple projects. It breaks basic axioms of RequireJS. The most problematic one is that modules cease to be singletons when used with Squire. The symptoms this causes can be very hard to trace back to their root cause. It is <i>possible</i> to work around it but for more than super simple project it can require <i>a lot of boilerplate</i> to get the mocked environment in a good state. (See <a href=\"https://github.com/iammerrick/Squire.js/issues/39\" rel=\"nofollow noreferrer\">this issue</a> for an example.)"}, {"owner": {"reputation": 17694, "user_id": 227436, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ea9b1dccafcdbaa702ee1cf957ff3692?s=128&d=identicon&r=PG", "display_name": "Daryl", "link": "https://stackoverflow.com/users/227436/daryl"}, "reply_to_user": {"reputation": 127411, "user_id": 1906307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kRxnP.jpg?s=128&g=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/1906307/louis"}, "edited": false, "score": 0, "creation_date": 1487777766, "post_id": 42394723, "comment_id": 71938805, "body": "@Louis, Yes, I did mean Squire, fixed.  If squire is not the solution, than what is?"}, {"owner": {"reputation": 127411, "user_id": 1906307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kRxnP.jpg?s=128&g=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/1906307/louis"}, "edited": false, "score": 0, "creation_date": 1487778264, "post_id": 42394723, "comment_id": 71939159, "body": "There&#39;s no &quot;one-size-fits-all&quot; solution. In some projects I&#39;ve been able to work around the problem by loading the code under test in an <code>iframe</code>. This allowed me to fiddle with the RequireJS configuration before launching the test. (JSDom in Node would also allow the same without a browser.) That made sense <i>for those projects</i>, but is not a general solution. Sometimes, I&#39;ve redesigned the code to allow for easy testing. <code>TextFormatter</code> could be a class that has a <code>test</code> method. The constructor of <code>TextFormatter</code> could take a parameter that provides the object on which <code>.create</code> is called."}], "tags": [], "owner": {"reputation": 17694, "user_id": 227436, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ea9b1dccafcdbaa702ee1cf957ff3692?s=128&d=identicon&r=PG", "display_name": "Daryl", "link": "https://stackoverflow.com/users/227436/daryl"}, "is_accepted": false, "score": 0, "last_activity_date": 1487777569, "last_edit_date": 1487777569, "creation_date": 1487774858, "answer_id": 42394723, "question_id": 42379446, "link": "https://stackoverflow.com/questions/42379446/how-to-use-jasmine-to-spy-on-modules-being-loaded-by-requirejs/42394723#42394723", "title": "How to use Jasmine to Spy on Modules being loaded by requireJS?", "body": "<p>Figured out the answer, use <a href=\"https://github.com/iammerrick/Squire.js\" rel=\"nofollow noreferrer\">Squire.js</a>.</p>\n\n<pre><code>it(\"A Test\", (done) =&gt; {\n    const injector = new Squire();\n    var mock = { CrmWebApiLib: { create: () =&gt; { } }};\n\n    spyOn(mock.CrmWebApiLib, \"create\").and.callFake((a, b) =&gt; { });\n    injector\n        .mock(\"allgnt_/scripts/allgnt.restlib\", mock)\n        .require([\"new_/scripts/script/Dfnd.TextFormatter\"], (mod) =&gt; {\n            mod.TextFormatter.test();   \n            expect(mock.CrmWebApiLib.create).toHaveBeenCalled();\n            done();\n        });\n\n});\n</code></pre>\n\n<p>Only had two hiccups:</p>\n\n<ol>\n<li>Installed Squire, rather than Squirejs, </li>\n<li>It <a href=\"https://github.com/iammerrick/Squire.js/issues/51\" rel=\"nofollow noreferrer\">does not support relative paths</a>.</li>\n</ol>\n"}], "owner": {"reputation": 17694, "user_id": 227436, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ea9b1dccafcdbaa702ee1cf957ff3692?s=128&d=identicon&r=PG", "display_name": "Daryl", "link": "https://stackoverflow.com/users/227436/daryl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 605, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1487777569, "creation_date": 1487717163, "last_edit_date": 1487774107, "question_id": 42379446, "link": "https://stackoverflow.com/questions/42379446/how-to-use-jasmine-to-spy-on-modules-being-loaded-by-requirejs", "title": "How to use Jasmine to Spy on Modules being loaded by requireJS?", "body": "<p>So I'm using Typescript/RequireJs/Jasmine, and can't get my spy to work for modules loaded in another module.</p>\n\n<p>Here is my Spec:</p>\n\n<pre><code>import { CrmWebApiLib }     from \"../../../webresources/allgnt_/scripts/Allgnt.RestLib\";\nimport { TextFormatter }    from \"../../../webresources/new_/scripts/script/TextFormatter\";\n\ndescribe(\"Test\", () =&gt; {\n    it(\"A Test\", () =&gt; {\n        spyOn(CrmWebApiLib, \"create\").and.callFake((a, b) =&gt; { });\n\n        TextFormatter.test();\n\n        expect(CrmWebApiLib.create).toHaveBeenCalled();\n    });\n\n    it(\"B Test\", () =&gt; {\n        var stub = {\n            CrmWebApiLib: {\n                create(a, b) { }\n            }\n        };\n        define(\"../../../webresources/allgnt_/scripts/Allgnt.RestLib\", [], stub as any);\n        spyOn(stub.CrmWebApiLib, \"create\").and.callFake((a, b) =&gt; { });\n\n        TextFormatter.test();\n\n        expect(CrmWebApiLib.create).toHaveBeenCalled();\n    });\n});\n</code></pre>\n\n<p>Here is the TextFormatter:</p>\n\n<pre><code>import { RestLib, CrmWebApiLib }    from \"../../../allgnt_/scripts/allgnt.restlib\";\n\nexport module TextFormatter {\n    export function test() {\n        CrmWebApiLib.create(\"A\", \"Test\");\n    }\n}\n</code></pre>\n\n<p>In either \"A Test\" or \"B Test\" I can't get the spy to function.  It always calls the actual implementation and errors.  I can change the <code>TextFormatter</code> to allow for it's definition of TextFormatter to be injected in, but that just feels wrong.  </p>\n\n<p>How do I get the spyOn call to work in situations like this?</p>\n"}, {"tags": ["typescript", "rxjs"], "comments": [{"owner": {"reputation": 37219, "user_id": 1523776, "user_type": "moderator", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3e0b5c8e42a8c38009ef2d969f8dabb?s=128&d=identicon&r=PG", "display_name": "Benjamin Hodgson", "link": "https://stackoverflow.com/users/1523776/benjamin-hodgson"}, "edited": false, "score": 0, "creation_date": 1487715457, "post_id": 42378939, "comment_id": 71907382, "body": "&quot;i want to have an observable <code>observable3</code> only emitting data from <code>observable2</code> that is mapped to by a key in <code>observable1</code>&quot; - This is under-specified. Remember that observables are infinite, time-dependent streams of events. The key you&#39;re looking for could arrive on the stream a moment later, or you could wait for ever for the event to arrive. Do you mean to search only the keys that have <i>previously</i> been observed on <code>observable1</code>?"}, {"owner": {"reputation": 71, "user_id": 1842422, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3f246789b834c959f719940ce97c96ec?s=128&d=identicon&r=PG", "display_name": "Dreanaught", "link": "https://stackoverflow.com/users/1842422/dreanaught"}, "reply_to_user": {"reputation": 37219, "user_id": 1523776, "user_type": "moderator", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3e0b5c8e42a8c38009ef2d969f8dabb?s=128&d=identicon&r=PG", "display_name": "Benjamin Hodgson", "link": "https://stackoverflow.com/users/1523776/benjamin-hodgson"}, "edited": false, "score": 0, "creation_date": 1487715951, "post_id": 42378939, "comment_id": 71907602, "body": "Correct me if i&#39;m wrong, but the data of <code>observable1</code> and <code>observable2</code> must be already there when requesting data from the 3rd observable with a <code>.subscribe</code>."}, {"owner": {"reputation": 37219, "user_id": 1523776, "user_type": "moderator", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3e0b5c8e42a8c38009ef2d969f8dabb?s=128&d=identicon&r=PG", "display_name": "Benjamin Hodgson", "link": "https://stackoverflow.com/users/1523776/benjamin-hodgson"}, "edited": false, "score": 0, "creation_date": 1487716715, "post_id": 42378939, "comment_id": 71907915, "body": "No. Observables are (possibly) infinite, time-dependent streams of events. Events can happen in the past or the future. An observable can broadcast an event based on, eg, a user pressing a button or a message arriving on a websocket. For the most part, calls to <code>subscribe</code> will happen at startup time, before most events have fired."}, {"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "reply_to_user": {"reputation": 37219, "user_id": 1523776, "user_type": "moderator", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3e0b5c8e42a8c38009ef2d969f8dabb?s=128&d=identicon&r=PG", "display_name": "Benjamin Hodgson", "link": "https://stackoverflow.com/users/1523776/benjamin-hodgson"}, "edited": false, "score": 0, "creation_date": 1487768183, "post_id": 42378939, "comment_id": 71931624, "body": "@BenjaminHodgson Since OP&#39;s using RxJS I&#39;m 99.9% sure this is not what he&#39;s dealing with :)."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 1842422, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3f246789b834c959f719940ce97c96ec?s=128&d=identicon&r=PG", "display_name": "Dreanaught", "link": "https://stackoverflow.com/users/1842422/dreanaught"}, "edited": false, "score": 0, "creation_date": 1487716165, "post_id": 42379072, "comment_id": 71907693, "body": "This <code>skipWhile</code>&amp;<code>take</code> is a nice solution, unfortunately i can&#39;t make an assumption about the order of the keys."}, {"owner": {"reputation": 37219, "user_id": 1523776, "user_type": "moderator", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3e0b5c8e42a8c38009ef2d969f8dabb?s=128&d=identicon&r=PG", "display_name": "Benjamin Hodgson", "link": "https://stackoverflow.com/users/1523776/benjamin-hodgson"}, "edited": false, "score": 0, "creation_date": 1487716996, "post_id": 42379072, "comment_id": 71908037, "body": "This won&#39;t work due to the point I made in <a href=\"http://stackoverflow.com/questions/42378939/having-one-observable-mapping-to-data-in-a-second-observable-emitting-a-3rd-obse?noredirect=1#comment71907382_42378939\">my comment above</a>. It happens to work for this test case because you&#39;re using <code>fromArray</code>; you have all your data upfront and your observables are already completed (ie you are not really using them as observables)."}], "tags": [], "owner": {"reputation": 11951, "user_id": 1126273, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/XqyXV.png?s=128&g=1", "display_name": "Bal&#225;zs &#201;des", "link": "https://stackoverflow.com/users/1126273/bal%c3%a1zs-%c3%89des"}, "is_accepted": false, "score": -1, "last_activity_date": 1487715987, "last_edit_date": 1487715987, "creation_date": 1487715635, "answer_id": 42379072, "question_id": 42378939, "link": "https://stackoverflow.com/questions/42378939/having-one-observable-mapping-to-data-in-a-second-observable-emitting-a-3rd-obse/42379072#42379072", "title": "Having one observable mapping to data in a second observable emitting a 3rd observable with data that maps", "body": "<p>Not sure I interpreted what you want correctly, but looking at the output you could do something like this:    </p>\n\n<pre><code>const observable1 = Rx.Observable.fromArray(['key1','key3', 'key4'])\nconst observable2 = Rx.Observable.fromArray([\n  {key1: 'val1'},\n  {key2: 'val2'},\n  {key3: 'val3'},\n  {key4: 'val4'}\n])\n\nconst observable3 = observable1\n  .flatMap(key =&gt; observable2.skipWhile(obj =&gt; !obj.hasOwnProperty(key)).take(1))\n</code></pre>\n\n<p>The output starts mapping <code>observable1</code>, taking each key and skipping everything in <code>observable2</code> until that key is found. Then emitting a single element. Mind that if the order of the keys are mixed, <strong>this won't work</strong> - and I don't think it's possible without storing the objects in a more persistent way.</p>\n\n<p>If these objects are not coming in async, as a stream, but are rather in a simple data structure that are available from the start, using <code>Observables</code> might not benefit you. If you have all the data from the start, then you could do something like this:</p>\n\n<pre><code>const keys = ['key1','key3', 'key4']\nconst objects = [\n  {key1: 'val1'},\n  {key2: 'val2'},\n  {key3: 'val3'},\n  {key4: 'val4'}\n]\n\nconst output = objects.filter(obj =&gt; keys.includes(Object.keys(obj)[0]))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 37219, "user_id": 1523776, "user_type": "moderator", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3e0b5c8e42a8c38009ef2d969f8dabb?s=128&d=identicon&r=PG", "display_name": "Benjamin Hodgson", "link": "https://stackoverflow.com/users/1523776/benjamin-hodgson"}, "is_accepted": false, "score": 0, "last_activity_date": 1487719579, "last_edit_date": 1495540055, "creation_date": 1487717931, "answer_id": 42379612, "question_id": 42378939, "link": "https://stackoverflow.com/questions/42378939/having-one-observable-mapping-to-data-in-a-second-observable-emitting-a-3rd-obse/42379612#42379612", "title": "Having one observable mapping to data in a second observable emitting a 3rd observable with data that maps", "body": "<p>As I outlined in <a href=\"https://stackoverflow.com/questions/42378939/having-one-observable-mapping-to-data-in-a-second-observable-emitting-a-3rd-obse?noredirect=1#comment71907382_42378939\">my comment</a>, what you describe isn't possible. Observables are (possibly) infinite, real-time streams of events. The events in an observable may come from, eg, a user pressing a button, or a message on a websocket. When an event arrives on <code>observable2</code>, you haven't necessarily received all of the events from <code>observable1</code>, so you don't know whether or not its key will be in the stream.</p>\n\n<p>What <em>is</em> possible is asking whether an object's key is present in the set of keys that have <em>previously been received</em> on <code>observable1</code> at a given point in time. The nice, purely functional way of doing this would involve aggregating <code>observable1</code> into a <a href=\"https://hackage.haskell.org/package/reactive-banana-1.1.0.1/docs/Reactive-Banana-Combinators.html#t:Behavior\" rel=\"nofollow noreferrer\"><code>Behavior</code></a> containing a set of keys using <a href=\"https://hackage.haskell.org/package/reactive-banana-1.1.0.1/docs/Reactive-Banana-Combinators.html#v:accumB\" rel=\"nofollow noreferrer\"><code>accumB</code></a> and then <a href=\"https://hackage.haskell.org/package/reactive-banana-1.1.0.1/docs/Reactive-Banana-Combinators.html#v:filterE\" rel=\"nofollow noreferrer\"><code>filter</code></a>ing <code>observable2</code> based on the current value of that <code>Behavior</code>. Problem is, the <code>Behavior</code> type is conspicuously absent from the RxJS API. (This is why the Reactive Extensions ecosystem kinda sucks in my opinion: by breaking the continuous-time model you lose a lot of the composability of FRP.)</p>\n\n<p>So we're forced to break the FRP abstraction and use a mutable variable to hold the keys that we've previously seen at a given moment in time. Then <a href=\"http://reactivex.io/documentation/operators/filter.html\" rel=\"nofollow noreferrer\"><code>filter</code></a> <code>observable2</code> by looking at the set of keys in this variable.</p>\n\n<pre><code>type KeyValuePair&lt;K, V&gt; = { key: K, val: V };\n\nfunction filterByKey&lt;K, V&gt;(\n    keys: Observable&lt;K&gt;,\n    o: Observable&lt;KeyValuePair&lt;K, V&gt;&gt;\n): Observable&lt;KeyValuePair&lt;K, V&gt;&gt; {\n    // IRL I'd build some sort of Set abstraction\n    // (on top of the keys of an object) to ensure\n    // that this scales up to big sets of keys\n    var seenKeys: K[] = [];\n\n    keys.subscribe(key =&gt; {\n        if (seenKeys.indexOf(key) === -1) {\n            seenKeys.push(key);\n        }\n    });\n\n    return o.filter(x =&gt; seenKeys.indexOf(x.key) !== -1);\n}\n</code></pre>\n\n<p>(I'm coding without an editor, so I might have got that a bit wrong, but that's the idea.)</p>\n"}, {"tags": [], "owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "is_accepted": false, "score": -1, "last_activity_date": 1487779939, "last_edit_date": 1495535389, "creation_date": 1487761000, "answer_id": 42389270, "question_id": 42378939, "link": "https://stackoverflow.com/questions/42378939/having-one-observable-mapping-to-data-in-a-second-observable-emitting-a-3rd-obse/42389270#42389270", "title": "Having one observable mapping to data in a second observable emitting a 3rd observable with data that maps", "body": "<p>This is very similar to a question from yesterday: <a href=\"https://stackoverflow.com/questions/42349778/rxjs-updating-values-in-a-list-from-an-other-stream-identified-by-an-id/42370161#42370161\">RxJs: updating values in a list from an other stream identified by an ID</a></p>\n\n<p>Since the number of items and order can't be guaranteed you can most easily collect all items from both <code>observable1</code> and <code>observable2</code> and then merge them into one Observable:</p>\n\n<pre><code>let observable1 = Observable.from(['key1', 'key3', 'key4']);\nlet observable2 = Observable.from([{id: 'key1', val: 'val1'}, {id: 'key2', val: 'val2'}, {id: 'key3', val: 'val3'}, {id: 'key4', val: 'val4'}]);\n\nlet observable3 = Observable.forkJoin(\n  observable1.toArray(),\n  observable2.toArray(),\n  (keys1, results1) =&gt; {\n    let results = [];\n    keys1.forEach(key =&gt; {\n      results1.forEach(result =&gt; {\n        if (key === result.id) {\n          results.push(result);\n        }\n      });\n    });\n\n    return results;\n  });\n\nobservable3\n  .subscribe(val =&gt; console.log(val));\n</code></pre>\n\n<p>The biggest disadvantage is that you have to collect all items from both Observables before merging them.</p>\n\n<p>This prints to console:</p>\n\n<pre><code>[ { id: 'key1', val: 'val1' },\n  { id: 'key3', val: 'val3' },\n  { id: 'key4', val: 'val4' } ]\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 1842422, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3f246789b834c959f719940ce97c96ec?s=128&d=identicon&r=PG", "display_name": "Dreanaught", "link": "https://stackoverflow.com/users/1842422/dreanaught"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1487779939, "creation_date": 1487714915, "last_edit_date": 1487715243, "question_id": 42378939, "link": "https://stackoverflow.com/questions/42378939/having-one-observable-mapping-to-data-in-a-second-observable-emitting-a-3rd-obse", "title": "Having one observable mapping to data in a second observable emitting a 3rd observable with data that maps", "body": "<p>The question might be simple for a pro. Having tried multiple ways i couldn'd wrap my head around that.</p>\n\n<p>I have one observable <code>observable1</code> containing a list of keys. Like</p>\n\n<pre><code>[\n key1,\n key3,\n key4,\n ..\n]\n</code></pre>\n\n<p>The second observable <code>observable2</code> contains data, some keys of <code>observable1</code> map to. Like</p>\n\n<pre><code>[\n {key1, val1},\n {key2, val2},\n {key3, val3},\n {key4, val4},\n ..\n]\n</code></pre>\n\n<p>For the sake of simplicity let's say every key in <code>observable1</code> has a corresponding mapping in <code>observable2</code>.</p>\n\n<p>Having this inital situation, i want to have an observable <code>observable3</code> only emitting data from <code>observable2</code> that is mapped to by a key in <code>observable1</code>.</p>\n\n<p>At the given example, the output should omit the data for key2 and look like</p>\n\n<pre><code>[\n {key1, val1},\n {key3, val3},\n {key4, val4},\n ..\n]\n</code></pre>\n\n<p>after beeing subscribed to and consolelogged.</p>\n\n<p>How can this be archieved in rxjs? By the way, i'm using typescript.</p>\n"}, {"tags": ["angular", "typescript", "msbuild", "tfsbuild"], "comments": [{"owner": {"reputation": 44433, "user_id": 5391065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b615692abd82961458da80dd640f3300?s=128&d=identicon&r=PG&f=1", "display_name": "PatrickLu-MSFT", "link": "https://stackoverflow.com/users/5391065/patricklu-msft"}, "edited": false, "score": 0, "creation_date": 1487851571, "post_id": 42378652, "comment_id": 71975866, "body": "Have you give a try with manually run your project in VS on the build agent/ server? Maybe it&#39;s an environment issue and what&#39;s the detail error when you run your project with xaml build on TFS2015 ?"}], "answers": [{"tags": [], "owner": {"reputation": 3014, "user_id": 1865762, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/df8hW.jpg?s=128&g=1", "display_name": "squadwuschel", "link": "https://stackoverflow.com/users/1865762/squadwuschel"}, "is_accepted": true, "score": 0, "last_activity_date": 1487932531, "creation_date": 1487932531, "answer_id": 42436438, "question_id": 42378652, "link": "https://stackoverflow.com/questions/42378652/tfs-2015-xaml-build-typescript-2-x-experimentaldecorators-in-asp-net-mvc4/42436438#42436438", "title": "TFS 2015 xaml build TypeScript 2.x &quot;experimentalDecorators&quot; in ASP.NET MVC4", "body": "<p>When we upgraded from tfs 2010 we don't change our xaml Processtemplate to the new one. All I had to do was to choose one of the new Xaml Buildprocesstemplates included in TFS 2015 </p>\n"}], "owner": {"reputation": 3014, "user_id": 1865762, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/df8hW.jpg?s=128&g=1", "display_name": "squadwuschel", "link": "https://stackoverflow.com/users/1865762/squadwuschel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 42436438, "answer_count": 1, "score": 0, "last_activity_date": 1487932531, "creation_date": 1487713723, "last_edit_date": 1487743732, "question_id": 42378652, "link": "https://stackoverflow.com/questions/42378652/tfs-2015-xaml-build-typescript-2-x-experimentaldecorators-in-asp-net-mvc4", "title": "TFS 2015 xaml build TypeScript 2.x &quot;experimentalDecorators&quot; in ASP.NET MVC4", "body": "<p>We have a tfs 2015 with \"old\" xaml Builds and I want to deploy a Angular 2 website with webpack.</p>\n\n<p>I can install npm and compile my project with webpack on the tfs by adding simple Target that works fine I see my node_modules folder and the compiled wwwroot on the tfs temp dir.</p>\n\n<pre><code> &lt;PropertyGroup&gt;\n   &lt;WebsitePath&gt;$(MSBuildProjectDirectory)/../../Gui/Web/&lt;/WebsitePath&gt;\n   ...\n&lt;/PropertyGroup&gt;\n\n&lt;Target Name=\"npminstall\"&gt;\n &lt;Exec WorkingDirectory=\"$(WebsitePath)\" Command=\"npm install\" /&gt;\n &lt;Exec WorkingDirectory=\"$(WebsitePath)\" Command=\"npm run build:dev\" /&gt;\n&lt;/Target&gt;\n</code></pre>\n\n<p>but the TFS Agent gives me a error message when it tries to compile the .net dlls</p>\n\n<pre><code>Build: Experimental support for decorators is a feature that is subject to change in a future release.\nSet the 'experimentalDecorators' option to remove this warning.\n</code></pre>\n\n<p>I know this error I got in the beginning with VS and NG2 I need to add some nodes in my csproj file</p>\n\n<pre><code>&lt;PropertyGroup Condition=\"'$(Configuration)|$(Platform)' == 'DevMvc|AnyCPU'\"&gt;\n  &lt;TypeScriptTarget&gt;ES5&lt;/TypeScriptTarget&gt;\n  &lt;TypeScriptJSXEmit&gt;None&lt;/TypeScriptJSXEmit&gt;\n  &lt;TypeScriptCompileOnSaveEnabled&gt;True&lt;/TypeScriptCompileOnSaveEnabled&gt;\n  &lt;TypeScriptNoImplicitAny&gt;False&lt;/TypeScriptNoImplicitAny&gt;\n  &lt;TypeScriptModuleKind&gt;CommonJS&lt;/TypeScriptModuleKind&gt;\n  &lt;TypeScriptRemoveComments&gt;False&lt;/TypeScriptRemoveComments&gt;\n  &lt;TypeScriptOutFile /&gt;\n  &lt;TypeScriptOutDir /&gt;\n  &lt;TypeScriptGeneratesDeclarations&gt;False&lt;/TypeScriptGeneratesDeclarations&gt;\n  &lt;TypeScriptNoEmitOnError&gt;True&lt;/TypeScriptNoEmitOnError&gt;\n  &lt;TypeScriptSourceMap&gt;True&lt;/TypeScriptSourceMap&gt;\n  &lt;TypeScriptMapRoot /&gt;\n  &lt;TypeScriptSourceRoot /&gt;\n  &lt;TypeScriptExperimentalDecorators&gt;True&lt;/TypeScriptExperimentalDecorators&gt;\n  &lt;TypeScriptEmitDecoratorMetadata&gt;True&lt;/TypeScriptEmitDecoratorMetadata&gt;\n  &lt;TypeScriptCompileBlocked&gt;true&lt;/TypeScriptCompileBlocked&gt;\n&lt;/PropertyGroup&gt;\n</code></pre>\n\n<p>and then the project in VS compiles, I've added this lines again to my csproj but its not helping/working for the TFS build</p>\n\n<p>In VS I am currently using a tsconfig.json</p>\n\n<pre><code> {\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"removeComments\": false,\n    \"noImplicitAny\": false,\n    \"types\": [\n      \"node\" \n    ]\n  },\n   \"awesomeTypescriptLoaderOptions\": {\n     \"useWebpackText\": true\n   },\n  \"exclude\": [\n       \"node_modules\",\n       \"dist\",\n       \"typings/main\",\n       \"typings/index.d.ts\"\n     ],\n     \"compileOnSave\": true\n   }\n</code></pre>\n\n<p>someone got a idea what I have to do to get this project compilled on the TFS 2015.</p>\n\n<p>TypeScript 2.0.6 is also installed on the Build Server.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 0, "creation_date": 1487716690, "post_id": 42379055, "comment_id": 71907907, "body": "I do want it to be inherited in my case (not static)... Yes, this is what I was looking for!"}], "tags": [], "owner": {"reputation": 1387, "user_id": 1930482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5960053b3ba9ed93f79bced9dce97c8?s=128&d=identicon&r=PG", "display_name": "Aviad Hadad", "link": "https://stackoverflow.com/users/1930482/aviad-hadad"}, "is_accepted": true, "score": 4, "last_activity_date": 1487715905, "last_edit_date": 1487715905, "creation_date": 1487715564, "answer_id": 42379055, "question_id": 42378371, "link": "https://stackoverflow.com/questions/42378371/how-to-create-a-string-on-the-prototype-of-a-class-in-typescript/42379055#42379055", "title": "How to create a string on the prototype of a class in TypeScript", "body": "<p>Yes, it's possible, and it's probably more straight forward that you imagined...</p>\n\n<pre><code>class A {\n  public foo: string;\n}\nA.prototype.foo = 'im shared between instances';\n</code></pre>\n\n<p>If you are interested in the reasoning why there is no special to keyword to define a 'prototype member' inside the class definition, you can read more about it <a href=\"https://typescript.codeplex.com/discussions/444777\" rel=\"nofollow noreferrer\">here</a>. Look for the comment from ahejlsberg (Anders Hejlsberg).</p>\n\n<p>You can also make the variable static, in which case it would be stored on the constructor function\\class. </p>\n"}], "owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 42379055, "answer_count": 1, "score": 0, "last_activity_date": 1487715905, "creation_date": 1487712586, "question_id": 42378371, "link": "https://stackoverflow.com/questions/42378371/how-to-create-a-string-on-the-prototype-of-a-class-in-typescript", "title": "How to create a string on the prototype of a class in TypeScript", "body": "<p>When I create a class with a string field, it always transpiles into an assignment in the constructor. Is it possible to make it be on the prototype so that it's shared instead of a new string per instance?</p>\n\n<pre><code>class A { \n    a = 'hello'\n    b() { return this.a;}\n}\n// Transpiles into\nvar A = (function () {\n    function A() {\n        this.a = 'hello';\n    }\n    A.prototype.b = function () { return this.a; };\n    return A;\n}());\n// Is it possible to make it go on the prototype like functions do?\n// No need for multiple instances of the string\nvar A = (function () {\n    function A() {}\n    A.prototype.b = function () { return this.a; };\n    A.prototype.a = 'hello';\n    return A;\n}());\n</code></pre>\n"}, {"tags": ["angular", "typescript", "rxjs", "polling", "rxjs5"], "comments": [{"owner": {"reputation": 3870, "user_id": 1769777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/06763dd36a45c8966c7171ba3697847d?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/1769777/adam"}, "edited": false, "score": 0, "creation_date": 1487711856, "post_id": 42377993, "comment_id": 71905373, "body": "combineLatest only works once both observables have emitted once, <a href=\"http://reactivex.io/documentation/operators/combinelatest.html\" rel=\"nofollow noreferrer\">play with the RxJS marbles to see</a>. I&#39;m thinking maybe your <code>startsWith</code> needs to be applied to pagination before  being combined with the timer."}, {"owner": {"reputation": 507, "user_id": 848563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/63ce880b580f4b3d0e62b13040a63bdf?s=128&d=identicon&r=PG", "display_name": "Gesh", "link": "https://stackoverflow.com/users/848563/gesh"}, "reply_to_user": {"reputation": 3870, "user_id": 1769777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/06763dd36a45c8966c7171ba3697847d?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/1769777/adam"}, "edited": false, "score": 1, "creation_date": 1487717022, "post_id": 42377993, "comment_id": 71908045, "body": "That&#39;s what martin suggested in his solution (and you&#39;re both right). I was aware of that combineLatest does wait for all observables, but I somehow thought that startWith would kickstart both Observables automatically. I was wrong ;)"}], "answers": [{"comments": [{"owner": {"reputation": 507, "user_id": 848563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/63ce880b580f4b3d0e62b13040a63bdf?s=128&d=identicon&r=PG", "display_name": "Gesh", "link": "https://stackoverflow.com/users/848563/gesh"}, "edited": false, "score": 0, "creation_date": 1487711523, "post_id": 42378062, "comment_id": 71905162, "body": "As I wrote in the description I used both with the same result"}, {"owner": {"reputation": 507, "user_id": 848563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/63ce880b580f4b3d0e62b13040a63bdf?s=128&d=identicon&r=PG", "display_name": "Gesh", "link": "https://stackoverflow.com/users/848563/gesh"}, "edited": false, "score": 0, "creation_date": 1487711733, "post_id": 42378062, "comment_id": 71905307, "body": "I tried it a second ago. Sadly didn&#39;t change anything"}, {"owner": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "reply_to_user": {"reputation": 507, "user_id": 848563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/63ce880b580f4b3d0e62b13040a63bdf?s=128&d=identicon&r=PG", "display_name": "Gesh", "link": "https://stackoverflow.com/users/848563/gesh"}, "edited": false, "score": 0, "creation_date": 1487713177, "post_id": 42378062, "comment_id": 71906155, "body": "@Gesh Edited the answer, make sure you are doing everything correct in observable.next and then subscribe side"}], "tags": [], "owner": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "is_accepted": false, "score": -1, "last_activity_date": 1487713140, "last_edit_date": 1487713140, "creation_date": 1487711483, "answer_id": 42378062, "question_id": 42377993, "link": "https://stackoverflow.com/questions/42377993/rxjs-observable-with-subject-polling-via-timer-and-combinelatest-does-not-fire/42378062#42378062", "title": "RxJS Observable with Subject, polling via timer and combineLatest does not fire", "body": "<p>Make sure you are following below steps</p>\n\n<h3>creating onservable data</h3>\n\n<p>you have a observable verable and you are pushing data by <code>observable.next(value);</code></p>\n\n<h3>getting data in a subject or behourSubject</h3>\n\n<p>Where you want to get the data you are declaring a Subject type variable and access it by subscribing it.</p>\n\n<pre><code>private val: Subject = YourObservable;\nprivate uiValue: string;\n\nval.sunscribe((val) =&gt; {\n   uiVal = val;\n});\n</code></pre>\n\n<p>Now you can use the uiVal anywhere which will update in each inteval. </p>\n\n<p>you can test both the pieces separately by just making the <code>console.log</code> to make sure everything is working file</p>\n"}, {"comments": [{"owner": {"reputation": 507, "user_id": 848563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/63ce880b580f4b3d0e62b13040a63bdf?s=128&d=identicon&r=PG", "display_name": "Gesh", "link": "https://stackoverflow.com/users/848563/gesh"}, "edited": false, "score": 0, "creation_date": 1487716102, "post_id": 42378625, "comment_id": 71907666, "body": "Your first answer worked! I just moved startWith to the pagination Subject Observable and it worked.   When I used startWith in my solution the timer actually worked, but the pagination Obersable was never fired and combineLatest stayed waiting.   A clever and easy solution. Thank you"}], "tags": [], "owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "is_accepted": true, "score": 2, "last_activity_date": 1487713644, "creation_date": 1487713644, "answer_id": 42378625, "question_id": 42377993, "link": "https://stackoverflow.com/questions/42377993/rxjs-observable-with-subject-polling-via-timer-and-combinelatest-does-not-fire/42378625#42378625", "title": "RxJS Observable with Subject, polling via timer and combineLatest does not fire", "body": "<p>The <code>combineLatest()</code> operator requires all source Observables to emit at least one item.</p>\n\n<p>Your demo makes only one request because you're using <code>.startWith()</code>. The <code>combineLatest()</code> never emits because the <code>pagination</code> is a <code>Subject</code> and it probably never emits any item.</p>\n\n<p>So one option is to move <code>.startWith()</code>:</p>\n\n<pre><code>.combineLatest(\n  pagination.startWith({offset: 0, limit: 3}),\n  (timer, pagination) =&gt; pagination\n)\n</code></pre>\n\n<p>But maybe this doesn't help you much because you're ignoring all items coming from the <code>timer()</code> and you're using just <code>pagination</code>. So maybe you could use just <code>merge()</code> to refresh the list from one of the sources. Then the <code>timer()</code> independently increases the offset.</p>\n\n<pre><code>Observable\n  .timer(0, 1000)\n  .map(i =&gt; { return {offset: i*3, limit: 3}})\n  .merge(pagination.startWith({offset: 0, limit: 3}))\n  .switchMap(pagination =&gt; {\n    return Observable.of(pagination).delay(200)\n  })\n  .subscribe(val =&gt; console.log(val));\n</code></pre>\n"}], "owner": {"reputation": 507, "user_id": 848563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/63ce880b580f4b3d0e62b13040a63bdf?s=128&d=identicon&r=PG", "display_name": "Gesh", "link": "https://stackoverflow.com/users/848563/gesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1546, "favorite_count": 0, "accepted_answer_id": 42378625, "answer_count": 2, "score": 4, "last_activity_date": 1487713912, "creation_date": 1487711201, "last_edit_date": 1487713912, "question_id": 42377993, "link": "https://stackoverflow.com/questions/42377993/rxjs-observable-with-subject-polling-via-timer-and-combinelatest-does-not-fire", "title": "RxJS Observable with Subject, polling via timer and combineLatest does not fire", "body": "<p>I wrote a function to do polling on an API that is also able to do pagination. Herefor the pagination is done using a Subject Observable and polling is done with the timer method (I also tried interval with the same result).</p>\n\n<p>Here is my code:</p>\n\n<pre><code>  getItems(pagination: Subject&lt;Pagination&gt;): Observable&lt;ListResult&lt;Item&gt;&gt; {\n    let params: URLSearchParams = new URLSearchParams();\n\n    return Observable\n      .timer(0, 5000)\n      .combineLatest(\n        pagination,\n        (timer, pagination) =&gt; pagination\n      )\n      .startWith({offset: 0, limit: 3})\n      .switchMap(pagination =&gt; {\n        params.set('skip', pagination.offset.toString());\n        params.set('limit', pagination.limit.toString());\n        return this.authHttp.get(`${environment.apiBase}/items`, {search: params})\n      })\n      .map(response =&gt; response.json() as ListResult&lt;Item&gt;)\n      .catch(this.handleError);\n  }\n</code></pre>\n\n<p>The expected behavior would be:\nHTTP request is fired every 5 seconds AND when the user changes the page.</p>\n\n<p>This is what happens:\nFirst HTTP request is fired, but then no other request is sent to the server UNTIL pagination is used. \nAfter pagination is used the first time, the polling starts working too.</p>\n\n<p>It's the first time I'm using Observables so I'm pretty sure I missed something, but I can't see what it might be.</p>\n\n<p>I also tried this approach (maybe it was missing the timer counter in startWith), but it didn't change anything.</p>\n\n<pre><code>[...]\n  .combineLatest(\n    pagination\n  )\n  .startWith([0, {offset: 0, limit: 3}])\n[...]\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 1124, "user_id": 1751277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0110543d2381a81df2412b253a248dc9?s=128&d=identicon&r=PG&f=1", "display_name": "floriangosse", "link": "https://stackoverflow.com/users/1751277/floriangosse"}, "edited": false, "score": 0, "creation_date": 1487709426, "post_id": 42377368, "comment_id": 71903882, "body": "Only for understanding: You want to group the tickets by price?"}, {"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1487710220, "post_id": 42377368, "comment_id": 71904389, "body": "What have you tried? Answers here should give you a hint: <a href=\"http://stackoverflow.com/questions/42336471/how-to-preserve-items-thats-present-in-two-or-more-arrays-and-return-an-array-o\"><i>How to preserve items that&#39;s present in two or more arrays and return an array of that?</i></a>"}, {"owner": {"reputation": 1650, "user_id": 2280016, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7bfe4a93ea2d8f7981f7f0343aa4425d?s=128&d=identicon&r=PG", "display_name": "user2280016", "link": "https://stackoverflow.com/users/2280016/user2280016"}, "reply_to_user": {"reputation": 1124, "user_id": 1751277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0110543d2381a81df2412b253a248dc9?s=128&d=identicon&r=PG&f=1", "display_name": "floriangosse", "link": "https://stackoverflow.com/users/1751277/floriangosse"}, "edited": false, "score": 0, "creation_date": 1487728157, "post_id": 42377368, "comment_id": 71911578, "body": "@floriangosse yes group the tickets by price"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 6062074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd4e378834a673355d8663e481564154?s=128&d=identicon&r=PG&f=1", "display_name": "Kai Snow", "link": "https://stackoverflow.com/users/6062074/kai-snow"}, "is_accepted": false, "score": 0, "last_activity_date": 1487710487, "creation_date": 1487710487, "answer_id": 42377773, "question_id": 42377368, "link": "https://stackoverflow.com/questions/42377368/how-to-get-the-count-of-property-which-has-same-value/42377773#42377773", "title": "How to get the count of property which has same value?", "body": "<p>You will have to make a hash table with keys being your ticket price and values being array of tickets with that price. For example:</p>\n\n<pre><code>var price_table = {};\nentries.forEach((data: any) =&gt; {\n    if(!price_table.hasOwnProperty(data.ticket.price.original))\n        price_table[data.ticket.price.original] = [];\n    price_table[data.ticket.price.original].push(data);\n});\n</code></pre>\n\n<p>After running that code, you'll have to through the keys of <code>price_table</code> and find a max value among them:</p>\n\n<pre><code>var max = 0;\nfor(var price in price_table){\n    if(price_table.hasOwnProperty(price)) {\n        if(price &gt;= max){\n            max = price;\n        }\n    }\n}\n</code></pre>\n\n<p>And then you can you the max value to show the list of tickets with the highest price: <code>price_table[max]</code></p>\n\n<p>The above example considers you have proper values (numbers) for <code>data.ticket.price.original</code>.</p>\n"}], "owner": {"reputation": 1650, "user_id": 2280016, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7bfe4a93ea2d8f7981f7f0343aa4425d?s=128&d=identicon&r=PG", "display_name": "user2280016", "link": "https://stackoverflow.com/users/2280016/user2280016"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487710487, "creation_date": 1487709078, "question_id": 42377368, "link": "https://stackoverflow.com/questions/42377368/how-to-get-the-count-of-property-which-has-same-value", "title": "How to get the count of property which has same value?", "body": "<p>I have a json which is retrieved through the api as follows,</p>\n\n<p><a href=\"http://www.jsoneditoronline.org/?id=3d6078cbb11e7e5b3989320ff1cc00c1\" rel=\"nofollow noreferrer\">http://www.jsoneditoronline.org/?id=3d6078cbb11e7e5b3989320ff1cc00c1</a></p>\n\n<p>I am looping through the result set and creating a ticket object as follows,</p>\n\n<pre><code> data.ticket.seating.forEach((seat: any) =&gt; {\n                this.listings.push({ section: seat.section, selling: data.price.selling, amount: data.ticket.amount, type: data.ticket.type, row: seat.row });\n                this.barChartLabels.push(data.price.selling);\n                this.barChartData[0].data.push() // how to push the count of tickets which has the same price.\n            });\n</code></pre>\n\n<p>In the above code, how to get the number of tickets which has the same price ? Also how to get the max price among all tickets?</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "angular2-observables"], "comments": [{"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 2, "creation_date": 1487707779, "post_id": 42376972, "comment_id": 71903003, "body": "<code>import {Observable} from &#39;rxjs&#47;Observable&#39;;</code> would import the Observable, but you don&#39;t need to import it all if you are using promises... <code>toPromise</code> works without it."}, {"owner": {"reputation": 6733, "user_id": 4486146, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/BZuMx.jpg?s=128&g=1", "display_name": "Danoram", "link": "https://stackoverflow.com/users/4486146/danoram"}, "reply_to_user": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1487709351, "post_id": 42376972, "comment_id": 71903831, "body": "What would I need to import by itself to use just <code>toPromise</code>? I am using Observable, I should have clarified that in the question. it&#39;s really two separate questions."}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 2, "creation_date": 1487709557, "post_id": 42376972, "comment_id": 71903949, "body": "then this would do, if you want promises <code>import &#39;rxjs&#47;add&#47;operator&#47;toPromise&#39;;</code> Take a look at <a href=\"https://angular.io/docs/ts/latest/tutorial/toh-pt6.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/tutorial/toh-pt6.html</a> That should help you along :)"}, {"owner": {"reputation": 6733, "user_id": 4486146, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/BZuMx.jpg?s=128&g=1", "display_name": "Danoram", "link": "https://stackoverflow.com/users/4486146/danoram"}, "reply_to_user": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1487711001, "post_id": 42376972, "comment_id": 71904861, "body": "I&#39;ll look into it. Cheers and thanks for taking the time to share!"}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1487715256, "post_id": 42376972, "comment_id": 71907288, "body": "No problem! Happy coding! :)"}, {"owner": {"reputation": 2020, "user_id": 2223843, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/ZpO8v.jpg?s=128&g=1", "display_name": "Enn", "link": "https://stackoverflow.com/users/2223843/enn"}, "edited": false, "score": 0, "creation_date": 1525520151, "post_id": 42376972, "comment_id": 87394731, "body": "This is no longer correct for rxjs 6+."}, {"owner": {"reputation": 6733, "user_id": 4486146, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/BZuMx.jpg?s=128&g=1", "display_name": "Danoram", "link": "https://stackoverflow.com/users/4486146/danoram"}, "edited": false, "score": 0, "creation_date": 1525521254, "post_id": 42376972, "comment_id": 87395048, "body": "Can you elaborate on which part is incorrect, for other visitors to this page."}, {"owner": {"reputation": 2020, "user_id": 2223843, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/ZpO8v.jpg?s=128&g=1", "display_name": "Enn", "link": "https://stackoverflow.com/users/2223843/enn"}, "edited": false, "score": 0, "creation_date": 1525521944, "post_id": 42376972, "comment_id": 87395262, "body": "Please see my answer below for more info."}], "answers": [{"comments": [{"owner": {"reputation": 349, "user_id": 2894638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8a3abf846fedd73ba2afd94cec8f776b?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Smith", "link": "https://stackoverflow.com/users/2894638/mr-smith"}, "edited": false, "score": 3, "creation_date": 1502718916, "post_id": 44943647, "comment_id": 78309911, "body": "Tree-shaking can&#39;t optimize here as it relies on the symbol names of export and import definitions and RxJS operator modules don\u2019t export anything, but change global state instead. <a href=\"https://christianliebel.com/2017/07/import-rxjs-correctly/\" rel=\"nofollow noreferrer\">see</a>"}, {"owner": {"reputation": 555, "user_id": 4787250, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-M8M1h7oMgmY/AAAAAAAAAAI/AAAAAAAAAfE/ahNDJpNpaeU/photo.jpg?sz=128", "display_name": "Michael Burger", "link": "https://stackoverflow.com/users/4787250/michael-burger"}, "edited": false, "score": 0, "creation_date": 1510303030, "post_id": 44943647, "comment_id": 81386598, "body": "I think you have to import any operator one by one like import { map } from &#39;rxjs/operators/map }; import { filter } from &#39;rxjs/operators/filter }"}, {"owner": {"reputation": 864, "user_id": 733002, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0ac72d5aed0bdbc13403c0d42c3646b5?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/733002/joe"}, "edited": false, "score": 0, "creation_date": 1517882043, "post_id": 44943647, "comment_id": 84265550, "body": "groupBy didn&#39;t work for me on Angular 5+, others did though."}, {"owner": {"reputation": 14053, "user_id": 650891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01dc99801914d08b2aa5889777970c0e?s=128&d=identicon&r=PG", "display_name": "Stephen Chung", "link": "https://stackoverflow.com/users/650891/stephen-chung"}, "edited": false, "score": 0, "creation_date": 1519457667, "post_id": 44943647, "comment_id": 84927286, "body": "Great answer.  I didn&#39;t know the difference between <code>&#47;add&#47;operator</code> vs <code>&#47;operators</code> imports.  Works like a charm."}, {"owner": {"reputation": 2020, "user_id": 2223843, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/ZpO8v.jpg?s=128&g=1", "display_name": "Enn", "link": "https://stackoverflow.com/users/2223843/enn"}, "edited": false, "score": 0, "creation_date": 1522160762, "post_id": 44943647, "comment_id": 86035983, "body": "This is no longer the case, rxjs 6 imports are now done directly on the &#39;rxjs&#39; or &#39;rxjs/operators&#39;  (or other submodules)"}, {"owner": {"reputation": 4656, "user_id": 3355252, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/sCIXA.jpg?s=128&g=1", "display_name": "Robert Kusznier", "link": "https://stackoverflow.com/users/3355252/robert-kusznier"}, "edited": false, "score": 1, "creation_date": 1534514959, "post_id": 44943647, "comment_id": 90745241, "body": "Cool, but where is that in the documentation? I find Rxjs documentation hard to use."}], "tags": [], "owner": {"reputation": 8268, "user_id": 413418, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a2345aa7195d053dc2e40c9c5f9a6a35?s=128&d=identicon&r=PG", "display_name": "Vamshi", "link": "https://stackoverflow.com/users/413418/vamshi"}, "is_accepted": true, "score": 140, "last_activity_date": 1533102960, "last_edit_date": 1533102960, "creation_date": 1499329838, "answer_id": 44943647, "question_id": 42376972, "link": "https://stackoverflow.com/questions/42376972/best-way-to-import-observable-from-rxjs/44943647#44943647", "title": "Best way to import Observable from rxjs", "body": "<h2>Rxjs v 6.*</h2>\n\n<p>It got simplified with newer version of rxjs . </p>\n\n<h3>1) Operators</h3>\n\n<pre><code>import {map} from 'rxjs/operators';\n</code></pre>\n\n<h3>2) Others</h3>\n\n<pre><code>import {Observable,of, from } from 'rxjs';\n</code></pre>\n\n<p>Instead of chaining we need to pipe . For example </p>\n\n<p><strong>Old syntax :</strong></p>\n\n<pre><code>source.map().switchMap().subscribe()\n</code></pre>\n\n<p><strong>New Syntax:</strong> </p>\n\n<pre><code>source.pipe(map(), switchMap()).subscribe()\n</code></pre>\n\n<p><strong>Note:</strong> Some operators have a name change due to name collisions with JavaScript reserved words! These include: </p>\n\n<p><code>do</code> -> <code>tap</code>, </p>\n\n<p><code>catch</code> -> <code>catchError</code></p>\n\n<p><code>switch</code> -> <code>switchAll</code></p>\n\n<p><code>finally</code> -> <code>finalize</code></p>\n\n<hr>\n\n<h2>Rxjs v 5.*</h2>\n\n<p>I am writing this answer partly to help myself as I keep checking docs everytime I need to import an operator . Let me know if something can be done better way. </p>\n\n<h2>1) <code>import { Rx } from 'rxjs/Rx'</code>;</h2>\n\n<p>This imports the entire library. Then you don't need to worry about loading each operator . But you need to append Rx. <s>I hope tree-shaking will optimize and pick only needed funcionts( need to verify )</s> As mentioned in comments , tree-shaking can not help. So this is not optimized way.  </p>\n\n<pre><code>public cache = new Rx.BehaviorSubject('');\n</code></pre>\n\n<hr>\n\n<p>Or you can import <strong>individual</strong> operators . </p>\n\n<p><strong>This will Optimize your app to use only those files</strong> : </p>\n\n<h2>2) <code>import { _______ } from 'rxjs/_________';</code></h2>\n\n<p>This syntax usually used for main Object like <code>Rx</code> itself or <code>Observable</code> etc., </p>\n\n<p>Keywords which can be imported with this syntax </p>\n\n<pre><code> Observable, Observer, BehaviorSubject, Subject, ReplaySubject\n</code></pre>\n\n<h2>3) <code>import 'rxjs/add/observable/__________';</code></h2>\n\n<p><strong>Update for Angular 5</strong></p>\n\n<p>With Angular 5, which uses rxjs 5.5.2+ </p>\n\n<pre><code>import { empty } from 'rxjs/observable/empty';\nimport { concat} from 'rxjs/observable/concat';\n</code></pre>\n\n<p>These are usually accompanied with Observable directly. For example</p>\n\n<pre><code>Observable.from()\nObservable.of()\n</code></pre>\n\n<p>Other such keywords which can be imported using this syntax: </p>\n\n<pre><code>concat, defer, empty, forkJoin, from, fromPromise, if, interval, merge, of, \nrange, throw, timer, using, zip\n</code></pre>\n\n<h2>4) <code>import 'rxjs/add/operator/_________';</code></h2>\n\n<p><strong>Update for Angular 5</strong></p>\n\n<p>With Angular 5, which uses rxjs 5.5.2+ </p>\n\n<pre><code>import { filter } from 'rxjs/operators/filter';\nimport { map } from 'rxjs/operators/map';\n</code></pre>\n\n<p>These usually come in the stream after the Observable is created. Like <code>flatMap</code> in this code snippet: </p>\n\n<pre><code>Observable.of([1,2,3,4])\n          .flatMap(arr =&gt; Observable.from(arr));\n</code></pre>\n\n<p>Other such keywords using this syntax: </p>\n\n<pre><code>audit, buffer, catch, combineAll, combineLatest, concat, count, debounce, delay, \ndistinct, do, every, expand, filter, finally, find , first, groupBy,\nignoreElements, isEmpty, last, let, map, max, merge, mergeMap, min, pluck, \npublish, race, reduce, repeat, scan, skip, startWith, switch, switchMap, take, \ntakeUntil, throttle, timeout, toArray, toPromise, withLatestFrom, zip\n</code></pre>\n\n<p><strong>FlatMap</strong>: \n<code>flatMap</code> is alias to <code>mergeMap</code> so we need to import <code>mergeMap</code> to use <code>flatMap</code>. </p>\n\n<hr>\n\n<p><strong>Note for <code>/add</code> imports</strong> : </p>\n\n<p>We only need to import once in whole project. So its advised to do it at a single place. If they are included in multiple files, and one of them is deleted, the build will fail for wrong reasons. </p>\n"}, {"comments": [{"owner": {"reputation": 119030, "user_id": 16940, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7fc2db839382b30434539fbc967c498e?s=128&d=identicon&r=PG", "display_name": "Simon_Weaver", "link": "https://stackoverflow.com/users/16940/simon-weaver"}, "edited": false, "score": 0, "creation_date": 1518137834, "post_id": 48697192, "comment_id": 84393119, "body": "If someone can please explain this better please reply :-)"}, {"owner": {"reputation": 119030, "user_id": 16940, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7fc2db839382b30434539fbc967c498e?s=128&d=identicon&r=PG", "display_name": "Simon_Weaver", "link": "https://stackoverflow.com/users/16940/simon-weaver"}, "edited": false, "score": 0, "creation_date": 1518209757, "post_id": 48697192, "comment_id": 84426982, "body": "Visual Studio for instance will happily import from <code>&quot;rxjs&quot;</code> and merge definitions together where it seems you&#39;re better off doing them separately in the &#39;long&#39; format."}], "tags": [], "owner": {"reputation": 119030, "user_id": 16940, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7fc2db839382b30434539fbc967c498e?s=128&d=identicon&r=PG", "display_name": "Simon_Weaver", "link": "https://stackoverflow.com/users/16940/simon-weaver"}, "is_accepted": false, "score": 3, "last_activity_date": 1518137823, "creation_date": 1518137823, "answer_id": 48697192, "question_id": 42376972, "link": "https://stackoverflow.com/questions/42376972/best-way-to-import-observable-from-rxjs/48697192#48697192", "title": "Best way to import Observable from rxjs", "body": "<p>One thing I've learnt the hard way is being consistent</p>\n\n<p>Watch out for mixing:</p>\n\n<pre><code> import { BehaviorSubject } from \"rxjs\";\n</code></pre>\n\n<p>with</p>\n\n<pre><code> import { BehaviorSubject } from \"rxjs/BehaviorSubject\";\n</code></pre>\n\n<p>This will probably work just fine UNTIL you try to pass the object to another class (where you did it the other way) and then this can fail</p>\n\n<pre><code> (myBehaviorSubject instanceof Observable)\n</code></pre>\n\n<p>It fails because the prototype chain will be different and it will be false. </p>\n\n<p>I can't pretend to understand exactly what is happening but sometimes I run into this and need to change to the longer format.</p>\n"}, {"comments": [{"owner": {"reputation": 385, "user_id": 6277897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pGlxs.jpg?s=128&g=1", "display_name": "M. Sundstrom", "link": "https://stackoverflow.com/users/6277897/m-sundstrom"}, "edited": false, "score": 0, "creation_date": 1524740717, "post_id": 49665105, "comment_id": 87098573, "body": "I had the problem in Angular 6.0.0-rc.5. And I didn&#39;t know that it was RxJS who had made the change. I also removed the filter from the pipe."}, {"owner": {"reputation": 119030, "user_id": 16940, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7fc2db839382b30434539fbc967c498e?s=128&d=identicon&r=PG", "display_name": "Simon_Weaver", "link": "https://stackoverflow.com/users/16940/simon-weaver"}, "edited": false, "score": 0, "creation_date": 1525546959, "post_id": 49665105, "comment_id": 87403080, "body": "There are a lot of changes in RxJS6. Highly recommend taking the time to read this <a href=\"https://github.com/ReactiveX/rxjs/blob/master/MIGRATION.md\" rel=\"nofollow noreferrer\">github.com/ReactiveX/rxjs/blob/master/MIGRATION.md</a> and/or <a href=\"https://auth0.com/blog/whats-new-in-rxjs-6/\" rel=\"nofollow noreferrer\">auth0.com/blog/whats-new-in-rxjs-6</a> so you can prepare for RxJs7 where things will really disappear. As @enn mentioned you now should be using <code>pipe</code> instead of chaining methods together"}, {"owner": {"reputation": 119030, "user_id": 16940, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7fc2db839382b30434539fbc967c498e?s=128&d=identicon&r=PG", "display_name": "Simon_Weaver", "link": "https://stackoverflow.com/users/16940/simon-weaver"}, "edited": false, "score": 0, "creation_date": 1525547013, "post_id": 49665105, "comment_id": 87403096, "body": "This article is great in explaining the benefits of <code>pipe</code> <a href=\"https://gofore.com/en/lettable-operators-and-rxjs-versioning/\" rel=\"nofollow noreferrer\">gofore.com/en/lettable-operators-and-rxjs-versioning</a> (it is not specifically about version 6 but helped me understand why so many drastic changes in RxJS6 that aren&#39;t well explained in their own guide)"}], "tags": [], "owner": {"reputation": 2020, "user_id": 2223843, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/ZpO8v.jpg?s=128&g=1", "display_name": "Enn", "link": "https://stackoverflow.com/users/2223843/enn"}, "is_accepted": false, "score": 22, "last_activity_date": 1525521898, "last_edit_date": 1525521898, "creation_date": 1522907830, "answer_id": 49665105, "question_id": 42376972, "link": "https://stackoverflow.com/questions/42376972/best-way-to-import-observable-from-rxjs/49665105#49665105", "title": "Best way to import Observable from rxjs", "body": "<p><strong>Update for RxJS 6 (April 2018)</strong></p>\n\n<p>It is now perfectly fine to import directly from <code>rxjs</code>. (As can be seen in Angular 6+). Importing from <code>rxjs/operators</code> is also fine and it is actually no longer possible to import operators globally (one of major reasons for refactoring <code>rxjs 6</code> and the new approach using <code>pipe</code>). Thanks to this treeshaking can now be used as well.</p>\n\n<p>Sample code from rxjs repo:</p>\n\n<pre><code>import { Observable, Subject, ReplaySubject, from, of, range } from 'rxjs';\nimport { map, filter, switchMap } from 'rxjs/operators';\n\nrange(1, 200)\n  .pipe(filter(x =&gt; x % 2 === 1), map(x =&gt; x + x))\n  .subscribe(x =&gt; console.log(x));\n</code></pre>\n\n<p><strong>Backwards compatibility for rxjs &lt; 6?</strong></p>\n\n<p>rxjs team released a <a href=\"https://www.npmjs.com/package/rxjs-compat\" rel=\"noreferrer\">compatibility package</a> on npm that is pretty much install &amp; play. With this all your <code>rxjs 5.x</code> code should run without any issues. This is especially useful now when most of the dependencies (i.e. modules for Angular) are not yet updated. </p>\n"}], "owner": {"reputation": 6733, "user_id": 4486146, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/BZuMx.jpg?s=128&g=1", "display_name": "Danoram", "link": "https://stackoverflow.com/users/4486146/danoram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115176, "favorite_count": 33, "accepted_answer_id": 44943647, "answer_count": 3, "score": 80, "last_activity_date": 1533102960, "creation_date": 1487707663, "question_id": 42376972, "link": "https://stackoverflow.com/questions/42376972/best-way-to-import-observable-from-rxjs", "title": "Best way to import Observable from rxjs", "body": "<p>In my angular 2 app I have a service that uses the <code>Observable</code> class from the <code>rxjs</code> library.</p>\n\n<pre><code>import { Observable } from 'rxjs';\n</code></pre>\n\n<p>At the moment I am just using <code>Observable</code> so that I can use the <code>toPromise()</code> function.</p>\n\n<p>I read in another StackOverflow question somewhere that importing in this way and also importing from <code>rxjs/Rx</code> will import a whole lot of unnecessary stuff from the <code>rxjs</code> library that will increase the page load times and/or the code base.</p>\n\n<p>My question is, what is the best way to import <code>Observable</code> so I can use the <code>toPromise()</code> function without having to import everything else?</p>\n"}, {"tags": ["javascript", "mongodb", "angular", "typescript"], "comments": [{"owner": {"reputation": 3409, "user_id": 2848698, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c4e0a5b36c2a14ffc3dd73efb032d4a5?s=128&d=identicon&r=PG&f=1", "display_name": "Sumama Waheed", "link": "https://stackoverflow.com/users/2848698/sumama-waheed"}, "edited": false, "score": 1, "creation_date": 1487706551, "post_id": 42376472, "comment_id": 71902292, "body": "check for typos in the url and make sure it works when you paste it in the browser"}, {"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "reply_to_user": {"reputation": 3409, "user_id": 2848698, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c4e0a5b36c2a14ffc3dd73efb032d4a5?s=128&d=identicon&r=PG&f=1", "display_name": "Sumama Waheed", "link": "https://stackoverflow.com/users/2848698/sumama-waheed"}, "edited": false, "score": 0, "creation_date": 1487706706, "post_id": 42376472, "comment_id": 71902363, "body": "Thanks, I did try that. And in the browser it doesn&#39;t work either. Does that mean the constructed url call is wrong? What should I see in the browser?"}, {"owner": {"reputation": 3409, "user_id": 2848698, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c4e0a5b36c2a14ffc3dd73efb032d4a5?s=128&d=identicon&r=PG&f=1", "display_name": "Sumama Waheed", "link": "https://stackoverflow.com/users/2848698/sumama-waheed"}, "edited": false, "score": 1, "creation_date": 1487706812, "post_id": 42376472, "comment_id": 71902424, "body": "You are doing a <code>post</code> in your app, in the browser it will be a <code>get</code>. It wouldn&#39;t login in the browser using a get, but it should return some kind of response."}, {"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "reply_to_user": {"reputation": 3409, "user_id": 2848698, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c4e0a5b36c2a14ffc3dd73efb032d4a5?s=128&d=identicon&r=PG&f=1", "display_name": "Sumama Waheed", "link": "https://stackoverflow.com/users/2848698/sumama-waheed"}, "edited": false, "score": 0, "creation_date": 1487706924, "post_id": 42376472, "comment_id": 71902501, "body": "Right. That&#39;s helpful, thanks. So I will check into the actual post I am sending."}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1487706986, "post_id": 42376472, "comment_id": 71902533, "body": "You are missing your headers as well..."}, {"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1487707214, "post_id": 42376472, "comment_id": 71902649, "body": "That hasn&#39;t been necessary in other api calls I&#39;m doing. Guessing it&#39;s not necessary here either. For instance, this kind of call works as is: <a href=\"https://api.somesite.com/v0/clients/325ab67d4c9ad4dw1ce?apikey=1h3h5h41d-4j5j-56j3\" rel=\"nofollow noreferrer\">api.somesite.com/v0/clients/&hellip;</a>"}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 1, "creation_date": 1487708225, "post_id": 42376472, "comment_id": 71903255, "body": "@Muirik is that an get or post request? Get request shouldn&#39;t need headers. But yeah, figure out the url is correct first :)"}, {"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "reply_to_user": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1487708997, "post_id": 42376472, "comment_id": 71903621, "body": "@AJT_82 - Actually, you&#39;re correct in this instance. Because we&#39;re sending usernames and passwords here, post is the safer way to go, so I do need to adjust accordingly."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1487712083, "post_id": 42376472, "comment_id": 71905508, "body": "<code>https:&#47;&#47;api.somesite.com&amp;apikey=843c-4932-ckd33</code> is not a valid URL."}], "owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487706064, "creation_date": 1487706064, "question_id": 42376472, "link": "https://stackoverflow.com/questions/42376472/switching-from-mockbackend-to-actual-api-in-angular-2-app", "title": "Switching from MockBackend to Actual API in Angular 2 App", "body": "<p>I am working on login functionality for my Angular 2 app. I've got it working with a MockMackend and fakeBackendProvider. Now I'm in the process of connecting to our actual API. I am running into an issue with that, though. </p>\n\n<p>First off, let me show what I have that IS working by using the MockBackend and fakeBackendProvider. </p>\n\n<p>This is my authentication service function:</p>\n\n<pre><code>login(username: string, password: string) {\n    return this.http.post('/api/authenticate', JSON.stringify({ username: username, password: password}))\n        .map((response: Response) =&gt; {\n            // login successful if there's a jwt token in the response\n            const user = response.json();\n            if (user &amp;&amp; user.token) {\n                // store user details and jwt token in local storage to keep user logged in between page refreshes\n                localStorage.setItem('currentUser', JSON.stringify(user));\n            }\n        });\n}\n</code></pre>\n\n<p>Again, then, in my login component, I am calling that function like this:</p>\n\n<pre><code>login() {\n    this.loading = true;\n    this.authenticationService.login(this.model.username, this.model.password)\n        .subscribe(\n            data =&gt; {\n                this.router.navigate(['/']);\n                console.log('User logged in as: ' + this.model.username);\n            },\n            error =&gt; {\n                this.alertService.error(error);\n                this.loading = false;\n            });\n            this.authenticationService.username = this.model.username;\n}\n</code></pre>\n\n<p>Again, all of the above <em>IS</em> working. </p>\n\n<p>So, I assume all I should need to do is replace '/api/authenticate' in the login function, with our actual api + api string. So this is what I've been trying:</p>\n\n<pre><code>login(username: string, password: string) {\n    return this.http.post('https://api.somesite.com&amp;apikey=843c-4932-ckd33', JSON.stringify({ username: username, password: password}))\n        .map((response: Response) =&gt; {\n            // login successful if there's a jwt token in the response\n            const user = response.json();\n            if (user &amp;&amp; user.token) {\n                // store user details and jwt token in local storage to keep user logged in between page refreshes\n                localStorage.setItem('currentUser', JSON.stringify(user));\n            }\n        });\n}\n</code></pre>\n\n<p>This isn't working. In the console I get a \"ERR_NAME_NOT_RESOLVED\" error. Any ideas here?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "edited": false, "score": 0, "creation_date": 1487703907, "post_id": 42375756, "comment_id": 71900767, "body": "update the post with <b>ListingSeller</b> interface properties"}], "answers": [{"comments": [{"owner": {"reputation": 1650, "user_id": 2280016, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7bfe4a93ea2d8f7981f7f0343aa4425d?s=128&d=identicon&r=PG", "display_name": "user2280016", "link": "https://stackoverflow.com/users/2280016/user2280016"}, "edited": false, "score": 0, "creation_date": 1487703779, "post_id": 42375774, "comment_id": 71900705, "body": "it did not work, cannot read property &#39;listings&#39; of undefined"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 1650, "user_id": 2280016, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7bfe4a93ea2d8f7981f7f0343aa4425d?s=128&d=identicon&r=PG", "display_name": "user2280016", "link": "https://stackoverflow.com/users/2280016/user2280016"}, "edited": false, "score": 1, "creation_date": 1487703917, "post_id": 42375774, "comment_id": 71900772, "body": "@user2280016 - see update, you need to use <code>arrow</code> functions OR get a reference to <code>this</code> to use inside of the <code>function</code>."}], "tags": [], "owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "is_accepted": true, "score": 1, "last_activity_date": 1487703833, "last_edit_date": 1487703833, "creation_date": 1487703678, "answer_id": 42375774, "question_id": 42375756, "link": "https://stackoverflow.com/questions/42375756/listings-is-undefined-angular2/42375774#42375774", "title": "listings is undefined angular2", "body": "<p>You defined the type but did not create an instance so you cant push to it yet as the reference is still undefined.</p>\n\n<pre><code>public listings: ListingSeller[] = [];\n</code></pre>\n\n<p>will fix the problem. (adding <code>= [];</code>) as this creates an empty array.</p>\n\n<p>Also you need to use an <a href=\"https://basarat.gitbooks.io/typescript/content/docs/arrow-functions.html\" rel=\"nofollow noreferrer\">arrow function</a> so that <code>this</code> points to the correct instance that the code is executing in and not the browser window.</p>\n\n<pre><code>this.eventService.getListingsByEventId(this.eventId).subscribe(listresults =&gt; {\n            this.bindListing(listresults);\n        }, error =&gt; this.errorMessage = error);\n    }\n    bindListing(listres: any[]) {\n        listres.forEach((data) =&gt; { // use arrow function HERE\n            data.ticket.seating.forEach((seat:any) =&gt; { // AND HERE\n                this.listings.push(data);\n            });\n        })\n    }\n</code></pre>\n"}], "owner": {"reputation": 1650, "user_id": 2280016, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7bfe4a93ea2d8f7981f7f0343aa4425d?s=128&d=identicon&r=PG", "display_name": "user2280016", "link": "https://stackoverflow.com/users/2280016/user2280016"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 42375774, "answer_count": 1, "score": 0, "last_activity_date": 1487703833, "creation_date": 1487703615, "question_id": 42375756, "link": "https://stackoverflow.com/questions/42375756/listings-is-undefined-angular2", "title": "listings is undefined angular2", "body": "<p>I have a variable declared inside the component as follows,</p>\n\n<pre><code>public listings: ListingSeller[];\n</code></pre>\n\n<p>am getting the data from an api and pushing to the above array using foreach inside the OnInit,but it says listings is undefined.</p>\n\n<pre><code> this.eventService.getListingsByEventId(this.eventId).subscribe(listresults =&gt; {\n            this.bindListing(listresults);\n        }, error =&gt; this.errorMessage = error);\n    }\n    bindListing(listres: any[]) {\n        listres.forEach(function (data) {\n            data.ticket.seating.forEach(function(seat:any) {\n                this.listings.push(data);\n            });\n        })\n    }\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "typescript"], "comments": [{"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1487702339, "post_id": 42375321, "comment_id": 71899889, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/32461271/nodejs-timeout-a-promise-if-failed-to-complete-in-time\">NodeJS Timeout a Promise if failed to complete in time</a>"}, {"owner": {"reputation": 19834, "user_id": 1446845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d16ef5dca1c645b1cdd444f06bf2233d?s=128&d=identicon&r=PG", "display_name": "Aurelio", "link": "https://stackoverflow.com/users/1446845/aurelio"}, "edited": false, "score": 1, "creation_date": 1487702862, "post_id": 42375321, "comment_id": 71900230, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/22994871/setting-a-timeout-handler-on-a-promise-in-angularjs\">Setting a timeout handler on a promise in angularjs</a>"}], "answers": [{"tags": [], "owner": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "is_accepted": false, "score": 0, "last_activity_date": 1487742121, "creation_date": 1487742121, "answer_id": 42383543, "question_id": 42375321, "link": "https://stackoverflow.com/questions/42375321/angularjs-timeout-to-abort-if-promise-isnt-resolved/42383543#42383543", "title": "AngularJS- $timeout to abort if promise isn&#39;t resolved", "body": "<p>AngularJS v1.6 introduces the <a href=\"https://code.angularjs.org/1.6.0/docs/api/ng/service/$q#race\" rel=\"nofollow noreferrer\">$q.race method</a> which can be used to abort a promise:</p>\n\n<pre><code>var timeoutPromise = $timeout(null, delay).then(() =&gt; {throw \"Timeout Abort\" });\n\nvar timedPromise = $q.race(xPromise, timeoutPromise);\n</code></pre>\n\n<p>In this example, <code>timedPromise</code> will either resolve (fulfilled or rejected) with the results of <code>xPromise</code> or be rejected with the reason \"Timeout Abort\" whichever comes first. </p>\n"}], "owner": {"reputation": 1739, "user_id": 6684914, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2f3788cbbcb1f547223f538c029f5259?s=128&d=identicon&r=PG&f=1", "display_name": "mysticalstick", "link": "https://stackoverflow.com/users/6684914/mysticalstick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 187, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487742121, "creation_date": 1487702239, "question_id": 42375321, "link": "https://stackoverflow.com/questions/42375321/angularjs-timeout-to-abort-if-promise-isnt-resolved", "title": "AngularJS- $timeout to abort if promise isn&#39;t resolved", "body": "<p>I am using AngularJS and Typescript. In my controller constructor, I make a call to a function that gets data and returns a promise. The promise is stored in the variable <code>x</code>.</p>\n\n<pre><code>x.then((data) =&gt; {\n   //displays data\n}, (err) =&gt; {\n   //sends error message\n});\n</code></pre>\n\n<p>Right now if the promise never resolves, it displays nothing. I want to use <code>$timeout</code> so that if the resolution of <code>x</code> takes too long it will display another message. I don't know how I can do it for promises. Calling <code>this.$timeout(3000,true).then(() =&gt; {});</code> just delays the contents and I can delay a function. How can I abort if the promise doesn't resolve? </p>\n"}, {"tags": ["json", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 102, "user_id": 7010538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b470844b945657a930ba264b918b34c?s=128&d=identicon&r=PG&f=1", "display_name": "Gagandeep Kaur", "link": "https://stackoverflow.com/users/7010538/gagandeep-kaur"}, "edited": false, "score": 0, "creation_date": 1487709933, "post_id": 42375470, "comment_id": 71904197, "body": "this is a nice description! I normally use map but these only works on array and mostly the list of data came in forms of array"}, {"owner": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "reply_to_user": {"reputation": 102, "user_id": 7010538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b470844b945657a930ba264b918b34c?s=128&d=identicon&r=PG&f=1", "display_name": "Gagandeep Kaur", "link": "https://stackoverflow.com/users/7010538/gagandeep-kaur"}, "edited": false, "score": 1, "creation_date": 1487710579, "post_id": 42375470, "comment_id": 71904613, "body": "i will modify my answer to make it more relevant"}], "tags": [], "owner": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "is_accepted": false, "score": 2, "last_activity_date": 1487702680, "creation_date": 1487702680, "answer_id": 42375470, "question_id": 42375215, "link": "https://stackoverflow.com/questions/42375215/how-to-query-inside-json-using-typescript/42375470#42375470", "title": "How to query inside JSON using TypeScript?", "body": "<p>You can use lodash or underscore library for the json manipulation which will work perfectly in typescript</p>\n\n<ul>\n<li>lodash <a href=\"https://lodash.com/docs/4.17.4\" rel=\"nofollow noreferrer\">link</a></li>\n<li>underscore <a href=\"http://underscorejs.org/\" rel=\"nofollow noreferrer\">link</a></li>\n</ul>\n\n<p>There are also 3/4 native ES6 object functions available in typescript which will help you here in case you don't want to use any 3rd party library.</p>\n\n<ul>\n<li>map</li>\n<li>reduce</li>\n<li>filter</li>\n<li>forEach</li>\n</ul>\n"}], "owner": {"reputation": 1156, "user_id": 6435458, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/a01aedb8d649c171928ef6f7a4c3e394?s=128&d=identicon&r=PG&f=1", "display_name": "Natanael", "link": "https://stackoverflow.com/users/6435458/natanael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1072, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487703558, "creation_date": 1487701877, "last_edit_date": 1487703558, "question_id": 42375215, "link": "https://stackoverflow.com/questions/42375215/how-to-query-inside-json-using-typescript", "title": "How to query inside JSON using TypeScript?", "body": "<p>I need to access objects and values inside a JSON using TypeScript.</p>\n\n<p>I did some research and found this library: </p>\n\n<p><a href=\"https://www.npmjs.com/package/json-query\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/json-query</a></p>\n\n<p>Are there any other similar, more powerful libraries available?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 2465, "user_id": 7447071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68101d569bf7fd96842bbde8dfaa8d1f?s=128&d=identicon&r=PG&f=1", "display_name": "mickdev", "link": "https://stackoverflow.com/users/7447071/mickdev"}, "edited": false, "score": 0, "creation_date": 1487703250, "post_id": 42374928, "comment_id": 71900446, "body": "Are you trying to mock your service ? If not why <code>{provide:&#39;content&#39;,useClass:ContentService}</code> and not simply <code>ContentService</code> ? As you pointed out your second syntax works because providing only ContentService is the way to go. This expression is not used <code>{provide:&#39;content&#39;,useClass:ContentService}</code> I think. Also, if your service has already the decorator <code>@Injectable()</code>, you don&#39;t need to inject it in the constructor  of the component"}, {"owner": {"reputation": 494, "user_id": 4331770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b347adb5c7ada59a0a764968983b07be?s=128&d=identicon&r=PG&f=1", "display_name": "velsim", "link": "https://stackoverflow.com/users/4331770/velsim"}, "reply_to_user": {"reputation": 2465, "user_id": 7447071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68101d569bf7fd96842bbde8dfaa8d1f?s=128&d=identicon&r=PG&f=1", "display_name": "mickdev", "link": "https://stackoverflow.com/users/7447071/mickdev"}, "edited": false, "score": 0, "creation_date": 1487708143, "post_id": 42374928, "comment_id": 71903212, "body": "I&#39;m new to Angular 2 so there are still stuff I don&#39;t completely understand. What I was trying to do was to use content as the place holder for the ContentService. I thought this might help avoid manually importing the service class into my component. I&#39;ll work on your suggestion about the @injectable annotation."}, {"owner": {"reputation": 2465, "user_id": 7447071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68101d569bf7fd96842bbde8dfaa8d1f?s=128&d=identicon&r=PG&f=1", "display_name": "mickdev", "link": "https://stackoverflow.com/users/7447071/mickdev"}, "edited": false, "score": 0, "creation_date": 1487708816, "post_id": 42374928, "comment_id": 71903522, "body": "Ok, you should take a look to the service tutorial then : <a href=\"https://angular.io/docs/ts/latest/tutorial/toh-pt4.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/tutorial/toh-pt4.html</a>"}], "owner": {"reputation": 494, "user_id": 4331770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b347adb5c7ada59a0a764968983b07be?s=128&d=identicon&r=PG&f=1", "display_name": "velsim", "link": "https://stackoverflow.com/users/4331770/velsim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 196, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1487702817, "creation_date": 1487700936, "last_edit_date": 1487702817, "question_id": 42374928, "link": "https://stackoverflow.com/questions/42374928/weird-issue-with-angular-providers", "title": "Weird issue with Angular Providers", "body": "<p>I've just started working on Angular2 and I have  my app.module.ts</p>\n\n<pre><code>    ...\n    ],\nproviders: [\n    {provide:'content',useClass:ContentService}\n\n],\n....\n</code></pre>\n\n<p>where I define my literal for my Service Class</p>\n\n<p>And I tried to inject 'content' in my component class like this </p>\n\n<pre><code>    export class DashboardComponent implements OnInit {\nconstructor( @Inject('content') private contentService ) { }\n</code></pre>\n\n<p>I get an error saying 'No provider for ContentService!'</p>\n\n<p>But when I modify my app.module.ts to </p>\n\n<pre><code>    ...\n    ],\nproviders: [\n    {provide:'content',useClass:ContentService},ContentService\n\n],\n....\n</code></pre>\n\n<p>It works perfectly. For the life of me, I cannot understand this issue. </p>\n"}, {"tags": ["angular", "redirect", "typescript", "angular-routing"], "comments": [{"owner": {"reputation": 1004, "user_id": 2233782, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/guRK2.jpg?s=128&g=1", "display_name": "Jared Clemence", "link": "https://stackoverflow.com/users/2233782/jared-clemence"}, "edited": false, "score": 0, "creation_date": 1487701087, "post_id": 42374881, "comment_id": 71899146, "body": "(1) Have you tried looking at the server responses in the network traffic tab of your browser&#39;s dev-environment?  (2) Have you inserted console.log() statements to verify a) that the success function is called each time, b) that the result object is properly configured in all instances and c) that the error function is not being executed?   I am very interested in helping you resolve this, please let me know about the above."}], "answers": [{"comments": [{"owner": {"reputation": 521, "user_id": 1765182, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4f92dd1712e8628d0e07c4cd242b82b7?s=128&d=identicon&r=PG", "display_name": "fred00", "link": "https://stackoverflow.com/users/1765182/fred00"}, "edited": false, "score": 1, "creation_date": 1487705584, "post_id": 42375117, "comment_id": 71901723, "body": "authenticationService also makes a HTTP request and that was the problem. Thanks!"}, {"owner": {"reputation": 1004, "user_id": 2233782, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/guRK2.jpg?s=128&g=1", "display_name": "Jared Clemence", "link": "https://stackoverflow.com/users/2233782/jared-clemence"}, "reply_to_user": {"reputation": 521, "user_id": 1765182, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4f92dd1712e8628d0e07c4cd242b82b7?s=128&d=identicon&r=PG", "display_name": "fred00", "link": "https://stackoverflow.com/users/1765182/fred00"}, "edited": false, "score": 0, "creation_date": 1487705800, "post_id": 42375117, "comment_id": 71901842, "body": "No problem! That is what this community is here for :)"}], "tags": [], "owner": {"reputation": 1004, "user_id": 2233782, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/guRK2.jpg?s=128&g=1", "display_name": "Jared Clemence", "link": "https://stackoverflow.com/users/2233782/jared-clemence"}, "is_accepted": true, "score": 1, "last_activity_date": 1487701518, "creation_date": 1487701518, "answer_id": 42375117, "question_id": 42374881, "link": "https://stackoverflow.com/questions/42374881/angular-2-does-not-redirect-after-login/42375117#42375117", "title": "Angular 2 does not redirect after login", "body": "<p>The fact that your page sometimes redirects and sometimes does not is of great interest to me. Because it redirects sometimes, we can assume, for now, that the code you have displayed is correct and that the problem lay in the <code>authenticationService</code>.</p>\n\n<p>Use console logging to carefully inspect the results and the order in which they appear.  Add lines like: <code>console.log('initializing login request')</code>, <code>console.log('success function called with result object', result)</code>, <code>console.log('inside success function with \\'this\\' object, this)</code>,<code>console.log('error function called with error', error)</code>.</p>\n\n<p>This helps to review the values of the variables as they are appearing, and more importantly, you can also see when no function is executed at all... investigate these instances more thoroughly!</p>\n\n<p>Make sure that while you do this you are reviewing the Network tab of your browser's development console.  Look at the message you are sending to ensure it is properly formatted. Look at the response. Did a response come back?  Was it formatted well?  Could there be a parsing error?  These are usually the points where my code fails.</p>\n\n<p>In my code, the failure is often either a failed server response (no response at all) or a badly formatted one.  Sometimes the server adds error text to my JSON, and the JSON becomes non-parsable.  This gives me reason to find the error in the server-side code and that fixes everything.  Or it gives me reason to check the web server settings to ensure that my server has not failed or that the packets are being received and processed correctly.</p>\n\n<p>I will update this answer as I learn more about your situation.  Good luck!</p>\n"}], "owner": {"reputation": 521, "user_id": 1765182, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4f92dd1712e8628d0e07c4cd242b82b7?s=128&d=identicon&r=PG", "display_name": "fred00", "link": "https://stackoverflow.com/users/1765182/fred00"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 396, "favorite_count": 0, "accepted_answer_id": 42375117, "answer_count": 1, "score": 0, "last_activity_date": 1487701518, "creation_date": 1487700789, "question_id": 42374881, "link": "https://stackoverflow.com/questions/42374881/angular-2-does-not-redirect-after-login", "title": "Angular 2 does not redirect after login", "body": "<p>I am trying to redirect user after successful login. Here is the code:</p>\n\n<pre><code>login(event) {\n\nevent.preventDefault();\n\nthis.error = '';\nthis.loading = true;\n\nthis.authenticationService.login(this.user.email, this.user.password)\n    .subscribe(result =&gt; {\n\n      if (!result) {\n        this.loginError();\n        return;\n      }\n\n      this.loginSuccess();\n\n    },\n    err =&gt; {\n      this.loginError();\n    });\n\n}\n</code></pre>\n\n<p>The authenticationService.login() method makes a HTTP POST. The loginSuccess() method is this one:</p>\n\n<pre><code>private loginSuccess() {\n      this.router.navigate(['/app/dashboard']);\n}\n</code></pre>\n\n<p>It seems this problem is something related with asynchronous methods once if I try to log in again it redirects. But, as far as I can tell, the router.navigate is only called after the request returns.</p>\n\n<p>I noticed router.navigate() returns a ZoneAwarePromisse object. If it successfully redirects the object looks like:</p>\n\n<pre><code>__zone_symbol__state:true\n__zone_symbol__value:true\n</code></pre>\n\n<p>However the failed one looks like:</p>\n\n<pre><code>__zone_symbol__state:true\n__zone_symbol__value:false\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular2-zone"], "comments": [{"owner": {"reputation": 3543, "user_id": 3763916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5jbLK.jpg?s=128&g=1", "display_name": "dlcardozo", "link": "https://stackoverflow.com/users/3763916/dlcardozo"}, "edited": false, "score": 1, "creation_date": 1487697532, "post_id": 42373719, "comment_id": 71897139, "body": "Have you tried with <code>@Inject(NgZone) private zone: NgZone</code> and the same for <code>ElementRef</code>?"}, {"owner": {"reputation": 2163, "user_id": 1555548, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7d7c952dce99f670c14dcc66e09f516e?s=128&d=identicon&r=PG", "display_name": "AngularOne", "link": "https://stackoverflow.com/users/1555548/angularone"}, "reply_to_user": {"reputation": 3543, "user_id": 3763916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5jbLK.jpg?s=128&g=1", "display_name": "dlcardozo", "link": "https://stackoverflow.com/users/3763916/dlcardozo"}, "edited": false, "score": 0, "creation_date": 1487697773, "post_id": 42373719, "comment_id": 71897273, "body": "OMG! you just saved me about half a day of wondering why it doesn&#39;t work. Thank you so MUCH!!!!!"}, {"owner": {"reputation": 2163, "user_id": 1555548, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7d7c952dce99f670c14dcc66e09f516e?s=128&d=identicon&r=PG", "display_name": "AngularOne", "link": "https://stackoverflow.com/users/1555548/angularone"}, "reply_to_user": {"reputation": 3543, "user_id": 3763916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5jbLK.jpg?s=128&g=1", "display_name": "dlcardozo", "link": "https://stackoverflow.com/users/3763916/dlcardozo"}, "edited": false, "score": 0, "creation_date": 1487697822, "post_id": 42373719, "comment_id": 71897317, "body": "I will be happy to understand why the @inject is neccary here, since if I don&#39;t downgrade it will work fine"}, {"owner": {"reputation": 3543, "user_id": 3763916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5jbLK.jpg?s=128&g=1", "display_name": "dlcardozo", "link": "https://stackoverflow.com/users/3763916/dlcardozo"}, "edited": false, "score": 0, "creation_date": 1487698336, "post_id": 42373719, "comment_id": 71897628, "body": "this seems to be an issue with the injector, but I have never tried to use a component in a downgrade like that one, I don&#39;t know if you have a way to declare the providers in angular 1, or maybe just adding the $inject = [NgModule] will work, don&#39;t know."}], "answers": [{"tags": [], "owner": {"reputation": 3543, "user_id": 3763916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5jbLK.jpg?s=128&g=1", "display_name": "dlcardozo", "link": "https://stackoverflow.com/users/3763916/dlcardozo"}, "is_accepted": true, "score": 3, "last_activity_date": 1487698741, "last_edit_date": 1487698741, "creation_date": 1487698144, "answer_id": 42374049, "question_id": 42373719, "link": "https://stackoverflow.com/questions/42373719/angular-2-downgrade-component-why-the-constructor-params-bring-this-error-sys/42374049#42374049", "title": "angular 2 downgrade component: Why the constructor params bring this error: (SystemJS) Can&#39;t resolve all parameters for (?)", "body": "<p>DI has to be provided by the module, it will be inherited by lower modules.</p>\n\n<p>I have never tried to use a downgrade like that one, but seems to be an issue with the way to provide the classes to inject, maybe the mechanism for that doesn't exists when you are running the component on this way.</p>\n\n<p>Try with <code>@Inject(NgZone) private zone: NgZone</code> and <code>@Inject(ElementRef) elementRef: ElementRef</code></p>\n\n<p>Happy coding!</p>\n"}], "owner": {"reputation": 2163, "user_id": 1555548, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7d7c952dce99f670c14dcc66e09f516e?s=128&d=identicon&r=PG", "display_name": "AngularOne", "link": "https://stackoverflow.com/users/1555548/angularone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 507, "favorite_count": 0, "accepted_answer_id": 42374049, "answer_count": 1, "score": 2, "last_activity_date": 1487698741, "creation_date": 1487697058, "last_edit_date": 1487697366, "question_id": 42373719, "link": "https://stackoverflow.com/questions/42373719/angular-2-downgrade-component-why-the-constructor-params-bring-this-error-sys", "title": "angular 2 downgrade component: Why the constructor params bring this error: (SystemJS) Can&#39;t resolve all parameters for (?)", "body": "<p>See for example this line:    </p>\n\n<pre><code>constructor(private elementRef: ElementRef, private zone: NgZone) {}\n</code></pre>\n\n<p>I need to remove the parmas from the constructor in order for the <em>downgrade</em> to work with no error. Else I get </p>\n\n<blockquote>\n  <p>(SystemJS) Can't resolve all parameters for (?)</p>\n</blockquote>\n\n<p>So I found a way to remove element ref with:</p>\n\n<pre><code>@ViewChild('myname') divElementRef:ElementRef;\n</code></pre>\n\n<p>But I don't find any solution how to declare the NgZone, I always get it is undefined and I can do \"run\" with it. If someone know how I can create instance of ngZone outside the constructor it will help, or may explain the error I get while downgrade componenet.</p>\n\n<p>Are the constructor params should be part ot the input I declare while downgrade a component? </p>\n\n<pre><code>angular.module('myModule').directive('myLabel', downgradeComponent({component: MyLabelComponent, inputs: ['text'] }) as angular.IDirectiveFactory)\n</code></pre>\n\n<p>if the constructor of <strong>MyLableComponent</strong> look like this:</p>\n\n<pre><code>constructor(private elementRef: ElementRef) {}\n</code></pre>\n\n<p>I will get the error message. Hope someone can explain why. While removing the constructor parmas everything will work fine.</p>\n"}, {"tags": ["javascript", "typescript", "sonarqube", "istanbul"], "answers": [{"comments": [{"owner": {"reputation": 381, "user_id": 1767489, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0d61a681392edde36f6c5819ec96df8c?s=128&d=identicon&r=PG", "display_name": "NGN", "link": "https://stackoverflow.com/users/1767489/ngn"}, "edited": false, "score": 0, "creation_date": 1504715061, "post_id": 42376473, "comment_id": 79121698, "body": "I configured like above, but I am getting the error,  ERROR: Error during SonarQube Scanner execution ERROR: Language of file &#39;src/app/Mvr/mvr.****.****.ts&#39; can not be decided as the file matches patterns of both sonar.lang.patterns.ts : <i>*/</i>.ts,<i>*/</i>.tsx and sonar.lang.patterns.js : <i>*/</i>.js,<i>*/</i>.jsx,<i>*/</i>.vue,<i>*/</i>.ts ERROR:  ERROR: Re-run SonarQube Scanner using the -X switch to enable full debug logging. Set build name. and sonarqube scanner failed. I am using sonarqube 5.6  could you help me on this."}], "tags": [], "owner": {"reputation": 20794, "user_id": 2662707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ruzzB.jpg?s=128&g=1", "display_name": "G. Ann - SonarSource Team", "link": "https://stackoverflow.com/users/2662707/g-ann-sonarsource-team"}, "is_accepted": true, "score": 3, "last_activity_date": 1487706070, "creation_date": 1487706070, "answer_id": 42376473, "question_id": 42372969, "link": "https://stackoverflow.com/questions/42372969/how-to-tell-sonar-to-analyze-ts-files-instead-of-js-files/42376473#42376473", "title": "How to tell Sonar to analyze *.ts files instead of *.js files", "body": "<p>This isn't configured in <em>sonar-project.properties</em> but through the GUI: <strong>Administration > General Settings > SonarJS > File Suffixes</strong></p>\n"}], "owner": {"reputation": 43, "user_id": 7599983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7107bc71e4116434b5327ee461998a0?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Sanches", "link": "https://stackoverflow.com/users/7599983/mr-sanches"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2601, "favorite_count": 1, "accepted_answer_id": 42376473, "answer_count": 1, "score": 2, "last_activity_date": 1487706070, "creation_date": 1487694919, "last_edit_date": 1487700011, "question_id": 42372969, "link": "https://stackoverflow.com/questions/42372969/how-to-tell-sonar-to-analyze-ts-files-instead-of-js-files", "title": "How to tell Sonar to analyze *.ts files instead of *.js files", "body": "<p>In my project there is sonar scanner which is analyzing only *.js files (probably there is such configuration or so on). Also I have istanbul code coverage which generates a perfect lcov file with the results. </p>\n\n<p>This lcov file has references to *.ts files which are not analyzed by Sonar. So the question is how to tell Sonar to analyze *.ts files instead of *.js files? </p>\n\n<p>Now i'm getting somthing like this - </p>\n\n<pre><code>Could not resolve 10 file paths in [coverage.lcov], first unresolved path: \n[path]/test.ts . \n</code></pre>\n\n<p>I would really appreciate any help and it will be super if someone can share their working configuration file <code>sonar-project.properties</code>.</p>\n"}, {"tags": ["oop", "typescript", "mongoose"], "comments": [{"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1487697118, "post_id": 42372406, "comment_id": 71896875, "body": "How about this: <a href=\"https://gist.github.com/masahirompp/3c012c8721b70821fa45\" rel=\"nofollow noreferrer\">gist.github.com/masahirompp/3c012c8721b70821fa45</a> ? It uses a class (<code>User</code>) to wrap the document interface (<code>IUser</code>)"}, {"owner": {"reputation": 71, "user_id": 1104341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bac560ed7ce679f75d8c55c90ed570ce?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1104341/michael"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1488270667, "post_id": 42372406, "comment_id": 72145270, "body": "The comments in that post say it doesn&#39;t compile.  The idea is interesting but I&#39;m really surprised people didn&#39;t get it to work and I&#39;m even more surprised that there are not more answers to this question - which leads me to believe this is not something that is done in the JS/TS Mongoose world.  I find that disappointing."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1488271018, "post_id": 42372406, "comment_id": 72145476, "body": "It&#39;s doable, I&#39;ve done it before. But the thing is that it&#39;s a very specific solution based on the model you have. There&#39;s no generic way. You basically need to have an interface per document which is used with mongoose and then a class to wrap it, then you only use the class."}], "owner": {"reputation": 71, "user_id": 1104341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bac560ed7ce679f75d8c55c90ed570ce?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1104341/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 485, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1487693447, "creation_date": 1487693447, "question_id": 42372406, "link": "https://stackoverflow.com/questions/42372406/how-to-use-object-oriented-design-with-mongoose-objects", "title": "How to use object-oriented design with Mongoose objects", "body": "<p>I'm new to Javascript &amp; Typescript, I'm used to doing objected-oriented design in Java where we put the behavior in the same class as the data when possible.  I'm not sure how to do this with mongoose.</p>\n\n<p>As an example, this is some code that I found on my current project (simplified for this example) :</p>\n\n<pre><code>// get production object from mongo\nconst production = await ProductionModel\n  .findOne({_id: id}).exec();\n\n// update the data\nif (this.isNumber(unsold)) {\n  production.unsold = unsold;\n}\n\n// do some data checking\nif (production.unsold &lt; 0) {\n  throw new Error('Unsold must be &gt;= 0');\n}\nif (production.productions.length &lt; production.unsold + production.mistakes) {\n  throw new Error('INCOHERENCE_BETWEEN_PRODUCTION_AND_UNSOLD');\n}\n\n// save the production object\nawait production.save();\n</code></pre>\n\n<p>In Java I would use setters to validate the data so that this is done in one place (in the Production object) and re-usable by all.  Is this possible with Mongoose?  For example, I'd like to create a setter for mistakes.  Inside this method I'd verify it's > 0 and that the sum of mistakes + unsold is not less than productions.  </p>\n\n<p>I can define that but I have an interface and a schema, where does the setter go?  It seems I can't add it to the interface so I'd have to make that a class (why does everyone use interfaces with mongoose instead of classes?).  If I add it to the schema it will be available in the model, but in most of my code I try to avoid using the model and stick to my interface.  And now I'm confused. ;)</p>\n\n<p>Is this even common in type typescript world?  I've searched about this but I haven't found a solution so I have the impression this is not how it's done in typescript.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 47878, "user_id": 3661630, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/duAJH.png?s=128&g=1", "display_name": "pixelbits", "link": "https://stackoverflow.com/users/3661630/pixelbits"}, "edited": false, "score": 1, "creation_date": 1487693450, "post_id": 42372234, "comment_id": 71894370, "body": "can you share what the error is?"}, {"owner": {"reputation": 123, "user_id": 7031137, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/320211431668090/picture?type=large", "display_name": "Android coder", "link": "https://stackoverflow.com/users/7031137/android-coder"}, "reply_to_user": {"reputation": 47878, "user_id": 3661630, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/duAJH.png?s=128&g=1", "display_name": "pixelbits", "link": "https://stackoverflow.com/users/3661630/pixelbits"}, "edited": false, "score": 0, "creation_date": 1487694693, "post_id": 42372234, "comment_id": 71895239, "body": "Ive added the error"}, {"owner": {"reputation": 47878, "user_id": 3661630, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/duAJH.png?s=128&g=1", "display_name": "pixelbits", "link": "https://stackoverflow.com/users/3661630/pixelbits"}, "edited": false, "score": 0, "creation_date": 1487695782, "post_id": 42372234, "comment_id": 71896006, "body": "That&#39;s a useful tidbit of information. The op is referring to an existing module: <a href=\"http://primefaces.org/primeng/#/contextmenu\" rel=\"nofollow noreferrer\">primefaces.org/primeng/#/contextmenu</a>"}, {"owner": {"reputation": 123, "user_id": 7031137, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/320211431668090/picture?type=large", "display_name": "Android coder", "link": "https://stackoverflow.com/users/7031137/android-coder"}, "reply_to_user": {"reputation": 47878, "user_id": 3661630, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/duAJH.png?s=128&g=1", "display_name": "pixelbits", "link": "https://stackoverflow.com/users/3661630/pixelbits"}, "edited": false, "score": 0, "creation_date": 1487696085, "post_id": 42372234, "comment_id": 71896216, "body": "Yes it pretty annoying having to duplicate all these existing modules all over in all modules it defeats the real essence of modularity in angular2"}, {"owner": {"reputation": 47878, "user_id": 3661630, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/duAJH.png?s=128&g=1", "display_name": "pixelbits", "link": "https://stackoverflow.com/users/3661630/pixelbits"}, "edited": false, "score": 0, "creation_date": 1487696206, "post_id": 42372234, "comment_id": 71896303, "body": "You could export the ContextMenuModule module from your AppModule, but not sure if you want your users to have access to the entire module."}, {"owner": {"reputation": 123, "user_id": 7031137, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/320211431668090/picture?type=large", "display_name": "Android coder", "link": "https://stackoverflow.com/users/7031137/android-coder"}, "reply_to_user": {"reputation": 47878, "user_id": 3661630, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/duAJH.png?s=128&g=1", "display_name": "pixelbits", "link": "https://stackoverflow.com/users/3661630/pixelbits"}, "edited": false, "score": 0, "creation_date": 1487696867, "post_id": 42372234, "comment_id": 71896723, "body": "Ive added contextmenumodule in exports like this exports:[ContextMenuModule] but still doesnt work, how do i export it"}, {"owner": {"reputation": 123, "user_id": 7031137, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/320211431668090/picture?type=large", "display_name": "Android coder", "link": "https://stackoverflow.com/users/7031137/android-coder"}, "reply_to_user": {"reputation": 47878, "user_id": 3661630, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/duAJH.png?s=128&g=1", "display_name": "pixelbits", "link": "https://stackoverflow.com/users/3661630/pixelbits"}, "edited": false, "score": 0, "creation_date": 1487696933, "post_id": 42372234, "comment_id": 71896765, "body": "Ive updated the question with the export"}], "owner": {"reputation": 123, "user_id": 7031137, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/320211431668090/picture?type=large", "display_name": "Android coder", "link": "https://stackoverflow.com/users/7031137/android-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 266, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1487696910, "creation_date": 1487692992, "last_edit_date": 1487696910, "question_id": 42372234, "link": "https://stackoverflow.com/questions/42372234/angular2-modules-root-modules-import-fails", "title": "Angular2 modules root modules import fails", "body": "<p>I have three modules </p>\n\n<pre><code>Appmodule, usersmodule and safetymodule\n</code></pre>\n\n<p>The appmodule is the root module whereby i have imported both users and safety modules as</p>\n\n<p>am also using primeng2 contextmenu which requires that i import</p>\n\n<pre><code>ContextMenuModule\n</code></pre>\n\n<p>The problem comes in the users module where i have to import the context module again and yet ive already imported it in the app module as shown below</p>\n\n<pre><code>@NgModule({\n  declarations: [\n    AppComponent,\n  ],\n imports: [\n   BrowserModule,\n   FormsModule,\n   DashboardModule,\n   SafetyModule,\n   ContextMenuModule, //added this here\n   UsersModule,\n ],\n exports: [BrowserModule,ToastyModule,SlimLoadingBarModule,ContextMenuModule],\n\n bootstrap: [AppComponent]\n })\nexport class AppModule { }\n</code></pre>\n\n<p>In the users module when i fail to import the ContextModule an error is thrown </p>\n\n<p>Where am i going wrong since by having to import modules in every module is rather alot of duplication which i believe angular2 ngModule is supposed to solve</p>\n\n<p>What else do i need to add</p>\n\n<p>UPDATE\nthis is the way am adding the context menu</p>\n\n<pre><code>   &lt;p-contextMenu  #cm [model]=\"menuitems\"&gt;&lt;/p-contextMenu&gt;\n</code></pre>\n\n<p>The error which result when i fail to import ContextMenu in usersmodule is:</p>\n\n<pre><code>If 'p-contextMenu' is an Angular component and it has 'model' input\n , then verify that it is part of this module.\n</code></pre>\n\n<p>The error is cleared when i import contextmenu in users module but am much worried about the code duplication for the imported modules  </p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1487694537, "post_id": 42372408, "comment_id": 71895118, "body": "Thanks, I didn&#39;t think of using function overloads like this."}, {"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "reply_to_user": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1487696035, "post_id": 42372408, "comment_id": 71896191, "body": "I edited with the idea of the other contributor. The type <code>Function</code> is too wide. Your wrapped function must be of type: <code>(...args: any[]) =&gt; any</code>."}, {"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1487699983, "post_id": 42372408, "comment_id": 71898543, "body": "Interesting, I tried <code>F extends (...args: any[]) =&gt; any</code> with my original code and it still didn&#39;t allow me to return even with that exact signature for some reason, and <code>as F</code> didn&#39;t work with <code>F extends Function</code>. Honestly, I don&#39;t understand why this is different, but it works."}, {"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "reply_to_user": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1487743207, "post_id": 42372408, "comment_id": 71916167, "body": "My idea was: <code>Function</code> are objects, they can have extra members. For example, a function interface: <code>interface setNameFn { (data: string): void; otherMember: string; }</code>. Your wrapper doesn&#39;t implement this case, and I wanted to provide a way for the compiler to control this case. But, after some tests, it seems that <code>log</code> accepts functions of type <code>setNameFn</code>. So, the better choice is maybe the easiest to read, with <code>Function</code> and <code>as any</code> instead of <code>(...args: any[]) =&gt; any</code> and <code>as F</code>."}], "tags": [], "owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "is_accepted": true, "score": 2, "last_activity_date": 1487743984, "last_edit_date": 1487743984, "creation_date": 1487693453, "answer_id": 42372408, "question_id": 42372219, "link": "https://stackoverflow.com/questions/42372219/how-to-properly-type-a-higher-order-function/42372408#42372408", "title": "How to properly type a higher order function", "body": "<h1>With a function overload</h1>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/functions.html#overloads\" rel=\"nofollow noreferrer\">Function overloads</a> can be used. It is a way to separate the definition from the implementation:</p>\n\n<pre><code>function log&lt;F extends Function&gt;(fn: F): F\nfunction log(fn: Function) {\n    return (...args) =&gt; {\n        console.log(\"Calling\", fn.name);\n        return fn(...args);\n    }\n}\n</code></pre>\n\n<p>I like the overload version because it helps to produce TypeScript definitions when the module is distributed as a precompiled NPM package.</p>\n\n<h1>With a type assertion <code>as F</code></h1>\n\n<p>The type <code>Function</code> is too wide. Your wrapped function must be a subtype of: <code>(...args: any[]) =&gt; any</code>.</p>\n\n<p>You can use <code>as F</code> in order to say to TypeScript to be confident to the returned function:</p>\n\n<pre><code>function log&lt;F extends (...args: any[]) =&gt; any&gt;(fn: F): F {\n    return ((...args: any[]) =&gt; {\n        console.log(\"Calling\", fn.name);\n        return fn(...args);\n    }) as F\n}\n</code></pre>\n\n<h1>With a type assertion <code>as any</code></h1>\n\n<p>Same implementation but we can use <code>Function</code> and <code>as any</code> instead of <code>(...args: any[]) =&gt; any</code> and <code>as F</code> (see the Louis's answer).</p>\n"}, {"comments": [{"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1487700488, "post_id": 42374028, "comment_id": 71898804, "body": "Thanks, I found this works but I don&#39;t like using <code>as any</code>... also, why doesn&#39;t <code>as Function</code> work?"}, {"owner": {"reputation": 127411, "user_id": 1906307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kRxnP.jpg?s=128&g=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/1906307/louis"}, "reply_to_user": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1487703096, "post_id": 42374028, "comment_id": 71900350, "body": "Using <code>as any</code> is not any worse than using <code>as F</code> as in the other answer. Either way, you are telling the compiler &quot;trust me, I know what I&#39;m doing&quot;. <code>as Function</code> cannot work because <code>F</code> is determined by the parameter you are passing. to <code>log</code>. If <code>F</code> is an extension of <code>Function</code> assigning an object of type <code>F</code> to a variable that can take objects of type <code>Function</code> is perfectly fine, but assigning an object of type <code>Function</code> to a variable that can take objects of type <code>F</code> is not okay. You are essentially trying to do the latter if you use <code>as Function</code> instead of <code>as any</code>."}, {"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1487709537, "post_id": 42374028, "comment_id": 71903941, "body": "I see, thanks for the explanation. Basically it&#39;s because you can&#39;t assign a base-type to a sub-type."}], "tags": [], "owner": {"reputation": 127411, "user_id": 1906307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kRxnP.jpg?s=128&g=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/1906307/louis"}, "is_accepted": false, "score": 2, "last_activity_date": 1487698069, "creation_date": 1487698069, "answer_id": 42374028, "question_id": 42372219, "link": "https://stackoverflow.com/questions/42372219/how-to-properly-type-a-higher-order-function/42374028#42374028", "title": "How to properly type a higher order function", "body": "<p>The most straightforward modification you can make is to force the type of your return value to <code>any</code>:</p>\n\n<pre><code>function log&lt;F extends Function&gt;(fn: F): F {\n  return ((...args: any[]) =&gt; {\n    console.log(\"Calling\", fn.name);\n    return fn(...args);\n  }) as any;\n}\n</code></pre>\n\n<p>This compiles file, and doing this, your <code>setName</code> function will have the same signature as what you pass to <code>log</code>.</p>\n"}], "owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2348, "favorite_count": 1, "accepted_answer_id": 42372408, "answer_count": 2, "score": 1, "last_activity_date": 1487743984, "creation_date": 1487692966, "question_id": 42372219, "link": "https://stackoverflow.com/questions/42372219/how-to-properly-type-a-higher-order-function", "title": "How to properly type a higher order function", "body": "<p>I have a higher order function, for example in vanilla JS like this:</p>\n\n<pre><code>function log(fn) {\n  return (...args) =&gt; {\n    console.log(\"Calling\", fn.name);\n    return fn(...args);\n  }\n}\n</code></pre>\n\n<p>And used like this:</p>\n\n<pre><code>let name;\nconst setName = log((newName) =&gt; {\n   name = newName;\n});\nsetName(\"Hello\"); // output \"Calling setName\"\n</code></pre>\n\n<p>How can I properly type this in TS such that <code>setName</code> has the correct function signature? Meaning:</p>\n\n<pre><code>setName(\"hello\") // OK\nsetName() // Error, missing arg\nsetName(123) // Error, number not string\n</code></pre>\n\n<p>What I've come up with so far is:</p>\n\n<pre><code>function log&lt;F extends Function&gt;(fn: F): F {\n  return (...args: any[]) =&gt; {\n    console.log(\"Calling\", fn.name);\n    return fn(...args);\n  }\n}\n\nlet name;\nconst setName = log((newName: string) =&gt; {\n  name = newName;\n});\n</code></pre>\n\n<p>Which works the way I want (I get argument type checking on <code>setName</code>) but I get a compile error on the <code>log</code> function return:</p>\n\n<blockquote>\n  <p>Error: TS2322:Type '(...args: any[]) => any' is not assignable to type 'F'.</p>\n</blockquote>\n\n<p>Even if I use <code>&lt;F extends (...args: any[]) =&gt; any&gt;</code> I get the same error. Basically, I don't know how to make the returned function satisfy the generic type <code>F</code>.</p>\n\n<p>How can I do this?</p>\n"}, {"tags": ["javascript", "angularjs", "typescript"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1487691574, "post_id": 42371674, "comment_id": 71892879, "body": "Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Key phrases: &quot;Search, and research&quot; and &quot;Explain ... any difficulties that have prevented you from solving it yourself&quot;."}, {"owner": {"reputation": 1739, "user_id": 6684914, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2f3788cbbcb1f547223f538c029f5259?s=128&d=identicon&r=PG&f=1", "display_name": "mysticalstick", "link": "https://stackoverflow.com/users/6684914/mysticalstick"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1487691665, "post_id": 42371674, "comment_id": 71892966, "body": "I&#39;ve looked at other questions and they seem to all require the use of ajax calls. I&#39;m using AngularJS so I was wondering if there&#39;s a way to do it in the promise resolution."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 2, "creation_date": 1487691828, "post_id": 42371674, "comment_id": 71893111, "body": "It&#39;s basic logic. <code>showSpinner(); someFunction.then((data) =&gt; { hideSpinner(); }, (err) =&gt; { hideSpinner(); });</code>"}, {"owner": {"reputation": 8572, "user_id": 4488121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7c1c5a992838023fa13b0fca96ff218?s=128&d=identicon&r=PG&f=1", "display_name": "lenilsondc", "link": "https://stackoverflow.com/users/4488121/lenilsondc"}, "edited": false, "score": 0, "creation_date": 1487692349, "post_id": 42371674, "comment_id": 71893530, "body": "It&#39;s too broad to answer but my best guess for a well elaborated system is to create some component directive that reacts to an event and show your spinner so that from your components you can emmit the event to show or hide your spinner. Also, I recommend you to implement a debounce for short operations not to require the spinner component to react on that."}, {"owner": {"reputation": 2465, "user_id": 7447071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68101d569bf7fd96842bbde8dfaa8d1f?s=128&d=identicon&r=PG&f=1", "display_name": "mickdev", "link": "https://stackoverflow.com/users/7447071/mickdev"}, "edited": false, "score": 0, "creation_date": 1487694013, "post_id": 42371674, "comment_id": 71894753, "body": "1-create a SpinnerComponent. 2-Create SpinnerService with two function show() and hide(). 3-provide the service in AppModule. 4-Import the service where you want to use it. 5- spinnerService.show() before your promise call. 6-spinnerService.hide() after your promise resolve and voila"}, {"owner": {"reputation": 1739, "user_id": 6684914, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2f3788cbbcb1f547223f538c029f5259?s=128&d=identicon&r=PG&f=1", "display_name": "mysticalstick", "link": "https://stackoverflow.com/users/6684914/mysticalstick"}, "edited": false, "score": 0, "creation_date": 1487701342, "post_id": 42371674, "comment_id": 71899274, "body": "sounds good thank you"}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1487899757, "creation_date": 1487899757, "answer_id": 42429218, "question_id": 42371674, "link": "https://stackoverflow.com/questions/42371674/typescript-show-loading-animation-while-waiting-for-promise/42429218#42429218", "title": "Typescript- show loading animation while waiting for promise", "body": "<blockquote>\n  <p>Sometimes the data takes a while to resolve in which case I would like to display a spinner (generic loading animation) while the promise is resolvin</p>\n</blockquote>\n\n<p>Use a variable to track it </p>\n\n<pre><code>loading = false\nsomeFunction.then((data) =&gt; {\n   //do stuff with resolved data from promise\n   loading = false;\n}, (err) =&gt; {\n   //do stuff with error\n   loading = false;\n});\n</code></pre>\n\n<p>How you use this <code>loading</code> variable to show a spinner depend on your choice of framework. Since you are using AngularJS recommend a property on your Controller bound to an <code>ng-if</code> in your template.</p>\n"}], "owner": {"reputation": 1739, "user_id": 6684914, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2f3788cbbcb1f547223f538c029f5259?s=128&d=identicon&r=PG&f=1", "display_name": "mysticalstick", "link": "https://stackoverflow.com/users/6684914/mysticalstick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1410, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487899757, "creation_date": 1487691483, "question_id": 42371674, "link": "https://stackoverflow.com/questions/42371674/typescript-show-loading-animation-while-waiting-for-promise", "title": "Typescript- show loading animation while waiting for promise", "body": "<p>In Typescript I normally have</p>\n\n<pre><code>someFunction.then((data) =&gt; {\n   //do stuff with resolved data from promise\n\n}, (err) =&gt; {\n   //do stuff with error\n});\n</code></pre>\n\n<p>Sometimes the <code>data</code> takes a while to resolve in which case I would like to display a spinner (generic loading animation) while the promise is resolving. How can I do this?</p>\n"}, {"tags": ["d3.js", "typescript", "systemjs"], "comments": [{"owner": {"reputation": 1032, "user_id": 4216004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efe074828279087bf739ba50da9e6237?s=128&d=identicon&r=PG&f=1", "display_name": "Hugues Stefanski", "link": "https://stackoverflow.com/users/4216004/hugues-stefanski"}, "edited": false, "score": 0, "creation_date": 1487707844, "post_id": 42371311, "comment_id": 71903045, "body": "Well, I guess this is not the reply you are looking for, but why SystemJS, in particular manually configured? JSPM could help in the configuration, and bundlers such as Webpack or Rollup (instead of SystemJS) made a great job for me. That&#39;s my two cents about it, can&#39;t provide much help..."}, {"owner": {"reputation": 9316, "user_id": 1269179, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dI0fU.png?s=128&g=1", "display_name": "Clem", "link": "https://stackoverflow.com/users/1269179/clem"}, "reply_to_user": {"reputation": 1032, "user_id": 4216004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efe074828279087bf739ba50da9e6237?s=128&d=identicon&r=PG&f=1", "display_name": "Hugues Stefanski", "link": "https://stackoverflow.com/users/4216004/hugues-stefanski"}, "edited": false, "score": 0, "creation_date": 1489597760, "post_id": 42371311, "comment_id": 72744766, "body": "Hi @HuguesStefanski, in fact I am now using webpack instead :)"}, {"owner": {"reputation": 1032, "user_id": 4216004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efe074828279087bf739ba50da9e6237?s=128&d=identicon&r=PG&f=1", "display_name": "Hugues Stefanski", "link": "https://stackoverflow.com/users/4216004/hugues-stefanski"}, "edited": false, "score": 0, "creation_date": 1489685286, "post_id": 42371311, "comment_id": 72790972, "body": "Any better luck? Or still struggling?"}, {"owner": {"reputation": 9316, "user_id": 1269179, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dI0fU.png?s=128&g=1", "display_name": "Clem", "link": "https://stackoverflow.com/users/1269179/clem"}, "reply_to_user": {"reputation": 1032, "user_id": 4216004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efe074828279087bf739ba50da9e6237?s=128&d=identicon&r=PG&f=1", "display_name": "Hugues Stefanski", "link": "https://stackoverflow.com/users/4216004/hugues-stefanski"}, "edited": false, "score": 0, "creation_date": 1489741108, "post_id": 42371311, "comment_id": 72812947, "body": "With webpack everything is just fine. For the configuration above I stopped trying due to lack of time :)"}, {"owner": {"reputation": 1032, "user_id": 4216004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efe074828279087bf739ba50da9e6237?s=128&d=identicon&r=PG&f=1", "display_name": "Hugues Stefanski", "link": "https://stackoverflow.com/users/4216004/hugues-stefanski"}, "edited": false, "score": 0, "creation_date": 1489831417, "post_id": 42371311, "comment_id": 72850710, "body": "Okay that&#39;s good to know"}], "owner": {"reputation": 9316, "user_id": 1269179, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dI0fU.png?s=128&g=1", "display_name": "Clem", "link": "https://stackoverflow.com/users/1269179/clem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 510, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1487690534, "creation_date": 1487690534, "question_id": 42371311, "link": "https://stackoverflow.com/questions/42371311/d3-v4-with-systemjs-and-typescript", "title": "D3 v4 with SystemJS and TypeScript", "body": "<p>I am trying to setup the newest version of d3 with SystemJS and TypeScript but seems like some puzzles don't fit together quite nice on my side.</p>\n\n<p><strong>Summary</strong></p>\n\n<p>Basically after I installed all dependencies and @types to node_modules I configured SystemJS to load those dependencies.</p>\n\n<p>Now the behavior is totally strange, like:</p>\n\n<ul>\n<li>By using <code>import * as d3 from 'd3';</code> I receive <code>ModuleNamespace</code></li>\n<li>By using <code>import d3 from 'd3';</code> I receive proper d3 object, but TS is complaining:\n\n<ul>\n<li><code>Module '\"ABSOLUTE_PATH/node_modules/@types/d3/index\"' has no default export.' at: '2,8' source: 'ts'</code></li>\n</ul></li>\n</ul>\n\n<p><strong>Code</strong></p>\n\n<p><em>systemjs.config.js</em></p>\n\n<pre>\n(function () {\n  SystemJS.config({\n    paths: {\n      'npm:': 'node_modules/'\n    },\n    packages: {\n      app: {\n        main: './main.ts',\n        defaultExtension: 'ts',\n        meta: {\n          '*.ts': {\n            loader: 'ts'\n          }\n        }\n      },\n      ts: {\n        main: 'plugin.js'\n      },\n      typescript: {\n        main: 'lib/typescript.js',\n        meta: {\n          'lib/typescript.js': {\n            exports: 'ts'\n          }\n        }\n      },\n\n      'd3': { \"main\": 'build/d3.min.js', \"defaultExtension\": \"js\"},\n      'd3-array': { \"main\": 'build/d3-array.min.js', \"defaultExtension\": \"js\"},\n      'd3-axis': { \"main\": 'build/d3-axis.min.js', \"defaultExtension\": \"js\"},\n      'd3-collection': { \"main\": 'build/d3-collection.js', \"defaultExtension\": \"js\"},\n      'd3-color': { \"main\": 'build/d3-color.min.js', \"defaultExtension\": \"js\"},\n      'd3-dispatch': { \"main\": 'build/d3-dispatch.min.js', \"defaultExtension\": \"js\"},\n      'd3-ease': { \"main\": 'build/d3-ease.min.js', \"defaultExtension\": \"js\"},\n      'd3-format': { \"main\": 'build/d3-format.min.js', \"defaultExtension\": \"js\"},\n      'd3-interpolate': { \"main\": 'build/d3-interpolate.min.js', \"defaultExtension\": \"js\"},\n      'd3-path': { \"main\": 'build/d3-path.min.js', \"defaultExtension\": \"js\"},\n      'd3-scale': { \"main\": 'build/d3-scale.min.js', \"defaultExtension\": \"js\"},\n      'd3-selection': { \"main\": 'build/d3-selection.min.js', \"defaultExtension\": \"js\"},\n      'd3-shape': { \"main\": 'build/d3-shape.min.js', \"defaultExtension\": \"js\"},\n      'd3-time': { \"main\": 'build/d3-time.min.js', \"defaultExtension\": \"js\"},\n      'd3-time-format': { \"main\": 'build/d3-time-format.min.js', \"defaultExtension\": \"js\"},\n      'd3-timer': { \"main\": 'build/d3-timer.min.js', \"defaultExtension\": \"js\"},\n      'd3-transition': { \"main\": 'build/d3-transition.min.js', \"defaultExtension\": \"js\"}\n\n    },\n    map: {\n      app: 'src',\n\n      'ts':                        'npm:plugin-typescript/lib',\n      'typescript':                'npm:typescript',\n\n      'd3':                        'npm:d3',\n      'd3-array': 'npm:d3-array/',\n      'd3-axis': 'npm:d3-axis/',\n      'd3-collection': 'npm:d3-collection/',\n      'd3-color': 'npm:d3-color/',\n      'd3-dispatch': 'npm:d3-dispatch/',\n      'd3-ease': 'npm:d3-ease/',\n      'd3-format': 'npm:d3-format/',\n      'd3-interpolate': 'npm:d3-interpolate/',\n      'd3-path': 'npm:d3-path/',\n      'd3-scale': 'npm:d3-scale/',\n      'd3-selection': 'npm:d3-selection/',\n      'd3-shape': 'npm:d3-shape/',\n      'd3-time': 'npm:d3-time/',\n      'd3-time-format': 'npm:d3-time-format/',\n      'd3-timer': 'npm:d3-timer/',\n      'd3-transition': 'npm:d3-transition/'\n    },\n    typescriptOptions: {\n      module: \"system\",\n      typeCheck: true,\n      tsconfig: true\n    },\n    transpiler: 'ts'\n  });\n})();\n</pre>\n\n<p><em>tsconfig.json</em></p>\n\n<pre>\n{\n   \"compilerOptions\": {\n      \"target\": \"es5\",\n      \"module\": \"commonjs\",\n      \"emitDecoratorMetadata\": true,\n      \"experimentalDecorators\": true,\n      \"rootDir\": \".\",\n      \"baseUrl\": \".\",\n      \"moduleResolution\": \"node\"\n   }\n}\n</pre>\n\n<p><em>package.json</em></p>\n\n<pre>\n{\n  \"name\": \"testing\",\n  \"version\": \"1.0.0\",\n  \"license\": \"MIT\",\n  \"devDependencies\": {\n    \"@types/core-js\": \"^0.9.35\",\n    \"@types/d3\": \"^4.5.0\",\n    \"lite-server\": \"^2.2.2\",\n    \"plugin-typescript\": \"^6.0.4\",\n    \"typescript\": \"^2.1.6\"\n  },\n  \"dependencies\": {\n    \"core-js\": \"^2.4.1\",\n    \"d3\": \"^4.6.0\",\n    \"systemjs\": \"^0.20.9\"\n  }\n}\n</pre>\n"}, {"tags": ["angularjs", "angular", "typescript", "visual-studio-2017"], "owner": {"reputation": 43, "user_id": 1108933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7553c4bf7047fe482f1e247b6ff0f747?s=128&d=identicon&r=PG", "display_name": "Kevin Clary", "link": "https://stackoverflow.com/users/1108933/kevin-clary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 657, "favorite_count": 2, "answer_count": 0, "score": 4, "last_activity_date": 1487694302, "creation_date": 1487690468, "last_edit_date": 1487694302, "question_id": 42371281, "link": "https://stackoverflow.com/questions/42371281/typescript-break-points-not-working-in-visual-studio-2017", "title": "Typescript break points not working in Visual Studio 2017", "body": "<p>I cannot set debug break points in typescript or JavaScript.  I have an ASP.Net Core application that uses an Angular 2 front end and a Web API back end.  I am using Microsoft Visual Studio 2017 RC  on Windows 10.  I am using Microsoft Edge browser and debugging in IIS Express.  The Web API debugging in C# is working as expected.  I have researched the issue and tried all the settings that I could find in VS 2017.</p>\n\n<p>When I run the program (F5), I attach the debugger to the processes MicrosoftEdge.exe and MicrosoftEdgeCP.exe. In Options/Debugging/Symbols, I have checked \u201cMicrosoft Symbol Servers\u201d and selected a temp folder for \u201ccache symbols in this directory\u201d.  For automatically load symbols for: I have selected \u201cAll modules, unless excluded\u201d.  However, when I set the break point in typescript or javascript, the button is white and the hover text says \u201cThe breakpoint will not currently be hit. No symbols have been loaded for this document\u201d and typescript break points do not stop the code.</p>\n"}, {"tags": ["selenium", "typescript", "webdriver", "protractor"], "comments": [{"owner": {"reputation": 2275, "user_id": 2920441, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/35OnW.png?s=128&g=1", "display_name": "AntonB", "link": "https://stackoverflow.com/users/2920441/antonb"}, "edited": false, "score": 3, "creation_date": 1487692089, "post_id": 42370967, "comment_id": 71893341, "body": "<code>webdriver.promise.Promise</code> is a different type than the native <code>Promise</code>."}, {"owner": {"reputation": 3192, "user_id": 6201042, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/984a64d990b47f74ad38d59ad827a94b?s=128&d=identicon&r=PG&f=1", "display_name": "Gunderson", "link": "https://stackoverflow.com/users/6201042/gunderson"}, "edited": false, "score": 0, "creation_date": 1487693371, "post_id": 42370967, "comment_id": 71894309, "body": "Why do you need to convert to a native promise?"}, {"owner": {"reputation": 18209, "user_id": 843542, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/kZdih.png?s=128&g=1", "display_name": "Eric Francis", "link": "https://stackoverflow.com/users/843542/eric-francis"}, "edited": false, "score": 1, "creation_date": 1487695598, "post_id": 42370967, "comment_id": 71895893, "body": "Team gets confused when there are multiple promise implementations in the project."}], "answers": [{"comments": [{"owner": {"reputation": 18209, "user_id": 843542, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/kZdih.png?s=128&g=1", "display_name": "Eric Francis", "link": "https://stackoverflow.com/users/843542/eric-francis"}, "edited": false, "score": 0, "creation_date": 1487695610, "post_id": 42371202, "comment_id": 71895902, "body": "Is this best practice? Seems like a decent idea."}, {"owner": {"reputation": 1751, "user_id": 156166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/663120570/picture?type=large", "display_name": "Rich Seviora", "link": "https://stackoverflow.com/users/156166/rich-seviora"}, "edited": false, "score": 3, "creation_date": 1487742666, "post_id": 42371202, "comment_id": 71915950, "body": "Not a big fan of this solution. Regardless of the declared return type, it will still have the same inferred return type. Theoretically you could run into problems if you expected it to behave like a ES6 <code>Promise</code>, as they have different contracts."}, {"owner": {"reputation": 2927, "user_id": 2695752, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/4cnS5.jpg?s=128&g=1", "display_name": "Xotabu4", "link": "https://stackoverflow.com/users/2695752/xotabu4"}, "edited": false, "score": 1, "creation_date": 1487761988, "post_id": 42371202, "comment_id": 71927105, "body": "I also think that it is better to explicitly specify returning type. I would be thankful for code example that works!"}, {"owner": {"reputation": 18209, "user_id": 843542, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/kZdih.png?s=128&g=1", "display_name": "Eric Francis", "link": "https://stackoverflow.com/users/843542/eric-francis"}, "edited": false, "score": 0, "creation_date": 1487891983, "post_id": 42371202, "comment_id": 72001552, "body": "use <code>webdriver.promise.Promise&lt;any&gt;</code> as the return type."}], "tags": [], "owner": {"reputation": 2927, "user_id": 2695752, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/4cnS5.jpg?s=128&g=1", "display_name": "Xotabu4", "link": "https://stackoverflow.com/users/2695752/xotabu4"}, "is_accepted": true, "score": 2, "last_activity_date": 1487690248, "creation_date": 1487690248, "answer_id": 42371202, "question_id": 42370967, "link": "https://stackoverflow.com/questions/42370967/convert-webdriver-promise-to-native-promise/42371202#42371202", "title": "Convert WebDriver promise to native promise?", "body": "<p>You can skip declaring return type this is case. This will still show you correct suggestions for return value</p>\n\n<pre><code>isOnPage() {\n   return this.subtitle.isPresent();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7807, "user_id": 1019307, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0dbc9574f3382f14a5f4c38a0aec4286?s=128&d=identicon&r=PG", "display_name": "HankCa", "link": "https://stackoverflow.com/users/1019307/hankca"}, "is_accepted": false, "score": 0, "last_activity_date": 1498089634, "creation_date": 1498089634, "answer_id": 44688017, "question_id": 42370967, "link": "https://stackoverflow.com/questions/42370967/convert-webdriver-promise-to-native-promise/44688017#44688017", "title": "Convert WebDriver promise to native promise?", "body": "<pre><code>import { promise } from 'selenium-webdriver';\n\n...\n\nisOnPage(): promise.Promise&lt;boolean&gt; {\n    return this.subtitle.isPresent();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1263, "user_id": 5085836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/671bb24b8489a297ca609155bda1137c?s=128&d=identicon&r=PG&f=1", "display_name": "martin770", "link": "https://stackoverflow.com/users/5085836/martin770"}, "is_accepted": false, "score": 0, "last_activity_date": 1541163287, "creation_date": 1541163287, "answer_id": 53119006, "question_id": 42370967, "link": "https://stackoverflow.com/questions/42370967/convert-webdriver-promise-to-native-promise/53119006#53119006", "title": "Convert WebDriver promise to native promise?", "body": "<p><code>@types/selenium-webdriver/index.d.ts</code> exports namespace <code>promise</code> with a class <code>Promise</code> that implements <code>PromiseLike</code> (not <code>Promise</code>).</p>\n\n<p><code>PromiseLike</code> seems to be a native implementation in <code>typescript/lib/lib.es6.d.ts</code> so you can use it as a return type for your function. The difference seems to be that <code>PromiseLike</code> only has <code>then</code> whereas <code>Promise</code> has <code>then</code> and <code>catch</code>.</p>\n\n<pre><code>isOnPage(): PromiseLike&lt;boolean&gt; {\n  return this.subtitle.isPresent();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1086, "user_id": 1109316, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/jrlbc.jpg?s=128&g=1", "display_name": "Matthias", "link": "https://stackoverflow.com/users/1109316/matthias"}, "is_accepted": false, "score": 0, "last_activity_date": 1544687108, "last_edit_date": 1544687108, "creation_date": 1544684089, "answer_id": 53756478, "question_id": 42370967, "link": "https://stackoverflow.com/questions/42370967/convert-webdriver-promise-to-native-promise/53756478#53756478", "title": "Convert WebDriver promise to native promise?", "body": "<p>I prefer native promises as well and convert to them by using:</p>\n\n<pre><code>isOnPage(): Promise&lt;boolean&gt; {\n  return Promise.resolve().then(() =&gt; {\n    return this.subtitle.isPresent();\n  });\n}\n</code></pre>\n\n<p>This allows to write code like this:</p>\n\n<pre><code>it('should display cookie title and remove after click', (done) =&gt; {\n    Promise.resolve().then(() =&gt; {\n      return browser.driver.manage().deleteAllCookies();\n    }).then(() =&gt; {\n      return page.navigateTo();\n    }).then(() =&gt; {\n      //return E2eUtil.TakeScreenshot('CookiesidebarPage.png');\n    }).then(() =&gt; {\n      return expect(page.getTitleText()).toEqual('Cookies');\n    }).then(() =&gt; {\n      return page.clickAcceptCookies();\n    }).then(() =&gt; {\n      return page.waitTitleInvisible();\n    }).then(() =&gt; {\n      return expect(page.getTitleText()).toEqual('');\n    }).then(() =&gt; {\n      done();\n    });\n  });\n</code></pre>\n"}], "owner": {"reputation": 18209, "user_id": 843542, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/kZdih.png?s=128&g=1", "display_name": "Eric Francis", "link": "https://stackoverflow.com/users/843542/eric-francis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 554, "favorite_count": 0, "accepted_answer_id": 42371202, "answer_count": 4, "score": 3, "last_activity_date": 1544687108, "creation_date": 1487689606, "question_id": 42370967, "link": "https://stackoverflow.com/questions/42370967/convert-webdriver-promise-to-native-promise", "title": "Convert WebDriver promise to native promise?", "body": "<p>I have this method:</p>\n\n<pre><code>isOnPage(): Promise&lt;boolean&gt; {\n  return this.subtitle.isPresent();\n}\n</code></pre>\n\n<p>The typescript compiler gives this error: </p>\n\n<pre><code>Type 'webdriver.promise.Promise&lt;boolean&gt;' is not assignable to type 'Promise&lt;boolean&gt;'\n</code></pre>\n\n<p>Is there a way to convert a WebDriver promise to a native promise?</p>\n\n<p>Would this work?</p>\n\n<pre><code>isOnPage(): Promise&lt;boolean&gt; {\n  return new Promise(() =&gt; {\n    return this.subtitle.isPresent();\n  });\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "lazy-loading"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 2, "creation_date": 1487689338, "post_id": 42370830, "comment_id": 71891108, "body": "You might consider using <code>preload</code> <a href=\"https://vsavkin.com/angular-router-preloading-modules-ba3c75e424cb#.edo2miw81\" rel=\"nofollow noreferrer\">vsavkin.com/&hellip;</a>, <a href=\"https://angular.io/docs/ts/latest/guide/router.html#!#custom-preloading\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/guide/router.html#!#custom-preload&zwnj;&#8203;ing</a>"}, {"owner": {"reputation": 2171, "user_id": 7528750, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3366727e1404a179625896a1e807e2ad?s=128&d=identicon&r=PG&f=1", "display_name": "ErnieKev", "link": "https://stackoverflow.com/users/7528750/erniekev"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1487689950, "post_id": 42370830, "comment_id": 71891557, "body": "Thats a nice feature to have. However, as most of my user is not &quot;admin&quot;, there is no need for them to preload this data. I am happy for the user to wait for the data to load before navigating. I am finding that the UI freezes completely during the loading period. Is that normal for lazy loading with navigation? Is there a way to avoid it (by making it async or display a loading screen while it loads in background)?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487690076, "post_id": 42370830, "comment_id": 71891660, "body": "Sorry, don&#39;t know. I haven&#39;t tried lazy loading with TS. Might be a browser issue that the browser blocks while loading. How big is the lazy loaded part (from the network tab in the browser console)?"}, {"owner": {"reputation": 2171, "user_id": 7528750, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3366727e1404a179625896a1e807e2ad?s=128&d=identicon&r=PG&f=1", "display_name": "ErnieKev", "link": "https://stackoverflow.com/users/7528750/erniekev"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487690208, "post_id": 42370830, "comment_id": 71891767, "body": "150kb for a normal ng server build. quite large yeh? Ps. Using Chrome"}], "answers": [{"tags": [], "owner": {"reputation": 346, "user_id": 5924670, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/078f04b25621a4370b694b95875a846b?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Arslan", "link": "https://stackoverflow.com/users/5924670/muhammad-arslan"}, "is_accepted": false, "score": 2, "last_activity_date": 1564183105, "creation_date": 1564183105, "answer_id": 57227921, "question_id": 42370830, "link": "https://stackoverflow.com/questions/42370830/angular-2-lazy-loading-causes-delay-between-view-change/57227921#57227921", "title": "Angular 2 Lazy loading causes delay between view change", "body": "<p>Yes you can by using RouterEvent</p>\n\n<p>let say loading is the variable that is true to display any loading icon, so you can do this inside your app.component.ts file</p>\n\n<pre><code>constructor(private router: Router) {\n    router.events.subscribe((event: RouterEvent) =&gt; {\n        //lazyloading start\n        if(event instanceof RouteConfigLoadStart) {\n        } \n        //lazy loading end\n        else if(event instanceof RouteConfigLoadEnd) {\n            this.loading = false;\n        }\n    })\n} \n</code></pre>\n"}], "owner": {"reputation": 2171, "user_id": 7528750, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3366727e1404a179625896a1e807e2ad?s=128&d=identicon&r=PG&f=1", "display_name": "ErnieKev", "link": "https://stackoverflow.com/users/7528750/erniekev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1184, "favorite_count": 3, "answer_count": 1, "score": 3, "last_activity_date": 1564183105, "creation_date": 1487689251, "last_edit_date": 1487690494, "question_id": 42370830, "link": "https://stackoverflow.com/questions/42370830/angular-2-lazy-loading-causes-delay-between-view-change", "title": "Angular 2 Lazy loading causes delay between view change", "body": "<p>I have a side menu that can be toggled. Inside that side menu there is an anchor tag that directs the user to the admin page which is a module itself</p>\n\n<pre><code>    &lt;a[routerLink]=\"['/admin']\" (click)=\"sidenav.close()\"&gt;Admin&lt;/a&gt;\n</code></pre>\n\n<p>I am lazy loading it by </p>\n\n<pre><code>    { path: 'admin', loadChildren: 'app/admin/admin.module#AdminModule' },\n</code></pre>\n\n<p>The small issue I have is, when the user opens up the side nav, clicks on that link for the first time this is what I will see...</p>\n\n<ol>\n<li><p>The side menu closes half way, freezes for 500ms (estimate). At this moment, I still see the old component at the background while the admin module is loaded. </p></li>\n<li><p>Once the module is loaded, the side menu disappears and the admin page is shown. It is quite a bad user experience because the side menu suppose to hide smoothly (Which it does without lazy loading)</p></li>\n</ol>\n\n<p>I would imagine I need to to change the click function to not close the side nav straight away, but instead, do something like </p>\n\n<pre><code>(click)=\"onAdminLinkClick()\"\n\nonAdminLinkClick() {\n    // close side nav straight away\n\n    // display loading screen or progress bar  \n\n    // load admin module\n\n    // dismiss loading screen or progress bar once complete loading and show\n}\n</code></pre>\n\n<p>So the main question really is if there is a way to detect when the load finishes so I can cancel any loading or close any thing that I need to close</p>\n\n<p>I am not sure how this can be implemented in angular 2. Much appreciated for the help</p>\n"}, {"tags": ["sql", "sqlite", "angular", "typescript", "ionic2"], "comments": [{"owner": {"reputation": 36287, "user_id": 2649012, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i4SzF.jpg?s=128&g=1", "display_name": "Phant&#244;maxx", "link": "https://stackoverflow.com/users/2649012/phant%c3%b4maxx"}, "edited": false, "score": 0, "creation_date": 1487687379, "post_id": 42370034, "comment_id": 71889543, "body": "Simply read the file one line at a time and execute each line as a separate SQL command. Until you reach the line which begins with COMMIT. Possibly, enclose all in a transaction."}, {"owner": {"reputation": 563, "user_id": 2570426, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/93d2q.jpg?s=128&g=1", "display_name": "viana", "link": "https://stackoverflow.com/users/2570426/viana"}, "reply_to_user": {"reputation": 36287, "user_id": 2649012, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i4SzF.jpg?s=128&g=1", "display_name": "Phant&#244;maxx", "link": "https://stackoverflow.com/users/2649012/phant%c3%b4maxx"}, "edited": false, "score": 0, "creation_date": 1487687491, "post_id": 42370034, "comment_id": 71889623, "body": "@Rotwang How could I do that? Can you give an example?"}, {"owner": {"reputation": 563, "user_id": 2570426, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/93d2q.jpg?s=128&g=1", "display_name": "viana", "link": "https://stackoverflow.com/users/2570426/viana"}, "reply_to_user": {"reputation": 36287, "user_id": 2649012, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i4SzF.jpg?s=128&g=1", "display_name": "Phant&#244;maxx", "link": "https://stackoverflow.com/users/2649012/phant%c3%b4maxx"}, "edited": false, "score": 0, "creation_date": 1487687788, "post_id": 42370034, "comment_id": 71889888, "body": "@Rotwang It&#39;s not java, it&#39;s typescript."}, {"owner": {"reputation": 563, "user_id": 2570426, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/93d2q.jpg?s=128&g=1", "display_name": "viana", "link": "https://stackoverflow.com/users/2570426/viana"}, "reply_to_user": {"reputation": 36287, "user_id": 2649012, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i4SzF.jpg?s=128&g=1", "display_name": "Phant&#244;maxx", "link": "https://stackoverflow.com/users/2649012/phant%c3%b4maxx"}, "edited": false, "score": 0, "creation_date": 1487687914, "post_id": 42370034, "comment_id": 71889986, "body": "@Rotwang Did you see them as tags? I&#39;ll change it as tags."}, {"owner": {"reputation": 36287, "user_id": 2649012, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i4SzF.jpg?s=128&g=1", "display_name": "Phant&#244;maxx", "link": "https://stackoverflow.com/users/2649012/phant%c3%b4maxx"}, "edited": false, "score": 0, "creation_date": 1487688037, "post_id": 42370034, "comment_id": 71890100, "body": "My bad. I guess this does... <a href=\"http://stackoverflow.com/questions/33643107/read-and-write-a-text-file-in-typescript\" title=\"read and write a text file in typescript\">stackoverflow.com/questions/33643107/&hellip;</a>"}], "owner": {"reputation": 563, "user_id": 2570426, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/93d2q.jpg?s=128&g=1", "display_name": "viana", "link": "https://stackoverflow.com/users/2570426/viana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487696688, "creation_date": 1487687223, "last_edit_date": 1487696688, "question_id": 42370034, "link": "https://stackoverflow.com/questions/42370034/how-to-populate-sqlite-through-a-sql-file", "title": "How to populate SQLite through a .sql file?", "body": "<p>I have a <code>.sql</code> file and need to insert all the records in my sqlite on the device.</p>\n\n<p>File content <code>mydb.sql</code>:</p>\n\n<pre><code>CREATE TABLE tblVeiculo (VeiculoId INT, Codigo [TEXT(9)], Fabricante [TEXT(255)], Modelo [TEXT(255)], AnoInicial INT, AnoFinal INT, Portas INT, Combustivel [VARCHAR(30)], NrMotorObstruido BOOLEAN);\nINSERT INTO tblVeiculo (VeiculoId, Codigo, Fabricante, Modelo, AnoInicial, AnoFinal, Portas, Combustivel, NrMotorObstruido) VALUES (1, '001034066', 'AGRALE', 'MT 12.0 4X2 SB(E-TRONIC)(URB.) DIES 2P BASICO', 2005, 2013, 2, 'DIES', 1);\nINSERT INTO tblVeiculo (VeiculoId, Codigo, Fabricante, Modelo, AnoInicial, AnoFinal, Portas, Combustivel, NrMotorObstruido) VALUES (2, '001034078', 'AGRALE', 'MT 12.0 4X2 LE(E-TRONIC)(RODOV.) DIES 1P BASICO', 2005, 2013, 1, 'DIES', 0);\nINSERT INTO tblVeiculo (VeiculoId, Codigo, Fabricante, Modelo, AnoInicial, AnoFinal, Portas, Combustivel, NrMotorObstruido) VALUES (3, '001034080', 'AGRALE', 'MT 12.0 4X2 LE(E-TRONIC)(RODOV.C/AR) DIES 1P BASICO', 2005, 2013, 1, 'DIES', 0);\nINSERT INTO tblVeiculo (VeiculoId, Codigo, Fabricante, Modelo, AnoInicial, AnoFinal, Portas, Combustivel, NrMotorObstruido) VALUES (4, '001034091', 'AGRALE', 'MT 12.0 4X2 LE(E-TRONIC)(URBANO) DIES 2P BASICO', 2005, 2013, 2, 'DIES', 0);\n\nCOMMIT TRANSACTION;\nPRAGMA foreign_keys = on;\n</code></pre>\n\n<p>How to populate SQLite through a .sql file using TypeScript?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1487685851, "post_id": 42369305, "comment_id": 71888433, "body": "What are you trying to do? Why would you separate it into two different interfaces with the same name? It&#39;s equivalent to <code>interface Car&lt;T&gt; { model: string; transmission: T }</code>"}, {"owner": {"reputation": 18666, "user_id": 684869, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b5e4af3b89fcb27368ecf0af31c3ca06?s=128&d=identicon&r=PG", "display_name": "cgatian", "link": "https://stackoverflow.com/users/684869/cgatian"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1487686082, "post_id": 42369305, "comment_id": 71888586, "body": "I want other code to use the non-generic reference.  Currenly Im doing Car&lt;any&gt; to bypass the type checking, when I just want to use Car."}, {"owner": {"reputation": 7906, "user_id": 4620101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rPIEi.jpg?s=128&g=1", "display_name": "Szabolcs D&#233;zsi", "link": "https://stackoverflow.com/users/4620101/szabolcs-d%c3%a9zsi"}, "edited": false, "score": 0, "creation_date": 1487687431, "post_id": 42369305, "comment_id": 71889582, "body": "Why do they have to have the same name?"}], "answers": [{"comments": [{"owner": {"reputation": 18666, "user_id": 684869, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b5e4af3b89fcb27368ecf0af31c3ca06?s=128&d=identicon&r=PG", "display_name": "cgatian", "link": "https://stackoverflow.com/users/684869/cgatian"}, "edited": false, "score": 0, "creation_date": 1487687506, "post_id": 42369628, "comment_id": 71889638, "body": "Is this just the same as writing: <code>interface CarBase implements Car&lt;any&gt;</code> ?"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 18666, "user_id": 684869, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b5e4af3b89fcb27368ecf0af31c3ca06?s=128&d=identicon&r=PG", "display_name": "cgatian", "link": "https://stackoverflow.com/users/684869/cgatian"}, "edited": false, "score": 1, "creation_date": 1487687667, "post_id": 42369628, "comment_id": 71889790, "body": "It&#39;s pretty much the same, but there are differences between interfaces and type aliases. It is explained in <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#interfaces-vs-type-aliases\" rel=\"nofollow noreferrer\">Interfaces vs. Type Aliases</a>"}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 1, "last_activity_date": 1487686195, "creation_date": 1487686195, "answer_id": 42369628, "question_id": 42369305, "link": "https://stackoverflow.com/questions/42369305/extending-non-generic-interface-with-generic-interface/42369628#42369628", "title": "Extending Non Generic Interface with Generic Interface", "body": "<p>You can use a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#type-aliases\" rel=\"nofollow noreferrer\">type alias</a> to save you the trouble of writing <code>Car&lt;any&gt;</code>:</p>\n\n<pre><code>interface Car&lt;T&gt; {\n    model: string;\n    transmission: T;\n}\n\ntype AnyCar = Car&lt;any&gt;;\n</code></pre>\n"}], "owner": {"reputation": 18666, "user_id": 684869, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b5e4af3b89fcb27368ecf0af31c3ca06?s=128&d=identicon&r=PG", "display_name": "cgatian", "link": "https://stackoverflow.com/users/684869/cgatian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 349, "favorite_count": 0, "accepted_answer_id": 42369628, "answer_count": 1, "score": 1, "last_activity_date": 1487686195, "creation_date": 1487685373, "question_id": 42369305, "link": "https://stackoverflow.com/questions/42369305/extending-non-generic-interface-with-generic-interface", "title": "Extending Non Generic Interface with Generic Interface", "body": "<p>I'm probably over thinking this.  Basically, I would like to have an non-generic interface that implements a few properties, then create a second type that implements that interface with it's own generic property.</p>\n\n<pre><code>interface Car {\n  model: string;\n}\n\ninterface Car&lt;T&gt; extends Car {\n  transmission: T;\n}\n</code></pre>\n\n<p>TypeScript errors:</p>\n\n<blockquote>\n  <p>\"All declarations of 'Car' must have identical type parameters.\"</p>\n</blockquote>\n\n<p>The only way I can find is to name the non-generic interface something different, like CarBase.  Suggestions?</p>\n"}, {"tags": ["typescript", "systemjs", "javascript-namespaces"], "answers": [{"comments": [{"owner": {"reputation": 2725, "user_id": 1222240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6f742a69a26a9fedc4b8d6b4fd0e23cc?s=128&d=identicon&r=PG", "display_name": "valepu", "link": "https://stackoverflow.com/users/1222240/valepu"}, "edited": false, "score": 0, "creation_date": 1487687562, "post_id": 42369617, "comment_id": 71889690, "body": "As far as i&#39;ve seen this is common practice when using SystemJS, you need to import everything you need in your files. Or am i using it wrong? It has always worked like this for me"}, {"owner": {"reputation": 540, "user_id": 1969960, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3a505d778ea5bc7a43b168f34a9919db?s=128&d=identicon&r=PG", "display_name": "Ward D.S.", "link": "https://stackoverflow.com/users/1969960/ward-d-s"}, "reply_to_user": {"reputation": 2725, "user_id": 1222240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6f742a69a26a9fedc4b8d6b4fd0e23cc?s=128&d=identicon&r=PG", "display_name": "valepu", "link": "https://stackoverflow.com/users/1222240/valepu"}, "edited": false, "score": 1, "creation_date": 1487691528, "post_id": 42369617, "comment_id": 71892848, "body": "I&#39;m actually very familiar with SystemJS actually - but AFAIK if your <code>tsconfig.json</code> is set correctly (using <code>&quot;module&quot;: &quot;system&quot;</code>) the resulting javascript file should have the correct SystemJS import statements. Create your typescript the typescript way and let the compiler handle the environment. Try it out and take a look at what typescript compiled for you!"}, {"owner": {"reputation": 2725, "user_id": 1222240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6f742a69a26a9fedc4b8d6b4fd0e23cc?s=128&d=identicon&r=PG", "display_name": "valepu", "link": "https://stackoverflow.com/users/1222240/valepu"}, "edited": false, "score": 0, "creation_date": 1487696858, "post_id": 42369617, "comment_id": 71896718, "body": "my tsconfig.json has &quot;module: system&quot; but if i don&#39;t import everything i&#39;m going to use in a certain file it fails when i open my application on a browser. Could it be because how gulp handles the compilation? (starts from index.ts and navigates the imports). I&#39;m using this as starting project: <a href=\"https://github.com/FountainJS/generator-fountain-angular1\" rel=\"nofollow noreferrer\">github.com/FountainJS/generator-fountain-angular1</a>"}], "tags": [], "owner": {"reputation": 540, "user_id": 1969960, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3a505d778ea5bc7a43b168f34a9919db?s=128&d=identicon&r=PG", "display_name": "Ward D.S.", "link": "https://stackoverflow.com/users/1969960/ward-d-s"}, "is_accepted": false, "score": 2, "last_activity_date": 1487686157, "creation_date": 1487686157, "answer_id": 42369617, "question_id": 42368316, "link": "https://stackoverflow.com/questions/42368316/how-to-correctly-import-the-same-namespace-in-two-different-files-in-typescript/42369617#42369617", "title": "How to correctly import the same namespace in two different files in Typescript", "body": "<p>It should be much simpler to use:</p>\n\nClassA.ts\n\n<pre><code>namespace MyApp {\n    export class ClassA {\n        public a: string = \"classA\";\n    }\n}\n</code></pre>\n\nClassB.ts\n\n<pre><code>namespace MyApp {\n    export class ClassB extends ClassA {\n        private class_a: ClassA = new ClassA();\n        private b: string = \"classB\";\n    }\n}\n</code></pre>\n\nmain.ts\n\n<pre><code>namespace MyApp {\n  var b = new ClassB();\n  console.log(b.class_a.a) // \"classA\"\n}\n</code></pre>\n\n<p>The compiler will recognize that you are working within the same namespace, so there is no need to <code>import</code> it, or even prefix it.</p>\n\nIt might be necessary to add a reference to the top of the ClassB.ts file as such:\n\n<code>/// &lt;reference path=\"ClassA.ts\" /&gt;</code>\n\n<p>Although in my setup, I haven't had to do this, the compiler seems to pick things up correctly automatically. (I use a single OutFile and the exclude directive in tsconfig.json)</p>\n\nSidenote:\n\n<p>What I find strange in this is that you are forced to export <code>ClassA</code> for it to be discovered in my ClassB.ts. It seems impossible to keep ClassA and ClassB private to the namespace if I want to use them in Main.ts (even in private variables). It simply errors with \"Can not find name...\"</p>\n"}, {"tags": [], "owner": {"reputation": 2725, "user_id": 1222240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6f742a69a26a9fedc4b8d6b4fd0e23cc?s=128&d=identicon&r=PG", "display_name": "valepu", "link": "https://stackoverflow.com/users/1222240/valepu"}, "is_accepted": true, "score": 2, "last_activity_date": 1492269711, "creation_date": 1492269711, "answer_id": 43427787, "question_id": 42368316, "link": "https://stackoverflow.com/questions/42368316/how-to-correctly-import-the-same-namespace-in-two-different-files-in-typescript/43427787#43427787", "title": "How to correctly import the same namespace in two different files in Typescript", "body": "<p>Apparently, giving another name when importing worked:</p>\n\n<p>file1</p>\n\n<pre><code>export namespace nspace {\n    export class ClassA {\n\n    }\n}\n</code></pre>\n\n<p>file2</p>\n\n<pre><code>import * as a from './file1';\n\nexport namespace nspace {\n    export class ClassB extends a.nspace.ClassA {\n        private  b: a.nspace.ClassA;\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2725, "user_id": 1222240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6f742a69a26a9fedc4b8d6b4fd0e23cc?s=128&d=identicon&r=PG", "display_name": "valepu", "link": "https://stackoverflow.com/users/1222240/valepu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1809, "favorite_count": 0, "accepted_answer_id": 43427787, "answer_count": 2, "score": 2, "last_activity_date": 1492269711, "creation_date": 1487682798, "last_edit_date": 1487687583, "question_id": 42368316, "link": "https://stackoverflow.com/questions/42368316/how-to-correctly-import-the-same-namespace-in-two-different-files-in-typescript", "title": "How to correctly import the same namespace in two different files in Typescript", "body": "<p>I'm having an issue in understanding how to make two files with the same namespace and import one into the other in Typescript.</p>\n\n<p>This is the situation:</p>\n\n<p>file1.ts</p>\n\n<pre><code>export namespace nspace {\n    export class ClassA {\n\n    }\n}\n</code></pre>\n\n<p>file2.ts</p>\n\n<pre><code>import {nspace} from './file1';\n\nexport namespace nspace {\n    export class ClassB extends nspace.ClassA {\n        private z: nspace.ClassA;\n    }\n}\n</code></pre>\n\n<p>inside file2 i have these errors:</p>\n\n<p>1) Individual declarations in merged declaration 'nspace' must be all exported or all local</p>\n\n<p>2) Property 'ClassA' does not exist on type 'typeof nspace'</p>\n\n<p>On top of that, ClassA is correctly found when used to declare the type of the <code>z</code> field (it even brings me to the correct file if i use \"go to declaration\" in my IDE)<br>\nI have tried searching the first error on the internet because i don't really understand what it means but none of the pages i found helped. I read the documentation about Declaration Merging in Typescript but i couldn't find a situation similar to mine<br>\nI don't know if this is of any help but i'm using SystemJS in my application</p>\n"}, {"tags": ["angular", "typescript", "angular2-google-maps"], "answers": [{"comments": [{"owner": {"reputation": 171, "user_id": 4707611, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9216d2032c0bd7a8bd202913a56c35d4?s=128&d=identicon&r=PG&f=1", "display_name": "Hitesh Balar", "link": "https://stackoverflow.com/users/4707611/hitesh-balar"}, "edited": false, "score": 0, "creation_date": 1487682810, "post_id": 42367958, "comment_id": 71886259, "body": "I tried as per your solution, But getting this error <b>google.maps.PlacesService is not a constructor</b>"}, {"owner": {"reputation": 1555, "user_id": 3410584, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hVfv4.jpg?s=128&g=1", "display_name": "ValLeNain", "link": "https://stackoverflow.com/users/3410584/vallenain"}, "reply_to_user": {"reputation": 171, "user_id": 4707611, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9216d2032c0bd7a8bd202913a56c35d4?s=128&d=identicon&r=PG&f=1", "display_name": "Hitesh Balar", "link": "https://stackoverflow.com/users/4707611/hitesh-balar"}, "edited": false, "score": 0, "creation_date": 1487682968, "post_id": 42367958, "comment_id": 71886383, "body": "you probably don&#39;t have the Place library loaded"}, {"owner": {"reputation": 171, "user_id": 4707611, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9216d2032c0bd7a8bd202913a56c35d4?s=128&d=identicon&r=PG&f=1", "display_name": "Hitesh Balar", "link": "https://stackoverflow.com/users/4707611/hitesh-balar"}, "edited": false, "score": 0, "creation_date": 1487683017, "post_id": 42367958, "comment_id": 71886418, "body": "Yes I have added     <code>AgmCoreModule.forRoot({       apiKey: GOOGLEAPIKEY,       libraries: [ &quot;places&quot; ]     })</code>"}, {"owner": {"reputation": 1555, "user_id": 3410584, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hVfv4.jpg?s=128&g=1", "display_name": "ValLeNain", "link": "https://stackoverflow.com/users/3410584/vallenain"}, "reply_to_user": {"reputation": 171, "user_id": 4707611, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9216d2032c0bd7a8bd202913a56c35d4?s=128&d=identicon&r=PG&f=1", "display_name": "Hitesh Balar", "link": "https://stackoverflow.com/users/4707611/hitesh-balar"}, "edited": false, "score": 0, "creation_date": 1487683212, "post_id": 42367958, "comment_id": 71886561, "body": "my bad it&#39;s <code>new google.maps.places.PlacesService</code>, I update my post"}, {"owner": {"reputation": 171, "user_id": 4707611, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9216d2032c0bd7a8bd202913a56c35d4?s=128&d=identicon&r=PG&f=1", "display_name": "Hitesh Balar", "link": "https://stackoverflow.com/users/4707611/hitesh-balar"}, "edited": false, "score": 0, "creation_date": 1487683420, "post_id": 42367958, "comment_id": 71886708, "body": "We need to pass <code>HTMLDivElement Or Map</code> as params to <code>PlacesService();</code> method ? Its giving an error <b>Cannot read property &#39;innerHTML&#39; of undefined</b>"}, {"owner": {"reputation": 1555, "user_id": 3410584, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hVfv4.jpg?s=128&g=1", "display_name": "ValLeNain", "link": "https://stackoverflow.com/users/3410584/vallenain"}, "reply_to_user": {"reputation": 171, "user_id": 4707611, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9216d2032c0bd7a8bd202913a56c35d4?s=128&d=identicon&r=PG&f=1", "display_name": "Hitesh Balar", "link": "https://stackoverflow.com/users/4707611/hitesh-balar"}, "edited": false, "score": 0, "creation_date": 1487683808, "post_id": 42367958, "comment_id": 71886957, "body": "Ok, see my update, you actually already have a <code>PlaceResult</code> (the return of <code>getPlace()</code>. So you don&#39;t need the step where you instantiate a <code>PlacesService</code>."}, {"owner": {"reputation": 171, "user_id": 4707611, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9216d2032c0bd7a8bd202913a56c35d4?s=128&d=identicon&r=PG&f=1", "display_name": "Hitesh Balar", "link": "https://stackoverflow.com/users/4707611/hitesh-balar"}, "reply_to_user": {"reputation": 1555, "user_id": 3410584, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hVfv4.jpg?s=128&g=1", "display_name": "ValLeNain", "link": "https://stackoverflow.com/users/3410584/vallenain"}, "edited": false, "score": 0, "creation_date": 1487684190, "post_id": 42367958, "comment_id": 71887237, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/136251/discussion-between-hitesh-balar-and-vallenain\">continue this discussion in chat</a>."}, {"owner": {"reputation": 1194, "user_id": 7797500, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/72def50d8c82a705f7497d6219edb3fc?s=128&d=identicon&r=PG&f=1", "display_name": "D.Hodges", "link": "https://stackoverflow.com/users/7797500/d-hodges"}, "edited": false, "score": 0, "creation_date": 1573099509, "post_id": 42367958, "comment_id": 103773099, "body": "How is google.maps.places.PlacesService(); imported?"}], "tags": [], "owner": {"reputation": 1555, "user_id": 3410584, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hVfv4.jpg?s=128&g=1", "display_name": "ValLeNain", "link": "https://stackoverflow.com/users/3410584/vallenain"}, "is_accepted": true, "score": 2, "last_activity_date": 1487683747, "last_edit_date": 1487683747, "creation_date": 1487681794, "answer_id": 42367958, "question_id": 42367838, "link": "https://stackoverflow.com/questions/42367838/angular2-how-to-get-google-places-photos-from-place-id/42367958#42367958", "title": "Angular2 : How to get google place&#39;s photos from place id?", "body": "<p>With this placeId, you'd use the <a href=\"https://developers.google.com/maps/documentation/javascript/3.exp/reference?hl=fr#PlacesService\" rel=\"nofollow noreferrer\">PlacesService</a> class. You call the <code>getDetails</code> method and in the callback you receive a <code>PlaceResult</code> which has a <code>photos</code> property (it's an array of <a href=\"https://developers.google.com/maps/documentation/javascript/3.exp/reference?hl=fr#PlacePhoto\" rel=\"nofollow noreferrer\"><code>PhotoPlace</code></a> on which you call the <code>getUrl</code> method to retrieve the displayable picture).</p>\n\n<p>(that implies you have retrieved the Place library as well as the core google maps API library)</p>\n\n<pre><code>function RetrievePhotoUrlsFromPlaceId(placeId) {\n  /* Instantiate a placesService */\n  var placesService = new google.maps.places.PlacesService();\n\n  /* Get place details */\n  placesServices.getDetails({\n    placeId: placeId\n  }, (placeResult, status) =&gt; {\n    if(status === 'OK') {\n      var photos = placeResult.photos;\n      var urls = []; // we will store the urls here\n\n      photos.forEach((photo) =&gt; {\n        urls.push(photo.getUrl({\n          maxWidht: 500, // at least set one or the other - mandatory\n          maxHeight: undefined\n        }));\n      });\n\n      /* You have your URLs here !! */\n    }\n  });\n}\n</code></pre>\n\n<p>[edit]</p>\n\n<p>Actually there is much simpler since you use the <code>Autocomplete</code> and so you already have a  <code>PlaceResult</code>.</p>\n\n<pre><code>function RetrievePhotoUrlsFromPlace(place) {\n\n     var photos = place.photos;\n     var urls = []; // we will store the urls here\n\n          photos.forEach((photo) =&gt; {\n            urls.push(photo.getUrl({\n              maxWidht: 500, // at least set one or the other - mandatory\n              maxHeight: undefined\n            }));\n          });\n\n          /* You have your URLs here !! */\n        }\n</code></pre>\n"}], "owner": {"reputation": 171, "user_id": 4707611, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9216d2032c0bd7a8bd202913a56c35d4?s=128&d=identicon&r=PG&f=1", "display_name": "Hitesh Balar", "link": "https://stackoverflow.com/users/4707611/hitesh-balar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1820, "favorite_count": 0, "accepted_answer_id": 42367958, "answer_count": 1, "score": 0, "last_activity_date": 1487683747, "creation_date": 1487681444, "question_id": 42367838, "link": "https://stackoverflow.com/questions/42367838/angular2-how-to-get-google-places-photos-from-place-id", "title": "Angular2 : How to get google place&#39;s photos from place id?", "body": "<p>I want to retrive google place photos from place id in my angular2 application. I'm getting placeId from Autocomplete method.</p>\n\n<blockquote>\n  <p>I'm using angular2-google-map library.</p>\n</blockquote>\n\n<pre><code>import { Component, NgZone, Inject, OnInit, ViewChild, EventEmitter, ElementRef } from '@angular/core';\nimport { FormControl, FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { AgmCoreModule, MapsAPILoader } from 'angular2-google-maps/core';\n\ndeclare var google: any;\n\n@Component({\n  selector: 'add-location-component',\n  templateUrl: './addLocation.component.html'\n})\nexport class AddLocationComponent implements OnInit {\n\n  private googlePlaceId: any;\n\n  @ViewChild(\"search\")\n  public searchElementRef: ElementRef;\n  public searchControl: FormControl;\n\n  constructor(\n    public authService: AuthService,\n    private mapsAPILoader: MapsAPILoader,\n    @Inject(NgZone) private ngZone: NgZone\n  ) { }\n\n  ngOnInit() {\n    this.searchControl = new FormControl();\n    this.mapsAPILoader.load().then(() =&gt; {\n      let autocomplete = new google.maps.places.Autocomplete(this.searchElementRef.nativeElement, {\n        types: [\"address\"]\n      });\n      autocomplete.addListener(\"place_changed\", () =&gt; {\n        this.ngZone.run(() =&gt; {\n          let place = autocomplete.getPlace();\n          if (place.geometry === undefined || place.geometry === null) {\n            return;\n          }\n          this.googlePlaceId = place.place_id;\n          console.log(this.googlePlaceId);\n        });\n      });\n    });\n  }\n</code></pre>\n\n<p>}</p>\n\n<p>By using place_id or lattitude and longitude I want to fetch first 10 photos of that place. I'm stuck here with angular2-google-map.</p>\n\n<p>Can you guys help me.\nThanks.</p>\n"}]