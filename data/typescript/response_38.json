[{"tags": ["javascript", "reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 330, "user_id": 2645406, "user_type": "registered", "profile_image": "https://graph.facebook.com/1753888990/picture?type=large", "display_name": "Mihail Alexe", "link": "https://stackoverflow.com/users/2645406/mihail-alexe"}, "edited": false, "score": 0, "creation_date": 1443687029, "post_id": 32877439, "comment_id": 53595474, "body": "Still doesn&#39;t work. I start to believe it&#39;s because TS1.6 and TSX Compilation :("}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1443657517, "creation_date": 1443657517, "answer_id": 32877439, "question_id": 32875299, "link": "https://stackoverflow.com/questions/32875299/react-not-triggering-events-bound-to-jsx-elements-created-in-array-map/32877439#32877439", "title": "React not triggering events bound to JSX Elements created in array map", "body": "<blockquote>\n  <p>the events work so it must be something related to the array</p>\n</blockquote>\n\n<p>perhaps the <code>key</code> is not unique. Consider : <code>&lt;li className=\"slide-item\"  draggable={true} onClick={this.onSlideClick.bind(this)} key={index}&gt;</code></p>\n\n<h1>General code review</h1>\n\n<p>Note that <code>bind</code> is considered harmful as you lose any type safety. Here is its signature from <code>lib.d.ts</code></p>\n\n<pre><code>bind(thisArg: any, ...argArray: any[]): any;\n</code></pre>\n\n<p>As you can see it returns <code>any</code>. Removing it might help find some other <em>typing</em> bug you have in your code.</p>\n\n<blockquote>\n  <p><code>renderSlide(item: SlideBaseModel.Slide, index: number): JSX.Element {</code> and <code>this.state.slides.map(this.renderSlide, this);</code></p>\n</blockquote>\n\n<p>Recommend you use <code>renderSlide = (item: SlideBaseModel.Slide, index: number): JSX.Element =&gt; {</code> and <code>this.state.slides.map(this.renderSlide);</code></p>\n"}, {"tags": [], "owner": {"reputation": 330, "user_id": 2645406, "user_type": "registered", "profile_image": "https://graph.facebook.com/1753888990/picture?type=large", "display_name": "Mihail Alexe", "link": "https://stackoverflow.com/users/2645406/mihail-alexe"}, "is_accepted": true, "score": 0, "last_activity_date": 1443728566, "creation_date": 1443728566, "answer_id": 32895618, "question_id": 32875299, "link": "https://stackoverflow.com/questions/32875299/react-not-triggering-events-bound-to-jsx-elements-created-in-array-map/32895618#32895618", "title": "React not triggering events bound to JSX Elements created in array map", "body": "<p>Found the issue. It was caused by the fact that i retrieved the data in the <code>componentDidMount</code> method instead of the initialization (yeah, i'm a newbie).</p>\n\n<p>Right now i'm having another issue, related to this, but i will post another question.</p>\n"}], "owner": {"reputation": 330, "user_id": 2645406, "user_type": "registered", "profile_image": "https://graph.facebook.com/1753888990/picture?type=large", "display_name": "Mihail Alexe", "link": "https://stackoverflow.com/users/2645406/mihail-alexe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "accepted_answer_id": 32895618, "answer_count": 2, "score": 0, "last_activity_date": 1443728566, "creation_date": 1443645888, "last_edit_date": 1443686681, "question_id": 32875299, "link": "https://stackoverflow.com/questions/32875299/react-not-triggering-events-bound-to-jsx-elements-created-in-array-map", "title": "React not triggering events bound to JSX Elements created in array map", "body": "<p>I have to work on a small react + typescript (1.6) application that edits slideshows.</p>\n\n<p>So the app is simple. On the left i have a sidebar that renders all the existing slides and on click, it loads a canvas on the right where the user can edit the content.</p>\n\n<p>Also, the user can mark the slide as \"hidden\" or remove it.</p>\n\n<p>The code looks like this:</p>\n\n<pre><code>renderSlide(item: SlideBaseModel.Slide, index: number): JSX.Element {\n    let cx = React.addons.classSet;\n    let _classes = cx({\n        \"fa\": true,\n        \"fa-eye\": !item.visible,\n        \"fa-eye-slash\": item.visible\n    });\n\n    return (\n        &lt;li className=\"slide-item\"  draggable={true} onClick={this.onSlideClick.bind(this)} key={item.id}&gt;\n            &lt;div className=\"index\"&gt;{index + 1}&lt;/div&gt;\n            &lt;div className=\"control remove\" onClick={this.onRemoveSlideClick.bind(this)}&gt;\n                &lt;i className=\"fa fa-times\"&gt;&lt;/i&gt;\n            &lt;/div&gt;\n            &lt;div className=\"control toggle-visibility\" onClick={this.onToggleSlideVisibility.bind(this)}&gt;\n                &lt;i className={_classes}&gt;&lt;/i&gt;\n                &lt;/div&gt;\n            &lt;SlideComponent\n                type={item.type}\n                title={item.title}\n                visible={item.visible}\n                content={item.content}\n                path={item.path}/&gt;\n        &lt;/li&gt;);\n}\n\nrender() {\n    let _slides = this.state.slides.map(this.renderSlide, this);\n    let cx = React.addons.classSet;\n    let classes = cx({\n        \"sidebar\": true,\n        \"sidebar-visible\": this.props.visible\n    });\n\n    return (&lt;ul className={classes}&gt;\n            {_slides}\n            &lt;li className=\"slide-item slide-add\" onClick={this.onAddSlideClick.bind(this) }&gt;&lt;/li&gt;\n        &lt;/ul&gt;);\n}\n</code></pre>\n\n<p>Now, whenever I click on any of the methods bound onClick in the \"renderSlide\" method, the event isn't triggered.</p>\n\n<p>I have tried with things like:</p>\n\n<pre><code>onClick={(e) =&gt; {console.log(e)}}\n</code></pre>\n\n<p>and the issue still occurs.</p>\n\n<p>Instead of map i tried to create an array and fill it inside a forEach, but it's not working.\nIf i call <code>this.renderSlide(this.state.slides[0])</code> inside the render method, the events work so it must be something related to the array.</p>\n\n<p><strong>Additional pieces of code</strong></p>\n\n<p><em>Slide props</em></p>\n\n<pre><code>interface SlideProps {\n    type: Enums.SlideType;\n    title: string;\n    content?: string;\n    path?: string;\n    visible: boolean;\n}\n</code></pre>\n\n<p><em>Generated JS code</em></p>\n\n<pre><code>Sidebar.prototype.renderSlide = function (item, index) {\n    var itemData;\n    var cx = React.addons.classSet;\n    var _classes = cx({\n        \"fa\": true,\n        \"fa-eye\": !item.visible,\n        \"fa-eye-slash\": item.visible\n    });\n    return (React.createElement(\"li\", {\"className\": \"slide-item\", \"draggable\": true, \"onClick\": this.onSlideClick.bind(this), \"key\": item.id}, React.createElement(\"div\", {\"className\": \"index\"}, index + 1), React.createElement(\"div\", {\"className\": \"control remove\", \"onClick\": this.onRemoveSlideClick.bind(this)}, React.createElement(\"i\", {\"className\": \"fa fa-times\"})), React.createElement(\"div\", {\"className\": \"control toggle-visibility\", \"onClick\": this.onToggleSlideVisibility.bind(this)}, React.createElement(\"i\", {\"className\": _classes})), React.createElement(SlideComponent, {\"type\": itemData.type, \"title\": itemData.title, \"visible\": itemData.visible, \"content\": itemData.content, \"path\": itemData.path})));\n};\nSidebar.prototype.render = function () {\n    var _slides = this.state.slides.map(this.renderSlide, this);\n    var cx = React.addons.classSet;\n    var classes = cx({\n        \"sidebar\": true,\n        \"sidebar-visible\": this.props.visible\n    });\n    return (React.createElement(\"ul\", {\"className\": classes}, _slides, React.createElement(\"li\", {\"className\": \"slide-item slide-add\", \"onClick\": this.onAddSlideClick.bind(this)})));\n};\n</code></pre>\n\n<p>Thank you in advance for your help :)</p>\n\n<hr>\n\n<p><strong>UPDATE 1</strong></p>\n\n<p>I tried to see if the EventPluginHub.putListener is called (and with what argument) for these elements, but it's not. I tried what Basarat suggested and the issue still occurs.</p>\n\n<p>I fail to see the problem here. :(</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 14274, "user_id": 579078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/xC5kj.png?s=128&g=1", "display_name": "\u11bc\u11ba\u11bc", "link": "https://stackoverflow.com/users/579078/%e1%86%bc%e1%86%ba%e1%86%bc"}, "edited": false, "score": 0, "creation_date": 1443637147, "post_id": 32871977, "comment_id": 53577748, "body": "Hm, is it <code>tsconfig.json</code> or will <code>.tsconfig</code> also work? Does <code>grunt-ts</code> take this file into account (I have already set a module output format in <code>Gruntfile.js</code>)?"}], "tags": [], "owner": {"reputation": 53661, "user_id": 1413538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/594bb80f7ed4b0b3770df7ad97c4d16a?s=128&d=identicon&r=PG", "display_name": "Brocco", "link": "https://stackoverflow.com/users/1413538/brocco"}, "is_accepted": false, "score": 0, "last_activity_date": 1443633034, "creation_date": 1443633034, "answer_id": 32871977, "question_id": 32871129, "link": "https://stackoverflow.com/questions/32871129/compile-an-enum-in-typescript/32871977#32871977", "title": "Compile an enum in TypeScript", "body": "<p>If you want to use <code>Fruit</code> outside of fruit.ts then you will need to export it...</p>\n\n<pre><code>export enum Fruit {APPLE, ORANGE};\n</code></pre>\n\n<p>And in another file when you want to use it, you will need to reference it...</p>\n\n<pre><code>import {Fruit} from './fruit';\nvar bowl = [Fruit.APPLE, Fruit.ORANGE];\n// btw, love the name \"bowl\" here\n</code></pre>\n\n<p>Also, in order to use <code>import</code> you will need to specify a module type in tsconfig.json (or via cmd line argument)</p>\n"}, {"tags": [], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "is_accepted": true, "score": 12, "last_activity_date": 1443634700, "last_edit_date": 1443634700, "creation_date": 1443634395, "answer_id": 32872363, "question_id": 32871129, "link": "https://stackoverflow.com/questions/32871129/compile-an-enum-in-typescript/32872363#32872363", "title": "Compile an enum in TypeScript", "body": "<p>The JS for that code will be:</p>\n\n<pre><code>// Fruit.js\nvar Fruit;\n(function (Fruit) {\n    Fruit[Fruit[\"APPLE\"] = 0] = \"APPLE\";\n    Fruit[Fruit[\"ORANGE\"] = 1] = \"ORANGE\";\n})(Fruit || (Fruit = {}));\n\n// main.js\nvar bowl = [Fruit.APPLE, Fruit.ORANGE];\nconsole.log(bowl);\n</code></pre>\n\n<p>You're probably looking for a <code>const enum</code> though:</p>\n\n<pre><code>const enum Fruit {APPLE, ORANGE};\n</code></pre>\n\n<p>If you use that, then the values of the enum will be inlined to the JavaScript:</p>\n\n<pre><code>// Fruit.js: empty.. nothing will be in here\n\n// main.js\nvar bowl = [0 /* APPLE */, 1 /* ORANGE */];\nconsole.log(bowl);\n</code></pre>\n\n<p>You can use a <code>const enum</code> when the JS code that a regular enum generates isn't necessary in your application.</p>\n"}], "owner": {"reputation": 14274, "user_id": 579078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/xC5kj.png?s=128&g=1", "display_name": "\u11bc\u11ba\u11bc", "link": "https://stackoverflow.com/users/579078/%e1%86%bc%e1%86%ba%e1%86%bc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2922, "favorite_count": 0, "accepted_answer_id": 32872363, "answer_count": 2, "score": 9, "last_activity_date": 1443634700, "creation_date": 1443630190, "question_id": 32871129, "link": "https://stackoverflow.com/questions/32871129/compile-an-enum-in-typescript", "title": "Compile an enum in TypeScript", "body": "<p>What do <code>enum</code>s become at runtime in TypeScript?</p>\n\n<p><em>Fruit.ts</em></p>\n\n<pre><code>enum Fruit {APPLE, ORANGE};\n</code></pre>\n\n<p><em>main.ts</em></p>\n\n<pre><code>var bowl = [Fruit.APPLE, Fruit.ORANGE];\nconsole.log(bowl);\n</code></pre>\n\n<p>The generated <code>main.js</code> file just stays the same as the <code>.ts</code>, however that won't work.</p>\n"}, {"tags": ["typescript", "q"], "answers": [{"comments": [{"owner": {"reputation": 564, "user_id": 3018274, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/OE9Gt.jpg?s=128&g=1", "display_name": "drarmstr", "link": "https://stackoverflow.com/users/3018274/drarmstr"}, "edited": false, "score": 0, "creation_date": 1443636133, "post_id": 32872043, "comment_id": 53577220, "body": "Hmm, I get the same error with that:  <code>(parameter) resolve: (val: any) =&gt; void  Supplied parameters do not match any signature of call target</code>  Are you on a different revision of DefinitelyTyped by any chance?  Or TypeScript 1.6?"}, {"owner": {"reputation": 53661, "user_id": 1413538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/594bb80f7ed4b0b3770df7ad97c4d16a?s=128&d=identicon&r=PG", "display_name": "Brocco", "link": "https://stackoverflow.com/users/1413538/brocco"}, "reply_to_user": {"reputation": 564, "user_id": 3018274, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/OE9Gt.jpg?s=128&g=1", "display_name": "drarmstr", "link": "https://stackoverflow.com/users/3018274/drarmstr"}, "edited": false, "score": 0, "creation_date": 1443636697, "post_id": 32872043, "comment_id": 53577499, "body": "I am using <code>Q</code> in a node env w/ TS 1.6 I bring in Q like this: <code>import q = require(&#39;q&#39;);</code> and use it like this: <code>let d: Q.Deferred&lt;any&gt; = q.defer();</code> How are you importing <code>Q</code>?"}, {"owner": {"reputation": 564, "user_id": 3018274, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/OE9Gt.jpg?s=128&g=1", "display_name": "drarmstr", "link": "https://stackoverflow.com/users/3018274/drarmstr"}, "edited": false, "score": 0, "creation_date": 1443642348, "post_id": 32872043, "comment_id": 53580329, "body": "I&#39;m using the Visual Studio 2015 version of TypeScript 1.6, no import, just a script tag.  Perhaps VS is the difference.."}, {"owner": {"reputation": 1699, "user_id": 1766435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gji3j.jpg?s=128&g=1", "display_name": "J.Wells", "link": "https://stackoverflow.com/users/1766435/j-wells"}, "edited": false, "score": 0, "creation_date": 1493811275, "post_id": 32872043, "comment_id": 74558811, "body": "@Brocco- you are one smooth operator."}], "tags": [], "owner": {"reputation": 53661, "user_id": 1413538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/594bb80f7ed4b0b3770df7ad97c4d16a?s=128&d=identicon&r=PG", "display_name": "Brocco", "link": "https://stackoverflow.com/users/1413538/brocco"}, "is_accepted": false, "score": 1, "last_activity_date": 1443633259, "creation_date": 1443633259, "answer_id": 32872043, "question_id": 32870629, "link": "https://stackoverflow.com/questions/32870629/typescript-and-void-q-promises/32872043#32872043", "title": "TypeScript and void Q promises", "body": "<p>If there is no return value or I do not care about the return value, I have been using...</p>\n\n<pre><code>return Q.Promise&lt;any&gt;((resolve, reject) =&gt; {\n  resolve();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 564, "user_id": 3018274, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/OE9Gt.jpg?s=128&g=1", "display_name": "drarmstr", "link": "https://stackoverflow.com/users/3018274/drarmstr"}, "is_accepted": true, "score": 2, "last_activity_date": 1444835496, "creation_date": 1444835496, "answer_id": 33129136, "question_id": 32870629, "link": "https://stackoverflow.com/questions/32870629/typescript-and-void-q-promises/33129136#33129136", "title": "TypeScript and void Q promises", "body": "<p>For Q with TS1.6 I ended up using:</p>\n\n<pre><code>return Q.Promise&lt;void&gt;((resolve,reject) =&gt; {\n    resolve(null);\n}\n</code></pre>\n"}], "owner": {"reputation": 564, "user_id": 3018274, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/OE9Gt.jpg?s=128&g=1", "display_name": "drarmstr", "link": "https://stackoverflow.com/users/3018274/drarmstr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5028, "favorite_count": 0, "accepted_answer_id": 33129136, "answer_count": 2, "score": 4, "last_activity_date": 1444835496, "creation_date": 1443628604, "last_edit_date": 1443636174, "question_id": 32870629, "link": "https://stackoverflow.com/questions/32870629/typescript-and-void-q-promises", "title": "TypeScript and void Q promises", "body": "<p>What is the correct way to use <strong>Q</strong> promises with <strong>TypeScript 1.6</strong> if they are void?  That is, they don't represent a value.  For example:</p>\n\n<pre><code>return Q.Promise&lt;void&gt;((resolve,reject) =&gt; {\n    resolve();\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>let deferred = Q.defer&lt;void&gt;();\ndeferred.resolve();\nreturn deferred.promise;\n</code></pre>\n\n<p>The call to <code>resolve()</code> gets the error:</p>\n\n<pre><code>Supplied parameters do not match any signature of call target\n(parameter) resolve: (val: void | Q.IPromise&lt;void&gt;) =&gt; void\n</code></pre>\n\n<p>Note, the following works:</p>\n\n<pre><code>let deferred = Q.defer&lt;string&gt;();\ndeferred.resolve(\"Hello World\");\nreturn deferred.promise;\n</code></pre>\n\n<p>Is this just a bug in the <a href=\"https://github.com/borisyankov/DefinitelyTyped/blob/master/q/Q.d.ts\" rel=\"nofollow\">DefinitelyTyped</a> typing (updated Aug 17, 2015 as of this writing) perhaps, or am I specifying it wrong?</p>\n"}, {"tags": ["javascript", "node.js", "visual-studio-2012", "typescript"], "comments": [{"owner": {"reputation": 99131, "user_id": 41021, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/1b91ea7970ba26630adec64ef683c474?s=128&d=identicon&r=PG", "display_name": "Robin Rodricks", "link": "https://stackoverflow.com/users/41021/robin-rodricks"}, "edited": false, "score": 0, "creation_date": 1443624431, "post_id": 32869092, "comment_id": 53570109, "body": "So far all of the other &quot;duplicate&quot; questions ONLY resolve the error by strongly typing the methods/props. This is difficult as I do not know how to strongly type imported C++ modules, do not know how to mark an imported module as &quot;dynamic&quot;, and do not know how to disable the error for a specific var."}], "answers": [{"comments": [{"owner": {"reputation": 99131, "user_id": 41021, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/1b91ea7970ba26630adec64ef683c474?s=128&d=identicon&r=PG", "display_name": "Robin Rodricks", "link": "https://stackoverflow.com/users/41021/robin-rodricks"}, "edited": false, "score": 0, "creation_date": 1443952423, "post_id": 32870375, "comment_id": 53690106, "body": "Does not work with TypeScript 0.9. I cannot use a &quot;var&quot; with a &quot;require&quot; on the same line. I need to use the &quot;import&quot; keyword,"}, {"owner": {"reputation": 7603, "user_id": 941319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f8f456a2f35fc05e048e45ba55be48a?s=128&d=identicon&r=PG", "display_name": "thoughtrepo", "link": "https://stackoverflow.com/users/941319/thoughtrepo"}, "reply_to_user": {"reputation": 99131, "user_id": 41021, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/1b91ea7970ba26630adec64ef683c474?s=128&d=identicon&r=PG", "display_name": "Robin Rodricks", "link": "https://stackoverflow.com/users/41021/robin-rodricks"}, "edited": false, "score": 0, "creation_date": 1443973160, "post_id": 32870375, "comment_id": 53695814, "body": "I tested it again with <code>0.9.0.1</code>, it works for me. What error is it giving you?"}], "tags": [], "owner": {"reputation": 7603, "user_id": 941319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f8f456a2f35fc05e048e45ba55be48a?s=128&d=identicon&r=PG", "display_name": "thoughtrepo", "link": "https://stackoverflow.com/users/941319/thoughtrepo"}, "is_accepted": true, "score": 3, "last_activity_date": 1443627830, "creation_date": 1443627830, "answer_id": 32870375, "question_id": 32869092, "link": "https://stackoverflow.com/questions/32869092/the-property-xyz-does-not-exist-on-value-of-imported-type-xyz-in-typescrip/32870375#32870375", "title": "The property &#39;xyz&#39; does not exist on value of [imported] type &#39;xyz&#39; in Typescript", "body": "<p>If you can, the very first thing you should do is update your TypeScript package, as 0.9 is very outdated.</p>\n\n<hr>\n\n<p>Without getting too complicated, defining <code>imageProc</code> as <code>any</code> will have TS ignore the type.</p>\n\n<pre><code>var imageProc: any = require('imageProc');\n</code></pre>\n\n<hr>\n\n<p>Another way is to create a placeholder definition file.</p>\n\n<p>Create a file named <code>imageProc.d.ts</code> with:</p>\n\n<pre><code>declare var imageProc: any;\ndeclare module \"imageProc\" {\n    export = imageProc;\n}\n</code></pre>\n\n<p>Then you would import it as:</p>\n\n<pre><code>import imageProc = require('imageProc');\n</code></pre>\n\n<p>Or with ES6 syntax like:</p>\n\n<pre><code>import * as imageProc from 'imageProc';\n</code></pre>\n"}], "owner": {"reputation": 99131, "user_id": 41021, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/1b91ea7970ba26630adec64ef683c474?s=128&d=identicon&r=PG", "display_name": "Robin Rodricks", "link": "https://stackoverflow.com/users/41021/robin-rodricks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 1, "accepted_answer_id": 32870375, "answer_count": 1, "score": 0, "last_activity_date": 1443627830, "creation_date": 1443624309, "last_edit_date": 1443624631, "question_id": 32869092, "link": "https://stackoverflow.com/questions/32869092/the-property-xyz-does-not-exist-on-value-of-imported-type-xyz-in-typescrip", "title": "The property &#39;xyz&#39; does not exist on value of [imported] type &#39;xyz&#39; in Typescript", "body": "<p>I am accessing functions of an imported nodejs module in typescript, and the compiler spews the given error for each method call or property access. This is my declaration:</p>\n\n<pre><code> import imageProc = module('imageProc');\n</code></pre>\n\n<p>Where <code>imageProc</code> is a compiled C++ node module with no typescript definitions.</p>\n\n<p>And this is my call:</p>\n\n<pre><code> var result:NodeBuffer = imageProc.blur(input, 5, 15, 8);\n</code></pre>\n\n<p>Is there a way to:</p>\n\n<ol>\n<li>strongly type the imageProc var and define the methods it provides, or</li>\n<li>disable the error for the imageProc var</li>\n</ol>\n\n<p>Compilation works fine, however the said error populates the error log making it difficult to separate legitimate errors from false positives.</p>\n\n<p>I'm using VS 2012 with Web Essential 2012 and TypeScript 0.9.0.1.</p>\n"}, {"tags": ["javascript", "angularjs", "typescript"], "comments": [{"owner": {"reputation": 106150, "user_id": 213464, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/a7ba62044bc19143ea4a38cf490b67f2?s=128&d=identicon&r=PG", "display_name": "YOU", "link": "https://stackoverflow.com/users/213464/you"}, "edited": false, "score": 0, "creation_date": 1443620685, "post_id": 32867703, "comment_id": 53567419, "body": "<code>var myModule= require(&#39;myModule&#39;);</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 64, "user_id": 5393314, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-FH2FaAL-GbQ/AAAAAAAAAAI/AAAAAAAAAsw/0-g9il2xNUI/photo.jpg?sz=128", "display_name": "Ben", "link": "https://stackoverflow.com/users/5393314/ben"}, "is_accepted": false, "score": 0, "last_activity_date": 1443621973, "last_edit_date": 1443621973, "creation_date": 1443621344, "answer_id": 32867996, "question_id": 32867703, "link": "https://stackoverflow.com/questions/32867703/import-angular-javascript-modules-into-typescript/32867996#32867996", "title": "Import Angular JavaScript Modules into TypeScript", "body": "<p>The import module looks for JS files too...</p>\n\n<pre><code>import $Module = require(\"myModule\");\n</code></pre>\n\n<p>This should work fine! In TypeScript you call the module with '$' and use it like:</p>\n\n<pre><code>$Module.createdWhateverFunctionYouMade(parameters);\n</code></pre>\n\n<p>In this case 'myModule' is the Javascript file.</p>\n"}, {"tags": [], "owner": {"reputation": 108, "user_id": 589073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4adcd7c8294e5226134b41f75e9c5b57?s=128&d=identicon&r=PG", "display_name": "Evgeniy", "link": "https://stackoverflow.com/users/589073/evgeniy"}, "is_accepted": true, "score": 1, "last_activity_date": 1443624058, "last_edit_date": 1443624058, "creation_date": 1443622731, "answer_id": 32868499, "question_id": 32867703, "link": "https://stackoverflow.com/questions/32867703/import-angular-javascript-modules-into-typescript/32868499#32868499", "title": "Import Angular JavaScript Modules into TypeScript", "body": "<p>You cannot use modules defined using <code>angular.module('my', [])</code> directly from TypeScript. Such notation is used just to register a module inside internal angularJS object. \nFrom good code prospective you have to redesign your angular modules to TypeScript/CommonJS/AMD modules and re-use them in your angular application.\nBut you can go another way:</p>\n\n<ol>\n<li>create a hidden <code>div</code> element.</li>\n<li>bootstrap an angular module you want to import on this div element. Here is  <a href=\"https://docs.angularjs.org/api/ng/function/angular.bootstrap\" rel=\"nofollow\">link to angularJS documentation</a> which may be helpful.</li>\n<li>use next snippet to use service or whatewer else registered in your module: <code>angular.element(document.getElementById('myhiddendiv')).injector.invoke(function(YourService: any) { YouService.doDirtyJob(); })</code>.</li>\n</ol>\n\n<p>But I would recommend to go with the first option.</p>\n"}], "owner": {"reputation": 852, "user_id": 3393290, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c22cdf2556508c58e15cf12e5f53d3f0?s=128&d=identicon&r=PG&f=1", "display_name": "Aj1", "link": "https://stackoverflow.com/users/3393290/aj1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1372, "favorite_count": 0, "accepted_answer_id": 32868499, "answer_count": 2, "score": 0, "last_activity_date": 1443624058, "creation_date": 1443620591, "question_id": 32867703, "link": "https://stackoverflow.com/questions/32867703/import-angular-javascript-modules-into-typescript", "title": "Import Angular JavaScript Modules into TypeScript", "body": "<p>I have bunch of Angular modules written in JavaScript and would like to import them into TypeScript. I tried using import and require, but it doesn't find my angular module since import checks for TypeScript Modules only.</p>\n\n<pre><code>import myModule= require('myModule');\n</code></pre>\n\n<p>Is there any other way to do this instead of converting my Js in TypeScript?</p>\n"}, {"tags": ["javascript", "angularjs", "typescript", "karma-mocha", "angular-providers"], "answers": [{"comments": [{"owner": {"reputation": 1469, "user_id": 2941047, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/w2sH4.jpg?s=128&g=1", "display_name": "Robin Hermans", "link": "https://stackoverflow.com/users/2941047/robin-hermans"}, "edited": false, "score": 0, "creation_date": 1443622942, "post_id": 32868259, "comment_id": 53569040, "body": "I&#39;m not sure if I can just rename it. I already do have a class with the name &#39;CustomService&#39; which gets created and returned by the provider. Also... do they have the be different, as I&#39;ve seen examples where the naming of the service and provider was identical. Angular would then insert the &#39;provider&#39; part for you."}], "tags": [], "owner": {"reputation": 521, "user_id": 4506790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d98bb2131784795c5c706681951c39d?s=128&d=identicon&r=PG&f=1", "display_name": "Deurco", "link": "https://stackoverflow.com/users/4506790/deurco"}, "is_accepted": false, "score": 1, "last_activity_date": 1443622059, "creation_date": 1443622059, "answer_id": 32868259, "question_id": 32867128, "link": "https://stackoverflow.com/questions/32867128/function-inside-provider-not-recognized-by-angular/32868259#32868259", "title": "Function inside provider not recognized by Angular", "body": "<p>The main problem here, IHMO, is the fact that your are trying to register a service &amp; a provider with the same name (<code>CustomService</code>). You don't have to do this.</p>\n\n<p>In your case, it seems that you just have to register the provider. Rename your <code>CustomServiceProvider</code> class to <code>CustomService</code>, then change your last lines of code to just:</p>\n\n<pre><code>angular\n    .module('custom', ['ngResource'])\n    .provider('CustomService', CustomService);\n</code></pre>\n\n<p>This way, in the <code>config</code> phase of your app, you will be able to inject <code>CustomServiceProvider</code> (and use <code>setOptions</code>), but also <code>CustomService</code> in controllers, directives &amp; other services.</p>\n\n<p>Please read <a href=\"https://docs.angularjs.org/guide/providers\" rel=\"nofollow\">Angular Documentation on providers</a> (mainly \"Provider Recipe\") for more information.</p>\n"}], "owner": {"reputation": 1469, "user_id": 2941047, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/w2sH4.jpg?s=128&g=1", "display_name": "Robin Hermans", "link": "https://stackoverflow.com/users/2941047/robin-hermans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 976, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1443688586, "creation_date": 1443618909, "last_edit_date": 1443688586, "question_id": 32867128, "link": "https://stackoverflow.com/questions/32867128/function-inside-provider-not-recognized-by-angular", "title": "Function inside provider not recognized by Angular", "body": "<p>First a little background on what I want to achieve. I have a service that requires some configuration before it gets injected and used. After doing some research I figured that having a provider for the service would be the best solution. So I implemented the provider according to <a href=\"http://www.timecockpit.com/devblog/2014/10/24/AngularJS-Provider-in-TypeScript\" rel=\"nofollow\">this example</a>. Even thought the Typescript compiler (I'm using typescript to compile my code into valid JavaScript) thinks it's ok\u00e9, JavaScript does not recognize the function that's available through the provider to set some options.</p>\n\n<p>My code looks as follows (some code has been left out or renamed for a reason)</p>\n\n<pre><code>export interface ICustomServiceProvider extends ng.IServiceProvider {\n  setOptions(options: ICustomOptions): void;\n  $get($http, $window, $resource): ICustomService;\n}\n\nclass CustomServiceProvider implements ICustomServiceProvider {\n  private options: ICustomOptions;\n\n  public $get($http, $window, $resource) {\n    return new CustomService($http, $window, $resource);\n  }\n\n  public setOptions(options: ICustomOptions): void {\n    this.options = options;\n  }\n}\n\nangular.module('custom', ['ngResource'])\n  .service('CustomService', CustomService)\n  .provider('CustomService', CustomServiceProvider);\n</code></pre>\n\n<p>The problem occurs when using the provider in one of my unit tests (I'm using Karma with Mocka for testing) and calling the <code>setOptions</code> function. Which is done like this.</p>\n\n<pre><code>describe('CustomService', function() {\n\n  var provider: ICustomServiceProvider;\n  var options: {hello: 'world'};\n\n  beforeEach(inject(function($injector: ng.auto.IInjectorService) {\n    provider = &lt;ICustomServiceProvider&gt; $injector.get('');\n  }));\n\n  it('CustomService provider test', function() {\n    provider.setOptions(options);\n  });\n}\n</code></pre>\n\n<p>When running this test Karma throws an error saying</p>\n\n<blockquote>\n  <p>TypeError: provider.setOptions is not a function at Context.[anonymous]</p>\n</blockquote>\n\n<p>Also the compiled JavaScript Visual Studio Code is giving me a green warning (I don't think it's a error) on the provider variable on the line <code>.provider('CustomService', CustomServiceProvider);</code></p>\n\n<blockquote>\n  <p>Argument of type '() => void' is not assignable to parameter of type 'IServiceProvider'. Property '$get' is missing in type '() => void'.<br/>\n  (local var) CustomServiceProvider: () => void<br/>\n  Providers</p>\n</blockquote>\n\n<p>I already spent hours on fixing this problem but cannot seem to find the solution. Any idea on how to fix this of what I'm doing wrong?</p>\n\n<p>Thanks in advance.</p>\n\n<p><strong>Edit (30-09-2015)</strong></p>\n\n<p>The service I'm am talking about looks like this:</p>\n\n<pre><code>export interface ICustomService {\n  // Some function definitions\n}\n\nclass CustomService implements ICustomService {\n  static $inject = ['$http', '$window', '$resource'];\n\n  constructor(httpService: ng.IHttpService, windowService: ng.IWindowService, resourceService: ng.resource.IResourceService, options: ICustomOptions) {\n    // Setting variables\n  }\n}\n</code></pre>\n"}, {"tags": ["oop", "generics", "inheritance", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 793, "user_id": 1922857, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/cc3dc5254756dad7e820392e4395fd64?s=128&d=identicon&r=PG&f=1", "display_name": "jchnxu", "link": "https://stackoverflow.com/users/1922857/jchnxu"}, "edited": false, "score": 0, "creation_date": 1556000732, "post_id": 32866534, "comment_id": 98278654, "body": "I also struggled to find the answer. Basically what I want is pass <code>A&lt;DerivedProps&gt;</code> component to <code>A&lt;BaseProps&gt;</code> interface to get some basic props type checking both inside and outside of <code>A</code>."}, {"owner": {"reputation": 793, "user_id": 1922857, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/cc3dc5254756dad7e820392e4395fd64?s=128&d=identicon&r=PG&f=1", "display_name": "jchnxu", "link": "https://stackoverflow.com/users/1922857/jchnxu"}, "edited": false, "score": 0, "creation_date": 1556000890, "post_id": 32866534, "comment_id": 98278706, "body": "But later I&#39;ve found that the situation is similar to assigning <code>DerivedProps =&gt; void</code> to <code>BaseProps =&gt; void</code>. The first function(or class constructor) cannot inherit the second one."}, {"owner": {"reputation": 4662, "user_id": 4035845, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IXWOi.jpg?s=128&g=1", "display_name": "AnthumChris", "link": "https://stackoverflow.com/users/4035845/anthumchris"}, "edited": false, "score": 0, "creation_date": 1599419313, "post_id": 32866534, "comment_id": 112762729, "body": "Consider using <code>abstract</code> classes/functions. (<a href=\"https://stackoverflow.com/questions/32866534/extending-react-components-in-typescript#63767838\">see answer below</a>)"}], "answers": [{"comments": [{"owner": {"reputation": 725, "user_id": 5362684, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JOSSl.jpg?s=128&g=1", "display_name": "Thegaram", "link": "https://stackoverflow.com/users/5362684/thegaram"}, "edited": false, "score": 0, "creation_date": 1443624517, "post_id": 32868572, "comment_id": 53570188, "body": "Thanks for the quick answer. For your solution, I get an error for the second line of the constructor:      <code>type &#39;BaseStates&#39; is not assignable to type &#39;S&#39;</code>  which is not surprising, as <code>S</code> is a subclasss of <code>BaseStates</code>."}, {"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "reply_to_user": {"reputation": 725, "user_id": 5362684, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JOSSl.jpg?s=128&g=1", "display_name": "Thegaram", "link": "https://stackoverflow.com/users/5362684/thegaram"}, "edited": false, "score": 0, "creation_date": 1443624559, "post_id": 32868572, "comment_id": 53570213, "body": "@Thegaram i was just fixing that. Fixed now."}, {"owner": {"reputation": 725, "user_id": 5362684, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JOSSl.jpg?s=128&g=1", "display_name": "Thegaram", "link": "https://stackoverflow.com/users/5362684/thegaram"}, "edited": false, "score": 0, "creation_date": 1443624939, "post_id": 32868572, "comment_id": 53570462, "body": "Thanks! Still not sure about how safe these downcasts are, but my question is answered."}, {"owner": {"reputation": 725, "user_id": 5362684, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JOSSl.jpg?s=128&g=1", "display_name": "Thegaram", "link": "https://stackoverflow.com/users/5362684/thegaram"}, "edited": false, "score": 0, "creation_date": 1443626849, "post_id": 32868572, "comment_id": 53571724, "body": "do you know why it won&#39;t work with optional states? If I set <code>a</code> to optional, at <code>GenericBase.getInitialState</code> I get an error: <code>neither type &#39;{ a: number; }&#39; nor type &#39;S&#39; is assignable to the other </code>"}, {"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "reply_to_user": {"reputation": 725, "user_id": 5362684, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JOSSl.jpg?s=128&g=1", "display_name": "Thegaram", "link": "https://stackoverflow.com/users/5362684/thegaram"}, "edited": false, "score": 2, "creation_date": 1443627444, "post_id": 32868572, "comment_id": 53572148, "body": "@Thegaram I had to be more explicit to get it to work: <code>return { a: 3 } as BaseStates as S</code>. Kind of annoying, but maybe there&#39;s a reason. I updated the answer."}, {"owner": {"reputation": 4579, "user_id": 1454074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/gJBII.jpg?s=128&g=1", "display_name": "KhalilRavanna", "link": "https://stackoverflow.com/users/1454074/khalilravanna"}, "edited": false, "score": 0, "creation_date": 1481153321, "post_id": 32868572, "comment_id": 69265971, "body": "As a heads up, this clobbers type checking on your state as <code>S</code> could be <i>any</i> interface that extends <code>BaseStates</code>. If you do <code>return { a: 3, derp: true } as BaseStates as S</code> it won&#39;t throw an error, which <i>technically</i> makes sense, because there&#39;s no way to know if <code>S</code> has a <code>derp</code> property on it. Just something to be aware of because that might not be what you&#39;re looking for."}, {"owner": {"reputation": 4662, "user_id": 4035845, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IXWOi.jpg?s=128&g=1", "display_name": "AnthumChris", "link": "https://stackoverflow.com/users/4035845/anthumchris"}, "edited": false, "score": 0, "creation_date": 1599419327, "post_id": 32868572, "comment_id": 112762735, "body": "Consider using <code>abstract</code> classes/functions. (<a href=\"https://stackoverflow.com/questions/32866534/extending-react-components-in-typescript#63767838\">see answer below</a>)"}], "tags": [], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "is_accepted": true, "score": 13, "last_activity_date": 1443627300, "last_edit_date": 1443627300, "creation_date": 1443622891, "answer_id": 32868572, "question_id": 32866534, "link": "https://stackoverflow.com/questions/32866534/extending-react-components-in-typescript/32868572#32868572", "title": "Extending React components in TypeScript", "body": "<p>You can set only a few properties of the state at once in <code>Derived</code> by using a type assertion:</p>\n\n<pre><code>this.setState({ b: 4 } as DerivedStates); // do this\nthis.setState({ a: 7 } as DerivedStates); // or this\nthis.setState({ a: 7, b: 4 });            // or this\n</code></pre>\n\n<p>By the way, no need to have different names for <code>getInitialState</code>... you could just do:</p>\n\n<pre><code>class GenericBase&lt;S extends BaseStates&gt; extends React.Component&lt;void, S&gt; {\n    constructor() {\n        super();        \n        this.state = this.getInitialState();\n    }\n\n    protected getInitialState() {\n        return { a: 3 } as BaseStates as S;\n    }\n}\n\nclass Derived extends GenericBase&lt;DerivedStates&gt; {\n    getInitialState() {\n        var initialStates = super.getInitialState();\n        initialStates.b = 4;\n        return initialStates;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4662, "user_id": 4035845, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IXWOi.jpg?s=128&g=1", "display_name": "AnthumChris", "link": "https://stackoverflow.com/users/4035845/anthumchris"}, "is_accepted": false, "score": 1, "last_activity_date": 1599419237, "last_edit_date": 1599419237, "creation_date": 1599418709, "answer_id": 63767838, "question_id": 32866534, "link": "https://stackoverflow.com/questions/32866534/extending-react-components-in-typescript/63767838#63767838", "title": "Extending React components in TypeScript", "body": "<pre><code>import { Component } from 'react'\n\n\nabstract class TestComponent&lt;P = {}, S = {}, SS = any&gt; extends Component&lt;P, S, SS&gt; {\n  abstract test(): string\n}\n\n\ntype Props = {\n  first: string,\n  last: string,\n}\n\ntype State = {\n  fullName: string,\n}\n\nclass MyTest extends TestComponent&lt;Props, State&gt; {\n  constructor(props: Props) {\n    super(props)\n    this.state = {\n      fullName: `${props.first} ${props.last}`\n    }\n  }\n\n  test() {\n    const { fullName } = this.state\n    return fullName\n  }\n}\n\n</code></pre>\n"}], "owner": {"reputation": 725, "user_id": 5362684, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JOSSl.jpg?s=128&g=1", "display_name": "Thegaram", "link": "https://stackoverflow.com/users/5362684/thegaram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10066, "favorite_count": 7, "accepted_answer_id": 32868572, "answer_count": 2, "score": 25, "last_activity_date": 1599419237, "creation_date": 1443617269, "last_edit_date": 1443625155, "question_id": 32866534, "link": "https://stackoverflow.com/questions/32866534/extending-react-components-in-typescript", "title": "Extending React components in TypeScript", "body": "<p>I'm using React.js with TypeScript. Is there any way to create React components that inherit from other components but have some additional props/states?</p>\n\n<p>What I'm trying to achieve is something like this:</p>\n\n<pre><code>interface BaseStates {\n    a: number;\n}\n\nclass GenericBase&lt;S extends BaseStates&gt; extends React.Component&lt;void, S&gt; {\n    protected getBaseInitialState(): BaseStates {\n        return { a: 3 };\n    }\n}\n\nclass Base extends GenericBase&lt;BaseStates&gt; {\n    getInitialState(): BaseStates {\n        return super.getBaseInitialState();\n    }\n}\n\ninterface DerivedStates extends BaseStates {\n    b: number;\n}\n\nclass Derived extends GenericBase&lt;DerivedStates&gt; {\n    getInitialState(): DerivedStates {\n        var initialStates = super.getBaseInitialState() as DerivedStates; // unsafe??\n        initialStates.b = 4;\n        return initialStates\n    }\n}\n</code></pre>\n\n<p>However, this will fail if I call <code>this.setState</code> in <code>Derived</code>, I get a TypeScript error (parameter of type <code>DerivedStates</code> is not assignable to type <code>S</code>). I suppose this is not a TypeScript-specific thing, but a general limitation of mixing inheritance with generics (?). Is there any type-safe workaround for this?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>The solution I settled on (based on the answer of David Sherret):</p>\n\n<pre><code>interface BaseStates {\n    a: number;\n}\n\nclass GenericBase&lt;S extends BaseStates&gt; extends React.Component&lt;void, S&gt; {\n    constructor() {\n        super();\n        this.state = this.getInitialState();\n    }\n\n    getInitialState(): S {\n        return { a: 3 } as S;\n    }\n\n    update() {\n        this.setState({ a: 7 } as S);\n    }\n}\n\ninterface DerivedStates extends BaseStates {\n    b: number;\n}\n\nclass Derived extends GenericBase&lt;DerivedStates&gt; {\n    getInitialState(): DerivedStates {\n        var initialStates = super.getInitialState();\n        initialStates.b = 4;\n        return initialStates;\n    }\n\n    update() {\n        this.setState({ a: 7, b: 4 });\n    }\n}\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 1328, "user_id": 1001966, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/61c1ed29afda785eb8b45a9174bc2470?s=128&d=identicon&r=PG", "display_name": "Bart van den Burg", "link": "https://stackoverflow.com/users/1001966/bart-van-den-burg"}, "is_accepted": false, "score": 0, "last_activity_date": 1443606632, "creation_date": 1443606632, "answer_id": 32863012, "question_id": 32862111, "link": "https://stackoverflow.com/questions/32862111/getting-an-error-message-when-compiling-typescript/32863012#32863012", "title": "Getting an error message when compiling typescript", "body": "<p>Ok, looks like I found the answer myself. Replaced the line with the error with this:</p>\n\n<pre><code>return this.persistPromises[basket.basketId] = this.$q.when(this.persistPromises[basket.basketId] || basket).then&lt;Basket.BasketModel&gt;(basket =&gt; {\n</code></pre>\n"}], "owner": {"reputation": 1328, "user_id": 1001966, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/61c1ed29afda785eb8b45a9174bc2470?s=128&d=identicon&r=PG", "display_name": "Bart van den Burg", "link": "https://stackoverflow.com/users/1001966/bart-van-den-burg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 607, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1443606632, "creation_date": 1443603988, "question_id": 32862111, "link": "https://stackoverflow.com/questions/32862111/getting-an-error-message-when-compiling-typescript", "title": "Getting an error message when compiling typescript", "body": "<p>I have the following piece of code:</p>\n\n<pre><code>class BasketManager {\n    private persistPromises: { [key: string]: ng.IPromise&lt;Basket.BasketModel&gt; } = {};\n\n    constructor(private $q: ng.IQService) {}\n\n    order(basket: Basket.BasketModel, simulate = false): ng.IPromise&lt;Basket.BasketModel&gt; {\n        return this.persistPromises[basket.basketId] = this.$q.when(this.persistPromises[basket.basketId] || basket).then(basket =&gt; {\n            return this.$http.post(url, {})\n                .then((response:ng.IHttpPromiseCallbackArg&lt;API.Contracts.IBasketContract&gt;) =&gt; this.storeBasket(response.data, true))\n                .catch((response:ng.IHttpPromiseCallbackArg&lt;any&gt;) =&gt; this.handleBasketErrorResponse(basket, response));\n        });\n    });\n\n    private storeBasket(data: API.Contracts.IBaseBasketContract, withItems = false): Basket.BasketModel {\n        /* ... */\n    }\n\n    private handleBasketErrorResponse(basket: Basket.BasketModel, response: ng.IHttpPromiseCallbackArg&lt;any&gt;): Basket.BasketModel {\n        /* ... */\n    }\n}\n</code></pre>\n\n<p>When I try to compile it, I get this error message:</p>\n\n<pre><code>TypeScript error: app/scripts/objectmanager/basketmanager.service.ts(100,60): error TS2453: The type argument for type parameter 'TResult' cannot be inferred from the usage. Consider specifying the type arguments explicitly.\n  Type argument candidate 'IBaseBasketContract' is not a valid type argument because it is not a supertype of candidate 'BasketModel'.\n</code></pre>\n\n<p>100,60 is 7,56 in the above snippet.</p>\n\n<p>I tried explicitly specifying the arguments for each and every variable, but that didn't help. What am I missing?</p>\n"}, {"tags": ["angularjs", "visual-studio", "visual-studio-2013", "typescript", "chutzpah"], "comments": [{"owner": {"reputation": 16194, "user_id": 50660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vhL7s.jpg?s=128&g=1", "display_name": "Matthew Manela", "link": "https://stackoverflow.com/users/50660/matthew-manela"}, "edited": false, "score": 1, "creation_date": 1443738795, "post_id": 32860703, "comment_id": 53624783, "body": "Are you using a chutzpah.json file and is it referencing a similar set of files as your karma.conf?"}, {"owner": {"reputation": 963, "user_id": 4704774, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh3.googleusercontent.com/-DedY1w_g0Wg/AAAAAAAAAAI/AAAAAAAAB08/-AXXW4uxs-8/photo.jpg?sz=128", "display_name": "bucicimaci", "link": "https://stackoverflow.com/users/4704774/bucicimaci"}, "reply_to_user": {"reputation": 16194, "user_id": 50660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vhL7s.jpg?s=128&g=1", "display_name": "Matthew Manela", "link": "https://stackoverflow.com/users/50660/matthew-manela"}, "edited": false, "score": 0, "creation_date": 1443779554, "post_id": 32860703, "comment_id": 53637573, "body": "Ah thanks. I had a wrong karma config file and I&#39;ve forgot to update chutzpah.json... Thanks a lot."}, {"owner": {"reputation": 17182, "user_id": 606821, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/X49xe.png?s=128&g=1", "display_name": "Remo H. Jansen", "link": "https://stackoverflow.com/users/606821/remo-h-jansen"}, "edited": false, "score": 0, "creation_date": 1443866896, "post_id": 32860703, "comment_id": 53669595, "body": "@bucicimaci you should post an answer for your won question, so this question can be closed and it to help others in the future."}], "answers": [{"tags": [], "owner": {"reputation": 963, "user_id": 4704774, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh3.googleusercontent.com/-DedY1w_g0Wg/AAAAAAAAAAI/AAAAAAAAB08/-AXXW4uxs-8/photo.jpg?sz=128", "display_name": "bucicimaci", "link": "https://stackoverflow.com/users/4704774/bucicimaci"}, "is_accepted": true, "score": 0, "last_activity_date": 1443969609, "creation_date": 1443969609, "answer_id": 32934665, "question_id": 32860703, "link": "https://stackoverflow.com/questions/32860703/testing-typescript-and-angularjs-in-visual-studio-with-jasmine-and-chutzpah-ca/32934665#32934665", "title": "Testing TypeScript and AngularJS in Visual Studio with Jasmine and Chutzpah - can&#39;t find variable: angular", "body": "<p>I had a wrong karma config file and after it has started to work I forgot to update chutzpah.json so it was my fault. Thanks for the help @MatthewManela</p>\n"}], "owner": {"reputation": 963, "user_id": 4704774, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh3.googleusercontent.com/-DedY1w_g0Wg/AAAAAAAAAAI/AAAAAAAAB08/-AXXW4uxs-8/photo.jpg?sz=128", "display_name": "bucicimaci", "link": "https://stackoverflow.com/users/4704774/bucicimaci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 496, "favorite_count": 0, "accepted_answer_id": 32934665, "answer_count": 1, "score": 0, "last_activity_date": 1443969609, "creation_date": 1443599430, "last_edit_date": 1443600587, "question_id": 32860703, "link": "https://stackoverflow.com/questions/32860703/testing-typescript-and-angularjs-in-visual-studio-with-jasmine-and-chutzpah-ca", "title": "Testing TypeScript and AngularJS in Visual Studio with Jasmine and Chutzpah - can&#39;t find variable: angular", "body": "<p>I'm trying to test my TypeScript and AngularJS code with Jasmine in Visual Studio Chutzpah. Test is running correctly in karma, but I realy like Chutzpah's UI.</p>\n\n<p>My <code>controllerSpecs.ts</code>:</p>\n\n<pre><code>/// &lt;chutzpah_reference path=\"../Scripts/angular.js\" /&gt;\n/// &lt;chutzpah_reference path=\"../Scripts/angular-mocks.js\" /&gt;\n/// &lt;chutzpah_reference path=\"../Scripts/angular-route.js\" /&gt;\n/// &lt;chutzpah_reference path=\"../Scripts/angular-resource.js\" /&gt;\n/// &lt;chutzpah_reference path=\"../Scripts/angular-local-storage.js\" /&gt;\n/// &lt;chutzpah_reference path=\"../Controllers/MenuController.js\" /&gt;\n/// &lt;chutzpah_reference path=\"../App/app.js\" /&gt;\n/// &lt;chutzpah_reference path=\"../references.js\" /&gt;\n/// &lt;reference path=\"../references.ts\" /&gt;\n\ndescribe('Controller Specs', () =&gt; {\n\ndescribe('Menu Controller Specs', () =&gt; {\n    var menuCtrl, scope;\n\n    beforeEach(angular.mock.module('typewritingApp'));\n\n    beforeEach(() =&gt; inject(($rootScope) =&gt; {\n\n        scope = $rootScope.$new();\n        menuCtrl = new App.MenuCtrl(scope);\n    }));\n\n    it('should be true', () =&gt; {\n        expect(true).toBe(true);\n    });\n});\n\n});\n</code></pre>\n\n<p>My <code>app.ts</code>:</p>\n\n<pre><code>module App {\nvar typewritingapp: ng.IModule = angular.module(\"typewritingApp\", [])\n    .controller(\"MenuCtrl\", [\"$scope\", MenuCtrl])\n}\n</code></pre>\n\n<p>My <code>MenuController.ts</code>:</p>\n\n<pre><code>module App {\n\nexport class MenuCtrl {\n    constructor($scope: any) {\n        $scope.pageTitle = \"Menu\";\n    }\n}\n}\n</code></pre>\n\n<p>If I change the <code>angular.mock.module</code> part to <code>module</code> in the test (and I also need to modify the angular-mocks.d.ts to declare module) I receive the same error but it doesn't find variable: module.</p>\n"}, {"tags": ["javascript", "knockout.js", "typescript", "viewmodel", "custom-component"], "answers": [{"comments": [{"owner": {"reputation": 793, "user_id": 1688697, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Pypcy.png?s=128&g=1", "display_name": "Doseke", "link": "https://stackoverflow.com/users/1688697/doseke"}, "edited": false, "score": 0, "creation_date": 1443592054, "post_id": 32858628, "comment_id": 53550561, "body": "that does not work for me.  If I put  viewModel: { require: &#39;Scripts/App/Components/AttributeTable/ViewModels/FilterView&zwnj;&#8203;Model&#39; } works if the file has only one class, I want to choose a spesific class from many"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1443591874, "creation_date": 1443591874, "answer_id": 32858628, "question_id": 32858600, "link": "https://stackoverflow.com/questions/32858600/register-knockout-js-component-viewmodel-from-module-in-typescript/32858628#32858628", "title": "Register Knockout.js component viewmodel from module in typescript", "body": "<blockquote>\n  <p><code>require('Scripts/App/Components/AttributeTable/ViewModels/FilterViewModel');</code></p>\n</blockquote>\n\n<p>You probably need to change this into a <em>relative</em> path. Even though TypeScript finds it at compile time ... the runtime library may not. Use something like <code>require('../AttributeTable/ViewModels/FilterViewModel');</code> etc.</p>\n"}, {"tags": [], "owner": {"reputation": 793, "user_id": 1688697, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Pypcy.png?s=128&g=1", "display_name": "Doseke", "link": "https://stackoverflow.com/users/1688697/doseke"}, "is_accepted": true, "score": 4, "last_activity_date": 1444189204, "creation_date": 1444189204, "answer_id": 32983414, "question_id": 32858600, "link": "https://stackoverflow.com/questions/32858600/register-knockout-js-component-viewmodel-from-module-in-typescript/32983414#32983414", "title": "Register Knockout.js component viewmodel from module in typescript", "body": "<p><strong>SOLVED</strong></p>\n\n<p>The problem was here  <code>viewModel: { require: FilterVM.FilterViewModel }</code></p>\n\n<p>Should be   <code>viewModel: FilterVM.FilterViewModel</code></p>\n"}], "owner": {"reputation": 793, "user_id": 1688697, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Pypcy.png?s=128&g=1", "display_name": "Doseke", "link": "https://stackoverflow.com/users/1688697/doseke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1369, "favorite_count": 0, "accepted_answer_id": 32983414, "answer_count": 2, "score": 0, "last_activity_date": 1444189204, "creation_date": 1443591735, "last_edit_date": 1444189182, "question_id": 32858600, "link": "https://stackoverflow.com/questions/32858600/register-knockout-js-component-viewmodel-from-module-in-typescript", "title": "Register Knockout.js component viewmodel from module in typescript", "body": "<p>My viewmodel module has several classes, so I want to register a spesific class as component's viewmodel.</p>\n\n<p>And it says: <strong>Component 'filter-table': Unknown viewModel value: [object Object]</strong></p>\n\n<p>This is what I have in my viewmodel module </p>\n\n<pre><code>module FilterVM {\n\nexport class FilterViewModel {\n  //some code\n}\n\nclass FilterTableViewModel {\n} \n\nclass AttributeTableViewModel {\n}\n\nclass LayerAttributeViewModel {\n}\n\n}\nexport = FilterVM;\n</code></pre>\n\n<p>And this where I am trying to register</p>\n\n<pre><code>import FilterVM = require('Scripts/App/Components/AttributeTable/ViewModels/FilterViewModel');\n\n\nko.components.register('filter-table', {\n        viewModel: { require: FilterVM.FilterViewModel },\n        template: { require: 'text!Scripts/App/Components/AttributeTable/Views/FilterTableView.html' }\n    });\n</code></pre>\n\n<p><strong>What is wrong with that?</strong></p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1443588430, "post_id": 32857969, "comment_id": 53549298, "body": "How are you evaluating the script? What process are you using to build/verify it first?"}, {"owner": {"reputation": 332, "user_id": 938341, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fd1db0819aaa8c4b5b60a3696a54c5f8?s=128&d=identicon&r=PG", "display_name": "kirie", "link": "https://stackoverflow.com/users/938341/kirie"}, "reply_to_user": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1443588503, "post_id": 32857969, "comment_id": 53549332, "body": "@Dai I haven&#39;t build/verify it first, still in <a href=\"http://www.typescriptlang.org/Playground\" rel=\"nofollow noreferrer\">typescriptlang.org/Playground</a> and trying out things or two."}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 0, "creation_date": 1443594705, "post_id": 32857969, "comment_id": 53551633, "body": "This is the main use for <code>implements Ifoobar</code>: <a href=\"http://bit.ly/1FHmopN\" rel=\"nofollow noreferrer\">bit.ly/1FHmopN</a> - it helps you to ensure Ifoobar has the correct structure (and also supplies information to other developers about the usage of the <code>foobar</code> class, thus ensuring it remains compatible with the interface over time)."}, {"owner": {"reputation": 14053, "user_id": 650891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01dc99801914d08b2aa5889777970c0e?s=128&d=identicon&r=PG", "display_name": "Stephen Chung", "link": "https://stackoverflow.com/users/650891/stephen-chung"}, "edited": false, "score": 0, "creation_date": 1443625965, "post_id": 32857969, "comment_id": 53571139, "body": "I&#39;m pretty sure it doesn&#39;t work.  First, the <code>public</code> keyword is a syntax error.  Second, it will refuse to compile since <code>foobar</code> does not implement <code>Ifoobar</code>. Third, you&#39;re correct that <code>test(obj)</code> should also be a type error."}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1443589616, "creation_date": 1443589616, "answer_id": 32858191, "question_id": 32857969, "link": "https://stackoverflow.com/questions/32857969/any-reason-to-put-implements-interface-to-class/32858191#32858191", "title": "Any reason to put implements interface to class?", "body": "<blockquote>\n  <p>what's the point of using interface if contract itself was not enforced</p>\n</blockquote>\n\n<p>Its enforced at compile time e.g. the following fails to compile (because I removed <code>public</code> from <code>bar</code>): </p>\n\n<pre><code>class foobar implements Ifoobar // ERROR property `bar` is missing in foobar \n{\n    full: string;\n    constructor (public foo, bar)\n    {\n        this.full = foo + bar;\n    }\n}\n\ninterface Ifoobar\n{\n    foo: string;\n    bar: string;\n}\n</code></pre>\n\n<p>It is really for the class <em>author</em> (not consumer) to ensure that they follow the contract (<code>interface</code>).</p>\n\n<h1>More</h1>\n\n<p>Please note that types are structuring in typescript and compile failure does not mean that js will not be generated. See <a href=\"https://basarat.gitbooks.io/typescript/content/docs/why-typescript.html\" rel=\"nofollow\">why typescript</a></p>\n"}, {"tags": [], "owner": {"reputation": 2314, "user_id": 348336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33c10fcc825dad5d8f76f63756d42f03?s=128&d=identicon&r=PG", "display_name": "Gildor", "link": "https://stackoverflow.com/users/348336/gildor"}, "is_accepted": true, "score": 3, "last_activity_date": 1443592645, "creation_date": 1443592645, "answer_id": 32858813, "question_id": 32857969, "link": "https://stackoverflow.com/questions/32857969/any-reason-to-put-implements-interface-to-class/32858813#32858813", "title": "Any reason to put implements interface to class?", "body": "<p>TypeScript uses <a href=\"http://www.typescriptlang.org/Handbook#interfaces\" rel=\"nofollow\">duck typing</a>, which means if the members match, types are considered compatible. That's why the code is still valid after removing <code>implements Ifoobar</code> - a <code>foobar</code> can be treated as a <code>Ifoobar</code> since it has all the members declared by <code>Ifoobar</code>.</p>\n\n<p>And TypeScript does enforce the contract. If you remove/rename either member <code>foo</code> or <code>bar</code>, the compiler will generate errors.</p>\n"}], "owner": {"reputation": 332, "user_id": 938341, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fd1db0819aaa8c4b5b60a3696a54c5f8?s=128&d=identicon&r=PG", "display_name": "kirie", "link": "https://stackoverflow.com/users/938341/kirie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 32858813, "answer_count": 2, "score": 3, "last_activity_date": 1443595911, "creation_date": 1443588178, "last_edit_date": 1443595911, "question_id": 32857969, "link": "https://stackoverflow.com/questions/32857969/any-reason-to-put-implements-interface-to-class", "title": "Any reason to put implements interface to class?", "body": "<p>I'm new to type script, just browsing their tutorial and trying some coding in their playground but found something strange.</p>\n\n<p>For example this code:</p>\n\n<pre><code>class foobar implements Ifoobar\n{\n    full: string;\n    constructor (public foo, public bar)\n    {\n        this.full = foo + bar;\n    }\n}\n\ninterface Ifoobar\n{\n    foo: string;\n    bar: string;\n}\n\nfunction test(ifoobar: Ifoobar)\n{\n    return ifoobar.foo + ifoobar.bar;\n}\n\nvar obj = new foobar(\"hello\", \"world\");\n\n\ndocument.body.innerHTML = test(obj);\n</code></pre>\n\n<p>works if you put </p>\n\n<pre><code>class foobar implements Ifoobar\n</code></pre>\n\n<p>or just</p>\n\n<pre><code>class foobar \n</code></pre>\n\n<p>so what's the point of using interface if contract itself was not enforced?</p>\n\n<p><strong>UPDATE</strong>\nMy main concern is actually on this line:</p>\n\n<pre><code>document.body.innerHTML = test(obj);\n</code></pre>\n\n<p>this should throw error right since foobar doesn't use implements Ifoobar, and test(ifoobar: Ifoobar) as specified in method argument should accept only Ifoobar. To me it feels like typescript just plainly think that foobar is implements Ifoobar even though it isn't.</p>\n"}, {"tags": ["json", "angularjs", "rest", "netbeans", "typescript"], "comments": [{"owner": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 2, "creation_date": 1443573253, "post_id": 32855455, "comment_id": 53545377, "body": "You are looking in the wrong place. If that&#39;s what you receive that is what server is sending ... unless you happen to be using any <code>$httpInterceptors</code> that are looping through the data and changing it, but that is highly unlikely and would be written into your angular app."}, {"owner": {"reputation": 14053, "user_id": 650891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01dc99801914d08b2aa5889777970c0e?s=128&d=identicon&r=PG", "display_name": "Stephen Chung", "link": "https://stackoverflow.com/users/650891/stephen-chung"}, "edited": false, "score": 0, "creation_date": 1443626916, "post_id": 32855455, "comment_id": 53571779, "body": "Are you using an ORM tool in the back-end?  You probably have an ORM layer that <i>maps</i> your database fields (such as <code>vendorCity</code>) into object field names (<code>city</code>).  However, that REST service seems to be driven directly from the backend database with the raw table column names.  This happens a <i>lot</i> in large projects where the backend, middle tier and client-side are developed by different teams."}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1443573975, "creation_date": 1443573975, "answer_id": 32856009, "question_id": 32855455, "link": "https://stackoverflow.com/questions/32855455/json-from-rest-service-returning-under-wrong-name/32856009#32856009", "title": "JSON from REST service returning under wrong name", "body": "<blockquote>\n  <p>Is there any reason for either angularJS or my Java REST service to be auto renaming my returned JSON to have these property names</p>\n</blockquote>\n\n<p>It isn't angular. Its probably the Java REST service. </p>\n\n<p>One option is to update the interface to match what the server returns :</p>\n\n<pre><code>interface Vendor {\n    vendorNo: number;\n    vendorName: string;\n    // so on ...\n}\n</code></pre>\n"}], "owner": {"reputation": 279, "user_id": 2562365, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/25fc04b02bded0f578403fd1591c52ae?s=128&d=identicon&r=PG&f=1", "display_name": "Delete", "link": "https://stackoverflow.com/users/2562365/delete"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1443573975, "creation_date": 1443570128, "question_id": 32855455, "link": "https://stackoverflow.com/questions/32855455/json-from-rest-service-returning-under-wrong-name", "title": "JSON from REST service returning under wrong name", "body": "<p>I am currently building an angularJS/typescript web app with a Netbeans RESTful backend. I have my typescript interface set up for a vendor as follows:</p>\n\n<pre><code>interface Vendor {\n    vendorno: number,\n    name: string,\n    address1: string,\n    city: string,\n    province: string,\n    postalcode: string,\n    phone: string,\n    vendortype: string,\n    email: string;\n}\n</code></pre>\n\n<p>When I call my rest service to pull back all of the vendors from my JavaDB it is pulling back JSON named under a completely different scheme than my interface, and in order to get my angular directives to work, I have to reference the naming scheme of this JSON instead and it causing things to break:</p>\n\n<pre><code>[{\"vendorAddress\":\"543 Sycamore Ave\",\"vendorCity\":\"Toronto\",\"vendorEmail\":\"bb@depot.ca\",\"vendorName\":\"Big Bills Depot\",\"vendorNo\":1,\"vendorPhone\":\"(999) 555-5555\",\"vendorPostalcode\":\"N1P1N5\",\"vendorProvince\":\"ON\",\"vendorType\":\"Trusted\"},\n{\"vendorAddress\":\"628 Richmond Street\",\"vendorCity\":\"London\",\"vendorEmail\":\"abc@supply.ca\",\"vendorName\":\"ABC Supply Co.\",\"vendorNo\":2,\"vendorPhone\":\"(519) 123-4567\",\"vendorPostalcode\":\"N6C1L7\",\"vendorProvince\":\"ON\",\"vendorType\":\"Trusted\"},\n{\"vendorAddress\":\"123 Main Boulevard\",\"vendorCity\":\"Burlington\",\"vendorEmail\":\"gs@shack.net\",\"vendorName\":\"Gadget Shack\",\"vendorNo\":3,\"vendorPhone\":\"(613) 444-3423\",\"vendorPostalcode\":\"N3X5S2\",\"vendorProvince\":\"ON\",\"vendorType\":\"Unknown\"}]\n</code></pre>\n\n<p>In order to display this vendor data in a table on my partial I would have to use the following angular bindings:</p>\n\n<pre><code>&lt;div class=\"col-lg-1 col-sm-1 col-xs-1 text-left\"&gt;{{vend.vendorNo}}&lt;/div&gt;\n&lt;div class=\"col-lg-4 col-sm-4 col-xs-4 text-center\"&gt;{{vend.vendorName}}&lt;/div&gt;\n&lt;div class=\"col-lg-3 col-sm-3 col-xs-3 text-center\"&gt;{{vend.vendorCity}}&lt;/div&gt;\n&lt;div class=\"col-lg-3 col-sm-3 col-xs-3 text-center\"&gt;{{vend.vendorType}}&lt;/div&gt;\n</code></pre>\n\n<p>Is there any reason for either angularJS or my Java REST service to be auto renaming my returned JSON to have these property names?</p>\n"}, {"tags": ["typescript", "amd", "webpack"], "answers": [{"comments": [{"owner": {"reputation": 5731, "user_id": 396861, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/49b03e1a803c3a6667c0fbfc05dee323?s=128&d=identicon&r=PG", "display_name": "BenCr", "link": "https://stackoverflow.com/users/396861/bencr"}, "edited": false, "score": 0, "creation_date": 1443559203, "post_id": 32853214, "comment_id": 53540314, "body": "Thanks, I&#39;ll take a look at those links. What&#39;s the difference between that and <code>export interface IService</code>?"}, {"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "reply_to_user": {"reputation": 5731, "user_id": 396861, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/49b03e1a803c3a6667c0fbfc05dee323?s=128&d=identicon&r=PG", "display_name": "BenCr", "link": "https://stackoverflow.com/users/396861/bencr"}, "edited": false, "score": 0, "creation_date": 1443559442, "post_id": 32853214, "comment_id": 53540435, "body": "@BenCr <code>export interface IService</code> will export it as a property of the module instead of it being the module itself. So by using <code>export = IService</code>, and <code>import IService</code> then <code>IService</code> is the actual interface."}, {"owner": {"reputation": 5731, "user_id": 396861, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/49b03e1a803c3a6667c0fbfc05dee323?s=128&d=identicon&r=PG", "display_name": "BenCr", "link": "https://stackoverflow.com/users/396861/bencr"}, "edited": false, "score": 0, "creation_date": 1443559697, "post_id": 32853214, "comment_id": 53540563, "body": "Ahh, great, that simplifies the aliasing so I don&#39;t have to <code>import module = require(&#39;&#39;);</code> and then use <code>module.IService</code> everywhere. Great, thanks"}], "tags": [], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "is_accepted": true, "score": 4, "last_activity_date": 1443584382, "last_edit_date": 1495540039, "creation_date": 1443558570, "answer_id": 32853214, "question_id": 32851096, "link": "https://stackoverflow.com/questions/32851096/how-do-you-use-typescript-internal-modules-with-amd-modules/32853214#32853214", "title": "How do you use typescript internal modules with AMD modules", "body": "<p>Ideally you should just use external modules and not mix internal with external modules.</p>\n\n<p>This has been discussed in detail <a href=\"https://stackoverflow.com/questions/30357634/how-do-i-use-namespaces-with-typescript-external-modules\">here</a> and <a href=\"https://www.stevefenton.co.uk/2015/05/Stop-Mixing-TypeScript-Internal-And-External-Modules/\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>I would recommend doing... IService.ts:</p>\n\n<pre><code>interface IService {\n}\n\nexport = IService;\n</code></pre>\n\n<p>Implementation.ts:</p>\n\n<pre><code>import IInterface = require(\"./IInterface\");\n\nclass Implementation implements IInterface{\n...\n}\n\nexport = Implementation;\n</code></pre>\n\n<p>And then import them appropriately into your file:</p>\n\n<pre><code>import IService = require(\"./IService\");\nimport Implementation = require(\"./Implementation\");\n\n// use IService and Implementation here\n</code></pre>\n\n<p><strong>Combining Multiple Modules into One Module</strong></p>\n\n<p>That being said, if you really wanted to, you could use <code>IService.ts</code> and <code>Implementation.ts</code> above and then create a file called <code>Module1.ts</code> where you import then export your modules like so:</p>\n\n<pre><code>export import IService = require(\"./IService\");\nexport import Implementation = require(\"./Implementation\");\n</code></pre>\n\n<p>Then in your code you can use it like such:</p>\n\n<pre><code>import Module1 = require(\"./Module1\");\n\n// use Module1.IService or Module1.Implementation here\n</code></pre>\n\n<hr>\n\n<p><strong>Combining Multiple Modules with ES6 Modules</strong></p>\n\n<p>By the way, I wanted to point out that doing this is very convenient if you use ES6 modules...</p>\n\n<p>IService.ts:</p>\n\n<pre><code>interface IService {\n}\n\nexport default IService;\n</code></pre>\n\n<p>Implementation.ts:</p>\n\n<pre><code>import IInterface from \"./IInterface\";\n\nexport default class Implementation implements IInterface {\n...\n}\n</code></pre>\n\n<p>Module1.ts:</p>\n\n<pre><code>// re-export the modules\nexport {default as IService} from \"./IService\";\nexport {default as Implementation} from \"./Implementation\";\n</code></pre>\n\n<p>Then when you use this module you can easily access what you want out of it. Here are some example import statements:</p>\n\n<pre><code>// import only IService\nimport {IService} from \"./Module1\";\n// import IService and Implementation\nimport {IService, Implementation} from \"./Module1\";\n// or implement everything on a Module1 object\nimport * as Module1 from \"./Module1\";\n</code></pre>\n"}], "owner": {"reputation": 5731, "user_id": 396861, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/49b03e1a803c3a6667c0fbfc05dee323?s=128&d=identicon&r=PG", "display_name": "BenCr", "link": "https://stackoverflow.com/users/396861/bencr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2732, "favorite_count": 0, "accepted_answer_id": 32853214, "answer_count": 1, "score": 2, "last_activity_date": 1443584382, "creation_date": 1443550708, "last_edit_date": 1443558225, "question_id": 32851096, "link": "https://stackoverflow.com/questions/32851096/how-do-you-use-typescript-internal-modules-with-amd-modules", "title": "How do you use typescript internal modules with AMD modules", "body": "<p>I'm not sure if I'm structuring my typescript incorrectly so may be asking the wrong question here.</p>\n\n<p>I've got 2 related classes 1 interfaces in separate files in the same folder.</p>\n\n<p>I've wrapped them in a module because that feels like what I should do coming from C#.</p>\n\n<p>This is all angularjs so it does it's own DI which might be important but probably isn't.</p>\n\n<p>File 1:</p>\n\n<pre><code>export module Module1{\n    export interface IService{\n    }\n}\n</code></pre>\n\n<p>File2:</p>\n\n<pre><code>export module Module1{\n    export class Implementation implements IInterface{\n    ...\n    }\n}\n</code></pre>\n\n<p>File 3 is angular code that uses the angular injected instance of IInterface. If I import File2 using <code>require(\"./File2\")</code> it works but I'd rather import the whole of <code>Module1</code>, something like below, so I don't have to require each class individually (as this is obviously a simplified case).</p>\n\n<pre><code>import authModule = require('Module1');\n\nvar assetStreamApp = angular.module(\"[])\n    .run(['IInterface'], (instance: IInterface) =&gt; {\n        instance.doSomething();\n    });\n</code></pre>\n\n<p>Is this possible?</p>\n\n<p>I don't want to have to import every file individually and then choose a different alias for each \"module\" to namespace the types when it feels like I should be able to do that once.</p>\n\n<p>Edit: After a little more reading I think I've worked out some of the terminology. I want to use typescript internal modules in a project but also use AMD modules as split points so I can use webpack's code splitting.</p>\n"}, {"tags": ["typescript", "angular"], "comments": [{"owner": {"reputation": 53661, "user_id": 1413538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/594bb80f7ed4b0b3770df7ad97c4d16a?s=128&d=identicon&r=PG", "display_name": "Brocco", "link": "https://stackoverflow.com/users/1413538/brocco"}, "edited": false, "score": 0, "creation_date": 1443549794, "post_id": 32850604, "comment_id": 53535425, "body": "I believe you will need to reference <code>Http</code> when bootstrapping.... <code>bootstrap(MyComponent, [Http]);</code>"}, {"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1443556590, "post_id": 32850604, "comment_id": 53538886, "body": "You should update your systemjs to the latest version 0.18.* and <a href=\"https://github.com/angular/angular/pull/3867\" rel=\"nofollow noreferrer\">remove es6-module-loader</a>. Besides that, base your config in some working set up <a href=\"http://plnkr.co/edit/VokLu9?p=preview\" rel=\"nofollow noreferrer\">like this one</a>"}, {"owner": {"reputation": 121, "user_id": 2323883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f702923b944d475a3fd4dd133ba62667?s=128&d=identicon&r=PG", "display_name": "Johnny", "link": "https://stackoverflow.com/users/2323883/johnny"}, "edited": false, "score": 0, "creation_date": 1443635687, "post_id": 32850604, "comment_id": 53577016, "body": "Thanks, Eric for the helpful response. I updated systemjs and threw away es6-module-loader. I also added &#39;defaultJSExtensions: true&#39; to the config parameters. I am not getting any error anymore. :)"}], "answers": [{"comments": [{"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 2, "creation_date": 1450791713, "post_id": 34415226, "comment_id": 56575353, "body": "PS: but now as in the beta <code>HTTP_BINDINGS</code> is changed to <code>HTTP_PROVIDERS</code> ."}], "tags": [], "owner": {"reputation": 1397, "user_id": 4891637, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kurLmGcOfKQ/AAAAAAAAAAI/AAAAAAAADR4/o5tQyRxX9bU/photo.jpg?sz=128", "display_name": "reda igbaria", "link": "https://stackoverflow.com/users/4891637/reda-igbaria"}, "is_accepted": false, "score": 0, "last_activity_date": 1450784776, "creation_date": 1450784776, "answer_id": 34415226, "question_id": 32850604, "link": "https://stackoverflow.com/questions/32850604/how-to-get-a-json-file-in-angular-2-using-the-http-class/34415226#34415226", "title": "How to get a json file in Angular 2 using the Http class?", "body": "<p>you need to bootstrap the <code>[HTTP_BINDINGS]</code> </p>\n\n<p>change this line : </p>\n\n<pre><code>bootstrap(MyComponent);\n</code></pre>\n\n<p>to this : </p>\n\n<pre><code>bootstrap(MyComponent,[HTTP_BINDINGS]);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1459333887, "post_id": 36305814, "comment_id": 60236033, "body": "You still have <code>HTTP_BINDINGS</code> in the code example <code>change with: ...</code>"}], "tags": [], "owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "is_accepted": false, "score": 8, "last_activity_date": 1467903662, "last_edit_date": 1495540928, "creation_date": 1459332829, "answer_id": 36305814, "question_id": 32850604, "link": "https://stackoverflow.com/questions/32850604/how-to-get-a-json-file-in-angular-2-using-the-http-class/36305814#36305814", "title": "How to get a json file in Angular 2 using the Http class?", "body": "<h1>Updated to angular2 Beta</h1>\n\n<p>As of Angular2 is in beta now so i feel to answer this question with some changes according to angular2 beta.\n  so here is the list of some changes which is must to follow : </p>\n\n<ol>\n<li>Imports of angular2</li>\n</ol>\n\n<p>this </p>\n\n<pre><code>import {Component, View, bootstrap} from 'angular2/angular2';\nimport {Http, HTTP_BINDINGS} from 'angular2/http';\n</code></pre>\n\n<p>should be changed to:</p>\n\n<pre><code>import {Component, View} from 'angular2/core';\nimport {Http, HTTP_PROVIDERS} from 'angular2/http';\nimport {bootstrap} from 'angular2/platform/browser';\n</code></pre>\n\n<p>for more information regarding imports see here \n  List of all imports in angular2 as of beta.</p>\n\n<p><a href=\"https://stackoverflow.com/a/34697758/5043867\">Cannot find module 'angular2/angular2'</a> .</p>\n\n<ol start=\"2\">\n<li><p>viewBindings: [HTTP_BINDINGS] :-\n<code>HTTP_BINDINGS</code> is changed to <code>HTTP_PROVIDERS</code>.\nIt would be better if we provide all basic binding at the time of bootstraping our app.like this</p>\n\n<p>bootstrap(MyComponent,[HTTP_PROVIDERS]);</p></li>\n<li><p>No need to provide extra <code>@View</code> annotation while all the functionality provided by <code>@Component</code> itself. ignore this:</p></li>\n</ol>\n\n\n\n<pre><code>@View({\n    templateUrl: 'myapp.html'\n  })\n</code></pre>\n\n<p>use this:</p>\n\n<pre><code>  @Component({\n    selector: 'myApp',\n    templateUrl: 'myapp.html'\n  })\n</code></pre>\n\n<ol start=\"4\">\n<li><h1>Get JSON file using HTTP .</h1>\n\nFirstly as we all know Angular2 is throw observable object instead of promise like in angular 1.x. so to handle Observable Object we need <code>RxJs</code> methods i.e <code>.map and .subscribe</code> . <code>.map</code> method accepts Observable object and transform into our desired form like text(), Json() as per need read out here <a href=\"https://angular.io/docs/js/latest/api/http/Response-class.html\" rel=\"nofollow noreferrer\">https://angular.io/docs/js/latest/api/http/Response-class.html</a> . </li>\n</ol>\n\n\n\n<pre><code>  class MyComponent {\n  data: Object;\n    constructor(private http: Http) {\n      http.get('data.json')\n        .map(res =&gt; res.json())\n        .subscribe(data =&gt; this.data = data,\n                    err =&gt; console.log(err),\n                    () =&gt; console.log('Completed'));\n    }\n  }\n</code></pre>\n\n<p>for More Information regarding HTTP service in Angular2 read out these answers too.</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/34758630/5043867\">Using http rest apis with angular 2</a></li>\n<li><a href=\"https://stackoverflow.com/a/34823818/5043867\">Angular 2: How to use/import the http module?</a></li>\n</ul>\n\n<p>&nbsp;</p>\n"}, {"tags": [], "owner": {"reputation": 996, "user_id": 3572643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65899f999a25bf4be2ad8002844e39df?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay Gajera", "link": "https://stackoverflow.com/users/3572643/vijay-gajera"}, "is_accepted": false, "score": 0, "last_activity_date": 1499581392, "creation_date": 1499581392, "answer_id": 44993604, "question_id": 32850604, "link": "https://stackoverflow.com/questions/32850604/how-to-get-a-json-file-in-angular-2-using-the-http-class/44993604#44993604", "title": "How to get a json file in Angular 2 using the Http class?", "body": "<p>If you want to read .json file using http get method in angular 2 its depend on you using build tools.</p>\n\n<p>Like if you using angular-cli then you need to put .json file inside assets folder and try to read that file like</p>\n\n<pre><code>http.get('&lt;your file path inside assets folder&gt;.json')\n</code></pre>\n\n<p>But if you using webpack then you need to put that same .json file inside public folder </p>\n\n<pre><code>http.get('&lt;your file path inside assets folder&gt;.json')\n</code></pre>\n\n<p>It will work </p>\n"}], "owner": {"reputation": 121, "user_id": 2323883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f702923b944d475a3fd4dd133ba62667?s=128&d=identicon&r=PG", "display_name": "Johnny", "link": "https://stackoverflow.com/users/2323883/johnny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46006, "favorite_count": 3, "answer_count": 3, "score": 8, "last_activity_date": 1521823420, "creation_date": 1443548990, "last_edit_date": 1521823420, "question_id": 32850604, "link": "https://stackoverflow.com/questions/32850604/how-to-get-a-json-file-in-angular-2-using-the-http-class", "title": "How to get a json file in Angular 2 using the Http class?", "body": "<p>I am trying to get a json file using the Http class in Angular 2. I followed the example on the Angular 2 homepage: <a href=\"https://angular.io/docs/js/latest/api/http/Http-class.html\" rel=\"nofollow noreferrer\">https://angular.io/docs/js/latest/api/http/Http-class.html</a>.\nHowever, I am getting the error message below. I am using Angular 2.0.0-alpha.37, traceur 0.0.91, systemjs 0.16.11, es6-module-loader 0.16.6 and typescript 1.6.2. Any ideas on what might be wrong here?</p>\n\n<p><strong>app.ts</strong></p>\n\n<pre><code>///&lt;reference path=\"typings/angular2/angular2.d.ts\"/&gt;\n///&lt;reference path=\"typings/angular2/http.d.ts\"/&gt;\nimport {Component, View, bootstrap} from 'angular2/angular2';\nimport {Http, HTTP_BINDINGS} from 'angular2/http';\n\n@Component({\n  selector: 'myApp',\n  viewBindings: [HTTP_BINDINGS]\n})\n@View({\n  templateUrl: 'myapp.html'\n})\nclass MyComponent {\n  data: Object;\n  constructor(http: Http) {\n    http.get('data.json').toRx().map(res =&gt; res.json()).subscribe(data =&gt; this.data = data);\n  }\n}\nbootstrap(MyComponent);\n</code></pre>\n\n<p><strong>index.html</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;script src=\"../node_modules/angular2/bundles/angular2.dev.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"../node_modules/angular2/bundles/http.dev.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"../node_modules/traceur/bin/traceur-runtime.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"../node_modules/es6-module-loader/dist/es6-module-loader.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"../node_modules/systemjs/dist/system.src.js\"&gt;&lt;/script&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;myApp&gt;&lt;/myApp&gt;\n    &lt;script&gt;\n      System.import('app');\n    &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>Result</strong></p>\n\n<pre><code>EXCEPTION: Error during instantiation of MyComponent!.\nEXCEPTION: Error during instantiation of MyComponent!.\nORIGINAL EXCEPTION: TypeError: Rx.Subject is not a function\nORIGINAL STACKTRACE:\nTypeError: Rx.Subject is not a function\n    at new EventEmitter (angular2.dev.js:22672)\n    at new XHRConnection (http.dev.js:7474)\n    at XHRBackend.createConnection (http.dev.js:7519)\n    at httpRequest (http.dev.js:7291)\n    at Http.get (http.dev.js:7369)\n    at new MyComponent (:8080/src/app.js:19)\n    at angular2.dev.js:8937\n    at Injector._proto._instantiate (angular2.dev.js:28045)\n    at Injector._proto._new (angular2.dev.js:27985)\n    at InjectorInlineStrategy.protoStrategy.instantiateBinding (angular2.dev.js:27774)\nERROR CONTEXT:\n_Context\nEXCEPTION: TypeError: Cannot read property 'location' of undefined\nEXCEPTION: TypeError: Cannot read property 'location' of undefined\nSTACKTRACE:\nTypeError: Cannot read property 'location' of undefined\n    at angular2.dev.js:27298\n    at Zone.run (angular2.dev.js:136)\n    at Zone.run (angular2.dev.js:16593)\n    at zoneBoundFn (angular2.dev.js:109)\n    at lib$es6$promise$$internal$$tryCatch (angular2.dev.js:1419)\n    at lib$es6$promise$$internal$$invokeCallback (angular2.dev.js:1431)\n    at lib$es6$promise$$internal$$publish (angular2.dev.js:1402)\n    at angular2.dev.js:187\n    at microtask (angular2.dev.js:16619)\n    at Zone.run (angular2.dev.js:136)\nEXCEPTION: TypeError: Cannot read property 'hostView' of undefined\nEXCEPTION: TypeError: Cannot read property 'hostView' of undefined\nSTACKTRACE:\nTypeError: Cannot read property 'hostView' of undefined\n    at zone.run.tick (angular2.dev.js:27331)\n    at Zone.run (angular2.dev.js:136)\n    at Zone.run (angular2.dev.js:16593)\n    at zoneBoundFn (angular2.dev.js:109)\n    at lib$es6$promise$$internal$$tryCatch (angular2.dev.js:1419)\n    at lib$es6$promise$$internal$$invokeCallback (angular2.dev.js:1431)\n    at lib$es6$promise$$internal$$publish (angular2.dev.js:1402)\n    at angular2.dev.js:187\n    at microtask (angular2.dev.js:16619)\n    at Zone.run (angular2.dev.js:136)\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 7603, "user_id": 941319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f8f456a2f35fc05e048e45ba55be48a?s=128&d=identicon&r=PG", "display_name": "thoughtrepo", "link": "https://stackoverflow.com/users/941319/thoughtrepo"}, "edited": false, "score": 1, "creation_date": 1443582315, "post_id": 32847337, "comment_id": 53547613, "body": "You&#39;re correct, if the namespace (internal module) members are not exported, they&#39;re not accessible in separate files."}, {"owner": {"reputation": 4042, "user_id": 4051181, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/2bf24f11aef5e660e99a2bc0f39f9da6?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/4051181/tim"}, "reply_to_user": {"reputation": 7603, "user_id": 941319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f8f456a2f35fc05e048e45ba55be48a?s=128&d=identicon&r=PG", "display_name": "thoughtrepo", "link": "https://stackoverflow.com/users/941319/thoughtrepo"}, "edited": false, "score": 1, "creation_date": 1443608230, "post_id": 32847337, "comment_id": 53559365, "body": "Does this mean the <a href=\"http://www.typescriptlang.org/Handbook#modules\" rel=\"nofollow noreferrer\">documentation</a> is wrong?  &quot;Because we want the interfaces and classes here to be visible outside the module, we preface them with export.&quot; &quot;Even though the files are separate, they can each contribute to the same module and can be consumed as if they were all defined in one place.&quot;  This sounds to me like <code>export</code> is for making public outside the module, but is it actually for making public outside the file?"}, {"owner": {"reputation": 7603, "user_id": 941319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f8f456a2f35fc05e048e45ba55be48a?s=128&d=identicon&r=PG", "display_name": "thoughtrepo", "link": "https://stackoverflow.com/users/941319/thoughtrepo"}, "edited": false, "score": 1, "creation_date": 1443609886, "post_id": 32847337, "comment_id": 53560336, "body": "Because of the way namespaces are compiled, it&#39;s both. The namespace in each file is compiled separately, and at runtime each namespace builds upon the previous. During compilation, TypeScript knows where to get the members in the namespace, but the resulting JavaScript needs access to them at runtime, hence the export.  - The <code>&quot;as if they were all defined in one place&quot;</code> part is misleading though."}, {"owner": {"reputation": 4042, "user_id": 4051181, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/2bf24f11aef5e660e99a2bc0f39f9da6?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/4051181/tim"}, "reply_to_user": {"reputation": 7603, "user_id": 941319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f8f456a2f35fc05e048e45ba55be48a?s=128&d=identicon&r=PG", "display_name": "thoughtrepo", "link": "https://stackoverflow.com/users/941319/thoughtrepo"}, "edited": false, "score": 1, "creation_date": 1443610082, "post_id": 32847337, "comment_id": 53560453, "body": "Thanks for your explanation. Presumably this means it&#39;s not possible to expose something to code which is within the same module but a different file, without also exposing it to code which it outside of the module?"}, {"owner": {"reputation": 7603, "user_id": 941319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f8f456a2f35fc05e048e45ba55be48a?s=128&d=identicon&r=PG", "display_name": "thoughtrepo", "link": "https://stackoverflow.com/users/941319/thoughtrepo"}, "edited": false, "score": 0, "creation_date": 1443610986, "post_id": 32847337, "comment_id": 53560979, "body": "Yup, that&#39;s right. One option is to use separate namespaces, and then have something like <a href=\"https://github.com/eduardolundgren/gulp-umd\" rel=\"nofollow noreferrer\">gulp-umd</a> wrap everything in another module, and then only export the namespace you want to."}, {"owner": {"reputation": 14053, "user_id": 650891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01dc99801914d08b2aa5889777970c0e?s=128&d=identicon&r=PG", "display_name": "Stephen Chung", "link": "https://stackoverflow.com/users/650891/stephen-chung"}, "edited": false, "score": 0, "creation_date": 1443626512, "post_id": 32847337, "comment_id": 53571504, "body": "TypeScript namespaces (aka modules) are each compiled separately into a different closure, even if their names are the same.  The only variables and functions that actually become visible in the namespace/module are <code>export</code>ed ones.  Non-<code>export</code>ed functions and variables stay within the closure."}, {"owner": {"reputation": 14053, "user_id": 650891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01dc99801914d08b2aa5889777970c0e?s=128&d=identicon&r=PG", "display_name": "Stephen Chung", "link": "https://stackoverflow.com/users/650891/stephen-chung"}, "edited": false, "score": 0, "creation_date": 1443626637, "post_id": 32847337, "comment_id": 53571590, "body": "Therefore, what you want is not possible.  You cannot refer to a private (i.e. non-<code>export</code>ed) variable/function inside the <i>same</i> namespace but that is defined separately, because that variable/function will be residing in a separate closure.  This has nothing to do with splitting into files.  Put all your code in the same file but define your namespace three times and it will be exactly the same."}, {"owner": {"reputation": 14053, "user_id": 650891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01dc99801914d08b2aa5889777970c0e?s=128&d=identicon&r=PG", "display_name": "Stephen Chung", "link": "https://stackoverflow.com/users/650891/stephen-chung"}, "edited": false, "score": 0, "creation_date": 1443626713, "post_id": 32847337, "comment_id": 53571629, "body": "This design is actually a <i>feature</i>.  Large libraries may add different functionalities under the same namespace, and you don&#39;t want internal implementation details of one feature to conflict with the implementation of another feature simply because they use the same private variable/function names."}], "answers": [{"tags": [], "owner": {"reputation": 53661, "user_id": 1413538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/594bb80f7ed4b0b3770df7ad97c4d16a?s=128&d=identicon&r=PG", "display_name": "Brocco", "link": "https://stackoverflow.com/users/1413538/brocco"}, "is_accepted": true, "score": 7, "last_activity_date": 1443548784, "last_edit_date": 1443548784, "creation_date": 1443548179, "answer_id": 32850369, "question_id": 32847337, "link": "https://stackoverflow.com/questions/32847337/splitting-large-typescript-file-into-module-across-multiple-files/32850369#32850369", "title": "Splitting large typescript file into module across multiple files", "body": "<p>I would suggest you move to the ES6 style of modules &amp; imports. Instead of what is now called \"namespaces\" using the keyword <code>module</code>.</p>\n\n<p>To adapt your example above do this...</p>\n\n<pre><code>//Widget.ts\nexport class Widget { ... }\n\n//Section.ts\nexport class Section { ... }\n\n//ReportTemplate.ts\nimport {Widget} from './Widget.ts';\nimport {Section} from './Section.ts';\nvar numbers = [1, 2, 3];\nfunction formatDate() { ... }\nfunction doStuff() {\n  // use the classes you imported\n  var widget = new Widget();\n  var section = new Section();\n}\n</code></pre>\n\n<p>You will have to tell tsc what module syntax to use, and target at least ES5:</p>\n\n<pre><code>//tsconfig.json\n{\n  \"module\": \"common\",\n  \"target\": \"ES5\"\n}\n</code></pre>\n\n<p>There was conversation regarding this change when it when into TypeScript <strong><a href=\"https://github.com/Microsoft/TypeScript/pull/2923\">here</a></strong></p>\n"}], "owner": {"reputation": 4042, "user_id": 4051181, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/2bf24f11aef5e660e99a2bc0f39f9da6?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/4051181/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4950, "favorite_count": 4, "accepted_answer_id": 32850369, "answer_count": 1, "score": 15, "last_activity_date": 1443548784, "creation_date": 1443538672, "question_id": 32847337, "link": "https://stackoverflow.com/questions/32847337/splitting-large-typescript-file-into-module-across-multiple-files", "title": "Splitting large typescript file into module across multiple files", "body": "<p>I currently have a large typescript file that I want to split up. There are a few functions and variables only used within the file, and a number of classes. It currently looks something along these lines:</p>\n\n<pre><code>var numbers = [1, 2, 3];\nfunction formatDate() {...}\n\nclass Widget { ... }\nclass Section { ... }\n</code></pre>\n\n<p>I've tried putting this in a module and splitting it across a few files:</p>\n\n<pre><code>//Widget.ts\nmodule ReportTemplate {\n    export class Widget { ... }\n}\n\n//Section.ts\nmodule ReportTemplate {\n    export class Section { ... }\n}\n\n//ReportTemplate.ts\n/// &lt;reference path=\"Widget.ts\"/&gt;\n/// &lt;reference path=\"Section.ts\"/&gt;\nmodule ReportTemplate {\n    var numbers = [1, 2, 3];\n    function formatDate() { ... }\n}\n</code></pre>\n\n<p>I was hoping that this would be equivalent to my original file, but wrapped in a module, but what I've found is that <code>Widget</code> and <code>Section</code> are unable to access <code>numbers</code> and <code>formatDate</code>.</p>\n\n<p>I wasn't sure if I'd just misunderstood the references, so I've tried adding references to <code>ReportTemplate.ts</code> in <code>Section.ts</code> and <code>Widget.ts</code> but it hasn't helped. The only way I've found to allow <code>Section.ts</code> and <code>Widget.ts</code> to access <code>numbers</code> and <code>formatDate</code> is to export them, but I don't want them to be accessible outside the module.</p>\n\n<p>I've read quite a bit about typescript modules, but I haven't found any examples that are the same as what I'm trying to do, so I'm still confused. Am I trying to do something which can't be done, or am I simply going about it the wrong way?</p>\n"}, {"tags": ["angularjs", "visual-studio", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 2678, "user_id": 3955513, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/d6ad6b86b6f31e732b0d8df6e15efd9e?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Parikh", "link": "https://stackoverflow.com/users/3955513/shyamal-parikh"}, "edited": false, "score": 0, "creation_date": 1443535881, "post_id": 32846071, "comment_id": 53526414, "body": "What if I call the function as SecondModule.exMethod(input) directly in the FirstModule without going through the constructor?"}, {"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "reply_to_user": {"reputation": 2678, "user_id": 3955513, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/d6ad6b86b6f31e732b0d8df6e15efd9e?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Parikh", "link": "https://stackoverflow.com/users/3955513/shyamal-parikh"}, "edited": false, "score": 0, "creation_date": 1443536075, "post_id": 32846071, "comment_id": 53526563, "body": "@shyamalparikh so you want these two statements to be equivalent? <code>SecondModule.exMethod()(4);</code> and <code>SecondModule.exMethod(4);</code>"}, {"owner": {"reputation": 2678, "user_id": 3955513, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/d6ad6b86b6f31e732b0d8df6e15efd9e?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Parikh", "link": "https://stackoverflow.com/users/3955513/shyamal-parikh"}, "edited": false, "score": 0, "creation_date": 1443536139, "post_id": 32846071, "comment_id": 53526620, "body": "Sorry, what if I directly call SecondModule.exMethod()(4) from the FirstModule? Will there be any initialization issues?"}, {"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "reply_to_user": {"reputation": 2678, "user_id": 3955513, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/d6ad6b86b6f31e732b0d8df6e15efd9e?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Parikh", "link": "https://stackoverflow.com/users/3955513/shyamal-parikh"}, "edited": false, "score": 0, "creation_date": 1443536554, "post_id": 32846071, "comment_id": 53526935, "body": "@shyamalparikh i just updated the answer to be something that doesn&#39;t mix <code>FirstModule</code> and <code>SecondModule</code> together and keeps them separate. You could call <code>SecondModule.exMethod()(4)</code> just fine from the first module if you wanted though."}, {"owner": {"reputation": 2678, "user_id": 3955513, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/d6ad6b86b6f31e732b0d8df6e15efd9e?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Parikh", "link": "https://stackoverflow.com/users/3955513/shyamal-parikh"}, "edited": false, "score": 0, "creation_date": 1443536933, "post_id": 32846071, "comment_id": 53527231, "body": "In the updated code how will the FirstModule identity &#39;exMethod&#39; just by the parameters and return type? What would happen if SecondModule has methods with similar return type and parameters?"}, {"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "reply_to_user": {"reputation": 2678, "user_id": 3955513, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/d6ad6b86b6f31e732b0d8df6e15efd9e?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Parikh", "link": "https://stackoverflow.com/users/3955513/shyamal-parikh"}, "edited": false, "score": 0, "creation_date": 1443537171, "post_id": 32846071, "comment_id": 53527436, "body": "@shyamalparikh any functions with a similar return type and parameters then those could be passed in as well. If you want to force <code>SecondModule.exMethod</code> to be passed in, then you might as well skip passing it in and call it directly in <code>someClass</code>. I&#39;ve updated the answer with that."}], "tags": [], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "is_accepted": false, "score": 2, "last_activity_date": 1443537086, "last_edit_date": 1443537086, "creation_date": 1443535444, "answer_id": 32846071, "question_id": 32845885, "link": "https://stackoverflow.com/questions/32845885/typescript-cant-access-exported-method-from-another-module/32846071#32846071", "title": "Typescript can&#39;t access exported method from another module", "body": "<p>You can't use a function reference as a type; however, you can restrict the constructor to a specific function type that allows functions with a signature like <code>exMethod</code>.</p>\n\n<p>Here's an example:</p>\n\n<pre><code>module FirstModule {\n    export class someClass {\n         constructor(method: () =&gt; (input) =&gt; any) {\n         }\n    }\n}\n\nmodule SecondModule {\n    export function exMethod() {\n        return function(input) {\n             // do something\n             return result;\n        }\n    }\n}\n\nnew FirstModule.someClass(SecondModule.exMethod); // ok\nnew FirstModule.someClass(() =&gt; {});              // error\n</code></pre>\n\n<p>If you want to force <code>SecondModule.exMethod</code> to be passed in you might as well skip that and call the function directly in <code>someClass</code>:</p>\n\n<pre><code>module FirstModule {\n    export class someClass {\n         constructor() {\n             SecondModule.exMethod()(5); // example of calling it\n         }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2678, "user_id": 3955513, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/d6ad6b86b6f31e732b0d8df6e15efd9e?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Parikh", "link": "https://stackoverflow.com/users/3955513/shyamal-parikh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 515, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1443537086, "creation_date": 1443534970, "question_id": 32845885, "link": "https://stackoverflow.com/questions/32845885/typescript-cant-access-exported-method-from-another-module", "title": "Typescript can&#39;t access exported method from another module", "body": "<p>Not able to reference and use exported methods from another module. Getting an error stating 'There is no exported member in SecondModule'.</p>\n\n<pre><code>module FirstModule{\n    export class someClass{\n         constructor(method: SecondModule.exMethod)   //Getting Error here: 'There is no exported member in SecondModule'\n         {}\n    }\n}\n\nmodule SecondModule{\n    export function exMethod(){\n        return function(input){\n             //do something\n             return result;\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "typescript", "jasmine", "karma-runner"], "answers": [{"comments": [{"owner": {"reputation": 963, "user_id": 4704774, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh3.googleusercontent.com/-DedY1w_g0Wg/AAAAAAAAAAI/AAAAAAAAB08/-AXXW4uxs-8/photo.jpg?sz=128", "display_name": "bucicimaci", "link": "https://stackoverflow.com/users/4704774/bucicimaci"}, "edited": false, "score": 0, "creation_date": 1443534247, "post_id": 32845118, "comment_id": 53525152, "body": "Thanks for the answer @RadimK&#246;hler, I&#39;ve changed the code but still receiving the same error."}, {"owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "reply_to_user": {"reputation": 963, "user_id": 4704774, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh3.googleusercontent.com/-DedY1w_g0Wg/AAAAAAAAAAI/AAAAAAAAB08/-AXXW4uxs-8/photo.jpg?sz=128", "display_name": "bucicimaci", "link": "https://stackoverflow.com/users/4704774/bucicimaci"}, "edited": false, "score": 0, "creation_date": 1443534803, "post_id": 32845118, "comment_id": 53525577, "body": "I reproduced your code locally, and it is working for me <b>as it is</b>. I just simplified your module <code>.module(&quot;typewritingApp&quot;, [])</code> and implemented empty <code>TestCtrl</code>. Test is passing ..."}, {"owner": {"reputation": 963, "user_id": 4704774, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh3.googleusercontent.com/-DedY1w_g0Wg/AAAAAAAAAAI/AAAAAAAAB08/-AXXW4uxs-8/photo.jpg?sz=128", "display_name": "bucicimaci", "link": "https://stackoverflow.com/users/4704774/bucicimaci"}, "edited": false, "score": 0, "creation_date": 1443535744, "post_id": 32845118, "comment_id": 53526307, "body": "Then I dont understand. I have added all de js and d.ts files via NuGet Package Manager <a href=\"https://blogs.endjin.com/2014/09/unit-testing-angularjs-with-visual-studio-resharper-and-teamcity/\" rel=\"nofollow noreferrer\">this</a> example also works well. This is how my karma config looks like <a href=\"http://pastebin.com/TUvvGxj2\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "reply_to_user": {"reputation": 963, "user_id": 4704774, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh3.googleusercontent.com/-DedY1w_g0Wg/AAAAAAAAAAI/AAAAAAAAB08/-AXXW4uxs-8/photo.jpg?sz=128", "display_name": "bucicimaci", "link": "https://stackoverflow.com/users/4704774/bucicimaci"}, "edited": false, "score": 1, "creation_date": 1443535938, "post_id": 32845118, "comment_id": 53526443, "body": "Hard to say, sorry. But in your karma files I do not see app.js or TestController.js (because you do call new TestCtrl)..."}, {"owner": {"reputation": 963, "user_id": 4704774, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh3.googleusercontent.com/-DedY1w_g0Wg/AAAAAAAAAAI/AAAAAAAAB08/-AXXW4uxs-8/photo.jpg?sz=128", "display_name": "bucicimaci", "link": "https://stackoverflow.com/users/4704774/bucicimaci"}, "edited": false, "score": 0, "creation_date": 1443536108, "post_id": 32845118, "comment_id": 53526589, "body": "Thanks @RadimK&#246;hler. It was my fault. I didn&#39;t add the source files to my config file only the test and script files..."}, {"owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "reply_to_user": {"reputation": 963, "user_id": 4704774, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh3.googleusercontent.com/-DedY1w_g0Wg/AAAAAAAAAAI/AAAAAAAAB08/-AXXW4uxs-8/photo.jpg?sz=128", "display_name": "bucicimaci", "link": "https://stackoverflow.com/users/4704774/bucicimaci"}, "edited": false, "score": 0, "creation_date": 1443536182, "post_id": 32845118, "comment_id": 53526657, "body": "I am really happy to see, that you started with tests! ;) and it is working. Good luck ..."}], "tags": [], "owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "is_accepted": true, "score": 0, "last_activity_date": 1443532850, "creation_date": 1443532850, "answer_id": 32845118, "question_id": 32844910, "link": "https://stackoverflow.com/questions/32844910/angularjs-error-while-testing-typescript-ang-angular-with-jasmine-and-karma/32845118#32845118", "title": "Angularjs error while testing typescript ang angular with jasmine and karma", "body": "<p>We should ask for a service <strong><code>$rootScope</code></strong> as a local <code>$scope</code> generator:</p>\n\n<pre><code>// beforeEach(angular.mock.inject(($scope) =&gt; {\nbeforeEach(angular.mock.inject(($rootScope) =&gt;\n{\n    // HERE we do create a $scope from $rootScope\n    scope = $rootScope.$new();\n    configCtrl = new App.TestCtrl(scope);\n}));\n</code></pre>\n"}], "owner": {"reputation": 963, "user_id": 4704774, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh3.googleusercontent.com/-DedY1w_g0Wg/AAAAAAAAAAI/AAAAAAAAB08/-AXXW4uxs-8/photo.jpg?sz=128", "display_name": "bucicimaci", "link": "https://stackoverflow.com/users/4704774/bucicimaci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 517, "favorite_count": 0, "accepted_answer_id": 32845118, "answer_count": 1, "score": 1, "last_activity_date": 1443534381, "creation_date": 1443532263, "last_edit_date": 1443534381, "question_id": 32844910, "link": "https://stackoverflow.com/questions/32844910/angularjs-error-while-testing-typescript-ang-angular-with-jasmine-and-karma", "title": "Angularjs error while testing typescript ang angular with jasmine and karma", "body": "<p>I want to test my AngularJS and TypeScript based application with Karma and Jasmine. </p>\n\n<p>My edited <code>controllerSpecs.ts</code>:</p>\n\n<pre><code>/// &lt;reference path=\"../references.ts\" /&gt;\n\ndescribe('ConfigCtrl', () =&gt; {\nvar configCtrl, scope;\n\nbeforeEach(angular.mock.module('typewritingApp'));\n\nbeforeEach(angular.mock.inject(($rootScope) =&gt; {\n    scope = $rootScope.$new();\n    configCtrl = new App.TestCtrl(scope);\n}));\n\nit('should be true', () =&gt; {\n    expect(true).toBe(true);\n});\n});\n</code></pre>\n\n<p>My <code>app.ts</code>:</p>\n\n<pre><code>module App {\nimport TypewritingCtrl = App.TypewritingCtrl;\nimport MenuCtrl = App.MenuCtrl;\nvar typescrip: ng.IModule;\nvar typewritingapp: ng.IModule = angular.module(\"typewritingApp\", [\"ngRoute\", \"ui.bootstrap\", \"LocalStorageModule\", \"ui.event\", \"timer\"])\n    .controller(\"TestCtrl\", [\"$scope\", TestCtrl])\n\n}\n</code></pre>\n\n<p>My <code>TestController.ts</code>:</p>\n\n<pre><code>/// &lt;reference path=\"../references.ts\" /&gt;\nmodule App {\nexport class TestCtrl {\n    constructor($scope: ng.IRootScopeService) {\n\n    }\n}\n}\n</code></pre>\n\n<p>And the error what karma writes me when I'm trying to run the test:</p>\n\n<pre><code>Firefox 41.0.0 (Windows 10 0.0.0): Executed 1 of 1 (1 FAILED) ERROR (0.089 secs / 0.119 secs)\n29 09 2015 14:58:55.573:INFO [watcher]: Changed file \"PROJECT_PATH/Specs/controllerSpecs.js\".\nFirefox 41.0.0 (Windows 10 0.0.0) ConfigCtrl should be true FAILED\n    minErr/&lt;@PROJECT_PATH/Scripts/angular.js:68:12\n    loadModules/&lt;@PROJECT_PATH/Scripts/angular.js:4411:15\n    forEach@PROJECT_PATH/Scripts/angular.js:336:11\n    loadModules@PROJECT_PATH/Scripts/angular.js:4372:5\n    createInjector@PROJECT_PATH/Scripts/angular.js:4297:11\n    workFn@PROJECT_PATH/Scripts/angular-mocks.js:2427:44\n    env.executeFiltered@PROJECT_PATH/Specs/node_modules/karma-jasmine/lib/boot.js:117:7\n    createStartFn/&lt;@PROJECT_PATH/Specs/node_modules/karma-jasmine/lib/adapter.js:171:5\n    [2]&lt;/Karma/this.loaded@http://localhost:9876/karma.js:190:7\n    @http://localhost:9876/context.html:52:5\n\nFirefox 41.0.0 (Windows 10 0.0.0): Executed 1 of 1 (1 FAILED) ERROR (0.255 secs / 0.103 secs)\n</code></pre>\n\n<p>If I remove the inject part from my code it runs successfully and the test passes. Can anyone help me what did I do incorrectly?</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "browserify", "webpack"], "answers": [{"comments": [{"owner": {"reputation": 11144, "user_id": 2176962, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/be000b5e22ce83d9e2ecdfe559279030?s=128&d=identicon&r=PG", "display_name": "hgoebl", "link": "https://stackoverflow.com/users/2176962/hgoebl"}, "edited": false, "score": 0, "creation_date": 1443594007, "post_id": 32856076, "comment_id": 53551368, "body": "@basart you&#39;re the man, thanks! I&#39;m currently reading your book <a href=\"https://basarat.gitbooks.io/typescript//\" rel=\"nofollow noreferrer\">TypeScript Deep Dive</a> and hope to learn TypeScript soon. I like the book, thanks for providing it!"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 11144, "user_id": 2176962, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/be000b5e22ce83d9e2ecdfe559279030?s=128&d=identicon&r=PG", "display_name": "hgoebl", "link": "https://stackoverflow.com/users/2176962/hgoebl"}, "edited": false, "score": 0, "creation_date": 1443594584, "post_id": 32856076, "comment_id": 53551587, "body": "@hgoebl thanks. I&#39;m working on tsb in the spare time at the moment ... hopefully a few good workflows around typescript will come out of it. Targeting jan next year \ud83c\udf39"}, {"owner": {"reputation": 13365, "user_id": 1028230, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/fbeKv.png?s=128&g=1", "display_name": "ruffin", "link": "https://stackoverflow.com/users/1028230/ruffin"}, "edited": false, "score": 0, "creation_date": 1526571073, "post_id": 32856076, "comment_id": 87806309, "body": "What&#39;s the most direct way to emit a browser-ready JavaScript codebase from TypeScript transpiled code <i>without</i> webpack?"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 4, "last_activity_date": 1443574448, "creation_date": 1443574448, "answer_id": 32856076, "question_id": 32841682, "link": "https://stackoverflow.com/questions/32841682/write-typescript-and-emit-a-library-for-browser-and-node/32856076#32856076", "title": "Write TypeScript and emit a library for Browser and Node", "body": "<blockquote>\n  <p>Which module syntax should I use in my code to best work with Node and Browser?</p>\n</blockquote>\n\n<p>If you are targetting <code>es5</code> then both syntaxes compile down to effectively the same thing. Use either, and feel free to mix and match.</p>\n\n<blockquote>\n  <p>Which tool-chain will solve my requirements? Is there an example project or a boilerplate where I can copy from</p>\n</blockquote>\n\n<p>I use (and recommend) webpack. You get to use commonjs / nodejs as it is and then webpack can create bundles for front end. For a sample see <a href=\"https://github.com/basarat/tsb/tree/master\" rel=\"nofollow\">https://github.com/basarat/tsb/tree/master</a></p>\n\n<blockquote>\n  <p>Which TypeScript and Node versions are currently supported? I'm having 1.4 embedded in IntelliJ, when referencing 1.6.2 as external I'm getting very deep cryptic error messages like \"TypeError: host.fileExists is not a function\" (not finding anything helpful about this). Maybe it's not optimal to use Node v4.1.1?</p>\n</blockquote>\n\n<p>Use the latest TypeScript (various tools from TypeStrong e.g. atom-typescript/grunt-ts/ts-loader support that). The error you are getting is a webstorm error and should be reported to them. (I use atom-typescript).</p>\n"}, {"tags": [], "owner": {"reputation": 1161, "user_id": 197733, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/D7QvD.jpg?s=128&g=1", "display_name": "Arlo", "link": "https://stackoverflow.com/users/197733/arlo"}, "is_accepted": false, "score": 2, "last_activity_date": 1447097912, "last_edit_date": 1447097912, "creation_date": 1446073439, "answer_id": 33403121, "question_id": 32841682, "link": "https://stackoverflow.com/questions/32841682/write-typescript-and-emit-a-library-for-browser-and-node/33403121#33403121", "title": "Write TypeScript and emit a library for Browser and Node", "body": "<p>I also have the <strong>TypeError: host.fileExists</strong> error with WebStorm 10 and a custom Typescript compiler (installed via npm).</p>\n\n<p>However, this is <strong>fixed in WebStorm 11</strong> (released Nov 2, 2015)\n<a href=\"https://www.jetbrains.com/webstorm/download/\" rel=\"nofollow\">https://www.jetbrains.com/webstorm/download/</a></p>\n"}, {"tags": [], "owner": {"reputation": 3265, "user_id": 4508758, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ELK6p.jpg?s=128&g=1", "display_name": "WiseTap", "link": "https://stackoverflow.com/users/4508758/wisetap"}, "is_accepted": false, "score": 0, "last_activity_date": 1603570540, "last_edit_date": 1603570540, "creation_date": 1602687228, "answer_id": 64356016, "question_id": 32841682, "link": "https://stackoverflow.com/questions/32841682/write-typescript-and-emit-a-library-for-browser-and-node/64356016#64356016", "title": "Write TypeScript and emit a library for Browser and Node", "body": "<p>This is the way I got it using webpack and babel:</p>\n<p>My <code>index.ts</code> file is inside the <code>src</code> folder</p>\n<p>package.json</p>\n<pre><code>{\n  &quot;scripts&quot;: {\n    &quot;bundle-dev&quot; : &quot;rimraf dist &amp;&amp; tsc --outDir dist/temp &amp;&amp; webpack --env.development --display-error-details &amp;&amp; rimraf dist/temp&quot;,\n    &quot;bundle-prod&quot;: &quot;rimraf dist &amp;&amp; tsc --outDir dist/temp &amp;&amp; webpack --env.production  --display-error-details &amp;&amp; rimraf dist/temp&quot;\n  },\n  &quot;devDependencies&quot;: {\n    &quot;@babel/core&quot;: &quot;^7.11.6&quot;,\n    &quot;@babel/plugin-transform-reserved-words&quot;: &quot;^7.10.4&quot;,\n    &quot;@babel/plugin-transform-typescript&quot;: &quot;^7.11.0&quot;,\n    &quot;babel-plugin-transform-class-properties&quot;: &quot;^6.24.1&quot;,\n    &quot;@babel/plugin-syntax-flow&quot;: &quot;^7.10.4&quot;,\n    &quot;@babel/preset-env&quot;: &quot;^7.11.5&quot;,\n    &quot;babel-loader&quot;: &quot;^8.1.0&quot;,\n    &quot;esmify&quot;: &quot;^2.1.1&quot;,\n    &quot;rimraf&quot;: &quot;^3.0.2&quot;,\n    &quot;ts-loader&quot;: &quot;^8.0.4&quot;,\n    &quot;ts-node&quot;: &quot;^8.10.2&quot;,\n    &quot;typescript&quot;: &quot;^3.9.7&quot;,\n    &quot;webpack&quot;: &quot;^4.44.2&quot;,\n    &quot;webpack-cli&quot;: &quot;^3.3.12&quot;\n  }\n}\n</code></pre>\n<p>tsconfig.json</p>\n<pre><code>{\n  &quot;compilerOptions&quot;: {\n    &quot;module&quot;: &quot;AMD&quot;,\n    &quot;target&quot;: &quot;ES5&quot;,\n    &quot;declaration&quot;: true,\n    &quot;outDir&quot;: &quot;dist/my-javascript-package&quot;,\n    &quot;moduleResolution&quot;: &quot;node&quot;\n  },\n  &quot;exclude&quot;: [\n    &quot;node_modules&quot;\n  ],\n  &quot;include&quot;: [\n    &quot;src/**/*&quot;\n  ]\n}\n</code></pre>\n<p>.babelrc</p>\n<pre><code>{\n    &quot;plugins&quot;: [\n        &quot;transform-class-properties&quot;,\n        &quot;@babel/plugin-syntax-flow&quot;,\n        &quot;@babel/plugin-transform-reserved-words&quot;,\n        &quot;@babel/plugin-transform-typescript&quot;\n    ]\n}\n</code></pre>\n<p>webpack.config.js</p>\n<pre><code>const path = require('path');\n\nmodule.exports = env =&gt; {\n    const mode = env.production ? 'production' : 'development';\n\n    const config = (target) =&gt; {\n        return {\n            entry: {\n                index: './src/index.ts'\n            },\n            target: target,\n            output: {\n                path: path.resolve(__dirname, &quot;dist/my-javascript-package&quot;),\n                filename: target+'.js',\n                library: 'MyJavaScriptPackage',\n                libraryTarget: &quot;umd&quot;,\n                umdNamedDefine: true,\n                globalObject: 'this',\n            },\n            plugins: [\n                new (require('webpack')).DefinePlugin({\n                    'process.env.NODE_ENV': JSON.stringify(mode)\n                }),\n            ],\n            mode: mode,\n            resolve: {\n                extensions: ['.ts', '.js', '.json']\n            },\n            module: {\n                rules: [\n                    {\n                        test: /\\.ts$/,\n                        exclude: /node_modules/,\n                        use: [\n                            {\n                                loader: &quot;babel-loader&quot;,\n                                options: {\n                                    presets: [\n                                        [\n                                            &quot;@babel/preset-env&quot;,\n                                            {\n                                                &quot;targets&quot;: {\n                                                    &quot;browsers&quot;:[&quot;last 2 versions&quot;],\n                                                    &quot;node&quot;:&quot;current&quot;\n                                                }\n                                            }\n                                        ]\n                                    ],\n                                },\n                            },\n                            {\n                                loader: &quot;ts-loader&quot;,\n                            },\n                        ],\n                    },\n                ],\n            },\n        };\n    };\n\n    return [config('node'), config('web')]\n};\n</code></pre>\n<p>Bundle it</p>\n<pre><code>npm run bundle-dev\n</code></pre>\n<p>or</p>\n<pre><code>npm run bundle-prod \n</code></pre>\n<p>Import</p>\n<pre><code>import {MyJavaScriptPackage} from &quot;my-javascript-package/node&quot;;\n//or \nimport {MyJavaScriptPackage} from &quot;my-javascript-package/web&quot;; // SPA example\n</code></pre>\n<p>References:</p>\n<ul>\n<li><a href=\"https://itnext.io/how-to-build-and-publish-npm-packages-with-webpack-dea19bb14627\" rel=\"nofollow noreferrer\">https://itnext.io/how-to-build-and-publish-npm-packages-with-webpack-dea19bb14627</a></li>\n<li><a href=\"https://webpack.js.org/concepts/\" rel=\"nofollow noreferrer\">https://webpack.js.org/concepts/</a></li>\n<li><a href=\"https://stackoverflow.com/a/46633682/4508758\">https://stackoverflow.com/a/46633682/4508758</a></li>\n<li><a href=\"https://stackoverflow.com/a/49639482/4508758\">https://stackoverflow.com/a/49639482/4508758</a></li>\n<li><a href=\"https://stackoverflow.com/a/52092788/4508758\">https://stackoverflow.com/a/52092788/4508758</a></li>\n<li><a href=\"https://stackoverflow.com/a/51737190/4508758\">https://stackoverflow.com/a/51737190/4508758</a></li>\n<li>and others</li>\n</ul>\n"}], "owner": {"reputation": 11144, "user_id": 2176962, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/be000b5e22ce83d9e2ecdfe559279030?s=128&d=identicon&r=PG", "display_name": "hgoebl", "link": "https://stackoverflow.com/users/2176962/hgoebl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1908, "favorite_count": 0, "accepted_answer_id": 32856076, "answer_count": 3, "score": 6, "last_activity_date": 1603570540, "creation_date": 1443522745, "question_id": 32841682, "link": "https://stackoverflow.com/questions/32841682/write-typescript-and-emit-a-library-for-browser-and-node", "title": "Write TypeScript and emit a library for Browser and Node", "body": "<p>I have an internal library used in Node.js and browser. It has many files, concatenated with a Grunt task and different prologues, one for browser, one for Node:</p>\n\n<p>browser:</p>\n\n<pre><code>// dependent 3rd-party libs like Mustache are already global\nwindow.myLib = { /*just a namespace object filled with stuff later*/ }\n\n// then comes the plain javascript which just adds elements to myLib.\n// This part is identical to that used in Node\n// example:\nmyLib.renderPartDetail = function (...) {...};\n</code></pre>\n\n<p>Node:</p>\n\n<pre><code>var Mustache = require('mustache');\nvar myLib = {};\nmodule.exports = myLib;\n\n// then comes the plain javascript which just adds elements to myLib.\n// This part is identical to that used in Browser\n</code></pre>\n\n<p>This results in 2 different single output js files, one for browser, one for Node.</p>\n\n<p><strong>What I'd like</strong></p>\n\n<ul>\n<li>use TypeScript</li>\n<li>if possible, use only one CommonJS syntax (or ES6 modules) for both browser and node</li>\n<li>invest in something not dying in the next couple of months</li>\n<li>be a bit more modular (maybe somebody needs only part of the lib)</li>\n</ul>\n\n<p><strong>What confuses me</strong></p>\n\n<p>I find 2 different kinds of module handling in TypeScript:</p>\n\n<pre><code>import {a, b} from './x'\n</code></pre>\n\n<p>and</p>\n\n<pre><code>import c = require('./y')\n</code></pre>\n\n<p>I'm used to the latter from node, but the first looks like ES6 (which might be the future).</p>\n\n<p>Currently I use <code>tsc --module commonjs</code> but this is only the output format, right? There is also <code>--module system</code> but I can't find documentation for this option and when I use it, the compiler complains about <code>export = ...</code> is not allowed.</p>\n\n<p>Haven't yet played around with <code>browserify</code>, <code>tsify</code>, <code>watchify</code>, <code>jspm</code>, SystemJS, <code>webpack</code> - it's just too similar and too much, but I think one or a few of those tools could do the work for me.</p>\n\n<p>And when I <code>require(&lt;a node module living in node_modules&gt;)</code>, tsc cannot find the module: \"TS2307: Cannot find external module 'moment'\".</p>\n\n<p><strong>Concrete Questions</strong></p>\n\n<ul>\n<li>Which module syntax should I use in my code to best work with Node and Browser?</li>\n<li>Which tool-chain will solve my requirements? Is there an example project or a boilerplate where I can copy from? (I'm open to Gulp as well, doesn't have to use Grunt).</li>\n<li>Which TypeScript and Node versions are currently supported? I'm having 1.4 embedded in IntelliJ, when referencing 1.6.2 as external I'm getting very deep cryptic error messages like \"TypeError: host.fileExists is not a function\" (not finding anything helpful about this). Maybe it's not optimal to use Node v4.1.1?</li>\n</ul>\n\n<p>I'm sorry that this post is so complex. If necessary, just give me advise where to start or what is the most important thing to change or begin with. </p>\n"}, {"tags": ["visual-studio", "typescript", "intellisense"], "answers": [{"comments": [{"owner": {"reputation": 2678, "user_id": 3955513, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/d6ad6b86b6f31e732b0d8df6e15efd9e?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Parikh", "link": "https://stackoverflow.com/users/3955513/shyamal-parikh"}, "edited": false, "score": 0, "creation_date": 1443518267, "post_id": 32840194, "comment_id": 53515097, "body": "Whoa! didn&#39;t realize this. Thanks a lot"}], "tags": [], "owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "is_accepted": true, "score": 3, "last_activity_date": 1443518031, "creation_date": 1443518031, "answer_id": 32840194, "question_id": 32840135, "link": "https://stackoverflow.com/questions/32840135/typescript-no-intellisense-support-for-referenced-class/32840194#32840194", "title": "Typescript: No intellisense support for referenced class", "body": "<p>You should add a type to your member</p>\n\n<pre><code>class Second{\n    // instead of this\n    // firstClass;\n    // we should use this\n    firstClass:First; // here\n    constructor(firstClass:First)\n    {\n        // here we should assign this.firstClass \n        this.firstClass = firstClass;\n    }\n</code></pre>\n\n<p>But the most suitable way, I'd say, is to use some syntax sugar coming with TS compiler</p>\n\n<pre><code>class Second{\n    //  this syntax (protected, private, public) will do behind the same as above\n    constructor(protected firstClass:First)\n    {\n    }\n</code></pre>\n"}], "owner": {"reputation": 2678, "user_id": 3955513, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/d6ad6b86b6f31e732b0d8df6e15efd9e?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Parikh", "link": "https://stackoverflow.com/users/3955513/shyamal-parikh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 32840194, "answer_count": 1, "score": 1, "last_activity_date": 1443518188, "creation_date": 1443517905, "last_edit_date": 1443518188, "question_id": 32840135, "link": "https://stackoverflow.com/questions/32840135/typescript-no-intellisense-support-for-referenced-class", "title": "Typescript: No intellisense support for referenced class", "body": "<p>Following is an example code, it seems that intellisense doesn't recognize the <code>'exposedMethod'</code> when the class <code>'First'</code> is referenced in class <code>'Second'</code>.</p>\n\n<p>Is this not supported by Intellisense or am I missing something?</p>\n\n<pre><code>class First{\n    exposedMethod=()=&gt;{\n\n    }\n}\n\nclass Second{\n    firstClass;\n    constructor(firstClass:First)\n    {\n        firstClass = firstClass;\n    }\n\n    someFunction=()=&gt;{\n        this.firstClass.exposedMethod();    //No intellisense support here\n    }\n}\n</code></pre>\n"}, {"tags": ["angularjs", "typescript"], "comments": [{"owner": {"reputation": 14053, "user_id": 650891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01dc99801914d08b2aa5889777970c0e?s=128&d=identicon&r=PG", "display_name": "Stephen Chung", "link": "https://stackoverflow.com/users/650891/stephen-chung"}, "edited": false, "score": 0, "creation_date": 1443627036, "post_id": 32835784, "comment_id": 53571852, "body": "I think <code>finally</code> is defined as <code>then(callback, callback)</code> with the same callback function for both resolved and rejected routes."}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 0, "last_activity_date": 1443507459, "last_edit_date": 1443507459, "creation_date": 1443502618, "answer_id": 32835949, "question_id": 32835784, "link": "https://stackoverflow.com/questions/32835784/can-i-just-return-a-finally-from-a-function-that-returns-a-promise/32835949#32835949", "title": "Can I just return a finally from a function that returns a promise?", "body": "<blockquote>\n  <p>In this case do I even need the .then construct</p>\n</blockquote>\n\n<p><em>No</em>. You don't need it in this case. <code>finally</code> will be called irrespective of <code>then</code>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user1464139"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 32835949, "answer_count": 1, "score": 0, "last_activity_date": 1443507459, "creation_date": 1443501470, "last_edit_date": 1443502174, "question_id": 32835784, "link": "https://stackoverflow.com/questions/32835784/can-i-just-return-a-finally-from-a-function-that-returns-a-promise", "title": "Can I just return a finally from a function that returns a promise?", "body": "<p>I have this function:</p>\n\n<pre><code>archive= (): ng.IPromise&lt;any&gt; =&gt; {\n    var self = this;\n    return self.setStatus()\n        .then(\n            () =&gt; { }\n            )\n        .finally(() =&gt; {\n            self.controls = self.getFilteredTestStatusActions(1, 'Admin');\n        });\n};\n</code></pre>\n\n<p>I would like to set the controls after this function succeeds or gives an error. In this case do I even need the .then construct ?</p>\n"}, {"tags": ["node.js", "typescript", "linux-mint"], "comments": [{"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "edited": false, "score": 0, "creation_date": 1443499366, "post_id": 32835203, "comment_id": 53506510, "body": "Weird. Does <code>node &#47;usr&#47;local&#47;lib&#47;node_modules&#47;typescript&#47;lib&#47;tsc.js --version</code> work?"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "edited": false, "score": 0, "creation_date": 1443500115, "post_id": 32835203, "comment_id": 53506715, "body": "@DavidSherret Nice point. Might be a bad node install"}, {"owner": {"reputation": 32220, "user_id": 612253, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XgCz8.jpg?s=128&g=1", "display_name": "Highly Irregular", "link": "https://stackoverflow.com/users/612253/highly-irregular"}, "reply_to_user": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "edited": false, "score": 0, "creation_date": 1443515465, "post_id": 32835203, "comment_id": 53513333, "body": "@DavidSherret no, it doesn&#39;t. Any idea how to reinstall node? :-)"}, {"owner": {"reputation": 32220, "user_id": 612253, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XgCz8.jpg?s=128&g=1", "display_name": "Highly Irregular", "link": "https://stackoverflow.com/users/612253/highly-irregular"}, "reply_to_user": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "edited": false, "score": 0, "creation_date": 1443562457, "post_id": 32835203, "comment_id": 53542006, "body": "@DavidSherret I discovered that even <code>node --version</code> returns nothing (but shouldn&#39;t) however <code>nodejs --version</code> works, and so does the command you suggested when I call nodejs instead of node. I wonder why that would be. Reinstalling node didn&#39;t help."}], "answers": [{"comments": [{"owner": {"reputation": 10930, "user_id": 313088, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0a45470bb644ccf6d46a0d364b21c650?s=128&d=identicon&r=PG", "display_name": "Tedd Hansen", "link": "https://stackoverflow.com/users/313088/tedd-hansen"}, "edited": false, "score": 2, "creation_date": 1458554634, "post_id": 32854210, "comment_id": 59894948, "body": "Fix works for Azure Ubuntu 14.04.4 instance. You should set it as the answer."}], "tags": [], "owner": {"reputation": 32220, "user_id": 612253, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XgCz8.jpg?s=128&g=1", "display_name": "Highly Irregular", "link": "https://stackoverflow.com/users/612253/highly-irregular"}, "is_accepted": true, "score": 5, "last_activity_date": 1443572573, "last_edit_date": 1443572573, "creation_date": 1443562709, "answer_id": 32854210, "question_id": 32835203, "link": "https://stackoverflow.com/questions/32835203/whats-wrong-with-my-typescript-compiler-tsc-version-returns-nothing/32854210#32854210", "title": "What&#39;s wrong with my typescript compiler? `tsc --version` returns nothing", "body": "<p>I discovered that running <code>node --version</code> returns nothing (but shouldn't) however <code>nodejs --version</code> works (the result being <code>v0.10.25</code>). Reinstalling node didn't fix this. I don't know why this would be the case, as I think I followed the recommended installation procedure.</p>\n\n<p>However, editing file /usr/local/bin/tsc and changing the line:</p>\n\n<pre><code>#!/usr/bin/env node\n</code></pre>\n\n<p>to</p>\n\n<pre><code>#!/usr/bin/env nodejs\n</code></pre>\n\n<p>seemed to work. Now <code>tsc --version</code> returns <code>message TS6029: Version 1.6.2</code> and I'm getting .js files generated when I run <code>make</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 275, "user_id": 6361484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4l7r6.png?s=128&g=1", "display_name": "\u041d\u0438\u043a\u0438\u0442\u0430 \u0418\u0432\u0430\u043d\u043e\u0432", "link": "https://stackoverflow.com/users/6361484/%d0%9d%d0%b8%d0%ba%d0%b8%d1%82%d0%b0-%d0%98%d0%b2%d0%b0%d0%bd%d0%be%d0%b2"}, "is_accepted": false, "score": 12, "last_activity_date": 1483469247, "creation_date": 1483469247, "answer_id": 41450351, "question_id": 32835203, "link": "https://stackoverflow.com/questions/32835203/whats-wrong-with-my-typescript-compiler-tsc-version-returns-nothing/41450351#41450351", "title": "What&#39;s wrong with my typescript compiler? `tsc --version` returns nothing", "body": "<p>In my case on Ubuntu 16.04 the problem was because of I performed <code>sudo apt-get install node-typescript</code>, which delivered me broken tsc. After removing it via <code>apt-get remove</code> and then installing as recommended with <code>npm install -g typescript</code>, it worked fine.</p>\n\n<p>Maybe this will help someone.</p>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 11631899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c1597bffa2c664200ae36eaaa8af601?s=128&d=identicon&r=PG&f=1", "display_name": "Prags", "link": "https://stackoverflow.com/users/11631899/prags"}, "is_accepted": false, "score": 0, "last_activity_date": 1560265617, "creation_date": 1560265617, "answer_id": 56546705, "question_id": 32835203, "link": "https://stackoverflow.com/questions/32835203/whats-wrong-with-my-typescript-compiler-tsc-version-returns-nothing/56546705#56546705", "title": "What&#39;s wrong with my typescript compiler? `tsc --version` returns nothing", "body": "<p>I was getting the following error in Ubuntu 16.04.6 :</p>\n\n<pre><code>  internal/modules/cjs/loader.js:638\n   throw err;\n   ^\n\nError: Cannot find module 'typescript/tsc.js'\n   at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)\n   at Function.Module._load (internal/modules/cjs/loader.js:562:25)\n   at Module.require (internal/modules/cjs/loader.js:690:17)\n   at require (internal/modules/cjs/helpers.js:25:18)\n   at Object.&lt;anonymous&gt; (/usr/bin/tsc:2:1)\n   at Module._compile (internal/modules/cjs/loader.js:776:30)\n   at Object.Module._extensions..js (internal/modules/cjs/loader.js:787:10)\n   at Module.load (internal/modules/cjs/loader.js:653:32)\n   at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n   at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n</code></pre>\n\n<p>Running : <code>npm install -g typescript</code> didn't resolved the issue.\nSo, I had to install the latest version of node i.e <code>nvm install &lt;nvm version&gt;</code> </p>\n\n<p>Then with <code>npm install</code> , it fixed the issue.</p>\n"}], "owner": {"reputation": 32220, "user_id": 612253, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XgCz8.jpg?s=128&g=1", "display_name": "Highly Irregular", "link": "https://stackoverflow.com/users/612253/highly-irregular"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6807, "favorite_count": 1, "accepted_answer_id": 32854210, "answer_count": 3, "score": 7, "last_activity_date": 1560265617, "creation_date": 1443497242, "last_edit_date": 1443498972, "question_id": 32835203, "link": "https://stackoverflow.com/questions/32835203/whats-wrong-with-my-typescript-compiler-tsc-version-returns-nothing", "title": "What&#39;s wrong with my typescript compiler? `tsc --version` returns nothing", "body": "<p>In Linux Mint, I've installed node and used it to install typescript. With a working typescript installation, <code>tsc --version</code> should return the version number. In my case, nothing is returned at all.</p>\n\n<p>When I run <code>which tsc</code> the result is <code>/usr/local/bin/tsc</code>.</p>\n\n<p>When I run <code>cat /usr/local/bin/tsc</code> the result is:</p>\n\n<pre><code>#!/usr/bin/env node\nrequire('../lib/tsc.js')\n</code></pre>\n\n<p>When I run <code>find /usr/local -name 'tsc*'</code> the result is:</p>\n\n<pre><code>/usr/local/bin/tsc\n/usr/local/lib/node_modules/typescript/bin/tsc\n/usr/local/lib/node_modules/typescript/lib/tsc.js\n</code></pre>\n\n<p><strong>Does that look correct? If so, then any ideas on what else to look at would be appreciated?</strong></p>\n\n<p>Note I also tried running <code>/usr/local/lib/node_modules/typescript/bin/tsc --version</code> and got the same result ie nothing.</p>\n"}, {"tags": ["makefile", "typescript", "linux-mint"], "answers": [{"comments": [{"owner": {"reputation": 32220, "user_id": 612253, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XgCz8.jpg?s=128&g=1", "display_name": "Highly Irregular", "link": "https://stackoverflow.com/users/612253/highly-irregular"}, "edited": false, "score": 0, "creation_date": 1443491078, "post_id": 32834223, "comment_id": 53504403, "body": "Thanks! I think that helps a little. Any idea for how to check the version? <code>tsc --version</code> does nothing, and there&#39;s no linux manual entry for tsc it seems."}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 32220, "user_id": 612253, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XgCz8.jpg?s=128&g=1", "display_name": "Highly Irregular", "link": "https://stackoverflow.com/users/612253/highly-irregular"}, "edited": false, "score": 0, "creation_date": 1443491312, "post_id": 32834223, "comment_id": 53504471, "body": "<code>which tsc</code> should tell you the location of <code>tsc</code>"}, {"owner": {"reputation": 32220, "user_id": 612253, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XgCz8.jpg?s=128&g=1", "display_name": "Highly Irregular", "link": "https://stackoverflow.com/users/612253/highly-irregular"}, "edited": false, "score": 0, "creation_date": 1443491388, "post_id": 32834223, "comment_id": 53504489, "body": "I found a line containing <code>ts.version = &quot;1.6.2&quot;</code> in line 29357 of the file /usr/local/lib/node_modules/typescript/lib/tsc.js  so perhaps that means I have version 1.6.2... would have been easier if it was at the top of the file!"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 32220, "user_id": 612253, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XgCz8.jpg?s=128&g=1", "display_name": "Highly Irregular", "link": "https://stackoverflow.com/users/612253/highly-irregular"}, "edited": false, "score": 0, "creation_date": 1443491442, "post_id": 32834223, "comment_id": 53504504, "body": "@HighlyIrregular <code>tsc --version</code> should have definitely worked. I just tested it and it does work"}, {"owner": {"reputation": 32220, "user_id": 612253, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XgCz8.jpg?s=128&g=1", "display_name": "Highly Irregular", "link": "https://stackoverflow.com/users/612253/highly-irregular"}, "edited": false, "score": 0, "creation_date": 1443491781, "post_id": 32834223, "comment_id": 53504605, "body": "Thanks... there must be something wrong with my installation. I&#39;ll focus on that."}, {"owner": {"reputation": 53661, "user_id": 1413538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/594bb80f7ed4b0b3770df7ad97c4d16a?s=128&d=identicon&r=PG", "display_name": "Brocco", "link": "https://stackoverflow.com/users/1413538/brocco"}, "edited": false, "score": 0, "creation_date": 1443496511, "post_id": 32834223, "comment_id": 53505733, "body": "Make sure when you installed typescript that you installed it with <code>-g</code> which means it would be installed globally. If not you will have to reference the <code>tsc</code> command from within the node_modules folder."}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 0, "creation_date": 1443500143, "post_id": 32834223, "comment_id": 53506727, "body": "discussion continuing here : <a href=\"http://stackoverflow.com/questions/32835203/whats-wrong-with-my-typescript-compiler-tsc-version-returns-nothing\" title=\"whats wrong with my typescript compiler tsc version returns nothing\">stackoverflow.com/questions/32835203/&hellip;</a>"}, {"owner": {"reputation": 1155, "user_id": 6943587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fzY6d.jpg?s=128&g=1", "display_name": "Nickofthyme", "link": "https://stackoverflow.com/users/6943587/nickofthyme"}, "edited": false, "score": 0, "creation_date": 1589580560, "post_id": 32834223, "comment_id": 109361057, "body": "Also <code>--listEmittedFiles</code> might helpful"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 6, "last_activity_date": 1443491960, "last_edit_date": 1443491960, "creation_date": 1443489927, "answer_id": 32834223, "question_id": 32833976, "link": "https://stackoverflow.com/questions/32833976/why-does-command-tsc-file-ts-give-no-output-and-not-produce-a-js-file/32834223#32834223", "title": "Why does command &quot;tsc file.ts&quot; give no output and not produce a js file?", "body": "<blockquote>\n  <p>--noEmitOnError</p>\n</blockquote>\n\n<p>This means that if there is an error detected <em>no js will be generated</em>. I highly recommend not using this option (Changes a major benefit of <a href=\"https://basarat.gitbooks.io/typescript/content/docs/why-typescript.html\" rel=\"noreferrer\">why typescript</a>)</p>\n\n<h1>More</h1>\n\n<p>Check your <code>tsc</code> version. The code you provided works fine with <code>1.6</code>: </p>\n\n<p><a href=\"https://i.stack.imgur.com/ju8ud.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ju8ud.png\" alt=\"enter image description here\"></a></p>\n\n<h1>Update</h1>\n\n<p>The <code>--version</code> command should work at the very least. See below: </p>\n\n<p><a href=\"https://i.stack.imgur.com/IxCP6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/IxCP6.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 19147, "user_id": 1031769, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/YIkCC.jpg?s=128&g=1", "display_name": "Searene", "link": "https://stackoverflow.com/users/1031769/searene"}, "is_accepted": false, "score": 8, "last_activity_date": 1596336530, "creation_date": 1596336530, "answer_id": 63211905, "question_id": 32833976, "link": "https://stackoverflow.com/questions/32833976/why-does-command-tsc-file-ts-give-no-output-and-not-produce-a-js-file/63211905#63211905", "title": "Why does command &quot;tsc file.ts&quot; give no output and not produce a js file?", "body": "<p>I encountered this problem because I had the following line in my <code>tsconfig.json</code>:</p>\n<pre><code>&quot;noEmit&quot;: true\n</code></pre>\n<p>It worked after removing it.</p>\n"}], "owner": {"reputation": 32220, "user_id": 612253, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XgCz8.jpg?s=128&g=1", "display_name": "Highly Irregular", "link": "https://stackoverflow.com/users/612253/highly-irregular"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5167, "favorite_count": 0, "accepted_answer_id": 32834223, "answer_count": 2, "score": 2, "last_activity_date": 1596336530, "creation_date": 1443487909, "last_edit_date": 1592644375, "question_id": 32833976, "link": "https://stackoverflow.com/questions/32833976/why-does-command-tsc-file-ts-give-no-output-and-not-produce-a-js-file", "title": "Why does command &quot;tsc file.ts&quot; give no output and not produce a js file?", "body": "<p>I have just started work on a project with some typescript code, and I'm trying to compile the .ts files to .js files from within Linux Mint, but it's not working as I'd expect.</p>\n<p>There is a Makefile, but it's not working. Running <code>make</code> returns an error:</p>\n<pre><code>tsc --noImplicitAny --noEmitOnError --out client/welcome.js client/welcome.ts\nmake: *** [client/welcome.js] Error 1\n</code></pre>\n<p>I have also tried creating an example typescript file greeter.ts (as per <a href=\"http://www.typescriptlang.org/Tutorial\" rel=\"nofollow noreferrer\">this official tutorial</a>) containing:</p>\n<pre><code>function greeter(person) {\n    return &quot;Hello, &quot; + person;\n}\nvar user = &quot;Jane User&quot;;\ndocument.body.innerHTML = greeter(user);\n</code></pre>\n<p>and tried compiling the ts file to javascript with the command (as per the same tutorial) <code>tsc greeter.ts</code> however the command completes with no output, and no .js file has been created.</p>\n<p>I haven't previously worked with typescript at all, and though I've used Makefile's before I don't know much about them either, so I'm hoping it's something really obvious!</p>\n"}, {"tags": ["angularjs", "visual-studio", "service", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 2101, "user_id": 2375913, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/erzPC.png?s=128&g=1", "display_name": "muenchdo", "link": "https://stackoverflow.com/users/2375913/muenchdo"}, "is_accepted": true, "score": 18, "last_activity_date": 1443475978, "creation_date": 1443475978, "answer_id": 32832174, "question_id": 32831970, "link": "https://stackoverflow.com/questions/32831970/typescript-property-doesnt-exist-on-the-rootscope-angularjs/32832174#32832174", "title": "Typescript: Property doesn&#39;t exist on the $rootScope (Angularjs)", "body": "<p>That is because (as the compiler says) <code>val1</code> does not exist on <code>ng.IRootScopeService</code>. You need to extend it to adapt it to your needs, e.g.</p>\n\n<pre><code>interface MyRootScope extends ng.IRootScopeService {\n  val1: string\n}\n</code></pre>\n\n<p>Then you can just use this interface in your class:</p>\n\n<pre><code>class TestClass {\n  this.rootScope: MyRootScope;\n  ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6697, "user_id": 4540020, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f2d379c26fafba97e01b5e08b92d729e?s=128&d=identicon&r=PG&f=1", "display_name": "Jes&#250;s L&#243;pez", "link": "https://stackoverflow.com/users/4540020/jes%c3%bas-l%c3%b3pez"}, "is_accepted": false, "score": 2, "last_activity_date": 1443513635, "creation_date": 1443513635, "answer_id": 32838754, "question_id": 32831970, "link": "https://stackoverflow.com/questions/32831970/typescript-property-doesnt-exist-on-the-rootscope-angularjs/32838754#32838754", "title": "Typescript: Property doesn&#39;t exist on the $rootScope (Angularjs)", "body": "<p>Other alternatives are:</p>\n\n<pre><code>this.rootScope[\"val1\"] = \"something\";\n(&lt;any&gt;(this.rootScope)).val1 = \"something\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8049, "user_id": 1447173, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Q0dKa.gif?s=128&g=1", "display_name": "Daniel B", "link": "https://stackoverflow.com/users/1447173/daniel-b"}, "edited": false, "score": 0, "creation_date": 1476777606, "post_id": 32869264, "comment_id": 67477209, "body": "Looking at option 3, how would one inject this in a controller?"}], "tags": [], "owner": {"reputation": 14053, "user_id": 650891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01dc99801914d08b2aa5889777970c0e?s=128&d=identicon&r=PG", "display_name": "Stephen Chung", "link": "https://stackoverflow.com/users/650891/stephen-chung"}, "is_accepted": false, "score": 7, "last_activity_date": 1443624757, "creation_date": 1443624757, "answer_id": 32869264, "question_id": 32831970, "link": "https://stackoverflow.com/questions/32831970/typescript-property-doesnt-exist-on-the-rootscope-angularjs/32869264#32869264", "title": "Typescript: Property doesn&#39;t exist on the $rootScope (Angularjs)", "body": "<p>You are probably using TypeScript 1.6 which starts catching this kind of errors.</p>\n\n<p>What I usually do is either: </p>\n\n<ol>\n<li><p>use <code>$rootScope: any</code></p></li>\n<li><p>do <code>($rootscope as any).val1 = ...</code></p></li>\n<li><p>use <code>$rootScope: ng.IRootScopeService &amp; { [name:string]: any };</code></p></li>\n</ol>\n\n<p>No.3 adds allowance of additional properties to the type.  You can even save it under a type name for reuse:</p>\n\n<pre><code>type IExpandable = { [name:string]:any };\n\n$rootScope: ng.IRootScopeService &amp; IExpandable;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13717, "user_id": 4742733, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/bGGhh.jpg?s=128&g=1", "display_name": "Aakash", "link": "https://stackoverflow.com/users/4742733/aakash"}, "is_accepted": false, "score": 1, "last_activity_date": 1463223301, "last_edit_date": 1463223301, "creation_date": 1463222576, "answer_id": 37225633, "question_id": 32831970, "link": "https://stackoverflow.com/questions/32831970/typescript-property-doesnt-exist-on-the-rootscope-angularjs/37225633#37225633", "title": "Typescript: Property doesn&#39;t exist on the $rootScope (Angularjs)", "body": "<p>This is what worked for me:</p>\n\n<p>In a separate file, I <code>declare module app</code>:</p>\n\n<pre><code>// IRootScopeService.d.ts\ndeclare module app {\n    interface IRootScopeService extends ng.IRootScopeService {\n        //\n        $state: ng.ui.IState\n        //\n        previousState: any;\n        currentState: any;\n    }\n}\n</code></pre>\n\n<p>I named this <code>IRootScopeService.d.ts</code> as it is a declaration files working with <code>declare</code> keyword.  To keep it modular, this file will be only for accessing the <code>interface</code> with <code>app.IRootScopeService</code>.</p>\n\n<p>Now, within the controller file, this is how the <code>controller</code> function is:</p>\n\n<pre><code>//CoreCtrl-ctrl.ts\n...\nfunction CoreCtrl(\n        $state: angular.ui.IState,\n        $rootScope: app.IRootScopeService\n    ) {\n        var vm = this;\n\n        $rootScope.previousState = undefined;\n        $rootScope.currentState = undefined;\n        $rootScope.$on('$stateChangeSuccess', function(ev, to, toParams, from, fromParams) {\n            $rootScope.previousState = from.name;\n            $rootScope.currentState = to.name;\n        })\n        // $rootScope.previousState = undefined;\n        // $rootScope.currentState = undefined;\n    }\n    ...\n</code></pre>\n\n<p>Note the <code>app.IRootScopeService</code> that gives us the <code>type</code> we want for <code>$rootScope</code>.  Now <code>$rootScope.currentState</code> and <code>$rootScope.previousState</code> will not give error in <code>typescript</code>.</p>\n\n<p><strong>PART 2</strong></p>\n\n<p>We can add more <code>interfaces</code> to module <code>app</code> in a new file <code>IScope.d.ts</code> just to keep things modular :</p>\n\n<pre><code>// IScope.d.ts\ndeclare module app {\n    interface IScope extends ng.IScope {\n        // \n        $root: IRootScopeService;\n        // \n        greet:string;\n        name:string;\n        address:string;\n    }\n}\n</code></pre>\n\n<p>Now, we have two <strong>personalized/customized</strong> interfaces <code>app.IRootScopeService</code> and <code>app.IState</code> where we can keep adding new <code>properties</code> we would like to add to <code>$rootScope</code> and <code>$scope</code>.</p>\n\n<p>Note that we did not prefix <code>ng.</code> in <code>$root: IRootScopeService;</code> because we are accessing <code>app.IRootScopeService</code> from inside <code>module app</code>.</p>\n\n<p>Hope this helps.  Good Luck.</p>\n"}], "owner": {"reputation": 2678, "user_id": 3955513, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/d6ad6b86b6f31e732b0d8df6e15efd9e?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Parikh", "link": "https://stackoverflow.com/users/3955513/shyamal-parikh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6054, "favorite_count": 0, "accepted_answer_id": 32832174, "answer_count": 4, "score": 7, "last_activity_date": 1463223301, "creation_date": 1443474972, "last_edit_date": 1443475362, "question_id": 32831970, "link": "https://stackoverflow.com/questions/32831970/typescript-property-doesnt-exist-on-the-rootscope-angularjs", "title": "Typescript: Property doesn&#39;t exist on the $rootScope (Angularjs)", "body": "<p>Getting an error when adding a value to the rootscope in Typescript. </p>\n\n<pre><code>class TestClass{\n   this.rootScope: ng.IRootScopeService;\n   constructor($rootScope){\n       this.rootScope = $rootScope;\n    }\n\n    addValueToRoot=()=&gt;{\n       this.rootScope.val1 = \"something\";    //Error: Property doesn't exist on the IRootScopeService\n    }\n}\n</code></pre>\n"}, {"tags": ["typescript", "angular"], "answers": [{"tags": [], "owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "is_accepted": true, "score": 2, "last_activity_date": 1443475704, "last_edit_date": 1443475704, "creation_date": 1443475277, "answer_id": 32832037, "question_id": 32831801, "link": "https://stackoverflow.com/questions/32831801/angular2-object-undefined/32832037#32832037", "title": "Angular2 Object Undefined", "body": "<p>That's because you are getting <code>data</code> asynchronously. You can't expect the service to return the value when you call it, so you should return the Observable in your service and subscribe to it in your component.</p>\n\n<p>In your service</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>constructor(http: Http){\n    this.http = http;\n}\nmyData() {\n  return this.http.get('Data.json')\n     .toRx()\n     .map(res =&gt; res.json());\n}\n</code></pre>\n\n<p>In your component </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>constructor( public dataService:DataService){\n\n       dataService.myData().subscribe(res =&gt; this.query = res);\n\n       this.tquery = dataService.tdata; //object Array\n  }\n</code></pre>\n\n<p>and change your view to this</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@View({\n    template: `\n     {{tquery| json}}\n     &lt;br&gt;\n     {{query | json}}\n    `\n</code></pre>\n\n<p>Here's a repro : <a href=\"http://plnkr.co/edit/BeMpYR?p=preview\" rel=\"nofollow\">http://plnkr.co/edit/BeMpYR?p=preview</a></p>\n"}], "owner": {"reputation": 743, "user_id": 2949571, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/db6e18ba49637ff1b4a446a5f9560f42?s=128&d=identicon&r=PG&f=1", "display_name": "Code OverFlow", "link": "https://stackoverflow.com/users/2949571/code-overflow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7629, "favorite_count": 0, "accepted_answer_id": 32832037, "answer_count": 1, "score": 0, "last_activity_date": 1443480205, "creation_date": 1443474230, "last_edit_date": 1443480205, "question_id": 32831801, "link": "https://stackoverflow.com/questions/32831801/angular2-object-undefined", "title": "Angular2 Object Undefined", "body": "<p>Getting \"object undefined\" while accessing object of Service Component. But hard coded below data to javaScript variable working fine and shows object type \"object Array\"</p>\n\n<p>Data.json</p>\n\n<pre><code>[\n      {\n        \"id\": 1,\n        \"name\": \"Malad\",\n        \"gateway\": \"10.10.100.1\",\n        \"device\": \"cisco\"\n      }, {\n        \"id\": 2,\n        \"name\": \"Kandhivali\",\n        \"gateway\": \"222.30.100.1\",\n        \"device\": \"Juniper\"\n      }\n]\n</code></pre>\n\n<p>DataService.ts</p>\n\n<pre><code>import {Injectable} from 'angular2/angular2'\nimport {Http} from 'angular2/http';\n\n@Injectable()\nexport class DataService {\n\n  tdata = [\n  {\n    \"id\": 1,\n    \"name\": \"Malad\",\n    \"gateway\": \"10.10.100.1\",\n    \"device\": \"cisco\"\n  }, {\n    \"id\": 2,\n    \"name\": \"Kandhivali\",\n    \"gateway\": \"222.30.100.1\",\n    \"device\": \"Juniper\"\n  }\n];\n\n  data;\n  constructor(http: Http){\n    http.get('Data.json')\n    .toRx()\n    .map(res =&gt; res.json())\n    .subscribe(res =&gt; this.data= res);\n  }\n\n}\n</code></pre>\n\n<p>DataPage.ts</p>\n\n<pre><code>import {Component, View, CORE_DIRECTIVES} from 'angular2/angular2'\nimport {DataService} from './DataService'\n\n@Component({\n  selector: 'DataPage'\n})\n@View({\n  template: `\n{{data | json}}  //Working //object Array\n&lt;br&gt;\n{{data | json}}  //Not Wokring // object Undefined //No data :(\n`\n\n\ndirectives: [CORE_DIRECTIVES]\n})\n\nexport class DataPage{\n  query;\n  tquery;\n    constructor( public dataService:DataService){\n\n       this.query = dataService.data; // object Undefined\n       this.tquery = dataService.tdata; //object Array\n\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "dom", "safari", "typescript"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1443467566, "post_id": 32830126, "comment_id": 53496043, "body": "I&#39;m afraid you&#39;ll need to rename one or the other. There&#39;s only one global namespace."}, {"owner": {"reputation": 11786, "user_id": 349974, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/beba73a336e49804c2e11c8621202d00?s=128&d=identicon&r=PG", "display_name": "Joshua Frank", "link": "https://stackoverflow.com/users/349974/joshua-frank"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1443467786, "post_id": 32830126, "comment_id": 53496139, "body": "But then why would it work in FireFox, IE, and Chrome?"}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1443467981, "post_id": 32830126, "comment_id": 53496238, "body": "It looks like Safari really insists on keeping that global binding of the name to the DOM node. (I don&#39;t have access to Safari to try it, but it should be pretty simple to experiment on jsfiddle.)"}], "answers": [{"comments": [{"owner": {"reputation": 11786, "user_id": 349974, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/beba73a336e49804c2e11c8621202d00?s=128&d=identicon&r=PG", "display_name": "Joshua Frank", "link": "https://stackoverflow.com/users/349974/joshua-frank"}, "edited": false, "score": 1, "creation_date": 1443564384, "post_id": 32830615, "comment_id": 53542799, "body": "This made me realize that my error was a symptom of the larger problem of not having namespaces and thus dumping everything right on the window object. Adding some namespacing fixed this and is already making my code much cleaner. Now if I only understood the proper use of namespace vs. module."}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 2, "last_activity_date": 1443469578, "creation_date": 1443469578, "answer_id": 32830615, "question_id": 32830126, "link": "https://stackoverflow.com/questions/32830126/globally-identified-elements-typescript-and-safari-only-bug/32830615#32830615", "title": "Globally identified elements, Typescript, and Safari-only bug?", "body": "<p>Wherever possible, you should avoid putting anything in the global scope. External modules (soon to be renamed to the simpler name, modules) are a good way to do this. Using external modules, your <code>enum</code> would be safely hidden away within the scope of the module and shouldn't conflict with anything else.</p>\n\n<p>Another solution would be to use a constant enum, which is transpiled into plain numbers (i.e. the enum type is erased). So for example, the following TypeScript:</p>\n\n<pre><code>const enum Stooge\n{\n  Moe,\n  Larry,\n  Curly\n}\n\nvar x = Stooge.Curly;\n</code></pre>\n\n<p>Results in the following JavaScript:</p>\n\n<pre><code>var x = 2 /* Curly */;\n</code></pre>\n\n<p>Your final option is to avoid names that may conflict. When putting something in the global scope, it helps to be as specific as you can to minimize the risk of collision.</p>\n"}], "owner": {"reputation": 11786, "user_id": 349974, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/beba73a336e49804c2e11c8621202d00?s=128&d=identicon&r=PG", "display_name": "Joshua Frank", "link": "https://stackoverflow.com/users/349974/joshua-frank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "accepted_answer_id": 32830615, "answer_count": 1, "score": 1, "last_activity_date": 1443469578, "creation_date": 1443467495, "question_id": 32830126, "link": "https://stackoverflow.com/questions/32830126/globally-identified-elements-typescript-and-safari-only-bug", "title": "Globally identified elements, Typescript, and Safari-only bug?", "body": "<p>Suppose you have a select element like this:</p>\n\n<pre><code>&lt;select id=\"Stooge\" name=\"Stooge\"&gt;\n    &lt;option value=\"0\"&gt;Moe&lt;/option&gt;\n    &lt;option value=\"1\"&gt;Larry&lt;/option&gt;\n    &lt;option value=\"2\"&gt;Curly&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>According to the <a href=\"https://html.spec.whatwg.org/#named-access-on-the-window-object\" rel=\"nofollow\">spec</a>, when the browser parses this page, it creates a globally scoped javascript variable <code>window.Stooge</code>. So far so good.</p>\n\n<p>In my TypeScript code, I want to refer to the options in a strongly typed way, so I have the following:</p>\n\n<pre><code>enum Stooge\n{\n  Moe,\n  Larry,\n  Curly\n}\n</code></pre>\n\n<p>This is compiled to javascript like so:</p>\n\n<pre><code>var Stooge;\n(function (Stooge) {\n    Stooge[Stooge[\"Moe\"] = 0] = \"Moe\";\n    Stooge[Stooge[\"Larry\"] = 1] = \"Larry\";\n    Stooge[Stooge[\"Curly\"] = 2] = \"Curly\";\n })(Stooge || (Stooge = {}));  &lt;---error here\n</code></pre>\n\n<p>My problem is: in every browser <strong>except</strong> Safari, this works fine. But in Safari, I get the following error:</p>\n\n<pre><code>YourFile.js:[Line X]TYPE_MISMATCH_ERR: DOM Exception 17: The type of an object was incompatible with the expected type of the parameter associated to the object.\n</code></pre>\n\n<p>This only happens with an enum that happens to have the same name as a DOM element, and I imagine this is because there's a conflict between the two definitions, except that this same code does NOT cause any error other than in Safari.</p>\n\n<p>So, why does it work in other browsers and is there a way to work around this in Safari? (I could rename the enum or the DOM element, but I'd like to avoid the need for artificial naming conventions if possible.)</p>\n"}, {"tags": ["http", "dependency-injection", "typescript", "angular"], "comments": [{"owner": {"reputation": 9610, "user_id": 508702, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/exOid.png?s=128&g=1", "display_name": "Bas Slagter", "link": "https://stackoverflow.com/users/508702/bas-slagter"}, "edited": false, "score": 0, "creation_date": 1443466048, "post_id": 32829751, "comment_id": 53495315, "body": "Do you have any errors? What IS it doing actually?"}, {"owner": {"reputation": 2814, "user_id": 3294944, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/fg8tK.jpg?s=128&g=1", "display_name": "stealththeninja", "link": "https://stackoverflow.com/users/3294944/stealththeninja"}, "reply_to_user": {"reputation": 9610, "user_id": 508702, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/exOid.png?s=128&g=1", "display_name": "Bas Slagter", "link": "https://stackoverflow.com/users/508702/bas-slagter"}, "edited": false, "score": 0, "creation_date": 1443470363, "post_id": 32829751, "comment_id": 53497398, "body": "I included the errors inline. Subscribing directly (<i>coreService.getStatus().subscribe(...)</i>) gets an error with the <i>res</i> argument coming back as undefined. If I use <i>ObservableWrapper.subscribe(...)</i>, it throws an error saying emitter.observable is not a function. Thanks for asking."}, {"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1443490047, "post_id": 32829751, "comment_id": 53504158, "body": "What happens if you change <code>from &#39;angular2&#47;test&#39;</code> to <code>from &#39;angular2&#47;test_lib&#39;</code>? Does it work?"}, {"owner": {"reputation": 840, "user_id": 823903, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9fec4379c2ca23b51ef8665727be10a3?s=128&d=identicon&r=PG&f=1", "display_name": "HomeBrew", "link": "https://stackoverflow.com/users/823903/homebrew"}, "edited": false, "score": 0, "creation_date": 1454253110, "post_id": 32829751, "comment_id": 57951227, "body": "When you test the request url your&#39;e not checking if it&#39;s a GET, POST, DELETE etc.. just the url string. This is the same as what I&#39;m doing right now. I can&#39;t figure out how to test the type of request. In Angular 1 we had something like $httpBackend.expectGET(&#39;api/status&#39;) do you have any idea how we can test this? thanks"}, {"owner": {"reputation": 569, "user_id": 3795774, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/vjwNp.jpg?s=128&g=1", "display_name": "bilo-io", "link": "https://stackoverflow.com/users/3795774/bilo-io"}, "edited": false, "score": 0, "creation_date": 1456143999, "post_id": 32829751, "comment_id": 58795095, "body": "shouldn&#39;t the first line read <code>from &#39;angular2&#47;core&#39;</code> instead of <code>from &#39;angular2&#47;angular2&#39;</code> ? When I try to do the latter, my compiler complains."}], "answers": [{"tags": [], "owner": {"reputation": 5906, "user_id": 6172677, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wCzsiBoImQk/AAAAAAAAAAI/AAAAAAAADPk/8XQtpMR3NJM/photo.jpg?sz=128", "display_name": "Wojciech Kwiatek", "link": "https://stackoverflow.com/users/6172677/wojciech-kwiatek"}, "is_accepted": true, "score": 6, "last_activity_date": 1486397202, "last_edit_date": 1486397202, "creation_date": 1465376200, "answer_id": 37697774, "question_id": 32829751, "link": "https://stackoverflow.com/questions/32829751/test-angular2-service-with-mock-backend/37697774#37697774", "title": "Test Angular2 service with mock backend", "body": "<p>I just found this topic while looking for testing tips but I can't see a direct answer to that so...</p>\n\n<p>This one is based on Angular RC.1</p>\n\n<h2>Testing service with Mock Backend</h2>\n\n<p>Let's say your service is: </p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\n\n@Injectable()\nexport class CoreService {\n  constructor(private http: Http) {}\n\n  getStatus() {\n    return this.http.get('/api/status');\n  }\n}\n</code></pre>\n\n<p>Test to the service above will look like this: </p>\n\n<pre><code>import {\n  beforeEach,\n  beforeEachProviders,\n  describe,\n  expect,\n  inject,\n  it,\n} from '@angular/core/testing';\n\nimport { provide } from '@angular/core';\nimport { BaseRequestOptions, Response, ResponseOptions } from '@angular/http';\nimport { MockBackend, MockConnection } from '@angular/http/testing';\n\ndescribe('Http', () =&gt; {\n\n  beforeEachProviders(() =&gt; [\n    CoreService,\n    BaseRequestOptions,\n    MockBackend,\n    provide(Http, {\n      useFactory: (backend: MockBackend, defaultOptions: BaseRequestOptions) =&gt; {\n        return new Http(backend, defaultOptions);\n      },\n      deps: [MockBackend, BaseRequestOptions]\n    })\n  ]);\n\n  beforeEach(inject([MockBackend], (backend: MockBackend) =&gt; {\n    const baseResponse = new Response(new ResponseOptions({ body: 'status' }));\n    backend.connections.subscribe((c: MockConnection) =&gt; c.mockRespond(baseResponse));\n  }));\n\n  it('should return response when subscribed to getStatus',\n    inject([CoreService], (coreService: CoreService) =&gt; {\n      coreService.getStatus().subscribe((res: Response) =&gt; {\n        expect(res.text()).toBe('status');\n      });\n    })\n  );\n\n})\n</code></pre>\n\n<p>What you really have to look at there is to have proper mocking in <code>beforeEachProviders</code>. Test itself is quite simple and ends up with subscribing to the service method.</p>\n\n<hr>\n\n<p>Note: Don't forget to set base providers first: </p>\n\n<pre><code>import { setBaseTestProviders } from '@angular/core/testing';\nimport {\n  TEST_BROWSER_DYNAMIC_APPLICATION_PROVIDERS,\n  TEST_BROWSER_DYNAMIC_PLATFORM_PROVIDERS,\n} from '@angular/platform-browser-dynamic/testing';\n\nsetBaseTestProviders(TEST_BROWSER_DYNAMIC_PLATFORM_PROVIDERS, TEST_BROWSER_DYNAMIC_APPLICATION_PROVIDERS);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2826, "user_id": 2803458, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9w9jc.jpg?s=128&g=1", "display_name": "Taylor714", "link": "https://stackoverflow.com/users/2803458/taylor714"}, "edited": false, "score": 0, "creation_date": 1483053448, "post_id": 37733428, "comment_id": 69979372, "body": "Thanks for this and the updated Plunker.  The final piece of the puzzle for me was reading up on the ResponseOptions object to create a well-formed mock response.  Once I got that fixed, my test worked using your strategy."}], "tags": [], "owner": {"reputation": 2814, "user_id": 3294944, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/fg8tK.jpg?s=128&g=1", "display_name": "stealththeninja", "link": "https://stackoverflow.com/users/3294944/stealththeninja"}, "is_accepted": false, "score": 3, "last_activity_date": 1466813164, "last_edit_date": 1466813164, "creation_date": 1465496280, "answer_id": 37733428, "question_id": 32829751, "link": "https://stackoverflow.com/questions/32829751/test-angular2-service-with-mock-backend/37733428#37733428", "title": "Test Angular2 service with mock backend", "body": "<p>Since asking this question we did upgrade to Angular2 RC 1. Our imports look like Wojciech Kwiatek's (thank you for your answer!) but our testing strategy is slightly different. We wanted to assert on the request as well as the response. Instead of using <code>beforeEachProviders()</code>, we used <code>beforeEach()</code> where we create our own injector and save a reference to the service-under-test and mock backend. This allows us to assert on the request and manage the response inside the test, and it lets us use the <code>verifyNoPendingRequests()</code> method after each test.</p>\n\n<pre><code>describe('core-service', () =&gt; {\n\n  let service: CoreService;\n  let backend: MockBackend;\n\n  beforeEach(() =&gt; {\n    injector = ReflectiveInjector.resolveAndCreate(&lt;any&gt; [\n        CoreService,\n        BaseRequestOptions,\n        MockBackend,\n        provide(Http, {\n            useFactory: (mockBackend, defaultOptions) =&gt; new Http(mockBackend, defaultOptions),\n            deps: [MockBackend, BaseRequestOptions]\n        })\n    ]);\n\n    service = &lt;CoreService&gt; injector.get(CoreService);\n    backend = &lt;MockBackend&gt; injector.get(MockBackend);\n  });\n\n  afterEach(() =&gt; backend.verifyNoPendingRequests());\n\n  it('should get status', () =&gt; {\n\n    backend.connections.subscribe((c: MockConnection) =&gt; {\n      expect(c.request.url).toEqual('api/status');\n      c.mockRespond(new Response(new ResponseOptions({ body: 'all is well' })));\n    });\n\n    service.getStatus().subscribe((status) =&gt; {\n      expect(status).toEqual('all is well');\n    });\n\n  }));\n});\n</code></pre>\n\n<p>Edit: Plunker updated to RC2.\n<a href=\"https://plnkr.co/edit/nlvUZVhKEr8d2mz8KQah?p=preview\" rel=\"nofollow\">https://plnkr.co/edit/nlvUZVhKEr8d2mz8KQah?p=preview</a></p>\n"}], "owner": {"reputation": 2814, "user_id": 3294944, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/fg8tK.jpg?s=128&g=1", "display_name": "stealththeninja", "link": "https://stackoverflow.com/users/3294944/stealththeninja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5965, "favorite_count": 3, "accepted_answer_id": 37697774, "answer_count": 2, "score": 10, "last_activity_date": 1486397202, "creation_date": 1443465846, "last_edit_date": 1443657298, "question_id": 32829751, "link": "https://stackoverflow.com/questions/32829751/test-angular2-service-with-mock-backend", "title": "Test Angular2 service with mock backend", "body": "<p>First: I'm aware that Angular2 is in alpha and changing frequently.</p>\n\n<p>I'm working with Angular2. There is an injectable service with <em>http</em> dependency that I'd like to test using a mock backend. The service works when the app starts but I'm having no luck writing the test and getting the mock backend to respond. Any insight, is there something obvious in the test setup or implementation that I'm missing?</p>\n\n<p>service/core.ts:</p>\n\n<pre><code>import { Injectable } from 'angular2/angular2';\nimport { Http } from 'angular2/http';\n\n@Injectable()\nexport class CoreService {\n\n    constructor(public http:Http) {}\n\n    getStatus() {\n        return this.http.get('/api/status')\n            .toRx()\n            .map(res =&gt; res.json());\n    }\n}\n</code></pre>\n\n<p>service/core_spec.ts:</p>\n\n<pre><code>import {\n    AsyncTestCompleter,\n    TestComponentBuilder,\n    By,\n    beforeEach,\n    ddescribe,\n    describe,\n    el,\n    expect,\n    iit,\n    inject,\n    it,\n    xit\n} from 'angular2/test';\nimport { MockBackend, MockConnection, BaseRequestOptions, Http, Response } from 'angular2/http';\nimport { Injector, bind } from 'angular2/angular2';\nimport { ObservableWrapper } from 'angular2/src/core/facade/async'\n\nimport { CoreService } from 'public/services/core'\n\nexport function main() {\n\n    describe('public/services/core', () =&gt; {\n\n        let backend: MockBackend;\n        let response: Response;\n        let coreService: CoreService;\n        let injector: Injector;\n\n        afterEach(() =&gt; backend.verifyNoPendingRequests());\n\n        it('should get status', inject([AsyncTestCompleter], (async) =&gt; {\n\n            injector = Injector.resolveAndCreate([\n                BaseRequestOptions,\n                MockBackend,\n                bind(Http).toFactory((backend, options) =&gt; {\n                    return new Http(backend, options)\n                }, [MockBackend, BaseRequestOptions]),\n                bind(CoreService).toFactory((http) =&gt; {\n                    return new CoreService(http);\n                }, [Http])\n            ]);\n\n            backend = injector.get(MockBackend);\n            coreService = injector.get(CoreService);\n            response = new Response('foo');\n\n            ObservableWrapper.subscribe&lt;MockConnection&gt;(backend.connections, c =&gt; {\n                expect(c.request.url).toBe('/api/status');\n                c.mockRespond(response);\n            });\n\n            // attempt #1: fails because res argument is undefined\n            coreService.getStatus().subscribe(res =&gt; {\n                expect(res).toBe('');\n                async.done();\n            });\n\n            // attempt #2: fails because emitter.observer is not a function\n            ObservableWrapper.subscribe(coreService.getStatus(), res =&gt; {\n                expect(res).toBe('');\n                async.done();\n            });\n\n        }));\n    });\n\n}\n</code></pre>\n\n<p>Related:\n<a href=\"https://github.com/angular/angular/issues/3502\">https://github.com/angular/angular/issues/3502</a>\n<a href=\"https://github.com/angular/angular/issues/3530\">https://github.com/angular/angular/issues/3530</a></p>\n"}, {"tags": ["angularjs", "angularjs-directive", "typescript", "angularjs-controller"], "comments": [{"owner": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 1, "creation_date": 1443463433, "post_id": 32828168, "comment_id": 53494020, "body": "Nothing in code shown would update the data. How is it being done? What are expected results? Question is not clear. My guess is you are changing scope from outside of angular and need to notify angular to run digest"}, {"owner": {"reputation": 53, "user_id": 3497432, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CY9L4.png?s=128&g=1", "display_name": "Matju", "link": "https://stackoverflow.com/users/3497432/matju"}, "reply_to_user": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1443465628, "post_id": 32828168, "comment_id": 53495115, "body": "The data is being updated by a controller which is beyond the scope of the question, that&#39;s why it was omitted. The results I am expecting is that everytime the data is updated, the ng-repeat is executed to update the new data. I am not changing the scope from outside of angular."}, {"owner": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 1, "creation_date": 1443465694, "post_id": 32828168, "comment_id": 53495138, "body": "Nothing in code shown would present a problem though. Issue lies beyond the code shown"}, {"owner": {"reputation": 3676, "user_id": 710530, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/TQFpj.jpg?s=128&g=1", "display_name": "DavidA", "link": "https://stackoverflow.com/users/710530/davida"}, "edited": false, "score": 0, "creation_date": 1443479218, "post_id": 32828168, "comment_id": 53501366, "body": "You are missing a close &lt;/div&gt; tag in your template, though I&#39;m not sure if that is the problem or not."}, {"owner": {"reputation": 3459, "user_id": 1041471, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/zCd0m.jpg?s=128&g=1", "display_name": "Telvin Nguyen", "link": "https://stackoverflow.com/users/1041471/telvin-nguyen"}, "edited": false, "score": 0, "creation_date": 1443499949, "post_id": 32828168, "comment_id": 53506659, "body": "Check out the working sample <a href=\"http://plnkr.co/edit/iOYi8i9kbMfEdFpVozoa?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/iOYi8i9kbMfEdFpVozoa?p=preview</a>. However, it is not TypeScript"}, {"owner": {"reputation": 14053, "user_id": 650891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01dc99801914d08b2aa5889777970c0e?s=128&d=identicon&r=PG", "display_name": "Stephen Chung", "link": "https://stackoverflow.com/users/650891/stephen-chung"}, "edited": false, "score": 0, "creation_date": 1443626081, "post_id": 32828168, "comment_id": 53571218, "body": "Don&#39;t you need to <code>compile</code> the template or something?"}], "owner": {"reputation": 53, "user_id": 3497432, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CY9L4.png?s=128&g=1", "display_name": "Matju", "link": "https://stackoverflow.com/users/3497432/matju"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1443459473, "creation_date": 1443459473, "question_id": 32828168, "link": "https://stackoverflow.com/questions/32828168/angularjs-1-3-11-directive-is-not-updating-html", "title": "AngularJs 1.3.11 - Directive is not updating html", "body": "<p>Directive Template (Template.html):</p>\n\n<pre><code>&lt;div class=\"someContainer\"&gt;\n&lt;div ng-repeat=\"obj in data\" &gt;\n    &lt;a href=\"{{obj.linkUrl}}\" target=\"{{obj.linkTarget}}\"&gt;\n      &lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<p>AngularJs Directive:</p>\n\n<pre><code>module some.directives {\n    'use strict';\n\n    interface MyScope extends ng.IScope {\n        data: any;\n    }\n\n    class SomeDirective implements ng.IDirective {\n        static instance(): ng.IDirective {\n            return new SomeDirective;\n        }\n\n        restrict = 'E';\n        templateUrl = 'Template.html';\n        scope = {\n            data: '='\n        };\n        link(scope: MyScope,\n            element: ng.IAugmentedJQuery\n            ): void {\n\n            scope.$watch('data',() =&gt; {\n                console.log(\"changed, new val: \", scope.data);\n            });\n\n        }\n    }\n\n    angular\n        .module('some.directives')\n        .directive('somedirective', SomeDirective.instance);\n}\n</code></pre>\n\n<p>It Is Called like this:</p>\n\n<pre><code> &lt;section&gt;\n                &lt;somedirective data=\"model.data\"&gt;&lt;/somedirective&gt;\n           &lt;/section&gt;\n</code></pre>\n\n<p>It is Important to note that: in console.log, the scope is successfully changed, but the ng-repeat seems not to update. Can you help me out?</p>\n"}, {"tags": ["node.js", "typescript", "angular"], "comments": [{"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1443490819, "post_id": 32828105, "comment_id": 53504351, "body": "Try adding <code>tools&#47;typescript.js</code> and pointing your angular.js to <code>node_modules&#47;angular2&#47;bundles&#47;angular2.dev.js</code> instead"}, {"owner": {"reputation": 388, "user_id": 1127241, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/e6Oof.png?s=128&g=1", "display_name": "Natarajan Ganapathi", "link": "https://stackoverflow.com/users/1127241/natarajan-ganapathi"}, "reply_to_user": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1443542298, "post_id": 32828105, "comment_id": 53530979, "body": "Thank your for your reply. I tried the same. but no use."}], "answers": [{"comments": [{"owner": {"reputation": 388, "user_id": 1127241, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/e6Oof.png?s=128&g=1", "display_name": "Natarajan Ganapathi", "link": "https://stackoverflow.com/users/1127241/natarajan-ganapathi"}, "edited": false, "score": 0, "creation_date": 1443526369, "post_id": 32829913, "comment_id": 53519885, "body": "I added those line. No use.. that&#39;s why I commented. :("}, {"owner": {"reputation": 2814, "user_id": 3294944, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/fg8tK.jpg?s=128&g=1", "display_name": "stealththeninja", "link": "https://stackoverflow.com/users/3294944/stealththeninja"}, "reply_to_user": {"reputation": 388, "user_id": 1127241, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/e6Oof.png?s=128&g=1", "display_name": "Natarajan Ganapathi", "link": "https://stackoverflow.com/users/1127241/natarajan-ganapathi"}, "edited": false, "score": 0, "creation_date": 1443550174, "post_id": 32829913, "comment_id": 53535622, "body": "Ah, and <code>require</code> is throwing a fit, too. I&#39;ll edit my response to provide more of my set up. I use mine to run Karma unit tests for an Angular2 app."}, {"owner": {"reputation": 388, "user_id": 1127241, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/e6Oof.png?s=128&g=1", "display_name": "Natarajan Ganapathi", "link": "https://stackoverflow.com/users/1127241/natarajan-ganapathi"}, "edited": false, "score": 0, "creation_date": 1443621688, "post_id": 32829913, "comment_id": 53568192, "body": "hi.. Thanks for your help.  I could not find the file es6-module-loader-sans-promises.js in my Node Modules folder. i have used the following command to install the es6. &#39;npm install es6-module-loader --save&#39;"}], "tags": [], "owner": {"reputation": 2814, "user_id": 3294944, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/fg8tK.jpg?s=128&g=1", "display_name": "stealththeninja", "link": "https://stackoverflow.com/users/3294944/stealththeninja"}, "is_accepted": false, "score": 0, "last_activity_date": 1443551041, "last_edit_date": 1443551041, "creation_date": 1443466526, "answer_id": 32829913, "question_id": 32828105, "link": "https://stackoverflow.com/questions/32828105/angular2-throws-error-while-use-the-node-modules-reference/32829913#32829913", "title": "Angular2 throws error while use the node modules reference", "body": "<p>Edit: I missed that the console was throwing other errors, too. I use Karma to run unit tests for an angular2 app and borrowed much of my test setup from the angular2 project itself.</p>\n\n<p>Karma loads the files and since I'm using them for test, I load out of <code>node_modules</code>. The first four must be loaded first and in this order before bringing in angular2 and other libs:</p>\n\n<pre><code>'node_modules/angular2/node_modules/traceur/bin/traceur-runtime.js',\n'node_modules/es6-module-loader/dist/es6-module-loader-sans-promises.js',\n'node_modules/systemjs/dist/system.src.js',\n'node_modules/reflect-metadata/Reflect.js',\n'node_modules/angular2/**/*.js\n</code></pre>\n\n<p>Then a test helper configures System:</p>\n\n<pre><code>System.config({\n    ...\n    paths: {\n        'angular2/*': 'node_modules/angular2/*.js',\n        'rx': 'node_modules/angular2/node_modules/rx/dist/rx.js'\n    }\n    ...\n});\n</code></pre>\n\n<p>Hope that helps. You may want to pull the files you need into a <code>lib</code> directory if you're serving them with your code.</p>\n"}], "owner": {"reputation": 388, "user_id": 1127241, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/e6Oof.png?s=128&g=1", "display_name": "Natarajan Ganapathi", "link": "https://stackoverflow.com/users/1127241/natarajan-ganapathi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 432, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1443551041, "creation_date": 1443459279, "question_id": 32828105, "link": "https://stackoverflow.com/questions/32828105/angular2-throws-error-while-use-the-node-modules-reference", "title": "Angular2 throws error while use the node modules reference", "body": "<p>I am getting error while i use the angular2 from node_modules.</p>\n\n<p>How do I fix? What I missed in my html file? </p>\n\n<p>Please give me a git repo for angular2 for offline development. </p>\n\n<p><a href=\"https://i.stack.imgur.com/nSiHu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nSiHu.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["requirejs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 1, "last_activity_date": 1443470111, "creation_date": 1443470111, "answer_id": 32830741, "question_id": 32826766, "link": "https://stackoverflow.com/questions/32826766/how-can-i-import-json-file-in-typescript/32830741#32830741", "title": "how can I import json file in typescript", "body": "<p>I'm not sure I have understood your question, but I think you want to know how to call <code>require</code> directly without getting a compiler error... for example:</p>\n\n<pre><code>require([\"json!sometextfile.json\"], function(myJson) {\n\n});\n</code></pre>\n\n<p>The quick fix for this is to supply a very open definition for the <code>require</code> function:</p>\n\n<pre><code>declare var require: any;\n\nrequire([\"json!sometextfile.json\"], function(myJson) {\n\n});\n</code></pre>\n\n<p>You can improve upon this crude fix by using the full <a href=\"https://github.com/borisyankov/DefinitelyTyped/blob/e22d333b16d87656e47595157b07e2f5c1499589/requirejs/require.d.ts\" rel=\"nofollow\">RequireJS type definition from the Definitely Typed project</a>.</p>\n"}], "owner": {"reputation": 2439, "user_id": 1747251, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/7Gqom.jpg?s=128&g=1", "display_name": "Sujesh Arukil", "link": "https://stackoverflow.com/users/1747251/sujesh-arukil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1838, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1464022648, "creation_date": 1443454616, "question_id": 32826766, "link": "https://stackoverflow.com/questions/32826766/how-can-i-import-json-file-in-typescript", "title": "how can I import json file in typescript", "body": "<p>I am using typescript and requirejs. For the most part the amd modules are generated beautifully. I am however stuck with loading using requirejs json or for that matter text plugin.</p>\n\n<pre><code>define([\"json!sometextfile.json\"], function(myJson)\n</code></pre>\n\n<p>How can I do this in typescript. I am using TS 1.6 at the moment.</p>\n"}, {"tags": ["visual-studio", "typescript", "visual-studio-2015"], "comments": [{"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "edited": false, "score": 0, "creation_date": 1443462049, "post_id": 32825837, "comment_id": 53493290, "body": "Check out the <a href=\"http://vswebessentials.com/features/typescript#preview\" rel=\"nofollow noreferrer\">preview</a> functionality in web essentials."}, {"owner": {"reputation": 37178, "user_id": 129001, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/886427a445a180eb6618d77ee4ec4894?s=128&d=identicon&r=PG", "display_name": "Tony_Henrich", "link": "https://stackoverflow.com/users/129001/tony-henrich"}, "reply_to_user": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "edited": false, "score": 0, "creation_date": 1472880829, "post_id": 32825837, "comment_id": 65940870, "body": "@David Feature has been be removed. Might come back in the future"}], "answers": [{"comments": [{"owner": {"reputation": 2678, "user_id": 3955513, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/d6ad6b86b6f31e732b0d8df6e15efd9e?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Parikh", "link": "https://stackoverflow.com/users/3955513/shyamal-parikh"}, "edited": false, "score": 0, "creation_date": 1443452016, "post_id": 32825933, "comment_id": 53487475, "body": "Oh! But why are generated javascript files not visible by default? Moreover, is there a way to auto add references to _references.ts file just like we do with _references.js file? Is there a need to do this or _references.js would take care of it?"}, {"owner": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "reply_to_user": {"reputation": 2678, "user_id": 3955513, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/d6ad6b86b6f31e732b0d8df6e15efd9e?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Parikh", "link": "https://stackoverflow.com/users/3955513/shyamal-parikh"}, "edited": false, "score": 0, "creation_date": 1443452212, "post_id": 32825933, "comment_id": 53487598, "body": "because VS does know anything about your generated files, also it may cause error, because if you compile d.ts file the IntelliSense would tell you that in the project has already existed class or function with the same name, that is why this files does not included to project by default"}, {"owner": {"reputation": 2678, "user_id": 3955513, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/d6ad6b86b6f31e732b0d8df6e15efd9e?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Parikh", "link": "https://stackoverflow.com/users/3955513/shyamal-parikh"}, "edited": false, "score": 0, "creation_date": 1443452457, "post_id": 32825933, "comment_id": 53487757, "body": "Got it, the link in the answer cleared my doubt. However, I still have one more doubt: How can we auto reference all the typescript files in the _references.ts file. I see no option to auto-sync or update references like we have in _references.js"}, {"owner": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "reply_to_user": {"reputation": 2678, "user_id": 3955513, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/d6ad6b86b6f31e732b0d8df6e15efd9e?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Parikh", "link": "https://stackoverflow.com/users/3955513/shyamal-parikh"}, "edited": false, "score": 0, "creation_date": 1443452735, "post_id": 32825933, "comment_id": 53487948, "body": "What do you mean under <i>auto-reference</i>?  Usually, I create one file, where manually store all references to project files, intellisense take care in this case about in what order modules should compiled in result files"}, {"owner": {"reputation": 2678, "user_id": 3955513, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/d6ad6b86b6f31e732b0d8df6e15efd9e?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Parikh", "link": "https://stackoverflow.com/users/3955513/shyamal-parikh"}, "edited": false, "score": 0, "creation_date": 1443453383, "post_id": 32825933, "comment_id": 53488409, "body": "There is an auto-sync option provided for _references.js file that would search for all javascript files and reference them automatically. Is there something similar available for _references.ts?"}, {"owner": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "reply_to_user": {"reputation": 2678, "user_id": 3955513, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/d6ad6b86b6f31e732b0d8df6e15efd9e?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Parikh", "link": "https://stackoverflow.com/users/3955513/shyamal-parikh"}, "edited": false, "score": 0, "creation_date": 1443453568, "post_id": 32825933, "comment_id": 53488530, "body": "Unfortunately, I have never deal with this feature, try to read <a href=\"http://stackoverflow.com/questions/26183927/should-typescript-definition-files-be-included-in-references-js\">this topic</a> may be it would help you"}, {"owner": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "reply_to_user": {"reputation": 2678, "user_id": 3955513, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/d6ad6b86b6f31e732b0d8df6e15efd9e?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Parikh", "link": "https://stackoverflow.com/users/3955513/shyamal-parikh"}, "edited": false, "score": 0, "creation_date": 1443453616, "post_id": 32825933, "comment_id": 53488566, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/90808/discussion-between-oleg-dokuka-and-shyamal-parikh\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "is_accepted": true, "score": 4, "last_activity_date": 1443452041, "last_edit_date": 1443452041, "creation_date": 1443451828, "answer_id": 32825933, "question_id": 32825837, "link": "https://stackoverflow.com/questions/32825837/typescript-generated-javascript-files-are-not-visible-within-visual-studio/32825933#32825933", "title": "Typescript: Generated javascript files are not visible within Visual studio", "body": "<h2>Solution</h2>\n\n<p>In <strong>solution explorer</strong> exist button with name <strong>show all files</strong>, just click it and you would see all files in the project folder</p>\n\n<p><a href=\"https://i.stack.imgur.com/lX88c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lX88c.png\" alt=\"How to show all files in the solution explorer\"></a></p>\n\n<h2>See also</h2>\n\n<ul>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/4afxey9h(v=vs.90).aspx\" rel=\"nofollow noreferrer\">Hidden Project Files in Solution Explorer</a></li>\n</ul>\n"}], "owner": {"reputation": 2678, "user_id": 3955513, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/d6ad6b86b6f31e732b0d8df6e15efd9e?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Parikh", "link": "https://stackoverflow.com/users/3955513/shyamal-parikh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2644, "favorite_count": 0, "accepted_answer_id": 32825933, "answer_count": 1, "score": 3, "last_activity_date": 1443452041, "creation_date": 1443451515, "last_edit_date": 1443451842, "question_id": 32825837, "link": "https://stackoverflow.com/questions/32825837/typescript-generated-javascript-files-are-not-visible-within-visual-studio", "title": "Typescript: Generated javascript files are not visible within Visual studio", "body": "<p>How can I view the generated javascript files with the typescript file in Visual studio 2015?</p>\n\n<p>Note: Javascripts files generated are present in the File Explorer but are not visible in the solution explorer. </p>\n\n<p>Moreover, I tried to add the _references.ts file in the root directory of the project however, there was no 'Update Typescript references' as available in javascript's _references.js file</p>\n"}, {"tags": ["javascript", "html", "audio", "typescript", "media"], "comments": [{"owner": {"reputation": 1681, "user_id": 1227438, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Z7m3e.jpg?s=128&g=1", "display_name": "Overmachine", "link": "https://stackoverflow.com/users/1227438/overmachine"}, "edited": false, "score": 0, "creation_date": 1443447315, "post_id": 32823663, "comment_id": 53484236, "body": "did you import the <a href=\"https://github.com/streamproc/MediaStreamRecorder\" rel=\"nofollow noreferrer\">github.com/streamproc/MediaStreamRecorder</a>  on your file ??"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 1405246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X4fGJ.jpg?s=128&g=1", "display_name": "William Holm Jacobsen", "link": "https://stackoverflow.com/users/1405246/william-holm-jacobsen"}, "edited": false, "score": 1, "creation_date": 1443481211, "post_id": 32824514, "comment_id": 53502017, "body": "Thanks Fenton! That was exactly what I was looking for. Actually, I have just bought your book Pro TypeScript and received it today, looking forward to dive into it."}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 45, "user_id": 1405246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X4fGJ.jpg?s=128&g=1", "display_name": "William Holm Jacobsen", "link": "https://stackoverflow.com/users/1405246/william-holm-jacobsen"}, "edited": false, "score": 0, "creation_date": 1443506082, "post_id": 32824514, "comment_id": 53508462, "body": "You&#39;re welcome - and thank you for buying my book :)"}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 1, "last_activity_date": 1443447561, "creation_date": 1443447561, "answer_id": 32824514, "question_id": 32823663, "link": "https://stackoverflow.com/questions/32823663/mediastreamrecorder-and-typescript-uncaught-typeerror/32824514#32824514", "title": "MediaStreamRecorder and TypeScript Uncaught TypeError", "body": "<p>It looks like your error is at compile time (as the error message points to your <code>.ts</code> file).</p>\n\n<p>The error means that the compile is unaware of the <code>MediaStreamRecorder</code> type, which I am assuming you are importing from a JavaScript library.</p>\n\n<p>To clear the error, you can make a simple type definition for it using the following like of code...</p>\n\n<pre><code>declare var MediaStreamRecorder: any;\n</code></pre>\n\n<p>This will clear the error, but won't give you any further type checking or auto-completion for the type. <a href=\"https://www.stevefenton.co.uk/2013/01/complex-typescript-definitions-made-easy/\" rel=\"nofollow\">You can add more detail to your type definition</a> to improve this situation if you need to.</p>\n"}], "owner": {"reputation": 45, "user_id": 1405246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X4fGJ.jpg?s=128&g=1", "display_name": "William Holm Jacobsen", "link": "https://stackoverflow.com/users/1405246/william-holm-jacobsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2248, "favorite_count": 0, "accepted_answer_id": 32824514, "answer_count": 1, "score": 1, "last_activity_date": 1443447561, "creation_date": 1443445295, "last_edit_date": 1443445525, "question_id": 32823663, "link": "https://stackoverflow.com/questions/32823663/mediastreamrecorder-and-typescript-uncaught-typeerror", "title": "MediaStreamRecorder and TypeScript Uncaught TypeError", "body": "<p>I am currently developing an audio recorder that uses the users PC microphone, which works fine. However, when I want to record the audio I get this type error:</p>\n\n<blockquote>\n  <p>audioHandler.ts:45 Uncaught TypeError: MediaStreamRecorder is not a function</p>\n</blockquote>\n\n<p>This is the code:</p>\n\n<pre><code>/// &lt;reference path=\"../references.d.ts\" /&gt;\n//This component handles all things audio related\n\nexport = Scaut.AudioHandler;\n\nmodule Scaut.AudioHandler {\n\n    var n = &lt;any&gt;navigator;\n    var stream = &lt;any&gt;\"\";\n    var stopRecording = &lt;any&gt;\"\";\n    var mediaRecorder = &lt;any&gt;\"\";\n    //var MediaStreamRecorder = &lt;any&gt;\"\"; \n\n    //Check if microphone is ok\n    export function hasGetUserMedia() {\n        n.getUserMedia = n.getUserMedia ||\n        n.webkitGetUserMedia ||\n        n.mozGetUserMedia;\n\n        if (n.getUserMedia) {\n            n.getUserMedia({ audio: true},\n                function (stream) {\n                    var audio = &lt;any&gt;\"\";\n                    audio = document.getElementById('audioRecord');\n                    audio.src = window.URL.createObjectURL(stream);\n                    audio.onloadedmetadata = function (e) {\n                        audio.play();\n                    };\n                },\n                function (err) {\n                    alert(\"The following error occured: \" + err.name);\n                }\n            );\n        } else {\n            alert(\"getUserMedia not supported\");\n        }\n\n        recordAudio(stream);\n    }\n\n    //Record audio\n    export function recordAudio(stream) {\n        mediaRecorder = new MediaStreamRecorder(stream);\n        console.log(\"Stream: \"+stream)\n        mediaRecorder.mimeType = 'audio/ogg';\n        mediaRecorder.audioChannels = 1;\n        mediaRecorder.ondataavailable = function (blob) {\n            // POST/PUT \"Blob\" using FormData/XHR2\n            var blobURL = URL.createObjectURL(blob);\n            //document.write('&lt;a href=\"' + blobURL + '\"&gt;' + blobURL + '&lt;/a&gt;');\n            console.log(\"Blob: \"+blob)\n            console.log(\"BlobUrl: \"+blobURL)\n        };\n        mediaRecorder.start(3000);\n    }\n</code></pre>\n\n<p>Can anyone point me in the right direction?</p>\n"}, {"tags": ["angularjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1641, "user_id": 2768091, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6020b37f03a5319d0a384a3aa7aa5250?s=128&d=identicon&r=PG&f=1", "display_name": "eesdil", "link": "https://stackoverflow.com/users/2768091/eesdil"}, "edited": false, "score": 0, "creation_date": 1443381734, "post_id": 32811518, "comment_id": 53460348, "body": "But if I add to the constructor like this : firstService: FirstService, than tsc doesnt recognise it, even with this exports (getting error: Cannot find name &#39;FirstService&#39;.)."}, {"owner": {"reputation": 17182, "user_id": 606821, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/X49xe.png?s=128&g=1", "display_name": "Remo H. Jansen", "link": "https://stackoverflow.com/users/606821/remo-h-jansen"}, "reply_to_user": {"reputation": 1641, "user_id": 2768091, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6020b37f03a5319d0a384a3aa7aa5250?s=128&d=identicon&r=PG&f=1", "display_name": "eesdil", "link": "https://stackoverflow.com/users/2768091/eesdil"}, "edited": false, "score": 0, "creation_date": 1443382993, "post_id": 32811518, "comment_id": 53460725, "body": "Have you also update the import statement (see updated answer)?"}, {"owner": {"reputation": 1641, "user_id": 2768091, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6020b37f03a5319d0a384a3aa7aa5250?s=128&d=identicon&r=PG&f=1", "display_name": "eesdil", "link": "https://stackoverflow.com/users/2768091/eesdil"}, "edited": false, "score": 0, "creation_date": 1443385915, "post_id": 32811518, "comment_id": 53461691, "body": "yes, I tried. Strange, because if I put a namespace for the FirstService (eg.: namespace Services { class FirstService {}}), than it is finding it (like, Services.FirstService). But in this case the issue that I cannot import it as external module."}, {"owner": {"reputation": 17182, "user_id": 606821, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/X49xe.png?s=128&g=1", "display_name": "Remo H. Jansen", "link": "https://stackoverflow.com/users/606821/remo-h-jansen"}, "reply_to_user": {"reputation": 1641, "user_id": 2768091, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6020b37f03a5319d0a384a3aa7aa5250?s=128&d=identicon&r=PG&f=1", "display_name": "eesdil", "link": "https://stackoverflow.com/users/2768091/eesdil"}, "edited": false, "score": 0, "creation_date": 1443434032, "post_id": 32811518, "comment_id": 53475937, "body": "Mixing internal and external modules is not going to work try to use the same syntax for all your import and export statements. I have updated the answer once more. Also for using ES6 module syntax you are going to need the latest version of TypeScript , take a look to <a href=\"http://stackoverflow.com/questions/32703081/use-amd-modules-with-typescript-1-6-targeting-es6/32705396#32705396\" title=\"use amd modules with typescript 1 6 targeting es6\">stackoverflow.com/questions/32703081/&hellip;</a>"}, {"owner": {"reputation": 1641, "user_id": 2768091, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6020b37f03a5319d0a384a3aa7aa5250?s=128&d=identicon&r=PG&f=1", "display_name": "eesdil", "link": "https://stackoverflow.com/users/2768091/eesdil"}, "edited": false, "score": 0, "creation_date": 1443455881, "post_id": 32811518, "comment_id": 53489958, "body": "Yes I know, and I don&#39;t want to mix them. I updated the question, please see it. thanks a lot"}, {"owner": {"reputation": 17182, "user_id": 606821, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/X49xe.png?s=128&g=1", "display_name": "Remo H. Jansen", "link": "https://stackoverflow.com/users/606821/remo-h-jansen"}, "reply_to_user": {"reputation": 1641, "user_id": 2768091, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6020b37f03a5319d0a384a3aa7aa5250?s=128&d=identicon&r=PG&f=1", "display_name": "eesdil", "link": "https://stackoverflow.com/users/2768091/eesdil"}, "edited": false, "score": 0, "creation_date": 1443456193, "post_id": 32811518, "comment_id": 53490135, "body": "What you did is correct when working with external modules you need to import each of the dependencies of that file in the top of that file. I will update my answer."}], "tags": [], "owner": {"reputation": 17182, "user_id": 606821, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/X49xe.png?s=128&g=1", "display_name": "Remo H. Jansen", "link": "https://stackoverflow.com/users/606821/remo-h-jansen"}, "is_accepted": true, "score": 1, "last_activity_date": 1443456214, "last_edit_date": 1443456214, "creation_date": 1443379346, "answer_id": 32811518, "question_id": 32809589, "link": "https://stackoverflow.com/questions/32809589/what-is-the-correct-type-of-the-service-parameter-in-the-constructor-and-from-wh/32811518#32811518", "title": "What is the correct type of the service parameter in the constructor and from where it should come", "body": "<p>You just need to change the export syntax of your <code>first.service.ts</code> and <code>second.service.ts</code> modules:</p>\n\n<p>// first.service.ts</p>\n\n<pre><code>class FirstService {\n    constructor() {}\n}\n\nexport { FirstService };\n</code></pre>\n\n<p>// second.service.ts</p>\n\n<pre><code>import { FirstService } from './first.service';\n\nclass SecondService {\n    constructor(firstService: FirstService) { }\n}\n\nexport { SecondService };\n</code></pre>\n\n<h1>Update</h1>\n\n<p>You also need to update the import statement:</p>\n\n<pre><code>import { angular } from 'angular';\n\nimport { FirstService } from './first.service';\nimport { SecondService } from './second.service';\n\nvar app = angular.module('app', []);\n\napp.service('firstService', FirstService);\napp.service('secondService', SecondService);\n\nexport { app };\n</code></pre>\n"}], "owner": {"reputation": 1641, "user_id": 2768091, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6020b37f03a5319d0a384a3aa7aa5250?s=128&d=identicon&r=PG&f=1", "display_name": "eesdil", "link": "https://stackoverflow.com/users/2768091/eesdil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 32811518, "answer_count": 1, "score": 0, "last_activity_date": 1443456214, "creation_date": 1443367843, "last_edit_date": 1443455835, "question_id": 32809589, "link": "https://stackoverflow.com/questions/32809589/what-is-the-correct-type-of-the-service-parameter-in-the-constructor-and-from-wh", "title": "What is the correct type of the service parameter in the constructor and from where it should come", "body": "<p>I have two angular 1 services in two different files, and I am using the first service in the second service. How can I type the first service in the constructor to make typescript and myself happy without importing the first service?</p>\n\n<p>Using internal modules it would make it easy, but in that case I cannot load the files correctly. Moreover I cannot mix internal and external modules.</p>\n\n<p>// app.module.ts</p>\n\n<pre><code>import angular from 'angular';\n\nimport FirstService from './first.service';\nimport SecondService from './second.service';\n\nvar app = angular.module('app', []);\n\napp.service('firstService', FirstService);\napp.service('secondService', SecondService);\n\nexport app;\n</code></pre>\n\n<p>// first.service.ts</p>\n\n<pre><code>class FirstService {\n    constructor() {}\n}\n\nexport default FirstService;\n</code></pre>\n\n<p>// second.service.ts</p>\n\n<pre><code>class SecondService {\n    constructor(firstService: ??) { }\n}\n\nexport default SecondService;\n</code></pre>\n\n<p>UPDATE</p>\n\n<p>I can make ts happy with importing the module in the second service:</p>\n\n<pre><code>import FirstService from './first.service';\n\nclass SecondService {\n    constructor(firstService: FirstService) { }\n}\n\nexport default SecondService;\n</code></pre>\n\n<p>But is it correct? I feel that I am making the DI somehow broken with importing the module as extra in the second service just for the type safety...</p>\n"}, {"tags": ["javascript", "build", "gruntjs", "typescript", "amd"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 5381502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f2822c9264cb2242da7329db187e6ca?s=128&d=identicon&r=PG&f=1", "display_name": "Niabot", "link": "https://stackoverflow.com/users/5381502/niabot"}, "edited": false, "score": 0, "creation_date": 1443359962, "post_id": 32808297, "comment_id": 53453333, "body": "Well that is nice to hear, but that sadly doesn&#39;t solve my <i>current</i> problem. I would really like to see how it could be done with the tools currently available."}, {"owner": {"reputation": 10997, "user_id": 3358027, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/p6dc8.jpg?s=128&g=1", "display_name": "Buzinas", "link": "https://stackoverflow.com/users/3358027/buzinas"}, "reply_to_user": {"reputation": 41, "user_id": 5381502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f2822c9264cb2242da7329db187e6ca?s=128&d=identicon&r=PG&f=1", "display_name": "Niabot", "link": "https://stackoverflow.com/users/5381502/niabot"}, "edited": false, "score": 0, "creation_date": 1443360754, "post_id": 32808297, "comment_id": 53453566, "body": "@Niabot That&#39;s a big desire for most of us, and unfortunately there is no simple way to achieve what you want. You would need to develop it yourself. I was almost doing that, when they finally approved the module bundling for the next version, so I&#39;ll be waiting for that (it will be available next month, so, not a big wait). But let&#39;s see if someone comes with a miracle help here :)"}], "tags": [], "owner": {"reputation": 10997, "user_id": 3358027, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/p6dc8.jpg?s=128&g=1", "display_name": "Buzinas", "link": "https://stackoverflow.com/users/3358027/buzinas"}, "is_accepted": false, "score": 2, "last_activity_date": 1443359794, "creation_date": 1443359794, "answer_id": 32808297, "question_id": 32808226, "link": "https://stackoverflow.com/questions/32808226/creating-single-amd-module-from-many-typescript-classes-compiled-as-amd-modules/32808297#32808297", "title": "Creating single AMD module from many TypeScript classes compiled as AMD modules?", "body": "<p>They already have a module bundling in <a href=\"https://github.com/Microsoft/TypeScript/wiki/Roadmap\" rel=\"nofollow\">their roadmap</a>.</p>\n\n<p>Since we're at TypeScript 1.6 at the time of writing, and they say it will be implemented in 1.7, you'll need to wait for vnext, that should be released pretty soon.</p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 5381502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f2822c9264cb2242da7329db187e6ca?s=128&d=identicon&r=PG&f=1", "display_name": "Niabot", "link": "https://stackoverflow.com/users/5381502/niabot"}, "edited": false, "score": 0, "creation_date": 1443431661, "post_id": 32817341, "comment_id": 53474647, "body": "I would use that option if RequireJS (r.js) was actually able to solve circular dependencies within AMD modules. But it Isn&#39;t! So i tried SystemJS which claims to be able to solve circular dependencies for the &quot;register&quot; format. But i run into the similar issues, because the typescript compiler emits a __extend function for every class.  Can&#39;t there just be a tool that just puts the entire library into a single file, removing all the package/dependency stuff? :("}, {"owner": {"reputation": 10997, "user_id": 3358027, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/p6dc8.jpg?s=128&g=1", "display_name": "Buzinas", "link": "https://stackoverflow.com/users/3358027/buzinas"}, "reply_to_user": {"reputation": 41, "user_id": 5381502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f2822c9264cb2242da7329db187e6ca?s=128&d=identicon&r=PG&f=1", "display_name": "Niabot", "link": "https://stackoverflow.com/users/5381502/niabot"}, "edited": false, "score": 0, "creation_date": 1443441342, "post_id": 32817341, "comment_id": 53480143, "body": "@Niabot if you target your <code>.tsconfig</code> file to use Module System <code>none</code>, it will remove all the package/dependency stuff, won&#39;t it?"}, {"owner": {"reputation": 41, "user_id": 5381502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f2822c9264cb2242da7329db187e6ca?s=128&d=identicon&r=PG&f=1", "display_name": "Niabot", "link": "https://stackoverflow.com/users/5381502/niabot"}, "edited": false, "score": 0, "creation_date": 1443445758, "post_id": 32817341, "comment_id": 53483028, "body": "Yes, but then im not able to export classes anymore, which makes it impossible to have a package like structure.   I want to create one library from many files, from which some classes and methods are exposed as part of the module. But i dont want that every part of that module is internally a module itself. Its more like combining a multitude of small modules to a big one, removing all the overhead of the module definitions, while still beeing able to live with cyclic dependencies. The java (sic!) compiler does this like forever and it would be just to perfect for this case."}], "tags": [], "owner": {"reputation": 1610, "user_id": 145214, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed4e23089f1581820603219baea49d51?s=128&d=identicon&r=PG", "display_name": "Kitson", "link": "https://stackoverflow.com/users/145214/kitson"}, "is_accepted": false, "score": 1, "last_activity_date": 1443423792, "creation_date": 1443423792, "answer_id": 32817341, "question_id": 32808226, "link": "https://stackoverflow.com/questions/32808226/creating-single-amd-module-from-many-typescript-classes-compiled-as-amd-modules/32817341#32817341", "title": "Creating single AMD module from many TypeScript classes compiled as AMD modules?", "body": "<p>Currently, you would need to utilise some other sort of AMD optimiser.  In particular you can use <a href=\"http://requirejs.org/docs/optimization.html\" rel=\"nofollow\">r.js</a> which is part of the RequireJS project.  It will inspect your AMD modules and emit them into different layers.</p>\n\n<p>Currently though, if you configure your TypeScript project to utilise UMD, the r.js optimiser does not recognise <a href=\"https://github.com/Microsoft/TypeScript/issues/4952\" rel=\"nofollow\">properly your UMD modules</a> so the only option is to target AMD for your project.</p>\n\n<p>I think even when some sort of concatenation is added to TypeScript 1.7+, you may still want to use a tool that is more feature rich, like r.js, since it will allow better optimisation and control of an AMD app, as layers and dependencies can often be complex in a complex project.</p>\n"}, {"tags": [], "owner": {"reputation": 2319, "user_id": 485183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/nAFij.png?s=128&g=1", "display_name": "Corey Alix", "link": "https://stackoverflow.com/users/485183/corey-alix"}, "is_accepted": false, "score": 1, "last_activity_date": 1459377850, "last_edit_date": 1459377850, "creation_date": 1459376584, "answer_id": 36320795, "question_id": 32808226, "link": "https://stackoverflow.com/questions/32808226/creating-single-amd-module-from-many-typescript-classes-compiled-as-amd-modules/36320795#36320795", "title": "Creating single AMD module from many TypeScript classes compiled as AMD modules?", "body": "<blockquote>\n  <p>Specifying --outFile in conjunction with --module amd or --module\n  system will concatenate all modules in the compilation into a single\n  output file containing multiple module closures.</p>\n</blockquote>\n\n<p>See <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#concatenate-amd-and-system-modules-with---outfile\" rel=\"nofollow\">outfile + amd</a>.</p>\n"}], "owner": {"reputation": 41, "user_id": 5381502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f2822c9264cb2242da7329db187e6ca?s=128&d=identicon&r=PG&f=1", "display_name": "Niabot", "link": "https://stackoverflow.com/users/5381502/niabot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1049, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1459377850, "creation_date": 1443359250, "question_id": 32808226, "link": "https://stackoverflow.com/questions/32808226/creating-single-amd-module-from-many-typescript-classes-compiled-as-amd-modules", "title": "Creating single AMD module from many TypeScript classes compiled as AMD modules?", "body": "<p>I'm trying to create a single AMD library (module) file which is build out of many small files (TypeScript files compiled to JavaScript-AMD modules).</p>\n\n<p>The problem is:</p>\n\n<ol>\n<li>I have cyclic dependencies between classes. (Parent needs to know child and child needs to know parent)</li>\n<li>I want to get rid of all the define() and require() calls, except for the main define for <em>\"myLibrary\"</em></li>\n</ol>\n\n<p>The main reasons to create a single file:</p>\n\n<ol>\n<li>Load times (requirejs should not be used to reference all the small files)</li>\n<li>Cyclic dependencies that can't(?) be resovled by AMD modules</li>\n</ol>\n\n<p>My main questions is: </p>\n\n<ul>\n<li><em>Is there a tool to do this?</em> r.js (grunt-contrib-requirejs) failed me by leaving all the interior calls to define() inside.</li>\n</ul>\n\n<p>My current project layout is similar to the following example:</p>\n\n<pre><code>root\n|-- myLibrary\n|   |-- packageA\n|   |   |-- ClassA1.ts\n|   |   +-- ClassA2.ts\n|   |-- packageB\n|   |   |-- ClassB1.ts\n|   |   +-- ClassB2.ts\n|   |-- packageA.ts\n|   +-- packageB.ts\n+-- myLibrary.ts\n</code></pre>\n\n<p>The code of <em>myLibrary.ts</em> is simply:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export import packageA = require(\"./packageA\");\nexport import packageB = require(\"./packageB\");\n</code></pre>\n\n<p>Which simply compiles to an AMD module like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>define([\"require\", \"exports\", \"./myLibrary/packageA\", \"./myLibrary/packageB\"], function (require, exports, packageA, packageB) {\n    exports.packageA = packageA;\n    exports.packageB = packageB;\n});\n</code></pre>\n\n<p>The package files are structured in the same manner. For example packageA.ts looks like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// Typescript source:\nexport * from \"./packageA/ClassA1\";\nexport * from \"./packageA/ClassA2\";\n\n// Compiled as Javascript:\ndefine([\"require\", \"exports\", \"./packageA/ClassA1\", \"./packageA/ClassA2\"], function (require, exports, ClassA1_1, ClassA2_1) {\n    function __export(m) {\n        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n    }\n    __export(ClassA1_1);\n    __export(ClassA1_2);\n});\n</code></pre>\n\n<p>What is currently get:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>define(\"myLibrary/packageA/ClassA1\",[\"require\", \"exports\"], function(require, exports) {\n    var MyClassA1 = (function() {\n        // The content of the class ...\n    })();\n    exports.MyClassA1 = MyClassA1;\n});\ndefine(\"myLibrary/packageA/ClassA2\", ...\n\n// The other stuff ...    \n\ndefine([\"require\", \"exports\", \"./myLibrary/packageA\", \"./myLibrary/packageB\"], function (require, exports, packageA, packageB) {\n    exports.packageA = packageA;\n    exports.packageB = packageB;\n});\n</code></pre>\n\n<p>What I desire:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>define([\"require\", \"exports\"], function(require, exports) {\n    //... The entire code of packageA without define or require.\n    var packageA = ...;\n    //...\n    export.packageA = packageA;\n    export.packageB = packageB;\n});\n</code></pre>\n"}, {"tags": ["constructor", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 498, "user_id": 907125, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/39255341a51574e9651b1094537e7683?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/907125/andrew"}, "edited": false, "score": 0, "creation_date": 1486475669, "post_id": 32807270, "comment_id": 71353430, "body": "I&#39;m having the same issue, but with declares that are describing an ES5 module similar to the above. My understanding is that the declares should be able to describe ES5 behavior, so there must be a way to do this?"}, {"owner": {"reputation": 498, "user_id": 907125, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/39255341a51574e9651b1094537e7683?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/907125/andrew"}, "edited": false, "score": 1, "creation_date": 1486480644, "post_id": 32807270, "comment_id": 71357148, "body": "@dan&#39;s first two examples are still valid ES5 syntax (both with and without the new keyword), and Typescript declares files (<a href=\"https://www.typescriptlang.org/docs/handbook/declaration-files/introduction.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/declaration-files/&hellip;</a>) are supposed to be able to describe existing libraries written in ES5, so there still must be some way to do this..."}, {"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "reply_to_user": {"reputation": 498, "user_id": 907125, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/39255341a51574e9651b1094537e7683?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/907125/andrew"}, "edited": false, "score": 0, "creation_date": 1486482393, "post_id": 32807270, "comment_id": 71358455, "body": "@Andrew The ES5 code <a href=\"http://www.typescriptlang.org/play/#src=function%20MyClass%28val%29%3A%20void%20%7B%0A%20%20%20%20if%20%28!%28this%20instanceof%20MyClass%29%29%20%7B%0A%20%20%20%20%20%20%20%20return%20new%20MyClass%28val%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20this.val%20%3D%20val%3B%0A%7D%0A%0Avar%20a%20%3D%20new%20MyClass%285%29%3B%0Avar%20b%20%3D%20MyClass%285%29%3B\" rel=\"nofollow noreferrer\">works with TS</a>. But I wouldn&#39;t know how to declare the function in a definition file. You should create a new question. Then, give the link here. ;)"}, {"owner": {"reputation": 498, "user_id": 907125, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/39255341a51574e9651b1094537e7683?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/907125/andrew"}, "edited": false, "score": 0, "creation_date": 1486485037, "post_id": 32807270, "comment_id": 71360466, "body": "Ok... here it is: <a href=\"http://stackoverflow.com/questions/42095085/es5-factory-function-in-a-typescript-declares-files-without-the-new-keyword\" title=\"es5 factory function in a typescript declares files without the new keyword\">stackoverflow.com/questions/42095085/&hellip;</a>"}], "tags": [], "owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "is_accepted": false, "score": 5, "last_activity_date": 1443352151, "creation_date": 1443352151, "answer_id": 32807270, "question_id": 32807163, "link": "https://stackoverflow.com/questions/32807163/call-constructor-on-typescript-class-without-new/32807270#32807270", "title": "Call constructor on TypeScript class without new", "body": "<p>The keyword <code>new</code> is required for ES6 classes:</p>\n\n<blockquote>\n  <p>However, you can only invoke a class via new, not via a function call (Sect. 9.2.2 in the spec) <a href=\"http://www.2ality.com/2015/02/es6-classes-final.html\" rel=\"nofollow noreferrer\">[source]</a></p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 823, "user_id": 738768, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4f386e31c52b0f02b60dfe847b01e48c?s=128&d=identicon&r=PG", "display_name": "kasbah", "link": "https://stackoverflow.com/users/738768/kasbah"}, "edited": false, "score": 0, "creation_date": 1516591402, "post_id": 48362715, "comment_id": 83735634, "body": "Thanks for your answer! Would it still be possible to reconcile this whith using <code>class</code> syntax and the <code>bindNew</code> function or the classy-decorator mentioned in my answere here? <a href=\"https://stackoverflow.com/a/48326964/738768\">stackoverflow.com/a/48326964/738768</a>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 823, "user_id": 738768, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4f386e31c52b0f02b60dfe847b01e48c?s=128&d=identicon&r=PG", "display_name": "kasbah", "link": "https://stackoverflow.com/users/738768/kasbah"}, "edited": false, "score": 0, "creation_date": 1516632596, "post_id": 48362715, "comment_id": 83755461, "body": "See Update 2 above (the first update was me misreading your question; the latter update addresses how to reconcile using your <code>bindNew()</code> function)"}, {"owner": {"reputation": 823, "user_id": 738768, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4f386e31c52b0f02b60dfe847b01e48c?s=128&d=identicon&r=PG", "display_name": "kasbah", "link": "https://stackoverflow.com/users/738768/kasbah"}, "edited": false, "score": 0, "creation_date": 1516633350, "post_id": 48362715, "comment_id": 83756033, "body": "Thanks for elaborating. I awarded you the bounty. It&#39;s probably not possible to use <code>instanceof MyClass</code> then? Also, is there really no better way to type variable numbers of arguments?   On the whole this seems like much more trouble than it&#39;s worth :)"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 823, "user_id": 738768, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4f386e31c52b0f02b60dfe847b01e48c?s=128&d=identicon&r=PG", "display_name": "kasbah", "link": "https://stackoverflow.com/users/738768/kasbah"}, "edited": false, "score": 1, "creation_date": 1516634108, "post_id": 48362715, "comment_id": 83756594, "body": "I would think you could get <code>instanceof MyClass</code> to work, depending on the implementation of <code>bindNew()</code>, but I haven&#39;t tried it.  ...  Right now, TypeScript as of v2.7 lacks some type operators you&#39;d need to do variable numbers of arguments &quot;correctly&quot;.  You can&#39;t inspect a function signature or <code>new()</code> signature to extract its argument types (likely as some sort of tuple) and return type."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": false, "score": 24, "last_activity_date": 1534171860, "last_edit_date": 1534171860, "creation_date": 1516496948, "answer_id": 48362715, "question_id": 32807163, "link": "https://stackoverflow.com/questions/32807163/call-constructor-on-typescript-class-without-new/48362715#48362715", "title": "Call constructor on TypeScript class without new", "body": "<p>What about this?  Describe the desired shape of <code>MyClass</code> and its constructor:</p>\n\n<pre><code>interface MyClass {\n  val: number;\n}\n\ninterface MyClassConstructor {\n  new(val: number): MyClass;  // newable\n  (val: number): MyClass; // callable\n}\n</code></pre>\n\n<p>Notice that <code>MyClassConstructor</code> is defined as both callable as a function and newable as a constructor.  Then implement it:</p>\n\n<pre><code>const MyClass: MyClassConstructor = function(this: MyClass | void, val: number) {\n  if (!(this instanceof MyClass)) {\n    return new MyClass(val);\n  } else {\n    this!.val = val;\n  }\n} as MyClassConstructor;\n</code></pre>\n\n<p>The above works, although there are a few small wrinkles.  Wrinkle one: the implementation returns <code>MyClass | undefined</code>, and the compiler doesn't realize that the <code>MyClass</code> return value corresponds to the callable function and the <code>undefined</code> value corresponds to the newable constructor... so it complains.  Hence the <code>as MyClassConstructor</code> at the end.  Wrinkle two: the <code>this</code> parameter <a href=\"https://github.com/Microsoft/TypeScript/issues/21248\" rel=\"noreferrer\">does not currently narrow via control flow analysis</a>, so we have to assert that <code>this</code> is not <code>void</code> when setting its <code>val</code> property, even though at that point we know it can't be <code>void</code>.  So we have to use the <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-0.html#non-null-assertion-operator\" rel=\"noreferrer\">non-null assertion operator <code>!</code></a>. </p>\n\n<p>Anyway, you can verify that these work:</p>\n\n<pre><code>var a = new MyClass(5); // MyClass\nvar b = MyClass(5); // also MyClass\n</code></pre>\n\n<p>Hope that helps; good luck!</p>\n\n<hr>\n\n<h2>UPDATE</h2>\n\n<p>Caveat: as mentioned in @Paleo's <a href=\"https://stackoverflow.com/a/32807270/2887218\">answer</a>, if your target is ES2015 or later, using <code>class</code> in your source will output <code>class</code> in your compiled JavaScript, and those <em>require</em> <code>new()</code> according to the spec.  I've seen errors like <code>TypeError: Class constructors cannot be invoked without 'new'</code>.  It is quite possible that some JavaScript engines ignore the spec and will happily accept function-style calls also.  If you don't care about these caveats (e.g., your target is explicitly ES5 or you know you're going to run in one of those non-spec-compliant environments), then you definitely can force TypeScript to go along with that:</p>\n\n<pre><code>class _MyClass {\n  val: number;\n\n  constructor(val: number) {\n    if (!(this instanceof MyClass)) {\n      return new MyClass(val);\n    }\n\n    this.val = val;\n  }\n}\ntype MyClass = _MyClass;\nconst MyClass = _MyClass as typeof _MyClass &amp; ((val: number) =&gt; MyClass)\n\nvar a = new MyClass(5); // MyClass\nvar b = MyClass(5); // also MyClass\n</code></pre>\n\n<p>In this case you've renamed <code>MyClass</code> out of the way to <code>_MyClass</code>, and defined <code>MyClass</code> to be both a type (the same as <code>_MyClass</code>) and a value (the same as the <code>_MyClass</code> constructor, but whose type is asserted to also be callable like a function.)  This works at compile-time, as seen above.  Whether your runtime is happy with it is subject to the caveats above.  Personally I'd stick to the function style in my original answer since I know those are both callable and newable in es2015 and later.  </p>\n\n<p>Good luck again!</p>\n\n<hr>\n\n<h2>UPDATE 2</h2>\n\n<p>If you're just looking for a way of declaring the type of your <code>bindNew()</code> function from <a href=\"https://stackoverflow.com/a/48326964/738768\">this answer</a>, which takes a spec-conforming <code>class</code> and produces something which is both newable and callable like a function, you can do something like this:</p>\n\n<pre><code>function bindNew&lt;C extends { new(): T }, T&gt;(Class: C &amp; {new (): T}): C &amp; (() =&gt; T);\nfunction bindNew&lt;C extends { new(a: A): T }, A, T&gt;(Class: C &amp; { new(a: A): T }): C &amp; ((a: A) =&gt; T);\nfunction bindNew&lt;C extends { new(a: A, b: B): T }, A, B, T&gt;(Class: C &amp; { new(a: A, b: B): T }): C &amp; ((a: A, b: B) =&gt; T);\nfunction bindNew&lt;C extends { new(a: A, b: B, d: D): T }, A, B, D, T&gt;(Class: C &amp; {new (a: A, b: B, d: D): T}): C &amp; ((a: A, b: B, d: D) =&gt; T);\nfunction bindNew(Class: any) {\n  // your implementation goes here\n}\n</code></pre>\n\n<p>This has the effect of correctly typing this:</p>\n\n<pre><code>class _MyClass {\n  val: number;\n\n  constructor(val: number) {    \n    this.val = val;\n  }\n}\ntype MyClass = _MyClass;\nconst MyClass = bindNew(_MyClass); \n// MyClass's type is inferred as typeof _MyClass &amp; ((a: number)=&gt; _MyClass)\n\nvar a = new MyClass(5); // MyClass\nvar b = MyClass(5); // also MyClass\n</code></pre>\n\n<p>But beware the the overloaded declarations for <code>bindNew()</code> don't work for every possible case.  Specifically it works for constructors which take up to three required parameters.  Constructors with optional paramaters or multiple overload signatures will probably not be properly inferred.  So you might have to tweak the typings depending on use case.</p>\n\n<p>Okay, hope <em>that</em> helps.  Good luck a third time.</p>\n\n<hr>\n\n<h2>UPDATE 3, AUG 2018</h2>\n\n<p>TypeScript 3.0 introduced <a href=\"https://github.com/Microsoft/TypeScript/pull/24897\" rel=\"noreferrer\">tuples in rest and spread positions</a>, allowing us to easily deal with functions of an arbitrary number and type of arguments, without the above overloads and restrictions.  Here's the new declaration of <code>bindNew()</code>:</p>\n\n<pre><code>declare function bindNew&lt;C extends { new(...args: A): T }, A extends any[], T&gt;(\n  Class: C &amp; { new(...args: A): T }\n): C &amp; ((...args: A) =&gt; T);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 91104, "user_id": 613198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0a8a4fb43f9c19b3391a7b1066d491f?s=128&d=identicon&r=PG", "display_name": "rsp", "link": "https://stackoverflow.com/users/613198/rsp"}, "is_accepted": false, "score": 3, "last_activity_date": 1549036022, "last_edit_date": 1549036022, "creation_date": 1548923575, "answer_id": 54456318, "question_id": 32807163, "link": "https://stackoverflow.com/questions/32807163/call-constructor-on-typescript-class-without-new/54456318#54456318", "title": "Call constructor on TypeScript class without new", "body": "<h2>Solution with <code>instanceof</code> and <code>extends</code> working</h2>\n\n<p>The problem with most of the solution I've seen to \nuse <code>x = X()</code> instead of <code>x = new X()</code>\nare:</p>\n\n<ol>\n<li><code>x instanceof X</code> doesn't work</li>\n<li><code>class Y extends X { }</code> doesn't work</li>\n<li><code>console.log(x)</code> prints some other type than <code>X</code></li>\n<li>sometimes additionally <code>x = X()</code> works but <code>x = new X()</code> doesn't</li>\n<li>sometimes it doesn't work at all when targeting modern platforms (ES6)</li>\n</ol>\n\n<h2>My solutions</h2>\n\n<h3>TL;DR - Basic usage</h3>\n\n<p>Using the code below (also on GitHub - see: <a href=\"https://github.com/rsp/ts-no-new\" rel=\"nofollow noreferrer\">ts-no-new</a>) you can write:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface A {\n  x: number;\n  a(): number;\n}\nconst A = nn(\n  class A implements A {\n    x: number;\n    constructor() {\n      this.x = 0;\n    }\n    a() {\n      return this.x += 1;\n    }\n  }\n);\n</code></pre>\n\n<p>or:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class $A {\n  x: number;\n  constructor() {\n    this.x = 10;\n  }\n  a() {\n    return this.x += 1;\n  }\n}\ntype A = $A;\nconst A = nn($A);\n</code></pre>\n\n<p>instead of the usual:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class A {\n  x: number;\n  constructor() {\n    this.x = 0;\n  }\n  a() {\n    return this.x += 1;\n  }\n} \n</code></pre>\n\n<p>to be able to use either <code>a = new A()</code> or <code>a = A()</code>\nwith working <code>instanceof</code>, <code>extends</code>, proper inheritance and support for modern compilation targets (some solutions only work when transpiled to ES5 or older because they rely on <code>class</code> translated to <code>function</code> which have different calling semantics).</p>\n\n<h3>Full examples</h3>\n\n<h3>#1</h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>type cA = () =&gt; A;\n\nfunction nonew&lt;X extends Function&gt;(c: X): AI {\n  return (new Proxy(c, {\n    apply: (t, _, a) =&gt; new (&lt;any&gt;t)(...a)\n  }) as any as AI);\n}\n\ninterface A {\n  x: number;\n  a(): number;\n}\n\nconst A = nonew(\n  class A implements A {\n    x: number;\n    constructor() {\n      this.x = 0;\n    }\n    a() {\n      return this.x += 1;\n    }\n  }\n);\n\ninterface AI {\n  new (): A;\n  (): A;\n}\n\nconst B = nonew(\n  class B extends A {\n    a() {\n      return this.x += 2;\n    }\n  }\n);\n</code></pre>\n\n<h3>#2</h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>type NC&lt;X&gt; = { new (): X };\ntype FC&lt;X&gt; = { (): X };\ntype MC&lt;X&gt; = NC&lt;X&gt; &amp; FC&lt;X&gt;;\nfunction nn&lt;X&gt;(C: NC&lt;X&gt;): MC&lt;X&gt; {\n  return new Proxy(C, {\n    apply: (t, _, a) =&gt; new (&lt;any&gt;t)(...a)\n  }) as MC&lt;X&gt;;\n}\n\nclass $A {\n  x: number;\n  constructor() {\n    this.x = 0;\n  }\n  a() {\n    return this.x += 1;\n  }\n}\ntype A = $A;\nconst A: MC&lt;A&gt; = nn($A);\nObject.defineProperty(A, 'name', { value: 'A' });\n\nclass $B extends $A {\n  a() {\n    return this.x += 2;\n  }\n}\ntype B = $B;\nconst B: MC&lt;B&gt; = nn($B);\nObject.defineProperty(B, 'name', { value: 'B' });\n</code></pre>\n\n<h3>#3</h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>type NC&lt;X&gt; = { new (): X };\ntype FC&lt;X&gt; = { (): X };\ntype MC&lt;X&gt; = NC&lt;X&gt; &amp; FC&lt;X&gt;;\nfunction nn&lt;X&gt;(C: NC&lt;X&gt;): MC&lt;X&gt; {\n  return new Proxy(C, {\n    apply: (t, _, a) =&gt; new (&lt;any&gt;t)(...a)\n  }) as MC&lt;X&gt;;\n}\n\ntype $c = { $c: Function };\n\nclass $A {\n  static $c = A;\n  x: number;\n  constructor() {\n    this.x = 10;\n    Object.defineProperty(this, 'constructor', { value: (this.constructor as any as $c).$c || this.constructor });\n  }\n  a() {\n    return this.x += 1;\n  }\n}\ntype A = $A;\nvar A: MC&lt;A&gt; = nn($A);\n$A.$c = A;\nObject.defineProperty(A, 'name', { value: 'A' });\n\nclass $B extends $A {\n  static $c = B;\n  a() {\n    return this.x += 2;\n  }\n}\ntype B = $B;\nvar B: MC&lt;B&gt; = nn($B);\n$B.$c = B;\nObject.defineProperty(B, 'name', { value: 'B' });\n</code></pre>\n\n<h3>#2 simplified</h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>type NC&lt;X&gt; = { new (): X };\ntype FC&lt;X&gt; = { (): X };\ntype MC&lt;X&gt; = NC&lt;X&gt; &amp; FC&lt;X&gt;;\nfunction nn&lt;X&gt;(C: NC&lt;X&gt;): MC&lt;X&gt; {\n  return new Proxy(C, {\n    apply: (t, _, a) =&gt; new (&lt;any&gt;t)(...a)\n  }) as MC&lt;X&gt;;\n}\n\nclass $A {\n  x: number;\n  constructor() {\n    this.x = 0;\n  }\n  a() {\n    return this.x += 1;\n  }\n}\ntype A = $A;\nconst A: MC&lt;A&gt; = nn($A);\n\nclass $B extends $A {\n  a() {\n    return this.x += 2;\n  }\n}\ntype B = $B;\nconst B: MC&lt;B&gt; = nn($B);\n</code></pre>\n\n<h3>#3 simplified</h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>type NC&lt;X&gt; = { new (): X };\ntype FC&lt;X&gt; = { (): X };\ntype MC&lt;X&gt; = NC&lt;X&gt; &amp; FC&lt;X&gt;;\nfunction nn&lt;X&gt;(C: NC&lt;X&gt;): MC&lt;X&gt; {\n  return new Proxy(C, {\n    apply: (t, _, a) =&gt; new (&lt;any&gt;t)(...a)\n  }) as MC&lt;X&gt;;\n}\n\nclass $A {\n  x: number;\n  constructor() {\n    this.x = 10;\n  }\n  a() {\n    return this.x += 1;\n  }\n}\ntype A = $A;\nvar A: MC&lt;A&gt; = nn($A);\n\nclass $B extends $A {\n  a() {\n    return this.x += 2;\n  }\n}\ntype B = $B;\nvar B: MC&lt;B&gt; = nn($B);\n</code></pre>\n\n<p>In <strong>#1</strong> and <strong>#2</strong>:</p>\n\n<ul>\n<li><code>instanceof</code> works</li>\n<li><code>extends</code> works</li>\n<li><code>console.log</code> prints correctly</li>\n<li><code>constructor</code> property of instances point to the real constructor</li>\n</ul>\n\n<p>In <strong>#3</strong>:</p>\n\n<ul>\n<li><code>instanceof</code> works</li>\n<li><code>extends</code> works</li>\n<li><code>console.log</code> prints correctly</li>\n<li><code>constructor</code> property of instances point to the exposed wrapper (which may be an advantage or disadvantage depending on the circumstances)</li>\n</ul>\n\n<p>The <strong>simplified</strong> versions don't provide all meta-data for introspection if you don't need it.</p>\n\n<h2>See also</h2>\n\n<ul>\n<li>My answer to: <strong><a href=\"https://stackoverflow.com/questions/38754854/in-typescript-can-a-class-be-used-without-the-new-keyword/54455994#54455994\">In TypeScript, can a class be used without the &quot;new&quot; keyword?</a></strong></li>\n<li>My GitHub repo with more examples: <strong><a href=\"https://github.com/rsp/ts-no-new\" rel=\"nofollow noreferrer\">https://github.com/rsp/ts-no-new</a></strong></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 777, "user_id": 5172925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3332db3f6e90ead91d325a26bd5eceec?s=128&d=identicon&r=PG&f=1", "display_name": "keos", "link": "https://stackoverflow.com/users/5172925/keos"}, "is_accepted": false, "score": 1, "last_activity_date": 1563194815, "last_edit_date": 1563194815, "creation_date": 1550379654, "answer_id": 54730244, "question_id": 32807163, "link": "https://stackoverflow.com/questions/32807163/call-constructor-on-typescript-class-without-new/54730244#54730244", "title": "Call constructor on TypeScript class without new", "body": "<p>My workaround with a type and a function:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class _Point {\n    public readonly x: number;\n    public readonly y: number;\n\n    constructor(x: number, y: number) {\n        this.x = x;\n        this.y = y;\n    }\n}\nexport type Point = _Point;\nexport function Point(x: number, y: number): Point {\n    return new _Point(x, y);\n}\n</code></pre>\n\n<p>or with an interface:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export interface Point {\n    readonly x: number;\n    readonly y: number;\n}\n\nclass _PointImpl implements Point {\n    public readonly x: number;\n    public readonly y: number;\n\n    constructor(x: number, y: number) {\n        this.x = x;\n        this.y = y;\n    }\n}\n\nexport function Point(x: number, y: number): Point {\n    return new _PointImpl(x, y);\n}\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2496, "user_id": 5598194, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/aYtz9.png?s=128&g=1", "display_name": "N. Kudryavtsev", "link": "https://stackoverflow.com/users/5598194/n-kudryavtsev"}, "is_accepted": false, "score": 0, "last_activity_date": 1575539632, "last_edit_date": 1575539632, "creation_date": 1575503024, "answer_id": 59186182, "question_id": 32807163, "link": "https://stackoverflow.com/questions/32807163/call-constructor-on-typescript-class-without-new/59186182#59186182", "title": "Call constructor on TypeScript class without new", "body": "<p><strong>TL;DR</strong></p>\n\n<p>If you are targeting ES6 and you really want to use <code>class</code> to store your data, not a <code>function</code>:</p>\n\n<ul>\n<li>Create a <code>function</code> that simply invokes your class constructor with its arguments;</li>\n<li>Set that <code>function</code>'s <code>prototype</code> to the <code>prototype</code> of your class.</li>\n</ul>\n\n<p>From now you are able to call that <code>function</code> either <strong>with</strong> or <strong>without</strong> <code>new</code> keyword to generate new class instances.</p>\n\n<p><strong><a href=\"https://www.typescriptlang.org/play/index.html#code/PTAEBkFMBcHIGdQEN7wK4FtKgEQGMAbFRADVAG8BfHAOlDIEtp5ICAzUPJAO1ACNsXAgUgATUAHcmAC1zdIEnKADWkAJ4SA9gCdRAGlDRpaRE1CQAHtEjdRiIw3tqADpABQ0F9gDCm7vGhtNDxoHVAAXlB5CQAKGnikbQBzeAAuUABBbW0kNQAeHjUAPgBKCKLkbjUAbjc3EFAAUSsckMREpMwbaEMvRDZtTQxOIlROPwCgkJ0PL1Bff0Dg0O0slLyAFQXJ5bDLa1tEbaXp7Qrwt1Ar0C2Jk5XzKxs7KIU4hOS00AZuNkhtG5reBlcIVQqgAD8gM+oHS8gAbv9avUwM1Akg2iNiN9Fjw8NhPK5QAMhlixng7lMVrMiccqTpvKN4Js6bsAftnkdKWzzpdrrdFvT2U9Dq9YvEaB0vlkcvlCqVyji-gCtkzITdGdi4ZBEdpkQ0NtJHN9EBJpEgehJsBIeNB0qF+NgkHwRIZNJxtJALdhomTTLjuPjEJAZP9JDJQGEpEZNGgejhokpVBodKIaT4kMJnSJWacWdzTo8Di9cyteVcBTtCwAyUAxd6Sz7pUs6IH5wU8kEVFvaTWodtVsslfVgDZIVTtUCezpEAEUjuFnjiPCe72T-CZoguyBKPzuNhoQPQBh+ear6zeTfZyA9gf3PYiksFssxPlXQmQdKV+-aNwlZtXtut7fkKFTkG+xKHiEJ68CuXrWAAkgG+KvtcaGgBKUrNs+rafHeoEQf+8w4b2TL4TyFAQWhnrQGg2i8L6H4NlKw4QZQdRoXB3pIQEeKQDQziDKEH4RL0rgCUJmgfrU1EwHRsHnpAPHQHxyBHIBOYkeRpxFLU7H1AAVEZxkmaZZnGVAcD2NoajfNAACE5lOc5wBuIQ2IbJAAR9og4GcSRMSrqIfgELZgmaK42ieHCmACNoZTkKA7H6fOATzBpkCed5JGid4imXlmQEBVl0A+axbl3KA8IMEgBUELlGUlT2MQAKwAGxlA0PzKp64gicaTVMhV-iaCINAEJoSQxNVtWbjivGBpAmgcINxCdWASzuKlo38RNU0zXVEkRf8njraA7V1KlPQzQAcgoom+nV15NQFACMABMADMZ3df8vVidgA1eaVQ3bWNe3TTVd0SPNKmLctNzA2VoANJtw3wDt42TZDSDQ0dkWnSjYAfZ9dRPduL0LisMSwBIgzcEkAD6HSwMORPmNkMyPY1SMBbT9NMyzbMNH9OhAA\" rel=\"nofollow noreferrer\">Typescript playground</a></strong></p>\n\n<hr>\n\n<p>Typescript provides an ability to create such a <code>function</code> (let's call it a \"callable constructor\") in a strongly typed way. Well, <code>any</code> type is necessary in intermediate type definitions (replacing it with <code>unknown</code> causes errors), but this fact will <strong>not</strong> affect your experience.</p>\n\n<p>First of all we need to define basic types to describe entities we are working with:</p>\n\n<pre><code>// Let's assume \"class X {}\". X itself (it has type \"typeof X\") can be called with \"new\" keyword,\n// thus \"typeof X\" extends this type\ntype Constructor = new(...args: Array&lt;any&gt;) =&gt; any;\n\n// Extracts argument types from class constructor\ntype ConstructorArgs&lt;TConstructor extends Constructor&gt; =\n    TConstructor extends new(...args: infer TArgs) =&gt; any ? TArgs : never;\n\n// Extracts class instance type from class constructor\ntype ConstructorClass&lt;TConstructor extends Constructor&gt; =\n    TConstructor extends new(...args: Array&lt;any&gt;) =&gt; infer TClass ? TClass : never;\n\n// This is what we want: to be able to create new class instances\n// either with or without \"new\" keyword\ntype CallableConstructor&lt;TConstructor extends Constructor&gt; =\n  TConstructor &amp; ((...args: ConstructorArgs&lt;TConstructor&gt;) =&gt; ConstructorClass&lt;TConstructor&gt;);\n</code></pre>\n\n<p>The next step is to write a function that accepts regular class constructors and creates corresponding \"callable constructors\".</p>\n\n<pre><code>function CreateCallableConstructor&lt;TConstructor extends Constructor&gt;(\n    type: TConstructor\n): CallableConstructor&lt;TConstructor&gt; {\n    function createInstance(\n        ...args: ConstructorArgs&lt;TConstructor&gt;\n    ): ConstructorClass&lt;TConstructor&gt; {\n        return new type(...args);\n    }\n\n    createInstance.prototype = type.prototype;\n    return createInstance as CallableConstructor&lt;TConstructor&gt;;\n}\n</code></pre>\n\n<p>Now all we have to do is to create our \"callable constructor\" and check it really works.</p>\n\n<pre><code>class TestClass {\n  constructor(readonly property: number) { }\n}\n\nconst CallableTestConstructor = CreateCallableConstructor(TestClass);\n\nconst viaCall = CallableTestConstructor(56) // inferred type is TestClass\nconsole.log(viaCall instanceof TestClass) // true\nconsole.log(viaCall.property) // 56\n\nconst viaNew = new CallableTestConstructor(123) // inferred type is TestClass\nconsole.log(viaNew instanceof TestClass) // true\nconsole.log(viaNew.property) // 123\n\nCallableTestConstructor('wrong_arg'); // error\nnew CallableTestConstructor('wrong_arg'); // error\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1847, "user_id": 983169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6163d90d7717c7d395319dba31b222c9?s=128&d=identicon&r=PG", "display_name": "Gio Palacino", "link": "https://stackoverflow.com/users/983169/gio-palacino"}, "is_accepted": false, "score": 1, "last_activity_date": 1599861632, "creation_date": 1599861632, "answer_id": 63854824, "question_id": 32807163, "link": "https://stackoverflow.com/questions/32807163/call-constructor-on-typescript-class-without-new/63854824#63854824", "title": "Call constructor on TypeScript class without new", "body": "<p>Here's how I've solved this in <code>jest</code> for testing groups of immutable models. The <code>makeHash</code> function isn't doing anything special, just a utility creating short, random strings from <code>uuid()</code>.</p>\n<p>The 'magic' for me was declaring <code>type</code> as <code>new (...args: any[]) =&gt; any</code> allowing it to be 'newed' as <code>let model = new set.type(...Object.values(set.args));</code>. So, less about getting around <code>new</code> and more about working in 'newable' forms.</p>\n<pre class=\"lang-js prettyprint-override\"><code>// models/oauth.ts\nexport class OAuthEntity&lt;T = string&gt; {\n  constructor(public readonly id: T) {}\n  [key: string]: any;\n}\n\nexport class OAuthClient extends OAuthEntity {\n  /**\n   * An OAuth Client\n   * @param id A unique string identifying the client.\n   * @param redirectUris Redirect URIs allowed for the client. Required for the authorization_code grant.\n   * @param grants Grant types allowed for the client.\n   * @param accessTokenLifetime Client-specific lifetime of generated access tokens in seconds.\n   * @param refreshTokenLifetime Client-specific lifetime of generated refresh tokens in seconds\n   * @param userId The user ID for client credential grants\n   */\n  constructor(\n    public readonly id: string = '',\n    public readonly redirectUris: string[] = [],\n    public readonly grants: string[] = [],\n    public readonly accessTokenLifetime: number = 0,\n    public readonly refreshTokenLifetime: number = 0,\n    public readonly userId?: string,\n    public readonly privateKey?: string\n  ) {\n    super(id);\n  }\n}\n</code></pre>\n<pre class=\"lang-js prettyprint-override\"><code>// models/oauth.test.ts\nimport { makeHash, makePin } from '@vespucci/utils';\nimport { OAuthEntity, OAuthClient } from '@vespucci/admin/server/models/oauth';\n\ntype ModelData = { type: new (...args: any[]) =&gt; any; args: { [key: string]: any }; defs?: { [key: string]: any } };\n\ndescribe('Model Tests', () =&gt; {\n  const dataSet: ModelData[] = [\n    { type: OAuthEntity, args: { id: makeHash() } },\n    {\n      type: OAuthClient,\n      args: {\n        id: makeHash(),\n        redirectUris: [makeHash()],\n        grants: [makeHash()],\n        accessTokenLifetime: makePin(2),\n        refreshTokenLifetime: makePin(2),\n        userId: makeHash(),\n        privateKey: makeHash(),\n      },\n    },\n    {\n      type: OAuthClient,\n      args: {},\n      defs: {\n        id: '',\n        redirectUris: [],\n        grants: [],\n        accessTokenLifetime: 0,\n        refreshTokenLifetime: 0,\n      },\n    },\n  ];\n  dataSet.forEach((set) =&gt; {\n    it(`Creates ${set.type.name} With ${Object.keys(set.args).length} Args As Expected`, () =&gt; {\n      let model!: any;\n      const checkKeys = Object.keys(set.args).concat(Object.keys(set.defs || {}).filter((k) =&gt; !(k in set.args)));\n      const checkValues: any = checkKeys\n        .map((key) =&gt; ({ [key]: set.args[key] || set.defs?.[key] }))\n        .reduce((p, c) =&gt; ({ ...p, ...c }), {});\n      expect(() =&gt; {\n        model = new set.type(...Object.values(set.args));\n      }).not.toThrow();\n      expect(model).toBeDefined();\n      checkKeys.forEach((key) =&gt; expect(model[key]).toEqual(checkValues[key]));\n    });\n  });\n});\n</code></pre>\n<p>The end result, for me, is:</p>\n<p><a href=\"https://i.stack.imgur.com/9kYqO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9kYqO.png\" alt=\"enter image description here\" /></a></p>\n"}], "owner": {"reputation": 401, "user_id": 5381298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04925f04f3eda1d51ddc07e2e59982bf?s=128&d=identicon&r=PG&f=1", "display_name": "dan", "link": "https://stackoverflow.com/users/5381298/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25381, "favorite_count": 12, "answer_count": 6, "score": 30, "last_activity_date": 1599861632, "creation_date": 1443351303, "question_id": 32807163, "link": "https://stackoverflow.com/questions/32807163/call-constructor-on-typescript-class-without-new", "title": "Call constructor on TypeScript class without new", "body": "<p>In JavaScript, I can define a constructor function which can be called with or without <code>new</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function MyClass(val) {\n    if (!(this instanceof MyClass)) {\n        return new MyClass(val);\n    }\n\n    this.val = val;\n}\n</code></pre>\n\n<p>I can then construct <code>MyClass</code> objects using either of the following statements:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var a = new MyClass(5);\nvar b = MyClass(5);\n</code></pre>\n\n<p>I've tried to achieve a similar result using the TypeScript class below:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class MyClass {\n    val: number;\n\n    constructor(val: number) {\n        if (!(this instanceof MyClass)) {\n            return new MyClass(val);\n        }\n\n        this.val = val;\n    }\n}\n</code></pre>\n\n<p>But calling <code>MyClass(5)</code> gives me the error <code>Value of type 'typeof MyClass' is not callable. Did you mean to include 'new'?</code></p>\n\n<p>Is there any way I can make this pattern work in TypeScript?</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 6745, "user_id": 152796, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ffffd204ecbbae82a04f5b574d76746b?s=128&d=identicon&r=PG", "display_name": "thedayturns", "link": "https://stackoverflow.com/users/152796/thedayturns"}, "edited": false, "score": 0, "creation_date": 1443344652, "post_id": 32806151, "comment_id": 53449351, "body": "Aaaaaaaaaaaaah. Thank you. That makes things much more clear."}], "tags": [], "owner": {"reputation": 14641, "user_id": 1290545, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/1sd2a.jpg?s=128&g=1", "display_name": "Matt Zeunert", "link": "https://stackoverflow.com/users/1290545/matt-zeunert"}, "is_accepted": true, "score": 3, "last_activity_date": 1443344029, "last_edit_date": 1443344029, "creation_date": 1443343701, "answer_id": 32806151, "question_id": 32806034, "link": "https://stackoverflow.com/questions/32806034/react-js-refuses-to-notice-changes/32806151#32806151", "title": "React.js refuses to notice changes", "body": "<p>The constructor for <code>Inner</code> is only run once when the component instance is first created.</p>\n\n<p>As a result, this is only run once, not every time the props change:</p>\n\n<pre><code>this.state = { value: props.value };\n</code></pre>\n\n<p>So if you pass new props into <code>Inner</code>, the value of <code>this.props.value</code> will change, but the value of <code>this.state.value</code> won't.</p>\n\n<p>Right now this is what happens:</p>\n\n<ol>\n<li>The timeout calls <code>setValue</code> on <code>Test</code> and updates the state of <code>Test</code></li>\n<li>React re-renders <code>Test</code></li>\n<li>As part of the rendering process <code>Test</code> passes a new prop value into <code>Inner</code></li>\n<li><code>Inner</code> re-renders - its props have changed, but its state hasn't.</li>\n</ol>\n"}], "owner": {"reputation": 6745, "user_id": 152796, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ffffd204ecbbae82a04f5b574d76746b?s=128&d=identicon&r=PG", "display_name": "thedayturns", "link": "https://stackoverflow.com/users/152796/thedayturns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 32806151, "answer_count": 1, "score": 0, "last_activity_date": 1443344029, "creation_date": 1443342833, "question_id": 32806034, "link": "https://stackoverflow.com/questions/32806034/react-js-refuses-to-notice-changes", "title": "React.js refuses to notice changes", "body": "<p>It seems like in some cases React will not propagate state changes into child components. </p>\n\n<p><strong>Minimum example</strong></p>\n\n<p>I tried to boil down my observed behavior into the smallest test case I could find, but it still ended up being pretty large. Sorry about that. </p>\n\n<pre><code>class Inner extends React.Component&lt;{ value: number }, { value: number }&gt; {\n  constructor(props: { value: number }) {\n    super(props);\n\n    this.state = { value: props.value };\n  }\n\n  render() {\n    return &lt;span&gt; { this.state.value } &lt;/span&gt;\n  }\n}\n\nclass Test extends React.Component&lt;{}, { value: number }&gt; {\n  constructor(props: {}) {\n    super(props);\n\n    this.state = { value: 0 };\n\n    setTimeout(() =&gt; { this.setState({ value: 1 }); }, 500);\n  }\n\n  render() {\n    return &lt;span&gt;\n      &lt;Inner value={ this.state.value } /&gt;\n    &lt;/span&gt;;\n  }\n}\n\nReact.render(&lt;Test /&gt;, document.getElementById('somediv'));\n</code></pre>\n\n<p><strong>Quick summary</strong> </p>\n\n<p>Test has \"value\" in it's state, which is displayed passed into and displayed by it's inner component, \"Inner\". </p>\n\n<p>Inside Test's constructor method, I set <code>value</code> on state to 0. After 500ms, I then set it to 1. I'd expect this to change Inner's display to also show a 1, since it depends on <code>value</code> from <code>this.state</code>, but it doesn't. Why not?</p>\n\n<p>The <em>very</em> weird thing is that if I change the line <code>return &lt;span&gt; { this.state.value } &lt;/span&gt;</code> to use <code>this.props.value</code> inside <code>Inner</code>, then it actually does update. Of course, I need to use state in my app that I distilled this example from.</p>\n\n<p>I expect I am missing some fundamental part of React here. What is it?</p>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 869, "user_id": 6511990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50509af8cfc93c535d6f4d1dfd0d65f6?s=128&d=identicon&r=PG&f=1", "display_name": "dorriz", "link": "https://stackoverflow.com/users/6511990/dorriz"}, "edited": false, "score": 0, "creation_date": 1558526433, "post_id": 32805559, "comment_id": 99129276, "body": "I had this issue , I did not have a constructor in the class , added one and problem went away"}, {"owner": {"reputation": 3397, "user_id": 11127383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FulXc.jpg?s=128&g=1", "display_name": "Daniel Danielecki", "link": "https://stackoverflow.com/users/11127383/daniel-danielecki"}, "edited": false, "score": 0, "creation_date": 1616844430, "post_id": 32805559, "comment_id": 118133674, "body": "I was simply importing the wrong file..."}], "answers": [{"comments": [{"owner": {"reputation": 9429, "user_id": 4159572, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/h25zb.png?s=128&g=1", "display_name": "Bazinga", "link": "https://stackoverflow.com/users/4159572/bazinga"}, "edited": false, "score": 1, "creation_date": 1443341454, "post_id": 32805764, "comment_id": 53448646, "body": "But this: import App = require(&#39;./test&#39;); is not the syntax of es6 modules. this is common js. Can i do it with es6 modules syntax?"}, {"owner": {"reputation": 31483, "user_id": 502381, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/74b99e687909be449e0130a50950eac7?s=128&d=identicon&r=PG&f=1", "display_name": "JJJ", "link": "https://stackoverflow.com/users/502381/jjj"}, "reply_to_user": {"reputation": 9429, "user_id": 4159572, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/h25zb.png?s=128&g=1", "display_name": "Bazinga", "link": "https://stackoverflow.com/users/4159572/bazinga"}, "edited": false, "score": 0, "creation_date": 1443346291, "post_id": 32805764, "comment_id": 53449754, "body": "@JsIsAwesome You&#39;re trying to mix JS modules with Typescript modules. You need to use one or the other, not a mixture of both."}, {"owner": {"reputation": 364, "user_id": 2639190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b996a08921333a509722d4a0f7e79c37?s=128&d=identicon&r=PG", "display_name": "phiresky", "link": "https://stackoverflow.com/users/2639190/phiresky"}, "edited": false, "score": 0, "creation_date": 1449933237, "post_id": 32805764, "comment_id": 56224604, "body": "This answer does not refer to the ES6 syntax"}, {"owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "reply_to_user": {"reputation": 364, "user_id": 2639190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b996a08921333a509722d4a0f7e79c37?s=128&d=identicon&r=PG", "display_name": "phiresky", "link": "https://stackoverflow.com/users/2639190/phiresky"}, "edited": false, "score": 0, "creation_date": 1449933358, "post_id": 32805764, "comment_id": 56224642, "body": "@phiresky, what do you mean?"}, {"owner": {"reputation": 364, "user_id": 2639190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b996a08921333a509722d4a0f7e79c37?s=128&d=identicon&r=PG", "display_name": "phiresky", "link": "https://stackoverflow.com/users/2639190/phiresky"}, "edited": false, "score": 0, "creation_date": 1449933996, "post_id": 32805764, "comment_id": 56224869, "body": "The examples use <code>import x = require(&#39;test&#39;)</code> while ES6 module syntax looks like <code>import x from &quot;test&quot;</code>"}, {"owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "reply_to_user": {"reputation": 364, "user_id": 2639190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b996a08921333a509722d4a0f7e79c37?s=128&d=identicon&r=PG", "display_name": "phiresky", "link": "https://stackoverflow.com/users/2639190/phiresky"}, "edited": false, "score": 0, "creation_date": 1449939264, "post_id": 32805764, "comment_id": 56226639, "body": "@phiresky, I extended the answer to provide more clarification about the issue and its solution. Hope it will help a bit more. Thanks for your comments. Really appreciate that!"}, {"owner": {"reputation": 411, "user_id": 929370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0ca0185131e3e312d94b7440002e496?s=128&d=identicon&r=PG", "display_name": "refaelio", "link": "https://stackoverflow.com/users/929370/refaelio"}, "edited": false, "score": 0, "creation_date": 1574065208, "post_id": 32805764, "comment_id": 104083013, "body": "Outstanding work, thank you. However, a mod can update this answer - the old js (es4?) var should be removed as this is really confusing for people who learn js."}], "tags": [], "owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "is_accepted": true, "score": 160, "last_activity_date": 1449939211, "last_edit_date": 1592644375, "creation_date": 1443340526, "answer_id": 32805764, "question_id": 32805559, "link": "https://stackoverflow.com/questions/32805559/typescript-es6-import-module-file-is-not-a-module-error/32805764#32805764", "title": "Typescript es6 import module &quot;File is not a module error&quot;", "body": "<p><strong>Extended</strong> - to provide more details based on some comments</p>\n<p>The error</p>\n<blockquote>\n<p>Error TS2306: File 'test.ts' is not a module.</p>\n</blockquote>\n<p>Comes from the fact described here <a href=\"http://exploringjs.com/es6/ch_modules.html\" rel=\"noreferrer\">http://exploringjs.com/es6/ch_modules.html</a></p>\n<blockquote>\n<h2>17. Modules</h2>\n<p>This chapter explains how the built-in modules work in ECMAScript 6.</p>\n17.1 Overview\n<p>In ECMAScript 6, modules are stored in files. There is exactly one\nmodule per file and one file per module. You have two ways of\nexporting things from a module. These two ways can be mixed, but it is\nusually better to use them separately.</p>\n<p><strong>17.1.1 Multiple named exports</strong></p>\n<p>There can be multiple named exports:</p>\n<pre><code>//------ lib.js ------\nexport const sqrt = Math.sqrt;\nexport function square(x) {\n    return x * x;\n}\nexport function diag(x, y) {\n    return sqrt(square(x) + square(y));\n}\n...\n</code></pre>\n<p><strong>17.1.2 Single default export</strong></p>\n<p>There can be a single default export. For example, a function:</p>\n<pre><code>//------ myFunc.js ------\nexport default function () { \u00b7\u00b7\u00b7 } // no semicolon!\n</code></pre>\n</blockquote>\n<p>Based on the above we need the <strong><code>export</code></strong>, as a part of the <strong>test.js</strong> file. Let's adjust the content of it like this:</p>\n<pre><code>// test.js - exporting es6\nexport module App {\n  export class SomeClass {\n    getName(): string {\n      return 'name';\n    }\n  }\n  export class OtherClass {\n    getName(): string {\n      return 'name';\n    }\n  }\n}\n</code></pre>\n<p>And now we can import it with these thre ways:</p>\n<pre><code>import * as app1 from &quot;./test&quot;;\nimport app2 = require(&quot;./test&quot;);\nimport {App} from &quot;./test&quot;;\n</code></pre>\n<p>And we can consume imported stuff like this:</p>\n<pre><code>var a1: app1.App.SomeClass  = new app1.App.SomeClass();\nvar a2: app1.App.OtherClass = new app1.App.OtherClass();\n\nvar b1: app2.App.SomeClass  = new app2.App.SomeClass();\nvar b2: app2.App.OtherClass = new app2.App.OtherClass();\n\nvar c1: App.SomeClass  = new App.SomeClass();\nvar c2: App.OtherClass = new App.OtherClass();\n</code></pre>\n<p>and call the method to see it in action:</p>\n<pre><code>console.log(a1.getName())\nconsole.log(a2.getName())\nconsole.log(b1.getName())\nconsole.log(b2.getName())\nconsole.log(c1.getName())\nconsole.log(c2.getName())\n</code></pre>\n<p><em>Original part is trying to help to reduce the amount of complexity in usage of the namespace</em></p>\n<h3>Original part:</h3>\n<p>I would really strongly suggest to check this Q &amp; A:</p>\n<h2><a href=\"https://stackoverflow.com/q/30357634/1679310\">How do I use namespaces with TypeScript external modules?</a></h2>\n<p>Let me cite the first sentence:</p>\n<blockquote>\n<h3>Do not use &quot;namespaces&quot; in external modules.</h3>\n<h3>Don't do this.</h3>\n<h3>Seriously. Stop.</h3>\n<p>...</p>\n</blockquote>\n<p>In this case, we just do not need <strong><code>module</code></strong> inside of <code>test.ts</code>. This could be the content of it adjusted <strong><code>test.ts</code></strong>:</p>\n<pre><code>export class SomeClass\n{\n    getName(): string\n    {\n        return 'name';\n    }\n}\n</code></pre>\n<p>Read more here</p>\n<h3><a href=\"http://www.typescriptlang.org/Handbook#modules-export-\" rel=\"noreferrer\">Export =</a></h3>\n<blockquote>\n<p>In the previous example, when we consumed each validator, each module only exported one value. In cases like this, it's cumbersome to work with these symbols through their qualified name when a single identifier would do just as well.</p>\n<p>The <code>export =</code> syntax specifies <strong>a single object that is exported from the module</strong>. This can be a class, interface, module, function, or enum. When imported, the exported symbol is consumed directly and is not qualified by any name.</p>\n</blockquote>\n<p>we can later consume it like this:</p>\n<pre><code>import App = require('./test');\n\nvar sc: App.SomeClass = new App.SomeClass();\n\nsc.getName();\n</code></pre>\n<p>Read more here:</p>\n<h3><a href=\"http://www.typescriptlang.org/Handbook#modules-optional-module-loading-and-other-advanced-loading-scenarios\" rel=\"noreferrer\">Optional Module Loading and Other Advanced Loading Scenarios</a></h3>\n<blockquote>\n<p>In some cases, you may want to only load a module under some conditions. In TypeScript, we can use the pattern shown below to implement this and other advanced loading scenarios to directly invoke the module loaders without losing type safety.</p>\n<p>The compiler detects whether each module is used in the emitted JavaScript. For modules that are only used as part of the type system, no require calls are emitted. This culling of unused references is a good performance optimization, and also allows for optional loading of those modules.</p>\n<p>The core idea of the pattern is that the import id = require('...') statement gives us access to the types exposed by the external module. The module loader is invoked (through require) dynamically, as shown in the if blocks below. This leverages the reference-culling optimization so that the module is only loaded when needed. For this pattern to work, it's important that the symbol defined via import is only used in type positions (i.e. never in a position that would be emitted into the JavaScript).</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 750, "user_id": 2021224, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/PW1AA.png?s=128&g=1", "display_name": "Andrey Prokhorov", "link": "https://stackoverflow.com/users/2021224/andrey-prokhorov"}, "edited": false, "score": 1, "creation_date": 1545233858, "post_id": 40116527, "comment_id": 94556597, "body": "It is still a good practice? According to this answer (<a href=\"https://stackoverflow.com/a/35706271/2021224\">stackoverflow.com/a/35706271/2021224</a>), attempting to import a function or class like this and then invoke it - &quot;is illegal according to the ES6 spec&quot;."}], "tags": [], "owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "is_accepted": false, "score": 13, "last_activity_date": 1476820038, "last_edit_date": 1476820038, "creation_date": 1476818986, "answer_id": 40116527, "question_id": 32805559, "link": "https://stackoverflow.com/questions/32805559/typescript-es6-import-module-file-is-not-a-module-error/40116527#40116527", "title": "Typescript es6 import module &quot;File is not a module error&quot;", "body": "<h1>How can I accomplish that?</h1>\n\n<p>Your example declares a TypeScript &lt; 1.5 <em>internal module</em>, which is now called a <a href=\"https://www.typescriptlang.org/docs/handbook/namespaces.html\" rel=\"noreferrer\"><em>namespace</em></a>. The old <code>module App {}</code> syntax is now equivalent to <code>namespace App {}</code>. As a result, the following works:</p>\n\n<pre><code>// test.ts\nexport namespace App {\n    export class SomeClass {\n        getName(): string {\n            return 'name';\n        }\n    }\n}\n\n// main.ts\nimport { App } from './test';\nvar a = new App.SomeClass();\n</code></pre>\n\n<h1>That being said...</h1>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/namespaces-and-modules.html\" rel=\"noreferrer\">Try to avoid exporting namespaces</a> and instead export modules (which were previously called <em>external modules</em>). If needs be you can use a namespace on import with the <a href=\"https://www.typescriptlang.org/docs/handbook/modules.html\" rel=\"noreferrer\"><em>namespace import pattern</em></a> like this:</p>\n\n<pre><code>// test.ts\nexport class SomeClass {\n    getName(): string {\n        return 'name';\n    }\n}\n\n// main.ts\nimport * as App from './test'; // namespace import pattern\nvar a = new App.SomeClass();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 227, "user_id": 5659060, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f9TPYcHcWCo/AAAAAAAAAAI/AAAAAAAAAIM/hS-_v2ypTw0/photo.jpg?sz=128", "display_name": "Ray Hogan", "link": "https://stackoverflow.com/users/5659060/ray-hogan"}, "edited": false, "score": 5, "creation_date": 1546601249, "post_id": 49269443, "comment_id": 94911223, "body": "This worked for me. I simply removed a semi-colon, re-added it and saved the file again, and then running Webpack worked. Great time to be alive."}, {"owner": {"reputation": 1534, "user_id": 661171, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c042338066ad28d54ccd318671dc571b?s=128&d=identicon&r=PG", "display_name": "cib", "link": "https://stackoverflow.com/users/661171/cib"}, "edited": false, "score": 1, "creation_date": 1548941912, "post_id": 49269443, "comment_id": 95731759, "body": "I&#39;m used to Webstorm and didn&#39;t realize files aren&#39;t saved automatically in VS Code. This answer saved me a lot of pain, thanks."}, {"owner": {"reputation": 552, "user_id": 3736602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b4f18b8ad565b28ba0de701cce6889f?s=128&d=identicon&r=PG&f=1", "display_name": "aamarks", "link": "https://stackoverflow.com/users/3736602/aamarks"}, "edited": false, "score": 0, "creation_date": 1563201859, "post_id": 49269443, "comment_id": 100611990, "body": "There&#39;s a setting for auto save in VS Code. I don&#39;t use it because VS Code already backs up unsaved files and I don&#39;t always use git."}, {"owner": {"reputation": 133, "user_id": 4201429, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-CClx60uutAo/AAAAAAAAAAI/AAAAAAAAAYE/gZnx4SxG57k/photo.jpg?sz=128", "display_name": "Bri4n", "link": "https://stackoverflow.com/users/4201429/bri4n"}, "edited": false, "score": 0, "creation_date": 1615866760, "post_id": 49269443, "comment_id": 117818276, "body": "awesome! I closed the file and open it again and the problem was solved, it&#39;s related to change the filename while it&#39;s opened I guess."}], "tags": [], "owner": {"reputation": 2386, "user_id": 7285325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bc0b4009f4bb657526dfe60e9ec2b24?s=128&d=identicon&r=PG&f=1", "display_name": "A. Tim", "link": "https://stackoverflow.com/users/7285325/a-tim"}, "is_accepted": false, "score": 34, "last_activity_date": 1520999139, "creation_date": 1520999139, "answer_id": 49269443, "question_id": 32805559, "link": "https://stackoverflow.com/questions/32805559/typescript-es6-import-module-file-is-not-a-module-error/49269443#49269443", "title": "Typescript es6 import module &quot;File is not a module error&quot;", "body": "<p>Above answers are correct. But just in case...\nGot same error in VS Code. Had to re-save/recompile file that was throwing error.</p>\n"}, {"comments": [{"owner": {"reputation": 2874, "user_id": 1665293, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a3air.png?s=128&g=1", "display_name": "godblessstrawberry", "link": "https://stackoverflow.com/users/1665293/godblessstrawberry"}, "edited": false, "score": 1, "creation_date": 1556164483, "post_id": 54802796, "comment_id": 98346151, "body": "same for stackblitz - recompiled file that imports the module and all works fine, cheers"}, {"owner": {"reputation": 731, "user_id": 4800587, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/rTotR.jpg?s=128&g=1", "display_name": "Guy Park", "link": "https://stackoverflow.com/users/4800587/guy-park"}, "edited": false, "score": 0, "creation_date": 1567488246, "post_id": 54802796, "comment_id": 101966287, "body": "I also experienced this when my code wasn&#39;t formatted right.  VSCode indented my copy+paste class code when I was splitting my classes into their own files, and VSCode indented everything after the <code>export class... {</code>, which angular did not like, giving me this issue.    After fixing the formatting, compiled without an issue."}], "tags": [], "owner": {"reputation": 2645, "user_id": 4132182, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-59916dy2-H4/AAAAAAAAAAI/AAAAAAAAABY/YMB0casZvfc/photo.jpg?sz=128", "display_name": "ZenVentzi", "link": "https://stackoverflow.com/users/4132182/zenventzi"}, "is_accepted": false, "score": 3, "last_activity_date": 1550739021, "creation_date": 1550739021, "answer_id": 54802796, "question_id": 32805559, "link": "https://stackoverflow.com/questions/32805559/typescript-es6-import-module-file-is-not-a-module-error/54802796#54802796", "title": "Typescript es6 import module &quot;File is not a module error&quot;", "body": "<p>In addition to <a href=\"https://stackoverflow.com/a/49269443/4132182\">A. Tim's answer</a> there are times when even that doesn't work, so you need to:</p>\n\n<ol>\n<li>Rewrite the import string, using the intellisense. Sometimes this fixes the issue</li>\n<li>Restart VS Code</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 731, "user_id": 4800587, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/rTotR.jpg?s=128&g=1", "display_name": "Guy Park", "link": "https://stackoverflow.com/users/4800587/guy-park"}, "is_accepted": false, "score": 0, "last_activity_date": 1567488566, "creation_date": 1567488566, "answer_id": 57765538, "question_id": 32805559, "link": "https://stackoverflow.com/questions/32805559/typescript-es6-import-module-file-is-not-a-module-error/57765538#57765538", "title": "Typescript es6 import module &quot;File is not a module error&quot;", "body": "<p>In addition to Tim's answer, this issue occurred for me when I was splitting up a refactoring a file, splitting it up into their own files.  </p>\n\n<p>VSCode, for some reason, indented parts of my [class] code, which caused this issue.  This was hard to notice at first, but after I realised the code was indented, I formatted the code and the issue disappeared.  </p>\n\n<p><em>for example, everything after the first line of the Class definition was auto-indented during the paste.</em></p>\n\n<pre><code>export class MyClass extends Something&lt;string&gt; {\n    public blah: string = null;\n\n    constructor() { ... }\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17, "user_id": 2474852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bkpww.jpg?s=128&g=1", "display_name": "adarsh nair", "link": "https://stackoverflow.com/users/2474852/adarsh-nair"}, "is_accepted": false, "score": -2, "last_activity_date": 1597246330, "creation_date": 1597246330, "answer_id": 63379909, "question_id": 32805559, "link": "https://stackoverflow.com/questions/32805559/typescript-es6-import-module-file-is-not-a-module-error/63379909#63379909", "title": "Typescript es6 import module &quot;File is not a module error&quot;", "body": "<p>The file needs to add Component from core hence add the following import to the top</p>\n<p><em><strong>import { Component } from '@angular/core';</strong></em></p>\n"}], "owner": {"reputation": 9429, "user_id": 4159572, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/h25zb.png?s=128&g=1", "display_name": "Bazinga", "link": "https://stackoverflow.com/users/4159572/bazinga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179124, "favorite_count": 24, "accepted_answer_id": 32805764, "answer_count": 6, "score": 149, "last_activity_date": 1597246330, "creation_date": 1443338695, "last_edit_date": 1443340681, "question_id": 32805559, "link": "https://stackoverflow.com/questions/32805559/typescript-es6-import-module-file-is-not-a-module-error", "title": "Typescript es6 import module &quot;File is not a module error&quot;", "body": "<p>I am using typescript 1.6 with es6 modules syntax.</p>\n\n<p>My files are:</p>\n\n<p><strong>test.ts:</strong></p>\n\n<pre><code>module App {\n  export class SomeClass {\n    getName(): string {\n      return 'name';\n    }\n  }\n}\n</code></pre>\n\n<p><strong>main.ts:</strong></p>\n\n<pre><code>import App from './test';\n\nvar a = new App.SomeClass();\n</code></pre>\n\n<p>When I am trying to compile the <code>main.ts</code> file I get this error:</p>\n\n<blockquote>\n  <p><strong>Error TS2306: File 'test.ts' is not a module.</strong></p>\n</blockquote>\n\n<p>How can I accomplish that?</p>\n"}, {"tags": ["javascript", "visual-studio", "d3.js", "svg", "typescript"], "comments": [{"owner": {"reputation": 10997, "user_id": 3358027, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/p6dc8.jpg?s=128&g=1", "display_name": "Buzinas", "link": "https://stackoverflow.com/users/3358027/buzinas"}, "edited": false, "score": 0, "creation_date": 1443331119, "post_id": 32804813, "comment_id": 53446743, "body": "And what&#39;s the error description?"}, {"owner": {"reputation": 971, "user_id": 851200, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0182a595dd3380e38fa0a8db4a1d9ead?s=128&d=identicon&r=PG", "display_name": "blissweb", "link": "https://stackoverflow.com/users/851200/blissweb"}, "reply_to_user": {"reputation": 10997, "user_id": 3358027, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/p6dc8.jpg?s=128&g=1", "display_name": "Buzinas", "link": "https://stackoverflow.com/users/3358027/buzinas"}, "edited": false, "score": 0, "creation_date": 1443331381, "post_id": 32804813, "comment_id": 53446779, "body": "Property &#39;getComputedTextLength&#39; does not exist on type &#39;Element&#39;"}, {"owner": {"reputation": 24170, "user_id": 771581, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/swQMb.jpg?s=128&g=1", "display_name": "0x4a6f4672", "link": "https://stackoverflow.com/users/771581/0x4a6f4672"}, "edited": false, "score": 0, "creation_date": 1497273582, "post_id": 32804813, "comment_id": 75994436, "body": "The code is from Mike Bostock <a href=\"https://bl.ocks.org/mbostock/7555321\" rel=\"nofollow noreferrer\">bl.ocks.org/mbostock/7555321</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3202, "user_id": 751200, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5f4101868ff175fc306cc570f725b0ae?s=128&d=identicon&r=PG", "display_name": "kolobok", "link": "https://stackoverflow.com/users/751200/kolobok"}, "edited": false, "score": 0, "creation_date": 1465192116, "post_id": 32804988, "comment_id": 62780390, "body": "Great, thanks! Also, you can shorten line to just <code>var node = &lt;SVGTSpanElement&gt;tspan.node(); </code>"}], "tags": [], "owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "is_accepted": true, "score": 13, "last_activity_date": 1443332753, "creation_date": 1443332753, "answer_id": 32804988, "question_id": 32804813, "link": "https://stackoverflow.com/questions/32804813/converting-javascript-function-to-typescript-including-getcomputedtextlength/32804988#32804988", "title": "Converting Javascript function to Typescript including getComputedTextLength()", "body": "<p>One way could be to use assertion <em>(i.e. we say to Typescript compiler - I know what is returned type here)</em>. So this could be solution</p>\n\n<p>Instead of this:</p>\n\n<pre><code>while (word = words.pop()) {\n    line.push(word);\n    tspan.text(line.join(\" \"));\n    if (tspan.node().getComputedTextLength() &gt; width) {\n</code></pre>\n\n<p>We could use this <em>(e.g. here expecting that node should be <code>SVGTSpanElement</code>)</em></p>\n\n<pre><code>while (word = words.pop()) {\n    line.push(word);\n    tspan.text(line.join(\" \"));\n    var node: SVGTSpanElement = &lt;SVGTSpanElement&gt;tspan.node(); \n    var hasGreaterWidth = node.getComputedTextLength() &gt; width; \n    if (hasGreaterWidth) {\n</code></pre>\n\n<p>The <code>'SVGTSpanElement'</code> is coming from a common <a href=\"https://github.com/cloud9ide/typescript/blob/master/typings/lib.d.ts#L6686\" rel=\"noreferrer\">lib.d.ts</a> </p>\n"}], "owner": {"reputation": 971, "user_id": 851200, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0182a595dd3380e38fa0a8db4a1d9ead?s=128&d=identicon&r=PG", "display_name": "blissweb", "link": "https://stackoverflow.com/users/851200/blissweb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1299, "favorite_count": 0, "accepted_answer_id": 32804988, "answer_count": 1, "score": 10, "last_activity_date": 1443332947, "creation_date": 1443330754, "last_edit_date": 1443332947, "question_id": 32804813, "link": "https://stackoverflow.com/questions/32804813/converting-javascript-function-to-typescript-including-getcomputedtextlength", "title": "Converting Javascript function to Typescript including getComputedTextLength()", "body": "<p>I'm converting some Javascript code into Typescript.\nThis is a cool Javascript function which uses d3 and wraps an svg text block perfectly.  Normally I would just change the word \"function\" to \"private\" and the function will work as is in Typescript, but this one complains only about the getComputedTextLength() function.  Would be great if someone can explain how I can make this function work in Typescript for myself and others, including why I'm getting the error.  Visual Studio provides no help.  Thanks. </p>\n\n<pre><code>function wrap(text, width) {\n    text.each(function() {\n        var text = d3.select(this),\n            words = text.text().split(/\\s+/).reverse(),\n            word,\n            line = [],\n            lineNumber = 0,\n            lineHeight = 1.1, // ems\n            y = text.attr(\"y\"),\n            x = text.attr(\"x\"),\n            dy = parseFloat(text.attr(\"dy\")),\n            tspan = text.text(null).append(\"tspan\")\n                .attr(\"x\", x).attr(\"y\", y).attr(\"dy\", dy + \"em\");\n        while (word = words.pop()) {\n            line.push(word);\n            tspan.text(line.join(\" \"));\n            if (tspan.node().getComputedTextLength() &gt; width) {\n                line.pop();\n                tspan.text(line.join(\" \"));\n                line = [word];\n                tspan = text.append(\"tspan\")\n                    .attr(\"x\", x).attr(\"y\", y)\n                    .attr(\"dy\", ++lineNumber * lineHeight + dy + \"em\")\n                    .text(word);\n            }\n        }\n    });\n}\n</code></pre>\n"}, {"tags": ["typescript", "visual-studio-2015"], "answers": [{"tags": [], "owner": {"reputation": 135, "user_id": 1228336, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/27244b320eee10103eecba13b0fcaf7d?s=128&d=identicon&r=PG", "display_name": "Zerreth", "link": "https://stackoverflow.com/users/1228336/zerreth"}, "is_accepted": false, "score": 0, "last_activity_date": 1443359130, "last_edit_date": 1443359130, "creation_date": 1443325823, "answer_id": 32804388, "question_id": 32804387, "link": "https://stackoverflow.com/questions/32804387/typescript-over-multiple-files/32804388#32804388", "title": "Typescript over Multiple Files", "body": "<p>So as suspected when using multiple files you have to feed them into your HTML in an order that everything will resolve. (Please don't...)</p>\n\n<p>When Combining JavaScript Output into one file make sure that ECMAScript 5 is selected, NOT ECMAScript 6, as that one will crash and burn. </p>\n\n<p>Also delete that combined Javascript file to be sure, so a fresh one is generated. You may also want to do some cleanup as VS2015 will not delete any .js &amp; .js.map files for you, so your directory will likely be littered with useless files.</p>\n\n<p><strong>/Update</strong></p>\n\n<p>You need to delete the generated combined Javascript file each time you build, as it won't otherwise update...</p>\n"}, {"tags": [], "owner": {"reputation": 7603, "user_id": 941319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f8f456a2f35fc05e048e45ba55be48a?s=128&d=identicon&r=PG", "display_name": "thoughtrepo", "link": "https://stackoverflow.com/users/941319/thoughtrepo"}, "is_accepted": false, "score": 0, "last_activity_date": 1443472427, "creation_date": 1443472427, "answer_id": 32831330, "question_id": 32804387, "link": "https://stackoverflow.com/questions/32804387/typescript-over-multiple-files/32831330#32831330", "title": "Typescript over Multiple Files", "body": "<p>I don't use Visual Studio 2015, but I will describe a straightforward way to setup a namespaced, single file TypeScript project that will be compiled using <code>tsc</code>.</p>\n\n<p>Create a <code>tsconfig.json</code> file in the root of your project which contains:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"target\": \"es5\",\n        \"out\": \"SomeNamespace.js\"\n    }\n}\n</code></pre>\n\n<p>That will tell the TypeScript compiler to compile everything in the directory with a <code>.ts</code> extension into a single file named <code>SomeNamespace.js</code>.</p>\n\n<p>Create an example file named <code>Foo.ts</code> which contains:</p>\n\n<pre><code>namespace SomeNamespace {\n    export class Foo {}\n}\n</code></pre>\n\n<p>Notice, I used <code>namespace</code> instead of <code>module</code>. Internal modules are now called namespaces and the <code>namespace</code> keyword can be used.</p>\n\n<blockquote>\n  <p>Going forward, internal modules will be called \u2018namespace\u2019.  We chose to use this term because of the closeness between how this form works and namespaces in other languages [...]\n  <a href=\"http://blogs.msdn.com/b/typescript/archive/2015/07/20/announcing-typescript-1-5.aspx\" rel=\"nofollow\">http://blogs.msdn.com/b/typescript/archive/2015/07/20/announcing-typescript-1-5.aspx</a></p>\n</blockquote>\n\n<p>Create another example file named <code>Bar.ts</code> which contains:</p>\n\n<pre><code>/// &lt;reference path=\"Foo.ts\"/&gt;\n\nnamespace SomeNamespace {\n    export class Bar {}\n}\n</code></pre>\n\n<p>This one contains a reference to <code>Foo.ts</code>. This ensures that the code contained in <code>Foo.ts</code> is included before <code>Bar.ts</code> during compilation.</p>\n\n<p>Lastly, run <code>tsc</code> in the project's directory where the <code>tsconfig.json</code> file is located, and everything will be compiled into <code>SomeNamespace.js</code>.</p>\n\n<p>As a side note, you can run <code>tsc --watch</code> for the compiler to compile on save.</p>\n"}], "owner": {"reputation": 135, "user_id": 1228336, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/27244b320eee10103eecba13b0fcaf7d?s=128&d=identicon&r=PG", "display_name": "Zerreth", "link": "https://stackoverflow.com/users/1228336/zerreth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 878, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1443472427, "creation_date": 1443325823, "last_edit_date": 1495535243, "question_id": 32804387, "link": "https://stackoverflow.com/questions/32804387/typescript-over-multiple-files", "title": "Typescript over Multiple Files", "body": "<p>So I'm a C++ programmer who made some stuff in Dart and is now transitioning to Typescript. I'm tackling one issue at a time and now the single file full of classes is beginning to get to me. When trying to find info on the matter I'm dumbstruck that there are so many methods of including files and that each method is very verbose. In fact this whole topic is still bleeding edge and under active development.</p>\n\n<p>So I'm not using any External libraries so Internal Modules will do. However, when I try to initialize a global variable who's class is defined in another typescript file under the same module name I get the following error:</p>\n\n<p>0x800a01bd - JavaScript runtime error: Object doesn't support this action</p>\n\n<p>When looking on StackOverflow I can find the exact same scenario:\n<a href=\"https://stackoverflow.com/questions/20641352/spanning-one-typescript-module-across-files-gives-0x800a01bd-javascript-runtim\">Spanning one Typescript module across files gives 0x800a01bd - JavaScript runtime error: Object doesn&#39;t support this action</a></p>\n\n<p>However am I led to believe that I'm supposed to be feeding each .js file into the html in such an order so that everything can be resolved ? Surely this cannot be correct, why can't visual studio resolve the order for me and spit out a single .js file ?</p>\n\n<p>I've tried Setting up the Typescript build to combine into a single .js file, and referring to that one in my html. That actually worked once and failed every time after that. (cacheing ?) Obviously I must be missing something, So I'd like to ask for your help.</p>\n\n<p>In Dart this was very straightforward, yet in typescript this is very confusing and cumbersome. AMD, UMD, tsconfig.json, etc... As a C++ guy, I like Namespaces and include directives, above all they are simple and just work while providing all the functionality you need.</p>\n\n<p>So what is the most relevant, up to date manner of handling this and what am I missing here ?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "is_accepted": true, "score": 1, "last_activity_date": 1443326422, "creation_date": 1443326422, "answer_id": 32804445, "question_id": 32804374, "link": "https://stackoverflow.com/questions/32804374/how-can-i-inject-a-type-into-a-function-in-typescript/32804445#32804445", "title": "How can I inject a type into a function in Typescript?", "body": "<p>This could be the answer <em>(there is <a href=\"http://www.typescriptlang.org/Playground#src=interface%20IExam%20%7B%0A%09ID%3A%20number%3B%0A%7D%0Avar%20arr%3A%20any%5B%5D%20%3D%20%20%5B%7B%7D%2C%20%7BID%3A1%7D%2C%20%7BID%3A%202%7D%5D%3B%0A%0Avar%20elem%20%3D%20%3CT%3E(arr%2C%20property%2C%20num)%20%3A%20T%20%3D%3E%20%7B%0A%09var%20result%3A%20T%20%3D%20null%3B%0A%09%0A%20%20%20%20arr.forEach(function%20(elm%2C%20index)%20%7B%0A%20%20%20%20%20%20%20%20if%20(elm%5Bproperty%5D%20%3D%3D%3D%20num)%0A%09%09%09result%20%3D%20%3CT%3Eelm%3B%0A%09%09%09return%3B%0A%20%20%20%20%7D)%0A%09%0A%09return%20result%3B%0A%7D%3B%0A%0Avar%20myResult%3A%20IExam%20%3D%20elem%3CIExam%3E(arr%2C%20%22ID%22%2C%201)%3B%0A%0Avar%20resultPre%20%20%3D%20document.createElement(&#39;pre&#39;)%3B%0AresultPre.innerText%20%3D%20JSON.stringify(myResult)%3B%0A%0Adocument.body.appendChild(resultPre)%3B%0A\" rel=\"nofollow\">a working example</a>)</em></p>\n\n<pre><code>interface IExam {\n    ID: number;\n}\nvar arr: any[] =  [{}, {ID:1}, {ID: 2}];\n\nvar elem = &lt;T&gt;(arr, property, num) : T =&gt; {\n    var result: T = null;\n\n    arr.forEach(function (elm, index) {\n        if (elm[property] === num)\n            result = &lt;T&gt;elm;\n            return;\n    })\n\n    return result;\n};\n\nvar myResult: IExam = elem&lt;IExam&gt;(arr, \"ID\", 1);\n</code></pre>\n\n<p>and here we can test it <em>(check the <a href=\"http://www.typescriptlang.org/Playground#src=interface%20IExam%20%7B%0A%09ID%3A%20number%3B%0A%7D%0Avar%20arr%3A%20any%5B%5D%20%3D%20%20%5B%7B%7D%2C%20%7BID%3A1%7D%2C%20%7BID%3A%202%7D%5D%3B%0A%0Avar%20elem%20%3D%20%3CT%3E(arr%2C%20property%2C%20num)%20%3A%20T%20%3D%3E%20%7B%0A%09var%20result%3A%20T%20%3D%20null%3B%0A%09%0A%20%20%20%20arr.forEach(function%20(elm%2C%20index)%20%7B%0A%20%20%20%20%20%20%20%20if%20(elm%5Bproperty%5D%20%3D%3D%3D%20num)%0A%09%09%09result%20%3D%20%3CT%3Eelm%3B%0A%09%09%09return%3B%0A%20%20%20%20%7D)%0A%09%0A%09return%20result%3B%0A%7D%3B%0A%0Avar%20myResult%3A%20IExam%20%3D%20elem%3CIExam%3E(arr%2C%20%22ID%22%2C%201)%3B%0A%0Avar%20resultPre%20%20%3D%20document.createElement(&#39;pre&#39;)%3B%0AresultPre.innerText%20%3D%20JSON.stringify(myResult)%3B%0A%0Adocument.body.appendChild(resultPre)%3B%0A\" rel=\"nofollow\">playground, click run</a>)</em>:</p>\n\n<pre><code>var resultPre  = document.createElement('pre');\nresultPre.innerText = JSON.stringify(myResult);\n\ndocument.body.appendChild(resultPre);\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user1464139"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 32804445, "answer_count": 1, "score": 1, "last_activity_date": 1443326539, "creation_date": 1443325567, "last_edit_date": 1443326539, "question_id": 32804374, "link": "https://stackoverflow.com/questions/32804374/how-can-i-inject-a-type-into-a-function-in-typescript", "title": "How can I inject a type into a function in Typescript?", "body": "<p>I have this function:</p>\n\n<pre><code>elem = (arr, property, num) =&gt; {\n    arr.forEach(function (elem, index) {\n        if (elem[property] === num)\n            return elem;\n    })\n};\n</code></pre>\n\n<p>Is there some way with generics that I can make it so the function can be called along with a <code>type</code> so that it returns a specific <code>type</code> </p>\n\n<p>For example:</p>\n\n<pre><code>exam = &lt;IExam&gt; elem(exams, 'abc', 3);\n</code></pre>\n\n<p>I think this will work but I wonder if I could pass in <code>IExam</code> into the function somehow.</p>\n"}, {"tags": ["typescript", "phaser-framework"], "comments": [{"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 1, "creation_date": 1443309003, "post_id": 32802777, "comment_id": 53443110, "body": "What does &quot;doesn&#39;t work&quot; mean? What error are you getting?"}, {"owner": {"reputation": 1359, "user_id": 3203447, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/ca4cd1cca9f68191aec907fc8e468609?s=128&d=identicon&r=PG&f=1", "display_name": "JTK", "link": "https://stackoverflow.com/users/3203447/jtk"}, "reply_to_user": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 0, "creation_date": 1443309036, "post_id": 32802777, "comment_id": 53443114, "body": "When I run the game using the extends keyword I get a blank screen, the error thrown is: Uncaught ReferenceError: Phaser is not defined"}], "answers": [{"comments": [{"owner": {"reputation": 1359, "user_id": 3203447, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/ca4cd1cca9f68191aec907fc8e468609?s=128&d=identicon&r=PG&f=1", "display_name": "JTK", "link": "https://stackoverflow.com/users/3203447/jtk"}, "edited": false, "score": 0, "creation_date": 1443386450, "post_id": 32805171, "comment_id": 53461837, "body": "Thank you so much, how did you know this was my problem? I&#39;m very grateful, That was a silly mistake on my part."}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 2, "last_activity_date": 1443334862, "creation_date": 1443334862, "answer_id": 32805171, "question_id": 32802777, "link": "https://stackoverflow.com/questions/32802777/typescript-extends-keyword-not-working/32805171#32805171", "title": "Typescript extends keyword not working", "body": "<p>The script tag for phaser.js needs to be above the script tag for your script.</p>\n\n<p>Each script runs in order and your second example has an immediate dependency on the <code>Phaser</code> object already being created as soon as it runs.</p>\n"}], "owner": {"reputation": 1359, "user_id": 3203447, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/ca4cd1cca9f68191aec907fc8e468609?s=128&d=identicon&r=PG&f=1", "display_name": "JTK", "link": "https://stackoverflow.com/users/3203447/jtk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 32805171, "answer_count": 1, "score": 0, "last_activity_date": 1443334862, "creation_date": 1443307556, "last_edit_date": 1443309002, "question_id": 32802777, "link": "https://stackoverflow.com/questions/32802777/typescript-extends-keyword-not-working", "title": "Typescript extends keyword not working", "body": "<p>I'm developing my first game using Visual Studio, Phaser and Typescript.</p>\n\n<p>I can't get my classes to work when I use the extends key word</p>\n\n<p>This works:</p>\n\n<pre><code>class Game  {\n\ngame: Phaser.Game;\n\nconstructor() {\n    // init game\n    this.game = new Phaser.Game(window.innerWidth * window.devicePixelRatio - 20, window.innerHeight * window.devicePixelRatio - 20, Phaser.CANVAS, 'content', State);\n}\n}\n</code></pre>\n\n<p>This does not:</p>\n\n<pre><code>class Game extends Phaser.Game{\n\nconstructor() {\n    // init game\n\n    super(window.innerWidth * window.devicePixelRatio - 20, window.innerHeight * window.devicePixelRatio - 20, Phaser.CANVAS, 'content', State);\n}\n}\n</code></pre>\n\n<p>I've been trying to figure this out all day without success, can anybody shed some light on it?</p>\n"}, {"tags": ["import", "module", "namespaces", "typescript"], "comments": [{"owner": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "edited": false, "score": 0, "creation_date": 1443300347, "post_id": 32800234, "comment_id": 53440892, "body": "What kind of error do you get?(number, text)"}, {"owner": {"reputation": 175, "user_id": 2962209, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/jjDOd.jpg?s=128&g=1", "display_name": "Kristofer", "link": "https://stackoverflow.com/users/2962209/kristofer"}, "reply_to_user": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "edited": false, "score": 0, "creation_date": 1443340324, "post_id": 32800234, "comment_id": 53448384, "body": "Hi, when I hit the the line with a = new Models.A() Models is undefined att the error is something like  typeerror cannot read property &#39;A&#39; of undefined"}, {"owner": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "edited": false, "score": 0, "creation_date": 1443345641, "post_id": 32800234, "comment_id": 53449589, "body": "Have you added referencec to your file <code>a</code> and <code>b</code>? Sometimes it may cause error like this"}, {"owner": {"reputation": 175, "user_id": 2962209, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/jjDOd.jpg?s=128&g=1", "display_name": "Kristofer", "link": "https://stackoverflow.com/users/2962209/kristofer"}, "reply_to_user": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "edited": false, "score": 0, "creation_date": 1443352668, "post_id": 32800234, "comment_id": 53451474, "body": "I hadn&#39;t before but I did so now with the same result I&#39;m afraid. I appreciate that you&#39;re taking time to try to help me. As I said I can get it to work my just omitting the import statement but it worries me that I might have the complete wrong idea about how to use typescript modules."}], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 2962209, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/jjDOd.jpg?s=128&g=1", "display_name": "Kristofer", "link": "https://stackoverflow.com/users/2962209/kristofer"}, "edited": false, "score": 0, "creation_date": 1443307310, "post_id": 32801947, "comment_id": 53442730, "body": "Thanks for your reply. I&#39;m also lost as to why my alias won&#39;t give me access to my model-classes. I&#39;m using the latest ts-transpiler. I&#39;m also starting to think that maybe it isn&#39;t such a good idea to put my model-classes in different files within the same namespace."}], "tags": [], "owner": {"reputation": 5456, "user_id": 502395, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GesJX.jpg?s=128&g=1", "display_name": "venerik", "link": "https://stackoverflow.com/users/502395/venerik"}, "is_accepted": false, "score": 1, "last_activity_date": 1443300994, "creation_date": 1443300994, "answer_id": 32801947, "question_id": 32800234, "link": "https://stackoverflow.com/questions/32800234/confused-about-typescript-modules/32801947#32801947", "title": "Confused about TypeScript modules", "body": "<p>Typescript modules are similar to C# namespaces. They help organize the codebase. </p>\n\n<p>The <code>import</code> statement can be used for two things: to provide an alias or to import external modules.</p>\n\n<p>To create an alias you use the import as you did:</p>\n\n<pre><code>import Models = App.Models;\n</code></pre>\n\n<p>To import an external module you use:</p>\n\n<pre><code>import Models = './path/to/module';\n</code></pre>\n\n<p>I can't figure out why your code doesn't work. I tried to reproduce it on my machine but both controllers work for me.</p>\n"}, {"comments": [{"owner": {"reputation": 175, "user_id": 2962209, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/jjDOd.jpg?s=128&g=1", "display_name": "Kristofer", "link": "https://stackoverflow.com/users/2962209/kristofer"}, "edited": false, "score": 1, "creation_date": 1443433416, "post_id": 32818680, "comment_id": 53475567, "body": "Hi, I&#39;m still having trouble but I believe that it has to do with the way our gulp tasks are set up and the ordering of our transpiles. Your answer has been very illuminating and thourough and I&#39;m going to accept it as the answer to my particular question. Thank you for the effort and the detailed explanation."}, {"owner": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "reply_to_user": {"reputation": 175, "user_id": 2962209, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/jjDOd.jpg?s=128&g=1", "display_name": "Kristofer", "link": "https://stackoverflow.com/users/2962209/kristofer"}, "edited": false, "score": 0, "creation_date": 1443448237, "post_id": 32818680, "comment_id": 53484917, "body": "Can you share you configuration file?"}, {"owner": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "reply_to_user": {"reputation": 175, "user_id": 2962209, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/jjDOd.jpg?s=128&g=1", "display_name": "Kristofer", "link": "https://stackoverflow.com/users/2962209/kristofer"}, "edited": false, "score": 0, "creation_date": 1443448711, "post_id": 32818680, "comment_id": 53485273, "body": "I think I know what is caused your problem. Do you use <a href=\"https://www.npmjs.com/package/gulp-tsc\" rel=\"nofollow noreferrer\">gulp-tsc</a>?"}, {"owner": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "reply_to_user": {"reputation": 175, "user_id": 2962209, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/jjDOd.jpg?s=128&g=1", "display_name": "Kristofer", "link": "https://stackoverflow.com/users/2962209/kristofer"}, "edited": false, "score": 0, "creation_date": 1443448800, "post_id": 32818680, "comment_id": 53485330, "body": "I have the same problem when I used gulp-tsk, but when I change it to gulp-typescript everything start working good"}], "tags": [], "owner": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "is_accepted": true, "score": 4, "last_activity_date": 1443429973, "last_edit_date": 1443429973, "creation_date": 1443428928, "answer_id": 32818680, "question_id": 32800234, "link": "https://stackoverflow.com/questions/32800234/confused-about-typescript-modules/32818680#32818680", "title": "Confused about TypeScript modules", "body": "<p>Sorry for late answer. </p>\n\n<p>Problem and magic around modules/namespaces are occurred in three things:</p>\n\n<ol>\n<li>Your system - due to your system TypeScript compiler discover files by difference ways, and when it compile your source code to JS code it take a place, because the same ts files provide different results JS.</li>\n<li>Understanding magic statement <code>/// &lt;reference path=\"***\"/&gt;</code>. It is very important use this word if there are no additional <strong><em>Module System</em></strong> like AMD, or System.js, etc. Because if you use merged compilation it take place, because it tell compiler in what order it should compile files.</li>\n<li><p>Understanding of JS execution and structure that TypeScript propose in compiled JS file. Just consider next example - (it is your compiled into JS example)</p>\n\n<pre><code>    var MyApp;\n    (//functon wrapping\n     function (MyApp) {//function declaration \n        var MyController;\n        (function (MyController_1) {\n            var Models = MyApp.Models;\n            var MyController = (function () {\n                function MyController() {\n                    this.a = new Models.A();\n                    this.b = new Models.B();\n                }\n                return MyController;\n            })();\n            MyController_1.MyController = MyController;\n        })(MyController = MyApp.MyController || (MyApp.MyController = {}));\n    }\n    )(MyApp || (MyApp = {}));// end of function wrapping and it execution\n    /// &lt;reference path=\"myApp/MyController/myController.ts\"/&gt;\n\n    new MyApp.MyController.MyController(); // createing new instance of MyController\n\n    var MyApp;\n    (function (MyApp) {\n        var Models;\n        (function (Models) {\n            var B = (function () {\n                function B() {\n                }\n                return B;\n            })();\n            Models.B = B;\n        })(Models = MyApp.Models || (MyApp.Models = {}));\n    })(MyApp || (MyApp = {}));\n    var MyApp;\n    (function (MyApp) {\n        var Models;\n        (function (Models) {\n            var A = (function () {\n                function A() {\n                }\n                return A;\n            })();\n            Models.A = A;\n        })(Models = MyApp.Models || (MyApp.Models = {}));\n    })(MyApp || (MyApp = {}));\n    //# sourceMappingURL=app.js.map\n</code></pre>\n\n<p>if you dive deeper into JS you would find that the JS code is executing in the next order</p>\n\n<ul>\n<li>Reading function and passing it into the memory</li>\n<li>Executing another code</li>\n</ul>\n\n<p>That is why the next code would work </p>\n\n<pre><code> myFunction();\n\n function myFunctuion(){};\n</code></pre>\n\n<p>Due to typescript JS building technics for modules and classes it use anonimous function like this:</p>\n\n<pre><code>var MyApp;\n    (//functon wrapping\n     function (MyApp) {//function declaration \n        var MyController;\n        (function (MyController_1) {\n            var Models = MyApp.Models;\n            var MyController = (function () {\n                function MyController() {\n                    this.a = new Models.A();\n                    this.b = new Models.B();\n                }\n                return MyController;\n            })();\n            MyController_1.MyController = MyController;\n        })(MyController = MyApp.MyController || (MyApp.MyController =  {}));\n</code></pre>\n\n<p>In this case calling like next cause runtime exception, because anonimus block has not executed before.</p>\n\n<pre><code>  MyController(); // here runtime exception\n\n  var MyController = (function () {\n                function MyController() {\n                    this.a = new Models.A();\n                    this.b = new Models.B();\n                }\n                return MyController;\n            })();\n</code></pre>\n\n<p>Now, back to the our example and discover it, as you see MyController defined earlier, than we do execution of anonymous function and variable with name MyController now exist in the global scope. \nThe next step is executing constructor of MyController class, in it we find next two part of code  </p>\n\n<pre><code>       this.a = new Models.A();\n       this.b = new Models.B();\n</code></pre>\n\n<p>But here we get an error because the anonymous function that consist variable    <code>Modules</code> and classes <code>A</code> and <code>B</code> has not executed yet. That is why, in this moment we getting the error that variable Modules is undefined.</p></li>\n</ol>\n\n<p>I <strong>hope</strong> that this topic make your knowledge about JS and TS better, and help you in your new features!!!</p>\n\n<p>Good Luck!</p>\n\n<h2>P.S. <a href=\"https://github.com/OlegDokuka/Confused-about-TypeScript-modules\" rel=\"nofollow\">Here is working example</a></h2>\n"}], "owner": {"reputation": 175, "user_id": 2962209, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/jjDOd.jpg?s=128&g=1", "display_name": "Kristofer", "link": "https://stackoverflow.com/users/2962209/kristofer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1247, "favorite_count": 0, "accepted_answer_id": 32818680, "answer_count": 2, "score": 7, "last_activity_date": 1443429973, "creation_date": 1443290276, "last_edit_date": 1443429229, "question_id": 32800234, "link": "https://stackoverflow.com/questions/32800234/confused-about-typescript-modules", "title": "Confused about TypeScript modules", "body": "<p>I'm new to TypeScript but have a background in C# and I'm a little bit confused about how to handle TypeScript modules. I've been thinking about modules as namespaces in C# but maybe this is wrong because my code doesn't behave the way I was expecting.</p>\n\n<p>I have the following folder structure:</p>\n\n<pre><code>|-myApp\n|  |-myController\n|  |      |-myController.ts\n|  |-models\n       |-a.ts\n       |-b.ts\n</code></pre>\n\n<p>and this code:</p>\n\n<pre><code>// a.ts\nmodule MyApp.Models {\n    export class A {\n\n    }\n}\n// b.ts\nmodule MyApp.Models {\n    export class B {\n\n    }\n}\n\n// myController.ts (THIS DOESN'T WORK)\nmodule MyApp.MyController {\n    import Models = MyApp.Models;\n    class MyController {\n        a = new Models.A();\n        b = new Models.B();\n    }\n}\n\n// myController.ts (THIS WORKS)\nmodule MyApp.MyController {\n    class MyController {\n        a = new Models.A();\n        b = new Models.B();\n    }\n}\n</code></pre>\n\n<p>In the example above my attempt at importing the module (namespace?) Models will result in an error at runtime because Models is undefined. However if I remove the import-statement the code will works just fine. I'm probably not thinking clearly and doing some really stupid beginners mistake but could someone please tell me what I'm doing wrong and what the best way to use modules in my particular scenario would be. Why does it work if I remove the import but not with it?</p>\n\n<p>Regards Kristofer</p>\n"}, {"tags": ["javascript", "visual-studio", "typescript", "html5-audio", "web-audio-api"], "answers": [{"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 2, "last_activity_date": 1595233111, "last_edit_date": 1595233111, "creation_date": 1443367765, "answer_id": 32809573, "question_id": 32797833, "link": "https://stackoverflow.com/questions/32797833/typescript-web-audio-api-missing-definitions/32809573#32809573", "title": "Typescript web audio API missing definitions", "body": "<p>The <code>lib.d.ts</code> definition tends to follow the current Microsoft implementation of the standard and grows as Microsoft add support for the new aspects. Sometimes this means it is ahead of other browsers, other times it is behind. Where Mozilla are introducing new ideas, they will of course be ahead of everyone else with the implementation and device APIs are their favourite subject as they are highly related to Firefox OS.</p>\n<p>There isn't a great deal missing, you can use the following to insert the missing parts. The compiler will tell you when you need to delete any of the below by giving you a &quot;duplicate identifier&quot; error:</p>\n<pre><code>interface MediaStream {\n    id: string;\n    active: boolean;\n}\n\ninterface MediaStreamAudioSourceNode extends AudioNode {\n    \n}\n\ninterface MediaStreamAudioDestinationNode extends AudioNode {\n    stream: MediaStream;\n}\n\ninterface AudioContext {\n    state: string;\n    close: () =&gt; void;\n    createMediaStreamSource: () =&gt; MediaStreamAudioSourceNode;\n    createMediaStreamDestination: () =&gt; any;\n    resume: () =&gt; void;\n    suspend: () =&gt; void;\n}\n</code></pre>\n<p>The MediaStream is as complete as the MDN documentation - beware of this aspect as there seems to be minimal browser support for the members of this object.</p>\n"}, {"comments": [{"owner": {"reputation": 13238, "user_id": 2414919, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ghPYD.jpg?s=128&g=1", "display_name": "JLavoie", "link": "https://stackoverflow.com/users/2414919/jlavoie"}, "edited": false, "score": 0, "creation_date": 1489463116, "post_id": 38239761, "comment_id": 72669581, "body": "Doesn&#39;t work: Unable to find &quot;webaudioapi/waa&quot; (&quot;dt&quot;) in the registry."}], "tags": [], "owner": {"reputation": 2398, "user_id": 453932, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f7f1825fd6bb1727e4da035cb8049a43?s=128&d=identicon&r=PG", "display_name": "Guillaume Belrose", "link": "https://stackoverflow.com/users/453932/guillaume-belrose"}, "is_accepted": false, "score": 0, "last_activity_date": 1467878644, "last_edit_date": 1467878644, "creation_date": 1467876437, "answer_id": 38239761, "question_id": 32797833, "link": "https://stackoverflow.com/questions/32797833/typescript-web-audio-api-missing-definitions/38239761#38239761", "title": "Typescript web audio API missing definitions", "body": "<p>If you use <a href=\"https://github.com/typings/typings\" rel=\"nofollow\">typings</a>, you can install the type definitions for the web audio api like so:</p>\n\n<blockquote>\n  <p>typings install dt~webaudioapi/waa --global --save</p>\n</blockquote>\n"}], "owner": {"reputation": 597, "user_id": 1308385, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/30aea2bac97049a7d17ca0354c556076?s=128&d=identicon&r=PG", "display_name": "jimutt", "link": "https://stackoverflow.com/users/1308385/jimutt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4588, "favorite_count": 0, "accepted_answer_id": 32809573, "answer_count": 2, "score": 2, "last_activity_date": 1595233111, "creation_date": 1443274994, "last_edit_date": 1443275328, "question_id": 32797833, "link": "https://stackoverflow.com/questions/32797833/typescript-web-audio-api-missing-definitions", "title": "Typescript web audio API missing definitions", "body": "<p>I'm interested in beginning to use Typescript for some of my projects. Right now I would like to use the Web Audio API for some real time audio processing using a microphone as the input stream source. I'm working inside Visual Studio 2015 as I'll be working with ASP.NET 5.</p>\n\n<p>I'm defining my audio context like this:\n<code>var audioCtx: AudioContext;</code></p>\n\n<p>It works as the AudioContext definition is present in the lib.d.ts file located at <code>A:\\Program\\Microsoft Visual Studio 14.0\\Common7\\IDE\\CommonExtensions\\Microsoft\\TypeScript</code></p>\n\n<p>Though when I'm later trying to use <code>audioCtx.createMediaStreamSource(stream)</code>I get an error when trying to transpile the TS-code that tells me <code>Property \"createMediaStreamSource\" does not exist on type 'AudioContext'</code>. </p>\n\n<p>This error seems to be correct, as this is the content from the lib.d.ts file that's used:</p>\n\n<pre><code>interface AudioContext extends EventTarget {\n    currentTime: number;\n    destination: AudioDestinationNode;\n    listener: AudioListener;\n    sampleRate: number;\n    createAnalyser(): AnalyserNode;\n    createBiquadFilter(): BiquadFilterNode;\n    createBuffer(numberOfChannels: number, length: number, sampleRate: number): AudioBuffer;\n    createBufferSource(): AudioBufferSourceNode;\n    createChannelMerger(numberOfInputs?: number): ChannelMergerNode;\n    createChannelSplitter(numberOfOutputs?: number): ChannelSplitterNode;\n    createConvolver(): ConvolverNode;\n    createDelay(maxDelayTime?: number): DelayNode;\n    createDynamicsCompressor(): DynamicsCompressorNode;\n    createGain(): GainNode;\n    createMediaElementSource(mediaElement: HTMLMediaElement): MediaElementAudioSourceNode;\n    createOscillator(): OscillatorNode;\n    createPanner(): PannerNode;\n    createPeriodicWave(real: any, imag: any): PeriodicWave;\n    createScriptProcessor(bufferSize?: number, numberOfInputChannels?: number, numberOfOutputChannels?: number): ScriptProcessorNode;\n    createStereoPanner(): StereoPannerNode;\n    createWaveShaper(): WaveShaperNode;\n    decodeAudioData(audioData: ArrayBuffer, successCallback: DecodeSuccessCallback, errorCallback?: DecodeErrorCallback): void;\n}\n</code></pre>\n\n<p>So what I'm wondering is basically if there's away to get more \"complete\" definitions for the audio API? So that I can at least use the majority of the available functions and objects.</p>\n\n<p>I don't feel like adding the definitions myself, then I rather use standard ES5. But I think it would be rather strange if there are not more complete TS definitions for the Web Audio API as it has existed for a couple of years now (although it's still changing a little bit now and then). </p>\n"}, {"tags": ["typescript", "phaser-framework"], "answers": [{"comments": [{"owner": {"reputation": 1359, "user_id": 3203447, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/ca4cd1cca9f68191aec907fc8e468609?s=128&d=identicon&r=PG&f=1", "display_name": "JTK", "link": "https://stackoverflow.com/users/3203447/jtk"}, "edited": false, "score": 0, "creation_date": 1443384469, "post_id": 32811687, "comment_id": 53461219, "body": "I tried to follow this example and could not get it to work, even using code that was update less than six months ago for the project, I posted the issues here: <a href=\"https://stackoverflow.com/questions/32802777/typescript-extends-keyword-not-working\" title=\"typescript extends keyword not working\">stackoverflow.com/questions/32802777/&hellip;</a>"}, {"owner": {"reputation": 1359, "user_id": 3203447, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/ca4cd1cca9f68191aec907fc8e468609?s=128&d=identicon&r=PG&f=1", "display_name": "JTK", "link": "https://stackoverflow.com/users/3203447/jtk"}, "edited": false, "score": 0, "creation_date": 1443386537, "post_id": 32811687, "comment_id": 53461868, "body": "I resolved my problem on the other post I linked, thank you for your input."}], "tags": [], "owner": {"reputation": 17182, "user_id": 606821, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/X49xe.png?s=128&g=1", "display_name": "Remo H. Jansen", "link": "https://stackoverflow.com/users/606821/remo-h-jansen"}, "is_accepted": true, "score": 2, "last_activity_date": 1443380378, "creation_date": 1443380378, "answer_id": 32811687, "question_id": 32796429, "link": "https://stackoverflow.com/questions/32796429/phaser-state-not-initializing/32811687#32811687", "title": "Phaser.State not initializing", "body": "<p>Try something like:</p>\n\n<h1>game.ts</h1>\n\n<pre><code>module Castlevania {\n\n    export class Game extends Phaser.Game {\n\n        constructor() {\n\n            super(800, 600, Phaser.AUTO, 'content', null);\n\n            this.state.add('Boot', Boot, false);\n            this.state.add('Preloader', Preloader, false);\n            this.state.add('MainMenu', MainMenu, false);\n            this.state.add('Level1', Level1, false);\n\n            this.state.start('Boot');\n        }\n    }\n} \n</code></pre>\n\n<h1>boot.ts</h1>\n\n<pre><code>module Castlevania {\n\n    export class Boot extends Phaser.State {\n\n        preload() {\n\n            this.load.image('preloadBar', 'assets/loader.png');\n\n        }\n\n        create() {\n\n            //  Unless you specifically need to support multitouch I would recommend setting this to 1\n            this.input.maxPointers = 1;\n\n            //  Phaser will automatically pause if the browser tab the game is in loses focus. You can disable that here:\n            this.stage.disableVisibilityChange = true;\n\n            if (this.game.device.desktop) {\n                //  If you have any desktop specific settings, they can go in here\n                this.stage.scale.pageAlignHorizontally = true;\n            }\n            else {\n                //  Same goes for mobile settings.\n            }\n\n            this.game.state.start('Preloader', true, false);\n        }\n    } \n}\n</code></pre>\n\n<p>You can find a fully working example <a href=\"http://www.photonstorm.com/phaser/advanced-phaser-and-typescript-projects\" rel=\"nofollow\">here</a>.</p>\n"}], "owner": {"reputation": 1359, "user_id": 3203447, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/ca4cd1cca9f68191aec907fc8e468609?s=128&d=identicon&r=PG&f=1", "display_name": "JTK", "link": "https://stackoverflow.com/users/3203447/jtk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 712, "favorite_count": 0, "accepted_answer_id": 32811687, "answer_count": 1, "score": 0, "last_activity_date": 1443380378, "creation_date": 1443265213, "last_edit_date": 1443265601, "question_id": 32796429, "link": "https://stackoverflow.com/questions/32796429/phaser-state-not-initializing", "title": "Phaser.State not initializing", "body": "<p>I'm creating my first Phaser game as a chromecast receiver app, I'm having some trouble with my code.</p>\n\n<p>The code I have below works:</p>\n\n<pre><code>class TNSeconds {\n\ngame: Phaser.Game;\n\n\nconstructor() {\n    this.game = new Phaser.Game(window.innerWidth * window.devicePixelRatio -20, window.innerHeight * window.devicePixelRatio -20, Phaser.CANVAS, 'content', { preload: this.preload, create: this.create });\n}\n\npreload() {\n    this.game.load.image('BG', 'bg.png');\n    this.game.load.atlas(\"Atlas\", \"atlas.png\", \"atlas.json\");\n}\n\ncreate() {\n    var background= this.game.add.sprite(this.game.world.centerX, this.game.world.centerY, 'BG');\n    logo.anchor.setTo(0.5, 0.5);\n    this.game.add.sprite(320, 100, \"Atlas\", \"dron1\", this.game.world);\n}\n}\n\n\nwindow.onload = () =&gt; {\n    var game = new TNSeconds();\n\n};\n</code></pre>\n\n<p>However I'm following a tutorial and the example has the code laid out as so:</p>\n\n<pre><code>class Game extends Phaser.Game {\n\nconstructor() {\n    // init game\n    super(window.innerWidth * window.devicePixelRatio - 20, window.innerHeight * window.devicePixelRatio - 20, Phaser.CANVAS, 'content', State);\n}\n\n\n}\n\nclass State extends Phaser.State {\n    preload() {\n        this.game.load.image('BG', 'bg.png');\n        this.game.load.atlas(\"Atlas\", \"atlas.png\", \"atlas.json\");\n    }\ncreate() {\n\n    this.add.image(0, 0, \"BG\");\n\n    this.add.sprite(320, 100, \"Atlas\", \"dron1\", this.world);\n\n}\n\n}\n\nwindow.onload = () =&gt; {\n   var game = new Game();\n\n};\n</code></pre>\n\n<p>The tutorials code seems cleaner and just for the sake of follwoing the tutorial I would like to implement my code similarly, the problem seems to be that the <code>State</code>   class isn't initializing, could anybody shed some light on this for me.</p>\n\n<p>I'm aware the tutorial code is using <code>this.add.image</code> where I'm using <code>this.game.add.sprite</code> this is not an issue.</p>\n"}, {"tags": ["javascript", "object", "typescript"], "comments": [{"owner": {"reputation": 2628, "user_id": 2328185, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4tZVD.png?s=128&g=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/2328185/jesse"}, "edited": false, "score": 1, "creation_date": 1443258205, "post_id": 32795329, "comment_id": 53428982, "body": "I have to ask, why would you need to get and set the value of an object like this when you can just do it normally"}, {"owner": {"reputation": 134, "user_id": 1108654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d5251bcc66f53bd769c26e587eee77c?s=128&d=identicon&r=PG", "display_name": "Franz1986", "link": "https://stackoverflow.com/users/1108654/franz1986"}, "reply_to_user": {"reputation": 2628, "user_id": 2328185, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4tZVD.png?s=128&g=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/2328185/jesse"}, "edited": false, "score": 0, "creation_date": 1443261077, "post_id": 32795329, "comment_id": 53429666, "body": "Well, what is the &quot;normal&quot; way :D And to answer, I need to have a certain structure of objects when I send request to my backend. And this is the most convenient &quot;generic&quot; way I can think of. Just pass an array of strings (or one string) and a value."}, {"owner": {"reputation": 2628, "user_id": 2328185, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4tZVD.png?s=128&g=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/2328185/jesse"}, "edited": false, "score": 0, "creation_date": 1443261120, "post_id": 32795329, "comment_id": 53429676, "body": "Going to put in the answer as code in the comments is a frowny face situation"}], "answers": [{"comments": [{"owner": {"reputation": 134, "user_id": 1108654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d5251bcc66f53bd769c26e587eee77c?s=128&d=identicon&r=PG", "display_name": "Franz1986", "link": "https://stackoverflow.com/users/1108654/franz1986"}, "edited": false, "score": 0, "creation_date": 1443261737, "post_id": 32795866, "comment_id": 53429818, "body": "Well, the problem with that is, I don&#39;t always know what the object structure will look like. So I&#39;am using these &quot;generic&quot; functions that create objects from string paths. I hope I am making sense."}, {"owner": {"reputation": 2628, "user_id": 2328185, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4tZVD.png?s=128&g=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/2328185/jesse"}, "reply_to_user": {"reputation": 134, "user_id": 1108654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d5251bcc66f53bd769c26e587eee77c?s=128&d=identicon&r=PG", "display_name": "Franz1986", "link": "https://stackoverflow.com/users/1108654/franz1986"}, "edited": false, "score": 0, "creation_date": 1443261817, "post_id": 32795866, "comment_id": 53429835, "body": "Sure man, sounds good. What works for you best is what works best for you."}, {"owner": {"reputation": 134, "user_id": 1108654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d5251bcc66f53bd769c26e587eee77c?s=128&d=identicon&r=PG", "display_name": "Franz1986", "link": "https://stackoverflow.com/users/1108654/franz1986"}, "edited": false, "score": 0, "creation_date": 1443262366, "post_id": 32795866, "comment_id": 53429981, "body": "&quot;You should also be aware of faster ways to improve your code in production though.&quot;  Can you please share some thoughts on that? Or perhaps point me to some tips&amp;tricks javascript resources for writing production value code?  I am trying to learn and get better at this, since my background is mostly c#, AS3, java and c++ :)"}, {"owner": {"reputation": 2628, "user_id": 2328185, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4tZVD.png?s=128&g=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/2328185/jesse"}, "reply_to_user": {"reputation": 134, "user_id": 1108654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d5251bcc66f53bd769c26e587eee77c?s=128&d=identicon&r=PG", "display_name": "Franz1986", "link": "https://stackoverflow.com/users/1108654/franz1986"}, "edited": false, "score": 0, "creation_date": 1443262985, "post_id": 32795866, "comment_id": 53430126, "body": "I taught myself javascript so I might not be helpful there. I learned javascript objects when I found google chromes console log and started typing in all these weird things like &#39;window&#39; and saw when i typed a dot it wanted to offer me more items. I went through every single item I could to see what they did."}], "tags": [], "owner": {"reputation": 2628, "user_id": 2328185, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4tZVD.png?s=128&g=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/2328185/jesse"}, "is_accepted": false, "score": -1, "last_activity_date": 1443261296, "creation_date": 1443261296, "answer_id": 32795866, "question_id": 32795329, "link": "https://stackoverflow.com/questions/32795329/setting-and-retrieveing-value-from-javascript-objects/32795866#32795866", "title": "Setting and retrieveing value from javascript objects", "body": "<p>Objects are pretty malleable with javascript as it is. </p>\n\n<p>Start an object</p>\n\n<pre><code>var myobj = {\n    var1: 'hello'\n}\n</code></pre>\n\n<p>Get var1</p>\n\n<pre><code>console.log(myobj.var1) // 'hello'\n</code></pre>\n\n<p>Set var1</p>\n\n<pre><code>myobj.var1 = 'world'\n</code></pre>\n\n<p>Get var1 again</p>\n\n<pre><code>console.log(myobj.var1) // 'world'\n</code></pre>\n\n<p>Bring it all together to output 'hello world' to your console</p>\n\n<pre><code>var myobj = { var1: 'hello' };\nconsole.log(myobj.var1);\nmyobj.var1 = 'world';\nconsole.log(myobj.var1);\n</code></pre>\n\n<p>Other than that your code looks pretty ok. There is \"more than way to skin a cat\" and by no means is one way better than another when programming for fun. It is good to write things like you did for good practice. You should also be aware of faster ways to improve your code in production though.</p>\n"}], "owner": {"reputation": 134, "user_id": 1108654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d5251bcc66f53bd769c26e587eee77c?s=128&d=identicon&r=PG", "display_name": "Franz1986", "link": "https://stackoverflow.com/users/1108654/franz1986"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1443261296, "creation_date": 1443257572, "question_id": 32795329, "link": "https://stackoverflow.com/questions/32795329/setting-and-retrieveing-value-from-javascript-objects", "title": "Setting and retrieveing value from javascript objects", "body": "<p>I have just started using javascript and would like to ask a question (obviously :P)\nI have written two methods, one that gets value from an object, based on its data path (data path being structure within an object, like this: \"object.subObject.anotherSubObject.property\"), and another that sets a value to a object based on the data path.</p>\n\n<p>Here is that code written in typescript:</p>\n\n<pre><code>public getValueFromObject(object:any, path:string|string[], thisArg:any = null):any {\n    thisArg = thisArg == null ? this : thisArg;\n    var value:any = null;\n    if (object == null || object == undefined || object == \"undefined\")\n        return value;\n    if (path == null || path == undefined || path == \"undefined\" || path == \"\")\n        return value;\n    if (typeof path == \"string\" &amp;&amp; !Array.isArray(path)) {\n        path = (&lt;string&gt;path).split(\".\");\n    }\n    var currPath:string = path[0];\n    if (path.length &gt; 1 &amp;&amp; object.hasOwnProperty(currPath)) {\n        value = thisArg.getValueFromObject(object[currPath], path.slice(1), thisArg);\n    }\n    else if (object.hasOwnProperty(currPath)) {\n        value = object[currPath];\n    }\n    return value;\n}\n\nprivate setValueToObject(dataObject:any, value:any, dataPath:string|string[], thisArg:any = null):any {\n    thisArg = thisArg == null ? this : thisArg;\n    if (dataObject == null || dataObject == undefined || dataObject == \"undefined\")\n        return null;\n    if (dataPath == null || dataPath == undefined || dataPath == \"undefined\" || dataPath == \"\")\n        return null;\n    if (typeof dataPath == \"string\" &amp;&amp; !Array.isArray(dataPath)) {\n        dataPath = (&lt;string&gt;dataPath).split(\".\");\n    }\n    var currPath:string = dataPath[0];\n    if (dataPath.length &gt; 1) {\n        if (!dataObject.hasOwnProperty(currPath)) {\n            dataObject[currPath] = {};\n        }\n        dataObject[currPath] = thisArg.setValueToObject(dataObject[currPath], value, dataPath.slice(1), thisArg);\n    }\n    else {\n        dataObject[currPath] = value;\n    }\n    return dataObject;\n}\n</code></pre>\n\n<p>Now, I would like to know, is this a well written javascript code, and are there any libraries that could do the same thing I'm trying to achieve? Maybe lodash? And would really appreciate if someone would provide an example code.</p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["javascript", "angularjs", "typescript"], "comments": [{"owner": {"reputation": 9585, "user_id": 654434, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d4046093d5c6499ff13d5b5690a6cb32?s=128&d=identicon&r=PG", "display_name": "FlavorScape", "link": "https://stackoverflow.com/users/654434/flavorscape"}, "edited": false, "score": 0, "creation_date": 1443225491, "post_id": 32792013, "comment_id": 53423158, "body": "So, I&#39;m curious, too. I see that you can modify typescript.d.ts, but as typescript is a dependency installed from NPM, there&#39;s no sense in altering it. should pull requests be submitted to the TSD repository ? Here&#39;s a related post on adding definitions to built-ins. <a href=\"http://stackoverflow.com/questions/23636093/add-method-to-array-in-typescript-1-0\" title=\"add method to array in typescript 1 0\">stackoverflow.com/questions/23636093/&hellip;</a>"}, {"owner": {"reputation": 9585, "user_id": 654434, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d4046093d5c6499ff13d5b5690a6cb32?s=128&d=identicon&r=PG", "display_name": "FlavorScape", "link": "https://stackoverflow.com/users/654434/flavorscape"}, "edited": false, "score": 0, "creation_date": 1443225968, "post_id": 32792013, "comment_id": 53423243, "body": "Maybe could make your own TSD file for ngImgCrop and define the object on event.target... load it in from tsd.d.ts. If you wanted to go further, you could create a tsd repository on github for ngImgCrop so that it worked through official TSD repository, but not necessary."}], "answers": [{"comments": [{"owner": {"reputation": 9585, "user_id": 654434, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d4046093d5c6499ff13d5b5690a6cb32?s=128&d=identicon&r=PG", "display_name": "FlavorScape", "link": "https://stackoverflow.com/users/654434/flavorscape"}, "edited": false, "score": 0, "creation_date": 1443482377, "post_id": 32792512, "comment_id": 53502292, "body": "Nick, the <code>&lt;any&gt;</code> here casts the evt.currentTarget as a &quot;generic&quot; with no type. This is how you&#39;d get around the compiler error."}], "tags": [], "owner": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "is_accepted": false, "score": 2, "last_activity_date": 1443230052, "last_edit_date": 1443230052, "creation_date": 1443228630, "answer_id": 32792512, "question_id": 32792013, "link": "https://stackoverflow.com/questions/32792013/getting-around-typescript-with-ngimgcrop/32792512#32792512", "title": "Getting around Typescript with ngImgCrop", "body": "<h2>Simple solution</h2>\n\n<p>If you sure that this property exist just make something like below</p>\n\n<pre><code> var handleFileSelect=function(evt) {\n      var file=evt.currentTarget.files[0];\n      var reader = new FileReader();\n      reader.onload = function (evt) {\n             $scope.$apply(function($scope){\n                  $scope.myImage = (&lt;any&gt;evt.currentTarget).result;\n              });\n      };\n      reader.readAsDataURL(file);\n };\n</code></pre>\n\n<p>Also you can create own interface that would be describe your target</p>\n\n<pre><code>  interface MyTarget {\n        result:any;   //or type of image\n  } \n  //skip some code\n $scope.myImage = (evt.currentTarget as MyTarget).result;\n</code></pre>\n\n<h2>Complicated solution</h2>\n\n<p>You can provide own declaration of  ngImageCroper or provide description for current event</p>\n\n<pre><code>   var handleFileSelect=function(evt: ImageCropEvent){\n        //your    stuff\n   }\n</code></pre>\n\n<h2>Resource</h2>\n\n<ol>\n<li><a href=\"http://www.typescriptlang.org/Handbook#writing-dts-files\" rel=\"nofollow\">Write your d.ts file</a></li>\n</ol>\n"}], "owner": {"reputation": 85, "user_id": 5374021, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9be44285b536b39aa12d7b237e8eba48?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/5374021/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1519064652, "creation_date": 1443223737, "question_id": 32792013, "link": "https://stackoverflow.com/questions/32792013/getting-around-typescript-with-ngimgcrop", "title": "Getting around Typescript with ngImgCrop", "body": "<p>I'm new to coding and have the opportunity to do some small stories on a project to whet my teeth. Right now I'm working on getting profile picture selection and cropping into a webapp with AngularJS. I've selected ngImgCropper to handle the cropping. Here's a JSFiddle with boilerplate code: <a href=\"http://jsfiddle.net/a2ew3yhf/50/\" rel=\"nofollow\">http://jsfiddle.net/a2ew3yhf/50/</a></p>\n\n<p>And here's JavaScript from that link:</p>\n\n<pre><code>var handleFileSelect=function(evt) {\n  var file=evt.currentTarget.files[0];\n  var reader = new FileReader();\n  reader.onload = function (evt) {\n    $scope.$apply(function($scope){\n        $scope.myImage = evt.currentTarget.result;\n    });\n  };\n    reader.readAsDataURL(file);\n};\n</code></pre>\n\n<p>Here's my problem. My project uses Typescript, which doesn't support evt.currentTarget.result, so I get the following error: </p>\n\n<pre><code>Property 'result' does not exist on type 'EventTarget'\n</code></pre>\n\n<p>Is there any way to get around this?</p>\n"}, {"tags": ["typescript", "aurelia"], "answers": [{"comments": [{"owner": {"reputation": 11724, "user_id": 1981050, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/MimfZ.png?s=128&g=1", "display_name": "Matthew James Davis", "link": "https://stackoverflow.com/users/1981050/matthew-james-davis"}, "edited": false, "score": 0, "creation_date": 1443441095, "post_id": 32792756, "comment_id": 53479979, "body": "This is correct, so I will not change it. I will say, since Applicant is its own class, the best practice here would be to have an Applicant.update method and leverage that instead."}, {"owner": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "reply_to_user": {"reputation": 11724, "user_id": 1981050, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/MimfZ.png?s=128&g=1", "display_name": "Matthew James Davis", "link": "https://stackoverflow.com/users/1981050/matthew-james-davis"}, "edited": false, "score": 0, "creation_date": 1443448389, "post_id": 32792756, "comment_id": 53485028, "body": "I have no deals with aurelia, my answer based on understending how DI works at all"}, {"owner": {"reputation": 169, "user_id": 5378021, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6e3ed86b9006ead54b05005a1ede463a?s=128&d=identicon&r=PG&f=1", "display_name": "Y.Z.", "link": "https://stackoverflow.com/users/5378021/y-z"}, "edited": false, "score": 1, "creation_date": 1443449556, "post_id": 32792756, "comment_id": 53485858, "body": "Thanks Oleg and Matthew! I should have realized it, great suggestions that solved the problem!"}], "tags": [], "owner": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "is_accepted": true, "score": 2, "last_activity_date": 1443231952, "last_edit_date": 1443231952, "creation_date": 1443231288, "answer_id": 32792756, "question_id": 32791963, "link": "https://stackoverflow.com/questions/32791963/aurelia-typescript-and-di/32792756#32792756", "title": "Aurelia Typescript and DI", "body": "<h2>Behavior</h2>\n\n<p>No, you are not. Since JS variables are just references to objects in memory, your variable <code>applicant</code> is just a reference, and when you change it in function <code>updateApplican</code> you just change reference to <strong>another</strong> object in memory. That is mean that reference in <code>start</code> view is <strong>still refering</strong> to the old one. </p>\n\n<h2>Solution</h2>\n\n<p>There is one trick. You can store your <code>Aplicant</code> in wrapper. It would be looks like below</p>\n\n<pre><code> //make it also singleton\n class AplicantWrapper {\n       aplicant: Aplicant;\n }\n</code></pre>\n\n<p>And then inject it to your views</p>\n\n<pre><code>@inject(HttpClient, ApplicantWrapper)\nexport class App {\napplicantWraper: ApplicantWrapper;\nhttp: HttpClient;\nrouter: Router;\n\nconstructor(httpClient, applicant) {\n    this.applicantWraper = applicant;\n    this.http = httpClient;\n    this.applicant.firstName = \"John\";\n}\n   //router config code..\n updateApplicant() {\n      this.http.get(\"/fakeApplicant.json\")\n          .then(response =&gt; {\n                this.applicantWrapper.applicant = response.content; //Sets first name to Mike\n          });\n  }\n</code></pre>\n\n<p>In this case both view would expect changes because it still refering to same wrapper object</p>\n"}], "owner": {"reputation": 169, "user_id": 5378021, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6e3ed86b9006ead54b05005a1ede463a?s=128&d=identicon&r=PG&f=1", "display_name": "Y.Z.", "link": "https://stackoverflow.com/users/5378021/y-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "accepted_answer_id": 32792756, "answer_count": 1, "score": 3, "last_activity_date": 1443231952, "creation_date": 1443223206, "question_id": 32791963, "link": "https://stackoverflow.com/questions/32791963/aurelia-typescript-and-di", "title": "Aurelia Typescript and DI", "body": "<p>I running into an issue where I expect the object(Applicant in the example) reference to be the same, but not getting the expected behavior in this example, it be great if someone can point me in the right direction. </p>\n\n<p>app.ts:</p>\n\n<pre><code>@inject(HttpClient, Applicant)\nexport class App {\n    applicant: Applicant;\n    http: HttpClient;\n    router: Router;\n\n    constructor(httpClient, applicant) {\n        this.applicant = applicant;\n        this.http = httpClient;\n        this.applicant.firstName = \"John\";\n    }\n//router config code..\nupdateApplicant() {\n    this.http.get(\"/fakeApplicant.json\")\n        .then(response =&gt; {\n            this.applicant = response.content; //Sets first name to Mike\n        });\n}\n</code></pre>\n\n<p>start.ts</p>\n\n<pre><code>@inject(Applicant)\nexport class start {\n    router: Router;\n    applicant: Applicant;\n\n    constructor(applicant : Applicant) {\n        this.applicant = applicant;\n    }\n</code></pre>\n\n<p>app.html</p>\n\n<pre><code>&lt;template&gt;\n&lt;div class=\"container\"&gt;\n    &lt;div class=\"appHost\"&gt;\n        &lt;router-view&gt;&lt;/router-view&gt;\n    &lt;/div&gt;\n\n    &lt;button click.delegate=\"updateApplicant()\"&gt;Update First Name&lt;/button&gt;\n\n    &lt;h3&gt;App First Name: ${applicant.firstName}&lt;/h3&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<p>start.html</p>\n\n<pre><code>&lt;template&gt;\n&lt;h1&gt;Start&lt;/h1&gt;\n\n&lt;h3&gt;Start First Name: ${applicant.firstName}&lt;/h3&gt;\n&lt;/template&gt;\n</code></pre>\n\n<hr>\n\n<p>Okay, so above should be pretty simple, I have the main app, the start.html is just a route that will get loaded on start in router-view.  As expected, both App and Start First Name binding initially shows up as John.  However, when I click updateApplicant delegate which executes the http get call, only the App First Name binding is updated to Mike, I'm expecting the Start view's applicant to be updated as well, since they should be referencing the same Applicant object, right? I'm fairly new to Aurelia, not sure if the way I'm doing DI to inject the Applicant to use in different views is the right way, I'm expecting the Applicant object to be a singleton and want to inject into different views in the application.  I initially thought it was a ts lexical scoping issue, but it would mean nothing should get updated. </p>\n"}, {"tags": ["typescript", "typescript1.6"], "answers": [{"comments": [{"owner": {"reputation": 25599, "user_id": 425823, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/00d813f85062c23d43043e6132278610?s=128&d=identicon&r=PG", "display_name": "Greg Gum", "link": "https://stackoverflow.com/users/425823/greg-gum"}, "edited": false, "score": 1, "creation_date": 1443215074, "post_id": 32790471, "comment_id": 53420245, "body": "Thank you.  Yes, <code>export function...</code> is what I was trying to do."}, {"owner": {"reputation": 6834, "user_id": 271012, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/m3wdQ.png?s=128&g=1", "display_name": "Drenai", "link": "https://stackoverflow.com/users/271012/drenai"}, "edited": false, "score": 2, "creation_date": 1517059428, "post_id": 32790471, "comment_id": 83945619, "body": "Util modules should&#39;nt be instantiated as an instance with the <code>new</code> keyword. If you want to follow standard conventions, and reduce execution context creation, the Util class methods should be static methods, accessed via <code>Util.doSomething()</code>"}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "reply_to_user": {"reputation": 6834, "user_id": 271012, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/m3wdQ.png?s=128&g=1", "display_name": "Drenai", "link": "https://stackoverflow.com/users/271012/drenai"}, "edited": false, "score": 2, "creation_date": 1517082441, "post_id": 32790471, "comment_id": 83952663, "body": "@Ryan You are wrong. If the functionality you are exporting is dependent on some state, you should export it as an instantiable class. If it is stateless, as in this case, <i>you should export it as top level independent exports</i>. If you just cram them into a static class for no reason you break tree shaking for no benefit to yourself."}, {"owner": {"reputation": 6834, "user_id": 271012, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/m3wdQ.png?s=128&g=1", "display_name": "Drenai", "link": "https://stackoverflow.com/users/271012/drenai"}, "edited": false, "score": 0, "creation_date": 1517082680, "post_id": 32790471, "comment_id": 83952733, "body": "The original question describes a Util that does not depend on any state. They are straight static functions. Are you saying that tree shaking will break unless you instantiatle the Util?"}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 2, "creation_date": 1517082746, "post_id": 32790471, "comment_id": 83952754, "body": "No, I am saying tree shaking will break if you do <code>class Util</code> at all. Since the members are stateless (which I mentioned in my answer, and at this point in two different comments), you <i>should not have a class at all</i>. You should export the members directly, in order to exploit tree shaking."}, {"owner": {"reputation": 4285, "user_id": 90259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/lNSMF.jpg?s=128&g=1", "display_name": "joedotnot", "link": "https://stackoverflow.com/users/90259/joedotnot"}, "edited": false, "score": 0, "creation_date": 1532097704, "post_id": 32790471, "comment_id": 89860158, "body": "How can i wrap your methods doSomething, doSomethingElse in a namespace called MyUtilsNS to avoid conflicting with another library that also has doSomething, doSomethingElse ?"}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "reply_to_user": {"reputation": 4285, "user_id": 90259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/lNSMF.jpg?s=128&g=1", "display_name": "joedotnot", "link": "https://stackoverflow.com/users/90259/joedotnot"}, "edited": false, "score": 0, "creation_date": 1532111006, "post_id": 32790471, "comment_id": 89867239, "body": "@joedotnot You can&#39;t, but when importing them you can alias them however you want. For example you can import them as <code>import { doSomething as fooDoSomething } from &quot;myfoomodule&quot;</code>."}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1532111071, "post_id": 32790471, "comment_id": 89867269, "body": "Similarly you can also just alias the whole import <code>import * as MyFooModule from &quot;myfoomodule&quot;</code> and use <code>MyFooModules.doSomething</code>, but be aware that this sort of thing is liable to cause issues with tree shaking."}], "tags": [], "owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "is_accepted": false, "score": 43, "last_activity_date": 1443214270, "creation_date": 1443214270, "answer_id": 32790471, "question_id": 32790311, "link": "https://stackoverflow.com/questions/32790311/how-to-structure-utility-class/32790471#32790471", "title": "How to structure utility class", "body": "<p>There's a couple problems here:</p>\n\n<ol>\n<li>You're not instantiating anything, and <code>doSomething</code> is an instance method</li>\n<li>When you do <code>import * as util</code>, <code>util</code> represents the module, not an object in it. </li>\n</ol>\n\n<p>If you want <code>Util</code>, you should just import that:</p>\n\n<pre><code>import { Util } from './util'\n</code></pre>\n\n<p>Next, you should instantiate <code>Util</code>, before finally calling the method on it:</p>\n\n<pre><code>var u = new Util();\nu.doSomething(\"test\");\n</code></pre>\n\n<p>Here's your code patched up:</p>\n\n<pre><code>import { Util } from './util'\n\nexport class MyClass{\n     constructor()\n     {\n         var u = new Util();\n         u.doSomething(\"test\");\n     }\n}\n</code></pre>\n\n<hr>\n\n<p>All that said, there seems to be something odd about the way you're using your utils. This is totally personal opinion, but I wouldn't invoke methods that \"do something\", i.e. cause side effects, in a constructor. </p>\n\n<p>Also, the methods in <code>Util</code> don't really look like they need to be in that class, since the class holds no state that they depend on. You can always export regular functions from a module. If you wrote your utils module like this:</p>\n\n<pre><code>export function doSomething(val: string) { return val; }\n\nexport function doSomethingElse(val: string) { return val; }\n</code></pre>\n\n<p>you'd be exporting your functions directly and would sidestep the instantiation hassle, and in fact your original code would work correctly as is.</p>\n"}, {"comments": [{"owner": {"reputation": 25599, "user_id": 425823, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/00d813f85062c23d43043e6132278610?s=128&d=identicon&r=PG", "display_name": "Greg Gum", "link": "https://stackoverflow.com/users/425823/greg-gum"}, "edited": false, "score": 4, "creation_date": 1468974656, "post_id": 37659978, "comment_id": 64344895, "body": "This is the way I prefer to do it now."}, {"owner": {"reputation": 1915, "user_id": 728630, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/b791cdb7750e355ecbb1ec3e112ce9c1?s=128&d=identicon&r=PG", "display_name": "user728630", "link": "https://stackoverflow.com/users/728630/user728630"}, "edited": false, "score": 0, "creation_date": 1474339202, "post_id": 37659978, "comment_id": 66479569, "body": "Do the methods have to be static? Can&#39;t an instance of Utils class be created an used?"}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "reply_to_user": {"reputation": 25599, "user_id": 425823, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/00d813f85062c23d43043e6132278610?s=128&d=identicon&r=PG", "display_name": "Greg Gum", "link": "https://stackoverflow.com/users/425823/greg-gum"}, "edited": false, "score": 7, "creation_date": 1474340272, "post_id": 37659978, "comment_id": 66479820, "body": "@GregGum Wrapping your stateless functions in a class just for the heck of it is a bad idea, because it breaks module optimization techniques like tree-shaking. You should export everything as close to the top level of the module as possible."}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 16, "creation_date": 1517082832, "post_id": 37659978, "comment_id": 83952787, "body": "Based on comments on my answer it seems I didn&#39;t sufficiently clarify this in my previous comment: wrapping entirely stateless functions as static members of a <code>class Utils</code>, as shown in this answer, is a <b>bad idea</b>. It will break module optimization for no benefit whatsoever to you. If your members, like <code>doSomething</code> and <code>doSomethingElse</code>, are entirely stateless, and do not reference private members of a class, they should not be in a class at all. You should directly export them using <code>export function doSomething ...</code>."}, {"owner": {"reputation": 8702, "user_id": 828547, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8ed7d7d8f26f5b8c1adb434e1bca4bae?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/828547/jack"}, "reply_to_user": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1520276171, "post_id": 37659978, "comment_id": 85240360, "body": "@asad-saeeduddin - Any reason not use a <code>namespace</code> to wrap the functions?"}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "reply_to_user": {"reputation": 8702, "user_id": 828547, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8ed7d7d8f26f5b8c1adb434e1bca4bae?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/828547/jack"}, "edited": false, "score": 0, "creation_date": 1520277591, "post_id": 37659978, "comment_id": 85241090, "body": "@Jack Yes, it breaks tree shaking."}, {"owner": {"reputation": 4046, "user_id": 1440240, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/079c35c4cdab398fc94f466961445fa8?s=128&d=identicon&r=PG", "display_name": "Ben Racicot", "link": "https://stackoverflow.com/users/1440240/ben-racicot"}, "edited": false, "score": 0, "creation_date": 1551364184, "post_id": 37659978, "comment_id": 96620464, "body": "@k7sleeper how does this work with a shared module? Just creating the file and importing it into a component wouldn&#39;t pack and reuse the method would it?"}, {"owner": {"reputation": 2309, "user_id": 880121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e53b1ff7e6e7c97b50cb4a47b479f451?s=128&d=identicon&r=PG", "display_name": "k7sleeper", "link": "https://stackoverflow.com/users/880121/k7sleeper"}, "edited": false, "score": 0, "creation_date": 1552650304, "post_id": 37659978, "comment_id": 97101585, "body": "What&#39;s a &quot;shared module&quot;? Shared between client code and server code? For packing browser code I use webpack."}, {"owner": {"reputation": 1819, "user_id": 6537157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc49ba8e3aa95732b23486388b79110?s=128&d=identicon&r=PG&f=1", "display_name": "akop", "link": "https://stackoverflow.com/users/6537157/akop"}, "edited": false, "score": 0, "creation_date": 1554817553, "post_id": 37659978, "comment_id": 97885331, "body": "Is it really better to have an module, that used in all components (so each of them as a reference to the instance or creating instances for themself) as clean static util? I guess not."}, {"owner": {"reputation": 717, "user_id": 1867584, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/287855a29b24f52bb70347babd4ec935?s=128&d=identicon&r=PG", "display_name": "Vaibhav", "link": "https://stackoverflow.com/users/1867584/vaibhav"}, "reply_to_user": {"reputation": 25599, "user_id": 425823, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/00d813f85062c23d43043e6132278610?s=128&d=identicon&r=PG", "display_name": "Greg Gum", "link": "https://stackoverflow.com/users/425823/greg-gum"}, "edited": false, "score": 1, "creation_date": 1561144801, "post_id": 37659978, "comment_id": 99981914, "body": "Agreed with @GregGum same has been conveyed in type script docs. Have a look: <a href=\"https://medium.com/@OlegVaraksin/what-is-the-best-way-to-write-utilities-in-typescript-e3cae916fe30\" rel=\"nofollow noreferrer\">medium.com/@OlegVaraksin/&hellip;</a>"}, {"owner": {"reputation": 5473, "user_id": 1752366, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/HoNYQ.jpg?s=128&g=1", "display_name": "silentsudo", "link": "https://stackoverflow.com/users/1752366/silentsudo"}, "edited": false, "score": 0, "creation_date": 1588259255, "post_id": 37659978, "comment_id": 108835686, "body": "perfecto is the wordo"}], "tags": [], "owner": {"reputation": 2309, "user_id": 880121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e53b1ff7e6e7c97b50cb4a47b479f451?s=128&d=identicon&r=PG", "display_name": "k7sleeper", "link": "https://stackoverflow.com/users/880121/k7sleeper"}, "is_accepted": true, "score": 131, "last_activity_date": 1465223859, "last_edit_date": 1465223859, "creation_date": 1465223144, "answer_id": 37659978, "question_id": 32790311, "link": "https://stackoverflow.com/questions/32790311/how-to-structure-utility-class/37659978#37659978", "title": "How to structure utility class", "body": "<p>If you create a file <code>utils.ts</code> which contains</p>\n\n<pre><code>export default class Utils {\n    static doSomething(val: string) { return val; }\n    static doSomethingElse(val: string) { return val; }\n}\n</code></pre>\n\n<p>then you can simplify your client code like this:</p>\n\n<pre><code>import Utils from './utils'\n\nexport class MyClass {\n     constructor()\n     {\n         Utils.doSomething(\"test\");\n     }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6834, "user_id": 271012, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/m3wdQ.png?s=128&g=1", "display_name": "Drenai", "link": "https://stackoverflow.com/users/271012/drenai"}, "edited": false, "score": 0, "creation_date": 1573071290, "post_id": 54024944, "comment_id": 103765653, "body": "This is probably the best way of doing it. I would usually create the functions as <code>const</code> at the top of the file, and then use <code>export const Util { doSomething, doSomethingElse }</code>"}], "tags": [], "owner": {"reputation": 11, "user_id": 5304017, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KNOjz.png?s=128&g=1", "display_name": "Max Rahder", "link": "https://stackoverflow.com/users/5304017/max-rahder"}, "is_accepted": false, "score": 1, "last_activity_date": 1546528165, "creation_date": 1546528165, "answer_id": 54024944, "question_id": 32790311, "link": "https://stackoverflow.com/questions/32790311/how-to-structure-utility-class/54024944#54024944", "title": "How to structure utility class", "body": "<p>Or you could export is as an object literal:</p>\n\n<pre><code>export const Util = {\n    doSomething(val: string){ return val;},\n    doSomethingElse(val: string{ return val;}\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 313, "user_id": 7682476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f147ab092be503d2aa8a6be2eb0cde41?s=128&d=identicon&r=PG&f=1", "display_name": "vijay", "link": "https://stackoverflow.com/users/7682476/vijay"}, "is_accepted": false, "score": 1, "last_activity_date": 1591219640, "last_edit_date": 1591219640, "creation_date": 1554208133, "answer_id": 55474813, "question_id": 32790311, "link": "https://stackoverflow.com/questions/32790311/how-to-structure-utility-class/55474813#55474813", "title": "How to structure utility class", "body": "<p>You can also create a <code>util.ts</code> class which has a function to export</p>\n\n<pre><code>export const formatDateOfBirth = \n(dob: string) : string =&gt; `${dob.substring(0, 4)}-${dob.substring(4, 6)}-${dob.substring(6, 8)}`;\n</code></pre>\n\n<p>Now you can import the method as below, shared folder structure is <code>src</code> > <code>app</code> > <code>shared</code>, I am calling this import inside <code>src</code> > <code>app</code> > <code>shelf</code> > <code>shelf.component.ts</code> file</p>\n\n<pre><code>import { formatDateOfBirth } from '../shared/utils/util';\npublic getFormattedDate(dob: string):string{\n  return formatDateOfBirth(dob);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 81, "user_id": 847227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kfVdA.jpg?s=128&g=1", "display_name": "Kentaro", "link": "https://stackoverflow.com/users/847227/kentaro"}, "edited": false, "score": 0, "creation_date": 1600679056, "post_id": 56244791, "comment_id": 113152385, "body": "This worked best for my situation. I was able to <code>import * as Util from &#39;.&#47;util&#39;;</code> and use functions as <code>Util.doSomething(&#39;abc&#39;);</code>."}], "tags": [], "owner": {"reputation": 4598, "user_id": 3898122, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/sVREG.jpg?s=128&g=1", "display_name": "Renat Gatin", "link": "https://stackoverflow.com/users/3898122/renat-gatin"}, "is_accepted": false, "score": 6, "last_activity_date": 1591219528, "last_edit_date": 1591219528, "creation_date": 1558465008, "answer_id": 56244791, "question_id": 32790311, "link": "https://stackoverflow.com/questions/32790311/how-to-structure-utility-class/56244791#56244791", "title": "How to structure utility class", "body": "<p>Alternative way:</p>\n\n<ol>\n<li><p>Export constants in your <code>utils.ts</code> file:</p>\n\n<pre><code>export const doSomething = (val: string): any =&gt; {\n  return val;\n};\n\nexport const doSomethingElse = (val: string): any =&gt; {\n  return val;\n};\n</code></pre></li>\n<li><p>Import and use this methods in main <code>*.ts</code> file:</p>\n\n<pre><code>import { doSomething, doSomethingElse } from './util';\n...\nlet value1 = doSomething('abc');\nlet value2 = doSomethingElse ('efg');\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 25599, "user_id": 425823, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/00d813f85062c23d43043e6132278610?s=128&d=identicon&r=PG", "display_name": "Greg Gum", "link": "https://stackoverflow.com/users/425823/greg-gum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64048, "favorite_count": 18, "accepted_answer_id": 37659978, "answer_count": 5, "score": 77, "last_activity_date": 1591219640, "creation_date": 1443213512, "last_edit_date": 1591219391, "question_id": 32790311, "link": "https://stackoverflow.com/questions/32790311/how-to-structure-utility-class", "title": "How to structure utility class", "body": "<p>I have several utility functions.  What is the best way to package these up, and then import them?</p>\n\n<p>This is what I am trying to do:</p>\n\n<pre><code>import * as util from './util'\n\nexport class myClass{\n     constructor()\n     {\n           util.doSomething(\"test\");\n     }\n}\n</code></pre>\n\n<p>Then in the class:</p>\n\n<pre><code>export class Util{\n    doSomething(val: string){ return val;}\n\n    doSomethingElse(val: string{ return val;}\n}\n</code></pre>\n\n<p>The error message I get from VS is:</p>\n\n<blockquote>\n  <p><code>Property doSomething does not exist on type util.</code></p>\n</blockquote>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 1, "creation_date": 1443213911, "post_id": 32789773, "comment_id": 53419715, "body": "maybe i&#39;m missing a terminology step or something (i&#39;m not a typescript user), but wouldn&#39;t a function with params and a function without still both be functions? why would it throw a type error? they are both the same type."}], "answers": [{"comments": [{"owner": {"reputation": 1025, "user_id": 996879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac955b763b9ab2414652cb01cd909b30?s=128&d=identicon&r=PG", "display_name": "Tim Rudnevsky", "link": "https://stackoverflow.com/users/996879/tim-rudnevsky"}, "edited": false, "score": 0, "creation_date": 1443330999, "post_id": 32790895, "comment_id": 53446716, "body": "Well, I disagree with that. If you have a function that may take 1 parameter and some overloads that can take 2 or 3 parameters, you should create typings for all of that prototypes. There is no difference in my view. For your example, if forEach method on Array can take as first arg a function, that takes one arg, two args or three args, you should create 3 prototype for it in typings to show these three possibilities."}, {"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "reply_to_user": {"reputation": 1025, "user_id": 996879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac955b763b9ab2414652cb01cd909b30?s=128&d=identicon&r=PG", "display_name": "Tim Rudnevsky", "link": "https://stackoverflow.com/users/996879/tim-rudnevsky"}, "edited": false, "score": 1, "creation_date": 1443334998, "post_id": 32790895, "comment_id": 53447393, "body": "That doesn&#39;t model the runtime behavior of any function. <code>forEach</code> <i>always</i> invokes its argument with three parameters; it doesn&#39;t check the length of the callback to decide how many arguments to invoke it with."}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 3, "last_activity_date": 1443216404, "creation_date": 1443216404, "answer_id": 32790895, "question_id": 32789773, "link": "https://stackoverflow.com/questions/32789773/typescript-why-function-without-parameters-can-be-cast-to-function-with-paramet/32790895#32790895", "title": "Typescript: why function without parameters can be cast to function with parameters", "body": "<blockquote>\n  <p>there is an obvious type missmatch and it can possible be a developer's error.</p>\n</blockquote>\n\n<p>There's nothing obviously wrong with this code. Consider something like this:</p>\n\n<pre><code>let items = [1, 2, 3];\n// Print each item in the array\nitems.forEach(item =&gt; console.log(item));\n</code></pre>\n\n<p>Is this code correct? Definitely! But <code>forEach</code> invokes its provided function with <em>three</em> arguments, not one. It would be tedious to have to write:</p>\n\n<pre><code>items.forEach((item, unused1, unused2) =&gt; console.log(item));\n</code></pre>\n\n<p>Note that you can still get errors if you try to do something that's actually wrong. For example:</p>\n\n<pre><code>function printNumber(x: number) { console.log(x); }\nlet strings = ['hello', 'world'];\nstrings.forEach(printNumber); // Error, can't convert string to number\n</code></pre>\n"}], "owner": {"reputation": 1025, "user_id": 996879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac955b763b9ab2414652cb01cd909b30?s=128&d=identicon&r=PG", "display_name": "Tim Rudnevsky", "link": "https://stackoverflow.com/users/996879/tim-rudnevsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2095, "favorite_count": 0, "accepted_answer_id": 32790895, "answer_count": 1, "score": 2, "last_activity_date": 1443216404, "creation_date": 1443211190, "last_edit_date": 1443212577, "question_id": 32789773, "link": "https://stackoverflow.com/questions/32789773/typescript-why-function-without-parameters-can-be-cast-to-function-with-paramet", "title": "Typescript: why function without parameters can be cast to function with parameters", "body": "<p>Why there aren't any compilation errors in this code?\nCode:</p>\n\n<pre><code>function partial(f: (a: string) =&gt; string, a: string) : string {\n  return \"\";\n}\n\nvar test = () =&gt; \"\";\nvar result = partial(test, \"\");\n</code></pre>\n\n<p>Function \"partial\" takes as the first argument a function, that takes one parameter, but I pass to it function, that doesn't take any parameters, and typescript compiler thinks, that this is OK. I understand that this can't break anything because you can pass all parameters in the world to the function that doesn't take any, and it won't break anything, but it should be a compilation error because typescript is about types and there is an obvious type missmatch and it can possible be a developer's error.</p>\n\n<p>Is there any workarounds for this problem?</p>\n"}, {"tags": ["angularjs", "typescript", "kendo-grid"], "answers": [{"comments": [{"owner": {"reputation": 701, "user_id": 956198, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2a759f393bec5c8a454f16771f2a0f08?s=128&d=identicon&r=PG", "display_name": "Farzad Karimi", "link": "https://stackoverflow.com/users/956198/farzad-karimi"}, "edited": false, "score": 0, "creation_date": 1534829849, "post_id": 32785822, "comment_id": 90833860, "body": "this one just returns the latest selected row, how can I achieve the whole selected rows?"}], "tags": [], "owner": {"reputation": 1264, "user_id": 1312949, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/458c33c95f57858d966b9618d72fb889?s=128&d=identicon&r=PG", "display_name": "Byron", "link": "https://stackoverflow.com/users/1312949/byron"}, "is_accepted": true, "score": 1, "last_activity_date": 1443195511, "creation_date": 1443195511, "answer_id": 32785822, "question_id": 32785240, "link": "https://stackoverflow.com/questions/32785240/kendo-grid-get-selected-row-and-assign-to-local-variable/32785822#32785822", "title": "Kendo Grid get selected row and assign to local variable", "body": "<p>Only way I could see to solve this was adding the following code to my handleNext function:</p>\n\n<pre><code>  var entityGrid = $(\"#EntitesGrid\").data(\"kendoGrid\");\n  var selectedItem = entityGrid.dataItem(entityGrid.select());\n</code></pre>\n\n<p>You also need to have an <code>id</code> attribute with the name <code>EntitiesGrid</code> on the kendo-grid directive.</p>\n"}], "owner": {"reputation": 1264, "user_id": 1312949, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/458c33c95f57858d966b9618d72fb889?s=128&d=identicon&r=PG", "display_name": "Byron", "link": "https://stackoverflow.com/users/1312949/byron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2160, "favorite_count": 0, "accepted_answer_id": 32785822, "answer_count": 1, "score": 1, "last_activity_date": 1443195511, "creation_date": 1443193633, "question_id": 32785240, "link": "https://stackoverflow.com/questions/32785240/kendo-grid-get-selected-row-and-assign-to-local-variable", "title": "Kendo Grid get selected row and assign to local variable", "body": "<p>I am using a Kendo Grid with AngularJs and TypeScript. I am able to get the selected row but I cannot assign the result to a local variable as it seems to run in a different scope.</p>\n\n<p>My grid has the following properties:</p>\n\n<pre><code>this.gridOptions = {\n    dataSource: {\n      data: this.items,\n      pageSize: 10\n    },\n    selectable: 'row',\n    filterable: {\n      mode: 'row'\n    },\n    change: this.onItemSelect,\n...\n}\n</code></pre>\n\n<p>The typescript function is as follows:<br/></p>\n\n<pre><code>onItemSelect(kendoEvent : any) {\n  var grid = kendoEvent.sender;\n  this.selectedItem = grid.dataItem(grid.select());\n}\n</code></pre>\n\n<p>selectedItem is defined in my Controller class:</p>\n\n<pre><code>export class ServicePackageModalController {\nprivate selectedItem : any;\n ...\n}\n</code></pre>\n\n<p>The problem is the this.selectedItem is undefined when I check it in another button event later on. I assume this is because the scope is different when the function gets called in the Kendo Grid, so 'this' means something else and not my controller class:</p>\n\n<pre><code>handleNext() {\n console.debug(this.selectedItem) //this is undefined here?\n}\n</code></pre>\n\n<p>So my question is how do I assign this result to my controller class so I can access it later on?</p>\n"}, {"tags": ["jquery", "typescript", "typescript1.6"], "answers": [{"tags": [], "owner": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "is_accepted": false, "score": 3, "last_activity_date": 1443185676, "last_edit_date": 1592644375, "creation_date": 1443185676, "answer_id": 32782704, "question_id": 32781977, "link": "https://stackoverflow.com/questions/32781977/typescript-not-allowing-comparison-between-data-and-numbers-string/32782704#32782704", "title": "TypeScript not allowing comparison between .data() and numbers/string", "body": "<p>It is look like a bug. I have just reviewed <a href=\"https://github.com/borisyankov/DefinitelyTyped/blob/master/jquery/jquery.d.ts#L1547\" rel=\"nofollow noreferrer\">jQuery.d.ts</a> file and found your return type, but for another method overloading.</p>\n<h2>Solution</h2>\n<p>Just try to add <code>&lt;any&gt;</code> above your method call:</p>\n<pre><code>var dataValue = &lt;any&gt;$(&quot;#myDiv&quot;).data(&quot;div-index&quot;);\n\nif(dataValue === 0)\n{\n    alert(&quot;first item&quot;);\n}\n</code></pre>\n<p>and this case would be work for you</p>\n<h2>Additional Case</h2>\n<p>Also you can report this issue on official <a href=\"https://github.com/Microsoft/TypeScript/issues/new\" rel=\"nofollow noreferrer\">TypeScript</a> issue thread and <a href=\"https://github.com/borisyankov/DefinitelyTyped/issues/new\" rel=\"nofollow noreferrer\">DefinitelyTyped</a> issue thread</p>\n"}, {"tags": [], "owner": {"reputation": 4275, "user_id": 2952809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/77rB9.jpg?s=128&g=1", "display_name": "Philip Bijker", "link": "https://stackoverflow.com/users/2952809/philip-bijker"}, "is_accepted": false, "score": 1, "last_activity_date": 1443189638, "creation_date": 1443189638, "answer_id": 32783931, "question_id": 32781977, "link": "https://stackoverflow.com/questions/32781977/typescript-not-allowing-comparison-between-data-and-numbers-string/32783931#32783931", "title": "TypeScript not allowing comparison between .data() and numbers/string", "body": "<p>Actually, according to <a href=\"https://github.com/borisyankov/DefinitelyTyped/blob/master/jquery/jquery.d.ts#L1553\" rel=\"nofollow\">jQuery.d.ts</a> the call to <code>$(\"#myDiv\").data(\"div-index\")</code> is returning type <code>&lt;any&gt;</code>.</p>\n\n<p>Could it be, that the value you've stored in the element is actually a jQuery object?</p>\n"}, {"comments": [{"owner": {"reputation": 1155, "user_id": 4129151, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0e248a1c1956e63df9e2d4006301f652?s=128&d=identicon&r=PG&f=1", "display_name": "Frayt", "link": "https://stackoverflow.com/users/4129151/frayt"}, "edited": false, "score": 0, "creation_date": 1443194908, "post_id": 32783966, "comment_id": 53409975, "body": "As someone not familiar with git, how will I know what version (if any) this change is in? The same package is listed as having the latest stable version of 2.2.9 in NuGet."}, {"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "reply_to_user": {"reputation": 1155, "user_id": 4129151, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0e248a1c1956e63df9e2d4006301f652?s=128&d=identicon&r=PG&f=1", "display_name": "Frayt", "link": "https://stackoverflow.com/users/4129151/frayt"}, "edited": false, "score": 0, "creation_date": 1443195115, "post_id": 32783966, "comment_id": 53410118, "body": "@Frayt it&#39;s fixed in that NuGet package. I just checked."}], "tags": [], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "is_accepted": true, "score": 2, "last_activity_date": 1443190566, "last_edit_date": 1443190566, "creation_date": 1443189726, "answer_id": 32783966, "question_id": 32781977, "link": "https://stackoverflow.com/questions/32781977/typescript-not-allowing-comparison-between-data-and-numbers-string/32783966#32783966", "title": "TypeScript not allowing comparison between .data() and numbers/string", "body": "<p>Upgrade to the latest version of <code>jquery.d.ts</code>. I noticed this too. There was a bug that would make it use <code>data(obj: { [key: string]: any; }): JQuery;</code> instead of <code>.data(key: string): any</code>. It was fixed in <a href=\"https://github.com/borisyankov/DefinitelyTyped/commit/1d6c126e8ead25892ded5a32df2e813ffad06905#diff-ef3bb11c6dc0a0d1083ee170370ff1df\" rel=\"nofollow\">this commit</a>.</p>\n\n<p>Once you upgrade and <code>data(key: string)</code>'s return type is <code>any</code>, you can tell the compiler you know it's going to be a number by using a type assertion:</p>\n\n<pre><code>var dataValue = $(\"#myDiv\").data(\"div-index\") as number;\n\nif (dataValue === 0)\n{\n    alert(\"first item\");\n}\n</code></pre>\n"}], "owner": {"reputation": 1155, "user_id": 4129151, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0e248a1c1956e63df9e2d4006301f652?s=128&d=identicon&r=PG&f=1", "display_name": "Frayt", "link": "https://stackoverflow.com/users/4129151/frayt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2244, "favorite_count": 0, "accepted_answer_id": 32783966, "answer_count": 3, "score": 2, "last_activity_date": 1443190566, "creation_date": 1443183232, "question_id": 32781977, "link": "https://stackoverflow.com/questions/32781977/typescript-not-allowing-comparison-between-data-and-numbers-string", "title": "TypeScript not allowing comparison between .data() and numbers/string", "body": "<p>Due to the strongly typed nature of typescript it seems to have issues when comparing the result of a jQuery .data() call and a simple type like a number of string.</p>\n\n<p>For example:</p>\n\n<pre><code>var dataValue = $(\"#myDiv\").data(\"div-index\");\n\nif(dataValue === 0)\n{\n    alert(\"first item\");\n}\n</code></pre>\n\n<p>The above will yield an error of <code>Operator '===' cannot be applied to types 'JQuery' and 'number'.</code></p>\n\n<p>TypeScript sees the result of <code>.data()</code> as type JQuery and so evaluations between that, as expected with a complex type, is not possible.</p>\n\n<p>The only workaround so far is to call <code>.toString()</code> on the end of the <code>.data()</code> call, however this means modifying all current <code>.data()</code> calls and their comparisons. This also makes numeric comparison such as <code>&gt;</code> impossible as we cannot compare between a string and number.</p>\n\n<p>This issue only seems to be occurring after updating to TypeScript 1.6.</p>\n"}, {"tags": ["c#", "asp.net", "razor", "typescript"], "comments": [{"owner": {"reputation": 2759, "user_id": 853593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9440369320e812d37e1ff8443889e08?s=128&d=identicon&r=PG", "display_name": "Adam Moszczy\u0144ski", "link": "https://stackoverflow.com/users/853593/adam-moszczy%c5%84ski"}, "edited": false, "score": 2, "creation_date": 1443163672, "post_id": 32776081, "comment_id": 53391254, "body": "Thats an interesting idea, still do you really believe that people using typescript would like to put all their code between script tags on the page? Would it also compile the referenced typescript code? Experience shows that compiling big typescript projects takes time. Compiling everything on the fly might impact the page load time."}, {"owner": {"reputation": 1029, "user_id": 2598575, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0ed2193a67a1315c22560fabd224897f?s=128&d=identicon&r=PG", "display_name": "Alexey Kulikov", "link": "https://stackoverflow.com/users/2598575/alexey-kulikov"}, "reply_to_user": {"reputation": 2759, "user_id": 853593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9440369320e812d37e1ff8443889e08?s=128&d=identicon&r=PG", "display_name": "Adam Moszczy\u0144ski", "link": "https://stackoverflow.com/users/853593/adam-moszczy%c5%84ski"}, "edited": false, "score": 0, "creation_date": 1443167232, "post_id": 32776081, "comment_id": 53393019, "body": "As I know razor caches compiled pages. An it still possible to create a custom cache for compiled scripts."}], "answers": [{"comments": [{"owner": {"reputation": 3871, "user_id": 3230660, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/29f551a13ae21ff60c572e5dab5b267d?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/3230660/sam"}, "edited": false, "score": 0, "creation_date": 1443398457, "post_id": 32813946, "comment_id": 53464628, "body": "Why is it that when a product is out of favor than using it causes a &quot;tight link&quot; i.e. &quot;Don&#39;t use product x it causes a tight linkage.  Use product y instead.&quot;  Like product y itself does not introduce any less of a dependency.  So what if VS does in fact introduce a linkage or a dependency.  Whatever happened to evaluating products on a cost/benefit basis and using the ones with the most net benefit?  Razor is an awesome engine I would love to see it extended."}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 3871, "user_id": 3230660, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/29f551a13ae21ff60c572e5dab5b267d?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/3230660/sam"}, "edited": false, "score": 0, "creation_date": 1443399300, "post_id": 32813946, "comment_id": 53464774, "body": "Agreed, but having more OSS support (and already documented workflow) is a definite thing to consider, that&#39;s all I am saying \ud83c\udf39"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1443397028, "creation_date": 1443397028, "answer_id": 32813946, "question_id": 32776081, "link": "https://stackoverflow.com/questions/32776081/customize-asp-net-razor-engine/32813946#32813946", "title": "Customize Asp net Razor engine", "body": "<blockquote>\n  <p>So is it possible to extend razor engine this way?  Where I can read about it?</p>\n</blockquote>\n\n<p>Yes. But there aren't official docs for it, however it is open source : <a href=\"https://github.com/aspnet/Mvc\" rel=\"nofollow\">https://github.com/aspnet/Mvc</a> </p>\n\n<h2>Side note</h2>\n\n<p>Recommend you don't go down this path: </p>\n\n<ul>\n<li>too tightly linked to VS </li>\n<li>Not where the community is already at (use something like <a href=\"http://webpack.github.io/docs/\" rel=\"nofollow\">http://webpack.github.io/docs/</a>)</li>\n</ul>\n"}], "owner": {"reputation": 1029, "user_id": 2598575, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0ed2193a67a1315c22560fabd224897f?s=128&d=identicon&r=PG", "display_name": "Alexey Kulikov", "link": "https://stackoverflow.com/users/2598575/alexey-kulikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1443397028, "creation_date": 1443162363, "question_id": 32776081, "link": "https://stackoverflow.com/questions/32776081/customize-asp-net-razor-engine", "title": "Customize Asp net Razor engine", "body": "<p>I have an idea to extend standard razor engine and add a support of typescript processing. It will work very simple. We will just write typescript code in <code>&lt;script language=\"typescript\"&gt;</code> tag. Then razor crawl the page it standard process all <code>@</code> (C#) statements and then compile typescript in <code>&lt;script language=\"typescript\"&gt;</code> tags and replace it with output <code>javascript</code> code. So is it possible to extend razor engine this way? Where I can read about it? The second step is add typescript syntax support for VS editor. But it will be in future now I have an interest  for first question. Thanks.</p>\n"}, {"tags": ["asp.net", "asp.net-mvc", "asp.net-mvc-5", "typescript", "bundle"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1577147753, "last_edit_date": 1577147753, "creation_date": 1443138638, "answer_id": 32772717, "question_id": 32772564, "link": "https://stackoverflow.com/questions/32772564/using-typescript-in-mvc5-application-and-do-a-bundle-like-compilation/32772717#32772717", "title": "Using typescript in MVC5 application and do a bundle like compilation", "body": "<blockquote>\n  <p>Does anyone has a solution which could achieve this behaviour with a \"compile on save\" behaviour?</p>\n</blockquote>\n\n<p>Overview of how you <em>could</em> (and I recommend) do it:</p>\n\n<ul>\n<li>Use external modules. Compile with <code>--module commonjs</code>. (<a href=\"https://github.com/TypeStrong/atom-typescript/blob/master/docs/out.md\" rel=\"nofollow noreferrer\">reasons why out is bad</a>)</li>\n<li>Use webpack <a href=\"https://webpack.github.io/\" rel=\"nofollow noreferrer\">https://webpack.github.io/</a> with <em>code splitting</em> : <a href=\"https://webpack.js.org/guides/code-splitting/\" rel=\"nofollow noreferrer\">https://webpack.js.org/guides/code-splitting/</a> (this is how instagram.com works!)</li>\n</ul>\n\n<p>Compile on save will now <em>be faster!</em> because it only needs to to compile <em>individual files</em> \ud83c\udf39</p>\n"}], "owner": {"reputation": 1148, "user_id": 1377980, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/54d4a30b7c7199ca773736183f2bc508?s=128&d=identicon&r=PG", "display_name": "coalmee", "link": "https://stackoverflow.com/users/1377980/coalmee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 604, "favorite_count": 0, "accepted_answer_id": 32772717, "answer_count": 1, "score": 0, "last_activity_date": 1577147753, "creation_date": 1443137524, "question_id": 32772564, "link": "https://stackoverflow.com/questions/32772564/using-typescript-in-mvc5-application-and-do-a-bundle-like-compilation", "title": "Using typescript in MVC5 application and do a bundle like compilation", "body": "<p>I'm new to TypeScript and asked myself if it's possible to configure compilation of TypeScript like minification/bundling with JavaScript and the BundleConfig in MVC5.</p>\n\n<p>My need is the following:</p>\n\n<p>Before using TypeScript we had two js bundles: \"bundles/external\" and \"bundles/internal\".</p>\n\n<p>The \"internal\" bundle has some logic, which we only want to expose to authenticated users.</p>\n\n<p>But currently the VS TypeScript compiler can only be configured to compile and merge all .ts files into one.</p>\n\n<p>Does anyone has a solution which could achieve this behaviour with a \"compile on save\" behaviour?</p>\n"}, {"tags": ["angularjs", "typescript", "amd"], "answers": [{"comments": [{"owner": {"reputation": 823, "user_id": 2694909, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/bvE50.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/2694909/shawn"}, "edited": false, "score": 0, "creation_date": 1445382965, "post_id": 32921287, "comment_id": 54299048, "body": "For what it is worth I followed this approach and the typescript will not compile complaining that Module jquery has no exported member $ and module angular has no exported member angular (error TS2305)"}, {"owner": {"reputation": 17182, "user_id": 606821, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/X49xe.png?s=128&g=1", "display_name": "Remo H. Jansen", "link": "https://stackoverflow.com/users/606821/remo-h-jansen"}, "reply_to_user": {"reputation": 823, "user_id": 2694909, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/bvE50.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/2694909/shawn"}, "edited": false, "score": 1, "creation_date": 1445388523, "post_id": 32921287, "comment_id": 54300338, "body": "Try with the old syntax for import with  <code>import $ = require(&quot;jquery&quot;);</code> and <code>import $ = require(&quot;angular&quot;);</code> and export <code>export = A;</code>"}, {"owner": {"reputation": 17182, "user_id": 606821, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/X49xe.png?s=128&g=1", "display_name": "Remo H. Jansen", "link": "https://stackoverflow.com/users/606821/remo-h-jansen"}, "reply_to_user": {"reputation": 823, "user_id": 2694909, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/bvE50.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/2694909/shawn"}, "edited": false, "score": 0, "creation_date": 1445388632, "post_id": 32921287, "comment_id": 54300351, "body": "Many <code>.d.ts</code> files are not ready to work with the ES6 syntax maybe that is the  problem"}, {"owner": {"reputation": 823, "user_id": 2694909, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/bvE50.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/2694909/shawn"}, "edited": false, "score": 0, "creation_date": 1445388735, "post_id": 32921287, "comment_id": 54300375, "body": "While I have your attention is there a good way to get angularjs and all custom code part of the same javascript output file?  Module loaders for amd (require) or commonjs (browserify) do not seem to behave well for me.  I got browserify working today but then the sourcemaps to the TS were broke, it has been one problem after another."}, {"owner": {"reputation": 17182, "user_id": 606821, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/X49xe.png?s=128&g=1", "display_name": "Remo H. Jansen", "link": "https://stackoverflow.com/users/606821/remo-h-jansen"}, "reply_to_user": {"reputation": 823, "user_id": 2694909, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/bvE50.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/2694909/shawn"}, "edited": false, "score": 0, "creation_date": 1445388918, "post_id": 32921287, "comment_id": 54300410, "body": "You can use <a href=\"http://www.codebelt.com/typescript/typescript-internal-and-external-modules/\" rel=\"nofollow noreferrer\">internal modules</a> Working with modules and Browserify can be complicated, I understand your frustration but I would encourage you too keep researching and learning until it works because it is technically more correct than using internal modules."}, {"owner": {"reputation": 227, "user_id": 809042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91e706c894ff755891aff516790e2547?s=128&d=identicon&r=PG", "display_name": "Karvapallo", "link": "https://stackoverflow.com/users/809042/karvapallo"}, "edited": false, "score": 0, "creation_date": 1480978671, "post_id": 32921287, "comment_id": 69179373, "body": "The old syntax <code>import angular = require(&#39;angular&#39;)</code> worked for me."}, {"owner": {"reputation": 1338, "user_id": 679716, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/a7637c5bf72c472e5e28438b6de21998?s=128&d=identicon&r=PG", "display_name": "Jens Bodal", "link": "https://stackoverflow.com/users/679716/jens-bodal"}, "edited": false, "score": 4, "creation_date": 1490215702, "post_id": 32921287, "comment_id": 73018841, "body": "Installed <code>@types&#47;angular</code> via npm then used <code>import * as angular from &#39;angular&#39;;</code>"}], "tags": [], "owner": {"reputation": 17182, "user_id": 606821, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/X49xe.png?s=128&g=1", "display_name": "Remo H. Jansen", "link": "https://stackoverflow.com/users/606821/remo-h-jansen"}, "is_accepted": false, "score": 4, "last_activity_date": 1480984292, "last_edit_date": 1480984292, "creation_date": 1443866750, "answer_id": 32921287, "question_id": 32770119, "link": "https://stackoverflow.com/questions/32770119/importing-angularjs-into-typescript-as-amd/32921287#32921287", "title": "Importing AngularJS Into Typescript as AMD", "body": "<p>You need to:</p>\n\n<p>Install type definitions for dependencies:</p>\n\n<pre><code>tsd install angular jquery --save\n</code></pre>\n\n<p>Install dependencies using npm:</p>\n\n<pre><code>npm init\nnpm install angular jquery --save\n</code></pre>\n\n<p>This means that your dependencies will not be under the <code>lib</code> folder. They will be under the <code>node_modules</code> folder.</p>\n\n<p>Your <code>/typings/tsd.d.ts</code> file needs to contain references to all your dependencies:</p>\n\n<pre><code>/// &lt;reference path=\"./jquery/jquery.d.ts\"/&gt;\n/// &lt;reference path=\"./angular/angular.d.ts\"/&gt;\n</code></pre>\n\n<p>Then you can reference the <code>/typings/tsd.d.ts</code> from your modules:</p>\n\n<pre><code>/// &lt;reference path=\"../typings/tsd.d.ts\"/&gt;\n\nimport { $ } from \"jquery\";\nimport { angular } from \"angular\";\n\nclass A {\n  public add(number1:number, number2:number):number{\n    return number1+number2;\n  }\n\n  public colorBG():void{\n    var app = angular.module('myapp',[]);\n    $(\"body\").css({\"background-color\":\"black\"})\n  }\n}\n\nexport { A };\n</code></pre>\n\n<p>Since TypeScript 1.5 you should use the <a href=\"http://www.2ality.com/2014/09/es6-modules-final.html\" rel=\"nofollow noreferrer\">ES6 module syntax</a>.</p>\n\n<h2>Update</h2>\n\n<p>Since 2.0 the recomended solution is npm:</p>\n\n<pre><code>$ npm install jquery --save\n$ npm install @types/jquery --save-dev\n</code></pre>\n\n<p>Typings and tsd are no longer required.</p>\n"}], "owner": {"reputation": 823, "user_id": 2694909, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/bvE50.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/2694909/shawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11717, "favorite_count": 2, "answer_count": 1, "score": 5, "last_activity_date": 1532177404, "creation_date": 1443125694, "question_id": 32770119, "link": "https://stackoverflow.com/questions/32770119/importing-angularjs-into-typescript-as-amd", "title": "Importing AngularJS Into Typescript as AMD", "body": "<p>I am trying to follow the <a href=\"https://github.com/abogartz/typescript-amd-gulp-example\" rel=\"noreferrer\">tutorial</a> on github to stup a build process for typescript and angularjs.  I have to be honest I am really struggling.  I took the project from github and added angularjs to the bower file, the typings and the lib directory with the angular.ts file (following how JQuery was setup):</p>\n\n<pre><code>/// &lt;reference path=\"../typings/tsd.d.ts\"/&gt;\n\nvar angular= angular;\nexport = angular;\n</code></pre>\n\n<p>Unfortunately, when I attempt the following I have no luck in getting my app module registered:</p>\n\n<pre><code>import JQuery = require(\"../lib/JQuery\");\nimport angular = require(\"../lib/angular\");\n\nclass A{\n  public add(number1:number, number2:number):number{\n    return number1+number2;\n  }\n\n  public colorBG():void{\n    var app = angular.module('myapp',[]);\n    $(\"body\").css({\"background-color\":\"black\"})\n  }\n}\n\nexport = A;\n</code></pre>\n\n<p>I am seeing conflicting information online about this being type of import for angular not being possible as an AMD but the definitely typed typing file has it exported as an AMD so what gives?  The gulp build process completes successfully but the call to angular.module complains it is not a function in the chrome console.  Is there a trick to getting angular into typescript so I can concatenate one output file for my html?  I have tried requirejs for AMD, tsify/browserify for commonjs and I cannot get either to work.  Thanks in advance for any guidance.</p>\n"}, {"tags": ["javascript", "html", "typescript", "dust.js"], "comments": [{"owner": {"reputation": 7849, "user_id": 576396, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8371065173a6c6bc169a4694c4fa2b50?s=128&d=identicon&r=PG", "display_name": "Katana314", "link": "https://stackoverflow.com/users/576396/katana314"}, "edited": false, "score": 0, "creation_date": 1443125817, "post_id": 32769814, "comment_id": 53379307, "body": "Sorry, deleted my answer as it doesn&#39;t quite match what you wanted. I don&#39;t think TypeScript has typing mechanisms that work with existing modules. For that matter, it could be that what you want is just a <code>.ts</code> file, not a definitions file; because you want this actual module to be available under that name (not just to appear to be under that name)."}, {"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "reply_to_user": {"reputation": 7849, "user_id": 576396, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8371065173a6c6bc169a4694c4fa2b50?s=128&d=identicon&r=PG", "display_name": "Katana314", "link": "https://stackoverflow.com/users/576396/katana314"}, "edited": false, "score": 0, "creation_date": 1443126190, "post_id": 32769814, "comment_id": 53379490, "body": "This works fine for me to compile. How are you compiling this and what errors are you getting? Are they runtime errors because there is no runtime js file in addition to <code>dustjs-helpers.d.ts</code>? If so, you&#39;re probably looking for what @Katana314 mentioned and you should create a file called <code>dustjs-helpers.ts</code> then import and export &quot;dustjs-linkedin&quot; in there."}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 2, "last_activity_date": 1443144792, "creation_date": 1443144792, "answer_id": 32773421, "question_id": 32769814, "link": "https://stackoverflow.com/questions/32769814/how-to-create-a-d-ts-file-that-exports-an-existing-module/32773421#32773421", "title": "How to create a .d.ts file that exports an existing module?", "body": "<p>A bit involved but I have verified that this works: </p>\n\n<pre><code>declare module \"dustjs-helpers\" {\n    import dust = require(\"dustjs-linkedin\")    \n\n    // Bring into a type\n    type Dust = typeof dust;\n\n    // Specify extensions\n    type Extensions = {\n        anotherFunc : Function;\n    }\n\n    // Combine types\n    type DustExtended = Dust &amp; Extensions;\n\n    // Create var for export\n    var dustExtended: DustExtended;\n\n    // Export\n    export = dustExtended;\n}\n</code></pre>\n"}], "owner": {"reputation": 609, "user_id": 4228664, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b96263186947c0289fb8f4fb4d82050d?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Addleman", "link": "https://stackoverflow.com/users/4228664/jason-addleman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 404, "favorite_count": 0, "accepted_answer_id": 32773421, "answer_count": 1, "score": 0, "last_activity_date": 1443144792, "creation_date": 1443124420, "question_id": 32769814, "link": "https://stackoverflow.com/questions/32769814/how-to-create-a-d-ts-file-that-exports-an-existing-module", "title": "How to create a .d.ts file that exports an existing module?", "body": "<p>I am using both <code>dust.js</code> (specifically, dustjs-linkedin) and <code>dustjs-helpers</code> in my TypeScript project. I got the typings for dustjs-linkedin off of definitelyTyped, but I am having trouble with the dustjs-helpers. Pretty much, I just want to declare a module called <code>dustjs-helpers</code> and have it correctly export the <code>dustjst-linkedin</code> module. That means that any time you call <code>import helpers = require('dustjs-helpers');</code> you should be able to access all of the functions that regular dust uses by default.</p>\n\n<p>Dust's typings file declares its module as following: <code>declare module \"dustjs-linkedin\" { ... }</code>. I was hoping that I could do something like the following, but I get errors...</p>\n\n<pre><code>/// &lt;reference path=\"../dustjs-linkedin/dustjs-linkedin.d.ts\" /&gt;\n\ndeclare module \"dustjs-helpers\" {\n    import dust = require(\"dustjs-linkedin\")\n    export = dust;\n}\n</code></pre>\n\n<p>Can anyone help me out?</p>\n"}, {"tags": ["visual-studio", "cordova", "typescript", "ionic"], "answers": [{"tags": [], "owner": {"reputation": 119, "user_id": 2533925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2227c61318ca649df21e8d9e435c660?s=128&d=identicon&r=PG", "display_name": "Trygve Skogsholm", "link": "https://stackoverflow.com/users/2533925/trygve-skogsholm"}, "is_accepted": true, "score": 1, "last_activity_date": 1443124237, "last_edit_date": 1495540702, "creation_date": 1443124237, "answer_id": 32769766, "question_id": 32765239, "link": "https://stackoverflow.com/questions/32765239/typescript-1-6-ionic-error-ts2322-build-type-is-not-assignable-to-type-iactions/32769766#32769766", "title": "TypeScript 1.6 Ionic error TS2322 Build Type is not assignable to type &#39;IActionSheetOptions&#39;", "body": "<p>This is of the same type of problem addressed <a href=\"https://stackoverflow.com/questions/31816061/why-am-i-getting-an-error-object-literal-may-only-specify-known-properties\">here</a>.</p>\n\n<p>This seems to be a reversal of 'type compatibility' premise, but discussing that won't solve the problem.</p>\n\n<p>The easiest solution is to make sure your ionic.d.ts file is complete. There is <a href=\"https://github.com/borisyankov/DefinitelyTyped/tree/master/ionic\" rel=\"nofollow noreferrer\">a version on definitely typed</a> currently that does contain a property for cssClass in action sheet options, however it is not a direct descendant of the .d.ts file you are currently using and this will imply some refactoring.</p>\n\n<p>For example the action sheet options is <i>ionic.actionSheet.IonicActionsheetOptions</i> <b>not</b> <i>Ionic.IActionSheetOptions</i>.</p>\n\n<p>Another option would be to extend the interface on your own by saying interface MyActionSheetOptions extends Ionic.IActionSheetOptions, then define cssClass.</p>\n\n<p>This seems incorrect to me as it's not a true subset but merely trying to fix gaps in the ionic definition file.</p>\n"}], "owner": {"reputation": 319, "user_id": 835475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c35bbadcc4395d5381730718ecd34a61?s=128&d=identicon&r=PG", "display_name": "Gunnar", "link": "https://stackoverflow.com/users/835475/gunnar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1228, "favorite_count": 0, "accepted_answer_id": 32769766, "answer_count": 1, "score": 2, "last_activity_date": 1443124237, "creation_date": 1443108336, "question_id": 32765239, "link": "https://stackoverflow.com/questions/32765239/typescript-1-6-ionic-error-ts2322-build-type-is-not-assignable-to-type-iactions", "title": "TypeScript 1.6 Ionic error TS2322 Build Type is not assignable to type &#39;IActionSheetOptions&#39;", "body": "<p>I updated Visual Studio 2015 to TypeScript 1.6 and my Apache Cordova application broke. I'm getting errors with Ionic UIActionSheet Options cssClass.  For example, the line:</p>\n\n<p><code>cssClass: \"class_action_sheet\"</code></p>\n\n<p>results in the error: TS2322 Build Type is not assignable to type 'IActionSheetOptions'.</p>\n\n<p>I tried to add a flag to the project file to suppress the new strictness, but either I added it wrong, or it can't be fixed that way.</p>\n\n<p>Any help would be greatly appreciated.</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 7603, "user_id": 941319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f8f456a2f35fc05e048e45ba55be48a?s=128&d=identicon&r=PG", "display_name": "thoughtrepo", "link": "https://stackoverflow.com/users/941319/thoughtrepo"}, "is_accepted": false, "score": 1, "last_activity_date": 1443115824, "creation_date": 1443115824, "answer_id": 32767488, "question_id": 32764707, "link": "https://stackoverflow.com/questions/32764707/getting-the-class-name-of-an-enum-in-typescript/32767488#32767488", "title": "Getting the class name of an Enum in Typescript", "body": "<p>Nope, there's nothing built into the language that allows you to get the name of an enum at runtime.</p>\n\n<p>However, I used the following method to do it:</p>\n\n<pre><code>namespace MyEnums {\n\n    export enum Color { RED, BLUE, GREEN };\n\n    export enum Shape { ROUND, SQUARE };\n\n    export function getName(enumObj: any): string {\n\n        for (let name in MyEnums) {\n            if ( MyEnums[name] === enumObj &amp;&amp; MyEnums.hasOwnProperty(name) ) {\n                return name;\n            }\n        }\n\n        return undefined;\n    }\n}\n\nconst Color = MyEnums.Color;\n\nvar name = MyEnums.getName(Color);\n</code></pre>\n\n<p>Although, I ended up refactoring my code so I wouldn't need to get the names in the end.</p>\n"}, {"tags": [], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "is_accepted": false, "score": 1, "last_activity_date": 1496760182, "last_edit_date": 1496760182, "creation_date": 1443116392, "answer_id": 32767643, "question_id": 32764707, "link": "https://stackoverflow.com/questions/32764707/getting-the-class-name-of-an-enum-in-typescript/32767643#32767643", "title": "Getting the class name of an Enum in Typescript", "body": "<p>It might be easier to make the file you store your strings in a TypeScript file and then use the actual enum\u2014<code>Color</code>\u2014to do the mapping.</p>\n\n<p>With that said...</p>\n\n<blockquote>\n  <p>Is there any way of getting the string \"Color\" from the run time javascript definition of Color?</p>\n</blockquote>\n\n<p>A reliable solution is to use something like <a href=\"https://github.com/dsherret/ts-nameof\" rel=\"nofollow noreferrer\">ts-nameof</a>.</p>\n\n<p>Alternatively, you can use a similar trick that's outlined in <a href=\"https://stackoverflow.com/a/32542368/188246\">this answer</a>:</p>\n\n<pre><code>function getVariableName(variableFunction: () =&gt; any) {\n    return /\\s([^\\s;]+);?\\s*\\}$/.exec(variableFunction.toString())[1];\n}\n\nvar variableName = getVariableName(() =&gt; Color); // returns string \"Color\"\n</code></pre>\n\n<p>This wraps Color in a function then calls <code>.toString()</code> on that function. Using that string it will extract out only the name provided.</p>\n\n<p>Just make sure you test to see if this works after being minified.</p>\n"}], "owner": {"reputation": 3886, "user_id": 151770, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bc6adfcfa50a3695878cfa3a089eb2be?s=128&d=identicon&r=PG", "display_name": "Roaders", "link": "https://stackoverflow.com/users/151770/roaders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3637, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1496760182, "creation_date": 1443106856, "question_id": 32764707, "link": "https://stackoverflow.com/questions/32764707/getting-the-class-name-of-an-enum-in-typescript", "title": "Getting the class name of an Enum in Typescript", "body": "<p>I have some enums in my Typescript application and I use code similar to this to get the string value to display in the application:</p>\n\n<pre><code>enum Color{ RED, BLUE, GREEN};\n\ndocument.write( \"The string for Red is: \" + Color[Color.RED] );\n</code></pre>\n\n<p>However, the string value is usually more along the lines of a database key or some other server related string rather than a nicely formatted string fit for display to the user.\nTo get round this I want to load localised property files that use the string value of an enum to look up a nicely formatted string to display in the application. The file might look like this:</p>\n\n<pre><code>Color.properties:\nRED=The color is red\nBLUE=The color is blue\nGREEN=The color is green\n</code></pre>\n\n<p>I am confident that I can load this file and parse the contents to populate some lookup for later display in the application but I am not sure about how to know which property file to load.\nFor the following enums</p>\n\n<pre><code>Color\nShape\nAnimal\n</code></pre>\n\n<p>I will have the following property files:</p>\n\n<pre><code>Color.properties\nShape.properties\nAnimal.properties\n</code></pre>\n\n<p>My question is: Is there any way of getting the string \"Color\" from the run time javascript definition of Color?\nThe Typescript code for Color gets transpiled into:</p>\n\n<pre><code>var Color;\n(function (Color) {\n    Color[Color[\"RED\"] = 0] = \"RED\";\n    Color[Color[\"BLUE\"] = 1] = \"BLUE\";\n    Color[Color[\"GREEN\"] = 2] = \"GREEN\";\n})(Color || (Color = {}));\n</code></pre>\n\n<p>I don't think that I can get the String Color out of that in any easy way. I assume that I am just going to have to use switch expression to lookup the name of the file.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 4027, "user_id": 125651, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0a8e64e5c2a6c86650efe9802d8f9262?s=128&d=identicon&r=PG", "display_name": "Rajeesh", "link": "https://stackoverflow.com/users/125651/rajeesh"}, "edited": false, "score": 0, "creation_date": 1443106649, "post_id": 32763068, "comment_id": 53368310, "body": "Please provide the error message"}, {"owner": {"reputation": 1, "user_id": 5370983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02efa46e50137b16058f3c376bf3f7b6?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Singh", "link": "https://stackoverflow.com/users/5370983/ankit-singh"}, "reply_to_user": {"reputation": 4027, "user_id": 125651, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0a8e64e5c2a6c86650efe9802d8f9262?s=128&d=identicon&r=PG", "display_name": "Rajeesh", "link": "https://stackoverflow.com/users/125651/rajeesh"}, "edited": false, "score": 0, "creation_date": 1443420040, "post_id": 32763068, "comment_id": 53469191, "body": "thanks for your answer. I checked with your solution, but I am still getting an error. The error is &quot;Cannot find external module &#39;BaseBundle&#39;.&quot;  Below is the code that I have written.  &lt;code&gt;/// &lt;reference path=&quot;src/main/ts/bundles/BaseBundle.ts&quot; /&gt;  &lt;code&gt;import BaseBundle = require(&quot;BaseBundle&quot;);  I am getting the above error on the import statement."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5370983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02efa46e50137b16058f3c376bf3f7b6?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Singh", "link": "https://stackoverflow.com/users/5370983/ankit-singh"}, "edited": false, "score": 0, "creation_date": 1443419614, "post_id": 32764737, "comment_id": 53469054, "body": "thanks for your answer. I checked with your solution, but I am still getting an error. The error is &quot;Cannot find external module &#39;BaseBundle&#39;.&quot; Below is the code that I have written. &#39;code&#39; /// &lt;reference path=&quot;src/main/ts/bundles/BaseBundle.ts&quot; /&gt;  import BaseBundle = require(&quot;BaseBundle&quot;); &#39;code&#39;  I am getting the above error on the import statement."}, {"owner": {"reputation": 1, "user_id": 5370983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02efa46e50137b16058f3c376bf3f7b6?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Singh", "link": "https://stackoverflow.com/users/5370983/ankit-singh"}, "edited": false, "score": 0, "creation_date": 1443420016, "post_id": 32764737, "comment_id": 53469180, "body": "thanks for your answer. I checked with your solution, but I am still getting an error. The error is &quot;Cannot find external module &#39;BaseBundle&#39;.&quot;  Below is the code that I have written.  &lt;code&gt;/// &lt;reference path=&quot;src/main/ts/bundles/BaseBundle.ts&quot; /&gt;  &lt;code&gt;import BaseBundle = require(&quot;BaseBundle&quot;);  I am getting the above error on the import statement."}, {"owner": {"reputation": 50, "user_id": 4927833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23d20d4d8c204115f238247561da2229?s=128&d=identicon&r=PG&f=1", "display_name": "rmbl", "link": "https://stackoverflow.com/users/4927833/rmbl"}, "reply_to_user": {"reputation": 1, "user_id": 5370983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02efa46e50137b16058f3c376bf3f7b6?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Singh", "link": "https://stackoverflow.com/users/5370983/ankit-singh"}, "edited": false, "score": 0, "creation_date": 1443515428, "post_id": 32764737, "comment_id": 53513306, "body": "I edited my answer. If there is still this error, please give us information on wich part of the code (e.g.: wrong reference-path, cannot find BaseBundle in require()) the error occurs."}], "tags": [], "owner": {"reputation": 50, "user_id": 4927833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23d20d4d8c204115f238247561da2229?s=128&d=identicon&r=PG&f=1", "display_name": "rmbl", "link": "https://stackoverflow.com/users/4927833/rmbl"}, "is_accepted": false, "score": 0, "last_activity_date": 1443515169, "last_edit_date": 1443515169, "creation_date": 1443106938, "answer_id": 32764737, "question_id": 32763068, "link": "https://stackoverflow.com/questions/32763068/import-other-ts-files-in-visual-studio/32764737#32764737", "title": "import other ts files in visual studio", "body": "<p>Getting an answer here is hard without any error messages :[ But i'll try since i have not enough reputation to ask for further infos via comment..</p>\n\n<blockquote>\n  <p>/// <code>&lt;.reference path=\"src/main/ts/bundles/BaseBundle.ts\" /&gt;</code></p>\n</blockquote>\n\n<p>try <code>&lt;reference path=\"src/main/ts/bundles/BaseBundle.ts\" /&gt;</code> as you use in Point 4 but without the '.'.</p>\n\n<blockquote>\n  <p>Import BaseBundle = require(\"bundles/BaseBundle\");</p>\n</blockquote>\n\n<p>Should work while you are out of your class. Here is my approach:</p>\n\n<pre><code>    ///&lt;reference path=\"./i1.ts\" /&gt;\n\nimport i1 = require('i1');\n\nclass c1 implements i1.i1{\n//import i1 = require('i1');\n\nconstructor() {\n\n}\n\n}\n</code></pre>\n\n<p>Note: My Interface is called i1. Now the only error i get is, that i have to implement my functions i defined in my interface.</p>\n\n<p>So I have a approach like this and intellisense won't give me an error.</p>\n\n<p>i1.ts:</p>\n\n<pre><code>export interface i1 {\nfktn1();\nfktn2();\n} \n</code></pre>\n\n<p>c1.ts</p>\n\n<pre><code>///&lt;reference path=\"./i1.ts\" /&gt;\n\nimport i1 = require('i1');\n\nclass c1 implements i1.i1{\n    //import i1 = require('i1');\n\n    constructor() {\n\n    }\n\n    fktn1() {\n        //interface function\n    }\n\n    fktn2() {\n        // Interface function\n    }\n\n}\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/Handbook#modules-going-external\" rel=\"nofollow noreferrer\">http://www.typescriptlang.org/Handbook#modules-going-external</a></p>\n\n<p>Hope that makes it more clear for you.</p>\n\n<p>Edit:</p>\n\n<p>Told just the half of the answer: In Visual Studio, go to Prject->YourWebProject-Settings->Typescript-Build and set your Modul System. I took 'AMD'.\n<a href=\"https://i.stack.imgur.com/Qm30D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qm30D.png\" alt=\"Here you can see what I mean\"></a></p>\n\n<p>Also be aware that you have to reference the BaseBundle-class within your variable BaseBundle</p>\n\n<pre><code>    ///&lt;reference path=\"BaseBundle.ts\"/&gt; \n\nimport BaseBundle = require('BaseBundle');\n\nclass blubb implements BaseBundle.BaseBundle {\n\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5370983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02efa46e50137b16058f3c376bf3f7b6?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Singh", "link": "https://stackoverflow.com/users/5370983/ankit-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 324, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1443515169, "creation_date": 1443102462, "last_edit_date": 1443105195, "question_id": 32763068, "link": "https://stackoverflow.com/questions/32763068/import-other-ts-files-in-visual-studio", "title": "import other ts files in visual studio", "body": "<p>In my project, I am importing libraries and everything is loading and I am not getting any errors.</p>\n\n<p>Now I have made few <code>ts</code> files for my project which are consuming the libraries that I have imported. This works by using <code>import</code>.</p>\n\n<p>Now I want to use <code>BaseBundle.ts</code> in <code>Main.ts</code>. How can I do that?</p>\n\n<p>This is what I have tried and have been unsuccessful.</p>\n\n<ol>\n<li><code>import BaseBundle = require(\"src/main/ts/bundles/BaseBundle\");</code></li>\n<li><code>import BaseBundle = require(\"bundles/BaseBundle\");</code></li>\n<li><code>/// &lt;.reference path=\"bundles/BaseBundle.ts\" /&gt;</code></li>\n<li><code>/// &lt;.reference path=\"src/main/ts/bundles/BaseBundle.ts\" /&gt;</code></li>\n</ol>\n\n<p><code>BaseBundle.ts</code> only has an interface name <code>BaseBundle</code>.\nEvery time I'm trying to access <code>BaseBundle</code> in <code>Main.ts</code>, I'm getting an error.</p>\n\n<p>Please help with any suggestions or ideas</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 4938, "user_id": 2538473, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/uQJ0p.png?s=128&g=1", "display_name": "Hacketo", "link": "https://stackoverflow.com/users/2538473/hacketo"}, "edited": false, "score": 2, "creation_date": 1443099541, "post_id": 32761930, "comment_id": 53362970, "body": "<code>0</code> is a falsy value .."}, {"owner": {"reputation": 45516, "user_id": 838807, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/372d495ca83f81cfadb782894ee41b17?s=128&d=identicon&r=PG", "display_name": "musefan", "link": "https://stackoverflow.com/users/838807/musefan"}, "edited": false, "score": 2, "creation_date": 1443101715, "post_id": 32761930, "comment_id": 53364675, "body": "I haven&#39;t posted <a href=\"http://www.codeproject.com/Articles/182416/A-Collection-of-JavaScript-Gotchas\" rel=\"nofollow noreferrer\">this link</a> in a while, but it&#39;s always worth a read for anyone learning/using javascript"}], "answers": [{"comments": [{"owner": {"reputation": 39336, "user_id": 1377002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oDeF7.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/1377002/andy"}, "edited": false, "score": 0, "creation_date": 1443099734, "post_id": 32762013, "comment_id": 53363124, "body": "Don&#39;t forget the <code>radix</code>."}, {"owner": {"reputation": 7864, "user_id": 749657, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/83dc7f749f7b738cb2ad6a6cd3f543f8?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/749657/eric"}, "reply_to_user": {"reputation": 39336, "user_id": 1377002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oDeF7.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/1377002/andy"}, "edited": false, "score": 0, "creation_date": 1443099863, "post_id": 32762013, "comment_id": 53363224, "body": "@Andy, yup totally forgot :)"}, {"owner": {"reputation": 481, "user_id": 2254350, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7b48a32b04e9237933d8b7e53b957a58?s=128&d=identicon&r=PG", "display_name": "Rahul Misra", "link": "https://stackoverflow.com/users/2254350/rahul-misra"}, "edited": false, "score": 0, "creation_date": 1443100398, "post_id": 32762013, "comment_id": 53363624, "body": "Thanks @Eric . As SO lets me accept only one answer, I&#39;ve upvoted your answer."}], "tags": [], "owner": {"reputation": 7864, "user_id": 749657, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/83dc7f749f7b738cb2ad6a6cd3f543f8?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/749657/eric"}, "is_accepted": false, "score": 4, "last_activity_date": 1443099842, "last_edit_date": 1443099842, "creation_date": 1443099591, "answer_id": 32762013, "question_id": 32761930, "link": "https://stackoverflow.com/questions/32761930/typescript-check-a-string-for-number/32762013#32762013", "title": "Typescript : check a string for number", "body": "<p>It's because you are basically testing 0 which is also false.\nYou can do </p>\n\n<pre><code>var n = columnSortSettings[0];\nif(parseInt(n, 10) || n === '0'){\n    //...\n}\n</code></pre>\n\n<p>You can also test instead if it's a number</p>\n\n<pre><code>if(typeof(parseInt(n, 10)) === 'number'){\n  //...\n}\n</code></pre>\n\n<p>But beware cause </p>\n\n<pre><code>typeof Infinity === 'number';\ntypeof NaN === 'number';\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 39336, "user_id": 1377002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oDeF7.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/1377002/andy"}, "edited": false, "score": 0, "creation_date": 1443099729, "post_id": 32762021, "comment_id": 53363121, "body": "Don&#39;t forget the <code>radix</code>."}], "tags": [], "owner": {"reputation": 105827, "user_id": 3037257, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/nq6Zo.jpg?s=128&g=1", "display_name": "Pranav C Balan", "link": "https://stackoverflow.com/users/3037257/pranav-c-balan"}, "is_accepted": true, "score": 9, "last_activity_date": 1443099746, "last_edit_date": 1443099746, "creation_date": 1443099614, "answer_id": 32762021, "question_id": 32761930, "link": "https://stackoverflow.com/questions/32761930/typescript-check-a-string-for-number/32762021#32762021", "title": "Typescript : check a string for number", "body": "<p>Since <code>0</code> is act as false , so you can use <strong><a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/isNaN\" rel=\"noreferrer\"><code>isNaN()</code></a></strong> in this case</p>\n\n<pre><code>var res = parseInt(columnSortSettings[0], 10);\nreturn isNaN(res) ? null : res;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1655, "user_id": 2802802, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/aaf699017716bf13665ae81a7aba1530?s=128&d=identicon&r=PG", "display_name": "Richard Lee", "link": "https://stackoverflow.com/users/2802802/richard-lee"}, "is_accepted": false, "score": 1, "last_activity_date": 1489169918, "creation_date": 1489169918, "answer_id": 42725211, "question_id": 32761930, "link": "https://stackoverflow.com/questions/32761930/typescript-check-a-string-for-number/42725211#42725211", "title": "Typescript : check a string for number", "body": "<p>You can use the <strong>isNumeric</strong> operator from <em>rxjs</em> library (importing rxjs/util/isNumeric</p>\n"}], "owner": {"reputation": 481, "user_id": 2254350, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7b48a32b04e9237933d8b7e53b957a58?s=128&d=identicon&r=PG", "display_name": "Rahul Misra", "link": "https://stackoverflow.com/users/2254350/rahul-misra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11387, "favorite_count": 0, "accepted_answer_id": 32762021, "answer_count": 3, "score": 8, "last_activity_date": 1519056994, "creation_date": 1443099388, "last_edit_date": 1519056994, "question_id": 32761930, "link": "https://stackoverflow.com/questions/32761930/typescript-check-a-string-for-number", "title": "Typescript : check a string for number", "body": "<p>I'm new to web development, and in my function want to check if a given string value is a number. In case the string isn't a valid number I want to return null.</p>\n\n<p>The following works for all cases except when the string is \"0\" in which case it returns null.</p>\n\n<pre><code>parseInt(columnSortSettings[0]) || null;\n</code></pre>\n\n<p>How do I prevent this from happening. Apparantly parseInt doesn't consider 0 as an integer!</p>\n"}, {"tags": ["angularjs", "angularjs-directive", "get", "typescript", "ng-repeat"], "comments": [{"owner": {"reputation": 225, "user_id": 4178733, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5_6BYGtH_X0/AAAAAAAAAAI/AAAAAAAACtI/sWybqZd2k8Y/photo.jpg?sz=128", "display_name": "Matthew Fitch", "link": "https://stackoverflow.com/users/4178733/matthew-fitch"}, "edited": false, "score": 1, "creation_date": 1443112492, "post_id": 32760707, "comment_id": 53372224, "body": "The issue was with my CSS code; there was a transition: 0.2s in the css for the list. Removing it solved all my problems."}], "answers": [{"comments": [{"owner": {"reputation": 2101, "user_id": 2375913, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/erzPC.png?s=128&g=1", "display_name": "muenchdo", "link": "https://stackoverflow.com/users/2375913/muenchdo"}, "edited": false, "score": 0, "creation_date": 1443098737, "post_id": 32761649, "comment_id": 53362392, "body": "Concerning your second paragraph, I guess he is using the <i>controller as</i> syntax."}, {"owner": {"reputation": 121, "user_id": 4658781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e55b44550c36be22f3ff3c7721fb23d3?s=128&d=identicon&r=PG&f=1", "display_name": "abiwer", "link": "https://stackoverflow.com/users/4658781/abiwer"}, "reply_to_user": {"reputation": 2101, "user_id": 2375913, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/erzPC.png?s=128&g=1", "display_name": "muenchdo", "link": "https://stackoverflow.com/users/2375913/muenchdo"}, "edited": false, "score": 0, "creation_date": 1443100064, "post_id": 32761649, "comment_id": 53363376, "body": "I would guess that&#39;s the case too, but we don&#39;t know for sure without seeing that code."}, {"owner": {"reputation": 225, "user_id": 4178733, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5_6BYGtH_X0/AAAAAAAAAAI/AAAAAAAACtI/sWybqZd2k8Y/photo.jpg?sz=128", "display_name": "Matthew Fitch", "link": "https://stackoverflow.com/users/4178733/matthew-fitch"}, "edited": false, "score": 0, "creation_date": 1443101840, "post_id": 32761649, "comment_id": 53364767, "body": "I have added the code for the onClick event. The ng-click calls the getItems() function which I originally posted. &quot;vm&quot; is the reference to the controller I am using - I hope you can trust me on that one. I think the problem could well be down to timing - if this is the case, how can I get around it?"}, {"owner": {"reputation": 225, "user_id": 4178733, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5_6BYGtH_X0/AAAAAAAAAAI/AAAAAAAACtI/sWybqZd2k8Y/photo.jpg?sz=128", "display_name": "Matthew Fitch", "link": "https://stackoverflow.com/users/4178733/matthew-fitch"}, "edited": false, "score": 1, "creation_date": 1443112445, "post_id": 32761649, "comment_id": 53372200, "body": "I figured out the problem; there was a transition: 0.2s in the css for the list. Removing it solved all the problems. Thanks for your help."}], "tags": [], "owner": {"reputation": 121, "user_id": 4658781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e55b44550c36be22f3ff3c7721fb23d3?s=128&d=identicon&r=PG&f=1", "display_name": "abiwer", "link": "https://stackoverflow.com/users/4658781/abiwer"}, "is_accepted": false, "score": 0, "last_activity_date": 1443098563, "creation_date": 1443098563, "answer_id": 32761649, "question_id": 32760707, "link": "https://stackoverflow.com/questions/32760707/ngrepeat-momentarily-shows-duplicated-list/32761649#32761649", "title": "ngRepeat momentarily shows duplicated list", "body": "<p>Some more code would be helpful. For example, you have an onclick attribute on the a tag, plus the ng-click event. Its hard to say whats going on without knowing what the onclick function is doing.</p>\n\n<p>Also, in the view, you are attaching the items to a property on the scope named vm, but in your controller you are attaching it directly to this/self. Is there more code that moves it to the vm object?</p>\n\n<p>It sounds like you are dealing with a timing issue around your API calls, but its hard to know for sure without seeing more code.</p>\n"}], "owner": {"reputation": 225, "user_id": 4178733, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5_6BYGtH_X0/AAAAAAAAAAI/AAAAAAAACtI/sWybqZd2k8Y/photo.jpg?sz=128", "display_name": "Matthew Fitch", "link": "https://stackoverflow.com/users/4178733/matthew-fitch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 301, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1443116988, "creation_date": 1443095828, "last_edit_date": 1443101258, "question_id": 32760707, "link": "https://stackoverflow.com/questions/32760707/ngrepeat-momentarily-shows-duplicated-list", "title": "ngRepeat momentarily shows duplicated list", "body": "<p>I have a modal that pops up on a button click. The content of the modal is a list of items. This list is stored in the controller, and is populated by some data from the response of a GET request.</p>\n\n<p>Whenever I open the modal repeatedly, which implicitly calls the update to the list, momentarily I see multiple copies of the list - approximately one copy for each click. The displayed list then resolves itself to what is actually stored in the list.</p>\n\n<p>Could this be an issue with the controller or html, or is it some sort of side-effect from ngRepeat?</p>\n\n<p>The following are snippets from the html file:</p>\n\n<pre><code>&lt;li ng-repeat=\"itemin vm.items\"&gt;{{item.name}}&lt;/li&gt;\n\n&lt;a href=\"#\" onclick=\"togglePanel('Panel')\" ng-click= \"vm.getItems()\"&gt;View Items&lt;/a&gt;\n</code></pre>\n\n<p>And from the controller:</p>\n\n<pre><code>getItems(): angular.IPromise&lt;core.IItem&gt; {\n        var self: Controller = this;\n        return this.itemDataService.getItems()\n        .then(function(response: any): angular.IPromise&lt;core.IItem&gt; {\n          self.items = response.data;\n          return response;\n        },\n        function(response: any): angular.IPromise&lt;core.IItem&gt; {\n          self.items = [];\n          return response;\n        });\n    }\n</code></pre>\n\n<p>Please ask if you need to see more code.</p>\n\n<p>Edit: Extra code...\nThe onClick being called:</p>\n\n<pre><code>function toggleSavedSearchPanel(id)\n{\n    var e = document.getElementById(id);\n\n    if (e.style.display == 'block' || e.style.display=='')\n    {\n        e.style.display = 'none';\n    }\n    else\n    {\n        e.style.display = 'block';\n        e.focus();\n    }\n}\n</code></pre>\n"}, {"tags": ["git", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 53661, "user_id": 1413538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/594bb80f7ed4b0b3770df7ad97c4d16a?s=128&d=identicon&r=PG", "display_name": "Brocco", "link": "https://stackoverflow.com/users/1413538/brocco"}, "edited": false, "score": 0, "creation_date": 1443095601, "post_id": 32759608, "comment_id": 53360311, "body": "Just a note... since npm scripts run w/ <code>node_modules&#47;.bin</code> in the path, there is no need for other developers to have tsd installed globally. (unless they are adding new definitions to the repo/project)"}, {"owner": {"reputation": 2101, "user_id": 2375913, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/erzPC.png?s=128&g=1", "display_name": "muenchdo", "link": "https://stackoverflow.com/users/2375913/muenchdo"}, "reply_to_user": {"reputation": 53661, "user_id": 1413538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/594bb80f7ed4b0b3770df7ad97c4d16a?s=128&d=identicon&r=PG", "display_name": "Brocco", "link": "https://stackoverflow.com/users/1413538/brocco"}, "edited": false, "score": 0, "creation_date": 1443176050, "post_id": 32759608, "comment_id": 53398065, "body": "@Brocco That was the &quot;missing link&quot;! One reason I didn&#39;t mention in my question was that I didn&#39;t want do require developers to install <code>tsd</code> globally. Thanks!"}, {"owner": {"reputation": 2725, "user_id": 303114, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/kBVST.jpg?s=128&g=1", "display_name": "danfromisrael", "link": "https://stackoverflow.com/users/303114/danfromisrael"}, "edited": false, "score": 0, "creation_date": 1453982814, "post_id": 32759608, "comment_id": 57844737, "body": "how can you know that the developer has tsd installed globally? do you include that in the devDependencies of npm&#39;s package.json ?"}, {"owner": {"reputation": 5059, "user_id": 1606061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/871eacd541dd701ad868301994758872?s=128&d=identicon&r=PG", "display_name": "Robert Penner", "link": "https://stackoverflow.com/users/1606061/robert-penner"}, "reply_to_user": {"reputation": 2725, "user_id": 303114, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/kBVST.jpg?s=128&g=1", "display_name": "danfromisrael", "link": "https://stackoverflow.com/users/303114/danfromisrael"}, "edited": false, "score": 0, "creation_date": 1455172687, "post_id": 32759608, "comment_id": 58372547, "body": "@danfromisrael As per Brocco&#39;s comment above, tsd doesn&#39;t have to be installed globally to run as an npm script."}, {"owner": {"reputation": 4518, "user_id": 2012235, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d3ae5ab77f79f70a2b433b7929896e7d?s=128&d=identicon&r=PG", "display_name": "dvlsg", "link": "https://stackoverflow.com/users/2012235/dvlsg"}, "edited": false, "score": 0, "creation_date": 1460656033, "post_id": 32759608, "comment_id": 60856204, "body": "I don&#39;t think that <code>.d.ts</code> files should be checked into git in all situations, but won&#39;t <code>postinstall</code> also run when users <code>npm install</code> the published package? Seems like an unnecessary step for users who just want to consume the transpiled javascript in their own projects."}, {"owner": {"reputation": 5059, "user_id": 1606061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/871eacd541dd701ad868301994758872?s=128&d=identicon&r=PG", "display_name": "Robert Penner", "link": "https://stackoverflow.com/users/1606061/robert-penner"}, "edited": false, "score": 0, "creation_date": 1460695820, "post_id": 32759608, "comment_id": 60871564, "body": "The OP said &quot;The definition files are quite lightweight.&quot;"}, {"owner": {"reputation": 5059, "user_id": 1606061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/871eacd541dd701ad868301994758872?s=128&d=identicon&r=PG", "display_name": "Robert Penner", "link": "https://stackoverflow.com/users/1606061/robert-penner"}, "edited": false, "score": 0, "creation_date": 1460695922, "post_id": 32759608, "comment_id": 60871599, "body": "Now that <code>tsd</code> is deprecated, it&#39;s recommended to migrate to <code>typings</code>.  <a href=\"http://stackoverflow.com/questions/35598876/why-is-tsd-deprecated\" title=\"why is tsd deprecated\">stackoverflow.com/questions/35598876/why-is-tsd-deprecated</a>"}], "tags": [], "owner": {"reputation": 5059, "user_id": 1606061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/871eacd541dd701ad868301994758872?s=128&d=identicon&r=PG", "display_name": "Robert Penner", "link": "https://stackoverflow.com/users/1606061/robert-penner"}, "is_accepted": true, "score": 8, "last_activity_date": 1443092232, "creation_date": 1443092232, "answer_id": 32759608, "question_id": 32758766, "link": "https://stackoverflow.com/questions/32758766/should-i-check-my-typescript-definition-files-for-external-libraries-into-git/32759608#32759608", "title": "Should I check my TypeScript definition files for external libraries into git?", "body": "<p>If a developer should run <code>npm install</code> after checking out your repo, why not have <code>tsd install</code> run automatically? It's easy to add it to <code>scripts</code> in <code>package.json</code>:</p>\n\n<pre><code>// package.json\n\"scripts\": {\n  \"postinstall\": \"tsd install\"\n}\n</code></pre>\n\n<p>The argument for not checking in generated files and dependencies is not merely to reduce the weight of the repository. It's also about trusting a script to keep things up-to-date, rather than human decision. And it reduces noise in commits when minor changes occur in the generated files.</p>\n\n<p>A contrary argument could be made: if you're concerned that the <code>tsd</code> resources will go missing, checking them into your repo will guard against that. But the paranoid should check in the npm modules as well.</p>\n"}, {"tags": [], "owner": {"reputation": 2478, "user_id": 1901532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd1cbda04ce8b94557cce44c96a39338?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/1901532/dan"}, "is_accepted": false, "score": 2, "last_activity_date": 1443111311, "last_edit_date": 1443111311, "creation_date": 1443110480, "answer_id": 32765958, "question_id": 32758766, "link": "https://stackoverflow.com/questions/32758766/should-i-check-my-typescript-definition-files-for-external-libraries-into-git/32765958#32765958", "title": "Should I check my TypeScript definition files for external libraries into git?", "body": "<p>Yes, </p>\n\n<p>Since I include \"typings/tsd.d.ts\" in tsconfig.json its now part of the build process, \nAnd I don't wont to maintain .gitignore with subdirectories of \"typings/\" , simple its better ...</p>\n\n<p>and its more like a vote that an answer :)</p>\n\n<p>As an example : I recently added in a project definition from the npm package instead of the definitely typed repo , but I added it to typings/tsd.d.ts because is the only definition file I reference in tsconfig.json ... ergo I can't relay any more in tsd to keep the defintions in sync, then.. check it in ... \nI could just simply add another definition file choosing arbitrary where to place it and reference this other definition file compilation too, but is more work more complicated and the result is the same, but only one file to keep the reference chain working. </p>\n"}], "owner": {"reputation": 2101, "user_id": 2375913, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/erzPC.png?s=128&g=1", "display_name": "muenchdo", "link": "https://stackoverflow.com/users/2375913/muenchdo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1206, "favorite_count": 0, "accepted_answer_id": 32759608, "answer_count": 2, "score": 4, "last_activity_date": 1443111311, "creation_date": 1443089625, "question_id": 32758766, "link": "https://stackoverflow.com/questions/32758766/should-i-check-my-typescript-definition-files-for-external-libraries-into-git", "title": "Should I check my TypeScript definition files for external libraries into git?", "body": "<p>I am using <a href=\"https://github.com/DefinitelyTyped/tsd\" rel=\"nofollow\">TSD</a> to manage the TypeScript definition files for a web application I am developing.</p>\n\n<p>Should I check the TypeScript definition files for the external libraries I am using (managed via Bower) into git in addition to the <code>tsd.json</code> file?</p>\n\n<p>Similar discussions exist for Bower and NPM dependencies, where the <a href=\"https://docs.npmjs.com/misc/faq#should-i-check-my-node-modules-folder-into-git\" rel=\"nofollow\">NPM documentation</a> says no, and afaik Bower no longer gives a recommendation (used to say <a href=\"https://web.archive.org/web/20140625034714/http://bower.io/#installing-packages-and-dependencies\" rel=\"nofollow\">yes</a>).</p>\n\n<p>The definition files are quite lightweight, so I am leaning towards checking them in. Any opinions?</p>\n"}, {"tags": ["javascript", "typescript", "handlebars.js"], "answers": [{"comments": [{"owner": {"reputation": 8303, "user_id": 694736, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UhYVG.jpg?s=128&g=1", "display_name": "Timothy Groote", "link": "https://stackoverflow.com/users/694736/timothy-groote"}, "edited": false, "score": 0, "creation_date": 1443087035, "post_id": 32757942, "comment_id": 53355099, "body": "gah! you found it. can&#39;t believe i missed that"}], "tags": [], "owner": {"reputation": 13823, "user_id": 334243, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6ed2b0016c334f9c54ebbd1b20ba5d35?s=128&d=identicon&r=PG", "display_name": "Justus Romijn", "link": "https://stackoverflow.com/users/334243/justus-romijn"}, "is_accepted": true, "score": 2, "last_activity_date": 1443087102, "last_edit_date": 1443087102, "creation_date": 1443086994, "answer_id": 32757942, "question_id": 32757285, "link": "https://stackoverflow.com/questions/32757285/handlebars-function-ends-up-in-impossible-condition/32757942#32757942", "title": "handlebars / function ends up in impossible condition", "body": "<p>It's a nasty small thing. I see a <code>;</code> in a weird place:</p>\n\n<pre><code>if (clippedString.length &gt; maxResidualLength); // &lt;-- weird?\n</code></pre>\n\n<p>Simple reproduction example:</p>\n\n<pre><code>if(false); // \";\" terminates the if statement.\n{\n    alert('I get executed anyway...');\n}\n</code></pre>\n"}], "owner": {"reputation": 8303, "user_id": 694736, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UhYVG.jpg?s=128&g=1", "display_name": "Timothy Groote", "link": "https://stackoverflow.com/users/694736/timothy-groote"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 32757942, "answer_count": 1, "score": 0, "last_activity_date": 1443087102, "creation_date": 1443085104, "last_edit_date": 1443086719, "question_id": 32757285, "link": "https://stackoverflow.com/questions/32757285/handlebars-function-ends-up-in-impossible-condition", "title": "handlebars / function ends up in impossible condition", "body": "<p>I have the following handlebars helper, defined in a typescript file.</p>\n\n<p>When the helper is fed the string <code>\"test\"</code>, and maxResidualLength of <code>10</code>, the debugger statement is hit, despite the inspector telling me that <code>clippedString.length &gt; maxResidualLength</code> equals <code>false</code></p>\n\n<pre><code>    Handlebars.registerHelper(\"ClipYearsFromString\", function (strg: string, maxResidualLength:number) {\n        var pattern = /(\\b\\d{4}.\\b|\\b\\d{4}\\b)/g; //remove sets of four digits or four digits with a non alpha character behind them.\n\n        var clippedString = strg.replace(pattern, \"\");\n\n        if (typeof (maxResidualLength) == \"number\" &amp;&amp; maxResidualLength &gt; 0) \n        {\n            if (clippedString.length &gt; maxResidualLength);\n            {\n                debugger;\n                clippedString = clippedString.substr(0, maxResidualLength) + \"&amp;hellip;\";\n            }\n        }\n        return clippedString;\n    });\n</code></pre>\n\n<p>The helper is being called in a template as follows  :</p>\n\n<pre><code>   &lt;span&gt;{{{ClipYearsFromString SelectedRankingPool.PoolName 10}}}&lt;/span&gt;\n</code></pre>\n\n<p>SelectedRankingPool.PoolName is <em>always</em> a string.</p>\n\n<p>How is this happening?\nThe same behavior occurs in all major browsers, be it Chrome, Firefox or IE\n, and it still happens if i take the helper registration outside of typescript and handlebars.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function derp(strg, maxResidualLength)\r\n    {\r\n      var pattern = /(\\b\\d{4}.\\b|\\b\\d{4}\\b)/g;   \r\n      var clippedString = strg.replace(pattern, \"\");\r\n      if (typeof (maxResidualLength) == \"number\" &amp;&amp; maxResidualLength &gt; 0) \r\n            {\r\n                if (clippedString.length &gt; maxResidualLength);\r\n                {\r\n                    debugger;\r\n                    clippedString = clippedString.substr(0, maxResidualLength) + \"&amp;hellip;\";\r\n                }\r\n            }\r\n            return clippedString;\r\n    }\r\n\r\n    console.log(derp(\"test\", 10)); //hits debugger</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["angularjs", "typescript", "angular-ui-router"], "answers": [{"comments": [{"owner": {"reputation": 341, "user_id": 1183475, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/af7142ad493d9a4ae7ecd12f6500ca71?s=128&d=identicon&r=PG", "display_name": "marius-O", "link": "https://stackoverflow.com/users/1183475/marius-o"}, "edited": false, "score": 0, "creation_date": 1443072981, "post_id": 32753956, "comment_id": 53348126, "body": "In this case, I don&#39;t want to register the controller with the module (I&#39;ve registered it just to get it working). This state is the only usage so I&#39;d rather just specify it on the fly..."}, {"owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "reply_to_user": {"reputation": 341, "user_id": 1183475, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/af7142ad493d9a4ae7ecd12f6500ca71?s=128&d=identicon&r=PG", "display_name": "marius-O", "link": "https://stackoverflow.com/users/1183475/marius-o"}, "edited": false, "score": 0, "creation_date": 1443073043, "post_id": 32753956, "comment_id": 53348154, "body": "I am using both (typescript and UI-Router) and would discourage you from this approach (the one you want). Just try to do it the native angular way. Register controller, declare dependencies (<code>static $inject = [...]</code>) and let controller live its life. Join it to state just via its string name (IoC). this way you can test it - independently from the state..."}, {"owner": {"reputation": 341, "user_id": 1183475, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/af7142ad493d9a4ae7ecd12f6500ca71?s=128&d=identicon&r=PG", "display_name": "marius-O", "link": "https://stackoverflow.com/users/1183475/marius-o"}, "edited": false, "score": 0, "creation_date": 1443073372, "post_id": 32753956, "comment_id": 53348277, "body": "Ok, it&#39;s good enough, but I still don&#39;t understand why the difference and that&#39;s why I&#39;ve posted the question..."}, {"owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "reply_to_user": {"reputation": 341, "user_id": 1183475, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/af7142ad493d9a4ae7ecd12f6500ca71?s=128&d=identicon&r=PG", "display_name": "marius-O", "link": "https://stackoverflow.com/users/1183475/marius-o"}, "edited": false, "score": 0, "creation_date": 1443076819, "post_id": 32753956, "comment_id": 53349569, "body": "I extended my answer, and showed that your approach (I would not go that way) is working. I added links to working plunker and provided more details. hope it could help you a bit... good luck with TS and UI-Router ;)"}, {"owner": {"reputation": 341, "user_id": 1183475, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/af7142ad493d9a4ae7ecd12f6500ca71?s=128&d=identicon&r=PG", "display_name": "marius-O", "link": "https://stackoverflow.com/users/1183475/marius-o"}, "edited": false, "score": 0, "creation_date": 1443355212, "post_id": 32753956, "comment_id": 53452093, "body": "Thanks, I was just being dumb reading the documentation, it&#39;s clearly stated how is should work (as you&#39;ve highlighted)..."}, {"owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "reply_to_user": {"reputation": 341, "user_id": 1183475, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/af7142ad493d9a4ae7ecd12f6500ca71?s=128&d=identicon&r=PG", "display_name": "marius-O", "link": "https://stackoverflow.com/users/1183475/marius-o"}, "edited": false, "score": 0, "creation_date": 1443355255, "post_id": 32753956, "comment_id": 53452105, "body": "This is great info. Enjoy mighty UI-Router ;)"}], "tags": [], "owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "is_accepted": true, "score": 0, "last_activity_date": 1443076583, "last_edit_date": 1443076583, "creation_date": 1443072369, "answer_id": 32753956, "question_id": 32753941, "link": "https://stackoverflow.com/questions/32753941/angular-typescript-state-controller/32753956#32753956", "title": "Angular TypeScript state controller", "body": "<p>You should pass the controller as a STRING name:</p>\n\n<pre><code>this.$stateProvider\n  .state('items', {\n    url: '/{cluster}/items',\n    templateUrl: App.mapPath('Items/Items.html'),\n    //controller: ItemsController,\n    controller: \"ItemsController\",\n    controllerAs: 'controller'\n  })\n</code></pre>\n\n<p>as described in the doc <a href=\"http://angular-ui.github.io/ui-router/site/#/api/ui.router.state\" rel=\"nofollow\">http://angular-ui.github.io/ui-router/site/#/api/ui.router.state</a>.$stateProvider</p>\n\n<blockquote>\n  <p><strong><code>controller</code></strong>: Controller <code>fn</code> that should be associated with newly related scope <strong>or the name of a registered controller if passed as a string</strong>. Optionally, the ControllerAs may be declared here. </p>\n</blockquote>\n\n<p>But we can path just the constructor function (class name) as well.</p>\n\n<h3>There is <a href=\"http://plnkr.co/edit/bCztfw6NVHxnDTPbNxyc?p=preview\" rel=\"nofollow\">a working example</a>.</h3>\n\n<p>I placed controller into the namespace:</p>\n\n<pre><code>namespace MyModule{\n export class ItemsController {\n  static $inject = ['$scope', 'itemsResource', '$stateParams'];\n  constructor(\n    scope: IItemsScope,\n    itemsFactory: IItemsResource,\n    stateParams: IClustersStateParams) {\n     scope.items = itemsFactory.query({ cluster: stateParams.cluster });\n   }\n\n  public newItem(): void {\n    console.log('test');\n  }\n }\n}\n</code></pre>\n\n<p>check <a href=\"http://www.typescriptlang.org/Playground#src=namespace%20MyModule%7B%0A%20export%20class%20ItemsController%20%7B%0A%20%20static%20%24inject%20%3D%20%5B&#39;%24scope&#39;%2C%20&#39;itemsResource&#39;%2C%20&#39;%24stateParams&#39;%5D%3B%0A%20%20constructor(%0A%20%20%20%20scope%3A%20IItemsScope%2C%0A%20%20%20%20itemsFactory%3A%20IItemsResource%2C%0A%20%20%20%20stateParams%3A%20IClustersStateParams)%20%7B%0A%20%20%20%20%20scope.items%20%3D%20itemsFactory.query(%7B%20cluster%3A%20stateParams.cluster%20%7D)%3B%0A%20%20%20%7D%0A%0A%20%20public%20newItem()%3A%20void%20%7B%0A%20%20%20%20console.log(&#39;test&#39;)%3B%0A%20%20%7D%0A%20%7D%0A%7D\" rel=\"nofollow\">it here</a></p>\n\n<p>And with this state def:</p>\n\n<pre><code>.state('items', {\n    url: '/{cluster}/items',\n    //templateUrl: App.mapPath('Items/Items.html'),\n    templateUrl: 'Items/Items.html',\n    controller: MyModule.ItemsController, \n    controllerAs: 'controller'\n})\n</code></pre>\n\n<p>And this view Items/Items.html </p>\n\n<pre><code>&lt;div class=\"items\"&gt;\n ...\n      &lt;button icon-style=\"glyphicon-plus\" text=\"Add new item\" &gt;xxx\n ..\n&lt;/div&gt;\n</code></pre>\n\n<p>we can see it is working. <a href=\"http://plnkr.co/edit/bCztfw6NVHxnDTPbNxyc?p=preview\" rel=\"nofollow\">Check it here</a></p>\n"}], "owner": {"reputation": 341, "user_id": 1183475, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/af7142ad493d9a4ae7ecd12f6500ca71?s=128&d=identicon&r=PG", "display_name": "marius-O", "link": "https://stackoverflow.com/users/1183475/marius-o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1651, "favorite_count": 0, "accepted_answer_id": 32753956, "answer_count": 1, "score": 2, "last_activity_date": 1443076583, "creation_date": 1443072282, "last_edit_date": 1443073503, "question_id": 32753941, "link": "https://stackoverflow.com/questions/32753941/angular-typescript-state-controller", "title": "Angular TypeScript state controller", "body": "<p>I'm trying to attach a controller to a state (using angular ui.router) and I don't understand why writing it one way works, but not the other.</p>\n\n<p>Working example (with the controller registered against the module):</p>\n\n<pre><code>this.$stateProvider\n  .state('items', {\n    url: '/{cluster}/items',\n    templateUrl: App.mapPath('Items/Items.html'),\n    controller: 'ItemsController as controller'\n   });\n</code></pre>\n\n<p>but this doesn't (with an 'anonymous' controller):</p>\n\n<pre><code>this.$stateProvider\n  .state('items', {\n    url: '/{cluster}/items',\n    templateUrl: App.mapPath('Items/Items.html'),\n    controller: ItemsController,\n    controllerAs: 'controller'\n  });\n</code></pre>\n\n<p>Keep in mind that my controller has dependencies:</p>\n\n<pre><code>export class ItemsController {\n  static $inject = ['$scope', 'itemsResource', '$stateParams'];\n  constructor(\n    scope: IItemsScope,\n    itemsFactory: IItemsResource,\n    stateParams: IClustersStateParams) {\n     scope.items = itemsFactory.query({ cluster: stateParams.cluster });\n   }\n\n  public newItem(): void {\n    console.log('test');\n  }\n}\n</code></pre>\n\n<p>My Items.html template is:</p>\n\n<pre><code>&lt;div class=\"items\"&gt;\n  &lt;ul class=\"add\"&gt;\n    &lt;li&gt;\n      &lt;action icon-style=\"glyphicon-plus\" text=\"Add new item\" activated=\"controller.newItem()\"&gt;&lt;/action&gt;\n    &lt;/li&gt;\n  &lt;/ul&gt;\n  &lt;ul&gt;\n    &lt;li ng-repeat=\"item in items\"&gt;\n      &lt;item item=\"item\"&gt;&lt;/item&gt;\n    &lt;/li&gt;\n  &lt;/ul&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>And the <code>action</code> directive:</p>\n\n<pre><code>export class ActionDirective implements ng.IDirective {\n  restrict = 'E';\n  replace = true;\n  template = '&lt;a class=\"action\"&gt;&lt;span class=\"glyphicon {{iconStyle}}\" aria-hidden=\"true\"&gt;&lt;/span&gt;&lt;span&gt;{{text}}&lt;/span&gt;&lt;/a&gt;';\n  scope = {\n    iconStyle: '@iconStyle',\n    text: '@text',\n    activated: '&amp;'\n  };\n\n  public link(scope: IActionDirectiveScope, instanceElement: ng.IAugmentedJQuery, instanceAttributes: ng.IAttributes, controller: any): void\n  {\n    instanceElement.on('click', (): void =&gt; {\n    scope.activated();\n    });\n  }\n\npublic static factory(): ng.IDirectiveFactory {\n  const directive = () =&gt; new ActionDirective();\n\n  return directive;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>The issue is the <code>controller.newItem()</code> call. In the working example it will work correctly, otherwise it won't display anything to the console. Also I've noticed the <code>items</code> array (set in the controller's constructor) will always be populated (regardless of the approach), so it's ONLY a matter of calling <code>controller.newItem()</code> that won't work ...</p>\n"}, {"tags": ["javascript", "angularjs", "typescript"], "comments": [{"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 4, "creation_date": 1443064526, "post_id": 32752684, "comment_id": 53345825, "body": "<a href=\"https://docs.angularjs.org/api/ng/service/$q#resolve\" rel=\"nofollow noreferrer\">docs.angularjs.org/api/ng/service/$q#resolve</a> <code>$q</code> has a <code>resolve</code> method. If you are using an earlier version of Angular, use <code>.when</code>. They do the same thing. Also, <code>$http</code> methods return promises already. You shouldn&#39;t need to use another promise chain internally."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1464139"}, "reply_to_user": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1443064908, "post_id": 32752684, "comment_id": 53345904, "body": "@ExplosionPills - If you have a few minutes could you please add your comments as an answer based on my short code example.  I&#39;m not really sure what you mean by &quot;$http methods return promises already. You shouldn&#39;t need to use another promise chain internally&quot;.  One thing I saw from my testing and the reason I added the self.$q.reject was that if I did handle the reject without the return there, then my topicNewSubmit would always return okay.  Hope this makes sense. Thank you very much."}, {"owner": {"reputation": 13034, "user_id": 1330137, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ImoRJ.jpg?s=128&g=1", "display_name": "Callum Linington", "link": "https://stackoverflow.com/users/1330137/callum-linington"}, "edited": false, "score": 0, "creation_date": 1443426219, "post_id": 32752684, "comment_id": 53471849, "body": "I advise you get it working with normal javascript then port it to typescript, not that porting it to typescript is particularly hard... if you know typescript then it should be easy."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1464139"}, "edited": false, "score": 0, "creation_date": 1443096272, "post_id": 32753090, "comment_id": 53360720, "body": "My problem is that when I use: return self.$q.resolve(output);  it tells me that&#39;s not valid and $q. does not have a resolve."}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 0, "creation_date": 1443140889, "post_id": 32753090, "comment_id": 53384995, "body": "<code>$q. does not have a resolve. </code> sound like an <i>old</i> version of angular"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1464139"}, "edited": false, "score": 0, "creation_date": 1443157601, "post_id": 32753090, "comment_id": 53388883, "body": "So how can I return data from the success of a $http call? Also is return self.$q.reject(&#39;Error during Multi-save&#39;); the correct way to return a failed promise from the fail block of a $http call?"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 2, "last_activity_date": 1443067109, "creation_date": 1443067109, "answer_id": 32753090, "question_id": 32752684, "link": "https://stackoverflow.com/questions/32752684/how-can-i-return-a-success-and-an-error-promise-with-and-without-data/32753090#32753090", "title": "How can I return a success and an error promise with and without data?", "body": "<h1>Answer</h1>\n\n<p>You cannot return something that <em>isn't there yet</em> unless you <em>block all operations till you get it</em>. Since the browser JavaScript is (mostly) single threaded you <em>don't want to block the thread while the file downloads</em>. Hence you return a <em>promise</em> that will eventually resolve. The consumer needs to use the <code>then</code> function to <em>eventually</em> get the value. </p>\n\n<h1>Humor</h1>\n\n<p>A promise is for life. Its \ud83d\udc22s all the way down \ud83c\udf39</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1464139"}, "edited": false, "score": 0, "creation_date": 1443429556, "post_id": 32818359, "comment_id": 53473611, "body": "Thanks for your answer.  In my IDE return output in the topicNewSubmit is showing as an error:  Type &#39;{ abc: string; }&#39; is not assignable to type &#39;IPromise&lt;any&gt;&#39;. Also in your answer the comment &quot;// likewise error would now equal {abc: &#39;just an example&#39;}&quot; would not be reached as you are handling the error in topicNewSubmit and so it would return a success."}, {"owner": {"reputation": 17287, "user_id": 466761, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/00MKL.jpg?s=128&g=1", "display_name": "thomaux", "link": "https://stackoverflow.com/users/466761/thomaux"}, "edited": false, "score": 0, "creation_date": 1443429907, "post_id": 32818359, "comment_id": 53473773, "body": "I&#39;m not sure about the return type, will verify this later. But the error isn&#39;t handled in the success callback, so that example will work. The <code>then</code> method accepts two callbacks a success and an error."}, {"owner": {"reputation": 17287, "user_id": 466761, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/00MKL.jpg?s=128&g=1", "display_name": "thomaux", "link": "https://stackoverflow.com/users/466761/thomaux"}, "edited": false, "score": 0, "creation_date": 1443511249, "post_id": 32818359, "comment_id": 53510936, "body": "Hi Anne, my bad, I forgot to update the return type of the error callback, fixed this in my edit."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1464139"}, "edited": false, "score": 0, "creation_date": 1443539841, "post_id": 32818359, "comment_id": 53529356, "body": "Hi, Just checked and if the error from the $http gets handled then it does not go to the &quot;whatever you&#39;d like&quot; line. When I opened up the playground it showed quite a few syntax errors on my browser."}, {"owner": {"reputation": 17287, "user_id": 466761, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/00MKL.jpg?s=128&g=1", "display_name": "thomaux", "link": "https://stackoverflow.com/users/466761/thomaux"}, "edited": false, "score": 0, "creation_date": 1443540495, "post_id": 32818359, "comment_id": 53529799, "body": "@Anne I know, that was to show you the typings were correctly working :). What do you mean, if the error gets handled?"}, {"owner": {"reputation": 17287, "user_id": 466761, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/00MKL.jpg?s=128&g=1", "display_name": "thomaux", "link": "https://stackoverflow.com/users/466761/thomaux"}, "edited": false, "score": 0, "creation_date": 1443540953, "post_id": 32818359, "comment_id": 53530111, "body": "I&#39;ve updated my answer to reflect the working code, I also included a link to the playground with the correct type usage (so there aren&#39;t syntax errors)"}], "tags": [], "owner": {"reputation": 17287, "user_id": 466761, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/00MKL.jpg?s=128&g=1", "display_name": "thomaux", "link": "https://stackoverflow.com/users/466761/thomaux"}, "is_accepted": true, "score": 5, "last_activity_date": 1443540847, "last_edit_date": 1443540847, "creation_date": 1443427744, "answer_id": 32818359, "question_id": 32752684, "link": "https://stackoverflow.com/questions/32752684/how-can-i-return-a-success-and-an-error-promise-with-and-without-data/32818359#32818359", "title": "How can I return a success and an error promise with and without data?", "body": "<p><strong>Edit</strong>: Fixed the code and added a <a href=\"http://www.typescriptlang.org/Playground#src=interface%20IHttpService%20%7B%0A%20%20%20%20%3CT%3E(config%3A%20any)%3A%20IPromise%3CT%3E%3B%0A%7D%0Ainterface%20IPromise%3CT%3E%20%7B%0A%20%20%20%20%20%20%20%20then%3CTResult%3E(successCallback%3A%20(promiseValue%3A%20T)%20%3D%3E%20IPromise%3CTResult%3E%7CTResult%7CIPromise%3Cvoid%3E%2C%20errorCallback%3F%3A%20(reason%3A%20any)%20%3D%3E%20any%2C%20notifyCallback%3F%3A%20(state%3A%20any)%20%3D%3E%20any)%3A%20IPromise%3CTResult%3E%3B%0A%20%20%20%20%20%20%20%20catch%3CTResult%3E(onRejected%3A%20(reason%3A%20any)%20%3D%3E%20IPromise%3CTResult%3E%7CTResult)%3A%20IPromise%3CTResult%3E%3B%0A%20%20%20%20%20%20%20%20finally(finallyCallback%3A%20()%20%3D%3E%20any)%3A%20IPromise%3CT%3E%3B%0A%7D%0Ainterface%20IDeferred%3CT%3E%20%7B%0A%20%20%20%20resolve(value%3F%3A%20T)%3A%20void%3B%0A%20%20%20%20reject(reason%3F%3A%20any)%3A%20void%3B%0A%20%20%20%20notify(state%3F%3A%20any)%3A%20void%3B%0A%20%20%20%20promise%3A%20IPromise%3CT%3E%3B%0A%7D%0Ainterface%20IQResolveReject%3CT%3E%20%7B%0A%20%20%20%20()%3A%20void%3B%0A%20%20%20%20(value%3A%20T)%3A%20void%3B%0A%7D%0Ainterface%20IQService%20%7B%0A%20%20%20%20new%20%3CT%3E(resolver%3A%20(resolve%3A%20IQResolveReject%3CT%3E)%20%3D%3E%20any)%3A%20IPromise%3CT%3E%3B%0A%20%20%20%20new%20%3CT%3E(resolver%3A%20(resolve%3A%20IQResolveReject%3CT%3E%2C%20reject%3A%20IQResolveReject%3Cany%3E)%20%3D%3E%20any)%3A%20IPromise%3CT%3E%3B%0A%20%20%20%20%3CT%3E(resolver%3A%20(resolve%3A%20IQResolveReject%3CT%3E)%20%3D%3E%20any)%3A%20IPromise%3CT%3E%3B%0A%20%20%20%20%3CT%3E(resolver%3A%20(resolve%3A%20IQResolveReject%3CT%3E%2C%20reject%3A%20IQResolveReject%3Cany%3E)%20%3D%3E%20any)%3A%20IPromise%3CT%3E%3B%0A%20%20%20%20all%3CT%3E(promises%3A%20IPromise%3Cany%3E%5B%5D)%3A%20IPromise%3CT%5B%5D%3E%3B%0A%20%20%20%20all(promises%3A%20%7B%20%5Bid%3A%20string%5D%3A%20IPromise%3Cany%3E%3B%20%7D)%3A%20IPromise%3C%7B%20%5Bid%3A%20string%5D%3A%20any%3B%20%7D%3E%3B%0A%20%20%20%20all%3CT%20extends%20%7B%7D%3E(promises%3A%20%7B%20%5Bid%3A%20string%5D%3A%20IPromise%3Cany%3E%3B%20%7D)%3A%20IPromise%3CT%3E%3B%0A%20%20%20%20defer%3CT%3E()%3A%20IDeferred%3CT%3E%3B%0A%20%20%20%20reject(reason%3F%3A%20any)%3A%20IPromise%3Cany%3E%3B%0A%20%20%20%20when%3CT%3E(value%3A%20IPromise%3CT%3E%7CT)%3A%20IPromise%3CT%3E%3B%0A%20%20%20%20when()%3A%20IPromise%3Cvoid%3E%3B%0A%7D%0A%2F%2F%2F%20START%20EXAMPLE%0A%0A%2F%2F%20Definition%0Ainterface%20Foo%20%7B%0A%20%20bar%3A%20string%3B%0A%7D%0A%0Aclass%20FooService%20%7B%0A%0A%20%20%24q%3A%20IQService%3B%0A%20%20%24http%3A%20IHttpService%3B%0A%20%20abc%3A%20number%3B%0A%20%20url%3A%20string%3B%0A%0A%20%20topicTest%20%3D%20()%3A%20IPromise%3CFoo%3E%20%3D%3E%20%7B%20%2F%2F%20return%20a%20promise%20which%20will%20result%20in%20a%20parameter%20of%20MyType%20upon%20resolving%0A%20%20%20%20var%20deferred%20%3D%20this.%24q.defer%3CFoo%3E()%3B%20%2F%2F%20Type%20the%20deferred%20to%20get%20better%20&#39;intellisense&#39;%20support%0A%20%20%20%20if%20(this.abc%20%3D%2099)%20%7B%0A%20%20%20%20%20%20deferred.resolve(%22Please%20put%20a%20type%20of%20Foo%20here%20%3A(%22)%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(this.abc%20%3D%2088)%20%7B%0A%20%20%20%20%20%20deferred.reject(%22You%20can%20pass%20in%20whatever%20you%20like%20to%20the%20reject%20case%22)%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20deferred.promise%3B%0A%20%20%7D%3B%0A%0A%20%20topicNewSubmit%20%3D%20()%20%3A%20IPromise%3CFoo%3E%20%3D%3E%20%7B%0A%0A%20%20%20%20return%20this.%24http(%7B%20url%3A%20this.url%2C%20method%3A%20%22GET%22%20%7D)%0A%20%20%20%20%20%20.then((response)%3A%20String%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%2C%20(error)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20return%20%22whatever%20you&#39;d%20like%22%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%7D%0A%7D%0A%0A%2F%2F%20Usage%0Avar%20fooService%20%3D%20new%20FooService()%3B%0AfooService.topicTest().then(function(typeResultToTheCorrectTypeAKAFoo%3A%20number)%7B%7D)%3B%0AfooService.topicNewSubmit().then(function(data%3A%20string)%7B%7D)%3B\" rel=\"nofollow\">TypeScript Playground example</a>. The methods are correctly typed, you can verify this by the typing errors that are thrown, try and fix them ;). I copied over the very basic required interfaces from the angular definition file.</p>\n\n<p><strong>Edit #2</strong>: <a href=\"http://www.typescriptlang.org/Playground#src=interface%20IHttpService%20%7B%0A%20%20%20%20%3CT%3E(config%3A%20any)%3A%20IPromise%3CT%3E%3B%0A%7D%0Ainterface%20IPromise%3CT%3E%20%7B%0A%20%20%20%20%20%20%20%20then%3CTResult%3E(successCallback%3A%20(promiseValue%3A%20T)%20%3D%3E%20IPromise%3CTResult%3E%7CTResult%7CIPromise%3Cvoid%3E%2C%20errorCallback%3F%3A%20(reason%3A%20any)%20%3D%3E%20any%2C%20notifyCallback%3F%3A%20(state%3A%20any)%20%3D%3E%20any)%3A%20IPromise%3CTResult%3E%3B%0A%20%20%20%20%20%20%20%20catch%3CTResult%3E(onRejected%3A%20(reason%3A%20any)%20%3D%3E%20IPromise%3CTResult%3E%7CTResult)%3A%20IPromise%3CTResult%3E%3B%0A%20%20%20%20%20%20%20%20finally(finallyCallback%3A%20()%20%3D%3E%20any)%3A%20IPromise%3CT%3E%3B%0A%7D%0Ainterface%20IDeferred%3CT%3E%20%7B%0A%20%20%20%20resolve(value%3F%3A%20T)%3A%20void%3B%0A%20%20%20%20reject(reason%3F%3A%20any)%3A%20void%3B%0A%20%20%20%20notify(state%3F%3A%20any)%3A%20void%3B%0A%20%20%20%20promise%3A%20IPromise%3CT%3E%3B%0A%7D%0Ainterface%20IQResolveReject%3CT%3E%20%7B%0A%20%20%20%20()%3A%20void%3B%0A%20%20%20%20(value%3A%20T)%3A%20void%3B%0A%7D%0Ainterface%20IQService%20%7B%0A%20%20%20%20new%20%3CT%3E(resolver%3A%20(resolve%3A%20IQResolveReject%3CT%3E)%20%3D%3E%20any)%3A%20IPromise%3CT%3E%3B%0A%20%20%20%20new%20%3CT%3E(resolver%3A%20(resolve%3A%20IQResolveReject%3CT%3E%2C%20reject%3A%20IQResolveReject%3Cany%3E)%20%3D%3E%20any)%3A%20IPromise%3CT%3E%3B%0A%20%20%20%20%3CT%3E(resolver%3A%20(resolve%3A%20IQResolveReject%3CT%3E)%20%3D%3E%20any)%3A%20IPromise%3CT%3E%3B%0A%20%20%20%20%3CT%3E(resolver%3A%20(resolve%3A%20IQResolveReject%3CT%3E%2C%20reject%3A%20IQResolveReject%3Cany%3E)%20%3D%3E%20any)%3A%20IPromise%3CT%3E%3B%0A%20%20%20%20all%3CT%3E(promises%3A%20IPromise%3Cany%3E%5B%5D)%3A%20IPromise%3CT%5B%5D%3E%3B%0A%20%20%20%20all(promises%3A%20%7B%20%5Bid%3A%20string%5D%3A%20IPromise%3Cany%3E%3B%20%7D)%3A%20IPromise%3C%7B%20%5Bid%3A%20string%5D%3A%20any%3B%20%7D%3E%3B%0A%20%20%20%20all%3CT%20extends%20%7B%7D%3E(promises%3A%20%7B%20%5Bid%3A%20string%5D%3A%20IPromise%3Cany%3E%3B%20%7D)%3A%20IPromise%3CT%3E%3B%0A%20%20%20%20defer%3CT%3E()%3A%20IDeferred%3CT%3E%3B%0A%20%20%20%20reject(reason%3F%3A%20any)%3A%20IPromise%3Cany%3E%3B%0A%20%20%20%20when%3CT%3E(value%3A%20IPromise%3CT%3E%7CT)%3A%20IPromise%3CT%3E%3B%0A%20%20%20%20when()%3A%20IPromise%3Cvoid%3E%3B%0A%7D%0A%2F%2F%2F%20START%20EXAMPLE%0A%0A%2F%2F%20Definition%0Ainterface%20Foo%20%7B%0A%20%20bar%3A%20string%3B%0A%7D%0A%0Aclass%20FooService%20%7B%0A%0A%20%20%24q%3A%20IQService%3B%0A%20%20%24http%3A%20IHttpService%3B%0A%20%20abc%3A%20number%3B%0A%20%20url%3A%20string%3B%0A%0A%20%20topicTest%20%3D%20()%3A%20IPromise%3CFoo%3E%20%3D%3E%20%7B%20%2F%2F%20return%20a%20promise%20which%20will%20result%20in%20a%20parameter%20of%20MyType%20upon%20resolving%0A%20%20%20%20var%20deferred%20%3D%20this.%24q.defer%3CFoo%3E()%3B%20%2F%2F%20Type%20the%20deferred%20to%20get%20better%20&#39;intellisense&#39;%20support%0A%20%20%20%20if%20(this.abc%20%3D%2099)%20%7B%0A%20%20%20%20%20%20deferred.resolve(%7B%0A%09%09%20%20bar%3A%20%22I&#39;m%20a%20Foo!%22%0A%09%20%20%7D)%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(this.abc%20%3D%2088)%20%7B%0A%20%20%20%20%20%20deferred.reject(%22You%20can%20pass%20in%20whatever%20you%20like%20to%20the%20reject%20case%22)%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20deferred.promise%3B%0A%20%20%7D%3B%0A%0A%20%20topicNewSubmit%20%3D%20()%20%3A%20IPromise%3CFoo%3E%20%3D%3E%20%7B%0A%0A%20%20%20%20return%20this.%24http(%7B%20url%3A%20this.url%2C%20method%3A%20%22GET%22%20%7D)%0A%20%20%20%20%20%20.then((response)%3A%20Foo%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20return%20%7B%0A%09%09%09bar%3A%20%22I&#39;m%20a%20Foo%20as%20well!%22%0A%09%09%7D%3B%0A%20%20%20%20%20%20%7D%2C%20(error)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20return%20%22whatever%20you&#39;d%20like%22%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%7D%0A%7D%0A%0A%2F%2F%20Usage%0Avar%20fooService%20%3D%20new%20FooService()%3B%0AfooService.topicTest().then(function(data%3A%20Foo)%7B%7D)%3B%0AfooService.topicNewSubmit().then(function(data%3A%20Foo)%7B%7D)%3B\" rel=\"nofollow\">Here's the fixed version</a> of the TypeScript Playground example above.</p>\n\n<p>If I understand your question correctly, you're trying to define a return type for the service method stating it returns <em>a promise whose result upon resolving will be a certain object</em>?</p>\n\n<p>In that case you're almost there, I've split up your two example methods in separate blocks, as they require a different approach.</p>\n\n<p>On a general note, I removed the scope copying (<code>self = this</code>) as you are using the fat arrow methods, which will automatically scope the method to the outer lexical scope. In short, there's no need to do the scope copy and in fact, in your example self doesn't always point to the service (as you're copying the scope inside of the method instead of outside of it).</p>\n\n<p>Also, please note the definition of an Angular promise (truncated):</p>\n\n<pre><code>interface IDeferred&lt;T&gt; {\n    resolve(value?: T): void;\n    reject(reason?: any): void;\n}\n</code></pre>\n\n<p>As such, typing an Angular Promise will only add a typing for the <strong>resolve</strong> case of the promise, not for the rejected case. Consequently, when calling your service, it will verify that the result in the success handler is of the type you have defined, but the type of the parameters in the error handler is of type <code>any</code>.</p>\n\n<h1>topicTest</h1>\n\n<p>For this method to work you need to inject <code>$q</code> into your service and then use it to create your own <code>deferred</code></p>\n\n<pre><code>topicTest = (): IPromise&lt;Foo&gt; =&gt; { // return a promise which will result in a parameter of MyType upon resolving\n    var deferred = this.$q.defer&lt;Foo&gt;(); // Type the deferred to get better 'intellisense' support\n    if (this.abc = 99) {\n        deferred.resolve(new Foo());\n    }\n    if (this.abc = 88) {\n        deferred.reject(\"You can pass in whatever you like to the reject case\");\n    }\n    return deferred.promise;\n};\n</code></pre>\n\n<h1>topicNewSubmit</h1>\n\n<p>The <code>$http</code> already returns promises, so you only need to hook into these by attaching a <code>then</code> callback and <em>returning</em> from that method to allow chaining other <code>then</code> callabacks to it.</p>\n\n<p>In that case the return type of your service method would be <code>angular.IPromise&lt;() =&gt; any&gt;</code> where you can replace <code>any</code> with a type you'd like. The return type of the <code>then</code> method would have to correspond to whatever type you chose for the generic placeholder in the return type of the service method.</p>\n\n<pre><code>topicNewSubmit = () : IPromise&lt;Foo&gt; =&gt; {\n    return this.$http({ url: this.url, method: \"GET\" }).then((response): Foo =&gt; {\n        return new Foo();\n    }, (error) =&gt; {\n        return \"whatever you'd like, it does not have to correspond to Foo\";\n    });\n}\n</code></pre>\n\n<p>You could then use your service like</p>\n\n<pre><code>MyService.topicNewSubmit().then((data) =&gt; {\n    // data needs to be of type T, where T is the type you defined in the generic placeholder of IPromise&lt;T&gt;\n}, (error: any) =&gt; {\n    // In the error case, the parameters are of type any\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7603, "user_id": 941319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f8f456a2f35fc05e048e45ba55be48a?s=128&d=identicon&r=PG", "display_name": "thoughtrepo", "link": "https://stackoverflow.com/users/941319/thoughtrepo"}, "is_accepted": false, "score": 3, "last_activity_date": 1443467403, "creation_date": 1443467403, "answer_id": 32830107, "question_id": 32752684, "link": "https://stackoverflow.com/questions/32752684/how-can-i-return-a-success-and-an-error-promise-with-and-without-data/32830107#32830107", "title": "How can I return a success and an error promise with and without data?", "body": "<p>To be honest, I feel like I'm shooting in the dark with your code sample, but here's my solution.</p>\n\n<p>Like Anzeo, I removed the references to <code>self</code> or <code>this</code>. <code>$q</code> and <code>$http</code> should be assigned somewhere.</p>\n\n<pre><code>declare var $q: ng.IQService;\ndeclare var $http: ng.IHttpService;\n\nvar topicNewSubmit = (): ng.IPromise&lt;any&gt; =&gt; {\n\n    var deferred = $q.defer&lt;any&gt;();\n\n    var myData1 = { abc: 123 };\n\n    if (this.abc = 22) {\n\n        deferred.resolve();\n\n    } else if (this.abc = 33) {\n\n        deferred.resolve(myData1);\n\n    } else if (this.abc = 88) {\n\n        deferred.reject();\n\n    } else {\n\n        $http({\n            url: this.url,\n            method: \"GET\"\n        })\n        .then(() =&gt; {\n            deferred.resolve({ abc: 245 });\n        }, () =&gt; {\n            deferred.reject({ abc: 345 });\n        });\n    }\n\n    return deferred.promise;\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 780, "user_id": 2012123, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Wc3lD.png?s=128&g=1", "display_name": "ilmgb", "link": "https://stackoverflow.com/users/2012123/ilmgb"}, "edited": false, "score": 1, "creation_date": 1444052910, "post_id": 32835820, "comment_id": 53725181, "body": "Don&#39;t agree, too. No need to return a promise from $http, as $http itself is a promise. See the angular documentation: <a href=\"https://docs.angularjs.org/api/ng/service/$http\" rel=\"nofollow noreferrer\">docs.angularjs.org/api/ng/service/$http</a> -&gt; General Usage."}], "tags": [], "owner": {"reputation": 1121, "user_id": 4809152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3HLuL.jpg?s=128&g=1", "display_name": "Arun", "link": "https://stackoverflow.com/users/4809152/arun"}, "is_accepted": false, "score": 2, "last_activity_date": 1443501692, "creation_date": 1443501692, "answer_id": 32835820, "question_id": 32752684, "link": "https://stackoverflow.com/questions/32752684/how-can-i-return-a-success-and-an-error-promise-with-and-without-data/32835820#32835820", "title": "How can I return a success and an error promise with and without data?", "body": "<p>You can use promise like </p>\n\n<pre><code>var deferred = $q.deferred();\n  $http(api url and method)\n    .success function() {\n         deferred.resolve(); \n    }\n    .failure function()  {\n        deferred.reject(); \n    }\n    return deferred.promise;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user1464139"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5657, "favorite_count": 1, "accepted_answer_id": 32818359, "answer_count": 4, "score": 8, "last_activity_date": 1443540847, "creation_date": 1443064326, "last_edit_date": 1443500405, "question_id": 32752684, "link": "https://stackoverflow.com/questions/32752684/how-can-i-return-a-success-and-an-error-promise-with-and-without-data", "title": "How can I return a success and an error promise with and without data?", "body": "<p>I would like to return a promise and an object called <code>output</code> either before or after the $http call. Can someone advise me how I can do this with the AngularJS framework and very important with <strong>Typescript</strong> so I can be sure it is working correctly? </p>\n\n<pre><code> topicNewSubmit = (): ng.IPromise&lt;any&gt; =&gt; {\n    var self = this;\n    var myData1 = { abc: 123 }\n\n    if (self.abc = 22) {\n        // How can I return an OKAY promise from here?\n    }\n    if (self.abc = 33) {\n        // How can I return an OKAY promise with myData1 from here?\n    }\n    if (self.abc = 88) {\n        // How can I return a FAIL promise from here?\n    }\n\n    return self.$http({ url: self.url, method: \"GET\" })\n        .then(\n            (response: ng.IHttpPromiseCallbackArg&lt;any&gt;): any =&gt; {            \n            var myData2 = { abc: 245 }\n            // How can I return a promise and myData2. \n            // return(myData2) gives an error with Typescript\n\n            // How can I return a promise and no data\n            // return gives an error with Typescript \n        },\n        (error: ng.IHttpPromiseCallbackArg&lt;any&gt;): ng.IPromise&lt;any&gt; =&gt; {\n            var myData3 = { abc: 345 }\n            // Is this the correct way to return an unhandled reject with myData3\n            return self.$q.reject(myData);\n        });\n  }\n</code></pre>\n"}]