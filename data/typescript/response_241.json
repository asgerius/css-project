[{"tags": ["angular", "typescript", "http"], "comments": [{"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "edited": false, "score": 0, "creation_date": 1566434191, "post_id": 57600481, "comment_id": 101658464, "body": "How did you call it? By triggering the <code>_getCategories()</code> or <code>getCategories()</code> method again?"}, {"owner": {"reputation": 1532, "user_id": 6113960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c1166defd66f28cce815ecb42cbf55?s=128&d=identicon&r=PG&f=1", "display_name": "Yasser Mas", "link": "https://stackoverflow.com/users/6113960/yasser-mas"}, "edited": false, "score": 0, "creation_date": 1566434772, "post_id": 57600481, "comment_id": 101658559, "body": "Check chrome devTools network tab if request submitted to the server or not,   try to call twice this._getCategories(); in ngOnInit and check the behavior   are you sure that the second time ( not the initial request )  logs your comment"}, {"owner": {"reputation": 6894, "user_id": 7975771, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/zQ6RZ.jpg?s=128&g=1", "display_name": "varman", "link": "https://stackoverflow.com/users/7975771/varman"}, "edited": false, "score": 0, "creation_date": 1566441449, "post_id": 57600481, "comment_id": 101659623, "body": "Check whether the call hits your backend. And can you update where you called?"}, {"owner": {"reputation": 1373, "user_id": 4039178, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/kC3cT.png?s=128&g=1", "display_name": "Sandeep", "link": "https://stackoverflow.com/users/4039178/sandeep"}, "edited": false, "score": 0, "creation_date": 1566481776, "post_id": 57600481, "comment_id": 101676990, "body": "are you using trackBy ?"}, {"owner": {"reputation": 3806, "user_id": 4121973, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/799709582fc0e914777e0c2248bbf9cc?s=128&d=identicon&r=PG", "display_name": "Matthew Brown", "link": "https://stackoverflow.com/users/4121973/matthew-brown"}, "edited": false, "score": 0, "creation_date": 1566516891, "post_id": 57600481, "comment_id": 101691035, "body": "The network request is never sent.  I&#39;m calling <code>_getCategories()</code>  again."}], "answers": [{"tags": [], "owner": {"reputation": 3806, "user_id": 4121973, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/799709582fc0e914777e0c2248bbf9cc?s=128&d=identicon&r=PG", "display_name": "Matthew Brown", "link": "https://stackoverflow.com/users/4121973/matthew-brown"}, "is_accepted": false, "score": 0, "last_activity_date": 1566518487, "creation_date": 1566518487, "answer_id": 57618330, "question_id": 57600481, "link": "https://stackoverflow.com/questions/57600481/angular-6-cant-call-http-service-twice/57618330#57618330", "title": "Angular 6 can&#39;t call HTTP service twice?", "body": "<p>This turned out to be a specific issue with ngx-datatable, and my misunderstanding of the library, possibly JS.  </p>\n\n<p>Simply setting <code>this.categories = response;</code> wasn't allowing the table to be updated with new data, I needed to use the JS spread operator. </p>\n\n<p>Like this:</p>\n\n<pre><code>this.categories = [...response];\n</code></pre>\n\n<p>If I don't do this, the data isn't updated.  Maybe someone can comment on the reason behind this.</p>\n"}], "owner": {"reputation": 3806, "user_id": 4121973, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/799709582fc0e914777e0c2248bbf9cc?s=128&d=identicon&r=PG", "display_name": "Matthew Brown", "link": "https://stackoverflow.com/users/4121973/matthew-brown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566518487, "creation_date": 1566431739, "question_id": 57600481, "link": "https://stackoverflow.com/questions/57600481/angular-6-cant-call-http-service-twice", "title": "Angular 6 can&#39;t call HTTP service twice?", "body": "<p>I'm at a loss, I have a service that uses <code>http</code> client to fetch data:</p>\n\n<pre><code>export class CategoryService {\n  ...\n  public getCategories(include?: string): Observable&lt;ICategory[]&gt; {\n    return this.http.get(`/categories?include=${include}`);\n  }\n  ...\n}\n</code></pre>\n\n<p>This is called initially from an <code>ngOnInit</code> method in another component, and works fine, the data is returned and I display it in the view.</p>\n\n<pre><code>export class ListCategoriesComponent implements OnInit {\n  ...\n  public ngOnInit() {\n    this._getCategories();\n  }\n\n  private _getCategories() {\n    // Debug\n    console.log('called getCategories');\n\n    this.loading = true;\n    this.categories = [];\n    this.temp = [];\n    this.catService.getCategories('products')\n      .subscribe((response) =&gt; {\n        this.categories = response;\n        this.temp = [...this.categories];\n        this.loading = false;\n      }, (err) =&gt; {\n        this.loading = false;\n      });\n  }\n  ...\n}\n</code></pre>\n\n<p>The problem I'm having is, when I try to call <code>_getCategories</code> again to refresh the data, I can see the method is invoked from the <code>console.log</code> output.  But the data in my view does not refresh.  The XHR request is not resent to the server.</p>\n\n<p>I swear I used to be able to do this in Angular 2 &amp; Angular 4.  But now for some reason it just doesn't work.  What am I missing here?</p>\n"}, {"tags": ["javascript", "angular", "reactjs", "typescript", "redux"], "comments": [{"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 1, "creation_date": 1566433418, "post_id": 57600358, "comment_id": 101658351, "body": "Using <code>==</code> or <code>===</code> makes no difference in this case. You need to post actual code. If you have <code>X = {a:{b:{c:true}}}</code> and <code>Y = {a:{b:{...X.a.b.c, c:false}}}</code> then <code>X===Y</code> and <code>X==Y</code> will be false, as you are comparing two distinct objects, not two references to the same object."}], "answers": [{"tags": [], "owner": {"reputation": 215, "user_id": 11236148, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ze05mm_g50A/AAAAAAAAAAI/AAAAAAAAAB8/QgqpLqiXWdA/photo.jpg?sz=128", "display_name": "Aphrem Thomas", "link": "https://stackoverflow.com/users/11236148/aphrem-thomas"}, "is_accepted": false, "score": 0, "last_activity_date": 1566452041, "last_edit_date": 1566452041, "creation_date": 1566451498, "answer_id": 57602534, "question_id": 57600358, "link": "https://stackoverflow.com/questions/57600358/does-changing-reference-of-nested-object-is-changing-reference-to-root-object/57602534#57602534", "title": "Does changing reference of nested object is changing reference to root object?", "body": "<p>To compare two nested objects, we should do deep comparison. === will only check for equality of reference of the objects. For deep comparison we can use loadash's isEqual function.<code>_.isEqual(X, Y);</code> it will return true if they are equal.</p>\n\n<p>Or you can just stringify both objects and compare them  <code>JSON.stringify(X) === JSON.stringify(Y)</code></p>\n"}, {"tags": [], "owner": {"reputation": 75, "user_id": 7266012, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QqL_FizD6eM/AAAAAAAAAAI/AAAAAAAAAGk/HMuC6ANNmTA/photo.jpg?sz=128", "display_name": "Raj Kumar Boddu", "link": "https://stackoverflow.com/users/7266012/raj-kumar-boddu"}, "is_accepted": false, "score": 0, "last_activity_date": 1568809889, "creation_date": 1568809889, "answer_id": 57992902, "question_id": 57600358, "link": "https://stackoverflow.com/questions/57600358/does-changing-reference-of-nested-object-is-changing-reference-to-root-object/57992902#57992902", "title": "Does changing reference of nested object is changing reference to root object?", "body": "<p>There is a mistake in the part of code where you are using spread operator (...X.a.b.c).</p>\n\n<p>X.a.b.c is holding a primitive value. So, if we try to use spread operator on a primitive, it won't result anything.</p>\n\n<p>For Example,</p>\n\n<pre><code>let a = {\n  x: 2\n};\n\nlet b = {\n  ...a.x\n};\n\nlet c = {\n  x: 2\n}\n\nlet e = a;\n\nconsole.log(b); // Logs {} to the console\nconsole.log(a===c); // Logs false to the console\nconsole.log(a==c); // Logs false to the console\nconsole.log(a==e); // Logs true to the console\n</code></pre>\n\n<blockquote>\n  <p>In comparison part, if we compare two variables which hold reference to\n  two different objects then it will return <code>false</code> but if we compare\n  two variables which hold reference to the same object then it will\n  return <code>true</code>.</p>\n</blockquote>\n\n<p>Refer the below MDN docs for <code>Object.is</code> function for more information on different ways to compare objects and primitives.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is</a></p>\n"}], "owner": {"reputation": 633, "user_id": 6540869, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1041194359305348/picture?type=large", "display_name": "Oskar Wo\u017aniak", "link": "https://stackoverflow.com/users/6540869/oskar-wo%c5%baniak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1568809889, "creation_date": 1566430499, "question_id": 57600358, "link": "https://stackoverflow.com/questions/57600358/does-changing-reference-of-nested-object-is-changing-reference-to-root-object", "title": "Does changing reference of nested object is changing reference to root object?", "body": "<p>I'm not fully sure how I can test that - Please advise</p>\n\n<p>Lets say that we have object X</p>\n\n<pre><code>{\n    a: {\n        b: {\n            c: true\n        }\n    }\n}\n</code></pre>\n\n<p>Then we are mutating it so we are having object Y</p>\n\n<pre><code>{\n    a: {\n        b: {\n            ...X.a.b.c, \n            c: false\n        }\n    }\n}\n</code></pre>\n\n<p>Question if we compare X === Y (using strict equal) it will return true because the reference of compared objects is the same but not for child objects?</p>\n"}, {"tags": ["javascript", "typescript", "dictionary", "for-loop", "syntax-error"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 1, "creation_date": 1566429708, "post_id": 57600272, "comment_id": 101657699, "body": "That code won&#39;t work in any case, but I don&#39;t see how it could cause that error."}, {"owner": {"reputation": 6288, "user_id": 235146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a2ffcadce1f8df6419084de7e0aad6a0?s=128&d=identicon&r=PG", "display_name": "Glycerine", "link": "https://stackoverflow.com/users/235146/glycerine"}, "edited": false, "score": 0, "creation_date": 1566429928, "post_id": 57600272, "comment_id": 101657758, "body": "That error sounds MS specific. Are you running this in IE? And if so; are you checking for cross-compatibility of your files? This error wasn&#39;t caused by this exact code. The snippet you&#39;ve given is syntactically correct."}], "answers": [{"comments": [{"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 2, "creation_date": 1566430574, "post_id": 57600336, "comment_id": 101657887, "body": "<code>[&#39;ENG&#39;, &#39;JAP&#39;, &#39;CHI&#39;, &#39;RUS&#39;].includes(key);</code> would be a more preferred way of doing it."}], "tags": [], "owner": {"reputation": 658, "user_id": 7699428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cyG9L.jpg?s=128&g=1", "display_name": "N. Djokic", "link": "https://stackoverflow.com/users/7699428/n-djokic"}, "is_accepted": false, "score": 2, "last_activity_date": 1566430293, "creation_date": 1566430293, "answer_id": 57600336, "question_id": 57600272, "link": "https://stackoverflow.com/questions/57600272/javascript-syntaxerror-unexpected-end-of-input/57600336#57600336", "title": "JavaScript SyntaxError: Unexpected end of input", "body": "<p>Problem is with statment:</p>\n\n<pre><code>(key === ('ENG' || 'JAP' || 'CHI' || 'RUS'))\n</code></pre>\n\n<p>You should compare key separately with each string:</p>\n\n<pre><code>(key === 'ENG' || key === 'JAP' || key === 'CHI' || key === 'RUS')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 734, "user_id": 7558480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28b7dcedfb2beba94fcc93370f644783?s=128&d=identicon&r=PG", "display_name": "Richard Haddad", "link": "https://stackoverflow.com/users/7558480/richard-haddad"}, "is_accepted": false, "score": 0, "last_activity_date": 1566430676, "creation_date": 1566430676, "answer_id": 57600377, "question_id": 57600272, "link": "https://stackoverflow.com/questions/57600272/javascript-syntaxerror-unexpected-end-of-input/57600377#57600377", "title": "JavaScript SyntaxError: Unexpected end of input", "body": "<p>@N. Djokic gave a solution.</p>\n\n<p>But you can also use an array:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>if (['ENG', 'JAP', 'CHI', 'RUS'].includes(key)) {}\n</code></pre>\n\n<p>If you choose this solution, which is more maintable, be carefull to initialize your array earlier in your code, not in your loop.</p>\n"}, {"tags": [], "owner": {"reputation": 74, "user_id": 11953530, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oRZgtsihX2w/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reEgIrkbIDPLXP1kf_6WkDl-BAWIg/photo.jpg?sz=128", "display_name": "tripleplayj", "link": "https://stackoverflow.com/users/11953530/tripleplayj"}, "is_accepted": false, "score": 0, "last_activity_date": 1566436534, "creation_date": 1566436534, "answer_id": 57600889, "question_id": 57600272, "link": "https://stackoverflow.com/questions/57600272/javascript-syntaxerror-unexpected-end-of-input/57600889#57600889", "title": "JavaScript SyntaxError: Unexpected end of input", "body": "<p>Agreed above with @Richard. Ideally you initialize the array before the loop. This also helps if the array is bound to change or if you use the array in multiple places.</p>\n\n<pre><code>let languageArray = this.langList.keys();\n...\n\nif (languageArray.includes(key)) {\n   this.langListFiltered.set(key, value);\n}\n</code></pre>\n"}], "owner": {"reputation": 106, "user_id": 2874141, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o5yYv.jpg?s=128&g=1", "display_name": "Greg. O Hajdu", "link": "https://stackoverflow.com/users/2874141/greg-o-hajdu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1566436534, "creation_date": 1566429591, "question_id": 57600272, "link": "https://stackoverflow.com/questions/57600272/javascript-syntaxerror-unexpected-end-of-input", "title": "JavaScript SyntaxError: Unexpected end of input", "body": "<p>I've been getting an \"Unexpected end of input\" error message when running my program, but however long I keep looking at the code where it occurs. \nI just simply can't figure out where I might be missing something.</p>\n\n<pre><code>for (let [key, value] of this.langList) {\n  if (key === ('ENG' || 'JAP' || 'CHI' || 'RUS')) {\n     this.langListFiltered.set(key, value);\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript", "builder", "typescript-generics", "typescript3.0"], "answers": [{"comments": [{"owner": {"reputation": 3210, "user_id": 651983, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a7c41f3c34eb6d88a367617dcf1c550f?s=128&d=identicon&r=PG", "display_name": "Andrew Ferk", "link": "https://stackoverflow.com/users/651983/andrew-ferk"}, "edited": false, "score": 0, "creation_date": 1566431473, "post_id": 57600330, "comment_id": 101658054, "body": "This is beautiful. Thank you so much. Do you happen to know if there is a proposal to define arguments as having to be const assertions, so it&#39;s not the responsibility of the interface user to know to do this? I know this would require the function to only work with literals, but I&#39;m OK with that."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 3210, "user_id": 651983, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a7c41f3c34eb6d88a367617dcf1c550f?s=128&d=identicon&r=PG", "display_name": "Andrew Ferk", "link": "https://stackoverflow.com/users/651983/andrew-ferk"}, "edited": false, "score": 1, "creation_date": 1566431831, "post_id": 57600330, "comment_id": 101658117, "body": "@AndrewFerk I filed <a href=\"https://github.com/microsoft/TypeScript/issues/30680\" rel=\"nofollow noreferrer\">this one</a> a while ago, which is similar to what you want.  If you look in there, it also shows how you can get the compiler to infer narrower types today with some non-intuitive syntax (aka evil wizardry)."}, {"owner": {"reputation": 3210, "user_id": 651983, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a7c41f3c34eb6d88a367617dcf1c550f?s=128&d=identicon&r=PG", "display_name": "Andrew Ferk", "link": "https://stackoverflow.com/users/651983/andrew-ferk"}, "edited": false, "score": 0, "creation_date": 1566431898, "post_id": 57600330, "comment_id": 101658124, "body": "I just noticed that I must use <code>setDefault</code> after adding all my options. This is fine, given my example, but I was trying to NOT enforce a hierarchy. It&#39;s almost as though I want the type checking to not occur until the <code>build</code> function is called. At the same time, I&#39;d like intellisense when the options are known. Is it possible to allow <code>setDefault</code> to be called before or after <code>addOption</code> function calls?"}], "tags": [], "owner": {"reputation": 734, "user_id": 7558480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28b7dcedfb2beba94fcc93370f644783?s=128&d=identicon&r=PG", "display_name": "Richard Haddad", "link": "https://stackoverflow.com/users/7558480/richard-haddad"}, "is_accepted": true, "score": 1, "last_activity_date": 1566430247, "creation_date": 1566430247, "answer_id": 57600330, "question_id": 57600054, "link": "https://stackoverflow.com/questions/57600054/typescript-builder-pattern-with-mapped-types-and-const-assertion/57600330#57600330", "title": "TypeScript builder pattern with mapped types and const assertion", "body": "<p>Yes we can :)</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\nclass Builder&lt;T&gt; {\n    addOption&lt;V&gt;(v: V): Builder&lt;T | V&gt; {\n        // do your stuff\n\n        return this as Builder&lt;T | V&gt;;\n    }\n\n    setDefault(v: T): this {\n        // do your stuff\n\n        return this;\n    }\n\n    build(): T[] {        \n        // return list of all options ??\n    }\n}\n\nfunction optionBuilder(): Builder&lt;never&gt; {\n    return new Builder();\n}\n\noptionBuilder()\n    .addOption(1 as const)\n    .addOption('str' as const)\n    .setDefault(1)  // OK\n    .setDefault(12) // compile error\n    .setDefault('str') // OK\n    .setDefault('strstr') // compile error\n\n    .build();\n</code></pre>\n\n<p>Note that</p>\n\n<ul>\n<li>all the <code>as const</code> are necessary, otherwise <code>1</code> is considered as <code>number</code> (for example);</li>\n<li>the <code>never</code> type given to the return type of <code>optionBuilder</code> is necessary to ensure that our builder begin with NO type at all, otherwise it will use <code>unknown</code> instead and accept everything;</li>\n</ul>\n\n<p>Maybe there is a better solution, I hope !</p>\n"}], "owner": {"reputation": 3210, "user_id": 651983, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a7c41f3c34eb6d88a367617dcf1c550f?s=128&d=identicon&r=PG", "display_name": "Andrew Ferk", "link": "https://stackoverflow.com/users/651983/andrew-ferk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 289, "favorite_count": 0, "accepted_answer_id": 57600330, "answer_count": 1, "score": 1, "last_activity_date": 1566430247, "creation_date": 1566427790, "question_id": 57600054, "link": "https://stackoverflow.com/questions/57600054/typescript-builder-pattern-with-mapped-types-and-const-assertion", "title": "TypeScript builder pattern with mapped types and const assertion", "body": "<p>In TypeScript I can create a function <code>buildOptions(options, default)</code>, where <code>options</code> is an array of anything and <code>default</code> is a value that must be from the array of options. I believe this can be done because of <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#mapped-types\" rel=\"nofollow noreferrer\">mapped types</a> and <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-4.html#const-assertions\" rel=\"nofollow noreferrer\">const assertions</a>.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const buildOptions = &lt;T, K extends T[][number]&gt;(\n  options: Readonly&lt;T[]&gt;,\n  defaultOption: K\n) =&gt; ({\n  options,\n  default: options.findIndex(x =&gt; x === defaultOption),\n});\n\n// works\nbuildOptions(['a', 'b'] as const, 'a');\n\n// compile error: Argument of type '4' is not assignable to parameter of type '2 | 1 | 3'.\nbuildOptions([1, 2, 3] as const, 4);\n</code></pre>\n\n<p>Is it possible to add this level of typing using the builder pattern? I'd like to have an interface that is used similar to the following:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>optionBuilder()\n  .addOption(1)\n  .addOption(2)\n  .addOption(3)\n  .setDefault(4) // compile error\n  .build();\n</code></pre>\n\n<p>Or possibly:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>optionBuilder()\n  .addOptions([1, 2, 3] as const)\n  .setDefault(4) // compile error\n  .build();\n</code></pre>\n\n<p>If this can't be done in TypeScript, does anyone know what language this could be done in?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["typescript", "generics", "types", "tuples"], "answers": [{"comments": [{"owner": {"reputation": 4440, "user_id": 1243041, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BIEgb.jpg?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1243041/ian"}, "edited": false, "score": 0, "creation_date": 1566428296, "post_id": 57599873, "comment_id": 101657401, "body": "While this behavior is similar to what I am describing, a function is not equivalent to a type and can&#39;t be used in any of the same places."}, {"owner": {"reputation": 4173, "user_id": 7428434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1348497625208827/picture?type=large", "display_name": "Shanon Jackson", "link": "https://stackoverflow.com/users/7428434/shanon-jackson"}, "reply_to_user": {"reputation": 4440, "user_id": 1243041, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BIEgb.jpg?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1243041/ian"}, "edited": false, "score": 0, "creation_date": 1566430464, "post_id": 57599873, "comment_id": 101657866, "body": "added edit hope this helps, it wont be possible to infer the key in a variable like i said in the above comment so you will have to add it to the type hardcoded"}], "tags": [], "owner": {"reputation": 4173, "user_id": 7428434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1348497625208827/picture?type=large", "display_name": "Shanon Jackson", "link": "https://stackoverflow.com/users/7428434/shanon-jackson"}, "is_accepted": false, "score": 0, "last_activity_date": 1566430439, "last_edit_date": 1566430439, "creation_date": 1566426321, "answer_id": 57599873, "question_id": 57599715, "link": "https://stackoverflow.com/questions/57599715/tuple-where-a-succeeding-elements-type-is-dependent-on-the-value-of-a-preceding/57599873#57599873", "title": "Tuple where a succeeding element&#39;s type is dependent on the value of a preceding element", "body": "<pre><code>const keyedTuple = &lt;T, K extends keyof T&gt;(obj: T, key: K): [T, T[K]] =&gt; {\n    return [obj, obj[key]]\n}\n\ninterface IPerson {\n    name: string;\n    age: number\n}\ndeclare const Person: IPerson\nconst test = keyedTuple(Person, \"name\") // [Person, string]\n</code></pre>\n\n<p>Is one way to achieve this, i'm more in favor of having a function to achieve this than remembering to write out a colon or \"as\" cast to the correct type.</p>\n\n<p>Your code wont work unless the key is known it can't be inferred from a variable but can be inferred from a function.</p>\n\n<p>IE Your code would have to change to something like <code>ObjKeyed&lt;OBJ, KEY&gt; = [Obj, Key]</code></p>\n\n<p>EDIT: With types:</p>\n\n<pre><code>type KeyedTuple&lt;T, K extends keyof T&gt; = [K, T[K]];\n\ninterface ExampleI {\n  a: number;\n  b: string;\n}\n\nconst one: KeyedTuple&lt;ExampleI, \"a\"&gt; = [\"a\", 34]; // good\nconst two: KeyedTuple&lt;ExampleI, \"a\"&gt; = [\"a\", \"not a number\"]; // bad\nconst three: KeyedTuple&lt;ExampleI, \"b\"&gt; = [\"b\", 47]; // bad\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4440, "user_id": 1243041, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BIEgb.jpg?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1243041/ian"}, "edited": false, "score": 0, "creation_date": 1566487916, "post_id": 57600571, "comment_id": 101680641, "body": "This does solve the example I gave exactly. Unfortunately though, that was a simplified version of my problem. In a more complex instance, I don&#39;t think it would be feasible to create a union of every possible type"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 4440, "user_id": 1243041, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BIEgb.jpg?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1243041/ian"}, "edited": false, "score": 0, "creation_date": 1566488129, "post_id": 57600571, "comment_id": 101680756, "body": "A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of the issue that you don&#39;t think this addresses would be helpful"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": false, "score": 1, "last_activity_date": 1566432863, "creation_date": 1566432863, "answer_id": 57600571, "question_id": 57599715, "link": "https://stackoverflow.com/questions/57599715/tuple-where-a-succeeding-elements-type-is-dependent-on-the-value-of-a-preceding/57600571#57600571", "title": "Tuple where a succeeding element&#39;s type is dependent on the value of a preceding element", "body": "<p>Conceptually I think you want <code>KeyedTuple&lt;T&gt;</code> to be a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#union-types\" rel=\"nofollow noreferrer\">union</a> of <code>[K, T[K]]</code> tuples for all <code>K</code> in <code>keyof T</code>.  This can be achieved with <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#mapped-types\" rel=\"nofollow noreferrer\">mapped</a> and <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#keyof-and-lookup-types\" rel=\"nofollow noreferrer\">lookup</a> types, like this:</p>\n\n<pre><code>type KeyedTuple&lt;T&gt; = { [K in keyof T]: [K, T[K]] }[keyof T];\n</code></pre>\n\n<p>Let's test it:</p>\n\n<pre><code>interface ExampleI {\n  a: number;\n  b: string;\n}\n\ntype KeyedTupleExampleI = KeyedTuple&lt;ExampleI&gt;;\n// type KeyedTupleExampleI = [\"a\", number] | [\"b\", string]\n</code></pre>\n\n<p>It gives you exactly the behavior you were asking for:</p>\n\n<pre><code>const one: KeyedTuple&lt;ExampleI&gt; = [\"a\", 34]; // okay\nconst two: KeyedTuple&lt;ExampleI&gt; = [\"a\", \"not a number\"]; // error\nconst three: KeyedTuple&lt;ExampleI&gt; = [\"b\", 47]; // error\n</code></pre>\n\n<p>Furthermore, since assignments act as <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#type-guards-and-differentiating-types\" rel=\"nofollow noreferrer\">type guards</a> on union types, the compiler will remember which key/value pair a variable is:</p>\n\n<pre><code>one[1].toFixed(); // okay, remembers one[1] is a number\n</code></pre>\n\n<p>Hope that helps; good luck!</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/JYOwLgpgTgZghgYwgAgKIA84FsAOAbCASWQG8AoZZOALmRAFcsAjaAbguSdoGcwpQA5uwC+ZMmACeOFAGkIEiABMAKvXwQAPMoB8yALylkAbRnJQyANbyA9jGTKAurRMAaeyYcPkwo1Ym37B3ZxKVl5JVV1DGx1YgM5BRU1Ag1o3AJCbXYAemzkSWlkBIjkiDTY-WMAIjgqtwZmaC8AH2qmOuRefhABBzEEaxBeZEGIWmKk9VTMdKJdAyMajoBmABYg5FyRizgJMgGhsHyAd2tx8MmU8oz56tq3KpBrI7g6RhYoKo2t6ChrKH2g2GYAAFlAIGMihdIlcZrFbot2m5VgB2b55X7-MSjIwARgcADowNYAGLAdBKAAUAEpWJs8tYdhIgA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 4440, "user_id": 1243041, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BIEgb.jpg?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1243041/ian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1566432863, "creation_date": 1566425215, "last_edit_date": 1566428204, "question_id": 57599715, "link": "https://stackoverflow.com/questions/57599715/tuple-where-a-succeeding-elements-type-is-dependent-on-the-value-of-a-preceding", "title": "Tuple where a succeeding element&#39;s type is dependent on the value of a preceding element", "body": "<p>I think I have a simple question, but I also am not sure that this is possible in TypeScript. </p>\n\n<p>Essentially I want to define a tuple type which has two elements and the second element depends on the value of the first.</p>\n\n<p>As an example of this, I want to make a type where the first tuple element is a key of an interface, and the second tuple element is then tied to the type of that property. For example:</p>\n\n<pre><code>interface ExampleI {\n  a: number;\n  b: string;\n}\n\nconst one: KeyedTuple&lt;ExampleI&gt; = [\"a\", 34]; // good\nconst two: KeyedTuple&lt;ExampleI&gt; = [\"a\", \"not a number\"]; // bad\nconst three: KeyedTuple&lt;ExampleI&gt; = [\"b\", 47]; // bad\n</code></pre>\n\n<p>I tried to do the following:</p>\n\n<pre><code>type KeyedTuple&lt;T, K extends keyof T&gt; = [K, T[K]];\n</code></pre>\n\n<p>This almost works, but the compiler only considers the type of <code>K</code>, not the value of <code>K</code>, so the second element <em>always</em> has type <code>number | string</code>.</p>\n\n<p>Is this possible? If so, how?</p>\n"}, {"tags": ["typescript", "react-native", "react-native-navigation"], "owner": {"reputation": 9533, "user_id": 2829540, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/jCIIp.jpg?s=128&g=1", "display_name": "Kevin Amiranoff", "link": "https://stackoverflow.com/users/2829540/kevin-amiranoff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1566424910, "creation_date": 1566424910, "question_id": 57599661, "link": "https://stackoverflow.com/questions/57599661/how-to-type-component-using-react-native-navigation-and-typescript-with-register", "title": "How to type component using React Native Navigation and Typescript with registerComponent", "body": "<p>I have a component registered like so:</p>\n\n<pre><code>  Navigation.registerComponent(screens.myScreen, () =&gt; props =&gt; (\n    &lt;Provider store={store}&gt;\n      &lt;MyScreen {...props} /&gt;\n    &lt;/Provider&gt;\n  ));\n</code></pre>\n\n<p>I have an interface for this component it where I can type props:</p>\n\n<pre><code>export interface MyScreen extends [WIX NATIVE NAVIGATION INTERFACE] {\n...\n...\n}\n</code></pre>\n\n<p>I would like to extend this interface to include the props from React Native Navigation <code>registerComponent</code> but I haven't found the right declaration yet to replace <code>[WIX NATIVE NAVIGATION INTERFACE]</code>.</p>\n\n<p>Does <code>Wix react native navigation</code> provides an interface for it?</p>\n"}, {"tags": ["typescript", "architecture", "domain-driven-design"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1566423402, "post_id": 57599393, "comment_id": 101656137, "body": "If you add a <code>private</code> field to the class you can prevent object literal assignments. Is this the question, not sure I understood the question  ?"}, {"owner": {"reputation": 466, "user_id": 11747513, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-66uSZhofjx4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdu9MEVta-7jEd8J4L0KNfu11ycSg/photo.jpg?sz=128", "display_name": "Maxim Pyshko", "link": "https://stackoverflow.com/users/11747513/maxim-pyshko"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1566423802, "post_id": 57599393, "comment_id": 101656256, "body": "Titan, like that: <code>private readonly DO_NOT_CREATE_MANUALLY = &#39;DO NOT CREATE THIS MANUALLY!&#39;;</code>? :)"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1566424154, "post_id": 57599393, "comment_id": 101656324, "body": "Yeah, you don&#39;t really need to assign a value, just declare it <code>private readonly is_nominal: true</code>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1566424432, "post_id": 57599393, "comment_id": 101656399, "body": "Also you might actually be looking for branded types: <a href=\"https://stackoverflow.com/questions/53815551/how-to-type-check-nominal-typed-ids/53815946#53815946\" title=\"how to type check nominal typed ids\">stackoverflow.com/questions/53815551/&hellip;</a>"}, {"owner": {"reputation": 466, "user_id": 11747513, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-66uSZhofjx4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdu9MEVta-7jEd8J4L0KNfu11ycSg/photo.jpg?sz=128", "display_name": "Maxim Pyshko", "link": "https://stackoverflow.com/users/11747513/maxim-pyshko"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1566427197, "post_id": 57599393, "comment_id": 101657176, "body": "Titan, thank you for your comments! It seems better than my solution. As Kryten answered, I can have getter accessor  for private field instead of <code>is_nominal</code>"}], "answers": [{"tags": [], "owner": {"reputation": 734, "user_id": 7558480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28b7dcedfb2beba94fcc93370f644783?s=128&d=identicon&r=PG", "display_name": "Richard Haddad", "link": "https://stackoverflow.com/users/7558480/richard-haddad"}, "is_accepted": false, "score": 1, "last_activity_date": 1566426123, "creation_date": 1566426123, "answer_id": 57599850, "question_id": 57599393, "link": "https://stackoverflow.com/questions/57599393/is-there-an-elegant-way-to-have-value-objects-in-typescript/57599850#57599850", "title": "Is there an elegant way to have value objects in typescript?", "body": "<p>Like Titian said, you have to put a <code>private</code> field to the class.</p>\n\n<p>But instead of putting a useless and ugly field, you can simply externalize your constructor logic, like that:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class UserName {\n    readonly value: string;\n\n    constructor(value: string) {\n        this.value = this.compute(value);\n    }\n\n    private compute(value: string): string {\n        value = value.trim();\n        if (value === '') {\n            throw new Error('Empty value');\n        }\n        return value;\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 466, "user_id": 11747513, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-66uSZhofjx4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdu9MEVta-7jEd8J4L0KNfu11ycSg/photo.jpg?sz=128", "display_name": "Maxim Pyshko", "link": "https://stackoverflow.com/users/11747513/maxim-pyshko"}, "edited": false, "score": 0, "creation_date": 1566427561, "post_id": 57599883, "comment_id": 101657250, "body": "Thank you! Getter looks great!"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1566448780, "post_id": 57599883, "comment_id": 101660832, "body": "My point in the comments was that you don&#39;t need to create this as a runtime value, <code>private readonly is_nominal: true;</code> will work as well without any runtime assignment. It&#39;s a small difference, so doesn&#39;t matter much :)"}, {"owner": {"reputation": 466, "user_id": 11747513, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-66uSZhofjx4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdu9MEVta-7jEd8J4L0KNfu11ycSg/photo.jpg?sz=128", "display_name": "Maxim Pyshko", "link": "https://stackoverflow.com/users/11747513/maxim-pyshko"}, "edited": false, "score": 0, "creation_date": 1566462709, "post_id": 57599883, "comment_id": 101666314, "body": "But then you have unused field warning"}], "tags": [], "owner": {"reputation": 13036, "user_id": 2008384, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/xZb4I.png?s=128&g=1", "display_name": "Kryten", "link": "https://stackoverflow.com/users/2008384/kryten"}, "is_accepted": true, "score": 3, "last_activity_date": 1566426374, "creation_date": 1566426374, "answer_id": 57599883, "question_id": 57599393, "link": "https://stackoverflow.com/questions/57599393/is-there-an-elegant-way-to-have-value-objects-in-typescript/57599883#57599883", "title": "Is there an elegant way to have value objects in typescript?", "body": "<p>To flesh out the comment from @titian a little more...</p>\n\n<p>Consider the following class:</p>\n\n<pre><code>class UserName {\n    public readonly value: string;\n    constructor(value: string) {\n        if (value === '') {\n            throw new Error('Empty value');\n        }\n        this.value = value;\n    }\n}\n</code></pre>\n\n<p>According to the <a href=\"https://www.typescriptlang.org/docs/handbook/type-compatibility.html\" rel=\"nofollow noreferrer\">Typescript type compatibility documentation</a>, any object with a <code>value: string</code> property will be compatible with an instance of this class. This is what you are trying to avoid - you want to ensure that any <code>UserName</code>-like object passed to <code>userService.updateName</code> is, in fact, a <code>UserName</code> object.</p>\n\n<p>The solution is to add a private property to the class so that any <code>UserName</code>-like object must also have that private property:</p>\n\n<pre><code>class UserName {\n    public readonly value: string;\n    private readonly is_nominal: boolean = true;\n    constructor(value: string) {\n        if (value === '') {\n            throw new Error('Empty value');\n        }\n        this.value = value;\n    }\n}\n</code></pre>\n\n<p>Now, if someone does the following:</p>\n\n<pre><code>userService.updateName({ id: 1, value: { value: 'James T Kirk' } })`\n</code></pre>\n\n<p>Typescript will complain, since <code>{ value: 'James T Kirk' }</code> is missing the private <code>is_nominal</code> property.</p>\n\n<p>There is, however, a somewhat simpler (and IMHO cleaner) way to add a private field: make the value private and add an accessor.</p>\n\n<pre><code>class UserName {\n    private readonly _value: string;\n    constructor(value: string) {\n        if (value === '') {\n            throw new Error('Empty value');\n        }\n        this._value = value;\n    }\n\n    get value() { return this._value; }\n}\n</code></pre>\n"}], "owner": {"reputation": 466, "user_id": 11747513, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-66uSZhofjx4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdu9MEVta-7jEd8J4L0KNfu11ycSg/photo.jpg?sz=128", "display_name": "Maxim Pyshko", "link": "https://stackoverflow.com/users/11747513/maxim-pyshko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1343, "favorite_count": 1, "accepted_answer_id": 57599883, "answer_count": 2, "score": 0, "last_activity_date": 1567942797, "creation_date": 1566423139, "last_edit_date": 1567942797, "question_id": 57599393, "link": "https://stackoverflow.com/questions/57599393/is-there-an-elegant-way-to-have-value-objects-in-typescript", "title": "Is there an elegant way to have value objects in typescript?", "body": "<p><strong>The problem</strong></p>\n\n<p>For validation purposes I want to have some value objects in the core of my system.\nThese value objects could be classes:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class UserName {\n  readonly value: string;\n\n  constructor(value: string) {\n    this.value = value.trim();\n    if (this.value === '') {\n      throw new Error('Empty value');\n    }\n  }\n}\n\n// and use it\n\nuserService.updateName({id: 1, name: new UserName('Maxim')});\n</code></pre>\n\n<p>But it does not work well because everyone can call the service without instantiating the class and therefore without validation:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>userService.updateName({id: 1, name: {value: INVALID_NAME});\n</code></pre>\n\n<p><strong>My solution</strong></p>\n\n<p>I have an interface and utility function to create object that is not convenient to create manually:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface ValueObject&lt;T extends string, U&gt; {\n  readonly type: T;\n  readonly value: U;\n  readonly DO_NOT_CREATE_MANUALLY: 'DO NOT CREATE THIS MANUALLY!',\n}\n\nfunction ValueObject&lt;T extends string, U&gt;(type: T, value: U): ValueObject&lt;T, U&gt; {\n  return {\n    type,\n    value,\n    DO_NOT_CREATE_MANUALLY: 'DO NOT CREATE THIS MANUALLY!',\n  };\n}\n</code></pre>\n\n<p>And I have an interface for value object and utility function:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface UserName extends ValueObject&lt;'UserName', string&gt; {}\n\nfunction UserName(value: string): UserName {\n  value = value.trim();\n  if (value === '') {\n    throw new Error('Empty value');\n  }\n\n  return ValueObject('UserName', value);\n}\n</code></pre>\n\n<p>I use it like that:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>userService.updateName({id: 1, name: UserName('Maxim')});\n</code></pre>\n\n<p>It works well. No one will write:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>userService.updateName({\n  id: 1,\n  name: {\n    value: INVALI_VALUE,\n    type: 'UserName',\n    DO_NOT_CREATE_MANUALLY: 'DO NOT CREATE THIS MANUALLY!',\n  },\n});\n</code></pre>\n\n<p><strong>The question</strong></p>\n\n<p>Is there a more elegant way to have value objects in typescript without <code>DO_NOT_CREATE_MANUALLY</code>?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 9793589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9030602117b247ca81b24b54fd263fec?s=128&d=identicon&r=PG&f=1", "display_name": "Vishal Soni", "link": "https://stackoverflow.com/users/9793589/vishal-soni"}, "is_accepted": false, "score": 0, "last_activity_date": 1566452586, "creation_date": 1566452586, "answer_id": 57602693, "question_id": 57599383, "link": "https://stackoverflow.com/questions/57599383/how-can-i-properly-format-dates-in-typescript-to-make-comparisons/57602693#57602693", "title": "How can I properly format dates in TypeScript to make comparisons", "body": "<p>Just cast the date coming from the datasource in to a date format. Something like this</p>\n\n<pre><code>dt = new Date(\"dateFromDataSource\")\ndt = new Date(\"02/28/2021 12:00:00 AM\")\n</code></pre>\n\n<p>After that you can check for range with normal comparison operators.</p>\n"}], "owner": {"reputation": 19, "user_id": 4692084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83f42d49240db6f16fea67a61c96dc21?s=128&d=identicon&r=PG&f=1", "display_name": "ts1993", "link": "https://stackoverflow.com/users/4692084/ts1993"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1566452586, "creation_date": 1566423024, "question_id": 57599383, "link": "https://stackoverflow.com/questions/57599383/how-can-i-properly-format-dates-in-typescript-to-make-comparisons", "title": "How can I properly format dates in TypeScript to make comparisons", "body": "<p>I am trying to create some date variables so I can compare a date from my data source and apply conditional formatting. If the date I am returning falls within the range of these variables, I will apply a certain class in my HTML.</p>\n\n<p>Here is what I have done:</p>\n\n<pre><code>  public today = new Date();\n  public sixtyDays = new Date().setDate(this.today.getDate() + 60);\n  public tenDays = new Date().setDate(this.today.getDate() + 10);\n  public oneDay = new Date().setDate(this.today.getDate() + 1);\n</code></pre>\n\n<p>This returns the following (in the same order):</p>\n\n<pre><code>Wed Aug 21 2019 14:20:41 GMT-0700 (Mountain Standard Time)\n1571606441866\n1567286441866\n1566508841866\n</code></pre>\n\n<p>The dates from my data source return as follows: 02/28/2021 12:00:00 AM.</p>\n\n<p>What is the best way to format these dates so I can properly make comparisons?</p>\n"}, {"tags": ["postgresql", "typescript", "config", "nestjs", "typeorm"], "comments": [{"owner": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "edited": false, "score": 3, "creation_date": 1566423124, "post_id": 57599204, "comment_id": 101656042, "body": "I think the key value is <code>synchronize</code> right?"}, {"owner": {"reputation": 61, "user_id": 7253103, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NKNrs43Z8qI/AAAAAAAAAAI/AAAAAAAAAJg/6RUKOy-7kQ4/photo.jpg?sz=128", "display_name": "Ryan Marshall", "link": "https://stackoverflow.com/users/7253103/ryan-marshall"}, "reply_to_user": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "edited": false, "score": 2, "creation_date": 1566425577, "post_id": 57599204, "comment_id": 101656745, "body": "Your completly right. Too used to UK spelling, thanks for pointing it out! Working as expected now"}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 7253103, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NKNrs43Z8qI/AAAAAAAAAAI/AAAAAAAAAJg/6RUKOy-7kQ4/photo.jpg?sz=128", "display_name": "Ryan Marshall", "link": "https://stackoverflow.com/users/7253103/ryan-marshall"}, "is_accepted": true, "score": 5, "last_activity_date": 1566425677, "creation_date": 1566425677, "answer_id": 57599782, "question_id": 57599204, "link": "https://stackoverflow.com/questions/57599204/using-nestjs-and-typeorm-the-tables-are-not-being-created-automatically-after-i/57599782#57599782", "title": "Using NestJS and TypeOrm, the tables are not being created automatically after I run the NestJS application", "body": "<p>As @Jay McDoniel pointed out, synchronise should be spelt with a z not an s... (synchronize)</p>\n"}], "owner": {"reputation": 61, "user_id": 7253103, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NKNrs43Z8qI/AAAAAAAAAAI/AAAAAAAAAJg/6RUKOy-7kQ4/photo.jpg?sz=128", "display_name": "Ryan Marshall", "link": "https://stackoverflow.com/users/7253103/ryan-marshall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2016, "favorite_count": 0, "accepted_answer_id": 57599782, "answer_count": 1, "score": 1, "last_activity_date": 1566425677, "creation_date": 1566421816, "last_edit_date": 1566422178, "question_id": 57599204, "link": "https://stackoverflow.com/questions/57599204/using-nestjs-and-typeorm-the-tables-are-not-being-created-automatically-after-i", "title": "Using NestJS and TypeOrm, the tables are not being created automatically after I run the NestJS application", "body": "<p>Using a postgres DB, I am able to connect to the database, however even when following tutorials step-by-step, after creating the user.entity.ts file (code below), nothing in the database changes. </p>\n\n<p>postgres/typeorm are installed correctly as far as im aware with latest versions.</p>\n\n<pre><code>import { Entity, PrimaryGeneratedColumn, Column } from 'typeorm'\n\n@Entity()\nexport class Users {\n\n    @PrimaryGeneratedColumn('uuid')\n    id: number\n\n    @Column({\n        length: 50\n    })\n    firstName: string;\n}\n</code></pre>\n\n<p>Here is the ormconfig.json</p>\n\n<pre><code>{\n    \"type\": \"postgres\",\n    \"host\": \"localhost\",\n    \"port\": \"5432\",\n    \"username\": \"postgres\",\n    \"password\": \"pw\",\n    \"database\": \"metabook\",\n    \"synchronise\": true,\n    \"logging\": true,\n    \"entities\": [\"./dist/**/*.entity{.ts,.js}\"]\n}\n</code></pre>\n\n<p>It should be adding the 'users' table with 2 columns (id and firstName). In the console, logging, as its set to true in the ormconfig.json, should show the sql queries being run to create the table, but nothing happens other than the success of running the application (output below).</p>\n\n<p><a href=\"https://i.stack.imgur.com/pmVRp.png\" rel=\"nofollow noreferrer\">Output</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/Qzexl.png\" rel=\"nofollow noreferrer\">Expected output from tutorial video</a></p>\n\n<p>Anyone know if I am missing something?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 3727879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2024ea9f00dc0453ba7bff3310896412?s=128&d=identicon&r=PG&f=1", "display_name": "sean0923", "link": "https://stackoverflow.com/users/3727879/sean0923"}, "edited": false, "score": 0, "creation_date": 1566882909, "post_id": 57600694, "comment_id": 101784109, "body": "Yes, this is the exact answer I was looking for. Thank you for such a clear explanation! jcalz"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1566434476, "creation_date": 1566434476, "answer_id": 57600694, "question_id": 57599147, "link": "https://stackoverflow.com/questions/57599147/typescript-limiting-the-key-of-an-object-with-a-specific-string-by-using-interf/57600694#57600694", "title": "TypeScript: Limiting the key of an object with a specific string by using interface", "body": "<p>Type aliases and interfaces are different in subtle ways that are hard to list out exhaustively.  I tend to think of interfaces as being easier to <em>use</em> but harder to <em>define</em> than type aliases.  Since you're trying to define an interface, let's look at the rules for defining them.</p>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#type-aliases\" rel=\"nofollow noreferrer\">Type aliases</a> can give a name to just about any type, and as such are very flexible in how you're allowed to define them.  The type <code>{[key in KeyOfObj]?: string}</code> is a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#mapped-types\" rel=\"nofollow noreferrer\">mapped type</a>.  That's a type, so you can give it a name via type alias:</p>\n\n<pre><code>type Type = { [key in KeyOfObj]?: string };\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html\" rel=\"nofollow noreferrer\">Interfaces</a> can only be defined by explicitly writing out key/value pairs and by using <code>extends</code> to extend named types whose property keys are known statically.  A mapped type using the <code>{[A in B]: C}</code> syntax cannot be used <em>directly</em> as the definition of an interface, since it is neither an explicitly written-out list of key/value pairs, nor is it a named type. </p>\n\n<p>But, you do have a type named <code>Type</code>, and when you inspect it, you see that the compiler knows that its keys are <code>\"a\"</code>, <code>\"b\"</code>, and <code>\"c\"</code>:</p>\n\n<pre><code>/* type Type = {\n    a?: string | undefined;\n    b?: string | undefined;\n    c?: string | undefined;\n} */\n</code></pre>\n\n<p>Thus the type <code>Type</code> is a valid target for <code>extends</code>, and you can define your interface like this:</p>\n\n<pre><code>interface Interface extends Type {} // okay\n</code></pre>\n\n<p>So while the mapped type in question cannot be used <em>directly</em> in an interface definition, it can be used <em>indirectly</em> by being given a name.  </p>\n\n<p>This works as you wanted:</p>\n\n<pre><code>const objWithInterface: Interface = {\n  a: \"a\", // valid\n  b: \"b\", // valid\n  c: \"c\", // valid\n  d: \"d\" // invalid\n};\n</code></pre>\n\n<p>Do note that you can't <em>always</em> use this trick; it depends on whether or not the type you're extending has statically known keys.  Here's a way it can fail:</p>\n\n<pre><code>type TypeWithUnknownKeys = { a: string, b: string } | { c: string };\n\ninterface InterfaceFailure extends TypeWithUnknownKeys {}; // error!\n//                                 ~~~~~~~~~~~~~~~~~~~\n// An interface can only extend an object type (or \n// intersection of object types) with statically known members.\n</code></pre>\n\n<p>This fails because a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#union-types\" rel=\"nofollow noreferrer\">union type</a> doesn't have statically known keys.  The type in question will either have an <code>a</code> key and a <code>b</code> key <em>or</em> a <code>c</code> key, but the compiler can't think of this as a single object type to extend.  So even though it has a name, you can't use it to build an interface.</p>\n\n<p>Okay, hope that helps.  Good luck!</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/C4TwDgpgBA0hIHkBmCBGArKBeKAiAhrlAD56pGm4DGuA3AFD2iRQAq40OA3lANoDW8KAEsAdrHjI06ALoB+AFxQAzsABOYgOZQAvgwD0AKijNo7Ft3pRrUfIpXqtJKAFdRAEwhIxEdwxtQqPaqGqLapG6e3qK+-jZUwY5hzpFePn70OlCG+oxiwBBqSPhU0ACSogVFJdAQAB4FHspsHFBcOoxUAPaiqlBdGADqwsAAFhVVxaVKE4VTnG1WtkoEuAA0UPr6UABu+AA2wu5LqCvkG1u7B0dLVCs0F9t7h8fW7ivuRJdizzd6jKYWpBhmMAKqifiiLoAd1EcBAzW4ywcoU0G1OKKcWVIPDumOS-3o+TmNSgs2qpQAYvhhPsXGpag0IE0gRAQaNwZCYXD4M12rRNttCmoumoAIT0S4BaUy2Vy6wAPyVypVqpVku2AEFxMSKdAqPhxD19iAoPVGu5bEaMBAqMATK0ABSiqAakSVQrKW3AYQ9fpIfo2u0OyDKACUUGhI1GDnwPoN+xNUC5sKgAFsIGnUJ6AHSMIA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 53, "user_id": 3727879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2024ea9f00dc0453ba7bff3310896412?s=128&d=identicon&r=PG&f=1", "display_name": "sean0923", "link": "https://stackoverflow.com/users/3727879/sean0923"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "accepted_answer_id": 57600694, "answer_count": 1, "score": 0, "last_activity_date": 1566434476, "creation_date": 1566421454, "question_id": 57599147, "link": "https://stackoverflow.com/questions/57599147/typescript-limiting-the-key-of-an-object-with-a-specific-string-by-using-interf", "title": "TypeScript: Limiting the key of an object with a specific string by using interface", "body": "<p>I want to limit the key of an object with interface.</p>\n\n<p>I can achieve this by using <code>type</code> </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type KeyOfObj = 'a' | 'b' | 'c';\n\ntype Type = { [key in KeyOfObj]?: string };\n\nconst objWithType: Type = {\n  a: 'a', // valid\n  b: 'b', // valid\n  c: 'c', // valid\n  d: 'd', // invalid\n};\n</code></pre>\n\n<p>Is there a way to achieve the above behavior using <code>interface</code>?\nIn other words, is there a way to make code below valid?</p>\n\n<pre><code>type KeyOfObj = 'a' | 'b' | 'c';\n\ninterface Interface {\n  [key in KeyOfObj]?: string; // this code throws error\n}\n\nconst objWithInterface: Interface = {\n  a: 'a', // valid\n  b: 'b', // valid\n  c: 'c', // valid\n  d: 'd', // invalid\n};\n</code></pre>\n\n<p>I am still confused about when to use <code>type</code> vs <code>interface</code> for object even after reading this (<a href=\"https://medium.com/@martin_hotell/interface-vs-type-alias-in-typescript-2-7-2a8f1777af4c\" rel=\"nofollow noreferrer\">https://medium.com/@martin_hotell/interface-vs-type-alias-in-typescript-2-7-2a8f1777af4c</a>) article. </p>\n\n<p>I always thought <code>interface</code> could do more than what <code>type</code> could do in terms of object. However, for the case above, it seems like <code>type</code> can do more compared to what interface can do. Any advice?</p>\n\n<p>-- Question Summary --</p>\n\n<ol>\n<li><p>How to make the second block of code valid while achieving what the first block of code is doing?</p></li>\n<li><p>Any advice when to use <code>type</code> vs <code>interface</code> dealing with object?</p></li>\n</ol>\n\n<p>Thanks!</p>\n"}, {"tags": ["typescript", "echarts"], "answers": [{"tags": [], "owner": {"reputation": 18501, "user_id": 186822, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/EZ6R7.jpg?s=128&g=1", "display_name": "Nenad", "link": "https://stackoverflow.com/users/186822/nenad"}, "is_accepted": true, "score": 2, "last_activity_date": 1566457675, "creation_date": 1566457675, "answer_id": 57603786, "question_id": 57599052, "link": "https://stackoverflow.com/questions/57599052/how-to-import-a-type-definition-separately-from-module-import/57603786#57603786", "title": "How to import a type definition separately from module import?", "body": "<p>In the TypeScript file you should keep original import definitions for <code>echarts</code> module:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import * as echarts from \"echarts\";\n</code></pre>\n\n<p>Path remapping from <code>echarts</code> to <code>node_modules/echarts/dist/echarts-en.js</code> is task for a bundling software.</p>\n\n<p>For example, with Webpack you would add alias in <code>webpack.config.js</code> in <a href=\"https://webpack.js.org/configuration/resolve/\" rel=\"nofollow noreferrer\">resolve</a> section:</p>\n\n<pre><code>module.exports = {\n  //...\n  resolve: {\n    alias: {\n      echarts$: path.resolve(__dirname, 'node_modules/echarts/dist/echarts-en')\n    }\n  }\n};\n</code></pre>\n\n<p>This would remap <code>import * as echarts from \"echarts\"</code> to <code>echarts-en.js</code> in your bundle file, while TypeScript intellisense would not be affected.</p>\n"}], "owner": {"reputation": 16558, "user_id": 1804173, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/53f721a451a1c68caf8316cefcde3083?s=128&d=identicon&r=PG", "display_name": "bluenote10", "link": "https://stackoverflow.com/users/1804173/bluenote10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 57603786, "answer_count": 1, "score": 1, "last_activity_date": 1566457675, "creation_date": 1566420784, "question_id": 57599052, "link": "https://stackoverflow.com/questions/57599052/how-to-import-a-type-definition-separately-from-module-import", "title": "How to import a type definition separately from module import?", "body": "<p>I'm trying to understand the connection between type-definitions (from Definitely Typed) and the actual module import.</p>\n\n<p>Let's take the <a href=\"https://github.com/apache/incubator-echarts\" rel=\"nofollow noreferrer\">ECharts</a> library as an example. It comes in different \"flavors\" available from its <code>dist</code> folder. After <code>npm install echarts</code> it contains for instance:</p>\n\n<pre><code>node_modules/echarts/dist/echarts.js\nnode_modules/echarts/dist/echarts.min.js\nnode_modules/echarts/dist/echarts-en.js\nnode_modules/echarts/dist/echarts-en.min.js\n...\n</code></pre>\n\n<p>Installing <code>@types/echarts</code> in addition allows to importing it via</p>\n\n<pre><code>import * as echarts from \"echarts\";\n</code></pre>\n\n<p>This works fine both in terms of the resulting JS as well as the type definitions. However the library language is Chinese. The general solution is to import the <code>echarts-en</code> flavor of the library, which is identical just using a different language definition file. This can be accomplished by switching to:</p>\n\n<pre><code>import * as echarts from \"echarts/dist/echarts-en\";\n</code></pre>\n\n<p>The resulting JS works fine, and the language is English now. However the TypeScript compiler now complains that it doesn't know type definitions for this import:</p>\n\n<pre><code>Could not find a declaration file for module 'echarts/dist/echarts-en'. '/home/&lt;user&gt;/&lt;path&gt;/node_modules/echarts/dist/echarts-en.js' implicitly has an 'any' type.\n  Try `npm install @types/echarts` if it exists or add a new declaration (.d.ts) file containing `declare module 'echarts/dist/echarts-en';\n</code></pre>\n\n<p>Having <code>@types/echarts</code> installed doesn't seem enough. How can I tell TypeScript to import the module from <code>\"echarts/dist/echarts-en\"</code>, but use the type definitions matching the <code>\"echarts\"</code> import?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-material"], "answers": [{"tags": [], "owner": {"reputation": 6304, "user_id": 9739129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1264b7591b5bd70e6284cc120b5c0d96?s=128&d=identicon&r=PG&f=1", "display_name": "nash11", "link": "https://stackoverflow.com/users/9739129/nash11"}, "is_accepted": true, "score": 2, "last_activity_date": 1566421263, "last_edit_date": 1566421263, "creation_date": 1566419899, "answer_id": 57598902, "question_id": 57598865, "link": "https://stackoverflow.com/questions/57598865/angular-material-data-table-not-sorting/57598902#57598902", "title": "Angular Material Data Table not sorting?", "body": "<p>The <code>ViewChild</code> for <code>MatSort</code> is <code>undefined</code> at <code>ngOnInit</code> since the view has not yet been initialized. To resolve this, set the <code>MatSort</code> on your <code>dataSource</code> after the view has initialized by using the <code>ngAfterViewInit</code> lifecycle hook.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>ngAfterViewInit() {\n    this.dataSource.sort = this.sort;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1566421390, "post_id": 57599107, "comment_id": 101655506, "body": "We have to wait until <code>AfterViewInit</code> in order to make sure that the <code>sortDirective</code> has been fully initialized."}], "tags": [], "owner": {"reputation": 11, "user_id": 8533825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ho2jH.jpg?s=128&g=1", "display_name": "Ouss", "link": "https://stackoverflow.com/users/8533825/ouss"}, "is_accepted": false, "score": 1, "last_activity_date": 1566421173, "creation_date": 1566421173, "answer_id": 57599107, "question_id": 57598865, "link": "https://stackoverflow.com/questions/57598865/angular-material-data-table-not-sorting/57599107#57599107", "title": "Angular Material Data Table not sorting?", "body": "<p>I had the same issue, you need to set the MatSort.\n This is how I fixed it </p>\n\n<pre><code>@ViewChild(MatSort, {static: false}) set  sortMeeting (ms: MatSort){\nthis._sort = ms;\nthis.renewDataSource(); }\n</code></pre>\n\n<p>............................................</p>\n\n<pre><code>ngOnInit(){\nthis.dataSource = new MatTableDataSource(todos);\nthis.renewDataSource();\n}\n\n\nrenewDataSource() {\nthis.dataSource.sort = this._sort;\n}\n</code></pre>\n\n<p>I hope it helps. :)</p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 715, "favorite_count": 0, "accepted_answer_id": 57598902, "answer_count": 2, "score": 2, "last_activity_date": 1566421263, "creation_date": 1566419732, "question_id": 57598865, "link": "https://stackoverflow.com/questions/57598865/angular-material-data-table-not-sorting", "title": "Angular Material Data Table not sorting?", "body": "<p><a href=\"https://stackblitz.com/edit/angular-minimal-material-table-demo-with-sorting\" rel=\"nofollow noreferrer\">[STACKBLITS LINK] I'm attempting a minimal angular material data table with sorting</a>.</p>\n\n<p>I've added the MatSortModule, implemented <code>@ViewChild</code> in the class, added the directives, set the dataSource.sort property etc. and I get the arrow on the table when I mouse hover, but the data does not sort.</p>\n\n<p>Thoughts?</p>\n\n<pre><code>    import { Component, OnInit, ViewChild } from '@angular/core';\n    import { MatTableDataSource, MatSort } from \"@angular/material\";\n\n    class Todo {\n      id: string;\n      description: string;\n      complete: boolean;\n    }\n    @Component({\n      selector: 'my-app',\n      templateUrl: './app.component.html',\n      styleUrls: ['./app.component.css']\n    })\n    export class AppComponent implements OnInit {\n      @ViewChild(MatSort, {static: false}) sort: MatSort;\n\n      /**\n      * Control column ordering and which columns are displayed.\n      */\n      displayedColumns:string[] =  ['id'];\n      dataSource: MatTableDataSource&lt;Todo&gt;;\n\n      ngOnInit() {\n        const todos: Todo[] = [\n          { id: '123', description: 'Complete me!', complete: false },\n          { id: '321', description: 'You Completed me!', complete: true }];\n        this.dataSource = new MatTableDataSource(todos);\n        this.dataSource.sort = this.sort;\n      }\n    }\n\n\n    &lt;mat-table class=\"mat-elevation-z8\" [dataSource]=\"dataSource\" matSort&gt;\n      &lt;ng-container matColumnDef=\"id\"&gt;\n        &lt;mat-header-cell *matHeaderCellDef mat-sort-header&gt;ID&lt;/mat-header-cell&gt;\n        &lt;mat-cell *matCellDef=\"let row;\"&gt;{{row.id}}&lt;/mat-cell&gt;\n      &lt;/ng-container&gt;\n      &lt;mat-header-row *matHeaderRowDef=\"displayedColumns\"&gt;\n      &lt;/mat-header-row&gt;\n      &lt;mat-row *matRowDef=\"let row; columns: displayedColumns\"&gt;&lt;/mat-row&gt;\n    &lt;/mat-table&gt;\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "jestjs", "tsconfig", "ts-jest"], "answers": [{"tags": [], "owner": {"reputation": 643, "user_id": 7389957, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FG7DGj1ia7s/AAAAAAAAAAI/AAAAAAAAArw/dqXW_DJKl4s/photo.jpg?sz=128", "display_name": "Daniel Varela", "link": "https://stackoverflow.com/users/7389957/daniel-varela"}, "is_accepted": false, "score": 3, "last_activity_date": 1566429280, "creation_date": 1566429280, "answer_id": 57600242, "question_id": 57598855, "link": "https://stackoverflow.com/questions/57598855/typescript-i-cant-compile-project-with-jest-types-jest-and-ts-jest/57600242#57600242", "title": "Typescript - I can&#39;t compile project with jest, @types/jest and ts-jest", "body": "<p>One solution is to skip checking typings from outside projects. In your <code>tsconfig.json</code>:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        ....\n        \"skipLibCheck\": true\n    }\n}\n</code></pre>\n\n<p>See all compiler options here: <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/compiler-options.html</a></p>\n"}], "owner": {"reputation": 629, "user_id": 7116039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh6.googleusercontent.com/-W1XRU2i8SxQ/AAAAAAAAAAI/AAAAAAAAAHs/ceXJf5aD9w4/photo.jpg?sz=128", "display_name": "olegario", "link": "https://stackoverflow.com/users/7116039/olegario"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2121, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1576903220, "creation_date": 1566419668, "question_id": 57598855, "link": "https://stackoverflow.com/questions/57598855/typescript-i-cant-compile-project-with-jest-types-jest-and-ts-jest", "title": "Typescript - I can&#39;t compile project with jest, @types/jest and ts-jest", "body": "<p>I'm trying to use jest to mock my <code>axios</code> requests. This is my test:</p>\n\n<pre><code>// External imports\nimport axios, { AxiosPromise } from 'axios'\n\n// Personal imports\nimport { getProgramApplications } from '#stores'\nimport { programItem } from '../fixtures/zanox'\n\ndescribe('Zanox sales', async function () {\n    describe('Get program applications', async function () {\n        it('should get program applications', async function () {\n            const program = programItem()\n            const mock = jest.spyOn(axios, 'get')\n            mock.mockReturnValueOnce({ data: [program] } as unknown as AxiosPromise&lt;unknown&gt;)\n            getProgramApplications(process.env.ZANOX_ADSPACE!)\n        })\n    })\n})\n</code></pre>\n\n<p>This is my <code>package.json</code>:</p>\n\n<pre><code>{\n    \"name\": \"zanox\",\n    \"version\": \"1.0.0\",\n    \"main\": \"index.js\",\n    \"license\": \"MIT\",\n    \"requireRewrite\": {\n        \"map\": [\n            [\n                \"#database\",\n                \"dist/src/setup/database\"\n            ],\n            [\n                \"#models/*\",\n                \"dist/src/models/*\"\n            ],\n            [\n                \"#sales\",\n                \"dist/src/sales/index\"\n            ],\n            [\n                \"#stores\",\n                \"dist/src/stores/index\"\n            ],\n            [\n                \"#stores/\",\n                \"dist/src/stores/\"\n            ],\n            [\n                \"#utils\",\n                \"dist/src/utils/index\"\n            ],\n            [\n                \"#utils/\",\n                \"dist/src/utils/\"\n            ],\n            [\n                \"#zanox/\",\n                \"dist/src/zanox/\"\n            ]\n        ]\n    },\n    \"scripts\": {\n        \"build\": \"yarn run tsc\",\n        \"clean\": \"rm -rf dist\",\n        \"doc\": \"./node_modules/typedoc/bin/typedoc --out docs/\",\n        \"lint\": \"tslint -c tslint.json -p tsconfig.json\",\n        \"lint-fix\": \"tslint -c tslint.json -p tsconfig.json --fix\",\n        \"test\": \"yarn clean &amp;&amp; yarn run build &amp;&amp; find dist/tests -name '*test.js' | xargs mocha --exit --timeout 10000 -R spec\",\n        \"test-no-build\": \"find dist/tests -name '*test.js' | xargs mocha --exit --timeout 10000 -R spec\",\n        \"watch\": \"concurrently -k -p \\\"[{name}]\\\" -n \\\"TypeScript,Node\\\" -c \\\"cyan.bold,green.bold\\\" \\\"yarn run watch-ts\\\" \\\"yarn run serve\\\"\",\n        \"watch-debug\": \"concurrently -k -p \\\"[{name}]\\\" -n \\\"TypeScript,Node\\\" -c \\\"cyan.bold,green.bold\\\" \\\"yarn run watch-ts\\\" \\\"npm run serve-debug\\\"\",\n        \"watch-ts\": \"tsc -w\"\n    },\n    \"engines\": {\n        \"node\": \"&gt;=10.0\",\n        \"yarn\": \"&gt;=1.7.0\"\n    },\n    \"devDependencies\": {\n        \"@types/axios\": \"^0.14.0\",\n        \"@types/faker\": \"^4.1.5\",\n        \"@types/jest\": \"^24.0.18\",\n        \"@types/luxon\": \"^1.4.1\",\n        \"@types/mocha\": \"^5.2.7\",\n        \"@types/nock\": \"^10.0.3\",\n        \"@types/node\": \"^12.6.8\",\n        \"@types/pg\": \"^7.4.11\",\n        \"@types/uuid\": \"^3.4.4\",\n        \"@types/winston\": \"^2.4.4\",\n        \"faker\": \"^4.1.0\",\n        \"jest\": \"^24.9.0\",\n        \"mocha\": \"^6.2.0\",\n        \"nock\": \"^10.0.6\",\n        \"prettier\": \"^1.15.3\",\n        \"ts-jest\": \"^24.0.2\",\n        \"ttypescript\": \"^1.5.5\",\n        \"typescript\": \"^3.5.3\"\n    },\n    \"dependencies\": {\n        \"@types/dotenv-safe\": \"^5.0.3\",\n        \"@types/source-map-support\": \"^0.5.0\",\n        \"aws-sdk\": \"^2.401.0\",\n        \"axios\": \"^0.18.0\",\n        \"db-migrate\": \"^0.11.5\",\n        \"db-migrate-pg\": \"^0.4.0\",\n        \"dotenv\": \"^6.2.0\",\n        \"dotenv-safe\": \"^6.1.0\",\n        \"io-ts\": \"^1.6.1\",\n        \"js-joda\": \"^1.9.2\",\n        \"luxon\": \"^1.10.0\",\n        \"pg\": \"^7.8.0\",\n        \"require-rewrite\": \"^1.0.2\",\n        \"source-map-support\": \"^0.5.10\",\n        \"tslint\": \"^5.18.0\",\n        \"tslint-eslint-rules\": \"^5.4.0\",\n        \"typedoc\": \"^0.15.0\",\n        \"utility-types\": \"^3.7.0\",\n        \"uuid\": \"^3.3.2\"\n    }\n}\n</code></pre>\n\n<p>And finally, this is my <code>tsconfig.json</code>:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"baseUrl\": \".\",\n        \"diagnostics\": false,\n        \"esModuleInterop\": true,\n        \"forceConsistentCasingInFileNames\": true,\n        \"module\": \"CommonJS\",\n        \"moduleResolution\": \"node\",\n        \"noErrorTruncation\": true,\n        \"noFallthroughCasesInSwitch\": true,\n        \"noImplicitReturns\": false,\n        \"noUnusedLocals\": true,\n        \"noUnusedParameters\": false,\n        \"outDir\": \"./dist/\",\n        \"resolveJsonModule\": true,\n        \"sourceMap\": true,\n        \"strict\": true,\n        \"target\": \"es6\",\n        \"lib\": [\n            \"es5\",\n            \"es6\",\n            \"dom\",\n            \"es2017\"\n        ],\n        \"paths\": {\n            \"#database\": [\n                \"src/setup/database\"\n            ],\n            \"#models/*\": [\n                \"src/models/*\"\n            ],\n            \"#sales\": [\n                \"src/sales/index\"\n            ],\n            \"#stores\": [\n                \"src/stores/index\"\n            ],\n            \"#stores/*\": [\n                \"src/stores/*\"\n            ],\n            \"#utils\": [\n                \"src/utils/index\"\n            ],\n            \"#utils/*\": [\n                \"src/utils/*\"\n            ],\n            \"#zanox/*\": [\n                \"src/zanox/*\"\n            ],\n            \"*\": [\n                \"node_modules/*\",\n                \"src/_vendor/*\"\n            ]\n        }\n    },\n    \"include\": [\n        \"src/**/*\",\n        \"tests/**/*\"\n    ]\n}\n</code></pre>\n\n<p>The problem is: when I try to compile my project, the terminal says:</p>\n\n<pre><code>$ /home/olegario/hotsites/monorepo-hotsites/zanox/node_modules/.bin/tsc\nnode_modules/@types/mocha/index.d.ts:2680:13 - error TS2403: Subsequent variable declarations must have the same type.  Variable 'beforeEach' must be of type 'Lifecycle', but here has type 'HookFunction'.\n\n2680 declare var beforeEach: Mocha.HookFunction;\n                 ~~~~~~~~~~\n\n  node_modules/@types/jest/index.d.ts:32:13\n    32 declare var beforeEach: jest.Lifecycle;\n                   ~~~~~~~~~~\n    'beforeEach' was also declared here.\n\nnode_modules/@types/mocha/index.d.ts:2698:13 - error TS2403: Subsequent variable declarations must have the same type.  Variable 'afterEach' must be of type 'Lifecycle', but here has type 'HookFunction'.\n\n2698 declare var afterEach: Mocha.HookFunction;\n                 ~~~~~~~~~\n\n  node_modules/@types/jest/index.d.ts:34:13\n    34 declare var afterEach: jest.Lifecycle;\n                   ~~~~~~~~~\n    'afterEach' was also declared here.\n\nnode_modules/@types/mocha/index.d.ts:2714:13 - error TS2403: Subsequent variable declarations must have the same type.  Variable 'describe' must be of type 'Describe', but here has type 'SuiteFunction'.\n\n2714 declare var describe: Mocha.SuiteFunction;\n                 ~~~~~~~~\n\n  node_modules/@types/jest/index.d.ts:35:13\n    35 declare var describe: jest.Describe;\n                   ~~~~~~~~\n    'describe' was also declared here.\n\nnode_modules/@types/mocha/index.d.ts:2735:13 - error TS2403: Subsequent variable declarations must have the same type.  Variable 'xdescribe' must be of type 'Describe', but here has type 'PendingSuiteFunction'.\n\n2735 declare var xdescribe: Mocha.PendingSuiteFunction;\n                 ~~~~~~~~~\n\n  node_modules/@types/jest/index.d.ts:37:13\n    37 declare var xdescribe: jest.Describe;\n                   ~~~~~~~~~\n    'xdescribe' was also declared here.\n\nnode_modules/@types/mocha/index.d.ts:2749:13 - error TS2403: Subsequent variable declarations must have the same type.  Variable 'it' must be of type 'It', but here has type 'TestFunction'.\n\n2749 declare var it: Mocha.TestFunction;\n                 ~~\n\n  node_modules/@types/jest/index.d.ts:38:13\n    38 declare var it: jest.It;\n                   ~~\n    'it' was also declared here.\n\nnode_modules/@types/mocha/index.d.ts:2763:13 - error TS2403: Subsequent variable declarations must have the same type.  Variable 'test' must be of type 'It', but here has type 'TestFunction'.\n\n2763 declare var test: Mocha.TestFunction;\n                 ~~~~\n\n  node_modules/@types/jest/index.d.ts:41:13\n    41 declare var test: jest.It;\n                   ~~~~\n    'test' was also declared here.\n\nnode_modules/@types/mocha/index.d.ts:2770:13 - error TS2403: Subsequent variable declarations must have the same type.  Variable 'xit' must be of type 'It', but here has type 'PendingTestFunction'.\n\n2770 declare var xit: Mocha.PendingTestFunction;\n                 ~~~\n\n  node_modules/@types/jest/index.d.ts:40:13\n    40 declare var xit: jest.It;\n                   ~~~\n    'xit' was also declared here.\n\n\nFound 7 errors.\n\nerror Command failed with exit code 2.\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\n</code></pre>\n\n<p>Most part of the discussions I found about it said to upgrade the <code>typescript</code> version and to remove the <code>jasmine</code> from the project. As you can see, there is no <code>jasmine</code> in my project and also my <code>typescript</code> version is the most recently one. Why this is happening?</p>\n"}, {"tags": ["typescript", "logical-operators", "union-types"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1566418844, "creation_date": 1566418844, "answer_id": 57598717, "question_id": 57598612, "link": "https://stackoverflow.com/questions/57598612/why-does-typescript-resolve-a-union-type-to-possible-empty-string-when-using-log/57598717#57598717", "title": "Why does typescript resolve a union type to possible empty string when using logic operators?", "body": "<p>This is a reported <a href=\"https://github.com/microsoft/TypeScript/issues/32455\" rel=\"nofollow noreferrer\">bug</a>. If <code>strictNullChecks</code> are off an extra <code>\"\"</code> sneaks in.</p>\n\n<p>Until this gets fixed you can use a type assertion or a ternary operator:</p>\n\n<pre><code>const fooObject2: FooAlias = {\n  id: fooObject &amp;&amp; fooObject.id,\n  //type: (fooObject &amp;&amp; fooObject.type) as FooType\n  type: fooObject ? fooObject.type : undefined\n};\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/?strictNullChecks=false#code/C4TwDgpgBAYg9nAKuaBeKByAhjjUA+mARiXoRgMZUYDcAsAFCDQBIwJYB2wEATgGZYVoASXhwoAb0ZQooSAC5YCZJHoNprACYKAzsG4cA5qoC+jFg1nRRAQQA2rLNqjoRCVeYpx2uqLwQB5IgArCApgZwlLBWxcABooTWiARhSMYyhHKFc4VSkoRk9vcL84QJCwgCYFG3tM9Ek1BK1fAODQ8IAyDpbStrCAOk1YvIB6EaioAAoSsvaoLp7ZgcsASgynUWUIPImZvvCAfkX9-ssoBQBXdg0IXg4IDUZjGiA\" rel=\"nofollow noreferrer\">Play</a></p>\n"}], "owner": {"reputation": 33, "user_id": 769664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a35df0d6d6d3e443597be5580772a713?s=128&d=identicon&r=PG", "display_name": "wmaciel", "link": "https://stackoverflow.com/users/769664/wmaciel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 375, "favorite_count": 0, "accepted_answer_id": 57598717, "answer_count": 1, "score": 0, "last_activity_date": 1566418844, "creation_date": 1566418378, "question_id": 57598612, "link": "https://stackoverflow.com/questions/57598612/why-does-typescript-resolve-a-union-type-to-possible-empty-string-when-using-log", "title": "Why does typescript resolve a union type to possible empty string when using logic operators?", "body": "<p>I am trying to guard against a null object using logic operators. The object which might be null contains a string and a union type as attributes. If I use \"&amp;&amp;\" operator to check if the object is not null, the whole expression is evaluated to another union type, which allows empty strings, and I have a type mismatch error.</p>\n\n<p>I've verified that if instead of using the logic operator, I use an IF statement, the code works fine, but I want to understand why is it not being resolved as I expected.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type FooType = 'aaa' | 'bbb' | 'ccc';\n\u200b\ninterface IFoo {\n  type: FooType;\n  id: string;\n}\n\u200b\ntype FooAlias = IFoo;\n\u200b\nconst fooObject = {type: 'aaa', id: '111'} as IFoo;\n\u200b\nconst fooObject2: FooAlias = {\n  id: fooObject &amp;&amp; fooObject.id,\n  type: fooObject &amp;&amp; fooObject.type\n  /* The line above complains:\n  Type '\"\" | \"aaa\" | \"bbb\" | \"ccc\"' is not assignable to type 'FooType'.\n  Type '\"\"' is not assignable to type 'FooType'.ts(2322)*/\n};\n</code></pre>\n\n<p>if instead of <code>type: fooObject &amp;&amp; fooObject.type</code> I use <code>type: fooObject? fooObject.type : null</code> it works, because it seems like it correctly dos not assume it might be an empty string.</p>\n"}, {"tags": ["typescript", "vue.js", "vuetify.js", "vue-cli", "ts-loader"], "comments": [{"owner": {"reputation": 1555, "user_id": 4410144, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OThECxGiYNw/AAAAAAAAAAI/AAAAAAAAAGI/YUupjFcuD4A/photo.jpg?sz=128", "display_name": "Marc Dix", "link": "https://stackoverflow.com/users/4410144/marc-dix"}, "edited": false, "score": 0, "creation_date": 1566447024, "post_id": 57598353, "comment_id": 101660501, "body": "Mind showing the content of <code>.&#47;plugins&#47;vuetify</code>?"}, {"owner": {"reputation": 69, "user_id": 11958916, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9v6t0sjE51Y/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reiGQicMwa7S7aZQvnd5UWNh2GOIg/photo.jpg?sz=128", "display_name": "Sebastian Bresin", "link": "https://stackoverflow.com/users/11958916/sebastian-bresin"}, "reply_to_user": {"reputation": 1555, "user_id": 4410144, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OThECxGiYNw/AAAAAAAAAAI/AAAAAAAAAGI/YUupjFcuD4A/photo.jpg?sz=128", "display_name": "Marc Dix", "link": "https://stackoverflow.com/users/4410144/marc-dix"}, "edited": false, "score": 0, "creation_date": 1566469077, "post_id": 57598353, "comment_id": 101669682, "body": "i updated the question with the contents of that file :)"}, {"owner": {"reputation": 620, "user_id": 1409310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02014a43e1a592df03d7b4522ad28755?s=128&d=identicon&r=PG", "display_name": "Joseph Connolly", "link": "https://stackoverflow.com/users/1409310/joseph-connolly"}, "edited": false, "score": 0, "creation_date": 1573145859, "post_id": 57598353, "comment_id": 103795064, "body": "I am getting this error when I run the build task in the &quot;vue ui&quot;, not when I run &quot;npm run build&quot; however..."}, {"owner": {"reputation": 620, "user_id": 1409310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02014a43e1a592df03d7b4522ad28755?s=128&d=identicon&r=PG", "display_name": "Joseph Connolly", "link": "https://stackoverflow.com/users/1409310/joseph-connolly"}, "edited": false, "score": 0, "creation_date": 1573147099, "post_id": 57598353, "comment_id": 103795741, "body": "Created a gist with the repro steps. <a href=\"https://gist.github.com/thejoecode/a860e29e8aac881c24c795b2a844bcf2\" rel=\"nofollow noreferrer\">gist.github.com/thejoecode/a860e29e8aac881c24c795b2a844bcf2</a>"}], "answers": [{"comments": [{"owner": {"reputation": 620, "user_id": 1409310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02014a43e1a592df03d7b4522ad28755?s=128&d=identicon&r=PG", "display_name": "Joseph Connolly", "link": "https://stackoverflow.com/users/1409310/joseph-connolly"}, "edited": false, "score": 0, "creation_date": 1573565248, "post_id": 58798212, "comment_id": 103916674, "body": "This is the issue, also happening on OSX. /Volumes/Macintosh HD/src/test - fails while /src/test - succeeds. I have a case sensitive partition that I was trying to build on, don&#39;t see a way to get it to succeed as /Volumes/cs/src will always fail to build."}], "tags": [], "owner": {"reputation": 73, "user_id": 5504250, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f8aCE1qXJzE/AAAAAAAAAAI/AAAAAAAAIGA/eFAHx66dFBs/photo.jpg?sz=128", "display_name": "William Atti&#233;", "link": "https://stackoverflow.com/users/5504250/william-atti%c3%a9"}, "is_accepted": false, "score": 2, "last_activity_date": 1573466261, "last_edit_date": 1573466261, "creation_date": 1573462637, "answer_id": 58798212, "question_id": 57598353, "link": "https://stackoverflow.com/questions/57598353/vuetify-2-type-errors-cannot-find-name-defaultprops/58798212#58798212", "title": "Vuetify 2 Type Errors: Cannot find name &#39;DefaultProps&#39;", "body": "<p>I had the same problem and it turned out it was because there was a symbolic link in my path:</p>\n\n<p><code>/c/linkToDev/vueApp</code> - always failed</p>\n\n<p><code>/d/devFolder/vueApp</code> - always worked</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 12407922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9a1038ccacbbea491937babc0e50fb3?s=128&d=identicon&r=PG&f=1", "display_name": "shuixiya1999", "link": "https://stackoverflow.com/users/12407922/shuixiya1999"}, "is_accepted": false, "score": 3, "last_activity_date": 1574310703, "last_edit_date": 1574310703, "creation_date": 1574308570, "answer_id": 58967068, "question_id": 57598353, "link": "https://stackoverflow.com/questions/57598353/vuetify-2-type-errors-cannot-find-name-defaultprops/58967068#58967068", "title": "Vuetify 2 Type Errors: Cannot find name &#39;DefaultProps&#39;", "body": "<p>in the Vuetify source:</p>\n\n<pre><code>export default Vuetify\nexport interface Vuetify\n</code></pre>\n\n<p>The module and the interface share the same name Vuetify cause this issue.</p>\n\n<p>When Typescript want to get the interface of Vuetify, but always the module of Vuetify.</p>\n\n<p>To fix this:</p>\n\n<p><code>import { Vuetify } from 'vuetify'</code></p>\n\n<p>add this code into your main.ts file</p>\n"}], "owner": {"reputation": 69, "user_id": 11958916, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9v6t0sjE51Y/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reiGQicMwa7S7aZQvnd5UWNh2GOIg/photo.jpg?sz=128", "display_name": "Sebastian Bresin", "link": "https://stackoverflow.com/users/11958916/sebastian-bresin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1141, "favorite_count": 1, "answer_count": 2, "score": 6, "last_activity_date": 1574310703, "creation_date": 1566417040, "last_edit_date": 1566469052, "question_id": 57598353, "link": "https://stackoverflow.com/questions/57598353/vuetify-2-type-errors-cannot-find-name-defaultprops", "title": "Vuetify 2 Type Errors: Cannot find name &#39;DefaultProps&#39;", "body": "<p>Since i updated my project to use the new 2.x release of Vuetify (<a href=\"https://vuetifyjs.com\" rel=\"noreferrer\">https://vuetifyjs.com</a>) i get some Type Errors during compile and i don't know how to get rid of them. Properly just my tsconfig is off somehow.</p>\n\n<p>i checked the docs and made sure to include vuetify in the types section in my tsconfig.json like this:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    ...\n\n    \"types\": [\n      \"webpack-env\",\n      \"jest\",\n      \"vuetify\",\n      \"axios\"\n      ],\n\n     ...\n  }\n}\n</code></pre>\n\n<p>i don't do anything fancy here:</p>\n\n<pre><code>import Vue from 'vue';\nimport App from './App.vue';\nimport vuetify from './plugins/vuetify';\nimport router from './router';\nimport store from './store';\n\nVue.config.productionTip = false;\n\nnew Vue({\n  vuetify,\n  router,\n  store,\n  render: (h) =&gt; h(App),\n}).$mount('#app');\n</code></pre>\n\n<p>then i run the dev server with: <code>yarn serve</code></p>\n\n<pre><code>ERROR in /Users/sebe/workspace/app/frontend/arena/src/main.ts\n12:3 Argument of type '{ vuetify: Vuetify; router: VueRouter; store: Store&lt;any&gt;; render: (h: CreateEle\nment) =&gt; VNode; }' is not assignable to parameter of type 'ComponentOptions&lt;Vue, DefaultData&lt;Vue&gt;, Def\naultMethods&lt;Vue&gt;, DefaultComputed, PropsDefinition&lt;Record&lt;string, any&gt;&gt;, Record&lt;string, any&gt;&gt;'.\n  Object literal may only specify known properties, and 'vuetify' does not exist in type 'ComponentOpt\nions&lt;Vue, DefaultData&lt;Vue&gt;, DefaultMethods&lt;Vue&gt;, DefaultComputed, PropsDefinition&lt;Record&lt;string, any&gt;&gt;\n, Record&lt;string, any&gt;&gt;'.\n     8 | \n     9 | new Vue({\n  &gt; 10 |   vuetify,\n       |   ^\n    11 |   router,\n    12 |   store,\n    13 |   render: (h) =&gt; h(App),\n\nERROR in /Users/sebe/workspace/app/node_modules/vuetify/types/index.d.ts\n59:10 Cannot find name 'DefaultData'.\n    57 |   export interface ComponentOptions&lt;\n    58 |     V extends Vue,\n  &gt; 59 |     Data=DefaultData&lt;V&gt;,\n       |          ^\n    60 |     Methods=DefaultMethods&lt;V&gt;,\n    61 |     Computed=DefaultComputed,\n    62 |     PropsDef=PropsDefinition&lt;DefaultProps&gt;,\n</code></pre>\n\n<p>The second error repeats for DefaultProps, PropsDefinition, DefaultComputed, DefaultMethods.</p>\n\n<p>Anyones help would be great :)</p>\n\n<p>UPDATE:\ni just noticed i get the same errors with the default vuetify typescript template:</p>\n\n<pre><code>vue create newapp\nvue add vuetify\nyarn serve\n</code></pre>\n\n<p>my <code>./plugins/vuetify.ts</code> looks like this:</p>\n\n<pre><code>import Vue from 'vue';\nimport Vuetify from 'vuetify/lib';\nimport colors from 'vuetify/lib/util/colors';\nimport { VuetifyPreset } from 'vuetify/types/presets';\n\nVue.use(Vuetify);\n\nconst opts: Partial&lt;VuetifyPreset&gt; = {\n  theme: {\n    dark: true,\n    themes: {\n      light: {\n        primary: colors.green.base,\n      },\n      dark: {\n        primary: colors.green.darken2,\n      },\n    },\n  },\n  icons: {\n    iconfont: 'mdi',\n  },\n};\n\nexport default new Vuetify(opts);\n</code></pre>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 9542, "user_id": 8068625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4spqa.png?s=128&g=1", "display_name": "Henry Woody", "link": "https://stackoverflow.com/users/8068625/henry-woody"}, "edited": false, "score": 0, "creation_date": 1566416844, "post_id": 57598257, "comment_id": 101653840, "body": "Can you include your relevant CSS code?"}, {"owner": {"reputation": 2769, "user_id": 1210271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/78SSJ.jpg?s=128&g=1", "display_name": "BugsArePeopleToo", "link": "https://stackoverflow.com/users/1210271/bugsarepeopletoo"}, "edited": false, "score": 0, "creation_date": 1566417318, "post_id": 57598257, "comment_id": 101654014, "body": "Have you tried targeting <code>#CanvasImage canvas { ... }</code>? Show your CSS please."}, {"owner": {"reputation": 877, "user_id": 3083470, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2eaf3ff220e9b9e393be2c75694815ef?s=128&d=identicon&r=PG&f=1", "display_name": "Taxel", "link": "https://stackoverflow.com/users/3083470/taxel"}, "edited": false, "score": 0, "creation_date": 1566417369, "post_id": 57598257, "comment_id": 101654033, "body": "Is the <code>CanvasImage</code> component written by you or is it from some library? If not, can&#39;t you just select the <code>canvas</code> in CSS via <code>#CanvasImage canvas{...}</code>? (Edit: Damn, too slow)"}, {"owner": {"reputation": 417, "user_id": 10062227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0hJGL.jpg?s=128&g=1", "display_name": "Daniel Logvin", "link": "https://stackoverflow.com/users/10062227/daniel-logvin"}, "edited": false, "score": 0, "creation_date": 1566417426, "post_id": 57598257, "comment_id": 101654050, "body": "Just updated the CSS, check it out."}], "answers": [{"tags": [], "owner": {"reputation": 877, "user_id": 3083470, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2eaf3ff220e9b9e393be2c75694815ef?s=128&d=identicon&r=PG&f=1", "display_name": "Taxel", "link": "https://stackoverflow.com/users/3083470/taxel"}, "is_accepted": true, "score": 2, "last_activity_date": 1566417839, "creation_date": 1566417839, "answer_id": 57598526, "question_id": 57598257, "link": "https://stackoverflow.com/questions/57598257/how-can-i-alter-the-css-of-an-element-that-is-not-being-shown-as-a-component/57598526#57598526", "title": "How can I alter the CSS of an element that is not being shown as a component?", "body": "<p>You can just add <code>canvas { ... }</code> to your styled div.\nSo your code should look like this:</p>\n\n<pre><code>const CanvasImage = styled.div`\n  width: fit-content;\n  height: fit-content;\n  canvas {\n    border-radius 8px;\n  }\n`;\n</code></pre>\n\n<p>For more info check out <a href=\"https://www.styled-components.com/docs/basics#pseudoelements-pseudoselectors-and-nesting\" rel=\"nofollow noreferrer\">this</a></p>\n"}], "owner": {"reputation": 417, "user_id": 10062227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0hJGL.jpg?s=128&g=1", "display_name": "Daniel Logvin", "link": "https://stackoverflow.com/users/10062227/daniel-logvin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 57598526, "answer_count": 1, "score": 0, "last_activity_date": 1566417839, "creation_date": 1566416537, "last_edit_date": 1566417411, "question_id": 57598257, "link": "https://stackoverflow.com/questions/57598257/how-can-i-alter-the-css-of-an-element-that-is-not-being-shown-as-a-component", "title": "How can I alter the CSS of an element that is not being shown as a component?", "body": "<p>I'm trying to change the css proprieties of an element that does not have a component by itself. Let me explain:</p>\n\n<p>I have this line: </p>\n\n<p><code>&lt;CanvasImage className=\"CanvasImage\" id=\"CanvasImage\" /&gt;</code></p>\n\n<p>Now, on the element inspector I get this: </p>\n\n<pre><code>&lt;div class=\"CanvasImage sc-eXNvrr hJEowj\" id=\"CanvasImage\"&gt;\n\u2193 I want to edit the line right below this comment \u2193\n&lt;canvas width=\"1952\" height=\"1002\" style=\"width: 976px; height: 501px;\"&gt;&lt;/canvas&gt;\n\u2191 This is what I want to edit \u2191\n&lt;/div&gt;\n</code></pre>\n\n<p>The thing is that the only component I got is the one I told you before, how can I achieve this? I've tried to change the CSS of the component but the image is not being affected at all.</p>\n\n<p><strong>CSS</strong></p>\n\n<pre><code>const CanvasImage = styled.div`\n  width: fit-content;\n  height: fit-content;\n  (I want to add \"border-radius 8px;\" but does not work when I put it here!)\n`;\n</code></pre>\n\n<p><strong>Thanks in advance!</strong></p>\n"}, {"tags": ["arrays", "typescript", "group-by"], "comments": [{"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 1, "creation_date": 1566415870, "post_id": 57598112, "comment_id": 101653401, "body": "Can you share what you&#39;ve tried as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 3545, "user_id": 9477038, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-boqZcfx9flg/AAAAAAAAAAI/AAAAAAAAABM/RuS5QrvFjbQ/photo.jpg?sz=128", "display_name": "Jackkobec", "link": "https://stackoverflow.com/users/9477038/jackkobec"}, "edited": false, "score": 0, "creation_date": 1566423090, "post_id": 57599106, "comment_id": 101656026, "body": "See P.S. case with solution"}], "tags": [], "owner": {"reputation": 31, "user_id": 8915977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91b0dbceba2494e87d9aa8f9f6b5c612?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin Kambli", "link": "https://stackoverflow.com/users/8915977/ashwin-kambli"}, "is_accepted": false, "score": 1, "last_activity_date": 1566421172, "creation_date": 1566421172, "answer_id": 57599106, "question_id": 57598112, "link": "https://stackoverflow.com/questions/57598112/typescript-how-to-groupby-to-the-minute-in-an-array/57599106#57599106", "title": "Typescript: How to groupBy to the minute, in an array?", "body": "<p>I have this so far. It seems to be working. I haven't tested for edge cases though: </p>\n\n<pre><code>arr = [\n    {snapshotAt: new Date(\"2019-08-20T18:23:46.3915797-07:00\"), amount: 5233123},\n    {snapshotAt: new Date(\"2019-08-20T18:23:56.4835221-07:00\"), amount: 5233221},\n    {snapshotAt: new Date(\"2019-08-21T10:54:38.9182797-07:00\"), amount: 5594822},\n    {snapshotAt: new Date(\"2019-08-21T10:54:48.3915817-07:00\"), amount: 5595115},\n    {snapshotAt: new Date(\"2019-08-21T10:54:58.1827367-07:00\"), amount: 5595350},\n];\n\n\nfunction groupBy(snapshots) {\n    let map = new Map(); \n    snapshots.forEach(snapshot =&gt; {\n        let key = `${snapshot.snapshotAt.getFullYear()}-${snapshot.snapshotAt.getMonth()+1}-${snapshot.snapshotAt.getDate()} ${snapshot.snapshotAt.getHours()}:${snapshot.snapshotAt.getMinutes()}`;\n        let val = map.get(key);\n        if(!val){ \n            map.set(key, {snapshotAt: new Date(key), amount: snapshot.amount }); \n        }\n        else{\n            val.amount = (snapshot.amount &gt; val.amount)? snapshot.amount : val.amount; \n        }\n    });\n    return Array.from(map.values()); \n}\n\nconsole.log(groupBy(arr)); \n\noutput: \n[ { snapshotAt: 2019-08-21T01:23:00.000Z, amount: 5233221 },\n  { snapshotAt: 2019-08-21T17:54:00.000Z, amount: 5595350 } ]\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 8915977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91b0dbceba2494e87d9aa8f9f6b5c612?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin Kambli", "link": "https://stackoverflow.com/users/8915977/ashwin-kambli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "closed_date": 1566422278, "answer_count": 1, "score": 0, "last_activity_date": 1566421172, "creation_date": 1566415803, "question_id": 57598112, "link": "https://stackoverflow.com/questions/57598112/typescript-how-to-groupby-to-the-minute-in-an-array", "closed_reason": "Needs more focus", "title": "Typescript: How to groupBy to the minute, in an array?", "body": "<p>I have an array which contains snapshots every 10 seconds of a particular value: </p>\n\n<pre><code>arr = [\n {snapshotAt: \"2019-08-20T18:23:46.3915797-07:00\", amount: 5233123},\n {snapshotAt: \"2019-08-20T18:23:56.4835221-07:00\", amount: 5233221},\n ...\n {snapshotAt: \"2019-08-21T10:54:38.9182797-07:00\", amount: 5594822},\n {snapshotAt: \"2019-08-21T10:54:48.3915817-07:00\", amount: 5595115},\n {snapshotAt: \"2019-08-21T10:54:58.1827367-07:00\", amount: 5595350},\n]\n</code></pre>\n\n<p>I need to get the max amount by every minute: </p>\n\n<pre><code>reducedSnapshot: [\n{snapshotAt: \"2019-08-20T18:23:00-07:00\", amount: 5593221},\n...\n{snapshotAt: \"2019-08-21T10:54:00-07:00\", amount: 5595350},\n]\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "is_accepted": false, "score": 0, "last_activity_date": 1566416258, "creation_date": 1566416258, "answer_id": 57598208, "question_id": 57597919, "link": "https://stackoverflow.com/questions/57597919/how-to-exit-from-tsc-watch-mode-gracefully/57598208#57598208", "title": "How to exit from tsc &quot;watch&quot; mode gracefully?", "body": "<p>You probably want to fix this in your build script. The only difference is which exit code was sent, so you might want to look into how you can make your build script not completely exit if one command failed.</p>\n"}], "owner": {"reputation": 71, "user_id": 10140394, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-v3nXwYi-TQA/AAAAAAAAAAI/AAAAAAAABY4/Iz9CdYBBYzE/photo.jpg?sz=128", "display_name": "Jon Cohen", "link": "https://stackoverflow.com/users/10140394/jon-cohen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 337, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566416258, "creation_date": 1566414796, "question_id": 57597919, "link": "https://stackoverflow.com/questions/57597919/how-to-exit-from-tsc-watch-mode-gracefully", "title": "How to exit from tsc &quot;watch&quot; mode gracefully?", "body": "<p>I have a number of build scripts which go like</p>\n\n<pre><code># some setup...\ntsc blahblahblah\n# Do stuff with the generated JS\n</code></pre>\n\n<p>I'd like to enable watch mode for convenience when developing, but when I <code>ctrl-c</code> out of <code>tsc --watch</code> it exits the whole script, so I don't get any of the post-compile actions.  Is there a way I can tell <code>tsc</code> to stop more gracefully?</p>\n"}, {"tags": ["typescript", "webpack", "visual-studio-code", "intellisense"], "comments": [{"owner": {"reputation": 17879, "user_id": 10910450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9aPLn.jpg?s=128&g=1", "display_name": "Lance Li-MSFT", "link": "https://stackoverflow.com/users/10910450/lance-li-msft"}, "edited": false, "score": 0, "creation_date": 1566463166, "post_id": 57597576, "comment_id": 101666543, "body": "Hi, do you use Visual Studio code or Visual Studio?  Maybe similar issue like <a href=\"https://stackoverflow.com/questions/40616272/an-import-path-cannot-end-with-ts-nodejs-and-visual-code\">this</a>, but it seems to be more related to vs code."}, {"owner": {"reputation": 59, "user_id": 4906660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e65f58d64cd18f5ccd0bfa09d83f7cb?s=128&d=identicon&r=PG&f=1", "display_name": "Luuc", "link": "https://stackoverflow.com/users/4906660/luuc"}, "reply_to_user": {"reputation": 17879, "user_id": 10910450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9aPLn.jpg?s=128&g=1", "display_name": "Lance Li-MSFT", "link": "https://stackoverflow.com/users/10910450/lance-li-msft"}, "edited": false, "score": 0, "creation_date": 1566463692, "post_id": 57597576, "comment_id": 101666780, "body": "@LanceLi-MSFT Hi, I&#39;m using VS Code! And I saw that question already, but it didn&#39;t resolve it for me."}, {"owner": {"reputation": 17879, "user_id": 10910450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9aPLn.jpg?s=128&g=1", "display_name": "Lance Li-MSFT", "link": "https://stackoverflow.com/users/10910450/lance-li-msft"}, "edited": false, "score": 0, "creation_date": 1566463966, "post_id": 57597576, "comment_id": 101666904, "body": "Hi, maybe this free extension makes some help. And there&#39;s discussion on github for this, you can find it <a href=\"https://github.com/microsoft/TypeScript/issues/16577\" rel=\"nofollow noreferrer\">here</a> :)"}], "owner": {"reputation": 59, "user_id": 4906660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e65f58d64cd18f5ccd0bfa09d83f7cb?s=128&d=identicon&r=PG&f=1", "display_name": "Luuc", "link": "https://stackoverflow.com/users/4906660/luuc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566464043, "creation_date": 1566413044, "last_edit_date": 1566464043, "question_id": 57597576, "link": "https://stackoverflow.com/questions/57597576/how-to-do-imports-in-typescript-without-breaking-intellisense", "title": "How to do imports in Typescript without breaking IntelliSense?", "body": "<p>I am using webpack to compile my Typescript and the following thing happens: </p>\n\n<p>When I do an import like <code>import User, { IUser, IUserInput } from 'models/User';</code>, the autocomplete in IntelliSense works fine. However when I compile I get the following error: </p>\n\n<pre><code>ERROR in ./lib/services/users.ts\nModule not found: Error: Can't resolve 'models/User' in '/Users/&lt;&gt;/lib/services'\n @ ./lib/services/users.ts 49:0-31 56:38-42 113:49-53 135:49-53 160:46-50 174:49-53 177:46-50 211:38-42\n @ ./lib/controllers/users.ts\n @ ./lib/app.js\n</code></pre>\n\n<p>When I do an import like <code>import User, { IUser, IUserInput } from 'models/User.ts';</code>, it compiles fine but IntelliSense unfortunately does not work. It shows a redline with:</p>\n\n<pre><code>An import path cannot end with a '.ts' extension. Consider importing '../controllers/users' instead.ts(2691)\n</code></pre>\n\n<p>I want to be able to compile and have intelisense working. The way I do the imports does not really bother me. Below are the Webpack and Typescript configs. Any thing I can do in there?</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"outDir\": \"./dist/\",\n    \"module\": \"es6\",\n    \"target\": \"es5\",\n    // \"js\": \"react\",\n    \"allowJs\": true,\n    \"sourceMap\": true,\n    \"baseUrl\": \"./lib\",\n    \"allowSyntheticDefaultImports\": true\n  },\n}\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>const path = require('path');\n\nmodule.exports = {\n  entry: {\n    js: './lib/app.js',\n  },\n  output: {\n    filename: './app.js',\n    path: path.join(__dirname, '/dist/'),\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.ts?$/,\n        use: 'ts-loader',\n        exclude: /node_modules/\n      }\n    ]\n  },\n  resolve: {\n    extensions: ['.ts', '.js', '.json'],\n  },\n  target: 'node',\n  devtool: 'eval',\n  node: {\n    __dirname: true,\n    __filename: true,\n  },\n  externals: {\n    sharp: 'commonjs sharp',\n    uws: 'uws',\n  },\n};\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "visual-studio-code", "eslint"], "comments": [{"owner": {"reputation": 447, "user_id": 10316673, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xhZ3Y09vud8/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMYCXogeYqzm-kxTsIHC9HFAvLv4w/mo/photo.jpg?sz=128", "display_name": "M-N", "link": "https://stackoverflow.com/users/10316673/m-n"}, "edited": false, "score": 1, "creation_date": 1566411759, "post_id": 57597142, "comment_id": 101651664, "body": "You can have different .eslintrc files in different directories. You can also include an &quot;overrides&quot; rule set for files in *.ts or *.js. See <a href=\"https://eslint.org/docs/user-guide/configuring#configuring-eslint\" rel=\"nofollow noreferrer\">eslint.org/docs/user-guide/configuring#configuring-eslint</a>."}], "answers": [{"comments": [{"owner": {"reputation": 1112, "user_id": 565792, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c7dd7b48770bedea59b01eae974587d8?s=128&d=identicon&r=PG", "display_name": "Jason Turan", "link": "https://stackoverflow.com/users/565792/jason-turan"}, "edited": false, "score": 0, "creation_date": 1581106463, "post_id": 59842806, "comment_id": 106332613, "body": "Thanks for the tip! I was struggling with this for a while."}], "tags": [], "owner": {"reputation": 936, "user_id": 3553992, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93e6500e8c565f75da60a4a44bb5199c?s=128&d=identicon&r=PG&f=1", "display_name": "Sathish Kumar Thiyagarajan", "link": "https://stackoverflow.com/users/3553992/sathish-kumar-thiyagarajan"}, "is_accepted": false, "score": 22, "last_activity_date": 1579615347, "creation_date": 1579615347, "answer_id": 59842806, "question_id": 57597142, "link": "https://stackoverflow.com/questions/57597142/how-to-run-typescript-eslint-on-ts-files-and-eslint-on-js-files-in-the-same-pr/59842806#59842806", "title": "How to run typescript-eslint on .ts files and eslint on .js files in the same project in VSCode", "body": "<p>You need to override the configuration to <strong><em>use separate parsers for js and ts</em></strong> files. you can configure .eslintrc.js as below</p>\n\n<pre><code>module.exports = {\n    root: true,    \n    extends: [\n      'eslint:recommended'\n    ],\n    \"overrides\": [\n      {\n        \"files\": [\"**/*.ts\", \"**/*.tsx\"],\n        \"env\": { \"browser\": true, \"es6\": true, \"node\": true },\n        \"extends\": [\n          \"eslint:recommended\",\n          \"plugin:@typescript-eslint/eslint-recommended\",\n          \"plugin:@typescript-eslint/recommended\"\n        ],\n        \"globals\": { \"Atomics\": \"readonly\", \"SharedArrayBuffer\": \"readonly\" },\n        \"parser\": \"@typescript-eslint/parser\",\n        \"parserOptions\": {\n          \"ecmaFeatures\": { \"jsx\": true },\n          \"ecmaVersion\": 2018,\n          \"sourceType\": \"module\",\n          \"project\": \"./tsconfig.json\"\n        },\n        \"plugins\": [\"@typescript-eslint\"],\n        \"rules\": {\n          \"indent\": [\"error\", 2, { \"SwitchCase\": 1 }],\n          \"linebreak-style\": [\"error\", \"unix\"],\n          \"quotes\": [\"error\", \"single\"],\n          \"comma-dangle\": [\"error\", \"always-multiline\"],\n          \"@typescript-eslint/no-explicit-any\": 0\n        }\n      }\n    ]\n  };\n</code></pre>\n\n<p>Sample Project is <a href=\"https://github.com/techatpark/npm-scripts-static-ref\" rel=\"noreferrer\">here</a></p>\n"}], "owner": {"reputation": 161, "user_id": 4155664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7538dc9c9d3bb6c71c1e415646006044?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/4155664/ben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6178, "favorite_count": 2, "answer_count": 1, "score": 13, "last_activity_date": 1579615347, "creation_date": 1566411151, "question_id": 57597142, "link": "https://stackoverflow.com/questions/57597142/how-to-run-typescript-eslint-on-ts-files-and-eslint-on-js-files-in-the-same-pr", "title": "How to run typescript-eslint on .ts files and eslint on .js files in the same project in VSCode", "body": "<p>I have a mixed codebase with javascript and typescript files. I'd like to have eslint run on .js files and typescript-eslint run on .ts files in VSCode.</p>\n\n<p>I've managed to configure my .eslintrc.json file to get typescript-eslint to run on .ts files. The problem is that it also ends up running typescript-eslint on .js files, instead of plain old eslint.</p>\n\n<p>This seems like it should be simple and fairly common, but I haven't been able to find a solution despite searching all over the internet.</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "puppeteer", "chrome-devtools-protocol"], "comments": [{"owner": {"reputation": 112, "user_id": 7090598, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E1Z6Z.jpg?s=128&g=1", "display_name": "Sora Shiro", "link": "https://stackoverflow.com/users/7090598/sora-shiro"}, "edited": false, "score": 0, "creation_date": 1566410787, "post_id": 57596953, "comment_id": 101651257, "body": "<code>headers</code> in the <code>send</code> function is array, so you need to set it <code>[{name: &#39;User-Agent&#39;, value: &#39;trying to edit this header&#39;}]</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1732, "user_id": 9268003, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/9a81335cd49056c0e5e2af34477cd963?s=128&d=identicon&r=PG&f=1", "display_name": "aBlaze", "link": "https://stackoverflow.com/users/9268003/ablaze"}, "edited": false, "score": 0, "creation_date": 1566418269, "post_id": 57597130, "comment_id": 101654356, "body": "Unfortunately with the <code>headersArray</code> function, I&#39;m still getting this error message: Error: Protocol error (Fetch.continueRequest): Invalid parameters headers: array expected"}, {"owner": {"reputation": 1732, "user_id": 9268003, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/9a81335cd49056c0e5e2af34477cd963?s=128&d=identicon&r=PG&f=1", "display_name": "aBlaze", "link": "https://stackoverflow.com/users/9268003/ablaze"}, "edited": false, "score": 1, "creation_date": 1566420907, "post_id": 57597130, "comment_id": 101655353, "body": "On second try, it is working. I must not have done a Visual Studio rebuild on the Typescript project. Thanks! Marking your answer as accepted."}], "tags": [], "owner": {"reputation": 12868, "user_id": 2373249, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/byIOk.jpg?s=128&g=1", "display_name": "hardkoded", "link": "https://stackoverflow.com/users/2373249/hardkoded"}, "is_accepted": true, "score": 2, "last_activity_date": 1566411079, "creation_date": 1566411079, "answer_id": 57597130, "question_id": 57596953, "link": "https://stackoverflow.com/questions/57596953/how-to-modify-request-headers-using-puppeteer-chrome-devtools-protocol-possi/57597130#57597130", "title": "How to modify request headers using Puppeteer &amp; Chrome DevTools Protocol? (Possibly a JS syntax issue)", "body": "<p><code>Fetch.requestPaused</code> returns the headers as an object. e.g.:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n    \"Upgrade-Insecure-Requests\":\"1\",\n    \"Accept\": \"text/html,application/xhtml+xml\"}\n}\n</code></pre>\n\n<p><code>Fetch.continueRequest</code> expects an <code>Array&lt;{name: string, value: string}&gt;</code>. e.g.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>[\n    {\"name\": \"Accept\", value: \"text/html,application/xhtml+xml\"}\n]\n</code></pre>\n\n<p>You can use the code that Puppeteer is using:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function headersArray(headers) {\n  const result = [];\n  for (const name in headers) {\n    if (!Object.is(headers[name], undefined))\n      result.push({name, value: headers[name] + ''});\n  }\n  return result;\n}\n</code></pre>\n"}], "owner": {"reputation": 1732, "user_id": 9268003, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/9a81335cd49056c0e5e2af34477cd963?s=128&d=identicon&r=PG&f=1", "display_name": "aBlaze", "link": "https://stackoverflow.com/users/9268003/ablaze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2481, "favorite_count": 0, "accepted_answer_id": 57597130, "answer_count": 1, "score": 1, "last_activity_date": 1566411106, "creation_date": 1566410259, "last_edit_date": 1566411106, "question_id": 57596953, "link": "https://stackoverflow.com/questions/57596953/how-to-modify-request-headers-using-puppeteer-chrome-devtools-protocol-possi", "title": "How to modify request headers using Puppeteer &amp; Chrome DevTools Protocol? (Possibly a JS syntax issue)", "body": "<p>I have the following Typescript function that assumes a Chrome browser has already been launched using Puppeteer. The documentation for the Fetch functions used below can be found <a href=\"https://chromedevtools.github.io/devtools-protocol/tot/Fetch\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<pre><code>async function modify(client: CDPSession) {\n    client.on('Fetch.requestPaused', async ({ requestId, request, frameId, resourceType, responseErrorReason, responseStatusCode, responseHeaders, networkId }) =&gt; {\n        // Correctly prints out the User-Agent header's value\n        console.log(request.headers[\"User-Agent\"]);\n\n        // After this line is run, I can inspect the request.headers object and see that User-Agent was successfully edited\n        request.headers['User-Agent'] = 'trying to edit this header';\n\n        // Continuing the request gives an error\n        await client.send('Fetch.continueRequest', {\n            requestId: requestId,\n            headers: request.headers,\n        });\n    });\n}\n</code></pre>\n\n<p>Here is the specific error I'm seeing:</p>\n\n<blockquote>\n  <p>Error: Protocol error (Fetch.continueRequest): Invalid parameters headers: array expected</p>\n</blockquote>\n\n<p><strong>How can I resolve this error and successfully modify the <code>request.headers</code>? Is this a silly Javascript/Typescript syntax issue that I just can't figure out?</strong></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 1, "creation_date": 1566415425, "post_id": 57596912, "comment_id": 101653211, "body": "Did you follow the instructions of <a href=\"https://github.com/FortAwesome/angular-fontawesome\" rel=\"nofollow noreferrer\">github.com/FortAwesome/angular-fontawesome</a> ?"}, {"owner": {"reputation": 162, "user_id": 8015952, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2gNDB19hdow/AAAAAAAAAAI/AAAAAAAAALg/42HBU8BX7Vk/photo.jpg?sz=128", "display_name": "Gabriela Mendes", "link": "https://stackoverflow.com/users/8015952/gabriela-mendes"}, "reply_to_user": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1566479609, "post_id": 57596912, "comment_id": 101675667, "body": "I&#39;m not using angular-fortawesome."}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1566479632, "post_id": 57596912, "comment_id": 101675681, "body": "Apparently you should, per documentation."}, {"owner": {"reputation": 162, "user_id": 8015952, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2gNDB19hdow/AAAAAAAAAAI/AAAAAAAAALg/42HBU8BX7Vk/photo.jpg?sz=128", "display_name": "Gabriela Mendes", "link": "https://stackoverflow.com/users/8015952/gabriela-mendes"}, "reply_to_user": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1566480617, "post_id": 57596912, "comment_id": 101676312, "body": "Well, where Its said that? Its a option pack, I want to use fontawesome 5, like I already use fontawesome 4.7. Its not make sense to me, I know its more easy just install angular pack and use it, but I want to use fontawesome npm pack because I have this option too."}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 1, "creation_date": 1566480758, "post_id": 57596912, "comment_id": 101676402, "body": "See <a href=\"https://fontawesome.com/how-to-use/on-the-web/using-with/angular\" rel=\"nofollow noreferrer\">fontawesome.com/how-to-use/on-the-web/using-with/angular</a>"}, {"owner": {"reputation": 162, "user_id": 8015952, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2gNDB19hdow/AAAAAAAAAAI/AAAAAAAAALg/42HBU8BX7Vk/photo.jpg?sz=128", "display_name": "Gabriela Mendes", "link": "https://stackoverflow.com/users/8015952/gabriela-mendes"}, "reply_to_user": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1566481146, "post_id": 57596912, "comment_id": 101676646, "body": "@LppEdd Ok, thanks."}], "owner": {"reputation": 162, "user_id": 8015952, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2gNDB19hdow/AAAAAAAAAAI/AAAAAAAAALg/42HBU8BX7Vk/photo.jpg?sz=128", "display_name": "Gabriela Mendes", "link": "https://stackoverflow.com/users/8015952/gabriela-mendes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566410087, "creation_date": 1566410087, "question_id": 57596912, "link": "https://stackoverflow.com/questions/57596912/problem-with-dependencies-in-angular-8-library", "title": "Problem with dependencies in Angular 8 Library", "body": "<p>I'm facing some strange problem with Angular, I create a new Library for one project with 2 peerdependecies: Bootstrap and Fontawesome 5.\nBootstrap imports works like a charm, but FontAwesome does not show the proper icon in the html view.</p>\n\n<p><a href=\"https://i.stack.imgur.com/SV37W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SV37W.png\" alt=\"icon in view\"></a></p>\n\n<ul>\n<li>Already tried to reinstall de packages in the main project</li>\n<li>Set the file path in the scss on the library</li>\n<li>Also tried to use individual imports for the icons</li>\n</ul>\n\n<p>The library files:</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div class=\"container-fluid\"&gt;\n    &lt;div class=\"row\"&gt;\n        &lt;div class=\"col-sm-12 col-md-4 col-lg-3 dragdrop-area\"&gt;\n            &lt;i class=\"fas fa-file-upload\"&gt;&lt;/i&gt;\n            &lt;i class=\"fas fa-cloud-upload-alt fa-2x\"&gt;&lt;/i&gt;\n            Drag'n'Drop area\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>SCSS(with imports):</p>\n\n<pre><code>@import '../../../../node_modules/@fortawesome/fontawesome-free/css/all';\n// tried to\n// @import '../../../../node_modules/@fortawesome/fontawesome-free/scss/fontawesome';\n//@import '../../../../node_modules/@fortawesome/fontawesome-free/scss/solid';\n//@import '../../../../node_modules/@fortawesome/fontawesome-free/scss/regular';\n@import '../../../../node_modules/bootstrap/scss/bootstrap';\n</code></pre>\n\n<p>Angular.json(Project with my library)</p>\n\n<pre><code>\"styles\": [\n\"node_modules/fortawesome/fontawesome-free/css/all.css\",\n\"node_modules/bootstrap/dist/css/bootstrap.min.css\",\n\"src/styles.scss\"\n]\n</code></pre>\n"}, {"tags": ["typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1566410796, "post_id": 57596773, "comment_id": 101651264, "body": "Could you provide a true <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which demonstrates the issue?  Reproducing the issue in a standalone environment like <a href=\"http://www.typescriptlang.org/play//\" rel=\"nofollow noreferrer\">the TypeScript Playground</a> is a good way to know that we&#39;re all on the same page.  As it stands, the type of <code>rows</code> in your code shows as <code>(parameter) rows: [string, number[]][]</code> in my IDE.  Perhaps you are looking at the type of some variable you haven&#39;t included in the question?"}], "answers": [{"tags": [], "owner": {"reputation": 734, "user_id": 7558480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28b7dcedfb2beba94fcc93370f644783?s=128&d=identicon&r=PG", "display_name": "Richard Haddad", "link": "https://stackoverflow.com/users/7558480/richard-haddad"}, "is_accepted": true, "score": 1, "last_activity_date": 1566427870, "creation_date": 1566427870, "answer_id": 57600064, "question_id": 57596773, "link": "https://stackoverflow.com/questions/57596773/typescript-tuple-with-array-element/57600064#57600064", "title": "TypeScript tuple with array element", "body": "<p>An array of tuple, which have </p>\n\n<ul>\n<li>a string as first element,</li>\n<li>an array of number as second element</li>\n</ul>\n\n<p>If I'm not wrong on what you're searching:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type MyTuple = [string, number[]];\n\nconst myArray: MyTuple[] = [\n    ['str', [1, 2, 3]]\n];\n</code></pre>\n\n<p>So your code seems OK, your issue concerns more VS code.</p>\n"}], "owner": {"reputation": 1905, "user_id": 591529, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2334a65b76a586b2ef9c257610b6df69?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Lowery", "link": "https://stackoverflow.com/users/591529/jeff-lowery"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "accepted_answer_id": 57600064, "answer_count": 1, "score": 0, "last_activity_date": 1566427870, "creation_date": 1566409483, "question_id": 57596773, "link": "https://stackoverflow.com/questions/57596773/typescript-tuple-with-array-element", "title": "TypeScript tuple with array element", "body": "<p>TypeScript newbie here. I did some quick searching but was unable to find an answer.  The question is this: what is the proper definition for an array of tuples, where the first tuple element is a string, and the next is an array of numbers? I've tried this:</p>\n\n<pre><code>type labeledValuesType = [string, number[]]\n\n constructor(headings: string[], rows: Array&lt;labeledValuesType&gt;) {...\n</code></pre>\n\n<p>But in VS Code, when I hover over the second parameter (rows) passed to the constructor call, I see:</p>\n\n<pre><code>const rows: (string | number[])[][]\n</code></pre>\n\n<p>which looks like a two-dimensional array of the union of string and number[].  </p>\n"}, {"tags": ["typescript", "orm", "sequelize.js", "sequelize-typescript"], "answers": [{"tags": [], "owner": {"reputation": 2173, "user_id": 3285945, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fp4rg.png?s=128&g=1", "display_name": "rkm", "link": "https://stackoverflow.com/users/3285945/rkm"}, "is_accepted": false, "score": 0, "last_activity_date": 1566466711, "creation_date": 1566466711, "answer_id": 57606364, "question_id": 57596446, "link": "https://stackoverflow.com/questions/57596446/how-use-attribute-from-include-model-to-make-a-where-condition/57606364#57606364", "title": "How use attribute from include model to make a where condition?", "body": "<p>In your example SQL injection is possible because you are passing parameters directly in the query string. The best way to protect agains SQL injection is to use prepared statements. Then SQL query and parameters are separated and database read parameters as text (so even if param value would be <code>DELETE FROM users</code> it won't be executed, just treated as a string). With <code>Sequelize</code> you can do it by using <a href=\"https://sequelize.org/master/manual/raw-queries.html#bind-parameter\" rel=\"nofollow noreferrer\">Bind parameters</a>.</p>\n\n<p>But back to your question, here is an example how query with <code>include</code> looks:</p>\n\n<pre><code>ModelA.findAll({\n  where: { name: 'John' },\n  include: [{\n    model: ModelB,\n    as: 'modelB',\n    where: { active: true },\n  }],\n});\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10343892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2oOT6.png?s=128&g=1", "display_name": "Roberto Glez", "link": "https://stackoverflow.com/users/10343892/roberto-glez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566466711, "creation_date": 1566407927, "question_id": 57596446, "link": "https://stackoverflow.com/questions/57596446/how-use-attribute-from-include-model-to-make-a-where-condition", "title": "How use attribute from include model to make a where condition?", "body": "<p>I want use an attribute from include model on my query,I use sequelize and sequelize-typescript and some previous versions I used literals to injecting sql variables to my query-model and worked but these method has been parched because it was a SQL Injection vulnerability  and now, I don't know what use for access to attributes of my include model</p>\n\n<p>I want use cve_agenda attribute for evaluate with invitados.cve_funcionario on the same level of or operator</p>\n\n<p>i use these:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>M_AG_EVENTOS.findAll({\n                where: {\n                        $or: [\n                          cve_agenda: cve_agenda, ORM.instance.seql.literal(`\"invitados\".\"cve_funcionario\" =${cve_funcionario}`),\nORM.instance.seql.literal(`\"comisionado\".\"cve_funcionario\" = ${cve_funcionario}`)]\n                } ```\n\n\n\n\n</code></pre>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "angular-material"], "answers": [{"tags": [], "owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "is_accepted": true, "score": 2, "last_activity_date": 1566406712, "creation_date": 1566406712, "answer_id": 57596201, "question_id": 57595923, "link": "https://stackoverflow.com/questions/57595923/minimal-material-table-demo-id-column-not-rendering/57596201#57596201", "title": "Minimal Material Table Demo ID Column not rendering?", "body": "<p>It's common mistake to use type instead of value:</p>\n\n<pre><code>displayedColumns: ['id', 'description', 'complete']\n</code></pre>\n\n<p>should be:</p>\n\n<pre><code>displayedColumns = ['id', 'description', 'complete']\n</code></pre>\n\n<p>Also you have to configure all the columns in html. So keep only those columns you're actually using.</p>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-minimal-material-table-demo-qs1fy9?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">Forked Stackblitz</a></strong></p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "closed_date": 1566448047, "accepted_answer_id": 57596201, "answer_count": 1, "score": 1, "last_activity_date": 1566406712, "creation_date": 1566405258, "question_id": 57595923, "link": "https://stackoverflow.com/questions/57595923/minimal-material-table-demo-id-column-not-rendering", "closed_reason": "Not suitable for this site", "title": "Minimal Material Table Demo ID Column not rendering?", "body": "<p>I'm attempting to create <a href=\"https://stackblitz.com/edit/angular-minimal-material-table-demo\" rel=\"nofollow noreferrer\">a minimal material table demo - Note this is a stackblitz link</a> and the <code>id</code> column is not rendering.  Here's the <code>app.component.ts</code>:</p>\n\n<pre><code>    import { Component, OnInit } from '@angular/core';\n    import { MatTableDataSource } from \"@angular/material\";\n    class Todo {\n      id: string;\n      description: string;\n      complete: boolean;\n    }\n    @Component({\n      selector: 'my-app',\n      templateUrl: './app.component.html',\n      styleUrls: ['./app.component.css']\n    })\n    export class AppComponent implements OnInit {\n      displayedColumns: ['id', 'description', 'complete'];\n      dataSource: MatTableDataSource&lt;Todo&gt;;\n\n      ngOnInit() {\n        const todos: Todo[] = [{ id: '123', description: 'Complete me!', complete: false }];\n        this.dataSource = new MatTableDataSource(todos);\n      }\n    }\n</code></pre>\n\n<p>And this is the template:</p>\n\n<pre><code>    &lt;mat-table class=\"mat-elevation-z8\" [dataSource]=\"dataSource\"&gt;\n      &lt;ng-container matColumnDef=\"id\"&gt;\n        &lt;mat-header-cell *matHeaderCellDef&gt;ID&lt;/mat-header-cell&gt;\n        &lt;mat-cell *matCellDef=\"let row;\"&gt;{{row.id}}&lt;/mat-cell&gt;\n      &lt;/ng-container&gt;\n      &lt;mat-header-row *matHeaderRowDef=\"displayedColumns\"&gt;\n      &lt;/mat-header-row&gt;\n      &lt;mat-row *matRowDef=\"let row; columns: displayedColumns\"&gt;&lt;/mat-row&gt;\n    &lt;/mat-table&gt;\n</code></pre>\n\n<p>Thoughts?</p>\n"}, {"tags": ["javascript", "typescript", "webpack", "tsconfig"], "comments": [{"owner": {"reputation": 2672, "user_id": 223936, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/j58Xn.jpg?s=128&g=1", "display_name": "Plastikfan", "link": "https://stackoverflow.com/users/223936/plastikfan"}, "reply_to_user": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "edited": false, "score": 0, "creation_date": 1566477400, "post_id": 57595862, "comment_id": 101674277, "body": "no problem! (I&#39;m just currently reviewing your answer)"}], "answers": [{"comments": [{"owner": {"reputation": 2672, "user_id": 223936, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/j58Xn.jpg?s=128&g=1", "display_name": "Plastikfan", "link": "https://stackoverflow.com/users/223936/plastikfan"}, "edited": false, "score": 0, "creation_date": 1566480851, "post_id": 57609096, "comment_id": 101676461, "body": "Hi ford04, thanks for your answer, it  really helps a lot. I have taken the view that instead of conbverting an existing project. I am going to start a new typescript project and incrementally transfer over the functionality. Its the only way to manage the tsumani of confusing typescript errors (particluarly with modules/namespace/imports/exports) I&#39;m seeing currently. Cheers"}, {"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "reply_to_user": {"reputation": 2672, "user_id": 223936, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/j58Xn.jpg?s=128&g=1", "display_name": "Plastikfan", "link": "https://stackoverflow.com/users/223936/plastikfan"}, "edited": false, "score": 0, "creation_date": 1566481285, "post_id": 57609096, "comment_id": 101676716, "body": "If it&#39;s a small project and affordable for you, go for it! If you want to give it a try in one project, I think it&#39;s worth to look at the last link for js migration, especially set  ` &quot;allowJs&quot;: true` in tsconfig.json. You could also take a look at all the <code>--strict</code> settings in <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">compiler options</a> or set <code>&quot;strict: false&quot;</code> to be able to compile the project and enforce stricter settings gradually."}, {"owner": {"reputation": 2672, "user_id": 223936, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/j58Xn.jpg?s=128&g=1", "display_name": "Plastikfan", "link": "https://stackoverflow.com/users/223936/plastikfan"}, "edited": false, "score": 1, "creation_date": 1566481570, "post_id": 57609096, "comment_id": 101676876, "body": "Great thanks. It still makes sense for me to start a new project because I&#39;m new to typescript (and knowing C# and OO doesnt give any advantages in trying to solve typescript/javascript issues as I thought it would). If I start a new project then I can handle 1 error at a time instead of trying to solve a multitude of issues all at once."}], "tags": [], "owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "is_accepted": true, "score": 5, "last_activity_date": 1580162935, "last_edit_date": 1580162935, "creation_date": 1566475958, "answer_id": 57609096, "question_id": 57595862, "link": "https://stackoverflow.com/questions/57595862/webpack-using-typescript-common-settings-in-both-configs-so-which-take-precede/57609096#57609096", "title": "Webpack using Typescript: Common settings in both configs, so which take precedence?", "body": "<blockquote>\n  <p>[...] there appears to be some configuration settings that can appear in webpack and typescript, so which takes precedence?</p>\n</blockquote>\n\n<p>You are right on the point that there is some natural redundancy in the configuration when Webpack is combined with TypeScript. Lets pick up your first question:</p>\n\n<blockquote>\n  <p>which files are included in compilation? [...] Another example is the output file. [...] So in this scenario, does webpack override typescript or vice-versa? What is the recommended strategy?</p>\n</blockquote>\n\n<p>Simply spoken, both TypeScript and Webpack process/transform input files and emit the output in a target directory structure or file bundle(s) - both need some input/output configuration info. TypeScript compiler can run on its own, and also be integrated as file processor as part of a bigger Webpack build. With <code>outFile</code> option TypeScript can even be seen as a mini-bundler on its own, as it <em>bundles</em> all <code>.ts</code>-files to a single target file.</p>\n\n<p>To answer the question, if TypeScript or Webpack configuration takes precedence, it is important to understand, how Webpack works. I'll quote one of your  assumptions here:</p>\n\n<blockquote>\n  <p>I am guessing when you build a TS/WP project, the TS compiler runs first creates all the .js files (let's say in the .dist folder). Then webpack bundles all the generated .js files.</p>\n</blockquote>\n\n<p>That is not quite correct. But good you said that, as it sheds more light on your core understanding problem. Everything in Webpack starts with the <a href=\"https://webpack.js.org/concepts/entry-points/\" rel=\"nofollow noreferrer\">entry point</a> you specify in the config - if you will, that's the input. From this entry module, webpack considers all other transitively imported modules (e.g. via <code>import</code> or <code>require</code>) and creates a dependency tree.</p>\n\n<p>Every file in the dependency tree can optionally be transformed by <a href=\"https://webpack.js.org/concepts/loaders/\" rel=\"nofollow noreferrer\">Loaders</a>, which can also be chained like a file processing pipeline. So <code>ts-loader</code> and the underlying TypeScript compiler apply transformations for .ts/.tsx files with <code>test: /\\.ts(x?)$/</code> predicate.</p>\n\n<p>All in all you see, that Webpack considers your entry file, which leads to a bunch of further imported .ts/.tsx files (amongst your other file types, we neglect them here). And for each single file, the TypeScript loader will be invoked in the course of the loader processing pipeline. Therefore, it is inherent that TypeScript I/O config will be ignored and Webpack's <code>entry</code>/<code>output</code> configuration takes precedence in the build. All other TypeScript related settings are taken from <code>tsconfig.json</code>, as described in the <a href=\"https://github.com/TypeStrong/ts-loader#configuration\" rel=\"nofollow noreferrer\">ts-loader docs</a>: <code>\"The tsconfig.json file controls TypeScript-related options so that your IDE, the tsc command, and this loader all share the same options.\"</code></p>\n\n<blockquote>\n  <p>I was hoping to convert my project in an incremental manner</p>\n</blockquote>\n\n<p>It is perfectly fine to migrate from <a href=\"https://www.typescriptlang.org/docs/handbook/migrating-from-javascript.html\" rel=\"nofollow noreferrer\">JavaScript to TypeScript</a> in a stepwise manner!</p>\n\n<p>Hope, that helps.</p>\n"}], "owner": {"reputation": 2672, "user_id": 223936, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/j58Xn.jpg?s=128&g=1", "display_name": "Plastikfan", "link": "https://stackoverflow.com/users/223936/plastikfan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 469, "favorite_count": 0, "accepted_answer_id": 57609096, "answer_count": 1, "score": 3, "last_activity_date": 1580162935, "creation_date": 1566404929, "last_edit_date": 1566476929, "question_id": 57595862, "link": "https://stackoverflow.com/questions/57595862/webpack-using-typescript-common-settings-in-both-configs-so-which-take-precede", "title": "Webpack using Typescript: Common settings in both configs, so which take precedence?", "body": "<p>I am in the initial stages of converting a javascript (with webpack) project into a typescript project and one of the many confusions I have is that their appears to be some configuration settings that can appear in webpack and typescript, so which takes precedence?</p>\n\n<p>(I'm currently working on a node cli application).</p>\n\n<p>Eg, the primary example is which files are included in compilation.</p>\n\n<p>In webpack config, you can specify which input files are selected with rules:</p>\n\n<pre><code>  module: {\n    rules: [\n      {\n        test: /index.ts/,\n        use: 'shebang-loader'\n      },\n      {\n        test: /\\.ts(x?)$/,\n        use: 'ts-loader'\n      },\n      {\n        test: /\\.json$/,\n        use: 'json-loader'\n      }\n    ]\n  },\n</code></pre>\n\n<p>As you can see from above, I'm using various loaders for different file types.</p>\n\n<p>Then my initial tsconfig.json is as follows:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"noImplicitAny\": true,\n    \"lib\": [\n      \"es5\", \"es2015\", \"es6\", \"dom\"\n    ]\n  },\n  \"include\": [\n    \"lib/**/*\"\n  ],\n  \"exclude\": [\n    \"node_modules\",\n    \"**/*.spec.ts\"\n  ]\n}\n</code></pre>\n\n<p>So what is the true nature of the interaction between webpack and typescript? I have not been able to discern this from typescript or webpack documentation. Both appear to be able to specify the input files that are included in compilation.</p>\n\n<p>Another (probably better example) is the output file. In webpack config I have the following:</p>\n\n<pre><code>  output: {\n    libraryTarget: 'commonjs',\n    path: path.join(__dirname, 'dist'),\n    filename: 'application-bundle.js'\n  }\n</code></pre>\n\n<p>which defines 'application-bundle.js' is the output file inside the 'dist' folder.</p>\n\n<p>In the tsconfig, you can have something like the following:</p>\n\n<pre><code>\"outFile\": \"./dist/application-bundle.js\",\n</code></pre>\n\n<p>(I currently do not define an outFile property, but I know you can do so, but in being able to do so, brings up ambiguities and hence confusion). So in this scenario, does webpack override typescript or vice-versa? What is the recommended strategy?</p>\n\n<p>There are probably more typescript/webpack crossovers that are going to cause confusion, but the 2 that I have described so far are the most upfront and pressing issues I need to understand, thanks.</p>\n\n<p>EDIT: Having thought about it, I also need another clarification. I am guessing when you build a TS/WP project, the TS compiler runs first creates all the .js files (let's say in the .dist folder). Then webpack bundles all the generated .js files. So assuming this is correct, do I then need to configure webpack to use as its input the .js files in the dist folder instead of the .js files inside the project source (ie everything under ./lib which is where my source js files are)?</p>\n\n<p>I was hoping to convert my project in an incremental manner so what I have just said does not really fit my needs. Webpack would need to pick up some .js files from ./dist and some files from ./lib which have not yet been converted to typescript. I don't know how to modify the project for incremental upgrade.</p>\n"}, {"tags": ["regex", "typescript", "jsonpath"], "comments": [{"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "edited": false, "score": 0, "creation_date": 1566406625, "post_id": 57595786, "comment_id": 101649633, "body": "does the property always a string or number which doesn&#39;t contain <code>. or [ or ]</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 1724, "user_id": 2543209, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5869184dad8dd949887291f0e328e395?s=128&d=identicon&r=PG", "display_name": "Jeremy Fisher", "link": "https://stackoverflow.com/users/2543209/jeremy-fisher"}, "edited": false, "score": 0, "creation_date": 1566406433, "post_id": 57596106, "comment_id": 101649546, "body": "I believe this is saying &quot;match at least 1 of &quot;[&quot;, &quot;]&quot;, &quot;.&quot; which would mean it also encompasses &quot;][&quot;. &quot;].&quot;, right? This is a good solution."}, {"owner": {"reputation": 500, "user_id": 11938709, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mdMCSEarAy0/AAAAAAAAAAI/AAAAAAAAEMQ/AQ3XPpGLphc/photo.jpg?sz=128", "display_name": "Long Nguyen", "link": "https://stackoverflow.com/users/11938709/long-nguyen"}, "reply_to_user": {"reputation": 1724, "user_id": 2543209, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5869184dad8dd949887291f0e328e395?s=128&d=identicon&r=PG", "display_name": "Jeremy Fisher", "link": "https://stackoverflow.com/users/2543209/jeremy-fisher"}, "edited": false, "score": 0, "creation_date": 1566406766, "post_id": 57596106, "comment_id": 101649691, "body": "Yes, absolutely"}], "tags": [], "owner": {"reputation": 500, "user_id": 11938709, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mdMCSEarAy0/AAAAAAAAAAI/AAAAAAAAEMQ/AQ3XPpGLphc/photo.jpg?sz=128", "display_name": "Long Nguyen", "link": "https://stackoverflow.com/users/11938709/long-nguyen"}, "is_accepted": true, "score": 1, "last_activity_date": 1566406181, "creation_date": 1566406181, "answer_id": 57596106, "question_id": 57595786, "link": "https://stackoverflow.com/questions/57595786/simple-character-replacement-regex-tokenizing-jsonpath/57596106#57596106", "title": "simple character replacement regex, tokenizing jsonpath", "body": "<p>You can use this code to omit <code>double semicolon</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>console.log(\r\n'$.sensor.subsensor[0].foo[1][2].temp'.replace(/[\\.\\[\\]]+/g, ';')\r\n)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1724, "user_id": 2543209, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5869184dad8dd949887291f0e328e395?s=128&d=identicon&r=PG", "display_name": "Jeremy Fisher", "link": "https://stackoverflow.com/users/2543209/jeremy-fisher"}, "is_accepted": false, "score": 0, "last_activity_date": 1566406229, "creation_date": 1566406229, "answer_id": 57596115, "question_id": 57595786, "link": "https://stackoverflow.com/questions/57595786/simple-character-replacement-regex-tokenizing-jsonpath/57596115#57596115", "title": "simple character replacement regex, tokenizing jsonpath", "body": "<p>Got a decent solution. </p>\n\n<p><code>/(\\.|\\].|\\[)/g</code></p>\n\n<p>Apparently when you use <code>[]</code> as part of your regex that matches only a single character, which is why groups like \"].\" become \";;\". Using <code>()</code> allows you to specify character groups, and the above group just enumerates the possibilities. </p>\n"}, {"comments": [{"owner": {"reputation": 1724, "user_id": 2543209, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5869184dad8dd949887291f0e328e395?s=128&d=identicon&r=PG", "display_name": "Jeremy Fisher", "link": "https://stackoverflow.com/users/2543209/jeremy-fisher"}, "edited": false, "score": 0, "creation_date": 1566408301, "post_id": 57596212, "comment_id": 101650239, "body": "can you explain how this works? That regex doesn&#39;t look global and it&#39;s not escaping the &quot;.&quot; or &quot;[&quot; character"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "reply_to_user": {"reputation": 1724, "user_id": 2543209, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5869184dad8dd949887291f0e328e395?s=128&d=identicon&r=PG", "display_name": "Jeremy Fisher", "link": "https://stackoverflow.com/users/2543209/jeremy-fisher"}, "edited": false, "score": 0, "creation_date": 1566413798, "post_id": 57596212, "comment_id": 101652496, "body": "@JeremyFisher: 1) The global flag is superfluous when spliting. 2) dot and openning square bracket don&#39;t need to be escaped within a character class. This is spliting on 1 or more any of <code>.</code>, <code>[</code> or <code>]</code>"}, {"owner": {"reputation": 17225, "user_id": 2823719, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/TWgf9.jpg?s=128&g=1", "display_name": "Booboo", "link": "https://stackoverflow.com/users/2823719/booboo"}, "edited": false, "score": 0, "creation_date": 1566415796, "post_id": 57596212, "comment_id": 101653372, "body": "This is really the best answer. Better if Toto&#39;s explanation were moved to the answer from the comment."}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 2, "last_activity_date": 1566406782, "creation_date": 1566406782, "answer_id": 57596212, "question_id": 57595786, "link": "https://stackoverflow.com/questions/57595786/simple-character-replacement-regex-tokenizing-jsonpath/57596212#57596212", "title": "simple character replacement regex, tokenizing jsonpath", "body": "<p>No needs to transform <code>.[]</code> into <code>;</code>, just split directly:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>console.log('$.sensor.subsensor[0].foo[1][2].temp'.split(/[.[\\]]+/));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1724, "user_id": 2543209, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5869184dad8dd949887291f0e328e395?s=128&d=identicon&r=PG", "display_name": "Jeremy Fisher", "link": "https://stackoverflow.com/users/2543209/jeremy-fisher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 57596106, "answer_count": 3, "score": 0, "last_activity_date": 1566406782, "creation_date": 1566404615, "question_id": 57595786, "link": "https://stackoverflow.com/questions/57595786/simple-character-replacement-regex-tokenizing-jsonpath", "title": "simple character replacement regex, tokenizing jsonpath", "body": "<p>I am trying to tokenize a jsonpath string. For example, given a string like the following:</p>\n\n<p><code>$.sensor.subsensor[0].foo[1][2].temp</code></p>\n\n<p>I want <code>[\"$\", \"sensor\", \"subsensor\", \"0\", \"foo\", \"1\", \"2\", \"temp\"]</code></p>\n\n<p>I am terrible with regexs but I managed to come up with the following which according to regexr matches \".\" and \"[\" and \"]\". Assume the jsonpath string does not contain slices, wildcards, unions nor recursive descent.</p>\n\n<p><code>[\\.\\[\\]]</code></p>\n\n<p>I am planning to match all \".\" and \"[\" and \"]\" chars and replace them with \";\". Then i will split on \";\". </p>\n\n<p>The problem with the above regex is that I will get in certain instances \";;\". </p>\n\n<p><code>$;sensor;subsensor;0;;foo;1;;2;;temp</code></p>\n\n<p>Is there a way I can in a single regex replace \".\", \"[\", \"]\" as well as \".[\" and \"].\" or \"][\" with \";\"? Do I need to check for these groups explicitly or do I need to run the sequence through 2 regexs?</p>\n"}, {"tags": ["typescript", "graphql", "typeorm", "typegraphql"], "answers": [{"tags": [], "owner": {"reputation": 5453, "user_id": 5472617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EFqIY.jpg?s=128&g=1", "display_name": "Micha\u0142 Lytek", "link": "https://stackoverflow.com/users/5472617/micha%c5%82-lytek"}, "is_accepted": false, "score": 2, "last_activity_date": 1587051601, "last_edit_date": 1587051601, "creation_date": 1566638532, "answer_id": 57636653, "question_id": 57595631, "link": "https://stackoverflow.com/questions/57595631/return-typeorm-delete-mutation/57636653#57636653", "title": "Return TypeORM delete mutation", "body": "<blockquote>\n  <p>Field \\ BairroDelete \\ must not have a selection since type \\\" Boolean! \\ Has no subfields.</p>\n</blockquote>\n\n<p>You need to show us your graphql mutation document. </p>\n\n<p>It looks like you're doing something like this:</p>\n\n<pre><code>mutation {\n  BairroDelete(id: 123) {\n    status\n  }\n}\n</code></pre>\n\n<p>Which is illegal, since <code>BairroDelete</code> returns boolean scalar, not object type that you can select fields from.</p>\n\n<p>However, this is legal:</p>\n\n<pre><code>mutation {\n  BairroDelete(id: 123)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 10949429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5960df3c71dc39db08f08369812d062c?s=128&d=identicon&r=PG", "display_name": "stackchain", "link": "https://stackoverflow.com/users/10949429/stackchain"}, "is_accepted": false, "score": 0, "last_activity_date": 1576522356, "creation_date": 1576522356, "answer_id": 59362691, "question_id": 57595631, "link": "https://stackoverflow.com/questions/57595631/return-typeorm-delete-mutation/59362691#59362691", "title": "Return TypeORM delete mutation", "body": "<p><code>sucesso</code> that you are returning from <code>Bairro.delete</code> is not a Boolean type, it is an object DeleteResult from TypeOrm that looks like this:</p>\n\n<pre><code>DeleteResult {\n  raw: OkPacket {\n    fieldCount: 0,\n    affectedRows: 0,\n    insertId: 0,\n    serverStatus: 2,\n    warningCount: 0,\n    message: '',\n    protocol41: true,\n    changedRows: 0\n  },\n  affected: 0\n}\n</code></pre>\n\n<p>Firstly you have to define what is going to be the \"success\" for you delete operation because it may not affect any row at all. What is missing is this translation from the returned object from TypeOrm into what you are willing to respond to in your Graphql mutation. Delete is not like other operations, whereas most of the time you get the Entity instances back and just return it.</p>\n"}], "owner": {"reputation": 21, "user_id": 11394703, "user_type": "registered", "profile_image": "https://graph.facebook.com/2289225261143227/picture?type=large", "display_name": "&#193;lax Morais Filho", "link": "https://stackoverflow.com/users/11394703/%c3%81lax-morais-filho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1641, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1587051601, "creation_date": 1566403966, "last_edit_date": 1575271204, "question_id": 57595631, "link": "https://stackoverflow.com/questions/57595631/return-typeorm-delete-mutation", "title": "Return TypeORM delete mutation", "body": "<p>I can't make a delete mutation an error occurs in function return.</p>\n\n<p>If I run BairroDelete in GraphQL then an error occurs from Mutation in graphql.</p>\n\n<p>Message:</p>\n\n<blockquote>\n  <p>Field \\ BairroDelete \\ must not have a selection since type \\\" Boolean! \\ Has no subfields.,</p>\n</blockquote>\n\n<p>Code:</p>\n\n<pre><code>import { Resolver, Query, Mutation, Arg } from \"type-graphql\";\nimport { Bairro } from \"../entities/Bairro\";\nimport { status } from \"../enumerador\";\n\n@Resolver(of =&gt; Bairro)\nexport class BairroResolver {\n  @Query(returns =&gt; [Bairro])\n  async Bairros() {\n    return await Bairro.find();\n  }\n\n  @Mutation(() =&gt; Bairro)\n  async BairroSave(\n    @Arg(\"nome\") nome : string\n  ) \n  {\n    const ativo = await status.Ativo;\n\n    const bairro = await Bairro.create({\n      nome,\n      status: ativo\n    }).save()\n\n    return bairro;\n  }\n\n  @Mutation(() =&gt; Boolean)\n  async BairroDelete(\n    @Arg(\"id\") id : string\n  ) \n  {\n    const sucesso = await Bairro.delete({ id });\n    return sucesso;  // &lt;&lt;&lt;&lt;&lt;&lt; ERROR HERE\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript", "redux"], "answers": [{"tags": [], "owner": {"reputation": 734, "user_id": 7558480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28b7dcedfb2beba94fcc93370f644783?s=128&d=identicon&r=PG", "display_name": "Richard Haddad", "link": "https://stackoverflow.com/users/7558480/richard-haddad"}, "is_accepted": false, "score": 1, "last_activity_date": 1566428596, "creation_date": 1566428596, "answer_id": 57600158, "question_id": 57595516, "link": "https://stackoverflow.com/questions/57595516/type-checking-a-typescript-reducer-receiving-action-types/57600158#57600158", "title": "Type-checking a TypeScript reducer receiving action types", "body": "<p>Your state has as keys <code>FOO | BAR</code> following your <code>SampleState</code> interface.\nAnd your <code>Types['actionType']</code> is <code>string</code>.</p>\n\n<p>So when you're doing <code>state[action.actionType]</code>, you're doing <code>SampleState[string]</code>. But <code>SampleState</code> accepts only <code>FOO</code> or <code>BAR</code> !</p>\n\n<p>A solution, according to your needs, may be to type <code>Types['actionType']: (typeof FOO) | (typeof BAR)</code> (something like that).</p>\n\n<p>Also carefull to how you're naming your fields. Maybe it's just for the example, but <code>actionType</code> when there is already a <code>type</code> in an action interface seems redondant and quite confusing.</p>\n"}, {"tags": [], "owner": {"reputation": 1560, "user_id": 7460467, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a1b029d7797f40f5be6056fa1ae640f2?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/7460467/jimmy"}, "is_accepted": true, "score": 0, "last_activity_date": 1566839160, "creation_date": 1566839160, "answer_id": 57662114, "question_id": 57595516, "link": "https://stackoverflow.com/questions/57595516/type-checking-a-typescript-reducer-receiving-action-types/57662114#57662114", "title": "Type-checking a TypeScript reducer receiving action types", "body": "<p>Updating the <code>SampleState</code> interface to the following solved this issue:</p>\n\n<pre><code>export interface SampleState {\n  [key: string]: {\n    toggle: boolean;\n  };\n}\n</code></pre>\n"}], "owner": {"reputation": 1560, "user_id": 7460467, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a1b029d7797f40f5be6056fa1ae640f2?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/7460467/jimmy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 57662114, "answer_count": 2, "score": -1, "last_activity_date": 1566839160, "creation_date": 1566403542, "question_id": 57595516, "link": "https://stackoverflow.com/questions/57595516/type-checking-a-typescript-reducer-receiving-action-types", "title": "Type-checking a TypeScript reducer receiving action types", "body": "<p>I am trying to create a TypeScript redux reducer that accepts an actionType as a key value, however I am struggling to define the proper interface for my state. When doing so, I am getting the following message:</p>\n\n<blockquote>\n  <p>TS7053: Element implicitly has an 'any' type because expression of type 'string' can't be used to index type 'SampleState'. No index signature with a parameter of type 'string' was found on type 'SampleState'.</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/Y2VvL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y2VvL.png\" alt=\"enter image description here\"></a></p>\n\n<p>How do I properly type check my reducer for when it receives an actionType? Thanks, you can see the sample code below.</p>\n\n<p><strong>sampleActionTypes.ts:</strong></p>\n\n<pre><code>export const FOO = 'FOO';\nexport const BAR = 'BAR';\nexport const TURN_ON = 'TURN_ON';\nexport const TURN_OFF = 'TURN_OFF';\n\ninterface TurnOn {\n  type: typeof TURN_ON;\n  actionType: string;\n}\n\ninterface TurnOff {\n  type: typeof TURN_OFF;\n  actionType: string;\n}\n\nexport type Types = TurnOn | TurnOff;\n</code></pre>\n\n<p><strong>sampleReducer.ts:</strong></p>\n\n<pre><code>import { BAR, FOO, TURN_OFF, TURN_ON, Types } from './sampleActionTypes';\n\nexport interface SampleState {\n  [FOO]: {\n    toggle: boolean;\n  };\n  [BAR]: {\n    toggle: boolean;\n  };\n}\n\nconst initialState: SampleState = {\n  [FOO]: {\n    toggle: false,\n  },\n  [BAR]: {\n    toggle: false,\n  },\n};\n\nconst sampleReducer = (state = initialState, action: Types): SampleState =&gt; {\n  switch (action.type) {\n    case TURN_ON:\n      return {\n        ...state,\n        [action.actionType]: {\n          ...state[action.actionType],\n          toggle: true,\n        },\n      };\n    case TURN_OFF:\n      return {\n        ...state,\n        [action.actionType]: {\n          ...state[action.actionType],\n          toggle: false,\n        },\n      };\n    default:\n      return state;\n  }\n};\n\nexport default sampleReducer;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs", "single-page-application"], "answers": [{"comments": [{"owner": {"reputation": 1859, "user_id": 1749515, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/047ca80c3c1156be95c0146f2dd03ac0?s=128&d=identicon&r=PG", "display_name": "Nimmi", "link": "https://stackoverflow.com/users/1749515/nimmi"}, "edited": false, "score": 0, "creation_date": 1566403320, "post_id": 57595310, "comment_id": 101648188, "body": "It shows this error now inside of code.  Type &#39;&quot;blob&quot;&#39; is not assignable to type &#39;&quot;json&quot;&#39;.ts(2322) client.d.ts(1075, 9): The expected type comes from property &#39;responseType&#39; which is declared here on type &#39;{ headers?: HttpHeaders | { [header: string]: string | string[]; }; observe?: &quot;body&quot;; params?: HttpParams | { [param: string]: string | string[]; }; reportProgress?: boolean; responseType?: &quot;json&quot;; withCredentials?: boolean; }&#39;"}], "tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": false, "score": 2, "last_activity_date": 1566402664, "creation_date": 1566402664, "answer_id": 57595310, "question_id": 57595250, "link": "https://stackoverflow.com/questions/57595250/get-image-from-api-angular/57595310#57595310", "title": "GET Image from API Angular", "body": "<p>You should return you http code like this. Blob is the type you want to deal with when working with image file</p>\n\n<pre><code>getImage(imageUrl: string): Observable&lt;Blob&gt; {\n  return this.httpClient.get(imageUrl, { responseType: 'blob' });\n}\n</code></pre>\n\n<p>You can view this blog <a href=\"https://blog.strongbrew.io/safe-image-requests-in-angular/\" rel=\"nofollow noreferrer\">post</a> for more detail</p>\n"}, {"comments": [{"owner": {"reputation": 1859, "user_id": 1749515, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/047ca80c3c1156be95c0146f2dd03ac0?s=128&d=identicon&r=PG", "display_name": "Nimmi", "link": "https://stackoverflow.com/users/1749515/nimmi"}, "edited": false, "score": 0, "creation_date": 1568060802, "post_id": 57602841, "comment_id": 102147775, "body": "My header was good but I was missing to create image from that. My issue is resolved by creating image. Thank you for your comment that helped me to find out what I was missing."}], "tags": [], "owner": {"reputation": 61, "user_id": 9793589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9030602117b247ca81b24b54fd263fec?s=128&d=identicon&r=PG&f=1", "display_name": "Vishal Soni", "link": "https://stackoverflow.com/users/9793589/vishal-soni"}, "is_accepted": false, "score": 1, "last_activity_date": 1566453474, "creation_date": 1566453474, "answer_id": 57602841, "question_id": 57595250, "link": "https://stackoverflow.com/questions/57595250/get-image-from-api-angular/57602841#57602841", "title": "GET Image from API Angular", "body": "<p>If you are receiving 'blob' type from your request you have to change your headers accordingly. Try changing the accept-type from json to image format. Check below code and see if that helps </p>\n\n<pre><code>getImage() {\n    let httpHeaders = new HttpHeaders()\n         .set('Accept', \"image/webp,*/*\");\n\n    return this.http.get&lt;Blob&gt;(url, { headers: httpHeaders, responseType: 'blob' as 'json' });\n}\n</code></pre>\n\n<p>After this you can create the image from this data.</p>\n"}, {"tags": [], "owner": {"reputation": 1859, "user_id": 1749515, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/047ca80c3c1156be95c0146f2dd03ac0?s=128&d=identicon&r=PG", "display_name": "Nimmi", "link": "https://stackoverflow.com/users/1749515/nimmi"}, "is_accepted": true, "score": 2, "last_activity_date": 1568061056, "creation_date": 1568061056, "answer_id": 57860842, "question_id": 57595250, "link": "https://stackoverflow.com/questions/57595250/get-image-from-api-angular/57860842#57860842", "title": "GET Image from API Angular", "body": "<p>Both answer given below helped me but in my case I was not crating image so once I do GET I  than created image and it helped me to solve this issue.</p>\n"}], "owner": {"reputation": 1859, "user_id": 1749515, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/047ca80c3c1156be95c0146f2dd03ac0?s=128&d=identicon&r=PG", "display_name": "Nimmi", "link": "https://stackoverflow.com/users/1749515/nimmi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2234, "favorite_count": 0, "accepted_answer_id": 57860842, "answer_count": 3, "score": 0, "last_activity_date": 1576223220, "creation_date": 1566402431, "last_edit_date": 1576223220, "question_id": 57595250, "link": "https://stackoverflow.com/questions/57595250/get-image-from-api-angular", "title": "GET Image from API Angular", "body": "<p>I am trying to get logo image(any type image, example: jpeg, png, gif) from API I can see image in Network tab but console throws an error as shown in attached image. Any suggestions? I am using htppclient.get and .toPromise() to and Angular latest version.</p>\n\n<p>edit: I also have this header set</p>\n\n<pre><code>    const headers = new HttpHeaders().set('Content-Type', 'application/json');\n    return this.getHeaders().append('responseType', 'text');\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/zmQe6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zmQe6.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 3612, "user_id": 1403082, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/54208141329b219ea283669e84b537f5?s=128&d=identicon&r=PG", "display_name": "ylerjen", "link": "https://stackoverflow.com/users/1403082/ylerjen"}, "edited": false, "score": 0, "creation_date": 1566401878, "post_id": 57595037, "comment_id": 101647477, "body": "your assumption about <code>@Input</code>is correct, but I don&#39;t get why you can&#39;t use the child element selector. Is it because they are not structured in a parent-child structure ?Could you describe a bit more your use case ? And what&#39;s the error you get if any ?"}], "answers": [{"tags": [], "owner": {"reputation": 4698, "user_id": 10270798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u5FUH.png?s=128&g=1", "display_name": "Dince12", "link": "https://stackoverflow.com/users/10270798/dince12"}, "is_accepted": false, "score": 1, "last_activity_date": 1566402212, "last_edit_date": 1566402212, "creation_date": 1566401877, "answer_id": 57595097, "question_id": 57595037, "link": "https://stackoverflow.com/questions/57595037/how-to-pass-data-between-components-that-not-being-called-in-angular-8/57595097#57595097", "title": "How To Pass Data Between Components That Not Being Called in Angular 8", "body": "<p>You are trying to pass in a component value with how you have it structured which i'm guessing doesn't exist. Either use the following to pass in the string.</p>\n\n<pre><code>&lt;app-child [childMessage]=\"'parentMessage'\"&gt;&lt;/app-child&gt;\n</code></pre>\n\n<p>Or in your parent declare the variable you are trying to pass in like so.</p>\n\n<pre><code>public parentMessage = \"parentMessage\";\n</code></pre>\n\n<p>I think this is the problem as the syntax looks correct.</p>\n\n<p>If you are having trouble with rendering the component with its selector like so <code>&lt;app-child&gt;&lt;/app-child&gt;</code> have a look at this <a href=\"https://stackblitz.com/angular/jxnjlymxmen\" rel=\"nofollow noreferrer\">stackblitz from the Angular docs</a> as examples of can be found here of that usage.</p>\n\n<p>This would be likely be fixed by having declarations in your modules set up correctly.</p>\n"}, {"comments": [{"owner": {"reputation": 398, "user_id": 10377640, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tYnPVIRXnNo/AAAAAAAAAAI/AAAAAAAAAsM/TB3MdQBBB88/photo.jpg?sz=128", "display_name": "Alif Ramdani", "link": "https://stackoverflow.com/users/10377640/alif-ramdani"}, "edited": false, "score": 0, "creation_date": 1566407085, "post_id": 57595130, "comment_id": 101649803, "body": "you rocked man, thank you very much. It took me almost an hour to implement this btw hahaha (because of lack of understanding the basics)."}, {"owner": {"reputation": 398, "user_id": 10377640, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tYnPVIRXnNo/AAAAAAAAAAI/AAAAAAAAAsM/TB3MdQBBB88/photo.jpg?sz=128", "display_name": "Alif Ramdani", "link": "https://stackoverflow.com/users/10377640/alif-ramdani"}, "edited": false, "score": 0, "creation_date": 1566407406, "post_id": 57595130, "comment_id": 101649906, "body": "For you guys that probably have the same problem, for me <a href=\"https://www.dotnetcurry.com/angularjs/1445/angular-services-component-communication\" rel=\"nofollow noreferrer\">this</a> is a good reference to implement communication between components with service in angular."}], "tags": [], "owner": {"reputation": 664, "user_id": 8351493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f51ee7d1ce3d03323a059cb2f53f01d?s=128&d=identicon&r=PG&f=1", "display_name": "Barkha", "link": "https://stackoverflow.com/users/8351493/barkha"}, "is_accepted": true, "score": 2, "last_activity_date": 1566401966, "creation_date": 1566401966, "answer_id": 57595130, "question_id": 57595037, "link": "https://stackoverflow.com/questions/57595037/how-to-pass-data-between-components-that-not-being-called-in-angular-8/57595130#57595130", "title": "How To Pass Data Between Components That Not Being Called in Angular 8", "body": "<p>You can have a shared service between these two components and then set a variable in shared service from parent component and use it in child or you can add getter and setter functions in service</p>\n"}], "owner": {"reputation": 398, "user_id": 10377640, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tYnPVIRXnNo/AAAAAAAAAAI/AAAAAAAAAsM/TB3MdQBBB88/photo.jpg?sz=128", "display_name": "Alif Ramdani", "link": "https://stackoverflow.com/users/10377640/alif-ramdani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 588, "favorite_count": 0, "closed_date": 1566407361, "accepted_answer_id": 57595130, "answer_count": 2, "score": 2, "last_activity_date": 1566402212, "creation_date": 1566401671, "question_id": 57595037, "link": "https://stackoverflow.com/questions/57595037/how-to-pass-data-between-components-that-not-being-called-in-angular-8", "closed_reason": "Duplicate", "title": "How To Pass Data Between Components That Not Being Called in Angular 8", "body": "<p>I'm newbie in Angular but I believe this is a way to pass data between components in Angular using <code>@Input</code> : </p>\n\n<p>In parent component :</p>\n\n<pre><code>...\n&lt;app-child [childMessage]=\"parentMessage\"&gt;&lt;/app-child&gt;\n...\n</code></pre>\n\n<p>In child component :</p>\n\n<pre><code>...\n@Input() childMessage: string;\n...\n</code></pre>\n\n<p>But in my case, </p>\n\n<blockquote>\n  <p>I can't call my component selector that I want to pass.</p>\n</blockquote>\n\n<p>And how do I pass the data ?</p>\n\n<p>Ps : What I mean \"Call\" is doing this --> <code>&lt;app-child&gt;&lt;/app-child&gt;</code></p>\n"}, {"tags": ["typescript", "ionic-framework", "ionic3"], "comments": [{"owner": {"reputation": 3393, "user_id": 214143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61025b3df4700620a5d9099293f23a5d?s=128&d=identicon&r=PG", "display_name": "Jason Aller", "link": "https://stackoverflow.com/users/214143/jason-aller"}, "edited": false, "score": 0, "creation_date": 1566575511, "post_id": 57594838, "comment_id": 101712613, "body": "What do you mean by &quot;change the place&quot;?"}, {"owner": {"reputation": 303, "user_id": 10025308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21ea85d01da513d55ed4c383c5fd22a5?s=128&d=identicon&r=PG&f=1", "display_name": "wahib", "link": "https://stackoverflow.com/users/10025308/wahib"}, "reply_to_user": {"reputation": 3393, "user_id": 214143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61025b3df4700620a5d9099293f23a5d?s=128&d=identicon&r=PG", "display_name": "Jason Aller", "link": "https://stackoverflow.com/users/214143/jason-aller"}, "edited": false, "score": 0, "creation_date": 1566674861, "post_id": 57594838, "comment_id": 101733589, "body": "when i change the device , the - component also the + are in the same line and in other device are like you see there"}], "owner": {"reputation": 303, "user_id": 10025308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21ea85d01da513d55ed4c383c5fd22a5?s=128&d=identicon&r=PG&f=1", "display_name": "wahib", "link": "https://stackoverflow.com/users/10025308/wahib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566678429, "creation_date": 1566400940, "last_edit_date": 1566678429, "question_id": 57594838, "link": "https://stackoverflow.com/questions/57594838/ionic-composent-place-change", "title": "ionic composent place change", "body": "<p>Every time I run the app the <code>-</code> and <code>+</code> components are on a different baseline or vertical offset than the text. </p>\n\n<p><a href=\"https://i.stack.imgur.com/hWZsV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hWZsV.png\" alt=\"this is what happens when I run the app\"></a></p>\n\n<p><strong>this is my ionic html page</strong> { I pasted only one row the others are the same } </p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ion-grid class=\"filters\" no-padding margin-top&gt;\n  &lt;ion-row&gt;\n    &lt;ion-col class=\"adult\" width-70&gt;\n      &lt;span ion-text color=\"primary\"&gt;&lt;strong&gt;BusinessDate&lt;/strong&gt;\n            &lt;/span&gt;\n    &lt;/ion-col&gt;\n    &lt;ion-col width-10 text-center&gt;\n      &lt;ion-icon name=\"remove-circle\" class=\"text-2x\" tappable color=\"secondary\"&gt;\n      &lt;/ion-icon&gt;\n    &lt;/ion-col&gt;\n    &lt;ion-col width-10 text-center&gt;{{businessdate}}&lt;/ion-col&gt;\n    &lt;ion-col width-10 text-center&gt;\n      &lt;ion-icon name=\"add-circle\" class=\"text-2x\" tappable color=\"secondary\"&gt;\n      &lt;/ion-icon&gt;\n    &lt;/ion-col&gt;\n  &lt;/ion-row&gt;\n&lt;/ion-grid&gt;\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 5085, "user_id": 3941291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sUtBe.jpg?s=128&g=1", "display_name": "ChrisG", "link": "https://stackoverflow.com/users/3941291/chrisg"}, "edited": false, "score": 0, "creation_date": 1566400811, "post_id": 57594759, "comment_id": 101646917, "body": "I do not understand your question. You have a correct union of a type and another one which extends the first. The error is also correct. As <code>AnyPerson</code> could be either a <code>Person</code> <i>without</i> the <code>age</code> property or a <code>PersonWithAge</code> just assuming that is present is wrong..."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 2, "creation_date": 1566400950, "post_id": 57594759, "comment_id": 101646986, "body": "Post code not pictures please"}, {"owner": {"reputation": 43, "user_id": 2039888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a0a8eb537733d64b8292aaf228b368f?s=128&d=identicon&r=PG", "display_name": "joepegler", "link": "https://stackoverflow.com/users/2039888/joepegler"}, "edited": false, "score": 0, "creation_date": 1566401450, "post_id": 57594759, "comment_id": 101647261, "body": "Ah - it&#39;s because I&#39;m setting the age field after the type has been inferred."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1566402047, "post_id": 57594759, "comment_id": 101647558, "body": "Any reason you don&#39;t want to use <code>interface AnyPerson extends Person { age?: number; }</code> instead?  It kind of looks like you expect <code>age</code> to act like an optional property."}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 2, "last_activity_date": 1566401145, "creation_date": 1566401145, "answer_id": 57594893, "question_id": 57594759, "link": "https://stackoverflow.com/questions/57594759/is-there-a-way-to-define-a-union-type-of-two-types-if-one-extends-the-other/57594893#57594893", "title": "Is there a way to define a union type of two types if one extends the other?", "body": "<p>You can access only members common to all constituents of a union. In this case <code>age</code> is only in <code>PersonWithAge</code> so <code>user.age</code> is not a valid access (since if <code>user</code> is <code>Person</code> is does not have <code>age</code>).</p>\n\n<p>You ca use an <code>in</code> type guard to narrow the union to <code>PersonWithAge</code>:</p>\n\n<pre><code>interface Person {\n  name: string\n}\n\ninterface PersonWithAge extends Person {\n  age: number;\n}\n\ntype AnyPerson = Person | PersonWithAge;\n\ndeclare var user: AnyPerson;\nif('age' in user ) {\n  user.age // user is PersonWithAge so this is ok now\n}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/JYOwLgpgTgZghgYwgAgArQM4HsTIN4CwAUMsiHALYQBcyGYUoA5sQL7HGiSyIrpTYQAdWBgAFgEEmKCAA9IIACYY0mHPmKk402iACuFAEbQA3Gw5EwATwAOKCSCv9ByALyqB6gD4fBI8VIQZkTEihAIADZwUCgAbtHIehjQtA5OaiDBwDAAFADk2hB5yKCJyVDIAJQaJGXQAHSFyAD0zXUVwCrOOP6S0nRYyOKdJSpYANZkWADubEA\" rel=\"nofollow noreferrer\">play</a></p>\n"}], "owner": {"reputation": 43, "user_id": 2039888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a0a8eb537733d64b8292aaf228b368f?s=128&d=identicon&r=PG", "display_name": "joepegler", "link": "https://stackoverflow.com/users/2039888/joepegler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1566401512, "creation_date": 1566400676, "last_edit_date": 1566401512, "question_id": 57594759, "link": "https://stackoverflow.com/questions/57594759/is-there-a-way-to-define-a-union-type-of-two-types-if-one-extends-the-other", "title": "Is there a way to define a union type of two types if one extends the other?", "body": "<pre><code>interface Person {\n    firstName: string;\n}\ninterface PersonWithAge extends Person {\n    age: number\n}\ntype AnyPerson = Person | PersonWithAge;\n\nlet user: AnyPerson = {\n    firstName: \"Malcolm\"\n};\n\nuser.age = 25;\n</code></pre>\n\n<p>I get the following error: </p>\n\n<p>\"Property 'age' does not exist on type 'Person'.\"</p>\n\n<p>Why is this not allowed? What is the correct way of achieving this? </p>\n"}, {"tags": ["angular", "typescript", "angular-providers", "angular-factory", "angular-dependency-injection"], "answers": [{"comments": [{"owner": {"reputation": 1124, "user_id": 1429439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ed40f1bce0e0cfbc1502a80d10211c4?s=128&d=identicon&r=PG", "display_name": "C.M.", "link": "https://stackoverflow.com/users/1429439/c-m"}, "edited": false, "score": 0, "creation_date": 1614973102, "post_id": 57594724, "comment_id": 117558202, "body": "This works. Why?"}], "tags": [], "owner": {"reputation": 36829, "user_id": 3497671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f83baf1bb818fad4fb1559ac2bf0304d?s=128&d=identicon&r=PG", "display_name": "Francesco Borzi", "link": "https://stackoverflow.com/users/3497671/francesco-borzi"}, "is_accepted": false, "score": 13, "last_activity_date": 1566402901, "last_edit_date": 1566402901, "creation_date": 1566400599, "answer_id": 57594724, "question_id": 57594723, "link": "https://stackoverflow.com/questions/57594723/angular-metadata-collected-contains-an-error-that-will-be-reported-at-runtime/57594724#57594724", "title": "Angular: Metadata collected contains an error that will be reported at runtime: Lambda not supported", "body": "<p>I've found an easy solution reported on a thread from GitHub: <a href=\"https://github.com/ng-packagr/ng-packagr/issues/696#issuecomment-387114613\" rel=\"noreferrer\">Arrow lambda not supported in static function</a> posted by <a href=\"https://github.com/haochi\" rel=\"noreferrer\">haochi</a></p>\n\n<p>The solution is basically:</p>\n\n<blockquote>\n  <p>assigning the result to a variable, then return the variable</p>\n</blockquote>\n\n<hr>\n\n<p>So in my case, I've resolved by replacing:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>export function getMyFactory(): () =&gt; Window {\n  return () =&gt; window;\n}\n</code></pre>\n\n<p>with:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>export function getMyFactory(): () =&gt; Window {\n  const res = () =&gt; window;\n  return res;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 908, "user_id": 1659605, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/f63b0e0218a46f5c89055a03d8bc151a?s=128&d=identicon&r=PG", "display_name": "Jnr", "link": "https://stackoverflow.com/users/1659605/jnr"}, "is_accepted": false, "score": 0, "last_activity_date": 1580929928, "creation_date": 1580929928, "answer_id": 60082631, "question_id": 57594723, "link": "https://stackoverflow.com/questions/57594723/angular-metadata-collected-contains-an-error-that-will-be-reported-at-runtime/60082631#60082631", "title": "Angular: Metadata collected contains an error that will be reported at runtime: Lambda not supported", "body": "<p>I had the same issue trying to return a promise as a function, and replaced this:</p>\n\n<pre><code>export function myFunc(): Function {\n    const result = () =&gt; ...\n    return result;\n}\n</code></pre>\n\n<p>With:</p>\n\n<pre><code>export function myFunc(){\n    const result = () =&gt; ...\n    return result;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 686, "user_id": 10704601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71cae95e22c4d58d290e0e15057ed70b?s=128&d=identicon&r=PG&f=1", "display_name": "emmbee", "link": "https://stackoverflow.com/users/10704601/emmbee"}, "is_accepted": false, "score": 6, "last_activity_date": 1593403458, "creation_date": 1593403458, "answer_id": 62631042, "question_id": 57594723, "link": "https://stackoverflow.com/questions/57594723/angular-metadata-collected-contains-an-error-that-will-be-reported-at-runtime/62631042#62631042", "title": "Angular: Metadata collected contains an error that will be reported at runtime: Lambda not supported", "body": "<p>Just add the <code>// @dynamic</code> comment like this:</p>\n<pre><code>// @dynamic\nexport function getMyFactory(): () =&gt; Window {return () =&gt; window;}\n</code></pre>\n<p>More info in the <a href=\"https://angular.io/guide/angular-compiler-options#strictmetadataemit\" rel=\"noreferrer\">angular docs</a></p>\n"}, {"comments": [{"owner": {"reputation": 489, "user_id": 4364295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7348ef9a6255aca045e98d8b0a7e70e5?s=128&d=identicon&r=PG", "display_name": "ohjeeez", "link": "https://stackoverflow.com/users/4364295/ohjeeez"}, "edited": false, "score": 1, "creation_date": 1613687214, "post_id": 65220776, "comment_id": 117160342, "body": "Worked great! Thanks!"}], "tags": [], "owner": {"reputation": 1867, "user_id": 1974681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0clGV.png?s=128&g=1", "display_name": "adrisons", "link": "https://stackoverflow.com/users/1974681/adrisons"}, "is_accepted": false, "score": 4, "last_activity_date": 1607531093, "creation_date": 1607531093, "answer_id": 65220776, "question_id": 57594723, "link": "https://stackoverflow.com/questions/57594723/angular-metadata-collected-contains-an-error-that-will-be-reported-at-runtime/65220776#65220776", "title": "Angular: Metadata collected contains an error that will be reported at runtime: Lambda not supported", "body": "<p>This same error happened to me in an Angular library.</p>\n<p>I ignored it by setting <code>&quot;strictMetadataEmit&quot;: false,</code> in <code>tsconfig.lib.json</code> under <code>angularCompilerOptions</code>.</p>\n"}], "owner": {"reputation": 36829, "user_id": 3497671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f83baf1bb818fad4fb1559ac2bf0304d?s=128&d=identicon&r=PG", "display_name": "Francesco Borzi", "link": "https://stackoverflow.com/users/3497671/francesco-borzi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6503, "favorite_count": 0, "answer_count": 4, "score": 7, "last_activity_date": 1607531093, "creation_date": 1566400599, "last_edit_date": 1592644375, "question_id": 57594723, "link": "https://stackoverflow.com/questions/57594723/angular-metadata-collected-contains-an-error-that-will-be-reported-at-runtime", "title": "Angular: Metadata collected contains an error that will be reported at runtime: Lambda not supported", "body": "<p>In my Angular app, I'm trying to use a <a href=\"https://angular.io/guide/dependency-injection-providers#factory-providers\" rel=\"nofollow noreferrer\">factory provider</a> in my module:</p>\n<pre class=\"lang-ts prettyprint-override\"><code>export function getMyFactory(): () =&gt; Window {\n  return () =&gt; window;\n}\n\n@NgModule({\n  providers: [\n    { provide: WindowRef, useFactory: getMyFactory() },\n  ],\n})\nexport class MyModule {}\n</code></pre>\n<p>but this is failing with:</p>\n<blockquote>\n<p>Error encountered in metadata generated for exported symbol 'MyModule':</p>\n<p>Metadata collected contains an error that will be reported at runtime: Lambda not supported</p>\n</blockquote>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1613455293, "post_id": 57594704, "comment_id": 117073076, "body": "Unfortunately TypeScript 4.1+ still doesn&#39;t let use use <code>typeof</code> on object members and then safely access those members without an intermediate scalar or using <code>as any</code>. Grumble."}, {"owner": {"reputation": 5085, "user_id": 3941291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sUtBe.jpg?s=128&g=1", "display_name": "ChrisG", "link": "https://stackoverflow.com/users/3941291/chrisg"}, "reply_to_user": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1613646986, "post_id": 57594704, "comment_id": 117142291, "body": "I am not sure what you are referring to, with TypeScript 4.1.5 it is possible, see the attached playground example, or did you mean something different? <a href=\"https://www.typescriptlang.org/play?#code/JYOwLgpgTgZghgYwgAgILIN4Chm+XALmQGcwpQBzAbiwF8stRJZEUAhTHPQ5EAVwC2AI2g16DGHxAIwwAPYhkkUgAo4UCkXQAfZGwCURUuRAVOeZMBjIVYAJ4AHCHOvqKAOjjIAvL+QByY0p-fXMLPCgIMD4oRTdPGgt6C0jo2PwNT3cwOQAxYAAPCAATFQAmfTEsIA\" rel=\"nofollow noreferrer\">typescriptlang.org/play?#code/&hellip;</a>"}, {"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1613650027, "post_id": 57594704, "comment_id": 117143683, "body": "that link doesn&#39;t work, it gets stuck on &quot;Downloading TypeScript&quot; - I see HTTP 404 errors for <a href=\"https://www.typescriptlang.org/typescript-sandbox/index.js\" rel=\"nofollow noreferrer\">typescriptlang.org/typescript-sandbox/index.js</a> in my dev console - looks like the TypeScript site dun goofed"}, {"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1613650051, "post_id": 57594704, "comment_id": 117143697, "body": "this is what I&#39;m referring to: <a href=\"https://stackoverflow.com/questions/66219385/what-is-the-correct-idiomatic-alternative-to-any-with-typeof-when-writing\" title=\"what is the correct idiomatic alternative to any with typeof when writing\">stackoverflow.com/questions/66219385/&hellip;</a>"}], "tags": [], "owner": {"reputation": 5085, "user_id": 3941291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sUtBe.jpg?s=128&g=1", "display_name": "ChrisG", "link": "https://stackoverflow.com/users/3941291/chrisg"}, "is_accepted": true, "score": 8, "last_activity_date": 1566400541, "creation_date": 1566400541, "answer_id": 57594704, "question_id": 57594637, "link": "https://stackoverflow.com/questions/57594637/typescript-type-guards-using-the-in-operator/57594704#57594704", "title": "Typescript Type guards: Using the in operator", "body": "<blockquote>\n  <p>The <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/in\" rel=\"noreferrer\"><code>in</code> operator</a> returns <code>true</code> if the specified property is in the specified object or its prototype chain.</p>\n</blockquote>\n\n<p>This means it operates on objects (or arrays) and not strings.</p>\n\n<p>If you want to add a type guard to differentiate between <code>string</code> and <code>number</code> you have to use <code>typeof</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function exec(strOrNum: string | number) {\n    if (typeof strOrNum === \"string\") {\n        return strOrNum.substring(1);\n    }\n    return strOrNum.toExponential(2);\n}\n</code></pre>\n\n<p>You would use the <code>in</code> operator if you have a union of two interfaces:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface A {\n    a: string;\n}\n\ninterface B {\n    b: number;\n}\n\n\nfunction test(arg: A | B): string {\n    if ('a' in arg) {\n        return arg.a;\n    }\n    return arg.b.toFixed(2);\n}\n\n</code></pre>\n"}], "owner": {"reputation": 2306, "user_id": 1644211, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/jvWm9.png?s=128&g=1", "display_name": "Rafa Romero", "link": "https://stackoverflow.com/users/1644211/rafa-romero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1881, "favorite_count": 1, "accepted_answer_id": 57594704, "answer_count": 1, "score": 3, "last_activity_date": 1566400541, "creation_date": 1566400348, "question_id": 57594637, "link": "https://stackoverflow.com/questions/57594637/typescript-type-guards-using-the-in-operator", "title": "Typescript Type guards: Using the in operator", "body": "<p>I'm learning TypeScript and practicing about Type Guards from <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#using-the-in-operator\" rel=\"nofollow noreferrer\">Official DOCS</a></p>\n\n<p>I'm testing the provided example (more or less) with TypeScript 3.5.3:</p>\n\n<pre><code>function exec(strOrNum: string | number) {\n    if (\"substring\" in strOrNum) {\n        return strOrNum.substring(1);\n    }\n    return strOrNum.toExponential(2);\n}\n</code></pre>\n\n<p>But VSCode is trowing the following error:</p>\n\n<blockquote>\n  <p>The right-hand side of an 'in' expression must be of type 'any', an object type or a type parameter.ts(2361)</p>\n</blockquote>\n\n<p>I don't understand it, any idea?</p>\n"}, {"tags": ["angular", "typescript", "datetime", "datetimepicker", "datetime-format"], "owner": {"reputation": 797, "user_id": 2166177, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/z51hk.jpg?s=128&g=1", "display_name": "steve", "link": "https://stackoverflow.com/users/2166177/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 218, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1566426768, "creation_date": 1566400061, "last_edit_date": 1566426768, "question_id": 57594550, "link": "https://stackoverflow.com/questions/57594550/how-to-setup-multiple-formats-in-same-app-for-ng-pick-datetime", "title": "How to setup multiple formats in same app for ng-pick-datetime", "body": "<p>I know how to setup <em>default</em> formatting for ng-pick-datetime via OWL_DATE_TIME_FORMATS (<a href=\"https://danielykpan.github.io/date-time-picker/#locale-formats\" rel=\"nofollow noreferrer\">https://danielykpan.github.io/date-time-picker/#locale-formats</a>), but what I want is to setup formatting differently on different pages in my app. On one page I want seconds and on the other I don't. Using momentjs that would be LT for one and LTS for the other. </p>\n\n<p>But, I don't see how to setup different formats for different instances of the control in my app. Seems that you can setup the default and that's it. </p>\n\n<p>Seems that a nice way to handle it would be an HTML tag. Consider this example with my imagined owlFormat tag:</p>\n\n<pre><code>        &lt;owl-date-time owlFormat=\"LTS\"&gt;&lt;/owl-date-time&gt;\n</code></pre>\n\n<p>Does such a tag or some other mechanism exist to set the format for a control?</p>\n\n<p>Note that if such a tag exists, then it could used to what the OP asks for in:\n<a href=\"https://stackoverflow.com/questions/56129112/how-to-set-owl-datetime-picker-format-programmatically\">How to set owl datetime picker format programmatically?</a>. They could assign like: </p>\n\n<pre><code>   [owlFormat]=\"formatVariable\"\n</code></pre>\n\n<p>Reference:\n<a href=\"https://www.npmjs.com/package/ng-pick-datetime\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/ng-pick-datetime</a></p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "react-router"], "answers": [{"tags": [], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "is_accepted": true, "score": 4, "last_activity_date": 1566400788, "creation_date": 1566400788, "answer_id": 57594792, "question_id": 57594535, "link": "https://stackoverflow.com/questions/57594535/typescript-does-not-allow-me-to-use-history-in-browserrouter/57594792#57594792", "title": "Typescript does not allow me to use history in BrowserRouter", "body": "<p><code>BrowserRouter</code> doesn't take in a prop called <code>history</code>. See here: <a href=\"https://reacttraining.com/react-router/web/api/BrowserRouter\" rel=\"nofollow noreferrer\">https://reacttraining.com/react-router/web/api/BrowserRouter</a>. There's a <code>Router</code> common low-level interface which has a <code>history</code> prop, but it doesn't look like <code>BrowserRouter</code> itself accepts that. So you could consider swapping to using <code>Router</code>.</p>\n\n<p>See this answer for some more info: <a href=\"https://stackoverflow.com/a/45849608/10326373\">https://stackoverflow.com/a/45849608/10326373</a></p>\n"}], "owner": {"reputation": 1084, "user_id": 11597904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04b3d27de38f0f1ae97dab7a5a7a73d7?s=128&d=identicon&r=PG&f=1", "display_name": "CodingLittle", "link": "https://stackoverflow.com/users/11597904/codinglittle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2643, "favorite_count": 0, "accepted_answer_id": 57594792, "answer_count": 1, "score": 3, "last_activity_date": 1566400788, "creation_date": 1566399996, "question_id": 57594535, "link": "https://stackoverflow.com/questions/57594535/typescript-does-not-allow-me-to-use-history-in-browserrouter", "title": "Typescript does not allow me to use history in BrowserRouter", "body": "<p>Experimenting with react and I decided to test typescript. </p>\n\n<p>code:</p>\n\n<pre><code>import { BrowserRouter } from 'react-router-dom'\nimport history  from './utilities/history'\n\nReactDOM.render(\n  &lt;BrowserRouter history={history}&gt;\n    &lt;App /&gt;\n  &lt;/BrowserRouter&gt;,\n  document.getElementById('root')\n)\n</code></pre>\n\n<p>history.js: </p>\n\n<pre><code>import { createBrowserHistory } from 'history'\n\nexport default createBrowserHistory()\n</code></pre>\n\n<p>error:</p>\n\n<blockquote>\n  <p>Type '{ children: Element; history: History; }' is not assignable\n  to type 'IntrinsicAttributes &amp; IntrinsicClassAttributes\n  &amp; Readonly &amp; Readonly&lt;{ children?: ReactNode; }>'.\n  Property 'history' does not exist on type 'IntrinsicAttributes &amp;\n  IntrinsicClassAttributes &amp; Readonly\n  &amp; Readonly&lt;{ children?: ReactNode; }>'.ts(2322)</p>\n</blockquote>\n\n<p>package.json:</p>\n\n<pre><code>@types/react-router-dom\": \"^4.3.4\",\nreact-router-dom\": \"^5.0.1\",\n</code></pre>\n\n<p>When doing the exact same thing without typescript then the code works.\nI don't understand why this is happening, anyone that has an answer? </p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1566399830, "post_id": 57594392, "comment_id": 101646333, "body": "You&#39;ll receive downvotes because you haven&#39;t provided a snippet of what you already tried doing. Just to clarify."}, {"owner": {"reputation": 21436, "user_id": 1021703, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g09TV.jpg?s=128&g=1", "display_name": "Jeremy Thille", "link": "https://stackoverflow.com/users/1021703/jeremy-thille"}, "edited": false, "score": 0, "creation_date": 1566400164, "post_id": 57594392, "comment_id": 101646549, "body": "You need to iterate over your rows with <code>&lt;tr *ngFor=&quot;let row of rows&quot;&gt;</code> then <code>&lt;td&gt;{{row.name}}&lt;&#47;td&gt; &lt;td&gt;{{row.Story.percentage}}&lt;&#47;td&gt;</code> etc."}, {"owner": {"reputation": 614, "user_id": 6781815, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UTAX5.jpg?s=128&g=1", "display_name": "Mishi", "link": "https://stackoverflow.com/users/6781815/mishi"}, "reply_to_user": {"reputation": 21436, "user_id": 1021703, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g09TV.jpg?s=128&g=1", "display_name": "Jeremy Thille", "link": "https://stackoverflow.com/users/1021703/jeremy-thille"}, "edited": false, "score": 0, "creation_date": 1566400770, "post_id": 57594392, "comment_id": 101646889, "body": "@JeremyThille How can I know that, story is the key in response and it can be changed via server. I cannot bind with dynamic value."}, {"owner": {"reputation": 614, "user_id": 6781815, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UTAX5.jpg?s=128&g=1", "display_name": "Mishi", "link": "https://stackoverflow.com/users/6781815/mishi"}, "reply_to_user": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1566401171, "post_id": 57594392, "comment_id": 101647106, "body": "@LppEdd I have updated my question with the solution I tried but as I cant figure out that how is it possible to achieve. I do not have any working solution."}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1566401252, "post_id": 57594392, "comment_id": 101647154, "body": "@Mishi no problem, I have counter-voted now. Will come up with something as soon as I get home from work, if someone-else doesn&#39;t before me."}, {"owner": {"reputation": 614, "user_id": 6781815, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UTAX5.jpg?s=128&g=1", "display_name": "Mishi", "link": "https://stackoverflow.com/users/6781815/mishi"}, "reply_to_user": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1566401314, "post_id": 57594392, "comment_id": 101647190, "body": "@LppEdd Thank you so much :)"}, {"owner": {"reputation": 687, "user_id": 5841432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88c3b5e73bcc5d2406dbcc211312300c?s=128&d=identicon&r=PG&f=1", "display_name": "Aviso", "link": "https://stackoverflow.com/users/5841432/aviso"}, "edited": false, "score": 0, "creation_date": 1566401766, "post_id": 57594392, "comment_id": 101647429, "body": "@Mishi Can you please add the data format you need to generate the proper table so I can help you transform that array?"}, {"owner": {"reputation": 614, "user_id": 6781815, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UTAX5.jpg?s=128&g=1", "display_name": "Mishi", "link": "https://stackoverflow.com/users/6781815/mishi"}, "reply_to_user": {"reputation": 687, "user_id": 5841432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88c3b5e73bcc5d2406dbcc211312300c?s=128&d=identicon&r=PG&f=1", "display_name": "Aviso", "link": "https://stackoverflow.com/users/5841432/aviso"}, "edited": false, "score": 0, "creation_date": 1566402652, "post_id": 57594392, "comment_id": 101647880, "body": "@krishnasapkal I have added my JSON in question."}], "owner": {"reputation": 614, "user_id": 6781815, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UTAX5.jpg?s=128&g=1", "display_name": "Mishi", "link": "https://stackoverflow.com/users/6781815/mishi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 405, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1566463597, "creation_date": 1566399542, "last_edit_date": 1566463597, "question_id": 57594392, "link": "https://stackoverflow.com/questions/57594392/how-to-generate-table-headermultiple-and-body-dynamically-in-angular-6", "title": "How to generate table header(multiple) and body dynamically in angular 6", "body": "<p>I want to generate a table with 3 headers like following:</p>\n\n<p><a href=\"https://i.stack.imgur.com/jJzOv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jJzOv.png\" alt=\"enter image description here\"></a> Table contains 2 type of columns distribution. Static columns (Bug, Development, Story Defects, BA/QA) and dynamic columns e.g \"Task\", \"Story\", \"Infrastructure\" etc (You can see in my JSON).\nDynamic section can have 0, 1, 2....n number of columns names they will always be dynamic.\nThen I want to show the data in percentage and days for both static and dynamic columns</p>\n\n<p>My data format: </p>\n\n<pre><code> [\n  {\n    \"Member Name\": \"Jillian\",\n    \"Bug\": {\n      \"totalDaysSpent\": 0,\n      \"percentage\": 0\n    },\n    \"Story Defect\": {\n      \"totalDaysSpent\": 0,\n      \"percentage\": 0\n    },\n    \"Development\": {\n      \"totalDaysSpent\": 0,\n      \"percentage\": 0\n    },\n    \"QA/BA\": {\n      \"totalDaysSpent\": 0,\n      \"percentage\": 0\n    },\n    \"Improvement\": {\n      \"totalDaysSpent\": 0,\n      \"percentage\": 0\n    },\n    \"Task\": {\n      \"totalDaysSpent\": 0,\n      \"percentage\": 0\n    }\n  },\n  {\n    \"Member Name\": \"Nasir\",\n    \"Bug\": {\n      \"totalDaysSpent\": 0,\n      \"percentage\": 0\n    },\n    \"Story Defect\": {\n      \"totalDaysSpent\": 0,\n      \"percentage\": 0\n    },\n    \"Development\": {\n      \"totalDaysSpent\": 0,\n      \"percentage\": 0\n    },\n    \"QA/BA\": {\n      \"totalDaysSpent\": 0,\n      \"percentage\": 0\n    },\n    \"Improvement\": {\n      \"totalDaysSpent\": 0,\n      \"percentage\": 0\n    },\n    \"Task\": {\n      \"totalDaysSpent\": 0,\n      \"percentage\": 0\n    }\n  }\n]\n</code></pre>\n\n<p>In JSON response <code>workLogDistribution.values</code> are static columns and <code>workLogDistribution.others</code> are dynamic columns</p>\n\n<p>I tried to create data format like following, this works for static columns but still I do not know how to create headers dynamically. Need help!</p>\n\n<p>How can I achieve this? Please let me know.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  jsonData: any = [\r\n    {\r\n      Member: \"Member q\", devPercentage: \"10%\", devInDays: \"2h\", qaPercentage: \"10%\", QAInDays: \"2h\",\r\n      bugPercentage: \"10%\", bugInDays: \"2h\", defectPercentage: \"10%\", DefectInDays: \"2h\", timeSpentOnTaskPercentage: \"3%\", timeSpentOnTaskdays: \"2days\"\r\n    },\r\n    {\r\n      Member: \"Nasir\", devPercentage: \"10%\", devInDays: \"2h\", qaPercentage: \"10%\", QAInDays: \"2h\",\r\n      bugPercentage: \"10%\", bugInDays: \"2h\", defectPercentage: \"10%\", DefectInDays: \"2h\", timeSpenOnTaskPercentage: \"\", timeSpentOnTaskdays: \"\", timeSpentOnInfraPercentage: \"4%\", timeSpentOnInfradays: \"4days\"\r\n    }\r\n  ];\r\n  _object = Object;</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;tr *ngFor=\"let row of jsonData; let i = index\"&gt;\r\n              &lt;td *ngFor=\"let objKey of _object.keys(row); let j = index\"&gt;{{ row[objKey] }} &lt;/td&gt;\r\n            &lt;/tr&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["reactjs", "typescript", "styled-components"], "answers": [{"comments": [{"owner": {"reputation": 4335, "user_id": 2131598, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/c1db47dcbdcf9281a5a348d54d223b9e?s=128&d=identicon&r=PG", "display_name": "artooras", "link": "https://stackoverflow.com/users/2131598/artooras"}, "edited": false, "score": 1, "creation_date": 1566413249, "post_id": 57594151, "comment_id": 101652272, "body": "Thanks for the tip on extending <code>React.HTMLAttributes&lt;HTMLElement&gt;</code>, this is exactly what I needed!"}], "tags": [], "owner": {"reputation": 5085, "user_id": 3941291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sUtBe.jpg?s=128&g=1", "display_name": "ChrisG", "link": "https://stackoverflow.com/users/3941291/chrisg"}, "is_accepted": true, "score": 6, "last_activity_date": 1566398643, "creation_date": 1566398643, "answer_id": 57594151, "question_id": 57593890, "link": "https://stackoverflow.com/questions/57593890/typescript-issue-with-onclick-with-styled-components/57594151#57594151", "title": "Typescript issue with onClick with styled-components", "body": "<p>Your prop definition for <code>Icon</code> tells typescript, that only <code>name</code> and <code>className</code> are valid properties.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Props {\n  name: string\n  className?: string\n}\n</code></pre>\n\n<p>If you also want allow <code>onClick</code> you have to add it:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Props {\n  name: string;\n  className?: string;\n  onClick: (e: Event) =&gt; void;\n}\n</code></pre>\n\n<p>or if you want to allow all properties, which are valid for <code>&lt;i&gt;</code> you use the following:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Props extends React.HTMLAttributes&lt;HTMLElement&gt; {\n  name: string\n}\n</code></pre>\n"}], "owner": {"reputation": 4335, "user_id": 2131598, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/c1db47dcbdcf9281a5a348d54d223b9e?s=128&d=identicon&r=PG", "display_name": "artooras", "link": "https://stackoverflow.com/users/2131598/artooras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2368, "favorite_count": 0, "accepted_answer_id": 57594151, "answer_count": 1, "score": 2, "last_activity_date": 1566398643, "creation_date": 1566397495, "question_id": 57593890, "link": "https://stackoverflow.com/questions/57593890/typescript-issue-with-onclick-with-styled-components", "title": "Typescript issue with onClick with styled-components", "body": "<p>I'm using a custom <code>Icon</code> component like so:</p>\n\n<pre><code>&lt;Icon onClick={() =&gt; {}} /&gt;\n</code></pre>\n\n<p>However, <code>TypeScript</code> underlines the <code>Icon</code> and gives the following message, which I can't quite figure out:</p>\n\n<pre><code>Property 'onClick' does not exist on type 'IntrinsicAttributes &amp; Pick&lt;Pick&lt;Props, \"className\" | \"name\"&gt; &amp; Partial&lt;Pick&lt;Props, never&gt;&gt;, \"className\" | \"name\"&gt; &amp; { theme?: any; } &amp; { as?: \"symbol\" | \"object\" | ... 174 more ... | undefined; }'.ts(2322)\n</code></pre>\n\n<p>My <code>Icon</code> component is a <code>styled-component</code> as seen below:</p>\n\n<pre><code>interface Props {\n  name: string\n  className?: string\n}\n\nconst Icon = styled(({name, className, ...props}: Props) =&gt; &lt;i className={`material-icons ${className}`} {...props}&gt;{name}&lt;/i&gt;)``\n</code></pre>\n\n<p>I was able to silence <code>TypeScript</code> by adding the following to <code>Icon</code>'s interface declaration to allow any property:</p>\n\n<pre><code>[x: string]: any\n</code></pre>\n\n<p>but it feels like it's a hack, and I'd like to understand the issue and find a proper solution.</p>\n\n<p>Interestingly, if I use the same way a custom <code>Button</code> component, I don't get the error:</p>\n\n<pre><code>&lt;Button onClick={() =&gt; {}} /&gt;\n\nconst Button = styled.button``\n</code></pre>\n"}, {"tags": ["html", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 366, "user_id": 11900381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2550e0514053b420c7955e392f3d44b5?s=128&d=identicon&r=PG&f=1", "display_name": "lnrdnl", "link": "https://stackoverflow.com/users/11900381/lnrdnl"}, "is_accepted": true, "score": 0, "last_activity_date": 1566401159, "last_edit_date": 1566401159, "creation_date": 1566400815, "answer_id": 57594801, "question_id": 57593673, "link": "https://stackoverflow.com/questions/57593673/creating-a-new-blank-row-of-elements-without-passing-values-from-row-above-it/57594801#57594801", "title": "Creating a new blank row of elements without passing values from row above it", "body": "<p>First I think it is good to create a component which holds the input fields. Then you need to have an array with the data and use ngFor on the array of data.</p>\n\n<p>I created an example in stackblitz: <a href=\"https://stackblitz.com/edit/angular-v8naua\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-v8naua</a></p>\n\n<p>The sample does not have any styling and uses no types. But it should give you enough info to answer your question.</p>\n"}, {"tags": [], "owner": {"reputation": 97, "user_id": 11874214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00d16a6fb764e8c4b6f03338d33372ba?s=128&d=identicon&r=PG&f=1", "display_name": "confusedntired", "link": "https://stackoverflow.com/users/11874214/confusedntired"}, "is_accepted": false, "score": 0, "last_activity_date": 1566919173, "last_edit_date": 1566919173, "creation_date": 1566401330, "answer_id": 57594950, "question_id": 57593673, "link": "https://stackoverflow.com/questions/57593673/creating-a-new-blank-row-of-elements-without-passing-values-from-row-above-it/57594950#57594950", "title": "Creating a new blank row of elements without passing values from row above it", "body": "<p>All I had to do is remove <code>[(ngModel)</code> from my code.</p>\n\n<p>Updated snippet posted below</p>\n\n<pre><code>&lt;p-dropdown [options]=\"leaveCodes2\"  placeholder=\"Leave Code\" optionLabel=\"name\"&gt;&lt;/p-dropdown&gt;\n&lt;p-calendar  [showIcon]=\"true\" placeholder=\"From Date\" id=\"setter\"&gt;&lt;/p-calendar&gt;\n&lt;p-calendar  [timeOnly]=\"true\" class=\"timer\" placeholder=\"Select Time\"&gt;&lt;/p-calendar&gt;\n&lt;p-calendar  [showIcon]=\"true\" placeholder=\"To Date\" id=\"setter\"&gt;&lt;/p-calendar&gt;\n&lt;p-calendar  [timeOnly]=\"true\" class=\"timer\" placeholder=\"Select Time\"&gt;&lt;/p-calendar&gt;\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 11874214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00d16a6fb764e8c4b6f03338d33372ba?s=128&d=identicon&r=PG&f=1", "display_name": "confusedntired", "link": "https://stackoverflow.com/users/11874214/confusedntired"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 57594801, "answer_count": 2, "score": -1, "last_activity_date": 1566919173, "creation_date": 1566396799, "last_edit_date": 1566427213, "question_id": 57593673, "link": "https://stackoverflow.com/questions/57593673/creating-a-new-blank-row-of-elements-without-passing-values-from-row-above-it", "title": "Creating a new blank row of elements without passing values from row above it", "body": "<p>When a user presses \"Add Dates\" a new row is generated as expected, but the values are already populated within the new row and they are exactly the same as the initial row. How can I create a blank row? </p>\n\n<p><img src=\"https://i.stack.imgur.com/z411k.png\" alt=\"view\"></p>\n\n<p>Snippet of the html page:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;p-dropdown [options]=\"leaveCodes2\" [(ngModel)]=\"selectedLeaveCode2\" placeholder=\"Leave Code\" optionLabel=\"name\"&gt;&lt;/p-dropdown&gt;\n&lt;p-calendar [(ngModel)]=\"date2\" [showIcon]=\"true\"  placeholder=\"From Date\" id=\"setter\"&gt;&lt;/p-calendar&gt; \n&lt;p-calendar [(ngModel)]=\"date7\" [timeOnly]=\"true\" class=\"timer\" placeholder=\"Select Time\"&gt;&lt;/p-calendar&gt;\n&lt;p-calendar [(ngModel)]=\"date3\" [showIcon]=\"true\"  placeholder=\"To Date\" id=\"setter\"&gt;&lt;/p-calendar&gt;\n&lt;p-calendar [(ngModel)]=\"date8\" [timeOnly]=\"true\" class=\"timer\" placeholder=\"Select Time\"&gt;&lt;/p-calendar&gt; \n</code></pre>\n\n<p>Method to <code>Add Dates</code>:</p>\n\n<pre><code>dates = [1] //Initializing date array\n\n// Method to add dates on button click for up to 4 dates\nonAddClicked() {\n  if(this.dates.length &lt; 4)\n  this.dates.push(1);\n}\n</code></pre>\n\n<p>Code for <code>Add Dates</code> Button:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;button pButton type=\"button\" label=\"Add Dates +\" class=\"ui-button-success\" (click)=\"onAddClicked()\"&gt;&lt;/button&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1425, "user_id": 5041973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a74d15de9e0a9d237fcf5104246bfc13?s=128&d=identicon&r=PG&f=1", "display_name": "ukn", "link": "https://stackoverflow.com/users/5041973/ukn"}, "edited": false, "score": 1, "creation_date": 1566395716, "post_id": 57593248, "comment_id": 101644058, "body": "What does console.log(data) prints?"}, {"owner": {"reputation": 29456, "user_id": 598683, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/kw1rx.jpg?s=128&g=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/598683/brandon"}, "edited": false, "score": 0, "creation_date": 1566395882, "post_id": 57593248, "comment_id": 101644175, "body": "Can you please post the code for <code>getUserDetails()</code>? Also, what version of Angular are you using?"}, {"owner": {"reputation": 2245, "user_id": 2050577, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/7a89ef9eede78c07f1d1378d5cf29ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Silentbob", "link": "https://stackoverflow.com/users/2050577/silentbob"}, "reply_to_user": {"reputation": 1425, "user_id": 5041973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a74d15de9e0a9d237fcf5104246bfc13?s=128&d=identicon&r=PG&f=1", "display_name": "ukn", "link": "https://stackoverflow.com/users/5041973/ukn"}, "edited": false, "score": 0, "creation_date": 1566396069, "post_id": 57593248, "comment_id": 101644318, "body": "@ukn the console prints the first line shown in the question above"}, {"owner": {"reputation": 1425, "user_id": 5041973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a74d15de9e0a9d237fcf5104246bfc13?s=128&d=identicon&r=PG&f=1", "display_name": "ukn", "link": "https://stackoverflow.com/users/5041973/ukn"}, "edited": false, "score": 0, "creation_date": 1566397136, "post_id": 57593248, "comment_id": 101645012, "body": "Where is data.email not working?"}, {"owner": {"reputation": 2245, "user_id": 2050577, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/7a89ef9eede78c07f1d1378d5cf29ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Silentbob", "link": "https://stackoverflow.com/users/2050577/silentbob"}, "edited": false, "score": 0, "creation_date": 1566398006, "post_id": 57593248, "comment_id": 101645342, "body": "in the console.log"}, {"owner": {"reputation": 1425, "user_id": 5041973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a74d15de9e0a9d237fcf5104246bfc13?s=128&d=identicon&r=PG&f=1", "display_name": "ukn", "link": "https://stackoverflow.com/users/5041973/ukn"}, "edited": false, "score": 0, "creation_date": 1566398508, "post_id": 57593248, "comment_id": 101645597, "body": "If the json you showed us is what is printed by console.log(data), console.log(data.email) is surely working"}, {"owner": {"reputation": 2245, "user_id": 2050577, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/7a89ef9eede78c07f1d1378d5cf29ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Silentbob", "link": "https://stackoverflow.com/users/2050577/silentbob"}, "edited": false, "score": 0, "creation_date": 1566399037, "post_id": 57593248, "comment_id": 101645883, "body": "I thought it should as well but it doesnt.  it states &#39;undefined&#39;"}, {"owner": {"reputation": 2245, "user_id": 2050577, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/7a89ef9eede78c07f1d1378d5cf29ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Silentbob", "link": "https://stackoverflow.com/users/2050577/silentbob"}, "reply_to_user": {"reputation": 1425, "user_id": 5041973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a74d15de9e0a9d237fcf5104246bfc13?s=128&d=identicon&r=PG&f=1", "display_name": "ukn", "link": "https://stackoverflow.com/users/5041973/ukn"}, "edited": false, "score": 0, "creation_date": 1566399210, "post_id": 57593248, "comment_id": 101645996, "body": "@ukn I have updated the question with some more info"}, {"owner": {"reputation": 1425, "user_id": 5041973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a74d15de9e0a9d237fcf5104246bfc13?s=128&d=identicon&r=PG&f=1", "display_name": "ukn", "link": "https://stackoverflow.com/users/5041973/ukn"}, "edited": false, "score": 1, "creation_date": 1566399322, "post_id": 57593248, "comment_id": 101646056, "body": "Try const obj = JSON.parse(data) then obj.email"}, {"owner": {"reputation": 2245, "user_id": 2050577, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/7a89ef9eede78c07f1d1378d5cf29ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Silentbob", "link": "https://stackoverflow.com/users/2050577/silentbob"}, "edited": false, "score": 0, "creation_date": 1566400266, "post_id": 57593248, "comment_id": 101646612, "body": "Hi I tried that earlier and got &#39;Argument of type &#39;Object&#39; is not assignable to parameter of type &#39;string&#39;.&#39;"}], "answers": [{"tags": [], "owner": {"reputation": 2245, "user_id": 2050577, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/7a89ef9eede78c07f1d1378d5cf29ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Silentbob", "link": "https://stackoverflow.com/users/2050577/silentbob"}, "is_accepted": false, "score": 0, "last_activity_date": 1566400778, "creation_date": 1566400778, "answer_id": 57594790, "question_id": 57593248, "link": "https://stackoverflow.com/questions/57593248/retrieve-a-value-from-json-response-from-web-api/57594790#57594790", "title": "Retrieve a value from JSON response from Web API", "body": "<p>Based on this answer here - <a href=\"https://stackoverflow.com/questions/46997326/argument-of-type-response-is-not-assignable-to-parameter-of-type-string\">Argument of type &#39;Response&#39; is not assignable to parameter of type &#39;string&#39;</a> and @ukn's comment I was able to do the following:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let userDetails = JSON.parse(data.toString());\nconsole.log(userDetails.email);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2464, "user_id": 10581132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XmD0q.jpg?s=128&g=1", "display_name": "Kiril1512", "link": "https://stackoverflow.com/users/10581132/kiril1512"}, "is_accepted": false, "score": 0, "last_activity_date": 1566403815, "last_edit_date": 1566403815, "creation_date": 1566402541, "answer_id": 57595278, "question_id": 57593248, "link": "https://stackoverflow.com/questions/57593248/retrieve-a-value-from-json-response-from-web-api/57595278#57595278", "title": "Retrieve a value from JSON response from Web API", "body": "<p>It would be better if you created an interface for your user and it would simplify this problem and other problems you would have in future.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export interface user {\nfirstname: string,\nsurname: string,\nemail: string\n}\n</code></pre>\n\n<p>Then using it to get the data like:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>return this.httpclient.get&lt;user&gt;(this.myUrl, { params });\n</code></pre>\n\n<p>Then you can use the data like you want after the response.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>this.auth.getUserDetails(username, password).subscribe(data =&gt; {\n      console.log(data.email)\n })\n</code></pre>\n"}], "owner": {"reputation": 2245, "user_id": 2050577, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/7a89ef9eede78c07f1d1378d5cf29ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Silentbob", "link": "https://stackoverflow.com/users/2050577/silentbob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1566403815, "creation_date": 1566395462, "last_edit_date": 1592644375, "question_id": 57593248, "link": "https://stackoverflow.com/questions/57593248/retrieve-a-value-from-json-response-from-web-api", "title": "Retrieve a value from JSON response from Web API", "body": "<p>Sorry if this is obvious but I just cant seem to get my head around it and I cannot think of the right way to phrase my google query (even though I have been trying).</p>\n<p>I have the following <code>JSON</code> which is returned from a web API.</p>\n<pre><code>{&quot;firstName&quot;:&quot;Joe&quot;,&quot;surname&quot;:&quot;bloggs&quot;,&quot;email&quot;:&quot;joe.bloggs@gmail.com&quot;}\n</code></pre>\n<p>I want to access the email from the <code>JSON</code> in my angular app and I getting the data with the followig:</p>\n<pre class=\"lang-js prettyprint-override\"><code>this.auth.getUserDetails(username, password).subscribe(data =&gt; {\n      console.log(data)\n })\n</code></pre>\n<p><code>data.email</code> doesnt work,\n<code>data[2].value</code> doesnt work</p>\n<p>How do I specifically reference the <code>email</code> from the <code>data</code> object?</p>\n<h1>Update</h1>\n<p>I have just checked the network response to the Web API call and it returns this:</p>\n<pre><code>&quot;{\\&quot;firstName\\&quot;:\\&quot;Joe\\&quot;,\\&quot;surname\\&quot;:\\&quot;bloggs\\&quot;,\\&quot;email\\&quot;:\\&quot;joe.bloggs@gmail.com\\&quot;}&quot;\n</code></pre>\n<p>but just to confirm if I print data to the console I get the first line above.</p>\n<h1>Update2</h1>\n<p>Code from getUserDetails:</p>\n<pre class=\"lang-js prettyprint-override\"><code>getUserDetails(username, password){\n    let params = new HttpParams({ fromString: 'username=' + username + '&amp;password=' + [password]  });\n    return this.httpclient.get(this.myUrl, { params });\n  }\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 5829, "user_id": 1154610, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fe52b3d3928f49a5057987549d39d1cb?s=128&d=identicon&r=PG", "display_name": "Remco Haszing", "link": "https://stackoverflow.com/users/1154610/remco-haszing"}, "edited": false, "score": 0, "creation_date": 1566396578, "post_id": 57593232, "comment_id": 101644627, "body": "I appreciate the effort, but <a href=\"https://stackoverflow.com/a/57593506/1154610\">stackoverflow.com/a/57593506/1154610</a> does exactly what I asked for."}], "tags": [], "owner": {"reputation": 5085, "user_id": 3941291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sUtBe.jpg?s=128&g=1", "display_name": "ChrisG", "link": "https://stackoverflow.com/users/3941291/chrisg"}, "is_accepted": false, "score": 3, "last_activity_date": 1566396428, "last_edit_date": 1566396428, "creation_date": 1566395411, "answer_id": 57593232, "question_id": 57593022, "link": "https://stackoverflow.com/questions/57593022/reverse-required-and-optional-properties/57593232#57593232", "title": "Reverse required and optional properties", "body": "<p>You can use a type system like this to construct <code>Flip&lt;T&gt;</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type OptionalPropertyNames&lt;T&gt; = {\n    [K in keyof T]-?: undefined extends T[K] ? K : never\n}[keyof T];\ntype RequiredPropertyNames&lt;T&gt; = {\n    [K in keyof T]-?: undefined extends T[K] ? never : K\n}[keyof T];\ntype OptionalProperties&lt;T&gt; = Pick&lt;T, OptionalPropertyNames&lt;T&gt;&gt;\ntype RequiredProperties&lt;T&gt; = Pick&lt;T, RequiredPropertyNames&lt;T&gt;&gt;\n\ntype Flip&lt;T&gt; = Partial&lt;RequiredProperties&lt;T&gt;&gt; &amp; Required&lt;OptionalProperties&lt;T&gt;&gt;;\n\n\ntype Bar = Flip&lt;X&gt;;\n\n// ==\ninterface Bar {\n  a: string;\n  b?: string | undefined;\n}\n\n</code></pre>\n\n<p>See <a href=\"https://www.typescriptlang.org/play/#code/JYOwLgpgTgZghgYwgAgGIHt3IN4ChnJwD8AXMgM5hSgDmA3PsgEZmXUj24C+uuYAngAcUAeUFhg6EHAA2ABSjphUAQDk4AWwjkAPABUAfMgC8ORgQDaAaWShkAawj90MZHoC6AWlLIAriAATCBhQCADkCAAPSEDyN2t3ZCJkGzIQCAA3aG4LR2dXDwYBYWQAJQgAR19gKDCFJWg1TW19I1M8AksbOzyXNy8ffyCQ9PComIC4vQSk5HSsqGQyKxzegvcioVFxSWl5RWUJFsMTZDlgBHt9ABpkMQkpWXrD-nUtXUMDPi2yyuragLPRrAY5tM4XK56W7lKo1OoHRqvZofAxfb4lVAyYCCVqnORwFTAWQ6GH-eENQmgowAMl+sIBOnuuyeCMpKIMDHRKEx2IATLj2uZkNZbCAHE4+h5vGQhsFQmNohBYvErIlktNVUsVYkAD5+QJy0YMLic4ooPTaMCnHk4jDoDlctyW3nWrGCfl2jlAA\" rel=\"nofollow noreferrer\">this playground</a>.</p>\n\n<p>If you are ok with having <code>Flip</code> produce a type in which no property is optional, but instead the value as union with <code>undefined</code> you can it define like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type Flip&lt;X&gt; = {\n    [K in keyof X]-?: undefined extends X[K] ? X[K] : X[K] | undefined;\n};\n</code></pre>\n\n<p>Which produces the following type in your example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type Bar = Flip&lt;Foo&gt;;\n\n// Equivalent to\ninterface Bar {\n  a: string;\n  b: string | undefined;\n}\n</code></pre>\n\n<p>Which should be sufficient in most cases and provides better autocompletion and \"cleaner\" types then the example above.</p>\n\n<p>Explanation:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>[K in keyof X]-?:\n</code></pre>\n\n<p>this makes every property required. The next bit (conditional types) checks if the type was required and creates a union with <code>undefined</code> in that case - making it effectively optional:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>X[K] extends undefined ? X[K] : X[K] | undefined;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 6, "last_activity_date": 1566396245, "creation_date": 1566396245, "answer_id": 57593506, "question_id": 57593022, "link": "https://stackoverflow.com/questions/57593022/reverse-required-and-optional-properties/57593506#57593506", "title": "Reverse required and optional properties", "body": "<p>For your question as stated (where <code>Foo</code> has no <a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html#indexable-types\" rel=\"noreferrer\">index signature</a>), you can define <code>Flip</code> (which I'll call <code>FlipOptional</code>) like this:</p>\n\n<pre><code>type OptionalKeys&lt;T&gt; = {\n  [K in keyof T]-?: {} extends Pick&lt;T, K&gt; ? K : never\n}[keyof T];\n\ntype FlipOptional&lt;T&gt; = (Required&lt;Pick&lt;T, OptionalKeys&lt;T&gt;&gt;&gt; &amp;\n  Partial&lt;Omit&lt;T, OptionalKeys&lt;T&gt;&gt;&gt;) extends infer O\n  ? { [K in keyof O]: O[K] }\n  : never;\n</code></pre>\n\n<p>First we have to determine which keys of <code>T</code> are optional.  There's no simple built-in way to do this, but the above <code>OptionalKeys</code> type alias above works by checking which single-property widenings of <code>T</code> are <a href=\"https://github.com/Microsoft/TypeScript/wiki/What%27s-new-in-TypeScript#weak-type-detection\" rel=\"noreferrer\">weak types</a>, as described in <a href=\"https://stackoverflow.com/a/52991061/2887218\">answer to a related question</a>.  Index signatures mess this up, so if you need to operate on types with an index signature, you'll need something more complicated (which is also described in the linked answer).</p>\n\n<p>Once you can figure out which keys are optional, it's relatively straightforward to construct an equivalent type to what you want, with <a href=\"https://www.typescriptlang.org/docs/handbook/utility-types.html#picktk\" rel=\"noreferrer\"><code>Pick</code></a> and <a href=\"https://www.typescriptlang.org/docs/handbook/utility-types.html#omittk\" rel=\"noreferrer\"><code>Omit</code></a> along with <code>Partial</code> and <code>Required</code> and an intersection: <code>Required&lt;Pick&lt;T, OptionalKeys&lt;T&gt;&gt;&gt; &amp; Partial&lt;Omit&lt;T, OptionalKeys&lt;T&gt;&gt;&gt;</code>.  The only problem is that this type is relatively ugly; it would be nicer if the type were written out as a single object type.</p>\n\n<p>Here I use a trick with <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#type-inference-in-conditional-types\" rel=\"noreferrer\">conditional type inference</a> of the following form.  Say we have a type <code>Ugly</code> which consists of a lot of intersections and mappings. To make it pretty, we can do</p>\n\n<pre><code>type Pretty = Ugly extends infer O ? {[K in keyof O]: O[K]} : never\n</code></pre>\n\n<p>Here, <code>Ugly</code> is essentially \"copied\" to the <code>O</code> parameter, which is mapped over without changing anything.  This is mostly a no-op in terms of the output, but the result will be a single object type if possible.</p>\n\n<hr>\n\n<p>Let's try it out:</p>\n\n<pre><code>interface Foo {\n  a?: string;\n  b: string;\n}\n\ntype Bar = FlipOptional&lt;Foo&gt;;\n/* type Bar = {\n    a: string;\n    b?: string | undefined;\n} */\n\ntype FooAgain = FlipOptional&lt;Bar&gt;;\n/* type FooAgain =  {\n    b: string;\n    a?: string | undefined;\n} */\n\ntype MutuallyAssignable&lt;T extends U, U extends V, V = T&gt; = true;\ntype FooAgainIsFoo = MutuallyAssignable&lt;Foo, FooAgain&gt;; // okay\n</code></pre>\n\n<p>This all looks good.  <code>Bar</code> is what you expect, and <code>FlipOptional&lt;Bar&gt;</code> gives a type equivalent to <code>Foo</code>.</p>\n\n<hr>\n\n<p>Okay, hope that helps.  Good luck!</p>\n\n<p><a href=\"http://www.typescriptlang.org/play/?noImplicitAny=false#code/C4TwDgpgBA8mwEsD2A7AhgGwNIRAZwB4AVAPigF4oBvAKCigG0soEUoBrXJAMyiIF0AtAH4AXNQC+UCAA9gEFABM8UAAoIAxu2IAaKFjLD9UcSggA3CACcaEhpxA8+-ANw0aoSFABiGBGDhEVExiMkoACgAlCABHAFcEKwhFAnUtXVh4ZHRsXEJSEjIAMjo1NCtEEJgAWwRgDMDszBx8UMKASmk5BWUWFG5rWFKjKkZmVg4uXhh+cRgmfigJUtMLazcaVnkrbjQNaG8kJGpStDEoPGArVgBzN3oAI3FL65Q723dPaAAhcoofPwBLLBDAEQ5IEhuAD0ACooF8oL8rP9aPR6Ghnldbvc0Q9zi9blAAD5QOJKCDcVjJNxSGFQz7gA5HACCNzQE0ovn8jRBBCRkJosPhjJ8LLZHPoqNxmNe7zRUDOMsJJLJigpVMUNKgdIZXgAsnFgHFMBgQMy8HgEDd0A8MBBiF15EoVABVPQux09FQANT03v+pH+VziEDcCPBrPZKAAknhwf8DUaTWaLVabXawUc9BHxShIVAoVCoEh2GgQDQgA\" rel=\"noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 5829, "user_id": 1154610, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fe52b3d3928f49a5057987549d39d1cb?s=128&d=identicon&r=PG", "display_name": "Remco Haszing", "link": "https://stackoverflow.com/users/1154610/remco-haszing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 1, "accepted_answer_id": 57593506, "answer_count": 2, "score": 8, "last_activity_date": 1566396428, "creation_date": 1566394780, "question_id": 57593022, "link": "https://stackoverflow.com/questions/57593022/reverse-required-and-optional-properties", "title": "Reverse required and optional properties", "body": "<p>Let\u2019s say I have the following type:</p>\n\n<pre><code>interface Foo {\n  a?: string;\n  b: string;\n}\n</code></pre>\n\n<p>All properties can be made required using <code>Required</code>.</p>\n\n<pre><code>type Bar = Required&lt;Foo&gt;;\n\n// Equivalent to\ninterface Bar {\n  a: string;\n  b: string;\n}\n</code></pre>\n\n<p>All properties can be made optional using <code>Partial</code>.</p>\n\n<pre><code>type Bar = Partial&lt;Foo&gt;;\n\n// Equivalent to\ninterface Bar {\n  a?: string;\n  b?: string;\n}\n</code></pre>\n\n<p>I would like to make a generic type than flips the optional flag for all properties.</p>\n\n<pre><code>type Bar = Flip&lt;Foo&gt;;\n\n// Equivalent to\ninterface Bar {\n  a: string;\n  b?: string;\n}\n</code></pre>\n\n<p>The implementations for <a href=\"https://github.com/microsoft/TypeScript/blob/b963e1a2a7e3b1056ee2552927fa08fcc51e4c7d/lib/lib.es5.d.ts#L1421-L1426\" rel=\"noreferrer\"><code>Partial</code></a> and <a href=\"https://github.com/microsoft/TypeScript/blob/b963e1a2a7e3b1056ee2552927fa08fcc51e4c7d/lib/lib.es5.d.ts#L1428-L1433\" rel=\"noreferrer\"><code>Required</code></a> are pretty straightforward, but this <code>Flip</code> type would need to know which properties of <code>Foo</code> are optional and which are required. Is is possible to read this modified using a generic?</p>\n\n<p>Some context: I believe this would be a useful type for <code>defaultProps</code> in React.</p>\n"}, {"tags": ["javascript", "php", "wordpress", "typescript"], "comments": [{"owner": {"reputation": 5278, "user_id": 7393478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gNAVs.jpg?s=128&g=1", "display_name": "Kaddath", "link": "https://stackoverflow.com/users/7393478/kaddath"}, "edited": false, "score": 1, "creation_date": 1566394863, "post_id": 57592916, "comment_id": 101643449, "body": "It seems debatable that &quot;For a better code quality&quot; is a sufficient reason (or a reason at all) to change everything in your WordPress theme. But if you really want it, you&#39;re not obliged to include <code>.ts</code> files and a compiler, you can keep them separated and only include already compiled <code>.js</code> files. Anyway, lots of scripts added to the page by plugins or such, or WordPress itself probably won&#39;t be convertible in TypeScript at all."}, {"owner": {"reputation": 3580, "user_id": 10515503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/71X2K.png?s=128&g=1", "display_name": "Mr. Jo", "link": "https://stackoverflow.com/users/10515503/mr-jo"}, "reply_to_user": {"reputation": 5278, "user_id": 7393478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gNAVs.jpg?s=128&g=1", "display_name": "Kaddath", "link": "https://stackoverflow.com/users/7393478/kaddath"}, "edited": false, "score": 0, "creation_date": 1566396680, "post_id": 57592916, "comment_id": 101644696, "body": "@Kaddath I only mean my custom JS files I&#39;ve wrote. Not the default WordPress JS files. Only the files created in my JS folder in my child theme."}], "owner": {"reputation": 3580, "user_id": 10515503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/71X2K.png?s=128&g=1", "display_name": "Mr. Jo", "link": "https://stackoverflow.com/users/10515503/mr-jo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566394459, "creation_date": 1566394459, "question_id": 57592916, "link": "https://stackoverflow.com/questions/57592916/using-typescript-within-a-wordpress-child-theme", "title": "Using TypeScript within a WordPress child theme", "body": "<p>I'm currently having a <code>js</code> folder in my WordPress child theme:</p>\n\n<blockquote>\n  <p>my-child/js/*.js</p>\n</blockquote>\n\n<p>In my JS files, I'm using jQuery. For a better code quality, I'm thinking about changing the <code>.js</code> files into <code>.ts</code> files and include a compiler.</p>\n\n<p>Is this a wise idea? I'm currently not sure if this is possible within WordPress and PHP because I need a <code>pom.xml</code> I think and a <code>tsconfig.json</code>.</p>\n\n<p>Is there anyone who did this before and can guide me? </p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 1984, "user_id": 6129793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXYqC.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/6129793/peter"}, "edited": false, "score": 0, "creation_date": 1566393263, "post_id": 57592501, "comment_id": 101642340, "body": "what is your question?"}, {"owner": {"reputation": 14794, "user_id": 3227319, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d0dfcc684d444bcbd4b48734230d5b11?s=128&d=identicon&r=PG&f=1", "display_name": "Jordi", "link": "https://stackoverflow.com/users/3227319/jordi"}, "reply_to_user": {"reputation": 1984, "user_id": 6129793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXYqC.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/6129793/peter"}, "edited": false, "score": 0, "creation_date": 1566393412, "post_id": 57592501, "comment_id": 101642438, "body": "I think it&#39;s so clear. -you have an example of what I need to get on post."}, {"owner": {"reputation": 2868, "user_id": 922202, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8a909d49e7e0b73f4b1e10dc15b3e20f?s=128&d=identicon&r=PG", "display_name": "Guillaume CR", "link": "https://stackoverflow.com/users/922202/guillaume-cr"}, "edited": false, "score": 1, "creation_date": 1566393960, "post_id": 57592501, "comment_id": 101642829, "body": "what have you tried? Please show some research effort."}, {"owner": {"reputation": 2868, "user_id": 922202, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8a909d49e7e0b73f4b1e10dc15b3e20f?s=128&d=identicon&r=PG", "display_name": "Guillaume CR", "link": "https://stackoverflow.com/users/922202/guillaume-cr"}, "edited": false, "score": 1, "creation_date": 1566394108, "post_id": 57592501, "comment_id": 101642930, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/30944763/typescript-looping-through-class-type-properties\">Typescript looping through class type properties</a>"}, {"owner": {"reputation": 14794, "user_id": 3227319, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d0dfcc684d444bcbd4b48734230d5b11?s=128&d=identicon&r=PG&f=1", "display_name": "Jordi", "link": "https://stackoverflow.com/users/3227319/jordi"}, "edited": false, "score": 0, "creation_date": 1566394340, "post_id": 57592501, "comment_id": 101643097, "body": "I&#39;ve added some details. It seeems is getting &quot;keys&quot; of namespace instead of interface..."}, {"owner": {"reputation": 1291, "user_id": 7528829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d1e137419309e96af93328844ce2eb7?s=128&d=identicon&r=PG&f=1", "display_name": "Artem Bozhko", "link": "https://stackoverflow.com/users/7528829/artem-bozhko"}, "edited": false, "score": 1, "creation_date": 1566399036, "post_id": 57592501, "comment_id": 101645882, "body": "You can not access interface through Object.keys, Typescript interfaces are not transpiled into javascript But you can get a union type of interface property names."}], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 9, "last_activity_date": 1566408631, "last_edit_date": 1566408631, "creation_date": 1566399728, "answer_id": 57594451, "question_id": 57592501, "link": "https://stackoverflow.com/questions/57592501/typescript-get-property-field-names-of-type/57594451#57594451", "title": "Typescript: Get property field names of type", "body": "<p>I'm going to rename your <code>ApplicationQuote</code> interface to <code>IApplicationQuote</code>, to distinguish it from the <code>ApplicationQuote</code> namespace.  One major issue you will immediately find is that you can't do anything like <code>Object.keys(IApplicationQuote)</code>:</p>\n\n<pre><code>Object.keys(IApplicationQuote); // error!\n// 'IApplicationQuote' only refers to a type, but is being used as a value here.\n</code></pre>\n\n<p>An interface is a part of TypeScript's type system, which is completely <a href=\"https://github.com/Microsoft/TypeScript/wiki/FAQ#what-is-type-erasure\" rel=\"noreferrer\">erased</a> from the emitted JavaScript.  Interfaces only exist at design time, while you're writing the program, and can be checked at compile time, when the JavaScript is emitted... but they are gone by runtime.  So there is nothing named <code>IApplicationQuote</code> at runtime to process.  </p>\n\n<p>You will therefore need to write something like:</p>\n\n<pre><code>const numericProps = [\n  \"downloadedDocs\",\n  \"downloadedKb\",\n  \"uploadedKb\",\n  \"uploadedRefs\"\n] as const;\n</code></pre>\n\n<p>(The <code>as const</code> is a <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#const-assertions\" rel=\"noreferrer\"><code>const</code> assertion</a> which allows the compiler to treat <code>numericProps</code> as a tuple of string literals instead of as just a <code>string[]</code>).</p>\n\n<hr>\n\n<p>There are a few ways to proceed from here, then.  One is to keep your interface and use the compiler to help ensure that your <code>numericProps</code> value has all and only the right members.  First we can define <code>KeysMatching&lt;T, V&gt;</code>, which evaluates to a union of keys in <code>T</code> which are assignable to the type <code>V</code>:</p>\n\n<pre><code>type KeysMatching&lt;T, V&gt; = NonNullable&lt;\n  { [K in keyof T]: T[K] extends V ? K : never }[keyof T]\n&gt;;\n</code></pre>\n\n<p>And use it like this:</p>\n\n<pre><code>type NumericProps = KeysMatching&lt;IApplicationQuote, number&gt;;\n// type NumericProps = \"downloadedDocs\" | \"downloadedKb\" | \"uploadedKb\" | \"uploadedRefs\"\n</code></pre>\n\n<p>Armed with the <code>NumericProps</code> type, we can write this:</p>\n\n<pre><code>type MutuallyAssignable&lt;T extends U, U extends V, V = T&gt; = true;\n\ntype NumericPropsOkay = MutuallyAssignable&lt;\n  typeof numericProps[number],\n  NumericProps\n&gt;; // okay\n</code></pre>\n\n<p>You can use <code>MutuallyAssignable&lt;T, U&gt;</code> to ensure that the types you pass in for <code>T</code> and <code>U</code> are equivalent; if not, you will get an error (so <code>MutuallyAssignable&lt;string, string | \"a\"&gt;</code> is fine, but <code>MutuallyAssignable&lt;number, number | \"a\"&gt;</code> is not).  Since <code>NumericPropsOkay</code> does not yield an error, you know you haven't made a mistake with <code>numericProps</code>.</p>\n\n<p>Consider what happens if you change <code>numericProps</code> like this:</p>\n\n<pre><code>const numericProps = [\n  \"downloadedDocs\",\n  \"downloadedKb\",\n  \"uploadedkb\", // &lt;-- note the typo\n  \"uploadedRefs\"\n] as const;\n</code></pre>\n\n<p>Then this will happen:</p>\n\n<pre><code>type NumericPropsOkay = MutuallyAssignable&lt;\n  typeof numericProps[number], // error!\n  NumericProps\n&gt;;\n// Type '\"uploadedkb\"' is not assignable to type \n// '\"downloadedDocs\" | \"downloadedKb\" | \"uploadedKb\" | \"uploadedRefs\"'.\n</code></pre>\n\n<p>So you can use this to make sure your manually-written array and your interface definition don't diverge in the future. </p>\n\n<hr>\n\n<p>The other way to proceed is to define your interface in terms of the <code>numericProps</code> value.  That is, do the reverse of what you asked for... JavaScript doesn't know anything about TypeScript, but TypeScript does know about JavaScript.  So you can take this:</p>\n\n<pre><code>const numericProps = [\n  \"downloadedDocs\",\n  \"downloadedKb\",\n  \"uploadedKb\",\n  \"uploadedRefs\"\n] as const;\n</code></pre>\n\n<p>And use it to define this interface:</p>\n\n<pre><code>export interface IApplicationQuote\n  extends Readonly&lt;Record&lt;typeof numericProps[number], number&gt;&gt; {\n  readonly chronoUnit: ApplicationQuote.ChronoUnitEnum;\n}\n</code></pre>\n\n<p>Here we have defined <code>IApplicationQuote</code> to extend <code>Readonly&lt;Record&lt;typeof numericProps[number], number&gt;&gt;</code>, which is essentially the same as <code>{readonly downloadedDocs: number, readonly downloadedKb: number, ...}</code>.  We only had to add the one non-numeric property in there.  And you can make sure it works:</p>\n\n<pre><code>const appQuote: IApplicationQuote = {\n  chronoUnit: \"DAY\",\n  downloadedDocs: 1,\n  downloadedKb: 2,\n  uploadedKb: 3,\n  uploadedRefs: 4\n}; // okay\n</code></pre>\n\n<p>And you can verify that <code>IApplicationQuote</code> is still the type you're looking for: </p>\n\n<pre><code>const badAppQuote: IApplicationQuote = {\n  chronoUnit: \"DAY\",\n  downloadedDocs: 1,\n  downloadedKb: 2,\n  uploadedkb: 3, // error!\n  uploadedRefs: 4\n}; \n// 'uploadedkb' does not exist in type 'IApplicationQuote'. \n// Did you mean to write 'uploadedKb'?\n</code></pre>\n\n<p>Looks good.</p>\n\n<hr>\n\n<p>Okay, hope that helps; good luck!</p>\n\n<p><a href=\"http://www.typescriptlang.org/play/?noImplicitAny=false#code/HYQwtgpgzgDiDGEAEA1CAnAlgMwJ5IG8AoJJCADxgHt0AXJTYWjbBZASQEEYYAbTeCFqYqwAIoBXKs0IlSSdBBAATUb3zwAFulFUAqsEy0AXEm58BQkeKnMAdAGFtug0YCiwCWADcc0opU1fFUAd2BeKhUIZQARKngoU08wACMMX3kFJVVw4KowiKjlAGkUpK809Az5AJz1JAk+SOVo0vLU9L8swNyGpqKAJQhsRKRkyuqAXzkKajox8Gg4RDMefkFhUUlpZGJM2Zp6WlwYZCcdYH1DWg8vJABeJAAiAAkAeT0Bp6QAH2eYzgATW+fyeAFk3gA5AAqLxBz0Bbk4X2qpAO83goig9HOLmutzAD1kmVI70+pleHy+SBAUCQuMurhuyQANF1SADARTOd9afTnIz8az2UgITCXhSxbDeXSGVd3MKSUhEciKSrqXy5UyCV1JlMiHI3ikAFYQeC0OwAawguCgAAouGtLJsbDsAJTeJAAei9ZHQOnQAEI5D6kAByR0WDbWbbMMNIIJZbAYOm0Kg0pDHU4spApCT0TB0tKMADmDSg0RpdJASAAbiBeBJkJoMBA7AbSFnkMUbVAwUItKWADzQnMoAB8RMhokhEl4vBAKV4ECHXQISAA2sUGMAkNbcFRsEhoQBdUzQrcnsjkZjAZR0lBIAD8SG3SQgtYwSEmG-3h+PJ5yOOvhyF2SCzpAWDwAACjoMB0o8Pa2v2tCDsAJZDpG6xWFstgQDm4wYMBIa+mBEEYAIsFUPBRJPKE4TNNEcQJPCdH5AxRSlKxjSFC0JQpNx-R8UMIxPB2SCYsA2JjF4FEwXBCGbl0bEFIxsTxFATxspkKkcXxXHafITw8WpBnKSZgzDJpchXnyknYiBnYnMgYL5hIDbqJwUBQJgJagEuK7Qtet73kgeg5nowUQHeD5jkS0KTo8tDoE21RkbJUFUfBbyWiA+CPK5tDufOuBeT5fmLsuq6ZF2-7JHJWVQBuhHoCehmkORmUKUBvjTKAkCwGwSAAEISJgvDKMSElYvQ9VddRikbsp9G8UxGlact7GrfxG06RZ+kCe1zz7dEInWaQtl0vZtCOdecwFkwLBDVhzoxnhXQUCFdJDD06hDkMmLoMoQ61Uec2UQpzUVBgbUyR06DjpOew1NkiZaBc8omKsUY4a69hakKXj6jMlCHAsA3LMg5jYS6sa7B9pPzGBBMKncjyUp8rE8r8zxSnCPNPOqTyondZPXfyGPaskRLI5kZIDBS8syhLeKs2AR0ckC3JAsrLPMl4GuilCsKSsb-OagKmMEob6pqkiGqypbUteLqxOkOLIA8HTpgvdGuE7DLXTo6rWNPDyR0rWpzGjAAjBHW2mWUSAAExHSd-GmAAzGnQmnVZpgACxyHq3q+lQuW4EQ0xAA\" rel=\"noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 14794, "user_id": 3227319, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d0dfcc684d444bcbd4b48734230d5b11?s=128&d=identicon&r=PG&f=1", "display_name": "Jordi", "link": "https://stackoverflow.com/users/3227319/jordi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2893, "favorite_count": 0, "accepted_answer_id": 57594451, "answer_count": 1, "score": 2, "last_activity_date": 1566408631, "creation_date": 1566393138, "last_edit_date": 1566394131, "question_id": 57592501, "link": "https://stackoverflow.com/questions/57592501/typescript-get-property-field-names-of-type", "title": "Typescript: Get property field names of type", "body": "<p>I need to get all properties of type <code>number</code> of a type:</p>\n\n<pre><code>export interface ApplicationQuote {\n    readonly chronoUnit: ApplicationQuote.ChronoUnitEnum;\n    readonly downloadedDocs: number;\n    readonly downloadedKb: number;\n    readonly uploadedKb: number;\n    readonly uploadedRefs: number;\n}\nexport namespace ApplicationQuote {\n    export type ChronoUnitEnum = 'HOUR' | 'DAY' | 'MONTH' | 'YEAR';\n    export const ChronoUnitEnum = {\n        HOUR: 'HOUR' as ChronoUnitEnum,\n        DAY: 'DAY' as ChronoUnitEnum,\n        MONTH: 'MONTH' as ChronoUnitEnum,\n        YEAR: 'YEAR' as ChronoUnitEnum\n    };\n}\n</code></pre>\n\n<p>I need to get an <code>Array&lt;string&gt;</code> like <code>[\"downloadedDocs\", \"downloadedKb\", \"uploadedKb\", \"uploadedRefs\"]</code>.</p>\n\n<p>I've tried this code:</p>\n\n<pre><code>let names = Object.getOwnPropertyNames(ApplicationQuote);\nlet keys = Object.keys(ApplicationQuote);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/s39Aj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s39Aj.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1566396524, "post_id": 57592463, "comment_id": 101644599, "body": "Which Angular version are you using?"}, {"owner": {"reputation": 71, "user_id": 11957222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08572794c3aefa9b3dafbbef4d58941a?s=128&d=identicon&r=PG&f=1", "display_name": "Cali Mac", "link": "https://stackoverflow.com/users/11957222/cali-mac"}, "reply_to_user": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 1, "creation_date": 1566396853, "post_id": 57592463, "comment_id": 101644823, "body": "@LppEdd I am using Angular 8.2.2 but I just found out that ng2-dragula is the issue somehow."}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1566397179, "post_id": 57592463, "comment_id": 101645043, "body": "How do you know it is the cause?"}, {"owner": {"reputation": 71, "user_id": 11957222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08572794c3aefa9b3dafbbef4d58941a?s=128&d=identicon&r=PG&f=1", "display_name": "Cali Mac", "link": "https://stackoverflow.com/users/11957222/cali-mac"}, "reply_to_user": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 5, "creation_date": 1566397477, "post_id": 57592463, "comment_id": 101645229, "body": "@LppEdd Because when I removed the import in the module, everything worked. Fixed the issue: forgot to add: <code>(window as any).global = window;</code> to <code>polyfills.ts</code> somehow I missed that while upgrading"}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1566398223, "post_id": 57592463, "comment_id": 101645448, "body": "So now everything is okay? Good!"}, {"owner": {"reputation": 2835, "user_id": 3719922, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/KjMLK.png?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/3719922/chris"}, "edited": false, "score": 0, "creation_date": 1569510453, "post_id": 57592463, "comment_id": 102628444, "body": "Thanks a lot I ran into exactly the same problem. You saved me a lot of time."}, {"owner": {"reputation": 3179, "user_id": 6656422, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh6.googleusercontent.com/-ruwgjJVn5rk/AAAAAAAAAAI/AAAAAAAAAio/mSV4_HKnoJ4/photo.jpg?sz=128", "display_name": "William Lohan", "link": "https://stackoverflow.com/users/6656422/william-lohan"}, "edited": false, "score": 0, "creation_date": 1572304495, "post_id": 57592463, "comment_id": 103511554, "body": "I&#39;m running into the same problem w/o ng2-dragula, any one else?"}], "answers": [{"tags": [], "owner": {"reputation": 1863, "user_id": 1308685, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/75314cc72c47bf6df9e0f540a1af869b?s=128&d=identicon&r=PG", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/1308685/jeremy"}, "is_accepted": false, "score": 3, "last_activity_date": 1597434052, "creation_date": 1597434052, "answer_id": 63419134, "question_id": 57592463, "link": "https://stackoverflow.com/questions/57592463/angular-8-cannot-access-planningmodule-before-initialization/63419134#63419134", "title": "Angular 8 Cannot access &#39;PlanningModule&#39; before initialization", "body": "<p>This happens when you have a circular dependency between 1 or more Angular Modules.\nI found it happens even if dependency is indirect, such as a service import. I'm assuming this has to do with initialization order.</p>\n<p>For example -</p>\n<p>This component has a dependency on a service defined in another module's subdirectory -</p>\n<pre><code>// declared in A_Module\nexport class A_Component implements OnInit {\n//...\n  constructor(\n    private service: B_Service) {} // &lt;-- dependency on B_Module??\n\n}\n\n</code></pre>\n<pre><code>\n// B_Module\n@NgModule({\n  imports: [\n    CommonModule,\n    A_Module // &lt;-- dependency \n  ],\n  exports: [],\n  declarations: [...],\n  providers: []\n})\nexport class B_Module { }\n\n// In B_Module sub-directory\n@Injectable({providedIn: 'root'})\nexport class B_Service {}\n</code></pre>\n<p>To resolve, I used an <code>Input()</code> binding in <code>A_Component</code>. One option might be to move the service under a shared module folder.</p>\n"}], "owner": {"reputation": 71, "user_id": 11957222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08572794c3aefa9b3dafbbef4d58941a?s=128&d=identicon&r=PG&f=1", "display_name": "Cali Mac", "link": "https://stackoverflow.com/users/11957222/cali-mac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12789, "favorite_count": 0, "answer_count": 1, "score": 7, "last_activity_date": 1597434052, "creation_date": 1566393031, "question_id": 57592463, "link": "https://stackoverflow.com/questions/57592463/angular-8-cannot-access-planningmodule-before-initialization", "title": "Angular 8 Cannot access &#39;PlanningModule&#39; before initialization", "body": "<p>I am using the apex theme from themeforest. I am trying to acces the page: <code>/planning</code> However, the console shows a error: </p>\n\n<pre><code>core.js:6014 ERROR Error: Uncaught (in promise): ReferenceError: Cannot access 'PlanningModule' before initialization\nReferenceError: Cannot access 'PlanningModule' before initialization\n    at Module.PlanningModule (planning.component.ts:12)\n    at planning-layout.routes.ts:6\n</code></pre>\n\n<p>I don't have double initialization of the component nor the module. Only initialization is the service in <code>app.module</code>. Why did I get this error and how can I solve it?</p>\n\n<p>App-routing.module.ts:</p>\n\n<pre><code>{\n    path: 'planning',\n    component: FullLayoutComponent,\n    children: Planning_ROUTES,\n    canActivate: [AuthGuard],\n},\n</code></pre>\n\n<p>Planning.module.ts: </p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {PlanningComponent} from './planning.component';\nimport {FormsModule} from '@angular/forms';\nimport {DragulaModule} from 'ng2-dragula';\nimport {Ng2SmartTableModule} from 'ng2-smart-table';\nimport {NgSelectModule} from '@ng-select/ng-select';\nimport {PlanningRoutingModule} from './planning-routing.module';\n\n\n@NgModule({\n  declarations: [\n    PlanningComponent\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    DragulaModule.forRoot(),\n    Ng2SmartTableModule,\n    NgSelectModule,\n    PlanningRoutingModule\n  ]\n})\nexport class PlanningModule { }\n</code></pre>\n\n<p>Planning-routing.module.ts:</p>\n\n<pre><code>import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\n\nimport {PlanningComponent} from './planning.component';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PlanningComponent,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PlanningRoutingModule {\n  constructor() {\n    console.log('hier komt die(niet)');\n  }\n}\n</code></pre>\n\n<p>PlanningComponent.ts:</p>\n\n<pre><code>import {Component, OnInit} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {PlanningService} from './planning.service';\n\n@Component({\n  selector: 'app-planning',\n  templateUrl: './planning.component.html',\n  styleUrls: ['./planning.component.scss'],\n})\nexport class PlanningComponent implements OnInit {\n\n  constructor(private router: Router,\n    private planningService: PlanningService) {}\n\n  ngOnInit(): void {}\n}\n</code></pre>\n\n<p>Planning-routes.ts:</p>\n\n<pre><code>import { Routes, RouterModule } from '@angular/router';\n\nexport const Planning_ROUTES: Routes = [\n  {\n    path: '',\n    loadChildren: () =&gt; import('../../pages/planning/index/planning.module').then(m =&gt; m.PlanningModule)\n  },\n];\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 5085, "user_id": 3941291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sUtBe.jpg?s=128&g=1", "display_name": "ChrisG", "link": "https://stackoverflow.com/users/3941291/chrisg"}, "is_accepted": true, "score": 4, "last_activity_date": 1566392759, "creation_date": 1566392759, "answer_id": 57592364, "question_id": 57592240, "link": "https://stackoverflow.com/questions/57592240/can-i-extract-the-type-of-an-observable-in-a-mapped-type/57592364#57592364", "title": "Can I extract the type of an observable in a mapped type?", "body": "<p>You can use <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#conditional-types\" rel=\"nofollow noreferrer\">conditional types</a> to extract the generic type paramter in combination with <code>infer</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type SubjectsType = {\n    [P in keyof MainEvents]: BehaviorSubject&lt;MainEvents[P] extends Observable&lt;infer X&gt; ? X : never&gt;;\n}\n</code></pre>\n\n<p>This will now result in the generic type paramter as value, or <code>never</code> if the value is not of type <code>Observable</code> to begin with.</p>\n\n<p>You can also see this in action in <a href=\"https://www.typescriptlang.org/play/#code/JYOwLgpgTgZghgYwgAgPICMDO0Bud0A2EAPACoB8yA3gL4BQoksiKAQhABZw7AD2UAZQCu6AFYQEYMpVp05jaPCTIAojgjgM4ydXp0IADwAO-MMgXNlAWTig1GsJmp1kyTEIRJMmGEIIASAC40LFx8ImJ7TTEJMHIAbhdkEF4wYU8Ib18A4IxsKDxCEiiwLViEpI0AEwgqoJD8woiSsskK1xheXnq8sKLiECEAW3RoCr0wAE8jFGEYyUxSaZQAXmdXVwBtAAVzEGQAawhJ3hhkGzt1cEwAXWD2Lh5+Oe0pC5ASzB2b5ENIECqTl6BXCJFAMGgyAAGpQAPzQ5DBEAQdRQBLIOh6IA\" rel=\"nofollow noreferrer\">this typescript playground</a>.</p>\n\n<p>You can also make <code>SubjectType</code> generic and thus allowing reuse:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type SubjectsType&lt;T&gt; = {\n    [P in keyof T]: BehaviorSubject&lt;T[P] extends Observable&lt;infer X&gt; ? X : never&gt;; \n}\n\ntype MainSubjectTypes = SubjectsType&lt;MainEvents&gt;;\n</code></pre>\n"}], "owner": {"reputation": 4439, "user_id": 1255819, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9Cizi.png?s=128&g=1", "display_name": "distante", "link": "https://stackoverflow.com/users/1255819/distante"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 57592364, "answer_count": 1, "score": 2, "last_activity_date": 1566392759, "creation_date": 1566392374, "question_id": 57592240, "link": "https://stackoverflow.com/questions/57592240/can-i-extract-the-type-of-an-observable-in-a-mapped-type", "title": "Can I extract the type of an observable in a mapped type?", "body": "<p>I have this interface:</p>\n\n<pre><code>export interface MainEvents {\n  successful$: Observable&lt;EventObject&gt;;\n  notSuccessful$: Observable&lt;EventObject&gt;;\n  ended$: Observable&lt;EventObject&gt;;\n}\n</code></pre>\n\n<p>I want to make a type that uses the same keys but instead of <code>Observable&lt;EventObject&gt;</code> it should be <code>BehaviorSubject&lt;EventObject&gt;</code></p>\n\n<p>I have defined my type:</p>\n\n<pre><code> type SubjectsType = {\n   [P in keyof MainEvents ]: BehaviorSubject&lt;MainEvents [P]&gt;; \n }\n</code></pre>\n\n<p>But of course it declares it as <code>BehaviorSubject&lt;Obserbable&lt;EventObject&gt;&gt;</code> instead of <code>BehaviorSubject&lt;EventObject&gt;</code> </p>\n\n<p>Is there a way to automatically extract the type Type so eventually I can add more interface members with different observable types or Do I need to do it manually?</p>\n"}, {"tags": ["reactjs", "typescript", "webpack", "babeljs", "react-bootstrap"], "answers": [{"tags": [], "owner": {"reputation": 112, "user_id": 1174459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb8ddfaa885f22c0847a98f28a537cd3?s=128&d=identicon&r=PG", "display_name": "Mattia Larentis", "link": "https://stackoverflow.com/users/1174459/mattia-larentis"}, "is_accepted": true, "score": 0, "last_activity_date": 1566395646, "creation_date": 1566395646, "answer_id": 57593323, "question_id": 57592237, "link": "https://stackoverflow.com/questions/57592237/webpack-mixing-up-default-and-named-imports/57593323#57593323", "title": "Webpack mixing up default and named imports", "body": "<p>After hours of searches I found out the problem...</p>\n\n<p>Changing this</p>\n\n<pre><code>module.exports = {\n    resolve: {\n        modules: [path.join(__dirname, 'node_modules')]\n    }\n};\n</code></pre>\n\n<p>to this</p>\n\n<pre><code>module.exports = {\n    resolve: {\n        modules: ['node_modules']\n    }\n};\n</code></pre>\n\n<p>solves the problem.</p>\n"}], "owner": {"reputation": 112, "user_id": 1174459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb8ddfaa885f22c0847a98f28a537cd3?s=128&d=identicon&r=PG", "display_name": "Mattia Larentis", "link": "https://stackoverflow.com/users/1174459/mattia-larentis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "accepted_answer_id": 57593323, "answer_count": 1, "score": 1, "last_activity_date": 1566395646, "creation_date": 1566392365, "question_id": 57592237, "link": "https://stackoverflow.com/questions/57592237/webpack-mixing-up-default-and-named-imports", "title": "Webpack mixing up default and named imports", "body": "<p>While updating some deps (<code>react-bootstrap</code>) I ran into a react error </p>\n\n<p><code>You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.</code></p>\n\n<p>Compiling the same code with other setups (storybook, create react app, codesandbox, ...) doesn't show the issue.</p>\n\n<p>Looks like the component we import (<code>react-bootstrap/Dropdown</code>), imports another component (<code>react-overlays/Dropdown</code>) which causes the problem.</p>\n\n<p>I tracked the error down to this line which does NOT get outputted:\n<code>/* harmony import */ var react_overlays_Dropdown__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_overlays_Dropdown__WEBPACK_IMPORTED_MODULE_4__);</code></p>\n\n<p>Instead, the non-working code uses the <code>..._MODULE_4__['default']</code> syntax, which fails and raises the error.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular7"], "comments": [{"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 1, "creation_date": 1566391605, "post_id": 57591924, "comment_id": 101641240, "body": "Use an observable for <code>repProjectNumber</code>."}, {"owner": {"reputation": 3470, "user_id": 9381897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0hiHf.jpg?s=128&g=1", "display_name": "leopal", "link": "https://stackoverflow.com/users/9381897/leopal"}, "edited": false, "score": 0, "creation_date": 1566391673, "post_id": 57591924, "comment_id": 101641290, "body": "Read <a href=\"https://angular.io/guide/component-interaction\" rel=\"nofollow noreferrer\">this</a> and you will find what you are seeking."}, {"owner": {"reputation": 474, "user_id": 9705167, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dVGWG75K6ok/AAAAAAAAAAI/AAAAAAAAALE/beSiAKIxjNg/photo.jpg?sz=128", "display_name": "Nico", "link": "https://stackoverflow.com/users/9705167/nico"}, "edited": false, "score": 0, "creation_date": 1566391690, "post_id": 57591924, "comment_id": 101641306, "body": "You can use : ViewChild Directive, you can use a service with an observable where you put the data and retrieve it in a component, you can use Input directives. There are many way of doing it, it depends of your structure and your needs"}], "answers": [{"comments": [{"owner": {"reputation": 1767, "user_id": 2698249, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3877ca800f0ae02b2aa4a6aa0a5a3e38?s=128&d=identicon&r=PG&f=1", "display_name": "trx", "link": "https://stackoverflow.com/users/2698249/trx"}, "edited": false, "score": 0, "creation_date": 1566391767, "post_id": 57592026, "comment_id": 101641362, "body": "I tried using service inbetween but shows me the same issue <code>undefined</code>"}, {"owner": {"reputation": 2814, "user_id": 8259771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VmVQA.jpg?s=128&g=1", "display_name": "Yash Krishan", "link": "https://stackoverflow.com/users/8259771/yash-krishan"}, "reply_to_user": {"reputation": 1767, "user_id": 2698249, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3877ca800f0ae02b2aa4a6aa0a5a3e38?s=128&d=identicon&r=PG&f=1", "display_name": "trx", "link": "https://stackoverflow.com/users/2698249/trx"}, "edited": false, "score": 0, "creation_date": 1566391805, "post_id": 57592026, "comment_id": 101641391, "body": "Share the code of service too"}, {"owner": {"reputation": 2814, "user_id": 8259771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VmVQA.jpg?s=128&g=1", "display_name": "Yash Krishan", "link": "https://stackoverflow.com/users/8259771/yash-krishan"}, "reply_to_user": {"reputation": 1767, "user_id": 2698249, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3877ca800f0ae02b2aa4a6aa0a5a3e38?s=128&d=identicon&r=PG&f=1", "display_name": "trx", "link": "https://stackoverflow.com/users/2698249/trx"}, "edited": false, "score": 0, "creation_date": 1566392353, "post_id": 57592026, "comment_id": 101641762, "body": "I&#39;ve added a sample too."}, {"owner": {"reputation": 1767, "user_id": 2698249, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3877ca800f0ae02b2aa4a6aa0a5a3e38?s=128&d=identicon&r=PG&f=1", "display_name": "trx", "link": "https://stackoverflow.com/users/2698249/trx"}, "edited": false, "score": 0, "creation_date": 1566392531, "post_id": 57592026, "comment_id": 101641886, "body": "Here I am getting the data in the component, as I am getting it from the URL"}, {"owner": {"reputation": 2814, "user_id": 8259771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VmVQA.jpg?s=128&g=1", "display_name": "Yash Krishan", "link": "https://stackoverflow.com/users/8259771/yash-krishan"}, "reply_to_user": {"reputation": 1767, "user_id": 2698249, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3877ca800f0ae02b2aa4a6aa0a5a3e38?s=128&d=identicon&r=PG&f=1", "display_name": "trx", "link": "https://stackoverflow.com/users/2698249/trx"}, "edited": false, "score": 0, "creation_date": 1566392562, "post_id": 57592026, "comment_id": 101641907, "body": "Add your service code in your question so that I can get a complete picture."}], "tags": [], "owner": {"reputation": 2814, "user_id": 8259771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VmVQA.jpg?s=128&g=1", "display_name": "Yash Krishan", "link": "https://stackoverflow.com/users/8259771/yash-krishan"}, "is_accepted": false, "score": 0, "last_activity_date": 1566392342, "last_edit_date": 1566392342, "creation_date": 1566391701, "answer_id": 57592026, "question_id": 57591924, "link": "https://stackoverflow.com/questions/57591924/pass-the-data-from-component-to-component/57592026#57592026", "title": "Pass the data from Component to Component", "body": "<p>Passing data between components doesn't work like this because every time you create instance of Component, it's data is re initiated. Try using a service. Example:</p>\n\n<p>First Component:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { DataService } from \"../data.service\";\n\n@Component({\n  selector: 'app-parent',\n  template: `\n    {{message}}\n  `,\n  styleUrls: ['./sibling.component.css']\n})\nexport class ParentComponent implements OnInit {\n\n  message:string;\n\n  constructor(private data: DataService) { }\n\n  ngOnInit() {\n    this.data.currentMessage.subscribe(message =&gt; this.message = message)\n  }\n\n}\n</code></pre>\n\n<p>Second Component:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { DataService } from \"../data.service\";\n\n@Component({\n  selector: 'app-sibling',\n  template: `\n    {{message}}\n    &lt;button (click)=\"newMessage()\"&gt;New Message&lt;/button&gt;\n  `,\n  styleUrls: ['./sibling.component.css']\n})\nexport class SiblingComponent implements OnInit {\n\n  message:string;\n\n  constructor(private data: DataService) { }\n\n  ngOnInit() {\n    this.data.currentMessage.subscribe(message =&gt; this.message = message)\n  }\n\n  newMessage() {\n    this.data.changeMessage(\"Hello from Sibling\")\n  }\n\n}\n</code></pre>\n\n<p>Service:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable()\nexport class DataService {\n\n  private messageSource = new BehaviorSubject('default message');\n  currentMessage = this.messageSource.asObservable();\n\n  constructor() { }\n\n  changeMessage(message: string) {\n    this.messageSource.next(message)\n  }\n\n}\n</code></pre>\n\n<p>Example from <a href=\"https://angularfirebase.com/lessons/sharing-data-between-angular-components-four-methods/\" rel=\"nofollow noreferrer\">https://angularfirebase.com/lessons/sharing-data-between-angular-components-four-methods/</a></p>\n"}], "owner": {"reputation": 1767, "user_id": 2698249, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3877ca800f0ae02b2aa4a6aa0a5a3e38?s=128&d=identicon&r=PG&f=1", "display_name": "trx", "link": "https://stackoverflow.com/users/2698249/trx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "closed_date": 1566414794, "answer_count": 1, "score": -2, "last_activity_date": 1566415857, "creation_date": 1566391415, "last_edit_date": 1566415857, "question_id": 57591924, "link": "https://stackoverflow.com/questions/57591924/pass-the-data-from-component-to-component", "closed_reason": "Duplicate", "title": "Pass the data from Component to Component", "body": "<p>I am trying to get the query parameter from the URL in to a component and it works as expected and now I want to get the data from this component in to another. But I am getting <code>undefined</code>. </p>\n\n<p>Component where I am trying to get the query parameter:</p>\n\n<pre><code>export class ProjectShipmentComponent implements OnInit {\n  public repProjectNumber : string;\n\n  constructor( private activatedRoute: ActivatedRoute) { }\n\n   ngOnInit() {\n    this.activatedRoute.params.subscribe(params =&gt; {\n      this.repProjectNumber = params['reportProject'];\n      console.log(this.repProjectNumber);\n    })}\n  getPrjNum()\n  {\n    return this.repProjectNumber;\n  }}\n</code></pre>\n\n<p>Now I am trying to retrieve this <code>repProjectNumber</code> in to another component like below </p>\n\n<pre><code>    import { ProjectShipmentComponent } from '../project-shipment.component';\n    export class ReportingFilterComponent implements OnInit {\n    repPrj : string;\n    constructor(private psc :ProjectShipmentComponent ) {\n       this.repPrj = this.psc.getPrjNum();\n      console.log(this.repPrj);\n</code></pre>\n\n<p>I get undefined here. Is there any order in which the <code>ngOnInit</code> is executed? Because while debugging I didn't see <code>ngOnInit</code> executed when the <code>getPrjNum</code> function call is made from <code>ReportingFilterComponent</code>. How can I get this working?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "javascript-objects", "ngrx"], "answers": [{"comments": [{"owner": {"reputation": 8278, "user_id": 2901207, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/tIung.png?s=128&g=1", "display_name": "CularBytes", "link": "https://stackoverflow.com/users/2901207/cularbytes"}, "edited": false, "score": 2, "creation_date": 1605027240, "post_id": 57591200, "comment_id": 114524764, "body": "But the super annoying thing is that you want to modify for example a nested object (array in array in root object). As far as I can see, I have to do a deep-copy of the entire object tree and then update this in the store, which of course eats memory. How to avoid such a thing?"}, {"owner": {"reputation": 4505, "user_id": 1956072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1bcd4bb9c114b7f5e3a0e8462fcded2?s=128&d=identicon&r=PG", "display_name": "kvetis", "link": "https://stackoverflow.com/users/1956072/kvetis"}, "reply_to_user": {"reputation": 8278, "user_id": 2901207, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/tIung.png?s=128&g=1", "display_name": "CularBytes", "link": "https://stackoverflow.com/users/2901207/cularbytes"}, "edited": false, "score": 1, "creation_date": 1605174469, "post_id": 57591200, "comment_id": 114572376, "body": "Well the whole point of the redux pattern change detection is that you can check only the object references instead of deep comparing the objects. So in order for it to work you need to combine old references with the new references. If a deeply nested object is changed so is the tree above it and all the way to the root state. Then the change detection works. You can simplify the operation using a nested reducer."}], "tags": [], "owner": {"reputation": 4505, "user_id": 1956072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1bcd4bb9c114b7f5e3a0e8462fcded2?s=128&d=identicon&r=PG", "display_name": "kvetis", "link": "https://stackoverflow.com/users/1956072/kvetis"}, "is_accepted": true, "score": 13, "last_activity_date": 1566390635, "last_edit_date": 1566390635, "creation_date": 1566389054, "answer_id": 57591200, "question_id": 57591012, "link": "https://stackoverflow.com/questions/57591012/ngrx-cannot-assign-to-read-only-property-property-of-object-object/57591200#57591200", "title": "Ngrx : Cannot assign to read only property &#39;Property&#39; of object &#39;[Object]&#39;", "body": "<p>The basic principle of Redux pattern is immutability of state and its parts, because it let's us to detect changes just by object reference instead of comparing whole objects.</p>\n\n<p>In your reducer, you cannot directly assign a property of state (<code>state.actualTrips =</code>), because change detector (and selectors) would not detect it as changed. </p>\n\n<p>To modify state, you return a copy of the state with new modifications.</p>\n\n<pre><code>  const time = action.payload;\n  return {\n      ...state,\n      actualTrips: [...(state.schedulings[time] || [])]\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 14055613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dtGJR.png?s=128&g=1", "display_name": "CrgioPeca88", "link": "https://stackoverflow.com/users/14055613/crgiopeca88"}, "is_accepted": false, "score": 0, "last_activity_date": 1614451864, "creation_date": 1614451864, "answer_id": 66402310, "question_id": 57591012, "link": "https://stackoverflow.com/questions/57591012/ngrx-cannot-assign-to-read-only-property-property-of-object-object/66402310#66402310", "title": "Ngrx : Cannot assign to read only property &#39;Property&#39; of object &#39;[Object]&#39;", "body": "<p>That error happened me when I changed the input values in the template. I was using <strong>Angular11 + NGRX11</strong> so I understood I was changed a value from <em>store</em>, this was my fix:</p>\n<p><strong>Before:</strong></p>\n<pre><code> this.store.dispatch(new Actions.LoginUser({ user: this.user }));\n</code></pre>\n<p><strong>After:</strong></p>\n<pre><code> const clone = { \n  user: Object.assign({}, this.user) \n };\n this.store.dispatch(new Actions.LoginUser(clone));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2159, "user_id": 1448379, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/69b2a4f08780f06f0f148e2f13bd5ff0?s=128&d=identicon&r=PG", "display_name": "Mansour Alnasser", "link": "https://stackoverflow.com/users/1448379/mansour-alnasser"}, "edited": false, "score": 0, "creation_date": 1618923782, "post_id": 67178385, "comment_id": 118745661, "body": "I&#39;m impressed that no one +1 your answer, thanks, worked for me."}], "tags": [], "owner": {"reputation": 41, "user_id": 15325269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14ea2ae198073033edf373ac10531661?s=128&d=identicon&r=PG&f=1", "display_name": "Klaus Wiedenmann", "link": "https://stackoverflow.com/users/15325269/klaus-wiedenmann"}, "is_accepted": false, "score": 3, "last_activity_date": 1618919813, "last_edit_date": 1618919813, "creation_date": 1618919462, "answer_id": 67178385, "question_id": 57591012, "link": "https://stackoverflow.com/questions/57591012/ngrx-cannot-assign-to-read-only-property-property-of-object-object/67178385#67178385", "title": "Ngrx : Cannot assign to read only property &#39;Property&#39; of object &#39;[Object]&#39;", "body": "<p>If you want to change state.actualTrips = myNewValue is not allowed because there is a strict Setting. So one way is may to clonedeep and return the object, like newState = cloneOfState... I didn't test it. So I changed the setting in app.module for Store.\nMy Example: change the strictStateImmutability to false (full Docu here: <a href=\"https://ngrx.io/guide/store/configuration/runtime-checks\" rel=\"nofollow noreferrer\">https://ngrx.io/guide/store/configuration/runtime-checks</a> )</p>\n<pre><code>    StoreModule.forRoot(ROOT_REDUCERS_TOKEN, {\n        metaReducers,\n        runtimeChecks: {\n            // strictStateImmutability and strictActionImmutability are enabled by default\n            strictStateSerializability: true,\n            strictActionSerializability: true,\n            strictActionWithinNgZone: true,\n            strictActionTypeUniqueness: true,\n            // if you want to change complexe objects and that we have. We need to disable these settings\n            // change strictStateImmutability, strictActionImmutability\n            strictStateImmutability: false, // set this to false\n            strictActionImmutability: true,\n        },\n    }),\n</code></pre>\n"}], "owner": {"reputation": 2945, "user_id": 8107464, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f835a205571c44eaca74778b51c70242?s=128&d=identicon&r=PG&f=1", "display_name": "infodev", "link": "https://stackoverflow.com/users/8107464/infodev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16838, "favorite_count": 2, "accepted_answer_id": 57591200, "answer_count": 3, "score": 12, "last_activity_date": 1618919813, "creation_date": 1566388310, "question_id": 57591012, "link": "https://stackoverflow.com/questions/57591012/ngrx-cannot-assign-to-read-only-property-property-of-object-object", "title": "Ngrx : Cannot assign to read only property &#39;Property&#39; of object &#39;[Object]&#39;", "body": "<p>I'm using ngrx store.</p>\n\n<p>In my state I have to items</p>\n\n<pre><code>export interface ISchedulesState {\n  schedulings: ISchedules;\n  actualTrips: ISchedule[];\n}\n</code></pre>\n\n<p>Here are my interfaces </p>\n\n<pre><code>export interface ISchedules {\n  [key: string]: ISchedule[];\n}\n\nexport interface ISchedule {\n  dest: number;\n  data: string\n}\n</code></pre>\n\n<p>In reducer I update <code>actualTrips</code> </p>\n\n<pre><code>export const SchedulingReducers = (\n  state = initialSchedulingState,\n  action: SchedulesAction\n): ISchedulesState =&gt; {\n  switch (action.type) {\n    case ESchedulesActions.GetSchedulesByDate: {\n      return {\n        ...state\n      };\n    }\n    case ESchedulesActions.GetSchedulesByDateSuccess: {\n      return {\n        ...state,\n        schedulings: action.payload\n      };\n    }\n    case ESchedulesActions.GetSchedulesByTime: {\n      let time = action.payload;\n      state.actualTrips = [...(state.schedulings[time] || [])]; // if not data return empty array\n      return state;\n    }\n    default:\n      return state;\n  }\n};\n</code></pre>\n\n<p>But actually I get an error </p>\n\n<blockquote>\n  <p>ERROR TypeError: Cannot assign to read only property 'actualTrips' of object '[object Object]'</p>\n</blockquote>\n"}, {"tags": ["javascript", "css", "angular", "typescript", "angular-material"], "answers": [{"tags": [], "owner": {"reputation": 191, "user_id": 11305308, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6ngjOvC-MJg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re_89HQkpZPWEmysqG9Xfpghhs9Dg/mo/photo.jpg?sz=128", "display_name": "d00lar", "link": "https://stackoverflow.com/users/11305308/d00lar"}, "is_accepted": true, "score": 1, "last_activity_date": 1566388536, "creation_date": 1566388536, "answer_id": 57591061, "question_id": 57590988, "link": "https://stackoverflow.com/questions/57590988/installing-the-angular-material-indigo-pink-theme-on-stackblitz/57591061#57591061", "title": "Installing the Angular Material Indigo Pink Theme on Stackblitz?", "body": "<p>you misstyped probably copy/pasted from some website. try \" or ' instead of \u201c</p>\n"}, {"comments": [{"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1566402421, "post_id": 57591127, "comment_id": 101647766, "body": "Crap - YES - I keep forgetting this when copying from medium - THANK YOU!"}], "tags": [], "owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "is_accepted": false, "score": 1, "last_activity_date": 1566388767, "creation_date": 1566388767, "answer_id": 57591127, "question_id": 57590988, "link": "https://stackoverflow.com/questions/57590988/installing-the-angular-material-indigo-pink-theme-on-stackblitz/57591127#57591127", "title": "Installing the Angular Material Indigo Pink Theme on Stackblitz?", "body": "<p>Problem is there is typo in the quotes that you use there in your string it should be</p>\n\n<pre><code>@import \"~@angular/material/prebuilt-themes/indigo-pink.css\";\n</code></pre>\n\n<p>instead you are using</p>\n\n<pre><code>@import \u201c~@angular/material/prebuilt-themes/indigo-pink.css\u201d;\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-minimal-material-table-demo-z5tzsr\" rel=\"nofollow noreferrer\">Working stackblitz</a></p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 0, "closed_date": 1566412722, "accepted_answer_id": 57591061, "answer_count": 2, "score": -4, "last_activity_date": 1566388767, "creation_date": 1566388222, "question_id": 57590988, "link": "https://stackoverflow.com/questions/57590988/installing-the-angular-material-indigo-pink-theme-on-stackblitz", "closed_reason": "Needs more focus", "title": "Installing the Angular Material Indigo Pink Theme on Stackblitz?", "body": "<p>Normally we could just add the theme to <code>styles.css</code> and it would work.  <a href=\"https://stackblitz.com/edit/angular-mat-stepper-demo?file=src%2Fstyles.css\" rel=\"nofollow noreferrer\">For example I have this Stackblitz where it works</a>;</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-minimal-material-table-demo?file=src/app/app.module.ts\" rel=\"nofollow noreferrer\">However now Stackblitz complains that it can't find the core theme</a>.</p>\n\n<p>Thoughts?</p>\n"}, {"tags": ["typescript", "testing", "twilio"], "answers": [{"comments": [{"owner": {"reputation": 1582, "user_id": 911691, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/100000370627011/picture?type=large", "display_name": "Steven", "link": "https://stackoverflow.com/users/911691/steven"}, "edited": false, "score": 0, "creation_date": 1566390259, "post_id": 57591397, "comment_id": 101640367, "body": "Thanks Stefan! Can you tell me whether this is on the roadmap? Or should I just not be testing this way?"}, {"owner": {"reputation": 2103, "user_id": 4253183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22725c2d3eb331146549bf0d5d3c050c?s=128&d=identicon&r=PG", "display_name": "stefan judis", "link": "https://stackoverflow.com/users/4253183/stefan-judis"}, "reply_to_user": {"reputation": 1582, "user_id": 911691, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/100000370627011/picture?type=large", "display_name": "Steven", "link": "https://stackoverflow.com/users/911691/steven"}, "edited": false, "score": 1, "creation_date": 1566390588, "post_id": 57591397, "comment_id": 101640571, "body": "I&#39;ll investigate and let you know. :)"}, {"owner": {"reputation": 53136, "user_id": 28376, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8ec1383b240b5ba15ffb9743fceb3c0e?s=128&d=identicon&r=PG", "display_name": "philnash", "link": "https://stackoverflow.com/users/28376/philnash"}, "edited": false, "score": 1, "creation_date": 1566792311, "post_id": 57591397, "comment_id": 101753478, "body": "Another Twilio developer evangelist here. I would not recommend writing tests against a remote third party service. Doing so will lead to slow tests (networks are slow) and potentially flaky tests (it requires a network connection). Instead I would look into mocking the HTTP requests (with something like <a href=\"https://github.com/nock/nock\" rel=\"nofollow noreferrer\">nock</a>) or the client library (there&#39;s no point testing third party code)."}, {"owner": {"reputation": 1023, "user_id": 1285763, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ed7bc4d137dba9171b03d3f9b44d0086?s=128&d=identicon&r=PG", "display_name": "Nikolay Shebanov", "link": "https://stackoverflow.com/users/1285763/nikolay-shebanov"}, "edited": false, "score": 0, "creation_date": 1593530145, "post_id": 57591397, "comment_id": 110810861, "body": "Hey @stefanjudis, did you get a chance to look into the roadmap? As suggested by your colleague, mocks are a way to go for the testing environment. But what&#39;s about end to end testing and staging servers?"}, {"owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "reply_to_user": {"reputation": 53136, "user_id": 28376, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8ec1383b240b5ba15ffb9743fceb3c0e?s=128&d=identicon&r=PG", "display_name": "philnash", "link": "https://stackoverflow.com/users/28376/philnash"}, "edited": false, "score": 0, "creation_date": 1600451892, "post_id": 57591397, "comment_id": 113103246, "body": "Twilio&#39;s how-to articles are great for developing with their APIs, it would be nice to see something of similar quality for doing some testing. I&#39;m pretty new to unit testing and have no idea how to take the advice suggested by you and @philnash (ie mocking the Twilio REST client.)"}, {"owner": {"reputation": 53136, "user_id": 28376, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8ec1383b240b5ba15ffb9743fceb3c0e?s=128&d=identicon&r=PG", "display_name": "philnash", "link": "https://stackoverflow.com/users/28376/philnash"}, "reply_to_user": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "edited": false, "score": 0, "creation_date": 1600464907, "post_id": 57591397, "comment_id": 113107566, "body": "@miken32 mocking can be quite different across different libraries and languages and people have strong and sometimes conflicting opinions on it, so it is hard to document with the same rigour as our tutorials. Take a look at the jest documentation on mocking: <a href=\"https://jestjs.io/docs/en/mock-functions#mocking-modules\" rel=\"nofollow noreferrer\">jestjs.io/docs/en/mock-functions#mocking-modules</a> or for a lower level mock, nock: <a href=\"https://github.com/nock/nock\" rel=\"nofollow noreferrer\">github.com/nock/nock</a>. If you can\u2019t write a test that works, then ask a new question here and hopefully someone can help."}, {"owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "reply_to_user": {"reputation": 53136, "user_id": 28376, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8ec1383b240b5ba15ffb9743fceb3c0e?s=128&d=identicon&r=PG", "display_name": "philnash", "link": "https://stackoverflow.com/users/28376/philnash"}, "edited": false, "score": 0, "creation_date": 1600465618, "post_id": 57591397, "comment_id": 113107756, "body": "@philnash looking for something for PHP, just happened across this JS question while searching."}, {"owner": {"reputation": 53136, "user_id": 28376, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8ec1383b240b5ba15ffb9743fceb3c0e?s=128&d=identicon&r=PG", "display_name": "philnash", "link": "https://stackoverflow.com/users/28376/philnash"}, "reply_to_user": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "edited": false, "score": 0, "creation_date": 1600465699, "post_id": 57591397, "comment_id": 113107776, "body": "@miken32 I\u2019m afraid I have no experience mocking in PHP, hope you find something!"}], "tags": [], "owner": {"reputation": 2103, "user_id": 4253183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22725c2d3eb331146549bf0d5d3c050c?s=128&d=identicon&r=PG", "display_name": "stefan judis", "link": "https://stackoverflow.com/users/4253183/stefan-judis"}, "is_accepted": true, "score": 0, "last_activity_date": 1566389656, "creation_date": 1566389656, "answer_id": 57591397, "question_id": 57590571, "link": "https://stackoverflow.com/questions/57590571/testing-twilio-verify/57591397#57591397", "title": "Testing Twilio Verify", "body": "<p>Heyooo. Twilio Developer Evangelist here. \ud83d\udc4b</p>\n\n<p>Unfortunately, I have to say that the test credentials only work for specific resources/endpoints right now \u2013 meaning buying phone numbers, sending sms and making phone calls.</p>\n\n<blockquote>\n  <p>Requests to any other resource with test credentials will receive a 403\n  Forbidden response. In the future, we may enable these resources for testing as well.</p>\n</blockquote>\n\n<p>Only way I see to test the Twilio Helper library in a unit test environment, like the one I see you're going, is to mock the <code>twilio</code> module. This way you're not testing Twilio's endpoints but if you're code behaves like it should. </p>\n\n<hr>\n\n<p>Let me know if that helps. \ud83d\udc4b</p>\n"}], "owner": {"reputation": 1582, "user_id": 911691, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/100000370627011/picture?type=large", "display_name": "Steven", "link": "https://stackoverflow.com/users/911691/steven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 1, "accepted_answer_id": 57591397, "answer_count": 1, "score": 2, "last_activity_date": 1566389656, "creation_date": 1566386727, "question_id": 57590571, "link": "https://stackoverflow.com/questions/57590571/testing-twilio-verify", "title": "Testing Twilio Verify", "body": "<p>I implemented a Service which hide all of Twilio's wiring, and am trying to write tests for it. I found test credentials etc., but when I try to test my flow, I get this message:</p>\n\n<p><a href=\"https://i.stack.imgur.com/rDpl2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rDpl2.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm a little unsure how to actually test the \"Verify\" flow from Twilio using test credentials. Has anybody done this before?</p>\n"}, {"tags": ["typescript", "tsconfig"], "comments": [{"owner": {"reputation": 452, "user_id": 11945488, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-61_me39svIk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfhg2C6XdvYrCpPkhddQpMlTXHm4w/photo.jpg?sz=128", "display_name": "Anton Bks", "link": "https://stackoverflow.com/users/11945488/anton-bks"}, "edited": false, "score": 1, "creation_date": 1566388084, "post_id": 57590570, "comment_id": 101639134, "body": "are you using angular or just typescript?"}, {"owner": {"reputation": 4525, "user_id": 430531, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tnJY6.jpg?s=128&g=1", "display_name": "tru7", "link": "https://stackoverflow.com/users/430531/tru7"}, "reply_to_user": {"reputation": 452, "user_id": 11945488, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-61_me39svIk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfhg2C6XdvYrCpPkhddQpMlTXHm4w/photo.jpg?sz=128", "display_name": "Anton Bks", "link": "https://stackoverflow.com/users/11945488/anton-bks"}, "edited": false, "score": 0, "creation_date": 1566399707, "post_id": 57590570, "comment_id": 101646274, "body": "@AntonBks just typescript"}], "owner": {"reputation": 4525, "user_id": 430531, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tnJY6.jpg?s=128&g=1", "display_name": "tru7", "link": "https://stackoverflow.com/users/430531/tru7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566388000, "creation_date": 1566386727, "question_id": 57590570, "link": "https://stackoverflow.com/questions/57590570/typescript-map-files-in-directory-other-than-generated-js-outdir", "title": "Typescript map files in directory other than generated js (outDir)", "body": "<p>To avoid cluttering, is there a way to have the map files in some folder other than the outDir in tsconfig.json -> compilerOptions? </p>\n\n<p>I see no option anywhere but perhaps there's some hidden trick.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 1704, "user_id": 8445537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b869206b49bd1e6d7c7009bc163b4?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolaus", "link": "https://stackoverflow.com/users/8445537/nikolaus"}, "edited": false, "score": 1, "creation_date": 1566386841, "post_id": 57590470, "comment_id": 101638480, "body": "Maybe you should consider using reduce, because your quotes don\u2019t have to result into alignedQuotes one to one."}], "answers": [{"tags": [], "owner": {"reputation": 317, "user_id": 5055668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489924dbfe4055e7e0fc572c58d9a7b8?s=128&d=identicon&r=PG&f=1", "display_name": "Jackie", "link": "https://stackoverflow.com/users/5055668/jackie"}, "is_accepted": false, "score": 0, "last_activity_date": 1576693443, "last_edit_date": 1576693443, "creation_date": 1566387368, "answer_id": 57590733, "question_id": 57590470, "link": "https://stackoverflow.com/questions/57590470/typescript-mapping-and-or-reduce-map-array-to-other-array-type/57590733#57590733", "title": "Typescript mapping and or reduce: Map array to other Array type", "body": "<p>I`m not sure how exactly your two objects are related, but you can check here how Array.Map() works with basic example. It is a function and you can do whatever you need inside the brackets</p>\n\n<p><a href=\"http://%3E%20https://stackoverflow.com/a/13077722/5055668\" rel=\"nofollow noreferrer\">Click</a></p>\n\n<p>Possible solution to your case:</p>\n\n<pre><code>let alignedQuotes: Array&lt;AlignedQuotes&gt; = quotes.map(quote =&gt; &lt;AlignedQuotes&gt;{ \n     hour: quote.downloadedDocs,\n     day: null, \n     month: null, \n     year: null\n});\n</code></pre>\n\n<p><code>quote</code> here is single Quote obj (.map iterates over all of them), you can use his properties when needed like in the 'hour' example.</p>\n"}, {"tags": [], "owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "is_accepted": false, "score": 0, "last_activity_date": 1566388925, "creation_date": 1566388925, "answer_id": 57591170, "question_id": 57590470, "link": "https://stackoverflow.com/questions/57590470/typescript-mapping-and-or-reduce-map-array-to-other-array-type/57591170#57591170", "title": "Typescript mapping and or reduce: Map array to other Array type", "body": "<p>I would break down the problem into three parts.</p>\n\n<ul>\n<li>a plucker</li>\n<li>a selector</li>\n<li>a summer</li>\n</ul>\n\n<p>Based upon this example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{alignedType: AlignedQuote.AlignedEnum.DOWNLOADEDDOCS, hour: 1, day: null, month: null, year: null},\n</code></pre>\n\n<p>For the above, <code>DOWNLOADEDDOCS</code> is the plucker of which property to read, and <code>hour</code> is the selector of which quotes to iterate and <code>1</code> is the sum. You need to use four different selectors to get all of <code>hour</code>, <code>day</code>, <code>month</code> and <code>year</code> for a single <code>AlignedQuote</code>.</p>\n\n<p>So we write each of the above as separate functions.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const plucker = (quote: Quote, x: AlignedQuote.AlignedEnum): number =&gt; quote[x];\nconst selector = (quotes: Quote[], x: Quote.ChronoUnitEnum): Quote[] =&gt; quotes.filter(q =&gt; q.chronoUnit === x);\nconst sum = (nums: number[]): number =&gt; nums.reduce((acc, next) =&gt; acc + next, 0);\n</code></pre>\n\n<p>We want to use the above to produce a single row like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{alignedType: AlignedQuote.AlignedEnum.DOWNLOADEDDOCS, hour: 1, day: null, month: null, year: null},\n</code></pre>\n\n<p>Which can be written like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const hours = {\n    alignedType: AlignedQuote.AlignedEnum.HOUR,\n    hour: sum(selector(quotes, ChronoUnitEnum.HOUR).map(q =&gt; pluck(q, AlignedEnum.HOUR))),\n    day: null,\n    month: null,\n    year: null\n};\n</code></pre>\n\n<p>Now we want to produce the above for each <code>hour</code>, <code>day</code>, <code>month</code> and <code>year</code>.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const nulls = {hour: null, day: null, month: null, year: null};\nconst totals = [\n    [AlignedQuote.AlignedEnum.HOUR, ChronoUnitEnum.HOUR],\n    [AlignedQuote.AlignedEnum.DAY, ChronoUnitEnum.DAY],\n    [AlignedQuote.AlignedEnum.MONTH, ChronoUnitEnum.MONTH],\n    [AlignedQuote.AlignedEnum.YEAR, ChronoUnitEnum.YEAR]\n].map(([alignedType, unit]: [AlignedQuote.AlignedEnum, ChronoUnitEnum]) =&gt; {\n    const values = {\n        alignedType,\n        [unit]: sum(selector(quotes, unit).map(q =&gt; pluck(q, alignedType)))\n    };\n    return {...nulls, ...values};\n});\n</code></pre>\n\n<p>The above only works if the enum values match the letter case of the property fields. Otherwise, you'll have to add functions that convert the enum to a property field name (which is just a simple object map). But, to save time of posting an answer I just modified the enums. </p>\n\n<p>Like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export namespace Quote {\n    export type ChronoUnitEnum = 'hour' | 'day' | 'month' | 'year';\n    export const ChronoUnitEnum = {\n        HOUR: 'hour' as ChronoUnitEnum,\n        DAY: 'day' as ChronoUnitEnum,\n        MONTH: 'month' as ChronoUnitEnum,\n        YEAR: 'year' as ChronoUnitEnum\n    };\n}\n\nexport namespace AlignedQuote {\n    export type AlignedEnum = 'downloadedDocs' | 'downloadedKb' | 'uploadedKb' | 'uploadedRefs';\n    export const AlignedEnum = {\n        HOUR: 'downloadedDocs' as AlignedEnum,\n        DAY: 'downloadedKb' as AlignedEnum,\n        MONTH: 'uploadedKb' as AlignedEnum,\n        YEAR: 'uploadedRefs' as AlignedEnum\n    };\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 160, "user_id": 5058468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c7c330481869ea1e246205ecda342f2?s=128&d=identicon&r=PG", "display_name": "Gabriel METZGER", "link": "https://stackoverflow.com/users/5058468/gabriel-metzger"}, "is_accepted": false, "score": 0, "last_activity_date": 1566389130, "creation_date": 1566389130, "answer_id": 57591226, "question_id": 57590470, "link": "https://stackoverflow.com/questions/57590470/typescript-mapping-and-or-reduce-map-array-to-other-array-type/57591226#57591226", "title": "Typescript mapping and or reduce: Map array to other Array type", "body": "<p>I was able to solve your example with a reduce. You can take a look at the following code (I removed some types for the example). It's not the solution but maybe a good lead.</p>\n\n<pre><code>const quotes = [{\n  chronoUnit: 'hour',\n  downloadedDocs:1,\n  downloadedKb:23,\n  uploadedKb:65,\n  uploadedRefs:7\n}];\n\nconst alignedQuotes = [ \n  {alignedType: 'DOWNLOADEDDOCS', hour: 1, day: null, month: null, year: null},\n  {alignedType: 'DOWNLOADEDKBS', hour: 23, day: null, month: null, year: null},\n  {alignedType: 'UPLOADEDKBS', hour: 65, day: null, month: null, year: null},\n  {alignedType: 'UPLOADEDREFS', hour: 7, day: null, month: null, year: null}\n]\n\nreturn quotes.reduce((acc, item) =&gt; {\n    const quote = Object.keys(item).filter(key =&gt; key !== 'chronoUnit').map(key =&gt; {\n    return {\n      alignedType: key.toUpperCase(),\n      hour: item['chronoUnit'] === 'hour' ? item[key] : null,\n      day: item['chronoUnit'] === 'day' ? item[key] : null,\n      month: item['chronoUnit'] === 'month' ? item[key] : null,\n      year: item['chronoUnit'] === 'year' ? item[key] : null,\n    }\n  })\n    return acc.concat(quote);\n}, []);\n</code></pre>\n"}], "owner": {"reputation": 14794, "user_id": 3227319, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d0dfcc684d444bcbd4b48734230d5b11?s=128&d=identicon&r=PG&f=1", "display_name": "Jordi", "link": "https://stackoverflow.com/users/3227319/jordi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 386, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1576693443, "creation_date": 1566386400, "last_edit_date": 1566392159, "question_id": 57590470, "link": "https://stackoverflow.com/questions/57590470/typescript-mapping-and-or-reduce-map-array-to-other-array-type", "title": "Typescript mapping and or reduce: Map array to other Array type", "body": "<p>I need to map an <code>Array&lt;Quote&gt;</code>, where <code>Quote</code> is:</p>\n\n<pre><code>export interface Quote {\n    readonly chronoUnit: Quote.ChronoUnitEnum;\n    readonly downloadedDocs: number;\n    readonly downloadedKb: number;\n    readonly uploadedKb: number;\n    readonly uploadedRefs: number;\n}\n\nexport namespace Quote {\n    export type ChronoUnitEnum = 'HOUR' | 'DAY' | 'MONTH' | 'YEAR';\n    export const ChronoUnitEnum = {\n        HOUR: 'HOUR' as ChronoUnitEnum,\n        DAY: 'DAY' as ChronoUnitEnum,\n        MONTH: 'MONTH' as ChronoUnitEnum,\n        YEAR: 'YEAR' as ChronoUnitEnum\n    };\n}\n</code></pre>\n\n<p>To an <code>Array&lt;AlignedQuote&gt;</code>:</p>\n\n<pre><code>export interface AlignedQuote {\n    readonly alignedType: AlignedQuote.AlignedEnum;\n    readonly hour: number;\n    readonly day: number;\n    readonly month: number;\n    readonly year: number;\n}\n\nexport namespace AlignedQuote {\n    export type AlignedEnum = 'DOWNLOADEDDOCS' | 'DOWNLOADEDKB' | 'UPLOADEDKB' | 'UPLOADEDREFS';\n    export const AlignedEnum = {\n        HOUR: 'DOWNLOADEDDOCS' as AlignedEnum,\n        DAY: 'DOWNLOADEDKB' as AlignedEnum,\n        MONTH: 'UPLOADEDKB' as AlignedEnum,\n        YEAR: 'UPLOADEDREFS' as AlignedEnum\n    };\n}\n</code></pre>\n\n<p>I was thinking about using any kind of <code>map</code>, but I don't quite figure out how.</p>\n\n<pre><code>let quotes: Array&lt;Quote&gt;;\nlet alignedQuotes: Array&lt;AlignedQuotes&gt; = quotes.map(???).reduce(????);\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>quotes: [{\n  chronoUnit:ChronoUnit.HOUR,\n  downloadedDocs:1,\n  downloadedKb:23,\n  uploadedKb:65,\n  uploadedRefs:7\n}];\n\nalignedQuotes: [ \n  {alignedType: AlignedQuote.AlignedEnum.DOWNLOADEDDOCS, hour: 1, day: null, month: null, year: null},\n  {alignedType: AlignedQuote.AlignedEnum.DOWNLOADEDKBS, hour: 23, day: null, month: null, year: null},\n  {alignedType: AlignedQuote.AlignedEnum.UPLOADEDKBS, hour: 65, day: null, month: null, year: null},\n  {alignedType: AlignedQuote.AlignedEnum.UPLOADEDREFS, hour: 7, day: null, month: null, year: null}\n]\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["javascript", "typescript", "dependency-injection", "nestjs", "inversifyjs"], "answers": [{"tags": [], "owner": {"reputation": 355, "user_id": 11562430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yHPvs.jpg?s=128&g=1", "display_name": "RalphJS", "link": "https://stackoverflow.com/users/11562430/ralphjs"}, "is_accepted": false, "score": 2, "last_activity_date": 1566398047, "creation_date": 1566398047, "answer_id": 57593989, "question_id": 57590429, "link": "https://stackoverflow.com/questions/57590429/nestjs-inject-module-service-inside-in-a-non-module-file/57593989#57593989", "title": "NestJS Inject module service inside in a non module file", "body": "<p>In order to Inject a provider the component has to belong to a <strong>context</strong> (Basically a module) in the nest application, basically it has to be or a <strong>Injectable</strong>, <strong>Controller</strong>, <strong>Async Provider</strong> or a <strong>Custom Async Provider</strong>, and it has to belong to a Module in which it has access to the provider you are trying to inject. In order to use a functionality of a service in external javascript classes that are not in a context you can import the service and you gotta instantiate it by yourself here you can have an example of this aproach:</p>\n\n<pre><code>class SampleClass {\n  private memberService: MemberService; \n  constructor() {\n    this.memberService = new MemberService();\n  }\n}\n</code></pre>\n\n<p>Remember this is another instance of the service and if you don't take care you will have multiple instances on runtime as it is not an injectable anymore but a class object. In order to prevent this maybe you can create a <strong>singleton</strong> containing all the MemberService functionality and import it in both the MemberService and the SampleClass:</p>\n\n<pre><code>export class MemberFunctionality {\n  private static memberFunctionality: MemberFunctionality;\n  private constructor() {}\n  static getInstance(): MemberFunctionality {\n    if(!memberFunctionality) {\n      this.memberFunctionality = new MemberFunctionality();\n    }\n    return this.memberFunctionality;\n  }\n  login() {}\n}\n</code></pre>\n\n<p>Then you import it on both MemberService and SampleClass and call the getInstance method</p>\n\n<pre><code>import { MemberFunctionality } from './member-functionality.ts';\n\nclass SampleClass {\n  private memberFunctionality: MemberFunctionality;\n  constructor() {\n    this.memberFunctionality = MemberFunctionality.getInstance();\n  }\n  ...\n}\n</code></pre>\n\n<p>same goes for the MemberService</p>\n\n<pre><code>import { MemberFunctionality } from './member-functionality.ts';\n\n@Injectable()\nexport class MemberService {\n  private memberFunctionality: MemberFunctionality;\n  constructor(@Inject(Constants.RelationshipMemberModel) private readonly relationshipMemberModel: typeof Model) {\n    this.memberFunctionality = MemberFunctionality.getInstance();\n  }\n  login () {\n    return this.memberFunctionality.login();\n  }\n}\n</code></pre>\n\n<p>And that would take care of only having an instance of that functionality</p>\n"}], "owner": {"reputation": 313, "user_id": 4891052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c5f5f1395c690e03584864c14e56236?s=128&d=identicon&r=PG", "display_name": "Taha Ergun", "link": "https://stackoverflow.com/users/4891052/taha-ergun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2971, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1566398047, "creation_date": 1566386250, "question_id": 57590429, "link": "https://stackoverflow.com/questions/57590429/nestjs-inject-module-service-inside-in-a-non-module-file", "title": "NestJS Inject module service inside in a non module file", "body": "<p>I have a function file for view render and i want to use nestjs modules service in here. My render file is like this.</p>\n\n<pre><code>export default {\n  parse() { }\n  render() { }\n}\n</code></pre>\n\n<p>So to use module service in here i tried to inject like this.</p>\n\n<pre><code>import { Inject } from '@nestjs/common';\nimport { MemberService } from './member.service';\n\nclass SampleClass {\n  constructor(@Inject('MemberService') private readonly memberService: MemberService) {}\n}\n\n// Creating class in here to use in functions\nconst sampleService = new SampleClass();\n\nexport default {\n  parse() { }\n  render() { }\n}\n</code></pre>\n\n<p>When i try to create new class in here i got error \"Expected 1 arguments but got 0\"</p>\n\n<p>My MemberService is like this</p>\n\n<pre><code>@Injectable()\nexport class MemberService {\n  constructor(@Inject(Constants.RelationshipMemberModel) private readonly relationshipMemberModel: typeof Model) {}\n  login () {}\n}\n</code></pre>\n\n<p>So how should i inject service to use in this file ?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "rest", "api"], "comments": [{"owner": {"reputation": 2342, "user_id": 8325761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x3NZk.jpg?s=128&g=1", "display_name": "bubbles", "link": "https://stackoverflow.com/users/8325761/bubbles"}, "edited": false, "score": 0, "creation_date": 1566385896, "post_id": 57590294, "comment_id": 101637946, "body": "what means &quot;input.onChange($event.value) and countryOnChange is connected at the backend&quot; ?"}, {"owner": {"reputation": 600, "user_id": 6777125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wgsOB.jpg?s=128&g=1", "display_name": "Krunal Shah", "link": "https://stackoverflow.com/users/6777125/krunal-shah"}, "edited": false, "score": 0, "creation_date": 1566386081, "post_id": 57590294, "comment_id": 101638060, "body": "I hope you have initialized your service in your component constructor !?"}, {"owner": {"reputation": 95, "user_id": 9800843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/umB6M.png?s=128&g=1", "display_name": "M&#252;min Celal Pinar", "link": "https://stackoverflow.com/users/9800843/m%c3%bcmin-celal-pinar"}, "reply_to_user": {"reputation": 600, "user_id": 6777125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wgsOB.jpg?s=128&g=1", "display_name": "Krunal Shah", "link": "https://stackoverflow.com/users/6777125/krunal-shah"}, "edited": false, "score": 0, "creation_date": 1566386110, "post_id": 57590294, "comment_id": 101638074, "body": "Yes, I did @Krunal Shah."}, {"owner": {"reputation": 600, "user_id": 6777125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wgsOB.jpg?s=128&g=1", "display_name": "Krunal Shah", "link": "https://stackoverflow.com/users/6777125/krunal-shah"}, "edited": false, "score": 0, "creation_date": 1566386160, "post_id": 57590294, "comment_id": 101638099, "body": "You can try - (ngModelChange)=&quot;countryOnChange($event)&quot; in your &lt;ng-select&gt;. Hope it helps."}, {"owner": {"reputation": 95, "user_id": 9800843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/umB6M.png?s=128&g=1", "display_name": "M&#252;min Celal Pinar", "link": "https://stackoverflow.com/users/9800843/m%c3%bcmin-celal-pinar"}, "reply_to_user": {"reputation": 2342, "user_id": 8325761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x3NZk.jpg?s=128&g=1", "display_name": "bubbles", "link": "https://stackoverflow.com/users/8325761/bubbles"}, "edited": false, "score": 0, "creation_date": 1566386181, "post_id": 57590294, "comment_id": 101638108, "body": "&quot;input.onChange($event.value) and countryOnChange is connected at the backend&quot; means <b>input.onChange</b> function is calling <b>countryOnChange</b> function. @bubbles"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1566386214, "post_id": 57590294, "comment_id": 101638130, "body": "The error should say &quot;Cannot &lt;do something&gt; of undefined&quot;. In your case, likely &quot;Cannot read property getAllByCountryId of undefined&quot;. Meaning that whatever is <i>before</i> that property is undefined thus it doesn&#39;t have the said property. In this case <code>this.cityService</code> is <code>undefined</code>."}, {"owner": {"reputation": 600, "user_id": 6777125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wgsOB.jpg?s=128&g=1", "display_name": "Krunal Shah", "link": "https://stackoverflow.com/users/6777125/krunal-shah"}, "edited": false, "score": 0, "creation_date": 1566386239, "post_id": 57590294, "comment_id": 101638145, "body": "have you created getAllByCountryId function in your service then ?"}, {"owner": {"reputation": 3921, "user_id": 2050306, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/38d3c3d6d1dcea96cbe01afbba90c6d3?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/2050306/robert"}, "edited": false, "score": 2, "creation_date": 1566386242, "post_id": 57590294, "comment_id": 101638147, "body": "Can you check what you have in your <b>this</b> variable in  <b>countryOnChange</b> method?"}, {"owner": {"reputation": 95, "user_id": 9800843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/umB6M.png?s=128&g=1", "display_name": "M&#252;min Celal Pinar", "link": "https://stackoverflow.com/users/9800843/m%c3%bcmin-celal-pinar"}, "reply_to_user": {"reputation": 600, "user_id": 6777125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wgsOB.jpg?s=128&g=1", "display_name": "Krunal Shah", "link": "https://stackoverflow.com/users/6777125/krunal-shah"}, "edited": false, "score": 0, "creation_date": 1566386472, "post_id": 57590294, "comment_id": 101638296, "body": "I couldn&#39;t use your suggestion @Krunal. Because <code>ng-select</code> uses <code>(selected)</code> to capture selection events and this is a dynamic form I couldn&#39;t call <code>countryOnChange</code> function directly."}, {"owner": {"reputation": 95, "user_id": 9800843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/umB6M.png?s=128&g=1", "display_name": "M&#252;min Celal Pinar", "link": "https://stackoverflow.com/users/9800843/m%c3%bcmin-celal-pinar"}, "reply_to_user": {"reputation": 3921, "user_id": 2050306, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/38d3c3d6d1dcea96cbe01afbba90c6d3?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/2050306/robert"}, "edited": false, "score": 0, "creation_date": 1566386781, "post_id": 57590294, "comment_id": 101638451, "body": "I am getting dropdown properties in <b>this</b> variable. @robert. How can I call service then?"}, {"owner": {"reputation": 3921, "user_id": 2050306, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/38d3c3d6d1dcea96cbe01afbba90c6d3?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/2050306/robert"}, "edited": false, "score": 0, "creation_date": 1566387107, "post_id": 57590294, "comment_id": 101638608, "body": "That means you have a wrong value in your <b>this</b> variable. Can you share how you call <code>countryOnChange(countryId: Guid)</code> method?"}, {"owner": {"reputation": 95, "user_id": 9800843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/umB6M.png?s=128&g=1", "display_name": "M&#252;min Celal Pinar", "link": "https://stackoverflow.com/users/9800843/m%c3%bcmin-celal-pinar"}, "reply_to_user": {"reputation": 3921, "user_id": 2050306, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/38d3c3d6d1dcea96cbe01afbba90c6d3?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/2050306/robert"}, "edited": false, "score": 0, "creation_date": 1566387465, "post_id": 57590294, "comment_id": 101638797, "body": "Edited my question and added how to call <code>countryOnChange(countryId: Guid)</code> method. @robert."}, {"owner": {"reputation": 3921, "user_id": 2050306, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/38d3c3d6d1dcea96cbe01afbba90c6d3?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/2050306/robert"}, "edited": false, "score": 1, "creation_date": 1566387519, "post_id": 57590294, "comment_id": 101638825, "body": "Try changing this line: <code>onChange: this.countryOnChange,</code> to this: <code>onChange: this.countryOnChange.bind(this),</code>"}], "answers": [{"tags": [], "owner": {"reputation": 722, "user_id": 11951722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kbCMZ.jpg?s=128&g=1", "display_name": "Micha", "link": "https://stackoverflow.com/users/11951722/micha"}, "is_accepted": false, "score": 0, "last_activity_date": 1566386925, "creation_date": 1566386925, "answer_id": 57590623, "question_id": 57590294, "link": "https://stackoverflow.com/questions/57590294/how-to-solve-of-undefined-problem-of-a-service/57590623#57590623", "title": "How to solve &quot;of undefined&quot; problem of a service?", "body": "<p>I think [ngModel] is needed:</p>\n\n<pre><code>  &lt;select [ngModel]=\"selectedValue\" (ngModelChange)=\"onDropdownChange($event)\" \n   class=\"form-control\"&gt;\n            &lt;option *ngFor=\"let category of categorylist\" [ngValue]=\"category.id\"&gt; \n         {{category.Description}}&lt;/option&gt;\n   &lt;/select&gt;  \n</code></pre>\n\n<p>refer to: <a href=\"https://stackoverflow.com/questions/40960743/angular-2-how-to-bind-selected-id-in-dropdownlist-with-model\">Angular 2 How to bind selected id in Dropdownlist with model?</a></p>\n"}, {"comments": [{"owner": {"reputation": 3921, "user_id": 2050306, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/38d3c3d6d1dcea96cbe01afbba90c6d3?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/2050306/robert"}, "edited": false, "score": 0, "creation_date": 1566389115, "post_id": 57591016, "comment_id": 101639685, "body": "Why do you bind <code>options: this.countries.bind(this),</code> ?"}, {"owner": {"reputation": 582, "user_id": 734321, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/644493524/picture?type=large", "display_name": "Sanket", "link": "https://stackoverflow.com/users/734321/sanket"}, "reply_to_user": {"reputation": 3921, "user_id": 2050306, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/38d3c3d6d1dcea96cbe01afbba90c6d3?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/2050306/robert"}, "edited": false, "score": 0, "creation_date": 1566391245, "post_id": 57591016, "comment_id": 101641019, "body": "If you want to change countries then you can bind otherwise ignore binding countries. Did it worked with countryOnChange ?"}, {"owner": {"reputation": 3921, "user_id": 2050306, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/38d3c3d6d1dcea96cbe01afbba90c6d3?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/2050306/robert"}, "edited": false, "score": 0, "creation_date": 1566391425, "post_id": 57591016, "comment_id": 101641139, "body": "According to the latest comment under the question it did."}, {"owner": {"reputation": 582, "user_id": 734321, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/644493524/picture?type=large", "display_name": "Sanket", "link": "https://stackoverflow.com/users/734321/sanket"}, "reply_to_user": {"reputation": 3921, "user_id": 2050306, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/38d3c3d6d1dcea96cbe01afbba90c6d3?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/2050306/robert"}, "edited": false, "score": 0, "creation_date": 1566392729, "post_id": 57591016, "comment_id": 101642004, "body": "ohh , i didn&#39;t checked the comments. Good to know i was helping correctly."}, {"owner": {"reputation": 95, "user_id": 9800843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/umB6M.png?s=128&g=1", "display_name": "M&#252;min Celal Pinar", "link": "https://stackoverflow.com/users/9800843/m%c3%bcmin-celal-pinar"}, "reply_to_user": {"reputation": 3921, "user_id": 2050306, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/38d3c3d6d1dcea96cbe01afbba90c6d3?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/2050306/robert"}, "edited": false, "score": 0, "creation_date": 1566466265, "post_id": 57591016, "comment_id": 101668106, "body": "There is another problem here. Yes, countryOnChange can be captured but this trigger should populate another dropdown(cities) and this dropdown is like country above too. So how to populate another dropdown after countryOnChange triggered. I tried this: <code>this.formComponent.form.controls[&#39;cityId&#39;].patchValue(this.c&zwnj;&#8203;ities);</code> But didn&#39;t work. @robert, @Sanket"}, {"owner": {"reputation": 95, "user_id": 9800843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/umB6M.png?s=128&g=1", "display_name": "M&#252;min Celal Pinar", "link": "https://stackoverflow.com/users/9800843/m%c3%bcmin-celal-pinar"}, "edited": false, "score": 0, "creation_date": 1566468959, "post_id": 57591016, "comment_id": 101669613, "body": "I solved. I used: <code>((this.formComponent.inputs as InputBase&lt;any&gt;[]).find(i =&gt; i.key === &#39;cityId&#39;) as InputDropdown).options = options;</code>"}], "tags": [], "owner": {"reputation": 582, "user_id": 734321, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/644493524/picture?type=large", "display_name": "Sanket", "link": "https://stackoverflow.com/users/734321/sanket"}, "is_accepted": false, "score": 0, "last_activity_date": 1566388336, "creation_date": 1566388336, "answer_id": 57591016, "question_id": 57590294, "link": "https://stackoverflow.com/questions/57590294/how-to-solve-of-undefined-problem-of-a-service/57591016#57591016", "title": "How to solve &quot;of undefined&quot; problem of a service?", "body": "<p><code>getAllByCountryId of undefined</code> error means you are getting <code>this.cityService</code> as undefined. \nCheck with which <code>this</code> context your function is binding when you are creating the InputDropDown. May be you need to define it like :-</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const dropdown2 = new InputDropdown({\n      key: 'countryId',\n      label: '',\n      onChange: this.countryOnChange.bind(this),\n      options: this.countries.bind(this),\n      value: '',\n      required: true,\n      order: 3\n});\n</code></pre>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 95, "user_id": 9800843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/umB6M.png?s=128&g=1", "display_name": "M&#252;min Celal Pinar", "link": "https://stackoverflow.com/users/9800843/m%c3%bcmin-celal-pinar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1566388336, "creation_date": 1566385760, "last_edit_date": 1566387404, "question_id": 57590294, "link": "https://stackoverflow.com/questions/57590294/how-to-solve-of-undefined-problem-of-a-service", "title": "How to solve &quot;of undefined&quot; problem of a service?", "body": "<p>I am calling service in Angular7 at every dropdown option change. But when I change selected option on dropdown I am getting <code>getAllByCountryId of undefined</code> error.</p>\n\n<p>Here is function that calling http service: </p>\n\n<pre><code>countryOnChange(countryId: Guid) {\n    this.cityService.getAllByCountryId(countryId).subscribe(\n      res =&gt; {\n        if (res.code === ResponseCode.success) {\n          res.dataList.map(item =&gt; {\n            this.cities.push({\n              value: item.id.toString(),\n              label: item.dataValue\n            });\n          });\n\n          if (this.formComponent !== undefined) {\n            this.formComponent.form.controls['cityId'].patchValue(this.cities);\n          }\n        }\n      },\n      err =&gt; {\n        this.error = true;\n      });\n  }\n</code></pre>\n\n<p>Here is the HTML code that calling above function on every dropdown option change:</p>\n\n<pre><code>&lt;ng-container *ngSwitchCase=\"'dropdown'\" class=\"col-md-12\"&gt;\n    &lt;ng-select [ngClass]=\"'ng-select'\" [options]=\"input.options\" [formControlName]=\"input.key\" [id]=\"input.key\" (selected)=\"input.onChange($event.value)\"&gt;&lt;/ng-select&gt;\n&lt;/ng-container&gt;\n</code></pre>\n\n<p><code>input.onChange($event.value)</code> and <code>countryOnChange</code> is connected at the backend.</p>\n\n<p>Here is how to call <strong>countryOnChange</strong> function:</p>\n\n<pre><code>const dropdown2 = new InputDropdown({\n      key: 'countryId',\n      label: '',\n      onChange: this.countryOnChange,\n      options: this.countries,\n      value: '',\n      required: true,\n      order: 3\n    });\n</code></pre>\n\n<p><a href=\"http://prntscr.com/ovjxe7\" rel=\"nofollow noreferrer\">Error http://prntscr.com/ovjxe7</a></p>\n\n<p>How can I solve this problem?</p>\n"}, {"tags": ["html", "angular", "typescript", "validation"], "comments": [{"owner": {"reputation": 438, "user_id": 11339716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78179a4724e629a2b630795d5c6498ea?s=128&d=identicon&r=PG&f=1", "display_name": "rock11", "link": "https://stackoverflow.com/users/11339716/rock11"}, "reply_to_user": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1566387223, "post_id": 57590246, "comment_id": 101638676, "body": "In this code, I&#39;m unable to get the error when the confirm password field is left empty."}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1566387254, "post_id": 57590246, "comment_id": 101638692, "body": "Well, I just told you that I tried your code and it works. Please replicate the issue in a stackblitz :)"}, {"owner": {"reputation": 438, "user_id": 11339716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78179a4724e629a2b630795d5c6498ea?s=128&d=identicon&r=PG&f=1", "display_name": "rock11", "link": "https://stackoverflow.com/users/11339716/rock11"}, "reply_to_user": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1566387318, "post_id": 57590246, "comment_id": 101638726, "body": "Were you able to get the password required error when you left the confirm password field empty"}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1566387546, "post_id": 57590246, "comment_id": 101638835, "body": "Yes. Thus I asked for a demo :) It works on angular version 8, that I can confirm."}, {"owner": {"reputation": 438, "user_id": 11339716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78179a4724e629a2b630795d5c6498ea?s=128&d=identicon&r=PG&f=1", "display_name": "rock11", "link": "https://stackoverflow.com/users/11339716/rock11"}, "reply_to_user": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1566387576, "post_id": 57590246, "comment_id": 101638854, "body": "Strange.I&#39;m unable to get that error."}, {"owner": {"reputation": 583, "user_id": 8712609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gvPRC.png?s=128&g=1", "display_name": "riorudo", "link": "https://stackoverflow.com/users/8712609/riorudo"}, "edited": false, "score": 0, "creation_date": 1566388644, "post_id": 57590246, "comment_id": 101639438, "body": "Could it be that the fields were not touched/dirty before you try to submit them? If the fields are empty, <code>this.addForm.valid === false</code>, but the error is still not displayed because the fields are not dirty. This means that if <code>this.addForm.valid === false</code>, you have to mark the field as dirty: <code>this.addForm.get(&#39;username&#39;).markAsDirty()</code>. You can also loop over the controls and mark them all as dirty."}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1566389094, "post_id": 57590246, "comment_id": 101639669, "body": "Oh wait, I think I have misunderstood the question..."}], "answers": [{"comments": [{"owner": {"reputation": 438, "user_id": 11339716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78179a4724e629a2b630795d5c6498ea?s=128&d=identicon&r=PG&f=1", "display_name": "rock11", "link": "https://stackoverflow.com/users/11339716/rock11"}, "edited": false, "score": 0, "creation_date": 1566394774, "post_id": 57591644, "comment_id": 101643392, "body": "this is working but if I add another field which is mandatory, the confirm password field still throws an error even if it is non-empty and the third field is empty."}, {"owner": {"reputation": 438, "user_id": 11339716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78179a4724e629a2b630795d5c6498ea?s=128&d=identicon&r=PG&f=1", "display_name": "rock11", "link": "https://stackoverflow.com/users/11339716/rock11"}, "edited": false, "score": 0, "creation_date": 1566395044, "post_id": 57591644, "comment_id": 101643579, "body": "For instance when the username is empty and I try to submit,both the username and confirm password field throw error.I want that only the username field throws error if both the other fields a non-empty"}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "reply_to_user": {"reputation": 438, "user_id": 11339716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78179a4724e629a2b630795d5c6498ea?s=128&d=identicon&r=PG&f=1", "display_name": "rock11", "link": "https://stackoverflow.com/users/11339716/rock11"}, "edited": false, "score": 0, "creation_date": 1566395832, "post_id": 57591644, "comment_id": 101644134, "body": "please can you fork my stackblitz and show what the issue is, with steps to reproduce what you are facing"}, {"owner": {"reputation": 438, "user_id": 11339716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78179a4724e629a2b630795d5c6498ea?s=128&d=identicon&r=PG&f=1", "display_name": "rock11", "link": "https://stackoverflow.com/users/11339716/rock11"}, "edited": false, "score": 1, "creation_date": 1566451744, "post_id": 57591644, "comment_id": 101661562, "body": "I added an additional check control.parent.get(&#39;passwordAgain&#39;).value === &#39; &#39; to the validator.Now it works as expected.Thanks a lot for your help."}], "tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": true, "score": 0, "last_activity_date": 1566390510, "creation_date": 1566390510, "answer_id": 57591644, "question_id": 57590246, "link": "https://stackoverflow.com/questions/57590246/validators-required-not-working-with-custom-validator/57591644#57591644", "title": "Validators required not working with custom validator", "body": "<p>In the error state matcher, you can listen to <code>form.submitted</code> and show validation if the form has been submitted.</p>\n\n<p>Probably you do not want to show both the required message and the custom error message at the same time, so add a check for the custom validation template:</p>\n\n\n\n<pre class=\"lang-html prettyprint-override\"><code>*ngIf=\"addForm.hasError('passwordsNotEqual') &amp;&amp; \n       !addForm.hasError('required', 'passwordAgain')\"\n</code></pre>\n\n<p>Then as mentioned above add the check form <code>form.submitted</code> in the custom error state matcher:</p>\n\n\n\n<pre class=\"lang-ts prettyprint-override\"><code>return ((control &amp;&amp; form.form.get('password').value !== control.value &amp;&amp; control.dirty) \n       || form.submitted)\n</code></pre>\n\n<p><strong>DEMO: <a href=\"https://stackblitz.com/edit/angular-kvftq5-1nrrhz?file=app/input-error-state-matcher-example.ts\" rel=\"nofollow noreferrer\">StackBlitz</a></strong></p>\n"}], "owner": {"reputation": 438, "user_id": 11339716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78179a4724e629a2b630795d5c6498ea?s=128&d=identicon&r=PG&f=1", "display_name": "rock11", "link": "https://stackoverflow.com/users/11339716/rock11"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 828, "favorite_count": 0, "accepted_answer_id": 57591644, "answer_count": 1, "score": 1, "last_activity_date": 1566390510, "creation_date": 1566385636, "last_edit_date": 1566386124, "question_id": 57590246, "link": "https://stackoverflow.com/questions/57590246/validators-required-not-working-with-custom-validator", "title": "Validators required not working with custom validator", "body": "<p>I am creating a form to create a new user. I am using a custom validator to validate if password and confirm password field values are matching. I've made both the fields mandatory ie they can't be empty.An error is shown if the password field is empty and I try to create a user. However no error is being thrown when the confirm password field is empty.I'm still not able to create a user if the confirm password field is empty but I want the error to be shown. I don't know what to do. Please help. Thanks in advance.</p>\n\n<p>This is my template:</p>\n\n<pre><code>&lt;mat-form-field class=\"login-field-full-width margin\"&gt;\n    &lt;input matInput [type]=\"!hidePassword ? 'password' : 'text'\" formControlName=\"password\" placeholder=\"Password\" name=\"password\" class=\"form-control\" id=\"password\"&gt;\n&lt;mat-error *ngIf=\"addForm.controls.password.hasError('required')\"&gt;Password is required&lt;/mat-error&gt;\n&lt;/mat-form-field&gt;\n\n&lt;mat-form-field class=\"login-field-full-width\"&gt;\n &lt;input matInput formControlName=\"passwordAgain\" placeholder=\"Confirm password\" [type]=\"!hideConfirmPassword ? 'password' : 'text'\" [errorStateMatcher]=\"passwordsMatcher\"&gt;                    \n &lt;mat-error *ngIf=\"addForm.controls.passwordAgain.hasError('required')\"&gt;Confirm Password is required&lt;/mat-error&gt;&lt;mat-error *ngIf=\"addForm.hasError('passwordsNotEqual')\"&gt;Password Mismatch!&lt;/mat-error&gt;\n &lt;/mat-form-field&gt;\n</code></pre>\n\n<p>My custom errorStateMatcher:</p>\n\n<pre><code>export class RepeatPasswordEStateMatcher implements ErrorStateMatcher {\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n    return (control &amp;&amp; control.parent.get('password').value !== control.parent.get('passwordAgain').value &amp;&amp; control.dirty);\n  }\n}\nexport function RepeatPasswordValidator(group: FormGroup) {\n  const password = group.controls.password.value;\n  const passwordConfirmation = group.controls.passwordAgain.value;\n\n  return password === passwordConfirmation ? null : { passwordsNotEqual: true };\n}\n</code></pre>\n\n<p>My formGroup:</p>\n\n<pre><code>passwordsMatcher = new RepeatPasswordEStateMatcher;\nthis.addForm = this.formBuilder.group({\n      id: [],\n      username: ['', Validators.required],\n      password: new FormControl('', [Validators.required]),\n      passwordAgain: new FormControl('', [Validators.required]),\n\n    }, { validator: RepeatPasswordValidator });\n  }\n\nonSubmit() {\n\n    if (this.addForm.valid) {\n      this.userService.createUser( this.addForm.value)\n        .subscribe();\n\n    }\n\n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "file-upload", "angular-material"], "comments": [{"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "edited": false, "score": 1, "creation_date": 1566385285, "post_id": 57590012, "comment_id": 101637627, "body": "Can you show your app.module ?"}, {"owner": {"reputation": 462, "user_id": 4488590, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0RNt7PhTNDU/AAAAAAAAAAI/AAAAAAAABEY/DqM5zrrAoLY/photo.jpg?sz=128", "display_name": "Rambou", "link": "https://stackoverflow.com/users/4488590/rambou"}, "edited": false, "score": 0, "creation_date": 1577966535, "post_id": 57590012, "comment_id": 105293627, "body": "Have you tried importing <code>BrowserModule, BrowserAnimationsModule</code> on your module from &#39;@angular/platform-browser&#39; ?"}, {"owner": {"reputation": 2572, "user_id": 5852550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97e088c73755c2e941fa1deaedb65272?s=128&d=identicon&r=PG&f=1", "display_name": "Srikrushna", "link": "https://stackoverflow.com/users/5852550/srikrushna"}, "reply_to_user": {"reputation": 462, "user_id": 4488590, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0RNt7PhTNDU/AAAAAAAAAAI/AAAAAAAABEY/DqM5zrrAoLY/photo.jpg?sz=128", "display_name": "Rambou", "link": "https://stackoverflow.com/users/4488590/rambou"}, "edited": false, "score": 1, "creation_date": 1591557541, "post_id": 57590012, "comment_id": 110095487, "body": "I added BrowserModule, BrowserAnimationsModule  still the issue is not resolved @Rambou."}], "owner": {"reputation": 157, "user_id": 5929853, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-p0f4ymK8X2Q/AAAAAAAAAAI/AAAAAAAAAA0/OuwAEPNbR5o/photo.jpg?sz=128", "display_name": "Mostafa Farhani", "link": "https://stackoverflow.com/users/5929853/mostafa-farhani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 683, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1566385536, "creation_date": 1566384740, "last_edit_date": 1566385536, "question_id": 57590012, "link": "https://stackoverflow.com/questions/57590012/null-injector-error-in-angular-material-file-upload", "title": "Null Injector Error in angular material file upload", "body": "<p>I used angular-material-fileupload (<a href=\"https://www.npmjs.com/package/angular-material-fileupload\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/angular-material-fileupload</a>) in angular 7 project. But in run time browser throw this exception:</p>\n\n<blockquote>\n  <p>core.js:5847 ERROR Error: Uncaught (in promise): NullInjectorError: StaticInjectorError(AppModule)[FileUploadInputFor -> ElementRef]: \n    StaticInjectorError(Platform: core)[FileUploadInputFor -> ElementRef]: \n      NullInjectorError: No provider for ElementRef!\n  NullInjectorError: StaticInjectorError(AppModule)[FileUploadInputFor -> ElementRef]: \n    StaticInjectorError(Platform: core)[FileUploadInputFor -> ElementRef]: \n      NullInjectorError: No provider for ElementRef!\n      at NullInjector.push../node_modules/@angular/core/fesm5/core.js.NullInjector.get (core.js:1225)\n      at resolveToken (core.js:1463)\n      at tryResolveToken (core.js:1407)\n      at StaticInjector.push../node_modules/@angular/core/fesm5/core.js.StaticInjector.get (core.js:1311)\n      at resolveToken (core.js:1463)\n      at tryResolveToken (core.js:1407)\n      at StaticInjector.push../node_modules/@angular/core/fesm5/core.js.StaticInjector.get (core.js:1311)\n      at resolveNgModuleDep (core.js:18446)\n      at NgModuleRef_.push../node_modules/@angular/core/fesm5/core.js.NgModuleRef_.get (core.js:19135)\n      at resolveDep (core.js:19506)\n      at resolvePromise (zone.js:831)\n      at resolvePromise (zone.js:788)\n      at zone.js:892\n      at ZoneDelegate.push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask (zone.js:423)\n      at Object.onInvokeTask (core.js:24328)\n      at ZoneDelegate.push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask (zone.js:422)\n      at Zone.push../node_modules/zone.js/dist/zone.js.Zone.runTask (zone.js:195)\n      at drainMicroTaskQueue (zone.js:601)\n      at ZoneTask.push../node_modules/zone.js/dist/zone.js.ZoneTask.invokeTask [as invoke] (zone.js:502)\n      at invokeTask (zone.js:1744)</p>\n</blockquote>\n\n<p>This is my module:</p>\n\n<pre><code>import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {ImportBoxComponent} from './import-box.component';\nimport {SharedLibModule} from '../shared-lib/shared-lib.module';\nimport {SharedCommonModule} from '../shared-common/shared-common.module';\nimport {MatFileUploadModule} from 'angular-material-fileupload';\n\n@NgModule({\n  declarations: [ImportBoxComponent],\n  imports: [\n    CommonModule,\n    SharedLibModule,\n    SharedCommonModule,\n    MatFileUploadModule\n  ],\n  exports: [ImportBoxComponent]\n})\nexport class ImportBoxModule {\n}\n</code></pre>\n\n<p>This is my component.html</p>\n\n<pre><code>&lt;label for=\"singleFile\"&gt;Upload file&lt;/label&gt;\n&lt;input id=\"singleFile\" type=\"file [fileUploadInputFor]=\"fileUploadQueue\"/&gt;\n&lt;br&gt;\n&lt;mat-file-upload-queue #fileUploadQueue [fileAlias]=\"'file'\"               \n[httpUrl]=\"'http://localhost:8180/jax-rs-jersey-application-sample'\"&gt;\n&lt;mat-file-upload [file]=\"file\" [id]=\"i\" *ngFor=\"let file of fileUploadQueue.files; let i = index\"&gt;\n&lt;/mat-file-upload&gt;\n</code></pre>\n\n<p>\nThis is my app.module:</p>\n\n<pre><code>import {BrowserModule} from '@angular/platform-browser';\nimport {NgModule} from '@angular/core';\n\nimport {AppRoutingModule} from './app-routing.module';\nimport {AppComponent} from './app.component';\nimport {PagesModule} from './pages/pages.module';\nimport {SharedModule} from './shared/shared.module';\nimport {SchemaFormModule, WidgetRegistry} from 'ngx-schema-form';\nimport {GlWidgetRegistry} from './core/widget-registery/widget-registry.service';\nimport {TranslateLoader, TranslateModule, TranslateService} from '@ngx-translate/core';\nimport {HTTP_INTERCEPTORS, HttpClient} from '@angular/common/http';\nimport {createTranslateLoader} from './shared/shared-lib/gl-translate/gl-translate.module';\nimport {AccountModule} from './account/account.module';\nimport {NgxWebstorageModule} from 'ngx-webstorage';\nimport {AngularFontAwesomeModule} from 'angular-font-awesome';\nimport {ToastrModule, ToastrService} from 'ngx-toastr';\nimport {NotificationInterceptor} from './core/interceptor/notification.interceptor';\nimport {Ng7MatBreadcrumbService} from 'ng7-mat-breadcrumb';\n\n@NgModule({\n  declarations: [AppComponent],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    AngularFontAwesomeModule,\n    AccountModule,\n    SharedModule,\n    PagesModule,\n    ToastrModule.forRoot(),\n    SchemaFormModule.forRoot(),\n    NgxWebstorageModule.forRoot({prefix: 'gl', separator: '.'}),\n    TranslateModule.forRoot({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: (createTranslateLoader),\n        deps: [HttpClient]\n      }\n    })\n  ],\n  providers: [\n    Ng7MatBreadcrumbService,\n    {provide: WidgetRegistry, useClass: GlWidgetRegistry},\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: NotificationInterceptor,\n      multi: true,\n      deps: [ToastrService, TranslateService]\n    },\n  ],\n  bootstrap:\n    [AppComponent]\n})\n\nexport class AppModule {\n}\n</code></pre>\n\n<p>I can't find any useful documentation about angular-material-fileupload package. </p>\n\n<p>Is there any suitable tutorial for this?</p>\n\n<p>Is there any more config for using this package?</p>\n\n<p>Can anyone suggest me a good solution for this issue?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 837, "user_id": 3384343, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/lQp5O.png?s=128&g=1", "display_name": "jbojcic", "link": "https://stackoverflow.com/users/3384343/jbojcic"}, "edited": false, "score": 0, "creation_date": 1566390235, "post_id": 57591355, "comment_id": 101640351, "body": "I understand all that but I am wondering how compiler is able to sort it out for my example with function? ``` function test&lt;T, K extends keyof T&gt;(o: T, propertyValue: T[K], propertyName: K) {     // ... do something } test(taxi, 0, &#39;model&#39;); // it detects that model property should be string and not number ``` if it can do it here, why it can&#39;t do it for the interface example. What is the difference there?"}, {"owner": {"reputation": 5085, "user_id": 3941291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sUtBe.jpg?s=128&g=1", "display_name": "ChrisG", "link": "https://stackoverflow.com/users/3941291/chrisg"}, "reply_to_user": {"reputation": 837, "user_id": 3384343, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/lQp5O.png?s=128&g=1", "display_name": "jbojcic", "link": "https://stackoverflow.com/users/3384343/jbojcic"}, "edited": false, "score": 1, "creation_date": 1566390408, "post_id": 57591355, "comment_id": 101640461, "body": "because with an interface you have a generic type, which cannot be resolved without any higher order reasoning and in the function call the <code>&#39;model&#39;</code> will be used as a narrow type which is known at compile time. With the interface the type declaration <code>let x: Type</code> is completly seperat and has to compile on its own without the variable initialization"}], "tags": [], "owner": {"reputation": 5085, "user_id": 3941291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sUtBe.jpg?s=128&g=1", "display_name": "ChrisG", "link": "https://stackoverflow.com/users/3941291/chrisg"}, "is_accepted": true, "score": 1, "last_activity_date": 1566389515, "creation_date": 1566389515, "answer_id": 57591355, "question_id": 57589890, "link": "https://stackoverflow.com/questions/57589890/ts-index-types-compiler-cannot-resolve-exact-value-when-index-type-is-used-in/57591355#57591355", "title": "TS index types - compiler cannot resolve exact value when index type is used in interface", "body": "<p>That is because <code>K</code> can be <em>any</em> key of <code>T</code>, typescript cannot know which one.</p>\n\n<p>Consider this example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const makeChange = (args: any): Change&lt;Car&gt; =&gt; {\n  // some logic to return the change here.\n}\n</code></pre>\n\n<p>What type should <code>Change&lt;Car&gt;</code> now use for <code>K</code>. As the <code>field</code>'s value is decided during runtime, you cannot assign a static type during compilation.</p>\n\n<p>A way around this to define your <code>Change</code> type like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Change&lt;T, K extends keyof T&gt; {\n    timestamp: number;\n    field: K;\n    value: T[K];\n}\n\nconst change: Change&lt;Car, 'model'&gt; = {\n    timestamp: 1484684700749,\n    field: 'model',\n    value: 0 // not working as expected.\n};\n</code></pre>\n\n<p>You need to specify the field (generic paramter <code>K</code>) in the type for the static type checking to work.</p>\n\n<p>If you use the <code>Change</code> interface in other parts and do not work with a specific field, you can always add generic types to your function like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const uploadChange = &lt;K extends keyof Car&gt;(change: Change&lt;Car, K&gt;) =&gt; {\n // ...\n}\n</code></pre>\n"}], "owner": {"reputation": 837, "user_id": 3384343, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/lQp5O.png?s=128&g=1", "display_name": "jbojcic", "link": "https://stackoverflow.com/users/3384343/jbojcic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 57591355, "answer_count": 1, "score": 2, "last_activity_date": 1566389515, "creation_date": 1566384282, "question_id": 57589890, "link": "https://stackoverflow.com/questions/57589890/ts-index-types-compiler-cannot-resolve-exact-value-when-index-type-is-used-in", "title": "TS index types - compiler cannot resolve exact value when index type is used in interface", "body": "<p>If I have the following function:</p>\n\n<pre><code>function test&lt;T, K extends keyof T&gt;(o: T, propertyValue: T[K], propertyName: K) {\n    // ... do something\n}\n</code></pre>\n\n<p>and I do:</p>\n\n<pre><code>interface Car {\n    manufacturer: string;\n    model: string;\n    year: number;\n}\nlet taxi: Car = {\n    manufacturer: 'Toyota',\n    model: 'Camry',\n    year: 2014\n};\ntest(taxi, 0, 'model');\n</code></pre>\n\n<p>compiler is able to detect that model property is not of type string so test invocation line fails. But If I try to use index type in interface like here:</p>\n\n<pre><code>export interface Change&lt;T, K extends keyof T = keyof T&gt; {\n  timestamp: number;\n  field: K;\n  value: T[K];\n}\nconst change: Change&lt;Car&gt; = {\n  timestamp: 1484684700749,\n  field: 'model',\n  value: 0\n};\n</code></pre>\n\n<p>It compiles fine. It allows you to set value to string or number even though actually property is specified by the field. Am I doing something wrong or perhaps that's not possible for cases like this due to the reason how compiler works?</p>\n\n<p>You can see actual example <a href=\"http://www.typescriptlang.org/play/#code/GYVwdgxgLglg9mABFApgZygHgCoBpEDSiKAHqmACZqIDWKAnnMItgHwAUcAXC-gA4AnOHxQCo9AGoBDADYgUPbAG0CAXX5CRY+gDkpAWwWEAlIgDeAKETXEAlFBACkABgDcFgL4WYYVAOBSECiIAMJSAuZWNvpSYCAB0I6iPBgCPgDm7jaI+nAUKDIpUGlgmVHW9CjhPHH6AEai7l4+fgnBIQAWsekoOPhEpORUtAxMLIgAvCOMzGyR2bCGGAZ8NSD1jeWIwDAFFDwEWTYAbrLyiiqqTRYWEAgYiBBdpUad3b1hAqyT8zaL6FAVjwAIwAFgAHKCAGyQgDszmcsNBAE5cFsdnseAByXL5GRYtHZU5yIzOTzuCwyezIKQkGA8T4-SzZGJxBIOOwCbHYOCMQEEra4grYsL6AT0AXZSrVRAAJmcYPJN1QGHYgLp+Gc+BxeQKWOMFKAA\" rel=\"nofollow noreferrer\">here in ts playground</a></p>\n"}, {"tags": ["typescript", "react-select"], "comments": [{"owner": {"reputation": 1984, "user_id": 6129793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXYqC.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/6129793/peter"}, "edited": false, "score": 0, "creation_date": 1566394510, "post_id": 57589666, "comment_id": 101643226, "body": "please add the code that uses <code>react-select</code>"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1566397017, "post_id": 57589666, "comment_id": 101644933, "body": "You may have multiple versions of <code>@types&#47;react</code> installed. The type parameter is optional in the current version. This is a transitive dependency issue."}, {"owner": {"reputation": 16, "user_id": 2663131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe6752a2e6311df595b6782a6769c8f8?s=128&d=identicon&r=PG", "display_name": "Pragati", "link": "https://stackoverflow.com/users/2663131/pragati"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1566450854, "post_id": 57589666, "comment_id": 101661323, "body": "@AluanHaddad, if i dont add @types/react-select, its giving error for my typescript. and if react is 16.4 should type/react also be 16.4?"}, {"owner": {"reputation": 16, "user_id": 2663131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe6752a2e6311df595b6782a6769c8f8?s=128&d=identicon&r=PG", "display_name": "Pragati", "link": "https://stackoverflow.com/users/2663131/pragati"}, "reply_to_user": {"reputation": 1984, "user_id": 6129793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXYqC.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/6129793/peter"}, "edited": false, "score": 0, "creation_date": 1566451000, "post_id": 57589666, "comment_id": 101661350, "body": "@Peter, i am just installing it and it is giving error before adding any code"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1566472175, "post_id": 57589666, "comment_id": 101671389, "body": "@Pragati I was not saying that you do not need <code>@types&#47;react-select</code>. You need it. Yes, you <code>@types&#47;react</code> and <code>react</code> version should match."}], "owner": {"reputation": 16, "user_id": 2663131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe6752a2e6311df595b6782a6769c8f8?s=128&d=identicon&r=PG", "display_name": "Pragati", "link": "https://stackoverflow.com/users/2663131/pragati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566392288, "creation_date": 1566383571, "last_edit_date": 1566392288, "question_id": 57589666, "link": "https://stackoverflow.com/questions/57589666/type-error-after-adding-types-react-select", "title": "Type error after adding @types/react-select", "body": "<p>After yarn add <code>@types/react-select</code>\nI am trying to run my project it is showing the following error though it was working earlier, the problem seems to happen today.</p>\n\n<pre><code>ERROR in [at-loader] ./node_modules/@types/react-select/src/components/indicators.d.ts,Generic type 'ReactElement&lt;P&gt;' requires 1 type argument(s)\n</code></pre>\n\n<p>In package.json I have : </p>\n\n<pre><code>\"react\": \"^16.4.0\",\n\"react-dom\": \"^16.4.0\",\n\"@types/react\": \"^16.3.16\",\n\"@types/react-select\": \"^3.0.2\",\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ag-grid", "ag-grid-angular"], "comments": [{"owner": {"reputation": 9344, "user_id": 1417185, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5rjLN.jpg?s=128&g=1", "display_name": "Paritosh", "link": "https://stackoverflow.com/users/1417185/paritosh"}, "edited": false, "score": 0, "creation_date": 1566461398, "post_id": 57589513, "comment_id": 101665704, "body": "Which feature are you using <code>treedata</code> or <code>rowGrouping</code>? could you provide link to plunk or stackblitz - to play around with it?"}, {"owner": {"reputation": 18794, "user_id": 475727, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/014426d2ac16e019b76c9a9048df1e5d?s=128&d=identicon&r=PG", "display_name": "Liero", "link": "https://stackoverflow.com/users/475727/liero"}, "reply_to_user": {"reputation": 9344, "user_id": 1417185, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5rjLN.jpg?s=128&g=1", "display_name": "Paritosh", "link": "https://stackoverflow.com/users/1417185/paritosh"}, "edited": false, "score": 0, "creation_date": 1566465438, "post_id": 57589513, "comment_id": 101667658, "body": "@Paritosh: row grouping. I&#39;ve created <a href=\"https://stackblitz.com/edit/ag-grid-autocolumn-formatting\" rel=\"nofollow noreferrer\">stackblitz</a>"}], "answers": [{"tags": [], "owner": {"reputation": 9344, "user_id": 1417185, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5rjLN.jpg?s=128&g=1", "display_name": "Paritosh", "link": "https://stackoverflow.com/users/1417185/paritosh"}, "is_accepted": true, "score": 1, "last_activity_date": 1566538803, "creation_date": 1566538803, "answer_id": 57620405, "question_id": 57589513, "link": "https://stackoverflow.com/questions/57589513/how-to-show-values-in-the-group-column-in-ag-grid-when-group-is-expanded/57620405#57620405", "title": "How to show values in the group column in ag-grid, when group is expanded?", "body": "<p>This can be achieved easily by CSS.</p>\n\n<pre><code>.ag-theme-balham .ag-ltr .ag-row-group-leaf-indent {\n  margin-left: 0 !important;\n}\n</code></pre>\n\n<p>Have a look at the link: <a href=\"https://stackblitz.com/edit/ag-grid-autocolumn-formatting-to4fml?file=style.css\" rel=\"nofollow noreferrer\">StackBlitz</a></p>\n"}], "owner": {"reputation": 18794, "user_id": 475727, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/014426d2ac16e019b76c9a9048df1e5d?s=128&d=identicon&r=PG", "display_name": "Liero", "link": "https://stackoverflow.com/users/475727/liero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1822, "favorite_count": 0, "accepted_answer_id": 57620405, "answer_count": 1, "score": 0, "last_activity_date": 1566538803, "creation_date": 1566383064, "last_edit_date": 1566465395, "question_id": 57589513, "link": "https://stackoverflow.com/questions/57589513/how-to-show-values-in-the-group-column-in-ag-grid-when-group-is-expanded", "title": "How to show values in the group column in ag-grid, when group is expanded?", "body": "<p>I have following data:</p>\n\n<pre><code>[{ 'Year': 2016, Month: 'January, 'Other columns...' },\n { 'Year': 2016, Month: 'February, 'Other columns...' }]\n</code></pre>\n\n<p>And I want it to be grouped by year. However, I don't want separate column for Month, when group is expanded, but rather reuse the group column like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nUgpC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nUgpC.png\" alt=\"enter image description here\"></a></p>\n\n<p>I guess <code>autoGroupColumnDef</code> is what I need and I achieved almost what I want:</p>\n\n<pre><code>gridOptions: GridOptions = {\n  suppressAggFuncInHeader: true,\n  autoGroupColumnDef: {field: 'Month', headerName: '', cellRendererParams: { suppressCount: true}},\n  groupIncludeTotalFooter: true,\n};\n\n\ncolumnDefs: ColDef[] = [\n  {field: 'Year', hide: true, rowGroup: true },\n  {field: 'Other Column1', aggFunc: 'sum'},\n  {field: 'Other Column2', aggFunc: 'sum'},\n];\n</code></pre>\n\n<p><strong><a href=\"https://stackblitz.com/edit/ag-grid-autocolumn-formatting\" rel=\"nofollow noreferrer\">see stackblitz example</a></strong></p>\n\n<p>However, the Month values are still aligned right to the year, not under it. </p>\n\n<p><a href=\"https://i.stack.imgur.com/Py3jT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Py3jT.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "redux", "typesafe-actions"], "comments": [{"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "edited": false, "score": 0, "creation_date": 1566402391, "post_id": 57589287, "comment_id": 101647743, "body": "Are the actions handled asynchronously (e.g. by a call to the server, maybe handled by a thunk or a saga or something)?  Because if so you could possibly look at <code>createAsyncAction</code> <a href=\"https://github.com/piotrwitek/typesafe-actions#createasyncaction\" rel=\"nofollow noreferrer\">https://github.com/piotrwitek/typesafe-actions#createasyncac&zwnj;&#8203;tion</a>."}], "answers": [{"tags": [], "owner": {"reputation": 4075, "user_id": 542395, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a87359d53892f4fcfacc082a8877ed5d?s=128&d=identicon&r=PG", "display_name": "icfantv", "link": "https://stackoverflow.com/users/542395/icfantv"}, "is_accepted": false, "score": 0, "last_activity_date": 1579061587, "creation_date": 1579061587, "answer_id": 59745033, "question_id": 57589287, "link": "https://stackoverflow.com/questions/57589287/typescript-redux-how-to-reduce-boilerplate-with-typesafe-actions/59745033#59745033", "title": "typescript redux: how to reduce boilerplate with typesafe-actions", "body": "<p>Given that the library is already designed to reduce boilerplate code, the more you can stick to the API, the less boilerplate code you need to write.  If you use the built in <code>createReducer</code> API, there's a way to obviate the need to define your action types as strings.  That is, they're extrapolated from the action creators returned from <code>createAction</code>.</p>\n\n<p>That you're keeping those separate <em>seems</em> to imply you're using your own reducers which is almost certainly why you're also exporting all the <code>FeatureXAction</code> types.  This could be done at the end, rather than individually, but would really only save you the one line per file and you'd still need to aggregate them at the end.  All this will add verbosity and boilerplate.</p>\n\n<p>Before typesafe-actions, we had even more boilerplate than you as each of our actions were defined by an interface and then each action creator returned an implementation of that interface.  While it was very explicit, it was VERY verbose.</p>\n"}], "owner": {"reputation": 519, "user_id": 5988856, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/4a4c7f4751c9816babf4ba9e81c43b62?s=128&d=identicon&r=PG", "display_name": "Chinwobble", "link": "https://stackoverflow.com/users/5988856/chinwobble"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1579061587, "creation_date": 1566382270, "question_id": 57589287, "link": "https://stackoverflow.com/questions/57589287/typescript-redux-how-to-reduce-boilerplate-with-typesafe-actions", "title": "typescript redux: how to reduce boilerplate with typesafe-actions", "body": "<p>I'm using typescript with typesafe-actions.\nMy codebase has a lot of repeated code like the following:\nI've looked through similar questions but couldn't find an answer.</p>\n\n<p>How can I reduce the boilerplate.</p>\n\n<pre><code>import { action, ActionType, createAction } from 'typesafe-actions';\n\ninterface ModelA {\n  stuff: string\n}\n\nexport enum FeatureAActionTypes {\n  Load = '[FeatureA] Load',\n  Success = '[FeatureA] Success',\n  Fail = '[FeatureA] Fail',\n  Reset = '[FeatureA] Reset'\n}\n\nexport const FeatureAActions = {\n  load: createAction(FeatureAActionTypes.Load),\n  success: (response: ModelA[]) =&gt; action(FeatureAActionTypes.Success, response),\n  fail: (error: string) =&gt; action(FeatureAActionTypes.Fail, error),\n  reset: createAction(FeatureAActionTypes.Reset)\n};\n\nexport type FeatureAAction = ActionType&lt;typeof FeatureAActions&gt;;\n\ninterface ModelB {\n  differentStuff: string\n}\n\nexport enum FeatureBActionTypes {\n  Load = '[FeatureB] Load',\n  Success = '[FeatureB] Success',\n  Fail = '[FeatureB] Fail',\n  Reset = '[FeatureB] Reset'\n}\n\nexport const FeatureBActions = {\n  load: createAction(FeatureBActionTypes.Load),\n  success: (response: ModelB[]) =&gt; action(FeatureBActionTypes.Success, response),\n  fail: (error: string) =&gt; action(FeatureBActionTypes.Fail, error),\n  reset: createAction(FeatureBActionTypes.Reset)\n};\n\nexport type FeatureBAction = ActionType&lt;typeof FeatureBActions&gt;;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1566382268, "post_id": 57589276, "comment_id": 101636038, "body": "How are you initializing ?"}], "answers": [{"tags": [], "owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "is_accepted": true, "score": 3, "last_activity_date": 1566382741, "creation_date": 1566382741, "answer_id": 57589423, "question_id": 57589276, "link": "https://stackoverflow.com/questions/57589276/export-enums-from-an-interface/57589423#57589423", "title": "Export enums from an interface", "body": "<p>You need to qualify the <code>enum</code> usages. They're not implicit.</p>\n\n<pre><code>result: MyDriverResult.DRIVER_NONE,\nstatus: MyDriverStatus.DRIVER_DISABLED,\n</code></pre>\n"}], "owner": {"reputation": 661, "user_id": 5537770, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f97da445cf7af4efd508de4586b80150?s=128&d=identicon&r=PG&f=1", "display_name": "Pryda", "link": "https://stackoverflow.com/users/5537770/pryda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 57589423, "answer_count": 1, "score": 1, "last_activity_date": 1566382741, "creation_date": 1566382236, "last_edit_date": 1566382369, "question_id": 57589276, "link": "https://stackoverflow.com/questions/57589276/export-enums-from-an-interface", "title": "Export enums from an interface", "body": "<p>I have interface with enum values:<br>\nmydriver.ts:  </p>\n\n<pre><code>export const enum MyDriverStatus {\n    DRIVER_DISABLED,\n    DRIVER_AWAKE,\n    DRIVER_SLEEP\n}\n\nexport const enum MyDriverResult {\n    DRIVER_NONE,\n    DRIVER_NOK,\n    DRIVER_OK\n}\n\nexport default interface MyDriver {\n    enable: boolean;\n    status: MyDriverStatus;\n    result: MyDriverResult ;\n    value: number;\n    time: number;\n}\n</code></pre>\n\n<p>On the component side, I imported the interface:</p>\n\n<pre><code>import { MyDriver, MyDriverStatus, MyDriverResult } from '../interfaces/mydriver';\n</code></pre>\n\n<p>When I tried to initialize my variable, An error appeared:</p>\n\n<pre><code>export class Tab5Page implements OnInit {\n\n\n  drv: MyDriver= {\n    result: DRIVER_NONE,\n    status: DRIVER_DISABLED,\n    value: 0,\n    time: 0,\n    enable: false\n  };\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n}\n</code></pre>\n\n<blockquote>\n  <p>Cannot find name DRIVER_NONE.<br>\n  Cannot find name DRIVER_DISABLED.</p>\n</blockquote>\n"}, {"tags": ["angular", "typescript", "google-oauth", "server-side-rendering", "google-api-js-client"], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 12225061, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCEzCaOk0UTU5Z3XxGBGZ-vc7LZd4STR5pkh-fE=k-s128", "display_name": "Shivam Shukla", "link": "https://stackoverflow.com/users/12225061/shivam-shukla"}, "is_accepted": false, "score": 2, "last_activity_date": 1577366077, "creation_date": 1577366077, "answer_id": 59489024, "question_id": 57589253, "link": "https://stackoverflow.com/questions/57589253/google-sign-in-not-working-with-angular-ssr-build/59489024#59489024", "title": "Google sign in not working with Angular SSR Build", "body": "<p>This might look like Server Side Rendering works with services that execute http calls, but not with the services that execute https calls just like your Google authentication api. But there is nothing such an issue. </p>\n\n<p>What SSR does is that it compiles your static html code for a specific page over the Node.js Express server. When this is done it targets a new port over your localhost that is different from what it was targeting during JIT or AOT compilation.</p>\n\n<p>If you look into your server.ts(formed when you added the Express engine to your project) you will see, </p>\n\n<pre><code>const PORT = process.env.PORT || 4000;\n</code></pre>\n\n<p>this shows that the node express engine listens over port 4000 by default. But the client id that you received from Google API Console is whitelisted only for the '4200' port(or any custom port if specified), therefore the client id that authenticates your application might not work on port 4000.</p>\n\n<p><strong>In order to solve this problem change the port in server.ts file to 4200 (or any other custom port specified by you for your application).</strong></p>\n\n<p>Hope this might help. (:</p>\n"}], "owner": {"reputation": 21, "user_id": 5841892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0050d12879af9a70d563e8712cdbde62?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil", "link": "https://stackoverflow.com/users/5841892/nikhil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577366077, "creation_date": 1566382162, "last_edit_date": 1566382321, "question_id": 57589253, "link": "https://stackoverflow.com/questions/57589253/google-sign-in-not-working-with-angular-ssr-build", "title": "Google sign in not working with Angular SSR Build", "body": "<p>I am building angular's SSR build but in production it shows 'gapi is not defiled', even though I decalred gapi and put check for gapi inside interval. How can I make it work?</p>\n\n<p>Putting gapi check inside interval</p>\n\n<pre><code>gapi.load('auth2', () =&gt; { the client.\n      gapi.auth2.init({\n        client_id: clientID,\n        cookiepolicy: 'single_host_origin',\n        // Request scopes in addition to 'profile' and 'email'\n        //scope: 'additional_scope'\n      }).attachClickHandler()\n})\n</code></pre>\n"}, {"tags": ["typescript", "unit-testing", "sinon"], "answers": [{"tags": [], "owner": {"reputation": 36140, "user_id": 6463558, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/g22sX.jpg?s=128&g=1", "display_name": "slideshowp2", "link": "https://stackoverflow.com/users/6463558/slideshowp2"}, "is_accepted": false, "score": 0, "last_activity_date": 1574153504, "creation_date": 1574153504, "answer_id": 58929956, "question_id": 57589200, "link": "https://stackoverflow.com/questions/57589200/how-to-stub-global-function-in-ts/58929956#58929956", "title": "How to stub global function in TS", "body": "<p>Here is the unit test solution:</p>\n\n<p><code>index.ts</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function func3(): string {\n  return 'some string';\n}\n\nfunction func4() {\n  const rval = exports.func3();\n  console.log(rval);\n}\ninterface ImyInterface {}\n\nclass classA implements ImyInterface {\n  public func1(): void {\n    exports.func4();\n  }\n  public func2(): void {}\n}\n\nexports.func3 = func3;\nexports.func4 = func4;\nexports.classA = classA;\n</code></pre>\n\n<p><code>index.spec.ts</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { expect } from 'chai';\nimport sinon from 'sinon';\n\nconst mod = require('./');\n\ndescribe('t', () =&gt; {\n  it('should call stubbed methods correctly', () =&gt; {\n    const func3Stub = sinon.stub(mod, 'func3').returns('data');\n    const func4Spy = sinon.spy(mod, 'func4');\n    const logSpy = sinon.spy(console, 'log');\n    const instance = new mod.classA();\n    instance.func1();\n    expect(func4Spy.calledOnce).to.be.true;\n    expect(func3Stub.calledOnce).to.be.true;\n    expect(logSpy.calledWith('data')).to.be.true;\n  });\n});\n</code></pre>\n\n<p>Unit test result with coverage report:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code> t\ndata\n    \u2713 should call stubbed methods correctly\n\n\n  1 passing (16ms)\n\n---------------|----------|----------|----------|----------|-------------------|\nFile           |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |\n---------------|----------|----------|----------|----------|-------------------|\nAll files      |    95.83 |      100 |    71.43 |    95.83 |                   |\n index.spec.ts |      100 |      100 |      100 |      100 |                   |\n index.ts      |    90.91 |      100 |       60 |    90.91 |                 2 |\n---------------|----------|----------|----------|----------|-------------------|\n</code></pre>\n\n<p>Source code: <a href=\"https://github.com/mrdulin/mocha-chai-sinon-codelab/tree/master/src/stackoverflow/57589200\" rel=\"nofollow noreferrer\">https://github.com/mrdulin/mocha-chai-sinon-codelab/tree/master/src/stackoverflow/57589200</a></p>\n"}], "owner": {"reputation": 5073, "user_id": 1365697, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0cb3baa9178e40e8d47248ac73c4a24e?s=128&d=identicon&r=PG", "display_name": "user1365697", "link": "https://stackoverflow.com/users/1365697/user1365697"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574153520, "creation_date": 1566381992, "last_edit_date": 1574153520, "question_id": 57589200, "link": "https://stackoverflow.com/questions/57589200/how-to-stub-global-function-in-ts", "title": "How to stub global function in TS", "body": "<p>This is my TS class</p>\n\n<pre><code>function func3(): string {  \n  return ' some string'\n}\n\nfunction func4(){\n  func3()\n}\n\nexport class classA implements ImyInterface {\n  public func1(): void { func4() }\n  public func2(): void {}\n}\n</code></pre>\n\n<p>Now I want to write test that call to func1 and then to mock func3 didn't work with stub.</p>\n\n<pre><code>sandbox.stub(myInstance,\"test3\").returns(\"data\");\n</code></pre>\n\n<p>If I moved func3 to classA then func4 didn't find this class</p>\n"}, {"tags": ["node.js", "typescript", "jestjs"], "answers": [{"tags": [], "owner": {"reputation": 36140, "user_id": 6463558, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/g22sX.jpg?s=128&g=1", "display_name": "slideshowp2", "link": "https://stackoverflow.com/users/6463558/slideshowp2"}, "is_accepted": false, "score": 0, "last_activity_date": 1573472886, "creation_date": 1573472886, "answer_id": 58800770, "question_id": 57589104, "link": "https://stackoverflow.com/questions/57589104/how-to-mock-childprocess-exec-in-ts/58800770#58800770", "title": "How to mock childprocess.exec in TS", "body": "<p>Here is the unit test solution:</p>\n\n<p><code>index.ts</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import cp, { ExecException } from 'child_process';\n\nconst capRunnable = 'capRunnable';\n\nexport function executeCommandPromise(file: string, command: string) {\n  return new Promise((resolve, reject) =&gt; {\n    cp.exec(command, { cwd: `${file}` }, (error: ExecException | null, stdout: string, stderr: string) =&gt; {\n      if (error) {\n        console.warn(error);\n        reject(error);\n      }\n      resolve(capRunnable);\n    });\n  });\n}\n</code></pre>\n\n<p><code>index.spec.ts</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { executeCommandPromise } from './';\nimport cp, { ChildProcess, ExecException } from 'child_process';\n\ndescribe('executeCommandPromise', () =&gt; {\n  afterEach(() =&gt; {\n    jest.restoreAllMocks();\n  });\n  test('should exec command correctly', async () =&gt; {\n    let execCallback: (error: ExecException | null, stdout: string, stderr: string) =&gt; void;\n    jest\n      .spyOn(cp, 'exec')\n      .mockImplementation(function(\n        this: ChildProcess,\n        command: string,\n        options: any,\n        callback?: (error: ExecException | null, stdout: string, stderr: string) =&gt; void\n      ): ChildProcess {\n        if (callback) {\n          execCallback = callback;\n        }\n        return this;\n      });\n    const actualValue = executeCommandPromise('somefile', 'ls -a');\n    execCallback!(null, '', '');\n    await expect(actualValue).resolves.toBe('capRunnable');\n    expect(cp.exec).toBeCalledWith('ls -a', { cwd: 'somefile' }, execCallback!);\n  });\n\n  test('should throw error when exec command failed', async () =&gt; {\n    let execCallback: (error: ExecException | null, stdout: string, stderr: string) =&gt; void;\n    jest\n      .spyOn(cp, 'exec')\n      .mockImplementation(function(\n        this: ChildProcess,\n        command: string,\n        options: any,\n        callback?: (error: ExecException | null, stdout: string, stderr: string) =&gt; void\n      ): ChildProcess {\n        if (callback) {\n          execCallback = callback;\n        }\n        return this;\n      });\n    const actualValue = executeCommandPromise('somefile', 'ls -a');\n    execCallback!(new Error('some error happened'), '', '');\n    await expect(actualValue).rejects.toThrowError('some error happened');\n    expect(cp.exec).toBeCalledWith('ls -a', { cwd: 'somefile' }, execCallback!);\n  });\n});\n</code></pre>\n\n<p>Unit test result with 100% coverage:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code> PASS  src/stackoverflow/57589104/index.spec.ts (8.518s)\n  executeCommandPromise\n    \u2713 should exec command correctly (15ms)\n    \u2713 should throw error when exec command failed (10ms)\n\n  console.warn src/stackoverflow/57589104/index.ts:469\n    Error: some error happened\n        at /Users/ldu020/workspace/github.com/mrdulin/jest-codelab/src/stackoverflow/57589104/index.spec.ts:45:19\n        at step (/Users/ldu020/workspace/github.com/mrdulin/jest-codelab/src/stackoverflow/57589104/index.spec.ts:33:23)\n        at Object.next (/Users/ldu020/workspace/github.com/mrdulin/jest-codelab/src/stackoverflow/57589104/index.spec.ts:14:53)\n        at /Users/ldu020/workspace/github.com/mrdulin/jest-codelab/src/stackoverflow/57589104/index.spec.ts:8:71\n        at new Promise (&lt;anonymous&gt;)\n        at Object.&lt;anonymous&gt;.__awaiter (/Users/ldu020/workspace/github.com/mrdulin/jest-codelab/src/stackoverflow/57589104/index.spec.ts:4:12)\n        at Object.&lt;anonymous&gt; (/Users/ldu020/workspace/github.com/mrdulin/jest-codelab/src/stackoverflow/57589104/index.spec.ts:29:55)\n        at Object.asyncJestTest (/Users/ldu020/workspace/github.com/mrdulin/jest-codelab/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:102:37)\n        at resolve (/Users/ldu020/workspace/github.com/mrdulin/jest-codelab/node_modules/jest-jasmine2/build/queueRunner.js:43:12)\n        at new Promise (&lt;anonymous&gt;)\n        at mapper (/Users/ldu020/workspace/github.com/mrdulin/jest-codelab/node_modules/jest-jasmine2/build/queueRunner.js:26:19)\n        at promise.then (/Users/ldu020/workspace/github.com/mrdulin/jest-codelab/node_modules/jest-jasmine2/build/queueRunner.js:73:41)\n        at process._tickCallback (internal/process/next_tick.js:68:7)\n\n----------|----------|----------|----------|----------|-------------------|\nFile      |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |\n----------|----------|----------|----------|----------|-------------------|\nAll files |      100 |      100 |      100 |      100 |                   |\n index.ts |      100 |      100 |      100 |      100 |                   |\n----------|----------|----------|----------|----------|-------------------|\nTest Suites: 1 passed, 1 total\nTests:       2 passed, 2 total\nSnapshots:   0 total\nTime:        10.086s\n</code></pre>\n\n<p>Source code: <a href=\"https://github.com/mrdulin/jest-codelab/tree/master/src/stackoverflow/57589104\" rel=\"nofollow noreferrer\">https://github.com/mrdulin/jest-codelab/tree/master/src/stackoverflow/57589104</a></p>\n"}], "owner": {"reputation": 5073, "user_id": 1365697, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0cb3baa9178e40e8d47248ac73c4a24e?s=128&d=identicon&r=PG", "display_name": "user1365697", "link": "https://stackoverflow.com/users/1365697/user1365697"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 802, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573472951, "creation_date": 1566381666, "last_edit_date": 1573472951, "question_id": 57589104, "link": "https://stackoverflow.com/questions/57589104/how-to-mock-childprocess-exec-in-ts", "title": "How to mock childprocess.exec in TS", "body": "<pre class=\"lang-js prettyprint-override\"><code>export function executeCommandPromise(file: string, command: string) {\n  return new Promise((resolve, reject) =&gt; {\n    exec(command, { cwd: `${file}` }, (error: ExecException | null, stdout: string, stderr: string) =&gt; {\n      if (error) {\n        console.warn(error);\n        reject(error);\n      }\n      resolve(capRunnable);\n    });\n  });\n}\n</code></pre>\n\n<p>I want to create test that will stub the exec command the problem that the exec is called to callback function and I want to control on the stdout</p>\n\n<p>I tried to do something like </p>\n\n<pre><code>let sandbox = sinon.sandbox.create();\n\nlet event= new events.EventEmitter();\n\n\nsandbox.stub(child_process, 'exec').returns(event);\n</code></pre>\n\n<p>but it did't work and I didn't know how to return result to the stdout</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 1768, "user_id": 5031771, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100001177430983/picture?type=large", "display_name": "Wilhelm Olejnik", "link": "https://stackoverflow.com/users/5031771/wilhelm-olejnik"}, "edited": false, "score": 1, "creation_date": 1566389057, "post_id": 57589352, "comment_id": 101639641, "body": "The problem with this solutions is that it doesn&#39;t allow to pass boolean arg as <code>onlyBody</code>. For example this usage: <code>function fetchUsers(onlyBody: boolean) {   return fetchItems&lt;string&gt;(&#39;&#47;users&#39;, onlyBody); }</code> will result in error <code>Argument of type &#39;boolean&#39; is not assignable to parameter of type &#39;true | undefined&#39;.</code> It could be solved by making overloads also for this function but such solution is messy if there is a lot of functions like this."}, {"owner": {"reputation": 18501, "user_id": 186822, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/EZ6R7.jpg?s=128&g=1", "display_name": "Nenad", "link": "https://stackoverflow.com/users/186822/nenad"}, "reply_to_user": {"reputation": 1768, "user_id": 5031771, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100001177430983/picture?type=large", "display_name": "Wilhelm Olejnik", "link": "https://stackoverflow.com/users/5031771/wilhelm-olejnik"}, "edited": false, "score": 0, "creation_date": 1566393081, "post_id": 57589352, "comment_id": 101642215, "body": "Yes, overloads seem to be only way. But you could put them only on top methods. You don&#39;t need them on everything."}], "tags": [], "owner": {"reputation": 18501, "user_id": 186822, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/EZ6R7.jpg?s=128&g=1", "display_name": "Nenad", "link": "https://stackoverflow.com/users/186822/nenad"}, "is_accepted": false, "score": 2, "last_activity_date": 1566393269, "last_edit_date": 1566393269, "creation_date": 1566382465, "answer_id": 57589352, "question_id": 57589098, "link": "https://stackoverflow.com/questions/57589098/infer-one-of-generic-types-from-function-argument/57589352#57589352", "title": "Infer one of generic types from function argument", "body": "<p>Function overloads can do what you need:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function fetchItems&lt;T&gt;(url: string, onlyBody: false): Promise&lt;HttpResponse&lt;T&gt;&gt;\nfunction fetchItems&lt;T&gt;(url: string, onlyBody?: true): Promise&lt;T&gt;\nfunction fetchItems&lt;T&gt;(url: string, onlyBody: boolean = true) {\n  return Promise\n    .resolve({body: 'some data'} as any)\n    .then(res =&gt; onlyBody ? res.body : res);\n}\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/#code/JYOwLgpgTgZghgYwgAgBJjABwEoQM6YD2IeEAPACoB8yA3gLABQyyARoQCYCeAXMhUwC+TJjACuIBGGDFkMCGAQALAJKQAtnkpUAFGKgAbPnjBRQAcwA0yYga4AhTrzlwDpAJR8AClELrgpGToWLgExIHUVKISUjIgcgrKahCa2nqGxqYW1rYOTgD8fKZiEJ7IPn4B5NTRktKy8oqqGlrU6UbIJmYgVjYgdo7cfOyEBhBw8QC8yMWldEwsUAr68RX+pAssyAB0S3ijAG4QOrTsQ8gA5PvqKBxwYHAXgshweC8gXO6bLNtgShAgHR7ZCTGi5QZcZD5ZB7bZnSF8PbuADcQhEjAQ4TAyBQ00aSRaZC6Fl0F30Bgu1ngblKyK29OQAHpGcgAO6EMQGDhsibYtZVIIYHD4IgkcjEnpUKIYrFyEEJJrJVIS8yk8mUmZQEruBkM5lsjlcnngcq+dbirKSpiYkjY8zy-HNFJaFVqwwXHW6r0sfXsznc1m802VQKuoA\" rel=\"nofollow noreferrer\">Playground</a></p>\n\n<p>Solution with <em>conditional types</em> does not work due to TypeScript \"design limitation\" described <a href=\"https://github.com/microsoft/TypeScript/issues/19360\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 1768, "user_id": 5031771, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100001177430983/picture?type=large", "display_name": "Wilhelm Olejnik", "link": "https://stackoverflow.com/users/5031771/wilhelm-olejnik"}, "edited": false, "score": 0, "creation_date": 1566466356, "post_id": 57595649, "comment_id": 101668144, "body": "Thanks, adding that overload you suggested solved the problem. Btw nice workarounds, never thought about using currying with generics, definitely gonna try it."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1566404035, "creation_date": 1566404035, "answer_id": 57595649, "question_id": 57589098, "link": "https://stackoverflow.com/questions/57589098/infer-one-of-generic-types-from-function-argument/57595649#57595649", "title": "Infer one of generic types from function argument", "body": "<p>The main problem you're facing is that TypeScript does not support <a href=\"https://github.com/microsoft/TypeScript/issues/26242\" rel=\"nofollow noreferrer\">partial type parameter inference</a>.  Either you must manually specify all type parameters (except for ones with defaults), or you let the compiler infer all type parameters, but you cannot specify some and let the compiler infer the rest. </p>\n\n<p>Using overloads instead of generic type parameters, as shown in <a href=\"https://stackoverflow.com/a/57589352/2887218\">@Nenad's answer</a> is one way around this for types like <code>boolean</code> with a small number of possible values.  The issue mentioned in the comments with a <code>boolean</code> parameter (instead of a <code>true</code> or <code>false</code> one) can be solved by adding another overload, like this:</p>\n\n<pre><code>function fetchItems&lt;T&gt;(\n  url: string,\n  onlyBody: false\n): Promise&lt;HttpResponse&lt;T&gt;&gt;;\nfunction fetchItems&lt;T&gt;(url: string, onlyBody?: true): Promise&lt;T&gt;;\n\n// add this overload\nfunction fetchItems&lt;T&gt;(\n  url: string,\n  onlyBody: boolean\n): Promise&lt;T | HttpResponse&lt;T&gt;&gt;;\n\nfunction fetchItems&lt;T&gt;(url: string, onlyBody: boolean = true) {\n  return Promise.resolve({ body: \"some data\" } as any).then(\n    res =&gt; (onlyBody ? res.body : res)\n  );\n}\n\nconst a = fetchItems&lt;string&gt;(\"url\", false); // Promise&lt;HttpResponse&lt;string&gt;&gt;\nconst b = fetchItems&lt;string&gt;(\"url\", true); // Promise&lt;string&gt;\nconst c = fetchItems&lt;string&gt;(\"url\"); // Promise&lt;string&gt;\nconst d = fetchItems&lt;string&gt;(\"url\", Math.random() &lt; 0.5); \n// Promise&lt;string|HttpResponse&lt;string&gt;&gt;\n</code></pre>\n\n<p>I know of two other workarounds, which I've been calling Currying and Dummying:</p>\n\n<hr>\n\n<p>The \"Currying\" workaround splits your single generic function of two type parameters into two <a href=\"https://en.wikipedia.org/wiki/Currying]\" rel=\"nofollow noreferrer\">curried functions</a> of one type parameter each.  One you specify, the other you infer.  Like this:</p>\n\n<pre><code>const fetchItems = &lt;T&gt;() =&gt; &lt;B extends boolean = true&gt;(\n  url: string,\n  onlyBody: B = true as B\n) =&gt; {\n  return Promise.resolve({ body: \"some data\" } as any).then&lt;\n    B extends true ? T : HttpResponse&lt;T&gt;\n  &gt;(res =&gt; (onlyBody ? res.body : res));\n};\n</code></pre>\n\n<p>And you call it like this:    </p>\n\n<pre><code>const a = fetchItems&lt;string&gt;()(\"url\", false); // Promise&lt;HttpResponse&lt;string&gt;&gt;\nconst b = fetchItems&lt;string&gt;()(\"url\", true); // Promise&lt;string&gt;\nconst c = fetchItems&lt;string&gt;()(\"url\"); // Promise&lt;string&gt;\nconst d = fetchItems&lt;string&gt;()(\"url\", Math.random() &lt; 0.5); \n// Promise&lt;string|HttpResponse&lt;string&gt;&gt;\n</code></pre>\n\n<p>Or, since all of those use <code>fetchItems&lt;string&gt;()</code>, you can save that to its own function and use it, for a bit less redundancy:</p>\n\n<pre><code>const fetchItemsString = fetchItems&lt;string&gt;();\nconst e = fetchItemsString(\"url\", false); // Promise&lt;HttpResponse&lt;string&gt;&gt;\nconst f = fetchItemsString(\"url\", true); // Promise&lt;string&gt;\nconst g = fetchItemsString(\"url\"); // Promise&lt;string&gt;\nconst h = fetchItemsString(\"url\", Math.random() &lt; 0.5); \n// Promise&lt;string|HttpResponse&lt;string&gt;&gt;\n</code></pre>\n\n<hr>\n\n<p>The \"Dummying\" workaround lets the compiler infer all the parameter types, even the ones you want to specify manually.  It does this by having the function take dummy parameters of the types you would normally specify manually; the function ignores the dummy parameters:</p>\n\n<pre><code>function fetchItems&lt;T, B extends boolean = true&gt;(\n  dummyT: T,\n  url: string,\n  onlyBody: B = true as B\n) {\n  return Promise.resolve({ body: \"some data\" } as any).then&lt;\n    B extends true ? T : HttpResponse&lt;T&gt;\n  &gt;(res =&gt; (onlyBody ? res.body : res));\n}\n\nconst a = fetchItems(\"dummy\", \"url\", false); // Promise&lt;HttpResponse&lt;string&gt;&gt;\nconst b = fetchItems(\"dummy\", \"url\", true); // Promise&lt;string&gt;\nconst c = fetchItems(\"dummy\", \"url\"); // Promise&lt;string&gt;\nconst d = fetchItems(\"dummy\", \"url\", Math.random() &lt; 0.5); \n// Promise&lt;string|HttpResponse&lt;string&gt;&gt;\n</code></pre>\n\n<p>Since the dummy value is only for the benefit of the compiler and is unused at runtime, you can also use a <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions\" rel=\"nofollow noreferrer\">type assertion</a> to pretend you have an instance of the type instead of going through any trouble to create one:</p>\n\n<pre><code>const dummy = null! as string; // null at runtime, string at compile time\n\nconst e = fetchItems(dummy, \"url\", false); // Promise&lt;HttpResponse&lt;string&gt;&gt;\nconst f = fetchItems(dummy, \"url\", true); // Promise&lt;string&gt;\nconst g = fetchItems(dummy, \"url\"); // Promise&lt;string&gt;\nconst h = fetchItems(dummy, \"url\", Math.random() &lt; 0.5); \n// Promise&lt;string|HttpResponse&lt;string&gt;&gt;\n</code></pre>\n\n<p>Of course it's pretty easy to get a <code>string</code> value, so there's not much point using <code>null! as string</code> instead of <code>\"randomString\"</code>, but for more complicated types it becomes more convenient to use the type assertion instead of trying to create a real instance that you'll just be throwing away.</p>\n\n<hr>\n\n<p>Anyway, hope one of those works for you.  Good luck!</p>\n\n<p><a href=\"http://www.typescriptlang.org/play/?noImplicitAny=false#code/JYOwLgpgTgZghgYwgAgBJjABwEoQM6YD2IeEAPACoB8yA3gFDLIBGhAJgJ4BcyFA3PQC+9eiDgBbfJkQoA8gDdoAG0Jw2eOo2QwAriARhgxbRDAIAFgElI4vJSoAKLUx1QlPPGCigA5gBpnZGIlDgAhdm5tOCVSLQBKHgAFKEJxYFIydCxcAmIM6ioBJl19Q2MYUwtrCFt7B1d3ZE9vEH8gkBDwzgB+Hi8dCATkZNT08moi7T0DIxATMysbO2onJhc3Dy9fALX2zoieVkIlCDgQeKSUtPzkAB80DBwpPPGqQq0SmfLKxZrlxwamxabWCYQOLEIx1OcwAvMh+oNNLsoKZXHMRtcIAA6FF4Y6KBy0CGcHgAIjxkmQbDgYDgpOQgmQcA0Zw4cSxYHMEBAq12yFxyBhNAcoK6HGQ3X5+CxrE4yB4uLigTik2EWgQeTATMF8yqSzIzV8jlJDVJfiiMUGfGQAHobcMrmNMo8ckQSORDa03urNSwdRUFtVap6fMbTeaESrbfaMU6Q1QfSQtQh-T8g3Z4w4TW5SVG7Q7Rhl44nPFTU4H9Zns0ozcgALI08w4s5sVIOOLIMjIAAMWIArHmY46i1tWrcsk9cu6DaPQwm1WJJAQZMgAMKuKDihhMDVJ3W-Ww6uodoWd0LICAAD0gIHUEKhZx1CMcgUBTVnOzWovB57hCKZGihPEgo0NuawomAaIFpiOL4PiECEsSkTkqkKDUrS9KMsyTIgGyHJciAZCBEw55Xjed7-pKFDyg82TPNO1CBI4AqniKHRgnKkq4jKEQ0YqKpaIIAgllqcDlnqfwzsCjhxFm4YWqQg7QU6E6ui8UlGgmO6+sw4kHhms4yXJOYRlAAxKbGI7SSJyApnCAYScGhntsZNYWcOHqGTZbB6emGlei51a1g2nLNrebYdl2vYDta+aWZ5wLji69FWZpIjaXuDn6QAyrOvmVs5AkZaWKD2WmSy5cCrm1vAlruYW5CqSlCVpcVWowPlfyVb41WmeZsVDg1-mhjZPidbY3WtNV9WYsNWm2b65jjXgk0+L19aNmFrbiO2nY9v2M1xrOSV0VOqVevOIiLlIK4ACI6OI4hbh80xlHMWV+RQ5qkde3J3kcJyPn+ZkQC+uxsA9T0UDwX2vhs77Ap+TDfiSyC-vCIMAWjwFgUwEFQfFsF4koBJErKyEUmhNJ0gyWOsuynLckRfJoxev23holG8DRTVna8TEOCxwoo+KXHSuTfH4HERUMulC17mJZUVn8WYQ49HC1kF5q1YpA3KRkvNuudc42bpSuOXgquQxr5paxj-XRvrLVejZdn7umVvq5rpqHcb827qWPnm-pntPd7JkbaFUAthFe3Rb7zs+Cdk5G4n3redbOogDoShKAAhFjIZ69nudMlqZngMAkjmiGZcLeImDACc8JVxAcsB1qpXu0sDhq09tvyTrVqO-Fzqnanc3+76HXBx7fccAPEeRnro-Fm1yBjbPPfz4vbkrx5c02UtW8qzvyB2yFTbR+FO2RftMUjwfIbJ2p07xpdQA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 1768, "user_id": 5031771, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100001177430983/picture?type=large", "display_name": "Wilhelm Olejnik", "link": "https://stackoverflow.com/users/5031771/wilhelm-olejnik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 1, "accepted_answer_id": 57595649, "answer_count": 2, "score": 1, "last_activity_date": 1566404035, "creation_date": 1566381640, "question_id": 57589098, "link": "https://stackoverflow.com/questions/57589098/infer-one-of-generic-types-from-function-argument", "title": "Infer one of generic types from function argument", "body": "<p>Consider the following example. <code>fetchItems</code> function returns response or response body depending on passed <code>onlyBody</code> argument which defaults to <code>true</code>.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface HttpResponse&lt;T&gt; {\n  body: T\n}\n\nfunction fetchItems&lt;T, B extends boolean&gt;(url: string, onlyBody: B = true as B) {\n  return Promise\n    .resolve({body: 'some data'} as any)\n    .then&lt;B extends true ? T : HttpResponse&lt;T&gt;&gt;(res =&gt; onlyBody ? res.body : res);\n}\n</code></pre>\n\n<p>If both generic types are passed the function works as expected</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const a = fetchItems&lt;string, false&gt;('url', false) // Promise&lt;HttpResponse&lt;string&gt;&gt;\nconst b = fetchItems&lt;string, true&gt;('url', true)   // Promise&lt;string&gt;\nconst c = fetchItems&lt;string, true&gt;('url')         // Promise&lt;string&gt;\n</code></pre>\n\n<p>I'd like to drop requirement of passing <code>B</code> type as it is redundant in relation to <code>onlyBody</code> parameter. But when <code>B</code> type is not explictly passed, ts compiler complains about it (Expected 2 type arguments but got 1).</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const e = fetchItems&lt;string&gt;('url', false);        // would want Promise&lt;HttpResponse&lt;string&gt;&gt;\nconst f = fetchItems&lt;string&gt;('url', true)          // would want Promise&lt;string&gt;\nconst g = fetchItems&lt;string&gt;('url')                // would want Promise&lt;string&gt;\n</code></pre>\n\n<p>I tried to change fucntion signature into:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function fetchItems&lt;T, B extends boolean = true&gt;(url: string, onlyBody: B = true as B) {\n</code></pre>\n\n<p>but then there is an error in <code>e</code> example: <code>Argument of type 'false' is not assignable to parameter of type 'true | undefined'</code></p>\n\n<p>Is there any way to alter function signature so that e, f, g examples will work the same as a, b, c ? \ndemo: <a href=\"https://stackblitz.com/edit/typescript-ydkmzk\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/typescript-ydkmzk</a></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1566380853, "post_id": 57588821, "comment_id": 101635203, "body": "well, in the sendMsg function you should check if user is logged in and act accordingly."}, {"owner": {"reputation": 33, "user_id": 9268781, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wZa9t_QzG9k/AAAAAAAAAAI/AAAAAAAAAEU/unlJxvK6_js/photo.jpg?sz=128", "display_name": "ismail kartit", "link": "https://stackoverflow.com/users/9268781/ismail-kartit"}, "reply_to_user": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1566383962, "post_id": 57588821, "comment_id": 101636924, "body": "I edited my sendMsg method, and now I am redirected to the login page when I click the send message button but I can&#39;t write nothing now on the login form unless I reload the page"}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1566390784, "post_id": 57588821, "comment_id": 101640708, "body": "Well if you cannot write anything on the login form, the issue is in the login form, and we are not seeing that code at all."}], "answers": [{"tags": [], "owner": {"reputation": 211, "user_id": 9816769, "user_type": "registered", "profile_image": "https://graph.facebook.com/1703783373039303/picture?type=large", "display_name": "Vamsi Ambati", "link": "https://stackoverflow.com/users/9816769/vamsi-ambati"}, "is_accepted": false, "score": 0, "last_activity_date": 1566383942, "creation_date": 1566383942, "answer_id": 57589786, "question_id": 57588821, "link": "https://stackoverflow.com/questions/57588821/redirecting-user-to-login-page-if-hes-not-logged-in-before-sending-a-message-to/57589786#57589786", "title": "redirecting user to login page if he&#39;s not logged in before sending a message to the admin", "body": "<p>remove canActivate:[AuthGuard] from routing module and do a login check in SendMsg() method </p>\n\n<pre><code>import { Router } from '@angular/router';\nconstructor(private router: Router){\n}\nsendMsg(f: NgForm) {\nlet loggedIn : boolean = false;\nloggedIn = //make this true if the user is logged in\nif(loggedIn)\n//your existing logic to post message\n}\nelse{\nthis.router.navigate(['/login']); //if not logged in then it will be routed to your login page\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 9268781, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wZa9t_QzG9k/AAAAAAAAAAI/AAAAAAAAAEU/unlJxvK6_js/photo.jpg?sz=128", "display_name": "ismail kartit", "link": "https://stackoverflow.com/users/9268781/ismail-kartit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566383942, "creation_date": 1566380739, "last_edit_date": 1566383877, "question_id": 57588821, "link": "https://stackoverflow.com/questions/57588821/redirecting-user-to-login-page-if-hes-not-logged-in-before-sending-a-message-to", "title": "redirecting user to login page if he&#39;s not logged in before sending a message to the admin", "body": "<p>When a user tries to post a message in the message form, He should be logged in first, if not: when he click the button send message he should be redirected to the login page</p>\n\n<p>I tried using routes guards but they are guarding all the component!  </p>\n\n<p>Here's the HTML part </p>\n\n<pre><code>    &lt;div class=\"modal-body\"&gt;\n            &lt;form role=\"form\" #f=\"ngForm\"&gt;\n                &lt;!-- Validation email --&gt;\n                &lt;div class=\"form-group\"&gt;\n                &lt;/div&gt;\n                &lt;div class=\"form-group\"&gt;\n                    &lt;label for=\"recipient-name\" class=\"control-label\"&gt;Nom:&lt;/label&gt;\n                    &lt;input class=\"form-control required\" id=\"recipient-name\" placeholder=\"Votre nom\" name=\"nom\"\n                        required [(ngModel)]=\"nom\" data-placement=\"top\" data-trigger=\"manual\" data-content=\"Must be at least 3 characters long, and must only contain letters.\"\n                        type=\"text\"&gt;\n                &lt;/div&gt;\n                &lt;div class=\"form-group\"&gt;\n                    &lt;label for=\"sender-email\" class=\"control-label\"&gt;E-mail:&lt;/label&gt;\n                    &lt;input id=\"sender-email\" type=\"text\"  class=\"form-control required\" data-content=\"Must be a valid e-mail address (user@gmail.com)\"\n                        data-trigger=\"manual\" name=\"email\" required [(ngModel)]=\"email\" data-placement=\"top\" placeholder=\"email@you.com\"\n                        &gt;\n                &lt;/div&gt;\n                &lt;div class=\"form-group\"&gt;\n                    &lt;label for=\"recipient-Phone-Number\" class=\"control-label\"&gt;T\u00e9l\u00e9phone:&lt;/label&gt;\n                    &lt;input type=\"text\" name=\"telephone\" [(ngModel)]=\"telephone\" maxlength=\"60\" class=\"form-control\" id=\"recipient-Phone-Number\"&gt;\n                &lt;/div&gt;\n                &lt;div class=\"form-group\"&gt;\n                    &lt;label for=\"message-text\" class=\"control-label\"&gt;Message &lt;span class=\"text-count\"&gt;(300) &lt;/span&gt;:&lt;/label&gt;\n                    &lt;textarea class=\"form-control\" id=\"message-text\" placeholder=\"Your message here..\" name=\"text\"\n                        required [(ngModel)]=\"text\" data-placement=\"top\" data-trigger=\"manual\"&gt;&lt;/textarea&gt;\n                &lt;/div&gt;\n                &lt;div class=\"form-group\"&gt;\n                    &lt;p class=\"help-block pull-left text-danger hide\" id=\"form-error\"&gt;&amp;nbsp; The form is not valid.\n                    &lt;/p&gt;\n                &lt;/div&gt;\n                &lt;div class=\"modal-footer\"&gt;\n                    &lt;button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\"&gt;Retour&lt;/button&gt;\n                    &lt;button type=\"submit\" class=\"btn btn-success pull-right\" (click)=\"sendMsg(f)\"&gt;Envoyer un message!&lt;/button&gt;\n                &lt;/div&gt;\n            &lt;/form&gt;\n            &lt;/div&gt;\n</code></pre>\n\n<p>and here's the typescript part :</p>\n\n<pre><code> sendMsg(f: NgForm) {\nif(this.loginService.loggedIn()){\nconst msg: Message = f.value;\nmsg.lu = false;\n// msg.nom=this.annonce.nompublieur;\nif (this.user != null) {\n  msg.id_sender = this.user._id;\n  msg.etat = \"envoy\u00e9\";  \n}\nmsg.id_receiver = this.annonce.idclient;\nmsg.id_annonce = localStorage.getItem('idann');\nmsg.nom = this.nom;\nmsg.email = this.email;\nmsg.text = this.text;\nmsg.telephone=this.telephone;\n//msg.report_reason=this.report_reason;\n//msg.email=this.annonce.emailpublieur;\nmsg.date = this.date.toDateString() + \" \" + this.date.toTimeString();\nconsole.log(msg.id_annonce);\nconsole.log(msg.id_sender);\nconsole.log(msg.id_receiver);\nconsole.log(msg.nom);\nconsole.log(msg.email);\nconsole.log(msg.telephone);\nconsole.log(msg.text);\nconsole.log(msg);\nthis.detailsService.Addmessage(msg).subscribe();\nconsole.log(\"sent\");\nPromise.resolve(this.detailsAnnonce());\nlocation.reload();}\nelse{\n  alert('login first');\n  this.router.navigate(['/login']);\n}  \n</code></pre>\n\n<p>}</p>\n\n<p>in the app-routing module, I used canActivate:[AuthGuard] which takes the user to the login page once he tries to get in the component, what I want is that the user could go into the componenet but once he click the send message button he should be redirected to the login page</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1566380507, "post_id": 57588722, "comment_id": 101634992, "body": "<code>string[] &amp; { [s: string]: string};</code> should work but an array literal will not be assignable to it so it is of limited value. What is it you are trying to achieve?"}], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 3986776, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3d397fd7349ec9c884dc8c1430027c03?s=128&d=identicon&r=PG&f=1", "display_name": "alloisxp", "link": "https://stackoverflow.com/users/3986776/alloisxp"}, "edited": false, "score": 0, "creation_date": 1566383697, "post_id": 57589575, "comment_id": 101636800, "body": "Thank you, that does the job, only one thing left: If I want to declare an array with strings in it and with a string typed index, how would the syntax look like in typescript? - Thats not so easy to google as I thought because all I got was this object style approach found in my original post"}, {"owner": {"reputation": 91, "user_id": 9252725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb298ab1aae35bb66bf4bcc1ce4cf3b6?s=128&d=identicon&r=PG&f=1", "display_name": "Guizmo", "link": "https://stackoverflow.com/users/9252725/guizmo"}, "reply_to_user": {"reputation": 145, "user_id": 3986776, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3d397fd7349ec9c884dc8c1430027c03?s=128&d=identicon&r=PG&f=1", "display_name": "alloisxp", "link": "https://stackoverflow.com/users/3986776/alloisxp"}, "edited": false, "score": 0, "creation_date": 1566385197, "post_id": 57589575, "comment_id": 101637572, "body": "I&#39;m afraid that an <b>Array</b> can&#39;t do what you&#39;re asking for. According to <a href=\"https://developer.mozilla.org/en-US/docs/Glossary/array\" rel=\"nofollow noreferrer\">MDN documentation</a> <i>Each item in an array has a number attached to it, called a numeric index, that allows you to access it. In JavaScript, arrays start at index zero and can be manipulated with various methods.</i>"}], "tags": [], "owner": {"reputation": 91, "user_id": 9252725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb298ab1aae35bb66bf4bcc1ce4cf3b6?s=128&d=identicon&r=PG&f=1", "display_name": "Guizmo", "link": "https://stackoverflow.com/users/9252725/guizmo"}, "is_accepted": true, "score": 2, "last_activity_date": 1566383302, "creation_date": 1566383302, "answer_id": 57589575, "question_id": 57588722, "link": "https://stackoverflow.com/questions/57588722/how-looks-a-string-array-with-a-string-index-in-a-method-signature/57589575#57589575", "title": "How looks a string array with a string index in a method signature?", "body": "<p>It looks like you misunderstood the <a href=\"https://basarat.gitbooks.io/typescript/docs/types/index-signatures.html\" rel=\"nofollow noreferrer\">Typescript index signature</a> principle. When you're typing <code>keyValue : { [index:string] : string}</code> you're actually <strong>not</strong> defining an <strong>array</strong> at all. You're defining the default signature (~structure) of a Typescript object.</p>\n\n<p>Thus the prototype you've written will accept any object with a string as a key, and a string as a value, eg:</p>\n\n<pre><code>{\n  \"keyOne\": \"valueOne\",\n  \"keyTwo\": \"valueTwo\"\n}\n</code></pre>\n\n<p>In order to iterate over the pairs stored in your object, you can then:</p>\n\n<pre><code>for (let [key, value] of Object.entries(keyValue)) {\n  /* Do something... */\n}\n</code></pre>\n\n<p>I invite you to take a look at this <a href=\"https://stackblitz.com/edit/typescript-qnu3g7\" rel=\"nofollow noreferrer\">stackblitz example</a> I've created to illustrate it. Be careful that indicating an index signature such as the one you proposed <strong>does not</strong> ensure that the given object passed as argument will match (no error will be thrown at runtime).</p>\n"}], "owner": {"reputation": 145, "user_id": 3986776, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3d397fd7349ec9c884dc8c1430027c03?s=128&d=identicon&r=PG&f=1", "display_name": "alloisxp", "link": "https://stackoverflow.com/users/3986776/alloisxp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 57589575, "answer_count": 1, "score": 0, "last_activity_date": 1566383302, "creation_date": 1566380359, "question_id": 57588722, "link": "https://stackoverflow.com/questions/57588722/how-looks-a-string-array-with-a-string-index-in-a-method-signature", "title": "How looks a string array with a string index in a method signature?", "body": "<p>I have the following method:</p>\n\n<pre><code>public test(keyValue : { [index:string] : string} ){\n ...\n}\n</code></pre>\n\n<p>How can I modify the signature so that keyValue (array filled with strings) shall have an index of type string but after that I can use this still as an array (filled also with strings) in something like that (maybe this syntax is also wrong for using key AND value?):</p>\n\n<pre><code>keyValue.forEach(key, value =&gt; {\n    //key is string\n    //value is string\n});\n</code></pre>\n"}, {"tags": ["typescript", "cheerio"], "answers": [{"tags": [], "owner": {"reputation": 125, "user_id": 1381324, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B6wN4.jpg?s=128&g=1", "display_name": "Darek Adamkiewicz", "link": "https://stackoverflow.com/users/1381324/darek-adamkiewicz"}, "is_accepted": false, "score": 1, "last_activity_date": 1566381359, "creation_date": 1566381359, "answer_id": 57589011, "question_id": 57588312, "link": "https://stackoverflow.com/questions/57588312/apply-selector-on-sub-elements-with-cheerio/57589011#57589011", "title": "Apply selector on sub elements with cheerio", "body": "<p>Written from scratch, I'm sure there's a better way to do this:</p>\n\n<pre><code>$('table').each((i, table) =&gt; { if ($(table).find(\"td:contains('Foo')\").length &gt; 0) {$('tr', table).each((i, tr)=&gt;{console.log($(tr).text())})} })\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5713, "user_id": 846163, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/623857ee8390f91edba65fcac0d152ab?s=128&d=identicon&r=PG", "display_name": "sschmeck", "link": "https://stackoverflow.com/users/846163/sschmeck"}, "is_accepted": true, "score": 0, "last_activity_date": 1566389695, "last_edit_date": 1566389695, "creation_date": 1566389220, "answer_id": 57591262, "question_id": 57588312, "link": "https://stackoverflow.com/questions/57588312/apply-selector-on-sub-elements-with-cheerio/57591262#57591262", "title": "Apply selector on sub elements with cheerio", "body": "<p>I found the answer in the documentation of <a href=\"https://cheerio.js.org/#each-functionindex-element-\" rel=\"nofollow noreferrer\"><code>each()</code></a> method. You have to wrap the given <code>element</code> like <code>$(element)</code>.</p>\n\n<pre><code>if ($(table).find(\"td:contains('Foo')\").length &gt; 0) {\n</code></pre>\n\n<p>Finally I solved the problem.</p>\n\n<pre><code>const $ = cheerio.load(xmlText)\nconst isFooTable = (i: number, e: CheerioElement) =&gt;\n  $('td', e).first().text() === 'Foo'\nconst result: { value: string; type: string }[] = []\n\n$('table')\n  .filter(isFooTable)\n  .find('tr')\n  .slice(1)\n  .each((_, tr) =&gt; {\n    const tds = $(tr).find('td')\n    result.push({\n      value: tds.first().text(),\n      type: tds.last().text(),\n    })\n  })\n</code></pre>\n"}], "owner": {"reputation": 5713, "user_id": 846163, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/623857ee8390f91edba65fcac0d152ab?s=128&d=identicon&r=PG", "display_name": "sschmeck", "link": "https://stackoverflow.com/users/846163/sschmeck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 57591262, "answer_count": 2, "score": 0, "last_activity_date": 1566389695, "creation_date": 1566379034, "question_id": 57588312, "link": "https://stackoverflow.com/questions/57588312/apply-selector-on-sub-elements-with-cheerio", "title": "Apply selector on sub elements with cheerio", "body": "<p>I've found no way for applying selectors on <a href=\"https://cheerio.js.org/\" rel=\"nofollow noreferrer\">cheerio</a> elements (version 1.0.0-rc.3). Using <a href=\"https://cheerio.js.org/#traversing\" rel=\"nofollow noreferrer\"><code>find()</code></a> raises an error.</p>\n\n<pre><code>const xmlText = `\n&lt;table&gt;\n  &lt;tr&gt;&lt;td&gt;Foo&lt;/td&gt;&lt;td/&gt;&lt;/tr&gt;\n  &lt;tr&gt;&lt;td&gt;1,2,3&lt;/td&gt;&lt;td&gt;number&lt;/td&gt;&lt;/tr&gt;\n  &lt;tr&gt;&lt;td&gt;A,B&lt;/td&gt;&lt;td&gt;char&lt;/td&gt;&lt;/tr&gt;\n  &lt;!-- more rows --&gt;\n&lt;/table&gt;\n&lt;table&gt;\n  &lt;tr&gt;&lt;td&gt;Bar&lt;/td&gt;&lt;td/&gt;&lt;/tr&gt;\n  &lt;!-- more rows --&gt;\n&lt;/table&gt;\n`\nconst $ = cheerio.load(xmlText)\n$('table').each((i, table) =&gt; {\n  // TODO if first row contains Foo then map the following rows\n  if (table.find(\"td:contains('Foo')\").length &gt; 0) {\n    // ...\n  }\n})\n</code></pre>\n\n<blockquote>\n  <p>Property 'find' does not exist on type 'CheerioElement'.</p>\n</blockquote>\n\n<p>How can I apply selectors of sub elements?</p>\n\n<p>The given example should only process table with first row text <code>Foo</code> and return the following list of objects.</p>\n\n<pre><code>// desired result\n[{ value: '1,2,3', type: 'numbner' }, { value: 'A,B', type: 'char' }, ...]\n</code></pre>\n"}, {"tags": ["angular", "typescript", "asp.net-web-api", "routes", "single-page-application"], "answers": [{"comments": [{"owner": {"reputation": 1358, "user_id": 10143290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zHY4o.jpg?s=128&g=1", "display_name": "I&#241;igo", "link": "https://stackoverflow.com/users/10143290/i%c3%b1igo"}, "edited": false, "score": 0, "creation_date": 1566454012, "post_id": 57588162, "comment_id": 101662286, "body": "Solved with the hash strategy. Thanks!"}], "tags": [], "owner": {"reputation": 3951, "user_id": 3955557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7CD2K.jpg?s=128&g=1", "display_name": "Mario Petrovic", "link": "https://stackoverflow.com/users/3955557/mario-petrovic"}, "is_accepted": true, "score": 1, "last_activity_date": 1566378489, "creation_date": 1566378489, "answer_id": 57588162, "question_id": 57587692, "link": "https://stackoverflow.com/questions/57587692/angular-spa-routes-on-asp-net-web-api-project/57588162#57588162", "title": "Angular SPA routes on ASP.NET Web API project", "body": "<p>So you are on a good mindset for solving this.\nYes, server is trying to access <code>messages/12312</code> in its controllers, and it cannot find it.</p>\n\n<p>So you have 2 solutions:</p>\n\n<ol>\n<li><p>Changed to # way of Angular routing which doesnt require you to modify server. To do that you can see an easy setup for hash strategy here: <a href=\"https://angular.io/guide/router#appendix-locationstrategy-and-browser-url-styles\" rel=\"nofollow noreferrer\">https://angular.io/guide/router#appendix-locationstrategy-and-browser-url-styles</a></p></li>\n<li><p>This option will need you to modify your server settings and intercept all routes. Refer to this article: <a href=\"https://stackoverflow.com/questions/46105793/asp-net-core-angular-2-app-home-routing\">ASP.Net Core + Angular 2 app /home routing</a></p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 45, "user_id": 11862819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e175c824c046d87e39d6152c969e36c8?s=128&d=identicon&r=PG&f=1", "display_name": "teraxxx", "link": "https://stackoverflow.com/users/11862819/teraxxx"}, "is_accepted": false, "score": 1, "last_activity_date": 1566380940, "creation_date": 1566380940, "answer_id": 57588888, "question_id": 57587692, "link": "https://stackoverflow.com/questions/57587692/angular-spa-routes-on-asp-net-web-api-project/57588888#57588888", "title": "Angular SPA routes on ASP.NET Web API project", "body": "<p>Use <strong>HashLocationStrategy</strong> explained here: <a href=\"https://angular.io/guide/router#appendix-locationstrategy-and-browser-url-styles\" rel=\"nofollow noreferrer\">https://angular.io/guide/router#appendix-locationstrategy-and-browser-url-styles</a></p>\n"}], "owner": {"reputation": 1358, "user_id": 10143290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zHY4o.jpg?s=128&g=1", "display_name": "I&#241;igo", "link": "https://stackoverflow.com/users/10143290/i%c3%b1igo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 451, "favorite_count": 2, "accepted_answer_id": 57588162, "answer_count": 2, "score": 1, "last_activity_date": 1566380940, "creation_date": 1566376966, "last_edit_date": 1566379782, "question_id": 57587692, "link": "https://stackoverflow.com/questions/57587692/angular-spa-routes-on-asp-net-web-api-project", "title": "Angular SPA routes on ASP.NET Web API project", "body": "<p>Created an Angular SPA with some routes on it like:</p>\n\n<pre><code>/messages\n/messages/:id\n</code></pre>\n\n<p>With <code>ng serve</code> I can access to that pages with the URL <code>localhost:4200/messages</code> and <code>localhost:4200/messages/:id</code></p>\n\n<p>Then I built the solution and copied the generated content to an ASP.NET Web API 2 project. On the project controller, I set the default route <code>(\"/\")</code> to return the SPA <code>index.html</code> file, so if I run the app I get the SPA with the URL: <code>localhost:51384</code> </p>\n\n<p><strong>From the links on the page</strong> I get to the <em>messages/:id</em> page, and the <strong>showing URL on the browser</strong> is: </p>\n\n<blockquote>\n  <p>localhost:51384/messages/:id</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/YslHe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YslHe.png\" alt=\"URL OK\"></a></p>\n\n<p>From Angular doc I know that the shown URL is local and is not sent to the server. If I try to access to that URL manually, I get an error: </p>\n\n<blockquote>\n  <p>HTTP Error 404.0 - Not Found</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/43K8T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/43K8T.png\" alt=\"URL NOT OK\"></a></p>\n\n<p>That's obvious because on the WebAPI controller there is no rule for <code>/messages/:id</code>. </p>\n\n<p><strong>I am aware that I have a concept problem</strong>, but is there a way to access to the SPA routes with the WebAPI's URL? If not, what is the correct way to integrate a SPA into a .NET project and access to the SPA routes? Should they be accessed only through the page and not through the URL?</p>\n\n<p>Thanks in advance, feel free to comment or vote positive/negative</p>\n"}, {"tags": ["typescript", "rest", "validation", "metadata"], "answers": [{"comments": [{"owner": {"reputation": 1046, "user_id": 5843642, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WPGUh.png?s=128&g=1", "display_name": "Thor_Bux", "link": "https://stackoverflow.com/users/5843642/thor-bux"}, "edited": false, "score": 0, "creation_date": 1566379471, "post_id": 57588203, "comment_id": 101634297, "body": "was hoping that the experimental reflection with emitDecorator and experimentalDecorators would allow for that"}, {"owner": {"reputation": 9738, "user_id": 4858777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R121o.png?s=128&g=1", "display_name": "Valeriy Katkov", "link": "https://stackoverflow.com/users/4858777/valeriy-katkov"}, "reply_to_user": {"reputation": 1046, "user_id": 5843642, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WPGUh.png?s=128&g=1", "display_name": "Thor_Bux", "link": "https://stackoverflow.com/users/5843642/thor-bux"}, "edited": false, "score": 0, "creation_date": 1566380852, "post_id": 57588203, "comment_id": 101635201, "body": "@Thor_Bux Actually, the parsing logic might be implemented inside the http library that has used, but the implementation depends on the library. In general you receive an plain js object from the http call, which should be validated by you somehow."}, {"owner": {"reputation": 1046, "user_id": 5843642, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WPGUh.png?s=128&g=1", "display_name": "Thor_Bux", "link": "https://stackoverflow.com/users/5843642/thor-bux"}, "edited": false, "score": 0, "creation_date": 1566381231, "post_id": 57588203, "comment_id": 101635425, "body": "Yes and I would like to base the validation on typescript type information that I define in the class. Otherwise I have the information in the class and inside my validation code. If the validation code could utilise ts metadata then it should know which property is required."}, {"owner": {"reputation": 9738, "user_id": 4858777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R121o.png?s=128&g=1", "display_name": "Valeriy Katkov", "link": "https://stackoverflow.com/users/4858777/valeriy-katkov"}, "reply_to_user": {"reputation": 1046, "user_id": 5843642, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WPGUh.png?s=128&g=1", "display_name": "Thor_Bux", "link": "https://stackoverflow.com/users/5843642/thor-bux"}, "edited": false, "score": 0, "creation_date": 1566384894, "post_id": 57588203, "comment_id": 101637421, "body": "@Thor_Bux I&#39;ve added reference to class-validator library to the answer, it supports class decorators validation as well. I hope it helps you."}, {"owner": {"reputation": 1046, "user_id": 5843642, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WPGUh.png?s=128&g=1", "display_name": "Thor_Bux", "link": "https://stackoverflow.com/users/5843642/thor-bux"}, "edited": false, "score": 0, "creation_date": 1566427616, "post_id": 57588203, "comment_id": 101657258, "body": "That looks promising I&#39;m going to have a deeper look"}, {"owner": {"reputation": 1046, "user_id": 5843642, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WPGUh.png?s=128&g=1", "display_name": "Thor_Bux", "link": "https://stackoverflow.com/users/5843642/thor-bux"}, "edited": false, "score": 0, "creation_date": 1566890620, "post_id": 57588203, "comment_id": 101786771, "body": "Thanks, does do what I wanted."}], "tags": [], "owner": {"reputation": 9738, "user_id": 4858777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R121o.png?s=128&g=1", "display_name": "Valeriy Katkov", "link": "https://stackoverflow.com/users/4858777/valeriy-katkov"}, "is_accepted": true, "score": 0, "last_activity_date": 1566387875, "last_edit_date": 1566387875, "creation_date": 1566378630, "answer_id": 57588203, "question_id": 57587683, "link": "https://stackoverflow.com/questions/57587683/typescript-class-property-required-during-runtime/57588203#57588203", "title": "Typescript class property required during runtime", "body": "<p>All the type checking is about compile time, there are no type checks at run time. If you want to be sure that an received object is valid, you should check it manually or use an library, that will somehow validate the server response.</p>\n\n<p>I can suggest <a href=\"https://github.com/typestack/class-validator\" rel=\"nofollow noreferrer\">class-validator</a> that supports class validation using decorators as well as plain object validation. To use the class validation, an object should be transformed into the class instance using <code>new Class()</code> syntax, see <a href=\"https://github.com/typestack/class-validator#validating-plain-objects\" rel=\"nofollow noreferrer\">Validating plain objects</a> section for more details.</p>\n"}], "owner": {"reputation": 1046, "user_id": 5843642, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WPGUh.png?s=128&g=1", "display_name": "Thor_Bux", "link": "https://stackoverflow.com/users/5843642/thor-bux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 222, "favorite_count": 0, "accepted_answer_id": 57588203, "answer_count": 1, "score": 0, "last_activity_date": 1566387875, "creation_date": 1566376943, "question_id": 57587683, "link": "https://stackoverflow.com/questions/57587683/typescript-class-property-required-during-runtime", "title": "Typescript class property required during runtime", "body": "<p>is it possible to find out if a class property is declared required in Typescript during runtime? </p>\n\n<pre><code>export class A {\n  public readonly ab?: number;\n  public readonly ac?: number;\n  public readonly ad: number;\n  public readonly ae: number;\n}\n</code></pre>\n\n<p>Is it possible to use emitDecoratorMetadata or experimentalDecorators to tell that ad and ae are required?</p>\n\n<p>I'm asking because I'm writing a REST API and the object of A is automatically generated and I would like to validate if ad and ae are actually set when the request POST data is coming in.</p>\n\n<p>Many thanks in advance</p>\n"}, {"tags": ["angular", "typescript", "maps", "here-api", "here-maps-rest"], "answers": [{"tags": [], "owner": {"reputation": 6669, "user_id": 3505695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ni0YL.png?s=128&g=1", "display_name": "HERE Developer Support", "link": "https://stackoverflow.com/users/3505695/here-developer-support"}, "is_accepted": true, "score": 0, "last_activity_date": 1567000844, "creation_date": 1567000844, "answer_id": 57694232, "question_id": 57587574, "link": "https://stackoverflow.com/questions/57587574/here-map-buttons-is-visible-below-the-map-and-cannot-set-map-height-to-100-usin/57694232#57694232", "title": "here map buttons is visible below the map and cannot set map height to 100% using Angular", "body": "<p>You cannot specify the height of the map container (div) in percentage, since it defaults to zero (a 'div' gets its default height based on it contents. So an empty 'div' has zero height and therefore the map is not visible). You can specify the height as <code>100vh</code> and the map should cover the whole viewport vertically.</p>\n"}], "owner": {"reputation": 3, "user_id": 7735312, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SUWSE.jpg?s=128&g=1", "display_name": "Mohammad Kahhaleh", "link": "https://stackoverflow.com/users/7735312/mohammad-kahhaleh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 57694232, "answer_count": 1, "score": 0, "last_activity_date": 1567000844, "creation_date": 1566376606, "last_edit_date": 1566377539, "question_id": 57587574, "link": "https://stackoverflow.com/questions/57587574/here-map-buttons-is-visible-below-the-map-and-cannot-set-map-height-to-100-usin", "title": "here map buttons is visible below the map and cannot set map height to 100% using Angular", "body": "<p>after creating the map and showing it up there is something weird happening which is the map buttons \"Zoom rectangular, map settings and the scale bar\" is being visible below the map as large icons also I'm facing a problem when i set the map width and height as 100% if i set the map height in pixels map works perfectly other wise it's only visible when i resize my chrome page. </p>\n\n<p>I've tried to set different default layer types such as normal and satellite maps\nand about the width and height problem I've tried to set it fixed with different heights and it works perfectly but once i set it as 100% it the map disappears and I'm able to see large map buttons \"zoom rectangular, scale bar and map settings\"   </p>\n\n<blockquote>\n<pre><code>public ngAfterViewInit() {\n    let defaultLayers = this.platform.createDefaultLayers();\n    defaultLayers.normal.map.setMin(5);\n\n    this.map = new H.Map(\n      document.getElementById(\"mapId\"),\n      defaultLayers.normal.map,\n      {\n        center: { lat: \"0\", lng: \"0\" }\n      }\n    );   \n    this.ui = H.ui.UI.createDefault(this.map, defaultLayers);\n\n    this.ui.getControl('mapsettings').setAlignment('top-left');\n    this.ui.getControl('zoom').setAlignment('top-left');\n    this.ui.getControl('scalebar').setAlignment('top-left');\n  }\n</code></pre>\n</blockquote>\n\n<p>Expected is to be able to see map buttons on the map it self not under the main map also to be able to set height as 100%</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 519, "user_id": 7964871, "user_type": "registered", "profile_image": "https://graph.facebook.com/240282476453477/picture?type=large", "display_name": "Ilia Tapia", "link": "https://stackoverflow.com/users/7964871/ilia-tapia"}, "is_accepted": true, "score": 0, "last_activity_date": 1567072133, "creation_date": 1567072133, "answer_id": 57707512, "question_id": 57587464, "link": "https://stackoverflow.com/questions/57587464/angular-warning-grid-zero-width-when-using-ag-grids-sizecolumnstofit-on-t/57707512#57707512", "title": "angular - Warning &#39;grid zero width&#39; when using ag-Grid&#39;s sizeColumnsToFit() on two separate ag-Grids?", "body": "<p>You can use the selectChange event provided by . It fires when a tab selection is changed. From the documentation:</p>\n\n<blockquote>\n  <p>@Output() selectChange : Event emitted when the tab selection has\n  changed.</p>\n</blockquote>\n\n<p>In your template:</p>\n\n<pre><code>&lt;md-tab-group (selectChange)=\"tabSelectionChanged($event)\"&gt;\n  &lt;md-tab label=\"Tab 1\"&gt;Content 1&lt;/md-tab&gt;\n  &lt;md-tab label=\"Tab 2\"&gt;\n    This tab will load some morecontents after 5 seconds.\n    &lt;p&gt;{{ moreContents }}&lt;/p&gt;\n  &lt;/md-tab&gt;\n&lt;/md-tab-group&gt;\n... and in your typescript code:\n\ntabSelectionChanged(event){\n    // Get the selected tab\n    let selectedTab = event.tab;\n    console.log(selectedTab);\n\n    // Call some method that you want \n    this.someMethod();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12524470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c15c4c3bcb6ba2008e425a60437bd35?s=128&d=identicon&r=PG&f=1", "display_name": "sureshbabu", "link": "https://stackoverflow.com/users/12524470/sureshbabu"}, "is_accepted": false, "score": -1, "last_activity_date": 1576150813, "creation_date": 1576150813, "answer_id": 59303777, "question_id": 57587464, "link": "https://stackoverflow.com/questions/57587464/angular-warning-grid-zero-width-when-using-ag-grids-sizecolumnstofit-on-t/59303777#59303777", "title": "angular - Warning &#39;grid zero width&#39; when using ag-Grid&#39;s sizeColumnsToFit() on two separate ag-Grids?", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>this is working code.\r\n\r\n//component.html\r\n\r\n &lt;mat-tab-group (selectedTabChange)=\"selectedTabChange($event)\"&gt;\r\n            &lt;mat-tab label=\"Letter Template\"&gt;\r\n                 &lt;div class=\"ag-grid-full-height\"&gt;\r\n                     &lt;ag-grid-angular style=\"width: 100%;height:100%\" id=\"myGrid\" class=\"ag-theme-balham\"\r\n                        [pagination]=\"true\" [columnDefs]=\"columnDefs\" [rowData]=\"rowData\" [animateRows]=\"true\"\r\n                        [sideBar]=\"sideBar\" (gridReady)=\"onGridReady($event)\" [suppressMenuHide]=\"true\"&gt;\r\n                    &lt;/ag-grid-angular&gt;\r\n                &lt;/div&gt;\r\n            &lt;/mat-tab&gt;\r\n\r\n            &lt;mat-tab label=\"Template Gallery\"&gt;\r\n                &lt;app-template-gallery *ngIf=\"seletedTab\"&gt;&lt;/app-template-gallery&gt;\r\n            &lt;/mat-tab&gt;\r\n\r\n            &lt;!-- //if you have more than 2 tabs use bellow approch. --&gt;\r\n            \r\n            &lt;!-- &lt;mat-tab label=\"Template Gallery\"&gt;\r\n                &lt;app-template-gallery *ngIf=\"seletedTab =='Template Gallery'\"&gt;&lt;/app-template-gallery&gt;\r\n            &lt;/mat-tab&gt; --&gt;\r\n            &lt;!-- &lt;mat-tab label=\"Template FRT\"&gt;\r\n                &lt;app-template-gallery *ngIf=\"seletedTab=='Template FRT'\"&gt;&lt;/app-template-gallery&gt;\r\n            &lt;/mat-tab&gt; --&gt;\r\n\r\n        &lt;/mat-tab-group&gt;\r\n        \r\n        \r\n   //component.ts     \r\n   seletedTab;\r\n\r\n  selectedTabChange(event) {\r\n    let tab = event.tab;\r\n    console.log(\"tab seleted\", tab);\r\n    this.seletedTab = tab.textLabel;\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 519, "user_id": 7964871, "user_type": "registered", "profile_image": "https://graph.facebook.com/240282476453477/picture?type=large", "display_name": "Ilia Tapia", "link": "https://stackoverflow.com/users/7964871/ilia-tapia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 698, "favorite_count": 0, "accepted_answer_id": 57707512, "answer_count": 2, "score": 0, "last_activity_date": 1576150813, "creation_date": 1566376151, "last_edit_date": 1573459454, "question_id": 57587464, "link": "https://stackoverflow.com/questions/57587464/angular-warning-grid-zero-width-when-using-ag-grids-sizecolumnstofit-on-t", "title": "angular - Warning &#39;grid zero width&#39; when using ag-Grid&#39;s sizeColumnsToFit() on two separate ag-Grids?", "body": "<p>I have a problem with ag-grid, I am getting in the console this warning, I did some research but none of them solve my problem, and I don't know what is wrong with my code, from angular material I understood was a memory leak in mine application, but I don't get it.</p>\n\n<blockquote>\n  <p>ag-Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?</p>\n</blockquote>\n\n<p>Please,</p>\n\n<p>if you have an idea how to fix, or if something is wrong in my code I would really appreciate even the smallest help.</p>\n\n<blockquote>\n  <p>What I tried :</p>\n</blockquote>\n\n<pre><code>@HostListener('window:resize')\nonResize() {\n  if (!this.gridApi) return;\n\n  setTimeout(() =&gt; {\n    this.gridApi.sizeColumnsToFit();\n  });\n}\n</code></pre>\n\n<p>this one :</p>\n\n<pre><code> afterGridReady() {\n    if (this.language === 'en') {\n      this.appgrid.columnApi.setColumnsVisible(['name'], true);\n      this.appgrid.columnApi.setColumnsVisible(['nameCZ'], false);\n    } else {\n      this.appgrid.columnApi.setColumnsVisible(['nameCZ'], true);\n      this.appgrid.columnApi.setColumnsVisible(['name'], false);\n    }\n    this.api.sizeColumnsToFit();\n    window.addEventListener('resize', function () {\n      setTimeout(function () {\n        this.api.sizeColumnsToFit();\n      });\n    });\n  }\n</code></pre>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["html", "angular", "typescript", "dynamic", "getelementbyid"], "comments": [{"owner": {"reputation": 12353, "user_id": 64157, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/05c464e1200aa91a096c4667f9b59609?s=128&d=identicon&r=PG", "display_name": "HaukurHaf", "link": "https://stackoverflow.com/users/64157/haukurhaf"}, "edited": false, "score": 1, "creation_date": 1566375685, "post_id": 57587260, "comment_id": 101632228, "body": "I guess it&#39;s a timing issue - the element has probably not been created yet when setTime() runs."}, {"owner": {"reputation": 183, "user_id": 11837343, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NQQlwLxJ7U0/AAAAAAAAAAI/AAAAAAAABDI/yA7zR_yqryo/photo.jpg?sz=128", "display_name": "Andrea Favero", "link": "https://stackoverflow.com/users/11837343/andrea-favero"}, "reply_to_user": {"reputation": 12353, "user_id": 64157, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/05c464e1200aa91a096c4667f9b59609?s=128&d=identicon&r=PG", "display_name": "HaukurHaf", "link": "https://stackoverflow.com/users/64157/haukurhaf"}, "edited": false, "score": 0, "creation_date": 1566375745, "post_id": 57587260, "comment_id": 101632261, "body": "the element is created inside the setTime() function.. there&#39;s a way to wait until it&#39;s fully created?"}, {"owner": {"reputation": 2863, "user_id": 9395772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GKP1C.png?s=128&g=1", "display_name": "G&#233;r&#244;me Grignon", "link": "https://stackoverflow.com/users/9395772/g%c3%a9r%c3%b4me-grignon"}, "edited": false, "score": 0, "creation_date": 1566375968, "post_id": 57587260, "comment_id": 101632362, "body": "id=&quot;&quot; expect a string value. Check your devtools, you should see id=&quot;timer0{{i}}&quot; for each item rather than id=&quot;timer01&quot;. Try with [id]=&quot;timer0{{i}}&quot;"}, {"owner": {"reputation": 183, "user_id": 11837343, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NQQlwLxJ7U0/AAAAAAAAAAI/AAAAAAAABDI/yA7zR_yqryo/photo.jpg?sz=128", "display_name": "Andrea Favero", "link": "https://stackoverflow.com/users/11837343/andrea-favero"}, "edited": false, "score": 0, "creation_date": 1566376224, "post_id": 57587260, "comment_id": 101632499, "body": "nope, the span id are created dynamically and the {{i}} value is taken from &quot;let i = index&quot; inside the &lt;&#39;li&gt; tag. i&#39;ve checked and they works fine (their id are &quot;timer00&quot;, &quot;timer01&quot;...)"}, {"owner": {"reputation": 2896, "user_id": 11829408, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BpCGjf2VxNQ/AAAAAAAAAAI/AAAAAAAAAzU/GdHCkNfIFGI/photo.jpg?sz=128", "display_name": "Greedo", "link": "https://stackoverflow.com/users/11829408/greedo"}, "edited": false, "score": 0, "creation_date": 1566377600, "post_id": 57587260, "comment_id": 101633184, "body": "Is the element inserted in the DOM after its creation? because for the <code>document.getElementById</code> to work you need that the element is in the DOM, not just in a variable"}, {"owner": {"reputation": 183, "user_id": 11837343, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NQQlwLxJ7U0/AAAAAAAAAAI/AAAAAAAABDI/yA7zR_yqryo/photo.jpg?sz=128", "display_name": "Andrea Favero", "link": "https://stackoverflow.com/users/11837343/andrea-favero"}, "edited": false, "score": 0, "creation_date": 1566378487, "post_id": 57587260, "comment_id": 101633712, "body": "ciao Andrea, credo tu sia italiano &#39;:D il DOM? scusa son un novizio di angular... comunque credo sia apposto perch&#233; se premo il pulsante di &quot;check&quot; (e testo con un id statico, tipo &quot;timer 01&quot;) mi viene restituito il tag completo... quindi credo sia un problema di timing"}], "owner": {"reputation": 183, "user_id": 11837343, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NQQlwLxJ7U0/AAAAAAAAAAI/AAAAAAAABDI/yA7zR_yqryo/photo.jpg?sz=128", "display_name": "Andrea Favero", "link": "https://stackoverflow.com/users/11837343/andrea-favero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 441, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566377756, "creation_date": 1566375407, "question_id": 57587260, "link": "https://stackoverflow.com/questions/57587260/cant-set-the-innerhtml-of-an-span-created-dynamically-angular", "title": "Can&#39;t set the .innerHTML of an &lt;span&gt; created dynamically (Angular)", "body": "<p>I'm trying to change the text inside a &lt;'span> generated dynamically.\nThe &lt;'span> is generated inside a list (&lt;'ul>&lt;'li>) that change its number of item (li) if a selection was changed.</p>\n\n<p>this is the dynamic list (it works)</p>\n\n<pre><code>&lt;ul *ngIf=\"placeholder[0]\"&gt;\n  &lt;li *ngFor=\"let time of placeholder[0], let i = index\" &gt;\n    &lt;div&gt;&lt;span id=\"timer0{{i}}\"&gt; lol &lt;/span&gt;&lt;span *ngIf=\"timer[0].timeLeft[i] &gt; 0\"&gt; : {{timer[0].timeLeft[i]}} secondi &lt;button (click)=\"restart(0, i)\"&gt; reset qua&lt;/button&gt;&lt;button (click)=\"check()\"&gt; check div&lt;/button&gt;&lt;/span&gt;&lt;/div&gt;\n  &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>This is the Typescript code in which i'm trying to change the text inside the <code>&lt;span id = \"timer0{{i}}\"&gt;</code></p>\n\n<pre><code>setTime(i: number){\n    //setting del timer (azzero tutti i campi)\n    this.placeholder[i]=[]\n\n    this.timer[i].lunghezza = Object.keys(this.datiX.fileJson.ricette[this.datiX.postazioniNome[this.datiX.defPostazione]][this.datiX.ricetta[i]]).length;\n\n    for (let j = 0; j &lt; this.timer[i].lunghezza; j++) {    \n      this.placeholder[i][j] = [\"\"]\n    }\n\n    for (let j = 0; j &lt; this.timer[i].lunghezza; j++) {    \n      this.pauseTimer(i, j);\n\n      this.timer[i].inizio[j] = 0;\n      this.timer[i].fine[j] = Object.keys(this.datiX.fileJson.ricette[this.datiX.postazioniNome[this.datiX.defPostazione]][this.datiX.ricetta[i]][j]).length;\n      this.timer[i].timeLeft[j] = &lt;number&gt; &lt;unknown&gt;Object.keys(this.datiX.fileJson.ricette[this.datiX.postazioniNome[this.datiX.defPostazione]][this.datiX.ricetta[i]][j][0])[this.timer[i].inizio[j]];\n    }\n\n    console.log(\"check: \",document.getElementById('timer01'))\n\n  }\n</code></pre>\n\n<p><strong>console.log(\"check: \",document.getElementById('timer01'))</strong> gives me = <code>null</code> inside the function, but if i call a function (after pressing the check button) that print it, it gives me the correct value (\"lol\")... </p>\n\n<p>what i'm doing wrong?</p>\n"}, {"tags": ["angular", "typescript", "angular6"], "answers": [{"comments": [{"owner": {"reputation": 181, "user_id": 11055141, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_WxDkwjzeUg/AAAAAAAAAAI/AAAAAAAAFGw/xlf9KeSVdDE/photo.jpg?sz=128", "display_name": "Tarun Bhati", "link": "https://stackoverflow.com/users/11055141/tarun-bhati"}, "edited": false, "score": 0, "creation_date": 1566376841, "post_id": 57587439, "comment_id": 101632793, "body": "Tried your solution, It make no difference in output. Output remains same."}], "tags": [], "owner": {"reputation": 1509, "user_id": 1358397, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/aee045b61a26cad3c257d85a7979c2f4?s=128&d=identicon&r=PG", "display_name": "Krishna Rani Sahoo", "link": "https://stackoverflow.com/users/1358397/krishna-rani-sahoo"}, "is_accepted": false, "score": 0, "last_activity_date": 1566376076, "creation_date": 1566376076, "answer_id": 57587439, "question_id": 57587226, "link": "https://stackoverflow.com/questions/57587226/group-every-6-elements-in-div-with-remaining-last-elements/57587439#57587439", "title": "Group every 6 elements in DIV with remaining last elements", "body": "<p>You should also check if any remainder is there after you group by 6. Here is a sample code</p>\n\n<pre><code>&lt;ng-container *ngFor=\"let item of mockData; let i = index;\"&gt;\n          &lt;div class=\"inner-wrap\" *ngIf=\"(( (i+6) &lt; mockData.length) &amp;&amp; ((i+1) % 6 ==0)) || (i == mockData.length - (mockData.length % 6))\"&gt;\n            &lt;p *ngIf=\"mockData[i-5]\"&gt;{{ mockData[i-5] }}&lt;/p&gt;\n            &lt;p *ngIf=\"mockData[i-4]\"&gt;{{ mockData[i-4] }}&lt;/p&gt;\n            &lt;p *ngIf=\"mockData[i-3]\"&gt;{{ mockData[i-3] }}&lt;/p&gt;\n            &lt;p *ngIf=\"mockData[i-2]\"&gt;{{ mockData[i-2] }}&lt;/p&gt;\n            &lt;p *ngIf=\"mockData[i-1]\"&gt;{{ mockData[i-1] }}&lt;/p&gt;\n            &lt;p&gt;{{ item  }} &lt;/p&gt;\n          &lt;/div&gt; \n&lt;/ng-container&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 181, "user_id": 11055141, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_WxDkwjzeUg/AAAAAAAAAAI/AAAAAAAAFGw/xlf9KeSVdDE/photo.jpg?sz=128", "display_name": "Tarun Bhati", "link": "https://stackoverflow.com/users/11055141/tarun-bhati"}, "edited": false, "score": 0, "creation_date": 1566383499, "post_id": 57588645, "comment_id": 101636702, "body": "Tried this  code, same issue.  For an array of lets say 13 items , your code will fail at (arr.length%count)."}, {"owner": {"reputation": 685, "user_id": 5385135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r9D6X.jpg?s=128&g=1", "display_name": "Bahador Raghibizadeh", "link": "https://stackoverflow.com/users/5385135/bahador-raghibizadeh"}, "reply_to_user": {"reputation": 181, "user_id": 11055141, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_WxDkwjzeUg/AAAAAAAAAAI/AAAAAAAAFGw/xlf9KeSVdDE/photo.jpg?sz=128", "display_name": "Tarun Bhati", "link": "https://stackoverflow.com/users/11055141/tarun-bhati"}, "edited": false, "score": 0, "creation_date": 1566384165, "post_id": 57588645, "comment_id": 101637029, "body": "Edited and tested"}], "tags": [], "owner": {"reputation": 685, "user_id": 5385135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r9D6X.jpg?s=128&g=1", "display_name": "Bahador Raghibizadeh", "link": "https://stackoverflow.com/users/5385135/bahador-raghibizadeh"}, "is_accepted": false, "score": 0, "last_activity_date": 1566384086, "last_edit_date": 1566384086, "creation_date": 1566380092, "answer_id": 57588645, "question_id": 57587226, "link": "https://stackoverflow.com/questions/57587226/group-every-6-elements-in-div-with-remaining-last-elements/57588645#57588645", "title": "Group every 6 elements in DIV with remaining last elements", "body": "<pre><code>&lt;ng-container *ngFor=\"let groupIndex of createGroup(mockData, 6);\"&gt;\n    &lt;div class=\"inner-wrap\"&gt;\n        &lt;p *ngIf=\"mockData[(groupIndex*6)]\"&gt;{{ mockData[(groupIndex*6)] }}&lt;/p&gt;\n        &lt;p *ngIf=\"mockData[(groupIndex*6)+1]\"&gt;{{ mockData[(groupIndex*6)+1] }}&lt;/p&gt;\n        &lt;p *ngIf=\"mockData[(groupIndex*6)+2]\"&gt;{{ mockData[(groupIndex*6)+2] }}&lt;/p&gt;\n        &lt;p *ngIf=\"mockData[(groupIndex*6)+3]\"&gt;{{ mockData[(groupIndex*6)+3] }}&lt;/p&gt;\n        &lt;p *ngIf=\"mockData[(groupIndex*6)+4]\"&gt;{{ mockData[(groupIndex*6)+4] }}&lt;/p&gt;\n        &lt;p *ngIf=\"mockData[(groupIndex*6)+5]\"&gt;{{ mockData[(groupIndex*6)+5] }}&lt;/p&gt;\n    &lt;/div&gt;\n&lt;/ng-container&gt;\n</code></pre>\n\n<p>append this method to your component:</p>\n\n<pre><code>createGroup(arr, count){\n    let grouplist = [];\n    let maxNum = (arr.length % count) == 0 ? (arr.length / count) : (arr.length / count)+1;\n\n    for(var i = 0; i &lt; maxNum; i++) {\n        grouplist.push(i);\n    }\n    return grouplist;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2713, "user_id": 6611487, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/m9imL.jpg?s=128&g=1", "display_name": "boop_the_snoot", "link": "https://stackoverflow.com/users/6611487/boop-the-snoot"}, "is_accepted": true, "score": 0, "last_activity_date": 1566384693, "last_edit_date": 1566384693, "creation_date": 1566380979, "answer_id": 57588900, "question_id": 57587226, "link": "https://stackoverflow.com/questions/57587226/group-every-6-elements-in-div-with-remaining-last-elements/57588900#57588900", "title": "Group every 6 elements in DIV with remaining last elements", "body": "<p>The idea is to create sub-arrays, iterate them, and then iterate each sub-array to show up as a <code>div</code> element</p>\n\n<hr>\n\n<p>In your <code>.ts</code> file, create a function like this:</p>\n\n<pre><code>  createMockGroup() {\n    return (mockData || [])\n      .reduce((a, _, i, arr) =&gt; {\n        if (i % 6 === 0)\n          a.push(arr.slice(i, i + 6));\n        return a;\n      }, []);\n  }\n</code></pre>\n\n<p>In your <code>.html</code> file, modify the content as:</p>\n\n<pre><code>&lt;ng-container *ngFor=\"let group of createMockGroup()\"&gt;\n    &lt;div class=\"inner-wrap\"&gt;\n      &lt;ng-container *ngFor=\"let item of group\"&gt;\n         &lt;p&gt;{{ item }} &lt;/p&gt;\n      &lt;/ng-container&gt;\n    &lt;/div&gt;\n&lt;/ng-container&gt;\n</code></pre>\n\n<p>In this example you don't need to use <code>index</code> at all</p>\n"}, {"tags": [], "owner": {"reputation": 1403, "user_id": 7219473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea9bd6cb715ad22fdb60d3ca6cbed21?s=128&d=identicon&r=PG&f=1", "display_name": "Shalom Peles", "link": "https://stackoverflow.com/users/7219473/shalom-peles"}, "is_accepted": false, "score": 0, "last_activity_date": 1566382899, "creation_date": 1566382899, "answer_id": 57589467, "question_id": 57587226, "link": "https://stackoverflow.com/questions/57587226/group-every-6-elements-in-div-with-remaining-last-elements/57589467#57589467", "title": "Group every 6 elements in DIV with remaining last elements", "body": "<p>Based on your code:</p>\n\n<pre><code>&lt;ng-container *ngFor=\"let item of mockData; let i = index;\"&gt;\n  &lt;div class=\"inner-wrap\" *ngIf=\"i % 6 ==0\"&gt;\n    &lt;p&gt;{{ item  }} &lt;/p&gt;\n    &lt;p *ngIf=\"mockData[i+1]\"&gt;{{ mockData[i+1] }}&lt;/p&gt;\n    &lt;p *ngIf=\"mockData[i+2]\"&gt;{{ mockData[i+2] }}&lt;/p&gt;\n    &lt;p *ngIf=\"mockData[i+3]\"&gt;{{ mockData[i+3] }}&lt;/p&gt;\n    &lt;p *ngIf=\"mockData[i+4]\"&gt;{{ mockData[i+4] }}&lt;/p&gt;\n    &lt;p *ngIf=\"mockData[i+5]\"&gt;{{ mockData[i+5] }}&lt;/p&gt;\n  &lt;/div&gt;\n&lt;/ng-container&gt;\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-wvzyvv\" rel=\"nofollow noreferrer\">Live demo</a></p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user11118649"}, "is_accepted": false, "score": 0, "last_activity_date": 1566386479, "creation_date": 1566386479, "answer_id": 57590489, "question_id": 57587226, "link": "https://stackoverflow.com/questions/57587226/group-every-6-elements-in-div-with-remaining-last-elements/57590489#57590489", "title": "Group every 6 elements in DIV with remaining last elements", "body": "<p>in your component </p>\n\n<pre><code>@Pipe({\n    name: 'filter'\n})\n@Injectable()\nexport class FilterPipe implements PipeTransform {\n    transform(items: any[]): any[] {\n     const R = [];\n     for (var i = 0; i &lt; items.length; i += 6) {\n      R.push(items.slice(i, i + 6));\n     }\n     return R\n    }\n}\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent  {\n  number = ['', ' ', '', '', '', '', '', '' ]\n\n}\n</code></pre>\n\n<p>and in html </p>\n\n<pre><code>&lt;div *ngFor=\"let item of number | filter ; let i = index\" style=\"border: 1px solid;margin-bottom:20px\"&gt;\n&lt;div *ngFor=\"let item of item; let j = index\" style=\"\"&gt;\n  element {{i}} , {{j}}\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>stackblitz-<a href=\"https://stackblitz.com/edit/angular-ppnxnm\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-ppnxnm</a></p>\n"}], "owner": {"reputation": 181, "user_id": 11055141, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_WxDkwjzeUg/AAAAAAAAAAI/AAAAAAAAFGw/xlf9KeSVdDE/photo.jpg?sz=128", "display_name": "Tarun Bhati", "link": "https://stackoverflow.com/users/11055141/tarun-bhati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 57588900, "answer_count": 5, "score": 1, "last_activity_date": 1566386479, "creation_date": 1566375234, "question_id": 57587226, "link": "https://stackoverflow.com/questions/57587226/group-every-6-elements-in-div-with-remaining-last-elements", "title": "Group every 6 elements in DIV with remaining last elements", "body": "<p>I have an array with n no of items,  I want to group every 6 of them in a seperate div's. but suppose I have 15 items in array . I am not able to group last three remaining items.</p>\n\n<p>I tried the following and it groups every 6 elements well. but not last last remaining 3 items.</p>\n\n<pre><code>&lt;ng-container *ngFor=\"let item of mockData; let i = index;\"&gt;\n          &lt;div class=\"inner-wrap\" *ngIf=\"(i+1) % 6 ==0\"&gt;\n            &lt;p *ngIf=\"mockData[i-5]\"&gt;{{ mockData[i-5] }}&lt;/p&gt;\n            &lt;p *ngIf=\"mockData[i-4]\"&gt;{{ mockData[i-4] }}&lt;/p&gt;\n            &lt;p *ngIf=\"mockData[i-3]\"&gt;{{ mockData[i-3] }}&lt;/p&gt;\n            &lt;p *ngIf=\"mockData[i-2]\"&gt;{{ mockData[i-2] }}&lt;/p&gt;\n            &lt;p *ngIf=\"mockData[i-1]\"&gt;{{ mockData[i-1] }}&lt;/p&gt;\n            &lt;p&gt;{{ item  }} &lt;/p&gt;\n          &lt;/div&gt;\n&lt;/ng-container&gt;\n</code></pre>\n"}, {"tags": ["typescript", "parcel", "svelte"], "answers": [{"comments": [{"owner": {"reputation": 86, "user_id": 5675566, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000884473730/picture?type=large", "display_name": "Renan Fagundes", "link": "https://stackoverflow.com/users/5675566/renan-fagundes"}, "edited": false, "score": 0, "creation_date": 1571670262, "post_id": 57629050, "comment_id": 103308513, "body": "Hi Daniel, thanks for the example. I am wondering if it&#39;s possible to use a framework to unit test the components created in that structure."}], "tags": [], "owner": {"reputation": 560, "user_id": 3497669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eojmP.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3497669/daniel"}, "is_accepted": true, "score": 2, "last_activity_date": 1566573469, "creation_date": 1566573469, "answer_id": 57629050, "question_id": 57586945, "link": "https://stackoverflow.com/questions/57586945/svelte-withtypescript-using-parcel/57629050#57629050", "title": "Svelte withTypescript using Parcel", "body": "<p>Nevermind. I managed to figure it out. I made a working example on <a href=\"https://github.com/dafn/svelte-typescript-parcel\" rel=\"nofollow noreferrer\">Github</a></p>\n"}], "owner": {"reputation": 560, "user_id": 3497669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eojmP.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3497669/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 557, "favorite_count": 0, "accepted_answer_id": 57629050, "answer_count": 1, "score": 1, "last_activity_date": 1566573469, "creation_date": 1566374192, "question_id": 57586945, "link": "https://stackoverflow.com/questions/57586945/svelte-withtypescript-using-parcel", "title": "Svelte withTypescript using Parcel", "body": "<p>I have seen that one can use rollup to allow for Svelte components written in typescript, but is it possible to do the same with Parcel? If yes, how?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 5843, "user_id": 1305699, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/90b26870755dba21f7065479059640ed?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1305699/joe"}, "edited": false, "score": 1, "creation_date": 1566380897, "post_id": 57587290, "comment_id": 101635224, "body": "It&#39;s interesting, because you say &quot;how do you know that there is test2 nested property on it?&quot;, but I could equally ask, how do I know there&#39;s a <code>test</code> property on it? The <code>[key: string]</code> says that there could be any string properties - but there might not be one called <code>test</code>, or even any at all. It seems inconsistent. Similarly, it assumes it&#39;s a string. So I could do <code>thing.test.trim()</code>, even though it could be a nested object."}, {"owner": {"reputation": 18501, "user_id": 186822, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/EZ6R7.jpg?s=128&g=1", "display_name": "Nenad", "link": "https://stackoverflow.com/users/186822/nenad"}, "reply_to_user": {"reputation": 5843, "user_id": 1305699, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/90b26870755dba21f7065479059640ed?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1305699/joe"}, "edited": false, "score": 0, "creation_date": 1566381100, "post_id": 57587290, "comment_id": 101635354, "body": "You defined that there can be a key of any name on the root object. It can be <code>test</code> or, for example, <code>random</code>. Try line <code>const output = thing.random.test2.test3</code> and you will get exactly same error as with <code>test</code> property."}], "tags": [], "owner": {"reputation": 18501, "user_id": 186822, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/EZ6R7.jpg?s=128&g=1", "display_name": "Nenad", "link": "https://stackoverflow.com/users/186822/nenad"}, "is_accepted": true, "score": 1, "last_activity_date": 1566375510, "creation_date": 1566375510, "answer_id": 57587290, "question_id": 57586853, "link": "https://stackoverflow.com/questions/57586853/property-does-not-exist-on-type-with-union-types/57587290#57587290", "title": "Property does not exist on type with union types", "body": "<p>This error is valid for the interface you defined.</p>\n\n<p>If you receive serialized value of <code>MappingReferenceValues</code> type and deserialize it, how do you know that there is <code>test2</code> nested property on it?</p>\n\n<p><em>It is more logical in the example which uses <code>MappingReferenceValues</code> as input parameter of a function:</em></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function parse(value: MappingReferenceValues) {\n    value./* We don't know keys, nor types after the dot */\n}\n</code></pre>\n\n<p>If you need to manipulate variable <code>thing</code> that you just created further then omit type definition. You can still pass it to a function that expects <code>MappingReferenceValues</code> type.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function parse(value: MappingReferenceValues) {\n    /* TODO */\n}\n\nconst thing = {\n    test: {\n        test2: {\n            test3: \"hi\",\n            test4: 200,\n            test5: [true, false]\n        }\n    }\n};\n\nconst output = thing.test.test2.test3; // working\n\nparse(thing); // also working;\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5306, "user_id": 2903466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/73a1642f48317c13cf1b6d2075ab15ee?s=128&d=identicon&r=PG", "display_name": "amit77309", "link": "https://stackoverflow.com/users/2903466/amit77309"}, "is_accepted": false, "score": 1, "last_activity_date": 1566383658, "last_edit_date": 1566383658, "creation_date": 1566377227, "answer_id": 57587774, "question_id": 57586853, "link": "https://stackoverflow.com/questions/57586853/property-does-not-exist-on-type-with-union-types/57587774#57587774", "title": "Property does not exist on type with union types", "body": "<pre><code>const thing: MappingReferenceValues = {\n  test: {\n    test2: {\n      test3: \"hi\",\n      test4: 200,\n      test5: [true, false]\n    }\n  },\n  newTest: [2]\n};\n</code></pre>\n\n<p>You need to differentiate between <code>thing.test</code> and <code>thing.newTest</code>. </p>\n\n<p>By definition of <code>MappingReferenceValues</code>, thing can contain any <code>string</code> key, so all of these access are fine:</p>\n\n<pre><code>let test = thing.test;\nlet newTest = thing.newTest;\nlet newTest2 = thing.newTest2; // still 'newTest2' does't not exits on thing.\n</code></pre>\n\n<p>Now check type of <code>test</code>, <code>newTest</code>, <code>newTest2</code>. They all can be any of <code>string | number | boolean | string[] | MappingReferenceValues | number[] | boolean[] | MappingReferenceValues[]</code>;</p>\n\n<p>So to access its values like <code>test.field</code> first you need to narrow its type to <code>MappingReferenceValues</code>. </p>\n\n<p>This narrowing can be done with </p>\n\n<pre><code>function isMappingReferneceValues(a: unknown): a is MappingReferenceValues {\n  ...\n  return true;\n}\n</code></pre>\n"}], "owner": {"reputation": 5843, "user_id": 1305699, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/90b26870755dba21f7065479059640ed?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1305699/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1576, "favorite_count": 0, "accepted_answer_id": 57587290, "answer_count": 2, "score": 0, "last_activity_date": 1566383658, "creation_date": 1566373801, "question_id": 57586853, "link": "https://stackoverflow.com/questions/57586853/property-does-not-exist-on-type-with-union-types", "title": "Property does not exist on type with union types", "body": "<p>I've got a type that's trying to describe a serialisable deep nested \"plain javascript\" object:</p>\n\n<pre><code>export interface MappingReferenceValues {\n  /** The reference values */\n  [key: string]:\n    | string\n    | number\n    | boolean\n    | MappingReferenceValues\n    | string[]\n    | number[]\n    | boolean[]\n    | MappingReferenceValues[];\n}\n</code></pre>\n\n<p>It lets me define simple deep nestesd key value pairs of numbers, strings, booleans, or their arrays:</p>\n\n<pre><code>const thing: MappingReferenceValues = {\n  test: {\n    test2: {\n      test3: \"hi\",\n      test4: 200,\n      test5: [true, false]\n    }\n  }\n};\n</code></pre>\n\n<p>Great! Works fine for declaring it. It's much better than <code>any</code>, because it ensures I've not got functions in there, and it's distinct from <code>undefined</code>.</p>\n\n<p>However, it's a real pain to use:</p>\n\n<pre><code>const output = thing.test.test2.test3\n</code></pre>\n\n<p>Comes up with an error:</p>\n\n<pre><code>Property 'test2' does not exist on type 'string | number | boolean | MappingReferenceValues | string[] | number[] | boolean[] | MappingReferenceValues[]'.\n  Property 'test2' does not exist on type 'string'.\n</code></pre>\n\n<p><code>test2</code> doesn't exist on type string, but it does exist on type <code>MappingReferenceValues</code>. Is there any way around this without just casting it to any again?</p>\n"}, {"tags": ["html", "typescript", "firebase", "firebase-realtime-database", "ionic3"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 11823091, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UKhqE7VupDg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcbea_TO1MHKEy2v_TgzUAN0E1ygA/photo.jpg?sz=128", "display_name": "Qassim Ali", "link": "https://stackoverflow.com/users/11823091/qassim-ali"}, "edited": false, "score": 0, "creation_date": 1566375665, "post_id": 57587126, "comment_id": 101632219, "body": "Thank you very much it works, I didn&#39;t know about this method feels like it could have helped me solved multiple of my problems."}, {"owner": {"reputation": 37, "user_id": 11823091, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UKhqE7VupDg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcbea_TO1MHKEy2v_TgzUAN0E1ygA/photo.jpg?sz=128", "display_name": "Qassim Ali", "link": "https://stackoverflow.com/users/11823091/qassim-ali"}, "edited": false, "score": 0, "creation_date": 1566377699, "post_id": 57587126, "comment_id": 101633250, "body": "If possible can you help me into another problem I ran into? because I use ngFor to compare the address id to current logged in ID it will keep comparing so even after it finds the user and shows his address it then displays the form because the next ID does not match: <a href=\"https://imgur.com/a/9E9iLaG\" rel=\"nofollow noreferrer\">imgur.com/a/9E9iLaG</a>"}, {"owner": {"reputation": 366, "user_id": 11900381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2550e0514053b420c7955e392f3d44b5?s=128&d=identicon&r=PG&f=1", "display_name": "lnrdnl", "link": "https://stackoverflow.com/users/11900381/lnrdnl"}, "reply_to_user": {"reputation": 37, "user_id": 11823091, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UKhqE7VupDg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcbea_TO1MHKEy2v_TgzUAN0E1ygA/photo.jpg?sz=128", "display_name": "Qassim Ali", "link": "https://stackoverflow.com/users/11823091/qassim-ali"}, "edited": false, "score": 0, "creation_date": 1566380587, "post_id": 57587126, "comment_id": 101635036, "body": "As far as I understand now you have an address list with all addresses for all users. Then there is no need to do a ngFor. Just create a method that checks if the address exists in the list. Call that in you constructor or ngOnInit. If so, store it in your component. Then display either address or form based on if the address exists in component."}, {"owner": {"reputation": 366, "user_id": 11900381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2550e0514053b420c7955e392f3d44b5?s=128&d=identicon&r=PG&f=1", "display_name": "lnrdnl", "link": "https://stackoverflow.com/users/11900381/lnrdnl"}, "reply_to_user": {"reputation": 37, "user_id": 11823091, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UKhqE7VupDg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcbea_TO1MHKEy2v_TgzUAN0E1ygA/photo.jpg?sz=128", "display_name": "Qassim Ali", "link": "https://stackoverflow.com/users/11823091/qassim-ali"}, "edited": false, "score": 0, "creation_date": 1566380765, "post_id": 57587126, "comment_id": 101635149, "body": "In other words, why have all addresses retrieved in this component if you only need one? Instead of calling getAddresses(), create a new method getAddress() on the FirebaseProvider."}, {"owner": {"reputation": 37, "user_id": 11823091, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UKhqE7VupDg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcbea_TO1MHKEy2v_TgzUAN0E1ygA/photo.jpg?sz=128", "display_name": "Qassim Ali", "link": "https://stackoverflow.com/users/11823091/qassim-ali"}, "edited": false, "score": 0, "creation_date": 1566382965, "post_id": 57587126, "comment_id": 101636430, "body": "I am new to firebase so I was just following the steps I usually get taught in class. Can you give me a bit of code to work with on how to do this?"}, {"owner": {"reputation": 366, "user_id": 11900381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2550e0514053b420c7955e392f3d44b5?s=128&d=identicon&r=PG&f=1", "display_name": "lnrdnl", "link": "https://stackoverflow.com/users/11900381/lnrdnl"}, "reply_to_user": {"reputation": 37, "user_id": 11823091, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UKhqE7VupDg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcbea_TO1MHKEy2v_TgzUAN0E1ygA/photo.jpg?sz=128", "display_name": "Qassim Ali", "link": "https://stackoverflow.com/users/11823091/qassim-ali"}, "edited": false, "score": 0, "creation_date": 1566383576, "post_id": 57587126, "comment_id": 101636735, "body": "If you could provide the code you have in Stackblitz or any other online editor, then I can look into your project. Now I just don&#39;t have enough information to help you. It is also a different question you are asking now."}, {"owner": {"reputation": 37, "user_id": 11823091, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UKhqE7VupDg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcbea_TO1MHKEy2v_TgzUAN0E1ygA/photo.jpg?sz=128", "display_name": "Qassim Ali", "link": "https://stackoverflow.com/users/11823091/qassim-ali"}, "edited": false, "score": 0, "creation_date": 1566384527, "post_id": 57587126, "comment_id": 101637219, "body": "I am having trouble with the drag and drop feature for on stackblitz and I never used an online editor so I am having trouble with it. I followed your advice and removed the ngFor and i tried subscribing to firebase and looping through all the objects and if the id&#39;s are equal it stores it in a variable, then I made a condition if the object is greater than 0 (not empty) It should not display the form."}, {"owner": {"reputation": 37, "user_id": 11823091, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UKhqE7VupDg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcbea_TO1MHKEy2v_TgzUAN0E1ygA/photo.jpg?sz=128", "display_name": "Qassim Ali", "link": "https://stackoverflow.com/users/11823091/qassim-ali"}, "edited": false, "score": 0, "creation_date": 1566384562, "post_id": 57587126, "comment_id": 101637245, "body": "this.firebase.getAddresses().subscribe(       response=&gt;{         for(let i in response)         {           if(this.firebase.id == response[i].UID)           {             this.Addresses = response[i];           }         }       })"}, {"owner": {"reputation": 37, "user_id": 11823091, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UKhqE7VupDg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcbea_TO1MHKEy2v_TgzUAN0E1ygA/photo.jpg?sz=128", "display_name": "Qassim Ali", "link": "https://stackoverflow.com/users/11823091/qassim-ali"}, "edited": false, "score": 0, "creation_date": 1566384589, "post_id": 57587126, "comment_id": 101637260, "body": "&lt;ng-container *ngIf=&#39;Addresses?.length &gt; 0;else other_content&#39;&gt;       &lt;ion-card id=&#39;card&#39;&gt;       &lt;div align = &#39;center&#39;&gt; &lt;ion-icon name=&#39;home&#39;&gt;&lt;ion-card-title&gt;Your Address&lt;/ion-card-title&gt;&lt;/ion-icon&gt;&lt;/div&gt;         {{Addresses.City}}         {{Addresses.hNo}}         {{Addresses.rNo}}         {{Addresses.Blk}}       &lt;/ion-card&gt;   &lt;/ng-container&gt;"}, {"owner": {"reputation": 37, "user_id": 11823091, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UKhqE7VupDg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcbea_TO1MHKEy2v_TgzUAN0E1ygA/photo.jpg?sz=128", "display_name": "Qassim Ali", "link": "https://stackoverflow.com/users/11823091/qassim-ali"}, "edited": false, "score": 0, "creation_date": 1566384618, "post_id": 57587126, "comment_id": 101637273, "body": "Sorry about the ugly format but this is the only way I know how to show code."}, {"owner": {"reputation": 37, "user_id": 11823091, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UKhqE7VupDg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcbea_TO1MHKEy2v_TgzUAN0E1ygA/photo.jpg?sz=128", "display_name": "Qassim Ali", "link": "https://stackoverflow.com/users/11823091/qassim-ali"}, "edited": false, "score": 0, "creation_date": 1566384760, "post_id": 57587126, "comment_id": 101637350, "body": "Never mind I think it works when i tried specifying a variable of the object like Addresses?.City?.length &gt; 0 the form disappeared. You have been a great help. Thank you very much"}], "tags": [], "owner": {"reputation": 366, "user_id": 11900381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2550e0514053b420c7955e392f3d44b5?s=128&d=identicon&r=PG&f=1", "display_name": "lnrdnl", "link": "https://stackoverflow.com/users/11900381/lnrdnl"}, "is_accepted": true, "score": 0, "last_activity_date": 1566374867, "creation_date": 1566374867, "answer_id": 57587126, "question_id": 57586717, "link": "https://stackoverflow.com/questions/57586717/changing-the-value-of-a-boolean-variable-as-a-result-of-an-ngif/57587126#57587126", "title": "Changing the value of a boolean variable as a result of an *ngIf", "body": "<p>I don't think there is a need to store a boolean value. You can do:</p>\n\n<p>HTML:<code>&lt;ng-container *ngIf='addressExists(a);else other_content'&gt;</code></p>\n\n<p>TS: <code>addressExists(address) { return address.uid === this.firebase.id }</code> </p>\n\n<p>Now if addressExists returns true it will display:</p>\n\n<pre><code>&lt;ion-card&gt;\n  {{a.City}}\n&lt;/ion-card&gt;\n</code></pre>\n\n<p>else it will display:</p>\n\n<pre><code>&lt;ng-template #other_content&gt;\n  &lt;ng-container&gt;... your form ...&lt;/ng-container&gt;\n&lt;/ng-template&gt;\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 11823091, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UKhqE7VupDg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcbea_TO1MHKEy2v_TgzUAN0E1ygA/photo.jpg?sz=128", "display_name": "Qassim Ali", "link": "https://stackoverflow.com/users/11823091/qassim-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 1, "accepted_answer_id": 57587126, "answer_count": 1, "score": 2, "last_activity_date": 1566374867, "creation_date": 1566373207, "question_id": 57586717, "link": "https://stackoverflow.com/questions/57586717/changing-the-value-of-a-boolean-variable-as-a-result-of-an-ngif", "title": "Changing the value of a boolean variable as a result of an *ngIf", "body": "<p>I made an app where a user has to enter his address details which then stores it in firebase what I am trying to do is make it so if a user already stored his address it will not display the address entry form again but instead will show address information but I am not sure how to go about it.</p>\n\n<p>I have tried using (ionChange) to call a function and change a boolean variables value to show either the users address details if they exist and the form if they do not it has not worked.</p>\n\n<p>Here is the code for what I have tried</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;ng-container *ngFor='let a of Addresses|async'&gt;\n    &lt;ng-container *ngIf='a.UID == firebase.id;else other_content'&gt;\n      &lt;ion-card (ionChange)='addressExists()'&gt;\n        {{a.City}}\n      &lt;/ion-card&gt;\n    &lt;/ng-container&gt;\n    &lt;ng-template #other_content&gt;\n      &lt;ng-container  (ionChange)='addressDoesNotExist()'&gt;&lt;/ng-container&gt;\n    &lt;/ng-template&gt;\n  &lt;/ng-container&gt;\n</code></pre>\n\n<p>TS</p>\n\n<pre><code> Addresses;\n  Exists = false;\n  constructor(public afAuth:AngularFireAuth, public firebase: FirebaseProvider, \n    public navCtrl: NavController, public navParams: NavParams, public auth: AuthProvider) {\n    this.Addresses = this.firebase.getAddresses();\n\n}\n\naddressExists(){\n  this.Exists = true;\n}\n\naddressDoesNotExist(){\n  this.Exists = false;\n}\n</code></pre>\n\n<p>here is what my data looks like on firebase: <a href=\"https://imgur.com/a/T5fzD2U\" rel=\"nofollow noreferrer\">https://imgur.com/a/T5fzD2U</a></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "edited": false, "score": 2, "creation_date": 1566372200, "post_id": 57586434, "comment_id": 101630624, "body": "shouldn&#39;t it be <code>[(ngModel)]=&quot;app.transversal&quot;</code>"}, {"owner": {"reputation": 999, "user_id": 4638273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cI1TQ.jpg?s=128&g=1", "display_name": "igor_c", "link": "https://stackoverflow.com/users/4638273/igor-c"}, "edited": false, "score": 0, "creation_date": 1566372271, "post_id": 57586434, "comment_id": 101630654, "body": "ngModel should be <code>[(ngModel)]=&quot;app.transversal&quot;</code>. And can&#39;t you use <code>FormGroup</code> and <code>FormControl</code>?"}, {"owner": {"reputation": 14794, "user_id": 3227319, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d0dfcc684d444bcbd4b48734230d5b11?s=128&d=identicon&r=PG&f=1", "display_name": "Jordi", "link": "https://stackoverflow.com/users/3227319/jordi"}, "edited": false, "score": 0, "creation_date": 1566380147, "post_id": 57586434, "comment_id": 101634754, "body": "You are right! Damn it! I need to be on holidays!"}], "answers": [{"comments": [{"owner": {"reputation": 3272, "user_id": 4269187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yhb5z.jpg?s=128&g=1", "display_name": "Carsten", "link": "https://stackoverflow.com/users/4269187/carsten"}, "edited": false, "score": 0, "creation_date": 1566372434, "post_id": 57586492, "comment_id": 101630733, "body": "Bananas in boxes!"}, {"owner": {"reputation": 3912, "user_id": 7384435, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c10fc736279eca87fe67640a0105c41d?s=128&d=identicon&r=PG&f=1", "display_name": "dave0688", "link": "https://stackoverflow.com/users/7384435/dave0688"}, "reply_to_user": {"reputation": 3272, "user_id": 4269187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yhb5z.jpg?s=128&g=1", "display_name": "Carsten", "link": "https://stackoverflow.com/users/4269187/carsten"}, "edited": false, "score": 0, "creation_date": 1566372520, "post_id": 57586492, "comment_id": 101630778, "body": "Correct :) See more info here: <a href=\"https://bytes.vokal.io/20160509-angular-data-binding/\" rel=\"nofollow noreferrer\">bytes.vokal.io/20160509-angular-data-binding</a>"}], "tags": [], "owner": {"reputation": 3912, "user_id": 7384435, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c10fc736279eca87fe67640a0105c41d?s=128&d=identicon&r=PG&f=1", "display_name": "dave0688", "link": "https://stackoverflow.com/users/7384435/dave0688"}, "is_accepted": true, "score": 4, "last_activity_date": 1566372295, "creation_date": 1566372295, "answer_id": 57586492, "question_id": 57586434, "link": "https://stackoverflow.com/questions/57586434/angular-form-field-not-binded/57586492#57586492", "title": "Angular form field not binded", "body": "<p>Please take a look at your form: In your <code>&lt;select&gt;</code> element you're binding to \n<code>[ngModel]</code>. \nThat means that you only have a one-way data binding. </p>\n\n<p>In order to get a two-way data binding, please change it to \n<code>[(ngModel)]</code>.\nBy that the vale gets written back into the model when you select something else.</p>\n"}], "owner": {"reputation": 14794, "user_id": 3227319, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d0dfcc684d444bcbd4b48734230d5b11?s=128&d=identicon&r=PG&f=1", "display_name": "Jordi", "link": "https://stackoverflow.com/users/3227319/jordi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 57586492, "answer_count": 1, "score": 0, "last_activity_date": 1566372295, "creation_date": 1566372039, "question_id": 57586434, "link": "https://stackoverflow.com/questions/57586434/angular-form-field-not-binded", "title": "Angular form field not binded", "body": "<p>I've a form:</p>\n\n<pre><code>&lt;form #appForm&gt;\n  &lt;div...&gt;\n    &lt;select\n      id=\"transversal\"\n      name=\"transversal\"\n      [ngModel]=\"app.transversal\" \n      type=\"select\"\n      required\n      #transversal=\"ngModel\"&gt;\n        &lt;option value=\"S\"&gt;Si&lt;/option&gt;\n        &lt;option value=\"N\"&gt;No&lt;/option&gt;\n    &lt;/select&gt;\n  &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><code>this.app</code> is:</p>\n\n<pre><code>@Component({\n    moduleId: module.id,\n    templateUrl: 'aplicacions-subcomponent.component.html',\n    selector: 'app-aplicacions-subcomponent'\n})\nexport class AplicacionsSubcomponentComponent {\n    private app: Application;\n\n    @ViewChild('appForm')\n    private appForm: NgForm;\n}\n</code></pre>\n\n<p>I'm facing with <code>app.transversal</code> is not populated when I pick an option on my select input.</p>\n\n<p>I've took a look on my form on debug time. As you can see, <code>form.transversal</code> is changed, but <code>this.app.transversal</code> keeps <code>null</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/2r59B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2r59B.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>I know I'm able to use (change) event. I need to solve that using above approach.</strong></p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 4823, "user_id": 315200, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/257b78621ca109d603fdf54c3dd83487?s=128&d=identicon&r=PG&f=1", "display_name": "curly_brackets", "link": "https://stackoverflow.com/users/315200/curly-brackets"}, "edited": false, "score": 0, "creation_date": 1566806922, "post_id": 57586356, "comment_id": 101757884, "body": "Is this some sort of bug in JSX, that the interface isn&#39;t parsed all the way though?"}], "answers": [{"comments": [{"owner": {"reputation": 4823, "user_id": 315200, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/257b78621ca109d603fdf54c3dd83487?s=128&d=identicon&r=PG&f=1", "display_name": "curly_brackets", "link": "https://stackoverflow.com/users/315200/curly-brackets"}, "edited": false, "score": 0, "creation_date": 1566808196, "post_id": 57654319, "comment_id": 101758497, "body": "Thank you for your elaborate explanation. I&#39;m sad that this isn&#39;t just a bug in my code I can fix. But at least I now know what&#39;s the problem is."}, {"owner": {"reputation": 5085, "user_id": 3941291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sUtBe.jpg?s=128&g=1", "display_name": "ChrisG", "link": "https://stackoverflow.com/users/3941291/chrisg"}, "reply_to_user": {"reputation": 4823, "user_id": 315200, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/257b78621ca109d603fdf54c3dd83487?s=128&d=identicon&r=PG&f=1", "display_name": "curly_brackets", "link": "https://stackoverflow.com/users/315200/curly-brackets"}, "edited": false, "score": 0, "creation_date": 1566808999, "post_id": 57654319, "comment_id": 101758826, "body": "I&#39;ve included an edit which enables you to still make your proxy work, but requires a bit of typing work when using the <code>Proxy</code> component"}, {"owner": {"reputation": 4823, "user_id": 315200, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/257b78621ca109d603fdf54c3dd83487?s=128&d=identicon&r=PG&f=1", "display_name": "curly_brackets", "link": "https://stackoverflow.com/users/315200/curly-brackets"}, "edited": false, "score": 1, "creation_date": 1566810501, "post_id": 57654319, "comment_id": 101759582, "body": "Thank you. I actually fixed the missing fragment issue locally, but it was the type checking I was looking for. Thanks again tho."}], "tags": [], "owner": {"reputation": 5085, "user_id": 3941291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sUtBe.jpg?s=128&g=1", "display_name": "ChrisG", "link": "https://stackoverflow.com/users/3941291/chrisg"}, "is_accepted": true, "score": 3, "last_activity_date": 1566809333, "last_edit_date": 1592644375, "creation_date": 1566808039, "answer_id": 57654319, "question_id": 57586356, "link": "https://stackoverflow.com/questions/57586356/use-child-interface-as-prop-interface-with-generic-interface/57654319#57654319", "title": "Use child interface as prop interface with generic interface", "body": "<p>That's not a bug in your code or in JSX (as suggested in the comments). This is a limitation of JSX in typescript.</p>\n<p>With JSX, all your code like</p>\n<pre><code>&lt;Proxy Mobile={{ text: &quot;Mobile&quot; }}&gt;\n  &lt;ChildElement text=&quot;Default&quot; /&gt;\n&lt;/Proxy&gt;\n</code></pre>\n<p>will get compiled to</p>\n<pre><code>React.createElement(Proxy, {\n  Mobile: {\n    text: &quot;Mobile&quot;\n  }\n}, React.createElement(ChildElement, {\n  text: &quot;Default&quot;\n}));\n</code></pre>\n<p>And thus all children will be passed as <code>JSX.Element</code> to the parent component. This interface is a blackbox and no properties like the <code>prop</code> types can be retrieved:</p>\n<blockquote>\n<h3><a href=\"https://www.typescriptlang.org/docs/handbook/jsx.html#the-jsx-result-type\" rel=\"nofollow noreferrer\">The JSX result type</a></h3>\n<p>By default the result of a JSX expression is typed as any. You can customize the type by specifying the JSX.Element interface. However, it is not possible to retrieve type information about the element, attributes or children of the JSX from this interface. It is a black box.</p>\n</blockquote>\n<p>There is currently an <a href=\"https://github.com/microsoft/TypeScript/issues/14729\" rel=\"nofollow noreferrer\">issue</a> open for this, in which a roadmap how <code>JSX.Element</code> can be generalized to support your use case is described, but without any clear timeline when and to which extent or if it will land.</p>\n<p>There is however a quick workaround to still have the functionality you desire, by specifically declaring the generic type for your proxy like this:\nNote that this will not perform type checking, to ensure that the two interfaces on <code>Proxy</code> and on the children match. This is not possible (as described above)</p>\n<pre><code>enum EBreakpoint {\n  Mobile = &quot;Mobile&quot;,\n  Desktop = &quot;Desktop&quot;\n}\n\ntype TResponsiveProps&lt;P&gt; = { [key in EBreakpoint]?: P };\n\ntype IProps&lt;P&gt; = TResponsiveProps&lt;P&gt; &amp; { children?: React.ReactNode };\n\nexport function Proxy&lt;P&gt;({\n  children,\n  ...breakpoints\n}: IProps&lt;P&gt;): React.ReactElement | null {\n  return Object.keys(breakpoints).length &amp;&amp; React.isValidElement(children) ? (\n    &lt;React.Fragment&gt;\n      {Object.keys(breakpoints).map(breakpoint =&gt; (\n        &lt;div&gt;{React.cloneElement(children, breakpoints[breakpoint])}&lt;/div&gt;\n      ))}\n    &lt;/React.Fragment&gt;\n  ) : (\n    &lt;React.Fragment&gt;{children}&lt;/React.Fragment&gt;\n  );\n}\n</code></pre>\n<p>and then in your <code>index.tsx</code> like this:</p>\n<pre><code>&lt;Proxy&lt;{ text: string }&gt; Mobile={{ text: &quot;Mobile&quot; }}&gt;\n  &lt;ChildElement text=&quot;Default&quot; /&gt;\n&lt;/Proxy&gt;\n</code></pre>\n<p>of course you can also extract your prop type <code>{ text: string }</code> into another interface for reuse.</p>\n"}], "owner": {"reputation": 4823, "user_id": 315200, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/257b78621ca109d603fdf54c3dd83487?s=128&d=identicon&r=PG&f=1", "display_name": "curly_brackets", "link": "https://stackoverflow.com/users/315200/curly-brackets"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 519, "favorite_count": 0, "accepted_answer_id": 57654319, "answer_count": 1, "score": 3, "last_activity_date": 1566809333, "creation_date": 1566371752, "last_edit_date": 1566806918, "question_id": 57586356, "link": "https://stackoverflow.com/questions/57586356/use-child-interface-as-prop-interface-with-generic-interface", "title": "Use child interface as prop interface with generic interface", "body": "<p>I'm trying to implement some typings in React that keeps getting an error. </p>\n\n<p>The idea is that I have an enum (EBreakpoint) which is keyed with each device we support. A proxy wrapper component takes each device as a prop, and parses the value as props to the child component.</p>\n\n<p>The TypeScript part works, <a href=\"http://www.typescriptlang.org/play/#code/KYOwrgtgBAogQgJ2AQwNYAcD2BLEAXKAbwCgoyoBZTAI2wBtgoBeKAIitodYBpTyARYAGdUeTOmZtBIselbEAvsWJ4AnukYAVAErCsIIdgBuwAAoJxQgDymAfJMJQ+ZANqpgqqLliIUGHPgAugD8AFxQpk5KxLh4wAgAZsgAxowAkuaWNvbAAB5xIAAmQlA6epgGxmYW6NZ2RM5QyQAW9IVIIOEk5D1Q6DVC4aaNStEJYCDJeNgVUADCmBD6oATZABSOLW0dUArhGQPZAJQNPUh4YAggbM0e8tEA9A9QAMrYEGB0yNMgAOZQuhSBAA7tg8M0+jU2Bx6MBWFBkEUmq06IUoKDwQioNM8AxIeIAHTEBZLCorDaNGEMLqNHo46lQJJ0ISMJ6qZCqbjY25QeIWBDozAIVCDbFgvFqDRQITNTCfNHURhCZAQRjIEpbVEdADkJXpjElwBGvB6mvaoBpvXI-UslqtvX14VYtwAVvJ7bsRoojkA\" rel=\"nofollow noreferrer\">as I've demonstrated in a Typescript Playground</a>, but the implementation keeps getting this error:</p>\n\n<pre><code>JSX element type 'Element[] | IChild&lt;any&gt;' is not a constructor function for JSX elements.\n  Type 'Element[]' is missing the following properties from type 'Element': type, props, key\n</code></pre>\n\n<p>Codesandbox URL: <a href=\"https://codesandbox.io/s/serene-sea-3wmxk\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/serene-sea-3wmxk</a> (parts of the functionality of proxy is removed, to isolate the issue as much as possible)</p>\n\n<p><strong>index.tsx</strong>:</p>\n\n<pre><code>import * as React from \"react\";\nimport { render } from \"react-dom\";\nimport { Proxy } from \"./Proxy\";\n\nimport \"./styles.css\";\n\nconst ChildElement: React.FC&lt;{ text: string }&gt; = ({ text }) =&gt; {\n  return &lt;&gt;{text}&lt;/&gt;;\n};\n\nfunction App() {\n  return (\n    &lt;div className=\"App\"&gt;\n      &lt;Proxy Mobile={{ text: \"Mobile\" }}&gt;\n        &lt;ChildElement text=\"Default\" /&gt;\n      &lt;/Proxy&gt;\n    &lt;/div&gt;\n  );\n}\n\nconst rootElement = document.getElementById(\"root\");\nrender(&lt;App /&gt;, rootElement);\n</code></pre>\n\n<p><strong>Proxy.tsx</strong>:</p>\n\n<pre><code>import * as React from \"react\";\n\nenum EBreakpoint {\n  Mobile = \"Mobile\",\n  Desktop = \"Desktop\"\n}\n\ninterface IChild&lt;P&gt; extends React.ReactElement {\n  props: P;\n}\n\ntype TResponsiveProps&lt;P&gt; = { [key in EBreakpoint]?: P };\n\ninterface IProps&lt;P&gt; extends TResponsiveProps&lt;P&gt; {\n  children: IChild&lt;P&gt;;\n}\n\nexport function Proxy&lt;P&gt;({ children, ...breakpoints }: IProps&lt;P&gt;) {\n  return Object.keys(breakpoints).length &amp;&amp; React.isValidElement(children)\n    ? Object.keys(breakpoints).map(breakpoint =&gt; (\n        &lt;div&gt;{React.cloneElement(children, breakpoints[breakpoint])}&lt;/div&gt;\n      ))\n    : children;\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript", "nestjs", "typeorm"], "comments": [{"owner": {"reputation": 5576, "user_id": 10944219, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gUQfW.png?s=128&g=1", "display_name": "kmgt", "link": "https://stackoverflow.com/users/10944219/kmgt"}, "edited": false, "score": 0, "creation_date": 1566371566, "post_id": 57586150, "comment_id": 101630344, "body": "In which file do you import user?"}, {"owner": {"reputation": 55, "user_id": 11949151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da921c7805b830703d1bb3493b94e038?s=128&d=identicon&r=PG&f=1", "display_name": "firdaus", "link": "https://stackoverflow.com/users/11949151/firdaus"}, "reply_to_user": {"reputation": 5576, "user_id": 10944219, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gUQfW.png?s=128&g=1", "display_name": "kmgt", "link": "https://stackoverflow.com/users/10944219/kmgt"}, "edited": false, "score": 0, "creation_date": 1566371722, "post_id": 57586150, "comment_id": 101630427, "body": "file payment.controller, under nest-project-payment folder"}], "answers": [{"tags": [], "owner": {"reputation": 5576, "user_id": 10944219, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gUQfW.png?s=128&g=1", "display_name": "kmgt", "link": "https://stackoverflow.com/users/10944219/kmgt"}, "is_accepted": true, "score": 0, "last_activity_date": 1566371808, "creation_date": 1566371808, "answer_id": 57586368, "question_id": 57586150, "link": "https://stackoverflow.com/questions/57586150/calling-file-from-different-folder-source-in-my-project/57586368#57586368", "title": "Calling file from different folder / source in my project", "body": "<pre><code>import { User } from \"../../../MyProject/src/entity/User\";\n</code></pre>\n\n<p>With <code>../</code> you move one folder up.</p>\n"}, {"tags": [], "owner": {"reputation": 147, "user_id": 2958933, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GuSrB.jpg?s=128&g=1", "display_name": "WannaBDeveloper", "link": "https://stackoverflow.com/users/2958933/wannabdeveloper"}, "is_accepted": false, "score": 0, "last_activity_date": 1566652399, "creation_date": 1566652399, "answer_id": 57638283, "question_id": 57586150, "link": "https://stackoverflow.com/questions/57586150/calling-file-from-different-folder-source-in-my-project/57638283#57638283", "title": "Calling file from different folder / source in my project", "body": "<p>If you want to use an import like in your example, make the following change to your tsconfig.json file:</p>\n\n<pre><code>\"baseUrl\": \"./\",\n    \"paths\": {\n      \"@nest-project-payment/*\": [\"nest-project-payment/*\"],\n      \"src/*\": [\"src/*\"]\n    }\n\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 11949151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da921c7805b830703d1bb3493b94e038?s=128&d=identicon&r=PG&f=1", "display_name": "firdaus", "link": "https://stackoverflow.com/users/11949151/firdaus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 57586368, "answer_count": 2, "score": 1, "last_activity_date": 1566652399, "creation_date": 1566370932, "last_edit_date": 1566488209, "question_id": 57586150, "link": "https://stackoverflow.com/questions/57586150/calling-file-from-different-folder-source-in-my-project", "title": "Calling file from different folder / source in my project", "body": "<p>I have 2 sources in my project. How can I import a file from MyProject in nest-project-payment?</p>\n\n<p>This is the file structure of my project:</p>\n\n<p><a href=\"https://i.stack.imgur.com/KGKnp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KGKnp.png\" alt=\"File Structure\"></a></p>\n\n<p>Tried using the following import statement:</p>\n\n<pre><code>import { User } from \"MyProject/src/entity/User\";\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 9320, "user_id": 5196394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/52GqN.jpg?s=128&g=1", "display_name": "hoangdv", "link": "https://stackoverflow.com/users/5196394/hoangdv"}, "edited": false, "score": 0, "creation_date": 1566368438, "post_id": 57585390, "comment_id": 101629019, "body": "What did you want? <code>const a = M&lt;number&gt;(3); &#47;&#47; a will be a number</code>, <code>const b = M&lt;string&gt;(&#39;bill&#39;);&#47;&#47; b will be a string</code>"}, {"owner": {"reputation": 5085, "user_id": 3941291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sUtBe.jpg?s=128&g=1", "display_name": "ChrisG", "link": "https://stackoverflow.com/users/3941291/chrisg"}, "edited": false, "score": 0, "creation_date": 1566377614, "post_id": 57585390, "comment_id": 101633190, "body": "See also this issue on the topic <a href=\"https://github.com/Microsoft/TypeScript/issues/12410\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/12410</a>"}], "answers": [{"comments": [{"owner": {"reputation": 8878, "user_id": 1054992, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d55a3d7314d00a2620331f1232daa85e?s=128&d=identicon&r=PG&f=1", "display_name": "james emanon", "link": "https://stackoverflow.com/users/1054992/james-emanon"}, "edited": false, "score": 0, "creation_date": 1566370377, "post_id": 57585750, "comment_id": 101629807, "body": "<a href=\"http://www.typescriptlang.org/play/index.html\" rel=\"nofollow noreferrer\">typescriptlang.org/play/index.html</a> , doesn&#39;t seem to work when used with: M(3) or M(test)"}, {"owner": {"reputation": 1433, "user_id": 3345885, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/W25fG.jpg?s=128&g=1", "display_name": "Colliot", "link": "https://stackoverflow.com/users/3345885/colliot"}, "reply_to_user": {"reputation": 8878, "user_id": 1054992, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d55a3d7314d00a2620331f1232daa85e?s=128&d=identicon&r=PG&f=1", "display_name": "james emanon", "link": "https://stackoverflow.com/users/1054992/james-emanon"}, "edited": false, "score": 0, "creation_date": 1566370443, "post_id": 57585750, "comment_id": 101629832, "body": "@jamesemanon Certainly it doesn\u2019t. There\u2019s just no way to do that."}], "tags": [], "owner": {"reputation": 1433, "user_id": 3345885, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/W25fG.jpg?s=128&g=1", "display_name": "Colliot", "link": "https://stackoverflow.com/users/3345885/colliot"}, "is_accepted": true, "score": 1, "last_activity_date": 1566369469, "creation_date": 1566369469, "answer_id": 57585750, "question_id": 57585390, "link": "https://stackoverflow.com/questions/57585390/using-a-typescript-generic-with-simple-addition-isnt-working/57585750#57585750", "title": "Using a Typescript Generic with simple addition isn&#39;t working", "body": "<p>There is no type constraint in TypeScript saying a certain operator can be applied to a certain type. So it is not possible to do this.</p>\n\n<p>Something close and valid is:</p>\n\n<pre><code>interface Addable&lt;T&gt; {\n    add(that: T): T;\n}\n\nfunction M&lt;T extends Addable&lt;T&gt;&gt;(arg: T): T {\n  return arg.add(arg);\n}\n</code></pre>\n\n<p>But there is just no way to express it for an operator, <code>+</code> in this case.</p>\n"}], "owner": {"reputation": 8878, "user_id": 1054992, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d55a3d7314d00a2620331f1232daa85e?s=128&d=identicon&r=PG&f=1", "display_name": "james emanon", "link": "https://stackoverflow.com/users/1054992/james-emanon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 57585750, "answer_count": 1, "score": 1, "last_activity_date": 1566369469, "creation_date": 1566367692, "question_id": 57585390, "link": "https://stackoverflow.com/questions/57585390/using-a-typescript-generic-with-simple-addition-isnt-working", "title": "Using a Typescript Generic with simple addition isn&#39;t working", "body": "<p>This seems so trivial, yet I am not understanding why this isn't working. Since I am just concatinating/adding depending on a number or string, the return type should match. </p>\n\n<pre><code>function M&lt;T&gt;(arg: T): T {\n  return arg + arg;\n}\n\n\nM(3) // 6\nM('bill') // billbill\n</code></pre>\n"}, {"tags": ["typescript", "tuples", "type-inference"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 7731090, "user_type": "registered", "profile_image": "https://graph.facebook.com/1409607815780048/picture?type=large", "display_name": "Wayne Van Son", "link": "https://stackoverflow.com/users/7731090/wayne-van-son"}, "edited": false, "score": 0, "creation_date": 1566440099, "post_id": 57595895, "comment_id": 101659415, "body": "OH MAN! That is outstanding! Your assumption was correct. Thank you so much. What is the <code>[number]</code> in this do/called? <code>Widen&lt;T[number][0]&gt;</code> On inspection, it looks like it widens it somehow.."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 25, "user_id": 7731090, "user_type": "registered", "profile_image": "https://graph.facebook.com/1409607815780048/picture?type=large", "display_name": "Wayne Van Son", "link": "https://stackoverflow.com/users/7731090/wayne-van-son"}, "edited": false, "score": 0, "creation_date": 1566440796, "post_id": 57595895, "comment_id": 101659524, "body": "It&#39;s a <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#keyof-and-lookup-types\" rel=\"nofollow noreferrer\">lookup type</a>.  If you have a type <code>T</code> with a key <code>K</code>, you can get the property type at that key as <code>T[K]</code>.  If <code>T</code> is an array or tuple type with a numeric index, <code>T[number]</code> is the element type (if you have an array <code>t</code> and a value <code>k</code> of type <code>number</code>, then <code>t[k]</code> is an element of the array)."}, {"owner": {"reputation": 25, "user_id": 7731090, "user_type": "registered", "profile_image": "https://graph.facebook.com/1409607815780048/picture?type=large", "display_name": "Wayne Van Son", "link": "https://stackoverflow.com/users/7731090/wayne-van-son"}, "edited": false, "score": 0, "creation_date": 1566442058, "post_id": 57595895, "comment_id": 101659724, "body": "I didn&#39;t know we could do that with types. I thought that we could only index them using literal values, such as <code>T[&quot;name&quot;]</code>.  <a href=\"https://tenor.com/view/toy-story-grateful-gif-5895925\" rel=\"nofollow noreferrer\">Thank you again</a>"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 0, "last_activity_date": 1566405115, "creation_date": 1566405115, "answer_id": 57595895, "question_id": 57585307, "link": "https://stackoverflow.com/questions/57585307/how-to-write-type-that-transform-array-of-tuples-into-union-of-tuples/57595895#57595895", "title": "How to write type that transform Array of tuples into Union of Tuples", "body": "<p>If I understand correctly, you want to take a value of a type like <code>[[K1, V1], [K2, V2], [K3, V3], ... ]</code> and compute the type <code>Array&lt;[ K1 | K2 | K3 | ..., V1 | V2 | V3 | ... ]&gt;</code>.  If so, you'll definitely need to something like a <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#const-assertions\" rel=\"nofollow noreferrer\"><code>const</code> assertion</a> to keep track of the key-value pairs:</p>\n\n<pre><code>const entries = [[\"name\", \"shrek\"], [\"swamps\", 1]] as const;\n// const entries: readonly [readonly [\"name\", \"shrek\"], readonly [\"swamps\", 1]]\n</code></pre>\n\n<p>That type is probably narrower than you need, but we can start with that and widen the type as needed.  For example, assuming you want to get <code>string</code> instead of string literals and <code>number</code> instead of numeric literals, we can define something like this:</p>\n\n<pre><code>type Widen&lt;T&gt; = T extends string\n  ? string\n  : T extends number ? number : T extends boolean ? boolean : T;\n</code></pre>\n\n<p>And then the <code>Entries</code> could maybe be written like this:</p>\n\n<pre><code>type Entries&lt;T extends ReadonlyArray&lt;readonly [any, any]&gt;&gt; = [\n  Widen&lt;T[number][0]&gt;,\n  Widen&lt;T[number][1]&gt;\n][];\n</code></pre>\n\n<p>And when we check it, we get:</p>\n\n<pre><code>type TypesOfEntries = Entries&lt;typeof entries&gt;;\n// type TypesOfEntries = [string, string | number][]\n</code></pre>\n\n<p>Does that do what you want?  If so, great.  If not, please add more details about your use case.  Hope that helps; good luck!</p>\n\n<p><a href=\"http://www.typescriptlang.org/play/?noImplicitAny=false#code/MYewdgzgLgBApmKAnAlnCMC8MDaOBEYAhgLZz4A0M+EAFknANb4C6VBEA7qQA4SUwAjCxYwiGUJCgBuAFAB6eTEnR4iVOgBcMBkQAm4ADYBPXLoNgTuQqXJUa9JqyrmjpjtxJ8BwlrNlQxjxwMADqKHoIADwAKgB8WDAx8AAeUAh6GNCoYADmsjAwAPww2Sh5BTDayXBpGRhgAK4kAEZwSMUwTa3tVUmp6WCZMC0gIIZwRGCdo+OT09VyAUEhAKLqaBCxA-UwAEqTFiYAgkhIRMZRrpbuU8ZUdyxxCdg4leGRYLE43W1ILDgAAxPCjvCLRGI-Zp-AHCOKyAEsJaBYJJFYQADyADN1shNolcRotii4CAsWo8eg4nJFDASWjgpicRt0IkcGU8lQObkYAAfLrQ9qI-xAA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 25, "user_id": 7731090, "user_type": "registered", "profile_image": "https://graph.facebook.com/1409607815780048/picture?type=large", "display_name": "Wayne Van Son", "link": "https://stackoverflow.com/users/7731090/wayne-van-son"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 57595895, "answer_count": 1, "score": 0, "last_activity_date": 1566405115, "creation_date": 1566367224, "question_id": 57585307, "link": "https://stackoverflow.com/questions/57585307/how-to-write-type-that-transform-array-of-tuples-into-union-of-tuples", "title": "How to write type that transform Array of tuples into Union of Tuples", "body": "<p>I want to create a type that parsing an array of tuples will output the union of each index (I hope those are the right words).</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const entries = [[\"name\", \"shrek\"], [\"swamps\", 1]];\n\ntype Entries&lt;T&gt; = /* The magic  */;\n\ntype TypesOfEntries = Entries&lt;typeof entries&gt;;\n\n// outputs [string, string | number][]\n</code></pre>\n\n<p>I've tried using the <code>as const</code> syntax, but that won't let me infer the array, such as <code>type Entries&lt;T&gt; = T extends Array&lt;infer ENTRY&gt; ? KV :  never</code> but this returns <code>never</code>.</p>\n\n<p>Any sense of direction is appreciated</p>\n"}, {"tags": ["javascript", "typescript", "object", "ecmascript-6", "flowtype"], "comments": [{"owner": {"reputation": 134258, "user_id": 785065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAbxM.jpg?s=128&g=1", "display_name": "loganfsmyth", "link": "https://stackoverflow.com/users/785065/loganfsmyth"}, "edited": false, "score": 0, "creation_date": 1566365371, "post_id": 57584957, "comment_id": 101627967, "body": "Please include a complete example. Your code works fine here: <a href=\"https://flow.org/try/#0C4TwDgpgBAqgzhATlAvFA3gKClAdgQwFsIAuKOYRAS1wHMAabKfW0vAV0ICMlGdXcAEyQB+MhWp1GAXwDcmTADd8yMIgD2YOKgxQBwxGQBEAd3XqjUOQoDG63BSjsEh2C51YcBYmQDkAD0DfPmZWMgAmAGYQgDo4gAo1TTgY-SQoADIM3TTXJK1UiCF06QBKHCgAekqoAB4AWkbGqGAAC2gbdgAbNSpgKCptNsGoLpoITDkgA\" rel=\"nofollow noreferrer\">flow.org/try/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1109, "user_id": 3001897, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/JIPvw.png?s=128&g=1", "display_name": "mayid", "link": "https://stackoverflow.com/users/3001897/mayid"}, "edited": false, "score": 0, "creation_date": 1604066337, "post_id": 57584984, "comment_id": 114241381, "body": "If it will be ternary, make it a ternary operator instead. It&#39;s more simple to reason about a ternary:  <code>...((props.gender ? { gender: props.gender }) : {})</code>"}], "tags": [], "owner": {"reputation": 1772, "user_id": 1410020, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3b5ede2db3c06774d7ae953b660e8791?s=128&d=identicon&r=PG", "display_name": "Cyril F", "link": "https://stackoverflow.com/users/1410020/cyril-f"}, "is_accepted": false, "score": 0, "last_activity_date": 1566365403, "creation_date": 1566365403, "answer_id": 57584984, "question_id": 57584957, "link": "https://stackoverflow.com/questions/57584957/flow-typing-issue-on-conditional-object-property/57584984#57584984", "title": "Flow typing issue on conditional object property", "body": "<p>Reading through this <a href=\"https://github.com/tc39/proposal-object-rest-spread/issues/45\" rel=\"nofollow noreferrer\">Github issue on object rest spread operator</a> I found a better way to solve it. And this is by defaulting to an empty object.</p>\n\n<p>So I changed this line:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>...(props.gender &amp;&amp; { gender: props.gender })\n</code></pre>\n\n<p>with</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>...((props.gender &amp;&amp; { gender: props.gender }) || {})\n</code></pre>\n\n<p>and now the flow error is resolved.</p>\n"}, {"comments": [{"owner": {"reputation": 1772, "user_id": 1410020, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3b5ede2db3c06774d7ae953b660e8791?s=128&d=identicon&r=PG", "display_name": "Cyril F", "link": "https://stackoverflow.com/users/1410020/cyril-f"}, "edited": false, "score": 0, "creation_date": 1566368516, "post_id": 57585056, "comment_id": 101629042, "body": "Thanks for the clear answer. And good point for the <code>null</code> vs <code>{}</code> ;) However, spread syntax should work similar to <code>Object.assign</code> and the later handle any primitives as <code>{}</code> so it should not trigger a flow type error. But I agree, for the sake of clarity, adding the ternary is a more readable approach. Thanks!"}, {"owner": {"reputation": 9234, "user_id": 4952669, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OFAqZ.jpg?s=128&g=1", "display_name": "Divyanshu Maithani", "link": "https://stackoverflow.com/users/4952669/divyanshu-maithani"}, "edited": false, "score": 0, "creation_date": 1574058841, "post_id": 57585056, "comment_id": 104080517, "body": "Your comment regarding <code>gender</code> being an empty string doesn&#39;t seem correct to me. If <code>gender</code> were an empty string <code>&#39;&#39;</code> it would coerce to <code>false</code> and therefore not conditionally spread."}, {"owner": {"reputation": 134258, "user_id": 785065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAbxM.jpg?s=128&g=1", "display_name": "loganfsmyth", "link": "https://stackoverflow.com/users/785065/loganfsmyth"}, "reply_to_user": {"reputation": 9234, "user_id": 4952669, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OFAqZ.jpg?s=128&g=1", "display_name": "Divyanshu Maithani", "link": "https://stackoverflow.com/users/4952669/divyanshu-maithani"}, "edited": false, "score": 0, "creation_date": 1574059836, "post_id": 57585056, "comment_id": 104080843, "body": "@DivyanshuMaithani Object spread uses object coercion as specified here: <a href=\"https://www.ecma-international.org/ecma-262/10.0/index.html#sec-toobject\" rel=\"nofollow noreferrer\">ecma-international.org/ecma-262/10.0/index.html#sec-toobject</a> so there is no coercion to <code>false</code>."}], "tags": [], "owner": {"reputation": 134258, "user_id": 785065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAbxM.jpg?s=128&g=1", "display_name": "loganfsmyth", "link": "https://stackoverflow.com/users/785065/loganfsmyth"}, "is_accepted": true, "score": 3, "last_activity_date": 1566365813, "creation_date": 1566365813, "answer_id": 57585056, "question_id": 57584957, "link": "https://stackoverflow.com/questions/57584957/flow-typing-issue-on-conditional-object-property/57585056#57585056", "title": "Flow typing issue on conditional object property", "body": "<p>Flow is catching a legitimate type error bug in your code here. If <code>gender</code> were an empty string, your code equates to</p>\n\n<pre><code>const user: User = {\n  name: 'xxx',\n  age: 23,\n  ...\"\"\n};\n</code></pre>\n\n<p>which, while not a runtime error, is definitely a weird type error. You should only ever use object spread syntax on an object.</p>\n\n<p>The best fix here would either be to assign the property after, as you've done, or to do</p>\n\n<pre><code>...(props.gender ? { gender: props.gender } : null)\n</code></pre>\n\n<p>which clearly says \"if gender is falsy, don't spread any properties\". You could also use <code>{}</code> instead of <code>null</code>, but that just creates an extra object for no reason.</p>\n"}], "owner": {"reputation": 1772, "user_id": 1410020, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3b5ede2db3c06774d7ae953b660e8791?s=128&d=identicon&r=PG", "display_name": "Cyril F", "link": "https://stackoverflow.com/users/1410020/cyril-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 386, "favorite_count": 1, "accepted_answer_id": 57585056, "answer_count": 2, "score": 1, "last_activity_date": 1566368543, "creation_date": 1566365206, "last_edit_date": 1566368543, "question_id": 57584957, "link": "https://stackoverflow.com/questions/57584957/flow-typing-issue-on-conditional-object-property", "title": "Flow typing issue on conditional object property", "body": "<p>I'm having this flow issue <code>string [1] is not an object</code> with the following code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type User = {\n  name: string,\n  age: number,\n  gender?: string,\n}\n\nconst user: User = {\n  name: 'xxx',\n  age: 23,\n  ...(props.gender &amp;&amp; { gender: props.gender })   // &lt;----- the culprit is this line\n}\n</code></pre>\n\n<p>Do you know why?<br>\nSeems like conditionally setting a key is not correctly supported with the object rest spread operator.</p>\n\n<p>I solved it doing:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const user: User = {\n  name: 'xxx',\n  age: 23,\n}\nif (props.gender) {\n  user.gender = props.gender\n}\n</code></pre>\n\n<p>but I don't want to loose a language feature based on the flow typing.</p>\n"}, {"tags": ["javascript", "jquery", "angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 3272, "user_id": 4269187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yhb5z.jpg?s=128&g=1", "display_name": "Carsten", "link": "https://stackoverflow.com/users/4269187/carsten"}, "edited": false, "score": 0, "creation_date": 1566366869, "post_id": 57584838, "comment_id": 101628442, "body": "You can just call your class functions by using <code>this.</code>"}, {"owner": {"reputation": 25, "user_id": 11909827, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XMtRovFF-qs/AAAAAAAAAAI/AAAAAAAAFdQ/ZlCLgrntMzA/photo.jpg?sz=128", "display_name": "Arun E.R", "link": "https://stackoverflow.com/users/11909827/arun-e-r"}, "reply_to_user": {"reputation": 3272, "user_id": 4269187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yhb5z.jpg?s=128&g=1", "display_name": "Carsten", "link": "https://stackoverflow.com/users/4269187/carsten"}, "edited": false, "score": 0, "creation_date": 1566368257, "post_id": 57584838, "comment_id": 101628946, "body": "<code>TypeError: this.openDialog is not a function</code> using this."}, {"owner": {"reputation": 3272, "user_id": 4269187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yhb5z.jpg?s=128&g=1", "display_name": "Carsten", "link": "https://stackoverflow.com/users/4269187/carsten"}, "edited": false, "score": 0, "creation_date": 1566368304, "post_id": 57584838, "comment_id": 101628962, "body": "Remove the <code>document.addEventListener....</code> nonsense."}, {"owner": {"reputation": 25, "user_id": 11909827, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XMtRovFF-qs/AAAAAAAAAAI/AAAAAAAAFdQ/ZlCLgrntMzA/photo.jpg?sz=128", "display_name": "Arun E.R", "link": "https://stackoverflow.com/users/11909827/arun-e-r"}, "reply_to_user": {"reputation": 3272, "user_id": 4269187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yhb5z.jpg?s=128&g=1", "display_name": "Carsten", "link": "https://stackoverflow.com/users/4269187/carsten"}, "edited": false, "score": 0, "creation_date": 1566368492, "post_id": 57584838, "comment_id": 101629036, "body": "Please check the updated question"}, {"owner": {"reputation": 25, "user_id": 11909827, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XMtRovFF-qs/AAAAAAAAAAI/AAAAAAAAFdQ/ZlCLgrntMzA/photo.jpg?sz=128", "display_name": "Arun E.R", "link": "https://stackoverflow.com/users/11909827/arun-e-r"}, "reply_to_user": {"reputation": 3272, "user_id": 4269187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yhb5z.jpg?s=128&g=1", "display_name": "Carsten", "link": "https://stackoverflow.com/users/4269187/carsten"}, "edited": false, "score": 0, "creation_date": 1566368645, "post_id": 57584838, "comment_id": 101629083, "body": "Only this part of the code is not in angular."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 11909827, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XMtRovFF-qs/AAAAAAAAAAI/AAAAAAAAFdQ/ZlCLgrntMzA/photo.jpg?sz=128", "display_name": "Arun E.R", "link": "https://stackoverflow.com/users/11909827/arun-e-r"}, "edited": false, "score": 0, "creation_date": 1566368216, "post_id": 57585047, "comment_id": 101628930, "body": "Hi, I think you might have misunderstood my question, Im trying to call an angular function inside that Document.addEventListener function. Which is giving me <code>TypeError: this.openDialog is not a function</code> error. The function isnt recognized."}, {"owner": {"reputation": 685, "user_id": 5385135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r9D6X.jpg?s=128&g=1", "display_name": "Bahador Raghibizadeh", "link": "https://stackoverflow.com/users/5385135/bahador-raghibizadeh"}, "reply_to_user": {"reputation": 25, "user_id": 11909827, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XMtRovFF-qs/AAAAAAAAAAI/AAAAAAAAFdQ/ZlCLgrntMzA/photo.jpg?sz=128", "display_name": "Arun E.R", "link": "https://stackoverflow.com/users/11909827/arun-e-r"}, "edited": false, "score": 0, "creation_date": 1566368791, "post_id": 57585047, "comment_id": 101629129, "body": "if you want access to <code>document</code> in angular must be inject document in <code>cunstractor</code>. please check this : <a href=\"https://stackoverflow.com/questions/37521298/how-to-inject-document-in-angular-2-service\">link</a>"}, {"owner": {"reputation": 685, "user_id": 5385135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r9D6X.jpg?s=128&g=1", "display_name": "Bahador Raghibizadeh", "link": "https://stackoverflow.com/users/5385135/bahador-raghibizadeh"}, "reply_to_user": {"reputation": 25, "user_id": 11909827, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XMtRovFF-qs/AAAAAAAAAAI/AAAAAAAAFdQ/ZlCLgrntMzA/photo.jpg?sz=128", "display_name": "Arun E.R", "link": "https://stackoverflow.com/users/11909827/arun-e-r"}, "edited": false, "score": 0, "creation_date": 1566368949, "post_id": 57585047, "comment_id": 101629183, "body": "It is better to use <code>Lifecycle Hooks</code>"}, {"owner": {"reputation": 685, "user_id": 5385135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r9D6X.jpg?s=128&g=1", "display_name": "Bahador Raghibizadeh", "link": "https://stackoverflow.com/users/5385135/bahador-raghibizadeh"}, "reply_to_user": {"reputation": 25, "user_id": 11909827, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XMtRovFF-qs/AAAAAAAAAAI/AAAAAAAAFdQ/ZlCLgrntMzA/photo.jpg?sz=128", "display_name": "Arun E.R", "link": "https://stackoverflow.com/users/11909827/arun-e-r"}, "edited": false, "score": 0, "creation_date": 1566369258, "post_id": 57585047, "comment_id": 101629315, "body": "and check this: <a href=\"https://stackoverflow.com/questions/44817349/how-do-i-include-a-javascript-script-file-in-angular-and-call-a-function-from-th\">How do I include a JavaScript script file in Angular and call a function from that script?</a>"}, {"owner": {"reputation": 25, "user_id": 11909827, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XMtRovFF-qs/AAAAAAAAAAI/AAAAAAAAFdQ/ZlCLgrntMzA/photo.jpg?sz=128", "display_name": "Arun E.R", "link": "https://stackoverflow.com/users/11909827/arun-e-r"}, "edited": false, "score": 0, "creation_date": 1566369495, "post_id": 57585047, "comment_id": 101629418, "body": "Thank you. Will get back if there are issues"}], "tags": [], "owner": {"reputation": 685, "user_id": 5385135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r9D6X.jpg?s=128&g=1", "display_name": "Bahador Raghibizadeh", "link": "https://stackoverflow.com/users/5385135/bahador-raghibizadeh"}, "is_accepted": true, "score": 1, "last_activity_date": 1566366622, "last_edit_date": 1566366622, "creation_date": 1566365770, "answer_id": 57585047, "question_id": 57584838, "link": "https://stackoverflow.com/questions/57584838/accessing-functions-of-angular-in-javascript-jquery/57585047#57585047", "title": "Accessing functions of angular in javascript/JQuery", "body": "<p>you can use from <code>Lifecycle Hooks</code> in angular.\nAfter creating a component/directive by calling its constructor, Angular calls the <code>lifecycle hook</code> methods in the following sequence at specific moments:</p>\n\n<pre><code>ngOnChanges()\nngOnInit()\nngDoCheck()\nngAfterContentInit()\nngAfterContentChecked()\nngAfterViewInit()\nngAfterViewChecked()\nngOnDestroy()\n</code></pre>\n\n<p>please reference to angular doc : <a href=\"https://angular.io/guide/lifecycle-hooks\" rel=\"nofollow noreferrer\">Lifecycle Hooks</a></p>\n\n<pre><code>class MyComponent implements AfterContentInit {\n    openDialog(){\n        //this is mat angular dialog\n    }\n\n    ngAfterContentInit() {\n        this.openDialog()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 11909827, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XMtRovFF-qs/AAAAAAAAAAI/AAAAAAAAFdQ/ZlCLgrntMzA/photo.jpg?sz=128", "display_name": "Arun E.R", "link": "https://stackoverflow.com/users/11909827/arun-e-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 57585047, "answer_count": 1, "score": 1, "last_activity_date": 1566368580, "creation_date": 1566364570, "last_edit_date": 1566368580, "question_id": 57584838, "link": "https://stackoverflow.com/questions/57584838/accessing-functions-of-angular-in-javascript-jquery", "title": "Accessing functions of angular in javascript/JQuery", "body": "<p>Pretty novice in coding, so I have no clue which language it is.\nI have a component.ts file which contains a function. In ngOnInit(), I have written a part of code in Js cause of dependency. Im trying to access the function written outside ngOnInit(), in this js block. </p>\n\n<p>Tried accessing the function using this.openDialog(), but that just showed error saying its not defined.</p>\n\n<p>Tried defining the function itself in js by creating an object of the component and trying to call the function,</p>\n\n<pre><code>constructor(public dialog: MatDialog, private datePipe: DatePipe) {\n\n  }\nngOnInit(){\nvar testVar = new testComponent(dia, date);\n//dia, date are respective constructor params\n}\n</code></pre>\n\n<p>Pretty sure thats not proper, but tried it.</p>\n\n<p>Component.ts:</p>\n\n<pre><code>export class test implements OnInit{\nopenDialog(){\n//this is mat angular dialog\n}\nngOnInit(){\n\n document.addEventListener('DOMContentLoaded', function () {\n\n// trying to call the above openDialog here. \n});\n}\n\n}\n\n</code></pre>\n\n<p>Trying to call the dialog inside document.addEventListener();\nConverting <code>document.addEventListener();</code> is not an option. \nIt would help if I can call that dialog inside.</p>\n\n<p><strong>Edit 1</strong>\nSharing more code, for info:</p>\n\n<pre><code>document.addEventListener('DOMContentLoaded', function () {\n      var events = []\n\n      var calendarEl = document.getElementById('calendar');\n\n      var calendar = new Calendar(calendarEl, {\n        eventLimit: true, // for all non-TimeGrid views\n        views: {\n          dayGridMonth: {\n            eventLimit: 5 // adjust to 6 only for timeGridWeek/timeGridDay\n          }\n        },\n        themeSystem: 'bootstrap',\n        businessHours: {\n          daysOfWeek: [1, 2, 3, 4, 5],\n          startTime: '00:00',\n          endTime: '24:00',\n        },\n        header: {\n          left: 'prev,next',\n          center: 'title',\n          right: 'dayGridMonth,listView,timeGridWeek,timeGridDay'\n        },\n        plugins: [dayGridPlugin, interactionPlugin, listPlugin, bootstrapPlugin, timeGrigPlugin],\n        eventOverlap: false,\n        displayEventTime: false,\n        eventClick: function (info) {\n          this.curEvnt = info;\n          console.log(this.curEvnt)\n          this.openDialog(info.event);   //ERROR\n\n        }\n      });\n    calendar.render();\n});\n</code></pre>\n\n<p>Open dialog is defined and can be called in onInit, but im trying to implement the above code\nError: <code>this.openDialog is not a function</code></p>\n"}, {"tags": ["reactjs", "typescript", "children"], "answers": [{"tags": [], "owner": {"reputation": 207256, "user_id": 5928186, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/QKbVi.jpg?s=128&g=1", "display_name": "Shubham Khatri", "link": "https://stackoverflow.com/users/5928186/shubham-khatri"}, "is_accepted": true, "score": 6, "last_activity_date": 1566364741, "creation_date": 1566364741, "answer_id": 57584869, "question_id": 57584739, "link": "https://stackoverflow.com/questions/57584739/what-is-proper-type-for-reacts-children-as-function/57584869#57584869", "title": "What is proper type for React&#39;s children as function?", "body": "<p>You can specify the children type to be a function which returns a ReactNode</p>\n\n<pre><code>type Props = {\n  id: string,\n  children: (props: InjectedCounterProps) =&gt; React.ReactNode\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 828, "user_id": 2163837, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/7a0ab67d0d3783d3dd23a161f5893819?s=128&d=identicon&r=PG", "display_name": "Sujit Y. Kulkarni", "link": "https://stackoverflow.com/users/2163837/sujit-y-kulkarni"}, "is_accepted": false, "score": 0, "last_activity_date": 1566368293, "creation_date": 1566368293, "answer_id": 57585493, "question_id": 57584739, "link": "https://stackoverflow.com/questions/57584739/what-is-proper-type-for-reacts-children-as-function/57585493#57585493", "title": "What is proper type for React&#39;s children as function?", "body": "<p><code>JSX.Element</code> can also be the type, in case the children being 'DOM element'.</p>\n"}], "owner": {"reputation": 560, "user_id": 2106722, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8322d8fcab9c62149e55ac75a4669dc0?s=128&d=identicon&r=PG", "display_name": "Kamilius", "link": "https://stackoverflow.com/users/2106722/kamilius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 630, "favorite_count": 0, "accepted_answer_id": 57584869, "answer_count": 2, "score": 2, "last_activity_date": 1566368293, "creation_date": 1566363983, "question_id": 57584739, "link": "https://stackoverflow.com/questions/57584739/what-is-proper-type-for-reacts-children-as-function", "title": "What is proper type for React&#39;s children as function?", "body": "<p>I'm passing a children as a function, returning <code>React.ReactNode</code> into Provider HOC like follows:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;Provider variables={{ id: \"qwerty\" }}&gt;\n  {data =&gt; (\n    &lt;ExampleComponent data={data} /&gt;\n  )}\n&lt;/Provider&gt;\n</code></pre>\n\n<p>Here's a provider component example code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type Props = {\n  id: string;\n  children: any; // What type should be put here?\n};\n\nconst Provider: React.SFC&lt;Props&gt; = ({ id, children }) =&gt; {\n  const { data, loading, error } = useQuery&lt;req, reqVariables&gt;(query, {\n    variables: { id }\n  });\n\n  if (loading) return \"Loading...\";\n  if (error) return \"Error\";\n  if (!data) return \"No data\";\n\n  return children(data);\n}\n</code></pre>\n\n<p>If I'm not specifying any type for <code>children</code>, so leaving it to default to <code>React.ReactNode</code>, then line <code>return children(data);</code> shows an error:</p>\n\n<blockquote>\n  <p>Cannot invoke an expression whose type lacks a call signature. Type 'string | number | boolean | {} | ReactElement ReactElement Component)> | null) | (new (props: any) => Component)> | ReactNodeArray | ReactPortal' has no compatible call signatures.</p>\n</blockquote>\n\n<p>If I'm specifying children explicitly in <code>type Props</code> as <code>any</code>, everything works great, but it's <strong>Wrong</strong> from a Typescript and types perspective.</p>\n\n<p>What is a proper type to be put for <code>props.children</code>, when a function returning <code>React.ReactNode</code> is passed instead of <code>React.ReactNode</code> itself, so Typescript would accept it as a valid \"Render function\" and will allow calling <code>children</code> like function?</p>\n"}, {"tags": ["node.js", "typescript"], "comments": [{"owner": {"reputation": 3374, "user_id": 7203873, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8cea8b0090dfbf776ebdb0f1e3c9d8a?s=128&d=identicon&r=PG", "display_name": "Plochie", "link": "https://stackoverflow.com/users/7203873/plochie"}, "edited": false, "score": 0, "creation_date": 1566359306, "post_id": 57584088, "comment_id": 101626821, "body": "you have <code>data.ts</code> typescript file which you are importing in <code>index.js</code> javascript file? O_o"}, {"owner": {"reputation": 5764, "user_id": 3033691, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d3286fd40aade0e7bf90d4d0eda0f29?s=128&d=identicon&r=PG&f=1", "display_name": "userMod2", "link": "https://stackoverflow.com/users/3033691/usermod2"}, "reply_to_user": {"reputation": 3374, "user_id": 7203873, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8cea8b0090dfbf776ebdb0f1e3c9d8a?s=128&d=identicon&r=PG", "display_name": "Plochie", "link": "https://stackoverflow.com/users/7203873/plochie"}, "edited": false, "score": 0, "creation_date": 1566359699, "post_id": 57584088, "comment_id": 101626865, "body": "Right - updated both to .ts however still get the same errors when I try both as in my question"}, {"owner": {"reputation": 3374, "user_id": 7203873, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8cea8b0090dfbf776ebdb0f1e3c9d8a?s=128&d=identicon&r=PG", "display_name": "Plochie", "link": "https://stackoverflow.com/users/7203873/plochie"}, "edited": false, "score": 0, "creation_date": 1566359758, "post_id": 57584088, "comment_id": 101626877, "body": "how you are executing <code>index.ts</code> file?"}, {"owner": {"reputation": 5764, "user_id": 3033691, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d3286fd40aade0e7bf90d4d0eda0f29?s=128&d=identicon&r=PG&f=1", "display_name": "userMod2", "link": "https://stackoverflow.com/users/3033691/usermod2"}, "reply_to_user": {"reputation": 3374, "user_id": 7203873, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8cea8b0090dfbf776ebdb0f1e3c9d8a?s=128&d=identicon&r=PG", "display_name": "Plochie", "link": "https://stackoverflow.com/users/7203873/plochie"}, "edited": false, "score": 0, "creation_date": 1566359935, "post_id": 57584088, "comment_id": 101626899, "body": "With <code>node index.ts</code>"}, {"owner": {"reputation": 3374, "user_id": 7203873, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8cea8b0090dfbf776ebdb0f1e3c9d8a?s=128&d=identicon&r=PG", "display_name": "Plochie", "link": "https://stackoverflow.com/users/7203873/plochie"}, "edited": false, "score": 0, "creation_date": 1566360021, "post_id": 57584088, "comment_id": 101626912, "body": "Typescript is a superset of JavaScript. Node does not understand typescript files. You need to first convert typescript files to JavaScript and then use generated <code>index.js</code> file to run your program."}], "answers": [{"comments": [{"owner": {"reputation": 3374, "user_id": 7203873, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8cea8b0090dfbf776ebdb0f1e3c9d8a?s=128&d=identicon&r=PG", "display_name": "Plochie", "link": "https://stackoverflow.com/users/7203873/plochie"}, "edited": false, "score": 0, "creation_date": 1566359516, "post_id": 57584161, "comment_id": 101626844, "body": "<code>data</code> is user created file. You cannot import it using <code>&#39;data&#39;</code> as this will look in global or node_modules only. For user created modules, you need to provide relative or absolute path of the file. e.g. <code>&#39;.&#47;data&#39;</code> or <code>&#39;&#47;path&#47;to&#47;module&#47;data&#39;</code>"}, {"owner": {"reputation": 36, "user_id": 9966539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45db989b796862f1f067181e5494ad5c?s=128&d=identicon&r=PG", "display_name": "user9966539", "link": "https://stackoverflow.com/users/9966539/user9966539"}, "reply_to_user": {"reputation": 3374, "user_id": 7203873, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8cea8b0090dfbf776ebdb0f1e3c9d8a?s=128&d=identicon&r=PG", "display_name": "Plochie", "link": "https://stackoverflow.com/users/7203873/plochie"}, "edited": false, "score": 0, "creation_date": 1566359574, "post_id": 57584161, "comment_id": 101626849, "body": "Edited my answer. Please check"}], "tags": [], "owner": {"reputation": 36, "user_id": 9966539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45db989b796862f1f067181e5494ad5c?s=128&d=identicon&r=PG", "display_name": "user9966539", "link": "https://stackoverflow.com/users/9966539/user9966539"}, "is_accepted": false, "score": 0, "last_activity_date": 1581769345, "last_edit_date": 1581769345, "creation_date": 1566359026, "answer_id": 57584161, "question_id": 57584088, "link": "https://stackoverflow.com/questions/57584088/typescript-importing-a-module-cannot-find-module/57584161#57584161", "title": "Typescript - Importing a Module - Cannot Find Module", "body": "<p>If you are using typescript try importing like this :</p>\n\n<pre><code>import { Data} from \"./Data\";\n\nlet myData= new Data();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 926, "user_id": 4830976, "user_type": "registered", "profile_image": "https://graph.facebook.com/902487869802505/picture?type=large", "display_name": "Amol B Jamkar", "link": "https://stackoverflow.com/users/4830976/amol-b-jamkar"}, "is_accepted": false, "score": -1, "last_activity_date": 1566361979, "creation_date": 1566361979, "answer_id": 57584478, "question_id": 57584088, "link": "https://stackoverflow.com/questions/57584088/typescript-importing-a-module-cannot-find-module/57584478#57584478", "title": "Typescript - Importing a Module - Cannot Find Module", "body": "<p>You need to export your model like this,</p>\n\n<pre><code>const Data = mongoose.model('Data', DataSchema);\n\nexport default Data;\n</code></pre>\n\n<p>And can import it in any file like,</p>\n\n<pre><code>import Data from \"./Data\";\n\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5764, "user_id": 3033691, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d3286fd40aade0e7bf90d4d0eda0f29?s=128&d=identicon&r=PG&f=1", "display_name": "userMod2", "link": "https://stackoverflow.com/users/3033691/usermod2"}, "edited": false, "score": 0, "creation_date": 1566434599, "post_id": 57584810, "comment_id": 101658533, "body": "Thanks - much clearer. So basically I have having issues because I&#39;m using typescripts style of importing and exporting but not actually compiling it into JS?"}, {"owner": {"reputation": 220, "user_id": 11566133, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-b15hso5uNF8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcM9FExKBGauVSxgZyhEdbJVhZUAQ/mo/photo.jpg?sz=128", "display_name": "Dat Le", "link": "https://stackoverflow.com/users/11566133/dat-le"}, "reply_to_user": {"reputation": 5764, "user_id": 3033691, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d3286fd40aade0e7bf90d4d0eda0f29?s=128&d=identicon&r=PG&f=1", "display_name": "userMod2", "link": "https://stackoverflow.com/users/3033691/usermod2"}, "edited": false, "score": 0, "creation_date": 1566444241, "post_id": 57584810, "comment_id": 101660062, "body": "Yes, NodeJS only work with JS, and TS actually has something more just than import/export <a href=\"https://auth0.com/blog/javascript-module-systems-showdown\" rel=\"nofollow noreferrer\">module system</a>: <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html\" rel=\"nofollow noreferrer\">type-system</a>, <a href=\"https://www.typescriptlang.org/docs/handbook/decorators.html\" rel=\"nofollow noreferrer\">decorators</a>,..."}], "tags": [], "owner": {"reputation": 220, "user_id": 11566133, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-b15hso5uNF8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcM9FExKBGauVSxgZyhEdbJVhZUAQ/mo/photo.jpg?sz=128", "display_name": "Dat Le", "link": "https://stackoverflow.com/users/11566133/dat-le"}, "is_accepted": true, "score": 2, "last_activity_date": 1566364419, "creation_date": 1566364419, "answer_id": 57584810, "question_id": 57584088, "link": "https://stackoverflow.com/questions/57584088/typescript-importing-a-module-cannot-find-module/57584810#57584810", "title": "Typescript - Importing a Module - Cannot Find Module", "body": "<h3>Quick solution:</h3>\n\n<p>Use <code>ts-node</code> to run your TypeScript files directly</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>npm install --dev ts-node\n</code></pre>\n\n<p>Start a node process with this command:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>node -r ts-node/register index.ts\n</code></pre>\n\n<p>Make sure your <code>package.json</code> should contain something like these:</p>\n\n<pre><code>{\n  \"dependencies\": {\n    \"mongoose\": \"^5.6.10\",\n    \"typescript\": \"^3.5.3\"\n  },\n  \"devDependencies\": {\n    \"ts-node\": \"^8.3.0\"\n  }\n}\n</code></pre>\n\n<h3>About TypeScript:</h3>\n\n<ol>\n<li><p><code>TypeScript</code> actually is a superset (not a subset) of JavaScript.\n<img src=\"https://www.wakefly.com/wp-content/uploads/2017/08/ES6.png\" alt=\"typescript\"></p></li>\n<li><p><code>.ts</code> files must be compiled into JavaScript before running on any JavaScript environment (NodeJS, browser,...).</p></li>\n<li><p>Normally in a TypeScript project, we will have a <code>build</code> command in <code>package.json</code>, which will compile your <code>.ts</code> files into <code>.js</code> files, follow with a <code>start</code> command to start a node process with compiled <code>js</code> file:</p></li>\n</ol>\n\n<pre><code>{\n  \"scripts\": {\n    \"build\": \"tsc index.ts\",\n    \"start\": \"node index.js\",\n    \"start:dev\": \"node -r ts-node/register index.ts\"\n  }\n}\n</code></pre>\n\n<ol start=\"4\">\n<li>Or you can run <code>.ts</code> files directly with <a href=\"https://github.com/TypeStrong/ts-node\" rel=\"nofollow noreferrer\">ts-node</a>.</li>\n</ol>\n"}], "owner": {"reputation": 5764, "user_id": 3033691, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d3286fd40aade0e7bf90d4d0eda0f29?s=128&d=identicon&r=PG&f=1", "display_name": "userMod2", "link": "https://stackoverflow.com/users/3033691/usermod2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8336, "favorite_count": 0, "accepted_answer_id": 57584810, "answer_count": 3, "score": 3, "last_activity_date": 1581769345, "creation_date": 1566358194, "question_id": 57584088, "link": "https://stackoverflow.com/questions/57584088/typescript-importing-a-module-cannot-find-module", "title": "Typescript - Importing a Module - Cannot Find Module", "body": "<p>I have this schema in file <code>data.ts</code></p>\n\n<pre><code>import mongoose from \"mongoose\";\nconst Schema = mongoose.Schema;\n\nconst DataSchema = new Schema(\n    {\n        id: Number,\n        message: String,\n    },\n    { timestamps: true }\n);\n\nmodule.exports = mongoose.model('Data', DataSchema);\n</code></pre>\n\n<p>When I try to import this in my index.js as :</p>\n\n<p><code>const Data = require('./data');</code></p>\n\n<p>I keep seeing this error:</p>\n\n<pre><code>internal/modules/cjs/loader.js:584\n    throw err;\n    ^\n\nError: Cannot find module './data'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:582:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:508:25)\n    at Module.require (internal/modules/cjs/loader.js:637:17)\n</code></pre>\n\n<p>Any ideas why this is.</p>\n\n<p>I've tried doing:</p>\n\n<p><code>export const data = mongoose.model('Data', DataSchema);</code></p>\n\n<p>then importing with <code>import { data as Data } from './data'</code></p>\n\n<p>But that also returns the following error:</p>\n\n<pre><code>import { data as Data } from './data'\n       ^\n\nSyntaxError: Unexpected token {\n    at new Script (vm.js:80:7)\n    at createScript (vm.js:274:10)\n    at Object.runInThisContext (vm.js:326:10)\n    at Module._compile (internal/modules/cjs/loader.js:664:28)\n</code></pre>\n"}, {"tags": ["typescript", "webpack"], "comments": [{"owner": {"reputation": 8200, "user_id": 3120446, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/heCaC.jpg?s=128&g=1", "display_name": "dx_over_dt", "link": "https://stackoverflow.com/users/3120446/dx-over-dt"}, "reply_to_user": {"reputation": 1984, "user_id": 6129793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXYqC.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/6129793/peter"}, "edited": false, "score": 1, "creation_date": 1566400384, "post_id": 57584018, "comment_id": 101646692, "body": "The answer you handed me works fine.  Thanks!"}, {"owner": {"reputation": 8200, "user_id": 3120446, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/heCaC.jpg?s=128&g=1", "display_name": "dx_over_dt", "link": "https://stackoverflow.com/users/3120446/dx-over-dt"}, "reply_to_user": {"reputation": 1984, "user_id": 6129793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXYqC.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/6129793/peter"}, "edited": false, "score": 0, "creation_date": 1566400500, "post_id": 57584018, "comment_id": 101646749, "body": "If you want to link it in an answer to this question, I&#39;ll mark that as the answer.  Otherwise, I can do it."}, {"owner": {"reputation": 8200, "user_id": 3120446, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/heCaC.jpg?s=128&g=1", "display_name": "dx_over_dt", "link": "https://stackoverflow.com/users/3120446/dx-over-dt"}, "reply_to_user": {"reputation": 1984, "user_id": 6129793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXYqC.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/6129793/peter"}, "edited": false, "score": 1, "creation_date": 1566400629, "post_id": 57584018, "comment_id": 101646815, "body": "(As an answer, not a comment ;) )"}], "answers": [{"tags": [], "owner": {"reputation": 1984, "user_id": 6129793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXYqC.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/6129793/peter"}, "is_accepted": true, "score": 3, "last_activity_date": 1566401246, "creation_date": 1566401246, "answer_id": 57594922, "question_id": 57584018, "link": "https://stackoverflow.com/questions/57584018/use-webpack-to-require-different-app-config-file-based-on-mode/57594922#57594922", "title": "Use Webpack to require different app config file based on mode", "body": "<p>The idea from the answer below is to use the <a href=\"https://webpack.js.org/plugins/define-plugin/\" rel=\"nofollow noreferrer\">webpack-define-plugin</a></p>\n\n<h2><code>webpack.config.js</code></h2>\n\n<pre><code>const argv = require('yargs').argv;\nconst webpack = require('webpack');\n\n// Import all app configs\nconst appConfig = require('./path/to/config.json'); /* Base config */\nconst appConfigDev = require('./path/to/config.dev.json'); /* Development */\nconst appConfigProd = require('./path/to/config.prod.json'); /* Production */\n\nconst ENV = argv.env || 'dev';\n\nfunction composeConfig(env) { /* Helper function to dynamically set runtime config */\n  if (env === 'dev') {\n    return { ...appConfig, ...appConfigDev };\n  }\n\n  if (env === 'production') {\n    return { ...appConfig, ...appConfigProd };\n  }\n}\n\n// Webpack config object\nmodule.exports = {\n  entry: './src/app.js',\n  ...\n  plugins: [\n    new webpack.DefinePlugin({\n      __APP_CONFIG__: JSON.stringify(composeConfig(ENV))\n    })\n  ]\n};\n</code></pre>\n\n<h2>Usage in your application</h2>\n\n<pre><code>const config = __APP_CONFIG__\n/* config available in module scope */\n</code></pre>\n\n<h3>Reference:</h3>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/43436223/6129793\">https://stackoverflow.com/a/43436223/6129793</a></li>\n</ul>\n"}], "owner": {"reputation": 8200, "user_id": 3120446, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/heCaC.jpg?s=128&g=1", "display_name": "dx_over_dt", "link": "https://stackoverflow.com/users/3120446/dx-over-dt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 0, "closed_date": 1566401266, "accepted_answer_id": 57594922, "answer_count": 1, "score": 3, "last_activity_date": 1566401246, "creation_date": 1566357505, "last_edit_date": 1566399863, "question_id": 57584018, "link": "https://stackoverflow.com/questions/57584018/use-webpack-to-require-different-app-config-file-based-on-mode", "closed_reason": "Duplicate", "title": "Use Webpack to require different app config file based on mode", "body": "<p>I have a Webpacked TypeScript app that loads a json config file.  The project is in its infancy so we don't have a good config store in production yet, so we're storing our config files side-by-side: <code>config.json</code> and <code>config.dev.json</code>.</p>\n\n<p>In my TypeScript, I want to be able to type</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>import Config from './path/to/config.json';\n</code></pre>\n\n<p>and if <code>--mode development</code> is passed into webpack, I want it to require <code>./path/to/config.dev.json</code>.</p>\n\n<p>Is this possible with just Webpack or Webpack + tsconfig.json?</p>\n"}, {"tags": ["typescript", "angular6"], "answers": [{"tags": [], "owner": {"reputation": 5947, "user_id": 2924577, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c499286ca761a5b21f3744ca229dffb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil", "link": "https://stackoverflow.com/users/2924577/nikhil"}, "is_accepted": true, "score": 2, "last_activity_date": 1566357614, "creation_date": 1566357614, "answer_id": 57584030, "question_id": 57583973, "link": "https://stackoverflow.com/questions/57583973/how-to-get-the-key-value-in-key-value-array/57584030#57584030", "title": "How to get the key value in key-value array", "body": "<p>One approach would be to use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys\" rel=\"nofollow noreferrer\">Object.keys()</a>:   </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const alpha = [\r\n    { 'A': ['11','12','13'] },\r\n    { 'B': ['21','22','23'] },\r\n    { 'C': ['31','32','33'] }\r\n];\r\n\r\nconst arr = [];\r\n\r\nalpha.forEach(function(item) {\r\n  arr.push(Object.keys(item)[0]);\r\n});\r\n\r\nconsole.log(arr);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1845, "user_id": 2551591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HhCx2.png?s=128&g=1", "display_name": "Sweet Chilly Philly", "link": "https://stackoverflow.com/users/2551591/sweet-chilly-philly"}, "is_accepted": false, "score": 0, "last_activity_date": 1566357906, "creation_date": 1566357906, "answer_id": 57584058, "question_id": 57583973, "link": "https://stackoverflow.com/questions/57583973/how-to-get-the-key-value-in-key-value-array/57584058#57584058", "title": "How to get the key value in key-value array", "body": "<p>I would build it up deconstructing the array like so:</p>\n\n<pre><code>let newArray6 = {'A':[ ...alpha[0].A],'B':[ ...alpha[1].B],'C':[ ...alpha[2].C]}\n</code></pre>\n\n<p>This could then be easily turned into a programmatic loop :)</p>\n\n<p>The output would be as follows:</p>\n\n<pre><code>A: (3) [\"11\", \"12\", \"13\"]\nB: (3) [\"21\", \"22\", \"23\"]\nC: (3) [\"31\", \"32\", \"33\"]\n</code></pre>\n"}], "owner": {"reputation": 2266, "user_id": 1019042, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e50f9c4bba67e6931b2cace29ad9b2ff?s=128&d=identicon&r=PG", "display_name": "user1019042", "link": "https://stackoverflow.com/users/1019042/user1019042"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 57584030, "answer_count": 2, "score": 0, "last_activity_date": 1566357906, "creation_date": 1566357080, "question_id": 57583973, "link": "https://stackoverflow.com/questions/57583973/how-to-get-the-key-value-in-key-value-array", "title": "How to get the key value in key-value array", "body": "<p>I have the following expression:</p>\n\n<pre><code>export const alpha: [\n    { 'A': ['11','12','13'] },\n    { 'B': ['21','22','23'] },\n    { 'C': ['31','32','33'] }\n];\n</code></pre>\n\n<p>I need to create a new array that has the leading keys: 'A', 'B' and 'C'</p>\n\n<p>I'm trying to do this, but there is no <code>key</code> property:</p>\n\n<pre><code>const arr = [];\nalpha.forEach(function(item) {\n  arr.push(item.key);\n});\n</code></pre>\n\n<p>How to do it?</p>\n"}, {"tags": ["angular", "typescript", "ionic4"], "comments": [{"owner": {"reputation": 3645, "user_id": 6019563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1072513362799030/picture?type=large", "display_name": "Sachin Gupta", "link": "https://stackoverflow.com/users/6019563/sachin-gupta"}, "edited": false, "score": 1, "creation_date": 1566358083, "post_id": 57583923, "comment_id": 101626637, "body": "It is not a problem with the code. Its more to do with the checkbox not firing the event. You should be able to find related questions here."}, {"owner": {"reputation": 395, "user_id": 7061557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/202d8e456de564b67f897050b294eebe?s=128&d=identicon&r=PG&f=1", "display_name": "iams0nus", "link": "https://stackoverflow.com/users/7061557/iams0nus"}, "edited": false, "score": 1, "creation_date": 1566359960, "post_id": 57583923, "comment_id": 101626902, "body": "can you please post your HTML here?"}, {"owner": {"reputation": 25, "user_id": 11319085, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0gtWhjqxqQ4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3ree5MMn1Pg9OlBEAz7ry1r-X_g4TA/mo/photo.jpg?sz=128", "display_name": "geeth chowdary", "link": "https://stackoverflow.com/users/11319085/geeth-chowdary"}, "edited": false, "score": 0, "creation_date": 1566380233, "post_id": 57583923, "comment_id": 101634819, "body": "I found the answer. I changed click event to ionChang event it worked successfully. But still I am new to Angular world I am not sure of what I did."}], "answers": [{"tags": [], "owner": {"reputation": 25, "user_id": 11319085, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0gtWhjqxqQ4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3ree5MMn1Pg9OlBEAz7ry1r-X_g4TA/mo/photo.jpg?sz=128", "display_name": "geeth chowdary", "link": "https://stackoverflow.com/users/11319085/geeth-chowdary"}, "is_accepted": false, "score": 0, "last_activity_date": 1566380294, "creation_date": 1566380294, "answer_id": 57588706, "question_id": 57583923, "link": "https://stackoverflow.com/questions/57583923/code-in-commponent-ts-file-is-not-executed-sequentially/57588706#57588706", "title": "Code in commponent.ts file is not executed sequentially", "body": "<p>I found the answer. I changed click event to ionChang event in html it worked successfully. But still I am new to Angular world I am not sure of what I did.</p>\n"}], "owner": {"reputation": 25, "user_id": 11319085, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0gtWhjqxqQ4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3ree5MMn1Pg9OlBEAz7ry1r-X_g4TA/mo/photo.jpg?sz=128", "display_name": "geeth chowdary", "link": "https://stackoverflow.com/users/11319085/geeth-chowdary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566380294, "creation_date": 1566356609, "last_edit_date": 1592644375, "question_id": 57583923, "link": "https://stackoverflow.com/questions/57583923/code-in-commponent-ts-file-is-not-executed-sequentially", "title": "Code in commponent.ts file is not executed sequentially", "body": "<p>I have issue with below block of code.</p>\n<pre><code>  setCheckBoxValues(){\n    this.selectedMaterials = []\n    this.chooseAtleastOneError = true;//This Disables the button in my html page\n    for (let key of Object.keys( this.formObj.materials )) {\n      if(this.formObj.materials[key]){\n        this.selectedMaterials.push(key);\n        this.chooseAtleastOneError = false;//This Enables the button in my html page\n      }\n    }\n  }\n\n</code></pre>\n<p>but the problem is as my code not executing sequentially. On click of checkbox for the second time Button in html page is enabled irrespective of whether checkbox is checked or unchecked.</p>\n<h3>HTML</h3>\n<pre><code>&lt;form (ngSubmit)=&quot;logForm()&quot;&gt;\n\n&lt;ion-list&gt;\n  &lt;ion-radio-group [(ngModel)]=&quot;formObj['unit_measure']&quot; name=&quot;unit_measure&quot;&gt;\n    &lt;ion-list-header&gt;\n        Unit\n    &lt;/ion-list-header&gt;\n    &lt;ion-item&gt;\n        &lt;ion-radio value=&quot;MPa&quot; name=&quot;unit_measure&quot; checked&gt;&lt;/ion-radio&gt;\n        &lt;ion-label&gt;SI(MPa)&lt;/ion-label&gt;\n    &lt;/ion-item&gt;\n\n    &lt;ion-item&gt;\n        &lt;ion-radio value=&quot;ksi&quot; name=&quot;unit_measure&quot;&gt;&lt;/ion-radio&gt;\n        &lt;ion-label&gt;ksi(English)&lt;/ion-label&gt;\n    &lt;/ion-item&gt;\n    &lt;/ion-radio-group&gt;\n&lt;/ion-list&gt;\n\n&lt;ion-searchbar (ionInput)=&quot;getItems($event)&quot;&gt;&lt;/ion-searchbar&gt;\n&lt;small *ngIf=&quot;chooseAtleastOneError&quot;&gt;Choose atleast one material&lt;/small&gt;\n&lt;ion-list&gt;\n        &lt;ion-item *ngFor=&quot;let item of tempItems&quot;&gt;\n          &lt;ion-grid&gt;\n            &lt;ion-row&gt;\n              &lt;ion-col size=10&gt;\n                &lt;ion-checkbox (click)=&quot;setCheckBoxValues()&quot; class=&quot;float-left&quot; [(ngModel)]=&quot;formObj.materials[item]&quot; name=&quot;title&quot;&gt;&lt;/ion-checkbox&gt;\n                &lt;ion-label  class=&quot;float-left&quot;&gt;{{item}}&lt;/ion-label&gt;\n              &lt;/ion-col&gt;\n              &lt;ion-col&gt;\n                &lt;app-show-current-dataobj [material]=&quot;item&quot;\n                  (click)=&quot;dataService.setMaterialToModal(item)&quot;&gt;\n                &lt;/app-show-current-dataobj&gt;\n              &lt;/ion-col&gt;\n            &lt;/ion-row&gt;\n          &lt;/ion-grid&gt;\n        &lt;/ion-item&gt;\n&lt;/ion-list&gt;\n&lt;ion-grid&gt;\n  &lt;ion-row&gt;\n    &lt;ion-col&gt;\n      &lt;app-add-custom-material&gt;&lt;/app-add-custom-material&gt;\n    &lt;/ion-col&gt;\n    &lt;ion-col&gt;\n      &lt;ion-button [(disabled)]=&quot;chooseAtleastOneError&quot; type=&quot;submit&quot; expand=&quot;full&quot; [routerDirection]=&quot;'step100'&quot; [routerLink]=&quot;['/step200']&quot; navPop&gt;Go&lt;/ion-button&gt;\n    &lt;/ion-col&gt;\n  &lt;/ion-row&gt; \n&lt;/ion-grid&gt;\n&lt;/form&gt;\n</code></pre>\n<p>Thanks in advance</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 126, "user_id": 11949321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c32c46e326f310b236a1dbc9734fef7c?s=128&d=identicon&r=PG&f=1", "display_name": "swapy", "link": "https://stackoverflow.com/users/11949321/swapy"}, "edited": false, "score": 0, "creation_date": 1566356193, "post_id": 57583737, "comment_id": 101626360, "body": "Thanks dude for your answer.. But how to get data <code>&quot;noPage&quot;</code> and <code>&quot;totalPage&quot;</code>?  when i <code>console.log(this.dataSource)</code> it only display data from <code>&quot;List&quot;: []</code>"}, {"owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "reply_to_user": {"reputation": 126, "user_id": 11949321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c32c46e326f310b236a1dbc9734fef7c?s=128&d=identicon&r=PG&f=1", "display_name": "swapy", "link": "https://stackoverflow.com/users/11949321/swapy"}, "edited": false, "score": 0, "creation_date": 1566361431, "post_id": 57583737, "comment_id": 101627151, "body": "Don&#39;t pipe anything, just return return this.http.get&lt;AgentDetails&gt;(urls) and you will get the whole response."}], "tags": [], "owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "is_accepted": false, "score": 0, "last_activity_date": 1566354914, "creation_date": 1566354914, "answer_id": 57583737, "question_id": 57583691, "link": "https://stackoverflow.com/questions/57583691/angular-7-get-data-from-api/57583737#57583737", "title": "Angular 7 Get Data From API", "body": "<pre><code>map(res =&gt; res['List'])\n</code></pre>\n\n<p>this runs the function</p>\n\n<pre><code>res =&gt; res['List']\n</code></pre>\n\n<p>on the results, this is stating you want to take the response and return just the property list. So your results are exactly what that map function does.</p>\n\n<p>Get rid of the map to get the entire response.</p>\n"}, {"tags": [], "owner": {"reputation": 243, "user_id": 5185408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/48qPA.jpg?s=128&g=1", "display_name": "dprophecyguy", "link": "https://stackoverflow.com/users/5185408/dprophecyguy"}, "is_accepted": false, "score": 0, "last_activity_date": 1566356032, "creation_date": 1566356032, "answer_id": 57583859, "question_id": 57583691, "link": "https://stackoverflow.com/questions/57583691/angular-7-get-data-from-api/57583859#57583859", "title": "Angular 7 Get Data From API", "body": "<p>What you need to do is to define an Interface for the response you are getting.</p>\n\n<p>For example define one interface like this </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface UserAPIResponse {\n  status: Status;\n  noPage: number;\n  totalPage: number;\n  List: UserList[];\n}\n\ninterface UserList {\n  _id: string;\n  createdDate: string;\n  createdBy: string;\n  enable: string;\n  remarks?: any;\n  Id: string;\n  Name: string;\n}\n\ninterface Status {\n  code: number;\n  message: string;\n}\n</code></pre>\n\n<p>Now you can pick the desired attributes out of your response </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>getService(): Observable&lt;any&gt;  {\n    const urls: string = `http://192.168.0.101:9080/project/api/listall/${Id}`\n\n    return this.http.get&lt;AgentDetails&gt;(urls).pipe(\n       map(({noPage, totalPage, List} : UserAPIResponse) =&gt; {noPage, totalPage, List));\n\n}\n</code></pre>\n\n<p>Now as a response you will get an Object with only these 3 attributes.</p>\n\n<p>If you want to understand a bit more read about destructuring.</p>\n"}, {"comments": [{"owner": {"reputation": 1389, "user_id": 1371714, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9BlWg.jpg?s=128&g=1", "display_name": "Indrakumara", "link": "https://stackoverflow.com/users/1371714/indrakumara"}, "edited": false, "score": 0, "creation_date": 1566357549, "post_id": 57584010, "comment_id": 101626570, "body": "@swapy please check is this what you need"}], "tags": [], "owner": {"reputation": 1389, "user_id": 1371714, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9BlWg.jpg?s=128&g=1", "display_name": "Indrakumara", "link": "https://stackoverflow.com/users/1371714/indrakumara"}, "is_accepted": false, "score": 1, "last_activity_date": 1566357436, "creation_date": 1566357436, "answer_id": 57584010, "question_id": 57583691, "link": "https://stackoverflow.com/questions/57583691/angular-7-get-data-from-api/57584010#57584010", "title": "Angular 7 Get Data From API", "body": "<p>try below example,</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-dljtkv\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-dljtkv</a></p>\n\n<p>Service Class</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { HttpClient, HttpErrorResponse, HttpHeaders } from '@angular/common/http';\n\nimport { AgentDetails } from './agent-details';\n\n@Injectable()\nexport class AgentService {\n\n  constructor( public http: HttpClient,) { }\n\n  getService(): Observable&lt;AgentDetails&gt;  {\n     const urls: string = `http://192.168.0.101:9080/project/api/listall/${Id}`\n\n    // const urls = \"/assets/agent-details.json\";\n\n    return this.http.get&lt;AgentDetails&gt;(urls);\n\n  }\n\n}\n</code></pre>\n\n<p>Component Class</p>\n\n<pre><code>import { Component } from '@angular/core';\n\nimport {AgentService} from './agent.service';\nimport { AgentDetails } from './agent-details';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent   {\n  name = 'Angular';\n\n  agentDetails:AgentDetails;\n\n  constructor(public agentService: AgentService){\n      this.getAgentDetails();\n  }\n\n\n  getAgentDetails(){\n    this.agentService.getService().subscribe(data=&gt;{\n      this.agentDetails = data;\n      console.log(JSON.stringify(this.agentDetails));\n    })\n  }\n\n\n}\n</code></pre>\n\n<p>Model classes</p>\n\n<pre><code>import { Status } from './status';\nimport { Agent } from './agent';\nexport class AgentDetails {\n  status: Status;\n  noPage:number;\n  totalPage:number;\n  List: Agent[];\n\n}\n\nexport class Status {\n\n  code:number;\n  message:string;\n}\n\nexport class Agent {\n\n\n  _id: string;\n  createdDate: Date;\n  createdBy: string;\n  enable: boolean;\n  remarks: string;\n  Id: number;\n  Name: string;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 126, "user_id": 11949321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c32c46e326f310b236a1dbc9734fef7c?s=128&d=identicon&r=PG&f=1", "display_name": "swapy", "link": "https://stackoverflow.com/users/11949321/swapy"}, "edited": false, "score": 0, "creation_date": 1566373055, "post_id": 57584047, "comment_id": 101631023, "body": "Thank you dude.. it work.. I got the value... But It come out error <code>ERROR TypeError: &quot;_this.dataSource.data.map is not a function&quot;</code>"}, {"owner": {"reputation": 3645, "user_id": 6019563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1072513362799030/picture?type=large", "display_name": "Sachin Gupta", "link": "https://stackoverflow.com/users/6019563/sachin-gupta"}, "reply_to_user": {"reputation": 126, "user_id": 11949321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c32c46e326f310b236a1dbc9734fef7c?s=128&d=identicon&r=PG&f=1", "display_name": "swapy", "link": "https://stackoverflow.com/users/11949321/swapy"}, "edited": false, "score": 0, "creation_date": 1566380059, "post_id": 57584047, "comment_id": 101634686, "body": "The error came on this code ? Or some other place ?"}, {"owner": {"reputation": 126, "user_id": 11949321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c32c46e326f310b236a1dbc9734fef7c?s=128&d=identicon&r=PG&f=1", "display_name": "swapy", "link": "https://stackoverflow.com/users/11949321/swapy"}, "edited": false, "score": 0, "creation_date": 1566438879, "post_id": 57584047, "comment_id": 101659210, "body": "i&#39;ve figured out the error. it come from other place. Thanks"}], "tags": [], "owner": {"reputation": 3645, "user_id": 6019563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1072513362799030/picture?type=large", "display_name": "Sachin Gupta", "link": "https://stackoverflow.com/users/6019563/sachin-gupta"}, "is_accepted": true, "score": 1, "last_activity_date": 1566357799, "creation_date": 1566357799, "answer_id": 57584047, "question_id": 57583691, "link": "https://stackoverflow.com/questions/57583691/angular-7-get-data-from-api/57584047#57584047", "title": "Angular 7 Get Data From API", "body": "<p>This is because you are taking out only list from the object in the <code>map</code> function: </p>\n\n<pre><code>map(res =&gt; res['List']);\n</code></pre>\n\n<p>the <code>res['List']</code> will return only <code>List</code>. If you want to return more information, you can use:</p>\n\n<pre><code>map(res =&gt; {\n    return {\n      List: res['List'],\n      noPage: res['noPage'],\n      totalPage: res['totalPage']\n    };\n}\n</code></pre>\n\n<p>checkout the documentation for <code>map</code> for more information</p>\n"}], "owner": {"reputation": 126, "user_id": 11949321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c32c46e326f310b236a1dbc9734fef7c?s=128&d=identicon&r=PG&f=1", "display_name": "swapy", "link": "https://stackoverflow.com/users/11949321/swapy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2300, "favorite_count": 0, "accepted_answer_id": 57584047, "answer_count": 4, "score": 0, "last_activity_date": 1566357799, "creation_date": 1566354476, "question_id": 57583691, "link": "https://stackoverflow.com/questions/57583691/angular-7-get-data-from-api", "title": "Angular 7 Get Data From API", "body": "<p>I need to get data from API using GET method. Actually, I need <code>\"noPage\"</code>, <code>\"totalPage\"</code> , <code>\"List\":[]</code></p>\n\n<p><strong>This is the response from API</strong></p>\n\n<pre><code>{\n    \"status\": {\n        \"code\": 0,\n        \"message\": \"Success.\"\n    },\n    \"noPage\": 5,\n    \"totalPage\": 9,\n    \"List\": [\n        {\n            \"_id\": \"CFB2D5FFDFDADDB954404BF1B9D59844\",\n            \"createdDate\": \"2019-06-25T08:42:27.799+0000\",\n            \"createdBy\": \"Josh\",\n            \"enable\": \"true\",\n            \"remarks\": null,\n            \"Id\": \"0044\",\n            \"Name\": \"Trisya\"\n]\n\n}\n</code></pre>\n\n<p>Then I'm using this method to get data</p>\n\n<p><strong>Service</strong></p>\n\n<pre><code>getService(): Observable&lt;any&gt;  {\n    const urls: string = `http://192.168.0.101:9080/project/api/listall/${Id}`\n\n    return this.http.get&lt;AgentDetails&gt;(urls).pipe(map(res =&gt; res['List']));\n\n  }\n</code></pre>\n\n<p>I only success get data in <code>\"List\": []</code> only not <code>\"noPage\"</code>and <code>\"totalPage\"</code></p>\n\n<p>How I need to do to get <code>\"noPage\"</code>and <code>\"totalPage\"</code></p>\n\n<p>Hope you all can help</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["javascript", "angular", "typescript", "jasmine", "angular-unit-test"], "owner": {"reputation": 167, "user_id": 11917666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c65b13aaccf98ba5c7ddb3d8ca7515?s=128&d=identicon&r=PG&f=1", "display_name": "learner", "link": "https://stackoverflow.com/users/11917666/learner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 16, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1566350355, "creation_date": 1566350355, "question_id": 57583290, "link": "https://stackoverflow.com/questions/57583290/how-to-check-whether-for-assistance-of-element-based-on-element-name-in-angular", "title": "How to check whether for assistance of element based on element name in angular unit testing?", "body": "<p>I have a side navbar as follows,</p>\n\n<pre><code>      &lt;kendo-sidenav *ngFor=\"let nav of navOptions\" [title]=\"nav.title\"&gt;\n      &lt;kendo-sidenav&gt;\n</code></pre>\n\n<p>My ts,</p>\n\n<pre><code>       \"navOptions\" = [{'title':'profile'},{'title':'friends'}];\n</code></pre>\n\n<p>My spec,</p>\n\n<pre><code>     it('should render title in a h1 tag', async(() =&gt; {\n        const fixture = TestBed.createComponent(AppComponent);\n        fixture.detectChanges();\n        const compiled = fixture.debugElement.nativeElement;\n       expect(compiled.querySelector('kendo-sidenav')).toBeTruthy()\n      }));\n</code></pre>\n\n<p>But here I want to check 2 conditions,</p>\n\n<p>1) Check side navbar is displayed if navOptions is not empty</p>\n\n<p>2_ Check side navbar is not displayed if navOptions is empty.</p>\n\n<p>I am new to unit testing,can anyone please suggest me help.Thanks.</p>\n"}, {"tags": ["javascript", "typescript", "service-worker"], "comments": [{"owner": {"reputation": 653, "user_id": 2360287, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/igJMJ.png?s=128&g=1", "display_name": "RenaissanceProgrammer", "link": "https://stackoverflow.com/users/2360287/renaissanceprogrammer"}, "edited": false, "score": 0, "creation_date": 1566349447, "post_id": 57583086, "comment_id": 101625271, "body": "<a href=\"https://stackoverflow.com/questions/37704641/access-dom-by-web-worker\" title=\"access dom by web worker\">stackoverflow.com/questions/37704641/access-dom-by-web-worke&zwnj;&#8203;r</a>"}, {"owner": {"reputation": 1120, "user_id": 3199478, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/CIAEg.jpg?s=128&g=1", "display_name": "codehitman", "link": "https://stackoverflow.com/users/3199478/codehitman"}, "reply_to_user": {"reputation": 653, "user_id": 2360287, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/igJMJ.png?s=128&g=1", "display_name": "RenaissanceProgrammer", "link": "https://stackoverflow.com/users/2360287/renaissanceprogrammer"}, "edited": false, "score": 1, "creation_date": 1566350743, "post_id": 57583086, "comment_id": 101625474, "body": "@RenaissanceProgrammer Not sure which part of the post you want me to look at. But it doesn&#39;t seem relevant to me."}, {"owner": {"reputation": 653, "user_id": 2360287, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/igJMJ.png?s=128&g=1", "display_name": "RenaissanceProgrammer", "link": "https://stackoverflow.com/users/2360287/renaissanceprogrammer"}, "edited": false, "score": 0, "creation_date": 1566409183, "post_id": 57583086, "comment_id": 101650614, "body": "my understanding is that your res.body is coming from req.body and Request.body is the body of the DOM which is is not accessible from a worker, is that not correct?"}, {"owner": {"reputation": 1120, "user_id": 3199478, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/CIAEg.jpg?s=128&g=1", "display_name": "codehitman", "link": "https://stackoverflow.com/users/3199478/codehitman"}, "reply_to_user": {"reputation": 653, "user_id": 2360287, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/igJMJ.png?s=128&g=1", "display_name": "RenaissanceProgrammer", "link": "https://stackoverflow.com/users/2360287/renaissanceprogrammer"}, "edited": false, "score": 1, "creation_date": 1566425909, "post_id": 57583086, "comment_id": 101656835, "body": "@RenaissanceProgrammer My bad, it&#39;s <code>req.body</code> inside of the service worker. To answer your question, no, there&#39;s nothing coming from the DOM. The <code>makePostRequest</code> is being called once the user clicks on a button; the app POSTs to a URL, where the body is an object that is retrieved from Redux. For some inexplicable reason, none of the other options in the <code>fetch</code> (like headers, etc.) are being intercepted by the service worker listening for <code>fetch</code>."}, {"owner": {"reputation": 1120, "user_id": 3199478, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/CIAEg.jpg?s=128&g=1", "display_name": "codehitman", "link": "https://stackoverflow.com/users/3199478/codehitman"}, "reply_to_user": {"reputation": 653, "user_id": 2360287, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/igJMJ.png?s=128&g=1", "display_name": "RenaissanceProgrammer", "link": "https://stackoverflow.com/users/2360287/renaissanceprogrammer"}, "edited": false, "score": 1, "creation_date": 1566504405, "post_id": 57583086, "comment_id": 101687719, "body": "Based on this post: <a href=\"https://stackoverflow.com/a/54016415\">stackoverflow.com/a/54016415</a> I have added a <code>mode:&#39;cors&#39;</code>, but still no dice."}], "answers": [{"comments": [{"owner": {"reputation": 145536, "user_id": 362536, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/da5816365344305a614343a4065a2786?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/362536/brad"}, "edited": false, "score": 0, "creation_date": 1587769853, "post_id": 57630573, "comment_id": 108649951, "body": "Can you elaborate on <i>what</i> specifically solved your issue?  I don&#39;t see you using the request body here.  Is it just that in your case, you don&#39;t require it anymore?"}], "tags": [], "owner": {"reputation": 1120, "user_id": 3199478, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/CIAEg.jpg?s=128&g=1", "display_name": "codehitman", "link": "https://stackoverflow.com/users/3199478/codehitman"}, "is_accepted": true, "score": 2, "last_activity_date": 1566580438, "creation_date": 1566580438, "answer_id": 57630573, "question_id": 57583086, "link": "https://stackoverflow.com/questions/57583086/service-worker-not-getting-body-from-request/57630573#57630573", "title": "Service worker not getting body from request", "body": "<p>Okay, so this isn't obvious. So after some research this solved my issue:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>self.addEventListener('fetch', (event) =&gt; {\n    if (getOriginFromUrl(event.request.url) === 'https://app.example.com') {\n        const requestProcessor = (idToken) =&gt; {\n            let newRequest = null;\n\n            // For same origin https requests, append idToken to header.\n            if ((self.location.protocol === 'https:' || self.location.hostname === 'localhost') &amp;&amp; idToken) {\n                try {\n                    newRequest = new Request(event.request, {\n                        headers: new Headers({\n                            ...event.request.Headers,\n                            'Content-Type': 'application/json',\n                            Authorization: 'Bearer ' + idToken,\n                        })\n                    })\n                } catch (e) {\n                    console.log(e);\n                }\n            }\n\n            return fetch(newRequest);\n        };\n\n        /*  Fetch the resource after checking for the ID token.\n            This can also be integrated with existing logic to serve cached files\n            in offline mode.*/\n        event.respondWith(getIdToken().then(requestProcessor, requestProcessor));\n    }\n});\n</code></pre>\n\n<p>I also had to set the <code>mode</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export const makePostRequest = (url = '', params = {}) =&gt; {\n    return fetch(url, {\n        method: 'POST',\n        mode: 'cors',\n        headers: {\n            'Content-type': 'application/json'\n        },\n        body: JSON.stringify(params)\n    }).then((res) =&gt; res).catch((err) =&gt; console.log(err));\n};\n</code></pre>\n\n<p>There were two issues:</p>\n\n<ol>\n<li>By default the <code>header</code>'s mode was set to <code>no-cors</code>. According to <a href=\"https://stackoverflow.com/a/54016415\">a previous SO</a> answer, I had to set the <code>mode</code> to <code>cors</code> to allow for non-basic headers which would also include <code>body</code>.</li>\n<li>The other issue had to do with the <code>headers</code> being immutable. This had to be changed to copy properly.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 145536, "user_id": 362536, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/da5816365344305a614343a4065a2786?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/362536/brad"}, "is_accepted": false, "score": -1, "last_activity_date": 1587770114, "creation_date": 1587770114, "answer_id": 61418828, "question_id": 57583086, "link": "https://stackoverflow.com/questions/57583086/service-worker-not-getting-body-from-request/61418828#61418828", "title": "Service worker not getting body from request", "body": "<p>The Request object will implement methods like <code>.blob()</code>.</p>\n\n<pre><code>await req.blob()\n</code></pre>\n"}], "owner": {"reputation": 1120, "user_id": 3199478, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/CIAEg.jpg?s=128&g=1", "display_name": "codehitman", "link": "https://stackoverflow.com/users/3199478/codehitman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 369, "favorite_count": 0, "accepted_answer_id": 57630573, "answer_count": 2, "score": 3, "last_activity_date": 1587770114, "creation_date": 1566348143, "last_edit_date": 1566425636, "question_id": 57583086, "link": "https://stackoverflow.com/questions/57583086/service-worker-not-getting-body-from-request", "title": "Service worker not getting body from request", "body": "<p>So I have a service worker for fetch:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>self.addEventListener('fetch', (event) =&gt; {\n    const requestProcessor = (idToken) =&gt; {\n        let req = event.request;\n        // For same origin https requests, append idToken to header.\n        if ((self.location.protocol === 'https:' ||\n            self.location.hostname === 'localhost') &amp;&amp;\n            idToken) {\n\n            // Clone headers as request headers are immutable.\n            const headers = new Headers();\n            for (let entry of req.headers.entries()) {\n                headers.append(entry[0], entry[1]);\n            }\n\n            // Add ID token to header.\n            headers.append('Authorization', self.location.origin === getOriginFromUrl(event.request.url) ? `Bearer ${idToken}` : idToken);\n            try {\n                req = new Request(req.url, {\n                    method: req.method,\n                    headers: headers,\n                    mode: self.location.origin === getOriginFromUrl(event.request.url) ? 'same-origin' : req.mode,\n                    credentials: req.credentials,\n                    cache: req.cache,\n                    redirect: req.redirect,\n                    referrer: req.referrer,\n                    body: req.body,\n                    bodyUsed: req.bodyUsed,\n                    context: req.context\n                });\n            } catch (e) {\n                console.error(e);\n            }\n        }\n\n        return fetch(req);\n    };\n\n    event.respondWith(getIdToken().then(requestProcessor));\n});\n</code></pre>\n\n<p>It is being called in another file like so:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export const makePostRequest = (url = '', params = {}) =&gt; {\n    return fetch(url, {\n        method: 'POST',\n        body: JSON.stringify(params),\n        headers: {\n            'Content-type': 'application/json'\n        }\n    }).then((res) =&gt; res).catch((err) =&gt; console.log(err));\n};\n</code></pre>\n\n<p>For some reason, the <code>req.body</code> is always undefined inside of the service worker. Furthermore, it looks like the fetch request happens twice. When I put a breakpoint and step through the code, I can see that nothing from the fetch is being picked up by the service worker. I don't understand.</p>\n"}, {"tags": ["angular", "typescript", "jasmine", "karma-jasmine", "angular-unit-test"], "comments": [{"owner": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "edited": false, "score": 0, "creation_date": 1566346210, "post_id": 57582716, "comment_id": 101624839, "body": "<code>http.get as jasmine.spy</code> Is what it wants you to do - just do that ?"}], "answers": [{"comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1574365569, "post_id": 57582978, "comment_id": 104217882, "body": "FYI to people who come here, wondering why this is the case: see <a href=\"https://github.com/microsoft/TypeScript/issues/296\" rel=\"nofollow noreferrer\">this issue</a> about JSX support problems and the <a href=\"https://github.com/microsoft/TypeScript/pull/3201\" rel=\"nofollow noreferrer\">fix introducing <code>as</code></a>."}], "tags": [], "owner": {"reputation": 26197, "user_id": 201303, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/AQoqr.jpg?s=128&g=1", "display_name": "Julian", "link": "https://stackoverflow.com/users/201303/julian"}, "is_accepted": false, "score": 2, "last_activity_date": 1566383346, "last_edit_date": 1592644375, "creation_date": 1566346860, "answer_id": 57582978, "question_id": 57582716, "link": "https://stackoverflow.com/questions/57582716/type-assertion-using-the-is-forbidden-use-as-instead/57582978#57582978", "title": "Type assertion using the &#39;&lt;&gt;&#39; is forbidden,use &#39;as&#39; instead?", "body": "<p>From <a href=\"https://basarat.gitbooks.io/typescript/docs/types/type-assertion.html\" rel=\"nofollow noreferrer\">Type Assertion</a>.</p>\n<blockquote>\n<p>Type assertions</p>\n<p><code>as foo</code> vs. <code>&lt;foo&gt;</code></p>\n<p>Originally the syntax that was added was <code>&lt;foo&gt;</code>. This is demonstrated below:</p>\n<pre><code>var foo: any;\nvar bar = &lt;string&gt; foo; // bar is now of type &quot;string&quot;\n</code></pre>\n<p>However, there is an ambiguity in the language grammar when using <code>&lt;foo&gt;</code> style assertions in JSX:</p>\n<pre><code>var foo = &lt;string&gt;bar;\n&lt;/string&gt;\n</code></pre>\n<p>Therefore it is now recommended that you just use <code>as foo</code> for consistency.</p>\n</blockquote>\n<p>So the linter warns about the old syntax.</p>\n<p>So in this case, this is in the new syntax:</p>\n<pre><code>const url  = (http.get as jasmine.spy).calls.args(0)[0]\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 11917666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c65b13aaccf98ba5c7ddb3d8ca7515?s=128&d=identicon&r=PG&f=1", "display_name": "learner", "link": "https://stackoverflow.com/users/11917666/learner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2340, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566383346, "creation_date": 1566344148, "last_edit_date": 1566347559, "question_id": 57582716, "link": "https://stackoverflow.com/questions/57582716/type-assertion-using-the-is-forbidden-use-as-instead", "title": "Type assertion using the &#39;&lt;&gt;&#39; is forbidden,use &#39;as&#39; instead?", "body": "<p>I have the following test case in my spec,</p>\n\n<pre><code>it (should create,()=&gt;{\n     const url  = (&lt;jasmine.spy&gt; http.get).calls.args(0)[0]\n     expect(url).toBe('/api/get')\n});  \n</code></pre>\n\n<p>When I run it, I am getting the following lint error.</p>\n\n<pre><code>Type assertion using the '&lt;&gt;' is forbidden, use as instead?\n</code></pre>\n\n<p>Can anyone please suggest help.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 1, "creation_date": 1566343286, "post_id": 57582366, "comment_id": 101624367, "body": "You get that because an <code>Array.prototype.map</code> return type is <code>T[]</code> and it&#39;s impossible to infer from it that its size is at least 1."}], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": false, "score": 1, "last_activity_date": 1566346381, "creation_date": 1566346381, "answer_id": 57582917, "question_id": 57582366, "link": "https://stackoverflow.com/questions/57582366/trying-to-use-the-spread-operator-with-typescript-and-object-assign/57582917#57582917", "title": "Trying to use the spread operator with TypeScript and Object.assign", "body": "<p>All the compiler actually knows about the type of <code>sampleValues</code> is that is of type <code>Array&lt;Record&lt;string, {name: string}&gt;&gt;</code>.  Such an array type can have any number of elements, including zero, so you can't spread it into a function taking at least one parameter without complaint.  </p>\n\n<p>The easiest way to deal with this is probably to use a <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions\" rel=\"nofollow noreferrer\">type assertion</a> to tell the compiler that <code>sampleValues</code> is of a more specific type than it can infer.  To avoid the error all you need to do is pick a <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#tuple\" rel=\"nofollow noreferrer\">tuple</a> type containing at least one element, but you can go further and be even more detailed:</p>\n\n<pre><code>const sampleValues = sampleStrings.map(value =&gt; ({\n  [value]: {\n    name: \"bob\"\n  }\n})) as [\n  { foo: { name: string } },\n  { bar: { name: string } },\n  { baz: { name: string } }\n];\n</code></pre>\n\n<p>Here we are saying that <code>sampleValue</code> will be a tuple of exactly three objects, each with one known key from <code>foo</code>, <code>bar</code>, or <code>baz</code>, and a value of type <code>{name: string}</code>.  That will now allow you to spread into <code>Object.assign()</code>:</p>\n\n<pre><code>const result = Object.assign(...sampleValues); // okay\n// const result: {foo: {name: string}} &amp; {bar: {name: string}} &amp; {baz: {name: string}}\n</code></pre>\n\n<p>and the type of <code>result</code> is known to be an intersection type similar to <code>{foo: {name: string}, bar: {name: string}, baz: {name: string}}</code>.  </p>\n\n<p>This is my suggested solution, I think.</p>\n\n<hr>\n\n<p>You could <em>try</em> to tell the compiler that <code>sampleStrings</code> is an n-tuple (using, for example, a <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#const-assertions\" rel=\"nofollow noreferrer\"><code>const</code> assertion</a>), and that mapping over an n-tuple produces another n-tuple (using, for example, <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-merging.html\" rel=\"nofollow noreferrer\">declaration merging</a>) like this:</p>\n\n<pre><code>interface ReadonlyArray&lt;T&gt; {\n  map&lt;U&gt;(cb: (val: T) =&gt; U): { [K in keyof this]: U };\n}\n\nconst sampleStrings = [\"foo\", \"bar\", \"baz\"] as const;\n\nconst sampleValues = sampleStrings.map(value =&gt; ({\n  [value]: {\n    name: \"bob\"\n  }\n}));\nconst result = Object.assign(...sampleValues);\n/* const result: {\n    [x: string]: {\n        name: string;\n    };\n} */\n</code></pre>\n\n<p>And this will prevent the <code>Object.assign()</code> error, but when you're done you still end up with a pretty weakly typed object for <code>result</code>... and the more work you put into trying to get the compiler to <em>infer</em> a better type, the less clear the code becomes.  So I'd probably recommend against trying to make the compiler smarter about what's happening here, and instead use some well-chosen type assertions to make the compiler's job easier rather than harder.  It's not as type safe (since you can always be wrong about what you assert) but it's cleaner code, in my opinion.</p>\n\n<hr>\n\n<p>Okay, hope that helps.  Good luck!</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/HYQwtgpgzgDiDGEAEBBAymgogJQCoEkB5AOTSQG8AoJJeAe2CgBckpwYAbCNJgJwEtgAcyhIAvEgDaAIgBmdOtIA0SaQCMQvZao0AvaQF0A3NVoNmrdlwBqIDgFdo4y2E7c+gkQDowIGAAoANztHcQA+JH8qGhpJYIcIAwAuClMYpFBIFPU6NWk0pABfU0KASlKkEFFJAvIkeToUusyIFOYBYSKipVqkDV4mjPBW1g9Owu7evUGWtrGhLuKaY1N6RhZeaHsOFglCNQArCHgmLyqofiFgfy9btlcbEOhSoyQAejekOgBrEABPUwfMzrJCbKDbJhNBpNWajDpCQoTABkFH6MOGc3hiKQKPI0wosPankRlGKlEoQIAIpgAMIAGRQ2BQBBISAAsjgAOL4YicpLkwRMCC8WQIZDYCAgAAmDA4fxQvF4-wAPLgItEkL4YMqAKphfzwNQpIJ2FK4CpiCI60qDSQAaSQgiQ3wgfzosiQTAAFvwoMkkDqiiYyWsLPc3Dx4aIJDIGtp1Jp43pDJVRKGmCZKOmXG5bAlozmuJHPFAfH4TQlwpENXEnv6NTRYTk8iVSeUTNmwRDnPsjiczlALlcbncrBA844oC8KQAqYEWLs7JoFSQAD0xnnrBXShPmJnShWDSBnb0oQA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 1560, "user_id": 7460467, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a1b029d7797f40f5be6056fa1ae640f2?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/7460467/jimmy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 745, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1566359883, "creation_date": 1566340913, "last_edit_date": 1566359883, "question_id": 57582366, "link": "https://stackoverflow.com/questions/57582366/trying-to-use-the-spread-operator-with-typescript-and-object-assign", "title": "Trying to use the spread operator with TypeScript and Object.assign", "body": "<p>I am trying to assign some mapped values to an object like so:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const sampleStrings = ['foo', 'bar', 'baz'];\r\nconst sampleValues = sampleStrings.map(value =&gt; ({\r\n  [value]: {\r\n    name: 'bob',\r\n  },\r\n}));\r\nconst result = Object.assign(...sampleValues);\r\n\r\nconsole.log(result)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>However, I get the following error message:</p>\n\n<blockquote>\n  <p>TS2557: Expected at least 1 arguments, but got 0 or more.</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/FNVy2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FNVy2.png\" alt=\"enter image description here\"></a></p>\n\n<p>I know that I should be doing something like </p>\n\n<pre><code>interface Foo {\n  [x: string]: {\n    name: string;\n  };\n}\n\nconst sampleStrings = ['foo', 'bar', 'baz'];\nconst sampleValues = sampleStrings.map(value =&gt; ({\n  [value]: {\n    name: 'bob',\n  },\n}));\nconst result = Object.assign(...sampleValues);\n</code></pre>\n\n<p>But I can't exactly figure out how my <code>Foo</code> interface should be configured. Also, what happens if I do not happen to know the length of my <code>sampleStrings</code> array, how would I fix this issue then?</p>\n"}, {"tags": ["typescript", "axios"], "owner": {"reputation": 700, "user_id": 1454320, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/23b44010eac84ae1f264e1f30efe3ecd?s=128&d=identicon&r=PG", "display_name": "oskar132", "link": "https://stackoverflow.com/users/1454320/oskar132"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1265, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1566339722, "creation_date": 1566339722, "question_id": 57582214, "link": "https://stackoverflow.com/questions/57582214/request-body-larger-than-maxbodylength-limit-even-though-maxcontentlength-is-set", "title": "Request body larger than maxBodyLength limit even though maxContentLength is set to infinity", "body": "<p>I need to send a big amount of data with Axios, however, I am getting the following error </p>\n\n<pre><code>Error: Request body larger than maxBodyLength limit\n</code></pre>\n\n<p>For this, I am trying to modify the Axios config with the following interceptor</p>\n\n<pre><code> axios.interceptors.request.use(function(config) {\n  console.log('intercepting');\n  config.maxContentLength = Infinity\n\nreturn config;\n</code></pre>\n\n<p>});</p>\n\n<p>This is not modifying the body limit and hence the error persists.</p>\n\n<p>I have read that <code>config.maxBodyLength = Infinity</code> could be used for this but when trying to use it, I get the following typing error:</p>\n\n<pre><code>Property 'maxBodyLength' does not exist on type 'AxiosRequestConfig'.\n</code></pre>\n\n<p>How can I config axios to allow a bigger payload?</p>\n"}, {"tags": ["reactjs", "typescript", "graphql", "apollo", "react-apollo"], "owner": {"reputation": 3782, "user_id": 839211, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/THWvr.jpg?s=128&g=1", "display_name": "Felipe", "link": "https://stackoverflow.com/users/839211/felipe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 203, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1566338235, "creation_date": 1566338235, "question_id": 57582013, "link": "https://stackoverflow.com/questions/57582013/how-to-listen-to-local-state-changes-with-react-apollo", "title": "How to listen to local state changes with React Apollo", "body": "<p>I am creating a React app with Apollo Graphql and I am also using it to manage my local state.</p>\n\n<p>In my code I have a component that is used to query my graphql server with some local @client fields and pass the data to its child components:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function ProductDetails(props: Props) {\n  const classes = useStyles();\n  const [subproducts, setSubproducts] = useState(new Array&lt;Product&gt;());\n\n  const productQuery = useGetProductDetailsQuery({\n    variables: {\n      productId: Number(props.match.params.productId),\n      companyId: Number(props.match.params.companyId),\n    },\n    onCompleted: data =&gt; {\n      const result = flattenSubproductsConnection(data!.getProducts as ProductConnection);\n      setSubproducts(result);\n      console.log('Result', result);\n    },\n  });\n\n  return (\n    &lt;Box display='flex' flexDirection='column'&gt;\n      {subproducts.map(subproduct =&gt; (\n        &lt;Choosable product={subproduct} key={subproduct.numericalId!} /&gt;\n      ))}\n    &lt;/Box&gt;\n  );\n}\n</code></pre>\n\n<p>Each child component can fire a mutation that changes the overall state, for example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export default function QuantitySimple(props: Props) {\n  const classes = useStyles();\n\n  const [increaseQuantity] = useIncreaseChosenProductQuantityMutation({\n    variables: { productId: props.product.id },\n  });\n  const onIncreaseQuantityClick = useCallback(() =&gt; {\n    increaseQuantity();\n  }, []);\n\n  const [decreaseQuantity] = useDecreaseChosenProductQuantityMutation({\n    variables: { productId: props.product.id },\n  });\n  const onDecreaseQuantityClick = useCallback(() =&gt; {\n    decreaseQuantity();\n  }, []);\n\n  return (\n    &lt;ListItem&gt;\n      &lt;Box display='flex' alignItems='center'&gt;\n        &lt;span onClick={onDecreaseQuantityClick}&gt;\n          &lt;FontAwesomeIcon icon={faMinusCircle} size='lg' /&gt;\n        &lt;/span&gt;\n        &lt;Typography className={classes.text}&gt;{props.product.chosenQuantity}&lt;/Typography&gt;\n        &lt;span onClick={onIncreaseQuantityClick}&gt;\n          &lt;FontAwesomeIcon icon={faPlusCircle} size='lg' /&gt;\n        &lt;/span&gt;\n      &lt;/Box&gt;\n      &lt;ListItemText className={classes.text} primary={props.product.name} /&gt;\n      &lt;ListItemText primary={getProductPrice(props.product)} /&gt;\n    &lt;/ListItem&gt;\n  );\n}\n</code></pre>\n\n<p>So, whenever I click on the plus or minus icons on the component above, I the local state of the application changes, but this change is not being reflected on the UI.</p>\n\n<p>Please note that <code>props.product.chosenQuantity</code> is a local @client field on my Graphql query and it comes all the way from the parent component. Am I doing something wrong?</p>\n\n<p>Should I create a specific @client query just to get this field on my child components?</p>\n\n<p>I also tried to use the <code>watchQueries</code> from the Apollo client like so:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  const apolloClient = useApolloClient();\n\n  apolloClient\n    .watchQuery({\n      query: GetProductDetailsDocument,\n      variables: {\n        productId: Number(props.match.params.productId),\n        companyId: Number(props.match.params.companyId),\n      },\n    })\n    .subscribe(queryResult =&gt; {\n      console.log('Query Result', queryResult);\n      const result = flattenSubproductsConnection(queryResult.data\n        .getProducts as ProductConnection);\n      setSubproducts(result);\n    });\n</code></pre>\n\n<p>But then this subscription is fired all the time, without any changes at all, so I guess I am also doing something wrong with it.</p>\n\n<p>Could someone help me?</p>\n"}, {"tags": ["typescript", "typescript-declarations"], "answers": [{"comments": [{"owner": {"reputation": 14274, "user_id": 579078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/xC5kj.png?s=128&g=1", "display_name": "\u11bc\u11ba\u11bc", "link": "https://stackoverflow.com/users/579078/%e1%86%bc%e1%86%ba%e1%86%bc"}, "edited": false, "score": 0, "creation_date": 1566380669, "post_id": 57581918, "comment_id": 101635087, "body": "But aren&#39;t <code>export</code>s supposed to be expressions? Whereas <code>typeof import(...)</code> is a type annotation"}, {"owner": {"reputation": 422, "user_id": 1478817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b2d812e9d8c42ee7c9986b72df6e39e?s=128&d=identicon&r=PG", "display_name": "mz8i", "link": "https://stackoverflow.com/users/1478817/mz8i"}, "reply_to_user": {"reputation": 14274, "user_id": 579078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/xC5kj.png?s=128&g=1", "display_name": "\u11bc\u11ba\u11bc", "link": "https://stackoverflow.com/users/579078/%e1%86%bc%e1%86%ba%e1%86%bc"}, "edited": false, "score": 0, "creation_date": 1614197182, "post_id": 57581918, "comment_id": 117315381, "body": "@\u11bc\u11ba\u11bc you can have type expressions in TS (just like <code>typeof import(...)</code>. They can be used for annotating types, but you can also have whole statements like defining a type variable (<code>type FoobarImport = typeof import(&#39;foobar&#39;); export { FoobarImport }</code> that deal only with types. AFAIK if you only import types from a certain module, no code will be generated to actually import that module at runtime."}, {"owner": {"reputation": 14274, "user_id": 579078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/xC5kj.png?s=128&g=1", "display_name": "\u11bc\u11ba\u11bc", "link": "https://stackoverflow.com/users/579078/%e1%86%bc%e1%86%ba%e1%86%bc"}, "edited": false, "score": 0, "creation_date": 1614546491, "post_id": 57581918, "comment_id": 117412122, "body": "Ok so the type of the module <code>&quot;foobar&quot;</code> at runtime will be? <code>undefined</code>?"}], "tags": [], "owner": {"reputation": 11, "user_id": 6516610, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206198471272993/picture?type=large", "display_name": "Edward Drapkin", "link": "https://stackoverflow.com/users/6516610/edward-drapkin"}, "is_accepted": false, "score": 1, "last_activity_date": 1566337535, "creation_date": 1566337535, "answer_id": 57581918, "question_id": 57581280, "link": "https://stackoverflow.com/questions/57581280/what-does-export-typeof-import-mean/57581918#57581918", "title": "What does export=typeof import() mean?", "body": "<p>The <code>typeof</code> operator in TS resolves the type of a given variable.  Imports return variables.  So what this is doing is exporting <em>the type</em> of <code>import('foo')</code> rather than the <em>value</em> of <code>import('foo')</code>.</p>\n"}], "owner": {"reputation": 14274, "user_id": 579078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/xC5kj.png?s=128&g=1", "display_name": "\u11bc\u11ba\u11bc", "link": "https://stackoverflow.com/users/579078/%e1%86%bc%e1%86%ba%e1%86%bc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1450, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1606097849, "creation_date": 1566333784, "last_edit_date": 1566509761, "question_id": 57581280, "link": "https://stackoverflow.com/questions/57581280/what-does-export-typeof-import-mean", "title": "What does export=typeof import() mean?", "body": "<p>Consider the following code (seen <a href=\"https://github.com/microsoft/TypeScript/issues/30471#issuecomment-474963436\" rel=\"nofollow noreferrer\">here</a>):</p>\n\n<pre><code>declare module \"foobar\" {\n  export = typeof import(\"foobar\")\n}\n</code></pre>\n\n<p>What exactly does the second line do?<br>\nDoesn't it recursively refer to the same module?<br>\nAlso, why is  a type <em>annotation</em> accepted as an exported value?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1776, "user_id": 9011723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20385cc990720ff64499b9de3b52fc70?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o Ghignatti", "link": "https://stackoverflow.com/users/9011723/jo%c3%a3o-ghignatti"}, "edited": false, "score": 2, "creation_date": 1566333927, "post_id": 57581218, "comment_id": 101622033, "body": "Hi, what do you mean by a property? You can access Elements via Angular&#39;s ViewChild. Have a look at this simple question and its answer <a href=\"https://stackoverflow.com/questions/42013071/angular-2-view-child-element-ref-selecting-same-element-twice\" title=\"angular 2 view child element ref selecting same element twice\">stackoverflow.com/questions/42013071/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 322, "user_id": 11888722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TKLne.png?s=128&g=1", "display_name": "Fullstack Developer", "link": "https://stackoverflow.com/users/11888722/fullstack-developer"}, "is_accepted": false, "score": 1, "last_activity_date": 1566336036, "creation_date": 1566336036, "answer_id": 57581669, "question_id": 57581218, "link": "https://stackoverflow.com/questions/57581218/how-to-access-dom-with-angular/57581669#57581669", "title": "How to access DOM with angular?", "body": "<p>It's easy with Angular.</p>\n\n<p>We can directly access the element by using ElementRef provided by @angular/core.</p>\n\n<p>If you manipulate it by using a directive, most are likely to use <code>nativeElement</code> directly like this.</p>\n\n<pre><code>import { Directive, ElementRef, OnInit } from '@angular/core';\n\n@Directive({\n  selector: '[appHighlight]'\n})\nexport class HighlightDirective implements OnInit {\n  constructor (private el: ElementRef){\n  }\n\n  ngOnInit() {\n    this.el.nativeElement.style.color = 'blue';\n  }\n}\n</code></pre>\n\n<p>It will change the color of the element. </p>\n"}], "owner": {"reputation": 1, "user_id": 11953753, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBFyL8zJea5oSQtZV5ZfBwiLE7qCaN5pXIG708rWA=k-s128", "display_name": "Charles", "link": "https://stackoverflow.com/users/11953753/charles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "closed_date": 1566337625, "answer_count": 1, "score": 0, "last_activity_date": 1566336036, "creation_date": 1566333482, "question_id": 57581218, "link": "https://stackoverflow.com/questions/57581218/how-to-access-dom-with-angular", "closed_reason": "Needs details or clarity", "title": "How to access DOM with angular?", "body": "<p>I am working with Umbraco (cms) and Angular, I need to access a DOM property of umbraco ... Currently the solution is using jQuery for it, the idea is to remove all jQuery dependencies.\nDo you know a good wait to access it? ViewChild is not working since I am trying to access a property and not a component</p>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs", "ngrx"], "comments": [{"owner": {"reputation": 1886, "user_id": 8493521, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155601478282179/picture?type=large", "display_name": "Will Alexander", "link": "https://stackoverflow.com/users/8493521/will-alexander"}, "edited": false, "score": 1, "creation_date": 1566338860, "post_id": 57581200, "comment_id": 101623547, "body": "Your googleSignIn effect doesn&#39;t dispatch an action. In your current syntax, try adding a config object <code>{ dispatch: false }</code> to the <code>@Effect</code> decorator."}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "edited": false, "score": 0, "creation_date": 1566361240, "post_id": 57581200, "comment_id": 101627111, "body": "you are using effect v7 try to use v8 and also can you make full working code demo on stackblitz please"}], "answers": [{"tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": true, "score": 1, "last_activity_date": 1566361343, "creation_date": 1566361343, "answer_id": 57584398, "question_id": 57581200, "link": "https://stackoverflow.com/questions/57581200/autheffects-googlesignin-dispatched-an-invalid-action-and-actions-must-have-a/57584398#57584398", "title": "&quot;AuthEffects.googleSignIn&quot; dispatched an invalid action and Actions must have a type property", "body": "<p>You should return an action from your googleSignIn effect some thing like this</p>\n\n<pre><code> getPosts$ = createEffect(() =&gt;\n    this.actions$.pipe(\n      ofType(PostActions.LoadPosts),\n      switchMap(_ =&gt; {\n        return this.postService\n          .getPosts()\n          .pipe(\n            map(\n              (posts: IPost[]) =&gt; PostActions.LoadPostsSuccess({ posts }), // return an action here\n              catchError(errors =&gt; of(PostActions.LoadPostsFail(errors)))\n            )\n          );\n      })\n    )\n  );\n</code></pre>\n\n<p>I'm point out where is your error so you can fix it </p>\n\n<pre><code>@Effect()\n  googleSignIn = this.actions.pipe(\n    ofType(authActions.googleSignIn),\n    mergeMap(() =&gt;\n      from(this.authService.googleSignIn()).pipe(\n        map(() =&gt; this.getAuthData, // you need to return an action here\n          catchError(err =&gt;\n            of({ error: err.message })\n          )\n        )\n      )\n    )\n  );\n</code></pre>\n"}], "owner": {"reputation": 11026, "user_id": 436493, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/EppuZ.jpg?s=128&g=1", "display_name": "methuselah", "link": "https://stackoverflow.com/users/436493/methuselah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 57584398, "answer_count": 1, "score": -1, "last_activity_date": 1567407561, "creation_date": 1566333375, "last_edit_date": 1567407561, "question_id": 57581200, "link": "https://stackoverflow.com/questions/57581200/autheffects-googlesignin-dispatched-an-invalid-action-and-actions-must-have-a", "title": "&quot;AuthEffects.googleSignIn&quot; dispatched an invalid action and Actions must have a type property", "body": "<p>I keep getting the following errors:</p>\n\n<ul>\n<li>Effect \"AuthEffects.googleSignIn\" dispatched an invalid action: [object Object]</li>\n<li>Uncaught TypeError: Actions must have a type property</li>\n</ul>\n\n<p>as seen below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/puY3q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/puY3q.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/z8bGb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z8bGb.png\" alt=\"enter image description here\"></a></p>\n\n<p>How do I resolve it? The sign in happens as expected but I am not sure how to go about fixing it:</p>\n\n<p><strong>auth.effects.ts</strong></p>\n\n<pre><code>  @Effect()\n  googleSignIn = this.actions.pipe(\n    ofType(authActions.googleSignIn),\n    mergeMap(() =&gt;\n      from(this.authService.googleSignIn()).pipe(\n        map(() =&gt; this.getAuthData,\n          catchError(err =&gt;\n            of({ error: err.message })\n          )\n        )\n      )\n    )\n  );\n\n  @Effect()\n  getAuthData = this.actions.pipe(\n    ofType(authActions.getAuthData),\n    mergeMap(() =&gt; (\n        this.afAuth.authState.pipe(\n          map((authData: AuthState) =&gt; {\n            if (authData) {\n              const parsedAuthData: Partial&lt;AuthState&gt; = this.authService.parseAuthData(authData);\n              return authActions.authDataRetrieved({ payload: parsedAuthData });\n            } else {\n              return authActions.authDataNotRetrieved();\n            }\n          }),\n          catchError(error =&gt; {\n            this.logger.debug(error);\n            return of(authActions.authError({ errorMessage: error.message, errorCode: error.code }));\n          })\n        )\n      )\n    )\n  );\n</code></pre>\n\n<p><strong>auth.actions.ts</strong></p>\n\n<pre><code>import { createAction, props } from '@ngrx/store';\nimport { AuthState } from './auth.state';\n\nexport const getAuthData = createAction('[Auth] Get authentication data');\nexport const authDataRetrieved = createAction('[Auth] Authentication data retrieved', props&lt;{payload: Partial&lt;AuthState&gt;}&gt;());\nexport const authDataNotRetrieved = createAction('[Auth] Authentication data not retrieved');\nexport const googleSignIn = createAction('[Auth] Google sign-in attempt start');\nexport const authError = createAction('[Auth] Authentication error occurred', props&lt;{ errorMessage: string, errorCode: string }&gt;());\n</code></pre>\n"}]