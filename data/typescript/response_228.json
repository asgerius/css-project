[{"tags": ["typescript", "firebase", "google-cloud-functions"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 1, "creation_date": 1558567993, "post_id": 56266233, "comment_id": 99148668, "body": "<a href=\"https://firebase.google.com/docs/functions/local-emulator\" rel=\"nofollow noreferrer\">firebase.google.com/docs/functions/local-emulator</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11182249"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1558568650, "post_id": 56266233, "comment_id": 99148757, "body": "for: firebase emulators:start, should I be cd ing into the project directory? @DougStevenson"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1558569815, "post_id": 56266233, "comment_id": 99148974, "body": "I don&#39;t think it will work any other way."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11182249"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1558570091, "post_id": 56266233, "comment_id": 99149032, "body": "@DougStevenson I did so and now I am getting: the feedback seen above. I tried doing what the response requests but it seems to not be responding. do I have to exit or is something else wrong?"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 1, "creation_date": 1558571098, "post_id": 56266233, "comment_id": 99149195, "body": "If you have a new question about how the emulator works, please post it separately."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11182249"}, "edited": false, "score": 0, "creation_date": 1558634099, "post_id": 56273920, "comment_id": 99175164, "body": "SO I will need to make the folders you have shown, which only house that specific functionality? Also I am using typescript, does that make a diference here?"}, {"owner": {"reputation": 932, "user_id": 2147069, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/286ab50e910623385ab5401a0b4b78cb?s=128&d=identicon&r=PG", "display_name": "ajorquera", "link": "https://stackoverflow.com/users/2147069/ajorquera"}, "edited": false, "score": 0, "creation_date": 1558691989, "post_id": 56273920, "comment_id": 99192911, "body": "@NCT127 you can set your folder structure how ever you want. I just showed you how it worked for me. If you are using typescript you will need to some small changes but my real point is that you should use unit testing to make your life easier with cloud functions."}], "tags": [], "owner": {"reputation": 932, "user_id": 2147069, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/286ab50e910623385ab5401a0b4b78cb?s=128&d=identicon&r=PG", "display_name": "ajorquera", "link": "https://stackoverflow.com/users/2147069/ajorquera"}, "is_accepted": true, "score": 0, "last_activity_date": 1558609738, "creation_date": 1558609738, "answer_id": 56273920, "question_id": 56266233, "link": "https://stackoverflow.com/questions/56266233/how-can-i-quickly-test-firebase-functions/56273920#56273920", "title": "How can I quickly test firebase functions", "body": "<p>I have a project which has background functions (onUpdate, OnCreate) and HTTP functions. <strong>The easiest way I found to test them, was using simple unit tests.</strong></p>\n\n<p>Testing should be part of your programming life. It can feel cumbersome at first but it will save you a lot of time, especially with cloud functions </p>\n\n<p>In your code, it seems you wrote two functions. One is a database trigger and the other is an HTTP function. </p>\n\n<p>I'll try to write tests for each to show you how I would do it. I use <a href=\"https://jestjs.io/\" rel=\"nofollow noreferrer\">jest</a></p>\n\n<pre><code>/functions\n|--index.js\n|--onCreate.js\n|--getUsersToBeUpdated.js\n|--/test\n   |--onCreate.spec.js\n   |--getUsersToBeUpdated.spec.js\n</code></pre>\n\n<h2>index.js</h2>\n\n<pre><code>const functions   = require('firebase-functions');\n\nconst onCreate    = require('./onCreate');\nconst getUsersToBeUpdated  = require('./getUsersToBeUpdated');\n\nmodule.exports.onCreate = functions.database.ref('/Posts/{uid}/{postID}').onCreate(onCreate);\nmodule.exports.getUsersToBeUpdated = functions.https.onRequest(getUsersToBeUpdated);\n</code></pre>\n\n<h2>onCreate.spec.js</h2>\n\n<pre><code>const onCreate = require('../onCreate');\n\nlet snapshot; \nlet context;\n\nbeforeEach(() =&gt; {\n    snapshot = {\n        val: jest.fn()\n    };\n\n    context = {\n        params: {id: 'ID_SOME_POST_ID'}\n    };\n\n});\n\ntest('that it should do something onCreate POST', () =&gt; {\n    onCreate(snapshot, context);\n\n    expect(snapshot.val).toHaveBeenCalled();\n});\n</code></pre>\n\n<h2>getUsersToBeUpdated.spec.js</h2>\n\n<pre><code>const admin = require('firebase-admin');\nconst getUsersToBeUpdated = require(../getUsersToBeUpdated);\n\n// we need to mock the funcionality of firebase-admin \njest.mock('firebase-admin', () =&gt; {\n    const admin = {};\n    const snapshot = {\n        data: jest.fn(() =&gt; ({propA: 'a', propB: 'b'}))\n    };\n\n    const admin.database = jest.fn(() =&gt; admin);\n    const admin.doc = jest.fn(() =&gt; admin);\n    const admin.get = jest.fn(() =&gt; Promise.resolve(snapshot));\n\n    return admin;\n});\n\nlet response;\nlet request;\n\nbeforeEach(() =&gt; {\n    response = {};\n    response.status = jest.fn();\n    response.send = jest.fn();\n    request = jest.fn();\n});\n\n// this function makes asynchronous requests so for simplicity Ill use async/await\ntest('that should return a successful request', async () =&gt; {\n    await getUsersToBeUpdated(request, response);\n\n    expect(response.send).toHaveBeenCalledWith({propA: 'a', propB: 'b'});\n});\n\n// this function makes asynchronous requests so for simplicity Ill use async/await\ntest('that should return a error request', async () =&gt; {\n    const error = {code: 123, message: 'some error'};\n\n    //force the get function to fail\n    admin.get.mockReturnValueOnce(Promise.reject(error));\n\n    await getUsersToBeUpdated(request, response);\n\n    expect(response.status).toHaveBeenCalledWith(500);\n    expect(response.send).toHaveBeenCalledWith(error);\n});\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11182249"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 0, "accepted_answer_id": 56273920, "answer_count": 1, "score": 0, "last_activity_date": 1558609738, "creation_date": 1558567679, "last_edit_date": 1558582394, "question_id": 56266233, "link": "https://stackoverflow.com/questions/56266233/how-can-i-quickly-test-firebase-functions", "title": "How can I quickly test firebase functions", "body": "<p>I am working with Typescript on firebase functions. As I have been developing I have found it very difficult to test (or experiment) with the code. I am using the Lint plugin so at leased I see the errors withought having to run the code. </p>\n\n<p>But I am not able to run the code and see what is outputed:</p>\n\n<p>I have the following code which I would like to fix-up and test:</p>\n\n<pre><code>    export const onPostUpdate = functions.database\n.ref('/Posts/{uid}/{postID}')\n.onCreate((snapshot, context) =&gt; {\n  const uid = context.params.uid\n  const postID = context.params.postID\n  console.log('New postID:', postID)\n  console.log('New uid:', uid)\n\n  // const postData = snapshot.val()\n  // console.log('New postData: ${postData[\"Media\"]}')\n\n  export const getUsersToBeUpdated = functions.https.onRequest((request, response) =&gt; {\n    admin.database().doc('PeopleWhoFollowMe/\\(uid)').get()\n    .then(snapshot =&gt; {\n      const data = snapshot.data()\n      response.send(data)\n    })\n    .catch(error =&gt; {\n      //handle error\n      console.log(error)\n      response.status(500).send(error)\n    })\n  })\n  return console.log('New postID:', postID)\n})\n</code></pre>\n\n<p>In this case I do not know what this would output: <code>response.send(data)</code>.</p>\n\n<p><strong>So What are my options for quicker testing?</strong></p>\n\n<h2>Update:</h2>\n\n<p>Based on my <a href=\"https://stackoverflow.com/questions/56266654/i-functions-your-functions-could-not-be-parsed-due-to-an-issue-with-your-node-m?noredirect=1#comment99150715_56266654\">question here.</a> It seems that I cannot emulate Realtime Database triggers as its not supported yet. Given this, what are my options for quick testing?</p>\n"}, {"tags": ["angular", "typescript", "ag-grid"], "comments": [{"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "edited": false, "score": 0, "creation_date": 1558578997, "post_id": 56266051, "comment_id": 99150542, "body": "Does the click event apply to all cells within the Name column?"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 11098546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e5f940cfb6baf2b3851381314d9f551?s=128&d=identicon&r=PG&f=1", "display_name": "Mitchell", "link": "https://stackoverflow.com/users/11098546/mitchell"}, "edited": false, "score": 0, "creation_date": 1558629395, "post_id": 56267428, "comment_id": 99173205, "body": "Thank you, will try this!"}], "tags": [], "owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "is_accepted": true, "score": 2, "last_activity_date": 1558579987, "last_edit_date": 1558579987, "creation_date": 1558579613, "answer_id": 56267428, "question_id": 56266051, "link": "https://stackoverflow.com/questions/56266051/how-to-make-ag-grid-cell-text-not-entire-cell-have-a-click-event/56267428#56267428", "title": "How to make Ag-Grid cell text (not entire cell) have a click event", "body": "<p>When it comes to customising the cell renderers for ag-Grid, you will need to make use of the <a href=\"https://www.ag-grid.com/javascript-grid-cell-rendering-components/#angular-cell-render-components\" rel=\"nofollow noreferrer\">Cell Renderer Componenta</a>.</p>\n\n<p>First, on your component.html, include the input binding for <code>frameworkComponents</code></p>\n\n<pre><code>&lt;ag-grid-angular\n    #agGrid\n    style=\"width: 100%; height: 100%;\"\n    id=\"myGrid\"\n    class=\"ag-theme-balham\"\n    [columnDefs]=\"columnDefs\"\n    [frameworkComponents]=\"frameworkComponents\"\n    (gridReady)=\"onGridReady($event)\"\n    .\n    .\n  &gt;&lt;/ag-grid-angular&gt;\n</code></pre>\n\n<p>On your main component that is using and generating the ag-grid, you will need to import your custom cell component, define the property for <code>frameworkComponents</code>, followed by providing the value for <code>cellRenderer</code> for the particular column in your column definitions:</p>\n\n<pre><code>import { NameRenderer } from \"./name-renderer.component\";\n\nthis.columnDefs = [\n  {\n    headerName: \"Name\",\n    field: \"name\",\n    cellRenderer: \"nameRenderer\",\n  },\n  // other columns\n]\n\nthis.frameworkComponents = {\n  nameRenderer: NameRenderer,\n};\n</code></pre>\n\n<p>And on your custom cell renderer component, <code>NameRenderer</code>, you bind the <code>click</code> event. I am not sure which part of the cell you would require it to be clickable, but I assume you want the entire <code>name</code> to handle the click event</p>\n\n<pre><code>import {Component} from \"@angular/core\";\nimport {ICellRendererAngularComp} from \"ag-grid-angular\";\n\n@Component({\n  selector: 'name-cell',\n  template: `&lt;span (click)=\"onClick($event)\"&gt;{{ params.value }}&lt;/span&gt;`\n})\n\nexport class NameRenderer implements ICellRendererAngularComp {\n\n  // other parts of the component\n\n  onClick(event) {\n    console.log(event);\n    // handle the rest\n  }\n\n}\n</code></pre>\n\n<p>Do not forget to include the custom cell renderer components in your module.ts,</p>\n\n<pre><code>import { NameRenderer } from \"./name-renderer.component\";\n\n@NgModule({\n  imports: [\n    AgGridModule.withComponents([NameRenderer])\n    // other imported stuff\n  ],\n  declarations: [\n    NameRenderer,\n    // other components\n  ],\n  bootstrap: [AppComponent]\n})\n</code></pre>\n\n<p>I have forked and created a <a href=\"https://plnkr.co/edit/JbJ1h9GJahjhfxWF1dvg?p=preview\" rel=\"nofollow noreferrer\">demo</a> from the official ag-grid demo. You may refer to cube-renderer.component.ts for the handling of the click event.</p>\n"}], "owner": {"reputation": 35, "user_id": 11098546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e5f940cfb6baf2b3851381314d9f551?s=128&d=identicon&r=PG&f=1", "display_name": "Mitchell", "link": "https://stackoverflow.com/users/11098546/mitchell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1723, "favorite_count": 1, "accepted_answer_id": 56267428, "answer_count": 1, "score": 1, "last_activity_date": 1558588517, "creation_date": 1558566149, "last_edit_date": 1558588517, "question_id": 56266051, "link": "https://stackoverflow.com/questions/56266051/how-to-make-ag-grid-cell-text-not-entire-cell-have-a-click-event", "title": "How to make Ag-Grid cell text (not entire cell) have a click event", "body": "<p>I'm trying to open a component whenever the user clicks on the text within a specific cell (in this case in the Name column). The problem I'm running into is that there isn't any method (as far as I can tell) in the Ag-Grid that allows for this. I believe there is a method for adding a click event for the specific cell, but I'm trying to only have it capture the events for when the cell text is clicked. Does anyone know how I can accomplish this?</p>\n\n<p>I've tried many Ag-Grid methods, but none have cell text click event.</p>\n\n<pre><code>this.gridOptions.api.setColumnDefs([{\n    headerName: \"Name\",\n    field: \"Name\"\n  },\n  {\n    headerName: \"Description\",\n    field: \"Description\"\n  },\n  {\n    headerName: \"Actions\",\n    cellRendererFramework: ActionsRoleComponent,\n    autoHeight: false,\n    cellClass: 'actions-button-cell d-flex align-items-center justify-content-center',\n    width: 80,\n    pinned: 'right',\n    suppressResize: true,\n    suppressFilter: true,\n    suppressSorting: true,\n    suppressMovable: true,\n    cellEditorFramework: ActionsRoleComponent\n  }\n]);\nthis.gridOptions.api.setRowData(receivedJson);\nthis.gridOptions.api.sizeColumnsToFit();\n</code></pre>\n"}, {"tags": ["typescript", "parameter-passing", "tslint", "destructuring"], "answers": [{"comments": [{"owner": {"reputation": 977, "user_id": 3946706, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/720decbd43c340bdea6bb546eb81af02?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Gentes", "link": "https://stackoverflow.com/users/3946706/kim-gentes"}, "edited": false, "score": 0, "creation_date": 1558571440, "post_id": 56266469, "comment_id": 99149256, "body": "@Zbigiew Zagorski :  I am on Typscript version 3.4.5, and according to the link you provided re: Omit, I added the following line to the top of the file containing the function. Does that sound correct?  -- <code>type Omit&lt;T, K extends keyof T&gt; = Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;;</code>"}, {"owner": {"reputation": 1539, "user_id": 269448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbf876e123027b9573d3a25a8a63bf6b?s=128&d=identicon&r=PG", "display_name": "Zbigniew Zag&#243;rski", "link": "https://stackoverflow.com/users/269448/zbigniew-zag%c3%b3rski"}, "reply_to_user": {"reputation": 977, "user_id": 3946706, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/720decbd43c340bdea6bb546eb81af02?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Gentes", "link": "https://stackoverflow.com/users/3946706/kim-gentes"}, "edited": false, "score": 1, "creation_date": 1558598019, "post_id": 56266469, "comment_id": 99155828, "body": "@KimGentes: Yes, that&#39;s exactly what i meant. For some reason, <code>Omit</code> is not included in typescript library, so everyone have to repeat this when needed."}, {"owner": {"reputation": 1539, "user_id": 269448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbf876e123027b9573d3a25a8a63bf6b?s=128&d=identicon&r=PG", "display_name": "Zbigniew Zag&#243;rski", "link": "https://stackoverflow.com/users/269448/zbigniew-zag%c3%b3rski"}, "reply_to_user": {"reputation": 977, "user_id": 3946706, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/720decbd43c340bdea6bb546eb81af02?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Gentes", "link": "https://stackoverflow.com/users/3946706/kim-gentes"}, "edited": false, "score": 1, "creation_date": 1559218578, "post_id": 56266469, "comment_id": 99356566, "body": "TS 3.5 will finally have Omit in standard library: <a href=\"https://devblogs.microsoft.com/typescript/announcing-typescript-3-5/#the-omit-helper-type\" rel=\"nofollow noreferrer\">devblogs.microsoft.com/typescript/announcing-typescript-3-5/&zwnj;&#8203;&hellip;</a>"}, {"owner": {"reputation": 977, "user_id": 3946706, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/720decbd43c340bdea6bb546eb81af02?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Gentes", "link": "https://stackoverflow.com/users/3946706/kim-gentes"}, "edited": false, "score": 0, "creation_date": 1559323248, "post_id": 56266469, "comment_id": 99397090, "body": "Thanks for letting me know!"}], "tags": [], "owner": {"reputation": 1539, "user_id": 269448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbf876e123027b9573d3a25a8a63bf6b?s=128&d=identicon&r=PG", "display_name": "Zbigniew Zag&#243;rski", "link": "https://stackoverflow.com/users/269448/zbigniew-zag%c3%b3rski"}, "is_accepted": true, "score": 1, "last_activity_date": 1558569922, "creation_date": 1558569922, "answer_id": 56266469, "question_id": 56266022, "link": "https://stackoverflow.com/questions/56266022/tslint-error-for-destructuring-in-function-parameters/56266469#56266469", "title": "TSLint error for destructuring in function parameters", "body": "<p>Interesting question, but looks like there is no definitive answer. But here is one attempt:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export function renameProperty&lt;\n    T extends {},\n    OP extends keyof T,\n    NP extends string,\n    R = Omit&lt;T, OP&gt; &amp; Record&lt;NP, T[OP]&gt;\n&gt;(oldProp: OP, newProp: NP, { [oldProp]: value, ...others }: T): R {\n    return {\n        [newProp]: value,\n        ...others\n    } as any; // *\n}\n</code></pre>\n\n<p>This has advantage, that returns proper type with <code>oldProp</code> erased and <code>newProp</code> added.</p>\n\n<p>i.e</p>\n\n<pre><code>const c = renameProperty(\"foo\", \"bar\", { foo: 1, baz: \"spam\", holy: \"grenade\" });\nconsole.log(c.foo, c.bar, c.baz, c.holy);\n    /// complains here, that 'foo' is not available in c\n    /// typeof c.bar === \"number\"\n</code></pre>\n\n<p>*\nUnfortunately, TS is not able to infer proper type from <code>{[newProp]: value}</code>  and resulting type is <code>{ [x: string]: ... }</code> so unfortunately dreadful <code>as any</code> is needed (at least i didn't find a way to remove it - not sure if this is a bug or limitation).</p>\n\n<p><code>Omit</code>: <a href=\"https://stackoverflow.com/questions/48215950/exclude-property-from-type\">Exclude property from type</a></p>\n"}], "owner": {"reputation": 977, "user_id": 3946706, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/720decbd43c340bdea6bb546eb81af02?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Gentes", "link": "https://stackoverflow.com/users/3946706/kim-gentes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 56266469, "answer_count": 1, "score": 2, "last_activity_date": 1558569922, "creation_date": 1558565921, "last_edit_date": 1558566643, "question_id": 56266022, "link": "https://stackoverflow.com/questions/56266022/tslint-error-for-destructuring-in-function-parameters", "title": "TSLint error for destructuring in function parameters", "body": "<p>I would like to remove the tslint error I get on the following (in the object desctructuring parameter):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export function renameProperty(\n    oldProp: string,\n    newProp: string,\n    {[oldProp]: old, ...others}\n): any {\n    return {\n        [newProp]: old,\n        ...others\n    };\n}\n\n</code></pre>\n\n<p>The error I get is on line 5:</p>\n\n<p><code>TSLint: expected parameter: '{[oldProp]: old, ...others}' to have a typedef (typedef)</code></p>\n\n<p>of course, I could do the following, but I'd rather simply do what satisfies Typescript's typing requirements.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export function renameProperty(\n    oldProp: string,\n    newProp: string,\n    // tslint:disable-next-line:typedef\n    {[oldProp]: old, ...others}\n): any {\n    return {\n        [newProp]: old,\n        ...others\n    };\n}\n</code></pre>\n\n<p>Any answers on how to type def the <code>{[oldProp]: old, ...others}</code> line?</p>\n"}, {"tags": ["node.js", "typescript", "edge.js"], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 4526910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea008bca76ea633fe5a68fa58e583a71?s=128&d=identicon&r=PG&f=1", "display_name": "Thrillseeker419", "link": "https://stackoverflow.com/users/4526910/thrillseeker419"}, "is_accepted": false, "score": 0, "last_activity_date": 1558566183, "creation_date": 1558566183, "answer_id": 56266056, "question_id": 56265832, "link": "https://stackoverflow.com/questions/56265832/how-to-fix-error-if-net-source-is-provided-as-javascript-function-function-b/56266056#56266056", "title": "How to fix: Error: If .NET source is provided as JavaScript function, function body must be a /* ... */ comment", "body": "<p>I can't believe this worked. It was a syntax error. A problem with the amount of whitespace between the comment and the end of the function. Here is the correct syntax:</p>\n\n<pre><code>var edge = require('edge-js');\n\nvar helloWorld = edge.func(function () {\n    /*async (input) =&gt; { \n        return \".NET Welcomes \" + input.ToString(); \n    }*/\n});\nhelloWorld('JavaScript', function (error, result) {\n    if (error) throw error;\n    console.log(result);\n});\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 4526910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea008bca76ea633fe5a68fa58e583a71?s=128&d=identicon&r=PG&f=1", "display_name": "Thrillseeker419", "link": "https://stackoverflow.com/users/4526910/thrillseeker419"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558566183, "creation_date": 1558564386, "last_edit_date": 1558565877, "question_id": 56265832, "link": "https://stackoverflow.com/questions/56265832/how-to-fix-error-if-net-source-is-provided-as-javascript-function-function-b", "title": "How to fix: Error: If .NET source is provided as JavaScript function, function body must be a /* ... */ comment", "body": "<p>I am trying to run the basic hello world example from the documentation from here (it's the first example on the page):\n<a href=\"https://github.com/agracio/edge-js\" rel=\"nofollow noreferrer\">https://github.com/agracio/edge-js</a></p>\n\n<p>I have a typescript file that I am running (see the code below). I am on node version 9.9.0 on a Windows 10 64 bit. I have made only the following installations:\nnpm install edge\nnpm install edge.js\nnpm install @types/node --save-dev</p>\n\n<p>I have made the installations to the same directory as the typescript file.</p>\n\n<p>I am able to run ts-node app.ts in the command line and have it console.log(\"hi\") successfully in that directory.</p>\n\n<p>However, when I change my code to the example below, it is giving me the error throw new Error('If .NET source is provided as JavaScript function, function body must be a /* ... */ comment.');</p>\n\n<p>I had originally tried doing this using edge.js but I kept getting the error that I needed to precompile. For the life of me I couldn't get it to find my python executable when executing build.bat release 10.5.3. (Despite including an environment variable PYTHON with a value of c:\\Python\\Python37\\python.exe) I wanted to try using edge-js because it was already precompiled. I downgraded node to 9.9 (I uninstalled node 10.15.3 and then installed the 9.9.0 msi from the website) because I thought edge-js only supported version 9. Well here I am trying to run edge-js with version 9 and I am still getting an error, although it is a different error.</p>\n\n<p>Here is the code I am trying to run:</p>\n\n<pre><code>var edge = require('edge-js');\nvar helloWorld = edge.func(function () {/*\nasync (input) =&gt; { \n    return \".NET Welcomes \" + input.ToString(); \n}\n*/});\n\nhelloWorld('JavaScript', function (error, result) {\n    if (error) throw error;\n    console.log(result);\n});\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "thermal-printer"], "comments": [{"owner": {"reputation": 534, "user_id": 2735157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbac255e2aa7e535f7ef954d17ab14f2?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul Bhanushali", "link": "https://stackoverflow.com/users/2735157/rahul-bhanushali"}, "edited": false, "score": 0, "creation_date": 1603353043, "post_id": 56265202, "comment_id": 114011617, "body": "Did you find a solution to this yet?"}], "owner": {"reputation": 111, "user_id": 3332428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5FLUp.jpg?s=128&g=1", "display_name": "Champlix Champlow", "link": "https://stackoverflow.com/users/3332428/champlix-champlow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 812, "favorite_count": 0, "answer_count": 0, "score": 6, "last_activity_date": 1558560184, "creation_date": 1558560184, "question_id": 56265202, "link": "https://stackoverflow.com/questions/56265202/how-do-i-configure-to-print-for-a-thermal-paper-printer-with-react-to-print", "title": "How do I configure to print for a thermal paper printer with react-to-print?", "body": "<p>I'm working in a React page, and I'm using <a href=\"https://github.com/gregnb/react-to-print\" rel=\"noreferrer\">react-to-print</a> for printing. But now I need to print in a thermal paper printer. Those that prints tokens, tickets, etc.</p>\n\n<p>I've already looked over <a href=\"https://github.com/gregnb/react-to-print/issues/45\" rel=\"noreferrer\">this question</a>, but I still don't know which size to set or how to create a size.</p>\n\n<p>And I've already looked over the <a href=\"https://github.com/gregnb/react-to-print/blob/master/src/index.tsx#L113\" rel=\"noreferrer\">source code</a>, to learn more about the argument <b>pageStyle</b> and found this as default:</p>\n\n<pre><code>\"@page { size: auto;  margin: 0mm; } @media print { body { -webkit-print-color-adjust: exact; } }\"\n</code></pre>\n\n<p>But I didn't figured out how to set this argument to print at thermal printer size.</p>\n\n<p>What argument do I pass in pageStyle parameter to print in that size? \n<br>Is there a list of page styles or a way of configuring a new page style?\n<br>How do I test this without a printing?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 2, "creation_date": 1558559254, "post_id": 56264992, "comment_id": 99146388, "body": "Have you <a href=\"https://angular.io/guide/pipes#custom-pipes\" rel=\"nofollow noreferrer\">read the docs</a>? Also A boolean is either true or false, so it doesn&#39;t make sense to have three cases."}], "answers": [{"tags": [], "owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "is_accepted": true, "score": 0, "last_activity_date": 1558570384, "creation_date": 1558570384, "answer_id": 56266526, "question_id": 56264992, "link": "https://stackoverflow.com/questions/56264992/how-to-convert-a-function-into-a-pipe-function/56266526#56266526", "title": "How to convert a function into a Pipe Function", "body": "<pre><code>import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'bool'\n})\nexport class BoolPipe implements PipeTransform {\n  transform(value: any): string {\n    return value ? 'true' : 'false';\n  }\n}\n</code></pre>\n\n<p>in your template use it with</p>\n\n<pre><code>{{ yourBoolProperty | bool }}\n</code></pre>\n\n<p>You can scaffold up a new pipe with the cli by typing \"ng g p Bool\" or \"ng generate pipe Bool\"</p>\n"}], "owner": {"reputation": 107, "user_id": 11205399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4602361ea66c61fed754346dfd62546?s=128&d=identicon&r=PG&f=1", "display_name": "JacobTStaggs", "link": "https://stackoverflow.com/users/11205399/jacobtstaggs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 56266526, "answer_count": 1, "score": 1, "last_activity_date": 1558570384, "creation_date": 1558559008, "question_id": 56264992, "link": "https://stackoverflow.com/questions/56264992/how-to-convert-a-function-into-a-pipe-function", "title": "How to convert a function into a Pipe Function", "body": "<p>I have a function that I am trying to convert into a pipe function but I am still unsure after reading the documentation on angular's website. </p>\n\n<p>After following the documentation on their website it has left me still kind of confused.</p>\n\n<pre><code>checkBoolean() {\n    if (boolean) {\n      return 'true';\n    } else if (!boolean) {\n      return 'false';\n    } else {\n      return 'true';\n    }\n  }\n</code></pre>\n\n<p>The code works fine in this method but I am wanting to switch it to a pipe function.</p>\n"}, {"tags": ["typescript", "typescript-typings"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1558560205, "creation_date": 1558560205, "answer_id": 56265206, "question_id": 56264781, "link": "https://stackoverflow.com/questions/56264781/how-do-i-create-a-strongly-typed-mapped-literal-against-an-existing-type-with-ne/56265206#56265206", "title": "How do I create a strongly typed mapped literal against an existing type with nested indices?", "body": "<p>You can use <code>Extract</code> to filter the values of <code>en</code> based on the current property <code>P</code></p>\n\n<pre><code>export const en = {\n    ACTIVE: {\n        ordinal: 0,\n        display: 'Active',\n    },\n    INACTIVE: {\n        ordinal: 1,\n        display: 'Inactive',\n    },\n} as const;\n\ntype En = typeof en\n\ntype DisplayEnum = {\n    [P in En[keyof En]['display']]: Extract&lt;En[keyof En], { display: P }&gt;\n}\n</code></pre>\n\n<p>Or you can use something like <code>UnionToIntersection</code> to build the type from a union where each member contains one property with the same name as the <code>display</code></p>\n\n<pre><code>type UnionToIntersection&lt;U&gt; = \n(U extends any ? (k: U)=&gt;void : never) extends ((k: infer I)=&gt;void) ? I : never\n\ntype DisplayEnum2 = UnionToIntersection&lt;{\n    [P in keyof En]: Record&lt;En[P]['display'], En[P]&gt;\n}[keyof En]&gt;;\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 3706765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/908326395c66af2545447ab72444491b?s=128&d=identicon&r=PG&f=1", "display_name": "blugavere", "link": "https://stackoverflow.com/users/3706765/blugavere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 56265206, "answer_count": 1, "score": 2, "last_activity_date": 1558560205, "creation_date": 1558557992, "question_id": 56264781, "link": "https://stackoverflow.com/questions/56264781/how-do-i-create-a-strongly-typed-mapped-literal-against-an-existing-type-with-ne", "title": "How do I create a strongly typed mapped literal against an existing type with nested indices?", "body": "<p>I think I may be bumping up against an open bug (<a href=\"https://github.com/microsoft/TypeScript/issues/21760\" rel=\"nofollow noreferrer\">https://github.com/microsoft/TypeScript/issues/21760</a>) with typescript but i'm effectively trying to figure out how to create mapped literal types from other literal constants.</p>\n\n<p>Think the correct indexed typed result from the below lodash function.</p>\n\n<p>const result = _.mapKeys(en, x => x.display);</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\nexport const en = {\n    ACTIVE: {\n        ordinal: 0,\n        display: 'Active',\n    },\n    INACTIVE: {\n        ordinal: 1,\n        display: 'Inactive',\n    },\n} as const;\n\n// how do i type this?\nexport const displayToEnum = {};\n\n// actual runtime implementation code\nfor (const key in en) {\n    displayToEnum[en[key].display] = en[key];\n}\n\n\n// What i've tried\n\ntype Displays = typeof en[keyof typeof en]['display']\n\ntype DisplayToEnum = { \n    // how do i do this dynamically - find the mapped item which fits the conditional constraint\n    [P in Displays]: P extends typeof en['ACTIVE']['display'] ? typeof en['ACTIVE'] : typeof en['INACTIVE'];\n}\n\nexport const displayToEnum: DisplayToEnum = {} as any;\n\nfor (const key in en) {\n    displayToEnum[en[key].ordinal] = en[key];\n}\n\n// its hardcoded, but this resolves correctly to 0.\nconst value = displayToEnum['Active'].ordinal;\n</code></pre>\n"}, {"tags": ["typescript", "inheritance", "rxjs"], "comments": [{"owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "edited": false, "score": 0, "creation_date": 1558568924, "post_id": 56264360, "comment_id": 99148808, "body": "Just use the async pipe"}, {"owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "edited": false, "score": 0, "creation_date": 1558569043, "post_id": 56264360, "comment_id": 99148826, "body": "When you have a super with ngOnDestroy you have to remember to call super.ngOnDestroy() if your component implements OnDestroy, You are guaranteed to forget to do this!"}], "answers": [{"tags": [], "owner": {"reputation": 2502, "user_id": 3311001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/011dc5bf6a350b0334887a89ce06038f?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Faltesek", "link": "https://stackoverflow.com/users/3311001/tom-faltesek"}, "is_accepted": false, "score": 0, "last_activity_date": 1558557631, "creation_date": 1558557631, "answer_id": 56264698, "question_id": 56264360, "link": "https://stackoverflow.com/questions/56264360/a-mechanism-for-auto-unsubscribing-from-observables/56264698#56264698", "title": "a mechanism for auto unsubscribing from observables", "body": "<p>Your idea is clever, but I think you'd be better off trying to leverage binding observables to your template with the <code>async</code> pipe.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class InitComponent {\n    user$: Observable&lt;UserModel&gt;;\n\n    constructor(userService: UserService) {\n        this.user$ = userService.fetchUserData();\n    }\n}\n</code></pre>\n\n<p>Then you can easily work with your observable property in the template like so:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div *ngIf=\"user$ | async as user\"&gt;\n  &lt;h3&gt;{{ user.name }}&lt;/h3&gt;\n  &lt;p&gt;{{ user.bio }}&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>With the <a href=\"https://angular.io/api/common/AsyncPipe\" rel=\"nofollow noreferrer\">async pipe</a>, you don't have to worry about unsubscribing.</p>\n\n<p>If you want more customized, derived properties, you can still leverage the <code>async</code> pipe.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class InitComponent {\n    user$: Observable&lt;UserModel&gt;;\n\n    get isUserQualified$(): Observable&lt;boolean&gt; {\n        return this.user$.pipe(map(u =&gt; u.age &gt; 21 &amp;&amp; u.weight &gt;= 100));\n    }\n\n    constructor(userService: UserService) {\n        this.user$ = userService.fetchUserData();\n    }\n}\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div *ngIf=\"user$ | async as user\"&gt;\n  &lt;h3&gt;{{ user.name }}&lt;/h3&gt;\n  &lt;p&gt;{{ user.bio }}&lt;/p&gt;\n&lt;/div&gt;\n&lt;div *ngIf=\"isUserQualified$ | async\"&gt;\n  &lt;p&gt;Special content for qualified users!&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>You can use the many rxjs operators to map, filter, arrange, or whatever you need to do to the observable state.</p>\n"}, {"tags": [], "owner": {"reputation": 6494, "user_id": 1668501, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/yuQQv.png?s=128&g=1", "display_name": "Code-EZ", "link": "https://stackoverflow.com/users/1668501/code-ez"}, "is_accepted": false, "score": 0, "last_activity_date": 1558568642, "creation_date": 1558568642, "answer_id": 56266335, "question_id": 56264360, "link": "https://stackoverflow.com/questions/56264360/a-mechanism-for-auto-unsubscribing-from-observables/56266335#56266335", "title": "a mechanism for auto unsubscribing from observables", "body": "<p>There is a libary called <a href=\"https://github.com/wardbell/subsink\" rel=\"nofollow noreferrer\">subsink</a> created by <strong>Warbell</strong> to unsubscribe multiple subscription in a component gracefully. It won't auto subscribe your subscriptions , but you can add multiple observables in to array unsubscribe together</p>\n\n<p>You can see a small introduction about this plugin by <a href=\"https://www.youtube.com/watch?v=2ZFgcTOcnUg\" rel=\"nofollow noreferrer\">John Papa in a ng-conf 2019</a></p>\n"}], "owner": {"reputation": 2597, "user_id": 1542325, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/018fa601cfdf1046dd3a4b0d5ff57618?s=128&d=identicon&r=PG", "display_name": "jmls", "link": "https://stackoverflow.com/users/1542325/jmls"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 300, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1571056405, "creation_date": 1558556161, "question_id": 56264360, "link": "https://stackoverflow.com/questions/56264360/a-mechanism-for-auto-unsubscribing-from-observables", "title": "a mechanism for auto unsubscribing from observables", "body": "<p>In order to try and DRY my code when it comes to making sure that I unsubscribe from observable subscriptions I have created this class:</p>\n\n<pre><code>// autounsubscribe.ts \n\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nexport abstract class AutoUnsubscribe {\n    protected unsubscriber$ = new Subject&lt;void&gt;();\n\n    ngOnDestroy(): void {\n        this.unsubscriber$.next();\n        this.unsubscriber$.complete();\n        console.log('unsubscribed');\n    }\n\n    protected subscribe(observable, fn) {\n        return observable.pipe(takeUntil(this.unsubscriber$)).subscribe(fn);\n    }\n}\n</code></pre>\n\n<p>this can now be extended by other classes like this:</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { AutoUnsubscribe } from './autounsubscribe';\n\n@Component({\n    selector: 'nio-init',\n    templateUrl: './init.component.html',\n    styleUrls: ['./init.component.scss']\n})\nexport class InitComponent extends AutoUnsubscribe {\n    private obs$: Observable&lt;boolean&gt; = new Observable();\n\n    constructor() {\n        super();\n\n        this.subscribe(this.obs$, data =&gt; {\n            console.log('new event', data);\n        });\n    }\n}\n</code></pre>\n\n<p>This works : the subscription receives data when the observable changes, and when this component is destroyed, the console logs \"unsubscribed\"</p>\n\n<p>However, as I am a relative noob typescript coder, I was wondering if </p>\n\n<p>A) this is the most appropriate way, as I am starting to fall out of love with \"extends/inherits\" as it tends to hide things . Like \"where did this.subscribe come from ? checks... oh yeah, must be in the class I'm extending from\" etc</p>\n\n<p>B) I have an itch to provide the same functionality via decorators but not entirely sure it's possible</p>\n\n<p>C) how other people manage this process . I've seen several options, but most of them involve lots of DRY issues</p>\n\n<p>I would appreciate your thoughts, comments and suggestions ;)</p>\n"}, {"tags": ["typescript", "class", "interface"], "answers": [{"comments": [{"owner": {"reputation": 938, "user_id": 9168390, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da446ed1c3084a00b8c209783778fae1?s=128&d=identicon&r=PG&f=1", "display_name": "Jerome ", "link": "https://stackoverflow.com/users/9168390/jerome"}, "edited": false, "score": 0, "creation_date": 1558586549, "post_id": 56266737, "comment_id": 99151798, "body": "thanks for your great answer. I was starting to develop the factory, your post will be helpful."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1558572667, "creation_date": 1558572667, "answer_id": 56266737, "question_id": 56264238, "link": "https://stackoverflow.com/questions/56264238/typescript-implements-interface-with-57-keys-use-of-spreadoperator/56266737#56266737", "title": "Typescript implements interface with 57 keys: use of spreadoperator?", "body": "<p>Well, a few things are going on here.  Starting with your interface:</p>\n\n<pre><code>interface MyInt {\n  field1: string;\n  field2: string;\n  field3?: number;\n}\n</code></pre>\n\n<p>your original class was something <em>holding</em> a <code>MyInt</code>, it didn't really <em>implement</em> it.  The \"right\" way to hold a <code>MyInt</code> in a class would be:</p>\n\n<pre><code>class HasMyInt {\n  private theFields: MyInt;\n  constructor(data: MyInt) {\n    this.theFields = { ...data }; // spread data into this.theFields\n  }\n}\n</code></pre>\n\n<p>Maybe that suffices for you, but then <code>HasMyInt</code> is not itself an instance of the <code>MyInt</code> interface.  If you want to make a class which is an instance, the \"right\" way to do that does unfortunately involve redundant property declarations, along with <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#definite-assignment-assertions\" rel=\"nofollow noreferrer\">definite assignment assertions</a> to suppress any warnings with <code>--strictPropertyInitialization</code>:</p>\n\n<pre><code>class IsMyIntManual implements MyInt {\n  // need these, unfortunately:\n  field1!: string;\n  field2!: string;\n  field3?: number;\n  constructor(data: MyInt) {\n    Object.assign(this, data); // spread data into this\n  }\n}\n</code></pre>\n\n<p>That uses <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\" rel=\"nofollow noreferrer\"><code>Object.assign()</code></a> instead of the object spread operator, because it allows you to modify an existing target object (<code>this</code>) instead of returning a new one.</p>\n\n<p>If you really want to avoid redundant property declarations, you can make a kind of \"base class factory\" which, given an object type <code>T</code>, produces a constructor function that copies properties from an argument of type <code>T</code> into itself.  Note that this requires a <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions\" rel=\"nofollow noreferrer\">type assertion</a> to compile, since TypeScript does not recognize a ES5-style constructor function as <code>new</code>able.</p>\n\n<pre><code>function BaseClass&lt;T extends object&gt;() {\n  return (function(this: T, data: T) {\n    Object.assign(this, data);\n  } as any) as new (arg: T) =&gt; T; // need assertion\n}\n</code></pre>\n\n<p>This lets you easily create <code>IsMyInt</code> by extending <code>BaseClass&lt;MyInt&gt;()</code>:</p>\n\n<pre><code>// this implements IsMyInt\nclass IsMyIntAutomatic extends BaseClass&lt;MyInt&gt;() {}\n</code></pre>\n\n<p>And if you need to add more functionality to this class, you can do so:</p>\n\n<pre><code>class ExtendingIsMyInt extends BaseClass&lt;MyInt&gt;() {\n  public anotherProperty: number;\n  constructor(data: MyInt, anotherProperty: number) {\n    super(data);\n    this.anotherProperty = anotherProperty;\n  }\n  method() {\n    return this.field2 != this.field1 ? this.field3 || this.anotherProperty : 0;\n  }\n}\n</code></pre>\n\n<p><a href=\"https://typescript-play.js.org/#code/JYOwLgpgTgZghgYwgAgLIE8CS5kG8BQyyMwEANgCYCMAXMgM5hSgDmA3IcaZQEx2PMQ7TiXIUAzAH46IAK4BbAEbQOAX3z4EZOPXrIAEjozYweTgAdmANziRkYABYQAYtwr06x8ByIIA9iACsghgflAAFBS2cJ5Y4ACUZkREjsD0AHSOLm56ALx4yOlFUWBwyKo+5fjqmtq6yJj0XmCocHJwZMjA8uZkEPIQ4HrNScgA9GPIIBAQFPZO9BAANMiyIDBhYGu25Og0Im5UAIT8TKyVorwnDGdCF25SMgrKUJX+gUzBoRElMWhxYESBGSyAA8ooAFYQELpHT0YAsEDhVL0Fa-eKVdQ1GBrELAALIABCOggAGE6vQADwAFWQEAAHpAQO5kH5IdCwAA+cJAzhQCBbKAgZDhHEgPEBZEONJ0alo6Ky3kg8FQmFwhFIlHy0oYziqZA6A0gdCJQ3TADuIrgUBYiuQuU5yGpag0WjhDSaAIAgrJQvJbMAEHTGYMWcTFuS4ZTmtygTU3fUAKIh5msRojBlMsMkyO6aMA2OjcyyRRkQNGvxZKAABSgfnM0DAeymzxUnHeQRCYUiCv+JhWbUrThrdYbUCbTyU0CVyXosjHPZ1lRS0oyg6rtfrjfQ9orG9H28xnAGjj8FB5oyI-MFwpR6UuFB4yCO+TvD6oyEk8zS94eyAAPv+35riAQ7QJuY5NsgdAAAxHuoQA\" rel=\"nofollow noreferrer\">Link to this code</a></p>\n\n<p>Okay, hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 938, "user_id": 9168390, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da446ed1c3084a00b8c209783778fae1?s=128&d=identicon&r=PG&f=1", "display_name": "Jerome ", "link": "https://stackoverflow.com/users/9168390/jerome"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 56266737, "answer_count": 1, "score": 0, "last_activity_date": 1558572667, "creation_date": 1558555609, "last_edit_date": 1558556229, "question_id": 56264238, "link": "https://stackoverflow.com/questions/56264238/typescript-implements-interface-with-57-keys-use-of-spreadoperator", "title": "Typescript implements interface with 57 keys: use of spreadoperator?", "body": "<p>I need to create a class that implements a Interface with 57 properties (in fact this is a googleapi adminsdk schema).\nI would like to avoid retyping the whole interface definition when creating the class.\nWas thinking about using the spread operator, but it failed</p>\n\n<p>Light example with only 3 properties:</p>\n\n<pre><code>interface myInt {\n   field1:string;\n   field2:string;\n   field3?:number;\n}\n\nclass theClass implements myInt{\n   private theFields:myInt\n   constructor(data:myInt)\n   {\n     this.theFields = {{}, ...data}   &lt;---incorrect\n   }\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 182, "user_id": 7091644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7yynr.png?s=128&g=1", "display_name": "Paul Cosma", "link": "https://stackoverflow.com/users/7091644/paul-cosma"}, "edited": false, "score": 1, "creation_date": 1558555247, "post_id": 56263980, "comment_id": 99144655, "body": "You could use <code>Object.entries(Operators)</code>. It returns an array of [ key, value ]"}], "answers": [{"tags": [], "owner": {"reputation": 396, "user_id": 10623920, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yonQXz75lpE/AAAAAAAAAAI/AAAAAAAAABc/IxCDE0ASJfM/photo.jpg?sz=128", "display_name": "edu", "link": "https://stackoverflow.com/users/10623920/edu"}, "is_accepted": true, "score": 1, "last_activity_date": 1558556851, "creation_date": 1558556851, "answer_id": 56264522, "question_id": 56263980, "link": "https://stackoverflow.com/questions/56263980/get-key-of-an-enum-from-its-value-in-typescript/56264522#56264522", "title": "Get key of an enum from its value in typescript", "body": "<p>Perfect. Thank you Paul.\nI have modified it in the following way:</p>\n\n<pre><code>GetEnumTextByValue ( valueOperator: string ): string {\n    let operator: string;\n    for ( let [ key, value ] of Object.entries( Operators ) ) {\n        value === valueOperator ? operator = key : null;\n    }\n    return operator;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2171, "user_id": 8150077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cu35k.jpg?s=128&g=1", "display_name": "Nux", "link": "https://stackoverflow.com/users/8150077/nux"}, "is_accepted": false, "score": 1, "last_activity_date": 1592160445, "creation_date": 1592160445, "answer_id": 62376833, "question_id": 56263980, "link": "https://stackoverflow.com/questions/56263980/get-key-of-an-enum-from-its-value-in-typescript/62376833#62376833", "title": "Get key of an enum from its value in typescript", "body": "<p>I am using this function for any enum</p>\n\n<pre><code>export function getEnumKeyByEnumValue(myEnum: any, enumValue: number | string): string {\n  let keys = Object.keys(myEnum).filter((x) =&gt; myEnum[x] == enumValue);\n  return keys.length &gt; 0 ? keys[0] : '';\n}\n</code></pre>\n\n<p>Tests using jest</p>\n\n<pre><code>describe('enum', () =&gt; {\n  enum TestEnumWithNumber {\n    ZERO\n  }\n\n  enum TestEnumWithString {\n    ZERO = 'ZERO'\n  }\n\n  it('should return correct key when enum has number values', function () {\n    const key = getEnumKeyByEnumValue(TestEnumWithNumber, TestEnumWithNumber.ZERO);\n    expect(key).toBe('ZERO');\n  });\n\n  it('should return correct key when enum has string values', function () {\n    const key = getEnumKeyByEnumValue(TestEnumWithString, TestEnumWithString.ZERO);\n    expect(key).toBe('ZERO');\n  });\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14263, "user_id": 10325032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UwH88.jpg?s=128&g=1", "display_name": "Karol Majewski", "link": "https://stackoverflow.com/users/10325032/karol-majewski"}, "is_accepted": false, "score": 2, "last_activity_date": 1592168642, "last_edit_date": 1592168642, "creation_date": 1592161979, "answer_id": 62377099, "question_id": 56263980, "link": "https://stackoverflow.com/questions/56263980/get-key-of-an-enum-from-its-value-in-typescript/62377099#62377099", "title": "Get key of an enum from its value in typescript", "body": "<p>You can use a combination of <code>Object.entries</code> and a <code>Map</code>:</p>\n\n<pre><code>const operators = new Map(\n  Object.entries(Operators)\n    .map(entry =&gt; entry.reverse()) as [Operators, keyof typeof Operators][]\n);\n\nconsole.log(\n  operators.get(Operators.Between) // Between\n)\n</code></pre>\n\n<hr>\n\n<p>Note that this is way easier to do when your enum contains numbers instead of strings.</p>\n\n<pre><code>export enum Operators {\n    Equal = 1,\n    NotEqual = 2,\n    GreatherOrEqual = 3,\n    LessOrEqual = 4,\n    Contains = 5,\n    Null = 6,\n    NotNull = 7,\n    Between = 8,\n    StartsWith = 9,\n    EndsWith = 10\n}\n\nOperators[Operators.Between]; // \"Between\"\n</code></pre>\n"}], "owner": {"reputation": 396, "user_id": 10623920, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yonQXz75lpE/AAAAAAAAAAI/AAAAAAAAABc/IxCDE0ASJfM/photo.jpg?sz=128", "display_name": "edu", "link": "https://stackoverflow.com/users/10623920/edu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 316, "favorite_count": 1, "accepted_answer_id": 56264522, "answer_count": 3, "score": 0, "last_activity_date": 1592168642, "creation_date": 1558554512, "last_edit_date": 1561761469, "question_id": 56263980, "link": "https://stackoverflow.com/questions/56263980/get-key-of-an-enum-from-its-value-in-typescript", "title": "Get key of an enum from its value in typescript", "body": "<p>I have the following enum</p>\n\n<pre><code>export enum Operators {\n    Equal = \"1\",\n    NotEqual = \"2\",\n    GreatherOrEqual = \"3\",\n    LessOrEqual = \"4\",\n    Contains = \"5\",\n    Null = \"6\",\n    NotNull = \"7\",\n    Between = \"8\",\n    StartsWith = \"9\",\n    EndsWith = \"10\"\n}\n</code></pre>\n\n<p>I need to recover the enum key from the value that is stored. I have created the following:</p>\n\n<pre><code>GetEnumTextByValue ( valueOperator: string ): string {\n    const values: string[] = Object.values( Operators ).filter( v =&gt; v == v );\n    const keys: string[] = Object.keys( Operators ).filter( k =&gt; k == k );\n    const index: number = values.indexOf( valueOperator );\n    return keys[ index ];\n}\n</code></pre>\n\n<p>The function returns what I need, but is there any simpler way to get the key?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 2, "creation_date": 1558554294, "post_id": 56263890, "comment_id": 99144233, "body": "You defined a tuple. You are looking for an array <code>ElUploadInternalRawFile[] </code>"}, {"owner": {"reputation": 4470, "user_id": 1037355, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/zGrNE.png?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/1037355/john"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1558554431, "post_id": 56263890, "comment_id": 99144303, "body": ":) thanks! Solved it!  <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#tuple\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/basic-types.html#tuple</a>"}], "owner": {"reputation": 4470, "user_id": 1037355, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/zGrNE.png?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/1037355/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1558554165, "creation_date": 1558554165, "question_id": 56263890, "link": "https://stackoverflow.com/questions/56263890/typescript-how-to-declare-an-array-of-types-that-can-also-be-empty", "title": "Typescript how to declare an array of types that can also be empty", "body": "<p>The function below declares an empty array where the contents can only be of type ElUploadInternalRawFile. The foreach iterates of an array and injects into the said array one object of type ElUploadInternalRawFile at a time.</p>\n\n<p>However,  the compiler now thinks that <code>const file1</code> can be either <code>undefined</code> or the aforementioned type. But.. as the ItemModule.saveItemImages expects file1 to be ElUploadInternalRawFile it complains and says that it cannot accept file1 as it could be undefined.</p>\n\n<p>I feel like i am in a mad typescript logic loop here.. how can i declare files to be an array of specific types or a plain old empty array..? </p>\n\n<pre><code>private async handleImageSubmit(uniqueItemName: string) {\n  let files: [ElUploadInternalRawFile?] = [];\n  this.getUploadFiles().forEach((file: ElUploadInternalFileDetail) =&gt; {\n    files.unshift(file.raw)\n  });\n  if(files.length &gt; 0){\n    const file1 = files[0];\n    await ItemModule.saveItemImages(uniqueItemName, file1 );\n  }\n}\n</code></pre>\n\n<p>Here is IDE complaining..\n<a href=\"https://i.stack.imgur.com/EqfqI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EqfqI.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "string-literals", "typescript3.0", "union-types"], "comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 1, "creation_date": 1558551234, "post_id": 56263200, "comment_id": 99142893, "body": "Sounds like what you really want is an <a href=\"http://www.typescriptlang.org/docs/handbook/enums.html\" rel=\"nofollow noreferrer\">enum</a>...?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 4, "creation_date": 1558551237, "post_id": 56263200, "comment_id": 99142896, "body": "You want <code>type MyType = typeof MY_CONSTANT | typeof SOMETHING_ELSE</code>.  There&#39;s a big difference between types (which exist only at design time) and values (which exist at runtime)"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1558551362, "post_id": 56263200, "comment_id": 99142940, "body": "I often throw <a href=\"https://stackoverflow.com/a/50396312/2887218\">this answer</a> at people when I sense confusion between types and values."}, {"owner": {"reputation": 28915, "user_id": 811405, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/aVcPB.jpg?s=128&g=1", "display_name": "Can Poyrazo\u011flu", "link": "https://stackoverflow.com/users/811405/can-poyrazo%c4%9flu"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1558556250, "post_id": 56263200, "comment_id": 99145098, "body": "@T.J.Crowder considered that, but I&#39;ve got constant strings that are defined elsewhere that I want to use"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1558593913, "post_id": 56263200, "comment_id": 99153908, "body": "@CanPoyrazo\u011flu - Fair enough, then Titian&#39;s answer is what you want."}], "answers": [{"comments": [{"owner": {"reputation": 28915, "user_id": 811405, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/aVcPB.jpg?s=128&g=1", "display_name": "Can Poyrazo\u011flu", "link": "https://stackoverflow.com/users/811405/can-poyrazo%c4%9flu"}, "edited": false, "score": 0, "creation_date": 1558601734, "post_id": 56263257, "comment_id": 99157970, "body": "yup, that worked. though I still don&#39;t get why I can create some string inline like <code>&#39;test&#39;</code> and use it directly, but need a <code>typeof</code> keyword if it&#39;s a reference."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 28915, "user_id": 811405, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/aVcPB.jpg?s=128&g=1", "display_name": "Can Poyrazo\u011flu", "link": "https://stackoverflow.com/users/811405/can-poyrazo%c4%9flu"}, "edited": false, "score": 1, "creation_date": 1558601847, "post_id": 56263257, "comment_id": 99158044, "body": "@CanPoyrazo\u011flu &#39;test&#39; is both a value and a type (a string literal type), by definition (just like a class is a value, the constructor, and a type, the instance type)"}, {"owner": {"reputation": 3606, "user_id": 3780766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IYKly.jpg?s=128&g=1", "display_name": "knuhol", "link": "https://stackoverflow.com/users/3780766/knuhol"}, "edited": false, "score": 5, "creation_date": 1586794761, "post_id": 56263257, "comment_id": 108252413, "body": "<code>typeof MY_CONSTANT</code> will check if it is a whatever <code>string</code>, not specifically the <code>MY_CONSTANT</code>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 3606, "user_id": 3780766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IYKly.jpg?s=128&g=1", "display_name": "knuhol", "link": "https://stackoverflow.com/users/3780766/knuhol"}, "edited": false, "score": 0, "creation_date": 1586803068, "post_id": 56263257, "comment_id": 108256752, "body": "@knuhol not sure I understand what you mean here. <code>typeof MY_CONSTANT</code> will give you the type of the constant, whatever that is. If you defined it in such a way that the type of it is <code>string</code> it will continue to be a <code>string</code>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1587137088, "post_id": 56263257, "comment_id": 108399250, "body": "If someone can explain the down-votes on this answer I would be grateful. I stand by the answer, it still does what it is supposed to and is an answer to  the original question. If someone has issues with it let me know"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 3606, "user_id": 3780766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IYKly.jpg?s=128&g=1", "display_name": "knuhol", "link": "https://stackoverflow.com/users/3780766/knuhol"}, "edited": false, "score": 0, "creation_date": 1588234660, "post_id": 56263257, "comment_id": 108822365, "body": "@knuhol see the note about <code>const</code> I think this is why you were getting <code>string</code>"}, {"owner": {"reputation": 175, "user_id": 1731401, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9d06f15e4fe687cfbbfca6116af88872?s=128&d=identicon&r=PG", "display_name": "Jonas Rosenqvist", "link": "https://stackoverflow.com/users/1731401/jonas-rosenqvist"}, "edited": false, "score": 0, "creation_date": 1594718653, "post_id": 56263257, "comment_id": 111216500, "body": "Titian - the problem with your solution is that ANY string is a valid MyType."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 175, "user_id": 1731401, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9d06f15e4fe687cfbbfca6116af88872?s=128&d=identicon&r=PG", "display_name": "Jonas Rosenqvist", "link": "https://stackoverflow.com/users/1731401/jonas-rosenqvist"}, "edited": false, "score": 0, "creation_date": 1594722253, "post_id": 56263257, "comment_id": 111218386, "body": "@JonasRosenqvist please read the comments and the notes. Please check the playground link associated. If you use <b>const</b> then the literal type is preserved and type checking works as you expect and not all strings are compatible. If you have a sample where this is not true I would like to see it. Sorry if I sound a bit mad, but this answer keeps getting downvotes for no reason and it&#39;s getting very annoying. Not sure what I can do to make it more clear <b>const</b> is required"}, {"owner": {"reputation": 175, "user_id": 1731401, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9d06f15e4fe687cfbbfca6116af88872?s=128&d=identicon&r=PG", "display_name": "Jonas Rosenqvist", "link": "https://stackoverflow.com/users/1731401/jonas-rosenqvist"}, "edited": false, "score": 1, "creation_date": 1594811113, "post_id": 56263257, "comment_id": 111255562, "body": "@TitianCernicova-Dragomir - you&#39;re right, I had made the mistake of declaring the constant as: <code>const MY_CONSTANT:string = &#39;MY_CONSTANT&#39;</code> Specifying the type of constant made it accept any string. Sorry, you&#39;ll get my upvote!"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 175, "user_id": 1731401, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9d06f15e4fe687cfbbfca6116af88872?s=128&d=identicon&r=PG", "display_name": "Jonas Rosenqvist", "link": "https://stackoverflow.com/users/1731401/jonas-rosenqvist"}, "edited": false, "score": 0, "creation_date": 1594811182, "post_id": 56263257, "comment_id": 111255602, "body": "@JonasRosenqvist That is important feedback, I&#39;ll add it in the notes for the next person reading it. Thank you."}, {"owner": {"reputation": 3862, "user_id": 3210677, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/108ff5af85167b56504817385123251e?s=128&d=identicon&r=PG", "display_name": "Andru", "link": "https://stackoverflow.com/users/3210677/andru"}, "edited": false, "score": 0, "creation_date": 1603472358, "post_id": 56263257, "comment_id": 114058084, "body": "Important Note: It doesn&#39;t work when defining your strings with template literals. Then the types are just <code>string</code>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 3862, "user_id": 3210677, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/108ff5af85167b56504817385123251e?s=128&d=identicon&r=PG", "display_name": "Andru", "link": "https://stackoverflow.com/users/3210677/andru"}, "edited": false, "score": 0, "creation_date": 1603474139, "post_id": 56263257, "comment_id": 114058850, "body": "@Andru not true, as long as your string are constants, the delimiter does not matter. If you use interpolation then yes, they will be strings in 4.0: <a href=\"https://www.typescriptlang.org/play?#code/MYewdgzgLgBAsgTQPoGEDyA5AygFQIIY4wC8MABoqprgTmQFCiSxZpwCiOAEgJIYDiSdgBks7EuVYdufQSLEMoATwAOAU3hKcqjaWXqQAM3jJ02fIRgAfGPrVGYUzrwFDR7eo3DRHbZ7LcxKgwUPCJSMicZV3l2ABIAb0ozGkIAXzIYAHosmBksGB4CgCkAVVxHHAAlWU8AGzVYAA8ALk1tdQBueiaJACI+mGzctQAnUZBRnv7k6gscPqA\" rel=\"nofollow noreferrer\">typescriptlang.org/play?#code/&hellip;</a>"}, {"owner": {"reputation": 3862, "user_id": 3210677, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/108ff5af85167b56504817385123251e?s=128&d=identicon&r=PG", "display_name": "Andru", "link": "https://stackoverflow.com/users/3210677/andru"}, "edited": false, "score": 0, "creation_date": 1603527222, "post_id": 56263257, "comment_id": 114070328, "body": "@TitianCernicova-Dragomir Thanks for pointing that out. I indeed used a delimiter. I&#39;m wondering why Typescript can&#39;t infer that the entire value will also be a string."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 50, "last_activity_date": 1594811670, "last_edit_date": 1594811670, "creation_date": 1558551262, "answer_id": 56263257, "question_id": 56263200, "link": "https://stackoverflow.com/questions/56263200/how-to-define-string-literal-union-type-from-constants-in-typescript/56263257#56263257", "title": "How to define string literal union type from constants in Typescript", "body": "<p>To get the type of a variable you need to use the <code>typeof</code> type operator:</p>\n<pre><code>const MY_CONSTANT = 'MY_CONSTANT' // must be const, no annotation. let or var will not work\nconst SOMETHING_ELSE = 'SOMETHING_ELSE' // must be const, no annotation. let or var will not work\ntype MyType = typeof MY_CONSTANT | typeof SOMETHING_ELSE\n</code></pre>\n<p><a href=\"https://www.typescriptlang.org/play/#code/MYewdgzgLgBAsgTQPoGEDyA5AygFQIIY4wC8MA5IqprgTmQFCiSxZpwCiOAEgJIYDiSdgBks7EuVYdufQSLEMoATwAOAU3hKcqjaWXqQAM3jJ02fIRgAfGPrVGYUzrwFDR7evQA2a2AA8ALk1tdQBuej8JACIomBgAeniYNQAnFJAUiOjKMxpCKKA\" rel=\"noreferrer\">Playground</a></p>\n<p><strong>Note:</strong></p>\n<p>Since there seems to be a lot of confusion when people use this. The <code>const</code> matters. If you use other types of declarations (<code>let</code> or <code>var</code>) the final type would be string. Only <code>const </code> preserves string literal types.</p>\n<p><strong>Note 2:</strong></p>\n<p>For this solution to work you must <strong>not</strong> specify any type annotation on the <code>const</code>, and let the compiler infer the type of the constants (ex this will <strong>not work</strong> :<code>const MY_CONSTANT: string = 'MY_CONSTANT'</code>)</p>\n"}, {"tags": [], "owner": {"reputation": 692, "user_id": 1906096, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ZANR3.jpg?s=128&g=1", "display_name": "Eugene", "link": "https://stackoverflow.com/users/1906096/eugene"}, "is_accepted": false, "score": 6, "last_activity_date": 1588216596, "last_edit_date": 1588216596, "creation_date": 1587115573, "answer_id": 61268177, "question_id": 56263200, "link": "https://stackoverflow.com/questions/56263200/how-to-define-string-literal-union-type-from-constants-in-typescript/61268177#61268177", "title": "How to define string literal union type from constants in Typescript", "body": "<p>You can also use enum for this case. For example:</p>\n\n<pre><code>// Define enum.\nenum myConstants {\n  MY_CONSTANT = 'my_constant',\n  SMTH_ELSE = 'smth_else'\n}\n\n// Use it in an interface for typechecking.\ninterface MyInterface {\n  myProp: myConstants\n}\n\n// Example of correct object - no errors.\nlet a: MyInterface = {\n  myProp: myConstants.MY_CONSTANT\n}\n\n// Incorrect value - TS reports an error.\nlet b: MyInterface = {\n  myProp: 'John Doe'\n}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/enums.html#enums\" rel=\"noreferrer\">More about enums</a>  </p>\n"}], "owner": {"reputation": 28915, "user_id": 811405, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/aVcPB.jpg?s=128&g=1", "display_name": "Can Poyrazo\u011flu", "link": "https://stackoverflow.com/users/811405/can-poyrazo%c4%9flu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10334, "favorite_count": 1, "accepted_answer_id": 56263257, "answer_count": 2, "score": 35, "last_activity_date": 1594811670, "creation_date": 1558551021, "question_id": 56263200, "link": "https://stackoverflow.com/questions/56263200/how-to-define-string-literal-union-type-from-constants-in-typescript", "title": "How to define string literal union type from constants in Typescript", "body": "<p>I know I can define string union types to restrict variables to one of the possible string values:</p>\n\n<pre><code>type MyType = 'first' | 'second'\nlet myVar:MyType = 'first'\n</code></pre>\n\n<p>I need to construct a type like that from constant strings, e.g:</p>\n\n<pre><code>const MY_CONSTANT = 'MY_CONSTANT'\nconst SOMETHING_ELSE = 'SOMETHING_ELSE'\ntype MyType = MY_CONSTANT | SOMETHING_ELSE\n</code></pre>\n\n<p>But for some reason it doesn't work; it says <code>MY_CONSTANT refers to a value, but it being used as a type here</code>.</p>\n\n<p>Why does Typescript allow the first example, but doesn't allow the second case? I'm on Typescript 3.4.5</p>\n"}, {"tags": ["typescript", "angular7"], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 7616093, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f4084996ecd39f6c5b2872d1c7c7a673?s=128&d=identicon&r=PG&f=1", "display_name": "M.Maria", "link": "https://stackoverflow.com/users/7616093/m-maria"}, "edited": false, "score": 1, "creation_date": 1558549878, "post_id": 56262926, "comment_id": 99142305, "body": "Yes , that was it , I changed the import and it worked. Thank you"}], "tags": [], "owner": {"reputation": 12472, "user_id": 3680098, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uuWp6.png?s=128&g=1", "display_name": "Evaldas Buinauskas", "link": "https://stackoverflow.com/users/3680098/evaldas-buinauskas"}, "is_accepted": true, "score": 2, "last_activity_date": 1558549762, "creation_date": 1558549762, "answer_id": 56262926, "question_id": 56262871, "link": "https://stackoverflow.com/questions/56262871/expected-0-type-arguments-but-got-1-ts2558/56262926#56262926", "title": "Expected 0 type arguments, but got 1.ts(2558)", "body": "<p>Only thing I can think of is your import statement. I'd change that to:</p>\n\n<pre><code>import { Subject } from 'rxjs';\n</code></pre>\n\n<p>I suspect that your current import is from internals.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13530782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e1e95398e3a0bab9a312280d37b82e7?s=128&d=identicon&r=PG&f=1", "display_name": "amlan_sengupta", "link": "https://stackoverflow.com/users/13530782/amlan-sengupta"}, "is_accepted": false, "score": 0, "last_activity_date": 1589345051, "creation_date": 1589345051, "answer_id": 61766614, "question_id": 56262871, "link": "https://stackoverflow.com/questions/56262871/expected-0-type-arguments-but-got-1-ts2558/61766614#61766614", "title": "Expected 0 type arguments, but got 1.ts(2558)", "body": "<p>If you are using VS code, it would import eventEmitter from the protractor.\n//import {EventEmitter} from'protractor'\ninstead, you would want to import this from 'angular/core'.</p>\n"}], "owner": {"reputation": 91, "user_id": 7616093, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f4084996ecd39f6c5b2872d1c7c7a673?s=128&d=identicon&r=PG&f=1", "display_name": "M.Maria", "link": "https://stackoverflow.com/users/7616093/m-maria"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 727, "favorite_count": 0, "accepted_answer_id": 56262926, "answer_count": 2, "score": 0, "last_activity_date": 1589345051, "creation_date": 1558549532, "question_id": 56262871, "link": "https://stackoverflow.com/questions/56262871/expected-0-type-arguments-but-got-1-ts2558", "title": "Expected 0 type arguments, but got 1.ts(2558)", "body": "<p>I'm creating a new angular service for components communication. but once I create my new Subject , I get this error : Expected 0 type arguments, but got 1.ts(2558). I'm working with Angular 7. this is My service : </p>\n\n<pre><code>import { Injectable  } from '@angular/core';\nimport { Subject } from '../../../types/rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class InteractionService {\n\n  private sprintData = new Subject&lt;any[]&gt;();\n  constructor() { }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "components"], "comments": [{"owner": {"reputation": 1708, "user_id": 3569921, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/077N5.jpg?s=128&g=1", "display_name": "marcusshep", "link": "https://stackoverflow.com/users/3569921/marcusshep"}, "edited": false, "score": 1, "creation_date": 1558555852, "post_id": 56262433, "comment_id": 99144922, "body": "Why are you converting the Observables into promises?"}, {"owner": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "edited": false, "score": 0, "creation_date": 1558556293, "post_id": 56262433, "comment_id": 99145127, "body": "Are the functions lacking <code>return</code> statements? Maybe it&#39;s a typescript thing, but with JavaScript when a function lacks a <code>return</code> statement. it returns a value of <code>undefined</code>."}, {"owner": {"reputation": 57, "user_id": 7806676, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d519c1a31a71dd3dd8b42eaace4aa6dd?s=128&d=identicon&r=PG&f=1", "display_name": "Abifoluwa Oni", "link": "https://stackoverflow.com/users/7806676/abifoluwa-oni"}, "edited": false, "score": 0, "creation_date": 1558556532, "post_id": 56262433, "comment_id": 99145243, "body": "there is a return statement. I edited the statement."}, {"owner": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "edited": false, "score": 0, "creation_date": 1558557233, "post_id": 56262433, "comment_id": 99145569, "body": "Because the <code>.then</code> method lacks a <code>return</code> statement, the constant <code>a</code> will resolve as <code>undefined</code>."}], "answers": [{"tags": [], "owner": {"reputation": 106, "user_id": 9042121, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_UGXFBqpoio/AAAAAAAAAAI/AAAAAAAABUM/DrYcnrpZef0/photo.jpg?sz=128", "display_name": "Ankush Jane", "link": "https://stackoverflow.com/users/9042121/ankush-jane"}, "is_accepted": false, "score": 0, "last_activity_date": 1558556428, "last_edit_date": 1558556428, "creation_date": 1558556342, "answer_id": 56264400, "question_id": 56262433, "link": "https://stackoverflow.com/questions/56262433/angular-page-is-loading-before-all-the-data-is-completed/56264400#56264400", "title": "Angular Page is loading before all the data is completed", "body": "<p>Try this..</p>\n\n<pre><code>this.getData().then(res =&gt; {\n    alert(res);\n    this.getValueWithAsync().then(res =&gt; {\n        alert(res)\n    });\n});\n</code></pre>\n\n<p>Note: if it's not work try with observable</p>\n"}], "owner": {"reputation": 57, "user_id": 7806676, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d519c1a31a71dd3dd8b42eaace4aa6dd?s=128&d=identicon&r=PG&f=1", "display_name": "Abifoluwa Oni", "link": "https://stackoverflow.com/users/7806676/abifoluwa-oni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558556567, "creation_date": 1558547607, "last_edit_date": 1558556567, "question_id": 56262433, "link": "https://stackoverflow.com/questions/56262433/angular-page-is-loading-before-all-the-data-is-completed", "title": "Angular Page is loading before all the data is completed", "body": "<p>I posted on this channel about an issue i was facing few days ago and i am still running into the same problem.</p>\n\n<p>I am currently working on an Angular and Typescript application. </p>\n\n<p>I am making four different api calls, getting data, and rendering it to the UI page. </p>\n\n<p>This function </p>\n\n<pre><code>public async getData(){\n    let data = await this.http.get&lt;any[]&gt;(\"google.com\").toPromise();\n    return data;\n}\n</code></pre>\n\n<p>gets the data from the first Api and renders it to the UI which works perfectly fine, if i am only calling the first api. The reason why i need it in sequence is because first call needs to get a particular data before the seconds function kicks in, and it needs that data to start its own process, same with third and fourth function. </p>\n\n<p>This second function</p>\n\n<pre><code> async getValueWithAsync(){\n    let data = await this.http.get&lt;any[]&gt;(\"google.com\").toPromise();\n    return data;\n}\n</code></pre>\n\n<p>is getting the second data from the second Api, and i am calling it from public async getData() like this.</p>\n\n<pre><code>const a = await this.getValueWithAsync().then(res =&gt; {alert(res)});\n</code></pre>\n\n<p>For some reason, the data is returning, i can see it with alert(res) but the getData() function returns without Data whenever i call getValueWithAsync() while if i don't call it, it comes with data, but the values needed from getData() are undefined which makes sense. </p>\n\n<p>I will appreciate any help once again.</p>\n"}, {"tags": ["javascript", "arrays", "typescript"], "comments": [{"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 3, "creation_date": 1558547064, "post_id": 56262258, "comment_id": 99141056, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...in\" rel=\"nofollow noreferrer\">for...in</a> does not do what you think it does (returns <i>indexes</i> in an &quot;arbitrary order&quot;). You might be looking for <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of\" rel=\"nofollow noreferrer\">for...of</a>"}], "answers": [{"comments": [{"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "reply_to_user": {"reputation": 1113, "user_id": 11059320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MCWZp.jpg?s=128&g=1", "display_name": "shadow2020", "link": "https://stackoverflow.com/users/11059320/shadow2020"}, "edited": false, "score": 0, "creation_date": 1558549277, "post_id": 56262292, "comment_id": 99142044, "body": "@shadoe2020, sorry, i didn&#39;t know, that you invented the <code>for</code> statement with a counter as index. it&#39;s time to thank you for this."}, {"owner": {"reputation": 1113, "user_id": 11059320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MCWZp.jpg?s=128&g=1", "display_name": "shadow2020", "link": "https://stackoverflow.com/users/11059320/shadow2020"}, "edited": false, "score": 0, "creation_date": 1558549330, "post_id": 56262292, "comment_id": 99142062, "body": "Posted it before you did, and you shamelessly felt it still needed a 2nd post. Eh whatever."}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "reply_to_user": {"reputation": 1113, "user_id": 11059320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MCWZp.jpg?s=128&g=1", "display_name": "shadow2020", "link": "https://stackoverflow.com/users/11059320/shadow2020"}, "edited": false, "score": 0, "creation_date": 1558549473, "post_id": 56262292, "comment_id": 99142120, "body": "really a dv? come on."}, {"owner": {"reputation": 1113, "user_id": 11059320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MCWZp.jpg?s=128&g=1", "display_name": "shadow2020", "link": "https://stackoverflow.com/users/11059320/shadow2020"}, "edited": false, "score": 0, "creation_date": 1558549811, "post_id": 56262292, "comment_id": 99142274, "body": "Yes you copied my solution and you also copied Dupocas&#39;s. Thus the post is sloppy and requires no effort, as per the rules of a down vote."}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "reply_to_user": {"reputation": 1113, "user_id": 11059320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MCWZp.jpg?s=128&g=1", "display_name": "shadow2020", "link": "https://stackoverflow.com/users/11059320/shadow2020"}, "edited": false, "score": 0, "creation_date": 1558549965, "post_id": 56262292, "comment_id": 99142339, "body": "please have a look to the time of the answer, and then compare it with the other answers."}], "tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": true, "score": 2, "last_activity_date": 1558547850, "last_edit_date": 1592644375, "creation_date": 1558547060, "answer_id": 56262292, "question_id": 56262258, "link": "https://stackoverflow.com/questions/56262258/how-to-print-array-elements/56262292#56262292", "title": "How to print array elements?", "body": "<p>You could take a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of\" rel=\"nofollow noreferrer\"><code>for ... of</code> statement</a> where you get the element instead of the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...in\" rel=\"nofollow noreferrer\"><code>for ... in</code> statement</a>  where you get the indices of the array.</p>\n<blockquote>\n<p><strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of#Difference_between_for...of_and_for...in\" rel=\"nofollow noreferrer\">Difference between <code>for...of</code> and <code>for...in</code></a></strong></p>\n<p>Both <code>for...in</code> and for...of statements iterate over something. The main difference between them is in what they iterate over.</p>\n<p>The <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...in\" rel=\"nofollow noreferrer\"><code>for...in</code></a> statement iterates over the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Enumerability_and_ownership_of_properties\" rel=\"nofollow noreferrer\">enumerable properties</a> of an object, in an arbitrary order.</p>\n<p>The <code>for...of</code> statement iterates over values that the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Iterators_and_Generators#Iterables\" rel=\"nofollow noreferrer\">iterable object</a> defines to be iterated over.</p>\n</blockquote>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arr = [\"1,2,3\", \"iosajah\", \"undefined\"];\nfor (let data of arr) {\n    console.log(data);\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>To get the elements in the order of the indices, you could take a standard <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for\" rel=\"nofollow noreferrer\"><code>for</code> statement</a> and go from the first element to the end of the array.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arr = [\"1,2,3\", \"iosajah\", \"undefined\"];\nfor (let i = 0; i &lt; arr.length; i++) {\n    console.log(arr[i]);\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 424, "user_id": 10948109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19d19f5f87e579185ea403eca2e586bf?s=128&d=identicon&r=PG&f=1", "display_name": "JohnSnow", "link": "https://stackoverflow.com/users/10948109/johnsnow"}, "is_accepted": false, "score": 1, "last_activity_date": 1558547433, "last_edit_date": 1558547433, "creation_date": 1558547114, "answer_id": 56262307, "question_id": 56262258, "link": "https://stackoverflow.com/questions/56262258/how-to-print-array-elements/56262307#56262307", "title": "How to print array elements?", "body": "<p>for in loop is used to iterate through object literals, but since Arrays (and everything else) are actually objects in JavaScript you are actually logging the keys of the Array object which are the index values. </p>\n\n<p>You want to use <code>forEach</code></p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach</a></p>\n\n<pre><code>let arr=[\"1,2,3\",\"iosajah\",\"undefined\"];\n\narr.forEach(function(element) {\n  console.log(element);\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 1, "creation_date": 1558547204, "post_id": 56262312, "comment_id": 99141123, "body": "The downside to this is that the order of iteration is arbitrary and not guaranteed to be in array order. Also, you should explain why this answers the question."}], "tags": [], "owner": {"reputation": 3753, "user_id": 1103092, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7947027d6be880a31daef8f6fabd7847?s=128&d=identicon&r=PG", "display_name": "carter", "link": "https://stackoverflow.com/users/1103092/carter"}, "is_accepted": false, "score": 1, "last_activity_date": 1558548143, "last_edit_date": 1558548143, "creation_date": 1558547125, "answer_id": 56262312, "question_id": 56262258, "link": "https://stackoverflow.com/questions/56262258/how-to-print-array-elements/56262312#56262312", "title": "How to print array elements?", "body": "<p>I have changed <code>data</code> to <code>key</code> since that is what the <code>for... in...</code> syntax produces: the key of the object (which may be an Array) during the iteration.  You should not have printed a <code>4</code> at all as this typescript playground shows: <a href=\"https://www.typescriptlang.org/play/#src=let%20arr%3D%5B%221%2C2%2C3%22%2C%22iosajah%22%2C%22undefined%22%5D%3B%0D%0A%20%20%20%20for(let%20data%20in%20arr)%0D%0A%20%20%20%20%7B%20%0D%0A%20%20%20%20%20%20%20%20console.log(data)%3B%2F%2F%20prints%204%2C0%2C1%2C2%20%0D%0A%20%20%20%20%20%20%20%20if(typeof%20data%20%3D%3D%3D%20%22undefined%22)%0D%0A%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2Fdo%20something%0D%0A%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20%20%20\" rel=\"nofollow noreferrer\">Typescript Playground Example</a></p>\n\n<pre><code> let arr=[\"1,2,3\",\"iosajah\",\"undefined\"];\n for(let key in arr)\n { \n     console.log(arr[key]);// prints 0,1,2 \n     if(typeof arr[key] === \"undefined\")\n     {\n          //do something\n\n     }\n }  \n</code></pre>\n\n<p>If you want to iterate over an array the more typical way to do it is using the <code>.forEach</code> syntax.</p>\n\n<pre><code>let arr=[\"1,2,3\",\"iosajah\",\"undefined\"];\narr.forEach((element, index, arr) =&gt; {\n    console.log(element, index);\n    if (typeof element === \"undefined\") {\n        //do something\n    }\n})\n</code></pre>\n\n<p>It also looks like you probably are intending to look for the string <code>undefined</code> in the array and if that is the case then you don't want to check the <code>typeof</code>, you just want to compare the string value:</p>\n\n<pre><code>if (element === \"undefined\") {\n\n}\n</code></pre>\n\n<p>The <code>typeof element</code> will never be a string of value <code>\"undefined\"</code> in this example.</p>\n"}, {"tags": [], "owner": {"reputation": 1113, "user_id": 11059320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MCWZp.jpg?s=128&g=1", "display_name": "shadow2020", "link": "https://stackoverflow.com/users/11059320/shadow2020"}, "is_accepted": false, "score": 1, "last_activity_date": 1558547618, "last_edit_date": 1558547618, "creation_date": 1558547220, "answer_id": 56262338, "question_id": 56262258, "link": "https://stackoverflow.com/questions/56262258/how-to-print-array-elements/56262338#56262338", "title": "How to print array elements?", "body": "<p>Your For/In statement is to traverse properties of an object. If you check the length of your array and step through it. We want values, rather than properties. You can print it this way. </p>\n\n<pre><code>let arr=[\"1,2,3\",\"iosajah\",\"undefined\"];\n    for(i=0;i&lt;arr.length;i++)\n      {\n       console.log(arr[i]);\n       if(typeof data === \"undefined\"){\n       //do something\n      }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15766, "user_id": 10106580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCnek.jpg?s=128&g=1", "display_name": "Dupocas", "link": "https://stackoverflow.com/users/10106580/dupocas"}, "is_accepted": false, "score": 1, "last_activity_date": 1558547809, "creation_date": 1558547809, "answer_id": 56262482, "question_id": 56262258, "link": "https://stackoverflow.com/questions/56262258/how-to-print-array-elements/56262482#56262482", "title": "How to print array elements?", "body": "<p><code>for in</code> loops over enumerable property names of an object, you are printing the indexes of the array. If you want to iterate over the values use one of the approaches:</p>\n\n<pre><code>for(let value of array)\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>Object.keys(array).map(key =&gt; console.log(array[key]))\n</code></pre>\n"}], "owner": {"reputation": 1633, "user_id": 11272449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a449ca3aaecdd974bd0d060e4bc3009?s=128&d=identicon&r=PG&f=1", "display_name": "karansys", "link": "https://stackoverflow.com/users/11272449/karansys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 515, "favorite_count": 0, "accepted_answer_id": 56262292, "answer_count": 5, "score": 2, "last_activity_date": 1558554054, "creation_date": 1558546907, "last_edit_date": 1558554054, "question_id": 56262258, "link": "https://stackoverflow.com/questions/56262258/how-to-print-array-elements", "title": "How to print array elements?", "body": "<p>I am trying to print array element to console using for each loop in javascript. But I am printing something which I am not able to figure out what!</p>\n\n<pre><code> let arr=[\"1,2,3\",\"iosajah\",\"undefined\"];\n    for(let data in arr)\n    { \n        console.log(data);// prints 4,0,1,2 \n        if(typeof data === \"undefined\")\n        {\n          //do something\n\n        }\n    }   \n</code></pre>\n\n<p>console.log(data) prints 4,0,1,2 </p>\n\n<p>but I expected it to print each array element</p>\n"}, {"tags": ["node.js", "reactjs", "typescript", "webpack", "babeljs"], "comments": [{"owner": {"reputation": 6905, "user_id": 482868, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ysm67.jpg?s=128&g=1", "display_name": "Igor Soloydenko", "link": "https://stackoverflow.com/users/482868/igor-soloydenko"}, "edited": false, "score": 1, "creation_date": 1558546268, "post_id": 56262074, "comment_id": 99140759, "body": "A good starting point would be to <a href=\"https://github.com/facebook/create-react-app/blob/master/packages/react-scripts/template/README.md#npm-run-eject\" rel=\"nofollow noreferrer\">eject</a> the app (just dont commit/push that, since irreversible). Then you can inspect what the configuration looks like; what scripts are used; when and how."}, {"owner": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "edited": false, "score": 0, "creation_date": 1558546467, "post_id": 56262074, "comment_id": 99140834, "body": "You probably want to review this: <a href=\"https://github.com/facebook/create-react-app/tree/master/packages/react-scripts/config\" rel=\"nofollow noreferrer\">github.com/facebook/create-react-app/tree/master/packages/&hellip;</a>"}, {"owner": {"reputation": 5637, "user_id": 891794, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f77e5937af1971f7f88c805f51dcfc29?s=128&d=identicon&r=PG", "display_name": "Behnam Esmaili", "link": "https://stackoverflow.com/users/891794/behnam-esmaili"}, "edited": false, "score": 0, "creation_date": 1558546502, "post_id": 56262074, "comment_id": 99140856, "body": "yea i know.at worse case i could read through many blog posts illustrating how to setup react app from scratch , but the issue is they don&#39;t tell you order of things."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1558546860, "post_id": 56262074, "comment_id": 99140987, "body": "That&#39;s not what&#39;s being suggested, <i>look at the code</i>. If you have a <i>specific</i> question afterward, ask that."}, {"owner": {"reputation": 5637, "user_id": 891794, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f77e5937af1971f7f88c805f51dcfc29?s=128&d=identicon&r=PG", "display_name": "Behnam Esmaili", "link": "https://stackoverflow.com/users/891794/behnam-esmaili"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1558547184, "post_id": 56262074, "comment_id": 99141114, "body": "@jonrsharpe you suggest i read through thousands of lines of code to grasp the concept?Then what are docs good for?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1558547323, "post_id": 56262074, "comment_id": 99141177, "body": "Not thousands, the webpack config you&#39;ve already been pointed to is about 600 lines. And there are <i>also</i> docs to look at: <a href=\"https://webpack.js.org/\" rel=\"nofollow noreferrer\">webpack.js.org</a>. But explaining the whole build process isn&#39;t in scope for SO."}, {"owner": {"reputation": 5637, "user_id": 891794, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f77e5937af1971f7f88c805f51dcfc29?s=128&d=identicon&r=PG", "display_name": "Behnam Esmaili", "link": "https://stackoverflow.com/users/891794/behnam-esmaili"}, "edited": false, "score": 0, "creation_date": 1558547391, "post_id": 56262074, "comment_id": 99141205, "body": "could you guide me to that 600 lines of code?"}], "answers": [{"tags": [], "owner": {"reputation": 6905, "user_id": 482868, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ysm67.jpg?s=128&g=1", "display_name": "Igor Soloydenko", "link": "https://stackoverflow.com/users/482868/igor-soloydenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1558549346, "creation_date": 1558549346, "answer_id": 56262818, "question_id": 56262074, "link": "https://stackoverflow.com/questions/56262074/what-takes-place-where-in-reactjs-build-system/56262818#56262818", "title": "What takes place where in reactjs build system?", "body": "<p>Start with <code>yarn eject</code> on your app and you'll see the log which lists the <code>\\config</code> directory and files; updated npm dependencies; rewritten scripts; and so on. This should be a great start.</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>user@desktop /c/GitHub/walktrhough (master)\n$ yarn eject\nyarn run v1.15.2\n$ react-scripts eject\nNOTE: Create React App 2+ supports TypeScript, Sass, CSS Modules and more without ejecting: https://reactjs.org/blog/2\n018/10/01/create-react-app-v2.html\n\n? Are you sure you want to eject? This action is permanent. Yes\nEjecting...\n\nCopying files into C:\\GitHub\\walktrhough\n  Adding \\config\\env.js to the project\n  Adding \\config\\modules.js to the project\n  Adding \\config\\paths.js to the project\n  Adding \\config\\pnpTs.js to the project\n  Adding \\config\\webpack.config.js to the project\n  Adding \\config\\webpackDevServer.config.js to the project\n  Adding \\config\\jest\\cssTransform.js to the project\n  Adding \\config\\jest\\fileTransform.js to the project\n  Adding \\scripts\\build.js to the project\n  Adding \\scripts\\start.js to the project\n  Adding \\scripts\\test.js to the project\n\nUpdating the dependencies\n  Removing react-scripts from dependencies\n  Adding @babel/core to dependencies\n  Adding @svgr/webpack to dependencies\n  Adding @typescript-eslint/eslint-plugin to dependencies\n@typescript-eslint/parser to dependencies\n  Adding babel-eslint to dependencies\n  Adding babel-jest to dependencies\n  Adding babel-loader to dependencies\n  Adding babel-plugin-named-asset-import to dependencies\n  Adding babel-preset-react-app to dependencies\n  Adding camelcase to dependencies\n  Adding case-sensitive-paths-webpack-plugin to dependencies\n  Adding css-loader to dependencies\n  Adding dotenv to dependencies\n  Adding dotenv-expand to dependencies\n  Adding eslint to dependencies\n  Adding eslint-config-react-app to dependencies\n  Adding eslint-loader to dependencies\n  Adding eslint-plugin-flowtype to dependencies\n  Adding eslint-plugin-import to dependencies\n  Adding eslint-plugin-jsx-a11y to dependencies\n  Adding eslint-plugin-react to dependencies\n  Adding eslint-plugin-react-hooks to dependencies\n  Adding file-loader to dependencies\n  Adding fs-extra to dependencies\n  Adding html-webpack-plugin to dependencies\n  Adding identity-obj-proxy to dependencies\n  Adding is-wsl to dependencies\n  Adding jest to dependencies\n  Adding jest-environment-jsdom-fourteen to dependencies\n  Adding jest-resolve to dependencies\n  Adding jest-watch-typeahead to dependencies\n  Adding mini-css-extract-plugin to dependencies\n  Adding optimize-css-assets-webpack-plugin to dependencies\n  Adding pnp-webpack-plugin to dependencies\n  Adding postcss-flexbugs-fixes to dependencies\n  Adding postcss-loader to dependencies\n  Adding postcss-normalize to dependencies\n  Adding postcss-preset-env to dependencies\n  Adding postcss-safe-parser to dependencies\n  Adding react-app-polyfill to dependencies\n  Adding react-dev-utils to dependencies\n  Adding resolve to dependencies\n  Adding sass-loader to dependencies\n  Adding semver to dependencies\n  Adding style-loader to dependencies\n  Adding terser-webpack-plugin to dependencies\n  Adding ts-pnp to dependencies\n  Adding url-loader to dependencies\n  Adding webpack to dependencies\n  Adding webpack-dev-server to dependencies\n  Adding webpack-manifest-plugin to dependencies\n  Adding workbox-webpack-plugin to dependencies\n\nUpdating the scripts\n  Replacing \"react-scripts start\" with \"node scripts/start.js\"\n  Replacing \"react-scripts build\" with \"node scripts/build.js\"\n  Replacing \"react-scripts test\" with \"node scripts/test.js\"\n\nConfiguring package.json\n  Adding Jest configuration\n  Adding Babel preset\n  Adding ESLint configuration\n\nRunning yarn...\n[1/4] Resolving packages...\n[2/4] Fetching packages...\ninfo fsevents@1.2.8: The platform \"win32\" is incompatible with this module.\ninfo \"fsevents@1.2.8\" is an optional dependency and failed compatibility check. Excluding it from installation.\n[3/4] Linking dependencies...\n[4/4] Building fresh packages...\nsuccess Saved lockfile.\nEjected successfully!\n</code></pre>\n\n<p>Scan through the <code>package.json</code> first. Look at dependencies and scripts (which now are a part of your repository, e.g. <code>/scripts/start.js</code> or <code>/scripts/build.js</code>).</p>\n\n<p>Both <code>start.js</code> and <code>build.js</code> use a specific webpack setup each (<code>webpackDevServer.config.js</code> and <code>webpack.config.js</code>, respectively), so you should inspect them carefully.</p>\n\n<p>Also, scan through the <code>/config</code> directory files -- they are often picked up by tools without direct references (via placement conventions -- may look like \"magic\" as a result).</p>\n\n<p>I understand that 600+ lines long <code>webpack.config.js</code> may look intimidating, but it's doable. Prioritize the important things to look first or to ignore completely. There's no golden road unfortunately. </p>\n"}], "owner": {"reputation": 5637, "user_id": 891794, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f77e5937af1971f7f88c805f51dcfc29?s=128&d=identicon&r=PG", "display_name": "Behnam Esmaili", "link": "https://stackoverflow.com/users/891794/behnam-esmaili"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558549346, "creation_date": 1558546069, "last_edit_date": 1558546837, "question_id": 56262074, "link": "https://stackoverflow.com/questions/56262074/what-takes-place-where-in-reactjs-build-system", "title": "What takes place where in reactjs build system?", "body": "<p>You type <code>create-react-app</code> and hit enter and voila! Some magic happens and everything gets set up in a flash. But during the rest of the development process you suffer from lack of knowledge of what really happens behind the scene.</p>\n\n<p>Is there anyone to shed some light on this? What really takes place where? Where does the React compiler lie in the pipeline, and what about babel, and if we use typescript are we replacing babel? When we use <code>webpack</code>, how does it combine typescript with react code?</p>\n\n<p>Please tell me where build process starts and where it ends.</p>\n"}, {"tags": ["angular", "typescript", "angular-material"], "answers": [{"tags": [], "owner": {"reputation": 798, "user_id": 10514369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a21ea907d34cdc8b3d23a6c26fad1fde?s=128&d=identicon&r=PG&f=1", "display_name": "davidr", "link": "https://stackoverflow.com/users/10514369/davidr"}, "is_accepted": true, "score": 1, "last_activity_date": 1558554177, "creation_date": 1558554177, "answer_id": 56263896, "question_id": 56261869, "link": "https://stackoverflow.com/questions/56261869/how-to-dynamically-add-mat-expansion-panel/56263896#56263896", "title": "How to dynamically add mat-expansion panel?", "body": "<p>You can add your mat-expansion-panel data in an array (matExpansionPanelArray) then use a *ngFor:</p>\n\n<pre><code>&lt;mat-accordion&gt;\n    &lt;mat-expansion-panel *ngFor=\"let item of items;\"&gt;\n        &lt;mat-expansion-panel-header&gt;\n            &lt;mat-panel-title&gt;{{item.title}}&lt;/mat-panel-title&gt;\n            &lt;mat-panel-description&gt;{{item.description}}&lt;/mat-panel-description&gt;\n        &lt;/mat-expansion-panel-header&gt;\n        &lt;mat-form-field&gt;{{item.formField}}&lt;/mat-form-field&gt;\n    &lt;/mat-expansion-panel&gt;\n&lt;/mat-accordion&gt;\n</code></pre>\n\n<p>So if you dynamicaly add data to your \"matExpansionPanelArray\", a new mat-expansion-panel will appear on your page</p>\n"}], "owner": {"reputation": 577, "user_id": 2215750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qMG42.jpg?s=128&g=1", "display_name": "Shahabaz", "link": "https://stackoverflow.com/users/2215750/shahabaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1479, "favorite_count": 0, "accepted_answer_id": 56263896, "answer_count": 1, "score": 0, "last_activity_date": 1558554177, "creation_date": 1558544998, "question_id": 56261869, "link": "https://stackoverflow.com/questions/56261869/how-to-dynamically-add-mat-expansion-panel", "title": "How to dynamically add mat-expansion panel?", "body": "<p>I am unable to add mat-expansion-panel programmatically. I want to add them when the user calls a function over a button click. Add expansion panel as many times as want. </p>\n\n<p>I tried adding the HTML tag for the mat-expansion which is one of the very incorrect ways to even try this. It just adds the tag and ignores the component.</p>\n"}, {"tags": ["typescript", "debugging", "visual-studio-code", "lerna"], "answers": [{"tags": [], "owner": {"reputation": 137, "user_id": 3706647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1a379169ab36a5e6098f8ffcab80dc8?s=128&d=identicon&r=PG&f=1", "display_name": "MajinDageta", "link": "https://stackoverflow.com/users/3706647/majindageta"}, "is_accepted": true, "score": 1, "last_activity_date": 1569582460, "creation_date": 1569582460, "answer_id": 58133342, "question_id": 56260686, "link": "https://stackoverflow.com/questions/56260686/debugging-a-lerna-typescript-project-in-vscode/58133342#58133342", "title": "Debugging a lerna-typescript project in VSCode", "body": "<p>Unfortunately I had to drop the idea of using <a href=\"https://github.com/Izhaki/mono.ts\" rel=\"nofollow noreferrer\">https://github.com/Izhaki/mono.ts</a></p>\n\n<p>Using standard config files I managed to succeed in debugging with lerna and even using serverless offline.</p>\n\n<p>This are my files:</p>\n\n<p><code>launch.json</code></p>\n\n<pre><code>{\n  \"version\": \"0.2.0\",\n  \"configurations\": [\n    {\n      \"type\": \"node\",\n      \"request\": \"launch\",\n      \"name\": \"Debug ms-locations\",\n      \"preLaunchTask\": \"npm: lerna-tsc\",\n      \"program\": \"${workspaceFolder}/packages/ms-locations/lib/sample.js\",\n      \"cwd\": \"${workspaceFolder}\",\n      \"outFiles\": [\n        \"${workspaceFolder}/packages/ms-locations/**/*.js\"\n      ],\n      \"protocol\": \"inspector\",\n    }\n</code></pre>\n\n<p><code>tsconfig</code></p>\n\n<pre><code>{\n\"compilerOptions\": {\n    /* Basic Options */\n    \"target\": \"es6\", /* Specify ECMAScript target version: 'ES3' (default), 'ES5', 'ES2015', 'ES2016', 'ES2017','ES2018' or 'ESNEXT'. */\n    \"module\": \"commonjs\", /* Specify module code generation: 'none', 'commonjs', 'amd', 'system', 'umd', 'es2015', or 'ESNext'. */\n    \"lib\": [\n        \"es6\"\n    ], /* Specify library files to be included in the compilation. */\n    \"declaration\": true, /* Generates corresponding '.d.ts' file. */\n    \"declarationMap\": true, /* Generates a sourcemap for each corresponding '.d.ts' file. */\n    \"sourceMap\": true, /* Generates corresponding '.map' file. */\n    /* Strict Type-Checking Options */\n    \"strict\": false, /* Enable all strict type-checking options. */\n    \"noImplicitAny\": true, /* Raise error on expressions and declarations with an implied 'any' type. */\n    /* Additional Checks */\n    \"noUnusedLocals\": true, /* Report errors on unused locals. */\n    \"noUnusedParameters\": true, /* Report errors on unused parameters. */\n    \"noImplicitReturns\": true, /* Report error when not all code paths in function return a value. */\n    \"esModuleInterop\": true, /* Enables emit interoperability between CommonJS and ES Modules via creation of namespace objects for all imports. Implies 'allowSyntheticDefaultImports'. */\n    \"incremental\": true\n},\n\"exclude\": [\n    \"node_modules\",\n    \"**/*.spec.ts\",\n    \"packages/ms-api/test/*.ts\"\n]\n</code></pre>\n\n<p>}</p>\n\n<p>inside my package folder, if you need to use serverless\nthis is the tsconfig</p>\n\n<pre><code>{\n  \"extends\": \"../../tsconfig.json\",\n  \"compilerOptions\": {\n  \"outDir\": \"./lib\",\n  \"moduleResolution\": \"node\",\n  \"noUnusedLocals\": false,\n  \"noUnusedParameters\": false,\n      \"allowSyntheticDefaultImports\": true,\n  \"sourceMap\": true,\n      \"target\": \"es2017\",\n  \"esModuleInterop\": true,\n      \"incremental\": false\n  },\n  \"include\": [\n      \"./src\"\n  ]\n}\n</code></pre>\n\n<p>I will flag this as the accepted answer even if is not totally compelling the question, but this was my solution.</p>\n\n<p>Hope helps someone</p>\n"}, {"comments": [{"owner": {"reputation": 137, "user_id": 3706647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1a379169ab36a5e6098f8ffcab80dc8?s=128&d=identicon&r=PG&f=1", "display_name": "MajinDageta", "link": "https://stackoverflow.com/users/3706647/majindageta"}, "edited": false, "score": 0, "creation_date": 1581087074, "post_id": 60002912, "comment_id": 106323553, "body": "Hi and thanks for the reply! In the end I used a configuration pretty close to yours to run the lambda on local machine, and having some sort of hot reload using serverless offline."}], "tags": [], "owner": {"reputation": 61, "user_id": 8047528, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pd6cC.jpg?s=128&g=1", "display_name": "jameshartt", "link": "https://stackoverflow.com/users/8047528/jameshartt"}, "is_accepted": false, "score": 1, "last_activity_date": 1580469716, "creation_date": 1580469716, "answer_id": 60002912, "question_id": 56260686, "link": "https://stackoverflow.com/questions/56260686/debugging-a-lerna-typescript-project-in-vscode/60002912#60002912", "title": "Debugging a lerna-typescript project in VSCode", "body": "<p>I seemed to make mine work with a slightly different approach, avoiding lerna (despite being a monorepo using Lerna).</p>\n\n<p>Here is my <code>launch.json</code>:</p>\n\n<pre><code>{\n  // Use IntelliSense to learn about possible attributes.\n  // Hover to view descriptions of existing attributes.\n  // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\n  \"version\": \"0.2.0\",\n  \"configurations\": [\n    {\n      \"name\": \"Test show\",\n      \"type\": \"node\",\n      \"request\": \"launch\",\n      \"address\": \"localhost\",\n      \"protocol\": \"inspector\",\n      \"cwd\": \"${workspaceFolder}/services/shows\",\n      \"program\": \"${workspaceFolder}/node_modules/serverless/bin/serverless\",\n      \"args\": [\n        \"invoke\",\n        \"local\",\n        \"-f\",\n        \"get\",\n        \"-p\",\n        \"./mocks/get-event.json\"\n      ],\n      \"outFiles\": [\n        \"${workspaceFolder}/services/shows/.webpack/service/src/get.js\"\n      ],\n      \"autoAttachChildProcesses\": true\n    }\n  ]\n}\n</code></pre>\n\n<p>And my <code>tsconfig.json</code>:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"lib\": [\"es2017\"],\n    \"moduleResolution\": \"node\",\n    \"noUnusedLocals\": true,\n    \"strictNullChecks\": true,\n    \"preserveConstEnums\": true,\n    \"declaration\": true,\n    \"forceConsistentCasingInFileNames\": true,\n    \"esModuleInterop\": true,\n    \"noImplicitReturns\": true,\n    \"strict\": true,\n    \"sourceMap\": true,\n    \"target\": \"es2017\",\n    \"outDir\": \".build\"\n  },\n  \"exclude\": [\"node_modules\"]\n}\n</code></pre>\n\n<p>Hope this helps you or others!</p>\n"}], "owner": {"reputation": 137, "user_id": 3706647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1a379169ab36a5e6098f8ffcab80dc8?s=128&d=identicon&r=PG&f=1", "display_name": "MajinDageta", "link": "https://stackoverflow.com/users/3706647/majindageta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2758, "favorite_count": 1, "accepted_answer_id": 58133342, "answer_count": 2, "score": 7, "last_activity_date": 1580469716, "creation_date": 1558540193, "question_id": 56260686, "link": "https://stackoverflow.com/questions/56260686/debugging-a-lerna-typescript-project-in-vscode", "title": "Debugging a lerna-typescript project in VSCode", "body": "<p>I'm trying to build a monorepo using lerna+typescript, I'm using this repo as a start: <a href=\"https://github.com/Izhaki/mono.ts\" rel=\"noreferrer\">https://github.com/Izhaki/mono.ts</a></p>\n\n<p>What i'm trying to achieve is to debug the code inside visual studio code. I've tried something to add the <code>launch.json</code> like this:</p>\n\n<pre><code>{\n    \"version\": \"0.2.0\",\n    \"configurations\": [\n        {\n            \"type\": \"node\",\n            \"request\": \"launch\",\n            \"name\": \"Debug\",\n            \"preLaunchTask\": \"npm: build\",\n            \"program\": \"${workspaceFolder}/packages/line/src/index.ts\",\n            \"sourceMaps\": true,\n            \"smartStep\": true,\n            \"internalConsoleOptions\": \"openOnSessionStart\",\n            \"outFiles\": [\n                \"${workspaceFolder}/packages/line/dist/**/*.js\"\n            ]\n        }\n    ]\n}\n</code></pre>\n\n<p>I'm getting some error about he import and the use of:</p>\n\n<pre><code>/Users/davidericci/Desktop/mono.ts-master/packages/line/dist/index.js:1\n(function (exports, require, module, __filename, __dirname) { import { getDistance } from '@geo/point';\n                                                                     ^\n\nSyntaxError: Unexpected token {\n</code></pre>\n\n<p>so I've changed inside the <code>tsconfig.build.json</code> (inside packages):</p>\n\n<pre><code>\"target\": \"es2017\",\n\"module\": \"commonjs\",  \n</code></pre>\n\n<p>and inside the <code>tsconfig.base.json</code> (always inside packages):</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"lib\": [\"es2015\", \"es2016\", \"dom\", \"es2017\", \"es6\", \"es5\"],\n    \"noUnusedLocals\": true\n  }\n}\n</code></pre>\n\n<p>but i'm still getting:</p>\n\n<pre><code>internal/modules/cjs/loader.js:605\n    throw err;\n    ^\n\nError: Cannot find module '@geo/point'\n</code></pre>\n\n<p>as error, I think because inside the code (even in the JS code) the import still points to the typescript. I may be wrong here.</p>\n\n<p>all other settings are default for that project.</p>\n\n<p>can be something with <code>tsconfig-paths</code>? or is just some setting inside the launch.json?</p>\n\n<p>Thank you very much guys</p>\n"}, {"tags": ["angular", "typescript", "internet-explorer", "observable", "subscription"], "comments": [{"owner": {"reputation": 8001, "user_id": 10309381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a284b365772283540b23d67dbbbd2d2e?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak-MSFT", "link": "https://stackoverflow.com/users/10309381/deepak-msft"}, "edited": false, "score": 0, "creation_date": 1558578399, "post_id": 56260660, "comment_id": 99150438, "body": "Can you please inform us which IE version you are using for making this test? I suggest you to try to bind small amount of data at a time may help to avoid the issue. You can try to fetch your data multiple times to fetch all the necessary data. Also you can try to refer this link may give you information about improving the performance of an Angular app. Ref. <a href=\"https://github.com/mgechev/angular-performance-checklist\" rel=\"nofollow noreferrer\">github.com/mgechev/angular-performance-checklist</a>"}, {"owner": {"reputation": 21, "user_id": 2401393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a32581d2e2092fa39348ffc67ef244d1?s=128&d=identicon&r=PG", "display_name": "user2401393", "link": "https://stackoverflow.com/users/2401393/user2401393"}, "reply_to_user": {"reputation": 8001, "user_id": 10309381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a284b365772283540b23d67dbbbd2d2e?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak-MSFT", "link": "https://stackoverflow.com/users/10309381/deepak-msft"}, "edited": false, "score": 0, "creation_date": 1558593215, "post_id": 56260660, "comment_id": 99153639, "body": "We are using IE 11"}, {"owner": {"reputation": 8001, "user_id": 10309381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a284b365772283540b23d67dbbbd2d2e?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak-MSFT", "link": "https://stackoverflow.com/users/10309381/deepak-msft"}, "edited": false, "score": 0, "creation_date": 1558665300, "post_id": 56260660, "comment_id": 99183795, "body": "Did you test with small amount of records? If yes, can you please inform us your testing results? Further, Did you try to optimize your Angular code for better performance?"}, {"owner": {"reputation": 21, "user_id": 2401393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a32581d2e2092fa39348ffc67ef244d1?s=128&d=identicon&r=PG", "display_name": "user2401393", "link": "https://stackoverflow.com/users/2401393/user2401393"}, "reply_to_user": {"reputation": 8001, "user_id": 10309381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a284b365772283540b23d67dbbbd2d2e?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak-MSFT", "link": "https://stackoverflow.com/users/10309381/deepak-msft"}, "edited": false, "score": 0, "creation_date": 1558683692, "post_id": 56260660, "comment_id": 99188601, "body": "I tested with some small amount of records it was working fine. If you provide some Angular optimization then it would be great."}, {"owner": {"reputation": 8001, "user_id": 10309381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a284b365772283540b23d67dbbbd2d2e?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak-MSFT", "link": "https://stackoverflow.com/users/10309381/deepak-msft"}, "edited": false, "score": 0, "creation_date": 1558691204, "post_id": 56260660, "comment_id": 99192492, "body": "You can refer these sites my give you steps to optimize the performance of Angular app. <a href=\"https://itnext.io/how-to-optimize-angular-applications-99bfab0f0b7c\" rel=\"nofollow noreferrer\">itnext.io/how-to-optimize-angular-applications-99bfab0f0b7c</a> and <a href=\"https://medium.com/@spp020/44-quick-tips-to-fine-tune-angular-performance-9f5768f5d945\" rel=\"nofollow noreferrer\">medium.com/@spp020/&hellip;</a> and <a href=\"https://angular-guru.com/blog/angular-performance-tips\" rel=\"nofollow noreferrer\">angular-guru.com/blog/angular-performance-tips</a>"}], "answers": [{"tags": [], "owner": {"reputation": 798, "user_id": 10514369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a21ea907d34cdc8b3d23a6c26fad1fde?s=128&d=identicon&r=PG&f=1", "display_name": "davidr", "link": "https://stackoverflow.com/users/10514369/davidr"}, "is_accepted": false, "score": 0, "last_activity_date": 1558555057, "creation_date": 1558555057, "answer_id": 56264106, "question_id": 56260660, "link": "https://stackoverflow.com/questions/56260660/angular-ie-not-responding-issue-when-binding-huge-data/56264106#56264106", "title": "Angular - IE not responding issue when binding huge data", "body": "<p>7000 records!!!\nIt's big amount of records!!!\nWhit your code you try to add in the dom all your records at the same time:</p>\n\n<pre><code>&lt;li *ngFor=\"let capability of Capabilities;trackBy:capability?.Name\" id=\"{{capability.Id}}\"&gt;\n</code></pre>\n\n<p>Therefore, your browser will display 7000 items in a raw (big memory consumption).</p>\n\n<p>for sutch amount of records, I think that it is better to go through \"virtual scroll\" see:\n<a href=\"https://material.angular.io/cdk/scrolling/overview\" rel=\"nofollow noreferrer\">https://material.angular.io/cdk/scrolling/overview</a></p>\n\n<p><a href=\"https://medium.com/front-end-weekly/how-to-use-virtual-scrolling-using-angular-7-cdk-9802110111fa\" rel=\"nofollow noreferrer\">https://medium.com/front-end-weekly/how-to-use-virtual-scrolling-using-angular-7-cdk-9802110111fa</a></p>\n\n<p>and a demo: <a href=\"https://stackblitz.com/edit/angular-cdk-demo-virtual-scroll?file=app%2Fapp.component.html\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-cdk-demo-virtual-scroll?file=app%2Fapp.component.html</a></p>\n\n<p>=> If you press F12 in the demo, you'll see that only few elements are displayed in the app-virtual-scroll=> better perfromances</p>\n"}], "owner": {"reputation": 21, "user_id": 2401393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a32581d2e2092fa39348ffc67ef244d1?s=128&d=identicon&r=PG", "display_name": "user2401393", "link": "https://stackoverflow.com/users/2401393/user2401393"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 430, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1558593100, "creation_date": 1558540103, "last_edit_date": 1558593100, "question_id": 56260660, "link": "https://stackoverflow.com/questions/56260660/angular-ie-not-responding-issue-when-binding-huge-data", "title": "Angular - IE not responding issue when binding huge data", "body": "<p>My service is returning more than 7000 records when I bind the response to component variable then the screen goes to not responding mode. This is only specific to IE. Similarly i have 3 dropdowns in the UI. I have tried resolver as well but didn't work for me. Screen goes to not responding when the service call completed. </p>\n\n<p><strong>Component.ts</strong></p>\n\n<pre><code> this._myservice.getData(this.param1).subscribe(response =&gt; {this.Capabilities = response.json()});\n</code></pre>\n\n<p><strong>Component.html</strong></p>\n\n<pre><code>     &lt;ul class=\"dropdown-menu\"&gt;\n      &lt;li *ngFor=\"let capability of Capabilities;trackBy:capability?.Name\" id=\"{{capability.Id}}\"&gt;\n\n      &lt;a href=\"javascript:void(0);\" id=\"{{capability.Id}}\"&gt;{{capability.Name}}&lt;/a&gt;\n       &lt;/li&gt;\n    &lt;/ul&gt;\n</code></pre>\n"}, {"tags": ["html", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 9098265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2938dccf103702a5433bebf5aeca2414?s=128&d=identicon&r=PG&f=1", "display_name": "Thimo", "link": "https://stackoverflow.com/users/9098265/thimo"}, "edited": false, "score": 0, "creation_date": 1558540682, "post_id": 56260723, "comment_id": 99138105, "body": "I have tried this. But it doesn&#39;t fire the event at all."}, {"owner": {"reputation": 493, "user_id": 394566, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9d4b451c9fb9d727c67558e07b2d050e?s=128&d=identicon&r=PG", "display_name": "BossOz", "link": "https://stackoverflow.com/users/394566/bossoz"}, "reply_to_user": {"reputation": 71, "user_id": 9098265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2938dccf103702a5433bebf5aeca2414?s=128&d=identicon&r=PG&f=1", "display_name": "Thimo", "link": "https://stackoverflow.com/users/9098265/thimo"}, "edited": false, "score": 0, "creation_date": 1558540953, "post_id": 56260723, "comment_id": 99138275, "body": "@Thimo as you can read in the link this is not a standard feature. Do you have already tried with another browser?"}, {"owner": {"reputation": 71, "user_id": 9098265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2938dccf103702a5433bebf5aeca2414?s=128&d=identicon&r=PG&f=1", "display_name": "Thimo", "link": "https://stackoverflow.com/users/9098265/thimo"}, "edited": false, "score": 1, "creation_date": 1558543663, "post_id": 56260723, "comment_id": 99139606, "body": "Yes I have tried it in Chrome and Firefox. (auxclick)=&quot;someFunction()&quot; is what seems to work thanks."}, {"owner": {"reputation": 136, "user_id": 12727767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iq6eI.png?s=128&g=1", "display_name": "mmonteirocl", "link": "https://stackoverflow.com/users/12727767/mmonteirocl"}, "edited": false, "score": 0, "creation_date": 1602668669, "post_id": 56260723, "comment_id": 113791123, "body": "In angular 9 at least, the handler (click) only handles normal clicks, not the auxiliar of middle"}], "tags": [], "owner": {"reputation": 493, "user_id": 394566, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9d4b451c9fb9d727c67558e07b2d050e?s=128&d=identicon&r=PG", "display_name": "BossOz", "link": "https://stackoverflow.com/users/394566/bossoz"}, "is_accepted": false, "score": 0, "last_activity_date": 1558540337, "creation_date": 1558540337, "answer_id": 56260723, "question_id": 56260646, "link": "https://stackoverflow.com/questions/56260646/how-can-i-handle-the-angular-click-event-for-the-middle-mouse-button/56260723#56260723", "title": "How can I handle the Angular (click) event for the middle mouse button?", "body": "<p>check this out:</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/which\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/which</a></p>\n\n<p>and this is the implemention</p>\n\n<pre><code>(click)=\"$event.which == 2 ? yourFunction($event) : $event.preventDefault()\"\n</code></pre>\n\n<p>preventDefault() is used to stop the event.</p>\n"}, {"comments": [{"owner": {"reputation": 79, "user_id": 9618949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/652f802248a24d958578952e901050ec?s=128&d=identicon&r=PG&f=1", "display_name": "Howard", "link": "https://stackoverflow.com/users/9618949/howard"}, "edited": false, "score": 0, "creation_date": 1578663635, "post_id": 56260992, "comment_id": 105522551, "body": "Spent hours trying to stop behavior of middle click on &lt;a&gt; tags, finally found this. Thanks a lot."}], "tags": [], "owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "is_accepted": true, "score": 6, "last_activity_date": 1558555245, "last_edit_date": 1558555245, "creation_date": 1558541259, "answer_id": 56260992, "question_id": 56260646, "link": "https://stackoverflow.com/questions/56260646/how-can-i-handle-the-angular-click-event-for-the-middle-mouse-button/56260992#56260992", "title": "How can I handle the Angular (click) event for the middle mouse button?", "body": "<p>For secondary mouse buttons, you can handle the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/auxclick_event\" rel=\"nofollow noreferrer\">auxclick</a> event. In the following example, the <code>click</code> event is triggered by the primary mouse button, and the <code>auxclick</code> event is triggered by the other mouse buttons.</p>\n\n<pre><code>&lt;a (click)=\"onClick($event)\" (auxclick)=\"onAuxClick($event)\"&gt;...&lt;/a&gt;\n</code></pre>\n\n\n\n<pre><code>onClick(event: MouseEvent) {\n  console.log(\"click - button\", event.button, event.which);\n}\n\nonAuxClick(event: MouseEvent) {\n  console.log(\"auxclick - button\", event.button, event.which);\n}\n</code></pre>\n\n<p>See <a href=\"https://stackblitz.com/edit/angular-bnkmzr?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\">this stackblitz</a> for a demo. Please note that the same method can handle both events. I call different methods in the demo to show which event is handled.</p>\n"}], "owner": {"reputation": 71, "user_id": 9098265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2938dccf103702a5433bebf5aeca2414?s=128&d=identicon&r=PG&f=1", "display_name": "Thimo", "link": "https://stackoverflow.com/users/9098265/thimo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2841, "favorite_count": 0, "accepted_answer_id": 56260992, "answer_count": 2, "score": 5, "last_activity_date": 1558555245, "creation_date": 1558540062, "last_edit_date": 1558544000, "question_id": 56260646, "link": "https://stackoverflow.com/questions/56260646/how-can-i-handle-the-angular-click-event-for-the-middle-mouse-button", "title": "How can I handle the Angular (click) event for the middle mouse button?", "body": "<p>I have an icon that acts as a link to open an URL. When a user clicks on that link I need to make an API call and some other actions.</p>\n\n<p>Now clicking with the left button aswell as Ctrl + Click triggers the method fine. Only when opening the link with the middle mouse click, the method gets not fired.</p>\n\n<pre><code>&lt;a [href]=\"'somelink.com' + someVariable\" target=\"_blank\" (click)=\"someMethod('some', 'params')\"&gt;\n    &lt;div class=\"some-icon\"&gt;\n        &lt;img src=\"/assets/icon/icon.svg\" height=\"54\" alt=\"Icon\" /&gt;\n    &lt;/div&gt;\n&lt;/a&gt;\n</code></pre>\n\n<p>Is there another way to call a method in my Component on middle click?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 243, "user_id": 10449299, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zTZYN2C6Fy0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW0HgF5KUQWBf44PYbBYHC5b5PSUg/mo/photo.jpg?sz=128", "display_name": "Zum Dummi", "link": "https://stackoverflow.com/users/10449299/zum-dummi"}, "edited": false, "score": 0, "creation_date": 1558540650, "post_id": 56260648, "comment_id": 99138082, "body": "ohh no, i just saw my local angular still 1.4.2, i think it will be very hard to handle error for this old angular :("}, {"owner": {"reputation": 2934, "user_id": 884319, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/3MUIl.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/884319/tim"}, "reply_to_user": {"reputation": 243, "user_id": 10449299, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zTZYN2C6Fy0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW0HgF5KUQWBf44PYbBYHC5b5PSUg/mo/photo.jpg?sz=128", "display_name": "Zum Dummi", "link": "https://stackoverflow.com/users/10449299/zum-dummi"}, "edited": false, "score": 0, "creation_date": 1558540831, "post_id": 56260648, "comment_id": 99138204, "body": "In that case you are using AngularJS, which is different from the new Angular. You cannot just migrate to a new version, I am afraid you will have to rewrite most of your application..."}, {"owner": {"reputation": 2934, "user_id": 884319, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/3MUIl.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/884319/tim"}, "reply_to_user": {"reputation": 243, "user_id": 10449299, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zTZYN2C6Fy0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW0HgF5KUQWBf44PYbBYHC5b5PSUg/mo/photo.jpg?sz=128", "display_name": "Zum Dummi", "link": "https://stackoverflow.com/users/10449299/zum-dummi"}, "edited": false, "score": 0, "creation_date": 1558541076, "post_id": 56260648, "comment_id": 99138338, "body": "It really depends on the complexity of your project. I am not familiar with AngularJS, but I highly doubt you can easily switch to Angular without changing a lot of code."}, {"owner": {"reputation": 243, "user_id": 10449299, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zTZYN2C6Fy0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW0HgF5KUQWBf44PYbBYHC5b5PSUg/mo/photo.jpg?sz=128", "display_name": "Zum Dummi", "link": "https://stackoverflow.com/users/10449299/zum-dummi"}, "edited": false, "score": 0, "creation_date": 1558541212, "post_id": 56260648, "comment_id": 99138419, "body": "i read some syntax on my project almost same like the new angular , and on the ng v i check , it didnt say angularJs , but it is angular/cli : 1.4.2"}, {"owner": {"reputation": 2934, "user_id": 884319, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/3MUIl.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/884319/tim"}, "reply_to_user": {"reputation": 243, "user_id": 10449299, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zTZYN2C6Fy0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW0HgF5KUQWBf44PYbBYHC5b5PSUg/mo/photo.jpg?sz=128", "display_name": "Zum Dummi", "link": "https://stackoverflow.com/users/10449299/zum-dummi"}, "edited": false, "score": 0, "creation_date": 1558541293, "post_id": 56260648, "comment_id": 99138475, "body": "Oh well that&#39;s the angular command line - it is different. Then you are probably using the new angular. You can see the version in the package.json (&quot;@angular/core&quot;)"}, {"owner": {"reputation": 243, "user_id": 10449299, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zTZYN2C6Fy0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW0HgF5KUQWBf44PYbBYHC5b5PSUg/mo/photo.jpg?sz=128", "display_name": "Zum Dummi", "link": "https://stackoverflow.com/users/10449299/zum-dummi"}, "edited": false, "score": 0, "creation_date": 1558541534, "post_id": 56260648, "comment_id": 99138616, "body": "&quot;@angular/core&quot;: &quot;^4.2.4&quot;, so it is angular 4 ??"}, {"owner": {"reputation": 2934, "user_id": 884319, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/3MUIl.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/884319/tim"}, "reply_to_user": {"reputation": 243, "user_id": 10449299, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zTZYN2C6Fy0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW0HgF5KUQWBf44PYbBYHC5b5PSUg/mo/photo.jpg?sz=128", "display_name": "Zum Dummi", "link": "https://stackoverflow.com/users/10449299/zum-dummi"}, "edited": false, "score": 0, "creation_date": 1558541597, "post_id": 56260648, "comment_id": 99138648, "body": "Yes :) Use the migration guide from my answer"}], "tags": [], "owner": {"reputation": 2934, "user_id": 884319, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/3MUIl.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/884319/tim"}, "is_accepted": true, "score": 1, "last_activity_date": 1558540391, "last_edit_date": 1558540391, "creation_date": 1558540066, "answer_id": 56260648, "question_id": 56260576, "link": "https://stackoverflow.com/questions/56260576/updating-angular-4-to-newest-angular-will-make-affect-with-our-modules-and-thing/56260648#56260648", "title": "updating Angular 4 to newest Angular will make affect with our modules and things?", "body": "<p>You can use the official <strong>migration checklist</strong> from Angular:</p>\n\n<p><a href=\"https://update.angular.io/\" rel=\"nofollow noreferrer\">https://update.angular.io/</a></p>\n\n<p>Depending on the size and complexity of your project, the migration can be more or less complex. You should do it anyway in my opinion.</p>\n\n<p>RxJS 6 contains some breaking changes that might be tricky to understand for beginners. Be careful and understand what you are doing.</p>\n"}], "owner": {"reputation": 243, "user_id": 10449299, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zTZYN2C6Fy0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW0HgF5KUQWBf44PYbBYHC5b5PSUg/mo/photo.jpg?sz=128", "display_name": "Zum Dummi", "link": "https://stackoverflow.com/users/10449299/zum-dummi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 56260648, "answer_count": 1, "score": 0, "last_activity_date": 1558540391, "creation_date": 1558539863, "question_id": 56260576, "link": "https://stackoverflow.com/questions/56260576/updating-angular-4-to-newest-angular-will-make-affect-with-our-modules-and-thing", "title": "updating Angular 4 to newest Angular will make affect with our modules and things?", "body": "<p>I am in a big project with the new team, but I do love to know how to make upgrade this Angular 4 to newest by safe? I am also new in Angular, newest Angular is better than old :D I think so :D</p>\n\n<p>in this project, we have a lot of modules in app.modules.ts, I am afraid if I update things there will break our project, </p>\n\n<p>Does anyone get to suggest to make a safe upgrade??\nshould I change the syntax also?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 796429, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1558539780, "post_id": 56260529, "comment_id": 99137623, "body": "There is no way to do that, because <code>key</code> might be <code>&quot;name&quot;</code>."}, {"owner": {"reputation": 21618, "user_id": 11755, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5b9872f3076db04cb2ffb516091d80d0?s=128&d=identicon&r=PG", "display_name": "dagda1", "link": "https://stackoverflow.com/users/11755/dagda1"}, "reply_to_user": {"reputation": 796429, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1558539814, "post_id": 56260529, "comment_id": 99137642, "body": "i can\u2019t use exclude?"}, {"owner": {"reputation": 796429, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1558542025, "post_id": 56260529, "comment_id": 99138885, "body": "TypeScript does not support types like &quot;every possible string except one&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 0, "last_activity_date": 1558553911, "creation_date": 1558553911, "answer_id": 56263831, "question_id": 56260529, "link": "https://stackoverflow.com/questions/56260529/how-to-model-1-known-property-and-an-unknown-property-name-with-a-known-type-in/56263831#56263831", "title": "how to model 1 known property and an unknown property name with a known type in typescript", "body": "<p>TypeScript doesn't currently have a way to <a href=\"https://github.com/microsoft/TypeScript/pull/29317\" rel=\"nofollow noreferrer\">directly express</a> \"all <code>string</code>s except for <code>'name'</code>\" as a type at all, let alone as a <a href=\"https://github.com/microsoft/TypeScript/pull/26797\" rel=\"nofollow noreferrer\">key type of an index signature</a> or a mapped type.  So you <em>want</em> to say something like: </p>\n\n<pre><code>// this is not valid TypeScript (yet?)\ninterface Graph { \n  name: string, \n  [k: string &amp; not \"name\"]: Array&lt;Graph&gt; \n}\n</code></pre>\n\n<p>but you can't.  Maybe this will happen eventually, but for now it is just a dream.</p>\n\n<hr>\n\n<p>What you <em>can</em> do is express <code>Graph</code> as a <em>constraint</em> on an object type, using <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#mapped-types\" rel=\"nofollow noreferrer\">mapped</a> and <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#conditional-types\" rel=\"nofollow noreferrer\">conditional</a> types, as well as <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">generics</a>.  The idea is, instead of <code>Graph</code>, you have a generic type alias <code>VerifyGraph&lt;T&gt;</code>, which takes as a parameter <code>T</code> a candidate type you hope is a valid <code>Graph</code>.  If <code>T</code> <em>is</em> a valid <code>Graph</code>, then <code>VerifyGraph&lt;T&gt;</code> will be the same as <code>T</code>.  Otherwise, <code>VerifyGraph&lt;T&gt;</code> will be changed into a valid <code>Graph</code> by fixing whatever property isn't correct.  Finally, you make a generic helper function <code>asGraph&lt;T&gt;()</code> that takes an argument of type <code>T &amp; VerifyGraph&lt;T&gt;</code>.  The compiler will infer the type <code>T</code> as the type of the argument, and then it will check <code>VerifyGraph&lt;T&gt;</code> to make sure it also conforms.  If it does, great, since <code>T &amp; VerifyGraph&lt;T&gt;</code> will just be <code>T &amp; T</code> or <code>T</code>.  If not, you'll get an error message, since <code>T &amp; VerifyGraph&lt;T&gt;</code> is not <code>T</code>. </p>\n\n<p>Also, since you seem to be creating a <code>Hierarchy</code> which holds a <code>Graph</code>, we can express that as a generic type also with its own helper function:</p>\n\n<pre><code>type VerifyGraph&lt;T&gt; = T extends { name: string }\n    ? { [K in keyof T]:\n        K extends \"name\" ? string :\n        T[K] extends Array&lt;infer E&gt; ? Array&lt;VerifyGraph&lt;E&gt;&gt; :\n        Array&lt;{ name: string }&gt;\n    } : { name: string }\n\nconst asGraph = &lt;T&gt;(x: T &amp; VerifyGraph&lt;T&gt;): T =&gt; x;\n\ninterface Hierarchy&lt;T&gt; {\n    location: T &amp; VerifyGraph&lt;T&gt;\n}\n\nconst asHierarchy = &lt;T&gt;(x: Hierarchy&lt;T&gt;): Hierarchy&lt;T&gt; =&gt; x;\n</code></pre>\n\n<p>Here it is working:</p>\n\n<pre><code>// okay\nconst hierarchy = asHierarchy({\n    location: {\n        name: \"location\",\n        regions: [\n            {\n                name: \"West Coast\",\n                states: [\n                    {\n                        name: \"California\",\n                        cities: [\n                            {\n                                name: \"San Diego\",\n                                sites: [\n                                    { name: \"site 1\" },\n                                    { name: \"Los Angeles\" },\n                                    { name: \"San Jose\" },\n                                ],\n                            },\n                        ],\n                    }\n                ],\n            },\n        ]\n    }\n});\n</code></pre>\n\n<p>and here are some errors:</p>\n\n<pre><code>const badHierarchy1 = asHierarchy({\n    location: {\n        name: \"Okay\",\n        notAnArray: 123 // error!\n//      ~~~~~~~~~~ &lt;-- Type 'number' is not assignable to type '{ name: string; }[]'.    \n    }\n})\n\nconst badHierarchy2 = asHierarchy({\n    location: { // error!\n//  ~~~~~~~~ &lt;-- Property 'name' is missing in type '{ noName: never[]; }'\n        noName: []\n    }\n})\n\nconst badHierarchy3 = asHierarchy({\n    location: {\n        name: \"level1\",\n        stuff: [\n            {\n                name: \"level2\",\n                deeperNotAnArray: \"oopsie\"; // error!\n//              ~~~~~~~~~~~~~~~~ &lt;--\n// Type 'string' is not assignable to type '{ name: string; }[]'.\n            }\n        ]\n    }\n})\n</code></pre>\n\n<p>So that all behaves as desired, I think.</p>\n\n<p><a href=\"https://www.typescriptlang.org/play//#src=type%20VerifyGraph%3CT%3E%20%3D%20T%20extends%20%7B%20name%3A%20string%20%7D%0D%0A%20%20%20%20%3F%20%7B%20%5BK%20in%20keyof%20T%5D%3A%0D%0A%20%20%20%20%20%20%20%20K%20extends%20%22name%22%20%3F%20string%20%3A%0D%0A%20%20%20%20%20%20%20%20T%5BK%5D%20extends%20Array%3Cinfer%20E%3E%20%3F%20Array%3CVerifyGraph%3CE%3E%3E%20%3A%0D%0A%20%20%20%20%20%20%20%20Array%3C%7B%20name%3A%20string%20%7D%3E%0D%0A%20%20%20%20%7D%20%3A%20%7B%20name%3A%20string%20%7D%0D%0A%0D%0Aconst%20asGraph%20%3D%20%3CH%3E(x%3A%20H%20%26%20VerifyGraph%3CH%3E)%3A%20H%20%3D%3E%20x%3B%0D%0A%0D%0Ainterface%20Hierarchy%3CT%3E%20%7B%0D%0A%20%20%20%20location%3A%20T%20%26%20VerifyGraph%3CT%3E%0D%0A%7D%0D%0A%0D%0Aconst%20asHierarchy%20%3D%20%3CH%3E(x%3A%20Hierarchy%3CH%3E)%3A%20Hierarchy%3CH%3E%20%3D%3E%20x%3B%0D%0A%0D%0Aconst%20hierarchy%20%3D%20asHierarchy(%7B%0D%0A%20%20%20%20location%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20name%3A%20%22location%22%2C%0D%0A%20%20%20%20%20%20%20%20regions%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20%22West%20Coast%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20states%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20%22California%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cities%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20%22San%20Diego%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sites%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20name%3A%20%22site%201%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20name%3A%20%22Los%20Angeles%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20name%3A%20%22San%20Jose%22%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%5D%0D%0A%20%20%20%20%7D%0D%0A%7D)%3B%0D%0A%0D%0Aconst%20badHierarchy1%20%3D%20asHierarchy(%7B%0D%0A%20%20%20%20location%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20name%3A%20%22Okay%22%2C%0D%0A%20%20%20%20%20%20%20%20notAnArray%3A%20123%20%2F%2F%20error!%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20~~~~~~~~~~%20%3C--%20Type%20&#39;number&#39;%20is%20not%20assignable%20to%20type%20&#39;%7B%20name%3A%20string%3B%20%7D%5B%5D&#39;.%20%20%20%20%0D%0A%20%20%20%20%7D%0D%0A%7D)%0D%0A%0D%0Aconst%20badHierarchy2%20%3D%20asHierarchy(%7B%0D%0A%20%20%20%20location%3A%20%7B%20%2F%2F%20error!%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20%20~~~~~~~~%20%3C--%20Property%20&#39;name&#39;%20is%20missing%20in%20type%20&#39;%7B%20noName%3A%20never%5B%5D%3B%20%7D&#39;%0D%0A%20%20%20%20%20%20%20%20noName%3A%20%5B%5D%0D%0A%20%20%20%20%7D%0D%0A%7D)%0D%0A%0D%0Aconst%20badHierarchy3%20%3D%20asHierarchy(%7B%0D%0A%20%20%20%20location%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20name%3A%20%22level1%22%2C%0D%0A%20%20%20%20%20%20%20%20stuff%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20%22level2%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20deeperNotAnArray%3A%20%22oopsie%22%3B%20%2F%2F%20error!%0D%0A%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20%20~~~~~~~~~~~~~~~~%20%3C--%0D%0A%2F%2F%20Type%20&#39;string&#39;%20is%20not%20assignable%20to%20type%20&#39;%7B%20name%3A%20string%3B%20%7D%5B%5D&#39;.%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%5D%0D%0A%20%20%20%20%7D%0D%0A%7D)\" rel=\"nofollow noreferrer\">Link to code</a></p>\n\n<hr>\n\n<p>This might be more complicated than you want to use in your code.  The big downside here is that <code>Graph</code> is no longer a concrete type, but a generic type, so every function and type that deals with it needs to add a generic parameter.  So possibly you'd only want to put this restriction on a function called by a user to pass something in, and then inside your libraries that deal with it you'd just use a looser type like</p>\n\n<pre><code>interface LooseGraph {\n   name: string,\n   [k: string]: string | Array&lt;LooseGraph&gt;\n}\n</code></pre>\n\n<p>instead.  Every valid <code>T &amp; Graph&lt;T&gt;</code> is assignable to <code>LooseGraph</code>, but not vice versa, so you'd probably have to do some assertions in your libraries.  But that's the best I think you can currently do with TypeScript.</p>\n\n<p>Okay, hope that helps; good luck!</p>\n"}], "owner": {"reputation": 21618, "user_id": 11755, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5b9872f3076db04cb2ffb516091d80d0?s=128&d=identicon&r=PG", "display_name": "dagda1", "link": "https://stackoverflow.com/users/11755/dagda1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 56263831, "answer_count": 1, "score": 1, "last_activity_date": 1558553911, "creation_date": 1558539709, "question_id": 56260529, "link": "https://stackoverflow.com/questions/56260529/how-to-model-1-known-property-and-an-unknown-property-name-with-a-known-type-in", "title": "how to model 1 known property and an unknown property name with a known type in typescript", "body": "<p>how do I model having 1 known property and 1 property where I know the type butg I do not know the property name.</p>\n\n<p>I think it should be a recursive type but I am not entirely sure how to do this in typescript.</p>\n\n<p>So I have this type of arrangement:</p>\n\n<pre><code>export const hierarchy: Hierarchy = {\n  location: {\n    name: \"location\",\n    regions: [\n      {\n        name: \"West Coast\",\n        states: [\n          {\n            name: \"California\",\n            cities: [\n              { name: \"San Diego\", sites: [{name: \"site 1\"},\n              { name: \"Los Angeles\" },\n              { name: \"San Jose\" },\n            ],\n          },\n        ],\n      }\n    ],\n  },\n};\n</code></pre>\n\n<p>So each object has a name field and an array of the same type and any level deep.</p>\n\n<p>Here is my naive attempt which obviously does not work:</p>\n\n<pre><code>export interface Graph&lt;T&gt; {\n  name: string;\n  [key: string]: Graph[]\n}\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 6627, "user_id": 418638, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/dW607.jpg?s=128&g=1", "display_name": "Castro Roy", "link": "https://stackoverflow.com/users/418638/castro-roy"}, "edited": false, "score": 1, "creation_date": 1558539310, "post_id": 56260161, "comment_id": 99137364, "body": "<code>d.isRoot === true</code> is the solution. Nice one"}], "tags": [], "owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "is_accepted": true, "score": 3, "last_activity_date": 1558538474, "creation_date": 1558538474, "answer_id": 56260161, "question_id": 56260011, "link": "https://stackoverflow.com/questions/56260011/why-am-i-getting-an-error-when-using-union-type-to-separate-a-different-type-sha/56260161#56260161", "title": "Why am i getting an error when using union type to separate a different type shape?", "body": "<p>The problem is that without <code>--strictNullChecks</code>, <code>if(d.isRoot)</code> actually fails in <em>two</em> possible conditions. It would fall into the <code>else</code> block when <code>d.isRoot</code> is <code>false</code> or when it is <code>null</code>. Observe:</p>\n\n<pre><code>declare const d: Data;\nd.isRoot = null; // throws an error only if --strictNullChecks is enabled\n</code></pre>\n\n<p>You need to enable <code>--strictNullChecks</code> in order to ensure that <code>d.isRoot</code> cannot also be <code>null</code>.</p>\n\n<p>Note also that even without <code>--strictNullChecks</code>, the following code works just fine:</p>\n\n<pre><code>function nameGetter(d: Data): string | false {\n  if (d.isRoot === true) {\n    return false        \n  } else {\n    return d.name\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 225, "user_id": 4772589, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-qxZgOVcR9wI/AAAAAAAAAAI/AAAAAAAAADY/Tdwia18YWGc/photo.jpg?sz=128", "display_name": "Andree Christian", "link": "https://stackoverflow.com/users/4772589/andree-christian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 56260161, "answer_count": 1, "score": 1, "last_activity_date": 1558538820, "creation_date": 1558537962, "question_id": 56260011, "link": "https://stackoverflow.com/questions/56260011/why-am-i-getting-an-error-when-using-union-type-to-separate-a-different-type-sha", "title": "Why am i getting an error when using union type to separate a different type shape?", "body": "<p>Given:</p>\n\n<pre><code>type Data = {\n    isRoot: true\n} | {\n    isRoot: false\n    disabled: boolean\n    name: string\n}\n\nfunction nameGetter(d: Data): string | false {\n    if (d.isRoot) {\n        return false        \n    } else {\n        return d.name // error here: property 'name' doesnt exist on type Data\n    }\n}\n</code></pre>\n\n<p>Link: <a href=\"https://www.typescriptlang.org/play/#src=type%20Data%20%3D%20%7B%0D%0A%09isRoot%3A%20true%0D%0A%7D%20%7C%20%7B%0D%0A%09isRoot%3A%20false%0D%0A%09disabled%3A%20boolean%0D%0A%09name%3A%20string%0D%0A%7D%0D%0A%0D%0Afunction%20nameGetter(d%3A%20Data)%3A%20string%20%7C%20false%20%7B%0D%0A%09if%20(d.isRoot)%20%7B%0D%0A%09%09return%20false%09%09%0D%0A%09%7D%20else%20%7B%0D%0A%09%09return%20d.name%0D%0A%09%7D%0D%0A%7D%0D%0A\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/play/#src=type%20Data%20%3D%20%7B%0D%0A%09isRoot%3A%20true%0D%0A%7D%20%7C%20%7B%0D%0A%09isRoot%3A%20false%0D%0A%09disabled%3A%20boolean%0D%0A%09name%3A%20string%0D%0A%7D%0D%0A%0D%0Afunction%20nameGetter(d%3A%20Data)%3A%20string%20%7C%20false%20%7B%0D%0A%09if%20(d.isRoot)%20%7B%0D%0A%09%09return%20false%09%09%0D%0A%09%7D%20else%20%7B%0D%0A%09%09return%20d.name%0D%0A%09%7D%0D%0A%7D%0D%0A</a></p>\n\n<p>Why is that? While if i use string literal on isRoot</p>\n\n<pre><code>type Data = {\n    isRoot: 'true'\n} | {\n    isRoot: 'false'\n    disabled: boolean\n    name: string\n}\n\nfunction nameGetter(d: Data): string | false {\n    if (d.isRoot === 'true') {\n        return false        \n    } else {\n        return d.name\n    }\n}\n</code></pre>\n\n<p>The code compiles just fine!</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-routing", "angular-redux"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11540153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/587e06c76115fe62f3b6cdf52a5433c7?s=128&d=identicon&r=PG&f=1", "display_name": "angularfreek", "link": "https://stackoverflow.com/users/11540153/angularfreek"}, "edited": false, "score": 0, "creation_date": 1558548753, "post_id": 56261669, "comment_id": 99141772, "body": "it says cannot find name filter, it&#39;s throwing a compilation error."}, {"owner": {"reputation": 287, "user_id": 8283746, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1wzRZnWEiLs/AAAAAAAAAAI/AAAAAAAAAgY/MXjzTjS-Qu4/photo.jpg?sz=128", "display_name": "Adrien PESSU", "link": "https://stackoverflow.com/users/8283746/adrien-pessu"}, "reply_to_user": {"reputation": 1, "user_id": 11540153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/587e06c76115fe62f3b6cdf52a5433c7?s=128&d=identicon&r=PG&f=1", "display_name": "angularfreek", "link": "https://stackoverflow.com/users/11540153/angularfreek"}, "edited": false, "score": 0, "creation_date": 1558676008, "post_id": 56261669, "comment_id": 99185699, "body": "You should import it. It&#39;s part of rxjs. <code>import { filter } from &#39;rxjs&#47;operators&#39;;</code>"}], "tags": [], "owner": {"reputation": 287, "user_id": 8283746, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1wzRZnWEiLs/AAAAAAAAAAI/AAAAAAAAAgY/MXjzTjS-Qu4/photo.jpg?sz=128", "display_name": "Adrien PESSU", "link": "https://stackoverflow.com/users/8283746/adrien-pessu"}, "is_accepted": false, "score": 0, "last_activity_date": 1558544010, "creation_date": 1558544010, "answer_id": 56261669, "question_id": 56259869, "link": "https://stackoverflow.com/questions/56259869/how-to-open-mat-menu-item-in-a-new-tab-in-angular-using-proper-angular-routing/56261669#56261669", "title": "How to open mat-menu-item in a new tab in angular using proper angular routing?", "body": "<p>In my application, I have made a dynamic menu displayed by a button :</p>\n\n<pre><code>    &lt;button mat-button [matMenuTriggerFor]=\"menulist\"&gt;&lt;mat-icon&gt;menu&lt;/mat-icon&gt;{{menuName}}&lt;/button&gt;\n    &lt;mat-menu #menulist=\"matMenu\"&gt;\n      &lt;button *ngFor=\"let menu of menus\" mat-menu-item [routerLink]=\"menu.link\"&gt;{{menu.name}}&lt;/button&gt;\n    &lt;/mat-menu&gt;\n</code></pre>\n\n<p>and in the ts, I have configured the different menus and on the route change, I change the selected menu :</p>\n\n<pre><code> menus = [\n  { name: 'Menu 1', link: '/route1', active: false },\n  { name: 'Menu 2', link: '/route2', active: false }\n];\n\nconstructor(\n  public router: Router,\n  private location: Location\n) {\n  this.router.events\n    .pipe(filter(event =&gt; event instanceof NavigationEnd))\n    .subscribe(({ urlAfterRedirects }: NavigationEnd) =&gt; {\n      const url = urlAfterRedirects.split(';')[0];\n      const urlAsArray = url.split('/');\n      this.menus.forEach(menu =&gt; {\n        menu.active = urlAfterRedirects.startsWith(menu.link);\n        if (menu.active) {\n          this.menuName = menu.name;\n        }\n      });\n    });\n}\n</code></pre>\n\n<p>I hope it could help you.</p>\n\n<p>Regards</p>\n"}], "owner": {"reputation": 1, "user_id": 11540153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/587e06c76115fe62f3b6cdf52a5433c7?s=128&d=identicon&r=PG&f=1", "display_name": "angularfreek", "link": "https://stackoverflow.com/users/11540153/angularfreek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 894, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558544010, "creation_date": 1558537458, "last_edit_date": 1558543344, "question_id": 56259869, "link": "https://stackoverflow.com/questions/56259869/how-to-open-mat-menu-item-in-a-new-tab-in-angular-using-proper-angular-routing", "title": "How to open mat-menu-item in a new tab in angular using proper angular routing?", "body": "<p>How to open the mat-menu-items in a new tab when the user clicks on it, i have tried all the possible ways mentioned below, am able to open in a new tab but the current tab is going completely blank until the new tab gets the data.</p>\n\n<pre><code>&lt;mat-menu #apps=\"matMenu\" yPosition=\"below\" xPosition=\"before\" [overlapTrigger]=\"false\"&gt;\n    &lt;div mat-menu-item routerLink=\"/requests\" class=\"appsItem mat-body-1 app-high-em\"&gt;\n      &lt;span&gt;{{'Request Extracts' | translate}}  &lt;/span&gt;\n      &lt;mat-icon class=\"float-right appsItemIcon ml-2\"&gt;vertical_align_bottom&lt;/mat-icon&gt;\n    &lt;/div&gt;\n    &lt;a mat-menu-item routerLink=\"/users\" class=\"appsItem mat-body-1 app-high-em\" appNewWindow&gt;\n       &lt;span&gt;{{'Users' | translate}}  &lt;/span&gt;\n       &lt;mat-icon class=\"float-right appsItemIcon ml-2\"&gt;person_add&lt;/mat-icon&gt;\n    &lt;/a&gt;\n    &lt;a mat-menu-item routerLink=\"/metadata/models\" [target]=\"_blank\" class=\"appsItem mat-body-1 app-high-em\"&gt;\n       &lt;span&gt;{{'Meta Data' | translate}}  &lt;/span&gt;\n       &lt;mat-icon class=\"float-right appsItemIcon ml-2\"&gt;link&lt;/mat-icon&gt;\n    &lt;/a&gt;\n    &lt;div mat-menu-item routerLink=\"/requests\" class=\"appsItem mat-body-1 app-high-em\"&gt;\n       &lt;span&gt;{{'Patient Cohorts' | translate}}   &lt;/span&gt;\n       &lt;mat-icon class=\"float-right appsItemIcon ml-2\"&gt;people&lt;/mat-icon&gt;\n    &lt;/div&gt;\n    &lt;div mat-menu-item routerLink=\"/requests\" class=\"appsItem mat-body-1 app-high-em\"&gt;\n        &lt;span&gt;{{'Markets' | translate}}                   &lt;/span&gt;\n        &lt;mat-icon class=\"float-right appsItemIcon ml-2\"&gt;public&lt;/mat-icon&gt;\n    &lt;/div&gt;\n    &lt;a mat-menu-item routerLink=\"/queue\" target=\"_blank\" class=\" mat-body-1 app-high-em\"&gt;\n        &lt;span&gt;{{'Job Monitor' | translate}}                   &lt;/span&gt;\n        &lt;mat-icon class=\"float-right appsItemIcon ml-2\"&gt;list_alt&lt;/mat-icon&gt;\n    &lt;/a&gt;\n  &lt;/mat-menu&gt;\n</code></pre>\n"}, {"tags": ["html", "typescript", "ionic-framework", "angular7", "ionic4"], "comments": [{"owner": {"reputation": 1271, "user_id": 7085783, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ba6298b8d54b71d387c3205a8afff404?s=128&d=identicon&r=PG&f=1", "display_name": "V. Pivet", "link": "https://stackoverflow.com/users/7085783/v-pivet"}, "edited": false, "score": 1, "creation_date": 1558536818, "post_id": 56259557, "comment_id": 99135818, "body": "Just : For your function mobileMenuExpand() you can write &quot;this.mobileMenu = !this.mobileMenu&quot;. It will do the same."}], "owner": {"reputation": 115, "user_id": 2780291, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100000021032201/picture?type=large", "display_name": "Thusoluminati Al-Zawahiri Khar", "link": "https://stackoverflow.com/users/2780291/thusoluminati-al-zawahiri-khar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 2, "answer_count": 0, "score": 1, "last_activity_date": 1558537537, "creation_date": 1558536596, "last_edit_date": 1558537537, "question_id": 56259557, "link": "https://stackoverflow.com/questions/56259557/im-trying-to-create-an-navigation-menu-in-ionic-but-its-unclickable-and-cuts-of", "title": "Im trying to create an navigation menu in ionic but it&#39;s unclickable and cuts off my ion-content", "body": "<p>So I'm new to ionic and to get started I am truing to recreate a blog I had made so that it is not only accessible as a website but as a cross-platform mobile application as well. I was working on the top nav bar when I ran into a problem - the links were not clickable, just static as if were text and only seem responsive in mobile view and even then the menu cuts off the content. I have tried to post as little code as possible but have the files with me so i can add as comments if need be. Thank you in advance</p>\n\n<p>I have tried moving the app-nav tag around, adding (click) which i didnt think i had to if i used routerlink. Adding a toolbar solves the cutting off problem but further eventuates the unresponsiveness as even in mobile view it is unresponsive. </p>\n\n<pre class=\"lang-html prettyprint-override\"><code>//index.html\n\n&lt;head&gt;\n\n  &lt;meta name=\"viewport\" content=\"viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no\" /&gt;\n  &lt;meta name=\"format-detection\" content=\"telephone=no\" /&gt;\n  &lt;meta name=\"msapplication-tap-highlight\" content=\"no\" /&gt;\n\n  &lt;link rel=\"icon\" type=\"image/png\" href=\"assets/icon/favicon.png\" /&gt;\n\n  &lt;!-- add to homescreen for ios --&gt;\n  &lt;meta name=\"apple-mobile-web-app-capable\" content=\"yes\" /&gt;\n  &lt;meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black\" /&gt;\n\n  &lt;link rel=\"shortcut icon\" href=\"../favicon.ico\"&gt;\n  &lt;link rel='stylesheet' href='https://use.fontawesome.com/releases/v5.0.13/css/solid.css'&gt;\n  &lt;link rel=\"stylesheet\" href=\"assets/css/navstyle.css\"&gt;\n\n\n&lt;/head&gt;\n\n&lt;body&gt;\n  &lt;app-root&gt;&lt;/app-root&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>//nav.component.html\n&lt;nav&gt;\n  &lt;div class=\"nav-fostrap\" [ngClass]=\"{'visible': mobileMenu}\"&gt;\n    &lt;ul&gt;\n      &lt;li&gt;&lt;a routerLink=\"/blogs\"&gt;Home&lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a routerLink=\"\"&gt;About&lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a routerLink=\"\"&gt;News &lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a&gt;About&lt;span class=\"arrow-down\"&gt;&lt;/span&gt;&lt;/a&gt;\n        &lt;ul class=\"dropdown\"&gt;\n          &lt;li&gt;&lt;a routerLink=\"\"&gt;News &lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n      &lt;/li&gt;\n      &lt;li&gt;&lt;a routerLink=\"\"&gt;Contact&lt;/a&gt;&lt;/li&gt;\n    &lt;/ul&gt;\n  &lt;/div&gt;\n  &lt;div class=\"nav-bg-fostrap\" &gt;\n    &lt;div class=\"navbar-fostrap\" (click)=\"mobileMenuExpand()\"&gt; &lt;span&gt;&lt;/span&gt; &lt;span&gt;&lt;/span&gt; &lt;span&gt;&lt;/span&gt; &lt;/div&gt;\n    &lt;a routerLink=\"\" class=\"title-mobile\"&gt;A2E&lt;/a&gt;\n  &lt;/div&gt;\n&lt;/nav&gt;\n&lt;ion-router-outlet main&gt;&lt;/ion-router-outlet&gt;\n\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>nav.component.ts\n  mobileMenuExpand()\n  {\n    this.mobileMenu = !this.mobileMenu\n  }\n</code></pre>\n\n<pre class=\"lang-css prettyprint-override\"><code>\n* {\n  margin: 0;\n  padding: 0;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -ms-box-sizing: border-box;\n  box-sizing: border-box;\n}\n\nbody {\n  background: #F0F0F0;\n  font-size: 15px;\n  color: #666;\n  font-family: 'Roboto', sans-serif;\n}\n.content {\n  height: 200px;\n}\na { text-decoration: none; }\n\n\n.container {\n  max-width: 1200px;\n  margin: 0 auto;\n  width: 100%;\n}\n\n.nav-fostrap {\n  display: block;\n  margin-bottom: 15px 0;\n  background: #03A9F4;\n  -webkit-box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n  -moz-box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n  -ms-box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n  -o-box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n  border-radius: 3px;\n}\n\n.nav-fostrap ul {\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n  display: block;\n}\n\n.nav-fostrap li {\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n  display: inline-block;\n  position: relative;\n  font-size: 14;\n  color: #def1f0;\n}\n\n.nav-fostrap li a {\n  padding: 15px 20px;\n  font-size: 14;\n  color: #def1f0;\n  display: inline-block;\n  outline: 0;\n  font-weight: 400;\n}\n\n.nav-fostrap li:hover ul.dropdown { display: block; }\n\n.nav-fostrap li ul.dropdown {\n  position: absolute;\n  display: none;\n  width: 200px;\n  background: #2980B9;\n  -webkit-box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n  -moz-box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n  -ms-box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n  -o-box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n  padding-top: 0;\n}\n\n.nav-fostrap li ul.dropdown li {\n  display: block;\n  list-style-type: none;\n}\n\n.nav-fostrap li ul.dropdown li a {\n  padding: 15px 20px;\n  font-size: 15px;\n  color: #fff;\n  display: block;\n  font-weight: 400;\n}\n\n.nav-fostrap li ul.dropdown li:last-child a { border-bottom: none; }\n\n.nav-fostrap li:hover a {\n  background: #2980B9;\n  color: #fff !important;\n}\n\n.nav-fostrap li:first-child:hover a { border-radius: 3px 0 0 3px; }\n\n.nav-fostrap li ul.dropdown li:hover a { background: rgba(0,0,0, .1); }\n\n.nav-fostrap li ul.dropdown li:first-child:hover a { border-radius: 0; }\n\n.nav-fostrap li:hover .arrow-down { border-top: 5px solid #fff; }\n\n.arrow-down {\n  width: 0;\n  height: 0;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n  border-top: 5px solid #def1f0;\n  position: relative;\n  top: 15px;\n  right: -5px;\n  content: '';\n}\n.title-mobile {\n  display: none;\n}\n @media only screen and (max-width:900px) {\n\n.nav-fostrap {\n  background: #fff;\n  width: 200px;\n  height: 100%;\n  display: block;\n  position: fixed;\n  left: -200px;\n  top: 0px;\n  -webkit-transition: left 0.25s ease;\n  -moz-transition: left 0.25s ease;\n  -ms-transition: left 0.25s ease;\n  -o-transition: left 0.25s ease;\n  transition: left 0.25s ease;\n  margin: 0;\n  border: 0;\n  border-radius: 0;\n  overflow-y: auto;\n  overflow-x: hidden;\n  height: 100%;\n}\n.title-mobile {\n  position: fixed;\n  display: block;\n    top: 10px;\n    font-size: 20px;\n    left: 100px;\n    right: 100px;\n    text-align: center;\n    color: #FFF;\n}\n.nav-fostrap.visible {\n  left: 0px;\n  -webkit-transition: left 0.25s ease;\n  -moz-transition: left 0.25s ease;\n  -ms-transition: left 0.25s ease;\n  -o-transition: left 0.25s ease;\n  transition: left 0.25s ease;\n}\n\n.nav-bg-fostrap {\n  display: inline-block;\n  vertical-align: middle;\n  width: 100%;\n  height: 50px;\n  margin: 0;\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  background: #03A9F4;\n  padding: 12px 0 0 10px;\n  -webkit-box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n  -moz-box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n  -ms-box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n  -o-box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n}\n\n.navbar-fostrap {\n  display: inline-block;\n  vertical-align: middle;\n  height: 50px;\n  cursor: pointer;\n  margin: 0;\n    position: absolute;\n    top: 0;\n    left: 0;\n    padding: 12px;\n}\n\n.navbar-fostrap span {\n  height: 2px;\n  background: #fff;\n  margin: 5px;\n  display: block;\n  width: 20px;\n}\n\n.navbar-fostrap span:nth-child(2) { width: 20px; }\n\n.navbar-fostrap span:nth-child(3) { width: 20px; }\n\n.nav-fostrap ul { padding-top: 50px; }\n\n.nav-fostrap li { display: block; }\n\n.nav-fostrap li a {\n  display: block;\n  color: #505050;\n  font-weight: 600;\n}\n\n.nav-fostrap li:first-child:hover a { border-radius: 0; }\n\n.nav-fostrap li ul.dropdown { position: relative; }\n\n.nav-fostrap li ul.dropdown li a {\n  background: #2980B9 !important;\n  border-bottom: none;\n  color: #fff !important;\n}\n\n.nav-fostrap li:hover a {\n  background: #03A9F4;\n  color: #fff !important;\n}\n\n.nav-fostrap li ul.dropdown li:hover a {\n  background: rgba(0,0,0,.1); !important;\n  color: #fff !important;\n}\n\n.nav-fostrap li ul.dropdown li a { padding: 10px 10px 10px 30px; }\n\n.nav-fostrap li:hover .arrow-down { border-top: 5px solid #fff; }\n\n.arrow-down {\n  border-top: 5px solid #505050;\n  position: absolute;\n  top: 20px;\n  right: 10px;\n}\n\n.cover-bg {\n  background: rgba(0,0,0,0.5);\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n\n @media only screen and (max-width:1199px) {\n\n.container { width: 96%; }\n}\n\n.fixed-top {\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n}\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>//blogs.pag.html\n&lt;ion-header&gt;\n\n    &lt;app-nav&gt;&lt;/app-nav&gt;\n\n&lt;/ion-header&gt;\n&lt;ion-content class=\"has-header\"&gt;\n  &lt;ion-list&gt;\n    &lt;app-blog-item *ngFor=\"let blog of blogs\" [blog]='blog'&gt;&lt;/app-blog-item&gt;\n  &lt;/ion-list&gt;\n&lt;/ion-content&gt;\n</code></pre>\n\n<p>I am trying recreate an active navbar that works on ionic as to have a fluid mobile and web experience :&lt; i have tried to post as little code as possible but have the files with me so i can add as comments if need be</p>\n"}, {"tags": ["typescript", "unit-testing", "testing", "automated-tests", "mapped-types"], "comments": [{"owner": {"reputation": 41, "user_id": 1310393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21ca0f9913a42d0dc69873f00f22a28b?s=128&d=identicon&r=PG", "display_name": "Christian Radich", "link": "https://stackoverflow.com/users/1310393/christian-radich"}, "edited": false, "score": 0, "creation_date": 1570147526, "post_id": 56259537, "comment_id": 102831374, "body": "Looks like this can be accomplished with <a href=\"https://github.com/Microsoft/dtslint\" rel=\"nofollow noreferrer\">github.com/Microsoft/dtslint</a> Will look more into and answer this with an example"}], "owner": {"reputation": 41, "user_id": 1310393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21ca0f9913a42d0dc69873f00f22a28b?s=128&d=identicon&r=PG", "display_name": "Christian Radich", "link": "https://stackoverflow.com/users/1310393/christian-radich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1558536539, "creation_date": 1558536539, "question_id": 56259537, "link": "https://stackoverflow.com/questions/56259537/is-there-a-standard-way-to-automate-testing-of-typescript-compile-time-construct", "title": "Is there a standard way to automate testing of typescript compile-time constructs like mapped-types?", "body": "<p>Say we're trying to implement the <code>Pick</code> <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">mapped-type</a>:</p>\n\n<pre><code>type Pick&lt;T, K extends keyof T&gt; = {\n    [P in K]: T[P];\n};\n</code></pre>\n\n<p>We should expect that any type built from this conforms to some typescript compile-time check. Is there a way to test that? Using a testing framework or otherwise?</p>\n\n<pre><code>type Foo = { foo: string, bar: string };\ntype TestType = Pick&lt;Foo, 'foo'&gt;;\n\n// expect this to fail at compile time because of property 'bar'\nlet foo: TestType = { foo: 'foo', bar: 'bar' };\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "edited": false, "score": 0, "creation_date": 1558536729, "post_id": 56259482, "comment_id": 99135754, "body": "Where will the date output be used/shown? On your component.html?"}, {"owner": {"reputation": 101, "user_id": 10922029, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hIMByUtzFDw/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcblyYS3fEvESIJ0WvmMCJNKkE3heA/mo/photo.jpg?sz=128", "display_name": "Riccardo Albero", "link": "https://stackoverflow.com/users/10922029/riccardo-albero"}, "edited": false, "score": 0, "creation_date": 1558537456, "post_id": 56259482, "comment_id": 99136270, "body": "did you  consider to use moment.js ?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 10530301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4945b4befd4f187ea1ba6968b244ddd?s=128&d=identicon&r=PG&f=1", "display_name": "Seb", "link": "https://stackoverflow.com/users/10530301/seb"}, "edited": false, "score": 0, "creation_date": 1558538485, "post_id": 56259880, "comment_id": 99136907, "body": "This solution looks simple. I cant get it to working though."}, {"owner": {"reputation": 21, "user_id": 10530301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4945b4befd4f187ea1ba6968b244ddd?s=128&d=identicon&r=PG&f=1", "display_name": "Seb", "link": "https://stackoverflow.com/users/10530301/seb"}, "edited": false, "score": 0, "creation_date": 1558538572, "post_id": 56259880, "comment_id": 99136960, "body": "I have done the below changes as per your suggestion  &lt;p-calender  [(ngModel)]=&quot;d | date:&#39;&#39;yyyy-mm-dd&quot;&gt;&lt;/p-calnder&gt;  However it complains that, the pipe could not be found"}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "reply_to_user": {"reputation": 21, "user_id": 10530301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4945b4befd4f187ea1ba6968b244ddd?s=128&d=identicon&r=PG&f=1", "display_name": "Seb", "link": "https://stackoverflow.com/users/10530301/seb"}, "edited": false, "score": 0, "creation_date": 1558539900, "post_id": 56259880, "comment_id": 99137691, "body": "@Seb I see. I didn&#39;t know. Ok, now I see the full picture. Give me a second, let me make some modifications."}, {"owner": {"reputation": 21, "user_id": 10530301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4945b4befd4f187ea1ba6968b244ddd?s=128&d=identicon&r=PG&f=1", "display_name": "Seb", "link": "https://stackoverflow.com/users/10530301/seb"}, "edited": false, "score": 0, "creation_date": 1558544311, "post_id": 56259880, "comment_id": 99139940, "body": "Thank you so much for this. One last doubt in this regard.  What if I want to display the date field in a for loop together with other fields  &lt;td *ngFor=&quot;let col of columns&quot; align=&quot;center&quot; &gt; &lt;span&gt;col.field&lt;/span&gt; &lt;/td&gt;  and one col.field is the date field and the are other string fields as well. I tried with *ngIf statement, but I couldnt get it to work"}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "reply_to_user": {"reputation": 21, "user_id": 10530301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4945b4befd4f187ea1ba6968b244ddd?s=128&d=identicon&r=PG&f=1", "display_name": "Seb", "link": "https://stackoverflow.com/users/10530301/seb"}, "edited": false, "score": 0, "creation_date": 1558573540, "post_id": 56259880, "comment_id": 99149606, "body": "@Seb glad to help! Hmm.. What do you mean by that? What exactly is not working?"}], "tags": [], "owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "is_accepted": false, "score": 2, "last_activity_date": 1558540811, "last_edit_date": 1558540811, "creation_date": 1558537488, "answer_id": 56259880, "question_id": 56259482, "link": "https://stackoverflow.com/questions/56259482/how-to-format-a-date-field-in-angular-project/56259880#56259880", "title": "How to format a Date field in Angular project", "body": "<p>You can't change the format of the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date\" rel=\"nofollow noreferrer\">Date</a> object.</p>\n\n<p>However, in order to solve your problem, you can use date pipe on your template/html. It is natively available in Angular. It will not mutate the value of <code>d</code>, as it merely transform it into your required <code>yyyy-mm-dd</code> format. The value of <code>d</code> on your component.ts will still be in the Date Object format, thus you can continue to use it on other parts of your component. You can check out the accepted formats for the date pipe over <a href=\"https://angular.io/api/common/DatePipe\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<pre><code>&lt;input [ngModel]=\"d  | date:'yyyy-MM-dd'\"/&gt;\n</code></pre>\n\n<p>You may refer to this <a href=\"https://stackblitz.com/edit/angular-date-pipe-example-p9j46e?file=src/app/app.component.html\" rel=\"nofollow noreferrer\">short demo</a>.</p>\n\n<hr>\n\n<p>EDIT: Since you are using PrimeNg's p-calendar component, we can simply make use of the <a href=\"https://www.primefaces.org/primeng/#/calendar\" rel=\"nofollow noreferrer\">dateFormat</a> property which serves the same purpose as the pipe above.</p>\n\n<pre><code>&lt;p-calendar [(ngModel)]=\"d\" dateFormat=\"yy-MM-dd\"&gt;&lt;/p-calendar&gt;\n</code></pre>\n\n<p>Here is a <a href=\"https://stackblitz.com/edit/prime-ng-calendar-o34xwq?file=app%2Fcalendar%2Fcalendar.component.html\" rel=\"nofollow noreferrer\">demo</a>. On my demo, I have binded the <code>onSelect</code> event such that it prints the updated <code>d</code> everytime you select a new date.</p>\n"}], "owner": {"reputation": 21, "user_id": 10530301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4945b4befd4f187ea1ba6968b244ddd?s=128&d=identicon&r=PG&f=1", "display_name": "Seb", "link": "https://stackoverflow.com/users/10530301/seb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558590989, "creation_date": 1558536386, "last_edit_date": 1558590989, "question_id": 56259482, "link": "https://stackoverflow.com/questions/56259482/how-to-format-a-date-field-in-angular-project", "title": "How to format a Date field in Angular project", "body": "<p>I have a <code>stringVariable</code> coming from the backend service that I have converted into a Date field like below. </p>\n\n<pre><code>date d = new Date(stringVariable );\n</code></pre>\n\n<p>This worked fine. However the new date output looks like this.</p>\n\n<pre><code>Thu Jun 29 2017 20:00:00 GMT-0400 (Eastern Daylight Time)\n</code></pre>\n\n<p>I need it to be changes to a different format <code>yyyy-mm-dd</code> and i would need the variable 'd' to remain as a Date not a String.</p>\n\n<p>If I use date pipe transform method or <code>.toLocaleString</code>, it will convert the final output 'd' to a string. That shouldn't happen. </p>\n\n<p>Appreciate help from experts.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1558538787, "post_id": 56259372, "comment_id": 99137088, "body": "There should be a big error right at <code>ReturnType&lt;props[k]&gt;</code>, since you have no reason to believe that <code>props[k]</code> is a function.  Extensions of <code>PropsA</code> can have additional properties of any type whatsoever: <code>interface PropsC extends PropsA { bar: string, baz: boolean }</code>."}, {"owner": {"reputation": 91, "user_id": 5376443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38def777c767b3679d7093ffbdef534a?s=128&d=identicon&r=PG&f=1", "display_name": "Uncaught Exception", "link": "https://stackoverflow.com/users/5376443/uncaught-exception"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1558598200, "post_id": 56259372, "comment_id": 99155931, "body": "That&#39;s true, we have an additional index signature (<code>[x: string]: (...args: any[]) =&gt; any;</code>) to help with that, I&#39;ve missed that in the example (added now). But nevertheless, the result is the same for <code>this.actions.foo</code>."}], "owner": {"reputation": 91, "user_id": 5376443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38def777c767b3679d7093ffbdef534a?s=128&d=identicon&r=PG&f=1", "display_name": "Uncaught Exception", "link": "https://stackoverflow.com/users/5376443/uncaught-exception"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1558598228, "creation_date": 1558535986, "last_edit_date": 1558598228, "question_id": 56259372, "link": "https://stackoverflow.com/questions/56259372/why-are-extended-generic-types-not-resolving-correctly", "title": "Why are extended generic types not resolving correctly?", "body": "<p><strong>Summary:</strong> The base class cannot use its properties fully when those properties are defined as an extended generic type.</p>\n\n<p><strong>Platform:</strong> We're currently on typescript 3.3 (3.4 is incompatible with us and 3.5 not yet released).</p>\n\n<p><strong>Background:</strong>\nWe use redux. Functions creating redux actions usually have a signature like <code>(x) =&gt; (dispatch, getState) =&gt; object</code>. In the base class of our redux components we unwrap these action-creators so they can be used directly without dispatching them: <code>(x) =&gt; object</code>.</p>\n\n<p><strong>Problem:</strong> Class A defines an interface PropsA, but uses a generic type extending PropsA for its props. Then these props are unwrapped and mapped. Class A can no longer use the unwrapped functions properly. I have stripped down the problem:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface PropsA {\n  [x: string]: (...args: any[]) =&gt; any;\n\n  foo(): () =&gt; string;\n}\n\nclass A&lt;props extends PropsA = PropsA&gt; {\n\n  actions: {\n    [k in keyof props]: () =&gt; ReturnType&lt;ReturnType&lt;props[k]&gt;&gt;\n  };\n\n  constructor(protected readonly props: props) {\n  }\n\n  someMethodA(): void {\n    console.log(this.props.foo()().length); //works!\n\n    const fooResult = this.actions.foo(); //ReturnType&lt;ReturnType&lt;props['foo']&gt;&gt;\n    console.log(fooResult.length); //does not work!\n  }\n}\n</code></pre>\n\n<p>Why is the return type known for <code>foo</code> on <code>this.props</code>, but not on <code>this.actions</code>?</p>\n\n<p>When extending A, the extending class does not have this problem:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface PropsB extends PropsA {\n}\n\nclass B extends A&lt;PropsB&gt; {\n\n  someMethodB(): void {\n    console.log(this.props.foo()().length); //works!\n\n    const fooResult = this.actions.foo(); //ReturnType&lt;ReturnType&lt;PropsB['foo']&gt;&gt;\n    console.log(fooResult.length); //it works here!\n  }\n}\n</code></pre>\n\n<p>Might this be a bug in typescript? Theoretically this should work. I'm telling that props is supposed to extend PropsA. So I can be sure that the props have that interface. This is what interfaces are all about. Am I wrong? Is there a different solution?</p>\n"}, {"tags": ["typescript", "typescript-typings", "typescript2.0", "typescript1.8", "typescript-generics"], "answers": [{"tags": [], "owner": {"reputation": 4828, "user_id": 8378419, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2772206b4d6afcbdfe7485286554190d?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie Milejczak", "link": "https://stackoverflow.com/users/8378419/robbie-milejczak"}, "is_accepted": false, "score": 0, "last_activity_date": 1558537378, "creation_date": 1558537378, "answer_id": 56259833, "question_id": 56259078, "link": "https://stackoverflow.com/questions/56259078/returning-a-function-signature-based-on-generic-parameters/56259833#56259833", "title": "Returning a function signature based on generic parameters", "body": "<p>You could combine aliases and overloads to get this working. Basically alias those arguments as string literal types, and then give your function multiple signatures. TypeScript can then infer the return type of <code>createRequest</code> based on the arguments passed in</p>\n\n<pre><code>type UserPath = '/users';\ntype PaymentPath = '/payment';\ntype CreatedAfter = {\n  createdAfter: Date;\n};\n\nfunction createRequest(\n  HttpVerb: string,\n  target: UserPath\n): (id: string, date: CreatedAfter) =&gt; Promise&lt;{ id: string }&gt;;\n\nfunction createRequest(\n  HttpVerb: string,\n  target: PaymentPath\n  //I'm just guessing the return type here\n): (date: CreatedAfter) =&gt; Promise&lt;{ id: string }[]&gt;; \n\nfunction createRequest(HttpVerb: string, target: UserPath | PaymentPath): any {\n  //your function implementation doesn't have to be like this, this is just so\n  //this example is fully working\n  if (target === '/users') {\n    return async function(date) {\n      return { id: '1' };\n    };\n  } else if (target === '/payment') {\n    return async function(id, date) {\n      return [{ id: '1' }];\n    };\n  }\n}\n\n//this signature matches your fetchUsers signature\nconst fetchUsers = createRequest('GET', '/users'); \n\n//this signature matches your fetchPayment signature\nconst fetchPayment = createRequest('GET', '/payment');\n</code></pre>\n\n<p>In summation, this will allow the <code>createRequest</code> function to return a function with the correct signature based on the second argument passed. <a href=\"https://www.typescriptlang.org/docs/handbook/functions.html\" rel=\"nofollow noreferrer\">Read more about function signatures here</a>, ctrl+f and search for \"Overloads\" to learn more about overloading.</p>\n"}, {"comments": [{"owner": {"reputation": 697, "user_id": 3869978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3109721820b1827f05bc6bf7e6c11d99?s=128&d=identicon&r=PG&f=1", "display_name": "TheNastyOne", "link": "https://stackoverflow.com/users/3869978/thenastyone"}, "edited": false, "score": 0, "creation_date": 1558542801, "post_id": 56260028, "comment_id": 99139244, "body": "This is a great help @jcalz! Is there a way you can think of where I can declare the expected args and return type inline instead of using the <code>interface Requests</code>?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 697, "user_id": 3869978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3109721820b1827f05bc6bf7e6c11d99?s=128&d=identicon&r=PG&f=1", "display_name": "TheNastyOne", "link": "https://stackoverflow.com/users/3869978/thenastyone"}, "edited": false, "score": 0, "creation_date": 1558551147, "post_id": 56260028, "comment_id": 99142856, "body": "I&#39;m not sure I understand... you can use a type alias instead (<code>type Requests = { &quot;&#47;users&quot;: (clause: { createdAfter: Date }) =&gt; Promise&lt;Array&lt;User&gt;&gt;; ...</code>) but you probably want to have <i>some</i> name for it, since <code>Requests</code> shows up multiple times in the signature and the implementation, and writing that type over and over again could be annoying.  If I understood your use case more I might be able to make a suggestion.  Why don&#39;t you want a <code>Requests</code> interface or type?"}, {"owner": {"reputation": 697, "user_id": 3869978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3109721820b1827f05bc6bf7e6c11d99?s=128&d=identicon&r=PG&f=1", "display_name": "TheNastyOne", "link": "https://stackoverflow.com/users/3869978/thenastyone"}, "edited": false, "score": 0, "creation_date": 1558554451, "post_id": 56260028, "comment_id": 99144316, "body": "I would like to co-locate the individual type definitions because I&#39;m creating an internal client sdk (an abstraction of http calls).  I&#39;m following the patterns that most large scale companies use, most specifically stripe&#39;s.  In this example <a href=\"https://github.com/stripe/stripe-node/blob/master/lib/resources/Charges.js\" rel=\"nofollow noreferrer\">github.com/stripe/stripe-node/blob/master/lib/resources/&hellip;</a>, they have a <code>Charges</code> resource that simply creates an endpoint.  I would like mine to look exactly like that + inline the expected args and return value of the endpoint.  My <code>createRequest</code> is the equivalent of Stripe&#39;s <code>stripeMethod</code>.  Thanks again for your help!"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 697, "user_id": 3869978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3109721820b1827f05bc6bf7e6c11d99?s=128&d=identicon&r=PG&f=1", "display_name": "TheNastyOne", "link": "https://stackoverflow.com/users/3869978/thenastyone"}, "edited": false, "score": 0, "creation_date": 1558569321, "post_id": 56260028, "comment_id": 99148865, "body": "So can I suggest keeping the <code>Requests</code> interface and using <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-merging.html\" rel=\"nofollow noreferrer\">declaration merging</a> to add endpoints into <code>Requests</code>?  Let me see if I can refactor the code above to demonstrate that..."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 697, "user_id": 3869978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3109721820b1827f05bc6bf7e6c11d99?s=128&d=identicon&r=PG&f=1", "display_name": "TheNastyOne", "link": "https://stackoverflow.com/users/3869978/thenastyone"}, "edited": false, "score": 0, "creation_date": 1558570990, "post_id": 56260028, "comment_id": 99149180, "body": "Updated my answer, hope it helps more."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1558570898, "last_edit_date": 1558570898, "creation_date": 1558538017, "answer_id": 56260028, "question_id": 56259078, "link": "https://stackoverflow.com/questions/56259078/returning-a-function-signature-based-on-generic-parameters/56260028#56260028", "title": "Returning a function signature based on generic parameters", "body": "<p>You might proceed like this:</p>\n\n<pre><code>// some interfaces you expect httpCall to return\ninterface User {\n  name: string;\n  age: number;\n}\ninterface Payment {\n  id: string;\n}\n\n// a mapping of request paths to the function signatures\n// you expect to return from createRequest\ninterface Requests {\n  \"/users\": (clause: { createdAfter: Date }) =&gt; Promise&lt;Array&lt;User&gt;&gt;;\n  \"/payments\": (id: string, clause: { createdAfter: Date }) =&gt; Promise&lt;Payment&gt;;\n}\n\n// a dummy httpCall function\ndeclare function httpCall&lt;R&gt;(path: string, method: string, payload: any): R;\n\n// for now only GET is supported, and the path must be one of keyof Requests\nfunction createRequest&lt;P extends keyof Requests&gt;(method: \"GET\", path: P) {\n  return (function resourceApiCall(\n    ...args: Parameters&lt;Requests[P]&gt; // Parameters&lt;F&gt; is the arg tuple of function type F\n  ): ReturnType&lt;Requests[P]&gt; { // ReturnType&lt;F&gt; is the return type of function type F\n    return httpCall&lt;ReturnType&lt;Requests[P]&gt;&gt;(path, method, args);\n  } as any) as Requests[P]; // assertion to clean up createRequest signature\n}\n\nasync function foo() {\n  const fetchUsers = createRequest(\"GET\", \"/users\");\n  const users = await fetchUsers({ createdAfter: new Date() }); // User[]\n  const fetchPayment = createRequest(\"GET\", \"/payments\");\n  const payment = await fetchPayment(\"id\", { createdAfter: new Date() }); // Payment\n}\n</code></pre>\n\n<p>In the above I'm using an interface <code>Requests</code> to specify at the type level the mapping from the request path to the function signature you want <code>createRequest()</code> to return.  And <code>createRequest()</code> is a <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">generic</a> function using using <code>Requests</code> to strongly type the returned function.  Notice that inside the implementation of <code>resourceApiCall()</code> I also use some built-in <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#conditional-types\" rel=\"nofollow noreferrer\">conditional types</a> to pull the <a href=\"https://github.com/Microsoft/TypeScript/blob/v3.4.5/lib/lib.es5.d.ts#L1471-L1474\" rel=\"nofollow noreferrer\">argument types</a> and <a href=\"https://github.com/Microsoft/TypeScript/blob/v3.4.5/lib/lib.es5.d.ts#L1481-L1484\" rel=\"nofollow noreferrer\">return type</a> out of a function signature.  This is not strictly necessary, but makes the typings inside of <code>resourceApiCall()</code> more explicit.</p>\n\n<p>Anyway, hope that helps.  Good luck!</p>\n\n<hr>\n\n<p>UPDATE: Here's a possible way to split that up into different modules so that each module only touches its own endpoint.</p>\n\n<p>First, have your file with <code>createRequest()</code> in it, along with an initially empty <code>Requests</code> interface:</p>\n\n<p><strong>Requests/requests.ts</strong></p>\n\n<pre><code>export interface Requests extends Record&lt;keyof Requests, (...args: any[]) =&gt; any&gt; {\n  // empty here, but merge into this \n}\n\n// a dummy httpCall function\ndeclare function httpCall&lt;R&gt;(path: string, method: string, payload: any): R;\n\n// for now only GET is supported, and the path must be one of keyof Requests\nexport function createRequest&lt;P extends keyof Requests&gt;(method: \"GET\", path: P) {\n  return (function resourceApiCall(\n    ...args: Parameters&lt;Requests[P]&gt; // Parameters&lt;F&gt; is the arg tuple of function type F\n  ): ReturnType&lt;Requests[P]&gt; {\n    // ReturnType&lt;F&gt; is the return type of function type F\n    return httpCall&lt;ReturnType&lt;Requests[P]&gt;&gt;(path, method, args);\n  } as any) as Requests[P]; // assertion to clean up createRequest signature\n}\n</code></pre>\n\n<p>Then you can make a module for your <code>User</code> stuff:</p>\n\n<p><strong>Requests/user.ts</strong></p>\n\n<pre><code>export interface User {\n  name: string;\n  age: number;\n}\ndeclare module './requests' {\n  interface Requests {\n    \"/users\": (clause: { createdAfter: Date }) =&gt; Promise&lt;Array&lt;User&gt;&gt;;\n  }\n}\n</code></pre>\n\n<p>and your <code>Payment</code> stuff:</p>\n\n<p><strong>Requests/payment.ts</strong></p>\n\n<pre><code>export interface Payment {\n  id: string;\n}\ndeclare module './requests' {\n  interface Requests {\n    \"/payments\": (id: string, clause: { createdAfter: Date }) =&gt; Promise&lt;Payment&gt;;\n  }\n}\n</code></pre>\n\n<p>et cetera.  Finally a user could call these by importing <code>createRequest</code> and possibly the <code>user</code> and <code>payment</code> modules (if they have code in them you need to run in your module):</p>\n\n<p><strong>test.ts</strong></p>\n\n<pre><code>import { createRequest } from './Requests/requests';\nimport './Requests/user'; // maybe not necessary\nimport './Requests/payment'; // maybe not necessary\n\nasync function foo() {\n  const fetchUsers = createRequest(\"GET\", \"/users\");\n  const users = await fetchUsers({ createdAfter: new Date() }); // User[]\n  const fetchPayment = createRequest(\"GET\", \"/payments\");\n  const payment = await fetchPayment(\"id\", { createdAfter: new Date() }); // Payment\n}\n</code></pre>\n\n<p>Okay, hope that helps again.</p>\n"}], "owner": {"reputation": 697, "user_id": 3869978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3109721820b1827f05bc6bf7e6c11d99?s=128&d=identicon&r=PG&f=1", "display_name": "TheNastyOne", "link": "https://stackoverflow.com/users/3869978/thenastyone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "accepted_answer_id": 56260028, "answer_count": 2, "score": 1, "last_activity_date": 1558570898, "creation_date": 1558535043, "question_id": 56259078, "link": "https://stackoverflow.com/questions/56259078/returning-a-function-signature-based-on-generic-parameters", "title": "Returning a function signature based on generic parameters", "body": "<p>I have a function <code>createRequest</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function createRequest(method: string, path: string) {\n  return function resourceApiCall() {\n    // ...additional logic\n    return httpCall(path, method) \n  }\n}\n</code></pre>\n\n<p>that returns a function <code>resourceApiCall</code> that I would like to call like:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const fetchUsers = createRequest('GET', '/users')\n\nawait fetchUsers({createdAfter: new Date()})\n</code></pre>\n\n<p>I would also like to do something like:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const fetchPayment = createRequest('GET', '/payments')\n\nawait fetchPayment('id', {createdAfter: new Date()})\n</code></pre>\n\n<p><strong>My question is, how can I pass a definition to <code>createRequest</code> so that <code>fetchUsers</code> and <code>fetchPayment</code> display the correct function parameters and return value inside the IDE (any type-check correctly)?</strong> </p>\n\n<p>I believe I need to do something like:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface FetchPayment {\n  (id: string, {createdAfter: Date}): Promise&lt;{id: string}&gt;\n}\n\nconst fetchPayment = createRequest&lt;FetchPayment&gt;('GET', '/payments')\n</code></pre>\n\n<p>but I would ideally like to do something like:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const fetchPayment = createRequest&lt;Args, Result&gt;('GET', '/payments')\n\nfunction createRequest&lt;Args, Result&gt;(method: string, path: string) {\n  return function resourceApiCall(...args: Args) {\n    // ...additional logic\n    return httpCall&lt;Result&gt;(path, method) \n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "plotly"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 8928045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66bb3ddb01d9e2ebdd6f5c18626964a6?s=128&d=identicon&r=PG&f=1", "display_name": "Coder", "link": "https://stackoverflow.com/users/8928045/coder"}, "edited": false, "score": 0, "creation_date": 1606924275, "post_id": 56262198, "comment_id": 115111518, "body": "for [divId]=&quot;embeddingsPlotID&quot; , it should be added into parent div where the the traces are plotted ?"}], "tags": [], "owner": {"reputation": 375, "user_id": 7099374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2401f332641978bc779a29545d00c69?s=128&d=identicon&r=PG&f=1", "display_name": "Amuoeba", "link": "https://stackoverflow.com/users/7099374/amuoeba"}, "is_accepted": false, "score": 2, "last_activity_date": 1558546618, "creation_date": 1558546618, "answer_id": 56262198, "question_id": 56258982, "link": "https://stackoverflow.com/questions/56258982/how-to-restyle-a-plotly-graph-in-angular/56262198#56262198", "title": "How to restyle a Plotly graph in Angular", "body": "<p>I think I have foound a way. In plotly.js <a href=\"https://plot.ly/javascript/plotlyjs-function-reference/#plotlyreact\" rel=\"nofollow noreferrer\">docs</a> it is specified to use <code>.restyle()</code> in the folowing way:</p>\n\n<pre><code>var update = {\n    opacity: 0.4,\n    'marker.color': 'red'\n};\nPlotly.restyle(graphDiv, update, 0);\n</code></pre>\n\n<p>So if you are using Angular you need to specify the plot div ID via <code>[divId]</code> like this:</p>\n\n<pre><code>&lt;plotly-plot [data]=\"graph.data\" [layout]=\"graph.layout\" (hover)=\"onHover($event)\" [divId]=\"embeddingsPlotID\"&gt;\n</code></pre>\n\n<p>where <code>embeddingsPlotID</code> is specified in your component. Then you can call the <code>.restyle()</code> like this:</p>\n\n<pre><code>PlotlyModule.plotlyjs.restyle(\"embeddingsPlot\",{\"marker.size\":event.value},0)\n</code></pre>\n\n<p>from your parent component. Sadly in my case this doesen't seem to be much of a speedup compared to redtawing a whole plot (I have cca. 3k points)</p>\n"}], "owner": {"reputation": 375, "user_id": 7099374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2401f332641978bc779a29545d00c69?s=128&d=identicon&r=PG&f=1", "display_name": "Amuoeba", "link": "https://stackoverflow.com/users/7099374/amuoeba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 836, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1558546618, "creation_date": 1558534724, "last_edit_date": 1558535155, "question_id": 56258982, "link": "https://stackoverflow.com/questions/56258982/how-to-restyle-a-plotly-graph-in-angular", "title": "How to restyle a Plotly graph in Angular", "body": "<p>I have a plotly graph in a custom Angular component:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;plotly-plot [data]=\"graph.data\" [layout]=\"graph.layout\" (hover)=\"onHover($event)\"&gt;\n&lt;/plotly-plot&gt;\n</code></pre>\n\n<p>I also have a slider, which I want to use to restyle the plot:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;mat-slider\n thumbLabel\n [displayWith]=\"formatLabel\"\n tickInterval=\"1000\"\n min=\"0\"\n max=\"7000\"\n (input)=\"getSliderVal($event)\"&gt;\n&lt;/mat-slider&gt;\n</code></pre>\n\n<p>Currently I am registering the slider change events and redrawing whole graph, which is inefficient. I see there is <code>(restyle)</code> prop in the <a href=\"https://www.npmjs.com/package/angular-plotly.js/v/0.1.13\" rel=\"nofollow noreferrer\">docs</a> but I don't know how to use it. Any help appreciated!</p>\n"}, {"tags": ["javascript", "node.js", "angular", "typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 1480, "user_id": 694976, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f16806e1908861098054ff2112413da0?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Mendes", "link": "https://stackoverflow.com/users/694976/jo%c3%a3o-mendes"}, "edited": false, "score": 2, "creation_date": 1558533989, "post_id": 56258671, "comment_id": 99134062, "body": "Is it Angular 6 or Angular 7? Question text and title say different."}], "answers": [{"tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": false, "score": 1, "last_activity_date": 1558533849, "creation_date": 1558533849, "answer_id": 56258708, "question_id": 56258671, "link": "https://stackoverflow.com/questions/56258671/access-dynamic-url-param-in-angular-6/56258708#56258708", "title": "Access dynamic URL param in angular 6", "body": "<p>You can get the route params using this method</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>this.route.params.subsribe(params =&gt; {\n  console.log(params['clientId'])\n});\n</code></pre>\n\n<p>or</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>this.activateRoute.snapshot.params['clientId']\n</code></pre>\n\n<p>PLease let me know if you still have problem</p>\n"}, {"tags": [], "owner": {"reputation": 3395, "user_id": 10409167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/blZR5.jpg?s=128&g=1", "display_name": "Arcteezy", "link": "https://stackoverflow.com/users/10409167/arcteezy"}, "is_accepted": false, "score": 0, "last_activity_date": 1558533895, "creation_date": 1558533895, "answer_id": 56258721, "question_id": 56258671, "link": "https://stackoverflow.com/questions/56258671/access-dynamic-url-param-in-angular-6/56258721#56258721", "title": "Access dynamic URL param in angular 6", "body": "<p>Use <code>params</code> instead of <code>paramMap</code>,</p>\n\n<pre><code>console.log(this.route.snapshot.params['clientId']);\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 11527831, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-g3ufkwzXE7Y/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdWCAtY1LMxBVXwiihU-wvTFuv-3g/mo/photo.jpg?sz=128", "display_name": "yogitha c", "link": "https://stackoverflow.com/users/11527831/yogitha-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1571388781, "creation_date": 1558533725, "last_edit_date": 1571388781, "question_id": 56258671, "link": "https://stackoverflow.com/questions/56258671/access-dynamic-url-param-in-angular-6", "title": "Access dynamic URL param in angular 6", "body": "<p>In my <code>angular 7</code> code I'm trying to fetch the <code>clientId</code> passed in the URL. <code>clientId</code> will be dynamic.</p>\n\n<pre><code>localhost:4200/client/xyz\n</code></pre>\n\n<p>app.routing.ts </p>\n\n<pre><code> {\n  path: 'client/:clientId',\n  component: AppComponent\n },\n</code></pre>\n\n<p>app.component.ts</p>\n\n<pre><code>constructor(private route: ActivatedRoute) { }\n\nngOnInit() {\n   console.log(this.route.snapshot.paramMap.get('clientId'));\n});\n</code></pre>\n\n<p>It prints <code>null</code> in the console </p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1558534800, "post_id": 56258641, "comment_id": 99134565, "body": "Interfaces are <a href=\"https://github.com/Microsoft/TypeScript/wiki/FAQ#what-is-type-erasure\" rel=\"nofollow noreferrer\">erased</a> at runtime.  So there&#39;s no way to do this with the type system.  You could compare two <i>values</i> (each of which is assignable to some interface, or some type you could possibly infer at design time), but without more information about your use case the only answer that could be given here is &quot;no, sorry&quot;."}, {"owner": {"reputation": 31, "user_id": 10415803, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Dvo2Lrbnfi4/AAAAAAAAAAI/AAAAAAAAASk/-bLrF2f19G0/photo.jpg?sz=128", "display_name": "Rain Zhao", "link": "https://stackoverflow.com/users/10415803/rain-zhao"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1558536792, "post_id": 56258641, "comment_id": 99135794, "body": "I&#39;m trying to write a test in jest to check if two interfaces are equal, but now I realize I have to test for that at compile time. Do you know how I can do that? Should I make a new question about setting up typescript tests in jest?"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 10415803, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Dvo2Lrbnfi4/AAAAAAAAAAI/AAAAAAAAASk/-bLrF2f19G0/photo.jpg?sz=128", "display_name": "Rain Zhao", "link": "https://stackoverflow.com/users/10415803/rain-zhao"}, "edited": false, "score": 0, "creation_date": 1558537296, "post_id": 56259594, "comment_id": 99136164, "body": "Thanks for the help, I actually may be asking the wrong question. What I want is to write a test in jest that checks if two interfaces are equal, so what I probably need is guidance on writing a compile time test to work with typescript?"}, {"owner": {"reputation": 87, "user_id": 3670601, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/85cc6027809ed02728e4337e88575e5e?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Sar", "link": "https://stackoverflow.com/users/3670601/mike-sar"}, "reply_to_user": {"reputation": 31, "user_id": 10415803, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Dvo2Lrbnfi4/AAAAAAAAAAI/AAAAAAAAASk/-bLrF2f19G0/photo.jpg?sz=128", "display_name": "Rain Zhao", "link": "https://stackoverflow.com/users/10415803/rain-zhao"}, "edited": false, "score": 0, "creation_date": 1558599746, "post_id": 56259594, "comment_id": 99156733, "body": "Are you using Webpack? How about writing a custom <a href=\"https://webpack.js.org/contribute/writing-a-loader/\" rel=\"nofollow noreferrer\">loader</a>? If you will introduce special naming(i.e. example.interface.ts) then you can write a loader that will export interface structure - then you can do the rest on run-time."}, {"owner": {"reputation": 31, "user_id": 10415803, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Dvo2Lrbnfi4/AAAAAAAAAAI/AAAAAAAAASk/-bLrF2f19G0/photo.jpg?sz=128", "display_name": "Rain Zhao", "link": "https://stackoverflow.com/users/10415803/rain-zhao"}, "edited": false, "score": 0, "creation_date": 1558707165, "post_id": 56259594, "comment_id": 99201255, "body": "That&#39;s an interesting idea, I&#39;m not too experienced with that. On another note, I found that the conditional-type-checks library I used can also assert if two types are equal and will raise a typescript compile error. I&#39;d be content if it weren&#39;t for the fact that the errors only show up on build and not the jest testing report. And just to make my intention clear, I DO want it to show up in testing because the use case is to see if interface code is changed."}, {"owner": {"reputation": 87, "user_id": 3670601, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/85cc6027809ed02728e4337e88575e5e?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Sar", "link": "https://stackoverflow.com/users/3670601/mike-sar"}, "reply_to_user": {"reputation": 31, "user_id": 10415803, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Dvo2Lrbnfi4/AAAAAAAAAAI/AAAAAAAAASk/-bLrF2f19G0/photo.jpg?sz=128", "display_name": "Rain Zhao", "link": "https://stackoverflow.com/users/10415803/rain-zhao"}, "edited": false, "score": 0, "creation_date": 1558908750, "post_id": 56259594, "comment_id": 99244430, "body": "I&#39;d go for the loader. You need almost no skill than pure brain-power and base js/nodejs knowledge. I already linked a tutorial in the comment above. Then all you have to do is to write your custom logic, that will parse the input file and export a proper module. In that way, you can generate any extra data you want. Had similar case, but not for unit tests, that was the perfect solution. It&#39;s easy, you can do it. But... I started to get suspicious. Why you just can&#39;t go with class/abstract class instead of an interface? And why you have 2 interfaces if you want them to be exactly the same?"}, {"owner": {"reputation": 31, "user_id": 10415803, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Dvo2Lrbnfi4/AAAAAAAAAAI/AAAAAAAAASk/-bLrF2f19G0/photo.jpg?sz=128", "display_name": "Rain Zhao", "link": "https://stackoverflow.com/users/10415803/rain-zhao"}, "edited": false, "score": 0, "creation_date": 1559577013, "post_id": 56259594, "comment_id": 99455838, "body": "My goal is to test whether the code for an interface has been changed, which means I need to compare it to an older version hand-typed. Do you think your solution will allow me to write assert statements in jest testing that run during runtime?"}, {"owner": {"reputation": 87, "user_id": 3670601, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/85cc6027809ed02728e4337e88575e5e?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Sar", "link": "https://stackoverflow.com/users/3670601/mike-sar"}, "reply_to_user": {"reputation": 31, "user_id": 10415803, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Dvo2Lrbnfi4/AAAAAAAAAAI/AAAAAAAAASk/-bLrF2f19G0/photo.jpg?sz=128", "display_name": "Rain Zhao", "link": "https://stackoverflow.com/users/10415803/rain-zhao"}, "edited": false, "score": 0, "creation_date": 1560247041, "post_id": 56259594, "comment_id": 99663789, "body": "Yes, I am concerned. With loader, as I said, you are getting entire source file as plain text and you can export any structure you like. Also, this can be executed multiple times per single file. I imagine a case, where you write a loader that parses the interface file as text and exports some metadata from it - fields declared, their names and types. Since they will be exported, I see no trouble to test them during the runtime. That matches your goal I believe."}, {"owner": {"reputation": 31, "user_id": 10415803, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Dvo2Lrbnfi4/AAAAAAAAAAI/AAAAAAAAASk/-bLrF2f19G0/photo.jpg?sz=128", "display_name": "Rain Zhao", "link": "https://stackoverflow.com/users/10415803/rain-zhao"}, "edited": false, "score": 0, "creation_date": 1560376592, "post_id": 56259594, "comment_id": 99720614, "body": "Thank you for your suggestion, I ended up writing a little script to validate interface and function signatures from the source files instead."}, {"owner": {"reputation": 31, "user_id": 10415803, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Dvo2Lrbnfi4/AAAAAAAAAAI/AAAAAAAAASk/-bLrF2f19G0/photo.jpg?sz=128", "display_name": "Rain Zhao", "link": "https://stackoverflow.com/users/10415803/rain-zhao"}, "edited": false, "score": 0, "creation_date": 1560376848, "post_id": 56259594, "comment_id": 99720674, "body": "The reason why I avoided looking further into the loader is because our senior dev deemed it unsuitable for our project. I don&#39;t believe we use webpack."}], "tags": [], "owner": {"reputation": 87, "user_id": 3670601, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/85cc6027809ed02728e4337e88575e5e?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Sar", "link": "https://stackoverflow.com/users/3670601/mike-sar"}, "is_accepted": false, "score": 2, "last_activity_date": 1558536706, "creation_date": 1558536706, "answer_id": 56259594, "question_id": 56258641, "link": "https://stackoverflow.com/questions/56258641/compare-two-interfaces-at-runtime/56259594#56259594", "title": "Compare two interfaces at runtime", "body": "<p>Short:\nYou can't. But they are hacks/workarounds/ways that can give you similar results, if you can change your requirements.</p>\n\n<p>Long:\nInterfaces doesn't exists at run-time, so there is no way you can extract data about its members and/or compare them. Interfaces are design time tools, for you, for auto-complete etc. They vanish on run-time. However, there are few other options.</p>\n\n<ol>\n<li>You can emit types info and then retrieve it on run-time. I am not aware of any way to get full type info on runtime(like Java or C# reflection, but maybe some tools already exists). With <a href=\"https://www.npmjs.com/package/reflect-metadata\" rel=\"nofollow noreferrer\">this package (reflect-metadata)</a> you can emit constructor params types and then work with them.</li>\n<li>If you have objects as instances of specific interfaces/classes, you can always compare them key by key, using <strong>Object.keys(obj)</strong> - it returns array of field names in given type(doesn't work with interfaces, as I mention, does not exist on runtime).</li>\n<li>Also, <strong>instanceof operator</strong> may be the thing that you need. It will return true if an object is an instace of given class. If you will perform check for both types(say A and B) you want to compare (obj instanceof A &amp;&amp; obj instanceof B), where B extends A and obj is of type B, you will get true as a result of this statement. </li>\n</ol>\n\n<p>Hope you can work you way out. If not, please provide more details or provide that library's name. Regards.</p>\n"}], "owner": {"reputation": 31, "user_id": 10415803, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Dvo2Lrbnfi4/AAAAAAAAAAI/AAAAAAAAASk/-bLrF2f19G0/photo.jpg?sz=128", "display_name": "Rain Zhao", "link": "https://stackoverflow.com/users/10415803/rain-zhao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1558536706, "creation_date": 1558533628, "question_id": 56258641, "link": "https://stackoverflow.com/questions/56258641/compare-two-interfaces-at-runtime", "title": "Compare two interfaces at runtime", "body": "<p>I want to check if two interfaces are equal at runtime and then execute some code. I noticed a library conditional-type-checks that can compare types and returns a true or false type, but I am unsure of how to use it for my case.</p>\n\n<p>This is what I have so far\n<code>type IDialogUnchanged = IsExact&lt;IDialog, IDialogOrig&gt;;</code></p>\n\n<p>which returns a true or false type</p>\n"}, {"tags": ["javascript", "angular", "typescript", "single-page-application", "angular8"], "comments": [{"owner": {"reputation": 3521, "user_id": 4300608, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/YSsa5.png?s=128&g=1", "display_name": "ViqMontana", "link": "https://stackoverflow.com/users/4300608/viqmontana"}, "edited": false, "score": 0, "creation_date": 1558533412, "post_id": 56258467, "comment_id": 99133642, "body": "Do you have <code>@ViewChild(&#39;chatForm&#39;) form</code> defined in app.component.ts?"}, {"owner": {"reputation": 1183, "user_id": 10460880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce9c365b769be33ee994450d0bbb0e0?s=128&d=identicon&r=PG&f=1", "display_name": "Jake12342134", "link": "https://stackoverflow.com/users/10460880/jake12342134"}, "reply_to_user": {"reputation": 3521, "user_id": 4300608, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/YSsa5.png?s=128&g=1", "display_name": "ViqMontana", "link": "https://stackoverflow.com/users/4300608/viqmontana"}, "edited": false, "score": 0, "creation_date": 1558533460, "post_id": 56258467, "comment_id": 99133684, "body": "@Viqas I don&#39;t, where should this be defined?"}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "edited": false, "score": 0, "creation_date": 1558533558, "post_id": 56258467, "comment_id": 99133764, "body": "No need to use ViewChild"}], "answers": [{"comments": [{"owner": {"reputation": 1183, "user_id": 10460880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce9c365b769be33ee994450d0bbb0e0?s=128&d=identicon&r=PG&f=1", "display_name": "Jake12342134", "link": "https://stackoverflow.com/users/10460880/jake12342134"}, "edited": false, "score": 0, "creation_date": 1558533925, "post_id": 56258610, "comment_id": 99134020, "body": "I&#39;ve edited my code and it now works and submits correctly, thanks! There&#39;s a few different things I added, so I&#39;m not sure which one was causing the error. Was it because I wasn&#39;t defining <code>formValue: NgForm</code> in my function? Or was it because I was lacking <code>form-group</code> and <code>form-control</code> in my HTML? Or was it because I had <code>[(ngModel)] = message</code> instead of just <code>ngModel</code>?"}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "reply_to_user": {"reputation": 1183, "user_id": 10460880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce9c365b769be33ee994450d0bbb0e0?s=128&d=identicon&r=PG&f=1", "display_name": "Jake12342134", "link": "https://stackoverflow.com/users/10460880/jake12342134"}, "edited": false, "score": 0, "creation_date": 1558534064, "post_id": 56258610, "comment_id": 99134103, "body": "I think the error come from your <code>[(ngModel)] = message</code> because you are using 2 way binding"}], "tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": true, "score": 1, "last_activity_date": 1558533531, "creation_date": 1558533531, "answer_id": 56258610, "question_id": 56258467, "link": "https://stackoverflow.com/questions/56258467/angular-form-is-undefined-when-submitting-via-ngsubmit/56258610#56258610", "title": "Angular form is undefined when submitting via ngSubmit", "body": "<p>You should get the data by using </p>\n\n<pre><code>form.value.message\n</code></pre>\n\n<p>My example look like this</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>  &lt;form (ngSubmit)=\"onSubmit(registerForm)\" #registerForm=\"ngForm\"&gt;\n    &lt;div class=\"form-group\"&gt;\n      &lt;label for=\"UserName\"&gt;Your email&lt;/label&gt;\n      &lt;input\n        type=\"text\"\n        ngModel\n        class=\"form-control\"\n        id=\"UserName\"\n        name=\"UserName\"\n        required\n      /&gt;\n</code></pre>\n\n<p>Then in my component I can access to the form data like this</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>onSubmit(formValue: NgForm) {\n    const registerModel: AccountModel = {\n      UserName: formValue.value.UserName,\n      Password: formValue.value.Password\n    };\n</code></pre>\n"}], "owner": {"reputation": 1183, "user_id": 10460880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce9c365b769be33ee994450d0bbb0e0?s=128&d=identicon&r=PG&f=1", "display_name": "Jake12342134", "link": "https://stackoverflow.com/users/10460880/jake12342134"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1712, "favorite_count": 0, "accepted_answer_id": 56258610, "answer_count": 1, "score": 2, "last_activity_date": 1576220307, "creation_date": 1558533166, "last_edit_date": 1576220307, "question_id": 56258467, "link": "https://stackoverflow.com/questions/56258467/angular-form-is-undefined-when-submitting-via-ngsubmit", "title": "Angular form is undefined when submitting via ngSubmit", "body": "<p>I have a form outlined in my app.component.html file as below, when I click the Send button to submit the form I get an error in my Javascript saying that the chatForm is undefined. </p>\n\n<p>I've had a look at a few different tutorials and I can't seem to find why this function is not operating as I expect. What am I doing wrong? </p>\n\n<p>Also when I'm submitting the form how do I get the value of the input that is present in my form? I have a name of <code>message</code> defined on the form, how can I use this variable?</p>\n\n<p>app.component.html</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=\"container\"&gt;\n    &lt;h2&gt;Message Form&lt;/h2&gt;\n    &lt;form (ngSubmit)=\"sendMessage(chatForm)\" #chatForm=\"ngForm\"&gt;\n        &lt;div&gt;\n            &lt;label for=\"message\"&gt;Message&lt;/label&gt;\n            &lt;input type=\"text\" id=\"message\" name=\"message\" [(ngModel)]=\"message\" required&gt;\n        &lt;/div&gt;\n        &lt;button type=\"submit\" id=\"sendmessage\" [disabled]=\"!chatForm.valid\"&gt;\n            Send\n        &lt;/button&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>app.component.ts</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>public sendMessage(form): void {\n    console.log(\"Message sent: \" + form.value);\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "recursion"], "comments": [{"owner": {"reputation": 1631, "user_id": 8090014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c25b9fa1f4e1d861cace597ca5004227?s=128&d=identicon&r=PG", "display_name": "ahmeticat", "link": "https://stackoverflow.com/users/8090014/ahmeticat"}, "edited": false, "score": 0, "creation_date": 1558533252, "post_id": 56258348, "comment_id": 99133540, "body": "Do you get right <code>idToFind</code> and <code>rootNode</code> value in <code>findProposedValueById</code> function?"}, {"owner": {"reputation": 1301, "user_id": 6386329, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/10153665322762914/picture?type=large", "display_name": "Florence", "link": "https://stackoverflow.com/users/6386329/florence"}, "reply_to_user": {"reputation": 1631, "user_id": 8090014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c25b9fa1f4e1d861cace597ca5004227?s=128&d=identicon&r=PG", "display_name": "ahmeticat", "link": "https://stackoverflow.com/users/8090014/ahmeticat"}, "edited": false, "score": 0, "creation_date": 1558533379, "post_id": 56258348, "comment_id": 99133626, "body": "yes i get right idToFind and rootNode value"}, {"owner": {"reputation": 1631, "user_id": 8090014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c25b9fa1f4e1d861cace597ca5004227?s=128&d=identicon&r=PG", "display_name": "ahmeticat", "link": "https://stackoverflow.com/users/8090014/ahmeticat"}, "edited": false, "score": 1, "creation_date": 1558533888, "post_id": 56258348, "comment_id": 99133996, "body": "ok,what is <code>getId()</code> and <code>getChildren()</code> function?"}, {"owner": {"reputation": 1301, "user_id": 6386329, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/10153665322762914/picture?type=large", "display_name": "Florence", "link": "https://stackoverflow.com/users/6386329/florence"}, "reply_to_user": {"reputation": 1631, "user_id": 8090014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c25b9fa1f4e1d861cace597ca5004227?s=128&d=identicon&r=PG", "display_name": "ahmeticat", "link": "https://stackoverflow.com/users/8090014/ahmeticat"}, "edited": false, "score": 0, "creation_date": 1558535005, "post_id": 56258348, "comment_id": 99134702, "body": "yes getId() is function which returns the id  and getChildren is a function which returns an array  of children"}], "answers": [{"comments": [{"owner": {"reputation": 1301, "user_id": 6386329, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/10153665322762914/picture?type=large", "display_name": "Florence", "link": "https://stackoverflow.com/users/6386329/florence"}, "edited": false, "score": 0, "creation_date": 1558534314, "post_id": 56258730, "comment_id": 99134278, "body": "that&#39;s what I thought too but after adding the return , I always undefined"}, {"owner": {"reputation": 850, "user_id": 5647164, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rI7wr3vJwvc/AAAAAAAAAAI/AAAAAAAAACo/1UHrOWQwqaE/photo.jpg?sz=128", "display_name": "Coffee-Tea", "link": "https://stackoverflow.com/users/5647164/coffee-tea"}, "reply_to_user": {"reputation": 1301, "user_id": 6386329, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/10153665322762914/picture?type=large", "display_name": "Florence", "link": "https://stackoverflow.com/users/6386329/florence"}, "edited": false, "score": 0, "creation_date": 1558534899, "post_id": 56258730, "comment_id": 99134636, "body": "So there might be 2 more things: 1) you don&#39;t have getId() and getChildren() methods or 2) you really are looking for a node which is not existing in passed root node"}], "tags": [], "owner": {"reputation": 850, "user_id": 5647164, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rI7wr3vJwvc/AAAAAAAAAAI/AAAAAAAAACo/1UHrOWQwqaE/photo.jpg?sz=128", "display_name": "Coffee-Tea", "link": "https://stackoverflow.com/users/5647164/coffee-tea"}, "is_accepted": false, "score": 0, "last_activity_date": 1558533938, "creation_date": 1558533938, "answer_id": 56258730, "question_id": 56258348, "link": "https://stackoverflow.com/questions/56258348/how-to-find-a-node-in-a-tree-in-angular-component/56258730#56258730", "title": "How to find a node in a tree in angular component", "body": "<p>You should put <code>return</code> before recursion call in <code>for of</code> block:</p>\n\n<pre><code>findProposedValueById(idToFind: string, rootNode: TreeNode): TreeNode {\n        if (rootNode.getId() === idToFind) {\n               return rootNode;\n        } else {\n              for (const child of rootNode.getChildren()) {\n                   return this.findProposedValueById(idToFind, child);\n              }\n        }\n   }\n</code></pre>\n"}], "owner": {"reputation": 1301, "user_id": 6386329, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/10153665322762914/picture?type=large", "display_name": "Florence", "link": "https://stackoverflow.com/users/6386329/florence"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 722, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558535378, "creation_date": 1558532804, "last_edit_date": 1558535378, "question_id": 56258348, "link": "https://stackoverflow.com/questions/56258348/how-to-find-a-node-in-a-tree-in-angular-component", "title": "How to find a node in a tree in angular component", "body": "<p>I have an object that is a tree </p>\n\n<pre><code>var data = [\n{\n id: 'topNode',\n parameter: 'parameter',\n children: [\n   {\n       id: 'node1',\n       parameter: 'parameter',\n       children: [\n       {\n           id: 'randomNode_1',\n           parameter: 'parameter'\n       }],\n   {   \n       id: 'node2',\n       parameter: 'parameter'\n       children: [\n           {\n               id: 'randomNode_2',\n               parameter: 'parameter'\n\n           },\n           {\n               id: 'randomNode_3',\n               parameter: 'parameter'\n\n           }\n       ]\n   }\n  ]\n }];\n</code></pre>\n\n<p>How can I go about searching the tree for a particualy node and then return that node ?</p>\n\n<p>I wrote a method : </p>\n\n<pre><code>    findProposedValueById(idToFind: string, rootNode: TreeNode): TreeNode {\n        if (rootNode.getId() === idToFind) {\n               return rootNode;\n        } else {\n              for (const child of rootNode.getChildren()) {\n                   this.findProposedValueById(idToFind, child);\n              }\n        }\n   }\n</code></pre>\n\n<p>I call thid method:</p>\n\n<pre><code>const draggedProposedValue: TreeNode = \n     this.findProposedValueById(event.currentTarget.id, this.proposedValues )\n</code></pre>\n\n<p>But findProposedValueById method returns always undefined</p>\n\n<p>however, I put a breakpoints at 'return rootNode;'</p>\n\n<p>I stop right now at this point and node is good node</p>\n\n<p>EDIT : \nI debugged</p>\n\n<ul>\n<li>if i put a return on call method</li>\n</ul>\n\n<pre><code>      for (const child of rootNode.getChildren()) {\n                  return this.findProposedValueById(idToFind, child);\n              }\n</code></pre>\n\n<p>In fact ,he scans to the end the first branch(node1) and when he's finished, he does not go to the 2nd (node2)</p>\n\n<ul>\n<li>if i don't put a return on call method</li>\n</ul>\n\n<pre><code>      for (const child of rootNode.getChildren()) {\n                  this.findProposedValueById(idToFind, child);\n              }\n</code></pre>\n\n<p>when he founds the node , he don't stopped and continue loop</p>\n"}, {"tags": ["typescript", "ionic4"], "comments": [{"owner": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "edited": false, "score": 0, "creation_date": 1558589769, "post_id": 56258182, "comment_id": 99152512, "body": "The only worse explanation than <code>doesn&#39;t work</code> is no explanation at all. And two way binding wouldn&#39;t work here anyways - <code>[(ngModel)]</code>, I mean it wont&#39; update data in FIrebase, if you are not aware of this"}], "owner": {"reputation": 11, "user_id": 11094816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7d2511455e306dbd60ec02e477064bd?s=128&d=identicon&r=PG&f=1", "display_name": "fsociety", "link": "https://stackoverflow.com/users/11094816/fsociety"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1558536890, "creation_date": 1558532206, "last_edit_date": 1558536890, "question_id": 56258182, "link": "https://stackoverflow.com/questions/56258182/how-to-check-box-from-a-list-using-firebase-data-on-ionic4", "title": "how to check-box from a list using firebase data on ionic4", "body": "<p>i want to create a check-box list using fireBase data on my ionic4 project but it seems that it doesn't work</p>\n\n<p>that's my html page :</p>\n\n<pre><code>&lt;ion-content padding&gt;\n  &lt;ion-list&gt;\n    &lt;ion-item *ngFor=\"let etudiant of etudiants | async\"&gt;\n      &lt;ion-label&gt;{{etudiant.nom}}&lt;/ion-label&gt;\n      &lt;ion-checkbox slot=\"end\" color= \"danger\" [(ngModel)]=\"etudiant.isChecked\"&gt;&lt;/ion-checkbox&gt;\n    &lt;/ion-item&gt;\n  &lt;/ion-list&gt;\n&lt;/ion-content&gt;\n</code></pre>\n\n<p>that's my ts page :</p>\n\n<pre><code>export class AbsencePage implements OnInit {\n\n  etudiant : Observable&lt;any[]&gt;;\n\n  constructor( private db: AngularFirestore, \n                private menu: MenuController, \n                private alertC: AlertController, \n                private route: Router, \n                private modal: ModalController ) \n  {\n    this.etudiant = db.collection('\u00c9tudiants').valueChanges();\n  }\n\n  ngOnInit() {\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "jasmine", "protractor"], "comments": [{"owner": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "edited": false, "score": 0, "creation_date": 1558534209, "post_id": 56258170, "comment_id": 99134218, "body": "Can you show which timeout error you are receiving? There are <a href=\"https://github.com/angular/protractor/blob/master/docs/timeouts.md\" rel=\"nofollow noreferrer\">several different</a> timeouts that can appear"}, {"owner": {"reputation": 486, "user_id": 9815816, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-E6uwt3_fNUk/AAAAAAAAAAI/AAAAAAAAAmI/xkwoKr4IouI/photo.jpg?sz=128", "display_name": "Cem Kocag&#246;z", "link": "https://stackoverflow.com/users/9815816/cem-kocag%c3%b6z"}, "reply_to_user": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "edited": false, "score": 0, "creation_date": 1558534617, "post_id": 56258170, "comment_id": 99134472, "body": "@DublinDev &quot;Failed: script timeout: result was not received in 11 seconds&quot; says my command prompt."}], "answers": [{"comments": [{"owner": {"reputation": 486, "user_id": 9815816, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-E6uwt3_fNUk/AAAAAAAAAAI/AAAAAAAAAmI/xkwoKr4IouI/photo.jpg?sz=128", "display_name": "Cem Kocag&#246;z", "link": "https://stackoverflow.com/users/9815816/cem-kocag%c3%b6z"}, "edited": false, "score": 0, "creation_date": 1558533414, "post_id": 56258314, "comment_id": 99133645, "body": "I dont know if i done well but i searched ExpectedConditions on web and changed my function like that; <code>goToMeasuresPage() {     var EC = protractor.ExpectedConditions;     this.clickShowMoreButton();     let button = element(by.buttonText(&quot;Measures&quot;));     button.click();     let headline = element(by.css(&quot;.container .header h1&quot;));     browser.wait(EC.presenceOf(headline))     return headline;   }</code> but i still have same error"}], "tags": [], "owner": {"reputation": 8360, "user_id": 2103767, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1d0b20ba537ec3d705cf87f48cd190d7?s=128&d=identicon&r=PG&f=1", "display_name": "bhantol", "link": "https://stackoverflow.com/users/2103767/bhantol"}, "is_accepted": false, "score": 0, "last_activity_date": 1558614664, "last_edit_date": 1558614664, "creation_date": 1558532683, "answer_id": 56258314, "question_id": 56258170, "link": "https://stackoverflow.com/questions/56258170/angular-e2e-doesnt-look-for-tag-until-timeout-after-route/56258314#56258314", "title": "Angular e2e doesn&#39;t look for tag until timeout after route", "body": "<p>Add following line after you assign <code>let headline</code> in <code>goToMeasuresOage</code></p>\n\n<p><code>\nbrowser.wait(ExpectedConditions.presenceOf(headline))\n</code></p>\n"}, {"comments": [{"owner": {"reputation": 486, "user_id": 9815816, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-E6uwt3_fNUk/AAAAAAAAAAI/AAAAAAAAAmI/xkwoKr4IouI/photo.jpg?sz=128", "display_name": "Cem Kocag&#246;z", "link": "https://stackoverflow.com/users/9815816/cem-kocag%c3%b6z"}, "edited": false, "score": 0, "creation_date": 1558535999, "post_id": 56259252, "comment_id": 99135327, "body": "i have an interval on page for check every 60 seconds if server has any new data. could this be the reason?"}, {"owner": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "reply_to_user": {"reputation": 486, "user_id": 9815816, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-E6uwt3_fNUk/AAAAAAAAAAI/AAAAAAAAAmI/xkwoKr4IouI/photo.jpg?sz=128", "display_name": "Cem Kocag&#246;z", "link": "https://stackoverflow.com/users/9815816/cem-kocag%c3%b6z"}, "edited": false, "score": 1, "creation_date": 1558536362, "post_id": 56259252, "comment_id": 99135553, "body": "For sure that is the reason. Your page will never stabilize as it will never finish loading.  You have a couple of options to handle that. You can ask the devs to move the setInterval outside the angular zone, <a href=\"https://medium.com/@jarifibrahim/the-curious-case-of-protractor-and-page-synchronization-58b4e81366ac\" rel=\"nofollow noreferrer\">see here</a> or you can disable the check for the angular stability using <code>browser.waitForAngularEnabled(false)</code>. The later option will mean you need to handle all your waits yourself"}, {"owner": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "reply_to_user": {"reputation": 486, "user_id": 9815816, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-E6uwt3_fNUk/AAAAAAAAAAI/AAAAAAAAAmI/xkwoKr4IouI/photo.jpg?sz=128", "display_name": "Cem Kocag&#246;z", "link": "https://stackoverflow.com/users/9815816/cem-kocag%c3%b6z"}, "edited": false, "score": 0, "creation_date": 1558536617, "post_id": 56259252, "comment_id": 99135697, "body": "<a href=\"https://christianliebel.com/2016/11/angular-2-protractor-timeout-heres-fix/\" rel=\"nofollow noreferrer\">Another source</a> regarding the zones."}, {"owner": {"reputation": 486, "user_id": 9815816, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-E6uwt3_fNUk/AAAAAAAAAAI/AAAAAAAAAmI/xkwoKr4IouI/photo.jpg?sz=128", "display_name": "Cem Kocag&#246;z", "link": "https://stackoverflow.com/users/9815816/cem-kocag%c3%b6z"}, "edited": false, "score": 1, "creation_date": 1558537628, "post_id": 56259252, "comment_id": 99136371, "body": "i stoped interval and everything works well now. thank you so much. Im reading this articles now for a better solution than deleting interval. I guess if you hadn&#39;t helped me, I would never have solved the problem."}], "tags": [], "owner": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "is_accepted": true, "score": 1, "last_activity_date": 1558535579, "creation_date": 1558535579, "answer_id": 56259252, "question_id": 56258170, "link": "https://stackoverflow.com/questions/56258170/angular-e2e-doesnt-look-for-tag-until-timeout-after-route/56259252#56259252", "title": "Angular e2e doesn&#39;t look for tag until timeout after route", "body": "<p>After each action on the UI protractor checks an angular property in your site to ensure the page is stable (meaning all the changes and loading have completed on the page).</p>\n\n<p>This issue is caused because Protractor is detecting the angular page has not stabilized after your rotate action. You can try increasing the default wait in your conf to give your app some more time to load:</p>\n\n<pre><code>//30 second timeout\nallScriptsTimeout: 30 * 1000\n</code></pre>\n\n<p>If you still receive the timeout there may be some polling action in your app which is preventing angular from recognizing it has completed loading. See this <a href=\"https://github.com/angular/protractor/issues/4584\" rel=\"nofollow noreferrer\">thread</a> for some additional info</p>\n"}], "owner": {"reputation": 486, "user_id": 9815816, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-E6uwt3_fNUk/AAAAAAAAAAI/AAAAAAAAAmI/xkwoKr4IouI/photo.jpg?sz=128", "display_name": "Cem Kocag&#246;z", "link": "https://stackoverflow.com/users/9815816/cem-kocag%c3%b6z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 56259252, "answer_count": 2, "score": 0, "last_activity_date": 1558614664, "creation_date": 1558532173, "last_edit_date": 1558533075, "question_id": 56258170, "link": "https://stackoverflow.com/questions/56258170/angular-e2e-doesnt-look-for-tag-until-timeout-after-route", "title": "Angular e2e doesn&#39;t look for tag until timeout after route", "body": "<p>I have just started to learn writing e2e tests. Im doing some tests at first page and everything works well (title, an h1 tag text, count of cards on  page). I have buttons on cards at first page for rotate to another page. I'm finding it by buttonText method and do <code>.click()</code>. It rotates the second page like i want. But after that rotating process I'm trying to test an h1 text on second page. But its not working and I get timeout error. where am i doing fault?\nHere is the part of my code;</p>\n\n<p>app-e2e-spec.ts;</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    it('should go to measures page', ()=&gt;{\n        expect(page.goToMeasuresPage()).toEqual(\"Measures\");\n    });\n</code></pre>\n\n<p>app.po.ts;</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    goToMeasuresPage() {\n        this.clickShowMoreButton(); //a function to expand card for show buttons\n        let button = element(by.buttonText(\"Measures\"));\n        button.click();\n        let headline = element(by.css(\".container .header h1\")).getText();\n        return headline;\n     }\n</code></pre>\n\n<p>second page's html;</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>    &lt;div class=\"container\"&gt;\n        &lt;div class=\"header\"&gt;\n            &lt;app-back-button&gt;&lt;/app-back-button&gt;\n            &lt;h1&gt;{{ 'MEASURES' | translate }}&lt;/h1&gt; //this pipe returns \"Measures\" text\n        &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-forms"], "comments": [{"owner": {"reputation": 3390, "user_id": 2518398, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/JT3Ch.jpg?s=128&g=1", "display_name": "Jacques \u30b8\u30e3\u30c3\u30af", "link": "https://stackoverflow.com/users/2518398/jacques-%e3%82%b8%e3%83%a3%e3%83%83%e3%82%af"}, "edited": false, "score": 0, "creation_date": 1558531491, "post_id": 56257889, "comment_id": 99132333, "body": "I don&#39;t see <code>addField</code> in your typescript"}, {"owner": {"reputation": 3335, "user_id": 4812515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-fxpyA0DpmoE/AAAAAAAAAAI/AAAAAAAAABY/XTBU5YBFdW8/photo.jpg?sz=128", "display_name": "alphapilgrim", "link": "https://stackoverflow.com/users/4812515/alphapilgrim"}, "edited": false, "score": 0, "creation_date": 1558531534, "post_id": 56257889, "comment_id": 99132358, "body": "also since your using a form tag, id recommend just making a form group."}, {"owner": {"reputation": 1934, "user_id": 7913153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74a113afcafb3099b52ed8f4199689bc?s=128&d=identicon&r=PG&f=1", "display_name": "Madhan Varadhodiyil", "link": "https://stackoverflow.com/users/7913153/madhan-varadhodiyil"}, "edited": false, "score": 1, "creation_date": 1558531749, "post_id": 56257889, "comment_id": 99132531, "body": "I think it is just <code>addField.valid</code> or <code>addField.invalid</code>."}, {"owner": {"reputation": 1597, "user_id": 5046226, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/59a4d50053658885367e3c0e8cf1bf92?s=128&d=identicon&r=PG&f=1", "display_name": "Tom O&#39;Brien", "link": "https://stackoverflow.com/users/5046226/tom-obrien"}, "reply_to_user": {"reputation": 1934, "user_id": 7913153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74a113afcafb3099b52ed8f4199689bc?s=128&d=identicon&r=PG&f=1", "display_name": "Madhan Varadhodiyil", "link": "https://stackoverflow.com/users/7913153/madhan-varadhodiyil"}, "edited": false, "score": 0, "creation_date": 1558532539, "post_id": 56257889, "comment_id": 99133072, "body": "@MadhanVaradhodiyil That didn&#39;t work..."}], "owner": {"reputation": 1597, "user_id": 5046226, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/59a4d50053658885367e3c0e8cf1bf92?s=128&d=identicon&r=PG&f=1", "display_name": "Tom O&#39;Brien", "link": "https://stackoverflow.com/users/5046226/tom-obrien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1558532880, "creation_date": 1558531334, "last_edit_date": 1558532493, "question_id": 56257889, "link": "https://stackoverflow.com/questions/56257889/angular-form-validation-submit-button-not-disabling-properly", "title": "Angular Form validation submit button not disabling properly", "body": "<p>I have a simple 2 input form using Angular Material form field with error handling. I have a FormControl on each of the input fields. The errors show up properly if there are no values entered for the fields.</p>\n\n<p>However the submit button is never disabled, even when the fields are both empty.</p>\n\n<p>Can anybody see that the problem might be?</p>\n\n<p>Here is my HTML</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>    &lt;form class=\"add-dialog-form\" (ngSubmit)=\"onAddField()\" #addField=\"ngForm\"&gt;\n\n      &lt;mat-form-field&gt;\n        &lt;input matInput placeholder=\"Enter name\" [formControl]=\"name\" required name=\"name\"&gt;\n        &lt;mat-error *ngIf=\"name.invalid\"&gt;{{getNameErrorMessage()}}&lt;/mat-error&gt;\n      &lt;/mat-form-field&gt;\n\n      &lt;mat-form-field&gt;\n        &lt;input matInput placeholder=\"Enter value\" [formControl]=\"value\" required name=\"value\"&gt;\n        &lt;mat-error *ngIf=\"value.invalid\"&gt;{{getValueErrorMessage()}}&lt;/mat-error&gt;\n      &lt;/mat-form-field&gt;\n\n      &lt;div mat-dialog-actions class=\"dialog-button-align\"&gt;\n        &lt;button mat-button (click)=\"onCancel()\"&gt;Cancel&lt;/button&gt;\n        &lt;button mat-button type=\"submit\" [disabled]=\"!addField.form.valid\"&gt;Add Field&lt;/button&gt;\n      &lt;/div&gt;\n\n    &lt;/form&gt;\n</code></pre>\n\n<p>Here is how I have defined the FormControl and the error message handling for it in the component, as per the Angular Material example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    name = new FormControl('', [Validators.required]);\n    value = new FormControl('', [Validators.required]);\n\n    getNameErrorMessage() {\n      return this.name.hasError('required') ? 'You must enter a value' : '';\n    }\n\n    getValueErrorMessage() {\n      return this.value.hasError('required') ? 'You must enter a value' : '';\n    }\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "lodash"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 11242073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5804ab41c4ed53c1569b31ac7c83553c?s=128&d=identicon&r=PG&f=1", "display_name": "tearswep", "link": "https://stackoverflow.com/users/11242073/tearswep"}, "edited": false, "score": 0, "creation_date": 1558531838, "post_id": 56257943, "comment_id": 99132593, "body": "i assume you meant const total = _.sum(numbers);"}, {"owner": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "reply_to_user": {"reputation": 55, "user_id": 11242073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5804ab41c4ed53c1569b31ac7c83553c?s=128&d=identicon&r=PG&f=1", "display_name": "tearswep", "link": "https://stackoverflow.com/users/11242073/tearswep"}, "edited": false, "score": 0, "creation_date": 1558531918, "post_id": 56257943, "comment_id": 99132653, "body": "Ah, yes. Quite."}], "tags": [], "owner": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "is_accepted": true, "score": 1, "last_activity_date": 1558531936, "last_edit_date": 1558531936, "creation_date": 1558531502, "answer_id": 56257943, "question_id": 56257843, "link": "https://stackoverflow.com/questions/56257843/sum-valuesx-if-xs-values-are-not-all-numbers/56257943#56257943", "title": "_.sum(_.values(x)) ,if x&#39;s values are not all numbers", "body": "<p>Filter out the non-numbers.</p>\n\n<pre><code>const obj = { name: \"myobject\", MON: 3, TUE: 5 };\nconst numbers = _.filter(obj, x =&gt; typeof x === 'number');\nconst total = _.sum(numbers);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 449, "user_id": 2833434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/403c8d8fcaba447f545e5ac85848a812?s=128&d=identicon&r=PG&f=1", "display_name": "Shail_bee", "link": "https://stackoverflow.com/users/2833434/shail-bee"}, "is_accepted": false, "score": 1, "last_activity_date": 1558532979, "creation_date": 1558532979, "answer_id": 56258412, "question_id": 56257843, "link": "https://stackoverflow.com/questions/56257843/sum-valuesx-if-xs-values-are-not-all-numbers/56258412#56258412", "title": "_.sum(_.values(x)) ,if x&#39;s values are not all numbers", "body": "<p>Just in case anyone need it, Adding regular way to do this apart from @mbojko answer:</p>\n\n<pre><code>const obj = { name: \"myobject\", MON: 3, TUE: 5 };\nvar total = 0;\n_.forOwn(obj, function(value) {\n  if(typeof value === 'number')\n    total += value;\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": false, "score": 0, "last_activity_date": 1558535549, "creation_date": 1558535549, "answer_id": 56259240, "question_id": 56257843, "link": "https://stackoverflow.com/questions/56257843/sum-valuesx-if-xs-values-are-not-all-numbers/56259240#56259240", "title": "_.sum(_.values(x)) ,if x&#39;s values are not all numbers", "body": "<p>You can use <code>_.sumBy()</code> and return 0 for non numeric values:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const obj = { name:\"myobject\", MON: 3, TUE: 5}\r\n\r\nconst result = _.sumBy(_.values(obj), v =&gt; _.isNumber(v) ? v : 0)\r\n\r\nconsole.log(result)</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.11/lodash.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 55, "user_id": 11242073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5804ab41c4ed53c1569b31ac7c83553c?s=128&d=identicon&r=PG&f=1", "display_name": "tearswep", "link": "https://stackoverflow.com/users/11242073/tearswep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 56257943, "answer_count": 3, "score": 0, "last_activity_date": 1558535549, "creation_date": 1558531193, "question_id": 56257843, "link": "https://stackoverflow.com/questions/56257843/sum-valuesx-if-xs-values-are-not-all-numbers", "title": "_.sum(_.values(x)) ,if x&#39;s values are not all numbers", "body": "<p>I have an object similar to this :</p>\n\n<pre><code>obj = { name:\"myobject\", MON: 3, TUE: 5}\n</code></pre>\n\n<p>I am trying to do a <code>_.sum(_.values(obj))</code> and push that value into an array <code>this.hours.push(_.sum(_.values(obj)))</code> .</p>\n\n<p>I am expecting an array like this <code>[8]</code>(the reason I want to store it inside array is because I might want to parse multiple objects in the future). How do I achieve this?</p>\n"}, {"tags": ["angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 88, "user_id": 8283857, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212024718266639/picture?type=large", "display_name": "Rob Rombouts", "link": "https://stackoverflow.com/users/8283857/rob-rombouts"}, "edited": false, "score": 0, "creation_date": 1558531059, "post_id": 56257744, "comment_id": 99131995, "body": "can you share your code so we have a context?"}], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 10388625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb411b997d9a8cb3cbf86714719b0a69?s=128&d=identicon&r=PG&f=1", "display_name": "Khael Bubniak", "link": "https://stackoverflow.com/users/10388625/khael-bubniak"}, "is_accepted": false, "score": 0, "last_activity_date": 1558531175, "creation_date": 1558531175, "answer_id": 56257835, "question_id": 56257744, "link": "https://stackoverflow.com/questions/56257744/html-background-image-buttons/56257835#56257835", "title": "HTML Background image. Buttons", "body": "<p>You may try to set the z-index to a higher value, and lower the z-index of the background div that y</p>\n"}], "owner": {"reputation": 1, "user_id": 11340525, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ReNvu8NlYHU/AAAAAAAAAAI/AAAAAAAAFI4/aRk65PpPgNk/photo.jpg?sz=128", "display_name": "Hiruko Saya", "link": "https://stackoverflow.com/users/11340525/hiruko-saya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1558531175, "creation_date": 1558530943, "question_id": 56257744, "link": "https://stackoverflow.com/questions/56257744/html-background-image-buttons", "title": "HTML Background image. Buttons", "body": "<p>I have a page with a title and 3 buttons. \nI put the background image.But when I put the background, the buttons doesn't work. What should I do?</p>\n"}, {"tags": ["javascript", "typescript", "redux"], "comments": [{"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1558591970, "post_id": 56257622, "comment_id": 99153218, "body": "Probably you would have separated your code for a large piece of software, meaning that you would probably not have duplicates in a single file, if that is the case well then destructure on import, it that is not the case, well, then why not make a &quot;dynamic&quot; action type, just creating a function that makes the same type based on the parameter (btw, don&#39;t know what I did wrong to get your serial dv yesterday, suggesting to structure your code better isn&#39;t a harsh comment)"}], "answers": [{"tags": [], "owner": {"reputation": 3660, "user_id": 2085502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35944d07bd203fe68ed3781347412474?s=128&d=identicon&r=PG", "display_name": "Christoph L&#252;tjen", "link": "https://stackoverflow.com/users/2085502/christoph-l%c3%bctjen"}, "is_accepted": false, "score": 1, "last_activity_date": 1558540181, "last_edit_date": 1558540181, "creation_date": 1558532242, "answer_id": 56258196, "question_id": 56257622, "link": "https://stackoverflow.com/questions/56257622/is-there-a-way-to-destructure-values-inside-a-javascript-object/56258196#56258196", "title": "Is there a way to destructure values inside a javascript object?", "body": "<p>You can create a module (= file) containing your constants and then export them as constants:</p>\n\n<p>FetchDataContants.ts</p>\n\n<pre><code>export const REQUESTED = 'REQUESTED';\nexport const MYCONST = 'just an example';\n</code></pre>\n\n<p>then in another file\u2026</p>\n\n<pre><code>import { REQUESTED, MYCONST } from './FetchDataConstants';\n\nrequested() {\n  return { type: REQUESTED }\n}\n</code></pre>\n\n<p>or import all like so...</p>\n\n<pre><code>import * as c from './FetchDataConstants';\n\nrequested() {\n  return { type: c.REQUESTED }\n}\n</code></pre>\n"}], "owner": {"reputation": 522, "user_id": 262459, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ade08f9d431f75a0180b0ce2a7745d15?s=128&d=identicon&r=PG&f=1", "display_name": "vhflat", "link": "https://stackoverflow.com/users/262459/vhflat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1558540181, "creation_date": 1558530629, "last_edit_date": 1558531356, "question_id": 56257622, "link": "https://stackoverflow.com/questions/56257622/is-there-a-way-to-destructure-values-inside-a-javascript-object", "title": "Is there a way to destructure values inside a javascript object?", "body": "<p>Lets say I have an object with constants</p>\n\n<pre><code>const FETCH_DATA = {\n  REQUESTED: 'FETCH_DATA_REQUESTED',\n}\n</code></pre>\n\n<p>And now I want to use them in another object</p>\n\n<pre><code>const fetchData = {\n  requested() {\n    return {\n      type: FETCH_DATA.REQUESTED\n    };\n  },\n}\n</code></pre>\n\n<p>But I don't want to retype the whole constant name each time.</p>\n\n<p>Is it possible to do destructure? Something like this, only this doesn't work.</p>\n\n<pre><code>const fetchData = {\n  {REQUESTED}: FETCH_DATA,\n  requested() {\n    return {\n      type: REQUESTED\n    }\n  }\n}\n</code></pre>\n\n<p>I can't put it outside the object due to REQUESTED being too general for the global scope as I have multiple REQUESTED constants.</p>\n"}, {"tags": ["html", "angular", "typescript", "angular-material"], "answers": [{"tags": [], "owner": {"reputation": 1606, "user_id": 7179294, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y7K7Q.jpg?s=128&g=1", "display_name": "Ala Abid", "link": "https://stackoverflow.com/users/7179294/ala-abid"}, "is_accepted": true, "score": 1, "last_activity_date": 1558532419, "creation_date": 1558532419, "answer_id": 56258243, "question_id": 56257264, "link": "https://stackoverflow.com/questions/56257264/displaying-hidden-div-element-at-specific-index-using-angular-material-table/56258243#56258243", "title": "Displaying hidden Div element at specific index using Angular Material table", "body": "<p><strong><a href=\"https://stackblitz.com/edit/angular-jfjlx3?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">HERE'S A WORKING STACKBLITZ</a></strong> <br> I created an array <code>expandedCols : boolean[] = [];</code> that keeps track of the state (expanded or not) of your div, when you add a row, I also add one to that array with default value false, when you put ? I just change the value at index i to true.</p>\n\n<pre><code>&lt;ng-container matColumnDef=\"additionalCode\" class=\"parent\" &gt;\n      &lt;th mat-header-cell *matHeaderCellDef&gt;Additional Code&lt;/th&gt;\n      &lt;td mat-cell *matCellDef=\"let element; let i = index\" class=\"parent\" &gt;\n        &lt;mat-form-field class=\"type\"&gt;\n          &lt;input matInput (keyup)=\"toggleLookup($event, i)\" autocomplete=\"off\" (keydown.ArrowDown)=\"onDown()\" placeholder=\"Enter ?\"&gt;\n        &lt;/mat-form-field&gt;\n        &lt;div *ngIf=\"expandedCols[i] == true\" class=\"child\"&gt;Yah it expanded\n          &lt;button (click)=\"expanded = false\"&gt;Close&lt;/button&gt;\n        &lt;/div&gt;\n      &lt;/td&gt;\n&lt;/ng-container&gt;\n</code></pre>\n\n<p>TS:</p>\n\n<pre><code>addRow() {\n    this.doAddRow();\n    this.expanded = false;\n    this.expandedCols.push(false);\n  }\n\ntoggleLookup(event: any, i): void {\n    if (event.target.value !== '?') {\n      return;\n    }\n    event.target.value = '';\n    this.expanded = true;\n    this.expandedCols[i] = true;\n  }\n</code></pre>\n\n<p>You should also pay attention to removing rows, do splice, you get the idea.</p>\n"}, {"tags": [], "owner": {"reputation": 547, "user_id": 6634337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5fUjO.jpg?s=128&g=1", "display_name": "Petr Pokrovskiy", "link": "https://stackoverflow.com/users/6634337/petr-pokrovskiy"}, "is_accepted": false, "score": 1, "last_activity_date": 1558533547, "creation_date": 1558533547, "answer_id": 56258615, "question_id": 56257264, "link": "https://stackoverflow.com/questions/56257264/displaying-hidden-div-element-at-specific-index-using-angular-material-table/56258615#56258615", "title": "Displaying hidden Div element at specific index using Angular Material table", "body": "<p>The proper way to solve your issue is to use row local state - so put your attribute inside column collection (new column is hidden). This way you will have an opportunity to manage <code>expanded</code> property of specific row. Here is your <a href=\"https://stackblitz.com/edit/angular-uuja9j?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">updated stackblitz.</a></p>\n"}], "owner": {"reputation": 285, "user_id": 7554047, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/36f09ae775321728b08a533a2d974dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Ross", "link": "https://stackoverflow.com/users/7554047/ross"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 56258243, "answer_count": 2, "score": 0, "last_activity_date": 1558533547, "creation_date": 1558529563, "question_id": 56257264, "link": "https://stackoverflow.com/questions/56257264/displaying-hidden-div-element-at-specific-index-using-angular-material-table", "title": "Displaying hidden Div element at specific index using Angular Material table", "body": "<p>I have a mat-table which has the following functionality: -</p>\n\n<p>(1) Add / Remove rows</p>\n\n<p>(2) Add data into a row using various controls (combo-box, text box, etc).</p>\n\n<p>One of the controls (Addition Information) is a text box that when a ? is entered displays a hidden 'div' element that will eventually be used to hold a list of data.</p>\n\n<p>The issue I have is that if I add say 3 rows and enter a ? into the 3rd row the hidden 'div' display on all 3 rows. </p>\n\n<p>I need a way to somehow index each row added to the table and only display the 'div' element of that row. </p>\n\n<p>Unfortunately my knowledge of HTML is limited and I am fairly new to Angular as well.   </p>\n\n<p>I have created a StackBlitz solution demoing my issue. <a href=\"https://stackblitz.com/edit/angular-zaobfh\" rel=\"nofollow noreferrer\">demo</a></p>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable"], "comments": [{"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 1, "creation_date": 1558529612, "post_id": 56257222, "comment_id": 99131022, "body": "The link you posted defines it as <code>type ObservedValueOf&lt;O&gt; = O;</code> so no there&#39;s no difference at all. It seems to exist purely for enhancing readability / creating self-documenting code so that you can make it more clear what a given type represents."}, {"owner": {"reputation": 2798, "user_id": 2979938, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/IV6dO.jpg?s=128&g=1", "display_name": "Combine", "link": "https://stackoverflow.com/users/2979938/combine"}, "reply_to_user": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1558533039, "post_id": 56257222, "comment_id": 99133379, "body": "I noticed that on this page for the ObservedValueOf is also written: ObservedValueOf  - TYPE-ALIAS. I think you are very right and I now get the idea. So the two types seems to be equal and actually the same thing! Thank you @p.s.w.g !"}], "answers": [{"tags": [], "owner": {"reputation": 743, "user_id": 6663016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cd121220ab034a07324d1cf31304372?s=128&d=identicon&r=PG&f=1", "display_name": "KiraAG", "link": "https://stackoverflow.com/users/6663016/kiraag"}, "is_accepted": false, "score": 0, "last_activity_date": 1558580247, "creation_date": 1558580247, "answer_id": 56267489, "question_id": 56257222, "link": "https://stackoverflow.com/questions/56257222/what-is-the-diffrence-between-types-observableobservedvalueoftype-vs-observa/56267489#56267489", "title": "What is the diffrence between types Observable&lt;ObservedValueOf&lt;Type&gt;&gt; vs Observable&lt;Type&gt; in TypeScript?", "body": "<p>Actually that link hasn't been updated it seems. If you check the <a href=\"https://github.com/ReactiveX/rxjs/blob/6.5.2/src/internal/types.ts#L100-L101\" rel=\"nofollow noreferrer\">sourcecode</a>, this is what it shows <code>export type ObservedValueOf&lt;O&gt; = O extends ObservableInput&lt;infer T&gt; ? T : never;</code>.</p>\n\n<p>So if you check its usage <a href=\"https://github.com/ReactiveX/rxjs/blob/41888efcd1f34de2ee1eda0bd778d4fe0ab4263e/src/internal/observable/combineLatest.ts#L227\" rel=\"nofollow noreferrer\">here</a>, its mostly used to assert a type for your input values(source observables) also for resultSelectors.  </p>\n"}], "owner": {"reputation": 2798, "user_id": 2979938, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/IV6dO.jpg?s=128&g=1", "display_name": "Combine", "link": "https://stackoverflow.com/users/2979938/combine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 392, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558580247, "creation_date": 1558529431, "question_id": 56257222, "link": "https://stackoverflow.com/questions/56257222/what-is-the-diffrence-between-types-observableobservedvalueoftype-vs-observa", "title": "What is the diffrence between types Observable&lt;ObservedValueOf&lt;Type&gt;&gt; vs Observable&lt;Type&gt; in TypeScript?", "body": "<p>In typescript @ an angular 2+ project - the IDE gives me warnings that the return type of a function can be either the type <strong><code>Observable&lt;ObservedValueOf&lt;Type&gt;&gt;</code></strong> or the type <strong><code>Observable&lt;Type&gt;</code></strong><br>\nI searched the rxjs docs for the <a href=\"https://rxjs-dev.firebaseapp.com/api/index/type-alias/ObservedValueOf\" rel=\"nofollow noreferrer\">ObservedValueOf</a> but there is not much info about that.</p>\n\n<p>Can you please tell me is the difference between the two types?</p>\n"}, {"tags": ["javascript", "typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 4532, "user_id": 4450187, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4bd15ffbc419f4b78e83d561b028bb66?s=128&d=identicon&r=PG&f=1", "display_name": "messerbill", "link": "https://stackoverflow.com/users/4450187/messerbill"}, "edited": false, "score": 0, "creation_date": 1558529612, "post_id": 56257209, "comment_id": 99131021, "body": "have u tried <code>npm install @types&#47;bpmn-js</code> first?"}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "reply_to_user": {"reputation": 4532, "user_id": 4450187, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4bd15ffbc419f4b78e83d561b028bb66?s=128&d=identicon&r=PG&f=1", "display_name": "messerbill", "link": "https://stackoverflow.com/users/4450187/messerbill"}, "edited": false, "score": 0, "creation_date": 1558529697, "post_id": 56257209, "comment_id": 99131069, "body": "@messerbill unfortunately there are no typings for this library"}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "reply_to_user": {"reputation": 4532, "user_id": 4450187, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4bd15ffbc419f4b78e83d561b028bb66?s=128&d=identicon&r=PG&f=1", "display_name": "messerbill", "link": "https://stackoverflow.com/users/4450187/messerbill"}, "edited": false, "score": 0, "creation_date": 1558531430, "post_id": 56257209, "comment_id": 99132287, "body": "@messerbill solved, look below!"}, {"owner": {"reputation": 4532, "user_id": 4450187, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4bd15ffbc419f4b78e83d561b028bb66?s=128&d=identicon&r=PG&f=1", "display_name": "messerbill", "link": "https://stackoverflow.com/users/4450187/messerbill"}, "edited": false, "score": 0, "creation_date": 1558553684, "post_id": 56257209, "comment_id": 99143985, "body": "ah okay, i guess you also could use your first version if you write your include statement like so: <code>import {BpmnJs} from &#39;bpmn-js&#39;</code> - using <code>{}</code> in import statements means that you do <b>not</b> want to import an <code>default export</code> but a simple <code>export</code>"}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "reply_to_user": {"reputation": 4532, "user_id": 4450187, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4bd15ffbc419f4b78e83d561b028bb66?s=128&d=identicon&r=PG&f=1", "display_name": "messerbill", "link": "https://stackoverflow.com/users/4450187/messerbill"}, "edited": false, "score": 0, "creation_date": 1558554456, "post_id": 56257209, "comment_id": 99144319, "body": "@messerbill I had tried, but Webpack was throwing a &quot;not a constructor&quot; error for <code>new BpmnJS()</code>"}], "answers": [{"tags": [], "owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "is_accepted": true, "score": 0, "last_activity_date": 1558530946, "creation_date": 1558530946, "answer_id": 56257746, "question_id": 56257209, "link": "https://stackoverflow.com/questions/56257209/typescript-declarations-for-javascript-module/56257746#56257746", "title": "TypeScript declarations for JavaScript module", "body": "<p>Pretty simple, I was missing <code>export default</code>, or better, the <code>default</code> part.</p>\n\n<pre><code>declare module 'bpmn-js' {\n  export default class BpmnJS {\n    constructor(param?: { container: string });\n    ...\n  }\n}\n</code></pre>\n\n<p>Now this works too</p>\n\n<pre><code>import BpmnJS from 'bpmn-js';\n</code></pre>\n"}], "owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 478, "favorite_count": 0, "accepted_answer_id": 56257746, "answer_count": 1, "score": 0, "last_activity_date": 1558530946, "creation_date": 1558529400, "question_id": 56257209, "link": "https://stackoverflow.com/questions/56257209/typescript-declarations-for-javascript-module", "title": "TypeScript declarations for JavaScript module", "body": "<p>I recently started using a Node library called <code>bpmn-js</code> (<a href=\"https://www.npmjs.com/package/bpmn-js\" rel=\"nofollow noreferrer\">npmjs.com)</a>.<br>\nIt is written in JavaScript, and I'd like to have typings. Thus, I've began reading about <code>d.ts</code> files.</p>\n\n<p>I created this folder structure</p>\n\n<pre><code>webapp\n  @types\n     bpmn-js\n       index.d.ts\n</code></pre>\n\n<p>With a simple content</p>\n\n<pre><code>declare module 'bpmn-js' {\n  export class BpmnJS {\n    constructor();\n  }\n}\n</code></pre>\n\n<p>But this doesn't seem to work.</p>\n\n<hr>\n\n<p>\"Before\" typings, I was able to import the object I needed using</p>\n\n<pre><code>import BpmnJS from 'bpmn-js';\n</code></pre>\n\n<p>And I was able to instantiate it using</p>\n\n<pre><code>new BpmnJS();\n</code></pre>\n\n<hr>\n\n<p>How can I get the typings file to be recognized?<br>\nI'm using WebStorm <code>2019.1.*</code>.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1606, "user_id": 7179294, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y7K7Q.jpg?s=128&g=1", "display_name": "Ala Abid", "link": "https://stackoverflow.com/users/7179294/ala-abid"}, "edited": false, "score": 0, "creation_date": 1558528354, "post_id": 56256765, "comment_id": 99130266, "body": "You can wrap your child component inside a div and put the *ngIf in that div, I dont see a reason why it should be here."}, {"owner": {"reputation": 4016, "user_id": 2202748, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9tSQE.jpg?s=128&g=1", "display_name": "Joel Joseph", "link": "https://stackoverflow.com/users/2202748/joel-joseph"}, "edited": false, "score": 0, "creation_date": 1558528416, "post_id": 56256765, "comment_id": 99130302, "body": "@elzoy are you trying to create a custom reusable modal  component"}], "answers": [{"tags": [], "owner": {"reputation": 4467, "user_id": 3246930, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/n22FI.jpg?s=128&g=1", "display_name": "elzoy", "link": "https://stackoverflow.com/users/3246930/elzoy"}, "is_accepted": false, "score": 0, "last_activity_date": 1558532829, "creation_date": 1558532829, "answer_id": 56258359, "question_id": 56256765, "link": "https://stackoverflow.com/questions/56256765/cant-invoke-a-function-using-template-variable/56258359#56258359", "title": "Cant invoke a function using template variable", "body": "<p>The answer was to create a stub component for the modal and declare it in spec file.</p>\n"}], "owner": {"reputation": 4467, "user_id": 3246930, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/n22FI.jpg?s=128&g=1", "display_name": "elzoy", "link": "https://stackoverflow.com/users/3246930/elzoy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558532829, "creation_date": 1558527888, "question_id": 56256765, "link": "https://stackoverflow.com/questions/56256765/cant-invoke-a-function-using-template-variable", "title": "Cant invoke a function using template variable", "body": "<pre><code>@Component({\n  selector: 'modal',\n  ...\n})\nexport class SimpleModal {\n  modalOpen: boolean;\n\n  isModalOpen(): boolean {\n    return this.modalOpen;\n  }\n}\n</code></pre>\n\n<pre><code>&lt;modal #modalRef&gt;\n  &lt;div *ngIf=\"modalRef.isModalOpen()\"&gt;...&lt;/div&gt;\n&lt;/modal&gt;\n</code></pre>\n\n<p>Error (tests):\n<code>TypeError: jit_nodeValue_9(...).isModalOpen is not a function\n</code></p>\n\n<p>I'm guessing that those function weren't created yet? There is no problem to check <code>*ngIf=\"modalRef.modalOpen</code> but what if <code>modalOpen</code> was a private field? Do I Have to create an external method in component that uses the modal to check there by ViewChild whether the modal is open?</p>\n"}, {"tags": ["typescript", "function", "parameters"], "comments": [{"owner": {"reputation": 20729, "user_id": 1470607, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/6CA0X.png?s=128&g=1", "display_name": "Etheryte", "link": "https://stackoverflow.com/users/1470607/etheryte"}, "edited": false, "score": 0, "creation_date": 1558528842, "post_id": 56256741, "comment_id": 99130534, "body": "While this is a good question, I would for a moment reflect on the reason, why do you need this? Why are the arguments required if they don&#39;t affect the output?"}, {"owner": {"reputation": 4707, "user_id": 761861, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/qO36K.jpg?s=128&g=1", "display_name": "prmph", "link": "https://stackoverflow.com/users/761861/prmph"}, "reply_to_user": {"reputation": 20729, "user_id": 1470607, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/6CA0X.png?s=128&g=1", "display_name": "Etheryte", "link": "https://stackoverflow.com/users/1470607/etheryte"}, "edited": false, "score": 0, "creation_date": 1558529089, "post_id": 56256741, "comment_id": 99130673, "body": "@Nit That is my point; there should be a type error to guard against someone creating such a function, but there isn&#39;t"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1558530037, "post_id": 56256741, "comment_id": 99131300, "body": "I think it&#39;s a duplicate of the above, let me know if you think the asnwer does not apply and I can reopen"}], "owner": {"reputation": 4707, "user_id": 761861, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/qO36K.jpg?s=128&g=1", "display_name": "prmph", "link": "https://stackoverflow.com/users/761861/prmph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "closed_date": 1558529990, "answer_count": 0, "score": 1, "last_activity_date": 1558528967, "creation_date": 1558527818, "last_edit_date": 1558528967, "question_id": 56256741, "link": "https://stackoverflow.com/questions/56256741/typescript-does-not-enforce-function-parameters", "closed_reason": "Duplicate", "title": "Typescript does not enforce function parameters", "body": "<p>The snippet below does NOT throw a type an error:</p>\n\n<pre><code>type Func = (args: { a: number, b: string }) =&gt; boolean\nlet fn: Func = () =&gt; true\n</code></pre>\n\n<p>Why is that? How can I enforce that every function of type Func must have all the parameters declared?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 7665, "user_id": 894532, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/epFXH.jpg?s=128&g=1", "display_name": "Maihan Nijat", "link": "https://stackoverflow.com/users/894532/maihan-nijat"}, "edited": false, "score": 0, "creation_date": 1558527973, "post_id": 56256717, "comment_id": 99130074, "body": "Do you have the ID in token? You need to send ID with the token and then pass it in the <code>this.router.navigate([&#39;&#47;events&#39;]);</code>"}, {"owner": {"reputation": 41, "user_id": 9373773, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Meik F", "link": "https://stackoverflow.com/users/9373773/meik-f"}, "reply_to_user": {"reputation": 7665, "user_id": 894532, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/epFXH.jpg?s=128&g=1", "display_name": "Maihan Nijat", "link": "https://stackoverflow.com/users/894532/maihan-nijat"}, "edited": false, "score": 0, "creation_date": 1558528070, "post_id": 56256717, "comment_id": 99130121, "body": "@MaihanNijat That&#39;s the false route meaning it just redirects to the &#39;main page&#39;. It&#39;s the true route that is the issue. The ID is pulled from my paramMap and it works as long as I have no guard on."}, {"owner": {"reputation": 109, "user_id": 6155892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a43fe6d388335f93785d54aff08f0a0?s=128&d=identicon&r=PG&f=1", "display_name": "gunjit", "link": "https://stackoverflow.com/users/6155892/gunjit"}, "edited": false, "score": 0, "creation_date": 1558530038, "post_id": 56256717, "comment_id": 99131302, "body": "can you recreate this problem in stackblitz ?"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 9373773, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Meik F", "link": "https://stackoverflow.com/users/9373773/meik-f"}, "edited": false, "score": 0, "creation_date": 1558530991, "post_id": 56257541, "comment_id": 99131945, "body": "So, if I wanted just this one path; 4, to have the guard; how would I need to refactor my method of getting the ID?"}], "tags": [], "owner": {"reputation": 547, "user_id": 6634337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5fUjO.jpg?s=128&g=1", "display_name": "Petr Pokrovskiy", "link": "https://stackoverflow.com/users/6634337/petr-pokrovskiy"}, "is_accepted": true, "score": 0, "last_activity_date": 1558531663, "last_edit_date": 1558531663, "creation_date": 1558530434, "answer_id": 56257541, "question_id": 56256717, "link": "https://stackoverflow.com/questions/56256717/activatedroute-authguard-issue-getting-id-from-parammap/56257541#56257541", "title": "ActivatedRoute &amp; AuthGuard - issue getting ID from paramMap", "body": "<p>You have two same routes in your routing configuration:</p>\n\n<pre><code>..\n  {path: 'events/4', component: EventDetailsComponent, canActivate: [AuthGuard]},\n  {path: 'events/:id', component: EventDetailsComponent},\n..\n</code></pre>\n\n<p>First route with <code>4</code> does not have <code>id</code> param. So when you open this route (<code>&lt;base_href&gt;/events/4</code>) you will get default value for number - <code>0</code></p>\n\n<p>So just replace <code>4</code> with <code>:id</code> and remove second route.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>To implement guard only for <code>id === 4</code>, change your <code>canActivate</code> method a little bit:</p>\n\n<pre><code>canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable&lt;boolean&gt; | Promise&lt;boolean&gt; | boolean {\n\n   const id = +route.paramMap.get('id');\n\n   if(id !== 4)\n    return true;\n\n    ......\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 9373773, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Meik F", "link": "https://stackoverflow.com/users/9373773/meik-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "accepted_answer_id": 56257541, "answer_count": 1, "score": 1, "last_activity_date": 1558531663, "creation_date": 1558527758, "question_id": 56256717, "link": "https://stackoverflow.com/questions/56256717/activatedroute-authguard-issue-getting-id-from-parammap", "title": "ActivatedRoute &amp; AuthGuard - issue getting ID from paramMap", "body": "<p>I'm currently developing a website for an exam project, however I'm running into the issue of my code not returning the proper ID when I'm using my AuthGuard.</p>\n\n<p>event-details.component.ts</p>\n\n<pre><code>  getEvent(): void {\n    const id = +this.route.snapshot.paramMap.get('id');\n    this.eventService.getEvent(id)\n      .subscribe(event =&gt; this.event = event);\n      console.log(id);\n  }\n</code></pre>\n\n<p>app-routing.module.ts</p>\n\n<pre><code>  {path: 'events', component: EventsComponent},\n  {path: 'events/4', component: EventDetailsComponent, canActivate: [AuthGuard]},\n  {path: 'events/:id', component: EventDetailsComponent},\n</code></pre>\n\n<p>admin.guard.ts</p>\n\n<pre><code> canActivate(): boolean {\n      console.log('In guard, canActivate() called');\n      var token = localStorage.getItem('token');\n      var key = localStorage.getItem('key');\n      var decodedtoken = this.jwtHelper.decodeToken(token);\n      console.log(decodedtoken);\n      var tokenExpired:boolean = this.jwtHelper.isTokenExpired(JSON.stringify(token));\n      console.log(\"tokenExpired was:\" + tokenExpired);\n      if (key=='ACCEPTED'&amp;&amp;!tokenExpired)\n        return true; \n      else{\n        this.router.navigate(['/events']);\n        return false;\n      }\n\n  }\n</code></pre>\n\n<p>I'm expecting to get the id 4 logged in the console when I'm logged in with a non-expired token, as well as it displaying the right event in this case.\nCurrently it shows \"0\" as output.</p>\n"}, {"tags": ["javascript", "typescript", "testing", "automated-tests", "testcafe"], "answers": [{"comments": [{"owner": {"reputation": 243, "user_id": 10884973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p17hE.jpg?s=128&g=1", "display_name": "D.Rooij", "link": "https://stackoverflow.com/users/10884973/d-rooij"}, "edited": false, "score": 0, "creation_date": 1558532404, "post_id": 56258059, "comment_id": 99132965, "body": "Thanks for your answer, I&#39;ve got it to work, and the reason it did not work was there was no action following.. My best guess is that TestCafe scan&#39;s the test case on forehand and if no test driver is called, the test will pass automatically without getting inside the external function."}, {"owner": {"reputation": 761, "user_id": 7162423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c955eb6656041829dd05c5fc10b673b?s=128&d=identicon&r=PG&f=1", "display_name": "Helen Dikareva", "link": "https://stackoverflow.com/users/7162423/helen-dikareva"}, "edited": false, "score": 1, "creation_date": 1558597880, "post_id": 56258059, "comment_id": 99155765, "body": "It&#39;s not quite correct. The TestCafe test function (the second argument of <code>test</code>) is asynchronous.  It means that if you await some function execution, the test will wait until this function finishes.  And the use of the <a href=\"https://devexpress.github.io/testcafe/documentation/test-api/test-code-structure.html#test-controller\" rel=\"nofollow noreferrer\">TestCafe test controller</a> isn&#39;t necessary for this behavior. I updated Artem&#39;s answer to show possible options of the <code>setupEnvironment</code> function implementation."}], "tags": [], "owner": {"reputation": 856, "user_id": 3083359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ba2d36117af2ce07518fc8bc1611591?s=128&d=identicon&r=PG&f=1", "display_name": "Artem", "link": "https://stackoverflow.com/users/3083359/artem"}, "is_accepted": false, "score": 3, "last_activity_date": 1558531849, "creation_date": 1558531849, "answer_id": 56258059, "question_id": 56256710, "link": "https://stackoverflow.com/questions/56256710/custom-initialize-function-not-executing-in-testcafe/56258059#56258059", "title": "Custom initialize function not executing in TestCafe", "body": "<p>I don't know why nothing happens in the first case. I think that no one can give you an answer without the page to test the provided function. In the second case, you forget to call the render function. It's defined inside the setupEnvironment, but never called.</p>\n"}], "owner": {"reputation": 243, "user_id": 10884973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p17hE.jpg?s=128&g=1", "display_name": "D.Rooij", "link": "https://stackoverflow.com/users/10884973/d-rooij"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574851205, "creation_date": 1558527732, "last_edit_date": 1574851205, "question_id": 56256710, "link": "https://stackoverflow.com/questions/56256710/custom-initialize-function-not-executing-in-testcafe", "title": "Custom initialize function not executing in TestCafe", "body": "<p>I'm creating an initialize function to prepare almost every test I make in TestCafe. But when running the code, it does not get triggered. </p>\n\n<p>I've tried:<br>\n- Executing the testdriver without the function: Works<br>\n- Wrapping it inside a function without if statements: Works<br>\n- Wrapping it inside a function with if statements: Does not work<br>\n- Wrapping the if statements inside smaller functions and executing them within a self-executing function inside the init script: Does not work. </p>\n\n<pre><code>export async function setupEnvironment(Method: Method, Action?: Action, Frame: number = 43, Viewport: Viewport = 1) {\n    await u.selectFrame(Frame);\n\n    if (Method === \"\") {\n        await t.click()} \n    else if (Method === \"\") {\n        await t.click()} \n    else if (Method === \"\") {\n        await t.click()} \n    else if (Method === \"\") {\n        await t.click()} \n\n    if (Action === \"\") {\n        await t.click();\n    } else if (Action === \"\") {\n        await t.click();\n    }\n}\n</code></pre>\n\n<p>or </p>\n\n<pre><code>export async function setupEnvironment(Method: Method, Action?: Action, Frame: number = 43, Viewport: Viewport = 1) {\n\n    async function selectAction(){\n        if (Action === \"\") {\n            await t.click();\n        } else if (Action === \"\") {\n            await t.click();\n        }\n    }\n\n    async function selectMethod() {\n        if (Method === \"\") {\n            await t.click()} \n        else if (Method === \"\") {\n            await t.click()} \n        else if (Method === \"\") {\n            await t.click()} \n        else if (Method === \"\") {\n            await t.click()} \n    }\n\n    (async function render(){\n        selectMethod()\n        await u.selectFrame(Frame);\n        selectAction()\n    }) \n}\n\ntest('name test case', async (t) =&gt; {\n      await i.setupEnvironment(Method., Action.);\n});\n\n</code></pre>\n\n<p>Expected behavior: \nCode executes</p>\n\n<p>Actual behavior:\nNothing happens</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 5911, "user_id": 1688785, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/07b2da937aa23792045dff6ff19556eb?s=128&d=identicon&r=PG", "display_name": "Caramiriel", "link": "https://stackoverflow.com/users/1688785/caramiriel"}, "edited": false, "score": 0, "creation_date": 1558527864, "post_id": 56256617, "comment_id": 99130013, "body": "Related? <a href=\"https://stackoverflow.com/questions/42537727/empty-interface-allow-any-object\" title=\"empty interface allow any object\">stackoverflow.com/questions/42537727/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5184, "user_id": 1083764, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e084347ce721f3828d1bcdf1606337ff?s=128&d=identicon&r=PG", "display_name": "SoWhat", "link": "https://stackoverflow.com/users/1083764/sowhat"}, "is_accepted": false, "score": 0, "last_activity_date": 1558527825, "creation_date": 1558527825, "answer_id": 56256744, "question_id": 56256617, "link": "https://stackoverflow.com/questions/56256617/some-problems-with-the-optional-properties-in-typescript-interface/56256744#56256744", "title": "Some problems with the optional properties in typescript interface", "body": "<p>Its got nothing to do with the parameter being optional. Atleast one of the properties must match. Since size is the only property present in the interface, it must be present in the object you're trying to cast. If I add another property and populate it instead of size, it works</p>\n\n<pre><code>interface LabelledValue {\n    size?: number;\n    something: string;\n}\nfunction printLabel(labelledObj: LabelledValue) {\n}\nlet myObj = {label: \"Size 10 Object\", something: \"Hello\"};\nprintLabel(myObj);\n</code></pre>\n\n<p>See <a href=\"https://som.sh/fd6f6\" rel=\"nofollow noreferrer\">https://som.sh/fd6f6</a></p>\n"}, {"comments": [{"owner": {"reputation": 5911, "user_id": 1688785, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/07b2da937aa23792045dff6ff19556eb?s=128&d=identicon&r=PG", "display_name": "Caramiriel", "link": "https://stackoverflow.com/users/1688785/caramiriel"}, "edited": false, "score": 1, "creation_date": 1558528048, "post_id": 56256757, "comment_id": 99130111, "body": "In TypeScript 2.4 and onward: <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-4.html#weak-type-detection\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/release-notes/&hellip;</a>"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1558527868, "creation_date": 1558527868, "answer_id": 56256757, "question_id": 56256617, "link": "https://stackoverflow.com/questions/56256617/some-problems-with-the-optional-properties-in-typescript-interface/56256757#56256757", "title": "Some problems with the optional properties in typescript interface", "body": "<p>This behavior was introduced by this <a href=\"https://github.com/microsoft/TypeScript/pull/3842\" rel=\"nofollow noreferrer\">PR</a> a while ago. The basic idea is that if a type has only optional properties it is considered 'weak'. This is a problem as any other type would be compatible with a weak type. Given this issue it was decided that at least one property must match with the weak type for assignment to be allowed. From the PR:</p>\n\n<blockquote>\n  <p>A weak type is one which has only optional properties and is not empty. Because these types are assignable from anything except types with matching non-assignable properties, they are very weakly typechecked. The simple fix here is to require that a type is only assignable to a weak type if they are not completely disjoint.</p>\n</blockquote>\n"}], "owner": {"reputation": 45, "user_id": 7224013, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--JuLgUQhUZg/AAAAAAAAAAI/AAAAAAAAABs/cDNIm5q41ow/photo.jpg?sz=128", "display_name": "Jackie Anxis", "link": "https://stackoverflow.com/users/7224013/jackie-anxis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 56256757, "answer_count": 2, "score": 1, "last_activity_date": 1558527868, "creation_date": 1558527421, "question_id": 56256617, "link": "https://stackoverflow.com/questions/56256617/some-problems-with-the-optional-properties-in-typescript-interface", "title": "Some problems with the optional properties in typescript interface", "body": "<p>I am a beginner in TypeScript, when I learn the Interface in TypeScript, I find some features that I don't understand.</p>\n\n<p>I have try the codes followed in the playground: <a href=\"https://www.typescriptlang.org/play/\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/play/</a></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface LabelledValue {\n  size?: number;\n}\nfunction printLabel(labelledObj: LabelledValue) {\n}\nlet myObj = {label: \"Size 10 Object\"};\nprintLabel(myObj); // error: Type '{ label: string; }' has no properties in common with type 'LabelledValue'.\n</code></pre>\n\n<p>However, when I set the <code>size</code> property in <code>myObj</code>, it works, no error occurs.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface LabelledValue {\n  size?: number;\n}\nfunction printLabel(labelledObj: LabelledValue) {\n}\nlet myObj = {label: \"Size 10 Object\", size: 10};\nprintLabel(myObj);\n</code></pre>\n\n<p>As I know, <code>size</code> is just an optional property, why is it necessary, and when I don't set it, there is an error occured.</p>\n"}, {"tags": ["javascript", "typescript", "sinon"], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 8183085, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LrdCil88H40/AAAAAAAAAAI/AAAAAAAAAK0/WhKhZ8h2-zw/photo.jpg?sz=128", "display_name": "Roman Valihura", "link": "https://stackoverflow.com/users/8183085/roman-valihura"}, "is_accepted": false, "score": 0, "last_activity_date": 1558526194, "creation_date": 1558526194, "answer_id": 56256283, "question_id": 56256001, "link": "https://stackoverflow.com/questions/56256001/sinon-and-mocking-default-properties/56256283#56256283", "title": "Sinon and mocking default properties", "body": "<p>The Sinon only can't cover all your requirements. You need some tools to mock your import, like <code>genMockFromModule</code> in Jest or <a href=\"https://github.com/thlorenz/proxyquire\" rel=\"nofollow noreferrer\">proxyquire</a></p>\n\n<p>Sinon is a pretty convenient way to generate stub, but the tool knows nothing about your module structure. And you should find a way how to pass your Sinon-mocked class to the module that you are testing.</p>\n"}, {"tags": [], "owner": {"reputation": 768, "user_id": 916995, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/mVwCF.jpg?s=128&g=1", "display_name": "a11smiles", "link": "https://stackoverflow.com/users/916995/a11smiles"}, "is_accepted": false, "score": 1, "last_activity_date": 1558672658, "creation_date": 1558672658, "answer_id": 56285936, "question_id": 56256001, "link": "https://stackoverflow.com/questions/56256001/sinon-and-mocking-default-properties/56285936#56285936", "title": "Sinon and mocking default properties", "body": "<p>I ended up having to use <code>ts-mock-imports</code> since I was using webpack.  Thanks!</p>\n"}], "owner": {"reputation": 768, "user_id": 916995, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/mVwCF.jpg?s=128&g=1", "display_name": "a11smiles", "link": "https://stackoverflow.com/users/916995/a11smiles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1558672658, "creation_date": 1558525076, "question_id": 56256001, "link": "https://stackoverflow.com/questions/56256001/sinon-and-mocking-default-properties", "title": "Sinon and mocking default properties", "body": "<p>Let's say I have the following files/code:</p>\n\n<h3>Person.ts</h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class Person {\n    id: string;\n    firstName: string;\n    lastName: string;\n    isEmployed: boolean = true;\n    isManager: boolean = false;\n\n    public static Name = ():string =&gt; this.firstName + ' ' + this.lastName;\n}\n</code></pre>\n\n<h3>WorkHistory.ts</h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Person } from './person';\n\nexport class WorkHistory {\n   public propA: string;\n   public propB: string;\n\n   public getHistory = (p: Person): any =&gt; { \n      // do something\n      // return history\n   }; \n}\n</code></pre>\n\n<h3>Formatter.ts</h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Person } from './person';\nimport { WorkHistory } from './workHistory';\n\nexport class Formatter {\n   public formatWork(p: Person) {\n       let wh: WorkHistory = new WorkHistory();\n       let whData = wh.getHistory(p);\n\n       // do formatting\n       // return formatting\n   }\n}\n</code></pre>\n\n<p>I'm trying to write a unit test for the <code>formatWork</code> method.  However, I can't figure out how to stub out <code>WorkHistory</code> and its properties.</p>\n\n<p>Here's what I've got so far:</p>\n\n<h3>Formatter.spec.ts</h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>describe('formatWork', () =&gt; {\n   let mockWorkHistory = {\n      propA: '',\n      propB: ''\n   };\n   let sandbox;\n   let formatter;\n\n   beforeEach(() =&gt; {\n      sandbox = sinon.createSandbox();\n      sandbox.stub(WorkHistory, \"prototype\").value(mockWorkHistory);\n   });\n\n   afterEach(() =&gt; {\n      sandbox.restore();\n   });\n\n   it('should do something', () =&gt; {\n       // create person object\n       formatter = new Formatter();\n       var result = formatter.formatWork(person);\n\n       console.log(result);\n   });\n});\n</code></pre>\n\n<p>I've tried stubs and <code>sandbox.replace</code>, however, I can't seem to overwrite <code>WorkHistory</code> default properties or methods.</p>\n\n<p>As it stands, the above throws an exception in Phantom 2.1.1:<br>\n<code>TypeError: Attempting to change enumerable attribute of unconfigurable property.</code></p>\n\n<p>Additionally, the <code>console.log</code> in my fixture shows all of the default properties for <code>WorkHistory</code> instead of the overwritten values.</p>\n\n<p>What am I missing?  What am I doing wrong?</p>\n"}, {"tags": ["typescript", "angular7"], "answers": [{"tags": [], "owner": {"reputation": 319, "user_id": 10718989, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bZpcb.png?s=128&g=1", "display_name": "Mehdi Bahra", "link": "https://stackoverflow.com/users/10718989/mehdi-bahra"}, "is_accepted": true, "score": 1, "last_activity_date": 1558532708, "creation_date": 1558532708, "answer_id": 56258321, "question_id": 56255907, "link": "https://stackoverflow.com/questions/56255907/angular-rest-service-not-returning-value-in-first-call/56258321#56258321", "title": "angular rest service not returning value in first call", "body": "<p>The subscribe method call in your observable is asynchronous so its normal to have this kind of behavior ,in order to make it work yu should emit your value inside the callback function when yout subscribing like follow :</p>\n\n<pre><code>this.restService.getSummery(CATID,SUBID).subscribe(data =&gt; this.change.emit(data));\n</code></pre>\n\n<p>but in preference yu should subscribe to your observale in your component rather than the service itself without the need to use a subject or event emitter.</p>\n"}], "owner": {"reputation": 13, "user_id": 6633411, "user_type": "registered", "profile_image": "https://graph.facebook.com/1157666000972958/picture?type=large", "display_name": "Abhishek Kashyap", "link": "https://stackoverflow.com/users/6633411/abhishek-kashyap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 1, "accepted_answer_id": 56258321, "answer_count": 1, "score": 1, "last_activity_date": 1558532708, "creation_date": 1558524740, "question_id": 56255907, "link": "https://stackoverflow.com/questions/56255907/angular-rest-service-not-returning-value-in-first-call", "title": "angular rest service not returning value in first call", "body": "<p>I have 3 component \n1. LeftMenuComponent\n2. AppComponent\n3. SummeryComponent</p>\n\n<p>Also, I have two service one for rest call and another for share data to the component. (RestService, ComponentService)</p>\n\n<p>On selection, the list from LeftMenuComponent I am calling loadService() function and from there I am calling emit contains function from the service summeryComponent. which subscribe the restservice to pull the data and emit it.</p>\n\n<p>All working fine but I have to click twice. i need data to be cahange and reflect in summerycomponent in one click.</p>\n\n<p>I try to use rxjs/Subscription also but same result. </p>\n\n<p>Left-memu-component.html</p>\n\n<pre><code>&lt;mat-list-item&gt;&lt;a routerLink=\"/summery\" (click)=\"loadService($event, subitem.CATID, subitem.ID)\"&gt;{{subitem.NAME}}&lt;/a&gt;&lt;/mat-list-item&gt;\n</code></pre>\n\n<p>Left-Menu-Component.ts</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { RestService } from '../rest.service';\nimport { Category } from '../models/category.model';\nimport { ArrayType } from '@angular/compiler/src/output/output_ast';\nimport { map } from 'rxjs/internal/operators/map';\nimport { ComponentService } from '../component.service';\n@Component({\n  selector: 'app-left-menu',\n  templateUrl: './left-menu.component.html',\n  styleUrls: ['./left-menu.component.css']\n})\n\nexport class LeftMenuComponent implements OnInit {\n showFiller = false;\n  constructor(private restService:RestService,private componentService:ComponentService) { }\n  localdata:Category[];\n\n  ngOnInit() {\n    this.restService.getAllDepartment().subscribe(data=&gt; this.localdata = data );\n  }\n\n  loadService(event,CATID,SUBID?){\n    console.log(CATID);\n    console.log(SUBID);\n    this.componentService.getSummery(CATID,SUBID);\n  }\n\n\n}\n</code></pre>\n\n<p>summery-component.html</p>\n\n<pre><code>&lt;div class=\"container-fluid example-sidenav-content\"&gt;\n  &lt;div&gt;\n    &lt;div class=\"row mt-4\"&gt;\n      &lt;div class=\"col-lg-3\" *ngFor=\"let item of summery\"&gt;\n\n        &lt;mat-card class=\"example-card\"&gt;\n          &lt;mat-card-header&gt;\n            &lt;div mat-card-avatar class=\"example-header-image\"&gt;&lt;/div&gt;\n            &lt;mat-card-title&gt;{{item.TITLE}}&lt;/mat-card-title&gt;\n            &lt;mat-card-subtitle&gt;{{item.SUBTITLE}}&lt;/mat-card-subtitle&gt;\n          &lt;/mat-card-header&gt;\n          &lt;img mat-card-image src=\"https://material.angular.io/assets/img/examples/shiba2.jpg\" alt=\"Photo of a Shiba Inu\"&gt;\n          &lt;mat-card-content&gt;\n            &lt;p&gt;\n              {{item.CONTENT}}\n            &lt;/p&gt;\n          &lt;/mat-card-content&gt;\n          &lt;mat-card-actions&gt;\n            &lt;button mat-button&gt;LIKE&lt;/button&gt;\n            &lt;button mat-button&gt;SHARE&lt;/button&gt;\n          &lt;/mat-card-actions&gt;\n        &lt;/mat-card&gt;\n\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Summery-Component.ts</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { RestService } from '../rest.service';\nimport { Summery } from '../models/summery.model';\nimport { ComponentService } from '../component.service';\n\n@Component({\n  selector: 'app-summery',\n  templateUrl: './summery.component.html',\n  styleUrls: ['./summery.component.css']\n})\nexport class SummeryComponent implements OnInit {\n\n\n  constructor(private restService:RestService,private componentService:ComponentService) { }\n  summery:Summery[];\n  ngOnInit() {\n    if(this.summery==null)\n    {\n      this.restService.getSummery().subscribe(data=&gt;this.summery=data);\n    }\n    this.componentService.change.subscribe(change=&gt;\n    {\n      this.summery = change;\n    }\n    );\n\n\n\n  }\n\n}\n</code></pre>\n\n<p>component-service.ts</p>\n\n<pre><code>import { Injectable, Output, EventEmitter } from '@angular/core';\nimport { Summery } from './models/summery.model'\nimport { RestService } from './rest.service';\nimport { BehaviorSubject } from 'rxjs';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ComponentService {\n\n  summery : Summery[]=null;\n\n\n  constructor(private restService:RestService) { \n    this.summery = null;\n    console.log(this.summery);\n  }\n\n\n@Output() change:EventEmitter&lt;Summery[]&gt; = new EventEmitter();\n\n  setSummery(CATID,SUBID?){\n    this.restService.getSummery(CATID,SUBID).subscribe(data=&gt;this.summery=data);\n    console.log(\"chekc\");\n  }\n   getSummery(CATID,SUBID?){\n     this.restService.getSummery(CATID,SUBID).subscribe(data=&gt;this.summery=data);\n    this.change.emit(this.summery);\n    console.log(\"chekc\");\n    return this.summery;\n  }\n\n}\n</code></pre>\n\n<p>rest-service.ts</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpErrorResponse, HttpParams } from '@angular/common/http';\nimport { Observable, of } from 'rxjs';\nimport { map, catchError, tap } from 'rxjs/operators';\nimport { first } from 'rxjs/internal/operators/first';\nimport { Category} from './models/category.model';\nimport { error } from 'util';\nimport { Summery } from './models/summery.model';\nimport { Summary } from '@angular/compiler';\n// import { Category } from 'src/app/models/category.model';\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class RestService {\n  public _url: string = \"http://localhost:52343/api/\";\n\n\n  constructor(private http: HttpClient) { }\n  getAcess(username:string, password:string): Observable&lt;any&gt;{\n\n    let main_url = this._url + \"User\";\n    let params = new HttpParams();\n    params= params.append('username', username);\n    params= params.append('password', password);\n    console.log(main_url);\n    return this.http.get(main_url,{ params: params });\n  }\n\n  getAllDepartment():Observable&lt;Category[]&gt;{\n\n    let main_url = this._url + \"getProjectList\";\n    console.log(main_url);\n\n     return this.http.get(main_url).pipe(map((data:Category[])=&gt; data.map((item:Category) =&gt; new Category(item.ID, item.Name,item.SubDetail))));\n\n  }\n\n  getSummery(cid? :number,sid? :number):Observable&lt;Summery[]&gt;{\n    let main_url = this._url +  \"getSummery\";\n    let params = new HttpParams();\n    if(cid !=null){\n      params= params.append('cid', cid.toString());\n    }\n    if(sid !=null){\n      params= params.append('sid', sid.toString());\n    }\n    console.log(main_url);\n    // return this.http.get(main_url,{ params: params }).pipe(map((data:Summery[])=&gt; data.map((item:Summery)=&gt; new Summery(\n    //   item.ID,\n    //   item.SUBID,\n    //   item.CATID,\n    //   item.HEADER,\n    //   item.TITLE,\n    //   item.SUBTITLE,\n    //   item.MEDIA,\n    //   item.CONTENT\n    // ))));\n    return this.http.get(main_url,{ params: params });\n\n  }\n}\n\n</code></pre>\n\n<p>NO ERROR ONLY NOT WORKING IN ONE CLICK.</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 803, "user_id": 2965537, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3f30ad895ec511aceff59c018bbd910b?s=128&d=identicon&r=PG", "display_name": "Arjan", "link": "https://stackoverflow.com/users/2965537/arjan"}, "is_accepted": false, "score": 0, "last_activity_date": 1558534184, "creation_date": 1558534184, "answer_id": 56258802, "question_id": 56255439, "link": "https://stackoverflow.com/questions/56255439/mapeditserviceconfig-only-refers-to-a-type-but-is-being-used-as-a-value-here/56258802#56258802", "title": "&#39;MapEditServiceConfig&#39; only refers to a type, but is being used as a value here", "body": "<p>In your list of interfaces the <code>AppConfig</code> extends there is this part:</p>\n\n<pre><code> {\n   \"map.defaultLocation\":MapDataModels.MapLocation;\n   \"app.imageBasePath\": string;\n},\n</code></pre>\n\n<p>that is interpreted by the compiler as the actual definition of the <code>AppConfig</code> interface.</p>\n\n<p>The comma is a syntax error, the compiler expects a declaration.</p>\n\n<p>After that follows a new statement <code>MapEditServiceConfig</code> which is interpreted by the compiler as an literal value.</p>\n"}], "owner": {"reputation": 13, "user_id": 9635077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56ba2b3a3e4aa58c1b314a168720572a?s=128&d=identicon&r=PG&f=1", "display_name": "rajkesh", "link": "https://stackoverflow.com/users/9635077/rajkesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1558534184, "creation_date": 1558523183, "question_id": 56255439, "link": "https://stackoverflow.com/questions/56255439/mapeditserviceconfig-only-refers-to-a-type-but-is-being-used-as-a-value-here", "title": "&#39;MapEditServiceConfig&#39; only refers to a type, but is being used as a value here", "body": "<p>Not sure why this error is prompting for MapEditServiceConfig , saying MapEditServiceConfig refers to a type , also what do we understand as \nMapEditServiceConfig {}, as MapEditServiceConfig is a interface, what this bracket says?</p>\n\n<pre><code>export interface MapEditServiceConfig extends AppCredentialsConfig {\n    readonly \"moderation.authServiceId\": string;\n    readonly \"maphub.mc.endpoint\": string;\n}\n\nexport interface AppConfig\n    extends MapDataServiceConfig,\n        GeocoderConfig,\n        LoginServiceConfig,\n        ScbeServiceConfig,\n        MapJobServiceConfig,\n        TaskProviderServiceConfig,\n        YourXYZSpaceServiceConfig {\n\n                       \"map.defaultLocation\":MapDataModels.MapLocation;\n            \"app.imageBasePath\": string;\n        },\n        MapEditServiceConfig {}  // Getting the refers to a //type , but use as a value here\n</code></pre>\n"}, {"tags": ["typescript", "object"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 0, "last_activity_date": 1558523336, "creation_date": 1558523336, "answer_id": 56255477, "question_id": 56255212, "link": "https://stackoverflow.com/questions/56255212/how-to-omit-delete-many-properties-from-an-object/56255477#56255477", "title": "How to Omit &quot;DELETE&quot; many properties from an Object?", "body": "<p>Your issue has little to do with typescript. The types work out as you expect them to for <code>omitMany</code>, the only problem is that at run-time it does not remove all the properties you expect it to and this is cause by the fact that you call <code>omitOne</code> on <code>entity</code> instead of the previous result. This requires some type assertions unfortunately, but it will work: </p>\n\n<pre><code>type Omit&lt;T, K&gt; = Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;\n\nlet omitOne = &lt;T, K extends keyof T&gt;(entity: T, prop: K): Omit&lt;T, K&gt; =&gt; {\n    const { [prop]: deleted, ...newState } = entity\n    return newState\n}\n\nlet omitMany = &lt;T, K extends keyof T&gt;(entity: T, props: K[]): Omit&lt;T, K&gt; =&gt; {\n    let result = entity as Omit&lt;T, K&gt;\n    props.forEach(prop =&gt; {\n        result = omitOne(result, prop as unknown as keyof Omit&lt;T, K&gt;) as Omit&lt;T, K&gt;\n    })\n    return result\n}\n\nlet o = omitMany({ x: 1, y: 2, z: 3, r: 4 }, ['x', 'y'])\nconsole.log(o)\n</code></pre>\n\n<p><a href=\"https://typescript-play.js.org/#code/C4TwDgpgBA8gtgS2AHgCoBooGkB8UC8UACggMYDWamAogB6kA2ArgCYTLkQgD2AZlBmw4cAKBEMIwKN0TAYAO2iEq2KBFrAI8lgGconHv1Q4AFFuBIQALgGYwAJ25gbWAJQ34SFbgJ4A3iJQQVCk3PI6Un5QANoOTgC6NmwSmiyYAHSZigDuAMrAAIaaUAC+BGryFqCBwfaSTPbyUDn5RRAiJWIp0rIAsgXyIOXeahpauvpcfAKm5pY2gnFgOi7R8e6wst54+P41Qd11OkwMUoRzoFAFep4ogrj7UEs66bzc9tQFpAAWJku+UACwWBUCOJzOPSQCggJjBpzsjjAVz0THk5Hk3GyTWuk0Mmy89xwrmR+LumAewJKrkedWADSacOAHS6kmk5RkSH6gxMUVoNgAjJhrFAAEyYABeNgAzJh7DYACylTDRADktBVmBVIBV6xEoXC3Ak6QY3AA5iZuK4gA\" rel=\"nofollow noreferrer\">Playground</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11534547"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 391, "favorite_count": 0, "accepted_answer_id": 56255477, "answer_count": 1, "score": 3, "last_activity_date": 1558523336, "creation_date": 1558522435, "question_id": 56255212, "link": "https://stackoverflow.com/questions/56255212/how-to-omit-delete-many-properties-from-an-object", "title": "How to Omit &quot;DELETE&quot; many properties from an Object?", "body": "<p>I have two methods that return the following types <code>Pick&lt;T, K&gt;</code> and <code>Omit&lt;T, K&gt;</code> where Omit is <code>type Omit&lt;T, K extends keyof T&gt; = Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;</code>. I have some trouble when it comes to removing multiple properties from an object.</p>\n\n<p>I have a method <code>pickOne</code> that selects one property from an object, a method <code>pickMany</code> that picks multiple properties from an object and a method omitOne that removes one property from an Object. I would like to have a OmitMany method to remove multiple properties from an Object, but I got stuck when fixing the type errors in the method. </p>\n\n<p>Implementation of the methods: </p>\n\n<pre><code>export let pickOne = &lt;T, K extends keyof T&gt;(entity: T, props: K ): Pick&lt;T, K&gt; =&gt; {\n    return { [props] : entity[props] } as Pick&lt;T, K&gt;\n}\n\nexport let pickMany = &lt;T, K extends keyof T&gt;(entity: T, props: K[]) =&gt; {\n   return props.reduce((s, prop) =&gt; (s[prop] = entity[prop], s) , {} as Pick&lt;T, K&gt;)\n}\n\nexport let omitOne = &lt;T, K extends keyof T&gt;(entity: T, prop: K): Omit&lt;T, K&gt; =&gt; {\n    const { [prop]: deleted, ...newState} = entity\n    return newState\n}\n\n// And the OmitMany for so far I tried, the problem is with storing the entity\n// in a temporary variable. This function only omits the last property in the\n// the array. I would like an implementation simular to pickMany.\nexport let omitMany = &lt;T, K extends keyof T&gt;(entity: T, props: K[]): Omit&lt;T, K&gt; =&gt; {\n    let result = entity as Omit&lt;T, K&gt;\n    props.forEach(prop =&gt; {\n        result = omitOne(entity, prop)\n    })\n    return result\n}\n</code></pre>\n\n<p>I expect the output of <code>omitMany({x: 1, y: 2, z: 3, r: 4}, ['x', 'y'])</code> to be an object of type <code>{z: number, r: number}</code>, but right know the output is an object of type <code>{x: number, z: number, r: number}</code></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 694, "user_id": 5659133, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d09a09b4b8e79e8699370fcbf9533a4e?s=128&d=identicon&r=PG&f=1", "display_name": "OfficalMesut", "link": "https://stackoverflow.com/users/5659133/officalmesut"}, "edited": false, "score": 0, "creation_date": 1558522601, "post_id": 56255149, "comment_id": 99127252, "body": "You can create dynamic component when the response is come, then pass variables to the component. Whenever you want, you can destroy the component, access all public variables, interact with the component."}, {"owner": {"reputation": 1190, "user_id": 3367818, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0qHpO.png?s=128&g=1", "display_name": "noamyg", "link": "https://stackoverflow.com/users/3367818/noamyg"}, "edited": false, "score": 0, "creation_date": 1558522965, "post_id": 56255149, "comment_id": 99127435, "body": "Please show the whole code in your parent and child components. Assuming that you declared <code>@Input</code> like @Dino mentioned, it should work."}], "answers": [{"comments": [{"owner": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 0, "creation_date": 1558531946, "post_id": 56255227, "comment_id": 99132669, "body": "This only works if <code>ids</code> is of type <code>Observable&lt;T&gt;</code>"}], "tags": [], "owner": {"reputation": 112, "user_id": 3995024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caf385227992e6a3a19871523b6e5c7e?s=128&d=identicon&r=PG&f=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/3995024/piyush"}, "is_accepted": false, "score": 0, "last_activity_date": 1558522468, "creation_date": 1558522468, "answer_id": 56255227, "question_id": 56255149, "link": "https://stackoverflow.com/questions/56255149/how-to-pass-value-one-component-to-another-component-after-getting-response-from/56255227#56255227", "title": "How to pass value one component to another component after getting response from an API in Angular 7", "body": "<p>did u try putting async in the view ?</p>\n\n<pre><code>&lt;app-chart [ids]=\"ids | async\"&gt;&lt;/app-chart&gt;\n</code></pre>\n\n<p>more about async usage <a href=\"https://angular.io/api/common/AsyncPipe\" rel=\"nofollow noreferrer\">https://angular.io/api/common/AsyncPipe</a></p>\n"}, {"comments": [{"owner": {"reputation": 1700, "user_id": 2976424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9QSG4.jpg?s=128&g=1", "display_name": "Kumaresan Perumal", "link": "https://stackoverflow.com/users/2976424/kumaresan-perumal"}, "edited": false, "score": 0, "creation_date": 1558523933, "post_id": 56255233, "comment_id": 99127944, "body": "yeah , after getting response from an api, i want to execute a method in child component. how to do it please help me ?"}], "tags": [], "owner": {"reputation": 6079, "user_id": 6694645, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/RWjiK.jpg?s=128&g=1", "display_name": "Dino", "link": "https://stackoverflow.com/users/6694645/dino"}, "is_accepted": false, "score": 1, "last_activity_date": 1558522822, "last_edit_date": 1558522822, "creation_date": 1558522477, "answer_id": 56255233, "question_id": 56255149, "link": "https://stackoverflow.com/questions/56255149/how-to-pass-value-one-component-to-another-component-after-getting-response-from/56255233#56255233", "title": "How to pass value one component to another component after getting response from an API in Angular 7", "body": "<p>The most common way for communicating between parent-child components is using the <a href=\"https://angular.io/api/core/Input\" rel=\"nofollow noreferrer\">@Input</a> and <a href=\"https://angular.io/api/core/Output\" rel=\"nofollow noreferrer\">@Output</a> decorators.</p>\n\n<p>For your specific case you have to use <a href=\"https://angular.io/api/core/Input\" rel=\"nofollow noreferrer\">@Input</a> decorator</p>\n\n<p>In your child component app-chart you would declare it like this:</p>\n\n<pre><code>@Input() ids: number; // Or which ever the type you have\n</code></pre>\n\n<p>In your example you are getting the value from a service. Angular will automatically take care of updating the @Input element in your child component when ever it changes in a parent one. If you don't have to execute any methods on input's change (in child component) you don't have to do anything else (Like subscription, async pipe, etc.). </p>\n"}, {"tags": [], "owner": {"reputation": 4450, "user_id": 11270840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/um2Zv.jpg?s=128&g=1", "display_name": "Ghoul Ahmed", "link": "https://stackoverflow.com/users/11270840/ghoul-ahmed"}, "is_accepted": false, "score": 0, "last_activity_date": 1558524573, "creation_date": 1558524573, "answer_id": 56255849, "question_id": 56255149, "link": "https://stackoverflow.com/questions/56255149/how-to-pass-value-one-component-to-another-component-after-getting-response-from/56255849#56255849", "title": "How to pass value one component to another component after getting response from an API in Angular 7", "body": "<p>try with this</p>\n\n<pre><code>ngOnInit() {\n       const userId = '2';\n       this.collectIds$ =  this.apiService.collectIds(userId);\n}\n</code></pre>\n\n<p>in html:</p>\n\n<pre><code>&lt;app-chart [ids]=\"(collectIds$|async)?.ids\"&gt;&lt;/app-chart&gt;\n</code></pre>\n"}], "owner": {"reputation": 1700, "user_id": 2976424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9QSG4.jpg?s=128&g=1", "display_name": "Kumaresan Perumal", "link": "https://stackoverflow.com/users/2976424/kumaresan-perumal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 305, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1585819599, "creation_date": 1558522225, "last_edit_date": 1585819599, "question_id": 56255149, "link": "https://stackoverflow.com/questions/56255149/how-to-pass-value-one-component-to-another-component-after-getting-response-from", "title": "How to pass value one component to another component after getting response from an API in Angular 7", "body": "<p>I am working on an issue with an API. After coming the response from an API, I want to pass the value to the child component. There I will execute method and get response, and show it on the screen.</p>\n\n<p>Code: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    ngOnInit() {\n            const userId = '2';\n            this.apiService.collectIds(userId)\n            .subscribe(ids =&gt; {\n                this.ids = ids\n            }, error =&gt; {\n                console.log('error', error);\n            });\n        }\n</code></pre>\n\n<p>Child component:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>    &lt;app-chart [ids]=\"ids\"&gt;&lt;/app-chart&gt;\n</code></pre>\n"}, {"tags": ["html", "typescript", "ionic4"], "answers": [{"tags": [], "owner": {"reputation": 576, "user_id": 1734342, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c47f6d95913693f0990e8fda2dd914f7?s=128&d=identicon&r=PG", "display_name": "RobrechtVM", "link": "https://stackoverflow.com/users/1734342/robrechtvm"}, "is_accepted": false, "score": 2, "last_activity_date": 1558521396, "creation_date": 1558521396, "answer_id": 56254903, "question_id": 56254777, "link": "https://stackoverflow.com/questions/56254777/how-to-vertical-ion-item-scroll-to-bottom-and-top-on-down-and-up-arrow-icon-butt/56254903#56254903", "title": "How to Vertical ion-item Scroll to Bottom and Top on Down and Up arrow icon button click in ionic 4?", "body": "<p>You can use the Content component to handle scrolling in code.\nYou can use <code>scrollToTop()</code> or <code>scrollToBottom()</code> as well as <code>scrollToPoint()</code>, whatever fits your need.</p>\n\n<p>For more info see <a href=\"https://ionicframework.com/docs/api/content#scrollToTop\" rel=\"nofollow noreferrer\">https://ionicframework.com/docs/api/content#scrollToTop</a></p>\n\n<pre><code>import { Component, ViewChild } from '@angular/core';\nimport { Content } from 'ionic-angular';\n\n@Component({...})\nexport class MyPage{\n  @ViewChild(Content) content: Content;\n\n  scrollToTop() {\n    this.content.scrollToTop();\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1657, "user_id": 10053793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5OGGl.jpg?s=128&g=1", "display_name": "Ira Watt", "link": "https://stackoverflow.com/users/10053793/ira-watt"}, "is_accepted": true, "score": 1, "last_activity_date": 1558522331, "last_edit_date": 1558522331, "creation_date": 1558521815, "answer_id": 56255012, "question_id": 56254777, "link": "https://stackoverflow.com/questions/56254777/how-to-vertical-ion-item-scroll-to-bottom-and-top-on-down-and-up-arrow-icon-butt/56255012#56255012", "title": "How to Vertical ion-item Scroll to Bottom and Top on Down and Up arrow icon button click in ionic 4?", "body": "<p>check the ionic docs for info on component methods <a href=\"https://ionicframework.com/docs/api/content\" rel=\"nofollow noreferrer\">https://ionicframework.com/docs/api/content</a></p>\n\n<p>.html</p>\n\n<pre><code> &lt;ion-content&gt;\n   &lt;ion-icon name=\"arrow-dropdown\" (click)=\"scrollToBottom()\"&gt;&lt;/ion-icon&gt;\n\n    //..... your content ......\n\n     &lt;ion-icon name=\"arrow-dropup\" (click)=\"scrollToTop()\"&gt;&lt;/ion-icon&gt;\n &lt;/ion-content&gt;\n</code></pre>\n\n<p>.ts</p>\n\n<pre><code>    import { Component, ViewChild } from '@angular/core';\n    import {IonContent} from '@ionic/angular';\n    @Component({\n      selector: 'app-home',\n      templateUrl: 'home.page.html',\n      styleUrls: ['home.page.scss'],\n    })\n    export class HomePage {\n         @ViewChild(IonContent) theContent: IonContent;\n\n\n    scrollToBottom(){\n    this.theContent.scrollToBottom();\n}\n   scrollToTop(){\n    this.theContent.scrollToTop();\n}\n\n}\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 11258619, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9VyXOwkQ2qQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcrIVfiDwGxtm9lc_dX8E7ewDpaLQ/mo/photo.jpg?sz=128", "display_name": "gaus shaikh", "link": "https://stackoverflow.com/users/11258619/gaus-shaikh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 464, "favorite_count": 0, "accepted_answer_id": 56255012, "answer_count": 2, "score": 0, "last_activity_date": 1559271807, "creation_date": 1558520983, "last_edit_date": 1559271807, "question_id": 56254777, "link": "https://stackoverflow.com/questions/56254777/how-to-vertical-ion-item-scroll-to-bottom-and-top-on-down-and-up-arrow-icon-butt", "title": "How to Vertical ion-item Scroll to Bottom and Top on Down and Up arrow icon button click in ionic 4?", "body": "<p>I'm creating Ionic 4 plus Angular App, I want to add Up And Down Arrow \nButton to Scroll Vertically Top To Bottom And Vice-versa.</p>\n"}, {"tags": ["angular", "typescript", "proxy"], "comments": [{"owner": {"reputation": 7761, "user_id": 8192719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0PuVB.jpg?s=128&g=1", "display_name": "Bunyamin Coskuner", "link": "https://stackoverflow.com/users/8192719/bunyamin-coskuner"}, "edited": false, "score": 0, "creation_date": 1558521060, "post_id": 56254652, "comment_id": 99126397, "body": "Why do you need to do that? <code>--proxyConfig</code> is only available with <code>ng serve</code> which you use for your local machine. So, using <code>environment</code> file does not make sense for this config."}, {"owner": {"reputation": 99, "user_id": 11538667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d431b3a1c6f2a8d1edb14971f0abfe45?s=128&d=identicon&r=PG&f=1", "display_name": "neophat", "link": "https://stackoverflow.com/users/11538667/neophat"}, "reply_to_user": {"reputation": 7761, "user_id": 8192719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0PuVB.jpg?s=128&g=1", "display_name": "Bunyamin Coskuner", "link": "https://stackoverflow.com/users/8192719/bunyamin-coskuner"}, "edited": false, "score": 0, "creation_date": 1558534868, "post_id": 56254652, "comment_id": 99134605, "body": "Indeed, for this specific example it wouldn&#39;t make much sense. But I&#39;d like to retrieve automatically the port number (4200 by default) that would be stored as a variable in <code>environment.ts</code>, so a variable access is needed anyway."}, {"owner": {"reputation": 7761, "user_id": 8192719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0PuVB.jpg?s=128&g=1", "display_name": "Bunyamin Coskuner", "link": "https://stackoverflow.com/users/8192719/bunyamin-coskuner"}, "edited": false, "score": 0, "creation_date": 1558588347, "post_id": 56254652, "comment_id": 99152158, "body": "You may need something from <code>environment</code> file during build processes but I still think you won&#39;t need to read anything from <code>environment</code> for the <code>proxy.conf.js</code>. You can simply write anything you want, it is for your local machine"}], "owner": {"reputation": 99, "user_id": 11538667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d431b3a1c6f2a8d1edb14971f0abfe45?s=128&d=identicon&r=PG&f=1", "display_name": "neophat", "link": "https://stackoverflow.com/users/11538667/neophat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 932, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1595558153, "creation_date": 1558520595, "question_id": 56254652, "link": "https://stackoverflow.com/questions/56254652/use-env-variables-in-angular-proxy-configuration", "title": "Use ENV variables in Angular proxy configuration", "body": "<p>I successfully implemented a proxy for my Angular CLI application. The proxy works well. The proxy configuration is in a proxy.conf.js file, and looks like this: </p>\n\n<pre><code>const PROXY_CONFIG = [\n  {\n    context: [\n    \"/api/assets/*\",\n    ],\n    target: \"http://localhost:4200/assets/\",\n    pathRewrite: {\n    \"/api\": \"\"\n    },\n    secure: false,\n    changeOrigin: true,\n    logLevel: \"debug\"\n  }\n]\n\nmodule.exports = PROXY_CONFIG;\n</code></pre>\n\n<p>Again, it is functional, and requests like <code>/api/assets/data.json</code> get redirected to <code>http://localhost:4200/assets/data.json</code></p>\n\n<p>What I try to achieve is to use a variable defined in my <code>environment.ts</code> instead of hardcoding the <code>http://localhost:4200</code> URL.</p>\n\n<p>However, I can't get it working. When trying to import a variable in the <code>environment.ts</code>file with the standard import command</p>\n\n<pre><code>import {environment} from \"./src/environments/environment\";\n</code></pre>\n\n<p>I get the following error : </p>\n\n<pre><code>Unexpected token {\n(function (exports, require, module, __filename, __dirname) { \nimport {environment} from \"./src/environments/environment\";\n</code></pre>\n\n<hr>\n\n<p>Therefore my question : How to correctly import a variable from <code>environment.ts</code> into my <code>proxy.conf.js file</code> ?</p>\n\n<p>Using : </p>\n\n<ul>\n<li>Angular core v7.3.6</li>\n<li>Angular CLI v7.3.6</li>\n<li>Typescript v3.2.4</li>\n</ul>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs", "single-page-application"], "comments": [{"owner": {"reputation": 1866, "user_id": 5804509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29c14aec9ec25dbb52f1e4517c714450?s=128&d=identicon&r=PG&f=1", "display_name": "khush", "link": "https://stackoverflow.com/users/5804509/khush"}, "edited": false, "score": 0, "creation_date": 1558520292, "post_id": 56254491, "comment_id": 99125948, "body": "For HttpClient response, parsing is not required"}], "answers": [{"tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": true, "score": 1, "last_activity_date": 1558520403, "creation_date": 1558520403, "answer_id": 56254587, "question_id": 56254491, "link": "https://stackoverflow.com/questions/56254491/angular-7-response-parser-not-working-properly/56254587#56254587", "title": "angular 7 response parser not working properly", "body": "<p>In Angular 7, you are using <strong>HttpClient</strong> so you don't need to parse anything.</p>\n\n<p>Try this:</p>\n\n<pre><code>let body = resp\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": false, "score": 1, "last_activity_date": 1558521135, "creation_date": 1558521135, "answer_id": 56254817, "question_id": 56254491, "link": "https://stackoverflow.com/questions/56254491/angular-7-response-parser-not-working-properly/56254817#56254817", "title": "angular 7 response parser not working properly", "body": "<p>This should be more cleanner way for your code. You dont need to parse into json because by default angular return json format</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>this.http.post(\"/auth/login\", JSON.stringify(payload), {}).subscribe(\n    (resp: HttpResponse&lt;any&gt;) =&gt; {\n      this.sessionService.setAccessToken(resp.AccessToken);\n      this.sessionService.setUser(resp.User);\n    }\n</code></pre>\n\n<p>Cheers.</p>\n"}], "owner": {"reputation": 140, "user_id": 10717402, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Fti4vlDwciI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-juoodBsokrFona7li5LdLdCWCg4g/mo/photo.jpg?sz=128", "display_name": "usman saleem", "link": "https://stackoverflow.com/users/10717402/usman-saleem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 56254587, "answer_count": 2, "score": 0, "last_activity_date": 1576223565, "creation_date": 1558520107, "last_edit_date": 1576223565, "question_id": 56254491, "link": "https://stackoverflow.com/questions/56254491/angular-7-response-parser-not-working-properly", "title": "angular 7 response parser not working properly", "body": "<p>hey i upgraded my angular from 4.4 to latest 7 \nnow after lots of error i got service to run finally \n i have this out parser which parse the login response and return it \nbut it isn't returning anything just empty body \nhow can i fix that?</p>\n\n<p><strong>Login service</strong></p>\n\n<pre><code> this.http.post(\"/auth/login\", JSON.stringify(payload), {}).subscribe(\n    (resp: HttpResponse&lt;any&gt;) =&gt; {\n      let body = this.outputParser(resp); //it is returning null\n      this.sessionService.setAccessToken(body.AccessToken);\n      this.sessionService.setUser(body.User);\n    },\n</code></pre>\n\n<p><strong>output parser</strong></p>\n\n<pre><code>private outputParser(res: HttpResponse&lt;any&gt;) {\nlet responseText: any = res;\nif (!responseText) {\n  return null;\n}\ntry {\n  return JSON.parse(responseText);\n} catch (e) {\n  return null;\n }\n}\n</code></pre>\n\n<p>and yes i wrote output parser before login service</p>\n\n<p>how to solve this problem?\nthanks</p>\n"}, {"tags": ["angular", "string", "typescript", "parameters"], "comments": [{"owner": {"reputation": 5811, "user_id": 3460734, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/bU5dU.jpg?s=128&g=1", "display_name": "super cool", "link": "https://stackoverflow.com/users/3460734/super-cool"}, "edited": false, "score": 0, "creation_date": 1558520584, "post_id": 56254473, "comment_id": 99126130, "body": "this.priceRules[id-1][&quot;typeTime&quot;] ? did you try, you can this object notation."}], "answers": [{"tags": [], "owner": {"reputation": 167, "user_id": 9552369, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XlGl_WJruG0/AAAAAAAAAAI/AAAAAAAAADI/wCF7j1MnzwE/photo.jpg?sz=128", "display_name": "Darwin Gonzalez", "link": "https://stackoverflow.com/users/9552369/darwin-gonzalez"}, "is_accepted": false, "score": 2, "last_activity_date": 1558520514, "creation_date": 1558520514, "answer_id": 56254624, "question_id": 56254473, "link": "https://stackoverflow.com/questions/56254473/how-to-convert-a-string-parameter-to-an-attribute-of-variable-typescript-angular/56254624#56254624", "title": "How to convert a string parameter to an attribute of variable TypeScript Angular", "body": "<p>I think that this maybe will fix your problem, but not sure because i didn't see your <em>priceRules</em> structure.</p>\n\n<pre><code>changeTime(event, id, type) {\n  if (event.hour &gt;= 10 &amp;&amp; event.minute &gt;= 10) {\n    this.priceRules[id-1][type] = event.hour+\":\"+event.minute;\n  }\n  else if (event.hour &gt;= 10 &amp;&amp; event.minute &lt; 10) {\n    this.priceRules[id-1][type] = event.hour+\":0\"+event.minute;\n  }\n  else {\n    this.priceRules[id-1][type] = \"0\"+event.hour+\":0\"+event.minute;\n  }\n}\n</code></pre>\n\n<p>Where <em>'type'</em> must be <em>'startTime'</em> or <em>'endTime'</em>. </p>\n"}, {"tags": [], "owner": {"reputation": 1866, "user_id": 5804509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29c14aec9ec25dbb52f1e4517c714450?s=128&d=identicon&r=PG&f=1", "display_name": "khush", "link": "https://stackoverflow.com/users/5804509/khush"}, "is_accepted": true, "score": 3, "last_activity_date": 1558520521, "creation_date": 1558520521, "answer_id": 56254626, "question_id": 56254473, "link": "https://stackoverflow.com/questions/56254473/how-to-convert-a-string-parameter-to-an-attribute-of-variable-typescript-angular/56254626#56254626", "title": "How to convert a string parameter to an attribute of variable TypeScript Angular", "body": "<p>Follow this syntax:</p>\n\n<pre><code>this.priceRules[id-1]['startTime']\n</code></pre>\n\n<p>Instead of this:</p>\n\n<pre><code>this.priceRules[id-1].startTime\n</code></pre>\n\n<p>i.e.</p>\n\n<p>Here you can pass 'startTime' and 'endTime' as an argument of changeTime function</p>\n\n<pre><code>changeTime(event, id, key) {\n    if (event.hour &gt;= 10 &amp;&amp; event.minute &gt;= 10) {\n      this.priceRules[id-1][key] = event.hour+\":\"+event.minute;\n    }\n    else if (event.hour &gt;= 10 &amp;&amp; event.minute &lt; 10) {\n      this.priceRules[id-1][key] = event.hour+\":0\"+event.minute;\n    }\n    else {\n      this.priceRules[id-1][key] = \"0\"+event.hour+\":0\"+event.minute;\n    }\n  }\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 11232045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eba20d4c5f62cb95a13098022b046aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Fealo", "link": "https://stackoverflow.com/users/11232045/fealo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 56254626, "answer_count": 2, "score": 0, "last_activity_date": 1558520521, "creation_date": 1558520028, "question_id": 56254473, "link": "https://stackoverflow.com/questions/56254473/how-to-convert-a-string-parameter-to-an-attribute-of-variable-typescript-angular", "title": "How to convert a string parameter to an attribute of variable TypeScript Angular", "body": "<p>I have these 2 methods :</p>\n\n<pre><code>changeStartTime(event, id) {\n    if (event.hour &gt;= 10 &amp;&amp; event.minute &gt;= 10) {\n      this.priceRules[id-1].startTime = event.hour+\":\"+event.minute;\n    }\n    else if (event.hour &gt;= 10 &amp;&amp; event.minute &lt; 10) {\n      this.priceRules[id-1].startTime = event.hour+\":0\"+event.minute;\n    }\n    else {\n      this.priceRules[id-1].startTime = \"0\"+event.hour+\":0\"+event.minute;\n    }\n  }\n\n  changeEndTime(event, id) {\n    if (event.hour &gt;= 10 &amp;&amp; event.minute &gt;= 10) {\n      this.priceRules[id-1].endTime = event.hour+\":\"+event.minute;\n    }\n    else if (event.hour &gt;= 10 &amp;&amp; event.minute &lt; 10) {\n      this.priceRules[id-1].endTime = event.hour+\":0\"+event.minute;\n    }\n    else {\n      this.priceRules[id-1].endTime = \"0\"+event.hour+\":0\"+event.minute;\n    }\n  }\n</code></pre>\n\n<p>As you can see, they are very very similar, the only thing that changes is <code>startTime</code> and <code>endTime</code>. It's a bad manner of a developer, so what I want is only one method with a third parameter ( maybe a string ? ) but i don't know how to do that. Thank you</p>\n"}, {"tags": ["javascript", "typescript", "cors", "onelogin"], "answers": [{"tags": [], "owner": {"reputation": 831, "user_id": 3391538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8e2cb36a261f64a7b00b86fda48584e?s=128&d=identicon&r=PG&f=1", "display_name": "John Offenhartz", "link": "https://stackoverflow.com/users/3391538/john-offenhartz"}, "is_accepted": false, "score": 1, "last_activity_date": 1558636383, "creation_date": 1558636383, "answer_id": 56281098, "question_id": 56254354, "link": "https://stackoverflow.com/questions/56254354/xmlhttprequest-has-been-blocked-by-cors-policy-https-openid-connect-eu-onelo/56281098#56281098", "title": "XMLHttpRequest has been blocked by CORS policy - https://openid-connect-eu.onelogin.com/oidc/token", "body": "<p>Javascript prevents POST calls to other domains at the browser level unless they are expressly permitted by the service (and OneLogin doesn't permit this, for security reasons)</p>\n\n<p>I'll add that doing this authentication flow via Javascript is not considered secure since anyone could intercept the clientID and Secret from your code.</p>\n\n<p>For javascript apps, I'd recommend using the Implicit OIDC flow, which is documented here: </p>\n\n<p><a href=\"https://developers.onelogin.com/openid-connect/api/id-token\" rel=\"nofollow noreferrer\">https://developers.onelogin.com/openid-connect/api/id-token</a></p>\n\n<p>OneLogin also has sample code for this:</p>\n\n<p><a href=\"https://github.com/onelogin/onelogin-oidc-node/tree/master/2.%20Implicit%20Flow\" rel=\"nofollow noreferrer\">https://github.com/onelogin/onelogin-oidc-node/tree/master/2.%20Implicit%20Flow</a></p>\n"}], "owner": {"reputation": 121, "user_id": 6450052, "user_type": "registered", "profile_image": "https://graph.facebook.com/1217061644980668/picture?type=large", "display_name": "Vladimir Vladimirov", "link": "https://stackoverflow.com/users/6450052/vladimir-vladimirov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 898, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558636383, "creation_date": 1558519649, "question_id": 56254354, "link": "https://stackoverflow.com/questions/56254354/xmlhttprequest-has-been-blocked-by-cors-policy-https-openid-connect-eu-onelo", "title": "XMLHttpRequest has been blocked by CORS policy - https://openid-connect-eu.onelogin.com/oidc/token", "body": "<p>I am setting up onelogin and I came to this step where I must send one more POST request with the given code from the first GET request (<a href=\"https://developers.onelogin.com/openid-connect/api/authorization-code-grant\" rel=\"nofollow noreferrer\">https://developers.onelogin.com/openid-connect/api/authorization-code-grant</a>).</p>\n\n<p>They are saying I must send the POST request to this URL https://.onelogin.com/oidc/token and I am sending the request with Angular 7.</p>\n\n<pre><code>    const headers = new HttpHeaders({\n      'Content-Type': 'application/x-www-form-urlencoded',\n      'Authorization': `Basic &lt;base64 encoded ${environment.clientId}:${environment.clientSecret}`\n    });\n    const options = {\n      headers: headers\n    };\n    const body = {\n      grant_type: 'authorization_code',\n      code: code,\n      redirect_url: this.getCallbackURL(),\n      client_id: environment.clientId,\n      client_secret: environment.clientSecret\n    };\n    return this.httpClient.post('https://openid-connect-eu.onelogin.com/oidc/token', body, options).toPromise();\n</code></pre>\n\n<p>But then I get this error:</p>\n\n<p>Access to XMLHttpRequest at '<a href=\"https://openid-connect-eu.onelogin.com/oidc/token\" rel=\"nofollow noreferrer\">https://openid-connect-eu.onelogin.com/oidc/token</a>' from origin '<a href=\"https://my-site-name.com\" rel=\"nofollow noreferrer\">https://my-site-name.com</a>' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.</p>\n\n<p>NOTE: replaced  with openid-connect-eu as I am in the EU as described in the documentation.</p>\n"}, {"tags": ["typescript", "typescript-generics"], "comments": [{"owner": {"reputation": 4174, "user_id": 925135, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QSJJI.jpg?s=128&g=1", "display_name": "Renetik", "link": "https://stackoverflow.com/users/925135/renetik"}, "edited": false, "score": 0, "creation_date": 1558519982, "post_id": 56254334, "comment_id": 99125791, "body": "T is argument type I need to return self type , but I found workaround just for this case , returning Array&lt;T&gt; type. So that is ok for this case for now still looking for returning this for other cases. But I can define returning this in interfaces and implement it just in prototypes function definition this wont work..."}], "answers": [{"tags": [], "owner": {"reputation": 4174, "user_id": 925135, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QSJJI.jpg?s=128&g=1", "display_name": "Renetik", "link": "https://stackoverflow.com/users/925135/renetik"}, "is_accepted": false, "score": 0, "last_activity_date": 1558520167, "creation_date": 1558520167, "answer_id": 56254518, "question_id": 56254334, "link": "https://stackoverflow.com/questions/56254334/how-to-return-this-self-type-from-extension-function-in-typescript/56254518#56254518", "title": "How to return this , self type from extension function in typescript", "body": "<p>This is workaround, but not exactly what I am looking for.</p>\n\n<pre><code>interface Array&lt;T&gt; {\n  pushAll(other: T[]): Array&lt;T&gt;\n\n  randomize(): Array&lt;T&gt;\n}\n\nArray.prototype.pushAll = function &lt;T&gt;(other: T[]): Array&lt;T&gt; {\n  this.push(...other)\n  return this\n}\n\nArray.prototype.randomize = function &lt;T&gt;(): Array&lt;T&gt; {\n  this.sort(() =&gt; Math.random() * 2 - 1)\n  return this\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4174, "user_id": 925135, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QSJJI.jpg?s=128&g=1", "display_name": "Renetik", "link": "https://stackoverflow.com/users/925135/renetik"}, "edited": false, "score": 0, "creation_date": 1572441359, "post_id": 58568486, "comment_id": 103560024, "body": "Looks good but I should test it before accept it but maybe I will trust it as it seams quite clear now Thanks .. will be back to my typescript codebase soon so will definitely try it out !"}], "tags": [], "owner": {"reputation": 7417, "user_id": 278488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e1d0dbb862f63559a2787f8b2e90b3d?s=128&d=identicon&r=PG", "display_name": "Russell Davis", "link": "https://stackoverflow.com/users/278488/russell-davis"}, "is_accepted": true, "score": 1, "last_activity_date": 1572070085, "creation_date": 1572070085, "answer_id": 58568486, "question_id": 56254334, "link": "https://stackoverflow.com/questions/56254334/how-to-return-this-self-type-from-extension-function-in-typescript/58568486#58568486", "title": "How to return this , self type from extension function in typescript", "body": "<p>The solution is to remove the types entirely from your definition. Since typescript already knows the types from the interface declaration, they'll be applied to your definition via <a href=\"https://www.typescriptlang.org/docs/handbook/type-inference.html#contextual-typing\" rel=\"nofollow noreferrer\">contextual typing</a>.</p>\n\n<p>So, your example would look like this:</p>\n\n<pre><code>interface Array&lt;T&gt; {\n  pushAll(other: T[]): this\n  randomize(): this\n}\n\nArray.prototype.pushAll = function (other) {\n  this.push(...other)\n  return this\n}\n\nArray.prototype.randomize = function () {\n  this.sort(() =&gt; Math.random() * 2 - 1)\n  return this\n}\n</code></pre>\n"}], "owner": {"reputation": 4174, "user_id": 925135, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QSJJI.jpg?s=128&g=1", "display_name": "Renetik", "link": "https://stackoverflow.com/users/925135/renetik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 58568486, "answer_count": 2, "score": 1, "last_activity_date": 1572070085, "creation_date": 1558519585, "last_edit_date": 1558520218, "question_id": 56254334, "link": "https://stackoverflow.com/questions/56254334/how-to-return-this-self-type-from-extension-function-in-typescript", "title": "How to return this , self type from extension function in typescript", "body": "<p>I have implemented successfully some extension in typescript that works, but I would like to return this type instead of void.</p>\n\n<pre><code>interface Array&lt;T&gt; {\n  pushAll(other: T[]): void\n\n  randomize(): void\n}\n\nArray.prototype.pushAll = function &lt;T&gt;(other: T[]): void {\n  this.push(...other)\n}\n\nArray.prototype.randomize = function (): void {\n  this.sort(() =&gt; Math.random() * 2 - 1)\n}\n</code></pre>\n\n<p>But when I try it it gives compile errors:</p>\n\n<pre><code>interface Array&lt;T&gt; {\n  pushAll(other: T[]): this\n\n  randomize(): this\n}\n\nArray.prototype.pushAll = function &lt;T&gt;(other: T[]): this {\n  this.push(...other)\n  return this\n}\n\nArray.prototype.randomize = function (): this {\n  this.sort(() =&gt; Math.random() * 2 - 1)\n  return this\n}\n</code></pre>\n\n<p>Error: This type is available only in non static....\nAlso suggestion <code>any[]</code> does not work. \nAlso I tired to declare return type as <code>T[]</code> with no luck too.</p>\n\n<p>I am coming to typescript from higher level languages like kotlin, swift, c#, objective-c where this is cleanly possible, so I can write functions that I can chain still have type safety.\nThanks. </p>\n\n<p>(edit)\nI found workaround just for this and some other similar case, returning <code>Array&lt;T&gt;</code> type. But I can define returning this in interfaces and implement it, just in prototypes function definition this wont work..</p>\n"}, {"tags": ["javascript", "typescript", "webstorm"], "comments": [{"owner": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "edited": false, "score": 0, "creation_date": 1558529788, "post_id": 56254105, "comment_id": 99131127, "body": "looks similar to <a href=\"https://youtrack.jetbrains.com/issue/WEB-39041\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/WEB-39041</a>, please follow it for updates"}, {"owner": {"reputation": 2967, "user_id": 2324576, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/993e0f8ecc3e4d85f2990b6a6fe5b0a1?s=128&d=identicon&r=PG", "display_name": "James Joshua Street", "link": "https://stackoverflow.com/users/2324576/james-joshua-street"}, "reply_to_user": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "edited": false, "score": 0, "creation_date": 1558570279, "post_id": 56254105, "comment_id": 99149077, "body": "you seem to be right, but I can&#39;t accept a comment as the answer. I was wondering if I was doing something wrong, but it&#39;s just because of the typescript source mapping to javascript. Anyway it is something to be aware of. it&#39;s frustrating to suddenly jump to a section of code and not know for certain what has run and what hasn&#39;t"}], "answers": [{"tags": [], "owner": {"reputation": 18803, "user_id": 4939915, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NVz1D.jpg?s=128&g=1", "display_name": "AddWeb Solution Pvt Ltd", "link": "https://stackoverflow.com/users/4939915/addweb-solution-pvt-ltd"}, "is_accepted": false, "score": 0, "last_activity_date": 1558519535, "creation_date": 1558519535, "answer_id": 56254316, "question_id": 56254105, "link": "https://stackoverflow.com/questions/56254105/does-webstorm-not-run-to-breakpoints-on-an-await-line/56254316#56254316", "title": "Does WebStorm not run to breakpoints on an await line?", "body": "<p>Try this:</p>\n\n<p>Declare the function as 'async' in order to use await. The function needs tobe async.</p>\n\n<pre><code>async requestList() {\n    let res = this.cache.get(serializedParam);\n\n    const test = 'test';\n    if (!res) {\n        const test2 = 'test2';\n        const _res = await Function(param);\n     }\n}\n\nasync  Function(param){\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "is_accepted": false, "score": 1, "last_activity_date": 1558596642, "creation_date": 1558596642, "answer_id": 56270154, "question_id": 56254105, "link": "https://stackoverflow.com/questions/56254105/does-webstorm-not-run-to-breakpoints-on-an-await-line/56270154#56270154", "title": "Does WebStorm not run to breakpoints on an await line?", "body": "<p>The issue looks similar to <a href=\"https://youtrack.jetbrains.com/issue/WEB-39041\" rel=\"nofollow noreferrer\">WEB-39041</a>, please follow it for updates. It only occurs when using sourcemaps, stepping works fine when debugging pure Javascript</p>\n"}], "owner": {"reputation": 2967, "user_id": 2324576, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/993e0f8ecc3e4d85f2990b6a6fe5b0a1?s=128&d=identicon&r=PG", "display_name": "James Joshua Street", "link": "https://stackoverflow.com/users/2324576/james-joshua-street"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1558596642, "creation_date": 1558518898, "last_edit_date": 1558520312, "question_id": 56254105, "link": "https://stackoverflow.com/questions/56254105/does-webstorm-not-run-to-breakpoints-on-an-await-line", "title": "Does WebStorm not run to breakpoints on an await line?", "body": "<p>I first set a breakpoint on the let line, the if statement line, and the await line. </p>\n\n<p>Assuming I break on the let line and then press run to next breakpoint, the code does hit the next breakpoint.</p>\n\n<p>However, if I'm on the let line, I can press step over and go to the <code>const test</code> line, hit step over again, and it jumps over the if statement and goes to the <code>const test2</code> line. Pushing run does not lead to the await line and pushing step over or into after reaching test2 results in me going into other code.</p>\n\n<p>As a former Visual Studio user this is really strange behavior to me. I don't know if it's a TypeScript peculiarity or something to do with TypeScript/JavaScript and the async/await construct.</p>\n\n<p>I've rebuilt several times just to verify that my code matches what's running on the server.</p>\n\n<p>I thought that await line should get hit, then it should suspend the rest of the function.</p>\n\n<pre><code>public async requestList() {\n\n    let res = this.cache.get(serializedParam);\n\n    const test = 'test';\n    if (!res) {\n        const test2 = 'test2';\n        const _res = await Function(param);\n     }\n</code></pre>\n"}, {"tags": ["html", "angular", "typescript", "formio"], "owner": {"reputation": 229, "user_id": 10776598, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EqclCl2CX5I/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hnqbJVEXoUom3N1puWYYQ2U3sY9Q/mo/photo.jpg?sz=128", "display_name": "Rajan Bosh", "link": "https://stackoverflow.com/users/10776598/rajan-bosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1558518157, "creation_date": 1558518157, "question_id": 56253854, "link": "https://stackoverflow.com/questions/56253854/how-to-set-submission-forms-in-one-layout-in-form-manager-using-formio", "title": "how to set submission forms in one layout in form manager using formio", "body": "<p>I am using angular 7 and i had integrated  formio form manager into our application. On that form manager there are 4 buttons \n1. Create form\n2. View form\n3. Edit form \n4. delete form</p>\n\n<p>here is my code for html...</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> &lt;div class=\"m-portlet m-portlet--mobile\"&gt;\r\n          &lt;div class=\"m-portlet__body\"&gt;\r\n            &lt;formio-grid *ngIf=\"auth.authenticated\" \r\n              [formio]=\"service.formio\" \r\n              [gridType]=\"'form'\" \r\n              [query]=\"{tags: config.tag, type: 'form'}\"\r\n              (rowAction)=\"onAction($event)\" \r\n              (rowSelect)=\"onSelect($event)\" \r\n              [createText]=\"'Create Form'\" \r\n              (createItem)=\"onCreateItem()\"&gt;\r\n            &lt;/formio-grid&gt;\r\n          &lt;/div&gt;\r\n      &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And the layout look like \"<a href=\"https://formio.github.io/angular-demo/#/manager\" rel=\"nofollow noreferrer\">https://formio.github.io/angular-demo/#/manager</a>\"</p>\n\n<p>In this i am using div class like 'm-portlet__body\" for showing list forms in one layout and it is showing fine as in one separate layout. But i am facing one problem when if i click on enter or view or edit or create form the forms  are over crossing the boarder of my page. so, how to make that forms also in one separate layout...</p>\n"}, {"tags": ["typescript", "rxjs", "rx-swift", "reactivex"], "answers": [{"comments": [{"owner": {"reputation": 1929, "user_id": 5744323, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HPeWt.png?s=128&g=1", "display_name": "Anirudha Mahale", "link": "https://stackoverflow.com/users/5744323/anirudha-mahale"}, "edited": false, "score": 0, "creation_date": 1558518556, "post_id": 56253812, "comment_id": 99125021, "body": "Can you answer this in typescript using class?"}, {"owner": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "reply_to_user": {"reputation": 1929, "user_id": 5744323, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HPeWt.png?s=128&g=1", "display_name": "Anirudha Mahale", "link": "https://stackoverflow.com/users/5744323/anirudha-mahale"}, "edited": false, "score": 0, "creation_date": 1558531307, "post_id": 56253812, "comment_id": 99132187, "body": "Edited. Thats what you are looking for?"}, {"owner": {"reputation": 1929, "user_id": 5744323, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HPeWt.png?s=128&g=1", "display_name": "Anirudha Mahale", "link": "https://stackoverflow.com/users/5744323/anirudha-mahale"}, "edited": false, "score": 1, "creation_date": 1558681551, "post_id": 56253812, "comment_id": 99187678, "body": "Thanks @Julius Dzidzevi\u010dius, this is what I wanted. I made some changes in this by making <code>class</code> Generic."}], "tags": [], "owner": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "is_accepted": true, "score": 2, "last_activity_date": 1558531293, "last_edit_date": 1558531293, "creation_date": 1558518039, "answer_id": 56253812, "question_id": 56253610, "link": "https://stackoverflow.com/questions/56253610/create-baseobserver-in-typescript-using-rxjs/56253812#56253812", "title": "Create BaseObserver in TypeScript using RxJS", "body": "<pre><code>class MyObserver implements Observer&lt;any&gt; {\n  constructor(\n    private before,\n    private after) {\n  }\n\n  next = (value: any) =&gt; {\n    this.before(value)\n    this.after(value)\n  };\n  error = (err: any) =&gt; {};\n  complete = () =&gt; {};\n}\n</code></pre>\n\n<hr>\n\n<pre><code>const before = value =&gt; {\n  console.log('before', value)\n}\nconst after = value =&gt; {\n  console.log('after', value)\n}\n\nconst observer = new MyObserver(this.before, this.after);\n\nconst stream = of(1, 2, 3)\nconst subscribe = stream.subscribe(this.observer);\n</code></pre>\n"}], "owner": {"reputation": 1929, "user_id": 5744323, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HPeWt.png?s=128&g=1", "display_name": "Anirudha Mahale", "link": "https://stackoverflow.com/users/5744323/anirudha-mahale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 56253812, "answer_count": 1, "score": 1, "last_activity_date": 1558531561, "creation_date": 1558517440, "last_edit_date": 1558531561, "question_id": 56253610, "link": "https://stackoverflow.com/questions/56253610/create-baseobserver-in-typescript-using-rxjs", "title": "Create BaseObserver in TypeScript using RxJS", "body": "<p>In Swift I have created BaseObserver, in subscribe method I pass this class.\nI am trying to do the same in RxJS using TypeScript.</p>\n\n<p>This comes handy when you want to do something before and after any events occur.</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>import Foundation\nimport RxSwift\n\nclass BaseObserver&lt;Element&gt;: ObserverType {\n\n    public typealias E = Element\n\n    var beforeClosure: (() -&gt; Void)?\n    var completeClosure: ((E) -&gt; Void)?\n    var errorClosure: ((Error) -&gt; Void)?\n    var completedClosure: (() -&gt; Void)?\n    var alwaysClosure: (()-&gt;())?\n    var onCompleteOrError: ((Error?) -&gt; Void)?\n\n    init(beforeComplete: (() -&gt; Void)? = nil, onComplete: ((E) -&gt; Void)? = nil, onError: ((Error) -&gt; Void)? = nil, onCompleted: (() -&gt; Void)? = nil, always: (()-&gt;())? = nil, onCompleteOrError: ((Error?) -&gt; Void)? = nil) {\n        self.alwaysClosure = always\n        self.completeClosure = onComplete\n        self.errorClosure = onError\n        self.completedClosure = onCompleted\n        self.beforeClosure = beforeComplete\n        self.onCompleteOrError = onCompleteOrError\n    }\n\n    func on(_ event: Event&lt;Element&gt;) {\n        switch event {\n        case .next(let element):\n            beforeClosure?()\n            completeClosure?(element)\n        case .error(let error):\n            beforeClosure?()\n            errorClosure?(error)\n            onCompleteOrError?(error)\n        case .completed:\n            completedClosure?()\n            onCompleteOrError?(nil)\n        }\n        alwaysClosure?()\n    }\n}\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": true, "score": 2, "last_activity_date": 1558517440, "creation_date": 1558517440, "answer_id": 56253608, "question_id": 56253516, "link": "https://stackoverflow.com/questions/56253516/why-throw-makes-function-endpoint-unreachable/56253608#56253608", "title": "Why throw makes function endpoint unreachable?", "body": "<p>Your <code>error</code> function never completes normally, because it <em>always</em> throws an error instead of completing normally:</p>\n\n<pre><code>function error(message: string): never {\n    throw new Error(message); // &lt;====== Terminates with an error here\n                              // &lt;====== Never gets here\n}\n\nerror(\"foo\");\n// Execution never reaches this point\n</code></pre>\n\n<p>That means it never has a return value, hence the type <code>never</code> to annotate that fact.</p>\n"}], "owner": {"reputation": 762, "user_id": 9503916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QZBVS.jpg?s=128&g=1", "display_name": "Jo&#227;o Rodrigues", "link": "https://stackoverflow.com/users/9503916/jo%c3%a3o-rodrigues"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 56253608, "answer_count": 1, "score": 2, "last_activity_date": 1558517440, "creation_date": 1558517148, "question_id": 56253516, "link": "https://stackoverflow.com/questions/56253516/why-throw-makes-function-endpoint-unreachable", "title": "Why throw makes function endpoint unreachable?", "body": "<p>In <code>typescript</code> a use case of the type <code>never</code> is when a function has an unreachable endpoint. But I don't understand why the <code>throw</code> statement makes the function with an unreachable endpoint.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function error(message: string): never {\n    throw new Error(message);\n}\n</code></pre>\n\n<p>Can somebody please explain why?</p>\n"}, {"tags": ["javascript", "arrays", "typescript", "lodash"], "answers": [{"tags": [], "owner": {"reputation": 2952, "user_id": 5126411, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/f4a4063133bf89a8b37b3a85bbc72e13?s=128&d=identicon&r=PG&f=1", "display_name": "Roman Koliada", "link": "https://stackoverflow.com/users/5126411/roman-koliada"}, "is_accepted": true, "score": 0, "last_activity_date": 1558519232, "creation_date": 1558519232, "answer_id": 56254223, "question_id": 56253111, "link": "https://stackoverflow.com/questions/56253111/splitting-text-based-on-its-offset-value-and-push-it-to-new-object/56254223#56254223", "title": "Splitting text based on its offset value and push it to new object", "body": "<p>I hope that I understood you correctly:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = {\r\n  \"text\": \"Do you have questions or comments and do you wish to contact ABC? Please visit our customer support page.\",\r\n  \"entityRanges\": [{\r\n      \"type\": \"LINK\",\r\n      \"offset\": 83,\r\n      \"length\": 16,\r\n      \"data\": {\r\n        \"target\": \"_self\",\r\n        \"url\": \"/index.htm\"\r\n      }\r\n    },\r\n    {\r\n      \"type\": \"LINK\",\r\n      \"offset\": 7,\r\n      \"length\": 4,\r\n      \"data\": {\r\n        \"target\": \"_self\",\r\n        \"url\": \"/index.htm\"\r\n      }\r\n    }\r\n  ]\r\n};\r\n\r\nfunction breakData(data) {\r\n  let {\r\n    entityRanges,\r\n    text\r\n  } = data;\r\n  const result = [];\r\n  let finalPart = '';\r\n  let index = 0;\r\n\r\n  entityRanges\r\n    .sort((a, b) =&gt; a.offset - b.offset)\r\n    .forEach((styleRange) =&gt; {\r\n      const {\r\n        offset,\r\n        length,\r\n        type,\r\n        data\r\n      } = styleRange;\r\n      const firstPart = text.substring(index, offset);\r\n\r\n      result.push({\r\n        type: 'text',\r\n        text: firstPart,\r\n      });\r\n\r\n      index = offset + length; // + 1;\r\n      const secondPart = text.substring(offset, index);\r\n      result.push({\r\n        type,\r\n        data,\r\n        text: secondPart,\r\n      });\r\n\r\n      finalPart = text.substring(index);\r\n    });\r\n\r\n  if (finalPart) {\r\n    result.push({\r\n      type: 'text',\r\n      text: finalPart,\r\n    });\r\n  }\r\n  data.embbeded = result;\r\n\r\n  return data;\r\n}\r\n\r\nconst result = breakData(data);\r\n\r\ndocument.body.innerHTML = '&lt;pre&gt;' + JSON.stringify(result, null, ' ') + '&lt;/pre&gt;';</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 169, "user_id": 11537272, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-spgk5kzBfzg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3resAubbUhQb_fcCEqQREATzcfXUSA/mo/photo.jpg?sz=128", "display_name": "user007", "link": "https://stackoverflow.com/users/11537272/user007"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 56254223, "answer_count": 1, "score": 0, "last_activity_date": 1558594771, "creation_date": 1558515939, "last_edit_date": 1558594771, "question_id": 56253111, "link": "https://stackoverflow.com/questions/56253111/splitting-text-based-on-its-offset-value-and-push-it-to-new-object", "title": "Splitting text based on its offset value and push it to new object", "body": "<p>I wanted to break down <code>paragraph</code>  based on it\u2019s <code>entityRanges</code>.</p>\n\n<p>So the actual paragraph looks like this,</p>\n\n<pre><code>{\n    type: 'paragraph',\n    depth: 1,\n    text: 'Do you have questions or comments and do you wish to contact ABC? Please visit our customer support page.',\n    entityRanges: [{\n        type: 'LINK',\n        offset: 83,\n        length: 16,\n        data: {\n            target: '_self',\n            url: '/index.htm'\n        }\n    }]\n}\n</code></pre>\n\n<p>But my expected results should be like below,</p>\n\n<pre><code>{\n    type: 'paragraph',\n    depth: 1,\n    text: 'Do you have questions or comments and do you wish to contact ABC? Please visit our customer support page.',\n    entityRanges: [{\n        type: 'LINK',\n        offset: 83,\n        length: 16,\n        data: {\n            target: '_self',\n            url: '/index.htm'\n        }\n    }],\n    embbeded: [{\n        type: 'text',\n        text: 'Do you have questions or comments and do you wish to contact ABC? Please visit our '\n    }, {\n        type: 'link',\n        text: 'customer support',\n        data: {\n            target: '_self',\n            url: '/index.htm'\n        }\n    }, {\n        type: 'text',\n        text: 'page.'\n    }]\n}\n</code></pre>\n\n<p>I wanted to break down the <code>text</code> into multiple parts based on it\u2019s <code>offset</code> &amp; <code>length</code> values.</p>\n\n<p>As per the example, <code>customer support</code> is the offset value. </p>\n\n<p>So it should breakdown in the below order</p>\n\n<ol>\n<li>Do you have questions or comments and do you wish to contact ABC?\nPlease visit our </li>\n<li>customer support  </li>\n<li>page.</li>\n</ol>\n\n<p>All above parts needs to pushed to new object <code>embbeded</code>.</p>\n"}, {"tags": ["node.js", "typescript", "selenium", "protractor", "automated-tests"], "comments": [{"owner": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "edited": false, "score": 0, "creation_date": 1558516869, "post_id": 56252999, "comment_id": 99124039, "body": "Try removing <code>import { ProtractorBrowser, Config } from &quot;protractor&quot;;</code> These imports happen automatically when Protractor initializes"}, {"owner": {"reputation": 41, "user_id": 5483220, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/88d6a5f9cb9f12d11f2ce342063d61a7?s=128&d=identicon&r=PG&f=1", "display_name": "Baka no mercy", "link": "https://stackoverflow.com/users/5483220/baka-no-mercy"}, "reply_to_user": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "edited": false, "score": 0, "creation_date": 1558517107, "post_id": 56252999, "comment_id": 99124185, "body": "cant remove it, because its later used in the export config: Config"}, {"owner": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "edited": false, "score": 0, "creation_date": 1558517503, "post_id": 56252999, "comment_id": 99124422, "body": "Oh my mistake, the import may be required when using typescript <a href=\"https://github.com/angular/protractor/blob/5.4.1/exampleTypescript/conf.ts\" rel=\"nofollow noreferrer\">based on this example</a>. I would remove <code>ProtractorBrowser</code> however as that does not seem to be required"}, {"owner": {"reputation": 41, "user_id": 5483220, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/88d6a5f9cb9f12d11f2ce342063d61a7?s=128&d=identicon&r=PG&f=1", "display_name": "Baka no mercy", "link": "https://stackoverflow.com/users/5483220/baka-no-mercy"}, "reply_to_user": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "edited": false, "score": 0, "creation_date": 1558517582, "post_id": 56252999, "comment_id": 99124452, "body": "but still the same error :("}, {"owner": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "edited": false, "score": 0, "creation_date": 1558517900, "post_id": 56252999, "comment_id": 99124657, "body": "Are you transpiling your code using <code>npm run tsc</code> before trying to execute? If not give that a try"}, {"owner": {"reputation": 41, "user_id": 5483220, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/88d6a5f9cb9f12d11f2ce342063d61a7?s=128&d=identicon&r=PG&f=1", "display_name": "Baka no mercy", "link": "https://stackoverflow.com/users/5483220/baka-no-mercy"}, "reply_to_user": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "edited": false, "score": 0, "creation_date": 1558521194, "post_id": 56252999, "comment_id": 99126470, "body": "im doing tsc config.ts and then i do protractor config.ts but the problem persists"}, {"owner": {"reputation": 1115, "user_id": 2987069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5b1764082f04a7a6e11b032b00ee91f?s=128&d=identicon&r=PG", "display_name": "Yash Jagdale", "link": "https://stackoverflow.com/users/2987069/yash-jagdale"}, "edited": false, "score": 0, "creation_date": 1558527789, "post_id": 56252999, "comment_id": 99129964, "body": "The reason is when you pass this config as it is to protractor it won&#39;t be able to understand as it&#39;s in typescript. Try to pass the js file which is the output of tsc."}, {"owner": {"reputation": 2600, "user_id": 2140747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CsujY.jpg?s=128&g=1", "display_name": "tehbeardedone", "link": "https://stackoverflow.com/users/2140747/tehbeardedone"}, "edited": false, "score": 0, "creation_date": 1558718902, "post_id": 56252999, "comment_id": 99206576, "body": "As Yash suggested, you are getting this error because protractor is expecting a <code>.js</code> file, not a <code>.ts</code>. After compiling, try <code>protractor conf.js</code>"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 10841279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10c6a94699b0b7f7e552a8d704a9e223?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Jagdale", "link": "https://stackoverflow.com/users/10841279/yash-jagdale"}, "is_accepted": false, "score": 1, "last_activity_date": 1558547557, "creation_date": 1558547557, "answer_id": 56262421, "question_id": 56252999, "link": "https://stackoverflow.com/questions/56252999/failed-loading-config-ts-due-to-import-protractor/56262421#56262421", "title": "Failed loading config.ts due to import protractor", "body": "<p>By referring to example at link <a href=\"https://github.com/angular/protractor/tree/5.4.1/exampleTypescript\" rel=\"nofollow noreferrer\">https://github.com/angular/protractor/tree/5.4.1/exampleTypescript</a></p>\n\n<p>You don't need to import ProtractorBrowser. You can work with browser directly with object Browser.</p>\n"}, {"tags": [], "owner": {"reputation": 21112, "user_id": 26286, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5f28ab052c1a7d0bb5476a190272449e?s=128&d=identicon&r=PG", "display_name": "Coderer", "link": "https://stackoverflow.com/users/26286/coderer"}, "is_accepted": false, "score": 0, "last_activity_date": 1601633977, "creation_date": 1601633977, "answer_id": 64169944, "question_id": 56252999, "link": "https://stackoverflow.com/questions/56252999/failed-loading-config-ts-due-to-import-protractor/64169944#64169944", "title": "Failed loading config.ts due to import protractor", "body": "<p>Commenters pointed out that you can't give Protractor a config file in native Typescript, and need to compile it to <code>config.js</code> then pass that.  There's really no point in writing the file in Typescript at all, it just adds an extra step that provides no value to you.  If you want editor autocomplete, you can decorate your JS with type annotations:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const { join } = require(&quot;path&quot;);\nconst { register } = require(&quot;ts-node&quot;);\n\nconst { SpecReporter, StacktraceOption } = require(&quot;jasmine-spec-reporter&quot;);\n\n\n/** @type {import(&quot;protractor&quot;).Config} */\nconst config = {\n    directConnect: true,\n    baseUrl: &quot;http://localhost:8080&quot;,\n    framework: &quot;jasmine&quot;,\n    noGlobals: true,\n    specs: [ &quot;./src/**/*.e2e.ts&quot; ],\n    onPrepare() {\n        register({\n            project: join(__dirname, &quot;./tsconfig.json&quot;)\n        });\n        jasmine.getEnv().addReporter(new SpecReporter({\n            spec: {\n                displayStacktrace: StacktraceOption.PRETTY\n            }\n        }));\n    }\n};\n\nmodule.exports = { config };\n</code></pre>\n<p>I adapted my config from <a href=\"https://github.com/coryrylan/ng-pokedex/tree/master/e2e\" rel=\"nofollow noreferrer\">this excellent example</a>.</p>\n"}], "owner": {"reputation": 41, "user_id": 5483220, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/88d6a5f9cb9f12d11f2ce342063d61a7?s=128&d=identicon&r=PG&f=1", "display_name": "Baka no mercy", "link": "https://stackoverflow.com/users/5483220/baka-no-mercy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1678, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1601633977, "creation_date": 1558515545, "last_edit_date": 1558681632, "question_id": 56252999, "link": "https://stackoverflow.com/questions/56252999/failed-loading-config-ts-due-to-import-protractor", "title": "Failed loading config.ts due to import protractor", "body": "<p>I am trying to start a new protractor project to test an angular site. I installed node.js, typescript, protractor globally and jasmine. I go to the project folder and do <code>webdriver-manager update</code>. Then I do <code>webdriver-manager start</code>. I also build the config.ts using <code>tsc config.ts</code>. Everything works fine until i try <code>protractor config.ts</code>. Here i will provide my config.ts and my package.json.</p>\n\n<pre><code>{\n\"name\": \"protractortests\",\n\"version\": \"1.0.0\",\n\"description\": \"Automated tests for a game platform\",\n\"main\": \"index.js\",\n\"dependencies\": {\n  \"@types/jasmine\": \"^3.3.12\",\n  \"@types/node\": \"^12.0.2\",\n  \"jasmine\": \"^3.4.0\",\n  \"protractor\": \"^5.4.2\"\n},\n\"devDependencies\": {},\n\"scripts\": {\n  \"test\": \"protractor config.ts\"\n}\n</code></pre>\n\n<p>and my config.ts:</p>\n\n<pre><code>import { ProtractorBrowser, Config } from \"protractor\";\n    export let config: Config = {\n      seleniumAddress: 'http://localhost:4444/wd/hub',\n      capabilities: {\n        'browserName': 'chrome'\n        },\n\n      framework: 'jasmine',\n      specs: ['./FirstSpec.ts'],\n      jasmineNodeOpts: {\n        defaultTimeoutInterval: 90000\n      },\n      onPrepare: () =&gt; {\n       let globals = require('protractor/built');\n       let browser = globals.browser;\n       browser.manage().window().maximize();\n       browser.manage().timeouts().implicitlyWait(5000);\n     }\n    }\n</code></pre>\n\n<pre><code>E/configParser - Error code: 105\n[11:40:53] E/configParser - Error message: failed loading configuration file config.ts\n[11:40:53] E/configParser - C:\\Users\\Victor\\Documents\\ProtractorTests\\config.ts:1\n(function (exports, require, module, __filename, __dirname) { import { ProtractorBrowser, Config } from \"protractor\";\n                                                                     ^\n\nSyntaxError: Unexpected token {\n    at new Script (vm.js:80:7)\n    at createScript (vm.js:274:10)\n    at Object.runInThisContext (vm.js:326:10)\n    at Module._compile (internal/modules/cjs/loader.js:664:28)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:712:10)\n    at Module.load (internal/modules/cjs/loader.js:600:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:539:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:531:3)\n    at Module.require (internal/modules/cjs/loader.js:637:17)\n    at require (internal/modules/cjs/helpers.js:22:18)\nnpm ERR! Test failed.  See above for more details.\n</code></pre>\n"}, {"tags": ["typescript", "docker", "debugging", "visual-studio-code", "mocha.js"], "comments": [{"owner": {"reputation": 2909, "user_id": 2174742, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b55fc4a8d0d662f34865653f79ef343b?s=128&d=identicon&r=PG", "display_name": "igauravsehrawat", "link": "https://stackoverflow.com/users/2174742/igauravsehrawat"}, "edited": false, "score": 0, "creation_date": 1572949558, "post_id": 56252728, "comment_id": 103712614, "body": "Were you able to resolve it?"}], "owner": {"reputation": 379, "user_id": 5388264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/532b3145726c36fb8e0e102bd89cfd16?s=128&d=identicon&r=PG&f=1", "display_name": "303", "link": "https://stackoverflow.com/users/5388264/303"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 401, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1558514636, "creation_date": 1558514636, "question_id": 56252728, "link": "https://stackoverflow.com/questions/56252728/unverified-breakpoints-when-debugging-typescript-mocha-tests-in-docker-with-visu", "title": "Unverified breakpoints when debugging Typescript Mocha tests in Docker with Visual Studio Code", "body": "<p>I am trying to debug a Mocha test with Visual Studio Code that runs in a Docker container. Due to the Docker container I must launch the tests from inside the container and attach to it which disqualifies answers like <a href=\"https://stackoverflow.com/a/37396089/5388264\">this one</a>. I am getting the debugger to connect and it even breaks with the <code>--debug-brk</code> flag enabled. But every breakpoint I set gets marked as \"Unverified breakpoint\" by VS Code, regardless of whether I set it:</p>\n\n<ul>\n<li>in the tested Typescript files</li>\n<li>in Javascript files required directly or indirectly by the Typescript files</li>\n<li>in the Typescript compiler output</li>\n</ul>\n\n<p>Here is what I do:</p>\n\n<ol>\n<li>Run <code>npm test</code> inside the container which translates to <code>NODE_ENV=test API_PORT=8081 DBDATABASE=tests mocha --timeout 50000 -r source-map-support/register -r ts-node/register --preserve-symlinks --exit --debug-brk --inspect=0.0.0.0:9229 \"./src/**/*.spec.ts\"</code></li>\n<li>Launch the debugger.</li>\n<li>Set the breakpoint. It immediately greys out and says \"Unverified breakpoint\" on hover.</li>\n</ol>\n\n<p>The relevant part of <code>launch.json</code>:</p>\n\n<pre><code>{\n    \"type\": \"node\",\n    \"request\": \"attach\",\n    \"name\": \"Debug Backend\",\n    \"port\": 9229,\n    \"restart\": true,\n    \"protocol\": \"inspector\",\n    \"localRoot\": \"${workspaceFolder}/api/backend/\",\n    \"remoteRoot\": \"/api/backend/\",\n    \"outFiles\": [\"${workspaceFolder}/api/backend/dist/**/*.js\"],\n    \"skipFiles\": [\"&lt;node_internals&gt;/**/*.js\"]\n},\n</code></pre>\n\n<p>In case it might be relevant, here is the <code>tsconfig.json</code>:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es6\",\n    \"module\": \"commonjs\",\n    \"lib\": [\"es5\", \"dom\", \"scripthost\", \"es2017\", \"es6\", \"es7\"],\n    \"allowJs\": true,\n    \"outDir\": \"./dist/\",\n    \"preserveSymlinks\": true,\n    \"strict\": true,\n    \"noImplicitThis\": false,\n    \"moduleResolution\": \"node\",\n    \"baseUrl\": \"./\",\n    \"paths\": {\n      \"sequelize-test-helpers\": [\"typings/sequelize-test-helpers\"]\n    },\n    \"typeRoots\": [\"node_modules/@types\", \"typings\"],\n    \"types\": [\"node\", \"core-js\"]\n  },\n  \"include\": [\"src/**/*.ts\", \"typings\"]\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 12180, "user_id": 7867822, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bpZXl.gif?s=128&g=1", "display_name": "Anurag Srivastava", "link": "https://stackoverflow.com/users/7867822/anurag-srivastava"}, "edited": false, "score": 1, "creation_date": 1558514361, "post_id": 56252625, "comment_id": 99122571, "body": "On page refresh, of course the value will not persist, you may need to use <code>localStorage</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 12180, "user_id": 7867822, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bpZXl.gif?s=128&g=1", "display_name": "Anurag Srivastava", "link": "https://stackoverflow.com/users/7867822/anurag-srivastava"}, "edited": false, "score": 0, "creation_date": 1558514469, "post_id": 56252625, "comment_id": 99122634, "body": "@AnuragSrivastava even with local storage, if the user clears it or is in incognito mode, it won&#39;t work. This kind of control is made on the server, then sent to the client."}, {"owner": {"reputation": 2568, "user_id": 2627160, "user_type": "registered", "profile_image": "https://graph.facebook.com/502698362/picture?type=large", "display_name": "Matt Saunders", "link": "https://stackoverflow.com/users/2627160/matt-saunders"}, "edited": false, "score": 0, "creation_date": 1558514496, "post_id": 56252625, "comment_id": 99122647, "body": "If you want the clicked state to persist after refresh, you&#39;ll have to store it using local variables or cookies when the button is clicked, and then check these and update the &#39;clicked&#39; state in your component as appropriate when the page loads."}, {"owner": {"reputation": 12180, "user_id": 7867822, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bpZXl.gif?s=128&g=1", "display_name": "Anurag Srivastava", "link": "https://stackoverflow.com/users/7867822/anurag-srivastava"}, "edited": false, "score": 0, "creation_date": 1558514500, "post_id": 56252625, "comment_id": 99122649, "body": "@trichetriche Yes, or that."}, {"owner": {"reputation": 2568, "user_id": 2627160, "user_type": "registered", "profile_image": "https://graph.facebook.com/502698362/picture?type=large", "display_name": "Matt Saunders", "link": "https://stackoverflow.com/users/2627160/matt-saunders"}, "edited": false, "score": 0, "creation_date": 1558514677, "post_id": 56252625, "comment_id": 99122751, "body": "It&#39;s difficult to say without knowing more about the situation, but I&#39;d say storing this sort of information (e.g. when a button has been clicked) on a server is overkill. You might store the registration status of a user and then adjust your page accordingly, but for a state like this, local storage feels likely to be the best solution."}, {"owner": {"reputation": 2568, "user_id": 2627160, "user_type": "registered", "profile_image": "https://graph.facebook.com/502698362/picture?type=large", "display_name": "Matt Saunders", "link": "https://stackoverflow.com/users/2627160/matt-saunders"}, "edited": false, "score": 0, "creation_date": 1558514752, "post_id": 56252625, "comment_id": 99122804, "body": "@mhfour - this might be useful <a href=\"https://stackoverflow.com/questions/44564795/how-to-keep-localstorage-values-after-refresh\" title=\"how to keep localstorage values after refresh\">stackoverflow.com/questions/44564795/&hellip;</a>"}, {"owner": {"reputation": 88, "user_id": 8283857, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212024718266639/picture?type=large", "display_name": "Rob Rombouts", "link": "https://stackoverflow.com/users/8283857/rob-rombouts"}, "edited": false, "score": 0, "creation_date": 1558531430, "post_id": 56252625, "comment_id": 99132286, "body": "If you use accounts I assume you also store them somewhere, there you can add a field in which you store whether the verification email has been sent to a specific e-mail address. In the onInit you can retrieve that value and use it in your html."}], "answers": [{"tags": [], "owner": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "is_accepted": true, "score": 1, "last_activity_date": 1558514757, "creation_date": 1558514757, "answer_id": 56252757, "question_id": 56252625, "link": "https://stackoverflow.com/questions/56252625/permanently-disable-button-after-on-click/56252757#56252757", "title": "Permanently disable button after on-click", "body": "<p>As a quick fix, you can use localStorage</p>\n\n<pre><code>this.clicked = localStorage.getItem('clickedVerificationMail') !== null;\nif (! this.clicked) {\n    localStorage.setItem('clickedVerificationMail', true);\n    this.clicked = true;\n}\n</code></pre>\n\n<p>As a general rule, everything that you really want to enforce or security related belongs on your server. Javascript is easily changeable by a user.</p>\n"}], "owner": {"reputation": 145, "user_id": 5829697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1dd414c41732dc53c8bca1fe42cb3db?s=128&d=identicon&r=PG&f=1", "display_name": "mhfour", "link": "https://stackoverflow.com/users/5829697/mhfour"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 56252757, "answer_count": 1, "score": -3, "last_activity_date": 1558533766, "creation_date": 1558514267, "last_edit_date": 1558533766, "question_id": 56252625, "link": "https://stackoverflow.com/questions/56252625/permanently-disable-button-after-on-click", "title": "Permanently disable button after on-click", "body": "<p>I have an e-mail verification page on my project. New users who register will receive an e-mail for them to verify the e-mail. If the link in the e-mail is not clicked after a certain period of time, the page will show a button which they need to click so that they will receive a new e-mail. I would like this button to be permanently disabled after it is clicked, even when the user goes back to the link.</p>\n\n<p>I have added the <code>[disabled]</code> property to the button and set it to true after on-click. But when the page is refreshed or revisited, the button will not be disabled.</p>\n\n<p>This is my HTML so far:</p>\n\n<pre><code>&lt;button type=\"button\" \n    class=\"btn btn-primary\" \n    [disabled]=\"clicked\" \n    (click)=resendEmail()&gt;\n        Resend Verification E-mail\n&lt;/button&gt;\n</code></pre>\n\n<p>In my .ts:</p>\n\n<pre><code>resendEmail() {\n  this.clicked = true;\n}\n</code></pre>\n"}, {"tags": ["json", "typescript", "jsonparser"], "answers": [{"tags": [], "owner": {"reputation": 159275, "user_id": 572644, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/afd0124e3eaa2f2dbe0eb6741aafcd03?s=128&d=identicon&r=PG", "display_name": "Daniel Hilgarth", "link": "https://stackoverflow.com/users/572644/daniel-hilgarth"}, "is_accepted": false, "score": 0, "last_activity_date": 1558513862, "creation_date": 1558513862, "answer_id": 56252503, "question_id": 56252435, "link": "https://stackoverflow.com/questions/56252435/how-to-parse-this-complex-json-object-with-functions-inside/56252503#56252503", "title": "How to parse this complex JSON object with functions inside", "body": "<p>That's not JSON. It's part of an an actual array object. Just assign it:</p>\n\n<pre><code>const a = [{\n    'inputContext': undefined,\n    'intents': {\n        //Default Welcome Intent\n        'LaunchRequest': async (conv: AdfConversation) =&gt; {\n\n        },\n        'ExitIntent': async (conv: AdfConversation) =&gt; {\n\n        },\n        'DefaultFallbackIntent': async (conv: AdfConversation) =&gt; {\n\n        },\n        'Unhandled': (conv: AdfConversation) =&gt; {\n\n        },\n    },\n},\n{\n    'inputContext': ConversationContexts.WELCOME,\n    'intents': {\n        'BargainIntent': async (conv: AdfConversation) =&gt; {\n            conv.setContext(ConversationContexts.BARGAIN)\n            conv.ask('Du hast dich f\u00fcr das Schn\u00e4ppchen entschieden.', ':tell')\n        },\n        'PodcastIntent': async (conv: AdfConversation) =&gt; {\n            conv.setContext(ConversationContexts.PODCAST)\n            if(conv.type){\n                conv._alexaContext!.emitWithState('PodcastIntent',ConversationContexts.PODCAST)\n            }\n        },     \n    },\n}];\n</code></pre>\n"}], "owner": {"reputation": 255, "user_id": 5646296, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/50f1470b4761d361e1ffe546756fff6e?s=128&d=identicon&r=PG&f=1", "display_name": "Johannes N", "link": "https://stackoverflow.com/users/5646296/johannes-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558513862, "creation_date": 1558513697, "question_id": 56252435, "link": "https://stackoverflow.com/questions/56252435/how-to-parse-this-complex-json-object-with-functions-inside", "title": "How to parse this complex JSON object with functions inside", "body": "<p>I got this code sample and would like to know how the suited MOJO (JSON Object) looks like? It consists of an array of complex JSON structure.</p>\n\n<pre><code>{\n    'inputContext': undefined,\n    'intents': {\n        //Default Welcome Intent\n        'LaunchRequest': async (conv: AdfConversation) =&gt; {\n\n        },\n        'ExitIntent': async (conv: AdfConversation) =&gt; {\n\n        },\n        'DefaultFallbackIntent': async (conv: AdfConversation) =&gt; {\n\n        },\n        'Unhandled': (conv: AdfConversation) =&gt; {\n\n        },\n    },\n},\n{\n    'inputContext': ConversationContexts.WELCOME,\n    'intents': {\n        'BargainIntent': async (conv: AdfConversation) =&gt; {\n            conv.setContext(ConversationContexts.BARGAIN)\n            conv.ask('Du hast dich f\u00fcr das Schn\u00e4ppchen entschieden.', ':tell')\n        },\n        'PodcastIntent': async (conv: AdfConversation) =&gt; {\n            conv.setContext(ConversationContexts.PODCAST)\n            if(conv.type){\n                conv._alexaContext!.emitWithState('PodcastIntent',ConversationContexts.PODCAST)\n            }\n        },     \n    },\n}\n</code></pre>\n"}, {"tags": ["typescript", "powerbi", "powerbi-custom-visuals"], "comments": [{"owner": {"reputation": 58, "user_id": 5623063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b6626625b375f534791ef9e92954c60?s=128&d=identicon&r=PG&f=1", "display_name": "Ilfat Galiev", "link": "https://stackoverflow.com/users/5623063/ilfat-galiev"}, "edited": false, "score": 0, "creation_date": 1558946436, "post_id": 56252240, "comment_id": 99252960, "body": "Hello, could you share capabilities.json and body of enumerateObjectInstances method? Need to more details to understand the problem."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11534096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8413d3f997361cd5837cc00f43597f25?s=128&d=identicon&r=PG&f=1", "display_name": "Star8Pam", "link": "https://stackoverflow.com/users/11534096/star8pam"}, "is_accepted": false, "score": 0, "last_activity_date": 1558950054, "creation_date": 1558950054, "answer_id": 56323459, "question_id": 56252240, "link": "https://stackoverflow.com/questions/56252240/power-bi-custom-visual-colour-change-when-modify-date-slicer/56323459#56323459", "title": "Power BI Custom Visual : Colour Change when modify date slicer", "body": "<p>enumerateObjectInstances method :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public enumerateObjectInstances(options: EnumerateVisualObjectInstancesOptions): VisualObjectInstanceEnumeration {\r\n\tlet objectName = options.objectName;\r\n\tlet objectEnumeration: VisualObjectInstance[] = [];\r\n\tlet index = 0;\r\n\tswitch (objectName) {\r\n\t\tcase 'xAxis':\r\n\t\t\tobjectEnumeration.push({\r\n\t\t\t\tobjectName: objectName,\r\n\t\t\t\tproperties: this.settings.xAxis,\r\n\t\t\t\tselector: null\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'y1Axis':\r\n\t\t\tobjectEnumeration.push({\r\n\t\t\t\tobjectName: objectName,\r\n\t\t\t\tproperties: this.settings.y1Axis,\r\n\t\t\t\tselector: null\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'y2Axis':\r\n\t\t\tobjectEnumeration.push({\r\n\t\t\t\tobjectName: objectName,\r\n\t\t\t\tproperties: this.settings.y2Axis,\r\n\t\t\t\tselector: null\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'margin':\r\n\t\t\tobjectEnumeration.push({\r\n\t\t\t\tobjectName: objectName,\r\n\t\t\t\tproperties: this.settings.margin,\r\n\t\t\t\tselector: null\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'legend':\r\n\t\t\tobjectEnumeration.push({\r\n\t\t\t\tobjectName: objectName,\r\n\t\t\t\tproperties: this.settings.legend,\r\n\t\t\t\tselector: null\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'colorSelector':\r\n\t\t\tif (this.viewModel) {\r\n\t\t\t\tfor (let dp of this.viewModel.dataPoints) {\r\n\t\t\t\t\tobjectEnumeration.push({\r\n\t\t\t\t\t\tobjectName: objectName,\r\n\t\t\t\t\t\tdisplayName: dp.category,\r\n\t\t\t\t\t\tproperties: {\r\n\t\t\t\t\t\t\tfill: {\r\n\t\t\t\t\t\t\t\tsolid: {\r\n\t\t\t\t\t\t\t\t\tcolor: dp.colour || this.settings.colorSelector[Object.keys(this.settings.colorSelector)[index]]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tselector: dp.selectionId.getSelector()\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase 'datashape':\r\n\t\t\tif (this.viewModel) {\r\n\t\t\t\tfor (let dp of this.viewModel.dataPoints) {\r\n\t\t\t\t\tobjectEnumeration.push({\r\n\t\t\t\t\t\tobjectName: objectName,\r\n\t\t\t\t\t\tdisplayName: dp.category,\r\n\t\t\t\t\t\tproperties: {\r\n\t\t\t\t\t\t\tshape: dp.symbol || this.settings.datashape[Object.keys(this.settings.datashape)[index]]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tselector: dp.selectionId.getSelector()\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase 'datatrace':\r\n\t\t\tif (this.viewModel) {\r\n\t\t\t\tfor (let dp of this.viewModel.dataPoints) {\r\n\t\t\t\t\tobjectEnumeration.push({\r\n\t\t\t\t\t\tobjectName: objectName,\r\n\t\t\t\t\t\tdisplayName: dp.category,\r\n\t\t\t\t\t\tproperties: {\r\n\t\t\t\t\t\t\tcharttype: dp.trace || this.settings.datatrace[Object.keys(this.settings.datatrace)[index]]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tselector: dp.selectionId.getSelector()\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t  };\r\n\t  return objectEnumeration;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Capabilities.json :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>{\r\n    \"dataRoles\": [\r\n        {\r\n            \"displayName\": \"X-Axis\",\r\n            \"name\": \"x\",\r\n            \"kind\": \"Grouping\"\r\n        },\r\n        {\r\n            \"displayName\": \"Y-Axis 1\",\r\n            \"name\": \"y1\",\r\n            \"kind\": \"Measure\"\r\n        },\r\n        {\r\n            \"displayName\": \"Y-Axis 2\",\r\n            \"name\": \"y2\",\r\n            \"kind\": \"Measure\"\r\n        },\r\n        {\r\n            \"displayName\": \"Split by\",\r\n            \"name\": \"splitby1\",\r\n            \"kind\": \"Grouping\"\r\n        }\r\n    ],\r\n    \"dataViewMappings\": [\r\n        {\r\n            \"conditions\": [\r\n                {\r\n                    \"x\": {\r\n                        \"max\": 1\r\n                    },\r\n                    \"legend\": {\r\n                        \"max\": 1\r\n                    },\r\n                    \"splitby1\": {\r\n                        \"max\": 1\r\n                    }\r\n                }\r\n            ],\r\n            \"categorical\": {\r\n                \"categories\": {\r\n                    \"for\": {\r\n                        \"in\": \"x\"\r\n                    }\r\n                },\r\n                \"values\": {\r\n                    \"group\": {\r\n                        \"by\": \"splitby1\",\r\n                        \"select\": [\r\n                            {\r\n                                \"for\": {\r\n                                    \"in\": \"y1\"\r\n                                }\r\n                            },\r\n                            {\r\n                                \"for\": {\r\n                                    \"in\": \"y2\"\r\n                                }\r\n                            }\r\n                        ]\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    ],\r\n    \"suppressDefaultTitle\": true,\r\n    \"objects\": {\r\n        \"xAxis\": {\r\n            \"displayName\": \"X-Axis\",\r\n            \"properties\": {\r\n                \"title\": {\r\n                    \"displayName\": \"Title\",\r\n                    \"type\": {\r\n                        \"text\": true\r\n                    }\r\n                },\r\n                \"margin\": {\r\n                    \"displayName\": \"Margin\",\r\n                    \"type\": {\r\n                        \"text\": true\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        \"y1Axis\": {\r\n            \"displayName\": \"Y1-Axis\",\r\n            \"properties\": {\r\n                \"title\": {\r\n                    \"displayName\": \"Title\",\r\n                    \"type\": {\r\n                        \"text\": true\r\n                    }\r\n                },\r\n                \"margin\": {\r\n                    \"displayName\": \"Margin\",\r\n                    \"type\": {\r\n                        \"text\": true\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        \"y2Axis\": {\r\n            \"displayName\": \"Y2-Axis\",\r\n            \"properties\": {\r\n                \"title\": {\r\n                    \"displayName\": \"Title\",\r\n                    \"type\": {\r\n                        \"text\": true\r\n                    }\r\n                },\r\n                \"margin\": {\r\n                    \"displayName\": \"Margin\",\r\n                    \"type\": {\r\n                        \"text\": true\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        \"datatrace\": {\r\n            \"displayName\": \"Trace Type\",\r\n            \"properties\": {\r\n                \"charttype\": {\r\n                    \"displayName\": \"Trace\",\r\n                    \"type\": {\r\n                        \"enumeration\": [\r\n                            {\r\n                                \"displayName\": \"Line Chart\",\r\n                                \"value\": \"line\"\r\n                            },\r\n                            {\r\n                                \"displayName\": \"Line Marker Chart\",\r\n                                \"value\": \"lineMarker\"\r\n                            }\r\n                        ]\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        \"margin\": {\r\n            \"displayName\": \"Margins\",\r\n            \"properties\": {\r\n                \"l\": {\r\n                    \"displayName\": \"Left\",\r\n                    \"type\": {\r\n                        \"numeric\": true\r\n                    }\r\n                },\r\n                \"r\": {\r\n                    \"displayName\": \"Right\",\r\n                    \"type\": {\r\n                        \"numeric\": true\r\n                    }\r\n                },\r\n                \"t\": {\r\n                    \"displayName\": \"Top\",\r\n                    \"type\": {\r\n                        \"numeric\": true\r\n                    }\r\n                },\r\n                \"b\": {\r\n                    \"displayName\": \"Bottom\",\r\n                    \"type\": {\r\n                        \"numeric\": true\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        \"legend\": {\r\n            \"displayName\": \"Legend\",\r\n            \"properties\": {\r\n                \"enabled\": {\r\n                    \"displayName\": \"Enabled\",\r\n                    \"type\": {\r\n                        \"bool\": true\r\n                    }\r\n                },\r\n                \"orientation\": {\r\n                    \"displayName\": \"Orientation\",\r\n                    \"type\": {\r\n                        \"enumeration\": [\r\n                            {\r\n                                \"displayName\": \"Vertical\",\r\n                                \"value\": \"v\"\r\n                            },\r\n                            {\r\n                                \"displayName\": \"Horizontal\",\r\n                                \"value\": \"h\"\r\n                            }\r\n                        ]\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        \"colorSelector\": {\r\n            \"displayName\": \"Data Colors\",\r\n            \"properties\": {\r\n                \"fill\": {\r\n                    \"displayName\": \"Color\",\r\n                    \"type\": {\r\n                        \"fill\": {\r\n                            \"solid\": {\r\n                                \"color\": true\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        \"datashape\": {\r\n            \"displayName\": \"Shape Type\",\r\n            \"properties\": {\r\n                \"shape\": {\r\n                    \"displayName\": \"Shape\",\r\n                    \"type\": {\r\n                        \"enumeration\": [\r\n                            {\r\n                                \"displayName\": \"Default\",\r\n                                \"value\": \"none\"\r\n                            },\r\n                            {\r\n                                \"displayName\": \"Circle\",\r\n                                \"value\": \"circle\"\r\n                            }\r\n                        ]\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 11534096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8413d3f997361cd5837cc00f43597f25?s=128&d=identicon&r=PG&f=1", "display_name": "Star8Pam", "link": "https://stackoverflow.com/users/11534096/star8pam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 320, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558950054, "creation_date": 1558513050, "last_edit_date": 1558705310, "question_id": 56252240, "link": "https://stackoverflow.com/questions/56252240/power-bi-custom-visual-colour-change-when-modify-date-slicer", "title": "Power BI Custom Visual : Colour Change when modify date slicer", "body": "<p>I created a custom visual in power BI that allowed to insert different types of chart in one plot. But when I insert the plot on the dashboard, I have some trouble with date slicer. I define a colour for ma data and I save it with:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let view = dataView[0].categorical;\r\nlet categories = view.categories[0];\r\nlet objects = categories.objects;\r\nlet value = view.values;\r\n\r\nfor (let i = 0, len = Math.max(value.length); i &lt; len; i++) {\r\n  viewModel.dataPoints.push({\r\n    category: &lt; string &gt; value[i].source.displayName,\r\n    colour: objects &amp;&amp; objects[i] &amp;&amp; DataViewObjects.getFillColor(objects[i], {\r\n      objectName: \"colorSelector\",\r\n      propertyName: \"fill\"\r\n    }, null),\r\n    selectionId: this.host.createSelectionIdBuilder()\r\n      .withCategory(categories, i)\r\n      .createSelectionId(),\r\n  });\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>But when I change the date slicer, objects is null or undefined and colour is reset to default.</p>\n\n<p>There is a solution to always save the color in object when slicer is modify.</p>\n\n<p>Thanks for yours help.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "express", "next"], "comments": [{"owner": {"reputation": 1029, "user_id": 8294109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8WyaZ.png?s=128&g=1", "display_name": "josemartindev", "link": "https://stackoverflow.com/users/8294109/josemartindev"}, "edited": false, "score": 1, "creation_date": 1558512538, "post_id": 56252086, "comment_id": 99121640, "body": "Note: If you post something in client side <code>fetch.post</code> it has to be <code>router.post</code> in your server, not <code>router.get</code>"}, {"owner": {"reputation": 915, "user_id": 11220076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd0d77b24a44fdb38b229f88c6af64e8?s=128&d=identicon&r=PG&f=1", "display_name": "Mark James", "link": "https://stackoverflow.com/users/11220076/mark-james"}, "reply_to_user": {"reputation": 1029, "user_id": 8294109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8WyaZ.png?s=128&g=1", "display_name": "josemartindev", "link": "https://stackoverflow.com/users/8294109/josemartindev"}, "edited": false, "score": 0, "creation_date": 1558512654, "post_id": 56252086, "comment_id": 99121701, "body": "@josemartindev ok, yup, I am will use then get. Thanks"}, {"owner": {"reputation": 4156, "user_id": 5438616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ac7d10942eb0c1ef5db6f7db98a6b37?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Hennes", "link": "https://stackoverflow.com/users/5438616/thomas-hennes"}, "edited": false, "score": 0, "creation_date": 1558516971, "post_id": 56252086, "comment_id": 99124102, "body": "I don&#39;t quite understand. Next.js is already acting as a server (server-side rendering of React components is the main reason to use Next). If you want to customize the server side, you have to do it from within the framework, see <a href=\"https://nextjs.org/docs/#custom-server-and-routing\" rel=\"nofollow noreferrer\">nextjs.org/docs/#custom-server-and-routing</a>"}], "owner": {"reputation": 915, "user_id": 11220076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd0d77b24a44fdb38b229f88c6af64e8?s=128&d=identicon&r=PG&f=1", "display_name": "Mark James", "link": "https://stackoverflow.com/users/11220076/mark-james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1558512441, "creation_date": 1558512441, "question_id": 56252086, "link": "https://stackoverflow.com/questions/56252086/how-to-communicate-between-server-and-client", "title": "How to communicate between server and client?", "body": "<p>How to send request to server from client, client is next.js and server is express.js.</p>\n\n<p>I am trying to implement google auth, on server I have routes which will redirect me to google auth:</p>\n\n<p>AuthController class on Server:</p>\n\n<pre><code>export default class AuthenticationController {\n  public static async authGoogle(\n    req: Express.Request,\n    res: Express.Response,\n    next: () =&gt; void\n  ): Promise&lt;void&gt; {\n    passport.authenticate('google', { scope: ['https://www.googleapis.com/auth/plus.login'] })(\n      req,\n      res,\n      next\n    );\n  }\n\n  public static async authGoogleCallback(\n    req: Express.Request,\n    res: Express.Response\n  ): Promise&lt;void&gt; {\n    passport.authenticate('google', {}, (err, user: User) =&gt; {\n      res.setHeader('Content-Type', 'application/json');\n\n      if (err) {\n        logger.error('Login failed', err, JSON.stringify(user));\n        res.status(500);\n        res.send({\n          message: 'Login failed',\n          success: false\n        });\n      } else {\n        logger.debug(`User ${user.id} logged in`);\n        res.status(200);\n        res.cookie('jwt', 1);\n        res.send({\n          message: 'User logged in',\n          success: true,\n          token: `${jsonwebtoken.sign(\n            JSON.stringify(user),\n            process.env.JWT_SECRET || 'DONT_USE_IN_PROD'\n          )}`\n        });\n        res.redirect('/');\n      }\n      res.end();\n    })(req, res);\n  }\n</code></pre>\n\n<p>This is Authentication Router on server:</p>\n\n<pre><code>export function authenticationRouter(): Router {\n  const router = Router();\n\nexport function addGoogleRoutes(router: Router): Router {\n  // Google auth routes\n  router.get('/google', AuthenticationController.authGoogle);\n  router.get('/google/callback', AuthenticationController.authGoogleCallback);\n\n  return router;\n}\n</code></pre>\n\n<p>Main problem is that, I don't undrstand how to access to server, how to send request, and execute routes google route <code>(addGoogleRoutes)</code> on server from Login component. </p>\n\n<p>This is Login component/page on client in next.js:</p>\n\n<pre><code>class Login extends React.Component {\n  static async getInitialProps() {\n    return {};\n  }\n\n  handleClick = () =&gt; {\n    console.log('handle click');\n    fetch.post('point google auth route on server');\n  };\n\n  render() {\n    return (\n      &lt;LoginLayout title=\"Login Page\"&gt;\n        &lt;button className=\"login-field\" onClick={this.handleClick}&gt;\n          Login with Google\n        &lt;/button&gt;\n      &lt;/LoginLayout&gt;\n    );\n  }\n}\n\nexport default Login;\n</code></pre>\n\n<p>Any advice or help is welcome!</p>\n"}, {"tags": ["javascript", "node.js", "angular", "typescript", "ecmascript-6"], "answers": [{"tags": [], "owner": {"reputation": 6954, "user_id": 1850851, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6784558f77f063472d44576d296a8a61?s=128&d=identicon&r=PG", "display_name": "Cristian Tra&#236;na", "link": "https://stackoverflow.com/users/1850851/cristian-tra%c3%acna"}, "is_accepted": true, "score": 2, "last_activity_date": 1558515329, "creation_date": 1558515329, "answer_id": 56252933, "question_id": 56251902, "link": "https://stackoverflow.com/questions/56251902/is-there-a-safe-operator-alternative-in-typescript-to-deal-with-null-value/56252933#56252933", "title": "Is there a ? (&quot;safe operator&quot;) alternative in Typescript to deal with null values?", "body": "<p>Just out of curiosity, that's named <strong>elvis operator</strong> (Ref. Kotlin) and it's also a <a href=\"https://dev.to/sammyisa/optional-chaining-may-be-coming-to-javascript--4ff0\" rel=\"nofollow noreferrer\">javascript proposal</a> that could come out in next ES specifications. There's no a short solution for typescript/javascript, if you don't want to chain it like </p>\n\n<pre><code>injuryType &amp;&amp; injuryType.value &amp;&amp; injuryType.value.value\n</code></pre>\n\n<p>then you can just create a function that returns <code>null</code> in case of exception:</p>\n\n<pre><code>export function safeNavigation(cb) {\n  try {\n    return cb();\n  } catch (error) {\n    return null;\n  }\n};\n\n\n\n\n// In the component...\nif (safeNavigation(() =&gt; injuryType.value.value) === 'Burglary in the car') {\n...\n</code></pre>\n\n<p>PS. If it doesn't casue conflicts, I like to rename it as <code>_</code> and use it like <code>_(() =&gt; path.to.navigate)</code></p>\n"}], "owner": {"reputation": 956, "user_id": 10628282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7db2c233d0763739b14dd33e3ee39b?s=128&d=identicon&r=PG&f=1", "display_name": "user9847788", "link": "https://stackoverflow.com/users/10628282/user9847788"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 308, "favorite_count": 0, "accepted_answer_id": 56252933, "answer_count": 1, "score": 1, "last_activity_date": 1571824595, "creation_date": 1558511741, "last_edit_date": 1571824595, "question_id": 56251902, "link": "https://stackoverflow.com/questions/56251902/is-there-a-safe-operator-alternative-in-typescript-to-deal-with-null-value", "title": "Is there a ? (&quot;safe operator&quot;) alternative in Typescript to deal with null values?", "body": "<p>In my Angular app, I'm trying to show/hide a div using <code>ngIf</code>.</p>\n\n<p>Below is my HTML:</p>\n\n<pre><code>&lt;div *ngIf=\"damageReportToPolice()\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And here is my typescript:</p>\n\n<pre><code>public damageReportToPolice(): boolean {      \n if(this.damageDetailsTwoForm['controls'].injuryTypeGp['controls'].injuryType.value.value === 'Burglary in the car') {\n          return true;\n        } else {\n          return false;\n        }\n      }\n</code></pre>\n\n<p>This is working fine when the page loads, &amp; when the condition is true the div is displaying.</p>\n\n<p>But, when I <code>reset()</code> the form, I get the following error:</p>\n\n<blockquote>\n  <p>Cannot read property 'value' of null</p>\n</blockquote>\n\n<p>When I had this conditional in my HTML, I was able to use <code>?</code> as a safe operator like so:</p>\n\n<pre><code>damageDetailsTwoForm['controls'].injuryTypeGp.controls.injuryType?.value?.value === 'Burglary in the car'\n</code></pre>\n\n<p>But I can't seem to find a typescript alternative to this. </p>\n\n<p>Can someone please tell me if there's a <em>safe operator</em> I can use? Or how I can get around this issue?</p>\n\n<p>Thanks a lot in advance!</p>\n"}, {"tags": ["typescript", "anchor", "ionic4"], "answers": [{"comments": [{"owner": {"reputation": 3047, "user_id": 10388629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/My8T3.png?s=128&g=1", "display_name": "Pika the Master of the Whales", "link": "https://stackoverflow.com/users/10388629/pika-the-master-of-the-whales"}, "edited": false, "score": 4, "creation_date": 1558653020, "post_id": 56283520, "comment_id": 99181798, "body": "While this code may solve the question, <a href=\"https://meta.stackexchange.com/questions/114762\">including an explanation</a> of how and why this solves the problem would really help to improve the quality of your post, and probably result in more up-votes. Remember that you are answering the question for readers in the future, not just the person asking now. Please edit your answer to add explanations and give an indication of what limitations and assumptions apply."}, {"owner": {"reputation": 80, "user_id": 6917013, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/37e799cb18fc24e796302ee86343ff17?s=128&d=identicon&r=PG&f=1", "display_name": "A. Inbar", "link": "https://stackoverflow.com/users/6917013/a-inbar"}, "edited": false, "score": 0, "creation_date": 1558677194, "post_id": 56283520, "comment_id": 99186062, "body": "Hi, thank you for your answer. Because it\u2019s an HTMLAnchorElement I can\u2019t just add it. I have tried using element.addAttribute(\u201c(click)\u201d, \u201cthis.redirect()\u201d); but it said the it contains illegal characters. How do I do it using typescript?"}], "tags": [], "owner": {"reputation": 388, "user_id": 11547069, "user_type": "registered", "profile_image": "https://graph.facebook.com/2495546973837823/picture?type=large", "display_name": "Brayan Garcia", "link": "https://stackoverflow.com/users/11547069/brayan-garcia"}, "is_accepted": false, "score": 0, "last_activity_date": 1558649287, "creation_date": 1558649287, "answer_id": 56283520, "question_id": 56251560, "link": "https://stackoverflow.com/questions/56251560/how-can-i-add-an-onclick-event-to-an-htmlanchorelement/56283520#56283520", "title": "How can I add an onclick event to an HTMLAnchorElement?", "body": "<p>Just: </p>\n\n<pre><code>  &lt;a (click)=\"myFunction()\"&gt;&lt;/a&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 80, "user_id": 6917013, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/37e799cb18fc24e796302ee86343ff17?s=128&d=identicon&r=PG&f=1", "display_name": "A. Inbar", "link": "https://stackoverflow.com/users/6917013/a-inbar"}, "is_accepted": true, "score": 0, "last_activity_date": 1559153320, "creation_date": 1559153320, "answer_id": 56366309, "question_id": 56251560, "link": "https://stackoverflow.com/questions/56251560/how-can-i-add-an-onclick-event-to-an-htmlanchorelement/56366309#56366309", "title": "How can I add an onclick event to an HTMLAnchorElement?", "body": "<p>Figured it out.\nJust did:</p>\n\n<pre><code>element.addEventListener(\"click\", () =&gt; {\n    this.redirect(element.href);\n  });\n</code></pre>\n\n<p>and then added to the page by calling:</p>\n\n<pre><code>this.webview.nativeElement.appendChild(doc.body);\n</code></pre>\n"}], "owner": {"reputation": 80, "user_id": 6917013, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/37e799cb18fc24e796302ee86343ff17?s=128&d=identicon&r=PG&f=1", "display_name": "A. Inbar", "link": "https://stackoverflow.com/users/6917013/a-inbar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 666, "favorite_count": 0, "accepted_answer_id": 56366309, "answer_count": 2, "score": 0, "last_activity_date": 1559153320, "creation_date": 1558510446, "last_edit_date": 1558599809, "question_id": 56251560, "link": "https://stackoverflow.com/questions/56251560/how-can-i-add-an-onclick-event-to-an-htmlanchorelement", "title": "How can I add an onclick event to an HTMLAnchorElement?", "body": "<p>I'm working on an ionic app. As a part of this app, I'm sending a get request and get an html page. Now, I need to present it in my app. I've tried to present it in an iframe using the srcdoc but the web page has links to another pages and when it is being clicked I need to provide an Authorization header. Therefore I decided I should take the html string and manipulate it so when the anchor is being clicked it will call a function and send a get request with the authorization head (to the href url)</p>\n\n<p>I'm converting my html string to a Document object and get all the \"a\" items:</p>\n\n<pre><code>var doc = (new DOMParser).parseFromString(this.htmlPage, \"text/html\");\nvar links = doc.body.getElementsByTagName(\"a\");\nfor (let i = 0; i &lt; links.length; i++) {\n      const element = links.item(i);\n      var self = this;\n      element.onclick = function() {\n        self.redirect(element.href);\n      };\n      element.removeAttribute(\"href\");\n    }\n</code></pre>\n\n<p>The href attribute is being removed but the onclick event is not added. How can I fix it?</p>\n"}, {"tags": ["javascript", "typescript", "joi"], "comments": [{"owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 0, "creation_date": 1558510689, "post_id": 56251423, "comment_id": 99120655, "body": "Did you check this github issue already? <a href=\"https://github.com/hapijs/joi/issues/1021\" rel=\"nofollow noreferrer\">github.com/hapijs/joi/issues/1021</a> It sounds quite similar to your issue. It&#39;s quite weird that the error is thrown at line 52, though."}, {"owner": {"reputation": 20365, "user_id": 1759845, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/RUTxR.jpg?s=128&g=1", "display_name": "BackSlash", "link": "https://stackoverflow.com/users/1759845/backslash"}, "reply_to_user": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 0, "creation_date": 1558511943, "post_id": 56251423, "comment_id": 99121345, "body": "@briosheje Yes, I looked at that issue, unfortunately they say to use <code>when&#47;is&#47;then&#47;otherwise</code> which is limiting because I can only have two branches (<code>then</code>, <code>otherwise</code>). My MCVE is simplified, my real scenario is about 10 different schemas which differ based on the <code>subtype</code>, so I can&#39;t use this solution here. Maybe I could chain <code>when</code>/<code>otherwise</code> to reproduce an <code>if</code>/<code>else if</code> scenario, but this seems ugly. Is this the only solution?"}, {"owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 0, "creation_date": 1558516889, "post_id": 56251423, "comment_id": 99124061, "body": "Not sure, I&#39;ve personally never used joi before. Perhaps someone else have other ideas. Otherwise, you may want to open another issue or reopen the existing one, maybe the author or the team may give you further help"}], "answers": [{"comments": [{"owner": {"reputation": 20365, "user_id": 1759845, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/RUTxR.jpg?s=128&g=1", "display_name": "BackSlash", "link": "https://stackoverflow.com/users/1759845/backslash"}, "edited": false, "score": 0, "creation_date": 1558707987, "post_id": 56294390, "comment_id": 99201720, "body": "Unfortunately, as said in comments I have way more properties and possible values than shown in the question (I made a short example just to demonstrate the issue, my real scenario is bigger), so this would result in a lot of unnecessary repetitions. I ended up abandoning joi in favor or ajv, which support validation against JSON-Schema draft 07 (which supports nested when clauses and is way more readable than Joi&#39;s js schema). Thanks a lot though!"}, {"owner": {"reputation": 1323, "user_id": 2908330, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/Q3BG7.png?s=128&g=1", "display_name": "soltex", "link": "https://stackoverflow.com/users/2908330/soltex"}, "reply_to_user": {"reputation": 20365, "user_id": 1759845, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/RUTxR.jpg?s=128&g=1", "display_name": "BackSlash", "link": "https://stackoverflow.com/users/1759845/backslash"}, "edited": false, "score": 1, "creation_date": 1558708350, "post_id": 56294390, "comment_id": 99201938, "body": "No problem! but yeah, I agree, Joi may not be the right option for complicated schemas."}], "tags": [], "owner": {"reputation": 1323, "user_id": 2908330, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/Q3BG7.png?s=128&g=1", "display_name": "soltex", "link": "https://stackoverflow.com/users/2908330/soltex"}, "is_accepted": false, "score": 0, "last_activity_date": 1558707075, "creation_date": 1558707075, "answer_id": 56294390, "question_id": 56251423, "link": "https://stackoverflow.com/questions/56251423/using-when-alternatives-inside-when/56294390#56294390", "title": "Using when/alternatives inside when", "body": "<p>I suggest a different approach by using <strong>Joi.alternatives()</strong>, this way you can avoid nested <strong>when</strong>, so your schema should look like this:</p>\n\n<pre><code>Joi.alternatives().try(\n    Joi.object({\n        type: Joi.string().valid('TYPE1').required(),\n        one: Joi.string().required(),\n        two: Joi.string().required(),\n        three: Joi.string().required(),\n    }),\n    Joi.object({\n        type: Joi.string().valid('TYPE2').required(),\n        four: Joi.string().required(),\n        five: Joi.string().required(),\n        six: Joi.string().required(),\n    }),\n    Joi.object({\n        type: Joi.string().valid('TYPE3').required(),\n        subtype: Joi.string().valid('A', 'B')\n    })\n        .when(Joi.object({ subtype: 'A' }).unknown(), {\n            then: Joi.object({\n                seven: Joi.string().required(),\n                eight: Joi.string().required(),\n                nine: Joi.string().required(),\n            }),\n        })\n        .when(Joi.object({ subtype: 'B' }).unknown(), {\n            then: Joi.object({\n                ten: Joi.string().required(),\n                eleven: Joi.string().required(),\n                twelve: Joi.string().required(),\n            }),\n        }),\n);\n</code></pre>\n"}], "owner": {"reputation": 20365, "user_id": 1759845, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/RUTxR.jpg?s=128&g=1", "display_name": "BackSlash", "link": "https://stackoverflow.com/users/1759845/backslash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1116, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1558707075, "creation_date": 1558509904, "question_id": 56251423, "link": "https://stackoverflow.com/questions/56251423/using-when-alternatives-inside-when", "title": "Using when/alternatives inside when", "body": "<p>I need to validate a schema with <code>joi</code>.</p>\n\n<p>The object is like this:</p>\n\n<ol>\n<li>There is a required property named \"type\" whose values can be <code>TYPE1</code>, <code>TYPE2</code>, <code>TYPE3</code>.</li>\n<li>If <code>type === 'TYPE1'</code>, we must expect properties <code>one</code>, <code>two</code> and <code>three</code> at the same level.</li>\n<li>If <code>type === 'TYPE2'</code>, we must expect properties <code>four</code>, <code>five</code> and <code>six</code> at the same level.</li>\n<li>If <code>type === 'TYPE3'</code>, we must expect a <code>subtype</code> property at the same level, with possible values <code>A</code> and <code>B</code>.\n\n<ul>\n<li>If <code>subtype === 'A'</code>, then we must expect properties <code>seven</code>, <code>eight</code>, <code>nine</code> at the same level.</li>\n<li>If <code>subtype === 'B'</code>, then we must expect properties <code>ten</code>, <code>eleven</code>, <code>twelve</code> at the same level.</li>\n</ul></li>\n</ol>\n\n<p>This is what I came up with:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { object, string, validate } from 'joi';\n\nconst obj1 = { // valid\n  type: 'TYPE1',\n  one: '01',\n  two: '02',\n  three: '03',\n};\nconst obj2 = { // valid\n  type: 'TYPE2',\n  four: '04',\n  five: '05',\n  six: '06',\n};\nconst obj3 = { // valid\n  type: 'TYPE3',\n  subtype: 'A',\n  seven: '07',\n  eight: '08',\n  nine: '09',\n};\nconst obj4 = { // valid\n  type: 'TYPE3',\n  subtype: 'B',\n  ten: '10',\n  eleven: '11',\n  twelve: '12',\n};\n\nconst joiSchema = object({\n  // point 1\n  type: string().valid('TYPE1', 'TYPE2', 'TYPE3').required(),\n})\n.when(\n  // point 2\n  object({ type: 'TYPE1' }).unknown(),\n  {\n    then: object({\n      one: string().required(),\n      two: string().required(),\n      three: string().required(),\n    }),\n  },\n)\n.when(\n  // point 3\n  object({ type: 'TYPE2' }).unknown(),\n  {\n    then: object({\n      four: string().required(),\n      five: string().required(),\n      six: string().required(),\n    }),\n  },\n)\n.when(\n  // point 4\n  object({ type: 'TYPE3' }).unknown(),\n  {\n    then: object(\n      // if type === 'TYPE3', check for one of those schemas\n      {\n        // point 4\n        subtype: string().valid('A', 'B'),\n      },\n    ).when(\n      // point 4.1\n      object({ subtype: 'A' }).unknown(),\n      {\n        then: object({\n          seven: string().required(),\n          eight: string().required(),\n          nine: string().required(),\n        }),\n      },\n    ).when(\n      // point 4.2\n      object({ subtype: 'B' }).unknown(),\n      {\n        then: object({\n          ten: string().required(),\n          eleven: string().required(),\n          twelve: string().required(),\n        }),\n      },\n    ),\n  },\n);\n\nconst result1 = validate(obj1, joiSchema);\nconsole.log('Validating obj1')\nif (result1.error) {\n  console.error(result1.error.message);\n}\n\nconst result2 = validate(obj2, joiSchema);\nconsole.log('Validating obj2')\nif (result2.error) {\n  console.error(result2.error.message);\n}\n\nconst result3 = validate(obj3, joiSchema);\nconsole.log('Validating obj3')\nif (result3.error) {\n  console.error(result3.error.message);\n}\n\nconst result4 = validate(obj4, joiSchema);\nconsole.log('Validating obj4')\nif (result4.error) {\n  console.error(result4.error.message);\n}\n</code></pre>\n\n<p>This snippet is available for testing here: <a href=\"https://repl.it/@AlessandroDe5/Joi-MCVE\" rel=\"nofollow noreferrer\">https://repl.it/@AlessandroDe5/Joi-MCVE</a></p>\n\n<p>It is showing this error:</p>\n\n<pre><code>AssertionError [ERR_ASSERTION]: Cannot merge type object with another type: alternatives\n    at new AssertionError (internal/errors.js:315:11)\n    at Object.exports.assert (/home/runner/node_modules/hoek/lib/index.js:559:11)\n    at internals.Object.concat (/home/runner/node_modules/joi/lib/types/any/index.js:148:14)\n    at internals.Alternatives.when (/home/runner/node_modules/joi/lib/types/alternatives/index.js:131:52)\n    at index.ts:52:6\n    at Script.runInThisContext (vm.js:65:33)\n    at startRepl (/usr/local/lib/node_modules/ts-node-fm/src/bin.ts:157:12)\n    at Object.&lt;anonymous&gt; (/usr/local/lib/node_modules/ts-node-fm/src/bin.ts:66:1)\n    at Module._compile (internal/modules/cjs/loader.js:654:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:665:10)\n</code></pre>\n\n<p>If I remove the nested <code>when</code> (point 4, 4.1, 4.2) it works without errors and of course rejects the last two objects.</p>\n\n<p>I also tried replacing <code>when</code> with <code>alternatives</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>.when(\n  // point 4\n  object({ type: 'TYPE3' }).unknown(),\n  {\n    then: alternatives().try(\n      object({\n        subtype: string().valid('A'),\n        seven: string().required(),\n        eight: string().required(),\n        nine: string().required(),\n      }),\n    ).when(\n      object({\n        subtype: string().valid('B'),\n        ten: string().required(),\n        eleven: string().required(),\n        twelve: string().required(),\n      }),\n    ),\n  },\n);\n</code></pre>\n\n<p>As one could expect I get the exact same error.</p>\n\n<p>Is there a way accomplish the task somehow?</p>\n"}, {"tags": ["html", "typescript", "angular7", "adobe-illustrator"], "comments": [{"owner": {"reputation": 803, "user_id": 2965537, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3f30ad895ec511aceff59c018bbd910b?s=128&d=identicon&r=PG", "display_name": "Arjan", "link": "https://stackoverflow.com/users/2965537/arjan"}, "edited": false, "score": 1, "creation_date": 1558535019, "post_id": 56251374, "comment_id": 99134712, "body": "probably Illustrator puts one combined image on the clipboard. I guess <code>items.count</code> to be 1?"}, {"owner": {"reputation": 33, "user_id": 6910005, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vcMIF42irLc/AAAAAAAAAAI/AAAAAAAAEmA/d8ooV7UdvsE/photo.jpg?sz=128", "display_name": "Ganesh Arasapaharan", "link": "https://stackoverflow.com/users/6910005/ganesh-arasapaharan"}, "reply_to_user": {"reputation": 803, "user_id": 2965537, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3f30ad895ec511aceff59c018bbd910b?s=128&d=identicon&r=PG", "display_name": "Arjan", "link": "https://stackoverflow.com/users/2965537/arjan"}, "edited": false, "score": 0, "creation_date": 1558596824, "post_id": 56251374, "comment_id": 99155228, "body": "@Arjan I think the same. But is there anyway to split the images or any configuration on adobe illustrator not to make it one combined image?"}, {"owner": {"reputation": 803, "user_id": 2965537, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3f30ad895ec511aceff59c018bbd910b?s=128&d=identicon&r=PG", "display_name": "Arjan", "link": "https://stackoverflow.com/users/2965537/arjan"}, "edited": false, "score": 0, "creation_date": 1558597514, "post_id": 56251374, "comment_id": 99155579, "body": "I do not know the configuration options of Illustrator. In my experience with other programs, though, the way a program uses the clipboard, (which formats are put on on the clipboard and how) is usualy not document or configurable"}], "owner": {"reputation": 33, "user_id": 6910005, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vcMIF42irLc/AAAAAAAAAAI/AAAAAAAAEmA/d8ooV7UdvsE/photo.jpg?sz=128", "display_name": "Ganesh Arasapaharan", "link": "https://stackoverflow.com/users/6910005/ganesh-arasapaharan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1558509776, "creation_date": 1558509776, "question_id": 56251374, "link": "https://stackoverflow.com/questions/56251374/angular-7-multiple-svg-images-copy-and-paste", "title": "Angular 7 - Multiple SVG images copy and paste", "body": "<p>I'm trying to implement copying multiple images from adobe illustrator and pasting it in web page to upload. I could achieve the same for single image but when I copy multiple images, all the images together act as single image. \nBelow is the code</p>\n\n<pre><code>&lt;mat-card class=\"imageUpload\" (paste)=handlePaste($event)&gt;&lt;/mat-card&gt;\n\nhandlePaste(event: any) {\n    const items = (event.clipboardData || \nevent.originalEvent.clipboardData).items;\n    let blob = null;\n    for (const item of items) {\n        if (item.type.indexOf('image') === 0) {\n          blob = item.getAsFile();\n            const reader = new FileReader();\n            reader.onload = (evt: any) =&gt; {\n              this.onUpload(\"blob.name\", evt.target.result);\n            };\n        reader.readAsDataURL(blob);\n        }\n    }\n  }\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1558510702, "creation_date": 1558510702, "answer_id": 56251635, "question_id": 56251214, "link": "https://stackoverflow.com/questions/56251214/empty-object-is-not-of-type-in-typescript/56251635#56251635", "title": "empty object {} is not of type {} in typescript", "body": "<p>A generic function needs to be valid for any possible <code>T</code> passed into the function. <code>T extends object</code> means <code>T</code> can be any object type, so it could for example be <code>{ foo: string }</code> and <code>{}</code> would not be a valid default for this type.</p>\n\n<p>The default type for the type parameter in no way correlates with the default for the parameter. You can call with an explicit type argument and without a default thus producing a conflict between the default value <code>{}</code> and <code>T</code> passed in. Or you can just omit the default and pass in a component with required props:</p>\n\n<pre><code>declare function comp(o: { p: string }): void;\nwrapComponentInContext(comp)\n</code></pre>\n\n<p>You can use a type assertion to force <code>{}</code> into <code>T</code>:</p>\n\n<pre><code>export function wrapComponentInContext&lt;T extends object = {}&gt;(Comp: React.FunctionComponent&lt;T&gt;, props: T = {} as T) {\n\n}\n</code></pre>\n\n<p>But this will expose you to the potential issues I highlighted above. You can add a dedicated overload for a component for which <code>{}</code> is a valid default, although getting it to work as expected requires a bit of conditional types because of the contravariant nature of function parameters:</p>\n\n<pre><code>declare function compOptional(o: { p?: string }): void;\ndeclare function comp(o: { p: string }): void;\n\nexport function wrapComponentInContext&lt;T&gt;(Comp: React.FunctionComponent&lt;T&gt; &amp; ({} extends T ? {} : \"Provide default props as component requires some\"))\nexport function wrapComponentInContext&lt;T extends object&gt;(Comp: React.FunctionComponent&lt;T&gt;, props: T)\nexport function wrapComponentInContext&lt;T extends object = {}&gt;(Comp: React.FunctionComponent&lt;T&gt;, props: T = {} as T) {\n\n}\nwrapComponentInContext(comp) // Type '(o: { p: string; }) =&gt; void' is not assignable to type '\"Provide default props as component requires some\"'.\nwrapComponentInContext(compOptional)\nwrapComponentInContext(comp, { p: \"\" })\n</code></pre>\n"}], "owner": {"reputation": 21618, "user_id": 11755, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5b9872f3076db04cb2ffb516091d80d0?s=128&d=identicon&r=PG", "display_name": "dagda1", "link": "https://stackoverflow.com/users/11755/dagda1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 476, "favorite_count": 0, "accepted_answer_id": 56251635, "answer_count": 1, "score": 0, "last_activity_date": 1558510791, "creation_date": 1558509207, "last_edit_date": 1558510791, "question_id": 56251214, "link": "https://stackoverflow.com/questions/56251214/empty-object-is-not-of-type-in-typescript", "title": "empty object {} is not of type {} in typescript", "body": "<p>I have the following helper method that returns a wrapped react component.</p>\n\n<pre><code>export function wrapComponentInContext&lt;T extends object = {}&gt;(\n  Comp: React.FunctionComponent&lt;T&gt;, \n  props: T = {}) { // ERROR: Type '{}' is not assignable to type 'T'\n\n  const mockSetter = jest.fn(() =&gt; { });    \n  const mockContext: ContextDefaultValue = [\"context\", mockSetter];\n\n  return (\n    &lt;Provider value={mockContext}&gt;\n      &lt;Comp {...props}/&gt;\n    &lt;/Provider&gt;\n  );\n}\n</code></pre>\n\n<p>I want to default to an empty object if no argument is supplied.</p>\n\n<p>Here is an even simpler <a href=\"http://www.typescriptlang.org/play/index.html#src=function%20wrap%3CT%20%3D%20%7B%7D%3E(a%3A%20T%20%3D%20%7B%7D)%20%7B%0D%0A%20%20console.log(a)%3B%0D%0A%7D\" rel=\"nofollow noreferrer\">example</a></p>\n\n<p>So it seems an empty object is not of type <code>{}</code> which is confusing.</p>\n\n<p>Why</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "combinelatest"], "comments": [{"owner": {"reputation": 7761, "user_id": 8192719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0PuVB.jpg?s=128&g=1", "display_name": "Bunyamin Coskuner", "link": "https://stackoverflow.com/users/8192719/bunyamin-coskuner"}, "edited": false, "score": 1, "creation_date": 1558505363, "post_id": 56250218, "comment_id": 99118061, "body": "The first thing that came to my mind is to map the array into another object like <code>map([donkey, monkey] =&gt; {   return {      donkey: donkey,      monkey: monkey   } as {donkey: Donkey, monkey: Monkey}; })</code>. You still have to do the mapping by yourself with this tho"}, {"owner": {"reputation": 468, "user_id": 2793460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2773edc6ec3a9088a91322950016591f?s=128&d=identicon&r=PG", "display_name": "Dale Harris", "link": "https://stackoverflow.com/users/2793460/dale-harris"}, "edited": false, "score": 1, "creation_date": 1558506454, "post_id": 56250218, "comment_id": 99118517, "body": "Wondering if you tried either of the following... <code>.subscribe(([(_1 as Donkey), (_2 as Monkey)]) =&gt; { ... }</code> ... or ... <code>.subscribe(([&lt;Donkey&gt;_1, &lt;Monkey&gt;_2]) =&gt; { ... }</code>."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1558506896, "post_id": 56250218, "comment_id": 99118725, "body": "That&#39;s a <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#tuple\" rel=\"nofollow noreferrer\">tuple</a> type, <code>.subscribe(([_1, _2]: [Donkey, Monkey]) =&gt; ...</code>. Combine latest should track through <a href=\"https://github.com/ReactiveX/rxjs/issues/4410\" rel=\"nofollow noreferrer\">up to 6</a> typed observables, though, so I&#39;d guess the issue is the type of <code>observables</code>."}, {"owner": {"reputation": 743, "user_id": 6663016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cd121220ab034a07324d1cf31304372?s=128&d=identicon&r=PG&f=1", "display_name": "KiraAG", "link": "https://stackoverflow.com/users/6663016/kiraag"}, "edited": false, "score": 0, "creation_date": 1558507183, "post_id": 56250218, "comment_id": 99118857, "body": "Adding to the above answers , <code>combineLatest&lt;[Donkey, Monkey]&gt;&gt;(observables)   .subscribe(([_1, _2]) =&gt; {     const donkeyResult = _1;     const monkeyResult = _2;      if (!!donkeyResult &amp;&amp; !!monkeyResult) {       ...     }   }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 743, "user_id": 6663016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cd121220ab034a07324d1cf31304372?s=128&d=identicon&r=PG&f=1", "display_name": "KiraAG", "link": "https://stackoverflow.com/users/6663016/kiraag"}, "edited": false, "score": 1, "creation_date": 1558507324, "post_id": 56250593, "comment_id": 99118920, "body": "This is correct. Also this could be an alternative : <code>forkJoin&lt;[Monkey, Donkey]&gt;</code>, if the observables is not typed."}, {"owner": {"reputation": 416, "user_id": 6338059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c16a70ade41a79bc77512ab3b8dc1a49?s=128&d=identicon&r=PG&f=1", "display_name": "Ran Lottem", "link": "https://stackoverflow.com/users/6338059/ran-lottem"}, "edited": false, "score": 0, "creation_date": 1565878654, "post_id": 56250593, "comment_id": 101490268, "body": "This works with forkJoin, which is generic over the tuple type of the observables it&#39;s joining, but not for combineLatest, which is generic over the array element type.  Specifically <code>forkJoin&lt;Monkey, Donkey&gt;</code> vs. <code>combineLatest&lt;Monkey | Donkey&gt;</code>, or <code>combineLatest&lt;any&gt;</code>."}, {"owner": {"reputation": 416, "user_id": 6338059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c16a70ade41a79bc77512ab3b8dc1a49?s=128&d=identicon&r=PG&f=1", "display_name": "Ran Lottem", "link": "https://stackoverflow.com/users/6338059/ran-lottem"}, "edited": false, "score": 0, "creation_date": 1565879908, "post_id": 56250593, "comment_id": 101490878, "body": "Adding types in the subscribe or pipe operator that follows <code>combineLatest</code> will work, but in that case it will be necessary whereas in the forkJoin example it won&#39;t be, as you&#39;ve said."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 13, "last_activity_date": 1558506603, "creation_date": 1558506603, "answer_id": 56250593, "question_id": 56250218, "link": "https://stackoverflow.com/questions/56250218/retain-the-type-of-mutiple-observablet-using-combinelatest-from-rxjs-under-a/56250593#56250593", "title": "Retain the type of mutiple Observable&lt;T&gt; using combineLatest() from rxjs under Angular?", "body": "<p>First things first, you have to type your function and your HTTP call. </p>\n\n<pre><code>getMonkey(): Observable&lt;Donkey&gt; {\n  return this.http.get&lt;Donkey&gt;(url);\n}\n</code></pre>\n\n<p>Once done, you have to type your array of observables : </p>\n\n<pre><code>const observables: [Monkey, Donkey] = [\n  this.getMonkey(),\n  this.getDonkey(),\n];\n</code></pre>\n\n<p>Finally, although not necessary, you can type your callback params : </p>\n\n<pre><code>forkJoin(observables).subscribe(([monkey, donkey]: [Monkey, Donkey]) =&gt; {...});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 468, "user_id": 2793460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2773edc6ec3a9088a91322950016591f?s=128&d=identicon&r=PG", "display_name": "Dale Harris", "link": "https://stackoverflow.com/users/2793460/dale-harris"}, "is_accepted": false, "score": 2, "last_activity_date": 1558507623, "creation_date": 1558507623, "answer_id": 56250825, "question_id": 56250218, "link": "https://stackoverflow.com/questions/56250218/retain-the-type-of-mutiple-observablet-using-combinelatest-from-rxjs-under-a/56250825#56250825", "title": "Retain the type of mutiple Observable&lt;T&gt; using combineLatest() from rxjs under Angular?", "body": "<p>This sounds like a use case for tuples.\n<a href=\"https://visualstudiomagazine.com/articles/2016/02/01/type-safe-structures.aspx?m=1\" rel=\"nofollow noreferrer\">https://visualstudiomagazine.com/articles/2016/02/01/type-safe-structures.aspx?m=1</a></p>\n\n<pre><code>type animalTuple = [Donkey, Monkey];\n</code></pre>\n\n<pre><code>.subscribe(([donkeyResult, monkeyResult]: animalTuple) =&gt; { ... }\n</code></pre>\n"}], "owner": {"reputation": 27684, "user_id": 1525840, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e1d7083d88bd7d8eedea825a941dae57?s=128&d=identicon&r=PG", "display_name": "Konrad Viltersten", "link": "https://stackoverflow.com/users/1525840/konrad-viltersten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3567, "favorite_count": 3, "accepted_answer_id": 56250593, "answer_count": 2, "score": 11, "last_activity_date": 1615555548, "creation_date": 1558504824, "last_edit_date": 1615555548, "question_id": 56250218, "link": "https://stackoverflow.com/questions/56250218/retain-the-type-of-mutiple-observablet-using-combinelatest-from-rxjs-under-a", "title": "Retain the type of mutiple Observable&lt;T&gt; using combineLatest() from rxjs under Angular?", "body": "<p>When my component loads, I need to consume two services. Both need to be finished before it makes sense to continue. The order of completion of those is random and shouldn't be composed serially. The setup follows the pattern below.</p>\n<pre><code>const observables = [\n  this.donkeyService.getDonkey(),\n  this.monkeyService.getMonkey()\n];\n\ncombineLatest(observables)\n  .subscribe(([donkeyResult, monkeyResult]) =&gt; {\n    if (!!donkeyResult &amp;&amp; !!monkeyResult) {\n      ...\n    }\n  }\n</code></pre>\n<p>We've noticed that the results aren't typed as expected. It took a while before we realized it, but the type of <em>donkeyResult</em> isn't <em>Donkey</em>, despite the definition of the server below!</p>\n<pre><code>getDonkey() : Observable&lt;Donkey&gt; { ... }\n</code></pre>\n<p>Finally, I realized that when the elements are delivered to the receiving array, they lose their typeness, since the array itself is <em>any[]</em>. So we manage it using casting as follows.</p>\n<pre><code>const observables = [\n  this.donkeyService.getDonkey(),\n  this.monkeyService.getMonkey()\n];\n\ncombineLatest(observables)\n  .subscribe(([_1, _2]) =&gt; {\n    const donkeyResult = _1 as Donkey;\n    const monkeyResult = _2 as Monkey;\n\n    if (!!donkeyResult &amp;&amp; !!monkeyResult) {\n      ...\n    }\n  }\n</code></pre>\n<p>I'd like to refactor the code so that the array will retain the types specified by the service methods' signatures and won't coalesce into a common denominator <em>any</em>.</p>\n<p>Is it possible to make TypeScript and/or Rxjs to have an array where the first element would be a <em>Donkey</em> and the second <em>Monkey</em>? Could I use a different data structure than an array?</p>\n<p>I tried (and failed, of course) a bunch of different approaches including horsing around by casting the types directly in the array like so.</p>\n<pre><code>...\n.subscribe(([_1 as Donkey, _2 as Monkey]) =&gt; { ... }\n</code></pre>\n<p>Is there a neat way to retain typeness? We're open to changing the approach altogether as we're owning this part of software and got some extra time to massage the code.</p>\n"}, {"tags": ["angular", "typescript", "decorator"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1558507081, "creation_date": 1558507081, "answer_id": 56250697, "question_id": 56249847, "link": "https://stackoverflow.com/questions/56249847/use-a-property-decorator-to-initiate-a-class/56250697#56250697", "title": "Use a property decorator to initiate a class", "body": "<p>You can't do this directly from a decorator. A decorator is invoked on class creation (not instantiation) so all we can do is change the class itself to suit our needs.</p>\n\n<p>One option would be to transform the field into a property and instantiate the value on the getter: </p>\n\n<pre><code>function NStatus() {\n    return function (target: Object, key: string, desc?: PropertyDescriptor): PropertyDescriptor {\n        return {\n            get: function (this: Record&lt;string, NewDataClass&gt;) {\n                return this[\"_\" + key] || (this[\"_\" + key] = new NewDataClass())\n            },\n            set: function (this: Record&lt;string, NewDataClass&gt;, value: NewDataClass) {\n                this[\"_\" + key] = value\n            }\n        }\n    }\n}\n\nclass NewComponent {\n    @NStatus() public status: NewDataClass;\n}\n\nconsole.log(new NewComponent().status);\n</code></pre>\n\n<p>Another option, since we are talking about angular components we could override <code>ngOnInit</code> from the decorator and perform the initialization there:</p>\n\n<pre><code>function NStatus() {\n    return function &lt;K extends PropertyKey&gt;(target: { ngOnInit?: () =&gt; void  }, key: K): void {\n        const originalNgOnInit = target.ngOnInit;\n        target.ngOnInit = function (this: Record&lt;K, NewDataClass&gt;) {\n            // Init the field\n            this[key] = new NewDataClass;\n            // Call original ngOnInit if any\n            if(originalNgOnInit) originalNgOnInit.call(this);\n        }\n    }\n}\n\nclass NewComponent {\n    @NStatus() public status: NewDataClass;\n    ngOnInit () {}\n}\n\nconst c = new NewComponent()\nc.ngOnInit();\nconsole.log(c.status);\n</code></pre>\n\n<p>Intercepting the class constructor from a property descriptor is not possible unfortunately.</p>\n"}], "owner": {"reputation": 2210, "user_id": 2156913, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7be0443d65b0b7bba35152ea21742b0f?s=128&d=identicon&r=PG", "display_name": "Pian0_M4n", "link": "https://stackoverflow.com/users/2156913/pian0-m4n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 56250697, "answer_count": 1, "score": 1, "last_activity_date": 1558507081, "creation_date": 1558502858, "last_edit_date": 1558503389, "question_id": 56249847, "link": "https://stackoverflow.com/questions/56249847/use-a-property-decorator-to-initiate-a-class", "title": "Use a property decorator to initiate a class", "body": "<p>I'm trying to create a property decorator in Angular 7 that initiates a class on the set variable</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class NewDataClass() {\n   public readonly status = { loaded: false }\n   public greet() {\n      return 'hello';\n   }\n}\n</code></pre>\n\n<p>And build a decorator that returns that new class, with some parameters</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export function NStatus() {\n  return function(target: Object, key: string | symbol): any {\n\n    return new NewDataClass();\n  };\n}\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>\n@Component({\n  selector: 'app-new',\n  templateUrl: './new.component.n.html',\n  styleUrls: ['./new.component.n.scss']\n})\nexport class NewComponent implements OnInit, OnDestroy {\n  @NStatus() public status: NewDataClass;\n}\n</code></pre>\n\n<p>When the component is initialized the <code>status</code> should have the value of <code>new NewDataClass</code>. Help</p>\n"}, {"tags": ["typescript", "angular7"], "owner": {"reputation": 255, "user_id": 9690633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3102d8422a5f8864d7c5b30f6e341d3?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwini", "link": "https://stackoverflow.com/users/9690633/ashwini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 466, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1558502262, "creation_date": 1558502262, "question_id": 56249732, "link": "https://stackoverflow.com/questions/56249732/issues-in-implementing-ngx-owl-carousel-o-inside-the-mat-accordion", "title": "Issues in implementing ngx-owl-carousel-o inside the mat-accordion", "body": "<p>Currently I am working on angular 7 &amp; I am advisable to use only TS instead of JS. Hence I am using ngx-owl-carousel-o plugin for sliding the div/img. It is working  fine if I placed it outside of the mat-expansion-panel\".  <a href=\"https://i.stack.imgur.com/gljIa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gljIa.png\" alt=\"enter image description here\"></a></p>\n\n<p>But if I am placing the same slider inside the \"mat-expansion-panel\" some width issue occured like below. <a href=\"https://i.stack.imgur.com/uMkHD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uMkHD.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have found the issue too. But I don't know how to resolve it. Owl-carousel is taking the width of 6000px if it is placed outside the expansion panel. If I am placed inside inside the expansion panel it's only taking 80px width. </p>\n\n<p>By default the plugin has \"width\" property too. Eventhough I have binded the width property same thing occured. below is my code.<br>\n<strong>HTML:</strong></p>\n\n<pre><code>&lt;mat-accordion&gt;\n       &lt;mat-expansion-panel [expanded]=\"true\"&gt;\n            &lt;mat-expansion-panel-header&gt;\n              &lt;mat-panel-title&gt;\n                Address Book\n              &lt;/mat-panel-title&gt;\n            &lt;/mat-expansion-panel-header&gt;\n            &lt;div class=\"col-md-12 d-flex\"&gt;\n              &lt;div class=\"card col-md-3\"&gt;\n                &lt;div class=\"card-body\"&gt;\n                  &lt;div id=\"map-display\" class=\"z-depth-1-half map-container\"&gt;\n                    &lt;iframe src=\"https://maps.google.com/maps?q=chennai&amp;t=&amp;z=13&amp;ie=UTF8&amp;iwloc=&amp;output=embed\"\n                      frameborder=\"0\" style=\"border:0\"&gt;&lt;/iframe&gt;\n                  &lt;/div&gt;\n                  &lt;div class=\"maxminIcon\"&gt;&lt;img src=\"../assets/images/Maximise.PNG\" *ngIf=\"!opened\" (click)=\"open()\" /&gt;\n                  &lt;/div&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n              &lt;div class=\"col-md-9\"&gt;\n                &lt;owl-carousel-o  [options]=\"customOptions2\"&gt;\n                  &lt;ng-template carouselSlide&gt;\n                    &lt;div class=\"card\"&gt;\n                      &lt;div class=\"card-body\"&gt;\n                        &lt;h6 class=\"card-subtitle mb-2 p-1\"&gt;Primary Address&lt;/h6&gt;\n                        &lt;div class=\"row\"&gt;\n                          &lt;div class=\"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-xs-1 col-1 p-0\"&gt;\n                            &lt;i class=\"fa fa-map-marker paddingrl-20\"&gt;&lt;/i&gt;\n                          &lt;/div&gt;\n                          &lt;div class=\"col-xl-11 col-lg-11 col-md-11 col-sm-11 col-xs-11 col-11\"&gt;\n                            &lt;span&gt;Suresh Chakravarthy &lt;br&gt;\n                              3/17, 14-757, First Street, Vijaya Colony, Sakthi Nagar,Guindy,Chennai, &lt;br&gt;\n                              Kancheepuram, Tamilnadu, India, 600 006\n                            &lt;/span&gt;\n                          &lt;/div&gt;\n                        &lt;/div&gt;\n                        &lt;mat-divider class=\"m-2\"&gt;&lt;/mat-divider&gt;\n                        &lt;div class=\"row\"&gt;\n                          &lt;div class=\"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-xs-1 col-1 p-0\"&gt;\n                            &lt;i class=\"fa fa-phone  paddingrl-20 \"&gt;&lt;/i&gt; &lt;/div&gt;\n                          &lt;div class=\"col-xl-5 col-lg-5 col-md-5 col-sm-5 col-xs-5 col-5\"&gt;\n                            &lt;span&gt;044-1254638&lt;/span&gt;&lt;/div&gt;\n                          &lt;div class=\"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-xs-1 col-1 p-0\"&gt;\n                            &lt;i class=\"fa fa-mobile  paddingrl-20 \"&gt;&lt;/i&gt; &lt;/div&gt;\n                          &lt;div class=\"col-xl-5 col-lg-5 col-md-5 col-sm-5 col-xs-5 col-5\"&gt;\n                            &lt;span&gt;9876543210&lt;/span&gt;&lt;/div&gt;\n                        &lt;/div&gt;\n                        &lt;div class=\"row\"&gt;\n                          &lt;div class=\"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-xs-1 col-1 p-0\"&gt;\n                            &lt;i class=\"fa fa-envelope-o  paddingrl-20 \"&gt;&lt;/i&gt; &lt;/div&gt;\n                          &lt;div class=\"col-xl-5 col-lg-5 col-md-5 col-sm-5 col-xs-5 col-5\"&gt;\n                            &lt;span&gt;Sureshkumar@gmail.com&lt;/span&gt;&lt;/div&gt;\n                          &lt;div class=\"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-xs-1 col-1 p-0\"&gt;\n                            &lt;i class=\"fa fa-fax  paddingrl-20 \"&gt;&lt;/i&gt; &lt;/div&gt;\n                          &lt;div class=\"col-xl-5 col-lg-5 col-md-5 col-sm-5 col-xs-5 col-5\"&gt;\n                            &lt;span&gt;2222-3333&lt;/span&gt;&lt;/div&gt;\n                        &lt;/div&gt;\n                        &lt;div class=\"row\"&gt;\n                          &lt;div class=\"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-xs-1 col-1 p-0\"&gt;\n                            &lt;i class=\"fa fa-compass paddingrl-20 \"&gt;&lt;/i&gt; &lt;/div&gt;\n                          &lt;div class=\"col-xl-11 col-lg-11 col-md-11 col-sm-11 col-xs-11 col-11\"&gt;\n                            &lt;span class=\"col-md-5 p-0\"&gt;380.000000&lt;span&gt;&amp;nbsp;&lt;/span&gt;\n                              407.0999999&lt;/span&gt;&lt;/div&gt;\n                        &lt;/div&gt;\n                      &lt;/div&gt;\n                    &lt;/div&gt;\n                  &lt;/ng-template&gt;\n                  &lt;ng-template  carouselSlide&gt;\n                    &lt;div class=\"card\"&gt;\n                      &lt;div class=\"card-body\"&gt;\n                        &lt;h6 class=\"card-subtitle mb-2 p-1\"&gt;Postal Address 1&lt;/h6&gt;\n                        &lt;div class=\"row\"&gt;\n                          &lt;div class=\"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-xs-1 col-1 p-0\"&gt;\n                            &lt;i class=\"fa fa-map-marker paddingrl-20\"&gt;&lt;/i&gt;\n                          &lt;/div&gt;\n                          &lt;div class=\"col-xl-11 col-lg-11 col-md-11 col-sm-11 col-xs-11 col-11\"&gt;\n                            &lt;span&gt;Suresh Chakravarthy &lt;br&gt;\n                              3/17, 14-757, First Street, Vijaya Colony, Sakthi Nagar,Guindy,Chennai, &lt;br&gt;\n                              Kancheepuram, Tamilnadu, India, 600 006\n                            &lt;/span&gt;\n                          &lt;/div&gt;\n                        &lt;/div&gt;\n                        &lt;mat-divider class=\"m-2\"&gt;&lt;/mat-divider&gt;\n                        &lt;div class=\"row\"&gt;\n                          &lt;div class=\"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-xs-1 col-1 p-0\"&gt;\n                            &lt;i class=\"fa fa-phone  paddingrl-20 \"&gt;&lt;/i&gt; &lt;/div&gt;\n                          &lt;div class=\"col-xl-5 col-lg-5 col-md-5 col-sm-5 col-xs-5 col-5\"&gt;\n                            &lt;span&gt;044-1254638&lt;/span&gt;&lt;/div&gt;\n                          &lt;div class=\"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-xs-1 col-1 p-0\"&gt;\n                            &lt;i class=\"fa fa-mobile  paddingrl-20 \"&gt;&lt;/i&gt; &lt;/div&gt;\n                          &lt;div class=\"col-xl-5 col-lg-5 col-md-5 col-sm-5 col-xs-5 col-5\"&gt;\n                            &lt;span&gt;9876543210&lt;/span&gt;&lt;/div&gt;\n                        &lt;/div&gt;\n                        &lt;div class=\"row\"&gt;\n                          &lt;div class=\"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-xs-1 col-1 p-0\"&gt;\n                            &lt;i class=\"fa fa-envelope-o  paddingrl-20 \"&gt;&lt;/i&gt; &lt;/div&gt;\n                          &lt;div class=\"col-xl-5 col-lg-5 col-md-5 col-sm-5 col-xs-5 col-5\"&gt;\n                            &lt;span&gt;Sureshkumar@gmail.com&lt;/span&gt;&lt;/div&gt;\n                          &lt;div class=\"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-xs-1 col-1 p-0\"&gt;\n                            &lt;i class=\"fa fa-fax  paddingrl-20 \"&gt;&lt;/i&gt; &lt;/div&gt;\n                          &lt;div class=\"col-xl-5 col-lg-5 col-md-5 col-sm-5 col-xs-5 col-5\"&gt;\n                            &lt;span&gt;2222-3333&lt;/span&gt;&lt;/div&gt;\n                        &lt;/div&gt;\n                        &lt;div class=\"row\"&gt;\n                          &lt;div class=\"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-xs-1 col-1 p-0\"&gt;\n                            &lt;i class=\"fa fa-compass paddingrl-20 \"&gt;&lt;/i&gt; &lt;/div&gt;\n                          &lt;div class=\"col-xl-11 col-lg-11 col-md-11 col-sm-11 col-xs-11 col-11\"&gt;\n                            &lt;span class=\"col-md-5 p-0\"&gt;380.000000&lt;span&gt;&amp;nbsp;&lt;/span&gt;\n                              407.0999999&lt;/span&gt;&lt;/div&gt;\n                        &lt;/div&gt;\n                      &lt;/div&gt;\n                    &lt;/div&gt;\n                  &lt;/ng-template&gt;\n                 &lt;/owl-carousel-o&gt;\n              &lt;/div&gt;\n          &lt;/mat-expansion-panel&gt;\n    &lt;/mat-accordion&gt;\n</code></pre>\n\n<p><strong>CSS:</strong></p>\n\n<pre><code>.owl-carousel .owl-nav {\n  overflow: hidden;\n  height: 0px;\n}\n\n.owl-carousel .nav-btn {\n  position: absolute;\n   cursor: pointer;\n  top: 44% !important;\n  color: #ffffff;\n  font-size: 20px;\n  border-radius: 50%;\n  background: #1579ab;\n  width: 25px;\n  height: 25px;\n}\n.owl-carousel .active{\n  border: 1px solid #1579ab;\n  border-radius: 0.25rem;\n} \n\n.owl-carousel .active ~ .active{\n  border: 1px solid rgba(0, 0, 0, 0.125);\n  border-radius: 0.25rem;\n} \n.owl-carousel .owl-prev.disabled,\n.owl-carousel .owl-next.disabled {\n  pointer-events: none;\n  opacity: 0.2;\n}\n.owl-carousel .nav-btn:before{\n  vertical-align: middle;\n\n}\n.owl-carousel .prev-slide {\n  left: -25px;\n}\n\n.owl-carousel .next-slide {\n  right: -25px;\n}\n\n.owl-carousel .prev-slide:hover {\n  background-position: 0px -53px;\n}\n\n.owl-carousel .next-slide:hover {\n  background-position: -24px -53px;\n}\n</code></pre>\n\n<p><strong>TS:</strong></p>\n\n<pre><code>customOptions2 : any ={\n    loop: true,\n    mouseDrag: false,\n    touchDrag: true,\n    pullDrag: false,\n    dots: false,\n    navSpeed: 700,\n    navText:  [\"&lt;div class='nav-btn prev-slide fa fa-angle-right'&gt;&lt;/div&gt;\", \"&lt;div class='nav-btn next-slide fa fa-angle-left'&gt;&lt;/div&gt;\"],\n    isActive: true,\n    margin: 10,\n    responsiveRefreshRate: 5000,\n    autoWidth: true,\n    width: 1000,\n    carouselWindowWidth: 6000,\n    responsive: {\n      0: {\n        items: 1\n      },\n      400: {\n        items: 2\n      }\n      },\n    nav: true\n  }\n</code></pre>\n\n<p>Kindly help me to resolve this width issue.    </p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 833, "user_id": 5002793, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-EcmwXD-5qGw/AAAAAAAAAAI/AAAAAAAACqQ/wLjCO2xNuug/photo.jpg?sz=128", "display_name": "Rehban Khatri", "link": "https://stackoverflow.com/users/5002793/rehban-khatri"}, "edited": false, "score": 0, "creation_date": 1558502694, "post_id": 56249718, "comment_id": 99117110, "body": "Try printing <code>userRole</code> somewhere in your DOM. Maybe it&#39;s a case issue or incorrect value?"}, {"owner": {"reputation": 1331, "user_id": 5853403, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/600b0f3bb3d45f52f7c482c617d03c8a?s=128&d=identicon&r=PG&f=1", "display_name": "skydev", "link": "https://stackoverflow.com/users/5853403/skydev"}, "reply_to_user": {"reputation": 833, "user_id": 5002793, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-EcmwXD-5qGw/AAAAAAAAAAI/AAAAAAAACqQ/wLjCO2xNuug/photo.jpg?sz=128", "display_name": "Rehban Khatri", "link": "https://stackoverflow.com/users/5002793/rehban-khatri"}, "edited": false, "score": 0, "creation_date": 1558502955, "post_id": 56249718, "comment_id": 99117188, "body": "@RehbanKhatri I consoled it out and it comes through as &quot;HR Admin&quot;"}, {"owner": {"reputation": 1331, "user_id": 5853403, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/600b0f3bb3d45f52f7c482c617d03c8a?s=128&d=identicon&r=PG&f=1", "display_name": "skydev", "link": "https://stackoverflow.com/users/5853403/skydev"}, "edited": false, "score": 0, "creation_date": 1558512152, "post_id": 56249718, "comment_id": 99121456, "body": "It is not the same as mentioned below. The old answer pertaining to old code was marked correct. Please read carefully before commenting. Flagged."}], "answers": [{"comments": [{"owner": {"reputation": 468, "user_id": 2793460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2773edc6ec3a9088a91322950016591f?s=128&d=identicon&r=PG", "display_name": "Dale Harris", "link": "https://stackoverflow.com/users/2793460/dale-harris"}, "reply_to_user": {"reputation": 1331, "user_id": 5853403, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/600b0f3bb3d45f52f7c482c617d03c8a?s=128&d=identicon&r=PG&f=1", "display_name": "skydev", "link": "https://stackoverflow.com/users/5853403/skydev"}, "edited": false, "score": 0, "creation_date": 1558503203, "post_id": 56249844, "comment_id": 99117277, "body": "I&#39;m happy to help."}], "tags": [], "owner": {"reputation": 468, "user_id": 2793460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2773edc6ec3a9088a91322950016591f?s=128&d=identicon&r=PG", "display_name": "Dale Harris", "link": "https://stackoverflow.com/users/2793460/dale-harris"}, "is_accepted": true, "score": 5, "last_activity_date": 1558502848, "creation_date": 1558502848, "answer_id": 56249844, "question_id": 56249718, "link": "https://stackoverflow.com/questions/56249718/angular-hide-and-show-buttons-not-working/56249844#56249844", "title": "Angular hide and show buttons not working", "body": "<p>This appears to be inverted logic. The *ngIf structural directive will display the element in the DOM if the method returns true. I recommend adding a ! operator.</p>\n\n<pre><code>*ngIf=\"!isDisabledCorporates()\"\n</code></pre>\n\n<pre><code>*ngIf=\"!isDisabledArchive()\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8008391, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4RyR_7LTq7I/AAAAAAAAAAI/AAAAAAAACsk/WlNlfs3FGpE/photo.jpg?sz=128", "display_name": "sawan verma", "link": "https://stackoverflow.com/users/8008391/sawan-verma"}, "is_accepted": false, "score": -1, "last_activity_date": 1558502955, "creation_date": 1558502955, "answer_id": 56249874, "question_id": 56249718, "link": "https://stackoverflow.com/questions/56249718/angular-hide-and-show-buttons-not-working/56249874#56249874", "title": "Angular hide and show buttons not working", "body": "<p>You should use ===, and why don't you try first if your function is returning value or not.</p>\n\n<pre><code>isDisabledCorporates(): boolean {\n</code></pre>\n\n<p>return true; // or try with return false;\n  }  </p>\n\n<p>if this works fine then go ahead an try with the complete code and before all that verify what are you getting in this.userRole after ngOnInit() execution. put a debugger otherwise and see how the function execution is happening. </p>\n"}], "owner": {"reputation": 1331, "user_id": 5853403, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/600b0f3bb3d45f52f7c482c617d03c8a?s=128&d=identicon&r=PG&f=1", "display_name": "skydev", "link": "https://stackoverflow.com/users/5853403/skydev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 56249844, "answer_count": 2, "score": 0, "last_activity_date": 1558503129, "creation_date": 1558502160, "last_edit_date": 1558503129, "question_id": 56249718, "link": "https://stackoverflow.com/questions/56249718/angular-hide-and-show-buttons-not-working", "title": "Angular hide and show buttons not working", "body": "<p>I have the following requirement that is not working with my current code. I need to hide or show buttons which sit in my app header component based on a users role.</p>\n\n<p>The users role comes from session storage which is being called in a service file.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>     setStoreData() {\n        const data = JSON.parse(sessionStorage.getItem(`oidc.user:${environment.accessTokenApiUrl}:${environment.clientId}`));\n        return data;\n      }\n</code></pre>\n\n<p>I then consume the service in my header component on ngOnit and assign it to a variable</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>      ngOnInit() {\n            this.userRole = this._storeService.setStoreData().profile.role;\n      }\n</code></pre>\n\n<p>Then comes the function to enable or disable my header button</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>      isDisabledCorporates(): boolean {\n        if (\n          this.userRole == 'HR Admin' ||\n          this.userRole == 'HR Recruiter' ||\n          this.userRole == 'HR Manager' ||\n          this.userRole == 'Candidate' ||\n          this.userRole == 'Operations administrator' ||\n          this.userRole == 'Internal Account Manager') {\n          return true;\n        } else {\n          return false;\n        }\n      }\n\n      isDisabledArchive(): boolean {\n        if (  this.userRole == 'HR Recruiter' ||\n              this.userRole == 'HR Manager' ||\n              this.userRole == 'Candidate' ||\n              this.userRole == 'Operations administrator' ||\n              this.userRole == 'Internal Account Manager') {\n          return true;\n        } else {\n          return false;\n        }\n      }\n</code></pre>\n\n<p>Lastly I have the html code as follows</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>    &lt;nav *ngIf=\"userRole\"&gt;\n      &lt;div&gt;\n        &lt;div&gt;\n          &lt;button class=\"nav-link-btn\" [routerLink]=\"['/corporate/dashboard']\" *ngIf=\"isDisabledCorporates()\"&gt; Corporates &lt;/button&gt;\n          &lt;button class=\"nav-link-btn\" [routerLink]=\"['/archive']\" *ngIf=\"isDisabledArchive()\"&gt; Archive &lt;/button&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/nav&gt;\n</code></pre>\n\n<p>The problem is that the code does not seem to disable the corporate button and my current user is HR Admin. Any ideas why?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 9497, "user_id": 248703, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/OAvW6.png?s=128&g=1", "display_name": "alessandro", "link": "https://stackoverflow.com/users/248703/alessandro"}, "edited": false, "score": 0, "creation_date": 1558502330, "post_id": 56249662, "comment_id": 99116996, "body": "<a href=\"https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/\" rel=\"nofollow noreferrer\">jakearchibald.com/2015/tasks-microtasks-queues-and-schedules</a>"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": false, "score": 0, "last_activity_date": 1558507107, "creation_date": 1558507107, "answer_id": 56250703, "question_id": 56249662, "link": "https://stackoverflow.com/questions/56249662/change-detection-doesnt-happen-in-synchronous-codes/56250703#56250703", "title": "Change detection doesn&#39;t happen in synchronous codes", "body": "<p>Let's tackle the main issue there, which is your design : why would you re-render the component to trigger <code>ngOnInit</code> again ? </p>\n\n<p>Sure, in the case of your example, that's no big deal. But what happens for a fully coded component, making http calls, having children and all ? That will cause some severe performance issues. </p>\n\n<p>Instead of re-rendering the component, you should use a function to do that. </p>\n\n<p>If the event (that is initially supposed to re-render the component) comes from the child, then use an <code>@Output</code>. If it comes from the parent, use a <code>@ViewChild</code> reference. </p>\n\n<p><a href=\"https://codesandbox.io/s/angular-6jfv6\" rel=\"nofollow noreferrer\">As you can see</a> it works well, without any detection issue. </p>\n"}], "owner": {"reputation": 51, "user_id": 10765976, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MhSfRCtQ46A/AAAAAAAAAAI/AAAAAAAAAAc/lly7KQ-p2hU/photo.jpg?sz=128", "display_name": "Yiu Pang Chan", "link": "https://stackoverflow.com/users/10765976/yiu-pang-chan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1558509310, "creation_date": 1558501777, "last_edit_date": 1558509310, "question_id": 56249662, "link": "https://stackoverflow.com/questions/56249662/change-detection-doesnt-happen-in-synchronous-codes", "title": "Change detection doesn&#39;t happen in synchronous codes", "body": "<p>I was working on a component that has a button which toggles a boolean. This boolean is supposed to determine if a child component in the HTML need to re-render or not, since I want the <code>ngOnInit</code> function in the child to be re-run. </p>\n\n<p>The situation is described in the app component here: <a href=\"https://codesandbox.io/s/angular-qxtm8\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/angular-qxtm8</a></p>\n\n<p>The <code>app.component</code> is the parent and <code>second.component</code> is the child.</p>\n\n<p>I have tried three different solutions. They are <code>onTestClickOne</code>, <code>onTestClickTwo</code>, and <code>onTestClickThree</code> in <code>app.component.ts</code>. <code>onTestClickOne</code> and <code>onTestClickTwo</code> successfully re-triggers the <code>ngOnInit</code> in the child component. We can see the console log in it is printed on the console whenever I click the corresponding buttons. However, <code>onTestClickThree</code> didn't work. </p>\n\n<p>I'm not 100% sure why <code>onTestClickThree</code> didn't work, and <code>onTestClickTwo</code> did.</p>\n\n<p>My guesses are the following:</p>\n\n<ol>\n<li><p><code>onTestClickTwo</code> works because the change detection in Angular is run after the event handler has been executed. So, it will detect the boolean has been set to true. After that, the event loop will get the callback of the setTimeout and put it into the stack. Angular will execute change detection after finishing the callback.</p></li>\n<li><p><code>onTestClickThree</code> didn't work because, by the time Angular runs change detection, the boolean is already true. Angular doesn't know that it has been changed.</p></li>\n</ol>\n"}, {"tags": ["javascript", "arrays", "typescript", "sorting"], "comments": [{"owner": {"reputation": 19440, "user_id": 6275103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KDDMj.jpg?s=128&g=1", "display_name": "MrGeek", "link": "https://stackoverflow.com/users/6275103/mrgeek"}, "edited": false, "score": 1, "creation_date": 1558498789, "post_id": 56249216, "comment_id": 99116216, "body": "Are <code>2</code> and <code>3</code> numbers or strings? And why is <code>A</code> before <code>a</code> in the result if <code>a</code> is before <code>A</code> in the unsorted array?"}, {"owner": {"reputation": 739, "user_id": 6170621, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/BGHJq.jpg?s=128&g=1", "display_name": "klmuralimohan", "link": "https://stackoverflow.com/users/6170621/klmuralimohan"}, "reply_to_user": {"reputation": 19440, "user_id": 6275103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KDDMj.jpg?s=128&g=1", "display_name": "MrGeek", "link": "https://stackoverflow.com/users/6275103/mrgeek"}, "edited": false, "score": 0, "creation_date": 1558499171, "post_id": 56249216, "comment_id": 99116289, "body": "@MrGeek: All values are strings. I want alphabetic order following with uppercase letter like A,a,B"}, {"owner": {"reputation": 19440, "user_id": 6275103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KDDMj.jpg?s=128&g=1", "display_name": "MrGeek", "link": "https://stackoverflow.com/users/6275103/mrgeek"}, "edited": false, "score": 0, "creation_date": 1558499769, "post_id": 56249216, "comment_id": 99116398, "body": "In this case, check my answer."}], "answers": [{"comments": [{"owner": {"reputation": 739, "user_id": 6170621, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/BGHJq.jpg?s=128&g=1", "display_name": "klmuralimohan", "link": "https://stackoverflow.com/users/6170621/klmuralimohan"}, "edited": false, "score": 0, "creation_date": 1558499486, "post_id": 56249313, "comment_id": 99116347, "body": "I&#39;m looking for normal sorting  for the all values except alphabetic with the order A,a,B"}], "tags": [], "owner": {"reputation": 2179, "user_id": 7405477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd51e9eabda0dffc93ef9f0767ad081c?s=128&d=identicon&r=PG&f=1", "display_name": "Sujal Patel", "link": "https://stackoverflow.com/users/7405477/sujal-patel"}, "is_accepted": false, "score": 1, "last_activity_date": 1558499269, "creation_date": 1558499269, "answer_id": 56249313, "question_id": 56249216, "link": "https://stackoverflow.com/questions/56249216/stop-case-sensitive-sorting-array/56249313#56249313", "title": "stop case sensitive sorting array", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>alert(['/','2','$','3','B','a','A'].sort(Intl.Collator().compare));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>check this example for it's quite the same as your output but some modification required.</p>\n"}, {"comments": [{"owner": {"reputation": 739, "user_id": 6170621, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/BGHJq.jpg?s=128&g=1", "display_name": "klmuralimohan", "link": "https://stackoverflow.com/users/6170621/klmuralimohan"}, "edited": false, "score": 0, "creation_date": 1558501252, "post_id": 56249337, "comment_id": 99116700, "body": "thank you but hard code fix is not suggestible, Value could be any symbmol."}, {"owner": {"reputation": 15562, "user_id": 155819, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yXygz.jpg?s=128&g=1", "display_name": "Akrion", "link": "https://stackoverflow.com/users/155819/akrion"}, "reply_to_user": {"reputation": 739, "user_id": 6170621, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/BGHJq.jpg?s=128&g=1", "display_name": "klmuralimohan", "link": "https://stackoverflow.com/users/6170621/klmuralimohan"}, "edited": false, "score": 0, "creation_date": 1558502571, "post_id": 56249337, "comment_id": 99117075, "body": "Updated with a better RegEx which matches on non-alphanumeric so you can match on <code>charCodeAt</code> instead of the localeCompare etc."}, {"owner": {"reputation": 739, "user_id": 6170621, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/BGHJq.jpg?s=128&g=1", "display_name": "klmuralimohan", "link": "https://stackoverflow.com/users/6170621/klmuralimohan"}, "edited": false, "score": 0, "creation_date": 1558512494, "post_id": 56249337, "comment_id": 99121620, "body": "Thanks for the quick solution. Appreciate your effort."}, {"owner": {"reputation": 739, "user_id": 6170621, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/BGHJq.jpg?s=128&g=1", "display_name": "klmuralimohan", "link": "https://stackoverflow.com/users/6170621/klmuralimohan"}, "edited": false, "score": 0, "creation_date": 1558514068, "post_id": 56249337, "comment_id": 99122411, "body": "sorry, not working this scenario, [&quot;/&quot;, &quot;2&quot;, &quot;$&quot;, &quot;3&quot;, &quot;British&quot;, &quot;a&quot;, &quot;Asia&quot;]. Only for single letter sorting is working fine."}], "tags": [], "owner": {"reputation": 15562, "user_id": 155819, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yXygz.jpg?s=128&g=1", "display_name": "Akrion", "link": "https://stackoverflow.com/users/155819/akrion"}, "is_accepted": true, "score": 1, "last_activity_date": 1558502392, "last_edit_date": 1558502392, "creation_date": 1558499434, "answer_id": 56249337, "question_id": 56249216, "link": "https://stackoverflow.com/questions/56249216/stop-case-sensitive-sorting-array/56249337#56249337", "title": "stop case sensitive sorting array", "body": "<p>You can use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare\" rel=\"nofollow noreferrer\">String.localeCompare</a> with <code>numeric: true</code> and <code>caseFirst: \"upper\"</code> options for the alpha-numeric. For the symbols case you can match on a regular expression and use <code>charCodeAt</code> for the sorting:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let data = ['/', '2', '$', '3', 'B', 'a', 'A']\r\nlet regEx = new RegExp(/[^a-zA-Z\\d\\s:]/)\r\n\r\nlet result = data.sort((a, b) =&gt; {\r\n  if (regEx.test(a) &amp;&amp; regEx.test(b))\r\n    return a.charCodeAt(0) - b.charCodeAt(0)\r\n  else\r\n    return a.localeCompare(b, 'en', { numeric: true, caseFirst: 'upper'})\r\n})\r\n\r\nconsole.log(result)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 739, "user_id": 6170621, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/BGHJq.jpg?s=128&g=1", "display_name": "klmuralimohan", "link": "https://stackoverflow.com/users/6170621/klmuralimohan"}, "edited": false, "score": 0, "creation_date": 1558499933, "post_id": 56249366, "comment_id": 99116426, "body": "$ should come first as default behavior of array sorting"}, {"owner": {"reputation": 19440, "user_id": 6275103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KDDMj.jpg?s=128&g=1", "display_name": "MrGeek", "link": "https://stackoverflow.com/users/6275103/mrgeek"}, "reply_to_user": {"reputation": 739, "user_id": 6170621, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/BGHJq.jpg?s=128&g=1", "display_name": "klmuralimohan", "link": "https://stackoverflow.com/users/6170621/klmuralimohan"}, "edited": false, "score": 0, "creation_date": 1558500365, "post_id": 56249366, "comment_id": 99116520, "body": "@klmuralimohan Why should <code>$</code> come first? It&#39;s not first in the original array!"}, {"owner": {"reputation": 19440, "user_id": 6275103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KDDMj.jpg?s=128&g=1", "display_name": "MrGeek", "link": "https://stackoverflow.com/users/6275103/mrgeek"}, "reply_to_user": {"reputation": 739, "user_id": 6170621, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/BGHJq.jpg?s=128&g=1", "display_name": "klmuralimohan", "link": "https://stackoverflow.com/users/6170621/klmuralimohan"}, "edited": false, "score": 0, "creation_date": 1558500599, "post_id": 56249366, "comment_id": 99116577, "body": "@klmuralimohan Well now <code>$</code> comes first, but it&#39;s not mentioned in the question."}, {"owner": {"reputation": 739, "user_id": 6170621, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/BGHJq.jpg?s=128&g=1", "display_name": "klmuralimohan", "link": "https://stackoverflow.com/users/6170621/klmuralimohan"}, "edited": false, "score": 0, "creation_date": 1558500938, "post_id": 56249366, "comment_id": 99116630, "body": "thanks for the quick update but I&#39;m not looking for hard code fix for &quot;$&quot;. It should sort like how array.sort() works except alphabetic order."}, {"owner": {"reputation": 19440, "user_id": 6275103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KDDMj.jpg?s=128&g=1", "display_name": "MrGeek", "link": "https://stackoverflow.com/users/6275103/mrgeek"}, "reply_to_user": {"reputation": 739, "user_id": 6170621, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/BGHJq.jpg?s=128&g=1", "display_name": "klmuralimohan", "link": "https://stackoverflow.com/users/6170621/klmuralimohan"}, "edited": false, "score": 0, "creation_date": 1558502117, "post_id": 56249366, "comment_id": 99116943, "body": "@klmuralimohan It should now sort just like <code>Array.sort()</code> except for alphabetic order."}, {"owner": {"reputation": 739, "user_id": 6170621, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/BGHJq.jpg?s=128&g=1", "display_name": "klmuralimohan", "link": "https://stackoverflow.com/users/6170621/klmuralimohan"}, "edited": false, "score": 0, "creation_date": 1558512518, "post_id": 56249366, "comment_id": 99121632, "body": ":Thanks for the quick solution. Appreciate your effort."}, {"owner": {"reputation": 739, "user_id": 6170621, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/BGHJq.jpg?s=128&g=1", "display_name": "klmuralimohan", "link": "https://stackoverflow.com/users/6170621/klmuralimohan"}, "edited": false, "score": 0, "creation_date": 1558514052, "post_id": 56249366, "comment_id": 99122401, "body": "sorry, not working this scenario,  [&quot;/&quot;, &quot;2&quot;, &quot;$&quot;, &quot;3&quot;, &quot;British&quot;, &quot;a&quot;, &quot;Asia&quot;]; Only for single letter sorting is working fine."}], "tags": [], "owner": {"reputation": 19440, "user_id": 6275103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KDDMj.jpg?s=128&g=1", "display_name": "MrGeek", "link": "https://stackoverflow.com/users/6275103/mrgeek"}, "is_accepted": false, "score": 1, "last_activity_date": 1558502076, "last_edit_date": 1558502076, "creation_date": 1558499636, "answer_id": 56249366, "question_id": 56249216, "link": "https://stackoverflow.com/questions/56249216/stop-case-sensitive-sorting-array/56249366#56249366", "title": "stop case sensitive sorting array", "body": "<p>This does what you want:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var arr = [\"/\", \"2\", \"$\", \"3\", \"B\", \"a\", \"A\"];\r\n\r\nvar sorted = arr.sort(function(a, b) {\r\n  var g = /^[A-Z]$/i;\r\n  if (!g.test(a) || !g.test(b)) return a &lt; b ? -1 : a &gt; b ? 1 : 0;\r\n  var r = a.toLowerCase().localeCompare(b.toLowerCase());\r\n  return r ? r : b.localeCompare(a);\r\n});\r\n\r\nconsole.log(...sorted); // =&gt; $ / 2 3 A a B</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1765, "user_id": 3639777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ALrZc.jpg?s=128&g=1", "display_name": "chatnoir", "link": "https://stackoverflow.com/users/3639777/chatnoir"}, "is_accepted": false, "score": 0, "last_activity_date": 1558503501, "last_edit_date": 1558503501, "creation_date": 1558503170, "answer_id": 56249911, "question_id": 56249216, "link": "https://stackoverflow.com/questions/56249216/stop-case-sensitive-sorting-array/56249911#56249911", "title": "stop case sensitive sorting array", "body": "<p>This might work for you. It sorts according to default <code>.sort()</code> order, except for alphabets, where <code>A</code> comes before <code>a</code> which comes before <code>B</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arr = ['/','2','$','3','B','a','A']; \r\n\r\narr.sort((a,b) =&gt; {\r\n\r\n    let match = /\\w/;\r\n    //if it's an alphabet, we sort according to uppercase first\r\n    if (match.test(a) &amp;&amp; match.test(b)) {\r\n        return a.localeCompare(b, \"en\", {caseFirst:\"upper\"});\r\n    }\r\n    // for all other symbols and numbers, we follow default .sort order\r\n    else {\r\n        let test = [a,b].sort();\r\n        return (test[0] === a)?-1:1;\r\n    }\r\n});\r\n\r\nconsole.log(arr); //['$', '/', 2, 3, 'A', 'a', 'B']</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 739, "user_id": 6170621, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/BGHJq.jpg?s=128&g=1", "display_name": "klmuralimohan", "link": "https://stackoverflow.com/users/6170621/klmuralimohan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 56249337, "answer_count": 4, "score": -1, "last_activity_date": 1558503501, "creation_date": 1558498433, "question_id": 56249216, "link": "https://stackoverflow.com/questions/56249216/stop-case-sensitive-sorting-array", "title": "stop case sensitive sorting array", "body": "<p>How to sort without case sensitive sorting in array javascript or typescript.</p>\n\n<p>like the input is <code>[/,2,$,3,B,a,A]</code></p>\n\n<p>output should be </p>\n\n<pre><code>[$,/,2,3,A,a,B]\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 167922, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "is_accepted": true, "score": 5, "last_activity_date": 1558498379, "creation_date": 1558498379, "answer_id": 56249207, "question_id": 56249077, "link": "https://stackoverflow.com/questions/56249077/typescript-why-does-undefined-as-unknown-as-string-result-in-undefined/56249207#56249207", "title": "Typescript: Why does undefined as unknown as string result in undefined?", "body": "<p>From <a href=\"https://basarat.gitbooks.io/typescript/docs/types/type-assertion.html\" rel=\"noreferrer\">docs on type assertion</a>:</p>\n\n<blockquote>\n  <p>Type Assertion vs. Casting</p>\n  \n  <p>The reason why it's not called \"type casting\" is that casting generally implies some sort of runtime support. However, type assertions are purely a compile time construct and a way for you to provide hints to the compiler on how you want your code to be analyzed.</p>\n</blockquote>\n\n<p>This means, <code>foo as string</code> will cause TypeScript compiler to <em>treat</em> <code>foo</code> as a string, even if it <em>is not</em> one. Specifically, <code>undefined</code> doesn't magically turn into not-<code>undefined</code> by TS compiler thinking it's a string.</p>\n\n<p>However, TypeScript also knows that very few things that are not strings can be treated as a string sensibly, so you get an error (unless you trick it into forgetting what it was first).</p>\n"}], "owner": {"reputation": 13, "user_id": 11537085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/038259a97bae73fb76bdbffb772e86c7?s=128&d=identicon&r=PG&f=1", "display_name": "Sora", "link": "https://stackoverflow.com/users/11537085/sora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5633, "favorite_count": 0, "accepted_answer_id": 56249207, "answer_count": 1, "score": 1, "last_activity_date": 1558498379, "creation_date": 1558497291, "question_id": 56249077, "link": "https://stackoverflow.com/questions/56249077/typescript-why-does-undefined-as-unknown-as-string-result-in-undefined", "title": "Typescript: Why does undefined as unknown as string result in undefined?", "body": "<p>I had the impression that a type assertion to string would result in a previously-unknown type to turn into a string. I appreciate some explanation as to why this is not the case.</p>\n\n<pre><code>$npx ts-node\n&gt; undefined as string\n[eval].ts:1:1 - error TS2352: Conversion of type 'undefined' to type 'string' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.\n&gt; undefined as unknown as string\nundefined\n</code></pre>\n"}, {"tags": ["c#", "angular", "typescript", "asp.net-core", "rxjs"], "comments": [{"owner": {"reputation": 37, "user_id": 11489983, "user_type": "registered", "profile_image": "https://graph.facebook.com/2454048451280637/picture?type=large", "display_name": "Tibo Geysen", "link": "https://stackoverflow.com/users/11489983/tibo-geysen"}, "reply_to_user": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "edited": false, "score": 0, "creation_date": 1558496089, "post_id": 56248904, "comment_id": 99115768, "body": "In angular my form on submit calls onSubmitNaam(), this method calls veranderNaam in the authService, which make an http call to the C# method VeranderNaam."}, {"owner": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "edited": false, "score": 0, "creation_date": 1558496427, "post_id": 56248904, "comment_id": 99115833, "body": "What does your browser developer tools say the request ends up looking like? (Screenshot)"}, {"owner": {"reputation": 37, "user_id": 11489983, "user_type": "registered", "profile_image": "https://graph.facebook.com/2454048451280637/picture?type=large", "display_name": "Tibo Geysen", "link": "https://stackoverflow.com/users/11489983/tibo-geysen"}, "reply_to_user": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "edited": false, "score": 0, "creation_date": 1558497057, "post_id": 56248904, "comment_id": 99115942, "body": "I&#39;ve found the solution because of your comment, the problem was I didn&#39;t use a query parameter"}], "answers": [{"tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": true, "score": 2, "last_activity_date": 1558497045, "last_edit_date": 1558497045, "creation_date": 1558496240, "answer_id": 56248969, "question_id": 56248904, "link": "https://stackoverflow.com/questions/56248904/cant-seem-to-send-string-over-a-put-request/56248969#56248969", "title": "Can&#39;t seem to send string over a PUT request", "body": "<p>In this line of code you are submit the <code>body</code> not in a query string </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>return this.http.put(`${environment.apiUrl}/gebruikers/naam`, gebruikersnaam);\n</code></pre>\n\n<p>So if you want your code work you can change into this</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public async Task&lt;IActionResult&gt; VeranderNaam([FromBody] string gebruikersnaam)\n</code></pre>\n\n<p>Or you can use queryParams</p>\n"}], "owner": {"reputation": 37, "user_id": 11489983, "user_type": "registered", "profile_image": "https://graph.facebook.com/2454048451280637/picture?type=large", "display_name": "Tibo Geysen", "link": "https://stackoverflow.com/users/11489983/tibo-geysen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 56248969, "answer_count": 1, "score": 0, "last_activity_date": 1567416174, "creation_date": 1558495653, "last_edit_date": 1567416174, "question_id": 56248904, "link": "https://stackoverflow.com/questions/56248904/cant-seem-to-send-string-over-a-put-request", "title": "Can&#39;t seem to send string over a PUT request", "body": "<p>For some reason my PUT request gives an BadRequest error. I have checked what the cause is and the cause is that \"gebruikersnaam\" when arriving in the .NET side is null, instead of its value.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[HttpPut(\"naam\")]\npublic async Task&lt;IActionResult&gt; VeranderNaam(string gebruikersnaam)\n{\n    IdentityUser user = await this._userManager.FindByNameAsync(User.Identity.Name);\n    Gebruiker gebruiker = this._gebruikerRepository.GetBy(user.UserName);\n    Brouwer brouwer = this._brouwerRepository.GetBy(user.UserName);\n\n    user.UserName = gebruikersnaam;\n    var result = await _userManager.UpdateAsync(user);\n\n    if (result.Succeeded)\n    {\n        if(brouwer != null)\n        {\n            brouwer.Naam = gebruikersnaam;\n            this._brouwerRepository.Update(brouwer);\n            this._brouwerRepository.SaveChanges();\n            return Ok();\n        }\n        else if(gebruiker != null)\n        {\n            gebruiker.Gebruikersnaam = gebruikersnaam;\n            this._gebruikerRepository.Update(gebruiker);\n            this._gebruikerRepository.SaveChanges();\n            return Ok();\n        }\n    }\n\n    return BadRequest();\n}\n\n</code></pre>\n\n<p>angular code </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    onSubmitNaam() {\n        console.log(this.gebruikersnaam.value.gebruikersnaam);\n        this.authService.veranderNaam(this.gebruikersnaam.value.gebruikersnaam).subscribe(\n          () =&gt; {\n            this.success = \"Uw naam is met success aangepast\";\n          }, err =&gt; {\n            this.error = \"Uw naam is niet aangepast\";\n          }\n        )\n\n        this.gebruikersnaam.reset();\n    }\n\n    veranderNaam(gebruikersnaam: string) {\n        return this.http.put(`${environment.apiUrl}/gebruikers/naam`, gebruikersnaam);\n    }\n</code></pre>\n\n<p>I know my form gets the value, it is sent from a form through the request, but upon arriving on the request it \"becomes\" null.</p>\n"}, {"tags": ["reactjs", "typescript", "preact"], "comments": [{"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1558501384, "post_id": 56248704, "comment_id": 99116732, "body": "I guess you could just add <code>key?: string | number</code> (or whatever type that makes sense) to the <code>Props</code>"}, {"owner": {"reputation": 4215, "user_id": 73323, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/Ff7le.jpg?s=128&g=1", "display_name": "kyw", "link": "https://stackoverflow.com/users/73323/kyw"}, "reply_to_user": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1558510442, "post_id": 56248704, "comment_id": 99120528, "body": "Sure that works, but I wonder if there is a more idiomatic way?"}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 1, "creation_date": 1558512658, "post_id": 56248704, "comment_id": 99121704, "body": "Have you tried to use <code>FunctionComponent</code> or <code>ComponentType</code> from preact itself? <a href=\"https://github.com/developit/preact/blob/master/src/index.d.ts#L65\" rel=\"nofollow noreferrer\">github.com/developit/preact/blob/master/src/index.d.ts#L65</a>"}, {"owner": {"reputation": 4215, "user_id": 73323, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/Ff7le.jpg?s=128&g=1", "display_name": "kyw", "link": "https://stackoverflow.com/users/73323/kyw"}, "reply_to_user": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1558531474, "post_id": 56248704, "comment_id": 99132322, "body": "Oh. How do I use it though?"}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 1, "creation_date": 1558548553, "post_id": 56248704, "comment_id": 99141690, "body": "something like <code>const TabContent: FunctionComponent&lt;Props&gt; = ({ children, title, isHidden }) =&gt; ...</code>"}, {"owner": {"reputation": 4215, "user_id": 73323, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/Ff7le.jpg?s=128&g=1", "display_name": "kyw", "link": "https://stackoverflow.com/users/73323/kyw"}, "reply_to_user": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 1, "creation_date": 1558574498, "post_id": 56248704, "comment_id": 99149768, "body": "I import like this <code>import { h, FunctionalComponent } from &quot;preact&quot;;</code>. It works. Thank you!"}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 1, "creation_date": 1558587933, "post_id": 56248704, "comment_id": 99152062, "body": "I&#39;ll post as an answer then"}], "answers": [{"tags": [], "owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "is_accepted": true, "score": 1, "last_activity_date": 1558588321, "creation_date": 1558588321, "answer_id": 56268419, "question_id": 56248704, "link": "https://stackoverflow.com/questions/56248704/how-to-type-property-key-on-preact-stateless-component/56268419#56268419", "title": "How to type property &#39;key&#39; on Preact stateless component", "body": "<p>Preact has similar to React's components <a href=\"https://github.com/developit/preact/blob/master/src/index.d.ts\" rel=\"nofollow noreferrer\">typings</a>. So you can use one of <code>ComponentType</code>, <code>FunctionComponent</code>, <code>FunctionalComponent</code>:</p>\n\n<pre><code>import { FunctionalComponent } from 'preact';\n\nconst TabContent: FunctionalComponent&lt;Props&gt; = ({ children, title, isHidden }) =&gt; (\n    &lt;section\n        id={title}\n        hidden={isHidden}\n    &gt;\n        {children}\n    &lt;/section&gt;\n);\n</code></pre>\n"}], "owner": {"reputation": 4215, "user_id": 73323, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/Ff7le.jpg?s=128&g=1", "display_name": "kyw", "link": "https://stackoverflow.com/users/73323/kyw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "accepted_answer_id": 56268419, "answer_count": 1, "score": 0, "last_activity_date": 1558588321, "creation_date": 1558493891, "question_id": 56248704, "link": "https://stackoverflow.com/questions/56248704/how-to-type-property-key-on-preact-stateless-component", "title": "How to type property &#39;key&#39; on Preact stateless component", "body": "<p>Here is the stateless component:</p>\n\n<pre><code>interface Props {\n  children: JSX.Element;\n  title: string;\n  isHidden: boolean;\n}\n\nfunction TabContent({ children, title, isHidden }: Props): JSX.Element {\n  return (\n    &lt;section\n      id={title}\n      hidden={isHidden}\n    &gt;\n      {children}\n    &lt;/section&gt;\n  );\n}\n\nexport default TabContent;\n</code></pre>\n\n<p>And I consume it in a <code>map</code> like so:</p>\n\n<pre><code>createTabContent = tabs =&gt; {\n    return tabs.map((tab, id) =&gt; (\n      &lt;TabContent key={id} title={tab.title} isHidden={!(this.state.activeTab === id)}&gt;\n        {tab}\n      &lt;/TabContent&gt;\n    ));\n  };\n</code></pre>\n\n<p>But Typescript is complaining the <code>Property 'key' does not exist on type Props</code>.</p>\n\n<p>I have looked into how to type a stateless component in React such as this <a href=\"https://medium.com/@ethan_ikt/react-stateless-functional-component-with-typescript-ce5043466011\" rel=\"nofollow noreferrer\">guide</a>. They all require access to the <code>React</code> module but I'm using Preact..</p>\n"}, {"tags": ["arrays", "typescript", "typechecking"], "answers": [{"comments": [{"owner": {"reputation": 1076, "user_id": 2524925, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dcde08219c5b56a04d29d515282a154e?s=128&d=identicon&r=PG", "display_name": "mamiu", "link": "https://stackoverflow.com/users/2524925/mamiu"}, "edited": false, "score": 0, "creation_date": 1558538668, "post_id": 56249765, "comment_id": 99137021, "body": "Thanks, but where should I put that interface declaration? It&#39;s not working if I just paste it into the file where the issue appears."}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "reply_to_user": {"reputation": 1076, "user_id": 2524925, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dcde08219c5b56a04d29d515282a154e?s=128&d=identicon&r=PG", "display_name": "mamiu", "link": "https://stackoverflow.com/users/2524925/mamiu"}, "edited": false, "score": 1, "creation_date": 1558548913, "post_id": 56249765, "comment_id": 99141858, "body": "@mamiu inside module you&#39;ll need to wrap this in &quot;global declaration&quot;. See <a href=\"https://stackoverflow.com/questions/47130406/extending-window-inside-a-typescript-module/47130953#47130953\" title=\"extending window inside a typescript module\">stackoverflow.com/questions/47130406/&hellip;</a>"}, {"owner": {"reputation": 1076, "user_id": 2524925, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dcde08219c5b56a04d29d515282a154e?s=128&d=identicon&r=PG", "display_name": "mamiu", "link": "https://stackoverflow.com/users/2524925/mamiu"}, "edited": false, "score": 0, "creation_date": 1558553619, "post_id": 56249765, "comment_id": 99143961, "body": "Amazing! Posted this answer on the Github issue."}], "tags": [], "owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "is_accepted": true, "score": 9, "last_activity_date": 1558548952, "last_edit_date": 1558548952, "creation_date": 1558502453, "answer_id": 56249765, "question_id": 56248618, "link": "https://stackoverflow.com/questions/56248618/how-to-check-if-an-object-is-a-readonly-array-in-typescript/56249765#56249765", "title": "How to check if an object is a readonly array in TypeScript?", "body": "<p><a href=\"https://github.com/microsoft/TypeScript/issues/17002\" rel=\"noreferrer\">Here's</a> relevant issue in typescript.</p>\n\n<p>Suggested workaround by <a href=\"https://stackoverflow.com/users/2887218/jcalz\">@jcalz</a> is adding overload to declaration of <code>isArray</code>:</p>\n\n<pre><code>declare global {\n    interface ArrayConstructor {\n        isArray(arg: ReadonlyArray&lt;any&gt; | any): arg is ReadonlyArray&lt;any&gt;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 46, "user_id": 4919946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e68535a8e1153628086ff74ef5e6c26?s=128&d=identicon&r=PG&f=1", "display_name": "Kang Ming Chua", "link": "https://stackoverflow.com/users/4919946/kang-ming-chua"}, "is_accepted": false, "score": 0, "last_activity_date": 1569921605, "last_edit_date": 1569921605, "creation_date": 1569921260, "answer_id": 58181625, "question_id": 56248618, "link": "https://stackoverflow.com/questions/56248618/how-to-check-if-an-object-is-a-readonly-array-in-typescript/58181625#58181625", "title": "How to check if an object is a readonly array in TypeScript?", "body": "<p>it should be like this</p>\n\n<pre><code>interface ArrayConstructor {\n  isArray(arg: unknown): arg is unknown[] | readonly unknown[];\n}\n</code></pre>\n\n<p>and test it in typescript</p>\n\n<pre><code>const a = ['a', 'b', 'c'];\nif (Array.isArray(a)) {\n  console.log(a); // a is string[]\n} else {\n  console.log(a); // a is never\n}\n\nconst b: readonly string[] = ['1', '2', '3']\n\nif (Array.isArray(b)) {\n  console.log(b); // b is readonly string[]\n} else {\n  console.log(b); // b is never\n}\n\nfunction c(val: string | string[]) {\n  if (Array.isArray(val)) {\n    console.log(val); // val is string[]\n  }\n  else {\n    console.log(val); // val is string\n  }\n}\n\nfunction d(val: string | readonly string[]) {\n  if (Array.isArray(val)) {\n    console.log(val); // val is readonly string[]\n  }\n  else {\n    console.log(val); // val is string\n  }\n}\n\nfunction e(val: string | string[] | readonly string[]) {\n  if (Array.isArray(val)) {\n    console.log(val); // val is string[] | readonly string[]\n  }\n  else {\n    console.log(val); // val is string\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1076, "user_id": 2524925, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dcde08219c5b56a04d29d515282a154e?s=128&d=identicon&r=PG", "display_name": "mamiu", "link": "https://stackoverflow.com/users/2524925/mamiu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1503, "favorite_count": 0, "accepted_answer_id": 56249765, "answer_count": 2, "score": 4, "last_activity_date": 1569921605, "creation_date": 1558493171, "question_id": 56248618, "link": "https://stackoverflow.com/questions/56248618/how-to-check-if-an-object-is-a-readonly-array-in-typescript", "title": "How to check if an object is a readonly array in TypeScript?", "body": "<p>How to do an array check (like <code>Array.isArray()</code>) with a readonly array (<code>ReadonlyArray</code>)?</p>\n\n<p>As an example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type ReadonlyArrayTest = ReadonlyArray&lt;string&gt; | string | undefined;\n\nlet readonlyArrayTest: ReadonlyArrayTest;\n\nif (readonlyArrayTest &amp;&amp; !Array.isArray(readonlyArrayTest)) {\n  // Here I expect `readonlyArrayTest` to be a string\n  // but the TypeScript compiler thinks it's following:\n  // let readonlyArrayTest: string | readonly string[]\n}\n</code></pre>\n\n<p>With an usual array the TypeScript compiler correctly recognises that it must be a string inside the if condition.</p>\n"}, {"tags": ["typescript", "types", "casting", "typescript-typings"], "answers": [{"comments": [{"owner": {"reputation": 2070, "user_id": 2588038, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/V4PwQ.jpg?s=128&g=1", "display_name": "tuchk4", "link": "https://stackoverflow.com/users/2588038/tuchk4"}, "edited": false, "score": 0, "creation_date": 1558518470, "post_id": 56248915, "comment_id": 99124979, "body": "<code>ValuesByType[T[key][&#39;type&#39;]]</code> this solved my problem. I tried this way but with wrong syntax  <code>ValuesByType[T[key].type]</code>. Thanks a lot"}], "tags": [], "owner": {"reputation": 2215, "user_id": 260560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc8102716b5f50a80becb906f3cc69c?s=128&d=identicon&r=PG", "display_name": "ProdigySim", "link": "https://stackoverflow.com/users/260560/prodigysim"}, "is_accepted": true, "score": 1, "last_activity_date": 1558495731, "creation_date": 1558495731, "answer_id": 56248915, "question_id": 56248350, "link": "https://stackoverflow.com/questions/56248350/cast-object-to-another-by-matched-property-at-values/56248915#56248915", "title": "Cast object to another by matched property at values", "body": "<p>One issue you'll want to clear up when solving this issue is the type of your input <code>_sources</code> object. On your TS Playground link, it's currently typed as:</p>\n\n<pre><code>const _source: { \n  foo: { type: Types; }; \n  bar: { type: Types; };\n};\n</code></pre>\n\n<p>Notice how the <code>type</code> parameters are getting set to just <code>Types</code> instead of a concrete <code>Types.Color</code> or <code>Types.Number</code>.</p>\n\n<p>On Typescript 3.4 you can fix this by adding <code>as const</code> after the definition:</p>\n\n<pre><code>const _source = {\n  foo: { type: Types.Color },\n  bar: { type: Types.Number },\n} as const;\n</code></pre>\n\n<p>or, prior to 3.4, you can use <code>Types.Color as Types.Color</code> to get typescript to treat these as literal values.</p>\n\n<p>After that is cleared up, a Mapped Type will get your the return value you need. I wrote this as a generic helper type.</p>\n\n<pre><code>type ConvertedSources&lt;T extends Record&lt;string, SourceValue&lt;any&gt;&gt;&gt; = {\n  [key in keyof T]: ValuesByType[T[key]['type']]\n};\n</code></pre>\n\n<p>If you pass in <code>typeof _source</code> to this, you'll see how each property in <code>_source</code> will get mapped to the corresponding value type based on your <code>ValuesByType</code> interface.</p>\n\n<p>Then, you just need to make your function use this in its signature, preserving the same type constraint:</p>\n\n<pre><code>function convert&lt;\n  TSources extends Record&lt;string, SourceValue&lt;any&gt;&gt;\n  &gt;(source: TSources): ConvertedSources&lt;TSources&gt; { ... }\n</code></pre>\n\n<p>Note that you'll also need to cast the result of your <code>reduce()</code> call to <code>ConvertedSources&lt;TSources&gt;</code>, or change some of the inner code to preserve the types.</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#src=interface%20Color%20%7B%0D%0A%20%20opacity%3A%20number%3B%0D%0A%20%20value%3A%20string%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20Number%20%7B%0D%0A%20%20value%3A%20number%3B%0D%0A%7D%0D%0A%0D%0Aconst%20enum%20Types%20%7B%0D%0A%20%20Color%2C%0D%0A%20%20Number%2C%0D%0A%7D%0D%0A%0D%0Ainterface%20ValuesByType%20%7B%0D%0A%20%20%5BTypes.Color%5D%3A%20Color%3B%0D%0A%20%20%5BTypes.Number%5D%3A%20Number%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20SourceValue%3CT%20extends%20Types%20%3D%20Types%3E%20%7B%0D%0A%20%20type%3A%20T%3B%0D%0A%7D%0D%0A%0D%0Atype%20ConvertedSources%3CT%20extends%20Record%3Cstring%2C%20SourceValue%3Cany%3E%3E%3E%20%3D%20%7B%0D%0A%20%20%5Bkey%20in%20keyof%20T%5D%3A%20ValuesByType%5BT%5Bkey%5D%5B&#39;type&#39;%5D%5D%0D%0A%7D%3B%0D%0A%0D%0Afunction%20convert%3C%0D%0A%20%20TSources%20extends%20Record%3Cstring%2C%20SourceValue%3Cany%3E%3E%0D%0A%20%20%3E(source%3A%20TSources)%3A%20ConvertedSources%3CTSources%3E%20%7B%0D%0A%20%20%0D%0A%20%20return%20Object.keys(source).reduce(%0D%0A%20%20%20%20(memo%2C%20key)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20switch%20(source%5Bkey%5D.type)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20Types.Color%3A%0D%0A%20%20%20%20%20%20%20%20%20%20memo%5Bkey%5D%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%201%2C%20%2F%2F%20just%20example%20valuee%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20&#39;%23fff&#39;%2C%20%2F%2F%20just%20example%20valuee%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20memo%3B%0D%0A%20%20%20%20%20%20%20%20case%20Types.Number%3A%0D%0A%20%20%20%20%20%20%20%20%20%20memo%5Bkey%5D%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3A%201%2C%20%2F%2F%20just%20example%20valuee%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20memo%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%2C%0D%0A%20%20%20%20%7B%7D%2C%0D%0A%20%20)%20as%20ConvertedSources%3CTSources%3E%3B%0D%0A%7D%3B%0D%0A%0D%0Aconst%20_source%20%3D%20%7B%0D%0A%20%20foo%3A%20%7B%0D%0A%20%20%20%20type%3A%20Types.Color%2C%0D%0A%20%20%7D%2C%0D%0A%20%20bar%3A%20%7B%0D%0A%20%20%20%20type%3A%20Types.Number%2C%0D%0A%20%20%7D%2C%0D%0A%7D%20as%20const%3B%0D%0A%0D%0A%2F%2F%20Just%20to%20demonstrate%3B%20this%20line%20does%20nothing.%0D%0Atype%20ExpectedResultType%20%3D%20ConvertedSources%3Ctypeof%20_source%3E%3B%0D%0A%0D%0Aconst%20result%20%3D%20convert(_source)%3B%0D%0A%0D%0A%0D%0A%2F%2F%20Now%20it&#39;s%20Number%0D%0Aresult.bar%0D%0A\" rel=\"nofollow noreferrer\">TS Playground Demo</a></p>\n"}], "owner": {"reputation": 2070, "user_id": 2588038, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/V4PwQ.jpg?s=128&g=1", "display_name": "tuchk4", "link": "https://stackoverflow.com/users/2588038/tuchk4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 1, "accepted_answer_id": 56248915, "answer_count": 1, "score": 0, "last_activity_date": 1558495731, "creation_date": 1558490420, "last_edit_date": 1558490519, "question_id": 56248350, "link": "https://stackoverflow.com/questions/56248350/cast-object-to-another-by-matched-property-at-values", "title": "Cast object to another by matched property at values", "body": "<p>I need to convert one object to another according some rules.</p>\n\n<ul>\n<li>There is <code>Types</code> enum; </li>\n<li>There are two interfaces <code>Color</code> and <code>Number</code>;</li>\n<li>There is <code>ValuesByType</code> interface where <code>Types</code> enum mapped to interfaces <code>Color</code> and <code>Number</code>;</li>\n<li>Three is <code>source</code> object (dictionary/Record) with <code>type</code> property that is <code>Types</code> enum.</li>\n</ul>\n\n<p>I need to write types for <code>convert</code> function that returns a new object with the same keys as <code>source</code> object but values should refs to interfaces that are mapped at <code>ValuesByType</code>.</p>\n\n<p>Example:</p>\n\n<pre><code>interface Color {}\ninterface Number {}\n\nenum Types {\n  Color,\n  Number,\n}\n\ninterface ValuesByType {\n  [Types.Color]: Color,\n  [Types.Number]: Number,\n}\n\ninterface SourceValue&lt;T extends Types = Types&gt; {\n  type: T;\n}\n\n\n// Need to define types for this function\nfunction convert(source: SourceValue) {\n  ...\n}\n\nconst source: SourceValue = {\n  foo: {\n    type: Types.Color,\n  },\n  bar: {\n    type: Types.Number,\n  },\n};\n\nconst result = convert(source);\n\n// The type of \"result\" veriable should be:\n// {\n//     foo: Color,\n//     bar: Number\n// }\n</code></pre>\n\n<p>I tried this way but it does not work:</p>\n\n<pre><code>export type Convert = &lt;\n  T extends Types,\n  S extends Record&lt;keyof S, SourceValue&lt;T&gt;&gt;\n&gt;(\n  source: S,\n) =&gt; Record&lt;keyof S, ValuesByType[T]&gt;;\n\n</code></pre>\n\n<hr>\n\n<ul>\n<li><a href=\"https://www.typescriptlang.org/play/index.html#src=interface%20Color%20%7B%0D%0A%20%20opacity%3A%20number%3B%0D%0A%20%20value%3A%20string%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20Number%20%7B%0D%0A%20%20value%3A%20number%3B%0D%0A%7D%0D%0A%0D%0Aconst%20enum%20Types%20%7B%0D%0A%20%20Color%2C%0D%0A%20%20Number%2C%0D%0A%7D%0D%0A%0D%0Ainterface%20ValuesByType%20%7B%0D%0A%20%20%5BTypes.Color%5D%3A%20Color%3B%0D%0A%20%20%5BTypes.Number%5D%3A%20Number%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20SourceValue%3CT%20extends%20Types%20%3D%20Types%3E%20%7B%0D%0A%20%20type%3A%20T%3B%0D%0A%7D%0D%0A%0D%0Aexport%20type%20Convert%20%3D%20%3C%0D%0A%20%20T%20extends%20Types%2C%0D%0A%20%20S%20extends%20Record%3Ckeyof%20S%2C%20SourceValue%3CT%3E%3E%0D%0A%3E(%0D%0A%20%20source%3A%20S%2C%0D%0A)%20%3D%3E%20Record%3Ckeyof%20S%2C%20ValuesByType%5BT%5D%3E%3B%0D%0A%0D%0A%2F%2F%20Need%20to%20define%20types%20for%20this%20function%0D%0Aconst%20convert%3A%20Convert%20%3D%20source%20%3D%3E%20%7B%0D%0A%20%20return%20Object.keys(source).reduce(%0D%0A%20%20%20%20(memo%2C%20key)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20switch%20(source%5Bkey%5D.type)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20Types.Color%3A%0D%0A%20%20%20%20%20%20%20%20%20%20memo%5Bkey%5D%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%201%2C%20%2F%2F%20just%20example%20valuee%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20&#39;%23fff&#39;%2C%20%2F%2F%20just%20example%20valuee%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20memo%3B%0D%0A%20%20%20%20%20%20%20%20case%20Types.Number%3A%0D%0A%20%20%20%20%20%20%20%20%20%20memo%5Bkey%5D%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3A%201%2C%20%2F%2F%20just%20example%20valuee%0D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20return%20memo%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%2C%0D%0A%20%20%20%20%7B%7D%20as%20any%2C%0D%0A%20%20)%3B%0D%0A%7D%3B%0D%0A%0D%0Aconst%20_source%20%3D%20%7B%0D%0A%20%20foo%3A%20%7B%0D%0A%20%20%20%20type%3A%20Types.Color%2C%0D%0A%20%20%7D%2C%0D%0A%20%20bar%3A%20%7B%0D%0A%20%20%20%20type%3A%20Types.Number%2C%0D%0A%20%20%7D%2C%0D%0A%7D%3B%0D%0A%0D%0Aconst%20result%20%3D%20convert(_source)%3B%0D%0A%0D%0A%0D%0A%2F%2F%20Color%20%7C%20Number%0D%0A%2F%2F%20but%20shoulde%20be%20Number%0D%0Aresult.bar%0D%0A\" rel=\"nofollow noreferrer\">Here is playground</a> with this issue</li>\n<li><a href=\"https://www.typescriptlang.org/play/#src=interface%20Color%20%7B%0D%0A%20%20opacity%3A%20number%0D%0A%7D%0D%0Ainterface%20Number%20%7B%7D%0D%0A%0D%0Aenum%20Types%20%7B%0D%0A%20%20Color%2C%0D%0A%20%20Number%2C%0D%0A%7D%0D%0A%0D%0Ainterface%20ValuesByType%20%7B%0D%0A%20%20%5BTypes.Number%5D%3A%20Number%2C%0D%0A%20%20%5BTypes.Color%5D%3A%20Color%2C%0D%0A%7D%0D%0A%0D%0Ainterface%20Key%3CT%20extends%20Types%20%3D%20Types%3E%20%7B%0D%0A%20%20type%3A%20T%2C%0D%0A%20%20key%3A%20string%0D%0A%7D%3B%0D%0A%0D%0Aexport%20type%20GetValue%20%3D%20%3CT%20extends%20Types%3E(key%3A%20Key%3CT%3E)%20%3D%3E%20ValuesByType%5BT%5D%3B%0D%0A%0D%0Aconst%20source%20%3D%20%7B%0D%0A%20%20foo%3A%20%7B%0D%0A%20%20%20%20type%3A%20Types.Color%2C%0D%0A%20%20%7D%2C%0D%0A%20%20bar%3A%20%7B%0D%0A%20%20%20%20type%3A%20Types.Number%2C%0D%0A%20%20%7D%2C%0D%0A%7D%3B%0D%0A%0D%0Aconst%20get%3A%20GetValue%20%3D%20(props)%20%3D%3E%20%7B%0D%0A%20%20return%20source%5Bprops.key%5D%3B%0D%0A%7D%0D%0A%0D%0A%2F%2F%20result%20type%20is%20Color%0D%0Aconst%20result%20%3D%20get(%7B%0D%0A%20%20type%3A%20Types.Color%2C%0D%0A%20%20key%3A%20&#39;foo&#39;%0D%0A%7D)%3B%0D%0A\" rel=\"nofollow noreferrer\">Here is playground</a> with very similar example for getter function by type and type mapper interface.</li>\n</ul>\n"}, {"tags": ["javascript", "typescript", "visual-studio-code", "vscode-extensions"], "comments": [{"owner": {"reputation": 24360, "user_id": 2631715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25382df099e692f409929ce3bf4e9961?s=128&d=identicon&r=PG", "display_name": "Gama11", "link": "https://stackoverflow.com/users/2631715/gama11"}, "edited": false, "score": 0, "creation_date": 1558515470, "post_id": 56248079, "comment_id": 99123239, "body": "&quot;throws an error&quot;? What error?"}, {"owner": {"reputation": 45, "user_id": 9473373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/121c310dfcc76d98f4f15e3094e3c94a?s=128&d=identicon&r=PG&f=1", "display_name": "jdshaeff", "link": "https://stackoverflow.com/users/9473373/jdshaeff"}, "reply_to_user": {"reputation": 24360, "user_id": 2631715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25382df099e692f409929ce3bf4e9961?s=128&d=identicon&r=PG", "display_name": "Gama11", "link": "https://stackoverflow.com/users/2631715/gama11"}, "edited": false, "score": 0, "creation_date": 1558532069, "post_id": 56248079, "comment_id": 99132747, "body": "@Gama11 It says in a pop up right above the <code>vscode.window.showInformationMessage</code>: <code>Running the contributed command: &#39;extension.upload&#39; failed</code>. Still, I ssh into the server where I&#39;m copying the files, and the code didn&#39;t get copied over."}, {"owner": {"reputation": 45, "user_id": 9473373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/121c310dfcc76d98f4f15e3094e3c94a?s=128&d=identicon&r=PG&f=1", "display_name": "jdshaeff", "link": "https://stackoverflow.com/users/9473373/jdshaeff"}, "reply_to_user": {"reputation": 36245, "user_id": 1137174, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/361fd9b1b32d13cd1c1dc03e5c6a2127?s=128&d=identicon&r=PG", "display_name": "Mike Lischke", "link": "https://stackoverflow.com/users/1137174/mike-lischke"}, "edited": false, "score": 0, "creation_date": 1559224635, "post_id": 56248079, "comment_id": 99359758, "body": "@MikeLischke bless you sir that looks like a promising solution! I&#39;ll check it out. Sorry I didn&#39;t find it before."}, {"owner": {"reputation": 45, "user_id": 9473373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/121c310dfcc76d98f4f15e3094e3c94a?s=128&d=identicon&r=PG&f=1", "display_name": "jdshaeff", "link": "https://stackoverflow.com/users/9473373/jdshaeff"}, "reply_to_user": {"reputation": 36245, "user_id": 1137174, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/361fd9b1b32d13cd1c1dc03e5c6a2127?s=128&d=identicon&r=PG", "display_name": "Mike Lischke", "link": "https://stackoverflow.com/users/1137174/mike-lischke"}, "edited": false, "score": 0, "creation_date": 1559414711, "post_id": 56248079, "comment_id": 99416136, "body": "@MikeLischke It&#39;s working fine except I need to pass in a password since it requires <code>ssh</code>. Looking into some solutions. Do you know how to do that?"}, {"owner": {"reputation": 36245, "user_id": 1137174, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/361fd9b1b32d13cd1c1dc03e5c6a2127?s=128&d=identicon&r=PG", "display_name": "Mike Lischke", "link": "https://stackoverflow.com/users/1137174/mike-lischke"}, "edited": false, "score": 0, "creation_date": 1559466848, "post_id": 56248079, "comment_id": 99423843, "body": "I don&#39;t know if SSH supports that, but see if you can use an external file for the password (and require the user to have that file, e.g. in the homedir)."}], "owner": {"reputation": 45, "user_id": 9473373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/121c310dfcc76d98f4f15e3094e3c94a?s=128&d=identicon&r=PG&f=1", "display_name": "jdshaeff", "link": "https://stackoverflow.com/users/9473373/jdshaeff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "closed_date": 1559566172, "answer_count": 0, "score": 0, "last_activity_date": 1559137144, "creation_date": 1558487429, "last_edit_date": 1559137144, "question_id": 56248079, "link": "https://stackoverflow.com/questions/56248079/how-to-execute-a-shell-script-in-a-vs-code-extension-command", "closed_reason": "Duplicate", "title": "How to execute a shell script in a VS Code Extension command?", "body": "<p>I'm trying to make a VS Code Extension meant to help people program an educational robot my team and I are developing. I would like to make a small command that will <code>scp</code> the programmer's current directory to the robot's ip and then run it so that the robot can be up and running quickly. I know more or less the right shell script to make it happen. How can this be done or how could I run that shell script in JavaScript/TypeScript or via the VS Code Extension API when I enter the proper command I created for the extension?</p>\n\n<p>I tried the <code>child_process</code> method, and from what I've seen, that works fine for things like <code>ls</code>, when I want to output something. When I tried it with a valid <code>scp</code> command, it threw an error and didn't work. Output appears in the debug console, which would be useless for a user of this extension, but it shows that <code>child_process</code> does indeed work as expected for some commands.</p>\n\n<p>If it can't be done with a shell script, there is a module called <code>scp2</code> that works just like <code>scp</code> but for <code>node.js</code> applications. I tried it in the <code>registerCommand</code> function, but to no avail. Threw an error, this time a <code>Running the contributed command: 'extension.upload failed'</code>. Here is the code:</p>\n\n<pre><code>let upload = vscode.commands.registerCommand('extension.upload', () =&gt; {\n        vscode.window.showInformationMessage('Uploading...');\n        var client = require('scp2');\n        client.scp('file.txt', {\n            host: '...',\n            username: '...',\n            password: '...', // not the real host, username, or password\n            path: '/~/code/'\n        }, function(err: any) {\n            if(err) {\n                console.log('Error');\n                console.log(err);\n            }\n            else {\n                console.log('Success');\n            }\n        });\n    });\n</code></pre>\n\n<p>I'll continue to look into this. In the meantime, if anyone sees something I don't, the help would be greatly appreciated.</p>\n"}, {"tags": ["node.js", "typescript", "express"], "comments": [{"owner": {"reputation": 152, "user_id": 8968219, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OhDIN.png?s=128&g=1", "display_name": "Mladen Skrbic", "link": "https://stackoverflow.com/users/8968219/mladen-skrbic"}, "edited": false, "score": 0, "creation_date": 1558684832, "post_id": 56247950, "comment_id": 99189142, "body": "only good thing when u use router.get for example is that you can make your code more modular for example you would have auth.js where you would define your routes and then in main.js you would use that routes like this app.use(&#39;/api/auth&#39;,require(&#39;path/auth.js&#39;)"}, {"owner": {"reputation": 152, "user_id": 8968219, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OhDIN.png?s=128&g=1", "display_name": "Mladen Skrbic", "link": "https://stackoverflow.com/users/8968219/mladen-skrbic"}, "edited": false, "score": 0, "creation_date": 1558684870, "post_id": 56247950, "comment_id": 99189158, "body": "above is just an example how you can use it. you can make multiple files for different routs, for examle you would do same for posts, etc. this would keep your main.js smaller and everything would be more readable and maintainable."}], "answers": [{"tags": [], "owner": {"reputation": 77, "user_id": 11188172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9693f3745e6f99f184fd273c181ccc8?s=128&d=identicon&r=PG&f=1", "display_name": "Liniaq", "link": "https://stackoverflow.com/users/11188172/liniaq"}, "is_accepted": false, "score": 0, "last_activity_date": 1558677503, "creation_date": 1558677503, "answer_id": 56286635, "question_id": 56247950, "link": "https://stackoverflow.com/questions/56247950/how-to-use-express-router-in-best-practice/56286635#56286635", "title": "How to use Express router in best practice?", "body": "<p>I usually leave this job to prettier (Visual Code Extension). But its up to you, no difference at all</p>\n"}, {"tags": [], "owner": {"reputation": 355, "user_id": 4697769, "user_type": "registered", "profile_image": "https://graph.facebook.com/681219235321205/picture?type=large", "display_name": "Gopal Sharma", "link": "https://stackoverflow.com/users/4697769/gopal-sharma"}, "is_accepted": true, "score": 0, "last_activity_date": 1558678899, "creation_date": 1558678899, "answer_id": 56286883, "question_id": 56247950, "link": "https://stackoverflow.com/questions/56247950/how-to-use-express-router-in-best-practice/56286883#56286883", "title": "How to use Express router in best practice?", "body": "<p>There is no pros or cons of using one versus another. Its just different syntax for writing the same thing. It doesn't make any difference at all.</p>\n"}], "owner": {"reputation": 993, "user_id": 10583765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50f9c542545ed0c80df4efa010364d38?s=128&d=identicon&r=PG&f=1", "display_name": "Rario", "link": "https://stackoverflow.com/users/10583765/rario"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 56286883, "answer_count": 2, "score": 0, "last_activity_date": 1558678899, "creation_date": 1558486035, "question_id": 56247950, "link": "https://stackoverflow.com/questions/56247950/how-to-use-express-router-in-best-practice", "title": "How to use Express router in best practice?", "body": "<p>I'm building TypeScript REST API. Any difference between</p>\n\n<pre><code>router.get();\nrouter.post();\nrouter.patch();\nrouter.delete();\n----------------\napp.use();\napp.use();\napp.set();\n</code></pre>\n\n<p>and</p>\n\n<pre><code>router\n    .get()\n    .post()\n    .patch()\n    .delete();\n--------------\napp\n    .use()\n    .use()\n    .set();\n</code></pre>\n\n<p>?</p>\n\n<p>If so, which one would be the best practice?</p>\n"}, {"tags": ["typescript", "visual-studio-code"], "answers": [{"comments": [{"owner": {"reputation": 371, "user_id": 5589037, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a8e0afcaf170b7c13a53093cf2f5f84c?s=128&d=identicon&r=PG&f=1", "display_name": "John Walker", "link": "https://stackoverflow.com/users/5589037/john-walker"}, "edited": false, "score": 0, "creation_date": 1558507289, "post_id": 56249383, "comment_id": 99118906, "body": "I got another type error when I tried your solution : <code>const _ : _.LoDashStatic = require(&#39;lodash&#39;);</code> fixed that. It seems like a bit of a cludge but it works."}, {"owner": {"reputation": 244, "user_id": 7966638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/740b4b1701e86367a90b4cf0fa0e57ae?s=128&d=identicon&r=PG&f=1", "display_name": "Scofjeld", "link": "https://stackoverflow.com/users/7966638/scofjeld"}, "reply_to_user": {"reputation": 371, "user_id": 5589037, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a8e0afcaf170b7c13a53093cf2f5f84c?s=128&d=identicon&r=PG&f=1", "display_name": "John Walker", "link": "https://stackoverflow.com/users/5589037/john-walker"}, "edited": false, "score": 0, "creation_date": 1558507371, "post_id": 56249383, "comment_id": 99118939, "body": "Why you need <code>_.LoDashStatic</code> type declaration?"}, {"owner": {"reputation": 371, "user_id": 5589037, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a8e0afcaf170b7c13a53093cf2f5f84c?s=128&d=identicon&r=PG&f=1", "display_name": "John Walker", "link": "https://stackoverflow.com/users/5589037/john-walker"}, "edited": false, "score": 0, "creation_date": 1558507694, "post_id": 56249383, "comment_id": 99119086, "body": "without the type I got the following error: <code>Subsequent variable declarations must have the same type.  Variable &#39;_&#39; must be of type &#39;LoDashStatic&#39;, but here has type &#39;any&#39;.</code>"}, {"owner": {"reputation": 244, "user_id": 7966638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/740b4b1701e86367a90b4cf0fa0e57ae?s=128&d=identicon&r=PG&f=1", "display_name": "Scofjeld", "link": "https://stackoverflow.com/users/7966638/scofjeld"}, "reply_to_user": {"reputation": 371, "user_id": 5589037, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a8e0afcaf170b7c13a53093cf2f5f84c?s=128&d=identicon&r=PG&f=1", "display_name": "John Walker", "link": "https://stackoverflow.com/users/5589037/john-walker"}, "edited": false, "score": 0, "creation_date": 1558508427, "post_id": 56249383, "comment_id": 99119445, "body": "Can you try this <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/lodash#different-ways-people-might-use-lodash\" rel=\"nofollow noreferrer\">github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 244, "user_id": 7966638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/740b4b1701e86367a90b4cf0fa0e57ae?s=128&d=identicon&r=PG&f=1", "display_name": "Scofjeld", "link": "https://stackoverflow.com/users/7966638/scofjeld"}, "reply_to_user": {"reputation": 371, "user_id": 5589037, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a8e0afcaf170b7c13a53093cf2f5f84c?s=128&d=identicon&r=PG&f=1", "display_name": "John Walker", "link": "https://stackoverflow.com/users/5589037/john-walker"}, "edited": false, "score": 0, "creation_date": 1558508883, "post_id": 56249383, "comment_id": 99119634, "body": "I have rechecked, since my tsconfig has changed <code>target</code> to <code>es2015</code> I can import like this: <code>import * as _ from &#39;lodash&#39;;</code>"}, {"owner": {"reputation": 371, "user_id": 5589037, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a8e0afcaf170b7c13a53093cf2f5f84c?s=128&d=identicon&r=PG&f=1", "display_name": "John Walker", "link": "https://stackoverflow.com/users/5589037/john-walker"}, "edited": false, "score": 0, "creation_date": 1558556223, "post_id": 56249383, "comment_id": 99145081, "body": "I still get the same issue with <code>target</code> set to <code>es2015</code>. The only solution working for me is still: <code>const _ : _.LoDashStatic = require(&#39;lodash&#39;);</code>"}], "tags": [], "owner": {"reputation": 244, "user_id": 7966638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/740b4b1701e86367a90b4cf0fa0e57ae?s=128&d=identicon&r=PG&f=1", "display_name": "Scofjeld", "link": "https://stackoverflow.com/users/7966638/scofjeld"}, "is_accepted": true, "score": 2, "last_activity_date": 1558499711, "creation_date": 1558499711, "answer_id": 56249383, "question_id": 56247879, "link": "https://stackoverflow.com/questions/56247879/how-can-i-get-lodash-type-info-to-work-in-vscode/56249383#56249383", "title": "How can I get lodash type info to work in VSCode?", "body": "<p>I have same issue, and I get through it by this way:</p>\n\n<p><code>const _ = require('lodash');</code></p>\n"}], "owner": {"reputation": 371, "user_id": 5589037, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a8e0afcaf170b7c13a53093cf2f5f84c?s=128&d=identicon&r=PG&f=1", "display_name": "John Walker", "link": "https://stackoverflow.com/users/5589037/john-walker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1687, "favorite_count": 0, "accepted_answer_id": 56249383, "answer_count": 1, "score": 2, "last_activity_date": 1558504941, "creation_date": 1558485192, "last_edit_date": 1558504941, "question_id": 56247879, "link": "https://stackoverflow.com/questions/56247879/how-can-i-get-lodash-type-info-to-work-in-vscode", "title": "How can I get lodash type info to work in VSCode?", "body": "<p>I am getting a (squiggly red line) error in VSCode with the following <code>.ts</code> file:</p>\n\n<p><strong>src\\lib\\hi.ts</strong></p>\n\n<pre><code>import * as _ from 'lodash';\n\nfunction testLodash(): void {\n\n  function square(n: number) {\n    return n * n;\n  }\n\n  return _.map([4, 8], square);\n}\n\n</code></pre>\n\n<p><strong>Error</strong></p>\n\n<pre><code>Property 'map' does not exist on type 'typeof import(\"lodash\")'.ts(2339)\n</code></pre>\n\n<p>I get the same error for any of the usual lodash functions. Intellisense only gives me the <code>Lodash</code> class when invoked via <code>_.</code>.\nI am guessing that VSCode can't find my type definitions but I can't see why.</p>\n\n<p>If I change the import to: </p>\n\n<pre><code>import 'lodash';\n</code></pre>\n\n<p>I get the expected functions and the error goes away but i get a new error:</p>\n\n<pre><code>'_' refers to a UMD global, but the current file is a module. Consider adding an import instead.ts(2686)\n</code></pre>\n\n<p>Applying the suggested QuickFix adds the following to imports:</p>\n\n<pre><code>import _ from 'lodash';\n</code></pre>\n\n<p>But then I get the original error back. </p>\n\n<p>So what do I need to change to make this work?</p>\n\n<p>Here are the details:</p>\n\n<p><strong>package.json</strong></p>\n\n<pre><code>{\n  ...\n  \"dependencies\": {\n    ...\n    \"lodash\": \"^4.17.11\",\n    ...\n  },\n  \"devDependencies\": {\n    ...\n    \"@types/lodash\": \"^4.14.130\",\n    ...\n    \"typescript\": \"^3.4.5\"\n  }\n}\n</code></pre>\n\n<p><strong>tsconfig.json</strong></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n     \"target\": \"es5\",                          /* Specify ECMAScript target version: 'ES3' (default), 'ES5', 'ES2015', 'ES2016', 'ES2017', 'ES2018', 'ES2019' or 'ESNEXT'. */\n    \"module\": \"commonjs\",                     /* Specify module code generation: 'none', 'commonjs', 'amd', 'system', 'umd', 'es2015', or 'ESNext'. */\n    \"allowJs\": true,                       /* Allow javascript files to be compiled. */\n    \"outDir\": \"./dist/\",                        /* Redirect output structure to the directory. */\n    \"strict\": true,                           /* Enable all strict type-checking options. */\n    \"esModuleInterop\": true                   /* Enables emit interoperability between CommonJS and ES Modules via creation of namespace objects for all imports. Implies 'allowSyntheticDefaultImports'. */\n  }\n}\n</code></pre>\n\n<p><strong>VSCode Settings</strong></p>\n\n<p>No non-default TS settings</p>\n\n<p><strong>TS Version</strong></p>\n\n<p>Version 3.4.5</p>\n\n<p><strong>VSCode Version</strong></p>\n\n<pre><code>Version: 1.34.0 (user setup)\nCommit: a622c65b2c713c890fcf4fbf07cf34049d5fe758\nDate: 2019-05-15T21:59:37.030Z\nElectron: 3.1.8\nChrome: 66.0.3359.181\nNode.js: 10.2.0\nV8: 6.6.346.32\nOS: Windows_NT x64 10.0.17134\n</code></pre>\n\n<p><strong>Installed Extensions</strong></p>\n\n<pre><code>alanz.vscode-hie-server\nalefragnani.Bookmarks\nandyyaldoo.vscode-json\nchristian-kohler.path-intellisense\ndaiyy.quick-html-previewer\neamodio.gitlens\nEdka.haskutil\nesbenp.prettier-vscode\nfabiospampinato.vscode-todo-plus\nflowtype.flow-for-vscode\ngcazaciuc.vscode-flow-ide\nhoovercj.haskell-linter\njcanero.hoogle-vscode\njustusadam.language-haskell\nkarigari.chat\nmrmlnc.vscode-duplicate\nms-vscode.vscode-typescript-tslint-plugin\nms-vsliveshare.vsliveshare\nms-vsliveshare.vsliveshare-audio\nms-vsliveshare.vsliveshare-pack\nphoityne.phoityne-vscode\nSirTobi.code-clip-ring\nWakaTime.vscode-wakatime\n</code></pre>\n"}, {"tags": ["typescript", "graphql"], "comments": [{"owner": {"reputation": 284, "user_id": 292666, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/JKQzd.png?s=128&g=1", "display_name": "Bas Hamer", "link": "https://stackoverflow.com/users/292666/bas-hamer"}, "edited": false, "score": 0, "creation_date": 1558491369, "post_id": 56247716, "comment_id": 99114931, "body": "my best bet seems to be <a href=\"https://stackoverflow.com/questions/42631523/remove-unnecessary-fields-before-mutation-in-graphql\" title=\"remove unnecessary fields before mutation in graphql\">stackoverflow.com/questions/42631523/&hellip;</a> but I&#39;m hoping to avoid having to write all that."}], "answers": [{"comments": [{"owner": {"reputation": 284, "user_id": 292666, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/JKQzd.png?s=128&g=1", "display_name": "Bas Hamer", "link": "https://stackoverflow.com/users/292666/bas-hamer"}, "edited": false, "score": 0, "creation_date": 1558624262, "post_id": 56249246, "comment_id": 99170696, "body": "I was hoping to remove the parrentFolder trough reflection, aka discover that parrentFolder is an unmatched property and wipe it out. The reason for this is long term maintenance, what if proeprties get added to Folder that are not on FolderInput."}, {"owner": {"reputation": 2592, "user_id": 2950484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93beede2ec5471dc4715ee21773728bb?s=128&d=identicon&r=PG", "display_name": "hayhorse", "link": "https://stackoverflow.com/users/2950484/hayhorse"}, "reply_to_user": {"reputation": 284, "user_id": 292666, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/JKQzd.png?s=128&g=1", "display_name": "Bas Hamer", "link": "https://stackoverflow.com/users/292666/bas-hamer"}, "edited": false, "score": 0, "creation_date": 1558651154, "post_id": 56249246, "comment_id": 99181396, "body": "You\u2019re going to have a hard time doing that\u2019s as you don\u2019t have access to type info at runtime.  There may be an easy way but I\u2019m not aware of it."}], "tags": [], "owner": {"reputation": 2592, "user_id": 2950484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93beede2ec5471dc4715ee21773728bb?s=128&d=identicon&r=PG", "display_name": "hayhorse", "link": "https://stackoverflow.com/users/2950484/hayhorse"}, "is_accepted": false, "score": 0, "last_activity_date": 1558498730, "creation_date": 1558498730, "answer_id": 56249246, "question_id": 56247716, "link": "https://stackoverflow.com/questions/56247716/how-to-remove-some-properties-for-sending-data-to-graphql/56249246#56249246", "title": "How to remove some properties for sending data to graphql", "body": "<p>You could simply use the <code>delete</code> operator to remove the unneeded <code>parrentFolder</code> property after typecasting.  Remember that the types go away after the typescript is compiled into javascript, so the type definitions aren't available at runtime, which makes automatic mapping hard to accomplish.</p>\n\n<p>Example in typescript (I simplified your types):</p>\n\n<pre><code>export type Folder = {\n  id: string;\n  name?: string;\n  parrentFolder?: any;\n  parrentFolderId?: string;\n};\n\nexport type FolderInput = {\n  name: string;\n  parrentFolderId?: string;\n  id?: string;\n};\n\nconst folder: Folder = {\n  id: 'xxx',\n  name: 'yyy',\n  parrentFolder: {},\n  parrentFolderId: 'zzz'\n}\n\nconst folderInput = folder as FolderInput;\nconsole.log(folderInput);\n\ndelete folderInput['parrentFolder'];\nconsole.log(folderInput);\n</code></pre>\n\n<p>After compilation:</p>\n\n<pre><code>\"use strict\";\nexports.__esModule = true;\nvar folder = {\n    id: 'xxx',\n    name: 'yyy',\n    parrentFolder: {},\n    parrentFolderId: 'zzz'\n};\nvar folderInput = folder;\nconsole.log(folderInput);\ndelete folderInput['parrentFolder'];\nconsole.log(folderInput);\n</code></pre>\n\n<p>and here is the output:</p>\n\n<pre><code>{ id: 'xxx',\n  name: 'yyy',\n  parrentFolder: {},\n  parrentFolderId: 'zzz' }\n\n{ id: 'xxx', name: 'yyy', parrentFolderId: 'zzz' }\n</code></pre>\n\n<p>You may want to add a deep clone if you want to keep using the original folder object.</p>\n"}], "owner": {"reputation": 284, "user_id": 292666, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/JKQzd.png?s=128&g=1", "display_name": "Bas Hamer", "link": "https://stackoverflow.com/users/292666/bas-hamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558498730, "creation_date": 1558483350, "question_id": 56247716, "link": "https://stackoverflow.com/questions/56247716/how-to-remove-some-properties-for-sending-data-to-graphql", "title": "How to remove some properties for sending data to graphql", "body": "<p>I have a graphql endpoint, I provide an object from the server like this { parentId : 42, parrent: {}}</p>\n\n<p>for my update I only accept this { parentId : 42 }</p>\n\n<p>How do I strip that extra parent property from being sent to the server for mutations?  </p>\n\n<p>I'm using a generated set of classes, they are as follows for a more complicated example.</p>\n\n<p>So manually mapping every property works but makes maintenance a pain in the hiney.</p>\n\n<pre><code>export type Folder = {\n  id: Scalars[\"String\"];\n  name?: Maybe&lt;Scalars[\"String\"]&gt;;\n  parrentFolder?: Maybe&lt;Folder&gt;;\n  parrentFolderId?: Maybe&lt;Scalars[\"String\"]&gt;;\n};\n\nexport type FolderInput = {\n  name: Scalars[\"String\"];\n  parrentFolderId?: Maybe&lt;Scalars[\"String\"]&gt;;\n  id?: Maybe&lt;Scalars[\"String\"]&gt;;\n};\n</code></pre>\n\n<p>not removing the parrentFolder generates the following error: Unrecognized input fields 'parrentFolder'</p>\n\n<p>I'd like to have a way to go from a Folder to a FolderInput, that is resilient to changes in either object. Errors for missing properties (present on FolderInput and not Folder) is neat but not required</p>\n"}, {"tags": ["angular", "typescript", "input", "binding"], "answers": [{"tags": [], "owner": {"reputation": 3163, "user_id": 1778866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gR1pY.jpg?s=128&g=1", "display_name": "Ben Richards", "link": "https://stackoverflow.com/users/1778866/ben-richards"}, "is_accepted": true, "score": 1, "last_activity_date": 1558483746, "creation_date": 1558483746, "answer_id": 56247752, "question_id": 56247537, "link": "https://stackoverflow.com/questions/56247537/change-value-displayed-in-input-field-based-on-binded-variable-with-ngmodel/56247752#56247752", "title": "Change value displayed in input field based on binded variable with NgModel", "body": "<p>You can't bind one property using ngModel and then display another. I would bind the value you want (30) and then converted when you need to do something with it. Or the other way around, convert it first, then bind it.</p>\n"}], "owner": {"reputation": 81, "user_id": 11232045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eba20d4c5f62cb95a13098022b046aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Fealo", "link": "https://stackoverflow.com/users/11232045/fealo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 56247752, "answer_count": 1, "score": 0, "last_activity_date": 1558483746, "creation_date": 1558481683, "question_id": 56247537, "link": "https://stackoverflow.com/questions/56247537/change-value-displayed-in-input-field-based-on-binded-variable-with-ngmodel", "title": "Change value displayed in input field based on binded variable with NgModel", "body": "<p>Basically I have an input tag in my template :</p>\n\n<pre><code>&lt;input (click)=\"clickableButton(pricerule.id)\" type=\"number\" nbInput status=\"info\" shape=\"rectangle\" [(ngModel)]=\"pricerule.price\" placeholder=\"Price\"&gt;\n</code></pre>\n\n<p><code>pricerule.price</code> is a number, it's a price in centimes (french cents), not in euros (french dollars). For example, if <code>pricerule.price</code> is equal to <code>3000</code>, it means 30 dollars.</p>\n\n<p><code>[(ngModel)]=\"pricerule.price\"</code> this part make the bind between the price and the input field. So when the page is loaded, the input field has a default value of <code>pricerule.price</code> ( 3000 for example ).</p>\n\n<p>But I don't want 3000 to be displayed in my input field, my objective is 30 to be displayed, but I have no idea how to do that since I am new about Typescript code.</p>\n"}, {"tags": ["angular", "typescript", "highcharts"], "answers": [{"tags": [], "owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "is_accepted": true, "score": 0, "last_activity_date": 1558495072, "creation_date": 1558495072, "answer_id": 56248832, "question_id": 56247477, "link": "https://stackoverflow.com/questions/56247477/formatting-highchart-bar-charts-axis-labels/56248832#56248832", "title": "Formatting Highchart bar charts axis labels", "body": "<p>You were very close... a few things which i did to make it work...</p>\n\n<ul>\n<li>you had an else clause inside the forEach, so unless the values match for the very last item of the array, you're gonna see just the this.value being printed</li>\n<li>to return the results inside the forEach, you could break and return or wait for the forEach to complete before you return your label value </li>\n</ul>\n\n<p>Here is the updated <strong>relevant</strong> code for the <strong>TS</strong> file:</p>\n\n<pre><code>Highcharts.chart('container', {\n      chart: {\n        type: 'bar'\n      },\n      xAxis: {\n        categories: ['My Goal', 'My Progress', 'My Branch', 'My Region']\n      },\n      yAxis: {\n        min: 0,\n        max: 100,\n        tickInterval: 30,\n        labels: {\n          overflow: 'justify',\n          formatter: function () {\n            //console.log('In charts');\n            //console.log('this.value',this.value);\n            var milestonedata = {\n              tickInterval: 30,\n              milestonedetails: [{\n                percentage: 30,\n                milestonedate: \"May 1, 2019\"\n              }, {\n                percentage: 60,\n                milestonedate: \"May 25, 2019\"\n              }, {\n                percentage: 90,\n                milestonedate: \"July 12, 2019\"\n              }]\n            };\n            var result;\n            milestonedata.milestonedetails.forEach((milestone) =&gt; {\n              //console.log(milestone); \n              //would like the labels to be 30% by date1, 60% by date 2\n              if (milestone.percentage == this.value &amp;&amp; milestone.milestonedate) {\n                result = this.value + \"% by &lt;br&gt;\" + milestone.milestonedate;\n                console.log('printing:',result);\n              }/* else {\n                result = this.value;\n              }*/\n            });\n              return result;\n          }\n        }\n      },\n      plotOptions: {\n        bar: {\n          dataLabels: {\n            enabled: true\n          }\n        }\n      },\n      series: [{\n        data: [{\n          y: 25\n        }, {\n          y: 50\n        }, {\n          y: 75\n        }, {\n          y: 100\n        }]\n      }]\n    });\n</code></pre>\n\n<p>check the complete <a href=\"https://stackblitz.com/edit/angular-utwf5l?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">working demo here</a></p>\n"}], "owner": {"reputation": 15, "user_id": 6403107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fff546d0d95cf14d7ac8ef69f466270a?s=128&d=identicon&r=PG&f=1", "display_name": "curious _s", "link": "https://stackoverflow.com/users/6403107/curious-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 247, "favorite_count": 0, "accepted_answer_id": 56248832, "answer_count": 1, "score": 0, "last_activity_date": 1558495205, "creation_date": 1558480996, "last_edit_date": 1558495205, "question_id": 56247477, "link": "https://stackoverflow.com/questions/56247477/formatting-highchart-bar-charts-axis-labels", "title": "Formatting Highchart bar charts axis labels", "body": "<p>I am trying to set custom x axis labels for bar charts in HighChart. I used formatter to add <em>%</em> and <em>milestone dates</em> to the labels. I can see the expected result when I print in the console, but the bar charts labels are not reflecting this value. </p>\n\n<p>Please find the attached fiddle of what I have tried.</p>\n\n<p><a href=\"https://jsfiddle.net/mt74opnu/2/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/mt74opnu/2/</a></p>\n\n<pre><code>Code:\n\n/* public milestonedata: MilestoneDetailsSchedule = {\n    tickInterval: 30,\n    milestonedetails: [{\n      percentage: 30,\n      milestonedate: \"May 1, 2019\"\n    }, {\n      percentage: 60,\n      milestonedate: \"May 25, 2019\"\n    }]\n}; // this the object that I am trying to access for labels */\n\nHighcharts.chart('container', {\n  chart: {\n    type: 'bar'\n  },\n  xAxis: {\n    categories: ['My Goal', 'My Progress', 'My Branch', 'My Region']\n  },\n  yAxis: {\n    min: 0,\n    max: 100,\n    tickInterval: 30,\n    labels: {\n      overflow: 'justify',\n      formatter: function() {\n        //console.log('In charts');\n        //console.log(this.value);\n        var milestonedata = {\n          tickInterval: 30,\n          milestonedetails: [{\n            percentage: 30,\n            milestonedate: \"May 1, 2019\"\n          }, {\n            percentage: 60,\n            milestonedate: \"May 25, 2019\"\n          }]\n        };\n        var result;\n        milestonedata.milestonedetails.forEach((milestone) =&gt; {\n          //console.log(milestone); \n          //would like the labels to be 30% by date1, 60% by date 2\n          if (milestone.percentage == this.value &amp;&amp; milestone.milestonedate) {\n            result = this.value + \"% by &lt;br&gt;\" + milestone.milestonedate;\n            console.log(result);\n          } else {\n            result = this.value;\n          }\n          return result;\n        });\n      }\n    }\n  },\n  plotOptions: {\n    bar: {\n      dataLabels: {\n        enabled: true\n      }\n    }\n  },\n  series: [{\n    data: [{\n      y: 25\n    }, {\n      y: 50\n    }, {\n      y: 75\n    }, {\n      y: 100\n    }]\n  }]\n});\n</code></pre>\n\n<p>I would like to see x axis labels: <strong>value + % + milestone date</strong> for that value. \nfor ex: <strong>30% by May 1 2019</strong> etc.</p>\n\n<p>Is this possible? Thanks in advance!</p>\n"}, {"tags": ["c#", "angular", "typescript", "angular7"], "comments": [{"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1558477140, "post_id": 56246984, "comment_id": 99112450, "body": "C# is server side* and Angular is client side, the only way for Angular to call C# is via a webservice. (* Yes, Blazor will be a thing one day, but for this purpose, it&#39;s not)"}, {"owner": {"reputation": 8141, "user_id": 1164004, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Ux2ub.jpg?s=128&g=1", "display_name": "Yonatan Nir", "link": "https://stackoverflow.com/users/1164004/yonatan-nir"}, "reply_to_user": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1558477253, "post_id": 56246984, "comment_id": 99112472, "body": "Isn&#39;t there a way to convert a .NET type to a TS type by some marshaling or what not?"}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1558477299, "post_id": 56246984, "comment_id": 99112487, "body": "No, the two things are completely unrelated."}, {"owner": {"reputation": 1238, "user_id": 3401554, "user_type": "registered", "profile_image": "https://graph.facebook.com/1403940254/picture?type=large", "display_name": "Ben", "link": "https://stackoverflow.com/users/3401554/ben"}, "edited": false, "score": 0, "creation_date": 1558477715, "post_id": 56246984, "comment_id": 99112591, "body": "This is pretty much the point of a web service API."}, {"owner": {"reputation": 8141, "user_id": 1164004, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Ux2ub.jpg?s=128&g=1", "display_name": "Yonatan Nir", "link": "https://stackoverflow.com/users/1164004/yonatan-nir"}, "edited": false, "score": 0, "creation_date": 1558478285, "post_id": 56246984, "comment_id": 99112711, "body": "If it&#39;s about the types, I can always use json instead of returning the object itself. Or is it just not possible to make a C# call in TS at all, no matter what I reference?"}], "answers": [{"tags": [], "owner": {"reputation": 468, "user_id": 2793460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2773edc6ec3a9088a91322950016591f?s=128&d=identicon&r=PG", "display_name": "Dale Harris", "link": "https://stackoverflow.com/users/2793460/dale-harris"}, "is_accepted": false, "score": 0, "last_activity_date": 1558586514, "creation_date": 1558586514, "answer_id": 56268173, "question_id": 56246984, "link": "https://stackoverflow.com/questions/56246984/calling-a-c-method-from-a-typescript-method-in-angular-7/56268173#56268173", "title": "Calling a C# method from a Typescript method in Angular 7", "body": "<p>It's not possible to make a C# call in TypeScript.</p>\n\n<p>C# runs on the server in the form of a compiled DLL. TypeScript compiles to JavaScript, which runs on the client.</p>\n\n<p>To communicate between these, you would need to build an API with service endpoints on the server. Then you would need to retrieve the data by requesting it from the client.</p>\n"}], "owner": {"reputation": 8141, "user_id": 1164004, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Ux2ub.jpg?s=128&g=1", "display_name": "Yonatan Nir", "link": "https://stackoverflow.com/users/1164004/yonatan-nir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 709, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1558586514, "creation_date": 1558476912, "question_id": 56246984, "link": "https://stackoverflow.com/questions/56246984/calling-a-c-method-from-a-typescript-method-in-angular-7", "title": "Calling a C# method from a Typescript method in Angular 7", "body": "<p>I got an Angular project which defines the UI and it's events etc. </p>\n\n<p>I also got a C# project which does some business logic. </p>\n\n<p>The C# side is preparing results, and I need to somehow read them in a page's click events and display them. </p>\n\n<p>I can either reference the C# project in the Angular's project, but since I control both the Angular and the C# code, I can also just add the C# files directly to Angular project without the need to reference an outside project.</p>\n\n<p>Pseudo code of what I need:</p>\n\n<p>C# code can be like:</p>\n\n<pre><code>public List&lt;Agent&gt; CSharpGetAgents()\n{\n   .. fetch data from db\n   .. call web service\n   .. prepare list of agents\n   return agentsList;\n}\n</code></pre>\n\n<p>And on the Typescript side I want to do something Like:</p>\n\n<pre><code>let agents : Agent[] = CSharpGetAgents();\n</code></pre>\n\n<p>How can I achieve this?</p>\n"}, {"tags": ["angular", "typescript", "frontend"], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 6115317, "user_type": "registered", "profile_image": "https://graph.facebook.com/661674337303798/picture?type=large", "display_name": "Emanuel Kozerski", "link": "https://stackoverflow.com/users/6115317/emanuel-kozerski"}, "edited": false, "score": 0, "creation_date": 1558477656, "post_id": 56246904, "comment_id": 99112574, "body": "Cool, thx for that. I guess it would be a very large URL if the user&#39;s list is big"}], "tags": [], "owner": {"reputation": 798, "user_id": 10514369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a21ea907d34cdc8b3d23a6c26fad1fde?s=128&d=identicon&r=PG&f=1", "display_name": "davidr", "link": "https://stackoverflow.com/users/10514369/davidr"}, "is_accepted": false, "score": 2, "last_activity_date": 1558478111, "last_edit_date": 1558478111, "creation_date": 1558476248, "answer_id": 56246904, "question_id": 56246802, "link": "https://stackoverflow.com/questions/56246802/how-to-implement-a-shareable-link-system-for-personal-favorite-items-list-in-a/56246904#56246904", "title": "How to implement a shareable link system for personal &quot;Favorite Items List&quot; in Angular 2?", "body": "<p>The only way I see is to genereate an link to an end point of your web site with an array as queryparam (splitting your array with ',' ie: 'item1,item2,...)\nIn this array you will put the list of favorite items.</p>\n\n<p>Then in this endPoint you gather the queryparam and display the favorite items list:</p>\n\n<pre><code>itemIds: string[]\nconstructor(private activatedRoute: ActivatedRoute, private router: Router) {}\nngOnInit(): void {\n    this.routerSubscription = this.router.events.subscribe(\n        (routerEvent: RouterEvent) =&gt; {\n            if (routerEvent instanceof NavigationEnd) {\n                this.itemIds= this.activatedRoute.snapshot.queryParamMap.get('itemIds').split(',');\n            }\n        }\n    );\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4990, "user_id": 1788884, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/HYlfy.gif?s=128&g=1", "display_name": "Thatkookooguy", "link": "https://stackoverflow.com/users/1788884/thatkookooguy"}, "reply_to_user": {"reputation": 101, "user_id": 6115317, "user_type": "registered", "profile_image": "https://graph.facebook.com/661674337303798/picture?type=large", "display_name": "Emanuel Kozerski", "link": "https://stackoverflow.com/users/6115317/emanuel-kozerski"}, "edited": false, "score": 0, "creation_date": 1558480315, "post_id": 56247237, "comment_id": 99113108, "body": "@EmanuelKozerski Also added a section on how to shorten the URL"}, {"owner": {"reputation": 101, "user_id": 6115317, "user_type": "registered", "profile_image": "https://graph.facebook.com/661674337303798/picture?type=large", "display_name": "Emanuel Kozerski", "link": "https://stackoverflow.com/users/6115317/emanuel-kozerski"}, "edited": false, "score": 0, "creation_date": 1558481647, "post_id": 56247237, "comment_id": 99113381, "body": "Oh sure, thank you. Also not much used to StackOverflow. I&#39;m accepting this as the right answer because it seems the most complete."}], "tags": [], "owner": {"reputation": 4990, "user_id": 1788884, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/HYlfy.gif?s=128&g=1", "display_name": "Thatkookooguy", "link": "https://stackoverflow.com/users/1788884/thatkookooguy"}, "is_accepted": true, "score": 1, "last_activity_date": 1558480295, "last_edit_date": 1558480295, "creation_date": 1558478985, "answer_id": 56247237, "question_id": 56246802, "link": "https://stackoverflow.com/questions/56246802/how-to-implement-a-shareable-link-system-for-personal-favorite-items-list-in-a/56247237#56247237", "title": "How to implement a shareable link system for personal &quot;Favorite Items List&quot; in Angular 2?", "body": "<p>If you want a web page to be able to share a state using a url without any backend, you can pass a <strong>state</strong> in your query params.</p>\n\n<p>In your case, since you want a list of items, you need to pass a list of an <code>id</code> you can use to fetch the items from the third-party API and reconstruct the same page data.</p>\n\n<p>Check for query parameters on page load, and create a link to the page with the corresponding query params.</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>import { Component, OnInit } from '@angular/core';\n\nimport { Router, ActivatedRoute, Params } from '@angular/router';\n\n@Component({\n  selector: 'kb-example-page',\n  templateUrl: './example-page.component.html',\n  styleUrls: ['./example-page.component.scss']\n})\nexport class ExamplePage implements OnInit {\n\n  constructor(private router: Router,\n    private activeRoute: ActivatedRoute,\n    private examplePageService: ExamplePageService) {}\n\n  ngOnInit() {\n    const queryParams = this.activeRoute.snapshot.queryParams;\n\n    // get the list of items\n    // if queryParam exists, returns an array\n    // if not, parsedItems will be undefined\n    const parsedItemIds = queryParams &amp;&amp;\n      queryParams.items &amp;&amp;\n      queryParams.items.split(',');\n\n    if (parsedItemIds) {\n      this.fetchData(parsedItemIds);\n    }\n}\n\n  createShareableLink(items: any[]) {\n    // create a list of item ids in a queryParam syntax\n    const itemsQueryParam = 'items=' + items.map((item) =&gt; item.id).join(',');\n\n    // create a link to this page with the\n    // queryParams representing the items\n    return `${ SITE_URL }?${ itemsQueryParam }`;\n  }\n\n  fetchData(itemIds: string[]) {\n    this.examplePageService\n      .fetchItems(items)\n      .subscribe(() =&gt; /* initialize the page with the data */);\n  }\n}\n</code></pre>\n\n<h2>Dealing with large URLs</h2>\n\n<p>If you want to make sure the URl is not huge, you can use a URL shortener service like <a href=\"https://developers.rebrandly.com/docs\" rel=\"nofollow noreferrer\">this one</a>.</p>\n\n<p>This will create a link to the shortener service site, that will redirect to your site with all the query params in the url</p>\n"}], "owner": {"reputation": 101, "user_id": 6115317, "user_type": "registered", "profile_image": "https://graph.facebook.com/661674337303798/picture?type=large", "display_name": "Emanuel Kozerski", "link": "https://stackoverflow.com/users/6115317/emanuel-kozerski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 56247237, "answer_count": 2, "score": 1, "last_activity_date": 1558480295, "creation_date": 1558475427, "question_id": 56246802, "link": "https://stackoverflow.com/questions/56246802/how-to-implement-a-shareable-link-system-for-personal-favorite-items-list-in-a", "title": "How to implement a shareable link system for personal &quot;Favorite Items List&quot; in Angular 2?", "body": "<p>I need to implement a frontend only (preferably) application using  Angular2+, and one of the required features is, the user must be able to save in it's local storage (eg. cookies) a list of it's favorite items in the website. The problem is that they also must be able to share a link to this list. I'm new to web dev, so i have no idea how to implement such feature.</p>\n\n<p>I'm using Angular 2 in the project. It is a very simple website, no user account/login, just data pulled from a third-party API, which then shows items to users, and they can mark some as favorite.</p>\n"}, {"tags": ["typescript", "generics"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1558471023, "post_id": 56245946, "comment_id": 99110453, "body": "No. If I create a subclass <code>Bar extends Foo&lt;{name: string; age: number; bla: string;}&gt;</code>, then clearly the object returned by getPerson() method lacks the <code>bla</code> property."}], "answers": [{"comments": [{"owner": {"reputation": 5091, "user_id": 6254, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6322dd27f5e8bac6f363ef901ade29f4?s=128&d=identicon&r=PG", "display_name": "VoY", "link": "https://stackoverflow.com/users/6254/voy"}, "edited": false, "score": 0, "creation_date": 1558472151, "post_id": 56246091, "comment_id": 99110905, "body": "What would a valid reason be? My goal is to have a parent class that produces a certain type of a result structure that can be extended in subclasses to add more fields to it and provide as precise as possible types to consumers. Perhaps I am not thinking in the right direction with a generic and an extends?"}, {"owner": {"reputation": 2215, "user_id": 260560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc8102716b5f50a80becb906f3cc69c?s=128&d=identicon&r=PG", "display_name": "ProdigySim", "link": "https://stackoverflow.com/users/260560/prodigysim"}, "reply_to_user": {"reputation": 5091, "user_id": 6254, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6322dd27f5e8bac6f363ef901ade29f4?s=128&d=identicon&r=PG", "display_name": "VoY", "link": "https://stackoverflow.com/users/6254/voy"}, "edited": false, "score": 2, "creation_date": 1558472502, "post_id": 56246091, "comment_id": 99111046, "body": "I would just return <code>IPerson</code>. If you have a subclass that returns something more concrete, you would override that method with a new return type. e.g. <code>class Bar extends Foo { getPerson(): IExtendedPerson { ... } }</code>. If someone has a reference to a <code>Foo</code>, they can only be sure they get an <code>IPerson</code>. If they have a reference to a <code>Bar</code>, they will be sure to get an <code>IExtendedPerson</code>"}], "tags": [], "owner": {"reputation": 2215, "user_id": 260560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc8102716b5f50a80becb906f3cc69c?s=128&d=identicon&r=PG", "display_name": "ProdigySim", "link": "https://stackoverflow.com/users/260560/prodigysim"}, "is_accepted": true, "score": 2, "last_activity_date": 1558471441, "creation_date": 1558471441, "answer_id": 56246091, "question_id": 56245946, "link": "https://stackoverflow.com/questions/56245946/why-is-a-typescript-class-generic-causing-a-compile-error/56246091#56246091", "title": "Why is a TypeScript class generic causing a compile error?", "body": "<p>If you have a <code>TPerson</code> that extends <code>IPerson</code> by adding additional properties, then you cannot guarantee that <code>{ name: 'foobar', age: 11 }</code> would be a <code>TPerson</code>. You could only assert that it's an IPerson.</p>\n\n<pre><code>interface IPerson {\n  name: string;\n  age: number;\n}\n\ninterface IExtendedPerson extends IPerson {\n    email: string;\n}\n\nfunction getPerson(): IExtendedPerson {\n      // error:\n      // Property 'email' is missing in type '{ name: string; age: number; }' but required in type 'IExtendedPerson'.\n      return {\n          name: 'foobar',\n          age: 11,\n      };\n  }\n}\n</code></pre>\n\n<p>If you think you have a valid reason to cast an <code>IPerson</code> as a <code>TPerson</code> across the board, then you could use an <code>as</code> cast:</p>\n\n<pre><code>function getPersonWithCast&lt;TPerson extends IPerson&gt;(): TPerson {\n      return {\n          name: 'foobar',\n          age: 11,\n      } as TPerson;\n  }\n}\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/#src=interface%20IPerson%20%7B%0D%0A%20%20name%3A%20string%3B%0D%0A%20%20age%3A%20number%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20IExtendedPerson%20extends%20IPerson%20%7B%0D%0A%20%20%20%20email%3A%20string%3B%0D%0A%7D%0D%0A%0D%0Afunction%20getExtendedPerson()%3A%20IExtendedPerson%20%7B%0D%0A%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20name%3A%20&#39;foobar&#39;%2C%0D%0A%20%20%20%20%20%20%20%20age%3A%2011%2C%0D%0A%20%20%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0Afunction%20getPersonWithCast%3CTPerson%20extends%20IPerson%3E()%3A%20TPerson%20%7B%0D%0A%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20name%3A%20&#39;foobar&#39;%2C%0D%0A%20%20%20%20%20%20%20%20%20%20age%3A%2011%2C%0D%0A%20%20%20%20%20%20%7D%20as%20TPerson%3B%0D%0A%20%20%7D%0D%0A%7D\" rel=\"nofollow noreferrer\">TS Playground for both examples</a></p>\n"}], "owner": {"reputation": 5091, "user_id": 6254, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6322dd27f5e8bac6f363ef901ade29f4?s=128&d=identicon&r=PG", "display_name": "VoY", "link": "https://stackoverflow.com/users/6254/voy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 56246091, "answer_count": 1, "score": -1, "last_activity_date": 1558471441, "creation_date": 1558470694, "question_id": 56245946, "link": "https://stackoverflow.com/questions/56245946/why-is-a-typescript-class-generic-causing-a-compile-error", "title": "Why is a TypeScript class generic causing a compile error?", "body": "<p>I have the following code snippet:</p>\n\n<pre><code>interface IPerson {\n  name: string;\n  age: number;\n}\n\nclass Foo &lt;TPerson extends IPerson&gt; {\n  getPerson(): TPerson {\n      return {\n          name: 'foobar',\n          age: 11,\n      };\n  }\n}\n</code></pre>\n\n<p>Unfortunately compilation fails here with the following error message:</p>\n\n<pre><code>error TS2322: Type '{ name: string; age: number; }' is not assignable to type 'TPerson'.\n\n 8       return {\n         ~~~~~~~~\n 9           name: 'foobar',\n   ~~~~~~~~~~~~~~~~~~~~~~~~~\n10           age: 11,\n   ~~~~~~~~~~~~~~~~~~\n11       };\n</code></pre>\n\n<p>I am wondering why that is. I thought I am saying that <code>TPerson</code> extends my <code>IPerson</code> type, therefore anything that satisfies those constraints should pass.</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 2215, "user_id": 260560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc8102716b5f50a80becb906f3cc69c?s=128&d=identicon&r=PG", "display_name": "ProdigySim", "link": "https://stackoverflow.com/users/260560/prodigysim"}, "edited": false, "score": 0, "creation_date": 1558471803, "post_id": 56245907, "comment_id": 99110753, "body": "How is <code>withBaseWidget</code> defined in your code? It looks like you are just importing <code>BaseWidget</code> and calling it <code>withBaseWidget</code>..."}], "answers": [{"tags": [], "owner": {"reputation": 2215, "user_id": 260560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc8102716b5f50a80becb906f3cc69c?s=128&d=identicon&r=PG", "display_name": "ProdigySim", "link": "https://stackoverflow.com/users/260560/prodigysim"}, "is_accepted": false, "score": 0, "last_activity_date": 1558471998, "creation_date": 1558471998, "answer_id": 56246212, "question_id": 56245907, "link": "https://stackoverflow.com/questions/56245907/how-to-create-a-hoc-component-in-react-validated-with-typescript/56246212#56246212", "title": "How to create a HOC component in react validated with typescript", "body": "<p>You need to define a proper HOC wrapper, just like you would in JS.</p>\n\n<p>Given <code>BaseWidget</code> and <code>MockWidget</code>:</p>\n\n<pre><code>function withBaseWidget&lt;P&gt;(WrappedComponent: React.ComponentType&lt;P&gt;) {\n  return (props: P) =&gt; {\n    return &lt;BaseWidget&gt;&lt;WrappedComponent { ...props } /&gt;&lt;/BaseWidget&gt;;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1376, "user_id": 4820395, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/64237e1bba3c37d9afb844613e5137bd?s=128&d=identicon&r=PG&f=1", "display_name": "Joelgullander", "link": "https://stackoverflow.com/users/4820395/joelgullander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558471998, "creation_date": 1558470497, "question_id": 56245907, "link": "https://stackoverflow.com/questions/56245907/how-to-create-a-hoc-component-in-react-validated-with-typescript", "title": "How to create a HOC component in react validated with typescript", "body": "<p>So I have a HOC component that currently just passes through children:</p>\n\n<pre><code>import * as React from \"react\";\n\ninterface Props {\n    children?: any\n}\n\nfunction BaseWidget(props: Props) {\n    const { children } = props;\n\n    return (\n        &lt;div&gt;\n        {children}\n        &lt;/div&gt;\n    );\n}\n\nexport default BaseWidget;\n</code></pre>\n\n<p>Then I have another component that I want to wrap with the above component like a HOC.</p>\n\n<p>So I have tried this:</p>\n\n<pre><code>function MockWidget(props: Props) {\n    const classes = useStyles(props);\n\n    return (\n        &lt;List className={classes.root}&gt;\n        {mockPosts.map( (post: Post) =&gt; \n            &lt;ListItem alignItems=\"flex-start\"&gt;\n                &lt;ListItemAvatar&gt;\n                    &lt;Avatar alt=\"Remy Sharp\" src={post.img} /&gt;\n                &lt;/ListItemAvatar&gt;\n                &lt;ListItemText\n                primary={post.channel}\n                secondary={\n                    &lt;React.Fragment&gt;\n                    &lt;Typography component=\"span\" className={classes.inline} color=\"textPrimary\"&gt;\n                        {post.name}\n                    &lt;/Typography&gt;\n                    {` \u2014 ${post.message}`}\n                    &lt;/React.Fragment&gt;\n                }\n                /&gt;\n            &lt;/ListItem&gt;  \n        )}\n      &lt;/List&gt;\n    );\n}\n\nconst useStyles = makeStyles((theme: Theme) =&gt; ({\n    root: {\n        width: '100%',\n        maxWidth: 360,\n        backgroundColor: theme.palette.background.paper,\n      },\n      inline: {\n        display: 'inline',\n      },\n}));\n\nexport default withBaseWidget(MockWidget);\n</code></pre>\n\n<p>However I got an error in the withBaseWidget() definition: </p>\n\n<pre><code>function MockWidget(props: Props): JSX.Element\nType '(props: Props) =&gt; Element' has no properties in common with type 'Props'.\n</code></pre>\n\n<p>Can anyone please help me?</p>\n"}, {"tags": ["c#", "typescript", "servicestack"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 11535884, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kTHtsXQIxzA/AAAAAAAAAAI/AAAAAAAATv4/7F7I3aJQb-k/photo.jpg?sz=128", "display_name": "Mortdestro", "link": "https://stackoverflow.com/users/11535884/mortdestro"}, "edited": false, "score": 0, "creation_date": 1558473389, "post_id": 56246034, "comment_id": 99111401, "body": "Thanks for the suggestion. I&#39;m happy to do it this way if it&#39;s the only way of getting the data, but across all of my service APIs, I&#39;ve been utilizing ServiceStack&#39;s auto-generated types to keep requests consistent between client- and server-side. I believe this normally goes through as a request payload, but this time it seems to be putting it in the query string, which I find odd."}, {"owner": {"reputation": 1122, "user_id": 2241026, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/VwJJn.jpg?s=128&g=1", "display_name": "Danielle", "link": "https://stackoverflow.com/users/2241026/danielle"}, "reply_to_user": {"reputation": 43, "user_id": 11535884, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kTHtsXQIxzA/AAAAAAAAAAI/AAAAAAAATv4/7F7I3aJQb-k/photo.jpg?sz=128", "display_name": "Mortdestro", "link": "https://stackoverflow.com/users/11535884/mortdestro"}, "edited": false, "score": 0, "creation_date": 1558473672, "post_id": 56246034, "comment_id": 99111499, "body": "@Mortdestro ah, I understand. most webdevs I know would say that html headers are only to be used for transport information, not semantics. Also, keep in mind, custom headers can cause problems based on client side implementation as well, for instance, some proxies and firewalls will inspect and rewrite headers, mobile service providers have a history of modifying headers as well, especially in the UK"}, {"owner": {"reputation": 43, "user_id": 11535884, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kTHtsXQIxzA/AAAAAAAAAAI/AAAAAAAATv4/7F7I3aJQb-k/photo.jpg?sz=128", "display_name": "Mortdestro", "link": "https://stackoverflow.com/users/11535884/mortdestro"}, "edited": false, "score": 0, "creation_date": 1558474096, "post_id": 56246034, "comment_id": 99111649, "body": "That&#39;s good to know. I don&#39;t believe I&#39;m creating any custom headers at the moment (I did try it at one point, but currently I am relying on ServiceStack to generate the HTTP request for me). I just feel a bit crazy here, it looks like I&#39;m setting it up correctly, and yet the server isn&#39;t getting my data."}, {"owner": {"reputation": 1122, "user_id": 2241026, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/VwJJn.jpg?s=128&g=1", "display_name": "Danielle", "link": "https://stackoverflow.com/users/2241026/danielle"}, "reply_to_user": {"reputation": 43, "user_id": 11535884, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kTHtsXQIxzA/AAAAAAAAAAI/AAAAAAAATv4/7F7I3aJQb-k/photo.jpg?sz=128", "display_name": "Mortdestro", "link": "https://stackoverflow.com/users/11535884/mortdestro"}, "edited": false, "score": 0, "creation_date": 1558474621, "post_id": 56246034, "comment_id": 99111830, "body": "oh sorry, I read the request object wrong and though it was the header, not the URI."}, {"owner": {"reputation": 43, "user_id": 11535884, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kTHtsXQIxzA/AAAAAAAAAAI/AAAAAAAATv4/7F7I3aJQb-k/photo.jpg?sz=128", "display_name": "Mortdestro", "link": "https://stackoverflow.com/users/11535884/mortdestro"}, "edited": false, "score": 0, "creation_date": 1558475066, "post_id": 56246034, "comment_id": 99111978, "body": "Well, your suggestion did solve my problem. It&#39;s not my ideal solution, but it looks like either there&#39;s some kind of bug with JsonServiceClient with these kinds of requests, this kind of request isn&#39;t supposed to be made, or I&#39;m missing something somewhere else in the code that&#39;s causing the request to be wonky. The other answerer just suggested the same thing, so I suppose this is the best way to do it. Thanks!"}, {"owner": {"reputation": 1122, "user_id": 2241026, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/VwJJn.jpg?s=128&g=1", "display_name": "Danielle", "link": "https://stackoverflow.com/users/2241026/danielle"}, "reply_to_user": {"reputation": 43, "user_id": 11535884, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kTHtsXQIxzA/AAAAAAAAAAI/AAAAAAAATv4/7F7I3aJQb-k/photo.jpg?sz=128", "display_name": "Mortdestro", "link": "https://stackoverflow.com/users/11535884/mortdestro"}, "edited": false, "score": 0, "creation_date": 1558475565, "post_id": 56246034, "comment_id": 99112107, "body": "@Mortdestro glad my suggestion helped!"}], "tags": [], "owner": {"reputation": 1122, "user_id": 2241026, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/VwJJn.jpg?s=128&g=1", "display_name": "Danielle", "link": "https://stackoverflow.com/users/2241026/danielle"}, "is_accepted": false, "score": 1, "last_activity_date": 1558471176, "creation_date": 1558471176, "answer_id": 56246034, "question_id": 56245843, "link": "https://stackoverflow.com/questions/56245843/how-do-i-post-simple-json-data-with-a-file-upload/56246034#56246034", "title": "How do I post simple JSON data with a file upload?", "body": "<p>I don't think the month should be part of the request header, that's kinda unorthodox. It should be part of the form data.</p>\n\n<p>If you did:</p>\n\n<pre><code>  formData.append('Month', month.replace('/', '-').trim());\n</code></pre>\n\n<p>client side, then request.Month or request.content.Month should work, depending on how the request object is handled in your instance. </p>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 11535884, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kTHtsXQIxzA/AAAAAAAAAAI/AAAAAAAATv4/7F7I3aJQb-k/photo.jpg?sz=128", "display_name": "Mortdestro", "link": "https://stackoverflow.com/users/11535884/mortdestro"}, "edited": false, "score": 0, "creation_date": 1558473552, "post_id": 56246366, "comment_id": 99111459, "body": "I&#39;m happy to use fetch, but for consistency with my other APIs, I&#39;d like to try to make the JsonServiceClient work. Your second piece of code looks a lot like mine (with the request just declared in-line instead of in a variable). Can you elaborate on what the difference is?"}, {"owner": {"reputation": 134328, "user_id": 85785, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1257196ff88132651f94ac85f662c038?s=128&d=identicon&r=PG", "display_name": "mythz", "link": "https://stackoverflow.com/users/85785/mythz"}, "reply_to_user": {"reputation": 43, "user_id": 11535884, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kTHtsXQIxzA/AAAAAAAAAAI/AAAAAAAATv4/7F7I3aJQb-k/photo.jpg?sz=128", "display_name": "Mortdestro", "link": "https://stackoverflow.com/users/11535884/mortdestro"}, "edited": false, "score": 0, "creation_date": 1558473778, "post_id": 56246366, "comment_id": 99111527, "body": "@Mortdestro There&#39;s no difference, as of <a href=\"https://docs.servicestack.net/releases/v5.5#partial-constructors\" rel=\"nofollow noreferrer\">v5.5 all TypeScript DTOs support partial constructors</a> which is just a more succinct way of populating DTOs."}, {"owner": {"reputation": 43, "user_id": 11535884, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kTHtsXQIxzA/AAAAAAAAAAI/AAAAAAAATv4/7F7I3aJQb-k/photo.jpg?sz=128", "display_name": "Mortdestro", "link": "https://stackoverflow.com/users/11535884/mortdestro"}, "edited": false, "score": 0, "creation_date": 1558473916, "post_id": 56246366, "comment_id": 99111583, "body": "If there&#39;s no difference, then that method seems not to be working. I will give fetch a try and see if that fixes it. Thank you!"}, {"owner": {"reputation": 43, "user_id": 11535884, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kTHtsXQIxzA/AAAAAAAAAAI/AAAAAAAATv4/7F7I3aJQb-k/photo.jpg?sz=128", "display_name": "Mortdestro", "link": "https://stackoverflow.com/users/11535884/mortdestro"}, "edited": false, "score": 0, "creation_date": 1558474317, "post_id": 56246366, "comment_id": 99111720, "body": "Fetch did work, and I&#39;m happy to use it, but do you have any idea why the JsonServiceClient method didn&#39;t work?"}, {"owner": {"reputation": 43, "user_id": 11535884, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kTHtsXQIxzA/AAAAAAAAAAI/AAAAAAAATv4/7F7I3aJQb-k/photo.jpg?sz=128", "display_name": "Mortdestro", "link": "https://stackoverflow.com/users/11535884/mortdestro"}, "edited": false, "score": 0, "creation_date": 1558474615, "post_id": 56246366, "comment_id": 99111826, "body": "Spoke too soon! The request came back as successful, but nothing happened server-side. It won&#39;t even hit the breakpoint in the API function"}, {"owner": {"reputation": 134328, "user_id": 85785, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1257196ff88132651f94ac85f662c038?s=128&d=identicon&r=PG", "display_name": "mythz", "link": "https://stackoverflow.com/users/85785/mythz"}, "reply_to_user": {"reputation": 43, "user_id": 11535884, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kTHtsXQIxzA/AAAAAAAAAAI/AAAAAAAATv4/7F7I3aJQb-k/photo.jpg?sz=128", "display_name": "Mortdestro", "link": "https://stackoverflow.com/users/11535884/mortdestro"}, "edited": false, "score": 0, "creation_date": 1558474769, "post_id": 56246366, "comment_id": 99111880, "body": "@Mortdestro Can you try my updated answer of populating the property in the formData? You&#39;re going to have to update your question with the raw HTTP Request/Response headers to be able to see what&#39;s going on."}, {"owner": {"reputation": 43, "user_id": 11535884, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kTHtsXQIxzA/AAAAAAAAAAI/AAAAAAAATv4/7F7I3aJQb-k/photo.jpg?sz=128", "display_name": "Mortdestro", "link": "https://stackoverflow.com/users/11535884/mortdestro"}, "edited": false, "score": 0, "creation_date": 1558475181, "post_id": 56246366, "comment_id": 99112012, "body": "Yeah, that&#39;s what dprogramz also suggested, and it looks like it works. I will throw in the headers to see if it can be resolved with JsonServiceClient though."}, {"owner": {"reputation": 43, "user_id": 11535884, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kTHtsXQIxzA/AAAAAAAAAAI/AAAAAAAATv4/7F7I3aJQb-k/photo.jpg?sz=128", "display_name": "Mortdestro", "link": "https://stackoverflow.com/users/11535884/mortdestro"}, "edited": false, "score": 0, "creation_date": 1558475528, "post_id": 56246366, "comment_id": 99112098, "body": "I have added the headers to the question"}, {"owner": {"reputation": 134328, "user_id": 85785, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1257196ff88132651f94ac85f662c038?s=128&d=identicon&r=PG", "display_name": "mythz", "link": "https://stackoverflow.com/users/85785/mythz"}, "reply_to_user": {"reputation": 43, "user_id": 11535884, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kTHtsXQIxzA/AAAAAAAAAAI/AAAAAAAATv4/7F7I3aJQb-k/photo.jpg?sz=128", "display_name": "Mortdestro", "link": "https://stackoverflow.com/users/11535884/mortdestro"}, "edited": false, "score": 0, "creation_date": 1558485825, "post_id": 56246366, "comment_id": 99114060, "body": "@Mortdestro it&#39;s returning a 500 error response, but unfortunately doesn&#39;t say why. I added a <a href=\"https://github.com/ServiceStack/ServiceStack/commit/371de954eca86466d4febf1433c81cadf75770ed\" rel=\"nofollow noreferrer\">test example</a>, which worked except the FormData Request DTO wasn&#39;t also populated with queryString params which is now being populated from <a href=\"https://github.com/ServiceStack/ServiceStack/commit/dced03ac1941480e55fc46990ba8d5fe1ac4ba85\" rel=\"nofollow noreferrer\">this commit</a>. So this works with <a href=\"https://docs.servicestack.net/myget\" rel=\"nofollow noreferrer\">latest v5.5.1 on MyGet</a>. FYI you don&#39;t need to replace <code>&#47;</code> when sending as queryString or FormData."}], "tags": [], "owner": {"reputation": 134328, "user_id": 85785, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1257196ff88132651f94ac85f662c038?s=128&d=identicon&r=PG", "display_name": "mythz", "link": "https://stackoverflow.com/users/85785/mythz"}, "is_accepted": true, "score": 1, "last_activity_date": 1558474595, "last_edit_date": 1558474595, "creation_date": 1558472759, "answer_id": 56246366, "question_id": 56245843, "link": "https://stackoverflow.com/questions/56245843/how-do-i-post-simple-json-data-with-a-file-upload/56246366#56246366", "title": "How do I post simple JSON data with a file upload?", "body": "<p>You'll be able to upload a file using <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\" rel=\"nofollow noreferrer\">JavaScript's fetch API</a> directly, e.g:</p>\n\n<pre><code>let formData = new FormData();\nformData.append('description', file.name);\nformData.append('type', 'file');\nformData.append('file', file);\n\nfetch('/api/data/import/07-2019', {\n    method: 'POST',\n    body: formData\n});\n</code></pre>\n\n<p>Otherwise if you want to use ServiceStack's <a href=\"https://docs.servicestack.net/typescript-add-servicestack-reference#typescript-serviceclient\" rel=\"nofollow noreferrer\">TypeScript JsonServiceClient</a> you would need to use the API that lets you post the Request DTO with a separate request body, e.g:</p>\n\n<pre><code>formData.append('month', '07-2019');\nclient.postBody(new ImportData(), formData);\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 11535884, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kTHtsXQIxzA/AAAAAAAAAAI/AAAAAAAATv4/7F7I3aJQb-k/photo.jpg?sz=128", "display_name": "Mortdestro", "link": "https://stackoverflow.com/users/11535884/mortdestro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 56246366, "answer_count": 2, "score": 4, "last_activity_date": 1558475506, "creation_date": 1558470151, "last_edit_date": 1558475506, "question_id": 56245843, "link": "https://stackoverflow.com/questions/56245843/how-do-i-post-simple-json-data-with-a-file-upload", "title": "How do I post simple JSON data with a file upload?", "body": "<p>I'm trying to set up a file upload request in a ServiceStack TypeScript client that also includes the month for which the file is relevant. How do I set up the request so that both come through to the server?</p>\n\n<p>I've tried various changes, including manually changing headers to try to force Content-Type to be application/json, which didn't work (but I suspect would break the file upload even if it did).</p>\n\n<p>Client-side API:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export const serviceApi = {\n    importData: (month: string, file: File) =&gt; {\n        var client = new JsonServiceClient(\"\");\n        var request = new DTOs.ImportData();\n\n        // At this point, the month has a value\n        request.month = month.replace('/', '-').trim();\n\n        let formData = new FormData();\n        formData.append('description', file.name);\n        formData.append('type', 'file');\n        formData.append('file', file);\n\n        const promise = client.postBody(request, formData);\n        return from(promise);\n    },\n};\n</code></pre>\n\n<p>DTO definition:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[Route(\"/api/data/import/{Month}\", \"POST\")]\npublic class ImportData : IReturn&lt;ImportDataResponse&gt;\n{\n    public string Month { get; set; }\n}\n\npublic class ImportDataResponse : IHasResponseStatus\n{\n    public ResponseStatus ResponseStatus { get; set; }\n}\n</code></pre>\n\n<p>Server-side API:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[Authenticate]\npublic object Post(ImportData request)\n{\n    if (Request.Files == null || Request.Files.Length &lt;= 0)\n    {\n        throw new Exception(\"No import file was received by the server\");\n    }\n\n    // This is always coming through as null\n    if (request.Month == null)\n    {\n        throw new Exception(\"No month was received by the server\");\n    }\n\n    var file = (HttpFile)Request.Files[0];\n    var month = request.Month.Replace('-', '/');\n\n    ImportData(month, file);\n\n    return new ImportDataResponse();\n}\n</code></pre>\n\n<p>I can see that the file is coming through correctly on the server side, and I can see an HTTP request going through with the month set in the query string parameters as \"07-2019\", but when I break in the server-side API function, the month property of the request is null.</p>\n\n<p>Update, here are the HTTP Request/Response headers:</p>\n\n<p>Request Headers</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>POST /json/reply/ImportData?month=07-2019 HTTP/1.1\nHost: localhost:40016\nConnection: keep-alive\nContent-Length: 7366169\nOrigin: http://localhost:40016\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.157 Safari/537.36\nContent-Type: multipart/form-data; boundary=----WebKitFormBoundaryI8CWlbw4tP80PkpZ\nAccept: */*\nReferer: http://localhost:40016/data\nAccept-Encoding: gzip, deflate, br\nAccept-Language: en-GB,en-US;q=0.9,en;q=0.8\nCookie: _ga=GA1.1.673673009.1532913806; ASP.NET_SessionId=gtwdk3wsvdn0yulhxyblod3g; __utmc=111872281; __utmz=111872281.1533684260.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none); ss-opt=perm; __utma=111872281.673673009.1532913806.1550789161.1550794391.20; _gid=GA1.1.893581387.1558389301; ss-id=kfq4G0GYb3WldSdCaRyJ; ss-pid=aZ400sqM4n3TQgNVnHS2\n</code></pre>\n\n<p>Response Headers</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>HTTP/1.1 500 Exception\nCache-Control: private\nContent-Type: application/json; charset=utf-8\nVary: Accept\nServer: Microsoft-IIS/10.0\nX-Powered-By: ServiceStack/5.10 NET45 Win32NT/.NET\nX-AspNet-Version: 4.0.30319\nX-SourceFiles: =?UTF-8?B?RTpcVEZTXFNvdXJjZVxNZWRpc2VuXFdlYnNpdGVzXE9OaWlDU1xNYWluXFNvdXJjZVxPbmlpY3NSZWFjdC1QYXltZW50c1xPbmlpY3NSZWFjdFxPbmlpY3NSZWFjdFxqc29uXHJlcGx5XEltcG9ydE1CU0NvZGVz?=\nX-Powered-By: ASP.NET\nDate: Tue, 21 May 2019 21:49:03 GMT\nContent-Length: 605\n</code></pre>\n\n<p>Query String Parameters</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>month=07-2019\n</code></pre>\n"}, {"tags": ["angular", "typescript", "google-cloud-firestore", "angular-services"], "comments": [{"owner": {"reputation": 3602, "user_id": 4272085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/947faeb07678e27a6154c14bf5ab75a7?s=128&d=identicon&r=PG", "display_name": "Gosha_Fighten", "link": "https://stackoverflow.com/users/4272085/gosha-fighten"}, "edited": false, "score": 0, "creation_date": 1558470196, "post_id": 56245807, "comment_id": 99110120, "body": "Remove the <code>async</code> pipe from the <code>ngFor</code>. Will it work?"}, {"owner": {"reputation": 31, "user_id": 11535887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1652d221e095c011bc7220d812dd517?s=128&d=identicon&r=PG&f=1", "display_name": "xio.j", "link": "https://stackoverflow.com/users/11535887/xio-j"}, "reply_to_user": {"reputation": 3602, "user_id": 4272085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/947faeb07678e27a6154c14bf5ab75a7?s=128&d=identicon&r=PG", "display_name": "Gosha_Fighten", "link": "https://stackoverflow.com/users/4272085/gosha-fighten"}, "edited": false, "score": 0, "creation_date": 1558470585, "post_id": 56245807, "comment_id": 99110280, "body": "Thank you very very much! works great"}, {"owner": {"reputation": 3602, "user_id": 4272085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/947faeb07678e27a6154c14bf5ab75a7?s=128&d=identicon&r=PG", "display_name": "Gosha_Fighten", "link": "https://stackoverflow.com/users/4272085/gosha-fighten"}, "edited": false, "score": 0, "creation_date": 1558471124, "post_id": 56245807, "comment_id": 99110487, "body": "Great to hear that. Actually, it&#39;s recommended not to subscribe at all. I added an answer to this question."}], "answers": [{"tags": [], "owner": {"reputation": 3602, "user_id": 4272085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/947faeb07678e27a6154c14bf5ab75a7?s=128&d=identicon&r=PG", "display_name": "Gosha_Fighten", "link": "https://stackoverflow.com/users/4272085/gosha-fighten"}, "is_accepted": true, "score": 0, "last_activity_date": 1558471046, "creation_date": 1558471046, "answer_id": 56246009, "question_id": 56245807, "link": "https://stackoverflow.com/questions/56245807/how-to-sync-list-from-firestore-collection-realtime-component-service/56246009#56246009", "title": "how to sync list from firestore collection realtime (component + service)", "body": "<p>The cause of the issue is that you manually subscribe to your observable returned by the <code>landlordService.getTenants</code> method. So now, the <code>tenants</code> variable holds raw data, not an observable.</p>\n\n<p>You need to either remove the <code>async</code> pipe:</p>\n\n<pre><code>&lt;app-tenant-item *ngFor=\"let t of tenants; let i= index\" [tenant]=\"t\" [index]=\"i\"&gt;\n&lt;/app-tenant-item&gt;\n</code></pre>\n\n<p>or assign the <code>tenants</code> variable to the observable the <code>landlordService.getTenants</code> method returns and <strong>keep</strong> the <code>async</code> pipe in your template:</p>\n\n<pre><code>this.tenants = this.landlordService.getTenants();\n</code></pre>\n\n<p>The second approach is preferred because you won't need to unsubscribe manually to avoid memory leaks. More info on this: <a href=\"https://blog.angularindepth.com/angular-question-rxjs-subscribe-vs-async-pipe-in-component-templates-c956c8c0c794\" rel=\"nofollow noreferrer\">https://blog.angularindepth.com/angular-question-rxjs-subscribe-vs-async-pipe-in-component-templates-c956c8c0c794</a> .</p>\n"}], "owner": {"reputation": 31, "user_id": 11535887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1652d221e095c011bc7220d812dd517?s=128&d=identicon&r=PG&f=1", "display_name": "xio.j", "link": "https://stackoverflow.com/users/11535887/xio-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 56246009, "answer_count": 1, "score": 0, "last_activity_date": 1558471046, "creation_date": 1558469929, "question_id": 56245807, "link": "https://stackoverflow.com/questions/56245807/how-to-sync-list-from-firestore-collection-realtime-component-service", "title": "how to sync list from firestore collection realtime (component + service)", "body": "<p>I'm trying to present firestore collection as list in html page, first I create Observable on the list from my component and it worked fine but I realize that it should be in the service, I changed my code to this:</p>\n\n<p>in service constructor:</p>\n\n<pre><code>this.tenantCollection = this.angularFirestore.collection('landlord').doc(this.user.uid).collection(\"tenants\", ref =&gt; {\n              return ref.orderBy('name')})\nthis.tenantsList = this.tenantCollection.valueChanges();\n</code></pre>\n\n<p>and function to return this Observable (also in the service):</p>\n\n<pre><code>getTenants(){\n  return this.tenantsList;\n}\n</code></pre>\n\n<p>the component:</p>\n\n<pre><code>constructor(private landlordService: LandlordService, private router: Router, private route: ActivatedRoute,\n    private angularFirestore: AngularFirestore, private auth: AuthService) {\n   this.auth.user.subscribe(user =&gt; {\n        if (user) {\n            this.user = user;              \n    this.landlordService.getTenants().subscribe(tenanes =&gt; {\n        this.tenants = tenanes;\n        console.log(this.tenants);\n    });\n        }\n    });\n</code></pre>\n\n<p>html:</p>\n\n<pre><code>&lt;app-tenant-item *ngFor=\"let t of tenants | async; let i= index\" [tenant]=\"t\" [index]=\"i\"&gt;\n    &lt;/app-tenant-item&gt;\n</code></pre>\n\n<p>This list is always empty although there are values in this way firestore, (I put the subscription in the constructor that ngOnInit activated before I have the user).</p>\n\n<p>How can I fix it and get the changes real time?</p>\n"}, {"tags": ["html", "angular", "typescript", "date", "credit-card"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1558469655, "post_id": 56245711, "comment_id": 99109885, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3552461/how-to-format-a-javascript-date\">How to format a JavaScript date</a>"}, {"owner": {"reputation": 19, "user_id": 11506195, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PhXf1VG17W0/AAAAAAAAAAI/AAAAAAAAAAc/7-DtsM0yGsQ/photo.jpg?sz=128", "display_name": "Dilmae2040", "link": "https://stackoverflow.com/users/11506195/dilmae2040"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1558470115, "post_id": 56245711, "comment_id": 99110079, "body": "not solved my problem"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1558470400, "post_id": 56245711, "comment_id": 99110208, "body": "It&#39;s not clear what your problem is then..."}, {"owner": {"reputation": 1177, "user_id": 8588454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df930c492b10187ddb0c27d6209b61bb?s=128&d=identicon&r=PG&f=1", "display_name": "ecg8", "link": "https://stackoverflow.com/users/8588454/ecg8"}, "edited": false, "score": 0, "creation_date": 1558472320, "post_id": 56245711, "comment_id": 99110963, "body": "Is this question tagged properly? Are Angular and Typescript a part of what you are trying to fix, or should it be tagged with brmasker and ionic?"}, {"owner": {"reputation": 19, "user_id": 11506195, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PhXf1VG17W0/AAAAAAAAAAI/AAAAAAAAAAc/7-DtsM0yGsQ/photo.jpg?sz=128", "display_name": "Dilmae2040", "link": "https://stackoverflow.com/users/11506195/dilmae2040"}, "edited": false, "score": 0, "creation_date": 1558472668, "post_id": 56245711, "comment_id": 99111117, "body": "My problem is that i can modify a specific input in my input lol, like mm/yyyy. I do not know how do that, i was thinking in use pipes maybe..."}, {"owner": {"reputation": 19, "user_id": 11506195, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PhXf1VG17W0/AAAAAAAAAAI/AAAAAAAAAAc/7-DtsM0yGsQ/photo.jpg?sz=128", "display_name": "Dilmae2040", "link": "https://stackoverflow.com/users/11506195/dilmae2040"}, "reply_to_user": {"reputation": 1177, "user_id": 8588454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df930c492b10187ddb0c27d6209b61bb?s=128&d=identicon&r=PG&f=1", "display_name": "ecg8", "link": "https://stackoverflow.com/users/8588454/ecg8"}, "edited": false, "score": 0, "creation_date": 1558472831, "post_id": 56245711, "comment_id": 99111181, "body": "@ecg8 i said brmasked because i was using him for other inputs"}, {"owner": {"reputation": 1877, "user_id": 6000966, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CBWU6IbBTGE/AAAAAAAAAAI/AAAAAAAAABo/ZmVPbtOluXA/photo.jpg?sz=128", "display_name": "Stephen Romero", "link": "https://stackoverflow.com/users/6000966/stephen-romero"}, "edited": false, "score": 0, "creation_date": 1558495766, "post_id": 56245711, "comment_id": 99115691, "body": "Have you looked at ion-datetime? <a href=\"https://ionicframework.com/docs/api/datetime/\" rel=\"nofollow noreferrer\">ionicframework.com/docs/api/datetime</a>"}, {"owner": {"reputation": 904, "user_id": 9678462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GjlbC.jpg?s=128&g=1", "display_name": "Corn&#233;", "link": "https://stackoverflow.com/users/9678462/corn%c3%a9"}, "edited": false, "score": 0, "creation_date": 1558509910, "post_id": 56245711, "comment_id": 99120201, "body": "If you are using Angular, you can make use of <code>pipes</code>. <a href=\"https://angular.io/guide/pipes\" rel=\"nofollow noreferrer\">angular.io/guide/pipes</a>"}, {"owner": {"reputation": 19, "user_id": 11506195, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PhXf1VG17W0/AAAAAAAAAAI/AAAAAAAAAAc/7-DtsM0yGsQ/photo.jpg?sz=128", "display_name": "Dilmae2040", "link": "https://stackoverflow.com/users/11506195/dilmae2040"}, "reply_to_user": {"reputation": 1877, "user_id": 6000966, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CBWU6IbBTGE/AAAAAAAAAAI/AAAAAAAAABo/ZmVPbtOluXA/photo.jpg?sz=128", "display_name": "Stephen Romero", "link": "https://stackoverflow.com/users/6000966/stephen-romero"}, "edited": false, "score": 0, "creation_date": 1558557706, "post_id": 56245711, "comment_id": 99145758, "body": "@StephenRomero Yes, but was not what i wanted, I need a input for user do manually"}], "owner": {"reputation": 19, "user_id": 11506195, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PhXf1VG17W0/AAAAAAAAAAI/AAAAAAAAAAc/7-DtsM0yGsQ/photo.jpg?sz=128", "display_name": "Dilmae2040", "link": "https://stackoverflow.com/users/11506195/dilmae2040"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 650, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1558469632, "creation_date": 1558469468, "last_edit_date": 1558469632, "question_id": 56245711, "link": "https://stackoverflow.com/questions/56245711/how-format-date-input-for-credit-card-expiry-date", "title": "How format date input for credit card, expiry date?", "body": "<p>I'm trying to format the input date for my credit card into my HTML, and I tried use brmasker for mask but both sides go 99/99(mm/yy), and the pattern does not work with ionic I guess.</p>\n\n<pre><code>[brmasker]=\"{mask:'00/00', len:5}\"\n</code></pre>\n\n<p>Actually I do not what I can use for this.</p>\n"}, {"tags": ["typescript", "observable", "angular7"], "answers": [{"comments": [{"owner": {"reputation": 397, "user_id": 8803298, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-00JgJ2gVItw/AAAAAAAAAAI/AAAAAAAAWlk/f6NBAhWG2wg/photo.jpg?sz=128", "display_name": "Vitor Piovezam", "link": "https://stackoverflow.com/users/8803298/vitor-piovezam"}, "edited": false, "score": 0, "creation_date": 1558470339, "post_id": 56245762, "comment_id": 99110186, "body": "In your case you will need add router on constructor. &quot;private router: Router&quot;."}], "tags": [], "owner": {"reputation": 397, "user_id": 8803298, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-00JgJ2gVItw/AAAAAAAAAAI/AAAAAAAAWlk/f6NBAhWG2wg/photo.jpg?sz=128", "display_name": "Vitor Piovezam", "link": "https://stackoverflow.com/users/8803298/vitor-piovezam"}, "is_accepted": true, "score": 1, "last_activity_date": 1558485663, "last_edit_date": 1558485663, "creation_date": 1558469732, "answer_id": 56245762, "question_id": 56245687, "link": "https://stackoverflow.com/questions/56245687/angular-i-need-to-refresh-after-using-crud/56245762#56245762", "title": "Angular: I need to refresh after using CRUD", "body": "<p>You can create an actionsForSucess function and pass to your subscribe something like this to redirect to your new creation.</p>\n\n<pre><code>addNewPost(post) {\n  this._postDataService.addNewPost(post).subscribe(\n    post =&gt; actionsForSuccess(post)\n  );\n}\n\nprivate actionsForSuccess(post: Post) {\n\nthis.router.navigateByUrl('posts', { skipLocationChange: true })\n  .then(\n    () =&gt; this.router.navigate(['posts', 'edit', post.id])\n  );\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 59, "user_id": 5828380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/050d9188f767b9c2548683ab763f2d1d?s=128&d=identicon&r=PG&f=1", "display_name": "Szymon Jab\u0142o\u0144ski", "link": "https://stackoverflow.com/users/5828380/szymon-jab%c5%82o%c5%84ski"}, "is_accepted": false, "score": 1, "last_activity_date": 1558471231, "creation_date": 1558471231, "answer_id": 56246045, "question_id": 56245687, "link": "https://stackoverflow.com/questions/56245687/angular-i-need-to-refresh-after-using-crud/56246045#56246045", "title": "Angular: I need to refresh after using CRUD", "body": "<p>Setting <code>posts$</code> as getter won't work at all. It's not emiting any values by itself. You will need additional method to fetch posts.</p>\n\n<p>To ensure you will always emit posts after <code>addNewPost()</code> method, you can map response after posting and emit fetched posts on your Subject. However, you can also call this method in your DashboardComponent after receiving response from <code>addNewPost</code> method (without need to subscribe to <code>fetchPosts</code> in your <code>PostDataService</code>).</p>\n\n<p>Here's an example: <a href=\"https://stackblitz.com/edit/angular-kx4cco\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-kx4cco</a></p>\n"}], "owner": {"reputation": 387, "user_id": 8962522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7317301fd37ac57315e58cd740a331eb?s=128&d=identicon&r=PG&f=1", "display_name": "iCV", "link": "https://stackoverflow.com/users/8962522/icv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 56245762, "answer_count": 2, "score": 1, "last_activity_date": 1558485663, "creation_date": 1558469342, "question_id": 56245687, "link": "https://stackoverflow.com/questions/56245687/angular-i-need-to-refresh-after-using-crud", "title": "Angular: I need to refresh after using CRUD", "body": "<p>When I add a new post via my add-post component, it emits the post to my dashboard component. This component contains an overview of all the posts, retrieved via a dataService.  </p>\n\n<p>However...</p>\n\n<p>Whenever I do a CRUD operation, I need to refresh my page to view the changes. I figured it has something to do with Observables. I think I'm using them correctly, but they don't seem to work. </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class DashboardComponent {\npublic filterPostTitle: string;\npublic filterPost$ = new Subject&lt;string&gt;();\nprivate _fetchPosts$: Observable&lt;Post[]&gt; = this._postDataService.posts$;\n\npublic loadingError$ = this._postDataService.loadingError$;\n\n  showAddPost = false;\n  constructor(private router: Router, private _postDataService: PostDataService) {\n    this.filterPost$.pipe(\n      distinctUntilChanged(),\n      debounceTime(300),\n      map(val =&gt; val.toLowerCase())\n    ).subscribe(val =&gt; (this.filterPostTitle = val));\n  }\n\n  toggleAddPost(): void {\n    this.showAddPost = !this.showAddPost;\n  }\n\n  get posts$(): Observable&lt;Post[]&gt; {\n    return this._fetchPosts$;\n  }\n\n  applyFilter(filter: string) {\n    this.filterPostTitle = filter;\n  }\n  addNewPost(post) {\n    this._postDataService.addNewPost(post).subscribe();\n\n  }\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Injectable({\n  providedIn: 'root'\n})\nexport class PostDataService {\n  public loadingError$ = new Subject&lt;string&gt;();\n  public $postsChange = new Subject&lt;any&gt;();\n\n  constructor(private http: HttpClient) { }\n  get posts$(): Observable&lt;Post[]&gt; {\n    return this.http.get(`${environment.apiUrl}/posts/`).pipe(catchError(error =&gt; {\n      this.loadingError$.next(error.statusText);\n      return of(null);\n    }),\n    map((list: any[]): Post[] =&gt; list.map(Post.fromJSON)),\n    share()\n    );\n  }\n\n  addNewPost(post: Post) {\n    return  this.http.post(`${environment.apiUrl}/posts/`, post.toJSON());\n  }\n}\n</code></pre>\n"}]