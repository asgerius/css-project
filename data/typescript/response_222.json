[{"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "is_accepted": true, "score": 2, "last_activity_date": 1554941575, "creation_date": 1554941575, "answer_id": 55622954, "question_id": 55622299, "link": "https://stackoverflow.com/questions/55622299/type-script-given-error-must-supply-value-for-formcontrol-name-id/55622954#55622954", "title": "type script given error must supply value for formcontrol name id", "body": "<p>Since you want to change only the value of the control <code>id</code>, you should use <code>patchValue</code> instead of <code>setValue</code> method to modify the value of that formControl.</p>\n\n<pre><code>this.subcategoryForm.patchValue({\n       id:res.result.Name\n});\n</code></pre>\n\n<p>if you want to use <code>setValue</code> method, you can call it from the formControl <code>id</code> : </p>\n\n<pre><code>this.subcategoryForm.controls['id'].setValue(res.result.Name);\n</code></pre>\n"}], "owner": {"reputation": 189, "user_id": 11145640, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mG-0IBG877I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc_N5d-d_SrGJZ8wAUWPtBLgi114Q/mo/photo.jpg?sz=128", "display_name": "Atul kumar singh", "link": "https://stackoverflow.com/users/11145640/atul-kumar-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2983, "favorite_count": 0, "accepted_answer_id": 55622954, "answer_count": 1, "score": 2, "last_activity_date": 1554941575, "creation_date": 1554936360, "question_id": 55622299, "link": "https://stackoverflow.com/questions/55622299/type-script-given-error-must-supply-value-for-formcontrol-name-id", "title": "type script given error must supply value for formcontrol name id", "body": "<p>I have been getting the following error: \nERROR Error: Must supply a value for form control with name: 'id'.\neven though i have provided value for the same and here is my typescript code </p>\n\n<pre><code>import { Component, OnInit,Inject } from '@angular/core';\nimport {MatDialog,MatDialogRef,MAT_DIALOG_DATA} from '@angular/material';\nimport {FormGroup,FormBuilder,Validators} from '@angular/forms';\nimport {AdminService} from '../../services/admin.service';\n@Component({\n  selector: 'app-subcategory-modal',\n  templateUrl: './subcategory-modal.component.html',\n  styleUrls: ['./subcategory-modal.component.css']\n})\nexport class SubcategoryModalComponent implements OnInit {\n   subcategoryForm:FormGroup;\n   category:any;\n  constructor(public subCategoryDialogref:MatDialogRef&lt;SubcategoryModalComponent&gt;,@Inject(MAT_DIALOG_DATA)public data:string,private formBuilder:FormBuilder,private service:AdminService)\n   {\n      this.generateCategory();\n   }\n\n  ngOnInit() {\n    this.createForm();\n    this.generateSubcategory(this.data);\n\n  }\n   createForm()\n   {\n     this.subcategoryForm=this.formBuilder.group({\n       id:[null,Validators.required],\n       subcategoryName:[null,Validators.required],\n       category:[null,Validators.required]\n     });\n   }\n   generateSubcategory(data)\n   {\n\n     this.service.getSubcategorys(data).subscribe(res=&gt;{\n         console.log(res.result);\n     this.subcategoryForm.setValue({\n       id:res.result.Name\n     });\n     },err=&gt;{\n\n     });\n   }\n   generateCategory()\n   {\n     this.service.getCategory().subscribe(res=&gt;{\n       this.category=res;\n     });\n   }\n}\n</code></pre>\n\n<p>and this is my html code :- </p>\n\n<pre><code>&lt;form [formGroup]=\"subcategoryForm\"&gt;\n  &lt;div class=\"form-group\"&gt;\n    &lt;input type=\"text\" class=\"form-control\" formControlName=\"id\"value=\"\" name=\"id\"&gt;\n    &lt;/div&gt;\n  &lt;div class=\"form-group\"&gt;\n    &lt;input type=\"text\" class=\"form-control\" formControlName=\"subcategoryName\" name=\"subcategoryName\" &gt;\n  &lt;/div&gt;\n  &lt;div class=\"form-group\"&gt;\n  &lt;select class=\"form-control\" name=\"category\" formControlName=\"category\"&gt;\n      &lt;option value=\"0\"&gt;-Select-&lt;/option&gt;\n      &lt;option  *ngFor=\"let data of category?.result\" value=\"{{data.id}}\"&gt;{{data.Name}}&lt;/option&gt;\n    &lt;/select&gt;\n  &lt;/div&gt;\n  &lt;div class=\"form-group text-center\"&gt;\n    &lt;button type=\"button\" class=\"btn btn-primary\" name=\"button\"&gt;Update&lt;/button&gt;\n  &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>can anybody tell me where i'm going wrong? and why this error keeps happening?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "edited": false, "score": 0, "creation_date": 1554934660, "post_id": 55622033, "comment_id": 97937096, "body": "I could split this to two if&#39;s but it seems like I shouldn&#39;t have to duplicate code."}], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1554942939, "creation_date": 1554942939, "answer_id": 55623099, "question_id": 55622033, "link": "https://stackoverflow.com/questions/55622033/short-circuit-variable-assignment-at-least-one-varible-is-known-to-be-defined/55623099#55623099", "title": "Short Circuit Variable Assignment at least one varible is known to be defined", "body": "<p>TypeScript's control flow analysis works better with variables (or properties of variables) and not with general expressions.  That means you could <em>first</em> store <code>varibleA || varibleB</code> into its own variable, and <em>then</em> check it:</p>\n\n<pre><code>// varibleA: object | undefined   \n// varibleB: object | undefined   \nconst selectedVariable = varibleA || varibleB; // still object | undefined\nif (selectedVariable) {\n  // now selectedVariable is known to be object\n  console.log(selectedVariable.toString()); // no error\n}\n</code></pre>\n\n<p>Hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 55623099, "answer_count": 1, "score": 0, "last_activity_date": 1554942939, "creation_date": 1554934457, "question_id": 55622033, "link": "https://stackoverflow.com/questions/55622033/short-circuit-variable-assignment-at-least-one-varible-is-known-to-be-defined", "title": "Short Circuit Variable Assignment at least one varible is known to be defined", "body": "<p>I have some code here involving short circuit assignment:</p>\n\n<pre><code>// varibleA: object | undefined   \n// varibleB: object | undefined   \nif(varibleA || varibleB){   \n   const selectedVarible: object = varibleA || varibleB;   \n //ERROR Type \"object | undefined is not assignable to type object.   \n}\n</code></pre>\n\n<p>This seems to me that if either varA or varB is defined, then the short circuit assignment should always return a defined object. This might be because the short circuit asignment handles this like an else and will always at least assign the second varible (B), which has type object | undefined. If this is the case how do I get around this? Thank you</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "jasmine", "protractor"], "comments": [{"owner": {"reputation": 2600, "user_id": 2140747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CsujY.jpg?s=128&g=1", "display_name": "tehbeardedone", "link": "https://stackoverflow.com/users/2140747/tehbeardedone"}, "edited": false, "score": 0, "creation_date": 1554933341, "post_id": 55621823, "comment_id": 97936687, "body": "For the record, I also tried awaiting <code>test</code>. That did not work either."}, {"owner": {"reputation": 10144, "user_id": 401450, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/41o2I.jpg?s=128&g=1", "display_name": "SET", "link": "https://stackoverflow.com/users/401450/set"}, "edited": false, "score": 0, "creation_date": 1554934203, "post_id": 55621823, "comment_id": 97936954, "body": "for loop does not wait assync routine inside it. this is related to this question <a href=\"https://stackoverflow.com/questions/11488014/asynchronous-process-inside-a-javascript-for-loop\" title=\"asynchronous process inside a javascript for loop\">stackoverflow.com/questions/11488014/&hellip;</a>"}, {"owner": {"reputation": 2600, "user_id": 2140747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CsujY.jpg?s=128&g=1", "display_name": "tehbeardedone", "link": "https://stackoverflow.com/users/2140747/tehbeardedone"}, "reply_to_user": {"reputation": 10144, "user_id": 401450, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/41o2I.jpg?s=128&g=1", "display_name": "SET", "link": "https://stackoverflow.com/users/401450/set"}, "edited": false, "score": 0, "creation_date": 1554936833, "post_id": 55621823, "comment_id": 97937694, "body": "That answer suggests several things that don&#39;t work. <code>.forEach(async p =&gt; { &#47;&#47; do stuff }</code> fails with the same result. Putting the loop inside an async function like <code>async function something() { for(..) { await test(project) } }</code> doesn&#39;t work either."}], "answers": [{"tags": [], "owner": {"reputation": 2600, "user_id": 2140747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CsujY.jpg?s=128&g=1", "display_name": "tehbeardedone", "link": "https://stackoverflow.com/users/2140747/tehbeardedone"}, "is_accepted": true, "score": 0, "last_activity_date": 1555082162, "creation_date": 1555082162, "answer_id": 55654770, "question_id": 55621823, "link": "https://stackoverflow.com/questions/55621823/jasmine-looped-tests-fail-to-run-if-asynchronous/55654770#55654770", "title": "Jasmine: looped tests fail to run if asynchronous", "body": "<p>I couldn't figure out how to get this to work the way I wanted. Instead I decided to use node's <code>child_process.execSync</code> and looped through each file that way. It's not ideal but it works. Takes a bit longer since each file I want to run tests on creates a new session but I'm tired of trying to make it work the other way.</p>\n\n<p>I'm running the script using <code>node ./path/to/test.js --baseUrl=http://&lt;myUrl&gt;</code></p>\n\n<p>Here's the relevant part of the code:</p>\n\n<pre><code>fs.readdir(projectsPath, (err, files) =&gt; {\n  if (err) {\n    throw new Error('Unable to scan directory: ' + err);\n  }\n\n  let i = 0;\n\n  const next = () =&gt; {\n    if (i &lt; files.length) {\n        const file = files[i];\n        console.log('running tests on:', file);            \n\n        const runCmd = `nodenv --exec \"yarn run e2e:all ${baseUrl} --params.projectToImport=${file} --suite import_projects\"`            \n\n        // exec\n        try {\n            execSync(runCmd, { cwd: workingDir, stdio: 'inherit' },\n                (error, stdout, stderr) =&gt; {\n                    if (error) {\n                        console.error(error);\n                        return;\n                    }\n\n                    console.log(stdout);\n                });\n        } catch (err) {\n            if (err.stderr) {\n                console.log('stderr:', err.stderr.toString());\n            }\n        }\n\n        // next iteration\n        i++;\n        next();\n      }\n  }\n\n  next();\n});\n</code></pre>\n"}], "owner": {"reputation": 2600, "user_id": 2140747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CsujY.jpg?s=128&g=1", "display_name": "tehbeardedone", "link": "https://stackoverflow.com/users/2140747/tehbeardedone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 55654770, "answer_count": 1, "score": 0, "last_activity_date": 1555082162, "creation_date": 1554933107, "last_edit_date": 1554933782, "question_id": 55621823, "link": "https://stackoverflow.com/questions/55621823/jasmine-looped-tests-fail-to-run-if-asynchronous", "title": "Jasmine: looped tests fail to run if asynchronous", "body": "<p>I'm working on implementing a test that reads a list of files from a given directory. The list is then checked against a <code>Map</code> object that uses filenames as keys. If a match is found I want to execute some tests, if not skip the file and move on to the next one. </p>\n\n<p>I have the test working if I just grab one object from the Map but it fails when I try to loop. I want to run tests by looping over multiple files. </p>\n\n<p>It only seems to be a problem if I have async calls in my tests. Using a completely synchronous loop I can get it to run just fine. Here is an example of the synchronous loop <em>(I realize this is a very contrived example but it works as expected)</em>:</p>\n\n<pre><code>describe('a test', () =&gt; {\n  const list = ['a', 'b', 'c'];\n\n  const test = (x) =&gt; {\n    describe(`should run ${x}`, () =&gt; {\n        beforeAll(async () =&gt; {\n            console.log('beforeAll');\n        });\n\n        beforeEach(async () =&gt; {\n            console.log('beforeEach');\n        });\n\n        for(let i = 0; i &lt; 2; i++) {\n          it(`should log iteration ${i}`, async () =&gt; {\n            console.log(x, i);\n\n            expect(i).toBeTruthy();\n          });\n        }\n    });\n  }\n\n  for (let i = 0; i &lt; list.length; i++) {\n    test(list[i]);\n  }\n});\n</code></pre>\n\n<p>The output from the above snippet suggests that it runs just fine:\n<a href=\"https://i.stack.imgur.com/QMeFo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QMeFo.png\" alt=\"enter image description here\"></a></p>\n\n<p>This same pattern does not work if it is asynchronous though. In fact, the nested describe in <code>test</code> isn't even running as far as I can tell. I logged the <code>project</code> variable to the console so I could see that it was getting called but the <code>logging in...</code> statement in the <code>beforeAll</code> isn't getting executed at all. It seems like it's just skipping right over it. How do I make this work with <code>async/await</code>?</p>\n\n<pre><code>describe('Import Project', () =&gt; {\n  const _page = new PageFactory();\n  const utils = new Utils();\n  const projPath = browser.params.projPath;\n\n  let projectGuid: string;\n\n  const test = (project) =&gt; {\n    describe(`importing ${project.name}`, () =&gt; {\n        beforeAll(async () =&gt; {\n            console.log('logging in...'); //not getting executed for some reason\n            await _page.loginPage.login(browser.params.username, browser.params.password);\n\n            // import\n            await _page.projectsPage.importProject(projectPath + project.filename)\n                .withImportType(project.importType)\n                .withProjectName(project.projectName)\n                .inEnvironment(project.environment)\n                .import();\n\n            projectGuid = await utils.extractGuid();\n        });\n\n        afterEach(async () =&gt; {\n            await _page.designerPage.navigateTo(projectGuid);\n        });\n\n        for(let i = 0; i &lt; project.operations.length; i++) {\n            const operation = project.operations[i];\n\n            it(`should run ${operation.name} successfully`, async () =&gt; {\n                await runOperation(operation.name);\n\n                const status = await _page.operationLogsPage.getStatus(operation.outcomeTarget);\n                expect(status).toEqual(operation.expectedStatus);\n            });\n        }\n    });\n  }\n\n  utils.getProjects().then(projects =&gt; {\n    // projects is a string[] of filenames\n    // that are returned using fs.readdir()\n    for (let i = 0; i &lt; projects.length; i++) {\n        const myProject = projectMap.get(projects[i]);\n\n        if (myProject) {\n            test(myProject);\n        }\n    }\n  });\n});\n</code></pre>\n\n<p>The output from this is just <code>Executed 0 of 0 specs SUCCESS in 0.003 sec.</code></p>\n\n<p>I don't understand how this would be any different than manually writing out all these nested describe blocks. If I wrote each one out it would work just fine but for some reason in a loop it doesn't want to work. Any ideas?</p>\n"}, {"tags": ["typescript", "dependency-injection", "inversion-of-control", "inversifyjs"], "owner": {"reputation": 882, "user_id": 2499147, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/9cde9997a5ef513b141c5247991987f4?s=128&d=identicon&r=PG&f=1", "display_name": "TekGiant", "link": "https://stackoverflow.com/users/2499147/tekgiant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 143, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554932313, "creation_date": 1554932313, "question_id": 55621666, "link": "https://stackoverflow.com/questions/55621666/typescript-inversifyjs-complex-bindings-for-multiple-implementations-of-interfa", "title": "TypeScript InversifyJS: complex bindings for multiple implementations of interface", "body": "<p>Sorry if the title is vague..</p>\n\n<p>I have the following implementations of the interface <code>ILogProvider</code>:\n<code>MultiLogProvider</code>, <code>LogInjector</code>, <code>AppInsightsLogger</code>, and <code>ConsoleLogger</code></p>\n\n<p>I also have a class <code>DeviceInfoManager</code>..</p>\n\n<p>The expected behavior is:</p>\n\n<ol>\n<li><p>MultiLogProvider takes in an array of <code>ILogProvider</code>, in this case,\n<code>AppInsightsLogProvider</code> and <code>ConsoleLogger</code></p></li>\n<li><p><code>MultiLogProvider</code> gets injected into <code>LogInjector</code> and <code>DeviceInfoManager</code> (FYI, <code>LogInjector</code> has a dependency on <code>DeviceInfoManager</code>, hence the complexity)</p></li>\n<li><p>Anything else requesting an <code>ILogProvider</code> should get <code>LogInjector</code></p></li>\n</ol>\n\n<p>I've tried a few different variations of <code>.when</code>, <code>.whenNoAncestorMatches</code>, and a couple other <code>.when*</code> functions, but I either end up with a circular dependency or the request just never resolves due to some seemingly indefinite resolution loop.</p>\n\n<p>I'm fairly certain these 2 lines are right:</p>\n\n<pre><code>this.container.bind&lt;ILogProvider&gt;(TYPES.ILogProvider).to(ConsoleLogger).inSingletonScope().whenInjectedInto('MultiLogProvider');\n\nthis.container.bind&lt;ILogProvider&gt;(TYPES.ILogProvider).to(AppInsightsLoggingProvider).inSingletonScope().whenInjectedInto('MultiLogProvider');\n</code></pre>\n\n<p>What I can't figure out is what <code>.when</code> functon to use for the below 2:</p>\n\n<pre><code>this.container.bind&lt;ILogProvider&gt;(TYPES.ILogProvider).to(MultiLogProvider).inSingletonScope().when*????\n\nthis.container.bind&lt;ILogProvider&gt;(TYPES.ILogProvider).to(LogInjector).inSingletonScope().when*????\n</code></pre>\n\n<p>Appreciate any help.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "edited": false, "score": 0, "creation_date": 1554951507, "post_id": 55621664, "comment_id": 97940670, "body": "I assume you are trying to use some of the methods and properties within that <code>Project</code> class? May I know if they are static?"}], "answers": [{"tags": [], "owner": {"reputation": 7733, "user_id": 6335049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEatl.jpg?s=128&g=1", "display_name": "Narm", "link": "https://stackoverflow.com/users/6335049/narm"}, "is_accepted": false, "score": 1, "last_activity_date": 1554933005, "creation_date": 1554933005, "answer_id": 55621798, "question_id": 55621664, "link": "https://stackoverflow.com/questions/55621664/angular-different-ways-to-instantiate-a-class-in-a-component/55621798#55621798", "title": "Angular: Different ways to instantiate a class in a component?", "body": "<blockquote>\n  <p>Can I instantiate a class with the new keyword?</p>\n</blockquote>\n\n<p>Yes you can, but it will create an object that is <strong>not injectable</strong>.</p>\n\n<blockquote>\n  <p>Are these the same?</p>\n</blockquote>\n\n<p><strong>No, they are not the same</strong>. When you declare the object as an argument in the constructor that object is injectable and is declared as a dependency of that class in the Angular framework. </p>\n\n<p>From the official Angular docs on <a href=\"https://angular.io/guide/dependency-injection\" rel=\"nofollow noreferrer\">Dependency Injection</a></p>\n\n<blockquote>\n  <p>In Angular, the DI framework provides declared dependencies to a class\n  when that class is instantiated</p>\n</blockquote>\n"}], "owner": {"reputation": 11, "user_id": 11342917, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Lc48ZDrdhGk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdJGn7WbkB0PiMMj1ffl0jaD9oQqQ/mo/photo.jpg?sz=128", "display_name": "Rich", "link": "https://stackoverflow.com/users/11342917/rich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 307, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554933005, "creation_date": 1554932285, "last_edit_date": 1554932526, "question_id": 55621664, "link": "https://stackoverflow.com/questions/55621664/angular-different-ways-to-instantiate-a-class-in-a-component", "title": "Angular: Different ways to instantiate a class in a component?", "body": "<p>Assuming Project is an object class I created to be used in a component. Can I instantiate a class with the <code>new</code> keyword </p>\n\n<p><code>project = new Project();</code></p>\n\n<p><strong>AND</strong> a constructor?</p>\n\n<p><code>constructor(public project: Project) {}</code></p>\n\n<p>Are these the same? If they are the same, which is preferred?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1554931876, "post_id": 55621529, "comment_id": 97936176, "body": "Why not use typescript&#39;s <code>enum</code> instead?"}, {"owner": {"reputation": 3621, "user_id": 6188402, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a8bdb7cbe81f5544f0ddc6ded12a23f1?s=128&d=identicon&r=PG&f=1", "display_name": "Washington Guedes", "link": "https://stackoverflow.com/users/6188402/washington-guedes"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1554932045, "post_id": 55621529, "comment_id": 97936237, "body": "@zerkms The current project&#39;s code is a const object, but I think I can change it to enum with no problem, how would it be with enum?"}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1554932415, "post_id": 55621529, "comment_id": 97936361, "body": "Oh wow, the values aren&#39;t automatically checked with enums either, sorry."}], "answers": [{"tags": [], "owner": {"reputation": 2421, "user_id": 11025582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a45b1fd0442131ea4522f1d291e21a4?s=128&d=identicon&r=PG&f=1", "display_name": "HTN", "link": "https://stackoverflow.com/users/11025582/htn"}, "is_accepted": false, "score": 1, "last_activity_date": 1554933954, "creation_date": 1554933954, "answer_id": 55621955, "question_id": 55621529, "link": "https://stackoverflow.com/questions/55621529/how-to-set-the-correct-type-as-one-of-the-defined-object-keys/55621955#55621955", "title": "How to set the correct type as one of the defined object keys?", "body": "<p>You can't define a <code>type</code> from a <code>const</code>, but you can define the <code>const</code> 's type.</p>\n\n<p>Is this solution OK for your use case?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type AcceptedValue = 1 | 2 | 3 | 4 | 5;\nconst typeEnum : {[key: string]: AcceptedValue} = {\n    a: 1,\n    b: 2,\n    c: 3,\n    d: 4,\n    e: 5\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3621, "user_id": 6188402, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a8bdb7cbe81f5544f0ddc6ded12a23f1?s=128&d=identicon&r=PG&f=1", "display_name": "Washington Guedes", "link": "https://stackoverflow.com/users/6188402/washington-guedes"}, "edited": false, "score": 0, "creation_date": 1554992147, "post_id": 55623026, "comment_id": 97960540, "body": "This is definitely the way to go. Better than that, just combining with the <code>enum</code> that @zerkms mentioned in the comments, but I don&#39;t know if its possible. Anyways, +1 thank you :)"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1554942438, "creation_date": 1554942438, "answer_id": 55623026, "question_id": 55621529, "link": "https://stackoverflow.com/questions/55621529/how-to-set-the-correct-type-as-one-of-the-defined-object-keys/55623026#55623026", "title": "How to set the correct type as one of the defined object keys?", "body": "<p>For TS3.4+ you can use a <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#const-assertions\" rel=\"nofollow noreferrer\"><code>const</code> assertion</a> to tell the compiler the type of <code>typeEnum</code> should be inferred to be as narrow as possible... a property value of <code>3</code> will be inferred as the numeric literal <code>3</code> and not as <code>number</code>:</p>\n\n<pre><code>const typeEnum = {\n    a: 1,\n    b: 2,\n    c: 3,\n    d: 4,\n    e: 5\n} as const;\n// inferred as type { readonly a: 1; readonly b: 2; readonly c: 3; \n//   readonly d: 4; readonly e: 5; }\n</code></pre>\n\n<p>If you haven't updated to TS3.4 yet you can get similar behavior with a helper function:</p>\n\n<pre><code>const litNumVals =\n    &lt;N extends number, T extends { [k: string]: N }&gt;(t: T) =&gt; t;\n\nconst typeEnum = litNumVals({\n    a: 1,\n    b: 2,\n    c: 3,\n    d: 4,\n    e: 5\n});\n// inferred as type { a: 1; b: 2; c: 3; d: 4; e: 5; }\n</code></pre>\n\n<p>From <em>that</em> value, you can use type functions to constrain <code>isCD</code> parameters:</p>\n\n<pre><code>type ValueOf&lt;T&gt; = T[keyof T]\n\ntype TypeEnumValues = ValueOf&lt;typeof typeEnum&gt;;\n// 1 | 2 | 3 | 4 | 5    \n\nconst isCD = (...types: Array&lt;TypeEnumValues&gt;) =&gt; {\n    return types.some(t =&gt; {\n        return t == typeEnum.c || t == typeEnum.d;\n    });\n};\n\nconsole.log(\n    isCD(\n        typeEnum.a, // okay\n        typeEnum.b, // okay\n        typeEnum.d, // okay\n        6 // error\n    )\n);\n</code></pre>\n\n<p>Okay, hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 3621, "user_id": 6188402, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a8bdb7cbe81f5544f0ddc6ded12a23f1?s=128&d=identicon&r=PG&f=1", "display_name": "Washington Guedes", "link": "https://stackoverflow.com/users/6188402/washington-guedes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 55623026, "answer_count": 2, "score": 2, "last_activity_date": 1556520830, "creation_date": 1554931509, "last_edit_date": 1556520830, "question_id": 55621529, "link": "https://stackoverflow.com/questions/55621529/how-to-set-the-correct-type-as-one-of-the-defined-object-keys", "title": "How to set the correct type as one of the defined object keys?", "body": "<p>I've built this snippet to demonstrate my question:</p>\n\n<pre><code>const typeEnum = {\n    a: 1,\n    b: 2,\n    c: 3,\n    d: 4,\n    e: 5\n};\n\n\nconst isCD = (...types: any[]) =&gt; {\n    return types.some(t =&gt; {\n        return t == typeEnum.c || t == typeEnum.d;\n    });\n};\n\nconsole.log(\n    isCD(\n        typeEnum.a,\n        typeEnum.b,\n        typeEnum.d,\n        6\n    )\n);\n</code></pre>\n\n<p>So what I want is to replace <code>any[]</code> to the correct type, but I don't know how to set that the acceptable values are the ones from <code>typeEnum</code> keys, so no one would pass <code>6</code> as argument because it is not an acceptable argument.</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=const%20typeEnum%20%3D%20%7B%0D%0A%20%20%20%20a%3A%201%2C%0D%0A%20%20%20%20b%3A%202%2C%0D%0A%20%20%20%20c%3A%203%2C%0D%0A%20%20%20%20d%3A%204%2C%0D%0A%20%20%20%20e%3A%205%0D%0A%7D%3B%0D%0A%0D%0A%0D%0Aconst%20isCD%20%3D%20(...types%3A%20any%5B%5D)%20%3D%3E%20%7B%0D%0A%20%20%20%20return%20types.some(t%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20t%20%3D%3D%20typeEnum.c%20%7C%7C%20t%20%3D%3D%20typeEnum.d%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%7D%3B%0D%0A%0D%0Aconsole.log(%0D%0A%20%20%20%20isCD(%0D%0A%20%20%20%20%20%20%20%20typeEnum.a%2C%0D%0A%20%20%20%20%20%20%20%20typeEnum.b%2C%0D%0A%20%20%20%20%20%20%20%20typeEnum.d%2C%0D%0A%20%20%20%20%20%20%20%206%0D%0A%20%20%20%20)%0D%0A)%3B%0D%0A\" rel=\"nofollow noreferrer\">TypeScript Playground link</a></p>\n\n<p>Thanks in advance.</p>\n\n<hr>\n\n<p>My final working snippet ended this way:</p>\n\n<pre><code>const typeEnum = {\n    a: 1,\n    b: 2,\n    c: 3,\n    d: 4,\n    e: 5\n} as const;\n\ntype typeEnumValues = typeof typeEnum [keyof typeof typeEnum];\n\nconst isCD = (...types: typeEnumValues[]) =&gt; {\n    return types.some(t =&gt; {\n        return t == typeEnum.c || t == typeEnum.d;\n    });\n};\n\nconsole.log(\n    isCD(\n        typeEnum.a,\n        typeEnum.b,\n        typeEnum.d,\n        6\n    )\n);\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=const%20typeEnum%20%3D%20%7B%0D%0A%20%20%20%20a%3A%201%2C%0D%0A%20%20%20%20b%3A%202%2C%0D%0A%20%20%20%20c%3A%203%2C%0D%0A%20%20%20%20d%3A%204%2C%0D%0A%20%20%20%20e%3A%205%0D%0A%7D%20as%20const%3B%0D%0A%0D%0Atype%20typeEnumValues%20%3D%20typeof%20typeEnum%20%5Bkeyof%20typeof%20typeEnum%5D%3B%0D%0A%0D%0Aconst%20isCD%20%3D%20(...types%3A%20typeEnumValues%5B%5D)%20%3D%3E%20%7B%0D%0A%20%20%20%20return%20types.some(t%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20t%20%3D%3D%20typeEnum.c%20%7C%7C%20t%20%3D%3D%20typeEnum.d%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%7D%3B%0D%0A%0D%0Aconsole.log(%0D%0A%20%20%20%20isCD(%0D%0A%20%20%20%20%20%20%20%20typeEnum.a%2C%0D%0A%20%20%20%20%20%20%20%20typeEnum.b%2C%0D%0A%20%20%20%20%20%20%20%20typeEnum.d%2C%0D%0A%20%20%20%20%20%20%20%206%0D%0A%20%20%20%20)%0D%0A)%3B%0D%0A\" rel=\"nofollow noreferrer\">TypeScript Playground link</a></p>\n"}, {"tags": ["angular", "typescript", "geojson"], "answers": [{"comments": [{"owner": {"reputation": 611, "user_id": 3508881, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3051ace66b7c07720b7b9c4681d5e7a?s=128&d=identicon&r=PG&f=1", "display_name": "cpeddie", "link": "https://stackoverflow.com/users/3508881/cpeddie"}, "edited": false, "score": 0, "creation_date": 1554993362, "post_id": 55626052, "comment_id": 97961354, "body": "Thank you for that excellent explanation! I don&#39;t know that I ever would have figured that out by myself. But your explanation makes perfect sense. Thank you!"}, {"owner": {"reputation": 611, "user_id": 3508881, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3051ace66b7c07720b7b9c4681d5e7a?s=128&d=identicon&r=PG&f=1", "display_name": "cpeddie", "link": "https://stackoverflow.com/users/3508881/cpeddie"}, "edited": false, "score": 0, "creation_date": 1554994096, "post_id": 55626052, "comment_id": 97961908, "body": "Just changed my code and it now works as I first expected it to. Thanks again for your excellent explanation. Learned some great stuff about typescript."}, {"owner": {"reputation": 1328, "user_id": 845717, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d3fe491fd07d1bbce780696b3c468f4c?s=128&d=identicon&r=PG", "display_name": "BradGreens", "link": "https://stackoverflow.com/users/845717/bradgreens"}, "edited": false, "score": 0, "creation_date": 1588008092, "post_id": 55626052, "comment_id": 108728590, "body": "This answer is useful enough that it applies to a wide range of Typescript reference narrowing situations. Kudos."}], "tags": [], "owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "is_accepted": true, "score": 7, "last_activity_date": 1554966960, "last_edit_date": 1554966960, "creation_date": 1554964334, "answer_id": 55626052, "question_id": 55621480, "link": "https://stackoverflow.com/questions/55621480/cant-access-coordinates-member-of-geojson-feature-collection/55626052#55626052", "title": "can&#39;t access &#39;coordinates&#39; member of geojson feature collection", "body": "<blockquote>\n  <p>What do I need to do in order to access the coordinates?</p>\n</blockquote>\n\n<h3>Short Answer</h3>\n\n<p>Check that <code>geometry</code> is a <code>Point</code> before trying to access its <code>coordinates</code> property.</p>\n\n<pre><code>if (staticBreadcrumbs.features[0].geometry.type === 'Point') {\n\n    var marker = new Marker(el)\n        .setLngLat([\n            this.staticBreadcrumbs.features[0].geometry.coordinates[0],\n            this.staticBreadcrumbs.features[0].geometry.coordinates[1]\n        ])\n        .addTo(this.map);\n\n}\n</code></pre>\n\n<h3>Explanation</h3>\n\n<p>The problem you're experiencing happens because <code>Geometry</code> <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#union-types\" rel=\"noreferrer\">is a union type</a>.</p>\n\n<blockquote>\n  <p>A union type describes a value that can be one of several types. We use the vertical bar (<code>|</code>) to separate each type...</p>\n</blockquote>\n\n<p>This is the <code>Geometry</code> union type definition:</p>\n\n<pre><code>export type Geometry = \n    Point |\n    MultiPoint | \n    LineString | \n    MultiLineString | \n    Polygon | \n    MultiPolygon | \n    GeometryCollection;\n</code></pre>\n\n<p>As you can see, the <code>Geometry</code> type is a union of seven types. Unfortunately, not all of those types include the <code>coordinates</code> property.</p>\n\n<blockquote>\n  <p>If we have a value that has a union type, we can only access members that are common to all types in the union.</p>\n</blockquote>\n\n<p>That is why we are only able to access the <code>coordinates</code> property after we have narrowed the type.</p>\n\n<h3>Some Other Options</h3>\n\n<p>If you're using only <code>Point</code> types in your <code>FeatureCollection</code>, then use the <code>Point</code> type as the generic parameter:</p>\n\n<pre><code>let staticBreadcrumbs: FeatureCollection&lt;Point&gt;;\n</code></pre>\n\n<p>If you're using a variety of types in your <code>FeatureCollection</code>, then use a cast to tell the type checker that you're sure you have a <code>Point</code>:</p>\n\n<pre><code>(staticBreadcrumbs.features[0].geometry as Point).coordinates[0]\n</code></pre>\n\n<p>As shown in the <strong>Short Answer</strong>, instead of using a cast, you can use a conditional statement to narrow the type:</p>\n\n<pre><code>const geometry = staticBreadcrumbs.features[0].geometry;\n\nif (geometry.type === 'Point') {\n    const coordinates00 = geometry.coordinates[0];\n    const coordinates01 = geometry.coordinates[1];\n}\n</code></pre>\n\n<p>There is a short demo <a href=\"https://github.com/shaunluttin/typescript-geojson-union-type-narrowing\" rel=\"noreferrer\">of that last example here</a>.</p>\n"}], "owner": {"reputation": 611, "user_id": 3508881, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3051ace66b7c07720b7b9c4681d5e7a?s=128&d=identicon&r=PG&f=1", "display_name": "cpeddie", "link": "https://stackoverflow.com/users/3508881/cpeddie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1641, "favorite_count": 0, "accepted_answer_id": 55626052, "answer_count": 1, "score": 4, "last_activity_date": 1554966960, "creation_date": 1554931194, "last_edit_date": 1554966554, "question_id": 55621480, "link": "https://stackoverflow.com/questions/55621480/cant-access-coordinates-member-of-geojson-feature-collection", "title": "can&#39;t access &#39;coordinates&#39; member of geojson feature collection", "body": "<p>I have a GeoJSON feature collection in my Angular app that is an array of features, each containing a geometry object and properties object. Structure looks like this:</p>\n\n<pre><code>import { FeatureCollection, Feature } from 'geojson';\n\nstaticBreadcrumbs: GeoJSON.FeatureCollection&lt;GeoJSON.Geometry&gt;;\n\nthis.staticBreadcrumbs = {\n    type : 'FeatureCollection',\n    features: [\n    {\n        type: 'Feature',\n        properties: {\n            property1:  'property1',\n            property2:  'property2'\n        },\n        geometry: {\n            type: 'Point',\n            coordinates: [-117.14024305343628, 32.81294345855713]\n        }\n    },\n    {\n        type: 'Feature',\n        properties: {\n        ...\n</code></pre>\n\n<p>I'm trying to create a mapboxgl marker for each feature in the collection and need to get the coordinates from each GeoJSON object, the compiler is telling me that the coordinates aren't part of the feature. The specific error is: Property 'coordinates' does not exist on type 'Geometry'. Property 'coordinates' does not exist on type 'GeometryCollection'.</p>\n\n<pre><code>console.log('this.staticBreadcrumbs.features[0]', this.staticBreadcrumbs.features[0]);\n\nvar marker = new Marker(el)\n    .setLngLat([\n        this.staticBreadcrumbs.features[0].geometry.coordinates[0],\n        this.staticBreadcrumbs.features[0].geometry.coordinates[1]\n    ])\n    .addTo(this.map);\n</code></pre>\n\n<p>My console.log displays</p>\n\n<pre><code> this.staticBreadcrumbs.features[0]\n {type: \"Feature\", properties: {\u2026}, geometry: {\u2026}}\n 1.  geometry:\n     1.  coordinates: Array(2)\n         1.  0: -117.14024305343628\n         2.  1: 32.81294345855713\n         3.  length: 2\n         4.  __proto__: Array(0)\n     2.  type: \"Point\"\n   2. __proto__: Object\n2. properties: {deviceID: \"CAP498\", altitude: 401.6721913312, autonomous: 0, azimuth: 0, batteryStatusLabel: \"Nominal\", \u2026}\n3. type: \"Feature\"\n4. __proto__: Object\n</code></pre>\n\n<p>The coordinates are exactly where I expect them to be, but I can't get to them. I have tried all sort of different ways to declare the Feature collection, but I can't find the right combination.</p>\n\n<p>What do I need to do in order to access the coordinates?</p>\n\n<p>Thanks.....</p>\n"}, {"tags": ["javascript", "html", "angular", "typescript"], "comments": [{"owner": {"reputation": 2390, "user_id": 3223185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mt42T.jpg?s=128&g=1", "display_name": "k.s.", "link": "https://stackoverflow.com/users/3223185/k-s"}, "edited": false, "score": 0, "creation_date": 1554930706, "post_id": 55621360, "comment_id": 97935724, "body": "Please provide a <a href=\"https://stackblitz.com\" rel=\"nofollow noreferrer\">stackblitz</a> example with your problem"}, {"owner": {"reputation": 321, "user_id": 10976709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e7c8d89945fb643ff9a3e320e8b6035?s=128&d=identicon&r=PG&f=1", "display_name": "rohit", "link": "https://stackoverflow.com/users/10976709/rohit"}, "reply_to_user": {"reputation": 2390, "user_id": 3223185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mt42T.jpg?s=128&g=1", "display_name": "k.s.", "link": "https://stackoverflow.com/users/3223185/k-s"}, "edited": false, "score": 0, "creation_date": 1554930980, "post_id": 55621360, "comment_id": 97935847, "body": "ok. Let me compose one and get back."}, {"owner": {"reputation": 321, "user_id": 10976709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e7c8d89945fb643ff9a3e320e8b6035?s=128&d=identicon&r=PG&f=1", "display_name": "rohit", "link": "https://stackoverflow.com/users/10976709/rohit"}, "reply_to_user": {"reputation": 2390, "user_id": 3223185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mt42T.jpg?s=128&g=1", "display_name": "k.s.", "link": "https://stackoverflow.com/users/3223185/k-s"}, "edited": false, "score": 0, "creation_date": 1554933657, "post_id": 55621360, "comment_id": 97936789, "body": "@chiril.sarajiu - Please check this stackblitz link <a href=\"https://stackblitz.com/edit/angular-yaie9e?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>  The commented code in app.component.html works fine. However, if i try the same thing by making the table row as a compoenent, i get an issue(table row only populates under 1st th)"}], "answers": [{"tags": [], "owner": {"reputation": 3786, "user_id": 3131085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af46eb34957e6fdc051e365e5853aa54?s=128&d=identicon&r=PG&f=1", "display_name": "Jason White", "link": "https://stackoverflow.com/users/3131085/jason-white"}, "is_accepted": true, "score": 3, "last_activity_date": 1554935648, "creation_date": 1554935648, "answer_id": 55622191, "question_id": 55621360, "link": "https://stackoverflow.com/questions/55621360/how-to-componentize-each-row-of-an-html-table-in-angular/55622191#55622191", "title": "how to componentize each row of an html table in angular", "body": "<p>I'm not sure as to why the <code>&lt;tr&gt;</code> isn't rendered properly when it is a root element of a component, maybe someone else can answer that.  One way that has worked for me is using and attribute selector instead of an element selector.</p>\n\n<h3>app.component.html</h3>\n\n<pre><code>...\n&lt;tbody&gt;\n  &lt;ng-container *ngFor=\"let venue of venues\"&gt;\n    &lt;tr app-row [venue]=\"venue\"&gt;&lt;/tr&gt;\n  &lt;/ng-container&gt;\n&lt;/tbody&gt;\n...\n</code></pre>\n\n<h3>app-row.component.ts</h3>\n\n<pre><code>@Component({\n  selector: '[app-row]',\n  templateUrl: './row.component.html',\n  styleUrls: [ './row.component.css' ]\n})\nexport class RowComponent implements OnInit  { ... }\n</code></pre>\n\n<h3>app-row.component.html</h3>\n\n<pre><code>&lt;td&gt;{{venue.venueName}}&lt;/td&gt;\n&lt;td&gt;{{venue.userName}}&lt;/td&gt;\n&lt;td&gt;{{venue.hb}}&lt;/td&gt;\n</code></pre>\n\n<blockquote>\n  <p><a href=\"https://stackblitz.com/edit/angular-ymyu2q\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-ymyu2q</a></p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 2390, "user_id": 3223185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mt42T.jpg?s=128&g=1", "display_name": "k.s.", "link": "https://stackoverflow.com/users/3223185/k-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1554936605, "creation_date": 1554936605, "answer_id": 55622343, "question_id": 55621360, "link": "https://stackoverflow.com/questions/55621360/how-to-componentize-each-row-of-an-html-table-in-angular/55622343#55622343", "title": "how to componentize each row of an html table in angular", "body": "<p>In your example the structure of the dom is like this:</p>\n\n<pre><code>tbody\n  tr\n    app-row\n     tr\n       td\n       td\n       td\n</code></pre>\n\n<p>So it's rendering properly, but the table is broken because of how css works.</p>\n\n<p>A solution would be to remove the wrapping <code>tr</code> from the <code>app-row.component.html</code>, and change the selector property of <code>app-row.component.ts</code> to <code>selector: 'tr[app-row]'</code>, that way, you could use it as an attribute for your <strong>tr</strong> tag in the <code>app.component.html</code> like so:</p>\n\n<pre><code>&lt;tr app-row *ngFor=\"let venue of venues\" [venue]=\"venue\"&gt;&lt;/tr&gt;\n</code></pre>\n\n<p>Here's a <a href=\"https://stackblitz.com/edit/angular-rfncma\" rel=\"nofollow noreferrer\">stackblitz</a> example.</p>\n"}], "owner": {"reputation": 321, "user_id": 10976709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e7c8d89945fb643ff9a3e320e8b6035?s=128&d=identicon&r=PG&f=1", "display_name": "rohit", "link": "https://stackoverflow.com/users/10976709/rohit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 656, "favorite_count": 0, "accepted_answer_id": 55622191, "answer_count": 2, "score": 1, "last_activity_date": 1554936605, "creation_date": 1554930550, "last_edit_date": 1554934556, "question_id": 55621360, "link": "https://stackoverflow.com/questions/55621360/how-to-componentize-each-row-of-an-html-table-in-angular", "title": "how to componentize each row of an html table in angular", "body": "<p>I am new to Angular. I want to render each row of a html table as separate component using ngFor. I tried an approach but failed. </p>\n\n<p>StackBlitz link - <a href=\"https://stackblitz.com/edit/angular-yaie9e?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-yaie9e?file=src%2Fapp%2Fapp.component.html</a> </p>\n\n<p>In the above stackblitz link, i am rendering a table using a single component for the whole table and rendering another similar table by using two components. One for the main table and the other for the table data. Why is the latter not rendering correctly? or to be specific why is it getting rendered under first column?</p>\n"}, {"tags": ["reactjs", "typescript", "default-value", "react-hooks"], "answers": [{"comments": [{"owner": {"reputation": 974, "user_id": 408136, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/1nRYx.jpg?s=128&g=1", "display_name": "sambecker", "link": "https://stackoverflow.com/users/408136/sambecker"}, "edited": false, "score": 3, "creation_date": 1577427102, "post_id": 55621325, "comment_id": 105166818, "body": "This was an absolute life saver! And, as far as I can tell, undocumented. Could not figure out why my stored functions weren&#39;t executing. I like that setState accepts a function when setting but needing to know to wrap a function in a function in order to store it as state is unintuitive at best. Thank you thank you thank you! Would never have figured this one out ..."}, {"owner": {"reputation": 3460, "user_id": 12010984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L03sm.png?s=128&g=1", "display_name": "Seth Lutske", "link": "https://stackoverflow.com/users/12010984/seth-lutske"}, "edited": false, "score": 1, "creation_date": 1601529337, "post_id": 55621325, "comment_id": 113437576, "body": "This was a life saver for me too.  My issue was that the function I was setting as my state variable was firing without being called.  Storing it as a function that returns that function works like a charm.  I agree this is not documented anywhere in the react docs.  Thank you!"}], "tags": [], "owner": {"reputation": 81718, "user_id": 3617886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y26OT.jpg?s=128&g=1", "display_name": "Tholle", "link": "https://stackoverflow.com/users/3617886/tholle"}, "is_accepted": true, "score": 58, "last_activity_date": 1554930381, "creation_date": 1554930381, "answer_id": 55621325, "question_id": 55621212, "link": "https://stackoverflow.com/questions/55621212/is-it-possible-to-react-usestate-in-react/55621325#55621325", "title": "is it possible to React.useState(() =&gt; {}) in React?", "body": "<p>It is possible to set a function in state using hooks, but because state can be initialized and updated with a function that returns the initial state or the updated state, you need to supply a function that in turn returns the function you want to put in state.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const { useState } = React;\r\n\r\nfunction App() {\r\n  const [ooops, setOoops] = useState(() =&gt; () =&gt; console.log(\"default ooops\"));\r\n\r\n  return (\r\n    &lt;div&gt;\r\n      &lt;button onClick={ooops}&gt;Show Ooops&lt;/button&gt;\r\n\r\n      &lt;button\r\n        onClick={() =&gt; {\r\n          setOoops(() =&gt; () =&gt; console.log(\"other ooops\"));\r\n        }}\r\n      &gt;\r\n        change oops\r\n      &lt;/button&gt;\r\n    &lt;/div&gt;\r\n  );\r\n}\r\n\r\nReactDOM.render(&lt;App /&gt;, document.getElementById(\"root\"));</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://unpkg.com/react@16/umd/react.development.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://unpkg.com/react-dom@16/umd/react-dom.development.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"root\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 2200, "user_id": 5312110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C4tvG.png?s=128&g=1", "display_name": "Peter Lehnhardt", "link": "https://stackoverflow.com/users/5312110/peter-lehnhardt"}, "is_accepted": false, "score": 10, "last_activity_date": 1616325623, "last_edit_date": 1616325623, "creation_date": 1554932374, "answer_id": 55621679, "question_id": 55621212, "link": "https://stackoverflow.com/questions/55621212/is-it-possible-to-react-usestate-in-react/55621679#55621679", "title": "is it possible to React.useState(() =&gt; {}) in React?", "body": "<h1>TL;DR</h1>\n<p>Yes, it is possible to use a function as the React Component's state. In order to do this, you must <strong>use a function returning your function</strong> in <code>React.useState</code>:</p>\n<pre><code>const [ooops, setOoops] = React.useState&lt;OoopsFunction&gt;(\n    () =&gt; () =&gt; console.log('default ooops')\n);\n\n// or\n\nconst yourFunction = () =&gt; console.log('default ooops');\nconst [ooops, setOoops] = React.useState&lt;OoopsFunction&gt;(\n    () =&gt; yourFunction\n);\n</code></pre>\n<p>To update your function you also must <strong>use a function returning your function</strong>:</p>\n<pre><code>setOoops(() =&gt; () =&gt; console.log(&quot;other ooops&quot;));\n\n// or\n\nconst otherFunction = () =&gt; console.log(&quot;other ooops&quot;);\nsetOoops(() =&gt; otherFunction);\n</code></pre>\n<h1>Detailed Answer</h1>\n<h2>Notes about <code>React.useState</code></h2>\n<p>The signature of <code>useState</code> in React with types is</p>\n<pre><code>function useState&lt;S&gt;(initialState: S | (() =&gt; S)): [S, Dispatch&lt;SetStateAction&lt;S&gt;&gt;];\n</code></pre>\n<p>It shows, that there are two ways to set the initial value in your state:</p>\n<ol>\n<li>Provide the initial value as is (<code>React.useState(0)</code> - initial value <code>0</code>),</li>\n<li>Provide a function, which returns the initial value to be set (<code>React.useState(() =&gt; 0)</code> - initial value also <code>0</code>).</li>\n</ol>\n<p><strong>Important to note: If you provide a function in <code>React.useState</code>, then this function is executed, when <code>React.useState</code> is executed and the returned value is stored as the initial state.</strong></p>\n<h2>How to actually store functions</h2>\n<p>The problem here is if you want to store a function as state you can not provide it as initial state as is, because this results in <strong>the function being executed and its return value stored as state instead of the function itself</strong>. Therefore when you write</p>\n<pre><code>const [ooops, setOoops] = React.useState&lt;OoopsFunction&gt;(\n    () =&gt; console.log('default ooops')\n);\n</code></pre>\n<p><code>'default ooops'</code> is logged immediately when <code>React.useState</code> is called and the return value (in this case <code>undefined</code>) is stored.</p>\n<p>This can be <strong>avoided by providing a higher order function returning your function you want to store</strong>:</p>\n<pre><code>const [ooops, setOoops] = React.useState&lt;OoopsFunction&gt;(\n    () =&gt; () =&gt; console.log('default ooops')\n);\n</code></pre>\n<p>This way the outer function will be definitely executed when first running <code>React.useState</code> and its return value will be stored. <strong>Since this return value is now your required function, this function will be stored</strong>.</p>\n<h2>Notes about the state setter function</h2>\n<p>The state setter function's (here <code>setOoops</code>) signature is given as</p>\n<pre><code>Dispatch&lt;SetStateAction&lt;S&gt;&gt;\n</code></pre>\n<p>with</p>\n<pre><code>type Dispatch&lt;A&gt; = (value: A) =&gt; void;\ntype SetStateAction&lt;S&gt; = S | ((prevState: S) =&gt; S);\n</code></pre>\n<p>Like in <code>React.useState</code> there is also the possibility to update state with a value or a function returning the value. <strong>So in order to update state the higher order function from above has to be used as well</strong>.</p>\n"}], "owner": {"reputation": 385, "user_id": 6732135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EXBRf.png?s=128&g=1", "display_name": "eczn", "link": "https://stackoverflow.com/users/6732135/eczn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13757, "favorite_count": 7, "accepted_answer_id": 55621325, "answer_count": 2, "score": 34, "last_activity_date": 1616325623, "creation_date": 1554929834, "question_id": 55621212, "link": "https://stackoverflow.com/questions/55621212/is-it-possible-to-react-usestate-in-react", "title": "is it possible to React.useState(() =&gt; {}) in React?", "body": "<p>is it possible to use a <code>function</code> as my React Component's state ?</p>\n\n<p>example code here:</p>\n\n<pre><code>// typescript \ntype OoopsFunction = () =&gt; void;\n\nexport function App() {\n    const [ooops, setOoops] = React.useState&lt;OoopsFunction&gt;(\n        () =&gt; console.log('default ooops')\n    );\n\n    return (\n        &lt;div&gt;\n            &lt;div onClick={ ooops }&gt;\n                Show Ooops\n            &lt;/div&gt;\n\n            &lt;div onClick={() =&gt; {\n                setOoops(() =&gt; console.log('other ooops'))\n            }}&gt;\n                change oops\n            &lt;/div&gt;\n        &lt;/div&gt;\n    )\n}\n</code></pre>\n\n<p>but it doesn't works ... the <code>defaultOoops</code> will be invoked at very beginning, and when clicking <code>change oops</code>, the <code>otrher ooops</code> will be logged to console immediately not logging after clicking <code>Show Ooops</code> again.</p>\n\n<p>why ?</p>\n\n<p>is it possible for me to use a function as my component's state ? </p>\n\n<p>or else React has its special ways to process such <code>the function state</code> ? </p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 1037, "user_id": 7658042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71a003e0fdec71b6f784eccdfbc2e457?s=128&d=identicon&r=PG&f=1", "display_name": "Pavlo", "link": "https://stackoverflow.com/users/7658042/pavlo"}, "edited": false, "score": 0, "creation_date": 1554930774, "post_id": 55620597, "comment_id": 97935751, "body": "Looking at compiler options, it seems like you can create a rootDir, where you specify each subset, in that subset only imports are allowed similar to <a href=\"https://medium.com/@balramchavan/smarter-way-to-organize-import-statements-using-index-ts-file-s-in-angular-c685e9d645b7\" rel=\"nofollow noreferrer\">medium.com/@balramchavan/&hellip;</a>, then in your outdir, you would get a set of ts files, which would get the preferred result"}], "answers": [{"tags": [], "owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "is_accepted": true, "score": 1, "last_activity_date": 1554930732, "creation_date": 1554930732, "answer_id": 55621398, "question_id": 55620597, "link": "https://stackoverflow.com/questions/55620597/how-to-compile-sets-of-ts-files-ito-a-single-js/55621398#55621398", "title": "How to compile sets of .ts files ito a single .js", "body": "<p>There is the <code>outFile</code> argument which is mentioned by the question you referenced but, as you state, it will compile everything into one file.  You could create a second <code>tsconfig.json</code> file (named <code>tsconfig.subset.json</code> or something) which uses the <code>includes/excludes</code> options to specify only the files you want but if any of the included files references any of the excluded files you will get an exception (e.g. the specific files must be self contained).</p>\n\n<p>If you have a single file which you can use as an entry point that references only the subset of files you want bundled up you could use <code>rollup</code> or <code>webpack</code>.</p>\n\n<p>Otherwise, if you just want to specify some specific collection of files that aren't really self contained I do not know any tools that do that.</p>\n"}], "owner": {"reputation": 54181, "user_id": 9382, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/bc7b9ac824e43ce9d62bf7dfb37b6393?s=128&d=identicon&r=PG", "display_name": "AngryHacker", "link": "https://stackoverflow.com/users/9382/angryhacker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 55621398, "answer_count": 1, "score": 0, "last_activity_date": 1554930732, "creation_date": 1554927015, "question_id": 55620597, "link": "https://stackoverflow.com/questions/55620597/how-to-compile-sets-of-ts-files-ito-a-single-js", "title": "How to compile sets of .ts files ito a single .js", "body": "<p>I want to compile a subset of my .ts files into a single .js file.  There is a <a href=\"https://stackoverflow.com/questions/34474651/typescript-compile-to-single-file\">question</a> that addresses how to compile everything into a single .js file, but I just need a subset. </p>\n\n<p>I've looked around tsconfig.json, but didn't see anything obvious.  Is there a way to do, preferably from the IDE (Visual Studio).</p>\n"}, {"tags": ["reactjs", "typescript", "material-ui", "yarnpkg", "lerna"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 8492624, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SQn1Tm5Rars/AAAAAAAAAAI/AAAAAAAAAEY/AmDvWhbJl_k/photo.jpg?sz=128", "display_name": "Joseph Schafer", "link": "https://stackoverflow.com/users/8492624/joseph-schafer"}, "edited": false, "score": 0, "creation_date": 1554926787, "post_id": 55620359, "comment_id": 97934036, "body": "Hi Basarat, thanks for you&#39;re response although this doesn&#39;t seem to take care of the issue, the same error message remains."}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 33, "user_id": 8492624, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SQn1Tm5Rars/AAAAAAAAAAI/AAAAAAAAAEY/AmDvWhbJl_k/photo.jpg?sz=128", "display_name": "Joseph Schafer", "link": "https://stackoverflow.com/users/8492624/joseph-schafer"}, "edited": false, "score": 0, "creation_date": 1554927725, "post_id": 55620359, "comment_id": 97934464, "body": "Try <code>Button</code> instead of <code>withStyles(styles)(Button)</code>. Does the issue persist?"}, {"owner": {"reputation": 33, "user_id": 8492624, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SQn1Tm5Rars/AAAAAAAAAAI/AAAAAAAAAEY/AmDvWhbJl_k/photo.jpg?sz=128", "display_name": "Joseph Schafer", "link": "https://stackoverflow.com/users/8492624/joseph-schafer"}, "edited": false, "score": 0, "creation_date": 1554933935, "post_id": 55620359, "comment_id": 97936871, "body": "Hi Basarat, like I mentioned, this is what I tried, and it still doesn&#39;t compile."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1554926009, "creation_date": 1554926009, "answer_id": 55620359, "question_id": 55619901, "link": "https://stackoverflow.com/questions/55619901/ts2604-when-importing-material-ui-button-from-one-package-to-another/55620359#55620359", "title": "TS2604: When importing &#39;material-ui&#39; button from one package to another", "body": "<p>You are exporting a button component you have created: </p>\n\n<pre><code>const Button\n</code></pre>\n\n<p>The export is a default export: </p>\n\n<pre><code>export default withStyles(styles)(Button);\n</code></pre>\n\n<p>Whatever is the <em>result of</em>  <code>withStyles</code> call, is <em>not</em> something that can be used as a JSX element. </p>\n"}], "owner": {"reputation": 33, "user_id": 8492624, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SQn1Tm5Rars/AAAAAAAAAAI/AAAAAAAAAEY/AmDvWhbJl_k/photo.jpg?sz=128", "display_name": "Joseph Schafer", "link": "https://stackoverflow.com/users/8492624/joseph-schafer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 360, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555012159, "creation_date": 1554924126, "last_edit_date": 1555012159, "question_id": 55619901, "link": "https://stackoverflow.com/questions/55619901/ts2604-when-importing-material-ui-button-from-one-package-to-another", "title": "TS2604: When importing &#39;material-ui&#39; button from one package to another", "body": "<p>My team is implementing a new front-end for our application and has decided to switch from standard react to typescript. I am fairly new at developing and have been stuck on this issue for several days. Essentially we have two repositories, one that holds our components, and the other that ties them together for a front-end application. We connect these via lerna/yarn link. </p>\n\n<p>The problem I face lies when importing our version of the material-ui button component from the other library and also applies to several other components. When doing so, it fails to compile.</p>\n\n<p>The code in the component library compiles correctly. However we receive this error only when importing it to the other application.</p>\n\n<p>I have tried several things to try to solve this issue, first modifying the Button.d.ts file within our dist/ folder within the component changing the type of ReactComponent exported, changing interface to class, etc. Second, modifying the tsconfig.json to include adjusting multiple options available via the documents, changing the \"types\" path, etc. </p>\n\n<p><strong>Here are what I believe to be the relevant files within the component library:</strong></p>\n\n<p><strong>Button.d.ts:</strong></p>\n\n<pre><code>import React from 'react';\nimport { ButtonProps as MuiButtonProps } from '@material-ui/core/Button';\nexport interface ButtonProps extends MuiButtonProps {\n    defaultMargin?: boolean;\n    classes: {\n        root: string;\n    };\n}\ndeclare const _default: React.ComponentType&lt;Pick&lt;React.PropsWithChildren&lt;ButtonProps&gt;, \"disabled\" || \"mini\" &amp; import(\"@material-ui/core/styles\").StyledComponentProps&lt;\"root\"&gt;&gt;;\nexport default _default;\n</code></pre>\n\n<p><strong>Button.tsx:</strong></p>\n\n<pre><code>import React, { Fragment } from 'react';\nimport clsx from 'clsx';\nimport { withStyles, createStyles } from '@material-ui/core/styles';\nimport { default as MuiButton, ButtonProps as MuiButtonProps } from '@material-ui/core/Button';\n\nexport interface ButtonProps extends MuiButtonProps {\n  defaultMargin?: boolean,\n  classes: {\n    root: string\n  }\n};\n\nconst styles = () =&gt; createStyles({\n  root: {\n    margin: '1.5em'\n  }\n});\n\nconst Button: React.SFC&lt;ButtonProps&gt; = (props: ButtonProps) =&gt; {\n  return (\n    &lt;Fragment&gt;\n      &lt;MuiButton\n        className={clsx({\n          [props.classes!.root]: props.classes!.root\n        })} {...props}&gt;\n      &lt;/MuiButton&gt;\n    &lt;/Fragment&gt;\n  )\n};\n\nButton.defaultProps = {\n  variant: 'contained',\n  color: 'primary',\n  size: 'medium',\n  disabled: false\n};\n\nexport default withStyles(styles)(Button);\n</code></pre>\n\n<p><strong>tsconfig.json:</strong></p>\n\n<pre><code>{\n  \"extends\": \"../../tsconfig.json\",\n  \"compilerOptions\": {\n    \"baseUrl\": \".\",\n    \"paths\": { \"*\": [\"types/*\"] },\n    \"outDir\": \"types\"\n  },\n  \"declaration\": true,\n  \"include\": [\"src\", \"types\"],\n  \"types\": \"dist/core/src/index.d.ts\",\n  \"main\": \"dist/index.js\",\n  \"files\": [\n    \"dist/core/src/index.d.ts\"\n  ]\n}\n</code></pre>\n\n<p><strong>And here within the main application library</strong></p>\n\n<p><strong>App.tsx:</strong></p>\n\n<pre><code>import React, { Component } from 'react';\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport { Button } from '@our-company/our-component-library-core'\nimport { Grid } from '@our-company/our-component-library-layout'\nimport { get } from 'lodash'\nimport './App.css';\nimport authenticationActions from '../reducers/authentication/actions'\nimport userActions from '../reducers/user/actions'\ntype Props = {\n  authDispatch: {\n    login: (args: any) =&gt; any,\n    logout: () =&gt; any\n  },\n  userDispatch: {\n    fetchUser: () =&gt; any\n  },\n  user: object\n}\n\ntype State = {\n  count: number;\n}\nclass App extends Component&lt;Props, State&gt; {\n  componentDidMount () {\n    this.props.authDispatch.login({email: 'email@email.com', password: '123456789'})\n    this.props.userDispatch.fetchUser()\n    this.props.authDispatch.logout()\n  }\n  render() {\n    const { user } = this.props\n\n    return (\n      &lt;div className=\"App\"&gt;\n        &lt;header className=\"App-header\"&gt;\n        &lt;Grid container&gt;\n          &lt;Button variant=\"contained\" color=\"primary\"&gt;HELLO &lt;/Button&gt;\n          &lt;h1&gt;{ get(user, ['user', 'attributes', 'email']) }&lt;/h1&gt;\n        &lt;/Grid&gt;\n\n        &lt;/header&gt;\n\n      &lt;/div&gt;\n    );\n  }\n}\n\nfunction mapStateToProps (state: any) {\n  const {\n    user\n  } = state\n\n  return {\n    user\n  }\n}\nfunction mapDispatchToProps (dispatch: any) {\n  return {\n    userDispatch: bindActionCreators(userActions, dispatch),\n    authDispatch: bindActionCreators(authenticationActions, dispatch)\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\n</code></pre>\n\n<p>I expect the code to compile, however it fails with a </p>\n\n<pre><code>ERROR in [at-loader] ./src/app/App.tsx:37:12 \n    TS2604: JSX element type 'Button' does not have any construct or call signatures.\n</code></pre>\n"}, {"tags": ["angular", "typescript", "promise", "observable", "angular7"], "answers": [{"tags": [], "owner": {"reputation": 590, "user_id": 3842746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZhbB7.jpg?s=128&g=1", "display_name": "Arron McCrory", "link": "https://stackoverflow.com/users/3842746/arron-mccrory"}, "is_accepted": true, "score": 1, "last_activity_date": 1554925124, "creation_date": 1554925124, "answer_id": 55620138, "question_id": 55619759, "link": "https://stackoverflow.com/questions/55619759/how-to-show-initially-a-loading-screen-and-hide-when-e-g-3-get-requests/55620138#55620138", "title": "How to show ( initially ) a loading screen and hide when (e.g. 3 ) get requests are resolved in Angular 2+ / 7 Typescript", "body": "<p>I had this exact same issue before, the best way to solve this in my opinion is by using an interceptor.</p>\n\n<p>Here is a great article explaining how to get this to work properly, and it works great with 1 or more http calls. It includes code you can copy and paste so you can get your app running quickly.</p>\n\n<p><a href=\"https://nezhar.com/blog/create-a-loading-screen-for-angular-apps/\" rel=\"nofollow noreferrer\">https://nezhar.com/blog/create-a-loading-screen-for-angular-apps/</a></p>\n"}, {"tags": [], "owner": {"reputation": 453, "user_id": 9695503, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cxvl92RjcGA/AAAAAAAAAAI/AAAAAAAABMU/vl3yyzhZ5Sw/photo.jpg?sz=128", "display_name": "Shofol", "link": "https://stackoverflow.com/users/9695503/shofol"}, "is_accepted": false, "score": 1, "last_activity_date": 1554926157, "creation_date": 1554926157, "answer_id": 55620387, "question_id": 55619759, "link": "https://stackoverflow.com/questions/55619759/how-to-show-initially-a-loading-screen-and-hide-when-e-g-3-get-requests/55620387#55620387", "title": "How to show ( initially ) a loading screen and hide when (e.g. 3 ) get requests are resolved in Angular 2+ / 7 Typescript", "body": "<p>You can do this by implementing an interceptor. See this stackblitz here: <a href=\"https://stackblitz.com/github/melcor76/interceptors?file=src%2Fapp%2Finterceptors%2Floader.interceptor.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/github/melcor76/interceptors?file=src%2Fapp%2Finterceptors%2Floader.interceptor.ts</a></p>\n\n<p>This is from this article- <a href=\"https://blog.angularindepth.com/top-10-ways-to-use-interceptors-in-angular-db450f8a62d6\" rel=\"nofollow noreferrer\">https://blog.angularindepth.com/top-10-ways-to-use-interceptors-in-angular-db450f8a62d6</a></p>\n"}], "owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 55620138, "answer_count": 2, "score": -1, "last_activity_date": 1554926157, "creation_date": 1554923418, "last_edit_date": 1554924340, "question_id": 55619759, "link": "https://stackoverflow.com/questions/55619759/how-to-show-initially-a-loading-screen-and-hide-when-e-g-3-get-requests", "title": "How to show ( initially ) a loading screen and hide when (e.g. 3 ) get requests are resolved in Angular 2+ / 7 Typescript", "body": "<p>I am new to Angular 7, I am trying to show a loading screen at load of app(root) component and then I have 2 components Get1 and Get2 which call 2 Get http requests respectively. How do I hide the loading bar when both Get requests are completed. In AngularJS terms we had a promise.all to know when all requests were done like this <a href=\"http://jsfiddle.net/danielzen/t7g7djzk/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/danielzen/t7g7djzk/</a>\nHow or what do in Angular using Observables</p>\n\n<p>I can do this   </p>\n\n<pre><code>this.navbarService.getFiscalDateList(this.resultsFilterRootObject)\n  .subscribe((data: FiscalWeekListRootObject) =&gt; {\n\n      this.fiscalWeekListRootObject = {...data};\n\n      this.currentWeek = this.fiscalWeekListRootObject.data.vehicleFiscalDate.vehicleFiscalWeek;\n      //hide loading screen since there is only one GET what to do for multiple GET requests \n\n    }\n\n\n  );\n</code></pre>\n\n<p>Expected: Hide Loading Screen when 2 Observable are resolved in Angular</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "owner": {"reputation": 906, "user_id": 1427457, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3235fe9bda904493ecb65c133cdcbea4?s=128&d=identicon&r=PG", "display_name": "Smooth", "link": "https://stackoverflow.com/users/1427457/smooth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 323, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554923415, "creation_date": 1554923415, "question_id": 55619756, "link": "https://stackoverflow.com/questions/55619756/angular-7-calling-a-function-inside-of-a-sibling-component-after-sending-an-ou", "title": "Angular 7 - Calling a function inside of a sibling component after sending an Output() from the sibling", "body": "<p>I have three components. A parent component (dashboard.component.ts) which houses two siblings (poll-form.component.ts and poll.component.ts). One of the siblings, poll-component sends an Output() back to the parent called (editEvent)=\"editPoll($event)\". When this Output() is sent I'd like that to trigger a function inside of the other sibling poll-form.component instead of triggering the function in the parent dashboard.component. What's the correct way of doing this?</p>\n\n<p>My current implementation \"sort of\" works. It fires the function in the parent and then the parent imports the component and calls the function in the sibling component. The issue, however, is that sibling component skips the ngOnInit() and doesn't have access to the component variables needed within the function. </p>\n\n<p>Ultimately what I'm trying to do is break out the form into its own component but the act of opening the form is triggered by a sibling component.</p>\n\n<p>dashboard.component.html</p>\n\n<pre><code>&lt;div class=\"page\"&gt;\n  &lt;div style=\"margin-bottom: 20px; margin-right: 20px; text-align: left;\"&gt;\n    &lt;button type=\"button\" (click)=\"showCreateModal()\" pButton icon=\"pi pi-check\" label=\"Create Poll\"&gt;&lt;/button&gt;\n  &lt;/div&gt;\n  &lt;div *ngFor=\"let pollId of pollIds\" style=\"display: inline-block;\"&gt;\n    &lt;app-poll [pollKey]=\"pollId\" (editEvent)=\"editPoll($event)\" (deleteEvent)=\"deletePoll($event)\"&gt;&lt;/app-poll&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div *ngIf=\"displayCreateModal\"&gt;\n  &lt;app-poll-form [type]=\"'create'\" (closeEvent)=\"closeModal($event)\"&gt;&lt;/app-poll-form&gt;\n&lt;/div&gt;\n\n&lt;div *ngIf=\"displayEditModal\"&gt;\n  &lt;app-poll-form [type]=\"'edit'\" (closeEvent)=\"closeModal($event)\"&gt;&lt;/app-poll-form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>poll.component.ts</p>\n\n<pre><code>import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport * as Chart from 'chart.js';\nimport { Observable } from 'rxjs';\nimport { FirebaseService } from '../services/firebase.service';\nimport { first } from 'rxjs/operators';\nimport { CardModule } from 'primeng/card';\nimport { AngularFireAuth } from '@angular/fire/auth';\n\n@Component({\n  selector: 'app-poll',\n  templateUrl: './poll.component.html',\n  styleUrls: ['./poll.component.scss']\n})\nexport class PollComponent implements OnInit {\n  poll:any;\n\n  @Input()\n  pollKey: string;\n\n  @Output()\n  editEvent = new EventEmitter&lt;string&gt;();\n\n\n  constructor(private firebaseService: FirebaseService, private afAuth: AngularFireAuth) { }\n\n  ngOnInit() {\n    this.firebaseService.getPoll(this.pollKey).subscribe(pollDoc =&gt; {\n      if (!pollDoc.payload.exists) {\n        return;\n      }\n      const pollData:any = pollDoc.payload.data();\n      this.poll = {\n        id: pollDoc.payload.id,\n        helperText: pollData.helperText,\n        pollType: pollData.pollType,\n        scoringType: pollData.scoringType,\n        user: pollData.user\n      };\n  }\n\n  edit() {\n    this.editEvent.emit(this.poll);\n  }\n\n}\n</code></pre>\n\n<p>poll-form.component.ts</p>\n\n<pre><code>import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { DialogModule } from 'primeng/dialog';\nimport { DropdownModule } from 'primeng/dropdown';\nimport { AutoCompleteModule } from 'primeng/autocomplete';\nimport { SelectButtonModule } from 'primeng/selectbutton';\n\nimport { FirebaseService } from '../services/firebase.service';\n\nimport nflPlayers from '../../assets/data/players-nfl.json';\nimport nflPollTypes from '../../assets/types/poll-types-nfl.json';\nimport nflScoringTypes from '../../assets/types/scoring-types-nfl.json';\n\n\n@Component({\n  selector: 'app-poll-form',\n  templateUrl: './poll-form.component.html',\n  styleUrls: ['./poll-form.component.scss']\n})\nexport class PollFormComponent implements OnInit {\n  title:string;\n  btnLabel:string;\n  selectedScoringType:any;\n  choices:any;\n  selectedPollType:any;\n  selectedPollKey:any;\n  displayEditModal:boolean = false;\n  displayCreateModal:boolean = false;\n  filteredPlayersMultiple: any[];\n  displayModal:boolean = true;\n\n  nflPlayers:any = nflPlayers.Players;\n  nflPollTypes:any = nflPollTypes.types;\n  nflScoringTypes:any = nflScoringTypes.types;\n  activePlayers:any;\n\n  @Input()\n  type: string;\n\n  @Output()\n  closeEvent = new EventEmitter&lt;string&gt;();\n\n  constructor(\n    private firebaseService: FirebaseService\n  ) { }\n\n  ngOnInit() {\n    this.initFormDefaults();\n  }\n\n  initFormDefaults() {\n    this.choices = [[],[]];\n    this.selectedScoringType = this.nflScoringTypes[0];\n    this.selectedPollType = this.nflPollTypes[0];\n\n    if (this.type == \"create\") {\n      this.btnLabel = \"Create\";\n      this.title = \"Create Poll\";\n    } else {\n      this.btnLabel = \"Update\";\n      this.title = \"Edit Poll\";\n    }\n\n    // Filter out active NFL players\n    this.activePlayers = this.nflPlayers.filter(player =&gt; player.active == \"1\");\n  }\n\n  editPoll(poll) {\n    this.type = \"edit\"\n    this.activePlayers = this.nflPlayers.filter(player =&gt; player.active == \"1\");\n\n    this.selectedPollKey = poll.id;\n    // Set scoring type\n    this.selectedScoringType = this.nflScoringTypes.find((type) =&gt; {\n      return type.code == poll.scoringType\n    });\n    // Set poll type\n    this.selectedPollType = this.nflPollTypes.find((type) =&gt; {\n      return type.code == poll.pollType\n    });\n    // Populate edit modal with properly formatted Player objects\n    for (let i=0; i &lt; poll.choices.length; i++) {\n      this.choices[i] = poll.choices[i].players.map((choicePlayer:any) =&gt; {\n        return this.activePlayers.find(player =&gt; player.playerId == choicePlayer.id);\n      });\n    }\n  }\n\n}\n</code></pre>\n\n<p>dashboard.component.ts</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { first } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\n\nimport { PollFormComponent } from '../poll-form/poll-form.component';\n\n\n@Component({\n  providers: [PollFormComponent],\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.scss']\n})\nexport class DashboardComponent implements OnInit {\n  displayEditModal:boolean = false;\n\n  constructor(\n\n    private pollFormComponent: PollFormComponent\n  ) { }\n\n  ngOnInit() {\n  }\n\n  editPoll(poll) {\n    this.displayEditModal = true;\n    this.pollFormComponent.editPoll(poll);\n  }\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "owner": {"reputation": 21, "user_id": 11338116, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RUjlmYkWANI/AAAAAAAAAAI/AAAAAAAAAa8/aaRizFvs738/photo.jpg?sz=128", "display_name": "luis vargas", "link": "https://stackoverflow.com/users/11338116/luis-vargas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1554922629, "creation_date": 1554922629, "question_id": 55619562, "link": "https://stackoverflow.com/questions/55619562/uncaught-typeerror-cannot-read-property-prototype-of-undefined-bitcoinjs-lib", "title": "Uncaught TypeError: Cannot read property &#39;prototype&#39; of undefined bitcoinjs-lib", "body": "<h1>Summary</h1>\n\n<p>Angular application builds successfully using <code>ng serve -o</code>\nbut I get errors in the chrome console.</p>\n\n<p>I don't even have to call the method, it breaks before anything is called.</p>\n\n<p>It breaks in the <code>makeTransaction()</code> function.</p>\n\n<h1>Error</h1>\n\n<pre><code>Uncaught TypeError: Cannot read property 'prototype' of undefined\n    at inherits (inherits_browser.js:5)\n    at Object.../../../../../../node_modules/hash-base/index.js (index.js:23)\n    at __webpack_require__ (bootstrap:78)\n    at Object.../../../../../../node_modules/md5.js/index.js (index.js:3)\n    at __webpack_require__ (bootstrap:78)\n    at Object.../../../../../../node_modules/create-hash/browser.js (browser.js:3)\n    at __webpack_require__ (bootstrap:78)\n    at Object.../../../../../../node_modules/bitcoinjs-lib/node_modules/bip32/src/crypto.js (crypto.js:3)\n    at __webpack_require__ (bootstrap:78)\n    at Object.../../../../../../node_modules/bitcoinjs-lib/node_modules/bip32/src/bip32.js (bip32.js:3)\n</code></pre>\n\n<p>I've tried deleting the node-modules folder and running >npm install,\nI've tried importing the pakage in the app.module.ts file but I get another error. </p>\n\n<h2>data.service.ts</h2>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport * as bitcoin from 'bitcoinjs-lib';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DataService {\n  constructor(private http: HttpClient, private network: any) {\n    network = bitcoin.networks.testnet;\n  }\n\n  // Make transaction\n  makeTransaction() {\n    // Network specification\n    const test = this.network;\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic4", "navigator"], "answers": [{"comments": [{"owner": {"reputation": 590, "user_id": 3842746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZhbB7.jpg?s=128&g=1", "display_name": "Arron McCrory", "link": "https://stackoverflow.com/users/3842746/arron-mccrory"}, "edited": false, "score": 0, "creation_date": 1554924176, "post_id": 55619872, "comment_id": 97932902, "body": "camera does not exist on Navigator, check out the docs <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Navigator\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/Navigator</a>"}, {"owner": {"reputation": 328, "user_id": 8266703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nFgbTcA_dpY/AAAAAAAAAAI/AAAAAAAAABI/I9G9TQtGPvU/photo.jpg?sz=128", "display_name": "Mendi Sterenfeld", "link": "https://stackoverflow.com/users/8266703/mendi-sterenfeld"}, "edited": false, "score": 0, "creation_date": 1554924242, "post_id": 55619872, "comment_id": 97932922, "body": "if i do as you say i get the following error: <code>error TS2554: Expected 0-1 arguments, but got 3</code>. and i want to say. the camera does work when i run it on my phone but i want to get rid of the error"}, {"owner": {"reputation": 3829, "user_id": 8182248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PD2aF.jpg?s=128&g=1", "display_name": "Kishan Bharda", "link": "https://stackoverflow.com/users/8182248/kishan-bharda"}, "edited": false, "score": 0, "creation_date": 1554924442, "post_id": 55619872, "comment_id": 97933008, "body": "How you called the method? You have to call method like <code>this.camera.getPicture({option:yourOption}).then((result) =&gt; {&#47;&#47;here is your result}}.catch((err) =&gt; {&#47;&#47;error});</code>"}, {"owner": {"reputation": 3829, "user_id": 8182248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PD2aF.jpg?s=128&g=1", "display_name": "Kishan Bharda", "link": "https://stackoverflow.com/users/8182248/kishan-bharda"}, "edited": false, "score": 0, "creation_date": 1554924588, "post_id": 55619872, "comment_id": 97933059, "body": "You have passes success and error callback as method, so its not working. Handle success and error callback using <code>then</code> and <code>catch</code>."}], "tags": [], "owner": {"reputation": 3829, "user_id": 8182248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PD2aF.jpg?s=128&g=1", "display_name": "Kishan Bharda", "link": "https://stackoverflow.com/users/8182248/kishan-bharda"}, "is_accepted": true, "score": 0, "last_activity_date": 1554924027, "creation_date": 1554924027, "answer_id": 55619872, "question_id": 55619552, "link": "https://stackoverflow.com/questions/55619552/error-ts2339-property-camera-does-not-exist-on-type-navigator/55619872#55619872", "title": "error TS2339: Property &#39;camera&#39; does not exist on type &#39;Navigator&#39;", "body": "<p>But, why are you using <code>navigator.camera.getPicture()</code>?</p>\n\n<p>You have to use <code>this</code> keyword to access camera object and then you can call <code>getPicture()</code> method like <code>this.camera.getPicture()</code>.</p>\n"}], "owner": {"reputation": 328, "user_id": 8266703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nFgbTcA_dpY/AAAAAAAAAAI/AAAAAAAAABI/I9G9TQtGPvU/photo.jpg?sz=128", "display_name": "Mendi Sterenfeld", "link": "https://stackoverflow.com/users/8266703/mendi-sterenfeld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1620, "favorite_count": 0, "accepted_answer_id": 55619872, "answer_count": 1, "score": 0, "last_activity_date": 1554924027, "creation_date": 1554922592, "question_id": 55619552, "link": "https://stackoverflow.com/questions/55619552/error-ts2339-property-camera-does-not-exist-on-type-navigator", "title": "error TS2339: Property &#39;camera&#39; does not exist on type &#39;Navigator&#39;", "body": "<p>I am trying to build an Ionic app that takes a picture.\nbut when i'm running the program i get 'error TS2339: Property 'camera' does not exist on type 'Navigator'</p>\n\n<p>i installed <code>ionic cordova plugin add cordova-plugin-camera</code>\nalso <code>npm install @ionic-native/camera</code></p>\n\n<p>this is my app.module.ts:</p>\n\n<pre><code>import { NgModule } from \"@angular/core\";\nimport { BrowserModule } from \"@angular/platform-browser\";\nimport { RouteReuseStrategy } from \"@angular/router\";\n\nimport { IonicModule, IonicRouteStrategy } from \"@ionic/angular\";\nimport { SplashScreen } from \"@ionic-native/splash-screen/ngx\";\nimport { StatusBar } from \"@ionic-native/status-bar/ngx\";\n\nimport { AppComponent } from \"./app.component\";\nimport { AppRoutingModule } from \"./app-routing.module\";\nimport { Camera } from \"@ionic-native/camera/ngx\"; \n\n@NgModule({\n  declarations: [AppComponent],\n  entryComponents: [],\n  imports: [BrowserModule, IonicModule.forRoot(), AppRoutingModule],\n  providers: [\n    Camera,\n    StatusBar,\n    SplashScreen,\n    { provide: RouteReuseStrategy, useClass: IonicRouteStrategy }\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}\n\n</code></pre>\n\n<p>this is my home.page.ts</p>\n\n<pre><code>import { Component, OnInit } from \"@angular/core\";\nimport { Camera, CameraOptions } from \"@ionic-native/camera/ngx\";\n\n@Component({\n  selector: \"app-home\",\n  templateUrl: \"home.page.html\",\n  styleUrls: [\"home.page.scss\"]\n})\nexport class HomePage implements OnInit {\n\n  constructor(private camera: Camera) {}\n\n  takePicture() {\n    navigator.camera.getPicture(onSuccess, onFail, {\n      quality: 50,\n      destinationType: this.camera.DestinationType.FILE_URI\n    });\n\n    function onSuccess(imageURI) {\n      var image = document.getElementById(\"myImage\");\n      this.image.src = imageURI;\n    }\n\n    function onFail(message) {\n      alert(\"Failed because: \" + message);\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "material-ui", "styled-components"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 10444979, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hcJXckg2qL8/AAAAAAAAAAI/AAAAAAAARBc/pON2B_YPXiY/photo.jpg?sz=128", "display_name": "Matthieu Dazy", "link": "https://stackoverflow.com/users/10444979/matthieu-dazy"}, "is_accepted": false, "score": 3, "last_activity_date": 1561364519, "creation_date": 1561364519, "answer_id": 56732536, "question_id": 55619423, "link": "https://stackoverflow.com/questions/55619423/using-typescript-with-styled-components-and-material-ui/56732536#56732536", "title": "Using Typescript with Styled Components and Material UI", "body": "<p>This should work fine with MUI >= 4.*</p>\n\n<p>For earlier versions, from <a href=\"https://www.tortilla.academy/Urigo/WhatsApp-Clone-Tutorial/master/next/step/2\" rel=\"nofollow noreferrer\">this tutorial</a>, try enforcing the type of <code>StyledButton</code>:</p>\n\n<pre><code>const StyledButton = styled(Button)`\n  background: red;\n  color: white;\n` as typeof(Button);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1422, "user_id": 1020276, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/f7bUQ.jpg?s=128&g=1", "display_name": "Nathron", "link": "https://stackoverflow.com/users/1020276/nathron"}, "is_accepted": false, "score": 0, "last_activity_date": 1589681599, "creation_date": 1589681599, "answer_id": 61846136, "question_id": 55619423, "link": "https://stackoverflow.com/questions/55619423/using-typescript-with-styled-components-and-material-ui/61846136#61846136", "title": "Using Typescript with Styled Components and Material UI", "body": "<p>I accidentally solved this by installing <code>@types/styled-components</code> / <code>styled-components</code>, which I required anyways to get styled/theme/TS all playing nicely together:</p>\n\n<pre><code>import React from \"react\";\nimport styled from \"styled-components\";\nimport { Theme, useTheme } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\n\nconst StyledCustomButton: React.FC&lt;{\n  theme: Theme;\n}&gt; = styled(({ ...props }) =&gt; &lt;Button {...props}&gt;Test&lt;/Button&gt;)`\n  &amp;&amp; {\n    padding-bottom: ${(props) =&gt; props.theme.spacing(2)}px;\n  }\n`;\n\nconst CustomButton: React.FC = () =&gt; {\n  const theme: Theme = useTheme();\n  return &lt;StyledCustomButton theme={theme} /&gt;;\n};\n\nexport default CustomButton;\n</code></pre>\n"}], "owner": {"reputation": 505, "user_id": 10741122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/867acac5be64a16f263f996979ba30ff?s=128&d=identicon&r=PG&f=1", "display_name": "user10741122", "link": "https://stackoverflow.com/users/10741122/user10741122"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1264, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1589681599, "creation_date": 1554922025, "question_id": 55619423, "link": "https://stackoverflow.com/questions/55619423/using-typescript-with-styled-components-and-material-ui", "title": "Using Typescript with Styled Components and Material UI", "body": "<p>Using Typescript with MUI+Styled-Components and you have to directly pass props to MUI elements due to type errors\u2026.</p>\n\n<pre><code>const Index = () =&gt; {\n  return (\n      &lt;StyledButton\n        variant=\"contained\"\n      &gt;\n        Hello World\n      &lt;/StyledButton&gt;\n   )}\n\n\nconst StyledButton = styled(Button)`\n  background: red;\n  color: white;\n`;\n</code></pre>\n\n<p>However, this will error the following:</p>\n\n<p><em>Type '{ children: string; variant: \"contained\"; }' is not assignable to type '(IntrinsicAttributes &amp; Pick>) | PropsWithChildren, \"form\" | \"style\" | \"title\" | ... 284 more ... | \"variant\"> &amp; Partial&lt;...>, \"form\" | ... 286 more ... | \"variant\"> &amp; { ...; } &amp; { ...; }) | (IntrinsicAttributes &amp; ... 3 more ... &amp; { ...; })\u2019</em></p>\n\n<p>When you directly pass in props such as below, then this error goes away. Even using 0 props and 0 children on the Styled MUI element, it gives the error. </p>\n\n<pre><code>const StyledButton = styled(props =&gt; &lt;Button {...props} /&gt;)`\n  background: red;\n  color: white;\n`;\n</code></pre>\n"}, {"tags": ["c#", "jquery", "asp.net-mvc", "typescript", "systemjs"], "comments": [{"owner": {"reputation": 408, "user_id": 6165803, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/YmmD1.jpg?s=128&g=1", "display_name": "Coding Freak", "link": "https://stackoverflow.com/users/6165803/coding-freak"}, "edited": false, "score": 0, "creation_date": 1554966124, "post_id": 55619119, "comment_id": 97944913, "body": "Are you sure javascript is loaded before the call for your JS file?"}], "answers": [{"tags": [], "owner": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "is_accepted": true, "score": 1, "last_activity_date": 1554967601, "creation_date": 1554967601, "answer_id": 55626891, "question_id": 55619119, "link": "https://stackoverflow.com/questions/55619119/how-to-call-function-through-onclick-when-js-is-loaded-through-system-js/55626891#55626891", "title": "How to call function through onclick when JS is loaded through System.js", "body": "<p><code>&lt;div onclick=\"load('@item.Id')\"&gt;&lt;/div&gt;</code> This old-school-pure-html way of binding event listener requires <code>load</code> to be a global scope function.</p>\n\n<p>System.js import your <code>main.js</code>, but it kinda scopes it up in a closure I guess. <code>load</code> is no longer accessible in global scope, thus the bug.</p>\n"}], "owner": {"reputation": 1996, "user_id": 1523851, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cedeada4c0d57aa39caca645e437ed93?s=128&d=identicon&r=PG", "display_name": "TrueEddie", "link": "https://stackoverflow.com/users/1523851/trueeddie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 55626891, "answer_count": 1, "score": 0, "last_activity_date": 1554967601, "creation_date": 1554920854, "last_edit_date": 1554965759, "question_id": 55619119, "link": "https://stackoverflow.com/questions/55619119/how-to-call-function-through-onclick-when-js-is-loaded-through-system-js", "title": "How to call function through onclick when JS is loaded through System.js", "body": "<p>I'm have an typescript file in my MVC project that has gotten quite large. I want to break it up use System.js to load the files.</p>\n\n<p>I have included the system.js reference within my _Layout.cshtml view.</p>\n\n<pre><code>&lt;script src=\"~/Scripts/system.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    $(document).ready(function ()\n    {\n        System.import(\"Scripts/main.js\");\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>My main.ts file has a function that loads an item.</p>\n\n<pre><code>function load(id: string): void\n{\n    // Stuff\n}\n</code></pre>\n\n<p>In my Index.cshtml view I have a div that calls the function when it's clicked.</p>\n\n<pre><code>&lt;div onclick=\"load('@item.Id')\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>But everytime I click on the div I get the following error in the console:</p>\n\n<pre><code>Uncaught ReferenceError: load is not defined at HTMLDivElement.onclick ((index):41)\n</code></pre>\n\n<p>Looking at the network traffic I can see that main.js is loaded by system.js. But for some reason the functions cannot be accessed via the HTML. Am I doing the something in the wrong spot? Or is there a specific way I need to setup my typescript file to call the function?</p>\n\n<p>Thanks for any help.</p>\n"}, {"tags": ["typescript", "typescript-typings"], "answers": [{"comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1554920909, "post_id": 55619124, "comment_id": 97931433, "body": "Documentation about <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#discriminated-unions\" rel=\"nofollow noreferrer\">discriminated unions</a> seems relevant here"}], "tags": [], "owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "is_accepted": false, "score": 2, "last_activity_date": 1554921124, "last_edit_date": 1554921124, "creation_date": 1554920860, "answer_id": 55619124, "question_id": 55619050, "link": "https://stackoverflow.com/questions/55619050/object-foo-has-two-props-bar-and-baz-how-to-infer-baz-type-by-bars-value/55619124#55619124", "title": "object foo has two props bar and baz , how to infer baz type by bar&#39;s value", "body": "<p>You could define a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#discriminated-unions\" rel=\"nofollow noreferrer\">discriminated union</a> of two types:</p>\n\n<pre><code>type OneType = {a: string};\ntype TwoType = { b: number };\n\ntype DefineItem = {\n    bar: 'one',\n    baz: OneType\n} | {\n    bar: 'two',\n    baz: TwoType\n};\n\nconst item1: DefineItem = {\n    bar: 'one',\n    baz: { a: 'hello' }\n}\n\nconst item2: DefineItem = {\n    bar: 'two',\n    baz: { b: 5 }\n}\n</code></pre>\n\n<p>See this <a href=\"https://www.typescriptlang.org/play/#src=type%20OneType%20%3D%20%7Ba%3A%20string%7D%3B%0D%0Atype%20TwoType%20%3D%20%7B%20b%3A%20number%20%7D%3B%0D%0A%0D%0Atype%20DefineItem%20%3D%20%7B%0D%0A%20%20%20%20bar%3A%20&#39;one&#39;%2C%0D%0A%20%20%20%20baz%3A%20OneType%0D%0A%7D%20%7C%20%7B%0D%0A%20%20%20%20bar%3A%20&#39;two&#39;%2C%0D%0A%20%20%20%20baz%3A%20TwoType%0D%0A%7D%3B%0D%0A%0D%0Aconst%20item1%3A%20DefineItem%20%3D%20%7B%0D%0A%20%20%20%20bar%3A%20&#39;one&#39;%2C%0D%0A%20%20%20%20baz%3A%20%7B%20a%3A%20&#39;hello&#39;%20%7D%0D%0A%7D%0D%0A%0D%0Aconst%20item2%3A%20DefineItem%20%3D%20%7B%0D%0A%20%20%20%20bar%3A%20&#39;two&#39;%2C%0D%0A%20%20%20%20baz%3A%20%7B%20b%3A%205%20%7D%0D%0A%7D\" rel=\"nofollow noreferrer\">TypeScript Playground</a>.</p>\n"}], "owner": {"reputation": 11, "user_id": 5691411, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vTrYVrQDzBo/AAAAAAAAAAI/AAAAAAAAABE/ExteTMKjoEE/photo.jpg?sz=128", "display_name": "\u9ad8\u4e50\u5929", "link": "https://stackoverflow.com/users/5691411/%e9%ab%98%e4%b9%90%e5%a4%a9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554921124, "creation_date": 1554920613, "question_id": 55619050, "link": "https://stackoverflow.com/questions/55619050/object-foo-has-two-props-bar-and-baz-how-to-infer-baz-type-by-bars-value", "title": "object foo has two props bar and baz , how to infer baz type by bar&#39;s value", "body": "<pre><code>type OneType = {a: string};\ntype TwoType = {b: number};\ntype DefineItem = {\n   bar: 'one' | 'two',\n   baz: OneType | TwoType\n};\n\nconst items: DefineItem = {\n  bar: 'one',\n  baz: ???\n}\n</code></pre>\n\n<p><strong>expect:</strong> </p>\n\n<p>when bar === 'one', infer baz's type is OneType</p>\n\n<p>when bar === 'two', infer baz's type is TwoType</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 2, "creation_date": 1554920037, "post_id": 55618888, "comment_id": 97931025, "body": "You can either define the callback as an arrow function: <code>libraryCallback = (newObject) =&gt; { ... }</code> or bind the context: <code>jsLibrary.setCallback(this.libraryCallback.bind(this));</code>."}, {"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1554920109, "post_id": 55618888, "comment_id": 97931061, "body": "^^^ or <code>jsLibrary.setCallback((e) =&gt; this.libraryCallback(e));</code>"}], "owner": {"reputation": 427, "user_id": 1475046, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/1687e2fa6a65487aa2d31229ed977d69?s=128&d=identicon&r=PG", "display_name": "ddrjca", "link": "https://stackoverflow.com/users/1475046/ddrjca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "closed_date": 1554920567, "answer_count": 0, "score": 0, "last_activity_date": 1554919939, "creation_date": 1554919939, "question_id": 55618888, "link": "https://stackoverflow.com/questions/55618888/ho-to-use-a-typescript-function-as-a-callback-for-a-javascript-library", "closed_reason": "Duplicate", "title": "Ho to use a typescript function as a callback for a JavaScript Library", "body": "<p>I'm using typescript with a regular JavaScript library. The library requires setting a callback function for update notifications. The callback is executing but 'this' is undefined so I can't access any properties of MyComponent within the callback. I'm new to typescript so I don't understand what the problem is. </p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\n\nexport class MyComponent implements OnInit {\n\n  myObject:any ={};\n\n  constructor() { };\n\n  libraryCallback(newObject){\n\n    //callback is made but 'this' is undefined  \n      this.myObject = newObject;\n  }\n\n  ngOnInit() {\n\n    jsLibrary.setCallback(this.libraryCallback);\n\n  } \n\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "amazon-web-services", "amazon-cognito", "aws-amplify"], "comments": [{"owner": {"reputation": 1098, "user_id": 5746996, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/35dc540cf54e399c576d518d1ef30310?s=128&d=identicon&r=PG&f=1", "display_name": "Tobin", "link": "https://stackoverflow.com/users/5746996/tobin"}, "edited": false, "score": 2, "creation_date": 1554917549, "post_id": 55618144, "comment_id": 97929825, "body": "There is a <code>Credential=undefined&#47;</code> if that helps you"}, {"owner": {"reputation": 1014, "user_id": 1483412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OO4KC.png?s=128&g=1", "display_name": "severin.julien", "link": "https://stackoverflow.com/users/1483412/severin-julien"}, "reply_to_user": {"reputation": 1098, "user_id": 5746996, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/35dc540cf54e399c576d518d1ef30310?s=128&d=identicon&r=PG&f=1", "display_name": "Tobin", "link": "https://stackoverflow.com/users/5746996/tobin"}, "edited": false, "score": 0, "creation_date": 1554967823, "post_id": 55618144, "comment_id": 97945764, "body": "@Tobin Not really but it&#39;s a good place to start."}], "answers": [{"tags": [], "owner": {"reputation": 1014, "user_id": 1483412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OO4KC.png?s=128&g=1", "display_name": "severin.julien", "link": "https://stackoverflow.com/users/1483412/severin-julien"}, "is_accepted": true, "score": 0, "last_activity_date": 1555091654, "creation_date": 1555091654, "answer_id": 55657227, "question_id": 55618144, "link": "https://stackoverflow.com/questions/55618144/security-token-is-invalid-when-calling-api-using-aws-amplify-cognito/55657227#55657227", "title": "Security token is invalid when calling API using AWS Amplify &amp; Cognito", "body": "<p>I have finally found the solution to this issue after days of searching.</p>\n\n<p>First step was to set the log level of amplify to at least DEBUG, so you can see what was going on.</p>\n\n<p>The problem is that Amplify wasn't able get the credentials saved in local-storage when calling the API because of the following issue.</p>\n\n<pre><code>[DEBUG] 48:49.870 AuthClass - getting session failed TypeError: Cannot read property 'Stream' of undefined\n    at Object.computeSha256 (util.js:705)\n    at Request.COMPUTE_SHA256 (event_listeners.js:142)\n    at Request.callListeners (sequential_executor.js:105)\n    at Request.emit (sequential_executor.js:81)\n    at Request.emit (request.js:683)\n    at Request.transition (request.js:22)\n    at AcceptorStateMachine.runTo (state_machine.js:14)\n    at state_machine.js:26\n    at Request.&lt;anonymous&gt; (request.js:38)\n    at Request.&lt;anonymous&gt; (request.js:685)\n</code></pre>\n\n<p>In that case Amplify just call the API without any signing, so that the cause of the <code>403 Forbidden</code>.</p>\n\n<p>The solution was to put the polyfill to <code>window</code> not in <code>polyfill.ts</code> but in <code>index.html</code> like so:</p>\n\n<pre><code>&lt;script&gt;\n    if (global === undefined) {\n        var global = window;\n    }\n\n    // If you need debug message from amplify\n    window['LOG_LEVEL'] = 'DEBUG';\n&lt;/script&gt;\n</code></pre>\n\n<p>At last it's working.</p>\n"}], "owner": {"reputation": 1014, "user_id": 1483412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OO4KC.png?s=128&g=1", "display_name": "severin.julien", "link": "https://stackoverflow.com/users/1483412/severin-julien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1277, "favorite_count": 0, "accepted_answer_id": 55657227, "answer_count": 1, "score": 2, "last_activity_date": 1555091654, "creation_date": 1554916764, "last_edit_date": 1554917415, "question_id": 55618144, "link": "https://stackoverflow.com/questions/55618144/security-token-is-invalid-when-calling-api-using-aws-amplify-cognito", "title": "Security token is invalid when calling API using AWS Amplify &amp; Cognito", "body": "<p>I'm trying to install AWS Amplify in an existing angular project. I'm using Cognito User Pool with Cognito Federated Identity. I'm able to login but when I tried to call my API I got the message <code>{\"message\":\"The security token included in the request is invalid.\"}</code> with a 403 Forbidden status code.</p>\n\n<p>My API is deployed on API Gateway using the Serverless Framework with this setup. I have cors enabled and the authorizer set as aws_iam.</p>\n\n<pre><code>// serverless.yml\nframeworkVersion: \"&gt;=1.28.0 &lt;2.0.0\"\n\nprovider:\n  name: aws\n  runtime: go1.x\n\n// --- omitted\n\nfunctions:\n  get_devices:\n    handler: bin/get_devices\n    events:\n      - http:\n          path: devices\n          method: get\n          cors: true\n          authorizer: aws_iam\n</code></pre>\n\n<p>Amplify is configured in the file main.ts</p>\n\n<pre><code>// main.ts\nconst { userPoolId, identityPoolId, userPoolWebClientId, endpoint } = environment;\nAmplify.configure({\n    Auth: {\n        region: 'us-east-1',\n        identityPoolId,\n        userPoolId,\n        userPoolWebClientId\n    },\n    API: {\n        endpoints: [\n            {\n                name: 'API',\n                endpoint,\n            },\n        ]\n    }\n});\n</code></pre>\n\n<p>I call my API using the following code</p>\n\n<pre><code>@Injectable()\nexport class DevicesService {\n    private api: APIClass;\n\n    constructor(private http: HttpClient,\n                private httpUtils: HttpUtilsService) {\n        this.api = API;\n    }\n\n    findDevices(queryParams: QueryParamsModel): Observable&lt;QueryResultsModel&gt; {\n        const promise = this.api.get('myAPI', '/devices', {});\n        return from(promise).pipe(\n            map((devices) =&gt; {\n                console.log(devices);\n                return devices;\n            })\n        );\n    }\n}\n\n</code></pre>\n\n<p>I have the following request headers</p>\n\n<pre><code>Host: id.execute-api.us-east-1.amazonaws.com\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:66.0) Gecko/20100101 Firefox/66.0\nAccept: application/json, text/plain\nAccept-Language: en-US,en;q=0.5\nAccept-Encoding: gzip, deflate, br\nReferer: http://localhost:4200/dashboard/(devices)\nx-amz-date: 20190410T171055Z\nAuthorization: AWS4-HMAC-SHA256 Credential=undefined/20190410/us-east-1/execute-api/aws4_request, SignedHeaders=host;x-amz-date, Signature=920b1f832c6dfessssss8c3a0a0783848740dde68eaec95d3b35935\nOrigin: http://localhost:4200\n</code></pre>\n\n<p>And the following response headers</p>\n\n<pre><code>HTTP/2.0 403 Forbidden\ncontent-type: application/json\ncontent-length: 68\ndate: Wed, 10 Apr 2019 17:10:56 GMT\nx-amzn-requestid: 9ab88ba9-5bb3-11e9-8467-e798767662220e\nx-amzn-errortype: UnrecognizedClientException\nx-amz-apigw-id: 67768JJDGGUYZ_SQ=\nx-cache: Error from cloudfront\nvia: 1.1 5721f7035c3fc934bd3f96dbb04ba1e5.cloudfront.net (CloudFront)\nx-amz-cf-id: hFy34Mv1OJBJF47UCT3wg0APyGYl0I4tgqw-K2ZeA==\nX-Firefox-Spdy: h2\n</code></pre>\n\n<p>I hope someone will be able to help me with that. Thank you.</p>\n"}, {"tags": ["typescript", "angular7", "ecmascript-5", "ngrx-store"], "answers": [{"tags": [], "owner": {"reputation": 1695, "user_id": 2355482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZzgtK.png?s=128&g=1", "display_name": "DoronG", "link": "https://stackoverflow.com/users/2355482/dorong"}, "is_accepted": true, "score": 1, "last_activity_date": 1554927062, "creation_date": 1554927062, "answer_id": 55620610, "question_id": 55618025, "link": "https://stackoverflow.com/questions/55618025/how-to-filter-parent-object-by-its-children-id/55620610#55620610", "title": "How to filter parent object by it&#39;s children id?", "body": "<p>I think what you need is <code>state.uploadedFiles.filter(file =&gt; file.BlobFileUpload.some(blob =&gt; blob.FileId !== fileId))</code></p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some\" rel=\"nofollow noreferrer\"><code>Array.protptype.some()</code></a> checks if <strong>any</strong> item in the array is truthful for the provided predicate and returns a boolean.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\" rel=\"nofollow noreferrer\"><code>Array.prototype.filter()</code></a> expects a predicate which returns a boolean, but <code>filter</code> itself returns an array and an array is always truthy. That's why it was not filtering for you. </p>\n"}], "owner": {"reputation": 4171, "user_id": 2024080, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/4e404fe44b680290c95ef673c6653a28?s=128&d=identicon&r=PG", "display_name": "user2024080", "link": "https://stackoverflow.com/users/2024080/user2024080"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 55620610, "answer_count": 1, "score": 0, "last_activity_date": 1554927062, "creation_date": 1554916365, "question_id": 55618025, "link": "https://stackoverflow.com/questions/55618025/how-to-filter-parent-object-by-its-children-id", "title": "How to filter parent object by it&#39;s children id?", "body": "<p>I am getting backend response like this:</p>\n\n<pre><code>{\n  \"ReturnModel\": {\n    \"Id\": 20,\n    \"Name\": \"tserror.JPG,typeIssue.JPG\",\n    \"Description\": \"testing\",\n    \"SubjectId\": 100001,\n    \"SubjectTypeId\": 100001,\n    \"SubjectLevelId\": 100001,\n    \"SubjectOptionId\": 100001,\n    \"LanguageId\": 100001,\n    \"BlobFileUpload\": [\n      {\n        \"FileId\": 27,\n        \"FileName\": \"tserror_20190410110826.JPG\",\n        \"FileDescription\": \"Upload\",\n        \"CourseId\": 20,\n        \"CourseFileUpload\": null\n      },\n      {\n        \"FileId\": 28,\n        \"FileName\": \"typeIssue_20190410110826.JPG\",\n        \"FileDescription\": \"Upload\",\n        \"CourseId\": 20,\n        \"CourseFileUpload\": null\n      }\n    ]\n  }\n}\n</code></pre>\n\n<p>From the above json value, I need to filter the parent from it's <code>BlobFileUpload</code> - <code>FileId</code>. For that, I tried the following, but not works. any suggest me the correct approach?</p>\n\n<pre><code>case fileActions.RemoveFileSuccess.TYPE :\n\n            const fileId = (&lt;fileActions.RemoveFileSuccess&gt;action).payload.Id;\n\n            return {\n                ...state,\n                uploadedFiles : state.uploadedFiles.filter(file =&gt; file.BlobFileUpload.filter(blob =&gt; blob.FileId !== fileId))\n            }\n</code></pre>\n"}, {"tags": ["node.js", "angularjs", "typescript", "unit-testing", "karma-jasmine"], "comments": [{"owner": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "edited": false, "score": 0, "creation_date": 1554927078, "post_id": 55617995, "comment_id": 97934188, "body": "The <code>async</code> and <code>await</code> operators use ES6 promises. ES6 promises are not integrated with the AngularJS digest cycle. Only operations which are applied in the AngularJS execution context will benefit from AngularJS data-binding, exception handling, property watching, etc. Avoid ES6 promises and  use only $q service promises."}, {"owner": {"reputation": 1113, "user_id": 5632252, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/El9Qw.jpg?s=128&g=1", "display_name": "ryanwaite28", "link": "https://stackoverflow.com/users/5632252/ryanwaite28"}, "reply_to_user": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "edited": false, "score": 0, "creation_date": 1554997528, "post_id": 55617995, "comment_id": 97964109, "body": "@georgeawg hey, that service does return a $q promise. when i console.log <code>deferredPromise</code>, i can see it in the terminal; it has value. it&#39;s just that it doesn&#39;t resolve. not sure how to get it to resolve."}], "answers": [{"comments": [{"owner": {"reputation": 1113, "user_id": 5632252, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/El9Qw.jpg?s=128&g=1", "display_name": "ryanwaite28", "link": "https://stackoverflow.com/users/5632252/ryanwaite28"}, "edited": false, "score": 0, "creation_date": 1554997351, "post_id": 55633416, "comment_id": 97964010, "body": "hey, that didn&#39;t work for me. i still got the async error."}, {"owner": {"reputation": 986, "user_id": 3569893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d8efb6a5f5b5d9aae1186510123f858?s=128&d=identicon&r=PG&f=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/3569893/ashish"}, "reply_to_user": {"reputation": 1113, "user_id": 5632252, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/El9Qw.jpg?s=128&g=1", "display_name": "ryanwaite28", "link": "https://stackoverflow.com/users/5632252/ryanwaite28"}, "edited": false, "score": 0, "creation_date": 1555038742, "post_id": 55633416, "comment_id": 97977563, "body": "Are you sure your function returns promise? Can you go into your coverage report and check what code is getting executed from service function?"}], "tags": [], "owner": {"reputation": 986, "user_id": 3569893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d8efb6a5f5b5d9aae1186510123f858?s=128&d=identicon&r=PG&f=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/3569893/ashish"}, "is_accepted": false, "score": 0, "last_activity_date": 1554988574, "creation_date": 1554988574, "answer_id": 55633416, "question_id": 55617995, "link": "https://stackoverflow.com/questions/55617995/angularjs-testing-promise-from-service-wont-resolve/55633416#55633416", "title": "AngularJS testing - promise from service won&#39;t resolve", "body": "<p>In your first solution, please inject <code>$rootScope</code> and then call <code>$rootScope.$digest</code> after async call.</p>\n\n<pre><code>it('CLDTX-22772: getStatusForAddDiskCloneBtn should return a promise resolving a button status', (done) =&gt; {\n      const spy = spyOn(applicationBtnStatusService, 'getStatusForAddDiskCloneBtn').and.callThrough();\n\n      const deferrdPromise = applicationBtnStatusService.getStatusForAddDiskCloneBtn(applicationDataMock);\n      deferrdPromise.then((resolvedBtnStatus) =&gt; {\n        expect(resolvedBtnStatus).toBeTruthy();\n        expect(resolvedBtnStatus.btnDisabled).toBeDefined();\n        expect(resolvedBtnStatus.disablingMessage).toBeDefined();\n        expect(resolvedBtnStatus.btnDisabled).toBe(true);\n        expect(resolvedBtnStatus.disablingMessage).toBe('Instance is running and in compatibility mode');\n        done();\n      });\n      $rootScope.$digest();\n    });\n</code></pre>\n"}], "owner": {"reputation": 1113, "user_id": 5632252, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/El9Qw.jpg?s=128&g=1", "display_name": "ryanwaite28", "link": "https://stackoverflow.com/users/5632252/ryanwaite28"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554988574, "creation_date": 1554916260, "question_id": 55617995, "link": "https://stackoverflow.com/questions/55617995/angularjs-testing-promise-from-service-wont-resolve", "title": "AngularJS testing - promise from service won&#39;t resolve", "body": "<p>i have a service that returns a promise. i am trying to write a unit test for it but having issues. my first implementation:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>describe('Application Button Status Service', () =&gt; {\n    let applicationBtnStatusService;\n\n    beforeEach(() =&gt; {\n      TestHelper().initApplicationModule();\n\n      inject(($injector) =&gt; {\n        applicationBtnStatusService = $injector.get('MwcApplicationBtnStatusService');\n      });\n    });\n\n    it('CLDTX-22772: getStatusForAddDiskCloneBtn should return a promise resolving a button status', () =&gt; {\n      const spy = spyOn(applicationBtnStatusService, 'getStatusForAddDiskCloneBtn').and.callThrough();\n\n      const deferrdPromise = applicationBtnStatusService.getStatusForAddDiskCloneBtn(applicationDataMock);\n      deferrdPromise.then((resolvedBtnStatus) =&gt; {\n        expect(resolvedBtnStatus).toBeTruthy();\n        expect(resolvedBtnStatus.btnDisabled).toBeDefined();\n        expect(resolvedBtnStatus.disablingMessage).toBeDefined();\n        expect(resolvedBtnStatus.btnDisabled).toBe(true);\n        expect(resolvedBtnStatus.disablingMessage).toBe('Instance is running and in compatibility mode');\n      });\n    });\n  },\n);\n</code></pre>\n\n<p>this passes but it doesn't execute the <code>.then</code> of the promise. here is my second implementation:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>describe('Application Button Status Service', () =&gt; {\n    let applicationBtnStatusService, rootScope, btnStatus;\n\n    beforeEach(async (done) =&gt; {\n      TestHelper().initApplicationModule();\n      inject((\n        MwcApplicationBtnStatusService: ApplicationBtnStatusService,\n        $rootScope\n      ) =&gt; {\n        applicationBtnStatusService = MwcApplicationBtnStatusService;\n        rootScope = $rootScope;\n      });\n\n      const resolvedBtnStatus = await applicationBtnStatusService.getStatusForAddDiskCloneBtn(applicationDataMock);\n      rootScope.$apply();\n      console.log('promise resolved', resolvedBtnStatus, '\\n\\n\\n\\n\\n\\n\\n');\n      btnStatus = resolvedBtnStatus;\n      done();\n    });\n\n    it('CLDTX-22772: getStatusForAddDiskCloneBtn should return a promise resolving a button status', (done) =&gt; {\n      console.log('btnStatus', btnStatus);\n      expect(btnStatus).toBeDefined();\n      done();\n    });\n  }\n);\n</code></pre>\n\n<p>the second one fails with this error:</p>\n\n<pre><code>HeadlessChrome 0.0.0 (Windows 10 0.0.0) Application Button Status Service CLDTX-22772: getStatusForAddDiskCloneBtn should return a promise resolving a button status FAILED\n        Error: Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL.\n        Expected undefined to be defined.\n            at UserContext.&lt;anonymous&gt; (app/application/services/application-btn-status-service/application-btn-status-service.spec.js:229:27)\nHeadlessChrome 0.0.0 (Windows 10 0.0.0): Executed 269 of 269 (1 FAILED) (7.443 secs / 7.383 secs)\nTOTAL: 1 FAILED, 268 SUCCESS\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! cloudistics-mwc@0.0.1 test: `npm run generate-responses &amp;&amp; karma start karma.config.js`\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the cloudistics-mwc@0.0.1 test script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\Ryan.Waite\\AppData\\Roaming\\npm-cache\\_logs\\2019-04-10T17_01_55_717Z-debug.log\n</code></pre>\n\n<p>and no matter what i change the default interval, the operations takes longer than it.</p>\n"}, {"tags": ["javascript", "typescript", "interface"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1554917255, "post_id": 55617896, "comment_id": 97929670, "body": "This is similar to an <a href=\"https://stackoverflow.com/a/55598680/2887218\">answer</a> I gave to someone trying to &quot;unmerge&quot; declarations.  The idea is the same: either do some kind of <a href=\"https://github.com/Microsoft/TypeScript/issues/30455\" rel=\"nofollow noreferrer\"><code>Omit</code></a> (type subtraction, which can be lossy) or redefine your interfaces to be what you want in the first place (which you&#39;ve said you can&#39;t do)"}], "answers": [{"comments": [{"owner": {"reputation": 1133, "user_id": 2680408, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/6340c5390c315ac0875d7a21d631c350?s=128&d=identicon&r=PG&f=1", "display_name": "Johannes", "link": "https://stackoverflow.com/users/2680408/johannes"}, "edited": false, "score": 0, "creation_date": 1554916805, "post_id": 55618091, "comment_id": 97929436, "body": "I know this is a possibility, but actually the definition of the interface is out of my control, so I can&#39;t do that."}, {"owner": {"reputation": 6647, "user_id": 4095444, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/NipXZ.jpg?s=128&g=1", "display_name": "chazsolo", "link": "https://stackoverflow.com/users/4095444/chazsolo"}, "reply_to_user": {"reputation": 1133, "user_id": 2680408, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/6340c5390c315ac0875d7a21d631c350?s=128&d=identicon&r=PG&f=1", "display_name": "Johannes", "link": "https://stackoverflow.com/users/2680408/johannes"}, "edited": false, "score": 0, "creation_date": 1554917368, "post_id": 55618091, "comment_id": 97929730, "body": "Ahh yeah in that case I&#39;m not sure"}], "tags": [], "owner": {"reputation": 6647, "user_id": 4095444, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/NipXZ.jpg?s=128&g=1", "display_name": "chazsolo", "link": "https://stackoverflow.com/users/4095444/chazsolo"}, "is_accepted": false, "score": 1, "last_activity_date": 1554917528, "last_edit_date": 1554917528, "creation_date": 1554916598, "answer_id": 55618091, "question_id": 55617896, "link": "https://stackoverflow.com/questions/55617896/get-base-interface-when-extending-another-interface/55618091#55618091", "title": "Get base interface when extending another interface", "body": "<p>You've pretty much already figured it out (assuming you can redefine your interfaces)</p>\n\n<blockquote>\n  <p>So what I need is a new type that only has color?: string as a property.</p>\n</blockquote>\n\n<p>Just make an interface that has the <code>color</code> property, then extend both:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface IMyButtonProps {\n  color?: string\n}\n\ninterface IMyButton extends IMyButtonProps, Partial&lt;HTMLInputElement&gt; {}\n</code></pre>\n"}], "owner": {"reputation": 1133, "user_id": 2680408, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/6340c5390c315ac0875d7a21d631c350?s=128&d=identicon&r=PG&f=1", "display_name": "Johannes", "link": "https://stackoverflow.com/users/2680408/johannes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554917528, "creation_date": 1554915897, "last_edit_date": 1554916369, "question_id": 55617896, "link": "https://stackoverflow.com/questions/55617896/get-base-interface-when-extending-another-interface", "title": "Get base interface when extending another interface", "body": "<p>Suppose I have this simple interface:</p>\n\n<pre><code>interface IMyButton extends Partial&lt;HTMLInputElement&gt; {\n  color?: string\n}\n</code></pre>\n\n<p>This allows me to extend the base <code>HTMLInputElement</code> with properties definied in <code>IMyButton</code> (e.g. for web components).</p>\n\n<p>Is there a way of getting only the properties that the base type, <code>IMyButton</code>, defines, rather than all the properties including the ones from <code>HTMLInputElement</code>?</p>\n\n<p>So what I need is a new type that only has <code>color?: string</code> as a property. </p>\n\n<p>The extended interface changes from component to component, i.e. <code>interface IMySelect extends Partial&lt;HTMLSelectElement&gt;</code>, so I can't just exclude a fixed type.</p>\n\n<p>Some background why I need this: I have a mapped type that uses <code>IMyButton</code> - so using the API you have to define defaults for example. Right now this mapped type also includes <code>HTMLInputElement</code> properties, that are wholly optional and don't even need defaults. Visual Studio Code for example still shows all the properties of the extended type of course, so creating this object is really difficulty because the intellisense gets cluttered with base html properties...</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "edited": false, "score": 1, "creation_date": 1554917728, "post_id": 55617815, "comment_id": 97929910, "body": "How do you intent to use it?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1554918607, "post_id": 55617815, "comment_id": 97930355, "body": "I think we need more information about what you&#39;re trying to do... what code you&#39;d like to see compile and what code you&#39;d like to see give errors.  Keep in mind that for the kind of generics that look like <code>interface X&lt;Y extends X&lt;Y&gt;&gt; {...Y...}</code> you would usually just use <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#polymorphic-this-types\" rel=\"nofollow noreferrer\">polymorphic <code>this</code></a> in TypeScript and declare <code>interface X {...this...}</code> instead without generics."}, {"owner": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1554960877, "post_id": 55617815, "comment_id": 97942826, "body": "@jcalz looks like you&#39;re the typescript watchman on SO lol. Respect."}, {"owner": {"reputation": 16, "user_id": 11341731, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wKQj-_JPsP4/AAAAAAAAAAI/AAAAAAAAABE/KtyWUehCjE8/photo.jpg?sz=128", "display_name": "Zweer", "link": "https://stackoverflow.com/users/11341731/zweer"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1554975710, "post_id": 55617815, "comment_id": 97950224, "body": "Added more examples in the question... @jcalz"}], "answers": [{"comments": [{"owner": {"reputation": 16, "user_id": 11341731, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wKQj-_JPsP4/AAAAAAAAAAI/AAAAAAAAABE/KtyWUehCjE8/photo.jpg?sz=128", "display_name": "Zweer", "link": "https://stackoverflow.com/users/11341731/zweer"}, "edited": false, "score": 0, "creation_date": 1554975754, "post_id": 55619151, "comment_id": 97950263, "body": "This example lacks some things I&#39;d like to have. Added in the original question..."}, {"owner": {"reputation": 16, "user_id": 11341731, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wKQj-_JPsP4/AAAAAAAAAAI/AAAAAAAAABE/KtyWUehCjE8/photo.jpg?sz=128", "display_name": "Zweer", "link": "https://stackoverflow.com/users/11341731/zweer"}, "edited": false, "score": 0, "creation_date": 1554980419, "post_id": 55619151, "comment_id": 97952953, "body": "Thanks @hackape yes, I&#39;ve understood that the generics attached to the class has very little to do with the static class, I only need it for the constructor to limit the fields I can specify. Moreover I don&#39;t understand what you wrote in the updated code: I can&#39;t access <code>this.property</code> because <code>T</code> is nothing related to <code>Model1</code>, right? <code>method</code> should return (my fault, I&#39;ve not specified it in the <code>Model1</code> code) a instance of the extended class (from <code>Model1</code>, <code>User1</code>)"}, {"owner": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "reply_to_user": {"reputation": 16, "user_id": 11341731, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wKQj-_JPsP4/AAAAAAAAAAI/AAAAAAAAABE/KtyWUehCjE8/photo.jpg?sz=128", "display_name": "Zweer", "link": "https://stackoverflow.com/users/11341731/zweer"}, "edited": false, "score": 0, "creation_date": 1554986823, "post_id": 55619151, "comment_id": 97956743, "body": "@Zweer Updated again"}], "tags": [], "owner": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "is_accepted": false, "score": 0, "last_activity_date": 1554986751, "last_edit_date": 1554986751, "creation_date": 1554920983, "answer_id": 55619151, "question_id": 55617815, "link": "https://stackoverflow.com/questions/55617815/cant-find-the-property-of-an-extended-class-via-generics/55619151#55619151", "title": "Can&#39;t find the property of an extended class via generics", "body": "<p><strong>Edit in response to OP update</strong></p>\n\n<p>Two things happen here</p>\n\n<ol>\n<li>inherit from abstract class</li>\n<li>infer type of <code>this</code> when invoke <code>User.method()</code></li>\n</ol>\n\n<pre class=\"lang-js prettyprint-override\"><code>abstract class Model1 {\n    static property: boolean = true;\n\n    static method&lt;T&gt;(this: T): T extends new () =&gt; infer R ? R : any {\n        console.log(this.property); // error, but ignore it, \n\n        // From this point on, \n        // We should use the type-casted `SubClass` instead of`this`\n\n        // Personally prefer type-cast to `any`\n        // Because both `Dog` and `User` can `extends Model1`\n        // There's no way to know in advance\n        const SubClass = this as any;\n\n        // However, if you really need to see something about `Model1`\n        // const SubClass = this as any as (typeof Model1);\n\n        console.log(SubClass.property) // good\n\n        // Since you do understand what you're doing\n        // it's fine to simply ts-ignore the warning\n        // @ts-ignore\n        return new SubClass()\n\n        // Final word, because you've declared full `method()` signature\n        // ts is not inferring type of return value from function body\n        // so we're good.\n    }\n\n    // also check the instance side\n    inheritedProperty: number;\n}\n\n\nclass User extends Model1 {\n    email: string;\n}\n\n// both static side and instance side members are all inherited\n// and the types are correct\nconst user = User.method();\nuser.inheritedProperty = 1; // good\nuser.email = 'foo'; // good\nUser.property = 101 // error\n\n</code></pre>\n\n<p>Still, I'd like to bring attention to the fact that, <em>static side of class</em> has very little to do with the class itself. The link I posted in original answer is worth reading to fully understand the concept.</p>\n\n<hr>\n\n<p><strong>Original answer:</strong></p>\n\n<p>For what (I guess) you're trying to do, following suffices</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class Model {\n    static property;\n\n    static method(this: typeof Model) {\n        console.log(this.property);\n    }\n}\n</code></pre>\n\n<p>Also for ref, here's a quote from the <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">typescript handbook</a>:</p>\n\n<blockquote>\n  <p>[...] a class has two sides to its type: the static side and the instance side. Generic classes are only generic over their instance side rather than their static side, so when working with classes, static members can not use the class\u2019s type parameter.</p>\n</blockquote>\n"}], "owner": {"reputation": 16, "user_id": 11341731, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wKQj-_JPsP4/AAAAAAAAAAI/AAAAAAAAABE/KtyWUehCjE8/photo.jpg?sz=128", "display_name": "Zweer", "link": "https://stackoverflow.com/users/11341731/zweer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554986751, "creation_date": 1554915587, "last_edit_date": 1554975667, "question_id": 55617815, "link": "https://stackoverflow.com/questions/55617815/cant-find-the-property-of-an-extended-class-via-generics", "title": "Can&#39;t find the property of an extended class via generics", "body": "<p><strong>Updated:</strong></p>\n\n<p>My intent is to make an abstract class that can be used as the <code>Base Model</code> of a <code>ORM</code>. The static method <code>method</code> is something like <code>find an instance of that model</code> and should create the instance itself...</p>\n\n<p>This is what I had in mind (the generic \"T\" is required in the class definition to have the typing on the constructor argument):</p>\n\n<pre><code>abstract class Model&lt;T extends Model&lt;T&gt;&gt; {\n  static property;\n\n  static method&lt;T extends Model&lt;T&gt;&gt;(this: (new () =&gt; T)): T {\n    console.log(this.property); // TS2339: Property 'property' does not exist on type 'new () =&gt; T'\n\n    return new this();\n  }\n\n  constructor(item?: Partial&lt;T&gt;) {\n    Object.assign(this, item);\n  }\n}\n\nclass User extends Model&lt;User&gt; {\n  email: string;\n}\n\nconst user = User.method();\nuser.email = 'foo';\n</code></pre>\n\n<p>Instead the following is what was suggested (without the generic):</p>\n\n<pre><code>abstract class Model1 {\n  static property;\n\n  static method() {\n    console.log(this.property);\n\n    return new this(); // TS2511: Cannot create an instance of an abstract class\n  }\n\n  constructor(item?) { // No clues on the properties of \"item\"\n    Object.assign(this, item);\n  }\n}\n\nclass User1 extends Model1 {\n  email: string;\n}\n\nconst user1 = User1.method();\nuser1.email = 'foo'; // TS2339: Property 'email' does not exist on type Model1\n\n</code></pre>\n\n<p><strong>Original question 2019-04-10</strong></p>\n\n<p>I've the following piece of code:</p>\n\n<pre><code>class Model&lt;T extends Model&lt;T&gt;&gt; {\n  static property;\n\n  static method&lt;T extends Model&lt;T&gt;&gt;(this: new () =&gt; T) {\n    console.log(this.property);\n  }\n}\n</code></pre>\n\n<p>But when I try to run it: <code>Property 'property' does not exist on type 'new () =&gt; T'. (2339)</code></p>\n\n<p>The only way to have the property recognized is to add <code>&amp; typeof Model</code> in the method signature:</p>\n\n<pre><code>class Model&lt;T extends Model&lt;T&gt;&gt; {\n  static property;\n\n  static method&lt;T extends Model&lt;T&gt;&gt;(this: (new () =&gt; T) &amp; typeof Model) {\n    console.log(this.property);\n  }\n}\n\n</code></pre>\n\n<p>But in this way <code>this</code> can also be a subset of <code>T</code> and so returning something like <code>new this()</code> is not compatible with a returning type of <code>T</code>...</p>\n\n<p>any ideas??</p>\n\n<p>Thanks a lot</p>\n"}, {"tags": ["mongodb", "typescript", "auto-populate"], "comments": [{"owner": {"reputation": 1019, "user_id": 3855179, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c213e62c28b75aa15829a27e3ca95f59?s=128&d=identicon&r=PG&f=1", "display_name": "Sumit", "link": "https://stackoverflow.com/users/3855179/sumit"}, "edited": false, "score": 0, "creation_date": 1554914658, "post_id": 55617401, "comment_id": 97928393, "body": "Please provide details on what have you tried and tested for achieving your above requirement. Probably then people in the community would be able to help you."}, {"owner": {"reputation": 350, "user_id": 2727080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18448b07cacbc80ec251f6d8a0cb6021?s=128&d=identicon&r=PG", "display_name": "Milo\u0161 Stani\u0107", "link": "https://stackoverflow.com/users/2727080/milo%c5%a1-stani%c4%87"}, "edited": false, "score": 0, "creation_date": 1555368794, "post_id": 55617401, "comment_id": 98078633, "body": "Manual populate is possible, as per post <a href=\"https://stackoverflow.com/a/51837725/2727080\">stackoverflow.com/a/51837725/2727080</a>"}], "answers": [{"comments": [{"owner": {"reputation": 738, "user_id": 5161361, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-I7n7tqE6ciA/AAAAAAAAAAI/AAAAAAAAAGg/SmbU5u4bbjE/photo.jpg?sz=128", "display_name": "Fortune", "link": "https://stackoverflow.com/users/5161361/fortune"}, "edited": false, "score": 1, "creation_date": 1593305832, "post_id": 58332126, "comment_id": 110733198, "body": "Doing just this will not work, at least with the current typegoose 7.2.0. You need to install the auto-populate plugin"}], "tags": [], "owner": {"reputation": 2005, "user_id": 8809024, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CJ3wsrQDkBk/AAAAAAAAAAI/AAAAAAAAAbM/0v24phFPQc8/photo.jpg?sz=128", "display_name": "Mateja Petrovic", "link": "https://stackoverflow.com/users/8809024/mateja-petrovic"}, "is_accepted": false, "score": 2, "last_activity_date": 1570748095, "creation_date": 1570748095, "answer_id": 58332126, "question_id": 55617401, "link": "https://stackoverflow.com/questions/55617401/how-to-mongoose-autopopulate-populate-with-typegoose/58332126#58332126", "title": "How to mongoose-autopopulate populate with typegoose", "body": "<p>There is an <code>autopopulate</code> option for the <code>prop</code> decorator, which is used like so:</p>\n\n<pre><code>import { prop, Ref } from '@typegoose/typegoose';\n\nclass Person {\n  @prop()\n  name: string\n}\n\nclass User {\n  @prop({ autopopulate: true, ref: Person })\n  person: Ref&lt;Person&gt;;\n\n  @prop()\n  password: string;\n}\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 738, "user_id": 5161361, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-I7n7tqE6ciA/AAAAAAAAAAI/AAAAAAAAAGg/SmbU5u4bbjE/photo.jpg?sz=128", "display_name": "Fortune", "link": "https://stackoverflow.com/users/5161361/fortune"}, "is_accepted": false, "score": 0, "last_activity_date": 1593306413, "creation_date": 1593306413, "answer_id": 62617136, "question_id": 55617401, "link": "https://stackoverflow.com/questions/55617401/how-to-mongoose-autopopulate-populate-with-typegoose/62617136#62617136", "title": "How to mongoose-autopopulate populate with typegoose", "body": "<p>Typegoose has an <code>autopopulate</code> option on the <code>prop</code> decorator just like @Mateja has said in his answer. However, it doesn't work by itself, you first need to install <a href=\"https://www.npmjs.com/package/mongoose-autopopulate\" rel=\"nofollow noreferrer\">auto-populate</a> plugin and set up your entity like so...</p>\n<pre><code>import { prop, Ref } from '@typegoose/typegoose';\nimport * as autopopulate from 'mongoose-autopopulate'; // &lt;= import the plugin\n\n@plugin(autopopulate as any) // &lt;= set it up here\nclass Person {\n  @prop()\n  name: string\n}\n\nclass User {\n  @prop({ autopopulate: true, ref: Person }) // &lt;= enable the option\n  person: Ref&lt;Person&gt;;\n\n  @prop()\n  password: string;\n}\n</code></pre>\n<p>For more information, check the <a href=\"https://typegoose.github.io/typegoose/guides/advanced/common-plugins/\" rel=\"nofollow noreferrer\">Typegoose Documentation</a></p>\n"}, {"comments": [{"owner": {"reputation": 738, "user_id": 5161361, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-I7n7tqE6ciA/AAAAAAAAAAI/AAAAAAAAAGg/SmbU5u4bbjE/photo.jpg?sz=128", "display_name": "Fortune", "link": "https://stackoverflow.com/users/5161361/fortune"}, "edited": false, "score": 0, "creation_date": 1602089776, "post_id": 64035036, "comment_id": 113612439, "body": "OP said he wants it to be auto-populated, this does not answer the question."}], "tags": [], "owner": {"reputation": 19, "user_id": 11989203, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3LrFgcbGlJo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd7ukQeXRmOtZn9Mu7v2QtgaDHkSA/photo.jpg?sz=128", "display_name": "Himanshu Joshi", "link": "https://stackoverflow.com/users/11989203/himanshu-joshi"}, "is_accepted": false, "score": 0, "last_activity_date": 1600889376, "creation_date": 1600889376, "answer_id": 64035036, "question_id": 55617401, "link": "https://stackoverflow.com/questions/55617401/how-to-mongoose-autopopulate-populate-with-typegoose/64035036#64035036", "title": "How to mongoose-autopopulate populate with typegoose", "body": "<p>Here we have 3 collections shops, owners, documents, gumasta.\nshops having ObjectId as a reference of owner and documents. But gumasta's reference is in the owner collection document. So to populate sub sub document use\nbelow code in typegoose.</p>\n<pre><code>     const vehicleEntity = await ShopModel.findOne({ &quot;id&quot;: id })\n        .populate({\n            path: 'owner',\n            populate: {\n                path: 'gumasta',\n                model: 'Gumasta'\n            }\n        })\n        .populate('documents')\n        .exec();\n</code></pre>\n<p>Actual structure of shops is</p>\n<pre><code>shops{\nid: &quot;string&quot;\nname: &quot;string&quot;\naddress_short: &quot;string&quot;,\nowner: ObjectId('asddsfsdfsdfs34csd7d') // Reference of owner data in owner collection\n,documents: [ObjectId('asddsfsdfsdfs34csd7e'), ObjectId('asddsfsdfsdfs34csd7f')]\n}\n</code></pre>\n<p>and owner has data below</p>\n<pre><code>owners{\n id\n shop_id\n reg_no\n gumasta: ObjectId('sdfsdfsdfs343')\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9296101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53211d3892e454d9c73d23bb73947350?s=128&d=identicon&r=PG&f=1", "display_name": "Ruben", "link": "https://stackoverflow.com/users/9296101/ruben"}, "is_accepted": false, "score": 0, "last_activity_date": 1618602967, "creation_date": 1618602967, "answer_id": 67131472, "question_id": 55617401, "link": "https://stackoverflow.com/questions/55617401/how-to-mongoose-autopopulate-populate-with-typegoose/67131472#67131472", "title": "How to mongoose-autopopulate populate with typegoose", "body": "<p>I had to use something like this:</p>\n<pre><code>import { prop, Ref, plugin } from '@typegoose/typegoose';\nimport mongooseAutoPopulate from 'mongoose-autopopulate';\n\n@plugin(mongooseAutoPopulate as any)\nclass Person {\n  @prop()\n  name: string\n}\n\nclass User {\n  @prop({ autopopulate: true, ref: Person })\n  person: Ref&lt;Person&gt;;\n\n  @prop()\n  password: string;\n}\n</code></pre>\n<p>If I try to use it as in docs:</p>\n<pre><code>import * as autopopulate from 'mongoose-autopopulate'; \n\n@plugin(autopopulate as any) \n</code></pre>\n<p>I get this error:\n<code>Error: First param to 'schema.plugin()' must be a function, got &quot;object&quot;</code></p>\n"}], "owner": {"reputation": 73, "user_id": 10390253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kBsvL.jpg?s=128&g=1", "display_name": "Akash Gupta", "link": "https://stackoverflow.com/users/10390253/akash-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1655, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1618602967, "creation_date": 1554914066, "last_edit_date": 1554915022, "question_id": 55617401, "link": "https://stackoverflow.com/questions/55617401/how-to-mongoose-autopopulate-populate-with-typegoose", "title": "How to mongoose-autopopulate populate with typegoose", "body": "<p>I am using nest js with mongodb and\nfor the mongodb modelling i am using <strong>Typegoose</strong> . they did not have autopopulate functionality yet.</p>\n\n<p>I am using </p>\n\n<blockquote>\n  <p><a href=\"https://github.com/szokodiakos/typegoose\" rel=\"nofollow noreferrer\">https://github.com/szokodiakos/typegoose</a></p>\n</blockquote>\n\n<p>and just want to use auto populate </p>\n\n<blockquote>\n  <p><a href=\"https://www.npmjs.com/package/mongoose-autopopulate\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/mongoose-autopopulate</a></p>\n</blockquote>\n"}, {"tags": ["node.js", "typescript", "npm", "webpack", "yarnpkg"], "comments": [{"owner": {"reputation": 1848, "user_id": 3075533, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/3b107ca88682ff7617aceb1f810cec5c?s=128&d=identicon&r=PG&f=1", "display_name": "mohsenmadi", "link": "https://stackoverflow.com/users/3075533/mohsenmadi"}, "edited": false, "score": 0, "creation_date": 1554924830, "post_id": 55617141, "comment_id": 97933164, "body": "I had this errno 2 issue and if similar, you may be having a lint issue analyzing the TypeScript code. Do a global search in your project, do you have the command <code>run lint</code> called anywhere prior to build/deploy?"}, {"owner": {"reputation": 4383, "user_id": 3879958, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7e2da56bf614badaa79e253554a6357c?s=128&d=identicon&r=PG", "display_name": "ET-CS", "link": "https://stackoverflow.com/users/3879958/et-cs"}, "reply_to_user": {"reputation": 1848, "user_id": 3075533, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/3b107ca88682ff7617aceb1f810cec5c?s=128&d=identicon&r=PG&f=1", "display_name": "mohsenmadi", "link": "https://stackoverflow.com/users/3075533/mohsenmadi"}, "edited": false, "score": 0, "creation_date": 1554947929, "post_id": 55617141, "comment_id": 97940046, "body": "thank you @mohsenmadi. I added and used now <code>tslint</code>, fixed all issues but the above issue still persist."}, {"owner": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "edited": false, "score": 0, "creation_date": 1554949590, "post_id": 55617141, "comment_id": 97940340, "body": "I believe you over simplified the provided information. First to clarify, what exact gives error, is it <code>npm install</code> or <code>npm run build</code>? I believe it&#39;s the build right? If so, you should also include your build config. Is it simply a <code>tsc</code> command?"}, {"owner": {"reputation": 4383, "user_id": 3879958, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7e2da56bf614badaa79e253554a6357c?s=128&d=identicon&r=PG", "display_name": "ET-CS", "link": "https://stackoverflow.com/users/3879958/et-cs"}, "reply_to_user": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "edited": false, "score": 0, "creation_date": 1554950256, "post_id": 55617141, "comment_id": 97940458, "body": "@hackape thank you. Running <code>yarn&#47;npm install</code> inside the server project download the library and triggers <code>prepare</code> script which run <code>npm run build</code> -&gt; <code>tsc</code>. This for building the <code>&#47;dist</code> dir to be available for using in the server. The errors are coming from the <code>tsc</code> command."}, {"owner": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "edited": false, "score": 0, "creation_date": 1554953779, "post_id": 55617141, "comment_id": 97941089, "body": "This error is valid, tho its the tapable&#39;s fault. Now there&#39;s only two escapes. Either you add a custom <code>.d.ts</code> to fix that wrong types, or you figure out <b>why</b> tsc includes tapable as a source input, which seem strange unless your lib deps (NOT devDeps) on tapable in source code. If it&#39;s unnecessary, try exclude it from tsc source input."}, {"owner": {"reputation": 1848, "user_id": 3075533, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/3b107ca88682ff7617aceb1f810cec5c?s=128&d=identicon&r=PG&f=1", "display_name": "mohsenmadi", "link": "https://stackoverflow.com/users/3075533/mohsenmadi"}, "edited": false, "score": 0, "creation_date": 1554987071, "post_id": 55617141, "comment_id": 97956893, "body": "You went the other way :-) My problem was running lint. Removing the <code>run lint</code> command is what did it for me."}, {"owner": {"reputation": 1848, "user_id": 3075533, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/3b107ca88682ff7617aceb1f810cec5c?s=128&d=identicon&r=PG&f=1", "display_name": "mohsenmadi", "link": "https://stackoverflow.com/users/3075533/mohsenmadi"}, "edited": false, "score": 0, "creation_date": 1554992188, "post_id": 55617141, "comment_id": 97960570, "body": "Also, run your commands with <code>sudo</code>; lack of permission gives errors unrelated to permissions sometimes."}, {"owner": {"reputation": 4383, "user_id": 3879958, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7e2da56bf614badaa79e253554a6357c?s=128&d=identicon&r=PG", "display_name": "ET-CS", "link": "https://stackoverflow.com/users/3879958/et-cs"}, "reply_to_user": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "edited": false, "score": 0, "creation_date": 1555101723, "post_id": 55617141, "comment_id": 98006842, "body": "@hackape sounds right. any idea how to exclude it from tsc source input?"}, {"owner": {"reputation": 4383, "user_id": 3879958, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7e2da56bf614badaa79e253554a6357c?s=128&d=identicon&r=PG", "display_name": "ET-CS", "link": "https://stackoverflow.com/users/3879958/et-cs"}, "edited": false, "score": 0, "creation_date": 1555104662, "post_id": 55617141, "comment_id": 98007774, "body": "thank you both. I&#39;ve found the solution. I had <code>~&#47;node_modules</code> dir which somehow did all this mess`"}], "answers": [{"comments": [{"owner": {"reputation": 4383, "user_id": 3879958, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7e2da56bf614badaa79e253554a6357c?s=128&d=identicon&r=PG", "display_name": "ET-CS", "link": "https://stackoverflow.com/users/3879958/et-cs"}, "edited": false, "score": 0, "creation_date": 1554948189, "post_id": 55620310, "comment_id": 97940090, "body": "not helping. :( even if it were, I prefer avoid skipping"}], "tags": [], "owner": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "is_accepted": false, "score": 0, "last_activity_date": 1554925822, "creation_date": 1554925822, "answer_id": 55620310, "question_id": 55617141, "link": "https://stackoverflow.com/questions/55617141/error-ts2507-type-typeof-tapable-is-not-a-constructor-function-type/55620310#55620310", "title": "error TS2507: Type &#39;typeof Tapable&#39; is not a constructor function type", "body": "<p>TS <code>skipLibCheck</code> compiler option could help</p>\n"}, {"tags": [], "owner": {"reputation": 4383, "user_id": 3879958, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7e2da56bf614badaa79e253554a6357c?s=128&d=identicon&r=PG", "display_name": "ET-CS", "link": "https://stackoverflow.com/users/3879958/et-cs"}, "is_accepted": true, "score": 1, "last_activity_date": 1555104543, "creation_date": 1555104543, "answer_id": 55659663, "question_id": 55617141, "link": "https://stackoverflow.com/questions/55617141/error-ts2507-type-typeof-tapable-is-not-a-constructor-function-type/55659663#55659663", "title": "error TS2507: Type &#39;typeof Tapable&#39; is not a constructor function type", "body": "<p>After successful <code>yarn install</code> at other dev computer, I assumed the problem is at my environment.</p>\n\n<p>I have updated <code>Node.js</code>, <code>npm</code>, <code>yarn</code> to latest versions. removed all global packages. cleared <code>npm</code> &amp; <code>yarn</code> cache. nothing worked.</p>\n\n<p>Finally, I found I had <code>~/node_modules</code> dir with <code>tapable</code> inside it (along with few other packages). I removed that dir entirely and now everything works.</p>\n"}], "owner": {"reputation": 4383, "user_id": 3879958, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7e2da56bf614badaa79e253554a6357c?s=128&d=identicon&r=PG", "display_name": "ET-CS", "link": "https://stackoverflow.com/users/3879958/et-cs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 747, "favorite_count": 1, "accepted_answer_id": 55659663, "answer_count": 2, "score": 0, "last_activity_date": 1555104543, "creation_date": 1554913003, "last_edit_date": 1554924097, "question_id": 55617141, "link": "https://stackoverflow.com/questions/55617141/error-ts2507-type-typeof-tapable-is-not-a-constructor-function-type", "title": "error TS2507: Type &#39;typeof Tapable&#39; is not a constructor function type", "body": "<p>I created a private TypeScript library to use in few other projects I have. Its purpose is to hold shared TS models.</p>\n\n<p>I'll simplify only the important parts of the library repo:</p>\n\n<p><em>index.ts:</em></p>\n\n<pre><code>export interface IApp { ... }\n</code></pre>\n\n<p><em>package.json:</em></p>\n\n<pre><code>{\n  \"name\": \"my-lib\",\n  \"version\": \"1.0.0\",\n  \"main\": \"dist/index.js\",\n  \"types\": \"dist/index.d.ts\",\n  \"scripts\": {\n    \"build\": \"tsc\",\n    \"prepare\": \"npm run build\"\n  },\n  \"devDependencies\": {\n    \"@types/chai\": \"^4.1.7\",\n    \"@types/mocha\": \"^5.2.6\",\n    \"@types/node\": \"^11.13.2\",\n    \"chai\": \"^4.2.0\",\n    \"mocha\": \"^6.1.2\",\n    \"ts-node\": \"^8.0.3\",\n    \"typescript\": \"^3.4.3\"\n  }\n}\n</code></pre>\n\n<p>This is example <code>package.json</code> from another <code>server</code> nodeJs repo that depends on the lib:</p>\n\n<p><em>package.json:</em></p>\n\n<pre><code>{\n  \"name\": \"my-server\",\n  \"scripts\": {\n    \"start\": \"ts-node-dev --respawn --transpileOnly ./src/index.ts\",\n  },\n  \"dependencies\": {\n    \"my-lib\": \"git+ssh://git@gitlab.com/me/my-lib.git\",\n    \"ts-node-dev\": \"^1.0.0-pre.32\",\n  },\n  \"devDependencies\": {\n    \"@types/node\": \"^11.13.0\",\n    \"typescript\": \"^3.4.2\"\n  }\n}\n</code></pre>\n\n<p>upon running <code>yarn install</code> inside the <code>server</code> nodeJs repo, I am getting this error:</p>\n\n<pre><code>$ yarn install\nyarn install v1.15.2\ninfo No lockfile found.\n[1/4] Resolving packages...\n[2/4] Fetching packages...\n[1/4] Resolving packages...\n[2/4] Fetching packages...\n[3/4] Linking dependencies...\n[4/4] Building fresh packages...\n\n$ npm run build\n\n&gt; my-lib@1.0.0 build C:\\Users\\Me\\AppData\\Local\\Yarn\\Cache\\v4\\.tmp\\1f8bdfc66f08780f32df98202058b430.f3e8cc10b42f696133e0e0e207296fcbbd45ba0e.prepare\n&gt; tsc\n\n../../../../../../../node_modules/@types/webpack/index.d.ts:529:28 - error TS2507: Type 'typeof Tapable' is not a constructor function type.\n\n529     class Compiler extends Tapable implements ICompiler {\n                               ~~~~~~~\n\n../../../../../../../node_modules/@types/webpack/index.d.ts:556:42 - error TS2507: Type 'typeof Tapable' is not a constructor function type.\n\n556     abstract class MultiCompiler extends Tapable implements ICompiler {\n                                             ~~~~~~~\n\n\nFound 2 errors.\n\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 2\nnpm ERR! my-lib@1.0.0 build: `tsc`\nnpm ERR! Exit status 2\nnpm ERR!\nnpm ERR! Failed at the my-lib@1.0.0 build script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\Me\\AppData\\Roaming\\npm-cache\\_logs\\2019-04-10T16_00_57_077Z-debug.log\nerror Command failed with exit code 2.\ninfo Visit https://yarnpkg.com/en/docs/cli/install for documentation about this command.\n</code></pre>\n\n<p>I have found this <a href=\"https://github.com/webpack/tapable/issues/53\" rel=\"nofollow noreferrer\">GitHub issue</a>, which suggest adding <code>@types/tapable@0.2.5</code>. I have tried adding it both to the library and the main repo but the issue still persist.</p>\n\n<p>This happens both using <code>npm install</code> and <code>yarn install</code>.</p>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["angular", "typescript", "leaflet", "maps", "ionic4"], "comments": [{"owner": {"reputation": 34057, "user_id": 5108796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf3d4505d0473b230f8b413248f7439f?s=128&d=identicon&r=PG&f=1", "display_name": "ghybs", "link": "https://stackoverflow.com/users/5108796/ghybs"}, "edited": false, "score": 2, "creation_date": 1554914972, "post_id": 55617065, "comment_id": 97928564, "body": "Most probably <a href=\"https://stackoverflow.com/questions/36246815/data-toggle-tab-does-not-download-leaflet-map/36257493#36257493\" title=\"data toggle tab does not download leaflet map\">stackoverflow.com/questions/36246815/&hellip;</a>"}, {"owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "reply_to_user": {"reputation": 34057, "user_id": 5108796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf3d4505d0473b230f8b413248f7439f?s=128&d=identicon&r=PG&f=1", "display_name": "ghybs", "link": "https://stackoverflow.com/users/5108796/ghybs"}, "edited": false, "score": 0, "creation_date": 1554915456, "post_id": 55617065, "comment_id": 97928793, "body": "@ghybs Please see my update and advice me."}, {"owner": {"reputation": 15533, "user_id": 4768502, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5bf027c5077bbd2dfd829313d2a3f738?s=128&d=identicon&r=PG", "display_name": "IvanSanchez", "link": "https://stackoverflow.com/users/4768502/ivansanchez"}, "edited": false, "score": 0, "creation_date": 1554933447, "post_id": 55617065, "comment_id": 97936720, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/36246815/data-toggle-tab-does-not-download-leaflet-map\">Data-toggle tab does not download Leaflet map</a>"}, {"owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "reply_to_user": {"reputation": 15533, "user_id": 4768502, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5bf027c5077bbd2dfd829313d2a3f738?s=128&d=identicon&r=PG", "display_name": "IvanSanchez", "link": "https://stackoverflow.com/users/4768502/ivansanchez"}, "edited": false, "score": 0, "creation_date": 1554940235, "post_id": 55617065, "comment_id": 97938493, "body": "@IvanSanchez It didn&#39;t work. This works for me: <a href=\"https://stackoverflow.com/a/55622789/1077309\">stackoverflow.com/a/55622789/1077309</a>"}], "answers": [{"tags": [], "owner": {"reputation": 115, "user_id": 2310774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EUsZq.jpg?s=128&g=1", "display_name": "Shameer A Mohammed", "link": "https://stackoverflow.com/users/2310774/shameer-a-mohammed"}, "is_accepted": false, "score": 0, "last_activity_date": 1554914806, "creation_date": 1554914806, "answer_id": 55617624, "question_id": 55617065, "link": "https://stackoverflow.com/questions/55617065/leaflet-map-doesnt-cover-whole-map-area/55617624#55617624", "title": "Leaflet map doesn&#39;t cover whole map area", "body": "<p>In my opinion the leaflet is filled 100% in its parents space, can you use the browsers inspect tool to see what is the parents width and height. You can also try using </p>\n\n<p>position: absolute; left: 0;</p>\n\n<p>to ignore parents width</p>\n"}, {"tags": [], "owner": {"reputation": 60, "user_id": 3784444, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c303a2994f4eb5919ab3f7a455cfe6a7?s=128&d=identicon&r=PG&f=1", "display_name": "Luc", "link": "https://stackoverflow.com/users/3784444/luc"}, "is_accepted": false, "score": 0, "last_activity_date": 1554916196, "creation_date": 1554916196, "answer_id": 55617979, "question_id": 55617065, "link": "https://stackoverflow.com/questions/55617065/leaflet-map-doesnt-cover-whole-map-area/55617979#55617979", "title": "Leaflet map doesn&#39;t cover whole map area", "body": "<p>Try removing the padding and changing height to 100vh</p>\n\n<p>Try this:</p>\n\n<pre><code>&lt;ion-content&gt;\n  &lt;div style=\"height: 100vh; width:100%\" leaflet [leafletOptions]=\"options\" *ngIf=\"options\" [leafletCenter]=\"center\"&gt;\n  &lt;/div&gt;\n&lt;/ion-content&gt;\n</code></pre>\n\n<p>If you want to set the transform do it like so:</p>\n\n<pre><code>&lt;ion-content padding&gt;\n  &lt;div style=\"height: 100%; width:100%; transform: translate3D(250px, 200px, 100px)\" leaflet [leafletOptions]=\"options\" *ngIf=\"options\" [leafletCenter]=\"center\"&gt;\n  &lt;/div&gt;\n&lt;/ion-content&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": false, "score": 1, "last_activity_date": 1554919016, "creation_date": 1554919016, "answer_id": 55618669, "question_id": 55617065, "link": "https://stackoverflow.com/questions/55617065/leaflet-map-doesnt-cover-whole-map-area/55618669#55618669", "title": "Leaflet map doesn&#39;t cover whole map area", "body": "<p>I had the same issue in an ionic 4 project. Like suggested in comment with <a href=\"https://stackoverflow.com/a/36257493/6294072\">link</a> I needed to use <code>map.invalidateSize()</code> when I rendered the map, as well as when adding/removing markers or any other action for that matter. This didn't help completely. I also had to manually trigger change detection after that. Here's a sample from our code:</p>\n\n<pre><code>this.map.setView([this.myLocation.latitude, this.myLocation.longitude], 13);\nthis.map.invalidateSize();\nthis.ref.detectChanges();\n</code></pre>\n\n<p>where <code>ref</code> refers to <code>ChangeDetectorRef</code>. </p>\n\n<p>Also make sure that you have the the leaflet css imported in your <code>angular.json</code> file:</p>\n\n<pre><code>\"styles\": [\n  // ....\n  \"./node_modules/leaflet/dist/leaflet.css\"\n]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 34057, "user_id": 5108796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf3d4505d0473b230f8b413248f7439f?s=128&d=identicon&r=PG&f=1", "display_name": "ghybs", "link": "https://stackoverflow.com/users/5108796/ghybs"}, "edited": false, "score": 0, "creation_date": 1554945761, "post_id": 55622789, "comment_id": 97939593, "body": "To be exact what you do here is delaying the map initialization through assigning your <code>options</code> member later, which governs the <code>*ngIf</code> of the map container with its <code>leaflet</code> directive in your template. Should you invalidate the map size instead in this lifecycle hook, the result should be the same."}, {"owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "reply_to_user": {"reputation": 34057, "user_id": 5108796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf3d4505d0473b230f8b413248f7439f?s=128&d=identicon&r=PG&f=1", "display_name": "ghybs", "link": "https://stackoverflow.com/users/5108796/ghybs"}, "edited": false, "score": 0, "creation_date": 1554977179, "post_id": 55622789, "comment_id": 97951157, "body": "@ghybs I have done that. But it didn&#39;t work for me. Maybe I have done it wrong."}], "tags": [], "owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "is_accepted": true, "score": 0, "last_activity_date": 1554940432, "last_edit_date": 1554940432, "creation_date": 1554940092, "answer_id": 55622789, "question_id": 55617065, "link": "https://stackoverflow.com/questions/55617065/leaflet-map-doesnt-cover-whole-map-area/55622789#55622789", "title": "Leaflet map doesn&#39;t cover whole map area", "body": "<p>Here I'm using this with <code>Ionic 4</code> app. I have tried many solutions given by different devs. But none of them worked for me. The problem here is the <code>life cycle</code> event which I have used earlier. So now I use <code>ionViewDidEnter()</code> and no issues.</p>\n\n<pre><code>ionViewDidEnter() {\n    this.center = latLng(Number(this.activatedRoute.snapshot.paramMap.get(\"latitude\")), Number(this.activatedRoute.snapshot.paramMap.get(\"longitude\")));\n    this.options = {\n      layers: [\n        tileLayer(\"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\", { maxZoom: 18, attribution: \"...\" })\n      ],\n      zoom: 17,\n      center: this.center,\n      attributionControl: false,\n    };\n\n    this.layers.push(this.mapService.getMarker(this.center, \"assets/icon/map/placeholder.png\"));\n\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73, "user_id": 4649936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rq01E.jpg?s=128&g=1", "display_name": "Netsab612", "link": "https://stackoverflow.com/users/4649936/netsab612"}, "is_accepted": false, "score": 0, "last_activity_date": 1563222139, "creation_date": 1563222139, "answer_id": 57046694, "question_id": 55617065, "link": "https://stackoverflow.com/questions/55617065/leaflet-map-doesnt-cover-whole-map-area/57046694#57046694", "title": "Leaflet map doesn&#39;t cover whole map area", "body": "<p>I had the same problem, even with the import of leaflet.css and the \"invalidateSize()\" trick.</p>\n\n<p>It was because I wrote in \"myComponent.page.html\":</p>\n\n<pre><code>&lt;ion-content&gt;\n  &lt;div id=\"map\" style=\"height:400px; width: 100%;\"&gt;&lt;/div&gt;\n&lt;/ion-content&gt;\n</code></pre>\n\n<p>It seems Ionic4 css conflicts with leaflet.\nYou need to get the <code>&lt;div&gt;</code> <strong>outside of</strong> <code>&lt;ion-content&gt;</code>.</p>\n\n<p>Correct is just :</p>\n\n<pre><code>&lt;div id=\"map\" style=\"height:400px; width: 100%;\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Hope this help someone</p>\n"}], "owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1435, "favorite_count": 0, "accepted_answer_id": 55622789, "answer_count": 5, "score": -1, "last_activity_date": 1563222139, "creation_date": 1554912705, "last_edit_date": 1554940187, "question_id": 55617065, "link": "https://stackoverflow.com/questions/55617065/leaflet-map-doesnt-cover-whole-map-area", "title": "Leaflet map doesn&#39;t cover whole map area", "body": "<p><strong>Update:</strong> I have put my answer. Please see it. </p>\n\n<p><strong>Original Question:</strong></p>\n\n<p>Can you tell me why <a href=\"https://leafletjs.com/\" rel=\"nofollow noreferrer\">leaflet map</a> doesn't show on the full map area?</p>\n\n<p><em>.html</em></p>\n\n<pre><code>&lt;ion-content padding&gt;\n  &lt;div style=\"height: 100%;width:100%\" leaflet [leafletOptions]=\"options\" *ngIf=\"options\" [leafletCenter]=\"center\"&gt;\n  &lt;/div&gt;\n&lt;/ion-content&gt;\n</code></pre>\n\n<p><em>.ts</em></p>\n\n<pre><code>  init(): void {\n    this.options = {\n      layers: [\n        tileLayer(\"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\", { maxZoom: 18, attribution: \"...\" })\n      ],\n      zoom: 10,\n      center: this.center = latLng(Number(this.activatedRoute.snapshot.paramMap.get(\"latitude\")), Number(this.activatedRoute.snapshot.paramMap.get(\"longitude\"))),\n      attributionControl: false,\n    };\n  }\n</code></pre>\n\n<p><em>UI</em></p>\n\n<p><a href=\"https://i.stack.imgur.com/0BPLj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0BPLj.png\" alt=\"enter image description here\"></a></p>\n\n<p>Please see the image. It seems a problem with <code>transform</code>. Default it was <code>0,0,0</code>. I have changed it manually on the browser like so. So how can I set it to the map?</p>\n\n<p><a href=\"https://i.stack.imgur.com/4RZ68.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4RZ68.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript", "oop"], "comments": [{"owner": {"reputation": 3645, "user_id": 6019563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1072513362799030/picture?type=large", "display_name": "Sachin Gupta", "link": "https://stackoverflow.com/users/6019563/sachin-gupta"}, "edited": false, "score": 1, "creation_date": 1554912687, "post_id": 55616987, "comment_id": 97927365, "body": "You might have a bigger problem if you handle a form this big without having any class. By having an interface/class structure, you can create controls and manage the form data easily"}], "answers": [{"comments": [{"owner": {"reputation": 534, "user_id": 6683120, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/d54Aq.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/6683120/robert"}, "edited": false, "score": 0, "creation_date": 1554966174, "post_id": 55619056, "comment_id": 97944943, "body": "Yeah my approach about the class actually is the same, the only think that change is that i use only one component to disaply the form, i saw that you splitted the html in other child form component. What&#39;s the pro and cons about that? one html with the huge form? or split the form based on his formgroup like: user info, istruction hystory etc..."}, {"owner": {"reputation": 1559, "user_id": 2354162, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/07Dq3.jpg?s=128&g=1", "display_name": "Standaa - Monica side", "link": "https://stackoverflow.com/users/2354162/standaa-monica-side"}, "reply_to_user": {"reputation": 534, "user_id": 6683120, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/d54Aq.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/6683120/robert"}, "edited": false, "score": 0, "creation_date": 1554973955, "post_id": 55619056, "comment_id": 97949142, "body": "The main advantage is readability, because otherwise you end up with a huge template. The only drawback I can think of is having to pass data from child to parent using a SharedService, which is very reasonable in terms of overhead. I am personally not a huge fan of <code>@Output</code>. I find it too rigid for most real world use cases. Finally I encourage you to stick with <code>FormBuilder</code>, which works really well with complex forms."}], "tags": [], "owner": {"reputation": 1559, "user_id": 2354162, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/07Dq3.jpg?s=128&g=1", "display_name": "Standaa - Monica side", "link": "https://stackoverflow.com/users/2354162/standaa-monica-side"}, "is_accepted": false, "score": 0, "last_activity_date": 1554920625, "creation_date": 1554920625, "answer_id": 55619056, "question_id": 55616987, "link": "https://stackoverflow.com/questions/55616987/should-i-create-a-class-for-a-form-data/55619056#55619056", "title": "Should i create a class for a form data?", "body": "<p>First, you should go with multiple classes that mirror the structure of your Json.</p>\n\n<p>Here is a short example :</p>\n\n<p>user.ts :</p>\n\n<pre><code>import { PersonalInformation } from './personal-information';\n\nexport class User {\n  _id: string;\n  email: string;\n  createdAt: number;\n  updatedAt: number;\n  personalInformation: PersonalInformation;\n  someOtherInformation: SomeOtherInformation\n}\n</code></pre>\n\n<p>personal-information.ts : </p>\n\n<pre><code>import { Address } from './address';\nimport { Country } from './country';\n\nexport class PersonalInformation {\n  avatarUrl?: URL;\n  firstName?: string;\n  lastName?: string;\n  birthDate?:string;\n  countryOfResidence?: Country;\n  address?: Address;\n  phone?: number;\n};\n</code></pre>\n\n<p>And define each nested object using the same logic.</p>\n\n<p>Then, to mitigate the complexity of your parent component, you can nest sub-components and manage the validation of some fields in them :</p>\n\n<p>parent-component.ts :</p>\n\n<pre><code>let someInformation: SomeInformation = this.sharedService.user.someInformation;\n\nthis.parentFormGroup = this.formBuilder.group({\n         countryCtrl: someInformation.accountCountry : '', Validators.required],        \n         child: this.formBuilder.group({\n           accountNumberCtrl: ['', [ Validators.required, Validators.minLength(5)]], &gt;&gt;&gt;&gt; YOU CAN SET VALUES FOR YOUR FORM BY REPLACING ''\n           [...]\n         }),\n         additionalInformationCtrl: [(userBankingInformation) ? userBankingInformation.additionalInformation : '']\n    });\n</code></pre>\n\n<p>parent-component.html :</p>\n\n<pre><code>  &lt;form [formGroup]=\"parentFormGroup\" (ngSubmit)=\"onSubmit(parentFormGroup)\"&gt;\n\n    &lt;div&gt;\n      &lt;country-search-input [parent]=\"parentFormGroup\" [countries]=\"countries\" [title]=\"title\"&gt;&lt;/country-search-input&gt;\n    [...]\n    &lt;div formGroupName=\"child\"&gt;\n      &lt;account-information [parent]=\"parentFormGroup.controls.child\"&gt;&lt;/account-information&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>child-component.ts :</p>\n\n<pre><code>export class ChildComponent {\n  @Input()\n  parent: FormGroup\n\n  // You can do some of the work here\n}\n</code></pre>\n\n<p>child-component.html :</p>\n\n<pre><code>&lt;div class=\"some-class-name\" [formGroup]=\"parent\"&gt;\n  &lt;mat-form-field class=\"some-information-form\"&gt;\n    &lt;input matInput type=\"text\" pattern=\"[a-zA-Z0-9-]+\" placeholder=\"Account number\" formControlName=\"accountNumberCtrl\" required&gt;\n  &lt;/mat-form-field&gt;\n  [...]\n&lt;/div&gt;\n</code></pre>\n\n<p>You can design and put custom validators in other files should you need it.\nI hope that helps.\nGood luck.</p>\n"}], "owner": {"reputation": 534, "user_id": 6683120, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/d54Aq.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/6683120/robert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554920625, "creation_date": 1554912510, "question_id": 55616987, "link": "https://stackoverflow.com/questions/55616987/should-i-create-a-class-for-a-form-data", "title": "Should i create a class for a form data?", "body": "<p>I have a form that need to be compiled and later edited if the user want. Actually the logic work in that way: i fetch the Json data from the server, use a interface to help me with Intellisense, and after i patch all the data from the Json in the form value (Reactive Form). All the logic is handled inside the component where the form is created. Should I create a class based on the forms value and parse the data of Json in the class? the only problem is that the class will be giant because the form have like 30 field value.</p>\n"}, {"tags": ["json", "angular", "typescript", "mat-table"], "comments": [{"owner": {"reputation": 4656, "user_id": 1787388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSr04.png?s=128&g=1", "display_name": "shusson", "link": "https://stackoverflow.com/users/1787388/shusson"}, "edited": false, "score": 0, "creation_date": 1554911157, "post_id": 55616590, "comment_id": 97926499, "body": "try and make your question more specific. The angular material docs contains examples for Mat Table <a href=\"https://material.angular.io/components/table/overview\" rel=\"nofollow noreferrer\">material.angular.io/components/table/overview</a>."}, {"owner": {"reputation": 2131, "user_id": 7674358, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C3MZIj8KGao/AAAAAAAAAAI/AAAAAAAACQA/EwJ93h-Abno/photo.jpg?sz=128", "display_name": "ajai Jothi", "link": "https://stackoverflow.com/users/7674358/ajai-jothi"}, "edited": false, "score": 0, "creation_date": 1554911834, "post_id": 55616590, "comment_id": 97926904, "body": "<code>carrier</code>, <code>shipTime</code>, <code>price</code> always have the same length?"}, {"owner": {"reputation": 57, "user_id": 7806676, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d519c1a31a71dd3dd8b42eaace4aa6dd?s=128&d=identicon&r=PG&f=1", "display_name": "Abifoluwa Oni", "link": "https://stackoverflow.com/users/7806676/abifoluwa-oni"}, "reply_to_user": {"reputation": 2131, "user_id": 7674358, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C3MZIj8KGao/AAAAAAAAAAI/AAAAAAAACQA/EwJ93h-Abno/photo.jpg?sz=128", "display_name": "ajai Jothi", "link": "https://stackoverflow.com/users/7674358/ajai-jothi"}, "edited": false, "score": 0, "creation_date": 1554912238, "post_id": 55616590, "comment_id": 97927129, "body": "yes it will always be the same length @ajai jothi"}, {"owner": {"reputation": 57, "user_id": 7806676, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d519c1a31a71dd3dd8b42eaace4aa6dd?s=128&d=identicon&r=PG&f=1", "display_name": "Abifoluwa Oni", "link": "https://stackoverflow.com/users/7806676/abifoluwa-oni"}, "reply_to_user": {"reputation": 4656, "user_id": 1787388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSr04.png?s=128&g=1", "display_name": "shusson", "link": "https://stackoverflow.com/users/1787388/shusson"}, "edited": false, "score": 0, "creation_date": 1554988873, "post_id": 55616590, "comment_id": 97958189, "body": "@shusson i don&#39;t understand, isn&#39;t my question specific enough?"}], "answers": [{"tags": [], "owner": {"reputation": 451, "user_id": 6200704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9347ef2531717e2abb0a4569722e2a?s=128&d=identicon&r=PG&f=1", "display_name": "andahan", "link": "https://stackoverflow.com/users/6200704/andahan"}, "is_accepted": false, "score": 1, "last_activity_date": 1554919935, "last_edit_date": 1554919935, "creation_date": 1554912759, "answer_id": 55617082, "question_id": 55616590, "link": "https://stackoverflow.com/questions/55616590/display-data-on-new-row-if-array-in-json-is-greater-than-1/55617082#55617082", "title": "Display Data on new row if array in json is greater than 1", "body": "<p>You'll have to re-format the data yourself, preferably in your Angular service where you fetch the data initially.</p>\n\n<p>Assuming the carrier, shipTime, and price arrays are always equal length and in corresponding order, the below should work.</p>\n\n<pre><code>const newResp = [];\nresp.forEach(promo =&gt; {\n  promo.carrier.forEach((carrier, i) =&gt; {\n    const shipTime = promo.shipTime[i];\n    const price = promo.price[i];\n    newResp.push({ ...promo, carrier, shipTime, price });\n  });\n});\nreturn newResp;\n</code></pre>\n\n<p>This code is creating a new entry in the newResp list for each carrier in each promotion. If a promotion doesn't have any carriers, no entries will be created for that promotion.</p>\n"}, {"comments": [{"owner": {"reputation": 57, "user_id": 7806676, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d519c1a31a71dd3dd8b42eaace4aa6dd?s=128&d=identicon&r=PG&f=1", "display_name": "Abifoluwa Oni", "link": "https://stackoverflow.com/users/7806676/abifoluwa-oni"}, "edited": false, "score": 0, "creation_date": 1554987231, "post_id": 55617223, "comment_id": 97956990, "body": "wasn&#39;t available to thumbs up yesterday. It worked, Thank you."}], "tags": [], "owner": {"reputation": 2131, "user_id": 7674358, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C3MZIj8KGao/AAAAAAAAAAI/AAAAAAAACQA/EwJ93h-Abno/photo.jpg?sz=128", "display_name": "ajai Jothi", "link": "https://stackoverflow.com/users/7674358/ajai-jothi"}, "is_accepted": true, "score": 1, "last_activity_date": 1554913311, "creation_date": 1554913311, "answer_id": 55617223, "question_id": 55616590, "link": "https://stackoverflow.com/questions/55616590/display-data-on-new-row-if-array-in-json-is-greater-than-1/55617223#55617223", "title": "Display Data on new row if array in json is greater than 1", "body": "<p>Assuming the <code>carrier</code> <code>price</code> and <code>shipTime</code> has the same length. Now you can loop through <code>modifiedInput</code> to display in a table.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const input = [{\r\n  \"promo\": \"Mon\",\r\n  \"start\": \"2019\",\r\n  \"carrier\": ['UPS Ground', 'UPS Express', 'UPS Expedited'],\r\n  \"end\": \"2020\",\r\n  \"shipTime\": ['10', '2Day', 'Overnight'],\r\n  \"price\": ['0.0', '14.99', '24.99']\r\n},{\r\n  \"promo\": \"Tue\",\r\n  \"start\": \"2019\",\r\n  \"carrier\": 'UPS Ground',\r\n  \"end\": \"2020\",\r\n  \"shipTime\": 'Overnight',\r\n  \"price\": '14.99'\r\n}];\r\n\r\nconst modifiedInput = input.reduce((output, item) =&gt; {\r\n  if(item.carrier instanceof Array) {\r\n    item.carrier.forEach((carrier, index) =&gt; {\r\n      output.push({\r\n        ...item,\r\n        carrier,\r\n        shipTime: item.shipTime[index],\r\n        price: item.price[index]\r\n      });\r\n    });\r\n  } else {\r\n    output.push(item);\r\n  }\r\n\r\n  return output;\r\n}, []);\r\n\r\nconsole.log(modifiedInput);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper {\r\n  max-height: 100% !important;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 57, "user_id": 7806676, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d519c1a31a71dd3dd8b42eaace4aa6dd?s=128&d=identicon&r=PG&f=1", "display_name": "Abifoluwa Oni", "link": "https://stackoverflow.com/users/7806676/abifoluwa-oni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 55617223, "answer_count": 2, "score": 1, "last_activity_date": 1554919935, "creation_date": 1554911044, "last_edit_date": 1554912042, "question_id": 55616590, "link": "https://stackoverflow.com/questions/55616590/display-data-on-new-row-if-array-in-json-is-greater-than-1", "title": "Display Data on new row if array in json is greater than 1", "body": "<p>I am making a call to an Api in Angular and displaying the data on a mat-table in Angular 7. </p>\n\n<p>The Response is something like this </p>\n\n<pre><code>{\n            \"promo\": \"Mon\",\n            \"start\": \"2019\",\n            \"carrier\": \"[UPS Ground, UPS Express, UPS Expedited]\",\n            \"end\": \"2020\",\n            \"shipTime\": \"[10, 2Day, Overnight]\",\n            \"price\": \"[0.0, 14.99, 24.99]\", \n        }\n</code></pre>\n\n<p>I am displaying this Data on a Mat Table like this </p>\n\n<pre><code>Mon|2019| [UPS Ground, UPS Express, UPS Expedited] | 2020 | [10, 2Day, Overnight]| [0.0, 14.99, 24.99]\n\nBut i want to display it like this \n\nMon | 2019 | UPS Ground | 2020 |10 | 0.0\n\nMon | 2019 | UPS Express | 2020 |2day| 14.99\n\nMon | 2019 | UPS Expedited | 2020 | Overnight | 24.99\n</code></pre>\n\n<p>Is there any advice, link, or tutorial that i can be pointed to? I have search around and can't find anything. </p>\n\n<p>Thank you</p>\n"}, {"tags": ["javascript", "typescript", "unit-testing", "testing", "jestjs"], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 9265858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd368c318fd1307ba9c322236a3b863d?s=128&d=identicon&r=PG&f=1", "display_name": "tkss", "link": "https://stackoverflow.com/users/9265858/tkss"}, "edited": false, "score": 0, "creation_date": 1554942240, "post_id": 55622311, "comment_id": 97938908, "body": "Unfortunately, this didn&#39;t work. I do think I can utilize that to get around of the compiler errors though. I had created a window.d.ts folder and placed my AudioContext in there to get around the compiler errors instead, but I understand the way you suggested more. Weirdly enough, I have the test and mock working on a simple TypeScript version of my project, but I still get TypeError from above in my actual project."}, {"owner": {"reputation": 105, "user_id": 9265858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd368c318fd1307ba9c322236a3b863d?s=128&d=identicon&r=PG&f=1", "display_name": "tkss", "link": "https://stackoverflow.com/users/9265858/tkss"}, "edited": false, "score": 0, "creation_date": 1554943997, "post_id": 55622311, "comment_id": 97939247, "body": "I guess one work around could be making a AudioContextMock class and doing - const audioContext: AudioContext =   new (AudioContext || (window as any).webkitAudioContext || AudioContextMock)(); so that I won&#39;t get the error in Node."}, {"owner": {"reputation": 105, "user_id": 9265858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd368c318fd1307ba9c322236a3b863d?s=128&d=identicon&r=PG&f=1", "display_name": "tkss", "link": "https://stackoverflow.com/users/9265858/tkss"}, "edited": false, "score": 0, "creation_date": 1554945314, "post_id": 55622311, "comment_id": 97939503, "body": "Apologies - I made a mistake with my first comment. With the code snippet that you posted, I get the &quot;Reference Error: AudioContext is not defined&quot; when I run my test, not the TypeError."}, {"owner": {"reputation": 15831, "user_id": 203371, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/IFBUC.jpg?s=128&g=1", "display_name": "Ben Smith", "link": "https://stackoverflow.com/users/203371/ben-smith"}, "reply_to_user": {"reputation": 105, "user_id": 9265858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd368c318fd1307ba9c322236a3b863d?s=128&d=identicon&r=PG&f=1", "display_name": "tkss", "link": "https://stackoverflow.com/users/9265858/tkss"}, "edited": false, "score": 0, "creation_date": 1554986637, "post_id": 55622311, "comment_id": 97956630, "body": "In that case did you try using (window as any).AudioContext?"}], "tags": [], "owner": {"reputation": 15831, "user_id": 203371, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/IFBUC.jpg?s=128&g=1", "display_name": "Ben Smith", "link": "https://stackoverflow.com/users/203371/ben-smith"}, "is_accepted": false, "score": 1, "last_activity_date": 1554936764, "last_edit_date": 1554936764, "creation_date": 1554936423, "answer_id": 55622311, "question_id": 55616119, "link": "https://stackoverflow.com/questions/55616119/testing-and-mocking-with-jest-audiocontext/55622311#55622311", "title": "Testing and Mocking with Jest, AudioContext", "body": "<p>You can get around this problem by specifying window as type \"any\" i.e.</p>\n\n<pre><code>const audioContext: AudioContext = \n new (AudioContext || (window as any).webkitAudioContext)();\n</code></pre>\n\n<p>As has been described <a href=\"https://stackoverflow.com/a/38964459/203371\">here</a>.</p>\n\n<p>Note that I don't think you need to access AudioContext via window in your code as this should be available.</p>\n"}, {"tags": [], "owner": {"reputation": 829, "user_id": 8772013, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buygm.jpg?s=128&g=1", "display_name": "DJ House", "link": "https://stackoverflow.com/users/8772013/dj-house"}, "is_accepted": false, "score": 1, "last_activity_date": 1610636352, "creation_date": 1610636352, "answer_id": 65721436, "question_id": 55616119, "link": "https://stackoverflow.com/questions/55616119/testing-and-mocking-with-jest-audiocontext/65721436#65721436", "title": "Testing and Mocking with Jest, AudioContext", "body": "<p>Old post, but I thought I would share how I handled the typescript error. To keep the leverage of Typescript and types, I just added the <code>webkitAudioContext</code> to the defined <code>Window</code> typing. My code looks like:</p>\n<pre><code>declare var window: {\n  webkitAudioContext: typeof AudioContext;\n} &amp; Window &amp; typeof globalThis;\n\nconst audioContext = new (window.AudioContext || window.webkitAudioContext)();\n</code></pre>\n<p>That essentially tells typescript to union <code>Window &amp; typeof globalThis</code> with the new <code>webkitAudioContext</code> property.</p>\n<p>As far as the <strong>ReferenceError: AudioContext is not defined</strong> error, that is most likely because <code>AudioContext</code> is not mocked (like you said \u2013\u00a0this is also the question I was searching for when I stumbled across your post). I know jest uses jsdom to mock the dom. <a href=\"https://github.com/jsdom/jsdom/issues/2900\" rel=\"nofollow noreferrer\">jsdom currently doesn't support AudioContext mocks</a></p>\n"}], "owner": {"reputation": 105, "user_id": 9265858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd368c318fd1307ba9c322236a3b863d?s=128&d=identicon&r=PG&f=1", "display_name": "tkss", "link": "https://stackoverflow.com/users/9265858/tkss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1311, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1610636352, "creation_date": 1554909493, "last_edit_date": 1554922678, "question_id": 55616119, "link": "https://stackoverflow.com/questions/55616119/testing-and-mocking-with-jest-audiocontext", "title": "Testing and Mocking with Jest, AudioContext", "body": "<p>I've been having a lot of trouble trying to do some testing on my classes that use AudioContext. I believe a lot of my frustration stems from not having a good understanding of mocking functions and possibly how tests are executed. </p>\n\n<p>I'm trying to test one class that takes AudioContext, however I keep getting this error when I run a test:</p>\n\n<p>When using TypeScript files:\n<strong>TypeError: (window.AudioContext || window.webkitAudioContext) is not a constructor</strong><br>\nThis error happens inside the app.ts file. When I run a test does it have to resolve or execute all of it's dependencies?</p>\n\n<p>When using JavaScript files this error occurs in the test file: <strong>ReferenceError: AudioContext is not defined</strong></p>\n\n<p>Right now, I assume I have to make a mock AudioContext. How do I even go about knowing all the methods on AudioContext to begin to manually mock it? </p>\n\n<p>Here's a simplified version of my sheets. I will provide TS and JS versions of both:</p>\n\n<p>TypeScript File Versions:</p>\n\n<pre><code>// app.ts\nimport Sampler from './Sampler';\nconst audioContext: AudioContext = new (window.AudioContext || window.webkitAudioContext)();\nconst sampler: Sampler = new Sampler(audioContext);\n\n\n// Sampler.ts\nexport default class Sampler{\n    private audioContext: AudioContext;\n\n    constructor(audioContext: AudioContext){\n        this.audioContext = audioContext;      \n    }\n }\n</code></pre>\n\n<p>JS File Versions:</p>\n\n<pre><code>// app.js\nconst Sampler = require('./Sampler');\nconst audioContext =  new (window.AudioContext || window.webkitAudioContext)();\nconst sampler = new Sampler(audioContext);\n\n// Sampler.js\nclass Sampler{\n    constructor(audioContext){\n        this.audioContext = audioContext;   \n    }\n}\nmodule.exports = Sampler;\n</code></pre>\n\n<p>Test file that brings up the errors in bold that I mentioned earlier:</p>\n\n<pre><code>// sampler.test.ts\n\nimport Sampler from './Sampler';\n// Uncomment line below if you're using plain JS and not TS\n// const Sampler = require('./Sampler');\n\ntest('Test test', () =&gt; {\n  const audioContext = new AudioContext();\n  const s = new Sampler(audioContext);\n})\n</code></pre>\n\n<p><strong>Update:</strong>\nI have the code working for plain JS files now. I added an empty AudioContext mock to my tests.</p>\n\n<pre><code>// sampler.test.js\nconst Sampler = require('./Sampler');\nrequire('./__mocks__/app');\n\n\ntest('Testing Mock AudioContext', () =&gt; {\n    const audioContext = new AudioContext();\n    const s = new Sampler(audioContext);\n})\n\n\n// __mocks__/app.js\nwindow.AudioContext = jest.fn().mockImplementation(() =&gt; {\n    return {}\n});\n</code></pre>\n\n<p>Since my project is written in TypeScript, I tried adding the mock to my project, but I still get the error from above \"TypeError: (window.AudioContext || window.webkitAudioContext) is not a constructor\".</p>\n\n<p>Thanks :).</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 6768, "user_id": 1331040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fRC2U.png?s=128&g=1", "display_name": "Harun Yilmaz", "link": "https://stackoverflow.com/users/1331040/harun-yilmaz"}, "reply_to_user": {"reputation": 1612, "user_id": 1367915, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/3rLB0.jpg?s=128&g=1", "display_name": "Whistler", "link": "https://stackoverflow.com/users/1367915/whistler"}, "edited": false, "score": 0, "creation_date": 1554909440, "post_id": 55615880, "comment_id": 97925535, "body": "Could you try converting <code>fnScanEnable()</code> to arrow function too?"}, {"owner": {"reputation": 1612, "user_id": 1367915, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/3rLB0.jpg?s=128&g=1", "display_name": "Whistler", "link": "https://stackoverflow.com/users/1367915/whistler"}, "edited": false, "score": 0, "creation_date": 1554909708, "post_id": 55615880, "comment_id": 97925693, "body": "still no change"}, {"owner": {"reputation": 6768, "user_id": 1331040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fRC2U.png?s=128&g=1", "display_name": "Harun Yilmaz", "link": "https://stackoverflow.com/users/1331040/harun-yilmaz"}, "reply_to_user": {"reputation": 1612, "user_id": 1367915, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/3rLB0.jpg?s=128&g=1", "display_name": "Whistler", "link": "https://stackoverflow.com/users/1367915/whistler"}, "edited": false, "score": 0, "creation_date": 1554909832, "post_id": 55615880, "comment_id": 97925769, "body": "Then I don&#39;t know what else to do. Can you create a project at <a href=\"https://stackblitz.com\" rel=\"nofollow noreferrer\">stackblitz.com</a> so that I can help you further?"}, {"owner": {"reputation": 1612, "user_id": 1367915, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/3rLB0.jpg?s=128&g=1", "display_name": "Whistler", "link": "https://stackoverflow.com/users/1367915/whistler"}, "edited": false, "score": 0, "creation_date": 1554909997, "post_id": 55615880, "comment_id": 97925850, "body": "That is not possible as external js file only works when on handheld device. The functions works ok when I dont use angular but simple in &lt;script&gt;&lt;/script&gt;.  But I want to integrate this with angular app."}, {"owner": {"reputation": 1612, "user_id": 1367915, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/3rLB0.jpg?s=128&g=1", "display_name": "Whistler", "link": "https://stackoverflow.com/users/1367915/whistler"}, "edited": false, "score": 0, "creation_date": 1554910076, "post_id": 55615880, "comment_id": 97925895, "body": "Maybe there is other way I could pass data from this function to component?"}, {"owner": {"reputation": 6768, "user_id": 1331040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fRC2U.png?s=128&g=1", "display_name": "Harun Yilmaz", "link": "https://stackoverflow.com/users/1331040/harun-yilmaz"}, "reply_to_user": {"reputation": 1612, "user_id": 1367915, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/3rLB0.jpg?s=128&g=1", "display_name": "Whistler", "link": "https://stackoverflow.com/users/1367915/whistler"}, "edited": false, "score": 0, "creation_date": 1554913727, "post_id": 55615880, "comment_id": 97927913, "body": "<code>NgZone</code> may be what you are looking for: <a href=\"https://angular.io/api/core/NgZone\" rel=\"nofollow noreferrer\">angular.io/api/core/NgZone</a> You can run functions outside Angular zone"}], "tags": [], "owner": {"reputation": 6768, "user_id": 1331040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fRC2U.png?s=128&g=1", "display_name": "Harun Yilmaz", "link": "https://stackoverflow.com/users/1331040/harun-yilmaz"}, "is_accepted": false, "score": 2, "last_activity_date": 1554908803, "creation_date": 1554908803, "answer_id": 55615880, "question_id": 55615840, "link": "https://stackoverflow.com/questions/55615840/binding-callback-function-in-angular/55615880#55615880", "title": "Binding callback function in Angular", "body": "<p>You can either use <code>bind()</code> or <code>arrow function</code></p>\n\n<p>Using <code>bind()</code>:</p>\n\n<pre><code>fnScanEnable() {\n    EB.Barcode.enable({ allDecoders: true }, this.fnBarcodeScanned.bind(this));\n    this.scanData = \"enabled: press HW trigger to capture.\";\n }\n</code></pre>\n\n<p>Using <code>arrow function</code>:</p>\n\n<pre><code>fnBarcodeScanned = (scan) =&gt; {\n   alert(scan.data);\n   this.scanData = \"barcode: \" + scan.data;\n }\n</code></pre>\n"}], "owner": {"reputation": 1612, "user_id": 1367915, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/3rLB0.jpg?s=128&g=1", "display_name": "Whistler", "link": "https://stackoverflow.com/users/1367915/whistler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1051, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554908803, "creation_date": 1554908697, "question_id": 55615840, "link": "https://stackoverflow.com/questions/55615840/binding-callback-function-in-angular", "title": "Binding callback function in Angular", "body": "<p>I got an external js file loaded to my Angular project and one of the function is a callback function which I have assigned to one of my functions <code>fnBarcodeScanned(scan)</code>.</p>\n\n<p>Everything works correctly as I'm getting alert with correctly scanned barcode but next line doesn't assign a barcode to my local variable <code>this.scanData</code>.</p>\n\n<pre><code>export class HomeComponent implements OnInit {\n scanData: string;\n\n ngOnInit() {\n }\n\n fnScanEnable() {\n    EB.Barcode.enable({ allDecoders: true }, this.fnBarcodeScanned);\n    this.scanData = \"enabled: press HW trigger to capture.\";\n }\n\n fnBarcodeScanned(scan) {\n   alert(scan.data);\n   this.scanData = \"barcode: \" + scan.data;\n }\n\n  fnScanDisable() {\n   EB.Barcode.disable();\n   this.scanData = \"disabled: press 'enable' to scan.\";\n }\n}\n</code></pre>\n\n<p>How can I bind <code>fnBarcodeScanned(scan)</code> function? As it seems to me it lost binding with the component when it was passed to callback.</p>\n"}, {"tags": ["html", "angular", "typescript", "angular7"], "comments": [{"owner": {"reputation": 4755, "user_id": 8430155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/655d1d5c6571635c65c90670361700cf?s=128&d=identicon&r=PG&f=1", "display_name": "Harshal Parekh", "link": "https://stackoverflow.com/users/8430155/harshal-parekh"}, "edited": false, "score": 0, "creation_date": 1554909329, "post_id": 55615823, "comment_id": 97939987, "body": "You might want to look into the official example for a start / inspiration: <a href=\"https://material.angular.io/cdk/drag-drop/overview\" rel=\"nofollow noreferrer\">https://material.angular.io/cdk/drag-drop/overview</a>"}, {"owner": {"reputation": 103, "user_id": 9422304, "user_type": "registered", "profile_image": "https://graph.facebook.com/1552390041517468/picture?type=large", "display_name": "Miguel &#193;ngel Mart&#237;n", "link": "https://stackoverflow.com/users/9422304/miguel-%c3%81ngel-mart%c3%adn"}, "reply_to_user": {"reputation": 4755, "user_id": 8430155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/655d1d5c6571635c65c90670361700cf?s=128&d=identicon&r=PG&f=1", "display_name": "Harshal Parekh", "link": "https://stackoverflow.com/users/8430155/harshal-parekh"}, "edited": false, "score": 0, "creation_date": 1554962529, "post_id": 55615823, "comment_id": 97943425, "body": "Thank you very much, if I look at the documentation but can not find anything"}, {"owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "edited": false, "score": 0, "creation_date": 1554977884, "post_id": 55615823, "comment_id": 97951584, "body": "you got nothing? what does that mean? try: <a href=\"https://run.stackblitz.com/api/angular/v1?file=app%2Fcdk-drag-drop-sorting-example.ts\" rel=\"nofollow noreferrer\">run.stackblitz.com/api/angular/&hellip;</a>"}, {"owner": {"reputation": 103, "user_id": 9422304, "user_type": "registered", "profile_image": "https://graph.facebook.com/1552390041517468/picture?type=large", "display_name": "Miguel &#193;ngel Mart&#237;n", "link": "https://stackoverflow.com/users/9422304/miguel-%c3%81ngel-mart%c3%adn"}, "edited": false, "score": 0, "creation_date": 1554981505, "post_id": 55615823, "comment_id": 97953558, "body": "I have the fields created, the ts created and the fields created, I can drag objects between containers, but I want to create more containers dynamically"}], "owner": {"reputation": 103, "user_id": 9422304, "user_type": "registered", "profile_image": "https://graph.facebook.com/1552390041517468/picture?type=large", "display_name": "Miguel &#193;ngel Mart&#237;n", "link": "https://stackoverflow.com/users/9422304/miguel-%c3%81ngel-mart%c3%adn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554909329, "creation_date": 1554908638, "question_id": 55615823, "link": "https://stackoverflow.com/questions/55615823/generate-container-drag-and-drop-angular7", "title": "Generate container Drag and Drop Angular7", "body": "<p>I need to be able to create containers to be able to drag items so that I can create groups.</p>\n\n<p>For example this website: <a href=\"http://marceljuenemann.github.io/angular-drag-and-drop-lists/demo/#/nested\" rel=\"nofollow noreferrer\">http://marceljuenemann.github.io/angular-drag-and-drop-lists/demo/#/nested</a></p>\n\n<p>Look New Elements (Container)</p>\n\n<pre><code>&lt;div class=\"card-top\"&gt;\n  &lt;div class=\"card-header\"&gt;\n    &lt;span&gt;&lt;i class=\"fas fa-users\"&gt;&lt;/i&gt; GroupUser1&lt;/span&gt;\n    &lt;div class=\"card-header-actions save-button\"&gt;\n    &lt;a href=\"#\" class=\"card-header-action\" target=\"_blank\"&gt;\n    &lt;small class=\"text-muted\"&gt;&lt;i class=\"far fa-check-circle\"&gt;&lt;/i&gt; Save&lt;/small&gt;\n    &lt;/a&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"card-body\" cdkDropList #pendingList=\"cdkDropList\" [cdkDropListData]=\"todo\" [cdkDropListConnectedTo]=\"[pendingList2, pendingList3]\" (cdkDropListDropped)=\"drop($event)\"&gt;\n    &lt;div class=\"grupo-paciente\" *ngFor=\"let item of todo\" [cdkDragData]=\"item\" cdkDrag&gt;{{item}}&lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "vue.js", "vuejs2", "async-await"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 11341136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf799277b38054c627c1261f619537f7?s=128&d=identicon&r=PG&f=1", "display_name": "vince", "link": "https://stackoverflow.com/users/11341136/vince"}, "edited": false, "score": 0, "creation_date": 1554911225, "post_id": 55616055, "comment_id": 97926546, "body": "Thanks. That makes sense. I&#39;m getting the urls for every character now.  Somehow the images aren&#39;t showing though. The imgSrc in Vue Developer tools say &quot;null&quot;"}, {"owner": {"reputation": 13864, "user_id": 1449624, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e25733719a24d1b446e2c44a6e12583c?s=128&d=identicon&r=PG", "display_name": "A1rPun", "link": "https://stackoverflow.com/users/1449624/a1rpun"}, "reply_to_user": {"reputation": 35, "user_id": 11341136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf799277b38054c627c1261f619537f7?s=128&d=identicon&r=PG&f=1", "display_name": "vince", "link": "https://stackoverflow.com/users/11341136/vince"}, "edited": false, "score": 0, "creation_date": 1554911431, "post_id": 55616055, "comment_id": 97926667, "body": "@vince Nice! Did you use the right protocol <code>http:</code>?"}, {"owner": {"reputation": 35, "user_id": 11341136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf799277b38054c627c1261f619537f7?s=128&d=identicon&r=PG&f=1", "display_name": "vince", "link": "https://stackoverflow.com/users/11341136/vince"}, "edited": false, "score": 0, "creation_date": 1554911795, "post_id": 55616055, "comment_id": 97926884, "body": "Okay so... i went to the toilet right now and when I came back, the images showed. For whatever reason it takes forever to load them.  I hit refresh 10 Minutes ago and they are still not showing. Weird."}, {"owner": {"reputation": 13864, "user_id": 1449624, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e25733719a24d1b446e2c44a6e12583c?s=128&d=identicon&r=PG", "display_name": "A1rPun", "link": "https://stackoverflow.com/users/1449624/a1rpun"}, "reply_to_user": {"reputation": 35, "user_id": 11341136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf799277b38054c627c1261f619537f7?s=128&d=identicon&r=PG&f=1", "display_name": "vince", "link": "https://stackoverflow.com/users/11341136/vince"}, "edited": false, "score": 0, "creation_date": 1554912371, "post_id": 55616055, "comment_id": 97927201, "body": "@vince Don&#39;t hesitate to ask another question if you get stuck, the SO community is happy to help!"}], "tags": [], "owner": {"reputation": 13864, "user_id": 1449624, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e25733719a24d1b446e2c44a6e12583c?s=128&d=identicon&r=PG", "display_name": "A1rPun", "link": "https://stackoverflow.com/users/1449624/a1rpun"}, "is_accepted": true, "score": 0, "last_activity_date": 1554934040, "last_edit_date": 1554934040, "creation_date": 1554909344, "answer_id": 55616055, "question_id": 55615767, "link": "https://stackoverflow.com/questions/55615767/search-for-giphy-url-in-v-for-listing-vue-js/55616055#55616055", "title": "Search for giphy url in v-for listing (Vue.js)", "body": "<p>Vue can't resolve promises in properties so you have to do something like this.</p>\n\n<p><strong>Template</strong></p>\n\n<pre><code>&lt;b-card\n  ...\n  :img-src=\"character.giphyImage\"\n  ...\n&gt;\n</code></pre>\n\n<p><strong>TS</strong></p>\n\n<pre><code>private async created() {\n  ...\n  await Promise.all(this.characters.map(async character =&gt; {\n    character.giphyImage = await this.getGiphy(character.name);\n  }));\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 11341136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf799277b38054c627c1261f619537f7?s=128&d=identicon&r=PG&f=1", "display_name": "vince", "link": "https://stackoverflow.com/users/11341136/vince"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 55616055, "answer_count": 1, "score": 1, "last_activity_date": 1554934040, "creation_date": 1554908443, "question_id": 55615767, "link": "https://stackoverflow.com/questions/55615767/search-for-giphy-url-in-v-for-listing-vue-js", "title": "Search for giphy url in v-for listing (Vue.js)", "body": "<p>I have a list of movie characters which i get from a REST call to my backend using axios. I display them in a bootstrap card for each character. What I'm trying to do is search giphy for the characters name and use the giphy url as img-src for the card.</p>\n\n<p>When I try this and look inside the Vue devtools, the img-src shows \"promise\".</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;template&gt;\n  &lt;div class=\"characters\"&gt;\n    &lt;b-container&gt;\n      &lt;b-card-group columns&gt;\n        &lt;b-card\n          v-for=\"character in characters\"\n          v-bind:key=\"character.id\"\n          :title=\"character.name\"\n          :img-src=\"getGiphy(character.name)\"\n          img-alt=\"Image\"\n          img-top\n          tag=\"article\"\n          style=\"max-width: 20rem;\"\n          class=\"mb-2\"\n        &gt;\n          &lt;b-card-text&gt;\n            This character is a {{character.role}}\n          &lt;/b-card-text&gt;\n        &lt;/b-card&gt;\n      &lt;/b-card-group&gt;\n    &lt;/b-container&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p>i try to get the image source with <code>:img-src=\"getGiphy(character.name)\"</code></p>\n\n<pre><code>@Component\nexport default class Characters extends Vue {\n  public characters: Character[] = [];\n  public fields: string[] = ['name', 'role'];\n\n  public async getGiphy(name: string) {\n    const giphyApi: string =\n      '//api.giphy.com/v1/gifs/search?api_key=xxxxxxxxxxx&amp;limit=1&amp;q=';\n    const response = await axios.get(giphyApi + name);\n    return response.data.data[0].image_url;\n  }\n\n  private async created() {\n    const response = await axios.get('/api/characters');\n    this.characters = await response.data._embedded.characters;\n  }\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "indexer"], "comments": [{"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 2, "creation_date": 1554908573, "post_id": 55615765, "comment_id": 97924980, "body": "what do you mean with <i>array like</i> and what has a function to do with it?"}, {"owner": {"reputation": 1313, "user_id": 8167494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tE1Ek.jpg?s=128&g=1", "display_name": "Isaac Vidrine", "link": "https://stackoverflow.com/users/8167494/isaac-vidrine"}, "edited": false, "score": 0, "creation_date": 1554908761, "post_id": 55615765, "comment_id": 97925099, "body": "What is your question again?"}, {"owner": {"reputation": 2055, "user_id": 4362829, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jJxtb.png?s=128&g=1", "display_name": "Tim Klein", "link": "https://stackoverflow.com/users/4362829/tim-klein"}, "edited": false, "score": 0, "creation_date": 1554908815, "post_id": 55615765, "comment_id": 97925141, "body": "What you are proposing does not exist in JavaScript (or TypeScript). This is because you <a href=\"https://stackoverflow.com/questions/1711357/how-would-you-overload-the-operator-in-javascript\">cannot overload the <code>[]</code> index operator</a>."}, {"owner": {"reputation": 93, "user_id": 9061350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c69a80979e3cead1f41505ceb768de7f?s=128&d=identicon&r=PG&f=1", "display_name": "Gigi", "link": "https://stackoverflow.com/users/9061350/gigi"}, "edited": false, "score": 0, "creation_date": 1554908850, "post_id": 55615765, "comment_id": 97925172, "body": "It is just syntax: I need a function. But I don&#39;t want to use it like myFunc(&#39;bla&#39;); but myFunc[&#39;bla&#39;]; instead."}, {"owner": {"reputation": 1313, "user_id": 8167494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tE1Ek.jpg?s=128&g=1", "display_name": "Isaac Vidrine", "link": "https://stackoverflow.com/users/8167494/isaac-vidrine"}, "edited": false, "score": 0, "creation_date": 1554909153, "post_id": 55615765, "comment_id": 97925361, "body": "So you want to access an object value by its key? If not, whats the point?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 2, "creation_date": 1554909495, "post_id": 55615765, "comment_id": 97925576, "body": "<i>Why</i> do you want to change the syntax from a method call to an array access?  What benefit does this give you?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7143559"}, "edited": false, "score": 0, "creation_date": 1554914653, "post_id": 55615765, "comment_id": 97928392, "body": "Are you to tell us that you wish to change the language&#39;s syntax for no other reason than to make it look like another language? That you want to mess things up not just for you but also for your team and any future person that will have to deal with your code?"}, {"owner": {"reputation": 93, "user_id": 9061350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c69a80979e3cead1f41505ceb768de7f?s=128&d=identicon&r=PG&f=1", "display_name": "Gigi", "link": "https://stackoverflow.com/users/9061350/gigi"}, "edited": false, "score": 0, "creation_date": 1554917510, "post_id": 55615765, "comment_id": 97929798, "body": "@davmich The reason is that I want to use this together with intellisense in Monaco Editor. There I can write something like someObj.myFunc[&#39;hello&#39;].someProp and while inside quotes, ctrl+space will open a drop down with possible myFunc arguments. The list for autocompletion I build at runtime depending on the available options in a context or another. But in order for this to really  work, the real code has to look the same hence the starnge look for that function. If I put a normal function syntax, intellisense won&#39;t work the way I want."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7143559"}, "edited": false, "score": 1, "creation_date": 1554911093, "post_id": 55615895, "comment_id": 97926448, "body": "While this is a correct answer, it would be preferable that no one seriously answers @Gigi&#39;s question when said person clearly doesn&#39;t know what he&#39;s doing. Informing him of functionalities that he both doesn&#39;t need to know and to use is a recipe for disaster."}, {"owner": {"reputation": 93, "user_id": 9061350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c69a80979e3cead1f41505ceb768de7f?s=128&d=identicon&r=PG&f=1", "display_name": "Gigi", "link": "https://stackoverflow.com/users/9061350/gigi"}, "edited": false, "score": 0, "creation_date": 1554917537, "post_id": 55615895, "comment_id": 97929817, "body": "@davmich The reason is that I want to use this together with intellisense in Monaco Editor. There I can write something like someObj.myFunc[&#39;hello&#39;].someProp and while inside quotes, ctrl+space will open a drop down with possible myFunc arguments. The list for autocompletion I build at runtime depending on the available options in a context or another. But in order for this to really work, the real code has to look the same hence the starnge look for that function. If I put a normal function syntax, intellisense won&#39;t work the way I want."}], "tags": [], "owner": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "is_accepted": true, "score": 2, "last_activity_date": 1554909174, "last_edit_date": 1554909174, "creation_date": 1554908853, "answer_id": 55615895, "question_id": 55615765, "link": "https://stackoverflow.com/questions/55615765/javascript-array-like-function-javascript-indexer-c-like/55615895#55615895", "title": "javascript array like function (javascript indexer C# like)", "body": "<p>Looks like you're looking for <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy\" rel=\"nofollow noreferrer\">Proxies</a>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function someOtherFunc(prop: string) {\n    return \"you said \" + prop;\n}\n\ninterface Indexable {\n    [key: string]: any;\n}\n\n\nlet myFunc: Indexable = new Proxy({}, {\n    get(_, prop: string) {\n        return someOtherFunc(prop);\n    }\n});\n\n\nconsole.log(myFunc['hello'])\nconsole.log(myFunc['hey'])\n</code></pre>\n\n<p>JS version:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    function someOtherFunc(prop) {\r\n        return \"you said \" + prop;\r\n    }\r\n    \r\n    let myFunc = new Proxy({}, {\r\n        get(_, prop) {\r\n            return someOtherFunc(prop);\r\n        }\r\n    });\r\n    \r\n    \r\n    console.log(myFunc['hello'])\r\n    console.log(myFunc['hey'])</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 93, "user_id": 9061350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c69a80979e3cead1f41505ceb768de7f?s=128&d=identicon&r=PG&f=1", "display_name": "Gigi", "link": "https://stackoverflow.com/users/9061350/gigi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 55615895, "answer_count": 1, "score": -2, "last_activity_date": 1554909174, "creation_date": 1554908439, "question_id": 55615765, "link": "https://stackoverflow.com/questions/55615765/javascript-array-like-function-javascript-indexer-c-like", "title": "javascript array like function (javascript indexer C# like)", "body": "<p>I need in typescript (or, at least, javascript) a function which I can call/use like an array:\nmyFunc[someInput]</p>\n\n<p>I know I cand do something like:</p>\n\n<pre><code>interface IInputs {\n    \"someInput1\": someType,\n    \"someInput2\": someType,\n}\ninterface someType {\n    // ...\n}\nvar myFunc: IInputs;\n</code></pre>\n\n<p>So I may write:</p>\n\n<pre><code>myFunc[\"someInput1\"]\n</code></pre>\n\n<p>The first problem is that I have to hard code each possible input. Input is a string but can be any string. Another is that my function should call another one (a 'normal' one) simply like this:</p>\n\n<pre><code>myFunc[input: string] : any {\n    //...\n    return anotherFunc(input);\n}\n</code></pre>\n\n<p>I have simplified my problem to show only the relevant facts.</p>\n"}, {"tags": ["html", "angular", "typescript", "ionic-framework", "ionic4"], "answers": [{"tags": [], "owner": {"reputation": 8654, "user_id": 3118684, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/15c1c73f4a0c5111c8116dc8205376e3?s=128&d=identicon&r=PG", "display_name": "Remi Sture", "link": "https://stackoverflow.com/users/3118684/remi-sture"}, "is_accepted": true, "score": 1, "last_activity_date": 1554971080, "last_edit_date": 1554971080, "creation_date": 1554970683, "answer_id": 55627798, "question_id": 55615641, "link": "https://stackoverflow.com/questions/55615641/scroll-of-a-list-inside-a-component-does-not-work/55627798#55627798", "title": "Scroll of a list inside a component does not work", "body": "<p>You need to add margin-bottom to your list to account for the size of the tab section/footer, and you might need to manually add scroll behavior for the ion-content, ref: <a href=\"https://ionicframework.com/docs/api/content#usage\" rel=\"nofollow noreferrer\">https://ionicframework.com/docs/api/content#usage</a></p>\n\n<pre><code>&lt;ion-content[scrollY]=\"true\"&gt;&lt;/ion-content&gt;\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 6405675, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-QsN-_Q2241Q/AAAAAAAAAAI/AAAAAAAAAJI/dz-DFdA33C8/photo.jpg?sz=128", "display_name": "Leonel Tasso Guimaraes", "link": "https://stackoverflow.com/users/6405675/leonel-tasso-guimaraes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 55627798, "answer_count": 1, "score": 0, "last_activity_date": 1554971080, "creation_date": 1554908080, "last_edit_date": 1554909762, "question_id": 55615641, "link": "https://stackoverflow.com/questions/55615641/scroll-of-a-list-inside-a-component-does-not-work", "title": "Scroll of a list inside a component does not work", "body": "<p>I create a generic list (a component) to use in all my pages, but the scroll is not working.</p>\n\n<p>The principal page: </p>\n\n<pre><code>&lt;ion-header&gt;\n&lt;app-generic-menu [leftMenu]=\"'left-menu'\"\n                  [rightMenu]=\"'client-menu'\"\n                  [isSelectionMode]=\"isSelectionMode()\"\n                  [pageTitle]=\"'Clientes'\"\n                  [topicReload]=\"'client-list:reload'\"\n                  (valueToSearch)=\"inputShearchBox = $event\"&gt;\n&lt;/app-generic-menu&gt;\n&lt;/ion-header&gt;\n\n&lt;ion-content&gt;\n&lt;app-generic-list [array]=\"arrayClients\"\n                  [label1Row1]=\"'id'\"\n                  [label2Row1]=\"'social_reason_name'\"\n                  [label1Row2]=\"'document'\"\n                  [pageToGo]=\"'/new-client'\"\n                  [icon]=\"'person'\"\n                  [pipe]=\"documentPipe\"\n                  [selectedObjects]=\"selectedClients\"\n                  (selectedObjectsEvent)=\"selectedClients = $event\"&gt;\n&lt;/app-generic-list&gt;\n&lt;/ion-content&gt;\n</code></pre>\n\n<p>And this is my component (app-generic-list):</p>\n\n<pre><code>&lt;ion-list&gt;\n&lt;ion-item *ngFor=\"let x of array; trackBy: trackByFn\" (press)=\"onLongPressObject(x)\"\n          (tap)=\"isSelectionMode() ? onLongPressObject(x) : showObject(x)\"\n          [ngClass]=\"{'selected-background': selectedObjects.indexOf(x) &gt;= 0}\"&gt;\n    &lt;ion-icon name=\"checkmark-circle\" slot=\"start\" class=\"floating-icon\" style=\"color: #43A047;\"\n              *ngIf=\"selectedObjects.indexOf(x) &gt;= 0\"&gt;&lt;/ion-icon&gt;\n    &lt;ion-icon slot=\"start\" name=\"{{[icon]}}\"&gt;&lt;/ion-icon&gt;\n    &lt;ion-grid&gt;\n        &lt;ion-row&gt;\n            &lt;ion-label&gt;{{x[label1Row1]}} - {{x[label2Row1]}}&lt;/ion-label&gt;\n        &lt;/ion-row&gt;\n        &lt;ion-row&gt;\n            &lt;p&gt;{{x[label1Row2] | genericPipe : pipe:[]}}&lt;/p&gt;\n        &lt;/ion-row&gt;\n    &lt;/ion-grid&gt;\n&lt;/ion-item&gt;\n&lt;/ion-list&gt;\n\n&lt;ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\"&gt;\n&lt;ion-fab-button [routerLink]=\"pageToGo\" routerDirection=\"forward\"&gt;\n    &lt;ion-icon name=\"add\"&gt;&lt;/ion-icon&gt;\n&lt;/ion-fab-button&gt;\n&lt;/ion-fab&gt;\n</code></pre>\n\n<p>I have 10 elements in the array, but only 9 appears, and i can't scroll the page, this only happens with the component, with a normal list inside the <code>ion-content</code> the scroll works.</p>\n\n<p>There is any config necessary for the scroll works in a child component?</p>\n\n<p>This is how the app looks:\n<a href=\"https://i.stack.imgur.com/dCi0d.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dCi0d.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>There is one more item, but i cant scroll.</p>\n"}, {"tags": ["json", "angular", "typescript"], "owner": {"reputation": 625, "user_id": 11018563, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-QvdQw4SFI_Y/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQM6yO5k_f1GJknLmBIAM698u2JCsA/mo/photo.jpg?sz=128", "display_name": "BC Smith", "link": "https://stackoverflow.com/users/11018563/bc-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 135, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554911970, "creation_date": 1554907989, "last_edit_date": 1554911970, "question_id": 55615609, "link": "https://stackoverflow.com/questions/55615609/how-to-print-key-with-multiple-values-json-data-in-angular-table", "title": "How to print key with multiple values JSON data in angular table?", "body": "<p>I have data which i will receive as a JSON format from server and I have to show it in a table. I am parsing the received data and trying to show in the table. </p>\n\n<p>So far i am able to show only the keys as a table header but couldn't show the column values associated with each column. </p>\n\n<pre><code>data = {\"PassengerId\":{\"0\":892,\"1\":893,\"2\":894,\"3\":895},\"Pclass\":{\"0\":3,\"1\":3,\"2\":2,\"3\":3},\"Name\":{\"0\":\"Kelly, Mr. James\",\"1\":\"Wilkes, Mrs. James (Ellen Needs)\",\"2\":\"Myles, Mr. Thomas Francis\",\"3\":\"Wirz, Mr. Albert\"},\"Sex\":{\"0\":\"male\",\"1\":\"female\",\"2\":\"male\",\"3\":\"male\"},\"Age\":{\"0\":34.5,\"1\":47.0,\"2\":62.0,\"3\":27.0},\"SibSp\":{\"0\":0,\"1\":1,\"2\":0,\"3\":0},\"Parch\":{\"0\":0,\"1\":0,\"2\":0,\"3\":0},\"Ticket\":{\"0\":330911,\"1\":363272,\"2\":240276,\"3\":315154},\"Fare\":{\"0\":7.8292,\"1\":7.0,\"2\":9.6875,\"3\":8.6625},\"Cabin\":{\"0\":null,\"1\":null,\"2\":null,\"3\":null},\"Embarked\":{\"0\":\"Q\",\"1\":\"S\",\"2\":\"Q\",\"3\":\"S\"}}\n</code></pre>\n\n<p>I have parsed the keys using below code: </p>\n\n<pre><code>datakeys = Object.keys(this.data);\n</code></pre>\n\n<p>When i tried to show these data into table i can see only the headers. I think I am writing the ng-repeat in wrong way. </p>\n\n<pre><code>                    &lt;table *ngIf=\"data\"&gt;\n                        &lt;!-- ADD HEADERS --&gt;\n                        &lt;tr&gt;\n                            &lt;th *ngFor=\" let tk of datakeys\"&gt; {{tk}} &lt;/th&gt;\n                          &lt;/tr&gt;\n                          &lt;!-- BIND ARRAY TO TABLE --&gt;\n                          &lt;tr ng-repeat=\"(k, v) in data\"&gt;                                                        \n                              &lt;td ng-repeat=\"(k, v) in v\"&gt;{{v}}&lt;/td&gt;                                \n                        &lt;/tr&gt;\n\n                    &lt;/table&gt;\n</code></pre>\n\n<p>The output should be a table where there will be column name and its values. For example: </p>\n\n<pre><code>PassengerId  #   Pclass  # .......\n892                3     # .......\n893                3     # .......\n..................................\n..................................\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1680, "user_id": 5049472, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/imoWX.jpg?s=128&g=1", "display_name": "Powkachu", "link": "https://stackoverflow.com/users/5049472/powkachu"}, "edited": false, "score": 2, "creation_date": 1554907989, "post_id": 55615568, "comment_id": 97924615, "body": "this.gaaHistoryService.getHistory is asynchronous"}], "answers": [{"comments": [{"owner": {"reputation": 2230, "user_id": 1107591, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bb9e43f93237d779fb3f4bdb45d7524d?s=128&d=identicon&r=PG", "display_name": "Sanyifej\u0171", "link": "https://stackoverflow.com/users/1107591/sanyifej%c5%b1"}, "edited": false, "score": 0, "creation_date": 1554908218, "post_id": 55615656, "comment_id": 97924767, "body": "yes you are absolutely right if I change this I get the correct numbers. Is there no way to get them in ngOnInit?"}, {"owner": {"reputation": 1519, "user_id": 1486848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KNtLf.jpg?s=128&g=1", "display_name": "ShamPooSham", "link": "https://stackoverflow.com/users/1486848/shampoosham"}, "edited": false, "score": 0, "creation_date": 1554908937, "post_id": 55615656, "comment_id": 97925223, "body": "instead of calling subscribe inside your <code>getHistory(gaaNum)</code>, you could use <code>pipe</code> with <code>map</code> and <code>catchError</code> and return the resulting observable. Then you can use subscribe inside your <code>ngOnInit</code>"}, {"owner": {"reputation": 1519, "user_id": 1486848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KNtLf.jpg?s=128&g=1", "display_name": "ShamPooSham", "link": "https://stackoverflow.com/users/1486848/shampoosham"}, "edited": false, "score": 0, "creation_date": 1554909421, "post_id": 55615656, "comment_id": 97925524, "body": "I created an answer to further explain what I mean"}], "tags": [], "owner": {"reputation": 1665, "user_id": 8670067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5161207b3f18f3ddacb22fe1b6dcd1a4?s=128&d=identicon&r=PG&f=1", "display_name": "mahval", "link": "https://stackoverflow.com/users/8670067/mahval"}, "is_accepted": true, "score": 4, "last_activity_date": 1554909644, "last_edit_date": 1554909644, "creation_date": 1554908116, "answer_id": 55615656, "question_id": 55615568, "link": "https://stackoverflow.com/questions/55615568/why-do-i-get-empty-array-in-ngoninit-after-calling-a-method/55615656#55615656", "title": "Why do I get empty array in ngOnInit after calling a method?", "body": "<p>JavaScript is asynchronous, so when you write</p>\n\n<pre><code>this.getHistory(this.gaaNumber);\nconsole.log(this.allChartData.length);\n</code></pre>\n\n<p><code>getHistory()</code> is called - and before it has time to finish, you are already calling <code>console.log(this.allChartData.length)</code> which will consequently print out 0.</p>\n\n<p>If you instead write something like</p>\n\n<pre><code>  ...\n  this.gaaHistoryService.getHistory(gaaNum)\n  .subscribe(atmHistory =&gt; {\n    // I am more sure that real data gets assigned here!!!\n    this.allChartData = atmHistory; // allChartData has a size of 152\n    console.log(this.allChartData.length);\n    this.loading = false;\n  },\n  ...\n</code></pre>\n\n<p>you will get the number you're looking for.</p>\n"}, {"comments": [{"owner": {"reputation": 1665, "user_id": 8670067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5161207b3f18f3ddacb22fe1b6dcd1a4?s=128&d=identicon&r=PG&f=1", "display_name": "mahval", "link": "https://stackoverflow.com/users/8670067/mahval"}, "edited": false, "score": 1, "creation_date": 1554910069, "post_id": 55616058, "comment_id": 97925890, "body": "Also a great answer"}], "tags": [], "owner": {"reputation": 1519, "user_id": 1486848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KNtLf.jpg?s=128&g=1", "display_name": "ShamPooSham", "link": "https://stackoverflow.com/users/1486848/shampoosham"}, "is_accepted": false, "score": 2, "last_activity_date": 1554909361, "creation_date": 1554909361, "answer_id": 55616058, "question_id": 55615568, "link": "https://stackoverflow.com/questions/55615568/why-do-i-get-empty-array-in-ngoninit-after-calling-a-method/55616058#55616058", "title": "Why do I get empty array in ngOnInit after calling a method?", "body": "<p>If you want to be able to log it in your <code>ngOnInit</code>, you'll have to make your <code>getHistory</code> method into an observable. You can do this by piping into a <code>map</code> and <code>catchError</code> instead of subscribing, and return the result as follows:</p>\n\n<pre><code>getHistory(gaaNum): void {\n\n    this.loading = true;\n    return this.gaaHistoryService.getHistory(gaaNum)\n      .pipe(map(atmHistory =&gt; {\n        this.allChartData = atmHistory; \n        this.loading = false;\n      }), catchError(err =&gt; {\n        this.loading = false;\n        this.errorMsg = err;\n        console.log(`error: ${err}`);\n      }));\n}\n</code></pre>\n\n<p>Now, in your <code>ngOnInit</code>, you can subscribe to <code>getHistory</code> and do whatever you want.</p>\n\n<pre><code>ngOnInit() { \n    this.allChartData = [];\n    this.amount= [];\n    this.fillSum = [];\n    this.barChartData = [];\n\n    this.getHistory(this.gaaNumber).subscribe(_ =&gt; { \n        console.log(this.allChartData.length);\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 2230, "user_id": 1107591, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bb9e43f93237d779fb3f4bdb45d7524d?s=128&d=identicon&r=PG", "display_name": "Sanyifej\u0171", "link": "https://stackoverflow.com/users/1107591/sanyifej%c5%b1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "accepted_answer_id": 55615656, "answer_count": 2, "score": 0, "last_activity_date": 1554909644, "creation_date": 1554907888, "last_edit_date": 1554908422, "question_id": 55615568, "link": "https://stackoverflow.com/questions/55615568/why-do-i-get-empty-array-in-ngoninit-after-calling-a-method", "title": "Why do I get empty array in ngOnInit after calling a method?", "body": "<pre><code>getHistory(gaaNum): void {\n\nthis.loading = true;\nthis.gaaHistoryService.getHistory(gaaNum)\n  .subscribe(atmHistory =&gt; {\n    // I am more sure that real data gets assigned here!!!\n    this.allChartData = atmHistory; // allChartData has a size of 152\n    this.loading = false;\n  }, err =&gt; {\n    this.loading = false;\n    this.errorMsg = err;\n    console.log(`error: ${err}`);\n  });\n}\n</code></pre>\n\n<p>and yet, the allChartData public variable is empty here:</p>\n\n<pre><code>    ngOnInit() { \n    this.allChartData = [];\n    this.amount= [];\n    this.fillSum = [];\n    this.barChartData = [];\n\n    this.getHistory(this.gaaNumber);\n\n    console.log(this.allChartData.length);  // this is zero, allChartdata is empty here. Why?\n\n\n\n  }\n</code></pre>\n\n<p>How can I get the data outside of scope of 'subscribe'?</p>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript"], "comments": [{"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 1, "creation_date": 1554908122, "post_id": 55615540, "comment_id": 97924706, "body": "do you have an example of <code>linq</code>?"}, {"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 1, "creation_date": 1554908409, "post_id": 55615540, "comment_id": 97924869, "body": "Please provide some sample data for the input, expected output and a clear criteria on how you want to filter to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}], "answers": [{"comments": [{"owner": {"reputation": 122, "user_id": 5193043, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Nv-pXZnw8jo/AAAAAAAAAAI/AAAAAAAAEA4/W5w5UF-kQTM/photo.jpg?sz=128", "display_name": "Gordon Quinn", "link": "https://stackoverflow.com/users/5193043/gordon-quinn"}, "edited": false, "score": 1, "creation_date": 1555012997, "post_id": 55616014, "comment_id": 97971328, "body": "This worked perfectly for me, thanks a lot! Neat little solution"}], "tags": [], "owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "is_accepted": true, "score": 1, "last_activity_date": 1554909577, "last_edit_date": 1554909577, "creation_date": 1554909202, "answer_id": 55616014, "question_id": 55615540, "link": "https://stackoverflow.com/questions/55615540/flatten-nested-array-in-angular-to-query-similar-to-linq/55616014#55616014", "title": "Flatten nested array in Angular to query similar to linq", "body": "<p>Given that you are working with a tree-like structure, I would use a function that operates on trees, either recursively or iteratively, for example</p>\n\n<pre><code>function searchNodeById(tree: MyTreeNode, id: string): MyTreeNode {\n  const stack: MyTreeNode[] = [];\n  let node: MyTreeNode;\n  stack.push(tree);\n  while (stack.length &gt; 0) {\n    node = stack.pop();\n    if (node.id === id) return node;\n    if (node.children) stack.push(...node.children);\n  }\n}\n</code></pre>\n\n<hr>\n\n<p><a href=\"https://repl.it/repls/QuintessentialPuzzledCustomers\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}], "owner": {"reputation": 122, "user_id": 5193043, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Nv-pXZnw8jo/AAAAAAAAAAI/AAAAAAAAEA4/W5w5UF-kQTM/photo.jpg?sz=128", "display_name": "Gordon Quinn", "link": "https://stackoverflow.com/users/5193043/gordon-quinn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 55616014, "answer_count": 1, "score": 2, "last_activity_date": 1554909872, "creation_date": 1554907802, "last_edit_date": 1554909872, "question_id": 55615540, "link": "https://stackoverflow.com/questions/55615540/flatten-nested-array-in-angular-to-query-similar-to-linq", "title": "Flatten nested array in Angular to query similar to linq", "body": "<p>I am building an Angular tree component using cdk-tree and want to query for the single selected node however because the array is nested I can't easily do this with .filter.</p>\n\n<p>The single object structure I have is as below:</p>\n\n<pre><code>export class MyTreeNode {\n    name: string;\n    id: string;\n    selected?: boolean;\n    children?: MyTreeNode[];\n}\n</code></pre>\n\n<p>I have an array of these to build the tree, if I query using something like .filter, than only the top level is returned however I want to be able to query the child nodes too.</p>\n\n<p>My thinking is if I flatten the array I can use .filter to query all data however is this the most sensible way?</p>\n\n<p>Cheers!</p>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic4"], "comments": [{"owner": {"reputation": 6367, "user_id": 9386929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9bac9557ecb2df1aa89cd5dc5442d0?s=128&d=identicon&r=PG", "display_name": "nircraft", "link": "https://stackoverflow.com/users/9386929/nircraft"}, "edited": false, "score": 0, "creation_date": 1554907603, "post_id": 55615465, "comment_id": 97924381, "body": "<a href=\"https://stackoverflow.com/questions/35446955/how-to-go-back-last-page\" title=\"how to go back last page\">stackoverflow.com/questions/35446955/how-to-go-back-last-pag&zwnj;&#8203;e</a>"}, {"owner": {"reputation": 6367, "user_id": 9386929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9bac9557ecb2df1aa89cd5dc5442d0?s=128&d=identicon&r=PG", "display_name": "nircraft", "link": "https://stackoverflow.com/users/9386929/nircraft"}, "edited": false, "score": 0, "creation_date": 1554907618, "post_id": 55615465, "comment_id": 97924390, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/51984177/angular-5-which-should-i-use-to-navigate-backward-href-or-location-back\">Angular 5 - Which should I use to navigate backward - href or location.back()?</a>"}, {"owner": {"reputation": 742, "user_id": 8943098, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1a97301f4f93ac01ba5895d756902186?s=128&d=identicon&r=PG&f=1", "display_name": "Valeri", "link": "https://stackoverflow.com/users/8943098/valeri"}, "reply_to_user": {"reputation": 6367, "user_id": 9386929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9bac9557ecb2df1aa89cd5dc5442d0?s=128&d=identicon&r=PG", "display_name": "nircraft", "link": "https://stackoverflow.com/users/9386929/nircraft"}, "edited": false, "score": 0, "creation_date": 1554907709, "post_id": 55615465, "comment_id": 97924439, "body": "I want to go back without using Location, just with @angular/router."}], "answers": [{"comments": [{"owner": {"reputation": 3570, "user_id": 2422125, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1e438d598bd97fb854bd74f1277deaaa?s=128&d=identicon&r=PG&f=1", "display_name": "Fabian N.", "link": "https://stackoverflow.com/users/2422125/fabian-n"}, "edited": false, "score": 2, "creation_date": 1555803321, "post_id": 55621456, "comment_id": 98229027, "body": "Wouldn&#39;t it be more appropriate to use <code>location.back()</code> from <code>@angular&#47;common</code> when OP is using angular routing? (see <a href=\"https://angular.io/api/common/Location\" rel=\"nofollow noreferrer\">angular.io/api/common/Location</a>)"}, {"owner": {"reputation": 63636, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "reply_to_user": {"reputation": 3570, "user_id": 2422125, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1e438d598bd97fb854bd74f1277deaaa?s=128&d=identicon&r=PG&f=1", "display_name": "Fabian N.", "link": "https://stackoverflow.com/users/2422125/fabian-n"}, "edited": false, "score": 1, "creation_date": 1555821825, "post_id": 55621456, "comment_id": 98231199, "body": "It is being called when u use<code>navigateBack()</code>, ionic uses it in there code"}, {"owner": {"reputation": 3570, "user_id": 2422125, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1e438d598bd97fb854bd74f1277deaaa?s=128&d=identicon&r=PG&f=1", "display_name": "Fabian N.", "link": "https://stackoverflow.com/users/2422125/fabian-n"}, "edited": false, "score": 2, "creation_date": 1558102228, "post_id": 55621456, "comment_id": 99001367, "body": "I just realized that when you use <code>location.back()</code> directly you don&#39;t get a proper back animation."}], "tags": [], "owner": {"reputation": 63636, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "is_accepted": false, "score": 5, "last_activity_date": 1554931062, "creation_date": 1554931062, "answer_id": 55621456, "question_id": 55615465, "link": "https://stackoverflow.com/questions/55615465/how-to-go-back-in-ionic-4/55621456#55621456", "title": "How to go back in Ionic 4", "body": "<p>Since you are using ionic 4 then to go backward, you can do the following: </p>\n\n<pre><code>constructor(private navCtrl: NavController) {}\n\nbtnClick(){\nthis.navCtrl.navigateBack('/home'); \n} \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 6703991, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9e8b9a01cc8de1037fa61e3b380fd1c?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Pomorski", "link": "https://stackoverflow.com/users/6703991/andrew-pomorski"}, "is_accepted": false, "score": 4, "last_activity_date": 1556089398, "creation_date": 1556089398, "answer_id": 55824133, "question_id": 55615465, "link": "https://stackoverflow.com/questions/55615465/how-to-go-back-in-ionic-4/55824133#55824133", "title": "How to go back in Ionic 4", "body": "<p>With Angular routing you could use the Location API:</p>\n\n<pre><code>constructor(private location: Location){}\n</code></pre>\n\n<p>and then when you need to navigate back call:</p>\n\n<pre><code>this.location.back();\n</code></pre>\n\n<p>Keep in mind that for Angular 7 you have to import Location from <code>@angular/common</code></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10900264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fa121c7a51e609c7f3820daa9403b58?s=128&d=identicon&r=PG&f=1", "display_name": "KevinTenyRoy", "link": "https://stackoverflow.com/users/10900264/kevintenyroy"}, "is_accepted": false, "score": 0, "last_activity_date": 1602678560, "creation_date": 1602678560, "answer_id": 64353290, "question_id": 55615465, "link": "https://stackoverflow.com/questions/55615465/how-to-go-back-in-ionic-4/64353290#64353290", "title": "How to go back in Ionic 4", "body": "<p>Just do the following if you wanna go back to your previous route.</p>\n<pre><code>constructor(private navCtrl: NavController) {}\n\ngoBack(){\n this.navCtrl.pop(); \n} \n</code></pre>\n<p>This'll pop the current page from the navigation stack and return you to the previous page and the part of the page from where you had navigated forward.</p>\n"}], "owner": {"reputation": 742, "user_id": 8943098, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1a97301f4f93ac01ba5895d756902186?s=128&d=identicon&r=PG&f=1", "display_name": "Valeri", "link": "https://stackoverflow.com/users/8943098/valeri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7881, "favorite_count": 0, "answer_count": 3, "score": 5, "last_activity_date": 1602678560, "creation_date": 1554907545, "last_edit_date": 1575533954, "question_id": 55615465, "link": "https://stackoverflow.com/questions/55615465/how-to-go-back-in-ionic-4", "title": "How to go back in Ionic 4", "body": "<p>I want to add a back button in Ionic4(Angular 7).\nBut I can't find the proper method in Angular Router.</p>\n\n<p><code>import {Router} from '@angular/router';</code></p>\n\n<p>How do we go back when clicking a button, in the component handler?\nI'd like to implement it using '@angular/router' not '@angular/common' => Location</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable", "angular-httpclient"], "answers": [{"comments": [{"owner": {"reputation": 1658, "user_id": 6475284, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4be636df95ad64c032e87d6796cf4e56?s=128&d=identicon&r=PG&f=1", "display_name": "Codehan25", "link": "https://stackoverflow.com/users/6475284/codehan25"}, "edited": false, "score": 0, "creation_date": 1554929484, "post_id": 55617134, "comment_id": 97935215, "body": "But can I also check whether an ID from the first subscription (outer subscription) also occurs in the second subscription (inner subscription)? Because that is one of the conditions of my if statement and only then should something be done with this specific entries."}, {"owner": {"reputation": 15822, "user_id": 4399281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JkroG.jpg?s=128&g=1", "display_name": "Fateh Mohamed", "link": "https://stackoverflow.com/users/4399281/fateh-mohamed"}, "reply_to_user": {"reputation": 1658, "user_id": 6475284, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4be636df95ad64c032e87d6796cf4e56?s=128&d=identicon&r=PG&f=1", "display_name": "Codehan25", "link": "https://stackoverflow.com/users/6475284/codehan25"}, "edited": false, "score": 0, "creation_date": 1554969545, "post_id": 55617134, "comment_id": 97946678, "body": "in that case you can use switchMap, i&#39;ve updated my answer"}, {"owner": {"reputation": 1658, "user_id": 6475284, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4be636df95ad64c032e87d6796cf4e56?s=128&d=identicon&r=PG&f=1", "display_name": "Codehan25", "link": "https://stackoverflow.com/users/6475284/codehan25"}, "edited": false, "score": 0, "creation_date": 1554972928, "post_id": 55617134, "comment_id": 97948504, "body": "But this way I can&#39;t use the aIdFromSubscriptionOne and aTypeFromSubscriptionOne parameters. Hmm.."}, {"owner": {"reputation": 15822, "user_id": 4399281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JkroG.jpg?s=128&g=1", "display_name": "Fateh Mohamed", "link": "https://stackoverflow.com/users/4399281/fateh-mohamed"}, "reply_to_user": {"reputation": 1658, "user_id": 6475284, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4be636df95ad64c032e87d6796cf4e56?s=128&d=identicon&r=PG&f=1", "display_name": "Codehan25", "link": "https://stackoverflow.com/users/6475284/codehan25"}, "edited": false, "score": 0, "creation_date": 1554973404, "post_id": 55617134, "comment_id": 97948778, "body": "inside switchMap, you have someStuff after that you can subscribe to get someOtherStuff so you have both"}, {"owner": {"reputation": 1658, "user_id": 6475284, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4be636df95ad64c032e87d6796cf4e56?s=128&d=identicon&r=PG&f=1", "display_name": "Codehan25", "link": "https://stackoverflow.com/users/6475284/codehan25"}, "edited": false, "score": 0, "creation_date": 1554973791, "post_id": 55617134, "comment_id": 97949023, "body": "But I need a forEach loop for that, since this.someStuff = someStuff is an array from which I have to read out the respective ID? Right?"}], "tags": [], "owner": {"reputation": 15822, "user_id": 4399281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JkroG.jpg?s=128&g=1", "display_name": "Fateh Mohamed", "link": "https://stackoverflow.com/users/4399281/fateh-mohamed"}, "is_accepted": false, "score": 0, "last_activity_date": 1554969518, "last_edit_date": 1554969518, "creation_date": 1554912961, "answer_id": 55617134, "question_id": 55615378, "link": "https://stackoverflow.com/questions/55615378/combine-two-rxjs-observables-subscriptions-and-iterate-through-their-data/55617134#55617134", "title": "Combine two RxJS Observables/Subscriptions and iterate through their data", "body": "<p>you use <strong>switchMap</strong> to avoid subscription inside another</p>\n\n<pre><code>import { switchMap } from 'rxjs/operators';\n\n\n  this.service.getSomeStuff().pip(switchMap((someStuff) =&gt; {\n        this.someStuff = someStuff;\n\n      this.service.getSomeOtherStuff(aIdFromSubscriptionOne: string, aTypeFromSubscriptionOne: string)\n       ).subscribe((someOtherStuff) =&gt; {\n        this.someOtherStuff = someOtherStuff;\n        this.someOtherStuff.forEach(() =&gt; {\n        // make a foreach loop here on someStuff to check if someOtherStuff exist in some Stuff\n          this.someStuff.foreach((somestuff) =&gt; {\n             if(somestuff.someProperty !== null &amp;&amp; somestuff.id === someOtherStuff.id){\n               const properties: Image = {\n                id: // an id I need from subscription1\n                class: // a class I need from  subscription1\n                type: // a type I need from subscription2\n                ref: // a reference to the image url from subscription2\n                ...\n               }\n             }\n           });  \n         }); \n      });   \n  });\n</code></pre>\n"}], "owner": {"reputation": 1658, "user_id": 6475284, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4be636df95ad64c032e87d6796cf4e56?s=128&d=identicon&r=PG&f=1", "display_name": "Codehan25", "link": "https://stackoverflow.com/users/6475284/codehan25"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 265, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554969518, "creation_date": 1554907329, "question_id": 55615378, "link": "https://stackoverflow.com/questions/55615378/combine-two-rxjs-observables-subscriptions-and-iterate-through-their-data", "title": "Combine two RxJS Observables/Subscriptions and iterate through their data", "body": "<p>I work with <a href=\"https://angular.io/\" rel=\"nofollow noreferrer\">Angular</a> (Version 7) and <a href=\"https://www.learnrxjs.io/\" rel=\"nofollow noreferrer\">RxJS</a> and make two api calls, each returning an observable, which I then subscribe to.</p>\n\n<p>Now I have to combine these subscriptions, because the data from both observables are interdependent and I need them to implement certain functions (For example, a filter that checks if the id received from subcription2 appears in subscription1 and only then returns something..).</p>\n\n<p>Since my code is very long, I have prepared a smaller sample version of it and marked the important places for me with comments:</p>\n\n<pre><code>getSomething(){\n    /**\n     * anIdFromSubscriptionTwo: An id that I need from subscription2\n     */\n    const subscription1 = this.service.getSomeStuff().subscription((someStuff) =&gt; {\n        this.someStuff = stuff;\n        this.someStuff.forEach((stuff) =&gt; {\n            if(stuff.someProperty !== null &amp;&amp; stuff.id === anIdFromSubscriptionTwo){\n                ...\n            }\n        });\n    } \n\n    /**\n     * aIdFromSubscriptionOne: An id of type string that I get in the forEach loop inside of subscription1\n     * aTypeFromSubscriptionOne: A type of type string that I get in the forEach loop inside of subscription1\n     */\n    const subscription2 = this.service.getSomeOtherStuff(aIdFromSubscriptionOne: string, aTypeFromSubscriptionOne: string).subscription((someOtherStuff) =&gt; {\n        this.someOtherStuff = someOtherStuff;\n        this.someOtherStuff.forEach(() =&gt; {\n            // This is the only if statement I need, after combining the two subscriptions\n            if(subscription1.stuff.someProperty !== null &amp;&amp; subscription1.stuff.id === someOtherStuff.id){\n                const properties: Image = {\n                    id: // an id I need from subscription1\n                    class: // a class I need from  subscription1\n                    type: // a type I need from subscription2\n                    ref: // a reference to the image url from subscription2\n                    ...\n                }\n            }\n        })  \n    });\n}\n</code></pre>\n\n<p>How can I combine these two subscriptions so that I can access their data in my forEach loop and compare or work with it generally?</p>\n"}, {"tags": ["angular", "typescript", "compiler-errors", "angular2-aot"], "comments": [{"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1554907221, "post_id": 55615288, "comment_id": 97924158, "body": "<a href=\"https://github.com/ng-packagr/ng-packagr/issues/696\" rel=\"nofollow noreferrer\">github.com/ng-packagr/ng-packagr/issues/696</a> may help"}, {"owner": {"reputation": 1229, "user_id": 7110714, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QCw0Z0XOhUI/AAAAAAAAAAI/AAAAAAAAAC4/L8FJQhiiIdo/photo.jpg?sz=128", "display_name": "Johar Zaman", "link": "https://stackoverflow.com/users/7110714/johar-zaman"}, "reply_to_user": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1554907582, "post_id": 55615288, "comment_id": 97924370, "body": "@ExplosionPills I have applied some solutions which i found online but none of them worked for me. I don&#39;t know why it was not giving any error before and now it&#39;s giving this error. That doesn&#39;t make any sense to me."}], "owner": {"reputation": 1229, "user_id": 7110714, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QCw0Z0XOhUI/AAAAAAAAAAI/AAAAAAAAAC4/L8FJQhiiIdo/photo.jpg?sz=128", "display_name": "Johar Zaman", "link": "https://stackoverflow.com/users/7110714/johar-zaman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 162, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554907104, "creation_date": 1554907104, "question_id": 55615288, "link": "https://stackoverflow.com/questions/55615288/aot-error-ng-build-prod-giving-error-in-angular-7", "title": "AOT error : ng build --prod giving error in Angular 7", "body": "<p><strong>ERROR MESSAGE:</strong></p>\n\n<pre><code>Lambda not supported.\n {\"__symbolic\":\"error\",\"message\":\"Lambda not supported\",\"line\":45,\"character\":23}\n</code></pre>\n\n<p>I have upgraded my <code>Angular 6</code> app to <code>Angular 7</code>. I am running <code>ng build --prod</code> with <code>aot: true</code> and getting above error. It was working fine before upgrading to <code>Angular 7</code></p>\n\n<p><strong>CODE: This is where it's getting error</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>public static request(requestUrl: string, options?: RequestInit): Promise&lt;FetchResponse&gt; {\n    return new Promise((resolve, reject) =&gt; {\n      fetch(requestUrl, options)\n        // .then(HelperFetch.parseJSON)\n        .then((response: any) =&gt; {\n          const resolver = new Resolver();\n          // other code\n          return &lt;any&gt; resolver.promise;\n        })        \n        .catch((error) =&gt; reject(new FetchResponse({\n\n        })));\n    });\n  }\n</code></pre>\n\n<p>Anybody know what can be the problem? and How to solve this?</p>\n"}, {"tags": ["angular", "typescript", "angular7"], "comments": [{"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1554907236, "post_id": 55615287, "comment_id": 97924169, "body": "Is that API is working from PostMan or fiddler?"}, {"owner": {"reputation": 73, "user_id": 10973565, "user_type": "registered", "profile_image": "https://graph.facebook.com/2228839200723579/picture?type=large", "display_name": "Hisyam Syazani", "link": "https://stackoverflow.com/users/10973565/hisyam-syazani"}, "reply_to_user": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1554907420, "post_id": 55615287, "comment_id": 97924271, "body": "Its working on PostMan. I didnt test it on fiddler"}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1554907594, "post_id": 55615287, "comment_id": 97924376, "body": "Can you show us how you are sending data on the postman(Screen shot)?"}, {"owner": {"reputation": 73, "user_id": 10973565, "user_type": "registered", "profile_image": "https://graph.facebook.com/2228839200723579/picture?type=large", "display_name": "Hisyam Syazani", "link": "https://stackoverflow.com/users/10973565/hisyam-syazani"}, "reply_to_user": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1554907882, "post_id": 55615287, "comment_id": 97924547, "body": "I have already edited my question"}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1554907940, "post_id": 55615287, "comment_id": 97924585, "body": "Try: <code>formData.append(&#39;filename&#39;, file);</code>"}, {"owner": {"reputation": 73, "user_id": 10973565, "user_type": "registered", "profile_image": "https://graph.facebook.com/2228839200723579/picture?type=large", "display_name": "Hisyam Syazani", "link": "https://stackoverflow.com/users/10973565/hisyam-syazani"}, "reply_to_user": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1554908298, "post_id": 55615287, "comment_id": 97924821, "body": "It executes without errors, but it did not post it to the database. You have any idea why??"}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1554908427, "post_id": 55615287, "comment_id": 97924881, "body": "Not sure why but try with <code>formData.append(&#39;filename&#39;, file, file.name);</code>"}, {"owner": {"reputation": 73, "user_id": 10973565, "user_type": "registered", "profile_image": "https://graph.facebook.com/2228839200723579/picture?type=large", "display_name": "Hisyam Syazani", "link": "https://stackoverflow.com/users/10973565/hisyam-syazani"}, "reply_to_user": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1554908573, "post_id": 55615287, "comment_id": 97924979, "body": "ok nvm i will open a new question. Thank you anyway :)"}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 10973565, "user_type": "registered", "profile_image": "https://graph.facebook.com/2228839200723579/picture?type=large", "display_name": "Hisyam Syazani", "link": "https://stackoverflow.com/users/10973565/hisyam-syazani"}, "edited": false, "score": 0, "creation_date": 1554908751, "post_id": 55615786, "comment_id": 97925097, "body": "Yeah already done that but it did not insert the file name to database. Any idea why?"}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "reply_to_user": {"reputation": 73, "user_id": 10973565, "user_type": "registered", "profile_image": "https://graph.facebook.com/2228839200723579/picture?type=large", "display_name": "Hisyam Syazani", "link": "https://stackoverflow.com/users/10973565/hisyam-syazani"}, "edited": false, "score": 0, "creation_date": 1554908846, "post_id": 55615786, "comment_id": 97925168, "body": "If that is working from postman then the problem is in angular code itself"}, {"owner": {"reputation": 73, "user_id": 10973565, "user_type": "registered", "profile_image": "https://graph.facebook.com/2228839200723579/picture?type=large", "display_name": "Hisyam Syazani", "link": "https://stackoverflow.com/users/10973565/hisyam-syazani"}, "edited": false, "score": 0, "creation_date": 1554908872, "post_id": 55615786, "comment_id": 97925179, "body": "i tried console.log(data) but it returns null and yeah must be the angular code. Thank you anyway :)"}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "reply_to_user": {"reputation": 73, "user_id": 10973565, "user_type": "registered", "profile_image": "https://graph.facebook.com/2228839200723579/picture?type=large", "display_name": "Hisyam Syazani", "link": "https://stackoverflow.com/users/10973565/hisyam-syazani"}, "edited": false, "score": 0, "creation_date": 1554908944, "post_id": 55615786, "comment_id": 97925225, "body": "Can you change the code from <code>subscribe</code> to <code>Promise</code>?"}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "reply_to_user": {"reputation": 73, "user_id": 10973565, "user_type": "registered", "profile_image": "https://graph.facebook.com/2228839200723579/picture?type=large", "display_name": "Hisyam Syazani", "link": "https://stackoverflow.com/users/10973565/hisyam-syazani"}, "edited": false, "score": 0, "creation_date": 1554909072, "post_id": 55615786, "comment_id": 97925311, "body": "I have worked with FormData but My Backend was Web.API"}, {"owner": {"reputation": 73, "user_id": 10973565, "user_type": "registered", "profile_image": "https://graph.facebook.com/2228839200723579/picture?type=large", "display_name": "Hisyam Syazani", "link": "https://stackoverflow.com/users/10973565/hisyam-syazani"}, "edited": false, "score": 0, "creation_date": 1554909276, "post_id": 55615786, "comment_id": 97925426, "body": "Do you mean like this  .toPromise().then(           data =&gt; console.log(data),           error =&gt; console.log(error)         );&quot;"}, {"owner": {"reputation": 73, "user_id": 10973565, "user_type": "registered", "profile_image": "https://graph.facebook.com/2228839200723579/picture?type=large", "display_name": "Hisyam Syazani", "link": "https://stackoverflow.com/users/10973565/hisyam-syazani"}, "edited": false, "score": 0, "creation_date": 1554909321, "post_id": 55615786, "comment_id": 97925457, "body": "I already did that but still return a null value but nvm i think i will reconstruct my code."}], "tags": [], "owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "is_accepted": false, "score": 1, "last_activity_date": 1554908505, "creation_date": 1554908505, "answer_id": 55615786, "question_id": 55615287, "link": "https://stackoverflow.com/questions/55615287/angular-failed-to-upload-file/55615786#55615786", "title": "Angular failed to upload file", "body": "<p>You need to send the exact key-value pair for Form Data as you retrieve the key as <code>filename</code> so try changing:</p>\n\n<pre><code>formData.append('filename', file, file.name);\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 10973565, "user_type": "registered", "profile_image": "https://graph.facebook.com/2228839200723579/picture?type=large", "display_name": "Hisyam Syazani", "link": "https://stackoverflow.com/users/10973565/hisyam-syazani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 601, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554908505, "creation_date": 1554907097, "last_edit_date": 1554907869, "question_id": 55615287, "link": "https://stackoverflow.com/questions/55615287/angular-failed-to-upload-file", "title": "Angular failed to upload file", "body": "<p>Here is a bunch of my backend code that I have used to upload a file. </p>\n\n<pre><code>$app-&gt;post('/upload/{studentid}', function(Request $request, Response $response, $args) {\n\n    $uploadedFiles = $request-&gt;getUploadedFiles();\n\n    // handle single input with single file upload\n    $uploadedFile = $uploadedFiles['filename'];\n    if ($uploadedFile-&gt;getError() === UPLOAD_ERR_OK) {\n\n        $extension = pathinfo($uploadedFile-&gt;getClientFilename(), PATHINFO_EXTENSION);\n\n        // ubah nama file dengan id buku\n        $filename = sprintf('%s.%0.8s', $args[\"studentid\"], $extension);\n\n        $directory = $this-&gt;get('settings')['upload_directory'];\n        $uploadedFile-&gt;moveTo($directory . DIRECTORY_SEPARATOR . $filename);\n\n        // simpan nama file ke database\n        $sql = \"UPDATE feepaid SET filename=:filename WHERE studentid=:studentid\";\n        $stmt = $this-&gt;db-&gt;prepare($sql);\n        $params = [\n            \":studentid\" =&gt; $args[\"studentid\"],\n            \":filename\" =&gt; $filename\n        ];\n\n        if($stmt-&gt;execute($params)){\n            // ambil base url dan gabungkan dengan file name untuk membentuk URL file\n            $url = $request-&gt;getUri()-&gt;getBaseUrl().\"/Upload/\".$filename;\n            return $response-&gt;withJson([\"status\" =&gt; \"success\", \"data\" =&gt; $url], 200);\n        } else {\n            return $response-&gt;withJson([\"status\" =&gt; \"failed\", \"data\" =&gt; \"0\"], 200);\n        } \n    }\n});\n</code></pre>\n\n<p>When i tested using postman its working but im quite new to Angular. When i implement the api in my Angular apps its not working </p>\n\n<p><a href=\"https://i.stack.imgur.com/dJ2s8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dJ2s8.png\" alt=\"enter image description here\"></a></p>\n\n<p>And this is my code that i use to upload the file from angular application</p>\n\n<pre><code>  fileChange(event) {\n    const fileList: FileList = event.target.files;\n    if (fileList.length &gt; 0) {\n      const file: File = fileList[0];\n      const formData: FormData = new FormData();\n      formData.append('uploadFile', file, file.name);\n      const headers = new Headers();\n      /** In Angular 5, including the header Content-Type can invalidate your request */\n      // headers.append('Content-Type', 'multipart/form-data');\n      // headers.append('Accept', 'application/json');\n      const id = sessionStorage.getItem('userId');\n      // const options = new RequestOptions({ headers: headers });\n      this.http.post('http://localhost:8080' + '/upload/' + id , formData)\n        .subscribe(\n          data =&gt; console.log('success'),\n          error =&gt; console.log(error)\n        );\n    }\n\n  }\n</code></pre>\n\n<p>And this is my example of testing using Postman</p>\n\n<p><a href=\"https://i.stack.imgur.com/kHBkg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kHBkg.png\" alt=\"enter image description here\"></a></p>\n\n<p>Why is it i have error? It seems like my file is not send to the backend and its return null value. Anyone can help me? Thank you</p>\n"}, {"tags": ["reactjs", "typescript", "react-context"], "comments": [{"owner": {"reputation": 2193, "user_id": 7435814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df7bf4e466073c2af1e8f41f1f27a0e8?s=128&d=identicon&r=PG", "display_name": "alex kucksdorf", "link": "https://stackoverflow.com/users/7435814/alex-kucksdorf"}, "edited": false, "score": 0, "creation_date": 1554908050, "post_id": 55615143, "comment_id": 97924657, "body": "I don&#39;t know whether this is a typo, but you are using <code>LookupContextProvider</code> which should either be <code>LookupContext.Provider</code> or you need a <code>const LookupContextProvider = LookupContext.Provider;</code> somewhere, which I couldn&#39;t find in your code."}, {"owner": {"reputation": 2155, "user_id": 1940233, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/aedd13f7ce824cc5522c7f842cbb777e?s=128&d=identicon&r=PG", "display_name": "Usman Tahir", "link": "https://stackoverflow.com/users/1940233/usman-tahir"}, "reply_to_user": {"reputation": 2193, "user_id": 7435814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df7bf4e466073c2af1e8f41f1f27a0e8?s=128&d=identicon&r=PG", "display_name": "alex kucksdorf", "link": "https://stackoverflow.com/users/7435814/alex-kucksdorf"}, "edited": false, "score": 0, "creation_date": 1554908666, "post_id": 55615143, "comment_id": 97925052, "body": "This was a typo in question, actual code is fine. I updated the context file. This isn&#39;t the issue, I am sure about it."}, {"owner": {"reputation": 2193, "user_id": 7435814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df7bf4e466073c2af1e8f41f1f27a0e8?s=128&d=identicon&r=PG", "display_name": "alex kucksdorf", "link": "https://stackoverflow.com/users/7435814/alex-kucksdorf"}, "edited": false, "score": 0, "creation_date": 1554909116, "post_id": 55615143, "comment_id": 97925339, "body": "Where are you rendering the <code>TemplateContainer</code> in your template?"}, {"owner": {"reputation": 2155, "user_id": 1940233, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/aedd13f7ce824cc5522c7f842cbb777e?s=128&d=identicon&r=PG", "display_name": "Usman Tahir", "link": "https://stackoverflow.com/users/1940233/usman-tahir"}, "reply_to_user": {"reputation": 2193, "user_id": 7435814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df7bf4e466073c2af1e8f41f1f27a0e8?s=128&d=identicon&r=PG", "display_name": "alex kucksdorf", "link": "https://stackoverflow.com/users/7435814/alex-kucksdorf"}, "edited": false, "score": 0, "creation_date": 1554918802, "post_id": 55615143, "comment_id": 97930425, "body": "Inside template container."}], "owner": {"reputation": 2155, "user_id": 1940233, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/aedd13f7ce824cc5522c7f842cbb777e?s=128&d=identicon&r=PG", "display_name": "Usman Tahir", "link": "https://stackoverflow.com/users/1940233/usman-tahir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554918784, "creation_date": 1554906710, "last_edit_date": 1554918784, "question_id": 55615143, "link": "https://stackoverflow.com/questions/55615143/use-context-not-re-rendering-child-application", "title": "Use Context not re-rendering child application", "body": "<p>I created a project using CRA 2.0 with TypeScript. I am trying to use Context.</p>\n\n<p>My end goal is to create a universal data store, where I have few items available. I am using typescript.</p>\n\n<p>See the below code, My question is, I have a state in parent, I am setting it in state and passing it down. When I set state in parent (one with have context provider), It doesn't re-render the child component, so even after fetching new data, the context value stays same inside child unless I re-render child component.</p>\n\n<pre><code>Interface File (`interfaces/lookups.tsx`)\n\ninterface LookupItemInterface {\n  value?: number;\n  text?: string;\n}\n\nexport interface LookupInterface {\n  assessmentTypesLookUp: LookupItemInterface[];\n  billingPlansLookUp: LookupItemInterface[];\n  categoriesLookUp: LookupItemInterface[];\n  competenciesLookUp: LookupItemInterface[];\n  emailTypesLookUp: LookupItemInterface[];\n  entitiesLookUp: LookupItemInterface[];\n  evaluationRolesLookUp: LookupItemInterface[];\n  questionTypesLookUp: LookupItemInterface[];\n  recommendedApplicationsLookUp: LookupItemInterface[];\n  statesLookUp: LookupItemInterface[];\n  testTypesLookUp: LookupItemInterface[];\n  userRolesLookUp: LookupItemInterface[];\n}\n\nexport const lookupInitialState: LookupInterface = {\n  assessmentTypesLookUp: [],\n  billingPlansLookUp: [],\n  categoriesLookUp: [],\n  competenciesLookUp: [],\n  emailTypesLookUp: [],\n  entitiesLookUp: [],\n  evaluationRolesLookUp: [],\n  questionTypesLookUp: [],\n  recommendedApplicationsLookUp: [],\n  statesLookUp: [],\n  testTypesLookUp: [],\n  userRolesLookUp: [],\n};\n\nexport interface LookupContextInterface {\n  findByValue?: (id: number, key: string) =&gt; void;\n  lookups?: LookupInterface;\n}\n\nexport const LookupContextInitialState = {\n  findByValue: (id: number, key: string) =&gt; {},\n  lookups: lookupInitialState,\n};\n</code></pre>\n\n<p>This is my context file (<strong>LookupContext.tsx</strong>)</p>\n\n<pre><code>import { LookupContextInitialState, LookupContextInterface } from '../interfaces/Lookup';\n\nexport const LookupContext = React.createContext&lt;LookupContextInterface&gt;(LookupContextInitialState);\n\nexport const LookupContextProvider = LookupContext.Provider;\nexport const LookupContextConsumer = LookupContext.Consumer;\n\nexport default LookupContext;\n</code></pre>\n\n<p>I created a container which I am wrapping my a template.</p>\n\n<pre><code>const LookupContainer: React.FunctionComponent = ({ children }) =&gt; {\n  const [lookupState, setLookupState] = useState({ lookups: lookupInitialState, loading: true });\n\n  const errorContext = useContext(ErrorContext);\n\n  useEffect(() =&gt; {\n    fetchLookups();\n  }, []);\n\n  const findByValue = (id: number, key: string) =&gt; {\n    console.log('find', id, key, lookupInitialState);\n  };\n\n  const fetchLookups = async () =&gt; {\n    try {\n      const newLookups = await getLookups();\n      setLookupState({ ...lookupState, lookups: newLookups, loading: false });\n    } catch (e) {\n      setLookupState({ ...lookupState, loading: false });\n      errorContext.setError(e, true);\n    }\n  };\n\n  if (lookupState.loading) {\n    return &lt;Spinner /&gt;;\n  }\n\n  return &lt;LookupContextProvider value={{ findByValue, lookups: lookupState.lookups }}&gt;{children}&lt;/LookupContextProvider&gt;;\n};\n</code></pre>\n\n<p>I am using Atomic Design Modal, and I am wrapping it on my Template for now.</p>\n\n<pre><code>const DashboardTemplate: React.FunctionComponent&lt;Props&gt; = ({ children }) =&gt; (\n  &lt;LookupContainer&gt;\n    &lt;Sidebar /&gt;\n    &lt;Page&gt;\n      &lt;TopBar /&gt;\n      {children}\n      &lt;Footer /&gt;\n    &lt;/Page&gt;\n  &lt;/LookupContainer&gt;\n);\n</code></pre>\n\n<p>and finally, There's a container at down in children, </p>\n\n<pre><code>const TemplateContainer: React.FunctionComponent = ({ id }) =&gt; {\n  const lookupContext = useContext(LookupContext);\n  const {lookups, findById} = lookupContext; // &lt;--- this will have initial context value unless I set state inside this and somehow re-render this\n\n  const assessmentTypesLookUp = findById(id, 'assessmentTypesLookUp');\n  return (\n    &lt;DashboardTemplate&gt;This is Instrument&lt;/DashboardTemplate&gt;\n  );\n}\n</code></pre>\n"}, {"tags": ["typescript", "eslint"], "comments": [{"owner": {"reputation": 3836, "user_id": 3003401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2de9e3bd27825488f4cf0a1dd86ac0?s=128&d=identicon&r=PG&f=1", "display_name": "Cerberus", "link": "https://stackoverflow.com/users/3003401/cerberus"}, "edited": false, "score": 0, "creation_date": 1554956497, "post_id": 55614983, "comment_id": 97941615, "body": "Why does your eslint check typescript files, in the first place? AFAIK it won&#39;t do it unless explicitly told so."}, {"owner": {"reputation": 1247, "user_id": 8253018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U521I.jpg?s=128&g=1", "display_name": "Elad", "link": "https://stackoverflow.com/users/8253018/elad"}, "edited": false, "score": 0, "creation_date": 1554988820, "post_id": 55614983, "comment_id": 97958135, "body": "try this one: <a href=\"https://stackoverflow.com/questions/43031126/jsx-not-allowed-in-files-with-extension-js-with-eslint-config-airbnb\" title=\"jsx not allowed in files with extension js with eslint config airbnb\">stackoverflow.com/questions/43031126/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2449, "user_id": 2489480, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3af2ee144cdb1075e9db71607f4dbf24?s=128&d=identicon&r=PG", "display_name": "Remi", "link": "https://stackoverflow.com/users/2489480/remi"}, "edited": false, "score": 0, "creation_date": 1574712583, "post_id": 58835704, "comment_id": 104321427, "body": "Why is this necessary exactly? I see it here as well: <a href=\"https://www.npmjs.com/package/tslint-config-airbnb\" rel=\"nofollow noreferrer\">npmjs.com/package/tslint-config-airbnb</a>. Isn&#39;t .tsx an obvious filename extension?"}, {"owner": {"reputation": 1151, "user_id": 887850, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6e99619533699e5b3de582c4f4c48599?s=128&d=identicon&r=PG", "display_name": "dmudro", "link": "https://stackoverflow.com/users/887850/dmudro"}, "reply_to_user": {"reputation": 2449, "user_id": 2489480, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3af2ee144cdb1075e9db71607f4dbf24?s=128&d=identicon&r=PG", "display_name": "Remi", "link": "https://stackoverflow.com/users/2489480/remi"}, "edited": false, "score": 0, "creation_date": 1574775609, "post_id": 58835704, "comment_id": 104344410, "body": "Good point. It&#39;s obvious from a TypeScript perspective but they haven&#39;t included <code>.tsx</code> in default values."}, {"owner": {"reputation": 1129, "user_id": 1800854, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/qycfQ.png?s=128&g=1", "display_name": "Mo Beigi", "link": "https://stackoverflow.com/users/1800854/mo-beigi"}, "edited": false, "score": 3, "creation_date": 1592719724, "post_id": 58835704, "comment_id": 110521774, "body": "I believe the first parameter which is <code>2</code> refers to a boolean <code>additionalProperties </code>and should be <code>1</code> (not that it matters here). See: <a href=\"https://github.com/yannickcr/eslint-plugin-react/blob/master/lib/rules/jsx-filename-extension.js\" rel=\"nofollow noreferrer\">github.com/yannickcr/eslint-plugin-react/blob/master/lib/rul&zwnj;&#8203;es/&hellip;</a> and other solutions <a href=\"https://stackoverflow.com/a/43031230/1800854\">stackoverflow.com/a/43031230/1800854</a>"}], "tags": [], "owner": {"reputation": 1151, "user_id": 887850, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6e99619533699e5b3de582c4f4c48599?s=128&d=identicon&r=PG", "display_name": "dmudro", "link": "https://stackoverflow.com/users/887850/dmudro"}, "is_accepted": false, "score": 44, "last_activity_date": 1573642979, "creation_date": 1573642979, "answer_id": 58835704, "question_id": 55614983, "link": "https://stackoverflow.com/questions/55614983/jsx-not-allowed-in-files-with-extension-tsxeslintreact-jsx-filename-extensio/58835704#58835704", "title": "JSX not allowed in files with extension &#39;.tsx&#39;eslint(react/jsx-filename-extension)", "body": "<p>You probably want to configure the <a href=\"https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-filename-extension.md\" rel=\"noreferrer\">react/jsx-filename-extension</a> rule in your <code>.eslintrc.js</code> so that ESLint is happy about JSX inside your TypeScript files:</p>\n\n<pre><code>rules:  {\n  'react/jsx-filename-extension': [2, { 'extensions': ['.js', '.jsx', '.ts', '.tsx'] }],\n},\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1858, "user_id": 5925104, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-odZXicunlBM/AAAAAAAAAAI/AAAAAAAAAHI/RpVu09d-U14/photo.jpg?sz=128", "display_name": "Raymond Wachaga", "link": "https://stackoverflow.com/users/5925104/raymond-wachaga"}, "is_accepted": false, "score": 16, "last_activity_date": 1583346946, "last_edit_date": 1583346946, "creation_date": 1583346327, "answer_id": 60532491, "question_id": 55614983, "link": "https://stackoverflow.com/questions/55614983/jsx-not-allowed-in-files-with-extension-tsxeslintreact-jsx-filename-extensio/60532491#60532491", "title": "JSX not allowed in files with extension &#39;.tsx&#39;eslint(react/jsx-filename-extension)", "body": "<p>Add this rule under the rules section of your eslint configuration:</p>\n\n<pre><code>\"rules\": {\n  \"react/jsx-filename-extension\": [1, { \"extensions\": [\".tsx\", \".ts\"] }]\n}\n</code></pre>\n"}], "owner": {"reputation": 351, "user_id": 5059653, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OJX4eksBm8Q/AAAAAAAAAAI/AAAAAAAAABI/ykt1eWiISSo/photo.jpg?sz=128", "display_name": "Baochang Li", "link": "https://stackoverflow.com/users/5059653/baochang-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16559, "favorite_count": 1, "answer_count": 2, "score": 34, "last_activity_date": 1583346946, "creation_date": 1554906255, "question_id": 55614983, "link": "https://stackoverflow.com/questions/55614983/jsx-not-allowed-in-files-with-extension-tsxeslintreact-jsx-filename-extensio", "title": "JSX not allowed in files with extension &#39;.tsx&#39;eslint(react/jsx-filename-extension)", "body": "<p>In .tsx file,why eslint report \"JSX not allowed in files with extension '.tsx'eslint(react/jsx-filename-extension)\"\nhow to set eslint config can reslove it</p>\n\n<p><a href=\"https://i.stack.imgur.com/mlcMI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/mlcMI.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 0, "creation_date": 1554906022, "post_id": 55614814, "comment_id": 97923444, "body": "Either use the spread operator, either use <code>.call</code> or <code>.apply</code> <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/call\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a> , <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/apply\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1554907026, "post_id": 55614814, "comment_id": 97924039, "body": "I wanted to provide a type safe version of this ... but I guess since it got quickly closed I can&#39;t anymore :("}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1554907113, "post_id": 55614814, "comment_id": 97924091, "body": "<code>class TypeA { method(s: string) { } } class TypeB { foo(s: string, n: number) { } bar(n: number) { } } var instances = { &quot;Object1&quot;: new TypeA(), &quot;ObjectB&quot;: new TypeB(), } function CallMethod&lt;     K extends keyof typeof instances,     M extends keyof typeof instances[K]&gt;(data: { objectId: K } &amp; { methodId: M } &amp; {         args: typeof instances[K][M] extends (...a: any) =&gt; any ? Parameters&lt;typeof instances[K][M]&gt; : never     }) { let args = data.args; (instances[data.objectId][data.methodId] as any)(...args); }</code>"}, {"owner": {"reputation": 849, "user_id": 4481855, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z1q2vlzuJtk/AAAAAAAAAAI/AAAAAAAAAFU/VlAxU6jBJ-M/photo.jpg?sz=128", "display_name": "hdnn", "link": "https://stackoverflow.com/users/4481855/hdnn"}, "edited": false, "score": 0, "creation_date": 1554961566, "post_id": 55614814, "comment_id": 97943072, "body": "Sounds great, but can you explain your solution? Especially this line: <code>{ args: typeof instances[K][M] extends (...a: any) =&gt; any ? Parameters&lt;typeof instances[K][M]&gt; : never }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 32611, "user_id": 9819146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ioXmnWNrB_w/AAAAAAAAAAI/AAAAAAAAADs/Q47JYDWDFyo/photo.jpg?sz=128", "display_name": "Maheer Ali", "link": "https://stackoverflow.com/users/9819146/maheer-ali"}, "edited": false, "score": 0, "creation_date": 1554906294, "post_id": 55614835, "comment_id": 97923580, "body": "Any reason for the downvote?"}], "tags": [], "owner": {"reputation": 32611, "user_id": 9819146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ioXmnWNrB_w/AAAAAAAAAAI/AAAAAAAAADs/Q47JYDWDFyo/photo.jpg?sz=128", "display_name": "Maheer Ali", "link": "https://stackoverflow.com/users/9819146/maheer-ali"}, "is_accepted": true, "score": 0, "last_activity_date": 1554906377, "last_edit_date": 1554906377, "creation_date": 1554905876, "answer_id": 55614835, "question_id": 55614814, "link": "https://stackoverflow.com/questions/55614814/decompose-array-to-function-arguments-in-typescript-javascript/55614835#55614835", "title": "Decompose array to function arguments in TypeScript\\JavaScript", "body": "<p>Use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax#Spread_in_function_calls\" rel=\"nofollow noreferrer\"><strong>Spread Syntax</strong></a> </p>\n\n<pre><code>function CallMethod(data){\n  let args = data.args;// it's array\n  instances[data.objectId][data.methodId](...args); \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3441, "user_id": 7318037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VQ3AY.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/7318037/ashish"}, "is_accepted": false, "score": 0, "last_activity_date": 1554905921, "creation_date": 1554905921, "answer_id": 55614852, "question_id": 55614814, "link": "https://stackoverflow.com/questions/55614814/decompose-array-to-function-arguments-in-typescript-javascript/55614852#55614852", "title": "Decompose array to function arguments in TypeScript\\JavaScript", "body": "<p>You can destruct the array for function parameters using <code>...</code> It is also known as spread. You can read more about it <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\" rel=\"nofollow noreferrer\">here</a>. </p>\n\n<pre><code>instances[data.objectId][data.methodId](...args); \n</code></pre>\n\n<p>so your function will be:</p>\n\n<pre><code>function CallMethod(data){\n    let args = data.args;// it's array\n    instances[data.objectId][data.methodId](...args); \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 582, "user_id": 4044910, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/e5f08289cb56be975210217ffcc4ee48?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/4044910/joseph"}, "is_accepted": false, "score": 0, "last_activity_date": 1554906072, "creation_date": 1554906072, "answer_id": 55614913, "question_id": 55614814, "link": "https://stackoverflow.com/questions/55614814/decompose-array-to-function-arguments-in-typescript-javascript/55614913#55614913", "title": "Decompose array to function arguments in TypeScript\\JavaScript", "body": "<p>spread operator will work here</p>\n\n<pre><code>function CallMethod(data){\n  let args = data.args;\n  instances[data.objectId][data.methodId](...args); \n}\n</code></pre>\n"}], "owner": {"reputation": 849, "user_id": 4481855, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z1q2vlzuJtk/AAAAAAAAAAI/AAAAAAAAAFU/VlAxU6jBJ-M/photo.jpg?sz=128", "display_name": "hdnn", "link": "https://stackoverflow.com/users/4481855/hdnn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 770, "favorite_count": 0, "closed_date": 1554906303, "accepted_answer_id": 55614835, "answer_count": 3, "score": 1, "last_activity_date": 1554906377, "creation_date": 1554905769, "question_id": 55614814, "link": "https://stackoverflow.com/questions/55614814/decompose-array-to-function-arguments-in-typescript-javascript", "closed_reason": "Duplicate", "title": "Decompose array to function arguments in TypeScript\\JavaScript", "body": "<p>I have an array of object instances with different types.</p>\n\n<pre><code>var instances: any = [];\ninstances[\"Object1\"] = new TypeA();\ninstances[\"ObjectB\"] = new TypeB();\n</code></pre>\n\n<p>Each type have own methods with different names and number of arguments.\nI want to call this methods by calling one function and passing to it data to identify the method to call and necessary argument values(I send this data from client).</p>\n\n<pre><code>function CallMethod(data){\n  let args = data.args;// it's array\n  instances[data.objectId][data.methodId](??????); \n}\n</code></pre>\n\n<p>Is it possible to automatic decompose <code>args</code> array to pass his values as different function arguments? </p>\n\n<p>Like this:</p>\n\n<pre><code>instances[data.objectId][data.methodId](args[0], args[1], ... args[n]); \n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular6", "sanitization"], "comments": [{"owner": {"reputation": 25722, "user_id": 2192903, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/mNrNH.png?s=128&g=1", "display_name": "Arnaud Denoyelle", "link": "https://stackoverflow.com/users/2192903/arnaud-denoyelle"}, "edited": false, "score": 0, "creation_date": 1554905649, "post_id": 55614649, "comment_id": 97923193, "body": "What do you mean by <code>the data entered gets evaluated for user</code> ? Is it redisplayed somewhere in the application ? Or do you ask if it will be sanitized before being sent to your server ?"}, {"owner": {"reputation": 4052, "user_id": 10353987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5c452d414db4986b4253cfe41d0699?s=128&d=identicon&r=PG&f=1", "display_name": "etarhan", "link": "https://stackoverflow.com/users/10353987/etarhan"}, "edited": false, "score": 2, "creation_date": 1554905790, "post_id": 55614649, "comment_id": 97923290, "body": "read this: <a href=\"https://angular.io/guide/security\" rel=\"nofollow noreferrer\">angular.io/guide/security</a>"}, {"owner": {"reputation": 25722, "user_id": 2192903, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/mNrNH.png?s=128&g=1", "display_name": "Arnaud Denoyelle", "link": "https://stackoverflow.com/users/2192903/arnaud-denoyelle"}, "edited": false, "score": 1, "creation_date": 1554905793, "post_id": 55614649, "comment_id": 97923294, "body": "Also, <a href=\"https://angular.io/guide/security#sanitization-example\" rel=\"nofollow noreferrer\">this might answer your question</a>"}, {"owner": {"reputation": 23, "user_id": 11340834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d31341f93614c9fce71e8138822364a1?s=128&d=identicon&r=PG&f=1", "display_name": "mrd3ath", "link": "https://stackoverflow.com/users/11340834/mrd3ath"}, "edited": false, "score": 0, "creation_date": 1554910733, "post_id": 55614649, "comment_id": 97926235, "body": "If it will be sanitized before being sent to the server"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 11340834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d31341f93614c9fce71e8138822364a1?s=128&d=identicon&r=PG&f=1", "display_name": "mrd3ath", "link": "https://stackoverflow.com/users/11340834/mrd3ath"}, "edited": false, "score": 0, "creation_date": 1554910911, "post_id": 55614926, "comment_id": 97926336, "body": "Thank you! Quick follow up, if I had data coming in from the server and to the DOM, that would require sanitization, yes?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9298624"}, "reply_to_user": {"reputation": 23, "user_id": 11340834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d31341f93614c9fce71e8138822364a1?s=128&d=identicon&r=PG&f=1", "display_name": "mrd3ath", "link": "https://stackoverflow.com/users/11340834/mrd3ath"}, "edited": false, "score": 0, "creation_date": 1554926211, "post_id": 55614926, "comment_id": 97933802, "body": "You should assume all data coming into the back end is corrupt or malformed and take necessary action to clean it up, make sure it is valid, etc. You are never in control of what is being sent to the server as you do not know where it is coming from.  The data you send back from YOUR API to the browser should be trusted as it is your data you have stored. Providing this data is not malformed in some way, you should be able to send it back to the client, as you are in control."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9298624"}, "is_accepted": true, "score": 2, "last_activity_date": 1554906428, "last_edit_date": 1554906428, "creation_date": 1554906110, "answer_id": 55614926, "question_id": 55614649, "link": "https://stackoverflow.com/questions/55614649/do-i-have-to-explicitly-sanitize-input-fields-in-angular-6/55614926#55614926", "title": "Do I have to explicitly sanitize input fields in Angular 6?", "body": "<p>I appreciate your questions, it may be useful to others. Under no circumstances should the backed ever trust the front end, no framework, no custom library, <strong>nothing</strong>. If someone can exploit, inject, or otherwise harass your backed, they will, period. They will do so <strong>bypassing</strong> any front end framework or library and make <strong>direct requests</strong> to the endpoint, masquerading as anything necessary to do so.</p>\n\n<p>And as @etarhan said, read this: <a href=\"https://angular.io/guide/security\" rel=\"nofollow noreferrer\">https://angular.io/guide/security</a> </p>\n"}, {"tags": [], "owner": {"reputation": 1601, "user_id": 3258708, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WBG4I.png?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/3258708/matt"}, "is_accepted": false, "score": 0, "last_activity_date": 1554909456, "creation_date": 1554909456, "answer_id": 55616103, "question_id": 55614649, "link": "https://stackoverflow.com/questions/55614649/do-i-have-to-explicitly-sanitize-input-fields-in-angular-6/55616103#55616103", "title": "Do I have to explicitly sanitize input fields in Angular 6?", "body": "<p>No. If it's on the frontend then the user can change it in their browser, edit requests inflight and so on. Your sanitisation should be handled in the backend where the user cannot manipulate it. </p>\n\n<p>I would also strongly recommend finding a framework for your backend language rather than reinventing the wheel.</p>\n"}], "owner": {"reputation": 23, "user_id": 11340834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d31341f93614c9fce71e8138822364a1?s=128&d=identicon&r=PG&f=1", "display_name": "mrd3ath", "link": "https://stackoverflow.com/users/11340834/mrd3ath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2598, "favorite_count": 0, "accepted_answer_id": 55614926, "answer_count": 2, "score": 1, "last_activity_date": 1555014709, "creation_date": 1554905288, "last_edit_date": 1555014709, "question_id": 55614649, "link": "https://stackoverflow.com/questions/55614649/do-i-have-to-explicitly-sanitize-input-fields-in-angular-6", "title": "Do I have to explicitly sanitize input fields in Angular 6?", "body": "<p>Do I need to explicitly sanitize all inputs, or does Angular already do it for me?</p>\n\n<p>I have a login form - when submitted it sends it's data to the server. Does the data require explicit sanitization, or Angular automatically sanitize all input fields?</p>\n"}, {"tags": ["angular", "typescript", "asp.net-core", "asp.net-core-signalr"], "comments": [{"owner": {"reputation": 2591, "user_id": 4868839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8d0ae88c5689880ba355618317faec0?s=128&d=identicon&r=PG&f=1", "display_name": "User3250", "link": "https://stackoverflow.com/users/4868839/user3250"}, "edited": false, "score": 0, "creation_date": 1554907810, "post_id": 55614450, "comment_id": 97924494, "body": "Shouldn&#39;t the port be 5000 and not 5001? Try it out."}, {"owner": {"reputation": 2103, "user_id": 4218929, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/77c7f00f3b8d883db468504cb8fd8f98?s=128&d=identicon&r=PG&f=1", "display_name": "Chatra", "link": "https://stackoverflow.com/users/4218929/chatra"}, "reply_to_user": {"reputation": 2591, "user_id": 4868839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8d0ae88c5689880ba355618317faec0?s=128&d=identicon&r=PG&f=1", "display_name": "User3250", "link": "https://stackoverflow.com/users/4868839/user3250"}, "edited": false, "score": 0, "creation_date": 1554908364, "post_id": 55614450, "comment_id": 97924854, "body": "Nope, its still the same error with 5000"}, {"owner": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "edited": false, "score": 0, "creation_date": 1554960856, "post_id": 55614450, "comment_id": 97942819, "body": "Share us your <code>startup.cs</code>? Does angular and signalR in the same project? If not, try to enable cors in signalR project."}, {"owner": {"reputation": 1393, "user_id": 8456062, "user_type": "registered", "profile_image": "https://graph.facebook.com/1423344851113585/picture?type=large", "display_name": "Christophe Chenel", "link": "https://stackoverflow.com/users/8456062/christophe-chenel"}, "edited": false, "score": 0, "creation_date": 1582421514, "post_id": 55614450, "comment_id": 106771968, "body": "Have you been able to make it works ?"}], "owner": {"reputation": 2103, "user_id": 4218929, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/77c7f00f3b8d883db468504cb8fd8f98?s=128&d=identicon&r=PG&f=1", "display_name": "Chatra", "link": "https://stackoverflow.com/users/4218929/chatra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1572, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1566401151, "creation_date": 1554904693, "last_edit_date": 1566401151, "question_id": 55614450, "link": "https://stackoverflow.com/questions/55614450/asp-net-core-signalr-hub-negotiate-err-connection-refused", "title": "ASP.NET core SignalR - hub Negotiate - Err_Connection_Refused", "body": "<p>I am working with SignalR for the first time and trying to connect to hub from Angular. I am trying to implement the same in this <a href=\"https://stackoverflow.com/questions/50608491/using-signalr-core-to-send-messages-from-a-controller-method-to-angular\">LINK</a></p>\n\n<p>I am not sure where this negotiate comes from </p>\n\n<p>OPTIONS <a href=\"http://localhost:5001/messageHub/negotiate\" rel=\"nofollow noreferrer\">http://localhost:5001/messageHub/negotiate</a> net::ERR_CONNECTION_REFUSED</p>\n\n<p>Here is my code.</p>\n\n<pre><code>public startConnection = () =&gt; {\nthis.hubConnection = new signalR.HubConnectionBuilder()\n  .withUrl('http://localhost:5001/messageHub')\n  .build();\n\nthis.hubConnection\n  .start()\n  .then(() =&gt; alert('Connection started'))\n  .catch(err =&gt; alert('Error while starting SignalR connection: ' + err));\n}\n</code></pre>\n\n<p>Here is appsettings.Development.json</p>\n\n<pre><code> \"Logging\": {\n\"LogLevel\": {\n  \"Default\": \"Debug\",\n  \"System\": \"Information\",\n  \"Microsoft\": \"Information\"\n}},\n\"SignalR\": {\n\"messageHub\": \"http://localhost:5001/messageHub\"\n  },\n\"Api\": {\n\"GenerateTokenUrl\": \"http://localhost:5000/api/Values\"\n }\n</code></pre>\n\n<p>It is giving me this error in Chrome Dev tools<a href=\"https://i.stack.imgur.com/UHlhx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UHlhx.png\" alt=\"messageHub Negotiate\"></a></p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 1, "creation_date": 1554903677, "post_id": 55613902, "comment_id": 97921979, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/34232315/declaring-multiple-typescript-variables-with-the-same-type\">Declaring multiple TypeScript variables with the same type</a>"}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 2, "last_activity_date": 1554903453, "creation_date": 1554903453, "answer_id": 55614021, "question_id": 55613902, "link": "https://stackoverflow.com/questions/55613902/how-to-declare-multiple-variable-of-same-datatype-in-typescript-like-we-do-in-j/55614021#55614021", "title": "How to declare multiple variable of same datatype in Typescript, like we do in JavaScript as :- var a,b,c;", "body": "<p>You have to specify the type on each variable:</p>\n\n<pre><code>let a: number, b: number, c: number;\n//or\nvar a: number, b: number, c: number;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4274315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e12ce27d85eaf9e385d67bd59e4a349?s=128&d=identicon&r=PG&f=1", "display_name": "Premji Ajit Karukacheril", "link": "https://stackoverflow.com/users/4274315/premji-ajit-karukacheril"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 675, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554903453, "creation_date": 1554903140, "question_id": 55613902, "link": "https://stackoverflow.com/questions/55613902/how-to-declare-multiple-variable-of-same-datatype-in-typescript-like-we-do-in-j", "title": "How to declare multiple variable of same datatype in Typescript, like we do in JavaScript as :- var a,b,c;", "body": "<p>given an example code typescript and JavaScript variable declaration:- </p>\n\n<pre><code>a:number;\nb:number;\nc:number\n\n/* need similar as below */\nvar a,b,c;\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1554903347, "creation_date": 1554903347, "answer_id": 55613976, "question_id": 55613876, "link": "https://stackoverflow.com/questions/55613876/can-a-functions-return-type-depend-on-an-input-arguments-value/55613976#55613976", "title": "Can a function&#39;s return type depend on an input argument&#39;s value?", "body": "<p>You are pretty close but <code>Source[keyof Source]</code> will give you a union of all possible values in <code>Source</code> you need an extra type parameter to capture the actual key that is passed in and use that to type query into <code>Source</code>:</p>\n\n<pre><code>function getPropertyFromFirstExisting&lt;K extends keyof Source&gt;(\n    arr: Source[],\n    property: K\n): Source[K] {\n    return arr.map(el =&gt; el[property]).filter(prop =&gt; !!prop)[0];\n}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=interface%20Source%20%7B%0D%0A%20%20%20%20a%3F%3A%20string%3B%0D%0A%20%20%20%20b%3F%3A%20boolean%3B%0D%0A%20%20%20%20c%3F%3A%20number%3B%0D%0A%7D%0D%0A%0D%0Afunction%20getPropertyFromFirstExisting%3CK%20extends%20keyof%20Source%3E(%0D%0A%20%20%20%20arr%3A%20Source%5B%5D%2C%0D%0A%20%20%20%20property%3A%20K%0D%0A)%3A%20Source%5BK%5D%20%7B%0D%0A%20%20%20%20return%20arr.map(el%20%3D%3E%20el%5Bproperty%5D).filter(prop%20%3D%3E%20!!prop)%5B0%5D%3B%0D%0A%7D%0D%0A%0D%0Aconst%20sourceArr%20%3D%20%5B%0D%0A%20%20%20%20%7B%20a%3A%20&#39;asdf&#39;%2C%20c%3A%2012%20%7D%2C%0D%0A%20%20%20%20%7B%20b%3A%20true%20%7D%0D%0A%5D%3B%0D%0A%0D%0Ainterface%20Target%20%7B%0D%0A%20%20%20%20a%3A%20string%3B%0D%0A%20%20%20%20b%3A%20boolean%3B%0D%0A%20%20%20%20c%3A%20number%3B%0D%0A%7D%0D%0A%0D%0Aconst%20result%3A%20Target%20%3D%20%7B%0D%0A%20%20%20%20%2F%2F%20the%20property%20result.a%20should%20only%20be%20string%20type%0D%0A%20%20%20%20a%3A%20getPropertyFromFirstExisting(sourceArr%2C%20&#39;a&#39;)%2C%0D%0A%20%20%20%20%2F%2F%20the%20property%20result.b%20should%20only%20be%20boolean%20type%0D%0A%20%20%20%20b%3A%20getPropertyFromFirstExisting(sourceArr%2C%20&#39;b&#39;)%2C%0D%0A%20%20%20%20%2F%2F%20the%20property%20result.c%20should%20only%20be%20number%20type%0D%0A%20%20%20%20c%3A%20getPropertyFromFirstExisting(sourceArr%2C%20&#39;c&#39;)%0D%0A%7D%3B%0D%0A\" rel=\"nofollow noreferrer\">Playground link</a></p>\n"}], "owner": {"reputation": 2054, "user_id": 6493921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZdjsN.jpg?s=128&g=1", "display_name": "Mezo Istvan", "link": "https://stackoverflow.com/users/6493921/mezo-istvan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 55613976, "answer_count": 1, "score": 0, "last_activity_date": 1554903347, "creation_date": 1554903094, "question_id": 55613876, "link": "https://stackoverflow.com/questions/55613876/can-a-functions-return-type-depend-on-an-input-arguments-value", "title": "Can a function&#39;s return type depend on an input argument&#39;s value?", "body": "<p>Given an interface, I'd like to create a function that picks a property of that interface, which property can be specified as an input argument. </p>\n\n<p>This is the closest I've come:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Source {\n    a?: string;\n    b?: boolean;\n    c?: number;\n}\n\nfunction getPropertyFromFirstExisting(\n    arr: Source[],\n    property: keyof Source\n): Source[keyof Source] {\n    return arr.map(el =&gt; el[property]).filter(prop =&gt; !!prop)[0];\n}\n\nconst sourceArr = [\n    { a: 'asdf', c: 12 },\n    { b: true }\n];\n\ninterface Target {\n    a: string;\n    b: boolean;\n    c: number;\n}\n\nconst result: Target = {\n    // the property result.a should only be string type\n    a: getPropertyFromFirstExisting(sourceArr, 'a'),\n    // the property result.b should only be boolean type\n    b: getPropertyFromFirstExisting(sourceArr, 'b'),\n    // the property result.c should only be number type\n    c: getPropertyFromFirstExisting(sourceArr, 'c')\n};\n</code></pre>\n\n<p>In this case the <code>getPropertyFromFirstExisting</code> has a return type of <code>string | boolean | number</code>, but with a good solution it should be only one of those, depending on the <code>property</code> input parameter. Is this possible?</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=interface%20Source%20%7B%0D%0A%20%20%20%20a%3F%3A%20string%3B%0D%0A%20%20%20%20b%3F%3A%20boolean%3B%0D%0A%20%20%20%20c%3F%3A%20number%3B%0D%0A%7D%0D%0A%0D%0Afunction%20getPropertyFromFirstExisting(%0D%0A%20%20%20%20arr%3A%20Source%5B%5D%2C%0D%0A%20%20%20%20property%3A%20keyof%20Source%0D%0A)%3A%20Source%5Bkeyof%20Source%5D%20%7B%0D%0A%20%20%20%20return%20arr.map(el%20%3D%3E%20el%5Bproperty%5D).filter(prop%20%3D%3E%20!!prop)%5B0%5D%3B%0D%0A%7D%0D%0A%0D%0Aconst%20sourceArr%20%3D%20%5B%0D%0A%20%20%20%20%7B%20a%3A%20&#39;asdf&#39;%2C%20c%3A%2012%20%7D%2C%0D%0A%20%20%20%20%7B%20b%3A%20true%20%7D%0D%0A%5D%3B%0D%0A%0D%0Ainterface%20Target%20%7B%0D%0A%20%20%20%20a%3A%20string%3B%0D%0A%20%20%20%20b%3A%20boolean%3B%0D%0A%20%20%20%20c%3A%20number%3B%0D%0A%7D%0D%0A%0D%0Aconst%20result%3A%20Target%20%3D%20%7B%0D%0A%20%20%20%20%2F%2F%20the%20property%20result.a%20should%20only%20be%20string%20type%0D%0A%20%20%20%20a%3A%20getPropertyFromFirstExisting(sourceArr%2C%20&#39;a&#39;)%2C%0D%0A%20%20%20%20%2F%2F%20the%20property%20result.b%20should%20only%20be%20boolean%20type%0D%0A%20%20%20%20b%3A%20getPropertyFromFirstExisting(sourceArr%2C%20&#39;b&#39;)%2C%0D%0A%20%20%20%20%2F%2F%20the%20property%20result.c%20should%20only%20be%20number%20type%0D%0A%20%20%20%20c%3A%20getPropertyFromFirstExisting(sourceArr%2C%20&#39;c&#39;)%0D%0A%7D%3B%0D%0A\" rel=\"nofollow noreferrer\">Here's a link to the example in the TypeScript playground.</a> </p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 2, "creation_date": 1554902962, "post_id": 55613808, "comment_id": 97921491, "body": "Don&#39;t try to explain, instead please post your JSON ..."}], "answers": [{"tags": [], "owner": {"reputation": 2193, "user_id": 7435814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df7bf4e466073c2af1e8f41f1f27a0e8?s=128&d=identicon&r=PG", "display_name": "alex kucksdorf", "link": "https://stackoverflow.com/users/7435814/alex-kucksdorf"}, "is_accepted": true, "score": 2, "last_activity_date": 1554908502, "creation_date": 1554908502, "answer_id": 55615784, "question_id": 55613808, "link": "https://stackoverflow.com/questions/55613808/angular-typescript-array-filter-collection-base-of-array-of-values-like-sql-in/55615784#55615784", "title": "Angular Typescript Array filter collection base of array of values like SQL &quot;in&quot;", "body": "<p>First of all, your <code>filterValues</code> should be an <code>Array</code>:</p>\n\n<pre><code>const filterValues = ['January', 'February', 'March'];\n</code></pre>\n\n<p>Then you can use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes\" rel=\"nofollow noreferrer\"><code>.includes()</code> function</a>:</p>\n\n<pre><code>let filterColumns = Columns[0].myData.filter(f =&gt; filterValues.includes(f.monthName));\n</code></pre>\n"}], "owner": {"reputation": 705, "user_id": 10354765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/362807c43e0c20377a2da88da2aee4e7?s=128&d=identicon&r=PG&f=1", "display_name": "c0micrage", "link": "https://stackoverflow.com/users/10354765/c0micrage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 242, "favorite_count": 0, "accepted_answer_id": 55615784, "answer_count": 1, "score": 0, "last_activity_date": 1554913047, "creation_date": 1554902895, "last_edit_date": 1554913047, "question_id": 55613808, "link": "https://stackoverflow.com/questions/55613808/angular-typescript-array-filter-collection-base-of-array-of-values-like-sql-in", "title": "Angular Typescript Array filter collection base of array of values like SQL &quot;in&quot;", "body": "<p>I am using Angular and typescript to filter an array of nested collection and need to filter the nest collection based on an array of months.</p>\n\n<p>The complex array looks something like this</p>\n\n<pre><code>{\n    Columns: [{\n        name: string,\n        myData: [{\n            monthName: string,\n            note: string\n        }, ...]\n    }, ...]\n}\n</code></pre>\n\n<p>In the Columns collection, there is are 12 nested object for each month of the year.</p>\n\n<p>I have any array of filter values like <code>{'January', 'Febuary' 'March'}</code>, so there are many combination.</p>\n\n<p>I am figuring out how to filter based on the <code>filtervalues = {'January', 'Febuary' 'March'}</code></p>\n\n<p>Something like this</p>\n\n<p><code>var filterColumns = Columns[0].myData.filter(f =&gt; f.monthName in filtervalues);</code></p>\n\n<p>So if the Columns started with Columns with 12 myData for Jan thru Dec, I can do a filter for Jan, Feb, Mar and the filterColumns get a Columns with 3 myData nested object with monthName of Jan, Feb, and Mar.</p>\n\n<p>is there an easy way to do this on nested collection in typescript?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "typescript", "typescript-typings", "jsdoc"], "comments": [{"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 1, "creation_date": 1554901305, "post_id": 55613040, "comment_id": 97920373, "body": "<code>const object: Things = ...</code> seems to work as expected"}, {"owner": {"reputation": 306, "user_id": 1738402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b6f2d380f8fcf8cd6f61031d2ff8e8b?s=128&d=identicon&r=PG", "display_name": "Ricard", "link": "https://stackoverflow.com/users/1738402/ricard"}, "reply_to_user": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1554991928, "post_id": 55613040, "comment_id": 97960366, "body": "@ExplosionPills Thank you, it would work if we were using &quot;.ts&quot; files but we&#39;re using &quot;.js&quot; files."}], "answers": [{"comments": [{"owner": {"reputation": 306, "user_id": 1738402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b6f2d380f8fcf8cd6f61031d2ff8e8b?s=128&d=identicon&r=PG", "display_name": "Ricard", "link": "https://stackoverflow.com/users/1738402/ricard"}, "edited": false, "score": 0, "creation_date": 1554992119, "post_id": 55614882, "comment_id": 97960518, "body": "Thanks! We&#39;re not using .ts files, thus we can&#39;t use this solution.  We&#39;re using TypeScript with JSDocs. We only use &quot;.ts&quot; files for defining the interfaces.  Not sure if there&#39;s a way around this."}, {"owner": {"reputation": 15831, "user_id": 203371, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/IFBUC.jpg?s=128&g=1", "display_name": "Ben Smith", "link": "https://stackoverflow.com/users/203371/ben-smith"}, "reply_to_user": {"reputation": 306, "user_id": 1738402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b6f2d380f8fcf8cd6f61031d2ff8e8b?s=128&d=identicon&r=PG", "display_name": "Ricard", "link": "https://stackoverflow.com/users/1738402/ricard"}, "edited": false, "score": 0, "creation_date": 1554993046, "post_id": 55614882, "comment_id": 97961122, "body": "Adding &quot;:Things&quot; is just like you have done for defining a string i.e. &quot;:string&quot;, so why cant you use this? Without adding &quot;:Things&quot; your code is doing exactly as its asked i.e. creating a javascript object of type any."}, {"owner": {"reputation": 306, "user_id": 1738402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b6f2d380f8fcf8cd6f61031d2ff8e8b?s=128&d=identicon&r=PG", "display_name": "Ricard", "link": "https://stackoverflow.com/users/1738402/ricard"}, "edited": false, "score": 0, "creation_date": 1555056192, "post_id": 55614882, "comment_id": 97983295, "body": "The object is created in a .JS file while the interface is crated in a .TS file. I guess our setup with JSDocs doesn&#39;t allow this. Thanks for the input Ben."}, {"owner": {"reputation": 15831, "user_id": 203371, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/IFBUC.jpg?s=128&g=1", "display_name": "Ben Smith", "link": "https://stackoverflow.com/users/203371/ben-smith"}, "reply_to_user": {"reputation": 306, "user_id": 1738402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b6f2d380f8fcf8cd6f61031d2ff8e8b?s=128&d=identicon&r=PG", "display_name": "Ricard", "link": "https://stackoverflow.com/users/1738402/ricard"}, "edited": false, "score": 0, "creation_date": 1555067684, "post_id": 55614882, "comment_id": 97989346, "body": "No problems @Ricard , hope you find a solution."}], "tags": [], "owner": {"reputation": 15831, "user_id": 203371, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/IFBUC.jpg?s=128&g=1", "display_name": "Ben Smith", "link": "https://stackoverflow.com/users/203371/ben-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1554905986, "creation_date": 1554905986, "answer_id": 55614882, "question_id": 55613040, "link": "https://stackoverflow.com/questions/55613040/declared-object-in-a-constant-only-with-the-exact-properties-defined-in-the-type/55614882#55614882", "title": "Declared object in a constant only with the exact properties defined in the type", "body": "<p>As @ExplosionPills says, in:</p>\n\n<pre><code>const object = /** @type {Things} */ ({\n    foo: { a: 'foo_a', b: 'foo_b' },\n    bar: { a: 'bar_a', b: 'bar_b' },\n    abc: { a: 'abc_a', b: 'abc_b' } // This shouldn't be allowed. Not defined in Keys \n})\n</code></pre>\n\n<p>\"object\" is not defined as a type \"Things\", hence it does not error as object is implicitly of type any, so you can assign whatever you want to it.</p>\n\n<p>You need to change your code to:</p>\n\n<pre><code>const object : Things = /** @type {Things} */ ({\n    foo: { a: 'foo_a', b: 'foo_b' },\n    bar: { a: 'bar_a', b: 'bar_b' },\n    abc: { a: 'abc_a', b: 'abc_b' } // This will now be highlighted as an error \n})\n</code></pre>\n\n<p>Doing this only then allows objects of type Things to be assigned to object. Once you make this change you will then see Typescript complain about the error.</p>\n"}], "owner": {"reputation": 306, "user_id": 1738402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b6f2d380f8fcf8cd6f61031d2ff8e8b?s=128&d=identicon&r=PG", "display_name": "Ricard", "link": "https://stackoverflow.com/users/1738402/ricard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554905986, "creation_date": 1554900655, "question_id": 55613040, "link": "https://stackoverflow.com/questions/55613040/declared-object-in-a-constant-only-with-the-exact-properties-defined-in-the-type", "title": "Declared object in a constant only with the exact properties defined in the type", "body": "<p>We\u2019re using typescript together with JSDoc in our JS based application, only to define the types of the parameters we use in our functions.\nIn a specific case we want to have objects with a defined structure, and we need to ensure that every object declared under certain type only has the expected properties</p>\n\n<pre><code>type Keys = 'foo' | 'bar';\n\ntype Things = {\n  [K in Keys]: Thing;\n}\n\ninterface Thing {\n  a: string;\n  b: string;\n}\n</code></pre>\n\n<p>When creating an object of type <code>Things</code> I would expect this to have ONLY the attributes defined in <code>Thing</code></p>\n\n<pre><code>const object = /** @type {Things} */ ({\n  foo: { a: 'foo_a', b: 'foo_b' },\n  bar: { a: 'bar_a', b: 'bar_b' }\n})\n</code></pre>\n\n<p>But practically, we can declare a property <code>abc</code> without any complain by Typescript. It\u2019ll only complain if, when trying to access the properties of that object, we call a property that does not exist on the type declaration. For example, if we do <code>object.abc</code> it will complain.</p>\n\n<h2>Error</h2>\n\n<p>As you would imagine, this will trigger an error:</p>\n\n<pre><code>object.abc // abc is not defined in type Things\n</code></pre>\n\n<h2>No Errors</h2>\n\n<p>Adding the <code>abc</code> which is not defined in the Type, does <strong>not</strong> trigger an TS error:</p>\n\n<pre><code>const object = /** @type {Things} */ ({\n  foo: { a: 'foo_a', b: 'foo_b' },\n  bar: { a: 'bar_a', b: 'bar_b' },\n  abc: { a: 'abc_a', b: 'abc_b' },\n})\n</code></pre>\n\n<p>I\u2019d like to prevent the declaration of non-defined in type properties when creating the object of type <code>Things</code>.</p>\n\n<h2>Playground</h2>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=type%20Keys%20%3D%20&#39;foo&#39;%20%7C%20&#39;bar&#39;%3B%0D%0A%0D%0Atype%20Things%20%3D%20%7B%0D%0A%20%20%5BK%20in%20Keys%5D%3A%20Thing%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20Thing%20%7B%0D%0A%20%20a%3A%20string%3B%0D%0A%20%20b%3A%20string%3B%0D%0A%7D%0D%0A%0D%0Aconst%20object%20%3D%20%2F**%20%40type%20%7BThings%7D%20*%2F%20(%7B%0D%0A%20%20%20%20foo%3A%20%7B%20a%3A%20&#39;foo_a&#39;%2C%20b%3A%20&#39;foo_b&#39;%20%7D%2C%0D%0A%20%20%20%20bar%3A%20%7B%20a%3A%20&#39;bar_a&#39;%2C%20b%3A%20&#39;bar_b&#39;%20%7D%2C%0D%0A%20%20%20%20abc%3A%20%7B%20a%3A%20&#39;abc_a&#39;%2C%20b%3A%20&#39;abc_b&#39;%20%7D%20%2F%2F%20This%20shouldn&#39;t%20be%20allowed.%20Not%20defined%20in%20Keys%20%0D%0A%7D)%0D%0A%0D%0Aobject.xyz%20%2F%2F%20Property%20&#39;xyz&#39;%20is%20not%20defined%20in%20type%20\" rel=\"nofollow noreferrer\">TypeScript playground example</a></p>\n\n<p><strong>Anyone faced any similar issue?</strong></p>\n\n<p>Thank you </p>\n"}, {"tags": ["angular", "typescript", "formgroups"], "answers": [{"comments": [{"owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "edited": false, "score": 0, "creation_date": 1554910890, "post_id": 55613242, "comment_id": 97926320, "body": "I tried. That doesn&#39;t change the <code>submitted</code> property"}], "tags": [], "owner": {"reputation": 1351, "user_id": 1999720, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Mfcnm.jpg?s=128&g=1", "display_name": "Sadid Khan", "link": "https://stackoverflow.com/users/1999720/sadid-khan"}, "is_accepted": false, "score": 0, "last_activity_date": 1554980153, "last_edit_date": 1554980153, "creation_date": 1554901288, "answer_id": 55613242, "question_id": 55612879, "link": "https://stackoverflow.com/questions/55612879/angular-submit-outside-form/55613242#55613242", "title": "Angular submit outside form", "body": "<p>use this.</p>\n\n<p>in html: </p>\n\n<pre><code>&lt;form [formGroup]=\"form\" #myForm=\"ngForm\"&gt;\n    // ...Form Controls\n&lt;/form&gt;\n\n&lt;button (click)=\"submitForm()\" *ngIf=\"showEditControl\" class=\"btn btn_blue mr-3 button-save\" type=\"submit\"&gt;\n    {{'buttons.save' | translate}}\n&lt;/button&gt;\n</code></pre>\n\n<p>and in component.ts</p>\n\n<pre><code>@ViewChild('myForm') form: FormGroupDirective;\n\nformGroup: FormGroup = new FormGroup({\n    myInput: new FormControl(''),\n    //etc...\n});\n\nsubmitForm() {\n    this.form.onSubmit(undefined);\n}\n</code></pre>\n"}], "owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554980153, "creation_date": 1554900203, "question_id": 55612879, "link": "https://stackoverflow.com/questions/55612879/angular-submit-outside-form", "title": "Angular submit outside form", "body": "<p>I need to invoke <code>submit</code> on form(s) when clicking on button outside the form as well as changing <code>FormGroupDirective.submitted</code> to <code>true</code>.</p>\n\n<p>I have next layout</p>\n\n<pre><code>&lt;form (ngSubmit)=\"submit()\" #myForm [formGroup]=\"formGroup\"&gt;\n...\n&lt;/form&gt;\n\n&lt;button (click)=\"formGroupDirective.ngSubmit.emit()\" *ngIf=\"showEditControl\"\n    class=\"btn btn_blue mr-3 button-save\" type=\"submit\"&gt;\n    {{'buttons.save' | translate}}\n&lt;/button&gt;\n</code></pre>\n\n<p>And component.ts</p>\n\n<pre><code>@ViewChild('myForm', {read: FormGroupDirective}) formGroupDirective: FormGroupDirective;\n</code></pre>\n\n<p>This does invoke <code>(ngSumit)</code> however the property <code>submitted</code> is not changed. It's not good to change the property itself as <code>submitted</code> is <code>readonly</code>. What could be done here (except for creating hidden submit buttons and emulating click on them)?</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "promise"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 2, "creation_date": 1554900557, "post_id": 55612859, "comment_id": 97919893, "body": "Since the code is working and there are supposedly no problems with it, this is likely the question for <a href=\"http://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"}, {"owner": {"reputation": 167, "user_id": 6355004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d486b3c9d9e79ea64689f7933566f880?s=128&d=identicon&r=PG&f=1", "display_name": "ttous", "link": "https://stackoverflow.com/users/6355004/ttous"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1554900959, "post_id": 55612859, "comment_id": 97920162, "body": "I did not know this one, thank you."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1554923933, "post_id": 55612859, "comment_id": 97932797, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/38213668/promise-retry-design-patterns\">Promise Retry Design Patterns</a>"}], "answers": [{"comments": [{"owner": {"reputation": 111435, "user_id": 1333873, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7ae9b432531de46073888f1a49c2391c?s=128&d=identicon&r=PG", "display_name": "Golo Roden", "link": "https://stackoverflow.com/users/1333873/golo-roden"}, "edited": false, "score": 1, "creation_date": 1554923555, "post_id": 55613583, "comment_id": 97932647, "body": "Isn&#39;t that a little bit like shooting sparrows with cannons?"}], "tags": [], "owner": {"reputation": 1222, "user_id": 11047122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/319da34e027d4d5cb2cf39b4e0647c97?s=128&d=identicon&r=PG&f=1", "display_name": "Will Taylor", "link": "https://stackoverflow.com/users/11047122/will-taylor"}, "is_accepted": false, "score": 0, "last_activity_date": 1554902234, "creation_date": 1554902234, "answer_id": 55613583, "question_id": 55612859, "link": "https://stackoverflow.com/questions/55612859/how-to-retry-a-promise-resolution-n-times-with-a-delay-between-the-attempts/55613583#55613583", "title": "How to retry a Promise resolution N times, with a delay between the attempts?", "body": "<p><strong>Have you considered RxJS?</strong> </p>\n\n<p>It is excellent for implementing this sort of logic in async workflows.</p>\n\n<p>Below is an example of how you would do this without breaking your public api (ie. converting from Promise to Observable and back). In practice you would probably want to use either RxJS <strong>or</strong> Promises in any given project rather than mixing them.</p>\n\n<pre><code>/**\n * @async\n * @function tryNTimes&lt;T&gt; Tries to resolve a {@link Promise&lt;T&gt;} N times, with a delay between each attempt.\n * @param {Object} options Options for the attempts.\n * @param {() =&gt; Promise&lt;T&gt;} options.toTry The {@link Promise&lt;T&gt;} to try to resolve.\n * @param {number} [options.times=5] The maximum number of attempts (must be greater than 0).\n * @param {number} [options.interval=1] The interval of time between each attempt in seconds.\n * @returns {Promise&lt;T&gt;} The resolution of the {@link Promise&lt;T&gt;}.\n */\nexport async function tryNTimes&lt;T&gt;(\n    {\n        toTry,\n        times = 5,\n        interval = 1,\n    }:\n        {\n            toTry: () =&gt; Promise&lt;T&gt;,\n            times?: number,\n            interval?: number,\n        }\n): Promise&lt;T&gt; {\n    if (times &lt; 1) throw new Error(`Bad argument: 'times' must be greater than 0, but ${times} was received.`);\n    let attemptCount: number;\n\n    return from(toTry)\n        .pipe(\n            retryWhen(errors =&gt;\n                errors.pipe(\n                    delay(interval * 1000),\n                    take(times - 1)\n                )\n            )\n        )\n        .toPromise();\n}\n</code></pre>\n\n<p>It may not be worth adding a whole library for this one piece of logic, but if your project involves a lot of complex async workflows such as this, then RxJS is great.</p>\n"}, {"tags": [], "owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "is_accepted": true, "score": 3, "last_activity_date": 1554923478, "last_edit_date": 1554923478, "creation_date": 1554923138, "answer_id": 55619680, "question_id": 55612859, "link": "https://stackoverflow.com/questions/55612859/how-to-retry-a-promise-resolution-n-times-with-a-delay-between-the-attempts/55619680#55619680", "title": "How to retry a Promise resolution N times, with a delay between the attempts?", "body": "<blockquote>\n  <p>I did not want to use a recursive function: this way, even if there are 50 attempts the call stack isn't 50 lines longer.</p>\n</blockquote>\n\n<p>That's not a good excuse. The call stack doesn't overflow from asynchronous calls, and when a recursive solution is more intuitive than an iterative one you should probably go for it.</p>\n\n<blockquote>\n  <p>What I ended up doing is using a <code>for</code> loop. Is this a \"good\" way of doing it, and if not, how I could improve it?</p>\n</blockquote>\n\n<p>The <code>for</code> loop is fine. It's a bit weird that it starts at <code>1</code> though, 0-based loops are much more idiomatic.</p>\n\n<p>What is not fine however is your weird error handling. That boolean <code>error</code> flag should have no place in your code. <a href=\"https://stackoverflow.com/questions/44663864/correct-try-catch-syntax-using-async-await\">Using <code>.catch()</code> is fine</a>, but <code>try</code>/<code>catch</code> would work just as well and should be preferred.</p>\n\n<pre><code>export async function tryNTimes&lt;T&gt;({ toTry, times = 5, interval = 1}) {\n    if (times &lt; 1) throw new Error(`Bad argument: 'times' must be greater than 0, but ${times} was received.`);\n    let attemptCount = 0\n    while (true) {\n        try {\n            const result = await toTry();\n            return result;\n        } catch(error) {\n            if (++attemptCount &gt;= times) throw error;\n        }\n        await delay(interval)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 111435, "user_id": 1333873, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7ae9b432531de46073888f1a49c2391c?s=128&d=identicon&r=PG", "display_name": "Golo Roden", "link": "https://stackoverflow.com/users/1333873/golo-roden"}, "is_accepted": false, "score": 1, "last_activity_date": 1554923321, "creation_date": 1554923321, "answer_id": 55619728, "question_id": 55612859, "link": "https://stackoverflow.com/questions/55612859/how-to-retry-a-promise-resolution-n-times-with-a-delay-between-the-attempts/55619728#55619728", "title": "How to retry a Promise resolution N times, with a delay between the attempts?", "body": "<p>You might want to have a look at <a href=\"https://www.npmjs.com/package/async-retry\" rel=\"nofollow noreferrer\">async-retry</a>, which does exactly what you need. This package lets you retry async operations, and you can configure (among other things) timeouts between retries (even with increasing factors), maximum number of retries, \u2026</p>\n\n<p>This way you don't have to reinvent the wheel, but can rely on a proven package that is being widely used in the community.</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 4373100, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001975740210/picture?type=large", "display_name": "Pratyush", "link": "https://stackoverflow.com/users/4373100/pratyush"}, "is_accepted": false, "score": 2, "last_activity_date": 1555018038, "creation_date": 1555018038, "answer_id": 55641430, "question_id": 55612859, "link": "https://stackoverflow.com/questions/55612859/how-to-retry-a-promise-resolution-n-times-with-a-delay-between-the-attempts/55641430#55641430", "title": "How to retry a Promise resolution N times, with a delay between the attempts?", "body": "<p>Using recursive functions with Promises won't be an issue with the callstack as the Promise is returned instantly and the <code>then</code> or <code>catch</code> function will be called after an asynchronous event.</p>\n\n<p>A simple javascript function would be like:</p>\n\n<pre><code>function wait (ms) {\n  return new Promise((resolve) =&gt; {\n    setTimeout(resolve, ms)\n  })\n}\n\nfunction retry (fn, maxAttempts = 1, delay = 0, attempts = 0) {\n  return Promise.resolve()\n    .then(fn)\n    .catch(err =&gt; {\n      if (attempts &lt; maxAttempts) {\n        return retry (fn, maxAttempts, delay, attempts + 1)\n      }\n      throw err\n    })\n}\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 6355004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d486b3c9d9e79ea64689f7933566f880?s=128&d=identicon&r=PG&f=1", "display_name": "ttous", "link": "https://stackoverflow.com/users/6355004/ttous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1902, "favorite_count": 1, "accepted_answer_id": 55619680, "answer_count": 4, "score": 3, "last_activity_date": 1555018038, "creation_date": 1554900155, "question_id": 55612859, "link": "https://stackoverflow.com/questions/55612859/how-to-retry-a-promise-resolution-n-times-with-a-delay-between-the-attempts", "title": "How to retry a Promise resolution N times, with a delay between the attempts?", "body": "<p>I want some JavaScript code to take 3 things as parameters:</p>\n\n<ul>\n<li>A function returning a Promise.</li>\n<li>The maximum number of attempts.</li>\n<li>The delay between each attempt.</li>\n</ul>\n\n<p>What I ended up doing is using a <code>for</code> loop. I did not want to use a recursive function : this way, even if there are 50 attempts the call stack isn't 50 lines longer.</p>\n\n<p>Here is the <strong>typescript</strong> version of the code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>/**\n * @async\n * @function tryNTimes&lt;T&gt; Tries to resolve a {@link Promise&lt;T&gt;} N times, with a delay between each attempt.\n * @param {Object} options Options for the attempts.\n * @param {() =&gt; Promise&lt;T&gt;} options.toTry The {@link Promise&lt;T&gt;} to try to resolve.\n * @param {number} [options.times=5] The maximum number of attempts (must be greater than 0).\n * @param {number} [options.interval=1] The interval of time between each attempt in seconds.\n * @returns {Promise&lt;T&gt;} The resolution of the {@link Promise&lt;T&gt;}.\n */\nexport async function tryNTimes&lt;T&gt;(\n    {\n        toTry,\n        times = 5,\n        interval = 1,\n    }:\n        {\n            toTry: () =&gt; Promise&lt;T&gt;,\n            times?: number,\n            interval?: number,\n        }\n): Promise&lt;T&gt; {\n    if (times &lt; 1) throw new Error(`Bad argument: 'times' must be greater than 0, but ${times} was received.`);\n    let attemptCount: number;\n    for (attemptCount = 1; attemptCount &lt;= times; attemptCount++) {\n        let error: boolean = false;\n        const result = await toTry().catch((reason) =&gt; {\n            error = true;\n            return reason;\n        });\n\n        if (error) {\n            if (attemptCount &lt; times) await delay(interval);\n            else return Promise.reject(result);\n        }\n        else return result;\n    }\n}\n</code></pre>\n\n<p>The <code>delay</code> function used above is a promisified timeout:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>/**\n * @function delay Delays the execution of an action.\n * @param {number} time The time to wait in seconds.\n * @returns {Promise&lt;void&gt;}\n */\nexport function delay(time: number): Promise&lt;void&gt; {\n    return new Promise&lt;void&gt;((resolve) =&gt; setTimeout(resolve, time * 1000));\n}\n</code></pre>\n\n<p>To clarify: the code above <strong>works</strong>, I'm only wondering if this is a \"good\" way of doing it, and if not, how I could improve it.</p>\n\n<p>Any suggestion? Thanks in advance for your help.</p>\n"}, {"tags": ["typescript", "generics"], "comments": [{"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 0, "creation_date": 1554900402, "post_id": 55612476, "comment_id": 97919793, "body": "What about <code>class Foo&lt;T extends Goo&lt;Interface&gt;&gt; {}</code>?"}, {"owner": {"reputation": 1736, "user_id": 7216259, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NyCby.jpg?s=128&g=1", "display_name": "Maro\u0161 Be\u0165ko", "link": "https://stackoverflow.com/users/7216259/maro%c5%a1-be%c5%a5ko"}, "reply_to_user": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 0, "creation_date": 1554902650, "post_id": 55612476, "comment_id": 97921271, "body": "Yeah that actually work and doesn&#39;t narrow the type to the interface in more advanced cases."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1554905046, "post_id": 55612476, "comment_id": 97922850, "body": "If there are some use cases the suggestion doesn&#39;t work for, could you edit your question to include a minimal example?"}, {"owner": {"reputation": 1736, "user_id": 7216259, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NyCby.jpg?s=128&g=1", "display_name": "Maro\u0161 Be\u0165ko", "link": "https://stackoverflow.com/users/7216259/maro%c5%a1-be%c5%a5ko"}, "reply_to_user": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 0, "creation_date": 1555145763, "post_id": 55612476, "comment_id": 98014700, "body": "The suggested solution from @series0ne works but I&#39;m not sure how can I close this issue since it&#39;s just a comment and not an response."}, {"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 0, "creation_date": 1555584346, "post_id": 55612476, "comment_id": 98165493, "body": "I added it as an answer"}], "answers": [{"tags": [], "owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "is_accepted": true, "score": 1, "last_activity_date": 1555584277, "creation_date": 1555584277, "answer_id": 55744370, "question_id": 55612476, "link": "https://stackoverflow.com/questions/55612476/type-inference-of-generic-types/55744370#55744370", "title": "Type inference of generic types", "body": "<p>You could just do this</p>\n\n<p><code>class Foo&lt;T extends Goo&lt;Interface&gt;&gt; {}</code></p>\n"}], "owner": {"reputation": 1736, "user_id": 7216259, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NyCby.jpg?s=128&g=1", "display_name": "Maro\u0161 Be\u0165ko", "link": "https://stackoverflow.com/users/7216259/maro%c5%a1-be%c5%a5ko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 55744370, "answer_count": 1, "score": 0, "last_activity_date": 1555584277, "creation_date": 1554898981, "question_id": 55612476, "link": "https://stackoverflow.com/questions/55612476/type-inference-of-generic-types", "title": "Type inference of generic types", "body": "<p>I was trying to make something like this work. The point is that I have some <code>Interface</code>, then a <code>Goo</code> class that has one generic type that extends said interface.</p>\n\n<pre><code>interface Interface { a: string; }\nclass Goo&lt;T extends Interface&gt; { props: T }\nclass Foo&lt;T extends Goo&lt;T[\"props\"]&gt;&gt; {}\n</code></pre>\n\n<p>I would like to create a <code>Foo</code> class that takes generic type that extends this generic <code>Goo</code>. Problem is that <code>Goo</code> expects a generic argument, which I tried to use the <code>T[\"props\"]</code> for, but the syntax checker is showing error that that type does not satisfy the interface.</p>\n\n<p>Usage of said class would look something like this:</p>\n\n<pre><code>class Impl implements Interface { a: string; }\ntype Boo = Foo&lt;Goo&lt;Impl&gt;&gt;;\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 14263, "user_id": 10325032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UwH88.jpg?s=128&g=1", "display_name": "Karol Majewski", "link": "https://stackoverflow.com/users/10325032/karol-majewski"}, "is_accepted": true, "score": 2, "last_activity_date": 1554900326, "creation_date": 1554900326, "answer_id": 55612920, "question_id": 55612414, "link": "https://stackoverflow.com/questions/55612414/how-to-use-key-from-the-keyof-as-key-for-another-type/55612920#55612920", "title": "How to use key from the keyof as key for another type?", "body": "<p>Tell TypeScript about your constraint by using a type parameter.</p>\n\n<pre><code>function test&lt;K extends keyof A&gt;(name: K, value: A[K]) {}\n</code></pre>\n\n<p>See <a href=\"https://typescript-play.js.org/#code/JYOwLgpgTgZghgYwgAgILIN4ChnIEYD2BA1gFzIDOYUoA5gNw7IC2cYAFuSAK7N7SMAvliwxuIBGGAEQySFQA8AaWQQAHpBAATCsmIQAngRhoAfAAoQcZhHJKANMgBucADbdbaANpKAugEpMYSx5MHMAckIScMcAJn96ZAB6JORgXVAXV2AtEIgqCNYOGORwqihwhOTU9LSQLJyRUIio4hKy6krElLTdBtzm8KL2Evjumr63HKA\" rel=\"nofollow noreferrer\">TypeScript Playground</a>.</p>\n\n<p>The difference is, in the above definition we're using exactly the same key in both places. It can be either <code>book</code> twice or <code>math</code> \u2014 twice.</p>\n\n<p>In your original code, <code>keyof A</code> denotes one of two. Then, <code>typeof name</code> points to the same thing \u2014 <code>keyof A</code> \u2014 which is a union of <code>book</code> or <code>math</code>. It means 4 combinations are allowed, because there are two degrees of freedom.</p>\n"}], "owner": {"reputation": 5, "user_id": 3301088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7UNMC.jpg?s=128&g=1", "display_name": "jeshio", "link": "https://stackoverflow.com/users/3301088/jeshio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 55612920, "answer_count": 1, "score": 0, "last_activity_date": 1554900413, "creation_date": 1554898806, "question_id": 55612414, "link": "https://stackoverflow.com/questions/55612414/how-to-use-key-from-the-keyof-as-key-for-another-type", "title": "How to use key from the keyof as key for another type?", "body": "<p>For example there function and its interface:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface A {\n  book: string;\n  math: number;\n}\n\nfunction test(name: keyof A, value: A[typeof name]) {}\n</code></pre>\n\n<p>then</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>test('book', 2); // is valid\ntest('math', 'str'); // is valid\n</code></pre>\n\n<p>How to set the second parameter type to depend from the first parameter value?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>test('book', 2); // is invalid\ntest('math', 'str'); // is invalid\n\ntest('book', 'str'); // is valid\ntest('math', 2); // is valid\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 364, "user_id": 9863715, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bdpej.jpg?s=128&g=1", "display_name": "KR34T1V", "link": "https://stackoverflow.com/users/9863715/kr34t1v"}, "edited": false, "score": 0, "creation_date": 1554907016, "post_id": 55612389, "comment_id": 97924024, "body": "Try not post the entire page instead only post relevant parts to your problem, having such a large code posted for a small problem discourages people from even reading it."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 10921395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08accf1a858dbcbed71f528953da8420?s=128&d=identicon&r=PG&f=1", "display_name": "Arazu Gajera", "link": "https://stackoverflow.com/users/10921395/arazu-gajera"}, "edited": false, "score": 0, "creation_date": 1554957805, "post_id": 55615821, "comment_id": 97941892, "body": "thank you sir, it&#39;s working fine for me. thanks once again"}], "tags": [], "owner": {"reputation": 515, "user_id": 6441434, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205827516001046/picture?type=large", "display_name": "Zach Newburgh", "link": "https://stackoverflow.com/users/6441434/zach-newburgh"}, "is_accepted": true, "score": 0, "last_activity_date": 1554908631, "creation_date": 1554908631, "answer_id": 55615821, "question_id": 55612389, "link": "https://stackoverflow.com/questions/55612389/typescript-onchange-event-calculation/55615821#55615821", "title": "Typescript: onChange Event Calculation", "body": "<p>It sounds like <code>valueChanges</code> could come to the rescue.</p>\n\n<pre><code>this.bookingForm.get('person').valueChanges.subscribe(num =&gt; this.countPrice(num));\n</code></pre>\n\n<p>Then, <code>countPrice()</code> could implement and return the calculation:</p>\n\n<pre><code>countPrice(totalPeople: number): number {\n    return this.price * totalPeople;\n}\n</code></pre>\n\n<p><a href=\"https://angular.io/guide/reactive-forms#managing-control-values\" rel=\"nofollow noreferrer\">https://angular.io/guide/reactive-forms#managing-control-values</a></p>\n"}], "owner": {"reputation": 19, "user_id": 10921395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08accf1a858dbcbed71f528953da8420?s=128&d=identicon&r=PG&f=1", "display_name": "Arazu Gajera", "link": "https://stackoverflow.com/users/10921395/arazu-gajera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 322, "favorite_count": 1, "accepted_answer_id": 55615821, "answer_count": 1, "score": 0, "last_activity_date": 1554913280, "creation_date": 1554898729, "last_edit_date": 1554913280, "question_id": 55612389, "link": "https://stackoverflow.com/questions/55612389/typescript-onchange-event-calculation", "title": "Typescript: onChange Event Calculation", "body": "<p>How can I get the total ticket price, when I changed the number of persons?</p>\n\n<p>html code :</p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n    &lt;div class=\"col-md-6\"&gt;\n        &lt;label for=\"person\"&gt;Person&lt;/label&gt;\n        &lt;div class=\"form-group\"&gt;\n            &lt;input type=\"number\" class=\"form-control\" formControlName=\"person\" id=\"input\" (change)=\"countPrice($event)\"&gt;\n\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n&lt;div class=\"row\"&gt;\n    &lt;div class=\"col-md-6\"&gt;\n        &lt;label for=\"price\"&gt;Price&lt;/label&gt;\n        &lt;div class=\"form-group\"&gt;\n            &lt;input type=\"number\" class=\"form-control\" id=\"output\" formControlName=\"price\" (change)=\"countPrice($event)\"&gt;&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>typescript code:</p>\n\n<pre><code>onDestination(eve) {\n  this.http.post(environment.api_url + `/admin/get_price`, {\n\n    \"from_city\": this.r.from_city.value,\n    \"to_city\": this.r.to_city.value,\n\n  }).subscribe(data =&gt; {\n    console.log(data);\n    this.price = data['data']['price'];\n    console.log(this.price);\n    this.bookingForm.patchValue({\n      'price': this.price\n    });\n  })\n}\ncountPrice(event) {\n\n}\n</code></pre>\n\n<p>I want to display total price. By multiplying it with total amount of people. I don't know how to get the price from upper change event. Please someone help me solve this problem.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "dependency-injection"], "answers": [{"tags": [], "owner": {"reputation": 692, "user_id": 568627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23f59c3ed28f066fe400346371590409?s=128&d=identicon&r=PG", "display_name": "Niraj", "link": "https://stackoverflow.com/users/568627/niraj"}, "is_accepted": false, "score": 0, "last_activity_date": 1554901032, "creation_date": 1554901032, "answer_id": 55613159, "question_id": 55612209, "link": "https://stackoverflow.com/questions/55612209/angular-how-to-override-the-shared-module-service-from-different-module/55613159#55613159", "title": "Angular: How to override the shared module service from different module", "body": "<p>You have to declare your base service class as an abstract class with an abstract method getName()</p>\n\n<pre><code>export abstract class BaseService{\n\n\n    abstract getName(): string { return 'Base Service' }\n\n\n}\n\nexport class SchoolService extends BaseService{\n\n   getName(): string { return 'School Service' }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1167, "user_id": 3681565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c44979667eaeebcd67fee093b041b9?s=128&d=identicon&r=PG&f=1", "display_name": "Gaspar", "link": "https://stackoverflow.com/users/3681565/gaspar"}, "is_accepted": false, "score": 0, "last_activity_date": 1554902323, "creation_date": 1554902323, "answer_id": 55613619, "question_id": 55612209, "link": "https://stackoverflow.com/questions/55612209/angular-how-to-override-the-shared-module-service-from-different-module/55613619#55613619", "title": "Angular: How to override the shared module service from different module", "body": "<p>Unfortunately, Angular2 can not inject a class from another module without get the import between modules, and if you need to lazy load it, things do not work.\nThere is a project that load dynamically a component from another module.\nIt is difficult to import this in to your project, but saves you to not code twice.<br>\nThis project can be found <a href=\"https://github.com/devboosts/dynamic-component-loader\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 99, "user_id": 11190319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38daea5a7169e17e5faa0a3fe4e4cac6?s=128&d=identicon&r=PG&f=1", "display_name": "Merack", "link": "https://stackoverflow.com/users/11190319/merack"}, "is_accepted": false, "score": 0, "last_activity_date": 1554902788, "creation_date": 1554902788, "answer_id": 55613764, "question_id": 55612209, "link": "https://stackoverflow.com/questions/55612209/angular-how-to-override-the-shared-module-service-from-different-module/55613764#55613764", "title": "Angular: How to override the shared module service from different module", "body": "<p>The problem is that SecretService provided is the one build with build in UniversityModule last imported module in App Module so if you want to have SecretService update with correctly BaseService you have to provide both BaseService and SecretService in university and school component something like this in school.component.ts:</p>\n\n<pre><code>import { SchoolService } from './school.service'\nimport { BaseService } from '../shared/base.service'\nimport { SecretService } from '../shared/secret.service'\n\n    @Component({\n      selector: 'app-school',\n      template: `SchoolName :: &lt;app-shared&gt;&lt;/app-shared&gt;`,\n      providers: [\n        { provide: BaseService, useClass: SchoolService },\n        SecretService]\n    })\n    export class SchoolComponent implements OnInit {\n\n      constructor() { }\n\n      ngOnInit() {\n      }\n\n    }\n</code></pre>\n\n<p>and in university.component.ts</p>\n\n<pre><code>import { \u00a0UniversityService } from './university.service'\nimport { BaseService } from '../shared/base.service'\nimport { SecretService } from '../shared/secret.service'\n\n\n@Component({\n  selector: 'app-university',\n  template: `UniversityName :: &lt;app-shared&gt;&lt;/app-shared&gt;`,\n  providers: [{ provide: BaseService, useClass: UniversityService },\n  SecretService]\n})\nexport class UniversityComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n</code></pre>\n\n<p>But why you wanna wrap base service in SecretService instead directly use BaseService in shared component ? </p>\n\n<p>Using BaseService like this in shared.component.ts </p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { BaseService } from './base.service'\n@Component({\n  selector: 'app-shared',\n  template: `{{name}}`\n})\nexport class SharedComponent implements OnInit {\n\n  name: string\n  constructor(private ss: BaseService) {\n    this.name = ss.getName()\n  }\n\n  ngOnInit() {\n  }\n\n}\n</code></pre>\n\n<p>Using BaseService you will solve this injection problem without any workaround on SecretService</p>\n"}], "owner": {"reputation": 1045, "user_id": 3159935, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b8538ec45043cd90b06c9f5b4cd9ec34?s=128&d=identicon&r=PG&f=1", "display_name": "Ricky", "link": "https://stackoverflow.com/users/3159935/ricky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 361, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1554961372, "creation_date": 1554898119, "last_edit_date": 1554961372, "question_id": 55612209, "link": "https://stackoverflow.com/questions/55612209/angular-how-to-override-the-shared-module-service-from-different-module", "title": "Angular: How to override the shared module service from different module", "body": "<p>I have multiple modules say <code>SchoolModule</code>, <code>UniversityModule</code>, <code>SharedModule</code></p>\n\n<p><code>SharedModule</code> has <code>BaseService</code> to which both <code>SchoolModule</code> and <code>UniversityModule</code> providers are extending</p>\n\n<p>Now when I load my <code>SchoolModule</code>, I want <code>BaseService</code> should get the implementation of <code>schoolService</code>, and the same goes for <code>UniversityModule</code></p>\n\n<p><strong>Structure</strong> </p>\n\n<pre><code>app\n  -- SharedModule\n       -- base.service\n       -- secret.service uses base.service\n       -- shared.component uses secret.service\n\n  -- SchoolModule\n       -- school.component uses shared.component\n       -- school.service\n\n -- UniversityModule\n        -- university.component uses shared.component\n        -- university.service\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/injectiontoken-2098?file=src%2Fapp%2Fshared%2Fsecret.service.ts\" rel=\"nofollow noreferrer\">StackBlitz</a></p>\n\n<p>So how I can achieve this with Dependency Injection?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs", "observable"], "comments": [{"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1554897760, "post_id": 55611992, "comment_id": 97918212, "body": "Are you calling <code>toLowerCase</code> in your template? I don&#39;t see it in your code"}], "answers": [{"tags": [], "owner": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "is_accepted": true, "score": 2, "last_activity_date": 1554897878, "creation_date": 1554897878, "answer_id": 55612143, "question_id": 55611992, "link": "https://stackoverflow.com/questions/55611992/facing-error-core-js15723-error-typeerror-cannot-read-property-tolowercase-o/55612143#55612143", "title": "Facing error core.js:15723 ERROR TypeError: Cannot read property &#39;toLowerCase&#39; of undefined In Angular 7", "body": "<p>it should be:</p>\n\n<pre><code>urls='../../shared/services/modeldata.json';\n</code></pre>\n\n<p>not </p>\n\n<pre><code>urls:'../../shared/services/modeldata.json';\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 10215671, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4MdxUntQ6n4/AAAAAAAAAAI/AAAAAAAABB0/QpcGnr6rL2Q/photo.jpg?sz=128", "display_name": "Sakib Mulla", "link": "https://stackoverflow.com/users/10215671/sakib-mulla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 412, "favorite_count": 0, "accepted_answer_id": 55612143, "answer_count": 1, "score": 0, "last_activity_date": 1554897878, "creation_date": 1554897431, "question_id": 55611992, "link": "https://stackoverflow.com/questions/55611992/facing-error-core-js15723-error-typeerror-cannot-read-property-tolowercase-o", "title": "Facing error core.js:15723 ERROR TypeError: Cannot read property &#39;toLowerCase&#39; of undefined In Angular 7", "body": "<p>below I have mentioned my code I am using lazyLoading Module.\n so please check my code and correct me. facing TypeError: Cannot read property 'toLowerCase' of undefined  In Angular 7.\nbelow is add the model class. I want to know what mistake I did in code please correct me.</p>\n\n<p>model class </p>\n\n<pre><code>export class C_data {\nproductId:number;\nproduct:string;\ncode:string;\navailable:string;\nprice:number;\nrating:number;\nproductImage:string;\n}\n</code></pre>\n\n<p>allData-page.component.ts</p>\n\n<pre><code>import {C_data} from '../../shared/model/c_data';\nimport { AllDataService } from './allData.service';\nimport { Observable } from 'rxjs';\n@Component({\nselector: 'all-data',\ntemplateUrl: './alldataPage.component.html'\n})\n\nexport class AlldataPageComponent implements OnInit {\n\n    cdata:Observable&lt;C_data[]&gt;;\n\n    constructor(private _allDataService: AllDataService) { }\n\n    ngOnInit() { \n        this._allDataService.getData().subscribe(data =&gt; this.cdata)\n        console.log(this.cdata);\n    }\n}\n</code></pre>\n\n<p>allData.service.ts</p>\n\n<pre><code>import { HttpClient } from '@angular/common/http';\nimport { C_data } from 'app/shared/model/c_data';\nimport { Observable } from 'rxjs';\n\n@Injectable({providedIn: 'root'})\nexport class AllDataService {\n\n    urls:'../../shared/services/modeldata.json';\n\n    constructor(private _httpClient: HttpClient) { }\n\n    getData():Observable&lt;C_data[]&gt;{\n        return this._httpClient.get&lt;C_data[]&gt;(this.urls);\n    }\n\n}\n</code></pre>\n\n<p>modeldata.json</p>\n\n<pre><code>    \"product\":\"Leaf Rake\",\n    \"code\":\"GDN-0011\",\n    \"available\":\"Mar 19,2016\",\n    \"price\":25,\n    \"rating\":5,\n    \"productImage\":\"http://lorempixel.com/400/200/\"\n},\n{\n      \"productId\":2,\n    \"product\":\"Garden Cart\",\n    \"code\":\"GDN-0021\",\n    \"available\":\"April 19,2016\",\n    \"price\":25,\n    \"rating\":4,\n    \"productImage\":\"http://lorempixel.com/400/200/\"\n},\n{\n  \"productId\":3,\n    \"product\":\"Hammer\",\n    \"code\":\"GDN-0041\",\n    \"available\":\"Mar 19,2016\",\n    \"price\":25,\n    \"rating\":3.5,\n      \"productImage\":\"http://lorempixel.com/400/200/\"\n},\n{\n     \"productId\":4,\n    \"product\":\"Saw\",\n    \"code\":\"GDN-0011\",\n    \"available\":\"Mar 19,2016\",\n     \"price\":25,\n     \"rating\":4.1,\n      \"productImage\":\"http://lorempixel.com/400/200/\"\n},\n{\n     \"productId\":5,\n    \"product\":\"Video Game Controller\",\n    \"code\":\"GDN-0025\",\n    \"available\":\"Mar 19,2016\",\n    \"price\":25,\n    \"rating\":4.2,\n      \"productImage\":\"http://lorempixel.com/400/200/\"\n}\n]\n</code></pre>\n\n<p>alldata.module.ts</p>\n\n<pre><code>import { AlldataPageComponent } from './allData-page.component';\nimport { CommonModule } from '@angular/common';\nimport { AllDataRouterModule } from './allData-routing.module';\nimport {  HttpClientModule } from '@angular/common/http';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        AllDataRouterModule,\n        HttpClientModule\n    ],\n    exports: [],\n    declarations: [AlldataPageComponent]\n})\nexport class AllDataModule { }\n</code></pre>\n\n<p>allData-routing.module.ts</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { AlldataPageComponent } from './allData-page.component';\n\nexport const routes: Routes = [\n    {\n        path:'',\n        component: AlldataPageComponent,\n        data:{\n            title:'data-table'\n        }\n    }\n]\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule],\n    declarations: [],\n})\nexport class AllDataRouterModule { }\n</code></pre>\n"}, {"tags": ["typescript", "protractor", "karma-jasmine"], "answers": [{"tags": [], "owner": {"reputation": 2421, "user_id": 11025582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a45b1fd0442131ea4522f1d291e21a4?s=128&d=identicon&r=PG&f=1", "display_name": "HTN", "link": "https://stackoverflow.com/users/11025582/htn"}, "is_accepted": true, "score": 1, "last_activity_date": 1554896696, "creation_date": 1554896696, "answer_id": 55611754, "question_id": 55611527, "link": "https://stackoverflow.com/questions/55611527/protractor-it-spec-in-loop-using-data-from-array-of-objects/55611754#55611754", "title": "Protractor it() spec in loop using data from array of objects", "body": "<p>I don't know jasmine-data-provider but this block</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>using(fileNames, (data: string) =&gt; {\n    it(\"open file \" + data, () =&gt; {\n      // ...\n      inputElement.sendKeys(filePath + data);\n      // ...\n    });\n  });\n</code></pre>\n\n<p>is evaluated before <code>fileNames = jsonFile[\"files\"];</code>, so <code>fileNames</code> is an empty string.</p>\n"}], "owner": {"reputation": 3, "user_id": 6210438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cff4923ede5779cd02805005204440f7?s=128&d=identicon&r=PG&f=1", "display_name": "Samyth", "link": "https://stackoverflow.com/users/6210438/samyth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 55611754, "answer_count": 1, "score": 0, "last_activity_date": 1554896696, "creation_date": 1554896049, "question_id": 55611527, "link": "https://stackoverflow.com/questions/55611527/protractor-it-spec-in-loop-using-data-from-array-of-objects", "title": "Protractor it() spec in loop using data from array of objects", "body": "<p>I'm trying to set up an e2e test suite with specs (it) to test opening a file in the application. I'd like to gather some performance data later on each test spec (based on file size, time, etc.).</p>\n\n<p>Since the test specs are pretty much the same except for the files and related properties, I used a json object (array of data) to fetch the filenames. I tried to use the solution listed <a href=\"https://stackoverflow.com/questions/21634558/looping-on-a-protractor-test-with-parameters\">here</a>. </p>\n\n<p>I tried to iterate throught the test specs using jasmine-data-provider as mentioned <a href=\"https://stackoverflow.com/questions/34811825/protractor-repeat-specs\">here</a> . But the specs get skipped.</p>\n\n<pre><code>describe(\"App File Open\", () =&gt; {\nlet fileNames: string[] = [];\nconst filePath: string = \"common filepath for files\"\n  beforeAll(() =&gt; {        \n    fileNames = jsonFile[\"files\"];     \n\n    // ...\n  });\n\n  beforeEach(function (): void {        \n    // ...\n  });\n\n  using(fileNames, (data: string) =&gt; {\n    it(\"open file \" + data, () =&gt; {\n      // ...\n      inputElement.sendKeys(filePath + data);\n      // ...\n    });\n  });\n\n  afterEach(function (): void {\n    // ...\n  });\n\n  afterAll(function (): void {\n    // ...\n  });\n});\n</code></pre>\n\n<p>The test skips through the blocks without picking up the test specs (it).</p>\n\n<p>\"Jasmine started</p>\n\n<p>Executed 0 of 0 specs SUCCESS in 0 sec.\"</p>\n\n<p>Is it possible to loop through specs? If so, what am I missing here?\n(Apologies if this is a duplicate)</p>\n"}, {"tags": ["angular", "typescript", "asynchronous", "async-await", "coordinates"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 1, "creation_date": 1554895649, "post_id": 55611381, "comment_id": 97916970, "body": "<a href=\"http://xyproblem.info\" rel=\"nofollow noreferrer\">That&#39;s an XY problem</a> : please post your <b>full</b> code and a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, and we&#39;ll tell you what&#39;s wrong with your code !"}, {"owner": {"reputation": 43, "user_id": 11125375, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SwrDV-2YTe0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfIcVg6Liub_OvXxQ14Q0bUJZNNBA/mo/photo.jpg?sz=128", "display_name": "MBien", "link": "https://stackoverflow.com/users/11125375/mbien"}, "edited": false, "score": 0, "creation_date": 1554896502, "post_id": 55611381, "comment_id": 97917427, "body": "@trichetriche I edited my post. I don&#39;t think it is a problem with svg because this function returns zero values sometimes not always so that&#39;s why I think it might be problem with asynchronous and getBoundingClientRect()."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1554897609, "post_id": 55611381, "comment_id": 97918118, "body": "Well here&#39;s your first problem : you&#39;re manipulating the DOM yourself. <a href=\"https://www.google.com/search?rlz=1C1GCEU_frFR838FR838&amp;ei=j9qtXNjxKa24gweuupzABw&amp;q=Angular+6+dom+manipulation&amp;oq=Angular+6+dom+manipulation&amp;gs_l=psy-ab.3..0i203j0i22i30.3231.5349..5514...0.0..0.108.1490.12j4......0....1..gws-wiz.......0i71j0j0i10i203j0i22i10i30.3YgvNbuIEu0\" rel=\"nofollow noreferrer\">Haven&#39;t you seen that it&#39;s terrible practice ?</a>"}, {"owner": {"reputation": 43, "user_id": 11125375, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SwrDV-2YTe0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfIcVg6Liub_OvXxQ14Q0bUJZNNBA/mo/photo.jpg?sz=128", "display_name": "MBien", "link": "https://stackoverflow.com/users/11125375/mbien"}, "edited": false, "score": 0, "creation_date": 1554898616, "post_id": 55611381, "comment_id": 97918722, "body": "@trichetriche no I haven&#39;t, I&#39;m beginner in Angular, but thanks I will change it and see if it helps."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1554898986, "post_id": 55611381, "comment_id": 97918949, "body": "then I highly suggest you start with <a href=\"https://angular.io/docs\" rel=\"nofollow noreferrer\">the official documentation</a> before starting using Angular !"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1554960204, "post_id": 55611381, "comment_id": 97942610, "body": "<code>problem with asynchronous and getBoundingClientRect()</code> sure, but there is no asynchrony with <code>getBoundingClientRect</code> ... so the issue is with your lack of understanding of the asynchrony in your code, and you&#39;re probably calling <code>getBoundingClientRect</code> <i>too soon</i> or something - since the code you&#39;ve shown <i>never calls</i> <code>connectDivs</code> then the issue is when/how you call that function"}, {"owner": {"reputation": 43, "user_id": 11125375, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SwrDV-2YTe0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfIcVg6Liub_OvXxQ14Q0bUJZNNBA/mo/photo.jpg?sz=128", "display_name": "MBien", "link": "https://stackoverflow.com/users/11125375/mbien"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1554970684, "post_id": 55611381, "comment_id": 97947269, "body": "@JaromandaX I call connectDivs when I drop dragged element from one tree on element from second tree."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1554971394, "post_id": 55611381, "comment_id": 97947683, "body": "there&#39;s a difference between code and a &quot;vague&quot; description of what you are doing"}], "owner": {"reputation": 43, "user_id": 11125375, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SwrDV-2YTe0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfIcVg6Liub_OvXxQ14Q0bUJZNNBA/mo/photo.jpg?sz=128", "display_name": "MBien", "link": "https://stackoverflow.com/users/11125375/mbien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 258, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554896316, "creation_date": 1554895524, "last_edit_date": 1554896316, "question_id": 55611381, "link": "https://stackoverflow.com/questions/55611381/how-to-use-async-await-with-getboundingclientrect-function", "title": "How to use async/await with getBoundingClientRect function", "body": "<p>I'm getting errors in my Angular application because sometimes function getBoundingClientRect() returns zero. I found that it might be an asynchronous operation. So how can I make this part of the code to execute asynchronously. How to use async/await in this case? </p>\n\n<pre><code>let right = document.getElementById(rightId);\nlet rightPosition = right.getBoundingClientRect()\nx_right = mainBox.width;\ny_right = rightPosition.top - mainBox.top + rightPosition.height/2;\n</code></pre>\n\n<p>I'm using SVG path to draw connection lines between two Angular Material tree components.</p>\n\n<p>This is how I create svg:</p>\n\n<pre><code>createSVG() {\n  let svgContainer = document.getElementById('svg-main-container');\n  this.svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");                                                    \n  this.svg.setAttribute('id', 'svg-canvas');\n  this.svg.setAttribute('style', `position:absolute;left:0;top:0;display:inline-block;height:100%;width:100%`);\n  this.svg.setAttribute('viewBox', '0 0 100 100');\n  this.svg.setAttribute(\"preserveAspectRatio\", \"none\");\n  this.svg.setAttributeNS(\"http://www.w3.org/2000/xmlns/\", \"xmlns:xlink\", \"http://www.w3.org/1999/xlink\");\n  svgContainer.appendChild(this.svg);\n  this.svgService.svg = this.svg;\n  return this.svg;\n}\n</code></pre>\n\n<p>How I connect elements:</p>\n\n<pre><code>connectDivs(leftId, rightId) {\n  let svgContainer = document.getElementById('svg-component');\n  let mainBox = svgContainer.getBoundingClientRect();\n  let points = [];\n\n  //left element\n  let left = document.getElementById(leftId);\n  let leftPosition = left.getBoundingClientRect();\n  let x_left = 0;\n  let y_left = leftPosition.top - mainBox.top + leftPosition.height/2;\n\n  points.push({x_left, y_left});\n\n  //right element\n  let right = document.getElementById(rightId);\n  let rightPosition = right.getBoundingClientRect();\n  let x_right = mainBox.width;\n  let y_right = rightPosition.top - mainBox.top + rightPosition.height/2;\n\n  this.drawConnector(points[0], points[1]);\n}\n</code></pre>\n\n<p>This is how I draw connection path:</p>\n\n<pre><code>drawConnector(a,b){\n  let path = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n  let d = `M${a.x_left},${a.y_left} C50,${a.y_left} 50 ${b.y_right} ${b.x_right} ${b.y_right}`;\n  path.setAttributeNS(null, \"d\", d);\n  path.setAttributeNS(null, \"fill\", \"none\");\n  path.setAttributeNS(null, \"stroke\", \"#555\");\n  path.setAttributeNS(null, \"stroke-width\", \"1.5px\");\n  path.setAttributeNS(null, \"vector-effect\", \"non-scaling-stroke\");\n  path.setAttribute(\"id\", this.svgService.draggedElementId);\n  path.setAttribute(\"class\", this.svgService.draggedElementId);\n  this.svgService.svg.appendChild(path);\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Fq9V7.png\" rel=\"nofollow noreferrer\">How my tree connector looks like</a></p>\n"}, {"tags": ["angular", "typescript", "unit-testing", "mocha.js"], "owner": {"reputation": 157, "user_id": 8947616, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hzfi66wO54Y/AAAAAAAAAAI/AAAAAAAAAuE/7CbQqDvq_3Y/photo.jpg?sz=128", "display_name": "Kushan", "link": "https://stackoverflow.com/users/8947616/kushan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 201, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554895162, "creation_date": 1554895162, "question_id": 55611269, "link": "https://stackoverflow.com/questions/55611269/resolving-imports-when-trying-to-test-typescript-in-angular-using-mocha-test-fra", "title": "Resolving imports when trying to test Typescript in angular using mocha test framework", "body": "<p>I'm trying to integrate mocha testing framework to my existing Angular application. I have got the setup working as intended, but as I want to test components, services etc, I'm trying to use the Angular Test Bed configuration, so I wanted to write the test files in <strong><em>typescript</em></strong> and it produces errors for me.</p>\n\n<p>I tried different approaches which gives me different errors. First, I installed <strong>mocha</strong> &amp; <strong>@types/mocha</strong> &amp; then updated the <strong>package.json</strong> also. Then, as I ran the <strong><em>npm test</em></strong>, it produced errors. I tried installing <strong>ts-node</strong> and requiring it in the test configuration and running the test, but it didn't fix this. Then I tried to change the compiler module and then another error produced. I tried searching SO and also many other website, but the solutions did not help me.</p>\n\n<p>This is the first attempt. My <strong>test.ts</strong> file</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { TestBed, ComponentFixture } from \"@angular/core/testing\";\nimport { LoginComponent } from 'src/app/login/login.component';\n\nlet assert = require('assert');\n\ndescribe('LoginComponent', () =&gt; {\n\n    let fixture: ComponentFixture&lt;LoginComponent&gt;;\n    let component: LoginComponent;\n\n    beforeEach(function() {\n        TestBed.configureTestingModule({\n            declarations: [LoginComponent]\n        })\n        fixture = TestBed.createComponent(LoginComponent);\n        component = fixture.componentInstance;\n        fixture.detectChanges();\n    });\n\n    it('create Login component', () =&gt; {\n        assert.notNull(component);\n    });\n});\n</code></pre>\n\n<p>and the following error stacktrace was produced.</p>\n\n<pre><code>D:\\Testing\\cenium-web\\test\\login.component.test.ts:1\n(function (exports, require, module, __filename, __dirname) { import { TestBed } from \"@angular/core/testing\";\nSyntaxError: Unexpected token {\n    at new Script (vm.js:80:7)\n    at createScript (vm.js:274:10)\n    at Object.runInThisContext (vm.js:326:10)\n    at Module._compile (internal/modules/cjs/loader.js:664:28)\n    at Module.m._compile (D:\\Testing\\cenium-web\\node_modules\\ts-node\\src\\index.ts:439:23)\n    at Module._extensions..js (internal/modules/cjs/loader.js:712:10)\n    at Object.require.extensions.(anonymous function) [as .ts] (D:\\Testing\\cenium-web\\node_modules\\ts-node\\src\\index.ts:442:12)\n    at Module.load (internal/modules/cjs/loader.js:600:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:539:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:531:3)\n    at Module.require (internal/modules/cjs/loader.js:637:17)\n    at require (internal/modules/cjs/helpers.js:22:18)\n    at D:\\Testing\\cenium-web\\node_modules\\mocha\\lib\\mocha.js:330:36\n    at Array.forEach (&lt;anonymous&gt;)\n    at Mocha.loadFiles (D:\\Testing\\cenium-web\\node_modules\\mocha\\lib\\mocha.js:327:14)\n    at Mocha.run (D:\\Testing\\cenium-web\\node_modules\\mocha\\lib\\mocha.js:804:10)\n    at Object.exports.singleRun (D:\\Testing\\cenium-web\\node_modules\\mocha\\lib\\cli\\run-helpers.js:207:16)\n    at exports.runMocha (D:\\Testing\\cenium-web\\node_modules\\mocha\\lib\\cli\\run-helpers.js:300:13)\n    at Object.exports.handler.argv [as handler] (D:\\Testing\\cenium-web\\node_modules\\mocha\\lib\\cli\\run.js:296:3)\n    at Object.runCommand (D:\\Testing\\cenium-web\\node_modules\\mocha\\node_modules\\yargs\\lib\\command.js:242:26)\n    at Object.parseArgs [as _parseArgs] (D:\\Testing\\cenium-web\\node_modules\\mocha\\node_modules\\yargs\\yargs.js:1087:28)\n    at Object.parse (D:\\Testing\\cenium-web\\node_modules\\mocha\\node_modules\\yargs\\yargs.js:566:25)\n    at Object.exports.main (D:\\Testing\\cenium-web\\node_modules\\mocha\\lib\\cli\\cli.js:63:6)\n    at Object.&lt;anonymous&gt; (D:\\Testing\\cenium-web\\node_modules\\mocha\\bin\\_mocha:10:23)\n    at Module._compile (internal/modules/cjs/loader.js:701:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:712:10)\n    at Module.load (internal/modules/cjs/loader.js:600:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:539:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:531:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:754:12)\n    at startup (internal/bootstrap/node.js:283:19)\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:622:3)\nnpm ERR! Test failed.  See above for more details.\n</code></pre>\n\n<p>This is my <strong>tsconfig.json</strong> file.</p>\n\n<pre><code>{\n    \"compileOnSave\": false,\n    \"compilerOptions\": {\n        \"baseUrl\": \"./\",\n        \"outDir\": \"./dist/out-tsc\",\n        \"sourceMap\": true,\n        \"declaration\": false,\n        \"module\": \"es2015\",\n        \"moduleResolution\": \"node\",\n        \"emitDecoratorMetadata\": true,\n        \"experimentalDecorators\": true,\n        \"importHelpers\": true,\n        \"target\": \"es5\",\n        \"types\": [\"node\", \"mocha\"],\n        \"typeRoots\": [\"node_modules/@types\"],\n        \"lib\": [\"es2018\", \"dom\"],\n        \"paths\": {\n            \"cComponents\": [\"dist/cComponents\"],\n            \"cComponents/*\": [\"dist/cComponents/*\"]\n        }\n    }\n}\n</code></pre>\n\n<h3>Then I tried to change the compiler module from <strong><em>es2015</em></strong> to <strong><em>commonjs</em></strong>.</h3>\n\n<p>This caused a different error in paths I think</p>\n\n<pre><code>Error: Cannot find module 'src/app/login/login.component'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:582:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:508:25)\n    at Module.require (internal/modules/cjs/loader.js:637:17)\n    at require (internal/modules/cjs/helpers.js:22:18)\n    at Object.&lt;anonymous&gt; (D:\\Testing\\cenium-web\\test\\login.component.test.ts:2:1)\n    at Module._compile (internal/modules/cjs/loader.js:701:30)\n    at Module.m._compile (D:\\Testing\\cenium-web\\node_modules\\ts-node\\src\\index.ts:439:23)\n    at Module._extensions..js (internal/modules/cjs/loader.js:712:10)\n    at Object.require.extensions.(anonymous function) [as .ts] (D:\\Testing\\cenium-web\\node_modules\\ts-node\\src\\index.ts:442:12)\n    at Module.load (internal/modules/cjs/loader.js:600:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:539:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:531:3)\n    at Module.require (internal/modules/cjs/loader.js:637:17)\n    at require (internal/modules/cjs/helpers.js:22:18)\n    at D:\\Testing\\cenium-web\\node_modules\\mocha\\lib\\mocha.js:330:36\n    at Array.forEach (&lt;anonymous&gt;)\n    at Mocha.loadFiles (D:\\Testing\\cenium-web\\node_modules\\mocha\\lib\\mocha.js:327:14)\n    at Mocha.run (D:\\Testing\\cenium-web\\node_modules\\mocha\\lib\\mocha.js:804:10)\n    at Object.exports.singleRun (D:\\Testing\\cenium-web\\node_modules\\mocha\\lib\\cli\\run-helpers.js:207:16)\n    at exports.runMocha (D:\\Testing\\cenium-web\\node_modules\\mocha\\lib\\cli\\run-helpers.js:300:13)\n    at Object.exports.handler.argv [as handler] (D:\\Testing\\cenium-web\\node_modules\\mocha\\lib\\cli\\run.js:296:3)\n    at Object.runCommand (D:\\Testing\\cenium-web\\node_modules\\mocha\\node_modules\\yargs\\lib\\command.js:242:26)\n    at Object.parseArgs [as _parseArgs] (D:\\Testing\\cenium-web\\node_modules\\mocha\\node_modules\\yargs\\yargs.js:1087:28)\n    at Object.parse (D:\\Testing\\cenium-web\\node_modules\\mocha\\node_modules\\yargs\\yargs.js:566:25)\n    at Object.exports.main (D:\\Testing\\cenium-web\\node_modules\\mocha\\lib\\cli\\cli.js:63:6)\n    at Object.&lt;anonymous&gt; (D:\\Testing\\cenium-web\\node_modules\\mocha\\bin\\_mocha:10:23)\n    at Module._compile (internal/modules/cjs/loader.js:701:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:712:10)\n    at Module.load (internal/modules/cjs/loader.js:600:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:539:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:531:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:754:12)\n    at startup (internal/bootstrap/node.js:283:19)\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:622:3)\nnpm ERR! Test failed.  See above for more details.\n</code></pre>\n\n<p>I got a point stating I have to use something like <strong>webpack</strong> to resolve these modules. Is this correct? If possible can someone direct me to a solution?</p>\n\n<p>I want to use the <strong>TestBed</strong> configuration in my existing test files in order to test my components. It is much appreciated if anyone can help me as I am new to testing. Thanks in advance. Hope the info is enough.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 547, "user_id": 8626117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d4742548fdc8177a20c1f24d576e591?s=128&d=identicon&r=PG&f=1", "display_name": "Prolativ", "link": "https://stackoverflow.com/users/8626117/prolativ"}, "edited": false, "score": 0, "creation_date": 1576058842, "post_id": 55610938, "comment_id": 104772442, "body": "did you solve the problem? i am currently trying to add the ebapi-modules.js but cannot find them.."}], "owner": {"reputation": 1612, "user_id": 1367915, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/3rLB0.jpg?s=128&g=1", "display_name": "Whistler", "link": "https://stackoverflow.com/users/1367915/whistler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 180, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1554894429, "creation_date": 1554894038, "last_edit_date": 1554894429, "question_id": 55610938, "link": "https://stackoverflow.com/questions/55610938/how-to-correctly-load-js-file-into-angular-app", "title": "How to correctly load js file into angular app?", "body": "<p>I'm trying to add external js file to angular project.</p>\n\n<p>angular.json:</p>\n\n<pre><code>\"scripts\": [\n          \"src/ebapi-modules.js\"\n        ]\n</code></pre>\n\n<p>After that I'm able to use functions from this module in html, but I want also to use it in my components and services.</p>\n\n<p>So reading lots of answers I created typings.d.ts in src.\nand declare variable:</p>\n\n<pre><code>declare var EB: any;  \n</code></pre>\n\n<p>I'm not sure what name of variable I should use here? The EB is a name of a function, but not sure if this is correct.</p>\n\n<p>I also tried to import it like that in my component:</p>\n\n<pre><code>import * as EB from '../../ebapi-modules';\n</code></pre>\n\n<p>Then I tried to use it like that:</p>\n\n<pre><code>fnScanEnable() {\n   EB.Barcode.enable({ allDecoders: true }, this.fnBarcodeScanned);\n   this.scanData = \"Scanner enabled\";\n}\n</code></pre>\n\n<p>The module ebapi-modules.js is not in npm.</p>\n\n<p>How do I correctly load js file to an Angular 7 app?</p>\n"}, {"tags": ["typescript", "ecmascript-6"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11339816, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-U1RcdB6wutI/AAAAAAAAAAI/AAAAAAAAAGA/uewQ4-_Xrsk/photo.jpg?sz=128", "display_name": "Kenny Cheung", "link": "https://stackoverflow.com/users/11339816/kenny-cheung"}, "edited": false, "score": 0, "creation_date": 1554909124, "post_id": 55610969, "comment_id": 97925341, "body": "thanks, I still have 2 problems :   1: I don&#39;t know what is another property in the argument, except &quot;a&quot;;  2: I need the argument property &quot;a&quot; rename as &quot;A&quot;;"}, {"owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "reply_to_user": {"reputation": 13, "user_id": 11339816, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-U1RcdB6wutI/AAAAAAAAAAI/AAAAAAAAAGA/uewQ4-_Xrsk/photo.jpg?sz=128", "display_name": "Kenny Cheung", "link": "https://stackoverflow.com/users/11339816/kenny-cheung"}, "edited": false, "score": 0, "creation_date": 1554912364, "post_id": 55610969, "comment_id": 97927193, "body": "@Kenny Cheung, I udpated my answer"}], "tags": [], "owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "is_accepted": true, "score": 1, "last_activity_date": 1554912438, "last_edit_date": 1554912438, "creation_date": 1554894144, "answer_id": 55610969, "question_id": 55610904, "link": "https://stackoverflow.com/questions/55610904/how-to-convert-es6-destructuring-and-rename-argument-to-typescript/55610969#55610969", "title": "How to convert es6 destructuring and rename argument to typescript?", "body": "<p>Your code is already valid Typescript.</p>\n\n<p>However, if you want to add types, just place them to the right.</p>\n\n<p>For example:</p>\n\n<pre><code>interface MyType {\n    a: number;\n    [key: string]: any;\n}\n\nconst es6 = ({ a: A, ...B }: MyType) =&gt; {\n    console.log(A, B);\n}\n</code></pre>\n\n<p>Here <code>B</code>'s type will be inferred to <code>{ [key: string]: any }</code>.</p>\n"}], "owner": {"reputation": 13, "user_id": 11339816, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-U1RcdB6wutI/AAAAAAAAAAI/AAAAAAAAAGA/uewQ4-_Xrsk/photo.jpg?sz=128", "display_name": "Kenny Cheung", "link": "https://stackoverflow.com/users/11339816/kenny-cheung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 0, "accepted_answer_id": 55610969, "answer_count": 1, "score": 1, "last_activity_date": 1554912438, "creation_date": 1554893920, "last_edit_date": 1554908505, "question_id": 55610904, "link": "https://stackoverflow.com/questions/55610904/how-to-convert-es6-destructuring-and-rename-argument-to-typescript", "title": "How to convert es6 destructuring and rename argument to typescript?", "body": "<p>I am trying to convert my es6 code to typescript. In this case, I need to split the argument into 2 parts. Could anyone provide the typescript version, please? </p>\n\n<pre><code>const es6 = ({a:A, ...B}) =&gt; {\n    console.log(A, B);\n}\n\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular6", "angular7", "angular-library"], "comments": [{"owner": {"reputation": 5261, "user_id": 858757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMQgQ.png?s=128&g=1", "display_name": "Silvermind", "link": "https://stackoverflow.com/users/858757/silvermind"}, "edited": false, "score": 0, "creation_date": 1554894004, "post_id": 55610751, "comment_id": 97916057, "body": "So for your own library? There is some mechanism for that, which is interpreted by the <a href=\"https://angular.io/cli/add\" rel=\"nofollow noreferrer\">ng add</a> command."}, {"owner": {"reputation": 489, "user_id": 11220385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3391f6f2c7210add4af071b01669df48?s=128&d=identicon&r=PG&f=1", "display_name": "Sathya Narayanan GVK", "link": "https://stackoverflow.com/users/11220385/sathya-narayanan-gvk"}, "reply_to_user": {"reputation": 5261, "user_id": 858757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMQgQ.png?s=128&g=1", "display_name": "Silvermind", "link": "https://stackoverflow.com/users/858757/silvermind"}, "edited": false, "score": 0, "creation_date": 1554894283, "post_id": 55610751, "comment_id": 97916204, "body": "yes i need this for my own library..that library has dependencies such as bootstrap,jquery which i have mentioned in the librarie&#39;s package.json..Dependencies successfully gets installed when i am adding in the main project..but the scripts and styles could not be added dynamically to the main project..so I am looking for any command that could help me"}, {"owner": {"reputation": 5261, "user_id": 858757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMQgQ.png?s=128&g=1", "display_name": "Silvermind", "link": "https://stackoverflow.com/users/858757/silvermind"}, "edited": false, "score": 1, "creation_date": 1554894942, "post_id": 55610751, "comment_id": 97916551, "body": "TLDR; Perhaps this is what you&#39;re looking for: <a href=\"https://nitayneeman.com/posts/making-an-addable-angular-package-using-schematics/\" rel=\"nofollow noreferrer\">Making an Addable Angular Package</a>"}], "answers": [{"tags": [], "owner": {"reputation": 20, "user_id": 11252538, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-39zSW557nos/AAAAAAAAAAI/AAAAAAAAsR8/EhqFQiyVdp8/photo.jpg?sz=128", "display_name": "ferluis", "link": "https://stackoverflow.com/users/11252538/ferluis"}, "is_accepted": false, "score": 0, "last_activity_date": 1617210561, "creation_date": 1617210561, "answer_id": 66892261, "question_id": 55610751, "link": "https://stackoverflow.com/questions/55610751/automatically-add-scripts-and-styles-in-angular-json/66892261#66892261", "title": "Automatically add scripts and styles in angular.json", "body": "<p>What I did was to add the script on the src/index.html file for it to be always bundled.</p>\n"}], "owner": {"reputation": 489, "user_id": 11220385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3391f6f2c7210add4af071b01669df48?s=128&d=identicon&r=PG&f=1", "display_name": "Sathya Narayanan GVK", "link": "https://stackoverflow.com/users/11220385/sathya-narayanan-gvk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 684, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1617210561, "creation_date": 1554893473, "question_id": 55610751, "link": "https://stackoverflow.com/questions/55610751/automatically-add-scripts-and-styles-in-angular-json", "title": "Automatically add scripts and styles in angular.json", "body": "<p>My goal is simply to add the scripts and styles automatically in angular.json using the command line.For example if I am installing bootstrap in my angular project using the following the command.</p>\n\n<pre><code>npm install bootstrap\n</code></pre>\n\n<p>I have to manually goto angular.json and add the bootstrap.min.css and bootstrap.min.js .</p>\n\n<pre><code>        \"styles\": [\n          \"src/styles.css\",\n          \"node_modules/bootstrap/dist/css/bootstrap.min.css\",\n\n        ],\n        \"scripts\": [\n          \"node_modules/jquery/dist/jquery.min.js\",\n          \"node_modules/popper.js/dist/umd/popper.min.js\",\n          \"node_modules/bootstrap/dist/js/bootstrap.min.js\",\n\n        ]\n</code></pre>\n\n<p>Is there a way to do this with a command ? The reason why I need this because i am using my custom library and have its dependencies installed.Since custom libraries dont have any angular.json , the custom library gets installed but could not figure out a way to add the scripts and styles.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1554893765, "post_id": 55610671, "comment_id": 97915937, "body": "the acheive to mark as readonly it&#39;s that you can not do this.http=&quot;what-ever&quot;. Really I don&#39;t imagine me writing this instruction, so I never put &quot;readonly&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 4268, "user_id": 8057071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd83e2355a947ce3a6d3969fc21594?s=128&d=identicon&r=PG", "display_name": "Sathiraumesh", "link": "https://stackoverflow.com/users/8057071/sathiraumesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1554893757, "creation_date": 1554893757, "answer_id": 55610842, "question_id": 55610671, "link": "https://stackoverflow.com/questions/55610671/is-it-necessary-to-use-readonly-keyword-during-service-initialization-in-const/55610842#55610842", "title": "Is it necessary to use &#39;readonly&#39; keyword during service initialization in constructor?", "body": "<p>No, it's not necessary to use the <strong>readonly</strong> keyword such usage is not mentioned  in angular docs and not used in practice</p>\n"}, {"tags": [], "owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "is_accepted": true, "score": 2, "last_activity_date": 1554893817, "creation_date": 1554893817, "answer_id": 55610870, "question_id": 55610671, "link": "https://stackoverflow.com/questions/55610671/is-it-necessary-to-use-readonly-keyword-during-service-initialization-in-const/55610870#55610870", "title": "Is it necessary to use &#39;readonly&#39; keyword during service initialization in constructor?", "body": "<p>It is not required, however it is good practice since you probably don't want to reassign to the <code>http</code> property later on.</p>\n\n<p>See the <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-0.html#read-only-properties-and-index-signatures\" rel=\"nofollow noreferrer\">Typescript doc</a> for more details:</p>\n\n<blockquote>\n  <p>Read-only properties may have initializers and may be assigned to in constructors within the same class declaration, but otherwise assignments to read-only properties are disallowed.</p>\n</blockquote>\n"}], "owner": {"reputation": 990, "user_id": 7131648, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ume2O0mdfno/AAAAAAAAAAI/AAAAAAAAAF8/2k3lzM2RWWY/photo.jpg?sz=128", "display_name": "Alex Link", "link": "https://stackoverflow.com/users/7131648/alex-link"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 1, "accepted_answer_id": 55610870, "answer_count": 2, "score": 1, "last_activity_date": 1554893817, "creation_date": 1554893294, "question_id": 55610671, "link": "https://stackoverflow.com/questions/55610671/is-it-necessary-to-use-readonly-keyword-during-service-initialization-in-const", "title": "Is it necessary to use &#39;readonly&#39; keyword during service initialization in constructor?", "body": "<p>In Angular 2+ combined with Type Script is it necessary to use <strong>readonly</strong> keyword when we initialize services in the component constructor?</p>\n\n<p>What is the purpose to do so?</p>\n\n<pre><code>export class MyComponent {\n\n    constructor(private readonly http: HttpClient) {}\n\n}\n</code></pre>\n"}, {"tags": ["typescript", "rxjs", "observable"], "comments": [{"owner": {"reputation": 3821, "user_id": 6921829, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TjT5QWqGMDU/AAAAAAAAAAI/AAAAAAAAA9Q/DNCpJksOM88/photo.jpg?sz=128", "display_name": "kos", "link": "https://stackoverflow.com/users/6921829/kos"}, "edited": false, "score": 0, "creation_date": 1554894907, "post_id": 55610455, "comment_id": 97916531, "body": "There are ways, but they are a bit more sophisticated. What is your particular use case here? Are you sure it wont be enough to just <code>merge(a$, b$).subscribe(...)</code>?"}, {"owner": {"reputation": 21, "user_id": 8006084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5f9465ed5dc80a2b3f3472c38a78eab?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/8006084/ilya"}, "reply_to_user": {"reputation": 3821, "user_id": 6921829, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TjT5QWqGMDU/AAAAAAAAAAI/AAAAAAAAA9Q/DNCpJksOM88/photo.jpg?sz=128", "display_name": "kos", "link": "https://stackoverflow.com/users/6921829/kos"}, "edited": false, "score": 0, "creation_date": 1554896272, "post_id": 55610455, "comment_id": 97917310, "body": "I just want to override base class property by merging with new observable, so unfortunately rxjs <code>merge</code> is not right for this."}, {"owner": {"reputation": 3821, "user_id": 6921829, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TjT5QWqGMDU/AAAAAAAAAAI/AAAAAAAAA9Q/DNCpJksOM88/photo.jpg?sz=128", "display_name": "kos", "link": "https://stackoverflow.com/users/6921829/kos"}, "edited": false, "score": 0, "creation_date": 1554896831, "post_id": 55610455, "comment_id": 97917634, "body": "Unless you can modify the base class \u2014 you can&#39;t interfere with that subscription chain in RxJS. If you can modify it \u2014 then something like <code>bzMakerSubj$ = new Subject(); bzMakerSubj$.mergeMap(o$ =&gt; o$).subscribe(); bzMakerSubj$.next(Observable.fromEvent(...))</code> would work. I think if we could understand your use case better \u2014 we could suggest a cleaner solution."}], "owner": {"reputation": 21, "user_id": 8006084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5f9465ed5dc80a2b3f3472c38a78eab?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/8006084/ilya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554896665, "creation_date": 1554892682, "last_edit_date": 1554896665, "question_id": 55610455, "link": "https://stackoverflow.com/questions/55610455/is-it-possible-to-merge-to-existing-observable-without-creating-a-new-observable", "title": "Is it possible to merge to existing observable without creating a new observable?", "body": "<p>For example I have an Observable property in the base class</p>\n\n<pre><code>protected bzMaker: Observable&lt;string&gt;;\n\nthis.bzMaker = Observable.fromEvent(input, 'click').map(() =&gt; 'click');\nthis.bzMaker.subscribe(value =&gt; console.log(value);\n</code></pre>\n\n<p>Is it possible to merge another observable after <code>subscribe</code> without creation a new obsrevable?\nlike:</p>\n\n<pre><code>this.bzMaker.mergeOperation(Observable.fromEvent(input, 'keydown').map(() =&gt; 'keydown')\n</code></pre>\n\n<p>I want to keep all the subscription and see 'keydown' string in console on each keydow and 'click' string on each click.</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 11, "user_id": 6781402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f387b5958cb966b45e56eaea59c0ecf7?s=128&d=identicon&r=PG&f=1", "display_name": "wenisy", "link": "https://stackoverflow.com/users/6781402/wenisy"}, "edited": false, "score": 0, "creation_date": 1554903316, "post_id": 55610288, "comment_id": 97921752, "body": "I switch my Typescript to 2.9.X version. It works... Does someone know the reason?"}], "owner": {"reputation": 11, "user_id": 6781402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f387b5958cb966b45e56eaea59c0ecf7?s=128&d=identicon&r=PG&f=1", "display_name": "wenisy", "link": "https://stackoverflow.com/users/6781402/wenisy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554892200, "creation_date": 1554892200, "question_id": 55610288, "link": "https://stackoverflow.com/questions/55610288/should-the-generic-be-baseinputprops", "title": "Should the Generic be BaseInputProps?", "body": "<pre><code>interface Params&lt;P = BaseInputProps&gt; {\n  renderer: React.ComponentType&lt;P&gt;\n}\n\n\n&lt;FieldComponent {...mergedProps} /&gt;\n\n</code></pre>\n\n<p>mergedProps is a BaseInputProps Type</p>\n\n<p>I expected  should be React.ComponentType If I didn't pass any generic to current Class.</p>\n\n<p>But TypeScript inferred  is React.ComponentType<P></p>\n\n<p>I don't know why, could someone help?</p>\n\n<p>My TypeScript version is 3.2.4</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 3, "creation_date": 1554892170, "post_id": 55610260, "comment_id": 97915040, "body": "This is basically asking to turn off type inference. Out of curiousity, why?"}, {"owner": {"reputation": 3798, "user_id": 1184904, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/fd5a5d66b67e0c59889c99d3104ee16b?s=128&d=identicon&r=PG", "display_name": "Slevin", "link": "https://stackoverflow.com/users/1184904/slevin"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1554894003, "post_id": 55610260, "comment_id": 97916056, "body": "Oh, thats right. Hmmm ... I would like to disable type inference for this particular function, because there are a few more callback functions passed as arguments which should not have further <code>any</code>-typed arguments. Hard to explain, but I don&#39;t think more than turning off the type inference is possible anyway."}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1554895078, "post_id": 55610260, "comment_id": 97916622, "body": "I&#39;m afraid I didn&#39;t understand that. :-) Maybe with a more complete example, we&#39;d be able to suggest some other solution. But the current question is interesting anyway."}, {"owner": {"reputation": 3798, "user_id": 1184904, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/fd5a5d66b67e0c59889c99d3104ee16b?s=128&d=identicon&r=PG", "display_name": "Slevin", "link": "https://stackoverflow.com/users/1184904/slevin"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1554927590, "post_id": 55610260, "comment_id": 97934405, "body": "I&#39;ve added an example :-)"}], "answers": [{"comments": [{"owner": {"reputation": 3798, "user_id": 1184904, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/fd5a5d66b67e0c59889c99d3104ee16b?s=128&d=identicon&r=PG", "display_name": "Slevin", "link": "https://stackoverflow.com/users/1184904/slevin"}, "edited": false, "score": 1, "creation_date": 1554926916, "post_id": 55615524, "comment_id": 97934096, "body": "Wow! This is awesome, exactly what I was looking for! Thank you very much :) I&#39;ll add my case in the initial question."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 5, "last_activity_date": 1554907737, "creation_date": 1554907737, "answer_id": 55615524, "question_id": 55610260, "link": "https://stackoverflow.com/questions/55610260/how-to-make-generics-mandatory/55615524#55615524", "title": "How to make Generics mandatory", "body": "<p>Intentionally hobbling type inference seems unfortunate, but if I wanted to, here's how I might go about doing it:</p>\n\n<pre><code>function onSubmit&lt;\n  Result = [Error, \"Please specify the Result type parameter\"],\n  Variables = [Error, \"Please specify the Variables type parameter\"],\n  R extends Result = Result,\n  V extends Variables = Variables\n&gt;({\n  foo,\n  bar\n}: {\n  foo: R\n  bar: V\n}) {\n  console.log(foo, bar)\n}\n</code></pre>\n\n<p>The idea is to use <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-3.html#generic-parameter-defaults\" rel=\"noreferrer\">generic type parameter defaults</a> to give us more control over what happens to non-inferred type parameters, and to add some extra type parameters to take away type inference sites from the compiler.  The types <code>Result</code> and <code>Variables</code> cannot be inferred from the passed in values of the <code>foo</code> and <code>bar</code> properties; they are not even mentioned anywhere in the type signature.  That means if <code>Result</code> and <code>Variables</code> are not manually specified, they will default to that weird tuple type of the form <code>[Error, \"error message\"]</code>.  That weird tuple type is a workaround for the lack of an <a href=\"https://github.com/Microsoft/TypeScript/issues/23689\" rel=\"noreferrer\">\"invalid\" type</a>  in TypeScript.  I could have chosen <code>never</code> instead, but then the error message might be more cryptic.</p>\n\n<p>Anyway <code>foo</code> will infer <code>R</code>, and <code>bar</code> will infer <code>V</code>, which must be assignable to <code>Result</code> and <code>Variables</code> respectively.  What this means is that if you don't specify <code>Result</code> and <code>Variables</code>, they will default to some error type, and then <code>foo</code> and <code>bar</code> will be constrained to that error type, and you will get an error:</p>\n\n<pre><code>onSubmit({ foo: 'foo', bar: 'bar' }) // error\n//         ~~~         ~~~        \n// 'string' not assignable to 'Error, \"Please specify the Result type parameter\"'\n// 'string' not assignable to 'Error, \"Please specify the Variables type parameter\"'\n</code></pre>\n\n<p>If you <em>do</em> specify <code>Result</code> and <code>Variables</code> manually, then <code>R</code> and <code>V</code> will be constrained to them (and will default to them), so should work the same as your previous version:</p>\n\n<pre><code>onSubmit&lt;string&gt;({ foo: 'foo', bar: 'bar' }) // error\n//                             ~~~\n// 'string' not assignable to 'Error, \"Please specify the Variables type parameter\"'\n\nonSubmit&lt;number, number&gt;({ foo: 3, bar: 4 }) // okay\n\nonSubmit&lt;number, number&gt;({ foo: 'foo', bar: 'bar' })  // error\n//                         ~~~         ~~~\n// 'string' not assignable to 'number' x2\n</code></pre>\n\n<p>It's ugly, because the language doesn't want you to do this... type inference is usually a good thing.  But this is what you asked for, so... yay?  Hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 3798, "user_id": 1184904, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/fd5a5d66b67e0c59889c99d3104ee16b?s=128&d=identicon&r=PG", "display_name": "Slevin", "link": "https://stackoverflow.com/users/1184904/slevin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 55615524, "answer_count": 1, "score": 3, "last_activity_date": 1554927555, "creation_date": 1554892097, "last_edit_date": 1554927555, "question_id": 55610260, "link": "https://stackoverflow.com/questions/55610260/how-to-make-generics-mandatory", "title": "How to make Generics mandatory", "body": "<p>Is there any way to mark Generics as mandatory in typescript?</p>\n\n<pre><code>function onSubmit&lt;Result, Variables&gt;({\n    foo,\n    bar\n  }: {\n    foo: Result\n    bar: Variables\n  }) {\n    console.log(foo, bar)\n}\n\n// this should not be possible without passing the Generics\nonSubmit({ foo: 'foo', bar: 'bar' })\n\n// this works as expected \nonSubmit&lt;number, number&gt;({ foo: 'foo', bar: 'bar' })\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#src=%20%20function%20onSubmit%3CResult%2C%20Variables%3E(%7B%0D%0A%20%20%20%20foo%2C%0D%0A%20%20%20%20bar%0D%0A%20%20%7D%3A%20%7B%0D%0A%20%20%20%20foo%3A%20Result%0D%0A%20%20%20%20bar%3A%20Variables%0D%0A%20%20%7D)%20%7B%0D%0A%20%20%20%20console.log(foo%2C%20bar)%0D%0A%7D%0D%0A%0D%0AonSubmit(%7B%20foo%3A%20&#39;foo&#39;%2C%20bar%3A%20&#39;bar&#39;%20%7D)%0D%0AonSubmit%3Cnumber%2C%20number%3E(%7B%20foo%3A%20&#39;foo&#39;%2C%20bar%3A%20&#39;bar&#39;%20%7D)%0D%0A%20%20\" rel=\"nofollow noreferrer\">Playground</a></p>\n\n<h1>Edit</h1>\n\n<p>The question was answered and it works like a charm. To better understand why I want to use this, here's an example.</p>\n\n<pre><code>onSubmit&lt;UpdateUserMutation, UpdateUserMutationVariables&gt;({\n  mutation: UpdateUserDocument,\n  variables: { id: user.id, user: formData },\n  refetchQueries: ['GetUserList'],\n  onSuccess: ({ data }) =&gt; history.push(`/users/${data.updateUser.id}`),\n})\n</code></pre>\n\n<p>When I omit <code>&lt;UpdateUserMutation, UpdateUserMutationVariables&gt;</code>, I don't know what <code>data</code> will be in my <code>onSuccess</code> function. Additionally, I don't know which variables I have to pass to the <code>variables</code>key. Not to mention the IDE integration :-)</p>\n\n<p>For sure I could type <code>{ data }</code> directly, but I think now it's way more comfortable, because I can't \"forget\" to type and so I will never use wrong/forget to use variables in the <code>variables</code> object and the <code>onSuccess</code> function.</p>\n\n<p>For the curious one's, this is how my <code>onSubmit</code> function looks now:</p>\n\n<pre><code>function onSubmit&lt;\n  Result = [Error, 'Please specify the Result type parameter'],\n  Variables = [Error, 'Please specify the Variables type parameter'],\n  R extends Result = Result,\n  V extends Variables = Variables\n&gt;({\n  mutation,\n  variables,\n  refetchQueries,\n  onSuccess,\n}: {\n  mutation: DocumentNode\n  variables: V\n  refetchQueries: ((string | PureQueryOptions)[]) | (string | PureQueryOptions)[]\n  onSuccess: (response: FetchResult&lt;R, Record&lt;string, any&gt;, Record&lt;string, any&gt;&gt;) =&gt; void\n}) {\n  client\n    .mutate&lt;R&gt;({\n      mutation,\n      variables,\n      refetchQueries,\n    })\n    .then(response =&gt; {\n      setErrors({})\n      onSuccess(response)\n    })\n    .catch(handleErrors)\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "edited": false, "score": 0, "creation_date": 1554893135, "post_id": 55610172, "comment_id": 97915584, "body": "can you check <code>isErrorState</code> method return value ?  , i guess it will be not a boolean , check it please by logging it is return value"}, {"owner": {"reputation": 3220, "user_id": 8175467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-B1AqBPPOFvg/AAAAAAAAAAI/AAAAAAAAAwE/nND5ZayO9ME/photo.jpg?sz=128", "display_name": "programoholic", "link": "https://stackoverflow.com/users/8175467/programoholic"}, "edited": false, "score": 0, "creation_date": 1554893707, "post_id": 55610172, "comment_id": 97915907, "body": "possible duplicate of <a href=\"https://stackoverflow.com/questions/44449673/custom-validator-on-reactive-form-for-password-and-confirm-password-matching-get\" title=\"custom validator on reactive form for password and confirm password matching get\">stackoverflow.com/questions/44449673/&hellip;</a>"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1554893876, "post_id": 55610172, "comment_id": 97915993, "body": "@rock11, you must return <b>null</b> not false, if a validator is OK"}, {"owner": {"reputation": 438, "user_id": 11339716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78179a4724e629a2b630795d5c6498ea?s=128&d=identicon&r=PG&f=1", "display_name": "rock11", "link": "https://stackoverflow.com/users/11339716/rock11"}, "reply_to_user": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1554900314, "post_id": 55610172, "comment_id": 97919729, "body": "@Eliseo made it null, still no change."}, {"owner": {"reputation": 438, "user_id": 11339716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78179a4724e629a2b630795d5c6498ea?s=128&d=identicon&r=PG&f=1", "display_name": "rock11", "link": "https://stackoverflow.com/users/11339716/rock11"}, "reply_to_user": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "edited": false, "score": 0, "creation_date": 1554900573, "post_id": 55610172, "comment_id": 97919907, "body": "@MohamedAliRACHID I logged the value,I&#39;m getting bollean return"}], "answers": [{"tags": [], "owner": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "is_accepted": false, "score": 0, "last_activity_date": 1554905705, "last_edit_date": 1554905705, "creation_date": 1554893504, "answer_id": 55610755, "question_id": 55610172, "link": "https://stackoverflow.com/questions/55610172/password-and-confirm-password-validation-in-angular/55610755#55610755", "title": "Password and confirm password validation in angular", "body": "<p>You are checking the equality of the two fields <code>password</code> and <code>passwordAgain</code>in the <code>matcher</code> which is already done in <code>validator</code>,</p>\n\n<p>The work of the <code>matcher</code> is to check if the error Message should be shown or not, in your case the error message should appear when <code>addForm</code> has an <code>passwordsNotEqual</code>.</p>\n\n<p>Since the validator is applied on the <code>FormGroup</code> not on the <code>FormControl</code> so in the matcher you have to check the validity of the <code>FormGroup</code>.</p>\n\n<p>So what i suggest is to modify <code>isErrorState</code> method like this : </p>\n\n<pre><code>isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n    return !!(control &amp;&amp; control.parent &amp;&amp; control.parent.invalid &amp;&amp; control.parent.dirty);\n}\n</code></pre>\n\n<p>And In HTML you should check the <code>formGroup</code> errors not <code>formControl</code>.( because again the validator is applied on <code>addForm</code> not on <code>passwordAgain</code>)</p>\n\n<pre><code>    &lt;mat-error *ngIf=\"addForm.hasError('passwordsNotEqual')\" &gt;Passwords are different. They should be equal!&lt;/mat-error&gt;\n    &lt;!-- instead of addForm.controls.passwordAgain.hasError('passwordsNotEqual') --&gt; \n</code></pre>\n\n<p>This will for sure work for you.</p>\n"}], "owner": {"reputation": 438, "user_id": 11339716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78179a4724e629a2b630795d5c6498ea?s=128&d=identicon&r=PG&f=1", "display_name": "rock11", "link": "https://stackoverflow.com/users/11339716/rock11"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 375, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554905705, "creation_date": 1554891788, "last_edit_date": 1554900630, "question_id": 55610172, "link": "https://stackoverflow.com/questions/55610172/password-and-confirm-password-validation-in-angular", "title": "Password and confirm password validation in angular", "body": "<p>I am trying to implement password and confirm password validation in an angular project. I followed the answer on this post <a href=\"https://stackoverflow.com/questions/51605737/confirm-password-validation-in-angular-6\">Confirm password validation in Angular 6</a>.\nHowever I am unable to get any error message. I don't know what I'm doing wrong.\nhere is my ts code:</p>\n\n<pre><code>  constructor(private formBuilder:FormBuilder,private userService:UsersService,private router:Router) { }\n  addForm: FormGroup;\n  selected = 'option2';\n  passwordsMatcher = new RepeatPasswordEStateMatcher;\n\n  ngOnInit() {\n\n    this.addForm = this.formBuilder.group({\n      id: [],\n      userName: ['', Validators.required],\n      password:new FormControl( '',[ Validators.required]),\n      passwordAgain: new FormControl('',[ Validators.required]),\n      userRole:['',Validators.required],\n\n    },{ validator: RepeatPasswordValidator });\n  }\n  onSubmit() {\n    if (this.addForm.valid)\n    {\n    this.userService.createUser(this.addForm.value)\n      .subscribe( data =&gt; {\n        this.router.navigate(['newuser']);\n      });\n    console.log(this.addForm.controls.password.value);\n  }\n}\n  changeClient(value) {\n    console.log(value);\n    console.log(this.addForm.controls.value);\n}\n</code></pre>\n\n<p>here is my validator code:</p>\n\n<pre><code>export class RepeatPasswordEStateMatcher implements ErrorStateMatcher {\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n    return (control &amp;&amp; control.parent.get('password').value !== control.parent.get('passwordAgain').value)\n  }\n}\nexport function RepeatPasswordValidator(group: FormGroup) {\n  let password = group.controls.password.value;\n  let passwordConfirmation = group.controls.passwordAgain.value;\n\n  return password === passwordConfirmation ? null: { passwordsNotEqual: true }     \n}\n</code></pre>\n\n<p>Below is my template:</p>\n\n<pre><code>&lt;div  style=\"height: 100vh\" fxLayout=\"column\" fxLayoutAlign=\"center center\" &gt;\n    &lt;h2 class=\"text-center\"&gt;Add User&lt;/h2&gt;\n    &lt;mat-card&gt;\n        &lt;mat-card-content&gt;\n\n    &lt;form [formGroup]=\"addForm\" class=\"login-form\" (ngSubmit)=\"onSubmit()\"&gt;\n    &lt;div class=\"form-group\"&gt;\n        &lt;mat-form-field class=\"example-full-width\"&gt;\n\n      &lt;input matInput type=\"text\" formControlName=\"userName\" placeholder=\"userName\" name=\"userName\" class=\"form-control\" id=\"userName\"&gt;\n        &lt;/mat-form-field&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        &lt;mat-form-field class=\"example-full-width\"&gt;\n\n      &lt;input matInput type=\"password\" formControlName=\"password\" placeholder=\"Password\" name=\"password\" class=\"form-control\" id=\"password\"&gt;\n      &lt;mat-error *ngIf=\"addForm.controls.password.hasError('required')\" &gt;Passwords can't be empty&lt;/mat-error&gt;\n    &lt;/mat-form-field&gt;\n    &lt;/div&gt;\n    &lt;div class=\"form-field\"&gt;\n        &lt;mat-form-field&gt;\n        &lt;input matInput formControlName=\"passwordAgain\" placeholder=\"Confirm the password\" type=\"password\" [errorStateMatcher]=\"passwordsMatcher\"&gt;\n        &lt;mat-error *ngIf=\"addForm.controls.passwordAgain.hasError('passwordsNotEqual')\" &gt;Passwords are different. They should be equal!&lt;/mat-error&gt;\n        &lt;/mat-form-field&gt;\n    &lt;/div&gt;\n    &lt;mat-form-field&gt;\n        &lt;mat-select placeholder=\"Roles\" formControlName=\"userRole\" id=\"userRole\" (selectionChange)=\"changeClient($event.value)\" [(value)]=\"selected\"&gt;\n          &lt;mat-option value=\"Admin\"&gt;Admin&lt;/mat-option&gt;\n\n\n        &lt;/mat-select&gt;\n      &lt;/mat-form-field&gt;\n\n      &lt;div class=\"container\" style=\"margin: 12px\" fxLayout=\"row\" fxLayoutAlign=\"center center\"&gt;\n\n\n    &lt;button mat-raised-button color=\"primary\"&gt;Create&lt;/button&gt;\n      &lt;/div&gt;\n  &lt;/form&gt;\n  &lt;/mat-card-content&gt;\n    &lt;/mat-card&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Please help.Thanks in advance.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 9809, "user_id": 2308005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/I8e1z.jpg?s=128&g=1", "display_name": "Medet Tleukabiluly", "link": "https://stackoverflow.com/users/2308005/medet-tleukabiluly"}, "edited": false, "score": 1, "creation_date": 1554891754, "post_id": 55610105, "comment_id": 97914805, "body": "<code>Module &#39;&quot;.&#47;AnotherComponent &quot;&#39; has no exported member &#39;Props&#39;.</code>  but <code>Module &quot;.&#47;Component&quot; has exported member &#39;Props&#39;.</code> cheers"}, {"owner": {"reputation": 2184, "user_id": 1528308, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/rjrnH.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/1528308/alex"}, "reply_to_user": {"reputation": 9809, "user_id": 2308005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/I8e1z.jpg?s=128&g=1", "display_name": "Medet Tleukabiluly", "link": "https://stackoverflow.com/users/2308005/medet-tleukabiluly"}, "edited": false, "score": 0, "creation_date": 1554892003, "post_id": 55610105, "comment_id": 97914933, "body": "Sorry that was a typo"}], "answers": [{"comments": [{"owner": {"reputation": 2184, "user_id": 1528308, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/rjrnH.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/1528308/alex"}, "edited": false, "score": 0, "creation_date": 1554892671, "post_id": 55610353, "comment_id": 97915320, "body": "Thanks, however this doesn&#39;t resolve the error above. Also I am guessing the props can only extend one other set of props, if I need to include more than one set of props this would be unsuitable right?"}, {"owner": {"reputation": 1690, "user_id": 10104341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df7326ce0b47203cf7bf776da128e5a6?s=128&d=identicon&r=PG&f=1", "display_name": "Dimitris Efst", "link": "https://stackoverflow.com/users/10104341/dimitris-efst"}, "reply_to_user": {"reputation": 2184, "user_id": 1528308, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/rjrnH.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/1528308/alex"}, "edited": false, "score": 0, "creation_date": 1554892853, "post_id": 55610353, "comment_id": 97915410, "body": "You can extend mutiple ones. just comma seperate them. But be careful. Incompatibly types are a headache to solve. If you find yourself in that scenario, maybe your architecture is wrong. Let me look at the error again. Maybe I misunderstood the problem."}, {"owner": {"reputation": 1690, "user_id": 10104341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df7326ce0b47203cf7bf776da128e5a6?s=128&d=identicon&r=PG&f=1", "display_name": "Dimitris Efst", "link": "https://stackoverflow.com/users/10104341/dimitris-efst"}, "reply_to_user": {"reputation": 2184, "user_id": 1528308, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/rjrnH.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/1528308/alex"}, "edited": false, "score": 0, "creation_date": 1554893166, "post_id": 55610353, "comment_id": 97915602, "body": "Please check my answer again. Tell me if it helps."}, {"owner": {"reputation": 2184, "user_id": 1528308, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/rjrnH.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/1528308/alex"}, "edited": false, "score": 0, "creation_date": 1554893678, "post_id": 55610353, "comment_id": 97915893, "body": "Thanks, according to <a href=\"https://github.com/sw-yx/react-typescript-cheatsheet#class-components\" rel=\"nofollow noreferrer\">github.com/sw-yx/react-typescript-cheatsheet#class-component&zwnj;&#8203;s</a> it says &quot; you can export/import/extend these types/interfaces for reuse.&quot;, surely there is a way to reuse these types without having to separate into a different type definitions file?"}], "tags": [], "owner": {"reputation": 1690, "user_id": 10104341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df7326ce0b47203cf7bf776da128e5a6?s=128&d=identicon&r=PG&f=1", "display_name": "Dimitris Efst", "link": "https://stackoverflow.com/users/10104341/dimitris-efst"}, "is_accepted": false, "score": 1, "last_activity_date": 1554893149, "last_edit_date": 1554893149, "creation_date": 1554892390, "answer_id": 55610353, "question_id": 55610105, "link": "https://stackoverflow.com/questions/55610105/typescript-react-module-has-no-exported-member/55610353#55610353", "title": "Typescript/React: Module has no exported member", "body": "<p>Try something like this. Basically extend the component Props, to include your desired import.</p>\n\n<pre><code>export interface IProps extends PropsOfYouChoiceThatYouImport {\n morePropsHere\n}\n</code></pre>\n\n<p>Also do not include Props into State it is completly wrong IMO. Do something like this:</p>\n\n<pre><code>\ninterface IProps extends YourDesiredProps {\n  someProp: string | null;\n  // etc\n}\n\ninterface IState {\n  something: boolean\n  // etc\n}\n\nexport class ComponentName extends Component&lt;IProps, IState&gt; {\n  // Define you state, and props here. You need to initialize the correct IState \n  // and IProps above\n}\n</code></pre>\n\n<p>As for the console error, I am not sure you can do that.Try create a folder called <code>Types</code> or <code>Interfaces</code>. Then export that one. </p>\n\n<p>And import it as named or default export, whatever you wish, at both files. Since you want to reuse it. Tell me if it helps. I can look more into it, if you make a quick codeSandbox..</p>\n\n<p>Basically what I suggest is put this into a separate file:</p>\n\n<pre><code>export type Props {\n    someProp: string;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2184, "user_id": 1528308, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/rjrnH.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/1528308/alex"}, "edited": false, "score": 0, "creation_date": 1554897372, "post_id": 55610881, "comment_id": 97917971, "body": "Changing it to interface doesn&#39;t work unfortunately."}, {"owner": {"reputation": 168, "user_id": 2107271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fkue9.png?s=128&g=1", "display_name": "andris.vilde", "link": "https://stackoverflow.com/users/2107271/andris-vilde"}, "reply_to_user": {"reputation": 2184, "user_id": 1528308, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/rjrnH.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/1528308/alex"}, "edited": false, "score": 0, "creation_date": 1554901414, "post_id": 55610881, "comment_id": 97920447, "body": "It is quite difficult to guess what is the issue therefore I suggest you reproduce your issue in <code>codesandbox.io</code> which is a great online coding tool for front-end. Here is a <a href=\"https://codesandbox.io/s/n3138x65p0\" rel=\"nofollow noreferrer\">sand box</a> you can fork which has Typescript and React."}], "tags": [], "owner": {"reputation": 168, "user_id": 2107271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fkue9.png?s=128&g=1", "display_name": "andris.vilde", "link": "https://stackoverflow.com/users/2107271/andris-vilde"}, "is_accepted": false, "score": 1, "last_activity_date": 1554893846, "creation_date": 1554893846, "answer_id": 55610881, "question_id": 55610105, "link": "https://stackoverflow.com/questions/55610105/typescript-react-module-has-no-exported-member/55610881#55610881", "title": "Typescript/React: Module has no exported member", "body": "<p>If you check the React typings (<code>node_modules/react/index.d.ts</code>) of <code>React.Component</code> the structure is the following:</p>\n\n<pre><code>class Component&lt;P, S&gt; {...}\n</code></pre>\n\n<p>where <code>P</code> equal props and <code>S</code> means state.\nYou should not mix props and state.</p>\n\n<p>To fix your TypeScript error change <code>type</code> to <code>interface</code>:</p>\n\n<pre><code>export interface Props {\n  someProp: string;\n}\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2184, "user_id": 1528308, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/rjrnH.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/1528308/alex"}, "is_accepted": true, "score": 1, "last_activity_date": 1554901256, "creation_date": 1554901256, "answer_id": 55613234, "question_id": 55610105, "link": "https://stackoverflow.com/questions/55610105/typescript-react-module-has-no-exported-member/55613234#55613234", "title": "Typescript/React: Module has no exported member", "body": "<p>The issue for the missing member export was the fact that I had an intermediary index file which TypeScript doesn't seem to be able to use when exporting types:</p>\n\n<pre><code>// ./Component/index.tsx\nexport { Component, Props } from \"./js/Component\";\n</code></pre>\n\n<p>When I change the import to use an exact path to the file rather than trying to import it through the index file it picked it up:</p>\n\n<pre><code>// ./AnotherComponent/js/AnotherComponent.tsx\nimport { Props as ComponentProps} from \"./Component/js/Component\";\n</code></pre>\n"}], "owner": {"reputation": 2184, "user_id": 1528308, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/rjrnH.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/1528308/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7379, "favorite_count": 0, "accepted_answer_id": 55613234, "answer_count": 3, "score": 0, "last_activity_date": 1554901256, "creation_date": 1554891535, "last_edit_date": 1554897333, "question_id": 55610105, "link": "https://stackoverflow.com/questions/55610105/typescript-react-module-has-no-exported-member", "title": "Typescript/React: Module has no exported member", "body": "<p>I am trying to export prop types from one view component to another container component and use them as state type definitions:</p>\n\n<pre><code>// ./Component.tsx\nexport type Props {\n    someProp: string;\n}\n\nexport const Component = (props: Props ) =&gt; {\n    ...etc\n}\n\n// ./AnotherComponent.tsx\nimport { Component, Props as ComponentProps } from \"./Component\";\n\ntype Props = {}\n\ntype State = ComponentProps &amp; {};\n\nclass AnotherComponent extends React.Component&lt;Props, State&gt; {\n    state: State;\n    ...etc\n}\n</code></pre>\n\n<p><strong>However I am getting in console:</strong></p>\n\n<pre><code>Module '\"./Component \"' has no exported member 'Props'.\n</code></pre>\n\n<p>Any suggestions for how I should be going about this?</p>\n\n<p>I have also tried using lookup types as per <a href=\"https://medium.com/@martin_hotell/10-typescript-pro-tips-patterns-with-or-without-react-5799488d6680\" rel=\"nofollow noreferrer\">this</a> article, but no joy.</p>\n"}, {"tags": ["angular", "typescript", "for-loop"], "comments": [{"owner": {"reputation": 1846, "user_id": 5746236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9e5b2b5e435d4f91a4d28c3892347d7?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Rami", "link": "https://stackoverflow.com/users/5746236/yash-rami"}, "edited": false, "score": 0, "creation_date": 1554891643, "post_id": 55610099, "comment_id": 97914743, "body": "it would be great if you provide your json so we can get idea of json structure"}, {"owner": {"reputation": 4264, "user_id": 5470544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc451c5af83c8cb2a6b5af4694cfeaae?s=128&d=identicon&r=PG&f=1", "display_name": "JSON Derulo", "link": "https://stackoverflow.com/users/5470544/json-derulo"}, "edited": false, "score": 0, "creation_date": 1554891726, "post_id": 55610099, "comment_id": 97914787, "body": "<code>I need to use a forloop to check this, but I didnt find the right syntax anywhere.</code> Did you try googling &#39;javascript for loop&#39; ?"}, {"owner": {"reputation": 119, "user_id": 6589801, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/400a80d34ead9791de9601ab0b4f1a49?s=128&d=identicon&r=PG&f=1", "display_name": "user-6589801", "link": "https://stackoverflow.com/users/6589801/user-6589801"}, "edited": false, "score": 0, "creation_date": 1554891795, "post_id": 55610099, "comment_id": 97914828, "body": "i googled forloop for angualr. will try"}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 6589801, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/400a80d34ead9791de9601ab0b4f1a49?s=128&d=identicon&r=PG&f=1", "display_name": "user-6589801", "link": "https://stackoverflow.com/users/6589801/user-6589801"}, "edited": false, "score": 0, "creation_date": 1554893225, "post_id": 55610190, "comment_id": 97915639, "body": "private existinguser(value) {     console.log(&quot;user&quot;,this.user)     console.log(&quot;value&quot;,value)     this.user.existingNames.forEach((data) =&gt; {       if(data.user.existingNames.category === value.category)         this.notApplicable= true       else this.notApplicable=false     }     )}     i tried this but an error"}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "reply_to_user": {"reputation": 119, "user_id": 6589801, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/400a80d34ead9791de9601ab0b4f1a49?s=128&d=identicon&r=PG&f=1", "display_name": "user-6589801", "link": "https://stackoverflow.com/users/6589801/user-6589801"}, "edited": false, "score": 0, "creation_date": 1554894124, "post_id": 55610190, "comment_id": 97916136, "body": "@user-6589801 Provide the sample JSOn data"}], "tags": [], "owner": {"reputation": 1801, "user_id": 4393627, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1b6CwyFl9mo/AAAAAAAAAAI/AAAAAAAAACE/0Cs9zHNFI8g/photo.jpg?sz=128", "display_name": "Srinivasan Sekar", "link": "https://stackoverflow.com/users/4393627/srinivasan-sekar"}, "is_accepted": false, "score": 1, "last_activity_date": 1554892865, "last_edit_date": 1554892865, "creation_date": 1554891837, "answer_id": 55610190, "question_id": 55610099, "link": "https://stackoverflow.com/questions/55610099/how-do-i-use-forloop-in-angular/55610190#55610190", "title": "How do I use forloop in Angular", "body": "<p>You can use foreach ,</p>\n\n<pre><code>values.forEach(newUser=&gt; {\n\n      existinguserdetail.forEach(exitingUser=&gt; {\n\n   // Do something\n\n\n          });\n    });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "is_accepted": true, "score": 1, "last_activity_date": 1554894847, "last_edit_date": 1554894847, "creation_date": 1554894064, "answer_id": 55610944, "question_id": 55610099, "link": "https://stackoverflow.com/questions/55610099/how-do-i-use-forloop-in-angular/55610944#55610944", "title": "How do I use forloop in Angular", "body": "<p>Your question is not clear but as per comment:</p>\n\n<p>In HTML:</p>\n\n<pre><code>&lt;div *ngFor=\"let obj of users\"&gt;\n    {{ obj | json }}\n&lt;/div&gt;\n</code></pre>\n\n<p>In TS:</p>\n\n<p>As per your recent code try this:</p>\n\n<pre><code>this.users.forEach(x =&gt; {\n  if (x.name == this.value.name) {\n    console.log('Found')\n  }\n  else {\n    console.log('Not found')\n  }\n})\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-g7lp4q\" rel=\"nofollow noreferrer\"><code>Stackblitz</code></a></p>\n"}], "owner": {"reputation": 119, "user_id": 6589801, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/400a80d34ead9791de9601ab0b4f1a49?s=128&d=identicon&r=PG&f=1", "display_name": "user-6589801", "link": "https://stackoverflow.com/users/6589801/user-6589801"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 55610944, "answer_count": 2, "score": 1, "last_activity_date": 1554894847, "creation_date": 1554891517, "question_id": 55610099, "link": "https://stackoverflow.com/questions/55610099/how-do-i-use-forloop-in-angular", "title": "How do I use forloop in Angular", "body": "<p>I have the values that the user enters in input field stored in something called \"values\"\nI have another array returned from the backend called \"existing userdetails\" which has all the details of the existing user. \nI need to compare the user input with this array . </p>\n\n<p>I need to use a forloop to check this, but I didnt find the right syntax anywhere. Can I use forEach to do this</p>\n\n<pre><code>private existinguser(value) {\nconsole.log(\"user\",this.user)\nconsole.log(\"value\",value)\n}\n</code></pre>\n\n<p>this.user returns the existing user details and value returns the input values from the current user. \nWhat is a way to compare these</p>\n"}, {"tags": ["javascript", "angular", "typescript", "interface"], "comments": [{"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 1, "creation_date": 1554894094, "post_id": 55610090, "comment_id": 97916110, "body": "must be a variable or const, not an interface"}, {"owner": {"reputation": 460, "user_id": 1081019, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/59c260c79d507bc98c9ce25c62dcb3c0?s=128&d=identicon&r=PG&f=1", "display_name": "SKG", "link": "https://stackoverflow.com/users/1081019/skg"}, "edited": false, "score": 0, "creation_date": 1554895874, "post_id": 55610090, "comment_id": 97917074, "body": "share your thoughts about why you want to declare that interface"}], "owner": {"reputation": 1739, "user_id": 4260860, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9a6d7eb694f3533e92883e1a12e17ecd?s=128&d=identicon&r=PG&f=1", "display_name": "nirmal", "link": "https://stackoverflow.com/users/4260860/nirmal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 127, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554891470, "creation_date": 1554891470, "question_id": 55610090, "link": "https://stackoverflow.com/questions/55610090/how-to-implement-interface-in-angular-form-build", "title": "How to implement interface in angular form build", "body": "<p>I was trying to implement interface in angular formbuilder(reactive form) but when I created interface with all validators and kind of this am getting error</p>\n\n<p><strong>only refers to a type, but is being used as a namespace here.</strong></p>\n\n<pre><code>export Interface user {\nfirstName: [\n        '',\n        [\n          Validators.required,\n          Validators.maxLength(50),\n          ValidationService.alphanumericValidator,\n        ],\n      ],\n      lastName: [\n        '',\n        [\n          Validators.required,\n          Validators.maxLength(50),\n          ValidationService.alphanumericValidator,\n        ],\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "leaflet", "geotiff"], "answers": [{"tags": [], "owner": {"reputation": 52004, "user_id": 1375553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a94s0.jpg?s=128&g=1", "display_name": "Vadim Gremyachev", "link": "https://stackoverflow.com/users/1375553/vadim-gremyachev"}, "is_accepted": true, "score": 1, "last_activity_date": 1555250969, "last_edit_date": 1555250969, "creation_date": 1555247370, "answer_id": 55675631, "question_id": 55610066, "link": "https://stackoverflow.com/questions/55610066/leaflet-geotiff-usage-in-angular-6-application/55675631#55675631", "title": "Leaflet-geotiff usage in Angular 6 application", "body": "<p>Apparently the error <code>Custom Mask  is off screen.</code> occurs since the <a href=\"http://gis-lab.info/data/samples/clearcuts_174016_20101018_clip.7z\" rel=\"nofollow noreferrer\">provided file</a> is represented in <a href=\"https://epsg.io/32639\" rel=\"nofollow noreferrer\"><code>WGS 84 / UTM zone 39N</code></a> projection</p>\n\n<p><a href=\"https://i.stack.imgur.com/pmYRe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pmYRe.png\" alt=\"enter image description here\"></a></p>\n\n<p>while only <code>EPSG:4326</code> files are supported by <a href=\"https://github.com/geotiffjs/geotiff.js\" rel=\"nofollow noreferrer\"><code>geotiff.js</code> library</a> (dependency for <code>leaflet-geotiff</code>).</p>\n\n<p>From <code>leaflet-geotiff</code> readme file:</p>\n\n<blockquote>\n  <p>url - GeoTIFF file URL. Currently only EPSG:4326 files are supported.</p>\n</blockquote>\n\n<p>Once reprojected to (e.g. using <a href=\"https://trac.osgeo.org/gdal/wiki/UserDocs/GdalWarp\" rel=\"nofollow noreferrer\">this tool</a>) to <code>EPSG:4326</code>, it could be displayed via <code>leaflet-geotiff</code> like this</p>\n\n<p><a href=\"https://i.stack.imgur.com/P8bKd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P8bKd.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1022, "user_id": 3584920, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d56b8202a02b09693c3ce309f263da9d?s=128&d=identicon&r=PG&f=1", "display_name": "hofshteyn", "link": "https://stackoverflow.com/users/3584920/hofshteyn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 734, "favorite_count": 0, "accepted_answer_id": 55675631, "answer_count": 1, "score": 1, "last_activity_date": 1564677577, "creation_date": 1554891398, "last_edit_date": 1554897541, "question_id": 55610066, "link": "https://stackoverflow.com/questions/55610066/leaflet-geotiff-usage-in-angular-6-application", "title": "Leaflet-geotiff usage in Angular 6 application", "body": "<p>I faced with problem that I can't to display any <code>.tif</code> image on my map. I'm using <a href=\"https://github.com/stuartmatthews/leaflet-geotiff\" rel=\"nofollow noreferrer\">leaflet-geotiff</a> plugin for my map. I downloaded the file (for example from <a href=\"http://gis-lab.info/qa/samples.html\" rel=\"nofollow noreferrer\">gis-lab.info</a>, here is <a href=\"http://gis-lab.info/data/samples/clearcuts_174016_20101018_clip.7z\" rel=\"nofollow noreferrer\">link to download</a>) and tried to paste and display on my map. But I always get <code>Custom Mask  is off screen.</code></p>\n\n<p>Here is a sample how I use it:</p>\n\n<pre><code>import * as geotiff from 'leaflet-geotiff/leaflet-geotiff';\nimport * as plotty from 'leaflet-geotiff/leaflet-geotiff-plotty';\n\nexport class MapComponent {\n\n    ngOnInit() {\n        this.map.on('load', () =&gt; {\n            const options = {\n                band: 0,\n                name: 'Custom Mask',\n                opacity: 1,\n                renderer: new plotty.Plotty({\n                    colorScale: 'greys'\n                })\n            };\n            new geotiff.LeafletGeotiff('assets/uploads/clearcuts_174016_20101018_clip.tif', options).addTo(this.leafletMap);\n        });\n    }\n}\n</code></pre>\n\n<p>And also here what I have in browser console (I added some <code>console.log</code> in <code>leaflet-geotiff</code> lib to be sure that tif file parsed there):</p>\n\n<p><a href=\"https://i.stack.imgur.com/6npNA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6npNA.png\" alt=\"enter image description here\"></a></p>\n\n<p>Seems in code in <code>leaflet-geotiff</code> it happens when <code>plotHeight</code> and <code>plotWidth</code> has negative values. And my layer still not showing on map. What am I doing wrong? And how can I display custom tif file correctly?</p>\n"}, {"tags": ["angular", "typescript", "webpack"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1554889817, "post_id": 55609495, "comment_id": 97913641, "body": "Do you want to write a TS file, or use an existing JS file ? You&#39;re not very clear ..."}, {"owner": {"reputation": 1294, "user_id": 2650883, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0e688f16b246c323034e13591f7f3327?s=128&d=identicon&r=PG", "display_name": "Raymond the Developer", "link": "https://stackoverflow.com/users/2650883/raymond-the-developer"}, "edited": false, "score": 0, "creation_date": 1554889959, "post_id": 55609495, "comment_id": 97913726, "body": "I&#39;ll edit my post I want to write a TS file and use the compiled js file"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1554890039, "post_id": 55609495, "comment_id": 97913779, "body": "If you write a TS file and wire it right, the resulting JS file will automatically be imported to your bundle. You don&#39;t need any additional step."}, {"owner": {"reputation": 1294, "user_id": 2650883, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0e688f16b246c323034e13591f7f3327?s=128&d=identicon&r=PG", "display_name": "Raymond the Developer", "link": "https://stackoverflow.com/users/2650883/raymond-the-developer"}, "edited": false, "score": 0, "creation_date": 1554890232, "post_id": 55609495, "comment_id": 97913906, "body": "I don&#39;t need it to be bundled I need it to be seperate js accessible like this <a href=\"http://test.org/firebase-messaging-sw.js\" rel=\"nofollow noreferrer\">test.org/firebase-messaging-sw.js</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1554890551, "post_id": 55609495, "comment_id": 97914104, "body": "If it&#39;s separate then it can&#39;t be TS. If it&#39;s separate, it won&#39;t go through the build process, meaning that it should be JS."}, {"owner": {"reputation": 1294, "user_id": 2650883, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0e688f16b246c323034e13591f7f3327?s=128&d=identicon&r=PG", "display_name": "Raymond the Developer", "link": "https://stackoverflow.com/users/2650883/raymond-the-developer"}, "edited": false, "score": 0, "creation_date": 1554893827, "post_id": 55609495, "comment_id": 97915968, "body": "What do you mean it can&#39;t be ts? What I want is write /a.ts compile to /a.js and make it accessible when it&#39;s served. I just need to know how to configure tsconfig or angular.json"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1554893973, "post_id": 55609495, "comment_id": 97916043, "body": "Then you import your <code>a.ts</code> in your <code>main.ts</code> so that it gets bundled. You then have access to all of its variables in your components, either by importing it or by referencing the variable it has created."}, {"owner": {"reputation": 1294, "user_id": 2650883, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0e688f16b246c323034e13591f7f3327?s=128&d=identicon&r=PG", "display_name": "Raymond the Developer", "link": "https://stackoverflow.com/users/2650883/raymond-the-developer"}, "edited": false, "score": 0, "creation_date": 1554894241, "post_id": 55609495, "comment_id": 97916185, "body": "No you don&#39;t understand. In order for firebase messaging to work. The browser needs a seperate js file in the root called firebase-messaging-sw.js It has be that specific file name and in the root."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1554894710, "post_id": 55609495, "comment_id": 97916434, "body": "Then create a JS file, not a TS file, and add it to your <code>angular.json</code>&#39;s <code>scripts</code> array, in the correct one. I understood your issue, i&#39;ve been answering it for 2 hours now. It&#39;s just that you don&#39;t seem to listen or understand what I&#39;m saying."}, {"owner": {"reputation": 1294, "user_id": 2650883, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0e688f16b246c323034e13591f7f3327?s=128&d=identicon&r=PG", "display_name": "Raymond the Developer", "link": "https://stackoverflow.com/users/2650883/raymond-the-developer"}, "edited": false, "score": 1, "creation_date": 1554908155, "post_id": 55609495, "comment_id": 97924726, "body": "I need to use environment variables from angular that&#39;s why I need t to be ts. So I don&#39;t think you understand the issue."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1554910100, "post_id": 55609495, "comment_id": 97925908, "body": "You can expose the environment variables to use them. And of course, if you don&#39;t state your goal, I can&#39;t understand the issue. You don&#39;t tell everything, how are we supposed to know ? Guess ? Like psychics ? But then again, I don&#39;t see why you should create a js file &quot;at the root like this&quot;, libraries are supposed to abstract those concepts so that you don&#39;t have to do that exact thing you&#39;re trying to do. Seems like an XY issue to me."}, {"owner": {"reputation": 1294, "user_id": 2650883, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0e688f16b246c323034e13591f7f3327?s=128&d=identicon&r=PG", "display_name": "Raymond the Developer", "link": "https://stackoverflow.com/users/2650883/raymond-the-developer"}, "edited": false, "score": 0, "creation_date": 1554915641, "post_id": 55609495, "comment_id": 97928885, "body": "You still don&#39;t fully understand. That file is REQUIRED to be in the root in order for firebase to work. It&#39;s a standard by all major browsers like Chrome Safari etc. I appreciate your time but it is what it is. I don&#39;t make the rules."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1554915911, "post_id": 55609495, "comment_id": 97929014, "body": "Could you please provide me the link to your library ?"}, {"owner": {"reputation": 1294, "user_id": 2650883, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0e688f16b246c323034e13591f7f3327?s=128&d=identicon&r=PG", "display_name": "Raymond the Developer", "link": "https://stackoverflow.com/users/2650883/raymond-the-developer"}, "edited": false, "score": 0, "creation_date": 1554918637, "post_id": 55609495, "comment_id": 97930369, "body": "Here is a guide <a href=\"https://firebase.google.com/docs/cloud-messaging/js/receive\" rel=\"nofollow noreferrer\">firebase.google.com/docs/cloud-messaging/js/receive</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1554920920, "post_id": 55609495, "comment_id": 97931441, "body": "Thank you, I&#39;ll look into it !"}, {"owner": {"reputation": 1294, "user_id": 2650883, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0e688f16b246c323034e13591f7f3327?s=128&d=identicon&r=PG", "display_name": "Raymond the Developer", "link": "https://stackoverflow.com/users/2650883/raymond-the-developer"}, "edited": false, "score": 0, "creation_date": 1555000493, "post_id": 55609495, "comment_id": 97965806, "body": "Thank you too man!"}], "answers": [{"comments": [{"owner": {"reputation": 1294, "user_id": 2650883, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0e688f16b246c323034e13591f7f3327?s=128&d=identicon&r=PG", "display_name": "Raymond the Developer", "link": "https://stackoverflow.com/users/2650883/raymond-the-developer"}, "edited": false, "score": 0, "creation_date": 1554908444, "post_id": 55614487, "comment_id": 97924892, "body": "This works but is it possible to configure this within a tsconfig file?"}, {"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "reply_to_user": {"reputation": 1294, "user_id": 2650883, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0e688f16b246c323034e13591f7f3327?s=128&d=identicon&r=PG", "display_name": "Raymond the Developer", "link": "https://stackoverflow.com/users/2650883/raymond-the-developer"}, "edited": false, "score": 0, "creation_date": 1554909350, "post_id": 55614487, "comment_id": 97925480, "body": "tsconfig allows for more options on how exactly to compile to js, but you still need tsc. But it might also be possible to add this process to Angular\u2019s webpack file as a completely separate step"}, {"owner": {"reputation": 124, "user_id": 2904009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/354b753d783afcf157ae5df37c32c7ad?s=128&d=identicon&r=PG&f=1", "display_name": "denkan", "link": "https://stackoverflow.com/users/2904009/denkan"}, "edited": false, "score": 0, "creation_date": 1582984065, "post_id": 55614487, "comment_id": 106968241, "body": "Unfortunately, this isn&#39;t a good solution when the ts-file you&#39;re building depends on environments.ts vars. The correct dev/prod environments.ts is built after tsc has run."}], "tags": [], "owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "is_accepted": true, "score": 3, "last_activity_date": 1554904789, "creation_date": 1554904789, "answer_id": 55614487, "question_id": 55609495, "link": "https://stackoverflow.com/questions/55609495/how-to-compile-a-ts-file-to-js-in-angular-and-make-it-accessible-in-root-when-se/55614487#55614487", "title": "How to compile a ts file to js in Angular and make it accessible in root when served?", "body": "<p>You can always use </p>\n\n<pre><code>tsc myfile.ts\n</code></pre>\n\n<p>to compile a separate <code>.ts</code> file to a separate <code>.js</code> file, that has nothing to do with your Angular project.</p>\n\n<p>Perhaps you can even run both commands at the same time in the terminal:</p>\n\n<p>Terminal</p>\n\n<pre><code>tsc myfile.ts &amp;&amp; ng build myproject\n</code></pre>\n\n<p>Or add it to package.json</p>\n\n<pre><code>\"scripts\":{\n   \"build\" : \"tsc myfile.ts &amp;&amp; ng build myproject\"\n}\n\nnpm run build\n</code></pre>\n"}], "owner": {"reputation": 1294, "user_id": 2650883, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0e688f16b246c323034e13591f7f3327?s=128&d=identicon&r=PG", "display_name": "Raymond the Developer", "link": "https://stackoverflow.com/users/2650883/raymond-the-developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 1, "accepted_answer_id": 55614487, "answer_count": 1, "score": 1, "last_activity_date": 1554904789, "creation_date": 1554889501, "last_edit_date": 1554890138, "question_id": 55609495, "link": "https://stackoverflow.com/questions/55609495/how-to-compile-a-ts-file-to-js-in-angular-and-make-it-accessible-in-root-when-se", "title": "How to compile a ts file to js in Angular and make it accessible in root when served?", "body": "<p>I need my file firebase-messaging-sw.ts compiled to firebase-messaging-sw.js to be accessible from the root.</p>\n\n<p>I already created firebase-messaging-sw.ts in the src folder. But that doesn't work. I also added the .js file in angular.json.</p>\n\n<p>So what I want is to make a ts file and compile it to js. But I don't know how to do it in Angular.</p>\n\n<p>angular.json</p>\n\n<pre><code>\"assets\": [\n              \"src/favicon.ico\",\n              \"src/assets\",\n              \"src/firebase-messaging-sw.js\"\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic3", "angular6"], "comments": [{"owner": {"reputation": 1828, "user_id": 4736703, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-BsEmwWNYFGw/AAAAAAAAAAI/AAAAAAAAAHk/bfHIDskerb8/photo.jpg?sz=128", "display_name": "Sa E Chowdary", "link": "https://stackoverflow.com/users/4736703/sa-e-chowdary"}, "edited": false, "score": 0, "creation_date": 1554893921, "post_id": 55609345, "comment_id": 97916008, "body": "did u tried anything&gt;"}, {"owner": {"reputation": 1197, "user_id": 7603484, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/814353ac5fdbb790297cd5511fceb118?s=128&d=identicon&r=PG&f=1", "display_name": "NewTech Lover", "link": "https://stackoverflow.com/users/7603484/newtech-lover"}, "reply_to_user": {"reputation": 1828, "user_id": 4736703, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-BsEmwWNYFGw/AAAAAAAAAAI/AAAAAAAAAHk/bfHIDskerb8/photo.jpg?sz=128", "display_name": "Sa E Chowdary", "link": "https://stackoverflow.com/users/4736703/sa-e-chowdary"}, "edited": false, "score": 0, "creation_date": 1554894757, "post_id": 55609345, "comment_id": 97916458, "body": "@SaEChowdary Documentation is not clear so the problem is getting it mixed with this code."}, {"owner": {"reputation": 1197, "user_id": 7603484, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/814353ac5fdbb790297cd5511fceb118?s=128&d=identicon&r=PG&f=1", "display_name": "NewTech Lover", "link": "https://stackoverflow.com/users/7603484/newtech-lover"}, "reply_to_user": {"reputation": 1828, "user_id": 4736703, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-BsEmwWNYFGw/AAAAAAAAAAI/AAAAAAAAAHk/bfHIDskerb8/photo.jpg?sz=128", "display_name": "Sa E Chowdary", "link": "https://stackoverflow.com/users/4736703/sa-e-chowdary"}, "edited": false, "score": 0, "creation_date": 1555067206, "post_id": 55609345, "comment_id": 97989092, "body": "@SaEChowdary I&#39;ve tried another solution for this but it causes another issue: <a href=\"https://stackoverflow.com/questions/55648835/instead-of-displaying-user-list-infinite-scroll-generates-just-unlimited-empty-l\" title=\"instead of displaying user list infinite scroll generates just unlimited empty l\">stackoverflow.com/questions/55648835/&hellip;</a>"}], "owner": {"reputation": 1197, "user_id": 7603484, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/814353ac5fdbb790297cd5511fceb118?s=128&d=identicon&r=PG&f=1", "display_name": "NewTech Lover", "link": "https://stackoverflow.com/users/7603484/newtech-lover"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554889012, "creation_date": 1554889012, "question_id": 55609345, "link": "https://stackoverflow.com/questions/55609345/how-to-implement-this-ionic-3-infinite-scroll-in-this-component", "title": "How to implement this ionic 3 infinite scroll in this component?", "body": "<p>I am trying to include infinite scroll in this code. I found this component from ionic 3 documentation: <a href=\"https://ionicframework.com/docs/v3/api/components/infinite-scroll/InfiniteScroll/\" rel=\"nofollow noreferrer\">https://ionicframework.com/docs/v3/api/components/infinite-scroll/InfiniteScroll/</a></p>\n\n<p>Also here is our component where it should be implemented:</p>\n\n<p><strong>TS</strong></p>\n\n<pre><code> ngOnInit(): void {\n        this.tokenProvider.GetPayload().then(value =&gt; {\n            this.token = value;\n            console.log(this.token);\n            this.GetUsers(this.token.username);\n        });\n\n        this.socket.on('refreshPage', () =&gt; {\n            console.log('refreshing page')\n            this.tokenProvider.GetPayload().then(value =&gt; {\n                this.token = value;\n                this.GetUsers(this.token.username);\n            });\n        });\n    }\n\n\n  ngOnChanges(): void {\n      console.log(this.groupFilters);\n    if (this.groupFilters) this.filterUserList(this.groupFilters, this.users);\n  }\n\n  filterUserList(filters: any, users: any): void {\n    this.filteredUsers = this.users;     //Reset User List\n\n    const keys = Object.keys(filters);\n    const filterUser = user =&gt; {\n      let result = keys.map(key =&gt; {\n        if (!~key.indexOf('age')) {\n          if(user[key]) {\n          return String(user[key]).toLowerCase().includes(String(filters[key]).toLowerCase())\n          } else {\n            return false;\n          }\n        }\n      });\n      // To Clean Array from undefined if the age is passed so the map will fill the gap with (undefined)\n      result = result.filter(it =&gt; it !== undefined);\n\n      // Filter the Age out from the other filters\n      if (filters['ageto'] &amp;&amp; filters['agefrom']) {\n        if (user['age']) {\n          if (+user['age'] &gt;= +filters['agefrom'] &amp;&amp; +user['age'] &lt;= +filters['ageto']) {\n            result.push(true);\n          } else {\n            result.push(false);\n          }\n        } else {\n          result.push(false);\n        }\n      }\n\n      return result.reduce((acc, cur: any) =&gt; { return acc &amp; cur }, 1)\n\n    }\n\n    this.filteredUsers = this.users.filter(filterUser);\n  }\n\n  GetUsers(name) {\n      console.log('Get Users called');\n    this.usersProvider.GetAllUsers().subscribe(\n      data =&gt; {\n          console.log(data);\n        _.remove(data.result, { username: name });\n        this.users = data.result;\n          console.log(this.users);\n        this.filteredUsers = this.filteredUsers.length &gt; 0 ? this.filteredUsers : this.users;\n      },\n      err =&gt; console.log(err)\n    );\n  }\n}\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;ion-grid&gt;\n    &lt;ion-row&gt;\n      &lt;ion-col col-6 col-md-4 col-lg-3 col-xl-2 class=\"created_group\" *ngFor=\"let user of filteredUsers | filter: searchByKeyword: 'name'\" (click)=\"ViewProfile(user)\"&gt;\n        &lt;div class=\"container\"&gt;\n          &lt;div class=\"imgs\"&gt;\n            &lt;img class=\"imgBg\" src=\"http://res.cloudinary.com/testamicin/image/upload/v{{user.picVersion}}/{{user.picId}}\"&gt;\n          &lt;/div&gt;\n          &lt;p ion-text color=\"dark\"&gt;{{user.firstName}} {{user.lastName}}&lt;/p&gt;\n          &lt;p ion-text color=\"dark\"&gt;\n            {{user.age}}\n          &lt;/p&gt;\n        &lt;/div&gt;\n      &lt;/ion-col&gt;\n    &lt;/ion-row&gt;\n  &lt;/ion-grid&gt;\n</code></pre>\n\n<p>How can we implement that mentioned ionic 3 infinite scroll component inside this users list component?</p>\n"}, {"tags": ["mysql", "node.js", "typescript", "loopbackjs", "strongloop"], "answers": [{"comments": [{"owner": {"reputation": 1977, "user_id": 2226388, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/I64gY.png?s=128&g=1", "display_name": "zukijuki", "link": "https://stackoverflow.com/users/2226388/zukijuki"}, "edited": false, "score": 0, "creation_date": 1555146319, "post_id": 55628928, "comment_id": 98014831, "body": "Hi, thanks for answer. but can&#39;t we create it without using filter but url like <code>http:&#47;&#47;127.0.0.1:3000&#47;myapi&#47;{city_code}&#47;{date}&#47;</code> ?"}, {"owner": {"reputation": 743, "user_id": 5010464, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hZfH91upH0Q/AAAAAAAAAAI/AAAAAAAAA3E/8mg4vtyTd34/photo.jpg?sz=128", "display_name": "Samarpan", "link": "https://stackoverflow.com/users/5010464/samarpan"}, "reply_to_user": {"reputation": 1977, "user_id": 2226388, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/I64gY.png?s=128&g=1", "display_name": "zukijuki", "link": "https://stackoverflow.com/users/2226388/zukijuki"}, "edited": false, "score": 0, "creation_date": 1555243685, "post_id": 55628928, "comment_id": 98035321, "body": "Yes you can, but for that you may have to add few custom handling within controller method. I can share that as well if you really need it"}], "tags": [], "owner": {"reputation": 743, "user_id": 5010464, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hZfH91upH0Q/AAAAAAAAAAI/AAAAAAAAA3E/8mg4vtyTd34/photo.jpg?sz=128", "display_name": "Samarpan", "link": "https://stackoverflow.com/users/5010464/samarpan"}, "is_accepted": true, "score": 1, "last_activity_date": 1554974346, "creation_date": 1554974346, "answer_id": 55628928, "question_id": 55609329, "link": "https://stackoverflow.com/questions/55609329/loopback-4-rest-api-example-for-getting-record-with-mysql/55628928#55628928", "title": "LoopBack 4 REST API example for getting record with Mysql", "body": "<p>If you have generated your controller using loopback cli, you must have got another method in controller class like this</p>\n\n<pre><code>@get('/citySchedule', {\n    responses: {\n      '200': {\n        description: 'Array of Schedule model instances',\n        content: {\n          'application/json': {\n            schema: {type: 'array', items: {'x-ts-type': Schedule}},\n          },\n        },\n      },\n    },\n  })\n  async find(\n    @param.query.object('filter', getFilterSchemaFor(Schedule)) filter?: Filter,\n  ): Promise&lt;Schedule[]&gt; {\n    return await this.ScheduleRepository.find(filter);\n  }\n</code></pre>\n\n<p>You can use this API to fetch more filtered data.</p>\n\n<p>Considering your example</p>\n\n<blockquote>\n  <p>SELECT task, item FROM schedule WHERE city_code=123 AND\n  date=2019-05-01</p>\n</blockquote>\n\n<p>for this query, you need to hit the API like this.</p>\n\n<pre><code>GET /citySchedule?filter=%7B%22where%22%3A%7B%22city_code%22%3A123%2C%22date%22%3A%222019-05-01%22%7D%2C%22fields%22%3A%7B%22task%22%3Atrue%2C%22item%22%3Atrue%7D%7D\n</code></pre>\n\n<p>Here, the filter query parameter value is actually url encoded string for the below json string</p>\n\n<pre><code>{\n    \"where\":{\n        \"city_code\":123,\n        \"date\":\"2019-05-01\"\n    },\n    \"fields\":{\n        \"task\":true,\n        \"item\":true\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1977, "user_id": 2226388, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/I64gY.png?s=128&g=1", "display_name": "zukijuki", "link": "https://stackoverflow.com/users/2226388/zukijuki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1266, "favorite_count": 0, "accepted_answer_id": 55628928, "answer_count": 1, "score": 0, "last_activity_date": 1554974346, "creation_date": 1554888962, "last_edit_date": 1554893039, "question_id": 55609329, "link": "https://stackoverflow.com/questions/55609329/loopback-4-rest-api-example-for-getting-record-with-mysql", "title": "LoopBack 4 REST API example for getting record with Mysql", "body": "<p>i'm learning <a href=\"https://loopback.io/doc/en/lb4/Getting-started.html\" rel=\"nofollow noreferrer\">loopback 4</a>, i have created model, repository and datasource, it also connected \n to mysql and i can retrieve results from <code>http://127.0.0.1:3000/myapi/{id}</code></p>\n\n<p>in my default example getting by id is :</p>\n\n<pre><code>@get('/citySchedule/{id}', {\n    responses: {\n      '200': {\n        description: 'Schedule model instance',\n        content: {'application/json': {schema: {'x-ts-type': Schedule}}},\n      },\n    },\n  })\n  async findById(@param.path.number('id') id: number): Promise&lt;Schedule&gt; {\n    return await this.ScheduleRepository.findById(id);\n  }\n</code></pre>\n\n<p>However, i didnt found any tutorial for getting data with more parameters. </p>\n\n<p>let say mysql table of <code>schedule</code> has contain column <code>id</code>, <code>city_name</code>, <code>city_code</code>, <code>date</code>, <code>task</code>, <code>item</code>.</p>\n\n<p>for example, i want to get <code>\"SELECT task, item FROM schedule WHERE city_code=123 AND date=2019-05-01\"</code></p>\n\n<p>my question, how to write code to get those data at <strong>loopback controller</strong> ?\nany example code... </p>\n\n<p>my expectations, i can query from my api :</p>\n\n<p><code>http://127.0.0.1:3000/myapi/{city_code}/{date}/</code> to get data results or</p>\n\n<p><code>http://127.0.0.1:3000/myapi/{city_name}/{date}/</code></p>\n"}, {"tags": ["reactjs", "typescript", "highcharts", "fetch", "react-highcharts"], "comments": [{"owner": {"reputation": 3695, "user_id": 3200799, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/XDFzs.png?s=128&g=1", "display_name": "Core972", "link": "https://stackoverflow.com/users/3200799/core972"}, "edited": false, "score": 0, "creation_date": 1554889901, "post_id": 55609273, "comment_id": 97913701, "body": "The format should be <code>{&quot;name&quot;:&quot;Test 1&quot;,y:12}</code> . More infos <a href=\"https://api.highcharts.com/highcharts/series.column.data\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 5165, "user_id": 6927748, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/64f5dc909e0616a0f62882517b6170b4?s=128&d=identicon&r=PG&f=1", "display_name": "VJR08", "link": "https://stackoverflow.com/users/6927748/vjr08"}, "reply_to_user": {"reputation": 3695, "user_id": 3200799, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/XDFzs.png?s=128&g=1", "display_name": "Core972", "link": "https://stackoverflow.com/users/3200799/core972"}, "edited": false, "score": 0, "creation_date": 1554890527, "post_id": 55609273, "comment_id": 97914087, "body": "@Core972 tried! no luck"}], "answers": [{"comments": [{"owner": {"reputation": 5165, "user_id": 6927748, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/64f5dc909e0616a0f62882517b6170b4?s=128&d=identicon&r=PG&f=1", "display_name": "VJR08", "link": "https://stackoverflow.com/users/6927748/vjr08"}, "edited": false, "score": 0, "creation_date": 1554898062, "post_id": 55611952, "comment_id": 97918394, "body": "Awesome ! Worked. Thanks for the reply . Had to parseInt before assigning it to data property."}, {"owner": {"reputation": 25325, "user_id": 8951377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MYqI.jpg?s=128&g=1", "display_name": "ppotaczek", "link": "https://stackoverflow.com/users/8951377/ppotaczek"}, "reply_to_user": {"reputation": 5165, "user_id": 6927748, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/64f5dc909e0616a0f62882517b6170b4?s=128&d=identicon&r=PG&f=1", "display_name": "VJR08", "link": "https://stackoverflow.com/users/6927748/vjr08"}, "edited": false, "score": 0, "creation_date": 1554898879, "post_id": 55611952, "comment_id": 97918889, "body": "Hi @velsonjr, I am glad I could help. You can accept the answer: <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}], "tags": [], "owner": {"reputation": 25325, "user_id": 8951377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MYqI.jpg?s=128&g=1", "display_name": "ppotaczek", "link": "https://stackoverflow.com/users/8951377/ppotaczek"}, "is_accepted": true, "score": 0, "last_activity_date": 1554897301, "creation_date": 1554897301, "answer_id": 55611952, "question_id": 55609273, "link": "https://stackoverflow.com/questions/55609273/highcharts-not-rendering-reacttypescripthighcharts/55611952#55611952", "title": "Highcharts not rendering : React+Typescript+Highcharts", "body": "<p>You need to provide the data format required by Highcharts:</p>\n\n<pre><code>  this.setState({\n      data2: data2.map(x =&gt; ({ name: x.name, data: [x.value] }))\n  });\n</code></pre>\n\n<p>Live demo: <a href=\"https://codesandbox.io/s/7w2pw4p900\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/7w2pw4p900</a></p>\n\n<p>API Reference: <a href=\"https://api.highcharts.com/highcharts/series.column.data\" rel=\"nofollow noreferrer\">https://api.highcharts.com/highcharts/series.column.data</a></p>\n"}], "owner": {"reputation": 5165, "user_id": 6927748, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/64f5dc909e0616a0f62882517b6170b4?s=128&d=identicon&r=PG&f=1", "display_name": "VJR08", "link": "https://stackoverflow.com/users/6927748/vjr08"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 525, "favorite_count": 0, "accepted_answer_id": 55611952, "answer_count": 1, "score": 1, "last_activity_date": 1554897301, "creation_date": 1554888819, "last_edit_date": 1554889247, "question_id": 55609273, "link": "https://stackoverflow.com/questions/55609273/highcharts-not-rendering-reacttypescripthighcharts", "title": "Highcharts not rendering : React+Typescript+Highcharts", "body": "<p>Trying to bring up a highchart using react. I am having multiple fetch api calls(for illustration, I have added only 2) whose data I will be using to render something in the UI.</p>\n\n<p>In this example data1 is used to render a table, data2 is used to render a highchart.</p>\n\n<p>I am storing the outputs of these calls in a state object. When I am calling these API's, I am getting the data but unable to set it to \"series\" property of highcharts for rendering, as a result nothing is getting rendered. </p>\n\n<h2>Structure of the data I am fetching</h2>\n\n<p>\"api2\" : [\n      {\n             \"name\" : \"Test1\",\n             \"value\" : 12\n      },\n      {\n        \"name\" : \"Test2\",\n        \"value\" : 9\n      }\n ]</p>\n\n<p>Can someone help me with this? Where am I going wrong?</p>\n\n<p>I am using highcharts-react-official for this</p>\n\n<h2>Code</h2>\n\n<pre><code>import * as React from 'react';\nimport Highcharts from 'highcharts'\nimport HighchartsReact from 'highcharts-react-official';\n\ninterface IState {\n  data1: [];\n  data2: [];\n}\n\ninterface IProps {}\n\nclass Example extends React.Component&lt;IProps,IState&gt; {\n  constructor(props:any)\n  {\n    super(props);\n    this.state = {\n       data1: [],\n       data2: []\n    }\n  }\n\n  componentDidMount()\n  {\n      Promise.all([\n        fetch('http://localhost:3001/api1'),\n        fetch('http://localhost:3001/api2')\n      ])\n      .then(([res1, res2]) =&gt; Promise.all([res1.json(), res2.json()]))\n       .then(([data1, data2]) =&gt; this.setState({\n         data1: data1, \n         data2: data2\n      }));\n  }\n\n  render() {    \n    let options:any;\n    options = {\n         chart: {\n            type: 'column'\n         },\n      credits: false,\n      exporting: {enabled: false},\n      title: {\n        text: ''\n      },\n      legend: {\n                layout: 'vertical',\n                align: 'right',\n                verticalAlign: 'bottom'\n            },\n      xAxis: {\n        visible:false\n      },\n      yAxis: {\n        visible:false\n      },\n      plotOptions: {\n        column: {\n          dataLabels: {\n                        enabled: true                         }\n        }\n      },\n      series: this.state.data2\n     };\n\n    return(\n      &lt;div className=\"an-content\"&gt;\n          //some table rendering will happen here\n          &lt;HighchartsReact\n                 highcharts={Highcharts}\n                 options={options} \n          /&gt;\n      &lt;/div&gt;\n    )\n  }\n} \nexport default Example;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "kendo-grid", "angular7", "export-to-excel"], "answers": [{"tags": [], "owner": {"reputation": 3942, "user_id": 3164614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2Ity.png?s=128&g=1", "display_name": "Mihail Stancescu", "link": "https://stackoverflow.com/users/3164614/mihail-stancescu"}, "is_accepted": true, "score": 0, "last_activity_date": 1554957288, "creation_date": 1554957288, "answer_id": 55624774, "question_id": 55609163, "link": "https://stackoverflow.com/questions/55609163/how-to-export-data-to-excel-in-kendo-grid-with-external-button-in-angular-7/55624774#55624774", "title": "How to Export data to Excel in Kendo Grid with external button in angular 7?", "body": "<p>You can try something like this:</p>\n\n<p>First you add a button in your template and you add a reference for the grid component with the <code>#</code> notation:</p>\n\n<pre><code>&lt;p&gt;\n   &lt;button (click)=\"exportToExcel(grid)\"&gt;Export Grid to Excel...&lt;/button&gt;\n&lt;/p&gt;\n&lt;kendo-grid #grid=\"kendoGrid\" ... &gt;\n</code></pre>\n\n<p>Then you add the method <code>exportToExcel</code> in your .ts file:</p>\n\n<pre><code>public exportToExcel(grid: GridComponent): void {\n  grid.saveAsExcel();\n}\n</code></pre>\n\n<p>This is also available on the Kendo web site for Angular Grid documentation: \n<a href=\"https://www.telerik.com/kendo-angular-ui/components/grid/export/excel-export/#toc-triggering-export-externally\" rel=\"nofollow noreferrer\">Trigger Export Externally</a>.</p>\n"}], "owner": {"reputation": 77, "user_id": 10512544, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7k7lUTD_nxs/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBRbpGsS7yQahurgI5r1HlnsSxzGg/mo/photo.jpg?sz=128", "display_name": "Karthik", "link": "https://stackoverflow.com/users/10512544/karthik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1363, "favorite_count": 0, "accepted_answer_id": 55624774, "answer_count": 1, "score": 0, "last_activity_date": 1560931599, "creation_date": 1554888477, "last_edit_date": 1560931599, "question_id": 55609163, "link": "https://stackoverflow.com/questions/55609163/how-to-export-data-to-excel-in-kendo-grid-with-external-button-in-angular-7", "title": "How to Export data to Excel in Kendo Grid with external button in angular 7?", "body": "<p>I'm trying to download excel file from kendo grid data from external button -- not with kendo excel tool bar.</p>\n\n<p>As am new to angular itself i googled to download from external button but i didn't find any details </p>\n\n<pre><code> &lt;div class=\"grid-wrapper\" *ngIf=\"!recordsNotFound\"&gt;\n\n\n &lt;kendo-grid [data]=\"gridView\" [pageSize]=\"pageSize\" [resizable]=\"true\" id=\"dataEntry\"\n          [skip]=\"skip\"\n          [pageable]=\"true\"\n          [selectable]=\"true\"\n          [sortable]=\"true\"\n          (sortChange)=\"sortChange($event)\"\n          (selectionChange)=\"onSelection($event)\"\n          (pageChange)=\"pageChange($event)\"&gt;\n&lt;kendo-grid-messages noRecords=\"\"&gt;\n&lt;/kendo-grid-messages&gt;\n&lt;kendo-grid-column *ngFor=\"let column of columns\"\n                   field=\"{{column.field}}\"\n                   title=\"{{column.title}}\"\n                   format=\"{{column.format}}\"\n                   width=\"100\"\n                   media=\"(min-width: 320px)\"\n                   hidden=\"{{column.isHidden}}\"\n                   filter=\"{{column.type}}\"&gt;&lt;/kendo-grid-column&gt;\n\n&lt;ng-template kendoPagerTemplate let-totalPages=\"totalPages\" let-currentPage=\"currentPage\"&gt;\n  &lt;kendo-pager-prev-buttons&gt;&lt;/kendo-pager-prev-buttons&gt;\n\n  &lt;kendo-pager-info&gt;&lt;/kendo-pager-info&gt;\n  &lt;kendo-pager-next-buttons&gt;&lt;/kendo-pager-next-buttons&gt;\n\n&lt;/ng-template&gt;\n</code></pre>\n\n<p></p>\n\n<p>\n</p>\n"}, {"tags": ["reactjs", "typescript", "react-static"], "comments": [{"owner": {"reputation": 2531, "user_id": 1017722, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2ac70af04d1b1eaacf718526e4725d3f?s=128&d=identicon&r=PG", "display_name": "Evgeny Timoshenko", "link": "https://stackoverflow.com/users/1017722/evgeny-timoshenko"}, "edited": false, "score": 0, "creation_date": 1555340296, "post_id": 55608444, "comment_id": 98066783, "body": "check this out <a href=\"https://github.com/nozzle/react-static/issues/358\" rel=\"nofollow noreferrer\">github.com/nozzle/react-static/issues/358</a>"}], "owner": {"reputation": 23, "user_id": 8543018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96f1cf6db62e2dab3ab771321d9d6a7f?s=128&d=identicon&r=PG&f=1", "display_name": "Hubert Kuzdak", "link": "https://stackoverflow.com/users/8543018/hubert-kuzdak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 372, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1554886344, "creation_date": 1554886344, "question_id": 55608444, "link": "https://stackoverflow.com/questions/55608444/how-to-import-ts-files-in-static-config-js-in-react-static-typescript-template", "title": "How to import .ts files in static.config.js in React Static typescript template", "body": "<p>I have problem with import .ts files in static.config.js file in my project with React Static I got this error</p>\n\n<p><code>Unexpected token { import sth from sth }</code></p>\n\n<p>When i change my static.config.js to static.config.ts i got error</p>\n\n<pre><code>=&gt; File changed: /artifacts/react-static-browser-plugins.js\n=&gt; Updating build...\nFailed to build! Fix any errors and try again!\nmulti /MY_PROJECT/node_modules/react-dev-utils/webpackHotDevClient.js (webpack)/hot/only-dev-server.js ../lib/bootstrapPlugins.js ../lib/bootstrapTemplates.js /MY_PROJECT/src/index.js\nModule not found: Can't resolve '/MY_PROJECT/src/index.js' in '/MY_PROJECT/node_modules/react-static/node_modules'\n</code></pre>\n\n<p>My tsconfig.json</p>\n\n<pre><code>   \"target\": \"esnext\",\n   \"module\": \"esnext\",\n   \"jsx\": \"preserve\",\n   \"allowJs\": true,\n   \"moduleResolution\": \"node\",\n   \"allowSyntheticDefaultImports\": true,\n   \"noImplicitAny\": true,\n   \"noUnusedLocals\": true,\n   \"noUnusedParameters\": true,\n   \"removeComments\": false,\n   \"preserveConstEnums\": true,\n   \"sourceMap\": true,\n   \"skipLibCheck\": true,\n   \"baseUrl\": \"./src\",\n   \"resolveJsonModule\" : true,\n   \"lib\": [\"dom\", \"es2015\", \"es2016\"]\n}\n</code></pre>\n\n<p>What to do to be able to import .ts files in static.config.js or what to do to static.config.ts would work?</p>\n"}, {"tags": ["html", "css", "angular", "typescript", "animation"], "comments": [{"owner": {"reputation": 14294, "user_id": 9140740, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QwMrm.jpg?s=128&g=1", "display_name": "\u05dc\u05d1\u05e0\u05d9 \u05de\u05dc\u05db\u05d4", "link": "https://stackoverflow.com/users/9140740/%d7%9c%d7%91%d7%a0%d7%99-%d7%9e%d7%9c%d7%9b%d7%94"}, "edited": false, "score": 1, "creation_date": 1554885160, "post_id": 55607962, "comment_id": 97910731, "body": "sorry about the question but why do you want to avoid css? and what about angular 7 animation?"}, {"owner": {"reputation": 2134, "user_id": 754462, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9aba2f4a04dbccedb70a93033b55b166?s=128&d=identicon&r=PG", "display_name": "Vato", "link": "https://stackoverflow.com/users/754462/vato"}, "edited": false, "score": 0, "creation_date": 1554885300, "post_id": 55607962, "comment_id": 97910813, "body": "was thinking same. you should use angular animations. <a href=\"https://www.youtube.com/watch?v=nLRP8Uhx-Qo\" rel=\"nofollow noreferrer\">youtube.com/watch?v=nLRP8Uhx-Qo</a> maybe watch this."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11171372"}, "reply_to_user": {"reputation": 14294, "user_id": 9140740, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QwMrm.jpg?s=128&g=1", "display_name": "\u05dc\u05d1\u05e0\u05d9 \u05de\u05dc\u05db\u05d4", "link": "https://stackoverflow.com/users/9140740/%d7%9c%d7%91%d7%a0%d7%99-%d7%9e%d7%9c%d7%9b%d7%94"}, "edited": false, "score": 0, "creation_date": 1554885319, "post_id": 55607962, "comment_id": 97910826, "body": "I was just thinking about something like that &quot;show(300)&quot; but I don&#39;t know if I can, so if it&#39;s not possible CSS is ok. I was looking for AngAnimation but it requires more time, oviously if there aren&#39;t other solution I will consider to use it @\u05dc\u05d1\u05e0\u05d9\u05de\u05dc\u05db\u05d4"}, {"owner": {"reputation": 14294, "user_id": 9140740, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QwMrm.jpg?s=128&g=1", "display_name": "\u05dc\u05d1\u05e0\u05d9 \u05de\u05dc\u05db\u05d4", "link": "https://stackoverflow.com/users/9140740/%d7%9c%d7%91%d7%a0%d7%99-%d7%9e%d7%9c%d7%9b%d7%94"}, "edited": false, "score": 0, "creation_date": 1554885447, "post_id": 55607962, "comment_id": 97910922, "body": "fine.. what this <code>this.skillsToDelete.push(skill);</code> (is it neccassety to answer)"}, {"owner": {"reputation": 14294, "user_id": 9140740, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QwMrm.jpg?s=128&g=1", "display_name": "\u05dc\u05d1\u05e0\u05d9 \u05de\u05dc\u05db\u05d4", "link": "https://stackoverflow.com/users/9140740/%d7%9c%d7%91%d7%a0%d7%99-%d7%9e%d7%9c%d7%9b%d7%94"}, "edited": false, "score": 0, "creation_date": 1554885716, "post_id": 55607962, "comment_id": 97911060, "body": "do you want only delay or with also animation?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11171372"}, "edited": false, "score": 0, "creation_date": 1554885798, "post_id": 55607962, "comment_id": 97911115, "body": "I have to delete skills from an user, so I have to push this &quot;skills selected&quot; in the other component that will delete them."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11171372"}, "edited": false, "score": 0, "creation_date": 1554885886, "post_id": 55607962, "comment_id": 97911161, "body": "i would prefer animation, but just for starting a simple delay."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11171372"}, "reply_to_user": {"reputation": 14294, "user_id": 9140740, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QwMrm.jpg?s=128&g=1", "display_name": "\u05dc\u05d1\u05e0\u05d9 \u05de\u05dc\u05db\u05d4", "link": "https://stackoverflow.com/users/9140740/%d7%9c%d7%91%d7%a0%d7%99-%d7%9e%d7%9c%d7%9b%d7%94"}, "edited": false, "score": 0, "creation_date": 1554885918, "post_id": 55607962, "comment_id": 97911177, "body": "what do you thing about it? any suggestions? @\u05dc\u05d1\u05e0\u05d9\u05de\u05dc\u05db\u05d4"}], "answers": [{"tags": [], "owner": {"reputation": 14294, "user_id": 9140740, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QwMrm.jpg?s=128&g=1", "display_name": "\u05dc\u05d1\u05e0\u05d9 \u05de\u05dc\u05db\u05d4", "link": "https://stackoverflow.com/users/9140740/%d7%9c%d7%91%d7%a0%d7%99-%d7%9e%d7%9c%d7%9b%d7%94"}, "is_accepted": true, "score": 0, "last_activity_date": 1554886608, "last_edit_date": 1554886608, "creation_date": 1554886233, "answer_id": 55608415, "question_id": 55607962, "link": "https://stackoverflow.com/questions/55607962/how-to-show-a-form-on-click-with-some-delay-on-angular-7/55608415#55608415", "title": "How to show a Form on Click with some delay on Angular 7?", "body": "<p>As you ask for not using css you can use <a href=\"https://angular.io/guide/animations\" rel=\"nofollow noreferrer\"><code>angular-animation</code></a></p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-7-aniamtion?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\">See working example code</a></p>\n\n<p>Import <code>animation</code> for ts and use code as below </p>\n\n<p>In <code>animate('1000ms 3000ms'</code> set the time for animation(in this example 1 second) and the time for delay(in this example 3 second) </p>\n\n<pre><code>import { Component } from '@angular/core';\nimport sdk from '@stackblitz/sdk';\nimport { animate, state, style, transition, trigger } from '@angular/animations';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ],\n  animations: [\n        trigger('showAnimation', [\n            transition(':enter', [\n                style({opacity: 0}),\n                animate('1000ms 3000ms', style({opacity: 1}))\n            ]),\n            transition(':leave', [\n                state('invisible', style({opacity: 0})),\n                style({opacity: 1}),\n                animate('1000ms 3000ms', style({opacity: 0}))\n            ])\n        ])\n    ],\n})\nexport class AppComponent  {\nskillsToDelete=false;\nshowCompDelete=false;\nanimationState=\"leave\";\n\nshowFormDelete(skill) {\n    this.showCompDelete = !this.showCompDelete;\n    this.animationState=this.animationState==\"enter\"?'leave':'enter';\n    // this.skillsToDelete.push(skill);\n}\n}\n</code></pre>\n\n<p>In html use <code>*ngIf</code> and use code as below:</p>\n\n<pre><code>&lt;img *ngIf=  \"!skillsToDelete\"\n (click)=\"showFormDelete(skill)\" title=\"Delete\"\n class=\"cross\"\n src=\"https://i.stack.imgur.com/B4Ha4.jpg\"&gt;\n\n &lt;div class=\"col-md-12 col-sm-12 newForm\" id=\"deleteSkill\" *ngIf=\"showCompDelete\" [@showAnimation]=\"animationState\"&gt; \n form with animation\n &lt;/div&gt;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11171372"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 553, "favorite_count": 1, "accepted_answer_id": 55608415, "answer_count": 1, "score": 0, "last_activity_date": 1556398316, "creation_date": 1554884714, "last_edit_date": 1556398316, "question_id": 55607962, "link": "https://stackoverflow.com/questions/55607962/how-to-show-a-form-on-click-with-some-delay-on-angular-7", "title": "How to show a Form on Click with some delay on Angular 7?", "body": "<p>I have to change some angularJS code in Angular 7.</p>\n\n<p>I've got a function that onClick shows me a new form bottom the principal one.</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;img [hidden]=  \"!skillsToDelete\"\n (click)=\"showFormDelete(skill)\" title=\"Delete\"\n class=\"cross\"\n src=\"../../../assets/icon/deletex.png\"&gt;\n</code></pre>\n\n<p>TypeScript</p>\n\n<pre><code>    this.showCompDelete = false;\n\nshowFormDelete(skill) {\n    this.showCompDelete = !this.showCompDelete;\n    this.skillsToDelete.push(skill);\n}\n</code></pre>\n\n<p>HTML DELETE COMPONENT</p>\n\n<pre><code>&lt;div class=\"col-md-12 col-sm-12 newForm\" id=\"deleteSkill\" *ngIf=\"showCompDelete\"&gt;\n</code></pre>\n\n<p>CSS</p>\n\n<pre><code>.newForm{\n    padding-left: 0;\n    height: auto;\n    opacity: 1;\n    transition: height ease 0.3s, opacity ease 0.3s, margin-bottom ease 0.3s, padding-top ease 0.3s\n}\n</code></pre>\n\n<p>This transition doesn't work, I also tried -webkit but nothing happens.</p>\n\n<p>This was the old one:</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;div class=\"col-md-12 col-sm-12 newForm\" id=\"deleteSkill\" style=\"display: block;\"&gt;\n</code></pre>\n\n<p>JS</p>\n\n<pre><code> $scope.showDeleteForm = function () {\n        $('#formSkill').hide(300);\n        $('#formExp').hide(300);\n        $('#initSkills').hide(300);\n        $('#certifiedSkill').hide(300);\n\n        if($scope.skillToDelete.length){\n            $('#deleteSkill').show(300);\n            setTimeout(function () {\n                $('.yesno').show(200);\n            }, 300);\n        }\n        else{\n            $('#deleteSkill').hide(300);\n            $('.yesno').hide(0);\n        }\n\n    };\n</code></pre>\n\n<p>I would like to avoid css, and add something like \"show(300)\" in my TS, but if you have ideas also in css I would appreciate it.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 1485, "user_id": 1191799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E0EMo.jpg?s=128&g=1", "display_name": "hal", "link": "https://stackoverflow.com/users/1191799/hal"}, "edited": false, "score": 0, "creation_date": 1554884032, "post_id": 55607718, "comment_id": 97910157, "body": "Can you provide what kind of object you pass to this function? Is it possible that <code>apercuTypePrestation.libelleTypePrestation</code> is <code>undefined</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11338946, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156405990308985/picture?type=large", "display_name": "fruustyl3r", "link": "https://stackoverflow.com/users/11338946/fruustyl3r"}, "edited": false, "score": 0, "creation_date": 1554885690, "post_id": 55607872, "comment_id": 97911038, "body": "Wow, I&#39;m so STUPID lmao. I was so much into thinking there was something about TypeScript I didn&#39;t understand that I did not even notice I was using == instead of =.  Hahaha, it works now, thanks."}, {"owner": {"reputation": 1229, "user_id": 7110714, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QCw0Z0XOhUI/AAAAAAAAAAI/AAAAAAAAAC4/L8FJQhiiIdo/photo.jpg?sz=128", "display_name": "Johar Zaman", "link": "https://stackoverflow.com/users/7110714/johar-zaman"}, "reply_to_user": {"reputation": 11, "user_id": 11338946, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156405990308985/picture?type=large", "display_name": "fruustyl3r", "link": "https://stackoverflow.com/users/11338946/fruustyl3r"}, "edited": false, "score": 0, "creation_date": 1554888451, "post_id": 55607872, "comment_id": 97912699, "body": "No problem. It happens sometimes."}, {"owner": {"reputation": 3836, "user_id": 3003401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2de9e3bd27825488f4cf0a1dd86ac0?s=128&d=identicon&r=PG&f=1", "display_name": "Cerberus", "link": "https://stackoverflow.com/users/3003401/cerberus"}, "edited": false, "score": 0, "creation_date": 1554959985, "post_id": 55607872, "comment_id": 97942534, "body": "Changing <code>null != var</code> to <code>var</code> might change semantics (since empty string, for example, is falsy). Not sure if this applies here, just wanted to remind."}, {"owner": {"reputation": 1229, "user_id": 7110714, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QCw0Z0XOhUI/AAAAAAAAAAI/AAAAAAAAAC4/L8FJQhiiIdo/photo.jpg?sz=128", "display_name": "Johar Zaman", "link": "https://stackoverflow.com/users/7110714/johar-zaman"}, "reply_to_user": {"reputation": 3836, "user_id": 3003401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2de9e3bd27825488f4cf0a1dd86ac0?s=128&d=identicon&r=PG&f=1", "display_name": "Cerberus", "link": "https://stackoverflow.com/users/3003401/cerberus"}, "edited": false, "score": 0, "creation_date": 1554961544, "post_id": 55607872, "comment_id": 97943058, "body": "@Cerberus yeah, we should use this as we needed."}], "tags": [], "owner": {"reputation": 1229, "user_id": 7110714, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QCw0Z0XOhUI/AAAAAAAAAAI/AAAAAAAAAC4/L8FJQhiiIdo/photo.jpg?sz=128", "display_name": "Johar Zaman", "link": "https://stackoverflow.com/users/7110714/johar-zaman"}, "is_accepted": false, "score": 1, "last_activity_date": 1554884408, "creation_date": 1554884408, "answer_id": 55607872, "question_id": 55607718, "link": "https://stackoverflow.com/questions/55607718/accessing-variable-outside-a-block/55607872#55607872", "title": "Accessing variable outside a block", "body": "<p>You are using <code>==</code> instead of <code>=</code>. \nI have change <code>==</code> to <code>=</code>, it should work now. </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>public getApercuTypePrestationFromTypePrestationEX044(typePrestationEX044: TypePrestationEX044): ApercuTypePrestation {\n        let apercuTypePrestation: ApercuTypePrestation;\n        if (null != typePrestationEX044) {\n            apercuTypePrestation = new ApercuTypePrestation();\n            apercuTypePrestation.codeTypePrestation = typePrestationEX044.code;\n            apercuTypePrestation.libelleTypePrestation = typePrestationEX044.libelle;\n        }\n\n        console.log(\"A = \" + typePrestationEX044.code);\n        console.log(\"B = \" + apercuTypePrestation.libelleTypePrestation);\n\n        return apercuTypePrestation;\n    }\n</code></pre>\n\n<p>In typescript, \n<code>==</code> or <code>===</code> is used for comparisons not for assignment in order to assign a value you have to use <code>=</code></p>\n\n<p><strong>UPDATE</strong> </p>\n\n<p>I have also noticed that you are checking <code>typePrestationEX044</code> for null the wrong way. </p>\n\n<p>Change this: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>if (null != typePrestationEX044) {\n            apercuTypePrestation = new ApercuTypePrestation();\n            apercuTypePrestation.codeTypePrestation = typePrestationEX044.code;\n            apercuTypePrestation.libelleTypePrestation = typePrestationEX044.libelle;\n        }\n</code></pre>\n\n<p>To This</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>if (typePrestationEX044) {\n            apercuTypePrestation = new ApercuTypePrestation();\n            apercuTypePrestation.codeTypePrestation = typePrestationEX044.code;\n            apercuTypePrestation.libelleTypePrestation = typePrestationEX044.libelle;\n        }\n</code></pre>\n\n<p>This <code>if</code> condition will automatically check for <code>undefined</code>, <code>null</code> or<code>boolean</code></p>\n"}], "owner": {"reputation": 11, "user_id": 11338946, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156405990308985/picture?type=large", "display_name": "fruustyl3r", "link": "https://stackoverflow.com/users/11338946/fruustyl3r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554884408, "creation_date": 1554883847, "question_id": 55607718, "link": "https://stackoverflow.com/questions/55607718/accessing-variable-outside-a-block", "title": "Accessing variable outside a block", "body": "<p>I'm rather a beginner with TypeScript (to be clear, I come from a java universe). I'm currently trying to do a mapper like this:</p>\n\n<pre><code>public getApercuTypePrestationFromTypePrestationEX044(typePrestationEX044: TypePrestationEX044): ApercuTypePrestation {\n        let apercuTypePrestation: ApercuTypePrestation;\n        if (null != typePrestationEX044) {\n            apercuTypePrestation = new ApercuTypePrestation();\n            apercuTypePrestation.codeTypePrestation == typePrestationEX044.code;\n            apercuTypePrestation.libelleTypePrestation == typePrestationEX044.libelle;\n        }\n\n        console.log(\"A = \" + typePrestationEX044.code);\n        console.log(\"B = \" + apercuTypePrestation.libelleTypePrestation);\n\n        return apercuTypePrestation;\n    }\n</code></pre>\n\n<p>But it obviously does not work: in the console, I have:\nA = A8C\nB = undefined</p>\n\n<p>How can i fix it?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 3570, "user_id": 2831925, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9895ee2af1860eb0103e1cac199061c0?s=128&d=identicon&r=PG&f=1", "display_name": "Ajay", "link": "https://stackoverflow.com/users/2831925/ajay"}, "edited": false, "score": 0, "creation_date": 1554883998, "post_id": 55607608, "comment_id": 97910135, "body": "Car.Speed is nothing in itself. Javascript is not going to process it after compilation."}], "answers": [{"comments": [{"owner": {"reputation": 3570, "user_id": 2831925, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9895ee2af1860eb0103e1cac199061c0?s=128&d=identicon&r=PG&f=1", "display_name": "Ajay", "link": "https://stackoverflow.com/users/2831925/ajay"}, "edited": false, "score": 0, "creation_date": 1554884025, "post_id": 55607742, "comment_id": 97910148, "body": "Is Car an object?"}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "reply_to_user": {"reputation": 3570, "user_id": 2831925, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9895ee2af1860eb0103e1cac199061c0?s=128&d=identicon&r=PG&f=1", "display_name": "Ajay", "link": "https://stackoverflow.com/users/2831925/ajay"}, "edited": false, "score": 0, "creation_date": 1554884056, "post_id": 55607742, "comment_id": 97910174, "body": "No, that&#39;s a type (interface)"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 2, "creation_date": 1554884092, "post_id": 55607742, "comment_id": 97910193, "body": "@AlekseyL. - No, but that&#39;s not a property accessor, beacuse it&#39;s in a type expression, not a runtime expression: <a href=\"http://www.typescriptlang.org/play/index.html#src=export%20interface%20Car%20%7B%0D%0A%20%20%20%20Name%3A%20string%3B%0D%0A%20%20%20%20Speed%3A%20number%3B%0D%0A%20%20%20%20Manufactured%3A%20number%3B%0D%0A%7D%0D%0A%0D%0Aconst%20Speed%3A%20Car%5B&#39;Speed&#39;%5D%20%3D%20200%3B\" rel=\"nofollow noreferrer\">Live demo</a>. Aleksey - Wow, that&#39;s really cool."}, {"owner": {"reputation": 3570, "user_id": 2831925, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9895ee2af1860eb0103e1cac199061c0?s=128&d=identicon&r=PG&f=1", "display_name": "Ajay", "link": "https://stackoverflow.com/users/2831925/ajay"}, "edited": false, "score": 0, "creation_date": 1554884110, "post_id": 55607742, "comment_id": 97910203, "body": "Car[&quot;speed&quot;], I thought &#39;[&quot;&quot;]&#39; syntax is reserved for object only (at least in javascript)."}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 3570, "user_id": 2831925, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9895ee2af1860eb0103e1cac199061c0?s=128&d=identicon&r=PG&f=1", "display_name": "Ajay", "link": "https://stackoverflow.com/users/2831925/ajay"}, "edited": false, "score": 2, "creation_date": 1554884141, "post_id": 55607742, "comment_id": 97910222, "body": "@Ajay - That&#39;s JavaScript. This is the type portion of the declaration, which is TypeScript."}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 1, "creation_date": 1554884501, "post_id": 55607742, "comment_id": 97910398, "body": "@T.J.Crowder it is kind of mentioned <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#index-types\" rel=\"nofollow noreferrer\">here</a> I&#39;ll try to find a place with better definition"}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 1, "creation_date": 1554884913, "post_id": 55607742, "comment_id": 97910600, "body": "@T.J.Crowder see also <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#keyof-and-lookup-types\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/release-notes/&hellip;</a>"}], "tags": [], "owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "is_accepted": true, "score": 9, "last_activity_date": 1554885194, "last_edit_date": 1554885194, "creation_date": 1554883926, "answer_id": 55607742, "question_id": 55607608, "link": "https://stackoverflow.com/questions/55607608/how-can-i-reuse-a-type-of-an-interface-member/55607742#55607742", "title": "How can I reuse a type of an interface member?", "body": "<p>You can \"query\" the type of the member using following syntax:</p>\n\n<pre><code>const Speed: Car['Speed'] = 200;\n</code></pre>\n\n<p>More info on lookup types <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#keyof-and-lookup-types\" rel=\"noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 2377, "user_id": 1561922, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6b1e1632e072f174d9561f3d3796da0c?s=128&d=identicon&r=PG", "display_name": "geoyws", "link": "https://stackoverflow.com/users/1561922/geoyws"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 401, "favorite_count": 0, "accepted_answer_id": 55607742, "answer_count": 1, "score": 2, "last_activity_date": 1554887099, "creation_date": 1554883449, "last_edit_date": 1554887099, "question_id": 55607608, "link": "https://stackoverflow.com/questions/55607608/how-can-i-reuse-a-type-of-an-interface-member", "title": "How can I reuse a type of an interface member?", "body": "<pre><code>export interface Car {\n    Name: string;\n    Speed: number;\n    Manufactured: number;\n}\n\nconst Speed: Car.Speed = 200;\n</code></pre>\n\n<p>Currently, <code>Car.Speed</code> is causing an error:</p>\n\n<blockquote>\n  <p>Cannot access 'Car.Speed' because 'Car' is a type, but not a namespace. Did you mean to retrieve the type of the property 'Speed' in 'Car' with 'Car[\"Speed\"]'?</p>\n</blockquote>\n"}, {"tags": ["javascript", "java", "angular", "typescript", "spring-boot"], "comments": [{"owner": {"reputation": 1786, "user_id": 5383281, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qhNkSRFReEE/AAAAAAAAAAI/AAAAAAAAA6w/kmJaxw-_9rw/photo.jpg?sz=128", "display_name": "Mebin Joe", "link": "https://stackoverflow.com/users/5383281/mebin-joe"}, "edited": false, "score": 0, "creation_date": 1554883389, "post_id": 55607507, "comment_id": 97909796, "body": "This might help: <a href=\"https://github.com/dsyer/spring-boot-angular\" rel=\"nofollow noreferrer\">github.com/dsyer/spring-boot-angular</a>"}, {"owner": {"reputation": 2485, "user_id": 3812888, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/blosZ.jpg?s=128&g=1", "display_name": "The Head Rush", "link": "https://stackoverflow.com/users/3812888/the-head-rush"}, "edited": false, "score": 0, "creation_date": 1555009828, "post_id": 55607507, "comment_id": 97969984, "body": "When you deploy the application, everything will run from the server URL &amp; port, if applicable. You run the development server on a different port than the backend to keep from having to build, deploy and restart the backend to see your frontend changes."}], "answers": [{"tags": [], "owner": {"reputation": 4656, "user_id": 6012939, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gwffd.jpg?s=128&g=1", "display_name": "htshame", "link": "https://stackoverflow.com/users/6012939/htshame"}, "is_accepted": false, "score": 4, "last_activity_date": 1554884184, "creation_date": 1554884184, "answer_id": 55607818, "question_id": 55607507, "link": "https://stackoverflow.com/questions/55607507/spring-boot-angular-application/55607818#55607818", "title": "Spring Boot + Angular Application", "body": "<p>I'd recommend <a href=\"https://github.com/eirslett/frontend-maven-plugin\" rel=\"noreferrer\">frontend-maven-plugin</a>, it really can do the trick.</p>\n\n<p>You may check out this <a href=\"https://github.com/htshame/March-8-jokester-quest-app\" rel=\"noreferrer\">github repository</a>. It's a simple Spring-boot + Angular app, only the packaging is <code>jar</code> and frontend code is in the separate module, but the idea of what you need seems to be the same.</p>\n"}, {"tags": [], "owner": {"reputation": 817, "user_id": 2959589, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5909d5c3e7954fd31e308f370894259c?s=128&d=identicon&r=PG&f=1", "display_name": "user2959589", "link": "https://stackoverflow.com/users/2959589/user2959589"}, "is_accepted": false, "score": 0, "last_activity_date": 1555009152, "creation_date": 1555009152, "answer_id": 55639472, "question_id": 55607507, "link": "https://stackoverflow.com/questions/55607507/spring-boot-angular-application/55639472#55639472", "title": "Spring Boot + Angular Application", "body": "<p><a href=\"https://github.com/chiralsoftware/maven-typescript-obfuscation\" rel=\"nofollow noreferrer\">This link</a> shows using Spring Boot with Grunt to compile TypeScript. It's not exactly the same as Angular but it shows how to use the Maven frontend plugin.</p>\n"}, {"tags": [], "owner": {"reputation": 196, "user_id": 10298451, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KFqaNsbh1IA/AAAAAAAAAAI/AAAAAAAAAAs/M45030-sCwE/photo.jpg?sz=128", "display_name": "Chamikara Samarasekara", "link": "https://stackoverflow.com/users/10298451/chamikara-samarasekara"}, "is_accepted": false, "score": 0, "last_activity_date": 1571887383, "creation_date": 1571887383, "answer_id": 58533691, "question_id": 55607507, "link": "https://stackoverflow.com/questions/55607507/spring-boot-angular-application/58533691#58533691", "title": "Spring Boot + Angular Application", "body": "<p>You can use this open source template. It is maven multi model repository. Go to repository and click use this template button.</p>\n\n<p><a href=\"https://github.com/chamikara1998/spring_angular_template\" rel=\"nofollow noreferrer\">Template</a></p>\n"}], "owner": {"reputation": 243, "user_id": 7262080, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/755e8bc2f6e6a70c5a390738bc9182cd?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun", "link": "https://stackoverflow.com/users/7262080/tarun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1753, "favorite_count": 1, "answer_count": 3, "score": 2, "last_activity_date": 1580390294, "creation_date": 1554883096, "last_edit_date": 1580390294, "question_id": 55607507, "link": "https://stackoverflow.com/questions/55607507/spring-boot-angular-application", "title": "Spring Boot + Angular Application", "body": "<p>I am trying to build a Spring Boot Application where Angular would serve as frontend and Spring-Boot would serve as backend. I want to make it <code>war</code> deployable. </p>\n\n<p>I tried searching many links on the web, the understanding I have got so far is: Spring-Boot would run on 8080 port and angular would run on 4200. I am confused as to how it would work as a single unit so as to be able to run it as an independent Spring-Boot application and also as <code>war</code> deployable.</p>\n\n<p>I have seen other approaches on the web, creating separate <code>war</code> files for Spring-Boot and Angular, creating separate projects then dumping the dist generated of angular into the spring boot project but my requirement is not getting fulfilled. </p>\n\n<p>I want to build a single Spring-Boot project and in the <code>webapps</code> folder of this project, I maintain all the Angular code. Thus I want to connect both Spring-Boot and Angular and be able to run it as Spring-Boot application and as <code>war</code> deployable.</p>\n"}, {"tags": ["reactjs", "typescript", "tslint"], "answers": [{"tags": [], "owner": {"reputation": 656, "user_id": 3639633, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JSIDP.jpg?s=128&g=1", "display_name": "wrager", "link": "https://stackoverflow.com/users/3639633/wrager"}, "is_accepted": true, "score": 1, "last_activity_date": 1554883659, "creation_date": 1554883659, "answer_id": 55607674, "question_id": 55607279, "link": "https://stackoverflow.com/questions/55607279/reacttslint-ban-the-mac-smart-quote-character/55607674#55607674", "title": "React:TSLint - Ban the mac &#39;smart quote&#39; character?", "body": "<p>It seems that there is no rule that provides character banning. You can write custom rule as described in the <a href=\"https://palantir.github.io/tslint/develop/custom-rules/\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n\n<p>See also <a href=\"https://stackoverflow.com/a/40394298/3639633\">https://stackoverflow.com/a/40394298/3639633</a> .</p>\n"}], "owner": {"reputation": 357, "user_id": 6653258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e5aaef5fc1da3eb88e86242acdc5653?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Chapel", "link": "https://stackoverflow.com/users/6653258/mark-chapel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 55607674, "answer_count": 1, "score": 1, "last_activity_date": 1554883659, "creation_date": 1554882252, "question_id": 55607279, "link": "https://stackoverflow.com/questions/55607279/reacttslint-ban-the-mac-smart-quote-character", "title": "React:TSLint - Ban the mac &#39;smart quote&#39; character?", "body": "<p>One of our designers likes to use mac smart quotes/apostrophes in his mockups, but we don't want them showing up ANYWHERE in the code. Is there a way to create a rule using TSLint that will warn (or even ban) specific characters like this from the entire codebase?</p>\n\n<p>Smart quote example: <code>you\u2019ll</code></p>\n\n<p>Dumb quote example: <code>you'll</code></p>\n\n<p>As you can see, it's pretty hard to see the difference and catch them in real time. They don't cause errors, but for consistency we don't want them finding their way in from copy/pastes.</p>\n"}, {"tags": ["javascript", "typescript", "inferred-type"], "comments": [{"owner": {"reputation": 68461, "user_id": 90527, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/62d3a421bbe13cae0425a563579618ae?s=128&d=identicon&r=PG", "display_name": "outis", "link": "https://stackoverflow.com/users/90527/outis"}, "edited": false, "score": 0, "creation_date": 1554953006, "post_id": 55607173, "comment_id": 97940928, "body": "Is the <code>view</code> argument in <code>Component&lt;T&gt;</code>&#39;s constructor supposed to be declared as a member (with e.g. a <code>public</code> modifier)? However, even with the modifier added, the type of the <code>state</code> argument to <code>view</code> in <code>AboutPage</code> is inferred to be <code>any</code>. Overloading and LSP may be at play."}], "answers": [{"comments": [{"owner": {"reputation": 6959, "user_id": 668190, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mE0Sj.jpg?s=128&g=1", "display_name": "r0skar", "link": "https://stackoverflow.com/users/668190/r0skar"}, "edited": false, "score": 0, "creation_date": 1554882693, "post_id": 55607266, "comment_id": 97909412, "body": "But isn&#39;t it already defined in the lib&#39;s <code>Component</code> class: <code>constructor(state?: T, view?: View&lt;T&gt;, update?: Update&lt;T&gt;);</code>? What I am having trouble with is understanding why the type for the property <code>state</code> is inferred and why isn&#39;t the same thing happening for the parameter <code>state</code>?"}, {"owner": {"reputation": 656, "user_id": 3639633, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JSIDP.jpg?s=128&g=1", "display_name": "wrager", "link": "https://stackoverflow.com/users/3639633/wrager"}, "reply_to_user": {"reputation": 6959, "user_id": 668190, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mE0Sj.jpg?s=128&g=1", "display_name": "r0skar", "link": "https://stackoverflow.com/users/668190/r0skar"}, "edited": false, "score": 1, "creation_date": 1554882992, "post_id": 55607266, "comment_id": 97909592, "body": "@r0skar That is because <code>state</code> is defined as <code>Component</code>&#39;s class property <code>readonly state: T</code>. But the <code>view</code> is defined only in your code, where is no type definition, so it&#39;s type is inferred from <code>view = (state) =&gt; &lt;div&gt;About&lt;&#47;div&gt;</code> declaration."}, {"owner": {"reputation": 6959, "user_id": 668190, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mE0Sj.jpg?s=128&g=1", "display_name": "r0skar", "link": "https://stackoverflow.com/users/668190/r0skar"}, "edited": false, "score": 0, "creation_date": 1554883416, "post_id": 55607266, "comment_id": 97909814, "body": "Oh I see. Thanks for clearing things up. One last thing: you say I should define <code>view: View&lt;T&gt;</code> in my own Component (which works). But when why isnt it working when I define <code>view: View&lt;T&gt;;</code> (the same way <code>state</code> is defined) in the lib&#39;s Component declaration file?"}, {"owner": {"reputation": 656, "user_id": 3639633, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JSIDP.jpg?s=128&g=1", "display_name": "wrager", "link": "https://stackoverflow.com/users/3639633/wrager"}, "reply_to_user": {"reputation": 6959, "user_id": 668190, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mE0Sj.jpg?s=128&g=1", "display_name": "r0skar", "link": "https://stackoverflow.com/users/668190/r0skar"}, "edited": false, "score": 0, "creation_date": 1554883958, "post_id": 55607266, "comment_id": 97910112, "body": "I have no idea since I can&#39;t see the code. Is there an error in the declaration file or the same problem as in the question?"}, {"owner": {"reputation": 6959, "user_id": 668190, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mE0Sj.jpg?s=128&g=1", "display_name": "r0skar", "link": "https://stackoverflow.com/users/668190/r0skar"}, "edited": false, "score": 0, "creation_date": 1554884076, "post_id": 55607266, "comment_id": 97910182, "body": "The same problem as in the question. The parameter type in my Component is not  inferred. I think it is the same issue as described <a href=\"https://stackoverflow.com/questions/52123541/typescript-infer-function-parameters-in-derived-class\">here</a> and on <a href=\"https://github.com/Microsoft/TypeScript/issues/23911\" rel=\"nofollow noreferrer\">github</a> and out of scope for my original question."}, {"owner": {"reputation": 656, "user_id": 3639633, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JSIDP.jpg?s=128&g=1", "display_name": "wrager", "link": "https://stackoverflow.com/users/3639633/wrager"}, "reply_to_user": {"reputation": 6959, "user_id": 668190, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mE0Sj.jpg?s=128&g=1", "display_name": "r0skar", "link": "https://stackoverflow.com/users/668190/r0skar"}, "edited": false, "score": 0, "creation_date": 1554884295, "post_id": 55607266, "comment_id": 97910298, "body": "Hmm, yes, it seems like that problem."}], "tags": [], "owner": {"reputation": 656, "user_id": 3639633, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JSIDP.jpg?s=128&g=1", "display_name": "wrager", "link": "https://stackoverflow.com/users/3639633/wrager"}, "is_accepted": true, "score": 1, "last_activity_date": 1554883213, "last_edit_date": 1554883213, "creation_date": 1554882213, "answer_id": 55607266, "question_id": 55607173, "link": "https://stackoverflow.com/questions/55607173/automatic-type-inference-for-class-property-parameters/55607266#55607266", "title": "Automatic type inference for class property parameters", "body": "<p>That is because <code>state</code> is defined as <code>Component</code>'s class property: <code>readonly state: T</code>. But <code>view</code> is defined only in your code, where is no type definition, so it's type is inferred from <code>view = (state) =&gt; &lt;div&gt;About&lt;/div&gt;</code> declaration, and so it is <code>(state: any) =&gt; JSX.Element</code>.</p>\n\n<p>You should define <code>view: View&lt;T&gt;</code> in your own Component class that will be inherited from <code>Component</code>, or define the type of <code>state</code> argument: <code>state: State</code>.</p>\n"}], "owner": {"reputation": 6959, "user_id": 668190, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mE0Sj.jpg?s=128&g=1", "display_name": "r0skar", "link": "https://stackoverflow.com/users/668190/r0skar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 55607266, "answer_count": 1, "score": 0, "last_activity_date": 1554883213, "creation_date": 1554881888, "last_edit_date": 1554882841, "question_id": 55607173, "link": "https://stackoverflow.com/questions/55607173/automatic-type-inference-for-class-property-parameters", "title": "Automatic type inference for class property parameters", "body": "<p>I am using a library called <a href=\"https://github.com/yysun/apprun\" rel=\"nofollow noreferrer\">apprun</a>. The Component class type defintion (here is <a href=\"https://github.com/yysun/apprun/blob/master/src/component.ts\" rel=\"nofollow noreferrer\">its implementation</a>) looks as follow:</p>\n\n<pre><code>  export type View&lt;T&gt; = (state: T) =&gt; string | VNode | VNode[] | void;\n\n  export class Component&lt;T=any&gt; {\n    constructor(state?: T, view?: View&lt;T&gt;, update?: Update&lt;T&gt;);\n    readonly state: T;\n    setState(state: T, options?: { render?: boolean, history?: boolean }): void;\n    mount(element?: Element, options?: { render?: boolean, history?, global_event?: boolean }): Component&lt;T&gt;;\n    start(element?: Element, options?: { render?: boolean, history?, global_event?: boolean }): Component&lt;T&gt;;\n    on(name: string, fn: (...args: any[]) =&gt; void, options?: any): void;\n    run(name: string, ...args: any[]): number;\n    rendered: (state: T) =&gt; void;\n    mounted: (props: any) =&gt; void;\n    unmount: () =&gt; void;\n    unload: () =&gt; void;\n  }\n</code></pre>\n\n<p>When I use this class in my own components, I am having issues with the type inference:</p>\n\n<pre><code>interface State {\n  foo: string\n}\n\nexport class AboutPage extends Component&lt;State&gt; {\n  // State is correctly inferred.\n  // Changing `foo` to be `1` will cause an error.\n  state = {\n    foo: 'bar'\n  }\n\n  // Parameter `state` implicitly has an 'any' type.\n  // Why is the parameter not inferred just like the `state` property?\n  view = (state) =&gt; &lt;div&gt;About&lt;/div&gt;\n}\n</code></pre>\n\n<p>What I am having trouble with is understanding why the type for the property <code>state</code> is inferred and why isn't the same thing happening for the parameter <code>state</code>?</p>\n"}, {"tags": ["node.js", "typescript", "ravendb"], "comments": [{"owner": {"reputation": 2687, "user_id": 1269732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BrHDr.png?s=128&g=1", "display_name": "Stock Overflaw", "link": "https://stackoverflow.com/users/1269732/stock-overflaw"}, "edited": false, "score": 0, "creation_date": 1554886583, "post_id": 55607170, "comment_id": 97911561, "body": "Shouldn&#39;t <code>groupBy</code> apply to the query, i.e. <i>before</i> getting the <code>statistics</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 9345181, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VnoAl9P35Rs/AAAAAAAAAAI/AAAAAAAA_Cg/NZZxb_voAIs/photo.jpg?sz=128", "display_name": "gregolsky", "link": "https://stackoverflow.com/users/9345181/gregolsky"}, "is_accepted": false, "score": 4, "last_activity_date": 1554892819, "last_edit_date": 1554892819, "creation_date": 1554890996, "answer_id": 55609938, "question_id": 55607170, "link": "https://stackoverflow.com/questions/55607170/groupby-query-with-noedjs-ravendb-client/55609938#55609938", "title": "groupBy query with noedjs ravendb client", "body": "<p>Document query's <code>groupBy()</code> method returns an object of type <a href=\"https://github.com/ravendb/ravendb-nodejs-client/blob/v4.1/src/Documents/Session/IGroupByDocumentQuery.ts\" rel=\"nofollow noreferrer\"><code>IGroupByDocumentQuery</code></a>\nAs you can see it does not have <code>all()</code> method. </p>\n\n<p>You can use <code>selectKey()</code>, <code>selectCount()</code> or <code>selectSum()</code> for aggregation and then chain it with <code>all()</code>. E.g.:</p>\n\n<pre><code>const { GroupByField } = require(\"ravendb\");\n\nconst orders = await session.query({ collection: \"Orders\" })\n    .groupBy(\"ShipTo.Country\")\n    .selectKey(\"ShipTo.Country\", \"Country\")\n    .selectSum(new GroupByField(\"Lines[].Quantity\", \"OrderedQuantity\"))\n    .all();\n</code></pre>\n\n<p>For more details and examples please refer to <a href=\"https://ravendb.net/docs/article-page/4.1/nodejs/client-api/session/querying/how-to-perform-group-by-query\" rel=\"nofollow noreferrer\">official documentation</a>: </p>\n"}], "owner": {"reputation": 41, "user_id": 1869778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c835c677a8e76bebed0c50e05919e213?s=128&d=identicon&r=PG", "display_name": "vmt", "link": "https://stackoverflow.com/users/1869778/vmt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1554892819, "creation_date": 1554881882, "question_id": 55607170, "link": "https://stackoverflow.com/questions/55607170/groupby-query-with-noedjs-ravendb-client", "title": "groupBy query with noedjs ravendb client", "body": "<p>I am trying to perform <code>groupBy</code> query on ravendb, using <a href=\"https://github.com/ravendb/ravendb-nodejs-client\" rel=\"nofollow noreferrer\">nodejs-ravendb-client</a>!</p>\n\n<p><code>const apmts = await session.query&lt;Appointment&gt;({ collection: \"Appointments\" })\n      .statistics(s =&gt; (stats = s))\n      .groupBy(\"client.name\").all();</code></p>\n\n<p>facing this error on typescript compile <code>Property 'all' does not exist on type 'IGroupByDocumentQuery&lt;Appointment&gt;'.ts(2339)</code></p>\n\n<p>Any help here?</p>\n"}, {"tags": ["javascript", "html", "json", "angular", "typescript"], "comments": [{"owner": {"reputation": 591, "user_id": 9176461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f55e8c4bacf465accdc786b9ec1b392?s=128&d=identicon&r=PG&f=1", "display_name": "J. Knabenschuh", "link": "https://stackoverflow.com/users/9176461/j-knabenschuh"}, "edited": false, "score": 1, "creation_date": 1554880836, "post_id": 55606827, "comment_id": 97908388, "body": "what do you already tried? please share your tries."}, {"owner": {"reputation": 23, "user_id": 11338646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf43d115df7b4a57eafa54ec39689264?s=128&d=identicon&r=PG&f=1", "display_name": "Jainil Sharma", "link": "https://stackoverflow.com/users/11338646/jainil-sharma"}, "reply_to_user": {"reputation": 591, "user_id": 9176461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f55e8c4bacf465accdc786b9ec1b392?s=128&d=identicon&r=PG&f=1", "display_name": "J. Knabenschuh", "link": "https://stackoverflow.com/users/9176461/j-knabenschuh"}, "edited": false, "score": 0, "creation_date": 1554881331, "post_id": 55606827, "comment_id": 97908698, "body": "@J.Knabenschuh I tried this  &lt;tr *ngFor=&quot;let diet of dietplan | keyvalue&quot;&gt;         &lt;td &gt;{{diet.key}}&lt;/td&gt;       &lt;/tr&gt; but this is giving me output as week1."}, {"owner": {"reputation": 591, "user_id": 9176461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f55e8c4bacf465accdc786b9ec1b392?s=128&d=identicon&r=PG&f=1", "display_name": "J. Knabenschuh", "link": "https://stackoverflow.com/users/9176461/j-knabenschuh"}, "edited": false, "score": 0, "creation_date": 1554881667, "post_id": 55606827, "comment_id": 97908874, "body": "It will give you &quot;week1&quot; because your strcuture&#180;s first layer are weeks. So do you also want to show your weeks within your table? how do you want to show your table? But the pipe is a good way so far, but you have to get clear what you want to display. then you have to transform your datastructure to handle in your html."}, {"owner": {"reputation": 3351, "user_id": 5483580, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_nU33sjf1SI/AAAAAAAAAAI/AAAAAAAASgQ/VOkKnOIxP8g/photo.jpg?sz=128", "display_name": "Negi Rox", "link": "https://stackoverflow.com/users/5483580/negi-rox"}, "edited": false, "score": 0, "creation_date": 1554881967, "post_id": 55606827, "comment_id": 97909023, "body": "the answer is no."}, {"owner": {"reputation": 23, "user_id": 11338646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf43d115df7b4a57eafa54ec39689264?s=128&d=identicon&r=PG&f=1", "display_name": "Jainil Sharma", "link": "https://stackoverflow.com/users/11338646/jainil-sharma"}, "reply_to_user": {"reputation": 591, "user_id": 9176461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f55e8c4bacf465accdc786b9ec1b392?s=128&d=identicon&r=PG&f=1", "display_name": "J. Knabenschuh", "link": "https://stackoverflow.com/users/9176461/j-knabenschuh"}, "edited": false, "score": 0, "creation_date": 1554881968, "post_id": 55606827, "comment_id": 97909026, "body": "@J.Knabenschuh I want to show like  Monday    &quot;time&quot;: &quot;10:00 AM&quot;,                  &quot;diet&quot;: &quot;3 eggs&quot;,                  &quot;calories&quot;: &quot;150&quot;                   &quot;time&quot;: &quot;12:00 PM&quot;,                  &quot;diet&quot;: &quot;2 eggs&quot;,                  &quot;calories&quot;: &quot;100&quot;  Tuesday     same as above"}, {"owner": {"reputation": 23, "user_id": 11338646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf43d115df7b4a57eafa54ec39689264?s=128&d=identicon&r=PG&f=1", "display_name": "Jainil Sharma", "link": "https://stackoverflow.com/users/11338646/jainil-sharma"}, "reply_to_user": {"reputation": 3351, "user_id": 5483580, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_nU33sjf1SI/AAAAAAAAAAI/AAAAAAAASgQ/VOkKnOIxP8g/photo.jpg?sz=128", "display_name": "Negi Rox", "link": "https://stackoverflow.com/users/5483580/negi-rox"}, "edited": false, "score": 0, "creation_date": 1554882031, "post_id": 55606827, "comment_id": 97909058, "body": "@NegiRox what can be done then?"}, {"owner": {"reputation": 357, "user_id": 7258113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fe38ed7bb08f4ff7007e31dbe27ad76?s=128&d=identicon&r=PG&f=1", "display_name": "Anusha_Mamidala", "link": "https://stackoverflow.com/users/7258113/anusha-mamidala"}, "edited": false, "score": 1, "creation_date": 1554882083, "post_id": 55606827, "comment_id": 97909084, "body": "will you have multiple week plans like week1 and week2 and so on and do you want to display them in the same table if you want what it should look like"}, {"owner": {"reputation": 23, "user_id": 11338646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf43d115df7b4a57eafa54ec39689264?s=128&d=identicon&r=PG&f=1", "display_name": "Jainil Sharma", "link": "https://stackoverflow.com/users/11338646/jainil-sharma"}, "reply_to_user": {"reputation": 357, "user_id": 7258113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fe38ed7bb08f4ff7007e31dbe27ad76?s=128&d=identicon&r=PG&f=1", "display_name": "Anusha_Mamidala", "link": "https://stackoverflow.com/users/7258113/anusha-mamidala"}, "edited": false, "score": 1, "creation_date": 1554882140, "post_id": 55606827, "comment_id": 97909125, "body": "@Anusha_Mamidala yes i will have multiple weeks as you said, and each will week have days monday to sunday."}, {"owner": {"reputation": 3351, "user_id": 5483580, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_nU33sjf1SI/AAAAAAAAAAI/AAAAAAAASgQ/VOkKnOIxP8g/photo.jpg?sz=128", "display_name": "Negi Rox", "link": "https://stackoverflow.com/users/5483580/negi-rox"}, "edited": false, "score": 0, "creation_date": 1554882206, "post_id": 55606827, "comment_id": 97909157, "body": "we can show your diet plan of any day in tabular format"}, {"owner": {"reputation": 23, "user_id": 11338646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf43d115df7b4a57eafa54ec39689264?s=128&d=identicon&r=PG&f=1", "display_name": "Jainil Sharma", "link": "https://stackoverflow.com/users/11338646/jainil-sharma"}, "reply_to_user": {"reputation": 3351, "user_id": 5483580, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_nU33sjf1SI/AAAAAAAAAAI/AAAAAAAASgQ/VOkKnOIxP8g/photo.jpg?sz=128", "display_name": "Negi Rox", "link": "https://stackoverflow.com/users/5483580/negi-rox"}, "edited": false, "score": 0, "creation_date": 1554882302, "post_id": 55606827, "comment_id": 97909205, "body": "@NegiRox how ? can you please tell"}, {"owner": {"reputation": 357, "user_id": 7258113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fe38ed7bb08f4ff7007e31dbe27ad76?s=128&d=identicon&r=PG&f=1", "display_name": "Anusha_Mamidala", "link": "https://stackoverflow.com/users/7258113/anusha-mamidala"}, "edited": false, "score": 0, "creation_date": 1554882355, "post_id": 55606827, "comment_id": 97909229, "body": "Can you please share any pictorial representation of how it should look like.. so that i can help you out creating table"}, {"owner": {"reputation": 23, "user_id": 11338646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf43d115df7b4a57eafa54ec39689264?s=128&d=identicon&r=PG&f=1", "display_name": "Jainil Sharma", "link": "https://stackoverflow.com/users/11338646/jainil-sharma"}, "reply_to_user": {"reputation": 357, "user_id": 7258113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fe38ed7bb08f4ff7007e31dbe27ad76?s=128&d=identicon&r=PG&f=1", "display_name": "Anusha_Mamidala", "link": "https://stackoverflow.com/users/7258113/anusha-mamidala"}, "edited": false, "score": 1, "creation_date": 1554882868, "post_id": 55606827, "comment_id": 97909517, "body": "@Anusha_Mamidala <a href=\"https://ibb.co/KDqfZc4\" rel=\"nofollow noreferrer\">ibb.co/KDqfZc4</a>"}, {"owner": {"reputation": 591, "user_id": 9176461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f55e8c4bacf465accdc786b9ec1b392?s=128&d=identicon&r=PG&f=1", "display_name": "J. Knabenschuh", "link": "https://stackoverflow.com/users/9176461/j-knabenschuh"}, "edited": false, "score": 0, "creation_date": 1554883413, "post_id": 55606827, "comment_id": 97909811, "body": "I updated my version corresponding to your snippet"}], "answers": [{"tags": [], "owner": {"reputation": 3351, "user_id": 5483580, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_nU33sjf1SI/AAAAAAAAAAI/AAAAAAAASgQ/VOkKnOIxP8g/photo.jpg?sz=128", "display_name": "Negi Rox", "link": "https://stackoverflow.com/users/5483580/negi-rox"}, "is_accepted": false, "score": -2, "last_activity_date": 1554882523, "creation_date": 1554882523, "answer_id": 55607357, "question_id": 55606827, "link": "https://stackoverflow.com/questions/55606827/how-to-display-key-values-in-html-table/55607357#55607357", "title": "How to display key values in HTML table?", "body": "<p>you can see a below code  to generate table from json</p>\n\n<pre><code>var _table_ = document.createElement('table'),\n    _tr_ = document.createElement('tr'),\n    _th_ = document.createElement('th'),\n    _td_ = document.createElement('td');\n\n// Builds the HTML Table out of myList json data from Ivy restful service.\n function buildHtmlTable(arr) {\n     var table = _table_.cloneNode(false),\n         columns = addAllColumnHeaders(arr, table);\n     for (var i=0, maxi=arr.length; i &lt; maxi; ++i) {\n         var tr = _tr_.cloneNode(false);\n         for (var j=0, maxj=columns.length; j &lt; maxj ; ++j) {\n             var td = _td_.cloneNode(false);\n                 cellValue = arr[i][columns[j]];\n             td.appendChild(document.createTextNode(arr[i][columns[j]] || ''));\n             tr.appendChild(td);\n         }\n         table.appendChild(tr);\n     }\n     return table;\n }\n\n // Adds a header row to the table and returns the set of columns.\n // Need to do union of keys from all records as some records may not contain\n // all records\n function addAllColumnHeaders(arr, table)\n {\n     var columnSet = [],\n         tr = _tr_.cloneNode(false);\n     for (var i=0, l=arr.length; i &lt; l; i++) {\n         for (var key in arr[i]) {\n             if (arr[i].hasOwnProperty(key) &amp;&amp; columnSet.indexOf(key)===-1) {\n                 columnSet.push(key);\n                 var th = _th_.cloneNode(false);\n                 th.appendChild(document.createTextNode(key));\n                 tr.appendChild(th);\n             }\n         }\n     }\n     table.appendChild(tr);\n     return columnSet;\n }\nvar source={\n                          \"Monday\": [\n                            {\n                              \"time\": \"10:00 AM\",\n                              \"diet\": \"3 eggs\",\n                              \"calories\": \"150\"\n                            },\n                            {\n                              \"time\": \"12:00 PM\",\n                              \"diet\": \"2 eggs\",\n                              \"calories\": \"100\"\n                            }\n                          ],\n                          \"Tuesday\": [\n                            {\n                              \"time\": \"10:00 AM\",\n                              \"diet\": \"3 eggs\",\n                              \"calories\": \"150\"\n                            },\n                            {\n                              \"time\": \"12:00 PM\",\n                              \"diet\": \"2 eggs\",\n                              \"calories\": \"100\"\n                            }\n                          ]\n                        }\n\ndocument.body.appendChild(buildHtmlTable(source[\"Monday\"]));\n</code></pre>\n\n<p>see working example <a href=\"http://jsfiddle.net/Negirox/qp0wdu16/\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 11338646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf43d115df7b4a57eafa54ec39689264?s=128&d=identicon&r=PG&f=1", "display_name": "Jainil Sharma", "link": "https://stackoverflow.com/users/11338646/jainil-sharma"}, "edited": false, "score": 0, "creation_date": 1554884969, "post_id": 55607517, "comment_id": 97910621, "body": "This worked, but for me the output of days is not coming in serial order. output: <a href=\"https://ibb.co/s3TJ0MF\" rel=\"nofollow noreferrer\">ibb.co/s3TJ0MF</a>"}, {"owner": {"reputation": 23, "user_id": 11338646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf43d115df7b4a57eafa54ec39689264?s=128&d=identicon&r=PG&f=1", "display_name": "Jainil Sharma", "link": "https://stackoverflow.com/users/11338646/jainil-sharma"}, "edited": false, "score": 0, "creation_date": 1554885057, "post_id": 55607517, "comment_id": 97910684, "body": "I tweaked your code little bit: I tweaked your angular code to this: &lt;table class=&quot;table table-hover&quot; [id]=&quot;mytable&quot;&gt;         &lt;tbody&gt;           &lt;ng-container *ngFor=&quot;let diet of dietplan | keyvalue&quot;&gt;             &lt;tr *ngFor=&quot;let day of diet.value | keyvalue&quot;&gt;&lt;td&gt;{{day.key}}&lt;/td&gt;             &lt;ng-container *ngFor=&quot;let row of day.value&quot;&gt;               &lt;td&gt;{{row.time || string}}&lt;br&gt;               {{row.diet || string}}&lt;br&gt;               {{row.calories || string}}&lt;br&gt;&lt;/td&gt;             &lt;/ng-container&gt;           &lt;/ng-container&gt;         &lt;/tbody&gt;       &lt;/table&gt;"}, {"owner": {"reputation": 591, "user_id": 9176461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f55e8c4bacf465accdc786b9ec1b392?s=128&d=identicon&r=PG&f=1", "display_name": "J. Knabenschuh", "link": "https://stackoverflow.com/users/9176461/j-knabenschuh"}, "reply_to_user": {"reputation": 23, "user_id": 11338646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf43d115df7b4a57eafa54ec39689264?s=128&d=identicon&r=PG&f=1", "display_name": "Jainil Sharma", "link": "https://stackoverflow.com/users/11338646/jainil-sharma"}, "edited": false, "score": 0, "creation_date": 1554886333, "post_id": 55607517, "comment_id": 97911405, "body": "I updated my post with your tweak. To get right order you have to sort the values. Because of your datastructure you have to sort by the weekday name. Easiest way to achieve that, is to right your own sort pipe sorting statically by weekday-name."}, {"owner": {"reputation": 591, "user_id": 9176461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f55e8c4bacf465accdc786b9ec1b392?s=128&d=identicon&r=PG&f=1", "display_name": "J. Knabenschuh", "link": "https://stackoverflow.com/users/9176461/j-knabenschuh"}, "reply_to_user": {"reputation": 23, "user_id": 11338646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf43d115df7b4a57eafa54ec39689264?s=128&d=identicon&r=PG&f=1", "display_name": "Jainil Sharma", "link": "https://stackoverflow.com/users/11338646/jainil-sharma"}, "edited": false, "score": 0, "creation_date": 1554887238, "post_id": 55607517, "comment_id": 97911971, "body": "Now I also added the pipe see the fiddle in my post, I also updated the sourecode. Hope it helped, if so please mark the post"}, {"owner": {"reputation": 23, "user_id": 11338646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf43d115df7b4a57eafa54ec39689264?s=128&d=identicon&r=PG&f=1", "display_name": "Jainil Sharma", "link": "https://stackoverflow.com/users/11338646/jainil-sharma"}, "edited": false, "score": 0, "creation_date": 1554895353, "post_id": 55607517, "comment_id": 97916775, "body": "Thank you, you are a life savior :)"}], "tags": [], "owner": {"reputation": 591, "user_id": 9176461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f55e8c4bacf465accdc786b9ec1b392?s=128&d=identicon&r=PG&f=1", "display_name": "J. Knabenschuh", "link": "https://stackoverflow.com/users/9176461/j-knabenschuh"}, "is_accepted": true, "score": 0, "last_activity_date": 1554887161, "last_edit_date": 1554887161, "creation_date": 1554883139, "answer_id": 55607517, "question_id": 55606827, "link": "https://stackoverflow.com/questions/55606827/how-to-display-key-values-in-html-table/55607517#55607517", "title": "How to display key values in HTML table?", "body": "<p>try something like the following - see <a href=\"https://stackblitz.com/edit/angular-week-table\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-week-table</a></p>\n\n<p>html</p>\n\n<pre><code>&lt;table class=\"table table-hover\" [id]=\"mytable\"&gt; \n  &lt;tbody&gt; \n    &lt;ng-container *ngFor=\"let diet of dietplan | keyvalue\"&gt; \n      &lt;tr *ngFor=\"let day of diet.value | keyvalue | sortWeekday\"&gt;\n        &lt;td&gt;{{day.key}}&lt;/td&gt; \n        &lt;ng-container *ngFor=\"let row of day.value\"&gt; \n          &lt;td&gt;{{row.time || string}}&lt;br&gt; {{row.diet || string}}&lt;br&gt; {{row.calories || string}}&lt;br&gt;&lt;/td&gt;\n        &lt;/ng-container&gt; \n      &lt;/ng-container&gt;\n    &lt;/tbody&gt;\n  &lt;/table&gt;\n</code></pre>\n\n<p>ts</p>\n\n<pre><code>  dietplan={\"week1\": {\n              \"Monday\": [\n                {\n                  \"time\": \"10:00 AM\",\n                  \"diet\": \"3 eggs\",\n                  \"calories\": \"150\"\n                },\n                {\n                  \"time\": \"12:00 PM\",\n                  \"diet\": \"2 eggs\",\n                  \"calories\": \"100\"\n                }\n              ],\n              \"Tuesday\": [\n                {\n                  \"time\": \"10:00 AM\",\n                  \"diet\": \"3 eggs\",\n                  \"calories\": \"150\"\n                },\n                {\n                  \"time\": \"12:00 PM\",\n                  \"diet\": \"2 eggs\",\n                  \"calories\": \"100\"\n                }\n              ]\n            }\n          };\n</code></pre>\n\n<p>pipe ts</p>\n\n<pre><code>import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({name: 'sortWeekday'})\nexport class SortWeekdayPipe implements PipeTransform {\n  transform(weekdays: any[]): any[] {\n    weekdays.sort((a, b) =&gt; {\n      let sortedWeekdays = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Staurday', 'Sunday'];\n\n      return sortedWeekdays.indexOf(a.key) - sortedWeekdays.indexOf(b.key);\n    });\n    return weekdays;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 11338646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf43d115df7b4a57eafa54ec39689264?s=128&d=identicon&r=PG&f=1", "display_name": "Jainil Sharma", "link": "https://stackoverflow.com/users/11338646/jainil-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1400, "favorite_count": 0, "accepted_answer_id": 55607517, "answer_count": 2, "score": 0, "last_activity_date": 1554887161, "creation_date": 1554880730, "last_edit_date": 1554882731, "question_id": 55606827, "link": "https://stackoverflow.com/questions/55606827/how-to-display-key-values-in-html-table", "title": "How to display key values in HTML table?", "body": "<p>Can someone show me how can I display Monday, Tuesday... in a column of HTML table. I want to display the whole object in the tabular format and show it in an HTML page. What can be done?</p>\n\n<pre><code>this.dietplan={\n                        \"week1\": {\n                          \"Monday\": [\n                            {\n                              \"time\": \"10:00 AM\",\n                              \"diet\": \"3 eggs\",\n                              \"calories\": \"150\"\n                            },\n                            {\n                              \"time\": \"12:00 PM\",\n                              \"diet\": \"2 eggs\",\n                              \"calories\": \"100\"\n                            }\n                          ],\n                          \"Tuesday\": [\n                            {\n                              \"time\": \"10:00 AM\",\n                              \"diet\": \"3 eggs\",\n                              \"calories\": \"150\"\n                            },\n                            {\n                              \"time\": \"12:00 PM\",\n                              \"diet\": \"2 eggs\",\n                              \"calories\": \"100\"\n                            }\n                          ]\n                        }\n                      }\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "state", "antd"], "answers": [{"tags": [], "owner": {"reputation": 2423, "user_id": 3719788, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dd938fcc7f45ebb987ce057e62d6515a?s=128&d=identicon&r=PG&f=1", "display_name": "Triyugi Narayan Mani", "link": "https://stackoverflow.com/users/3719788/triyugi-narayan-mani"}, "is_accepted": true, "score": 3, "last_activity_date": 1554894887, "creation_date": 1554894887, "answer_id": 55611189, "question_id": 55606813, "link": "https://stackoverflow.com/questions/55606813/upload-component-not-behaving-as-expected-when-supplied-with-the-default-file-li/55611189#55611189", "title": "Upload component not behaving as expected when supplied with the default file list", "body": "<p>If I am understanding your code correctly, I think <code>this.props.prefil</code> contains the files uploaded on the server. If it is correct, then you need to change the code of <code>componentWillReceiveProps</code> so that it will run only once as given below.</p>\n\n<p>First, you can set initial state as:</p>\n\n<pre><code>this.state = {updateFlag: true};\n</code></pre>\n\n<p>And then in <code>componentWillReceiveProps</code> as:</p>\n\n<pre><code>componentWillReceiveProps(nextProps: FormComponentProps &amp; oprops) {\n    if (this.props.prefil.length &gt; 0 &amp;&amp; this.state.updateFlag) {\n        this.setState({\n            uploadFieldIdContainer: this.getTotalDefaultDocuments(),\n            defaultMap: this.prepareDefaultFileMap(),\n            updateFlag: false,\n        });\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 19471, "user_id": 648138, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/gzQEA.jpg?s=128&g=1", "display_name": "Suhail Gupta", "link": "https://stackoverflow.com/users/648138/suhail-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1286, "favorite_count": 1, "accepted_answer_id": 55611189, "answer_count": 1, "score": 5, "last_activity_date": 1554894887, "creation_date": 1554880682, "last_edit_date": 1554881467, "question_id": 55606813, "link": "https://stackoverflow.com/questions/55606813/upload-component-not-behaving-as-expected-when-supplied-with-the-default-file-li", "title": "Upload component not behaving as expected when supplied with the default file list", "body": "<p>I have written a small component building on <a href=\"https://ant.design/components/upload/\" rel=\"nofollow noreferrer\">antd upload</a> using which user could upload multiple files to the server. I have spent a lot of time debugging, but cannot understand some of its behaviors. The component looks as follows:</p>\n\n<p><a href=\"https://i.stack.imgur.com/WNMtg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WNMtg.png\" alt=\"enter image description here\"></a></p>\n\n<p>There are 2 problems that I am facing:</p>\n\n<ul>\n<li>Whenever the component is given a <code>prefil</code> that contains the files already uploaded to the server, I am unable to add new files. As I try to upload a new file after clicking <code>Add Another</code> which looks as follows</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/0im8Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0im8Z.png\" alt=\"enter image description here\"></a></p>\n\n<p>the component relapses to its default state that originally had 2 files. I just cannot figure out how could I handle this.</p>\n\n<ul>\n<li>As I try to remove one of the default-file by clicking close-icon, it appears again after I click <code>Add another</code>.</li>\n</ul>\n\n<p>I know somewhere, I am unable to manage the component's state correctly, but I just cannot figure out myself. Here is the component's code written using typescript.</p>\n\n<pre><code>    import { Button, Icon, Form, Input, Upload, message } from \"antd\";\n\n    export type DefaultFileList = {\n        uid: number | string;\n        name: string;\n        status?: string;\n        url: string;\n        fileLabel: string;\n    };\n\n    type state = {\n        uploadFieldIdContainer: number[];\n        mocAddErrorDescription?: string;\n        uploadMap: { [index: number]: UploadFile[] };\n        defaultMap: {\n            [index: number]: {\n            default: DefaultFileList[];\n            fileLabel: string;\n            };\n        };\n    };\n\n    type oprops = {\n        prefil: DefaultFileList[];\n        buttonLabel?: string;\n        type: string;\n    };\n\n    export default class DocumentUploader extends Component&lt;\n    FormComponentProps &amp; oprops,\n    state\n    &gt; {\n        private maxUploadPerButton: number;\n\n        constructor(props) {\n            super(props);\n\n            this.maxUploadPerButton = 1;\n\n            const dMap = this.prepareDefaultFileMap();\n\n            this.state = {\n            uploadFieldIdContainer: this.getTotalDefaultDocuments(),\n            uploadMap: {},\n            defaultMap: dMap\n            };\n            this.addUploadFormField = this.addUploadFormField.bind(this);\n            this.removeUploadField = this.removeUploadField.bind(this);\n        }\n\n        getTotalDefaultDocuments() {\n            if (this.props.prefil &amp;&amp; Array.isArray(this.props.prefil)) {\n            return Array.from({ length: this.props.prefil.length }, (_, k) =&gt; k + 1);\n            } else {\n            return [];\n            }\n        }\n\n        prepareDefaultFileMap() {\n            if (this.props.prefil &amp;&amp; this.props.prefil.length == 0) {\n            return {};\n            } else {\n            const dMap = {};\n            for (let i = 0; i &lt; this.props.prefil.length; i++) {\n                const p = this.props.prefil[i];\n                const flabel = p.fileLabel;\n                //delete p.fileLabel;\n                dMap[i + 1] = {\n                default: [p],\n                fileLabel: flabel\n                };\n            }\n\n            return dMap;\n            }\n        }\n\n        async componentDidMount() {}\n\n        componentWillReceiveProps(nextProps: FormComponentProps &amp; oprops) {\n            if (this.props.prefil.length &gt; 0) {\n            this.setState({\n                uploadFieldIdContainer: this.getTotalDefaultDocuments(),\n                defaultMap: this.prepareDefaultFileMap()\n            });\n            }\n        }\n\n        removeUploadField(key: number, event: React.MouseEvent&lt;HTMLElement&gt;) {\n            event.preventDefault();\n\n            /**\n            * @see https://ant.design/components/form/?locale=en-US#components-form-demo-dynamic-form-item\n            */\n\n            this.setState(prevState =&gt; ({\n            uploadFieldIdContainer: prevState.uploadFieldIdContainer.filter(\n                field =&gt; field !== key\n            )\n            }));\n        }\n\n        getUploadFileProps(key: number): { [index: string]: any } {\n            const _this = this;\n            const { defaultMap } = this.state;\n\n            const fileList = this.state.uploadMap[key] || [];\n            const defaultFileList = (defaultMap[key] &amp;&amp; defaultMap[key].default) || [];\n\n            const props = {\n            name: \"file\",\n            action: getDocumentStoreUploadApi(),\n            headers: HttpClient.requestConfig(),\n            onPreview: (file: { [index: string]: any }) =&gt; {\n                getFileFromDocumentStore(file.url, file.name);\n            },\n            beforeUpload(file: File, fileList: File[]) {\n                if (file.type.match(/image/gi)) {\n                return false;\n                } else {\n                return true;\n                }\n            },\n            multiple: false,\n            onChange(info: { [index: string]: any }) {\n                console.log(\"changed..\");\n                let fileList = info.fileList;\n                // 1. Limit the number of uploaded files\n                // Only to show 1 recent uploaded file, and old ones will be replaced by the new\n                fileList = fileList.slice(-1 * _this.maxUploadPerButton);\n\n                // 2. Read from response and show file link\n                fileList = fileList.map((file: { [index: string]: any }) =&gt; {\n                if (file.response) {\n                    // Component will show file.url as link\n                    file.url = file.response.url;\n                }\n                return file;\n                });\n\n                const { uploadMap } = _this.state;\n                Object.assign(uploadMap, { [key]: fileList });\n                _this.setState({\n                uploadMap\n                });\n\n                if (info.file.status === \"done\") {\n                message.success(`${info.file.name} file uploaded successfully`);\n                } else if (info.file.status === \"error\") {\n                message.error(`${info.file.name} file upload failed.`);\n                }\n            }\n            };\n\n            if (fileList.length &gt; 0) {\n            Object.assign(props, { fileList });\n            } else if (defaultFileList.length &gt; 0) {\n            Object.assign(props, { defaultFileList });\n            }\n\n            return props;\n        }\n\n        getUploadField(key: number) {\n            const { getFieldDecorator } = this.props.form;\n\n            const { defaultMap } = this.state;\n            const documentLabel = (defaultMap[key] &amp;&amp; defaultMap[key].fileLabel) || \"\";\n\n            return (\n            &lt;div className=\"d-flex justify-content-between\"&gt;\n                &lt;div className=\"inline-block w-55\"&gt;\n                &lt;FormItem label=\"Select File\"&gt;\n                    {getFieldDecorator(`selected_file_${this.props.type}[${key}]`, {\n                    rules: [\n                        {\n                        required: \"undefined\" === typeof defaultMap[key],\n                        message: \"Please select the file to upload\"\n                        }\n                    ]\n                    })(\n                    // &lt;input type=\"file\" id=\"input\"&gt;\n                    &lt;Upload {...this.getUploadFileProps(key)}&gt;\n                        &lt;Button disabled={false}&gt;\n                        &lt;Icon type=\"upload\" /&gt; Click to Upload\n                        &lt;/Button&gt;\n                    &lt;/Upload&gt;\n                    )}\n                &lt;/FormItem&gt;\n                &lt;/div&gt;\n\n                &lt;div className=\"inline-block w-45\"&gt;\n                &lt;FormItem label=\"File Label\"&gt;\n                    {getFieldDecorator(\n                    `selected_file_label_${this.props.type}[${key}]`,\n                    {\n                        rules: [\n                        {\n                            required: true,\n                            message: \"Please input the file label\"\n                        }\n                        ],\n                        initialValue: documentLabel\n                    }\n                    )(&lt;Input type=\"text\" /&gt;)}\n                &lt;/FormItem&gt;\n                &lt;/div&gt;\n                &lt;div className=\"inline-block pointer d-flex align-items-center\"&gt;\n                &lt;span&gt;\n                    &lt;Icon\n                    type=\"close\"\n                    onClick={this.removeUploadField.bind(this, key)}\n                    /&gt;\n                &lt;/span&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            );\n        }\n\n        addUploadFormField(event: React.MouseEvent&lt;HTMLElement&gt;) {\n            event.preventDefault();\n\n            const { uploadFieldIdContainer } = this.state;\n\n            // We only keep inside the state an array of number\n            // each one of them represent a section of fields.\n            const lastFieldId =\n            uploadFieldIdContainer[uploadFieldIdContainer.length - 1] || 0;\n            const nextFieldId = lastFieldId + 1;\n\n            this.setState({\n            uploadFieldIdContainer: uploadFieldIdContainer.concat(nextFieldId)\n            });\n        }\n\n        getMainUploadButton() {\n            return (\n            &lt;div className=\"d-flex w-100 mt-3\"&gt;\n                &lt;Button\n                type=\"primary\"\n                ghost={true}\n                className=\"w-100 letter-spacing-1\"\n                onClick={this.addUploadFormField}\n                &gt;\n                &lt;Icon type=\"plus-circle\" /&gt;\n                {this.props.buttonLabel || \"Select File(s) To Upload\"}\n                &lt;/Button&gt;\n            &lt;/div&gt;\n            );\n        }\n\n        getUploadFieldFooter() {\n            return (\n            &lt;div className=\"d-flex justify-content-between small\"&gt;\n                &lt;div className=\"inline-block\"&gt;\n                &lt;Button\n                    type=\"primary\"\n                    shape=\"circle\"\n                    icon=\"plus\"\n                    ghost={true}\n                    size=\"small\"\n                    className=\"d-font mr-1\"\n                    onClick={this.addUploadFormField}\n                /&gt;\n                &lt;div\n                    className=\"text-primary pointer d-font inline-block letter-spacing-1 mt-1\"\n                    onClick={this.addUploadFormField}\n                &gt;\n                    Add another&amp;nbsp;\n                &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            );\n        }\n\n        render() {\n            const { uploadFieldIdContainer } = this.state;\n            const mocButton = this.getMainUploadButton();\n\n            const toRender =\n            uploadFieldIdContainer.length &gt; 0 ? (\n                &lt;div&gt;\n                &lt;div className=\"w-100 p-2 gray-background br-25\"&gt;\n                    {uploadFieldIdContainer.map(fieldIndex =&gt; (\n                    &lt;div key={fieldIndex}&gt;{this.getUploadField(fieldIndex)}&lt;/div&gt;\n                    ))}\n                    {this.getUploadFieldFooter()}\n                &lt;/div&gt;\n                &lt;/div&gt;\n            ) : (\n                mocButton\n            );\n\n            return toRender;\n        }\n    }\n</code></pre>\n\n<p><code>render</code> is the main method that is rendering all the input-fields. The above component is used as follows:</p>\n\n<pre><code>      &lt;DocumentUploader\n        form={this.props.form}\n        prefil={[{\n            uid: \"somehash\",\n            name: \"name\",\n            url: \"url\",\n            fileLabel: \"label\"\n        }]}\n        type=\"test\"\n      /&gt;\n</code></pre>\n\n<p>I must restate, that there is an issue only when initializing the component with files already uploaded to the server and works perfectly fine, when trying afresh with the component i.e when uploading for the first time.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "redux-form"], "owner": {"reputation": 808, "user_id": 9160022, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cce1edae0e83895af88da976cb4c0170?s=128&d=identicon&r=PG&f=1", "display_name": "menfon", "link": "https://stackoverflow.com/users/9160022/menfon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 181, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1554880580, "creation_date": 1554880580, "question_id": 55606789, "link": "https://stackoverflow.com/questions/55606789/how-to-trigger-async-validation-in-redux-form", "title": "How to trigger async. validation in redux-form?", "body": "<p>I am using <code>asyncBlurFields</code>. I tried following actions: <code>change</code>, <code>startAsyncValidation</code>, <code>touch</code>, <code>blur</code>. None is triggering the async validation. Then I read redux-form doesn't work well with hidden inputs, so I changed type to <code>text</code> and it is still not working. Only time when async. validation is triggered is when user blurs the element.</p>\n\n<p>Is my only option to add <code>ref</code> to a form instance, dig out <code>asyncValidate</code>,  get all required parameters manually and call it myself? I hope there is a better way, I don't want to add lengthy hacks to many forms. And that is my question:</p>\n\n<p><strong>How to easily trigger <code>asyncValidate</code> without calling it with all its parameters myself?</strong></p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 692, "user_id": 568627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23f59c3ed28f066fe400346371590409?s=128&d=identicon&r=PG", "display_name": "Niraj", "link": "https://stackoverflow.com/users/568627/niraj"}, "edited": false, "score": 1, "creation_date": 1554880947, "post_id": 55606723, "comment_id": 97908447, "body": "If you want to get error instantly means not waiting for submitting or say click on submit you can do as below: <a href=\"https://stackblitz.com/angular/egbexnbeopl?file=app%2Finput-error-state-matcher-example.ts\" rel=\"nofollow noreferrer\">stackblitz.com/angular/&hellip;</a>"}, {"owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "reply_to_user": {"reputation": 692, "user_id": 568627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23f59c3ed28f066fe400346371590409?s=128&d=identicon&r=PG", "display_name": "Niraj", "link": "https://stackoverflow.com/users/568627/niraj"}, "edited": false, "score": 0, "creation_date": 1554881417, "post_id": 55606723, "comment_id": 97908747, "body": "@NirajOza Yeah, haven&#39;t worked on material, but this <code>ErrorStateMatcher</code> is nice.I had been showing error messages by checking the values of form&#39;s touched property and the controls&#39; errors and some other flags maybe. Thanks!"}], "tags": [], "owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "is_accepted": false, "score": 3, "last_activity_date": 1554880374, "last_edit_date": 1554880374, "creation_date": 1554880312, "answer_id": 55606723, "question_id": 55606661, "link": "https://stackoverflow.com/questions/55606661/trying-to-validate-that-no-field-is-empty-in-angular-6/55606723#55606723", "title": "Trying to validate that no field is empty in angular 6", "body": "<p>An invalid form won't stop you from triggering <code>(ngSubmit)</code>.</p>\n\n<p>Do a form validity check in <code>onSubmit()</code> and then create the users.</p>\n\n<pre><code>onSubmit() {\n    if (this.addForm.valid) {\n          this.userService.createUser(this.addForm.value)\n          .subscribe( data =&gt; {\n                   this.router.navigate(['adduser']);\n          });\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 591, "user_id": 9176461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f55e8c4bacf465accdc786b9ec1b392?s=128&d=identicon&r=PG&f=1", "display_name": "J. Knabenschuh", "link": "https://stackoverflow.com/users/9176461/j-knabenschuh"}, "is_accepted": false, "score": 0, "last_activity_date": 1554880438, "creation_date": 1554880438, "answer_id": 55606754, "question_id": 55606661, "link": "https://stackoverflow.com/questions/55606661/trying-to-validate-that-no-field-is-empty-in-angular-6/55606754#55606754", "title": "Trying to validate that no field is empty in angular 6", "body": "<p>You have to check yourself if the form is valid, it wont block a submit for you - <a href=\"https://angular.io/api/forms/NgForm\" rel=\"nofollow noreferrer\">https://angular.io/api/forms/NgForm</a>:</p>\n\n<pre><code>  onSubmit() {\n    if(this.addForm.valid) {\n      this.userService.createUser(this.addForm.value)\n        .subscribe( data =&gt; {\n          this.router.navigate(['adduser']);\n        });\n      console.log(this.addForm.value);  \n     }\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8055, "user_id": 1461862, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Xk6rm.jpg?s=128&g=1", "display_name": "Mauricio Gracia Gutierrez", "link": "https://stackoverflow.com/users/1461862/mauricio-gracia-gutierrez"}, "is_accepted": false, "score": 0, "last_activity_date": 1615126078, "creation_date": 1615126078, "answer_id": 66517391, "question_id": 55606661, "link": "https://stackoverflow.com/questions/55606661/trying-to-validate-that-no-field-is-empty-in-angular-6/66517391#66517391", "title": "Trying to validate that no field is empty in angular 6", "body": "<p>You can validate your data as soon as any value changes in the form, no need to wait for the submit to happen.</p>\n<p>Here is an example to validate strings that are not empty spaces, you can change it to your needs.</p>\n<p><strong>game-start.component.ts</strong></p>\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'app-game-start',\n  templateUrl: './game-start.component.html',\n  styleUrls: ['./game-start.component.css']\n})\n  \nexport class GameStartComponent implements OnInit {\n  playerInfo = new FormGroup({\n    playerOneName: new FormControl('', [Validators.required, this.WhitespacesInvalid]),\n    playerTwoName: new FormControl('', [Validators.required, this.WhitespacesInvalid]),\n  });\n\n  constructor() {  }\n\n  public WhitespacesInvalid(control: FormControl) {\n    const isWhitespace = (control.value || '').trim().length === 0;\n    const isValid = !isWhitespace;\n    return isValid ? null : { 'whitespaceInvalid': true };\n  }\n\n  ngOnInit(): void {\n  }\n\n  onSubmit() {\n    // TODO: Use EventEmitter with form value\n    console.warn(this.playerInfo.value);\n    console.warn(this.playerInfo);\n  }\n}\n</code></pre>\n<p>Above the <code>WhitespacesInvalid</code> custom validator is declared and used when creating the <code>FormControls</code> in the constructor</p>\n<p>In the HTML the <code>hasError</code> function is used to check for <code>'whitespaceInvalid'</code> when the values are changed in the form, there no need to wait for the submit to happen, also the submit button is only enabled when all the validators are OK.</p>\n<p><strong>game-start.component.html</strong></p>\n<pre><code>&lt;h2&gt;Welcome to Game of Drones&lt;/h2&gt;\n&lt;h2&gt;Enter Player's Names&lt;/h2&gt;\n\n&lt;form [formGroup]=&quot;playerInfo&quot; (ngSubmit)=&quot;onSubmit()&quot;&gt;\n  &lt;label&gt;\n    Player 1:\n    &lt;input type=&quot;text&quot; formControlName=&quot;playerOneName&quot;&gt;\n  &lt;/label&gt;\n\n  &lt;label&gt;\n    Player 2:\n    &lt;input type=&quot;text&quot; formControlName=&quot;playerTwoName&quot;&gt;\n  &lt;/label&gt;\n\n  &lt;button type=&quot;submit&quot; [disabled]=&quot;!playerInfo.valid&quot;&gt;START&lt;/button&gt;\n\n  &lt;div *ngIf=&quot;playerInfo.controls['playerOneName'].hasError('whitespaceInvalid')&quot; class=&quot;alert alert-danger&quot;&gt;\n    Player 1 name can not be empty.\n  &lt;/div&gt;\n\n  &lt;div *ngIf=&quot;playerInfo.controls['playerTwoName'].hasError('whitespaceInvalid')&quot; class=&quot;alert alert-danger&quot;&gt;\n    Player 2 name can not be empty.\n  &lt;/div&gt;\n\n&lt;/form&gt;\n</code></pre>\n<p>The custom validator was taken from this question.</p>\n<p><a href=\"https://stackoverflow.com/questions/39236992/how-to-validate-white-spaces-empty-spaces-angular-2\">How to validate white spaces/empty spaces? [Angular 2]</a></p>\n"}], "owner": {"reputation": 1, "user_id": 11192781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ae6edd142bf619bf8852509ce25b733?s=128&d=identicon&r=PG&f=1", "display_name": "major7", "link": "https://stackoverflow.com/users/11192781/major7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1457, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1615126078, "creation_date": 1554880117, "question_id": 55606661, "link": "https://stackoverflow.com/questions/55606661/trying-to-validate-that-no-field-is-empty-in-angular-6", "title": "Trying to validate that no field is empty in angular 6", "body": "<p>I am trying to create a simple user registration project in angular.I'm trying to validate that no field is left empty in the form.However I'm unable to do so.</p>\n\n<p>Here is my ts code:</p>\n\n<pre><code>export class AdduserComponent implements OnInit {\n\n\n  constructor(private formBuilder:FormBuilder,private userService:UsersService,private router:Router) { }\n  addForm: FormGroup;\n  selected = 'option2';\n\n  ngOnInit() {\n\n    this.addForm = this.formBuilder.group({\n      id: [],\n      userName: ['', Validators.required],\n      password: ['', Validators.required],\n      userRole:['',Validators.required],\n    });\n  }\n  onSubmit() {\n    this.userService.createUser(this.addForm.value)\n      .subscribe( data =&gt; {\n        this.router.navigate(['adduser']);\n      });\n    console.log(this.addForm.value);\n  }\n  changeClient(value) {\n    console.log(value);\n}\n}\n</code></pre>\n\n<p>Here is my template:</p>\n\n<pre><code>&lt;form [formGroup]=\"addForm\" class=\"login-form\" (ngSubmit)=\"onSubmit()\"&gt;\n    &lt;div class=\"form-group\"&gt;\n        &lt;mat-form-field class=\"example-full-width\"&gt;\n\n      &lt;input matInput type=\"text\" formControlName=\"userName\" placeholder=\"userName\" name=\"userName\" class=\"form-control\" id=\"userName\"&gt;\n        &lt;/mat-form-field&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        &lt;mat-form-field class=\"example-full-width\"&gt;\n\n      &lt;input matInput type=\"password\" formControlName=\"password\" placeholder=\"Password\" name=\"password\" class=\"form-control\" id=\"password\"&gt;\n    &lt;/mat-form-field&gt;\n    &lt;/div&gt;\n\n    &lt;mat-form-field&gt;\n        &lt;mat-select panelClass=\"example-panel-blue.mat-select-panel\" placeholder=\"Roles\" formControlName=\"userRole\" id=\"userRole\" (selectionChange)=\"changeClient($event.value)\" [(value)]=\"selected\"&gt;\n          &lt;mat-option value=\"Admin\"&gt;Admin&lt;/mat-option&gt;\n\n\n        &lt;/mat-select&gt;\n      &lt;/mat-form-field&gt;\n      &lt;div class=\"container\" style=\"margin: 12px\" fxLayout=\"row\" fxLayoutAlign=\"center center\"&gt;\n\n\n    &lt;button mat-raised-button color=\"primary\"&gt;Create&lt;/button&gt;\n      &lt;/div&gt;\n  &lt;/form&gt;\n</code></pre>\n\n<p>I've added validators but still I'm able to create user with null values.Please help.Thanks in advance</p>\n"}, {"tags": ["reactjs", "typescript", "visual-studio-code", "antd"], "comments": [{"owner": {"reputation": 775, "user_id": 3820266, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/1kUer.jpg?s=128&g=1", "display_name": "captainblack", "link": "https://stackoverflow.com/users/3820266/captainblack"}, "edited": false, "score": 0, "creation_date": 1554885880, "post_id": 55606270, "comment_id": 97911158, "body": "Hello, I have same problem, too. I&#39;m looking for solution yet but I could not find solution. There is a open issue for antdesign.  <a href=\"https://github.com/ant-design/ant-design/issues/15930\" rel=\"nofollow noreferrer\">github.com/ant-design/ant-design/issues/15930</a>"}], "answers": [{"comments": [{"owner": {"reputation": 275, "user_id": 10202028, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YSjqnxSFxoQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oJx1rJFVgEwS96diMVA_IZ6ytQ0A/mo/photo.jpg?sz=128", "display_name": "David Chan", "link": "https://stackoverflow.com/users/10202028/david-chan"}, "edited": false, "score": 0, "creation_date": 1554886407, "post_id": 55608370, "comment_id": 97911448, "body": "Thx, bu my &quot;@types/react&quot; is &quot;^16.7.18&quot;."}, {"owner": {"reputation": 275, "user_id": 10202028, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YSjqnxSFxoQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oJx1rJFVgEwS96diMVA_IZ6ytQ0A/mo/photo.jpg?sz=128", "display_name": "David Chan", "link": "https://stackoverflow.com/users/10202028/david-chan"}, "edited": false, "score": 0, "creation_date": 1554886568, "post_id": 55608370, "comment_id": 97911552, "body": "Do you know how to use ts-ignore in JSX? I think maybe I can solve this problem temporarily in this way."}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "reply_to_user": {"reputation": 275, "user_id": 10202028, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YSjqnxSFxoQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oJx1rJFVgEwS96diMVA_IZ6ytQ0A/mo/photo.jpg?sz=128", "display_name": "David Chan", "link": "https://stackoverflow.com/users/10202028/david-chan"}, "edited": false, "score": 0, "creation_date": 1555233898, "post_id": 55608370, "comment_id": 98032995, "body": "@DavidChan <a href=\"https://github.com/Microsoft/TypeScript/issues/27552#issuecomment-427928685\" rel=\"nofollow noreferrer\">ts-ignore in JSX</a>"}, {"owner": {"reputation": 275, "user_id": 10202028, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YSjqnxSFxoQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oJx1rJFVgEwS96diMVA_IZ6ytQ0A/mo/photo.jpg?sz=128", "display_name": "David Chan", "link": "https://stackoverflow.com/users/10202028/david-chan"}, "reply_to_user": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 1, "creation_date": 1555656389, "post_id": 55608370, "comment_id": 98190932, "body": "@Aleksey L. Thank you!"}], "tags": [], "owner": {"reputation": 135, "user_id": 9092502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qDnD2.jpg?s=128&g=1", "display_name": "mpx2m", "link": "https://stackoverflow.com/users/9092502/mpx2m"}, "is_accepted": false, "score": 0, "last_activity_date": 1554886071, "creation_date": 1554886071, "answer_id": 55608370, "question_id": 55606270, "link": "https://stackoverflow.com/questions/55606270/button-hints-using-antd-framework-in-vscode/55608370#55608370", "title": "Button hints using antd framework in vscode", "body": "<p>Downgrade the \"@types/react\": \"^16.8.8\" will solve it</p>\n"}, {"comments": [{"owner": {"reputation": 275, "user_id": 10202028, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YSjqnxSFxoQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oJx1rJFVgEwS96diMVA_IZ6ytQ0A/mo/photo.jpg?sz=128", "display_name": "David Chan", "link": "https://stackoverflow.com/users/10202028/david-chan"}, "edited": false, "score": 0, "creation_date": 1555035923, "post_id": 55610996, "comment_id": 97977048, "body": "Thank you very much! By the way, node expected version &quot;^6.14.0 || ^8.10.0 || &gt;=9.10.0&quot;."}, {"owner": {"reputation": 765, "user_id": 6871212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l0Bop.jpg?s=128&g=1", "display_name": "Arthur Costa", "link": "https://stackoverflow.com/users/6871212/arthur-costa"}, "edited": false, "score": 0, "creation_date": 1556680541, "post_id": 55610996, "comment_id": 98515478, "body": "This might work but downgrading react is not the best solution once antd has already fixed in the problem (antd@3.16.3)"}], "tags": [], "owner": {"reputation": 775, "user_id": 3820266, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/1kUer.jpg?s=128&g=1", "display_name": "captainblack", "link": "https://stackoverflow.com/users/3820266/captainblack"}, "is_accepted": true, "score": 3, "last_activity_date": 1554894255, "creation_date": 1554894255, "answer_id": 55610996, "question_id": 55606270, "link": "https://stackoverflow.com/questions/55606270/button-hints-using-antd-framework-in-vscode/55610996#55610996", "title": "Button hints using antd framework in vscode", "body": "<p>Hello I have updated @types/react as 16.8.11 in my package.json. This solved my problem.</p>\n"}, {"tags": [], "owner": {"reputation": 765, "user_id": 6871212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l0Bop.jpg?s=128&g=1", "display_name": "Arthur Costa", "link": "https://stackoverflow.com/users/6871212/arthur-costa"}, "is_accepted": false, "score": 0, "last_activity_date": 1555478929, "last_edit_date": 1555478929, "creation_date": 1555463018, "answer_id": 55718497, "question_id": 55606270, "link": "https://stackoverflow.com/questions/55606270/button-hints-using-antd-framework-in-vscode/55718497#55718497", "title": "Button hints using antd framework in vscode", "body": "<p>This issue was fixed by antd 3 days ago. Just update your antd to version 3.16.3 and you will be fine.</p>\n\n<p>Execute: <code>npm i antd@3.16.3 --save</code> or <code>yarn antd@3.16.3</code></p>\n\n<p>If you want more details, you can find in <a href=\"https://github.com/ant-design/ant-design/issues/15930\" rel=\"nofollow noreferrer\">this issue</a></p>\n"}], "owner": {"reputation": 275, "user_id": 10202028, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YSjqnxSFxoQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oJx1rJFVgEwS96diMVA_IZ6ytQ0A/mo/photo.jpg?sz=128", "display_name": "David Chan", "link": "https://stackoverflow.com/users/10202028/david-chan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 317, "favorite_count": 1, "accepted_answer_id": 55610996, "answer_count": 3, "score": 3, "last_activity_date": 1555478929, "creation_date": 1554878637, "last_edit_date": 1554882057, "question_id": 55606270, "link": "https://stackoverflow.com/questions/55606270/button-hints-using-antd-framework-in-vscode", "title": "Button hints using antd framework in vscode", "body": "<p>I'm using Button and Input of antd in vscode. But It shows error on Button and I want to know why.</p>\n\n<p>I have tried Input, and it shows no error. Which is showed in the picture.</p>\n\n<pre><code>import React from 'react';\nimport styles from './index.css';\nimport router from 'umi/router';\nimport {Input, Button} from 'antd';\n\nexport default function() {\n  const handleClick=()=&gt;{\n    router.push('/homepage/');\n  }\n  return (\n    &lt;div className={styles.normal}&gt;\n      &lt;div className={styles.welcome} /&gt;\n      &lt;h1 className={styles.title}&gt;login&lt;/h1&gt;\n      &lt;ul className={styles.list}&gt;\n        &lt;li&gt;&lt;label&gt;username:&lt;/label&gt;&lt;Input className={styles.input} placeholder=\"username\"/&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;label&gt;password:&lt;/label&gt;&lt;Input className={styles.input} placeholder=\"password\"/&gt;&lt;/li&gt;\n        &lt;li&gt;\n          &lt;Button type=\"primary\" shape=\"round\" onClick={handleClick}&gt;login&lt;/Button&gt;\n        &lt;/li&gt;\n      &lt;/ul&gt;\n    &lt;/div&gt;\n  );\n}\n\n</code></pre>\n\n<p>The actual output shows:</p>\n\n<pre><code>&lt;--language:lang-none--&gt;\n\"message\": \"Type '{ children: string; type: \\\"primary\\\"; shape: \\\"round\\\"; onClick: () =&gt; void; }' is missing the following properties from type 'Pick&lt;Pick&lt;(Readonly&lt;AnchorButtonProps&gt; &amp; Readonly&lt;{ children?: ReactNode; }&gt;) | (Readonly&lt;NativeButtonProps&gt; &amp; Readonly&lt;{ children?: ReactNode; }&gt;), \\\"defaultChecked\\\" | \\\"defaultValue\\\" | ... 257 more ... | \\\"block\\\"&gt; &amp; Pick&lt;...&gt; &amp; Pick&lt;...&gt;, \\\"defaultChecked\\\" | ... 256 more ... | \\\"shape\\\"&gt;': defaultChecked, defaultValue, suppressContentEditableWarning, suppressHydrationWarning, and 250 more.\"\n</code></pre>\n\n<p>plus, I want to ask how to use static resource? The sample project just use the css background url way to show pictures.</p>\n\n<p><a href=\"https://i.stack.imgur.com/EdeOr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EdeOr.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "typescript", "firebase", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 10811746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1fbe6643450c4e54213db26b305fbd6?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Cappai", "link": "https://stackoverflow.com/users/10811746/marco-cappai"}, "edited": false, "score": 0, "creation_date": 1554891584, "post_id": 55608601, "comment_id": 97914707, "body": "Are the elements being updates correctly to the array though? Even if its from two different functions? Like when a document is created does it get uploaded to the array and then the array is read from the http function through the snapshot?"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "reply_to_user": {"reputation": 85, "user_id": 10811746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1fbe6643450c4e54213db26b305fbd6?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Cappai", "link": "https://stackoverflow.com/users/10811746/marco-cappai"}, "edited": false, "score": 0, "creation_date": 1554892310, "post_id": 55608601, "comment_id": 97915115, "body": "That&#39;s something you would be able to tell from looking at the document, right?"}, {"owner": {"reputation": 85, "user_id": 10811746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1fbe6643450c4e54213db26b305fbd6?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Cappai", "link": "https://stackoverflow.com/users/10811746/marco-cappai"}, "edited": false, "score": 0, "creation_date": 1554892810, "post_id": 55608601, "comment_id": 97915392, "body": "I added this to the if statement : <code>response.send(snapshot.ref.update({ delay : 0}))</code> and i put an else statement saying <code>response.end()</code>. Still not working though"}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": false, "score": 0, "last_activity_date": 1554887352, "last_edit_date": 1554887352, "creation_date": 1554886828, "answer_id": 55608601, "question_id": 55606140, "link": "https://stackoverflow.com/questions/55606140/https-request-to-update-data-in-an-array/55608601#55608601", "title": "Https request to update data in an array", "body": "<p>Your testDelay function will always time out because it never sends a response to the client.  <a href=\"https://firebase.google.com/docs/functions/terminate-functions\" rel=\"nofollow noreferrer\">According to the documentation</a>:</p>\n\n<blockquote>\n  <p>Terminate HTTP functions with res.redirect(), res.send(), or res.end().</p>\n</blockquote>\n\n<p>If you don't call one of those methods on the response object, Cloud Functions will not terminate your function, and it will time out.</p>\n\n<p>Note that if you perform async work (such as document updates) in an HTTP type function, you must send the response only after all the promises from those async operations are resolved.</p>\n"}], "owner": {"reputation": 85, "user_id": 10811746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1fbe6643450c4e54213db26b305fbd6?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Cappai", "link": "https://stackoverflow.com/users/10811746/marco-cappai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554887352, "creation_date": 1554878129, "question_id": 55606140, "link": "https://stackoverflow.com/questions/55606140/https-request-to-update-data-in-an-array", "title": "Https request to update data in an array", "body": "<p>I have previously asked questions on the matter and still a bit stuck. What I am trying to solve is the following:\n- Whenever a document gets added, it needs to be updated some time after (2 hours)</p>\n\n<p>How I am currently solving it is:\n- I create a timestamp on creation of the document with onCreate\n- I append the document to an array\n- I have another https function that triggers every 1 minute (as a cron job) which checks the items in the array and compares the current timestamp with the timestamp of the document (which is a variable in the database)</p>\n\n<p>The code which I have is the following:</p>\n\n<pre><code>   const array = []\n\n   export const onTimerCreate = functions.firestore\n   .document(`Message/{UserId}/{ChatRoomId}/{UserId_1}`)\n   .onCreate((snapshot, context) =&gt; {\n     const timestamp = admin.firestore.Timestamp.now().seconds\n     array.push(snapshot)\n     return snapshot.ref.update({ creationTime: timestamp})\n\n   })\n\n   export const testDelay = functions.https.onRequest((request,               response) =&gt; {\n     const timestamp = admin.firestore.Timestamp.now().seconds\n     array.forEach( snapshot =&gt; {\n       const data = snapshot.data()\n       const time = data.creationTime\n       const delay = (data.delay) / 1000\n       const actualTime = time + delay\n       console.log(array)\n       if (actualTime &gt; timestamp) {\n         return snapshot.ref.update({ delay : 0})\n       }\n     })\n   })\n</code></pre>\n\n<p>However, the problem is right now the request just times out after 60 seconds. What I think is happening is that I am not appending the document properly, as the array I am adding things into with the first function isn't holding data. However I am unsure how to fix this. Help will be appreciated.</p>\n"}, {"tags": ["angular", "typescript", "angular-material", "angular6"], "comments": [{"owner": {"reputation": 607, "user_id": 6485642, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/44024f3c91969d9bbe8552e7c7552103?s=128&d=identicon&r=PG", "display_name": "imanshu15", "link": "https://stackoverflow.com/users/6485642/imanshu15"}, "edited": false, "score": 0, "creation_date": 1554877922, "post_id": 55605866, "comment_id": 97906930, "body": "Your stackblitz demo dosent work, as you have described"}, {"owner": {"reputation": 2390, "user_id": 3223185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mt42T.jpg?s=128&g=1", "display_name": "k.s.", "link": "https://stackoverflow.com/users/3223185/k-s"}, "edited": false, "score": 0, "creation_date": 1554878274, "post_id": 55605866, "comment_id": 97907095, "body": "He means that your stackblitz is broken. In the <code>list.component.html</code> the button has two <code>(click)</code> events attributes"}], "answers": [{"tags": [], "owner": {"reputation": 2390, "user_id": 3223185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mt42T.jpg?s=128&g=1", "display_name": "k.s.", "link": "https://stackoverflow.com/users/3223185/k-s"}, "is_accepted": true, "score": 1, "last_activity_date": 1554878200, "creation_date": 1554878200, "answer_id": 55606157, "question_id": 55605866, "link": "https://stackoverflow.com/questions/55605866/to-check-and-push-the-new-object-to-table-component-in-angular/55606157#55606157", "title": "To check and PUSH the new object to table component in angular", "body": "<p>You just need to check your array for occurrences.</p>\n\n<p>I've updated your <a href=\"https://stackblitz.com/edit/angular-movie-read-load-json-sample-eg-lv3cyj\" rel=\"nofollow noreferrer\">stackblitz</a> example to work for your requirements. I'd advice you not to store your customers inside CustomerIds object, it'll make it a bit easier.</p>\n\n<p>And just blocking the user from adding is also not the best option, add something to notify the user of the error.</p>\n"}], "owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 55606157, "answer_count": 1, "score": 0, "last_activity_date": 1554878200, "creation_date": 1554877041, "question_id": 55605866, "link": "https://stackoverflow.com/questions/55605866/to-check-and-push-the-new-object-to-table-component-in-angular", "title": "To check and PUSH the new object to table component in angular", "body": "<p>I have 2 components called <code>list</code> &amp; <code>display</code>. The <code>list</code> component will display customers in the <code>dropdown</code>, From the <code>dropdown(dropdown with multiselect)</code> I will <code>PUSH</code> the selected customers to <code>table(material component)</code> present in the <code>display</code> component like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/PeSdm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PeSdm.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now i have another <code>form</code> in <code>display</code> component itself in order to generate a new <code>customer</code>.From this form i will generate a new customer and i will <code>PUSH</code> this new customer to <code>table</code> like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/naEhZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/naEhZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>And i will update the generated customer in <code>list</code> component also like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/rk0F3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rk0F3.png\" alt=\"enter image description here\"></a></p>\n\n<p>But the issue is When i try to <strong>PUSH</strong> the same customer(Ex Customer 4) from the <strong>list</strong> component,It should not add the duplicate, but it is adding:</p>\n\n<p><a href=\"https://i.stack.imgur.com/G26M1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G26M1.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Note:</strong> </p>\n\n<ul>\n<li><p>Since i can't a generate <strong>ID</strong> for the new customer in the <strong>stackblitz DEMO</strong>, I am just hard coding the <strong>ID</strong> for the new customer(Customer 4)</p></li>\n<li><p>And in the <strong>list</strong> also i am just added the new customer as <strong>Customer 4</strong></p></li>\n</ul>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-movie-read-load-json-sample-eg-corvkp?file=src/app/list/list.component.html\" rel=\"nofollow noreferrer\">DEMO</a></strong></p>\n"}, {"tags": ["angular", "typescript", "datepicker", "angular-material"], "comments": [{"owner": {"reputation": 1669, "user_id": 5955138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ee000cb86f66861a3b7b4690715b42a?s=128&d=identicon&r=PG", "display_name": "shadowman_93", "link": "https://stackoverflow.com/users/5955138/shadowman-93"}, "edited": false, "score": 0, "creation_date": 1554876521, "post_id": 55605742, "comment_id": 97906354, "body": "Why are you trying to wrap your object like that?"}, {"owner": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "reply_to_user": {"reputation": 1669, "user_id": 5955138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ee000cb86f66861a3b7b4690715b42a?s=128&d=identicon&r=PG", "display_name": "shadowman_93", "link": "https://stackoverflow.com/users/5955138/shadowman-93"}, "edited": false, "score": 0, "creation_date": 1554876649, "post_id": 55605742, "comment_id": 97906407, "body": "well actually is part of object for sample purpose. my object will be like   <code>const sample : OriginalModel = { demoKey : this.sample[&#39;key&#39;].demo, demoKey2 : this.sample[&#39;key2&#39;].demo2, endDate : this.endDate }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "edited": false, "score": 0, "creation_date": 1554877689, "post_id": 55605806, "comment_id": 97906828, "body": "pls check my last comment . thats my actual obj structure for saving data"}, {"owner": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "edited": false, "score": 0, "creation_date": 1554878350, "post_id": 55605806, "comment_id": 97907122, "body": "can you pls make stackblitz ..  i tried your solution. not working for me"}, {"owner": {"reputation": 1669, "user_id": 5955138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ee000cb86f66861a3b7b4690715b42a?s=128&d=identicon&r=PG", "display_name": "shadowman_93", "link": "https://stackoverflow.com/users/5955138/shadowman-93"}, "reply_to_user": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "edited": false, "score": 0, "creation_date": 1554878815, "post_id": 55605806, "comment_id": 97907366, "body": "OK. Give me some time."}, {"owner": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "edited": false, "score": 0, "creation_date": 1554878893, "post_id": 55605806, "comment_id": 97907399, "body": "sure.. am also trying. :)"}, {"owner": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "edited": false, "score": 0, "creation_date": 1554884000, "post_id": 55605806, "comment_id": 97910136, "body": "your stackblitz not loading properly . show blank page"}, {"owner": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "edited": false, "score": 0, "creation_date": 1554885272, "post_id": 55605806, "comment_id": 97910802, "body": "now i could see that.. let me make use of your solution with my code"}], "tags": [], "owner": {"reputation": 1669, "user_id": 5955138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ee000cb86f66861a3b7b4690715b42a?s=128&d=identicon&r=PG", "display_name": "shadowman_93", "link": "https://stackoverflow.com/users/5955138/shadowman-93"}, "is_accepted": false, "score": 1, "last_activity_date": 1554884090, "last_edit_date": 1554884090, "creation_date": 1554876799, "answer_id": 55605806, "question_id": 55605742, "link": "https://stackoverflow.com/questions/55605742/mat-datepicker-ngmodel-not-able-to-show-user-saved-date/55605806#55605806", "title": "Mat-DatePicker - [(ngModel)] - not able to show user saved date", "body": "<p>I don't know why you are trying to wrap your date value into <code>{}</code> but you can achieve this by using following syntax,</p>\n\n<p>Your component side,</p>\n\n<pre><code>sample: any = { demoKey: \"\", demoKey2: \"\", demoKey3: \"\", endDate: new Date }\n</code></pre>\n\n<p>On your html side,</p>\n\n<pre><code>&lt;mat-form-field&gt;\n&lt;input  matInput placeholder=\"demoKey1\" name='demoKey' [(ngModel)]='sample.demoKey' &gt;\n...\n&lt;/mat-form-field&gt;\n</code></pre>\n\n<p>You don't need to use save function to set two way binding variables, try to console log <code>obj.endDate</code> with a function instead and see how magic happens.</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-zm1bnv\" rel=\"nofollow noreferrer\">Here is</a> stackblitz example for your case, hope it will help.</p>\n\n<p><a href=\"https://i.stack.imgur.com/6k4Ul.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6k4Ul.png\" alt=\"Stackblitz view\"></a></p>\n"}], "owner": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1286, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554884090, "creation_date": 1554876433, "last_edit_date": 1554878219, "question_id": 55605742, "link": "https://stackoverflow.com/questions/55605742/mat-datepicker-ngmodel-not-able-to-show-user-saved-date", "title": "Mat-DatePicker - [(ngModel)] - not able to show user saved date", "body": "<p>Could someone tell how to show user saved date in Mat-Datepicker?</p>\n\n<p>initially  am getting endDate as null from get service (data from nested object, that calling from another component ). when going to edit mode. am selecting value and save it. In console, it prints selected date. but in Network it goes null.</p>\n\n<pre><code>this.endDate: string;\n\n&lt;mat-form-field&gt;\n&lt;input matInput [value] = \"endDate\" [matDatepicker]=\"myDatepicker\"  name=\"endDate\" [(ngModel)]=\"endDate\"&gt;\n&lt;mat-datepicker-toggle matSuffix [for]=\"myDatepicker\"&gt;&lt;/mat-datepicker-toggle&gt;\n&lt;mat-datepicker #myDatepicker &gt;&lt;/mat-datepicker&gt;\n&lt;/mat-form-field&gt;\n</code></pre>\n\n<p>in save method:</p>\n\n<pre><code>save(){\nlet obj = {\n    endDate = this.endDate; // my ngModel\n    }\n}\nupdateChange(d){\nthis.endDate = d; // i can see the changed value here but not able to save\n} \n</code></pre>\n\n<p>actual object for saving data</p>\n\n<pre><code>const sample : OriginalModel = { \ndemoKey : this.sample['key'].demo, \ndemoKey2 : this.sample['key2'].demo2, \nendDate : this.endDate \n}\n</code></pre>\n\n<p>how to get this done to show user saved value in edit mode ?</p>\n\n<p>kindly share solution/ working stackblitz .</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["angular", "forms", "typescript"], "comments": [{"owner": {"reputation": 4550, "user_id": 6664264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154344266054326/picture?type=large", "display_name": "Wandrille", "link": "https://stackoverflow.com/users/6664264/wandrille"}, "edited": false, "score": 0, "creation_date": 1554872932, "post_id": 55605008, "comment_id": 97905219, "body": "Can you provide a stackblitz demo ? It will help us to get the answer. And have you tried <a href=\"https://stackoverflow.com/a/36016472/5706293\">this</a> ?"}], "answers": [{"comments": [{"owner": {"reputation": 635, "user_id": 1167713, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/f1c4636483d24aa7717422be11a491f5?s=128&d=identicon&r=PG", "display_name": "Menahem Gil", "link": "https://stackoverflow.com/users/1167713/menahem-gil"}, "edited": false, "score": 0, "creation_date": 1554954909, "post_id": 55605142, "comment_id": 97941309, "body": "Hi, thanks. I tried it. Yet didn&#39;t work. Then, the way I resolved it today, is by call this.initiateObj(); (in reset()) inside a callback of setTimeout. Then it works. I&#39;m not sure however, if it the right way, and if there is more efficient way to do it? The question is why even I need the setTimeout? Is it a bug in angular forms? Is there other way than setTimeout to do it?"}], "tags": [], "owner": {"reputation": 72, "user_id": 4063199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d076c94eeeca02ae90c0a69d8261536?s=128&d=identicon&r=PG&f=1", "display_name": "zero0", "link": "https://stackoverflow.com/users/4063199/zero0"}, "is_accepted": false, "score": 0, "last_activity_date": 1554873342, "creation_date": 1554873342, "answer_id": 55605142, "question_id": 55605008, "link": "https://stackoverflow.com/questions/55605008/issue-when-reset-template-driven-form-forms-object-typescript-angular-6/55605142#55605142", "title": "Issue when Reset template driven form / form&#39;s object typescript Angular 6", "body": "<p><code>undefined || null</code> will return back null. If you do not pass any parameter value into your constructor, <code>options.x</code>, <code>options.y</code>, <code>options.z</code> and <code>options.xy</code> within the constructor will be <code>undefined</code>. Change your constructor to:</p>\n\n<pre><code>constructor(options: any = {}) {\n   this.x = options.x || '';\n   this.y = options.y || '';\n   this.z = options.z || '';\n   this.xy = options.xy || [];\n}\n</code></pre>\n\n<p>then it should work</p>\n"}], "owner": {"reputation": 635, "user_id": 1167713, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/f1c4636483d24aa7717422be11a491f5?s=128&d=identicon&r=PG", "display_name": "Menahem Gil", "link": "https://stackoverflow.com/users/1167713/menahem-gil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 189, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554873342, "creation_date": 1554872476, "question_id": 55605008, "link": "https://stackoverflow.com/questions/55605008/issue-when-reset-template-driven-form-forms-object-typescript-angular-6", "title": "Issue when Reset template driven form / form&#39;s object typescript Angular 6", "body": "<p>I have a component with a template driven form, which I have an object myObj that gets the values from the form's fields. The component looks something like:</p>\n\n<pre><code>export class a {\nmyObj:any;\n..\n..\ninitiateObj():void {\n    this.myObj = {\n       x:\"\",\n       y:\"\",\n       z:[],\n       xy: []\n   };\n }\n\n\n..\n..\n\nreset():void {\n   this.initiateObj();\n}\n\n  ngOnInit() {\n    this.initiateObj();\n  }\n</code></pre>\n\n<p>The view looks something like: </p>\n\n<pre><code>&lt;form #myForm=\"ngForm\"&gt;\n  &lt;input ... [(ngModel)]=\"myObj.x\" #myInput=\"ngModel\" /&gt;\n  &lt;input ... [(ngModel)]=\"myObj.y\" #myInput1=\"ngModel\" /&gt;\n\n  &lt;select ... [(ngModel)]=\"myObj.z\"&gt;\n  &lt;/select&gt;\n  ..\n  .. \n\n  &lt;button ....     (click)=\"submit()\"&gt;\n  &lt;button ....     (click)=\"reset()\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>when the component initiates the values in the console of myObj are:</p>\n\n<p>x:\" \",</p>\n\n<p>y:\" \",</p>\n\n<p>z:[],</p>\n\n<p>etc.</p>\n\n<p>However, when I fill the form - even if I not fill the form, just click the reset button, the values of myObj in the console will be:</p>\n\n<p>x: null,</p>\n\n<p>y: null,</p>\n\n<p>z:[null]</p>\n\n<p>..</p>\n\n<p>which causes an error when I need to use <code>myObj</code> again (when I need to use the form again).</p>\n\n<p>When the component initiates for the first time, the values are Ok. But once I click the reset button, the values become null. </p>\n\n<p>I tried to use in the view one way binding - <code>[ngModel]</code> instead of <code>[(ngModel)]</code>, and then when I click reset it's Ok, but then <code>myObj</code> will not get the values from the form - because it's one way binding. So I have to use two way bindings. But then when I click on reset the values of the object become null.</p>\n\n<p>I asked here before and the answer I got was to Declare the class like this way:</p>\n\n<pre><code>export class initiateObj {\n x: '';\n y: '';\n z: [];\n xy: string;\n constructor(options: any = {}) {\n   this.x = options.x || null;\n   this.y = options.y || null;\n   this.z = options.z || null;\n   this.xy = options.xy || null;\n}\n}\n\n  reset(): void {\n     this.myObj = new initiateObj();\n    }\n\n   ngOnInit(): void {\n     this.myObj = new initiateObj();\n    }\n</code></pre>\n\n<p>But this solution also didn't work. I still get the same thing after I click reset. </p>\n\n<p>Then I tried with <code>viewchild</code> to use the built in <code>reset</code> method - but it also didn't work. Still, once submit and reset again - the values become <code>null</code></p>\n\n<p>Then I realized in the console, that if I log to the console <code>myObj</code>, then after click reset and get the <code>null</code> values, it also gives another message attached to the object in the console: </p>\n\n<p>\"value below was evaluated just now\" </p>\n\n<p>So it seems that once I click reset I get the desire values, but then it changes immediately to the <code>null</code> values? Is it possible? </p>\n\n<p>And if yes - then what is the way to resolve this? </p>\n\n<p>I also tried with <code>viewchild</code> to access each form's field and give it \"\" or [] , but still I get <code>null</code> </p>\n\n<p>How can I resolve it? (so I can submit and reset the form multiple times while stay in the component , and not need to reload again the page?)</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["reactjs", "typescript", "webpack", "awesome-typescript-loader"], "comments": [{"owner": {"reputation": 1207, "user_id": 1501643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/iYmYd.jpg?s=128&g=1", "display_name": "henrik123", "link": "https://stackoverflow.com/users/1501643/henrik123"}, "edited": false, "score": 0, "creation_date": 1554877952, "post_id": 55604969, "comment_id": 97906946, "body": "What version of create react app are you using?"}, {"owner": {"reputation": 20505, "user_id": 14193, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a93b472ab35c2cff246aaab08c1f29e1?s=128&d=identicon&r=PG", "display_name": "Neil", "link": "https://stackoverflow.com/users/14193/neil"}, "reply_to_user": {"reputation": 1207, "user_id": 1501643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/iYmYd.jpg?s=128&g=1", "display_name": "henrik123", "link": "https://stackoverflow.com/users/1501643/henrik123"}, "edited": false, "score": 0, "creation_date": 1554913772, "post_id": 55604969, "comment_id": 97927935, "body": "@henrik123 I can\u2019t check right now, but I installed it a couple of days ago. It could be not updated because it could have been first installed a while ago. I think this problem is isolated to the effect of WebPack 4, its configuration, and the contents of <code>src&#47;App.tsx</code>, though."}, {"owner": {"reputation": 1207, "user_id": 1501643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/iYmYd.jpg?s=128&g=1", "display_name": "henrik123", "link": "https://stackoverflow.com/users/1501643/henrik123"}, "edited": false, "score": 0, "creation_date": 1554929144, "post_id": 55604969, "comment_id": 97935077, "body": "Ok. Just to rule of the possibility, try to check your version. Typescript feature is only available on react-scripts@2.1.0 and higher. Ref <a href=\"https://facebook.github.io/create-react-app/docs/adding-typescript\" rel=\"nofollow noreferrer\">facebook.github.io/create-react-app/docs/adding-typescript</a>"}, {"owner": {"reputation": 20505, "user_id": 14193, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a93b472ab35c2cff246aaab08c1f29e1?s=128&d=identicon&r=PG", "display_name": "Neil", "link": "https://stackoverflow.com/users/14193/neil"}, "reply_to_user": {"reputation": 1207, "user_id": 1501643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/iYmYd.jpg?s=128&g=1", "display_name": "henrik123", "link": "https://stackoverflow.com/users/1501643/henrik123"}, "edited": false, "score": 0, "creation_date": 1554929349, "post_id": 55604969, "comment_id": 97935166, "body": "@henrik123 Right but I used the <code>--typescript</code> option for <code>create-react-app</code>, which, unless it accepts unknown options, would imply that it supports TypeScript. However, I\u2019m explicitly using WebPack in this example, does a React app use WebPack under the hood when invoking <code>npm build</code>, such that I wouldn\u2019t have to use it explicitly?"}, {"owner": {"reputation": 1207, "user_id": 1501643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/iYmYd.jpg?s=128&g=1", "display_name": "henrik123", "link": "https://stackoverflow.com/users/1501643/henrik123"}, "edited": false, "score": 0, "creation_date": 1554929442, "post_id": 55604969, "comment_id": 97935197, "body": "Did you &quot;eject&quot; your create-react-app?"}, {"owner": {"reputation": 20505, "user_id": 14193, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a93b472ab35c2cff246aaab08c1f29e1?s=128&d=identicon&r=PG", "display_name": "Neil", "link": "https://stackoverflow.com/users/14193/neil"}, "reply_to_user": {"reputation": 1207, "user_id": 1501643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/iYmYd.jpg?s=128&g=1", "display_name": "henrik123", "link": "https://stackoverflow.com/users/1501643/henrik123"}, "edited": false, "score": 0, "creation_date": 1554929517, "post_id": 55604969, "comment_id": 97935230, "body": "Nope. I don\u2019t necessarily want to customize WebPack, I just didn\u2019t know if it was being used when I asked this question. I just want the thing to work."}], "owner": {"reputation": 20505, "user_id": 14193, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a93b472ab35c2cff246aaab08c1f29e1?s=128&d=identicon&r=PG", "display_name": "Neil", "link": "https://stackoverflow.com/users/14193/neil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1407, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554872234, "creation_date": 1554872234, "question_id": 55604969, "link": "https://stackoverflow.com/questions/55604969/webpack-4-fails-to-load-tsx-file-for-react-you-may-need-an-appropriate-loade", "title": "WebPack 4 fails to load `tsx` file for React: `You may need an appropriate loader to handle this file type.`", "body": "<p><strong>Summary:</strong></p>\n\n<p>After creating a React TypeScript application and configuring WebPack 4, I get the following error when it's trying to parse a <code>tsx</code> file:</p>\n\n<pre><code>ERROR in ./src/App.tsx 6:16\nModule parse failed: Unexpected token (6:16)\nYou may need an appropriate loader to handle this file type.\n</code></pre>\n\n<p>The verbose output doesn't indicate which loader it's attempting to use, nor which file pattern that matched.</p>\n\n<p>How can I troubleshoot this problem?</p>\n\n<p>I opened a bug for shitty error messages here:\n<a href=\"https://github.com/webpack/webpack/issues/9025\" rel=\"nofollow noreferrer\">https://github.com/webpack/webpack/issues/9025</a></p>\n\n<p>Here's how to reproduce:</p>\n\n<p><strong>I created a react application like this:</strong></p>\n\n<pre><code>npx create-react-app kontakt-manager --typescript\n</code></pre>\n\n<p><strong>Then I added this WebPack 4 configuration file, and installed the required packages:</strong></p>\n\n<pre><code>const path = require('path');\n\nmodule.exports = {\n    // change to .tsx if necessary\n    entry: './src/App.tsx',\n    output: {\n        filename: 'bundle.js',\n        path: path.resolve(__dirname, 'dist')\n    },\n    resolve: {\n        // changed from extensions: [\".js\", \".jsx\"]\n        extensions: ['.ts', '.tsx', '.js', '.jsx']\n    },\n    module: {\n        rules: [\n            // changed from { test: /\\.jsx?$/, use: { loader: 'babel-loader' } },\n            { test: /\\.(t|j)sx?$/, use: { loader: 'awesome-typescript-loader' } },\n            // addition - add source-map support\n            { enforce: \"pre\", test: /\\.js$/, loader: \"source-map-loader\" }\n        ]\n    },\n    externals: {\n        \"react\": \"React\",\n        \"react-dom\": \"ReactDOM\",\n    },\n    // addition - add source-map support\n    devtool: \"source-map\"\n}\n</code></pre>\n\n<p><strong>Then I try to package everything:</strong></p>\n\n<pre><code>$ npx webpack --verbose\n\u2139 \uff62atl\uff63: Using typescript@3.4.2 from typescript\n\u2139 \uff62atl\uff63: Using tsconfig.json from &lt;directory&gt;/tsconfig.json\n\u2139 \uff62atl\uff63: Checking started in a separate process...\n\u2139 \uff62atl\uff63: Time: 67ms\nHash: 47205d90a8bf0ab03285\nVersion: webpack 4.29.6\nTime: 2404ms\nBuilt at: 2019-04-10 12:13:19 a.m.\n 2 assets\nEntrypoint main = bundle.js bundle.js.map\nchunk    {0} bundle.js, bundle.js.map (main) 332 bytes [entry] [rendered]\n    &gt; ./src/App.tsx main\n [0] ./src/App.tsx 332 bytes {0} [depth 0] [built] [failed] [1 error]\n     ModuleConcatenation bailout: Module is not an ECMAScript module\n     single entry ./src/App.tsx  main\n\nWARNING in configuration\nThe 'mode' option has not been set, webpack will fallback to 'production' for this value. Set 'mode' option to 'development' or 'production' to enable defaults for each environment.\nYou can also set it to 'none' to disable any default behavior. Learn more: https://webpack.js.org/concepts/mode/\n\nERROR in ./src/App.tsx 6:16\nModule parse failed: Unexpected token (6:16)\nYou may need an appropriate loader to handle this file type.\n| class App extends Component {\n|     render() {\n&gt;         return (&lt;div className=\"App\"&gt;\n|         &lt;header className=\"App-header\"&gt;\n|           &lt;img src={logo} className=\"App-logo\" alt=\"logo\"/&gt;\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 540, "user_id": 5609876, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b9fb0cf118e9cbf9a15d52d7071e554b?s=128&d=identicon&r=PG", "display_name": "E.Arrowood", "link": "https://stackoverflow.com/users/5609876/e-arrowood"}, "edited": false, "score": 0, "creation_date": 1554922538, "post_id": 55604944, "comment_id": 97932192, "body": "I&#39;m still struggling to see why this would be useful. Would it not be better to put it in the first line alongside the &#39;A&#39; generic?"}, {"owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "reply_to_user": {"reputation": 540, "user_id": 5609876, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b9fb0cf118e9cbf9a15d52d7071e554b?s=128&d=identicon&r=PG", "display_name": "E.Arrowood", "link": "https://stackoverflow.com/users/5609876/e-arrowood"}, "edited": false, "score": 0, "creation_date": 1554926065, "post_id": 55604944, "comment_id": 97933745, "body": "Added an example that may help clarify"}, {"owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "reply_to_user": {"reputation": 540, "user_id": 5609876, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b9fb0cf118e9cbf9a15d52d7071e554b?s=128&d=identicon&r=PG", "display_name": "E.Arrowood", "link": "https://stackoverflow.com/users/5609876/e-arrowood"}, "edited": false, "score": 0, "creation_date": 1554926105, "post_id": 55604944, "comment_id": 97933760, "body": "Actually, nevermind, looking further at the question my example is not helpful at all and addresses something different."}, {"owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "reply_to_user": {"reputation": 540, "user_id": 5609876, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b9fb0cf118e9cbf9a15d52d7071e554b?s=128&d=identicon&r=PG", "display_name": "E.Arrowood", "link": "https://stackoverflow.com/users/5609876/e-arrowood"}, "edited": false, "score": 0, "creation_date": 1554926264, "post_id": 55604944, "comment_id": 97933824, "body": "So technically the interface could have other properties.  Functions in JS can have properties and other methods attached to them just like objects.  So the function could be callable and <code>B</code> may only apply to the function.  However, the function could also have other properties &amp; functions that refer to <code>A</code>.  I can&#39;t think of any real world example."}, {"owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "reply_to_user": {"reputation": 540, "user_id": 5609876, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b9fb0cf118e9cbf9a15d52d7071e554b?s=128&d=identicon&r=PG", "display_name": "E.Arrowood", "link": "https://stackoverflow.com/users/5609876/e-arrowood"}, "edited": false, "score": 0, "creation_date": 1554926882, "post_id": 55604944, "comment_id": 97934083, "body": "Ok, added one more example which is hopefully clearer."}, {"owner": {"reputation": 540, "user_id": 5609876, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b9fb0cf118e9cbf9a15d52d7071e554b?s=128&d=identicon&r=PG", "display_name": "E.Arrowood", "link": "https://stackoverflow.com/users/5609876/e-arrowood"}, "edited": false, "score": 0, "creation_date": 1555039658, "post_id": 55604944, "comment_id": 97977724, "body": "Thank you for a great answer. This makes a lot of sense now and I was able to use it in my eventual type declaration: <a href=\"https://github.com/fastify/fastify/pull/1569#issuecomment-482422616\" rel=\"nofollow noreferrer\">github.com/fastify/fastify/pull/1569#issuecomment-482422616</a>"}, {"owner": {"reputation": 2650, "user_id": 7776268, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/jAgZj.jpg?s=128&g=1", "display_name": "nomadoda", "link": "https://stackoverflow.com/users/7776268/nomadoda"}, "edited": false, "score": 0, "creation_date": 1589199159, "post_id": 55604944, "comment_id": 109188851, "body": "So given an object of interface <code>Hasher</code>, is there any way to invoke the <code>V</code> generic? Ignoring the <code>HashingFactory</code>."}, {"owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "reply_to_user": {"reputation": 2650, "user_id": 7776268, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/jAgZj.jpg?s=128&g=1", "display_name": "nomadoda", "link": "https://stackoverflow.com/users/7776268/nomadoda"}, "edited": false, "score": 0, "creation_date": 1589424713, "post_id": 55604944, "comment_id": 109291324, "body": "@nomadoda Sure, if you had a Hasher you would never need to specify V because TS could infer it based on what you passed in."}], "tags": [], "owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "is_accepted": true, "score": 1, "last_activity_date": 1554926865, "last_edit_date": 1554926865, "creation_date": 1554872027, "answer_id": 55604944, "question_id": 55604589, "link": "https://stackoverflow.com/questions/55604589/typescript-interface-function-type-with-generics/55604944#55604944", "title": "TypeScript Interface function type with generics", "body": "<p>It's an interface for a function that take's a generic parameter.  Here is an example:</p>\n\n<pre><code>const funcTwo: F&lt;string&gt; = &lt;T&gt;(foo: string, bar: T) =&gt; {\n  return `${foo} ${bar}`;\n}\n\nconsole.log(funcTwo('Hello', 7));\n</code></pre>\n\n<p>UPDATE: Adding a practical example that may show why it would be useful.  It can be hard to come up with an example with no context but this is my best attempt without thinking too hard:</p>\n\n<pre><code>class UniqueCounter&lt;T&gt; {\n\n  private underlyingSet = new Set&lt;T&gt;();\n\n  constructor(\n    private hashingFunc: &lt;V&gt;(value: V) =&gt; T,\n  ) {\n\n  }\n\n  add&lt;V&gt;(thing: V) {\n    const hash = this.hashingFunc(thing);\n    this.underlyingSet.add(hash);\n  }\n\n  count() {\n    return this.underlyingSet.size;\n  }\n\n}\n</code></pre>\n\n<p>This class attempts to count how many unique instances of something you have.  However, the default set uses <code>===</code> for objects and that isn't what I want. Instead I have some kind of hashing algorithm for my particular objects.  Although, in some cases I hash into a string and in other cases I hash into a number (the thing I hash into is <code>T</code>).</p>\n\n<p>I can't add <code>V</code> to the class generics because then it would only be able to count one type of object.  Maybe I can hash <code>Person</code> and <code>Employee</code> and <code>Equipment</code> and <code>Room</code> by using some kind of unique ID I've assigned to all those classes.</p>\n\n<p>I can't add <code>T</code> to the hash function's type arguments because I need to use <code>T</code> to define <code>underlyingSet</code>.</p>\n\n<p>UPDATE2:</p>\n\n<p>Ignore the previous update as it isn't relevant to the question at hand.  The type you showed:</p>\n\n<pre><code>interface F&lt;A&gt; {\n  &lt;B&gt;(foo: A, bar: B): A;\n}\n</code></pre>\n\n<p>is not equivalent to:</p>\n\n<pre><code>interface F&lt;A, B&gt; {\n  (foo: A, bar: B): A;\n}\n</code></pre>\n\n<p>Let's pretend we had a hashing factory factory that could magically create hashing objects, but they could only hash into one type of key.  In other words, you could create a \"hash anything to string\" object or a \"hash anything to number\" object.  We could define the class as:</p>\n\n<pre><code>class HashingFactory&lt;T&gt; {\n\n  createHasher&lt;V&gt;(): Hasher;\n\n}\n</code></pre>\n\n<p>However, what would the return type be?  How would we define <code>Hasher</code>? If we define it as:</p>\n\n<pre><code>interface Hasher&lt;K, V&gt; {\n  hash(value: V): K;\n}\n</code></pre>\n\n<p>Then we are creating something that can only hash inputs of one type (e.g. it can only hash Employee into number).  But our magical hasher can hash any object into a number.  The proper interface would be:</p>\n\n<pre><code>interface Hasher&lt;K&gt; {\n  &lt;V&gt;hash(value: V): K;\n}\n</code></pre>\n\n<p>Now we can properly represent an object that can turn Employee or Room or Person (or anything else) into a number.</p>\n"}], "owner": {"reputation": 540, "user_id": 5609876, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b9fb0cf118e9cbf9a15d52d7071e554b?s=128&d=identicon&r=PG", "display_name": "E.Arrowood", "link": "https://stackoverflow.com/users/5609876/e-arrowood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1090, "favorite_count": 0, "accepted_answer_id": 55604944, "answer_count": 1, "score": 1, "last_activity_date": 1554926865, "creation_date": 1554869020, "question_id": 55604589, "link": "https://stackoverflow.com/questions/55604589/typescript-interface-function-type-with-generics", "title": "TypeScript Interface function type with generics", "body": "<p>I found the following code byte in an open source repository recently:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Use&lt;I, C = context&lt;I&gt;&gt; { \n   &lt;O&gt;(fn: avvio.Plugin&lt;O, I&gt;, options?: O): C; \n} \n</code></pre>\n\n<p>Simplified as:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface F&lt;A&gt; {\n  &lt;B&gt;(foo: A, bar: B): A;\n}\n</code></pre>\n\n<p><strong>How would I go about invoking the <code>B</code> generic?</strong> </p>\n\n<p>I'm struggling to find an example usage of it and I can't make sense of it even in the TS Playground. I put this code in a playground you can view <a href=\"https://www.typescriptlang.org/play/index.html#src=interface%20F%3CA%3E%20%7B%0D%0A%20%20%3CB%3E(foo%3A%20A%2C%20bar%3A%20B)%3A%20A%3B%0D%0A%7D%0D%0A%0D%0Aconst%20func%3A%20F%3Cstring%3E%20%3D%20(foo%2C%20bar)%20%3D%3E%20%7B%0D%0A%20%20return%20&#39;&#39;%0D%0A%7D%0D%0A\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 4550, "user_id": 6664264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154344266054326/picture?type=large", "display_name": "Wandrille", "link": "https://stackoverflow.com/users/6664264/wandrille"}, "edited": false, "score": 0, "creation_date": 1554872244, "post_id": 55604386, "comment_id": 97905059, "body": "Have you tried a mix of exhaustMap and forkJoin like <a href=\"https://stackoverflow.com/questions/50575525/how-to-return-a-forkjoin-observable-when-piping-the-operators\">this</a> ?"}, {"owner": {"reputation": 1213, "user_id": 612003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HuUtm.jpg?s=128&g=1", "display_name": "Matthew Moss", "link": "https://stackoverflow.com/users/612003/matthew-moss"}, "reply_to_user": {"reputation": 4550, "user_id": 6664264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154344266054326/picture?type=large", "display_name": "Wandrille", "link": "https://stackoverflow.com/users/6664264/wandrille"}, "edited": false, "score": 0, "creation_date": 1554909270, "post_id": 55604386, "comment_id": 97925425, "body": "@Wandrille I&#39;m trying to consider how I could use something like that to accomplish what I want, but my recollection is that <code>exhaustMap</code> will ignore other values completely until the inner is finished... which means I could lose values. Not sure how to make that work as I want."}], "answers": [{"tags": [], "owner": {"reputation": 1213, "user_id": 612003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HuUtm.jpg?s=128&g=1", "display_name": "Matthew Moss", "link": "https://stackoverflow.com/users/612003/matthew-moss"}, "is_accepted": false, "score": 0, "last_activity_date": 1554923770, "creation_date": 1554923770, "answer_id": 55619824, "question_id": 55604386, "link": "https://stackoverflow.com/questions/55604386/how-can-i-enforce-depth-first-retrieval-using-rxjs-expand/55619824#55619824", "title": "How can I enforce depth-first retrieval using rxjs expand?", "body": "<p>So I played around a bit, did some manual recursion (as opposed to relying on <code>expand</code>), and came up with the following (also updated at the stackblitz link above):</p>\n\n<pre><code>class Test {\n  // This doesn't maintain depth-first order; it can vary depending on timing.\n  brokenDFS(getChildren: Getter, ids: number[]): Observable&lt;number[]&gt; {\n    return of(ids).pipe(\n      concatMap(ids =&gt; from(ids)),\n      expand(id =&gt; getChildren(id)),\n      toArray()\n    );\n  }\n\n  workingDFS(getChildren: Getter, ids: number[]): Observable&lt;number[]&gt; {\n    return from(ids).pipe(\n      concatMap(id =&gt; this.parentAndChildren(getChildren, id)),\n      toArray()\n    );\n  }\n\n  private parentAndChildren(getChildren: Getter, id: number): Observable&lt;number&gt; {\n    return of(id).pipe(\n      concat(\n        getChildren(id).pipe(\n          map(child =&gt; this.parentAndChildren(getChildren, child)),\n          concatAll()\n        )\n      ),\n    );\n  }\n\n}\n\nconst getter = getChildrenWithDelay;\nconst rootIds = [1, 17, 20];\nconst test = new Test();\ntest.brokenDFS(getter, rootIds).subscribe(data =&gt; console.log(`Broken: ${data}`));\ntest.workingDFS(getter, rootIds).subscribe(data =&gt; console.log(`Working: ${data}`));\n</code></pre>\n\n<p>The output (noting that the \"Broken\" output can vary due to timing):</p>\n\n<pre><code>Broken: 1,17,20,21,2,6,18,7,13,14,3,4,19,15,16,5,8,9,10,11,12\nWorking: 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21\n</code></pre>\n\n<p>(Also note I changed the tree values from original post such that a correct DFS is numerical array from 1 to 21).</p>\n\n<p>So <code>workingDFS</code> works, but is much slower than <code>brokenDFS</code>, since every request to the http server must wait for everything before it to complete, whereas the <code>brokenDFS</code> version would run multiple requests simultaneously (tho not in correct order).</p>\n\n<p>I don't know if I have better rxjs options here. I may have to revise my methods to pass not only the objects of interest, but also some structuring/sorting info, make all/many of the requests simultaneously, and then combine everything in the correct order after.</p>\n"}, {"comments": [{"owner": {"reputation": 1213, "user_id": 612003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HuUtm.jpg?s=128&g=1", "display_name": "Matthew Moss", "link": "https://stackoverflow.com/users/612003/matthew-moss"}, "edited": false, "score": 0, "creation_date": 1554991124, "post_id": 55628189, "comment_id": 97959787, "body": "Very cool! Didn&#39;t even consider destructuring, but that works well. And the signature change of <code>getChildren</code> is fine... that&#39;s how I started, and what seems more appropriate/natural, but I was struggling a bit to get things working."}, {"owner": {"reputation": 3821, "user_id": 6921829, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TjT5QWqGMDU/AAAAAAAAAAI/AAAAAAAAA9Q/DNCpJksOM88/photo.jpg?sz=128", "display_name": "kos", "link": "https://stackoverflow.com/users/6921829/kos"}, "reply_to_user": {"reputation": 1213, "user_id": 612003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HuUtm.jpg?s=128&g=1", "display_name": "Matthew Moss", "link": "https://stackoverflow.com/users/612003/matthew-moss"}, "edited": false, "score": 0, "creation_date": 1554991404, "post_id": 55628189, "comment_id": 97960002, "body": "@MatthewMoss, I hope it will inspire you on writing a parallel implementation :) GL!"}, {"owner": {"reputation": 1213, "user_id": 612003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HuUtm.jpg?s=128&g=1", "display_name": "Matthew Moss", "link": "https://stackoverflow.com/users/612003/matthew-moss"}, "edited": false, "score": 1, "creation_date": 1554991676, "post_id": 55628189, "comment_id": 97960197, "body": "I&#39;m actually re-debating whether to try and flatten the whole thing as I&#39;ve attempted here, or go back to a hierarchy of list/item components, where parallelism and laziness (i.e. &quot;performance&quot;) is almost natural.  I had reasons for trying to go this route, but I may have overestimated other difficulties and underestimated these issues."}, {"owner": {"reputation": 3821, "user_id": 6921829, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TjT5QWqGMDU/AAAAAAAAAAI/AAAAAAAAA9Q/DNCpJksOM88/photo.jpg?sz=128", "display_name": "kos", "link": "https://stackoverflow.com/users/6921829/kos"}, "reply_to_user": {"reputation": 1213, "user_id": 612003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HuUtm.jpg?s=128&g=1", "display_name": "Matthew Moss", "link": "https://stackoverflow.com/users/612003/matthew-moss"}, "edited": false, "score": 1, "creation_date": 1554992273, "post_id": 55628189, "comment_id": 97960614, "body": "@MatthewMoss, alas, I&#39;m not aware of the real application of this code... I just might suggest you checking this <a href=\"https://observable-playground.github.io/rxjs/expand/\" rel=\"nofollow noreferrer\">playground for rxjs expand</a> if you&#39;ll be willing to continue with raw rxjs approach."}, {"owner": {"reputation": 1213, "user_id": 612003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HuUtm.jpg?s=128&g=1", "display_name": "Matthew Moss", "link": "https://stackoverflow.com/users/612003/matthew-moss"}, "edited": false, "score": 1, "creation_date": 1554993218, "post_id": 55628189, "comment_id": 97961243, "body": "It&#39;s a database-driven survey builder (internal tool for client). A particular survey will have a number of top-level questions, but questions can be nested (conditionally, based on answer of parent question). Nesting can be arbitrarily deep, but probably most questions are only 0-1 deep, a few 2 deep, and rarely 3-4 deep.  The query at hand is to provide a listing of all questions in order to optionally select one to nest under while adding a new question.  BTW, that playground is awesome... Good to have more resources at hand!"}, {"owner": {"reputation": 1213, "user_id": 612003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HuUtm.jpg?s=128&g=1", "display_name": "Matthew Moss", "link": "https://stackoverflow.com/users/612003/matthew-moss"}, "edited": false, "score": 0, "creation_date": 1554993333, "post_id": 55628189, "comment_id": 97961328, "body": "I&#39;ve also realized that what I want might be better as a compound database query on the server side, simplifying what the front-end has to do."}, {"owner": {"reputation": 3821, "user_id": 6921829, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TjT5QWqGMDU/AAAAAAAAAAI/AAAAAAAAA9Q/DNCpJksOM88/photo.jpg?sz=128", "display_name": "kos", "link": "https://stackoverflow.com/users/6921829/kos"}, "reply_to_user": {"reputation": 1213, "user_id": 612003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HuUtm.jpg?s=128&g=1", "display_name": "Matthew Moss", "link": "https://stackoverflow.com/users/612003/matthew-moss"}, "edited": false, "score": 0, "creation_date": 1554993631, "post_id": 55628189, "comment_id": 97961553, "body": "@MatthewMoss Hehe, so true! Sometimes we tend to artificially narrow the problem. And thanks for your feedback on the playground \u2014 I&#39;ve been working on this pet project for a while."}], "tags": [], "owner": {"reputation": 3821, "user_id": 6921829, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TjT5QWqGMDU/AAAAAAAAAAI/AAAAAAAAA9Q/DNCpJksOM88/photo.jpg?sz=128", "display_name": "kos", "link": "https://stackoverflow.com/users/6921829/kos"}, "is_accepted": false, "score": 1, "last_activity_date": 1554972663, "last_edit_date": 1554972663, "creation_date": 1554972083, "answer_id": 55628189, "question_id": 55604386, "link": "https://stackoverflow.com/questions/55604386/how-can-i-enforce-depth-first-retrieval-using-rxjs-expand/55628189#55628189", "title": "How can I enforce depth-first retrieval using rxjs expand?", "body": "<p>I think its a good question and I'd agree that it seems that for parallel fetch you'll need some additional data structure to compose results after fetching.</p>\n\n<p>Yet, it was interesting to implement a recursive reconstruction via <code>expand</code>, so heres my <strong>sequential</strong> attempt:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>sequentialDFS(getChildren: Getter, ids: number[]): Observable&lt;number[]&gt; {\n  return of(ids).pipe(\n    expand(([head, ...rest]) =&gt;\n      // here we have a sequence of ids\n      // that we'll explore in left-to-right order,\n      // e.g. [1, 17, 20] will...\n      getChildren(head).pipe(\n        switchMap(subChildren =&gt; {\n          // ...will turn here into [2, 6, 17, 20]\n          const acc = [...subChildren, ...rest ];\n          return acc.length\n            ? of(acc)\n            : EMPTY;\n        })\n      )\n    ),\n\n    // collect the heads {{{\n    map(([head])=&gt;head),\n    toArray()\n    // }}}\n  );\n}\n</code></pre>\n\n<p>* I've a bit modified the getChildren method to return <code>Observable&lt;number[]&gt;</code> instead of <code>Observable&lt;number&gt;</code></p>\n\n<p><a href=\"https://stackblitz.com/edit/rxjs-rf8d1j\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/rxjs-rf8d1j</a></p>\n\n<p>This is by no means an answer to the parallel fetching. Just sharing it because it was fun.</p>\n"}], "owner": {"reputation": 1213, "user_id": 612003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HuUtm.jpg?s=128&g=1", "display_name": "Matthew Moss", "link": "https://stackoverflow.com/users/612003/matthew-moss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1554972663, "creation_date": 1554867203, "last_edit_date": 1554867647, "question_id": 55604386, "link": "https://stackoverflow.com/questions/55604386/how-can-i-enforce-depth-first-retrieval-using-rxjs-expand", "title": "How can I enforce depth-first retrieval using rxjs expand?", "body": "<p>I'm working on an Angular 7 / Typescript / RxJS 6.3.3 project, using various RxJS Observables and related operators to process hierarchical collections (tree-like, specifically) of objects retrieved from a database via http server.</p>\n\n<p>I thought to use the <code>expand</code> operator to create a depth-first search, and used <code>concatMap</code> to keep order... or so I hoped. Doesn't work.</p>\n\n<p>See distilled example here: <a href=\"https://stackblitz.com/edit/rxjs-vf4zem\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/rxjs-vf4zem</a></p>\n\n<p>The console output from that example is:</p>\n\n<pre><code>dfs no delay: [1,8,9,22,23,24,2,4,7,3]\ndfs with delay: [1,2,3,4,7,8,9,22,23,24]\n</code></pre>\n\n<p>(The second output line may vary depending on how much delay is added. The delay is intended to simulate data fetch from the http server.)</p>\n\n<p>Given the data in the example, my desire is to consistently get the first line of output: a depth-first ordering. The key function from the example:</p>\n\n<pre><code>const dfs = (getter: Getter) =&gt; rootIds.pipe(\n  concatMap(ids =&gt; from(ids)),\n  expand(id =&gt;\n    getter(id).pipe(\n      concatMap(children =&gt; from(children))\n    )\n  ),\n  toArray()\n);\n</code></pre>\n\n<p>Is there a way to enforce depth-first processing? Can <code>expand</code> not guarantee that, or is this just a poor means to accomplish getting hierarchical data into a flattened, depth-first array?</p>\n"}, {"tags": ["angular", "typescript", "graphql", "apollo"], "comments": [{"owner": {"reputation": 1466, "user_id": 7152046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a58aa1424f1487821eaed82b78bd4676?s=128&d=identicon&r=PG&f=1", "display_name": "Pavan Bahuguni", "link": "https://stackoverflow.com/users/7152046/pavan-bahuguni"}, "edited": false, "score": 0, "creation_date": 1554874128, "post_id": 55604212, "comment_id": 97905585, "body": "Any errors in the console? or do you see any response in the network tab of dev tools? If you share that it will be helpful to check."}, {"owner": {"reputation": 6970, "user_id": 3055401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oFCkF.jpg?s=128&g=1", "display_name": "Michael Doye", "link": "https://stackoverflow.com/users/3055401/michael-doye"}, "edited": false, "score": 0, "creation_date": 1554880820, "post_id": 55604212, "comment_id": 97908383, "body": "Can you check your network tab in the browser console and see if the request is being executed successfully?"}, {"owner": {"reputation": 91, "user_id": 6076897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e909721ad261109c143c4e04a8200f5?s=128&d=identicon&r=PG&f=1", "display_name": "Francois", "link": "https://stackoverflow.com/users/6076897/francois"}, "edited": false, "score": 0, "creation_date": 1555013856, "post_id": 55604212, "comment_id": 97971658, "body": "Hi. There is no error in the network tab and the request is executed successfully with expected response."}], "answers": [{"tags": [], "owner": {"reputation": 91, "user_id": 6076897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e909721ad261109c143c4e04a8200f5?s=128&d=identicon&r=PG&f=1", "display_name": "Francois", "link": "https://stackoverflow.com/users/6076897/francois"}, "is_accepted": false, "score": 0, "last_activity_date": 1555058956, "last_edit_date": 1555058956, "creation_date": 1555055846, "answer_id": 55646986, "question_id": 55604212, "link": "https://stackoverflow.com/questions/55604212/why-apollo-mutate-never-complete/55646986#55646986", "title": "Why Apollo mutate never complete?", "body": "<p>I solved my issue. The problem was the GraphQlModule was not imported in my module.</p>\n\n<p>This code work.</p>\n\n<pre><code>this.apollo.mutate({\n      mutation: gql`mutation createAccount($data: AccountCreateInput!) {\n        createAccount(data: $data) {\n          id\n          username\n          uid\n        }\n      }\n    `,\n    variables: {\n      \"data\":{\n        \"uid\": \"DKpWcH6q2wRCTeUTigrQasdadsVcFfqaS2\",\n        \"username\": \"ydfsdfsfd@mail.com\"\n      }\n    },\n    }).subscribe(result =&gt; console.log(result))\n</code></pre>\n\n<p>This code does not work. May be i need to import another module.</p>\n\n<pre><code>\nthis.createAccount.mutate({\n      data: {\n        uid: 'DKpWcH6q2wRCTeUTigrQasdadsVcFfqaS2',\n        username: 'ydfsdfsfd@mail.com',\n      },\n    }).subscribe(result =&gt; {\n      console.log(result);\n    });\n\n</code></pre>\n\n<p>Thank</p>\n"}], "owner": {"reputation": 91, "user_id": 6076897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e909721ad261109c143c4e04a8200f5?s=128&d=identicon&r=PG&f=1", "display_name": "Francois", "link": "https://stackoverflow.com/users/6076897/francois"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1555058956, "creation_date": 1554865938, "question_id": 55604212, "link": "https://stackoverflow.com/questions/55604212/why-apollo-mutate-never-complete", "title": "Why Apollo mutate never complete?", "body": "<p>I stuck with apollo mutation since 2 days.</p>\n\n<p>When i call a mutation on angular apollo generated code and subscribe,  the subscription never complete. I want to get result from the server but nothing is returned. </p>\n\n<p>I dont know why it never complete. When i call directly the graphql server with post request using Postman i get the expected result.</p>\n\n<pre><code> constructor(\n    private createAccount: CreateAccountGQL,) {\n  }\n\nngOnInit() {\n this.createAccount.mutate({\n      data: {\n        uid: 'sdfsdfsdfs',\n        username: 'yxydfsdsdsdfsfsfsd',\n      },\n    }).subscribe(result =&gt; {\n       // THIS CODE NEVER EXECUTE\n       console.log(result)\n  });\n}\n</code></pre>\n\n<p>Here is the generated code</p>\n\n<pre><code>@Injectable({\n  providedIn: \"root\"\n})\nexport class CreateAccountGQL extends Apollo.Mutation&lt;\n  CreateAccountMutation,\n  CreateAccountVariables\n&gt; {\n  document: any = gql`\n    mutation createAccount($data: AccountCreateInput!) {\n      createAccount(data: $data) {\n        id\n        username\n        uid\n      }\n    }\n  `;\n}\n</code></pre>\n\n<p>I would like to get some result in my subscribe complete callback.\nPlease any help\nThank</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2027, "user_id": 3204942, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/YF12O.jpg?s=128&g=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/3204942/gary"}, "edited": false, "score": 2, "creation_date": 1554865323, "post_id": 55604082, "comment_id": 97903500, "body": "Not sure what you are trying to do. But you can try using index. <code>&lt;tr *ngFor=&quot;let sensor of lot.income;let index;&quot; &gt;           &lt;td&gt;{{index++}}&lt;&#47;td&gt; </code>. There is documentation for this in angular.io tuts section."}, {"owner": {"reputation": 1129, "user_id": 8958938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23051392d5054253f717546ffe1c24bf?s=128&d=identicon&r=PG&f=1", "display_name": "Jamith NImantha", "link": "https://stackoverflow.com/users/8958938/jamith-nimantha"}, "reply_to_user": {"reputation": 2027, "user_id": 3204942, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/YF12O.jpg?s=128&g=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/3204942/gary"}, "edited": false, "score": 0, "creation_date": 1554869409, "post_id": 55604082, "comment_id": 97904392, "body": "there are values with different length in each object so does not work in my case."}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 1, "creation_date": 1554873818, "post_id": 55604082, "comment_id": 97905490, "body": "@JamithNimantha Can you please explain a bit more or expected output?"}, {"owner": {"reputation": 1129, "user_id": 8958938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23051392d5054253f717546ffe1c24bf?s=128&d=identicon&r=PG&f=1", "display_name": "Jamith NImantha", "link": "https://stackoverflow.com/users/8958938/jamith-nimantha"}, "edited": false, "score": 0, "creation_date": 1554877343, "post_id": 55604082, "comment_id": 97906669, "body": "I want to get counter(index) of each row when i load the table. such as 1,2,3,4.. etc. but the problem is each object has arrays of objects with different lengths."}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 1, "creation_date": 1554880416, "post_id": 55604082, "comment_id": 97908144, "body": "@JamithNimantha Try this:<a href=\"https://stackoverflow.com/a/42266663/7124761\">stackoverflow.com/a/42266663/7124761</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1129, "user_id": 8958938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23051392d5054253f717546ffe1c24bf?s=128&d=identicon&r=PG&f=1", "display_name": "Jamith NImantha", "link": "https://stackoverflow.com/users/8958938/jamith-nimantha"}, "edited": false, "score": 0, "creation_date": 1554869555, "post_id": 55604293, "comment_id": 97904419, "body": "I have tried with index but it does not work because there are values with different length in in my each object"}, {"owner": {"reputation": 64, "user_id": 11333897, "user_type": "registered", "profile_image": "https://graph.facebook.com/2501671936531820/picture?type=large", "display_name": "Vinayak Rajguru", "link": "https://stackoverflow.com/users/11333897/vinayak-rajguru"}, "reply_to_user": {"reputation": 1129, "user_id": 8958938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23051392d5054253f717546ffe1c24bf?s=128&d=identicon&r=PG&f=1", "display_name": "Jamith NImantha", "link": "https://stackoverflow.com/users/8958938/jamith-nimantha"}, "edited": false, "score": 1, "creation_date": 1554869627, "post_id": 55604293, "comment_id": 97904432, "body": "can you post snippet of your object here."}, {"owner": {"reputation": 1129, "user_id": 8958938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23051392d5054253f717546ffe1c24bf?s=128&d=identicon&r=PG&f=1", "display_name": "Jamith NImantha", "link": "https://stackoverflow.com/users/8958938/jamith-nimantha"}, "edited": false, "score": 0, "creation_date": 1554870844, "post_id": 55604293, "comment_id": 97904711, "body": "I updated the question with my object. please have a look at that."}], "tags": [], "owner": {"reputation": 64, "user_id": 11333897, "user_type": "registered", "profile_image": "https://graph.facebook.com/2501671936531820/picture?type=large", "display_name": "Vinayak Rajguru", "link": "https://stackoverflow.com/users/11333897/vinayak-rajguru"}, "is_accepted": false, "score": 2, "last_activity_date": 1554866532, "creation_date": 1554866532, "answer_id": 55604293, "question_id": 55604082, "link": "https://stackoverflow.com/questions/55604082/increment-a-value-counter-in-a-nested-for-loop-in-angular/55604293#55604293", "title": "increment a value counter in a nested for loop in Angular", "body": "<p>You can add another local variable to hold the counter e.g: let i = index; like below. To start your object from 1 add {{i + 1}} this should work</p>\n\n<pre><code>&lt;ng-container *ngFor= \"let lot of all;\"&gt;\n        &lt;tr *ngFor=\"let sensor of lot.income; let i = index\" &gt;\n          &lt;td&gt;{{i + 1}}&lt;/td&gt;  // counter here\n          &lt;td&gt;{{lotM.project.name}}&lt;/td&gt;\n          &lt;td&gt;{{sensor.incomeNo}}&lt;/td&gt;\n        &lt;/tr&gt;\n&lt;/ng-container&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 64, "user_id": 11333897, "user_type": "registered", "profile_image": "https://graph.facebook.com/2501671936531820/picture?type=large", "display_name": "Vinayak Rajguru", "link": "https://stackoverflow.com/users/11333897/vinayak-rajguru"}, "is_accepted": true, "score": 1, "last_activity_date": 1554879770, "creation_date": 1554879770, "answer_id": 55606571, "question_id": 55604082, "link": "https://stackoverflow.com/questions/55604082/increment-a-value-counter-in-a-nested-for-loop-in-angular/55606571#55606571", "title": "increment a value counter in a nested for loop in Angular", "body": "<p>I tried to work around with the counter issue, added CSS counters but you will have to manage the design.\n<a href=\"https://i.stack.imgur.com/oKer3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oKer3.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>&lt;table class=\"mainTable\"&gt;\n    &lt;tr&gt;\n      &lt;td width=\"20%\"&gt;SR. No&lt;/td&gt;\n      &lt;td width=\"20%\"&gt;Income No&lt;/td&gt;\n      &lt;td width=\"20%\"&gt;Discount&lt;/td&gt;\n      &lt;td width=\"20%\"&gt;Name &lt;/td&gt; \n      &lt;td width=\"20%\"&gt;Code&lt;/td&gt; \n    &lt;/tr&gt;\n    &lt;tr *ngFor=\"let sensor of ProductMain; let i = index\"&gt;\n      &lt;td colspan=\"5\"&gt;\n        &lt;table border=\"1\" width=\"100%\"&gt;\n            &lt;tr *ngFor=\"let lot of sensor.income; let i = index\"&gt;\n              &lt;td width=\"20%\" class=\"counter\"&gt;&lt;!-- Counter via CSS --&gt;&lt;/td&gt;\n              &lt;td width=\"20%\"&gt;{{lot.incomeNo}}&lt;/td&gt;\n              &lt;td width=\"20%\"&gt;{{lot.discount}}&lt;/td&gt;\n              &lt;td width=\"20%\"&gt;{{sensor.project.code}}&lt;/td&gt;\n              &lt;td width=\"20%\"&gt;{{sensor.project.project}}&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n      &lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/table&gt;\n</code></pre>\n\n<p>in css file add: </p>\n\n<pre><code>.mainTable{\n    counter-reset: section;\n}\n.counter::before {\n    counter-increment: section;\n    content: counter(section) \") \";\n}\n</code></pre>\n"}], "owner": {"reputation": 1129, "user_id": 8958938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23051392d5054253f717546ffe1c24bf?s=128&d=identicon&r=PG&f=1", "display_name": "Jamith NImantha", "link": "https://stackoverflow.com/users/8958938/jamith-nimantha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1519, "favorite_count": 1, "accepted_answer_id": 55606571, "answer_count": 2, "score": 0, "last_activity_date": 1554899325, "creation_date": 1554864980, "last_edit_date": 1554899325, "question_id": 55604082, "link": "https://stackoverflow.com/questions/55604082/increment-a-value-counter-in-a-nested-for-loop-in-angular", "title": "increment a value counter in a nested for loop in Angular", "body": "<p>I want to increment a counter value inside a nested for loop and print the value(like 1,2,3,4) when the table is loaded. But the problem is I have values with different length in my objects. think there are 100 rows in the table so the counter column must print 1-100.</p>\n\n<pre><code>&lt;ng-container *ngFor= \"let lot of all;\"&gt;\n        &lt;tr *ngFor=\"let sensor of lot.income;\" &gt;\n          &lt;td&gt;{{count++}}&lt;/td&gt;  // counter here\n          &lt;td&gt;{{lot.project.name}}&lt;/td&gt;\n          &lt;td&gt;{{sensor.incomeNo}}&lt;/td&gt;\n        &lt;/tr&gt;\n&lt;/ng-container&gt;\n</code></pre>\n\n<p>My object is look like this in JSON.</p>\n\n<pre><code>[\n  {\n    \"project\": {\n      \"project\": \"project_one\",\n      \"code\": \"0000001\"\n    },\n    \"income\": [\n      {\n        \"incomeNo\": 1,\n        \"discount\": 0\n      },\n      {\n        \"incomeNo\": 2,\n        \"discount\": 0\n      }\n    ]\n  },\n  {\n    \"project\": {\n      \"project\": \"project_two\",\n      \"code\": \"0000002\"\n    },\n    \"income\": [\n      {\n        \"incomeNo\": 3,\n        \"discount\": 2\n      },\n      {\n        \"incomeNo\": 4,\n        \"discount\": 8\n      },\n    {\n        \"incometNo\": 5,\n        \"discount\": 14\n      },\n    {\n        \"incomeNo\": 6,\n        \"discount\": 3\n      }\n    ]\n  }\n]\n</code></pre>\n"}]