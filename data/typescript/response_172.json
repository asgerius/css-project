[{"tags": ["angular", "typescript", "inheritance"], "comments": [{"owner": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "edited": false, "score": 0, "creation_date": 1524712458, "post_id": 50032780, "comment_id": 87084622, "body": "angular uses <code>@viewChild</code> for parent class can access to child class but you are trying to access <code>StateComponent</code> in <code>BaseComponent</code> that are not <code>BaseComponent</code>&#39;s child, there should be a parent child relation to access via <code>@viewChild</code>."}, {"owner": {"reputation": 54, "user_id": 8173804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa4b8d876d68c503c615c70ecd5be5ae?s=128&d=identicon&r=PG&f=1", "display_name": "ososnilknarf", "link": "https://stackoverflow.com/users/8173804/ososnilknarf"}, "reply_to_user": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "edited": false, "score": 0, "creation_date": 1524757837, "post_id": 50032780, "comment_id": 87110663, "body": "I&#39;m not sure what you mean when you say that there is not a parent child relationship between BaseComponent and StateComponent. I thought &quot;child&quot; meant that the component exists in the parents template, which it does. The BaseComponent template contains &lt;app-state&gt;&lt;/app-state&gt;. And the example works if AppComponent uses BaseComponent. I&#39;ve edited the post to include a plunkr showing the working case where the only change was using BaseComponent in AppComponent."}], "answers": [{"tags": [], "owner": {"reputation": 54, "user_id": 8173804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa4b8d876d68c503c615c70ecd5be5ae?s=128&d=identicon&r=PG&f=1", "display_name": "ososnilknarf", "link": "https://stackoverflow.com/users/8173804/ososnilknarf"}, "is_accepted": false, "score": 0, "last_activity_date": 1524847522, "last_edit_date": 1524847522, "creation_date": 1524765026, "answer_id": 50049185, "question_id": 50032780, "link": "https://stackoverflow.com/questions/50032780/angular-subclass-member-undefined/50049185#50049185", "title": "Angular subclass member undefined", "body": "<p>Okay, after thinking this through some more, I believe I've answered my own question.</p>\n\n<p>The <code>&lt;app-base&gt;</code> in <code>InheritedComponent</code> is a <em>different instance</em> of <code>BaseComponent</code>. </p>\n\n<p>The <code>InheritedComponent</code> is-a <code>BaseComponent</code>, but since it doesn't have a <code>StateComponent</code> child directly, then it's <code>cmpState</code> is undefined.</p>\n\n<p>What I really needed here was a way to include the base component template in the inherited component's template, so that it was the actual base component itself, not a different instance.\nIt looks like this is a proposed feature request in Angular:\n<a href=\"https://github.com/angular/angular/issues/13766\" rel=\"nofollow noreferrer\">https://github.com/angular/angular/issues/13766</a></p>\n"}], "owner": {"reputation": 54, "user_id": 8173804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa4b8d876d68c503c615c70ecd5be5ae?s=128&d=identicon&r=PG&f=1", "display_name": "ososnilknarf", "link": "https://stackoverflow.com/users/8173804/ososnilknarf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 476, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524847522, "creation_date": 1524699687, "last_edit_date": 1524757816, "question_id": 50032780, "link": "https://stackoverflow.com/questions/50032780/angular-subclass-member-undefined", "title": "Angular subclass member undefined", "body": "<p>I have an Angular component that contains some state information. This component is a child component of another component that is used as a base class for inherited component classes. \nThis base class has a <code>@ViewChild</code> member containing the \"state\" component.\nThe base class has a method <code>getState()</code> that is used to fetch the inner state from the ViewChild. This works fine when dealing with an actual base class component, but when it is an inherited class component, the <code>@ViewChild</code> member is undefined.\nI've read up on some of the unusual differences between inheritance in TypeScript and other OOP languages, but it didn't seem to answer this question.\nI've also seen some issues reported that say that decorator properties (such as <code>@Input</code>, <code>@Output</code>, <code>@ViewChild</code>) aren't inherited properly in Angular, and as a workaround you can just declare them again in the inherited class, but I tried this and it didn't resolve this issue.</p>\n\n<p>I've stripped down my code to the simplest case that shows the problem:</p>\n\n<p><strong>StateComponent</strong>:</p>\n\n<pre><code>@Component({\n  selector : 'app-state',\n  template: `\n  &lt;p&gt;Here's the state: {{state}}&lt;/p&gt;\n  `\n})\nexport class StateComponent {\n  state: string = \"My state.\";\n}\n</code></pre>\n\n<p><strong>BaseComponent</strong>:</p>\n\n<pre><code>@Component({\n  selector : 'app-base',\n  template: `\n    &lt;div&gt;\n      &lt;p&gt;BaseComponent&lt;/p&gt;\n      &lt;app-state&gt;&lt;/app-state&gt;\n    &lt;/div&gt;\n    `\n})\nexport class BaseComponent {\n  @ViewChild(StateComponent) stateCmp: StateComponent;\n\n  getState(): string {\n    return this.stateCmp.state;\n  }\n}\n</code></pre>\n\n<p><strong>InheritedComponent</strong>:</p>\n\n<pre><code>@Component({\n  selector : 'app-inherited',\n  template: `\n    &lt;app-base&gt;&lt;/app-base&gt;\n    &lt;div&gt;\n      &lt;p&gt;InheritedComponent&lt;/p&gt;\n    &lt;/div&gt;\n  `\n})\n\nexport class InheritedComponent extends BaseComponent {\n  constructor() {\n    super();\n  }\n}\n</code></pre>\n\n<p><strong>AppComponent</strong>:</p>\n\n<pre><code>@Component({\n  selector: 'app-root',\n  template: `\n  &lt;app-inherited&gt;&lt;/app-inherited&gt;\n  &lt;button (click)=\"onClick()\"&gt;Get state&lt;/button&gt;\n  &lt;p&gt;{{ theState }}&lt;/p&gt;\n  `\n})\nexport class AppComponent {\n  @ViewChild(InheritedComponent) cmpRef: InheritedComponent;\n\n  theState: string;\n\n  onClick() {\n    this.theState = this.cmpRef.getState();\n  }\n}\n</code></pre>\n\n<p>In this sample, clicking <code>Get state</code> fails because BaseComponent.stateCmp is undefined. Changing the AppComponent to use BaseComponent works fine and gets the state from the child component.\nIs there a way to do what I'm trying to do here?</p>\n\n<p>Here is a <a href=\"https://plnkr.co/edit/PvCinem217yhqq7l?open=lib%2Fapp.ts&amp;preview\" rel=\"nofollow noreferrer\">plunkr</a> showing the failing case where AppComponent contains InheritedComponent.</p>\n\n<p>Here is a <a href=\"https://plnkr.co/edit/Uq1wR3vGVFe9kSmj?open=lib%2Fapp.ts&amp;preview\" rel=\"nofollow noreferrer\">plunkr</a> showing the working case where the only difference is AppComponent contains BaseComponent.</p>\n"}, {"tags": ["angular", "typescript", "google-analytics"], "comments": [{"owner": {"reputation": 70965, "user_id": 1841839, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ZyKjr.png?s=128&g=1", "display_name": "DaImTo", "link": "https://stackoverflow.com/users/1841839/daimto"}, "edited": false, "score": 0, "creation_date": 1524722862, "post_id": 50032750, "comment_id": 87087706, "body": "I&#39;m voting to close this question as off-topic because its not programming related may be better suited for <a href=\"https://webapps.stackexchange.com/\">webapps.stackexchange.com</a> where author can get help with advanced configuration of Google Analytics."}, {"owner": {"reputation": 29201, "user_id": 761212, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6980d628cf95cf2e91658b89a29bdd63?s=128&d=identicon&r=PG&f=1", "display_name": "Eike Pierstorff", "link": "https://stackoverflow.com/users/761212/eike-pierstorff"}, "edited": false, "score": 0, "creation_date": 1524730510, "post_id": 50032750, "comment_id": 87092183, "body": "You can adjust the session duration in the property settings (I think to max four hours) - this is the use case Google had in mind when they introduced that feature."}, {"owner": {"reputation": 465, "user_id": 5869860, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6PO2q.jpg?s=128&g=1", "display_name": "Brian Norman", "link": "https://stackoverflow.com/users/5869860/brian-norman"}, "edited": false, "score": 0, "creation_date": 1524759766, "post_id": 50032750, "comment_id": 87111744, "body": "Sending an event should also keep the session alive assuming the event is not a non-interaction event."}], "owner": {"reputation": 149, "user_id": 6190999, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/fcbeb809f99538b1a195867a6658b126?s=128&d=identicon&r=PG&f=1", "display_name": "Nicster15", "link": "https://stackoverflow.com/users/6190999/nicster15"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1524722825, "creation_date": 1524699393, "last_edit_date": 1524722825, "question_id": 50032750, "link": "https://stackoverflow.com/questions/50032750/google-analytics-prevent-real-time-data-from-expiring-on-inactivity", "title": "Google Analytics / Prevent Real Time Data from Expiring on Inactivity", "body": "<p>I've put Google Analytics on my Angular website in order to view statistics about my website. However, due to my website being one where not much activity occurs (it's a video website where you watch highlights) users can go 20 - 30+ minutes between interactions. Due to how Google Analytics works, it considers the user inactive and removes them from the statistics of the real time count.</p>\n\n<p>Is there anyway to prevent them from expiring, regardless of their inactivity or not? I tried to send a fake event to Google Analytics via my main Angular component but that didn't seem to do anything.</p>\n\n<p>Any help would be great.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["typescript", "type-variables", "typescript-generics"], "answers": [{"comments": [{"owner": {"reputation": 8635, "user_id": 41652, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/463081085388ffb3890dbcdeb64e8415?s=128&d=identicon&r=PG", "display_name": "Hugo Sereno Ferreira", "link": "https://stackoverflow.com/users/41652/hugo-sereno-ferreira"}, "edited": false, "score": 0, "creation_date": 1524698679, "post_id": 50032652, "comment_id": 87081429, "body": "Makes sense! :D"}, {"owner": {"reputation": 8635, "user_id": 41652, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/463081085388ffb3890dbcdeb64e8415?s=128&d=identicon&r=PG", "display_name": "Hugo Sereno Ferreira", "link": "https://stackoverflow.com/users/41652/hugo-sereno-ferreira"}, "edited": false, "score": 0, "creation_date": 1524699112, "post_id": 50032652, "comment_id": 87081553, "body": "The thing I don&#39;t honestly like is the <code>Array.prototype... =</code> stuff. It only works in concrete types, and I was looking to extend <code>ArrayLike</code>."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 8635, "user_id": 41652, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/463081085388ffb3890dbcdeb64e8415?s=128&d=identicon&r=PG", "display_name": "Hugo Sereno Ferreira", "link": "https://stackoverflow.com/users/41652/hugo-sereno-ferreira"}, "edited": false, "score": 1, "creation_date": 1524699271, "post_id": 50032652, "comment_id": 87081582, "body": "That&#39;s an interesting point. <code>Array</code> isn&#39;t a concrete type either, as TypeScrippt doesn&#39;t have such things. What it is is a value and a type that have the same name. There is no <code>ArrayLike</code> value. when we talk about types, we tend to conflate the value and the type but they are not connected at all. I say that because a constructor is not a type and <code>instanceof</code> is not a type test it&#39;s a reference check on a mutable property"}], "tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": true, "score": 1, "last_activity_date": 1524699137, "last_edit_date": 1524699137, "creation_date": 1524698502, "answer_id": 50032652, "question_id": 50032604, "link": "https://stackoverflow.com/questions/50032604/restrict-interface-type-parameter-in-method/50032652#50032652", "title": "Restrict interface type parameter in method", "body": "<p>You've got the right idea, just the wrong syntax.</p>\n\n<p>This is how you write it.</p>\n\n<pre><code>interface Array&lt;T&gt; {\n  sum(this: number[]): number;\n}\n</code></pre>\n\n<p>Notice how we used the <code>this</code> type which is a synthetic  parameter does not change the arity of the function. The syntax you attempted to use, while an interesting guess, is used for another purpose namely type guards.</p>\n\n<p>The interesting part is that the type annotation on <code>this</code> takes precedence over the type of the interface. You could declare a generic parameter as well, apply it to <code>this</code>, and place restrictions on <code>T</code> so it can be composed as well. There is a ton of flexibility.</p>\n\n<p>Here's an interesting one that combines both the interface type and refines it with <code>this</code></p>\n\n<pre><code>interface Array&lt;T&gt; {\n  flatten(this: T[][]): T[];\n}\n</code></pre>\n"}], "owner": {"reputation": 8635, "user_id": 41652, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/463081085388ffb3890dbcdeb64e8415?s=128&d=identicon&r=PG", "display_name": "Hugo Sereno Ferreira", "link": "https://stackoverflow.com/users/41652/hugo-sereno-ferreira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 50032652, "answer_count": 1, "score": 3, "last_activity_date": 1524699230, "creation_date": 1524698001, "last_edit_date": 1524699230, "question_id": 50032604, "link": "https://stackoverflow.com/questions/50032604/restrict-interface-type-parameter-in-method", "title": "Restrict interface type parameter in method", "body": "<p>I'm trying to convey that a method only makes sense when the type parameter of its interface honours a certain constraint. Here's a (non-compiling) example:</p>\n\n<pre><code>interface Array&lt;T&gt; {\n    fold&lt;B&gt;(base: B, f: (acc: B, e: T) =&gt; B): B\n    sum(): T is number\n}\n\nArray.prototype.fold = function(base, f) {\n    let result = base\n    for (let i = 0; i &lt; this.length; i++)\n        result = f(result, this[i])\n    return result\n}\n\nArray.prototype.sum = function() {\n    return this.fold(0, (acc, e) =&gt; acc + e)\n};\n\n[1, 'a', 3].sum() //? 1a3  &lt;-- should be an error!\n</code></pre>\n\n<p>Here, I was trying to convey that <code>sum</code> only makes sense when <code>T extends number</code>.</p>\n"}, {"tags": ["angular", "typescript", "mocking", "angular5"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1524698359, "post_id": 50031574, "comment_id": 87081344, "body": "You don&#39;t need to quote the keys."}], "answers": [{"tags": [], "owner": {"reputation": 171, "user_id": 9690552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4GTDA.png?s=128&g=1", "display_name": "Tiago Machado", "link": "https://stackoverflow.com/users/9690552/tiago-machado"}, "is_accepted": false, "score": 1, "last_activity_date": 1524691983, "creation_date": 1524691983, "answer_id": 50031669, "question_id": 50031574, "link": "https://stackoverflow.com/questions/50031574/angular-5-inmemorydbservice-collection-not-working/50031669#50031669", "title": "Angular 5 InMemoryDbService collection not working", "body": "<p>The second Object is not write, try this:</p>\n\n<pre><code>const my_search = [{\n    'id': 555,\n    'firstName': 'fred',\n    'lastName': 'flintstone',\n\n    'extraData': {\n        'extrathingie': 'hi'\n     }\n}]\n</code></pre>\n"}], "owner": {"reputation": 369, "user_id": 2117028, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/45db8b9c02a9fee7327243a5bc767da8?s=128&d=identicon&r=PG", "display_name": "Armando Perea", "link": "https://stackoverflow.com/users/2117028/armando-perea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524691983, "creation_date": 1524691455, "question_id": 50031574, "link": "https://stackoverflow.com/questions/50031574/angular-5-inmemorydbservice-collection-not-working", "title": "Angular 5 InMemoryDbService collection not working", "body": "<p>I'm using the InMemoryDbService as shown in the tour of heroes sample Angular app. It works well, and even in my own project, until I attempt to do something 'fancy' like adding in an embedded object.</p>\n\n<p>In the createDb method, this way works:</p>\n\n<pre><code>const my_search = [\n    {\n        'id': 555,\n        'firstName': 'fred',\n        'lastName': 'flintstone'\n    }\n]\n</code></pre>\n\n<p>but this way doesn't work (extraData object included):</p>\n\n<pre><code>const my_search = [\n{\n  'id': 555,\n  'firstName': 'fred',\n  'lastName': 'flintstone',\n\n  'extraData' :{\n    'extrathingie':'hi'\n    }          \n   }\n\n}\n]\n</code></pre>\n\n<p>I don't get any errors in the backend, but the UI complains about undefined coming thru. Is this even possible? \nThanks</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "is_accepted": false, "score": 2, "last_activity_date": 1524694500, "creation_date": 1524694500, "answer_id": 50032084, "question_id": 50031247, "link": "https://stackoverflow.com/questions/50031247/array-reduce-and-optional-values-in-typescript/50032084#50032084", "title": "Array reduce and optional values in typescript", "body": "<p>It's easier to see what is going on if you change the generic type names:</p>\n\n<pre><code>export const getArrayFold = &lt;R&gt;(): Foldable&lt;Array&lt;R&gt;&gt; =&gt; {\n</code></pre>\n\n<p>Now you will get <code>Type 'R' is not assignable to type 'A'</code>. <code>array.reduce</code> uses different types for the current value and previous value, so you have type <code>A</code> (the generic type from your interface) and type <code>R</code> from your <code>getArrayFold</code> function.</p>\n\n<p>You have not actually passed in the generic type <code>A</code> to <code>reduce</code>, so it considers it to be <code>A</code> from the interface which essentially just means it can't determine what the type is supposed to be.</p>\n\n<p>One way I have found to do this is to allow your interface to specify the type of both <code>A</code> and <code>F</code>:</p>\n\n<pre><code>export interface Foldable&lt;F, A&gt; {\n  reduce: (fn: (b: A, a: A) =&gt; A, initial: A, foldable: F) =&gt; A;\n</code></pre>\n\n<p>Now you can write your array function as</p>\n\n<pre><code>getArrayFold = &lt;R&gt;(): Foldable&lt;Array&lt;R&gt;, R&gt;\n</code></pre>\n\n<p>When you call it, you can do</p>\n\n<pre><code>getArrayFold&lt;string&gt;().reduce((a, b) =&gt; a + b, '', ['hello', 'world']);\n</code></pre>\n\n<p>This will give you type safety so you can't use <code>0</code> as a value or <code>.toFixed</code> on the <code>a</code>/<code>b</code> properties or things like that.</p>\n"}, {"comments": [{"owner": {"reputation": 816, "user_id": 9205413, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L1wWQ.jpg?s=128&g=1", "display_name": "frederj", "link": "https://stackoverflow.com/users/9205413/frederj"}, "edited": false, "score": 1, "creation_date": 1579279308, "post_id": 50032117, "comment_id": 105725349, "body": "Thanks. My use case was different, but your answer reminded me that I needed to type my accumulator, which made everything good to go!"}], "tags": [], "owner": {"reputation": 5182, "user_id": 2757140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b48000922680b510078188df438184dd?s=128&d=identicon&r=PG", "display_name": "Piotr Lewandowski", "link": "https://stackoverflow.com/users/2757140/piotr-lewandowski"}, "is_accepted": true, "score": 6, "last_activity_date": 1524697242, "last_edit_date": 1524697242, "creation_date": 1524694713, "answer_id": 50032117, "question_id": 50031247, "link": "https://stackoverflow.com/questions/50031247/array-reduce-and-optional-values-in-typescript/50032117#50032117", "title": "Array reduce and optional values in typescript", "body": "<p>There are two errors:</p>\n\n<ul>\n<li>You need to provide which type is array. You can't get it from single generic <code>Array&lt;T&gt;</code>, you need to introduce both <code>T</code> and <code>Array&lt;T&gt;</code>.</li>\n<li>Your type for function that is consumed by <code>reduce</code> is not adequate. Correct one: <code>(previousValue: A, currentValue: F) =&gt; A</code></li>\n</ul>\n\n<p>Explanation:</p>\n\n<p>If you provide <em>initial</em> value with type (e.g. <code>string</code>) to reduce function, <em>previousValue</em> parameter is always same as <em>inital</em>.</p>\n\n<p>See official <a href=\"https://github.com/Microsoft/TypeScript/blob/b2bfccfce4dc725515907cb8842699965404cf00/lib/lib.es6.d.ts#L1092\" rel=\"noreferrer\">TypeScript reduce declaration</a>:</p>\n\n<pre><code>interface Array&lt;T&gt; {\n    reduce&lt;U&gt;(callbackfn: (previousValue: U, currentValue: T, currentIndex: number, array: ReadonlyArray&lt;T&gt;) =&gt; U, initialValue: U): U;\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Full code (refactored)</strong></p>\n\n<pre><code>interface Foldable&lt;F, T&gt; {\n    reduce: &lt;A&gt;(\n        fn: (previousValue: A, currentValue: T) =&gt; A,\n        initial: A,\n        foldable: F\n    ) =&gt; A;\n}\n\nconst getArrayFold = &lt;T&gt;(): Foldable&lt;T[], T&gt; =&gt; ({\n    reduce(fn, initial, array) {\n        return array.reduce(fn, initial);\n    }\n});\n\n// Real implementation usage\nconst array: number[] = [1, 2, 3]\nconst initial: string = \"\";\nconst fn: (previousValue: string, currentValue: number) =&gt; string = (a, b) =&gt; a + b;\n\nconst newValue: string = getArrayFold().reduce(fn, initial, array);\n</code></pre>\n\n<p>See code on <a href=\"https://www.typescriptlang.org/play/#src=interface%20Foldable%3CT%2C%20F%3E%20%7B%0D%0A%20%20%20%20reduce%3A%20%3CA%3E(%0D%0A%20%20%20%20%20%20%20%20fn%3A%20(previousValue%3A%20A%2C%20currentValue%3A%20F)%20%3D%3E%20A%2C%0D%0A%20%20%20%20%20%20%20%20initial%3A%20A%2C%0D%0A%20%20%20%20%20%20%20%20foldable%3A%20T%0D%0A%20%20%20%20)%20%3D%3E%20A%3B%0D%0A%7D%0D%0A%0D%0Aconst%20getArrayFold%20%3D%20%3CT%3E()%3A%20Foldable%3CT%5B%5D%2C%20T%3E%20%3D%3E%20(%7B%0D%0A%20%20%20%20reduce(fn%2C%20initial%2C%20array)%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20array.reduce(fn%2C%20initial)%3B%0D%0A%20%20%20%20%7D%0D%0A%7D)%3B%0D%0A%20%20%20%20%0D%0A%2F%2F%20Real%20implementation%0D%0Aconst%20array%3A%20number%5B%5D%20%3D%20%5B1%2C%202%2C%203%5D%0D%0Aconst%20initial%3A%20string%20%3D%20%22%22%3B%0D%0Aconst%20fn%3A%20(previousValue%3A%20string%2C%20currentValue%3A%20number)%20%3D%3E%20string%20%3D%20(a%2C%20b)%20%3D%3E%20a%20%2B%20b%3B%0D%0A%0D%0Aconst%20newValue%3A%20string%20%3D%20getArrayFold().reduce(fn%2C%20initial%2C%20array)%3B\" rel=\"noreferrer\">TypeScript playground</a></p>\n"}], "owner": {"reputation": 21618, "user_id": 11755, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5b9872f3076db04cb2ffb516091d80d0?s=128&d=identicon&r=PG", "display_name": "dagda1", "link": "https://stackoverflow.com/users/11755/dagda1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7391, "favorite_count": 1, "accepted_answer_id": 50032117, "answer_count": 2, "score": 11, "last_activity_date": 1524697242, "creation_date": 1524689895, "last_edit_date": 1524690890, "question_id": 50031247, "link": "https://stackoverflow.com/questions/50031247/array-reduce-and-optional-values-in-typescript", "title": "Array reduce and optional values in typescript", "body": "<p>Say I have the following foldable interface:</p>\n\n<pre><code>export interface Foldable&lt;F&gt; {\n  reduce: &lt;A&gt;(fn: (b: A, a: A) =&gt; A, initial: A, foldable: F) =&gt; A;\n}\n</code></pre>\n\n<p>And then I want to implement it for array:</p>\n\n<pre><code>export const getArrayFold = &lt;A&gt;(): Foldable&lt;Array&lt;A&gt;&gt; =&gt; {\n  return {\n    reduce: (fn, initial, array) =&gt; {\n      return array.reduce(fn, initial);\n    }\n  };\n};\n</code></pre>\n\n<p>But the compiler complains with:</p>\n\n<blockquote>\n  <p>Argument of type '(b: A, a: A) => A' is not assignable to parameter of\n  type '(previousValue: A, currentValue: A, currentIndex: number, array:\n  A[]) => A'.   Types of parameters 'a' and 'currentValue' are\n  incompatible.\n      Type 'A' is not assignable to type 'A'. Two different types with this name exist, but they are unrelated.</p>\n</blockquote>\n\n<p>I don't understand how there are two different types of <code>A</code> here.</p>\n"}, {"tags": ["typescript", "visual-studio-code", "vscode-extensions"], "comments": [{"owner": {"reputation": 7159, "user_id": 877279, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/5fa0544f9a87c652a5b5c1d4b401fcae?s=128&d=identicon&r=PG", "display_name": "Tyler Sebastian", "link": "https://stackoverflow.com/users/877279/tyler-sebastian"}, "edited": false, "score": 0, "creation_date": 1524687878, "post_id": 50030695, "comment_id": 87077552, "body": "just leave out the generics part <code>export class DepNodeProvider implements vscode.TreeDataProvider { ...</code>"}, {"owner": {"reputation": 7159, "user_id": 877279, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/5fa0544f9a87c652a5b5c1d4b401fcae?s=128&d=identicon&r=PG", "display_name": "Tyler Sebastian", "link": "https://stackoverflow.com/users/877279/tyler-sebastian"}, "edited": false, "score": 0, "creation_date": 1524722175, "post_id": 50030695, "comment_id": 87087432, "body": "whoops, you&#39;re right."}], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 2008301, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/9c2cfe5c1e45ed7d5052c4e8a81085d1?s=128&d=identicon&r=PG", "display_name": "Mike F", "link": "https://stackoverflow.com/users/2008301/mike-f"}, "edited": false, "score": 0, "creation_date": 1524848991, "post_id": 50032819, "comment_id": 87150863, "body": "How would I extend <code>vscode.TreeDataProvider</code> though, if it doesn&#39;t exist in vanilla js? I would just write my own TreeDataProvider and make sure my api matches the one that is shown in the docs?"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 179, "user_id": 2008301, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/9c2cfe5c1e45ed7d5052c4e8a81085d1?s=128&d=identicon&r=PG", "display_name": "Mike F", "link": "https://stackoverflow.com/users/2008301/mike-f"}, "edited": false, "score": 0, "creation_date": 1524849628, "post_id": 50032819, "comment_id": 87151154, "body": "@MikeF precisely. <code>vscode.TreeDataProvider</code> cannot exist in vanilla JavaScript because is a only a type. Why not write in TypeScript though?"}, {"owner": {"reputation": 179, "user_id": 2008301, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/9c2cfe5c1e45ed7d5052c4e8a81085d1?s=128&d=identicon&r=PG", "display_name": "Mike F", "link": "https://stackoverflow.com/users/2008301/mike-f"}, "edited": false, "score": 1, "creation_date": 1524861454, "post_id": 50032819, "comment_id": 87156367, "body": "No specific reason. Thanks for helping me out."}], "tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": true, "score": 1, "last_activity_date": 1542671183, "last_edit_date": 1542671183, "creation_date": 1524700008, "answer_id": 50032819, "question_id": 50030695, "link": "https://stackoverflow.com/questions/50030695/confused-about-how-to-access-treedataprovider/50032819#50032819", "title": "confused about how to access TreeDataProvider", "body": "<p>You need to understand that TypeScript has a structural type system.</p>\n\n<p>You can think of it as static duck typing.</p>\n\n<p>The use of the <code>implements</code> keyword on a class definition is completely optional. It doesn't actually have any impact at either compile time or runtime. Its only use is to provide an extra bit of correctness checking documentation, but it isn't ever required in TypeScript so it certainly isn't required in JavaScript. </p>\n\n<p>So to answer the question directly, in vanilla JS just write</p>\n\n<pre><code>export class DepNodeProvider {\n  // definitions of all members the interface requires.\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 874, "user_id": 1688159, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6d1317437558398c4a1ccda143b1bc7f?s=128&d=identicon&r=PG", "display_name": "batjko", "link": "https://stackoverflow.com/users/1688159/batjko"}, "is_accepted": false, "score": 0, "last_activity_date": 1528669864, "creation_date": 1528669864, "answer_id": 50788622, "question_id": 50030695, "link": "https://stackoverflow.com/questions/50030695/confused-about-how-to-access-treedataprovider/50788622#50788622", "title": "confused about how to access TreeDataProvider", "body": "<p>Classes in Javascript are just wrappers around functions.</p>\n\n<p>Here is a most basic TreeDataProvider, written as a function:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export default function MyAwesomeProvider(): vscode.TreeDataProvider&lt;{}&gt; {\r\n  // do some stuff if you wish\r\n\r\n  return {\r\n    getTreeItem,\r\n    getChildren,\r\n    onDidChangeTreeData,\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>According to the interface, only <code>getTreeItem</code> and <code>getChildren</code> are required in the object you return.</p>\n\n<p>Here is an example of those functions:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>async function getChildren(element?: MyCustomType): Promise&lt;MyCustomType[]&gt; {\r\n  const children = element\r\n    ? await getSubListOfElement(element)\r\n    : await getParentList()\r\n  \r\n  return children  \r\n}\r\n\r\nfunction getTreeItem(item: MyCustomType): vscode.TreeItem {\r\n\r\n  return {\r\n    id: `${item.id}`,\r\n    collapsibleState: void 0,\r\n    label: `${item.name}`,\r\n    tooltip: `${item.description}`,\r\n    iconPath: vscode.Uri.parse(item.avatarUrl),\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So, I don't know about you, but extending that seems a lot easier to me than faffing around with pseudo classes and this OOP stuff.</p>\n\n<p>For example, you can create a higher-order function to wrap around <code>MyAwesomeProvider</code>, or you just do something else anywhere in those functions and get on with it.\nNote, you could also just add more properties to the object your provider returns, but Typescript will complain that it doesn't match the interface anymore.</p>\n\n<p>There's something to be said for ignoring types and just doing it the good old JS way (though never less than ES6, we're not savages after all).</p>\n"}], "owner": {"reputation": 179, "user_id": 2008301, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/9c2cfe5c1e45ed7d5052c4e8a81085d1?s=128&d=identicon&r=PG", "display_name": "Mike F", "link": "https://stackoverflow.com/users/2008301/mike-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 674, "favorite_count": 0, "accepted_answer_id": 50032819, "answer_count": 2, "score": 1, "last_activity_date": 1542671183, "creation_date": 1524687569, "question_id": 50030695, "link": "https://stackoverflow.com/questions/50030695/confused-about-how-to-access-treedataprovider", "title": "confused about how to access TreeDataProvider", "body": "<p>I would like to write a extension for vscode but I am struggling to properly understand how to extend the TreeDataProvider. In the <a href=\"https://github.com/Microsoft/vscode-extension-samples/blob/fc9663af5c92dfb9abcaa93384d2b35893d9f4c6/tree-view-sample/src/nodeDependencies.ts\" rel=\"nofollow noreferrer\">example provided</a></p>\n\n<pre><code>export class DepNodeProvider implements vscode.TreeDataProvider&lt;Dependency&gt; {\n</code></pre>\n\n<p>is possible. But the implementation in typescript is</p>\n\n<pre><code>export interface TreeDataProvider&lt;T&gt;\n</code></pre>\n\n<p>from my understanding typescript interfaces aren't exportable to standard javascript. How would I implement the TreeDataProvider if I am writing a extension in vanilla JS?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "ngx-leaflet"], "answers": [{"comments": [{"owner": {"reputation": 817, "user_id": 1661274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9c72f0eee598c691d2117f5b9313006?s=128&d=identicon&r=PG", "display_name": "Simeon Nedkov", "link": "https://stackoverflow.com/users/1661274/simeon-nedkov"}, "edited": false, "score": 0, "creation_date": 1524691886, "post_id": 50030713, "comment_id": 87079368, "body": "Thanks for the quick reply! The problem, unfortunately, persists."}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "reply_to_user": {"reputation": 817, "user_id": 1661274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9c72f0eee598c691d2117f5b9313006?s=128&d=identicon&r=PG", "display_name": "Simeon Nedkov", "link": "https://stackoverflow.com/users/1661274/simeon-nedkov"}, "edited": false, "score": 0, "creation_date": 1524718841, "post_id": 50030713, "comment_id": 87086280, "body": "Hi, I understand. I updated my post. I hope this eventually works for you."}, {"owner": {"reputation": 817, "user_id": 1661274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9c72f0eee598c691d2117f5b9313006?s=128&d=identicon&r=PG", "display_name": "Simeon Nedkov", "link": "https://stackoverflow.com/users/1661274/simeon-nedkov"}, "edited": false, "score": 0, "creation_date": 1524725307, "post_id": 50030713, "comment_id": 87089028, "body": "Thanks for this creative solution! Unfortunately it does not work either. I get the <code>BehaviourSubject</code>&#39;s initial value but nothing afterwards <i>unless</i> I wrap it in <code>NgZone.run()</code>. Seeing that your solution is very similar to @sabithpocker&#39;s I&#39;m starting to think there is something wrong with my Angular installation (5.2.10). Alternatively, Angular does not do change detection in callbacks: I tried calling <code>next()</code> in the service every second through <code>setInterval</code> but it also only works by manually triggering a change detection."}, {"owner": {"reputation": 817, "user_id": 1661274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9c72f0eee598c691d2117f5b9313006?s=128&d=identicon&r=PG", "display_name": "Simeon Nedkov", "link": "https://stackoverflow.com/users/1661274/simeon-nedkov"}, "edited": false, "score": 0, "creation_date": 1524732199, "post_id": 50030713, "comment_id": 87093201, "body": "I found the issue: I&#39;m triggering <code>fetchBuildingData</code> from a callback outside of Angular&#39;s zone. See my solution. Thanks a million for the help! By providing a number of different solutions you helped me verify that the Subject/Observable part is correct."}], "tags": [], "owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "is_accepted": false, "score": 0, "last_activity_date": 1524718451, "last_edit_date": 1524718451, "creation_date": 1524687634, "answer_id": 50030713, "question_id": 50030537, "link": "https://stackoverflow.com/questions/50030537/how-to-properly-multicast-result-of-httpclient-request-to-several-components-in/50030713#50030713", "title": "How to properly multicast result of HttpClient request to several components in Angular?", "body": "<p><strong>EDIT:</strong></p>\n\n<p>As your change detection seems to struggle with whatsoever detail in your object, I have another suggestion. And as I also prefer the BehaviorSubject over a sipmple Subject I adjusted even this part of code.</p>\n\n<p><strong>1st</strong> define a wrapper object. The interesting part is, that we add a second value which definitely has to be unique compared to any other wrapper of the same kind you produce.</p>\n\n<p>I usually put those classes in a models.ts which I then import wherever I use this model.</p>\n\n<pre><code>export class Wrapper {\n   constructor(\n       public object: Object,\n       public uniqueToken: number\n   ){}\n}\n</code></pre>\n\n<p><strong>2nd</strong> in your service use this wrapper as follows.</p>\n\n<pre><code>import { Observable } from 'rxjs/Observable'; \nimport { BehaviorSubject } from 'rxjs/BehaviorSubject'; \nimport { Wrapper } from './models.ts';\n\n@Injectable()\nexport class BuildingDataService {\n   private response: BehaviorSubject&lt;Wrapper&gt; = new BehaviorSubject&lt;Wrapper&gt;(new Wrapper(null, 0));\n\n   constructor (private http: HttpClient) { }\n\n   public getResponse(): Observable&lt;Wrapper&gt; {\n        return this.response.asObservable();\n   }\n\n   fetchBuildingData(location) {\n      ...\n      this.http.post(url, location, httpOptions).subscribe(resp =&gt; {\n\n         // generate and fill the wrapper\n         token: number = (new Date()).getTime();\n         wrapper: Wrapper = new Wrapper(resp, token);\n\n         // provide the wrapper\n         this.response.next(wrapper);\n      });\n   }\n</code></pre>\n\n<p>Import the model.ts in all subscribing classes in order to be able to handle it properly and easily.  Let your Subscribers subscribe to the getResponse()-method.</p>\n\n<p>This must work. Using this wrapper + unique token technique I always solved such change detection problems eventually.</p>\n"}, {"comments": [{"owner": {"reputation": 817, "user_id": 1661274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9c72f0eee598c691d2117f5b9313006?s=128&d=identicon&r=PG", "display_name": "Simeon Nedkov", "link": "https://stackoverflow.com/users/1661274/simeon-nedkov"}, "edited": false, "score": 0, "creation_date": 1524691814, "post_id": 50030717, "comment_id": 87079338, "body": "Thanks for the quick reply! Unfortunately, the <code>async</code> pipe produces the same effect: it only works when I trigger a manual change detection preferably through NgZone or else it lags one tick i.e. it displays the previous value instead of the current.  I&#39;ll research BehaviourSubject, thanks for pointing it out."}, {"owner": {"reputation": 14135, "user_id": 427146, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PuoOb.jpg?s=128&g=1", "display_name": "sabithpocker", "link": "https://stackoverflow.com/users/427146/sabithpocker"}, "reply_to_user": {"reputation": 817, "user_id": 1661274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9c72f0eee598c691d2117f5b9313006?s=128&d=identicon&r=PG", "display_name": "Simeon Nedkov", "link": "https://stackoverflow.com/users/1661274/simeon-nedkov"}, "edited": false, "score": 0, "creation_date": 1524722143, "post_id": 50030717, "comment_id": 87087422, "body": "Also make sure you are unsubscribing the subscriptions made manually. I don&#39;t really see any need for manual change detection in this scenario."}, {"owner": {"reputation": 14135, "user_id": 427146, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PuoOb.jpg?s=128&g=1", "display_name": "sabithpocker", "link": "https://stackoverflow.com/users/427146/sabithpocker"}, "reply_to_user": {"reputation": 817, "user_id": 1661274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9c72f0eee598c691d2117f5b9313006?s=128&d=identicon&r=PG", "display_name": "Simeon Nedkov", "link": "https://stackoverflow.com/users/1661274/simeon-nedkov"}, "edited": false, "score": 0, "creation_date": 1524722509, "post_id": 50030717, "comment_id": 87087571, "body": "Also, you are injecting <code>DataService</code> instead of <code>BuildingDataService</code> is that a typo?"}, {"owner": {"reputation": 817, "user_id": 1661274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9c72f0eee598c691d2117f5b9313006?s=128&d=identicon&r=PG", "display_name": "Simeon Nedkov", "link": "https://stackoverflow.com/users/1661274/simeon-nedkov"}, "edited": false, "score": 0, "creation_date": 1524725707, "post_id": 50030717, "comment_id": 87089269, "body": "That&#39;s a typo; fixed now. I&#39;m reaching for manual change detection since  the template does not update upon arrival of a new value through the Subject (or BehaviourSubject for that matter, see my comments in DiabolicWord&#39;s answer."}, {"owner": {"reputation": 817, "user_id": 1661274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9c72f0eee598c691d2117f5b9313006?s=128&d=identicon&r=PG", "display_name": "Simeon Nedkov", "link": "https://stackoverflow.com/users/1661274/simeon-nedkov"}, "edited": false, "score": 1, "creation_date": 1524732342, "post_id": 50030717, "comment_id": 87093307, "body": "I found the issue: I&#39;m triggering <code>fetchBuildingData</code> from a callback outside of Angular&#39;s zone. Thanks a lot for the different approaches; they helped me zone in on the problem. Your remark that you &quot;don&#39;t really see any need for manual change detection in this scenario&quot; somehow reminded me to look at how I call <code>fetchBuildingData</code>."}, {"owner": {"reputation": 817, "user_id": 1661274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9c72f0eee598c691d2117f5b9313006?s=128&d=identicon&r=PG", "display_name": "Simeon Nedkov", "link": "https://stackoverflow.com/users/1661274/simeon-nedkov"}, "edited": false, "score": 0, "creation_date": 1525071490, "post_id": 50030717, "comment_id": 87206909, "body": "I accepted your answer as it&#39;s the closest to the sought solution. There&#39;s a missing <code>this</code> in the fourth line of the first code block, though. Can you add it?"}, {"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1525073670, "post_id": 50030717, "comment_id": 87207988, "body": "This answer has nothing to do with your question. You should accept your own answer not to confuse future readers."}, {"owner": {"reputation": 817, "user_id": 1661274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9c72f0eee598c691d2117f5b9313006?s=128&d=identicon&r=PG", "display_name": "Simeon Nedkov", "link": "https://stackoverflow.com/users/1661274/simeon-nedkov"}, "edited": false, "score": 0, "creation_date": 1525082608, "post_id": 50030717, "comment_id": 87212783, "body": "I was unsure what to do as the other answers directly address the question about multicasting whereas my solution fixes something completely unrelated. I&#39;d hate someone to Google for multicasting and end up on a page describing how to fix something with Leaflet. Still unsure what to, so please advise."}], "tags": [], "owner": {"reputation": 14135, "user_id": 427146, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PuoOb.jpg?s=128&g=1", "display_name": "sabithpocker", "link": "https://stackoverflow.com/users/427146/sabithpocker"}, "is_accepted": true, "score": 3, "last_activity_date": 1525076656, "last_edit_date": 1525076656, "creation_date": 1524687663, "answer_id": 50030717, "question_id": 50030537, "link": "https://stackoverflow.com/questions/50030537/how-to-properly-multicast-result-of-httpclient-request-to-several-components-in/50030717#50030717", "title": "How to properly multicast result of HttpClient request to several components in Angular?", "body": "<p>One way is to get an <code>Observable</code> of the <code>Subject</code> and use it in your template using <code>async</code> pipe:</p>\n\n<pre><code>(building | async)?.buildingName\n</code></pre>\n\n<p>Also, if different components are subscribing to the service at different times, you may have to use <code>BehaviorSubject</code> instead of a <code>Subject</code>.</p>\n\n<hr>\n\n<pre><code>@Injectable()\nexport class BuildingDataService {\n  private responseSource = new Subject&lt;object&gt;();\n  public response = this.responseSource.asObservable()\n\n  constructor (private http: HttpClient) { }\n\n  fetchBuildingData(location) {\n    this.http.post(url, location, httpOptions).subscribe(resp =&gt; {\n      this.responseSource.next(resp);\n    });\n  }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>@Component({\n  template: \"&lt;h1&gt;{{(building | async)?.buildingName}}&lt;/h1&gt;\"\n  ...\n})\n\nexport class SidepanelComponent implements OnInit {\n  building: Observable&lt;any&gt;;\n\n  constructor(private buildingDataService: DataService) {\n      this.building = this.buildingDataService.response;\n  }\n\n  ngOnInit() {\n  }\n\n  updateBuildingInfo(location) {\n    this.buildingDataService.fetchBuildingData(location);\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 817, "user_id": 1661274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9c72f0eee598c691d2117f5b9313006?s=128&d=identicon&r=PG", "display_name": "Simeon Nedkov", "link": "https://stackoverflow.com/users/1661274/simeon-nedkov"}, "edited": false, "score": 0, "creation_date": 1524733323, "post_id": 50036722, "comment_id": 87093920, "body": "Yes, the getter works beautifully. I wasn&#39;t aware tha they are <i>bound</i> to variables and automatically receive new values."}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "reply_to_user": {"reputation": 817, "user_id": 1661274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9c72f0eee598c691d2117f5b9313006?s=128&d=identicon&r=PG", "display_name": "Simeon Nedkov", "link": "https://stackoverflow.com/users/1661274/simeon-nedkov"}, "edited": false, "score": 0, "creation_date": 1524750600, "post_id": 50036722, "comment_id": 87105634, "body": "No it isn&#39;t exactly this way. Angular is not magic, it&#39;s must take acount the changes in the application (a click, a change in one input...). When a change happens, it look for all the &quot;things&quot; that can change and show the new values. Using a getter &quot;force&quot; to Angular to look for the new value."}, {"owner": {"reputation": 817, "user_id": 1661274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9c72f0eee598c691d2117f5b9313006?s=128&d=identicon&r=PG", "display_name": "Simeon Nedkov", "link": "https://stackoverflow.com/users/1661274/simeon-nedkov"}, "edited": false, "score": 0, "creation_date": 1524751684, "post_id": 50036722, "comment_id": 87106450, "body": "Thanks for the clarification. How does the &quot;forcing&quot; work? Is it something that&#39;s done in Angular or is it a property of JavaScript itself?"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "reply_to_user": {"reputation": 817, "user_id": 1661274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9c72f0eee598c691d2117f5b9313006?s=128&d=identicon&r=PG", "display_name": "Simeon Nedkov", "link": "https://stackoverflow.com/users/1661274/simeon-nedkov"}, "edited": false, "score": 0, "creation_date": 1524756065, "post_id": 50036722, "comment_id": 87109489, "body": "I don&#39;t know, but if you write console.log(&quot;***&quot;) into a getter you can see that is called several times. (perhaps &quot;forcing&quot; is not the correct word, sorry)"}], "tags": [], "owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "is_accepted": false, "score": 0, "last_activity_date": 1524726084, "creation_date": 1524726084, "answer_id": 50036722, "question_id": 50030537, "link": "https://stackoverflow.com/questions/50030537/how-to-properly-multicast-result-of-httpclient-request-to-several-components-in/50036722#50036722", "title": "How to properly multicast result of HttpClient request to several components in Angular?", "body": "<p>The code of sabith is wrong (but the idea is the correct)</p>\n\n<pre><code>  //declare a source as Subject\n  private responseSource = new Subject&lt;any&gt;(); //&lt;--change object by any\n\n  public response = this.responseSource.asObservable() //&lt;--use\"this\"\n\n  constructor (private http: HttpClient) { }\n\n  fetchBuildingData(location) {\n    this.http.post(url, location, httpOptions).subscribe(resp =&gt; {\n      this.responseSource.next(resp);\n    });\n  }\n</code></pre>\n\n<p>Must be work</p>\n\n<p>Another idea is simply using a getter in your component</p>\n\n<pre><code>//In your service you make a variable \"data\"\ndata:any\nfetchBuildingData(location) {\n    this.http.post(url, location, httpOptions).subscribe(resp =&gt; {\n      this.data=resp\n    });\n  }\n\n//in yours components\n\nget data()\n{\n     return BuildingDataService.data\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 817, "user_id": 1661274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9c72f0eee598c691d2117f5b9313006?s=128&d=identicon&r=PG", "display_name": "Simeon Nedkov", "link": "https://stackoverflow.com/users/1661274/simeon-nedkov"}, "edited": false, "score": 0, "creation_date": 1524727616, "post_id": 50037093, "comment_id": 87090394, "body": "I want to push data to component A which is retrieved due to an user interacting with component B. I don&#39;t see how that can be done through getters as I&#39;d have to call them explicitly from component A, right?"}, {"owner": {"reputation": 489, "user_id": 7534330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/13i5D.jpg?s=128&g=1", "display_name": "Giona Granata", "link": "https://stackoverflow.com/users/7534330/giona-granata"}, "reply_to_user": {"reputation": 817, "user_id": 1661274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9c72f0eee598c691d2117f5b9313006?s=128&d=identicon&r=PG", "display_name": "Simeon Nedkov", "link": "https://stackoverflow.com/users/1661274/simeon-nedkov"}, "edited": false, "score": 0, "creation_date": 1524728894, "post_id": 50037093, "comment_id": 87091198, "body": "No you do not call them directly on component A. You inject the same Singleton service in both. You start retrivi ng data by calling a method on the singleton (ferchBuildingData). This method save the data in a member of the singleton. The member of the singleton is shared across any component with a getter. This is standard practice in angular, you can see this in the hero tutorial in the official documentation. An other elegant way to solve this problem is to use the redux library for angular, so implementing a state management (I like this a lot)."}, {"owner": {"reputation": 817, "user_id": 1661274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9c72f0eee598c691d2117f5b9313006?s=128&d=identicon&r=PG", "display_name": "Simeon Nedkov", "link": "https://stackoverflow.com/users/1661274/simeon-nedkov"}, "edited": false, "score": 0, "creation_date": 1524733271, "post_id": 50037093, "comment_id": 87093886, "body": "Yes, you&#39;re right, this works like a charm. I wasn&#39;t aware of the fact that getters are bound to values! This is indeed much simpler than the Subject/Observable approach."}, {"owner": {"reputation": 817, "user_id": 1661274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9c72f0eee598c691d2117f5b9313006?s=128&d=identicon&r=PG", "display_name": "Simeon Nedkov", "link": "https://stackoverflow.com/users/1661274/simeon-nedkov"}, "edited": false, "score": 0, "creation_date": 1524733855, "post_id": 50037093, "comment_id": 87094225, "body": "Can you point me to the docs where <code>get</code> is mentioned? I can&#39;t find it..."}], "tags": [], "owner": {"reputation": 489, "user_id": 7534330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/13i5D.jpg?s=128&g=1", "display_name": "Giona Granata", "link": "https://stackoverflow.com/users/7534330/giona-granata"}, "is_accepted": false, "score": 1, "last_activity_date": 1524727293, "creation_date": 1524727293, "answer_id": 50037093, "question_id": 50030537, "link": "https://stackoverflow.com/questions/50030537/how-to-properly-multicast-result-of-httpclient-request-to-several-components-in/50037093#50037093", "title": "How to properly multicast result of HttpClient request to several components in Angular?", "body": "<p>The standard way to do this in an angular app is a getter in the service class.</p>\n\n<pre><code>get data()\n{\n     return data;\n}\n</code></pre>\n\n<p>Why are you trying to complicate matters? What are the benefits, and if there are benefits they will overcome the drawbacks?</p>\n"}, {"comments": [{"owner": {"reputation": 817, "user_id": 1661274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9c72f0eee598c691d2117f5b9313006?s=128&d=identicon&r=PG", "display_name": "Simeon Nedkov", "link": "https://stackoverflow.com/users/1661274/simeon-nedkov"}, "reply_to_user": {"reputation": 14135, "user_id": 427146, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PuoOb.jpg?s=128&g=1", "display_name": "sabithpocker", "link": "https://stackoverflow.com/users/427146/sabithpocker"}, "edited": false, "score": 0, "creation_date": 1525082570, "post_id": 50038459, "comment_id": 87212754, "body": "I was unsure what to do as the other answers directly address the question about multicasting whereas my solution fixes something completely unrelated. I&#39;d hate someone to Google for multicasting and end up on a page describing how to fix something with Leaflet. Still unsure what to, so please advise."}, {"owner": {"reputation": 14135, "user_id": 427146, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PuoOb.jpg?s=128&g=1", "display_name": "sabithpocker", "link": "https://stackoverflow.com/users/427146/sabithpocker"}, "edited": false, "score": 0, "creation_date": 1525083144, "post_id": 50038459, "comment_id": 87213057, "body": "Well, I think that makes sense too. I guess you can leave this as is."}], "tags": [], "owner": {"reputation": 817, "user_id": 1661274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9c72f0eee598c691d2117f5b9313006?s=128&d=identicon&r=PG", "display_name": "Simeon Nedkov", "link": "https://stackoverflow.com/users/1661274/simeon-nedkov"}, "is_accepted": false, "score": 1, "last_activity_date": 1524731856, "creation_date": 1524731856, "answer_id": 50038459, "question_id": 50030537, "link": "https://stackoverflow.com/questions/50030537/how-to-properly-multicast-result-of-httpclient-request-to-several-components-in/50038459#50038459", "title": "How to properly multicast result of HttpClient request to several components in Angular?", "body": "<p>I think I found the issue. I briefly mention that <code>fetchBuildingData</code> is triggered by users clicking on a map; that map is Leaflet as provided by the <code>ngx-leaflet</code> module. I bind to its <code>click</code> event as follows</p>\n\n<pre><code>map.on('click', (event: LeafletMouseEvent) =&gt; {\n  this.buildingDataService.fetchBuildingData(event.latlng);\n});\n</code></pre>\n\n<p>The callback is, I now realise, fired outside Angular's zone. Angular therefore fails to detect the change to <code>this.building</code>. The solution is to bring the callback in Angular's zone through NgZone as </p>\n\n<pre><code>map.on('click', (event: LeafletMouseEvent) =&gt; {\n  ngZone.run(() =&gt; {\n    this.buildingDataService.fetchBuildingData(event.latlng);\n  });\n});\n</code></pre>\n\n<p>This solves the problem and every proposed solution works like a charm.</p>\n\n<p>A big thank you for the quick and useful responses. They were instrumental in helping me narrow down the problem! </p>\n\n<p>To be fair: this issue is mentioned in <code>ngx-leaflet</code>'s documentation [1]. I failed to understand the implications right away as I'm still learning Angular and there is a lot to take in.</p>\n\n<p>[1] <a href=\"https://github.com/Asymmetrik/ngx-leaflet#a-note-about-change-detection\" rel=\"nofollow noreferrer\">https://github.com/Asymmetrik/ngx-leaflet#a-note-about-change-detection</a></p>\n"}], "owner": {"reputation": 817, "user_id": 1661274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9c72f0eee598c691d2117f5b9313006?s=128&d=identicon&r=PG", "display_name": "Simeon Nedkov", "link": "https://stackoverflow.com/users/1661274/simeon-nedkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3208, "favorite_count": 0, "accepted_answer_id": 50030717, "answer_count": 5, "score": 1, "last_activity_date": 1525076656, "creation_date": 1524686931, "last_edit_date": 1525073174, "question_id": 50030537, "link": "https://stackoverflow.com/questions/50030537/how-to-properly-multicast-result-of-httpclient-request-to-several-components-in", "title": "How to properly multicast result of HttpClient request to several components in Angular?", "body": "<p>I'm trying to send the result of <code>HttpClient</code> <code>post</code> requests multiple components in my Angular app. I'm using a <code>Subject</code> and calling its <code>next()</code> method whenever a new <code>post</code> request is successfully executed. Each component subscribes to the service's <code>Subject</code>.</p>\n\n<p>The faulty services is defined as</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Injectable()\nexport class BuildingDataService {\n\n  public response: Subject&lt;object&gt; = new Subject&lt;object&gt;();\n\n  constructor (private http: HttpClient) { }\n\n  fetchBuildingData(location) {\n    ...\n\n    this.http.post(url, location, httpOptions).subscribe(resp =&gt; {\n      this.response.next(resp);\n    });\n}\n</code></pre>\n\n<p>The components subscribe to <code>BuildingService.response</code> as follows</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Component({\n  template: \"&lt;h1&gt;{{buildingName}}&lt;/h1&gt;\"\n  ...\n})\n\nexport class SidepanelComponent implements OnInit {\n  buildingName: string;\n\n  constructor(private buildingDataService: BuildingDataService) { }\n\n  ngOnInit() {\n    this.buildingDataService.response.subscribe(resp =&gt; {\n        this.buildingName = resp['buildingName'];\n      });\n  }\n\n  updateBuildingInfo(location) {\n    this.buildingDataService.fetchBuildingData(location);\n  }\n}\n</code></pre>\n\n<p><code>updateBuildingInfo</code> is triggered by users clicking on a map.</p>\n\n<p>Retrieving the data from the server and passing it to the components works: I can output the payloads to the console in each component. However, the components' templates fail to update.</p>\n\n<p>After Googling and fiddling for most of today I found that this implementation does not trigger Angular's change detection. The fix is to either </p>\n\n<ul>\n<li>wrap my call to <code>next()</code> in the service in <code>NgZone.run(() =&gt; { this.response.next(resp); }</code> </li>\n<li>call <code>ApplicationRef.tick()</code> after <code>this.title = resp['title']</code> in the component. </li>\n</ul>\n\n<p>Both solutions feel like dirty hacks for such a trivial use case. There must be a better way to achieve this.</p>\n\n<p>My question therefore is: what is the proper way to fetch data once and send it off to several components?</p>\n\n<p>I'd furthermore like to understand why my implementation escapes Angular's change detection system.</p>\n\n<p><strong>EDIT</strong> it turns out I was initiating my call to <code>HttpClient</code> outside of Angular's zone hence it could not detect my changes, see my answer for more details.</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 3, "creation_date": 1524686611, "post_id": 50030426, "comment_id": 87076967, "body": "No. <code>{}</code> is an empty interface and it&#39;s not that same as <code>any</code>. E.g. <code>const value: {} = null;</code> is invalid, but <code>const value: any = null;</code> is fine."}, {"owner": {"reputation": 101, "user_id": 5000610, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-TJWWQWoLsE4/AAAAAAAAAAI/AAAAAAAAADU/RXO7pDlTX4w/photo.jpg?sz=128", "display_name": "thrave", "link": "https://stackoverflow.com/users/5000610/thrave"}, "reply_to_user": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1524687305, "post_id": 50030426, "comment_id": 87077287, "body": "I was reading this book: <a href=\"https://charleslbryant.gitbooks.io/hello-react-and-typescript/content/TypeScriptAndReact.html\" rel=\"nofollow noreferrer\">charleslbryant.gitbooks.io/hello-react-and-typescript/conten&zwnj;&#8203;t/&hellip;</a>.  This code uses React.Component&lt;{}, {}&gt;.  Does this mean null, null so no state or properties for this component?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1524687585, "post_id": 50030426, "comment_id": 87077420, "body": "No, it means the component requires two <b>objects</b>."}, {"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 2, "creation_date": 1524688302, "post_id": 50030426, "comment_id": 87077757, "body": "Well, that page of the book has some inconsistencies: it mentions <code>any</code> in the text, but uses <code>{}</code> in the code example. With props, using <code>{}</code> is saying that the component expects no props. With the state, if you&#39;re not creating a state, then the state type is redundant; internally, the state&#39;s value would be <code>undefined</code>. I think that book might be a little out-of-date, as the state type is now optional. In fact, <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/c9de295a0942129af7d4f16865326c33fb53fa34/types/react/index.d.ts#L281\" rel=\"nofollow noreferrer\">both the props and state types are now optional</a>."}, {"owner": {"reputation": 101, "user_id": 5000610, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-TJWWQWoLsE4/AAAAAAAAAAI/AAAAAAAAADU/RXO7pDlTX4w/photo.jpg?sz=128", "display_name": "thrave", "link": "https://stackoverflow.com/users/5000610/thrave"}, "edited": false, "score": 0, "creation_date": 1524690289, "post_id": 50030426, "comment_id": 87078696, "body": "Thanks,  that &quot;any in the text, but uses {}&quot; part of the book confused me and thus I asked this somewhat redundant question."}], "owner": {"reputation": 101, "user_id": 5000610, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-TJWWQWoLsE4/AAAAAAAAAAI/AAAAAAAAADU/RXO7pDlTX4w/photo.jpg?sz=128", "display_name": "thrave", "link": "https://stackoverflow.com/users/5000610/thrave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "closed_date": 1524686740, "answer_count": 0, "score": 0, "last_activity_date": 1524687444, "creation_date": 1524686434, "last_edit_date": 1524687444, "question_id": 50030426, "link": "https://stackoverflow.com/questions/50030426/is-any-any-the-same-as-in-typescript", "closed_reason": "Duplicate", "title": "Is &lt;any, any&gt; THE SAME AS &lt;{}, {}&gt; in Typescript?", "body": "<p>I am trying to use Typescript with react (javascript) I keep seeing examples in these two forms:</p>\n\n<pre><code> 1. React.Component&lt;any, any&gt;\n 2. React.Component&lt;{}, {}&gt;\n</code></pre>\n\n<p>Are 1 and 2 equivalent?<br>\nWhich one is the prefered style?</p>\n\n<p>FOLLOWUP:\nI was reading this book: charleslbryant.gitbooks.io/hello-react-and-typescript/content/\u2026. This code uses React.Component&lt;{}, {}>. Does this mean null, null so no state or properties for this component?</p>\n"}, {"tags": ["json", "typescript"], "comments": [{"owner": {"reputation": 15260, "user_id": 1968182, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/E5nF2.jpg?s=128&g=1", "display_name": "Ulrich Eckhardt", "link": "https://stackoverflow.com/users/1968182/ulrich-eckhardt"}, "edited": false, "score": 0, "creation_date": 1524684751, "post_id": 50030001, "comment_id": 87076167, "body": "What you show there is not JSON, it seems to be JS code (or ECMA Script or typescript or whatever today&#39;s flavour is)."}], "answers": [{"comments": [{"owner": {"reputation": 106, "user_id": 5224564, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fadd7fa279dca6645a98e6e03c23dd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Terrance Jackson", "link": "https://stackoverflow.com/users/5224564/terrance-jackson"}, "edited": false, "score": 0, "creation_date": 1524687042, "post_id": 50030251, "comment_id": 87077155, "body": "This works one more thing. Can I add default empty fields using that method? Lets say I want to add &quot;Investor&quot; and &quot;ManagedBy&quot; to the first array and also &quot;Name&quot; to the second array. How can I do that dynamically?"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 106, "user_id": 5224564, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fadd7fa279dca6645a98e6e03c23dd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Terrance Jackson", "link": "https://stackoverflow.com/users/5224564/terrance-jackson"}, "edited": false, "score": 0, "creation_date": 1524689540, "post_id": 50030251, "comment_id": 87078345, "body": "you can initialize the flattened object with them if you want. But unless you need them as an empty string a non defined property will behave mostly the same in most cases."}], "tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": true, "score": 1, "last_activity_date": 1524685678, "creation_date": 1524685678, "answer_id": 50030251, "question_id": 50030001, "link": "https://stackoverflow.com/questions/50030001/how-can-i-re-arrange-json-with-angular-2/50030251#50030251", "title": "How can I re-arrange JSON with angular 2", "body": "<p>It helps if you define a minimal type for the <strong>err</strong> variable.</p>\n\n<p>An option then would be:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const err: { Error: string, Content: any[] }[] = [\n    {\n        \"Error\": \"Name Not Valid\",\n        \"Content\": [\n            {\n                \"Name\": \"Johnz\"\n            }\n        ]\n    },\n    {\n        \"Error\": \"Data Not Valid\",\n        \"Content\": [\n            {\n                \"Investor\": \"3785388\",\n                \"ManagedBy\": \"Johnz\"\n            },\n            {\n                \"Investor\": \"1111111\",\n                \"ManagedBy\": \"Mary\"\n            }\n        ]\n    }];\n\nconst flattenedError = err.map(error =&gt; {\n    const flattened = { error: error.Error };\n\n    return error.Content.reduce((acc, curent) =&gt; {\n        Object.keys(curent).forEach((key) =&gt; {\n            acc[key] = curent[key];\n        });\n        return acc;\n    }, flattened);\n});\n</code></pre>\n\n\n\n<p>A working example can be found <a href=\"https://www.typescriptlang.org/play/index.html#src=const%20err%3A%20%7B%20Error%3A%20string%2C%20Content%3A%20any%5B%5D%20%7D%5B%5D%20%3D%20%5B%0D%0A%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%22Error%22%3A%20%22Name%20Not%20Valid%22%2C%0D%0A%20%20%20%20%20%20%20%20%22Content%22%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Name%22%3A%20%22Johnz%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%5D%0D%0A%20%20%20%20%7D%2C%0D%0A%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%22Error%22%3A%20%22Data%20Not%20Valid%22%2C%0D%0A%20%20%20%20%20%20%20%20%22Content%22%3A%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Investor%22%3A%20%223785388%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22ManagedBy%22%3A%20%22Johnz%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Investor%22%3A%20%221111111%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22ManagedBy%22%3A%20%22Mary%22%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%5D%0D%0A%20%20%20%20%7D%5D%3B%0D%0A%0D%0Aconst%20flattenedError%20%3D%20err.map(error%20%3D%3E%20%7B%0D%0A%20%20%20%20const%20flattened%20%3D%20%7B%20error%3A%20error.Error%20%7D%3B%0D%0A%0D%0A%20%20%20%20return%20error.Content.reduce((acc%2C%20curent)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20Object.keys(curent).forEach((key)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20acc%5Bkey%5D%20%3D%20curent%5Bkey%5D%3B%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20return%20acc%3B%0D%0A%20%20%20%20%7D%2C%20flattened)%3B%0D%0A%7D)%3B\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 106, "user_id": 5224564, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fadd7fa279dca6645a98e6e03c23dd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Terrance Jackson", "link": "https://stackoverflow.com/users/5224564/terrance-jackson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 50030251, "answer_count": 1, "score": 0, "last_activity_date": 1524685678, "creation_date": 1524684621, "last_edit_date": 1524684868, "question_id": 50030001, "link": "https://stackoverflow.com/questions/50030001/how-can-i-re-arrange-json-with-angular-2", "title": "How can I re-arrange JSON with angular 2", "body": "<p>I have JSON that looks like this</p>\n\n<pre><code>const err =    [\n      {\n        \"Error\": Name Not Valid\",\n        \"Content\": [\n          {\n            \"Name\": \"Johnz\"\n          }\n        ]\n      },\n      {\n        \"Error\": \"Data Not Valid\",\n        \"Content\": [\n          {\n            \"Investor\": \"3785388\",\n            \"ManagedBy\": \"Johnz\"\n          },\n          {\n            \"Investor\": \"1111111\",\n            \"ManagedBy\": \"Mary\"\n          }\n        ]\n      }]\n</code></pre>\n\n<p>How can I set it so it looks like this? I need to move anything that appears in the content array to the main structure where title is.</p>\n\n<pre><code> const err=   [\n      {\n        \"Error\": \"Name Not Valid\",\n        \"Name\": \"Johnz\"\n      },\n      {\n        \"Error\": \"Data Not Valid\",\n        \"Investor\": \"3785388\",\n        \"ManagedBy\": \"Johnz\"\n      },\n      {\n        \"Error\": \"Data Not Valid\"\n        \"Investor\": \"1111111\",\n        \"ManagedBy\": \"Mary\"\n        }]\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "function", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1524686011, "post_id": 50029917, "comment_id": 87076710, "body": "Please, additionally provide your WorkoutPlanService."}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1524688265, "post_id": 50029917, "comment_id": 87077742, "body": "It would also help if you&#39;d post <b>exactly</b> what the error looks like"}, {"owner": {"reputation": 167, "user_id": 7810147, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/Hc1fa.jpg?s=128&g=1", "display_name": "Gozus19", "link": "https://stackoverflow.com/users/7810147/gozus19"}, "edited": false, "score": 0, "creation_date": 1524690506, "post_id": 50029917, "comment_id": 87078791, "body": "The error says \u201cobject.getId() is not a function\u201d."}], "answers": [{"comments": [{"owner": {"reputation": 167, "user_id": 7810147, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/Hc1fa.jpg?s=128&g=1", "display_name": "Gozus19", "link": "https://stackoverflow.com/users/7810147/gozus19"}, "edited": false, "score": 0, "creation_date": 1524686785, "post_id": 50030450, "comment_id": 87077043, "body": "No, I\u2019m not stringifying any kind of objects. I use that service only to get a list of WorkoutList objects stored in the service."}], "tags": [], "owner": {"reputation": 16, "user_id": 7484538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1421d8d9a9aa37c6f28dcc1e8629987a?s=128&d=identicon&r=PG&f=1", "display_name": "Max B", "link": "https://stackoverflow.com/users/7484538/max-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1524686540, "creation_date": 1524686540, "answer_id": 50030450, "question_id": 50029917, "link": "https://stackoverflow.com/questions/50029917/not-a-function-issue/50030450#50030450", "title": "Not a Function Issue", "body": "<p>My guess is that you might be serializing your <code>WorkOutPlan</code> objects somewhere within <code>WorkoutPlanService</code> and then parsing the strings back into <code>WorkOutPlan</code> objects, which causes you to lose the associated methods.</p>\n\n<p>Are you stringifying those objects at any time?</p>\n"}], "owner": {"reputation": 167, "user_id": 7810147, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/Hc1fa.jpg?s=128&g=1", "display_name": "Gozus19", "link": "https://stackoverflow.com/users/7810147/gozus19"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524686540, "creation_date": 1524684233, "question_id": 50029917, "link": "https://stackoverflow.com/questions/50029917/not-a-function-issue", "title": "Not a Function Issue", "body": "<p>I'm facing off a classic \"Not a Function\" issue on Ionic Framework, I hope that you will help me to better understand this case.</p>\n\n<p>I am trying to get out an object from an array. The object has private properties that I retrieve with simple getter methods.</p>\n\n<p>The problem comes out when this line of the whole class above is executed:</p>\n\n<pre><code>this.selectedWorkoutPlan = this.workoutPlanList.find(object =&gt; object.getId() === this.id);\n</code></pre>\n\n<p>The console returns the error mentioned before.</p>\n\n<p>This is my .ts file:</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport {WorkoutPlanService} from \"../../services/workout-plan.service\";\nimport {WorkoutPlan} from \"../../models/workout-plan\";\n\n@IonicPage()\n@Component({\n  selector: 'page-workout-plan-detail',\n  templateUrl: 'workout-plan-detail.html',\n})\nexport class WorkoutPlanDetailPage {\n\n  id: number = 0;\n  title: string = \"\";\n  startDate: Date = new Date();\n  endDate: Date = new Date();\n\n  workoutPlanList: WorkoutPlan[] = [];\n  selectedWorkoutPlan: WorkoutPlan = new WorkoutPlan();\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n              private workoutPlanService: WorkoutPlanService) {\n  }\n\n  ionViewDidLoad() {\n    this.id = this.navParams.get(\"id\");\n    this.workoutPlanList = this.workoutPlanService.getWorkoutPlanList();\n    this.selectedWorkoutPlan = this.workoutPlanList.find(object =&gt; object.getId() === this.id);\n  }\n\n}\n</code></pre>\n\n<p>and this is the .ts model's class.</p>\n\n<pre><code>import {WorkoutExercise} from \"./workout-exercise\";\n\nexport class WorkoutPlan {\n\n  private title: string;\n  private exercises: WorkoutExercise[];\n  private startDate: Date;\n  private endDate: Date;\n  private id: number;\n\n  constructor() {\n    this.id = new Date().getTime();\n  }\n\n  setTitle(newTitle: string) {\n    this.title = newTitle;\n  }\n\n  setExercises(newExercises: WorkoutExercise[]) {\n    this.exercises = newExercises;\n  }\n\n  setStartDate(newStartDate: Date) {\n    this.startDate = new Date(newStartDate);\n  }\n\n  setEndDate(newEndDate: Date) {\n    this.endDate = new Date(newEndDate);\n  }\n\n  setId(newId: number) {\n    this.id = newId;\n  }\n\n  getTitle() {\n    return this.title;\n  }\n\n  getExercises() {\n    return this.exercises;\n  }\n\n  getStartDate() {\n    return this.startDate;\n  }\n\n  getEndDate() {\n    return this.endDate;\n  }\n\n  getId() {\n    return this.id;\n  }\n\n}\n</code></pre>\n\n<p>Am I missing something in the syntax?</p>\n\n<p>In my mind I thought than an array's object would have properties and methods both, isn't it?</p>\n\n<p>Thanks in advance for your time.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1524683252, "post_id": 50029604, "comment_id": 87075469, "body": "<code>(clickEvent)</code> Where did you declare such output event?"}, {"owner": {"reputation": 526, "user_id": 7143288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eecc49aef0db093ca477819468460995?s=128&d=identicon&r=PG&f=1", "display_name": "botika", "link": "https://stackoverflow.com/users/7143288/botika"}, "edited": false, "score": 0, "creation_date": 1524683393, "post_id": 50029604, "comment_id": 87075530, "body": "change <code>(clickEvent)</code> in favor of <code>(category)</code>, to upload the event through the tree to the root"}, {"owner": {"reputation": 553, "user_id": 5294432, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/411c8d915e7ee7041d35fdf24ae0ca27?s=128&d=identicon&r=PG&f=1", "display_name": "minizibi", "link": "https://stackoverflow.com/users/5294432/minizibi"}, "edited": false, "score": 0, "creation_date": 1524683603, "post_id": 50029604, "comment_id": 87075633, "body": "ohh it works! :D could you explain it a little? I know these are basic concepts but I&#39;m pretty new in front-end technologies. Why in parent a <code>click</code> is fine, and in childrens i need to use <code>category</code> instead?"}], "answers": [{"comments": [{"owner": {"reputation": 553, "user_id": 5294432, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/411c8d915e7ee7041d35fdf24ae0ca27?s=128&d=identicon&r=PG&f=1", "display_name": "minizibi", "link": "https://stackoverflow.com/users/5294432/minizibi"}, "edited": false, "score": 0, "creation_date": 1525512067, "post_id": 50030830, "comment_id": 87392271, "body": "I followed your advice with using ngrx/store, I read some articles and watched some videos. I&#39;m not sure did I understand it well but It looks like I have to <code>copy</code> whole state of my application on each event right? Let&#39;s assume I have an shop application with milion products, milion clients, orders etc... Now I just need to change a name of one product - does it mean I have to copy these all objects just to change one name?"}, {"owner": {"reputation": 526, "user_id": 7143288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eecc49aef0db093ca477819468460995?s=128&d=identicon&r=PG&f=1", "display_name": "botika", "link": "https://stackoverflow.com/users/7143288/botika"}, "reply_to_user": {"reputation": 553, "user_id": 5294432, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/411c8d915e7ee7041d35fdf24ae0ca27?s=128&d=identicon&r=PG&f=1", "display_name": "minizibi", "link": "https://stackoverflow.com/users/5294432/minizibi"}, "edited": false, "score": 1, "creation_date": 1525547301, "post_id": 50030830, "comment_id": 87403187, "body": "You are not really copying, but re-pointing if it&#39;s necessary. The milion of entries you do not have ordered in the disk and the array is not static. So these data do not move from where they are. They are only deleted when they are not needed, that is, when they change, they are erased from the memory and the new value is alloc. It is similar to how memory manages languages like Rust"}], "tags": [], "owner": {"reputation": 526, "user_id": 7143288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eecc49aef0db093ca477819468460995?s=128&d=identicon&r=PG&f=1", "display_name": "botika", "link": "https://stackoverflow.com/users/7143288/botika"}, "is_accepted": true, "score": 1, "last_activity_date": 1524688111, "creation_date": 1524688111, "answer_id": 50030830, "question_id": 50029604, "link": "https://stackoverflow.com/questions/50029604/angular-function-on-recursive-child-element-click/50030830#50030830", "title": "angular function on recursive child element click", "body": "<p>The Output property in directives or components transfers the responsibility of managing the change produced by an event to the parent through a callback. In this case, the call of the function starts on the node of tree, through the Output <code>(click)</code> and calls \"recursively\" <code>onClickChild</code>, with the same Output / callback method, until it reaches the root of the tree. \nIn angular, that callback is an <a href=\"https://angular.io/guide/template-syntax#template-expressions\" rel=\"nofollow noreferrer\">template expression</a>.</p>\n\n<p>Although all the above is not worth anything, if you use a centralized data management method like redux. \nFrom my experience, I recommend it since you do not have to do all of the above. Only</p>\n\n<pre><code>import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { Store } from '@ngrx/store';\n\nimport { AppState } from '../store';\nimport { AdminCategory } from './admin-category.component';\nimport { AddCategoryAction } from './admin-category.actions';\n\n@Component({\n  selector: 'categories',\n  template: `\n     &lt;div *ngFor=\"let cat of categories\"&gt;\n      &lt;ul&gt;\n       &lt;li&gt;\n         &lt;span (click)=\"addCategory(cat)\"&gt;{{cat.name}}&lt;/span&gt;\n         &lt;categories [categories]=\"cat.children\"&gt; asd&lt;/categories&gt;\n       &lt;/li&gt;\n      &lt;/ul&gt;\n    &lt;/div&gt;\n  `,\n})\nexport class TreeView {\n  @Input() categories;\n\n  contructor(private store: Store&lt;AppState&gt;) {}\n  addCategory(category: AdminCategory){\n    this.store.dispatch(new AddCategoryAction(category));\n  }\n}\n</code></pre>\n\n<p>I attach <a href=\"https://github.com/ngrx/platform/blob/master/docs/store/README.md\" rel=\"nofollow noreferrer\">documentation</a> and an <a href=\"https://stackblitz.com/github/ngrx/platform/tree/61cbfe537f9df8cef3dd4a6ee0b8f483e49653f4\" rel=\"nofollow noreferrer\">example app</a>.\nHow to build <a href=\"https://github.com/ngrx/platform/blob/master/docs/store/actions.md#typed-actions\" rel=\"nofollow noreferrer\"><code>AddCategoryAction</code></a>, reducer</p>\n\n<pre><code>import { CategoryActionTypes, CategoryActionsUnion } from './category.actions';\nimport { EMPTY_ARR } from '../empties';\n\nexport type CategoryState = CategoryModel[];\n\n\nexport const CATEGORY_INIT: CategoryState = EMPTY_ARR;\n\nexport function reducer(state: CategoryState  = CATEGORY_INIT, action: CategoryActionsUnion): State {\n  switch(action.type) {\n    case CategoryActionTypes.ADD: {\n      return state.concat(action.payload);\n    }\n\n    case CategoryActionTypes.RESET: {\n      return CategoryInit;\n    }\n\n    case CategoryActionTypes.ANOTHER: {...\n\n    default: {\n      return state;\n    }\n  }\n}\n</code></pre>\n\n<p>And import to <code>AppModule</code></p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { StoreModule } from '@ngrx/store';\nimport { categoryReducer } from './category';\n\n@NgModule({\n  imports: [BrowserModule, StoreModule.forRoot({ category: categoryReducer })],\n})\nexport class AppModule {}\n</code></pre>\n\n<p>And you do not need to cross the tree to change or check the state</p>\n\n<p>You can learn more about the advantages <a href=\"https://redux.js.org/basics\" rel=\"nofollow noreferrer\">here</a>. Enjoy. </p>\n"}], "owner": {"reputation": 553, "user_id": 5294432, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/411c8d915e7ee7041d35fdf24ae0ca27?s=128&d=identicon&r=PG&f=1", "display_name": "minizibi", "link": "https://stackoverflow.com/users/5294432/minizibi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 818, "favorite_count": 0, "accepted_answer_id": 50030830, "answer_count": 1, "score": 0, "last_activity_date": 1524688111, "creation_date": 1524682905, "question_id": 50029604, "link": "https://stackoverflow.com/questions/50029604/angular-function-on-recursive-child-element-click", "title": "angular function on recursive child element click", "body": "<p>I'm trying to call a function generated by recursive @Input decorator. The problem is, <code>(click)</code> event doesn't affects children. Only parents elements clicks emits an event.</p>\n\n<pre><code>import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport {AdminCategory} from './admin-category.component'\n\n@Component({\n  selector: 'categories',\n  template: `\n     &lt;div *ngFor=\"let cat of categories\"&gt;\n      &lt;ul&gt;\n       &lt;li&gt;\n         &lt;span (click)=\"addCategory(cat)\"&gt;{{cat.name}}&lt;/span&gt;\n         &lt;categories [categories]=\"cat.children\" &lt;/categories&gt;\n       &lt;/li&gt;\n      &lt;/ul&gt;\n    &lt;/div&gt;\n  `,\n})\nexport class TreeView {\n  @Input() categories;\n  @Output() category: EventEmitter&lt;AdminCategory&gt; = new EventEmitter&lt;AdminCategory&gt;();\n\n  addCategory(category: AdminCategory){\n    this.category.emit(category);\n  }\n}\n</code></pre>\n\n<p>I found somewhere here on SO (unfortunately cannot find link now) that adding an <code>($event)</code> should resolve issue, so I tried this:</p>\n\n<pre><code>import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport {AdminCategory} from './admin-category.component'\n\n@Component({\n  selector: 'categories',\n  template: `\n     &lt;div *ngFor=\"let cat of categories\"&gt;\n      &lt;ul&gt;\n       &lt;li&gt;\n         &lt;span (click)=\"addCategory(cat)\"&gt;{{cat.name}}&lt;/span&gt;\n         &lt;categories [categories]=\"cat.children\" (clickEvent)=\"onClickChild($event)\"&gt; asd&lt;/categories&gt;\n       &lt;/li&gt;\n      &lt;/ul&gt;\n    &lt;/div&gt;\n  `,\n})\nexport class TreeView {\n  @Input() categories;\n  @Output() category: EventEmitter&lt;AdminCategory&gt; = new EventEmitter&lt;AdminCategory&gt;();\n\n  addCategory(category: AdminCategory){\n    this.category.emit(category);\n  }\n\n  onClickChild(event){\n    console.log(\"asdas\");\n    this.category.emit(event);\n  }\n}\n</code></pre>\n\n<p>But without any results, <code>console.log(\"asdas\");</code> never happens. Does someone know  cause of this problem? What I'm doing wrong?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 1133, "user_id": 1794203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fd8d4ead9e2a3499d86c65a37cb69a5?s=128&d=identicon&r=PG", "display_name": "Johan Gorter", "link": "https://stackoverflow.com/users/1794203/johan-gorter"}, "is_accepted": true, "score": 1, "last_activity_date": 1524688644, "creation_date": 1524688644, "answer_id": 50030952, "question_id": 50028978, "link": "https://stackoverflow.com/questions/50028978/get-id-of-clicked-element-inside-a-div-with-typescript/50030952#50030952", "title": "Get id of clicked element inside a div with typescript", "body": "<p>You should cast <code>event</code> to <code>HTMLElement</code> like this</p>\n\n<p><code>var text = (&lt;HTMLElement&gt;evt.target).textContent;</code></p>\n"}], "owner": {"reputation": 1421, "user_id": 8006882, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/njFng.jpg?s=128&g=1", "display_name": "Anna Klein", "link": "https://stackoverflow.com/users/8006882/anna-klein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1085, "favorite_count": 0, "accepted_answer_id": 50030952, "answer_count": 1, "score": 0, "last_activity_date": 1524688644, "creation_date": 1524680515, "question_id": 50028978, "link": "https://stackoverflow.com/questions/50028978/get-id-of-clicked-element-inside-a-div-with-typescript", "title": "Get id of clicked element inside a div with typescript", "body": "<p>I have a page with a menu. That menu is surrounded by a div id=\"tools\". I pass the tools div to an EventHandler. That Evenyhandler should figure on which entry in the menu the user clicked that the program can continue due to the userchoice.</p>\n\n<p>In JQuery I would do something like this</p>\n\n<pre><code>  $(document).click(function (event) {\n        var text = $(event.target).text();\n        if (text.contains(\"line\")) {\n            //DO\n        } else if (text.contains(\"square\")) {\n            //DO\n        }\n    });\n</code></pre>\n\n<p>If I use event.target in typescript I have no option to extract the content.</p>\n\n<p>It can be displayed with console.log(event.target) but thats it.</p>\n\n<p>So how can I please get the content of the target?</p>\n\n<pre><code>&lt;div&gt;\n    &lt;div id=\"tools\" style=\"position: fixed; top: 200px; left: 800px\"&gt;\n        &lt;ul&gt;\n            &lt;li&gt;&lt;a id=\"line\"&gt;Line&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a id=\"circle\"&gt;Circle&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a id=\"triangle\"&gt;Triangle&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a id=\"square\"&gt;Square&lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>TS</p>\n\n<pre><code> menu.addEventListener(\"click\", function (event) {\n        //relevant part for my question\n    });\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2371, "user_id": 5435674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a30b019f40bd6f7917282ac04159aad7?s=128&d=identicon&r=PG&f=1", "display_name": "Hitesh Kansagara", "link": "https://stackoverflow.com/users/5435674/hitesh-kansagara"}, "edited": false, "score": 0, "creation_date": 1524678796, "post_id": 50028467, "comment_id": 87073143, "body": "where you declare client object?"}, {"owner": {"reputation": 11, "user_id": 7899498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc9417e7977b2390defe3237285d9280?s=128&d=identicon&r=PG&f=1", "display_name": "Vinodha", "link": "https://stackoverflow.com/users/7899498/vinodha"}, "reply_to_user": {"reputation": 2371, "user_id": 5435674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a30b019f40bd6f7917282ac04159aad7?s=128&d=identicon&r=PG&f=1", "display_name": "Hitesh Kansagara", "link": "https://stackoverflow.com/users/5435674/hitesh-kansagara"}, "edited": false, "score": 0, "creation_date": 1524679281, "post_id": 50028467, "comment_id": 87073394, "body": "&#39;In my model i have client object. In view page the selected value is shown well. During Form updation the selected option is not populated to the country field&#39;"}, {"owner": {"reputation": 2371, "user_id": 5435674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a30b019f40bd6f7917282ac04159aad7?s=128&d=identicon&r=PG&f=1", "display_name": "Hitesh Kansagara", "link": "https://stackoverflow.com/users/5435674/hitesh-kansagara"}, "edited": false, "score": 0, "creation_date": 1524679379, "post_id": 50028467, "comment_id": 87073456, "body": "you have bind client.country in ngModel so i am asking for  that object where you defined in your ts file"}, {"owner": {"reputation": 11, "user_id": 7899498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc9417e7977b2390defe3237285d9280?s=128&d=identicon&r=PG&f=1", "display_name": "Vinodha", "link": "https://stackoverflow.com/users/7899498/vinodha"}, "reply_to_user": {"reputation": 2371, "user_id": 5435674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a30b019f40bd6f7917282ac04159aad7?s=128&d=identicon&r=PG&f=1", "display_name": "Hitesh Kansagara", "link": "https://stackoverflow.com/users/5435674/hitesh-kansagara"}, "edited": false, "score": 0, "creation_date": 1524681467, "post_id": 50028467, "comment_id": 87074504, "body": "Please check my updated code"}, {"owner": {"reputation": 849, "user_id": 9362240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8648ec32c74cc7d21a0927fb08c8b76?s=128&d=identicon&r=PG&f=1", "display_name": "Rak2018", "link": "https://stackoverflow.com/users/9362240/rak2018"}, "edited": false, "score": 0, "creation_date": 1524682241, "post_id": 50028467, "comment_id": 87074892, "body": "First declare in Oninit : clientDetails: client; and then put the following line in constructor and check : this.clientDetails = new client()"}, {"owner": {"reputation": 2371, "user_id": 5435674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a30b019f40bd6f7917282ac04159aad7?s=128&d=identicon&r=PG&f=1", "display_name": "Hitesh Kansagara", "link": "https://stackoverflow.com/users/5435674/hitesh-kansagara"}, "edited": false, "score": 0, "creation_date": 1524682530, "post_id": 50028467, "comment_id": 87075042, "body": "you have bind whole object to dropdown, bind one property of object to display."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 7899498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc9417e7977b2390defe3237285d9280?s=128&d=identicon&r=PG&f=1", "display_name": "Vinodha", "link": "https://stackoverflow.com/users/7899498/vinodha"}, "is_accepted": false, "score": 0, "last_activity_date": 1538115447, "last_edit_date": 1538115447, "creation_date": 1538110466, "answer_id": 52548542, "question_id": 50028467, "link": "https://stackoverflow.com/questions/50028467/how-to-populate-selected-dropdown-text-in-angular-4/52548542#52548542", "title": "How to populate selected dropdown text in angular 4", "body": "<p>I solved my problem using compareWith directive to compare options to select.</p>\n\n<p>sample.html\n<code>\n&lt;select [compareWith]=\"compareFn\" name=\"country\"  [(ngModel)]=\"client.country\"&gt;\n&lt;option *ngFor='let country of countrySource' [ngValue]=\"country\"&gt;                                      {{country.countryName}}\n&lt;/option\n&lt;/select&gt;</code></p>\n\n<p>sample.ts\n<code>\n compareFn(c1: Country, c2: Country): boolean {\n        return c1 &amp;&amp; c2 ? c1.countryid === c2.countryid : c1 === c2;\n    }</code></p>\n"}], "owner": {"reputation": 11, "user_id": 7899498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc9417e7977b2390defe3237285d9280?s=128&d=identicon&r=PG&f=1", "display_name": "Vinodha", "link": "https://stackoverflow.com/users/7899498/vinodha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1538241720, "creation_date": 1524678576, "last_edit_date": 1538241720, "question_id": 50028467, "link": "https://stackoverflow.com/questions/50028467/how-to-populate-selected-dropdown-text-in-angular-4", "title": "How to populate selected dropdown text in angular 4", "body": "<p>I am using Angular 4 to get the country using select. For View and create page the dropdown working fine. But During update the selected dropdown text is not shown.</p>\n\n<p><strong>client.ts</strong>:</p>\n\n<pre><code>export class client {\n country: Country;\n}\n</code></pre>\n\n<p><strong>client.html</strong>:</p>\n\n<pre><code>    &lt;select name=\"country\" class=\"form-control m-input\"  [(ngModel)]=\"client.country\"&gt;\n    &lt;option *ngFor='let country of countrySource' [ngValue]=\"country\"&gt;\n    {{country.countryName}}\n    &lt;/option&gt;\n    &lt;/select&gt;\n</code></pre>\n\n<p><strong>component.ts</strong>:</p>\n\n<pre><code>   import { client } from \"./models/client\";\n\n    export class MyClientsComponent implements OnInit, AfterViewInit {\n           client = new client();\n\n            getCountries() {\n                    this._myclientsService.getCountry()\n                        .subscribe(\n                        res =&gt; this.onGetClientSuccess(res),\n                        error =&gt; this.onGetClientFail(error));\n                }\n                onGetClientSuccess(res) {\n                    this.countrySource = res.countries;\n                }\n\n                onGetClientFail(error) {\n                    alert(\"error\");\n                }\n\n    }\n</code></pre>\n"}, {"tags": ["typescript", "multidimensional-array"], "answers": [{"tags": [], "owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "is_accepted": false, "score": 0, "last_activity_date": 1524686632, "creation_date": 1524686632, "answer_id": 50030479, "question_id": 50028405, "link": "https://stackoverflow.com/questions/50028405/how-to-create-2-dimension-array-of-objects-in-typescript/50030479#50030479", "title": "How to create 2 dimension array of objects in typescript", "body": "<p>You could solve it like this </p>\n\n<pre><code>public mdArray = [10][2];\n\nprivate addToArray(): void {\n   mdArray[0][0] = appChartData1;\n   mdArray[0][1] = versionChartData1;\n\n   mdArray[1][0] = appChartData2;\n   mdArray[1][1] = versionChartData2;\n\n   //...\n}\n</code></pre>\n\n<p>Of course you have to use loops 'n stuff if you want to add several pairs of these arrays.  e.g.</p>\n\n<pre><code>public mdArray = [numberOfPairs][2];\n\nprivate addToArray(): void {\n   for(int i=0; i&lt;numberOfPairs; i++){\n       mdArray[i][0] = getNextAppChartData();\n       mdArray[i][1] = getNextVersionChartData();\n   {\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9693065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e93bfe8f1866a73872d39fb42b1706d?s=128&d=identicon&r=PG&f=1", "display_name": "Kim2018", "link": "https://stackoverflow.com/users/9693065/kim2018"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 275, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1524686632, "creation_date": 1524678339, "last_edit_date": 1524679606, "question_id": 50028405, "link": "https://stackoverflow.com/questions/50028405/how-to-create-2-dimension-array-of-objects-in-typescript", "title": "How to create 2 dimension array of objects in typescript", "body": "<p>I have these arrays:</p>\n\n<pre><code>appChartData: Array&lt;{date: string, total: number, some_usage: number}&gt; = [];\nversionChartData: Array&lt;{date: string, ver1sion: number, version2: number}&gt; = [];\n</code></pre>\n\n<p>And I want to create two dimension array which contains the appChartData and versionChartData. \nAny help is greatly appreciated .\n-k</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic2"], "comments": [{"owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1524677363, "post_id": 50028103, "comment_id": 87072370, "body": "When you say that didn&#39;t work, what went wrong?"}, {"owner": {"reputation": 79, "user_id": 9603357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b23514521b6433c96b07a06f0b45e52f?s=128&d=identicon&r=PG&f=1", "display_name": "CMC", "link": "https://stackoverflow.com/users/9603357/cmc"}, "reply_to_user": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1524677450, "post_id": 50028103, "comment_id": 87072414, "body": "When I add more than one element to the array it just has the default color = grey. So the array only works with one string."}, {"owner": {"reputation": 2865, "user_id": 8468804, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/tBXMi.jpg?s=128&g=1", "display_name": "Chau Tran", "link": "https://stackoverflow.com/users/8468804/chau-tran"}, "edited": false, "score": 0, "creation_date": 1524677560, "post_id": 50028103, "comment_id": 87072487, "body": "Just compare the length of the chips with the length of the color array to make sure they&#39;re different from one chip to the next."}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 9603357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b23514521b6433c96b07a06f0b45e52f?s=128&d=identicon&r=PG&f=1", "display_name": "CMC", "link": "https://stackoverflow.com/users/9603357/cmc"}, "edited": false, "score": 0, "creation_date": 1524678331, "post_id": 50028245, "comment_id": 87072891, "body": "Oh thx:) And what do I have to add to the array? I dont really get the thing with the color length."}, {"owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "reply_to_user": {"reputation": 79, "user_id": 9603357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b23514521b6433c96b07a06f0b45e52f?s=128&d=identicon&r=PG&f=1", "display_name": "CMC", "link": "https://stackoverflow.com/users/9603357/cmc"}, "edited": false, "score": 0, "creation_date": 1524678395, "post_id": 50028245, "comment_id": 87072920, "body": "You can use the color array you already have in your question."}, {"owner": {"reputation": 79, "user_id": 9603357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b23514521b6433c96b07a06f0b45e52f?s=128&d=identicon&r=PG&f=1", "display_name": "CMC", "link": "https://stackoverflow.com/users/9603357/cmc"}, "edited": false, "score": 0, "creation_date": 1524678431, "post_id": 50028245, "comment_id": 87072941, "body": "Because atm I get this error: ExpressionChangedAfterItHasBeenChecked"}, {"owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "reply_to_user": {"reputation": 79, "user_id": 9603357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b23514521b6433c96b07a06f0b45e52f?s=128&d=identicon&r=PG&f=1", "display_name": "CMC", "link": "https://stackoverflow.com/users/9603357/cmc"}, "edited": false, "score": 0, "creation_date": 1524678491, "post_id": 50028245, "comment_id": 87072968, "body": "Okay, can you add the your question what the tagName JSON looks like?"}, {"owner": {"reputation": 79, "user_id": 9603357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b23514521b6433c96b07a06f0b45e52f?s=128&d=identicon&r=PG&f=1", "display_name": "CMC", "link": "https://stackoverflow.com/users/9603357/cmc"}, "edited": false, "score": 0, "creation_date": 1524678810, "post_id": 50028245, "comment_id": 87073151, "body": "Now its in the question"}, {"owner": {"reputation": 79, "user_id": 9603357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b23514521b6433c96b07a06f0b45e52f?s=128&d=identicon&r=PG&f=1", "display_name": "CMC", "link": "https://stackoverflow.com/users/9603357/cmc"}, "edited": false, "score": 0, "creation_date": 1524680992, "post_id": 50028245, "comment_id": 87074257, "body": "before the error message comes the chips changes very fast the color that are in the array. if that helps"}], "tags": [], "owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "is_accepted": false, "score": 0, "last_activity_date": 1524678832, "last_edit_date": 1524678832, "creation_date": 1524677654, "answer_id": 50028245, "question_id": 50028103, "link": "https://stackoverflow.com/questions/50028103/how-to-assign-a-random-color-in-an-array/50028245#50028245", "title": "How to assign a random color in an array?", "body": "<p>What you need to do is generate a random index, from 0 to the length of your array:</p>\n\n<pre><code>getRandomInt(max) {\n  return Math.floor(Math.random() * Math.floor(max));\n}\n</code></pre>\n\n<p>Then, set the color like so:</p>\n\n<pre><code>[color]=\"color[getRandomInt(color.length)]\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 86, "user_id": 8294330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bf86c3bae1380bd1daf875a84c3a8e3?s=128&d=identicon&r=PG&f=1", "display_name": "Qamber", "link": "https://stackoverflow.com/users/8294330/qamber"}, "is_accepted": false, "score": 1, "last_activity_date": 1536827509, "last_edit_date": 1536827509, "creation_date": 1536826268, "answer_id": 52309319, "question_id": 50028103, "link": "https://stackoverflow.com/questions/50028103/how-to-assign-a-random-color-in-an-array/52309319#52309319", "title": "How to assign a random color in an array?", "body": "<pre><code>getRandomColor() {\nvar color = Math.floor(0x1000000 * Math.random()).toString(16);\nreturn '#' + ('000000' + color).slice(-6);\n}\n</code></pre>\n\n<p>ScreenShot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/woaF8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/woaF8.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 79, "user_id": 9603357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b23514521b6433c96b07a06f0b45e52f?s=128&d=identicon&r=PG&f=1", "display_name": "CMC", "link": "https://stackoverflow.com/users/9603357/cmc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2045, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1536827509, "creation_date": 1524677147, "last_edit_date": 1524679051, "question_id": 50028103, "link": "https://stackoverflow.com/questions/50028103/how-to-assign-a-random-color-in-an-array", "title": "How to assign a random color in an array?", "body": "<p>Hey I have an array with different colors and I want that every chip that is created has a random color of this array. I tried to put all color strings in the array and look if the chips are created with the colors of the array after another. But that didnt worked.\nHow can I do that?</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;ion-chip [color]=\"color\" class=\"chip\" #chip *ngFor=\"let tag of tagName\"&gt;\n</code></pre>\n\n<p>TS</p>\n\n<pre><code> public color: string [] = [\"ok\", \"nice\",\"awesome\",\"danger\",\"white\"]\n</code></pre>\n\n<p>tagName</p>\n\n<pre><code>export class Tag {\n  tag: string;\n  constructor(values: Object = {}) {\n    Object.assign(this, values);\n  }\n</code></pre>\n\n<p>...</p>\n\n<pre><code>  tagName: Tag[] = [];\n</code></pre>\n\n<p>...</p>\n\n<pre><code>  add(): void {\n      let id = this.tagName.length + 1;\n      this.tagName.push(new Tag({ tag: \"tag\" + id }, ));\n    }\n\n    remove(tag: Tag) {\n      let id = this.tagName.indexOf(tag);\n      this.tagName.splice(id, 1);\n    }\n</code></pre>\n"}, {"tags": ["typescript", "ecmascript-6", "typescript2.0", "strong-typing"], "comments": [{"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 4, "creation_date": 1524673913, "post_id": 50026977, "comment_id": 87070638, "body": "<code>typeof rest</code> is <code>&quot;object&quot;</code> because that&#39;s what JavaScript says for an array at runtime, nothing to do TypeScript&#39;s type system. The TS type of <code>rest</code> should already be <code>number[]</code> in your example."}, {"owner": {"reputation": 19681, "user_id": 402037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc3b3667c918504550fd656ac50b87f?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/402037/andreas"}, "edited": false, "score": 4, "creation_date": 1524674028, "post_id": 50026977, "comment_id": 87070698, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/42321953/how-to-add-typescript-types-to-destructured-parameters-using-spread-syntax\">How to add TypeScript types to destructured parameters using spread syntax?</a>"}, {"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "reply_to_user": {"reputation": 19681, "user_id": 402037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc3b3667c918504550fd656ac50b87f?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/402037/andreas"}, "edited": false, "score": 0, "creation_date": 1524674414, "post_id": 50026977, "comment_id": 87070888, "body": "@Andreas <code>[a,b]:number[]</code> or <code>[a, ...b]:number[]</code> scenario is different. you want <code>first</code> to be  <code>[number,..]</code> type but not part of <code>number[]</code> type"}, {"owner": {"reputation": 19681, "user_id": 402037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc3b3667c918504550fd656ac50b87f?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/402037/andreas"}, "edited": false, "score": 1, "creation_date": 1524674759, "post_id": 50026977, "comment_id": 87071046, "body": "And the problem is? Just check the <i>playground</i> link in the accepted answer. First element = string -&gt; error; first element = number -&gt; no error"}, {"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "reply_to_user": {"reputation": 19681, "user_id": 402037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc3b3667c918504550fd656ac50b87f?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/402037/andreas"}, "edited": false, "score": 0, "creation_date": 1524674985, "post_id": 50026977, "comment_id": 87071147, "body": "@Andreas  I think you are right!!!"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1524676089, "post_id": 50026977, "comment_id": 87071724, "body": "Logging <code>typeof</code> at runtime does <b>not</b> tell you what the TypeScript compiler has inferred at compile time. As you&#39;d expect, the types of <code>first</code> and <code>rest</code> are inferred as <code>number</code> and <code>number[]</code>, respectively."}], "owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 912, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1524674573, "creation_date": 1524673082, "last_edit_date": 1524674573, "question_id": 50026977, "link": "https://stackoverflow.com/questions/50026977/explicit-typing-with-spread-operator", "title": "Explicit typing with spread operator", "body": "<p>For the below syntax,</p>\n\n<pre><code>let [first, ...rest] = [1, 2, 3, 4];\nconsole.log(typeof first); // number\nconsole.log(typeof rest);  // object\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p><code>[a,b]:number[]</code> or <code>[a, ...b]:number[]</code> scenario is different. you want <code>first</code> to be like <code>[number,..]</code> type but not part of <code>number[]</code> type</p>\n\n<p>How to explicitly type this syntax? Because <code>let [first, ...rest]:[number, object] = [1, 2, 3, 4];</code> does not work</p>\n"}, {"tags": ["javascript", "json", "typescript", "json-deserialization"], "comments": [{"owner": {"reputation": 42804, "user_id": 2181397, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/616931b5c5ba8790a191fa6aea465c65?s=128&d=identicon&r=PG", "display_name": "brk", "link": "https://stackoverflow.com/users/2181397/brk"}, "edited": false, "score": 1, "creation_date": 1524672836, "post_id": 50026880, "comment_id": 87070029, "body": "from where <code>presenter</code> &amp; <code>organizer</code> came into picture? ALso the expected output is not clear"}, {"owner": {"reputation": 1502, "user_id": 5080787, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/649199765216133/picture?type=large", "display_name": "Maciej Kozieja", "link": "https://stackoverflow.com/users/5080787/maciej-kozieja"}, "edited": false, "score": 0, "creation_date": 1524673011, "post_id": 50026880, "comment_id": 87070116, "body": "If you are looking for speedup using <code>Symbol</code>s would be a good idea"}, {"owner": {"reputation": 2077, "user_id": 243302, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/05e60dd7d4b3d87162e7661ead00bf36?s=128&d=identicon&r=PG", "display_name": "Sammy", "link": "https://stackoverflow.com/users/243302/sammy"}, "edited": false, "score": 0, "creation_date": 1524673021, "post_id": 50026880, "comment_id": 87070121, "body": "No, I just want to parse the string received into a valid enum."}, {"owner": {"reputation": 10866, "user_id": 1673776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/0llsY.jpg?s=128&g=1", "display_name": "Victor", "link": "https://stackoverflow.com/users/1673776/victor"}, "edited": false, "score": 0, "creation_date": 1524673171, "post_id": 50026880, "comment_id": 87070215, "body": "@Sammy What purpose do you want to serve with this, exactly?"}, {"owner": {"reputation": 2077, "user_id": 243302, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/05e60dd7d4b3d87162e7661ead00bf36?s=128&d=identicon&r=PG", "display_name": "Sammy", "link": "https://stackoverflow.com/users/243302/sammy"}, "reply_to_user": {"reputation": 10866, "user_id": 1673776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/0llsY.jpg?s=128&g=1", "display_name": "Victor", "link": "https://stackoverflow.com/users/1673776/victor"}, "edited": false, "score": 0, "creation_date": 1524673255, "post_id": 50026880, "comment_id": 87070261, "body": "@Victor I have an API that will only take <code>Role[]</code> as input."}, {"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 1, "creation_date": 1524673298, "post_id": 50026880, "comment_id": 87070288, "body": "Are you just looking to cast the response type to be a <code>Role[]</code>? Is there an issue with using the usual cast using <code>as</code>? EG, something like <code>const roles = response.roles as Role[]</code>?"}, {"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 1, "creation_date": 1524673311, "post_id": 50026880, "comment_id": 87070302, "body": "Is there a reason you can&#39;t just put an assertion in there to let TypeScript know about the type? i.e. <code>as Role[]</code>"}, {"owner": {"reputation": 2077, "user_id": 243302, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/05e60dd7d4b3d87162e7661ead00bf36?s=128&d=identicon&r=PG", "display_name": "Sammy", "link": "https://stackoverflow.com/users/243302/sammy"}, "reply_to_user": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1524673521, "post_id": 50026880, "comment_id": 87070422, "body": "Thank you @DanielWStrimpel! This did it: <code>const roles = (response.roles) as any[];</code>"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1524673928, "post_id": 50026880, "comment_id": 87070654, "body": "That&#39;s no enum. There are <a href=\"https://www.typescriptlang.org/docs/handbook/enums.html#string-enums\" rel=\"nofollow noreferrer\">string type enums in TypeScript now</a>, but that&#39;s not one of them."}], "answers": [{"tags": [], "owner": {"reputation": 1502, "user_id": 5080787, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/649199765216133/picture?type=large", "display_name": "Maciej Kozieja", "link": "https://stackoverflow.com/users/5080787/maciej-kozieja"}, "is_accepted": false, "score": 0, "last_activity_date": 1524673593, "creation_date": 1524673593, "answer_id": 50027112, "question_id": 50026880, "link": "https://stackoverflow.com/questions/50026880/parsing-string-literals-into-enum-array/50027112#50027112", "title": "Parsing string literals into enum array", "body": "<p>If I got you corectly thats what you want to do.</p>\n\n<pre><code>enum RoleEnum {\n  USER,\n  PRESENTER,\n  ORGANIZER,\n  ADMIN\n}\n\nconst parseEnum = (name: String): RoleEnum  =&gt; RoleEnum[`${name}`]\n\nconst parsed: RoleEnum[] = [ 'ADMIN', 'USER' ].map(parseEnum)\n\nconsole.log(parsed)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10866, "user_id": 1673776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/0llsY.jpg?s=128&g=1", "display_name": "Victor", "link": "https://stackoverflow.com/users/1673776/victor"}, "edited": false, "score": 0, "creation_date": 1524674615, "post_id": 50027123, "comment_id": 87070986, "body": "Here&#39;s the <code>if</code> I was talking about: <code>if (!isRole(s))</code>."}, {"owner": {"reputation": 10866, "user_id": 1673776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/0llsY.jpg?s=128&g=1", "display_name": "Victor", "link": "https://stackoverflow.com/users/1673776/victor"}, "edited": false, "score": 0, "creation_date": 1524674936, "post_id": 50027123, "comment_id": 87071127, "body": "I appreciate that, yeah. It is important!"}, {"owner": {"reputation": 34013, "user_id": 674326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb1ffcb8355a833bc34334d75cefeb3d?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/674326/brandon"}, "edited": false, "score": 1, "creation_date": 1524682881, "post_id": 50027123, "comment_id": 87075236, "body": "this is definitely the better answer if you do not trust the values coming from the API, or want to code defensively against future changes to the API contract."}], "tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": false, "score": 1, "last_activity_date": 1524674121, "last_edit_date": 1524674121, "creation_date": 1524673626, "answer_id": 50027123, "question_id": 50026880, "link": "https://stackoverflow.com/questions/50026880/parsing-string-literals-into-enum-array/50027123#50027123", "title": "Parsing string literals into enum array", "body": "<p>You <em>can</em> just cast it to your union type:</p>\n\n<pre><code>const apiRoleArray = [\"ADMIN\", \"USER\"];\nconst realRoleArray: Role[] = &lt;Role[]&gt;apiRoleArray;\n</code></pre>\n\n<p><strong>BUT</strong> you probably want to validate its contents rather than just trusting the API. :-) Drawing on <a href=\"https://stackoverflow.com/questions/36836011/checking-validity-of-string-literal-union-type-at-runtime\">this question's answers</a>, you can create the type by using the keys of an object rather than defining it literally (see the <a href=\"https://stackoverflow.com/a/43621735/157247\">accepted answer</a> there for why):</p>\n\n<pre><code>const roleStrings = {\n    USER: \"\",\n    PRESENTER: \"\",\n    ORGANIZER: \"\",\n    ADMIN: \"\"\n};\n\nexport type Role = keyof typeof roleStrings;\n</code></pre>\n\n<p>then give yourself a validation function:</p>\n\n<pre><code>const isRole = (s: string): s is Role =&gt; {\n    return roleStrings.hasOwnProperty(s);\n};\n</code></pre>\n\n<p>then a robust conversion function, for example:</p>\n\n<pre><code>const rawToRoleArray = (rawArray: string[]): Role[] =&gt; {\n    return rawArray.map(s =&gt; {\n        if (!isRole(s)) {\n            throw new Error(\"Invalid Role: \" + s);\n        }\n        return &lt;Role&gt;s;\n    });\n};\n</code></pre>\n\n<p>(you could combine those if you don't need them separately)</p>\n\n<p>then use it:</p>\n\n<pre><code>// Valid\nconst realRoleArray: Role[] = rawToRoleArray([\"ADMIN\", \"USER\"]); \nconsole.log(realRoleArray);\n// Invalid\nconst realRoleArray2: Role[] = rawToRoleArray([\"ADMIN\", \"FOO\"]); \nconsole.log(realRoleArray2);\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/index.html#src=const%20roleStrings%20%3D%20%7B%0D%0A%20%20%20%20USER%3A%20%22%22%2C%0D%0A%20%20%20%20PRESENTER%3A%20%22%22%2C%0D%0A%20%20%20%20ORGANIZER%3A%20%22%22%2C%0D%0A%20%20%20%20ADMIN%3A%20%22%22%0D%0A%7D%3B%0D%0A%0D%0Atype%20Role%20%3D%20keyof%20typeof%20roleStrings%3B%0D%0A%0D%0Aconst%20isRole%20%3D%20(s%3A%20string)%3A%20s%20is%20Role%20%3D%3E%20%7B%0D%0A%20%20%20%20return%20roleStrings.hasOwnProperty(s)%3B%0D%0A%7D%3B%0D%0A%0D%0Aconst%20rawToRoleArray%20%3D%20(rawArray%3A%20string%5B%5D)%3A%20Role%5B%5D%20%3D%3E%20%7B%0D%0A%20%20%20%20return%20rawArray.map(s%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(!isRole(s))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20throw%20new%20Error(%22Invalid%20Role%3A%20%22%20%2B%20s)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20return%20%3CRole%3Es%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%7D%3B%0D%0A%0D%0A%2F%2F%20Valid%0D%0Aconst%20realRoleArray%3A%20Role%5B%5D%20%3D%20rawToRoleArray(%5B%22ADMIN%22%2C%20%22USER%22%5D)%3B%20%0D%0Aconsole.log(realRoleArray)%3B%0D%0A%2F%2F%20Invalid%0D%0Aconst%20realRoleArray2%3A%20Role%5B%5D%20%3D%20rawToRoleArray(%5B%22ADMIN%22%2C%20%22FOO%22%5D)%3B%20%0D%0Aconsole.log(realRoleArray2)%3B\" rel=\"nofollow noreferrer\">Live in the playground</a> | <a href=\"https://jsfiddle.net/uej3e2fz/\" rel=\"nofollow noreferrer\">Live on jsFiddle</a></p>\n"}, {"comments": [{"owner": {"reputation": 10866, "user_id": 1673776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/0llsY.jpg?s=128&g=1", "display_name": "Victor", "link": "https://stackoverflow.com/users/1673776/victor"}, "edited": false, "score": 0, "creation_date": 1524673844, "post_id": 50027146, "comment_id": 87070587, "body": "And if data might have bad input, just run an <code>if</code> and you&#39;re done :)"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 10866, "user_id": 1673776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/0llsY.jpg?s=128&g=1", "display_name": "Victor", "link": "https://stackoverflow.com/users/1673776/victor"}, "edited": false, "score": 1, "creation_date": 1524674261, "post_id": 50027146, "comment_id": 87070818, "body": "@Victor: But coding that <code>if</code> in an extensible way is tricky."}, {"owner": {"reputation": 10866, "user_id": 1673776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/0llsY.jpg?s=128&g=1", "display_name": "Victor", "link": "https://stackoverflow.com/users/1673776/victor"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1524674344, "post_id": 50027146, "comment_id": 87070852, "body": "@T.J.Crowder but there&#39;s no other way than having a model to validate inputs from an API. Another way is using a <a href=\"http://json-schema.org/\" rel=\"nofollow noreferrer\">JSON Schema</a> which will handle the <code>if</code>s for you"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 10866, "user_id": 1673776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/0llsY.jpg?s=128&g=1", "display_name": "Victor", "link": "https://stackoverflow.com/users/1673776/victor"}, "edited": false, "score": 0, "creation_date": 1524674546, "post_id": 50027146, "comment_id": 87070950, "body": "@Victor: Not sure what you mean by &quot;no other way&quot; given <a href=\"https://stackoverflow.com/a/50027123/157247\">my answer</a>."}], "tags": [], "owner": {"reputation": 34013, "user_id": 674326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb1ffcb8355a833bc34334d75cefeb3d?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/674326/brandon"}, "is_accepted": true, "score": 3, "last_activity_date": 1524673696, "creation_date": 1524673696, "answer_id": 50027146, "question_id": 50026880, "link": "https://stackoverflow.com/questions/50026880/parsing-string-literals-into-enum-array/50027146#50027146", "title": "Parsing string literals into enum array", "body": "<p>Your <code>Role</code> type is <em>not</em> an enum.  It is just a string type limited to certain values.</p>\n\n<p>You can just cast the result as a <code>Role[]</code> and TypeScript will be happy.  This assumes the incoming data never has a bad value!</p>\n\n<pre><code>const data: {roles: Role[]} = JSON.parse('{\"roles\": [\"ADMIN\", \"USER\"]}');\ndata.roles // TypeScript knows it is a Role[]\n</code></pre>\n"}], "owner": {"reputation": 2077, "user_id": 243302, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/05e60dd7d4b3d87162e7661ead00bf36?s=128&d=identicon&r=PG", "display_name": "Sammy", "link": "https://stackoverflow.com/users/243302/sammy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "accepted_answer_id": 50027146, "answer_count": 3, "score": 1, "last_activity_date": 1524674304, "creation_date": 1524672743, "last_edit_date": 1524674304, "question_id": 50026880, "link": "https://stackoverflow.com/questions/50026880/parsing-string-literals-into-enum-array", "title": "Parsing string literals into enum array", "body": "<p>I'm receiving the following in an API response:</p>\n\n<pre><code>{ \"roles\": [ \"ADMIN\", \"USER\" ] }\n</code></pre>\n\n<p>where the response will always contain an array of roles (<code>USER</code>, <code>PRESENTER</code>, <code>ORGANIZER</code>, and <code>ADMIN</code>).</p>\n\n<p>I want to convert it into a valid TypeScript array (<code>Role[]</code>), where the type <code>Role</code> is defined as follows:</p>\n\n<pre><code>export type Role = 'USER' | 'PRESENTER' | 'ORGANIZER' | 'ADMIN'\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angularjs-scope"], "comments": [{"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1524673082, "post_id": 50026798, "comment_id": 87070155, "body": "I can&#39;t even think of a legitimate reason to do this. Can you give some reasoning/background info behind what you are trying to accomplish?"}, {"owner": {"reputation": 4766, "user_id": 4957388, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/KUNhv.jpg?s=128&g=1", "display_name": "firasKoubaa", "link": "https://stackoverflow.com/users/4957388/firaskoubaa"}, "reply_to_user": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1524673269, "post_id": 50026798, "comment_id": 87070269, "body": "i want to conditionnaly import my modules : i can use testPef  value from a web service that i can call"}, {"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1524674080, "post_id": 50026798, "comment_id": 87070730, "body": "How will the Angular compiler know how to create the bundle that your <code>MyModule</code> module falls in? The bundles are made at compile time, not runtime."}, {"owner": {"reputation": 14135, "user_id": 427146, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PuoOb.jpg?s=128&g=1", "display_name": "sabithpocker", "link": "https://stackoverflow.com/users/427146/sabithpocker"}, "edited": false, "score": 0, "creation_date": 1524675241, "post_id": 50026798, "comment_id": 87071276, "body": "If you can explain your exact requirement it will be easier to give an answer."}], "answers": [{"tags": [], "owner": {"reputation": 14135, "user_id": 427146, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PuoOb.jpg?s=128&g=1", "display_name": "sabithpocker", "link": "https://stackoverflow.com/users/427146/sabithpocker"}, "is_accepted": false, "score": 0, "last_activity_date": 1524675069, "creation_date": 1524675069, "answer_id": 50027518, "question_id": 50026798, "link": "https://stackoverflow.com/questions/50026798/angular-using-a-service-to-conditionnally-import-modules/50027518#50027518", "title": "Angular : using a service to conditionnally import modules", "body": "<p>You can use <a href=\"https://angular.io/guide/router#canload-guard-guarding-unauthorized-loading-of-feature-modules\" rel=\"nofollow noreferrer\"><code>canLoad</code></a> guard along with <a href=\"https://angular.io/guide/router#lazy-loading-route-configuration\" rel=\"nofollow noreferrer\">LazyLoading</a>. Your service can be called from <code>canLoad</code></p>\n"}, {"tags": [], "owner": {"reputation": 15822, "user_id": 4399281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JkroG.jpg?s=128&g=1", "display_name": "Fateh Mohamed", "link": "https://stackoverflow.com/users/4399281/fateh-mohamed"}, "is_accepted": true, "score": 0, "last_activity_date": 1524675618, "last_edit_date": 1524675618, "creation_date": 1524675300, "answer_id": 50027584, "question_id": 50026798, "link": "https://stackoverflow.com/questions/50026798/angular-using-a-service-to-conditionnally-import-modules/50027584#50027584", "title": "Angular : using a service to conditionnally import modules", "body": "<p>you achieve that using lazyLoading</p>\n\n<pre><code> export class LoadGuard implements CanLoad {\n  constructor(private myService : MyService , private router: Router) {\n }\n canLoad(route: Route): boolean {\n\n  if (this.myService.canBeLoaded()) {\n       return true; \n } else {\n    return false;\n }  \n} \n\n\n{\n  path: 'test',\n  loadChildren: 'app/test/test.module#TestModule',\n  canLoad: [LoadGuard]\n},\n</code></pre>\n"}], "owner": {"reputation": 4766, "user_id": 4957388, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/KUNhv.jpg?s=128&g=1", "display_name": "firasKoubaa", "link": "https://stackoverflow.com/users/4957388/firaskoubaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 50027584, "answer_count": 2, "score": 0, "last_activity_date": 1524675618, "creation_date": 1524672474, "question_id": 50026798, "link": "https://stackoverflow.com/questions/50026798/angular-using-a-service-to-conditionnally-import-modules", "title": "Angular : using a service to conditionnally import modules", "body": "<p>i have i service which i use to load a list of module :</p>\n\n<pre><code>@Injectable()\nexport class MyService {\n\n  public allowedModules: any = this.modulesFilter();\n\n  constructor() {\n  }\n\n  public modulesFilter() {\n    const testPef = true;\n    const modulesList= [];\n    if (testPef === true) {\n      modulesList.push(MyFirstModule);\n    } else {\n      modulesList.push(MySecondModule);\n    }\n    return modulesList;\n  }\n}\n</code></pre>\n\n<p>then in my module file , i want to use it like this :</p>\n\n<pre><code>@NgModule({\n  imports: [\n    CommonModule,\n    MyService.allowedModules  // THIS IS WRONG\n  ],\n  declarations: [],\n  providers: [\n    MyService\n  ],\n  exports: [\n  ]\n})\nexport class MyModule { }\n</code></pre>\n\n<p><strong>Of course it's wrong as i need to not access directly to my service</strong> </p>\n\n<p><strong>Suggestions?</strong></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "edited": false, "score": 3, "creation_date": 1524672613, "post_id": 50026795, "comment_id": 87069898, "body": "Sure you are not doing something like <code>1 + &#39;0&#39;</code> ?"}, {"owner": {"reputation": 2161, "user_id": 4080514, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/KlYAC.jpg?s=128&g=1", "display_name": "DarioN1", "link": "https://stackoverflow.com/users/4080514/darion1"}, "reply_to_user": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "edited": false, "score": 0, "creation_date": 1524672691, "post_id": 50026795, "comment_id": 87069942, "body": "yeah, thats it bugs"}, {"owner": {"reputation": 2161, "user_id": 4080514, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/KlYAC.jpg?s=128&g=1", "display_name": "DarioN1", "link": "https://stackoverflow.com/users/4080514/darion1"}, "reply_to_user": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "edited": false, "score": 0, "creation_date": 1524672713, "post_id": 50026795, "comment_id": 87069956, "body": "I fixed it by changing the formula in: +row.pricePurchase + ((+row.pricePurchase * +row.markUp) / 100);"}], "answers": [{"tags": [], "owner": {"reputation": 2161, "user_id": 4080514, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/KlYAC.jpg?s=128&g=1", "display_name": "DarioN1", "link": "https://stackoverflow.com/users/4080514/darion1"}, "is_accepted": true, "score": 1, "last_activity_date": 1524676864, "last_edit_date": 1524676864, "creation_date": 1524676013, "answer_id": 50027771, "question_id": 50026795, "link": "https://stackoverflow.com/questions/50026795/angular2-calculate-discount-formula-not-working/50027771#50027771", "title": "Angular2 - Calculate discount formula not working", "body": "<p>I fixed it by changing the formula in: </p>\n\n<pre><code>+row.pricePurchase + ((+row.pricePurchase * +row.markUp) / 100);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "is_accepted": false, "score": 1, "last_activity_date": 1524676836, "creation_date": 1524676836, "answer_id": 50028007, "question_id": 50026795, "link": "https://stackoverflow.com/questions/50026795/angular2-calculate-discount-formula-not-working/50028007#50028007", "title": "Angular2 - Calculate discount formula not working", "body": "<p>you can try by using <code>Number</code> as below </p>\n\n<pre><code>const purchase = Number(row.pricePurchase);\nrow.priceList =  purchase + (purchase * Number(row.markUp) / 100);\n</code></pre>\n\n<p>Other way is already added by you which making use of <code>+</code></p>\n\n<pre><code>const purchase = +row.pricePurchase;\nrow.priceList =  purchase + (purchase * +row.markUp / 100);\n</code></pre>\n"}], "owner": {"reputation": 2161, "user_id": 4080514, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/KlYAC.jpg?s=128&g=1", "display_name": "DarioN1", "link": "https://stackoverflow.com/users/4080514/darion1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 50027771, "answer_count": 2, "score": 0, "last_activity_date": 1524676864, "creation_date": 1524672471, "question_id": 50026795, "link": "https://stackoverflow.com/questions/50026795/angular2-calculate-discount-formula-not-working", "title": "Angular2 - Calculate discount formula not working", "body": "<p>I'm facing a very stupid problem with Angular2/Typescript.</p>\n\n<p>I want to calculate the final price from a given discount value. This is the formula:</p>\n\n<pre><code>row.priceList = row.pricePurchase + (row.pricePurchase * row.markUp / 100);\n</code></pre>\n\n<p>All the properties are defined as number.</p>\n\n<p>If I try to run the formula and log the values, providing pricePurchase value as 1 and markUp value as 0, the result of the formula is 10 ?</p>\n\n<p>How is it possible and how can I correct it ?</p>\n\n<p>Thanks to support</p>\n"}, {"tags": ["typescript", "firebase", "firebase-authentication", "angular5"], "comments": [{"owner": {"reputation": 2333, "user_id": 5519872, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/1016212238441099/picture?type=large", "display_name": "Rajendran Nadar", "link": "https://stackoverflow.com/users/5519872/rajendran-nadar"}, "edited": false, "score": 0, "creation_date": 1524674660, "post_id": 50026734, "comment_id": 87071002, "body": "No you can&#39;t add more data along with this method! The UID and security is taken care by the firebase"}, {"owner": {"reputation": 1266, "user_id": 6227485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d768a412cc63798930379abe334a6c01?s=128&d=identicon&r=PG&f=1", "display_name": "dbandstra", "link": "https://stackoverflow.com/users/6227485/dbandstra"}, "edited": false, "score": 0, "creation_date": 1524675465, "post_id": 50026734, "comment_id": 87071384, "body": "You&#39;re supposed to put additional data in the database, not in the auth system. When the user signs up, create the auth user and get the new uid, then write additional fields to the db under whatever path you want, something like <code>&#47;user_profiles&#47;{uid}</code>."}, {"owner": {"reputation": 964, "user_id": 6865232, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-nVRdwy3zKhY/AAAAAAAAAAI/AAAAAAAAABo/fbDnn1SDSdU/photo.jpg?sz=128", "display_name": "Rafael Moura", "link": "https://stackoverflow.com/users/6865232/rafael-moura"}, "edited": false, "score": 0, "creation_date": 1524678814, "post_id": 50026734, "comment_id": 87073155, "body": "so, I don&#39;t want to put data in auth system, I want assossiation auth system with database"}], "answers": [{"tags": [], "owner": {"reputation": 964, "user_id": 6865232, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-nVRdwy3zKhY/AAAAAAAAAAI/AAAAAAAAABo/fbDnn1SDSdU/photo.jpg?sz=128", "display_name": "Rafael Moura", "link": "https://stackoverflow.com/users/6865232/rafael-moura"}, "is_accepted": true, "score": 1, "last_activity_date": 1524679050, "creation_date": 1524679050, "answer_id": 50028584, "question_id": 50026734, "link": "https://stackoverflow.com/questions/50026734/create-user-with-email-and-password-using-angular-5-firebase/50028584#50028584", "title": "Create user with email and password using angular 5 firebase", "body": "<p>[RESOLVED] To me, I did this way</p>\n\n<p>AuthService I have</p>\n\n<pre><code>  createUser(user: UserInterface) {\n       return this.angularFireAuth.auth.createUserWithEmailAndPassword(user.email, user.password)\n                            .then(() =&gt; {\n                              this.service.save(user);\n                            })\n                            .catch((e) =&gt; console.log(e));\n  }\n</code></pre>\n\n<p>And in my UserService I have</p>\n\n<pre><code>save(user: any) {\nreturn new Promise((resolve, reject) =&gt; {\n  if(user.key) {\n    this.db.list(this.PATH)\n          .update(user.key, ({ name: user.name }))\n          .then(() =&gt; resolve())\n          .catch((e) =&gt; reject(e))\n  } else {\n    this.db.list(this.PATH)\n            .push({ name: user.name })\n            .then(() =&gt; resolve())\n    }\n  })\n}\n</code></pre>\n\n<p>This way, I can create a User using Email and Password in Auth system and I add atributers to this User in UserService, this way I done!</p>\n"}], "owner": {"reputation": 964, "user_id": 6865232, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-nVRdwy3zKhY/AAAAAAAAAAI/AAAAAAAAABo/fbDnn1SDSdU/photo.jpg?sz=128", "display_name": "Rafael Moura", "link": "https://stackoverflow.com/users/6865232/rafael-moura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2403, "favorite_count": 0, "accepted_answer_id": 50028584, "answer_count": 1, "score": 1, "last_activity_date": 1525446169, "creation_date": 1524672269, "last_edit_date": 1525086419, "question_id": 50026734, "link": "https://stackoverflow.com/questions/50026734/create-user-with-email-and-password-using-angular-5-firebase", "title": "Create user with email and password using angular 5 firebase", "body": "<p>I would like to create one user with email and password more another data, for example name\nIn my interface I have this:</p>\n\n<pre><code>export interface UserInterface {\n\n  id?: string;\n  name: string;\n  email: string;\n  password: string;\n  status: string\n\n constructor(auth) {\n   this.id = auth.uid\n }\n}\n</code></pre>\n\n<p>and my service I have: </p>\n\n<pre><code>createUser(user: UserInterface) {\n  return this.angularFireAuth.auth.createUserWithEmailAndPassword(user.email, user.password)\n}\n</code></pre>\n\n<p>How I can add atributes name and uid in ID ?</p>\n"}, {"tags": ["node.js", "typescript", "jasmine", "spy"], "comments": [{"owner": {"reputation": 7368, "user_id": 3479456, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zuJYi.png?s=128&g=1", "display_name": "pushkin", "link": "https://stackoverflow.com/users/3479456/pushkin"}, "edited": false, "score": 0, "creation_date": 1602859134, "post_id": 50026591, "comment_id": 113861874, "body": "when you say spy on <code>fooutils</code>, you mean <code>spyOn(fooutils, &quot;getData&quot;)</code>, right? I would expect that to work"}, {"owner": {"reputation": 1976, "user_id": 5190019, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d8f7c232071e2af43512cff419eb9716?s=128&d=identicon&r=PG&f=1", "display_name": "Asoub", "link": "https://stackoverflow.com/users/5190019/asoub"}, "reply_to_user": {"reputation": 7368, "user_id": 3479456, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zuJYi.png?s=128&g=1", "display_name": "pushkin", "link": "https://stackoverflow.com/users/3479456/pushkin"}, "edited": false, "score": 0, "creation_date": 1607175164, "post_id": 50026591, "comment_id": 115192165, "body": "@pushkin sorry it&#39;s been a real long time, I&#39;m not on this project anymore, but I think that I tried that yes (maybe now it works)."}], "owner": {"reputation": 1976, "user_id": 5190019, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d8f7c232071e2af43512cff419eb9716?s=128&d=identicon&r=PG&f=1", "display_name": "Asoub", "link": "https://stackoverflow.com/users/5190019/asoub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 421, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1524671777, "creation_date": 1524671777, "question_id": 50026591, "link": "https://stackoverflow.com/questions/50026591/jasmine-spy-on-exported-function-on-nodejs", "title": "Jasmine spy on exported function on NodeJS", "body": "<p>I've had trouble spying on exported function in a NodeJS (v9.6.1) app using Jasmine.</p>\n\n<p>The app is written in typescript, transpiled with tsc in a dist folder to be executed as javascript.</p>\n\n<h2>App</h2>\n\n<p>I have a Foo utils file (foo.utils.ts) which exports functions:</p>\n\n<pre><code>import {readFile} from \"fs\";\nexport function getData(filePath: string){\n    const data = readFile(filePath)\n    // various checks happens here.\n    return data;\n}\n</code></pre>\n\n<p>And a Bar class in a bar.ts file:</p>\n\n<pre><code>import {getData} from \"../utils/foo.utils\nexport class Bar {\n        public do(){\n    // ... does stuff\n    const data = getData(filePath);\n    // etc.\n    }\n}\n</code></pre>\n\n<h2>Test</h2>\n\n<p>Now I'm trying to spyOn the exported <code>getData</code> method to check if it've been called and to return a mocked value. I don't want to read file in my unit test (and even to use the real <code>getData</code> method at all)</p>\n\n<p>The bar.spec.ts file for testing:</p>\n\n<pre><code>describe(\"Bar\", ()=&gt;{\n    let bar: Bar;\n    beforeEach(function() {\n        bar = new Bar();\n    })\n    it(\" should do stuff\", ()=&gt;{\n        const spy = spyOn(???, \"getData\").and.returnValue([]);\n        bar.do();\n        expect(spy).toHaveBeenCalled();\n    })\n});\n</code></pre>\n\n<h2>Problems</h2>\n\n<p>As it is a NodeJS app, I've been trying to use <code>global</code> as the object to spy on, but I get the error:</p>\n\n<blockquote>\n  <p>Error:  : getAttachementData() method does not exist</p>\n</blockquote>\n\n<p>I've also tried to add </p>\n\n<pre><code>import * as fooutils from \".../src/utils/foo.utils\n</code></pre>\n\n<p>And spy on <code>fooutils</code> but I still goes through the exported function (and crashes when it tries to read the file...)</p>\n\n<p>Now I'm kinda lost. From what I've found it's not really possible to mock an exported function (even though they should be added to the <code>global</code> object).\nI thought about refactoring the utils file to create an utils class which exports static method and spying on them.</p>\n\n<h2>Questions</h2>\n\n<ul>\n<li>Am I doing something wrong ?</li>\n<li>Is it possible to spy (and replace) exported function ?</li>\n<li>Would using static method in class (rather than export function) work ?</li>\n<li>Any other way to that ?</li>\n</ul>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 1, "creation_date": 1524672278, "post_id": 50026545, "comment_id": 87069732, "body": "Why do you need a static method to do your work?"}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 1071776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec3f784eaff50377bdfadfa7bbabe4cc?s=128&d=identicon&r=PG", "display_name": "Zoey", "link": "https://stackoverflow.com/users/1071776/zoey"}, "edited": false, "score": 0, "creation_date": 1606760665, "post_id": 50026725, "comment_id": 115053571, "body": "I can give you an example.  I have an environment-manager class with a method called getApiUrl that will retrieve the URL of this Angular app&#39;s API based on which environment.  The URLs of each environment are held in a json file in the assets folder.  The method is static so I can call it inline on my services:  var apiUrl = environmentManager.getApiUrl() + &#39;/api/User&#39;; As far as I can tell the only way to read a JSON file is with HTTPClient, so I would need it in my static method."}, {"owner": {"reputation": 5977, "user_id": 5683579, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8c263738dccc90304c0ac71ed8ed505b?s=128&d=identicon&r=PG", "display_name": "joh04667", "link": "https://stackoverflow.com/users/5683579/joh04667"}, "reply_to_user": {"reputation": 133, "user_id": 1071776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec3f784eaff50377bdfadfa7bbabe4cc?s=128&d=identicon&r=PG", "display_name": "Zoey", "link": "https://stackoverflow.com/users/1071776/zoey"}, "edited": false, "score": 0, "creation_date": 1606858023, "post_id": 50026725, "comment_id": 115089122, "body": "You would still need to inject it, for example by using a custom provider for the APP_INITIALIZER token and specifying the httpClient as a dependency. Dependency injection and static classes/properties are two different paradigms that don&#39;t work with each other.   Also, I don&#39;t see any reason you&#39;d need the client to parse JSON when JSON.parse() is a thing"}], "tags": [], "owner": {"reputation": 5977, "user_id": 5683579, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8c263738dccc90304c0ac71ed8ed505b?s=128&d=identicon&r=PG", "display_name": "joh04667", "link": "https://stackoverflow.com/users/5683579/joh04667"}, "is_accepted": false, "score": 4, "last_activity_date": 1551547978, "last_edit_date": 1551547978, "creation_date": 1524672246, "answer_id": 50026725, "question_id": 50026545, "link": "https://stackoverflow.com/questions/50026545/angular-how-to-use-httpclient-in-a-static-method-service/50026725#50026725", "title": "Angular : How to use HttpClient in a static method service", "body": "<p>Static methods are not instance methods, simple as that. <code>this</code> would only refer to the static class properties, while a non-static <code>this</code> refers the the instance of a class-- <code>httpClient</code> is not static, so it does not <em>exist</em> in a static property.</p>\n\n<p>You could make httpClient static, but then Angular wouldn't be able to inject it into the service instance.</p>\n\n<p>I would question your design here and the reason for needing this method to be static -- services are always created as instances, and I can't really think of a situation where an <code>httpClient</code> call would need to be made where a service is not accessible via Angular's DI. </p>\n"}], "owner": {"reputation": 4766, "user_id": 4957388, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/KUNhv.jpg?s=128&g=1", "display_name": "firasKoubaa", "link": "https://stackoverflow.com/users/4957388/firaskoubaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 552, "favorite_count": 0, "closed_date": 1524688333, "answer_count": 1, "score": 0, "last_activity_date": 1551547978, "creation_date": 1524671650, "last_edit_date": 1524671922, "question_id": 50026545, "link": "https://stackoverflow.com/questions/50026545/angular-how-to-use-httpclient-in-a-static-method-service", "closed_reason": "Opinion-based", "title": "Angular : How to use HttpClient in a static method service", "body": "<p>my service contains a static method (which i use for some initilalizing treatment)</p>\n\n<p>In my method i need to fetch some data from a web service </p>\n\n<pre><code>    @Injectable()\n    export class FeaturesInitializationService {\n\n      static allowedFeaturesModules: any = FeaturesInitializationService.featuresFilter();\n      public httpClient : HttpClient ;\n\n      constructor() {\n      }\n\n      static featuresFilter() {\n\n\n// HERE IT's NOT ALLOWED to USE \"this.httpClient\"\n       this.httpClient.get('myUrl').subscribe(    \n          ( data ) =&gt; {\n            console.log(data);\n          }\n        );\n        const testPef = true;\n        const featuresList = [];\n        if (testPef === true) {\n          featuresList.push(MenusModule);\n        } else {\n          featuresList.push(ChangelogModule);\n        }\n        return featuresList;\n      }\n    }\n</code></pre>\n\n<p>as you can see i'm not allowed to use <code>this.httpClient</code> as it's a static method</p>\n\n<p><strong>Suggestions?</strong></p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-cli"], "comments": [{"owner": {"reputation": 322, "user_id": 3385832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4b62b95bc0b6df99e2be96f279d4c5d?s=128&d=identicon&r=PG", "display_name": "alephtwo", "link": "https://stackoverflow.com/users/3385832/alephtwo"}, "edited": false, "score": 0, "creation_date": 1524672958, "post_id": 50026540, "comment_id": 87070089, "body": "Looks like you are using webpack but haven&#39;t told webpack to load <code>.js</code> files."}, {"owner": {"reputation": 75, "user_id": 9472041, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KRvwW.jpg?s=128&g=1", "display_name": "MadaZZ", "link": "https://stackoverflow.com/users/9472041/madazz"}, "edited": false, "score": 0, "creation_date": 1524673219, "post_id": 50026540, "comment_id": 87070243, "body": "The problem is with loading the web pack. Maybe this link can help <a href=\"https://stackoverflow.com/questions/33469929/you-may-need-an-appropriate-loader-to-handle-this-file-type-with-webpack-and-b?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\" title=\"you may need an appropriate loader to handle this file type with webpack and b\">stackoverflow.com/questions/33469929/&hellip;</a>"}, {"owner": {"reputation": 1636, "user_id": 854656, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c76b1c4a7f2a6f53d60c099f19d0729c?s=128&d=identicon&r=PG", "display_name": "indusBull", "link": "https://stackoverflow.com/users/854656/indusbull"}, "edited": false, "score": 0, "creation_date": 1524673220, "post_id": 50026540, "comment_id": 87070244, "body": "I used angular-cli to create the project. I don&#39;t see webpack.config.js created by angular-cli. The wiki doesn&#39;t let webpack know about .js files separately.  I used npm install dmn-js to install libraries."}, {"owner": {"reputation": 4012, "user_id": 5575595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mXllq.jpg?s=128&g=1", "display_name": "Drag13", "link": "https://stackoverflow.com/users/5575595/drag13"}, "edited": false, "score": 0, "creation_date": 1524679929, "post_id": 50026540, "comment_id": 87073717, "body": "When using angular.cli webpack settings will be hidden for you.  So you can use ng eject (but read before it) or use angular-cli.json section script. There you can include javascrpt files."}, {"owner": {"reputation": 18865, "user_id": 1990451, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/kffVz.jpg?s=128&g=1", "display_name": "smnbbrv", "link": "https://stackoverflow.com/users/1990451/smnbbrv"}, "edited": false, "score": 0, "creation_date": 1525124279, "post_id": 50026540, "comment_id": 87234441, "body": "You should address this issue to the library owner. Serving es6 code as a library is not the best practice because most of the tools / setups are excluding node_modules from compilation and angular cli is one of them."}, {"owner": {"reputation": 1636, "user_id": 854656, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c76b1c4a7f2a6f53d60c099f19d0729c?s=128&d=identicon&r=PG", "display_name": "indusBull", "link": "https://stackoverflow.com/users/854656/indusbull"}, "edited": false, "score": 0, "creation_date": 1525124623, "post_id": 50026540, "comment_id": 87234562, "body": "Thanks for your comment. The lib owners have addressed this here - <a href=\"https://forum.bpmn.io/t/using-dmn-js-with-angular-5/2057/5?u=indusbull\" rel=\"nofollow noreferrer\">forum.bpmn.io/t/using-dmn-js-with-angular-5/2057/5?u=indusbu&zwnj;&#8203;ll</a>. They also provided an node module example here that transpiles code in es2015 using babel - <a href=\"https://github.com/bpmn-io/dmn-js-examples/tree/master/bundling\" rel=\"nofollow noreferrer\">github.com/bpmn-io/dmn-js-examples/tree/master/bundling</a>. I tried all suggestions and all turned out to be futile so far."}, {"owner": {"reputation": 18865, "user_id": 1990451, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/kffVz.jpg?s=128&g=1", "display_name": "smnbbrv", "link": "https://stackoverflow.com/users/1990451/smnbbrv"}, "edited": false, "score": 0, "creation_date": 1525151074, "post_id": 50026540, "comment_id": 87240321, "body": "Looking at your link <a href=\"https://github.com/bpmn-io/dmn-js-examples/blob/master/bundling/webpack.config.js\" rel=\"nofollow noreferrer\">github.com/bpmn-io/dmn-js-examples/blob/master/bundling/&hellip;</a> - this is exactly what I was saying, they do not exclude node_modules in Babel config."}, {"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1525158534, "post_id": 50026540, "comment_id": 87242362, "body": "You can simply all this by importing the dist as <code>import * as DmnJS from &#39;dmn-js&#47;dist&#47;dmn-viewer.development&#39;;</code>, see if this helps"}, {"owner": {"reputation": 1636, "user_id": 854656, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c76b1c4a7f2a6f53d60c099f19d0729c?s=128&d=identicon&r=PG", "display_name": "indusBull", "link": "https://stackoverflow.com/users/854656/indusbull"}, "reply_to_user": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1525184747, "post_id": 50026540, "comment_id": 87253751, "body": "@TarunLalwani I get an error &quot;TypeError: DmnJs is not a constructor&quot;"}, {"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1525185534, "post_id": 50026540, "comment_id": 87254170, "body": "The issue seems that the spread destructing is not working and the file is also js and not ts. The default tsconfig processes ts only making it to process this module didn&#39;t help as it created another error"}, {"owner": {"reputation": 1139, "user_id": 5277707, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/VNJ4T.jpg?s=128&g=1", "display_name": "KLTR", "link": "https://stackoverflow.com/users/5277707/kltr"}, "edited": false, "score": 0, "creation_date": 1525194271, "post_id": 50026540, "comment_id": 87258862, "body": "Try to add dmn-js to your angular-cli.json. take a look at this post : <a href=\"https://forum.bpmn.io/t/using-dmn-js-with-angular-5/2057/2\" rel=\"nofollow noreferrer\">forum.bpmn.io/t/using-dmn-js-with-angular-5/2057/2</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1724, "user_id": 5269178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ddb19370af3c88392ce8d470f0864da?s=128&d=identicon&r=PG&f=1", "display_name": "Ampati Hareesh", "link": "https://stackoverflow.com/users/5269178/ampati-hareesh"}, "edited": false, "score": 0, "creation_date": 1525207685, "post_id": 50121606, "comment_id": 87265298, "body": "for your reference created git repo: <a href=\"https://github.com/HariDongli/dmn-js-angular-stack\" rel=\"nofollow noreferrer\">github.com/HariDongli/dmn-js-angular-stack</a> !!!"}, {"owner": {"reputation": 1636, "user_id": 854656, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c76b1c4a7f2a6f53d60c099f19d0729c?s=128&d=identicon&r=PG", "display_name": "indusBull", "link": "https://stackoverflow.com/users/854656/indusbull"}, "edited": false, "score": 1, "creation_date": 1525207750, "post_id": 50121606, "comment_id": 87265340, "body": "This is great! -) Thank you very much for taking time to resolve. It is working now. I had to download additional npm dependencies to make it work  - npm install --save-dev babel-loader babel-preset-stage-2 babel-preset-es2015"}, {"owner": {"reputation": 1724, "user_id": 5269178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ddb19370af3c88392ce8d470f0864da?s=128&d=identicon&r=PG&f=1", "display_name": "Ampati Hareesh", "link": "https://stackoverflow.com/users/5269178/ampati-hareesh"}, "reply_to_user": {"reputation": 1636, "user_id": 854656, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c76b1c4a7f2a6f53d60c099f19d0729c?s=128&d=identicon&r=PG", "display_name": "indusBull", "link": "https://stackoverflow.com/users/854656/indusbull"}, "edited": false, "score": 0, "creation_date": 1525207937, "post_id": 50121606, "comment_id": 87265444, "body": "Thanks to you !!!, came across the babel , haven&#39;t used so far !!! you can add this to forum of dnm-js <a href=\"https://forum.bpmn.io/t/using-dmn-js-with-angular-5/2057/6\" rel=\"nofollow noreferrer\">forum.bpmn.io/t/using-dmn-js-with-angular-5/2057/6</a> :)"}, {"owner": {"reputation": 1636, "user_id": 854656, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c76b1c4a7f2a6f53d60c099f19d0729c?s=128&d=identicon&r=PG", "display_name": "indusBull", "link": "https://stackoverflow.com/users/854656/indusbull"}, "edited": false, "score": 0, "creation_date": 1525207972, "post_id": 50121606, "comment_id": 87265461, "body": "I actually just posted ref to your solution there :-)"}], "tags": [], "owner": {"reputation": 1724, "user_id": 5269178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ddb19370af3c88392ce8d470f0864da?s=128&d=identicon&r=PG&f=1", "display_name": "Ampati Hareesh", "link": "https://stackoverflow.com/users/5269178/ampati-hareesh"}, "is_accepted": true, "score": 3, "last_activity_date": 1525198422, "creation_date": 1525198422, "answer_id": 50121606, "question_id": 50026540, "link": "https://stackoverflow.com/questions/50026540/angular-5-typescript-including-es2015-code/50121606#50121606", "title": "Angular 5 TypeScript- including ES2015 code", "body": "<blockquote>\n  <p>Angular-cli wiki tells how to add, as you have followed it already,now\n  you can access the third party lib, but here dmn-js requires plugins\n  which can support( spread operators,and other internal\n  transforms,etc.). and dmn-js uses babel [if you observe that it is\n  having .babelrc files in each folder of dmn* ].</p>\n</blockquote>\n\n<p>In order to support the dmn-js we need to configure webpack.\nAfter spending decent amount of time here is the result :</p>\n\n<p><a href=\"https://i.stack.imgur.com/dJCu6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dJCu6.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>In your.Component.ts</strong></p>\n\n<pre><code>constructor(private http: HttpClient ){\n    this.http.get('../assets/val.xml',{responseType: 'text'}).subscribe(x=&gt;{\n     var xml= x; // my DMN 1.1 xml\n     //var myContainer = document.getElementsByClassName('canvas');\n    var viewer = new Viewer({\n      container: '.canvas'\n    });\n\n    viewer.importXML(xml, function(err) {\n     console.log('*********************');\n      if (err) {\n        console.log('error rendering', err);\n      } else {\n        viewer\n        .getActiveViewer()\n        .get('canvas')\n          .zoom('fit-viewport');\n      }\n    });\n    });\n</code></pre>\n\n<p><strong>In your.Component.html</strong></p>\n\n<pre><code>&lt;body &gt;\n&lt;div class=\"canvas\" style=\"width:100vh;height:100vh ;padding-left:100px\"&gt;&lt;/div&gt;\n  &lt;/body&gt;\n</code></pre>\n\n<blockquote>\n  <p><strong>In Webpack.config.js (use ng eject , if not exists)</strong>\n   Add a rule in module ->  rules</p>\n</blockquote>\n\n<pre><code> { test: /\\.js$/, \n        exclude: /node_modules\\/(?!(dmn-js|dmn-js-drd|dmn-js-shared|dmn-js-decision-table|table-js|dmn-js-literal-expression|diagram-js)\\/).*/,\n        loader: 'babel-loader',query: {presets: [\"react\",\"es2015\",\"stage-0\"]} \n\n      }\n</code></pre>\n\n<p><strong>In index.html add stylesheet links</strong></p>\n\n<pre><code>  &lt;link rel=\"stylesheet\" href=\"https://unpkg.com/dmn-js@4.3.0/dist/assets/dmn-js-drd.css\"&gt;\n  &lt;link rel=\"stylesheet\" href=\"https://unpkg.com/dmn-js@4.3.0/dist/assets/dmn-js-decision-table.css\"&gt;\n  &lt;link rel=\"stylesheet\" href=\"https://unpkg.com/dmn-js@4.3.0/dist/assets/dmn-js-literal-expression.css\"&gt;\n  &lt;link rel=\"stylesheet\" href=\"https://unpkg.com/dmn-js@4.3.0/dist/assets/dmn-font/css/dmn.css\"&gt;\n</code></pre>\n\n<p>Typings.d.ts -> you have added already !!</p>\n\n<p><strong>Install the depenencies:</strong> </p>\n\n<blockquote>\n  <p>npm i --save-dev babel-plugin-inferno\n  babel-plugin-transform-object-rest-spread\n  babel-plugin-transform-class-properties\n  babel-plugin-transform-object-assign</p>\n</blockquote>\n\n<p>Hope this helps !!!</p>\n\n<p>Ref1: <a href=\"https://github.com/bpmn-io/dmn-js-examples/tree/master/bundling\" rel=\"nofollow noreferrer\">https://github.com/bpmn-io/dmn-js-examples/tree/master/bundling</a></p>\n\n<p>Ref2: <a href=\"https://stackoverflow.com/questions/35517245/error-missing-class-properties-transform\">Error: Missing class properties transform</a></p>\n\n<p>Ref3:<a href=\"https://github.com/webpack/webpack/issues/2902\" rel=\"nofollow noreferrer\">https://github.com/webpack/webpack/issues/2902</a></p>\n"}], "owner": {"reputation": 1636, "user_id": 854656, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c76b1c4a7f2a6f53d60c099f19d0729c?s=128&d=identicon&r=PG", "display_name": "indusBull", "link": "https://stackoverflow.com/users/854656/indusbull"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 738, "favorite_count": 1, "accepted_answer_id": 50121606, "answer_count": 1, "score": 3, "last_activity_date": 1525198422, "creation_date": 1524671633, "last_edit_date": 1524679598, "question_id": 50026540, "link": "https://stackoverflow.com/questions/50026540/angular-5-typescript-including-es2015-code", "title": "Angular 5 TypeScript- including ES2015 code", "body": "<p>I am working on angualar 5 app where I have to include <a href=\"https://www.npmjs.com/package/dmn-js\" rel=\"nofollow noreferrer\">dmn-js</a> library which doesn't have typings available. I followed the steps outlined in angular-cli <a href=\"https://github.com/angular/angular-cli/wiki/stories-third-party-lib\" rel=\"nofollow noreferrer\">wiki</a> on how to go about including 3rd party libraries, specifically one outlined under heading - \"If the library doesn't have typings available at @types/, you can still use it by manually adding typings for it:\"</p>\n\n<p>This is how my code now looks like after -</p>\n\n<p><strong>src/typings.d.ts</strong> </p>\n\n<pre><code>/* SystemJS module definition */\ndeclare var module: NodeModule;\ndeclare module 'dmn-js';\ninterface NodeModule {\n  id: string;\n}\n</code></pre>\n\n<p><strong>src/app/app.component.ts</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport * as DmnJS from 'dmn-js';\n\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  title = 'DMN';\n\n  constructor(private http: HttpClient){    \n  }\n\n  ngOnInit(): void {\n    var viewer = new DmnJS ({ container: 'body' });\n    var dmnXML; //DMN 1.1 xml\n    viewer.importXML(dmnXML, this.handleError);\n  }\n\n   handleError(err: any) {\n    if (err) {\n      console.warn('Ups, error: ', err);\n    }else {\n      console.log('rendered');\n    }\n  }\n\n  load(): void {\n    const url = '/assets/dish-decision.dmn';\n    this.http.get(url, {\n      headers: {observe: 'response'}, responseType: 'text'\n    }).subscribe(\n      (x: any) =&gt; {\n        console.log('Fetched XML, now importing: ', x);\n        //this.modeler.importXML(x, this.handleError);\n      },\n      this.handleError\n    );\n  }\n\n  save(): void {\n    //this.modeler.saveXML((err: any, xml: any) =&gt; console.log('Result of saving XML: ', err, xml));\n  }\n\n}\n</code></pre>\n\n<p>Now when I compile the code, I get below error. I am not sure what needs to be done to resolve the issue since I followed all steps.</p>\n\n<pre><code>ERROR in ./node_modules/dmn-js-drd/lib/Viewer.js                                                                                                                                            \nModule parse failed: Unexpected token (175:4)                                                                                                                                               \nYou may need an appropriate loader to handle this file type.                                                                                                                                \n|     additionalModules,                                                                                                                                                                    \n|     canvas,                                                                                                                                                                               \n|     ...additionalOptions                                                                                                                                                                  \n|   } = options;                                                                                                                                                                            \n|                                                                                                                                                                                           \nERROR in ./node_modules/dmn-js-shared/lib/base/Manager.js                                                                                                                                   \nModule parse failed: Unexpected token (292:16)                                                                                                                                              \nYou may need an appropriate loader to handle this file type.                                                                                                                                \n|   }                                                                                                                                                                                       \n|                                                                                                                                                                                           \n|   _viewsChanged = () =&gt; {                                                                                                                                                                 \n|     this._emit('views.changed', {                                                                                                                                                         \n|       views: this._views,                                                                                                                                                                 \nERROR in ./node_modules/dmn-js-decision-table/lib/Viewer.js                                                                                                                                 \nModule parse failed: Unexpected token (75:6)                                                                                                                                                \nYou may need an appropriate loader to handle this file type.                                                                                                                                \n|       modules,                                                                                                                                                                            \n|       additionalModules,                                                                                                                                                                  \n|       ...config                                                                                                                                                                           \n|     } = options;                                                                                                                                                                          \n|                                                                                                                                                                                           \nERROR in ./node_modules/dmn-js-literal-expression/lib/Viewer.js                                                                                                                             \nModule parse failed: Unexpected token (77:6)                                                                                                                                                \nYou may need an appropriate loader to handle this file type.                                                                                                                                \n|       modules,                                                                                                                                                                            \n|       additionalModules,                                                                                                                                                                  \n|       ...config                                                                                                                                                                           \n|     } = options;                                                                                                                                                                          \n|                                                                                                                                                                                           \n\nwebpack: Failed to compile.   \n</code></pre>\n"}, {"tags": ["angular", "typescript", "observable"], "comments": [{"owner": {"reputation": 784, "user_id": 721452, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/f17ab4d155863ef1498d54d1ae04ea5a?s=128&d=identicon&r=PG", "display_name": "Rohit Ramname", "link": "https://stackoverflow.com/users/721452/rohit-ramname"}, "edited": false, "score": 0, "creation_date": 1524671797, "post_id": 50026369, "comment_id": 87069458, "body": "have you tried using switchmap or flatmap operators"}], "answers": [{"comments": [{"owner": {"reputation": 1193, "user_id": 9698467, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HWMy7a1rTHU/AAAAAAAAAAI/AAAAAAAAAGo/1VCmolljn88/photo.jpg?sz=128", "display_name": "Stefan Zhelyazkov", "link": "https://stackoverflow.com/users/9698467/stefan-zhelyazkov"}, "edited": false, "score": 1, "creation_date": 1524704378, "post_id": 50026592, "comment_id": 87082780, "body": "hey @joh04667 thanks for the answer, but I can&#39;t get it to work. This is my problem: I need a <code>repo</code> to be emitted so that I can pass it to <code>getRepoContributors</code> where it uses <code>repo.name</code> to fetch the contributors, then I subscribe to <code>getRepoContributors</code> to collect all contributors in an array which I assign back to the <code>repo</code> once the subscription completes. This approach with <code>mergeMap</code> will convert my <code>Observable&lt;Repo&gt;</code> to <code>Observable&lt;Contributor&gt;</code> so when I subscribe I no longer have access to the repo."}, {"owner": {"reputation": 5977, "user_id": 5683579, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8c263738dccc90304c0ac71ed8ed505b?s=128&d=identicon&r=PG", "display_name": "joh04667", "link": "https://stackoverflow.com/users/5683579/joh04667"}, "reply_to_user": {"reputation": 1193, "user_id": 9698467, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HWMy7a1rTHU/AAAAAAAAAAI/AAAAAAAAAGo/1VCmolljn88/photo.jpg?sz=128", "display_name": "Stefan Zhelyazkov", "link": "https://stackoverflow.com/users/9698467/stefan-zhelyazkov"}, "edited": false, "score": 0, "creation_date": 1524771635, "post_id": 50026592, "comment_id": 87117712, "body": "Ah, gotcha. Didn&#39;t see you were subscribing to another Observable in the second method instead of returning an Observable. I&#39;ll update my answer."}], "tags": [], "owner": {"reputation": 5977, "user_id": 5683579, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8c263738dccc90304c0ac71ed8ed505b?s=128&d=identicon&r=PG", "display_name": "joh04667", "link": "https://stackoverflow.com/users/5683579/joh04667"}, "is_accepted": true, "score": 3, "last_activity_date": 1524772373, "last_edit_date": 1524772373, "creation_date": 1524671787, "answer_id": 50026592, "question_id": 50026369, "link": "https://stackoverflow.com/questions/50026369/wait-for-observable-to-complete-within-an-observable/50026592#50026592", "title": "Wait for Observable to complete within an Observable", "body": "<p>This is a good question, and to me this is the 'big step' to really understanding the full power of Observables: higher-order Observables, or Observables that return Observables.</p>\n\n<p>Your situation is perfect for the <a href=\"https://www.learnrxjs.io/operators/transformation/mergemap.html\" rel=\"nofollow noreferrer\"><code>mergeMap / flatMap</code></a> operator:</p>\n\n<pre><code>getRepos(orgName: string): void {\n    const repoBuild: Repo[] = [];\n    this.githubService.getRepos(orgName).pipe(\n        // this will map the emissions of getRepos to getRepoContributors and return a single flattened Observable\n        mergeMap(repo =&gt; this.getRepoContributors(orgName, repo))\n    ).subscribe(\n        repo =&gt; repoBuild.push(repo),\n        error =&gt; {\n            this.repos = [];\n            console.log(error);\n        },\n        () =&gt; this.repos = repoBuild\n    );\n}\n</code></pre>\n\n<p><code>mergeMap</code> will map emissions of an outer Observable <code>(getRepos)</code> to an inner Observable (<code>getRepoContributors</code>) and return a new Observable that only emits when the inner Observable completes. In other words, it flattens out values that are passed from one Observable to another into one succinct subscribe-able data stream.</p>\n\n<p>Higher-order Observables can be hard to wrap your head around, but that is really where the true power of Observables lie. I highly recommend checking out some other operators like <code>switchMap</code> and <code>concatMap</code> on the site I linked as well. Observables can get crazy powerful when used to their fullest extent.</p>\n\n<h3>EDIT</h3>\n\n<p>I misread the original code and thought <code>getRepoContributors</code> was returning an Observable. Long work day had me fried. I'll refactor here:</p>\n\n<p><code>map</code> is good for altering the value before merging it with <code>mergeMap</code>. The first couple lines of <code>getRepoContributors</code> can be done there. Since <code>mergeMap</code> needs an Observable returned to it, we can simplify a bit:</p>\n\n<pre><code>private repos: Repo[] = [];\n\ngetRepos(orgName: string): void {\n    const repoBuild: Repo[] = [];\n    this.githubService.getRepos(orgName).pipe(\n        map(repo =&gt; {\n            repo.contributors = [];\n            return repo;\n          }),\n        mergeMap(repo =&gt; this.githubService.getRepoContributors(orgName, repo.name)),\n        map(contributor =&gt; {\n            repo.contributors.push(contributor)\n          })\n    ).subscribe(\n        repo =&gt; repoBuild.push(repo),\n        error =&gt; {\n            this.repos = [];\n            console.log(error);\n        },\n        () =&gt; this.repos = repoBuild\n    );\n}\n\n// don't need second function anymore\n</code></pre>\n\n<p>We can <code>map</code> in the stream expecting the value to change in sequential orders with the operator.</p>\n"}], "owner": {"reputation": 1193, "user_id": 9698467, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HWMy7a1rTHU/AAAAAAAAAAI/AAAAAAAAAGo/1VCmolljn88/photo.jpg?sz=128", "display_name": "Stefan Zhelyazkov", "link": "https://stackoverflow.com/users/9698467/stefan-zhelyazkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8719, "favorite_count": 1, "accepted_answer_id": 50026592, "answer_count": 1, "score": 3, "last_activity_date": 1524772373, "creation_date": 1524671059, "last_edit_date": 1524715303, "question_id": 50026369, "link": "https://stackoverflow.com/questions/50026369/wait-for-observable-to-complete-within-an-observable", "title": "Wait for Observable to complete within an Observable", "body": "<p>I have the following data structure:</p>\n\n<pre><code>export class Repo {\n    id: number;\n    name: string;\n    contributors: Contributor[];\n}\n\nexport class Contributor {\n    id: number;\n    login: string;\n}\n</code></pre>\n\n<p>I am using <code>Observable&lt;Repo&gt;</code> to fetch all repo data but I want to internally call another observable <code>Observable&lt;Contributor&gt;</code> to populate all contributors before the outer <code>Repo</code> is considered fully emitted. I am not sure how to do this. I have the following code.</p>\n\n<pre><code>private repos: Repo[] = [];\n\ngetRepos(orgName: string): void {\n    const repoBuild: Repo[] = [];\n    this.githubService.getRepos(orgName).pipe(\n        // this here won't wait for all contributors to be resolved\n        map(repo =&gt; this.getRepoContributors(orgName, repo))\n    ).subscribe(\n        repo =&gt; repoBuild.push(repo),\n        error =&gt; {\n            this.repos = [];\n            console.log(error);\n        },\n        () =&gt; this.repos = repoBuild\n    );\n}\n\n// fetches contributors data for the repo\nprivate getRepoContributors(orgName: string, repo: Repo): Repo {\n    const contributors: Contributor[] = [];\n    repo.contributors = contributors;\n    this.githubService.getRepoContributors(orgName, repo.name)\n        .subscribe(\n            contributor =&gt; {\n                // add to the total collection of contributors for this repo\n                contributors.push(contributor);\n            },\n            error =&gt; console.log(error),\n            () =&gt; repo.contributors = contributors\n        );\n    return repo;\n}\n</code></pre>\n\n<p>I admit that my understanding on <code>Observable</code>'s is limited and I have struggled on this for quite few hours. I tried finding something that works for me on StackOverflow but I still could not find a working solution. Any help would be appreciated!</p>\n\n<p>(The code is written in Angular 5)</p>\n\n<p><strong>Solution:</strong></p>\n\n<p>I used @joh04667 suggestion below and eventually got it to work. Here is how I did it:</p>\n\n<pre><code>getRepos(orgName: string): void {\n    const repoBuild: Repo[] = [];\n    this.githubService.getRepos(orgName).pipe(\n        // mergeMap() replaces `repo` with the result of the observable from `getRepoContributors`\n        mergeMap(repo =&gt; this.getRepoContributors(orgName, repo))\n    ).subscribe(\n        repo =&gt; repoBuild.push(repo),\n        error =&gt; {\n            this.repos = [];\n            console.log(error);\n        },\n        () =&gt; this.repos = repoBuild\n    );\n}\n\n// fetches contributors data for the repo\nprivate getRepoContributors(orgName: string, repo: Repo): Observable&lt;Repo&gt; {\n    repo.contributors = []; // make sure each repo has an empty array of contributors\n    return this.githubService.getRepoContributors(orgName, repo.name).pipe(\n        // tap() allows us to peek on each contributor and add them to the array of contributors\n        tap(contributor =&gt; {\n            // add to the total collection of contributors for this repo\n            repo.contributors.push(contributor);\n        }),\n        // only picks the last contributor and replaces him/her with the repo\n        last(\n            () =&gt; false,\n            () =&gt; repo,\n            repo\n        )\n    );\n}\n</code></pre>\n\n<p>Here in the last part where I use <code>last()</code> I basically tell the <code>Observable</code> that even though it will process all values, I am only going to consume the last one. The last one is of type <code>Contributor</code> but I replace it with a default value (the <code>repo</code>) which allows me to change the return type from <code>Observable&lt;Contributor&gt;</code> to <code>Observable&lt;Repo&gt;</code> which is exactly what I need for the higher-level Observable.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": false, "score": 0, "last_activity_date": 1524671481, "creation_date": 1524671481, "answer_id": 50026495, "question_id": 50026244, "link": "https://stackoverflow.com/questions/50026244/typescript-understanding-export-import/50026495#50026495", "title": "Typescript - Understanding export/import", "body": "<p>Well, a file in TypeScript is a module ONLY if you export something from it. Once you do that, only the things exported from that file are accessible, and you must import them.</p>\n\n<p>That's what you're doing in the other file (I'll call it <code>module.ts</code> as I don't know the name), exporting <code>Mouse</code>. If you add another <code>ts</code> file to your project and do</p>\n\n<pre><code>let a = getMousePosition(null);\n</code></pre>\n\n<p>you'll get an error because <code>getMousePosition</code> is not defined. In this case you'll need to do, at the beginning of the file:</p>\n\n<pre><code>import { getMousePosition } from \"./module\";\n</code></pre>\n\n<p>Of course, defining a module inside <code>module.ts</code> means not much in your case, as you're exporting it. You could have easily defined a namespace. You export the contents of <code>Mouse</code>, not <code>Mouse</code> itself.</p>\n\n<p>if you remove your <code>export = Mouse</code> line, then you'd need to do, in the other file:</p>\n\n<pre><code>let a = Mouse.getMousePosition(...);\n</code></pre>\n\n<p>And you wouldn't need an import.</p>\n"}, {"tags": [], "owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "is_accepted": true, "score": 0, "last_activity_date": 1524672389, "last_edit_date": 1524672389, "creation_date": 1524671795, "answer_id": 50026594, "question_id": 50026244, "link": "https://stackoverflow.com/questions/50026244/typescript-understanding-export-import/50026594#50026594", "title": "Typescript - Understanding export/import", "body": "<p>If your file has no top level <code>import</code> or <code>export</code> statements then its in global scope, meaning all top level items are visible everywhere without the need to <code>import</code> anything. </p>\n\n<p>That's basically the old JavaScript way of doing things before ES6 modules came into existence. The old TypeScript <code>module</code> (now called <code>namespace</code>) syntax was a way to avoid name collisions in global scope. The new JavaScript (and TypeScript) way of writing modules is to use <code>import</code> and <code>export</code> syntax.</p>\n\n<p>So yes, these days you <em>should</em> <code>export class CoordinateModel</code>, in which case other files will need to <code>import</code> it from the file rather than rely on it being in global scope. In most cases you do not need the <code>namespace</code> (what you wrote as <code>module Mouse</code>, which could also be written as <code>namespace Mouse</code> with the latest syntax, meant to disambiguate with ES6 modules). You can read more about <a href=\"https://www.typescriptlang.org/docs/handbook/namespaces-and-modules.html\" rel=\"nofollow noreferrer\">Namespaces and Modules in the docs</a>.</p>\n"}], "owner": {"reputation": 57, "user_id": 1134626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5b3b107740a20236c68d63b3f3c6084?s=128&d=identicon&r=PG", "display_name": "mp9007", "link": "https://stackoverflow.com/users/1134626/mp9007"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 0, "accepted_answer_id": 50026594, "answer_count": 2, "score": 0, "last_activity_date": 1524672389, "creation_date": 1524670606, "last_edit_date": 1524671669, "question_id": 50026244, "link": "https://stackoverflow.com/questions/50026244/typescript-understanding-export-import", "title": "Typescript - Understanding export/import", "body": "<p>I am learning Typescript. I've read articles about namespacing and <code>import</code>/<code>export</code>. </p>\n\n<p>In my own project, I created some classes. Since it is my first project, I forgot to put the <code>export</code> keyword on some of them, but I noticed that they are still accessible in other files without needing to import them. I also noticed that a class with import need to be export/import to be used somewhere else.</p>\n\n<p>Why can I do that? Is it ok to do this? When is using <code>export</code> mandatory, and when is it not?</p>\n\n<p>I thought I should always <code>export</code>/<code>import</code> my classes and modules, but the code is working without them.</p>\n\n<pre><code>class CoordinateModel {\n    public x: number;\n    public y: number;\n    constructor(x: number, y: number) {\n        this.x = x;\n        this.y = y;\n    }\n}\n</code></pre>\n\n<p>And in another file, I can use it</p>\n\n<pre><code>import * as d3 from \"d3\";\n\nmodule Mouse {\n    export function getMousePosition(container:d3.ContainerElement): CoordinateModel {\n        var m = d3.mouse(container);\n        return new CoordinateModel(m[0], m[1]);\n    }\n\n    export function showMousePositionInElement(elementClassName: string, container: d3.ContainerElement) {\n        var m = Mouse.getMousePosition(container);\n        d3.select(\".\" + elementClassName).html(m.x + \", \" + m.y);\n    }\n}\n\nexport = Mouse;\n</code></pre>\n"}, {"tags": ["jquery", "html", "typescript", "jquery-selectors", "angular5"], "comments": [{"owner": {"reputation": 581, "user_id": 6453158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6McsY.jpg?s=128&g=1", "display_name": "Neha Tawar", "link": "https://stackoverflow.com/users/6453158/neha-tawar"}, "edited": false, "score": 1, "creation_date": 1524670591, "post_id": 50026194, "comment_id": 87068661, "body": "try this line at the top in typescript file  <b>declare var $:any</b>"}, {"owner": {"reputation": 1610, "user_id": 9049216, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/bbb078bd76dc5110b4a3ba8569142b3d?s=128&d=identicon&r=PG&f=1", "display_name": "flash", "link": "https://stackoverflow.com/users/9049216/flash"}, "reply_to_user": {"reputation": 581, "user_id": 6453158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6McsY.jpg?s=128&g=1", "display_name": "Neha Tawar", "link": "https://stackoverflow.com/users/6453158/neha-tawar"}, "edited": false, "score": 0, "creation_date": 1524673119, "post_id": 50026194, "comment_id": 87070184, "body": "@NehaTawar Its already there. By using this line, sometimes I get the error, sometimes I doesn&#39;t."}, {"owner": {"reputation": 1610, "user_id": 9049216, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/bbb078bd76dc5110b4a3ba8569142b3d?s=128&d=identicon&r=PG&f=1", "display_name": "flash", "link": "https://stackoverflow.com/users/9049216/flash"}, "reply_to_user": {"reputation": 581, "user_id": 6453158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6McsY.jpg?s=128&g=1", "display_name": "Neha Tawar", "link": "https://stackoverflow.com/users/6453158/neha-tawar"}, "edited": false, "score": 0, "creation_date": 1524673854, "post_id": 50026194, "comment_id": 87070598, "body": "@Neha Tawar Is there any particular reason, why I sometimes get the error and sometimes I doesn&#39;t  ?"}, {"owner": {"reputation": 581, "user_id": 6453158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6McsY.jpg?s=128&g=1", "display_name": "Neha Tawar", "link": "https://stackoverflow.com/users/6453158/neha-tawar"}, "edited": false, "score": 1, "creation_date": 1524677366, "post_id": 50026194, "comment_id": 87072371, "body": "Might be because  the file in which you have used $ is getting executed before the jquery gets imported and $ gets its value.Check ones the flow/order in which thing are getting interpreted."}, {"owner": {"reputation": 1610, "user_id": 9049216, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/bbb078bd76dc5110b4a3ba8569142b3d?s=128&d=identicon&r=PG&f=1", "display_name": "flash", "link": "https://stackoverflow.com/users/9049216/flash"}, "reply_to_user": {"reputation": 581, "user_id": 6453158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6McsY.jpg?s=128&g=1", "display_name": "Neha Tawar", "link": "https://stackoverflow.com/users/6453158/neha-tawar"}, "edited": false, "score": 0, "creation_date": 1524684048, "post_id": 50026194, "comment_id": 87075840, "body": "That file is used where all my components are <b>inside my app folder</b>. I am wondering in which folder I can see my jquery. How can I check which one is executed 1st ?"}, {"owner": {"reputation": 1610, "user_id": 9049216, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/bbb078bd76dc5110b4a3ba8569142b3d?s=128&d=identicon&r=PG&f=1", "display_name": "flash", "link": "https://stackoverflow.com/users/9049216/flash"}, "reply_to_user": {"reputation": 581, "user_id": 6453158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6McsY.jpg?s=128&g=1", "display_name": "Neha Tawar", "link": "https://stackoverflow.com/users/6453158/neha-tawar"}, "edited": false, "score": 0, "creation_date": 1524752505, "post_id": 50026194, "comment_id": 87107028, "body": "@NehaTawar  Are you around ?"}, {"owner": {"reputation": 581, "user_id": 6453158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6McsY.jpg?s=128&g=1", "display_name": "Neha Tawar", "link": "https://stackoverflow.com/users/6453158/neha-tawar"}, "edited": false, "score": 0, "creation_date": 1524763222, "post_id": 50026194, "comment_id": 87113583, "body": "Hi I have replied on the discussion please check the comment and let me know if you have any issues."}, {"owner": {"reputation": 1610, "user_id": 9049216, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/bbb078bd76dc5110b4a3ba8569142b3d?s=128&d=identicon&r=PG&f=1", "display_name": "flash", "link": "https://stackoverflow.com/users/9049216/flash"}, "reply_to_user": {"reputation": 581, "user_id": 6453158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6McsY.jpg?s=128&g=1", "display_name": "Neha Tawar", "link": "https://stackoverflow.com/users/6453158/neha-tawar"}, "edited": false, "score": 0, "creation_date": 1524792912, "post_id": 50026194, "comment_id": 87124554, "body": "@NehaTawar I have replied there. I am wondering where I have to import <code>import $ from &quot;JQuery&quot;</code>  ? Is there any specific file I have to import that ?"}, {"owner": {"reputation": 581, "user_id": 6453158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6McsY.jpg?s=128&g=1", "display_name": "Neha Tawar", "link": "https://stackoverflow.com/users/6453158/neha-tawar"}, "edited": false, "score": 0, "creation_date": 1524807062, "post_id": 50026194, "comment_id": 87128079, "body": "Use in each file where ever you want to use jquery just import $ from &quot;JQuery&quot; and also go through <a href=\"https://medium.com/@NetanelBasal/typescript-integrate-jquery-plugin-in-your-project-e28c6887d8dc\" rel=\"nofollow noreferrer\">medium.com/@NetanelBasal/&hellip;</a>"}, {"owner": {"reputation": 1610, "user_id": 9049216, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/bbb078bd76dc5110b4a3ba8569142b3d?s=128&d=identicon&r=PG&f=1", "display_name": "flash", "link": "https://stackoverflow.com/users/9049216/flash"}, "reply_to_user": {"reputation": 581, "user_id": 6453158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6McsY.jpg?s=128&g=1", "display_name": "Neha Tawar", "link": "https://stackoverflow.com/users/6453158/neha-tawar"}, "edited": false, "score": 0, "creation_date": 1524807513, "post_id": 50026194, "comment_id": 87128213, "body": "@NehaTawar On the top of the file, you want me to import <code>import $ from &quot;JQuery&quot;</code>  ? Right ?"}, {"owner": {"reputation": 581, "user_id": 6453158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6McsY.jpg?s=128&g=1", "display_name": "Neha Tawar", "link": "https://stackoverflow.com/users/6453158/neha-tawar"}, "edited": false, "score": 0, "creation_date": 1524813531, "post_id": 50026194, "comment_id": 87130906, "body": "yes try if this solves your error"}, {"owner": {"reputation": 1610, "user_id": 9049216, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/bbb078bd76dc5110b4a3ba8569142b3d?s=128&d=identicon&r=PG&f=1", "display_name": "flash", "link": "https://stackoverflow.com/users/9049216/flash"}, "reply_to_user": {"reputation": 581, "user_id": 6453158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6McsY.jpg?s=128&g=1", "display_name": "Neha Tawar", "link": "https://stackoverflow.com/users/6453158/neha-tawar"}, "edited": false, "score": 0, "creation_date": 1524833738, "post_id": 50026194, "comment_id": 87142225, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/169947/discussion-between-user5447339-and-neha-tawar\">continue this discussion in chat</a>."}, {"owner": {"reputation": 2046, "user_id": 6478277, "user_type": "registered", "profile_image": "https://graph.facebook.com/1229096863781238/picture?type=large", "display_name": "Jimi Pajala", "link": "https://stackoverflow.com/users/6478277/jimi-pajala"}, "edited": false, "score": 0, "creation_date": 1524848000, "post_id": 50026194, "comment_id": 87150477, "body": "don&#39;t use jquery. you allready have great component based library in use just use its functionality you loose grear deal of performance."}, {"owner": {"reputation": 1610, "user_id": 9049216, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/bbb078bd76dc5110b4a3ba8569142b3d?s=128&d=identicon&r=PG&f=1", "display_name": "flash", "link": "https://stackoverflow.com/users/9049216/flash"}, "reply_to_user": {"reputation": 2046, "user_id": 6478277, "user_type": "registered", "profile_image": "https://graph.facebook.com/1229096863781238/picture?type=large", "display_name": "Jimi Pajala", "link": "https://stackoverflow.com/users/6478277/jimi-pajala"}, "edited": false, "score": 0, "creation_date": 1524849443, "post_id": 50026194, "comment_id": 87151067, "body": "@JimiPajala Will keep this in mind for future. But at this moment, can we resolve that error ?"}, {"owner": {"reputation": 2046, "user_id": 6478277, "user_type": "registered", "profile_image": "https://graph.facebook.com/1229096863781238/picture?type=large", "display_name": "Jimi Pajala", "link": "https://stackoverflow.com/users/6478277/jimi-pajala"}, "edited": false, "score": 0, "creation_date": 1524851603, "post_id": 50026194, "comment_id": 87151993, "body": "try use jQuey or JQuery names insted of $ mark. otherwise if this is just linter error declare $ mark as global in tsconfig."}, {"owner": {"reputation": 2046, "user_id": 6478277, "user_type": "registered", "profile_image": "https://graph.facebook.com/1229096863781238/picture?type=large", "display_name": "Jimi Pajala", "link": "https://stackoverflow.com/users/6478277/jimi-pajala"}, "edited": false, "score": 0, "creation_date": 1524853827, "post_id": 50026194, "comment_id": 87152985, "body": "<a href=\"https://www.npmjs.com/package/@types/jquery\" rel=\"nofollow noreferrer\">npmjs.com/package/@types/jquery</a> do you have this  on your package.json?"}, {"owner": {"reputation": 1610, "user_id": 9049216, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/bbb078bd76dc5110b4a3ba8569142b3d?s=128&d=identicon&r=PG&f=1", "display_name": "flash", "link": "https://stackoverflow.com/users/9049216/flash"}, "edited": false, "score": 0, "creation_date": 1524961130, "post_id": 50026194, "comment_id": 87180385, "body": "I did <code>npm install @types&#47;jquery --save-dev</code> after <code>Oscar</code> recommended me as you can see below. I am wondering what I need to do more."}], "answers": [{"comments": [{"owner": {"reputation": 1610, "user_id": 9049216, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/bbb078bd76dc5110b4a3ba8569142b3d?s=128&d=identicon&r=PG&f=1", "display_name": "flash", "link": "https://stackoverflow.com/users/9049216/flash"}, "edited": false, "score": 0, "creation_date": 1524670797, "post_id": 50026248, "comment_id": 87068804, "body": "Just checking where do I need to do <code>npm install @types&#47;jquery --save-dev</code> ? On the path where node_modules is installed ?"}, {"owner": {"reputation": 1610, "user_id": 9049216, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/bbb078bd76dc5110b4a3ba8569142b3d?s=128&d=identicon&r=PG&f=1", "display_name": "flash", "link": "https://stackoverflow.com/users/9049216/flash"}, "edited": false, "score": 0, "creation_date": 1524671448, "post_id": 50026248, "comment_id": 87069226, "body": "I am not sure by this line <code>If you&#39;re importing jQuery in any other way, then just add the types</code>. Can you elaborate more on that ?"}, {"owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "reply_to_user": {"reputation": 1610, "user_id": 9049216, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/bbb078bd76dc5110b4a3ba8569142b3d?s=128&d=identicon&r=PG&f=1", "display_name": "flash", "link": "https://stackoverflow.com/users/9049216/flash"}, "edited": false, "score": 1, "creation_date": 1524671561, "post_id": 50026248, "comment_id": 87069293, "body": "I mean, if you&#39;re adding a link to the jQuery lib directly from the HTML, so jQuery will be available, just TypeScript doesn&#39;t know about it."}, {"owner": {"reputation": 1610, "user_id": 9049216, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/bbb078bd76dc5110b4a3ba8569142b3d?s=128&d=identicon&r=PG&f=1", "display_name": "flash", "link": "https://stackoverflow.com/users/9049216/flash"}, "edited": false, "score": 0, "creation_date": 1524671734, "post_id": 50026248, "comment_id": 87069406, "body": "Do I need to do <code>npm install @types&#47;jquery --save-dev</code> in the node_modules path ?"}, {"owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "reply_to_user": {"reputation": 1610, "user_id": 9049216, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/bbb078bd76dc5110b4a3ba8569142b3d?s=128&d=identicon&r=PG&f=1", "display_name": "flash", "link": "https://stackoverflow.com/users/9049216/flash"}, "edited": false, "score": 1, "creation_date": 1524671875, "post_id": 50026248, "comment_id": 87069491, "body": "No, in the project root. From the same point where you execute <code>ng serve</code>. But make sure you have jQuery in your project, some way or the other, or you&#39;ll get a runtime error."}, {"owner": {"reputation": 1610, "user_id": 9049216, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/bbb078bd76dc5110b4a3ba8569142b3d?s=128&d=identicon&r=PG&f=1", "display_name": "flash", "link": "https://stackoverflow.com/users/9049216/flash"}, "edited": false, "score": 0, "creation_date": 1524672095, "post_id": 50026248, "comment_id": 87069627, "body": "After doing this <code>npm install @types&#47;jquery --save-dev</code>, I got this message <code>added 69 packages in 53.906s</code> but still I am getting the same error."}, {"owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "reply_to_user": {"reputation": 1610, "user_id": 9049216, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/bbb078bd76dc5110b4a3ba8569142b3d?s=128&d=identicon&r=PG&f=1", "display_name": "flash", "link": "https://stackoverflow.com/users/9049216/flash"}, "edited": false, "score": 1, "creation_date": 1524672179, "post_id": 50026248, "comment_id": 87069678, "body": "In your <code>tsconfig.json</code> you must have something like: <code>typeRoots: [&quot;node_modules&#47;@types&quot;]</code>. Do you have it?"}, {"owner": {"reputation": 1610, "user_id": 9049216, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/bbb078bd76dc5110b4a3ba8569142b3d?s=128&d=identicon&r=PG&f=1", "display_name": "flash", "link": "https://stackoverflow.com/users/9049216/flash"}, "edited": false, "score": 0, "creation_date": 1524672362, "post_id": 50026248, "comment_id": 87069770, "body": "I checked now, Yes, I have it."}, {"owner": {"reputation": 1610, "user_id": 9049216, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/bbb078bd76dc5110b4a3ba8569142b3d?s=128&d=identicon&r=PG&f=1", "display_name": "flash", "link": "https://stackoverflow.com/users/9049216/flash"}, "edited": false, "score": 0, "creation_date": 1524672821, "post_id": 50026248, "comment_id": 87070013, "body": "Is there any reason, why I am still getting the same error ?"}, {"owner": {"reputation": 1610, "user_id": 9049216, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/bbb078bd76dc5110b4a3ba8569142b3d?s=128&d=identicon&r=PG&f=1", "display_name": "flash", "link": "https://stackoverflow.com/users/9049216/flash"}, "reply_to_user": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "edited": false, "score": 0, "creation_date": 1524684125, "post_id": 50026248, "comment_id": 87075884, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/169799/discussion-between-user5447339-and-oscar-paz\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": false, "score": 1, "last_activity_date": 1524670627, "creation_date": 1524670627, "answer_id": 50026248, "question_id": 50026194, "link": "https://stackoverflow.com/questions/50026194/error-ts2304-cannot-find-in-angular-5-component/50026248#50026248", "title": "error TS2304: cannot find $ in angular 5 component", "body": "<p>I assume that <code>$</code> is <code>jQuery</code>. You must add <code>jQuery</code> to your dependencies and imported it in the file where you're using it. I'd suggest also adding the type definitions for jQuery: <code>npm install @types/jquery --save-dev</code></p>\n\n<p>If you're importing jQuery in any other way, then just add the types.</p>\n"}, {"tags": [], "owner": {"reputation": 120, "user_id": 9710414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3vlae.jpg?s=128&g=1", "display_name": "Fabricio Ardizon", "link": "https://stackoverflow.com/users/9710414/fabricio-ardizon"}, "is_accepted": false, "score": 0, "last_activity_date": 1525104452, "creation_date": 1525104452, "answer_id": 50104278, "question_id": 50026194, "link": "https://stackoverflow.com/questions/50026194/error-ts2304-cannot-find-in-angular-5-component/50104278#50104278", "title": "error TS2304: cannot find $ in angular 5 component", "body": "<p>This is a possible solution:</p>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;div&gt;\n&lt;img (click)=\"openNav()\" src=\"/imagepath\" id=\"image\"&gt;\n&lt;/div&gt;\nAnd the following HTML code will close the navbar:\n\n&lt;div id=\"mySidenav\" class=\"sidenav\" style=\"{{vstyle}}\"&gt;\n  &lt;ul class=\"navbar-nav mr-auto\" id=\"sidenavContent\"&gt;\n    &lt;li class=\"nav-item\" id=\"close-btn\"&gt;\n      &lt;img class=\"closebtn\" (click)=\"closeNav()\" id=\"white-cross\" src=\"/assets/imagepath\"&gt;\n    &lt;/li&gt;\n    &lt;li class=\"nav-item\" id=\"close-btn\"&gt;\n      &lt;p&gt; Item 1 &lt;/p&gt;\n    &lt;/li&gt;\n    &lt;li class=\"nav-item\"&gt;\n      &lt;p&gt; Item 2 &lt;/p&gt;\n    &lt;/li&gt;\n\n  &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Typescript:</strong></p>\n\n<pre><code>//Define a visual style variable\nvstyle: = 'width:50%;';\n\n\nopenNav() \n {\n     vstyle = 'width:50%;';   // Line A\n }\n\n closeNav() \n {\n    vstyle = 'width:0%;';   // Line A\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3645, "user_id": 6019563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1072513362799030/picture?type=large", "display_name": "Sachin Gupta", "link": "https://stackoverflow.com/users/6019563/sachin-gupta"}, "is_accepted": false, "score": 0, "last_activity_date": 1525122945, "creation_date": 1525122945, "answer_id": 50108321, "question_id": 50026194, "link": "https://stackoverflow.com/questions/50026194/error-ts2304-cannot-find-in-angular-5-component/50108321#50108321", "title": "error TS2304: cannot find $ in angular 5 component", "body": "<p>If you are using the jquery in ts file, declare $ as a variable of type any, then you won't get the error.</p>\n\n<p>declare  var $:any </p>\n"}, {"tags": [], "owner": {"reputation": 153, "user_id": 5994655, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/48f50eb8e08e608759e6ff932d5d526b?s=128&d=identicon&r=PG&f=1", "display_name": "Filipe Tabosa", "link": "https://stackoverflow.com/users/5994655/filipe-tabosa"}, "is_accepted": false, "score": 0, "last_activity_date": 1525444754, "creation_date": 1525444754, "answer_id": 50177494, "question_id": 50026194, "link": "https://stackoverflow.com/questions/50026194/error-ts2304-cannot-find-in-angular-5-component/50177494#50177494", "title": "error TS2304: cannot find $ in angular 5 component", "body": "<p>Use style.width</p>\n\n<pre><code>&lt;div id=\"mySidenav\"  [style.width]=\"myWidthVariable+'%'\" class=\"sidenav\"&gt;\n&lt;ul class=\"navbar-nav mr-auto\" id=\"sidenavContent\"&gt;\n    &lt;li class=\"nav-item\" id=\"close-btn\"&gt;\n        &lt;img class=\"closebtn\" (click)=\"closeNav()\" id=\"white-cross\" src=\"/assets/imagepath\"&gt;\n    &lt;/li&gt;\n    &lt;li class=\"nav-item\" id=\"close-btn\"&gt;\n       &lt;p&gt; Item 1 &lt;/p&gt;\n    &lt;/li&gt;\n    &lt;li class=\"nav-item\"&gt;\n        &lt;p&gt; Item 2 &lt;/p&gt;\n    &lt;/li&gt;\n\n&lt;/ul&gt;\n</code></pre>\n\n<p></p>\n\n<p>And then set the value of \"myWidthVariable\" on your openNav() and closeNav() methods (just the number).</p>\n"}], "owner": {"reputation": 1610, "user_id": 9049216, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/bbb078bd76dc5110b4a3ba8569142b3d?s=128&d=identicon&r=PG&f=1", "display_name": "flash", "link": "https://stackoverflow.com/users/9049216/flash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 639, "favorite_count": 0, "answer_count": 4, "score": 5, "last_activity_date": 1525458302, "creation_date": 1524670445, "last_edit_date": 1525458302, "question_id": 50026194, "link": "https://stackoverflow.com/questions/50026194/error-ts2304-cannot-find-in-angular-5-component", "title": "error TS2304: cannot find $ in angular 5 component", "body": "<p>I have a side-navbar in angular component which expands on click similar to <a href=\"https://www.w3schools.com/howto/howto_js_sidenav.asp\" rel=\"nofollow noreferrer\">this</a>. The HTML snippet used to create the navbar is :</p>\n\n<p><strong>HTML:</strong></p>\n\n<p>As the name(<code>openNav()</code>) suggests, the following HTML code <strong>will expand the navbar</strong>:</p>\n\n<pre><code>&lt;div&gt;\n    &lt;img (click)=\"openNav()\" src=\"/imagepath\" id=\"image\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And the following HTML code  <strong>will close the navbar</strong>: </p>\n\n<pre><code>&lt;div id=\"mySidenav\" class=\"sidenav\"&gt;\n    &lt;ul class=\"navbar-nav mr-auto\" id=\"sidenavContent\"&gt;\n        &lt;li class=\"nav-item\" id=\"close-btn\"&gt;\n            &lt;img class=\"closebtn\" (click)=\"closeNav()\" id=\"white-cross\" src=\"/assets/imagepath\"&gt;\n        &lt;/li&gt;\n        &lt;li class=\"nav-item\" id=\"close-btn\"&gt;\n           &lt;p&gt; Item 1 &lt;/p&gt;\n        &lt;/li&gt;\n        &lt;li class=\"nav-item\"&gt;\n            &lt;p&gt; Item 2 &lt;/p&gt;\n        &lt;/li&gt;\n\n    &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><br><br></p>\n\n<p><strong>Typescript:</strong></p>\n\n<p>The typescript used is:</p>\n\n<pre><code>openNav() \n {\n     $(\"#mySidenav\").css(\"width\", \"50%\");   // Line A\n }\n\n closeNav() \n {\n    $(\"#mySidenav\").css(\"width\", \"0%\");   // Line B\n }\n</code></pre>\n\n<p>The above typescript code is not included in the <code>ngOnInit()</code> function. </p>\n\n<p><br><br><br>\n<strong>Problem Statement :</strong> </p>\n\n<p>As soon as I do <code>ng serve</code> on my command prompt, I get the following error:</p>\n\n<blockquote>\n  <p>error TS2304: Cannot find name '$'.</p>\n</blockquote>\n\n<p><br>\nThe <strong>$ represents</strong> the lines (<strong>Line A and Line B</strong> in the typescript above) inside <strong>openNav() and closeNav() functions above</strong> in the typescript. </p>\n\n<p>I am wondering what are the primary reasons behind that error <strong>as sometimes I get the error and sometimes I don't while doing ng-serve</strong>. </p>\n"}, {"tags": ["javascript", "angular", "typescript", "createjs"], "comments": [{"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1524670403, "post_id": 50025795, "comment_id": 87068532, "body": "I guess you just add the JS file to your page, then, in the normal way"}, {"owner": {"reputation": 101, "user_id": 7491584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lIWXM.jpg?s=128&g=1", "display_name": "Anastas.R", "link": "https://stackoverflow.com/users/7491584/anastas-r"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1524670479, "post_id": 50025795, "comment_id": 87068584, "body": "That doesn&#39;t seem to work. I doesn&#39;t recognize it in typescript. @ADyson Here is my index.hml <a href=\"https://pastebin.com/s6BMU1Jc\" rel=\"nofollow noreferrer\">pastebin.com/s6BMU1Jc</a>"}, {"owner": {"reputation": 381, "user_id": 2079428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7239f5c726af73a0e72d1b848a0c64bf?s=128&d=identicon&r=PG", "display_name": "netalex", "link": "https://stackoverflow.com/users/2079428/netalex"}, "edited": false, "score": 0, "creation_date": 1535711588, "post_id": 50025795, "comment_id": 91177549, "body": "why don&#39;t you embed it in a component?"}], "answers": [{"tags": [], "owner": {"reputation": 423, "user_id": 2255555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6acba69f7e6f39df3c59443a9d0ce981?s=128&d=identicon&r=PG", "display_name": "Dan Zen", "link": "https://stackoverflow.com/users/2255555/dan-zen"}, "is_accepted": true, "score": 1, "last_activity_date": 1547068252, "creation_date": 1547068252, "answer_id": 54118422, "question_id": 50025795, "link": "https://stackoverflow.com/questions/50025795/implement-zimjs-inside-angular4typescript/54118422#54118422", "title": "Implement zimJS inside Angular4(typescript)", "body": "<p>ZIM has TypeScript typings available here: <a href=\"https://zimjs.com/typescript/\" rel=\"nofollow noreferrer\">https://zimjs.com/typescript/</a> I know this is only partially addresses your question - but it will hopefully help.  It is no small feat with 3600 lines of definitions...</p>\n\n<p>A ES6 ZIM module was started but got stalled.  There is a GitHub issue here: <a href=\"https://github.com/danzen/zimjs/issues/8\" rel=\"nofollow noreferrer\">https://github.com/danzen/zimjs/issues/8</a> with respect to NPM if you care to follow that - or perhaps contribute.</p>\n"}], "owner": {"reputation": 101, "user_id": 7491584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lIWXM.jpg?s=128&g=1", "display_name": "Anastas.R", "link": "https://stackoverflow.com/users/7491584/anastas-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "accepted_answer_id": 54118422, "answer_count": 1, "score": 0, "last_activity_date": 1547068252, "creation_date": 1524669207, "question_id": 50025795, "link": "https://stackoverflow.com/questions/50025795/implement-zimjs-inside-angular4typescript", "title": "Implement zimJS inside Angular4(typescript)", "body": "<p>I googled and look'd everywhere to find the answer. No modules for zimjs, only for createjs but i need the whole thing.</p>\n\n<p>I couldn't find anything that could help me.</p>\n\n<p>I would like to use <a href=\"http://zimjs.com\" rel=\"nofollow noreferrer\">THIS</a> framework inside angular and typescript.</p>\n\n<p>Can anyone help me?</p>\n"}, {"tags": ["arrays", "typescript", "ecmascript-6", "tuples", "destructuring"], "comments": [{"owner": {"reputation": 59971, "user_id": 1835379, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/i63aC.gif?s=128&g=1", "display_name": "Cerbrus", "link": "https://stackoverflow.com/users/1835379/cerbrus"}, "edited": false, "score": 2, "creation_date": 1524667706, "post_id": 50025177, "comment_id": 87066563, "body": "What else would <code>[1, 2]</code> be, other than <code>[number, number]</code>?"}, {"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "reply_to_user": {"reputation": 59971, "user_id": 1835379, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/i63aC.gif?s=128&g=1", "display_name": "Cerbrus", "link": "https://stackoverflow.com/users/1835379/cerbrus"}, "edited": false, "score": 0, "creation_date": 1524667740, "post_id": 50025177, "comment_id": 87066589, "body": "@Cerbrus Can&#39;t it be <code>number[]</code>? We did this in C, Java..."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 59971, "user_id": 1835379, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/i63aC.gif?s=128&g=1", "display_name": "Cerbrus", "link": "https://stackoverflow.com/users/1835379/cerbrus"}, "edited": false, "score": 0, "creation_date": 1524667744, "post_id": 50025177, "comment_id": 87066591, "body": "@Cerbrus A <code>number[]</code> array apparently"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1524667881, "post_id": 50025177, "comment_id": 87066690, "body": "The question is &quot;Why does this compile/typecheck?&quot;, not &quot;How does this work?&quot;, right?"}, {"owner": {"reputation": 47740, "user_id": 395910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/59c1bcdff2510bdb021b3afe1eb69677?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/395910/terry"}, "edited": false, "score": 0, "creation_date": 1524667914, "post_id": 50025177, "comment_id": 87066719, "body": "<code>[number, number]</code> (array of two members that are numbers) is more specific than <code>number[]</code> (array of <i>x</i> members that are numbers), that is why TypeScript will throw a compilation error. If you reverse the type declaration and use <code>var input: [number, number]</code> and <code>f([first, second]: number[])</code> it will work."}, {"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1524668026, "post_id": 50025177, "comment_id": 87066808, "body": "@Bergi <code>f(input)</code> does not compile. <code>f([1, 2])</code> compiles. I know, why it compiles."}, {"owner": {"reputation": 47740, "user_id": 395910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/59c1bcdff2510bdb021b3afe1eb69677?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/395910/terry"}, "edited": false, "score": 0, "creation_date": 1524668120, "post_id": 50025177, "comment_id": 87066882, "body": "@overexchange As stated, your code is defining <code>input</code> specifically as an array of numbers of any length, while the function only accepts an array of 2 numbers."}, {"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1524668157, "post_id": 50025177, "comment_id": 87066914, "body": "@Bergi This tuple type in TypeScript with square brackets is confusing me unlike python tuples. I think you answered my question"}, {"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "reply_to_user": {"reputation": 47740, "user_id": 395910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/59c1bcdff2510bdb021b3afe1eb69677?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/395910/terry"}, "edited": false, "score": 0, "creation_date": 1524668188, "post_id": 50025177, "comment_id": 87066930, "body": "@Terry function <code>f</code> does not accept array(<code>number[]</code>) type"}, {"owner": {"reputation": 47740, "user_id": 395910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/59c1bcdff2510bdb021b3afe1eb69677?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/395910/terry"}, "edited": false, "score": 0, "creation_date": 1524668233, "post_id": 50025177, "comment_id": 87066964, "body": "@overexchange Of course not, as <code>[number, number]</code> is not <code>number[]</code>. This is <i>not</i> a tuple type! It simply means an array of two elements that are of type <code>number</code>. This is akin to passing a variable of type <code>any</code> into a function that accepts <code>string</code>."}, {"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "reply_to_user": {"reputation": 47740, "user_id": 395910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/59c1bcdff2510bdb021b3afe1eb69677?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/395910/terry"}, "edited": false, "score": 0, "creation_date": 1524668350, "post_id": 50025177, "comment_id": 87067033, "body": "@Terry you said: <i>function only accepts an array of 2 numbers</i>, which is not the case. it accepts tuple type <code>[number, number]</code>"}, {"owner": {"reputation": 47740, "user_id": 395910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/59c1bcdff2510bdb021b3afe1eb69677?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/395910/terry"}, "edited": false, "score": 0, "creation_date": 1524668430, "post_id": 50025177, "comment_id": 87067093, "body": "@overexchange No I didn&#39;t not say that, you&#39;re taking it out of context--reread my entire comment. What I meant is the function only accepts an array of 2 numbers, but you are providing an array of unknown length of numbers. Of course it will reject it."}, {"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1524672682, "post_id": 50025177, "comment_id": 87069934, "body": "@Bergi Below answer looks wrong to me. How can we avoid votes for confusion?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1524678430, "post_id": 50025177, "comment_id": 87072940, "body": "@overexchange You can <a href=\"https://stackoverflow.com/posts/50025177/edit\">edit</a> your question to avoid confusion."}, {"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1567640615, "post_id": 50025177, "comment_id": 102026513, "body": "@Bergi Edited the question, as you suggested"}], "answers": [{"comments": [{"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 0, "creation_date": 1524669539, "post_id": 50025206, "comment_id": 87067903, "body": "Your answer looks incorrect to me. For <code>let inp = [1, 2];</code> compiler&#39;s type inference says <code>inp</code> as  <code>number[]</code>"}, {"owner": {"reputation": 59971, "user_id": 1835379, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/i63aC.gif?s=128&g=1", "display_name": "Cerbrus", "link": "https://stackoverflow.com/users/1835379/cerbrus"}, "reply_to_user": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 3, "creation_date": 1524670935, "post_id": 50025206, "comment_id": 87068896, "body": "@overexchange: You just <b><i>completely</i></b> broke my answer. You&#39;re making a lot of incorrect <i>assumptions</i> about how TypeScript works."}, {"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 0, "creation_date": 1524672505, "post_id": 50025206, "comment_id": 87069840, "body": "<code>f(x)</code> will not work, where <code>var x = [1,2]</code> because <code>x</code> is inferred as <code>number[]</code> type"}, {"owner": {"reputation": 59971, "user_id": 1835379, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/i63aC.gif?s=128&g=1", "display_name": "Cerbrus", "link": "https://stackoverflow.com/users/1835379/cerbrus"}, "reply_to_user": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 0, "creation_date": 1524673090, "post_id": 50025206, "comment_id": 87070162, "body": "I missed that one."}], "tags": [], "owner": {"reputation": 59971, "user_id": 1835379, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/i63aC.gif?s=128&g=1", "display_name": "Cerbrus", "link": "https://stackoverflow.com/users/1835379/cerbrus"}, "is_accepted": true, "score": 3, "last_activity_date": 1524673071, "last_edit_date": 1524673071, "creation_date": 1524667520, "answer_id": 50025206, "question_id": 50025177, "link": "https://stackoverflow.com/questions/50025177/is-number-number-a-tuple-type/50025206#50025206", "title": "Is [number, number] a tuple type?", "body": "<p>TypeScript can be very specific in what it expects to be passed to a method.</p>\n\n<p>For your example:</p>\n\n<pre><code>function f([first, second]: [number, number]){\n    console.log(first);\n    console.log(second);\n}\n</code></pre>\n\n<p>This will work:</p>\n\n<pre><code>var x: [number, number] = [1,2];\n\nf([1,2]); // Type is implied:  [number, number]\nf(x);     // Type is explicit: [number, number]\n</code></pre>\n\n<p>This won't:</p>\n\n<pre><code>var x = [1,2,3];\nvar y = [1,2];\nvar z: number[] = [1,2];\n\nf(x); // Type is implied:  number[]\nf(y); // Type is implied:  number[]\nf(z); // Type is explicit: number[]\n</code></pre>\n\n<p>You told typescript to <em>expect</em> an array containing 2 numbers. That's why it won't accept <em>anything</em> but an array containing 2 numbers.</p>\n\n<p>You can change the accepted type like this:</p>\n\n<pre><code>function f([first, second]: number[]){\n// Keep destructuring ^,      ^ but change the accepted type.\n    console.log(first);  \n    console.log(second);\n}\n</code></pre>\n\n<p>Then, any of the previous 6 examples will work, as <code>[number, &lt;number...&gt;]</code> are also <code>number[]</code> arrays.</p>\n"}, {"comments": [{"owner": {"reputation": 7761, "user_id": 8192719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0PuVB.jpg?s=128&g=1", "display_name": "Bunyamin Coskuner", "link": "https://stackoverflow.com/users/8192719/bunyamin-coskuner"}, "reply_to_user": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 0, "creation_date": 1524668265, "post_id": 50025346, "comment_id": 87066981, "body": "Updated my answer"}], "tags": [], "owner": {"reputation": 7761, "user_id": 8192719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0PuVB.jpg?s=128&g=1", "display_name": "Bunyamin Coskuner", "link": "https://stackoverflow.com/users/8192719/bunyamin-coskuner"}, "is_accepted": false, "score": 0, "last_activity_date": 1524668178, "last_edit_date": 1524668178, "creation_date": 1524667926, "answer_id": 50025346, "question_id": 50025177, "link": "https://stackoverflow.com/questions/50025177/is-number-number-a-tuple-type/50025346#50025346", "title": "Is [number, number] a tuple type?", "body": "<p>It's not about arrays but simple type checking. \nIt gives you an error, because type <code>number[]</code> is not same as <code>[number, number]</code>.</p>\n\n<p>You can change <code>input</code> type to <code>[number, number]</code> as follows</p>\n\n<p><code>var input: [number, number] = [1, 2]</code></p>\n\n<p>or keep the input as is and do following</p>\n\n<p><code>f(input as [number, number])</code></p>\n\n<p><strong>Edit</strong></p>\n\n<p><code>f([1,2])</code> works just fine because you are explicitly passing two numbers.</p>\n"}], "owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1549, "favorite_count": 0, "accepted_answer_id": 50025206, "answer_count": 2, "score": -3, "last_activity_date": 1567640570, "creation_date": 1524667439, "last_edit_date": 1567640570, "question_id": 50025177, "link": "https://stackoverflow.com/questions/50025177/is-number-number-a-tuple-type", "title": "Is [number, number] a tuple type?", "body": "<p>In the below code,</p>\n\n<pre><code>function f([first, second]: [number, number]){\n    console.log(first);\n    console.log(second);\n}\n\nvar input:number[] = [1,2];\nf(input);\n</code></pre>\n\n<p><code>number[]</code> type variable(<code>input</code>) is passed to <code>f</code>.</p>\n\n<p>Why compiler errors out? <code>Argument of type 'number[]' is not assignable to parameter of type '[number, number]'.\n  Type 'number[]' is missing the following properties from type '[number, number]': 0, 1ts(2345)</code></p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 1748, "user_id": 4374738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d814eac36e4f8ffba259b43025f3813?s=128&d=identicon&r=PG&f=1", "display_name": "adz5A", "link": "https://stackoverflow.com/users/4374738/adz5a"}, "edited": false, "score": 1, "creation_date": 1524667210, "post_id": 50024792, "comment_id": 87066201, "body": "You are actually throwing the error within the render of the Error boundary, not within the lifecycle of its children, thus error is not catched properly."}], "answers": [{"comments": [{"owner": {"reputation": 3095, "user_id": 615288, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/ZKBiE.jpg?s=128&g=1", "display_name": "KingKerosin", "link": "https://stackoverflow.com/users/615288/kingkerosin"}, "edited": false, "score": 0, "creation_date": 1524673153, "post_id": 50025273, "comment_id": 87070202, "body": "Indeed your example is working. Thanks.  So there is no way I can wrap my component itself in <code>&lt;ErrorBoundary&gt;</code>? I have to create a new component just to wrap this one in the boundary?"}, {"owner": {"reputation": 6207, "user_id": 4419834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9mnDm.gif?s=128&g=1", "display_name": "The Reason", "link": "https://stackoverflow.com/users/4419834/the-reason"}, "reply_to_user": {"reputation": 3095, "user_id": 615288, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/ZKBiE.jpg?s=128&g=1", "display_name": "KingKerosin", "link": "https://stackoverflow.com/users/615288/kingkerosin"}, "edited": false, "score": 0, "creation_date": 1524728114, "post_id": 50025273, "comment_id": 87090717, "body": "@KingKerosin yes or implement <code>componentDidCatch</code> method and handle it within this method"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5520186"}, "edited": false, "score": 0, "creation_date": 1566224744, "post_id": 50025273, "comment_id": 101579331, "body": "The interesting part (at least for me): The idea of Error Boundaries is to wrap the component which throws an error.  Because it MUST be a component, not a just a regular child node."}], "tags": [], "owner": {"reputation": 6207, "user_id": 4419834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9mnDm.gif?s=128&g=1", "display_name": "The Reason", "link": "https://stackoverflow.com/users/4419834/the-reason"}, "is_accepted": false, "score": 1, "last_activity_date": 1524667709, "creation_date": 1524667709, "answer_id": 50025273, "question_id": 50024792, "link": "https://stackoverflow.com/questions/50024792/reactjs-errorboundary-not-working-in-simplest-scenario/50025273#50025273", "title": "ReactJs ErrorBoundary not working in simplest scenario", "body": "<p>First of all you have to define your state</p>\n\n<pre><code>constructor(...args){\n  super(...args);\n  this.state = {\n    catchedError: false\n  }\n}\n</code></pre>\n\n<p>Then throw an error inside <code>Test</code> component</p>\n\n<pre><code>function Test(){\n  throw new Error('I crashed!');\n}\n</code></pre>\n\n<p>And when you render both these components like below</p>\n\n<pre><code>ReactDOM.render(\n  &lt;ErrorBoundary&gt;\n    &lt;Test/&gt;          \n  &lt;/ErrorBoundary&gt;\n  ,\n  document.getElementById('container')\n);\n</code></pre>\n\n<p>You will get expected result. <a href=\"https://jsfiddle.net/69z2wepo/182709/\" rel=\"nofollow noreferrer\"><code>Worked demo</code></a></p>\n\n<p>The idea of <code>Error Boundaries</code> is to wrap the component which throws an error.</p>\n\n<p>From <a href=\"https://reactjs.org/blog/2017/07/26/error-handling-in-react-16.html\" rel=\"nofollow noreferrer\"><code>react docs</code></a></p>\n\n<blockquote>\n  <p>Note that error boundaries only catch errors in the components below\n  them in the tree. An error boundary can\u2019t catch an error within\n  itself. If an error boundary fails trying to render the error message,\n  the error will propagate to the closest error boundary above it. This,\n  too, is similar to how catch {} block works in JavaScript.</p>\n</blockquote>\n\n<p>Hope it makes sense.</p>\n"}], "owner": {"reputation": 3095, "user_id": 615288, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/ZKBiE.jpg?s=128&g=1", "display_name": "KingKerosin", "link": "https://stackoverflow.com/users/615288/kingkerosin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3586, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1524667709, "creation_date": 1524666340, "question_id": 50024792, "link": "https://stackoverflow.com/questions/50024792/reactjs-errorboundary-not-working-in-simplest-scenario", "title": "ReactJs ErrorBoundary not working in simplest scenario", "body": "<p>I'm trying to get my <code>ErrorBoundary</code> to work.</p>\n\n<p>The <code>ErrorBoundary</code> is as simple as in the most examples:</p>\n\n<pre><code>export class ErrorBoundary extends React.Component&lt;IErrorBoundaryProps, IErrorBoundaryState&gt; {\n    componentDidCatch(error: Error, errorInfo: Object): void {\n        this.setState({ catchedError: error });\n    }\n\n    render(): JSX.Element | React.ReactNode {\n        const { children } = this.props;\n        const { catchedError } = this.state;\n\n        if (catchedError)\n            return (&lt;div&gt;Something went wrong&lt;/div&gt;);\n\n        // return the children\n        return children;\n    }\n}\n</code></pre>\n\n<p>And another component using the ErrorBoundary:</p>\n\n<pre><code>export class Test extends React.Component&lt;ITestProps, ITestState&gt; {\n    render(): JSX.Element | React.ReactNode {\n        const test:string = null;\n\n        return (\n            &lt;ErrorBoundary&gt;\n                {test.length}\n            &lt;/ErrorBoundary&gt;\n        );\n    }\n}\n</code></pre>\n\n<p>However, the <code>Something went wrong</code> is never shown. I have no idea what is going wrong here as all the examples out there do the same.\nAny ideas where to start from finding the issue?</p>\n"}, {"tags": ["angular", "rest", "typescript"], "comments": [{"owner": {"reputation": 29456, "user_id": 598683, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/kw1rx.jpg?s=128&g=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/598683/brandon"}, "edited": false, "score": 0, "creation_date": 1524665225, "post_id": 50024239, "comment_id": 87064815, "body": "See: <a href=\"https://stackoverflow.com/questions/47513471/angular-4-download-file-from-url?rq=1&amp;utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\" title=\"angular 4 download file from url\">stackoverflow.com/questions/47513471/&hellip;</a>"}, {"owner": {"reputation": 4505, "user_id": 1956072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1bcd4bb9c114b7f5e3a0e8462fcded2?s=128&d=identicon&r=PG", "display_name": "kvetis", "link": "https://stackoverflow.com/users/1956072/kvetis"}, "edited": false, "score": 0, "creation_date": 1524670075, "post_id": 50024239, "comment_id": 87068300, "body": "What is the content of the file you get? What is &quot;Something weird&quot;?"}, {"owner": {"reputation": 300, "user_id": 9043093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcfed184e0a3979dd2898968dca98330?s=128&d=identicon&r=PG&f=1", "display_name": "Radiant", "link": "https://stackoverflow.com/users/9043093/radiant"}, "edited": false, "score": 0, "creation_date": 1524670244, "post_id": 50024239, "comment_id": 87068429, "body": "I am getting one URL. when i hit that in browser, i can see the picture which i want to downlod but when i use above (Brandon&#39;s suggested), I can download image but when i open that, i get invalid image message.."}, {"owner": {"reputation": 4505, "user_id": 1956072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1bcd4bb9c114b7f5e3a0e8462fcded2?s=128&d=identicon&r=PG", "display_name": "kvetis", "link": "https://stackoverflow.com/users/1956072/kvetis"}, "edited": false, "score": 0, "creation_date": 1524670879, "post_id": 50024239, "comment_id": 87068853, "body": "But what are the actual contents of the file? Open it in editor and look."}, {"owner": {"reputation": 300, "user_id": 9043093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcfed184e0a3979dd2898968dca98330?s=128&d=identicon&r=PG&f=1", "display_name": "Radiant", "link": "https://stackoverflow.com/users/9043093/radiant"}, "edited": false, "score": 0, "creation_date": 1524670938, "post_id": 50024239, "comment_id": 87068897, "body": "@kvetis..it is a jpg file which i want to download.."}], "owner": {"reputation": 300, "user_id": 9043093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcfed184e0a3979dd2898968dca98330?s=128&d=identicon&r=PG&f=1", "display_name": "Radiant", "link": "https://stackoverflow.com/users/9043093/radiant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 410, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1524669927, "creation_date": 1524664741, "last_edit_date": 1524669927, "question_id": 50024239, "link": "https://stackoverflow.com/questions/50024239/download-image-from-url-which-is-in-response", "title": "Download image from URL which is in Response", "body": "<p>I am trying to download image in Angular 4. I am getting a URL in response. When I click that, I can see the image which I further want to download it. I have gone through all of the Stack Overflow questions but could find out the best possible solution. So far I have tried this. This works but when I download image, I m getting a something weird instead of actual image (jpg).</p>\n\n<pre><code>Component.ts\n-----------------------------------------------\n  download(url, downloadName) {\n    let a = document.createElement(\"a\");\n    document.body.appendChild(a);\n    a.href = url;\n    a.download = \"downloadName\";\n    a.click();\n    document.body.removeChild(a);\n  }\n-----------------------------------------------\n</code></pre>\n\n<p>Can someone help me with this?</p>\n"}, {"tags": ["class", "typescript", "getter"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1524665551, "post_id": 50024182, "comment_id": 87065038, "body": "When you type <code>let p: Person = ...</code> you are using the <code>Person</code> as a <i>type</i>, which (if you inspect it) doesn&#39;t know about getters / setters or implementation at all.  It is not an instance of the <code>class</code> named <code>Person</code>.  All instances of the <code>Person</code> class are values of the <code>Person</code> type but not all values of the <code>Person</code> type are instances of the <code>Person</code> class."}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1524665564, "creation_date": 1524665564, "answer_id": 50024523, "question_id": 50024182, "link": "https://stackoverflow.com/questions/50024182/why-can-i-set-the-value-of-a-getter-property-in-typescript/50024523#50024523", "title": "Why can I set the value of a getter property in Typescript?", "body": "<p>The getter is not ignored, it exists if you create an instance of the class. Creating an instance of <code>Person</code> means using the <code>new</code> operator (ie. <code>new Person()</code>). You can test the fact that you are not actually creating a <code>Person</code> by using the <code>instanceof</code> operator </p>\n\n<pre><code>let p: Person = {\n  name: \"xyz\",\n  sureName: \"a\",\n  lastName: \"b\"\n};\nconsole.log(p instanceof Person); // will be false\n</code></pre>\n\n<p>What you are doing is creating an object literal (not an instance of <code>Person</code>) which has the same shape as <code>Person</code>. And since it has to have the same shape (ie the same public members) it must also have the <code>name</code> property. Typescript uses structural typing so this is allowed. See this <a href=\"https://stackoverflow.com/questions/48829743/why-duck-typing-is-allowed-for-classes-in-typescript/48829858#48829858\">answer</a> for more details.</p>\n\n<p>If you want to create a new <code>Person</code> and use the objet literal syntax for specifying field values, you can create a constructor with a <code>Partial&lt;Person&gt;</code> argument:</p>\n\n<pre><code> class Person {\n    constructor(value: Partial&lt;Person&gt;) {\n        Object.assign(this, value);\n    }\n    sureName: string = \"\";\n    lastName: string = \"\";\n    get name() {\n        return `${this.sureName} ${this.lastName}`;\n    }\n}\n\nvar p = new Person({\n    sureName: \"a\",\n    lastName: \"b\"\n})\n</code></pre>\n"}], "owner": {"reputation": 648, "user_id": 9428314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79c626ba55ce7dc39f791b3f10f71e9d?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/9428314/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1292, "favorite_count": 1, "accepted_answer_id": 50024523, "answer_count": 1, "score": 1, "last_activity_date": 1524665564, "creation_date": 1524664552, "question_id": 50024182, "link": "https://stackoverflow.com/questions/50024182/why-can-i-set-the-value-of-a-getter-property-in-typescript", "title": "Why can I set the value of a getter property in Typescript?", "body": "<p>Having a class with a getter only property like this:</p>\n\n<pre><code>class Person {\n  sureName: string = \"\";\n  lastName: string = \"\";\n  get name() {\n    return `${this.sureName} ${this.lastName}`;\n  }\n}\n</code></pre>\n\n<p>I like the compact C# way of initializing things (e.g. <code>string[] array = { \"a1\", \"b1\", \"c1\" };</code> which is also possible in Typescript. But using this short typed syntax, I'm forced to set <code>name</code> property:</p>\n\n<pre><code>let p: Person = {\n  name: \"xyz\",\n  sureName: \"a\",\n  lastName: \"b\"\n};\nconsole.log(p); // { name: 'xyz', sureName: 'a', lastName: 'b' }\n</code></pre>\n\n<p>The getter modifier seems being completely ignored! Why does this strange behavior occur? This is not the case when using <code>new</code> operator:</p>\n\n<pre><code>let p1 = new Person();\np1.name = \"Peter\"; // error TS2540: Cannot assign to 'name' because it is a constant or a read-only property.\n</code></pre>\n\n<p>Here the getter is correctly validated from a OOP view. But compared to the first one, I don't really like the <code>new operator</code>: I have no intellisense on setting all required fields and I always have to type the object name as prefix (<code>p1.xyz</code>) which is annoying when having to set multiple propertys on well-named objects.</p>\n\n<p>But for having clean OOP, I'm forced to use the <code>new</code> syntax. Or stop using the C# like getter/setter, and use methods like <code>getName()</code>.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1524665219, "post_id": 50024151, "comment_id": 87064812, "body": "In C# you can&#39;t extend multiple classes. You can implement multiple interfaces..."}], "owner": {"reputation": 1284, "user_id": 652237, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/0f7060c1477d6f437c0a57420789bf5c?s=128&d=identicon&r=PG", "display_name": "Grant Eagon", "link": "https://stackoverflow.com/users/652237/grant-eagon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1524664452, "creation_date": 1524664452, "question_id": 50024151, "link": "https://stackoverflow.com/questions/50024151/is-there-ever-going-to-be-a-typescript-mixin-keyword", "title": "Is there ever going to be a Typescript `mixin` keyword?", "body": "<p>I have been reading about mixins in Typescript, trying to find a better composition method than class extension.  I've gotten some pretty cool stuff working.  But I'm always creating functions that look like this:</p>\n\n<pre><code>export function CanFly&lt;T extends Constructor&lt;{}&gt;&gt;(Base: T) {\n    return class extends Base {\n        flying: boolean;\n        constructor(...args: any[]) {\n            super(...args);\n        }\n        fly () {\n            this.flying = true;\n        }\n        land () {\n            this.flying = false;\n        }\n    };\n}\nclass Person {\n    name: string;\n}\nexport class SuperHero extends CanFly(Person) {\n    constructor () {\n        super();\n    }\n}\n</code></pre>\n\n<p>It seems like there should be a mixin keyword or something to remove the cruft of: <code>&lt;T extends Constructor&lt;{}&gt;&gt;(Base: T)</code>.  Does such a thing exist?</p>\n\n<p>In C# you can just extend multiple classes which seems to accomplish something quite similar.  Is that the direction things are going?  Or will there be a mixin keyword in the future?</p>\n"}, {"tags": ["javascript", "jquery", "angular", "typescript", "scroll"], "comments": [{"owner": {"reputation": 29456, "user_id": 598683, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/kw1rx.jpg?s=128&g=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/598683/brandon"}, "edited": false, "score": 0, "creation_date": 1524664862, "post_id": 50024147, "comment_id": 87064564, "body": "Sounds like a timing issue if the elements are added or classes are set after the click event. Introduce a small delay using <code>setTimeout()</code> before calling your code as a test."}, {"owner": {"reputation": 15822, "user_id": 4399281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JkroG.jpg?s=128&g=1", "display_name": "Fateh Mohamed", "link": "https://stackoverflow.com/users/4399281/fateh-mohamed"}, "edited": false, "score": 0, "creation_date": 1524664942, "post_id": 50024147, "comment_id": 87064623, "body": "this can help you <a href=\"https://stackoverflow.com/a/49875416/4399281\">stackoverflow.com/a/49875416/4399281</a>"}, {"owner": {"reputation": 7881, "user_id": 527965, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/fb6abea2fa29413a2d4613ef78cf8399?s=128&d=identicon&r=PG", "display_name": "Ruben", "link": "https://stackoverflow.com/users/527965/ruben"}, "reply_to_user": {"reputation": 15822, "user_id": 4399281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JkroG.jpg?s=128&g=1", "display_name": "Fateh Mohamed", "link": "https://stackoverflow.com/users/4399281/fateh-mohamed"}, "edited": false, "score": 0, "creation_date": 1524671598, "post_id": 50024147, "comment_id": 87069324, "body": "@FatehMohamed this is for routing"}], "answers": [{"tags": [], "owner": {"reputation": 15822, "user_id": 4399281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JkroG.jpg?s=128&g=1", "display_name": "Fateh Mohamed", "link": "https://stackoverflow.com/users/4399281/fateh-mohamed"}, "is_accepted": false, "score": 3, "last_activity_date": 1524673252, "last_edit_date": 1524673252, "creation_date": 1524672402, "answer_id": 50026780, "question_id": 50024147, "link": "https://stackoverflow.com/questions/50024147/scroll-to-class-in-angular-5/50026780#50026780", "title": "Scroll to class in angular 5", "body": "<p>try this with timeout</p>\n\n<pre><code>scroll(){\n setTimeout(() =&gt; {\n    const classElement = document.getElementsByClassName('scrollTo');\n    if(classElement.length &gt; 0){\n      classElement[0].scrollIntoView();\n    }\n }\n }, 100);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7881, "user_id": 527965, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/fb6abea2fa29413a2d4613ef78cf8399?s=128&d=identicon&r=PG", "display_name": "Ruben", "link": "https://stackoverflow.com/users/527965/ruben"}, "edited": false, "score": 0, "creation_date": 1524673082, "post_id": 50026967, "comment_id": 87070153, "body": "and I need jQuery, I need it for something else in that page too but still a solutions without jQuery would be nice"}], "tags": [], "owner": {"reputation": 7881, "user_id": 527965, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/fb6abea2fa29413a2d4613ef78cf8399?s=128&d=identicon&r=PG", "display_name": "Ruben", "link": "https://stackoverflow.com/users/527965/ruben"}, "is_accepted": true, "score": 0, "last_activity_date": 1524673040, "creation_date": 1524673040, "answer_id": 50026967, "question_id": 50024147, "link": "https://stackoverflow.com/questions/50024147/scroll-to-class-in-angular-5/50026967#50026967", "title": "Scroll to class in angular 5", "body": "<p>this works, but damn it's ugly</p>\n\n<pre><code> window.setTimeout(() =&gt; {\n  if ($('.cal-open').length &gt; 0) {\n    $('html, body').animate({\n      scrollTop: $('.cal-open').offset().top - 80\n    }, 100);\n  }\n}, (250));\n</code></pre>\n"}], "owner": {"reputation": 7881, "user_id": 527965, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/fb6abea2fa29413a2d4613ef78cf8399?s=128&d=identicon&r=PG", "display_name": "Ruben", "link": "https://stackoverflow.com/users/527965/ruben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1310, "favorite_count": 0, "accepted_answer_id": 50026967, "answer_count": 2, "score": 2, "last_activity_date": 1524673252, "creation_date": 1524664435, "question_id": 50024147, "link": "https://stackoverflow.com/questions/50024147/scroll-to-class-in-angular-5", "title": "Scroll to class in angular 5", "body": "<p>Very simple question, how can I scroll to a class in angular, searched for hours to make this work, so frustating<br>\nI have a calendar component, and when I click a day, the events for that day open underneath   </p>\n\n<p>Works with pure javascript for an id, but not class</p>\n\n<pre><code> const elmnt = document.getElementById('scrollto');\n elmnt.scrollIntoView(true);\n</code></pre>\n\n<p>I also have jQuery available but this is not scrolling at all</p>\n\n<pre><code> if ($('.call-open').length &gt; 0) {\n      $('html, body').animate({\n        scrollTop: $('.call-open').offset().top\n      }, 2000);\n    }\n</code></pre>\n\n<p>this .call-open class get's added after I click the day, maybe that's why</p>\n\n<p>I tried <a href=\"https://github.com/nicky-lenaers/ngx-scroll-to\" rel=\"nofollow noreferrer\">this</a> plugin but it doesn't do anything, even with a simple example button</p>\n\n<p>I can't be the only one with this problem, yet I can't find any working solution, sometines angular is a pain in the ass for simple things like this</p>\n"}, {"tags": ["javascript", "angular", "typescript", "ecmascript-6"], "answers": [{"comments": [{"owner": {"reputation": 1049, "user_id": 6310279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8af861a0a8872f863b4a5795f1a4eea1?s=128&d=identicon&r=PG&f=1", "display_name": "Relisora", "link": "https://stackoverflow.com/users/6310279/relisora"}, "edited": false, "score": 0, "creation_date": 1524665030, "post_id": 50023774, "comment_id": 87064680, "body": "This works fine, but my value is only updated the second time I execute the function. Do you have an idea why and how to prevent it?"}, {"owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "reply_to_user": {"reputation": 1049, "user_id": 6310279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8af861a0a8872f863b4a5795f1a4eea1?s=128&d=identicon&r=PG&f=1", "display_name": "Relisora", "link": "https://stackoverflow.com/users/6310279/relisora"}, "edited": false, "score": 0, "creation_date": 1524665350, "post_id": 50023774, "comment_id": 87064897, "body": "Weird, are you sure it isn&#39;t simply taking a long time to execute the first time?"}, {"owner": {"reputation": 1049, "user_id": 6310279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8af861a0a8872f863b4a5795f1a4eea1?s=128&d=identicon&r=PG&f=1", "display_name": "Relisora", "link": "https://stackoverflow.com/users/6310279/relisora"}, "edited": false, "score": 0, "creation_date": 1524665634, "post_id": 50023774, "comment_id": 87065082, "body": "Yes, I can wait 20 seconds after the first time and still nothing, but it will always be immediate after the second time"}, {"owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "reply_to_user": {"reputation": 1049, "user_id": 6310279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8af861a0a8872f863b4a5795f1a4eea1?s=128&d=identicon&r=PG&f=1", "display_name": "Relisora", "link": "https://stackoverflow.com/users/6310279/relisora"}, "edited": false, "score": 0, "creation_date": 1524681918, "post_id": 50023774, "comment_id": 87074725, "body": "Maybe <code>selection[0]</code> is empty the first time you execute the function? What do you get if you print to the console?"}, {"owner": {"reputation": 1049, "user_id": 6310279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8af861a0a8872f863b4a5795f1a4eea1?s=128&d=identicon&r=PG&f=1", "display_name": "Relisora", "link": "https://stackoverflow.com/users/6310279/relisora"}, "edited": false, "score": 0, "creation_date": 1524728134, "post_id": 50023774, "comment_id": 87090727, "body": "No, if I print selection[0] inside the function(after setting it to this.selectedText), it already has a value the first time I execute the function. It looks like a chrome problem because if I execute a completely unrelated function it kind of &quot;refreshes&quot; the values and the text appears in the textarea"}], "tags": [], "owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "is_accepted": true, "score": 2, "last_activity_date": 1524663363, "creation_date": 1524663363, "answer_id": 50023774, "question_id": 50023693, "link": "https://stackoverflow.com/questions/50023693/how-to-store-the-variable-of-an-asynchronous-callback-function/50023774#50023774", "title": "How to store the variable of an asynchronous callback function", "body": "<p>In your current approach, <code>this</code> does not refer to your component.</p>\n\n<p>Change your callback to use an arrow function to keep the scope:</p>\n\n<pre><code>getSelectedText() {\n   chrome.tabs.executeScript( {\n     code: 'window.getSelection().toString();'\n     }, (selection) =&gt; {\n       this.selectedText = selection[0];\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 1049, "user_id": 6310279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8af861a0a8872f863b4a5795f1a4eea1?s=128&d=identicon&r=PG&f=1", "display_name": "Relisora", "link": "https://stackoverflow.com/users/6310279/relisora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 50023774, "answer_count": 1, "score": 0, "last_activity_date": 1524663363, "creation_date": 1524663127, "question_id": 50023693, "link": "https://stackoverflow.com/questions/50023693/how-to-store-the-variable-of-an-asynchronous-callback-function", "title": "How to store the variable of an asynchronous callback function", "body": "<p>I am developing a chrome extension and I am trying to output the selected text on the tab in a textarea inside the plugin.</p>\n\n<p>The function to get the selected text works very well but I can't set the value to the textarea element inside the plugin.</p>\n\n<p><strong>Question:</strong> How do I correctly store the value to be able to then pass it to the textarea with data-binding?</p>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;div&gt;\n    &lt;p&gt;Here will appear the selected text :&lt;/p&gt;\n    &lt;textarea name=\"selectedText\" id=\"selectedText\" [(ngModel)]=\"selectedText\"&gt;&lt;/textarea&gt;\n    &lt;button (click)=\"getSelectedText()\"&gt;Get the selected text&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>TS:</strong></p>\n\n<pre><code>export class CaptureComponent {\n    selectedText = '';\n\n    getSelectedText() {\n        chrome.tabs.executeScript( {\n            code: 'window.getSelection().toString();'\n        }, function(selection) {\n            this.selectedText = selection[0];\n        });\n    }\n}\n</code></pre>\n\n<p>The <code>selection[0]</code> is working fine so I guess that the way I am trying to store the data is not correct, but I can't seem to find what to change it to.</p>\n"}, {"tags": ["javascript", "typescript", "recursion", "tree"], "comments": [{"owner": {"reputation": 5278, "user_id": 7393478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gNAVs.jpg?s=128&g=1", "display_name": "Kaddath", "link": "https://stackoverflow.com/users/7393478/kaddath"}, "edited": false, "score": 1, "creation_date": 1524662189, "post_id": 50023234, "comment_id": 87062814, "body": "You are actually pushing all items tested to <code>path</code> regardless if they are the searched object or not, not even if they are in the good path leading to it.. You should return a value from <code>f</code> and test the result to know if it was found or not in this subtree, to know if you add the path or not. NOTE: comparing objects with <code>node[&#39;data&#39;] == o</code> will only work if they are the same object with the same reference, using this function with giving it a newly created object <code>getPath({a: val})</code> won&#39;t work even if keys and values are the same."}], "answers": [{"comments": [{"owner": {"reputation": 1600, "user_id": 5214911, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zBF1E.jpg?s=128&g=1", "display_name": "tom", "link": "https://stackoverflow.com/users/5214911/tom"}, "edited": false, "score": 0, "creation_date": 1524665643, "post_id": 50023591, "comment_id": 87065088, "body": "It works and your comments were very helpful, thank you. A compact tutorial on recursion:) I hope it helps others too."}], "tags": [], "owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "is_accepted": true, "score": 2, "last_activity_date": 1524665892, "last_edit_date": 1524665892, "creation_date": 1524662741, "answer_id": 50023591, "question_id": 50023234, "link": "https://stackoverflow.com/questions/50023234/finding-the-objects-in-a-tree-of-objects-between-the-root-and-any-object/50023591#50023591", "title": "Finding the objects in a tree of objects between the root and any object", "body": "<p>The flaw with your code is that you are using a global (out of <code>f</code>'s scope anyway) <code>path</code> array. The problem is that you are clearing the entire array if a node doesn't match, whereas you should only cut the current part out. There are two ways to achieve what you want: first is to make <code>f</code> accepts an array <code>path</code> that it copies and pass over recursively untill it find the object, and the other way which is the best approach is to make use of the call stack (created by the recursion):</p>\n\n<pre><code>public getPath(tree: Array&lt;object&gt;, o: object): Array&lt;object&gt; {\n\n    function f(subtree: Array&lt;object&gt;) {                              // I don't know typescript, so specify the return type as (Array&lt;object&gt; or null)\n        for (let node of subtree) {\n            if (node.data == o) {                                     // if this is the node we're looking for\n                return [node];                                        // return an array (which will be our path), here you can either return [] to exclude the matched node (o) or [node] to include it\n            } else if(node.subs.length) {                             // not the node we are looking for, but it has children, so let check'em out \n                let result = f(node.subs);                            // result will either be an array (if we recursively found something), or null otherwise\n                if(result) {                                          // if we found something, then result will be the path from the current node to the object o (the current node not included)\n                    result.unshift(node);                             // we include the current node by pushing it into the result array (pushing it to the first position)\n                    return result;                                    // return result (an array) to signal successfulness\n                }\n            }\n        }\n        return null;                                                  // the object o not found in this subtree, return null to signal unsuccessfullness. Kind of redundant, because undefined is returned by default, so feel free to remove it\n    }\n\n    return f(tree);    \n}\n</code></pre>\n"}], "owner": {"reputation": 1600, "user_id": 5214911, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zBF1E.jpg?s=128&g=1", "display_name": "tom", "link": "https://stackoverflow.com/users/5214911/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 50023591, "answer_count": 1, "score": 2, "last_activity_date": 1524665892, "creation_date": 1524661667, "question_id": 50023234, "link": "https://stackoverflow.com/questions/50023234/finding-the-objects-in-a-tree-of-objects-between-the-root-and-any-object", "title": "Finding the objects in a tree of objects between the root and any object", "body": "<p>I have a typical tree data structure that looks like this:</p>\n\n<pre><code>[\n  {\n    data: object,\n    subs:\n      [ ...other objects... ]\n  },\n  ...other objects...\n]\n</code></pre>\n\n<p>It can have any shape and number of nodes.</p>\n\n<p>I wrote a method that should recursively find and return the path (an array of intermediate objects) between the root <strong>r</strong> and a given object <strong>o</strong>. (whether or not including <strong>r</strong> and <strong>o</strong> I don't care)</p>\n\n<pre><code>public getPath(tree: Array&lt;object&gt;, o: object): Array&lt;object&gt; {\n\n  let path: Array&lt;object&gt; = [];\n\n  function f(subtree: Array&lt;object&gt;): void {\n    for (let node of subtree) {\n\n      path.push(node['data']);\n      if (node['data'] == o) return;\n      else if (node['subs'].length &gt; 0) f(node['subs']);\n      else path = [];\n\n    }\n  }\n\n  f(tree);\n  return path;\n\n}\n</code></pre>\n\n<p>Basically my idea was to</p>\n\n<ul>\n<li>always add every object to the array that is visited during the traversal from the <strong>r</strong> to <strong>o</strong>,</li>\n<li>empty the array if a path is traversed that wasn't the way from the <strong>r</strong> to <strong>o</strong>,</li>\n<li>and return if <strong>o</strong> is reached where the traversal should end.</li>\n</ul>\n\n<p>Results:</p>\n\n<ul>\n<li>It works for <strong>r</strong> as <strong>o</strong>, returns [<strong>r</strong>].</li>\n<li>It also works for the first child of the <strong>r</strong> as <strong>o</strong>, returns [<strong>r</strong>, first child of <strong>r</strong>].</li>\n<li>But for choosing any other object as <strong>o</strong>, not only the objects of the correct path but also many other objects of the tree are returned.</li>\n</ul>\n"}, {"tags": ["typescript", "compiler-errors", "observable", "typescript-generics"], "comments": [{"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "edited": false, "score": 1, "creation_date": 1524662265, "post_id": 50022972, "comment_id": 87062866, "body": "Did you try declaring the Subject as <code>const subject = new Subject&lt;FundSourceCardSessionInterface&gt;();</code>"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4667338, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-V7RJ-ddn5WQ/AAAAAAAAAAI/AAAAAAAAGOU/9gmRK9Mj0P4/photo.jpg?sz=128", "display_name": "Pichon X", "link": "https://stackoverflow.com/users/4667338/pichon-x"}, "edited": false, "score": 0, "creation_date": 1524671016, "post_id": 50023709, "comment_id": 87068956, "body": "ohhh that way better than casting in the return, Thanks!"}], "tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": true, "score": 2, "last_activity_date": 1524663178, "creation_date": 1524663178, "answer_id": 50023709, "question_id": 50022972, "link": "https://stackoverflow.com/questions/50022972/typescript-error-on-return-subject-asobservable/50023709#50023709", "title": "Typescript error on return subject.asObservable()", "body": "<p>The error is clear: You are declaring the function as returning <code>Observable&lt;FundSourceCardSessionInterface&gt;</code> and you're returning <code>Observable&lt;{}&gt;</code>. I think (not completely sure) that, prior, TypeScript understood that you were returning <code>Observable&lt;any&gt;</code>, and <code>Observable&lt;any&gt;</code> is assignable to <code>Observable&lt;FundSourceCardSessionInterface&gt;</code>. However, <code>{}</code> is not assignable to <code>FundSourceCArdSessionInterface</code>.</p>\n\n<p>Change the way in which you're declariong your <code>Subject</code>:</p>\n\n<pre><code>const subject = new Subject&lt;FundSourceCardSessionInterface&gt;();`\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4667338, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-V7RJ-ddn5WQ/AAAAAAAAAAI/AAAAAAAAGOU/9gmRK9Mj0P4/photo.jpg?sz=128", "display_name": "Pichon X", "link": "https://stackoverflow.com/users/4667338/pichon-x"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "accepted_answer_id": 50023709, "answer_count": 1, "score": 1, "last_activity_date": 1524663178, "creation_date": 1524660951, "question_id": 50022972, "link": "https://stackoverflow.com/questions/50022972/typescript-error-on-return-subject-asobservable", "title": "Typescript error on return subject.asObservable()", "body": "<p>I have a question I hope you can help me with. Thanks </p>\n\n<p>After upgrading to Typescript 2.9.1 the compiler is complaining for not returning the type that the method supposed to return.  </p>\n\n<p><strong>CURRENT CODE:</strong></p>\n\n<pre><code>public getCardPairingSession(sessionId:string):Observable&lt;FundSourceCardSessionInterface&gt; {\n    const subject = new Subject();\n\n    this.apiService\n      .get(this.buildApiPath('card-session/' + sessionId))\n      .subscribe(\n        (response) =&gt; {\n          subject.next(response.result);\n        },\n        (error) =&gt; {\n          subject.error(error);\n        }\n      );\n/* &lt;-- ERROR: Type 'Observable&lt;{}&gt;' is not assignable to type 'Observable&lt;FundSourceCardSessionInterface&gt;' */\n    return subject.asObservable();\n  }\n</code></pre>\n\n<p><strong>MY SOLUTION:</strong></p>\n\n<p>so far, I am casting my return by doing, although I do not know if its correct, looks odd to me.</p>\n\n<pre><code>return  &lt;Observable&lt;FundSourceCardSessionInterface&gt;&gt; subject.asObservable();\n</code></pre>\n\n<p><strong>QUESTION:</strong></p>\n\n<p>If before with Typescript 2.3.4 was working fine, now I don't understand why it does not?, why do I have to cast the return if I already specified which return to expect at the beginning of the method? basically is duplicating code:</p>\n\n<pre><code>public getCardPairingSession(sessionId:string):Observable&lt;FundSourceCardSessionInterface&gt; {\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "asynchronous"], "answers": [{"comments": [{"owner": {"reputation": 3095, "user_id": 615288, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/ZKBiE.jpg?s=128&g=1", "display_name": "KingKerosin", "link": "https://stackoverflow.com/users/615288/kingkerosin"}, "edited": false, "score": 0, "creation_date": 1524661876, "post_id": 50023230, "comment_id": 87062573, "body": "Removed the <code>try&#47;catch</code> but still the <code>componentDidCatch</code> is not getting hit. Only in dev-tools I can see <code>Uncaught (in promise) Error: Internal Server Error</code> from the part where the promise is rejected <code>reject(new Error(xhr.statusText))</code>."}, {"owner": {"reputation": 2859, "user_id": 6476488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EqwYI.jpg?s=128&g=1", "display_name": "Prince Hernandez", "link": "https://stackoverflow.com/users/6476488/prince-hernandez"}, "reply_to_user": {"reputation": 3095, "user_id": 615288, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/ZKBiE.jpg?s=128&g=1", "display_name": "KingKerosin", "link": "https://stackoverflow.com/users/615288/kingkerosin"}, "edited": false, "score": 0, "creation_date": 1524663559, "post_id": 50023230, "comment_id": 87063697, "body": "@KingKerosin can you put the code inside the componentDidCatch?"}, {"owner": {"reputation": 3095, "user_id": 615288, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/ZKBiE.jpg?s=128&g=1", "display_name": "KingKerosin", "link": "https://stackoverflow.com/users/615288/kingkerosin"}, "edited": false, "score": 0, "creation_date": 1524663682, "post_id": 50023230, "comment_id": 87063789, "body": "Which code? And what should happen? The <code>componentDidCatch</code> is never hit"}], "tags": [], "owner": {"reputation": 2859, "user_id": 6476488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EqwYI.jpg?s=128&g=1", "display_name": "Prince Hernandez", "link": "https://stackoverflow.com/users/6476488/prince-hernandez"}, "is_accepted": false, "score": -2, "last_activity_date": 1524661662, "creation_date": 1524661662, "answer_id": 50023230, "question_id": 50022889, "link": "https://stackoverflow.com/questions/50022889/use-errorboundary-together-with-asynchronous-lifecycle-functions/50023230#50023230", "title": "Use ErrorBoundary together with asynchronous lifecycle-functions", "body": "<p>lets take a look to the <a href=\"https://reactjs.org/blog/2017/07/26/error-handling-in-react-16.html\" rel=\"nofollow noreferrer\">Documentation</a></p>\n\n<p>basically it says:</p>\n\n<blockquote>\n  <p>Error boundaries are React components that catch JavaScript errors\n  anywhere in their child component tree, log those errors, and display\n  a fallback UI instead of the component tree that crashed. Error\n  boundaries catch errors during rendering, in lifecycle methods, and in\n  constructors of the whole tree below them.</p>\n</blockquote>\n\n<p>so basically when you are trying to use the ASYNC/AWAIT and it fails it will go out for the CATCH side of your function:</p>\n\n<pre><code>catch(e) {\n    console.log(\"Some error occured\");\n    throw e;\n}\n</code></pre>\n\n<p>and the error will not be thrown by the <code>componentDidMount</code>. actually if you remove the try catch method, the <code>componentDidMount</code> will take care of the error.</p>\n"}, {"tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": false, "score": 17, "last_activity_date": 1524666352, "creation_date": 1524666352, "answer_id": 50024796, "question_id": 50022889, "link": "https://stackoverflow.com/questions/50022889/use-errorboundary-together-with-asynchronous-lifecycle-functions/50024796#50024796", "title": "Use ErrorBoundary together with asynchronous lifecycle-functions", "body": "<p><code>async</code> function is syntactic sugar for a regular function that returns a promise. An error in <code>async</code> function results in rejected promise. Even if rejected promise isn't handled anywhere and results in <code>Uncaught (in promise)</code> error, it is not caught by error boundaries.</p>\n\n<p>As <a href=\"https://reactjs.org/docs/error-boundaries.html\" rel=\"noreferrer\">the reference</a> states,</p>\n\n<blockquote>\n  <p>Error boundaries do not catch errors for: &lt;...> Asynchronous code (e.g. setTimeout or requestAnimationFrame callbacks)</p>\n</blockquote>\n\n<p>A solution is to change component state on error and handle it on next render.  <code>render</code> is the place where error can be re-thrown synchronously.</p>\n\n<p>An <a href=\"https://plnkr.co/edit/uBqkQpHz6voH1WJtJ4Zr?p=preview\" rel=\"noreferrer\">example</a>:</p>\n\n<pre><code>  state = { error: null };\n\n  async componentDidMount() {\n    try {\n      await new Promise(resolve =&gt; setTimeout(resolve, 2000));\n      throw new Error('Foo error');\n    } catch (error) {\n      this.setState({ error });\n    }\n  }\n\n  render() {\n    if (this.state.error) {\n      throw this.state.error;\n    }\n\n    return (\n      &lt;p&gt;Foo&lt;/p&gt;\n    );\n  }\n</code></pre>\n"}], "owner": {"reputation": 3095, "user_id": 615288, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/ZKBiE.jpg?s=128&g=1", "display_name": "KingKerosin", "link": "https://stackoverflow.com/users/615288/kingkerosin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4240, "favorite_count": 1, "answer_count": 2, "score": 6, "last_activity_date": 1596618785, "creation_date": 1524660726, "question_id": 50022889, "link": "https://stackoverflow.com/questions/50022889/use-errorboundary-together-with-asynchronous-lifecycle-functions", "title": "Use ErrorBoundary together with asynchronous lifecycle-functions", "body": "<p>I want to build a React-component which loads the data asynchronously on <code>componentDidMount</code>.</p>\n\n<p>This is what the function currently looks like (written in <code>TypeScript</code>):</p>\n\n<pre><code>async componentDidMount(): Promise&lt;void&gt; {\n    try {\n        const { props: { teamId }, state: { } } = this;\n        const awaitableData = await UrlHelper.getDataAsync(\"some-fancy-url\");\n\n        // ... do something with awaitableData\n    } catch(e) {\n        console.log(\"Some error occured\");\n        throw e;\n    }\n}\n</code></pre>\n\n<p>The <code>render</code>-function returns the markup wrapped in a <code>ErrorBoundary</code> component, which has <code>componentDidCatch</code> implemented.\nHowever, this is never called/triggered when the awaited call is rejected and I end up in the <code>catch</code>-block.</p>\n\n<p>What am I missing here?</p>\n"}, {"tags": ["javascript", "arrays", "typescript", "filter", "iterator"], "comments": [{"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1524660436, "post_id": 50022733, "comment_id": 87061476, "body": "what means fill? please add some data in text form to the question as well as the wanted result."}, {"owner": {"reputation": 5206, "user_id": 2834937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99cae13df3ea25a465cfaecc89288ae9?s=128&d=identicon&r=PG&f=1", "display_name": "Dinesh undefined", "link": "https://stackoverflow.com/users/2834937/dinesh-undefined"}, "edited": false, "score": 0, "creation_date": 1524660484, "post_id": 50022733, "comment_id": 87061512, "body": "use array filter"}, {"owner": {"reputation": 9968, "user_id": 114900, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZGjf9.jpg?s=128&g=1", "display_name": "msanford", "link": "https://stackoverflow.com/users/114900/msanford"}, "edited": false, "score": 0, "creation_date": 1524660773, "post_id": 50022733, "comment_id": 87061728, "body": "Please don&#39;t post images of data or code: you&#39;re implicitly saying you expect us to <i>read the data and type it back out by hand</i> to test your scenario. That&#39;s a pain. Post it as text so we can copy and paste it."}, {"owner": {"reputation": 1599, "user_id": 9032085, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/B4swp.jpg?s=128&g=1", "display_name": "MarcoLe", "link": "https://stackoverflow.com/users/9032085/marcole"}, "edited": false, "score": 0, "creation_date": 1524661000, "post_id": 50022733, "comment_id": 87061920, "body": "dunno the problem, if it wasnt clear i wouldnt get a correct answer within a minute ;) dont comment if you dont want to solve a question."}], "answers": [{"tags": [], "owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "is_accepted": true, "score": 2, "last_activity_date": 1524660787, "last_edit_date": 1524660787, "creation_date": 1524660453, "answer_id": 50022782, "question_id": 50022733, "link": "https://stackoverflow.com/questions/50022733/javascript-typescript-fill-new-arr-on-a-certain-key-from-initial-arr/50022782#50022782", "title": "Javascript/Typescript - fill new Arr on a certain key from initial Arr", "body": "<p>You can use the function <code>slice</code> + function <code>findIndex</code>.</p>\n\n<pre><code>const index = initialArr.findIndex(o =&gt; o.name === 'Raged Barbarian');\nconst newArr = initialArr.slice(Math.max(index, 0));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 207256, "user_id": 5928186, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/QKbVi.jpg?s=128&g=1", "display_name": "Shubham Khatri", "link": "https://stackoverflow.com/users/5928186/shubham-khatri"}, "is_accepted": false, "score": 1, "last_activity_date": 1524660555, "creation_date": 1524660555, "answer_id": 50022825, "question_id": 50022733, "link": "https://stackoverflow.com/questions/50022733/javascript-typescript-fill-new-arr-on-a-certain-key-from-initial-arr/50022825#50022825", "title": "Javascript/Typescript - fill new Arr on a certain key from initial Arr", "body": "<p>You can make use of <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice\" rel=\"nofollow noreferrer\"><code>slice</code></a> after obtaining the index like</p>\n\n<pre><code>public getNewArr(initialArr) {\n    const index = initialArr.findIndex(troop =&gt; troop.name === 'Raged Barbarian');\n    if(index &gt; -1) {\n       return initialArr.slice(index + 1);\n    }\n    return [];\n}\n</code></pre>\n"}], "owner": {"reputation": 1599, "user_id": 9032085, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/B4swp.jpg?s=128&g=1", "display_name": "MarcoLe", "link": "https://stackoverflow.com/users/9032085/marcole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 50022782, "answer_count": 2, "score": -1, "last_activity_date": 1524660787, "creation_date": 1524660286, "question_id": 50022733, "link": "https://stackoverflow.com/questions/50022733/javascript-typescript-fill-new-arr-on-a-certain-key-from-initial-arr", "title": "Javascript/Typescript - fill new Arr on a certain key from initial Arr", "body": "<p>Following initial array has this values:\n<a href=\"https://i.stack.imgur.com/HtmTI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HtmTI.png\" alt=\"\"></a></p>\n\n<p>My Goal is to fill a new array that starts from the initial arr by the index where its name property is: 'Raged Barbarian'. I have the solution for this, but i think there is semantically a better way to approach this.</p>\n\n<p>My approach is:</p>\n\n<pre><code>  public getNewArr(initialArr) {\n    const newArr = [];\n    let isRagedBarbarian: boolean = false;\n    for (const troop of initialArr) {\n      if (troop.name === 'Raged Barbarian') {\n        isRagedBarbarian = true;\n  }   if (isRagedBarbarian === true) {\n        newArr.push(troop);\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-material", "angular5"], "answers": [{"tags": [], "owner": {"reputation": 1713, "user_id": 3755353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9a3bdf4e88381bb2eecaf937d748a37?s=128&d=identicon&r=PG&f=1", "display_name": "ranjeet8082", "link": "https://stackoverflow.com/users/3755353/ranjeet8082"}, "is_accepted": true, "score": 5, "last_activity_date": 1524661759, "last_edit_date": 1524661759, "creation_date": 1524660759, "answer_id": 50022900, "question_id": 50022662, "link": "https://stackoverflow.com/questions/50022662/angular-material-2-paginator-with-mat-table-initialization/50022900#50022900", "title": "angular material 2 paginator with mat-table initialization", "body": "<p>Initialize paginator after view init.</p>\n\n<pre><code> ngAfterViewInit() {\n    this.dataSource.paginator = this.paginator;\n  }\n</code></pre>\n\n<p>Initialize datasource with blank array.</p>\n\n<pre><code>ngOnInit() {\n            this.dataSource = new BasicDataSource([]);\n    myapi.apirequest()\n          .subscribe((dataResponse: any) =&gt; {\n            this.dataSource = new BasicDataSource(dataResponse);\n            this.dataSource.paginator = this.paginator;\n            console.log(this.paginator);\n          });\n      });\n  }\n</code></pre>\n"}], "owner": {"reputation": 915, "user_id": 6115238, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9624bdd88c61072b55c9099dfe1fa1f9?s=128&d=identicon&r=PG", "display_name": "NanoPish", "link": "https://stackoverflow.com/users/6115238/nanopish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3406, "favorite_count": 0, "accepted_answer_id": 50022900, "answer_count": 1, "score": 2, "last_activity_date": 1524661759, "creation_date": 1524660073, "last_edit_date": 1524661175, "question_id": 50022662, "link": "https://stackoverflow.com/questions/50022662/angular-material-2-paginator-with-mat-table-initialization", "title": "angular material 2 paginator with mat-table initialization", "body": "<p>I'm trying to make the angular material 2 paginator component work with the table component (mat-table directive).</p>\n\n<p>I followed the mat-table documentation to add a paginator, trying to make their example work with my existing working mat table.</p>\n\n<p>In the component.html I have a working mat table, and a paginator:</p>\n\n<pre><code>&lt;div class=\"example-container\"&gt;\n    &lt;mat-table [dataSource]=\"dataSource\"&gt;\n    // columns and rows\n    &lt;/mat-table&gt;\n    &lt;mat-paginator #paginator\n                   [pageSize]=\"10\"\n                   [pageSizeOptions]=\"[5, 10, 20]\"\n                   [showFirstLastButtons]=\"true\"&gt;\n    &lt;/mat-paginator&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The component that uses this html implements ngOnInit:</p>\n\n<pre><code>ngOnInit() {\n    myapi.apirequest()\n          .subscribe((dataResponse: any) =&gt; {\n            this.dataSource = new BasicDataSource(dataResponse);\n            this.dataSource.paginator = this.paginator;\n            console.log(this.paginator);\n          });\n      });\n  }\n</code></pre>\n\n<p>And the component gets the paginator using @ViewChild:</p>\n\n<pre><code>@ViewChild(MatPaginator) paginator: MatPaginator;\n</code></pre>\n\n<hr>\n\n<p>The issue is the paginator does nothing and the next and previous buttons are greyed out.</p>\n\n<blockquote>\n  <p>The console.log(this.paginator) gives :</p>\n  \n  <p>_changeDetectorRef: Object { _view: {\u2026}, _viewContainerRef: null, _appRef: null } \u200b\n  _displayedPageSizeOptions: Array(3) [ 5, 10, 20 ] \u200b\n  _hidePageSize: false \u200b\n  _initialized: true \u200b\n  _intl: Object { itemsPerPageLabel: \"Items per page:\", nextPageLabel: \"Next page\", previousPageLabel: \"Previous page\", \u2026 } \u200b\n  _intlChanges: Object { closed: false, syncErrorThrown: false, syncErrorThrowable: false, \u2026 } \u200b\n  _length: 0 \u200b\n  _pageIndex: 0 \u200b\n  _pageSize: 10 \u200b\n  _pageSizeOptions: Array(3) [ 5, 10, 20 ] \u200b\n  _showFirstLastButtons: true \u200b page: Object { _isScalar: false, closed: false, isStopped: false, \u2026 } \u200b\n  <strong>proto</strong>: Object { pageIndex: Getter &amp; Setter, length: Getter &amp; Setter, pageSize: Getter &amp; Setter, \u2026 }</p>\n</blockquote>\n\n<p>I don't know how to debug / understand what causes the paginator not to work.</p>\n\n<p>My BasicDataSource extends DataSource and using ngAfterViewInit doest work because this.datasource is undefined at this point (api call not done).</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 8732, "user_id": 1874522, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/1BXUD.png?s=128&g=1", "display_name": "peinearydevelopment", "link": "https://stackoverflow.com/users/1874522/peinearydevelopment"}, "edited": false, "score": 0, "creation_date": 1524661043, "post_id": 50022578, "comment_id": 87061954, "body": "The post here should help. <a href=\"https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template#answer-35209681\" title=\"how can i select an element in a component template%23answer 35209681\">stackoverflow.com/questions/32693061/&hellip;</a> It&#39;s possible you need to chang <code>{read: ElementRef}</code> to <code>{read: ViewContainerRef}</code>"}, {"owner": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "reply_to_user": {"reputation": 8732, "user_id": 1874522, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/1BXUD.png?s=128&g=1", "display_name": "peinearydevelopment", "link": "https://stackoverflow.com/users/1874522/peinearydevelopment"}, "edited": false, "score": 0, "creation_date": 1524661380, "post_id": 50022578, "comment_id": 87062208, "body": "@peinearydevelopment thanks but my problem is i didn&#39;t use <code>ElementRef</code> as a value but i got this error."}, {"owner": {"reputation": 8732, "user_id": 1874522, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/1BXUD.png?s=128&g=1", "display_name": "peinearydevelopment", "link": "https://stackoverflow.com/users/1874522/peinearydevelopment"}, "edited": false, "score": 1, "creation_date": 1524661524, "post_id": 50022578, "comment_id": 87062318, "body": "You are using it as a value though. <code>{read: ElementRef}</code>. That is a JavaScript object, <code>read</code> is the property name and <code>ElementRef</code> is the value you are assigning to that property."}], "owner": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 497, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1524659846, "creation_date": 1524659846, "question_id": 50022578, "link": "https://stackoverflow.com/questions/50022578/elementref-only-refers-to-a-type-but-is-being-used-as-a-value-here", "title": "&#39;ElementRef&#39; only refers to a type, but is being used as a value here", "body": "<p>i was trying to access my element this way:</p>\n\n<pre><code>@ViewChild('addNodeDefinition' , {read: ElementRef}) editNodeModal: ElementRef;\n</code></pre>\n\n<p>but i get error:</p>\n\n<blockquote>\n  <p>'ElementRef' only refers to a type, but is being used as a value here.</p>\n</blockquote>\n\n<p>my html:</p>\n\n<pre><code>&lt;ng-template #addNodeDefinition&gt;&lt;/ng-template&gt;\n</code></pre>\n\n<p>what's the problem? thanks</p>\n"}, {"tags": ["angular", "typescript", "angular5", "gsap", "scrollmagic"], "comments": [{"owner": {"reputation": 1598, "user_id": 2724204, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/SRYxI.jpg?s=128&g=1", "display_name": "Maxime Lafarie", "link": "https://stackoverflow.com/users/2724204/maxime-lafarie"}, "edited": false, "score": 0, "creation_date": 1524658820, "post_id": 50022038, "comment_id": 87060210, "body": "Can you show your SW config as shown <a href=\"https://angular.io/guide/service-worker-getting-started#step-4-create-the-configuration-file-ngsw-configjson\" rel=\"nofollow noreferrer\">here</a>?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9697183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98c76870b3d81e6c8e796bfe1381109d?s=128&d=identicon&r=PG&f=1", "display_name": "WinPla", "link": "https://stackoverflow.com/users/9697183/winpla"}, "edited": false, "score": 0, "creation_date": 1524659658, "post_id": 50022268, "comment_id": 87060881, "body": "It works for me too. Thanks!  Does it mean that scrollmagic causes app to be unstabilized all the time?"}], "tags": [], "owner": {"reputation": 14730, "user_id": 6120338, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0865ba5a8a6f29ef80937137f7869026?s=128&d=identicon&r=PG", "display_name": "Ritwick Dey", "link": "https://stackoverflow.com/users/6120338/ritwick-dey"}, "is_accepted": true, "score": 0, "last_activity_date": 1524659367, "last_edit_date": 1524659367, "creation_date": 1524658994, "answer_id": 50022268, "question_id": 50022038, "link": "https://stackoverflow.com/questions/50022038/angular-unable-to-register-service-worker-if-scrollmagic-controller-is-created/50022268#50022268", "title": "Angular unable to register Service Worker if ScrollMagic Controller is created", "body": "<p>I was facing same issue. Whenever you're using <code>setTimeout</code> or <code>setTimeInterval</code> function, that application can not get stabilize, that's why service workers are not being downloaded. </p>\n\n<h2>Workaround :</h2>\n\n<p>Open <code>main.ts</code> and try to register service worker manually. It works for me.</p>\n\n<pre><code> platformBrowserDynamic().bootstrapModule(AppModule)\n  .then(() =&gt; {\n    if ('serviceWorker' in navigator &amp;&amp; environment.production) {\n      navigator.serviceWorker.register('/ngsw-worker.js'); // replace the file-name if you've changed\n    }\n  })\n .catch(err =&gt; console.log(err));\n</code></pre>\n\n<p><br></p>\n\n<h3>Reference Link :</h3>\n\n<p><a href=\"https://github.com/ritwickdey/ritwickdey.github.io/blob/388d3d15e725b228ae80c0ae79beb5746c22cc8c/src/main.ts#L11\" rel=\"nofollow noreferrer\">https://github.com/ritwickdey/ritwickdey.github.io/blob/388d3d15e725b228ae80c0ae79beb5746c22cc8c/src/main.ts#L11</a>\n(This is my portfolio website project) </p>\n"}], "owner": {"reputation": 3, "user_id": 9697183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98c76870b3d81e6c8e796bfe1381109d?s=128&d=identicon&r=PG&f=1", "display_name": "WinPla", "link": "https://stackoverflow.com/users/9697183/winpla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 283, "favorite_count": 0, "accepted_answer_id": 50022268, "answer_count": 1, "score": 0, "last_activity_date": 1524659367, "creation_date": 1524658331, "last_edit_date": 1524659185, "question_id": 50022038, "link": "https://stackoverflow.com/questions/50022038/angular-unable-to-register-service-worker-if-scrollmagic-controller-is-created", "title": "Angular unable to register Service Worker if ScrollMagic Controller is created", "body": "<p>I want to enable service worker in my Angular powered website, but it doesn't register itself if scrollmagic is used. If I disable ScrollMagic controlled animations it registers just fine.</p>\n\n<p>I imported GSAP, ScrollMagic in angular-cli.json:</p>\n\n<pre><code>      \"scripts\": [\n    \"../node_modules/gsap/src/uncompressed/TweenMax.js\",\n    \"../node_modules/scrollmagic/scrollmagic/uncompressed/ScrollMagic.js\",\n    \"../node_modules/scrollmagic/scrollmagic/uncompressed/plugins/animation.gsap.js\"\n  ]\n</code></pre>\n\n<p>and declaring in each component I use ScrollMagic:</p>\n\n<pre><code>declare let TimelineMax: any;\ndeclare let ScrollMagic: any;\ndeclare let TweenMax: any;\n</code></pre>\n\n<p>I create controller this way:</p>\n\n<pre><code>ngOnInit() {\nthis.animation();\n}\n animation() {\n    this.controller = new ScrollMagic.Controller({\n      globalSceneOptions: {\n        triggerHook: 'onLeave',\n        duration: 0\n      }\n    });\n    (...)\n  }\n}\n</code></pre>\n\n<p>So it registers service worker if I go to page that has no scrollmagic or I disable it onclick using:</p>\n\n<pre><code>(...)   \n this.controller.destroy();\n(...)\n</code></pre>\n\n<p>In that case it loads SW when website is open (without refreshing).</p>\n\n<p>It doesn't register SW if I use setTimeout or similar solutions to create controller:</p>\n\n<pre><code>setTimeout(()=&gt;{\n  this.controller = new ScrollMagic.Controller({\n  globalSceneOptions: {\n    triggerHook: 'onLeave',\n    duration: 0\n  }\n});\n}, 3000);\n</code></pre>\n\n<p>Edit:\nSW config:\nngsw-config.json</p>\n\n<pre><code>{\n  \"index\": \"/index.html\",\n  \"assetGroups\": [{\n    \"name\": \"app\",\n    \"installMode\": \"prefetch\",\n    \"resources\": {\n      \"files\": [\n        \"/favicon.ico\",\n        \"/index.html\"\n      ],\n      \"versionedFiles\": [\n        \"/*.bundle.css\",\n        \"/*.bundle.js\",\n        \"/*.chunk.js\"\n      ]\n    }\n  }, {\n    \"name\": \"assets\",\n    \"installMode\": \"lazy\",\n    \"updateMode\": \"prefetch\",\n    \"resources\": {\n      \"files\": [\n        \"/assets/**\"\n      ]\n    }\n  }]\n}\n</code></pre>\n\n<p>app.module.ts</p>\n\n<pre><code>  imports: [\n    (...)\n    ServiceWorkerModule.register('/ngsw-worker.js', {enabled: environment.production})\n  ],\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular5"], "comments": [{"owner": {"reputation": 1713, "user_id": 3755353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9a3bdf4e88381bb2eecaf937d748a37?s=128&d=identicon&r=PG&f=1", "display_name": "ranjeet8082", "link": "https://stackoverflow.com/users/3755353/ranjeet8082"}, "edited": false, "score": 0, "creation_date": 1524657733, "post_id": 50021750, "comment_id": 87059349, "body": "You can try <code>[hidden]</code> Instead of <code>*ngIf</code>."}, {"owner": {"reputation": 1747, "user_id": 6800303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d86ffb4271b65f9121097792b5f77af1?s=128&d=identicon&r=PG&f=1", "display_name": "NitinSingh", "link": "https://stackoverflow.com/users/6800303/nitinsingh"}, "edited": false, "score": 0, "creation_date": 1524657929, "post_id": 50021750, "comment_id": 87059497, "body": "Please share the associated component file as well. Looks like the &#39;form&#39; element isn&#39;t defined as a FormGroup in the component side"}, {"owner": {"reputation": 8500, "user_id": 5349542, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/B4LnC.jpg?s=128&g=1", "display_name": "BlackBeard", "link": "https://stackoverflow.com/users/5349542/blackbeard"}, "edited": false, "score": 0, "creation_date": 1524657930, "post_id": 50021750, "comment_id": 87059499, "body": "please include the relevant <code>*.ts</code> file"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1524661917, "post_id": 50021750, "comment_id": 87062602, "body": "the error say you have NOT a variable &quot;form&quot; of type FormGroup. Usually you can enclose all in a &lt; div *ngIf=&quot;form&quot; &gt;&lt; form formGroup=&quot;form&quot;&gt;...&lt;/form&gt;&lt; /div&gt;. tip if you want to ask for a field of the form you can use form.get(&#39;name_of_field&#39;).value"}], "answers": [{"tags": [], "owner": {"reputation": 3562, "user_id": 2328891, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/HgZFa.jpg?s=128&g=1", "display_name": "Shohel", "link": "https://stackoverflow.com/users/2328891/shohel"}, "is_accepted": false, "score": 0, "last_activity_date": 1524659731, "creation_date": 1524659731, "answer_id": 50022532, "question_id": 50021750, "link": "https://stackoverflow.com/questions/50021750/angular-show-formgroup-when-model-id-is-larger-than-0/50022532#50022532", "title": "Angular, show formgroup when model.id is larger than 0", "body": "<p>Try to use this.</p>\n\n<pre><code>[hidden]=\"model.id == 0\"\n</code></pre>\n\n<blockquote>\n  <p>*ngIf if false will remove the element from the DOM </p>\n  \n  <p>[hidden] if true will set the display to none in css</p>\n</blockquote>\n"}], "owner": {"reputation": 359, "user_id": 6210486, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/769916656478234/picture?type=large", "display_name": "Hovhannes Gevorgyan", "link": "https://stackoverflow.com/users/6210486/hovhannes-gevorgyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524659731, "creation_date": 1524657469, "question_id": 50021750, "link": "https://stackoverflow.com/questions/50021750/angular-show-formgroup-when-model-id-is-larger-than-0", "title": "Angular, show formgroup when model.id is larger than 0", "body": "<p>I have an formgroup instance, and need to show input with formControlName attribute when \"model.id > 0\", else show an input without that attribute.</p>\n\n<p>But when I do this I get an error \"formGroup expects a FormGroup instance. Please pass one in.\"</p>\n\n<p>How can I resolve this?</p>\n\n<pre><code>&lt;form [formGroup]=\"form\"&gt;\n&lt;div class=\"margin_bottom__25\"&gt;\n  &lt;div class=\"form-group row\"&gt;\n    &lt;label for=\"legalName\" class=\"col-sm-2 form-control-label\"&gt;{{'STRUCTURES_AND_BRANCHES.branch.branch' | translate}}&lt;/label&gt;\n    &lt;div class=\"col-sm-4\"&gt;\n      &lt;span class=\"form-content\" *ngIf=\"!stateVM.isLegalNameEditable\"&gt;{{model.legalName}}&lt;/span&gt;\n      &lt;input *ngIf=\"stateVM.isLegalName\" formControlName=\"legalName\" id=\"legalName\" name=\"legalName\" type=\"text\" class=\"form-control\"\n        placeholder=\"{{'STRUCTURES_AND_BRANCHES.branch.branch_tab.basic_details.legalName_placeholder' | translate}}\"&gt;\n      &lt;input *ngIf=\"model.id &lt; 1\" name=\"legalName\" type=\"text\" class=\"form-control\"\n             placeholder=\"{{'STRUCTURES_AND_BRANCHES.branch.branch_tab.basic_details.legalName_placeholder' | translate}}\"&gt;\n    &lt;/div&gt;\n    &lt;div class=\"col-sm-6\"&gt;\n      &lt;div *ngIf=\"!stateVM.isLegalNameEditable\"&gt;\n        &lt;button [elementAccess]=\"FormEnum.HeadquarterAndBranch\" class=\"btn btn-purple pull-right\" (click)=\"toggleLegalNameEdit()\"&gt;\n          &lt;i aria-hidden=\"true\" class=\"fa fa-pencil\"&gt;&lt;/i&gt;\n          &lt;span&gt;{{'STRUCTURES_AND_BRANCHES.branch.edit_btn' | translate}}&lt;/span&gt;\n        &lt;/button&gt;\n      &lt;/div&gt;\n      &lt;div *ngIf=\"stateVM.isLegalNameEditable\"&gt;\n        &lt;button class=\"btn btn-purple pull-right\" [disabled]=\"!form.controls['legalName'].valid\" (click)=\"onLegalNameSave()\"&gt;{{'STRUCTURES_AND_BRANCHES.branch.save_btn' | translate}}&lt;/button&gt;\n        &lt;button class=\"btn btn-light-gray margin_right__5 pull-right\" (click)=\"onCancelLegalName()\"&gt;{{'STRUCTURES_AND_BRANCHES.branch.cancel_btn' | translate}}&lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n"}, {"tags": ["html", "typescript", "ionic-framework", "ionic3", "hybrid-mobile-app"], "answers": [{"tags": [], "owner": {"reputation": 704, "user_id": 3100901, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4e6c8a81e9ea0e06d4382ddeee25eb31?s=128&d=identicon&r=PG&f=1", "display_name": "Salman Ullah Khan", "link": "https://stackoverflow.com/users/3100901/salman-ullah-khan"}, "is_accepted": false, "score": 1, "last_activity_date": 1524664437, "creation_date": 1524664437, "answer_id": 50024148, "question_id": 50021677, "link": "https://stackoverflow.com/questions/50021677/how-to-speed-up-optimize-ionic-mobile-app-android/50024148#50024148", "title": "How to speed up / optimize ionic mobile app (android)?", "body": "<p>Try production build.  </p>\n\n<pre><code>ionic cordova run android --prod \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 408, "user_id": 9154880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2Kgze.png?s=128&g=1", "display_name": "David L&#243;pez", "link": "https://stackoverflow.com/users/9154880/david-l%c3%b3pez"}, "is_accepted": true, "score": 5, "last_activity_date": 1524665293, "creation_date": 1524665293, "answer_id": 50024433, "question_id": 50021677, "link": "https://stackoverflow.com/questions/50021677/how-to-speed-up-optimize-ionic-mobile-app-android/50024433#50024433", "title": "How to speed up / optimize ionic mobile app (android)?", "body": "<p>Ionic guys are working hard so the 4.0 version of Ionic gets faster. Just check <a href=\"https://twitter.com/manucorporat/status/977135513797910530\" rel=\"noreferrer\">this tweet</a> from one of the Ionic's core developers to see the performance improvements in 4.0 alpha versions.</p>\n\n<p>I also recommend you to build your .apk in an optimized way. This is the command I use in order to build the .apk for production, which <strong>makes the app faster and smaller</strong>:</p>\n\n<p><code>ionic cordova build android --prod --aot --minifyjs --minifycss --optimizejs --release</code></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7184659"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3163, "favorite_count": 0, "accepted_answer_id": 50024433, "answer_count": 2, "score": 1, "last_activity_date": 1524665293, "creation_date": 1524657239, "question_id": 50021677, "link": "https://stackoverflow.com/questions/50021677/how-to-speed-up-optimize-ionic-mobile-app-android", "title": "How to speed up / optimize ionic mobile app (android)?", "body": "<p>It takes a long time to start/load the app. And Also when I navigate to pages there is a delay of 2,3 seconds. Overall it is slower than normal android Apps. How do I reduce loading time and speed up the App for Android?</p>\n"}, {"tags": ["angular", "typescript", "viewchild"], "comments": [{"owner": {"reputation": 12274, "user_id": 3665878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16ee09d7771cf9f7f66e1701c8e61cdc?s=128&d=identicon&r=PG", "display_name": "Martin Ad&#225;mek", "link": "https://stackoverflow.com/users/3665878/martin-ad%c3%a1mek"}, "edited": false, "score": 0, "creation_date": 1524661063, "post_id": 50021442, "comment_id": 87061970, "body": "Your code is working, see it in action here: <a href=\"https://stackblitz.com/edit/angular-6mszhb?file=app%2Fapp.component.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-6mszhb?file=app%2Fapp.component.&zwnj;&#8203;ts</a>"}], "answers": [{"tags": [], "owner": {"reputation": 480, "user_id": 1251367, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/SzyUu.jpg?s=128&g=1", "display_name": "mahesh kajale", "link": "https://stackoverflow.com/users/1251367/mahesh-kajale"}, "is_accepted": false, "score": 0, "last_activity_date": 1524658302, "creation_date": 1524658302, "answer_id": 50022021, "question_id": 50021442, "link": "https://stackoverflow.com/questions/50021442/angular-4-viewchild-set-focus/50022021#50022021", "title": "Angular 4: Viewchild set focus", "body": "<p>I also have the same problem tried multiple ways but not worked.\nfinally, I used javascript code to focus on given HTML element with attribute id.</p>\n\n<pre><code>function focusInputelement(id) {\n        window.setTimeout(() =&gt; {\n              document.getElementById(id).focus();\n        }, 500);\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1208, "user_id": 9599284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilUkz.png?s=128&g=1", "display_name": "Gelso77", "link": "https://stackoverflow.com/users/9599284/gelso77"}, "edited": false, "score": 0, "creation_date": 1524664046, "post_id": 50023050, "comment_id": 87064003, "body": "thank you so much  i really appreciate , but from my side i have this error NgtableComponent.html:38 ERROR TypeError: Cannot read property &#39;nativeElement&#39; of undefined, maybe because i am working with a modal page ?"}, {"owner": {"reputation": 12274, "user_id": 3665878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16ee09d7771cf9f7f66e1701c8e61cdc?s=128&d=identicon&r=PG", "display_name": "Martin Ad&#225;mek", "link": "https://stackoverflow.com/users/3665878/martin-ad%c3%a1mek"}, "reply_to_user": {"reputation": 1208, "user_id": 9599284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilUkz.png?s=128&g=1", "display_name": "Gelso77", "link": "https://stackoverflow.com/users/9599284/gelso77"}, "edited": false, "score": 0, "creation_date": 1524664263, "post_id": 50023050, "comment_id": 87064152, "body": "well without the code its hard to tell. try to reproduce that error in stackblitz"}], "tags": [], "owner": {"reputation": 12274, "user_id": 3665878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16ee09d7771cf9f7f66e1701c8e61cdc?s=128&d=identicon&r=PG", "display_name": "Martin Ad&#225;mek", "link": "https://stackoverflow.com/users/3665878/martin-ad%c3%a1mek"}, "is_accepted": false, "score": 0, "last_activity_date": 1524661180, "creation_date": 1524661180, "answer_id": 50023050, "question_id": 50021442, "link": "https://stackoverflow.com/questions/50021442/angular-4-viewchild-set-focus/50023050#50023050", "title": "Angular 4: Viewchild set focus", "body": "<p>Your code is working, you can see it in action here: </p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-6mszhb?file=app%2Fapp.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-6mszhb?file=app%2Fapp.component.ts</a></p>\n\n<p>I bet your problem is just opened developer console, that steals the focus right after page is loaded. Try to open that stackblitz with developer console closed (works), than open the console (and have it focused, so your cursor is blinking there) and refresh the page (will not work). </p>\n"}], "owner": {"reputation": 1208, "user_id": 9599284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilUkz.png?s=128&g=1", "display_name": "Gelso77", "link": "https://stackoverflow.com/users/9599284/gelso77"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1838, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1524661180, "creation_date": 1524656587, "question_id": 50021442, "link": "https://stackoverflow.com/questions/50021442/angular-4-viewchild-set-focus", "title": "Angular 4: Viewchild set focus", "body": "<p>I'm trying to control the button focus without using the tag autofocus=true, but it seems that doesn't work properly, do you think is necessary a pipe?</p>\n\n<pre><code> &lt;button #btn_focus&gt;\n\n @ViewChild('btn_focus') firstNameElement: ElementRef;\n\n  ngAfterViewInit(){\n    this.firstNameElement.nativeElement.focus();\n  }\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 3567, "user_id": 4019871, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7db9ac6bdc0a996dd01da64b3660f8b6?s=128&d=identicon&r=PG&f=1", "display_name": "Mas Bagol", "link": "https://stackoverflow.com/users/4019871/mas-bagol"}, "edited": false, "score": 0, "creation_date": 1524654269, "post_id": 50020614, "comment_id": 87056950, "body": "Could you be more specific, where should I put that file? Say, all my typescript codes is under <code>src&#47;</code> directory, where should I put that file?"}, {"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 0, "creation_date": 1524654313, "post_id": 50020614, "comment_id": 87056972, "body": "Notice: In the definition file, the author must wrap the exported members in: <code>declare module &quot;xyz&quot; { ... }</code>."}, {"owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "reply_to_user": {"reputation": 3567, "user_id": 4019871, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7db9ac6bdc0a996dd01da64b3660f8b6?s=128&d=identicon&r=PG&f=1", "display_name": "Mas Bagol", "link": "https://stackoverflow.com/users/4019871/mas-bagol"}, "edited": false, "score": 1, "creation_date": 1524654551, "post_id": 50020614, "comment_id": 87057117, "body": "@MasBagol, put it under <code>src&#47;</code>, yes. You can also add a folder <code>types</code> under you <code>src</code> if you want, it doesn&#39;t matter. And no, you don&#39;t need to &#39;export&#39; anything, as it is an ambient declaration file."}, {"owner": {"reputation": 3567, "user_id": 4019871, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7db9ac6bdc0a996dd01da64b3660f8b6?s=128&d=identicon&r=PG&f=1", "display_name": "Mas Bagol", "link": "https://stackoverflow.com/users/4019871/mas-bagol"}, "edited": false, "score": 0, "creation_date": 1524654906, "post_id": 50020614, "comment_id": 87057354, "body": "Ah, okay. Thanks :)"}, {"owner": {"reputation": 1298, "user_id": 169359, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/573b9499030e1ccb867ef80f0ff1ac49?s=128&d=identicon&r=PG", "display_name": "Justin Bailey", "link": "https://stackoverflow.com/users/169359/justin-bailey"}, "edited": false, "score": 0, "creation_date": 1578349173, "post_id": 50020614, "comment_id": 105402790, "body": "Very important that the file begin with  ``` declare module &#39;&lt;module name&gt;&#39;; ```"}], "tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": true, "score": 4, "last_activity_date": 1524654109, "creation_date": 1524654109, "answer_id": 50020614, "question_id": 50020575, "link": "https://stackoverflow.com/questions/50020575/how-to-use-a-local-typescript-declaration-file-for-an-installed-module/50020614#50020614", "title": "How to use a local typescript declaration file for an installed module?", "body": "<p>Just add a <code>&lt;module-name&gt;.d.ts</code> file to your project, and TypeScript should become aware of it automatically. You don't need to import it or anything, just to be in the folders processed by TypeScript</p>\n"}, {"tags": [], "owner": {"reputation": 2321, "user_id": 2535356, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8517bb7eb580d6bed728339d79ba5d1d?s=128&d=identicon&r=PG", "display_name": "transporter_room_3", "link": "https://stackoverflow.com/users/2535356/transporter-room-3"}, "is_accepted": false, "score": 0, "last_activity_date": 1524654750, "creation_date": 1524654750, "answer_id": 50020832, "question_id": 50020575, "link": "https://stackoverflow.com/questions/50020575/how-to-use-a-local-typescript-declaration-file-for-an-installed-module/50020832#50020832", "title": "How to use a local typescript declaration file for an installed module?", "body": "<p>Does your project include a <code>tsconfig.json</code> file? If so you can specifiy paths to type definitions under the compilerOptions:</p>\n\n<pre><code>{\n   \"compilerOptions\": {\n       \"typeRoots\" : [\"./typings\"]\n   }\n}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html\" rel=\"nofollow noreferrer\">About 'tsconfig.json' in the TypeScript handbook</a></p>\n"}], "owner": {"reputation": 3567, "user_id": 4019871, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7db9ac6bdc0a996dd01da64b3660f8b6?s=128&d=identicon&r=PG&f=1", "display_name": "Mas Bagol", "link": "https://stackoverflow.com/users/4019871/mas-bagol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2782, "favorite_count": 1, "accepted_answer_id": 50020614, "answer_count": 2, "score": 4, "last_activity_date": 1524654750, "creation_date": 1524653985, "question_id": 50020575, "link": "https://stackoverflow.com/questions/50020575/how-to-use-a-local-typescript-declaration-file-for-an-installed-module", "title": "How to use a local typescript declaration file for an installed module?", "body": "<p>When I installed a non popular module that doesn't have a published type declaration under <code>@types</code> namespace, I'm stuck. I know how to write a declaration file, but I don't know how to make typescript compiler aware of it. The typescript <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-files/introduction.html\" rel=\"nofollow noreferrer\">documentation</a> doesn't mention how to do it. The docs only mention to search for type declaration and if not found, publish a new one but doesn't mention how to do it without publishing.</p>\n\n<p>So, say I installed a package named <code>xyz</code> and I know the public api that it exposes. Then, I write a type declaration file that matches the exposed api. Then, How to make typescript compiler aware of it?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1524653132, "post_id": 50019920, "comment_id": 87056272, "body": "There&#39;s no such an option in javascript/typescript. You&#39;ll need to normalize (e.g. <code>toUpperCase</code>) before you put something and when you test for existence. You can write a wrapper that encapsulates these oprations."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1524653640, "post_id": 50019920, "comment_id": 87056544, "body": "Should original case be preserved? (to be available as <code>.keys()</code>, etc)"}, {"owner": {"reputation": 1367, "user_id": 1262566, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RF0Wv.png?s=128&g=1", "display_name": "Devid", "link": "https://stackoverflow.com/users/1262566/devid"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1524653679, "post_id": 50019920, "comment_id": 87056566, "body": "@estus no the original case is not important"}], "answers": [{"tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 12, "last_activity_date": 1575897578, "last_edit_date": 1575897578, "creation_date": 1524658868, "answer_id": 50022230, "question_id": 50019920, "link": "https://stackoverflow.com/questions/50019920/javascript-map-key-value-pairs-case-insensitive-search/50022230#50022230", "title": "JavaScript Map key-value pairs case insensitive search", "body": "<p><code>Map</code> doesn't support this behaviour. It can be extended in order for keys to be stored and looked up in case-insensitive fashion. Since <code>Map</code> internally uses <code>set</code> on construction, it's the only method that needs to be augmented.</p>\n\n<p>It's straightforward with TypeScript <code>es6</code> or higher target because ES6 built-in classes support <code>extends</code>:</p>\n\n<pre><code>class CaseInsensitiveMap&lt;T, U&gt; extends Map&lt;T, U&gt; {    \n  set (key: T, value: U): this {\n    if (typeof key === 'string') {\n      key = &lt;T&gt;&lt;any&gt;key.toLowerCase();\n    }\n    return super.set(key, value);\n  }\n}\n</code></pre>\n\n<p>Native classes should be treated in a special way when being extended in TypeScript with <code>es5</code> target:</p>\n\n<pre><code>interface CaseInsensitiveMap&lt;T, U&gt; extends Map&lt;T, U&gt; {} \nclass CaseInsensitiveMap&lt;T, U&gt; {\n  constructor(entries?: Array&lt;[T, U]&gt; | Iterable&lt;[T, U]&gt;) {\n    return Reflect.construct(Map, arguments, CaseInsensitiveMap);\n  }\n\n  set (key: T, value: U): this {\n    if (typeof key === 'string') {\n      key = &lt;T&gt;&lt;any&gt;key.toLowerCase();\n    }\n    return Map.prototype.set.call(this, key, value) as this;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1367, "user_id": 1262566, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RF0Wv.png?s=128&g=1", "display_name": "Devid", "link": "https://stackoverflow.com/users/1262566/devid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2825, "favorite_count": 0, "accepted_answer_id": 50022230, "answer_count": 1, "score": 5, "last_activity_date": 1575897578, "creation_date": 1524652073, "question_id": 50019920, "link": "https://stackoverflow.com/questions/50019920/javascript-map-key-value-pairs-case-insensitive-search", "title": "JavaScript Map key-value pairs case insensitive search", "body": "<p>I am using the Map dictionary in TypeScript and I want to have the get and has properties to work case insensitive. How can I make this work ?</p>\n\n<pre><code>    let envVariables = new Map&lt;string, string&gt;();\n    envVariables.set('OS', 'Windows_NT');\n    envVariables.set('USERNAME', 'SYSTEM');\n    if (this.envVariables.has('UserName')) {\n      // this should work with case insensitive search\n    }\n</code></pre>\n\n<p>In C# the Dictionary constructor just needs the StringComparer.OrdinalIgnoreCase and then the dictionary will be case insensitive. </p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 1530, "user_id": 3928819, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100000142896793/picture?type=large", "display_name": "cdagli", "link": "https://stackoverflow.com/users/3928819/cdagli"}, "edited": false, "score": 0, "creation_date": 1524838903, "post_id": 50019789, "comment_id": 87145554, "body": "I guess you already solved this issue by using this: <a href=\"https://gist.github.com/rifler/39fdcd92e78505bbc94dc5b9f845292b\" rel=\"nofollow noreferrer\">gist.github.com/rifler/39fdcd92e78505bbc94dc5b9f845292b</a> Maybe you can share it as an answer."}], "owner": {"reputation": 120, "user_id": 2257975, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/1e44c3ba3e1c3dfb79f9b5f76cdc6e4c?s=128&d=identicon&r=PG", "display_name": "Dmitriy Kanatnikov", "link": "https://stackoverflow.com/users/2257975/dmitriy-kanatnikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 563, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1592510766, "creation_date": 1524651650, "last_edit_date": 1524729975, "question_id": 50019789, "link": "https://stackoverflow.com/questions/50019789/how-to-compile-typescript-modules-with-baseurl-paths-settings-in-tsconfig", "title": "How to compile typescript modules with baseUrl/paths settings in tsconfig", "body": "<p>I develop components library distributed via npm and actively use <code>baseUrl</code> setting in tsconfig. It is really great, so I can easily write</p>\n\n<pre><code>// &lt;prjRoot&gt;/src/some/deeply/nested/module\nimport { Component } from 'components';\n</code></pre>\n\n<p>instead of horrible</p>\n\n<pre><code>// &lt;prjRoot&gt;/src/some/deeply/nested/module\nimport { Component } from '../../../src/components';\n</code></pre>\n\n<p>Also, I distribute not compiled bundle, but pure separate es6 modules. I have main <code>index.ts</code> file with reexports like this</p>\n\n<pre><code>export * from './src/components';\nexport * from './src/another-dir-components';\n</code></pre>\n\n<p>And here comes the time to build package and publish it to npm - TS doesn't replace paths to relative. Users get an error like \"Cannot find module 'components'\", because their TypeScript (or they may not use TS at all) or Webpack doesn't know anything about my baseUrl setting.</p>\n\n<p>There is a solution via babel - <a href=\"https://www.npmjs.com/package/babel-plugin-module-resolver\" rel=\"nofollow noreferrer\">babel-plugin-module-resolver</a></p>\n\n<p>It works, but only for code. If I have such code</p>\n\n<pre><code>import { Component } from 'components'; // actually &lt;prjRoot&gt;/src/components/index.ts\nimport { SomeInterface } from 'typings'; // &lt;prjRoot&gt;/src/typings/index.ts\n...\nexport default Klass extends React.Component {}\n</code></pre>\n\n<p>I will get</p>\n\n<p><strong>file.js</strong>. TS kicked off all about types (e.g. <code>import { SomeInterface }</code>), then Babel transpiles code and replace <code>from 'components'</code> on <code>from '../../../components'</code>. Great:</p>\n\n<pre><code>import { Component } from '../../../components';\n...\n/*#__PURE__*/\nvar Klass = (function (React.Component) {...transpiled babel code...})(React.Component);\nexport { Klass as default }\n</code></pre>\n\n<p><strong>file.d.ts</strong> (still NOT relative path, will be error):</p>\n\n<pre><code>import { SomeInterface } from 'typings';\n...\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6", "ecmascript-5"], "answers": [{"tags": [], "owner": {"reputation": 3778, "user_id": 7513718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba452a56d54ef4303c0942266d091fd1?s=128&d=identicon&r=PG&f=1", "display_name": "El Aoutar Hamza", "link": "https://stackoverflow.com/users/7513718/el-aoutar-hamza"}, "is_accepted": false, "score": 1, "last_activity_date": 1524651474, "creation_date": 1524651474, "answer_id": 50019723, "question_id": 50019520, "link": "https://stackoverflow.com/questions/50019520/how-to-remove-properties-from-object-jasvscript/50019723#50019723", "title": "How to remove properties from Object Jasvscript?", "body": "<p>You can do it recursively like so :</p>\n\n<pre><code>const deleteProperties = obj =&gt; {\n    Object.keys(obj).forEach(prop =&gt; {\n        if (obj[prop] === '' || obj[prop] === null || obj[prop] === undefined) {\n            delete obj[prop];\n        } else if (typeof obj[prop] === 'object') {\n            deleteProperties(obj[prop]);\n        }\n    });\n}\n</code></pre>\n\n<p>In your example, <code>prop4</code> won't be removed since it's a <code>string</code></p>\n"}], "owner": {"reputation": 4169, "user_id": 4590613, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/uSEj6.jpg?s=128&g=1", "display_name": "Munna Babu", "link": "https://stackoverflow.com/users/4590613/munna-babu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524651474, "creation_date": 1524650862, "question_id": 50019520, "link": "https://stackoverflow.com/questions/50019520/how-to-remove-properties-from-object-jasvscript", "title": "How to remove properties from Object Jasvscript?", "body": "<p>i was trying to delete properties which has value empty or null or undefined from object. I am able to delete properties of first level properties. But some scenario property might contain another object and that object might contain another object. So almost like LINKED LIST. But i am not sure how to find second level object property values.</p>\n\n<p>For example</p>\n\n<pre><code>{\n  prop1: \"value1\",\n  prop2: { \n       secLevlProp1: \"value1\",\n       secLevlProp2: null,\n       secLevlProp3: { \n          secLev2Prop1: \"value1\",\n          secLev2Prop2: \"value2\",\n          secLev2Prop3: { \n                 secLev3Prop1: \"value1\",\n                 secLev3Prop2: \"\",\n                 secLev3Prop3: \"value3\",\n               }\n       },\n  }\n  prop3: [\n           { arrProp: \"values\", arrProp1: \"\" },\n           { arrProp: \"values2\", arrProp1: \"values4\" },\n  ],\n  prop4: \"undefined\",\n  prop5: \"value1\",\n}\n</code></pre>\n\n<p>from this above object expected output</p>\n\n<pre><code>   {\n      prop1: \"value1\",\n      prop2: { \n           secLevlProp1: \"value1\",\n           secLevlProp3: { \n              secLev2Prop1: \"value1\",\n              secLev2Prop2: \"value2\",\n              secLev2Prop3: { \n                     secLev3Prop1: \"value1\",\n                     secLev3Prop3: \"value3\",\n                   }\n           },\n      }\n      prop3: [\n               { arrProp: \"values\" },\n               { arrProp: \"values2\", arrProp1: \"values4\" },\n      ],\n      prop5: \"value1\",\n    }\n</code></pre>\n\n<p>this is what i tried</p>\n\n<pre><code>        Object.keys(myObj).forEach(prop=&gt; {\n            if (myObj[prop] === '' || myObj[prop] === null || myObj[prop] === undefined) {\n                delete myObj[prop];\n            }\n        });\n</code></pre>\n\n<p>this works fine on first level properties but how should i apply the above code on linked list concept on the above format object. Please someone help me on this.</p>\n"}, {"tags": ["node.js", "typescript", "google-cloud-firestore", "google-cloud-functions"], "answers": [{"comments": [{"owner": {"reputation": 1125, "user_id": 6124415, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dcf2e4e3a315e3b15b935b14c80d889c?s=128&d=identicon&r=PG&f=1", "display_name": "pb4now", "link": "https://stackoverflow.com/users/6124415/pb4now"}, "edited": false, "score": 0, "creation_date": 1524651217, "post_id": 50019484, "comment_id": 87055168, "body": "ty for that but error &quot;Property &#39;map&#39; does not exist on type &#39;QuerySnapshot&#39;&quot; is still there :s"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 1125, "user_id": 6124415, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dcf2e4e3a315e3b15b935b14c80d889c?s=128&d=identicon&r=PG&f=1", "display_name": "pb4now", "link": "https://stackoverflow.com/users/6124415/pb4now"}, "edited": false, "score": 0, "creation_date": 1524651890, "post_id": 50019484, "comment_id": 87055594, "body": "@pb4now Sorry about that, it seemed like a simple problem and I must admit I did not run the code. You have another issue in the code, namely the returned values are in the <code>docs</code> property"}, {"owner": {"reputation": 1125, "user_id": 6124415, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dcf2e4e3a315e3b15b935b14c80d889c?s=128&d=identicon&r=PG&f=1", "display_name": "pb4now", "link": "https://stackoverflow.com/users/6124415/pb4now"}, "edited": false, "score": 1, "creation_date": 1524652237, "post_id": 50019484, "comment_id": 87055805, "body": "great!!! that solved it! 3h of reainstalating every single thing and trying to figure it out. ty once again (y)"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1524651836, "last_edit_date": 1524651836, "creation_date": 1524650728, "answer_id": 50019484, "question_id": 50019304, "link": "https://stackoverflow.com/questions/50019304/node-firebase-functions-property-map-does-not-exist-on-type-promisequerysna/50019484#50019484", "title": "Node, firebase functions Property &#39;map&#39; does not exist on type &#39;Promise&lt;QuerySnapshot&gt;", "body": "<p><code>await</code> will be applied over the result of <code>map</code>, you are essentially calling :</p>\n\n<pre><code>const f = await (db.collection('companies').get().map(...))\n</code></pre>\n\n<p>You want to call <code>map</code> on the result of awaiting <code>get</code>, and you should add parenthesis to tell the compiler this is what you want tot do. Also you are probably looking for the <code>docs</code> property on the snapshot (which returns the results of the query)</p>\n\n<pre><code>const f = (await db.collection('companies').get()).docs.map(...)\n</code></pre>\n"}], "owner": {"reputation": 1125, "user_id": 6124415, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dcf2e4e3a315e3b15b935b14c80d889c?s=128&d=identicon&r=PG&f=1", "display_name": "pb4now", "link": "https://stackoverflow.com/users/6124415/pb4now"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1068, "favorite_count": 0, "accepted_answer_id": 50019484, "answer_count": 1, "score": 1, "last_activity_date": 1524651836, "creation_date": 1524650334, "question_id": 50019304, "link": "https://stackoverflow.com/questions/50019304/node-firebase-functions-property-map-does-not-exist-on-type-promisequerysna", "title": "Node, firebase functions Property &#39;map&#39; does not exist on type &#39;Promise&lt;QuerySnapshot&gt;", "body": "<p>Firstly that does not helps me: <a href=\"https://stackoverflow.com/questions/42693265/property-map-does-not-exist-on-type-observableresponse-when-using-angular\">property map does not exist</a> and importing 'rxjs' does nork either</p>\n\n<p>just testing using typescript with my functions and using \"async\" and \"await\" keywords for some reason I'm getting error when trying to use map here is my code(btw if the way I retriving data from firestore using \"await\" is incorrect I would be very greatfull if someone correct me) -could not find alot of examples that uses typescript/functions/firestore):</p>\n\n<pre><code>import * as functions from 'firebase-functions';\nimport * as admin from \"firebase-admin\";\n\nadmin.initializeApp(functions.config().firebase);\nlet db = admin.firestore();\n\nexport const helloWorld = functions.https.onRequest(\n  async (request, response) =&gt; {\n    try {\n      let t = await getEmployees()\n      response.send(\"yes\");\n    } catch (e) {\n      response.send('no')\n    }\n});\n\n\nasync function getEmployees(): Promise&lt;any&gt; {\n  try {\n    const f = await db.collection('companies').get().map(value =&gt; {\n        let id = value.id\n        return id;\n    })\n   } catch (e) {\n    return e;\n   }\n}\n</code></pre>\n\n<p>typescript Version 2.8.3</p>\n\n<p>package.json:</p>\n\n<pre><code>{\n\"name\": \"functions\",\n\"scripts\": {\n\"lint\": \"tslint --project tsconfig.json\",\n\"build\": \"tsc\",\n\"serve\": \"npm run build &amp;&amp; firebase serve --only functions\",\n\"shell\": \"npm run build &amp;&amp; firebase functions:shell\",\n\"start\": \"npm run shell\",\n\"deploy\": \"firebase deploy --only functions\",\n\"logs\": \"firebase functions:log\"\n},\n\"main\": \"lib/index.js\",\n\"dependencies\": {\n\"firebase-admin\": \"^5.12.0\",\n\"firebase-functions\": \"^1.0.1\"\n},\n\"devDependencies\": {\n\"tslint\": \"^5.8.0\",\n\"typescript\": \"2.8.3\"\n  },\n\"private\": true\n}\n</code></pre>\n"}, {"tags": ["typescript", "signalr", "core"], "comments": [{"owner": {"reputation": 911, "user_id": 6263514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1eb773f7db0e32093667e1479b360694?s=128&d=identicon&r=PG&f=1", "display_name": "Frank M", "link": "https://stackoverflow.com/users/6263514/frank-m"}, "edited": false, "score": 0, "creation_date": 1524659172, "post_id": 50018971, "comment_id": 87060491, "body": "You cannot mix the old and new. See my answer here: <a href=\"https://stackoverflow.com/questions/49152486/signalr-version-compatability-statuscode-405-method-not-allowed/49153217?noredirect=1#comment85435635_49153217\" title=\"signalr version compatability statuscode 405 method not allowed\">stackoverflow.com/questions/49152486/&hellip;</a>"}, {"owner": {"reputation": 37, "user_id": 1164558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed0e11b3f854716400d386fa7174106b?s=128&d=identicon&r=PG", "display_name": "user1164558", "link": "https://stackoverflow.com/users/1164558/user1164558"}, "reply_to_user": {"reputation": 911, "user_id": 6263514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1eb773f7db0e32093667e1479b360694?s=128&d=identicon&r=PG&f=1", "display_name": "Frank M", "link": "https://stackoverflow.com/users/6263514/frank-m"}, "edited": false, "score": 0, "creation_date": 1524722962, "post_id": 50018971, "comment_id": 87087742, "body": "I am not trying to mix old and new. problem is that the server is using old tech, but the new app is .net core. so I need a way to connect to the old server using the new UI app that is written in .net core"}, {"owner": {"reputation": 911, "user_id": 6263514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1eb773f7db0e32093667e1479b360694?s=128&d=identicon&r=PG&f=1", "display_name": "Frank M", "link": "https://stackoverflow.com/users/6263514/frank-m"}, "edited": false, "score": 0, "creation_date": 1524746397, "post_id": 50018971, "comment_id": 87102396, "body": "Then I think you need to clarify your question or at least provide some additional information. What do you mean &quot;install an older version of the SignalR client into our .net Core application&quot;?"}, {"owner": {"reputation": 37, "user_id": 1164558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed0e11b3f854716400d386fa7174106b?s=128&d=identicon&r=PG", "display_name": "user1164558", "link": "https://stackoverflow.com/users/1164558/user1164558"}, "reply_to_user": {"reputation": 911, "user_id": 6263514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1eb773f7db0e32093667e1479b360694?s=128&d=identicon&r=PG&f=1", "display_name": "Frank M", "link": "https://stackoverflow.com/users/6263514/frank-m"}, "edited": false, "score": 0, "creation_date": 1524750123, "post_id": 50018971, "comment_id": 87105275, "body": "I have retrofitted the jquery.signalR-2.2.3.js file into our .net core Angular5 UI project and can connect with the legacy system. Seems to do the trick."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 1164558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed0e11b3f854716400d386fa7174106b?s=128&d=identicon&r=PG", "display_name": "user1164558", "link": "https://stackoverflow.com/users/1164558/user1164558"}, "edited": false, "score": 0, "creation_date": 1524722983, "post_id": 50026443, "comment_id": 87087748, "body": "I am not trying to mix old and new. problem is that the server is using old tech, but the new app is .net core. so I need a way to connect to the old server using the new UI app that is written in .net core"}], "tags": [], "owner": {"reputation": 312, "user_id": 2589756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBjs2.jpg?s=128&g=1", "display_name": "Mikael Mengistu", "link": "https://stackoverflow.com/users/2589756/mikael-mengistu"}, "is_accepted": false, "score": 0, "last_activity_date": 1524671316, "creation_date": 1524671316, "answer_id": 50026443, "question_id": 50018971, "link": "https://stackoverflow.com/questions/50018971/connect-to-old-signalr-server-from-net-core-ui/50026443#50026443", "title": "Connect to Old SignalR server from .Net core UI", "body": "<p>You can't mix and match version of the SignalR server and client. For SignalR if you're using the ASP.NET Core on the server then you have to use it on the client as well.</p>\n\n<p>From the <a href=\"https://blogs.msdn.microsoft.com/webdev/2017/09/14/announcing-signalr-for-asp-net-core-2-0/\" rel=\"nofollow noreferrer\">MSDN SignalR alpha blog post</a></p>\n\n<blockquote>\n  <p>SignalR for ASP.NET Core is not compatible with previous versions of SignalR. This means that you cannot use the old server with the new clients or the old clients with the new server.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 37, "user_id": 1164558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed0e11b3f854716400d386fa7174106b?s=128&d=identicon&r=PG", "display_name": "user1164558", "link": "https://stackoverflow.com/users/1164558/user1164558"}, "is_accepted": false, "score": 0, "last_activity_date": 1524750169, "creation_date": 1524750169, "answer_id": 50044585, "question_id": 50018971, "link": "https://stackoverflow.com/questions/50018971/connect-to-old-signalr-server-from-net-core-ui/50044585#50044585", "title": "Connect to Old SignalR server from .Net core UI", "body": "<p>I have retrofitted the jquery.signalR-2.2.3.js file into our .net core Angular5 UI project and can connect with the legacy system.</p>\n"}], "owner": {"reputation": 37, "user_id": 1164558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed0e11b3f854716400d386fa7174106b?s=128&d=identicon&r=PG", "display_name": "user1164558", "link": "https://stackoverflow.com/users/1164558/user1164558"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 469, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1524750169, "creation_date": 1524649396, "question_id": 50018971, "link": "https://stackoverflow.com/questions/50018971/connect-to-old-signalr-server-from-net-core-ui", "title": "Connect to Old SignalR server from .Net core UI", "body": "<p>We have an existing SignalR server running on a 4.6.2 framework using Microsoft.AspNet.SignalR 2.2.1.</p>\n\n<p>We have a new UI application running .net Core/Angular5/Typescript. The @aspnet/signalr client uses the new protocol and can't connect to our existing SignalR server. Is there a way for us to install an older version of the SignalR client into our .net Core application and still be able to connect to the old Server?</p>\n"}, {"tags": ["angular", "typescript", "angular2-routing", "angular-router"], "comments": [{"owner": {"reputation": 13005, "user_id": 5594389, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/pe2h9.jpg?s=128&g=1", "display_name": "Tomasz Kula", "link": "https://stackoverflow.com/users/5594389/tomasz-kula"}, "edited": false, "score": 0, "creation_date": 1524649491, "post_id": 50018947, "comment_id": 87053992, "body": "Do you have  <code>&lt;router-outlet&gt;</code>s in both <code>ProductsOverviewComponent</code> and <code>OverviewComponent</code>?"}, {"owner": {"reputation": 3130, "user_id": 4521705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c3f755da9707fe0f67ad5679df8d9df5?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Fitzsimons", "link": "https://stackoverflow.com/users/4521705/steve-fitzsimons"}, "reply_to_user": {"reputation": 13005, "user_id": 5594389, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/pe2h9.jpg?s=128&g=1", "display_name": "Tomasz Kula", "link": "https://stackoverflow.com/users/5594389/tomasz-kula"}, "edited": false, "score": 0, "creation_date": 1524649572, "post_id": 50018947, "comment_id": 87054053, "body": "No I assumed that if no child router outlets present it would use the primary"}, {"owner": {"reputation": 13005, "user_id": 5594389, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/pe2h9.jpg?s=128&g=1", "display_name": "Tomasz Kula", "link": "https://stackoverflow.com/users/5594389/tomasz-kula"}, "edited": false, "score": 0, "creation_date": 1524649776, "post_id": 50018947, "comment_id": 87054201, "body": "<a href=\"https://angular.io/guide/router#child-route-configuration\" rel=\"nofollow noreferrer\">angular.io/guide/router#child-route-configuration</a>"}, {"owner": {"reputation": 3130, "user_id": 4521705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c3f755da9707fe0f67ad5679df8d9df5?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Fitzsimons", "link": "https://stackoverflow.com/users/4521705/steve-fitzsimons"}, "reply_to_user": {"reputation": 13005, "user_id": 5594389, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/pe2h9.jpg?s=128&g=1", "display_name": "Tomasz Kula", "link": "https://stackoverflow.com/users/5594389/tomasz-kula"}, "edited": false, "score": 0, "creation_date": 1524649999, "post_id": 50018947, "comment_id": 87054382, "body": "Is there any way to get a nested route structure like mine but use the main router outlet? I need the nested structure for the breadcrumbs but I need it to use the main router outlet. I&#39;ve tried specifying the outlet in the route config but no luck"}, {"owner": {"reputation": 13005, "user_id": 5594389, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/pe2h9.jpg?s=128&g=1", "display_name": "Tomasz Kula", "link": "https://stackoverflow.com/users/5594389/tomasz-kula"}, "edited": false, "score": 0, "creation_date": 1524650170, "post_id": 50018947, "comment_id": 87054481, "body": "Unfortunately, as far as I know, <code>children</code> property must be combined with nested <code>&lt;router-outlet&gt;</code>."}, {"owner": {"reputation": 1002, "user_id": 8757350, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Oqs6a.jpg?s=128&g=1", "display_name": "G.Vitelli", "link": "https://stackoverflow.com/users/8757350/g-vitelli"}, "edited": false, "score": 0, "creation_date": 1524657581, "post_id": 50018947, "comment_id": 87059255, "body": "You need the router-outlet tag in the component html, because the router-outlet is the <b>placeholder</b> for the child route component, what you can do for your breadcrumb is to inject the router into the parent and listen for route changes."}], "owner": {"reputation": 3130, "user_id": 4521705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c3f755da9707fe0f67ad5679df8d9df5?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Fitzsimons", "link": "https://stackoverflow.com/users/4521705/steve-fitzsimons"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1297, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1524649332, "creation_date": 1524649332, "question_id": 50018947, "link": "https://stackoverflow.com/questions/50018947/angular-5-components-not-displaying-for-child-routes", "title": "Angular 5 components not displaying for child routes", "body": "<p>I have a series of nested components </p>\n\n<p>Main app component -> products-> product groups </p>\n\n<p>app-routing module routes</p>\n\n<pre><code>const routes: Routes = [\n  {\n    path: '',\n    redirectTo: environment.devRedirect,\n    pathMatch: 'full',\n    canActivate: [AuthenticationGuard]\n  },\n  {\n    path: 'customers/:customerId/contracts/:contractId',\n    loadChildren: './products/products-routing.module#ProductsRoutingModule',\n    canActivate: [AuthenticationGuard],\n    data: {\n      breadcrumb: null,\n      animation: 'products'\n    }\n  }\n];\n</code></pre>\n\n<p>My products routes looks like</p>\n\n<pre><code>const routes: Routes = [\n\n  {\n    path: '',\n    component: ProductsOverviewComponent,\n    data: {\n      animation: 'overview',\n      breadcrumb: 'Products',\n    },\n    canActivate: [ AuthenticationGuard ],\n    children: [\n      {\n        path: 'products/:productId/grouping',\n        loadChildren: '../grouping/grouping-routing.module#GroupingRoutingModule',\n        data: {\n          breadcrumb: null,\n          animation: 'grouping'\n        },\n        canActivate: [ AuthenticationGuard ]\n      },\n      {\n        path: 'create',\n        component: ProductsComponent,\n        data: {\n          breadcrumb: 'Create',\n          animation: 'create'\n        },\n        canActivate: [ AuthenticationGuard ]\n      },\n      {\n        path: 'edit/:productId',\n        component: QuoteOptionComponent,\n        data: {\n          breadcrumb: 'Edit',\n          animation: 'edit' },\n        canActivate: [ AuthenticationGuard ]\n      }\n    ]\n  }\n];\n</code></pre>\n\n<p>And then in my product grouping module</p>\n\n<pre><code>const routes: Routes = [\n  {\n    path: '',\n    component: OverviewComponent,\n    canActivate: [ AuthenticationGuard ],\n    data: {\n      breadcrumb: 'Grouping',\n      animation: 'grouping-overview',\n    },\n    children: [\n      {\n        path: 'create',\n        component: CreateEditComponent,\n        data: {\n          breadcrumb: 'Create',\n          animation: 'group-create'\n        },\n        canActivate: [ AuthenticationGuard ]\n      },\n      {\n        path: ':groupId/edit',\n        component: CreateEditComponent,\n        data: {\n          breadcrumb: 'Edit Group Info',\n          animation: 'group-edit'\n        },\n        canActivate: [ AuthenticationGuard ]\n\n    ]\n  }\n];\n</code></pre>\n\n<p>All my routerlinks work and the url path updates and any data inside the router is pulled back for each route. My problem is that the component for each of the routes is never displayed. Am I missing something here or how do I get the components to display in the main router outlet?</p>\n"}, {"tags": ["angular", "typescript", "pdf", "download", "blob"], "answers": [{"comments": [{"owner": {"reputation": 185, "user_id": 4359114, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/4uSJM.jpg?s=128&g=1", "display_name": "Shashank S Chandel", "link": "https://stackoverflow.com/users/4359114/shashank-s-chandel"}, "edited": false, "score": 1, "creation_date": 1611554380, "post_id": 55528815, "comment_id": 116479198, "body": "The changes you mentioned works well for me, but I wanted to understand why it is necessary to convert to ToBase64String instead of returning the byte array."}], "tags": [], "owner": {"reputation": 101, "user_id": 1382296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5648bf1176bf3fb2b69418d6e9354bde?s=128&d=identicon&r=PG", "display_name": "Sangamesh Arali", "link": "https://stackoverflow.com/users/1382296/sangamesh-arali"}, "is_accepted": false, "score": 2, "last_activity_date": 1554442558, "creation_date": 1554442558, "answer_id": 55528815, "question_id": 50018660, "link": "https://stackoverflow.com/questions/50018660/error-failed-to-load-pdf-document-angular5/55528815#55528815", "title": "Error Failed to load PDF document. (Angular5)", "body": "<p>Follow the below steps to resolve the issue.</p>\n\n<p>Step 1. Convert your byte array to base64 string in your API like below</p>\n\n<pre><code>[HttpGet(\"Downloadpdf/{SessionKey}\")]\n        public IActionResult Downloadpdf(string SessionKey)\n        {\n            Byte[] pdf = null;\n            try\n            {\n                pdf = PDFService.Downloadpdf(SessionKey);//Here you need to modify and get byte array like byte[]\n                string pdfBase64 = Convert.ToBase64String(pdf);\n                return Ok(pdfBase64);\n            }\n            catch (Exception ex)\n            {\n                throw ex;\n            }\n        }\n</code></pre>\n\n<p>step 2. Add a below function to convert from base64 string to ArrayBuffer in .ts file</p>\n\n<pre><code>base64ToArrayBuffer(base64:any):ArrayBuffer {\n      var binary_string =  window.atob(base64);\n      var len = binary_string.length;\n      var bytes = new Uint8Array( len );\n      for (var i = 0; i &lt; len; i++)        {\n          bytes[i] = binary_string.charCodeAt(i);\n      }\n      return bytes.buffer;\n  }\n</code></pre>\n\n<p>step 3. Call step2 function in your custom function for button click event</p>\n\n<pre><code>let sessionKey: any =\"sessiontoken\";\n      this.pdfService.downloadpdf(sessionKey).subscribe((data: any) =&gt; {\n        var byteArray = this.base64ToArrayBuffer(data);\n        let blob: any = new Blob([byteArray], { type: 'application/octet-stream' });\n        saveAs(blob, 'Report.pdf',true);\n      },\n      (error: HttpErrorResponse) =&gt; {\n        console.log(error)\n    });\n</code></pre>\n"}], "owner": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3213, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1554442558, "creation_date": 1524648551, "question_id": 50018660, "link": "https://stackoverflow.com/questions/50018660/error-failed-to-load-pdf-document-angular5", "title": "Error Failed to load PDF document. (Angular5)", "body": "<p>I am trying to get PDF document from Web API, and want to show in Angular App. Getting \"Failed to load PDF document error\".  </p>\n\n<p>Please follow my code:</p>\n\n<p>My service.ts</p>\n\n<pre><code>public download_pdf(id: string): Observable&lt;any&gt; {\n        let params = new URLSearchParams();\n        let headers = new Headers();\n        headers.append('x-access-token', this.auth.getCurrentUser().token);\n        headers.append('id', id);\n        return this.http.get(Api.getUrl(Api.URLS.download_pdf), {\n          headers: headers,\n          responseType: ResponseContentType.ArrayBuffer,\n\n        }).map(\n          response =&gt; (&lt;Response&gt;response).blob())\n    }\n</code></pre>\n\n<p>My component.ts</p>\n\n<pre><code>  downloadFile2(id) {\n    this.ws.download_pdf(id).subscribe(\n      (response) =&gt; {\n        let mediaType = 'application/pdf';\n        let blob = new Blob([response._body], {type: mediaType});\n        let filename = 'test.pdf';\n        FileSaver.saveAs(blob, filename);\n      });\n  }\n</code></pre>\n\n<p>Template.html</p>\n\n<pre><code>  &lt;button&gt;\n   &lt;i class=\"fa fa-save\" aria-hidden=\"true\"(click)=\"downloadFile2(item.id)\"&gt;&lt;/i&gt;\n  &lt;/button&gt;\n</code></pre>\n\n<blockquote>\n  <p>Result is: download a test.pdf --> Error Failed to load PDF document.</p>\n</blockquote>\n"}, {"tags": ["class", "typescript", "ecmascript-5"], "answers": [{"tags": [], "owner": {"reputation": 1912, "user_id": 1223773, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aac75b053e30063b9e2663274b051fac?s=128&d=identicon&r=PG", "display_name": "burtek", "link": "https://stackoverflow.com/users/1223773/burtek"}, "is_accepted": false, "score": 0, "last_activity_date": 1524648507, "creation_date": 1524648507, "answer_id": 50018643, "question_id": 50018642, "link": "https://stackoverflow.com/questions/50018642/extending-request-in-typescript-compiles-to-es5-with-typeerror/50018643#50018643", "title": "Extending Request in typescript compiles to ES5 with TypeError", "body": "<p>The solution that finally worked is to wrap <code>Request</code> with a class-like function:</p>\n\n<pre><code>export const RequestWrapper: RequestWrapper = function(url: string, initialData?: any) {\n    return new Request(url, initialData);\n} as any;\n\nexport interface RequestWrapper extends Request {\n    (url: string, initialData?: any): Request;\n    new (url: string, initialData?: any): Request;\n}\n</code></pre>\n\n<p>Then just extend <code>RequestWrapper</code> rather than <code>Request</code>:</p>\n\n<pre><code>export class ApiRequest extends RequestWrapper {\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 1912, "user_id": 1223773, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aac75b053e30063b9e2663274b051fac?s=128&d=identicon&r=PG", "display_name": "burtek", "link": "https://stackoverflow.com/users/1223773/burtek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 115, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524648507, "creation_date": 1524648507, "question_id": 50018642, "link": "https://stackoverflow.com/questions/50018642/extending-request-in-typescript-compiles-to-es5-with-typeerror", "title": "Extending Request in typescript compiles to ES5 with TypeError", "body": "<p>I'm trying to extend <code>Request</code> class in Typescript as follows:</p>\n\n<pre><code>export class ApiRequest extends Request {\n    static userAgentHeader: string = '';\n    static xUserAgentHeader: string = '';\n\n    public body: string;\n\n    constructor(url: string, initialData?: any) {\n        super(url, initialData);\n\n        if (this.method !== 'GET') {\n            this.body = initialData._bodyText;\n        }\n\n        this.headers.set('User-Agent', ApiRequest.userAgentHeader);\n        this.headers.set('X-User-Agent', ApiRequest.xUserAgentHeader);\n    }\n\n    static setAgentHeader(userAgentHeader: string) {\n        ApiRequest.userAgentHeader = userAgentHeader;\n    }\n\n    static setXUserAgentHeader(xUserAgentHeader: string) {\n        ApiRequest.xUserAgentHeader = xUserAgentHeader;\n    }\n}\n</code></pre>\n\n<p>However when transpilling to ES5 I'm getting following piece of code:</p>\n\n<pre><code>import * as tslib_1 from \"tslib\";\nvar ApiRequest = /** @class */ (function (_super) {\n    tslib_1.__extends(ApiRequest, _super);\n    function ApiRequest(url, initialData) {\n        var _this = _super.call(this, url, initialData) || this;\n        if (_this.method !== 'GET') {\n            _this.body = initialData._bodyText;\n        }\n        _this.headers.set('User-Agent', ApiRequest.userAgentHeader);\n        _this.headers.set('X-User-Agent', ApiRequest.xUserAgentHeader);\n        return _this;\n    }\n    ApiRequest.setAgentHeader = function (userAgentHeader) {\n        ApiRequest.userAgentHeader = userAgentHeader;\n    };\n    ApiRequest.setXUserAgentHeader = function (xUserAgentHeader) {\n        ApiRequest.xUserAgentHeader = xUserAgentHeader;\n    };\n    ApiRequest.userAgentHeader = '';\n    ApiRequest.xUserAgentHeader = '';\n    return ApiRequest;\n}(Request));\nexport { ApiRequest };\n//# sourceMappingURL=ApiRequest.js.map\n</code></pre>\n\n<p>The problem appears when trying to create <code>ApiRequest</code> object by calling <code>new ApiRequest(url)</code>, <code>Uncaught TypeError</code> is thrown with the following message:</p>\n\n<blockquote>\n  <p>Uncaught TypeError: Failed to construct 'Request': Please use the 'new' operator, this DOM object constructor cannot be called as a function.\n      at eval (eval at ApiRequest (ApiRequest.js:5), :1:1)</p>\n</blockquote>\n\n<p>It appears that <code>Request</code> must not be called without <code>new</code> keyword, but the transpilled code does just that on line 5 (<code>_super.call()</code>).</p>\n\n<p>Is there a way to get this working somehow?</p>\n"}, {"tags": ["angular", "api", "typescript", "http"], "comments": [{"owner": {"reputation": 152, "user_id": 8232996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af0bf02871b0fa8769992ea5416d4452?s=128&d=identicon&r=PG&f=1", "display_name": "faizan", "link": "https://stackoverflow.com/users/8232996/faizan"}, "edited": false, "score": 0, "creation_date": 1524646477, "post_id": 50017811, "comment_id": 87052044, "body": "Did you try looping through your array using *ngFor directive ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7705439"}, "reply_to_user": {"reputation": 152, "user_id": 8232996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af0bf02871b0fa8769992ea5416d4452?s=128&d=identicon&r=PG&f=1", "display_name": "faizan", "link": "https://stackoverflow.com/users/8232996/faizan"}, "edited": false, "score": 0, "creation_date": 1524646582, "post_id": 50017811, "comment_id": 87052113, "body": "hi @faizan, I have tried that but I cant make it work correctly. Could you show me how I can use *ngFor directive correctly in my situation?"}, {"owner": {"reputation": 152, "user_id": 8232996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af0bf02871b0fa8769992ea5416d4452?s=128&d=identicon&r=PG&f=1", "display_name": "faizan", "link": "https://stackoverflow.com/users/8232996/faizan"}, "edited": false, "score": 0, "creation_date": 1524646732, "post_id": 50017811, "comment_id": 87052231, "body": "You need to share the HTML also, normally we can *ngFor on a DOM element something like this.  *ngFor=&quot;let value of values&quot; and inside the element we can access value using interpolation as {{value.name}}  upload your code on stackblitz if possible"}, {"owner": {"reputation": 1348, "user_id": 9521481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd8f45e4a84e6e384d56e2b7fac20916?s=128&d=identicon&r=PG&f=1", "display_name": "Fussel", "link": "https://stackoverflow.com/users/9521481/fussel"}, "edited": false, "score": 1, "creation_date": 1524646756, "post_id": 50017811, "comment_id": 87052250, "body": "You may have to use the <code>async</code> pipe when using *ngFor with your data, something like <code>&lt;div *ngFor=&quot;let c of config | async&quot;&gt;{{ c?.LocationGuid }}&lt;&#47;div&gt;</code>"}, {"owner": {"reputation": 3295, "user_id": 2478264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g9vLx.png?s=128&g=1", "display_name": "Manuel Manhart", "link": "https://stackoverflow.com/users/2478264/manuel-manhart"}, "edited": false, "score": 0, "creation_date": 1524646815, "post_id": 50017811, "comment_id": 87052286, "body": "Can you describe a little bit more about what you want to achieve? I posted an answer, but without more information its hard to guess if the code makes sense..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7705439"}, "reply_to_user": {"reputation": 3295, "user_id": 2478264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g9vLx.png?s=128&g=1", "display_name": "Manuel Manhart", "link": "https://stackoverflow.com/users/2478264/manuel-manhart"}, "edited": false, "score": 0, "creation_date": 1524647112, "post_id": 50017811, "comment_id": 87052480, "body": "I replied to you @ManuelManhart"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7705439"}, "edited": false, "score": 0, "creation_date": 1524647052, "post_id": 50018062, "comment_id": 87052442, "body": "Hi Manuel, What I want to achieve is that I loop thought each object and take the &quot;Name&quot; from it and save it in a function. Like the   public LocationGUID() {     return this.config[&quot;LocationGuid&quot;]; }"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7705439"}, "edited": false, "score": 0, "creation_date": 1524647207, "post_id": 50018062, "comment_id": 87052538, "body": "The code you wrote for me, works. I can console.log(this.names) and it will show me all 40 names of the products!!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7705439"}, "edited": false, "score": 0, "creation_date": 1524647346, "post_id": 50018062, "comment_id": 87052622, "body": "But how can I save it in a function like the LocationGuid"}, {"owner": {"reputation": 3295, "user_id": 2478264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g9vLx.png?s=128&g=1", "display_name": "Manuel Manhart", "link": "https://stackoverflow.com/users/2478264/manuel-manhart"}, "edited": false, "score": 0, "creation_date": 1524647764, "post_id": 50018062, "comment_id": 87052856, "body": "@MexLataster I updated my answer. 1. I am still not sure this is clean code. 2. Please do not forget to accept the answer if it helped you to achieve what you desire."}, {"owner": {"reputation": 78907, "user_id": 107660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0167bade38130f13a5fc468c10388d9d?s=128&d=identicon&r=PG", "display_name": "Duncan", "link": "https://stackoverflow.com/users/107660/duncan"}, "edited": false, "score": 1, "creation_date": 1524648440, "post_id": 50018062, "comment_id": 87053278, "body": "@ManuelManhart if you wanted it cleaner the first obvious thing would be to remove the redundant calls to <code>new Promise()</code> and <code>resolve()</code>: the chain <code>this.http().toPromise().then(...)</code> is already a promise so the code can just return that value."}], "tags": [], "owner": {"reputation": 3295, "user_id": 2478264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g9vLx.png?s=128&g=1", "display_name": "Manuel Manhart", "link": "https://stackoverflow.com/users/2478264/manuel-manhart"}, "is_accepted": true, "score": 0, "last_activity_date": 1524647645, "last_edit_date": 1524647645, "creation_date": 1524646722, "answer_id": 50018062, "question_id": 50017811, "link": "https://stackoverflow.com/questions/50017811/angular-4-for-loop-from-api-call/50018062#50018062", "title": "Angular 4 For loop from API call", "body": "<p>Just loop through before the resolve. But I am not sure that this is the cleanest solution for what you really want to achieve.</p>\n\n<pre><code>import { Injectable } from \"@angular/core\";\nimport { Http } from \"@angular/http\";\nimport { KioskService } from \"./kiosk.service\";\nimport { Object } from \"../object\";\n\n@Injectable()\nexport class ProductService {\n    private config: Object = {};\n    // CHANGE (names are added in this array)\n    private names: Object = [];\n    public domainSettings: Object = {};\n\n    constructor(private http: Http, private kioskservice: KioskService) {}\n\n    public getAllProducts() {\n        return new Promise((resolve, reject) =&gt; {\n        this.http\n            .get(\n            `${this.kioskservice.getAPIUrl()}products/?apikey=${this.kioskservice.getAPIKey()}`\n            )\n            .toPromise()\n            .then(\n            res =&gt; {\n                this.config = res.json();\n                console.log(res.json());\n                // CHANGE (add names)\n                if (this.config &amp;&amp; this.config.length) {\n                    this.names = [];\n                    for (let i = 0; i &lt; this.config.length; i++) {\n                        this.names.push(this.config[i]['Name']);\n                    }\n                }\n                resolve();\n            },\n            msg =&gt; {\n                throw new Error(\"Couldn't get all Bookings: \" + msg);\n            }\n            );\n        });\n    }\n\n    // CHANGE (function to fetch the names)\n    public getNames() {\n        return this.names;\n    } \n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7705439"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1718, "favorite_count": 0, "accepted_answer_id": 50018062, "answer_count": 1, "score": 0, "last_activity_date": 1524647645, "creation_date": 1524645956, "last_edit_date": 1524646343, "question_id": 50017811, "link": "https://stackoverflow.com/questions/50017811/angular-4-for-loop-from-api-call", "title": "Angular 4 For loop from API call", "body": "<p>I need help with something. \nI made an HTTP API call and it works. I am getting a list of products from the API call, but now I need to loop through them so that I can choose the \"name\" of them all.</p>\n\n<p>This is what my Product.Service.TS looks like : </p>\n\n<pre><code>import { Injectable } from \"@angular/core\";\nimport { Http } from \"@angular/http\";\nimport { KioskService } from \"./kiosk.service\";\nimport { Object } from \"../object\";\n\n@Injectable()\nexport class ProductService {\n  private config: Object = {};\n  public domainSettings: Object = {};\n\n  constructor(private http: Http, private kioskservice: KioskService) {}\n\n  public getAllProducts() {\n    return new Promise((resolve, reject) =&gt; {\n      this.http\n        .get(\n          `${this.kioskservice.getAPIUrl()}products/?apikey=${this.kioskservice.getAPIKey()}`\n        )\n        .toPromise()\n        .then(\n          res =&gt; {\n            this.config = res.json();\n            console.log(res.json());\n            resolve();\n          },\n          msg =&gt; {\n            throw new Error(\"Couldn't get all Bookings: \" + msg);\n          }\n        );\n    });\n  }\n}\n</code></pre>\n\n<p>It shows all products, so 40 Objects :\n <a href=\"https://i.stack.imgur.com/BwNNy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BwNNy.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I loop through all Objects so that I can pick the \"Name\" like this example: </p>\n\n<pre><code>public LocationGUID() {\n    return this.config[\"LocationGuid\"];\n}\n</code></pre>\n\n<p>The example above will return the \"LocationGuid\" from the Object. This is easy because there is only 1 Object that is returned, but now I need it for 40 objects! \nSomeone please help :D</p>\n"}, {"tags": ["typescript", "reactivex", "clean-architecture"], "comments": [{"owner": {"reputation": 1773, "user_id": 6148332, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/77f7fc0563c3d8d9b735572be993c055?s=128&d=identicon&r=PG&f=1", "display_name": "Nandin Borjigin", "link": "https://stackoverflow.com/users/6148332/nandin-borjigin"}, "reply_to_user": {"reputation": 7045, "user_id": 1000551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d8cb0eaa4de7f781e42328ec7544ca3?s=128&d=identicon&r=PG", "display_name": "Vadim Kotov", "link": "https://stackoverflow.com/users/1000551/vadim-kotov"}, "edited": false, "score": 0, "creation_date": 1524645665, "post_id": 50017576, "comment_id": 87051504, "body": "@VadimKotov I added it, but I suppose this is somewhat a universal design problem than a language-specific one"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1524648008, "post_id": 50017576, "comment_id": 87052999, "body": "@NandiinBao yes and no. Rx is meant to handle <i>event streams</i>, not asynchronous calls. It&#39;s used for async calls in languages that <i>don&#39;t</i> have explicit support for async calls, eg the <code>await</code> keyword. BTW Typescript <i>does</i> have <code>async&#47;await</code>. The thing with asynchronous calls though is that unless they bubble all the way to the top they <i>aren&#39;t</i> asynchronous."}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1524648429, "post_id": 50017576, "comment_id": 87053272, "body": "@NandiinBao If you care about how a call is made, it&#39;s a very, very strong indication that you <i>aren&#39;t</i> dealing with business logic. In this case <code>Server</code> isn&#39;t a business entity even if you are creating a certificate management web site. It&#39;s an <i>interface</i> to a remote service."}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1524648701, "post_id": 50017576, "comment_id": 87053472, "body": "@NandiinBao using the callback style is dirty. The method is <i>still</i> calling a remote service, it will run asynchronously, but the way it exposes this to clients doesn&#39;t make this clear."}, {"owner": {"reputation": 1773, "user_id": 6148332, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/77f7fc0563c3d8d9b735572be993c055?s=128&d=identicon&r=PG&f=1", "display_name": "Nandin Borjigin", "link": "https://stackoverflow.com/users/6148332/nandin-borjigin"}, "reply_to_user": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1524710078, "post_id": 50017576, "comment_id": 87084085, "body": "@PanagiotisKanavos I understand that <code>Server</code> isn&#39;t a business entity. I may left it unclear: I&#39;m writing a client side authentication cache, which calls <code>getCertificate</code> for login and then caches the certificate for further usage. <code>Server</code> is the interface it demands from outer layer. I suppose this authentication cache is definitely a business logic and it&#39;s up to this cache to decide how the <code>Server</code> interface should look like."}], "answers": [{"tags": [], "owner": {"reputation": 1827, "user_id": 9113457, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e9gM9.jpg?s=128&g=1", "display_name": "plainionist", "link": "https://stackoverflow.com/users/9113457/plainionist"}, "is_accepted": false, "score": 0, "last_activity_date": 1556821905, "last_edit_date": 1556821905, "creation_date": 1524973044, "answer_id": 50083146, "question_id": 50017576, "link": "https://stackoverflow.com/questions/50017576/how-to-separate-business-logic-from-rx/50083146#50083146", "title": "How to separate business logic from Rx", "body": "<p>In clean architecture the actual threading and caching implementation are details which should be kept away from business logic and instead e.g. kept in gateways. </p>\n\n<p>That said Observables are just like promises, used to abstract threading away. If Observable interfaces and classes come from ur language standard library like in .Net using them in your business logic is probably not so much an issue. On the other hand if these interfaces and classes come from third party libraries you should be careful and may want to consider abstracting these away e.g. using adapter and factory patterns to keep ur business logic clean.</p>\n\n<p><strong>Update:</strong> For a more detailed discussion on \"how to integrate frameworks in Clean Architecture\" pls refer to my blog post <a href=\"http://www.plainionist.net/Implementing-Clean-Architecture-Frameworks/\" rel=\"nofollow noreferrer\">http://www.plainionist.net/Implementing-Clean-Architecture-Frameworks/</a></p>\n"}], "owner": {"reputation": 1773, "user_id": 6148332, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/77f7fc0563c3d8d9b735572be993c055?s=128&d=identicon&r=PG&f=1", "display_name": "Nandin Borjigin", "link": "https://stackoverflow.com/users/6148332/nandin-borjigin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 206, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556821905, "creation_date": 1524645267, "last_edit_date": 1524710281, "question_id": 50017576, "link": "https://stackoverflow.com/questions/50017576/how-to-separate-business-logic-from-rx", "title": "How to separate business logic from Rx", "body": "<p>I want to apply <a href=\"https://8thlight.com/blog/uncle-bob/2012/08/13/the-clean-architecture.html\" rel=\"nofollow noreferrer\">Uncle Bob's clean architecture</a>. It restricts the application core -- entities and business logics -- to be agnostic about outside world, especially specific framework choices. </p>\n\n<p>I understand, in theory at least, how to separate UI frameworks, DBAs, etc. However, I want to use Rx as my asynchronous solution and am wondering if I could separate it as well. </p>\n\n<p>Suppse that I'm writing a client side authentication cache and it is resposible for providing login certificate, if any exists in the cache, and fetch it from the server, if required. Then I need a <code>IServer</code> interface (only interface, concrete implementation will be a 'outer layer' concern):</p>\n\n<pre><code>interface IServer {\n    getCertificate(phone: string, password: string): Observable\n}\n</code></pre>\n\n<p>Can I somehow inverse this dependecy on <code>Observable</code>?</p>\n\n<p>The workaround I can think out for now is to use plain old callback style</p>\n\n<pre><code>interface IServer {\n    getCertificate(phone: string, password: string, callback: () =&gt; Void)\n}\n</code></pre>\n\n<p>Is this the only way? </p>\n\n<p>Or</p>\n\n<p>Shall I separate Rx from my logic in the first place? </p>\n\n<hr>\n\n<p>A second thought: Are there any abstract interface/protocol standard to include into my project? (p.s. I'm using typescript)</p>\n\n<p>Then the problem becomes: my business logic depends on an abstract ReactiveX interface definition and I may go with that. I can regard it as a fundamental choice I have to make in the early phase, like the programming language choice.</p>\n"}, {"tags": ["angular", "typescript", "nativescript", "angular2-nativescript"], "comments": [{"owner": {"reputation": 2360, "user_id": 2037517, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/01534fdd95b0d0acc0627da5a1cc35eb?s=128&d=identicon&r=PG", "display_name": "dashman", "link": "https://stackoverflow.com/users/2037517/dashman"}, "edited": false, "score": 0, "creation_date": 1524656643, "post_id": 50017234, "comment_id": 87058598, "body": "Just intercept the application suspend and resume events. Set a flag."}, {"owner": {"reputation": 33, "user_id": 8852731, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-i_z-FXAdL80/AAAAAAAAAAI/AAAAAAAAAAo/wIyCHQ2b8C8/photo.jpg?sz=128", "display_name": "Volodya Kurpita", "link": "https://stackoverflow.com/users/8852731/volodya-kurpita"}, "reply_to_user": {"reputation": 2360, "user_id": 2037517, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/01534fdd95b0d0acc0627da5a1cc35eb?s=128&d=identicon&r=PG", "display_name": "dashman", "link": "https://stackoverflow.com/users/2037517/dashman"}, "edited": false, "score": 0, "creation_date": 1524745520, "post_id": 50017234, "comment_id": 87101773, "body": "@dashman thank you! I&#39;ve already found a solution to this problem"}], "owner": {"reputation": 33, "user_id": 8852731, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-i_z-FXAdL80/AAAAAAAAAAI/AAAAAAAAAAo/wIyCHQ2b8C8/photo.jpg?sz=128", "display_name": "Volodya Kurpita", "link": "https://stackoverflow.com/users/8852731/volodya-kurpita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1524644108, "creation_date": 1524644108, "question_id": 50017234, "link": "https://stackoverflow.com/questions/50017234/how-to-find-out-the-current-state-of-the-program-nativescript", "title": "How to find out the current state of the program - Nativescript", "body": "<p>I can not cope with the search for this issue - how can I find out whether the program is currently active or in the background?\nhelp me who knows it! thank you.</p>\n"}, {"tags": ["html", "css", "angular", "typescript", "angular-material"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 9, "last_activity_date": 1524643991, "creation_date": 1524643991, "answer_id": 50017194, "question_id": 50016984, "link": "https://stackoverflow.com/questions/50016984/expand-material-expnsion-panel-on-mouseover/50017194#50017194", "title": "Expand material expnsion panel on mouseover", "body": "<p>Neither, you can do it into your HTML template. In fact, that's recommended by the Angualr team (holding the view logic into the template). </p>\n\n<p>Simply use local variables and event bindings. </p>\n\n<pre><code>&lt;mat-expansion-panel \n  class=\"expansion-panel-class\" \n  #panel \n  (mouseenter)=\"panel.open()\"\n  (mouseleave)=\"panel.close()\"\n&gt;\n</code></pre>\n"}], "owner": {"reputation": 377, "user_id": 6169317, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh4.googleusercontent.com/-GktsNRf97Ck/AAAAAAAAAAI/AAAAAAAAAr0/DdsYZPf5dRA/photo.jpg?sz=128", "display_name": "Chinaedu Onwukwe", "link": "https://stackoverflow.com/users/6169317/chinaedu-onwukwe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2073, "favorite_count": 1, "accepted_answer_id": 50017194, "answer_count": 1, "score": 1, "last_activity_date": 1524643991, "creation_date": 1524643278, "question_id": 50016984, "link": "https://stackoverflow.com/questions/50016984/expand-material-expnsion-panel-on-mouseover", "title": "Expand material expnsion panel on mouseover", "body": "<p>I have a material expansion panel in my application. I would like to expand the panel when you hover with your mouse over the panel and also to auto collapse if you leave again. Is this possible to implement in my.css file? Or do i have to do it in my typescript otherwise and how?</p>\n\n<p>This is my <code>html</code>:</p>\n\n<pre><code>    &lt;mat-expansion-panel class=\"expansion-panel-class\"&gt;\n&lt;mat-expansion-panel-header&gt;\n....\n&lt;/mat-expansion-panel-header&gt;\n&lt;mat-list&gt;\n&lt;!-- my elements --&gt;\n&lt;/mat-list&gt;\n&lt;/mat-expansion-panel&gt;\n</code></pre>\n\n<p>and my <code>css</code>: </p>\n\n<pre><code>.expansion-panel-class{\n    /*Expansion panel is collapsed*/\n}\n\n.expansion-panel-class :hover{\n    /*Expansion panel is expanded*/\n}\n</code></pre>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["xml", "angular", "typescript", "blob"], "comments": [{"owner": {"reputation": 62126, "user_id": 5089204, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/xGm6I.jpg?s=128&g=1", "display_name": "Shnugo", "link": "https://stackoverflow.com/users/5089204/shnugo"}, "edited": false, "score": 0, "creation_date": 1524650458, "post_id": 50016568, "comment_id": 87054682, "body": "Are you sure, that this file is a <code>PDF</code> originally? The content you find opening it as ZIP quite clearly points to <code>DOCX</code>, which is the modern MS-Word format."}, {"owner": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "reply_to_user": {"reputation": 62126, "user_id": 5089204, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/xGm6I.jpg?s=128&g=1", "display_name": "Shnugo", "link": "https://stackoverflow.com/users/5089204/shnugo"}, "edited": false, "score": 0, "creation_date": 1524650590, "post_id": 50016568, "comment_id": 87054775, "body": "In fact my file is in .docx  I want to download in pdf or in docx"}, {"owner": {"reputation": 62126, "user_id": 5089204, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/xGm6I.jpg?s=128&g=1", "display_name": "Shnugo", "link": "https://stackoverflow.com/users/5089204/shnugo"}, "edited": false, "score": 0, "creation_date": 1524650788, "post_id": 50016568, "comment_id": 87054913, "body": "So... If it is in docx why can&#39;t you just take it <i>as is</i>?"}, {"owner": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "reply_to_user": {"reputation": 62126, "user_id": 5089204, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/xGm6I.jpg?s=128&g=1", "display_name": "Shnugo", "link": "https://stackoverflow.com/users/5089204/shnugo"}, "edited": false, "score": 0, "creation_date": 1524651377, "post_id": 50016568, "comment_id": 87055264, "body": "Because, when I download .docx is the problem like in this :<a href=\"https://stackoverflow.com/questions/50005473/my-file-download-have-pk-z-lo-%C3%9D-rels-relsxml-vers-in-front-end\" title=\"my file download have pk z lo %25C3%259D rels relsxml vers in front end\">stackoverflow.com/questions/50005473/&hellip;</a>"}, {"owner": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "reply_to_user": {"reputation": 62126, "user_id": 5089204, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/xGm6I.jpg?s=128&g=1", "display_name": "Shnugo", "link": "https://stackoverflow.com/users/5089204/shnugo"}, "edited": false, "score": 0, "creation_date": 1524651520, "post_id": 50016568, "comment_id": 87055352, "body": "When I tried to download this doc form postman, when I click <code>send</code> ws post me <code>PK  z\u2014LO\u2039&#221;&lt;       _rels&#47;.rels&lt;?xml ...</code> when I click in postman <code>send and download</code> ws post me real file.docx"}], "answers": [{"tags": [], "owner": {"reputation": 62126, "user_id": 5089204, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/xGm6I.jpg?s=128&g=1", "display_name": "Shnugo", "link": "https://stackoverflow.com/users/5089204/shnugo"}, "is_accepted": false, "score": 0, "last_activity_date": 1524652546, "creation_date": 1524652546, "answer_id": 50020083, "question_id": 50016568, "link": "https://stackoverflow.com/questions/50016568/how-to-manage-responsetype-blob-using-angular5-in-front-end/50020083#50020083", "title": "How to manage responseType = &#39;blob&#39; using Angular5 in Front end", "body": "<p>I do not know if this will help you (I'm not so engaged with your tools)</p>\n\n<p>The file you are downloading is a <code>DOCX</code> format. This is the modern MS-Word format. This format is - even if it has a different extension - a simple ZIP file.</p>\n\n<p>The <code>PK</code> in the beginning of any zipped file is a <em>magic code</em>, telling consumers what kind of file this is.</p>\n\n<p>\"PK\" goes back to \"PKWARE\" and points to Phil Katz, who was one of those who invented the zip format.</p>\n\n<p>A zipped file - as any other file - is just a buch of bytes. A consumer has to know, how to read and interpret this.</p>\n\n<p>You should try to write the byte stream down to a file exactly as you get it, name it \"However.docx\" and try to open this with MS-Word.</p>\n\n<p>If this does not help, the byte stream might be compressed, or be somehow encoded itself... At least the picture you show us does not look as such.</p>\n\n<p>Do not try to take the characters with <em>copy and paste</em> to any kind of editor. Such files have several invisible characters which will get lost... Take the bytes and store them just as you get them (the same you would do to store a JPEG).</p>\n"}], "owner": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 994, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524652546, "creation_date": 1524641871, "last_edit_date": 1524643187, "question_id": 50016568, "link": "https://stackoverflow.com/questions/50016568/how-to-manage-responsetype-blob-using-angular5-in-front-end", "title": "How to manage responseType = &#39;blob&#39; using Angular5 in Front end", "body": "<p>I want to download a <code>doc.pdf</code> that have a text <code>'My first file download'</code>.  When I try to download to zip file, my file have some files.xml Like in this photo\n<a href=\"https://i.stack.imgur.com/VE2xR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VE2xR.png\" alt=\"enter image description here\"></a></p>\n\n<p>Can you suggest me how to convert this file in pdf? </p>\n\n<p>Please follow my code:</p>\n\n<p>Component.ts</p>\n\n<pre><code>  export(id: string) {\n    this.ss.download(id)\n      .subscribe(data =&gt; { console.log(`excel data: ${data}`); FileSaver.saveAs(data, 'doc.zip') },\n        error =&gt; console.log('Error downloading the file.'),\n        () =&gt; console.log('Completed file download.'));\n  }\n</code></pre>\n\n<p>service.ts:</p>\n\n<pre><code>  public download(id: string): Observable&lt;any&gt; {\n    //let oReq = new XMLHttpRequest();\n    // let options = new RequestOptions({ responseType: ResponseContentType.Blob });\n    let params = new URLSearchParams();\n    let headers = new Headers();\n    headers.append('x-access-token', this.auth.getCurrentUser().token);\n    headers.append('sale_id', id);\n    headers.append('Content-Type', 'application/json;charset=UTF-8');\n    headers.append('responseType':'arraybuffer');\n    return this.http.get(Api.getUrl(Api.URLS.download), {\n      headers: headers,\n      responseType: ResponseContentType.Blob,\n\n    }).map(res =&gt; res.blob()) \n  }\n</code></pre>\n\n<p><strong>Required Parameters are: Method get. Parameters need to send in header.</strong> </p>\n"}, {"tags": ["reactjs", "typescript", "environment-variables", "parceljs"], "answers": [{"comments": [{"owner": {"reputation": 284, "user_id": 2245294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/487072743ecfb07efa5880afdcc6ceee?s=128&d=identicon&r=PG", "display_name": "Kleioz", "link": "https://stackoverflow.com/users/2245294/kleioz"}, "edited": false, "score": 1, "creation_date": 1524645675, "post_id": 50016917, "comment_id": 87051510, "body": "&quot;typeRoots&quot;: [&quot;./node_modules/@types&quot;] (and was sufficient, no need to redeclare process in my case) perfectly solved the issue. Thanks for explanation though."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 284, "user_id": 2245294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/487072743ecfb07efa5880afdcc6ceee?s=128&d=identicon&r=PG", "display_name": "Kleioz", "link": "https://stackoverflow.com/users/2245294/kleioz"}, "edited": false, "score": 0, "creation_date": 1524645845, "post_id": 50016917, "comment_id": 87051615, "body": "Glad it helped. If you&#39;ve got @types/node there, this may be a problem because it will add types for a bunch of things that don&#39;t exist on client side but won&#39;t cause type errors when being accidentally used."}, {"owner": {"reputation": 284, "user_id": 2245294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/487072743ecfb07efa5880afdcc6ceee?s=128&d=identicon&r=PG", "display_name": "Kleioz", "link": "https://stackoverflow.com/users/2245294/kleioz"}, "edited": false, "score": 0, "creation_date": 1524647580, "post_id": 50016917, "comment_id": 87052752, "body": "Actually I wonder if  &quot;typeRoots&quot;: [&quot;./typings&quot;] with a process.d.ts could be a better solution, as I try to limit side effects during the migrating to TS. I&#39;ll try this instead, that seems way more &quot;under control&quot; :)"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 284, "user_id": 2245294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/487072743ecfb07efa5880afdcc6ceee?s=128&d=identicon&r=PG", "display_name": "Kleioz", "link": "https://stackoverflow.com/users/2245294/kleioz"}, "edited": false, "score": 0, "creation_date": 1524647877, "post_id": 50016917, "comment_id": 87052921, "body": "This is how it&#39;s usually done. You will need node_modules/@types there any way."}, {"owner": {"reputation": 284, "user_id": 2245294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/487072743ecfb07efa5880afdcc6ceee?s=128&d=identicon&r=PG", "display_name": "Kleioz", "link": "https://stackoverflow.com/users/2245294/kleioz"}, "edited": false, "score": 0, "creation_date": 1524648727, "post_id": 50016917, "comment_id": 87053492, "body": "I&#39;m now confused. When I add node_modules/@types/react-dom to custom typeRoots, I have an error in process.d.ts &quot;cannot redeclare block-scoped variable &#39;process&#39;&quot;. I feel like ParcelJS &quot;parcel-plugin-typescript&quot; do things undercover but I can&#39;t figure out what. Actually my stablest implementation is <code>&quot;typeRoots&quot;: [&quot;.&#47;typings&quot;]</code> with a process.d.ts <code>declare const process: {     env: any }</code>"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 284, "user_id": 2245294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/487072743ecfb07efa5880afdcc6ceee?s=128&d=identicon&r=PG", "display_name": "Kleioz", "link": "https://stackoverflow.com/users/2245294/kleioz"}, "edited": false, "score": 0, "creation_date": 1524649518, "post_id": 50016917, "comment_id": 87054007, "body": "@Kleioz I see. You will likely need types from node_modules/@types any way, so they shouldn&#39;t be excluded. Yes, that&#39;s the problem with @types/react-dom, it has a dependency on @types/node, while it isn&#39;t supposed to. See <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/issues/21310\" rel=\"nofollow noreferrer\">github.com/DefinitelyTyped/DefinitelyTyped/issues/21310</a> and <a href=\"https://github.com/Microsoft/TypeScript/issues/18588\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/18588</a> . I guess, <code>declare const process</code> should be commented in custom.d.ts for now, until the problem is solved."}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": false, "score": 3, "last_activity_date": 1524643050, "creation_date": 1524643050, "answer_id": 50016917, "question_id": 50016441, "link": "https://stackoverflow.com/questions/50016441/use-environment-variable-in-typescript-with-parceljs/50016917#50016917", "title": "Use environment variable in Typescript with ParcelJS", "body": "<p>In Node.js TypeScript development, <code>@types/node</code> package is supposed to be used for Node-specific declarations including <code>process</code>. It isn't suitable for browser because it likely has nothing in common with Node.js environment except <code>process</code> global.</p>\n\n<p><code>process</code> built-in module import is redundant in Node.js and certainly shouldn't be used in browser, because there's no such module (even though there is <a href=\"https://www.npmjs.com/package/process\" rel=\"nofollow noreferrer\">shim module</a>, it isn't needed for <code>process.env</code>).</p>\n\n<p>If <code>process</code> was defined by a bundler (ParcelJS) in client-side script, type declaration should be provided for it in custom type file (e.g. typings/custom.d.ts):</p>\n\n<pre><code>declare const process: {\n    env: {\n        ENV: string;\n        URL: string;\n    }\n}\n</code></pre>\n\n<p>Custom typings path should be specified in TypeScript configuration as well:</p>\n\n<pre><code>\"typeRoots\": [\"./node_modules/@types\", \"./typings\"]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19907, "user_id": 628700, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/627b03e77e421ade86a0d1b317dfed92?s=128&d=identicon&r=PG", "display_name": "sidonaldson", "link": "https://stackoverflow.com/users/628700/sidonaldson"}, "is_accepted": false, "score": 1, "last_activity_date": 1556289256, "creation_date": 1556289256, "answer_id": 55869824, "question_id": 50016441, "link": "https://stackoverflow.com/questions/50016441/use-environment-variable-in-typescript-with-parceljs/55869824#55869824", "title": "Use environment variable in Typescript with ParcelJS", "body": "<p>To add to a comment answer left by @Kleioz because I still had to google what was happening...</p>\n\n<p>The solution was to add <code>typeRoots</code> to the TypeScript config. This essentially tells the compiler where the node_module declarations are. You can also pass through a folder for custom declarations if required.</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    ...\n    \"typeRoots\": [\"./node_modules/@types\", \"./typings\"]\n    ...\n  }\n}\n</code></pre>\n\n<p><code>./typings</code> is your folder for custom declarations.</p>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 3410707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7bff008808ae41a9d7295d9941c41f?s=128&d=identicon&r=PG", "display_name": "Mats Faugli", "link": "https://stackoverflow.com/users/3410707/mats-faugli"}, "is_accepted": false, "score": 1, "last_activity_date": 1568889635, "creation_date": 1568889635, "answer_id": 58009204, "question_id": 50016441, "link": "https://stackoverflow.com/questions/50016441/use-environment-variable-in-typescript-with-parceljs/58009204#58009204", "title": "Use environment variable in Typescript with ParcelJS", "body": "<p>Installing the correct type definitions as a dev dependency solves the problem: <code>npm install @types/parcel-bundler --save-dev</code></p>\n"}], "owner": {"reputation": 284, "user_id": 2245294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/487072743ecfb07efa5880afdcc6ceee?s=128&d=identicon&r=PG", "display_name": "Kleioz", "link": "https://stackoverflow.com/users/2245294/kleioz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1431, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1568889635, "creation_date": 1524641412, "question_id": 50016441, "link": "https://stackoverflow.com/questions/50016441/use-environment-variable-in-typescript-with-parceljs", "title": "Use environment variable in Typescript with ParcelJS", "body": "<p>Migrating a react app built with ParcelJS to Typescript/React, I encounter some environment variables issues. Actually, the issue seems to only impact the error output since the environment variables (URL, used in a <code>&lt;a&gt;</code> tag) works properly on the webpage.</p>\n\n<p>Here is the terminal output :</p>\n\n<pre><code>/Users/---/Projects/---/---/src/cart/index.tsx(xxx,xxx)\nCannot find name 'process'.\n126 |       method: \"post\",\n127 |       url: `${process.env.URL}/checkout`,\n    |               ^^^^^^^\n128 |       data: cart,\n</code></pre>\n\n<p>I tried several approaches, as <code>import * as process from \"process\"</code> wich don't fix the issue : </p>\n\n<pre><code>Could not find a declaration file for module 'process'.\n'./node_modules/process/index.js' implicitly has an 'any' type.\nTry `npm install @types/process` if it exists or add a new \ndeclaration (.d.ts)     file containing `declare module 'process';`\n  &gt; 6 | import * as process from \"process\";\n  |                          ^^^^^^^^^\n</code></pre>\n\n<p>Nervertheless if I try to output the variable that works :</p>\n\n<pre><code>const ENV = process.env.MIDDLEWARE_URL;\nconsole.log('ENV', ENV);\n</code></pre>\n\n<p>Browser output :</p>\n\n<pre><code>ENV http://localhost:3000\n</code></pre>\n\n<p>Finally, I can't figure out if this is a Parcel issue or a TSConfig issue.\nAny ideas ?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 13201, "user_id": 3486691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dc01f3f85a630c36252819704ad397d?s=128&d=identicon&r=PG", "display_name": "ForestG", "link": "https://stackoverflow.com/users/3486691/forestg"}, "edited": false, "score": 0, "creation_date": 1524641622, "post_id": 50016321, "comment_id": 87049104, "body": "You can have the .catch part in your component where you subscribe to the response I think."}], "answers": [{"tags": [], "owner": {"reputation": 165, "user_id": 8030373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1b483ba72fed32f69fc132f0898d210?s=128&d=identicon&r=PG&f=1", "display_name": "Daouda", "link": "https://stackoverflow.com/users/8030373/daouda"}, "is_accepted": false, "score": 0, "last_activity_date": 1524641646, "creation_date": 1524641646, "answer_id": 50016519, "question_id": 50016321, "link": "https://stackoverflow.com/questions/50016321/how-to-get-json-promises-error-status-in-my-component-angular-ionic/50016519#50016519", "title": "how to get JSON promises error status in my component ? ANGULAR - IONIC", "body": "<p>Create a service suppose <strong>Error</strong> store the error there first pass it in the service <strong>private error: Error</strong> in in the service error one variable <strong>data = null</strong></p>\n\n<pre><code>    (error: any) =&gt; {\n            console.log(\"ERROR EN SERVICIO registerUser\"+error);\nthis.error.data = error;\n            console.log(\"Response\"+Response);\n            reject(error);\n            //en el reject te manda tambien cual fue el motivo\n          })\n</code></pre>\n\n<p>In the component inject Error component and</p>\n\n<pre><code>if (this.error.data){\nlocalError = this.error.data;\n}\n</code></pre>\n\n<p>Now you got it in component</p>\n"}], "owner": {"reputation": 23, "user_id": 6523829, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a9493d5a29c39bd5b736d493c50c29c2?s=128&d=identicon&r=PG&f=1", "display_name": "JossephBot", "link": "https://stackoverflow.com/users/6523829/jossephbot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524641646, "creation_date": 1524640956, "last_edit_date": 1524641548, "question_id": 50016321, "link": "https://stackoverflow.com/questions/50016321/how-to-get-json-promises-error-status-in-my-component-angular-ionic", "title": "how to get JSON promises error status in my component ? ANGULAR - IONIC", "body": "<p>I am trying to print JSON result error in my front(component) so i cant get that. </p>\n\n<p>My component has this function : </p>\n\n<pre><code>procesarDataWithEmail(val: any): void {\n\n    let userTemp: any = {\n      \"email\": val,\n      \"who_is\":this.codeCategory,\n      \"latitude\": this.lat,\n      \"longitude\":this.lng\n    };\n    var loading = this.loadingCtrl.create({\n      content: 'Espere por favor...'\n    });\n    loading.present();\n    console.log(userTemp);\n\n    this._us.registerUser(userTemp).then(result =&gt; {\n\n      this._us.registerProfesions(result,this.idSector,this.idProfesion).then((res) =&gt; {\n        console.log(\"registerProfesions OK\");\n        console.log('&gt;&gt;&gt;', res);\n        loading.dismiss(true);\n        this.presentAlertOK();\n        this.navCtrl.setRoot(LoginPage);\n      }, (error: any) =&gt; {\n        console.log(\"ERROR EN REGISTER USER-PROFESIONS\"+error);\n        loading.dismiss(true);\n        this.presentAlertFail(\"Problema con el Servidor\",'Int\u00e9ntelo en breve. Gracias');\n      });\n\n    }, (error: any) =&gt; {\n      console.log(\"ERROR EN REGISTER USER\"+error);\n      loading.dismiss(true);\n      this.presentAlertFail('Email Incorrecto y/o registrado','Ingrese un email v\u00e1lido.Gracias');\n    });\n}\n</code></pre>\n\n<p>And in my service i has this : </p>\n\n<pre><code>registerUser(user: any) {\n    //Registro:\n    let url = URL_SERVICIOS + \"/register\";\n    let headers = new Headers();\n    headers.append('Content-Type', 'application/json');\n    let options = new RequestOptions({headers: headers});\n    return new Promise((resolve, reject) =&gt; {\n      this.http.post(url, JSON.stringify(user), options).subscribe((response: any) =&gt; {\n        //JSON\n        let js = response.json();\n\n        let usuario = {\n          email: user.email,\n          password: user.password,\n          id: js.result.id\n        }\n        resolve(usuario);\n      }, (error: any) =&gt; {\n        console.log(\"ERROR EN SERVICIO registerUser\"+error);\n        console.log(\"Response\"+Response);\n        reject(error);\n        //en el reject te manda tambien cual fue el motivo\n      })\n    })\n      /*\n      .catch(err=&gt;{\n      console.log(\"ERROR CATCH\");\n      console.log(err);\n    })*/\n}\n</code></pre>\n\n<p>when in get error with reject i get this one : </p>\n\n<p><a href=\"https://imgur.com/a/r6Otbsq\" rel=\"nofollow noreferrer\">https://imgur.com/a/r6Otbsq</a></p>\n\n<p>And i would like to get this : \n<a href=\"https://imgur.com/a/vjyNmaA\" rel=\"nofollow noreferrer\">https://imgur.com/a/vjyNmaA</a></p>\n\n<p>I've tried to put catch and it print well so I have 2 problems : \n1. I dont know how can i get this in my component \n2. If i use catch the next function is called</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "edited": false, "score": 0, "creation_date": 1524640867, "post_id": 50016075, "comment_id": 87048691, "body": "you are doing it on keypress ??"}, {"owner": {"reputation": 11, "user_id": 4532899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2f5255ed1c417162066acd6203b8f6?s=128&d=identicon&r=PG&f=1", "display_name": "Pritam", "link": "https://stackoverflow.com/users/4532899/pritam"}, "reply_to_user": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "edited": false, "score": 0, "creation_date": 1524649505, "post_id": 50016075, "comment_id": 87053997, "body": "yes i want to achieve it on keypress"}, {"owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "edited": false, "score": 0, "creation_date": 1524649936, "post_id": 50016075, "comment_id": 87054330, "body": "seeems like you got the answer"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4532899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2f5255ed1c417162066acd6203b8f6?s=128&d=identicon&r=PG&f=1", "display_name": "Pritam", "link": "https://stackoverflow.com/users/4532899/pritam"}, "edited": false, "score": 0, "creation_date": 1524649887, "post_id": 50016352, "comment_id": 87054292, "body": "trichetriche : can we achieve this on keypress. i have modified the question."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 11, "user_id": 4532899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2f5255ed1c417162066acd6203b8f6?s=128&d=identicon&r=PG&f=1", "display_name": "Pritam", "link": "https://stackoverflow.com/users/4532899/pritam"}, "edited": false, "score": 0, "creation_date": 1524650247, "post_id": 50016352, "comment_id": 87054541, "body": "Well it&#39;s already on keypress, how did you use the form control ?"}, {"owner": {"reputation": 11, "user_id": 4532899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2f5255ed1c417162066acd6203b8f6?s=128&d=identicon&r=PG&f=1", "display_name": "Pritam", "link": "https://stackoverflow.com/users/4532899/pritam"}, "edited": false, "score": 0, "creation_date": 1524650667, "post_id": 50016352, "comment_id": 87054833, "body": "can we use       regExpAlphaNumeric: string = &#39;^[^-\\s][a-zA-Z0-9_\\s-]+$&#39;;\t\t\t       campaignName : new FormControl(&#39;&#39;, [Validators.required, Validators.pattern(this.regExpAlphaNumeric)]),   here in this case regExpAlphaNumeric is string but it is not working"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 11, "user_id": 4532899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2f5255ed1c417162066acd6203b8f6?s=128&d=identicon&r=PG&f=1", "display_name": "Pritam", "link": "https://stackoverflow.com/users/4532899/pritam"}, "edited": false, "score": 0, "creation_date": 1524651082, "post_id": 50016352, "comment_id": 87055065, "body": "First things first : do you know what a form control is, and how to use it ?"}, {"owner": {"reputation": 11, "user_id": 4532899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2f5255ed1c417162066acd6203b8f6?s=128&d=identicon&r=PG&f=1", "display_name": "Pritam", "link": "https://stackoverflow.com/users/4532899/pritam"}, "edited": false, "score": 0, "creation_date": 1524661429, "post_id": 50016352, "comment_id": 87062242, "body": "yes i will look into this. Actually i am new to angular .thanks"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 1, "last_activity_date": 1524641072, "creation_date": 1524641072, "answer_id": 50016352, "question_id": 50016075, "link": "https://stackoverflow.com/questions/50016075/angular-4-and-typescript/50016352#50016352", "title": "Angular 4 and typescript", "body": "<p>Create a form control (or a control in a formGroup)</p>\n\n<pre><code>textboxToValidate: FormControl = new FormControl('', [\n  Validators.required,\n  Validators.pattern(/^[^-\\s][a-zA-Z0-9_\\s-]+$/)\n]);\n</code></pre>\n\n<p>Those built-in classes can be imported from the form module</p>\n\n<pre><code>import { FormControl, Validators } from '@angular/forms';\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4532899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2f5255ed1c417162066acd6203b8f6?s=128&d=identicon&r=PG&f=1", "display_name": "Pritam", "link": "https://stackoverflow.com/users/4532899/pritam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 50016352, "answer_count": 1, "score": 0, "last_activity_date": 1524654709, "creation_date": 1524640071, "last_edit_date": 1524654709, "question_id": 50016075, "link": "https://stackoverflow.com/questions/50016075/angular-4-and-typescript", "title": "Angular 4 and typescript", "body": "<p>i need to validate the textbox which is present in form where i dont want user to enter the spaces initially and it should start with alphanumeric and then we can add spaces in between the text.</p>\n\n<p>i am writing the regex code in typescript but it is not working for me.</p>\n\n<p>i am calling allowAlphaNumeric method on keypress in input control</p>\n\n<pre><code>allowAlphaNumeric(event) {\n        return event &amp;&amp; event.key &amp;&amp; event.key.match(this.regExpAlphaNumeric) ? true : false;\n    }\n\n&lt;input class=\"form-control ip-box-css\" type=\"text\" formControlName = \"campaignName\" id=\"campaignName\" (keypress)=\"allowAlphaNumeric($event)\" maxlength=\"30\" placeholder=\"Enter\" required&gt;\n\nwhere regExpAlphaNumeric: string = '^[^-\\s][a-zA-Z0-9_\\s-]+$';\n</code></pre>\n\n<p>the issue is that the regex expression is not considering as string</p>\n\n<p>Please provide some suggestion so that it will work in .ts(typescript) file</p>\n"}, {"tags": ["javascript", "angularjs", "typescript"], "comments": [{"owner": {"reputation": 2548, "user_id": 2029048, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/82f0679c0f0bdcc785d7497808cedc8f?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/2029048/james"}, "edited": false, "score": 0, "creation_date": 1524639995, "post_id": 50016004, "comment_id": 87048237, "body": "Probably specific js file is not added/loaded."}, {"owner": {"reputation": 6715, "user_id": 3243201, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c287043e30aed3b5cfae0d82331659ff?s=128&d=identicon&r=PG&f=1", "display_name": "Shrinivas Pai", "link": "https://stackoverflow.com/users/3243201/shrinivas-pai"}, "reply_to_user": {"reputation": 2548, "user_id": 2029048, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/82f0679c0f0bdcc785d7497808cedc8f?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/2029048/james"}, "edited": false, "score": 0, "creation_date": 1524640848, "post_id": 50016004, "comment_id": 87048678, "body": "@james required js file is loading."}], "owner": {"reputation": 6715, "user_id": 3243201, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c287043e30aed3b5cfae0d82331659ff?s=128&d=identicon&r=PG&f=1", "display_name": "Shrinivas Pai", "link": "https://stackoverflow.com/users/3243201/shrinivas-pai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1524639814, "creation_date": 1524639814, "question_id": 50016004, "link": "https://stackoverflow.com/questions/50016004/angular-unknown-provider-error-when-using-custom-filter", "title": "Angular \u201cUnknown provider\u201d error when using custom Filter", "body": "<p>I am using angular 1.5 with typescript. Facing <code>Unknown provider: testNameFilterFilterProvider &lt;- testNameFilterFilter</code></p>\n\n<p>Here is my existing code</p>\n\n<pre><code>export class TestNameFilter extends AbstractFilter {\n    public static factory($injector: angular.auto.IInjectorService): Function {\n      return new TestNameFilter($injector).filter;\n    }\n\n    public constructor($injector: angular.auto.IInjectorService) {\n      super(\"TestNameFilter\", $injector);\n    }\n\n    public filter = (text: string, length: any, end: any): string =&gt; {\n      let state: string = text;\n      state = this.toSentenceCase(state);\n      return state;\n    }\n\n  }\n</code></pre>\n\n<p><strong>Registration</strong> </p>\n\n<pre><code>angular.module(\"myApp\").filter(\n    \"testNameFilter\",\n    [\n      \"$injector\",\n      ($injector: angular.auto.IInjectorService) =&gt; new TestNameFilter($injector).filter,\n    ]\n  );\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code> &lt;select \n        ng-options=\"item as (test.name | testNameFilter)\n                    for test in testing\"&gt;\n  &lt;option value=\"\"&gt;&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n"}, {"tags": ["typescript", "type-assertion"], "comments": [{"owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 0, "creation_date": 1524636883, "post_id": 50015151, "comment_id": 87046551, "body": "Sounds like a regression."}, {"owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "edited": false, "score": 2, "creation_date": 1524638886, "post_id": 50015151, "comment_id": 87047679, "body": "Yeah, it seem like a bug to me. If you declare a <code>PM_MGEInfo</code> variable, and you assign to it <code>{bid: &#39;o&#39;}</code> it shows an error, saying <code>category</code> is missing. This should be the behaviour in 1) and 2). Don&#39;t know why it only triggers in case 3)."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 2, "creation_date": 1524639304, "post_id": 50015151, "comment_id": 87047906, "body": "It appears that <code>{ [key: string]: any }</code> index signature triggers the error. I&#39;d suggest to open an issue."}], "answers": [{"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1524638853, "post_id": 50015562, "comment_id": 87047655, "body": "I agree with you that those options would make it work, but the question is WHY does it work that way .. adding the extra <code>labs</code> property should not have triggered the error."}, {"owner": {"reputation": 9691, "user_id": 101251, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d983612a465ed6bedaaf89005cc6e85e?s=128&d=identicon&r=PG", "display_name": "kctang", "link": "https://stackoverflow.com/users/101251/kctang"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1524639583, "post_id": 50015562, "comment_id": 87048028, "body": "@TitianCernicova-Dragomir the TS2352 error was not caused by <code>labs</code>. The error message says <code>Property &#39;category&#39; is missing in type</code>. Without <code>category</code>, that type was incomplete."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1524639640, "post_id": 50015562, "comment_id": 87048055, "body": "<code>category</code> is missing in this as well in <code>return &lt;PM_MGEInfo&gt;{         bid } </code> and this WORKS, only when adding <code>labs</code> do things break .."}, {"owner": {"reputation": 9691, "user_id": 101251, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d983612a465ed6bedaaf89005cc6e85e?s=128&d=identicon&r=PG", "display_name": "kctang", "link": "https://stackoverflow.com/users/101251/kctang"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1524640108, "post_id": 50015562, "comment_id": 87048298, "body": "Thanks for clarifying @TitianCernicova-Dragomir. I didn&#39;t see that earlier. hmm.. not sure why! hope someone else can. :-)"}], "tags": [], "owner": {"reputation": 9691, "user_id": 101251, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d983612a465ed6bedaaf89005cc6e85e?s=128&d=identicon&r=PG", "display_name": "kctang", "link": "https://stackoverflow.com/users/101251/kctang"}, "is_accepted": false, "score": 0, "last_activity_date": 1524638320, "creation_date": 1524638320, "answer_id": 50015562, "question_id": 50015151, "link": "https://stackoverflow.com/questions/50015151/what-is-the-detail-logic-of-type-assertion-in-typescript/50015562#50015562", "title": "What is the detail logic of type assertion in typescript?", "body": "<p>I see two options. Either use <code>Partial&lt;T&gt;</code> or <code>any</code>. When using any, YOU are responsible for making sure things will work, so use as last option.</p>\n\n<p>Examples of both:</p>\n\n<pre><code>function makeMgeInfoWithPartial(bid: string): Partial&lt;PM_MGEInfo&gt; {\n  // props are optional but only those defined by PM_MGEInfo are valid\n  return {\n    bid,\n    labs: {a: 1}\n  }\n}\n\nfunction makeMgeInfoWithAny(bid: string): PM_MGEInfo {\n  return {\n    bid,\n    labs: {a: 1},\n    whatever: 'also works'\n  } as any\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2375, "user_id": 8381155, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fEaLjb1CCz4/AAAAAAAAAAI/AAAAAAAAACI/I0Dbz1axcfA/photo.jpg?sz=128", "display_name": "ochs.tobi", "link": "https://stackoverflow.com/users/8381155/ochs-tobi"}, "is_accepted": false, "score": 0, "last_activity_date": 1524638907, "creation_date": 1524638907, "answer_id": 50015742, "question_id": 50015151, "link": "https://stackoverflow.com/questions/50015151/what-is-the-detail-logic-of-type-assertion-in-typescript/50015742#50015742", "title": "What is the detail logic of type assertion in typescript?", "body": "<p>I think that the compiler doesn't recognize your value <code>{a: 1}</code> as type <code>{ [key: string]: any }</code> because if you alter the line like this there is no compiler error:</p>\n\n<pre><code>function makeMgeInfo(bid: string): PM_MGEInfo {\n  return &lt;PM_MGEInfo&gt;{\n    bid,\n    labs: {a: 1} as {[key: string]: any}\n  };\n}\n</code></pre>\n\n<p>also it is working if you define the variable like this:</p>\n\n<pre><code>mylabs: {[key: string]: any} = {a: 1};\n</code></pre>\n\n<p>and call it in your function:</p>\n\n<pre><code>makeMgeInfo(bid: string): PM_MGEInfo {\n  return &lt;PM_MGEInfo&gt;{\n    bid,\n    labs: this.mylabs\n  };\n}\n</code></pre>\n\n<p>Therefore I would say, that the compiler does not recognize your defined type from the labs field. The error message in this case is very misleading.</p>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 6501855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b0b0c932f02c9bbfbfb9988df2ebe4?s=128&d=identicon&r=PG", "display_name": "chinesedfan", "link": "https://stackoverflow.com/users/6501855/chinesedfan"}, "is_accepted": true, "score": 1, "last_activity_date": 1527658111, "creation_date": 1527658111, "answer_id": 50596927, "question_id": 50015151, "link": "https://stackoverflow.com/questions/50015151/what-is-the-detail-logic-of-type-assertion-in-typescript/50596927#50596927", "title": "What is the detail logic of type assertion in typescript?", "body": "<p>Check the spec <a href=\"https://github.com/Microsoft/TypeScript/blob/28840863a635b6803505a821bcb18d9638c38012/doc/spec.md#4.16\" rel=\"nofollow noreferrer\">4.16 Type Assertions</a>, which is inspired by <a href=\"https://stackoverflow.com/questions/36652622/why-does-typescript-assertion-of-object-literal-a-work-with-interface-a-b\">this answer</a>:</p>\n\n<blockquote>\n  <p>In a type assertion expression of the form &lt; T > e, e is contextually typed (section 4.23) by T and the resulting type of e is required to be assignable to T, or T is required to be assignable to the widened form of the resulting type of e, or otherwise a compile-time error occurs.</p>\n</blockquote>\n\n<p>For case 1, <code>T</code> is assignable to <code>e</code> obviously.</p>\n\n<p>For case 2, the widened form of <code>e</code> is <code>{bid: string, labs: Object}</code>, which T is assignable to. Notice that <code>labs?</code> is assignable to <code>Object</code> (<em>In fact, I am not sure about it, but this is my only possible explanation</em>).</p>\n\n<p>For case 3, neither of above conditions is satisfied.</p>\n"}], "owner": {"reputation": 131, "user_id": 6501855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b0b0c932f02c9bbfbfb9988df2ebe4?s=128&d=identicon&r=PG", "display_name": "chinesedfan", "link": "https://stackoverflow.com/users/6501855/chinesedfan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 50596927, "answer_count": 3, "score": 5, "last_activity_date": 1527658111, "creation_date": 1524636699, "last_edit_date": 1524722105, "question_id": 50015151, "link": "https://stackoverflow.com/questions/50015151/what-is-the-detail-logic-of-type-assertion-in-typescript", "title": "What is the detail logic of type assertion in typescript?", "body": "<p>I treat <code>type assertion</code> as something like <code>Hi Compiler, I know the type of this variable better than you. Just follow me!</code>.</p>\n\n<p>But it seems that the compiler still has its own logic to infer the type. For example, suppose,</p>\n\n<pre><code>interface PM_MGEInfo {\n    category: string;\n    bid: string;\n    cid?: string;\n    labs?: { [key: string]: any };\n}\n</code></pre>\n\n<p>Then, 1&amp;2 are no problem, but 3 throws a TS2352 error.</p>\n\n<ol>\n<li><pre><code>function makeMgeInfo(bid: string): PM_MGEInfo {\n    return &lt;PM_MGEInfo&gt;{\n        bid\n    };\n}\n</code></pre></li>\n<li><pre><code>function makeMgeInfo(bid: string): PM_MGEInfo {\n    return &lt;PM_MGEInfo&gt;{\n        bid,\n        labs: {}\n    };\n}\n</code></pre></li>\n<li><pre><code>function makeMgeInfo(bid: string): PM_MGEInfo {\n    return &lt;PM_MGEInfo&gt;{\n        bid,\n        // error TS2352: Type '{ labs: { poi_id: string; }; bid: string; }' cannot be converted to type 'PM_MGEInfo'.\n        // Property 'category' is missing in type '{ labs: { poi_id: string; }; bid: string; }'.\n        labs: {a: 1}\n    };\n}\n</code></pre></li>\n</ol>\n\n<p>Why does <code>type assertion</code> begin to check other fields in 3? Does someone know its detail logic?</p>\n\n<hr>\n\n<p>Updated: I created an issue in Github <a href=\"https://github.com/Microsoft/TypeScript/issues/23698\" rel=\"nofollow noreferrer\">Microsoft/TypeScript#23698</a>.</p>\n"}, {"tags": ["typescript", "ionic2"], "answers": [{"tags": [], "owner": {"reputation": 681, "user_id": 5168768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2842f123029870136b47736fd3e6b92a?s=128&d=identicon&r=PG", "display_name": "chrystian", "link": "https://stackoverflow.com/users/5168768/chrystian"}, "is_accepted": true, "score": 1, "last_activity_date": 1524644390, "creation_date": 1524644390, "answer_id": 50017319, "question_id": 50015101, "link": "https://stackoverflow.com/questions/50015101/typescript-how-can-i-get-input-data-from-iframe-in-ionic/50017319#50017319", "title": "Typescript : How can I get input data from iFrame in ionic", "body": "<p>i think that you can use postMessage() to communicate <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage</a></p>\n\n<p>try it :)</p>\n\n<p>i will try to create a plunk a bit later if there will be need for that</p>\n"}], "owner": {"reputation": 126, "user_id": 4327760, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/APq2a.png?s=128&g=1", "display_name": "Jafar Sabah", "link": "https://stackoverflow.com/users/4327760/jafar-sabah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 980, "favorite_count": 0, "accepted_answer_id": 50017319, "answer_count": 1, "score": 1, "last_activity_date": 1524718328, "creation_date": 1524636478, "last_edit_date": 1524718328, "question_id": 50015101, "link": "https://stackoverflow.com/questions/50015101/typescript-how-can-i-get-input-data-from-iframe-in-ionic", "title": "Typescript : How can I get input data from iFrame in ionic", "body": "<p>I have ionic page witch call external iframe payment page. this iframe has it own operation and then return the result in the frame it self, (like redirect secure payment page)</p>\n\n<p>I open the page in frame like </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ion-content padding&gt;\r\n  &lt;ion-label&gt;Result :&lt;/ion-label&gt;\r\n  &lt;iframe id=\"payment-frame\" width=\"100%\" height=\"100%\" [src]=\"url\" frameborder=\"0\" allowfullscreen&gt;&lt;/iframe&gt;\r\n&lt;/ion-content&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and in ts file I tried to get the input like</p>\n\n<pre><code>var script = (&lt;HTMLScriptElement[]&gt;&lt;any&gt;document.getElementsByName('Result'))[0];\nconsole.log(script); \n</code></pre>\n\n<p>// the input is null</p>\n\n<p>and then I tried to get the frame first then get the element inside like</p>\n\n<pre><code>var inputValue = (&lt;HTMLInputElement&gt;document.getElementById('payment-frame').contentWindow.document.getElementById('Result'));\n</code></pre>\n\n<p>// it says that the content windows does not exist in HTMLElement.</p>\n\n<p>How can I get the 'Result' element from external iframe page? any one can help please?</p>\n"}, {"tags": ["reactjs", "typescript", "react-router", "typescript2.0"], "answers": [{"tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": false, "score": 0, "last_activity_date": 1524634702, "creation_date": 1524634702, "answer_id": 50014725, "question_id": 50014582, "link": "https://stackoverflow.com/questions/50014582/method-navigateto-does-not-exist-on-type-componentclass/50014725#50014725", "title": "Method navigateTo does not exist on type ComponentClass", "body": "<p>react-router <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/b73b4426dd1cd78b7ddf4f4d1cc5b6316fd6956f/types/react-router/index.d.ts#L113\" rel=\"nofollow noreferrer\"><code>withRoute</code> is typed as a generic</a>. Component type should be provided as generic parameter:</p>\n\n<pre><code> let router = withRouter&lt;Router&gt;(Router);\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3053247"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524634766, "creation_date": 1524633917, "last_edit_date": 1524634766, "question_id": 50014582, "link": "https://stackoverflow.com/questions/50014582/method-navigateto-does-not-exist-on-type-componentclass", "title": "Method navigateTo does not exist on type ComponentClass", "body": "<p>I use typescript and react, and I have the following call that does not work:</p>\n\n<pre><code>router.navigateTo(uri.path);\n</code></pre>\n\n<p>The router is a standard react component:</p>\n\n<pre><code>class Router extends React.Component &lt; IRouterProps, any &gt; {\n\n  public constructor(props, context) {\n     super(props, context);\n  }\n\n  public navigateTo(path: string) {\n   (this.props as any).history.push(path);\n  }\n}\n</code></pre>\n\n<p>And the export is simple:</p>\n\n<pre><code> let router = withRouter(Router) ;\n export default router;\n</code></pre>\n\n<p>Error that I get: </p>\n\n<pre><code>Property 'navigateTo' does not exist on type 'ComponentClass&lt;Pick&lt;any, never&gt;&gt;\n</code></pre>\n\n<p>I know that I can do <code>(router as any).navigateTo</code> and mitigate this. But I am wondering myself why does not work? It should work but I am clearly missing something. </p>\n\n<p>Thanks for any pointers.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 371, "user_id": 5605156, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5218b8927ad976c11221a7be03fc595e?s=128&d=identicon&r=PG", "display_name": "Joe Starnes", "link": "https://stackoverflow.com/users/5605156/joe-starnes"}, "edited": false, "score": 0, "creation_date": 1524663498, "post_id": 50014169, "comment_id": 87063653, "body": "This appears to have worked. How do I handle in the promise 404, 405, etc errors? and pass them back to the component in order to pop up alerts?"}, {"owner": {"reputation": 32597, "user_id": 7579471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OmXvJ.png?s=128&g=1", "display_name": "Pengyy", "link": "https://stackoverflow.com/users/7579471/pengyy"}, "reply_to_user": {"reputation": 371, "user_id": 5605156, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5218b8927ad976c11221a7be03fc595e?s=128&d=identicon&r=PG", "display_name": "Joe Starnes", "link": "https://stackoverflow.com/users/5605156/joe-starnes"}, "edited": false, "score": 0, "creation_date": 1524665380, "post_id": 50014169, "comment_id": 87064916, "body": "@JoeStarnes for exceptions, you can use <code>catch</code> from promise. see my updated answer. BTW, if you create a new promise, you need to use <code>reject</code> from promise to throw exceptions yourself."}], "tags": [], "owner": {"reputation": 32597, "user_id": 7579471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OmXvJ.png?s=128&g=1", "display_name": "Pengyy", "link": "https://stackoverflow.com/users/7579471/pengyy"}, "is_accepted": false, "score": 0, "last_activity_date": 1524665653, "last_edit_date": 1524665653, "creation_date": 1524631120, "answer_id": 50014169, "question_id": 50014086, "link": "https://stackoverflow.com/questions/50014086/how-to-return-this-data-to-component-from-promise-in-provider/50014169#50014169", "title": "How to return this data to component from promise in provider", "body": "<p>First , you need to resolve the data in promise, like below:</p>\n\n<pre><code>// Promise provide two executors for normal and exception branches\nnew Promise(resolve, reject)\n\n// if you are using HttpClient instead of Http, you don't need to call .json method\nresolve(res.json());  \n// for throwing err\nreject(new Error('sample err'))  \n</code></pre>\n\n<p>Then you can get the result data in <code>then</code> of promise, like below:</p>\n\n<pre><code>this.loginProvider.getLocations().then(result =&gt; {\n  // result is the data you resolved in promise\n  // do things based on result \n}).catch(err =&gt; {\n  // deal with exceptions\n})\n</code></pre>\n\n<p>For more about promise, refer <strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\" rel=\"nofollow noreferrer\">docs</a></strong>. </p>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 8100967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJtfc.png?s=128&g=1", "display_name": "Midnight_Penguin", "link": "https://stackoverflow.com/users/8100967/midnight-penguin"}, "is_accepted": false, "score": 0, "last_activity_date": 1524636717, "creation_date": 1524636717, "answer_id": 50015157, "question_id": 50014086, "link": "https://stackoverflow.com/questions/50014086/how-to-return-this-data-to-component-from-promise-in-provider/50015157#50015157", "title": "How to return this data to component from promise in provider", "body": "<p>I don't believe you need to explicitly create a new promise when you're already using the toPromise() call.\nI would use something like this:</p>\n\n<pre><code>async ngOnInit(): Promise&lt;void&gt; {\n   this.locations = await this._getLocations();\n}\n\nprivate _getLocations(): Promise&lt;Location[]&gt; {\n   return this._http.get&lt;LocationReturnData&gt;(apiUrl).toPromise().then(res =&gt; res);\n}\n</code></pre>\n\n<p>async and await are just shorthand for handling promises. await will WAIT for the return on the promise before going to the next line of code and it requires the async handler. It's much shorter &amp; simpler than stacking then()'s.</p>\n\n<p>I didn't see injection for http but I'm assuming you're using the latest HttpClient, which should handle any json data for you by default.</p>\n"}, {"tags": [], "owner": {"reputation": 934, "user_id": 5456789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab7eeee868af25b10e465781dceb9301?s=128&d=identicon&r=PG&f=1", "display_name": "amir110", "link": "https://stackoverflow.com/users/5456789/amir110"}, "is_accepted": false, "score": 0, "last_activity_date": 1555224420, "creation_date": 1555224420, "answer_id": 55672667, "question_id": 50014086, "link": "https://stackoverflow.com/questions/50014086/how-to-return-this-data-to-component-from-promise-in-provider/55672667#55672667", "title": "How to return this data to component from promise in provider", "body": "<p>if you need result of request in other method call, you should just return it in onfulfilled(success) function, like this:</p>\n\n<pre><code>    getLocations() {\n         let apiURL = 'http://xxxx-dev.xxxxxxx.com/api/default/v1/locations';\n         return   this.http.get(apiURL)\n          .toPromise()\n          .then(\n            (success) =&gt; { \n              this.locations = res.json(); \n              console.log(this.locations);\n\n              return success;          \n            }\n          );\n    }\n\n    otherMethod() {\n        getLocations().then(\n            (res) =&gt; {\n                //you see result of query that returned in http request\n            }\n        );\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 371, "user_id": 5605156, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5218b8927ad976c11221a7be03fc595e?s=128&d=identicon&r=PG", "display_name": "Joe Starnes", "link": "https://stackoverflow.com/users/5605156/joe-starnes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1140, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1555224420, "creation_date": 1524630545, "last_edit_date": 1524631848, "question_id": 50014086, "link": "https://stackoverflow.com/questions/50014086/how-to-return-this-data-to-component-from-promise-in-provider", "title": "How to return this data to component from promise in provider", "body": "<p>The code below shows my call in the component.</p>\n\n<p>The <code>getLocations</code> is in the <code>provider</code>.</p>\n\n<p>I am failing to understand how to get the data back to the component to display to the user. I can see the data in the format <code>[{},{}]</code> in the console but need to access use it on the front end.</p>\n\n<p>I am very new to angular and this is my first attempt at an HTTP call using <code>component/provider/promise</code>.</p>\n\n<p>Any help/suggestions would be greatly appreciated. </p>\n\n<p>Is this best practice for Angular 5? Sorry for my ignorance.</p>\n\n<pre><code>constructor(public navCtrl: NavController, public navParams: NavParams, public loginProvider: LoginProvider, public alertCtrl: AlertController) {\n\n        this.loginProvider.getLocations();\n  }\n\ngetLocations() {\n    let promise = new Promise((resolve, reject) =&gt; {\n      let apiURL = 'http://xxxx-dev.xxxxxxx.com/api/default/v1/locations';\n       this.http.get(apiURL)\n      .toPromise()\n      .then(\n        res =&gt; { // Success\n\n          this.locations = res.json(); \n          console.log(this.locations);\n          resolve();                \n\n        }\n      );\n  });\n  return promise;\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic3"], "answers": [{"comments": [{"owner": {"reputation": 1557, "user_id": 5525626, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-RF4TSKzcySA/AAAAAAAAAAI/AAAAAAAAFW8/-HFaTbpKlr8/photo.jpg?sz=128", "display_name": "G B", "link": "https://stackoverflow.com/users/5525626/g-b"}, "edited": false, "score": 0, "creation_date": 1524631854, "post_id": 50014211, "comment_id": 87044691, "body": "Thank you for your answer but the issue exactly was it isn\u2019t pushing items \u2018msg\u2019 array"}, {"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "reply_to_user": {"reputation": 1557, "user_id": 5525626, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-RF4TSKzcySA/AAAAAAAAAAI/AAAAAAAAFW8/-HFaTbpKlr8/photo.jpg?sz=128", "display_name": "G B", "link": "https://stackoverflow.com/users/5525626/g-b"}, "edited": false, "score": 0, "creation_date": 1524631995, "post_id": 50014211, "comment_id": 87044721, "body": "what&#39;s the error now in console? can you reproduce your error on <a href=\"https://stackblitz.com/edit/ionic-28wfs1\" rel=\"nofollow noreferrer\">stackblitz.com/edit/ionic-28wfs1</a> ?"}, {"owner": {"reputation": 1557, "user_id": 5525626, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-RF4TSKzcySA/AAAAAAAAAAI/AAAAAAAAFW8/-HFaTbpKlr8/photo.jpg?sz=128", "display_name": "G B", "link": "https://stackoverflow.com/users/5525626/g-b"}, "edited": false, "score": 0, "creation_date": 1524632192, "post_id": 50014211, "comment_id": 87044773, "body": "Error TypeError: Cannot set property msg of undefined at timer"}, {"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "reply_to_user": {"reputation": 1557, "user_id": 5525626, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-RF4TSKzcySA/AAAAAAAAAAI/AAAAAAAAFW8/-HFaTbpKlr8/photo.jpg?sz=128", "display_name": "G B", "link": "https://stackoverflow.com/users/5525626/g-b"}, "edited": false, "score": 0, "creation_date": 1524632306, "post_id": 50014211, "comment_id": 87044809, "body": "try to initilize <code>msg</code> with empty array like this on top <code>msg : any[] = []</code>"}, {"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "reply_to_user": {"reputation": 1557, "user_id": 5525626, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-RF4TSKzcySA/AAAAAAAAAAI/AAAAAAAAFW8/-HFaTbpKlr8/photo.jpg?sz=128", "display_name": "G B", "link": "https://stackoverflow.com/users/5525626/g-b"}, "edited": false, "score": 0, "creation_date": 1524633455, "post_id": 50014211, "comment_id": 87045161, "body": "Kindly try to reproduce the same error on stackblitz if possible"}], "tags": [], "owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "is_accepted": false, "score": 0, "last_activity_date": 1524631418, "creation_date": 1524631418, "answer_id": 50014211, "question_id": 50014053, "link": "https://stackoverflow.com/questions/50014053/ionic-2-iterate-element-in-an-array/50014211#50014211", "title": "Ionic 2 iterate element in an array", "body": "<p>Most probably the issue with the scope.</p>\n\n<p>Try to replace your code with this one :</p>\n\n<pre><code>    export class AuthPage {\n    msg : any[];\n    count = 0;\n    .......\n\n    constructor(public navCtrl : NavController, public navParams : NavParams, public afs : AngularFirestore, public appService : AppServiceProvider, private alertCtrl : AlertController,) {\n        const messages = [\n            'Welcome to Fight Rabbit',\n            'We are going to ask you a few questions to help setup your account',\n            'What\\'s your Phone Number?'\n        ]\n        const interval = setInterval(() =&gt; {\n            this.timer()\n        }, 2000)\n\n        this.count = 0;\n    }\n\n    timer() {\n      this.msg = [];\n      if (count &lt; messages.length) {\n          this.msg.push(messages[count])\n          console.log(messages[count],count)\n          count += 1\n      } else {\n          clearInterval(interval)\n      }\n\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1081, "user_id": 7380955, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bmDk8.jpg?s=128&g=1", "display_name": "Mahesh Jadhav", "link": "https://stackoverflow.com/users/7380955/mahesh-jadhav"}, "is_accepted": false, "score": 0, "last_activity_date": 1524635007, "creation_date": 1524635007, "answer_id": 50014773, "question_id": 50014053, "link": "https://stackoverflow.com/questions/50014053/ionic-2-iterate-element-in-an-array/50014773#50014773", "title": "Ionic 2 iterate element in an array", "body": "<p>You are getting error cannot set property msg of undefined this means 'this' keyword is undefined inside your function block. the this keyword is not getting binded inside your function block</p>\n\n<p>try console.log this first inside your function and check if it is undefined and if it is then try using es6 arrow function syntax or a simple hack is:</p>\n\n<pre><code>timer() {\n  this.msg = [];\n  console.log(this) // if you get empty msg array then bind your this else bind it before the timer function starts(just above the timer())\n\n  let $this = this // use $this every where inside this block and it wont give you undefined error\n\n  if (count &lt; messages.length) {\n      $this.msg.push(messages[count])\n      console.log(messages[count],count)\n      count += 1\n  } else {\n      clearInterval(interval)\n  }\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1557, "user_id": 5525626, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-RF4TSKzcySA/AAAAAAAAAAI/AAAAAAAAFW8/-HFaTbpKlr8/photo.jpg?sz=128", "display_name": "G B", "link": "https://stackoverflow.com/users/5525626/g-b"}, "edited": false, "score": 0, "creation_date": 1524638073, "post_id": 50015067, "comment_id": 87047210, "body": "but the array is being cleared after the second iterations"}, {"owner": {"reputation": 1846, "user_id": 1608690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d94e12f15d54961d8fdb679100346e?s=128&d=identicon&r=PG", "display_name": "Kelvin Lai", "link": "https://stackoverflow.com/users/1608690/kelvin-lai"}, "reply_to_user": {"reputation": 1557, "user_id": 5525626, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-RF4TSKzcySA/AAAAAAAAAAI/AAAAAAAAFW8/-HFaTbpKlr8/photo.jpg?sz=128", "display_name": "G B", "link": "https://stackoverflow.com/users/5525626/g-b"}, "edited": false, "score": 0, "creation_date": 1524638434, "post_id": 50015067, "comment_id": 87047418, "body": "@GeraldBrigen That&#39;s another question you could post :)"}], "tags": [], "owner": {"reputation": 1846, "user_id": 1608690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d94e12f15d54961d8fdb679100346e?s=128&d=identicon&r=PG", "display_name": "Kelvin Lai", "link": "https://stackoverflow.com/users/1608690/kelvin-lai"}, "is_accepted": true, "score": 0, "last_activity_date": 1524636334, "creation_date": 1524636334, "answer_id": 50015067, "question_id": 50014053, "link": "https://stackoverflow.com/questions/50014053/ionic-2-iterate-element-in-an-array/50015067#50015067", "title": "Ionic 2 iterate element in an array", "body": "<p>A quick fix would be:</p>\n\n<pre><code>export class AuthPage {\n\n    public verifyPhone : string;\n    public collection = 'clients';\n    public data;\n    public user;\n    public response;\n    count : number;\n    msg : any[];\n\n    constructor(public navCtrl : NavController, public navParams : NavParams, public afs : AngularFirestore, public appService : AppServiceProvider, private alertCtrl : AlertController,) {\n\n\n        let messages=[\n            'Welcome to Fight Rabbit',\n            'We are going to ask you a few questions to help setup your account',\n            'What\\'s your Phone Number?'\n        ]\n\n        var count = 0;\n        var interval = setInterval(() =&gt; {\n            this.msg=[];\n            if (count &lt; messages.length) {\n                this.msg.push(messages[count])\n                console.log(messages[count],count)\n                count += 1\n            } else {\n                clearInterval(interval)\n            }    \n        }, 2000)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1557, "user_id": 5525626, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-RF4TSKzcySA/AAAAAAAAAAI/AAAAAAAAFW8/-HFaTbpKlr8/photo.jpg?sz=128", "display_name": "G B", "link": "https://stackoverflow.com/users/5525626/g-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 50015067, "answer_count": 3, "score": 1, "last_activity_date": 1524636334, "creation_date": 1524630293, "question_id": 50014053, "link": "https://stackoverflow.com/questions/50014053/ionic-2-iterate-element-in-an-array", "title": "Ionic 2 iterate element in an array", "body": "<p>I am trying to iterate each element of an array after  a certain interval of time like 2sec then display it. When i try doing so it console logs successfully but when i try pushing it into <code>msg</code>  so achieve my aim i get an <code>ERROR TypeError: Cannot set property 'msg' of undefined at timer</code> Is there something am missing or a better solution ?</p>\n\n<pre><code>export class AuthPage {\n\n    public verifyPhone : string;\n    public collection = 'clients';\n    public data;\n    public user;\n    public response;\n    count : number;\n    msg : any[];\n\n    constructor(public navCtrl : NavController, public navParams : NavParams, public afs : AngularFirestore, public appService : AppServiceProvider, private alertCtrl : AlertController,) {\n\n\n        let messages=[\n            'Welcome to Fight Rabbit',\n            'We are going to ask you a few questions to help setup your account',\n            'What\\'s your Phone Number?'\n        ]\n        var interval = setInterval(function () {\n            timer()\n\n        }, 2000)\n\n        var count = 0;\n        function timer() {\n            this.msg=[];\n            if (count &lt; messages.length) {\n                this.msg.push(messages[count])\n                console.log(messages[count],count)\n                count += 1\n            } else {\n                clearInterval(interval)\n            }\n\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript", "node.js-addon"], "comments": [{"owner": {"reputation": 9285, "user_id": 1218408, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/YqwCY.png?s=128&g=1", "display_name": "ZachB", "link": "https://stackoverflow.com/users/1218408/zachb"}, "edited": false, "score": 0, "creation_date": 1528747921, "post_id": 50013708, "comment_id": 88616626, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44275172/typescript-declarations-file-for-node-c-addon\">Typescript declarations file for Node C++ Addon</a>"}], "answers": [{"tags": [], "owner": {"reputation": 209, "user_id": 1522392, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/6646301062e60bde5166aa6955668576?s=128&d=identicon&r=PG", "display_name": "TomWan", "link": "https://stackoverflow.com/users/1522392/tomwan"}, "is_accepted": false, "score": 4, "last_activity_date": 1524628690, "creation_date": 1524628690, "answer_id": 50013836, "question_id": 50013708, "link": "https://stackoverflow.com/questions/50013708/how-to-use-c-addon-in-typescript/50013836#50013836", "title": "how to use c addon in typescript", "body": "<p>Try to add a addon.d.ts file to the folder '../1/build/Release/', The content should be:</p>\n\n<pre><code>export function helloworld (): string\n</code></pre>\n\n<p>You can see this issue for more details: <a href=\"https://github.com/Microsoft/TypeScript/issues/8335\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/issues/8335</a></p>\n"}], "owner": {"reputation": 11, "user_id": 9694738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a1813e37ae3fe5825124e2c15af082a?s=128&d=identicon&r=PG&f=1", "display_name": "user9694738", "link": "https://stackoverflow.com/users/9694738/user9694738"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1173, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1524628690, "creation_date": 1524627550, "question_id": 50013708, "link": "https://stackoverflow.com/questions/50013708/how-to-use-c-addon-in-typescript", "title": "how to use c addon in typescript", "body": "<p>I have a c addon(using napi)for nodejs,and i can run it correctly in js code.now i want to use it in typescript,i try to write a .d.ts file but always fail.how can i write a d.ts file correctly?\nThe c addon is a helloworld code like this:</p>\n\n<pre><code>#include &lt;node_api.h&gt;\n#include &lt;stdio.h&gt;\n\n\nnapi_value Helloworld(napi_env env, napi_callback_info info)\n{\n    napi_status status;\n\n    size_t argc = 1;\n    napi_value argv[1];\n    status = napi_get_cb_info(env, info, &amp;argc, argv, 0, 0);\n    if(status != napi_ok )\n    {\n        napi_throw_type_error(env,\"\", \"Wrong number of arguments\");\n        status = napi_get_undefined(env, argv);\n    }\n    printf(\"Hello\\n\");\n    return NULL;\n}\n\nnapi_value Init(napi_env env, napi_value exports)\n{\n    napi_status status;\n    napi_property_descriptor des =\n       { \"helloworld\", 0, Helloworld, 0, 0, 0, napi_default, 0 };\n    status = napi_define_properties(env, exports, 1, &amp;desc);\n    return exports;\n}\n\nNAPI_MODULE(addon, Init)\n</code></pre>\n\n<p>and the js code is this:</p>\n\n<pre><code>//this can run\nconst addon = require(\"../1/build/Release/addon\");\naddon.helloworld();\n</code></pre>\n\n<p>js code can run.and now i want to do this in typescript, how can i write a .d.ts file and how can i run it in typescript?thanks.\ni have try some but fail:</p>\n\n<pre><code>//this is fail code    \ndeclare module \"addon\" {\n      function helloworld():string \n      export = addon\n    }\n\n    /*\n    const addon = require('./addon')\n    declare  module 'addon'{\n      export function addon.helloworld():string \n    }\n    export function addon.echo(input: string):string\n    export function echo {\n    } = addon.echo */\n    /* export = helloworld\n    declare function helloworld (): string\n     */\n    /*\n    export = MyFunction;\n    declare function MyFunction(): string;\n    */\n\n    /* const addon = require('./addon')\n    export default module 'addon' {\n      export function helloworld():string\n    }  */\n    /* \n    const addon = require('./addon')\n    export function helloworld():string\n     */\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-material", "mat-tab"], "owner": {"reputation": 343, "user_id": 1301073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/911535457a1a6d45511539eaeafc43cd?s=128&d=identicon&r=PG", "display_name": "MajorXbox", "link": "https://stackoverflow.com/users/1301073/majorxbox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 422, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1529402585, "creation_date": 1524625575, "last_edit_date": 1529402585, "question_id": 50013466, "link": "https://stackoverflow.com/questions/50013466/mat-tab-group-tabs-not-rendering-after-switching-parent-tabs", "title": "mat-tab-group tabs not rendering after switching parent tabs", "body": "<p>I have an example where I need to use nested tabs and tables.</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-bgl1f2\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-bgl1f2</a></p>\n\n<p>When I switch parent tabs (View M2) and then try to switch child tabs (M3), the tabs do not render. Rendering occurs only after switching child tabs (M3) multiple times.</p>\n\n<p><strong>Steps to Reproduce in the above Stackblitz:</strong></p>\n\n<ol>\n<li>Open any M1 Expansion panel. This displays parent tabs (View M2) and child tabs (M3)</li>\n<li>Switch to child tab (<strong>M3 32 B</strong>)</li>\n<li>Switch to parent tab (<strong>View M2 - 2</strong>)</li>\n<li>Switch back to previous parent tab (<strong>View M2 - 1</strong>)</li>\n<li>Switch to child tab (<strong>M3 33 C</strong>)</li>\n</ol>\n\n<p><strong>Expected Result</strong><br>\nA table should be displayed in child tab (<strong>M3 33 C</strong>)</p>\n\n<p><strong>Actual Result</strong><br>\nNothing is rendered in child tab (<strong>M3 33 C</strong>)</p>\n\n<p>When you switch to a different child tab and then back to child tab (<strong>M3 33 C</strong>), table is displayed.</p>\n\n<p>Can anyone point out what is wrong?</p>\n"}, {"tags": ["angular", "typescript", "frontend"], "answers": [{"tags": [], "owner": {"reputation": 66, "user_id": 10101704, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-x91X_P3yQh0/AAAAAAAAAAI/AAAAAAAAAAg/URylBDtqGOQ/photo.jpg?sz=128", "display_name": "riad ghalloussi", "link": "https://stackoverflow.com/users/10101704/riad-ghalloussi"}, "is_accepted": true, "score": 0, "last_activity_date": 1531951456, "last_edit_date": 1531951456, "creation_date": 1531942670, "answer_id": 51409807, "question_id": 50012699, "link": "https://stackoverflow.com/questions/50012699/nebular-nbemailpassauthprovider-apparently-calls-api-method-but-nblogincomponent/51409807#51409807", "title": "Nebular NbEmailPassAuthProvider apparently calls API method but NbLoginComponent still shows &quot;Something went wrong&quot; message", "body": "<p>You forgot the term  \"return \" in all your functions getter and  \"This. GetConfigValue (' token. Key ')  \"does not work here.</p>\n\n<p><strong>you have to write :</strong></p>\n\n<pre><code> getter: (module: string, res: HttpResponse&lt;Object&gt;) =&gt;{\n  console.log('token');\n\n  console.log(res); // &lt;-- the HttpResponse on the image came from this line\n  return getDeepFromObject(res.body,'data.value',2);\n\n          } // end getter\n\n  }// end token\n</code></pre>\n\n<p>The backend API must send an object like this : {data:{value:x}}</p>\n"}], "owner": {"reputation": 55, "user_id": 4909212, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gzHCcCypp4U/AAAAAAAAAAI/AAAAAAAAAE0/tjnHZOiwgs8/photo.jpg?sz=128", "display_name": "vborges", "link": "https://stackoverflow.com/users/4909212/vborges"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 838, "favorite_count": 1, "accepted_answer_id": 51409807, "answer_count": 1, "score": 0, "last_activity_date": 1531951456, "creation_date": 1524618922, "question_id": 50012699, "link": "https://stackoverflow.com/questions/50012699/nebular-nbemailpassauthprovider-apparently-calls-api-method-but-nblogincomponent", "title": "Nebular NbEmailPassAuthProvider apparently calls API method but NbLoginComponent still shows &quot;Something went wrong&quot; message", "body": "<p>I'm trying to follow the Nebular documentation available <a href=\"https://akveo.github.io/nebular/?utm_source=github&amp;utm_medium=nebular_readme#/docs/auth/introduction\" rel=\"nofollow noreferrer\">here</a> but still not being able to put it to work. I'm using the default <code>NbLoginComponent</code> from <code>@nebular/auth</code>, imported NbAuthModule on <code>app.module.ts</code> and a breakpoint on the API is activated when \"Sign In\" button hitted.</p>\n\n<p>I've put a line to log the <code>HttpResponse</code> on to the browser console and it shows the info recorded in the <a href=\"https://i.stack.imgur.com/KPWJY.png\" rel=\"nofollow noreferrer\">image here</a>.</p>\n\n<p>But the NbLoginComponent still shows the message \"Oh snap! Something went wrong.\" and doesn't redirect to <code>'/'</code> as configured when success.</p>\n\n<p>app.module.ts:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { APP_BASE_HREF } from '@angular/common';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { NgModule } from '@angular/core';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { CoreModule } from './@core/core.module';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { ThemeModule } from './@theme/theme.module';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { AuthGuard } from './auth-guard.service';\r\nimport {\r\n  NbAuthModule,\r\n  NbEmailPassAuthProvider,\r\n} from '@nebular/auth';\r\nimport { authConfig } from './auth.config';\r\n\r\n@NgModule({\r\n  declarations: [AppComponent],\r\n  imports: [\r\n    BrowserModule,\r\n    BrowserAnimationsModule,\r\n    HttpClientModule,\r\n    AppRoutingModule,\r\n    NgbModule.forRoot(),\r\n    ThemeModule.forRoot(),\r\n    CoreModule.forRoot(),\r\n    NbAuthModule.forRoot({\r\n      providers: {\r\n        email: {\r\n          service: NbEmailPassAuthProvider,\r\n          config: authConfig,\r\n        },\r\n      },\r\n    }),\r\n  ],\r\n  bootstrap: [AppComponent],\r\n  exports: [NbAuthModule],\r\n  providers: [\r\n    AuthGuard,\r\n    NbEmailPassAuthProvider,\r\n    { provide: APP_BASE_HREF, useValue: '/' },\r\n  ],\r\n})\r\nexport class AppModule {\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>auth.config.ts:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport {\r\n  HttpResponse,\r\n  HttpErrorResponse,\r\n} from '@angular/common/http';\r\n\r\nimport { getDeepFromObject} from '@nebular/auth/helpers';\r\nimport { NgEmailPassAuthProviderConfig } from '@nebular/auth/providers/email-pass-auth.options';\r\n\r\nexport const authConfig: NgEmailPassAuthProviderConfig = {\r\n  baseEndpoint: 'http://localhost:8080',\r\n  login: {\r\n    endpoint: '/auth/login',\r\n    method: 'get',\r\n    redirect: {\r\n      success: '/',\r\n      failure: null,\r\n    },\r\n    defaultErrors: ['Login/Email combination is not correct, please try again.'],\r\n    defaultMessages: ['You have been successfully logged in.'],\r\n  },\r\n  register: {\r\n    endpoint: '/api/auth/register',\r\n    method: 'post',\r\n    redirect: {\r\n      success: '/',\r\n      failure: null,\r\n    },\r\n    defaultErrors: ['Something went wrong, please try again.'],\r\n    defaultMessages: ['You have been successfully registered.'],\r\n  },\r\n  logout: {\r\n    endpoint: '/api/auth/logout',\r\n    method: 'delete',\r\n    redirect: {\r\n      success: '/',\r\n      failure: null,\r\n    },\r\n    defaultErrors: ['Something went wrong, please try again.'],\r\n    defaultMessages: ['You have been successfully logged out.'],\r\n  },\r\n  requestPass: {\r\n    endpoint: '/api/auth/request-pass',\r\n    method: 'post',\r\n    redirect: {\r\n      success: '/',\r\n      failure: null,\r\n    },\r\n    defaultErrors: ['Something went wrong, please try again.'],\r\n    defaultMessages: ['Reset password instructions have been sent to your email.'],\r\n  },\r\n  resetPass: {\r\n    endpoint: '/api/auth/reset-pass',\r\n    method: 'put',\r\n    redirect: {\r\n      success: '/',\r\n      failure: null,\r\n    },\r\n    resetPasswordTokenKey: 'reset_password_token',\r\n    defaultErrors: ['Something went wrong, please try again.'],\r\n    defaultMessages: ['Your password has been successfully changed.'],\r\n  },\r\n  token: {\r\n    key: 'data.value',\r\n    getter: (module: string, res: HttpResponse&lt;Object&gt;) =&gt; {\r\n      console.log('token');\r\n      console.log(res); // &lt;-- the HttpResponse on the image came from this line\r\n      getDeepFromObject(res.body,this.getConfigValue('token.key'));\r\n    }\r\n  },\r\n  errors: {\r\n    key: 'data.errors',\r\n    getter: (module: string, res: HttpErrorResponse) =&gt; {\r\n      console.log('errors');\r\n      console.log(res);\r\n      getDeepFromObject(res.error,\r\n      this.getConfigValue('errors.key'),\r\n      this.getConfigValue('${module}.defaultErrors'));\r\n    },\r\n  },\r\n  messages: {\r\n    key: 'data.messages',\r\n    getter: (module: string, res: HttpResponse&lt;Object&gt;) =&gt; {\r\n      console.log('messages');\r\n      console.log(res);\r\n      getDeepFromObject(res.body,\r\n      this.getConfigValue('messages.key'),\r\n      this.getConfigValue('${module}.defaultMessages'));\r\n    },\r\n  },\r\n};</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["angular", "typescript", "firebase", "google-cloud-firestore", "angularfire2"], "comments": [{"owner": {"reputation": 28133, "user_id": 2065039, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/7wqQg.jpg?s=128&g=1", "display_name": "Guruprasad J Rao", "link": "https://stackoverflow.com/users/2065039/guruprasad-j-rao"}, "edited": false, "score": 0, "creation_date": 1524642667, "post_id": 50012438, "comment_id": 87049740, "body": "Try using <b>date</b> pipe as <code>&lt;mat-cell *matCellDef=&quot;let domiciliario&quot;&gt; {{ domiciliario.date | date:&#39;dd-MMM-yyyy&#39; }} &lt;&#47;mat-cell&gt;</code>"}, {"owner": {"reputation": 1805, "user_id": 8312532, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh4.googleusercontent.com/-PUT054_rmYc/AAAAAAAAAAI/AAAAAAAACmo/XjpuTUNgw0o/photo.jpg?sz=128", "display_name": "Paco Zevallos", "link": "https://stackoverflow.com/users/8312532/paco-zevallos"}, "reply_to_user": {"reputation": 28133, "user_id": 2065039, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/7wqQg.jpg?s=128&g=1", "display_name": "Guruprasad J Rao", "link": "https://stackoverflow.com/users/2065039/guruprasad-j-rao"}, "edited": false, "score": 0, "creation_date": 1524664017, "post_id": 50012438, "comment_id": 87063989, "body": "@GuruprasadRao I get the following error <code>Error: InvalidPipeArgument: &#39;[object Object]&#39; for pipe &#39;DatePipe&#39;</code>"}, {"owner": {"reputation": 28133, "user_id": 2065039, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/7wqQg.jpg?s=128&g=1", "display_name": "Guruprasad J Rao", "link": "https://stackoverflow.com/users/2065039/guruprasad-j-rao"}, "edited": false, "score": 0, "creation_date": 1524664131, "post_id": 50012438, "comment_id": 87064059, "body": "Before feeding to <code>const date=</code> try <code>new Date(timestampvalue)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1805, "user_id": 8312532, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh4.googleusercontent.com/-PUT054_rmYc/AAAAAAAAAAI/AAAAAAAACmo/XjpuTUNgw0o/photo.jpg?sz=128", "display_name": "Paco Zevallos", "link": "https://stackoverflow.com/users/8312532/paco-zevallos"}, "edited": false, "score": 0, "creation_date": 1524665585, "post_id": 50014793, "comment_id": 87065055, "body": "This timestamp is not generated automatically like the ID? If not, then how can I add that timestamp in Firestore?"}, {"owner": {"reputation": 1805, "user_id": 8312532, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh4.googleusercontent.com/-PUT054_rmYc/AAAAAAAAAAI/AAAAAAAACmo/XjpuTUNgw0o/photo.jpg?sz=128", "display_name": "Paco Zevallos", "link": "https://stackoverflow.com/users/8312532/paco-zevallos"}, "edited": false, "score": 0, "creation_date": 1524673137, "post_id": 50014793, "comment_id": 87070193, "body": "Thanks I added a variable with <code>firebase.firestore.FieldValue.serverTimestamp ();</code> and this added a field with the date in Firestore. I will respond with this."}, {"owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "reply_to_user": {"reputation": 1805, "user_id": 8312532, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh4.googleusercontent.com/-PUT054_rmYc/AAAAAAAAAAI/AAAAAAAACmo/XjpuTUNgw0o/photo.jpg?sz=128", "display_name": "Paco Zevallos", "link": "https://stackoverflow.com/users/8312532/paco-zevallos"}, "edited": false, "score": 0, "creation_date": 1524673339, "post_id": 50014793, "comment_id": 87070315, "body": "@PacoZevallos Cool! :-) If you now query ordered on this value you should get what you are looking for"}, {"owner": {"reputation": 1805, "user_id": 8312532, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh4.googleusercontent.com/-PUT054_rmYc/AAAAAAAAAAI/AAAAAAAACmo/XjpuTUNgw0o/photo.jpg?sz=128", "display_name": "Paco Zevallos", "link": "https://stackoverflow.com/users/8312532/paco-zevallos"}, "edited": false, "score": 0, "creation_date": 1524674841, "post_id": 50014793, "comment_id": 87071078, "body": "I should mention that <code>new Date ()</code> also works for me, I do not understand what the difference is with <code>firebase.firestore.FieldValue.serverTimestamp ()</code> when creating a timestamp but it also works for me."}, {"owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "reply_to_user": {"reputation": 1805, "user_id": 8312532, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh4.googleusercontent.com/-PUT054_rmYc/AAAAAAAAAAI/AAAAAAAACmo/XjpuTUNgw0o/photo.jpg?sz=128", "display_name": "Paco Zevallos", "link": "https://stackoverflow.com/users/8312532/paco-zevallos"}, "edited": false, "score": 0, "creation_date": 1524675300, "post_id": 50014793, "comment_id": 87071306, "body": "@PacoZevallos <code>new Date()</code> is the current timestamp of your client machine (the user&#39;s browser) while <code>firebase.firestore.FieldValue.serverTimestamp ()</code> is the timestamp of the Firebase server"}, {"owner": {"reputation": 1805, "user_id": 8312532, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh4.googleusercontent.com/-PUT054_rmYc/AAAAAAAAAAI/AAAAAAAACmo/XjpuTUNgw0o/photo.jpg?sz=128", "display_name": "Paco Zevallos", "link": "https://stackoverflow.com/users/8312532/paco-zevallos"}, "edited": false, "score": 0, "creation_date": 1524675592, "post_id": 50014793, "comment_id": 87071438, "body": "Oh that&#39;s a very significant difference then, since <code>new Date</code> can be manipulated and modified by the user, whereas <code>firebase.firestore.FieldValue.serverTimestamp ()</code> does not. This is correct?"}, {"owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "reply_to_user": {"reputation": 1805, "user_id": 8312532, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh4.googleusercontent.com/-PUT054_rmYc/AAAAAAAAAAI/AAAAAAAACmo/XjpuTUNgw0o/photo.jpg?sz=128", "display_name": "Paco Zevallos", "link": "https://stackoverflow.com/users/8312532/paco-zevallos"}, "edited": false, "score": 0, "creation_date": 1524675620, "post_id": 50014793, "comment_id": 87071450, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/169783/discussion-between-renaud-tarnec-and-paco-zevallos\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "is_accepted": false, "score": 13, "last_activity_date": 1607244065, "last_edit_date": 1607244065, "creation_date": 1524635096, "answer_id": 50014793, "question_id": 50012438, "link": "https://stackoverflow.com/questions/50012438/how-to-get-firestore-timestamp/50014793#50014793", "title": "How to get firestore timestamp", "body": "<p>I think you are using <code>FieldValue.serverTimestamp()</code> the wrong way: as the documentation states, <code>firebase.firestore.FieldValue</code> methods return &quot;values that can be used <strong>when writing</strong> document fields with set() or update()&quot;.\n(See <a href=\"https://firebase.google.com/docs/reference/js/firebase.firestore.FieldValue\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/reference/js/firebase.firestore.FieldValue</a>)</p>\n<p>You are using the <code>serverTimestamp()</code> method while reading the data.</p>\n<p>You should use it <strong>when you create</strong> the records in the database, as you mention at the end of your question.</p>\n<p>EDIT:\nDo as follow:</p>\n<pre><code>const timestamp = firebase.firestore.FieldValue.serverTimestamp();\ndocRef.update({ updatedAt: timestamp });\n</code></pre>\n<p>You can then query like</p>\n<pre><code>collectionRef.orderBy('updatedAt').get()\n    .then(snapshot =&gt; {\n        snapshot.forEach(doc =&gt; {\n            ...\n        });\n    })\n    .catch(err =&gt; {\n        console.log('Error getting documents', err);\n    });\n</code></pre>\n<p><em>The above code is pure JavaScript and you may adapt it to angular and type script but the philosophy is the same.</em></p>\n"}, {"tags": [], "owner": {"reputation": 1805, "user_id": 8312532, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh4.googleusercontent.com/-PUT054_rmYc/AAAAAAAAAAI/AAAAAAAACmo/XjpuTUNgw0o/photo.jpg?sz=128", "display_name": "Paco Zevallos", "link": "https://stackoverflow.com/users/8312532/paco-zevallos"}, "is_accepted": false, "score": 0, "last_activity_date": 1524707483, "creation_date": 1524707483, "answer_id": 50033687, "question_id": 50012438, "link": "https://stackoverflow.com/questions/50012438/how-to-get-firestore-timestamp/50033687#50033687", "title": "How to get firestore timestamp", "body": "<p>Thanks to @Renaud who put emphasis on where I was implementing the timestamp, it should be when creating a record in Firestore. In my case I am working with a formGroup, then the code would look something like this:</p>\n\n<pre><code>forma: FormGroup;\n\nconstructor( fb: FormBuilder) { \n  this.forma = fb.group ({\n    field1: [ ''],\n    field2: [ ''],\n    ...\n    myDate: [ firebase.firestore.FieldValue.serverTimestamp() ],\n  });\n}\n</code></pre>\n\n<p>This alternative also works but remember that it is the current time of the client's computer (user's browser).</p>\n\n<pre><code>forma: FormGroup;\n\nconstructor( fb: FormBuilder) { \n  this.forma = fb.group ({\n    field1: [ ''],\n    field2: [ ''],\n    ...\n    myDate: [ new Date() ],\n  });\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 601, "user_id": 4906546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c89e3e5182f580097b68f7f45dec5568?s=128&d=identicon&r=PG&f=1", "display_name": "Papa Kojo", "link": "https://stackoverflow.com/users/4906546/papa-kojo"}, "is_accepted": false, "score": 17, "last_activity_date": 1529276763, "creation_date": 1529276763, "answer_id": 50901149, "question_id": 50012438, "link": "https://stackoverflow.com/questions/50012438/how-to-get-firestore-timestamp/50901149#50901149", "title": "How to get firestore timestamp", "body": "<p>IF you want the date value of <code>firebase.firestore.FieldValue.serverTimestamp()</code> you can use <code>.toDate()</code>.\nSee <a href=\"https://firebase.google.com/docs/reference/js/firebase.firestore.Timestamp/\" rel=\"noreferrer\">FireStore Timesteamp</a>. In your case it will be <code>domiciliario.date.toDate()</code> in your template.</p>\n"}, {"comments": [{"owner": {"reputation": 1247, "user_id": 1312768, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4f29c29b581947bfc4d1b4ad028e13e8?s=128&d=identicon&r=PG", "display_name": "fyelci", "link": "https://stackoverflow.com/users/1312768/fyelci"}, "edited": false, "score": 0, "creation_date": 1618710614, "post_id": 58540927, "comment_id": 118683917, "body": "This returns user&#39;s local date time. If user&#39;s date/time is wrong, you will get wrong date/time"}], "tags": [], "owner": {"reputation": 2784, "user_id": 1713519, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/ED8ir.jpg?s=128&g=1", "display_name": "Ruan", "link": "https://stackoverflow.com/users/1713519/ruan"}, "is_accepted": false, "score": 11, "last_activity_date": 1583478223, "last_edit_date": 1583478223, "creation_date": 1571918297, "answer_id": 58540927, "question_id": 50012438, "link": "https://stackoverflow.com/questions/50012438/how-to-get-firestore-timestamp/58540927#58540927", "title": "How to get firestore timestamp", "body": "<p>If you want the current Date as a timestamp you can use the following</p>\n\n<p><strong>For Firebase Functions</strong></p>\n\n<pre><code>import admin = require('firebase-admin');\n\nconst todayAsTimestamp = admin.firestore.Timestamp.now()\n</code></pre>\n\n<p><strong>For local projects</strong></p>\n\n<pre><code>import { Timestamp } from '@google-cloud/firestore';\n\nconst myTimestampAsDate = Timestamp.now()\n</code></pre>\n"}], "owner": {"reputation": 1805, "user_id": 8312532, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh4.googleusercontent.com/-PUT054_rmYc/AAAAAAAAAAI/AAAAAAAACmo/XjpuTUNgw0o/photo.jpg?sz=128", "display_name": "Paco Zevallos", "link": "https://stackoverflow.com/users/8312532/paco-zevallos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46013, "favorite_count": 5, "answer_count": 4, "score": 13, "last_activity_date": 1607244065, "creation_date": 1524616195, "question_id": 50012438, "link": "https://stackoverflow.com/questions/50012438/how-to-get-firestore-timestamp", "title": "How to get firestore timestamp", "body": "<p>I'm trying to get the timestamp of a document that I created in firestore, but what I get is this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/I4A6N.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/I4A6N.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>myService.ts</strong></p>\n\n<pre><code>getDomiciliarios() {\nthis.domiciliarios = this.afs.collection('domiciliarios').snapshotChanges().map(actions =&gt; {\n  return actions.map(a =&gt; {\n    const data = a.payload.doc.data() as Domiciliario;\n    const id = a.payload.doc.id;\n    const date = firebase.firestore.FieldValue.serverTimestamp();\n    return { id, ...data, date };\n  });\n});\n\nreturn this.domiciliarios;\n}\n</code></pre>\n\n<p><strong>myComponent.ts</strong></p>\n\n<pre><code>ngOnInit() {\nconst domiciliarios = this.fs.getDomiciliarios()\n  .subscribe(data =&gt; this.dataSource.data = data, date =&gt; date);\n}\n</code></pre>\n\n<p><strong>myComponent.html</strong></p>\n\n<pre><code>&lt;ng-container matColumnDef=\"fecha\"&gt;\n  &lt;mat-header-cell *matHeaderCellDef mat-sort-header&gt; Fecha &lt;/mat-header-cell&gt;\n  &lt;mat-cell *matCellDef=\"let domiciliario\"&gt; {{ domiciliario.date }} &lt;/mat-cell&gt;\n&lt;/ng-container&gt;\n</code></pre>\n\n<p>How can I print that timestamp, should I have previously created it?</p>\n"}, {"tags": ["html", "typescript", "angular5"], "answers": [{"comments": [{"owner": {"reputation": 790, "user_id": 1946418, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c6eaa268d9cbf2d460dabe3899ea5671?s=128&d=identicon&r=PG", "display_name": "scorpion35", "link": "https://stackoverflow.com/users/1946418/scorpion35"}, "edited": false, "score": 0, "creation_date": 1524617797, "post_id": 50012561, "comment_id": 87041536, "body": "Interesting! I also missed the point of <code>ngClass</code> that it removes classes if the condition is <code>false</code>. Thanks for the link :) For sake of completeness, this is my new code - <code>[ngClass]=&quot;{     &#39;navbar-dark&#39; : themeColor === &#39;dark&#39; || themeColor === &#39;blue&#39;,     &#39;bg-dark&#39; : themeColor === &#39;dark&#39;,     &#39;bg-primary&#39; : themeColor === &#39;blue&#39;,     &#39;navbar-light bg-light&#39; : themeColor === &#39;light&#39;   }</code>"}], "tags": [], "owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "is_accepted": true, "score": 2, "last_activity_date": 1524617397, "creation_date": 1524617397, "answer_id": 50012561, "question_id": 50012300, "link": "https://stackoverflow.com/questions/50012300/angular-5-ngclass-not-able-to-add-multiple-classes/50012561#50012561", "title": "Angular 5 - ngClass - Not able to add multiple classes", "body": "<p>There is a <a href=\"https://github.com/angular/angular/issues/17274\" rel=\"nofollow noreferrer\">previous bug report</a> in the Angular GitHub repo on this very topic.</p>\n\n<p>The reason is because <code>[ngClass]</code> will add classes for the ones that resolve to <code>true</code> and remove classes for those that resolve to <code>false</code>. You are using the same class in multiple cases which creates the problem.</p>\n"}], "owner": {"reputation": 790, "user_id": 1946418, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c6eaa268d9cbf2d460dabe3899ea5671?s=128&d=identicon&r=PG", "display_name": "scorpion35", "link": "https://stackoverflow.com/users/1946418/scorpion35"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 626, "favorite_count": 1, "accepted_answer_id": 50012561, "answer_count": 1, "score": 1, "last_activity_date": 1524617438, "creation_date": 1524614908, "last_edit_date": 1524617438, "question_id": 50012300, "link": "https://stackoverflow.com/questions/50012300/angular-5-ngclass-not-able-to-add-multiple-classes", "title": "Angular 5 - ngClass - Not able to add multiple classes", "body": "<p>Started to learn Angular 5 and am stuck with <code>ngClass</code> directive. I am trying to apply multiple classes based on a condition, but somehow only 1/2 classes are being applied. </p>\n\n<p><strong>mainnav.component.html</strong></p>\n\n<pre><code>&lt;nav class=\"navbar navbar-expand-lg fixed-top\"\n    [ngClass]=\"{\n    'navbar-dark bg-dark' : themeColor === 'dark',\n    'navbar-dark bg-primary' : themeColor === 'blue',\n    'navbar-light bg-light' : themeColor === 'light'\n    }\"&gt;\n...\n...\n&lt;li class=\"nav-item\"&gt;\n    &lt;form class=\"form-inline my-2 my-lg-0\"&gt;\n    &lt;input class=\"form-control mr-sm-2\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\" (keyup)=\"onButtonClicked($event)\"&gt;\n    &lt;button class=\"btn btn-outline-success my-2 my-sm-0\" [disabled]=\"!allowSearch\" type=\"submit\"&gt;Search&lt;/button&gt;\n    &lt;/form&gt;\n&lt;/li&gt;\n&lt;li class=\"nav-item dropdown\" (mouseover)=\"openDropDown($event)\"&gt;\n    &lt;a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"&gt;\n    Change Theme\n    &lt;/a&gt;\n    &lt;div class=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\"&gt;\n    &lt;a class=\"dropdown-item\" href=\"#\" (click)=\"enableDarkTheme()\"&gt;Dark&lt;/a&gt;\n    &lt;a class=\"dropdown-item\" href=\"#\" (click)=\"enableLightTheme()\"&gt;Light&lt;/a&gt;\n    &lt;a class=\"dropdown-item\" href=\"#\" (click)=\"enableBlueTheme()\"&gt;Blue&lt;/a&gt;\n    &lt;/div&gt;\n&lt;/li&gt;\n</code></pre>\n\n<p><strong>mainnav.component.ts</strong></p>\n\n<pre><code>themeColor: string = 'dark';\nenableDarkTheme() {\n    this.themeColor = 'dark';\n  }\n\n  enableLightTheme() {\n    this.themeColor = 'light';\n  }\n\n  enableBlueTheme() {\n    this.themeColor = 'blue';\n  }\n</code></pre>\n\n<p>The conditions seems to be working fine, but I am not sure why one class is not added as seen in screenshot below,</p>\n\n<p><a href=\"https://i.stack.imgur.com/ce8uq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ce8uq.png\" alt=\"enter image description here\"></a></p>\n\n<p>Does anyone know if my usage of <code>ngClass</code> is wrong?</p>\n"}, {"tags": ["typescript", "firebase", "ionic-framework", "angular5", "angularfire2"], "comments": [{"owner": {"reputation": 957, "user_id": 2729876, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tTIEO.png?s=128&g=1", "display_name": "SIGSTACKFAULT", "link": "https://stackoverflow.com/users/2729876/sigstackfault"}, "edited": false, "score": 0, "creation_date": 1524619648, "post_id": 50012132, "comment_id": 87041946, "body": "Can we see the code from <i>before</i> you broke everything?"}, {"owner": {"reputation": 3, "user_id": 5578780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8252bac3e1866bbd944654ce7a910ae9?s=128&d=identicon&r=PG&f=1", "display_name": "Kar", "link": "https://stackoverflow.com/users/5578780/kar"}, "reply_to_user": {"reputation": 957, "user_id": 2729876, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tTIEO.png?s=128&g=1", "display_name": "SIGSTACKFAULT", "link": "https://stackoverflow.com/users/2729876/sigstackfault"}, "edited": false, "score": 0, "creation_date": 1524627805, "post_id": 50012132, "comment_id": 87043697, "body": "I&#39;ll have to look through git. I found the issue though! It&#39;s ion-tabs but I don&#39;t know how to fix it. If i set the rootPage to HomePage it works fine. But when I set it to the tabsPage it doesn&#39;t."}], "owner": {"reputation": 3, "user_id": 5578780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8252bac3e1866bbd944654ce7a910ae9?s=128&d=identicon&r=PG&f=1", "display_name": "Kar", "link": "https://stackoverflow.com/users/5578780/kar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1524613524, "creation_date": 1524613524, "question_id": 50012132, "link": "https://stackoverflow.com/questions/50012132/ionic-3-20-0-app-unresponsive-scrolling-and-clicking-does-not-work", "title": "Ionic 3.20.0 app unresponsive (scrolling and clicking does not work)", "body": "<p>Hey so I'm working on a modified version of the tabs starter app and my app just started to be unresponsive in terms of scrolling and clicking. Only the tabs button works which switches the pages. Nothing else. I'll post the code below, does anyone have any ideas?</p>\n\n<p>app.html</p>\n\n<pre><code>&lt;ion-nav [root]=\"rootPage\" swipeBackEnabled=\"false\"&gt;&lt;/ion-nav&gt;\n</code></pre>\n\n<p>app.component.ts</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component, ViewChild } from '@angular/core';\r\nimport { Platform, Nav } from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\n\r\nimport { TabsPage } from '../pages/tabs/tabs';\r\nimport { HomePage } from '../pages/home/home';\r\nimport { AboutPage } from '../pages/about/about';\r\nimport { ContactPage } from '../pages/contact/contact';\r\nimport { VendorPage } from '../pages/vendor/vendor';\r\nimport { TipsPage } from '../pages/tips/tips';\r\n\r\n@Component({\r\n  templateUrl: 'app.html'\r\n})\r\nexport class MyApp {\r\n  @ViewChild(Nav) nav: Nav;\r\n\r\n  rootPage:any = TabsPage;\r\n\r\n  pages: Array&lt;{title: string, component: any}&gt;;\r\n\r\n  constructor(public platform: Platform,\r\n              public statusBar: StatusBar,\r\n              public splashScreen: SplashScreen) {\r\n    this.initializeApp();\r\n\r\n    // used for an example of ngFor and navigation\r\n    this.pages = [\r\n      { title: 'Home', component: HomePage },\r\n      { title: 'About', component: AboutPage },\r\n      { title: 'Contact', component: ContactPage },\r\n      { title: 'Vendors', component: VendorPage },\r\n      { title: 'Tips', component: TipsPage }\r\n    ];\r\n  }\r\n\r\n  initializeApp() {\r\n    this.platform.ready().then(() =&gt; {\r\n      // Okay, so the platform is ready and our plugins are available. Here you can do any higher level native things you might need.\r\n      this.statusBar.styleDefault();\r\n      this.splashScreen.hide();\r\n    });\r\n  }\r\n\r\n  openPage(page) {\r\n    // Reset the content nav to have just this page\r\n    // we wouldn't want the back button to show in this scenario\r\n    this.nav.setRoot(page.component);\r\n  }\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>home.ts</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component, ViewChild, ElementRef } from '@angular/core';\r\nimport { Platform, NavController } from 'ionic-angular';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport * as firebase from 'firebase/app';\r\nimport { Geolocation } from '@ionic-native/geolocation';\r\nimport { Device } from '@ionic-native/device';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { AuthService } from '../../app/core/auth.service';\r\n\r\ndeclare var google: any;\r\n\r\n@Component({\r\n  selector: 'page-home',\r\n  templateUrl: 'home.html'\r\n})\r\nexport class HomePage {\r\n  currentEvents;\r\n  user: Observable&lt;firebase.User&gt;;\r\n\r\n  @ViewChild('map') mapElement: ElementRef;\r\n  map: any;\r\n  markers = [];\r\n  ref = firebase.database().ref('geolocations/');\r\n\r\n  constructor(public navCtrl: NavController,\r\n              public platform: Platform,\r\n              private geolocation: Geolocation,\r\n              private device: Device,\r\n              private afAuth: AngularFireAuth,\r\n              private authService: AuthService) {\r\n\r\n    platform.ready().then(() =&gt; {\r\n      //this.initMap();\r\n    });\r\n\r\n    this.ref.on('value', resp =&gt; {\r\n      this.deleteMarkers();\r\n      snapshotToArray(resp).forEach(data =&gt; {\r\n        if(data.uuid !== this.device.uuid) {\r\n          let image = 'assets/imgs/green-bike.png';\r\n          let updatelocation = new google.maps.LatLng(data.latitude,data.longitude);\r\n          this.addMarker(updatelocation,image);\r\n          this.setMapOnAll(this.map);\r\n        } else {\r\n          let image = 'assets/imgs/blue-bike.png';\r\n          let updatelocation = new google.maps.LatLng(data.latitude,data.longitude);\r\n          this.addMarker(updatelocation,image);\r\n          this.setMapOnAll(this.map);\r\n        }\r\n      });\r\n    });\r\n\r\n    this.currentEvents = [\r\n      {\r\n        year: 2018,\r\n        month: 4,\r\n        date: 22\r\n      },\r\n      {\r\n        year: 2018,\r\n        month: 6,\r\n        date: 16\r\n      }\r\n    ];\r\n  }\r\n\r\n  onDaySelect(ev) {\r\n\r\n  }\r\n\r\n  onMonthSelect(ev) {\r\n    \r\n  }\r\n\r\n  initMap() {\r\n    this.geolocation.getCurrentPosition({ maximumAge: 3000, timeout: 5000, enableHighAccuracy: true }).then((resp) =&gt; {\r\n        let mylocation = new google.maps.LatLng(resp.coords.latitude,resp.coords.longitude);\r\n        this.map = new google.maps.Map(this.mapElement.nativeElement, {\r\n          zoom: 15,\r\n          center: mylocation\r\n        });\r\n      }).catch((error) =&gt; {\r\n        console.log('Error getting location ' + error);\r\n      });\r\n      let watch = this.geolocation.watchPosition();\r\n      watch.subscribe((data) =&gt; {\r\n        this.deleteMarkers();\r\n        //this.updateGeolocation(this.device.uuid, data.coords.latitude,data.coords.longitude);\r\n        let updatelocation = new google.maps.LatLng(data.coords.latitude,data.coords.longitude);\r\n        let image = 'assets/imgs/blue-bike.png';\r\n        this.addMarker(updatelocation,image);\r\n        this.setMapOnAll(this.map);\r\n      });\r\n  }\r\n\r\n  addMarker(location, image) {\r\n    let marker = new google.maps.Marker({\r\n      position: location,\r\n      map: this.map,\r\n      icon: image\r\n    });\r\n    this.markers.push(marker);\r\n  }\r\n\r\n  setMapOnAll(map) {\r\n    for (var i = 0; i &lt; this.markers.length; i++) {\r\n      this.markers[i].setMap(map);\r\n    }\r\n  }\r\n\r\n  clearMarkers() {\r\n    this.setMapOnAll(null);\r\n  }\r\n\r\n  deleteMarkers() {\r\n    this.clearMarkers();\r\n    this.markers = [];\r\n  }\r\n\r\n  updateGeolocation(uuid, lat, lng) {\r\n    if(localStorage.getItem('mykey')) {\r\n      firebase.database().ref('geolocations/'+localStorage.getItem('mykey')).set({\r\n        uuid: uuid,\r\n        latitude: lat,\r\n        longitude: lng\r\n      });\r\n    } else {\r\n      let newData = this.ref.push();\r\n      newData.set({\r\n        uuid: uuid,\r\n        latitude: lat,\r\n        longitude: lng\r\n      });\r\n      localStorage.setItem('mykey', newData.key);\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport const snapshotToArray = snapshot =&gt; {\r\n    let returnArr = [];\r\n\r\n    snapshot.forEach(childSnapshot =&gt; {\r\n        let item = childSnapshot.val();\r\n        item.key = childSnapshot.key;\r\n        returnArr.push(item);\r\n    });\r\n\r\n    return returnArr;\r\n};</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Not sure if something in my app.module.ts can cause this?</p>\n"}, {"tags": ["angular", "typescript", "checkbox", "ng2-smart-table"], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 2946257, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/772e236f466d1c7134eddeb701626839?s=128&d=identicon&r=PG&f=1", "display_name": "Sushil Gupta", "link": "https://stackoverflow.com/users/2946257/sushil-gupta"}, "edited": false, "score": 0, "creation_date": 1524671016, "post_id": 50023984, "comment_id": 87068954, "body": "Thanks for your reply. It is not regular check box. It is contained in ng2-table. I am able to trigger cell-click event. But check box is disabled from UI. Also going through the links you provided."}, {"owner": {"reputation": 13201, "user_id": 3486691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dc01f3f85a630c36252819704ad397d?s=128&d=identicon&r=PG", "display_name": "ForestG", "link": "https://stackoverflow.com/users/3486691/forestg"}, "reply_to_user": {"reputation": 97, "user_id": 2946257, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/772e236f466d1c7134eddeb701626839?s=128&d=identicon&r=PG&f=1", "display_name": "Sushil Gupta", "link": "https://stackoverflow.com/users/2946257/sushil-gupta"}, "edited": false, "score": 0, "creation_date": 1524675153, "post_id": 50023984, "comment_id": 87071229, "body": "Can you please provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete and verifiable example</a> please? In <a href=\"https://stackblitz.com/\" rel=\"nofollow noreferrer\">stackblitz</a> for instance."}, {"owner": {"reputation": 97, "user_id": 2946257, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/772e236f466d1c7134eddeb701626839?s=128&d=identicon&r=PG&f=1", "display_name": "Sushil Gupta", "link": "https://stackoverflow.com/users/2946257/sushil-gupta"}, "edited": false, "score": 0, "creation_date": 1524688713, "post_id": 50023984, "comment_id": 87077956, "body": "I have edited my question and added more details. If you can help. Thanks."}, {"owner": {"reputation": 97, "user_id": 2946257, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/772e236f466d1c7134eddeb701626839?s=128&d=identicon&r=PG&f=1", "display_name": "Sushil Gupta", "link": "https://stackoverflow.com/users/2946257/sushil-gupta"}, "edited": false, "score": 0, "creation_date": 1525272354, "post_id": 50023984, "comment_id": 87293133, "body": "Thanks for your reply. Problem is solved. In cellClick event we are able to add dynamic basic html code. Which has solved the problem."}], "tags": [], "owner": {"reputation": 13201, "user_id": 3486691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dc01f3f85a630c36252819704ad397d?s=128&d=identicon&r=PG", "display_name": "ForestG", "link": "https://stackoverflow.com/users/3486691/forestg"}, "is_accepted": true, "score": 0, "last_activity_date": 1524727387, "last_edit_date": 1524727387, "creation_date": 1524663966, "answer_id": 50023984, "question_id": 50011845, "link": "https://stackoverflow.com/questions/50011845/how-to-add-checkbox-in-ng2-table-in-angular-4/50023984#50023984", "title": "How to add checkbox in ng2-table in Angular-4?", "body": "<p>Where is your data binded to the table? Where is the template for the checkbox? Can you re-create your problem in a <a href=\"https://stackblitz.com/edit/angular\" rel=\"nofollow noreferrer\">stackblitz</a> repo? </p>\n\n<p>By the way, there is a thread about checkboxes in the <a href=\"https://github.com/valor-software/ng2-table/issues/444\" rel=\"nofollow noreferrer\">official repo issues</a></p>\n"}], "owner": {"reputation": 97, "user_id": 2946257, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/772e236f466d1c7134eddeb701626839?s=128&d=identicon&r=PG&f=1", "display_name": "Sushil Gupta", "link": "https://stackoverflow.com/users/2946257/sushil-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1325, "favorite_count": 0, "accepted_answer_id": 50023984, "answer_count": 1, "score": 0, "last_activity_date": 1524727387, "creation_date": 1524610947, "last_edit_date": 1524688666, "question_id": 50011845, "link": "https://stackoverflow.com/questions/50011845/how-to-add-checkbox-in-ng2-table-in-angular-4", "title": "How to add checkbox in ng2-table in Angular-4?", "body": "<p>I need to add checkbox in Angular 4 typescript we are using ng2-table. </p>\n\n<pre><code>//code for ng-table in html\n&lt;ng-table (tableChanged)=\"onChangeTable(config)\"\n(cellClicked)=\"onCellClick($event)\"\n[rows]=\"rows\" [columns]=\"columns\"&gt;\n&lt;/ng-table&gt;\n\n//to create checkbox I am adding html in component where filling the data.\ndata.forEach((item: any) =&gt; \n{item.CheckBox = '&lt;input type=\"checkbox\"&gt;&lt;/input&gt;';\n\n//cell click event in table component is getting triggered\npublic onCellClick(data: any): any {\n     this event is getting triggered\n     ....\n}\n</code></pre>\n\n<ol>\n<li>Check box on UI is disabled or not able to checked. \nI think some event is getting triggered and reverting selected value to false \neach time. How to prevent that? </li>\n<li>Where do I bind this check box to ng-model or similar?</li>\n</ol>\n\n<p>Please help. Thanks you.</p>\n"}, {"tags": ["typescript", "recompose"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1524610950, "post_id": 50011616, "comment_id": 87040107, "body": "You can do this in 2.8 I believe"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1524617757, "post_id": 50011616, "comment_id": 87041526, "body": "The question isn&#39;t exactly a duplicate but check out <a href=\"https://stackoverflow.com/a/49429420/2887218\">this answer</a>"}, {"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1524622996, "post_id": 50011616, "comment_id": 87042613, "body": "TS 2.8 lets you extract the return type of a function with <code>ReturnType&lt;T&gt;</code>, but I think to map the function signature you need <a href=\"https://github.com/Microsoft/TypeScript/issues/5453\" rel=\"nofollow noreferrer\">variadic types</a>, which haven&#39;t been implemented."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1524635143, "post_id": 50011616, "comment_id": 87045761, "body": "@Aaron you do if you want a perfect solution, for a workable solution the answer @jcalz references does exactly that, using conditional types <code>ReplaceReturnType</code>in that answer replaces the return type."}], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 7785430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb21a480fce8865fb14d3fd544331dbd?s=128&d=identicon&r=PG", "display_name": "Leonid Fenko", "link": "https://stackoverflow.com/users/7785430/leonid-fenko"}, "edited": false, "score": 0, "creation_date": 1524776715, "post_id": 50014868, "comment_id": 87120031, "body": "It seems to be exactly what I need, thank you. However, I&#39;m not sure what do you mean by &quot;Optional parameters are not handled well&quot;, because I&#39;m able to use them and can&#39;t see why they can possibly break. Could you provide an example?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 143, "user_id": 7785430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb21a480fce8865fb14d3fd544331dbd?s=128&d=identicon&r=PG", "display_name": "Leonid Fenko", "link": "https://stackoverflow.com/users/7785430/leonid-fenko"}, "edited": false, "score": 0, "creation_date": 1524833790, "post_id": 50014868, "comment_id": 87142256, "body": "@LeonidFenko added explanation of my cryptic warning :)"}, {"owner": {"reputation": 143, "user_id": 7785430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb21a480fce8865fb14d3fd544331dbd?s=128&d=identicon&r=PG", "display_name": "Leonid Fenko", "link": "https://stackoverflow.com/users/7785430/leonid-fenko"}, "edited": false, "score": 0, "creation_date": 1524859602, "post_id": 50014868, "comment_id": 87155621, "body": "Oh, I got it. In my case I didn&#39;t notice it, because I never actually call functions with modified type. So it turns out to be a perfect solution for me."}, {"owner": {"reputation": 670, "user_id": 1653298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eadf0b684402d9e8d0532f62fb9bb73b?s=128&d=identicon&r=PG", "display_name": "Ross Solomon", "link": "https://stackoverflow.com/users/1653298/ross-solomon"}, "edited": false, "score": 0, "creation_date": 1533338119, "post_id": 50014868, "comment_id": 90325250, "body": "The latest update does not seem to preserve the argument types in v3.0.1. It always ends up being <code>(...args: {}) =&gt; TNewReturn</code>, and using that to type a function will allow any arbitrary types for args."}, {"owner": {"reputation": 347, "user_id": 4844715, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4bW5r.jpg?s=128&g=1", "display_name": "wesley", "link": "https://stackoverflow.com/users/4844715/wesley"}, "edited": false, "score": 0, "creation_date": 1585855666, "post_id": 50014868, "comment_id": 107918889, "body": "Typescript now comes with <code>Parameters</code> which does what <code>ArgumentTypes</code> does in the answer"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 347, "user_id": 4844715, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4bW5r.jpg?s=128&g=1", "display_name": "wesley", "link": "https://stackoverflow.com/users/4844715/wesley"}, "edited": false, "score": 0, "creation_date": 1585855879, "post_id": 50014868, "comment_id": 107918980, "body": "@WesleyT thanks for the ping on this answer, updated."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 33, "last_activity_date": 1585855863, "last_edit_date": 1585855863, "creation_date": 1524635448, "answer_id": 50014868, "question_id": 50011616, "link": "https://stackoverflow.com/questions/50011616/typescript-change-function-type-so-that-it-returns-new-value/50014868#50014868", "title": "Typescript: change function type so that it returns new value", "body": "<p><strong>Edit</strong> </p>\n\n<p>Since the original question was answered typescript has improved the possible solution to this problem. With the addition of <a href=\"https://github.com/Microsoft/TypeScript/pull/24897\" rel=\"noreferrer\">Tuples in rest parameters and spread expressions</a> we now don't need to have all the overloads:</p>\n\n<pre><code>type ReplaceReturnType&lt;T extends (...a: any) =&gt; any, TNewReturn&gt; = (...a: Parameters&lt;T&gt;) =&gt; TNewReturn;\n</code></pre>\n\n<p>Not only is this shorter but it solves a number of problems </p>\n\n<ul>\n<li>Optional parameters remain optional</li>\n<li>Argument names are preserved</li>\n<li>Works for any number of arguments</li>\n</ul>\n\n<p>Sample: </p>\n\n<pre><code>type WithOptional = ReplaceReturnType&lt;(n?: number)=&gt; string, Promise&lt;string&gt;&gt;;\nlet x!: WithOptional; // Typed as (n?: number) =&gt; Promise&lt;string&gt;\nx() // Valid\nx(1); //Ok\n</code></pre>\n\n<p><strong><em>Original</em></strong></p>\n\n<hr>\n\n<p>For a good solution you will need <a href=\"https://github.com/Microsoft/TypeScript/issues/5453\" rel=\"noreferrer\">variadic types</a>, but for now this <a href=\"https://stackoverflow.com/questions/49429068/is-modifying-methods-return-type-by-decorator-possible/49429420#49429420\">answer</a> provides a workable solution. (Posting it here as the type there is used as part of a solution to a different question).</p>\n\n<p>The basic idea is that we will extract the parameter types and recompose the function signature with the new return type. There are several disadvantages to this approach:</p>\n\n<ol>\n<li>Parameter names are not preserved</li>\n<li>Optional parameters are not handled well </li>\n<li>Only works for a specific number of arguments (but more can be added as needed)</li>\n</ol>\n\n<p>There may be other issues, but depending on your use-case this may be a good enough solution until the type system addresses this use case.</p>\n\n<pre><code>type IsValidArg&lt;T&gt; = T extends object ? keyof T extends never ? false : true : true;\ntype ReplaceReturnType&lt;T, TNewReturn&gt; = T extends (a: infer A, b: infer B, c: infer C, d: infer D, e: infer E, f: infer F, g: infer G, h: infer H, i: infer I, j: infer J) =&gt; infer R ? (\n    IsValidArg&lt;J&gt; extends true ? (a: A, b: B, c: C, d: D, e: E, f: F, g: G, h: H, i: I, j: J) =&gt; TNewReturn :\n    IsValidArg&lt;I&gt; extends true ? (a: A, b: B, c: C, d: D, e: E, f: F, g: G, h: H, i: I) =&gt; TNewReturn :\n    IsValidArg&lt;H&gt; extends true ? (a: A, b: B, c: C, d: D, e: E, f: F, g: G, h: H) =&gt; TNewReturn :\n    IsValidArg&lt;G&gt; extends true ? (a: A, b: B, c: C, d: D, e: E, f: F, g: G) =&gt; TNewReturn :\n    IsValidArg&lt;F&gt; extends true ? (a: A, b: B, c: C, d: D, e: E, f: F) =&gt; TNewReturn :\n    IsValidArg&lt;E&gt; extends true ? (a: A, b: B, c: C, d: D, e: E) =&gt; TNewReturn :\n    IsValidArg&lt;D&gt; extends true ? (a: A, b: B, c: C, d: D) =&gt; TNewReturn :\n    IsValidArg&lt;C&gt; extends true ? (a: A, b: B, c: C) =&gt; TNewReturn :\n    IsValidArg&lt;B&gt; extends true ? (a: A, b: B) =&gt; TNewReturn :\n    IsValidArg&lt;A&gt; extends true ? (a: A) =&gt; TNewReturn :\n    () =&gt; TNewReturn\n) : never\n</code></pre>\n\n<hr>\n\n<p>The issue when used with optional parameters is that the optional parameter becomes required (and is of <code>type A | undefined</code>):</p>\n\n<pre><code>type WithOptional = ReplaceReturnType&lt;(n?: number)=&gt; string, Promise&lt;string&gt;&gt;;\n\nlet x!: WithOptional;\nx(); //invalid\nx(undefined);\nx(1);\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 7785430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb21a480fce8865fb14d3fd544331dbd?s=128&d=identicon&r=PG", "display_name": "Leonid Fenko", "link": "https://stackoverflow.com/users/7785430/leonid-fenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6089, "favorite_count": 4, "accepted_answer_id": 50014868, "answer_count": 1, "score": 14, "last_activity_date": 1585855863, "creation_date": 1524609236, "question_id": 50011616, "link": "https://stackoverflow.com/questions/50011616/typescript-change-function-type-so-that-it-returns-new-value", "title": "Typescript: change function type so that it returns new value", "body": "<p>Basically, I want something like this:</p>\n\n<pre><code>export type ReturnValueMapper&lt;Func extends (...args: Args[] /* impossible */ ) =&gt; any, ReturnValue&gt; = (...args: Args[]) =&gt; ReturnValue;\n</code></pre>\n\n<p>I'm almost sure that it's impossible, but I haven't found exact confirmation.</p>\n\n<hr>\n\n<p>The use case is improving types for <a href=\"https://github.com/acdlite/recompose/blob/master/docs/API.md#withstatehandlers\" rel=\"noreferrer\">recompose's withStateHandlers</a>, enabling defining state updaters like this:</p>\n\n<pre><code>interface StateUpdaters {\n    update(field: string): void; // I don't want to specify Partial&lt;State&gt; here \n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "angular5"], "comments": [{"owner": {"reputation": 23, "user_id": 6489455, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-O1yKkSdrtXQ/AAAAAAAAAAI/AAAAAAAAAWo/O2jaZfZcSWg/photo.jpg?sz=128", "display_name": "Daniel Hernandez", "link": "https://stackoverflow.com/users/6489455/daniel-hernandez"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1524608932, "post_id": 50011326, "comment_id": 87039564, "body": "Even if I delete all of that code; I am still left with (resp.body) which is still the problem. Need to convert that to some kind of exportable array. Yes you&#39;re right, but that code is/was there for testing purposes in attempts to break free of the constructor."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1524609653, "post_id": 50011326, "comment_id": 87039740, "body": "You don&#39;t need to &quot;export&quot; anything just assign it to a property. <code>this.items = response.body;</code>. End of story. Right now you have like 14 lines of pure bugs, each obscuring the others, and none do anything you want. Note return value from subscribe callback is discarded by Rx"}, {"owner": {"reputation": 23, "user_id": 6489455, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-O1yKkSdrtXQ/AAAAAAAAAAI/AAAAAAAAAWo/O2jaZfZcSWg/photo.jpg?sz=128", "display_name": "Daniel Hernandez", "link": "https://stackoverflow.com/users/6489455/daniel-hernandez"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1524610226, "post_id": 50011326, "comment_id": 87039898, "body": "Even when I do that; *ngFor will not loop through my items. I can console log it and its there, but when it comes to the string interpolation, your suggestion flat out does not work. Thanks for the help on cleaning up my code though. Still the problem stands."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1524610308, "post_id": 50011326, "comment_id": 87039930, "body": "What is the shape of items?"}, {"owner": {"reputation": 23, "user_id": 6489455, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-O1yKkSdrtXQ/AAAAAAAAAAI/AAAAAAAAAWo/O2jaZfZcSWg/photo.jpg?sz=128", "display_name": "Daniel Hernandez", "link": "https://stackoverflow.com/users/6489455/daniel-hernandez"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1524611592, "post_id": 50011326, "comment_id": 87040259, "body": "According to console.log it is something like --- [Array(10)] --- 0: Array(10) --- 0: {key: value, key:value} 1: {key: value, key: value}"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1524611792, "post_id": 50011326, "comment_id": 87040293, "body": "It&#39;s an array so *ngFor will work, you&#39;re probably just using the wrong property names in the loop. Use the json pipe to just output the whole item for each item"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6489455, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-O1yKkSdrtXQ/AAAAAAAAAAI/AAAAAAAAAWo/O2jaZfZcSWg/photo.jpg?sz=128", "display_name": "Daniel Hernandez", "link": "https://stackoverflow.com/users/6489455/daniel-hernandez"}, "edited": false, "score": 0, "creation_date": 1524618343, "post_id": 50012608, "comment_id": 87041641, "body": "Thank you so much!!!! Fixed it completely! Changing the observable to an Array with the interface and then exporting it; shows how much I was missing lol. Thank you again!"}], "tags": [], "owner": {"reputation": 5522, "user_id": 7905437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Awiv5.png?s=128&g=1", "display_name": "codejockie", "link": "https://stackoverflow.com/users/7905437/codejockie"}, "is_accepted": true, "score": 1, "last_activity_date": 1524668683, "last_edit_date": 1524668683, "creation_date": 1524617968, "answer_id": 50012608, "question_id": 50011326, "link": "https://stackoverflow.com/questions/50011326/angular-5-http-client-converting-resp-body-to-array/50012608#50012608", "title": "Angular 5 - HTTP Client - converting resp.body to Array", "body": "<p>To fix the issue, you need to create an interface that matches the data you get from the server, I will call this interface <code>IRace</code>.   </p>\n\n<p>Then in the component I will create a variable named <code>races</code>, I will assign the returned value from the server response i.e. <code>resp.body</code> to the <code>races</code> variable.  </p>\n\n<p>I'd change the service to look like this:</p>\n\n<pre><code>export interface IRace {\n   // Your response from server object's properties here like so:\n\n   id: Number;\n   assetName: string;\n   ...\n}\n\nexport class RacesService {\n  constructor(private httpClient: HttpClient) { }\n  getRace() {\n    return this.httpClient.get(activeApiURL).pipe(\n      retry(3),\n      catchError(this.handleError)\n    );\n  }\n\n  getRaceResponse(): Observable&lt;HttpResponse&lt;Array&lt;Race&gt;&gt;&gt; {\n    return this.httpClient.get&lt;Array&lt;Race&gt;&gt;(\n      activeApiURL, {\n        observe: 'response'\n      });\n  }\n}\n</code></pre>\n\n<p>Finally, I'd change the race component to this:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { Race, RacesService, IRace } from './races.service';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'dh-races',\n  templateUrl: './races.component.html',\n  providers: [ RacesService ],\n  styleUrls: ['./races.component.scss']\n})\nexport class RacesComponent {\n  error: any;\n  headers: string[];\n  races: IRace[];\n\n  constructor(private racesService: RacesService) {\n    this.racesService.getRaceResponse()\n      .subscribe(resp =&gt; {\n        this.races = resp.body;\n      });\n  }\n}\n</code></pre>\n\n<p>I hope this helps.</p>\n"}], "owner": {"reputation": 23, "user_id": 6489455, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-O1yKkSdrtXQ/AAAAAAAAAAI/AAAAAAAAAWo/O2jaZfZcSWg/photo.jpg?sz=128", "display_name": "Daniel Hernandez", "link": "https://stackoverflow.com/users/6489455/daniel-hernandez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1787, "favorite_count": 1, "accepted_answer_id": 50012608, "answer_count": 1, "score": 2, "last_activity_date": 1524670500, "creation_date": 1524607427, "last_edit_date": 1524670500, "question_id": 50011326, "link": "https://stackoverflow.com/questions/50011326/angular-5-http-client-converting-resp-body-to-array", "title": "Angular 5 - HTTP Client - converting resp.body to Array", "body": "<p>I am trying to get my JSON response from the <code>HttpClient</code> service into an array so that I can loop through using <code>*ngFor</code> in my html. I've tried using \"this\" to loop through but <code>*ngFor</code> will not accept it. Below is the code for my service.ts component and the main component.ts.</p>\n\n<p>I just need some way to convert an array from \"resp.body\" into an exportable Array to be used for string interpolation in the html. Any help would be much appreciated!</p>\n\n<p><strong>races.component.ts</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport {Race, RacesService} from './races.service';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'dh-races',\n  templateUrl: './races.component.html',\n  providers: [ RacesService ],\n  styleUrls: ['./races.component.scss']\n})\nexport class RacesComponent {\n  error: any;\n  headers: string[];\n  race: Race;\n  raceM: any[];\n\n  constructor(private racesService: RacesService) {\n    var raceM = [];\n    var raceArray = [];\n    this.racesService.getRaceResponse()\n      .subscribe(resp =&gt; {\n        raceArray.push(resp.body);\n        for (let obj of raceArray) {\n          for (let i in obj) {\n            raceM.push({\n              \"ID\": obj[i].id + \",\",\n              \"Date\": obj[i].activityStartDate,\n              \"RaceName\": obj[i].assetName,\n              \"Website\": obj[i].website\n            })\n          }\n          console.log(raceM);\n          return raceM;\n        }\n      });\n\n  }\n</code></pre>\n\n<p><strong>races.service.ts</strong></p>\n\n<pre><code>@Injectable()\nexport class RacesService {\n  constructor(private httpClient: HttpClient) { }\n  getRace() {\n    return this.httpClient.get(activeApiURL).pipe(\n      retry(3),\n      catchError(this.handleError)\n    );\n  }\n  getRaceResponse(): Observable&lt;HttpResponse&lt;Race&gt;&gt; {\n    return this.httpClient.get&lt;Race&gt;(\n      activeApiURL, {\n        observe: 'response'\n      });\n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular5"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 2, "creation_date": 1524608342, "post_id": 50011138, "comment_id": 87039422, "body": "Too much code! Just use <code>{params: jsonParamObject}</code>"}, {"owner": {"reputation": 2084, "user_id": 2600457, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/a5d8c496943f34ffa51f3ea8bbf31c2d?s=128&d=identicon&r=PG", "display_name": "Valla", "link": "https://stackoverflow.com/users/2600457/valla"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1524620742, "post_id": 50011138, "comment_id": 87042176, "body": "@AluanHaddad: Yes I have tried using the jsonParamObject directly but it gives the same error. So it is not how we are passing the params. The value is automatically getting converted into null string."}, {"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "edited": false, "score": 0, "creation_date": 1524643413, "post_id": 50011138, "comment_id": 87050198, "body": "@Valla you can replace the <code>null</code> values in the Object properties with &quot;0&quot; before setting <code>{params: jsonParamObject}</code>"}, {"owner": {"reputation": 2084, "user_id": 2600457, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/a5d8c496943f34ffa51f3ea8bbf31c2d?s=128&d=identicon&r=PG", "display_name": "Valla", "link": "https://stackoverflow.com/users/2600457/valla"}, "reply_to_user": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "edited": false, "score": 0, "creation_date": 1524692613, "post_id": 50011138, "comment_id": 87079652, "body": "@Niladri: Yes that is one of the alternatives that I mentioned in the question also. But that would require a lot of changes, so I wanted to know if that is the only approach or if there are any changes that I can do on the client side which would help me resolving the issue."}], "answers": [{"tags": [], "owner": {"reputation": 152, "user_id": 6429561, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nR0su.jpg?s=128&g=1", "display_name": "Ahmed Shehatah", "link": "https://stackoverflow.com/users/6429561/ahmed-shehatah"}, "is_accepted": false, "score": 0, "last_activity_date": 1569321834, "creation_date": 1569321834, "answer_id": 58078528, "question_id": 50011138, "link": "https://stackoverflow.com/questions/50011138/null-is-getting-converted-to-null-in-angular-5-http-get-request/58078528#58078528", "title": "null is getting converted to &quot;null&quot; in Angular 5 HTTP get request", "body": "<p>I had the same issue with a property in an object. \nThis property is called <code>parent_id</code> and the object is called <code>dataObj</code>.</p>\n\n<p>To solve it, I used the following?</p>\n\n<pre><code>this.dataObj.parent_id = this.dataObj.parent_id == 'null' ? null : this.dataObj.parent_id;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13668511, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2PAoS.jpg?s=128&g=1", "display_name": "Esca", "link": "https://stackoverflow.com/users/13668511/esca"}, "is_accepted": false, "score": 0, "last_activity_date": 1591135005, "creation_date": 1591135005, "answer_id": 62162005, "question_id": 50011138, "link": "https://stackoverflow.com/questions/50011138/null-is-getting-converted-to-null-in-angular-5-http-get-request/62162005#62162005", "title": "null is getting converted to &quot;null&quot; in Angular 5 HTTP get request", "body": "<p>I ran into the same issue where i was trying to pass a string from the client side. it always got converted to \"null\" when i passed a null string.</p>\n\n<p>Instead of passing the null string, i pass an empty string (\"\") which worked.</p>\n"}], "owner": {"reputation": 2084, "user_id": 2600457, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/a5d8c496943f34ffa51f3ea8bbf31c2d?s=128&d=identicon&r=PG", "display_name": "Valla", "link": "https://stackoverflow.com/users/2600457/valla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1129, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1591135005, "creation_date": 1524606321, "last_edit_date": 1524758804, "question_id": 50011138, "link": "https://stackoverflow.com/questions/50011138/null-is-getting-converted-to-null-in-angular-5-http-get-request", "title": "null is getting converted to &quot;null&quot; in Angular 5 HTTP get request", "body": "<p>I am currently working on migrating our application from Angular 4 to Angular 5. In Angular 5 when we sending an object model as parameters and if one of the values has null then it is getting converted to \"null\" string. This is causing issues for us. The following is the way the parameters are being set:</p>\n\n<pre><code>options = {\n                headers: header, params: Object.getOwnPropertyNames(jsonParamObject)\n                    .reduce((p, key) =&gt; p.set(key, jsonParamObject[key]), new HttpParams())\n            };\n</code></pre>\n\n<p>In the above code we are using 'jsonParamObject' which is sent by the caller of this method. This object would have any number of values. So if the object has one of the value as null and when we are making an http request the value null is getting converted to \"null\" string. Could you please let me know how this can avoided or if there is any alternative.One of the alternatives would be to use \"0\" instead of null but that would require a lot of code changes in our application so I was looking for an easier/better approach.</p>\n"}, {"tags": ["javascript", "json", "node.js", "typescript"], "comments": [{"owner": {"reputation": 14988, "user_id": 881441, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ktk8b.jpg?s=128&g=1", "display_name": "Stephen Quan", "link": "https://stackoverflow.com/users/881441/stephen-quan"}, "edited": false, "score": 3, "creation_date": 1524606177, "post_id": 50011087, "comment_id": 87038725, "body": "please include attempted script and expected output"}, {"owner": {"reputation": 51, "user_id": 3205921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9414824661cb6538a6d0190172a9cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "user3205921", "link": "https://stackoverflow.com/users/3205921/user3205921"}, "reply_to_user": {"reputation": 14988, "user_id": 881441, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ktk8b.jpg?s=128&g=1", "display_name": "Stephen Quan", "link": "https://stackoverflow.com/users/881441/stephen-quan"}, "edited": false, "score": 0, "creation_date": 1524606548, "post_id": 50011087, "comment_id": 87038835, "body": "i have added the expected result. i have not attempted any script yet as i am not able to get any other idea except use a loop. I don&#39;t want to use loop as i have 100s of these elements to be added."}, {"owner": {"reputation": 1867, "user_id": 3546817, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/X4Z6b.jpg?s=128&g=1", "display_name": "Dan Oswalt", "link": "https://stackoverflow.com/users/3546817/dan-oswalt"}, "edited": false, "score": 0, "creation_date": 1524607262, "post_id": 50011087, "comment_id": 87039088, "body": "I&#39;d use a loop. I&#39;d show some attempt to solve the problem too, you&#39;ll get an answer."}, {"owner": {"reputation": 14988, "user_id": 881441, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ktk8b.jpg?s=128&g=1", "display_name": "Stephen Quan", "link": "https://stackoverflow.com/users/881441/stephen-quan"}, "edited": false, "score": 1, "creation_date": 1524607516, "post_id": 50011087, "comment_id": 87039176, "body": "i recommend recursion. think of processing all the scalar members in the function and processing the object members as a reentrant call to the same function. i cannot easily type as im using my smartphone. hopefully this hint will help u"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1524610394, "post_id": 50011087, "comment_id": 87039961, "body": "FYI, those are two javascript objects, not JSON"}], "answers": [{"tags": [], "owner": {"reputation": 14988, "user_id": 881441, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ktk8b.jpg?s=128&g=1", "display_name": "Stephen Quan", "link": "https://stackoverflow.com/users/881441/stephen-quan"}, "is_accepted": true, "score": 1, "last_activity_date": 1524710203, "last_edit_date": 1524710203, "creation_date": 1524709876, "answer_id": 50033970, "question_id": 50011087, "link": "https://stackoverflow.com/questions/50011087/javascript-json-sum-two-or-more-json-having-only-numeric-values-with-same-keys/50033970#50033970", "title": "javascript JSON : Sum two or more json having only numeric values with same keys", "body": "<p>I put together a <code>combine()</code> function which uses recursion for processing members of the JSON object. If it detects a <code>\"number\"</code> it combines it. If it detects an <code>\"object\"</code> it applies recursion to search for more <code>\"number\"</code> or <code>\"object\"</code> inside it. For any other type (e.g. <code>\"string\"</code>) it just leaves the values as is.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function combine(acc, curr) {\r\n  for (var key in acc) {\r\n    switch (typeof(acc[key])) {\r\n    case \"number\":\r\n      acc[key] += curr[key];\r\n      break;\r\n    case \"object\":\r\n      combine(acc[key], curr[key]);\r\n      break;\r\n    }\r\n  }\r\n}\r\n\r\nvar json1 = \r\n{\r\n    \"201809\": 2,\r\n    \"metric\": \"headcount\",\r\n    \"quarter1\": 60,\r\n    \"careerLevelsGroups\": [{\r\n        \"201809\": 2,\r\n        \"quarter1\": 60,\r\n        \"careerLevels\": [{\r\n                \"201809\": 2,\r\n                \"careerId\": \"careerId1\",\r\n                \"quarter1\": 60,\r\n            },\r\n            {\r\n                \"201809\": 2,\r\n                \"careerId\": \"careerId2\",\r\n                \"quarter1\": 50,\r\n            }\r\n        ]\r\n    }]\r\n};\r\n\r\nvar json2 = \r\n    {\r\n        \"201809\": 3,\r\n        \"metric\": \"headcount\",\r\n        \"quarter1\": 100,\r\n        \"careerLevelsGroups\": [{\r\n            \"201809\": 7,\r\n            \"quarter1\": 40,\r\n            \"careerLevels\": [{\r\n                    \"201809\": 9,\r\n                    \"careerId\": \"careerId1\",\r\n                    \"quarter1\": 30,\r\n                },\r\n                {\r\n                    \"201809\": 8,\r\n                    \"careerId\": \"careerId2\",\r\n                    \"quarter1\": 30,\r\n                }\r\n            ]\r\n        }]\r\n    };\r\n    \r\nvar res = json1;\r\ncombine(res, json2);\r\nconsole.log(JSON.stringify(json1, undefined, 2));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Running the script produces the desired output. It should be a straightforward execise, to iterate through a series of these JSON objects to generate the result required.</p>\n"}], "owner": {"reputation": 51, "user_id": 3205921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9414824661cb6538a6d0190172a9cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "user3205921", "link": "https://stackoverflow.com/users/3205921/user3205921"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 50033970, "answer_count": 1, "score": 0, "last_activity_date": 1524710203, "creation_date": 1524606038, "last_edit_date": 1524606445, "question_id": 50011087, "link": "https://stackoverflow.com/questions/50011087/javascript-json-sum-two-or-more-json-having-only-numeric-values-with-same-keys", "title": "javascript JSON : Sum two or more json having only numeric values with same keys", "body": "<p>I am new to Nodejs and typescript.I have below two jsons :</p>\n\n<pre><code>json1 = \n{\n    \"201809\": 2,\n    \"metric\": \"headcount\",\n    \"quarter1\": 60,\n    \"careerLevelsGroups\": [{\n        \"201809\": 2,\n        \"quarter1\": 60,\n        \"careerLevels\": [{\n                \"201809\": 2,\n                \"careerId\": \"careerId1\",\n                \"quarter1\": 60,\n            },\n            {\n                \"201809\": 2,\n                \"careerId\": \"careerId2\",\n                \"quarter1\": 50,\n            }\n        ]\n    }]\n}\n\njson2 = \n    {\n        \"201809\": 3,\n        \"metric\": \"headcount\",\n        \"quarter1\": 100,\n        \"careerLevelsGroups\": [{\n            \"201809\": 7,\n            \"quarter1\": 40,\n            \"careerLevels\": [{\n                    \"201809\": 9,\n                    \"careerId\": \"careerId1\",\n                    \"quarter1\": 30,\n                },\n                {\n                    \"201809\": 8,\n                    \"careerId\": \"careerId2\",\n                    \"quarter1\": 30,\n                }\n            ]\n        }]\n    }\n</code></pre>\n\n<p>I want to sum all the numeric values associated with the same keys and produce a single json having the summed values of json1 and json2.</p>\n\n<pre><code>result = \n{\n        \"201809\": 5,\n        \"metric\": \"headcount\",\n        \"quarter1\": 160,\n        \"careerLevelsGroups\": [{\n            \"201809\": 9,\n            \"quarter1\": 100,\n            \"careerLevels\": [{\n                    \"201809\": 11,\n                    \"careerId\": \"careerId1\",\n                    \"quarter1\": 90,\n                },\n                {\n                    \"201809\": 10,\n                    \"careerId\": \"careerId2\",\n                    \"quarter1\": 80,\n                }\n            ]\n        }]\n    }\n</code></pre>\n\n<p>I am trying to use a loop but i have too many such elements which i need to sum so can you please suggest a more optimised method to be used in Node.js</p>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1524604322, "post_id": 50010725, "comment_id": 87038152, "body": "Can you provide a more complete or better example? What is <code>accountTypes</code>? What is <code>value</code>? What is value that you don&#39;t wanted to get mutated, what is is before the mutation and what is is after?"}, {"owner": {"reputation": 526, "user_id": 7143288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eecc49aef0db093ca477819468460995?s=128&d=identicon&r=PG&f=1", "display_name": "botika", "link": "https://stackoverflow.com/users/7143288/botika"}, "edited": false, "score": 1, "creation_date": 1524604369, "post_id": 50010725, "comment_id": 87038166, "body": "With these operators you are doing a shadow copy of <code>Settings</code> which is the same instance in all the updates"}, {"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 5, "creation_date": 1524604441, "post_id": 50010725, "comment_id": 87038198, "body": "Using object spread or <code>Object.assign</code> will create a <i>shallow copy</i> only. So mutating properties of that copy will still change the same properties in the original. You may want to try creating a deep copy. The answers to <a href=\"https://stackoverflow.com/questions/122102/what-is-the-most-efficient-way-to-deep-clone-an-object-in-javascript?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\">this question</a> show a few ways of doing so."}], "answers": [{"comments": [{"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 4, "creation_date": 1524604900, "post_id": 50010844, "comment_id": 87038335, "body": "Careful because JSON only stores plain objects, not a particular type of object with a custom protototype.  I can&#39;t honestly tell if that matters to the OP&#39;s usage since they don&#39;t really show enough code to know, but if there&#39;s a <code>Settings</code> object or any other type of custom object, then this type of deep copy will not preserve the custom object type/prototype."}, {"owner": {"reputation": 709, "user_id": 5543304, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d64a6d6078c471200eaac794ae115e2f?s=128&d=identicon&r=PG&f=1", "display_name": "slanden", "link": "https://stackoverflow.com/users/5543304/slanden"}, "edited": false, "score": 0, "creation_date": 1524665099, "post_id": 50010844, "comment_id": 87064721, "body": "@Luis, thanks for your answer. I forgot to mention it but, I do want to preserve the <code>Settings</code> object as jfriend00 pointed out."}], "tags": [], "owner": {"reputation": 472, "user_id": 6673573, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0S8-XaTH-4k/AAAAAAAAAAI/AAAAAAAAAJw/R7UgicfVwSE/photo.jpg?sz=128", "display_name": "Luis Gonzalez", "link": "https://stackoverflow.com/users/6673573/luis-gonzalez"}, "is_accepted": false, "score": 1, "last_activity_date": 1524604655, "creation_date": 1524604655, "answer_id": 50010844, "question_id": 50010725, "link": "https://stackoverflow.com/questions/50010725/object-assign-and-spread-properties-still-mutating-original/50010844#50010844", "title": "Object.assign() and Spread properties still mutating original", "body": "<p>You have to do a deep copy, this the easiest way:</p>\n\n<pre><code>let copy = JSON.parse(JSON.stringify(original));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 709, "user_id": 5543304, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d64a6d6078c471200eaac794ae115e2f?s=128&d=identicon&r=PG&f=1", "display_name": "slanden", "link": "https://stackoverflow.com/users/5543304/slanden"}, "is_accepted": false, "score": 0, "last_activity_date": 1524674283, "creation_date": 1524674283, "answer_id": 50027300, "question_id": 50010725, "link": "https://stackoverflow.com/questions/50010725/object-assign-and-spread-properties-still-mutating-original/50027300#50027300", "title": "Object.assign() and Spread properties still mutating original", "body": "<p>This doesn't really answer the question, but since the object I'm trying not to mutate doesn't have nested properties within, I call the assignment at the property level and the shallow copy here is fine.</p>\n\n<pre><code>setPreset(value)\n  {\n    if(value == 'new')\n    {\n      this.currentPreset.name = '';\n      this.currentPreset.settings.reset();\n    }\n    else\n    {\n      this.currentPreset.name = this.presets[value].name;\n      this.currentPreset.privileges = Object.assign(new Settings(), \n                                         this.presets[value].settings);\n    }\n  }\n</code></pre>\n\n<p>A better solution, since I'm creating a <code>new Settings()</code> anyway, might be to move this logic to a <code>Settings</code> class method and call it in the constructor</p>\n"}, {"tags": [], "owner": {"reputation": 4093, "user_id": 2609095, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/UIrI5.jpg?s=128&g=1", "display_name": "hakuna", "link": "https://stackoverflow.com/users/2609095/hakuna"}, "is_accepted": false, "score": 3, "last_activity_date": 1538447343, "creation_date": 1538447343, "answer_id": 52601251, "question_id": 50010725, "link": "https://stackoverflow.com/questions/50010725/object-assign-and-spread-properties-still-mutating-original/52601251#52601251", "title": "Object.assign() and Spread properties still mutating original", "body": "<p>Try this : <code>let copy = original.map(item =&gt; Object.assign({}, ...item));</code> \nThis will create a new object without any reference to the old object <code>original</code></p>\n\n<p>In case if you want to do this for an array try the same with <code>[]</code></p>\n\n<pre><code>let copy = original.map(item =&gt; Object.assign([], ...item));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 175, "user_id": 12194386, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kZD0nOOT8f0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdI2ZKJ4WxQFyJWgKPSAqliNzTasw/photo.jpg?sz=128", "display_name": "JrmDel", "link": "https://stackoverflow.com/users/12194386/jrmdel"}, "is_accepted": false, "score": 0, "last_activity_date": 1588183759, "creation_date": 1588183759, "answer_id": 61508701, "question_id": 50010725, "link": "https://stackoverflow.com/questions/50010725/object-assign-and-spread-properties-still-mutating-original/61508701#61508701", "title": "Object.assign() and Spread properties still mutating original", "body": "<p>I had the same problem recently, and I could not figure out why some of my objects were changing their properties. I had to change my code to avoid mutation. Some of the answers here helped me understand afterwards, such as this great article : <a href=\"https://alistapart.com/article/why-mutation-can-be-scary/\" rel=\"nofollow noreferrer\">https://alistapart.com/article/why-mutation-can-be-scary/</a></p>\n\n<p>I recommend it. The author gives a lot of examples and useful libraries that can outperform <code>Object.assign()</code> when it comes to embedded properties.</p>\n"}], "owner": {"reputation": 709, "user_id": 5543304, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d64a6d6078c471200eaac794ae115e2f?s=128&d=identicon&r=PG&f=1", "display_name": "slanden", "link": "https://stackoverflow.com/users/5543304/slanden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1503, "favorite_count": 2, "answer_count": 4, "score": 3, "last_activity_date": 1588183759, "creation_date": 1524604029, "last_edit_date": 1524666966, "question_id": 50010725, "link": "https://stackoverflow.com/questions/50010725/object-assign-and-spread-properties-still-mutating-original", "title": "Object.assign() and Spread properties still mutating original", "body": "<p>I'm trying to assign the value of an array element to an object. After first attempting something like, e.g.<code>bar = foo[0];</code> I've discovered that any change to <code>bar</code> also changes <code>foo[0]</code>, due to having the same reference.</p>\n\n<p>Awesome, thought no one, and upon reading up on <em>immutability</em> and the ES6 <em>Object.assign()</em> method and <em>spread</em> properties, I thought it would fix the issue. However, in this case it doesn't. What am I missing?</p>\n\n<p><strong>EDIT:</strong> Sorry about the <em>accountTypes</em> confusion, I fixed the example.\nAlso, I would like to keep the class structure of <em>Settings</em>, so <code>let copy = JSON.parse(JSON.stringify(original));</code> is not really what I'm after in this case.</p>\n\n<pre><code>//this object will change according to a selection\ncurrentPreset;\n\n//this should remain unchanged\npresets: {name: string, settings: Settings}[] = [];\n\n\n  ngOnInit()\n  {\n    this.currentPreset = {\n      name: '',\n      settings: new Settings()\n    }\n\n    this.presets.push({name: 'Preset1', settings: new Settings({\n        settingOne: 'foo',\n        settingTwo: false,\n        settingThree: 14\n      })\n    });\n\n  }\n\n /**\n  * Select an item from the `presets` array and assign it, \n  * by value(not reference), to `currentPreset`.\n  * \n  * @Usage In an HTML form, a &lt;select&gt; element's `change` event calls \n  * this method to fill the form's controls with the values of a\n  * selected item from the `presets` array. Subsequent calls to this\n  * method should not affect the value of the `presets` array.\n  *\n  * @param value - Expects a numerical index or the string 'new'\n  */\n  setPreset(value)\n  {\n    if(value == 'new')\n    {\n      this.currentPreset.name = '';\n      this.currentPreset.settings.reset();\n    }\n    else\n    {\n      this.currentPreset = {...this.presets[value]};\n      //same as above\n      //this.currentPreset = Object.assign({}, this.presets[value]);\n    }\n  }\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "edited": false, "score": 1, "creation_date": 1524603415, "post_id": 50010345, "comment_id": 87037838, "body": "Do you have submit on form?"}, {"owner": {"reputation": 2266, "user_id": 1019042, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e50f9c4bba67e6931b2cace29ad9b2ff?s=128&d=identicon&r=PG", "display_name": "user1019042", "link": "https://stackoverflow.com/users/1019042/user1019042"}, "reply_to_user": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "edited": false, "score": 1, "creation_date": 1524613244, "post_id": 50010345, "comment_id": 87040634, "body": "@Vega no, I don&#39;t."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1524617142, "post_id": 50010345, "comment_id": 87041366, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/40909585/angular-2-how-to-prevent-a-form-from-submitting-on-keypress-enter\">Angular 2: How to prevent a form from submitting on keypress enter?</a>"}, {"owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1524617561, "post_id": 50010345, "comment_id": 87041477, "body": "@Mike McCaughan, there is no form here and it&#39;s about Angular Material Dialog"}], "answers": [{"comments": [{"owner": {"reputation": 8398, "user_id": 527470, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7526c67649ca5e61d3e06cdf75a8e6f3?s=128&d=identicon&r=PG", "display_name": "AlanObject", "link": "https://stackoverflow.com/users/527470/alanobject"}, "edited": false, "score": 1, "creation_date": 1524619501, "post_id": 50012511, "comment_id": 87041907, "body": "This is quite interesting.  How does the <b>$event</b> variable get defined in the code in the context of <b>(keydown.enter)</b>?"}, {"owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "reply_to_user": {"reputation": 8398, "user_id": 527470, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7526c67649ca5e61d3e06cdf75a8e6f3?s=128&d=identicon&r=PG", "display_name": "AlanObject", "link": "https://stackoverflow.com/users/527470/alanobject"}, "edited": false, "score": 4, "creation_date": 1524619739, "post_id": 50012511, "comment_id": 87041962, "body": "@AlanObject, DOM events carry a payload of information named $event. It&#39;s possible to use it on any input event, i.e. (input),(keydown), (click), etc."}], "tags": [], "owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "is_accepted": true, "score": 14, "last_activity_date": 1546758043, "last_edit_date": 1546758043, "creation_date": 1524616984, "answer_id": 50012511, "question_id": 50010345, "link": "https://stackoverflow.com/questions/50010345/angular-stop-enter-key-from-submitting/50012511#50012511", "title": "Angular stop Enter Key from submitting", "body": "<p>DOM events carry a payload of information named $event. It's possible to use it on any input event, i.e. (input),(keydown), (click), etc. </p>\n\n<p>It's possible to skip the use of the Hostlistner and apply preventDefault on $event, like so:</p>\n\n<p><code>(keydown.enter)=\"$event.preventDefault()\"</code> </p>\n\n<p>on the buttons:</p>\n\n<pre><code>...\n&lt;button ... (keydown.enter)=\"$event.preventDefault()\" ...&gt;...&lt;/button&gt;\n...\n</code></pre>\n\n<p>or:</p>\n\n<p>HTML:</p>\n\n<pre><code>...\n&lt;button ... (keydown.enter)=\"prevent($event)\" ...&gt;...&lt;/button&gt;\n...\n</code></pre>\n\n<p>Typescript:</p>\n\n<pre><code>...\nprevent(event){\n event.preventDefault();\n}\n...\n</code></pre>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-9zwhfg\" rel=\"noreferrer\">Demo</a></strong></p>\n"}, {"tags": [], "owner": {"reputation": 1614, "user_id": 2903646, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/moiJ2.jpg?s=128&g=1", "display_name": "Juan Antonio", "link": "https://stackoverflow.com/users/2903646/juan-antonio"}, "is_accepted": false, "score": 4, "last_activity_date": 1591543927, "creation_date": 1591543927, "answer_id": 62247651, "question_id": 50010345, "link": "https://stackoverflow.com/questions/50010345/angular-stop-enter-key-from-submitting/62247651#62247651", "title": "Angular stop Enter Key from submitting", "body": "<p>If you are using a form you can prevent it over all using <code>keydown.enter</code> event in the main tag:</p>\n\n<pre><code>&lt;form [formGroup]=\"...\" (keydown.enter)=\"$event.preventDefault()\"&gt;\n...\n&lt;/form&gt;\n</code></pre>\n\n<p>But maybe you want also to prevent some other keys combinations like:</p>\n\n<pre><code>(keydown.enter)=\"$event.preventDefault()\"\n(keydown.shift.enter)=\"$event.preventDefault()\"\n(keydown.control.enter)=\"$event.preventDefault()\"\n(keydown.alt.enter)=\"$event.preventDefault()\"\n</code></pre>\n"}], "owner": {"reputation": 2266, "user_id": 1019042, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e50f9c4bba67e6931b2cace29ad9b2ff?s=128&d=identicon&r=PG", "display_name": "user1019042", "link": "https://stackoverflow.com/users/1019042/user1019042"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10464, "favorite_count": 2, "accepted_answer_id": 50012511, "answer_count": 2, "score": 7, "last_activity_date": 1600080150, "creation_date": 1524602036, "last_edit_date": 1600080150, "question_id": 50010345, "link": "https://stackoverflow.com/questions/50010345/angular-stop-enter-key-from-submitting", "title": "Angular stop Enter Key from submitting", "body": "<p>I am trying to stop the <kbd>Enter</kbd> from submitting my button and rather make it point to another function. I tried trapping the <kbd>Enter</kbd> via the Host Listener and then do <code>preventDefault()</code> on it to stop it from firing.</p>\n\n<p>My template in my component looks like this: </p>\n\n<pre><code>&lt;mat-dialog-content class=\"dialog-content\"&gt;{{data.content | translate}}&lt;/mat-dialog-content&gt;\n&lt;div&gt;\n  &lt;mat-button-toggle-group&gt;\n    &lt;button type=\"button\" matDialogClose (click)=\"dialogRef.close()\"&gt;{{uppercase }}&lt;/button&gt;\n    &lt;button type=\"button\" (click)=\"dialogRef.close(true)\" cdkFocusInitial&gt;{{uppercase}}&lt;/button&gt;\n  &lt;/mat-button-toggle-group&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>At the top of my component code:</p>\n\n<pre><code>export enum KEY_CODE {\n  ENTER_KEY = 13\n}\n</code></pre>\n\n<p>Inside my export class:</p>\n\n<pre><code>@HostListener('window:keyup', ['$event'])\nkeyEventUp(event: KeyboardEvent) {\n\n    if (event.keyCode === KEY_CODE.ENTER_KEY) {\n      event.preventDefault();\n      event.stopPropagation();\n      return false;\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript"], "comments": [{"owner": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "edited": false, "score": 0, "creation_date": 1524604634, "post_id": 50010082, "comment_id": 87038244, "body": "your import should be import { UnitService } from &quot;../services/unitservice&quot;;  or change file name unit.service.ts"}], "answers": [{"tags": [], "owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "is_accepted": false, "score": 0, "last_activity_date": 1524666955, "last_edit_date": 1524666955, "creation_date": 1524653721, "answer_id": 50020479, "question_id": 50010082, "link": "https://stackoverflow.com/questions/50010082/typeerror-cannot-read-property-unitservice-of-undefined/50020479#50020479", "title": "TypeError: Cannot read property &#39;unitService&#39; of undefined", "body": "<blockquote>\n  <p>TypeError: Cannot read property 'unitService' of undefined</p>\n  \n  <p>I have this class in TypeScript and when I call <code>this.unitService</code> I get an error.</p>\n</blockquote>\n\n<p><code>this</code> is therefore <code>undefined</code>. The issue comes from the way you call <code>forceCreateUnit</code>.</p>\n\n<p>Try that:</p>\n\n<pre><code>homeRoutes.get(\"/prueba\", (req, res) =&gt; homeController.forceCreateUnit(req, res));\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 9693383, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JO3M8ygm8jI/AAAAAAAAAAI/AAAAAAAABi0/UL4BnLk0spM/photo.jpg?sz=128", "display_name": "Aitor Bernal", "link": "https://stackoverflow.com/users/9693383/aitor-bernal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524666955, "creation_date": 1524600835, "last_edit_date": 1524605063, "question_id": 50010082, "link": "https://stackoverflow.com/questions/50010082/typeerror-cannot-read-property-unitservice-of-undefined", "title": "TypeError: Cannot read property &#39;unitService&#39; of undefined", "body": "<p>I have this class in TypeScript and when I call <code>this.unitService</code> I get an error.</p>\n\n<p>controller.ts</p>\n\n<pre><code>import { Request, Response } from \"express\";\nimport Unit from \"../models/unit.model\";\nimport Relation from \"../models/relation.model\";\nimport { TypeRelation } from \"../models/typeralation.enum\";\nimport { UnitService } from \"../services/unit.service\";\n\nexport class HomeController {\n  unitService: UnitService = new UnitService();\n  constructor() { }\n\n  forceCreateUnit(req: Request, res: Response): void {\n    const unit = \"{ type: \" + TypeRelation.USE + \", topUnit: new ObjectId(\\\"5adf231d85dded040f3f6d03\\\"), lowerUnit: new ObjectId(\\\"5adf231d85dded040f3f6d03\\\")}\";\n    this.unitService.prueba();\n    res.send(\"OK\");\n  }\n}\n</code></pre>\n\n<p>unit.service.ts</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import Relation from \"../models/relation.model\";\r\nimport { TypeRelation } from \"../models/typeralation.enum\";\r\nimport { ObjectId } from \"bson\";\r\n\r\nexport class UnitService {\r\n    constructor() {}\r\n    async forceGenerate(unit: String) {\r\n        const relation = new Relation(\r\n            {\r\n              type: TypeRelation.USE,\r\n              topUnit: new ObjectId(\"5adf231d85dded040f3f6d03\"),\r\n              lowerUnit: new ObjectId(\"5adf231d85dded040f3f6d03\")\r\n            }\r\n          );\r\n          await relation.save();\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>However when I put <code>new unitService()</code> in <code>forceCreateUnit()</code>, it works good. Why is that?</p>\n\n<p>I call method like this:</p>\n\n<pre><code>const homeController: HomeController = new HomeController();\n\nhomeRoutes.get(\"/prueba\", homeController.forceCreateUnit);\n</code></pre>\n"}, {"tags": ["typescript", "oop", "inheritance", "static"], "answers": [{"tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": false, "score": 0, "last_activity_date": 1524608488, "last_edit_date": 1524608488, "creation_date": 1524607546, "answer_id": 50011346, "question_id": 50010053, "link": "https://stackoverflow.com/questions/50010053/access-child-class-static-member-from-a-base-class-static-member/50011346#50011346", "title": "Access child class static member from a base class static member", "body": "<p>This class hierarchy has several problems:</p>\n\n<ul>\n<li>static-only class is usually an antipattern in JavaScript/TypeScript</li>\n<li><code>EntityBase</code> is used instead of <code>Entity</code> in <code>this.test = EntityBase.seeIfWorks()</code> example, child class isn't involved</li>\n<li>class constructor is hard-coded to <code>EntityBase</code> in <code>EntityBase</code>, there's no way how it can refer to <code>Entity</code> this way</li>\n<li><code>TypeName</code> is hard-coded to <code>EntityBase.$typeName</code>, it can't refer to <code>Entity.$typeName</code> without redefining it in child class or using a getter</li>\n<li><code>EntityBase</code> doesn't have <code>$typeName</code> property while it uses it, this is class design mistake. A property should be defined any way</li>\n<li><code>EntityBase</code> can be used directly, while it isn't supposed to because of undefined <code>$typeName</code>. If it's base class, it should be <code>abstract</code>. This doesn't prevent it from using static methods (they can contain runtime  check if necessary) but designates its purpose.</li>\n</ul>\n\n<p>It should be:</p>\n\n<pre><code>export abstract class EntityBase {\n    static $typeName?: string;\n\n    static get TypeName(): string {\n       if (this === EntityBase) throw 'Cannot be accessed';\n       return this.$typeName;\n    }\n\n    static StaticBaseMethod(): string {\n       if (this === EntityBase) throw 'Cannot be accessed';\n       return this.$typeName;\n    }\n\n    static seeIfWorks(): any {\n       if (this === EntityBase) throw 'Cannot be accessed';\n       return {\n          field: this.TypeName,\n          method: this.StaticBaseMethod()\n        };\n    }\n}\n\nexport class Entity extends EntityBase {\n    static $typeName: string = \"CoolChildType\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10667, "user_id": 3345644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e4fa66a71e59fe32c2d602bdb5068b5?s=128&d=identicon&r=PG", "display_name": "Alexander Abakumov", "link": "https://stackoverflow.com/users/3345644/alexander-abakumov"}, "is_accepted": true, "score": 0, "last_activity_date": 1524672869, "creation_date": 1524672869, "answer_id": 50026921, "question_id": 50010053, "link": "https://stackoverflow.com/questions/50010053/access-child-class-static-member-from-a-base-class-static-member/50026921#50026921", "title": "Access child class static member from a base class static member", "body": "<p>Simple answer to my question is: you actually <em>can</em> refer to child static members from a base class static member. This could be done via <code>this</code> keyword instead of base class name (thanks @estus for demonstrating it in his <a href=\"https://stackoverflow.com/a/50011346/3345644\">answer</a>).</p>\n\n<p>As a developer mostly from class-based languages background, I've missed the option of using <code>this</code> in static members in TypeScript.</p>\n\n<p>So, the example from my question could be fixed by replacing base class name with <code>this</code> whenever we want to refer to the child class static member:</p>\n\n<pre><code>export class EntityBase {\n    // Static initializer doesn't work for the purpose, since it's called once during first usage of base class. Use static getter instead (below).\n    // public static TypeName: string = (EntityBase as any).$typeName;\n\n    // Static getter\n    public static get TypeName(): string {\n       return (this as any).$typeName;\n    }\n\n    public static StaticBaseMethod(): string {\n      return (this as any).$typeName;\n    }\n\n    public static seeIfWorks(): any {\n        return {\n          field: this.TypeName,\n          method: this.StaticBaseMethod()\n        };\n    }\n}\n</code></pre>\n\n<p>Also, my typo was referring to base class instead of a child one when testing this. The correct way is:</p>\n\n<pre><code>// Test call\nthis.test = Entity.seeIfWorks()\n</code></pre>\n\n<p>See updated <a href=\"https://stackblitz.com/edit/typescript-access-static-child-from-static-base\" rel=\"nofollow noreferrer\">Stackblitz</a> where I also added a test case for two derived classes.</p>\n"}], "owner": {"reputation": 10667, "user_id": 3345644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e4fa66a71e59fe32c2d602bdb5068b5?s=128&d=identicon&r=PG", "display_name": "Alexander Abakumov", "link": "https://stackoverflow.com/users/3345644/alexander-abakumov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 591, "favorite_count": 0, "accepted_answer_id": 50026921, "answer_count": 2, "score": 1, "last_activity_date": 1524672869, "creation_date": 1524600729, "last_edit_date": 1524669255, "question_id": 50010053, "link": "https://stackoverflow.com/questions/50010053/access-child-class-static-member-from-a-base-class-static-member", "title": "Access child class static member from a base class static member", "body": "<p><a href=\"https://stackoverflow.com/questions/20851358/access-child-class-static-members-from-base-class\">Here</a> is how to access child class static member from a base class non-static member.</p>\n\n<p>I'm wondering: is it doable also from a base static member?</p>\n\n<p>I've tried the following code which doesn't work (<a href=\"https://stackblitz.com/edit/typescript-access-static-child-from-static-base\" rel=\"nofollow noreferrer\">Stackblitz</a>):</p>\n\n<pre><code>export class EntityBase {\n    // Base static property initialized using a child static memeber\n    public static TypeName: string = (EntityBase as any).$typeName;\n\n    public static StaticBaseMethod(): string {\n      return (EntityBase as any).$typeName;\n    }\n\n    public static seeIfWorks(): any {\n        return {\n          field: EntityBase.TypeName,\n          method: EntityBase.StaticBaseMethod()\n        };\n    }\n}\n\nexport class Entity extends EntityBase {\n    public static $typeName: string = \"CoolChildType\";\n}\n\n// Test call\nthis.test = EntityBase.seeIfWorks()\n</code></pre>\n\n<p>Both properties of object returned by <code>seeIfWorks()</code> method are <code>undefined</code>.</p>\n\n<p>The problem is that there is no direct access to a child constructor function from base static members. The only way I've came so far is to pass it explicitly to the base static methods, but maybe there is language integrated solution for this problem already.</p>\n"}, {"tags": ["typescript", "constants", "type-inference"], "answers": [{"comments": [{"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 0, "creation_date": 1524600320, "post_id": 50009920, "comment_id": 87036532, "body": "Ah, something like <code>let x = 3</code>, typescript  infers <code>x</code> as type <code>number</code>. Similarly, typescript infers <code>Point</code> to be of type <code>{x: number; y: number;}</code>. Is it correct?"}, {"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "reply_to_user": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 0, "creation_date": 1524600351, "post_id": 50009920, "comment_id": 87036541, "body": "Yes. It infers it based on the usage."}, {"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 0, "creation_date": 1524600384, "post_id": 50009920, "comment_id": 87036555, "body": "Infers at compile time"}], "tags": [], "owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "is_accepted": true, "score": 3, "last_activity_date": 1524600132, "creation_date": 1524600132, "answer_id": 50009920, "question_id": 50009887, "link": "https://stackoverflow.com/questions/50009887/is-const-variable-declaration-a-type-definition/50009920#50009920", "title": "Is const variable declaration a type definition", "body": "<p>No. TypeScript is inferring the type based on what you have set your <code>Point</code> variable to. <code>const</code> is setting it up so that you can't reassign the <code>Point</code> variable. You will see the same behavior using <code>var</code> or <code>let</code> in your code.</p>\n"}], "owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 50009920, "answer_count": 1, "score": 0, "last_activity_date": 1524600372, "creation_date": 1524599986, "last_edit_date": 1524600372, "question_id": 50009887, "link": "https://stackoverflow.com/questions/50009887/is-const-variable-declaration-a-type-definition", "title": "Is const variable declaration a type definition", "body": "<p>With below <code>const</code> declaration of variable(<code>Point</code>),</p>\n\n<pre><code>const Point = {\n        x: 1,\n        y: 2\n}\n</code></pre>\n\n<p><code>Point.z = 6</code> says, <code>Property 'z' does not exist on type '{ x: number; y: number; }'</code></p>\n\n<p>Is <code>const</code> variable declaration a type definition?</p>\n"}, {"tags": ["angular", "typescript", "angular5", "karma-webpack"], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 476452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZacDi.png?s=128&g=1", "display_name": "Edmar Barros", "link": "https://stackoverflow.com/users/476452/edmar-barros"}, "is_accepted": false, "score": 1, "last_activity_date": 1548786044, "creation_date": 1548786044, "answer_id": 54427332, "question_id": 50009696, "link": "https://stackoverflow.com/questions/50009696/angular-5-getting-error-when-trying-to-run-ng-test/54427332#54427332", "title": "Angular 5 Getting Error when trying to run &quot;ng test&quot;", "body": "<p>I've faced the same error and, in my case, in order to solve it I had to reorder the scripts at .angular-cli.json and add jQuery to the script list.</p>\n\n<p>Install jquery:</p>\n\n<pre><code>npm install --save-dev @types/jquery\nnpm install jquery -save\n</code></pre>\n\n<p>Add to scrips and set the order:</p>\n\n<pre><code>\"scripts\": [\n  // any other scripts you may have\n  \"../node_modules/jquery/dist/jquery.min.js\",\n  \"assets/bootstrap/bootstrap.bundle.min.js\"\n],\n</code></pre>\n\n<p><a href=\"https://github.com/understrap/understrap/issues/449#issuecomment-373323099\" rel=\"nofollow noreferrer\">https://github.com/understrap/understrap/issues/449#issuecomment-373323099</a></p>\n\n<p>and add jquery to the karma.conf.js</p>\n\n<pre><code>files: [\n  './node_modules/jquery/dist/jquery.min.js',\n]\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/19131293\">https://stackoverflow.com/a/19131293</a></p>\n\n<p>Replying to this old question in case anyone else like me end up here with the same problem.</p>\n"}], "owner": {"reputation": 138, "user_id": 2460753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3f9036b5921eacaafe21798e07ca21c?s=128&d=identicon&r=PG", "display_name": "Amac", "link": "https://stackoverflow.com/users/2460753/amac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 677, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548786044, "creation_date": 1524599172, "last_edit_date": 1524600886, "question_id": 50009696, "link": "https://stackoverflow.com/questions/50009696/angular-5-getting-error-when-trying-to-run-ng-test", "title": "Angular 5 Getting Error when trying to run &quot;ng test&quot;", "body": "<p>I'm getting an error when I try and run <code>ng test</code> :</p>\n\n<blockquote>\n  <p>HeadlessChrome 65.0.3325 (Windows 10.0.0) ERROR\n  Uncaught TypeError: Cannot read property 'fn' of undefined\n  at <a href=\"http://localhost:9876/_karma_webpack_/scripts.bundle.js:12\" rel=\"nofollow noreferrer\">http://localhost:9876/_karma_webpack_/scripts.bundle.js:12</a></p>\n</blockquote>\n\n<p><strong>package.json</strong></p>\n\n<pre><code> \"dependencies\": {\n    \"@angular/animations\": \"^5.2.0\",\n    \"@angular/common\": \"^5.2.0\",\n    \"@angular/compiler\": \"^5.2.0\",\n    \"@angular/core\": \"^5.2.0\",\n    \"@angular/forms\": \"^5.2.0\",\n    \"@angular/http\": \"^5.2.0\",\n    \"@angular/platform-browser\": \"^5.2.0\",\n    \"@angular/platform-browser-dynamic\": \"^5.2.0\",\n    \"@angular/router\": \"^5.2.0\",\n    \"bootstrap\": \"^4.0.0\",\n    \"core-js\": \"^2.4.1\",\n    \"font-awesome\": \"^4.7.0\",\n    \"npm\": \"^5.8.0\",\n    \"popper.js\": \"^1.14.1\",\n    \"primeng\": \"^5.2.3\",\n    \"rxjs\": \"^5.5.6\",\n    \"zone.js\": \"^0.8.19\"\n  },\n  \"devDependencies\": {\n    \"@angular/cli\": \"~1.7.0\",\n    \"@angular/compiler-cli\": \"^5.2.0\",\n    \"@angular/language-service\": \"^5.2.0\",\n    \"@types/jasmine\": \"~2.8.3\",\n    \"@types/jasminewd2\": \"~2.0.2\",\n    \"@types/node\": \"~6.0.60\",\n    \"codelyzer\": \"^4.0.1\",\n    \"jasmine-core\": \"~2.8.0\",\n    \"jasmine-spec-reporter\": \"~4.2.1\",\n    \"karma\": \"~2.0.0\",\n    \"karma-chrome-launcher\": \"~2.2.0\",\n    \"karma-cli\": \"~1.0.1\",\n    \"karma-coverage-istanbul-reporter\": \"^1.2.1\",\n    \"karma-jasmine\": \"~1.1.0\",\n    \"karma-jasmine-html-reporter\": \"^0.2.2\",\n    \"karma-mocha-reporter\": \"^2.2.5\",\n    \"protractor\": \"~5.1.2\",\n    \"ts-node\": \"~4.1.0\",\n    \"tslint\": \"~5.9.1\",\n    \"typescript\": \"~2.5.3\"\n  }\n</code></pre>\n"}, {"tags": ["javascript", "c++", "typescript", "network-protocols"], "answers": [{"comments": [{"owner": {"reputation": 1312, "user_id": 1033326, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/544e259be531876393970779b7c25f28?s=128&d=identicon&r=PG", "display_name": "sancelot", "link": "https://stackoverflow.com/users/1033326/sancelot"}, "edited": false, "score": 0, "creation_date": 1524637665, "post_id": 50009665, "comment_id": 87046984, "body": "Yes, I did consider it. But that lacks of an overview of what is done server side and client side.It&#39;s confusing to understand how it will operate in my case. The node buffer c++ api remains in server side and must be executed on server side. I understand that will permit to share this C buffer with javascript.  Do you consider server side rendering mandatory ? in any case, there is an amount of data that must be transfered client side ?"}, {"owner": {"reputation": 1312, "user_id": 1033326, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/544e259be531876393970779b7c25f28?s=128&d=identicon&r=PG", "display_name": "sancelot", "link": "https://stackoverflow.com/users/1033326/sancelot"}, "edited": false, "score": 0, "creation_date": 1524778633, "post_id": 50009665, "comment_id": 87120855, "body": "The solution seems being using a websocket stream to receive data from C++ program server side and storing in a NodeJS buffer client side."}], "tags": [], "owner": {"reputation": 444, "user_id": 5152183, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/hzFqH.jpg?s=128&g=1", "display_name": "demo7up", "link": "https://stackoverflow.com/users/5152183/demo7up"}, "is_accepted": false, "score": 0, "last_activity_date": 1524598992, "creation_date": 1524598992, "answer_id": 50009665, "question_id": 50009548, "link": "https://stackoverflow.com/questions/50009548/sharing-big-float-arrays-between-c-c-and-javascript-applications/50009665#50009665", "title": "sharing big float arrays between C/C++ and javascript applications", "body": "<p>Have you considered using Node.Js Buffers for this? nodejs allows you to move data fairly seamlessly between javascript and native C++ code. Explained a bit better here -><a href=\"https://community.risingstack.com/using-buffers-node-js-c-plus-plus/\" rel=\"nofollow noreferrer\">Node.Js Buffers</a></p>\n"}], "owner": {"reputation": 1312, "user_id": 1033326, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/544e259be531876393970779b7c25f28?s=128&d=identicon&r=PG", "display_name": "sancelot", "link": "https://stackoverflow.com/users/1033326/sancelot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1524598992, "creation_date": 1524598429, "question_id": 50009548, "link": "https://stackoverflow.com/questions/50009548/sharing-big-float-arrays-between-c-c-and-javascript-applications", "title": "sharing big float arrays between C/C++ and javascript applications", "body": "<p>I have  float arrays, that are positions of  3D objects computed by a C++ program. the chunk size will be 1000. \nI have to share these data with a javascript visualisation program that will display the 3d mobiles positions depending on the time.\nHow to share these arrays between the C++ (server side) and javascript (client side) application through the network ? which protocol can I use ?</p>\n"}, {"tags": ["node.js", "angular", "typescript", "firebase", "firebase-realtime-database"], "comments": [{"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 0, "creation_date": 1524597928, "post_id": 50009425, "comment_id": 87035374, "body": "you can either use service or input decorator"}, {"owner": {"reputation": 616, "user_id": 9342966, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dc5d6abb8ef464546bb7cc177eeab0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Angulandy2", "link": "https://stackoverflow.com/users/9342966/angulandy2"}, "reply_to_user": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 0, "creation_date": 1524597989, "post_id": 50009425, "comment_id": 87035398, "body": "Sorry, but I asked more information, because I want to know how to do that clearly and hope so someone will explain."}], "owner": {"reputation": 616, "user_id": 9342966, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dc5d6abb8ef464546bb7cc177eeab0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Angulandy2", "link": "https://stackoverflow.com/users/9342966/angulandy2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1524654332, "creation_date": 1524597810, "last_edit_date": 1524654332, "question_id": 50009425, "link": "https://stackoverflow.com/questions/50009425/angular-5-firebase-database-querying", "title": "Angular 5 Firebase Database querying", "body": "<p>I want to show specific data in one component from another component data select.</p>\n\n<p>For example :</p>\n\n<p>Database : </p>\n\n<pre><code>post {\nname: string;\ndescription: string;\nphotoURL: string;\n\n      postInner {\n      oneExample: string;\n      twoExample: string;\n      }\n\n}\n</code></pre>\n\n<ol>\n<li>I got home.component and I am showing there all posts (name, description, photoUrl).  </li>\n<li>I click on one of the posts and I go to another component (post inner component) .</li>\n<li>I get that post data on which I clicked postInner(oneExample, twoExample).</li>\n</ol>\n\n<p>I am new to it, never done it, so clear explanation about it would be very helpful. </p>\n\n<p>How to get data from the selected database object/list and transfer it to another component?</p>\n"}, {"tags": ["typescript", "aws-sdk-nodejs"], "answers": [{"tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": false, "score": 0, "last_activity_date": 1524597672, "creation_date": 1524597672, "answer_id": 50009391, "question_id": 50009335, "link": "https://stackoverflow.com/questions/50009335/need-a-typescript-sample-with-aws-sdk-for-s3/50009391#50009391", "title": "Need a typescript sample with aws-sdk for S3", "body": "<p>You should check the following project which does the similar kind of requirement as yours</p>\n\n<pre><code>function uploadOutputFiles(files: string[], cb4: Callback) {\n    parallel(files.map(function (file) {\n        return (c) =&gt; uploadFile(file, c)\n    }), cb4)\n}\n</code></pre>\n\n<p><a href=\"https://github.com/aheld/PodToText\" rel=\"nofollow noreferrer\">https://github.com/aheld/PodToText</a></p>\n"}], "owner": {"reputation": 2471, "user_id": 319274, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/862e8a17aa4126e0231a7f9c4e2a006f?s=128&d=identicon&r=PG", "display_name": "Southsouth", "link": "https://stackoverflow.com/users/319274/southsouth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1464, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1524597672, "creation_date": 1524597478, "question_id": 50009335, "link": "https://stackoverflow.com/questions/50009335/need-a-typescript-sample-with-aws-sdk-for-s3", "title": "Need a typescript sample with aws-sdk for S3", "body": "<p>I am trying to upload an mp3 file to AWS S3 and download it from S3 bucket using typescript.\nAnyone have an example or a link for typescript?\nThe example <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/blob/master/javascript/example_code/s3/s3_upload.js\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/blob/master/javascript/example_code/s3/s3_upload.js</a> I have doesn't compile for typescript.</p>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "events"], "answers": [{"comments": [{"owner": {"reputation": 437, "user_id": 9277759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f16464223892bdc7d0238c9e9117a26?s=128&d=identicon&r=PG&f=1", "display_name": "TheProgrammer", "link": "https://stackoverflow.com/users/9277759/theprogrammer"}, "edited": false, "score": 1, "creation_date": 1524597606, "post_id": 50009291, "comment_id": 87035226, "body": "Oh god, thanks! I would never ever have checked the imports... That happens if you rely on the auto-import function of visual studio code... :-/"}], "tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": true, "score": 5, "last_activity_date": 1524597336, "creation_date": 1524597336, "answer_id": 50009291, "question_id": 50009198, "link": "https://stackoverflow.com/questions/50009198/angular-output-does-not-work-instanceoutput-propname-subscribe-is-not-a-func/50009291#50009291", "title": "Angular Output does not work - instance[output.propName].subscribe is not a function", "body": "<p>You need to import <strong><code>EventEmitter</code></strong>  from <strong><code>'@angular/core'</code></strong></p>\n\n<p>Change</p>\n\n<pre><code>import { EventEmitter } from 'events';\n</code></pre>\n\n<p>To</p>\n\n<pre><code>import { EventEmitter } from '@angular/core';\n</code></pre>\n"}], "owner": {"reputation": 437, "user_id": 9277759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f16464223892bdc7d0238c9e9117a26?s=128&d=identicon&r=PG&f=1", "display_name": "TheProgrammer", "link": "https://stackoverflow.com/users/9277759/theprogrammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 656, "favorite_count": 0, "accepted_answer_id": 50009291, "answer_count": 1, "score": 2, "last_activity_date": 1524597379, "creation_date": 1524596973, "last_edit_date": 1524597379, "question_id": 50009198, "link": "https://stackoverflow.com/questions/50009198/angular-output-does-not-work-instanceoutput-propname-subscribe-is-not-a-func", "title": "Angular Output does not work - instance[output.propName].subscribe is not a function", "body": "<p>I got a problem with my @Output or at least with the event in the parent component.\nParent HTML:</p>\n\n<pre><code>&lt;h1&gt;Accountmanagement&lt;/h1&gt;\n&lt;button class=\"add\" (click)=\"onAddEmployee()\"&gt;Add Employee&lt;/button&gt;\n&lt;table&gt;\n  &lt;tr&gt;\n    &lt;th&gt;Username&lt;/th&gt;\n    &lt;th&gt;E-Mail&lt;/th&gt;\n    &lt;th&gt;Discord&lt;/th&gt;\n    &lt;th&gt;First Name&lt;/th&gt;\n    &lt;th&gt;Forum&lt;/th&gt;\n    &lt;th&gt;Gitlab&lt;/th&gt;\n    &lt;th&gt;Redmine&lt;/th&gt;\n    &lt;th&gt;Gameserver&lt;/th&gt;\n    &lt;th&gt;Docu-Server&lt;/th&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n&lt;div class=\"overlay\" *ngIf=\"showOverlay\"&gt;&lt;/div&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;div class=\"interface\" *ngIf=\"showOverlay\"&gt;\n  &lt;employee-dialog [employee]=\"employee\" (end)=\"onEnd($event)\"&gt;&lt;/employee-dialog&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Parent TS:</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { Employee } from '../../Dataclasses/Employee';\nimport { EmployeeDialog } from './EmployeeDialog/EmployeeDialog';\n\n@Component({\n    selector: 'employee-list',\n    templateUrl: 'EmployeeList.html',\n    styleUrls: [\"EmployeeList.css\"]\n})\nexport class EmployeeList {\n    employees: Employee[];\n    employee: Employee = new Employee();\n    showOverlay: boolean = false; //if the overlay and popup is shown\n    constructor() {\n        //intitialize employees (from DB)\n    }\n\n    onAddEmployee(): void {\n        this.showOverlay = true;\n    }\n\n    onEnd(empl: Employee) {\n        console.log(\"test\");\n    }\n}\n</code></pre>\n\n<p>Child TS:</p>\n\n<pre><code>import { Component, Inject, Input, Output } from '@angular/core';\nimport { Employee } from '../../../Dataclasses/Employee';\nimport { EventEmitter } from 'events';\n\n@Component({\n    selector: 'employee-dialog',\n    templateUrl: 'EmployeeDialog.html',\n    styleUrls: ['EmployeeDialog.css']\n})\nexport class EmployeeDialog {\n    @Input() employee: Employee;\n    @Output() end = new EventEmitter&lt;Employee&gt;();\n    private isNew: boolean = false; //wether the employee is a new created or not - important for the conrirmation buttons at the end\n    private cacheEmployee: Employee\n\n    public ngOnInit(): void {\n        if (this.employee.getUsername() == \"\") {\n            this.isNew = true;\n        }\n        this.cacheEmployee = this.employee;\n    }\n\n    public cancel(): void {\n        if (confirm(\"Do you want to discard all changes?\")) {\n            this.end.emit(this.cacheEmployee);\n        }\n    }\n\n    public save(): void {\n        //send to DB here too\n        if (this.isNew) {\n            //create accounts\n        }\n\n        if (this.employee.checkData()) {\n            this.end.emit(this.employee);\n        }\n    }\n}\n</code></pre>\n\n<p>The important things: I get the error in the following line of the Parent-HTML:</p>\n\n<pre><code>  &lt;employee-dialog [employee]=\"employee\" (end)=\"onEnd($event)\"&gt;&lt;/employee-dialog&gt;\n</code></pre>\n\n<p>The error log: </p>\n\n<pre><code>EmployeeList.html:20 ERROR TypeError: instance[output.propName].subscribe is not a function\n    at createDirectiveInstance (core.js:12330)\n    at createViewNodes (core.js:13784)\n    at createEmbeddedView (core.js:13661)\n    at callWithDebugContext (core.js:15098)\n    at Object.debugCreateEmbeddedView [as createEmbeddedView] (core.js:14410)\n    at TemplateRef_.createEmbeddedView (core.js:11736)\n    at ViewContainerRef_.createEmbeddedView (core.js:11448)\n    at NgIf._updateView (common.js:2845)\n    at NgIf.set [as ngIf] (common.js:2801)\n    at updateProp (core.js:12661)\nView_EmployeeList_2 @ EmployeeList.html:20\nEmployeeList.html:20 ERROR CONTEXT DebugContext_component: (...)componentRenderElement: (...)context: (...)elDef: {nodeIndex: 2, parent: {\u2026}, renderParent: {\u2026}, bindingIndex: 0, outputIndex: 0,\u00a0\u2026}bindingFlags: 0bindingIndex: 0bindings: Array(0)length: 0__proto__: Array(0)concat: \u0192 concat()constructor: \u0192 Array()copyWithin: \u0192 copyWithin()entries: \u0192 entries()every: \u0192 every()fill: \u0192 fill()filter: \u0192 filter()find: \u0192 find()findIndex: \u0192 findIndex()forEach: \u0192 forEach()includes: \u0192 includes()indexOf: \u0192 indexOf()join: \u0192 join()keys: \u0192 keys()lastIndexOf: \u0192 lastIndexOf()length: 0map: \u0192 map()pop: \u0192 pop()push: \u0192 push()reduce: \u0192 reduce()reduceRight: \u0192 reduceRight()reverse: \u0192 reverse()shift: \u0192 shift()slice: \u0192 slice()some: \u0192 some()sort: \u0192 sort()splice: \u0192 splice()toLocaleString: \u0192 toLocaleString()toString: \u0192 toString()unshift: \u0192 unshift()values: \u0192 values()Symbol(Symbol.iterator): \u0192 values()Symbol(Symbol.unscopables): {copyWithin: true, entries: true, fill: true, find: true, findIndex: true,\u00a0\u2026}__proto__: ObjectcheckIndex: 2childCount: 1childFlags: 114688childMatchedQueries: 0directChildFlags: 114688element: {ns: \"\", name: \"employee-dialog\", attrs: Array(0), template: null, componentProvider: {\u2026},\u00a0\u2026}flags: 33554433matchedQueries: {}matchedQueryIds: 0ngContent: nullngContentIndex: nullnodeIndex: 2outputIndex: 0outputs: [{\u2026}]parent: {nodeIndex: 0, parent: null, renderParent: null, bindingIndex: 0, outputIndex: 0,\u00a0\u2026}provider: nullquery: nullreferences: {}renderParent: {nodeIndex: 0, parent: null, renderParent: null, bindingIndex: 0, outputIndex: 0,\u00a0\u2026}text: null__proto__: ObjectelOrCompView: (...)elView: {def: {\u2026}, parent: {\u2026}, viewContainerParent: null, parentNodeDef: {\u2026}, context: NgIfContext,\u00a0\u2026}component: EmployeeList\u00a0{employee: Employee, showOverlay: true}context: NgIfContext\u00a0{$implicit: true, ngIf: true}def: {factory: \u0192, nodeFlags: 33669123, rootNodeFlags: 1, nodeMatchedQueries: 0, flags: 0,\u00a0\u2026}disposables: (2)\u00a0[\u0192, empty]initIndex: -1nodes: (5)\u00a0[{\u2026}, {\u2026}, {\u2026}, empty \u00d7 2]oldValues: [empty]parent: {def: {\u2026}, parent: {\u2026}, viewContainerParent: null, parentNodeDef: {\u2026}, context: EmployeeList,\u00a0\u2026}parentNodeDef: {nodeIndex: 47, parent: null, renderParent: null, bindingIndex: 1, outputIndex: 1,\u00a0\u2026}renderer: DebugRenderer2\u00a0{delegate: EmulatedEncapsulationDomRenderer2, data: {\u2026}}root: {ngModule: NgModuleRef_, injector: _NullInjector, projectableNodes: Array(0), selectorOrNode: \"employee-list\", sanitizer: DomSanitizerImpl,\u00a0\u2026}state: 13viewContainerParent: null__proto__: Objectinjector: (...)nodeDef: {nodeIndex: 3, parent: {\u2026}, renderParent: {\u2026}, bindingIndex: 0, outputIndex: 1,\u00a0\u2026}nodeIndex: 3providerTokens: (...)references: (...)renderNode: (...)view: {def: {\u2026}, parent: {\u2026}, viewContainerParent: null, parentNodeDef: {\u2026}, context: NgIfContext,\u00a0\u2026}component: EmployeeList\u00a0{employee: Employee, showOverlay: true}context: NgIfContext\u00a0{$implicit: true, ngIf: true}def: {factory: \u0192, nodeFlags: 33669123, rootNodeFlags: 1, nodeMatchedQueries: 0, flags: 0,\u00a0\u2026}disposables: (2)\u00a0[\u0192, empty]initIndex: -1nodes: (5)\u00a0[{\u2026}, {\u2026}, {\u2026}, empty \u00d7 2]oldValues: [empty]parent: {def: {\u2026}, parent: {\u2026}, viewContainerParent: null, parentNodeDef: {\u2026}, context: EmployeeList,\u00a0\u2026}parentNodeDef: {nodeIndex: 47, parent: null, renderParent: null, bindingIndex: 1, outputIndex: 1,\u00a0\u2026}renderer: DebugRenderer2\u00a0{delegate: EmulatedEncapsulationDomRenderer2, data: {\u2026}}root: {ngModule: NgModuleRef_, injector: _NullInjector, projectableNodes: Array(0), selectorOrNode: \"employee-list\", sanitizer: DomSanitizerImpl,\u00a0\u2026}state: 13viewContainerParent: null__proto__: Object__proto__: Object\nView_EmployeeList_2 @ EmployeeList.html:20\n</code></pre>\n\n<p>What do I do wrong? Without <code>(end)=\"onEnd($event)\"</code> everything works...? I just want to handle the event and get the data passed with $events to use it in my parent class. Thanks for answers already!</p>\n"}, {"tags": ["typescript", "telerik", "nativescript", "nativescript-angular", "nativescript-plugin"], "comments": [{"owner": {"reputation": 4819, "user_id": 1893557, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/IIfF2.jpg?s=128&g=1", "display_name": "Brad Martin", "link": "https://stackoverflow.com/users/1893557/brad-martin"}, "edited": false, "score": 0, "creation_date": 1524597524, "post_id": 50009169, "comment_id": 87035193, "body": "Can you provide any of the android/java code or some dummy example of it? If not, the best answer I can give you is that once the Android build runs and compiles the aar into the app you have access to its API. Similar to this: <a href=\"https://github.com/bradmartin/nativescript-twitterbang/blob/master/src/twitterbang.android.ts#L46\" rel=\"nofollow noreferrer\">github.com/bradmartin/nativescript-twitterbang/blob/master/s&zwnj;&#8203;rc/&hellip;</a> where I&#39;ve loaded a library via gradle, once built, that native package is available to be executed."}, {"owner": {"reputation": 1234, "user_id": 3708542, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d67f74241aa3d43d503be1c219e3ae41?s=128&d=identicon&r=PG&f=1", "display_name": "ShaMoh", "link": "https://stackoverflow.com/users/3708542/shamoh"}, "reply_to_user": {"reputation": 4819, "user_id": 1893557, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/IIfF2.jpg?s=128&g=1", "display_name": "Brad Martin", "link": "https://stackoverflow.com/users/1893557/brad-martin"}, "edited": false, "score": 0, "creation_date": 1524644721, "post_id": 50009169, "comment_id": 87050974, "body": "@BradMartinis there any documentation to follow?"}, {"owner": {"reputation": 4819, "user_id": 1893557, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/IIfF2.jpg?s=128&g=1", "display_name": "Brad Martin", "link": "https://stackoverflow.com/users/1893557/brad-martin"}, "edited": false, "score": 0, "creation_date": 1524674905, "post_id": 50009169, "comment_id": 87071106, "body": "Depends on what approach you take. This is one doc if you make a &#39;plugin&#39; out of it <a href=\"https://docs.nativescript.org/runtimes/android/plugins/plugins\" rel=\"nofollow noreferrer\">docs.nativescript.org/runtimes/android/plugins/plugins</a>. If you just load the .aar privately for your app and don&#39;t want to hassle with the &#39;plugin&#39; aspect then you would just add the .aar to your project, and then you have the library exposed inside your app when you run it."}], "answers": [{"tags": [], "owner": {"reputation": 1295, "user_id": 8847604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c7a3f1bf3e98e2ba57f39a0bfbec81a?s=128&d=identicon&r=PG&f=1", "display_name": "bhavin jalodara", "link": "https://stackoverflow.com/users/8847604/bhavin-jalodara"}, "is_accepted": false, "score": 0, "last_activity_date": 1526646322, "creation_date": 1526646322, "answer_id": 50411307, "question_id": 50009169, "link": "https://stackoverflow.com/questions/50009169/invoking-android-arr-file-using-nativescript/50411307#50411307", "title": "Invoking Android .arr file using nativescript", "body": "<p>suppose in android you are importing method by <code>import info.card.getCardsInfo</code> and then calling it to get some data like \n<code>\nCards[] cards=getCardsInfo()\n</code></p>\n\n<p>in above case after importing <code>aar</code> file in nativescript project. to get the card data you have to use below code.</p>\n\n<pre><code>declare var info:any\n\nexport class CardService{\n    public getCard(){\n        let cards=info.card.getCardsInfo;\n        return cards;\n    }\n}\n</code></pre>\n\n<p>in nativescript to access any android native packages you can directly access them from any location inside your code like <code>com.package.app.method</code>.\nbut to make sure <code>TS</code> compiler don't give you error.\nyou have to declare the com variable to any like this <code>declare var com:any</code> or <code>let com:any</code> inside your TS file before accessing native apis.</p>\n\n<p>more info on this can be found at <a href=\"https://docs.nativescript.org/angular/runtimes/android/metadata/accessing-packages\" rel=\"nofollow noreferrer\">https://docs.nativescript.org/angular/runtimes/android/metadata/accessing-packages</a></p>\n"}], "owner": {"reputation": 1234, "user_id": 3708542, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d67f74241aa3d43d503be1c219e3ae41?s=128&d=identicon&r=PG&f=1", "display_name": "ShaMoh", "link": "https://stackoverflow.com/users/3708542/shamoh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 742, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1526646322, "creation_date": 1524596850, "question_id": 50009169, "link": "https://stackoverflow.com/questions/50009169/invoking-android-arr-file-using-nativescript", "title": "Invoking Android .arr file using nativescript", "body": "<p>We have created aar file which is basically an native Android application  for reading the card and will return card details in json format asynchronously. This is working fine and imported that aar file in nativescript project. How to invoke methods and callback from the imported aar file.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic2", "promise"], "answers": [{"tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": true, "score": 1, "last_activity_date": 1524597269, "creation_date": 1524597269, "answer_id": 50009271, "question_id": 50008809, "link": "https://stackoverflow.com/questions/50008809/cannot-read-property-subscribe-of-undefined-typeerror/50009271#50009271", "title": "Cannot read property &#39;subscribe&#39; of undefined TypeError", "body": "<p>Your problem is that, when <code>this.countriesObservable</code> is <code>undefined</code>, you are calling <code>this.storage.get(...).then(...)</code>. Inside the callback to tha promise you are setting <code>this.countriesObservable</code>.</p>\n\n<p>The problem is that, when you reach the <code>return this.countriesObservable</code>, the callback to <code>then</code> has not been executed, and so you're still returning <code>undefined</code>.</p>\n\n<p>You must assign <code>this.countriesObservable</code> to a new <code>Observable</code> before calling <code>this.storage.get</code> (maybe a <code>Subject</code>), then, inside the <code>then</code>, you just listen to the Observable you were going to return, and inside its call to <code>subscribe</code>, feed <code>this.countriesObservable</code> witht the data you want:</p>\n\n<pre><code>const _subject = new Subject&lt;Country[]&gt;();\nthis.countriesObservable = _subject;\nthis.storage.get(AppSettings.STORAGE_KEYS.LANGUAGE_APP).then(\n    language=&gt;{\n        this.http.get(AppSettings.API_URL + 'api/Countries?locale=' + language).map(json =&gt; {\n            delete this.countriesObservable; // when the cached countries is available we don't need the `countriesObservable` reference anymore\n            this.countries = json as Country[];\n            this.countries = this.countries.sort(function (a, b) { return (a.Name &gt; b.Name) ? 1 : ((b.Name &gt; a.Name) ? -1 : 0); });\n            return this.countries;\n          }).subscribe(countries =&gt; _subject.next(countries));\n        }\n    ).catch(err=&gt;{});\n\nreturn this.countriesObservable;\n</code></pre>\n\n<p>You might have to make a few adjustments, but this is the idea. Hope it serves you.</p>\n"}], "owner": {"reputation": 187, "user_id": 8611186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1cbca4c8402ce4b63984548f2fb68c1?s=128&d=identicon&r=PG&f=1", "display_name": "Kumar", "link": "https://stackoverflow.com/users/8611186/kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1478, "favorite_count": 0, "accepted_answer_id": 50009271, "answer_count": 1, "score": 0, "last_activity_date": 1524597269, "creation_date": 1524595478, "question_id": 50008809, "link": "https://stackoverflow.com/questions/50008809/cannot-read-property-subscribe-of-undefined-typeerror", "title": "Cannot read property &#39;subscribe&#39; of undefined TypeError", "body": "<p>I am working on an Ionic app and I have following method which calls an observable :</p>\n\n<pre><code>  getCountryById(id: number): Promise&lt;Country&gt; {\n    return new Promise((resolve, reject) =&gt; {\n      this.getCountries().subscribe(countries =&gt; {\n        for (let country of countries) {\n          if (country.Id == id) {\n            resolve(country);\n          }\n        }\n        resolve(undefined);\n      }, err =&gt; reject(err));\n    })\n  }\n</code></pre>\n\n<p>The other method:</p>\n\n<pre><code>  getCountries(): Observable&lt;Country[]&gt; {\n    if (this.countries) {\n      return Observable.of(this.countries);\n    } else if (this.countriesObservable) {\n      return this.countriesObservable;\n    } else {\n\n      this.storage.get(AppSettings.STORAGE_KEYS.LANGUAGE_APP).then(\n        language=&gt;{\n          this.countriesObservable = this.http.get(AppSettings.API_URL + 'api/Countries?locale=' + language).map(json =&gt; {\n            delete this.countriesObservable; // when the cached countries is available we don't need the `countriesObservable` reference anymore\n            this.countries = json as Country[];\n            this.countries = this.countries.sort(function (a, b) { return (a.Name &gt; b.Name) ? 1 : ((b.Name &gt; a.Name) ? -1 : 0); });\n            return this.countries;\n          }).share();\n        }\n      ).catch(err=&gt;{\n      });\n\n      return this.countriesObservable;\n\n    }\n\n  }\n</code></pre>\n\n<p>I am pretty sure I am returning wrong data. How should I refactor the second method to return valid Observable so that first method can work on this.I am still trying to wrap my head around Promise and Observable. Thanks for your help.</p>\n"}, {"tags": ["typescript", "aurelia"], "comments": [{"owner": {"reputation": 936, "user_id": 3547514, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/6b83a0655bcb5af1a236cb99ac73ce26?s=128&d=identicon&r=PG&f=1", "display_name": "Ray", "link": "https://stackoverflow.com/users/3547514/ray"}, "edited": false, "score": 0, "creation_date": 1524598155, "post_id": 50008680, "comment_id": 87035481, "body": "after several trial and error, I got it working. Replaced this <code>ruleBuilder.on(field);</code> with  <code>(ruleBuilder as FluentRuleCustomizer&lt;any, any&gt;).on(field);</code>"}, {"owner": {"reputation": 10689, "user_id": 2167109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae3496781b80540d5a698d5cefe23eae?s=128&d=identicon&r=PG", "display_name": "Ashley Grant", "link": "https://stackoverflow.com/users/2167109/ashley-grant"}, "edited": false, "score": 0, "creation_date": 1524598687, "post_id": 50008680, "comment_id": 87035761, "body": "I think I ran in to this at some point. Sometimes TypeScript can be annoying."}, {"owner": {"reputation": 8691, "user_id": 372296, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3a0300d506022a067fed1599cd48f91?s=128&d=identicon&r=PG", "display_name": "RHarris", "link": "https://stackoverflow.com/users/372296/rharris"}, "edited": false, "score": 0, "creation_date": 1550086774, "post_id": 50008680, "comment_id": 96145282, "body": "Anyone know how to get around this when using <code>.ensure(o =&gt; o.name)</code>?  I was doing this in a non-Typescript project: <code>ValidationRules.ensure(o =&gt; o.name).required()</code> but now, when converting to TypeScript, I&#39;m getting the same error as listed on this thread."}], "answers": [{"tags": [], "owner": {"reputation": 7287, "user_id": 1014758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61ad038d923f5220867a032010ac720b?s=128&d=identicon&r=PG", "display_name": "Fred Kleuver", "link": "https://stackoverflow.com/users/1014758/fred-kleuver"}, "is_accepted": true, "score": 1, "last_activity_date": 1524654958, "creation_date": 1524654958, "answer_id": 50020900, "question_id": 50008680, "link": "https://stackoverflow.com/questions/50008680/property-on-does-not-exist-on-type-fluentrulesany-any-fluentensureany/50020900#50020900", "title": "Property &#39;on&#39; does not exist on type &#39;FluentRules&lt;any, any&gt; | FluentEnsure&lt;any&gt; | FluentRuleCustomizer&lt;any, any&gt;&#39;.", "body": "<p>The typings / api of <code>aurelia-validation</code> aren't ideal for dynamically building up rules like this, so you need to cheat a little.</p>\n\n<p>Just change your initial declaration to this:</p>\n\n<pre><code>let ruleBuilder: FluentRuleCustomizer&lt;any, any&gt; = ValidationRules\n      .ensure(\"value\")\n      .displayName(field.label) as any;\n</code></pre>\n\n<p>It will not actually be a <code>FluentRuleCustomizer</code> there (hence the <code>as any</code> is needed), but it will be after your logic below has applied any rules to it. Tbh I think <code>.displayName()</code> should just return a <code>FluentEnsure</code> or <code>FluentRuleCustomizer</code> (both have the <code>.on()</code> method that does the same thing) but that's another discussion.</p>\n\n<p>You probably want to double check that any rules were actually applied, or the <code>.on()</code> will error out:</p>\n\n<pre><code>if (rules.length) {\n    ruleBuilder.on(field);\n}\n</code></pre>\n"}], "owner": {"reputation": 936, "user_id": 3547514, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/6b83a0655bcb5af1a236cb99ac73ce26?s=128&d=identicon&r=PG&f=1", "display_name": "Ray", "link": "https://stackoverflow.com/users/3547514/ray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 50020900, "answer_count": 1, "score": 0, "last_activity_date": 1524654958, "creation_date": 1524594986, "question_id": 50008680, "link": "https://stackoverflow.com/questions/50008680/property-on-does-not-exist-on-type-fluentrulesany-any-fluentensureany", "title": "Property &#39;on&#39; does not exist on type &#39;FluentRules&lt;any, any&gt; | FluentEnsure&lt;any&gt; | FluentRuleCustomizer&lt;any, any&gt;&#39;.", "body": "<p>I am writing aurelia-validation and having issue using <code>on</code> which is part of different overload (<code>FluentRuleCustomizer</code>) class. When I use <code>ruleBuilder['on'](field);</code> it works fine, but when I change that to <code>ruleBuilder.on(field);</code> I get a red squiggly line on <code>ruleBuilder.on(field);</code>. See the below code and screenshot.</p>\n\n<pre><code>import { ValidationRules, FluentRuleCustomizer, FluentEnsure, FluentRules } from 'aurelia-validation';\nimport { on } from 'cluster';\nexport class FormHelper {\n  private static initializedForms = [];\n\n  public static initializeFormRules(form) {\n    if (this.initializedForms.indexOf(form) &gt; -1) {\n      return;\n    }\n    this.initializedForms.push(form);\n    for (const field of form.fields) {\n      if (field.validation.isValidate) {\n        let ruleBuilder: | FluentRules&lt;any, any&gt; | FluentEnsure&lt;any&gt; | FluentRuleCustomizer&lt;any, any&gt;;\n        ruleBuilder = ValidationRules\n          .ensure(\"value\")\n          .displayName(field.label);\n\n        const rules = Object.keys(field.validation.validationRule)\n          .map(key =&gt; ({ key, value: field.validation.validationRule[key] }));\n\n        for (const rule of rules) {\n          ruleBuilder = ruleBuilder[rule.key](rule.value);\n        }\n//         ruleBuilder['on'](field);\n        ruleBuilder.on(field);\n      }\n    }\n  }\n} \n</code></pre>\n\n<p><a href=\"https://github.com/aurelia/validation/blob/master/dist/commonjs/implementation/validation-rules.js\" rel=\"nofollow noreferrer\">Link</a> to all exported classes exposed for <code>aurelia-validation</code></p>\n\n<p>Any help is really appreciated :)</p>\n\n<p><a href=\"https://i.stack.imgur.com/sKjeF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sKjeF.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "typescript-compiler-api"], "answers": [{"tags": [], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "is_accepted": true, "score": 7, "last_activity_date": 1549660373, "creation_date": 1549660373, "answer_id": 54600292, "question_id": 50008676, "link": "https://stackoverflow.com/questions/50008676/add-comment-before-function-using-typescript-compiler-api/54600292#54600292", "title": "Add comment before function using TypeScript Compiler API", "body": "<p>Substituting the node is not necessary. Remember that comments aren't part of the AST, so don't add them to the array of statements in the place of the existing function declaration. Instead, just call <code>addSyntheticLeadingComment</code> on the node without using the return value.</p>\n\n<p>For example, the following code works fine:</p>\n\n<pre><code>import * as ts from \"typescript\";\n\nconst file = ts.createSourceFile(\"test.ts\", `function myFunc(a: number, b: number): number {\n    return a + b;\n}`, ts.ScriptTarget.Latest, true);\nconst functionDec = file.statements.find(ts.isFunctionDeclaration)!;\n\nts.addSyntheticLeadingComment(functionDec, ts.SyntaxKind.MultiLineCommentTrivia,\n    \"My long desired comment\", true);\n\nconst printer = ts.createPrinter({ removeComments: false });\nconsole.log(printer.printFile(file));\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>/*My long desired comment*/\nfunction myFunc(a: number, b: number): number {\n    return a + b;\n}\n</code></pre>\n"}], "owner": {"reputation": 751, "user_id": 1526766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95c41dd97fe3df59ccbef30d0d6bfee8?s=128&d=identicon&r=PG", "display_name": "Radu Szasz", "link": "https://stackoverflow.com/users/1526766/radu-szasz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 856, "favorite_count": 1, "accepted_answer_id": 54600292, "answer_count": 1, "score": 4, "last_activity_date": 1549660373, "creation_date": 1524594978, "last_edit_date": 1524595450, "question_id": 50008676, "link": "https://stackoverflow.com/questions/50008676/add-comment-before-function-using-typescript-compiler-api", "title": "Add comment before function using TypeScript Compiler API", "body": "<p>I have a TypeScript file which I want transpiled to JavaScript. As part of this translation, I want to add a comment before every function and I was hoping to do this using the TypeScript Compiler API.</p>\n\n<p>I tried two different approaches. One of them was to grab the <code>SourceFile</code> and change its <code>statements</code>, like this:</p>\n\n<pre><code>const program = ts.createProgram([args.input], {});\nconst srcFile = find(program.getSourceFiles(), (sourceFile) =&gt; !sourceFile.isDeclarationFile);\nsrcFile.statements = ts.createNodeArray(srcFile.statements.map((statement) =&gt; {\n    if (!ts.isFunctionDeclaration(statement)) {\n        return statement;\n    }\n    return ts.addSyntheticLeadingComment(\n        statement,\n        ts.SyntaxKind.MultiLineCommentTrivia,\n        \"My long desired comment\",\n        true,\n    );\n}));\n</code></pre>\n\n<p>which gives me the following error:</p>\n\n<pre><code>TypeError: Cannot read property 'emitNode' of undefined\nat getOrCreateEmitNode (/Users/.../node_modules/typescript/lib/typescript.js:52792:19)\nat getOrCreateEmitNode (/Users/.../node_modules/typescript/lib/typescript.js:52801:17)\nat setSyntheticLeadingComments (/Users/.../node_modules/typescript/lib/typescript.js:52918:9)\nat Object.addSyntheticLeadingComment (/Users/.../node_modules/typescript/lib/typescript.js:52923:16)\nat /Users/.../dist/index.js:26:15\nat Array.map (&lt;anonymous&gt;)\nat Object.&lt;anonymous&gt; (/Users/.../dist/index.js:21:60)\nat Module._compile (internal/modules/cjs/loader.js:654:30)\nat Object.Module._extensions..js (internal/modules/cjs/loader.js:665:10)\nat Module.load (internal/modules/cjs/loader.js:566:32)\n</code></pre>\n\n<p>I tried printing the <code>statement</code> right before the <code>ts.addSyntheticLeadingComment</code> and the <code>statement</code> is a <code>FunctionDeclaration</code>, as expected, albeit missing the <code>emitNode</code> field, which I would expect to be created by the <code>getOrCreateEmitNode</code> function.</p>\n\n<p>The second approach I tried is similar, but it runs into the same issue; rather than overwriting the original <code>srcFile.statement</code>, I'm working with a printer, as follows:</p>\n\n<pre><code>const printer = ts.createPrinter(undefined, {\n    substituteNode: (hint, node) =&gt; {\n        if (ts.isFunctionDeclaration(node)) {\n            return ts.addSyntheticLeadingComment(\n                node,\n                ts.SyntaxKind.MultiLineCommentTrivia,\n                \"My long desired comment\",\n                true,\n           );\n        }\n    },\n});\n\nconsole.log(printer.printFile(srcFile));\n</code></pre>\n\n<p>which gives the same error as the previous code.</p>\n\n<p>The TypeScript file I am trying to change is very simple:</p>\n\n<pre><code>function myFunc(a: number, b: number): number {\n    return a + b;\n}\n</code></pre>\n\n<p>I would really appreciate some help with this.</p>\n\n<p>Best regards,\nRadu</p>\n"}, {"tags": ["typescript", "swagger", "jquery-select2", "aurelia"], "answers": [{"tags": [], "owner": {"reputation": 7287, "user_id": 1014758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61ad038d923f5220867a032010ac720b?s=128&d=identicon&r=PG", "display_name": "Fred Kleuver", "link": "https://stackoverflow.com/users/1014758/fred-kleuver"}, "is_accepted": false, "score": 0, "last_activity_date": 1524644793, "creation_date": 1524644793, "answer_id": 50017427, "question_id": 50008322, "link": "https://stackoverflow.com/questions/50008322/select2-remote-data-results-not-reloading-fast-enough-always-1-characters-behi/50017427#50017427", "title": "Select2 remote data results not reloading fast enough, always 1+ characters behind [Aurelia, TypeScript, Swagger]", "body": "<p>From my limited understanding of Select2, the <code>ajax.url</code> is expected to return a url that select2 will call, the results of which are then passed into <code>processResults</code>.</p>\n\n<p>Instead of returning a url to select2, you're calling the API directly yourself and returning the results from it. I don't believe that <code>url</code> function is actually awaited, so here's (probably) what happens:</p>\n\n<ol>\n<li>Select2 calls <code>url</code> to get the url, your <code>this.apiCall</code> is invoked</li>\n<li>With the result from <code>url</code> (which is undefined), select2 tries to make a call and can't - so I'm guessing it doesn't do anything</li>\n<li><code>processResults</code> is immediately invoked synchronously (while your <code>apiCall</code> is still executing) and <code>this.optionsInSelect2Format</code> is simply not updated yet.</li>\n</ol>\n\n<p>You should either completely let select2 handle the api call for you (actually give it a url and process the data accordingly), or you should completely handle it yourself.</p>\n\n<p>In the latter case, you may be able to subscribe to <code>change.select2</code> event (not sure if that triggers when the users types something) and on that event call a single method that calls your api, waits for the data to be returned, and then sets the new data source. Use the <code>data</code> property instead of the <code>ajax</code> property.</p>\n\n<p>It <em>might</em> work if you simply keep your code as it is and set the <code>data</code> property to <code>this.optionsInSelect2Format</code> but you'd have to try that.</p>\n"}], "owner": {"reputation": 1, "user_id": 9692497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02a1079301e70a9a1876e9990bb9a19f?s=128&d=identicon&r=PG&f=1", "display_name": "AureliaDoe", "link": "https://stackoverflow.com/users/9692497/aureliadoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 177, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524644793, "creation_date": 1524593535, "last_edit_date": 1524597521, "question_id": 50008322, "link": "https://stackoverflow.com/questions/50008322/select2-remote-data-results-not-reloading-fast-enough-always-1-characters-behi", "title": "Select2 remote data results not reloading fast enough, always 1+ characters behind [Aurelia, TypeScript, Swagger]", "body": "<p>I'm using Select2 (ver 4.0.6-rc.1)'s remote data option to load results from a Swagger API call. I could not find much documentation on loading server-side data so that may be the problem as I am using a bit of a workaround. The dropdown doesn't load the most recent <code>param.term</code> result.</p>\n\n<p>Basically only using Aurelia-specific functionality where I reference the <code>&lt;select&gt;</code>.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;select class=\"select2\" ref=\"referenceToHTMLSelect2\"&gt;&lt;/select&gt;\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>optionsInSelect2Format = { text: string, id: string }[];\ntheSelect2: any;\nvariableId: string;\nvariableName: string;\n\npublic initializeSelect2() {\n    this.theSelect2 = $(this.referenceToHTMLSelect2).select2({\n        placeholder: 'Select',\n        width: '100%',\n        minimumInputLength: 1,\n        language: {\n            inputTooShort: () =&gt; {\n                return 'Enter at least 1 character to search'\n            }\n        },\n        ajax: {\n            url: (params) =&gt; {\n                this.apiCall(params.term, \"hardCodedStringNeededToExecuteAPICall\");\n            },\n            processResults: (params) =&gt; {\n                return {\n                    results: this.optionsInSelect2Format\n                }\n            }\n        }\n    });\n    this.theSelect2.on('select2:select', (e) =&gt; {\n        let data = this.theSelect2.select2('data')[0];\n        this.variableId = data.id;\n        this.variableName = data.text;\n\n    });\n}\n</code></pre>\n\n<p>API call:</p>\n\n<pre><code>public apiCall (searchTerm: string, type: string) {\n    return this.service.search(seachTerm, type)\n        .then(response =&gt; {\n            if (response.status === 200) {\n                const rawJSON = response.result;\n                    this.optionsInSelect2Format = [];\n                    //Lodash ForEach\n                    _.forEach(rawJSON, (entry) =&gt; {\n                        this.optionsInSelect2Format.push({\n                            text: entry.entryName,\n                            id: entry.entryID\n                        });\n                    });\n                    return this.optionsInSelect2Format;\n                }\n            }\n        })\n        .catch(error =&gt; {\n            //Error message\n        });\n</code></pre>\n\n<p>The API call is fired every time the user keys an input but the reloading of the dropdown doesn't reliably happen. The dropdown seems to reload after the first or second characters are typed, and the data it loads into the dropdown lags behind the actual param.term. E.g. user types in \"i\" and nothing is loaded, user follows \"i\" with \"t\" and instead of \"it\" results being loaded into the dropdown, the \"i\" results are loaded. </p>\n\n<p>I do see that the <code>optionsInSelect2Format</code> array has been updated to \"it\" results. Is this an async issue?</p>\n\n<p>GIF of the behavior:</p>\n\n<p><a href=\"https://i.stack.imgur.com/FKhiN.gif\" rel=\"nofollow noreferrer\">Select2 does not repopulate the dropdown fast enough</a></p>\n"}, {"tags": ["angular", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 9918, "user_id": 5695162, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ZCKFs.jpg?s=128&g=1", "display_name": "Vikas", "link": "https://stackoverflow.com/users/5695162/vikas"}, "edited": false, "score": 0, "creation_date": 1524592774, "post_id": 50007880, "comment_id": 87032662, "body": "Welcome to Stack Overflow. Please review <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> to learn some details about the expected format of questions on the site"}], "answers": [{"tags": [], "owner": {"reputation": 1393, "user_id": 1280664, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a0ee78a262d4fbfc35ed3f44a5ba03af?s=128&d=identicon&r=PG", "display_name": "fastr.de", "link": "https://stackoverflow.com/users/1280664/fastr-de"}, "is_accepted": false, "score": 1, "last_activity_date": 1524597130, "last_edit_date": 1524597130, "creation_date": 1524594105, "answer_id": 50008472, "question_id": 50007880, "link": "https://stackoverflow.com/questions/50007880/how-can-i-change-color-of-toolbar-in-ionic-according-to-user-input/50008472#50008472", "title": "How can I change color of toolbar in ionic according to user input", "body": "<p>Use the power of cascading stylesheets. Define a theme class at the toplevel like the material Design topclass <code>md</code> in ionic and Build your Themes like</p>\n\n<pre><code>.theme1 ion-header toolbar{\n  [...]\n}\n</code></pre>\n\n<p>Then alter this topclass on User Choice with <code>ngClass</code></p>\n"}, {"tags": [], "owner": {"reputation": 5575, "user_id": 1383356, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ff4815322d5181071783e771ac21d978?s=128&d=identicon&r=PG", "display_name": "Ari", "link": "https://stackoverflow.com/users/1383356/ari"}, "is_accepted": false, "score": 0, "last_activity_date": 1524614997, "creation_date": 1524614997, "answer_id": 50012311, "question_id": 50007880, "link": "https://stackoverflow.com/questions/50007880/how-can-i-change-color-of-toolbar-in-ionic-according-to-user-input/50012311#50012311", "title": "How can I change color of toolbar in ionic according to user input", "body": "<p>There are several ways:</p>\n\n<ol>\n<li>You can use a variable and assign that variable to <code>color</code> in your html file. </li>\n<li>You can create a css class for each theme and depending on the value of a variable that changes with user selection assign that class to your components.</li>\n</ol>\n\n<p>If all you need to do is changing the color of header, use method 1. Change the value of <code>color</code> variable dynamically:</p>\n\n<pre><code>&lt;ion-header&gt;\n   &lt;ion-navbar color={{color}}&gt;\n   &lt;ion-title &gt;Home&lt;/ion-title&gt;\n&lt;/ion-navbar&gt;\n</code></pre>\n\n<p></p>\n\n<p>you can see the complete code here and working example here:</p>\n\n<p><a href=\"https://stackblitz.com/edit/ionic-6j7dz7\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/ionic-6j7dz7</a></p>\n"}], "owner": {"reputation": 11, "user_id": 9456700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efe60d0c45d74612cb9a9c612238f173?s=128&d=identicon&r=PG&f=1", "display_name": "Sinner3107", "link": "https://stackoverflow.com/users/9456700/sinner3107"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1524614997, "creation_date": 1524591939, "last_edit_date": 1524596881, "question_id": 50007880, "link": "https://stackoverflow.com/questions/50007880/how-can-i-change-color-of-toolbar-in-ionic-according-to-user-input", "title": "How can I change color of toolbar in ionic according to user input", "body": "<p>I have an Ionic app and I want the user to be able to choose the theme</p>\n\n<p><a href=\"https://i.stack.imgur.com/h21LD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h21LD.png\" alt=\"https://i.stack.imgur.com/h21LD.png\"></a></p>\n\n<p>How can I effectively change all the toolbar backgrounds in the app ?</p>\n"}, {"tags": ["postgresql", "typescript", "express", "sequelize-cli"], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 7855322, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C5XbhOptL-k/AAAAAAAAAAI/AAAAAAAAABA/vv_pqFwSiZw/photo.jpg?sz=128", "display_name": "Freweini Beyene", "link": "https://stackoverflow.com/users/7855322/freweini-beyene"}, "edited": false, "score": 0, "creation_date": 1524805542, "post_id": 50010333, "comment_id": 87127589, "body": "thank you drinchev ,your solution did guide me to the right places where to solve my problems."}], "tags": [], "owner": {"reputation": 17416, "user_id": 1282674, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/11c9d16270ce6dc317790db98545eb1a?s=128&d=identicon&r=PG", "display_name": "drinchev", "link": "https://stackoverflow.com/users/1282674/drinchev"}, "is_accepted": false, "score": 0, "last_activity_date": 1524601976, "creation_date": 1524601976, "answer_id": 50010333, "question_id": 50007576, "link": "https://stackoverflow.com/questions/50007576/where-can-i-specify-the-compiled-migration/50010333#50010333", "title": "where can i specify the compiled migration", "body": "<p>Sequelize doesn't come with it's own type definitions, so in order to add them you need to install them from DefinitelyTyped</p>\n\n<pre><code>npm install @types/sequelize\n</code></pre>\n\n<p>You can create a model directly with those type definitions in place. For examples you can check the <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/sequelize/v3/sequelize-tests.ts\" rel=\"nofollow noreferrer\">tests of sequelize.d.ts</a> </p>\n\n<p>It looks like </p>\n\n<pre><code>interface TaskAttributes {\n    revision? : number;\n    name? : string;\n}\n\n// For your instance methods\ninterface TaskInstance extends Sequelize.Instance&lt;TaskAttributes&gt; {\n    upRevision(): void { ... };\n}\n\nconst GTask = s.define&lt;TaskInstance, TaskAttributes&gt;( 'task', { \n    revision : Sequelize.INTEGER, \n    name : Sequelize.STRING \n} );\n</code></pre>\n\n<p>As for your second question. <a href=\"https://github.com/sequelize/umzug\" rel=\"nofollow noreferrer\">Umzug</a> uses plain JS files for your migrations, so you will have to either compile them to JS files and then use them ( in a build step, before you run the migrations ), or just write them in JavaScript and not TypeScript.</p>\n"}], "owner": {"reputation": 29, "user_id": 7855322, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C5XbhOptL-k/AAAAAAAAAAI/AAAAAAAAABA/vv_pqFwSiZw/photo.jpg?sz=128", "display_name": "Freweini Beyene", "link": "https://stackoverflow.com/users/7855322/freweini-beyene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 764, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1524601976, "creation_date": 1524590649, "last_edit_date": 1524596992, "question_id": 50007576, "link": "https://stackoverflow.com/questions/50007576/where-can-i-specify-the-compiled-migration", "title": "where can i specify the compiled migration", "body": "<p>I'm using postgres database ORM sequelize and I'm using typescript as a backend script for in express nodeJs.</p>\n\n<p>First question: Is there a way to create a model directly to.ts ?</p>\n\n<p>Second question: While trying to migrate the db I'm getting this message:</p>\n\n<blockquote>\n  <p>\"File: 20180424170257-create-todo.ts does not match pattern: /.js$/\" </p>\n</blockquote>\n\n<p>Where can I specify the compiled migration ?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["javascript", "typescript", "rxjs"], "answers": [{"tags": [], "owner": {"reputation": 4834, "user_id": 1971908, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/sISvY.png?s=128&g=1", "display_name": "Rohith Murali", "link": "https://stackoverflow.com/users/1971908/rohith-murali"}, "is_accepted": false, "score": 1, "last_activity_date": 1524592462, "creation_date": 1524592462, "answer_id": 50008015, "question_id": 50007511, "link": "https://stackoverflow.com/questions/50007511/request-basic-typescript-javascript-and-rxjs-code-explanation/50008015#50008015", "title": "Request basic Typescript/Javascript and RxJs code explanation", "body": "<p>This will be the code once you remove the short hand method structure,</p>\n\n<pre><code>function foo1(data){\n  return {type: 'X', data}\n}\nfunction dispatcher(fn){    //fn = {type:'X', data}\n  function foo2(...args){\n    return appState.next(fn(...args));\n  };\n  return foo2;\n}\nconst actionX = dispatcher(foo1);\n\nactionX('something')'\n</code></pre>\n\n<p>Hope this gives you a better understanding.</p>\n"}, {"comments": [{"owner": {"reputation": 143, "user_id": 2949794, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/430eb1d738c1bc1e09c2ba1d83d14c7c?s=128&d=identicon&r=PG&f=1", "display_name": "John McNeill", "link": "https://stackoverflow.com/users/2949794/john-mcneill"}, "edited": false, "score": 0, "creation_date": 1524613868, "post_id": 50008358, "comment_id": 87040759, "body": "This was exactly what I was looking for! Thanks for taking the time. I also read all of your references and they were a huge help."}], "tags": [], "owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "is_accepted": true, "score": 1, "last_activity_date": 1524594068, "last_edit_date": 1524594068, "creation_date": 1524593669, "answer_id": 50008358, "question_id": 50007511, "link": "https://stackoverflow.com/questions/50007511/request-basic-typescript-javascript-and-rxjs-code-explanation/50008358#50008358", "title": "Request basic Typescript/Javascript and RxJs code explanation", "body": "<p>A more classic JS approach without the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" rel=\"nofollow noreferrer\">arrow functions</a> (<code>=&gt;</code>), <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters\" rel=\"nofollow noreferrer\">rest parameters</a> (<code>...args) =&gt; {}</code>), and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\" rel=\"nofollow noreferrer\">spread syntax</a> (<code>appState.next(fn(...args))</code>) for:</p>\n\n<pre><code>const dispatcher = fn =&gt; (...args) =&gt; appState.next(fn(...args));\n</code></pre>\n\n<p>would be:</p>\n\n<pre><code>const dispatcher = function (fn) {\n    return function () {\n        // arguments are the parameters passed to the function\n        const result = fn.apply(null, arguments);\n        return appState.next(result);\n    };\n};\n</code></pre>\n\n<p>The point of this code seems to be wrapping your callback (<code>fn</code>) passed to <code>dispatcher(...)</code> so that the <code>appState</code> is updated with the result of the callback. This makes it easier to reuse the functionality of executing some code and setting it up as the next value in your <code>appState</code>. Without this, you would need to remember to push your value back from the callback onto your app state every time.</p>\n\n<p>In other words, without using this pattern, your code above would be:</p>\n\n<pre><code>import Rx from 'rxjs/Rx';\n\nconst inputEl = document.querySelector('input');\nconst activeEl = document.querySelector('#active');\nconst doneEl = document.querySelector('done');\n\nconst appState = new Rx.BehaviorSubject({todos: []});\n\nappState.subscribe(console.log);\n\n//const dispatcher = fn =&gt; (...args) =&gt; appState.next(fn(...args));\n//const actionX = dispatcher(data =&gt; ({type: 'X', data}));\n\nconst actionX = function (data) {\n    appState.next({type: 'X', data: data});\n};\n\nactionX('some data');\n</code></pre>\n\n<p>This may be useful for the case where you have a single action, but what about if you have multiple ones? You will duplicate <code>appState.next(...)</code> for each of the actions. What if the dispatching of the result of your callback is more complicated? Well, that's a lot more duplication and possibilities of errors and getting out of sync with each other. This sounds like a great use of functional programming and pulling that out into a reusable function:</p>\n\n<pre><code>import Rx from 'rxjs/Rx';\n\nconst inputEl = document.querySelector('input');\nconst activeEl = document.querySelector('#active');\nconst doneEl = document.querySelector('done');\n\nconst appState = new Rx.BehaviorSubject({todos: []});\n\nappState.subscribe(console.log);\n\n//const dispatcher = fn =&gt; (...args) =&gt; appState.next(fn(...args));\n//const actionX = dispatcher(data =&gt; ({type: 'X', data}));\n\nconst dispatcher = function (state) {\n    appState.next(state);\n};\n// or for a shorter modern version:\n// const dispatcher = state =&gt; appState.next(state);\n\nconst actionX = function (data) {\n    dispatcher({type: 'X', data: data});\n};\n\nactionX('some data');\n</code></pre>\n\n<p>In functional programming, there is the concept of <a href=\"https://eloquentjavascript.net/05_higher_order.html\" rel=\"nofollow noreferrer\">higher order functions</a>. That link defines this as:</p>\n\n<blockquote>\n  <p>A higher-order function is a function that can take another function as an argument, or that returns a function as a result.</p>\n</blockquote>\n\n<p>This typically is to reduce repetition and make your application more composable, to reduce the code that needs to be written. Using this philosophy we can improve the code above even more. Instead of having to retrieve the state and pass it to the dispatcher function, we can provide a function that retrieves the state and return a function so that this code can be executed many times (since we can hold onto a reference to that returned function).</p>\n\n<pre><code>import Rx from 'rxjs/Rx';\n\nconst inputEl = document.querySelector('input');\nconst activeEl = document.querySelector('#active');\nconst doneEl = document.querySelector('done');\n\nconst appState = new Rx.BehaviorSubject({todos: []});\n\nappState.subscribe(console.log);\n\n//const dispatcher = fn =&gt; (...args) =&gt; appState.next(fn(...args));\n//const actionX = dispatcher(data =&gt; ({type: 'X', data}));\n\nconst dispatcher = function (fn) {\n    return function () {\n        // arguments are the parameters passed to the function\n        const result = fn.apply(null, arguments);\n        return appState.next(result);\n    };\n};\n\nconst actionX = dispatcher(function (data) {\n    return {type: 'X', data: data});\n});\n\nactionX('some data');\n</code></pre>\n\n<p>Using modern JS to simplify all of that code you end up with what you had:</p>\n\n<pre><code>import Rx from 'rxjs/Rx';\n\nconst inputEl = document.querySelector('input');\nconst activeEl = document.querySelector('#active');\nconst doneEl = document.querySelector('done');\n\nconst appState = new Rx.BehaviorSubject({todos: []});\n\nappState.subscribe(console.log);\n\nconst dispatcher = fn =&gt; (...args) =&gt; appState.next(fn(...args));\n//const dispatcher = function (fn) {\n//    return function () {\n//        // arguments are the parameters passed to the function\n//        const result = fn.apply(null, arguments);\n//        return appState.next(result);\n//    };\n//};\n\nconst actionX = dispatcher(data =&gt; ({type: 'X', data}));\n//const actionX = dispatcher(function (data) {\n//    return {type: 'X', data: data});\n//});\n\nactionX('some data');\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 2949794, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/430eb1d738c1bc1e09c2ba1d83d14c7c?s=128&d=identicon&r=PG&f=1", "display_name": "John McNeill", "link": "https://stackoverflow.com/users/2949794/john-mcneill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 50008358, "answer_count": 2, "score": 0, "last_activity_date": 1524594068, "creation_date": 1524590354, "question_id": 50007511, "link": "https://stackoverflow.com/questions/50007511/request-basic-typescript-javascript-and-rxjs-code-explanation", "title": "Request basic Typescript/Javascript and RxJs code explanation", "body": "<p>I am learning rxjs and am having a tough time wrapping my head around these two lines of code:</p>\n\n<pre><code>const dispatcher = fn =&gt; (...args) =&gt; appState.next(fn(...args));\nconst actionX = dispatcher(data =&gt;({type: 'X', data}));\n</code></pre>\n\n<p>At least part of why I don't understand is that it is using shorthand syntax that I am not used to yet. I have been trying to expand it out to understand exactly what is happening but haven't been able to correctly do so. For instance, actionX calls dispatcher and a function is passed as a paramater but then does't actually run until that same function is called in appState.next? There seems to be a lot of functions returning functions and it is making my head spin. Any insight would be helpful.</p>\n\n<p>from this:</p>\n\n<pre><code>import Rx from 'rxjs/Rx';\n\nconst inputEl = document.querySelector('input');\nconst activeEl = document.querySelector('#active');\nconst doneEl = document.querySelector('done');\n\nconst appState = new Rx.BehaviorSubject({todos: []});\n\nappState.subscribe(console.log);\n\nconst dispatcher = fn =&gt; (...args) =&gt; appState.next(fn(...args));\nconst actionX = dispatcher(data =&gt;({type: 'X', data}));\n\nactionX('some data');\n</code></pre>\n\n<p>This code logs this:</p>\n\n<pre><code>&gt;{todos: Array(0)}\n&gt;{type: \"X\", data: \"some data\"}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "typescript2.0", "styled-components"], "answers": [{"tags": [], "owner": {"reputation": 3258, "user_id": 2730688, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9a68fa0c56499b853cbabb9a44643a12?s=128&d=identicon&r=PG&f=1", "display_name": "zmii", "link": "https://stackoverflow.com/users/2730688/zmii"}, "is_accepted": false, "score": 1, "last_activity_date": 1524593315, "creation_date": 1524593315, "answer_id": 50008259, "question_id": 50007486, "link": "https://stackoverflow.com/questions/50007486/how-to-type-extended-styled-component/50008259#50008259", "title": "How to type extended styled-component?", "body": "<p>Seems I found solution:</p>\n\n<pre><code>export const B = styled&lt;Aprops &amp; Bprops&gt;(A)`\n  background-color: ${props =&gt;\n    props.darkBackground ? 'grey' : 'white'};\n`;\n</code></pre>\n"}], "owner": {"reputation": 3258, "user_id": 2730688, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9a68fa0c56499b853cbabb9a44643a12?s=128&d=identicon&r=PG&f=1", "display_name": "zmii", "link": "https://stackoverflow.com/users/2730688/zmii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 640, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1524593315, "creation_date": 1524590229, "last_edit_date": 1524592108, "question_id": 50007486, "link": "https://stackoverflow.com/questions/50007486/how-to-type-extended-styled-component", "title": "How to type extended styled-component?", "body": "<p><strong>Typescript@2.8.1</strong>, <strong>styled-components@2.4.0</strong></p>\n\n<p>I need to have one base styled-component that will be <code>.extend()</code>ed to create new ones, that are similar, to avoid code duplication.</p>\n\n<p>I've come up with the following code that doesn't throw any error:</p>\n\n<pre><code>export interface Aprops {\n  icon?: string;\n}\n\nexport const A = styled&lt;Aprops, 'div'&gt;('div')`\n  padding: ${(props) =&gt; (props.icon ? '10px' : '4px')};\n`;\n\nexport interface Bprops {\n  darkBackground?: boolean;\n}\n\nexport const B = A.extend`\n  background-color: ${(props: Bprops) =&gt;\n    props.darkBackground ? 'grey' : 'white'};\n`;\n\nfunction test() {\n  return (\n    &lt;React.Fragment&gt;\n      &lt;A icon=\"str1\" /&gt;\n      &lt;B icon=\"str2\" darkBackground /&gt;\n    &lt;/React.Fragment&gt;\n  );\n}\n</code></pre>\n\n<p><strong>Is there a way to rewrite line <code>export const B = A.extend</code> with <code>Bprops</code> properties specified on this level, like we have here: <code>export const A = styled&lt;Aprops, 'div'&gt;('div')</code>?</strong></p>\n\n<p>Like <code>export const B = styled&lt;Bprops &amp; Aprops&gt;(A)</code>, so I won't need to duplicate this code <code>(props: Bprops)</code> everywhere I need inside declaratino of component <code>B</code>.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1598, "user_id": 2724204, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/SRYxI.jpg?s=128&g=1", "display_name": "Maxime Lafarie", "link": "https://stackoverflow.com/users/2724204/maxime-lafarie"}, "edited": false, "score": 0, "creation_date": 1524590537, "post_id": 50007470, "comment_id": 87031521, "body": "Please can you show the <code>BehaviorSubject</code> Class?"}, {"owner": {"reputation": 659, "user_id": 5781727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1e11d0626e8d2f98061132c8375c2ca6?s=128&d=identicon&r=PG&f=1", "display_name": "PrivateJoker", "link": "https://stackoverflow.com/users/5781727/privatejoker"}, "reply_to_user": {"reputation": 1598, "user_id": 2724204, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/SRYxI.jpg?s=128&g=1", "display_name": "Maxime Lafarie", "link": "https://stackoverflow.com/users/2724204/maxime-lafarie"}, "edited": false, "score": 0, "creation_date": 1524590809, "post_id": 50007470, "comment_id": 87031649, "body": "Please see edits."}, {"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 1, "creation_date": 1524590832, "post_id": 50007470, "comment_id": 87031655, "body": "This line looks incorrect: <code>this.myDetails.myDetail = this.myDetailSubject;</code>. Did you mean <code>this.myDetails.myDetail = x;</code>?"}, {"owner": {"reputation": 659, "user_id": 5781727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1e11d0626e8d2f98061132c8375c2ca6?s=128&d=identicon&r=PG&f=1", "display_name": "PrivateJoker", "link": "https://stackoverflow.com/users/5781727/privatejoker"}, "edited": false, "score": 0, "creation_date": 1524592166, "post_id": 50007470, "comment_id": 87032321, "body": "Yes that was it ty"}], "answers": [{"comments": [{"owner": {"reputation": 659, "user_id": 5781727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1e11d0626e8d2f98061132c8375c2ca6?s=128&d=identicon&r=PG&f=1", "display_name": "PrivateJoker", "link": "https://stackoverflow.com/users/5781727/privatejoker"}, "edited": false, "score": 0, "creation_date": 1524592600, "post_id": 50008003, "comment_id": 87032570, "body": "How could I clean it up? (Still new to this)"}], "tags": [], "owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "is_accepted": true, "score": 0, "last_activity_date": 1524602178, "last_edit_date": 1524602178, "creation_date": 1524592426, "answer_id": 50008003, "question_id": 50007470, "link": "https://stackoverflow.com/questions/50007470/how-to-load-an-property-of-a-class-from-a-service-in-typescript-angular-5/50008003#50008003", "title": "How to load an property of a class from a service in Typescript/Angular 5?", "body": "<p>the issue is in this line</p>\n\n<pre><code>   this.myDetails.myDetail = this.myDetailSubject;\n</code></pre>\n\n<p>which you are assigning <code>BehaviorSubject&lt;MyDetail&gt;</code> to <code>IMyDetail</code></p>\n\n<p>so you need to change it, since I don't know what your service is retruning I can't tell you if you should assign <code>x</code> or some property of <code>x</code> to it.</p>\n\n<p>Btw your code seems to have needless complexity, I think you can remove <code>myDetailSubject</code> in your component and using the result of service with <code>async</code> pipe or assign it to your private member and let angular binding change your ui</p>\n\n<p>for exapmple</p>\n\n<pre><code>export class MyComponent implements OnInit {\n  id: string;\n  myDetails: MyDetails;\n\n  constructor(private route: ActivatedRoute, private myDetailService: MyDetailService) {\n    route.params.subscribe(x =&gt; this.id = x['id'])\n  }\n\n  ngOnInit() {\n    this.myDetailService.getData(this.id)\n      .subscribe(x =&gt; {\n        this.myDetails = x; // or x based on what is return from your service\n      });\n  }\n\n}\n\n&lt;pre&gt;\n  {{myDetails.myDetail | json}}\n&lt;/pre&gt;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>export class MyComponent implements OnInit {\n  id: string;\n  myDetailSubject$ : SubjectBahvior&lt;MyDetail&gt;;\n\n  constructor(private route: ActivatedRoute, myDetailService: MyDetailService) {\n    route.params.subscribe(x =&gt; this.id = x['id'])\n  }\n\n  ngOnInit() {\n    this.myDetailSubject$ = this.myDetailService.getData(this.id);\n  }\n\n}\n\n&lt;pre&gt;\n  {{myDetailSubject$ | async}}\n&lt;/pre&gt;\n</code></pre>\n"}], "owner": {"reputation": 659, "user_id": 5781727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1e11d0626e8d2f98061132c8375c2ca6?s=128&d=identicon&r=PG&f=1", "display_name": "PrivateJoker", "link": "https://stackoverflow.com/users/5781727/privatejoker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 50008003, "answer_count": 1, "score": 0, "last_activity_date": 1524602178, "creation_date": 1524590164, "last_edit_date": 1524590766, "question_id": 50007470, "link": "https://stackoverflow.com/questions/50007470/how-to-load-an-property-of-a-class-from-a-service-in-typescript-angular-5", "title": "How to load an property of a class from a service in Typescript/Angular 5?", "body": "<p>How can I load an object in Typescript from my service?</p>\n\n<p>I have a service that returns a \"MyDetail\" Object.</p>\n\n<p>The goal is for me to populate a MyDetails Object.</p>\n\n<p>I am getting an error: Property '' is missing in type BehaviorSubject</p>\n\n<p>MyDetails </p>\n\n<pre><code>export class MyDetails  {\n  myDetail: IMyDetail;\n  details: Array&lt;{ dataItems: IDataItem }&gt;;\n};\n</code></pre>\n\n<p>Typescript:</p>\n\n<pre><code>export class MyComponent implements OnInit {\n  id: string;\n  myDetails: MyDetails;\n  myDetail: MyDetail;\n  private myDetailSubject = new BehaviorSubject&lt;MyDetail&gt;(this.myDetail);\n\n  constructor(private route: ActivatedRoute, private myDetailService: MyDetailService) {\n    route.params.subscribe(x =&gt; this.id = x['id'])\n  }\n\n  ngOnInit() {\n    this.myDetailService.getData(this.id)\n      .subscribe(x =&gt; {\n        this.myDetailSubject.next(x);\n        this.myDetails.myDetail = this.myDetailSubject;\n      });\n  }\n\n}\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>MyDetail:</p>\n\n<pre><code>export class MyDetail {\n   id: string;\n   name: string;\n   date: Date;\n   gizmos: Array&lt;{ gizmo: string }&gt;;\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "observable", "angular-promise"], "comments": [{"owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "edited": false, "score": 1, "creation_date": 1524589602, "post_id": 50007305, "comment_id": 87031048, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/39319279/convert-promise-to-observable\">Convert promise to observable</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6277510"}, "edited": false, "score": 0, "creation_date": 1524591626, "post_id": 50007305, "comment_id": 87032046, "body": "Do you even need to do this - this.storage.get(AppSettings.STORAGE_KEYS.LANGUAGE_APP).then&zwnj;&#8203;(language=&gt;{         //here I can use language       });       Can&#39;t you just do this.storage.get(AppSettings.STORAGE_KEYS.LANGUAGE_APP)?"}], "answers": [{"tags": [], "owner": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "is_accepted": false, "score": 1, "last_activity_date": 1524589809, "creation_date": 1524589809, "answer_id": 50007378, "question_id": 50007305, "link": "https://stackoverflow.com/questions/50007305/how-to-return-observable-from-promise/50007378#50007378", "title": "How to return Observable from Promise", "body": "<p>Any Promise can be (easily) turned to an Observable with : <code>Observable.fromPromise()</code></p>\n\n<pre><code>Observable.fromPromise(this.storage.get(AppSettings.STORAGE_KEYS.LANGUAGE_APP))\n.subscribe((language) =&gt; {\n    //here you can use language\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 187, "user_id": 8611186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1cbca4c8402ce4b63984548f2fb68c1?s=128&d=identicon&r=PG&f=1", "display_name": "Kumar", "link": "https://stackoverflow.com/users/8611186/kumar"}, "edited": false, "score": 0, "creation_date": 1524590566, "post_id": 50007422, "comment_id": 87031532, "body": "so you mean to change my function like this, adding it to my question details as I cannot add it in comment."}, {"owner": {"reputation": 187, "user_id": 8611186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1cbca4c8402ce4b63984548f2fb68c1?s=128&d=identicon&r=PG&f=1", "display_name": "Kumar", "link": "https://stackoverflow.com/users/8611186/kumar"}, "edited": false, "score": 0, "creation_date": 1524590946, "post_id": 50007422, "comment_id": 87031700, "body": "I added the details in my post.Thanks"}, {"owner": {"reputation": 187, "user_id": 8611186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1cbca4c8402ce4b63984548f2fb68c1?s=128&d=identicon&r=PG&f=1", "display_name": "Kumar", "link": "https://stackoverflow.com/users/8611186/kumar"}, "edited": false, "score": 0, "creation_date": 1524591365, "post_id": 50007422, "comment_id": 87031923, "body": "Thanks for the tip, however my code is still broken I have added details in question.Any clue why I get that error?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6277510"}, "reply_to_user": {"reputation": 187, "user_id": 8611186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1cbca4c8402ce4b63984548f2fb68c1?s=128&d=identicon&r=PG&f=1", "display_name": "Kumar", "link": "https://stackoverflow.com/users/8611186/kumar"}, "edited": false, "score": 0, "creation_date": 1524591449, "post_id": 50007422, "comment_id": 87031966, "body": "Look at the link here -&gt;<a href=\"https://www.js-tutorials.com/javascript-tutorial/use-localstorage-sessionstorage-using-webstorage-angular4/\" rel=\"nofollow noreferrer\">js-tutorials.com/javascript-tutorial/&hellip;</a>. If you are getting the data from local Storage why does it have to be async, i.e. Promise?"}, {"owner": {"reputation": 187, "user_id": 8611186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1cbca4c8402ce4b63984548f2fb68c1?s=128&d=identicon&r=PG&f=1", "display_name": "Kumar", "link": "https://stackoverflow.com/users/8611186/kumar"}, "edited": false, "score": 0, "creation_date": 1524592637, "post_id": 50007422, "comment_id": 87032598, "body": "Yes it is promise. The definition is like this in the library: Storage.prototype.get = function (key) {  return this._dbPromise.then(function (db) { return db.getItem(key); });  };"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6277510"}, "reply_to_user": {"reputation": 187, "user_id": 8611186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1cbca4c8402ce4b63984548f2fb68c1?s=128&d=identicon&r=PG&f=1", "display_name": "Kumar", "link": "https://stackoverflow.com/users/8611186/kumar"}, "edited": false, "score": 0, "creation_date": 1524596376, "post_id": 50007422, "comment_id": 87034587, "body": "Updated the answer."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6277510"}, "reply_to_user": {"reputation": 187, "user_id": 8611186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1cbca4c8402ce4b63984548f2fb68c1?s=128&d=identicon&r=PG&f=1", "display_name": "Kumar", "link": "https://stackoverflow.com/users/8611186/kumar"}, "edited": false, "score": 0, "creation_date": 1524596904, "post_id": 50007422, "comment_id": 87034862, "body": "Basically the mergemap operator allows for multiple subscriptions. More here -&gt; <a href=\"https://www.learnrxjs.io/operators/transformation/mergemap.html\" rel=\"nofollow noreferrer\">learnrxjs.io/operators/transformation/mergemap.html</a>"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6277510"}, "is_accepted": true, "score": 1, "last_activity_date": 1524596333, "last_edit_date": 1524596333, "creation_date": 1524589982, "answer_id": 50007422, "question_id": 50007305, "link": "https://stackoverflow.com/questions/50007305/how-to-return-observable-from-promise/50007422#50007422", "title": "How to return Observable from Promise", "body": "<p>Just use Observable.fromPromise. So in your case, it would be</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>getCountries(): Observable&lt;Country[]&gt; {\r\n    if (this.countries) {\r\n       return Observable.of(this.countries);\r\n    } else if (this.countriesObservable) {\r\n      return this.countriesObservable;\r\n    } else {\r\n      return Observable.fromPromise(this.storage.get(AppSettings.STORAGE_KEYS.LANGUAGE_APP)).mergeMap(language=&gt;{\r\n        //here I can use language\r\n        this.countriesObservable = this.http.get(AppSettings.API_URL + '?locale=' + language).map(json =&gt; {\r\n          delete this.countriesObservable; // when the cached countries is available we don't need the  reference anymore\r\n          this.countries = json as Country[];\r\n          this.countries = this.countries.sort(function (a, b) { return (a.Name &gt; b.Name) ? 1 : ((b.Name &gt; a.Name) ? -1 : 0); });\r\n          return this.countries;\r\n        }).share();\r\n        return this.countriesObservable;\r\n      });\r\n    }\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 187, "user_id": 8611186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1cbca4c8402ce4b63984548f2fb68c1?s=128&d=identicon&r=PG&f=1", "display_name": "Kumar", "link": "https://stackoverflow.com/users/8611186/kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1382, "favorite_count": 0, "accepted_answer_id": 50007422, "answer_count": 2, "score": 0, "last_activity_date": 1524628811, "creation_date": 1524589547, "last_edit_date": 1524628811, "question_id": 50007305, "link": "https://stackoverflow.com/questions/50007305/how-to-return-observable-from-promise", "title": "How to return Observable from Promise", "body": "<p>I need to return Observable from promise, however I am bogged down by the syntax as I am trying to learn angular.So here is the thing:</p>\n\n<p>I have a following function getCountries(this is subscribed by another utility) where I need to make a call to retrieve countries list.'lang' is not defined yet.I added that just to complete the url of my api.  </p>\n\n<pre><code>getCountries(): Observable&lt;Country[]&gt; {\n    if (this.countries) {\n       return Observable.of(this.countries);\n    } else if (this.countriesObservable) {\n      return this.countriesObservable;\n    } else {\n//lang is not defined yet it has to be retrieved from storage\n\n      this.countriesObservable = this.http.get(AppSettings.API_URL + '?locale=' + lang).map(json =&gt; {\n        delete this.countriesObservable; // when the cached countries is available we don't need  reference anymore\n        this.countries = json as Country[];\n        this.countries = this.countries.sort(function (a, b) { return (a.Name &gt; b.Name) ? 1 : ((b.Name &gt; a.Name) ? -1 : 0); });\n        return this.countries;\n      }).share();\n      return this.countriesObservable;\n    }\n  }\n</code></pre>\n\n<p>Since api requires language(lang) and this info is stored in storage which can be retrieved from storage as follows:</p>\n\n<pre><code>  this.storage.get(AppSettings.STORAGE_KEYS.LANGUAGE_APP).then(language=&gt;{\n        //here I can use language\n      });\n</code></pre>\n\n<p>Now the place where I am stuck is how to make a call to to my api after I retrieve language info from the above promise. I need to make sure that the function(getCountries) still returns the observable it was returning originally.\nThanks for your help.</p>\n\n<p>Some people suggested to wrap them in Observable.fromPromise, I did the same , however this broke the code.I must be missing something I know.Here it is:Did it miss to return something, Posting my stack trace after the code:</p>\n\n<pre><code> getCountries(): Observable&lt;Country[]&gt; {\n    if (this.countries) {\n       return Observable.of(this.countries);\n    } else if (this.countriesObservable) {\n      return this.countriesObservable;\n    } else {\n      Observable.fromPromise(this.storage.get(AppSettings.STORAGE_KEYS.LANGUAGE_APP)).subscribe(language=&gt;{\n        //here I can use language\n        this.countriesObservable = this.http.get(AppSettings.API_URL + '?locale=' + language).map(json =&gt; {\n          delete this.countriesObservable; \n          this.countries = json as Country[];\n          this.countries = this.countries.sort(function (a, b) { return (a.Name &gt; b.Name) ? 1 : ((b.Name &gt; a.Name) ? -1 : 0); });\n          return this.countries;\n        }).share();\n        return this.countriesObservable;\n      });\n    }\n  }\n\n\n\nError: Uncaught (in promise): TypeError: Cannot read property 'subscribe' of undefined\nTypeError: Cannot read property 'subscribe' of undefined\n    at http://localhost:8100/build/main.js:71:33\n    at new t (http://localhost:8100/build/polyfills.js:3:20886)\n    at UtilsProvider.webpackJsonp.10.UtilsProvider.getCountryById (http://localhost:8100/build/main.js:70:16)\n    at MyApp.webpackJsonp.851.MyApp.updateUserInfo (http://localhost:8100/build/main.js:10067:47)\n    at http://localhost:8100/build/main.js:9774:23\n    at SafeSubscriber.schedulerFn [as _next] (http://localhost:8100/build/vendor.js:4004:36)\n    at SafeSubscriber.__tryOrUnsub (http://localhost:8100/build/vendor.js:16987:16)\n    at SafeSubscriber.next (http://localhost:8100/build/vendor.js:16934:22)\n    at Subscriber._next (http://localhost:8100/build/vendor.js:16874:26)\n    at Subscriber.next (http://localhost:8100/build/vendor.js:16838:18)\n    at c (http://localhost:8100/build/polyfills.js:3:19132)\n    at c (http://localhost:8100/build/polyfills.js:3:18841)\n    at http://localhost:8100/build/polyfills.js:3:19613\n    at t.invokeTask (http://localhost:8100/build/polyfills.js:3:15040)\n    at Object.onInvokeTask (http://localhost:8100/build/vendor.js:4238:33)\n    at t.invokeTask (http://localhost:8100/build/polyfills.js:3:14961)\n    at r.runTask (http://localhost:8100/build/polyfills.js:3:10214)\n    at o (http://localhost:8100/build/polyfills.js:3:7274)\n    at e.invokeTask [as invoke] (http://localhost:8100/build/polyfills.js:3:16203)\n    at p (http://localhost:8100/build/polyfills.js:2:26993)\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "http", "caching"], "comments": [{"owner": {"reputation": 12382, "user_id": 707451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65a47c94af57fb83fb6489ea5d2cedcc?s=128&d=identicon&r=PG", "display_name": "shaochuancs", "link": "https://stackoverflow.com/users/707451/shaochuancs"}, "edited": false, "score": 0, "creation_date": 1524638148, "post_id": 50007262, "comment_id": 87047257, "body": "Find an interesting topic, maybe related: <a href=\"https://stackoverflow.com/questions/49131823/angular5-xhr-finished-loading-get-url-keeps-running\" title=\"angular5 xhr finished loading get url keeps running\">stackoverflow.com/questions/49131823/&hellip;</a>"}, {"owner": {"reputation": 2739, "user_id": 5917759, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/OjZc4.jpg?s=128&g=1", "display_name": "Frennetix", "link": "https://stackoverflow.com/users/5917759/frennetix"}, "reply_to_user": {"reputation": 12382, "user_id": 707451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65a47c94af57fb83fb6489ea5d2cedcc?s=128&d=identicon&r=PG", "display_name": "shaochuancs", "link": "https://stackoverflow.com/users/707451/shaochuancs"}, "edited": false, "score": 0, "creation_date": 1524648222, "post_id": 50007262, "comment_id": 87053154, "body": "@shaochuancs thanks for the links but I think I found the issue &quot;find all the @ font-face declarations that might represent web fonts&quot;  download all the fonts of my web apps even if none are needed and so for each image. The lib need some reworks I guess."}], "owner": {"reputation": 2739, "user_id": 5917759, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/OjZc4.jpg?s=128&g=1", "display_name": "Frennetix", "link": "https://stackoverflow.com/users/5917759/frennetix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 495, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1524589338, "creation_date": 1524589338, "last_edit_date": 1592644375, "question_id": 50007262, "link": "https://stackoverflow.com/questions/50007262/angular-dom-reload-when-using-dom-to-image", "title": "Angular DOM Reload when using dom-to-image", "body": "<p>I'm using <a href=\"https://github.com/tsayen/dom-to-image\" rel=\"nofollow noreferrer\">dom-to-image</a> in my program to change divs into image, My problem is that the divs are calculated from parameters so I need to convert them multiple time.</p>\n<p>So I'm using this script:</p>\n<pre><code>import domtoimage from 'dom-to-image';\n\nconvert() {\n    const list = (&lt;HTMLElement[]&gt;&lt;any&gt;document.getElementsByClassName('indicator-wrapper'));\n    for (let i = 0; i &lt; list.length; ++i) {\n        domtoimage.toPng(list[i]).then(function (dataUrl) {\n            const img = new Image();\n            img.src = dataUrl;\n            document.body.appendChild(img);\n        })\n            .catch(function (error) {\n                console.error('oops, something went wrong!', error);\n            });\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/MP7tm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MP7tm.png\" alt=\"console\" /></a></p>\n<p>For each call it download all my resources again:</p>\n<blockquote>\n<p>840 times | 18:59:49.418 | XHR finished loading: GET &quot;&quot;.</p>\n<p>96 times  | 18:59:50.305 | XHR finished loading: GET &quot;?&quot;.</p>\n</blockquote>\n<p>why does this happen?</p>\n"}]