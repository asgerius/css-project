[{"tags": ["angular", "typescript", "leaflet", "popup"], "answers": [{"comments": [{"owner": {"reputation": 957, "user_id": 10542593, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YNY4Ku_rO0o/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDSzDmcl9CdvoFJY7XwOi5Gt7KiQw/mo/photo.jpg?sz=128", "display_name": "kontenurban", "link": "https://stackoverflow.com/users/10542593/kontenurban"}, "edited": false, "score": 0, "creation_date": 1548346859, "post_id": 54347791, "comment_id": 95517541, "body": "How could I add more than just one class?"}, {"owner": {"reputation": 9327, "user_id": 4929531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QCqJG.jpg?s=128&g=1", "display_name": "kboul", "link": "https://stackoverflow.com/users/4929531/kboul"}, "reply_to_user": {"reputation": 957, "user_id": 10542593, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YNY4Ku_rO0o/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDSzDmcl9CdvoFJY7XwOi5Gt7KiQw/mo/photo.jpg?sz=128", "display_name": "kontenurban", "link": "https://stackoverflow.com/users/10542593/kontenurban"}, "edited": false, "score": 0, "creation_date": 1548347976, "post_id": 54347791, "comment_id": 95518218, "body": "<code>const popupOptions = { className: &quot;test test2&quot; };</code> I modified the demo. Please accept and/or upvote the answer if it helped you."}], "tags": [], "owner": {"reputation": 9327, "user_id": 4929531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QCqJG.jpg?s=128&g=1", "display_name": "kboul", "link": "https://stackoverflow.com/users/4929531/kboul"}, "is_accepted": true, "score": 2, "last_activity_date": 1550051596, "last_edit_date": 1550051596, "creation_date": 1548336548, "answer_id": 54347791, "question_id": 54337296, "link": "https://stackoverflow.com/questions/54337296/how-to-customize-leaflet-popup-to-include-image-thumbnails-and-other-customizati/54347791#54347791", "title": "How to customize leaflet popup to include image thumbnails and other customization?", "body": "<p>Most possibly the markers are not rendered because you are declaring the <code>markerIcon</code> in a wrong way. It should be for instance:</p>\n\n<pre><code>markerIcon = {\n    icon: L.icon({\n      iconSize: [25, 41],\n      iconAnchor: [10, 41],\n      popupAnchor: [2, -40],\n      // specify the path here\n      iconUrl: \"https://unpkg.com/leaflet@1.4.0/dist/images/marker-icon.png\",\n      shadowUrl: \"https://unpkg.com/leaflet@1.4.0/dist/images/marker-shadow.png\"\n    })\n};\n</code></pre>\n\n<p>Second, to apply custom css on the popup you need to provide <code>popupOptions</code> in the <code>bindPopup</code> method or instantiate a <code>L.popup</code> and attach a classname. Check also <a href=\"https://gis.stackexchange.com/questions/262053/multiple-popup-styles-for-leaflet\">here</a>. First way would be:</p>\n\n<pre><code>const popupOptions = {\n  className: \"test\"\n};\nfor (let artwork of this.artworkList) {\n  const popupInfo =\n    \"&lt;span class=''&gt;\" +\n    artwork.name +\n    \"&lt;/span&gt;\" +\n    \"&lt;br/&gt;\" +\n    artwork.filename;\n  console.log(artwork.name);\n  L.marker([artwork.latitude, artwork.longitude], this.markerIcon)\n    .addTo(this.map)\n    .bindPopup(popupInfo, popupOptions);\n}\n</code></pre>\n\n<p>and then include the style in the global style.css</p>\n\n<p>for instance:</p>\n\n<pre><code>.test .leaflet-popup-content-wrapper {\n      background: #2ce897;\n      color: #eee;\n      font-weight: bold;\n      font-size: 12px;\n      line-height: 24px;\n      border-radius: 0px;\n}\n</code></pre>\n\n<p>Here is a <a href=\"https://codesandbox.io/s/7m47okwz16\" rel=\"nofollow noreferrer\">demo</a> with an example of your user case.</p>\n"}], "owner": {"reputation": 957, "user_id": 10542593, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YNY4Ku_rO0o/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDSzDmcl9CdvoFJY7XwOi5Gt7KiQw/mo/photo.jpg?sz=128", "display_name": "kontenurban", "link": "https://stackoverflow.com/users/10542593/kontenurban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1886, "favorite_count": 0, "accepted_answer_id": 54347791, "answer_count": 1, "score": 1, "last_activity_date": 1584012417, "creation_date": 1548286262, "last_edit_date": 1584012417, "question_id": 54337296, "link": "https://stackoverflow.com/questions/54337296/how-to-customize-leaflet-popup-to-include-image-thumbnails-and-other-customizati", "title": "How to customize leaflet popup to include image thumbnails and other customization?", "body": "<p>I have searched around but none of the solutions seems to work. I am trying to add a title, image, address and name dynamically as data comes in to popups on my leaflet map but am not getting anywhere. </p>\n\n<p>here is my typescript code:</p>\n\n<pre><code>refresh() {\n  this.artworkService.retrieveAll().then((artworkList) =&gt; {\n    this.artworkList = artworkList;\n    for (let artwork of this.artworkList) {\n      var popupInfo = \"&lt;span class='test'&gt;\" + artwork.name + \"&lt;/span&gt;\" + \"&lt;br/&gt;\" + artwork.filename;\n      console.log(artwork.name);\n      L.marker([artwork.latitude, artwork.longitude], this.markerIcon).addTo(this.map)\n      .bindPopup(popupInfo);\n    }\n  });\n}\n</code></pre>\n\n<p>here i tried to wrap the title around a span and was hoping to add some css to it but doesn't do anything! any tips would be much appreciated!</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1722, "user_id": 1445636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce613754fb9ecb706d600079297cdecc?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1445636/michael"}, "is_accepted": true, "score": 0, "last_activity_date": 1548286452, "creation_date": 1548286452, "answer_id": 54337309, "question_id": 54337261, "link": "https://stackoverflow.com/questions/54337261/how-can-i-capture-html-elements-from-ts-files/54337309#54337309", "title": "How can I capture html elements from .ts files?", "body": "<p>The reason this is not working is because you have put your element manipulation code at the module level, which means it will be executed when the module is first required/imported, well before the component has actually been created and added to the DOM.</p>\n\n<p>If you moved the get element / innerHTML lines into the ngOnInit function body, the element would exist.</p>\n\n<p>However, this is not a good pattern to follow in an angular application. Instead you should be using property binding to set the value.</p>\n\n<p>For example, in your template you could have <code>&lt;p&gt;{{message}}&lt;/p&gt;</code> and on your component a property <code>message = \"Hello from about\"</code></p>\n\n<p>You can refer to the documentation here: <a href=\"https://angular.io/guide/template-syntax#interpolation-and-template-expressions\" rel=\"nofollow noreferrer\">https://angular.io/guide/template-syntax#interpolation-and-template-expressions</a></p>\n"}], "owner": {"reputation": 321, "user_id": 10881538, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154707946888915/picture?type=large", "display_name": "Julio Rodr&#237;guez", "link": "https://stackoverflow.com/users/10881538/julio-rodr%c3%adguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 570, "favorite_count": 0, "accepted_answer_id": 54337309, "answer_count": 1, "score": 0, "last_activity_date": 1548286452, "creation_date": 1548286031, "question_id": 54337261, "link": "https://stackoverflow.com/questions/54337261/how-can-i-capture-html-elements-from-ts-files", "title": "How can I capture html elements from .ts files?", "body": "<p>I'm trying the learn Angular. They say typescript is a superset of javascript, but I can't manage to do things like getting elements from html, and modify it in the .ts file.</p>\n\n<p>I'm trying to excecute a simple <code>document.getElementById</code> but I don`t know if how to acomplish it in typescript...</p>\n\n<p>I have a componentn, and in the html, I placed a <code>&lt;p&gt;</code> element and assigned an <code>id</code> atribute to it. then from the typescript I'm trying to set a innerHTM to it but I haven't been able. Can anyone please tell me how is this achieved in typescript?</p>\n\n<p>I tried the below code but doesn't work</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\n\nconst myContainer = document.getElementById('test') as HTMLInputElement;\nmyContainer.value = 'Hello from about';\n\n@Component({\n  selector: 'app-about',      \n  templateUrl: './about.component.html',\n  styleUrls: ['./about.component.css']\n})\nexport class AboutComponent implements OnInit {\n  constructor() {}\n\n  ngOnInit() {}\n}\n</code></pre>\n"}, {"tags": ["typescript", "ionic-framework", "constructor", "ionic4"], "comments": [{"owner": {"reputation": 116, "user_id": 8881186, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0JhWUi3We6g/AAAAAAAAAAI/AAAAAAAAAxE/lHnIqGRAhWo/photo.jpg?sz=128", "display_name": "Enes Yal&#231;\u0131n", "link": "https://stackoverflow.com/users/8881186/enes-yal%c3%a7%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1548285020, "post_id": 54337070, "comment_id": 95491357, "body": "you need to bootstrap your service in a module. Most of the time they are global in app.module.ts, there you need to add it to the providers array .. check <a href=\"https://angular.io/guide/providers\" rel=\"nofollow noreferrer\">link</a> for reference .."}, {"owner": {"reputation": 1251, "user_id": 1622344, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/c6adc94972271efd9538d4fe3b3d2330?s=128&d=identicon&r=PG", "display_name": "Long Dao", "link": "https://stackoverflow.com/users/1622344/long-dao"}, "reply_to_user": {"reputation": 116, "user_id": 8881186, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0JhWUi3We6g/AAAAAAAAAAI/AAAAAAAAAxE/lHnIqGRAhWo/photo.jpg?sz=128", "display_name": "Enes Yal&#231;\u0131n", "link": "https://stackoverflow.com/users/8881186/enes-yal%c3%a7%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1548286026, "post_id": 54337070, "comment_id": 95491644, "body": "@EnesYal&#231;\u0131n I added it to the app.module.ts as suggested. Still not working. Do I still miss anything? Thanks."}, {"owner": {"reputation": 116, "user_id": 8881186, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0JhWUi3We6g/AAAAAAAAAAI/AAAAAAAAAxE/lHnIqGRAhWo/photo.jpg?sz=128", "display_name": "Enes Yal&#231;\u0131n", "link": "https://stackoverflow.com/users/8881186/enes-yal%c3%a7%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1548286328, "post_id": 54337070, "comment_id": 95491737, "body": "Would you mind to make a <a href=\"https://stackblitz.com/\" rel=\"nofollow noreferrer\">stackblitz</a> project that way it is easier for us to help you out.. and of course share with us :)"}, {"owner": {"reputation": 2384, "user_id": 1934484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FJ2rs.jpg?s=128&g=1", "display_name": "Tomas Vancoillie", "link": "https://stackoverflow.com/users/1934484/tomas-vancoillie"}, "edited": false, "score": 0, "creation_date": 1548316533, "post_id": 54337070, "comment_id": 95499423, "body": "@LongDao what is the exact error message?"}, {"owner": {"reputation": 1251, "user_id": 1622344, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/c6adc94972271efd9538d4fe3b3d2330?s=128&d=identicon&r=PG", "display_name": "Long Dao", "link": "https://stackoverflow.com/users/1622344/long-dao"}, "reply_to_user": {"reputation": 2384, "user_id": 1934484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FJ2rs.jpg?s=128&g=1", "display_name": "Tomas Vancoillie", "link": "https://stackoverflow.com/users/1934484/tomas-vancoillie"}, "edited": false, "score": 0, "creation_date": 1548405154, "post_id": 54337070, "comment_id": 95537254, "body": "@TomasVancoillie got it sorted in the below answer mate. Thanks anyway."}], "answers": [{"comments": [{"owner": {"reputation": 1251, "user_id": 1622344, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/c6adc94972271efd9538d4fe3b3d2330?s=128&d=identicon&r=PG", "display_name": "Long Dao", "link": "https://stackoverflow.com/users/1622344/long-dao"}, "edited": false, "score": 0, "creation_date": 1548405126, "post_id": 54349086, "comment_id": 95537248, "body": "Hey, thanks mate. Yeah that&#39;s the correct answer, works for me. I was putting the HttpModule in providers as well and struggle to understand why it was not working."}], "tags": [], "owner": {"reputation": 1813, "user_id": 575754, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/753f3f618d846246222a7b05f92d3050?s=128&d=identicon&r=PG", "display_name": "Mehdi", "link": "https://stackoverflow.com/users/575754/mehdi"}, "is_accepted": true, "score": 1, "last_activity_date": 1548340591, "creation_date": 1548340591, "answer_id": 54349086, "question_id": 54337070, "link": "https://stackoverflow.com/questions/54337070/add-parameters-to-constructor-in-ionic-4/54349086#54349086", "title": "Add parameters to constructor in Ionic 4", "body": "<p>You need to import the HttpModule in your app.modules.ts like so :</p>\n\n<pre><code>import { HttpModule } from '@angular/http';\n</code></pre>\n\n<p>Then add add it to your imports :</p>\n\n<pre><code>imports: [ \n    /// \n    HttpModule,\n    ///\n   ]\n</code></pre>\n\n<p>In the same file you need to declare your Gelocation provider :</p>\n\n<pre><code>import { Geolocation } from '@ionic-native/geolocation';\n</code></pre>\n\n<p>This time add Geolocation to the providers array.</p>\n\n<p>Now in your LocationPage, your constructor needs to look like:</p>\n\n<pre><code>constructor(private http: Http, private location: Geolocation){\n   ///\n}\n</code></pre>\n\n<p>provided that you have installed the appropriate npm packages as <a href=\"https://ionicframework.com/docs/native/geolocation\" rel=\"nofollow noreferrer\">explained here</a> </p>\n"}, {"tags": [], "owner": {"reputation": 3549, "user_id": 7260635, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-UJo0zFC_-Tk/AAAAAAAAAAI/AAAAAAAAAAc/WwnRP6HrUyY/photo.jpg?sz=128", "display_name": "manish kumar", "link": "https://stackoverflow.com/users/7260635/manish-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1563090708, "creation_date": 1563090708, "answer_id": 57025531, "question_id": 54337070, "link": "https://stackoverflow.com/questions/54337070/add-parameters-to-constructor-in-ionic-4/57025531#57025531", "title": "Add parameters to constructor in Ionic 4", "body": "<p>Also for other services </p>\n\n<p>use\n<code>{ providedIn: 'root' }</code> like this in the services.</p>\n\n<pre><code>@Injectable(\n    { providedIn: 'root' }\n)\n</code></pre>\n"}], "owner": {"reputation": 1251, "user_id": 1622344, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/c6adc94972271efd9538d4fe3b3d2330?s=128&d=identicon&r=PG", "display_name": "Long Dao", "link": "https://stackoverflow.com/users/1622344/long-dao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1393, "favorite_count": 0, "accepted_answer_id": 54349086, "answer_count": 2, "score": 0, "last_activity_date": 1563090708, "creation_date": 1548284738, "last_edit_date": 1548285982, "question_id": 54337070, "link": "https://stackoverflow.com/questions/54337070/add-parameters-to-constructor-in-ionic-4", "title": "Add parameters to constructor in Ionic 4", "body": "<p>I am new to Ionic. I got a location page, and under location/location.page.ts file, there is an empty constructor generated automatically as bellow: </p>\n\n<pre><code>constructor() { }\n</code></pre>\n\n<p>The page runs fine with it. However, if I add any parameter to the constructor, the page cannot loaded. </p>\n\n<pre><code>constructor(private httpProvider: HttpProvider, public geolocation: Geolocation) { }\n</code></pre>\n\n<p>Do I have to do anything else when add parameters to constructor? I am working on an Ionic 4 project. I also added it in the appmodule.ts file. Am I still missing anything?</p>\n\n<p><a href=\"https://i.stack.imgur.com/Vfi95.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vfi95.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/FcOnk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FcOnk.png\" alt=\"enter image description here\"></a></p>\n\n<p>Thanks. </p>\n"}, {"tags": ["angular", "typescript", "unit-testing", "jasmine"], "comments": [{"owner": {"reputation": 4779, "user_id": 8105437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CURix.jpg?s=128&g=1", "display_name": "dmcgrandle", "link": "https://stackoverflow.com/users/8105437/dmcgrandle"}, "edited": false, "score": 0, "creation_date": 1548308270, "post_id": 54337051, "comment_id": 95496219, "body": "Are you injecting environment into your component with dependency injection?"}, {"owner": {"reputation": 9187, "user_id": 387254, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ZNEaz.jpg?s=128&g=1", "display_name": "Blexy", "link": "https://stackoverflow.com/users/387254/blexy"}, "reply_to_user": {"reputation": 4779, "user_id": 8105437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CURix.jpg?s=128&g=1", "display_name": "dmcgrandle", "link": "https://stackoverflow.com/users/8105437/dmcgrandle"}, "edited": false, "score": 0, "creation_date": 1548365237, "post_id": 54337051, "comment_id": 95526254, "body": "@dmcgrandle not injecting environment, just importing it into <code>.ts</code> file. The file I&#39;m testing is a simple utilities file with a bunch of static methods. My co-worker suggested that we mock the environment file, but if the file changes per environment, then we can&#39;t expect the endpoint be consistent."}, {"owner": {"reputation": 9187, "user_id": 387254, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ZNEaz.jpg?s=128&g=1", "display_name": "Blexy", "link": "https://stackoverflow.com/users/387254/blexy"}, "reply_to_user": {"reputation": 4779, "user_id": 8105437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CURix.jpg?s=128&g=1", "display_name": "dmcgrandle", "link": "https://stackoverflow.com/users/8105437/dmcgrandle"}, "edited": false, "score": 0, "creation_date": 1548369839, "post_id": 54337051, "comment_id": 95527926, "body": "Found similar SO question: <a href=\"https://stackoverflow.com/questions/49091393/how-to-mock-environment-files-import-in-unit-tests\" title=\"how to mock environment files import in unit tests\">stackoverflow.com/questions/49091393/&hellip;</a>"}, {"owner": {"reputation": 4779, "user_id": 8105437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CURix.jpg?s=128&g=1", "display_name": "dmcgrandle", "link": "https://stackoverflow.com/users/8105437/dmcgrandle"}, "edited": false, "score": 0, "creation_date": 1548371417, "post_id": 54337051, "comment_id": 95528393, "body": "Yes, that&#39;s why I was asking about DI - it&#39;s the more &quot;angular way&quot; of doing things, and also lends itself to better testing, as you found out.  :)"}], "owner": {"reputation": 9187, "user_id": 387254, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ZNEaz.jpg?s=128&g=1", "display_name": "Blexy", "link": "https://stackoverflow.com/users/387254/blexy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 725, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548365672, "creation_date": 1548284605, "last_edit_date": 1548365672, "question_id": 54337051, "link": "https://stackoverflow.com/questions/54337051/unit-test-method-with-reference-to-environment-ts-using-jasmine", "title": "Unit test method with reference to environment.ts using Jasmine", "body": "<p>I'm (very) new to writing unit tests and I'm wondering how I should approach testing a static method that constructs our API endpoints based on what the properties are set to in our <code>environment.ts</code> file.</p>\n\n<p>The <code>environment.ts</code> file changes with the environment, so I'm curious how I would accommodate for that in my test.</p>\n\n<p>Does my method need to be refactored to make this easier to test? For example, instead of implicitly referencing environment.endpoint, instead pass-in environment as a argument? Would I mock the environment.ts file?</p>\n\n<p>Any suggestions would be helpful.</p>\n\n<pre><code>import {environment} from '../../environments/environment';\n\nexport class Utilities {\n\n  public static constructAPIEndpoint(): string {\n    const hostname: string = environment.endpoint;\n    const protocol: string = environment.local ? 'http:' : 'https:';\n\n    return `${protocol}//${hostname}/`;\n  }\n}\n</code></pre>\n\n<p>environments.ts</p>\n\n<pre><code>export const environment = {\n  production: false,\n  local: false,\n  hostname: 'localhost',\n  showLogs: true,\n  endpoint: 'foo-dev-graphapp.com',\n  appInsights: {\n    instrumentationKey: '123'\n  }\n};\n</code></pre>\n\n<p>jasmine test:</p>\n\n<pre><code>  import {environment} from '../../environments/environment';\n\n  it('constructAPIEndpoint() it should construct an endpoint based on environment.ts', () =&gt; {\n    const endpoint: string = Utilities.constructAPIEndpoint();\n\n    /// THIS DOESN'T SEEM - having to recreate logic inside constructAPIEndpoint()\n    const protocol: string = environment.local ? 'http:' : 'https';\n\n\n\n    expect(endpoint).toEqual(`${protocol}//${environment.endpoint}`);\n\n\n  });\n</code></pre>\n"}, {"tags": ["java", "spring", "typescript", "rest"], "answers": [{"comments": [{"owner": {"reputation": 447, "user_id": 4689521, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206162635935576/picture?type=large", "display_name": "M4V3N", "link": "https://stackoverflow.com/users/4689521/m4v3n"}, "edited": false, "score": 0, "creation_date": 1548312347, "post_id": 54337391, "comment_id": 95497580, "body": "this is what I did and it deserializes the customer in correctly but not the event. it always stays null."}], "tags": [], "owner": {"reputation": 1722, "user_id": 1445636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce613754fb9ecb706d600079297cdecc?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1445636/michael"}, "is_accepted": false, "score": 0, "last_activity_date": 1548287085, "creation_date": 1548287085, "answer_id": 54337391, "question_id": 54336605, "link": "https://stackoverflow.com/questions/54336605/object-sent-from-ts-frontend-to-java-backend-transforms-into-linkedhashmap/54337391#54337391", "title": "object sent from ts frontend to java backend transforms into LinkedHashMap", "body": "<p>You need to use:</p>\n\n<p><code>@RequestBody CustomerEvent customerEvent</code></p>\n\n<p>As this will allow spring to deserialize the request body to a CustomerEvent object instance.</p>\n\n<p>Ref: <a href=\"https://www.baeldung.com/spring-request-response-body\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-request-response-body</a></p>\n"}], "owner": {"reputation": 447, "user_id": 4689521, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206162635935576/picture?type=large", "display_name": "M4V3N", "link": "https://stackoverflow.com/users/4689521/m4v3n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548288421, "creation_date": 1548282139, "last_edit_date": 1548288421, "question_id": 54336605, "link": "https://stackoverflow.com/questions/54336605/object-sent-from-ts-frontend-to-java-backend-transforms-into-linkedhashmap", "title": "object sent from ts frontend to java backend transforms into LinkedHashMap", "body": "<p>I have a typescript frontend communicating with my java backend over REST. I just added another simple rest endpoint but sending the object to the backend and trying to cast it properly doesn't work because the sent body is a linkedHashMap?</p>\n\n<p><strong>service.ts</strong></p>\n\n<pre><code>createEvent(event: CustomerEvent): Observable&lt;HttpResponse&lt;CustomerEvent&gt;&gt; {\n    return this.http.post&lt;CustomerEvent&gt;(this.eventUrl, event, { observe: 'response' });\n}\n</code></pre>\n\n<p><strong>customer-event-model.ts</strong></p>\n\n<pre><code>export class CustomerEvent {\n    constructor(public customer: ICustomer, public event: String) {}\n}\n</code></pre>\n\n<p><strong>customer.model.ts</strong></p>\n\n<pre><code>export interface ICustomer {\n    id?: number;\n    name?: string;\n    email?: string;\n    address?: string;\n}\n\nexport class Customer implements ICustomer {\n    constructor(public id?: number, public name?: string, public email?: string, public address?: string) {}\n}\n</code></pre>\n\n<p><strong>Rest</strong></p>\n\n<pre><code>public ResponseEntity&lt;Object&gt; addCustomerEvent(@RequestBody Object customerEvent) {\n  log.info(\"~REST request to create new event \" + customerEvent.toString());\n  CustomerEvent e = (CustomerEvent) customerEvent; // &lt;&lt;---- FAILS cannot cast LinkedHashMap to CustomerEvent\n}\n</code></pre>\n\n<p>Why is it sending a LinkedHashMap? </p>\n\n<p>thanks</p>\n"}, {"tags": ["angular", "typescript", "this"], "comments": [{"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 1, "creation_date": 1548281598, "post_id": 54336109, "comment_id": 95490242, "body": "It should be <code>vSearch.onresult = (e) =&gt; { ... }</code>."}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 1, "creation_date": 1548281616, "post_id": 54336109, "comment_id": 95490246, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/20279484/how-to-access-the-correct-this-inside-a-callback\">How to access the correct `this` inside a callback?</a>"}, {"owner": {"reputation": 153, "user_id": 1341350, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1705456361/picture?type=large", "display_name": "jack sparrow", "link": "https://stackoverflow.com/users/1341350/jack-sparrow"}, "reply_to_user": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1548772913, "post_id": 54336109, "comment_id": 95656996, "body": "@connorsFan - I have been able to use the fat arrow as well as function.prototype.bind but now I am seeing an issue that angular is not updating it bindings after the call back immediately. It is however doing the same after I do another search.  Any idea on the same. I can trigger the bind operations manually but that doesn&#39;t answer why they should not work in the first place. If I do not do the speech recognition then that works absolutely fine."}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1548773128, "post_id": 54336109, "comment_id": 95657143, "body": "Try wrapping the code in <code>NgZone.run(() =&gt; { ... })</code>, as suggested in <a href=\"https://stackoverflow.com/a/36919459/1009922\">this answer</a>."}], "answers": [{"tags": [], "owner": {"reputation": 9135, "user_id": 6200414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9e4ed371b7b19a4fbf4b483aa2a79a?s=128&d=identicon&r=PG&f=1", "display_name": "AlesD", "link": "https://stackoverflow.com/users/6200414/alesd"}, "is_accepted": false, "score": 0, "last_activity_date": 1548283812, "creation_date": 1548283812, "answer_id": 54336893, "question_id": 54336109, "link": "https://stackoverflow.com/questions/54336109/speech-recognition-callback-this-is-not-defined-inside-call-back/54336893#54336893", "title": "Speech recognition callback this is not defined inside call back", "body": "<p>You need to use na arrow function to capture the <code>this</code> context.</p>\n\n<pre><code>vSearch.onresult = (e) =&gt; {\n        voiceHanlder.value = e.results[0][0].transcript;\n        this.searchTerm = voiceHanlder.value;\n        vSearch.stop();\n        this.searchProducts(this.searchTerm);\n}\n</code></pre>\n\n<p>I recommend you read the Functions chapter in the <a href=\"http://www.typescriptlang.org/docs/handbook/functions.html\" rel=\"nofollow noreferrer\">TypeScript Handbook</a> it has good explanation how <code>this</code> works in functions.</p>\n"}], "owner": {"reputation": 153, "user_id": 1341350, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1705456361/picture?type=large", "display_name": "jack sparrow", "link": "https://stackoverflow.com/users/1341350/jack-sparrow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548283812, "creation_date": 1548279655, "last_edit_date": 1548282950, "question_id": 54336109, "link": "https://stackoverflow.com/questions/54336109/speech-recognition-callback-this-is-not-defined-inside-call-back", "title": "Speech recognition callback this is not defined inside call back", "body": "<p>I am trying to use the speech recognition instance and inside the success callback I am trying to use the speech term to call an api. The problem is that the success call back 'this' is being taken as the instance of speech recognition object and not the class instance. </p>\n\n<p>Next I went through some of the solutions and copied the this instance into a that variable and called the functions. Now the function call is working but all the angular bindings are failing. The code snippet is as below:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code> voiceSearch() {\n    console.log('listening');\n\n    if (\"webkitSpeechRecognition\" in window) {\n      const vSearch = new webkitSpeechRecognition();\n      vSearch.continuous = false;\n      vSearch.interimresults = false;\n      vSearch.lang = 'en-US';\n      vSearch.start();\n      let that = this;\n\n      vSearch.onresult = function (e) {\n        voiceHanlder.value = e.results[0][0].transcript;\n        that.searchTerm = voiceHanlder.value;\n        vSearch.stop();\n        that.searchProducts(that.searchTerm); // unable to use this code without using that = this\n\n      }\n\n      vSearch.onerror = function (e) {\n        console.log(e);\n        vSearch.stop();\n      }\n    }\n    else {\n      console.log('Your browser does not support speech recognition');\n    }\n  }\n\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>     searchProducts(searchTerm: string) {\n        this.searchMade = true;\n        this.getProducts(searchTerm).subscribe(resp =&gt; {\n          this.searchedProducts = resp['records'];\n          this.searchValue = \"Now showing the searched products\";\n          console.log(this.searchedProducts);\n        })\n      }\n</code></pre>\n\n<p>I changed the code to:</p>\n\n<pre><code>  vSearch.onresult ( (e) =&gt; {\n    voiceHanlder.value = e.results[0][0].transcript;\n    that.searchTerm = voiceHanlder.value;\n    vSearch.stop();\n    that.searchMade = true;\n    that.searchCvsProducts(that.searchTerm);\n    that.listeningOn = false;\n    //voiceSearchForm.submit();\n  })\n</code></pre>\n\n<p>But I am getting an error like vSearch.onResult is not a function.</p>\n\n<p>Can we use a fat arrow operator to avoid the that = this code.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "jestjs", "next.js"], "comments": [{"owner": {"reputation": 140, "user_id": 10506074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb5eb803f4d4998a32c32e1d37e4a6a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stramski", "link": "https://stackoverflow.com/users/10506074/stramski"}, "edited": false, "score": 1, "creation_date": 1548278014, "post_id": 54335464, "comment_id": 95488741, "body": "Seems like your typescript is not compiled. Do you use ts-jest?"}, {"owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "reply_to_user": {"reputation": 140, "user_id": 10506074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb5eb803f4d4998a32c32e1d37e4a6a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stramski", "link": "https://stackoverflow.com/users/10506074/stramski"}, "edited": false, "score": 0, "creation_date": 1548278196, "post_id": 54335464, "comment_id": 95488823, "body": "I have that packaged installed, but how do you use it @Stramski"}, {"owner": {"reputation": 140, "user_id": 10506074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb5eb803f4d4998a32c32e1d37e4a6a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stramski", "link": "https://stackoverflow.com/users/10506074/stramski"}, "edited": false, "score": 0, "creation_date": 1548278372, "post_id": 54335464, "comment_id": 95488904, "body": "I have following snippet in my package.json =&gt; &quot;jest&quot;: {     &quot;globals&quot;: {       &quot;ts-jest&quot;: {         &quot;tsConfig&quot;: &quot;tsconfig_renderer.json&quot;       }     },     &quot;moduleFileExtensions&quot;: [       &quot;ts&quot;,       &quot;tsx&quot;,       &quot;js&quot;,       &quot;jsx&quot;     ],     &quot;roots&quot;: [       &quot;&lt;rootDir&gt;/test&quot;     ],     &quot;setupFiles&quot;: [       &quot;&lt;rootDir&gt;/test/test-setup/test-setup.ts&quot;     ], <b>&quot;transform&quot;: {</b>      <b>&quot;.(ts|tsx)&quot;: &quot;ts-jest&quot;</b> <b>},</b>     &quot;testRegex&quot;: &quot;(/test/.*)(.test.ts|.test.tsx|.test.js)$&quot;   },"}, {"owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "reply_to_user": {"reputation": 140, "user_id": 10506074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb5eb803f4d4998a32c32e1d37e4a6a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stramski", "link": "https://stackoverflow.com/users/10506074/stramski"}, "edited": false, "score": 0, "creation_date": 1548282280, "post_id": 54335464, "comment_id": 95490490, "body": "@Stramski ok I tried adding your transform, and testRegex lines, but now it can&#39;t find any tests. <code>No tests found</code>."}, {"owner": {"reputation": 140, "user_id": 10506074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb5eb803f4d4998a32c32e1d37e4a6a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stramski", "link": "https://stackoverflow.com/users/10506074/stramski"}, "edited": false, "score": 0, "creation_date": 1548312475, "post_id": 54335464, "comment_id": 95497628, "body": "Because my regex does not match your tests ;)"}], "answers": [{"comments": [{"owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "edited": false, "score": 4, "creation_date": 1548277367, "post_id": 54335568, "comment_id": 95488481, "body": "You mean this line? <code>const { AstronautContainer, Heading } = astronaut;</code> I&#39;m destructuring both those variable names out of the astronaut styles file."}], "tags": [], "owner": {"reputation": 1, "user_id": 2387861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fc2a1efcee45acbc2d2a43f732555a?s=128&d=identicon&r=PG", "display_name": "user2387861", "link": "https://stackoverflow.com/users/2387861/user2387861"}, "is_accepted": false, "score": -2, "last_activity_date": 1548277248, "creation_date": 1548277248, "answer_id": 54335568, "question_id": 54335464, "link": "https://stackoverflow.com/questions/54335464/jest-test-on-typescript-file-syntax-error-interface-is-a-reserved-word-in-stri/54335568#54335568", "title": "Jest test on typescript file syntax error: &quot;interface is a reserved word in strict mode&quot;", "body": "<p>your const declarion does not have a variable name.\nconst variableName: Type = new Type()\nor\nconst variableName: Type;\nor\nconst variableName = new Type;</p>\n"}, {"tags": [], "owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "is_accepted": true, "score": 12, "last_activity_date": 1548303883, "creation_date": 1548303883, "answer_id": 54339336, "question_id": 54335464, "link": "https://stackoverflow.com/questions/54335464/jest-test-on-typescript-file-syntax-error-interface-is-a-reserved-word-in-stri/54339336#54339336", "title": "Jest test on typescript file syntax error: &quot;interface is a reserved word in strict mode&quot;", "body": "<p>Ok after I added this <code>@babel/preset-typescript</code> into my presets, that error went away:</p>\n\n<pre><code>\"test\": {\n  \"presets\": [\n    \"@babel/preset-typescript\",  // &lt;---\n    [\n      \"next/babel\",\n      {\n        \"preset-env\": {\n          \"modules\": \"commonjs\"\n        }\n      }\n    ]\n  ],\n  \"plugins\": [\n    [\n      \"styled-components\",\n      {\n        \"ssr\": true,\n        \"displayName\": true\n      }\n    ]\n  ]\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 356, "user_id": 7626876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4e2d1078ae5ed3c6870335b3099dda5?s=128&d=identicon&r=PG&f=1", "display_name": "xab", "link": "https://stackoverflow.com/users/7626876/xab"}, "is_accepted": false, "score": 0, "last_activity_date": 1593069375, "creation_date": 1593069375, "answer_id": 62569867, "question_id": 54335464, "link": "https://stackoverflow.com/questions/54335464/jest-test-on-typescript-file-syntax-error-interface-is-a-reserved-word-in-stri/62569867#62569867", "title": "Jest test on typescript file syntax error: &quot;interface is a reserved word in strict mode&quot;", "body": "<p>In case just having the <code>@babel/typescript</code> preset does not work.\nYou could try the following:</p>\n<ol>\n<li>Rename the failing test file to either <code>.ts</code> or <code>.tsx</code> depending on whether you have JSX in your test (in this case <code>Astronaut.test.tsx</code>)</li>\n<li>Update your jest config <a href=\"https://jestjs.io/docs/en/configuration#defaults\" rel=\"nofollow noreferrer\">docs</a> (in this case package.json), add</li>\n</ol>\n<pre><code>&quot;moduleFileExtensions&quot;: [\n    &quot;js&quot;,\n    &quot;ts&quot;,\n    &quot;tsx&quot;\n],\n</code></pre>\n"}], "owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7242, "favorite_count": 1, "accepted_answer_id": 54339336, "answer_count": 3, "score": 4, "last_activity_date": 1593069375, "creation_date": 1548276814, "last_edit_date": 1548302974, "question_id": 54335464, "link": "https://stackoverflow.com/questions/54335464/jest-test-on-typescript-file-syntax-error-interface-is-a-reserved-word-in-stri", "title": "Jest test on typescript file syntax error: &quot;interface is a reserved word in strict mode&quot;", "body": "<p><em>My Branch:</em> <a href=\"https://github.com/Futuratum/moonholdings.io/tree/JestTests\" rel=\"nofollow noreferrer\">https://github.com/Futuratum/moonholdings.io/tree/JestTests</a></p>\n\n<p><em>Current PR:</em> <a href=\"https://github.com/Futuratum/moonholdings.io/pull/29\" rel=\"nofollow noreferrer\">https://github.com/Futuratum/moonholdings.io/pull/29</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/XcsHF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XcsHF.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>My Astronaut.tsx component</strong></p>\n\n<pre><code>import React from 'react';\n\nimport { moonHoldings } from '../../shared/models';\nimport { astronaut } from '../../styles';\n\nconst { AstronautContainer, Heading } = astronaut;\n\ninterface LogoCheck {\n  showLogo: boolean;\n}\n\nexport default (showLogo: LogoCheck) =&gt;  (\n  &lt;AstronautContainer&gt;\n    { showLogo.showLogo === true ? &lt;Heading&gt;{moonHoldings}&lt;/Heading&gt; : null }\n    &lt;img src=\"static/astronaut.png\" alt=\"astronaut\" /&gt;\n  &lt;/AstronautContainer&gt;\n);\n</code></pre>\n\n<p><strong>The simple test:</strong></p>\n\n<pre><code>import React from 'react';\nimport { shallow } from 'enzyme';\nimport toJson from 'enzyme-to-json';\n\nimport Astronaut from '../components/Astronaut/Astronaut.tsx';\n\ndescribe('&lt;Astronaut /&gt; component', () =&gt; {\n  console.log('Astronaut', Astronaut);\n  describe('when rendering', () =&gt; {\n    const wrapper = shallow(&lt;Astronaut showLogo={true} /&gt;);\n\n    it('should render a component matching the snapshot', () =&gt; {\n      const tree = toJson(wrapper);\n      expect(tree).toMatchSnapshot();\n      expect(wrapper).toHaveLength(1);\n    });\n  });\n});\n</code></pre>\n\n<blockquote>\n  <p>SyntaxError: /Users/leongaban/projects/Futuratum/moonholdings.io/components/Astronaut/Astronaut.tsx: interfaceis a reserved word in strict mode (8:0)</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/lgpCT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lgpCT.png\" alt=\"enter image description here\"></a></p>\n\n<p>I tried changing strict to false in my tsconfig's <code>compilerOptions</code> but that did not help.</p>\n\n<p>Anyone else run into this with Jest testing and Typescript?</p>\n\n<hr>\n\n<p><strong>package.json</strong></p>\n\n<pre><code>{\n  \"name\": \"moonholdings.io\",\n  \"version\": \"2.0.0\",\n  \"description\": \"Moonholdings.io\",\n  \"main\": \"index.ts\",\n  \"scripts\": {\n    \"dev\": \"next -p 7777\",\n    \"build\": \"next build\",\n    \"start\": \"next start -p 8000\",\n    \"test\": \"NODE_ENV=test jest --watch\",\n    \"test-win\": \"SET NODE_ENV=test&amp;&amp; jest --watch\",\n    \"heroku-postbuild\": \"next build\"\n  },\n  \"author\": \"Futuratum\",\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"@zeit/next-sass\": \"^1.0.1\",\n    \"@zeit/next-typescript\": \"^1.1.1\",\n    \"apollo-boost\": \"^0.1.16\",\n    \"apollo-client\": \"^2.4.2\",\n    \"decko\": \"^1.2.0\",\n    \"downshift\": \"^2.2.3\",\n    \"enzyme\": \"^3.6.0\",\n    \"enzyme-adapter-react-16\": \"^1.5.0\",\n    \"graphql\": \"^14.0.2\",\n    \"graphql-tag\": \"^2.9.2\",\n    \"graphql-tools\": \"^4.0.0\",\n    \"lodash.debounce\": \"^4.0.8\",\n    \"next\": \"^7.0.2\",\n    \"next-with-apollo\": \"^3.1.3\",\n    \"node-sass\": \"^4.11.0\",\n    \"nprogress\": \"^0.2.0\",\n    \"prop-types\": \"^15.6.2\",\n    \"react\": \"^16.7.0\",\n    \"react-adopt\": \"^0.6.0\",\n    \"react-apollo\": \"^2.2.1\",\n    \"react-dom\": \"^16.7.0\",\n    \"react-transition-group\": \"^2.5.0\",\n    \"styled-components\": \"^3.4.9\",\n    \"tslint\": \"^5.12.1\",\n    \"tslint-react\": \"^3.6.0\",\n    \"typescript\": \"^3.2.4\",\n    \"waait\": \"^1.0.2\"\n  },\n  \"devDependencies\": {\n    \"@babel/plugin-proposal-decorators\": \"^7.3.0\",\n    \"@babel/preset-typescript\": \"^7.1.0\",\n    \"@types/enzyme\": \"^3.1.15\",\n    \"@types/jest\": \"^23.3.13\",\n    \"@types/next\": \"^7.0.6\",\n    \"@types/react\": \"^16.7.20\",\n    \"@types/react-dom\": \"^16.0.11\",\n    \"@types/react-redux\": \"^7.0.0\",\n    \"@types/zeit__next-typescript\": \"^0.1.1\",\n    \"babel-core\": \"^7.0.0-bridge.0\",\n    \"babel-jest\": \"^23.6.0\",\n    \"babel-plugin-styled-components\": \"^1.7.1\",\n    \"casual\": \"^1.5.19\",\n    \"enzyme-to-json\": \"^3.3.4\",\n    \"jest\": \"^23.6.0\",\n    \"jest-transform-graphql\": \"^2.1.0\"\n  },\n  \"jest\": {\n    \"setupTestFrameworkScriptFile\": \"&lt;rootDir&gt;/jest.setup.js\",\n    \"testPathIgnorePatterns\": [\n      \"&lt;rootDir&gt;/.next/\",\n      \"&lt;rootDir&gt;/node_modules/\"\n    ],\n    \"transform\": {\n      \"\\\\.(gql|graphql)$\": \"jest-transform-graphql\",\n      \".*\": \"babel-jest\",\n      \"^.+\\\\.js?$\": \"babel-jest\"\n    }\n  }\n}\n</code></pre>\n\n<p><strong>My .babelrc file</strong></p>\n\n<pre><code>{\n  \"env\": {\n    \"development\": {\n      \"presets\": [\n        \"next/babel\",\n        \"@zeit/next-typescript/babel\"\n      ],\n      \"plugins\": [\n        [\n          \"styled-components\",\n          {\n            \"ssr\": true,\n            \"displayName\": true\n          }\n        ],\n        [\n          \"@babel/plugin-proposal-decorators\",\n          {\n            \"legacy\": true\n          }\n        ]\n      ]\n    },\n    \"production\": {\n      \"presets\": [\n        \"next/babel\",\n        \"@zeit/next-typescript/babel\"\n      ],\n      \"plugins\": [\n        [\n          \"styled-components\",\n          {\n            \"ssr\": true,\n            \"displayName\": true\n          }\n        ],\n        [\n          \"@babel/plugin-proposal-decorators\",\n          {\n            \"legacy\": true\n          }\n        ]\n      ]\n    },\n    \"test\": {\n      \"presets\": [\n        [\n          \"next/babel\",\n          {\n            \"preset-env\": {\n              \"modules\": \"commonjs\"\n            }\n          }\n        ]\n      ],\n      \"plugins\": [\n        [\n          \"styled-components\",\n          {\n            \"ssr\": true,\n            \"displayName\": true\n          }\n        ]\n      ]\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 1178, "user_id": 2793683, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b0c2a34cfc412a982c6ea3d988c9336c?s=128&d=identicon&r=PG", "display_name": "dmoore1181", "link": "https://stackoverflow.com/users/2793683/dmoore1181"}, "edited": false, "score": 4, "creation_date": 1548276048, "post_id": 54335253, "comment_id": 95487989, "body": "Can you provide some sample code?"}, {"owner": {"reputation": 2037, "user_id": 8036670, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rGA81.jpg?s=128&g=1", "display_name": "assembler", "link": "https://stackoverflow.com/users/8036670/assembler"}, "edited": false, "score": 0, "creation_date": 1548276681, "post_id": 54335253, "comment_id": 95488233, "body": "you can use <code>document.forms</code> and it will return you an array with all the forms in the view."}], "answers": [{"tags": [], "owner": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "is_accepted": false, "score": 0, "last_activity_date": 1548276895, "creation_date": 1548276895, "answer_id": 54335484, "question_id": 54335253, "link": "https://stackoverflow.com/questions/54335253/how-pass-all-values-of-a-form-controls-to-another-form-when-checkbox-is-selected/54335484#54335484", "title": "How pass all values of a form controls to another form when checkbox is selected?", "body": "<p>There are couple of ways to do this.</p>\n\n<p>One method is to use service. </p>\n\n<p>Make an angular service and make get and set function like this </p>\n\n<pre><code> // declare global variable in service\ndata : any;\n\n // function to set form-1 data\npublic setFormData(formData){\n  this.data = formData;\n}\n\n// function to get form-1 data\npublic getFormData(){\n  return this.data;\n}\n</code></pre>\n\n<p>In your form-1 component call <code>setFormData</code> function on formSubmit like this</p>\n\n<pre><code>onSubmit(){\n   this.myService.setFormData(this.MyForm.value);\n}\n</code></pre>\n\n<p>And in your form-2 component call <code>getFormData</code> in <code>ngOnInit</code></p>\n\n<pre><code>ngOnInit(){\n    this.form1Data = this.myService.getFormData();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 278, "user_id": 10940599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04ec6923e5ee182c4c2ec43f0733b291?s=128&d=identicon&r=PG", "display_name": "N.Tasikj", "link": "https://stackoverflow.com/users/10940599/n-tasikj"}, "is_accepted": false, "score": 0, "last_activity_date": 1548277622, "creation_date": 1548277622, "answer_id": 54335661, "question_id": 54335253, "link": "https://stackoverflow.com/questions/54335253/how-pass-all-values-of-a-form-controls-to-another-form-when-checkbox-is-selected/54335661#54335661", "title": "How pass all values of a form controls to another form when checkbox is selected?", "body": "<p>First add template variables to your inputs in first form:</p>\n\n<pre><code>&lt;mat-form-field&gt;\n  &lt;input matInput placeholder=\"Nombre\" formControlName=\"names\" required #nameVar&gt;\n  &lt;mat-error *ngIf= \"f?.names?.errors?.required\"&gt; \n    Name field empty or not valid, please check \n  &lt;/mat-error&gt;\n&lt;/mat-form-field&gt;\n\n&lt;mat-form-field&gt;\n  &lt;mat-label&gt;Provincia &lt;/mat-label&gt;\n  &lt;mat-select formControlName=\"province\" required&gt;\n    &lt;mat-option *ngFor=\"let p of provincies\" [value]=p?.locationCode&gt;{{p.locationName}} #optionVar&gt;&lt;/mat-option&gt;\n  &lt;/mat-select&gt;\n&lt;/mat-form-field&gt;\n</code></pre>\n\n<p>Then you can make some function on change value in checkbox and pass values, for example:</p>\n\n<pre><code>&lt;mat-checkbox (change)=\"test($event, nameVar.value, optionVar.value)\"&gt;Same info?&lt;/mat-checkbox&gt;\n</code></pre>\n\n<p>then in controller fetch your values, for example in your controller:</p>\n\n<pre><code>test(event, name, option) {\n    console.log(event.checked, name, option);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 413, "user_id": 7277951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VdiXO.jpg?s=128&g=1", "display_name": "FelixAVeras", "link": "https://stackoverflow.com/users/7277951/felixaveras"}, "edited": false, "score": 0, "creation_date": 1548344500, "post_id": 54336028, "comment_id": 95515986, "body": "Thanks too much! that&#39;s work for me. Muchas Gracias!"}], "tags": [], "owner": {"reputation": 13080, "user_id": 9226213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d9b1e59fd7fb8bc106b44b337ce5d83?s=128&d=identicon&r=PG&f=1", "display_name": "G. Tranter", "link": "https://stackoverflow.com/users/9226213/g-tranter"}, "is_accepted": true, "score": 1, "last_activity_date": 1548279313, "creation_date": 1548279313, "answer_id": 54336028, "question_id": 54335253, "link": "https://stackoverflow.com/questions/54335253/how-pass-all-values-of-a-form-controls-to-another-form-when-checkbox-is-selected/54336028#54336028", "title": "How pass all values of a form controls to another form when checkbox is selected?", "body": "<p>If you want to do this generically without concern for whether the forms are identical or how many controls there may be or if there are nested form groups or form arrays, you can copy values based on common control names and use recursion:</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;form [formGroup]=\"form1\"&gt;...&lt;/form&gt;\n\n&lt;form [formGroup]=\"form2\"&gt;\n  &lt;mat-checkbox (change)=\"$event.checked ? copyValues(form1, form2) : {}\"&gt;Copy&lt;/mat-checkbox&gt;\n  ...\n&lt;/form&gt;\n</code></pre>\n\n<p>TS</p>\n\n<pre><code>form1: FormGroup;\nform2: FormGroup;\n...\ncopyValues(src: FormGroup, dest: FormGroup) {\n  Object.keys(src.controls).forEach((key: string) =&gt; {\n    const destControl = dest.get(key);\n    if (destControl) {\n      if (destControl instanceof FormGroup || destControl instanceof FormArray) {\n        this.copyValues(src.get(key), destControl);\n      } else {\n        destControl.setValue(src.get(key).value);\n      }\n    }\n  });\n}\n</code></pre>\n\n<p>Note that I didn't implement any handling for an un-check action - whether to clear the form or do something else is up to you.</p>\n"}], "owner": {"reputation": 413, "user_id": 7277951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VdiXO.jpg?s=128&g=1", "display_name": "FelixAVeras", "link": "https://stackoverflow.com/users/7277951/felixaveras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 54336028, "answer_count": 3, "score": 0, "last_activity_date": 1548279313, "creation_date": 1548275838, "last_edit_date": 1548276461, "question_id": 54335253, "link": "https://stackoverflow.com/questions/54335253/how-pass-all-values-of-a-form-controls-to-another-form-when-checkbox-is-selected", "title": "How pass all values of a form controls to another form when checkbox is selected?", "body": "<p>I got in form #1: Input and select. and in the form #2 the same fields and the checkbox. How pass the values of the form #1 to the form #2 when i clicked the checkbox?</p>\n\n<p>HTML code:</p>\n\n<pre><code>&lt;mat-form-field&gt;\n  &lt;input matInput placeholder=\"Nombre\" formControlName=\"names\" required&gt;\n  &lt;mat-error *ngIf= \"f?.names?.errors?.required\"&gt; \n    Name field empty or not valid, please check \n  &lt;/mat-error&gt;\n&lt;/mat-form-field&gt;\n\n&lt;mat-form-field&gt;\n  &lt;mat-label&gt;Provincia &lt;/mat-label&gt;\n  &lt;mat-select formControlName=\"province\" required&gt;\n    &lt;mat-option *ngFor=\"let p of provincies\" [value]=p?.locationCode&gt;{{p.locationName}}&lt;/mat-option&gt;\n  &lt;/mat-select&gt;\n&lt;/mat-form-field&gt;\n</code></pre>\n\n<p>Checkbox on form #2:</p>\n\n<pre><code>&lt;mat-checkbox&gt;Same info?&lt;/mat-checkbox&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 2238, "user_id": 2230430, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/D4Kig.jpg?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/2230430/simon"}, "reply_to_user": {"reputation": 2918, "user_id": 3979823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/azljt.png?s=128&g=1", "display_name": "ABOS", "link": "https://stackoverflow.com/users/3979823/abos"}, "edited": false, "score": 0, "creation_date": 1548274586, "post_id": 54334896, "comment_id": 95487390, "body": "@ABOS because it&#39;s user generated text so if someone adds a url as plain text eg <a href=\"https://google.com\" rel=\"nofollow noreferrer\">google.com</a> I need to convert it to a hyperlink so that it&#39;s clickable"}, {"owner": {"reputation": 2918, "user_id": 3979823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/azljt.png?s=128&g=1", "display_name": "ABOS", "link": "https://stackoverflow.com/users/3979823/abos"}, "edited": false, "score": 0, "creation_date": 1548275010, "post_id": 54334896, "comment_id": 95487557, "body": "this might help <a href=\"https://stackoverflow.com/questions/48028676/compile-dynamic-html-in-angular-4-5-something-similar-to-compile-in-angular-js\" title=\"compile dynamic html in angular 4 5 something similar to compile in angular js\">stackoverflow.com/questions/48028676/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 278, "user_id": 10940599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04ec6923e5ee182c4c2ec43f0733b291?s=128&d=identicon&r=PG", "display_name": "N.Tasikj", "link": "https://stackoverflow.com/users/10940599/n-tasikj"}, "is_accepted": false, "score": 0, "last_activity_date": 1548275983, "creation_date": 1548275983, "answer_id": 54335280, "question_id": 54334896, "link": "https://stackoverflow.com/questions/54334896/adding-click-event-to-dynamically-generated-html/54335280#54335280", "title": "Adding click event to dynamically generated html", "body": "<p>This can help you, you can add anything dynamically on this way.</p>\n\n<pre><code>urlify(text) {\n  if(text) {\n    var urlRegex = /(https?:\\/\\/[^\\s]+)/g;\n    return text.replace(urlRegex, function(url) {\n        let newElement = document.createElement('span');\n        newElement.innerHTML = url\n        newElement.classList.add('message-link');\n        newElement.onclick = function() {\n            window.open(url, '_system')\n        }\n        return newElement\n    });\n  }\n}\n</code></pre>\n\n<p>You can return this newElement or append it here, for example <code>document.getElementById('someDivID').append(newElement)</code> on this way</p>\n"}], "owner": {"reputation": 2238, "user_id": 2230430, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/D4Kig.jpg?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/2230430/simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548275983, "creation_date": 1548274140, "last_edit_date": 1548274974, "question_id": 54334896, "link": "https://stackoverflow.com/questions/54334896/adding-click-event-to-dynamically-generated-html", "title": "Adding click event to dynamically generated html", "body": "<p>I'm building an ionic app that lets users chat between each other. </p>\n\n<p>In the event of a user sending a url as plain text, I have a function called <code>urlify</code> that replaces the text with html, and when a user clicks on the html for the url it should take them to that url.</p>\n\n<p>The problem is, anchor elements don't open urls in Ionic, so I have to use <code>window.open(url)</code>..</p>\n\n<p>Here is my code: </p>\n\n<pre><code>urlify(text) {\n  if(text) {\n    var urlRegex = /(https?:\\/\\/[^\\s]+)/g;\n    return text.replace(urlRegex, function(url) {\n        return '&lt;span class=\"message-link\"&gt;' + url + '&lt;/span&gt;';\n    })\n  }\n}\n\nopenLink(url) {\n  window.open(url, '_system')\n}\n</code></pre>\n\n<p>So when a user clicks the <code>span</code> it should open <code>openURL</code> but since I can't add <code>(click)=\"openURL(url)\"</code> to the dynamically generated html, I'm not sure what to do..</p>\n\n<p>Any ideas? Thank you!</p>\n"}, {"tags": ["javascript", "typescript", "highlight.js"], "answers": [{"tags": [], "owner": {"reputation": 3140, "user_id": 821306, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CvLcO.jpg?s=128&g=1", "display_name": "Rapha&#235;l", "link": "https://stackoverflow.com/users/821306/rapha%c3%abl"}, "is_accepted": false, "score": 1, "last_activity_date": 1580394474, "last_edit_date": 1580394474, "creation_date": 1580394158, "answer_id": 59988137, "question_id": 54334893, "link": "https://stackoverflow.com/questions/54334893/load-only-highlight-js-library-using-typescript-not-default-with-all-languages/59988137#59988137", "title": "Load only highlight.js library using TypeScript, not default with all languages loaded", "body": "<p>I solved this problem by creating a Javascript file that requires only the languages I need:</p>\n\n<p>myhighlight.js</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var hljs = require('../../../node_modules/highlight.js/lib/highlight');\nhljs.registerLanguage('typescript', require('../../../node_modules/highlight.js/lib/languages/typescript'));\nhljs.registerLanguage('json', require('../../../node_modules/highlight.js/lib/languages/json'));\nmodule.exports = hljs;\n</code></pre>\n\n<p>And by importing this file in my Typescript code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import hljs from './myhighlight';\n\nexport class SomeClass {\n  highlight(code: string) {\n    return hljs.highlightAuto(code).value;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 283, "user_id": 3822733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f49541be08e32672dc615e727ef4cb6?s=128&d=identicon&r=PG&f=1", "display_name": "austinbruch", "link": "https://stackoverflow.com/users/3822733/austinbruch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1104, "favorite_count": 2, "answer_count": 1, "score": 5, "last_activity_date": 1580394474, "creation_date": 1548274131, "question_id": 54334893, "link": "https://stackoverflow.com/questions/54334893/load-only-highlight-js-library-using-typescript-not-default-with-all-languages", "title": "Load only highlight.js library using TypeScript, not default with all languages loaded", "body": "<p>As the official highlight.js <a href=\"https://highlightjs.org/usage/\" rel=\"noreferrer\">usage document</a> suggests:</p>\n\n<blockquote>\n  <p>The default import imports all languages! Therefore it is likely to be more efficient to import only the library and the languages you need:</p>\n</blockquote>\n\n<pre><code>import hljs from 'highlight.js/lib/highlight';\nimport javascript from 'highlight.js/lib/languages/javascript';\nhljs.registerLanguage('javascript', javascript);\n</code></pre>\n\n<p>I am trying to load just the <code>highlight.js</code> library, along with individual language modules so as to reduce my footprint for my TS app.</p>\n\n<p>Using the <code>@types/highlight.js</code> declarations file, the only way (that I can find) to import highlight.js is like this:</p>\n\n<p><code>import * as hljs from 'highlight.js';</code></p>\n\n<p>Unfortunately, that loads the default export, which has all of the shipped languages loaded.</p>\n\n<p>Looking into the highlight.js module, I want to do something like this:</p>\n\n<pre><code>import * as hljs from 'highlight.js/lib/highlight.js';\nimport * xml from 'highlight.js/lib/languages/xml';\n...\nhljs.registerLanguage('xml', xml);\n</code></pre>\n\n<p>so I only get the library itself, along with the only language I need (xml).</p>\n\n<p>So far, I've been able to add these lines in a .d.ts file to get TypeScript to not complain about these imports:</p>\n\n<pre><code>declare module 'highlight.js/lib/highlight';\ndeclare module 'highlight.js/lib/language/xml';\n</code></pre>\n\n<p>But of course, that means I lose my content assist when importing <code>hljs</code>. I could duplicate the content of <code>@types/highlight.js</code> into my own .d.ts file, but I'd really like to avoid that.</p>\n\n<p>Is there any way to I can proxy the declarations from <code>@types/highlight.js</code> onto the module <code>highlight.js/lib/highlight'</code>? Or maybe some other approach I'm missing.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["typescript", "sorting", "nativescript"], "comments": [{"owner": {"reputation": 11358, "user_id": 2708650, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iuLvd5ToDQ8/AAAAAAAAAAI/AAAAAAAAAEA/aGdWcMU2x_4/photo.jpg?sz=128", "display_name": "Ian MacDonald", "link": "https://stackoverflow.com/users/2708650/ian-macdonald"}, "edited": false, "score": 0, "creation_date": 1548274041, "post_id": 54334790, "comment_id": 95487193, "body": "When do you output the value?"}, {"owner": {"reputation": 323, "user_id": 3244887, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HAUvV.jpg?s=128&g=1", "display_name": "razorsyntax", "link": "https://stackoverflow.com/users/3244887/razorsyntax"}, "reply_to_user": {"reputation": 11358, "user_id": 2708650, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iuLvd5ToDQ8/AAAAAAAAAAI/AAAAAAAAAEA/aGdWcMU2x_4/photo.jpg?sz=128", "display_name": "Ian MacDonald", "link": "https://stackoverflow.com/users/2708650/ian-macdonald"}, "edited": false, "score": 0, "creation_date": 1548274331, "post_id": 54334790, "comment_id": 95487298, "body": "I&#39;m not sure I follow.  I need the variable <code>sorted</code> to be sorted from largest to smallest number and then I use that <code>sorted</code> variable for a ListView.  Works like a charm in Android.  I definitely get a rendered ListView in iOS but it&#39;s not sorted correctly."}, {"owner": {"reputation": 11358, "user_id": 2708650, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iuLvd5ToDQ8/AAAAAAAAAAI/AAAAAAAAAEA/aGdWcMU2x_4/photo.jpg?sz=128", "display_name": "Ian MacDonald", "link": "https://stackoverflow.com/users/2708650/ian-macdonald"}, "edited": false, "score": 0, "creation_date": 1548274980, "post_id": 54334790, "comment_id": 95487546, "body": "Is <code>sorted</code> an instance-level property that you&#39;re binding directly in your template?"}, {"owner": {"reputation": 323, "user_id": 3244887, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HAUvV.jpg?s=128&g=1", "display_name": "razorsyntax", "link": "https://stackoverflow.com/users/3244887/razorsyntax"}, "reply_to_user": {"reputation": 11358, "user_id": 2708650, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iuLvd5ToDQ8/AAAAAAAAAAI/AAAAAAAAAEA/aGdWcMU2x_4/photo.jpg?sz=128", "display_name": "Ian MacDonald", "link": "https://stackoverflow.com/users/2708650/ian-macdonald"}, "edited": false, "score": 0, "creation_date": 1548275149, "post_id": 54334790, "comment_id": 95487614, "body": "It is.  In the html it looks similar to <code>&lt;ListView [items]=&quot;sorted&quot;&gt;&lt;&#47;ListView&gt;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 323, "user_id": 3244887, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HAUvV.jpg?s=128&g=1", "display_name": "razorsyntax", "link": "https://stackoverflow.com/users/3244887/razorsyntax"}, "edited": false, "score": 0, "creation_date": 1548275669, "post_id": 54335084, "comment_id": 95487820, "body": "That was it!  Thank you!  How strange.  Now to update everywhere else I&#39;m using the wrong sort."}, {"owner": {"reputation": 286, "user_id": 5276893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21d12f6c66fbab16754b7e2b28da8936?s=128&d=identicon&r=PG&f=1", "display_name": "Bass", "link": "https://stackoverflow.com/users/5276893/bass"}, "reply_to_user": {"reputation": 323, "user_id": 3244887, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HAUvV.jpg?s=128&g=1", "display_name": "razorsyntax", "link": "https://stackoverflow.com/users/3244887/razorsyntax"}, "edited": false, "score": 1, "creation_date": 1548276913, "post_id": 54335084, "comment_id": 95488317, "body": "Glad it worked! If you get any strictly javascript related behavior issues, I&#39;d suggest searching for Safari/Webkit instead of just Nativescript (or Chrome/V8 on Android), as it may yield better results. That said, the only other issue we had was with Date, so these are rare"}], "tags": [], "owner": {"reputation": 286, "user_id": 5276893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21d12f6c66fbab16754b7e2b28da8936?s=128&d=identicon&r=PG&f=1", "display_name": "Bass", "link": "https://stackoverflow.com/users/5276893/bass"}, "is_accepted": true, "score": 1, "last_activity_date": 1548275043, "creation_date": 1548275043, "answer_id": 54335084, "question_id": 54334790, "link": "https://stackoverflow.com/questions/54334790/array-sort-not-working-correctly-on-nativescript-ios-for-very-large-arrays-with/54335084#54335084", "title": "Array.sort not working correctly on Nativescript iOS for very large arrays with large numbers", "body": "<p>Please take a look at this:</p>\n\n<p><a href=\"https://stackoverflow.com/a/15507922\">https://stackoverflow.com/a/15507922</a></p>\n\n<p>It seems WebKit (which NativeScript uses, same as Safari) does not play well with this kind of sort, so you might get a better result by doing:</p>\n\n<pre><code>myArray.sort(function(a,b){\n  return (b.date &gt; a.date) ? 1 : (b.date &lt; a.date) ? -1 : 0;\n});\n</code></pre>\n\n<p>We already encountered something like it. In our case it was the Date object that had the wrong timezone after you altered it, and we had to use moment.js to solve it... \u00af\\_(\u30c4)_/\u00af</p>\n"}], "owner": {"reputation": 323, "user_id": 3244887, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HAUvV.jpg?s=128&g=1", "display_name": "razorsyntax", "link": "https://stackoverflow.com/users/3244887/razorsyntax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "accepted_answer_id": 54335084, "answer_count": 1, "score": 0, "last_activity_date": 1548275043, "creation_date": 1548273557, "last_edit_date": 1548273864, "question_id": 54334790, "link": "https://stackoverflow.com/questions/54334790/array-sort-not-working-correctly-on-nativescript-ios-for-very-large-arrays-with", "title": "Array.sort not working correctly on Nativescript iOS for very large arrays with large numbers", "body": "<p>Because I'm using Nativescript I'm using the same Typescript code for Android and iOS.</p>\n\n<p>I have a very large data set of about 1000-2000 (could be bigger) objects with very large data values in an array.</p>\n\n<pre><code>const unsorted = [\n    ...,\n    {\n        name: \"name1\",\n        value: 10000000\n    },{\n        name: \"name120\",\n        value: 200000000\n    },{\n        name: \"name42\",\n        value: 3\n    },{\n        name: \"name1203\",\n        value: 1000000000000\n    },\n    ...\n];\n\nconst sorted = unsorted.sort((a,b) =&gt; (b.value-a.value));\n</code></pre>\n\n<p>On Android, <code>sorted</code> is always correctly sorted, but iOS is not.  The iOS arrays return \"half sorted\"- the first ten or twenty are sorted correctly but then it randomly has incorrectly sorted values similar to my example below:</p>\n\n<pre><code>[...1003, 26, 1002, 1001, ..., 20, 19, 14, 18, 17, 16, 15, 13, 12, 11, 10]\n</code></pre>\n\n<p>I found I could get the data to be the same on Android and iOS if I did something messy like:</p>\n\n<pre><code>const secondSort = sorted.sort((a,b) =&gt; (b.value-a.value));\nconst thirdSort = secondSort.sort((a,b) =&gt; (b.value-a.value));\nconst fourthSort = thirdSort.sort((a,b) =&gt; (b.value-a.value));\n</code></pre>\n\n<p>So it may appear that the first sort isn't actually sorting my large data set completely.</p>\n\n<p>Has anyone else seen this behavior?  Or is there maybe a brute force way to do this to ensure I don't need to string together several sorting functions?</p>\n"}, {"tags": ["javascript", "string", "typescript", "function", "types"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1548273566, "post_id": 54334701, "comment_id": 95486999, "body": "Is string literal a separate type in typescript?"}, {"owner": {"reputation": 459, "user_id": 9574236, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Dudeonyx", "link": "https://stackoverflow.com/users/9574236/dudeonyx"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1548273638, "post_id": 54334701, "comment_id": 95487027, "body": "it&#39;s a subset of type string, more or less the same thing as string Enums"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1548273692, "post_id": 54334701, "comment_id": 95487051, "body": "No, no current way to do it"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1548273723, "post_id": 54334701, "comment_id": 95487070, "body": "The answer is unfortunately <a href=\"https://github.com/Microsoft/TypeScript/issues/12940\" rel=\"nofollow noreferrer\">no</a>.  There are several suggestions that might give you this functionality (<a href=\"https://github.com/Microsoft/TypeScript/issues/12754\" rel=\"nofollow noreferrer\">this</a> or <a href=\"https://github.com/Microsoft/TypeScript/issues/6579\" rel=\"nofollow noreferrer\">this</a>) but I don&#39;t think those are being considered."}, {"owner": {"reputation": 459, "user_id": 9574236, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Dudeonyx", "link": "https://stackoverflow.com/users/9574236/dudeonyx"}, "reply_to_user": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1548273974, "post_id": 54334701, "comment_id": 95487165, "body": "@GetOffMyLawn template literal are seperate things, string literals are typescript types"}], "answers": [{"comments": [{"owner": {"reputation": 3122, "user_id": 2697506, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/29f1cd3f59b8074183043251068b693d?s=128&d=identicon&r=PG", "display_name": "mesqueeb", "link": "https://stackoverflow.com/users/2697506/mesqueeb"}, "edited": false, "score": 0, "creation_date": 1584833093, "post_id": 57300713, "comment_id": 107560677, "body": "Thanks @jcalz ! I went ahead and left a comment on one of the threads with my use case."}, {"owner": {"reputation": 1879, "user_id": 2229362, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2a57b6ba4dca7cb79145dc9120736e06?s=128&d=identicon&r=PG", "display_name": "Jan Paepke", "link": "https://stackoverflow.com/users/2229362/jan-paepke"}, "edited": false, "score": 0, "creation_date": 1613052465, "post_id": 57300713, "comment_id": 116960855, "body": "I didn&#39;t know this was a thing. very cool, thanks."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": false, "score": 23, "last_activity_date": 1613052837, "last_edit_date": 1613052837, "creation_date": 1564622633, "answer_id": 57300713, "question_id": 54334701, "link": "https://stackoverflow.com/questions/54334701/is-there-currently-anyway-to-concatenate-two-or-more-string-literal-types-to-a-s/57300713#57300713", "title": "Is there currently anyway to concatenate two or more string literal types to a single string literal type in TypeScript right now?", "body": "<p>TS4.1+ answer:</p>\n<p>You can now use <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-1.html#template-literal-types\" rel=\"noreferrer\">template literal types</a> to do this:</p>\n<pre><code>function makeKey&lt;NS extends string, N extends string&gt;(namespace: NS, name: N) {\n    return namespace + '/' + name as `${NS}/${N}`\n}\n\nconst objKey = makeKey('admin', 'home');\n// const objKey: &quot;admin/home&quot;\n</code></pre>\n<p><a href=\"https://www.typescriptlang.org/play?ts=4.1.3#code/GYVwdgxgLglg9mABAWwIYGsCmBpTBPAHgDkBlRTADykzABMBnReqAJxjAHMAaRI8qmgyat2HAHwAKMKmSZ6AB1QRMALl4ke02WqIBKRAG8AsAChE5xC0xQQLJFrmLliANSIA5AHp3rxA8SojAAGACQGpAC+nmFEEUGmEaamEAjMiHAARgBWuHiIALwoGDj4Eu6otMjs7jzuABZwsu66ANymnp6IKWBpmTn4agBEFVVgng2yg0kmQA\" rel=\"noreferrer\">Playground link</a></p>\n<hr />\n<p>Pre TS4.1 answer:</p>\n<p>The answer is unfortunately <a href=\"https://github.com/Microsoft/TypeScript/issues/12940\" rel=\"noreferrer\">no</a>. There are several feature suggestions filed in GitHub that, if implemented, might give you such functionality (<a href=\"https://github.com/Microsoft/TypeScript/issues/12754\" rel=\"noreferrer\">microsoft/TypeScript#12754</a> to augment keys during mapped types, or <a href=\"https://github.com/Microsoft/TypeScript/issues/6579\" rel=\"noreferrer\">microsoft/TypeScript#6579</a> to manipulate string types via regular expressions) but I don't think they are being actively worked on.  I don't see anything in the <a href=\"https://github.com/Microsoft/TypeScript/wiki/Roadmap\" rel=\"noreferrer\">roadmap</a> about it, anyway.  If you really want to see this happen, you might want to go to one of those GitHub issues and give them a \ud83d\udc4d or describe your use case if it's particularly compelling.  But I wouldn't hold my breath.  Sorry!</p>\n"}, {"comments": [{"owner": {"reputation": 5172, "user_id": 1411104, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d76247ee9f2ba6c7c79fc5cea3e8fba2?s=128&d=identicon&r=PG", "display_name": "MistyK", "link": "https://stackoverflow.com/users/1411104/mistyk"}, "edited": false, "score": 0, "creation_date": 1579984232, "post_id": 59660250, "comment_id": 105951290, "body": "The response type is of MyStringLiteral. OP expected e.g literalexamplesuffix."}], "tags": [], "owner": {"reputation": 287, "user_id": 5316576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7841360034567cd045edd29245f4d5e4?s=128&d=identicon&r=PG", "display_name": "juminet", "link": "https://stackoverflow.com/users/5316576/juminet"}, "is_accepted": false, "score": -5, "last_activity_date": 1578560087, "creation_date": 1578560087, "answer_id": 59660250, "question_id": 54334701, "link": "https://stackoverflow.com/questions/54334701/is-there-currently-anyway-to-concatenate-two-or-more-string-literal-types-to-a-s/59660250#59660250", "title": "Is there currently anyway to concatenate two or more string literal types to a single string literal type in TypeScript right now?", "body": "<p>It worked for me, with typescript 3.7.2, using template literal to concatenate and the <code>as</code> keyword to specify the output type of my function . </p>\n\n<pre><code>const addSuffixToMyStringLiteral =\n    (m: MyStringLiteral, suffix: string) =&gt; `${m}${suffix}` as MyStringLiteral;\n</code></pre>\n\n<p>I don't know if it a new feature of typescript or not.</p>\n"}, {"tags": [], "owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "is_accepted": false, "score": 3, "last_activity_date": 1598945631, "creation_date": 1598945631, "answer_id": 63683260, "question_id": 54334701, "link": "https://stackoverflow.com/questions/54334701/is-there-currently-anyway-to-concatenate-two-or-more-string-literal-types-to-a-s/63683260#63683260", "title": "Is there currently anyway to concatenate two or more string literal types to a single string literal type in TypeScript right now?", "body": "<p>It will be possible once <strong>Template string types</strong> will be released (looks like in typescript 4.1):</p>\n<pre><code>function makeKey&lt;NS extends string, N extends string&gt;(namespace: NS, name: N) {\n    return (namespace + '/' + name) as `${NS}/${N}`;\n}\n\nconst objKey = makeKey('admin', 'home') // objKey is of type 'admin/home'\n</code></pre>\n<p><a href=\"https://www.typescriptlang.org/play?ts=4.1.0-pr-40336-8#code/GYVwdgxgLglg9mABAWwIYGsCmBpTBPAHgDkBlRTADykzABMBnReqAJxjAHMAaRI8qmgyat2HAHwAKMKmSZ6AB1QRMALl4ke02WqIBKRAG8AUIlOIWmKCBZIpMuYuWIA1IgDkAejcvEWzPtRGAAMAEgNSAF8PMKIIoIBuIwijIwgEZkQ4ACMAK1w8RABeFAwcfAk3VFpkdjceNwALOFk3fQ8PTNz8xBhGOGBEKDx5THcqmrAPJpajIA\" rel=\"nofollow noreferrer\">Playground</a></p>\n<hr />\n<blockquote>\n<p>Template string types are the type space equivalent of template string expressions. Similar to template string expressions, template string types are enclosed in backtick delimiters and can contain placeholders of the form <code>${T}</code>, where <code>T</code> is a type that is assignable to <code>string</code>, <code>number</code>, <code>boolean</code>, or <code>bigint</code>. Template string types provide the ability to concatenate literal strings, convert literals of non-string primitive types to their string representation, and change the capitalization or casing of string literals. Furthermore, through type inference, template string types provide a simple form of string pattern matching and decomposition.</p>\n</blockquote>\n<p>Some examples:</p>\n<pre><code>type EventName&lt;T extends string&gt; = `${T}Changed`;\ntype Concat&lt;S1 extends string, S2 extends string&gt; = `${S1}${S2}`;\ntype T0 = EventName&lt;'foo'&gt;;  // 'fooChanged'\ntype T1 = EventName&lt;'foo' | 'bar' | 'baz'&gt;;  // 'fooChanged' | 'barChanged' | 'bazChanged'\ntype T2 = Concat&lt;'Hello', 'World'&gt;;  // 'HelloWorld'\ntype T3 = `${'top' | 'bottom'}-${'left' | 'right'}`;  // 'top-left' | 'top-right' | 'bottom-left' | 'bottom-right'\n</code></pre>\n<p>More details and examples <a href=\"https://github.com/microsoft/TypeScript/pull/40336\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 459, "user_id": 9574236, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Dudeonyx", "link": "https://stackoverflow.com/users/9574236/dudeonyx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5192, "favorite_count": 1, "answer_count": 3, "score": 23, "last_activity_date": 1613052837, "creation_date": 1548273225, "last_edit_date": 1548273603, "question_id": 54334701, "link": "https://stackoverflow.com/questions/54334701/is-there-currently-anyway-to-concatenate-two-or-more-string-literal-types-to-a-s", "title": "Is there currently anyway to concatenate two or more string literal types to a single string literal type in TypeScript right now?", "body": "<p>First of all, let me make it clear that what I'm looking isn't a union type but a straight up concatenation i.e <code>\"Hel\" + \"lo\" = \"Hello\"</code> but for string literal types</p>\n\n<p>Essentially I have a function which takes two string literals, a <code>namespace</code> and a <code>name</code>, and combines these with a / in between as it's output, but I can't figure out a way to make the output a string literal and not a generic string.</p>\n\n<p>I need it to be a string literal because the output will be used as a key of an object.</p>\n\n<p>I've tried type intersections(<code>&amp;</code>), <code>+</code>, <code>.concat()</code></p>\n\n<pre><code>function makeKey&lt;NS extends string, N extends string&gt;(namespace: NS, name: N) {\n    return namespace + '/' + name; // &lt;- want this to be `NS + / + N` = `NS/N`\n}\n// I want this to return a string literal rather than a generic string\n\nconst objKey = makeKey('admin', 'home')\n// I want typeof objKey to be a string literal: `\"admin/home\"`, not a generic `string`\n\n</code></pre>\n\n<p>typeof <code>objKey</code> is a generic <code>string</code> but I want it to be a <code>string literal</code> <code>\"admin/home\"</code></p>\n"}, {"tags": ["json", "angular", "typescript", "nativescript", "nativescript-angular"], "comments": [{"owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "edited": false, "score": 0, "creation_date": 1548284659, "post_id": 54334665, "comment_id": 95491245, "body": "Have you registered your services on app module? Is it possible for you to create a Playground sample to demonstrate this issue?"}, {"owner": {"reputation": 75, "user_id": 3149979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93a5b1d0db68fd5bccbc55df21d7d4e4?s=128&d=identicon&r=PG&f=1", "display_name": "user3149979", "link": "https://stackoverflow.com/users/3149979/user3149979"}, "reply_to_user": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "edited": false, "score": 0, "creation_date": 1548516863, "post_id": 54334665, "comment_id": 95573098, "body": "Yes I have registered all my services."}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 3149979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93a5b1d0db68fd5bccbc55df21d7d4e4?s=128&d=identicon&r=PG&f=1", "display_name": "user3149979", "link": "https://stackoverflow.com/users/3149979/user3149979"}, "edited": false, "score": 0, "creation_date": 1548280171, "post_id": 54335006, "comment_id": 95489684, "body": "I did some edits like you said and updated my question because I am still getting a blank app"}, {"owner": {"reputation": 75, "user_id": 3149979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93a5b1d0db68fd5bccbc55df21d7d4e4?s=128&d=identicon&r=PG&f=1", "display_name": "user3149979", "link": "https://stackoverflow.com/users/3149979/user3149979"}, "edited": false, "score": 0, "creation_date": 1548280383, "post_id": 54335006, "comment_id": 95489765, "body": "I am getting this message in the console: Support for the selected Android target SDK android-undefined is not verified. Your Android app might not work as expected."}, {"owner": {"reputation": 4254, "user_id": 3840213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634292034686babc667bc3b9b43c33a2?s=128&d=identicon&r=PG&f=1", "display_name": "Narendra", "link": "https://stackoverflow.com/users/3840213/narendra"}, "reply_to_user": {"reputation": 75, "user_id": 3149979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93a5b1d0db68fd5bccbc55df21d7d4e4?s=128&d=identicon&r=PG&f=1", "display_name": "user3149979", "link": "https://stackoverflow.com/users/3149979/user3149979"}, "edited": false, "score": 0, "creation_date": 1548302877, "post_id": 54335006, "comment_id": 95495005, "body": "@user3149979 Can you run the tns doctor and see if path is defined correctly?"}, {"owner": {"reputation": 75, "user_id": 3149979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93a5b1d0db68fd5bccbc55df21d7d4e4?s=128&d=identicon&r=PG&f=1", "display_name": "user3149979", "link": "https://stackoverflow.com/users/3149979/user3149979"}, "edited": false, "score": 0, "creation_date": 1548519360, "post_id": 54335006, "comment_id": 95573778, "body": "I updated my question with what I am getting in my console"}], "tags": [], "owner": {"reputation": 286, "user_id": 5276893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21d12f6c66fbab16754b7e2b28da8936?s=128&d=identicon&r=PG&f=1", "display_name": "Bass", "link": "https://stackoverflow.com/users/5276893/bass"}, "is_accepted": false, "score": 0, "last_activity_date": 1548274688, "creation_date": 1548274688, "answer_id": 54335006, "question_id": 54334665, "link": "https://stackoverflow.com/questions/54334665/my-nativescript-app-is-not-connecting-to-my-json-server-database/54335006#54335006", "title": "My nativescript app is not connecting to my json server database", "body": "<p>You should be using HttpClient instead of \"Http\". Something like this:</p>\n\n<p>AppModule:</p>\n\n<pre><code>@NgModule({\n...\nimports: [\nNativeScriptHttpModule\n]\n})\nexport class AppModule {}\n</code></pre>\n\n<p>and then, on your service:</p>\n\n<p><code>constructor(httpClient: HttpClient){}</code></p>\n\n<p>You should also initialize your <code>cabins</code> with an empty array. Since it starts with undefined, your ListView may throw errors when trying to load data.</p>\n"}], "owner": {"reputation": 75, "user_id": 3149979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93a5b1d0db68fd5bccbc55df21d7d4e4?s=128&d=identicon&r=PG&f=1", "display_name": "user3149979", "link": "https://stackoverflow.com/users/3149979/user3149979"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 286, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548519333, "creation_date": 1548273071, "last_edit_date": 1548519333, "question_id": 54334665, "link": "https://stackoverflow.com/questions/54334665/my-nativescript-app-is-not-connecting-to-my-json-server-database", "title": "My nativescript app is not connecting to my json server database", "body": "<p>I am creating a nativescript app with angular, I am using a json server.\nI have my json server running and when I run 'tns run android' in my  I get that it is successfully synced but my app appears blank.</p>\n\n<p>I can access my json server database on my phone browser</p>\n\n<p>all my cabins.component.ts</p>\n\n<pre><code>    import { Component, OnInit, Inject } from '@angular/core';\nimport { Cabin } from '../shared/cabin';\nimport { CabinService } from '../services/cabin.service';\n\n@Component({\n  selector: 'app-cabins',\n  moduleId: module.id,\n  templateUrl: './cabins.component.html'\n})\n\nexport class CabinsComponent  implements OnInit {\n  cabins: Cabin[];\n\n  errMess: string;\n\n  constructor(private cabinService: CabinService,\n    @Inject('BaseURL') private BaseURL) {\n  }\n\n  ngOnInit() {\n    this.cabinService.getCabins()\n      .subscribe(cabins =&gt; this.cabins = cabins,\n        errmess =&gt; this.errMess = &lt;any&gt;errmess);\n  }\n\n}\n</code></pre>\n\n<p>all my cabin.service.ts</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Cabin } from '../shared/cabin';\nimport { Observable } from 'rxjs';\nimport { Http, Response } from '@angular/http';\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\nimport { baseURL } from '../shared/baseurl';\nimport { ProcessHTTPMsgService } from './process-httpmsg.service';\nimport { map } from \"rxjs/operators\";\nimport { catchError } from \"rxjs/operators\";\n\n@Injectable()\nexport class CabinService {\n\n  cabins: any[];\n\n  constructor(private http: HttpClient,\n              private processHTTPMsgService: ProcessHTTPMsgService) { }\n\n  getCabins(): Observable&lt;Cabin[]&gt; {\n    return this.http.get(baseURL + 'cabins')\n                    .pipe(map(res =&gt; { return this.processHTTPMsgService.extractData(res); }),\n                    catchError(error =&gt; { return this.processHTTPMsgService.handleError(error); }));\n  }\n\n  getCabin(id: number): Observable&lt;Cabin&gt; {\n    return  this.http.get(baseURL + 'cabins/'+ id)\n                    .pipe(map(res =&gt; { return this.processHTTPMsgService.extractData(res); }),\n                    catchError(error =&gt; { return this.processHTTPMsgService.handleError(error); }));\n  }\n\n  getFeaturedCabin(): Observable&lt;Cabin&gt; {\n    return this.http.get(baseURL + 'cabins?featured=true')\n                    .pipe(map(res =&gt; { return this.processHTTPMsgService.extractData(res)[0]; }),\n                    catchError(error =&gt; { return this.processHTTPMsgService.handleError(error); }));\n  }\n\n}\n</code></pre>\n\n<p>My app.module.ts </p>\n\n<pre><code>    imports: [\n        NativeScriptHttpClientModule,\n        NativeScriptModule,\n        AppRoutingModule\n    ],\nproviders: [\n    {provide: 'BaseURL', useValue: baseURL},\n    CabinService,\n    ProcessHTTPMsgService\n]\n</code></pre>\n\n<p>I am getting this message in the console</p>\n\n<p>\u00d7 The ANDROID_HOME environment variable is not set or it points to a non-existent directory. You will not be able to perform any build-related operations for Android.\n To be able to perform Android build-related operations, set the <code>ANDROID_HOME</code> variable to point to the root of your Android SDK installation directory.</p>\n\n<p>\u00d7 WARNING: adb from the Android SDK is not installed or is not configured properly.\n For Android-related operations, the NativeScript CLI will use a built-in version of adb.\nTo avoid possible issues with the native Android emulator, Genymotion or connected\nAndroid devices, verify that you have installed the latest Android SDK and\nits dependencies as described in <a href=\"http://developer.android.com/sdk/index.html#Requirements\" rel=\"nofollow noreferrer\">http://developer.android.com/sdk/index.html#Requirements</a></p>\n\n<p>\u00d7 WARNING: The Android SDK is not installed or is not configured properly.\n You will not be able to run your apps in the native emulator. To be able to run apps\nin the native Android emulator, verify that you have installed the latest Android SDK\nand its dependencies as described in <a href=\"http://developer.android.com/sdk/index.html#Requirements\" rel=\"nofollow noreferrer\">http://developer.android.com/sdk/index.html#Requirements</a></p>\n\n<p>\u00d7 Cannot find a compatible Android SDK for compilation. To be able to build for Android, install Android SDK 28 or later.\n Run <code>$ sdkmanager</code> to manage your Android SDK versions.</p>\n\n<p>\u00d7 You need to have the Android SDK Build-tools installed on your system. You can install any version in the following range: '>=23 &lt;=28'.\n Run <code>$ sdkmanager</code> from your command-line to install required <code>Android Build Tools</code>. In case you already have them installed, make sure <code>ANDROID_HOME</code> environment variable is set correctly.</p>\n\n<p>\u00d7 Error executing command 'javac'. Make sure you have installed The Java Development Kit (JDK) and set JAVA_HOME environment variable.\n You will not be able to build your projects for Android.\nTo be able to build for Android, verify that you have installed The Java Development Kit (JDK) and configured it according to system requirements as\n described in <a href=\"http://docs.nativescript.org/setup/ns-cli-setup/ns-setup-win.html#system-requirements\" rel=\"nofollow noreferrer\">http://docs.nativescript.org/setup/ns-cli-setup/ns-setup-win.html#system-requirements</a></p>\n\n<p>\u00d7 WARNING: The Java Development Kit (JDK) is not installed or is not configured properly.\n You will not be able to work with the Android SDK and you might not be able\nto perform some Android-related operations. To ensure that you can develop and\ntest your apps for Android, verify that you have installed the JDK as\ndescribed in <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/install/install_overview.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/8/docs/technotes/guides/install/install_overview.html</a> (for JDK 8).</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 8973, "user_id": 6382928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tzxR.jpg?s=128&g=1", "display_name": "Frank Modica", "link": "https://stackoverflow.com/users/6382928/frank-modica"}, "edited": false, "score": 0, "creation_date": 1548271982, "post_id": 54334389, "comment_id": 95486333, "body": "Does it need to be via <code>@Input</code>? If you don&#39;t want the data in the URL, you could put it in a service before navigating, and then pull it out of the service."}, {"owner": {"reputation": 43, "user_id": 10946477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90c71258e513e70ff789eedfa12a2a0e?s=128&d=identicon&r=PG&f=1", "display_name": "YaSold", "link": "https://stackoverflow.com/users/10946477/yasold"}, "reply_to_user": {"reputation": 8973, "user_id": 6382928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tzxR.jpg?s=128&g=1", "display_name": "Frank Modica", "link": "https://stackoverflow.com/users/6382928/frank-modica"}, "edited": false, "score": 0, "creation_date": 1548272213, "post_id": 54334389, "comment_id": 95486441, "body": "@FrankModica i don&#39;t think i can use service because i need to bind different data if i navigate from different places in my application, i don&#39;t know how it&#39;s possible from service"}], "answers": [{"tags": [], "owner": {"reputation": 136, "user_id": 10914289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ce4cf2e4023ec707846f5ae4a65d798?s=128&d=identicon&r=PG", "display_name": "tdev", "link": "https://stackoverflow.com/users/10914289/tdev"}, "is_accepted": true, "score": 1, "last_activity_date": 1548272444, "creation_date": 1548272444, "answer_id": 54334529, "question_id": 54334389, "link": "https://stackoverflow.com/questions/54334389/one-way-data-binding-with-angular-routing/54334529#54334529", "title": "One way data binding with angular routing", "body": "<p>You can not add <code>@Input</code> param to route component. You can add static data :</p>\n\n<pre><code>{\n   path: 'heroes',\n   component: HeroListComponent,\n   data: { title: 'Heroes List' \n }\n</code></pre>\n\n<p>Note from docs: </p>\n\n<blockquote>\n  <p>The data property in the third route is a place to store arbitrary data associated with this specific route. The data property is accessible within each activated route. Use it to store items such as page titles, breadcrumb text, and other read-only, static data. You'll use the resolve guard to retrieve dynamic data later in the guide.</p>\n</blockquote>\n\n<p>You can pass data in resolvers, (for example get data from server): </p>\n\n<pre><code>{\n  path: 'heroes',\n  component: HeroListComponent,\n  resolve: { hero: HeroResolver }\n}\n</code></pre>\n\n<p>Note from docs: </p>\n\n<blockquote>\n  <p>In summary, you want to delay rendering the routed component until all necessary data have been fetched.</p>\n</blockquote>\n\n<p>For more info about resolvers: <a href=\"https://angular.io/guide/router#resolve-guard\" rel=\"nofollow noreferrer\">https://angular.io/guide/router#resolve-guard</a></p>\n\n<p>Or you can get variable in component via service.</p>\n"}, {"tags": [], "owner": {"reputation": 18261, "user_id": 4185234, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/hjhi2.png?s=128&g=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4185234/charlie"}, "is_accepted": false, "score": 0, "last_activity_date": 1604904168, "creation_date": 1604904168, "answer_id": 64746890, "question_id": 54334389, "link": "https://stackoverflow.com/questions/54334389/one-way-data-binding-with-angular-routing/64746890#64746890", "title": "One way data binding with angular routing", "body": "<p>Use <a href=\"https://www.npmjs.com/package/ng-interconnect\" rel=\"nofollow noreferrer\">ng-interconnect</a></p>\n<p>All you have to do in your use case is to create a broadcaster outside the route and receive data from inside the route.</p>\n<pre><code>this.dataForRoute = interconenct.createBroadcaster(\u2018dataSender\u2019);\n...\nthis.dataForRoute.emit(data);\n</code></pre>\n<p>In the component behind the route -</p>\n<pre><code>interconnect.receiveFrom('dataSender', '', (data) =&gt; {\n   //Here is your data\n   console.log(data)\n})\n</code></pre>\n<p>More detials:\n<a href=\"https://charlie-code.medium.com/simplify-your-angular-development-using-ng-interconnect-1b94c68e9141\" rel=\"nofollow noreferrer\">https://charlie-code.medium.com/simplify-your-angular-development-using-ng-interconnect-1b94c68e9141</a></p>\n"}], "owner": {"reputation": 43, "user_id": 10946477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90c71258e513e70ff789eedfa12a2a0e?s=128&d=identicon&r=PG&f=1", "display_name": "YaSold", "link": "https://stackoverflow.com/users/10946477/yasold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 906, "favorite_count": 0, "accepted_answer_id": 54334529, "answer_count": 2, "score": 0, "last_activity_date": 1604904168, "creation_date": 1548271796, "question_id": 54334389, "link": "https://stackoverflow.com/questions/54334389/one-way-data-binding-with-angular-routing", "title": "One way data binding with angular routing", "body": "<p>I need to route to my component and bind data in @Input.<br>\nI have a router link and i use it in different places to navigate to my component. And i need to pass different data when i route to my component from different places</p>\n\n<p>I was trying this</p>\n\n<pre><code>this._router.navigate(['MyComponent', {title: 'something' }]);\n</code></pre>\n\n<p>I don't want to use this way because it will add some params to my URL link<br>\nI want it to be something like<br>\n    <code>&lt; myComponent [data]='data'></code>\nAnd the catch it in @Input<br>\n <code>@Input() data = data; // sorry if this code is wrong, it's just for example</code></p>\n\n<p>Is there any way i can do this? or there's some other options to work around my situation? How can i route to component and bring some data with me</p>\n"}, {"tags": ["typescript", "protractor"], "comments": [{"owner": {"reputation": 4828, "user_id": 8378419, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2772206b4d6afcbdfe7485286554190d?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie Milejczak", "link": "https://stackoverflow.com/users/8378419/robbie-milejczak"}, "edited": false, "score": 1, "creation_date": 1548272724, "post_id": 54334368, "comment_id": 95486657, "body": "the problem is that <code>element.getText()</code> is returning a Promise, so it&#39;s asynchronous. Check this out: <a href=\"https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call\" title=\"how do i return the response from an asynchronous call\">stackoverflow.com/questions/14220321/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 3657374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dd070345459d57ee17c0d2ae62d5bd4?s=128&d=identicon&r=PG&f=1", "display_name": "Deb", "link": "https://stackoverflow.com/users/3657374/deb"}, "edited": false, "score": 0, "creation_date": 1548338284, "post_id": 54336652, "comment_id": 95512039, "body": "Thanks for your reply !"}], "tags": [], "owner": {"reputation": 4877, "user_id": 2571256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f90c6023cd605708e1ca5afc6afbf029?s=128&d=identicon&r=PG", "display_name": "cnishina", "link": "https://stackoverflow.com/users/2571256/cnishina"}, "is_accepted": false, "score": 0, "last_activity_date": 1548282373, "creation_date": 1548282373, "answer_id": 54336652, "question_id": 54334368, "link": "https://stackoverflow.com/questions/54334368/unable-to-access-array-variable-from-inside-a-function/54336652#54336652", "title": "Unable to access array variable from inside a function", "body": "<p>This is because the <code>.each</code> method from the <code>ElementArrayFinder</code> returns a promise. See <a href=\"http://www.protractortest.org/#/api?view=ElementArrayFinder.prototype.each\" rel=\"nofollow noreferrer\">http://www.protractortest.org/#/api?view=ElementArrayFinder.prototype.each</a></p>\n\n<h2>Switching to async / await</h2>\n\n<p>You should think about switching to async / await tests. It will make promises easier to work with. You will need to specify <code>SELENIUM_PROMISE_MANAGER: false</code> in your Protractor config. There are other examples of async / await tests that have been answered in StackOverflow. Just remember you'll need to await each async method.</p>\n\n<pre><code>// When adding in async to this method, by default it returns a Promise&lt;void&gt;.\nasync getAllUsageCategoryElements() {\n  // Note: You should not use xpath as a selector since it makes\n  // your tests brittle.\n  // See Locator Strategies in http://www.protractortest.org/#/style-guide\n  // Also nit: think about using \"const\" or \"let\" over \"var\".\n  const usageCategory = element.all(\n      by.xpath(\n        \"//p-dropdown[@name='usageCategory']/div/div[3]/div/ul/li[*]/span\"\n      );\n\n  // Think about using fat arrows instead of \"function\"\n  await usageCategory.each(async (element, index) =&gt; {\n    const text = await element.getText();\n    console.log('list text from drop list  is ' + text);\n  });\n\n  // You could push the ElementFinder object to an array and find the length\n  // or you could get the count. See\n  // http://www.protractortest.org/#/api?view=ElementArrayFinder.prototype.count\n  console.log('Size of the array is ' + await usageCategory.count());\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 3657374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dd070345459d57ee17c0d2ae62d5bd4?s=128&d=identicon&r=PG&f=1", "display_name": "Deb", "link": "https://stackoverflow.com/users/3657374/deb"}, "edited": false, "score": 1, "creation_date": 1548338280, "post_id": 54336654, "comment_id": 95512032, "body": "Thanks for your reply !"}], "tags": [], "owner": {"reputation": 14, "user_id": 4143188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32cdca6385c3c41bab859d28e6448d8e?s=128&d=identicon&r=PG&f=1", "display_name": "Rochan", "link": "https://stackoverflow.com/users/4143188/rochan"}, "is_accepted": false, "score": 0, "last_activity_date": 1548282375, "creation_date": 1548282375, "answer_id": 54336654, "question_id": 54334368, "link": "https://stackoverflow.com/questions/54334368/unable-to-access-array-variable-from-inside-a-function/54336654#54336654", "title": "Unable to access array variable from inside a function", "body": "<p>The problem is implementation above did not handle the async properly.</p>\n\n<pre><code>Size of the array is 0\nlist text from drop list  is a\nlist text from drop list  is b\nlist text from drop list  is c\nlist text from drop list  is d\n</code></pre>\n\n<p>Consider using await async, it would make a bunch of these issues much cleaner.</p>\n\n<pre><code>async getAllUsageCategoryElements() {\n    let usageCategory: string[] = [];\n\n    const elms = await element\n      .all(\n        by.xpath(\n          '//p-dropdown[@name='usageCategory']/div/div[3]/div/ul/li[*]/span'\n        )\n      );\n\n    for (var i = 0; i &lt; elms.length; i++) {\n      usageCategory.push(await elms[i].getText());\n    }\n\n    return usageCategory;\n}\n</code></pre>\n\n<p>From where you will be calling this function</p>\n\n<pre><code>const abc = await getAllUsageCategoryElements();\nconsole.log('Size of the array is ' + abc.length);\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 3657374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dd070345459d57ee17c0d2ae62d5bd4?s=128&d=identicon&r=PG&f=1", "display_name": "Deb", "link": "https://stackoverflow.com/users/3657374/deb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1548282375, "creation_date": 1548271714, "last_edit_date": 1548271873, "question_id": 54334368, "link": "https://stackoverflow.com/questions/54334368/unable-to-access-array-variable-from-inside-a-function", "title": "Unable to access array variable from inside a function", "body": "<p>I am very new to TypeScript and protractor and would like to put all the extracted values from a drop list inside an array so that I can validate it from another page. </p>\n\n<pre><code>export class AdditionalCostPage extends BasePage {\n  getAllUsageCategoryElements() {\n    var usageCategory: string[] = [];\n\n    element\n      .all(\n        by.xpath(\n          \"//p-dropdown[@name='usageCategory']/div/div[3]/div/ul/li[*]/span\"\n        )\n      )\n      .each(function(element, index) {\n        element.getText().then(function(text) {\n          console.log('list text from drop list  is ' + text);\n          usageCategory.push(text);\n        });\n      });\n\n    console.log('Size of the array is ' + usageCategory.length);\n  }\n}\n</code></pre>\n\n<p>In the result the size of the usageCategory is 0 and also I noticed that the size 0 is printed before \"console.log(\"list text from drop list  is \" + text);\" gets executed. Please suggest anyone. Thanks in Advance. </p>\n"}, {"tags": ["reactjs", "typescript", "redux"], "owner": {"reputation": 2504, "user_id": 1284262, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Q00hH.jpg?s=128&g=1", "display_name": "hyperN", "link": "https://stackoverflow.com/users/1284262/hypern"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1548271978, "creation_date": 1548271310, "last_edit_date": 1548271978, "question_id": 54334264, "link": "https://stackoverflow.com/questions/54334264/typescript-discriminating-union-jsx-redux-connect-error", "title": "Typescript discriminating union &amp; JSX &amp; Redux Connect error", "body": "<p>I have React component <code>ExerciseDumb</code> which has props <code>wholeExerciseIsTouchable</code> and <code>middleIsTouchable</code>. If middleIsTouchable is <em>true</em>  than wholeExerciseIsTouchable must be either omitted or <em>false</em> (and other way around)</p>\n\n<p>Here are my typings:</p>\n\n<pre><code>interface IExerciseOwnPropsShared {\n  id: number;\n  renderTags?: boolean;\n  renderValueDifference?: boolean;\n  onTouch?: () =&gt; void;\n  testID?: string;\n}\n\ninterface IExerciseOwnPropsMiddleTouchable extends IExerciseOwnPropsShared {\n  wholeExerciseIsTouchable?: Falsy;\n  middleIsTouchable?: true;\n  onMiddleTouch?: () =&gt; void;\n}\n\ninterface IExerciseOwnPropsWholeExerciseTouchable extends IExerciseOwnPropsShared {\n  wholeExerciseIsTouchable?: true;\n  middleIsTouchable?: Falsy;\n  onMiddleTouch?: () =&gt; void;\n}\n\ninterface IExerciseOwnPropsJustLeftSectionTouchable extends IExerciseOwnPropsShared {\n  wholeExerciseIsTouchable?: Falsy;\n  middleIsTouchable?: Falsy;\n  onMiddleTouch?: () =&gt; void;\n}\n\ntype ExerciseOwnProps =\n  | IExerciseOwnPropsMiddleTouchable\n  | IExerciseOwnPropsWholeExerciseTouchable\n  | IExerciseOwnPropsJustLeftSectionTouchable;\n</code></pre>\n\n<p>This is definition of <code>ExerciseDumb</code></p>\n\n<pre><code>const ExerciseDumb: React.FunctionComponent&lt;ExerciseComponentProps&gt; = (props: ExerciseComponentProps) =&gt; { ... }\n</code></pre>\n\n<p>Also <code>ExerciseDumb</code> is connected to Redux:</p>\n\n<pre><code>const Exercise = connect&lt;IExerciseFromReduxStateProps, IExerciseFromReduxDispatchProps, ExerciseOwnProps, IReduxState&gt;(\n  mapStateToProps,\n  mapDispatchToProps\n)(ExerciseDumb); \n</code></pre>\n\n<p>The problem is I cannot write <code>Exercise</code> component without both props <code>wholeExerciseIsTouchable</code> and <code>middleIsTouchable</code> even though they have been defined as optional and Interface <code>IExerciseOwnPropsJustLeftSectionTouchable</code> defines both of them as <em>Falsy</em> </p>\n\n<p>For example if I write component like this:</p>\n\n<pre><code>&lt;Exercise id={id} testID={id.toString()} /&gt;\n</code></pre>\n\n<p>I get error:</p>\n\n<pre><code>Error:(52, 11) TS2322: Type '{ id: number; testID: string; renderValueDifference: boolean | undefined; renderTags: boolean | undefined; }' is not assignable to type '(IntrinsicAttributes &amp; IntrinsicClassAttributes&lt;Component&lt;(Pick&lt;ExerciseComponentProps, \"wholeExerciseIsTouchable\" | \"middleIsTouchable\" | \"id\" | \"renderTags\" | \"renderValueDifference\" | \"testID\"&gt; &amp; IExerciseOwnPropsMiddleTouchable) | (Pick&lt;...&gt; &amp; IExerciseOwnPropsWholeExerciseTouchable) | (Pick&lt;...&gt; &amp; IExerciseOwnP...'.\n  Type '{ id: number; testID: string; renderValueDifference: boolean | undefined; renderTags: boolean | undefined; }' is not assignable to type 'IntrinsicAttributes &amp; IntrinsicClassAttributes&lt;Component&lt;(Pick&lt;ExerciseComponentProps, \"wholeExerciseIsTouchable\" | \"middleIsTouchable\" | \"id\" | \"renderTags\" | \"renderValueDifference\" | \"testID\"&gt; &amp; IExerciseOwnPropsMiddleTouchable) | (Pick&lt;...&gt; &amp; IExerciseOwnPropsWholeExerciseTouchable) | (Pick&lt;...&gt; &amp; IExerciseOwnPr...'.\n    Type '{ id: number; testID: string; renderValueDifference: boolean | undefined; renderTags: boolean | undefined; }' is missing the following properties from type 'Readonly&lt;Pick&lt;ExerciseComponentProps, \"wholeExerciseIsTouchable\" | \"middleIsTouchable\" | \"id\" | \"renderTags\" | \"renderValueDifference\" | \"testID\"&gt; &amp; IExerciseOwnPropsJustLeftSectionTouchable&gt;': wholeExerciseIsTouchable, middleIsTouchable\n</code></pre>\n\n<p>The strange thing is that I can omit both <code>wholeExerciseIsTouchable</code> and <code>middleIsTouchable</code> when writing  <code>ExerciseDumb</code> component, which is why I suspect this is some issue with Redux's Connect method. But I have no idea how to get around this.</p>\n"}, {"tags": ["typescript", "union-types"], "answers": [{"tags": [], "owner": {"reputation": 8791, "user_id": 7247920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bAqar.jpg?s=128&g=1", "display_name": "ggradnig", "link": "https://stackoverflow.com/users/7247920/ggradnig"}, "is_accepted": false, "score": 3, "last_activity_date": 1548271423, "last_edit_date": 1592644375, "creation_date": 1548270814, "answer_id": 54334158, "question_id": 54333982, "link": "https://stackoverflow.com/questions/54333982/why-is-typescript-converting-string-literal-union-type-to-string-when-assigning/54334158#54334158", "title": "why is TypeScript converting string literal union type to string when assigning in object literal?", "body": "<p>That's because <code>let</code> and <code>const</code> are handled differently by TypeScript. Constants are always treated with the &quot;narrower&quot; type - in this case the literals. Variables (and non-readonly object properties) are treated with the &quot;widened&quot; type - <code>string</code>. This is a rule that comes along with literal types.</p>\n<p>Now, while your second assignment may be a constant, the property of that constant is in fact mutable - it's a non-readonly property. If you don't provide a &quot;contextual type&quot;, the narrow inference gets lost and you get the wider <code>string</code> type.</p>\n<p><a href=\"https://github.com/Microsoft/TypeScript/pull/10676\" rel=\"nofollow noreferrer\">Here you can read more about literal types</a>. I may quote:</p>\n<blockquote>\n<p>The type inferred for a const variable or readonly property without a type annotation is the type of the initializer as-is.</p>\n<p>The type inferred for a <code>let</code> variable, <code>var</code> variable, <code>parameter</code>, or <strong><code>non-readonly property</code></strong> with an initializer and no type annotation is the widened literal type of the initializer.</p>\n</blockquote>\n<p>And even more clearly:</p>\n<blockquote>\n<p>The type inferred for a property in an object literal is the widened literal type of the expression unless the property has a contextual type that includes literal types.</p>\n</blockquote>\n<p>By the way, if you provide the contextual type for the constant, the type will be passed on to the variable:</p>\n<pre><code>const bar = foo ? 'foo' : 'bar';\nlet xyz = bar // xyz will be string\n\nconst bar: 'foo' | 'bar' = foo ? 'foo' : 'bar';\nlet xyz = bar // xyz will be 'foo' | 'bar'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 10, "last_activity_date": 1604281143, "last_edit_date": 1604281143, "creation_date": 1548270982, "answer_id": 54334199, "question_id": 54333982, "link": "https://stackoverflow.com/questions/54333982/why-is-typescript-converting-string-literal-union-type-to-string-when-assigning/54334199#54334199", "title": "why is TypeScript converting string literal union type to string when assigning in object literal?", "body": "<p>The compiler uses some heuristics to determine <a href=\"https://github.com/Microsoft/TypeScript/pull/10676\" rel=\"nofollow noreferrer\">when to widen literals</a>.  One of them is the following:</p>\n<blockquote>\n<ul>\n<li>The type inferred for a property in an object literal is the widened literal type of the expression unless the property has a contextual type that includes literal types.</li>\n</ul>\n</blockquote>\n<p>So by default, that <code>&quot;foo&quot; | &quot;bar&quot;</code> gets widened to <code>string</code> inside the object literal you've assigned to <code>foobar</code>.</p>\n<hr />\n<h3>UPDATE FOR TS 3.4</h3>\n<p>You can now use <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-4.html#const-assertions\" rel=\"nofollow noreferrer\"><code>const</code> assertions</a> to ask for narrower types:</p>\n<pre><code>const foobar = {\n    bar\n} as const;\n/* const foobar: {\n    readonly bar: &quot;foo&quot; | &quot;bar&quot;;\n} */\n</code></pre>\n<p>The <code>literally()</code> function in the rest of this answer may still be of some use, but I'd suggest using <code>as const</code> where possible.</p>\n<hr />\n<p>Note the part of the heuristic that says &quot;unless the property has a contextual type that includes literal types.&quot;  One of the ways to hint to the compiler that a type like <code>&quot;foo&quot; | &quot;bar&quot;</code> should stay narrowed is to have it match a type <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html#generic-constraints\" rel=\"nofollow noreferrer\">constrained</a> to <code>string</code> (or a union containing it).</p>\n<p>The following is a helper function I sometimes use to do this:</p>\n<pre><code>type Narrowable = string | number | boolean | symbol | object |\n  null | undefined | void | ((...args: any[]) =&gt; any) | {};\n\nconst literally = &lt;\n  T extends V | Array&lt;V | T&gt; | { [k: string]: V | T },\n  V extends Narrowable\n&gt;(t: T) =&gt; t;\n</code></pre>\n<p>The <code>literally()</code> function just returns its argument, but the type tends to be narrower. Yes, it's ugly... I keep it in a utils library out of sight.</p>\n<p>Now you can do:</p>\n<pre><code>const foobar = literally({\n  bar\n});\n</code></pre>\n<p>and the type is inferred as <code>{ bar: &quot;foo&quot; | &quot;bar&quot; }</code> as you expected.</p>\n<p>Whether or not you use something like <code>literally()</code>, I hope this helps you; good luck!</p>\n"}, {"tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": false, "score": 3, "last_activity_date": 1548280301, "creation_date": 1548280301, "answer_id": 54336258, "question_id": 54333982, "link": "https://stackoverflow.com/questions/54333982/why-is-typescript-converting-string-literal-union-type-to-string-when-assigning/54336258#54336258", "title": "why is TypeScript converting string literal union type to string when assigning in object literal?", "body": "<p>To answer the updated question with three-value literal union type:</p>\n\n<pre><code>type Status = 'foo' | 'bar' | 'baz';\nlet foo = false;\nconst bar: Status = foo ? 'foo' : 'bar';\n</code></pre>\n\n<p>Declared type of <code>bar</code> is Status, but it's inferred type is still narrowed by control flow analysis to only two possible values out of three, <code>'foo' | 'bar'</code>.</p>\n\n<p>If you declare another variable without a type, TypeScript will use inferred type for <code>bar</code>, not the declared type:</p>\n\n<pre><code>const zoo = bar; // const zoo: \"foo\" | \"bar\"\n</code></pre>\n\n<p>Without resorting to type assertion <code>as Status</code>, there's no way to turn off type inference based on control flow analysis other than explicitly declaring the type at the place where you need it:</p>\n\n<pre><code>const foobar: {bar: Status} = {\n    bar // has Status type now\n}\n</code></pre>\n"}], "owner": {"reputation": 4029, "user_id": 80280, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wfRgf.jpg?s=128&g=1", "display_name": "Eric Liprandi", "link": "https://stackoverflow.com/users/80280/eric-liprandi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3112, "favorite_count": 1, "accepted_answer_id": 54334199, "answer_count": 3, "score": 3, "last_activity_date": 1604281143, "creation_date": 1548269991, "last_edit_date": 1548274966, "question_id": 54333982, "link": "https://stackoverflow.com/questions/54333982/why-is-typescript-converting-string-literal-union-type-to-string-when-assigning", "title": "why is TypeScript converting string literal union type to string when assigning in object literal?", "body": "<p>I love string literal union types in TypeScript.\nI came across a simple case where I was expecting the union type to be retained.</p>\n\n<p>Here is a simple version:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let foo = false;\nconst bar = foo ? 'foo' : 'bar';\n\nconst foobar = {\n    bar\n}\n</code></pre>\n\n<p><code>bar</code> is correctly typed as <code>'foo' | 'bar'</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/XssIM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XssIM.png\" alt=\"enter image description here\"></a></p>\n\n<p>But <code>foobar.bar</code> gets typed as <code>string</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ssi5q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ssi5q.png\" alt=\"enter image description here\"></a></p>\n\n<p>Just curious why.</p>\n\n<h1>Update</h1>\n\n<p>So @jcalz and @ggradnig do make good points. But then I realized my use case had an extra twist:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type Status = 'foo' | 'bar' | 'baz';\nlet foo = false;\nconst bar: Status = foo ? 'foo' : 'bar';\n\nconst foobar = {\n    bar\n}\n\n</code></pre>\n\n<p>Interestingly, <code>bar</code> does have a type of <code>Status</code>. However <code>foobar.bar</code> has a type of <code>'foo' | 'bar'</code> still.</p>\n\n<p>It seems that the only way to make it behave how I was expecting is to cast <code>'foo'</code> to <code>Status</code> like:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const bar = foo ? 'foo' as Status : 'bar';\n</code></pre>\n\n<p>In that case, the typing does work properly. I am OK with that.</p>\n"}, {"tags": ["javascript", "typescript", "variables", "scope", "protractor"], "comments": [{"owner": {"reputation": 14, "user_id": 4143188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32cdca6385c3c41bab859d28e6448d8e?s=128&d=identicon&r=PG&f=1", "display_name": "Rochan", "link": "https://stackoverflow.com/users/4143188/rochan"}, "edited": false, "score": 0, "creation_date": 1548282613, "post_id": 54333886, "comment_id": 95490595, "body": "Similar issue: <a href=\"https://stackoverflow.com/questions/54334368/unable-to-access-array-variable-from-inside-a-function\" title=\"unable to access array variable from inside a function\">stackoverflow.com/questions/54334368/&hellip;</a>"}, {"owner": {"reputation": 11632, "user_id": 8582353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2e22a564c1d0e098316210a2ec4fb1?s=128&d=identicon&r=PG&f=1", "display_name": "yong", "link": "https://stackoverflow.com/users/8582353/yong"}, "edited": false, "score": 0, "creation_date": 1548295620, "post_id": 54333886, "comment_id": 95493573, "body": "<code>usageCategory</code> is a local variable, not a property of the function <code>getAllUsageCategoryElements </code>,  so you should not use <code>that.usageCategory.push(text);</code> , just use <code>usageCategory.push(text);</code>"}], "answers": [{"tags": [], "owner": {"reputation": 4877, "user_id": 2571256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f90c6023cd605708e1ca5afc6afbf029?s=128&d=identicon&r=PG", "display_name": "cnishina", "link": "https://stackoverflow.com/users/2571256/cnishina"}, "is_accepted": false, "score": 0, "last_activity_date": 1548291313, "creation_date": 1548291313, "answer_id": 54337915, "question_id": 54333886, "link": "https://stackoverflow.com/questions/54333886/typescript-method-variable-not-accessible-inside-inline-function/54337915#54337915", "title": "Typescript method variable not accessible inside inline function", "body": "<h2>Using ElementArrayFinder.prototype.map</h2>\n\n<p>This might be a good time to use the <code>.map</code> function since it will convert the ElementArrayFinder object to a list of objects you create. <a href=\"http://www.protractortest.org/#/api?view=ElementArrayFinder.prototype.map\" rel=\"nofollow noreferrer\">http://www.protractortest.org/#/api?view=ElementArrayFinder.prototype.map</a> In the Protractor example (in the link), the map returns a list of objects. For your case, you'll need to await the text of that element and return it in the map callback function.</p>\n\n<pre><code>async getAllUsageCategoryElements() {\n    // extract all the droplist elements and put into an array so that I can validate them from another page.\n    const spans = this.addAdditionalCostDialogue.usageCategoryDropListContainer\n        .all(by.tagName('li')).all(by.tagName(\"span\"));\n    // Map over an ElementArrayFinder to get a list of returned items from\n    // map operation. In this case, we are returning a list of strings\n    const usageCategories = await spans.map(async (el) =&gt; {\n      const text = await el.getText();\n      // console.log(`printing directly ${text}`);\n      return text;\n    });\n\n    console.log(\"Size of the array is \" + usageCategories.length);\n    for (let usageCategory of usageCategories) {\n      console.log(`printing text ${usageCategory}`);\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11632, "user_id": 8582353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2e22a564c1d0e098316210a2ec4fb1?s=128&d=identicon&r=PG&f=1", "display_name": "yong", "link": "https://stackoverflow.com/users/8582353/yong"}, "is_accepted": false, "score": 0, "last_activity_date": 1548297709, "last_edit_date": 1548297709, "creation_date": 1548296440, "answer_id": 54338482, "question_id": 54333886, "link": "https://stackoverflow.com/questions/54333886/typescript-method-variable-not-accessible-inside-inline-function/54338482#54338482", "title": "Typescript method variable not accessible inside inline function", "body": "<p>There are two issues in your code:</p>\n\n<p>1) <code>usageCategory</code> is a local variable, not a property of the function <code>getAllUsageCategoryElements</code> , so you can't not use <code>that.usageCategory.push(text);</code> , just use <code>usageCategory.push(text);</code></p>\n\n<p>2) <code>getText()</code> is Async API, following Sync code will be executed prior to the <code>getText()</code>, <br> so the <strong>usageCategory.length</strong> is <strong>0</strong> when executing. You need to put these Sync code in a next <code>then()</code> behind <code>getText()</code> to make them be execute later then <code>getText()</code>.</p>\n\n<pre><code>console.log(\"Size of the array is \" + usageCategories.length);\nfor (let usageCategory of usageCategories) {\n  console.log(`printing text ${usageCategory}`);\n}\n</code></pre>\n\n<p>Corrected code:</p>\n\n<pre><code>getAllUsageCategoryElements(){\n\n    var usageCategory: string[] =  [];\n\n\n    // extract all the droplist elements and put into an array so that I can validate them from another page.\n    this.addAdditionalCostDialogue\n        .usageCategoryDropListContainer\n        .all(by.tagName('li'))\n        .all(by.tagName(\"span\"))\n        .each(function (element, index) {\n\n            element.getText().then(function (text){\n                //console.log(\"printing directly \" + text);\n                // the above code works fine and prints all the drop list contains but when I try to add it to an array\n                usageCategory.push(text);\n            })\n    })\n\n    .then(function(){\n\n        console.log(\"Size of the array is \" + usageCategory.length);\n\n        usageCategory.forEach(element =&gt; {\n            console.log(\"Printing text \" + element);\n        }); \n\n        return usageCategory;\n    });\n\n}\n</code></pre>\n"}], "owner": {"reputation": 3529, "user_id": 2625772, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/0QjpB.jpg?s=128&g=1", "display_name": "AnOldSoul", "link": "https://stackoverflow.com/users/2625772/anoldsoul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 183, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1548297709, "creation_date": 1548269639, "question_id": 54333886, "link": "https://stackoverflow.com/questions/54333886/typescript-method-variable-not-accessible-inside-inline-function", "title": "Typescript method variable not accessible inside inline function", "body": "<p>I have the below code where I am loading values to the array usageCategory in an inline function. But when I try to print the values outside this function, nothing gets printed. </p>\n\n<pre><code>getAllUsageCategoryElements(){\n\n        var usageCategory: string[] =  [];\n\n        var that=this;\n\n        // extract all the droplist elements and put into an array so that I can validate them from another page.\n        this.addAdditionalCostDialogue.usageCategoryDropListContainer.all(by.tagName('li')).all(by.tagName(\"span\")).each(function (element, index) {\n            element.getText().then(function (text){\n\n                 //console.log(\"printing directly \" + text);\n                // the above code works fine and prints all the drop list contains but when I try to add it to an array\n\n                that.usageCategory.push(text);\n            })\n        });\n\n        console.log(\"Size of the array is \" + usageCategory.length);\n\n        usageCategory.forEach(element =&gt; {\n            console.log(\"Printing text \" + element);\n        });\n    }\n</code></pre>\n\n<p>What am I doing wrong here? How can I access these array values outside the inline function? Any help would be much appreciated.</p>\n"}, {"tags": ["typescript", "declaration-files"], "comments": [{"owner": {"reputation": 12097, "user_id": 1080064, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/100000753306178/picture?type=large", "display_name": "tkausl", "link": "https://stackoverflow.com/users/1080064/tkausl"}, "edited": false, "score": 1, "creation_date": 1548268541, "post_id": 54333580, "comment_id": 95484837, "body": "Did you export the function from message.js and import it in DeclarationFiles.ts?"}, {"owner": {"reputation": 43, "user_id": 10530200, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C_UIofcweAo/AAAAAAAAAAI/AAAAAAAABek/avoFN1iG5no/photo.jpg?sz=128", "display_name": "Y Zhu", "link": "https://stackoverflow.com/users/10530200/y-zhu"}, "reply_to_user": {"reputation": 12097, "user_id": 1080064, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/100000753306178/picture?type=large", "display_name": "tkausl", "link": "https://stackoverflow.com/users/1080064/tkausl"}, "edited": false, "score": 0, "creation_date": 1548272566, "post_id": 54333580, "comment_id": 95486583, "body": "thanks. I added them, and works."}], "owner": {"reputation": 43, "user_id": 10530200, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C_UIofcweAo/AAAAAAAAAAI/AAAAAAAABek/avoFN1iG5no/photo.jpg?sz=128", "display_name": "Y Zhu", "link": "https://stackoverflow.com/users/10530200/y-zhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551663424, "creation_date": 1548268423, "last_edit_date": 1551663424, "question_id": 54333580, "link": "https://stackoverflow.com/questions/54333580/typescript-declaration-files-cannot-find-error", "title": "TypeScript Declaration Files Cannot Find Error", "body": "<p>message.js</p>\n\n<pre><code>function showMessage(message) {\n    alert(message);\n}\n</code></pre>\n\n<p>message.d.ts</p>\n\n<pre><code>declare function showMessage(message: string);\n</code></pre>\n\n<p>DeclarationFiles.ts</p>\n\n<pre><code>showMessage(\"this is a message.\"); //Error: cannot find name 'showMessage'\n</code></pre>\n\n<p>contains cannot find error.</p>\n\n<p>How to solve the error?</p>\n"}, {"tags": ["html", "angular", "typescript", "internationalization"], "comments": [{"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1548269211, "post_id": 54333236, "comment_id": 95485132, "body": "Are you bound to the demand using i18n-translation with angular build-in tools? Or are you free to decide which 3rd-party tool to apply?"}, {"owner": {"reputation": 91, "user_id": 10225695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/176899c88b5e59c3ca17cfee89f411f5?s=128&d=identicon&r=PG&f=1", "display_name": "seesharp", "link": "https://stackoverflow.com/users/10225695/seesharp"}, "reply_to_user": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1548343370, "post_id": 54333236, "comment_id": 95515227, "body": "We have put some structure around the i18n and have translated a all of the site that is not variables, but I am open to hearing different options, what were you thinking?"}], "owner": {"reputation": 91, "user_id": 10225695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/176899c88b5e59c3ca17cfee89f411f5?s=128&d=identicon&r=PG&f=1", "display_name": "seesharp", "link": "https://stackoverflow.com/users/10225695/seesharp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 656, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548267083, "creation_date": 1548267083, "question_id": 54333236, "link": "https://stackoverflow.com/questions/54333236/angular-i18n-interpolation-for-collections-clarification", "title": "Angular i18n - Interpolation for collections clarification?", "body": "<p>I've been looking into how to use i18n for translations in an Angular app. My struggle is with string interpolation, it seems this has not been implemented into Angular yet.</p>\n\n<p>Goal: Use i18n to translate string interpolation of collection in an Angular app to have a Spanish version. </p>\n\n<p>What I've done: I've been doing a lot of research, and the workarounds I've seen mentioned are:</p>\n\n<ol>\n<li><p><strong>Polyfill</strong>: ( <a href=\"https://github.com/ngx-translate/i18n-polyfill\" rel=\"nofollow noreferrer\">https://github.com/ngx-translate/i18n-polyfill</a> ) (and referenced here: <a href=\"https://stackoverflow.com/questions/50839676/angular-i18n-angular-6-internationalisation-how-to-deal-with-variables\">angular-i18n Angular 6 Internationalisation : How to deal with variables</a> )</p></li>\n<li><p><strong>Hidden div</strong>: (<a href=\"https://stackoverflow.com/questions/41824611/angular-internationalization-i18n-and-ngfor\">Angular internationalization (i18n) and *ngFor</a> )</p></li>\n<li><p><strong>Verbose method</strong>: using n-container and ngswitch. Seems the least clean way: <a href=\"https://github.com/angular/angular/issues/11405#issuecomment-415731284\" rel=\"nofollow noreferrer\">https://github.com/angular/angular/issues/11405#issuecomment-415731284</a></p></li>\n</ol>\n\n<p>For a collection like an array, or a database table, how are these workarounds creating separate i18n tags for each element? Will it end up showing just one tag for all elements of the collection?</p>\n\n<p>For example: If you have an array for \"Gender\", with values of \"Male\" and \"Female\", what will happen?</p>\n\n<pre><code>&lt;mat-option *ngFor=\"let gender of genders\" [value]=\"gender.value\"&gt;\n             {{ gender.viewVal }}\n&lt;/mat-option&gt;\n</code></pre>\n\n<p>In the polyfill they mention: </p>\n\n<pre><code>test {{myVar}} !\", {myVar: \"^_^\"})\n</code></pre>\n\n<p>Does that mean \"^_^\" is the translation? It's done directly in the typescript, not in an xlf file?\nIf you use a hidden div, how does using the typescript file affect the xlf? The verbose method seems easiest to understand but not good for scalable, what if you have a dropdown with 10+ items, then that really bulks up the code.</p>\n\n<p>What is the best way to go about this goal? I'm not sure I properly understand how the polyfill works and there is not much documentation on these ways of translation. </p>\n"}, {"tags": ["javascript", "typescript", "interface", "graphql"], "comments": [{"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1548268277, "post_id": 54333219, "comment_id": 95484708, "body": "Please, show the code you already have and comment the parts you&#39;re struggling with."}], "answers": [{"comments": [{"owner": {"reputation": 493, "user_id": 1475008, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ceAOV.jpg?s=128&g=1", "display_name": "Carlos Delgado", "link": "https://stackoverflow.com/users/1475008/carlos-delgado"}, "edited": false, "score": 0, "creation_date": 1548321815, "post_id": 54336983, "comment_id": 95502084, "body": "Thanks @DeborahK, looks like a good approach. In my application I have many interfaces (generated from a GraphQL definition file), and I have to ensure that the objects being sent conforms to those defined in the interface. So, although I like your  solution, it is not scalable to many interface definitions, as I&#39;d have to create one empty object per interface definition and the code would get very messy."}, {"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "reply_to_user": {"reputation": 493, "user_id": 1475008, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ceAOV.jpg?s=128&g=1", "display_name": "Carlos Delgado", "link": "https://stackoverflow.com/users/1475008/carlos-delgado"}, "edited": false, "score": 0, "creation_date": 1548350156, "post_id": 54336983, "comment_id": 95519530, "body": "Someone asked a similar question here: <a href=\"https://stackoverflow.com/questions/52190091/filter-out-unneeded-object-properties-for-interface-in-typescript\" title=\"filter out unneeded object properties for interface in typescript\">stackoverflow.com/questions/52190091/&hellip;</a> Their first solution was similar to mine. The second one doesn&#39;t seem like it would &quot;scale&quot; either."}, {"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "reply_to_user": {"reputation": 493, "user_id": 1475008, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ceAOV.jpg?s=128&g=1", "display_name": "Carlos Delgado", "link": "https://stackoverflow.com/users/1475008/carlos-delgado"}, "edited": false, "score": 0, "creation_date": 1548350368, "post_id": 54336983, "comment_id": 95519651, "body": "You could maybe take advantage of this: <a href=\"https://www.npmjs.com/package/ts-transformer-keys\" rel=\"nofollow noreferrer\">npmjs.com/package/ts-transformer-keys</a> ... but that isn&#39;t built in so could be a pain ... and still may not scale."}, {"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "reply_to_user": {"reputation": 493, "user_id": 1475008, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ceAOV.jpg?s=128&g=1", "display_name": "Carlos Delgado", "link": "https://stackoverflow.com/users/1475008/carlos-delgado"}, "edited": false, "score": 0, "creation_date": 1548350549, "post_id": 54336983, "comment_id": 95519740, "body": "The information here looks interesting as well: <a href=\"https://stackoverflow.com/questions/14425568/interface-type-check-with-typescript\" title=\"interface type check with typescript\">stackoverflow.com/questions/14425568/&hellip;</a>"}], "tags": [], "owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "is_accepted": false, "score": 1, "last_activity_date": 1548284273, "creation_date": 1548284273, "answer_id": 54336983, "question_id": 54333219, "link": "https://stackoverflow.com/questions/54333219/filter-existing-object-properties-in-typescript/54336983#54336983", "title": "Filter existing object properties in Typescript", "body": "<p>There may be a <em>better</em> way, but off the top of my head this works:</p>\n\n<pre><code>    let otherObject: ImyInterface = { a: null, b: null };\n    let x: ImyInterface = { ...otherObject, ...myObject };\n</code></pre>\n\n<p>The first line defines an object of the desired interface.</p>\n\n<p>The second line defines a new object of the desired interface and copies into that object all of the properties from <code>otherObject</code> and then any properties from <code>myObject</code> that conform to the interface.</p>\n\n<p>NOTE: If you try it just with this:</p>\n\n<pre><code>let x: ImyInterface = { ...myObject };\n</code></pre>\n\n<p>You will see an error that some of the properties for the interface are missing. Hence the reason to create a \"complete\" object first (<code>otherObject</code> in my example).</p>\n"}], "owner": {"reputation": 493, "user_id": 1475008, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ceAOV.jpg?s=128&g=1", "display_name": "Carlos Delgado", "link": "https://stackoverflow.com/users/1475008/carlos-delgado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 966, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548321969, "creation_date": 1548267009, "last_edit_date": 1548321969, "question_id": 54333219, "link": "https://stackoverflow.com/questions/54333219/filter-existing-object-properties-in-typescript", "title": "Filter existing object properties in Typescript", "body": "<p>I have an <code>any</code> object in typescript which I need to shape so it is valid for a given interface.</p>\n\n<p>I need a way to create the new object in a way that cleans out the properties which don't belong to the class definition, and adds the missing properties.</p>\n\n<p>A code sample could be:</p>\n\n<pre><code>interface ImyInterface {\n  a: string;\n  b: string;\n  c?:string;\n};\n\nlet myObject = {\n  a: \"myString\",\n  d: \"other value\"\n};\n</code></pre>\n\n<p>My question is: is there a way to convert/filter <code>myObject</code> so it fits the interface <code>ImyInterface</code> definition, and gets transformed to this</p>\n\n<pre><code>console.log (JSON.stringify(objectA));\n&gt; {a: 'myString', b: null}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "forms", "typescript", "autocorrect"], "answers": [{"comments": [{"owner": {"reputation": 3369, "user_id": 9953550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nTQBj.jpg?s=128&g=1", "display_name": "YulePale", "link": "https://stackoverflow.com/users/9953550/yulepale"}, "edited": false, "score": 0, "creation_date": 1548267620, "post_id": 54333271, "comment_id": 95484405, "body": "Thank you.. this works. But how do I get rid of the up and down arrows that are used to add and subtract the value of the number since I have buttons for that?"}, {"owner": {"reputation": 3369, "user_id": 9953550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nTQBj.jpg?s=128&g=1", "display_name": "YulePale", "link": "https://stackoverflow.com/users/9953550/yulepale"}, "edited": false, "score": 0, "creation_date": 1548267833, "post_id": 54333271, "comment_id": 95484506, "body": "Just found an <a href=\"https://css-tricks.com/snippets/css/turn-off-number-input-spinners/\" rel=\"nofollow noreferrer\">answer</a> to my question in the comments. Thanks."}], "tags": [], "owner": {"reputation": 278, "user_id": 10940599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04ec6923e5ee182c4c2ec43f0733b291?s=128&d=identicon&r=PG", "display_name": "N.Tasikj", "link": "https://stackoverflow.com/users/10940599/n-tasikj"}, "is_accepted": true, "score": 3, "last_activity_date": 1548267189, "creation_date": 1548267189, "answer_id": 54333271, "question_id": 54333174, "link": "https://stackoverflow.com/questions/54333174/how-do-i-set-selective-input-to-a-form-field-in-angular/54333271#54333271", "title": "How do I set &#39;selective-input&#39; to a form field in Angular?", "body": "<p>If you want your input to be only number you can specify that with type property, for example:</p>\n\n<pre><code>&lt;input type=\"number\" /&gt;\n</code></pre>\n\n<p>and it will accept only integers. </p>\n"}, {"tags": [], "owner": {"reputation": 706, "user_id": 1433116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4a0766ac42c8a56cf3c6adaf8b09a10?s=128&d=identicon&r=PG", "display_name": "night_owl", "link": "https://stackoverflow.com/users/1433116/night-owl"}, "is_accepted": false, "score": 2, "last_activity_date": 1548267680, "creation_date": 1548267680, "answer_id": 54333411, "question_id": 54333174, "link": "https://stackoverflow.com/questions/54333174/how-do-i-set-selective-input-to-a-form-field-in-angular/54333411#54333411", "title": "How do I set &#39;selective-input&#39; to a form field in Angular?", "body": "<p>You can also subscribe to the keydown event for that input:</p>\n\n<pre><code>// in your template\n&lt;input (keydown)='onKeyDown($event)' ...&gt;\n\n// in your component\nonKeyDown(event: KeyboardEvent) {\n  if (!event.key.match(/[0-9]{1}|Delete|ArrowUp|ArrowDown|ArrowLeft|ArrowRight|Backspace/)) {\n    event.preventDefault();\n  }\n}\n</code></pre>\n\n<p>Note that you will have to allow for the navigation keys and delete keys, etc as well.</p>\n"}], "owner": {"reputation": 3369, "user_id": 9953550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nTQBj.jpg?s=128&g=1", "display_name": "YulePale", "link": "https://stackoverflow.com/users/9953550/yulepale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 54333271, "answer_count": 2, "score": 0, "last_activity_date": 1548267680, "creation_date": 1548266771, "question_id": 54333174, "link": "https://stackoverflow.com/questions/54333174/how-do-i-set-selective-input-to-a-form-field-in-angular", "title": "How do I set &#39;selective-input&#39; to a form field in Angular?", "body": "<p>I have a form input field in angular that is to be filled with a number. </p>\n\n<p>How can I set it up in a way that when you try to add any other character that is not a number, nothing happens. How can my form work as if only integer keys on the keyboard are working? For example if my form has 100 and I try to input a character like the plus sign nothing happens?</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-bwmg9h?file=app%2Fform-field-prefix-suffix-example.ts\" rel=\"nofollow noreferrer\">here is the code</a> for my form.</p>\n"}, {"tags": ["angular", "typescript", "primeng", "primeng-datatable"], "comments": [{"owner": {"reputation": 293, "user_id": 4313810, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DRsnt-DPuRA/AAAAAAAAAAI/AAAAAAAAAEQ/7VS6wtbfSKY/photo.jpg?sz=128", "display_name": "Victor Henrique", "link": "https://stackoverflow.com/users/4313810/victor-henrique"}, "edited": false, "score": 1, "creation_date": 1548333042, "post_id": 54333117, "comment_id": 95508709, "body": "If @DirtyMind solution doesn&#39;t work, update the question if the JSON with the values from <code>iApps</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1875, "user_id": 4622075, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/6IZCC.jpg?s=128&g=1", "display_name": "DirtyMind", "link": "https://stackoverflow.com/users/4622075/dirtymind"}, "is_accepted": true, "score": 0, "last_activity_date": 1548325635, "last_edit_date": 1548325635, "creation_date": 1548318755, "answer_id": 54342328, "question_id": 54333117, "link": "https://stackoverflow.com/questions/54333117/primeng-dataview-search-box-setup-issue/54342328#54342328", "title": "PrimeNG dataView Search Box Setup Issue", "body": "<p>If you are using filter. I think you should use filterBy property as well.</p>\n\n<pre><code>&lt;p-dataView #dv [value]=\"cars\" filterBy=\"brand\"&gt;\n</code></pre>\n\n<p>As per the documentation Filtering is implemented by defining the filterBy property and calling the filter function of the component.\nI am suspecting because of this you are getting error '<code>split' of undefined at DataView.filter</code>.</p>\n"}], "owner": {"reputation": 866, "user_id": 7396097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8b953df826d6691f2337c52325fcb1d8?s=128&d=identicon&r=PG&f=1", "display_name": "rgoal", "link": "https://stackoverflow.com/users/7396097/rgoal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 691, "favorite_count": 0, "accepted_answer_id": 54342328, "answer_count": 1, "score": 1, "last_activity_date": 1548325635, "creation_date": 1548266473, "last_edit_date": 1548266969, "question_id": 54333117, "link": "https://stackoverflow.com/questions/54333117/primeng-dataview-search-box-setup-issue", "title": "PrimeNG dataView Search Box Setup Issue", "body": "<p>I am using p-dataView with Angular 5 and getting error</p>\n\n<blockquote>\n  <p>Cannot read property 'split' of undefined at DataView.filter</p>\n</blockquote>\n\n<p>I read the documentation and could not find anything to resolve my issue. Also there no code needed in typescript side...\nso i just have this html code\nNote the search should be pointing to the cheackbox (app_name)</p>\n\n<pre><code>  &lt;p-dataView [value]=\"iApps\" #dv [paginator]=\"true\" [rows]=\"20\"  paginatorPosition=\"both\"&gt;\n&lt;p-header&gt; \n      &lt;input type=\"search\" pInputText placeholder=\"Search\" (keyup)=\"dv.filter($event.target.value)\"&gt;\n&lt;/p-header&gt;\n\n                  &lt;ng-template let-apps let-rowIndexValue=\"rowIndex\" pTemplate=\"listItem\"&gt;\n\n                           &lt;input type=\"checkbox\" (click)=\"toggleSelectedApp($event,rowIndexValue)\" id=\"defaultAppID\" name=\"defaultApps\" style=\"margin-right:5px;margin-bottom:5px;margin-left:5px; margin-top:5px\" [value]='apps.app_id'&gt; {{apps.app_name}}\n\n                                                    &lt;select name=\"role\" class=\"dropdown\"  style=\"width:85%\" (ngModelChange)=\"selectedDefaultAppRole($event,rowIndexValue)\" [(ngModel)]=\"apps.seletedAppRoleID\"&gt;\n                                                        &lt;option class=\"dropdown-item\" value=\"-1\" selected&gt;Select&lt;/option&gt;\n                                                        &lt;option class=\"dropdown-item\" *ngFor='let role of apps.roles' [ngValue]=\"role.app_role_id\"&gt;\n                                                            {{role.app_role_name}}\n                                                        &lt;/option&gt;\n                                                    &lt;/select&gt;\n\n                                    &lt;/ng-template&gt;\n\n                                &lt;/p-dataView&gt;\n</code></pre>\n"}, {"tags": ["typescript", "tslint"], "comments": [{"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1548269378, "post_id": 54333052, "comment_id": 95485215, "body": "Can you provide additional code? What is <code>column</code> used for in the subsequent lines of code?"}, {"owner": {"reputation": 2335, "user_id": 189518, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7a969fd6545336585797bf65ff0683d3?s=128&d=identicon&r=PG", "display_name": "Sensei James", "link": "https://stackoverflow.com/users/189518/sensei-james"}, "reply_to_user": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1548271400, "post_id": 54333052, "comment_id": 95486100, "body": "It shouldn&#39;t matter - the code is meant to be generic.  Instead of column we can call it <code>elem</code> maybe (for Array element, not necessarily DOM element)"}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 1, "creation_date": 1548273874, "post_id": 54333052, "comment_id": 95487128, "body": "Okay. As far is I know <code>let</code> is by far more memory consuming than <code>const</code>. And as long as you do not reassign <code>column</code> in the subsequent code, it is recommended to use const instead of let. Here is how you can stop it: <a href=\"https://palantir.github.io/tslint/rules/prefer-const/\" rel=\"nofollow noreferrer\">palantir.github.io/tslint/rules/prefer-const</a>"}, {"owner": {"reputation": 2335, "user_id": 189518, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7a969fd6545336585797bf65ff0683d3?s=128&d=identicon&r=PG", "display_name": "Sensei James", "link": "https://stackoverflow.com/users/189518/sensei-james"}, "reply_to_user": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1548288787, "post_id": 54333052, "comment_id": 95492256, "body": "I&#39;m not sure I understand; the <code>prefer-const</code> setting is how I would disable <code>let</code> to <code>const</code> conversion altogether, but I&#39;m hoping to only disable it within loops.  Is that not possible?"}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 1, "creation_date": 1548306816, "post_id": 54333052, "comment_id": 95495863, "body": "Unfortunately, I couldn&#39;t find any more granular switch than this. I guess it&#39;s currently not possible to tell those cases apart. Either you do it entirely or not at all. Sorry."}, {"owner": {"reputation": 2556, "user_id": 3074620, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6e08f77ad4f51981a85ca140937000f3?s=128&d=identicon&r=PG&f=1", "display_name": "user3074620", "link": "https://stackoverflow.com/users/3074620/user3074620"}, "edited": false, "score": 0, "creation_date": 1560990676, "post_id": 54333052, "comment_id": 99921814, "body": "How is it misleading? Just out of curiosity. Also maybe for (const column of array) or for (const [i, column] of array.entries()) is cleaner and less misleading?"}], "answers": [{"tags": [], "owner": {"reputation": 2335, "user_id": 189518, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7a969fd6545336585797bf65ff0683d3?s=128&d=identicon&r=PG", "display_name": "Sensei James", "link": "https://stackoverflow.com/users/189518/sensei-james"}, "is_accepted": false, "score": 0, "last_activity_date": 1579863406, "last_edit_date": 1579863406, "creation_date": 1548371471, "answer_id": 54356733, "question_id": 54333052, "link": "https://stackoverflow.com/questions/54333052/tslint-is-there-a-way-to-disable-prefer-const-within-a-loop/54356733#54356733", "title": "tslint: Is there a way to disable prefer-const within a loop?", "body": "<p>ATTOW it appears that disabling <code>let</code> to <code>const</code> conversion within a loop is not possible using tslint's <code>prefer-const</code> (or any other config setting).<br>\n(A big thanks to @Lynx242 for your investigation and insight!)</p>\n\n<p>What I ended up doing was moving my variable declaration outside of the body of the loop itself:</p>\n\n<pre><code>for (let i = 0, len = array.length; i &lt; len; ++i) {\n  const column = array[i];\n</code></pre>\n\n<p>and into the for loop's init block:</p>\n\n<pre><code>for (let i = 0, len = array.length, column; i &lt; len; ++i) {\n  column = array[i];\n</code></pre>\n\n<p>Here we are not redeclaring <code>column</code> with each iteration of the loop; while a perhaps minor performance improvement, IMHO, this code feels much cleaner and less confusing.</p>\n"}], "owner": {"reputation": 2335, "user_id": 189518, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7a969fd6545336585797bf65ff0683d3?s=128&d=identicon&r=PG", "display_name": "Sensei James", "link": "https://stackoverflow.com/users/189518/sensei-james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1926, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1579863406, "creation_date": 1548266230, "last_edit_date": 1548267590, "question_id": 54333052, "link": "https://stackoverflow.com/questions/54333052/tslint-is-there-a-way-to-disable-prefer-const-within-a-loop", "title": "tslint: Is there a way to disable prefer-const within a loop?", "body": "<p><code>tslint</code> 5.11 just made the following <code>let</code> to <code>const</code> conversion:</p>\n\n<pre><code>for (let i = 0, len = array.length; i &lt; len; ++i) {\n  let column = array[i];\n</code></pre>\n\n<p>to</p>\n\n<pre><code>for (let i = 0, len = array.length; i &lt; len; ++i) {\n  const column = array[i];\n</code></pre>\n\n<p>but (while likely innocuous) in my opinion this change is wrong!  (Because it is unnecessary and misleading.)</p>\n\n<p>Is there a way to disable the <code>let</code> to <code>const</code> conversion within loops? \nAnd while I could disable <code>prefer-const</code> on case by case basis using <a href=\"https://palantir.github.io/tslint/usage/rule-flags/\" rel=\"nofollow noreferrer\">rule flags</a>, I'd rather not pollute my code with those comments.  Ideally, I'd be able fix this with a setting within <code>tslint.json</code>.</p>\n"}, {"tags": ["angular", "typescript", "firebase", "google-cloud-firestore"], "answers": [{"tags": [], "owner": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "is_accepted": false, "score": 0, "last_activity_date": 1548270222, "last_edit_date": 1548270222, "creation_date": 1548269900, "answer_id": 54333963, "question_id": 54332846, "link": "https://stackoverflow.com/questions/54332846/how-to-configure-firebase-with-angular-6/54333963#54333963", "title": "How to configure firebase with angular 6?", "body": "<p>Try the following using angularfire2 service <a href=\"https://github.com/angular/angularfire2/blob/master/docs/firestore/collections.md\" rel=\"nofollow noreferrer\">AngularFirestore</a> instead of directly trying to access 'firebase`. You can stream data from the collection using either <a href=\"https://github.com/angular/angularfire2/blob/master/docs/firestore/collections.md#valuechanges\" rel=\"nofollow noreferrer\">valueChanges()</a> or <a href=\"https://github.com/angular/angularfire2/blob/master/docs/firestore/collections.md#snapshotchanges\" rel=\"nofollow noreferrer\">snapshotChanges()</a> and utilize RxJS operators to additional work with the data as needed.</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { AngularFirestore, AngularFirestoreCollection } from '@angular/fire/firestore';\nimport { Observable } from 'rxjs';\n\n@Component({ /* ... */})\nexport class SomeComponent implements OnInit {\n  // Should ideally use strong types instead of 'any' for better IDE support\n  private itemsCollection: AngularFirestoreCollection&lt;any&gt;;\n  items: Observable&lt;any[]&gt;;\n\n  constructor(private afs: AngularFirestore) {\n    this.itemsCollection = afs.collection&lt;any&gt;('cities');\n    this.items = this.itemsCollection.valueChanges();\n  }\n\n  ngOnInit() {\n    // use RxJS operators to use the data as needed\n    this.items.subscribe(cities =&gt; console.log(cities));\n  }\n\n  saveData() {\n    this.itemsCollection.doc('LA').set({ city:  ['A','B', 'C', 'D']} );\n  }\n}\n</code></pre>\n\n<p>I'd highly recommend to review all the angularfire2 Cloud Firestore <a href=\"https://github.com/angular/angularfire2#cloud-firestore\" rel=\"nofollow noreferrer\">docs</a> before continuing as well.</p>\n\n<p>Hopefully that helps!</p>\n"}], "owner": {"reputation": 191, "user_id": 4988969, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/3f8a6b04e918938233d3aeb19178efc5?s=128&d=identicon&r=PG&f=1", "display_name": "Abhay Sharma", "link": "https://stackoverflow.com/users/4988969/abhay-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 327, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548270222, "creation_date": 1548265342, "question_id": 54332846, "link": "https://stackoverflow.com/questions/54332846/how-to-configure-firebase-with-angular-6", "title": "How to configure firebase with angular 6?", "body": "<p>I am beginner of angular 6. I am trying to configure angular 6 with firebase, but at the time of set data i am getting below error.</p>\n\n<p>FirebaseError {code: \"app/no-app\", message: \"Firebase: No Firebase App '[DEFAULT]' has been cre\u2026- call Firebase App.initializeApp() (app/no-app).\", name: \"[DEFAULT]\", ngDebugContext: DebugContext_, ngErrorLogger: \u0192, \u2026}\ncode: \"app/no-app\"\nmessage: \"Firebase: No Firebase App '[DEFAULT]' has been created - call Firebase App.initializeApp() (app/no-app).\"\nname: \"[DEFAULT]\"\nngDebugContext: DebugContext_ {view: {\u2026}, nodeIndex: 76, nodeDef: {\u2026}, elDef: {\u2026}, elView: {\u2026}}\nngErrorLogger: \u0192 ()\nstack: \"[DEFAULT]: Firebase: No Firebase App '[DEFAULT]' has been created - call Firebase App.initializeApp() (app/no-app).\u21b5    at error (<a href=\"http://localhost:4200/vendor.js:73214:21\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.js:73214:21</a>)\u21b5    at app (<a href=\"http://localhost:4200/vendor.js:73097:13\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.js:73097:13</a>)\u21b5    at Object.serviceNamespace [as firestore] (<a href=\"http://localhost:4200/vendor.js:73155:47\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.js:73155:47</a>)\u21b5    at RegiComponent.push../src/app/regi/regi.component.ts.RegiComponent.saveData (<a href=\"http://localhost:4200/main.js:315:68\" rel=\"nofollow noreferrer\">http://localhost:4200/main.js:315:68</a>)\u21b5    at Object.eval [as handleEvent] (ng:///AppModule/RegiComponent.ngfactory.js:214:27)\u21b5    at handleEvent (<a href=\"http://localhost:4200/vendor.js:55060:41\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.js:55060:41</a>)\u21b5    at callWithDebugContext (<a href=\"http://localhost:4200/vendor.js:56154:25\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.js:56154:25</a>)\u21b5    at Object.debugHandleEvent [as handleEvent] (<a href=\"http://localhost:4200/vendor.js:55857:12\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.js:55857:12</a>)\u21b5    at dispatchEvent (<a href=\"http://localhost:4200/vendor.js:52509:25\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.js:52509:25</a>)\u21b5    at <a href=\"http://localhost:4200/vendor.js:52956:38\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.js:52956:38</a>\"\n<strong>proto</strong>: Error. \nPlease have look of my app.module.ts</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { AngularFireModule } from '@angular/fire';\r\nimport { AngularFirestoreModule } from '@angular/fire/firestore';\r\nimport { environment } from '../environments/environment';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { RegiComponent } from './regi/regi.component';\r\nimport { LoginComponent } from './login/login.component';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    RegiComponent,\r\n    LoginComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    FormsModule,\r\n    AngularFireModule.initializeApp(environment.firebaseConfig),\r\n  \tAngularFirestoreModule,\r\n    AppRoutingModule\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This is my environment.ts</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export const environment = {\r\n  production: false,\r\n  firebaseConfig: {\r\n    apiKey: \"AIzaSyBNTXxgG5hkzY3_E6E3VRwlMQ798wqBjXA\",\r\n    authDomain: \"firsapp-f3cf4.firebaseapp.com\",\r\n    databaseURL: \"https://firsapp-f3cf4.firebaseio.com\",\r\n    projectId: \"firsapp-f3cf4\",\r\n    storageBucket: \"firsapp-f3cf4.appspot.com\",\r\n    messagingSenderId: \"736958488941\"\r\n  }\r\n  //firebase.initializeApp(firebaseConfig);\r\n};</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Below is my function i am calling on click </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>saveData($event){\r\n    let name     : string;\r\n    let email    : string;\r\n    let passWord : string;\r\n    let city     : string[]; \r\n    //var database = firebase.database();\r\n    // Add a new document in collection \"cities\"\r\n    let db = firebase.firestore();\r\n    // Add a new document in collection \"cities\"\r\n    db.collection(\"cities\").doc(\"LA\").set({\r\n      city :  ['A','B', 'C', 'D'],\r\n    })\r\n    .then(function() {\r\n      console.log(\"Document successfully written!\");\r\n    })\r\n    .catch(function(error) {\r\n      console.error(\"Error writing document: \", error);\r\n    });</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Please help me if you need any further info please know me.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 5977, "user_id": 5683579, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8c263738dccc90304c0ac71ed8ed505b?s=128&d=identicon&r=PG", "display_name": "joh04667", "link": "https://stackoverflow.com/users/5683579/joh04667"}, "edited": false, "score": 5, "creation_date": 1548265515, "post_id": 54332845, "comment_id": 95483388, "body": "You haven&#39;t given much to go off of. What errors are you getting? What have you tried? Does <code>isActivated</code> have value? What is the input to <code>myAnimation</code> resolve to?"}, {"owner": {"reputation": 2443, "user_id": 1408356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f1149c2e9e4df9452c19dc98e9c53af?s=128&d=identicon&r=PG", "display_name": "Scrimothy", "link": "https://stackoverflow.com/users/1408356/scrimothy"}, "edited": false, "score": 1, "creation_date": 1548272400, "post_id": 54332845, "comment_id": 95486506, "body": "The values for <code>myAnimation</code> are toggling between an <code>ActivatedRoute</code> object and an empty string? In my experience animation states are strings."}, {"owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "edited": false, "score": 0, "creation_date": 1548275657, "post_id": 54332845, "comment_id": 95487817, "body": "I would replace <code>o.activatedRoute</code> by &#39;active&#39; or any string representing an animation state, you are passing an <code>ActivatedRoute</code> object."}, {"owner": {"reputation": 329, "user_id": 10450505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d803a606673d0db0b525d6f1e75e43e8?s=128&d=identicon&r=PG&f=1", "display_name": "juanjinario", "link": "https://stackoverflow.com/users/10450505/juanjinario"}, "edited": false, "score": 0, "creation_date": 1548321060, "post_id": 54332845, "comment_id": 95501651, "body": "The error appears when placing the character (?) Apparently it is not possible to place this type of operator in the .... component.ts, if I create a separate HTML component and place the same sentence works"}], "owner": {"reputation": 329, "user_id": 10450505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d803a606673d0db0b525d6f1e75e43e8?s=128&d=identicon&r=PG&f=1", "display_name": "juanjinario", "link": "https://stackoverflow.com/users/10450505/juanjinario"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548272020, "creation_date": 1548265330, "last_edit_date": 1548272020, "question_id": 54332845, "link": "https://stackoverflow.com/questions/54332845/angular-2-template-with-conditional-sentence-doesnt-work", "title": "Angular 2 Template with conditional (?) sentence doesn&#39;t work", "body": "<p>I have to use a conditional operator in html template using angular 6</p>\n\n<pre><code>@Component({\n  selector: 'ngx-pages',\n  template: `\n&lt;div [@myAnimation]=\"o.isActivated ? o.activatedRoute : ''\"&gt;\n  &lt;router-outlet #o=\"outlet\"&gt;&lt;/router-outlet&gt;\n&lt;/div&gt; `...\n</code></pre>\n\n<p>When I put <code>?</code>, the code stops working</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 5977, "user_id": 5683579, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8c263738dccc90304c0ac71ed8ed505b?s=128&d=identicon&r=PG", "display_name": "joh04667", "link": "https://stackoverflow.com/users/5683579/joh04667"}, "edited": false, "score": 0, "creation_date": 1548265423, "post_id": 54332832, "comment_id": 95483344, "body": "outside of simple types, most types are simply class declaration, as with most compiled OO languages: <a href=\"https://www.typescriptlang.org/docs/handbook/classes.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/classes.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "is_accepted": true, "score": 4, "last_activity_date": 1548268493, "creation_date": 1548268493, "answer_id": 54333597, "question_id": 54332832, "link": "https://stackoverflow.com/questions/54332832/how-to-create-custom-type-in-angular/54333597#54333597", "title": "How to create custom type in angular", "body": "<p>It depends on what you mean by <code>type</code> exactly.</p>\n\n<p>If you want to define a \"type\" that you can use in TypeScript strong typing, then you have several choices.</p>\n\n<p>You can build an interface like this:</p>\n\n<pre><code>export interface Product {\n  productId: number;\n  productName: string;\n  productCode: string;\n  releaseDate: string;\n  price: number;\n  description: string;\n  starRating: number;\n  imageUrl: string;\n}\n</code></pre>\n\n<p>And use it as a type like this:</p>\n\n<pre><code>const products: Product[] = [];\n</code></pre>\n\n<p>Or as mentioned in the comments, you can build a TypeScript class:</p>\n\n<pre><code>export class Product {\n  productId: number;\n  productName: string;\n  productCode: string;\n  releaseDate: string;\n  price: number;\n  description: string;\n  starRating: number;\n  imageUrl: string;\n}\n</code></pre>\n\n<p>And use it similarly. With a class, you can \"new\" up instances, which you can't do with an interface.</p>\n"}], "owner": {"reputation": 123, "user_id": 6747823, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-udSw0y5RuF0/AAAAAAAAAAI/AAAAAAAAANk/wjXnszhlf5Q/photo.jpg?sz=128", "display_name": "Krishnamraju K", "link": "https://stackoverflow.com/users/6747823/krishnamraju-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7259, "favorite_count": 1, "closed_date": 1548268650, "accepted_answer_id": 54333597, "answer_count": 1, "score": -3, "last_activity_date": 1548268493, "creation_date": 1548265290, "question_id": 54332832, "link": "https://stackoverflow.com/questions/54332832/how-to-create-custom-type-in-angular", "closed_reason": "Needs details or clarity", "title": "How to create custom type in angular", "body": "<p>Can some one explain how to create our own custom types in angular using typescript syntax. Please provide example as well. \nThanks!</p>\n"}, {"tags": ["angular", "typescript", "angular-routing"], "comments": [{"owner": {"reputation": 8973, "user_id": 6382928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tzxR.jpg?s=128&g=1", "display_name": "Frank Modica", "link": "https://stackoverflow.com/users/6382928/frank-modica"}, "edited": false, "score": 0, "creation_date": 1548265163, "post_id": 54332757, "comment_id": 95483236, "body": "Is your server set up so that it returns the base HTML page no matter the URL? If not, when you go directly to <code>&#47;dashboard</code> your server will think you&#39;re asking it for a dashboard page. But really you want the server to return the base HTML page, so the client side router can see <code>&#47;dashboard</code> and take it from there. You could also switch to hash based routes to avoid this problem."}, {"owner": {"reputation": 55, "user_id": 10537452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0ee0884b4430d772125a1da36beaac8?s=128&d=identicon&r=PG&f=1", "display_name": "codechavez", "link": "https://stackoverflow.com/users/10537452/codechavez"}, "reply_to_user": {"reputation": 8973, "user_id": 6382928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tzxR.jpg?s=128&g=1", "display_name": "Frank Modica", "link": "https://stackoverflow.com/users/6382928/frank-modica"}, "edited": false, "score": 0, "creation_date": 1548265331, "post_id": 54332757, "comment_id": 95483303, "body": "I&#39;m hosting it on a IIS server and I have the index.html as default @FrankModica"}, {"owner": {"reputation": 8973, "user_id": 6382928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tzxR.jpg?s=128&g=1", "display_name": "Frank Modica", "link": "https://stackoverflow.com/users/6382928/frank-modica"}, "edited": false, "score": 0, "creation_date": 1548265613, "post_id": 54332757, "comment_id": 95483435, "body": "You might need URL rewrites. Check out <a href=\"https://blog.angularindepth.com/deploy-an-angular-application-to-iis-60a0897742e7\" rel=\"nofollow noreferrer\">blog.angularindepth.com/&hellip;</a>"}, {"owner": {"reputation": 55, "user_id": 10537452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0ee0884b4430d772125a1da36beaac8?s=128&d=identicon&r=PG&f=1", "display_name": "codechavez", "link": "https://stackoverflow.com/users/10537452/codechavez"}, "reply_to_user": {"reputation": 8973, "user_id": 6382928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tzxR.jpg?s=128&g=1", "display_name": "Frank Modica", "link": "https://stackoverflow.com/users/6382928/frank-modica"}, "edited": false, "score": 0, "creation_date": 1548266971, "post_id": 54332757, "comment_id": 95484085, "body": "@FrankModica can you make that as an answer so you can get the points"}], "answers": [{"tags": [], "owner": {"reputation": 8973, "user_id": 6382928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tzxR.jpg?s=128&g=1", "display_name": "Frank Modica", "link": "https://stackoverflow.com/users/6382928/frank-modica"}, "is_accepted": true, "score": 1, "last_activity_date": 1548267399, "creation_date": 1548267399, "answer_id": 54333337, "question_id": 54332757, "link": "https://stackoverflow.com/questions/54332757/how-to-fix-cannot-get-in-angular-when-refreshing-the-page/54333337#54333337", "title": "How to fix Cannot GET / in Angular when refreshing the page?", "body": "<p>Your server needs to be set up to return the base HTML page no matter the URL, so the client side router can then see <code>/dashboard</code> and take it from there. Otherwise, when you go directly to <code>/dashboard</code> your server will think you're asking it for a dashboard page.</p>\n\n<p>You could accomplish this in IIS using URL rewrites. Here's an example from <a href=\"https://blog.angularindepth.com/deploy-an-angular-application-to-iis-60a0897742e7\" rel=\"nofollow noreferrer\">https://blog.angularindepth.com/deploy-an-angular-application-to-iis-60a0897742e7</a>:</p>\n\n<pre><code>&lt;system.webServer&gt;\n  &lt;rewrite&gt;\n    &lt;rules&gt;\n      &lt;rule name=\"Angular Routes\" stopProcessing=\"true\"&gt;\n        &lt;match url=\".*\" /&gt;\n        &lt;conditions logicalGrouping=\"MatchAll\"&gt;\n          &lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsFile\" negate=\"true\" /&gt;\n          &lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsDirectory\" negate=\"true\" /&gt;\n        &lt;/conditions&gt;\n        &lt;action type=\"Rewrite\" url=\"./index.html\" /&gt;\n      &lt;/rule&gt;\n    &lt;/rules&gt;\n  &lt;/rewrite&gt;\n&lt;/system.webServer&gt;\n</code></pre>\n\n<p>Another option is hash-based URLs, which can be accomplished like this:</p>\n\n<pre><code>RouterModule.forRoot(routes, { useHash: true })\n</code></pre>\n\n<p>This works because the server doesn't see the hash portion of the URL. See <a href=\"https://angular.io/guide/router\" rel=\"nofollow noreferrer\">https://angular.io/guide/router</a> for details.</p>\n"}, {"tags": [], "owner": {"reputation": 514, "user_id": 2184182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7a7bbe76bac868651ec0fef852c43a2?s=128&d=identicon&r=PG", "display_name": "Serkan KONAKCI", "link": "https://stackoverflow.com/users/2184182/serkan-konakci"}, "is_accepted": false, "score": 0, "last_activity_date": 1615309318, "creation_date": 1615309318, "answer_id": 66551475, "question_id": 54332757, "link": "https://stackoverflow.com/questions/54332757/how-to-fix-cannot-get-in-angular-when-refreshing-the-page/66551475#66551475", "title": "How to fix Cannot GET / in Angular when refreshing the page?", "body": "<p>I use Nodejs to serve angular files then I have added the following code part to <code>serve.js</code> then it was worked.</p>\n<pre class=\"lang-js prettyprint-override\"><code>app.route('/*').get(function (req, res) {\n  return res.sendFile(path.join(staticRoot + 'index.html'));\n});\n\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/31521443/angular-cannot-get-route-on-page-refresh\">I get this content from here</a></p>\n<p>If you use <strong>Nginx</strong> or <strong>Apache</strong> to serve files you have to use URLRewrite to redirect to the index.html. The server redirects the client to index.html and it will imports Angular and RoutingModule handles the navigation.</p>\n<p>My <code>serve.js</code> content is:</p>\n<pre class=\"lang-js prettyprint-override\"><code>// index.html and its contents are inside the `html` folder\n// and the server.js is located on the same path as the `html` folder.\nvar express = require('express'),\n  path = require('path'),\n  fs = require('fs');\nvar compression = require('compression');\nvar app = express();\nvar staticRoot = __dirname + '/html/';\nvar env = process.env.NODE_ENV || 'production';\n\napp.set('port', (process.env.PORT || 3002));\n\napp.use(compression());\n/* other middleware */\n\n/* place any backend routes you have here */\n\napp.use(function (req, res, next) {\n  //if the request is not html then move along\n  var accept = req.accepts('html', 'json', 'xml');\n  if (accept !== 'html') {\n    return next();\n  }\n  // if the request has a '.' assume that it's for a file, move along\n  var ext = path.extname(req.path);\n  if (ext !== '') {\n    return next();\n  }\n  fs.createReadStream(staticRoot + 'index.html').pipe(res);\n});\n\napp.use(express.static(staticRoot));\n\n/**\n* Redirect to index.html\n*/\napp.route('/*').get(function (req, res) {\n  return res.sendFile(path.join(staticRoot + 'index.html'));\n});\n\n\napp.listen(app.get('port'), function () {\n  console.log('app running on port', app.get('port'));\n});\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 10537452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0ee0884b4430d772125a1da36beaac8?s=128&d=identicon&r=PG&f=1", "display_name": "codechavez", "link": "https://stackoverflow.com/users/10537452/codechavez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1494, "favorite_count": 0, "accepted_answer_id": 54333337, "answer_count": 2, "score": 0, "last_activity_date": 1615309318, "creation_date": 1548265030, "question_id": 54332757, "link": "https://stackoverflow.com/questions/54332757/how-to-fix-cannot-get-in-angular-when-refreshing-the-page", "title": "How to fix Cannot GET / in Angular when refreshing the page?", "body": "<p>I'm new in the Angular world. I followed Angular.io guide for routing my application and its many pages. The issue I have is when I hit the refresh button in the browser. I a \"Cannot GET /dashboard\" I have been researching about this issue and I do have the href=\"/\" in placed. </p>\n\n<p>This is my routing file</p>\n\n<pre><code>const routes: Routes = [\n  { path: 'login', component: LoginComponent },\n  { path: '', component: LoginComponent },\n  { path: 'dashboard', component: DashboardComponent, canActivate: [AuthGuard] },\n\n  { path: '**', redirectTo: '', pathMatch: 'full' }\n];\n\n@NgModule({\n  imports: [\n    RouterModule.forRoot(\n      routes,\n      {\n        enableTracing: false\n      }\n    )],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n</code></pre>\n\n<p>As mentioned before, I can get to the url but when I refresh the page I get the \"Cannot GET /dashboard\" Is there anything special I need to do to fix this issue? How to fix Cannot GET / in Angular when refreshing the page?</p>\n"}, {"tags": ["javascript", "json", "typescript", "object"], "comments": [{"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "edited": false, "score": 0, "creation_date": 1548264787, "post_id": 54332660, "comment_id": 95483098, "body": "Effort till now ? code please ?"}, {"owner": {"reputation": 27, "user_id": 7691062, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210492339857143/picture?type=large", "display_name": "Andrea Lovati", "link": "https://stackoverflow.com/users/7691062/andrea-lovati"}, "reply_to_user": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "edited": false, "score": 0, "creation_date": 1548265817, "post_id": 54332660, "comment_id": 95483537, "body": "@CodeManiac i added further explanation"}], "answers": [{"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": true, "score": 1, "last_activity_date": 1548267359, "creation_date": 1548267359, "answer_id": 54333322, "question_id": 54332660, "link": "https://stackoverflow.com/questions/54332660/how-to-modify-the-structure-of-this-object-by-using-the-date-as-key-obj-and-pair/54333322#54333322", "title": "How to modify the structure of this object by using the date as key obj and pair to it all activity completed on the same date", "body": "<p>You could reduce the array by iterating the <code>activities</code> array and return an object with date as keys.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data = [{ activities: [{ \"05/01/2019\": { completed: true, frequency: [7, 6, 2, 1], description: \"Walk 100km\", color: \"#E97825\" } }, { \"07/01/2019\": { completed: true, frequency: [7, 6, 2, 1], description: \"Walk 100km\", color: \"#E97825\" } }, { \"08/01/2019\": { completed: true, frequency: [7, 6, 2, 1], description: \"Walk 100km\", color: \"#E97825\" } }, { \"12/01/2019\": { completed: true, frequency: [7, 6, 2, 1], description: \"Walk 100km\", color: \"#E97825\" } }, { \"14/01/2019\": { completed: false, frequency: [7, 6, 2, 1], description: \"Walk 100km\", color: \"#E97825\" } }, { \"15/01/2019\": { completed: true, frequency: [7, 6, 2, 1], description: \"Walk 100km\", color: \"#E97825\" } }, { \"19/01/2019\": { completed: true, frequency: [7, 6, 2, 1], description: \"Walk 100km\", color: \"#E97825\" } }, { \"21/01/2019\": { completed: false, frequency: [7, 6, 2, 1], description: \"Walk 100km\", color: \"#E97825\" } }] }, { activities: [{ \"02/01/2019\": { completed: true, frequency: [5, 4, 3, 1], description: \"Drink 4lt Water\", color: \"#ED1E24\" } }, { \"03/01/2019\": { completed: true, frequency: [5, 4, 3, 1], description: \"Drink 4lt Water\", color: \"#ED1E24\" } }, { \"04/01/2019\": { completed: false, frequency: [5, 4, 3, 1], description: \"Drink 4lt Water\", color: \"#ED1E24\" } }, { \"07/01/2019\": { completed: false, frequency: [5, 4, 3, 1], description: \"Drink 4lt Water\", color: \"#ED1E24\" } }, { \"09/01/2019\": { completed: true, frequency: [5, 4, 3, 1], description: \"Drink 4lt Water\", color: \"#ED1E24\" } }, { \"10/01/2019\": { completed: false, frequency: [5, 4, 3, 1], description: \"Drink 4lt Water\", color: \"#ED1E24\" } }, { \"11/01/2019\": { completed: false, frequency: [5, 4, 3, 1], description: \"Drink 4lt Water\", color: \"#ED1E24\" } }, { \"14/01/2019\": { completed: false, frequency: [5, 4, 3, 1], description: \"Drink 4lt Water\", color: \"#ED1E24\" } }, { \"16/01/2019\": { completed: true, frequency: [5, 4, 3, 1], description: \"Drink 4lt Water\", color: \"#ED1E24\" } }, { \"17/01/2019\": { completed: false, frequency: [5, 4, 3, 1], description: \"Drink 4lt Water\", color: \"#ED1E24\" } }, { \"18/01/2019\": { completed: true, frequency: [5, 4, 3, 1], description: \"Drink 4lt Water\", color: \"#ED1E24\" } }, { \"21/01/2019\": { completed: true, frequency: [5, 4, 3, 1], description: \"Drink 4lt Water\", color: \"#ED1E24\" } }] }, { activities: [{ \"02/01/2019\": { completed: false, frequency: [7, 6, 5, 4, 3, 2, 1], description: \"Study 2\", color: \"#F4ED59\" } }, { \"03/01/2019\": { completed: true, frequency: [7, 6, 5, 4, 3, 2, 1], description: \"Study 2\", color: \"#F4ED59\" } }, { \"04/01/2019\": { completed: true, frequency: [7, 6, 5, 4, 3, 2, 1], description: \"Study 2\", color: \"#F4ED59\" } }, { \"05/01/2019\": { completed: true, frequency: [7, 6, 5, 4, 3, 2, 1], description: \"Study 2\", color: \"#F4ED59\" } }, { \"07/01/2019\": { completed: true, frequency: [7, 6, 5, 4, 3, 2, 1], description: \"Study 2\", color: \"#F4ED59\" } }, { \"08/01/2019\": { completed: false, frequency: [7, 6, 5, 4, 3, 2, 1], description: \"Study 2\", color: \"#F4ED59\" } }, { \"09/01/2019\": { completed: true, frequency: [7, 6, 5, 4, 3, 2, 1], description: \"Study 2\", color: \"#F4ED59\" } }, { \"10/01/2019\": { completed: true, frequency: [7, 6, 5, 4, 3, 2, 1], description: \"Study 2\", color: \"#F4ED59\" } }, { \"11/01/2019\": { completed: false, frequency: [7, 6, 5, 4, 3, 2, 1], description: \"Study 2\", color: \"#F4ED59\" } }, { \"12/01/2019\": { completed: true, frequency: [7, 6, 5, 4, 3, 2, 1], description: \"Study 2\", color: \"#F4ED59\" } }, { \"14/01/2019\": { completed: true, frequency: [7, 6, 5, 4, 3, 2, 1], description: \"Study 2\", color: \"#F4ED59\" } }, { \"15/01/2019\": { completed: false, frequency: [7, 6, 5, 4, 3, 2, 1], description: \"Study 2\", color: \"#F4ED59\" } }, { \"16/01/2019\": { completed: true, frequency: [7, 6, 5, 4, 3, 2, 1], description: \"Study 2\", color: \"#F4ED59\" } }, { \"17/01/2019\": { completed: false, frequency: [7, 6, 5, 4, 3, 2, 1], description: \"Study 2\", color: \"#F4ED59\" } }, { \"18/01/2019\": { completed: true, frequency: [7, 6, 5, 4, 3, 2, 1], description: \"Study 2\", color: \"#F4ED59\" } }, { \"19/01/2019\": { completed: false, frequency: [7, 6, 5, 4, 3, 2, 1], description: \"Study 2\", color: \"#F4ED59\" } }, { \"21/01/2019\": { completed: false, frequency: [7, 6, 5, 4, 3, 2, 1], description: \"Study 2\", color: \"#F4ED59\" } }] }, { activities: [{ \"03/01/2019\": { completed: true, frequency: [7, 6, 5, 4], description: \"Home drinking food2\", color: \"#00A651\" } }, { \"04/01/2019\": { completed: true, frequency: [7, 6, 5, 4], description: \"Home drinking food2\", color: \"#00A651\" } }, { \"05/01/2019\": { completed: true, frequency: [7, 6, 5, 4], description: \"Home drinking food2\", color: \"#00A651\" } }, { \"10/01/2019\": { completed: true, frequency: [7, 6, 5, 4], description: \"Home drinking food2\", color: \"#00A651\" } }, { \"11/01/2019\": { completed: true, frequency: [7, 6, 5, 4], description: \"Home drinking food2\", color: \"#00A651\" } }] }],\r\n    result = data.reduce((r, { activities }) =&gt; {\r\n        activities.forEach(o =&gt; Object\r\n            .entries(o)\r\n            .forEach(([k, v]) =&gt; (r[k] = r[k] || []).push(v))\r\n        );\r\n        return r;\r\n    }, {});\r\n\r\nconsole.log(result);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 27, "user_id": 7691062, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210492339857143/picture?type=large", "display_name": "Andrea Lovati", "link": "https://stackoverflow.com/users/7691062/andrea-lovati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 54333322, "answer_count": 1, "score": 1, "last_activity_date": 1548267359, "creation_date": 1548264694, "last_edit_date": 1548265784, "question_id": 54332660, "link": "https://stackoverflow.com/questions/54332660/how-to-modify-the-structure-of-this-object-by-using-the-date-as-key-obj-and-pair", "title": "How to modify the structure of this object by using the date as key obj and pair to it all activity completed on the same date", "body": "<p>I got this kind of object </p>\n\n<pre><code>  {\n    \"activities\": [\n      {\n        \"05/01/2019\": {\n          \"completed\": true,\n          \"frequency\": [\n            7,\n            6,\n            2,\n            1\n          ],\n          \"description\": \"Walk 100km\",\n          \"color\": \"#E97825\"\n        }\n      },\n      {\n        \"07/01/2019\": {\n          \"completed\": true,\n          \"frequency\": [\n            7,\n            6,\n            2,\n            1\n          ],\n          \"description\": \"Walk 100km\",\n          \"color\": \"#E97825\"\n        }\n      },\n      {\n        \"08/01/2019\": {\n          \"completed\": true,\n          \"frequency\": [\n            7,\n            6,\n            2,\n            1\n          ],\n          \"description\": \"Walk 100km\",\n          \"color\": \"#E97825\"\n        }\n      },\n      {\n        \"12/01/2019\": {\n          \"completed\": true,\n          \"frequency\": [\n            7,\n            6,\n            2,\n            1\n          ],\n          \"description\": \"Walk 100km\",\n          \"color\": \"#E97825\"\n        }\n      },\n      {\n        \"14/01/2019\": {\n          \"completed\": false,\n          \"frequency\": [\n            7,\n            6,\n            2,\n            1\n          ],\n          \"description\": \"Walk 100km\",\n          \"color\": \"#E97825\"\n        }\n      },\n      {\n        \"15/01/2019\": {\n          \"completed\": true,\n          \"frequency\": [\n            7,\n            6,\n            2,\n            1\n          ],\n          \"description\": \"Walk 100km\",\n          \"color\": \"#E97825\"\n        }\n      },\n      {\n        \"19/01/2019\": {\n          \"completed\": true,\n          \"frequency\": [\n            7,\n            6,\n            2,\n            1\n          ],\n          \"description\": \"Walk 100km\",\n          \"color\": \"#E97825\"\n        }\n      },\n      {\n        \"21/01/2019\": {\n          \"completed\": false,\n          \"frequency\": [\n            7,\n            6,\n            2,\n            1\n          ],\n          \"description\": \"Walk 100km\",\n          \"color\": \"#E97825\"\n        }\n      }\n    ]\n  },\n  {\n    \"activities\": [\n      {\n        \"02/01/2019\": {\n          \"completed\": true,\n          \"frequency\": [\n            5,\n            4,\n            3,\n            1\n          ],\n          \"description\": \"Drink 4lt Water\",\n          \"color\": \"#ED1E24\"\n        }\n      },\n      {\n        \"03/01/2019\": {\n          \"completed\": true,\n          \"frequency\": [\n            5,\n            4,\n            3,\n            1\n          ],\n          \"description\": \"Drink 4lt Water\",\n          \"color\": \"#ED1E24\"\n        }\n      },\n      {\n        \"04/01/2019\": {\n          \"completed\": false,\n          \"frequency\": [\n            5,\n            4,\n            3,\n            1\n          ],\n          \"description\": \"Drink 4lt Water\",\n          \"color\": \"#ED1E24\"\n        }\n      },\n      {\n        \"07/01/2019\": {\n          \"completed\": false,\n          \"frequency\": [\n            5,\n            4,\n            3,\n            1\n          ],\n          \"description\": \"Drink 4lt Water\",\n          \"color\": \"#ED1E24\"\n        }\n      },\n      {\n        \"09/01/2019\": {\n          \"completed\": true,\n          \"frequency\": [\n            5,\n            4,\n            3,\n            1\n          ],\n          \"description\": \"Drink 4lt Water\",\n          \"color\": \"#ED1E24\"\n        }\n      },\n      {\n        \"10/01/2019\": {\n          \"completed\": false,\n          \"frequency\": [\n            5,\n            4,\n            3,\n            1\n          ],\n          \"description\": \"Drink 4lt Water\",\n          \"color\": \"#ED1E24\"\n        }\n      },\n      {\n        \"11/01/2019\": {\n          \"completed\": false,\n          \"frequency\": [\n            5,\n            4,\n            3,\n            1\n          ],\n          \"description\": \"Drink 4lt Water\",\n          \"color\": \"#ED1E24\"\n        }\n      },\n      {\n        \"14/01/2019\": {\n          \"completed\": false,\n          \"frequency\": [\n            5,\n            4,\n            3,\n            1\n          ],\n          \"description\": \"Drink 4lt Water\",\n          \"color\": \"#ED1E24\"\n        }\n      },\n      {\n        \"16/01/2019\": {\n          \"completed\": true,\n          \"frequency\": [\n            5,\n            4,\n            3,\n            1\n          ],\n          \"description\": \"Drink 4lt Water\",\n          \"color\": \"#ED1E24\"\n        }\n      },\n      {\n        \"17/01/2019\": {\n          \"completed\": false,\n          \"frequency\": [\n            5,\n            4,\n            3,\n            1\n          ],\n          \"description\": \"Drink 4lt Water\",\n          \"color\": \"#ED1E24\"\n        }\n      },\n      {\n        \"18/01/2019\": {\n          \"completed\": true,\n          \"frequency\": [\n            5,\n            4,\n            3,\n            1\n          ],\n          \"description\": \"Drink 4lt Water\",\n          \"color\": \"#ED1E24\"\n        }\n      },\n      {\n        \"21/01/2019\": {\n          \"completed\": true,\n          \"frequency\": [\n            5,\n            4,\n            3,\n            1\n          ],\n          \"description\": \"Drink 4lt Water\",\n          \"color\": \"#ED1E24\"\n        }\n      }\n    ]\n  },\n  {\n    \"activities\": [\n      {\n        \"02/01/2019\": {\n          \"completed\": false,\n          \"frequency\": [\n            7,\n            6,\n            5,\n            4,\n            3,\n            2,\n            1\n          ],\n          \"description\": \"Study 2\",\n          \"color\": \"#F4ED59\"\n        }\n      },\n      {\n        \"03/01/2019\": {\n          \"completed\": true,\n          \"frequency\": [\n            7,\n            6,\n            5,\n            4,\n            3,\n            2,\n            1\n          ],\n          \"description\": \"Study 2\",\n          \"color\": \"#F4ED59\"\n        }\n      },\n      {\n        \"04/01/2019\": {\n          \"completed\": true,\n          \"frequency\": [\n            7,\n            6,\n            5,\n            4,\n            3,\n            2,\n            1\n          ],\n          \"description\": \"Study 2\",\n          \"color\": \"#F4ED59\"\n        }\n      },\n      {\n        \"05/01/2019\": {\n          \"completed\": true,\n          \"frequency\": [\n            7,\n            6,\n            5,\n            4,\n            3,\n            2,\n            1\n          ],\n          \"description\": \"Study 2\",\n          \"color\": \"#F4ED59\"\n        }\n      },\n      {\n        \"07/01/2019\": {\n          \"completed\": true,\n          \"frequency\": [\n            7,\n            6,\n            5,\n            4,\n            3,\n            2,\n            1\n          ],\n          \"description\": \"Study 2\",\n          \"color\": \"#F4ED59\"\n        }\n      },\n      {\n        \"08/01/2019\": {\n          \"completed\": false,\n          \"frequency\": [\n            7,\n            6,\n            5,\n            4,\n            3,\n            2,\n            1\n          ],\n          \"description\": \"Study 2\",\n          \"color\": \"#F4ED59\"\n        }\n      },\n      {\n        \"09/01/2019\": {\n          \"completed\": true,\n          \"frequency\": [\n            7,\n            6,\n            5,\n            4,\n            3,\n            2,\n            1\n          ],\n          \"description\": \"Study 2\",\n          \"color\": \"#F4ED59\"\n        }\n      },\n      {\n        \"10/01/2019\": {\n          \"completed\": true,\n          \"frequency\": [\n            7,\n            6,\n            5,\n            4,\n            3,\n            2,\n            1\n          ],\n          \"description\": \"Study 2\",\n          \"color\": \"#F4ED59\"\n        }\n      },\n      {\n        \"11/01/2019\": {\n          \"completed\": false,\n          \"frequency\": [\n            7,\n            6,\n            5,\n            4,\n            3,\n            2,\n            1\n          ],\n          \"description\": \"Study 2\",\n          \"color\": \"#F4ED59\"\n        }\n      },\n      {\n        \"12/01/2019\": {\n          \"completed\": true,\n          \"frequency\": [\n            7,\n            6,\n            5,\n            4,\n            3,\n            2,\n            1\n          ],\n          \"description\": \"Study 2\",\n          \"color\": \"#F4ED59\"\n        }\n      },\n      {\n        \"14/01/2019\": {\n          \"completed\": true,\n          \"frequency\": [\n            7,\n            6,\n            5,\n            4,\n            3,\n            2,\n            1\n          ],\n          \"description\": \"Study 2\",\n          \"color\": \"#F4ED59\"\n        }\n      },\n      {\n        \"15/01/2019\": {\n          \"completed\": false,\n          \"frequency\": [\n            7,\n            6,\n            5,\n            4,\n            3,\n            2,\n            1\n          ],\n          \"description\": \"Study 2\",\n          \"color\": \"#F4ED59\"\n        }\n      },\n      {\n        \"16/01/2019\": {\n          \"completed\": true,\n          \"frequency\": [\n            7,\n            6,\n            5,\n            4,\n            3,\n            2,\n            1\n          ],\n          \"description\": \"Study 2\",\n          \"color\": \"#F4ED59\"\n        }\n      },\n      {\n        \"17/01/2019\": {\n          \"completed\": false,\n          \"frequency\": [\n            7,\n            6,\n            5,\n            4,\n            3,\n            2,\n            1\n          ],\n          \"description\": \"Study 2\",\n          \"color\": \"#F4ED59\"\n        }\n      },\n      {\n        \"18/01/2019\": {\n          \"completed\": true,\n          \"frequency\": [\n            7,\n            6,\n            5,\n            4,\n            3,\n            2,\n            1\n          ],\n          \"description\": \"Study 2\",\n          \"color\": \"#F4ED59\"\n        }\n      },\n      {\n        \"19/01/2019\": {\n          \"completed\": false,\n          \"frequency\": [\n            7,\n            6,\n            5,\n            4,\n            3,\n            2,\n            1\n          ],\n          \"description\": \"Study 2\",\n          \"color\": \"#F4ED59\"\n        }\n      },\n      {\n        \"21/01/2019\": {\n          \"completed\": false,\n          \"frequency\": [\n            7,\n            6,\n            5,\n            4,\n            3,\n            2,\n            1\n          ],\n          \"description\": \"Study 2\",\n          \"color\": \"#F4ED59\"\n        }\n      }\n    ]\n  },\n  {\n    \"activities\": [\n      {\n        \"03/01/2019\": {\n          \"completed\": true,\n          \"frequency\": [\n            7,\n            6,\n            5,\n            4\n          ],\n          \"description\": \"Home drinking food2\",\n          \"color\": \"#00A651\"\n        }\n      },\n      {\n        \"04/01/2019\": {\n          \"completed\": true,\n          \"frequency\": [\n            7,\n            6,\n            5,\n            4\n          ],\n          \"description\": \"Home drinking food2\",\n          \"color\": \"#00A651\"\n        }\n      },\n      {\n        \"05/01/2019\": {\n          \"completed\": true,\n          \"frequency\": [\n            7,\n            6,\n            5,\n            4\n          ],\n          \"description\": \"Home drinking food2\",\n          \"color\": \"#00A651\"\n        }\n      },\n      {\n        \"10/01/2019\": {\n          \"completed\": true,\n          \"frequency\": [\n            7,\n            6,\n            5,\n            4\n          ],\n          \"description\": \"Home drinking food2\",\n          \"color\": \"#00A651\"\n        }\n      },\n      {\n        \"11/01/2019\": {\n          \"completed\": true,\n          \"frequency\": [\n            7,\n            6,\n            5,\n            4\n          ],\n          \"description\": \"Home drinking food2\",\n          \"color\": \"#00A651\"\n        }\n      ...etc etc\n</code></pre>\n\n<p>what i am trying to achieve is an object that look like this</p>\n\n<pre><code>    \"05/01/2019\": [\n      {\n        \"completed\": true,\n        \"frequency\": [ 7,6,2,1],\n        \"description\": \"Walk 100km\",\n        \"color\": \"#E97825\"\n      },\n      {\n        \"completed\": false,\n        \"frequency\": [ 7,2,1],\n        \"description\": \"Find yourself\",\n        \"color\": \"#E97983\"\n      },\n      {\n        \"completed\": true,\n        \"frequency\": [ 7,6,2],\n        \"description\": \"Do stuff\",\n        \"color\": \"#ED1E24\"\n      }\n    ]\n  }\n</code></pre>\n\n<p>I need to group all the object that got the same date under a key which will be the date itself. Any Idea how to approach this, basically i got stuck because i am not really good at js and i am not really able to figure this out.</p>\n\n<h1>Edit</h1>\n\n<p>I need clarify the fact that the fist object is already my attempt to create the desired output. \nthe original object that comes from the db got this kind of structure, (sorry is really long..) </p>\n\n<pre><code>  {\n    \"Created_at\": 1547491716787,\n    \"Frequency\": {\n      \"wrapperName\": \"Set\",\n      \"values\": [\n        7,\n        6,\n        2,\n        1\n      ],\n      \"type\": \"Number\"\n    },\n    \"IsActive\": true,\n    \"Description\": \"Walk 100km\",\n    \"Color\": \"#E97825\",\n    \"Task_id\": \"00397030-182d-11e9-957b-79c872c75fe1\",\n    \"Username\": \"AndreaLovati\",\n    \"completed\": [\n      {\n        \"Completed_task_id\": \"31d9bf80-1a5f-11e9-8c36-a5a8bf4d0952\",\n        \"Task_id\": \"00397030-182d-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"05/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"31bff5f0-1a5f-11e9-bd59-ed2d765dde0f\",\n        \"Task_id\": \"00397030-182d-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"07/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"32e67490-1a5f-11e9-aefe-517fcd3f43a2\",\n        \"Task_id\": \"00397030-182d-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"08/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"336393d0-1a5f-11e9-a8eb-fdd6c2427f95\",\n        \"Task_id\": \"00397030-182d-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"12/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"33689ce0-1a5f-11e9-8a8d-0df9a14e8e3b\",\n        \"Task_id\": \"00397030-182d-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"14/01/2019, 00:00:00\",\n        \"Completed\": false,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"338d14d0-1a5f-11e9-accb-81b1bf6e645f\",\n        \"Task_id\": \"00397030-182d-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"15/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"33a8da30-1a5f-11e9-9ee5-71b9c8182046\",\n        \"Task_id\": \"00397030-182d-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"19/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"339726f0-1a5f-11e9-a0ab-fd3515f202f3\",\n        \"Task_id\": \"00397030-182d-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"21/01/2019, 00:00:00\",\n        \"Completed\": false,\n        \"Username\": \"AndreaLovati\"\n      }\n    ]\n  },\n  {\n    \"Created_at\": 1547491778508,\n    \"Frequency\": {\n      \"wrapperName\": \"Set\",\n      \"values\": [\n        5,\n        4,\n        3,\n        1\n      ],\n      \"type\": \"Number\"\n    },\n    \"IsActive\": true,\n    \"Description\": \"Drink 4lt Water\",\n    \"Color\": \"#ED1E24\",\n    \"Task_id\": \"250350c0-182d-11e9-957b-79c872c75fe1\",\n    \"Username\": \"AndreaLovati\",\n    \"completed\": [\n      {\n        \"Completed_task_id\": \"31d6d950-1a5f-11e9-aeb1-6125a3683c89\",\n        \"Task_id\": \"250350c0-182d-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"02/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"31d97160-1a5f-11e9-b63e-8b3f3f6ae4fb\",\n        \"Task_id\": \"250350c0-182d-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"03/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"31dcf3d0-1a5f-11e9-b592-77559d6dddd3\",\n        \"Task_id\": \"250350c0-182d-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"04/01/2019, 00:00:00\",\n        \"Completed\": false,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"31be2130-1a5f-11e9-8f9d-6d0e82f25331\",\n        \"Task_id\": \"250350c0-182d-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"07/01/2019, 00:00:00\",\n        \"Completed\": false,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"3382dba0-1a5f-11e9-a03e-8f601bb8fe01\",\n        \"Task_id\": \"250350c0-182d-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"09/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"33511d40-1a5f-11e9-a1d8-25703f31cf16\",\n        \"Task_id\": \"250350c0-182d-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"10/01/2019, 00:00:00\",\n        \"Completed\": false,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"33235680-1a5f-11e9-a822-7dea3c8b1cdc\",\n        \"Task_id\": \"250350c0-182d-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"11/01/2019, 00:00:00\",\n        \"Completed\": false,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"331bb560-1a5f-11e9-8452-df3432067ab0\",\n        \"Task_id\": \"250350c0-182d-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"14/01/2019, 00:00:00\",\n        \"Completed\": false,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"32ee63d0-1a5f-11e9-801f-1de09ba0f6cc\",\n        \"Task_id\": \"250350c0-182d-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"16/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"33645720-1a5f-11e9-8ada-e3512555d67b\",\n        \"Task_id\": \"250350c0-182d-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"17/01/2019, 00:00:00\",\n        \"Completed\": false,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"33abc060-1a5f-11e9-9671-a365f84c4552\",\n        \"Task_id\": \"250350c0-182d-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"18/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"3206c2f0-1a5f-11e9-a2ce-f322ac0dcc79\",\n        \"Task_id\": \"250350c0-182d-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"21/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      }\n    ]\n  },\n  {\n    \"Created_at\": 1547492228254,\n    \"Frequency\": {\n      \"wrapperName\": \"Set\",\n      \"values\": [\n        7,\n        6,\n        5,\n        4,\n        3,\n        2,\n        1\n      ],\n      \"type\": \"Number\"\n    },\n    \"IsActive\": true,\n    \"Description\": \"Study 2\",\n    \"Color\": \"#F4ED59\",\n    \"Task_id\": \"31151be0-182e-11e9-957b-79c872c75fe1\",\n    \"Username\": \"AndreaLovati\",\n    \"completed\": [\n      {\n        \"Completed_task_id\": \"31da34b0-1a5f-11e9-b1ba-9b60ce34ea57\",\n        \"Task_id\": \"31151be0-182e-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"02/01/2019, 00:00:00\",\n        \"Completed\": false,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"31d0e5e0-1a5f-11e9-be1e-03fd7ac77105\",\n        \"Task_id\": \"31151be0-182e-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"03/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"31c06b20-1a5f-11e9-9df4-6908b490dc95\",\n        \"Task_id\": \"31151be0-182e-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"04/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"31bd36d0-1a5f-11e9-8156-339f41cde74d\",\n        \"Task_id\": \"31151be0-182e-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"05/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"32025620-1a5f-11e9-949e-edeb36aca5cd\",\n        \"Task_id\": \"31151be0-182e-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"07/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"3340c990-1a5f-11e9-8923-0f0234fe0ad2\",\n        \"Task_id\": \"31151be0-182e-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"08/01/2019, 00:00:00\",\n        \"Completed\": false,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"32c298e0-1a5f-11e9-92dc-d7369261d974\",\n        \"Task_id\": \"31151be0-182e-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"09/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"3320e580-1a5f-11e9-88e3-b736a56ec097\",\n        \"Task_id\": \"31151be0-182e-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"10/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"3371ebb0-1a5f-11e9-b8f4-3b7fe5f97947\",\n        \"Task_id\": \"31151be0-182e-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"11/01/2019, 00:00:00\",\n        \"Completed\": false,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"331e2660-1a5f-11e9-8951-2f2da8116cd5\",\n        \"Task_id\": \"31151be0-182e-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"12/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"32ed2b50-1a5f-11e9-9f04-0d04d8ede36f\",\n        \"Task_id\": \"31151be0-182e-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"14/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"331bb560-1a5f-11e9-ba08-bd99c24f634b\",\n        \"Task_id\": \"31151be0-182e-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"15/01/2019, 00:00:00\",\n        \"Completed\": false,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"337d5d60-1a5f-11e9-afb3-cfc41a129f15\",\n        \"Task_id\": \"31151be0-182e-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"16/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"336d7ee0-1a5f-11e9-a6e3-e7565b2c3c7c\",\n        \"Task_id\": \"31151be0-182e-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"17/01/2019, 00:00:00\",\n        \"Completed\": false,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"338face0-1a5f-11e9-a008-217893cec5f7\",\n        \"Task_id\": \"31151be0-182e-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"18/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"33c080e0-1a5f-11e9-bcca-811b68c02182\",\n        \"Task_id\": \"31151be0-182e-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"19/01/2019, 00:00:00\",\n        \"Completed\": false,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"31f89220-1a5f-11e9-a698-011b3a104bfc\",\n        \"Task_id\": \"31151be0-182e-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"21/01/2019, 00:00:00\",\n        \"Completed\": false,\n        \"Username\": \"AndreaLovati\"\n      }\n    ]\n  },\n  {\n    \"Created_at\": 1547491542176,\n    \"Frequency\": {\n      \"wrapperName\": \"Set\",\n      \"values\": [\n        7,\n        6,\n        5,\n        4\n      ],\n      \"type\": \"Number\"\n    },\n    \"IsActive\": true,\n    \"Description\": \"Home drinking food2\",\n    \"Color\": \"#00A651\",\n    \"Task_id\": \"9825ea00-182c-11e9-957b-79c872c75fe1\",\n    \"Username\": \"AndreaLovati\",\n    \"completed\": [\n      {\n        \"Completed_task_id\": \"31d6d950-1a5f-11e9-bc07-6b5899edd081\",\n        \"Task_id\": \"9825ea00-182c-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"03/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"31c1a3a0-1a5f-11e9-ac63-67f77c25fdf1\",\n        \"Task_id\": \"9825ea00-182c-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"04/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"31cec300-1a5f-11e9-9451-ab6c747e6335\",\n        \"Task_id\": \"9825ea00-182c-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"05/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"330d3670-1a5f-11e9-9f17-c91078a7bd2b\",\n        \"Task_id\": \"9825ea00-182c-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"10/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"333f42f0-1a5f-11e9-8932-d73bbd49f102\",\n        \"Task_id\": \"9825ea00-182c-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"11/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"32b9e650-1a5f-11e9-926b-a152649220b1\",\n        \"Task_id\": \"9825ea00-182c-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"12/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"332133a0-1a5f-11e9-b732-678a06dfe98a\",\n        \"Task_id\": \"9825ea00-182c-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"17/01/2019, 00:00:00\",\n        \"Completed\": false,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"33b84380-1a5f-11e9-a0c4-ff4882b711ba\",\n        \"Task_id\": \"9825ea00-182c-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"18/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"3204c720-1a5f-11e9-9061-8d8d70edf707\",\n        \"Task_id\": \"9825ea00-182c-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"19/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      }\n    ]\n  },\n  {\n    \"Created_at\": 1547491574168,\n    \"Frequency\": {\n      \"wrapperName\": \"Set\",\n      \"values\": [\n        7,\n        4,\n        3,\n        2,\n        1\n      ],\n      \"type\": \"Number\"\n    },\n    \"IsActive\": true,\n    \"Description\": \"New habit 4\",\n    \"Color\": \"#912AD6\",\n    \"Task_id\": \"ab378180-182c-11e9-957b-79c872c75fe1\",\n    \"Username\": \"AndreaLovati\",\n    \"completed\": [\n      {\n        \"Completed_task_id\": \"31d97160-1a5f-11e9-83fe-19bc94478832\",\n        \"Task_id\": \"ab378180-182c-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"02/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"31d66420-1a5f-11e9-9704-4d0fbbc1f59d\",\n        \"Task_id\": \"ab378180-182c-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"03/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"320f0050-1a5f-11e9-b48d-1f1c58f69181\",\n        \"Task_id\": \"ab378180-182c-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"07/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"3294d220-1a5f-11e9-85cd-737db15f755b\",\n        \"Task_id\": \"ab378180-182c-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"08/01/2019, 00:00:00\",\n        \"Completed\": true,\n        \"Username\": \"AndreaLovati\"\n      },\n      {\n        \"Completed_task_id\": \"3323a4a0-1a5f-11e9-9e96-63fd5952ec24\",\n        \"Task_id\": \"ab378180-182c-11e9-957b-79c872c75fe1\",\n        \"Completed_at\": \"09/01/2019, 00:00:00\",\n        \"Completed\": false,\n        \"Username\": \"AndreaLovati\"\n      },\n etc..\n</code></pre>\n\n<p>what i have tried is this </p>\n\n<pre><code> this.formattedHabits = this.habitsComplete.map(item =&gt; ({\n        activities: item.completed.map(activity =&gt; ({\n          [activity.Completed_at]:{\n            completed: activity.Completed,\n            frequency: item.Frequency.values,\n            description: item.Description,\n            color: item.Color,\n          }\n          })),\n      }))\n</code></pre>\n\n<p>this code gave me as output the 1st object that i posted in the question.\nI hope this clarify the situation</p>\n"}, {"tags": ["typescript", "vue.js", "visual-studio-code"], "answers": [{"tags": [], "owner": {"reputation": 108, "user_id": 2515717, "user_type": "registered", "profile_image": "https://graph.facebook.com/519416132/picture?type=large", "display_name": "Markus Nordstr&#248;nen", "link": "https://stackoverflow.com/users/2515717/markus-nordstr%c3%b8nen"}, "is_accepted": false, "score": 0, "last_activity_date": 1548268092, "creation_date": 1548268092, "answer_id": 54333507, "question_id": 54332386, "link": "https://stackoverflow.com/questions/54332386/how-to-fix-property-xx-does-not-exist-on-type-combinedvueinstance-errors-in-v/54333507#54333507", "title": "How to fix &quot;Property XX does not exist on type &#39;CombinedVueInstance&quot; errors in VSCode? (Vue with Typescript)", "body": "<p>Seems the issue was with the return statement in my mounted() stage. Removing that return (probably something leftover from an example I was using) solved the problem.</p>\n\n<pre><code>mounted() {\n        // this works\n        this.loadProviderList();\n}\n</code></pre>\n\n<p>Still, strange that the environment changed behaviour from one day to the next, and that it compiled - might never get an answer to that :)</p>\n"}, {"comments": [{"owner": {"reputation": 108, "user_id": 5352635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9990982b1d75a018a4b5ff3987064bea?s=128&d=identicon&r=PG&f=1", "display_name": "ak22", "link": "https://stackoverflow.com/users/5352635/ak22"}, "edited": false, "score": 0, "creation_date": 1601556622, "post_id": 63744530, "comment_id": 113448490, "body": "Had the same issue. Probably started happening after VS Code update or an npm package update. Tried disabling and reloading Vetur. It seemed to work at first but then the squiggly lines came back."}, {"owner": {"reputation": 108, "user_id": 5352635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9990982b1d75a018a4b5ff3987064bea?s=128&d=identicon&r=PG&f=1", "display_name": "ak22", "link": "https://stackoverflow.com/users/5352635/ak22"}, "edited": false, "score": 0, "creation_date": 1601557622, "post_id": 63744530, "comment_id": 113448995, "body": "While reloading didin&#39;t work what did was disabling Vetur-&gt;Validation:Interpolation in VSCode settings."}], "tags": [], "owner": {"reputation": 21, "user_id": 11542064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZVGg8.jpg?s=128&g=1", "display_name": "troglobyte", "link": "https://stackoverflow.com/users/11542064/troglobyte"}, "is_accepted": false, "score": 2, "last_activity_date": 1599235316, "creation_date": 1599235316, "answer_id": 63744530, "question_id": 54332386, "link": "https://stackoverflow.com/questions/54332386/how-to-fix-property-xx-does-not-exist-on-type-combinedvueinstance-errors-in-v/63744530#63744530", "title": "How to fix &quot;Property XX does not exist on type &#39;CombinedVueInstance&quot; errors in VSCode? (Vue with Typescript)", "body": "<p>Came across this error at work today (Vue without TypeScript in VSCode).</p>\n<p>It also came out of nowhere for us, and in the end the culprit was just that the Vetur extension in VSCode needed to be reloaded.</p>\n"}, {"tags": [], "owner": {"reputation": 84, "user_id": 2458521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce656595b30e650c307b1d7529616328?s=128&d=identicon&r=PG", "display_name": "dev_hero", "link": "https://stackoverflow.com/users/2458521/dev-hero"}, "is_accepted": false, "score": 0, "last_activity_date": 1614265087, "last_edit_date": 1614265087, "creation_date": 1614187056, "answer_id": 66355708, "question_id": 54332386, "link": "https://stackoverflow.com/questions/54332386/how-to-fix-property-xx-does-not-exist-on-type-combinedvueinstance-errors-in-v/66355708#66355708", "title": "How to fix &quot;Property XX does not exist on type &#39;CombinedVueInstance&quot; errors in VSCode? (Vue with Typescript)", "body": "<p>In settings.json, set:</p>\n<pre><code>&quot;vetur.experimental.templateInterpolationService&quot;: false\n</code></pre>\n"}], "owner": {"reputation": 108, "user_id": 2515717, "user_type": "registered", "profile_image": "https://graph.facebook.com/519416132/picture?type=large", "display_name": "Markus Nordstr&#248;nen", "link": "https://stackoverflow.com/users/2515717/markus-nordstr%c3%b8nen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5916, "favorite_count": 0, "answer_count": 3, "score": 6, "last_activity_date": 1614265087, "creation_date": 1548263607, "question_id": 54332386, "link": "https://stackoverflow.com/questions/54332386/how-to-fix-property-xx-does-not-exist-on-type-combinedvueinstance-errors-in-v", "title": "How to fix &quot;Property XX does not exist on type &#39;CombinedVueInstance&quot; errors in VSCode? (Vue with Typescript)", "body": "<p>VS Code is reporting a lot of problems/red lines when editing my Vue Typescript files:</p>\n\n<p>Example error:</p>\n\n<pre><code>[ts] Property 'isLoading' does not exist on type 'CombinedVueInstance&lt;Vue, \nobject, &gt; object, object, Readonly&lt;Record&lt;never, any&gt;&gt;&gt;'. [2339]\n</code></pre>\n\n<p>The problem seems to come when I reference a property on \"this\", and all such references have a red line in the editor stating a variant of the error above. The problem is the same for both properties defined in Vue's data object and functions defined in methods.</p>\n\n<p>Now, there are two interesting aspects:</p>\n\n<ol>\n<li>I had no issue with these files until today. Yesterday, before shutting down, everything was working as intended. Restarting today I got this issue.</li>\n<li>The code compiles and runs. If I build the files using tsc, they compile nicely - and the application deploys and works as intended.</li>\n</ol>\n\n<p>Info about my setup:</p>\n\n<ul>\n<li>npm view typescript version gives me version 3.2.4</li>\n<li>Vue is at 2.5.22</li>\n<li>VS Code is at 1.30.2. </li>\n</ul>\n\n<p>tsconfig.js:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"lib\": [\n            \"es6\",\n            \"dom\"\n        ],\n        \"noImplicitAny\": true,\n        \"allowJs\": true,\n        \"target\": \"es5\",\n        \"strict\": true,\n        \"module\": \"es6\",\n        \"moduleResolution\": \"node\",\n        \"outDir\": \"../../../dist/public/js\",\n        \"sourceMap\": true\n    }\n}\n</code></pre>\n\n<p>I have tried the following: </p>\n\n<ul>\n<li>Reinstalling Typescript and Vue</li>\n<li>Restarting VS Code numerous times</li>\n<li>Restarting TSServer manually</li>\n<li>Restarting the computer</li>\n</ul>\n\n<p>I am now completely stumped - and hope someone can help me ...</p>\n\n<p>Code example below (all this. references have a red line in my VS Code):</p>\n\n<pre><code>import axios from \"axios\";\nimport Vue from \"vue\";\n\n// tslint:disable-next-line no-unused-expression\nnew Vue({\n    computed: {\n        hasProvider(): boolean {\n            // this line throw two errors\n            return this.isLoading === false &amp;&amp; this.providerList.length &gt; 0;\n        },\n    },\n    data() {\n        return {\n            description: \"\",\n            id: \"\",\n            isLoading: true,\n            name: \"\",\n            providerList: [],\n        };\n    },\n    el: \"#app\",\n    methods: {\n        loadProviderList() {\n            axios\n                .get(\"/api/provider/all\")\n                .then((res: any) =&gt; {\n                    // these lines throw an error\n                    this.providerList = res.data.items;\n                    this.isLoading = false;\n                })\n                .catch((err: any) =&gt; {\n                    // tslint:disable-next-line:no-console\n                    console.log(err);\n                });\n        }\n    },\n    mounted() {\n        // this line throw an error\n        return this.loadProviderList();\n    }\n});\n</code></pre>\n"}, {"tags": ["mongodb", "typescript"], "comments": [{"owner": {"reputation": 12097, "user_id": 1080064, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/100000753306178/picture?type=large", "display_name": "tkausl", "link": "https://stackoverflow.com/users/1080064/tkausl"}, "edited": false, "score": 0, "creation_date": 1548263309, "post_id": 54332257, "comment_id": 95482452, "body": "TypeScript doesn&#39;t know anything about the object you&#39;re getting from mongodb. Just add a type-assertion."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1548264018, "post_id": 54332257, "comment_id": 95482805, "body": "The generic type <code>T</code> that goes into <code>Promise&lt;T&gt;</code> should be the type of your <code>result</code> that you pass to <code>resolve()</code>."}], "owner": {"reputation": 42593, "user_id": 340688, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/46a6db74ccc3bf4e009f875283401c14?s=128&d=identicon&r=PG", "display_name": "ThomasReggi", "link": "https://stackoverflow.com/users/340688/thomasreggi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548263628, "creation_date": 1548263024, "last_edit_date": 1548263628, "question_id": 54332257, "link": "https://stackoverflow.com/questions/54332257/new-promise-not-allowing-required-types-from-mongo-callback", "title": "new Promise not allowing required types from mongo callback", "body": "<p>I have a function that reads from mongo and returns the operation as a promise. The issue I'm facing is that the collection in mongo has a <code>requiredProp</code> and <code>_id</code> that are <code>100%</code> in every record so they are not optional keys. Typescript for some reason is returning an error at runtime (below). I've tried to typescast <code>result</code> all the ways I know and nothing worked.</p>\n\n<p>The only thing that did work was adding <code>?</code> for both <code>_id</code> and <code>requiredProp</code>.</p>\n\n<p>Example:</p>\n\n<pre><code>export interface MongoRequest {\n  _id: MongoObjectId;\n  requiredProp: boolean;\n  optionalProp?: boolean;\n}\n\nasync function read (\n  query: MongoRequestQuery,\n  mongo: any,\n): Promise&lt;MongoRequest&gt; {\n  const m = mongo.collection(MongoCollections.REQUESTS);\n  return new Promise((resolve, reject) =&gt; {\n    try {\n      return m.findOne(query, (err, result) =&gt; {\n        if (err) return reject(err);\n        if (result === null) return reject(new Error(`null mongo ${MongoCollections.REQUESTS}`));\n        return resolve(result);\n      });\n    } catch (e) {\n      return reject(e);\n    }\n  });\n}\n\nsrc/MongoRequests.ts (142,5): Type '{}' is not assignable to type 'MongoRequest'.\n  Property '_id' is missing in type '{}'. (2322)\n</code></pre>\n\n<p>Why is it that typescript is returning this error at runtime? How can I have required properties in the mongo type?</p>\n"}, {"tags": ["typescript", "flowtype"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1548262688, "post_id": 54332156, "comment_id": 95482132, "body": "You mean, apart from <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#intersection-types\" rel=\"nofollow noreferrer\">intersections</a>?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 3, "creation_date": 1548262890, "post_id": 54332156, "comment_id": 95482232, "body": "If you really need spread as opposed to intersection (that is, you want to <i>overwrite</i> any colliding properties from <code>T</code>) you have to <a href=\"https://github.com/Microsoft/TypeScript/pull/13288#issuecomment-412230721\" rel=\"nofollow noreferrer\">build it yourself</a> with mapped and conditional types."}, {"owner": {"reputation": 285, "user_id": 1696899, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/25e65be1bf26d0c0972fe30e5f54516d?s=128&d=identicon&r=PG", "display_name": "Martin Broder", "link": "https://stackoverflow.com/users/1696899/martin-broder"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1548319466, "post_id": 54332156, "comment_id": 95500826, "body": "Thanks. That was it!"}], "answers": [{"tags": [], "owner": {"reputation": 578, "user_id": 2929851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6020d29e8659289aa274aee4a9e2283a?s=128&d=identicon&r=PG&f=1", "display_name": "Danie A", "link": "https://stackoverflow.com/users/2929851/danie-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1548264500, "creation_date": 1548264500, "answer_id": 54332617, "question_id": 54332156, "link": "https://stackoverflow.com/questions/54332156/equivalent-of-type-spread-from-flow-in-typescript/54332617#54332617", "title": "Equivalent of Type Spread from Flow in Typescript?", "body": "<p>It's not exactly what you're asking for but perhaps you simply mean extending? </p>\n\n<pre><code>interface A {\n  foo: string;\n}\ninterface B extends A {\n  bar: number;\n}\n\nconst x: B = {\n  foo: \"some\",\n  bar: 10\n};\n</code></pre>\n"}], "owner": {"reputation": 285, "user_id": 1696899, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/25e65be1bf26d0c0972fe30e5f54516d?s=128&d=identicon&r=PG", "display_name": "Martin Broder", "link": "https://stackoverflow.com/users/1696899/martin-broder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 111, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1548288389, "creation_date": 1548262639, "last_edit_date": 1548288389, "question_id": 54332156, "link": "https://stackoverflow.com/questions/54332156/equivalent-of-type-spread-from-flow-in-typescript", "title": "Equivalent of Type Spread from Flow in Typescript?", "body": "<p>In Flow we can do this:</p>\n\n<pre><code>type Props&lt;T&gt; = {\n  ...T,\n  other: string,\n}\n</code></pre>\n\n<p>Is there an equivalent inside typescript? I'm trying to convert my code to typescript, but some basic stuff like this is giving quite the headache. Couldn't find anything related to this anywhere.</p>\n"}, {"tags": [".net", "wpf", "typescript", "xaml", "binding"], "comments": [{"owner": {"reputation": 1853, "user_id": 3000189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0ed62cc80ccc0e44e55cdf75ff3a83c?s=128&d=identicon&r=PG&f=1", "display_name": "glenebob", "link": "https://stackoverflow.com/users/3000189/glenebob"}, "edited": false, "score": 0, "creation_date": 1548267753, "post_id": 54332117, "comment_id": 95484467, "body": "Can Validation.Errors be re-implemented to return a predictable type? If not, you&#39;ll likely need a type converter: <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/xaml-services/type-converters-for-xaml-overview\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/framework/xaml-services/&hellip;</a>"}, {"owner": {"reputation": 462, "user_id": 5272185, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c19a0dbde5767679f37b4c315400a361?s=128&d=identicon&r=PG&f=1", "display_name": "Johan", "link": "https://stackoverflow.com/users/5272185/johan"}, "reply_to_user": {"reputation": 1853, "user_id": 3000189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0ed62cc80ccc0e44e55cdf75ff3a83c?s=128&d=identicon&r=PG&f=1", "display_name": "glenebob", "link": "https://stackoverflow.com/users/3000189/glenebob"}, "edited": false, "score": 0, "creation_date": 1548335673, "post_id": 54332117, "comment_id": 95510381, "body": "Thanks I looked into a converter, but it was easier to use a DataTemplate Selector as Alex.Wei recommended below."}], "answers": [{"comments": [{"owner": {"reputation": 462, "user_id": 5272185, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c19a0dbde5767679f37b4c315400a361?s=128&d=identicon&r=PG&f=1", "display_name": "Johan", "link": "https://stackoverflow.com/users/5272185/johan"}, "edited": false, "score": 0, "creation_date": 1548335601, "post_id": 54341511, "comment_id": 95510323, "body": "Thanks it worked great. The type of Validation.Errors was of ValidationError and not String / List&lt;Strings&gt; but it was a no brainer to change your answer to work for that instead.  The items control did not accept an ItemTemplateSelector and using a DisplayMemberPath at the same time. I just removed the DisplaymemberPath from ItemsControl and let the DataTemplates bind to ErrorContent instead.  In my case I realized the Validation.Errors type was ValidationError so I had to change the selector class to look at the item&#39;s ErrorContent property instead."}], "tags": [], "owner": {"reputation": 1300, "user_id": 9250153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f3d55650526a7e58bb9739dda4a0cff?s=128&d=identicon&r=PG&f=1", "display_name": "Alex.Wei", "link": "https://stackoverflow.com/users/9250153/alex-wei"}, "is_accepted": true, "score": 1, "last_activity_date": 1548315471, "creation_date": 1548315471, "answer_id": 54341511, "question_id": 54332117, "link": "https://stackoverflow.com/questions/54332117/handle-different-content-in-xaml-binding/54341511#54341511", "title": "Handle different content in XAML binding", "body": "<p>First, you need to define two <code>DataTemplate</code>'s for both <code>String</code> and <code>List</code>. </p>\n\n<pre><code>&lt;DataTemplate x:Key=\"singleObject\"&gt;\n    &lt;TextBlock Text=\"{Binding}\"/&gt;\n&lt;/DataTemplate&gt;\n\n&lt;DataTemplate x:Key=\"collection\"&gt;\n    &lt;Listbox ItemsSource=\"{Binding}\"/&gt;\n&lt;/DataTemplate&gt;\n</code></pre>\n\n<p>Then implements a <code>DataTemplateSelector</code> class and declare it as resource.</p>\n\n<pre><code>public class MyDataTemplateSelector : DataTemplateSelector\n{\n    public override DataTemplate\n        SelectTemplate(object item, DependencyObject container)\n    {\n        FrameworkElement element = container as FrameworkElement;\n\n        if (element != null &amp;&amp; item != null)\n        {\n            var ie = item as IEnumerable;\n            if (ie == null)\n                return\n                    element.FindResource(\"singleObject\") as DataTemplate;\n            else\n                return\n                    element.FindResource(\"collection\") as DataTemplate;\n        }\n\n        return null;\n    }\n}\n\n&lt;right namespace prefix:MyDataTemplateSelector x:Key=\"myDataTemplateSelector\"/&gt;\n</code></pre>\n\n<p>Finally, set your <code>DataTemplateSelector</code> to your <code>ItemsControl</code>.</p>\n\n<pre><code>&lt;ItemsControl x:Name=\"ErrorDisplay\" FontSize=\"12\"\n              ItemsSource=\"{TemplateBinding Validation.Errors}\"   \n              DisplayMemberPath=\"ErrorContent\" Foreground=\"Red\"\n              ItemTemplateSelector=\"{StaticResource myDataTemplateSelector}\"/&gt;\n</code></pre>\n"}], "owner": {"reputation": 462, "user_id": 5272185, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c19a0dbde5767679f37b4c315400a361?s=128&d=identicon&r=PG&f=1", "display_name": "Johan", "link": "https://stackoverflow.com/users/5272185/johan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 54341511, "answer_count": 1, "score": 0, "last_activity_date": 1548315471, "creation_date": 1548262502, "question_id": 54332117, "link": "https://stackoverflow.com/questions/54332117/handle-different-content-in-xaml-binding", "title": "Handle different content in XAML binding", "body": "<p>I have a binding in XAML to Validation.Errors.\nSometimes it seems this is a single string and sometimes it is a list of strings.</p>\n\n<p>The following code works fine if it is a single string.\nFor a list of strings I just get the \"System.Generic.List\" as an item in the item control.</p>\n\n<p>If I change DisplayMemberPath to be \"ErrorContent[0]\", it successfully shows the first string if it is a list, but if it happens to be a single string I of course just get the first character.</p>\n\n<p>Question. How can I make it handle both cases (single string type and list type) in XAML?</p>\n\n<pre><code> &lt;ItemsControl     \n     x:Name=\"ErrorDisplay\"                                      \n     ItemsSource=\"{TemplateBinding Validation.Errors}\"   \n     DisplayMemberPath=\"ErrorContent\"\n     Foreground=\"Red\" \n     FontSize=\"12\"&gt;\n &lt;/ItemsControl&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "dependency-injection", "ngx-translate"], "comments": [{"owner": {"reputation": 878, "user_id": 881825, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/BqY5E.jpg?s=128&g=1", "display_name": "Nexus", "link": "https://stackoverflow.com/users/881825/nexus"}, "edited": false, "score": 0, "creation_date": 1548265389, "post_id": 54331953, "comment_id": 95483328, "body": "I have resolved the issue for now, but I&#39;d very much like to understand this use case better. What I&#39;ve done is, I created a component that wraps the Persian calendar. And in my form component, I display different date picker inputs based on the current language. Works fine, but I need to understand what is the answer to my original questions."}], "owner": {"reputation": 878, "user_id": 881825, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/BqY5E.jpg?s=128&g=1", "display_name": "Nexus", "link": "https://stackoverflow.com/users/881825/nexus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 407, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1584194610, "creation_date": 1548261942, "last_edit_date": 1584194610, "question_id": 54331953, "link": "https://stackoverflow.com/questions/54331953/how-to-inject-a-service-outside-component-declaration", "title": "How to inject a service outside component declaration", "body": "<p>I'm working on an <strong>Angular 7</strong> project and I'm using the <strong>ngx-translate</strong> library for localization and internationalization. I'm facing a problem when injecting providers dynamically.</p>\n\n<p>I have a simple form component, which includes a date picker. I'm using the <strong>ng-bootstrap</strong> library for Bootstrap 4 components. The Datepicker component allows us to inject calendar and i18n providers to localize the picker. For example:</p>\n\n<pre><code>@Component({\n  ...\n  providers: [\n    { provide: NgbCalendar, useClass: NgbCalendarPersian },\n    { provide: NgbDatepickerI18n, useClass: NgbDatepickerI18nPersian } \n  ]\n  ...\n})\n</code></pre>\n\n<p>Now the problem is, I want to provide these classes <strong>ONLY</strong> if the current language is <strong>fa</strong> (Farsi). I tried using factories, that didn't help. For instance:</p>\n\n<pre><code>export function NgbCalendarFactory(translate: TranslateService) {\n  let lang = translate.currentLang;\n  if (lang == 'fa')\n    return new NgbCalendarPersian();\n  else\n    return new NgbCalendarGregorian();\n}\n\nexport function NgbDatepickerFactory(translate: TranslateService) {\n  let lang = translate.currentLang;\n  if (lang == 'fa')\n    return new NgbDatepickerI18nPersian();\n  else\n    return new NgbDatePickerI18nDefault();\n}\n\n@Component({\n  ...\n  providers: [\n    { provide: NgbCalendar, useFactory: NgbCalendarFactory, deps: [TranslateService] },\n    { provide: NgbDatepickerI18n, useFactory: NgbDatepickerFactory, deps: [TranslateService] }\n  ]\n  ...\n})\n</code></pre>\n\n<p>Factories seem to be the way to go, but the default classes cannot be resolved. The <strong>NgbDatePickerI18nDefault</strong> and <strong>NgbCalendarGregorian</strong> classes throw compile-time errors, and they have been imported correctly too. No idea.</p>\n\n<p>I've been struggling with this for hours. One way to solve the issue is, check the current language, and only if applicable, provide those instances. Something likes this:</p>\n\n<pre><code>@Component({\n  ...\n  providers: currentLang == 'fa' ? [\n    { provide: NgbCalendar, useFactory: NgbCalendarFactory, deps: [TranslateService] },\n    { provide: NgbDatepickerI18n, useFactory: NgbDatepickerFactory, deps: [TranslateService] }\n  ] : []\n  ...\n})\n</code></pre>\n\n<p>So if the current language is <strong>en</strong> for example, I'll leave the providers array empty for this component. Now how can I inject the <strong>TranslateService</strong> in my typescript file, outside of the component declaration? Obviously, I can't inject it in the class constructor, or manually using the Injector or ReflectiveInjector services, because I need to check the language at the time of component declaration.</p>\n\n<p>I'm fairly new to Angular 7, so perhaps I'm thinking about this all wrong. </p>\n"}, {"tags": ["angular", "typescript", "angular7"], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 6115532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2276aa87a8974f36a1b1a06913b3c739?s=128&d=identicon&r=PG&f=1", "display_name": "JPanda", "link": "https://stackoverflow.com/users/6115532/jpanda"}, "edited": false, "score": 0, "creation_date": 1548320479, "post_id": 54339723, "comment_id": 95501326, "body": "Hi, thanks for your response. I&#39;ve updated my products.module.ts file with the updates (See above) However, I appear to be getting the same error."}, {"owner": {"reputation": 3796, "user_id": 8612835, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/sPwm6.jpg?s=128&g=1", "display_name": "Sachin Shah", "link": "https://stackoverflow.com/users/8612835/sachin-shah"}, "reply_to_user": {"reputation": 79, "user_id": 6115532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2276aa87a8974f36a1b1a06913b3c739?s=128&d=identicon&r=PG&f=1", "display_name": "JPanda", "link": "https://stackoverflow.com/users/6115532/jpanda"}, "edited": false, "score": 0, "creation_date": 1548322059, "post_id": 54339723, "comment_id": 95502230, "body": "Have you restart app ?"}, {"owner": {"reputation": 3796, "user_id": 8612835, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/sPwm6.jpg?s=128&g=1", "display_name": "Sachin Shah", "link": "https://stackoverflow.com/users/8612835/sachin-shah"}, "reply_to_user": {"reputation": 79, "user_id": 6115532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2276aa87a8974f36a1b1a06913b3c739?s=128&d=identicon&r=PG&f=1", "display_name": "JPanda", "link": "https://stackoverflow.com/users/6115532/jpanda"}, "edited": false, "score": 0, "creation_date": 1548322209, "post_id": 54339723, "comment_id": 95502313, "body": "Try to put export before entryComponent. As in my answer. I have update  it."}, {"owner": {"reputation": 79, "user_id": 6115532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2276aa87a8974f36a1b1a06913b3c739?s=128&d=identicon&r=PG&f=1", "display_name": "JPanda", "link": "https://stackoverflow.com/users/6115532/jpanda"}, "edited": false, "score": 0, "creation_date": 1548322458, "post_id": 54339723, "comment_id": 95502471, "body": "Hi, I have added exports before entry components and updated the above. However, I am still getting this same error. Very confusing."}, {"owner": {"reputation": 3796, "user_id": 8612835, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/sPwm6.jpg?s=128&g=1", "display_name": "Sachin Shah", "link": "https://stackoverflow.com/users/8612835/sachin-shah"}, "reply_to_user": {"reputation": 79, "user_id": 6115532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2276aa87a8974f36a1b1a06913b3c739?s=128&d=identicon&r=PG&f=1", "display_name": "JPanda", "link": "https://stackoverflow.com/users/6115532/jpanda"}, "edited": false, "score": 0, "creation_date": 1548322812, "post_id": 54339723, "comment_id": 95502695, "body": "Put comma , after export array."}, {"owner": {"reputation": 79, "user_id": 6115532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2276aa87a8974f36a1b1a06913b3c739?s=128&d=identicon&r=PG&f=1", "display_name": "JPanda", "link": "https://stackoverflow.com/users/6115532/jpanda"}, "edited": false, "score": 0, "creation_date": 1548322947, "post_id": 54339723, "comment_id": 95502795, "body": "Hi, this is why I&#39;m confused. Do you need any more information maybe?"}], "tags": [], "owner": {"reputation": 3796, "user_id": 8612835, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/sPwm6.jpg?s=128&g=1", "display_name": "Sachin Shah", "link": "https://stackoverflow.com/users/8612835/sachin-shah"}, "is_accepted": false, "score": 0, "last_activity_date": 1548323564, "last_edit_date": 1548323564, "creation_date": 1548306575, "answer_id": 54339723, "question_id": 54331837, "link": "https://stackoverflow.com/questions/54331837/constant-no-component-factory-found-for-error/54339723#54339723", "title": "Constant: No component factory found for error", "body": "<p>Add this </p>\n\n<pre><code>exports: [\n   ViewProductModalComponent\n],\nentryComponents: [\n   ViewProductModalComponent\n]   \n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-mg8jtc\" rel=\"nofollow noreferrer\">Example</a></p>\n"}], "owner": {"reputation": 79, "user_id": 6115532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2276aa87a8974f36a1b1a06913b3c739?s=128&d=identicon&r=PG&f=1", "display_name": "JPanda", "link": "https://stackoverflow.com/users/6115532/jpanda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 337, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548323564, "creation_date": 1548261545, "last_edit_date": 1548322382, "question_id": 54331837, "link": "https://stackoverflow.com/questions/54331837/constant-no-component-factory-found-for-error", "title": "Constant: No component factory found for error", "body": "<p>I'm having a constant error with my Angular application.</p>\n\n<p>Error: </p>\n\n<pre><code>NbWindowComponent_Host.ngfactory.js? [sm]:1 ERROR Error: No component factory found for ViewProductModalComponent. Did you add it to @NgModule.entryComponents?\n</code></pre>\n\n<p>Project Layout:</p>\n\n<p><a href=\"https://i.stack.imgur.com/55o14.png\" rel=\"nofollow noreferrer\">Project Layout</a></p>\n\n<p>I am trying to import the view-product-modal component so I can show it from my products component. I've imported it into the products.module.ts and I'm still getting this error.</p>\n\n<p>Products.module.ts:</p>\n\n<pre><code>import {NgModule} from '@angular/core';\nimport {Ng2SmartTableModule} from 'ng2-smart-table';\n\nimport {ThemeModule} from '../../@theme/theme.module';\nimport {ProductsComponent} from './products.component';\nimport {ViewProductModalComponent} from \"./view-product-modal/view-product-modal.component\";\n\n@NgModule({\n  imports: [\n    ThemeModule,\n    Ng2SmartTableModule,\n  ],\n  declarations: [\n    ProductsComponent,\n    ViewProductModalComponent\n  ],\n  exports: [\n    ViewProductModalComponent\n  ]\n  entryComponents: [\n    ViewProductModalComponent\n  ],\n})\nexport class ProductsModule {\n\n}\n</code></pre>\n\n<p>View-product-modal.component.ts</p>\n\n<pre><code>import {Component, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'view-product-modal',\n  template: `\n    &lt;p&gt;\n      view-product-modal works!\n    &lt;/p&gt;\n  `,\n  styleUrls: ['./view-product-modal.component.scss']\n})\nexport class ViewProductModalComponent {\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n}\n</code></pre>\n\n<p>I'm very confused. I've done with other components and they've worked fine. I'm not sure why it's working this time.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 2686819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90f20dbc758600eb2e3bb49554757870?s=128&d=identicon&r=PG", "display_name": "michaelz", "link": "https://stackoverflow.com/users/2686819/michaelz"}, "is_accepted": true, "score": 0, "last_activity_date": 1550064344, "creation_date": 1550064344, "answer_id": 54671330, "question_id": 54331803, "link": "https://stackoverflow.com/questions/54331803/is-libphonenumber-js-compatible-with-angulars-buildoptimizer-option/54671330#54671330", "title": "Is libphonenumber-js compatible with Angular&#39;s buildOptimizer option?", "body": "<p>Updating the library to version 1.7.6 and using the new functions fixed the issue.</p>\n"}], "owner": {"reputation": 36, "user_id": 2686819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90f20dbc758600eb2e3bb49554757870?s=128&d=identicon&r=PG", "display_name": "michaelz", "link": "https://stackoverflow.com/users/2686819/michaelz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 2, "accepted_answer_id": 54671330, "answer_count": 1, "score": 1, "last_activity_date": 1550064344, "creation_date": 1548261438, "last_edit_date": 1548262471, "question_id": 54331803, "link": "https://stackoverflow.com/questions/54331803/is-libphonenumber-js-compatible-with-angulars-buildoptimizer-option", "title": "Is libphonenumber-js compatible with Angular&#39;s buildOptimizer option?", "body": "<p>I'm trying to implement libphonenumber-js in my hybrid angularjs and Angular 7.2.2 project. It works fine in JIT (<code>ng serve</code>) but it gives errors when I enable <code>buildOptimizer</code> and <code>optimize</code> in <code>angular.json</code>. </p>\n\n<p>If I enable only one of the above, it works fine as well.</p>\n\n<p>I have no errors during the build, but when I open the form on the site I have the following in my console.</p>\n\n<pre><code>angular.js.pre-build-optimizer.js:14961 TypeError: (0 , r.default) is not a function\n    at MfjL.e.default (isValidNumberForRegion.js.pre-build-optimizer.js:37)\n    at e.isValidNumberForRegion (phone-utils.service.ts:32)\n    at O (my-account-data-controller.js.pre-build-optimizer.js:48)\n    at xt (my-account-data-controller.js.pre-build-optimizer.js:57)\n    at Object.invoke (angular.js.pre-build-optimizer.js:5117)\n    at O.instance (angular.js.pre-build-optimizer.js:11139)\n    at it (angular.js.pre-build-optimizer.js:10002)\n    at angular.js.pre-build-optimizer.js:9311\n    at angular.js.pre-build-optimizer.js:9176\n    at Object.link (angular.js.pre-build-optimizer.js:28821)\n</code></pre>\n\n<p>We use ng upgrade (<a href=\"https://angular.io/guide/upgrade\" rel=\"nofollow noreferrer\">https://angular.io/guide/upgrade</a>) in our site.</p>\n\n<p>In the chrome debugger, when I click on <code>angular.js.pre-build-optimizer.js:14961</code>, I get to</p>\n\n<pre><code>        // Support: IE 9 only\n        // console methods don't inherit from Function.prototype in IE 9 so we can't\n        // call `logFn.apply(console, args)` directly.\n        return Function.prototype.apply.call(logFn, console, args);\n</code></pre>\n\n<p>When I click on <code>isValidNumberForRegion.js.pre-build-optimizer.js:37</code>, this is the code: </p>\n\n<pre><code>    // `parse` extracts phone numbers from raw text,\n    // therefore it will cut off all \"garbage\" characters,\n    // while this `validate` function needs to verify\n    // that the phone number contains no \"garbage\"\n    // therefore the explicit `isViablePhoneNumber` check.\n    var input = void 0;\n    if ((0, _isViablePhoneNumber2.default)(number)) {\n        input = (0, _parse_2.default)(number, { defaultCountry: country }, metadata);\n    } else {\n        input = {};\n    }\n</code></pre>\n\n<p>The function that is not found being <code>(0, _isViablePhoneNumber2.default)(number)</code>.</p>\n\n<p>I would really like to be able to use both <code>optimize</code> and <code>buildOptimizer</code> since it is a huge app and this really improves performance. Any idea how to debug that ?</p>\n\n<p><strong>EDIT:</strong> This may be related <a href=\"https://github.com/angular/angular-cli/issues/11439\" rel=\"nofollow noreferrer\">https://github.com/angular/angular-cli/issues/11439</a></p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 578, "user_id": 2929851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6020d29e8659289aa274aee4a9e2283a?s=128&d=identicon&r=PG&f=1", "display_name": "Danie A", "link": "https://stackoverflow.com/users/2929851/danie-a"}, "is_accepted": false, "score": 1, "last_activity_date": 1548262095, "creation_date": 1548262095, "answer_id": 54332000, "question_id": 54331666, "link": "https://stackoverflow.com/questions/54331666/how-to-narrow-a-type-using-typeof-keyword/54332000#54332000", "title": "How to narrow a type using typeof keyword?", "body": "<p>you can read this; <a href=\"https://mariusschulz.com/blog/typescript-2-0-control-flow-based-type-analysis\" rel=\"nofollow noreferrer\">https://mariusschulz.com/blog/typescript-2-0-control-flow-based-type-analysis</a> or this\n<a href=\"https://www.google.com/search?q=typescript+flow+analysis&amp;oq=typescript+flow+&amp;aqs=chrome.5.69i57j69i60l3j0l2.6090j0j7&amp;sourceid=chrome&amp;ie=UTF-8\" rel=\"nofollow noreferrer\">https://www.google.com/search?q=typescript+flow+analysis&amp;oq=typescript+flow+&amp;aqs=chrome.5.69i57j69i60l3j0l2.6090j0j7&amp;sourceid=chrome&amp;ie=UTF-8</a></p>\n\n<p>it's called flow analysis. </p>\n"}, {"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1548262301, "creation_date": 1548262301, "answer_id": 54332063, "question_id": 54331666, "link": "https://stackoverflow.com/questions/54331666/how-to-narrow-a-type-using-typeof-keyword/54332063#54332063", "title": "How to narrow a type using typeof keyword?", "body": "<p>Usually TypeScript will use <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-0.html#control-flow-based-type-analysis\" rel=\"nofollow noreferrer\">control-flow analysis</a> to automatically narrow the type of a value once you have done a check on it.  But the problem you're running into is the fact that <a href=\"https://github.com/Microsoft/TypeScript/issues/10530\" rel=\"nofollow noreferrer\">this narrowing does not happen with bracket-style property accesses</a> like <code>students[student_name]</code>.  It was <a href=\"https://github.com/Microsoft/TypeScript/pull/26424\" rel=\"nofollow noreferrer\">recently addressed for <em>literal</em> index types</a> (such as <code>students[\"Alice\"]</code>, equivalent to <code>students.Alice</code>), but to make it work with <code>string</code> would apparently degrade the compiler performance too much.</p>\n\n<p>The workaround here is to perform the index access just once, and assign the result to a new variable.  Then when you check that variable, the control flow analysis should narrow as you want:</p>\n\n<pre><code>function something(students: Students, student_name: string) {      \n  let student: Student;      \n  const maybeStudent = students[student_name]; // Student | undefined\n  if (typeof maybeStudent !== 'undefined')\n    student = maybeStudent; // okay, maybeStudent narrowed to Student in check\n  else\n    return;\n}\n</code></pre>\n\n<p>Hope that helps; good luck!</p>\n"}], "owner": {"reputation": 802, "user_id": 4761970, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a315ab696cfef87adcaac0748ea283f7?s=128&d=identicon&r=PG&f=1", "display_name": "left click", "link": "https://stackoverflow.com/users/4761970/left-click"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 54332063, "answer_count": 2, "score": 1, "last_activity_date": 1548262301, "creation_date": 1548260940, "question_id": 54331666, "link": "https://stackoverflow.com/questions/54331666/how-to-narrow-a-type-using-typeof-keyword", "title": "How to narrow a type using typeof keyword?", "body": "<pre><code>interface Students {\n    [key:string]: (Student | undefined);\n}\n\ninterface Student {\n    age: string;\n}\n\nfunction something (students:Students, student_name:string) {\n    let student:Student;\n\n    if (typeof students[student_name] !== 'undefined')\n        student = students[student_name]; // Type 'Student | undefined' is not assignable to type 'Student'.\n    else\n        return;\n}\n</code></pre>\n\n<p>I often face that situation. Of course, I can use <em>as Student</em>. But, I wanna know if there's a better way.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 7733, "user_id": 6335049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEatl.jpg?s=128&g=1", "display_name": "Narm", "link": "https://stackoverflow.com/users/6335049/narm"}, "edited": false, "score": 1, "creation_date": 1548260966, "post_id": 54331512, "comment_id": 95481216, "body": "In your HTML you have <code>(click)=&quot;onSubmit()&quot;</code>. You&#39;re not passing in any arguments when you submit the form on the click event. Also you really should consider using <a href=\"https://angular.io/guide/reactive-forms\" rel=\"nofollow noreferrer\">Angular Reactive Forms</a> or <a href=\"https://angular.io/guide/forms\" rel=\"nofollow noreferrer\">Angular Template Driven Forms</a>. It will save you a lot of headache."}, {"owner": {"reputation": 47, "user_id": 10863021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b41002b3bbc7493900538309aead235?s=128&d=identicon&r=PG&f=1", "display_name": "Hoobs", "link": "https://stackoverflow.com/users/10863021/hoobs"}, "reply_to_user": {"reputation": 7733, "user_id": 6335049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEatl.jpg?s=128&g=1", "display_name": "Narm", "link": "https://stackoverflow.com/users/6335049/narm"}, "edited": false, "score": 0, "creation_date": 1548261819, "post_id": 54331512, "comment_id": 95481677, "body": "@Narm thanks! silly of me to miss that"}], "answers": [{"tags": [], "owner": {"reputation": 635, "user_id": 9766768, "user_type": "registered", "profile_image": "https://graph.facebook.com/1818059251579855/picture?type=large", "display_name": "Friso Hoekstra", "link": "https://stackoverflow.com/users/9766768/friso-hoekstra"}, "is_accepted": false, "score": 0, "last_activity_date": 1548261200, "creation_date": 1548261200, "answer_id": 54331747, "question_id": 54331512, "link": "https://stackoverflow.com/questions/54331512/console-logform-returns-undefined-for-angular-7-form/54331747#54331747", "title": "console.log(form) returns undefined for Angular 7 form", "body": "<p>Use your submit button like so:</p>\n\n<pre><code>&lt;button type=\"submit\" [disabled]=\"!f.valid\"&gt;Submit&lt;/button&gt;\n</code></pre>\n\n<p>Log Template-driven form value:</p>\n\n<pre><code>console.log(form)\n</code></pre>\n\n<p>Log Reactive form value:</p>\n\n<pre><code>console.log(form.value)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 47, "user_id": 10863021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b41002b3bbc7493900538309aead235?s=128&d=identicon&r=PG&f=1", "display_name": "Hoobs", "link": "https://stackoverflow.com/users/10863021/hoobs"}, "is_accepted": true, "score": 0, "last_activity_date": 1548261983, "creation_date": 1548261983, "answer_id": 54331964, "question_id": 54331512, "link": "https://stackoverflow.com/questions/54331512/console-logform-returns-undefined-for-angular-7-form/54331964#54331964", "title": "console.log(form) returns undefined for Angular 7 form", "body": "<p>(click)=\"onSubmit()\"\nI did not pass any arguments on the click event, hence why the console.log was returning undefined. </p>\n\n<p>Passing the argument \"f\" (click)=\"onSubmit(f)\" achieved the desired results of outputting the form data. </p>\n"}], "owner": {"reputation": 47, "user_id": 10863021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b41002b3bbc7493900538309aead235?s=128&d=identicon&r=PG&f=1", "display_name": "Hoobs", "link": "https://stackoverflow.com/users/10863021/hoobs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2876, "favorite_count": 0, "accepted_answer_id": 54331964, "answer_count": 2, "score": 0, "last_activity_date": 1548261983, "creation_date": 1548260352, "question_id": 54331512, "link": "https://stackoverflow.com/questions/54331512/console-logform-returns-undefined-for-angular-7-form", "title": "console.log(form) returns undefined for Angular 7 form", "body": "<p>I have an angular form with several fields including radio buttons, selects, inputs. I have an onSubmit() function that's called when I submit the form. Within this function I have a console.log(form). When checking the console on google's debugger, I see that the value returned from the console log is undefined. </p>\n\n<p>app.component.ts</p>\n\n<pre><code>import { Component, HostBinding } from \"@angular/core\";\nimport { NgForm } from \"@angular/forms\";\nimport { Person, Name, Address } from \"../app/models/person\";\n\n@Component({\n  selector: \"app-root\",\n  templateUrl: \"./app.component.html\",\n  styleUrls: [\"./app.component.css\"];\n\nexport class AppComponent {\n\n  title = \"pardon\";\n  provinces = [\n    \"Alberta\",\n    \"British Columbia\",\n    \"Manitoba\",\n    \"New Brunswick\",\n    \"Newfoundland and Labrador\",\n    \"Northwest Territories\",\n    \"Nova Scotia\",\n    \"Nunavut\",\n    \"Ontario\",\n    \"Prince Edward Island\",\n    \"Quebec\",\n    \"Saskatchewan\",\n    \"Yukon\"\n  ];\n\n  person: Person;\n  name: Name;\n  date: Date;\n  address: Address;\n\n\n  nameCap: number;\n  cap: boolean;\n\n  showDelete: boolean;\n  showNameInput: boolean;\n  showAddressInput: boolean;\n\n  ngOnInit() {\n    this.person = new Person();\n    this.person.fullName = new Name();\n    this.person.currentAddress = new Address();\n    this.person.previousAddress = [];\n    this.person.alias = [];\n\n    this.showDelete = false;\n    this.showNameInput = false;\n    this.showAddressInput = false;\n\n    this.nameCap = 1;\n    this.cap = false;\n  }\n\n  onSubmit(form: NgForm) {\n    console.log(form);\n  }\n\n  addName() {\n    this.person.alias.push({ firstName: \"\", lastName: \"\" });\n    this.showDelete = true;\n    this.showNameInput = true;\n    this.nameCap++;\n    if (this.nameCap &gt; 4) {\n      this.cap = true;\n    }\n  }\n\n  addAddress(){\n    this.person.previousAddress.push({ streetAddress: \"\", city: \"\", province: \"\", country: \"\", postalCode: \"\"});\n    this.showAddressInput = true;\n  }\n\n  trackByName(index: number, person: any) {\n    return person.id;\n  }\n\n  removeName(i: number) {\n    this.person.alias.splice(i, 1);\n    this.nameCap--;\n    if (this.nameCap &lt;= 4) {\n      this.cap = false;\n    }\n  }\n}\n</code></pre>\n\n<p>app.component.html</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n    &lt;div class=\"row\"&gt;\n       &lt;div class=\"card card-body\"&gt;\n          &lt;h4 class=\"card-title bg-success\"&gt;Pardon Application Electronic Form&lt;/h4&gt;\n          &lt;form (ngSubmit)=\"onSubmit(f)\" #f=\"ngForm\"&gt;\n          &lt;div id=\"user-data\" \n             ngModelGroup=\"userData\"\n             #userData=\"ngModelGroup\"&gt;\n             &lt;div class=\"card card-body bg-info\"&gt;\n                &lt;h4 class=\"card-title bg-primary\"&gt;Section A: Personal Information&lt;/h4&gt;\n                &lt;div class=\"card-text form-inline\"&gt;\n                   &lt;label for=\"firstname\"&gt;First name&lt;/label&gt;&amp;nbsp;\n                   &lt;input\n                   type=\"text\" \n                   id=\"firstname\" \n                   class=\"form-control\"\n                   [(ngModel)]=\"person.fullName.firstName\"\n                   name=\"firstName\"\n                   required\n                   #firstName=\"ngModel\"&gt;\n                   &lt;span class=\"help-block\" *ngIf=\"!firstName.valid &amp;&amp; firstName.touched\"&gt;Please enter your first name&lt;/span&gt;\n                   &amp;nbsp;\n                   &lt;label for=\"lastname\"&gt;Last name&lt;/label&gt;&amp;nbsp;\n                   &lt;input\n                   type=\"text\"\n                   id=\"lastname\"\n                   class=\"form-control\"\n                   [(ngModel)]=\"person.fullName.lastName\"\n                   name=\"lastName\"\n                   required\n                   #lastName=\"ngModel\"&gt;\n                   &lt;span class=\"help-block\" *ngIf=\"!lastName.valid &amp;&amp; lastName.touched\"&gt;Please enter your last name&lt;/span&gt;\n                   &amp;nbsp;\n                   &lt;label&gt;Have you ever used another name other than your legal name above?&lt;/label&gt;&amp;nbsp;\n                   &lt;div class=\"radio\"&gt;\n                      &lt;label&gt;\n                      &lt;input\n                      type=\"radio\"\n                      name=\"hasAlias\"\n                      [value]=true\n                      [(ngModel)]=\"person.hasAlias\"\n                      #hasAlias=\"ngModel\"&gt;\n                      Yes\n                      &lt;/label&gt;&amp;nbsp;\n                   &lt;/div&gt;\n                   &lt;div class=\"radio\"&gt;\n                      &lt;label&gt;\n                      &lt;input\n                      type=\"radio\"\n                      name=\"hasAlias\"\n                      [value]=false\n                      [(ngModel)]=\"person.hasAlias\"\n                      #hasAlias=\"ngModel\"&gt;\n                      No\n                      &lt;/label&gt;\n                   &lt;/div&gt;\n                   &lt;div *ngIf=\"person.hasAlias\"&gt;\n                      &lt;br&gt;\n                      &lt;div class=\"wrapper\"&gt;\n                         &lt;button class=\"buttonAlign\" [disabled]=\"cap\"\n                         class=\"btn help-block btn-warning\" \n                         type=\"button\"\n                         id=\"addName\"\n                         (click)=\"addName()\"&gt;Add more names\n                         &lt;/button&gt;\n                      &lt;/div&gt;\n                      &lt;div *ngIf=\"showNameInput\"&gt;\n                         &lt;div ngModelGroup=\"alias\"&gt;\n                            &lt;div class=\"box2\" *ngFor=\"let a of person.alias; let i = index; trackBy: trackByName\"&gt;\n                               &lt;!-- style=\"width: 100px; height: 100px\" [@divState]=\"state\"  --&gt;\n                               &lt;div [ngModelGroup]=\"i\"&gt;\n                                  &lt;div class=\"form-group\"&gt;\n                                     &lt;label for=\"firstNameAlias\"&gt;First name&lt;/label&gt;\n                                     &lt;input\n                                     type=\"text\"\n                                     id=\"firstName\"\n                                     class=\"form-control\"\n                                     [(ngModel)]=\"a.firstName\"\n                                     name=\"firstName\"\n                                     #firstName=\"ngModel\"&gt;\n                                  &lt;/div&gt;\n                                  &lt;div class=\"form-group\"&gt;\n                                     &lt;label for=\"lastNameAlias\"&gt;Last name&lt;/label&gt;\n                                     &lt;input\n                                     type=\"text\"\n                                     id=\"lastName\"\n                                     class=\"form-control\"\n                                     [(ngModel)]=\"a.lastName\"\n                                     name=\"lastName\"\n                                     #lastName=\"ngModel\"&gt;\n                                  &lt;/div&gt;\n                               &lt;/div&gt;\n                               &lt;button\n                                  class=\"btn help-block btn-danger\"\n                                  type=\"button\"\n                                  id=\"removeName\"\n                                  (click)=\"removeName(i)\"&gt;Remove name\n                               &lt;/button&gt;\n                            &lt;/div&gt;\n                         &lt;/div&gt;\n                      &lt;/div&gt;\n                   &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;br&gt;\n             &lt;/div&gt;\n             &lt;div class=\"card card-body bg-warning\"&gt;\n                &lt;div class=\"card-text\"&gt;\n                   &lt;div class=\"row\"&gt;\n                      &lt;div class=\"col-md-3\"&gt;\n                         &lt;label&gt;Sex&lt;/label&gt;\n                         &lt;select class=\"form-control\"&gt;\n                         &lt;option *ngFor=\"let s of person.sex\"\n                         name=\"sex\"\n                         [value]=\"sex\"\n                         [(ngModel)]=\"person.sex\"\n                         #sex=\"ngModel\"\n                         ngDefaultControl&gt;{{s}}\n                         &lt;/option&gt; \n                         &lt;/select&gt;\n                      &lt;/div&gt;\n                      &lt;div class=\"col-md-3\"&gt;\n                         &lt;label&gt;Date of Birth&lt;/label&gt;\n                         &lt;div class=\"form-group form-inline\"&gt;\n                            &lt;input\n                            type=\"date\"\n                            name=\"person.dob\"\n                            [(ngModel)]=\"person.dob\"\n                            #dob=\"ngModel\"\n                            required&gt;\n                         &lt;/div&gt;\n                      &lt;/div&gt;\n                      &lt;div class=\"col-md-3\"&gt;\n                         &lt;label&gt;Were you born in Canada?&lt;/label&gt;\n                         &lt;div class=\"radio\"&gt;\n                            &lt;label&gt;\n                            &lt;input\n                            type=\"radio\"\n                            name=\"person.canadianBorn\"\n                            [value]=true\n                            [(ngModel)]=\"person.canadianBorn\"\n                            #canadianBorn=\"ngModel\"&gt;\n                            Yes\n                            &lt;/label&gt;\n                         &lt;/div&gt;\n                         &lt;div class=\"radio\"&gt;\n                            &lt;label&gt;\n                            &lt;input\n                            type=\"radio\"\n                            name=\"person.canadianBorn\"\n                            [value]=false\n                            [(ngModel)]=\"person.canadianBorn\"\n                            #canadianBorn=\"ngModel\"&gt;\n                            No\n                            &lt;/label&gt;\n                         &lt;/div&gt;\n                         &lt;div *ngIf=\"person.canadianBorn\"&gt;\n                            Born in Canada!\n                         &lt;/div&gt;\n                         &lt;div *ngIf=\"person.canadianBorn==false\"&gt;\n                            See STEP 5 of the Record Suspension application Guide\n                         &lt;/div&gt;\n                      &lt;/div&gt;\n                   &lt;/div&gt;\n                &lt;/div&gt;\n             &lt;/div&gt;\n             &lt;div class=\"card card-body bg-info\"&gt;\n                &lt;div class=\"card-text\"&gt;\n                   &lt;div class=\"row\"&gt;\n                      &lt;div class=\"col-md-6\"&gt;\n                         &lt;label&gt;Do you have a driver's license?&lt;/label&gt;\n                         &lt;div class=\"radio\"&gt;\n                            &lt;label&gt;\n                            &lt;input\n                            type=\"radio\"\n                            name=\"person.hasLicense\"\n                            [value]=true\n                            [(ngModel)]=\"person.hasLicense\"\n                            #hasLicense=\"ngModel\"&gt;\n                            Yes\n                            &lt;/label&gt;\n                         &lt;/div&gt;\n                         &lt;div class=\"radio\"&gt;\n                            &lt;label&gt;\n                            &lt;input\n                            type=\"radio\"\n                            name=\"person.hasLicense\"\n                            [value]=false\n                            [(ngModel)]=\"person.hasLicense\"\n                            #hasLicense=\"ngModel\"&gt;\n                            No\n                            &lt;/label&gt;\n                         &lt;/div&gt;\n                         &lt;div *ngIf=\"person.hasLicense\"&gt;\n                            &lt;label&gt;Driver's License Number&lt;/label&gt;\n                            &lt;input type=\"text\"\n                            class=\"form-control\"\n                            placeholder=\"A1234-56789-12345\"\n                            id=\"name\"\n                            name=\"person.licenseNumber\"\n                            [(ngModel)]=\"person.licenseNumber\"\n                            #licenseNumber=\"ngModel\"&gt;\n                            &lt;label for=\"province\"&gt;Province issued&lt;/label&gt;\n                            &lt;select\n                               id=\"province\"\n                               class=\"form-control\"\n                               ngModel\n                               name=\"provinceIssued\"&gt;\n                               &lt;option *ngFor=\"let province of provinces\"&gt;\n                                  {{province}}\n                               &lt;/option&gt;\n                            &lt;/select&gt;\n                         &lt;/div&gt;\n                         &lt;br&gt;\n                      &lt;/div&gt;\n                      &lt;div class=\"col-md-6\"&gt;\n                         &lt;label&gt;Are you employed?&lt;/label&gt;\n                         &lt;div class=\"radio\"&gt;\n                            &lt;label&gt;\n                            &lt;input\n                            type=\"radio\"\n                            name=\"person.employed\"\n                            [value]=true\n                            [(ngModel)]=\"person.employed\"\n                            #employed=\"ngModel\"&gt;\n                            Yes\n                            &lt;/label&gt;\n                         &lt;/div&gt;\n                         &lt;div class=\"radio\"&gt;\n                            &lt;label&gt;\n                            &lt;input\n                            type=\"radio\"\n                            name=\"person.employed\"\n                            [value]=false\n                            [(ngModel)]=\"person.employed\"\n                            #employed=\"ngModel\"&gt;\n                            No\n                            &lt;/label&gt;\n                         &lt;/div&gt;\n                         &lt;div class=\"checkbox\"&gt;\n                            &lt;label&gt;\n                            &lt;input\n                            type=\"checkbox\"\n                            name=\"person.selfEmployed\"\n                            [value]=true\n                            [(ngModel)]=\"person.selfEmployed\"\n                            #selfEmployed=\"ngModel\"&gt;\n                            I am self employed\n                            &lt;/label&gt;\n                         &lt;/div&gt;\n                         &lt;div *ngIf=\"person.employed\"&gt;\n                            &lt;label&gt;Employer name&lt;/label&gt;\n                            &lt;input type=\"text\"\n                            class=\"form-control\"\n                            id=\"employer\"\n                            name=\"person.employer\"\n                            [(ngModel)]=\"person.employer\"\n                            #employer=\"ngModel\"&gt;\n                         &lt;/div&gt;\n                         &lt;div *ngIf=\"person.selfEmployed\"&gt;\n                            &lt;label&gt;Your company name and/or number&lt;/label&gt;\n                            &lt;input type=\"text\"\n                            class=\"form-control\"\n                            id=\"company\"\n                            name=\"person.company\"\n                            [(ngModel)]=\"person.company\"\n                            #company=\"ngModel\"&gt;\n                         &lt;/div&gt;\n                         &lt;br&gt;\n                      &lt;/div&gt;\n                   &lt;/div&gt;\n                &lt;/div&gt;\n             &lt;/div&gt;\n             &lt;div class=\"card card-body bg-warning\"&gt;\n                &lt;h4 class=\"card-title bg-primary\"&gt;Section B: Correspondence and Residence Information&lt;/h4&gt;\n                &lt;div class=\"row\"&gt;\n                   &lt;div class=\"col-md-6\"&gt;\n                      &lt;div class=\"form-group\"&gt;\n                         &lt;label&gt;Street Address&lt;/label&gt;\n                         &lt;input type=\"text\"\n                         class=\"form-control\"\n                         [(ngModel)]=\"person.currentAddress.streetAddress\"\n                         #streetAddress=\"ngModel\"\n                         name=\"streetAddress\"&gt;\n                      &lt;/div&gt;\n                   &lt;/div&gt;\n                   &lt;div class=\"col-md-6\"&gt;\n                      &lt;div class=\"form-group\"&gt;\n                         &lt;label&gt;City&lt;/label&gt;\n                         &lt;input type=\"text\"\n                         class=\"form-control\"\n                         [(ngModel)]=\"person.currentAddress.city\"\n                         #city=\"ngModel\"\n                         name=\"city\"&gt;\n                      &lt;/div&gt;\n                   &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=\"row\"&gt;\n                   &lt;div class=\"col-md-4\"&gt;\n                      &lt;div class=\"form-group\"&gt;\n                         &lt;label&gt;Province&lt;/label&gt;\n                         &lt;input type=\"text\"\n                         class=\"form-control\"\n                         [(ngModel)]=\"person.currentAddress.province\"\n                         #province=\"ngModel\"\n                         name=\"province\"&gt;\n                      &lt;/div&gt;\n                   &lt;/div&gt;\n                   &lt;div class=\"col-md-4\"&gt;\n                      &lt;div class=\"form-group\"&gt;\n                         &lt;label&gt;Country&lt;/label&gt;&amp;nbsp;\n                         &lt;input type=\"text\"\n                         class=\"form-control\"\n                         [(ngModel)]=\"person.currentAddress.country\"\n                         #country=\"ngModel\"\n                         name=\"country\"&gt;\n                      &lt;/div&gt;\n                   &lt;/div&gt;\n                   &lt;div class=\"col-md-4\"&gt;\n                      &lt;div class=\"form-group\"&gt;\n                         &lt;label&gt;Postal Code&lt;/label&gt;\n                         &lt;input type=\"text\"\n                         class=\"form-control\"\n                         [(ngModel)]=\"person.currentAddress.postalCode\"\n                         #postalCode=\"ngModel\"\n                         name=\"postalCode\"&gt;\n                      &lt;/div&gt;\n                   &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=\"wrapper\"&gt;\n                   &lt;button class=\"buttonAlign\"\n                      class=\"btn help-block btn-warning\" \n                      type=\"button\"\n                      &gt;Verify Address\n                   &lt;/button&gt;\n                &lt;/div&gt;\n             &lt;/div&gt;\n             &lt;div class=\"card-body bg-info\"&gt;\n                &lt;label&gt;Do you want information in English or French?&lt;/label&gt;\n                &lt;select class=\"form-control\"&gt;\n                &lt;option *ngFor=\"let lang of person.language\"\n                name=\"language\"\n                [value]=\"language\"\n                [(ngModel)]=\"person.language\"\n                #language=\"ngModel\"\n                ngDefaultControl&gt;\n                {{lang}}\n                &lt;/option&gt;\n                &lt;/select&gt;\n                &lt;!-- &lt;div class=\"radio\" *ngFor=\"let lang of person.language\"&gt;\n                   &lt;label&gt;\n                   &lt;input \n                   type=\"radio\"\n                   name=\"language\"\n                   [(ngModel)]=\"person.language\"\n                   [value]=\"lang\"\n                   required&gt;\n                   {{ lang }}\n                   &lt;/label&gt;\n                   &lt;/div&gt; --&gt;\n                &lt;label&gt;Have you lived at an address different from the one entered above, within the last 10 years?&lt;/label&gt;\n                &lt;div class=\"radio\"&gt;\n                   &lt;label&gt;\n                   &lt;input\n                   type=\"radio\"\n                   name=\"person.moreAddresses\"\n                   [value]=true\n                   [(ngModel)]=\"person.moreAddresses\"\n                   #moreAddresses=\"ngModel\"&gt;\n                   Yes\n                   &lt;/label&gt;\n                &lt;/div&gt;\n                &lt;div class=\"radio\"&gt;\n                   &lt;label&gt;\n                   &lt;input\n                   type=\"radio\"\n                   name=\"person.moreAddresses\"\n                   [value]=false\n                   [(ngModel)]=\"person.moreAddresses\"\n                   #moreAddresses=\"ngModel\"&gt;\n                   No\n                   &lt;/label&gt;\n                &lt;/div&gt;\n                &lt;div class=\"card-body bg-warning\" *ngIf=\"person.moreAddresses\"&gt;\n                   &lt;div class=\"wrapper\"&gt;\n                      &lt;button class=\"buttonAlign\" \n                         class=\"btn help-block btn-warning\" \n                         type=\"button\"\n                         id=\"addAddress\"\n                         (click)=\"addAddress()\"&gt;Add an address\n                      &lt;/button&gt;\n                   &lt;/div&gt;\n                   &lt;br&gt;\n                   &lt;div *ngFor=\"let addy of person.previousAddress\"&gt;\n                      &lt;div class=\"row\" *ngIf=\"showAddressInput\"&gt;\n                         &lt;div class=\"col-md-6\"&gt;\n                            &lt;div class=\"form-group\"&gt;\n                               &lt;label&gt;Street Address&lt;/label&gt;\n                               &lt;input type=\"text\"\n                               class=\"form-control\"\n                               [(ngModel)]=\"person.currentAddress.streetAddress\"\n                               #streetAddress=\"ngModel\"\n                               name=\"streetAddress\"&gt; \n                            &lt;/div&gt;\n                         &lt;/div&gt;\n                         &lt;div class=\"col-md-6\"&gt;\n                            &lt;div class=\"form-group\"&gt;\n                               &lt;label&gt;City&lt;/label&gt;\n                               &lt;input type=\"text\"\n                               class=\"form-control\"\n                               [(ngModel)]=\"person.currentAddress.city\"\n                               #city=\"ngModel\"\n                               name=\"city\"&gt;\n                            &lt;/div&gt;\n                         &lt;/div&gt;\n                      &lt;/div&gt;\n                      &lt;div class=\"row\" *ngIf=\"showAddressInput\"&gt;\n                         &lt;div class=\"col-md-4\"&gt;\n                            &lt;div class=\"form-group\"&gt;\n                               &lt;label&gt;Province&lt;/label&gt;\n                               &lt;input type=\"text\"\n                               class=\"form-control\"\n                               [(ngModel)]=\"person.currentAddress.province\"\n                               #province=\"ngModel\"\n                               name=\"province\"&gt;\n                            &lt;/div&gt;\n                         &lt;/div&gt;\n                         &lt;div class=\"col-md-4\"&gt;\n                            &lt;div class=\"form-group\"&gt;\n                               &lt;label&gt;Country&lt;/label&gt;&amp;nbsp;\n                               &lt;input type=\"text\"\n                               class=\"form-control\"\n                               [(ngModel)]=\"person.currentAddress.country\"\n                               #country=\"ngModel\"\n                               name=\"country\"&gt;\n                            &lt;/div&gt;\n                         &lt;/div&gt;\n                         &lt;div class=\"col-md-4\"&gt;\n                            &lt;div class=\"form-group\"&gt;\n                               &lt;label&gt;Postal Code&lt;/label&gt;\n                               &lt;input type=\"text\"\n                               class=\"form-control\"\n                               [(ngModel)]=\"person.currentAddress.postalCode\"\n                               #postalCode=\"ngModel\"\n                               name=\"postalCode\"&gt;\n                            &lt;/div&gt;\n                         &lt;/div&gt;\n                      &lt;/div&gt;\n                   &lt;/div&gt;\n                &lt;/div&gt;\n             &lt;/div&gt;\n          &lt;/div&gt;\n          &lt;/form&gt;\n       &lt;/div&gt;\n       &lt;button \n       class=\"btn btn-primary\" \n       type=\"submit\"\n       [disabled]=\"!f.valid\"\n       (click)=\"onSubmit()\"\n       &gt;Submit\n       &lt;/button&gt;\n    &lt;/div&gt;\n &lt;/div&gt;\n</code></pre>\n\n<p>person.ts</p>\n\n<pre><code>export class Person {\n    public fullName: Name;\n    public alias: Name[];\n\n    public currentAddress: Address;\n    public previousAddress: Address[];\n\n    public canadianBorn: boolean;\n    public hasLicense: boolean;\n    public licenseNumber: number;\n    public hasAlias: boolean;\n    public employed: boolean;\n    public employer: string;\n    public selfEmployed: boolean;\n    public sex = ['Male', 'Female', 'Other'];\n    public language = ['English', 'Francais'];\n    public moreAddresses: boolean;\n    public dob = Date;\n    public company: string;\n}\n\nexport class Name {\n    public firstName: string;\n    public lastName: string;\n}\n\nexport class Address {\n    public streetAddress: string;\n    public city: string;\n    public province: string;\n    public country: string;\n    public postalCode: string;\n}\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 578, "user_id": 2929851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6020d29e8659289aa274aee4a9e2283a?s=128&d=identicon&r=PG&f=1", "display_name": "Danie A", "link": "https://stackoverflow.com/users/2929851/danie-a"}, "is_accepted": true, "score": 2, "last_activity_date": 1548262979, "last_edit_date": 1548262979, "creation_date": 1548262283, "answer_id": 54332055, "question_id": 54331460, "link": "https://stackoverflow.com/questions/54331460/limit-typescript-interface-to-another-interface/54332055#54332055", "title": "Limit typescript interface to another interface", "body": "<p>Great answer here: <a href=\"https://stackoverflow.com/questions/51804810/how-to-remove-fields-from-a-typescript-interface-via-extension\">How to remove fields from a TypeScript interface via extension</a></p>\n\n<p>So you make a \"helper type\" called e.g. <code>Omit</code> to omit certain properties from your interface:</p>\n\n<pre><code>type Omit&lt;T, K extends keyof T&gt; = Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;\n</code></pre>\n\n<p>Likewise, you can also modify the properties of your existing interface, which can be useful many times:</p>\n\n<pre><code>type Readonly&lt;T&gt; = {\n    readonly [P in keyof T]: T[P];\n}\ntype Partial&lt;T&gt; = {\n    [P in keyof T]?: T[P];\n}\n</code></pre>\n\n<p>Also, sometimes it's easier to turn it around. Extend alpha from beta.</p>\n\n<pre><code>interface alpha extends beta {\n  name?: string;\n  sign?: string;\n}\n\ninterface beta {\n  age?: string;\n}\n\nconst x: alpha = {\n    name: \"foo\" // valid\n}\n\nconst y: beta = {\n    name: \"where\" // invalid\n}\n</code></pre>\n"}], "owner": {"reputation": 42593, "user_id": 340688, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/46a6db74ccc3bf4e009f875283401c14?s=128&d=identicon&r=PG", "display_name": "ThomasReggi", "link": "https://stackoverflow.com/users/340688/thomasreggi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 54332055, "answer_count": 1, "score": 0, "last_activity_date": 1548262979, "creation_date": 1548260155, "question_id": 54331460, "link": "https://stackoverflow.com/questions/54331460/limit-typescript-interface-to-another-interface", "title": "Limit typescript interface to another interface", "body": "<p>Given a typescript interface:</p>\n\n<pre><code>interface alpha {\n  name?: string;\n  age?: string;\n  sign?: string;\n}\n</code></pre>\n\n<p>I would like to create another interface that is confined to have a limited set of properties from another interface</p>\n\n<pre><code>interface beta {\n  age?: string;\n}\n</code></pre>\n\n<p>Is this possible?</p>\n\n<p>If someone was to have:</p>\n\n<pre><code>interface beta {\n  foo?: string;\n}\n</code></pre>\n\n<p>I'd like it to be invalid.</p>\n"}, {"tags": ["typescript", "gatsby"], "answers": [{"comments": [{"owner": {"reputation": 1059, "user_id": 2304441, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/n2dEA.jpg?s=128&g=1", "display_name": "benbot", "link": "https://stackoverflow.com/users/2304441/benbot"}, "edited": false, "score": 0, "creation_date": 1575748563, "post_id": 54334680, "comment_id": 104672486, "body": "Is there any way you could provide the actual answer? Or at least a timestamp in the video?"}], "tags": [], "owner": {"reputation": 448, "user_id": 8344506, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bPRDzCCdZVY/AAAAAAAAAAI/AAAAAAAADDk/cupt-KsjPkI/photo.jpg?sz=128", "display_name": "Josh Bowden", "link": "https://stackoverflow.com/users/8344506/josh-bowden"}, "is_accepted": false, "score": 0, "last_activity_date": 1548273148, "creation_date": 1548273148, "answer_id": 54334680, "question_id": 54331394, "link": "https://stackoverflow.com/questions/54331394/adding-gatsby-plugin-typescript-to-gatsbyjs-react-is-not-defined/54334680#54334680", "title": "Adding gatsby-plugin-typescript to GatsbyJS &quot;React is not defined&quot;", "body": "<p>This youtube video helped me work through this issue: <a href=\"https://www.youtube.com/watch?v=ji2TtRVlNDQ&amp;t=0s&amp;list=PLgKwx4S6vKoDzRNhzNH8X0cm0lnw6MDIq&amp;index=24\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=ji2TtRVlNDQ&amp;t=0s&amp;list=PLgKwx4S6vKoDzRNhzNH8X0cm0lnw6MDIq&amp;index=24</a></p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6327949"}, "is_accepted": false, "score": -1, "last_activity_date": 1562349034, "creation_date": 1562349034, "answer_id": 56907407, "question_id": 54331394, "link": "https://stackoverflow.com/questions/54331394/adding-gatsby-plugin-typescript-to-gatsbyjs-react-is-not-defined/56907407#56907407", "title": "Adding gatsby-plugin-typescript to GatsbyJS &quot;React is not defined&quot;", "body": "<p>Maybe you need to add <code>yarn add typescript @types/node @types/react @types/react-dom</code></p>\n"}, {"tags": [], "owner": {"reputation": 2594, "user_id": 3090068, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/69636a28e85f584b8f264495494f3de0?s=128&d=identicon&r=PG&f=1", "display_name": "Yuki Inoue", "link": "https://stackoverflow.com/users/3090068/yuki-inoue"}, "is_accepted": false, "score": 7, "last_activity_date": 1580322362, "creation_date": 1580322362, "answer_id": 59973389, "question_id": 54331394, "link": "https://stackoverflow.com/questions/54331394/adding-gatsby-plugin-typescript-to-gatsbyjs-react-is-not-defined/59973389#59973389", "title": "Adding gatsby-plugin-typescript to GatsbyJS &quot;React is not defined&quot;", "body": "<p>In my case, I ran into this problem when I configured the typescript like this:</p>\n\n<pre><code>  plugins: [\n    {\n      resolve: `gatsby-plugin-typescript`,\n      options: {\n        isTSX: true, // defaults to false\n        jsxPragma: `jsx`, // defaults to \"React\"\n        allExtensions: true, // defaults to false\n      },\n    },\n    // (continues...)\n  ]\n</code></pre>\n\n<p>I changed into the default plugin:</p>\n\n<pre><code>  plugins: [\n    `gatsby-plugin-typescript`,\n    // (continues...)\n  ]\n</code></pre>\n\n<p>This fixed the problem for me.</p>\n\n<p>I found this fix from following article: <a href=\"https://github.com/ChristopherBiscardi/gatsby-mdx/issues/358\" rel=\"noreferrer\">https://github.com/ChristopherBiscardi/gatsby-mdx/issues/358</a></p>\n"}, {"tags": [], "owner": {"reputation": 85, "user_id": 4067971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b968e23228cd3e6265db5c16974babc?s=128&d=identicon&r=PG&f=1", "display_name": "gellati", "link": "https://stackoverflow.com/users/4067971/gellati"}, "is_accepted": false, "score": 5, "last_activity_date": 1591271574, "last_edit_date": 1591271574, "creation_date": 1591268684, "answer_id": 62193065, "question_id": 54331394, "link": "https://stackoverflow.com/questions/54331394/adding-gatsby-plugin-typescript-to-gatsbyjs-react-is-not-defined/62193065#62193065", "title": "Adding gatsby-plugin-typescript to GatsbyJS &quot;React is not defined&quot;", "body": "<p>This configuration in the page on <a href=\"https://www.gatsbyjs.org/packages/gatsby-plugin-typescript/?=by-config.js\" rel=\"noreferrer\">adding Typescript to  Gatsby</a></p>\n\n<pre><code>// gatsby-config.js\nmodule.exports = {\n  plugins: [\n    {\n      resolve: `gatsby-plugin-typescript`,\n        options: {\n          isTSX: true, // defaults to false\n          jsxPragma: `jsx`, // defaults to \"React\"\n          allExtensions: true, // defaults to false\n        },\n     },\n  ],\n}\n</code></pre>\n\n<p>If you change this line</p>\n\n<pre><code>jsxPragma: `jsx`,\n</code></pre>\n\n<p>to</p>\n\n<pre><code>jsxPragma: `React`,\n</code></pre>\n\n<p>your code will work.</p>\n"}], "owner": {"reputation": 448, "user_id": 8344506, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bPRDzCCdZVY/AAAAAAAAAAI/AAAAAAAADDk/cupt-KsjPkI/photo.jpg?sz=128", "display_name": "Josh Bowden", "link": "https://stackoverflow.com/users/8344506/josh-bowden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2123, "favorite_count": 0, "answer_count": 4, "score": 7, "last_activity_date": 1591271574, "creation_date": 1548259956, "question_id": 54331394, "link": "https://stackoverflow.com/questions/54331394/adding-gatsby-plugin-typescript-to-gatsbyjs-react-is-not-defined", "title": "Adding gatsby-plugin-typescript to GatsbyJS &quot;React is not defined&quot;", "body": "<p>I created the hello world GatsbyJS application and then added the typescript plugin and I immediately got the error \"React is not defined\". I went through the steps of adding \"import * as React from 'react'\"; but I still have the same error being thrown in /cache/app.js. I am not sure about the next steps.</p>\n\n<p>Hello world GatsybyJS: <a href=\"https://www.gatsbyjs.org/tutorial/part-zero/#create-a-gatsby-site\" rel=\"noreferrer\">https://www.gatsbyjs.org/tutorial/part-zero/#create-a-gatsby-site</a></p>\n\n<p>Adding Typescript: <a href=\"https://www.gatsbyjs.org/packages/gatsby-plugin-typescript/?=by-config.js\" rel=\"noreferrer\">https://www.gatsbyjs.org/packages/gatsby-plugin-typescript/?=by-config.js</a></p>\n\n<p>Has anyone had this same issue?</p>\n"}, {"tags": ["node.js", "mongodb", "typescript", "mongoose", "nestjs"], "answers": [{"comments": [{"owner": {"reputation": 999, "user_id": 7948731, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1OZSdNpYnmY/AAAAAAAAAAI/AAAAAAAAANk/FoWS1eavvmU/photo.jpg?sz=128", "display_name": "Aldo", "link": "https://stackoverflow.com/users/7948731/aldo"}, "edited": false, "score": 0, "creation_date": 1548262704, "post_id": 54332059, "comment_id": 95482143, "body": "Actually, you abandoned the updateMany. But, if you wanna go back to the updateMany, see that you need to pass a condition to the criteria when using upsert, because mongoose needs to evaluate if it is going to update or insert. In your first attempt, you were not passing the criteria to the query."}, {"owner": {"reputation": 999, "user_id": 7948731, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1OZSdNpYnmY/AAAAAAAAAAI/AAAAAAAAANk/FoWS1eavvmU/photo.jpg?sz=128", "display_name": "Aldo", "link": "https://stackoverflow.com/users/7948731/aldo"}, "edited": false, "score": 0, "creation_date": 1548348278, "post_id": 54332059, "comment_id": 95518405, "body": "Did you set a criteria?"}, {"owner": {"reputation": 796, "user_id": 2684237, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/VE8d0.jpg?s=128&g=1", "display_name": "Kepedizer", "link": "https://stackoverflow.com/users/2684237/kepedizer"}, "edited": false, "score": 0, "creation_date": 1608121379, "post_id": 54332059, "comment_id": 115484639, "body": "This is not bulk updating so will not scale."}], "tags": [], "owner": {"reputation": 198, "user_id": 8560261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa66c931cf008050994b15fb4766c39e?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus", "link": "https://stackoverflow.com/users/8560261/matheus"}, "is_accepted": true, "score": 1, "last_activity_date": 1548262297, "creation_date": 1548262297, "answer_id": 54332059, "question_id": 54330949, "link": "https://stackoverflow.com/questions/54330949/updatemany-in-mongoose-not-working-but-directly-in-mongodb-works-fine/54332059#54332059", "title": "UpdateMany in mongoose not working but directly in mongodb works fine", "body": "<p>I resolved the problem, i need to pass a function in argument of updateMany</p>\n\n<pre><code>for(let n of obj){\n   &lt;context&gt;.update({name: n.name}, {$set: {'age':n.age}}, {upsert: true},  \n(err, doc)=&gt;{\n    if(err) console.log(err);\n    console.log(doc)\n })\n}\n</code></pre>\n"}], "owner": {"reputation": 198, "user_id": 8560261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa66c931cf008050994b15fb4766c39e?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus", "link": "https://stackoverflow.com/users/8560261/matheus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2414, "favorite_count": 1, "accepted_answer_id": 54332059, "answer_count": 1, "score": 3, "last_activity_date": 1548262297, "creation_date": 1548258531, "last_edit_date": 1548258923, "question_id": 54330949, "link": "https://stackoverflow.com/questions/54330949/updatemany-in-mongoose-not-working-but-directly-in-mongodb-works-fine", "title": "UpdateMany in mongoose not working but directly in mongodb works fine", "body": "<p>I'm trying to make update/insert in <strong>mongoose</strong>. I make some request and the result is ( exemple )</p>\n\n<pre><code>let obj = [\n    {name: aaa,age: 10},\n    {name: bbb,age: 11},\n    {name: ccc,age: 12},\n]\n</code></pre>\n\n<p>I'm trying to update all documents, but if they dont exist, create them.</p>\n\n<p>I tried do:</p>\n\n<pre><code>updateMany({}, {$set: {nome:\"obj.$.name\", idade: \"obj.$.age\"}}, {upsert:true})\n</code></pre>\n\n<p>But, nothing happens, I try to make another test in mongoose, more simple, like this:</p>\n\n<pre><code>&lt;model-context&gt;.updateMany({},{$set: {name: 'abc'}},{upsert: true})\n</code></pre>\n\n<p>Didnt work, so I make the same update direct in mongodb</p>\n\n<pre><code>db.context.updateMany({},{$set: {name: 'abc'}},{upsert: true})\n</code></pre>\n\n<p>And worked, I need to do something more in mongoose to work? </p>\n\n<p><strong>NOTE</strong>: I can use createMany in mongoose, works fine.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 4927, "user_id": 2224454, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hzdEm.png?s=128&g=1", "display_name": "akcasoy", "link": "https://stackoverflow.com/users/2224454/akcasoy"}, "edited": false, "score": 0, "creation_date": 1548258799, "post_id": 54330911, "comment_id": 95479945, "body": "this puts the first array in a new array."}, {"owner": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "reply_to_user": {"reputation": 4927, "user_id": 2224454, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hzdEm.png?s=128&g=1", "display_name": "akcasoy", "link": "https://stackoverflow.com/users/2224454/akcasoy"}, "edited": false, "score": 0, "creation_date": 1548259053, "post_id": 54330911, "comment_id": 95480091, "body": "@akcasoy You can also use the <code>apply</code> call, but that&#39;s basically the same as using the spread operator. <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 4927, "user_id": 2224454, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hzdEm.png?s=128&g=1", "display_name": "akcasoy", "link": "https://stackoverflow.com/users/2224454/akcasoy"}, "edited": false, "score": 0, "creation_date": 1548259699, "post_id": 54330911, "comment_id": 95480471, "body": "None of them works for me. the first one (as said before) puts the array in a second one. the second creates a new scope appearently and i cannot use my method as it is now"}], "tags": [], "owner": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "is_accepted": false, "score": 0, "last_activity_date": 1548259173, "last_edit_date": 1548259173, "creation_date": 1548258431, "answer_id": 54330911, "question_id": 54330873, "link": "https://stackoverflow.com/questions/54330873/why-typescript-functions-with-variable-argument-counts-does-not-accept-array/54330911#54330911", "title": "Why TypeScript functions with variable argument counts does not accept array?", "body": "<p>Change it to <code>function2(...args)</code></p>\n\n<p>or old fashioned</p>\n\n<pre><code>function2.apply(null, args);\n</code></pre>\n"}], "owner": {"reputation": 4927, "user_id": 2224454, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hzdEm.png?s=128&g=1", "display_name": "akcasoy", "link": "https://stackoverflow.com/users/2224454/akcasoy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1548259173, "creation_date": 1548258295, "question_id": 54330873, "link": "https://stackoverflow.com/questions/54330873/why-typescript-functions-with-variable-argument-counts-does-not-accept-array", "title": "Why TypeScript functions with variable argument counts does not accept array?", "body": "<p>I have the following functions with variable argument counts:</p>\n\n<pre><code>function1(...args: string[]) {\n   function2(args);   -------------&gt; does not work!\n}\n\nfunction2(...args: string[]) {\n   ...\n}\n</code></pre>\n\n<p>Why can i call these function with multiple parameters like this:</p>\n\n<pre><code>this.function2(\"a\", \"b\", \"c\");\n</code></pre>\n\n<p>and those are given within an array in the function. But i cannot call these functions with this array. Is there any easy way of doing this, other than again exposing the array to individual items? </p>\n\n<p>This is the given error: Argument of type 'string[]' is not assignable to parameter of type 'string'</p>\n"}, {"tags": ["typescript", "protractor", "cucumber"], "answers": [{"tags": [], "owner": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "is_accepted": true, "score": 1, "last_activity_date": 1548260835, "creation_date": 1548260835, "answer_id": 54331633, "question_id": 54330750, "link": "https://stackoverflow.com/questions/54330750/browser-sleep-and-browser-pause-do-not-get-executed/54331633#54331633", "title": "Browser.sleep and browser.pause do not get executed", "body": "<p>Protractor uses WebdriverJS to interact with the browser and all actions in webdriverJS are asynchronous. Protractor uses a webdriverJS feature called the promise manager which handles all these async promises so that they are executed in the order they are written and the tests become more readable for the test creator.\nThis feature is being deprecated by webdriverJS however as promises have become easier to manage with the introduction of async/await. For this reason it is recommended to move away from having your tests rely on the promise manager as it will eventually be unavailable in upcoming webdriverJS version which Protractor uses.</p>\n\n<p>I mentioned all of this because it appears, from you use of async/await, you already have the SELENIUM_PROMISE_MANAGER setting set to false in your conf. This means these promises are no longer being resolved by protractor and need to be handled manually in your test.</p>\n\n<p>Your wait is not executing because that promise is no being awaited within you async function.</p>\n\n<pre><code>Given(/^I access the  Catalogue page$/, async () =&gt; {\n    await expect(browser.getTitle()).to.eventually.equal(\"Sign in to your account\");\n});\n\n\nThen(/^I should see the product$/, async () =&gt; {\n    await browser.sleep(5000);\n    //expect(cataloguePage.allProducts.getText()).to.be(\"Fixed Product\");\n});\n</code></pre>\n\n<p>Hope that helps.</p>\n"}], "owner": {"reputation": 121, "user_id": 7690347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fcbd81fbe10ec1a783889570a160ec4?s=128&d=identicon&r=PG&f=1", "display_name": "cristina", "link": "https://stackoverflow.com/users/7690347/cristina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 509, "favorite_count": 0, "accepted_answer_id": 54331633, "answer_count": 1, "score": 1, "last_activity_date": 1548260835, "creation_date": 1548257844, "question_id": 54330750, "link": "https://stackoverflow.com/questions/54330750/browser-sleep-and-browser-pause-do-not-get-executed", "title": "Browser.sleep and browser.pause do not get executed", "body": "<p>I am new to protractor and typescript and I am trying out the framework now for a PoC. However, I was wondering why the browser.sleep() or browser.pause() do not get executed in the following scenario?<br>\nThe test just exits right away after the first step passes.</p>\n\n<pre><code>Given(/^I access the  Catalogue page$/, async () =&gt; {\n    await expect(browser.getTitle()).to.eventually.equal(\"Sign in to your account\");\n});\n\n\nThen(/^I should see the product$/, async () =&gt; {\n    browser.sleep(5000);\n    //expect(cataloguePage.allProducts.getText()).to.be(\"Fixed Product\");\n});\n</code></pre>\n\n<p>I know it is a bad practice to use browser.sleep and I will not use it in my code, however, it is useful while building the tests. </p>\n"}, {"tags": ["angular", "typescript", "angular6", "angular-directive", "angular7"], "answers": [{"comments": [{"owner": {"reputation": 27795, "user_id": 577805, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/dbbe0a475e6a151f0595b83e55475f34?s=128&d=identicon&r=PG", "display_name": "Miguel Moura", "link": "https://stackoverflow.com/users/577805/miguel-moura"}, "edited": false, "score": 0, "creation_date": 1548260458, "post_id": 54330999, "comment_id": 95480947, "body": "Maybe I didn&#39;t explained myself correctly ... I update by question. I do not want to use a dialog. All I want is to use the anchor ... When it is clicked (once is enough) it goes to a &quot;confirm mode&quot; waiting for a second click. And just then calls the method delete(post). Does this make sense?"}], "tags": [], "owner": {"reputation": 5977, "user_id": 5683579, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8c263738dccc90304c0ac71ed8ed505b?s=128&d=identicon&r=PG", "display_name": "joh04667", "link": "https://stackoverflow.com/users/5683579/joh04667"}, "is_accepted": false, "score": -1, "last_activity_date": 1548258703, "creation_date": 1548258703, "answer_id": 54330999, "question_id": 54330557, "link": "https://stackoverflow.com/questions/54330557/double-click-angular-directive/54330999#54330999", "title": "Double click Angular directive", "body": "<p>You can add host element behavior bindings and listeners through a directive with <code>@HostBinding</code> and <code>@HostListener</code>, as well as arbitrary <code>@Input</code>s bound to the directive itself:</p>\n\n<pre><code>@Directive({\n  selector: '[confirm]'\n})\n\nexport class ConfirmDirective {\n\n  @HostListener('dblclick') onDoubleClick(event) {\n    // .. do double click logic, just like binding (dbclick) to an element\n  }\n\n  @HostBinding('class.confirm') confirmStyle: boolean; // toggles class on host, just like with template binding\n\n  @Input('confirm') confirm: boolean; // State from outside the directive that can be bound to the directive attribute directly, i.e. 'click to confirm' box\n\n  constructor(el: ElementRef) {\n     el.nativeElement ...\n  }\n\n}\n</code></pre>\n\n<p>If you're looking to directly add HTML / markup with the directive for a confirm button, this behavior is instead better wrapped with a component instead. Components are for views; directives are for behavior. One idea is to wrap the confirm dialog(?) into a service that the directive can call. </p>\n"}, {"comments": [{"owner": {"reputation": 27795, "user_id": 577805, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/dbbe0a475e6a151f0595b83e55475f34?s=128&d=identicon&r=PG", "display_name": "Miguel Moura", "link": "https://stackoverflow.com/users/577805/miguel-moura"}, "edited": false, "score": 0, "creation_date": 1548263752, "post_id": 54332369, "comment_id": 95482695, "body": "But can&#39;t this be done using a directive? The reason why I am looking for a directive is to keep this logic outside in the HTML and outside of the component code. And also to reuse it ...Other than that the behaviour of the code you posted is exactly what I am looking for."}, {"owner": {"reputation": 2918, "user_id": 3979823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/azljt.png?s=128&g=1", "display_name": "ABOS", "link": "https://stackoverflow.com/users/3979823/abos"}, "reply_to_user": {"reputation": 27795, "user_id": 577805, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/dbbe0a475e6a151f0595b83e55475f34?s=128&d=identicon&r=PG", "display_name": "Miguel Moura", "link": "https://stackoverflow.com/users/577805/miguel-moura"}, "edited": false, "score": 0, "creation_date": 1548263787, "post_id": 54332369, "comment_id": 95482709, "body": "you can extract the logic into directive."}], "tags": [], "owner": {"reputation": 2918, "user_id": 3979823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/azljt.png?s=128&g=1", "display_name": "ABOS", "link": "https://stackoverflow.com/users/3979823/abos"}, "is_accepted": false, "score": 0, "last_activity_date": 1548263520, "creation_date": 1548263520, "answer_id": 54332369, "question_id": 54330557, "link": "https://stackoverflow.com/questions/54330557/double-click-angular-directive/54332369#54332369", "title": "Double click Angular directive", "body": "<p>You can use rxjs takeUntil,</p>\n\n<pre><code>posts: any[] = [\n  { id: 1, title: 'post 1', deleteText: 'Delete Post' },\n  { id: 2, title: 'post 2', deleteText: 'Delete Post' }\n];\n\ndelete(post) {\n  post.deleteText = 'Click to Confirm';\n  post.css = 'custom';\n  let confirm$ = fromEvent(document.getElementById('post-' + post.id), 'click');\n  let timer$ = timer(5000)\n\n  confirm$\n    .pipe(\n      takeUntil(timer$)\n    )\n    .subscribe(() =&gt; {\n      console.log('ready to delete');\n      this.posts = this.posts.filter(p =&gt; p.id !== post.id);\n    });\n\n\n\n  timer$\n    .subscribe(() =&gt; {\n      if (this.posts.find(p =&gt; p.id === post.id)) {\n        console.log('timer is up, abort delete');\n        post.deleteText = 'Delete Post';\n        post.css = '';\n      }\n    });\n  }\n</code></pre>\n\n<p>HtML:</p>\n\n<pre><code>&lt;ul class=\"posts\"&gt;\n   &lt;li *ngFor=\"let post of posts\"&gt;\n      &lt;h2&gt;{{post.title}}&lt;/h2&gt;\n      &lt;a (click)=\"delete(post)\" [ngClass]=\"post.css\" [id]=\"'post-'+post.id\"&gt;          {{post.deleteText}}&lt;/a&gt;\n  &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>demo: <a href=\"https://stackblitz.com/edit/angular-7-master-xg8phb\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-7-master-xg8phb</a></p>\n\n<p>(also need to manage subscriptions) </p>\n"}, {"comments": [{"owner": {"reputation": 27795, "user_id": 577805, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/dbbe0a475e6a151f0595b83e55475f34?s=128&d=identicon&r=PG", "display_name": "Miguel Moura", "link": "https://stackoverflow.com/users/577805/miguel-moura"}, "edited": false, "score": 0, "creation_date": 1548279616, "post_id": 54334510, "comment_id": 95489456, "body": "Thank you for your code. The reason why I would like a directive is that I would be able to use it in a button, anchor, etc. And could also use the native HTML tags as usual. Amazing how a task easy to implement in JQuery is complex in Angular."}, {"owner": {"reputation": 27795, "user_id": 577805, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/dbbe0a475e6a151f0595b83e55475f34?s=128&d=identicon&r=PG", "display_name": "Miguel Moura", "link": "https://stackoverflow.com/users/577805/miguel-moura"}, "edited": false, "score": 0, "creation_date": 1548279645, "post_id": 54334510, "comment_id": 95489471, "body": "I understand that the confirm dialog could be easier but in this project I will need to set it this way ..."}, {"owner": {"reputation": 4898, "user_id": 3808667, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Gs7L3.jpg?s=128&g=1", "display_name": "Brother Woodrow", "link": "https://stackoverflow.com/users/3808667/brother-woodrow"}, "reply_to_user": {"reputation": 27795, "user_id": 577805, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/dbbe0a475e6a151f0595b83e55475f34?s=128&d=identicon&r=PG", "display_name": "Miguel Moura", "link": "https://stackoverflow.com/users/577805/miguel-moura"}, "edited": false, "score": 0, "creation_date": 1548338975, "post_id": 54334510, "comment_id": 95512480, "body": "@MiguelMoura I figured out a way to do it in a directive. See my updated answer."}], "tags": [], "owner": {"reputation": 4898, "user_id": 3808667, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Gs7L3.jpg?s=128&g=1", "display_name": "Brother Woodrow", "link": "https://stackoverflow.com/users/3808667/brother-woodrow"}, "is_accepted": true, "score": 1, "last_activity_date": 1548339265, "last_edit_date": 1548339265, "creation_date": 1548272371, "answer_id": 54334510, "question_id": 54330557, "link": "https://stackoverflow.com/questions/54330557/double-click-angular-directive/54334510#54334510", "title": "Double click Angular directive", "body": "<h1>Update:</h1>\n\n<p>If you really want to, you actually can do it with a directive. Try this:</p>\n\n<pre><code>import { Directive, ElementRef, Input, Renderer2, OnInit } from '@angular/core';\nimport { Observable, Subject, BehaviorSubject, timer, fromEvent } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n@Directive({\n  selector: '[confirm]'\n})\nexport class ConfirmDirective implements OnInit {\n  @Input('confirm') delete: Function;\n  private confirm$ = fromEvent(this.el.nativeElement, 'click');\n  private confirmTimeout: number = 5000;\n  private timer$: Observable&lt;number&gt;;\n  private isConfirming = new BehaviorSubject&lt;boolean&gt;(false);\n  private isConfirming$ = this.isConfirming.asObservable();\n\n  constructor(private el: ElementRef, private renderer: Renderer2) {}\n\n  ngOnInit() {\n    this.isConfirming$.subscribe((isConfirming) =&gt; this.setLabel(isConfirming));\n    this.confirm$.subscribe((event: any) =&gt; this.doConfirm());\n  }\n\n  setLabel(isConfirming: boolean): void {\n    // set the correct element text and styles\n    let text: any;\n    let textEl = this.renderer.createElement('span');\n\n    if (this.el.nativeElement.firstChild) {\n      this.renderer.removeChild(this.el.nativeElement, this.el.nativeElement.firstChild);\n    }\n    if (this.isConfirming.value) { // we are confirming right now\n      text = this.renderer.createText('Please confirm delete');\n      this.renderer.addClass(this.el.nativeElement, 'delete');\n    } else {\n      text = this.renderer.createText('Delete');\n      this.renderer.removeClass(this.el.nativeElement, 'delete');\n    }\n\n    this.renderer.appendChild(this.el.nativeElement, text);\n  }\n\n  doConfirm(): void {\n    if (this.isConfirming.value === false) { // start confirming\n      this.timer$ = timer(this.confirmTimeout);\n      this.isConfirming.next(true);\n\n      // start the timer\n      this.timer$\n          .pipe(\n            takeUntil(this.confirm$) // stop timer when confirm$ emits (this happens when the button is clicked again)\n          )\n            .subscribe(() =&gt; {\n            this.isConfirming.next(false); // timeout done - confirm cancelled\n        });\n    } else { // delete confirmation\n      this.isConfirming.next(false);\n      this.delete(); // this is the delete action that was passed to the directive\n    }\n  }\n}\n</code></pre>\n\n<p>You would apply it to an element like this, passing in the actual <code>delete</code> method as a parameter.</p>\n\n<pre><code>&lt;button type=\"button\" [confirm]=\"delete\"&gt;&lt;/button&gt;\n</code></pre>\n\n<p>Working example: <a href=\"https://stackblitz.com/edit/angular-wdfcux\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-wdfcux</a></p>\n\n<h2>Old answer:</h2>\n\n<p>Not sure a directive would be the best way to go. It could probably be done but you'd have to intercept the click handler somehow and/or pass the delete method to it. It would probably be messy.</p>\n\n<p>I'd probably create a component for the delete button and handle it there (well actually that's a lie, if this were me I'd use the native <code>confirm</code> dialog and be done with it, but you don't want to).</p>\n\n<p>Something like this:</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { Observable, Subject, timer } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n  selector: 'delete-button',\n  template: `&lt;button type=\"button\" (click)=\"delete()\" [ngClass]=\"{ delete: isConfirming }\"&gt;{{ label }}&lt;/button&gt;`,\n  styles: ['.delete { background-color: teal; color: white; } ']\n})\nexport class DeleteButtonComponent {\n  private confirmTimeout: number = 5000;\n  private timer$: Observable&lt;number&gt;;\n  private cancelTimer = new Subject();\n  public isConfirming: boolean = false;\n\n  constructor() {}\n\n  get label(): string {\n    return this.isConfirming\n      ? 'Please confirm delete'\n      : 'Delete'\n  }\n\n  delete() {\n    if (!this.isConfirming) {\n      this.timer$ = timer(this.confirmTimeout);\n      this.isConfirming = true;\n\n      this.timer$\n          .pipe(\n            takeUntil(this.cancelTimer)\n          ).subscribe(() =&gt; {\n            this.isConfirming = false;\n        }, null, () =&gt; this.isConfirming = false);\n    } else {\n      this.cancelTimer.next();\n      // really delete\n    }\n  }\n}\n</code></pre>\n\n<p>Working example: <a href=\"https://stackblitz.com/edit/angular-z6fek4\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-z6fek4</a></p>\n"}], "owner": {"reputation": 27795, "user_id": 577805, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/dbbe0a475e6a151f0595b83e55475f34?s=128&d=identicon&r=PG", "display_name": "Miguel Moura", "link": "https://stackoverflow.com/users/577805/miguel-moura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1038, "favorite_count": 0, "accepted_answer_id": 54334510, "answer_count": 3, "score": -1, "last_activity_date": 1548339426, "creation_date": 1548257254, "last_edit_date": 1548339426, "question_id": 54330557, "link": "https://stackoverflow.com/questions/54330557/double-click-angular-directive", "title": "Double click Angular directive", "body": "<p>I have the following template in Angular 7:</p>\n\n<pre><code>&lt;ul class=\"posts\"&gt;\n  &lt;li *ngFor=\"let post of posts\"&gt;\n    &lt;h2&gt;{{post.title}}&lt;/h2&gt;\n    &lt;a (click)=\"delete(post)\"&gt;Delete Post&lt;/a&gt;\n  &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>I would like to create a confirm directive to be used as:</p>\n\n<pre><code>&lt;a (click)=\"delete(post)\" confirm=\"Confirm delete\" class=\"delete\"&gt;Delete Post&lt;/a&gt;\n</code></pre>\n\n<p>The moment is clicked (one is enough) it changes to:</p>\n\n<pre><code>&lt;a (click)=\"delete(post)\" confirm=\"Confirm delete\" class=\"delete confirm\"&gt;Confirm delete&lt;/a&gt;\n</code></pre>\n\n<p>So what happens is:<br>\n- Anchor's text changes from \"Delete Post\" to the one inside confirm, e.g. \"Confirm Delete\";<br>\n- Class \"confirm\" is added to anchor CSS classes;<br>\n- Delete(post) method is only called after anchor being clicked on \"confirm mode\";<br>\n- After being clicked on \"confirm mode\" OR 5 seconds go by without being clicked it goes to its original state:      </p>\n\n<pre><code>&lt;a (click)=\"delete(post)\" confirm=\"Confirm delete\" class=\"delete\"&gt;Delete Post&lt;/a&gt;\n</code></pre>\n\n<p>Can this be done with a directive? </p>\n\n<pre><code>import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[confirm]'\n})\n\nexport class ConfirmDirective {\n\n  constructor(el: ElementRef) {\n     el.nativeElement ...\n  }\n\n}\n</code></pre>\n\n<p>I started to create the directive but I am really not sure how to do this.</p>\n"}, {"tags": ["angular", "typescript", "angular2-highcharts"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5788012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d5c5d7353a20cbce794491917fff2ae?s=128&d=identicon&r=PG&f=1", "display_name": "user5788012", "link": "https://stackoverflow.com/users/5788012/user5788012"}, "edited": false, "score": 0, "creation_date": 1548303879, "post_id": 54331093, "comment_id": 95495195, "body": "Tried using this but it throws an error:  Argument of type &#39;{ chart: { type: string; renderTo: string; zoomType: string; reflow: true; }; title: { text: null; }; xAxis: { type: string; labels: { style: { color: string; fill: string; fontSize: string; fontWeight: string; }; }; title: { ...; }; }; ... 6 more ...; responsive: any; }&#39; is not assignable to parameter of type &#39;Options&#39;.   Object literal may only specify known properties, and &#39;responsive&#39; does not exist in type &#39;Options&#39;. [2345]"}, {"owner": {"reputation": 25325, "user_id": 8951377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MYqI.jpg?s=128&g=1", "display_name": "ppotaczek", "link": "https://stackoverflow.com/users/8951377/ppotaczek"}, "reply_to_user": {"reputation": 1, "user_id": 5788012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d5c5d7353a20cbce794491917fff2ae?s=128&d=identicon&r=PG&f=1", "display_name": "user5788012", "link": "https://stackoverflow.com/users/5788012/user5788012"}, "edited": false, "score": 0, "creation_date": 1548332332, "post_id": 54331093, "comment_id": 95508317, "body": "Hi user5788012, This error looks very strange. Could you reproduce this situation in some online code editor, like: <a href=\"https://codesandbox.io/s/543l0p0qq4\" rel=\"nofollow noreferrer\">codesandbox.io/s/543l0p0qq4</a> ?"}], "tags": [], "owner": {"reputation": 25325, "user_id": 8951377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MYqI.jpg?s=128&g=1", "display_name": "ppotaczek", "link": "https://stackoverflow.com/users/8951377/ppotaczek"}, "is_accepted": false, "score": 0, "last_activity_date": 1548259047, "creation_date": 1548259047, "answer_id": 54331093, "question_id": 54330493, "link": "https://stackoverflow.com/questions/54330493/issues-with-highchart-responsive-when-pointwidth-set-for-column-chart/54331093#54331093", "title": "Issues with highchart responsive when pointwidth set for column chart", "body": "<p>You can use <code>responsive</code> property to add conditions and define specific chart options:</p>\n\n<pre><code>responsive: {\n    rules: [{\n        condition: {\n            maxWidth: 500\n        },\n        chartOptions: {\n            plotOptions: {\n                column: {\n                    pointWidth: 20,\n                    stacking: 'normal'\n                }\n            }\n        }\n    }]\n}\n</code></pre>\n\n<p>Live demo: <a href=\"http://jsfiddle.net/BlackLabel/mr5qL2de/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/BlackLabel/mr5qL2de/</a></p>\n\n<p>API Reference: <a href=\"https://api.highcharts.com/highcharts/responsive\" rel=\"nofollow noreferrer\">https://api.highcharts.com/highcharts/responsive</a></p>\n"}], "owner": {"reputation": 1, "user_id": 5788012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d5c5d7353a20cbce794491917fff2ae?s=128&d=identicon&r=PG&f=1", "display_name": "user5788012", "link": "https://stackoverflow.com/users/5788012/user5788012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 660, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548259047, "creation_date": 1548256999, "question_id": 54330493, "link": "https://stackoverflow.com/questions/54330493/issues-with-highchart-responsive-when-pointwidth-set-for-column-chart", "title": "Issues with highchart responsive when pointwidth set for column chart", "body": "<p>Is it possible to make column chart responsive when viewed on small screen?\ni have set pointwidth to 120 property in plotOptions when i view it in small screen like mobile or tablet column bars gets one over other. Is there way to render chart view so that for small size screen it can viewed properly? </p>\n\n<pre><code>export  class AppComponent implements OnInit  {\n\n  @ViewChild('container') chartContainer: any;\n\n  ngOnInit() {\n    console.log(this);\n    this.createBarChart();\n\n  }\n\ncreateBarChart() {\n  // Create the chart\n  Highcharts.chart('bar-container', {\n    chart: {\n        type: 'column',\n\n    },\n    title: {\n      text: null\n    },\n\n    xAxis: {\n        type: 'category',\n        labels: {\n          style: {\n              color: '#c5c5c5',\n              fill: '#c5c5c5',\n          },\n     },\n\n     title: {\n         text: null\n     }\n    },\n    yAxis: {\n        title: {\n            text: null\n        }\n\n    },\n    legend: {\n        enabled: false\n    },\n    plotOptions: {\n        series: {\n\n          },\n          column: {\n              /* Here is the setting to limit the maximum column width. */\n              pointWidth: 120,\n              // maxPointWidth: 60,\n              stacking: 'normal',\n\n          },\n\n  },\n\n    tooltip: {\n        pointFormat: '&lt;b&gt;{point.y:f} hours&lt;/b&gt;',\n        backgroundColor: '#000',\n        style: {\n          color: '#fff'\n        }\n\n    },\n    credits: {\n      enabled: false\n  },\n\n    'series': [\n        {\n            'name': 'Hours Per Period',\n             color: {\n              linearGradient: { x1: 0, x2: 0, y1: 0, y2: 1 },\n              stops: [\n                  [0, '#05e06f'],\n                  [1, '#00b1f5']\n              ]\n             },\n            'data': [\n                {\n                    'name': 'Week 1',\n                    'y': 65,\n                },\n                {\n                    'name': 'Week 2',\n                    'y': 45,\n                },\n                {\n                    'name': 'Week 3',\n                    'y': 37,\n                },\n                {\n                    'name': 'Week 4',\n                    'y': 80,\n                },\n                {\n                    'name': 'Week 5',\n                    'y': 95,\n                }\n            ]\n        },\n    ],\n\n\n    //     responsive {\n\n    // },\n\n  });\n}\n}\n</code></pre>\n\n<p>some spaces between column bar is required.. any solution\nusing angular 5, highcharts 5   </p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 691, "user_id": 9946382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P24x3.png?s=128&g=1", "display_name": "Leo", "link": "https://stackoverflow.com/users/9946382/leo"}, "edited": false, "score": 0, "creation_date": 1548256852, "post_id": 54330390, "comment_id": 95478846, "body": "Could you give more details about the project you have in mind ?"}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1548257137, "post_id": 54330390, "comment_id": 95479003, "body": "Yes, it is. Follow the instructions behind this link and you&#39;ll have a running project based on angular, using typescript, HTML and CSS inside nodejs. <a href=\"https://angular.io/guide/quickstart\" rel=\"nofollow noreferrer\">angular.io/guide/quickstart</a>"}, {"owner": {"reputation": 1918, "user_id": 6474961, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/u2f46.jpg?s=128&g=1", "display_name": "Samudrala Ramu", "link": "https://stackoverflow.com/users/6474961/samudrala-ramu"}, "edited": false, "score": 0, "creation_date": 1548258184, "post_id": 54330390, "comment_id": 95479582, "body": "No, this not related to angular"}, {"owner": {"reputation": 1918, "user_id": 6474961, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/u2f46.jpg?s=128&g=1", "display_name": "Samudrala Ramu", "link": "https://stackoverflow.com/users/6474961/samudrala-ramu"}, "edited": false, "score": 0, "creation_date": 1548258255, "post_id": 54330390, "comment_id": 95479620, "body": "my requirement is :  i want to display a message from an API through Typescript code only with out angular"}], "owner": {"reputation": 1918, "user_id": 6474961, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/u2f46.jpg?s=128&g=1", "display_name": "Samudrala Ramu", "link": "https://stackoverflow.com/users/6474961/samudrala-ramu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 14, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548256674, "creation_date": 1548256674, "question_id": 54330390, "link": "https://stackoverflow.com/questions/54330390/is-it-possible-to-do-a-project-with-html-css-typescript-nodejs-if-possible-give", "title": "Is it possible to do a project with html,css,typescript,nodeJS, If possible give me any reference for that?", "body": "<blockquote>\n  <p>I am confusing to do what is the best way to do this, any experts can give me a best suggestion on it. Thanks advance</p>\n</blockquote>\n"}, {"tags": ["angular", "typescript", "data-binding"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 8806092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/190686fabff007ee45601f046aefc5b1?s=128&d=identicon&r=PG&f=1", "display_name": "Hino_Bit", "link": "https://stackoverflow.com/users/8806092/hino-bit"}, "edited": false, "score": 0, "creation_date": 1548257026, "post_id": 54330428, "comment_id": 95478940, "body": "But i receive this error: ERROR TypeError: Cannot read property &#39;name&#39; of undefined"}, {"owner": {"reputation": 3804, "user_id": 1205647, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7b03ae8795066ff29f8da0860b6411b5?s=128&d=identicon&r=PG", "display_name": "Aragorn", "link": "https://stackoverflow.com/users/1205647/aragorn"}, "reply_to_user": {"reputation": 25, "user_id": 8806092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/190686fabff007ee45601f046aefc5b1?s=128&d=identicon&r=PG&f=1", "display_name": "Hino_Bit", "link": "https://stackoverflow.com/users/8806092/hino-bit"}, "edited": false, "score": 0, "creation_date": 1548257342, "post_id": 54330428, "comment_id": 95479118, "body": "Where are you calling that service? I don&#39;t see that part of the code. Undefined means that the service is either not called or service is not responding with value."}, {"owner": {"reputation": 25, "user_id": 8806092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/190686fabff007ee45601f046aefc5b1?s=128&d=identicon&r=PG&f=1", "display_name": "Hino_Bit", "link": "https://stackoverflow.com/users/8806092/hino-bit"}, "edited": false, "score": 0, "creation_date": 1548257462, "post_id": 54330428, "comment_id": 95479177, "body": "In getWeather with the get http request, and i receive a JSON file with the city information, in that case name (string)"}, {"owner": {"reputation": 25, "user_id": 8806092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/190686fabff007ee45601f046aefc5b1?s=128&d=identicon&r=PG&f=1", "display_name": "Hino_Bit", "link": "https://stackoverflow.com/users/8806092/hino-bit"}, "edited": false, "score": 0, "creation_date": 1548257538, "post_id": 54330428, "comment_id": 95479218, "body": "How can i update the cityVisual variable after i obtain the information?"}, {"owner": {"reputation": 3804, "user_id": 1205647, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7b03ae8795066ff29f8da0860b6411b5?s=128&d=identicon&r=PG", "display_name": "Aragorn", "link": "https://stackoverflow.com/users/1205647/aragorn"}, "reply_to_user": {"reputation": 25, "user_id": 8806092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/190686fabff007ee45601f046aefc5b1?s=128&d=identicon&r=PG&f=1", "display_name": "Hino_Bit", "link": "https://stackoverflow.com/users/8806092/hino-bit"}, "edited": false, "score": 0, "creation_date": 1548258061, "post_id": 54330428, "comment_id": 95479516, "body": "the weatherCity function you have is good enough, it will assign the value to cityVisual. However, I don&#39;t see where you are calling it from?"}, {"owner": {"reputation": 25, "user_id": 8806092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/190686fabff007ee45601f046aefc5b1?s=128&d=identicon&r=PG&f=1", "display_name": "Hino_Bit", "link": "https://stackoverflow.com/users/8806092/hino-bit"}, "edited": false, "score": 0, "creation_date": 1548258527, "post_id": 54330428, "comment_id": 95479794, "body": "I call the weatherCity(&#39;Some city&#39;) in the main.component, and in the main.component i optain the city with an input, so i call the weatherCity"}], "tags": [], "owner": {"reputation": 3804, "user_id": 1205647, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7b03ae8795066ff29f8da0860b6411b5?s=128&d=identicon&r=PG", "display_name": "Aragorn", "link": "https://stackoverflow.com/users/1205647/aragorn"}, "is_accepted": false, "score": 0, "last_activity_date": 1548256786, "creation_date": 1548256786, "answer_id": 54330428, "question_id": 54330352, "link": "https://stackoverflow.com/questions/54330352/how-can-i-do-this-data-binding-in-the-html-file-component-with-angular-and-types/54330428#54330428", "title": "How can i do this Data Binding in the HTML file component with Angular and Typescript?", "body": "<p>Here's how you'd bind the city name:</p>\n\n<pre><code>&lt;div&gt;\n  &lt;p&gt;\n    weather works! {{cityVisual.name}}\n  &lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 8806092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/190686fabff007ee45601f046aefc5b1?s=128&d=identicon&r=PG&f=1", "display_name": "Hino_Bit", "link": "https://stackoverflow.com/users/8806092/hino-bit"}, "edited": false, "score": 0, "creation_date": 1548257729, "post_id": 54330654, "comment_id": 95479314, "body": "How can i update the cityVisual after i obtai the information?"}, {"owner": {"reputation": 691, "user_id": 9946382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P24x3.png?s=128&g=1", "display_name": "Leo", "link": "https://stackoverflow.com/users/9946382/leo"}, "edited": false, "score": 0, "creation_date": 1548257796, "post_id": 54330654, "comment_id": 95479357, "body": "You need to call <code>this.weatherCity(&#39;Some city&#39;)</code> somewhere in your code, like in <code>ngOnInit</code> for example"}, {"owner": {"reputation": 25, "user_id": 8806092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/190686fabff007ee45601f046aefc5b1?s=128&d=identicon&r=PG&f=1", "display_name": "Hino_Bit", "link": "https://stackoverflow.com/users/8806092/hino-bit"}, "edited": false, "score": 0, "creation_date": 1548258393, "post_id": 54330654, "comment_id": 95479719, "body": "I call the weatherCity(&#39;Some city&#39;) in the main.component, and in the main.component i optain the city with an input, so i call the weatherCity"}, {"owner": {"reputation": 1199, "user_id": 10954839, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7FPr9PrAuTs/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOkR7HilHHvWng09e4aIToGDPmguw/mo/photo.jpg?sz=128", "display_name": "Anton Skybun", "link": "https://stackoverflow.com/users/10954839/anton-skybun"}, "edited": false, "score": 0, "creation_date": 1548259081, "post_id": 54330654, "comment_id": 95480113, "body": "console.log(this.cityVisual) What show you? in your method.Can you show data what you get after HTTP request i mean you JSON"}, {"owner": {"reputation": 25, "user_id": 8806092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/190686fabff007ee45601f046aefc5b1?s=128&d=identicon&r=PG&f=1", "display_name": "Hino_Bit", "link": "https://stackoverflow.com/users/8806092/hino-bit"}, "edited": false, "score": 0, "creation_date": 1548259505, "post_id": 54330654, "comment_id": 95480366, "body": "There is a method to update the cityVisual variable when i obtain this information?"}], "tags": [], "owner": {"reputation": 1199, "user_id": 10954839, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7FPr9PrAuTs/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOkR7HilHHvWng09e4aIToGDPmguw/mo/photo.jpg?sz=128", "display_name": "Anton Skybun", "link": "https://stackoverflow.com/users/10954839/anton-skybun"}, "is_accepted": false, "score": 0, "last_activity_date": 1548257559, "creation_date": 1548257559, "answer_id": 54330654, "question_id": 54330352, "link": "https://stackoverflow.com/questions/54330352/how-can-i-do-this-data-binding-in-the-html-file-component-with-angular-and-types/54330654#54330654", "title": "How can i do this Data Binding in the HTML file component with Angular and Typescript?", "body": "<p>You can try to get <code>name</code> of <code>cityVisual</code> only when it is define;\nYou can easy make it by add <code>?</code> after <code>cityVisual</code>.\nYou got this error, because <code>weatherCity</code> method is async. and it <code>cityVisual</code> is undefine when html init. Try code under this text.</p>\n\n<pre><code>&lt;div&gt;\n  &lt;p&gt;\n    weather works! {{cityVisual?.name}}\n  &lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 8806092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/190686fabff007ee45601f046aefc5b1?s=128&d=identicon&r=PG&f=1", "display_name": "Hino_Bit", "link": "https://stackoverflow.com/users/8806092/hino-bit"}, "edited": false, "score": 0, "creation_date": 1548260539, "post_id": 54331526, "comment_id": 95480989, "body": "I call in main.component, and i obtain the city with an input"}, {"owner": {"reputation": 25, "user_id": 8806092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/190686fabff007ee45601f046aefc5b1?s=128&d=identicon&r=PG&f=1", "display_name": "Hino_Bit", "link": "https://stackoverflow.com/users/8806092/hino-bit"}, "edited": false, "score": 0, "creation_date": 1548260596, "post_id": 54331526, "comment_id": 95481040, "body": "Like this:  getWeather() {       this.weatherComponent.weatherCity(this.city);     }   }"}, {"owner": {"reputation": 635, "user_id": 9766768, "user_type": "registered", "profile_image": "https://graph.facebook.com/1818059251579855/picture?type=large", "display_name": "Friso Hoekstra", "link": "https://stackoverflow.com/users/9766768/friso-hoekstra"}, "reply_to_user": {"reputation": 25, "user_id": 8806092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/190686fabff007ee45601f046aefc5b1?s=128&d=identicon&r=PG&f=1", "display_name": "Hino_Bit", "link": "https://stackoverflow.com/users/8806092/hino-bit"}, "edited": false, "score": 0, "creation_date": 1548260898, "post_id": 54331526, "comment_id": 95481169, "body": "Your weatherCity() function in weatherComponent does not return anything. It only sets the cityVisual object inside weatherComponent, so it will never make it to main.component. Update your function so you return the result of the WeatherService call. Then make sure you use that result inside your getWeather() function in main.component, e.g. by setting it to this.result."}, {"owner": {"reputation": 25, "user_id": 8806092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/190686fabff007ee45601f046aefc5b1?s=128&d=identicon&r=PG&f=1", "display_name": "Hino_Bit", "link": "https://stackoverflow.com/users/8806092/hino-bit"}, "edited": false, "score": 0, "creation_date": 1548261962, "post_id": 54331526, "comment_id": 95481761, "body": "Maybe if i delete the weather.component and i work only in main.component is a bad idea?  Because the situation is this: I have the main component that call the weather.component that call the weather.service that get the http request.  It is good to programming in this way or no? It have sense?"}, {"owner": {"reputation": 635, "user_id": 9766768, "user_type": "registered", "profile_image": "https://graph.facebook.com/1818059251579855/picture?type=large", "display_name": "Friso Hoekstra", "link": "https://stackoverflow.com/users/9766768/friso-hoekstra"}, "reply_to_user": {"reputation": 25, "user_id": 8806092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/190686fabff007ee45601f046aefc5b1?s=128&d=identicon&r=PG&f=1", "display_name": "Hino_Bit", "link": "https://stackoverflow.com/users/8806092/hino-bit"}, "edited": false, "score": 0, "creation_date": 1548267031, "post_id": 54331526, "comment_id": 95484108, "body": "If it works it works, but it sort of defeats the purpose of your service. If I were you I would indeed import the service into your main component and then feed the data to your child components"}], "tags": [], "owner": {"reputation": 635, "user_id": 9766768, "user_type": "registered", "profile_image": "https://graph.facebook.com/1818059251579855/picture?type=large", "display_name": "Friso Hoekstra", "link": "https://stackoverflow.com/users/9766768/friso-hoekstra"}, "is_accepted": false, "score": 0, "last_activity_date": 1548260392, "creation_date": 1548260392, "answer_id": 54331526, "question_id": 54330352, "link": "https://stackoverflow.com/questions/54330352/how-can-i-do-this-data-binding-in-the-html-file-component-with-angular-and-types/54331526#54331526", "title": "How can i do this Data Binding in the HTML file component with Angular and Typescript?", "body": "<p>Your function <code>weatherCity()</code> is never being called. That's why nothing is being rendered on your page and your console returns an error. </p>\n\n<p>Try calling it inside your <code>ngOnInit</code> block:</p>\n\n<pre><code>ngOnInit() {\n    this.weatherCity('Washington');\n}\n</code></pre>\n\n<p>Or bind it to a button in HTML:</p>\n\n<pre><code>&lt;button (click)=\"this.weatherCity('Washington')\"&gt;Load Washington&lt;/button&gt;\n</code></pre>\n\n<p>.. and check for results in your browser console.</p>\n\n<p>If you get a result there, you can bind to that result by using \n<code>{{ cityVisual.name }}</code> anywhere in your HTML. </p>\n\n<p>Make sure you are only rendering the name if <code>cityVisual</code> is actually defined by putting your code in an <code>*ngIf</code> statement:</p>\n\n<pre><code>&lt;p *ngIf=\"cityVisual\"&gt;\n    Weather works! {{cityVisual.name}}\n&lt;/p&gt;\n</code></pre>\n\n<p><strong>SIDENOTE:</strong> Don't forget to unsubscribe to your <code>WeatherService</code> if you are done fetching cities, or you will have a memory leak. </p>\n\n<p>Consider storing the subscription in a variable (e.g. <code>citySubscription$</code>) so you can call <code>.unsubscribe()</code> at <code>ngOnDestroy</code> (or whenever else you want to kill the subscription)</p>\n"}], "owner": {"reputation": 25, "user_id": 8806092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/190686fabff007ee45601f046aefc5b1?s=128&d=identicon&r=PG&f=1", "display_name": "Hino_Bit", "link": "https://stackoverflow.com/users/8806092/hino-bit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 363, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1548260392, "creation_date": 1548256558, "last_edit_date": 1548256620, "question_id": 54330352, "link": "https://stackoverflow.com/questions/54330352/how-can-i-do-this-data-binding-in-the-html-file-component-with-angular-and-types", "title": "How can i do this Data Binding in the HTML file component with Angular and Typescript?", "body": "<p>How can i see in my simple component.html file the information about the variable: cityInfo?\nThis is the component.html file, it's a very basic component, but i want to do the Data Binding with the component.ts file.\nHow can i do?</p>\n\n<pre><code>&lt;div&gt;\n  &lt;p&gt;\n    weather works! {{cityInfo}}\n  &lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And this is my component.ts.\nWith the getWeather(city), I do an http request and return me a JSON file.</p>\n\n<pre><code>export class WeatherComponent implements OnInit {\n  public cityVisual: City;\n\n  constructor(\n    private weather: WeatherService,\n  ) { }\n\n  ngOnInit() {\n  }\n\n  weatherCity(city: string) {\n    this.weather.getWeather(city).subscribe(resp =&gt; {\n      this.cityVisual = resp;\n      console.log(this.cityVisual.name);\n\n    });\n  }\n}\n</code></pre>\n\n<p>I want to see in my component.html file the \"weather work! nameCity\" output\nHow can i do this?\nPlease help me...</p>\n"}, {"tags": ["typescript", "namespaces", "export"], "answers": [{"comments": [{"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "reply_to_user": {"reputation": 43, "user_id": 10530200, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C_UIofcweAo/AAAAAAAAAAI/AAAAAAAABek/avoFN1iG5no/photo.jpg?sz=128", "display_name": "Y Zhu", "link": "https://stackoverflow.com/users/10530200/y-zhu"}, "edited": false, "score": 0, "creation_date": 1548265497, "post_id": 54330376, "comment_id": 95483381, "body": "You\u2018re welcome. Please, don&#39;t forget to mark this answer as solution."}], "tags": [], "owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "is_accepted": true, "score": 0, "last_activity_date": 1548256619, "creation_date": 1548256619, "answer_id": 54330376, "question_id": 54329722, "link": "https://stackoverflow.com/questions/54329722/typescript-multi-file-namespaces-export-error/54330376#54330376", "title": "typescript multi-file namespaces export error", "body": "<p>This is because you do not export your interface properly. You left accidentally out the keyword <code>export</code>. Do it as follows:</p>\n\n<pre><code>namespace Zoo { \n    export interface Animal { \n         skinType: string;\n        isMammal(): boolean;\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 10530200, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C_UIofcweAo/AAAAAAAAAAI/AAAAAAAABek/avoFN1iG5no/photo.jpg?sz=128", "display_name": "Y Zhu", "link": "https://stackoverflow.com/users/10530200/y-zhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 54330376, "answer_count": 1, "score": 0, "last_activity_date": 1548256619, "creation_date": 1548254497, "question_id": 54329722, "link": "https://stackoverflow.com/questions/54329722/typescript-multi-file-namespaces-export-error", "title": "typescript multi-file namespaces export error", "body": "<p>\"You can split a namespace across many files. Even though the files are separate, they can each contribute to the same namespace and can be consumed as if they were all defined in one place. Because there are dependencies between files, you will add reference tags to tell the compiler about the relationships between the files.\"</p>\n\n<pre><code>//ZooAnimals.ts\n\nnamespace Zoo { \n    interface Animal { \n         skinType: string;\n        isMammal(): boolean;\n    }\n}\n\n//ZooWild.ts\n\n/// &lt;reference path=\"ZooAnimals.ts\" /&gt;\nnamespace Zoo {\n    export class Reptile implements Animal {//Error: Cannot find Animal\n         skinType =\"scales\";\n        isMammal(){\n            return false;\n        }\n    }\n}\n</code></pre>\n\n<p>why it shows \"Error: Cannot find Animal\"?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 3132, "user_id": 3960815, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QKWIX.jpg?s=128&g=1", "display_name": "basic", "link": "https://stackoverflow.com/users/3960815/basic"}, "edited": false, "score": 0, "creation_date": 1548254830, "post_id": 54329710, "comment_id": 95477597, "body": "What does Animal[] or Person[] actually look like?"}, {"owner": {"reputation": 2486, "user_id": 2255594, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/vrBrq.jpg?s=128&g=1", "display_name": "Geraint Anderson", "link": "https://stackoverflow.com/users/2255594/geraint-anderson"}, "reply_to_user": {"reputation": 3132, "user_id": 3960815, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QKWIX.jpg?s=128&g=1", "display_name": "basic", "link": "https://stackoverflow.com/users/3960815/basic"}, "edited": false, "score": 0, "creation_date": 1548255088, "post_id": 54329710, "comment_id": 95477775, "body": "@basic These are just examples but I&#39;ve now included a possible interface for each"}], "answers": [{"tags": [], "owner": {"reputation": 3240, "user_id": 2232667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/woiQO.jpg?s=128&g=1", "display_name": "Shevchenko Viktor", "link": "https://stackoverflow.com/users/2232667/shevchenko-viktor"}, "is_accepted": true, "score": 1, "last_activity_date": 1548254942, "creation_date": 1548254942, "answer_id": 54329863, "question_id": 54329710, "link": "https://stackoverflow.com/questions/54329710/conditional-type-with-a-union/54329863#54329863", "title": "Conditional type with a Union", "body": "<p>try this one:</p>\n\n<pre><code>if (bothThings[indexOfThing].hasOwnProperty('animalid')) {\n  id = (bothThings[indexOfThing] as Animal).animalid\n} else if (bothThings[indexOfThing].hasOwnProperty('personid')) {\n  id = (bothThings[indexOfThing] as Person).personid\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 29839, "user_id": 487813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lU5if.jpg?s=128&g=1", "display_name": "apokryfos", "link": "https://stackoverflow.com/users/487813/apokryfos"}, "is_accepted": false, "score": 3, "last_activity_date": 1548255065, "creation_date": 1548255065, "answer_id": 54329896, "question_id": 54329710, "link": "https://stackoverflow.com/questions/54329710/conditional-type-with-a-union/54329896#54329896", "title": "Conditional type with a Union", "body": "<p>The confusion is that while you narrow the type down at runtime using <code>hasOwnProperty</code>, you don't actually do so at compile time and therefore the compiler is complaining. </p>\n\n<p>You can resolve this using <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">type guards</a></p>\n\n<p>If you do something like the following then it might possibly work:</p>\n\n<pre><code>const animals: Animal[] = getAnimals();\nconst people: Person[] = getPeople();\n\nfunction isAnimal(animalOrPerson : Animal|Person) : animalOrPerson is Animal {\n    return (object as Animal).animalid !== undefined;\n} \n\nfunction isPerson(animalOrPerson  : Animal|Person) : animalOrPerson is Person {\n    return (object as Person).personid!== undefined;\n} \n\n\nconst bothThings: (Animal|Person)[] = [...animals, ...people];\n\nif (isAnimal(bothThings[indexOfThing])) {\n  id = bothThings[indexOfThing].animalid \n} else if (isPerson(bothThings[indexOfThing].hasOwnProperty('personid'))) {\n  id = bothThings[indexOfThing].personid \n}\n</code></pre>\n\n<p>Doing this will enable the compiler to correctly determine the actual type of the object within the conditions.</p>\n"}], "owner": {"reputation": 2486, "user_id": 2255594, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/vrBrq.jpg?s=128&g=1", "display_name": "Geraint Anderson", "link": "https://stackoverflow.com/users/2255594/geraint-anderson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 54329863, "answer_count": 2, "score": 0, "last_activity_date": 1548255065, "creation_date": 1548254464, "last_edit_date": 1548255052, "question_id": 54329710, "link": "https://stackoverflow.com/questions/54329710/conditional-type-with-a-union", "title": "Conditional type with a Union", "body": "<p>I'm merging two arrays which contain data of different types. Using the union of the two types, it looks like this:</p>\n\n<pre><code>interface Animal {\n  animalid: number;\n  species: string;\n}\n\ninterface Person {\n  personid: number;\n  name: string;\n}\n\nconst animals: Animal[] = getAnimals();\nconst people: Person[] = getPeople();\n\nconst bothThings: (Animal|Person)[] = [...animals, ...people];\n</code></pre>\n\n<p>I want to be able to call a function passing in the id of the animal or person, but the id is in a different property depending on the type: <code>animalid</code> or <code>personid</code> respectively. I can work out which property I need and therefore which type it is based on the id property but I can't use it because I get a TypeScript error: <code>Property 'animalid' does not exist on type 'Animal|Person'. Property 'animalid' does not exist on type 'Person'.</code>.</p>\n\n<pre><code>const indexOfThing: number;\nlet id: number;\n\n...\n\nif (bothThings[indexOfThing].hasOwnProperty('animalid')) {\n  id = bothThings[indexOfThing].animalid // TypeScript Error\n} else if (bothThings[indexOfThing].hasOwnProperty('personid')) {\n  id = bothThings[indexOfThing].personid // TypeScript Error\n}\n\nfunctionThatNeedsId(id);\n</code></pre>\n\n<p>How can I correctly set the type depending on the conditional, or is there a better way to achieve this?</p>\n\n<p>Thanks,</p>\n"}, {"tags": ["java", "android", "typescript", "cordova", "ionic-framework"], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 3970626, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/59d4f6650c76b5be3ea58a20eb50044a?s=128&d=identicon&r=PG&f=1", "display_name": "Rififi", "link": "https://stackoverflow.com/users/3970626/rififi"}, "is_accepted": false, "score": 0, "last_activity_date": 1548404671, "creation_date": 1548404671, "answer_id": 54361475, "question_id": 54329102, "link": "https://stackoverflow.com/questions/54329102/run-android-application-ionic-cordova-error-unable-to-find-valid-certificatio/54361475#54361475", "title": "Run android application (ionic cordova) error &quot;unable to find valid certification path to the requested target&quot;", "body": "<p>Finally, after some days I've found the problem was the installed JRE.\nI uninstalled my current JRE 8 and installed another version and it's work fine.</p>\n\n<p>However, I don't understand why but it's ok now.</p>\n"}], "owner": {"reputation": 101, "user_id": 3970626, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/59d4f6650c76b5be3ea58a20eb50044a?s=128&d=identicon&r=PG&f=1", "display_name": "Rififi", "link": "https://stackoverflow.com/users/3970626/rififi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 658, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548404671, "creation_date": 1548252500, "last_edit_date": 1548325165, "question_id": 54329102, "link": "https://stackoverflow.com/questions/54329102/run-android-application-ionic-cordova-error-unable-to-find-valid-certificatio", "title": "Run android application (ionic cordova) error &quot;unable to find valid certification path to the requested target&quot;", "body": "<p>I'm not very familiar with js technologies and I'm working on a Typescript project (with ionic cordova) for android. I've retrieved this project from a colleague. The project works on its environment.</p>\n\n<p>My configuration:</p>\n\n<ul>\n<li> Visual Studio Code 1.30 for Windows 64 </li>\n<li>Android SDK 28</li>\n<li>Ionic cli 4.8.0</li>\n<li>Cordova 8.1.2</li>\n<li>Java 8</li>\n<li>right env vars JRE_HOME and ANDROID_SDK</li>\n</ul>\n\n<p>I ran the following commands in Visual Studio Code</p>\n\n<ol>\n<li>\"npm i\" the first time</li>\n<li>ionic cordova build android</li>\n</ol>\n\n<p>The second triggers the following exception:</p>\n\n<pre><code>Exception in thread \"main\" javax.net.ssl.SSLHandshakeException:  sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n...\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nat sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:145) \nat sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:131) \nat java.security.cert.CertPathBuilder.build(CertPathBuilder.java:280)\nat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:382)\n</code></pre>\n\n<p>Moreover, when I start \"ionic serve\", a localhost page is opened on my browser. First the webapp is displayed one second, and then an error page is displayed:</p>\n\n<p>\"Uncaught (in promise): cordova_not_available\"</p>\n\n<p>With the following stack:</p>\n\n<pre><code>c@http://localhost:8100/build/polyfills.js:3:19752 \nc@http://localhost:8100/build/polyfills.js:3:19461 \nf/&lt;@http://localhost:8100/build/polyfills.js:3:20233 F&lt;/l&lt;/t.prototype.invokeTask@http://localhost:8100/build/polyfills.js:3:15649 onInvokeTask@http://localhost:8100/build/vendor.js:5436:24\nF&lt;/l&lt;/t.prototype.invokeTask@http://localhost:8100/build/polyfills.js:3:15562 \nF&lt;/c&lt;/r.prototype.runTask@http://localhost:8100/build/polyfills.js:3:10815 \no@http://localhost:8100/build/polyfills.js:3:7887\n</code></pre>\n\n<p>And the following informations:</p>\n\n<ul>\n<li>Ionic Framework 3.9.2</li>\n<li>Ionic App Scripts 3.2.1</li>\n<li>Angular Core 5.2.11</li>\n<li>Angular Compiler CLI 5.2.11</li>\n</ul>\n\n<p>I don't know what is wrong, particularly when the project works on the pc of my colleague. So I assume I don't have anything to do in the project configuration files.</p>\n\n<p>Now it's working on \"ionic cordova build browser\" but not \"ionic cordova build android\" (android is defined as a platform in package.json). </p>\n\n<p>I don't have any idea of what to do. Have you any idea ? Thanks !</p>\n"}, {"tags": ["typescript", "google-cloud-functions"], "answers": [{"tags": [], "owner": {"reputation": 2417, "user_id": 4037220, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JYTuqJ0lf0w/AAAAAAAAAAI/AAAAAAAAAEw/irO6eSzV15Q/photo.jpg?sz=128", "display_name": "Andrei Cusnir", "link": "https://stackoverflow.com/users/4037220/andrei-cusnir"}, "is_accepted": false, "score": 3, "last_activity_date": 1548414612, "creation_date": 1548414612, "answer_id": 54364130, "question_id": 54328730, "link": "https://stackoverflow.com/questions/54328730/how-to-perform-a-firestore-query-inside-a-firebase-function/54364130#54364130", "title": "How to perform a firestore query inside a Firebase function?", "body": "<p>Based on the code example you provided, I assume that you are using Nodejs Cloud Function. What you need to do is to list all the documents in the collection and get the data field you want from each document.</p>\n\n<p>Your <code>package.json</code> file should look something like this:</p>\n\n<pre><code>{\n  \"name\": \"sample-http\",\n  \"version\": \"0.0.1\",\n  \"dependencies\": {\n    \"firebase-admin\": \"^6.5.1\"\n  }\n}\n</code></pre>\n\n<p>Then you need to establish connection with Firebase:</p>\n\n<pre><code>    const admin = require('firebase-admin');\n\n    admin.initializeApp({\n      credential: admin.credential.applicationDefault()\n    });\n\n    var db = admin.firestore();\n</code></pre>\n\n<p>And run this code to list all the documents in a collection:</p>\n\n<pre><code>    //From collection -&gt; COLLECTION_NAME\n    db.collection('COLLECTION_NAME').get()\n    .then((snapshot) =&gt; {\n      snapshot.forEach((doc) =&gt; { \n        //Checking each document in that collection\n        //Log the document ID and the ClientID field from each document in the collection\n        console.log(doc.id, '=&gt;', doc.data().clientID);\n      });\n    })\n    .catch((err) =&gt; {\n      console.log('Error getting documents', err);\n    });\n\n    //Return a message to the main function to print a message on browser notifying about the successful operation\n    return 'Finished checking';\n</code></pre>\n\n<p>Instead of <code>COLLECTION_NAME</code> use the name for your collection. And instead of <code>clientID</code> filed in <code>doc.data().clientID</code>, use the field you are looking for. Perform the if statement there. </p>\n\n<p>For example:</p>\n\n<pre><code>if (doc.data().name == 'name'){\n    //Do something \n}\n</code></pre>\n"}], "owner": {"reputation": 227, "user_id": 9882015, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Liam", "link": "https://stackoverflow.com/users/9882015/liam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1987, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548414612, "creation_date": 1548251149, "question_id": 54328730, "link": "https://stackoverflow.com/questions/54328730/how-to-perform-a-firestore-query-inside-a-firebase-function", "title": "How to perform a firestore query inside a Firebase function?", "body": "<p>I have a firestore query inside my firebase function that is used to retrieve a document if it has a specific value inside it (eg: if the name field is equal to \"name\"). I have written the code and declared the function as a functions.https.onCall so I can call it within my app. Calling the function works however it doesn't do anything when it has started. \nHere is the query that I have written that is causing the problem:</p>\n\n<pre><code>let query = admin.firestore().collection('...').where('...', '==', value).orderBy('...').limit(1);\n        query.get().then(snapshot =&gt; {\n            let ... = snapshot[0];\n</code></pre>\n\n<p>Here is my function declaration: </p>\n\n<pre><code>exports.functionName = functions.https.onCall((data, context) =&gt; {\n\n</code></pre>\n\n<p>What the function should do is log what was passed into it from the calling code, perform the query (currently testing with valid data), and continue with the rest of the function. Right now it doesn't do anything but when I remove the where function it works but cannot get the specific document I am looking for. Thank you for any insights into my problem. </p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 241, "user_id": 8030874, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7M8S2.png?s=128&g=1", "display_name": "Sabrina", "link": "https://stackoverflow.com/users/8030874/sabrina"}, "edited": false, "score": 0, "creation_date": 1548676996, "post_id": 54328713, "comment_id": 95613623, "body": "this &quot;duplicate answer &quot; not helped my problem, someone can help?"}, {"owner": {"reputation": 241, "user_id": 8030874, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7M8S2.png?s=128&g=1", "display_name": "Sabrina", "link": "https://stackoverflow.com/users/8030874/sabrina"}, "edited": false, "score": 0, "creation_date": 1550853585, "post_id": 54328713, "comment_id": 96437859, "body": "I answered this question here: <a href=\"https://pt.stackoverflow.com/questions/357849/angular-7-typescript-pegar-valor-de-dentro-de-uma-fun%C3%A7%C3%A3o-onload-upload-de-ar\" title=\"angular 7 typescript pegar valor de dentro de uma fun%25C3%25A7%25C3%25A3o onload upload de ar\">pt.stackoverflow.com/questions/357849/&hellip;</a>"}], "owner": {"reputation": 241, "user_id": 8030874, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7M8S2.png?s=128&g=1", "display_name": "Sabrina", "link": "https://stackoverflow.com/users/8030874/sabrina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "closed_date": 1548251202, "answer_count": 0, "score": 0, "last_activity_date": 1550853509, "creation_date": 1548251105, "last_edit_date": 1550853509, "question_id": 54328713, "link": "https://stackoverflow.com/questions/54328713/angular-7-persist-value-inside-a-onload-function", "closed_reason": "Duplicate", "title": "Angular 7: persist value inside a onload function", "body": "<p>I have the code below where I upload a file and I want to get its contents in a variable.\nFor this I use the onload function that gives me the result, which is the contents of the file.\nBut the variable gives undefined out of onload, how to make that result be able to be used outside of this function?</p>\n\n<pre><code>if (event.target.files.length&gt; 0) {\n  let fileContent;\n  let file = event.target.files [0];\n  let fileReader = new FileReader ();\n  fileReader.onload = function () {\n      fileContent = fileReader.result;\n    console.log (fileContent); //file content result\n  };\n\n  fileReader.readAsText (file);\n\n  console.log (fileContent); //undefined\n  }\n}\n</code></pre>\n\n<p>PS: I need to know how to do it in Angular, not jQuery.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-material", "angular7"], "comments": [{"owner": {"reputation": 2388, "user_id": 6481438, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/gfYh4.png?s=128&g=1", "display_name": "GCSDC", "link": "https://stackoverflow.com/users/6481438/gcsdc"}, "edited": false, "score": 1, "creation_date": 1548265242, "post_id": 54328694, "comment_id": 95483275, "body": "Providing an initial value to <code>jobExecutionList</code> when declaring it shall solve the issue: <code>static jobExecutionList:any = []</code>"}, {"owner": {"reputation": 1135, "user_id": 8880204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c01a3a55a3ca5f25a5bdedb2777d1e4e?s=128&d=identicon&r=PG", "display_name": "Saad Ahmed", "link": "https://stackoverflow.com/users/8880204/saad-ahmed"}, "reply_to_user": {"reputation": 2388, "user_id": 6481438, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/gfYh4.png?s=128&g=1", "display_name": "GCSDC", "link": "https://stackoverflow.com/users/6481438/gcsdc"}, "edited": false, "score": 0, "creation_date": 1548309847, "post_id": 54328694, "comment_id": 95496728, "body": "Thank you that solved it ... can you explain me how it solved it ... i am new to angular"}, {"owner": {"reputation": 2388, "user_id": 6481438, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/gfYh4.png?s=128&g=1", "display_name": "GCSDC", "link": "https://stackoverflow.com/users/6481438/gcsdc"}, "edited": false, "score": 1, "creation_date": 1548363305, "post_id": 54328694, "comment_id": 95525446, "body": "Glad it solved your issue. This is actually related to how typescript/javascript works. If you create a variable but do not assign any value to it, it will be <code>undefined</code>. If you assign an empty array (<code>[ ]</code>) to a variable, it now has a value, and by being an array, it is possible to loop through it, as it will now have the properties required for that (although a loop on an empty array won&#39;t do much)."}], "owner": {"reputation": 1135, "user_id": 8880204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c01a3a55a3ca5f25a5bdedb2777d1e4e?s=128&d=identicon&r=PG", "display_name": "Saad Ahmed", "link": "https://stackoverflow.com/users/8880204/saad-ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 608, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548251034, "creation_date": 1548251034, "question_id": 54328694, "link": "https://stackoverflow.com/questions/54328694/typeerror-cannot-read-property-foreach-of-undefined-while-reading-data-from-a", "title": "TypeError: Cannot read property &#39;forEach&#39; of undefined while reading data from API instead of stub data", "body": "<p>I have a mat-table with expand and collapse row where I displayed list of running jobs.\nInitially I used stub data and I was able to successfully expand and collapse rows. Now I am getting data from API and the code is breaking.I know exactly where its breaking but I don't know how to solve it.</p>\n\n<p>HTML Code:- </p>\n\n<pre><code>&lt;div class=\"main-content\"&gt;\n&lt;div class=\"card\"&gt;\n    &lt;div class=\"card-header\"&gt;\n        &lt;h5 class=\"title\"&gt;Job Execution Stats&lt;/h5&gt;\n    &lt;/div&gt;\n\n    &lt;mat-table [dataSource]=\"jobExecutionStat\"&gt;\n        &lt;!-- Id Column --&gt;\n        &lt;ng-container matColumnDef=\"jobId\"&gt;\n            &lt;mat-header-cell *matHeaderCellDef&gt; ID &lt;/mat-header-cell&gt;\n            &lt;mat-cell *matCellDef=\"let element\"&gt;{{ element.jobId }} &lt;/mat-cell&gt;\n        &lt;/ng-container&gt;\n\n        &lt;ng-container matColumnDef=\"executionDate\"&gt;\n            &lt;mat-header-cell *matHeaderCellDef&gt;\n                Execution Date\n            &lt;/mat-header-cell&gt;\n            &lt;mat-cell *matCellDef=\"let element\"\n                &gt;{{ element.executionDate }}\n            &lt;/mat-cell&gt;\n        &lt;/ng-container&gt;\n\n        &lt;!-- Weight Column --&gt;\n        &lt;ng-container matColumnDef=\"afterTimePeriod\"&gt;\n            &lt;mat-header-cell *matHeaderCellDef&gt;\n                Current Time Period\n            &lt;/mat-header-cell&gt;\n            &lt;mat-cell *matCellDef=\"let element\"\n                &gt;{{ element.afterTimePeriod }}\n            &lt;/mat-cell&gt;\n        &lt;/ng-container&gt;\n\n        &lt;!-- Symbol Column --&gt;\n        &lt;ng-container matColumnDef=\"previousTimePeriod\"&gt;\n            &lt;mat-header-cell *matHeaderCellDef&gt;\n                Previous Time Period\n            &lt;/mat-header-cell&gt;\n            &lt;mat-cell *matCellDef=\"let element\"\n                &gt;{{ element.previousTimePeriod }}\n            &lt;/mat-cell&gt;\n        &lt;/ng-container&gt;\n\n        &lt;ng-container matColumnDef=\"status\"&gt;\n            &lt;mat-header-cell *matHeaderCellDef&gt; Status &lt;/mat-header-cell&gt;\n            &lt;mat-cell *matCellDef=\"let element\"\n                &gt;{{ element.status }}\n            &lt;/mat-cell&gt;\n        &lt;/ng-container&gt;\n        &lt;!-- Expanded Content Column - The detail row is made up of this one column --&gt;\n        &lt;ng-container matColumnDef=\"expandedDetail\"&gt;\n            &lt;mat-cell *matCellDef=\"let detail\"&gt;\n                &lt;ng-container *ngIf=\"displayProgBar\"&gt;\n                    &lt;mat-toolbar&gt;\n                        &lt;mat-label&gt;JobId: {{ jobId }}&lt;/mat-label&gt; &amp;nbsp;\n                        &lt;mat-progress-bar\n                            mode=\"indeterminate\"\n                            class=\"mat-progress-bar\"\n                            color=\"primary\"\n                        &gt;\n                        &lt;/mat-progress-bar&gt;\n                        &amp;nbsp;&amp;nbsp;\n                        &lt;button\n                            mat-icon-button\n                            (click)=\"stop_exec_job2()\"\n                            matTooltip=\"Stop Executing the Job\"\n                        &gt;\n                            &lt;!-- Edit icon for row --&gt;\n                            &lt;i class=\"material-icons\" style=\"color:red\"&gt;\n                                stop\n                            &lt;/i&gt;\n                        &lt;/button&gt;\n                    &lt;/mat-toolbar&gt;\n                &lt;/ng-container&gt;\n                &lt;ng-container *ngIf =\"!displayProgBar\"&gt;\n                    Job Execution is Completed\n\n                &lt;/ng-container&gt;\n            &lt;/mat-cell&gt;\n\n        &lt;/ng-container&gt;\n        &lt;!--  Code for Stop and Re-Run Buttons --&gt;\n        &lt;ng-container matColumnDef=\"actions\"&gt;\n            &lt;mat-header-cell *matHeaderCellDef&gt; &lt;/mat-header-cell&gt;\n            &lt;mat-cell *matCellDef=\"let element; let index = index\"&gt;\n                &lt;button\n                    mat-icon-button\n                    (click)=\"stop_exec_job(element)\"\n                    matTooltip=\"Stop Executing the Job\"\n                    [disabled]=\"element.status == 'Completed'\"\n                &gt;\n                    &lt;!-- Edit icon for row --&gt;\n                    &lt;i class=\"material-icons\" style=\"color:red\"&gt; stop &lt;/i&gt;\n                &lt;/button&gt;\n                &lt;!-- Delete icon for row --&gt;\n                &lt;button\n                    mat-icon-button\n                    (click)=\"re_run_job(element)\"\n                    matTooltip=\"Re-Run the Job\"\n                    [disabled]=\"\n                        element.status == 'Running' ||\n                        element.status == 'Pending'\n                    \"\n                &gt;\n                    &lt;i class=\"material-icons\" style=\"color:green\"&gt;\n                        cached\n                    &lt;/i&gt;\n                &lt;/button&gt;\n            &lt;/mat-cell&gt;\n        &lt;/ng-container&gt;\n\n        &lt;mat-header-row\n            *matHeaderRowDef=\"jobExecStatDisplayedColumns\"\n        &gt;&lt;/mat-header-row&gt;\n        &lt;mat-row\n            *matRowDef=\"\n                let row;\n                columns: jobExecStatDisplayedColumns;\n                let element\n            \"\n            matRipple\n            class=\"element-row\"\n            [class.expanded]=\"expandedElement == row\"\n            (click)=\"expandedElement === row? expandedElement = null : expandedElement = row\"\n            (click)=\"showProgressBar(element)\"\n        &gt;\n        &lt;/mat-row&gt;\n        &lt;mat-row\n            *matRowDef=\"\n                let row;\n                columns: ['expandedDetail'];\n                when: isExpansionDetailRow\n            \"\n            [@detailExpand]=\"\n                row.element == expandedElement ? 'expanded' : 'collapsed'\n            \"\n            style=\"overflow: hidden\"\n        &gt;\n        &lt;/mat-row&gt;\n    &lt;/mat-table&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<p>Typescript Code:-</p>\n\n<pre><code>import { Component, OnInit, \u0275Console } from \"@angular/core\";\nimport { MatTableDataSource } from \"@angular/material\";\nimport { GlobalAppSateService } from \"../../services/globalAppSate.service\";\nimport { DataService } from \"../../services/data.service\";\nimport { SnakBarComponent } from \"../custom-components/snak-bar/snak- \nbar.component\";\nimport { DataSource } from \"@angular/cdk/collections\";\nimport { Observable, of } from \"rxjs\";\nimport {\nanimate,\nstate,\nstyle,\ntransition,\ntrigger\n} from \"@angular/animations\";\nimport { RecommendationService } from '../recommendation-service.service';\n\n@Component({\nselector: \"app-job-execution-screen\",\ntemplateUrl: \"./job-execution-screen.component.html\",\nstyleUrls: [\"./job-execution-screen.component.scss\"],\nanimations: [\n    trigger(\"detailExpand\", [\n        state(\n            \"collapsed\",\n            style({ height: \"0px\", minHeight: \"0\", visibility: \"hidden\" })\n        ),\n        state(\"expanded\", style({ height: \"*\", visibility: \"visible\" })),\n        transition(\n            \"expanded &lt;=&gt; collapsed\",\n            animate(\"225ms cubic-bezier(0.4, 0.0, 0.2, 1)\")\n        )\n    ])\n]\n})\nexport class JobExecutionScreenComponent implements OnInit {\ndisplayProgBar: boolean = false;\njobId: string;\nstatic jobExecutionList:any;\njobExecStatDisplayedColumns = [\n    \"jobId\",\n    \"executionDate\",\n    \"previousTimePeriod\",\n    \"afterTimePeriod\",\n    \"status\",\n    \"actions\"\n];\npublic selectedElem: any;\nprojectId:any = 1;\n// jobExecutionStat = new MatTableDataSource&lt;Element&gt;(ELEMENT_DATA);\njobExecutionStat = new ExampleDataSource();\nisExpansionDetailRow = (i: number, row: Object) =&gt;\n    row.hasOwnProperty(\"detailRow\");\nexpandedElement: any;\n\nconstructor(\n    private dataService: DataService,\n    public globalAppSateService: GlobalAppSateService,\n    private snakbar: SnakBarComponent,\n    private recommendationService: RecommendationService\n) {}\nngOnInit() {\n    const project = JSON.parse(this.dataService.getObject(\"project\"));\n    if (project != null) {\n        this.globalAppSateService.onMessage(project);\n    }\nthis.recommendationService.getJobExecutionStatList(this.projectId).\nsubscribe( data =&gt; {\n        JobExecutionScreenComponent.jobExecutionList = data;\n    });\n}\n\nstop_exec_job(element) {\n    if (element.status == \"Running\" || element.status == \"Pending\") {\n        this.displayProgBar = false;\n        this.snakbar.statusBar(\"Job Execution Stopped\", \"Sucess\");\n        element.status = \"Completed\";\n    }\n}\n\nstop_exec_job2() {\n    this.stop_exec_job(this.selectedElem);\n    this.displayProgBar = false;\n}\n\nre_run_job(element) {\n    if (element.status == \"Completed\") {\n        this.snakbar.statusBar(\"Job Execution Started\", \"Sucess\");\n        element.status = \"Running\";\n    }\n}\nshowProgressBar(element) {\n    this.selectedElem = element;\n    this.jobId = element.id;\n    console.log(this.jobId);\n    if (element.status == \"Running\" || element.status == \"Pending\") {\n        this.displayProgBar = true;\n    }\n}\n}\n\n// const ELEMENT_DATA: Element[] = [\n//     {\n//         id: 1,\n//         exec_date: \"17-01-2016\",\n//         prev_time_period: \"2016-04,2016-05,2016-06\",\n//         curr_time_period: \"2016-08\",\n//         status: \"Completed\"\n//     },\n//     {\n//         id: 2,\n//         exec_date: \"17-01-2017\",\n//         prev_time_period: \"2017-04,2017-05,2017-06\",\n//         curr_time_period: \"2017-08\",\n//         status: \"Running\"\n//     },\n//     {\n//         id: 3,\n//         exec_date: \"27-07-2017\",\n//         prev_time_period: \"2017-45,2017-46,2017-47\",\n//         curr_time_period: \"2018-01,2018-02\",\n//         status: \"Pending\"\n//     },\n//     {\n//         id: 4,\n//         exec_date: \"17-10-2018\",\n//         prev_time_period: \"2017-30,2017-31,2017-32\",\n//         curr_time_period: \"2018-01,2018-02\",\n//         status: \"Completed\"\n//     },\n//     {\n//         id: 5,\n//         exec_date: \"21-01-2018\",\n//         prev_time_period: \"2016-01,2016-02,2016-03,2016-04\",\n//         curr_time_period: \"2016-52\",\n//         status: \"Pending\"\n//     },\n//     {\n//         id: 6,\n//         exec_date: \"17-01-2018\",\n//         prev_time_period: \"2017-31,2017-32,2017-33,2017-34\",\n//         curr_time_period: \"2017-52\",\n//         status: \"Running\"\n//     }\n// ];\nexport interface Element {\nprojectId: number;\nid: number;\nexec_date: Date;\nprev_time_period: string;\ncurr_time_period: string;\nstatus: string;\n}\n\nexport class ExampleDataSource extends DataSource&lt;any&gt; {\n/** Connect function called by the table to retrieve one stream containing \nthe data to render. */\nconnect(): Observable&lt;Element[]&gt; {\n    const rows = [];\n    JobExecutionScreenComponent.jobExecutionList.forEach(element =&gt;\n        rows.push(element, { detailRow: true, element })\n    );\n    console.log(rows);\n    return of(rows);\n}\n\ndisconnect() {}\n}\n</code></pre>\n\n<p>Initially in Typescript in ExampleDataSource Component I used ELEMENT_DATA.forEach(element =>\n        rows.push(element, { detailRow: true, element })\nNow I am using the variable in which I am storing API data and it's giving me error.\nI made jobExecutionList static so that i can use it outside my class i.e in ExampleDataSource class.</p>\n"}, {"tags": ["node.js", "typescript", "ecmascript-6", "es6-modules"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1548250949, "post_id": 54328581, "comment_id": 95475201, "body": "Are you running in node ? use <code>&quot;module&quot;: &quot;commonjs&quot;,</code>"}], "answers": [{"tags": [], "owner": {"reputation": 181, "user_id": 9339117, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-03WH3qvw6Cc/AAAAAAAAAAI/AAAAAAAAAAk/SptaQ-5cyUg/photo.jpg?sz=128", "display_name": "Tayyab Mehar", "link": "https://stackoverflow.com/users/9339117/tayyab-mehar"}, "is_accepted": false, "score": 0, "last_activity_date": 1548250966, "creation_date": 1548250966, "answer_id": 54328675, "question_id": 54328581, "link": "https://stackoverflow.com/questions/54328581/cant-import-multiple-modules-using-import/54328675#54328675", "title": "Can&#39;t import multiple modules using &#39;import&#39;", "body": "<p>Try Using var esLint = require('./ejbs');</p>\n"}], "owner": {"reputation": 51, "user_id": 7082789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c5e2e47d9a085138e690094832568f5?s=128&d=identicon&r=PG", "display_name": "william", "link": "https://stackoverflow.com/users/7082789/william"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "closed_date": 1548252803, "answer_count": 1, "score": 0, "last_activity_date": 1548250966, "creation_date": 1548250722, "question_id": 54328581, "link": "https://stackoverflow.com/questions/54328581/cant-import-multiple-modules-using-import", "closed_reason": "Duplicate", "title": "Can&#39;t import multiple modules using &#39;import&#39;", "body": "<p>I'm trying to import classes from a .js file, but when I run the program it seems to have a Syntax error. Here's my code:</p>\n\n<p><code>import { RTUser, RTEvent, RTPurchase, RTMedia } from \"./defs\";</code></p>\n\n<p>and here's the error that's being shown in the console.</p>\n\n<pre><code>/Users/williamg/retake/api/RTKit/index.js:34\nimport { RTUser, RTEvent, RTPurchase, RTMedia } from \"./defs\";\n       ^\n\nSyntaxError: Unexpected token {\n    at new Script (vm.js:79:7)\n    at createScript (vm.js:251:10)\n    at Object.runInThisContext (vm.js:303:10)\n    at Module._compile (internal/modules/cjs/loader.js:657:28)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:700:10)\n    at Module.load (internal/modules/cjs/loader.js:599:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:538:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:530:3)\n    at Function.wrappedLoad [as _load] (/Users/williamg/retake/api/node_modules/newrelic/lib/shimmer.js:372:38)\n    at Module.require (internal/modules/cjs/loader.js:637:17)\n</code></pre>\n\n<p>An example of an export in the <code>defs.js</code> file is:</p>\n\n<p><code>export class RTPurchase extends RTClass { }</code></p>\n\n<p>The files are built from <code>.ts</code> files using <code>tsc</code>.</p>\n\n<p>Any help would be appreciated!</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "nestjs", "class-transformer"], "answers": [{"comments": [{"owner": {"reputation": 136, "user_id": 4470103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5884b59a61459ba9730518e1e3fec9ce?s=128&d=identicon&r=PG&f=1", "display_name": "RWest", "link": "https://stackoverflow.com/users/4470103/rwest"}, "edited": false, "score": 0, "creation_date": 1548335677, "post_id": 54335852, "comment_id": 95510387, "body": "Thanks for your answer. Unfortunately, for some reason, this still did not work with the @UseInterceptors(ClassSerializerInterceptor).   However, adding the class-transform @TransformClassToPlain()  did the trick"}, {"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "reply_to_user": {"reputation": 136, "user_id": 4470103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5884b59a61459ba9730518e1e3fec9ce?s=128&d=identicon&r=PG&f=1", "display_name": "RWest", "link": "https://stackoverflow.com/users/4470103/rwest"}, "edited": false, "score": 0, "creation_date": 1548339292, "post_id": 54335852, "comment_id": 95512684, "body": "Ahh, I only just saw that you are not returning the entity directly. The <code>ClassSerializerInterceptor</code> will only work, if the entity itself is returned, so <code>return profile</code> instead of <code>return {profile}</code>. If you are not returning it directly, you have to transform it manually with <code>plainToClass()</code>."}], "tags": [], "owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "is_accepted": true, "score": 11, "last_activity_date": 1548339189, "last_edit_date": 1548339189, "creation_date": 1548278578, "answer_id": 54335852, "question_id": 54328563, "link": "https://stackoverflow.com/questions/54328563/serialization-how-to-exclude-entity-columns-in-json-response-but-not-internal-q/54335852#54335852", "title": "Serialization: How to exclude Entity columns in json response but not internal queries in Nestjs", "body": "<p>You can skip properties <a href=\"https://github.com/typestack/class-transformer/blob/develop/README.md#skipping-depend-of-operation\" rel=\"noreferrer\">depending on the operation</a>. In your case, you would use:</p>\n\n<pre><code>@Column()\n@Exclude({ toPlainOnly: true })\npassword: string;\n</code></pre>\n\n<p>This means, that password is only skipped when a class is transformed to json (when you send a response) and not when json is transformed to a class (when you get a request). </p>\n\n<p>Then add the <code>@UseInterceptors(ClassSerializerInterceptor)</code> to your controller or a controller method. This will automatically transform an entity class to json, when you return it. </p>\n\n<hr>\n\n<p>For the <code>ClassSerializerInterceptor</code> to work, make sure that your entity was transformed to a class first. This can be automatically done by using the <code>ValidationPipe</code> with the <code>{ transform: true}</code> option or by returning an entity from a repository (database). Also, you have to return the entity itself:</p>\n\n<pre><code>@Post()\n@UseInterceptors(ClassSerializerInterceptor)\naddUser(@Body(new ValidationPipe({transform: true})) user: User) {\n  // Logs user with password\n  console.log(user);\n  // Returns user as JSON without password\n  return user;\n  }\n</code></pre>\n\n<p>Otherwise, you have to transform it manually:</p>\n\n<pre><code>async profile(@Request() req: IUserRequest) {\n  // Profile comes from the database so it will be an entity class instance already\n  const profile = await this.authService.getLoggedInProfile(req.user.id);\n  // Since we are not returning the entity directly, we have to transform it manually\n  return { profile: plainToClass(profile) };\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1426, "user_id": 5157349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V3QrZ.jpg?s=128&g=1", "display_name": "Nelson Bwogora", "link": "https://stackoverflow.com/users/5157349/nelson-bwogora"}, "is_accepted": false, "score": 0, "last_activity_date": 1585034073, "creation_date": 1585034073, "answer_id": 60826410, "question_id": 54328563, "link": "https://stackoverflow.com/questions/54328563/serialization-how-to-exclude-entity-columns-in-json-response-but-not-internal-q/60826410#60826410", "title": "Serialization: How to exclude Entity columns in json response but not internal queries in Nestjs", "body": "<p>Would advice also looking at <a href=\"https://typeorm.io/#/select-query-builder/hidden-columns\" rel=\"nofollow noreferrer\">TypeOrm hidden-columns</a> \nHere you have <code>@Column({select: false})</code> on your password column , all requests using a standard find or query will exclude the password column. </p>\n\n<pre><code>import {Entity, PrimaryGeneratedColumn, Column} from \"typeorm\";\n\n@Entity()\nexport class User {\n\n@PrimaryGeneratedColumn()\nid: number;\n\n@Column()\nname: string;\n\n@Column({select: false})\npassword: string;\n}\n</code></pre>\n\n<p>Then during validations/cases where you need the password you do </p>\n\n<pre><code>const users = await connection.getRepository(User)\n.createQueryBuilder()\n.select(\"user.id\", \"id\")\n.addSelect(\"user.password\")\n.getMany();\n</code></pre>\n"}], "owner": {"reputation": 136, "user_id": 4470103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5884b59a61459ba9730518e1e3fec9ce?s=128&d=identicon&r=PG&f=1", "display_name": "RWest", "link": "https://stackoverflow.com/users/4470103/rwest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5607, "favorite_count": 1, "accepted_answer_id": 54335852, "answer_count": 2, "score": 6, "last_activity_date": 1585034073, "creation_date": 1548250653, "last_edit_date": 1548336533, "question_id": 54328563, "link": "https://stackoverflow.com/questions/54328563/serialization-how-to-exclude-entity-columns-in-json-response-but-not-internal-q", "title": "Serialization: How to exclude Entity columns in json response but not internal queries in Nestjs", "body": "<p><strong>Edit</strong>:<br>\n<em>I have looked at this question/answer <a href=\"https://stackoverflow.com/questions/50360101/how-to-exclude-entity-field-from-returned-by-controller-json-nestjs-typeorm\">How to exclude entity field from controller json</a><br>\nBut, as per below - this is excluding that field from all queries (to the porint where when trying to process user validation, the password field is excluded using the findOne repository query on a route/controller method that does not have ClassSerializerInterceptor</em></p>\n\n<p>I have an entity within nest.js / typeorm; I am trying to exclude the password field from the returned json, but not exclude the password field from any repository queries within my service. For example:</p>\n\n<p><code>user.entity.ts</code>:</p>\n\n<pre><code>import { Entity, Column, PrimaryGeneratedColumn, CreateDateColumn, \nUpdateDateColumn, ManyToOne } from 'typeorm';\nimport { Exclude } from 'class-transformer';\nimport { Account } from '../accounts/account.entity';\n\n@Entity()\nexport class User {\n  @PrimaryGeneratedColumn('uuid')\n  id: string;\n\n  @Column()\n  firstName: string;\n\n  @Column()\n  lastName: string;\n\n  @Column({\n    unique: true,\n  })\n  email: string;\n\n @Column()\n password: string;\n}\n</code></pre>\n\n<p><code>auth.controller.ts</code>:</p>\n\n<pre><code>import { Controller, Post, Body, Request, Req, Get, UseInterceptors, ClassSerializerInterceptor, UseGuards } from '@nestjs/common';\nimport { AuthGuard } from '@nestjs/passport';\nimport { AuthService } from './auth.service';\nimport { IUserRequest } from '../../interfaces/user-request.interface';\n\n@Controller('auth')\nexport class AuthController {\n  constructor(private readonly authService: AuthService) {}\n\n  @Post('/login')\n  async login(@Request() req: Request) {\n    const user = await this.authService.checkCredentials(req.body);\n    return this.authService.logUserIn(user.id);\n  }\n\n  @Get('/profile')\n  @UseGuards(AuthGuard())\n  @UseInterceptors(ClassSerializerInterceptor)\n  async profile(@Request() req: IUserRequest) {\n    const profile = await this.authService.getLoggedInProfile(req.user.id);\n    return { profile };\n  }\n}\n</code></pre>\n\n<p>If I add <code>Exclude()</code> to password like so</p>\n\n<pre><code>@Exclude()\n@Column()\npassword: string;\n</code></pre>\n\n<p>the password is included in the response</p>\n\n<p>If I remove the <code>Column()</code> from password, </p>\n\n<pre><code>@Exclude()\npassword: string;\n</code></pre>\n\n<p>Password is excluded from response <strong>and</strong> all internal queries such as: </p>\n\n<pre><code>const user = await this.userRepository.findOne({ where: { id }, relations: ['account']});\n</code></pre>\n\n<p>Is this possible in nest.js using the <code>ClassSerializerInterceptor</code>?</p>\n\n<p>If so, would appreciate a pointer in the right direction.</p>\n"}, {"tags": ["angular", "typescript", "loops"], "comments": [{"owner": {"reputation": 38402, "user_id": 1838048, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/cb5NP.png?s=128&g=1", "display_name": "Oliver", "link": "https://stackoverflow.com/users/1838048/oliver"}, "edited": false, "score": 1, "creation_date": 1548249009, "post_id": 54327989, "comment_id": 95473996, "body": "You retrieve the data through an async call as promise, but you iterate over the array syncronously. You should move your for loop into the <code>then</code> call."}], "answers": [{"tags": [], "owner": {"reputation": 381, "user_id": 10462531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2TXqw.jpg?s=128&g=1", "display_name": "Kes Walker", "link": "https://stackoverflow.com/users/10462531/kes-walker"}, "is_accepted": false, "score": 1, "last_activity_date": 1548317669, "last_edit_date": 1548317669, "creation_date": 1548249238, "answer_id": 54328109, "question_id": 54327989, "link": "https://stackoverflow.com/questions/54327989/angular-ts-loop-through-incoming-data/54328109#54328109", "title": "angular TS loop through incoming data", "body": "<p><code>.retriveAll()</code> method is a promise, you must <code>await</code> this method before attempting to make use of <code>this.artworkList</code>or you can place the following into the <code>.then</code> part of the call.</p>\n\n<p></p>\n\n<pre><code>for (let artwork of this.artworkList) {\n  console.log(artwork.name);\n}\n</code></pre>\n\n<p>Currently, the loop is being run asynchronously along with the call to your method that returns a <code>Promise</code>, which is attempting to loop through an empty <code>this.artworkList</code>, causing the issue.</p>\n"}, {"tags": [], "owner": {"reputation": 3796, "user_id": 3686898, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IvIuI.jpg?s=128&g=1", "display_name": "Philipp Meissner", "link": "https://stackoverflow.com/users/3686898/philipp-meissner"}, "is_accepted": true, "score": 2, "last_activity_date": 1548249247, "creation_date": 1548249247, "answer_id": 54328114, "question_id": 54327989, "link": "https://stackoverflow.com/questions/54327989/angular-ts-loop-through-incoming-data/54328114#54328114", "title": "angular TS loop through incoming data", "body": "<p>Your loop operates synchronously, whereas you fetch the data it iterates over asynchronously.\nYou will have to move the actual loop into the <code>then</code>-block so that you do not access a possibly <code>undefined</code> value.</p>\n\n<p></p>\n\n<pre><code>constructor(private artworkService: ArtworkService) {\n}\n\nngOnInit() {\n  this.refresh();\n}\n\nrefresh() {\n  this.artworkService.retrieveAll().then((artworkList) =&gt; {\n    this.artworkList = artworkList;\n    for (let artwork of this.artworkList) {\n      console.log(artwork.name);\n    }\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 957, "user_id": 10542593, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YNY4Ku_rO0o/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDSzDmcl9CdvoFJY7XwOi5Gt7KiQw/mo/photo.jpg?sz=128", "display_name": "kontenurban", "link": "https://stackoverflow.com/users/10542593/kontenurban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 54328114, "answer_count": 2, "score": 0, "last_activity_date": 1548317669, "creation_date": 1548248817, "question_id": 54327989, "link": "https://stackoverflow.com/questions/54327989/angular-ts-loop-through-incoming-data", "title": "angular TS loop through incoming data", "body": "<p>I am trying to loop through an array of incoming data so that I can display the information on a map in leaflet!</p>\n\n<p>here is my class:</p>\n\n<pre><code>export class OpenStreetMapComponent implements OnInit {\n  @Output() private add = new EventEmitter();\n  @Output() private edit = new EventEmitter&lt;number&gt;();\n  artworkList: Artwork[];\n</code></pre>\n\n<p>the data as it comes in is stored in the artworkList array</p>\n\n<pre><code>constructor(private artworkService: ArtworkService) { }\n  ngOnInit() {\n    this.refresh();\n  }\n\n  refresh() {\n    this.artworkService.retrieveAll().then(\n      artworkList =&gt; this.artworkList = artworkList\n    );\n    for (let artwork of this.artworkList) {\n      console.log(artwork.name);\n  }\n</code></pre>\n\n<p>for some reason i keep getting this error is my console:</p>\n\n<p>ERROR TypeError: \"_a is undefined\"</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 693, "user_id": 4116175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15071ce46bb6ca6f7d20cbbfcdbf570e?s=128&d=identicon&r=PG", "display_name": "l0w_skilled", "link": "https://stackoverflow.com/users/4116175/l0w-skilled"}, "is_accepted": true, "score": 0, "last_activity_date": 1548253462, "creation_date": 1548253462, "answer_id": 54329396, "question_id": 54327640, "link": "https://stackoverflow.com/questions/54327640/import-paths-changed-in-fesm/54329396#54329396", "title": "Import paths changed in fesm", "body": "<p>Removing <code>providedIn: 'root'</code> in PdfService importing PdfRenderService seems to get rid of the weird import.</p>\n"}], "owner": {"reputation": 693, "user_id": 4116175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15071ce46bb6ca6f7d20cbbfcdbf570e?s=128&d=identicon&r=PG", "display_name": "l0w_skilled", "link": "https://stackoverflow.com/users/4116175/l0w-skilled"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 54329396, "answer_count": 1, "score": 0, "last_activity_date": 1548253462, "creation_date": 1548247643, "last_edit_date": 1548248453, "question_id": 54327640, "link": "https://stackoverflow.com/questions/54327640/import-paths-changed-in-fesm", "title": "Import paths changed in fesm", "body": "<p>I have a private library on a git server, which is being imported with package/dist/library-name in another library.</p>\n\n<pre><code>import {PdfRenderModule} from 'pdf-render/dist/pdf-render';\n\n@NgModule({\n    imports: [\n        PdfRenderModule\n    ]\n...\n...\n</code></pre>\n\n<p>The library has a service which it adds to the providers in it's module file.</p>\n\n<p>Once I try to import the service in another service</p>\n\n<pre><code>import {PdfRenderService} from 'pdf-render/dist/pdf-render';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class PdfService {\n    constructor(\n        public pdfrender: PdfRenderService\n    ) {\n    }\n}\n</code></pre>\n\n<p>the build of the importing lib creates weird paths in the fesm file.</p>\n\n<pre><code>import { PdfRenderService as PdfRenderService$1 } from 'pdf-render';\nimport { PdfRenderService, PdfRenderModule } from 'pdf-render/dist/pdf-render';\n</code></pre>\n\n<p>I have no idea why it changes the import to <code>'pdf-render';</code></p>\n\n<p>It works fine in components though.</p>\n\n<p>Has anyone ever experienced that behaviour?</p>\n\n<p>I expect it to be some tsconfig stuff.</p>\n\n<p>Angular 7 is being used.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2155, "user_id": 5909026, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-VWT4S_cML3I/AAAAAAAAAAI/AAAAAAAADdw/OpPjHPOydG4/photo.jpg?sz=128", "display_name": "Najam Us Saqib", "link": "https://stackoverflow.com/users/5909026/najam-us-saqib"}, "edited": false, "score": 0, "creation_date": 1548247286, "post_id": 54327468, "comment_id": 95473052, "body": "you can use inner loop."}, {"owner": {"reputation": 2155, "user_id": 5909026, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-VWT4S_cML3I/AAAAAAAAAAI/AAAAAAAADdw/OpPjHPOydG4/photo.jpg?sz=128", "display_name": "Najam Us Saqib", "link": "https://stackoverflow.com/users/5909026/najam-us-saqib"}, "edited": false, "score": 0, "creation_date": 1548247405, "post_id": 54327468, "comment_id": 95473109, "body": "see this: <a href=\"https://stackoverflow.com/a/44632512/5909026\">stackoverflow.com/a/44632512/5909026</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1055, "user_id": 3339907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14af5df4255627360a8466a236448eae?s=128&d=identicon&r=PG&f=1", "display_name": "shhdharmen", "link": "https://stackoverflow.com/users/3339907/shhdharmen"}, "edited": false, "score": 0, "creation_date": 1548248145, "post_id": 54327743, "comment_id": 95473512, "body": "Did you check your code? It won&#39;t add, it will just concatenate the durations. Output will be this of your code : <code>Phone: 1905 - Intractions 0:211:22</code>"}, {"owner": {"reputation": 169, "user_id": 9957933, "user_type": "registered", "profile_image": "https://graph.facebook.com/2063574510527002/picture?type=large", "display_name": "Raza Ellahi", "link": "https://stackoverflow.com/users/9957933/raza-ellahi"}, "edited": false, "score": 0, "creation_date": 1548248395, "post_id": 54327743, "comment_id": 95473667, "body": "i want to get result like 01:43"}, {"owner": {"reputation": 2155, "user_id": 5909026, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-VWT4S_cML3I/AAAAAAAAAAI/AAAAAAAADdw/OpPjHPOydG4/photo.jpg?sz=128", "display_name": "Najam Us Saqib", "link": "https://stackoverflow.com/users/5909026/najam-us-saqib"}, "edited": false, "score": 0, "creation_date": 1548248590, "post_id": 54327743, "comment_id": 95473773, "body": "it will automatically come if the value exists in your array. also share your html for better understanding"}, {"owner": {"reputation": 169, "user_id": 9957933, "user_type": "registered", "profile_image": "https://graph.facebook.com/2063574510527002/picture?type=large", "display_name": "Raza Ellahi", "link": "https://stackoverflow.com/users/9957933/raza-ellahi"}, "edited": false, "score": 0, "creation_date": 1548248850, "post_id": 54327743, "comment_id": 95473920, "body": "value is not exit in array, i have to manually add those times"}], "tags": [], "owner": {"reputation": 2155, "user_id": 5909026, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-VWT4S_cML3I/AAAAAAAAAAI/AAAAAAAADdw/OpPjHPOydG4/photo.jpg?sz=128", "display_name": "Najam Us Saqib", "link": "https://stackoverflow.com/users/5909026/najam-us-saqib"}, "is_accepted": false, "score": 0, "last_activity_date": 1548247990, "creation_date": 1548247990, "answer_id": 54327743, "question_id": 54327468, "link": "https://stackoverflow.com/questions/54327468/add-multiple-time-from-multiple-objects-in-array-and-display-using-pipe-in-angul/54327743#54327743", "title": "Add multiple time from multiple objects in array and display using pipe in angular 5 in HTML", "body": "<p>suppose you have an array like:</p>\n\n<pre><code>myObject = [\n  {\n    \"phone_number\": \"1905\",\n    \"interactions\": [\n      {\n        \"agentId\": \"hassan1\",\n        \"call_duration\": \"0:21\"\n      },\n      {\n        \"agentId\": \"shabber\",\n        \"call_duration\": \"1:22\"\n      }\n    ]\n }\n]\n</code></pre>\n\n<p>to Display this data you can use Nested Loop e.g:</p>\n\n<pre><code>&lt;div *ngFor=\"let data of myObject \"&gt;\n      Phone: {{data.phone_number}} - Intractions &lt;span *ngFor=\"let intrac of data.interactions\"&gt;{{intrac.call_duration}}&lt;/span&gt;\n&lt;/div&gt; \n</code></pre>\n\n<p>Nested loop through your interactions Array. </p>\n"}, {"tags": [], "owner": {"reputation": 1055, "user_id": 3339907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14af5df4255627360a8466a236448eae?s=128&d=identicon&r=PG&f=1", "display_name": "shhdharmen", "link": "https://stackoverflow.com/users/3339907/shhdharmen"}, "is_accepted": true, "score": 1, "last_activity_date": 1548248865, "creation_date": 1548248865, "answer_id": 54327999, "question_id": 54327468, "link": "https://stackoverflow.com/questions/54327468/add-multiple-time-from-multiple-objects-in-array-and-display-using-pipe-in-angul/54327999#54327999", "title": "Add multiple time from multiple objects in array and display using pipe in angular 5 in HTML", "body": "<p>It would be difficult to get total time, only through HTML.</p>\n\n<p>I would suggest you use a function in javascript to get total time. Like below :</p>\n\n<p><strong>HTML</strong></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>...\n&lt;div *ngFor=\"let item of data \"&gt;\n      Phone: {{item.phone_number}} - Total Duration {{totalDuration(item.interactions)}}\n&lt;/div&gt;\n...\n</code></pre>\n\n<p><strong>TS</strong></p>\n\n<pre><code>...\ntotalDuration(interactions: { 'agentId': string, 'call_duration': 'string' }[]) {\n    let totalDuration = 0;\n    interactions.forEach(item=&gt;{\n      // fetch seconds\n      const seconds = +item.call_duration.split(':')[1];\n      // fetch minutes and convert them into seconds\n      const minutes = +item.call_duration.split(':')[0];\n      const secondsOfMinutes = minutes * 60;\n      // add all seconds\n      totalDuration += seconds + secondsOfMinutes;\n    })\n    // convert totalDuration to readable format\n    return Math.floor(totalDuration / 60) + \":\" + (totalDuration % 60 ? totalDuration % 60 : '00')\n  }\n...\n</code></pre>\n\n<p>I have also created example on <a href=\"https://stackblitz.com/edit/angular-i6yyv7\" rel=\"nofollow noreferrer\">stackblitz</a>.</p>\n"}], "owner": {"reputation": 169, "user_id": 9957933, "user_type": "registered", "profile_image": "https://graph.facebook.com/2063574510527002/picture?type=large", "display_name": "Raza Ellahi", "link": "https://stackoverflow.com/users/9957933/raza-ellahi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 1, "accepted_answer_id": 54327999, "answer_count": 2, "score": 0, "last_activity_date": 1548248865, "creation_date": 1548247071, "question_id": 54327468, "link": "https://stackoverflow.com/questions/54327468/add-multiple-time-from-multiple-objects-in-array-and-display-using-pipe-in-angul", "title": "Add multiple time from multiple objects in array and display using pipe in angular 5 in HTML", "body": "<p>In object array i have multiple objects in nested array, each object has its own value of time e.g \"\"call_duration\": \"0:21\"\" ,I want to add all the times and display it in proper time format from HTML side. \nArray is</p>\n\n<pre><code>[\n  {\n    \"phone_number\": \"1905\",\n    \"interactions\": [\n      {\n        \"agentId\": \"hassan1\",\n        \"call_duration\": \"0:21\"\n      },\n      {\n        \"agentId\": \"shabber\",\n        \"call_duration\": \"1:22\"\n      }\n    ]\n }\n]\n</code></pre>\n\n<p>I want to add those call duration and display the final time, all the things should be handle in HTML</p>\n"}, {"tags": ["javascript", "angular", "typescript", "formarray"], "answers": [{"tags": [], "owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "is_accepted": true, "score": 3, "last_activity_date": 1548244917, "creation_date": 1548244917, "answer_id": 54326825, "question_id": 54326732, "link": "https://stackoverflow.com/questions/54326732/formarray-cannot-find-control-with-unspecified-name-attribute-in-angular6/54326825#54326825", "title": "FormArray : Cannot find control with unspecified name attribute in angular6", "body": "<p>You should be using <code>formArrayName</code> instead of <code>formArray</code>:</p>\n\n<pre><code>&lt;div formArrayName=\"values\"&gt;\n</code></pre>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-dwrlra?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">Forked Stackblitz</a></strong></p>\n\n<p>Also please keep your variables in sync:</p>\n\n<p><strong>ts</strong></p>\n\n<pre><code>AddP: FormGroup; // why upper case?\n</code></pre>\n\n<p>html</p>\n\n<pre><code>[formGroup]=\"addP\" \n</code></pre>\n\n<p>Javascript is case-sensitive language</p>\n"}], "owner": {"reputation": 427, "user_id": 10701530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b8db3935653637d04721a32c05d78cf?s=128&d=identicon&r=PG&f=1", "display_name": "Mr-Programer", "link": "https://stackoverflow.com/users/10701530/mr-programer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 468, "favorite_count": 0, "accepted_answer_id": 54326825, "answer_count": 1, "score": 1, "last_activity_date": 1548244917, "creation_date": 1548244562, "question_id": 54326732, "link": "https://stackoverflow.com/questions/54326732/formarray-cannot-find-control-with-unspecified-name-attribute-in-angular6", "title": "FormArray : Cannot find control with unspecified name attribute in angular6", "body": "<p>I created a form using the reactive and presentation form. When I invoke the fields for the submission form, this gives me the error.</p>\n\n<p>this Erorr :</p>\n\n<blockquote>\n  <p>Cannot find control with unspecified name attribute</p>\n</blockquote>\n\n<pre><code>    addProductFG:FormGroup;\n  cats:Category[];\n  subCats:Category[];\n  PD:Productdetail[];\n  selectedCat:number;\n  valueIngrident=new FormArray([]);\n  public loading=false;\n\n  constructor(private fb:FormBuilder,private productService:ProductinfoService,private catService:CategoryService) { }\n\n  ngOnInit() {\n    this.loading=true;\n    this.InitialFrom();\n    this.GetMainCat();\n  }\n\n  public CreateValueFiled(PD:Productdetail[]){\n      PD.map(element =&gt; {\n        this.valueIngrident.push(\n          new FormGroup({\n            infoId:new FormControl(element.id),\n            value:new FormControl('')\n          })\n        )\n      });\n  }\n\n  public GetMainCat(){\n    this.catService.GetMainCat().subscribe(\n      res=&gt;{\n        this.cats=res;\n        this.loading=false;\n      }\n    )\n  }\n\n  get ValueFormControl(){\n      return  this.addProductFG.get('values') as FormArray;\n  }\n\n  public InitialFrom():FormGroup{\n\n    this.addProductFG=this.fb.group({\n      productTitle:['',Validators.compose([Validators.required])],\n      productName:['',Validators.compose([Validators.required])],\n      color:['',Validators.compose([Validators.required])],\n      productImageName:['',Validators.compose([Validators.required])],\n      price:['',Validators.compose([Validators.required])],\n      gurantyMonth:['',Validators.compose([Validators.required])],\n      gurantyCompanyName:['',Validators.compose([Validators.required])],\n      values:this.valueIngrident\n    })\n    return this.addProductFG;\n  }\n  public ChangeSubCat(id:number){\n    this.loading=true;\n      this.catService.GetSubCatByCatId(id).subscribe(\n          res=&gt;{\n            this.subCats=res;\n            this.loading=false;\n          }\n        )\n  }\n\n  public ChangeFormByType(id:number){\n    this.loading=true;\n      this.productService.GetPCIBySubId(id).subscribe(\n        res=&gt;{\n          this.PD=res,\n          this.CreateValueFiled(this.PD),\n          this.loading=false;\n        }\n      )\n  }\n</code></pre>\n\n<p>and in HTML :</p>\n\n<pre><code>       &lt;div formArray=\"values\"&gt;\n                &lt;div *ngFor=\"let valueCtrl of ValueFormControl.controls; let i=index\" [formGroupName]=\"i\"&gt;\n                    &lt;div  class=\"form-inline lbin\"&gt;\n                        &lt;label&gt;g &lt;/label&gt;\n                        &lt;input formControlName=\"value\" &gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n</code></pre>\n\n<p>and And this is my sample code in stackblitz <a href=\"https://stackblitz.com/edit/angular-v5nskq?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\">Demo</a></p>\n\n<p><strong>Whats the Problem ? How Can I Solve This problem ?</strong></p>\n"}, {"tags": ["node.js", "typescript"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1548243831, "post_id": 54326403, "comment_id": 95471220, "body": "The question lacks <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a> . How do you use the class? What exactly is undefined? &#39;command&#39; isn&#39;t a term, it needs an explanation."}, {"owner": {"reputation": 812, "user_id": 7612201, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rZLNw5HIvK0/AAAAAAAAAAI/AAAAAAAADYA/-oQmaJZddBo/photo.jpg?sz=128", "display_name": "an\u0131l y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/7612201/an%c4%b1l-y%c4%b1ld%c4%b1r%c4%b1m"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1548244277, "post_id": 54326403, "comment_id": 95471435, "body": "@estus I tried to explain my problem a little more. Would you please let me know if I&#39;m missing one?"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1548244484, "post_id": 54326403, "comment_id": 95471549, "body": "No, it isn&#39;t undefined. The problem may be specific to your IDE, or TS version, or anything else in your environment."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1548244489, "post_id": 54326403, "comment_id": 95471552, "body": "See <a href=\"https://www.typescriptlang.org/play/#src=interface%20AddDto%20%7B%7D%0D%0A%0D%0Aexport%20class%20CrudController%7B%0D%0A%20%20%20protected%20readonly%20addDtotype%3A%20new%20()%20%3D%3E%20AddDto%3B%0D%0A%0D%0A%20%20%20%20constructor(addDtotype%3A%20(new%20()%20%3D%3E%20AddDto))%20%7B%0D%0A%20%20%20%20%20%20%20%20this.addDtotype%20%3D%20addDtotype%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20public%20async%20add(ctx%3A%20any%2C%20next%3A%20any)%20%7B%0D%0A%20%20%20%20%20%20const%20dto%20%3D%20new%20this.addDtotype()%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A\" rel=\"nofollow noreferrer\">typescriptlang.org/play/&hellip;</a>"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1548244604, "post_id": 54326403, "comment_id": 95471600, "body": "It shows correct type for <code>this.addDtotype</code>."}, {"owner": {"reputation": 812, "user_id": 7612201, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rZLNw5HIvK0/AAAAAAAAAAI/AAAAAAAADYA/-oQmaJZddBo/photo.jpg?sz=128", "display_name": "an\u0131l y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/7612201/an%c4%b1l-y%c4%b1ld%c4%b1r%c4%b1m"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1548246193, "post_id": 54326403, "comment_id": 95472429, "body": "@estus IDE; vs code, ts version; 2.7.2"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1548247202, "post_id": 54326403, "comment_id": 95472986, "body": "Does the project compile without complaining about addDtotype? If it does then the problem is specific to VS Code and should be proceeded from this fact."}, {"owner": {"reputation": 3652, "user_id": 7026928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/odN7u.jpg?s=128&g=1", "display_name": "Ihor Sakailiuk", "link": "https://stackoverflow.com/users/7026928/ihor-sakailiuk"}, "edited": false, "score": 0, "creation_date": 1548247530, "post_id": 54326403, "comment_id": 95473186, "body": "why are you using <code>new</code>-keyword here?"}, {"owner": {"reputation": 812, "user_id": 7612201, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rZLNw5HIvK0/AAAAAAAAAAI/AAAAAAAADYA/-oQmaJZddBo/photo.jpg?sz=128", "display_name": "an\u0131l y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/7612201/an%c4%b1l-y%c4%b1ld%c4%b1r%c4%b1m"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1548249195, "post_id": 54326403, "comment_id": 95474096, "body": "@estus No, Doesn&#39;t compiled. :("}, {"owner": {"reputation": 812, "user_id": 7612201, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rZLNw5HIvK0/AAAAAAAAAAI/AAAAAAAADYA/-oQmaJZddBo/photo.jpg?sz=128", "display_name": "an\u0131l y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/7612201/an%c4%b1l-y%c4%b1ld%c4%b1r%c4%b1m"}, "reply_to_user": {"reputation": 3652, "user_id": 7026928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/odN7u.jpg?s=128&g=1", "display_name": "Ihor Sakailiuk", "link": "https://stackoverflow.com/users/7026928/ihor-sakailiuk"}, "edited": false, "score": 0, "creation_date": 1548249247, "post_id": 54326403, "comment_id": 95474132, "body": "@IhorSakaylyuk I get the same error when I am not using new keyword."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1548249296, "post_id": 54326403, "comment_id": 95474154, "body": "I&#39;d suggest to update TS. 2.7 is pretty much old."}, {"owner": {"reputation": 812, "user_id": 7612201, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rZLNw5HIvK0/AAAAAAAAAAI/AAAAAAAADYA/-oQmaJZddBo/photo.jpg?sz=128", "display_name": "an\u0131l y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/7612201/an%c4%b1l-y%c4%b1ld%c4%b1r%c4%b1m"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1548249351, "post_id": 54326403, "comment_id": 95474204, "body": "@estus I now try."}, {"owner": {"reputation": 812, "user_id": 7612201, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rZLNw5HIvK0/AAAAAAAAAAI/AAAAAAAADYA/-oQmaJZddBo/photo.jpg?sz=128", "display_name": "an\u0131l y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/7612201/an%c4%b1l-y%c4%b1ld%c4%b1r%c4%b1m"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1548249850, "post_id": 54326403, "comment_id": 95474494, "body": "@estus I updated the ts version (3.2.4), but this problem not fixed."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1548250094, "post_id": 54326403, "comment_id": 95474641, "body": "If there&#39;s compilation error, it should be listed in the question. Consider providing <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a> to replicate the problem. Try to make it <i>minimal</i>. Try to replicate it on Stackblitz. If a problem doesn&#39;t appear there, post a project on GH. Again, as I showed, there&#39;s no problem with this snippet per se, this may be specific to something or your side."}], "answers": [{"comments": [{"owner": {"reputation": 812, "user_id": 7612201, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rZLNw5HIvK0/AAAAAAAAAAI/AAAAAAAADYA/-oQmaJZddBo/photo.jpg?sz=128", "display_name": "an\u0131l y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/7612201/an%c4%b1l-y%c4%b1ld%c4%b1r%c4%b1m"}, "edited": false, "score": 0, "creation_date": 1548253405, "post_id": 54328774, "comment_id": 95476615, "body": "Thanks your answer."}], "tags": [], "owner": {"reputation": 4828, "user_id": 8378419, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2772206b4d6afcbdfe7485286554190d?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie Milejczak", "link": "https://stackoverflow.com/users/8378419/robbie-milejczak"}, "is_accepted": true, "score": 4, "last_activity_date": 1548251339, "creation_date": 1548251339, "answer_id": 54328774, "question_id": 54326403, "link": "https://stackoverflow.com/questions/54326403/typescript-node-js-this-command-undefined/54328774#54328774", "title": "TypeScript Node.js this command undefined", "body": "<p>This isn't a bug, your linter is correct because your <code>add</code> method is unbound. Basically there are two types of function declarations in JavaScript, regular function statements and arrow functions, and the primary difference is that regular function statements provide their own definition for <code>this</code> within their scope, while arrow functions binds to the current <code>this</code> in the scope they are defined.</p>\n\n<p>So when a method is a normal function:</p>\n\n<pre><code>add(ctx: any, next: any) {\n  const dto = new this.addDtotype();\n  Object.assign(dto, ctx.request.body);\n}\n</code></pre>\n\n<p><code>this</code> points to <code>add</code>, and not to your <code>CrudController</code> but when you change it to an arrow:</p>\n\n<pre><code>public add = async (ctx: any, next: any) =&gt; { }\n</code></pre>\n\n<p><code>this</code> is not overridden, and so it still points to your component. Note that you do not need to do this for built-in methods like <code>render</code> or <code>componentDidMount</code>, only for methods you define.</p>\n\n<p>So basically anytime you want to use <code>this</code> in reference to your component while inside a method, you should define it like <code>method = () =&gt; {}</code>. If you seriously hate arrow functions, you can also bind methods in the constructor like so:</p>\n\n<pre><code>constructor(props){\n  super(props)\n  this.add = this.add.bind(this)\n  this.method = this.method.bind(this)\n}\n</code></pre>\n\n<p><a href=\"https://palantir.github.io/tslint/\" rel=\"nofollow noreferrer\">TSLint</a> has a great rule to help prevent making this mistake (it's an easy one to make) called <a href=\"https://palantir.github.io/tslint/rules/no-unbound-method/\" rel=\"nofollow noreferrer\">\"no-unbound-method\"</a></p>\n"}], "owner": {"reputation": 812, "user_id": 7612201, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rZLNw5HIvK0/AAAAAAAAAAI/AAAAAAAADYA/-oQmaJZddBo/photo.jpg?sz=128", "display_name": "an\u0131l y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/7612201/an%c4%b1l-y%c4%b1ld%c4%b1r%c4%b1m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 546, "favorite_count": 0, "accepted_answer_id": 54328774, "answer_count": 1, "score": 0, "last_activity_date": 1548251625, "creation_date": 1548243464, "last_edit_date": 1548251625, "question_id": 54326403, "link": "https://stackoverflow.com/questions/54326403/typescript-node-js-this-command-undefined", "title": "TypeScript Node.js this command undefined", "body": "<p>I started writing Ts, but now I'm a novice.</p>\n\n<pre><code>  export class CrudController&lt;AddDto extends CoreAddDto&gt;{\n\n   protected readonly addDtotype: new () =&gt; AddDto;\n\n    constructor(addDtotype: (new () =&gt; AddDto)) {\n        this.addDtotype = addDtotype;\n      }\n\n    public async add(ctx: any, next: any) {\n\n    /// this undefined !!! ///\n      const dto = new this.addDtotype();\n\n\n     Object.assign(dto, ctx.request.body);\n\n    }\n  }\n\nclass FooController extends\n  CrudController&lt;FooDto&gt; {\n\n  constructor {\n    super(FooDto);\n  }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/i9clJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i9clJ.png\" alt=\"enter image description here\"></a>\n<strong>Why didn't I understand this command undefined?</strong></p>\n\n<hr>\n\n<p>this works</p>\n\n<pre><code>public add = async (ctx: any, next: any) =&gt; { }\n</code></pre>\n\n<p>method works as a property, why ??</p>\n"}, {"tags": ["regex", "typescript", "range"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1548243282, "post_id": 54326308, "comment_id": 95470932, "body": "<a href=\"https://stackoverflow.com/questions/26015788\">This thread</a> might give you some  hints."}, {"owner": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1548243395, "post_id": 54326308, "comment_id": 95470996, "body": "Try <code>(?:10000000|[0-9]{1,7})[0-9]{0,2}</code>"}], "answers": [{"comments": [{"owner": {"reputation": 7630, "user_id": 971904, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/04a22a8eb1115fae75b130ec3febb45d?s=128&d=identicon&r=PG", "display_name": "Danny", "link": "https://stackoverflow.com/users/971904/danny"}, "edited": false, "score": 0, "creation_date": 1548247434, "post_id": 54326498, "comment_id": 95473129, "body": "Almost worked. The problem with this is that you can now enter 100000000 (i.e. it&#39;s not looking at decimal places)"}, {"owner": {"reputation": 23752, "user_id": 1118978, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2rloq.jpg?s=128&g=1", "display_name": "Dervi\u015f Kay\u0131mba\u015f\u0131o\u011flu", "link": "https://stackoverflow.com/users/1118978/dervi%c5%9f-kay%c4%b1mba%c5%9f%c4%b1o%c4%9flu"}, "reply_to_user": {"reputation": 7630, "user_id": 971904, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/04a22a8eb1115fae75b130ec3febb45d?s=128&d=identicon&r=PG", "display_name": "Danny", "link": "https://stackoverflow.com/users/971904/danny"}, "edited": false, "score": 0, "creation_date": 1548247894, "post_id": 54326498, "comment_id": 95473381, "body": "@Danny, you must be mistaken. I tried it and it is not validating <code>100000000</code> see the Regex Tester link"}], "tags": [], "owner": {"reputation": 23752, "user_id": 1118978, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2rloq.jpg?s=128&g=1", "display_name": "Dervi\u015f Kay\u0131mba\u015f\u0131o\u011flu", "link": "https://stackoverflow.com/users/1118978/dervi%c5%9f-kay%c4%b1mba%c5%9f%c4%b1o%c4%9flu"}, "is_accepted": false, "score": -1, "last_activity_date": 1548244210, "last_edit_date": 1548244210, "creation_date": 1548243798, "answer_id": 54326498, "question_id": 54326308, "link": "https://stackoverflow.com/questions/54326308/regex-how-to-get-a-range-of-0-to-10-000-000-2-decimal-places/54326498#54326498", "title": "RegEx - how to get a range of 0 to 10,000,000 (2 decimal places)", "body": "<p>check this</p>\n\n<pre><code>^([1]?[0-9]{0,7}(\\.[0-9]{1,2}){0,1}|0\\.[0-9]{1,2})$\n</code></pre>\n\n<p><a href=\"https://regexr.com/46urq\" rel=\"nofollow noreferrer\">Regex Tester</a></p>\n"}], "owner": {"reputation": 7630, "user_id": 971904, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/04a22a8eb1115fae75b130ec3febb45d?s=128&d=identicon&r=PG", "display_name": "Danny", "link": "https://stackoverflow.com/users/971904/danny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "closed_date": 1548243932, "answer_count": 1, "score": -3, "last_activity_date": 1548244920, "creation_date": 1548243198, "question_id": 54326308, "link": "https://stackoverflow.com/questions/54326308/regex-how-to-get-a-range-of-0-to-10-000-000-2-decimal-places", "closed_reason": "Duplicate", "title": "RegEx - how to get a range of 0 to 10,000,000 (2 decimal places)", "body": "<p>How to get a range of 0 to 10 million with 2 decimal places? I've managed to get the 2 decimal places part with the current RegEx: <code>[0-9]+(\\.[0-9]{1,2})?$</code></p>\n\n<p>But couldn't get the range working. Thanks</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "edited": false, "score": 0, "creation_date": 1548243332, "post_id": 54326293, "comment_id": 95470954, "body": "It&#39;ll be the type of whatever <code>db.connection().insert()</code> returns"}, {"owner": {"reputation": 23, "user_id": 10829662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/192253e6f5dd619335b2b50666d9bc90?s=128&d=identicon&r=PG&f=1", "display_name": "Pradip shrestha", "link": "https://stackoverflow.com/users/10829662/pradip-shrestha"}, "reply_to_user": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "edited": false, "score": 0, "creation_date": 1548243447, "post_id": 54326293, "comment_id": 95471028, "body": "connection returns Knex and insert returns Array&lt;t&gt;"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10829662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/192253e6f5dd619335b2b50666d9bc90?s=128&d=identicon&r=PG&f=1", "display_name": "Pradip shrestha", "link": "https://stackoverflow.com/users/10829662/pradip-shrestha"}, "edited": false, "score": 0, "creation_date": 1548307108, "post_id": 54330787, "comment_id": 95495940, "body": "thank you for the reply but i get &quot;Argument of type &#39;(Bluebird&lt;number[]&gt; | QueryBuilder[])[]&#39; is not assignable to parameter of type &#39;Iterable&lt;number[] | PromiseLike&lt;number[]&gt;&gt;&#39;.&quot;  error while i do promise.all  . I tried wrapping the arrray for promise.all as <a href=\"https://devhints.io/bluebird\" rel=\"nofollow noreferrer\">devhints.io/bluebird</a> but all my promises dont resolve now."}, {"owner": {"reputation": 1109, "user_id": 1005187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qFMP2.jpg?s=128&g=1", "display_name": "SPArcheon", "link": "https://stackoverflow.com/users/1005187/sparcheon"}, "reply_to_user": {"reputation": 23, "user_id": 10829662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/192253e6f5dd619335b2b50666d9bc90?s=128&d=identicon&r=PG&f=1", "display_name": "Pradip shrestha", "link": "https://stackoverflow.com/users/10829662/pradip-shrestha"}, "edited": false, "score": 0, "creation_date": 1548321689, "post_id": 54330787, "comment_id": 95502014, "body": "@Pradipshrestha I fear this may be due to <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/issues/11027\" rel=\"nofollow noreferrer\">this issue</a> relating to the Bluebird library. It seems that due to some issues/design choices in the library, currently the Bluebird promise is not directly assignable to a ES6 promise. Will try and see if I can think of any better solution, in the meantime I fear your best option is to see if any of the proposed workaround in the linked github discussion could be of any help in your case."}], "tags": [], "owner": {"reputation": 1109, "user_id": 1005187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qFMP2.jpg?s=128&g=1", "display_name": "SPArcheon", "link": "https://stackoverflow.com/users/1005187/sparcheon"}, "is_accepted": true, "score": 1, "last_activity_date": 1548257948, "creation_date": 1548257948, "answer_id": 54330787, "question_id": 54326293, "link": "https://stackoverflow.com/questions/54326293/what-will-be-the-default-return-type-of-knex-in-typescript/54330787#54330787", "title": "What will be the default return type of knex in Typescript?", "body": "<p>Based on the type definitions available on GitHub, I assume that you are working with a <code>QueryBuilder</code> instance.</p>\n\n<pre><code>interface QueryBuilder extends QueryInterface, ChainableInterface \n</code></pre>\n\n<p>this means that your Insert method get called on something that implements the <code>QueryInterface</code> and the <code>ChainableInterfaces</code> interfaces.</p>\n\n<p><code>Insert</code> is defined in the <code>QueryInterface</code> interface and returns the <code>QueryBuilder</code> it has been called on. Not much of an info.</p>\n\n<p>Looking at the <code>ChainableInterface</code> instead we notice that it extends <code>BlueBird&lt;any&gt;</code>.</p>\n\n<pre><code>interface ChainableInterface extends Bluebird&lt;any&gt; \n</code></pre>\n\n<p>Bluebird is one of the many JavaScript promise libraries. You can read more about it <a href=\"http://bluebirdjs.com/docs/getting-started.html\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>So, summing all we know so far...</p>\n\n<blockquote>\n  <p>Insert returns <code>Bluebird&lt;any&gt;</code></p>\n</blockquote>\n\n<p>Looking at the Bluebird library, it seems <code>Catch</code> returns the promise object it has been called on (as expected from a promise library). This means that your method actually return a <code>Bluebird&lt;any&gt;</code> promise</p>\n\n<p>As for the actual type... based on the samples available in the Knex documentation, <code>Insert</code> should be returning an array with the indexes of the inserted records. So, it should be safe enough to assume that you are working with a promise that returns a number array.</p>\n\n<p>In conclusion:</p>\n\n<p>Your method is returning a <code>QueryBuilder</code> object that may be used to build more queries (that should be the purpose of the <code>ChainableInterface</code>). It <em>should</em> also work as a <code>Bluebird&lt;number[]&gt;</code> promise that you can use to get the inserted records identifiers if needed.</p>\n"}], "owner": {"reputation": 23, "user_id": 10829662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/192253e6f5dd619335b2b50666d9bc90?s=128&d=identicon&r=PG&f=1", "display_name": "Pradip shrestha", "link": "https://stackoverflow.com/users/10829662/pradip-shrestha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1238, "favorite_count": 1, "accepted_answer_id": 54330787, "answer_count": 1, "score": 2, "last_activity_date": 1548257948, "creation_date": 1548243135, "question_id": 54326293, "link": "https://stackoverflow.com/questions/54326293/what-will-be-the-default-return-type-of-knex-in-typescript", "title": "What will be the default return type of knex in Typescript?", "body": "<p>I have the following function and i cant seem to figure out its return type</p>\n\n<pre><code>export function save(contractType: ContractType, tx?: Knex.Transaction): any {\n  return db\n    .connection(tx)(CONTRACT_TYPE_TABLE)\n    .insert(contractType)\n    .catch(err =&gt; {\n      throw new DatabaseError(en.GENERIC_ERROR, err);\n    });\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "concurrency", "thread-safety"], "comments": [{"owner": {"reputation": 720, "user_id": 5333195, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CnaPW.jpg?s=128&g=1", "display_name": "hevans900", "link": "https://stackoverflow.com/users/5333195/hevans900"}, "edited": false, "score": 0, "creation_date": 1548243101, "post_id": 54325988, "comment_id": 95470845, "body": "You don&#39;t have to worry about thread safety in JavaScript, this previous answer explains it better than I can: <a href=\"https://stackoverflow.com/questions/7868434/are-calls-to-javascript-methods-thread-safe-or-synchronized\" title=\"are calls to javascript methods thread safe or synchronized\">stackoverflow.com/questions/7868434/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 9048140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6202954ab301796368796d68d5c5b0fe?s=128&d=identicon&r=PG", "display_name": "aymanba", "link": "https://stackoverflow.com/users/9048140/aymanba"}, "reply_to_user": {"reputation": 720, "user_id": 5333195, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CnaPW.jpg?s=128&g=1", "display_name": "hevans900", "link": "https://stackoverflow.com/users/5333195/hevans900"}, "edited": false, "score": 1, "creation_date": 1548244092, "post_id": 54325988, "comment_id": 95471338, "body": "thx for your answer"}], "owner": {"reputation": 1, "user_id": 9048140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6202954ab301796368796d68d5c5b0fe?s=128&d=identicon&r=PG", "display_name": "aymanba", "link": "https://stackoverflow.com/users/9048140/aymanba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 575, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1614553261, "creation_date": 1548242109, "question_id": 54325988, "link": "https://stackoverflow.com/questions/54325988/concurrency-with-singleton-service-in-angular-6", "title": "Concurrency with singleton service in angular 6", "body": "<p>I have a singleton service shared for all components like this.   </p>\n\n<pre><code>    @Injectable({\n      providedIn: 'root'\n    })\n    export class ItemService {\n      items: Items [];\n\n       addItem(item: Item){\n       this.items.push(item);\n       }\n       getItems(){\n      return this.items;\n      }\n    }\n</code></pre>\n\n<p>it's thread-safe to use common fields. this case doesn't cause a problem in concurrency ?</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "ecmascript-6", "types"], "answers": [{"comments": [{"owner": {"reputation": 5940, "user_id": 4756106, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/c6fb8e412e1f802fde077ee236379829?s=128&d=identicon&r=PG&f=1", "display_name": "peter flanagan", "link": "https://stackoverflow.com/users/4756106/peter-flanagan"}, "edited": false, "score": 0, "creation_date": 1548242321, "post_id": 54326019, "comment_id": 95470430, "body": "apologies, I amended the question a bit to use different variable names. Updated now"}], "tags": [], "owner": {"reputation": 49, "user_id": 8731547, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fBFfa.jpg?s=128&g=1", "display_name": "Carl Pryke", "link": "https://stackoverflow.com/users/8731547/carl-pryke"}, "is_accepted": false, "score": 0, "last_activity_date": 1548242230, "creation_date": 1548242230, "answer_id": 54326019, "question_id": 54325820, "link": "https://stackoverflow.com/questions/54325820/react-typescript-is-not-assignable-to-parameter-of-type/54326019#54326019", "title": "React typescript is not assignable to parameter of type", "body": "<p>For one thing, the shape of your data isn't matching up:</p>\n\n<p>Notice you are using 'term' instead of 'away' in your initialFixtures array, and then 'away' instead of 'name'. So you shapes are not matching up. It may help to declare your initialFixtures const as a Fixtures[] as typescript will probably not implicitly realise that.</p>\n\n<p>It looks like useState is a polymorphic function that takes an array of the assigned type Fixtures or a callback that returns the Fixtures[] type. </p>\n\n<p>So as far as I can tell: </p>\n\n<pre><code>term: {\n  away: 'Man Utd',\n}, \n</code></pre>\n\n<p>Should be </p>\n\n<pre><code>away: {\n  name: 'Man Utd'\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1437, "user_id": 4038702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/364QK.jpg?s=128&g=1", "display_name": "Pandelis", "link": "https://stackoverflow.com/users/4038702/pandelis"}, "is_accepted": false, "score": 0, "last_activity_date": 1548242465, "creation_date": 1548242465, "answer_id": 54326085, "question_id": 54325820, "link": "https://stackoverflow.com/questions/54325820/react-typescript-is-not-assignable-to-parameter-of-type/54326085#54326085", "title": "React typescript is not assignable to parameter of type", "body": "<p><code>type Team = 'Liverpool' | 'Man Utd';</code></p>\n\n<p>Reason is typescript thinks that your structure should be:</p>\n\n<pre><code>            home: {\n                name: {\n                   name: 'Liverpool'\n                }\n            },\n            away: {\n                name: {\n                   name: 'Man Utd'\n                }\n            },\n\n</code></pre>\n\n<p>Alternatively you could keep the team type the same but change the Fixtures type to:</p>\n\n<pre><code>type Fixtures = {\n    teams: {\n        home: Team;\n        away: Team;\n        winner: Team;\n    };\n};\n</code></pre>\n\n<p>Keep in mind that winner will be an object of {name: 'Teamname'} Not a string of the team name</p>\n"}, {"comments": [{"owner": {"reputation": 5940, "user_id": 4756106, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/c6fb8e412e1f802fde077ee236379829?s=128&d=identicon&r=PG&f=1", "display_name": "peter flanagan", "link": "https://stackoverflow.com/users/4756106/peter-flanagan"}, "edited": false, "score": 0, "creation_date": 1548242719, "post_id": 54326116, "comment_id": 95470648, "body": "that is the solution :-D"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1548242556, "creation_date": 1548242556, "answer_id": 54326116, "question_id": 54325820, "link": "https://stackoverflow.com/questions/54325820/react-typescript-is-not-assignable-to-parameter-of-type/54326116#54326116", "title": "React typescript is not assignable to parameter of type", "body": "<p>The problem is not related to react, its related to how Typescript infers string literal types. Typescript will not infer string literal types unless it has a reason to do so.</p>\n\n<p>In this case <code>initialFixtures</code> is untyped. So typescript has no reason to infer <code>name</code> as <code>'Liverpool' | 'Man Utd'</code> so it infers it as <code>string</code>. When you later try to assign <code>initialFixtures</code> with its inferred type to <code>Fixture[]</code> the assignment fails (since <code>string</code> is not assignable to <code>Team</code>):</p>\n\n<pre><code>type Team =  'Liverpool' | 'Man Utd';\n\ntype Fixtures = {\n    teams: {\n        home: {\n            name: Team;\n        },\n        away: {\n            name: Team;\n        },\n    };\n    winner: Team;\n};\n\nconst initialFixtures= [\n    {\n        teams: {\n            home: {\n                name: 'Liverpool',\n            },\n            away: {\n                name: 'Man Utd',\n            },\n        },\n        winner: 'Liverpool',\n    },\n];\nlet o: Fixtures[] = initialFixtures; // error here \n// Type '{ teams: { home: { name: string; }; away: { name: string; }; }; winner: string; }[]' is not assignable to type 'Fixtures[]'.\n</code></pre>\n\n<p>The simple solution is to type <code>initialFixtures</code> and not ask the compiler to infer anything and just check the object literal):</p>\n\n<pre><code>const initialFixtures: Fixtures[]= [\n    {\n        teams: {\n            home: {\n                name: 'Liverpool',\n            },\n            away: {\n                name: 'Man Utd',\n            },\n        },\n        winner: 'Liverpool',\n    },\n];\nlet o: Fixtures[] = initialFixtures; //ok\n</code></pre>\n"}], "owner": {"reputation": 5940, "user_id": 4756106, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/c6fb8e412e1f802fde077ee236379829?s=128&d=identicon&r=PG&f=1", "display_name": "peter flanagan", "link": "https://stackoverflow.com/users/4756106/peter-flanagan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 830, "favorite_count": 0, "accepted_answer_id": 54326116, "answer_count": 3, "score": 0, "last_activity_date": 1548242556, "creation_date": 1548241599, "last_edit_date": 1548242294, "question_id": 54325820, "link": "https://stackoverflow.com/questions/54325820/react-typescript-is-not-assignable-to-parameter-of-type", "title": "React typescript is not assignable to parameter of type", "body": "<p>I am using typescript in a react project.</p>\n\n<p>I am getting the following error.</p>\n\n<blockquote>\n  <p>Argument of type '{ teams: { home: { name: string; }; away: {\n  name: string; }; }[]' is not assignable to parameter of type\n  'Fixtures[] | (() => Fixture[])'.</p>\n</blockquote>\n\n<p>My type definitions and use in a react component are below.</p>\n\n<pre><code>type Team = {\n    name: 'Liverpool' | 'Man Utd';\n};\n\ntype Fixtures = {\n    teams: {\n        home: {\n            name: Team;\n        },\n        away: {\n            name: Team;\n        },\n        winner: Team;\n    };\n};\n\nconst initialFixtures = [\n    {\n        teams: {\n            home: {\n                name: 'Liverpool',\n            },\n            away: {\n                name: 'Man Utd',\n            },\n        },\n        winner: 'Liverpool',\n    },\n];\n</code></pre>\n\n<p>I am then using this in my React component like below but</p>\n\n<pre><code>// Error is in `initial fixtures`\nconst [fixtures, updateFixtures] = useState&lt;Fixtures[]&gt;(initialFixtures);\n</code></pre>\n\n<p>Can anyone see what I am doing wrong? I can't see where it is inferring it to be a string when I have said it is a <code>Team</code>.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "jasmine", "karma-jasmine"], "comments": [{"owner": {"reputation": 4779, "user_id": 8105437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CURix.jpg?s=128&g=1", "display_name": "dmcgrandle", "link": "https://stackoverflow.com/users/8105437/dmcgrandle"}, "edited": false, "score": 0, "creation_date": 1548280743, "post_id": 54325798, "comment_id": 95489923, "body": "There is WAY too much code there to wade through.  Please edit the question to illustrate the specific problem you&#39;re having in a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>. For more information, please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and take the <a href=\"https://stackoverflow.com/tour\">tour</a>."}], "owner": {"reputation": 31, "user_id": 8143743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1451e1e72d6d3033ce623b2afb710985?s=128&d=identicon&r=PG&f=1", "display_name": "Nilesh Gupta", "link": "https://stackoverflow.com/users/8143743/nilesh-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1548326985, "creation_date": 1548241549, "last_edit_date": 1548326985, "question_id": 54325798, "link": "https://stackoverflow.com/questions/54325798/http-failure-response-for-unknown-url-0-unknown-error-on-running-jasmine-unit", "title": "Http failure response for (unknown url): 0 Unknown Error on running jasmine unit test without backend", "body": "<p><a href=\"https://i.stack.imgur.com/jtKRa.png\" rel=\"nofollow noreferrer\">Http Failure response error is coming when I run test cases without the web api. When the web api is running, the tests are running fine</a></p>\n\n<p>The following is my code snippet:</p>\n\n<pre><code>beforeEach(async(() =&gt; {\n    TestBed.configureTestingModule({\n        declarations: [PlanDirectiveReadOnlyComponent, TitleCasePipe, PlanDirectivePhaseComponent, StructureComponent,\n            EditPhaseComponent, TotalPhaseComponent,\n            GoalIntellisenseComponent],\n        imports: [HttpClientModule, FormsModule, ReactiveFormsModule, DialogModule, TableModule, RouterTestingModule],\n        providers: [PlanOrderService, {\n            provide: ActivatedRoute,\n            useValue: {\n                params: Observable.of({ orderId: 'Order_2' })\n            }\n        }, AppService, PlanDirectiveTemplateDetailsService,\n            ConfirmationService\n        ]\n    })\n        .compileComponents();\n}));\n\nbeforeEach(() =&gt; {\n    fixture = TestBed.createComponent(PlanDirectiveReadOnlyComponent);\n    planDirectiveTemplateDetails = TestBed.get(PlanDirectiveTemplateDetailsService);\n    appService = TestBed.get(AppService);\n    component = fixture.componentInstance;\n    originalTimeout = jasmine.DEFAULT_TIMEOUT_INTERVAL;\n    jasmine.DEFAULT_TIMEOUT_INTERVAL = 100000;\n});\n\nafterEach(function () {\n    jasmine.DEFAULT_TIMEOUT_INTERVAL = originalTimeout;\n});\n\nit('should create', () =&gt; {\n    spyOn(component, 'getPatient').and.returnValue(true);\n    expect(component).toBeTruthy();\n});\n\nit('should fetch patient details using order id', async(() =&gt; {\n    planDirectiveTemplateDetails = TestBed.get(PlanDirectiveTemplateDetailsService);\n\n    const patient = {\n        ID: 'pat_1', AnonymizedID: 'abnhuio rtret', Name: 'ABENE SENATOR SNOW'\n    };\n\n    spyOn(planDirectiveTemplateDetails, 'getPatientByOrderId').and.callFake(() =&gt; {\n        return Observable.of&lt;Patient&gt;(patient);\n    });\n    component.getPatient();\n\n    fixture.whenStable().then(() =&gt; {\n        expect(component.appService.objPlanDirectiveDetails.isBackButtonPressed).toBeFalsy();\n        expect(component.patientLastNameCharacter).toEqual('A');\n        expect(component.patientFirstNameCharacter).toEqual('S');\n    });\n}));\n\nit('should extract data from url', async(() =&gt; {\n    spyOn(planDirectiveTemplateDetails, 'getStructureSetIdByorderId').and.returnValue(Observable.of('CT_1'));\n    component.routeParameters();\n\n    fixture.whenStable().then(() =&gt; {\n        expect(component.orderId).toBe('Order_2');\n        expect(component.structuresetId).toBe('CT_1');\n    });\n}));\n\nit('should fetch treatment instruction data from DB', async(() =&gt; {\n\n    treatmentInst = `{\"Identifier\":\"6a10990d-6696-480d-b9f2-3024add297c1\",\"DisplayName\":\"Test Template\",\n    \"AnatomicalRegion\":\"Pelvis\",\"AnatomicalSite\":\"Prostate\",\"OARs\":{\"Structure\":[{\"Id\":\"OAR1\",\"Code\":\"15900\",\"Schema\":\"FMA\",\n    \"SchemaVersion\":\"3.2\",\"Meaning\":\"Controlateral Breast\",\"Color\":null,\"Name\":\"Controlateral Breast\"},{\"Id\":\"OAR2\",\"Code\":\"14544\",\n    \"Schema\":\"FMA\",\"SchemaVersion\":\"3.2\",\"Meaning\":\"Ipsilateral lung\",\"Color\":null,\"Name\":\"Ipsilateral lung\"},\n    {\"Id\":\"OAR3\",\"Code\":\"14544\",\"Schema\":\"FMA\",\"SchemaVersion\":\"3.2\",\"Meaning\":\"Controlateral lung\",\"Color\":null,\n    \"Name\":\"Controlateral lung\"},{\"Id\":\"OAR4\",\"Code\":\"14544\",\"Schema\":\"FMA\",\"SchemaVersion\":\"3.2\",\"Meaning\":\"Heart\",\"Color\":null,\n    \"Name\":\"Heart\"}]},\"Targets\":{\"Structure\":[{\"Id\":\"Target1\",\"Code\":\"PTV\",\"Schema\":\"99VMS_STRUCTCODE\",\"SchemaVersion\":\"1\",\n    \"Meaning\":\"Planning Target Volume\",\"Color\":null,\"Name\":\"PTV High\"},{\"Id\":\"Target2\",\"Code\":\"CTV\",\"Schema\":\"99VMS_STRUCTCODE\",\n    \"SchemaVersion\":\"1\",\"Meaning\":\"Clinical Target Volume\",\"Color\":null,\"Name\":\"CTV Low\"}]},\"OARObjectives\":{\n        \"Objective\":[{\"StructureId\":\"OAR1\",\"Phase\":\"1\",\"ClinicalGoal\":{\"DVHObjective\":\"Max[Gy]\",\"Evaluator\":\"&lt;=2\"},\n        \"AcceptableVariation\":{\"DVHObjective\":\"Max[Gy]\",\"Evaluator\":\"&lt;=4\"},\"Priority\":\"1\"},{\"StructureId\":\"OAR1\",\"Phase\":\"2\",\n        \"ClinicalGoal\":{\"DVHObjective\":\"D5%[Gy]\",\"Evaluator\":\"&lt;=1.44\"},\"AcceptableVariation\":{\"DVHObjective\":\"D5%[Gy]\",\n        \"Evaluator\":\"&lt;=1.42\"},\"Priority\":\"2\"},{\"StructureId\":\"OAR2\",\"Phase\":\"1\",\"ClinicalGoal\":{\"DVHObjective\":\"V16cc[%]\",\n        \"Evaluator\":\"&lt;=15\"},\"AcceptableVariation\":{\"DVHObjective\":\"V16cc[%]\",\"Evaluator\":\"&lt;=11\"},\"Priority\":\"3\"},\n        {\"StructureId\":\"OAR2\",\"Phase\":\"2\",\"ClinicalGoal\":{\"DVHObjective\":\"V16cc[%]\",\"Evaluator\":\"&lt;=15\"},\"AcceptableVariation\":\n        {\"DVHObjective\":\"V16cc[%]\",\"Evaluator\":\"&lt;=11\"},\"Priority\":\"3\"},{\"StructureId\":\"OAR3\",\"Phase\":\"2\",\"ClinicalGoal\":\n        {\"DVHObjective\":\"Max[cc]\",\"Evaluator\":\"&lt;=2\"},\"AcceptableVariation\":{\"DVHObjective\":\"Max[cc]\",\"Evaluator\":\"&lt;=5\"},\n        \"Priority\":\"4\"},{\"StructureId\":\"OAR4\",\"Phase\":\"2\",\"ClinicalGoal\":{\"DVHObjective\":\"Mean[%]\",\"Evaluator\":\"&lt;=2\"},\n        \"AcceptableVariation\":{\"DVHObjective\":\"Mean[%]\",\"Evaluator\":\"&lt;=3\"},\"Priority\":\"5\"}]},\"PrescribedSessions\":\n        {\"Session\":[{\"Id\":\"1\",\"ReferencedPhase\":\"1\",\"Imaging\":\"None\"},{\"Id\":\"2\",\"ReferencedPhase\":\"1\",\"Imaging\":\"None\"},\n        {\"Id\":\"3\",\"ReferencedPhase\":\"1\",\"Imaging\":\"None\"},{\"Id\":\"4\",\"ReferencedPhase\":\"1\",\"Imaging\":\"None\"},{\"Id\":\"5\",\n        \"ReferencedPhase\":\"1\",\"Imaging\":\"None\"},{\"Id\":\"6\",\"ReferencedPhase\":\"1\",\"Imaging\":\"None\"},{\"Id\":\"7\",\"ReferencedPhase\":\"1\",\n        \"Imaging\":\"None\"},{\"Id\":\"8\",\"ReferencedPhase\":\"1\",\"Imaging\":\"None\"},{\"Id\":\"9\",\"ReferencedPhase\":\"1\",\"Imaging\":\"None\"},\n        {\"Id\":\"10\",\"ReferencedPhase\":\"1\",\"Imaging\":\"None\"},{\"Id\":\"11\",\"ReferencedPhase\":\"1\",\"Imaging\":\"None\"},{\"Id\":\"12\",\n        \"ReferencedPhase\":\"1\",\"Imaging\":\"None\"},{\"Id\":\"13\",\"ReferencedPhase\":\"1\",\"Imaging\":\"None\"},{\"Id\":\"14\",\"ReferencedPhase\":\"1\",\n        \"Imaging\":\"None\"},{\"Id\":\"15\",\"ReferencedPhase\":\"1\",\"Imaging\":\"None\"},{\"Id\":\"16\",\"ReferencedPhase\":\"2\",\"Imaging\":\"None\"},\n        {\"Id\":\"17\",\"ReferencedPhase\":\"2\",\"Imaging\":\"None\"},{\"Id\":\"18\",\"ReferencedPhase\":\"2\",\"Imaging\":\"None\"},{\"Id\":\"19\",\n        \"ReferencedPhase\":\"2\",\"Imaging\":\"None\"},{\"Id\":\"20\",\"ReferencedPhase\":\"2\",\"Imaging\":\"None\"}]},\"Phases\":{\"Phase\":[{\"Id\":\"1\",\n        \"PrescriptionTargets\":{\"PrescriptionTarget\":[{\"StructureId\":\"Target1\",\"FractionDoseGy\":\"4\",\"FractionCount\":15,\n        \"TotalDose\":60.0,\"Objectives\":{\"Objective\":[{\"StructureId\":null,\"Phase\":null,\"ClinicalGoal\":{\"DVHObjective\":\"D5%[Gy]\",\n        \"Evaluator\":\"&lt;=52\"},\"AcceptableVariation\":{\"DVHObjective\":\"D5%[Gy]\",\"Evaluator\":\"&lt;=53\"},\"Priority\":\"1\"},{\"StructureId\":null,\n        \"Phase\":null,\"ClinicalGoal\":{\"DVHObjective\":\"Max[%]\",\"Evaluator\":\"&lt;=105\"},\"AcceptableVariation\":{\"DVHObjective\":\"Max[%]\",\n        \"Evaluator\":\"&lt;=115\"},\"Priority\":\"2\"}]}},{\"StructureId\":\"Target2\",\"FractionDoseGy\":\"2\",\"FractionCount\":15,\"TotalDose\":30.0,\n        \"Objectives\":{\"Objective\":[{\"StructureId\":null,\"Phase\":null,\"ClinicalGoal\":{\"DVHObjective\":\"V43%[cc]\",\"Evaluator\":\"&lt;=50\"},\n        \"AcceptableVariation\":{\"DVHObjective\":\"V43%[cc]\",\"Evaluator\":\"&lt;=45\"},\"Priority\":\"1\"},{\"StructureId\":null,\"Phase\":null,\n        \"ClinicalGoal\":{\"DVHObjective\":\"Mean[cc]\",\"Evaluator\":\"&lt;=7\"},\"AcceptableVariation\":{\"DVHObjective\":\"Mean[cc]\",\"Evaluator\":\n        \"&lt;=10\"},\"Priority\":\"2\"}]}}]}},{\"Id\":\"2\",\"PrescriptionTargets\":{\"PrescriptionTarget\":[{\"StructureId\":\"Target1\",\n        \"FractionDoseGy\":\"8\",\"FractionCount\":5,\"TotalDose\":40.0,\"Objectives\":{\"Objective\":[{\"StructureId\":null,\"Phase\":null,\n        \"ClinicalGoal\":{\"DVHObjective\":\"D3cc[Gy]\",\"Evaluator\":\"&lt;=54\"},\"AcceptableVariation\":{\"DVHObjective\":\"D3cc[Gy]\",\"Evaluator\":\n        \"&lt;=52\"},\"Priority\":\"1\"},{\"StructureId\":null,\"Phase\":null,\"ClinicalGoal\":{\"DVHObjective\":\"Mean[Gy]\",\"Evaluator\":\"&lt;=19\"},\n        \"AcceptableVariation\":{\"DVHObjective\":\"Mean[Gy]\",\"Evaluator\":\"&lt;=10\"},\"Priority\":\"2\"}]}},{\"StructureId\":\"Target2\",\n        \"FractionDoseGy\":\"4\",\"FractionCount\":5,\"TotalDose\":20.0,\"Objectives\":{\"Objective\":[{\"StructureId\":null,\"Phase\":null,\n        \"ClinicalGoal\":{\"DVHObjective\":\"V43Gy[cc]\",\"Evaluator\":\"&lt;=50\"},\"AcceptableVariation\":{\"DVHObjective\":\"V43Gy[cc]\",\n        \"Evaluator\":\"&lt;=52\"},\"Priority\":\"1\"},{\"StructureId\":null,\"Phase\":null,\"ClinicalGoal\":{\"DVHObjective\":\"V48Gy[%]\",\"Evaluator\":\n        \"&lt;=30\"},\"AcceptableVariation\":{\"DVHObjective\":\"V48Gy[%]\",\"Evaluator\":\"&lt;=28\"},\"Priority\":\"2\"}]}}]}}]},\"Notes\":{\"Note\":\n        [{\"TimeStamp\":\"30 Jul 2018, 1:31 PM\",\"UpdatedBy\":\"RO\",\"Comment\":\"Comment Added by Remote Oncologist\"},{\"TimeStamp\":\n        \"30 Jul 2018, 1:31 PM\",\"UpdatedBy\":\"RO\",\"Comment\":\"Comment Added by Remote Oncologist\"}]}}`;\n\n    spyOn(planDirectiveTemplateDetails, 'getTemplateByTemplateId').and.returnValue(Observable.of(treatmentInst));\n    spyOn(component, 'updateTemplateInUI').and.returnValue(true);\n    spyOn(appService, 'changeTreatment').and.returnValue(true);\n\n    component.getTemplate();\n\n    fixture.whenStable().then(() =&gt; {\n        expect(component.TemplateSiteName.siteName).toBe('Prostate');\n        expect(component.TemplateSiteName.templateName).toBe('Test Template');\n        expect(appService.changeTreatment).toHaveBeenCalled();\n    });\n}));\n\nit('should update treatment instruction data in UI', async(() =&gt; {\n\n    treatmentInst = {\n        Identifier: '6a10990d-6696-480d-b9f2-3024add297c1', DisplayName: 'Test Template', AnatomicalRegion: 'Pelvis',\n        AnatomicalSite: 'Prostate', OARs: {\n            Structure: [{\n                Id: 'OAR1', Code: 15900, Schema: 'FMA', SchemaVersion: 3.2,\n                Meaning: 'Controlateral Breast', Color: null, Name: 'Controlateral Breast'\n            }, {\n                Id: 'OAR2', Code: 14544, Schema: 'FMA',\n                SchemaVersion: 3.2, Meaning: 'Ipsilateral lung', Color: null, Name: 'Ipsilateral lung'\n            }, {\n                Id: 'OAR3', Code: 14544, Schema: 'FMA',\n                SchemaVersion: 3.2, Meaning: 'Controlateral lung', Color: null, Name: 'Controlateral lung'\n            }, {\n                Id: 'OAR4', Code: 14544, Schema: 'FMA',\n                SchemaVersion: 3.2, Meaning: 'Heart', Color: null, Name: 'Heart'\n            }]\n        }, Targets: {\n            Structure: [{\n                Id: 'Target1', Code: 'PTV',\n                Schema: '99VMS_STRUCTCODE', SchemaVersion: 1, Meaning: 'Planning Target Volume', Color: null, Name: 'PTV High'\n            },\n            {\n                Id: 'Target2', Code: 'CTV', Schema: '99VMS_STRUCTCODE', SchemaVersion: 1, Meaning: 'Clinical Target Volume',\n                Color: null, Name: 'CTV Low'\n            }]\n        },\n        OARObjectives: {\n            Objective: [{\n                StructureId: 'OAR1', Phase: 1, ClinicalGoal: { DVHObjective: 'Max[Gy]', Evaluator: '&lt;=2' },\n                AcceptableVariation: { DVHObjective: 'Max[Gy]', Evaluator: '&lt;=4' }, Priority: 1\n            }, {\n                StructureId: 'OAR1', Phase: 2,\n                ClinicalGoal: { DVHObjective: 'D5%[Gy]', Evaluator: '&lt;=1.44' },\n                AcceptableVariation: { DVHObjective: 'D5%[Gy]', Evaluator: '&lt;=1.42' }, Priority: 2\n            }, {\n                StructureId: 'OAR2', Phase: 1, ClinicalGoal: { DVHObjective: 'V16cc[%]', Evaluator: '&lt;=15' },\n                AcceptableVariation: { DVHObjective: 'V16cc[%]', Evaluator: '&lt;=11' }, Priority: 3\n            }, {\n                StructureId: 'OAR2', Phase: 2,\n                ClinicalGoal: { DVHObjective: 'V16cc[%]', Evaluator: '&lt;=15' },\n                AcceptableVariation: { DVHObjective: 'V16cc[%]', Evaluator: '&lt;=11' }, Priority: 3\n            },\n            {\n                StructureId: 'OAR3', Phase: 2, ClinicalGoal: { DVHObjective: 'Max[cc]', Evaluator: '&lt;=2' }, AcceptableVariation: {\n                    DVHObjective: 'Max[cc]', Evaluator: '&lt;=5'\n                }, Priority: 4\n            }, {\n                StructureId: 'OAR4', Phase: 2, ClinicalGoal: { DVHObjective: 'Mean[%]', Evaluator: '&lt;=2' },\n                AcceptableVariation: { DVHObjective: 'Mean[%]', Evaluator: '&lt;=3' }, Priority: 5\n            }]\n        }, PrescribedSessions: {\n            Session: [{\n                Id: 1, ReferencedPhase: 1, Imaging: 'None'\n            }, { Id: 2, ReferencedPhase: 1, Imaging: 'None' }, { Id: 3, ReferencedPhase: 1, Imaging: 'None' }, {\n                Id: 4, ReferencedPhase: 1, Imaging: 'None'\n            }, { Id: 5, ReferencedPhase: 1, Imaging: 'None' }, { Id: 6, ReferencedPhase: 1, Imaging: 'None' }, {\n                Id: 7, ReferencedPhase: 1, Imaging: 'None'\n            }, { Id: 8, ReferencedPhase: 1, Imaging: 'None' }, { Id: 9, ReferencedPhase: 1, Imaging: 'None' },\n            { Id: 10, ReferencedPhase: 1, Imaging: 'None' }, { Id: 11, ReferencedPhase: 1, Imaging: 'None' }, {\n                Id: 12, ReferencedPhase: 1, Imaging: 'None'\n            }, { Id: 13, ReferencedPhase: 1, Imaging: 'None' }, { Id: 14, ReferencedPhase: 1, Imaging: 'None' },\n            { Id: 15, ReferencedPhase: 1, Imaging: 'None' }, { Id: 16, ReferencedPhase: 2, Imaging: 'None' },\n            { Id: 17, ReferencedPhase: 2, Imaging: 'None' }, { Id: 18, ReferencedPhase: 2, Imaging: 'None' },\n            { Id: 19, ReferencedPhase: 2, Imaging: 'None' }, { Id: 20, ReferencedPhase: 2, Imaging: 'None' }]\n        }, Phases: {\n            Phase: [{\n                Id: 1, PrescriptionTargets: {\n                    PrescriptionTarget: [{\n                        StructureId: 'Target1', FractionDoseGy: 4,\n                        FractionCount: 15, TotalDose: 60, Objectives: {\n                            Objective: [{\n                                StructureId: null, Phase: null, ClinicalGoal: {\n                                    DVHObjective: 'D5%[Gy]', Evaluator: '&lt;=52'\n                                }, AcceptableVariation: { DVHObjective: 'D5%[Gy]', Evaluator: '&lt;=53' }, Priority: 1\n                            },\n                            {\n                                StructureId: null, Phase: null, ClinicalGoal: { DVHObjective: 'Max[%]', Evaluator: '&lt;=105' },\n                                AcceptableVariation: { DVHObjective: 'Max[%]', Evaluator: '&lt;=115' }, Priority: 2\n                            }]\n                        }\n                    }, {\n                        StructureId: 'Target2', FractionDoseGy: 2,\n                        FractionCount: 15, TotalDose: 30, Objectives: {\n                            Objective: [{\n                                StructureId: null, Phase: null, ClinicalGoal:\n                                    { DVHObjective: 'V43%[cc]', Evaluator: '&lt;=50' },\n                                AcceptableVariation: { DVHObjective: 'V43%[cc]', Evaluator: '&lt;=45' }, Priority: 1\n                            }, {\n                                StructureId: null, Phase: null, ClinicalGoal: { DVHObjective: 'Mean[cc]', Evaluator: '&lt;=7' },\n                                AcceptableVariation: { DVHObjective: 'Mean[cc]', Evaluator: '&lt;=10' }, Priority: 2\n                            }]\n                        }\n                    }]\n                }\n            },\n            {\n                Id: 2, PrescriptionTargets: {\n                    PrescriptionTarget: [{\n                        StructureId: 'Target1', FractionDoseGy: 8, FractionCount: 5,\n                        TotalDose: 40, Objectives: {\n                            Objective: [{\n                                StructureId: null, Phase: null, ClinicalGoal: {\n                                    DVHObjective: 'D3cc[Gy]', Evaluator: '&lt;=54'\n                                }, AcceptableVariation: { DVHObjective: 'D3cc[Gy]', Evaluator: '&lt;=52' }, Priority: 1\n                            },\n                            {\n                                StructureId: null, Phase: null, ClinicalGoal: { DVHObjective: 'Mean[Gy]', Evaluator: '&lt;=19' },\n                                AcceptableVariation: { DVHObjective: 'Mean[Gy]', Evaluator: '&lt;=10' }, Priority: 2\n                            }]\n                        }\n                    }, {\n                        StructureId: 'Target2', FractionDoseGy: 4,\n                        FractionCount: 5, TotalDose: 20, Objectives: {\n                            Objective: [{\n                                StructureId: null, Phase: null, ClinicalGoal:\n                                    { DVHObjective: 'V43Gy[cc]', Evaluator: '&lt;=50' }, AcceptableVariation: {\n                                        DVHObjective: 'V43Gy[cc]', Evaluator: '&lt;=52'\n                                    }, Priority: 1\n                            }, {\n                                StructureId: null, Phase: null, ClinicalGoal: {\n                                    DVHObjective: 'V48Gy[%]', Evaluator: '&lt;=30'\n                                }, AcceptableVariation: { DVHObjective: 'V48Gy[%]', Evaluator: '&lt;=28' }, Priority: 2\n                            }]\n                        }\n                    }]\n                }\n            }]\n        },\n        Notes: {\n            Note: [{ TimeStamp: '30 Jul 2018, 1:31 PM', UpdatedBy: 'RO', Comment: 'Comment Added by Remote Oncologist' },\n            { TimeStamp: '30 Jul 2018, 1:31 PM', UpdatedBy: 'RO', Comment: 'Comment Added by Remote Oncologist' }]\n        }\n    };\n    appService.treatmentInstruction.next(treatmentInst);\n    // spyOnProperty(appService.treatmentInstruction, 'next').and.returnValue(treatmentInst);\n\n    component.updateTemplateInUI();\n\n    fixture.whenStable().then(() =&gt; {\n        expect(component.structuresInfo.length).toBe(2);\n        expect(component.oarStructureLength).toBe(4);\n        expect(component.notesArray.length).toBe(2);\n    });\n}));\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1055, "user_id": 3339907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14af5df4255627360a8466a236448eae?s=128&d=identicon&r=PG&f=1", "display_name": "shhdharmen", "link": "https://stackoverflow.com/users/3339907/shhdharmen"}, "edited": false, "score": 0, "creation_date": 1548241542, "post_id": 54325606, "comment_id": 95469981, "body": "Can you try by adding <code>*ngIf=&quot;vidUrl&quot;</code> in <code>iframe</code> tag?"}], "answers": [{"comments": [{"owner": {"reputation": 1055, "user_id": 3339907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14af5df4255627360a8466a236448eae?s=128&d=identicon&r=PG&f=1", "display_name": "shhdharmen", "link": "https://stackoverflow.com/users/3339907/shhdharmen"}, "reply_to_user": {"reputation": 4901, "user_id": 1520700, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4WHtz.jpg?s=128&g=1", "display_name": "Web Develop Wolf", "link": "https://stackoverflow.com/users/1520700/web-develop-wolf"}, "edited": false, "score": 0, "creation_date": 1548242128, "post_id": 54325900, "comment_id": 95470331, "body": "@WebDevelopWolf I added the same thing before this answer in question&#39;s comment. Anyways, glad that you found your solution and my understandings were correct, too."}], "tags": [], "owner": {"reputation": 2689, "user_id": 5291422, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6400f57d878c349cc716b3d37135233d?s=128&d=identicon&r=PG&f=1", "display_name": "B&#252;nyamin Sar\u0131g&#252;l", "link": "https://stackoverflow.com/users/5291422/b%c3%bcnyamin-sar%c4%b1g%c3%bcl"}, "is_accepted": true, "score": 2, "last_activity_date": 1548241800, "creation_date": 1548241800, "answer_id": 54325900, "question_id": 54325606, "link": "https://stackoverflow.com/questions/54325606/angular-error-cannot-match-any-routes-url-segment-null/54325900#54325900", "title": "Angular Error: Cannot match any routes. URL Segment: &#39;null&#39;", "body": "<p>I guess that if you don't use question mark, it's stuck at</p>\n\n<pre><code>&lt;p&gt;{{session.SessionDescription}} {{session?.SessionGains}}&lt;/p&gt;\n</code></pre>\n\n<p>Because the session is not defined at beginning, and it doesn't proceed to the <code>iframe</code>. When you got the session, it refresh the component and <code>iframe</code> gets a real resource url.</p>\n\n<p>However, when you use question mark, it doesn't get error at this line:</p>\n\n<pre><code>&lt;p&gt;{{session?.SessionDescription}} {{session?.SessionGains}}&lt;/p&gt;\n</code></pre>\n\n<p>And it loads the <code>iframe</code> with <code>undefined</code> url since it is not defined yet (since you didn't get response from API yet). Then, somehow it fails to detect change and refresh <code>iframe</code>.</p>\n\n<p>If my guess is correct, you may overcome this issue as:</p>\n\n<pre><code>&lt;nav class=\"pure-drawer\" data-position=\"left\"&gt;\n    &lt;h1&gt;What is 3D Printing?&lt;/h1&gt;\n    &lt;p&gt;{{session?.SessionDescription}} {{session?.SessionGains}}&lt;/p&gt;\n&lt;/nav&gt;   \n\n&lt;div class=\"pure-pusher-container\"&gt;\n    &lt;div class=\"pure-pusher\" *ngIf=\"vidUrl\"&gt; &lt;!-- NGIF here or in iframe --&gt;\n        &lt;!-- Copy &amp; Pasted from YouTube --&gt;\n        &lt;iframe width=\"560\" height=\"349\" [src]=\"vidUrl\" frameborder=\"0\" allowfullscreen&gt;&lt;/iframe&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Please let me know if that works to update my answer. Good luck!</p>\n"}], "owner": {"reputation": 4901, "user_id": 1520700, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4WHtz.jpg?s=128&g=1", "display_name": "Web Develop Wolf", "link": "https://stackoverflow.com/users/1520700/web-develop-wolf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 801, "favorite_count": 0, "accepted_answer_id": 54325900, "answer_count": 1, "score": 1, "last_activity_date": 1548241800, "creation_date": 1548240903, "question_id": 54325606, "link": "https://stackoverflow.com/questions/54325606/angular-error-cannot-match-any-routes-url-segment-null", "title": "Angular Error: Cannot match any routes. URL Segment: &#39;null&#39;", "body": "<p>I've created a basic Angular page that takes an ID (a guid) from the URL and uses the ID to feed into an API call. I've done similar pages in the past that have worked with no issue. But for some reason this one doesn't seem to want to play ball when it comes to the You Tube video.</p>\n\n<p>When I output the You Tube URL to the console it's displayed with no issue, however when I sanitise it and post the URL to the src property of the iframe embed it does not display. However (and this is where it gets weird) if I change the description from the API from <code>{{session?.SessionDescription}}</code> to <code>{{session.SessionDescription}}</code>, the video is displayed.</p>\n\n<p>The description text loads no matter which of those I use. But if I don't include the question mark I get a console error that the description can't be loaded even though it's on the screen.</p>\n\n<p>I just want both to load with no console errors if possible.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;nav class=\"pure-drawer\" data-position=\"left\"&gt;\n    &lt;h1&gt;What is 3D Printing?&lt;/h1&gt;\n    &lt;p&gt;{{session?.SessionDescription}} {{session?.SessionGains}}&lt;/p&gt;\n&lt;/nav&gt;   \n\n&lt;div class=\"pure-pusher-container\"&gt;\n    &lt;div class=\"pure-pusher\"&gt;\n        &lt;!-- Copy &amp; Pasted from YouTube --&gt;\n        &lt;iframe width=\"560\" height=\"349\" [src]=\"vidUrl\" frameborder=\"0\" allowfullscreen&gt;&lt;/iframe&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Typescript:</p>\n\n<pre><code>getCurrentSession(){\n    this.sub = this.route.params.subscribe(params =&gt; {\n      this.id = params['id']; \n      this._wmapi\n      .getService(\"Session/\" + this.id)\n      .then((result) =&gt; {\n        this.session = result;\n        this.vidUrl = this.sanitizer.bypassSecurityTrustResourceUrl(result.SessionVideo);\n        this.getSessionResources(this.id);\n      })\n      .catch(error =&gt; console.log(error));\n    });\n  }\n</code></pre>\n"}, {"tags": ["typescript", "vue.js", "vue-component", "vue-reactivity"], "answers": [{"comments": [{"owner": {"reputation": 1968, "user_id": 1035024, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/JiO6m.jpg?s=128&g=1", "display_name": "vZ10", "link": "https://stackoverflow.com/users/1035024/vz10"}, "edited": false, "score": 0, "creation_date": 1548242380, "post_id": 54325995, "comment_id": 95470462, "body": "I don\u2019t know maybe there are some problems with the awesome fonts magic. Because if i just print out these classes they are updated but not in the html output."}], "tags": [], "owner": {"reputation": 650, "user_id": 7726024, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/1601068643255262/picture?type=large", "display_name": "Karolis Stak\u0117nas", "link": "https://stackoverflow.com/users/7726024/karolis-stak%c4%97nas"}, "is_accepted": false, "score": 1, "last_activity_date": 1548242143, "creation_date": 1548242143, "answer_id": 54325995, "question_id": 54325452, "link": "https://stackoverflow.com/questions/54325452/vue-component-doesnt-reactively-update/54325995#54325995", "title": "Vue component doesn&#39;t reactively update", "body": "<p>Strange, as parent to child props are reactive, so if data passed as prop changes, the prop inside child comp should update accordingly.</p>\n\n<p>Perhaps, try to use a computed property, like so</p>\n\n<pre><code>computed: {\n  iconClass () {\n    return this.StatusToClass[this.result]\n  }\n}\n</code></pre>\n\n<p>Other problem might be with the reactivity of data itself, perhaps You're updating it wrong so it's not reactive. You should check if You're receiving the correct updated prop via Vue DevTools.</p>\n"}], "owner": {"reputation": 1968, "user_id": 1035024, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/JiO6m.jpg?s=128&g=1", "display_name": "vZ10", "link": "https://stackoverflow.com/users/1035024/vz10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1548242143, "creation_date": 1548240373, "question_id": 54325452, "link": "https://stackoverflow.com/questions/54325452/vue-component-doesnt-reactively-update", "title": "Vue component doesn&#39;t reactively update", "body": "<p>I have such a simple component. And it renders fine at the first time, but when the <code>result</code> props changes nothing happens to it, all classes are still the same.</p>\n\n<pre><code>&lt;template&gt;\n    &lt;span class=\"icon\" &gt;\n        &lt;i :class=\"iconClass\"&gt;&lt;/i&gt;\n    &lt;/span&gt; \n&lt;/template&gt;\n\n&lt;script lang=\"ts\"&gt;\n    import { Component, Prop, Vue } from 'vue-property-decorator';\n\n    @Component\n    export default class Icon extends Vue {\n        @Prop() result!: string;\n\n        private StatusToClass: { [index: string] : string } = {\n            'success': \"has-text-success fas fa-check-circle\",\n            'warning': \"has-text-warning fas fa-square\",\n            'noData':  \"has-text-warning fas fa-square\",\n            'fail': \"has-text-danger fas fa-exclamation-triangle\",\n        }\n\n        get iconClass(){\n            return this.StatusToClass[this.result];\n        }\n    }\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "nativescript", "angular-forms", "nativescript-angular"], "comments": [{"owner": {"reputation": 3097, "user_id": 6523329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QxMLF.jpg?s=128&g=1", "display_name": "John Velasquez", "link": "https://stackoverflow.com/users/6523329/john-velasquez"}, "edited": false, "score": 0, "creation_date": 1548238715, "post_id": 54324786, "comment_id": 95468351, "body": "try to include <code>NativeScriptFormsModule</code> and <code>ReactiveFormsModule</code>"}, {"owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "reply_to_user": {"reputation": 3097, "user_id": 6523329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QxMLF.jpg?s=128&g=1", "display_name": "John Velasquez", "link": "https://stackoverflow.com/users/6523329/john-velasquez"}, "edited": false, "score": 0, "creation_date": 1548238802, "post_id": 54324786, "comment_id": 95468399, "body": "@JohnVelasquez Ofc.. Didn&#39;t try both of them at once for some reason. If you post it as an answer I&#39;ll accept."}], "answers": [{"tags": [], "owner": {"reputation": 3097, "user_id": 6523329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QxMLF.jpg?s=128&g=1", "display_name": "John Velasquez", "link": "https://stackoverflow.com/users/6523329/john-velasquez"}, "is_accepted": true, "score": 3, "last_activity_date": 1548238925, "creation_date": 1548238925, "answer_id": 54324988, "question_id": 54324786, "link": "https://stackoverflow.com/questions/54324786/nativescript-valuechanges-never-emits-when-binding-formcontrol-on-a-textfield/54324988#54324988", "title": "NativeScript valueChanges never emits when binding formControl on a TextField", "body": "<p>include <code>NativeScriptFormsModule</code> and <code>ReactiveFormsModule</code>should be fine :)</p>\n"}], "owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 401, "favorite_count": 0, "accepted_answer_id": 54324988, "answer_count": 1, "score": 0, "last_activity_date": 1548238925, "creation_date": 1548238295, "last_edit_date": 1548238662, "question_id": 54324786, "link": "https://stackoverflow.com/questions/54324786/nativescript-valuechanges-never-emits-when-binding-formcontrol-on-a-textfield", "title": "NativeScript valueChanges never emits when binding formControl on a TextField", "body": "<p>I have a <code>TextField</code> and I'm trying to use a <code>formControl</code> binding on it like this:</p>\n\n<pre><code>&lt;TextField class=\"input right\" [formControl]=\"query\"&gt;&lt;/TextField&gt;\n</code></pre>\n\n<p>So I can then listen for changes like this:</p>\n\n<pre><code>  public query = new FormControl('');\n\n  ...\n\n  this.querySubscription = this.query.valueChanges.subscribe((query) =&gt; {\n      console.log(query);\n      this.places.search(this.query.value)\n        .then((places) =&gt; {\n          this.searchResults = places;\n          console.log(this.searchResults);\n        }, (error =&gt; {\n          // TODO: Handle error\n          console.log(error);\n      }));\n    });\n</code></pre>\n\n<p>The module it resides in:</p>\n\n<pre><code>import { SharedModule } from '../../shared/shared.module';\nimport { MapRoutingModule } from './map-routing.module.tns';\nimport { NgModule, NO_ERRORS_SCHEMA } from '@angular/core';\nimport { MapComponent } from './map.component';\nimport { NativeScriptCommonModule } from 'nativescript-angular/common';\nimport { NativeScriptUISideDrawerModule } from 'nativescript-ui-sidedrawer/angular';\nimport { NativeScriptFormsModule } from 'nativescript-angular/forms';\n\n@NgModule({\n  imports: [\n    NativeScriptCommonModule,\n    // NativeScriptFormsModule,\n    MapRoutingModule,\n    NativeScriptUISideDrawerModule,\n    SharedModule\n  ],\n  declarations: [\n    MapComponent,\n  ],\n  schemas: [NO_ERRORS_SCHEMA]\n})\n\nexport class MapModule {}\n</code></pre>\n\n<p>The problem is that <code>valueChanges</code> never triggers.. then I thought \"oh I might be missing <code>NativeScriptFormsModule</code> so I tried adding that to <code>MapModule</code>'s <code>imports</code> but then I get an error instead saying <code>No provider for ngControl</code>, so I removed it again.</p>\n\n<p>What could I be doing wrong here?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 46, "user_id": 9163555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3QUK.jpg?s=128&g=1", "display_name": "Karina D.", "link": "https://stackoverflow.com/users/9163555/karina-d"}, "edited": false, "score": 0, "creation_date": 1548246282, "post_id": 54325516, "comment_id": 95472497, "body": "Hi and thanks for your answer!  It now returns an array of either &quot;0&quot; or the actual username, not the stake value associated with the username.  I&#39;ll update you if I make it work!"}, {"owner": {"reputation": 578, "user_id": 2929851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6020d29e8659289aa274aee4a9e2283a?s=128&d=identicon&r=PG&f=1", "display_name": "Danie A", "link": "https://stackoverflow.com/users/2929851/danie-a"}, "reply_to_user": {"reputation": 46, "user_id": 9163555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3QUK.jpg?s=128&g=1", "display_name": "Karina D.", "link": "https://stackoverflow.com/users/9163555/karina-d"}, "edited": false, "score": 0, "creation_date": 1548247076, "post_id": 54325516, "comment_id": 95472912, "body": "how about this?"}], "tags": [], "owner": {"reputation": 578, "user_id": 2929851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6020d29e8659289aa274aee4a9e2283a?s=128&d=identicon&r=PG&f=1", "display_name": "Danie A", "link": "https://stackoverflow.com/users/2929851/danie-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1548247419, "last_edit_date": 1548247419, "creation_date": 1548240585, "answer_id": 54325516, "question_id": 54324784, "link": "https://stackoverflow.com/questions/54324784/trying-to-use-map-in-typescript-with-a-get-or-default-statement/54325516#54325516", "title": "Trying to use map() in TypeScript with a get-or-default statement", "body": "<p>does this do what you want?</p>\n\n<pre><code>const allEntries = [{ user: \"foo\", stake: 500 }, { user: \"bar\", stake: 100 }];\nconst result = {\n  interestingUsers: [\"foo\"]\n};\n\nconst values = [];\n\nallEntries.forEach((entry, index) =&gt; {\n  const found = result.interestingUsers.find(el =&gt; entry.user === el);\n  values[index] = found ? entry.stake : 0;\n});\n\nconsole.log(values); // [ 'foo', 0 ]\n</code></pre>\n\n<hr>\n\n<p>Although I'm not sure how you intend to implement this, I think, however, it might be a better idea not to create a new array with only values, it'll be hard to keep track of which \"stake\" is of which \"user\".</p>\n\n<p>It might be better to do this:</p>\n\n<pre><code>const allEntries = [{ username: \"foo\", stake: 500 }, { username: \"bar\", stake: 100 }];\nconst result = { interestingUsers: [\"foo\"] };\n\nconst filteredUsers = allEntries.filter(entry =&gt; result.interestingUsers.includes(entry.username))\n\n\nconsole.log(filteredUsers); // [ { username: \"foo\", stake: 500 }, 0 ]\n</code></pre>\n\n<p>Please note that for <code>.includes</code> to work you might have to make sure that in your tsconfig.json you set <code>compilerOptions.target = 2016</code> to </p>\n"}], "owner": {"reputation": 46, "user_id": 9163555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3QUK.jpg?s=128&g=1", "display_name": "Karina D.", "link": "https://stackoverflow.com/users/9163555/karina-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1801, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548247419, "creation_date": 1548238286, "question_id": 54324784, "link": "https://stackoverflow.com/questions/54324784/trying-to-use-map-in-typescript-with-a-get-or-default-statement", "title": "Trying to use map() in TypeScript with a get-or-default statement", "body": "<p>Essentially, I want to use .map() on a dictionary to perform a statement on each element in a specific key. The statement itself is that I need to go username by username and check it in a different array and:\n- if the username exists there, to record a value contained in the array;\n- else, to record 0;</p>\n\n<p>Alright, first of all, thanks in advance for tour help!</p>\n\n<p>Second, you need to know my background is in data analysis, not programming and I normally use Python but for this, I'm working with the IT Team Lead and he insisted on TypeScript, so here we are.</p>\n\n<p>Essentially I have the following objects:\n1. Dictionary allEntries: {\n    valid: boolean;\n    user: string;\n2. Another dictionary, containing the array intUsernames: string[][] and the stakes: [] which we're looking to record, where applicable</p>\n\n<p>I need to iterate over allEntries, to check if each of the usernames in intUsernames is in there and if it is, to record its corresponding \"stakes\" value; else, to record 0.</p>\n\n<pre><code> let values = allEntries.map(element =&gt; intUsernames[element.user] || 0);\n</code></pre>\n\n<p>But then I realised this might not work, as I need to access my stakes value for each entry, so I tried:</p>\n\n<pre><code>  let values = [];\n  for (let entry of allEntries) {\n    if (entry.user !in result.interestingUsers) {\n      values.fill(\"0\")\n    }\n    else {\n      values.fill(result.interestingUsers.map(function (userEntry){ return [userEntry.stakes]}))\n  };\n</code></pre>\n\n<p>Expected an array[][] of values, either [0] or a natural number. However, with the first method, I get an array of only [0], whereas with the second, I get an empty array[].</p>\n"}, {"tags": ["angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1548238390, "post_id": 54324562, "comment_id": 95468140, "body": "Output the searched string from <code>app-search</code>, save it in <code>list-component</code> and do something like <code>*ngIf=&quot;contact.includes(searchQuery)&quot;</code> for each <code>mat-list-option</code>. Or  build a filter pipe for <code>*ngFor</code> like this: <a href=\"https://stackoverflow.com/questions/44769748/angular-4-pipe-filter\" title=\"angular 4 pipe filter\">stackoverflow.com/questions/44769748/angular-4-pipe-filter</a>"}], "answers": [{"tags": [], "owner": {"reputation": 547, "user_id": 9309209, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-iL4VfiBUa_Y/AAAAAAAAAAI/AAAAAAAAAXM/7soeNFXMvfg/photo.jpg?sz=128", "display_name": "Vishal Hasnani", "link": "https://stackoverflow.com/users/9309209/vishal-hasnani"}, "is_accepted": false, "score": 3, "last_activity_date": 1548238755, "creation_date": 1548238755, "answer_id": 54324933, "question_id": 54324562, "link": "https://stackoverflow.com/questions/54324562/search-filter-in-angular-6/54324933#54324933", "title": "Search filter in angular 6", "body": "<p>You can pass the List of contacts to Search Comonent\nFor that change in List.component.html</p>\n\n<pre><code>&lt;h4&gt;List&lt;/h4&gt;\n&lt;div class=\"main-div\"&gt;\n&lt;app-search [list]=\"contacts\" &gt;&lt;/app-search&gt;\n  &lt;div class=\"list\"&gt;\n    &lt;mat-selection-list  #contact&gt;\n        &lt;mat-list-option  *ngFor=\"let contact of contacts\"&gt;\n            &lt;a mat-list-item (click)=\"onSelect(contact)\"&gt;&lt;span&gt;{{ contact?.name }}&lt;/span&gt;&lt;/a&gt;\n        &lt;/mat-list-option&gt;\n      &lt;/mat-selection-list&gt;\n  &lt;/div&gt;\n&lt;/div&gt;  \n</code></pre>\n\n<p>Inside your search component\n- get value of input box\n- filter the list by that input value</p>\n\n<p>Search.component.html</p>\n\n<pre><code>&lt;mat-form-field floatLabel=never &gt;\n  &lt;input matInput class=\"searching-customer\" type=\"text\"  placeholder=\"Search\" (input)=\"search($event.target.value)\"  &gt;\n&lt;/mat-form-field&gt;\n</code></pre>\n\n<p>search.component.ts</p>\n\n<pre><code>import { Component, OnInit , Input} from '@angular/core';\nimport { IContact } from '../models';\n\n@Component({\n  selector: 'app-search',\n  templateUrl: './search.component.html',\n  styleUrls: ['./search.component.css']\n})\nexport class SearchComponent implements OnInit {\n\n@Input()\npublic list:  IContact[] ;\nsearchedList : any;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  // This function will be called on every key press for input text box\n  search(value)\n  {\n    this.searchedList = this.list.filter(\n      (val)=&gt; val['name'].includes(value))\n    //Searched Data\n    console.log(this.searchedList)\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7761, "user_id": 8192719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0PuVB.jpg?s=128&g=1", "display_name": "Bunyamin Coskuner", "link": "https://stackoverflow.com/users/8192719/bunyamin-coskuner"}, "is_accepted": true, "score": 16, "last_activity_date": 1603867784, "last_edit_date": 1603867784, "creation_date": 1548238905, "answer_id": 54324975, "question_id": 54324562, "link": "https://stackoverflow.com/questions/54324562/search-filter-in-angular-6/54324975#54324975", "title": "Search filter in angular 6", "body": "<p>You can create a pipe for this.</p>\n<p>Here is a <a href=\"https://stackblitz.com/edit/angular-movie-read-load-json-sample-eg-vmaagz?file=src/app/list/list.component.ts\" rel=\"nofollow noreferrer\">working solution</a></p>\n<p>I created a pipe and called it <code>ListFilterPipe</code></p>\n<pre><code>@Pipe({\n  name: 'listFilter'\n})\nexport class ListFilterPipe implements PipeTransform {\n\n  transform(list: any[], filterText: string): any {\n    return list ? list.filter(item =&gt; item.name.search(new RegExp(filterText, 'i')) &gt; -1) : [];\n  }\n\n}\n</code></pre>\n<p>And simply use it within <code>*ngFor</code> as follows</p>\n<pre><code>&lt;h4&gt;List&lt;/h4&gt;\n&lt;div class=&quot;main-div&quot;&gt;\n&lt;app-search [(searchModel)]=&quot;searchModel&quot;&gt;&lt;/app-search&gt;\n  &lt;div class=&quot;list&quot;&gt;\n    &lt;mat-selection-list  #contact&gt;\n      &lt;mat-list-option  *ngFor=&quot;let contact of contacts | listFilter: searchModel&quot;&gt;\n        &lt;a mat-list-item (click)=&quot;onSelect(contact)&quot;&gt;&lt;span&gt;{{ contact?.name }}&lt;/span&gt;&lt;/a&gt;\n      &lt;/mat-list-option&gt;\n    &lt;/mat-selection-list&gt;\n  &lt;/div&gt;\n</code></pre>\n  \n<p>Also, added and input and output to <code>search.component</code> so that we can update our searchModel</p>\n<p><code>search.component.ts</code></p>\n<pre><code>@Component({\n  selector: 'app-search',\n  templateUrl: './search.component.html',\n  styleUrls: ['./search.component.css']\n})\nexport class SearchComponent implements OnInit {\n\n  @Input() searchModel;\n\n  @Output() searchModelChange: EventEmitter&lt;any&gt; = new EventEmitter();\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  updateSearchModel(value) {\n    this.searchModel = value;\n    this.searchModelChange.emit(this.searchModel);\n  }\n\n}\n</code></pre>\n<p><code>search.component.html</code></p>\n<pre><code>&lt;mat-form-field floatLabel=&quot;never&quot;&gt;\n  &lt;input matInput class=&quot;searching-customer&quot; type=&quot;text&quot;  placeholder=&quot;Search&quot; \n         [ngModel]=&quot;searchModel&quot; \n         (ngModelChange)=&quot;updateSearchModel($event)&quot;&gt;\n&lt;/mat-form-field&gt;\n</code></pre>\n"}], "owner": {"reputation": 729, "user_id": 10176081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e3d78e0d50fd3c8d0a39ed3a482c06?s=128&d=identicon&r=PG&f=1", "display_name": "Empty_Soul", "link": "https://stackoverflow.com/users/10176081/empty-soul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35649, "favorite_count": 3, "closed_date": 1553229148, "accepted_answer_id": 54324975, "answer_count": 2, "score": 5, "last_activity_date": 1603867784, "creation_date": 1548237678, "question_id": 54324562, "link": "https://stackoverflow.com/questions/54324562/search-filter-in-angular-6", "closed_reason": "Not suitable for this site", "title": "Search filter in angular 6", "body": "<p>I have two components called <code>list</code> and <code>details</code>, On clicking to particular <code>list-item</code> in list component. It will emit selected/clicked <code>list-item</code> to <code>details</code> component as in below image.</p>\n\n<p><a href=\"https://i.stack.imgur.com/PAQmE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PAQmE.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now i have placed another component called <code>search</code> above the <code>list</code> component like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/lbJBK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lbJBK.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can i apply <strong>filter</strong> for the <code>list-items</code> present in the <strong>list</strong> component?\nSo that i can search the <code>list-items</code> easily.</p>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-movie-read-load-json-sample-eg-ckwuep?file=src/app/details/details.component.html\" rel=\"noreferrer\">Stackblitz Link</a></strong></p>\n"}, {"tags": ["html", "angular", "typescript", "rxjs", "observable"], "answers": [{"tags": [], "owner": {"reputation": 1249, "user_id": 4220663, "user_type": "registered", "profile_image": "https://graph.facebook.com/1385627383/picture?type=large", "display_name": "Ophir Bushinsky", "link": "https://stackoverflow.com/users/4220663/ophir-bushinsky"}, "is_accepted": false, "score": 0, "last_activity_date": 1548241494, "creation_date": 1548241494, "answer_id": 54325786, "question_id": 54324402, "link": "https://stackoverflow.com/questions/54324402/good-practice-to-pass-functions-like-this/54325786#54325786", "title": "Good practice to pass functions like this?", "body": "<p>I'd maybe wrap the external library service inside the \"SharedService\", and expose the \"save\" Observable as a member of the SharedService like this:</p>\n\n<pre><code>// Component A only one subscribing\nthis.sharedService.save.subscribe((event) =&gt; {\n    // ... do something\n});\n\n@Injectable()\nexport class SharedService {\n    save = this.service.save\n        .pipe(\n            tap(event =&gt; this.beforeSaveFunctions.forEach(fn =&gt; fn(event)))\n        );\n\n    constructor(private service: Service) { }\n\n    beforeSaveFunctions: any[];\n\n    registerBeforeSaveFunction(fn: any) {\n        this.beforeSaveFunctions.push(fn);\n    }\n}\n\n//Component B, C, D, ...\nngOnInit(): void {\n    this.sharedService.registerBeforeSaveFunction(handleSave.bind(this));\n}\n\nhandleSave(event){\n    //Do something..\n}\n</code></pre>\n"}], "owner": {"reputation": 2057, "user_id": 5417542, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/f7d0bd08e0acd04e677810626c43a170?s=128&d=identicon&r=PG&f=1", "display_name": "user5417542", "link": "https://stackoverflow.com/users/5417542/user5417542"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548241494, "creation_date": 1548237133, "question_id": 54324402, "link": "https://stackoverflow.com/questions/54324402/good-practice-to-pass-functions-like-this", "title": "Good practice to pass functions like this?", "body": "<p>I have following scenario, where I subscribe in Component A to a Subject (<code>service.save</code>) and I want to call some functions of Component B,C,D,E before this event is going through. I thought of something like this:</p>\n\n<pre><code>//Component A only one subscribing\nthis.service.save.subscribe((event)=&gt;{\n    this.sharedService.beforeSaveFunctions.forEach(fn =&gt; {\n        fn(event);\n    });\n    // ... do something\n});\n\n\n@Injectable()\nexport class SharedService{\n  beforeSaveFunctions: any[];\n\n  registerBeforeSaveFunction(fn:any){\n      this.beforeSaveFunctions.push(fn);\n  }\n}\n\n\n//Component B, C, D, ...\nngOnInit(): void {\n    this.sharedService.registerBeforeSaveFunction(handleSave.bind(this));\n}\n\nhandleSave(event){\n    //Do something..\n}\n</code></pre>\n\n<p>So every component can call <code>this.sharedService.registerBeforeSaveFunction()</code> to pass their own function, which gets later executed on the subscription in Component A. </p>\n\n<p>Is this good style? I have no access to the service which holds the <code>save</code> Subject, since it is an external library. If I subscribe to it in every component, and every component does it's own thing it gets messy and I have async problems with one subscription finishing before the other.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 4264, "user_id": 7330592, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/08ff85e692b55924933f9d78a837bc4d?s=128&d=identicon&r=PG&f=1", "display_name": "undefined", "link": "https://stackoverflow.com/users/7330592/undefined"}, "edited": false, "score": 0, "creation_date": 1548237290, "post_id": 54324408, "comment_id": 95467435, "body": "This doesn&#39;t allow me to pass the raw string doSomething(&quot;Enter&quot;);"}, {"owner": {"reputation": 4264, "user_id": 7330592, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/08ff85e692b55924933f9d78a837bc4d?s=128&d=identicon&r=PG&f=1", "display_name": "undefined", "link": "https://stackoverflow.com/users/7330592/undefined"}, "edited": false, "score": 0, "creation_date": 1548237357, "post_id": 54324408, "comment_id": 95467491, "body": "Also, I don&#39;t like enums because they generate more redundant code."}, {"owner": {"reputation": 2280, "user_id": 1918890, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/018e4722f070586f7a475e3942b9aa32?s=128&d=identicon&r=PG", "display_name": "Praveen", "link": "https://stackoverflow.com/users/1918890/praveen"}, "reply_to_user": {"reputation": 4264, "user_id": 7330592, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/08ff85e692b55924933f9d78a837bc4d?s=128&d=identicon&r=PG&f=1", "display_name": "undefined", "link": "https://stackoverflow.com/users/7330592/undefined"}, "edited": false, "score": 0, "creation_date": 1548237777, "post_id": 54324408, "comment_id": 95467782, "body": "Why do you have to pass &quot;enter as raw string? You can pass KeyboardEventKeys.Enter instead?"}], "tags": [], "owner": {"reputation": 2280, "user_id": 1918890, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/018e4722f070586f7a475e3942b9aa32?s=128&d=identicon&r=PG", "display_name": "Praveen", "link": "https://stackoverflow.com/users/1918890/praveen"}, "is_accepted": false, "score": 1, "last_activity_date": 1548237142, "creation_date": 1548237142, "answer_id": 54324408, "question_id": 54324323, "link": "https://stackoverflow.com/questions/54324323/typescript-type-string-is-not-assignable-to-type-keyof/54324408#54324408", "title": "Typescript type string is not assignable to type keyof", "body": "<p>Solution is to use enums instead of objects.</p>\n\n<pre><code>enum KeyboardEventKeys {\n  Escape ='Escape',\n  Enter = 'Enter',\n  Tab = 'Tab'\n};\n\n\nfunction doSomething(key: KeyboardEventKeys) {}\n</code></pre>\n\n<p>You can now pass variables like so</p>\n\n<pre><code>doSomething(KeyboardEventKeys.Enter);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1548237518, "creation_date": 1548237518, "answer_id": 54324520, "question_id": 54324323, "link": "https://stackoverflow.com/questions/54324323/typescript-type-string-is-not-assignable-to-type-keyof/54324520#54324520", "title": "Typescript type string is not assignable to type keyof", "body": "<p>The solution to use an enum is a good one, and I would recommend you use it.</p>\n\n<p>The reason you get an error is that typescript will not infer string literal types for const members. You can force the compiler to infer string literal types by using an extra function when you create the <code>const</code>:</p>\n\n<pre><code>function createEnum&lt;T extends { [P in keyof T]: P }&gt;(o: T) {\n    return o\n}\nconst KeyboardEventKeys = createEnum({ // typed as { Escape: \"Escape\"; Enter: \"Enter\"; Tab: \"Tab\"; }\n\n    Escape: 'Escape',\n    Enter: 'Enter',\n    Tab: 'Tab'\n});\n\ntype KeyboardEventKeys = keyof (typeof KeyboardEventKeys);\n\nfunction doSomething(key: KeyboardEventKeys) { }\ndoSomething(\"Enter\")\ndoSomething(\"\") //err\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1731, "user_id": 280919, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/watY1.png?s=128&g=1", "display_name": "mwieczorek", "link": "https://stackoverflow.com/users/280919/mwieczorek"}, "edited": false, "score": 0, "creation_date": 1597958628, "post_id": 54324595, "comment_id": 112310527, "body": "It works, but you won&#39;t get the auto-completion whose inclusion is implied by wanting to use <code>keyof</code>"}], "tags": [], "owner": {"reputation": 452, "user_id": 10907938, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Up3QCcfO1uc/AAAAAAAAAAI/AAAAAAAAAG0/BXVBY8wh3h4/photo.jpg?sz=128", "display_name": "David Kabii", "link": "https://stackoverflow.com/users/10907938/david-kabii"}, "is_accepted": false, "score": 0, "last_activity_date": 1548237763, "creation_date": 1548237763, "answer_id": 54324595, "question_id": 54324323, "link": "https://stackoverflow.com/questions/54324323/typescript-type-string-is-not-assignable-to-type-keyof/54324595#54324595", "title": "Typescript type string is not assignable to type keyof", "body": "<p>Have you tried this:</p>\n\n<pre><code>keyof { [key: string]: KeyboarEventKeys }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 671, "user_id": 9259330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoOVr.jpg?s=128&g=1", "display_name": "Veetaha", "link": "https://stackoverflow.com/users/9259330/veetaha"}, "is_accepted": false, "score": 2, "last_activity_date": 1554396886, "creation_date": 1554396886, "answer_id": 55521293, "question_id": 54324323, "link": "https://stackoverflow.com/questions/54324323/typescript-type-string-is-not-assignable-to-type-keyof/55521293#55521293", "title": "Typescript type string is not assignable to type keyof", "body": "<p>Since <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-4.html#const-assertions\" rel=\"nofollow noreferrer\">TypeScript 3.4</a> you may force the compiler to preserve literal types by using special <code>as const</code> cast construction.\nSo here you may write</p>\n\n<pre><code>const KeyboardEventKeys = {\n  Escape: 'Escape',\n  Enter: 'Enter',\n  Tab: 'Tab'\n} as const;\n\ntype KeyboardEventKeys = keyof typeof KeyboardEventKeys;\n\nfunction doSomething(key: KeyboardEventKeys) {}\n</code></pre>\n\n<p>But, ultimately I recommend using <code>[const] enum KeyboardEventKeys { ... }</code> instead.</p>\n"}], "owner": {"reputation": 4264, "user_id": 7330592, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/08ff85e692b55924933f9d78a837bc4d?s=128&d=identicon&r=PG&f=1", "display_name": "undefined", "link": "https://stackoverflow.com/users/7330592/undefined"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4089, "favorite_count": 0, "accepted_answer_id": 54324520, "answer_count": 4, "score": 3, "last_activity_date": 1554396886, "creation_date": 1548236904, "question_id": 54324323, "link": "https://stackoverflow.com/questions/54324323/typescript-type-string-is-not-assignable-to-type-keyof", "title": "Typescript type string is not assignable to type keyof", "body": "<p>I have the following code:</p>\n\n<pre><code>const KeyboardEventKeys = {\n  Escape: 'Escape',\n  Enter: 'Enter',\n  Tab: 'Tab'\n};\n\ntype KeyboardEventKeys = keyof (typeof KeyboardEventKeys);\n\nfunction doSomething(key: KeyboardEventKeys) {}\n</code></pre>\n\n<p>When I'm passing to a function the value of one of the object properties it yells at me:</p>\n\n<pre><code>doSomething(KeyboardEventKeys.Enter);\n</code></pre>\n\n<p>One solution is to cast <code>as KeyboardEventKeys</code>, but it's a redundant solution. How can I do it without it?  </p>\n\n<p>I also don't want to add <code>doSomething(key: KeyboardEventKeys | string)</code> because I will lose the type guard.</p>\n"}, {"tags": ["javascript", "angular", "twitter-bootstrap", "typescript", "ngx-bootstrap"], "comments": [{"owner": {"reputation": 2401, "user_id": 9890873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkm7i.jpg?s=128&g=1", "display_name": "Jacopo Sciampi", "link": "https://stackoverflow.com/users/9890873/jacopo-sciampi"}, "edited": false, "score": 0, "creation_date": 1548237813, "post_id": 54324288, "comment_id": 95467805, "body": "I would use a <code>@HostListner</code> to decide if a variable is true or false, and then use the var to enable or disable the tooltip. Or you can override via css the style"}, {"owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "edited": false, "score": 1, "creation_date": 1548252549, "post_id": 54324288, "comment_id": 95476137, "body": "@fynn, I added a complete solution with a stackblitz example that uses a directive and a service to globally disable all tooltips using the tooltip-enalbed attribute. I hope it can help you."}], "answers": [{"tags": [], "owner": {"reputation": 1226, "user_id": 8129670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0154e301979f85ac1d5ce168b84190a7?s=128&d=identicon&r=PG", "display_name": "Jelle", "link": "https://stackoverflow.com/users/8129670/jelle"}, "is_accepted": false, "score": 4, "last_activity_date": 1548237811, "creation_date": 1548237811, "answer_id": 54324616, "question_id": 54324288, "link": "https://stackoverflow.com/questions/54324288/disable-angular-component/54324616#54324616", "title": "Disable Angular component", "body": "<p>I didn't find a way to disable the tooltips completely. But by using a global style in your css you could solve this without JS.</p>\n\n<pre><code>@media (max-width: 1280px) {\n    bs-tooltip-container {\n        display: none !important;\n    }\n}\n</code></pre>\n\n<p>This would make the tooltips not display if the screen size is lower then 1280px.</p>\n\n<p>Good luck!</p>\n"}, {"tags": [], "owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "is_accepted": true, "score": 1, "last_activity_date": 1548366940, "last_edit_date": 1548366940, "creation_date": 1548243315, "answer_id": 54326359, "question_id": 54324288, "link": "https://stackoverflow.com/questions/54324288/disable-angular-component/54326359#54326359", "title": "Disable Angular component", "body": "<p>Here is a generic solution using an angular directive <code>ToggleTooltipDirective</code> that sets the tooltip <code>isDisabled</code> attribute. This directive automatically targets every element with a <code>TooltipDirective</code>.</p>\n\n<p>The directive is automatically added to the proper elements by angular by declaring it using the <code>'[tooltip]:not([toggleTooltip]),[toggleTooltip]'</code> selector.</p>\n\n<blockquote>\n  <p><a href=\"https://stackblitz.com/edit/disable-ngx-tooltips-directive\" rel=\"nofollow noreferrer\">Here is a working demo on StackBlitz</a></p>\n</blockquote>\n\n<p>Using this solution, the tooltip is disabled using the API provided by ngx-bootstrap. Also, the toggling can be easily controlled via a service as shown below.</p>\n\n<pre><code>import { Directive, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { TooltipDirective } from 'ngx-bootstrap/tooltip';\nimport { TooltipControlService } from './tooltip-control.service';\n\n@Directive({\n  selector: '[tooltip]:not([toggleTooltip]),[toggleTooltip]'\n})\nexport class ToggleTooltipDirective implements OnDestroy {\n  private subscription: Subscription;\n\n  constructor(\n    private tooltip: TooltipDirective,\n    private tooltipControlService: TooltipControlService) {\n      this.subscription = this.tooltipControlService.disabled$.subscribe(\n        disabled =&gt; this.tooltip.isDisabled = disabled\n      );\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n}\n</code></pre>\n\n<p>And here is a service so you can enable/disable from anywhere. The service also uses the <code>LayoutModule</code> from <code>@angular/cdk</code> to detect when the screen dimensions change and do the toggling.</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { BreakpointObserver, BreakpointState } from '@angular/cdk/layout';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\n@Injectable({ providedIn: 'root' })\nexport class TooltipControlService {\n  private disabledSubject = new BehaviorSubject(false);\n\n  disabled$: Observable&lt;boolean&gt; = this.disabledSubject.asObservable();\n\n  constructor(public breakpointObserver: BreakpointObserver) {\n    this.breakpointObserver\n      .observe(['(max-width: 1280px)'])\n      .subscribe((state: BreakpointState) =&gt; {\n        if (state.matches) {\n          this.disable();\n          console.log('Small viewport');\n        } else {\n          this.enable();\n          console.log('Big viewport');\n        }\n      });\n  }\n\n  enable(): void {\n    this.disabledSubject.next(false);\n  }\n\n  disable(): void {\n    this.disabledSubject.next(true);\n  }\n}\n</code></pre>\n\n<p>Your app module:</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule } from '@angular/forms';\nimport { LayoutModule } from '@angular/cdk/layout';\nimport { TooltipModule } from 'ngx-bootstrap/tooltip';\nimport { AppComponent } from './app.component';\nimport { HelloComponent } from './hello.component';\nimport { ToggleTooltipDirective } from './toggle-tooltip.directive';\n\n@NgModule({\n  imports:      [ BrowserModule, FormsModule, LayoutModule, TooltipModule.forRoot() ],\n  declarations: [ AppComponent, HelloComponent, ToggleTooltipDirective ],\n  bootstrap:    [ AppComponent ]\n})\nexport class AppModule { }\n\n</code></pre>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 4359, "user_id": 502256, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/70646dc0868a5f941408d4e9c14e9f8c?s=128&d=identicon&r=PG", "display_name": "Fynn", "link": "https://stackoverflow.com/users/502256/fynn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4312, "favorite_count": 0, "accepted_answer_id": 54326359, "answer_count": 2, "score": 4, "last_activity_date": 1548366940, "creation_date": 1548236788, "question_id": 54324288, "link": "https://stackoverflow.com/questions/54324288/disable-angular-component", "title": "Disable Angular component", "body": "<p>we are using <a href=\"https://valor-software.com/ngx-bootstrap\" rel=\"nofollow noreferrer\">ngx-bootstrap</a> in our Angular application. More specifically, we are using the <a href=\"https://valor-software.com/ngx-bootstrap/#/tooltip\" rel=\"nofollow noreferrer\">tooltip directive</a>. However, we do not want to display tooltips on mobile so we are looking for a way to globally disable the tooltip directive once the screen size falls under a certain threshold.</p>\n\n<p>While there is a way to disable a single tooltip directive via the <a href=\"https://valor-software.com/ngx-bootstrap/#/tooltip#tooltip-directive\" rel=\"nofollow noreferrer\">tooltip-enabled attribute</a>, we are looking for a way to disable all tooltips with a single switch. What would be the best way to achieve this goal?</p>\n\n<p>Many thanks</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1548236927, "post_id": 54324251, "comment_id": 95467191, "body": "As you now know the property is non-null, <code>req.petName!</code> can tell the compiler as much."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1548237716, "post_id": 54324251, "comment_id": 95467749, "body": "<a href=\"https://stackoverflow.com/questions/49431880/ts2531-object-is-possibly-null/49432007#49432007\" title=\"ts2531 object is possibly null\">stackoverflow.com/questions/49431880/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5932, "user_id": 3016654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f841e106c58a9e27aa79fcb686607c9a?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei T\u0103tar", "link": "https://stackoverflow.com/users/3016654/andrei-t%c4%83tar"}, "is_accepted": false, "score": 0, "last_activity_date": 1548238457, "last_edit_date": 1548238457, "creation_date": 1548237844, "answer_id": 54324625, "question_id": 54324251, "link": "https://stackoverflow.com/questions/54324251/how-to-deal-with-object-is-possibly-undefined-error-in-typescript/54324625#54324625", "title": "How to deal with &#39;Object is possibly undefined&#39; error in TypeScript", "body": "<p>You can use a type guard but you would have to wrap the validate call in an if statement. This basically tells the compiler that if that function returns true, inside the if block the type of req is now a derived type that has all those keys (passed as parameters) as required.</p>\n\n<p>Something like:</p>\n\n<pre><code>type HasKeys&lt;T, K extends keyof T&gt; = T &amp; { [Key in K]-?: T[Key] };\n\n// function in a function to infer the key types \n// unfortunately it can't infer the type of the req \n// since it needs to be passed in the second function\n// you could fix type inference for req by passing it as an argument to both functions\nfunction validatePetFields&lt;T&gt;() {\n    return function &lt;K extends keyof T&gt;(obj: T, ...keys: K[]): obj is HasKeys&lt;T, K&gt; {\n        for (const key of keys) {\n            if (obj[key] === void 0) {\n                throw new Error('not valid');\n            }\n        }\n        return true;\n    };\n}\n\ninterface Request {\n    petName?: string;\n}\n\nexport default async (req: Request): Promise&lt;any&gt; =&gt; {\n    if (validatePetFields&lt;Request&gt;()(req, 'petName')) {\n        // no more error since petName is not optional here :)\n        console.log(req.petName.charAt(0).toUpperCase() + req.petName.slice(1));\n    }\n};\n</code></pre>\n"}], "owner": {"reputation": 822, "user_id": 2409736, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4cd35995a2d533cff3ae67afd42c1292?s=128&d=identicon&r=PG", "display_name": "richwol", "link": "https://stackoverflow.com/users/2409736/richwol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 922, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1548238457, "creation_date": 1548236662, "question_id": 54324251, "link": "https://stackoverflow.com/questions/54324251/how-to-deal-with-object-is-possibly-undefined-error-in-typescript", "title": "How to deal with &#39;Object is possibly undefined&#39; error in TypeScript", "body": "<p>I have a function where a param may be a string or undefined, but then a validation check that throws an error if it's undefined. Any further code is guaranteed that the param is defined, but I'm now fighting against the TypeScript casting of it potentially being undefined. What's the nice way in TypeScript to deal with this issue?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { validatePetFields } from \"../models/pets\";\n\ninterface controllerParams {\n   req: {\n      petName?: string;\n   };\n}\n\nexport default async ({ req }: controllerParams): Promise&lt;any&gt; =&gt; {\n\n   validatePetFields(req, [\n      \"petName\",\n   ]); // this function intentionally throws a JS error if petName is undefined\n\n   console.log(req.petName.charAt(0).toUpperCase() + req.petName.slice(1)); // throws TypeScript error: Object is possibly 'undefined'\n};\n</code></pre>\n"}, {"tags": ["typescript", "internet-explorer", "web-component", "dom-manipulation", "stenciljs"], "comments": [{"owner": {"reputation": 19681, "user_id": 402037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc3b3667c918504550fd656ac50b87f?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/402037/andreas"}, "edited": false, "score": 0, "creation_date": 1548236963, "post_id": 54324214, "comment_id": 95467210, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/ShadowRoot#Browser_compatibility\" rel=\"nofollow noreferrer\"><code>ShadowRoot</code> -&gt; Browser Compatibility</a>"}, {"owner": {"reputation": 942, "user_id": 5189578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KF2bB.jpg?s=128&g=1", "display_name": "Prasheel", "link": "https://stackoverflow.com/users/5189578/prasheel"}, "reply_to_user": {"reputation": 19681, "user_id": 402037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc3b3667c918504550fd656ac50b87f?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/402037/andreas"}, "edited": false, "score": 0, "creation_date": 1548238346, "post_id": 54324214, "comment_id": 95468118, "body": "@Andreas, I agree to the point that ShadowDOM is not supported by IE and Edge, but the error is not because of ShadowRoot. I have console logged the container and it is getting that on IE. The error is thrown when I try to call appendChild()"}, {"owner": {"reputation": 8001, "user_id": 10309381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a284b365772283540b23d67dbbbd2d2e?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak-MSFT", "link": "https://stackoverflow.com/users/10309381/deepak-msft"}, "edited": false, "score": 0, "creation_date": 1548313430, "post_id": 54324214, "comment_id": 95498005, "body": "You are trying to use the shadowRoot.querySelector for assigning the value to the container. Can you try to use the simple JS code to make a test in IE that do the same thing to check whether it work or not?"}], "answers": [{"comments": [{"owner": {"reputation": 8001, "user_id": 10309381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a284b365772283540b23d67dbbbd2d2e?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak-MSFT", "link": "https://stackoverflow.com/users/10309381/deepak-msft"}, "edited": false, "score": 0, "creation_date": 1548320290, "post_id": 54341332, "comment_id": 95501227, "body": "From your last post, I can see that you had solved your issue. I suggest you to mark your own solution as an accepted answer for this question after 24 hrs may help other community members in future in similar kind of questions. Thanks for your understanding."}], "tags": [], "owner": {"reputation": 942, "user_id": 5189578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KF2bB.jpg?s=128&g=1", "display_name": "Prasheel", "link": "https://stackoverflow.com/users/5189578/prasheel"}, "is_accepted": true, "score": 0, "last_activity_date": 1548314719, "creation_date": 1548314719, "answer_id": 54341332, "question_id": 54324214, "link": "https://stackoverflow.com/questions/54324214/hierarchyrequesterror-4-on-ie-and-edge-on-dom-manipulation/54341332#54341332", "title": "HierarchyRequestError 4 on IE and Edge on DOM manipulation", "body": "<p>Finally, I got hold of this one. </p>\n\n<p>The error was occurring because of the incorrect hierarchy that was generated during run-time. </p>\n\n<p>I solved the problem just by moving <code>&lt;slot/&gt;</code> outside of the <code>&lt;div&gt;</code></p>\n"}], "owner": {"reputation": 942, "user_id": 5189578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KF2bB.jpg?s=128&g=1", "display_name": "Prasheel", "link": "https://stackoverflow.com/users/5189578/prasheel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 293, "favorite_count": 0, "accepted_answer_id": 54341332, "answer_count": 1, "score": 0, "last_activity_date": 1548314719, "creation_date": 1548236554, "question_id": 54324214, "link": "https://stackoverflow.com/questions/54324214/hierarchyrequesterror-4-on-ie-and-edge-on-dom-manipulation", "title": "HierarchyRequestError 4 on IE and Edge on DOM manipulation", "body": "<p>I am developing a web component using stencilJS. I am using a slot for rendering the HTML, but I need to modify the HTML before it gets rendered, for that, I am using querySelector and appendChild function to manipulate DOM. This is working fine on Chrome but throws Hierarchy Error on IE and Edge. Here is my code: </p>\n\n<p>render function in TSX: </p>\n\n<pre><code>    render () {\n      return (\n       &lt;div class={`column-${this.column}`}&gt;\n         &lt;slot/&gt;\n       &lt;/div&gt;\n     )\n   }\n</code></pre>\n\n<p>Code to manipulate DOM: </p>\n\n<pre><code>componentDidLoad () {\n    const container = this.element.shadowRoot.querySelector(`.column-${this.column}`) ?\n      this.element.shadowRoot.querySelector(`.column-${this.column}`) : this.element.querySelector(`.column-${this.column}`)\n    Array.from(this.element.children).forEach(node =&gt; {\n      const elem = document.createElement('div')\n      elem.appendChild(node)\n      container.appendChild(elem)\n    })\n  }\n</code></pre>\n\n<p>The above code works perfectly on chrome but throws an error in IE on the line </p>\n\n<pre><code>container.appendChild(elem)\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6", "migration"], "answers": [{"comments": [{"owner": {"reputation": 4380, "user_id": 22617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8b387c489181844b3ffc704fadc0f14?s=128&d=identicon&r=PG", "display_name": "Remy Sharp", "link": "https://stackoverflow.com/users/22617/remy-sharp"}, "edited": false, "score": 0, "creation_date": 1548243519, "post_id": 54325493, "comment_id": 95471068, "body": "That did the trick. The docs say that <code>skipLibCheck</code> is &quot;Skip type checking of all declaration files (*.d.ts).&quot; - what does that actually mean for my project? Was I missing something or am I at risk of something important being missing?"}, {"owner": {"reputation": 1437, "user_id": 4038702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/364QK.jpg?s=128&g=1", "display_name": "Pandelis", "link": "https://stackoverflow.com/users/4038702/pandelis"}, "reply_to_user": {"reputation": 4380, "user_id": 22617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8b387c489181844b3ffc704fadc0f14?s=128&d=identicon&r=PG", "display_name": "Remy Sharp", "link": "https://stackoverflow.com/users/22617/remy-sharp"}, "edited": false, "score": 0, "creation_date": 1548245932, "post_id": 54325493, "comment_id": 95472291, "body": "skipLibCheck will stop typescript from going into the library and verifying it&#39;s use of types in the library match what are said to be exported. Digging into this deeper though it seems that RequestInit, is actually a newer type that is defined as part of fetch. I&#39;ll amend my answer with some comments."}], "tags": [], "owner": {"reputation": 1437, "user_id": 4038702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/364QK.jpg?s=128&g=1", "display_name": "Pandelis", "link": "https://stackoverflow.com/users/4038702/pandelis"}, "is_accepted": true, "score": 3, "last_activity_date": 1548246203, "last_edit_date": 1548246203, "creation_date": 1548240516, "answer_id": 54325493, "question_id": 54324127, "link": "https://stackoverflow.com/questions/54324127/migrate-from-js-errors-in-tsc-build/54325493#54325493", "title": "Migrate from JS, errors in tsc build", "body": "<p>You might need a <code>\"skipLibCheck\": true</code> in compiler options.</p>\n\n<p>Via: <a href=\"https://github.com/Microsoft/TypeScript/issues/14293\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/issues/14293</a></p>\n\n<p>Edit: Digging into this further you shouldn't really need to skipLibCheck. The issue is that TS is looking into the definitions for http-link-dataloader and it cannot find RequestInit. </p>\n\n<p>Looking into the definition file for http-link-dataloader it does not actually define the type for RequestInit:</p>\n\n<p><a href=\"https://github.com/prisma/http-link-dataloader/blob/master/src/types.ts\" rel=\"nofollow noreferrer\">https://github.com/prisma/http-link-dataloader/blob/master/src/types.ts</a></p>\n\n<p>Further digging has lead me to find that RequestInit is actually part of fetch. <a href=\"https://github.com/apollographql/apollo-client/issues/207\" rel=\"nofollow noreferrer\">Relevant GitHub Issue</a></p>\n\n<p>In order to use typings for client side js like fetch you'll want to use the <strong>dom</strong> library in typescript.</p>\n\n<pre><code>\"lib\": [\n    \"dom\",\n    ...\n]\n</code></pre>\n"}], "owner": {"reputation": 4380, "user_id": 22617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8b387c489181844b3ffc704fadc0f14?s=128&d=identicon&r=PG", "display_name": "Remy Sharp", "link": "https://stackoverflow.com/users/22617/remy-sharp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 381, "favorite_count": 0, "accepted_answer_id": 54325493, "answer_count": 1, "score": 4, "last_activity_date": 1548246203, "creation_date": 1548236256, "last_edit_date": 1548239252, "question_id": 54324127, "link": "https://stackoverflow.com/questions/54324127/migrate-from-js-errors-in-tsc-build", "title": "Migrate from JS, errors in tsc build", "body": "<p>I'm trying out TypeScript for the first time and am migrating an existing JavaScript codebase.</p>\n\n<p>I've followed the directions on the TS <a href=\"https://www.typescriptlang.org/docs/handbook/migrating-from-javascript.html\" rel=\"nofollow noreferrer\">migration guide</a> but ran into build problems right away.</p>\n\n<p>The main blocker I'm hitting is that <code>tsc</code> is complaining about trying to compile a <code>.ts</code> file that lives in my <code>node_modules</code> directory.</p>\n\n<p>My <code>tsconfig.json</code> is:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"outDir\": \"./dist\",\n    \"allowJs\": true,\n    \"lib\": [\"esnext\"],\n    \"target\": \"es5\"\n  },\n  \"include\": [\"./src/**/*\"],\n  \"exclude\": [\"node_modules\", \"__tests__\"]\n}\n</code></pre>\n\n<p>As you can see, I've <em>tried</em> to tell <code>tsc</code> to ignore the <code>node_modules</code> directory, but it looks like it's still going in there.</p>\n\n<p>This is the error - though I'm not sure how helpful it is:</p>\n\n<pre><code>node_modules/http-link-dataloader/dist/src/types.d.ts:14:22 - error TS2304: Cannot find name 'RequestInit'.\n\n14     referrerPolicy?: RequestInit['referrerPolicy'];\n                        ~~~~~~~~~~~\n</code></pre>\n\n<p>Any advice?</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "webpack"], "comments": [{"owner": {"reputation": 1437, "user_id": 4038702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/364QK.jpg?s=128&g=1", "display_name": "Pandelis", "link": "https://stackoverflow.com/users/4038702/pandelis"}, "edited": false, "score": 0, "creation_date": 1548240745, "post_id": 54324055, "comment_id": 95469540, "body": "What does your jquery import look like and is it failing on production build or on dev hot reload build?"}, {"owner": {"reputation": 1892, "user_id": 1365872, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1b175306891b22e956cf2b8f7eb74bf3?s=128&d=identicon&r=PG", "display_name": "Matthias Huttar", "link": "https://stackoverflow.com/users/1365872/matthias-huttar"}, "reply_to_user": {"reputation": 1437, "user_id": 4038702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/364QK.jpg?s=128&g=1", "display_name": "Pandelis", "link": "https://stackoverflow.com/users/4038702/pandelis"}, "edited": false, "score": 0, "creation_date": 1548241128, "post_id": 54324055, "comment_id": 95469761, "body": "it is <code>import &quot;jquery&quot;</code> - it&#39;s failing on hot reload build"}], "answers": [{"tags": [], "owner": {"reputation": 1437, "user_id": 4038702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/364QK.jpg?s=128&g=1", "display_name": "Pandelis", "link": "https://stackoverflow.com/users/4038702/pandelis"}, "is_accepted": false, "score": 0, "last_activity_date": 1548241332, "creation_date": 1548241332, "answer_id": 54325734, "question_id": 54324055, "link": "https://stackoverflow.com/questions/54324055/webpack-does-not-import-bundles-from-node-modules-js-only/54325734#54325734", "title": "Webpack does not import bundles from node_modules (js only)", "body": "<p>Not actually 100% sure without looking at more of the project but give this a go.</p>\n\n<p>Set your jquery external to: </p>\n\n<p><code>\"jquery\": \"jQuery\"</code></p>\n\n<p>and use jquery in your project as: <code>import jQuery from 'jquery'</code> or <code>import $ from 'jquery'</code></p>\n"}, {"tags": [], "owner": {"reputation": 9327, "user_id": 10340970, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vjxtktRxaKk/AAAAAAAAAAI/AAAAAAAAAOk/TCtUOY0N3T8/photo.jpg?sz=128", "display_name": "Derek Nguyen", "link": "https://stackoverflow.com/users/10340970/derek-nguyen"}, "is_accepted": true, "score": 0, "last_activity_date": 1548253825, "creation_date": 1548253825, "answer_id": 54329504, "question_id": 54324055, "link": "https://stackoverflow.com/questions/54324055/webpack-does-not-import-bundles-from-node-modules-js-only/54329504#54329504", "title": "Webpack does not import bundles from node_modules (js only)", "body": "<p>If you intended <code>jquery</code> to be treated as an external, @Pandelis answer's right (note the uppercase <code>Q</code>: <code>jquery: jQuery</code>). But in case you want to import jquery as a node module, see below.</p>\n\n<h3>Use jQuery as a node module</h3>\n\n<p>If you want to use jQuery as a node module &amp; have it bundled, you should install jquery from npm</p>\n\n<pre><code>npm install jquery\n</code></pre>\n\n<p>Then import it in your code </p>\n\n<pre><code>import $ from \"jquery\";\n</code></pre>\n\n<p>No need to add anything to <code>webpack.config.js</code>. But if you want to use jQuery as an external:</p>\n\n<h3>Use jQuery as an external</h3>\n\n<p>When you do something like this in <code>webpack.config.js</code>:</p>\n\n<pre><code>...\nmodule.exports = {\n  externals: {\n    jquery: \"jQuery\" // or jquery: \"$\"\n  },\n  ...\n}\n</code></pre>\n\n<p>It tells webpack that in the line <code>import jquery</code>, <code>jquery</code> shouldn't be bundled; instead, look for the <code>jQuery</code> object in the global scope (which is <code>window</code> in our case). Both <code>jQuery</code> and <code>$</code> will be valid. It also means you have to load jquery from external source:</p>\n\n<pre><code>#index.html\n\n&lt;script\n  src=\"https://code.jquery.com/jquery-3.3.1.min.js\"\n  integrity=\"sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=\"\n  crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n&lt;sript src=\"bundle.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Then in your code, you can then do</p>\n\n<pre><code>import 'jquery' // or import $ from 'jquery'\n$...\n</code></pre>\n\n<p>Just to illustrate, you can also do <code>externals: { foo: 'jQuery' }</code> and <code>import 'foo'</code> would still work.</p>\n\n<p>Hope it helps!</p>\n"}], "owner": {"reputation": 1892, "user_id": 1365872, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1b175306891b22e956cf2b8f7eb74bf3?s=128&d=identicon&r=PG", "display_name": "Matthias Huttar", "link": "https://stackoverflow.com/users/1365872/matthias-huttar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2010, "favorite_count": 0, "accepted_answer_id": 54329504, "answer_count": 2, "score": 2, "last_activity_date": 1548253825, "creation_date": 1548236042, "question_id": 54324055, "link": "https://stackoverflow.com/questions/54324055/webpack-does-not-import-bundles-from-node-modules-js-only", "title": "Webpack does not import bundles from node_modules (js only)", "body": "<p>Good Morning, </p>\n\n<p>I'm quite new to Webpack and feel a bit lost - importing modules from the source path works just fine - but importing modules from node_modules (e.g. jQuery) gives me error messages that the module is not found. I am completely lost and don't even know what to look for or how to debug this further. </p>\n\n<p>The error message i am getting is: </p>\n\n<pre><code>external \"jquery\":1 Uncaught ReferenceError: jquery is not defined\n    at Object.jquery (external \"jquery\":1)\n    at __webpack_require__ (bootstrap:723)\n    at fn (bootstrap:100)\n    at Object../js/ManagementApplication.ts (ManagementApplication.ts:5)\n    at __webpack_require__ (bootstrap:723)\n    at fn (bootstrap:100)\n    at Object.0 (dist.js:40457)\n    at __webpack_require__ (bootstrap:723)\n    at bootstrap:790\n    at bootstrap:790\njquery @ external \"jquery\":1\n__webpack_require__ @ bootstrap:723\nfn @ bootstrap:100\n./js/ManagementApplication.ts @ ManagementApplication.ts:5\n__webpack_require__ @ bootstrap:723\nfn @ bootstrap:100\n0 @ dist.js:40457\n__webpack_require__ @ bootstrap:723\n(anonymous) @ bootstrap:790\n(anonymous) @ bootstrap:790\n</code></pre>\n\n<p>and here is my webpack config: </p>\n\n<pre><code>// shared config (dev and prod)\nconst {resolve} = require('path');\nconst {CheckerPlugin} = require('awesome-typescript-loader');\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\nconst webpack = require(\"webpack\")\n\n\nmodule.exports = {\n    resolve: {\n        extensions: ['.ts', '.js'],\n    },\n    context: resolve(__dirname, '../src/main/'),\n    output: {\n        filename: \"dist.js\",\n        path: resolve(__dirname, '../target')\n    },\n    externals: {\n        bootstrap: \"bootstrap\",\n        jquery: \"jquery\"\n    },\n    module: {\n        rules: [\n            {\n                test: /\\.js$/,\n                use: ['babel-loader'],\n            },\n            {\n                test: /\\.tsx?$/,\n                use: ['babel-loader', 'awesome-typescript-loader'],\n            },\n            {\n                test: /\\.css$/,\n                use: ['style-loader', {loader: 'css-loader', options: {importLoaders: 1}}],\n            },\n            {\n                test: /\\.(scss)$/,\n                use: [{\n                    loader: 'style-loader', // inject CSS to page\n                }, {\n                    loader: 'css-loader', // translates CSS into CommonJS modules\n                }, {\n                    loader: 'postcss-loader', // Run postcss actions\n                    options: {\n                        plugins: function () { // postcss plugins, can be exported to postcss.config.js\n                            return [\n                                require('autoprefixer')\n                            ];\n                        }\n                    }\n                }, {\n                    loader: 'sass-loader' // compiles Sass to CSS\n                }]\n            },\n\n            {\n                test: /\\.woff2?(\\?v=[0-9]\\.[0-9]\\.[0-9])?$/,\n                use: 'url-loader?limit=10000',\n            },\n            {\n                test: /\\.hbs/,\n                loaders: \"handlebars-loader\"\n            },\n            {\n                test: /\\.(jpe?g|png|gif|svg)$/i,\n                loaders: [\n                    'file-loader?hash=sha512&amp;digest=hex&amp;name=img/[hash].[ext]',\n                    'image-webpack-loader?bypassOnDebug&amp;optipng.optimizationLevel=7&amp;gifsicle.interlaced=false',\n                ],\n            },\n        ],\n    },\n    plugins: [\n        new CheckerPlugin(),\n        new HtmlWebpackPlugin(),\n        new webpack.IgnorePlugin(/\\/iconv-loader$/)\n    ],\n    performance: {\n        hints: false,\n    },\n};\n</code></pre>\n\n<p>and this one: </p>\n\n<pre><code>// development config\nconst merge = require('webpack-merge');\nconst webpack = require('webpack');\nconst commonConfig = require('./common');\n\nmodule.exports = merge(commonConfig, {\n    mode: 'development',\n    entry: [\n        'webpack-dev-server/client?http://localhost:4000',// bundle the client for webpack-dev-server and connect to the provided endpoint\n        'webpack/hot/only-dev-server', // bundle the client for hot reloading, only- means to only hot reload for successful updates\n        './js/ManagementApplication.ts' // the entry point of our app\n    ],\n\n    devServer: {\n        hot: true,\n        host: \"0.0.0.0\",\n        port: \"4000\"\n\n    },\n    devtool: 'source-map',\n    plugins: [\n        new webpack.HotModuleReplacementPlugin(), // enable HMR globally\n        new webpack.NamedModulesPlugin(), // prints more readable module names in the browser console on HMR updates\n    ],\n});\n</code></pre>\n\n<p>(both of them are loaded, the latter one overriding the first one). </p>\n\n<p>I've checked a billion times that the libraries are correctly inside node_modules - just don't know why they are not loaded. This problem is not specific only to a specific library but genreally to all libraries. </p>\n\n<p>Importing css resources from libraries works fine in contrast. </p>\n\n<p>Does anyone have an idea how to fix this or can help me understanding what is happening? </p>\n"}, {"tags": ["typescript", "react-transition-group"], "answers": [{"tags": [], "owner": {"reputation": 1437, "user_id": 4038702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/364QK.jpg?s=128&g=1", "display_name": "Pandelis", "link": "https://stackoverflow.com/users/4038702/pandelis"}, "is_accepted": false, "score": -1, "last_activity_date": 1548241016, "creation_date": 1548241016, "answer_id": 54325632, "question_id": 54323958, "link": "https://stackoverflow.com/questions/54323958/style-object-for-react-transition-causes-no-index-signature-error/54325632#54325632", "title": "style object for react-transition causes &#39;no index signature&#39; error", "body": "<p>You may need to do 1 of two things.</p>\n\n<p>I believe you'll need to configure tsconfig with <code>\"noImplicitAny\": false</code></p>\n\n<p>If that does not solve it then it may be that typescript is checking in the library itself for types. You'll need to tell it not to with:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"skipLibCheck\": true,\n        ...\n    },\n    ...\n}\n</code></pre>\n\n<p>Via: <a href=\"https://stackoverflow.com/questions/38656955/allow-implicit-any-only-for-definition-files\">Allow implicit any only for definition files</a></p>\n"}, {"tags": [], "owner": {"reputation": 29577, "user_id": 58129, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MBBRu.jpg?s=128&g=1", "display_name": "Anthony Kong", "link": "https://stackoverflow.com/users/58129/anthony-kong"}, "is_accepted": false, "score": 0, "last_activity_date": 1550739557, "creation_date": 1550739557, "answer_id": 54802969, "question_id": 54323958, "link": "https://stackoverflow.com/questions/54323958/style-object-for-react-transition-causes-no-index-signature-error/54802969#54802969", "title": "style object for react-transition causes &#39;no index signature&#39; error", "body": "<p>This line</p>\n\n<pre><code>const transitionStyles = {\n</code></pre>\n\n<p>should be changed to </p>\n\n<pre><code>const transitionStyles: React.CSSProperties = {\n</code></pre>\n"}], "owner": {"reputation": 29577, "user_id": 58129, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MBBRu.jpg?s=128&g=1", "display_name": "Anthony Kong", "link": "https://stackoverflow.com/users/58129/anthony-kong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1550739557, "creation_date": 1548235731, "question_id": 54323958, "link": "https://stackoverflow.com/questions/54323958/style-object-for-react-transition-causes-no-index-signature-error", "title": "style object for react-transition causes &#39;no index signature&#39; error", "body": "<p>I am trying to use <code>Transition</code></p>\n\n<pre><code>(75,45): error TS7017: Element implicitly has an 'any' type because type '{ entering: { opacity: number; }; entered: { opacity: number; }; exiting: { opacity: number; }; exited: { opacity: number; }; }' has no index signature.\n</code></pre>\n\n<p>Here is the related code:</p>\n\n<pre><code>import Transition from 'react-transition-group/Transition';\n\n...\n\nclass AnimatedElement extends React.PureComponent {\n\n  render = () =&gt; {\n    const top = 50;\n    const left = 35;\n    const transitionStyles = {\n      entering: { opacity: 1 },\n      entered: { opacity: 1 },\n      exiting: { opacity: 0.5 },\n      exited: { opacity: 0 },\n    };\n    const duration = 500;\n    const defaultStyle = {\n      top,\n      left,\n      transform: 'scale(3)',\n      transition: `opacity ${duration}ms ease-in-out`,\n    };\n    return (\n        &lt;Transition timeout={500} in={true}&gt;\n          {(state) =&gt; (\n          &lt;div style={{ ...defaultStyle, ...transitionStyles[state] }}&gt;\n            {this.props.image}\n          &lt;/div&gt;\n          )}\n        &lt;/Transition&gt;\n    );\n  };\n}\n</code></pre>\n\n<p><code>&lt;div style={{ ...defaultStyle, ...transitionStyles[state] }}&gt;</code> is the line 75 flagged by the error message.</p>\n\n<p>I don't understand why this is causing the error, especially I have used similar code in other typescript modules.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 2197, "user_id": 1725871, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/06e1c4b46656313883eda6e96e9ab4e9?s=128&d=identicon&r=PG", "display_name": "JoSSte", "link": "https://stackoverflow.com/users/1725871/josste"}, "edited": false, "score": 0, "creation_date": 1548234635, "post_id": 54323516, "comment_id": 95465857, "body": "you might want to correct the typo: <code>Pyaload</code>  :-)"}, {"owner": {"reputation": 56338, "user_id": 4265352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lzAUc5pYb24/AAAAAAAAAAI/AAAAAAAAAGQ/q3h7bZUnqrs/photo.jpg?sz=128", "display_name": "axiac", "link": "https://stackoverflow.com/users/4265352/axiac"}, "edited": false, "score": 0, "creation_date": 1548234705, "post_id": 54323516, "comment_id": 95465895, "body": "<code>{}</code> is an object, isn&#39;t it? <code>any</code> means anything; an object, a number, a string, <code>undefined</code>, an array etc. Why do you think that <code>{}</code> is the same thing as <code>any</code>?"}, {"owner": {"reputation": 1175, "user_id": 5739448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PQblT.png?s=128&g=1", "display_name": "Whatatimetobealive", "link": "https://stackoverflow.com/users/5739448/whatatimetobealive"}, "edited": false, "score": 0, "creation_date": 1548235007, "post_id": 54323516, "comment_id": 95466053, "body": "I think you should check this answer <a href=\"https://stackoverflow.com/questions/18961203/any-vs-object\">stackoverflow.com/questions/18961203/any-vs-object</a>"}, {"owner": {"reputation": 1860, "user_id": 178918, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/637635c12c48284358e3f705ac46790b?s=128&d=identicon&r=PG", "display_name": "Stanislav Stoyanov", "link": "https://stackoverflow.com/users/178918/stanislav-stoyanov"}, "edited": false, "score": 0, "creation_date": 1548235016, "post_id": 54323516, "comment_id": 95466060, "body": "As I understand it <code>any</code> also could be <code>undefined</code> or <code>null</code>. So <code>object</code> and <code>any</code> are similar to me except that the compiler doesn&#39;t perform type checks for <code>any</code>. Am I wrong?"}, {"owner": {"reputation": 1860, "user_id": 178918, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/637635c12c48284358e3f705ac46790b?s=128&d=identicon&r=PG", "display_name": "Stanislav Stoyanov", "link": "https://stackoverflow.com/users/178918/stanislav-stoyanov"}, "edited": false, "score": 1, "creation_date": 1548235132, "post_id": 54323516, "comment_id": 95466122, "body": "The <code>Object</code> (with capital O) mainly describes that the object has the common javascript methods like <code>toString</code>"}, {"owner": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "edited": false, "score": 0, "creation_date": 1548235231, "post_id": 54323516, "comment_id": 95466176, "body": "Relevant isue on TypeScript&#39;s github : <a href=\"https://github.com/Microsoft/TypeScript/issues/8032\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/8032</a>"}, {"owner": {"reputation": 1175, "user_id": 5739448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PQblT.png?s=128&g=1", "display_name": "Whatatimetobealive", "link": "https://stackoverflow.com/users/5739448/whatatimetobealive"}, "edited": false, "score": 0, "creation_date": 1548235232, "post_id": 54323516, "comment_id": 95466178, "body": "<code>any</code> has no restrictions it can be anything, but <code>{}</code> has restrictions like an object it only allows you to access to members."}], "answers": [{"tags": [], "owner": {"reputation": 23752, "user_id": 1118978, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2rloq.jpg?s=128&g=1", "display_name": "Dervi\u015f Kay\u0131mba\u015f\u0131o\u011flu", "link": "https://stackoverflow.com/users/1118978/dervi%c5%9f-kay%c4%b1mba%c5%9f%c4%b1o%c4%9flu"}, "is_accepted": false, "score": 0, "last_activity_date": 1548236033, "creation_date": 1548236033, "answer_id": 54324050, "question_id": 54323516, "link": "https://stackoverflow.com/questions/54323516/as-type-in-typescript/54324050#54324050", "title": "&quot;{}&quot; as type in Typescript", "body": "<p><code>Object</code> is more restrictive than <code>any</code>. </p>\n\n<pre><code>const b: Object = {};\nb.myMethod();\n</code></pre>\n\n<p>won't compile (where <code>myMethod()</code> is not declared and known method). On the other hand, the method below compiles. </p>\n\n<pre><code>const c: any = {};\nc.myMethod();\n</code></pre>\n\n<p>So, <code>any</code> can be anything (including <code>null</code>/<code>undefined</code>) on the other hand, If you explicitly use <code>Object</code> you will only be able to use the properties that are defined on the <code>Object</code> class.</p>\n"}, {"tags": [], "owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1548236978, "creation_date": 1548236978, "answer_id": 54324349, "question_id": 54323516, "link": "https://stackoverflow.com/questions/54323516/as-type-in-typescript/54324349#54324349", "title": "&quot;{}&quot; as type in Typescript", "body": "<p>As others pointed out - once variable typed as <code>any</code>, compiler won't warn you if you'll try to access non existing properties or assign <strong>any</strong> value.</p>\n\n<p>Regarding <code>object</code> vs <code>{}</code> - <code>object</code> is a type that represents the non-primitive type, i.e. any thing that is not <code>number</code> | <code>string</code> | <code>boolean</code> | <code>symbol</code>.</p>\n\n<pre><code>const foo: object = 'test'; // error \nconst bar: {} = 'test'; // ok\n</code></pre>\n"}], "owner": {"reputation": 1860, "user_id": 178918, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/637635c12c48284358e3f705ac46790b?s=128&d=identicon&r=PG", "display_name": "Stanislav Stoyanov", "link": "https://stackoverflow.com/users/178918/stanislav-stoyanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1548236978, "creation_date": 1548234371, "last_edit_date": 1548235283, "question_id": 54323516, "link": "https://stackoverflow.com/questions/54323516/as-type-in-typescript", "title": "&quot;{}&quot; as type in Typescript", "body": "<p>What type is a variable declared as below. In what case is it useful?</p>\n\n<pre><code>let x: {}\n</code></pre>\n\n<p>In the following type alias what is the meaning of <code>{}</code>. Is it equivalent to <code>object</code> or <code>any</code>? Why you would want to use <code>{}</code> as type instead of <code>any</code>? Does <code>{}</code>, in this case mean \"instance\" of empty object? (does make sense to me)</p>\n\n<pre><code>type MessageHandler&lt;D, P&gt; = (data: D, payload: P) =&gt; void\ntype MessageHandlerGeneric = MessageHandler&lt;{}, any}\n\ninterface MessageHandlers {\n  [index: string]: MessageHandlerGeneric\n}\n\nlet handlers = MessageHandlers = {\n  handler1: (data: string, payload: Pyaload),\n  handler2: (data: Array&lt;string&gt;, payload: Payload)\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-material"], "answers": [{"tags": [], "owner": {"reputation": 177, "user_id": 11121833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a723d587464c11de9b4566db933f60f?s=128&d=identicon&r=PG&f=1", "display_name": "Ak777", "link": "https://stackoverflow.com/users/11121833/ak777"}, "is_accepted": false, "score": 0, "last_activity_date": 1590873152, "creation_date": 1590873152, "answer_id": 62108709, "question_id": 54323435, "link": "https://stackoverflow.com/questions/54323435/how-to-show-new-mat-progress-button-on-button-click/62108709#62108709", "title": "How to show new Mat-Progress Button on Button click", "body": "<p>I know this is a year old, but i came across this when searching for something else. And thought of fixing this. I used the same stackblitz url app and modified it now. </p>\n\n<p>Working app: <a href=\"https://angular-material-progressbar-autocomplete-bavr9a.stackblitz.io\" rel=\"nofollow noreferrer\">https://angular-material-progressbar-autocomplete-bavr9a.stackblitz.io</a></p>\n\n<p>code: <a href=\"https://stackblitz.com/edit/angular-material-progressbar-autocomplete-bavr9a\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-material-progressbar-autocomplete-bavr9a</a></p>\n\n<p>In summary: it was all simple to use the Material components and no need to create additional classes and logics. All changes are done at the html and i removed few unnecessary typescript logic methods. </p>\n"}], "owner": {"reputation": 1135, "user_id": 8880204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c01a3a55a3ca5f25a5bdedb2777d1e4e?s=128&d=identicon&r=PG", "display_name": "Saad Ahmed", "link": "https://stackoverflow.com/users/8880204/saad-ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1110, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1590873152, "creation_date": 1548234069, "last_edit_date": 1563819867, "question_id": 54323435, "link": "https://stackoverflow.com/questions/54323435/how-to-show-new-mat-progress-button-on-button-click", "title": "How to show new Mat-Progress Button on Button click", "body": "<p>I have a mat-table which displays list of Jobs.I have created a function to stop and re-run the Jobs.\nWhenever the user clicks on re-run a mat-progress bar is displayed that the Job is executing and the user can kill the Job by pressing the Stop Button.\nHowever I would like to display individual mat-progress bar for each running job.</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-material-progressbar-autocomplete-bavr9a?file=src%2Fapp%2Fsnak-bar.component.ts\" rel=\"nofollow noreferrer\">Stackblitz Link Here</a></p>\n\n<p>How can i do that?\nHTML Code: </p>\n\n<pre><code>&lt;div class=\"main-content\"&gt;\n&lt;ng-container *ngIf=\"displayProgBar\"&gt;\n    &lt;mat-toolbar&gt;\n        &lt;mat-progress-bar\n            mode=\"indeterminate\"\n            class=\"mat-progress-bar\"\n            color=\"primary\"\n        &gt;\n        &lt;/mat-progress-bar&gt;\n        &amp;nbsp;&amp;nbsp;\n        &lt;button\n            mat-icon-button\n            (click)=\"stop_exec_job2()\"\n            matTooltip=\"Stop Executing the Job\"\n        &gt;\n            &lt;!-- Edit icon for row --&gt;\n            &lt;i class=\"material-icons\" style=\"color:red\"&gt; stop &lt;/i&gt;\n        &lt;/button&gt;\n    &lt;/mat-toolbar&gt;\n&lt;/ng-container&gt;\n&lt;div class=\"card\"&gt;\n    &lt;div class=\"card-header\"&gt;\n        &lt;h5 class=\"title\"&gt;Job Execution Stats&lt;/h5&gt;\n    &lt;/div&gt;\n\n    &lt;mat-table [dataSource]=\"jobExecutionStat\"&gt;\n        &lt;!-- Id Column --&gt;\n        &lt;ng-container matColumnDef=\"id\"&gt;\n            &lt;mat-header-cell *matHeaderCellDef&gt; ID &lt;/mat-header-cell&gt;\n            &lt;mat-cell *matCellDef=\"let element\"&gt;{{ element.id }} &lt;/mat-cell&gt;\n        &lt;/ng-container&gt;\n\n        &lt;ng-container matColumnDef=\"exec_date\"&gt;\n            &lt;mat-header-cell *matHeaderCellDef&gt;\n                Execution Date\n            &lt;/mat-header-cell&gt;\n            &lt;mat-cell *matCellDef=\"let element\"\n                &gt;{{ element.exec_date }}\n            &lt;/mat-cell&gt;\n        &lt;/ng-container&gt;\n\n        &lt;!-- Weight Column --&gt;\n        &lt;ng-container matColumnDef=\"curr_time_period\"&gt;\n            &lt;mat-header-cell *matHeaderCellDef&gt;\n                Current Time Period\n            &lt;/mat-header-cell&gt;\n            &lt;mat-cell *matCellDef=\"let element\"\n                &gt;{{ element.curr_time_period }}\n            &lt;/mat-cell&gt;\n        &lt;/ng-container&gt;\n\n        &lt;!-- Symbol Column --&gt;\n        &lt;ng-container matColumnDef=\"prev_time_period\"&gt;\n            &lt;mat-header-cell *matHeaderCellDef&gt;\n                Previous Time Period\n            &lt;/mat-header-cell&gt;\n            &lt;mat-cell *matCellDef=\"let element\"\n                &gt;{{ element.prev_time_period }}\n            &lt;/mat-cell&gt;\n        &lt;/ng-container&gt;\n\n        &lt;ng-container matColumnDef=\"status\"&gt;\n            &lt;mat-header-cell *matHeaderCellDef&gt; Status &lt;/mat-header-cell&gt;\n            &lt;mat-cell *matCellDef=\"let element\"\n                &gt;{{ element.status }}\n            &lt;/mat-cell&gt;\n        &lt;/ng-container&gt;\n\n        &lt;ng-container matColumnDef=\"actions\"&gt;\n            &lt;mat-header-cell *matHeaderCellDef&gt; &lt;/mat-header-cell&gt;\n            &lt;mat-cell *matCellDef=\"let element; let index = index\"&gt;\n                &lt;button\n                    mat-icon-button\n                    (click)=\"stop_exec_job(element)\"\n                    matTooltip=\"Stop Executing the Job\"\n                    [disabled]=\"element.status == 'Completed'\"\n                &gt;\n                    &lt;!-- Edit icon for row --&gt;\n                    &lt;i class=\"material-icons\" style=\"color:red\"&gt; stop &lt;/i&gt;\n                &lt;/button&gt;\n                &lt;!-- Delete icon for row --&gt;\n                &lt;button\n                    mat-icon-button\n                    (click)=\"re_run_job(element)\"\n                    matTooltip=\"Re-Run the Job\"\n                    [disabled]=\"\n                        element.status == 'Running' ||\n                        element.status == 'Pending'\n                    \"\n                &gt;\n                    &lt;i class=\"material-icons\" style=\"color:green\"&gt;\n                        cached\n                    &lt;/i&gt;\n                &lt;/button&gt;\n            &lt;/mat-cell&gt;\n        &lt;/ng-container&gt;\n\n        &lt;mat-header-row\n            *matHeaderRowDef=\"jobExecStatDisplayedColumns\"\n        &gt;&lt;/mat-header-row&gt;\n        &lt;mat-row\n            *matRowDef=\"\n                let row;\n                columns: jobExecStatDisplayedColumns;\n                let element\n            \"\n            (click)=\"showProgressBar(element)\"\n        &gt;\n        &lt;/mat-row&gt;\n    &lt;/mat-table&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<p>Typescript Code: </p>\n\n<pre><code>import { Component, OnInit, \u0275Console } from \"@angular/core\"; \nimport { MatTableDataSource } from \"@angular/material\";\nimport { GlobalAppSateService } from \"../../services/globalAppSate.service\";\nimport { DataService } from \"../../services/data.service\";\nimport { SnakBarComponent } from \"../custom-components/snak-bar/snak- \nbar.component\";\n\n@Component({\nselector: \"app-job-execution-screen\",\ntemplateUrl: \"./job-execution-screen.component.html\",\nstyleUrls: [\"./job-execution-screen.component.scss\"]\n})\nexport class JobExecutionScreenComponent implements OnInit {\ndisplayProgBar:boolean = false;\n\njobExecStatDisplayedColumns = [\n    \"id\",\n    \"exec_date\",\n    \"prev_time_period\",\n    \"curr_time_period\",\n    \"status\",\n    \"actions\"\n];\npublic selectedElem : any;\n\njobExecutionStat = new MatTableDataSource&lt;Element&gt;(ELEMENT_DATA);\nconstructor(\n    private dataService: DataService,\n    public globalAppSateService: GlobalAppSateService,\n    private snakbar: SnakBarComponent\n) {}\nngOnInit() {\n    const project = JSON.parse(this.dataService.getObject(\"project\"));\n    if (project != null) {\n        this.globalAppSateService.onMessage(project);\n    }\n}\n\nstop_exec_job(element) {\n    if(element.status == 'Running' || element.status == 'Pending') {\n        this.displayProgBar = false;\n        this.snakbar.statusBar('Job Execution Stopped','Sucess');\n        element.status = 'Completed';\n    }\n}\n\nstop_exec_job2(){\n    this.stop_exec_job(this.selectedElem);\n    this.displayProgBar = false;\n\n}\n\nre_run_job(element) {\n    if(element.status == 'Completed') {\n        this.snakbar.statusBar('Job Execution Started','Sucess');\n        element.status = 'Running' ;\n    }\n}\nshowProgressBar(element) {\n    this.selectedElem = element;\n    if(element.status == 'Running' || element.status == 'Pending'){\n        this.displayProgBar = true\n    }\n\n\n\n}\n}\nconst ELEMENT_DATA: Element[] = [\n{\n    id: 1,\n    exec_date: \"17-01-2016\",\n    prev_time_period: \"2016-04,2016-05,2016-06\",\n    curr_time_period: \"2016-08\",\n    status: \"Completed\"\n},\n{\n    id: 2,\n    exec_date: \"17-01-2017\",\n    prev_time_period: \"2017-04,2017-05,2017-06\",\n    curr_time_period: \"2017-08\",\n    status: \"Running\"\n},\n{\n    id: 3,\n    exec_date: \"27-07-2017\",\n    prev_time_period: \"2017-45,2017-46,2017-47\",\n    curr_time_period: \"2018-01,2018-02\",\n    status: \"Pending\"\n},\n{\n    id: 4,\n    exec_date: \"17-10-2018\",\n    prev_time_period: \"2017-30,2017-31,2017-32\",\n    curr_time_period: \"2018-01,2018-02\",\n    status: \"Completed\"\n},\n{\n    id: 5,\n    exec_date: \"21-01-2018\",\n    prev_time_period: \"2016-01,2016-02,2016-03,2016-04\",\n    curr_time_period: \"2016-52\",\n    status: \"Pending\"\n},\n{\n    id: 6,\n    exec_date: \"17-01-2018\",\n    prev_time_period: \"2017-31,2017-32,2017-33,2017-34\",\n    curr_time_period: \"2017-52\",\n    status: \"Running\"\n}\n];\nexport interface Element {\nid: number;\nexec_date: string;\nprev_time_period: string;\ncurr_time_period: string;\nstatus: string;\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "jasmine", "karma-jasmine"], "comments": [{"owner": {"reputation": 4779, "user_id": 8105437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CURix.jpg?s=128&g=1", "display_name": "dmcgrandle", "link": "https://stackoverflow.com/users/8105437/dmcgrandle"}, "edited": false, "score": 0, "creation_date": 1548281131, "post_id": 54323361, "comment_id": 95490094, "body": "Does MachineComponent explicitly extend CoreComponent, or is CoreComponent just a parent component communicating with Inputs and Outputs?"}, {"owner": {"reputation": 1333, "user_id": 2903069, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/654a2e4a2ba7e1c688e94e050a1b84a0?s=128&d=identicon&r=PG&f=1", "display_name": "Shashi Ranjan", "link": "https://stackoverflow.com/users/2903069/shashi-ranjan"}, "reply_to_user": {"reputation": 4779, "user_id": 8105437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CURix.jpg?s=128&g=1", "display_name": "dmcgrandle", "link": "https://stackoverflow.com/users/8105437/dmcgrandle"}, "edited": false, "score": 0, "creation_date": 1548313390, "post_id": 54323361, "comment_id": 95497983, "body": "No It do not extends."}], "owner": {"reputation": 1333, "user_id": 2903069, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/654a2e4a2ba7e1c688e94e050a1b84a0?s=128&d=identicon&r=PG&f=1", "display_name": "Shashi Ranjan", "link": "https://stackoverflow.com/users/2903069/shashi-ranjan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 278, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548234097, "creation_date": 1548233810, "last_edit_date": 1548234097, "question_id": 54323361, "link": "https://stackoverflow.com/questions/54323361/prevent-calling-parent-route-ngoninit-method-for-any-child-component-test", "title": "Prevent calling parent route ngOnInit method for any child component test", "body": "<p>I am writing tests for my angular component. I have one parent component and a child component. In parent component's ngOnInit I am calling a back-end function which require authentication. While testing child component I do not want to load or I want to prevent ngOnInit of parent component.</p>\n\n<p>A part of my routes look like:</p>\n\n<pre><code>{\n    path: 'core',\n    component: CoreComponent,\n    children: [\n        { path: '', redirectTo: 'home', pathMatch: 'full' },\n        { path: 'home', component: HomeComponent },\n        { \n            path: 'endpoint',\n            component: EndpointComponent,\n            children: [\n                { path: '', redirectTo: 'machine', pathMatch: 'full' },\n                { path: 'machine', component: MachineComponent }\n            ]\n        }\n    ]\n}\n</code></pre>\n\n<p>Here I am testing MachineComponent. And In CoreComponent's ngOnInit I am calling back-end function. And I want to prevent this while testing MachineComponent.</p>\n\n<pre><code>ngOnInit() {\n    this.getMyDetails();\n}\n</code></pre>\n\n<p>My test class look like:</p>\n\n<pre><code>describe('MachineComponent', () =&gt; {\n  let component: MachineComponent;\n  let endpointService: EndpointService;\n  let fixture: ComponentFixture&lt;MachineComponent&gt;;\n\n  let ep_data: any = {\"name\":\"machine_ep\"};\n\n  beforeEach(async(() =&gt; {\n    TestBed.configureTestingModule({\n      imports: [\n        BrowserAnimationsModule,\n        BrowserModule,\n        FormsModule,\n        HttpClientModule,\n        CommonModule,\n        RouterTestingModule.withRoutes([{ path: 'machine', component: MachineComponent }])\n      ],\n      declarations: [ MachineComponent ],\n      providers: [\n        EndpointService\n      ],\n      schemas: [ NO_ERRORS_SCHEMA ]\n    })\n    .compileComponents();\n  }));\n\n  beforeEach(() =&gt; {\n    fixture = TestBed.createComponent(MachineComponent);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n    endpointService = TestBed.get(EndpointService);\n    spyOn(endpointService, 'getEndpoints').and.returnValue(of([ep_data]));\n  });\n\n  it('should get endpoints', () =&gt; {\n    component.getEndpoints();\n    expect(component.endpoints[0].name).toBe(\"machine_ep\");\n    expect(endpointService.getEndpoints).toHaveBeenCalled();\n  });\n\n});\n</code></pre>\n\n<p>In my interceptor I am redirecting to login route if any service call fail with 401 code.</p>\n\n<p>My test is failing with error:</p>\n\n<pre><code>HeadlessChrome 70.0.3538 (Linux 0.0.0) ERROR: 'Unhandled Promise rejection:', 'Cannot match any routes. URL Segment: 'login'', '; Zone:', 'ProxyZone', '; Task:', 'Promise.then', '; Value:', Error: Cannot match any routes. URL Segment: 'login'\nError: Cannot match any routes. URL Segment: 'login'\n</code></pre>\n\n<p>How I can escape out of this error?</p>\n"}, {"tags": ["typescript", "visual-studio-code"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 3, "creation_date": 1548233538, "post_id": 54323109, "comment_id": 95465245, "body": "Not 100% duplicate, but the explanation is the same as here: <a href=\"https://stackoverflow.com/questions/48626568/why-boolean-becomes-true/48627130#48627130\" title=\"why boolean becomes true\">stackoverflow.com/questions/48626568/why-boolean-becomes-tru&zwnj;&#8203;e/&hellip;</a>. Basically control flow analysis limitation, use   <code>let newStatus = Example.First as Example;</code> instead"}, {"owner": {"reputation": 578, "user_id": 2929851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6020d29e8659289aa274aee4a9e2283a?s=128&d=identicon&r=PG&f=1", "display_name": "Danie A", "link": "https://stackoverflow.com/users/2929851/danie-a"}, "edited": false, "score": 3, "creation_date": 1548233708, "post_id": 54323109, "comment_id": 95465335, "body": "post as answer?"}], "answers": [{"tags": [], "owner": {"reputation": 11515, "user_id": 11569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d629c7d5d080f9a20200db33f63bca0?s=128&d=identicon&r=PG", "display_name": "Dan F", "link": "https://stackoverflow.com/users/11569/dan-f"}, "is_accepted": true, "score": -1, "last_activity_date": 1555636508, "creation_date": 1555636508, "answer_id": 55755447, "question_id": 54323109, "link": "https://stackoverflow.com/questions/54323109/operator-will-always-return-false-since-the-types-have-no-overlap/55755447#55755447", "title": "operator === will always return &#39;false&#39; since the types have no overlap", "body": "<p>As per the comment by @titian-cernicova-dragomir and the answer on <a href=\"https://stackoverflow.com/questions/48626568/why-boolean-becomes-true/48627130#48627130\">Why boolean becomes true?</a> you can put a casting operator in to force the compiler to treat the enum as the enum, not just the last value of the enum it thought it was assigned.</p>\n\n<p>So, in your case, you can change line 8 to</p>\n\n<pre><code>let newStatus: Example = Example.First as Example;\n</code></pre>\n\n<p>Or, if that doesn't fix it, you can change the comparison itself</p>\n\n<pre><code>if (newStatus === (Example.Second as Example)) {\n  // do something\n}\n</code></pre>\n\n<p>I prefer to change the comparison as it is the line that the compiler is barfing over, but it entirely depends on how many comparisons you have vs how many assignments you have and which feels more understandable to you.</p>\n"}, {"tags": [], "owner": {"reputation": 190, "user_id": 4984818, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/LSiUQ.jpg?s=128&g=1", "display_name": "Kamran", "link": "https://stackoverflow.com/users/4984818/kamran"}, "is_accepted": false, "score": 0, "last_activity_date": 1608296464, "creation_date": 1608296464, "answer_id": 65357512, "question_id": 54323109, "link": "https://stackoverflow.com/questions/54323109/operator-will-always-return-false-since-the-types-have-no-overlap/65357512#65357512", "title": "operator === will always return &#39;false&#39; since the types have no overlap", "body": "<p>I know, I am bit late but alternate solution to your problem is the ES6 <code>includes</code> method to check the condition with string, type or enums in typescript. For better understanding see the code.</p>\n<pre><code>enum Example {\n  First = &quot;First&quot;,\n  Second = &quot;Second&quot;\n}\n\nlet a = [1, 2];\n\nlet newStatus: Example = Example.First;\n\na.forEach(i =&gt; {\n  newStatus = Example.First;\n});\n\nif (newStatus.includes(Example.Second)) {\n  \n}\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 5930497, "user_type": "registered", "profile_image": "https://graph.facebook.com/952232721533417/picture?type=large", "display_name": "Ayush Agrawal", "link": "https://stackoverflow.com/users/5930497/ayush-agrawal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12098, "favorite_count": 1, "accepted_answer_id": 55755447, "answer_count": 2, "score": 7, "last_activity_date": 1608296464, "creation_date": 1548232873, "question_id": 54323109, "link": "https://stackoverflow.com/questions/54323109/operator-will-always-return-false-since-the-types-have-no-overlap", "title": "operator === will always return &#39;false&#39; since the types have no overlap", "body": "<p>I have this code</p>\n\n<pre><code>enum Example {\n  First = \"First\",\n  Second = \"Second\"\n}\n\nlet a = [1, 2];\n\nlet newStatus: Example = Example.First;\n\na.forEach(i =&gt; {\n  newStatus = Example.Second;\n});\n\nif (newStatus === Example.Second) {\n  // do something\n}\n</code></pre>\n\n<p>Expected: No errors</p>\n\n<p>Actual: Error: [ts] This condition will always return 'false' since the types 'Example.First' and 'Example.Second' have no overlap. [2367]</p>\n"}, {"tags": ["html", "angular", "typescript", "rxjs", "observable"], "answers": [{"comments": [{"owner": {"reputation": 2057, "user_id": 5417542, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/f7d0bd08e0acd04e677810626c43a170?s=128&d=identicon&r=PG&f=1", "display_name": "user5417542", "link": "https://stackoverflow.com/users/5417542/user5417542"}, "edited": false, "score": 0, "creation_date": 1548233489, "post_id": 54323150, "comment_id": 95465215, "body": "Well they parent direct child components so I can&#39;t do anything with input. Also what I need to do is to basically push a function to the parent, who subscribes, so the parent/service can execute all registered functions and the manually save."}, {"owner": {"reputation": 780, "user_id": 7858230, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mGGKM.jpg?s=128&g=1", "display_name": "Gourishankar", "link": "https://stackoverflow.com/users/7858230/gourishankar"}, "reply_to_user": {"reputation": 2057, "user_id": 5417542, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/f7d0bd08e0acd04e677810626c43a170?s=128&d=identicon&r=PG&f=1", "display_name": "user5417542", "link": "https://stackoverflow.com/users/5417542/user5417542"}, "edited": false, "score": 0, "creation_date": 1548233739, "post_id": 54323150, "comment_id": 95465350, "body": "This might help, please have a look : <a href=\"http://plnkr.co/edit/Z34dTgCyyZO0fjYG75xO?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/Z34dTgCyyZO0fjYG75xO?p=preview</a>"}, {"owner": {"reputation": 2057, "user_id": 5417542, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/f7d0bd08e0acd04e677810626c43a170?s=128&d=identicon&r=PG&f=1", "display_name": "user5417542", "link": "https://stackoverflow.com/users/5417542/user5417542"}, "edited": false, "score": 0, "creation_date": 1548235592, "post_id": 54323150, "comment_id": 95466392, "body": "Looked into it, doesn&#39;t seem to exactly solve my problem. I updated my question"}], "tags": [], "owner": {"reputation": 780, "user_id": 7858230, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mGGKM.jpg?s=128&g=1", "display_name": "Gourishankar", "link": "https://stackoverflow.com/users/7858230/gourishankar"}, "is_accepted": false, "score": 0, "last_activity_date": 1548233049, "creation_date": 1548233049, "answer_id": 54323150, "question_id": 54323039, "link": "https://stackoverflow.com/questions/54323039/how-to-handle-multiple-subscriptions-on-the-same-subject/54323150#54323150", "title": "How to handle multiple subscriptions on the same subject?", "body": "<p>Looking into the problem one of the solution could be:</p>\n\n<ol>\n<li>Subscribe at the parent component and create input property in all of the child component for passing the data.</li>\n<li>Then on ngOnChanges event of each child component do the stuffs you want to.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 2057, "user_id": 5417542, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/f7d0bd08e0acd04e677810626c43a170?s=128&d=identicon&r=PG&f=1", "display_name": "user5417542", "link": "https://stackoverflow.com/users/5417542/user5417542"}, "edited": false, "score": 0, "creation_date": 1548235221, "post_id": 54323261, "comment_id": 95466170, "body": "Unfortunately I have no access to the external service sind it is a library. And the doSave I need to do in the parent component. I will update my question"}, {"owner": {"reputation": 8097, "user_id": 8618350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f100e1a27815164cb9a9bf00487858?s=128&d=identicon&r=PG&f=1", "display_name": "Fan Cheung", "link": "https://stackoverflow.com/users/8618350/fan-cheung"}, "reply_to_user": {"reputation": 2057, "user_id": 5417542, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/f7d0bd08e0acd04e677810626c43a170?s=128&d=identicon&r=PG&f=1", "display_name": "user5417542", "link": "https://stackoverflow.com/users/5417542/user5417542"}, "edited": false, "score": 0, "creation_date": 1548258298, "post_id": 54323261, "comment_id": 95479657, "body": "updated the answer, but if you have more than one interceptor there needs to a more complex setup because it is one to many relationship with execution sequence to be considered as well."}], "tags": [], "owner": {"reputation": 8097, "user_id": 8618350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f100e1a27815164cb9a9bf00487858?s=128&d=identicon&r=PG&f=1", "display_name": "Fan Cheung", "link": "https://stackoverflow.com/users/8618350/fan-cheung"}, "is_accepted": false, "score": 0, "last_activity_date": 1548258288, "last_edit_date": 1548258288, "creation_date": 1548233459, "answer_id": 54323261, "question_id": 54323039, "link": "https://stackoverflow.com/questions/54323039/how-to-handle-multiple-subscriptions-on-the-same-subject/54323261#54323261", "title": "How to handle multiple subscriptions on the same subject?", "body": "<p>You can create a shared parent service to inject into both parent and child component for things to happen</p>\n\n<pre><code>// sharedService with external service injected\n// you can take interceptor function as an param \nthis.onSave=(interceptor)=&gt;this.externalService.outcome.pipe(filter(event=&gt;event.id === \"SAVE\"),\nmap(res=&gt;interceptor(res))\n)\n</code></pre>\n\n<p>In your parent or child component you can always hook up to these observable to do what ever you want</p>\n\n<pre><code>// pass in interceptor\nthis.sharedService.onSave(doSomethingBeforeSave).subscribe()\n</code></pre>\n"}], "owner": {"reputation": 2057, "user_id": 5417542, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/f7d0bd08e0acd04e677810626c43a170?s=128&d=identicon&r=PG&f=1", "display_name": "user5417542", "link": "https://stackoverflow.com/users/5417542/user5417542"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 586, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1548258288, "creation_date": 1548232607, "last_edit_date": 1548235561, "question_id": 54323039, "link": "https://stackoverflow.com/questions/54323039/how-to-handle-multiple-subscriptions-on-the-same-subject", "title": "How to handle multiple subscriptions on the same subject?", "body": "<p>I have following scenario: I have child components, Component A and Component B, who listen on the same Subject from an external service, like this:</p>\n\n<pre><code>this.externalService.outcome.subscribe((event)=&gt;{\n  event.preventDefault();\n  if(event.id === \"SAVE\"){\n    // Do something individudal...\n    this.externalService.save();\n  }\n})\n</code></pre>\n\n<p>Basically I am intercepting the outcome Subject, do something specific for the current component and then manually trigger the save action.</p>\n\n<p>Now having this piece of code in multiple components can get messy and can lead to errors. I need this subscription in all of my components, because each of them does something individual.</p>\n\n<p>How can I refactor this, so that a parent component/ a shared service class manages all the subscriptions? So for example in the child components I just define a method what should be done and then I subscribe to the <code>externalService.outcome</code> in my parent component/ shared service and basically execute all registered functions?</p>\n\n<p>EDIT: The thing is I also need the context of the current child component.</p>\n\n<p>EDIT2: To sum it up this should be the sequence:</p>\n\n<p>External Service (Library) calls outcome.next() \n--> My Parent component who listens to the outcome Subject intercepts:</p>\n\n<pre><code>this.externalService.outcome.subscribe((event)=&gt;{\n  event.preventDefault();\n  if(event.id === \"SAVE\"){\n    //SOMEHOW ENSURE ALL CHILD COMPONENTS ARE TRIGGERED\n  }\n //manually trigger save outcome\n this.externalService.save();\n });\n</code></pre>\n\n<p>--> Inside the subscription I somehow need to trigger my child components. For example every childcomponent has a method \"domeSomethingBeforeSave()\". But I don't know my childcomponents so I need to define some kind of registerfunction to tell my parent component, which functions should get called.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1548233122, "creation_date": 1548233122, "answer_id": 54323171, "question_id": 54323030, "link": "https://stackoverflow.com/questions/54323030/partially-infer-generic-index-type-from-arguments/54323171#54323171", "title": "Partially infer generic index type from arguments", "body": "<p>Partial inference is not supported in typescript up at least 3.3 (the next version at the time of writing. </p>\n\n<p>There is a proposal to allow partial inference planned for 3.4 (as detailed <a href=\"https://github.com/Microsoft/TypeScript/pull/26349\" rel=\"nofollow noreferrer\">here</a>), but it has slipped back since at least 3.1 so when it makes it in is uncertain. With this proposal you might be able to write (I say might as I am speculating based on the behavior described in the issue);</p>\n\n<pre><code>const getBorderStyle = createStyleUtilForProp&lt;Props, _&gt;('border', (border) =&gt; ({\n    borderWidth: border,\n    borderColor: '#000000',\n}));\n</code></pre>\n\n<p>Until partial inference is supported the usual workaround in such cases is to use a function that returns a function. On the first call you specify <code>T</code> and on the second one the compiler infers <code>K</code>:</p>\n\n<pre><code>export function createStyleUtilForProp&lt;TProps&gt;() {\n\n    return function &lt;K extends keyof TProps&gt;(\n        prop: K,\n        style: ((val: TProps[K]) =&gt; RNStyle) | RNStyle,\n    ) {\n        return (props: TProps) =&gt; {\n            if (typeof style === 'function') {\n                return style(props[prop]);\n            }\n            return props[prop] ? style : null;\n        }\n    }\n}\ntype Props = {\n    border?: number;\n    color?: string,\n}\n\nconst getBorderStyle = createStyleUtilForProp&lt;Props&gt;()('border', (border) =&gt; ({\n    borderWidth: border,\n    borderColor: '#000000',\n}));\n</code></pre>\n"}], "owner": {"reputation": 60, "user_id": 5573648, "user_type": "registered", "profile_image": "https://graph.facebook.com/1043954252281725/picture?type=large", "display_name": "Hammad Jutt", "link": "https://stackoverflow.com/users/5573648/hammad-jutt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 54323171, "answer_count": 1, "score": 2, "last_activity_date": 1548233122, "creation_date": 1548232573, "question_id": 54323030, "link": "https://stackoverflow.com/questions/54323030/partially-infer-generic-index-type-from-arguments", "title": "Partially infer generic index type from arguments", "body": "<p>I have created this helper function:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export function createStyleUtilForProp&lt;TProps, K extends keyof TProps&gt;(\n  prop: K,\n  style: ((val: TProps[K]) =&gt; RNStyle) | RNStyle,\n) {\n  return (props: TProps) =&gt; {\n    if (typeof style === 'function') {\n      return style(props[prop]);\n    }\n    return props[prop] ? style : null;\n  }\n}\n</code></pre>\n\n<p>And I want to use it as follows:</p>\n\n<pre><code>type Props = {\n  border?: number;\n  color?: string,\n}\n\nconst getBorderStyle = createStyleUtilForProp&lt;Props&gt;('border', (border) =&gt; ({\n  borderWidth: border,\n  borderColor: '#000000',\n}));\n</code></pre>\n\n<hr>\n\n<p>However, this throws the following error:\n<code>TS2558: Expected 2 type arguments, but got 1.</code></p>\n\n<p>And the only way to fix it is by adding the type of the index prop:</p>\n\n<pre><code>const getBorderStyle = createStyleUtilForProp&lt;Props, 'border'&gt;('border', ...);\n</code></pre>\n\n<p>I don't like having to put <code>'border'</code> twice. Is there any way TS can infer the index type from the arguments?</p>\n"}, {"tags": ["typescript", "generics", "types", "interface", "typescript2.0"], "comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1548231200, "post_id": 54322612, "comment_id": 95463969, "body": "If <code>base</code> doesn&#39;t allow arbitrary keys but only <code>title</code> and <code>age</code>, then it&#39;s not an <code>IObject</code>. Why declare it as one? Separately, what&#39;s the purpose of <code>StringValue&lt;T&gt;</code>? <i>(not my downvote)</i>"}, {"owner": {"reputation": 1265, "user_id": 862567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KzqUX.png?s=128&g=1", "display_name": "Eduard Jacko", "link": "https://stackoverflow.com/users/862567/eduard-jacko"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1548231591, "post_id": 54322612, "comment_id": 95464156, "body": "updated by suggested naming. In simple example that&#39;s not an issue. However in complex structure like <code>base = { title: { value: &#39;&#39;, valid: () =&gt; true }}</code> I want make sure to make a contract between values and another interface. <code>IObject { [K: string]: IProperty }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1265, "user_id": 862567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KzqUX.png?s=128&g=1", "display_name": "Eduard Jacko", "link": "https://stackoverflow.com/users/862567/eduard-jacko"}, "edited": false, "score": 0, "creation_date": 1548234031, "post_id": 54322720, "comment_id": 95465507, "body": "Thats what I&#39;m doing in a complex setup, however I run into issue on generic function ReturnType. So this doesn&#39;t compile <code>ReturnType&lt;typeof createObject&lt;T&gt;&gt;</code>. I guess that&#39;s another issue. Thanks for clarify what can be done here."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 1265, "user_id": 862567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KzqUX.png?s=128&g=1", "display_name": "Eduard Jacko", "link": "https://stackoverflow.com/users/862567/eduard-jacko"}, "edited": false, "score": 0, "creation_date": 1548234158, "post_id": 54322720, "comment_id": 95465591, "body": "@EduardJacko you can&#39;t get the type of a generic function with type parameters applied. There is no syntax for that."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1548231447, "creation_date": 1548231447, "answer_id": 54322720, "question_id": 54322612, "link": "https://stackoverflow.com/questions/54322612/how-to-remove-index-from-typeof-object-in-typescript/54322720#54322720", "title": "How to remove index from typeof object in typescript", "body": "<p>You can't really do that because <code>Base</code> looses the information about what was assigned to it once you explicitly type it as <code>IObject</code>. It's not the case that <code>Base</code> will have the index signature <strong>and</strong> the property names in it's type. The type of <code>Base</code> is <code>IObject</code> which is an index signature and nothing more.</p>\n\n<p>My guess is you want to constrain <code>Base</code> to have only number properties, but you want to capture the actual type of the object literal you assign to it. Variables alone can't do this, you need to use an extra function. Functions can have type parameters that are constrained but inferred based on actual arguments. </p>\n\n<pre><code>interface IObject {\n    [K: string]: number;\n}\nfunction createObject&lt;T extends IObject&gt;(o: T) {\n    return o;\n}\nconst base = createObject({\n    title: 0,\n    age: 3\n});\ntype StringValue&lt;T&gt; = { [K in keyof T]: string };  // &lt;-- How to remove object index\n\n\nconst child: StringValue&lt;typeof base&gt; = {\n    test: \"\", // &lt;-- error\n    title: '', // &lt;-- this is OK\n    age: \"\"\n};\n</code></pre>\n"}], "owner": {"reputation": 1265, "user_id": 862567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KzqUX.png?s=128&g=1", "display_name": "Eduard Jacko", "link": "https://stackoverflow.com/users/862567/eduard-jacko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 451, "favorite_count": 0, "accepted_answer_id": 54322720, "answer_count": 1, "score": 0, "last_activity_date": 1548231447, "creation_date": 1548231042, "last_edit_date": 1548231318, "question_id": 54322612, "link": "https://stackoverflow.com/questions/54322612/how-to-remove-index-from-typeof-object-in-typescript", "title": "How to remove index from typeof object in typescript", "body": "<p>using <code>[key: string]</code> will make my type accepting any key. I'm trying to avoid it because in some place I redefining types for property. Consider following.</p>\n\n<pre><code>interface IObject {\n  [K: string]: number;\n}\n\nconst base: IObject = {\n  title: 0,\n  age: 3\n};\ntype StringValue&lt;T&gt; = { [K in keyof T]: string };  // &lt;-- How to remove object index\n\n\nconst child: StringValue&lt;typeof base&gt; = {\n  test: \"\" // &lt;-- should not be possible\n  title: '' // &lt;-- this is OK\n};\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript", "typeorm"], "owner": {"reputation": 127, "user_id": 10207166, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GhDb1qSSpYk/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7r-C4b8ZDxWqNi7Aw37QNMpMiaZsg/mo/photo.jpg?sz=128", "display_name": "Vitalii", "link": "https://stackoverflow.com/users/10207166/vitalii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 459, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1548230968, "creation_date": 1548230968, "question_id": 54322592, "link": "https://stackoverflow.com/questions/54322592/typeorm-how-query-by-relation", "title": "Typeorm: how query by relation", "body": "<p>How can I query by relation using Active Record pattern ?</p>\n\n<p>I have 2 entities and want get first by querying second:</p>\n\n<p>Role:</p>\n\n<pre><code>import { User } from \"./User\";\n\n@Entity({ name: \"roles\" })\nexport class Role extends BaseEntity {\n  @PrimaryGeneratedColumn()\n  public id: number;\n\n  @Column()\n  public name: string;\n\n  @CreateDateColumn()\n  public createdAt: string;\n\n  @UpdateDateColumn()\n  public updatedAt: string;\n\n  @OneToMany(() =&gt; User, user =&gt; user.role)\n  public users: User[];\n}\n</code></pre>\n\n<p>User:</p>\n\n<pre><code>@Entity({ name: \"users\" })\nexport class User extends BaseEntity {\n  @PrimaryGeneratedColumn()\n  public id: number;\n\n  @Column()\n  public email: string;\n\n  @Column()\n  public name?: string;\n\n  @Column({ select: false })\n  public passwordSalt: string;\n\n  @Column({ select: false })\n  public passwordHash: string;\n\n  @CreateDateColumn()\n  public createdAt: string;\n\n  @UpdateDateColumn()\n  public updatedAt: string;\n\n  @Column()\n  public roleId: number;\n\n  @ManyToOne(() =&gt; Role, role =&gt; role.users, {\n    eager: true\n  })\n  @JoinColumn()\n  public role: Role;\n}\n</code></pre>\n\n<p>I want to query user by <code>Role.name</code> and order by <code>Role.createdAt</code>, I write <code>buildQuery</code> function that build query for user model and pass query to <code>findAndCount</code></p>\n\n<p>buildQuery:</p>\n\n<pre><code>export default function buildQuery ({\n  name,\n  email,\n  roleName,\n  orderByRoleCreatedAt,\n  limit,\n  offset\n}: IUsersQuery) {\n  const query = {};\n\n  if (name) {\n    set(query, \"where.name\", Like(`${name}%`));\n  }\n\n  // how find users by user.role.name ???\n  if (roleName) {\n    set(query, \"where.role.name\", Like(`${roleName}%`));\n  }\n\n // how order users by user.role.createdAt ASC ???\n  if (orderByRoleCreatedAt) {\n    set(query, \"order.role.createdAt\", orderByRoleCreatedAt);\n  }\n\n  if (email) {\n    set(query, \"where.email\", Like(`${email}%`));\n  }\n\n  set(query, \"skip\", offset);\n  set(query, \"take\", limit);\n\n  return query;\n}\n\nUser.findAndCount(buildQuery(params));\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-material", "angular-cdk"], "answers": [{"tags": [], "owner": {"reputation": 535, "user_id": 10889444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13ed5fd3924c422cb1fe173bb6466d54?s=128&d=identicon&r=PG&f=1", "display_name": "De Wet van As", "link": "https://stackoverflow.com/users/10889444/de-wet-van-as"}, "is_accepted": true, "score": 1, "last_activity_date": 1548914742, "creation_date": 1548914742, "answer_id": 54454293, "question_id": 54322155, "link": "https://stackoverflow.com/questions/54322155/how-to-delay-opening-in-cdk-overplay/54454293#54454293", "title": "How to delay opening in CDK overplay?", "body": "<p>Resolved by opening the overlay without delay while creating the delay effect using css animation/keyframes:</p>\n\n<pre><code>.container {\n    animation: fadeIn 1.5s linear;\n}\n\n@keyframes fadeIn {\n    0% {\n        opacity: 0;\n    }\n\n    75% {\n        opacity: 0;\n    }\n\n    100% {\n        opacity: 1;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 535, "user_id": 10889444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13ed5fd3924c422cb1fe173bb6466d54?s=128&d=identicon&r=PG&f=1", "display_name": "De Wet van As", "link": "https://stackoverflow.com/users/10889444/de-wet-van-as"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 642, "favorite_count": 0, "accepted_answer_id": 54454293, "answer_count": 1, "score": 1, "last_activity_date": 1559057994, "creation_date": 1548229083, "last_edit_date": 1559057994, "question_id": 54322155, "link": "https://stackoverflow.com/questions/54322155/how-to-delay-opening-in-cdk-overplay", "title": "How to delay opening in CDK overplay?", "body": "<p>I'm using the CDK Overlay to display a \"popover\" when the user hovers over a list item. I currently open the popover when the mouseenter event fires. </p>\n\n<p>My code:</p>\n\n<pre><code>//component.html\n&lt;mat-list-item *ngFor=\"let item of itemList\" (mouseenter)=\"showItemDetail(item)\"&gt;\n    {{item.display}}\n&lt;/mat-list-item&gt;\n\n\n\n\n//component.ts\nshowItemDetail(item: IItemDto, event: MouseEvent) {\n        this.hideItemDetail(); // Closes any open overlays\n        this.itemDetailOverlayRef = this.itemDetailOverlayService.open(item);\n}\n\n\n\n//itemDetailOverlayService.ts\nopen(item: IItemDto) {\n\n        // Returns an OverlayRef (which is a PortalHost)\n\n        const overlayRef = this.createOverlay(item);\n        const dialogRef = new ItemDetailOverlayRef(overlayRef);\n        // Create ComponentPortal that can be attached to a PortalHost\n        const itemDetailPortal = new ComponentPortal(ItemDetailOverlayComponent);\n        const componentInstance = this.attachDialogContainer(overlayRef, item, dialogRef);\n        // Attach ComponentPortal to PortalHost\n        return dialogRef;\n}\n\n\nprivate attachDialogContainer(overlayRef: OverlayRef, item: IItemDto, dialogRef: ItemDetailOverlayRef) {\n        const injector = this.createInjector(item, dialogRef);\n        const containerPortal = new ComponentPortal(ItemDetailOverlayComponent, null, injector);\n        const containerRef: ComponentRef&lt;ItemDetailOverlayComponent&gt; = overlayRef.attach(containerPortal);\n        return containerRef.instance;\n}\n</code></pre>\n\n<p>Note that my overlay is dependent on data from list item data.</p>\n\n<p>How can I delay <code>showItemDetail()</code> to only open the overlay after 2s? Keep in mind that only one popover can be open at a time.</p>\n\n<p><code>setTimeout()</code> obviously won't work as multiple popovers will be opened if the user drags the mouse across the list of items.</p>\n"}, {"tags": ["typescript", "vuejs2", "vuetify.js"], "comments": [{"owner": {"reputation": 14690, "user_id": 1981247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yhKmV.jpg?s=128&g=1", "display_name": "Traxo", "link": "https://stackoverflow.com/users/1981247/traxo"}, "edited": false, "score": 0, "creation_date": 1548234228, "post_id": 54321768, "comment_id": 95465632, "body": "&gt; <code>The thing is the v-select component does only except Array for the :items attribute.</code>  - What do you mean &quot;the thing&quot;? What&#39;s wrong with it? Just pass the array."}, {"owner": {"reputation": 1617, "user_id": 8769328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/893c61079c7f944dbb51d3e3f211441c?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy Walters", "link": "https://stackoverflow.com/users/8769328/jeremy-walters"}, "reply_to_user": {"reputation": 14690, "user_id": 1981247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yhKmV.jpg?s=128&g=1", "display_name": "Traxo", "link": "https://stackoverflow.com/users/1981247/traxo"}, "edited": false, "score": 1, "creation_date": 1548237185, "post_id": 54321768, "comment_id": 95467366, "body": "Yes I know it accepts array. The problem was that the array is not ready at runtime, but fetched asynchronously. It would have been nice if it accepted async promise type. But got a work around if you look at the answer."}, {"owner": {"reputation": 14690, "user_id": 1981247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yhKmV.jpg?s=128&g=1", "display_name": "Traxo", "link": "https://stackoverflow.com/users/1981247/traxo"}, "edited": false, "score": 0, "creation_date": 1548237418, "post_id": 54321768, "comment_id": 95467532, "body": "Yes, and in the answer it seems you set <code>lookups</code> as an object (so your question is not clear actually without looking at the answer). But I still don&#39;t understand why don&#39;t you set it as array (i.e. <code>lookups = []</code>), and then in your fetch <code>this.lookups = data</code>? Thus you always pass array, and also there is <code>loading</code> prop which could be true for example when array is empty (if you expect results always) or you you could set additional loading data."}, {"owner": {"reputation": 1617, "user_id": 8769328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/893c61079c7f944dbb51d3e3f211441c?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy Walters", "link": "https://stackoverflow.com/users/8769328/jeremy-walters"}, "reply_to_user": {"reputation": 14690, "user_id": 1981247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yhKmV.jpg?s=128&g=1", "display_name": "Traxo", "link": "https://stackoverflow.com/users/1981247/traxo"}, "edited": false, "score": 0, "creation_date": 1548237602, "post_id": 54321768, "comment_id": 95467668, "body": "Because it&#39;s a dynamic form builder. There could be multiple dropdowns or just 1. That&#39;s why lookups is a object because it could contain the lookups of multiple dropdowns in the form. I will create a runnable example."}], "answers": [{"tags": [], "owner": {"reputation": 1617, "user_id": 8769328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/893c61079c7f944dbb51d3e3f211441c?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy Walters", "link": "https://stackoverflow.com/users/8769328/jeremy-walters"}, "is_accepted": false, "score": 2, "last_activity_date": 1548227400, "creation_date": 1548227400, "answer_id": 54321769, "question_id": 54321768, "link": "https://stackoverflow.com/questions/54321768/how-to-async-load-vuetify-dropdownv-select-items-in-vue/54321769#54321769", "title": "How to async load vuetify dropdown(v-select) items in Vue", "body": "<p>The best solution/workaround I found is creating a local variable and return the local variable instance. I just pass through the index to create a unique object for my dynamic component</p>\n\n<p><strong>template</strong>:</p>\n\n<pre><code>&lt;template&gt;\n    &lt;v-layout row wrap&gt;\n        &lt;v-flex xs12 md6 v-for=\"(field, index) in fields\" :key=\"index\" v-show=\"!field.hidden\"&gt;\n            &lt;v-text-field v-if=\"field.component === 'v-text-field'\" :label=\"field.label\"&gt;&lt;/v-text-field&gt;\n            &lt;v-select\n                v-else-if=\"field.component === 'v-select' \"\n                :label=\"field.label\"\n                :items=\"(typeof field.items === 'string') ? getLookups(index, field.items) : field.items\"\n            &gt;&lt;/v-select&gt;\n            &lt;v-checkbox v-else-if=\"field.component === 'v-checkbox'\" :label=\"field.label\"&gt;&lt;/v-checkbox&gt;\n        &lt;/v-flex&gt;\n    &lt;/v-layout&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p><strong>script</strong>:</p>\n\n<pre><code>private lookups: any = {};\n\ngetLookups(index: number, api: string | string[]) {\n    // Mock Async timeout\n    var wait = (ms: any) =&gt; new Promise((r, j) =&gt; setTimeout(r, ms));\n    wait(2000).then(() =&gt; {\n        this.lookups[index] = [\"test1\", \"test2\", \"test3\", \"test4\"];\n    });\n    return this.lookups[index];\n}\n</code></pre>\n\n<p>So the <code>v-select</code> component will be listening to the local variable. As soon as it populated it would update the <code>v-select</code> items.</p>\n"}, {"tags": [], "owner": {"reputation": 4056, "user_id": 6999690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/221feed0632157f764f50f3c087c5d38?s=128&d=identicon&r=PG", "display_name": "Ruslan L&#243;pez", "link": "https://stackoverflow.com/users/6999690/ruslan-l%c3%b3pez"}, "is_accepted": false, "score": 1, "last_activity_date": 1591904954, "creation_date": 1591904954, "answer_id": 62332405, "question_id": 54321768, "link": "https://stackoverflow.com/questions/54321768/how-to-async-load-vuetify-dropdownv-select-items-in-vue/62332405#62332405", "title": "How to async load vuetify dropdown(v-select) items in Vue", "body": "<p>Another alternative could be using <code>asyncComputed</code>, it's an <a href=\"https://github.com/foxbenjaminfox/vue-async-computed\" rel=\"nofollow noreferrer\">opensource project</a>.</p>\n\n<pre><code>data: {\n    userId: 1\n},\nasyncComputed: {\n async getLookups( api: string | string[]) {\n   // Mock Async timeout\n  var wait = (ms: any) =&gt; new Promise((r, j) =&gt; setTimeout(r, ms));\n  wait(2000);\n  return [\"test1\", \"test2\", \"test3\", \"test4\"];\n }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4340546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19fe08436ccdcc12dc80ffefd015c226?s=128&d=identicon&r=PG&f=1", "display_name": "Andre Booysen", "link": "https://stackoverflow.com/users/4340546/andre-booysen"}, "is_accepted": false, "score": 1, "last_activity_date": 1594121117, "creation_date": 1594121117, "answer_id": 62774208, "question_id": 54321768, "link": "https://stackoverflow.com/questions/54321768/how-to-async-load-vuetify-dropdownv-select-items-in-vue/62774208#62774208", "title": "How to async load vuetify dropdown(v-select) items in Vue", "body": "<p>Thx @Ruslan, asyncComputed works great. Below is an extract from my code &quot;GetClients&quot; is the computed source for my select.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>async created() {\n    if (this.id) {\n      this.action = \"Update\";\n      this.getItem();\n    }\n  },\n  asyncComputed:{\n    async getClients(){\n      const items = await API.graphql({\n        query: listClients\n      });\n      return items.data.listClients.items;\n    }\n  },\n  methods: {\n    async getItem() {</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1617, "user_id": 8769328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/893c61079c7f944dbb51d3e3f211441c?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy Walters", "link": "https://stackoverflow.com/users/8769328/jeremy-walters"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2878, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1594121117, "creation_date": 1548227400, "question_id": 54321768, "link": "https://stackoverflow.com/questions/54321768/how-to-async-load-vuetify-dropdownv-select-items-in-vue", "title": "How to async load vuetify dropdown(v-select) items in Vue", "body": "<p>I have an issue to asynchronously fetch data for the <a href=\"https://vuetifyjs.com/en/components/selects\" rel=\"nofollow noreferrer\"><code>v-select</code></a> Vuetify Component. The thing is the <code>v-select</code> component does only except <code>Array</code>for the <code>:items</code> attribute. What is the workaround to fetch data asynchronously : </p>\n\n<blockquote>\n  <p>Invalid prop: type check failed for prop \"items\". Expected Array, got\n  Promise</p>\n</blockquote>\n\n<p><strong>template</strong>:</p>\n\n<pre><code>&lt;template&gt;\n    &lt;v-layout row wrap&gt;\n        &lt;v-flex xs12 md6 v-for=\"(field, index) in fields\" :key=\"index\" v-show=\"!field.hidden\"&gt;\n            &lt;v-text-field v-if=\"field.component === 'v-text-field'\" :label=\"field.label\"&gt;&lt;/v-text-field&gt;\n            &lt;v-select\n                v-else-if=\"field.component === 'v-select' \"\n                :label=\"field.label\"\n                :items=\"(typeof field.items === 'string') ? getLookups(field.items) : []\"\n            &gt;&lt;/v-select&gt;\n            &lt;v-checkbox v-else-if=\"field.component === 'v-checkbox'\" :label=\"field.label\"&gt;&lt;/v-checkbox&gt;\n        &lt;/v-flex&gt;\n    &lt;/v-layout&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p><strong>async method</strong>:</p>\n\n<pre><code>async getLookups( api: string | string[]) {\n    // Mock Async timeout\n    var wait = (ms: any) =&gt; new Promise((r, j) =&gt; setTimeout(r, ms));\n    wait(2000);\n    return [\"test1\", \"test2\", \"test3\", \"test4\"];\n}\n</code></pre>\n"}, {"tags": ["typescript", "npm", "protractor", "cucumber"], "comments": [{"owner": {"reputation": 2912, "user_id": 1568160, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/265d9fa191a8cd030e2a6f95e8b51acd?s=128&d=identicon&r=PG&f=1", "display_name": "Surendra Jnawali", "link": "https://stackoverflow.com/users/1568160/surendra-jnawali"}, "edited": false, "score": 0, "creation_date": 1548456010, "post_id": 54321332, "comment_id": 95561890, "body": "I use protractor-jasmine2-screenshot-reporter for same purpose"}, {"owner": {"reputation": 107, "user_id": 10132612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gnosp.jpg?s=128&g=1", "display_name": "Fury", "link": "https://stackoverflow.com/users/10132612/fury"}, "reply_to_user": {"reputation": 2912, "user_id": 1568160, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/265d9fa191a8cd030e2a6f95e8b51acd?s=128&d=identicon&r=PG&f=1", "display_name": "Surendra Jnawali", "link": "https://stackoverflow.com/users/1568160/surendra-jnawali"}, "edited": false, "score": 0, "creation_date": 1548840675, "post_id": 54321332, "comment_id": 95683934, "body": "Could you please send me your git repo"}, {"owner": {"reputation": 2912, "user_id": 1568160, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/265d9fa191a8cd030e2a6f95e8b51acd?s=128&d=identicon&r=PG&f=1", "display_name": "Surendra Jnawali", "link": "https://stackoverflow.com/users/1568160/surendra-jnawali"}, "edited": false, "score": 0, "creation_date": 1549300038, "post_id": 54321332, "comment_id": 95844726, "body": "It is pretty much simple to implement! <a href=\"https://www.npmjs.com/package/protractor-jasmine2-screenshot-reporter\" rel=\"nofollow noreferrer\">npmjs.com/package/protractor-jasmine2-screenshot-reporter</a>"}, {"owner": {"reputation": 137, "user_id": 5431192, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/65c7c8479cfacfbbbc5e2d9d4a49fadc?s=128&d=identicon&r=PG&f=1", "display_name": "Maciejjy", "link": "https://stackoverflow.com/users/5431192/maciejjy"}, "edited": false, "score": 0, "creation_date": 1588229430, "post_id": 54321332, "comment_id": 108819942, "body": "How can you take screenshot after EACH step in test with protractor-jasmine2-screenshot-reporter? By &quot;each step&quot; I understand every action in test. Every click etc."}], "owner": {"reputation": 107, "user_id": 10132612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gnosp.jpg?s=128&g=1", "display_name": "Fury", "link": "https://stackoverflow.com/users/10132612/fury"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1095, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1548225541, "creation_date": 1548225541, "question_id": 54321332, "link": "https://stackoverflow.com/questions/54321332/how-to-capture-screenshots-for-every-test-step-in-protractor-cucumber-typescript", "title": "How to capture screenshots for every test step in protractor cucumber typescript framework?", "body": "<p>I have two questions.One is how to capture the screenshots for every test step and the second one is how to attach the respective screenshots beside my each test step in my cucumber-html-reporter.I am new to protractor so need some help.</p>\n\n<p>I am using cucumber-reporter and I have placed the code which I am placed the config, hooks, reporter.ts files.Let me know where I need to make the changes.\nThank you:)</p>\n\n<p>config.ts:</p>\n\n<pre><code>import * as path from \"path\";\nimport { browser, Config } from \"protractor\";\nimport { Reporter } from \"../support/reporter\";\n\nconst jsonReports = process.cwd() + \"/reports/json\";\n\nexport const config: Config = {\nseleniumAddress: \"http://127.0.0.1:4444/wd/hub\",\nSELENIUM_PROMISE_MANAGER: false,\nbaseUrl: \"http://www.leafground.com/pages/Dropdown.html\",\n\ncapabilities: {\n    browserName: \"chrome\",\n},\n\nframework: \"custom\",\nframeworkPath: require.resolve(\"protractor-cucumber-framework\"),\n\nspecs: [\n    \"../../features/*.feature\",\n],\n\nonPrepare: () =&gt; {\n    browser.ignoreSynchronization = true;\n    browser.manage().window().maximize();\n    Reporter.createDirectory(jsonReports);\n},\ncucumberOpts: {\n    compiler: \"ts:ts-node/register\",\n    format: \"json:./reports/json/cucumber_report.json\",\n    require: [\"../../typeScript/stepdefinitions/*.js\", \"../../typeScript/support/*.js\"],\n    strict: true,\n    tags: \"(@ListOfWebelementsScenario)\"\n},\n\nonComplete: () =&gt; {\n    Reporter.createHTMLReport();\n},\n      };\n</code></pre>\n\n<p>hooks.ts:</p>\n\n<pre><code>const { BeforeAll, After, AfterAll, Status } = require(\"cucumber\");\nimport * as fs from \"fs\";\nimport { browser } from \"protractor\";\nimport { config } from \"../config/config\";\n\nBeforeAll({timeout: 100 * 1000}, async () =&gt; {\nawait browser.get(config.baseUrl);\n});\n\n After(async function(scenario) {\n if (scenario.result.status === Status.FAILED) {\n    // screenShot is a base-64 encoded PNG\n     const screenShot = await browser.takeScreenshot();\n     this.attach(screenShot, \"image/png\");\n    }\n });\n\n AfterAll({timeout: 100 * 1000}, async () =&gt; {\n await browser.quit();\n  });\n</code></pre>\n\n<p>reporter.ts:</p>\n\n<pre><code>import * as reporter from \"cucumber-html-reporter\";\nimport * as fs from \"fs\";\nimport * as mkdirp from \"mkdirp\";\nimport * as path from \"path\";\nconst jsonReports = path.join(process.cwd(), \"/reports/json\");\nconst htmlReports = path.join(process.cwd(), \"/reports/html\");\nconst targetJson = jsonReports + \"/cucumber_report.json\";\n\nconst cucumberReporterOptions = {\njsonFile: targetJson,\noutput: htmlReports + \"/cucumber_reporter.html\",\nreportSuiteAsScenarios: true,\ntheme: \"bootstrap\",\n};\n\nexport class Reporter {\n\npublic static createDirectory(dir: string) {\n    if (!fs.existsSync(dir)) {\n        mkdirp.sync(dir);\n    }\n   }\n\n  public static createHTMLReport() {\n    try {\n        reporter.generate(cucumberReporterOptions); // invoke cucumber- \n    html-reporter\n    } catch (err) {\n        if (err) {\n            throw new Error(\"Failed to save cucumber test results to json \n        file.\");\n          }\n       }\n     }\n     }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic3", "typescript2.0"], "comments": [{"owner": {"reputation": 535, "user_id": 10889444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13ed5fd3924c422cb1fe173bb6466d54?s=128&d=identicon&r=PG&f=1", "display_name": "De Wet van As", "link": "https://stackoverflow.com/users/10889444/de-wet-van-as"}, "edited": false, "score": 0, "creation_date": 1548224329, "post_id": 54321029, "comment_id": 95461186, "body": "Are you using HttpClient? If so, remove &quot;.map(res=&gt;res.json())&quot; as this is being handled internally."}, {"owner": {"reputation": 470, "user_id": 5257222, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/LAXor.jpg?s=128&g=1", "display_name": "Ehasanul Hoque", "link": "https://stackoverflow.com/users/5257222/ehasanul-hoque"}, "edited": false, "score": 0, "creation_date": 1548224420, "post_id": 54321029, "comment_id": 95461214, "body": "Could you please check this.db. Does it has valid URI or null value ?"}, {"owner": {"reputation": 45, "user_id": 8654714, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wl9BTn8EQUU/AAAAAAAAAAI/AAAAAAAAACY/4NoFa_Luqdo/photo.jpg?sz=128", "display_name": "Harish Rana", "link": "https://stackoverflow.com/users/8654714/harish-rana"}, "reply_to_user": {"reputation": 535, "user_id": 10889444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13ed5fd3924c422cb1fe173bb6466d54?s=128&d=identicon&r=PG&f=1", "display_name": "De Wet van As", "link": "https://stackoverflow.com/users/10889444/de-wet-van-as"}, "edited": false, "score": 0, "creation_date": 1548224647, "post_id": 54321029, "comment_id": 95461288, "body": "@DeWetvanAs I am using Http only and i tried after removing &quot;.map(res=&gt;res.json())&quot; still the same error"}, {"owner": {"reputation": 45, "user_id": 8654714, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wl9BTn8EQUU/AAAAAAAAAAI/AAAAAAAAACY/4NoFa_Luqdo/photo.jpg?sz=128", "display_name": "Harish Rana", "link": "https://stackoverflow.com/users/8654714/harish-rana"}, "reply_to_user": {"reputation": 470, "user_id": 5257222, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/LAXor.jpg?s=128&g=1", "display_name": "Ehasanul Hoque", "link": "https://stackoverflow.com/users/5257222/ehasanul-hoque"}, "edited": false, "score": 0, "creation_date": 1548224711, "post_id": 54321029, "comment_id": 95461308, "body": "@EhasanulHoque sir my this.db url is valid this have url which is giving me response on postman but not here."}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 8654714, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wl9BTn8EQUU/AAAAAAAAAAI/AAAAAAAAACY/4NoFa_Luqdo/photo.jpg?sz=128", "display_name": "Harish Rana", "link": "https://stackoverflow.com/users/8654714/harish-rana"}, "edited": false, "score": 0, "creation_date": 1548228483, "post_id": 54321949, "comment_id": 95462753, "body": "sorry sir I tried it earlier and still not working same error is coming again n again."}, {"owner": {"reputation": 470, "user_id": 5257222, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/LAXor.jpg?s=128&g=1", "display_name": "Ehasanul Hoque", "link": "https://stackoverflow.com/users/5257222/ehasanul-hoque"}, "reply_to_user": {"reputation": 45, "user_id": 8654714, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wl9BTn8EQUU/AAAAAAAAAAI/AAAAAAAAACY/4NoFa_Luqdo/photo.jpg?sz=128", "display_name": "Harish Rana", "link": "https://stackoverflow.com/users/8654714/harish-rana"}, "edited": false, "score": 0, "creation_date": 1548229062, "post_id": 54321949, "comment_id": 95463024, "body": "Content type might be application/json, which is more specific. because data are being sent to the server is json format."}], "tags": [], "owner": {"reputation": 470, "user_id": 5257222, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/LAXor.jpg?s=128&g=1", "display_name": "Ehasanul Hoque", "link": "https://stackoverflow.com/users/5257222/ehasanul-hoque"}, "is_accepted": true, "score": 1, "last_activity_date": 1548228191, "creation_date": 1548228191, "answer_id": 54321949, "question_id": 54321029, "link": "https://stackoverflow.com/questions/54321029/error-uncaught-in-promise-response-with-status-0-for-url-null-status-404/54321949#54321949", "title": "Error: Uncaught (in promise): Response with status: 0 for URL: null status: 404", "body": "<p>here is the signature of http post method in angular</p>\n\n<pre><code>post(url: string, body: any, options?: RequestOptionsArgs): Observable&lt;Response&gt;;\n</code></pre>\n\n<p>You can try the following way</p>\n\n<pre><code>var options = new RequestOptions();\noptions.headers = new Headers();\noptions.headers.append( 'Content-Type', 'application/x-www-form-urlencoded');\nlet curr_page = { \"currentPage\":1,\"pageSize\":2 };\n    // var page_size = 5;\n    this.http.post(this.db,JSON.stringify(curr_page),options).map(res=&gt;res.json())\n    .subscribe(res=&gt;{\n      console.log(res);\n      resolve(res);\n    }, (err) =&gt; {\n      reject(err);\n    });\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 8654714, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wl9BTn8EQUU/AAAAAAAAAAI/AAAAAAAAACY/4NoFa_Luqdo/photo.jpg?sz=128", "display_name": "Harish Rana", "link": "https://stackoverflow.com/users/8654714/harish-rana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 737, "favorite_count": 1, "accepted_answer_id": 54321949, "answer_count": 1, "score": 0, "last_activity_date": 1548228191, "creation_date": 1548224107, "question_id": 54321029, "link": "https://stackoverflow.com/questions/54321029/error-uncaught-in-promise-response-with-status-0-for-url-null-status-404", "title": "Error: Uncaught (in promise): Response with status: 0 for URL: null status: 404", "body": "<p>when ever I am trying hit a post request url I am having this error </p>\n\n<pre><code>Error: Uncaught (in promise): Response with status: 0  for URL: null\n    at c (http://localhost:8100/build/polyfills.js:3:19752)\n    at c (http://localhost:8100/build/polyfills.js:3:19461)\n    at http://localhost:8100/build/polyfills.js:3:20233\n    at t.invokeTask (http://localhost:8100/build/polyfills.js:3:15660)\n    at Object.onInvokeTask (http://localhost:8100/build/vendor.js:5125:33)\n    at t.invokeTask (http://localhost:8100/build/polyfills.js:3:15581)\n    at r.runTask (http://localhost:8100/build/polyfills.js:3:10834)\n    at o (http://localhost:8100/build/polyfills.js:3:7894)\n    at e.invokeTask [as invoke] (http://localhost:8100/build/polyfills.js:3:16823)\n    at p (http://localhost:8100/build/polyfills.js:2:27648)\n</code></pre>\n\n<p>My Typescript code is</p>\n\n<pre><code>public getCategory(){\n        console.log('test');\n        return new Promise((resolve, reject) =&gt; {\n        let header = new Headers();\n        header.append('Content-Type', 'application/x-www-form-urlencoded');\n        let curr_page = { \"currentPage\":1,\"pageSize\":2 };\n        // var page_size = 5;\n        this.http.post(this.db,JSON.stringify(curr_page),{headers: header}).map(res=&gt;res.json())\n        .subscribe(res=&gt;{\n          console.log(res);\n          resolve(res);\n        }, (err) =&gt; {\n          reject(err);\n        });\n    });\n  }\n</code></pre>\n\n<p>but when I am trying to hit this url on Postman app then its working, Waiting for Help.</p>\n"}, {"tags": ["node.js", "typescript", "import", "loopbackjs"], "comments": [{"owner": {"reputation": 5052, "user_id": 2950032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45bfee4307a21e38ef04af6c963dc564?s=128&d=identicon&r=PG&f=1", "display_name": "maazadeeb", "link": "https://stackoverflow.com/users/2950032/maazadeeb"}, "edited": false, "score": 1, "creation_date": 1548224035, "post_id": 54320967, "comment_id": 95461078, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/41219542/how-to-import-js-modules-into-typescript-file\">How to import js-modules into TypeScript file?</a>"}, {"owner": {"reputation": 633, "user_id": 10108619, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W85Ue.jpg?s=128&g=1", "display_name": "Quoc Van Tang", "link": "https://stackoverflow.com/users/10108619/quoc-van-tang"}, "reply_to_user": {"reputation": 5052, "user_id": 2950032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45bfee4307a21e38ef04af6c963dc564?s=128&d=identicon&r=PG&f=1", "display_name": "maazadeeb", "link": "https://stackoverflow.com/users/2950032/maazadeeb"}, "edited": false, "score": 1, "creation_date": 1548224686, "post_id": 54320967, "comment_id": 95461302, "body": "@MaazSyedAdeeb Sorry, I&#39;ve followed that post and many post about this but it still got error when I try to import it"}, {"owner": {"reputation": 5052, "user_id": 2950032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45bfee4307a21e38ef04af6c963dc564?s=128&d=identicon&r=PG&f=1", "display_name": "maazadeeb", "link": "https://stackoverflow.com/users/2950032/maazadeeb"}, "edited": false, "score": 0, "creation_date": 1548253188, "post_id": 54320967, "comment_id": 95476487, "body": "How about you when you <code>import { plus } from &#39;.&#47;lib&#47;test.js&#39;</code>? Notice the js extension at the end"}, {"owner": {"reputation": 633, "user_id": 10108619, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W85Ue.jpg?s=128&g=1", "display_name": "Quoc Van Tang", "link": "https://stackoverflow.com/users/10108619/quoc-van-tang"}, "reply_to_user": {"reputation": 5052, "user_id": 2950032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45bfee4307a21e38ef04af6c963dc564?s=128&d=identicon&r=PG&f=1", "display_name": "maazadeeb", "link": "https://stackoverflow.com/users/2950032/maazadeeb"}, "edited": false, "score": 0, "creation_date": 1548253465, "post_id": 54320967, "comment_id": 95476656, "body": "It can&#39;t. It will be consider to test.ts or test.d.ts and ignore js extension"}, {"owner": {"reputation": 5052, "user_id": 2950032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45bfee4307a21e38ef04af6c963dc564?s=128&d=identicon&r=PG&f=1", "display_name": "maazadeeb", "link": "https://stackoverflow.com/users/2950032/maazadeeb"}, "edited": false, "score": 0, "creation_date": 1548253638, "post_id": 54320967, "comment_id": 95476754, "body": "Please share your tsconfig. It might help find the problem."}, {"owner": {"reputation": 633, "user_id": 10108619, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W85Ue.jpg?s=128&g=1", "display_name": "Quoc Van Tang", "link": "https://stackoverflow.com/users/10108619/quoc-van-tang"}, "reply_to_user": {"reputation": 5052, "user_id": 2950032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45bfee4307a21e38ef04af6c963dc564?s=128&d=identicon&r=PG&f=1", "display_name": "maazadeeb", "link": "https://stackoverflow.com/users/2950032/maazadeeb"}, "edited": false, "score": 1, "creation_date": 1548261637, "post_id": 54320967, "comment_id": 95481574, "body": "I just found that I must put allowJs true in compilerOptions to make js file be compiled. By the way, thank you for your support"}], "answers": [{"comments": [{"owner": {"reputation": 633, "user_id": 10108619, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W85Ue.jpg?s=128&g=1", "display_name": "Quoc Van Tang", "link": "https://stackoverflow.com/users/10108619/quoc-van-tang"}, "edited": false, "score": 0, "creation_date": 1548227194, "post_id": 54321226, "comment_id": 95462219, "body": "thanks for your reply. My intention is to import JS function into TS, in real case that maybe in previous I have many function write with JS language and I want to reuse it in my TS Project (loopback 4)."}, {"owner": {"reputation": 633, "user_id": 10108619, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W85Ue.jpg?s=128&g=1", "display_name": "Quoc Van Tang", "link": "https://stackoverflow.com/users/10108619/quoc-van-tang"}, "edited": false, "score": 0, "creation_date": 1548227232, "post_id": 54321226, "comment_id": 95462233, "body": "I&#39;ve recognize that when I put this { allowJs: true, declaration: false} in my tsconfig.json file then it works but maybe the test.d.ts file may not be required in this case"}, {"owner": {"reputation": 319, "user_id": 6350106, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DOZ7K.jpg?s=128&g=1", "display_name": "Christopher Slater", "link": "https://stackoverflow.com/users/6350106/christopher-slater"}, "reply_to_user": {"reputation": 633, "user_id": 10108619, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W85Ue.jpg?s=128&g=1", "display_name": "Quoc Van Tang", "link": "https://stackoverflow.com/users/10108619/quoc-van-tang"}, "edited": false, "score": 0, "creation_date": 1548227973, "post_id": 54321226, "comment_id": 95462548, "body": "I have actually created a copy of loopback 4 and without the  <code>compilerOptions: { allowJs: true, declaration: false}</code> and it works with your example. So I think you can safely disregard that suggestion"}, {"owner": {"reputation": 319, "user_id": 6350106, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DOZ7K.jpg?s=128&g=1", "display_name": "Christopher Slater", "link": "https://stackoverflow.com/users/6350106/christopher-slater"}, "reply_to_user": {"reputation": 633, "user_id": 10108619, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W85Ue.jpg?s=128&g=1", "display_name": "Quoc Van Tang", "link": "https://stackoverflow.com/users/10108619/quoc-van-tang"}, "edited": false, "score": 0, "creation_date": 1548228242, "post_id": 54321226, "comment_id": 95462647, "body": "So just to be clear, I am running <code>npmr run build</code> then <code>npm run start</code>"}, {"owner": {"reputation": 633, "user_id": 10108619, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W85Ue.jpg?s=128&g=1", "display_name": "Quoc Van Tang", "link": "https://stackoverflow.com/users/10108619/quoc-van-tang"}, "edited": false, "score": 0, "creation_date": 1548228326, "post_id": 54321226, "comment_id": 95462682, "body": "That&#39;s weird. You mean that you create a new app using lb4 app command than add a js and d.ts file like above, then import it from index.ts and it does not throw any error. For me it produce &quot;Cannot find module &#39;./lib/test&#39; &quot; error"}, {"owner": {"reputation": 319, "user_id": 6350106, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DOZ7K.jpg?s=128&g=1", "display_name": "Christopher Slater", "link": "https://stackoverflow.com/users/6350106/christopher-slater"}, "reply_to_user": {"reputation": 633, "user_id": 10108619, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W85Ue.jpg?s=128&g=1", "display_name": "Quoc Van Tang", "link": "https://stackoverflow.com/users/10108619/quoc-van-tang"}, "edited": false, "score": 0, "creation_date": 1548228738, "post_id": 54321226, "comment_id": 95462875, "body": "Yeah exactly that, would you like me to put the repo on github so you can compare? If the error persists, it could be more the environment than the application setup."}, {"owner": {"reputation": 633, "user_id": 10108619, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W85Ue.jpg?s=128&g=1", "display_name": "Quoc Van Tang", "link": "https://stackoverflow.com/users/10108619/quoc-van-tang"}, "edited": false, "score": 0, "creation_date": 1548228794, "post_id": 54321226, "comment_id": 95462900, "body": "Yes, please put it on github then I will get and try it. Thank you in advance"}, {"owner": {"reputation": 319, "user_id": 6350106, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DOZ7K.jpg?s=128&g=1", "display_name": "Christopher Slater", "link": "https://stackoverflow.com/users/6350106/christopher-slater"}, "reply_to_user": {"reputation": 633, "user_id": 10108619, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W85Ue.jpg?s=128&g=1", "display_name": "Quoc Van Tang", "link": "https://stackoverflow.com/users/10108619/quoc-van-tang"}, "edited": false, "score": 0, "creation_date": 1548228887, "post_id": 54321226, "comment_id": 95462944, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/187169/discussion-between-christopher-slater-and-quoc-van-tang\">continue this discussion in chat</a>."}, {"owner": {"reputation": 633, "user_id": 10108619, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W85Ue.jpg?s=128&g=1", "display_name": "Quoc Van Tang", "link": "https://stackoverflow.com/users/10108619/quoc-van-tang"}, "edited": false, "score": 0, "creation_date": 1548261330, "post_id": 54321226, "comment_id": 95481414, "body": "Thank you very much for explaining"}], "tags": [], "owner": {"reputation": 319, "user_id": 6350106, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DOZ7K.jpg?s=128&g=1", "display_name": "Christopher Slater", "link": "https://stackoverflow.com/users/6350106/christopher-slater"}, "is_accepted": true, "score": 8, "last_activity_date": 1548259017, "last_edit_date": 1548259017, "creation_date": 1548225054, "answer_id": 54321226, "question_id": 54320967, "link": "https://stackoverflow.com/questions/54320967/nodejs-how-to-import-js-file-into-typescript/54321226#54321226", "title": "NodeJS How to import JS file into TypeScript", "body": "<p>It looks like the tsconfig.json doesn't have 'allowJs' enabled because it exports declarations.</p>\n\n<p>Is there a reason you are not wanting this to be a typescript file? If you change test.js to test.ts, by making it a .ts should allow it to be recognised in your index file.</p>\n\n<h2>UPDATE</h2>\n\n<p>Full chat history to get to this point can be found <a href=\"https://chat.stackoverflow.com/rooms/187169/discussion-between-christopher-slater-and-quoc-van-tang\">here</a>.\nRepository used to test found <a href=\"https://github.com/chrisslater/loopback-test\" rel=\"noreferrer\">here</a></p>\n\n<p>OK so easy solution as @maaz-syed-adeeb mentions will work:</p>\n\n<pre><code>import { path } from './lib/test.js'\n</code></pre>\n\n<p>The reason the extension is important is because the definition file takes priority over a javascript file in a typescript environment. That is why the module import was blowing up.</p>\n\n<p>To avoid specifying the <code>.js</code> extension you can also setup your directory structure like this:</p>\n\n<pre><code>src\n|- index.ts\n|- lib\n  |- test.js\n  |- test.d.ts\n  |- index.[js|ts]\n</code></pre>\n\n<p>in <code>./lib/index</code> file export all from test:</p>\n\n<pre><code>//./src/lib/index.[js|ts]\nexport * from './test'\n</code></pre>\n\n<p>and then import all from lib:</p>\n\n<pre><code>// ./src/index.ts\nimport { path } from './lib'\n// or\nimport { path } from './lib/test.js'\n\n</code></pre>\n\n<p>If you are using a blend of javascript and typescript (say you are moving over to typescript with an existing code base), you will need to update your <code>tsconfig.json</code> to include so you don't get the warnings in your IDE:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"allowJs\": true,\n    \"declaration\": false\n  }\n}\n</code></pre>\n\n<p>This is so your javascript files will be transpiled to your destination directory along with the typescript files.</p>\n"}], "owner": {"reputation": 633, "user_id": 10108619, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W85Ue.jpg?s=128&g=1", "display_name": "Quoc Van Tang", "link": "https://stackoverflow.com/users/10108619/quoc-van-tang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15552, "favorite_count": 1, "accepted_answer_id": 54321226, "answer_count": 1, "score": 4, "last_activity_date": 1548259017, "creation_date": 1548223744, "last_edit_date": 1548224960, "question_id": 54320967, "link": "https://stackoverflow.com/questions/54320967/nodejs-how-to-import-js-file-into-typescript", "title": "NodeJS How to import JS file into TypeScript", "body": "<p>I'm new with TypeScript. I'm currently learning NodeJS <strong>Loopback 4</strong> framework which use Typescript language. And my question is how to import some function, class which has been exported in JS file into my TS file. After search several way but it still doesn't work with me.\nHere's example:</p>\n\n<pre><code>  // /src/index.ts\n    import {plus} from './lib/test';\n\n    console.log(plus(1,2));\n</code></pre>\n\n<hr>\n\n<pre><code>// /src/lib/test.js\n    export function plus(x, y) {\n      return x + y;\n    }\n</code></pre>\n\n<p>I also try using definition typescript like this</p>\n\n<pre><code>// /src/lib/test.d.ts\nexport declare function plus(x: number, y: number): number;\n</code></pre>\n\n<p>But still got error when import this function in index.ts file</p>\n\n<blockquote>\n  <p>Error: Cannot find module './lib/test'\n      at Function.Module._resolveFilename (module.js:543:15)</p>\n</blockquote>\n"}, {"tags": ["node.js", "angular", "mongodb", "typescript", "express"], "comments": [{"owner": {"reputation": 8264, "user_id": 2118360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yLaPr.jpg?s=128&g=1", "display_name": "TheParam", "link": "https://stackoverflow.com/users/2118360/theparam"}, "edited": false, "score": 0, "creation_date": 1548223264, "post_id": 54320811, "comment_id": 95460814, "body": "can you create stackblitz for this"}], "answers": [{"tags": [], "owner": {"reputation": 66, "user_id": 10589083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7jijc.png?s=128&g=1", "display_name": "Prashanthkumar R", "link": "https://stackoverflow.com/users/10589083/prashanthkumar-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1548267621, "creation_date": 1548267621, "answer_id": 54333397, "question_id": 54320811, "link": "https://stackoverflow.com/questions/54320811/delete-specific-id-within-a-array-using-bootstrap-modal-pop-with-angular-6/54333397#54333397", "title": "Delete specific ID within a array using bootstrap modal-pop with angular 6", "body": "<p>here when we going to target the another modal on that time its not-able get the particular ID so we need to two methods </p>\n\n<p>1)first method we need get particular ID by click event and stored that ID in variable </p>\n\n<p>2)second method we need to call that variable ID as a parameter within a service  method  the it will get that particular ID and perform delete functionality within that  </p>\n\n<pre><code>    &lt;li class=\"activity activity-created\" data-id=\"\" *ngFor=\"let data of smsdata\"&gt;\n        &lt;div&gt;\n            &lt;span class=\"timeline-icon\"&gt;\n                &lt;span id=\"glphi\" class=\"glyphicon  glyphicon-modal-window \" aria-hidden=\"true\"&gt;&lt;/span&gt;\n            &lt;/span&gt;\n            &lt;div class=\"activity-inner created\"&gt;\n                &lt;div class=\"view-side\"&gt;\n                    &lt;span class=\"salesrep\"&gt;\n                        &lt;img class=\"js-avatar user-img\" width=\"32\" height=\"32\" alt=\"\" src=\"\" title=\"test t\"&gt;\n                        &lt;span class=\"user-name\" title=\"test t\"&gt;Sent to {{data.to}}&lt;/span&gt;\n                    &lt;/span&gt;\n                    &lt;span&gt;&lt;i id=\"trash\" class=\"glyphicon glyphicon-trash\" style=\"color:red;\" data-toggle=\"modal\"\n                            data-target=\"#Deletesms\" (click)=\"smsDelete(data._id)\"&gt;&lt;/i&gt;&lt;/span&gt;\n\n                             &lt;!-- delete --&gt;\n        &lt;div id=\"Deletesms\" class=\"modal fade\" role=\"dialog\"  &gt;\n            &lt;div class=\"modal-dialog deletedialog\"&gt;\n                &lt;div class=\"modal-content\"&gt;\n                    &lt;div class=\"modal-header\"&gt;\n                            &lt;div class=\"icon-box\"&gt;\n                                    &lt;i class=\"material-icons\"&gt;\ue5cd&lt;/i&gt;\n                                &lt;/div&gt;              \n                                &lt;h4 class=\"modal-title\"&gt;Are you sure?&lt;/h4&gt;  \n                        &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\"&gt;&amp;times;&lt;/button&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"modal-body\"&gt;\n                            &lt;p&gt;Do you really want to delete these records? This process cannot be undone.&lt;/p&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"modal-footer\"&gt;\n                            &lt;button type=\"button\" class=\"btn btn-info\" data-dismiss=\"modal\"&gt;Cancel&lt;/button&gt;\n                            &lt;button type=\"button\" class=\"btn btn-danger\" data-dismiss=\"modal\" (click)=\"deletemsg()\"&gt;Delete&lt;/button&gt;\n                        &lt;/div&gt;\n                &lt;/div&gt;\n\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;!-- end delete --&gt;\n\n\n\n\n                    &lt;small&gt;\n                        &lt;time id=\"trash\" class=\"timeago\" rel=\"tooltip\" dateTime=\"{{data.dateadded| date}}\"&gt; |\n                            {{data.dateadded }} &lt;/time&gt;\n                    &lt;/small&gt;\n                    &lt;div&gt;{{data.message\n                        }}   {{data._id}}&lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n\n    &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong>methods in ts</strong></p>\n\n<p>i) first method --</p>\n\n<pre><code>smsDelete(smsid) {\n    this.msgId = smsid ; // **stored particular Id**\n  }\n</code></pre>\n\n<p>ii) second method --</p>\n\n<pre><code>deletemsg(){\nconsole.log(this.msgId)\nthis._leadService.deleteSms(this.msgId).subscribe(data =&gt; {\n    console.log(data)\n    this.getSmsSend()\n    this.getSmsReceive()\n   console.log(' deleted successfully' + this.msgId)\n  })\n  }\n</code></pre>\n\n<p>working awesomely......I hope it will help to someone....!</p>\n"}], "owner": {"reputation": 66, "user_id": 10589083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7jijc.png?s=128&g=1", "display_name": "Prashanthkumar R", "link": "https://stackoverflow.com/users/10589083/prashanthkumar-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 432, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548267621, "creation_date": 1548222988, "last_edit_date": 1548223403, "question_id": 54320811, "link": "https://stackoverflow.com/questions/54320811/delete-specific-id-within-a-array-using-bootstrap-modal-pop-with-angular-6", "title": "Delete specific ID within a array using bootstrap modal-pop with angular 6", "body": "<p>I am having trouble to passing an ID to the modal from list of userSms. <strong>Its keep waiting to delete the first userSms</strong>. Without using modal popup if click delete button it's sending particular id and its working fine but if I use bootstrap modal-pop i'm facing this issue. Help me out resolve this issue it will be appreciated!</p>\n\n<p>Here if we click last usersms it will delete first usersms. If you try to delete any of them it going to delete first-one only. </p>\n\n<p>Here my html -</p>\n\n<pre><code>&lt;li class=\"activity activity-created\" data-id=\"\" *ngFor=\"let data of smsdata;&gt;\n        &lt;div&gt;\n            &lt;span class=\"timeline-icon\"&gt;\n                &lt;span id=\"glphi\" class=\"glyphicon  glyphicon-modal-window \" aria-hidden=\"true\"&gt;&lt;/span&gt;\n            &lt;/span&gt;\n            &lt;div class=\"activity-inner created\"&gt;\n                &lt;div class=\"view-side\"&gt;\n                    &lt;span class=\"salesrep\"&gt;\n                        &lt;img class=\"js-avatar user-img\" width=\"32\" height=\"32\" alt=\"\" src=\"\" title=\"test t\"&gt;\n                        &lt;span class=\"user-name\" title=\"test t\"&gt;Sent to {{data.to}}&lt;/span&gt;\n                    &lt;/span&gt;\n                    &lt;span&gt;&lt;i id=\"trash\" class=\"glyphicon glyphicon-trash\" style=\"color:red;\" data-toggle=\"modal\"\n                            data-target=\"#Deletesms\" &gt;&lt;/i&gt;&lt;/span&gt;\n\n                             &lt;!-- delete --&gt;\n        &lt;div id=\"Deletesms\" class=\"modal fade\" role=\"dialog\"  &gt;\n            &lt;div class=\"modal-dialog deletedialog\"&gt;\n                &lt;div class=\"modal-content\"&gt;\n                    &lt;div class=\"modal-header\"&gt;\n                        &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\"&gt;&amp;times;&lt;/button&gt;\n                        &lt;h3 class=\"modal-title\"&gt;Delete&lt;/h3&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"modal-body\"&gt;\n                        &lt;p style=\"color:red\"&gt;Would you Like To Delete SMS &lt;/p&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"modal-footer\"&gt;\n                        &lt;button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\"&gt;Close&lt;/button&gt;\n                        &lt;button type=\"button\" class=\"btn btn-danger\" data-dismiss=\"modal\" (click)=\"smsDelete(data._id)\"&gt;Delete&lt;/button&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n\n            &lt;/div&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<p>here my ts file </p>\n\n<pre><code>smsDelete(smsid) {\n\nconsole.log(smsid)\n  this._leadService.deleteSms(smsid).subscribe(newdata =&gt; {\n    this.smsdata = this.smsdata.filter(elem =&gt;{\n      return elem._id !== smsid ;\n    });\n    this.getSmsSend()\n    this.getSmsReceive()\n    console.log(' deleted successfully' + smsid)\n  })\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 989, "user_id": 7557023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UK0sL.jpg?s=128&g=1", "display_name": "Sneha Pawar", "link": "https://stackoverflow.com/users/7557023/sneha-pawar"}, "edited": false, "score": 0, "creation_date": 1548222949, "post_id": 54320790, "comment_id": 95460685, "body": "try this {{check | json }} . check is an object that&#39;s why HTML shows [object object] use either JSON pipe to view object otherwise you can access  value using the dot operator"}, {"owner": {"reputation": 575, "user_id": 3230721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/98BGI.jpg?s=128&g=1", "display_name": "lpradhap", "link": "https://stackoverflow.com/users/3230721/lpradhap"}, "edited": false, "score": 0, "creation_date": 1548222966, "post_id": 54320790, "comment_id": 95460693, "body": "try check:any=(this.myForm.get(&#39;Postpaid_comission&#39;)).value, You need to use value property when your trying to access your form controls values"}], "answers": [{"tags": [], "owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "is_accepted": false, "score": 0, "last_activity_date": 1548222959, "creation_date": 1548222959, "answer_id": 54320802, "question_id": 54320790, "link": "https://stackoverflow.com/questions/54320790/cannot-access-check-variable-it-displays-object-object-in-html-angular-7/54320802#54320802", "title": "Cannot access check variable; it displays [object Object] in html( angular 7)", "body": "<p>You need to access <code>value</code> property on the control. This will return the value of the control.</p>\n\n<pre><code>check:any = this.myForm.get('Postpaid_comission').value;\n</code></pre>\n\n<p>Also based on the html you have provided, your control name is <code>Postpaid_credit_limit</code>, not <code>Postpaid_comission</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 575, "user_id": 3230721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/98BGI.jpg?s=128&g=1", "display_name": "lpradhap", "link": "https://stackoverflow.com/users/3230721/lpradhap"}, "is_accepted": false, "score": 0, "last_activity_date": 1548223025, "creation_date": 1548223025, "answer_id": 54320820, "question_id": 54320790, "link": "https://stackoverflow.com/questions/54320790/cannot-access-check-variable-it-displays-object-object-in-html-angular-7/54320820#54320820", "title": "Cannot access check variable; it displays [object Object] in html( angular 7)", "body": "<p>try </p>\n\n<p><code>check:any=(this.myForm.get('Postpaid_comission')).value</code>, </p>\n\n<p>You need to use value property when your trying to access your form controls values </p>\n"}, {"tags": [], "owner": {"reputation": 696, "user_id": 6914275, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-52EqC5Y_-C8/AAAAAAAAAAI/AAAAAAAAABQ/8PcVxm5WlcA/photo.jpg?sz=128", "display_name": "Sergio Alen", "link": "https://stackoverflow.com/users/6914275/sergio-alen"}, "is_accepted": false, "score": 0, "last_activity_date": 1548227083, "creation_date": 1548227083, "answer_id": 54321685, "question_id": 54320790, "link": "https://stackoverflow.com/questions/54320790/cannot-access-check-variable-it-displays-object-object-in-html-angular-7/54321685#54321685", "title": "Cannot access check variable; it displays [object Object] in html( angular 7)", "body": "<p>In case you still want to keep <code>check</code> as a <code>FormControl</code> you can access the value in the template like this:</p>\n\n<pre><code>&lt;h3&gt; {{check.value }}&lt;/h3&gt;\n</code></pre>\n\n<p>if the value of check is undefined at some point, you can use the safe navigation operator <code>?</code> like this:</p>\n\n<pre><code>&lt;h3&gt; {{check?.value }}&lt;/h3&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10953857, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zPv4P5PDH3c/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMa85RKN4dMe-VJfCoAwwylB_hbxQ/mo/photo.jpg?sz=128", "display_name": "Mandeep Sidhu", "link": "https://stackoverflow.com/users/10953857/mandeep-sidhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1548227083, "creation_date": 1548222913, "last_edit_date": 1548224044, "question_id": 54320790, "link": "https://stackoverflow.com/questions/54320790/cannot-access-check-variable-it-displays-object-object-in-html-angular-7", "title": "Cannot access check variable; it displays [object Object] in html( angular 7)", "body": "<p>My type script file</p>\n\n<pre><code>check:any=(this.myForm.get('Postpaid_comission'));\n</code></pre>\n\n<p>My html file</p>\n\n<pre><code> &lt;h3&gt; {{check }}&lt;/h3&gt;\n &lt;label class=\"control-label col-sm-2\" for=\"Postpaid_credit_limit\"&gt;Postpaid credit limit:&lt;/label&gt;\n &lt;div class=\"col-sm-10\"&gt;\n   &lt;input type=\"text\" formControlName=\"Postpaid_credit_limit\" class=\"form-control\" &gt;\n &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["typescript", "angular6"], "comments": [{"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1548221886, "post_id": 54320613, "comment_id": 95460376, "body": "You have to store existing binded data into one local variable and then add a new record in that variable"}, {"owner": {"reputation": 153, "user_id": 10283072, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tiBASQS5QBs/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMOP2RmmyqCcOcZie1oVqG8VxpcZQ/mo/photo.jpg?sz=128", "display_name": "Akhil Raghav", "link": "https://stackoverflow.com/users/10283072/akhil-raghav"}, "reply_to_user": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1548222019, "post_id": 54320613, "comment_id": 95460409, "body": "But I can able to display one column data I haven&#39;t used any local storage over there??"}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1548222084, "post_id": 54320613, "comment_id": 95460431, "body": "Can you show the tried code?"}, {"owner": {"reputation": 153, "user_id": 10283072, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tiBASQS5QBs/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMOP2RmmyqCcOcZie1oVqG8VxpcZQ/mo/photo.jpg?sz=128", "display_name": "Akhil Raghav", "link": "https://stackoverflow.com/users/10283072/akhil-raghav"}, "reply_to_user": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1548222382, "post_id": 54320613, "comment_id": 95460513, "body": "I have added my ts file functionality"}, {"owner": {"reputation": 1190, "user_id": 8370602, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/45cc1a0c28deb48188bbc29f77284be9?s=128&d=identicon&r=PG&f=1", "display_name": "Talg123", "link": "https://stackoverflow.com/users/8370602/talg123"}, "edited": false, "score": 0, "creation_date": 1548223384, "post_id": 54320613, "comment_id": 95460860, "body": "I`m not sure whats the problem. From what I see you have fieldArray which spouse to have your data you are looking for. We gonna need more then those 2 rows. Basically you so many ways to do what you want to do,  just need to see your code to know whats fit to you."}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1548223759, "post_id": 54320613, "comment_id": 95460990, "body": "@AkhilRaghav Explanation required about current and expected outpue or it would be better to provide stackblitz"}, {"owner": {"reputation": 153, "user_id": 10283072, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tiBASQS5QBs/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMOP2RmmyqCcOcZie1oVqG8VxpcZQ/mo/photo.jpg?sz=128", "display_name": "Akhil Raghav", "link": "https://stackoverflow.com/users/10283072/akhil-raghav"}, "edited": false, "score": 0, "creation_date": 1548231025, "post_id": 54320613, "comment_id": 95463885, "body": "Sir,I have added piece of my functionality here If I am adding one more input form my previous form value is not showing in form box"}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1548231094, "post_id": 54320613, "comment_id": 95463915, "body": "Good it would be better if you provide all related code for ex: Table HTML and TS file"}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1548231141, "post_id": 54320613, "comment_id": 95463940, "body": "Post the related HTML and TS file!"}, {"owner": {"reputation": 153, "user_id": 10283072, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tiBASQS5QBs/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMOP2RmmyqCcOcZie1oVqG8VxpcZQ/mo/photo.jpg?sz=128", "display_name": "Akhil Raghav", "link": "https://stackoverflow.com/users/10283072/akhil-raghav"}, "edited": false, "score": 0, "creation_date": 1548231259, "post_id": 54320613, "comment_id": 95464006, "body": "yes it is Ts file"}, {"owner": {"reputation": 260, "user_id": 1451480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e364aa91daa1cdc679fe850de8c48045?s=128&d=identicon&r=PG", "display_name": "Abu Zafor", "link": "https://stackoverflow.com/users/1451480/abu-zafor"}, "edited": false, "score": 0, "creation_date": 1548232406, "post_id": 54320613, "comment_id": 95464583, "body": "When you add a new item to the model that you have used to generate the table (i think you use ngFor to generate table) is changed. And since the model is changed the table is regenerate again. You can try by store the model in a variable and use that variable to generate the table."}], "owner": {"reputation": 153, "user_id": 10283072, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tiBASQS5QBs/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMOP2RmmyqCcOcZie1oVqG8VxpcZQ/mo/photo.jpg?sz=128", "display_name": "Akhil Raghav", "link": "https://stackoverflow.com/users/10283072/akhil-raghav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 233, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548230932, "creation_date": 1548221774, "last_edit_date": 1548230932, "question_id": 54320613, "link": "https://stackoverflow.com/questions/54320613/how-to-get-previous-data-when-i-click-add-row-dynamically-in-angular-6", "title": "How to get previous data when I click add row dynamically in angular 6?", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  addFieldValue() {\r\n       this.newarray= this.fieldArray.push(this.newAttribute)\r\n       console.log(this.newarray);\r\n        this.newAttribute = {};\r\n    }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.10/angular.min.js\"&gt;&lt;/script&gt;\r\n  &lt;td&gt;\r\n              &lt;input [(ngModel)]=\"field.SourceIP\" class=\"form-control\" type=\"text\" name=\"{{field.SourceIP}}\" /&gt;\r\n          &lt;/td&gt;\r\n          &lt;button mat-button  (click)=\"addFieldValue()\"&gt;Add More Rule\r\n        &lt;i class=\"material-icons custom\"&gt;add&lt;/i&gt;\r\n&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> addFieldValue() {\r\n       this.newarray= this.fieldArray.push(this.newAttribute)\r\n       console.log(this.newarray);\r\n        this.newAttribute = {};\r\n    }\r\n\r\n    deleteFieldValue(index: number) {\r\n        this.fieldArray.splice(index, 1);\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>When I am adding dynamic row in my table I can't able to see previous data of row.I  am using Angular 6?</p>\n\n<p>Here I am entering data after the click of add I am losing my previous data after adding a row </p>\n\n<p><img src=\"https://i.stack.imgur.com/5Pcil.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["typescript", "angular6"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 10494335, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GklWMfzf7No/AAAAAAAAAAI/AAAAAAAAAEM/m4a4fdbYpfA/photo.jpg?sz=128", "display_name": "Aswin Kumar", "link": "https://stackoverflow.com/users/10494335/aswin-kumar"}, "edited": false, "score": 0, "creation_date": 1548222405, "post_id": 54320674, "comment_id": 95460523, "body": "Is there any way rather than session storage?"}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "reply_to_user": {"reputation": 55, "user_id": 10494335, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GklWMfzf7No/AAAAAAAAAAI/AAAAAAAAAEM/m4a4fdbYpfA/photo.jpg?sz=128", "display_name": "Aswin Kumar", "link": "https://stackoverflow.com/users/10494335/aswin-kumar"}, "edited": false, "score": 0, "creation_date": 1548222456, "post_id": 54320674, "comment_id": 95460544, "body": "Of course. You could use a service and put the value there. Gimme 5 more mins."}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "reply_to_user": {"reputation": 55, "user_id": 10494335, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GklWMfzf7No/AAAAAAAAAAI/AAAAAAAAAEM/m4a4fdbYpfA/photo.jpg?sz=128", "display_name": "Aswin Kumar", "link": "https://stackoverflow.com/users/10494335/aswin-kumar"}, "edited": false, "score": 0, "creation_date": 1548222969, "post_id": 54320674, "comment_id": 95460694, "body": "Here you go. Please find above a solution using a service."}, {"owner": {"reputation": 55, "user_id": 10494335, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GklWMfzf7No/AAAAAAAAAAI/AAAAAAAAAEM/m4a4fdbYpfA/photo.jpg?sz=128", "display_name": "Aswin Kumar", "link": "https://stackoverflow.com/users/10494335/aswin-kumar"}, "edited": false, "score": 0, "creation_date": 1548223894, "post_id": 54320674, "comment_id": 95461030, "body": "Okay Thanks &amp; Have a nice day :-)"}], "tags": [], "owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "is_accepted": true, "score": 1, "last_activity_date": 1548222931, "last_edit_date": 1548222931, "creation_date": 1548222200, "answer_id": 54320674, "question_id": 54320520, "link": "https://stackoverflow.com/questions/54320520/setting-a-dynamic-variable-from-a-method-to-oninit/54320674#54320674", "title": "Setting a dynamic variable from a method to Oninit", "body": "<p>The easiest way is to use the sessionStorage. You could do it like this:</p>\n\n<pre><code>options = [ //array that holds dropdown's options\n    { name: \"All Countries\", value: '/allcountries' },\n    { name: \"India\", value: '/india' }\n]\n\ni: number = 0;\n\nonCountrySelect($event) { \n    this.i=$event.target.options.selectedIndex;\n    sessionStorage.setItem('selectedCountry', JSON.stringify(this.i));\n}\n\nngOnInit(){\n    const temp = sessionStorage.getItem('selectedCountry');\n\n    if(temp) {\n        this.i = JSON.parse(temp);\n    } \n\n    this.selectedOption = this.options[this.i].name;\n}\n</code></pre>\n\n<p>Alternatively, you could use <code>localStorage</code> instead of <code>sessionStorage</code>. The difference is, that <code>sessionStorage</code> will be erased as soon as you close the current browser tab. Whereas <code>localStorage</code> will be present until you clean up your cookies 'n stuff.</p>\n\n<p>EDIT:</p>\n\n<p><strong><em>Option 2</em></strong></p>\n\n<p>Build a service containing your variable.</p>\n\n<pre><code>import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class SimpleService {\n   private selectedCountry: number = 0;\n\n   constructor() { }\n\n   setSelectedCountry(value: number): void {\n       this.selectedCountry = value;\n   }\n\n   getSelectedCountry(): number {\n       return this.selectedCountry;\n   }\n}\n</code></pre>\n\n<p>You have to import the service into your Module and provide it. </p>\n\n<pre><code>import { ComponentA } from './component-a.ts';\nimport { SimpleService } from './simple.service.ts';\n\n@NgModule({\n  declarations: [\n    ComponentA\n  ],\n  imports: [\n    ComponentA\n  ],\n  providers: [\n      SimpleService\n  ]\n\n})\nexport class XYZModule { }\n</code></pre>\n\n<p>Then your component sets the value and gets it.</p>\n\n<p>ComponentA</p>\n\n<pre><code>import { SimpleService } from './simple.service.ts';\n\nconstructor(private simpleService: SimpleService) { }\n\nonCountrySelect($event) { \n    this.i=$event.target.options.selectedIndex;\n    this.simpleService.setSelectedCountry(this.i);\n}\n\nngOnInit(){\n    this.i = this.simpleService.getSelectedCountry();        \n    this.selectedOption = this.options[this.i].name;\n}\n</code></pre>\n\n<p>Whatever option you prefer, you have to be a little verbose when it comes to code. There is no one-liner, though.</p>\n"}], "owner": {"reputation": 55, "user_id": 10494335, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GklWMfzf7No/AAAAAAAAAAI/AAAAAAAAAEM/m4a4fdbYpfA/photo.jpg?sz=128", "display_name": "Aswin Kumar", "link": "https://stackoverflow.com/users/10494335/aswin-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20, "favorite_count": 0, "accepted_answer_id": 54320674, "answer_count": 1, "score": 0, "last_activity_date": 1548222931, "creation_date": 1548221214, "question_id": 54320520, "link": "https://stackoverflow.com/questions/54320520/setting-a-dynamic-variable-from-a-method-to-oninit", "title": "Setting a dynamic variable from a method to Oninit", "body": "<p>Processing a variable by an event by a method and wants to set it whenever the component initializes </p>\n\n<pre><code>options = [ //array that holds dropdown's options\n{ name: \"All Countries\", value: '/allcountries' },\n{ name: \"India\", value: '/india' }\n]\n\ni=0; //initializing variable 'i'\nonCountrySelect($event) { //method that gets the dropdown value's array position \nthis.i=$event.target.options.selectedIndex; //getting the event in 'i'\n}\n\nngOnInit(){\nthis.selectedOption = this.options[this.i].name; //i want to set that \nvariable 'i' here\n</code></pre>\n"}, {"tags": ["typescript", "tslint"], "answers": [{"tags": [], "owner": {"reputation": 1651, "user_id": 1830407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/72FXW.jpg?s=128&g=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/1830407/josh"}, "is_accepted": false, "score": 1, "last_activity_date": 1548385873, "creation_date": 1548385873, "answer_id": 54358460, "question_id": 54320477, "link": "https://stackoverflow.com/questions/54320477/how-to-define-new-url-when-using-typescript/54358460#54358460", "title": "How to define new URL when using typescript", "body": "<p><strong>Short version</strong>: The <code>URL</code> type is declared in the \"DOM\" lib. Add that to the <code>\"lib\"</code> section of your <code>tsconfig.json</code>:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"lib\": [\"dom\"],\n    }\n}\n</code></pre>\n\n<p><em>(if you already have other entries under <code>\"lib\"</code>, that's fine too - just add <code>\"dom\"</code> to the array)</em></p>\n\n<p><strong>Long version</strong>:</p>\n\n<p>The <code>\"lib\"</code> compiler option indicates which groups of built-in type definitions TypeScript should include. For example, you may include the <code>\"es2015\"</code> group to include type definitions for features added in ES2015. </p>\n\n<p>The <code>\"dom\"</code> lib option refers to types that exist in browser environments but not Node environments. The <code>URL</code> class is an example of that, so it's declared in the <code>\"dom\"</code> types.</p>\n\n<p>Note that TypeScript includes the <code>\"dom\"</code> types by default. I'm guessing you've overridden the list to something else, and aren't including them in yours.</p>\n\n<p>For more info, see:</p>\n\n<ul>\n<li><a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">TS compiler options</a></li>\n<li><a href=\"https://stackoverflow.com/questions/39303385/what-does-the-tsconfig-option-lib-do\">What does the tsconfig option \u201clib\u201d do?</a></li>\n</ul>\n"}], "owner": {"reputation": 6882, "user_id": 2567859, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/kJ7FA.jpg?s=128&g=1", "display_name": "Dreams", "link": "https://stackoverflow.com/users/2567859/dreams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 978, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548385873, "creation_date": 1548220963, "question_id": 54320477, "link": "https://stackoverflow.com/questions/54320477/how-to-define-new-url-when-using-typescript", "title": "How to define new URL when using typescript", "body": "<p>Below is my code </p>\n\n<pre><code>const url: any = new URL((global as any).window.location);\n</code></pre>\n\n<p>However, typescript says can not find name URL.</p>\n\n<p>How can I fix it? </p>\n"}, {"tags": ["css", "angular", "typescript", "sass", "angular-material"], "comments": [{"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 1, "creation_date": 1548216131, "post_id": 54319652, "comment_id": 95459088, "body": "<a href=\"https://stackblitz.com/edit/angular-dhq2cv-8rtpvp?file=app/table-sorting-example.css\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-dhq2cv-8rtpvp?file=app/&hellip;</a>"}, {"owner": {"reputation": 749, "user_id": 5108909, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/2aaeedaf64b312dc7bbc672dfe0759f2?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/5108909/andrew"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1548217900, "post_id": 54319652, "comment_id": 95459462, "body": "Awesome, thank you! If you put that as an answer I&#39;ll mark it as such."}], "answers": [{"tags": [], "owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "is_accepted": true, "score": 4, "last_activity_date": 1548219619, "creation_date": 1548219619, "answer_id": 54320298, "question_id": 54319652, "link": "https://stackoverflow.com/questions/54319652/angular-material-table-css-to-get-headers-to-left-align-when-text-wraps/54320298#54320298", "title": "Angular Material Table - CSS to get headers to left align when text wraps", "body": "<p>The reason why your styles is not working is that Angular uses Emulated encapsulation be default so your styles are component scoped. That means that you can only apply class to element which is placed in component template directly. You can't style nested components.</p>\n\n<p><a href=\"https://i.stack.imgur.com/zK2B7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zK2B7.png\" alt=\"enter image description here\"></a></p>\n\n<p>To style elements from nested components you have to use ::ng-deep selector:</p>\n\n<pre><code>::ng-deep .mat-sort-header-button {\n  text-align: left;\n}\n</code></pre>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-dhq2cv-8rtpvp?file=app/table-sorting-example.css\" rel=\"nofollow noreferrer\">Forked Stackblitz</a></strong></p>\n\n<p>There are other ways to solve it:</p>\n\n<ul>\n<li><p>using <code>encapsulation: ViewEncapsulation.None</code></p></li>\n<li><p>using global styles</p></li>\n</ul>\n"}], "owner": {"reputation": 749, "user_id": 5108909, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/2aaeedaf64b312dc7bbc672dfe0759f2?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/5108909/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 979, "favorite_count": 2, "accepted_answer_id": 54320298, "answer_count": 1, "score": 1, "last_activity_date": 1548219619, "creation_date": 1548214360, "question_id": 54319652, "link": "https://stackoverflow.com/questions/54319652/angular-material-table-css-to-get-headers-to-left-align-when-text-wraps", "title": "Angular Material Table - CSS to get headers to left align when text wraps", "body": "<p>With the <a href=\"https://material.angular.io/components/table/overview\" rel=\"nofollow noreferrer\">Angular Material Table</a> component, by default, the column headers on a table will left align, which is great:</p>\n\n<p><a href=\"https://i.stack.imgur.com/6GFru.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6GFru.png\" alt=\"Left aligned headers\"></a></p>\n\n<p>However, if there isn't enough room for the header then the text wraps, which is fine except that the text then center aligns...</p>\n\n<p><a href=\"https://i.stack.imgur.com/r6o61.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r6o61.png\" alt=\"Center align text\"></a></p>\n\n<p>How do I make the text left align? I thought this would be straight forward, but I'm having issues. This also only appears to happen on headers with sorting, because if you remove the <code>mat-sort-header</code> directive from any of the header cells, things left align correctly. </p>\n\n<p>I tried adding the following css class definition, but no luck:</p>\n\n<pre><code>.mat-sort-header-button {\n    text-align: left;\n}\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-dhq2cv?file=app%2Ftable-sorting-example.css\" rel=\"nofollow noreferrer\">Here is the demo</a> I'm playing around with.</p>\n"}, {"tags": ["typescript", "express", "nestjs"], "answers": [{"comments": [{"owner": {"reputation": 7883, "user_id": 2926340, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/e3095d7dc611cccee149cd72e48ce0bd?s=128&d=identicon&r=PG&f=1", "display_name": "sreginogemoh", "link": "https://stackoverflow.com/users/2926340/sreginogemoh"}, "edited": false, "score": 0, "creation_date": 1548382213, "post_id": 54320184, "comment_id": 95530806, "body": "still having an issue"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1548218867, "creation_date": 1548218867, "answer_id": 54320184, "question_id": 54319355, "link": "https://stackoverflow.com/questions/54319355/nestjs-typeerror-root-path-must-be-a-string/54320184#54320184", "title": "Nestjs. TypeError: root path must be a string", "body": "<p>You need to provide the <code>prefix</code> property. </p>\n\n<h1>Fix</h1>\n\n<pre><code>  app.useStaticAssets({\n    root: path.join(__dirname, '..', 'public'),\n    prefix: '/public/',\n  });\n</code></pre>\n\n<h1>More</h1>\n\n<ul>\n<li>Docs: <a href=\"https://docs.nestjs.com/techniques/mvc\" rel=\"nofollow noreferrer\">https://docs.nestjs.com/techniques/mvc</a> </li>\n<li>Relevant issue : <a href=\"https://github.com/nestjs/nest/issues/1083\" rel=\"nofollow noreferrer\">https://github.com/nestjs/nest/issues/1083</a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 7883, "user_id": 2926340, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/e3095d7dc611cccee149cd72e48ce0bd?s=128&d=identicon&r=PG&f=1", "display_name": "sreginogemoh", "link": "https://stackoverflow.com/users/2926340/sreginogemoh"}, "edited": false, "score": 0, "creation_date": 1548381746, "post_id": 54323766, "comment_id": 95530724, "body": "Hi I just used <code>app.useStaticAssets(path.join(__dirname, &#39;..&#39;, &#39;public&#39;));</code>  saying <code>{&quot;statusCode&quot;:404,&quot;error&quot;:&quot;Not Found&quot;,&quot;message&quot;:&quot;Cannot GET &#47;&quot;}</code>"}, {"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "reply_to_user": {"reputation": 7883, "user_id": 2926340, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/e3095d7dc611cccee149cd72e48ce0bd?s=128&d=identicon&r=PG&f=1", "display_name": "sreginogemoh", "link": "https://stackoverflow.com/users/2926340/sreginogemoh"}, "edited": false, "score": 0, "creation_date": 1548413057, "post_id": 54323766, "comment_id": 95541366, "body": "Can you show the code of your controller? Have you added <code>@Render</code>?"}, {"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "reply_to_user": {"reputation": 7883, "user_id": 2926340, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/e3095d7dc611cccee149cd72e48ce0bd?s=128&d=identicon&r=PG&f=1", "display_name": "sreginogemoh", "link": "https://stackoverflow.com/users/2926340/sreginogemoh"}, "edited": false, "score": 0, "creation_date": 1548597907, "post_id": 54323766, "comment_id": 95589784, "body": "I have edited my answer: Just remove your controller method <code>root</code> and go to <code>localhost:3000</code>."}, {"owner": {"reputation": 7883, "user_id": 2926340, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/e3095d7dc611cccee149cd72e48ce0bd?s=128&d=identicon&r=PG&f=1", "display_name": "sreginogemoh", "link": "https://stackoverflow.com/users/2926340/sreginogemoh"}, "edited": false, "score": 0, "creation_date": 1548665141, "post_id": 54323766, "comment_id": 95607266, "body": "Interesting but that didn&#39;t help. After I remove the controller method <code>root</code> still getting <code>{&quot;statusCode&quot;:404,&quot;error&quot;:&quot;Not Found&quot;,&quot;message&quot;:&quot;Cannot GET &#47;&quot;}</code> using <code>app.useStaticAssets(path.join(__dirname, &#39;..&#39;, &#39;public&#39;));</code>"}, {"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "reply_to_user": {"reputation": 7883, "user_id": 2926340, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/e3095d7dc611cccee149cd72e48ce0bd?s=128&d=identicon&r=PG&f=1", "display_name": "sreginogemoh", "link": "https://stackoverflow.com/users/2926340/sreginogemoh"}, "edited": false, "score": 0, "creation_date": 1548669077, "post_id": 54323766, "comment_id": 95609288, "body": "Are you using express or fastify?"}, {"owner": {"reputation": 7883, "user_id": 2926340, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/e3095d7dc611cccee149cd72e48ce0bd?s=128&d=identicon&r=PG&f=1", "display_name": "sreginogemoh", "link": "https://stackoverflow.com/users/2926340/sreginogemoh"}, "edited": false, "score": 0, "creation_date": 1548721341, "post_id": 54323766, "comment_id": 95635066, "body": "I am using the default - express."}, {"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "reply_to_user": {"reputation": 7883, "user_id": 2926340, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/e3095d7dc611cccee149cd72e48ce0bd?s=128&d=identicon&r=PG&f=1", "display_name": "sreginogemoh", "link": "https://stackoverflow.com/users/2926340/sreginogemoh"}, "edited": false, "score": 0, "creation_date": 1550032051, "post_id": 54323766, "comment_id": 96115933, "body": "Have a look at this simple example without any controller. It just serves all the files in <code>&#47;public</code>: <a href=\"https://codesandbox.io/s/54x0w1y38l\" rel=\"nofollow noreferrer\">codesandbox.io/s/54x0w1y38l</a>"}, {"owner": {"reputation": 7883, "user_id": 2926340, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/e3095d7dc611cccee149cd72e48ce0bd?s=128&d=identicon&r=PG&f=1", "display_name": "sreginogemoh", "link": "https://stackoverflow.com/users/2926340/sreginogemoh"}, "edited": false, "score": 0, "creation_date": 1551757661, "post_id": 54323766, "comment_id": 96746823, "body": "Not yet, I&#39;ll let you know"}], "tags": [], "owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "is_accepted": false, "score": 2, "last_activity_date": 1550032025, "last_edit_date": 1550032025, "creation_date": 1548235102, "answer_id": 54323766, "question_id": 54319355, "link": "https://stackoverflow.com/questions/54319355/nestjs-typeerror-root-path-must-be-a-string/54323766#54323766", "title": "Nestjs. TypeError: root path must be a string", "body": "<p>Note that the configuration is different for express and fastify:</p>\n\n<h2>Express (default)</h2>\n\n<pre><code>app.useStaticAssets(join(__dirname, '..', 'public'));\n</code></pre>\n\n<h2>Fastify</h2>\n\n<pre><code>app.useStaticAssets({      \n    root: join(__dirname, '..', public'),\n    prefix: '/public/',\n});\n</code></pre>\n\n<hr>\n\n<p><code>join</code> is directly imported in the examples.</p>\n\n<pre><code>import { join } from 'path';\n</code></pre>\n\n<hr>\n\n<p>If you are serving static content you don't need to add a specific controller; the assets will automatically be available via the middleware.</p>\n\n<p>Lets assume you have two files under <code>/public</code>: <code>index.html</code> and <code>image.png</code></p>\n\n<ul>\n<li><code>localhost:3000</code> and <code>localhost:3000/index.html</code> serve <code>index.html</code></li>\n<li><code>localhost:3000/image.png</code> serves <code>image.png</code></li>\n</ul>\n\n<p>See this simple <a href=\"https://codesandbox.io/s/54x0w1y38l\" rel=\"nofollow noreferrer\">codesandbox example</a> without a controller.</p>\n"}, {"tags": [], "owner": {"reputation": 1098, "user_id": 5746996, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/35dc540cf54e399c576d518d1ef30310?s=128&d=identicon&r=PG&f=1", "display_name": "Tobin", "link": "https://stackoverflow.com/users/5746996/tobin"}, "is_accepted": false, "score": 0, "last_activity_date": 1576147693, "creation_date": 1576147693, "answer_id": 59302871, "question_id": 54319355, "link": "https://stackoverflow.com/questions/54319355/nestjs-typeerror-root-path-must-be-a-string/59302871#59302871", "title": "Nestjs. TypeError: root path must be a string", "body": "<p>For what it's worth to anyone; I spent a while on this then realised that my <code>await app.listen(3000);</code> was before my <code>app.useStaticAssets(join(__dirname, '..', 'public'));</code>.</p>\n"}], "owner": {"reputation": 7883, "user_id": 2926340, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/e3095d7dc611cccee149cd72e48ce0bd?s=128&d=identicon&r=PG&f=1", "display_name": "sreginogemoh", "link": "https://stackoverflow.com/users/2926340/sreginogemoh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2692, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1576147693, "creation_date": 1548211701, "last_edit_date": 1548665213, "question_id": 54319355, "link": "https://stackoverflow.com/questions/54319355/nestjs-typeerror-root-path-must-be-a-string", "title": "Nestjs. TypeError: root path must be a string", "body": "<p>I am configuring the static files folder in <code>main.ts</code></p>\n\n<pre><code>  app.useStaticAssets({\n    root: path.resolve(__dirname + '/public'),\n  });\n</code></pre>\n\n<p>Now on runtime am having an error <code>TypeError: root path must be a string</code>\nI tried to use <code>path.join(__dirname + '/public'),</code> - didn't help.</p>\n\n<p>I do import path like <code>import * as path from 'path'</code></p>\n\n<p>Any ideas how to fix?</p>\n\n<p><strong>UPDATE</strong>:\nas per answers above I am trying:</p>\n\n<p><code>app.useStaticAssets(join(__dirname, '..', 'public'));</code> - getting an error <code>{\"statusCode\":404,\"error\":\"Not Found\",\"message\":\"Cannot GET /\"}</code></p>\n\n<p>also tried:</p>\n\n<pre><code>app.useStaticAssets({\n    root: path.join(__dirname, '..', 'public'),\n    prefix: '/public/',\n  });\n</code></pre>\n\n<p>Still getting same error with this one - <code>TypeError: root path must be a string</code></p>\n\n<p>My controller method looks like:</p>\n\n<pre><code>  @Get()\n  root(@Res() res) {\n    res.sendFile('index.html');\n  }\n</code></pre>\n\n<p><strong>UPDATE</strong>:\nIf I have <code>app.useStaticAssets(path.join(__dirname, '..', 'public'));</code> and removing <code>root</code> controller method still having <code>404</code> error.</p>\n"}, {"tags": ["angular", "typescript", "angular-reactive-forms", "reactive-forms"], "answers": [{"tags": [], "owner": {"reputation": 6137, "user_id": 3870547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b3e98f2a1ec4b92a87aa6c76e095d8?s=128&d=identicon&r=PG&f=1", "display_name": "zmag", "link": "https://stackoverflow.com/users/3870547/zmag"}, "is_accepted": false, "score": 0, "last_activity_date": 1548209067, "creation_date": 1548209067, "answer_id": 54319053, "question_id": 54319022, "link": "https://stackoverflow.com/questions/54319022/how-to-send-images-in-fields-of-a-form-group/54319053#54319053", "title": "How to send images in fields of a form group?", "body": "<p>I think <code>formControlName</code> attribute need to be moved to other <code>input</code> tag.</p>\n\n<pre><code>        &lt;label for=\"selecionarFotoBannerEvento\" style=\"cursor:pointer;\"&gt;\n          &lt;p class=\"titulo-selecao-foto\"&gt;&amp;nbsp; Adicionar banner do evento&lt;/p&gt;\n          &lt;p class=\"legenda\"&gt;Recomendado imagens com tamanho 800x150.&lt;/p&gt;\n          &lt;input name=\"bannerHidden\" type=\"hidden\"&gt;\n          &lt;input formControlName=\"banner_pic\"\n                 (change)=\"handleBanner($event.target.files[0])\"\n                 type=\"file\"\n                 accept=\"image/*\"\n                 id=\"selecionarFotoBannerEvento\"\n                 style=\"display: none\"/&gt;\n        &lt;/label&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 169, "user_id": 7220339, "user_type": "registered", "profile_image": "https://graph.facebook.com/238658549843847/picture?type=large", "display_name": "Alisson Boucinhas", "link": "https://stackoverflow.com/users/7220339/alisson-boucinhas"}, "edited": false, "score": 0, "creation_date": 1548251166, "post_id": 54319217, "comment_id": 95475342, "body": "O problema &#233; que eu tenho que enviar duas imagens em um objeto. Sua solu&#231;&#227;o funciona para enviar apenas imagens, mas n&#227;o &#233; v&#225;lida quando a imagem faz parte do formul&#225;rio."}, {"owner": {"reputation": 2976, "user_id": 7829826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V9ysd.png?s=128&g=1", "display_name": "Daniel Eduardo Delgado Diaz", "link": "https://stackoverflow.com/users/7829826/daniel-eduardo-delgado-diaz"}, "reply_to_user": {"reputation": 169, "user_id": 7220339, "user_type": "registered", "profile_image": "https://graph.facebook.com/238658549843847/picture?type=large", "display_name": "Alisson Boucinhas", "link": "https://stackoverflow.com/users/7220339/alisson-boucinhas"}, "edited": false, "score": 1, "creation_date": 1548252064, "post_id": 54319217, "comment_id": 95475834, "body": "You can append data to a form with another fields like id, title, description, etc. This form will be send to your API as a normal a HTML form with a submit and action form... I updated my answer, check it out."}], "tags": [], "owner": {"reputation": 2976, "user_id": 7829826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V9ysd.png?s=128&g=1", "display_name": "Daniel Eduardo Delgado Diaz", "link": "https://stackoverflow.com/users/7829826/daniel-eduardo-delgado-diaz"}, "is_accepted": true, "score": 0, "last_activity_date": 1548251914, "last_edit_date": 1548251914, "creation_date": 1548210542, "answer_id": 54319217, "question_id": 54319022, "link": "https://stackoverflow.com/questions/54319022/how-to-send-images-in-fields-of-a-form-group/54319217#54319217", "title": "How to send images in fields of a form group?", "body": "<p>Here I have a crud example that send an image here: <a href=\"https://github.com/dedd1993/angular-cms/blob/master/src/app/pages/clients/client-form/client-form.component.ts\" rel=\"nofollow noreferrer\">https://github.com/dedd1993/angular-cms/blob/master/src/app/pages/clients/client-form/client-form.component.ts</a>.</p>\n\n\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div&gt;\n    &lt;img class=\"preview-image\" [src]=\"imageFile ? imageFile.link : 'localhost/image.png'\"&gt;\n    &lt;button type=\"button\" onclick=\"document.querySelector('#exampleInputFile').click()\"&gt;&lt;/button&gt;\n    &lt;input type=\"file\" id=\"exampleInputFile\" (change)=\"imagesPreview($event)\" style=\"display: none;\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n\n\n<pre class=\"lang-js prettyprint-override\"><code>@Component({\n    selector: 'app-form',\n})\nexport class FormComponent implements OnInit {\n    imageFile: {link: string, file: any, name: string};\n\n    constructor(){ }\n\n    imagesPreview(event) {\n        if (event.target.files &amp;&amp; event.target.files[0]) {\n            const reader = new FileReader();\n\n            reader.onload = (_event: any) =&gt; {\n                this.imageFile = {\n                    link: _event.target.result,\n                    file: event.srcElement.files[0],\n                    name: event.srcElement.files[0].name\n                };\n            };\n            reader.readAsDataURL(event.target.files[0]);\n        }\n    }\n\n    save(): void {\n        const formData = new FormData();\n        formData.append('myImageToSend', this.imageFile.file);\n        formData.append('title', 'Set your title name here');\n        formData.append('description', 'Set your title description here');\n\n        this.clientService.create(formData).subscribe(data =&gt; {});\n    }\n}\n</code></pre>\n\n\n"}, {"tags": [], "owner": {"reputation": 860, "user_id": 3499413, "user_type": "registered", "profile_image": "https://graph.facebook.com/1345373759/picture?type=large", "display_name": "MedElmaachi", "link": "https://stackoverflow.com/users/3499413/medelmaachi"}, "is_accepted": false, "score": 0, "last_activity_date": 1560964676, "creation_date": 1560964676, "answer_id": 56672910, "question_id": 54319022, "link": "https://stackoverflow.com/questions/54319022/how-to-send-images-in-fields-of-a-form-group/56672910#56672910", "title": "How to send images in fields of a form group?", "body": "<p>HTML Component</p>\n\n<pre><code>     &lt;form [formGroup]=\"controleForm\" (submit)=\"upload()\"&gt;\n      &lt;input   #fileInput    formControlName=\"image\" type=\"file\"&gt;\n      &lt;input   formControlName=\"user\" type=\"file\"&gt;\n      &lt;button   type=\"submit\" &gt; Send &lt;/button&gt;\n     &lt;/form&gt;\n</code></pre>\n\n<p>TS component </p>\n\n<pre><code>export class UploadComponent implements OnInit {\n\n          @ViewChild(\"fileInput\") fileInput;\n\n          pointControleFilter: FormGroup;\n          constructor(private _http: HttpClient) {}\n\n          ngOnInit() {\n            this.controleForm = new FormGroup({\n              nom: new FormControl('', [Validators.required])    \n           });\n          }\n\n      upload()\n      {\n        const formData = new FormData();\n        formData.append('nom', this.controleForm.get('nom').value);\n        formData.append('image', this.fileInput.nativeElement.files[0]);\n        this._http.post('url' , formData).subscribe((res)=&gt;{\n           /* if all is ok */\n           Console.log('image has been sent')\n         });\n      }\n    }\n</code></pre>\n"}], "owner": {"reputation": 169, "user_id": 7220339, "user_type": "registered", "profile_image": "https://graph.facebook.com/238658549843847/picture?type=large", "display_name": "Alisson Boucinhas", "link": "https://stackoverflow.com/users/7220339/alisson-boucinhas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3569, "favorite_count": 2, "accepted_answer_id": 54319217, "answer_count": 3, "score": 1, "last_activity_date": 1560964676, "creation_date": 1548208646, "question_id": 54319022, "link": "https://stackoverflow.com/questions/54319022/how-to-send-images-in-fields-of-a-form-group", "title": "How to send images in fields of a form group?", "body": "<p>I have a form group where I need to send two images in the profile_pic and banner_pic fields. However, all the ways that having sent the server returns me an error message stating that the values entered in the fields must be of type file.</p>\n\n<pre><code>handleBanner(file: File) {\n    this.fileBanner = file;\n    const reader = new FileReader();\n    reader.onload = (event: any) =&gt; {\n       this.eventForm.patchValue({\n        banner_pic: reader.result\n     });\n\n     this.urlPreviewBanner = event.target.result;\n    }\n     reader.readAsDataURL(file); \n}\n\n&lt;div class=\"col s1\"&gt;\n            &lt;label for=\"selecionarFotoBannerEvento\" style=\"cursor:pointer;\"&gt;\n              &lt;img [src]=\"urlPreviewBanner\"\n                   alt=\"\"\n                   class=\"responsive-img\"\n                   width=\"800\"/&gt;\n            &lt;/label&gt;\n          &lt;/div&gt;\n          &lt;div class=\"col s9\"&gt;\n            &lt;label for=\"selecionarFotoBannerEvento\" style=\"cursor:pointer;\"&gt;\n              &lt;p class=\"titulo-selecao-foto\"&gt;&amp;nbsp; Adicionar banner do evento&lt;/p&gt;\n              &lt;p class=\"legenda\"&gt;Recomendado imagens com tamanho 800x150.&lt;/p&gt;\n              &lt;input formControlName=\"banner_pic\" name=\"bannerHidden\" type=\"hidden\"&gt;\n              &lt;input \n                     (change)=\"handleBanner($event.target.files[0])\"\n                     type=\"file\"\n                     accept=\"image/*\"\n                     id=\"selecionarFotoBannerEvento\"\n                     style=\"display: none\"/&gt;\n            &lt;/label&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<p>Currently I can display the image in preview but at the time of submitting the response the server remains stating that the values need to be of the file type.</p>\n"}, {"tags": ["typescript", "typescript3.0"], "answers": [{"tags": [], "owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "is_accepted": true, "score": 1, "last_activity_date": 1548209654, "last_edit_date": 1548209654, "creation_date": 1548209260, "answer_id": 54319086, "question_id": 54318839, "link": "https://stackoverflow.com/questions/54318839/how-to-have-alternative-string-definition-for-numeric-enum-in-typescript/54319086#54319086", "title": "How to have alternative string definition for numeric enum in typescript", "body": "<p>You could store the enum strings in a <code>Map</code> object:</p>\n\n<pre><code>ratingStrings = new Map&lt;Rating,string&gt;([\n  [Rating.Unknown, \"Unknown Rating\"],\n  [Rating.One, \"Rating One\"],\n  [Rating.Two, \"Rating is Two\"],\n  [Rating.Three, \"Rating is Three\"],\n  [Rating.Four, \"Rating is Four\"],\n]);\n\ndoSomething() {\n  let str = this.ratingStrings.get(Rating.Unknown);\n  ...\n}\n</code></pre>\n\n<p>Alternatively, in cases where the string format is the same for all enum values, you could use a function like the following:</p>\n\n<pre><code>ratingToString(rating: Rating): string {\n  return `Rating ${Rating[rating]}`;\n}\n\ndoSomething() {\n  let str = this.ratingToString(Rating.Unknown);\n  ...\n}\n</code></pre>\n\n<p>See <a href=\"https://stackblitz.com/edit/angular-g7cjzk?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">this stackblitz</a> for a demo of both techniques.</p>\n"}], "owner": {"reputation": 472, "user_id": 10090820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2775968cf8e6abe804964367d8cbac6?s=128&d=identicon&r=PG&f=1", "display_name": "PNDev", "link": "https://stackoverflow.com/users/10090820/pndev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 54319086, "answer_count": 1, "score": 1, "last_activity_date": 1548211529, "creation_date": 1548207200, "last_edit_date": 1548211529, "question_id": 54318839, "link": "https://stackoverflow.com/questions/54318839/how-to-have-alternative-string-definition-for-numeric-enum-in-typescript", "title": "How to have alternative string definition for numeric enum in typescript", "body": "<p>I have a numeric enum like below.</p>\n\n<pre><code>enum Rating {\n  Unknown = 0,\n  One,\n  Two,\n  Three,\n  Four\n}\n</code></pre>\n\n<p>I need to get alternative string value of enum when I access the enum string like below.</p>\n\n<pre><code>var stringVal = Rating[Rating.One];\n</code></pre>\n\n<p>The above line should give me \"Rating of One\" instead of One. </p>\n\n<p>I need to stick to numeric enums and cannot use string enums. Once solution what I could think of is to use string array like below.</p>\n\n<pre><code>const stringRating = [\"Unknown Rating\", \"Rating One\", \"Rating is Two\", \"Rating is Three\", \"Rating is Four\"];\nexport function toString(rating: Rating): string {\nreturn stringValues[rating];\n</code></pre>\n\n<p>But is there a better way to achieve this in typescript?</p>\n\n<p>I'm expecting something like Description attribute in c# for enums like below</p>\n\n<pre><code>public enum MyEnum \n{ \n  [Description(\"value 1\")] \n  Value1, \n  [Description(\"value 2\")]\n  Value2, \n  [Description(\"value 3\")]\n  Value3\n}\n</code></pre>\n"}]