[{"tags": ["typescript", "interface", "typescript-typings"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1559781601, "post_id": 56469316, "comment_id": 99530485, "body": "This is a <a href=\"https://github.com/microsoft/TypeScript/issues/241\" rel=\"nofollow noreferrer\">known issue</a> in TypeScript.  Excess property checking doesn&#39;t occur on function expression returns, although people expect it to.  TypeScript doesn&#39;t have a direct way to specify <a href=\"https://github.com/Microsoft/TypeScript/issues/12936\" rel=\"nofollow noreferrer\">exact types</a>, which is what you want.  There are ways to get similar behavior, but they will likely require you to use a helper function like <code>const foo = asIFunctionIstore(...)</code> instead of your desired <code>const foo: IFunction&lt;IStore&gt; = ...</code>.  Not sure if you&#39;d be intersted in such a solution"}], "answers": [{"tags": [], "owner": {"reputation": 4173, "user_id": 7428434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1348497625208827/picture?type=large", "display_name": "Shanon Jackson", "link": "https://stackoverflow.com/users/7428434/shanon-jackson"}, "is_accepted": false, "score": 0, "last_activity_date": 1559779206, "creation_date": 1559779206, "answer_id": 56469456, "question_id": 56469316, "link": "https://stackoverflow.com/questions/56469316/typescript-why-described-return-values-type-in-functional-interface-is-being/56469456#56469456", "title": "Typescript. Why described &quot;return value&#39;s&quot; type in functional interface is being not strict implemented?", "body": "<p>Typescript sometimes apply strict property check, and sometimes doesn't. When colon is applied it always applies strict property check (with the exception of function arguments). When colon isn't applied its comparing the structure to see if matches the structure of the alias, if true the types are compatible and this is the core of structural typing. This colon check applies to the nearest colon in scope.</p>\n\n<p>IStore or Partial when colon is applied to the ReturnType can only have {test: string} or {}; but never excess properties.\nI.E</p>\n\n<pre><code>const foo2 = (): Partial&lt;IStore&gt; =&gt; ({}); // is allowed but...\nconst foo2 = (): Partial&lt;IStore&gt; =&gt; ({notALlowed: true}); // not allowed\n</code></pre>\n\n<p>When colon is not applied it is doing a structural type-check with excess property off this is the case of the type alias for the function. </p>\n\n<pre><code>type IFunction&lt;S&gt; = (store: S) =&gt; Partial&lt;S&gt;;\n\n\nconst foo1: IFunction&lt;IStore&gt; = () =&gt; ({\n  test: '',\n  test2: '' // why no errors in this row?\n});\n</code></pre>\n\n<p>Now there might be some confusion because both snippets implement a colon but the difference lies in where the colon is positioned, in the case of functions, the colon to the left will only apply strict property check on the function arguments but never the ReturnType.</p>\n"}], "owner": {"reputation": 79, "user_id": 6699424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f916cdbb6ced81013664dc2bea4ed69c?s=128&d=identicon&r=PG&f=1", "display_name": "Roman Belov", "link": "https://stackoverflow.com/users/6699424/roman-belov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1559779206, "creation_date": 1559777766, "question_id": 56469316, "link": "https://stackoverflow.com/questions/56469316/typescript-why-described-return-values-type-in-functional-interface-is-being", "title": "Typescript. Why described &quot;return value&#39;s&quot; type in functional interface is being not strict implemented?", "body": "<p>I tried to describe functional interface with specific partial type of return value in one place. </p>\n\n<p>My interface <code>IStore</code> contains only one property <code>test</code>. If i set my interface to some function <code>foo</code>, which return a hashmap also with another properties, typescript tells \"all ok\". But I need to get ts error while returned value from <code>foo</code> is not strict matched with <code>Partial&lt;IStore&gt;</code>. Without explicit indication return value on <code>foo</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface IStore {test: string;}\ntype IFunction&lt;S&gt; = (store: S) =&gt; Partial&lt;S&gt;;\n\n// no ts errors. WHY?\n// that's NO OK for me.\nconst foo1: IFunction&lt;IStore&gt; = () =&gt; ({\n  test: '',\n  test2: '' // why no errors in this row?\n});\n\n// ts error,\n// it is working, but not my target case\nconst foo2: IFunction&lt;IStore&gt; = (): IStore =&gt; ({\n  test: '',\n  test2: '' // error here\n});\n\n\n// Meanwhile...\n// no ts error\n// that's OK\nconst foo3: IFunction&lt;IStore&gt; = () =&gt; ({\n  test: ''\n});\n\n// and...\n// ts error: Type '{ test2: string; }' has no properties\n// in common with type 'Partial&lt;IStore&gt;'\n// that's OK\nconst foo4: IFunction&lt;IStore&gt; = () =&gt; ({\n  test2: ''\n});\n\n</code></pre>\n\n<p>How can I get error from \"case 2\" (<code>foo2</code>) in \"case 1\" (<code>foo1</code>) without <code>... (): IStore =&gt; ...</code>?</p>\n"}, {"tags": ["javascript", "typescript", "rxjs", "observable"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 5687791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e811ee90b315e52ee1a60db71ebf2903?s=128&d=identicon&r=PG&f=1", "display_name": "theXman", "link": "https://stackoverflow.com/users/5687791/thexman"}, "edited": false, "score": 0, "creation_date": 1559810424, "post_id": 56469656, "comment_id": 99538212, "body": "Thanks for the answer, but the result is not satifying."}, {"owner": {"reputation": 25, "user_id": 5687791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e811ee90b315e52ee1a60db71ebf2903?s=128&d=identicon&r=PG&f=1", "display_name": "theXman", "link": "https://stackoverflow.com/users/5687791/thexman"}, "edited": false, "score": 0, "creation_date": 1559811288, "post_id": 56469656, "comment_id": 99538635, "body": "I solved it with this solution: <a href=\"https://stackoverflow.com/questions/50332149/rxjs-groupby-observable-object\">link</a>"}], "tags": [], "owner": {"reputation": 4639, "user_id": 2216584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dca1683e1100877238b0eaa085639562?s=128&d=identicon&r=PG", "display_name": "user2216584", "link": "https://stackoverflow.com/users/2216584/user2216584"}, "is_accepted": false, "score": 0, "last_activity_date": 1559783860, "last_edit_date": 1559783860, "creation_date": 1559781576, "answer_id": 56469656, "question_id": 56469230, "link": "https://stackoverflow.com/questions/56469230/groupby-rxjs-for-observableobject/56469656#56469656", "title": "GroupBy RxJs for Observable&lt;Object[]&gt;", "body": "<p>You can do the following - </p>\n\n<pre><code>const data = [{\n   \"_id\": 1,\n   \"_title\": \"Testveranstaltung 1\",\n   \"_startDate\": \"2019-05-29T07:20:00.000Z\",\n   \"_endDate\": \"2019-05-29T08:00:00.000Z\",\n   \"_isAllDay\": false\n }, {\n   \"_id\": 2,\n   \"_title\": \"Testveranstaltung 2\",\n   \"_startDate\": \"2019-06-10T07:00:00.000Z\",\n   \"_endDate\": \"2019-08-02T07:00:00.000Z\",\n   \"_isAllDay\": false\n }, {\n   \"_id\": 3,\n   \"_title\": \"Testveranstaltung 3\",\n   \"_startDate\": \"2019-06-12T07:00:00.000Z\",\n   \"_endDate\": \"2019-06-12T10:00:00.000Z\",\n   \"_isAllDay\": false\n}];\n\nfrom(data).pipe(\n  groupBy(d =&gt; d['_startDate'], p =&gt; p),\n  mergeMap(group =&gt; zip(of(group.key), group.pipe(toArray())))\n).subscribe(console.log);\n</code></pre>\n\n<p>See the following stackblitz - </p>\n\n<p><a href=\"https://stackblitz.com/edit/rxjs-groupby-key-vals-hsj3a7?file=index.ts&amp;devtoolsheight=100\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/rxjs-groupby-key-vals-hsj3a7?file=index.ts&amp;devtoolsheight=100</a></p>\n\n<p>You need to adjust format the date as per your need.</p>\n"}], "owner": {"reputation": 25, "user_id": 5687791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e811ee90b315e52ee1a60db71ebf2903?s=128&d=identicon&r=PG&f=1", "display_name": "theXman", "link": "https://stackoverflow.com/users/5687791/thexman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559783860, "creation_date": 1559776908, "last_edit_date": 1559782956, "question_id": 56469230, "link": "https://stackoverflow.com/questions/56469230/groupby-rxjs-for-observableobject", "title": "GroupBy RxJs for Observable&lt;Object[]&gt;", "body": "<p>I have the following entries with the type <code>Observable&lt;Event[]&gt;:</code></p>\n\n<pre><code>[{\n   \"_id\": 1,\n   \"_title\": \"Testveranstaltung 1\",\n   \"_startDate\": \"2019-05-29T07:20:00.000Z\",\n   \"_endDate\": \"2019-05-29T08:00:00.000Z\",\n   \"_isAllDay\": false\n }, {\n   \"_id\": 2,\n   \"_title\": \"Testveranstaltung 2\",\n   \"_startDate\": \"2019-06-10T07:00:00.000Z\",\n   \"_endDate\": \"2019-08-02T07:00:00.000Z\",\n   \"_isAllDay\": false\n }, {\n   \"_id\": 3,\n   \"_title\": \"Testveranstaltung 3\",\n   \"_startDate\": \"2019-06-12T07:00:00.000Z\",\n   \"_endDate\": \"2019-06-12T10:00:00.000Z\",\n   \"_isAllDay\": false\n}]\n</code></pre>\n\n<p>The array should be made to a two dimensional array that is grouped by the month of startDate (moment.js-Object).\nI want to look the array like this:</p>\n\n<pre><code>[{\n        \"May 2019\": [\n            [\n                \"_id\": 1,\n                \"_title\": \"Testveranstaltung 1\",\n                \"_startDate\": \"2019-05-29T07:20:00.000Z\",\n                \"_endDate\": \"2019-05-29T08:00:00.000Z\",\n                \"_isAllDay\": false\n            ]\n        ]\n    },\n    {\n        \"June 2019\": [\n            [\n                \"_id\": 2,\n                \"_title\": \"Testveranstaltung 2\",\n                \"_startDate\": \"2019-06-10T07:00:00.000Z\",\n                \"_endDate\": \"2019-08-02T07:00:00.000Z\",\n                \"_isAllDay\": false\n            ],\n            [\n                \"_id\": 3,\n                \"_title\": \"Testveranstaltung 3\",\n                \"_startDate\": \"2019-06-12T07:00:00.000Z\",\n                \"_endDate\": \"2019-06-12T10:00:00.000Z\",\n                \"_isAllDay\": false\n            ]\n        ]\n    }\n]\n</code></pre>\n\n<p>with this code I don't get the right result yet:</p>\n\n<pre><code>//Observable&lt;Event[]&gt; is returned by a function\n.pipe(groupBy((events: Event[]) =&gt; events.map((event: Event) =&gt; event.startDate.format('MMMM YYYY')), (events: Event[]) =&gt; events.map((event: Event) =&gt; event.startDate.format('DD/MM/YYYY'))),\nmergeMap(group =&gt; zip(of(group.key), group.pipe(toArray())))\n.subscribe((data) =&gt; { \n      console.log(data); \n});\n</code></pre>\n\n<p>Here's what it outputs with the code above:</p>\n\n<pre><code>[\n  [May 2019, June 2019, June 2019], \n  [\n    [29/05/2019, 10/06/2019, 12/06/2019]\n  ]\n]\n</code></pre>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["javascript", "typescript", "bluetooth-lowenergy", "bluetooth-gatt", "web-bluetooth"], "answers": [{"tags": [], "owner": {"reputation": 316, "user_id": 7292015, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207785683386393/picture?type=large", "display_name": "Rekoc", "link": "https://stackoverflow.com/users/7292015/rekoc"}, "is_accepted": true, "score": 2, "last_activity_date": 1559884029, "last_edit_date": 1559884029, "creation_date": 1559883595, "answer_id": 56488197, "question_id": 56469188, "link": "https://stackoverflow.com/questions/56469188/can-i-send-files-over-web-bluetooth/56488197#56488197", "title": "Can I send files over web-bluetooth?", "body": "<p>I found a solution, I don't know if it is the best one but it is working pretty well!\nI simply divide my Uint8Array[] in a packet of 512 bytes and send them. Same for writing and reading, below I put my TypeScript code if it can help someone:</p>\n\n<pre><code>async getFile() {\n    let file: string = '';\n    let value: string = 'begin';\n    let returnedValue = null;\n\n    while (value != '') {\n      try {\n        returnedValue = await this.characteristicScheduling.readValue();\n        value = String.fromCharCode.apply(null, new Uint8Array(returnedValue.buffer));\n        console.log(value);\n        file= file.concat(value);\n\n      } catch(e) {\n        console.log(e);\n      }\n    }\n\n    console.log('file: ' + file);\n}\n</code></pre>\n\n<p>and the write function:</p>\n\n<pre><code>wait(ms: number) {\n    var start = new Date().getTime();\n    var end = start;\n    while(end &lt; start + ms) {\n      end = new Date().getTime();\n    }\n}\n\npushFile() {\n    let file= this.getFileContent();\n    let value: string;\n    let valueBytes = null;\n    console.log(file);\n\n    while (file.length &gt; 0) {\n      // Copy the first 512 bytes\n      value = file.substr(0, 512);\n      // Remove the first 512 bytes\n      scheduling = file.substr(512)\n      console.log(file);\n      valueBytes = new TextEncoder().encode(value);\n\n      console.log(valueBytes);\n      const promise = this.characteristic.writeValue(valueBytes);\n      promise.then(val =&gt; {\n        console.log(val);\n      });\n      // The wait is isn't mandatory .. but just in case my embedded system is very busy\n      this.wait(100);\n    }\n\n    // Send empty frame to notice the Embedded system than its the end of transmission\n    valueBytes = new TextEncoder().encode('');\n    const promise = this.characteristic.writeValue(valueBytes);\n      promise.then(val =&gt; {\n        console.log(val);\n      });\n}\n</code></pre>\n\n<p>Of course, 'this.characteristic' has been saved in my class before I called these functions. Follow <a href=\"https://googlechrome.github.io/samples/web-bluetooth/get-characteristics.html\" rel=\"nofollow noreferrer\">https://googlechrome.github.io/samples/web-bluetooth/get-characteristics.html</a> for more information.</p>\n\n<p>I'm a embedded engineer so be fair with my 'ugly web-code' let me know if you have recommendation to optimism this code. Hope it helps.</p>\n"}], "owner": {"reputation": 316, "user_id": 7292015, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207785683386393/picture?type=large", "display_name": "Rekoc", "link": "https://stackoverflow.com/users/7292015/rekoc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1192, "favorite_count": 1, "accepted_answer_id": 56488197, "answer_count": 1, "score": 2, "last_activity_date": 1559884029, "creation_date": 1559776573, "question_id": 56469188, "link": "https://stackoverflow.com/questions/56469188/can-i-send-files-over-web-bluetooth", "title": "Can I send files over web-bluetooth?", "body": "<p>I am currently developing an embedded system who count the number of cars and saved theirs speed and time. All these data are stored in a simple logs file (thanks to rsyslog). In parallel, I develop an web-API (in Typescript/Angular with Electron for Desktop usage and later Web as well) who allow the user to upload the logs and stored them locally on his laptop.</p>\n\n<p>I setup a GATT server and I'm able to get simple data like battery, and status over Web-Bluetooth, however, can I send/receive over Web-Bluetooth a file ? Or maybe send it in piece by piece ?</p>\n\n<p>I tried the second way, the maximum size is 512 bytes per frame, so I divide my file size by 512 and send X frame(s) to the Web-App but I don't know if it is possible because I can't have something working after a few days ... So then, I found this on Bluetooth's website:\n<a href=\"https://www.bluetooth.com/specifications/gatt/services/\" rel=\"nofollow noreferrer\">https://www.bluetooth.com/specifications/gatt/services/</a>\nThe 'Object Transfer Service' exist with GATT, but when you click on that we can read: \"This service provide management and control features supporting bulk data transfer which occur via a separe L2CAP connection orientel channel\". Does that mean we can't send file ?</p>\n\n<p>Should I change my plan and using an protocol ? I also want to send files from laptop to the embedded system, like configuration files and parameters.</p>\n"}, {"tags": ["angular", "typescript", "nativescript", "nativescript-angular"], "answers": [{"comments": [{"owner": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "edited": false, "score": 0, "creation_date": 1559779079, "post_id": 56469256, "comment_id": 99530126, "body": "Let me make sure I understand your response. Creating a NativeScript application is only used to publish my application to the store for people to download and use? So my Angular app is what people see on the web, regardless of the device (phone, tablet, laptop, etc) and my NativeScript app is what they see when they download my app from the store?"}, {"owner": {"reputation": 4254, "user_id": 3840213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634292034686babc667bc3b9b43c33a2?s=128&d=identicon&r=PG&f=1", "display_name": "Narendra", "link": "https://stackoverflow.com/users/3840213/narendra"}, "reply_to_user": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "edited": false, "score": 0, "creation_date": 1559779205, "post_id": 56469256, "comment_id": 99530140, "body": "yes, you are almost there. But with code sharing ability of Nativescript allows you to build web app and mobile app from the same code basd. <a href=\"https://docs.nativescript.org/code-sharing/intro\" rel=\"nofollow noreferrer\">docs.nativescript.org/code-sharing/intro</a>"}, {"owner": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "edited": false, "score": 0, "creation_date": 1559780203, "post_id": 56469256, "comment_id": 99530299, "body": "ok, say I want to build a dating/match website. The web/desktop/laptop interface is going to look a lot different then the mobile app. So, should I build the web app in Angular and the mobile app in NativeScript? Or is there a better option?"}, {"owner": {"reputation": 4254, "user_id": 3840213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634292034686babc667bc3b9b43c33a2?s=128&d=identicon&r=PG&f=1", "display_name": "Narendra", "link": "https://stackoverflow.com/users/3840213/narendra"}, "reply_to_user": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "edited": false, "score": 0, "creation_date": 1559780347, "post_id": 56469256, "comment_id": 99530314, "body": "Yes, you can choose different look and feel for web and native app.Nativescript is still a better option. The objective for code sharing project is to share as much code as possible, and split the platform-specific code into separate files.  This usually means that we can share the code for:  Routes for navigation, Services for common business logic, and Component Class definition for common behaviour of a component"}], "tags": [], "owner": {"reputation": 4254, "user_id": 3840213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634292034686babc667bc3b9b43c33a2?s=128&d=identicon&r=PG&f=1", "display_name": "Narendra", "link": "https://stackoverflow.com/users/3840213/narendra"}, "is_accepted": false, "score": 2, "last_activity_date": 1559780373, "last_edit_date": 1559780373, "creation_date": 1559777157, "answer_id": 56469256, "question_id": 56469137, "link": "https://stackoverflow.com/questions/56469137/is-a-nativescript-app-what-the-user-sees-on-a-mobile-device-or-what-he-downloads/56469256#56469256", "title": "Is a NativeScript app what the user sees on a mobile device or what he downloads from the app store?", "body": "<p>Play store/ App Store is a centralised repository from where users can download your app. I think you are getting mixed up between <a href=\"https://developers.google.com/web/progressive-web-apps/\" rel=\"nofollow noreferrer\">PWA</a> and native apps.  Nativescript is used to created Native mobile apps that you can debug/run/build directly to any ios/android device. \nYou can publish it either Apple or Google store to make it available for public however there are certain steps involved for that.</p>\n\n<p>But Short answer to your question is <em>Yes</em>, app will be same when you build and deploy directly to device or publish it to store and download afterwards.</p>\n\n<p>P.S. Angular is just a framework you use, you can also choose either vue.js or vanilla Javascript to develop apps in NativeScript. And it does not matter if you have C# ASP.Net Core Web Api or Java as backend.</p>\n\n<p>EDIT: The objective for code sharing project is to share as much code as possible, and split the platform-specific code into separate files.</p>\n\n<p>This usually means that we can share the code for:</p>\n\n<p>Routes for navigation,\nServices for common business logic,\nand Component Class definition for common behaviour of a component</p>\n"}], "owner": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1559780838, "creation_date": 1559776123, "last_edit_date": 1559780838, "question_id": 56469137, "link": "https://stackoverflow.com/questions/56469137/is-a-nativescript-app-what-the-user-sees-on-a-mobile-device-or-what-he-downloads", "title": "Is a NativeScript app what the user sees on a mobile device or what he downloads from the app store?", "body": "<p>I'm a newbie to Angular and just learning Angular apps with TypeScript with a C# ASP.Net Core Web Api app as the server side project.</p>\n\n<p>Question - if I build up a NativeScript app along side the Angular TypeScript app, is that what the user sees on the screen when using a mobile device (iPad, iPhone, etc.) or is that what I upload to the app store and downloaded, by a user, to the mobile device to run as a native app?</p>\n\n<p>And if it's the first, how does the device know which one to use to look at, being that I can build the TypeScript app with bootstrap and accommodate the code for mobile devices?</p>\n"}, {"tags": ["typescript", "sqlite", "nestjs", "typeorm"], "comments": [{"owner": {"reputation": 11, "user_id": 10426434, "user_type": "registered", "profile_image": "https://graph.facebook.com/1057621421066594/picture?type=large", "display_name": "Alexandr  Zahkarjan", "link": "https://stackoverflow.com/users/10426434/alexandr-zahkarjan"}, "edited": false, "score": 0, "creation_date": 1559845730, "post_id": 56468911, "comment_id": 99556693, "body": "Okey, I just changed db to Mongo and now it working, so it isn&#39;t really relevand, but I still intresed where could be mistake"}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 11727487, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6grcegKKnHs/AAAAAAAAAAI/AAAAAAAAANY/BnptV5fv4xM/photo.jpg?sz=128", "display_name": "\u041d\u0438\u043a\u043e\u043b\u0430\u0439 \u041a\u0430\u043d\u0442\u0443\u0440", "link": "https://stackoverflow.com/users/11727487/%d0%9d%d0%b8%d0%ba%d0%be%d0%bb%d0%b0%d0%b9-%d0%9a%d0%b0%d0%bd%d1%82%d1%83%d1%80"}, "is_accepted": false, "score": 1, "last_activity_date": 1575866501, "last_edit_date": 1575866501, "creation_date": 1575864352, "answer_id": 59242403, "question_id": 56468911, "link": "https://stackoverflow.com/questions/56468911/typeorm-creates-database-but-unable-to-connect-it/59242403#59242403", "title": "TypeOrm creates database but unable to connect it", "body": "<p>Use this:</p>\n\n<pre><code>entities: ['dist/**/*.entity{.ts,.js}'],\n</code></pre>\n\n<p>Or this:</p>\n\n<pre><code>entities: [__dirname + '/**/*.entity{.ts,.js}'],\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10426434, "user_type": "registered", "profile_image": "https://graph.facebook.com/1057621421066594/picture?type=large", "display_name": "Alexandr  Zahkarjan", "link": "https://stackoverflow.com/users/10426434/alexandr-zahkarjan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 738, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1577251286, "creation_date": 1559774121, "last_edit_date": 1559775209, "question_id": 56468911, "link": "https://stackoverflow.com/questions/56468911/typeorm-creates-database-but-unable-to-connect-it", "title": "TypeOrm creates database but unable to connect it", "body": "<p>I am trying to make jwt aut system, for that I decided use nestJs and sqlite.\nThe code generate sqlite file, but after that throw \"Unable to connect to the database.\" I checked by sqlite terminal and realized, that tables also were not added.</p>\n\n<p>here the entity </p>\n\n<pre><code>import {\n    BeforeInsert,\n    Column,\n    CreateDateColumn,\n    Entity,\n    PrimaryGeneratedColumn\n} from 'typeorm';\nimport * as bcrypt from 'bcrypt';\nimport * as jwt from 'jsonwebtoken';\nimport {UserRO} from './user.dto';\n\n@Entity('user')\nexport class UserEntity {\n    @PrimaryGeneratedColumn(`uuid`)\n    id: string;\n@CreateDateColumn()\ncreated: Date;\n\n@Column({\n    type: 'text',\n    unique: true\n})\nusername: string;\n\n@Column('text')\npassword: string;\n\n@BeforeInsert()\nasync hashPassword() {\n    this.password = await  bcrypt.hash(this.password, 10);\n}\n</code></pre>\n\n<p>and sqlite db description from app.module</p>\n\n<pre><code>@Module({\n    imports: [TypeOrmModule.forRoot({\n        type: 'sqlite',\n        database: 'taskDB',\n        synchronize: true,\n        logging: false,\n        entities: [__dirname + '/../**/*.entity{.ts,.js}'],\n    }), UserModule],\n    controllers: [AppController],\n    providers: [AppService],\n})\n</code></pre>\n\n<p>and this is what terminal sends</p>\n\n<pre><code>(function (exports, require, module, __filename, __dirname) { import {BeforeInsert, Column, CreateDateColumn, Entity, PrimaryGeneratedColumn} from 'typeorm';\n    [0]                                                                      ^\n    [0]\n    [0] SyntaxError: Unexpected token {\n    [0]     at new Script (vm.js:85:7)\n    [0]     at createScript (vm.js:266:10)\n    [0]     at Object.runInThisContext (vm.js:314:10)\n    [0]     at Module._compile (internal/modules/cjs/loader.js:698:28)\n    [0]     at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    [0]     at Module.load (internal/modules/cjs/loader.js:630:32)\n    [0]     at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    [0]     at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    [0]     at Module.require (internal/modules/cjs/loader.js:667:17)\n    [0]     at require (internal/modules/cjs/helpers.js:20:18)\n</code></pre>\n"}, {"tags": ["typescript", "visual-studio-code", "vscode-tasks"], "owner": {"reputation": 81, "user_id": 7542984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8c390f9faa215f800fba1b1575f8aca?s=128&d=identicon&r=PG&f=1", "display_name": "Erin", "link": "https://stackoverflow.com/users/7542984/erin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1559773826, "creation_date": 1559773826, "question_id": 56468870, "link": "https://stackoverflow.com/questions/56468870/vs-code-tsserver-problem-matcher-overwrites-errors-from-custom-task-problem-matc", "title": "VS Code tsserver problem matcher overwrites errors from custom task problem matcher", "body": "<p>I have written a custom task that uses the $ts-webpack-watch problem matcher from the <a href=\"https://marketplace.visualstudio.com/items?itemName=eamodio.tsl-problem-matcher\" rel=\"nofollow noreferrer\">TypeScript + Webpack Problem Matchers</a> extension. The problem matcher associated with tsserver that runs automatically within VS Code appears to be overwriting the contents of the Problems view populated by my custom task's problem matcher rather than appending to it. The tsserver problem matcher only applies to open files, whereas the $ts-webpack-watch problem matcher applies to all files in the project, which is what I want. </p>\n\n<p>If I restart the running custom task in VS Code, the correct information appears in the Problems view. </p>\n\n<p>Is there a way to make the Problems view append data from multiple problem matchers? Failing that, is there a way to disable the problem matcher for the tsserver task that automatically runs in VS Code (in other words, stop tsserver from running)?</p>\n"}, {"tags": ["typescript", "rxjs"], "comments": [{"owner": {"reputation": 4639, "user_id": 2216584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dca1683e1100877238b0eaa085639562?s=128&d=identicon&r=PG", "display_name": "user2216584", "link": "https://stackoverflow.com/users/2216584/user2216584"}, "edited": false, "score": 0, "creation_date": 1559777304, "post_id": 56468840, "comment_id": 99529833, "body": "Method#2 and Method#3 both are rxjs way. The only difference is - In #2 your observable chain is NOT nested [scopped to one level] but in #3 it is pretty nested so I feel there is a readability issue [technically #3 is absolutely fine]. In #1 you are maintaining a state outside of observable chain so its not rxjs way."}, {"owner": {"reputation": 671, "user_id": 5136485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5010d0a82ee6fb34eb9e9c6648088ed5?s=128&d=identicon&r=PG&f=1", "display_name": "delashum", "link": "https://stackoverflow.com/users/5136485/delashum"}, "reply_to_user": {"reputation": 4639, "user_id": 2216584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dca1683e1100877238b0eaa085639562?s=128&d=identicon&r=PG", "display_name": "user2216584", "link": "https://stackoverflow.com/users/2216584/user2216584"}, "edited": false, "score": 1, "creation_date": 1559786260, "post_id": 56468840, "comment_id": 99531252, "body": "I guess i&#39;m conflicted because though #2 &amp; #3 aren&#39;t hacky, they don&#39;t feel very readable to me. I&#39;m just wondering if there is a better way to do this that is readable like #1, yet not hacky."}], "answers": [{"tags": [], "owner": {"reputation": 8097, "user_id": 8618350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f100e1a27815164cb9a9bf00487858?s=128&d=identicon&r=PG&f=1", "display_name": "Fan Cheung", "link": "https://stackoverflow.com/users/8618350/fan-cheung"}, "is_accepted": false, "score": 0, "last_activity_date": 1559797997, "creation_date": 1559797997, "answer_id": 56471222, "question_id": 56468840, "link": "https://stackoverflow.com/questions/56468840/rxjs-clean-way-to-pass-data-along-observable-chains/56471222#56471222", "title": "RxJS: clean way to pass data along observable chains?", "body": "<p>there is another approach for your scenario</p>\n\n<pre><code>performFirstAction().pipe(\n  switchMap(first =&gt;\n    performSecondAction(first).pipe(mergeMap(second=&gt;performThirdAction(first, second)))\n    )\n  ),\n);\n</code></pre>\n\n<p>basically you are having <code>first</code> as local variable, so if you have fourth call you can using similar pattern and nest them.</p>\n\n<p>and if you need a common pattern, you try <code>mergeScan</code> by creating higher order function to return observable. Here <code>acc</code> is always the last observable returned value</p>\n\n<pre><code>from([first,first=&gt;second(first),second=&gt;third(second)])\n.pipe(mergeScan((acc,currObs)=&gt;currObs(acc),null))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1222, "user_id": 11047122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/319da34e027d4d5cb2cf39b4e0647c97?s=128&d=identicon&r=PG&f=1", "display_name": "Will Taylor", "link": "https://stackoverflow.com/users/11047122/will-taylor"}, "is_accepted": false, "score": 0, "last_activity_date": 1559808667, "creation_date": 1559808667, "answer_id": 56473407, "question_id": 56468840, "link": "https://stackoverflow.com/questions/56468840/rxjs-clean-way-to-pass-data-along-observable-chains/56473407#56473407", "title": "RxJS: clean way to pass data along observable chains?", "body": "<p>The cleanest and most readable way to do this is to <strong>store the intermediary Observables in their own variables</strong>.</p>\n\n<pre><code>const firstResponse$ = performFirstAction();\n\nconst secondResponse$ = firstResponse$.pipe(\n  switchMap(firstResponse =&gt; performSecondAction(firstResponse)),\n);\n\nconst thirdResponse$ = secondResponse$.pipe(\n  withLatestFrom(firstResponse$),\n  switchMap((secondResponse, firstResponse) =&gt; performThirdAction(firstResponse, secondResponse))\n);\n</code></pre>\n"}], "owner": {"reputation": 671, "user_id": 5136485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5010d0a82ee6fb34eb9e9c6648088ed5?s=128&d=identicon&r=PG&f=1", "display_name": "delashum", "link": "https://stackoverflow.com/users/5136485/delashum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 382, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1559808667, "creation_date": 1559773614, "question_id": 56468840, "link": "https://stackoverflow.com/questions/56468840/rxjs-clean-way-to-pass-data-along-observable-chains", "title": "RxJS: clean way to pass data along observable chains?", "body": "<p>I seem to run into this situation a lot where I am needing to pass data along a chain of streams. In other words, I have obervables that are dependent on the output of one or more other observables.</p>\n\n<p>Below are 3 ways to do this with a simple example, but none of them feel like the \"RxJS\" way. Is there a better way to do this?</p>\n\n<pre><code>// Method #1 - looks clean, but feels hacky\n\nlet firstResponse = null;\nperformFirstAction().pipe(\n  tap(_firstResponse =&gt; (firstResponse = _firstResponse)),\n  switchMap(_firstResponse =&gt; performSecondAction(_firstResponse)),\n  switchMap(secondResponse =&gt; performThirdAction(firstResponse, secondResponse))\n);\n\n// Method #2 - gets ugly real quick as it scales\n\nperformFirstAction().pipe(\n  switchMap(firstResponse =&gt;\n    performSecondAction(firstResponse).pipe(\n      map(secondResponse =&gt; ({ firstResponse, secondResponse }))\n    )\n  ),\n  switchMap(({ firstResponse, secondResponse }) =&gt;\n    performThirdAction(firstResponse, secondResponse)\n  )\n);\n\n// Method #3 - might as well just use callbacks at this point\n\nperformFirstAction().pipe(\n  switchMap(firstResponse =&gt;\n    performSecondAction(firstResponse).pipe(\n      switchMap(secondResponse =&gt;\n        performThirdAction(firstResponse, secondResponse)\n      )\n    )\n  )\n);\n</code></pre>\n"}, {"tags": ["typescript", "ionic-framework", "routing", "ionic4"], "owner": {"reputation": 45, "user_id": 6241751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/074da8504fa60a5d790c9130d1633bd9?s=128&d=identicon&r=PG", "display_name": "PunishedSky", "link": "https://stackoverflow.com/users/6241751/punishedsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1559773506, "creation_date": 1559773506, "question_id": 56468829, "link": "https://stackoverflow.com/questions/56468829/doubts-with-routing-inside-tabs-app-and-leaving", "title": "Doubts with routing inside tabs app and leaving", "body": "<p>I'm doing an app of data of a game, with data of characters, skills, etc, with the tab template of Ionic 4. After some searchs, I found a way to show a page inside tab UI without the tabsbar, but I found some problems and doubts about it.</p>\n\n<p>Following this demo (<a href=\"https://github.com/servrox/demo-ionic-tab-routing\" rel=\"nofollow noreferrer\">https://github.com/servrox/demo-ionic-tab-routing</a>), in my tab with news I created a function which redirects to a page with the full new, but when the user leaves clicking on another tab inside the tabsbar, if the user come back to the news tab he will enter in the new page instead of the page with all the news.</p>\n\n<p>This is my code right now:</p>\n\n<p>Function from noticias.page.ts</p>\n\n<pre><code>abrirNoticia(prueba) {\n\n    console.log(this.noticias[prueba].n);\n\n\n    let id = this.noticias[prueba].n;\n\n    let navigationExtras: NavigationExtras = {\n      queryParams: {\n        noticia: id\n      }\n    };\n\n    this.navC.navigateForward(\"/tabs/noticias/noticia\", navigationExtras);\n\n  }\n</code></pre>\n\n<p>I tried with this but it doesn't work.</p>\n\n<pre><code>ionViewDidLeave(){\n\n    console.log(\"Back\");\n\n    this.navC.pop();\n\n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2589, "user_id": 9019541, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sJX1GffGKlM/AAAAAAAAAAI/AAAAAAAAABk/mzklx4NR3FU/photo.jpg?sz=128", "display_name": "Hugo Noro", "link": "https://stackoverflow.com/users/9019541/hugo-noro"}, "edited": false, "score": 0, "creation_date": 1559772153, "post_id": 56468575, "comment_id": 99528695, "body": "Does the call getCategories return an observable? I believe that\u2019s where your problem resides because you\u2019re trying to apply an async pipe to a non observable."}, {"owner": {"reputation": 3, "user_id": 11606338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d81868c74ad7298e90127bb58998af1a?s=128&d=identicon&r=PG&f=1", "display_name": "Mona Hansen", "link": "https://stackoverflow.com/users/11606338/mona-hansen"}, "reply_to_user": {"reputation": 2589, "user_id": 9019541, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sJX1GffGKlM/AAAAAAAAAAI/AAAAAAAAABk/mzklx4NR3FU/photo.jpg?sz=128", "display_name": "Hugo Noro", "link": "https://stackoverflow.com/users/9019541/hugo-noro"}, "edited": false, "score": 0, "creation_date": 1559773124, "post_id": 56468575, "comment_id": 99528968, "body": "Well i am following every step with the instructor, and he says this returns an observable for some reason, but i&#39;m very new to this so i still have a long way to go"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11606338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d81868c74ad7298e90127bb58998af1a?s=128&d=identicon&r=PG&f=1", "display_name": "Mona Hansen", "link": "https://stackoverflow.com/users/11606338/mona-hansen"}, "edited": false, "score": 0, "creation_date": 1559773255, "post_id": 56468657, "comment_id": 99529007, "body": "Sadly this does not work as i am faced with a new error. &quot;Error: Cannot find a differ supporting object &#39;[object Object]&#39; of type &#39;object&#39;. NgFor only supports binding to Iterables such as Arrays.&quot;"}, {"owner": {"reputation": 3980, "user_id": 3876196, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/yYJLo.png?s=128&g=1", "display_name": "AntoineB", "link": "https://stackoverflow.com/users/3876196/antoineb"}, "reply_to_user": {"reputation": 3, "user_id": 11606338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d81868c74ad7298e90127bb58998af1a?s=128&d=identicon&r=PG&f=1", "display_name": "Mona Hansen", "link": "https://stackoverflow.com/users/11606338/mona-hansen"}, "edited": false, "score": 0, "creation_date": 1559773320, "post_id": 56468657, "comment_id": 99529020, "body": "The error is very explicit, your service returns a single object while it should return a list of objects."}, {"owner": {"reputation": 3, "user_id": 11606338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d81868c74ad7298e90127bb58998af1a?s=128&d=identicon&r=PG&f=1", "display_name": "Mona Hansen", "link": "https://stackoverflow.com/users/11606338/mona-hansen"}, "edited": false, "score": 0, "creation_date": 1559773431, "post_id": 56468657, "comment_id": 99529050, "body": "Understood. But why is my instructor not getting the same error i am getting? The code is exactly like he wrote in Angular4"}], "tags": [], "owner": {"reputation": 3980, "user_id": 3876196, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/yYJLo.png?s=128&g=1", "display_name": "AntoineB", "link": "https://stackoverflow.com/users/3876196/antoineb"}, "is_accepted": false, "score": 0, "last_activity_date": 1559772356, "creation_date": 1559772356, "answer_id": 56468657, "question_id": 56468575, "link": "https://stackoverflow.com/questions/56468575/how-to-return-an-observable-in-angular/56468657#56468657", "title": "How to return an observable in Angular?", "body": "<p>If <code>this.db.list()</code> is not returning an <code>Observable</code>, you can use the following:</p>\n\n<pre><code>import { of } from 'rxjs';\n\nclass CategoryService {\n\n    getCategories() {\n        return of(this.db.list('/categories'));\n    }\n\n}\n</code></pre>\n\n<p>This would wrap your data in an observable.</p>\n\n<p>But if the operation is fully synchronous, then there's no reason to use an Observable.</p>\n"}, {"tags": [], "owner": {"reputation": 4639, "user_id": 2216584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dca1683e1100877238b0eaa085639562?s=128&d=identicon&r=PG", "display_name": "user2216584", "link": "https://stackoverflow.com/users/2216584/user2216584"}, "is_accepted": false, "score": 0, "last_activity_date": 1559777400, "last_edit_date": 1559777400, "creation_date": 1559772377, "answer_id": 56468660, "question_id": 56468575, "link": "https://stackoverflow.com/questions/56468575/how-to-return-an-observable-in-angular/56468660#56468660", "title": "How to return an observable in Angular?", "body": "<p>Looks like following method is not returning an observable - </p>\n\n<pre><code>getCategories() {return this.db.list('/categories');}\n</code></pre>\n\n<p>I think \"this.db.list('/categories');\" returns a simple array. To ensure getCategories() returns an observable do the following -</p>\n\n<pre><code>getCategories() {\n  const values = this.db.list('/categories');\n  return of(values);\n}\n</code></pre>\n\n<p>\"of\" is a rxjs operator. Import it from \"rxjs\".\nPlease note I am assuming that this.db.list('/categories'); is returning simple array.\nIdeally, you use HTTP client to call your backend which returns the data wrapped in an observable.</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 11606338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d81868c74ad7298e90127bb58998af1a?s=128&d=identicon&r=PG&f=1", "display_name": "Mona Hansen", "link": "https://stackoverflow.com/users/11606338/mona-hansen"}, "edited": false, "score": 0, "creation_date": 1559779247, "post_id": 56469410, "comment_id": 99530143, "body": "Thanks for the answer. I used your solution and now when i select the item from the list and log it in console, it is shown as &quot;undefined&quot; any solution for that? i didn&#39;t get any error messages at all..."}, {"owner": {"reputation": 2589, "user_id": 9019541, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sJX1GffGKlM/AAAAAAAAAAI/AAAAAAAAABk/mzklx4NR3FU/photo.jpg?sz=128", "display_name": "Hugo Noro", "link": "https://stackoverflow.com/users/9019541/hugo-noro"}, "reply_to_user": {"reputation": 3, "user_id": 11606338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d81868c74ad7298e90127bb58998af1a?s=128&d=identicon&r=PG&f=1", "display_name": "Mona Hansen", "link": "https://stackoverflow.com/users/11606338/mona-hansen"}, "edited": false, "score": 0, "creation_date": 1559779285, "post_id": 56469410, "comment_id": 99530150, "body": "Which version did you use? The valueChanges()?"}, {"owner": {"reputation": 2589, "user_id": 9019541, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sJX1GffGKlM/AAAAAAAAAAI/AAAAAAAAABk/mzklx4NR3FU/photo.jpg?sz=128", "display_name": "Hugo Noro", "link": "https://stackoverflow.com/users/9019541/hugo-noro"}, "reply_to_user": {"reputation": 3, "user_id": 11606338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d81868c74ad7298e90127bb58998af1a?s=128&d=identicon&r=PG&f=1", "display_name": "Mona Hansen", "link": "https://stackoverflow.com/users/11606338/mona-hansen"}, "edited": false, "score": 0, "creation_date": 1559779495, "post_id": 56469410, "comment_id": 99530187, "body": "Well from what I can see in the html template you are using $key. That no longer exists. If you use the snapshotChanges option you can use \u2018key\u2019 instead of \u2018$key\u2019. You would have [value]=\u201cc.key\u201d. But for using this you need to use the first option I\u2019m showing in my answer. The one that maps the key and the payload from the snapshotChanges. If this solves your problem please don\u2019t forget to set the answer as accepted and upvote so it can help others with similar issues."}, {"owner": {"reputation": 3, "user_id": 11606338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d81868c74ad7298e90127bb58998af1a?s=128&d=identicon&r=PG&f=1", "display_name": "Mona Hansen", "link": "https://stackoverflow.com/users/11606338/mona-hansen"}, "edited": false, "score": 0, "creation_date": 1559779991, "post_id": 56469410, "comment_id": 99530268, "body": "I used the snapshotchanges option and removed the $ sign and it now works! Just one last question: Is there a shorter version than the snapshop method? seems like a long code for such a small task, just asking so i can learn more :)"}, {"owner": {"reputation": 2589, "user_id": 9019541, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sJX1GffGKlM/AAAAAAAAAAI/AAAAAAAAABk/mzklx4NR3FU/photo.jpg?sz=128", "display_name": "Hugo Noro", "link": "https://stackoverflow.com/users/9019541/hugo-noro"}, "reply_to_user": {"reputation": 3, "user_id": 11606338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d81868c74ad7298e90127bb58998af1a?s=128&d=identicon&r=PG&f=1", "display_name": "Mona Hansen", "link": "https://stackoverflow.com/users/11606338/mona-hansen"}, "edited": false, "score": 0, "creation_date": 1559806415, "post_id": 56469410, "comment_id": 99536283, "body": "Well you have a couple of options. For instance if you don\u2019t want to use the auto-generated ID from firebase you don\u2019t need those steps. You can just use the other option of the valueChanges(). In that case you would need to have your own \u2018id\u2019 field with a unique value created by you. So it\u2019s a matter of picking up what works better for you :). I agree it can be a bit verbose but you only write it in one place anyway ;)"}], "tags": [], "owner": {"reputation": 2589, "user_id": 9019541, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sJX1GffGKlM/AAAAAAAAAAI/AAAAAAAAABk/mzklx4NR3FU/photo.jpg?sz=128", "display_name": "Hugo Noro", "link": "https://stackoverflow.com/users/9019541/hugo-noro"}, "is_accepted": true, "score": 0, "last_activity_date": 1559779036, "last_edit_date": 1559779036, "creation_date": 1559778694, "answer_id": 56469410, "question_id": 56468575, "link": "https://stackoverflow.com/questions/56468575/how-to-return-an-observable-in-angular/56469410#56469410", "title": "How to return an observable in Angular?", "body": "<p>I believe your problem is that your following an old tutorial that is using an old version of the firebase connector. </p>\n\n<p>On the version 5 there are some needed changes. </p>\n\n<p>In your service you would need to do something like this </p>\n\n<pre><code>getCategories() {return this.db.list('/categories')\n.snapshotChanges()\n.pipe(\n    map(categories =&gt; categories.map(category =&gt; ( { key: category.key, ...category.payload.val() } )))\n        );}\n</code></pre>\n\n<p>If you want to be able to use a <code>key</code> later on (which you also should define in the object)</p>\n\n<p>If you don\u2019t need this you can just use the following option in your service:</p>\n\n<pre><code>getCategories() {return this.db.list('/categories').valueChanges()}\n</code></pre>\n\n<p>These options are the new format used on firebase API 5.0 to return an observable. It\u2019s no longer being returned by default as it used to be on version 4.0</p>\n\n<p>For more details on this and on which version would be more appropriate to you check the <a href=\"https://github.com/angular/angularfire2/blob/master/docs/version-5-upgrade.md#50\" rel=\"nofollow noreferrer\">documentation</a> on the changes </p>\n"}], "owner": {"reputation": 3, "user_id": 11606338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d81868c74ad7298e90127bb58998af1a?s=128&d=identicon&r=PG&f=1", "display_name": "Mona Hansen", "link": "https://stackoverflow.com/users/11606338/mona-hansen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 56469410, "answer_count": 3, "score": 0, "last_activity_date": 1559795209, "creation_date": 1559771883, "last_edit_date": 1559795209, "question_id": 56468575, "link": "https://stackoverflow.com/questions/56468575/how-to-return-an-observable-in-angular", "title": "How to return an observable in Angular?", "body": "<p>I am following a tutorial where we populate a selection list.</p>\n\n<p>The teacher is using Angular4 and I am using the latest release so I think the API has changed. </p>\n\n<p>I am trying to use this method in a class called CategoryService:</p>\n\n<pre><code>getCategories() {return this.db.list('/categories');}\n</code></pre>\n\n<p>and in another class called ProductFormComponent in my constructor I am trying to return an observable that I can catch in HTML</p>\n\n<pre><code>categories$;\n\nconstructor (\n    private router: Router,\n    private categoryService: CategoryService,\n    private productService: ProductService) {\n    this.categories$ = categoryService.getCategories();\n}\n\n</code></pre>\n\n<p>My HTML looks like this:</p>\n\n<pre><code>&lt;div class=\"form-group\"&gt;\n    &lt;label for=\"category\"&gt;Category&lt;/label&gt;\n    &lt;select #category=\"ngModel\" ngModel name=\"category\" id=\"category\" class=\"form-control\" required&gt;\n        &lt;option value=\"\"&gt;&lt;/option&gt;\n        &lt;option *ngFor=\"let c of categories$ | async\" [value]=\"c.$key\"&gt;\n            {{ c.name }}\n        &lt;/option&gt;\n    &lt;/select&gt;\n    &lt;div class=\"alert alert-danger\" *ngIf=\"category.touched &amp;&amp; category.invalid\"&gt;\n        Category is required.\n    &lt;/div&gt;\n&lt;/div&gt;        \n</code></pre>\n\n<p>This gives the error</p>\n\n<blockquote>\n  <p>Error: InvalidPipeArgument: '[object Object]' for pipe 'AsyncPipe'</p>\n</blockquote>\n\n<p>What is it I'm doing wrong and what would fix this?</p>\n"}, {"tags": ["node.js", "typescript", "jestjs", "cassandra-3.0"], "answers": [{"tags": [], "owner": {"reputation": 28635, "user_id": 10149510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qVO7k.jpg?s=128&g=1", "display_name": "Brian Adams", "link": "https://stackoverflow.com/users/10149510/brian-adams"}, "is_accepted": true, "score": 0, "last_activity_date": 1559794438, "creation_date": 1559794438, "answer_id": 56470804, "question_id": 56468096, "link": "https://stackoverflow.com/questions/56468096/how-to-write-unit-test-for-cassandra-execute-query-in-nodejs-using-jest-framewor/56470804#56470804", "title": "How to write unit test for cassandra execute query in nodejs using jest framework", "body": "<p>You can mock <code>db.execute</code> to do nothing and use the mock to get the arguments passed to it.</p>\n\n<p>The arguments are the query and the callback, so you just need to test that the query is correct and the callback works as expected.</p>\n\n<p>Here is a simplified working example to get you started:</p>\n\n<pre><code>import * as express from 'express';\nconst db = require('../../db/client');\n\nfunction getCampaigns(req: express.Request, res: express.Response) {\n  db.execute('select * from campaign_definitions', (err: any, result: any) =&gt; {\n    res.send(result.rows);\n  });\n}\n\ntest('getCampaigns', () =&gt; {\n  const res: any = { send: jest.fn() };\n  const mock = jest.spyOn(db, 'execute');  // spy on db.execute...\n  mock.mockImplementation(() =&gt; {});  // &lt;= ...and mock the implementation\n\n  getCampaigns({} as any, res);\n\n  const args = db.execute.mock.calls[0];  // &lt;= get the args passed to db.execute\n  const query = args[0];\n  const callback = args[1];\n  callback(null, { rows: 'the rows' });  // &lt;= call the callback\n\n  expect(query).toBe('select * from campaign_definitions');  // Success!\n  expect(res.send).toHaveBeenCalledWith('the rows');  // Success!\n})\n</code></pre>\n"}], "owner": {"reputation": 333, "user_id": 4415216, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vytzHlN3FOU/AAAAAAAAAAI/AAAAAAAAAEA/gGgA12rH8_c/photo.jpg?sz=128", "display_name": "Bijender Kumar", "link": "https://stackoverflow.com/users/4415216/bijender-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 489, "favorite_count": 0, "accepted_answer_id": 56470804, "answer_count": 1, "score": 3, "last_activity_date": 1559811936, "creation_date": 1559769200, "last_edit_date": 1559811936, "question_id": 56468096, "link": "https://stackoverflow.com/questions/56468096/how-to-write-unit-test-for-cassandra-execute-query-in-nodejs-using-jest-framewor", "title": "How to write unit test for cassandra execute query in nodejs using jest framework", "body": "<p>I'm trying to write a unit test case against my code which fetches campaigns/data from the Cassandra DB.\nI'm using the Jest framework for my unit testing. </p>\n\n<pre><code>const db = require('../../db/client');\ngetCampaigns(req: express.Request, res: express.Response) {\n      db.execute('select * from campaign_definitions', (err: any, \nresult: any) =&gt; {\n        if (err) {\n          logger.error(`${err.status || 500} - ${err.message} - \n${req.originalUrl} - ${req.method} - ${req.ip}`);\n          return res.status(500).send(err);\n        }\n        res.send(result.rows);\n      });\n    }\n</code></pre>\n\n<p>I don't know how to make the mock for 'db.execute' using jest. I appreciate your help, thanks</p>\n"}, {"tags": ["javascript", "typescript", "jsx", "mithril.js"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 8297810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3fb9fd9eb66b40f9686599a6d6f9672?s=128&d=identicon&r=PG&f=1", "display_name": "K Lovell", "link": "https://stackoverflow.com/users/8297810/k-lovell"}, "edited": false, "score": 0, "creation_date": 1559770307, "post_id": 56468003, "comment_id": 99528050, "body": "Thank you, this was helpful. The array must be on the middle three elements. The comma at the end of your list led me to the solution."}, {"owner": {"reputation": 2607, "user_id": 11417877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1930e387dc37d52d55d2dc084d8ed1d5?s=128&d=identicon&r=PG&f=1", "display_name": "Yannick K", "link": "https://stackoverflow.com/users/11417877/yannick-k"}, "reply_to_user": {"reputation": 45, "user_id": 8297810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3fb9fd9eb66b40f9686599a6d6f9672?s=128&d=identicon&r=PG&f=1", "display_name": "K Lovell", "link": "https://stackoverflow.com/users/8297810/k-lovell"}, "edited": false, "score": 0, "creation_date": 1559770500, "post_id": 56468003, "comment_id": 99528107, "body": "Oh I see, apologies I missed that."}], "tags": [], "owner": {"reputation": 2607, "user_id": 11417877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1930e387dc37d52d55d2dc084d8ed1d5?s=128&d=identicon&r=PG&f=1", "display_name": "Yannick K", "link": "https://stackoverflow.com/users/11417877/yannick-k"}, "is_accepted": false, "score": 1, "last_activity_date": 1559770803, "last_edit_date": 1559770803, "creation_date": 1559768693, "answer_id": 56468003, "question_id": 56467893, "link": "https://stackoverflow.com/questions/56467893/mithril-wrapping-children-in-an-array-when-using-jsx/56468003#56468003", "title": "Mithril: Wrapping children in an array when using jsx", "body": "<p>You can wrap <code>divs</code> and such in an array if you wrap them in curly braces, like so:</p>\n\n<pre><code>...\n  return (\n     &lt;div className={'xxxx'}&gt;\n        &lt;div className={'xxxx'}&gt;\n          &lt;div className={'xxxxx'}&gt;\n          { [\n            &lt;h2&gt;xxxxx&lt;/h2&gt;,\n            &lt;p&gt;xxxxxx&lt;/p&gt;,\n            &lt;p&gt;xxxxxx&lt;/p&gt;\n          ] }\n          &lt;/div&gt;\n        &lt;/div&gt;\n     &lt;/div&gt;,\n  )\n...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 45, "user_id": 8297810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3fb9fd9eb66b40f9686599a6d6f9672?s=128&d=identicon&r=PG&f=1", "display_name": "K Lovell", "link": "https://stackoverflow.com/users/8297810/k-lovell"}, "is_accepted": false, "score": 0, "last_activity_date": 1559770176, "creation_date": 1559770176, "answer_id": 56468271, "question_id": 56467893, "link": "https://stackoverflow.com/questions/56467893/mithril-wrapping-children-in-an-array-when-using-jsx/56468271#56468271", "title": "Mithril: Wrapping children in an array when using jsx", "body": "<p>What I was missing was the commas between list elements.</p>\n\n<pre><code>        return (\n            &lt;div className={'xxxx'}&gt;\n                &lt;div className={'xxxxx'}&gt;\n                    &lt;div className={'xxxx'}&gt;\n                        {[\n                            &lt;h2&gt;xxx&lt;/h2&gt;, // Comma here\n                            &lt;p&gt;xxxx&lt;/p&gt;, // Comma here\n                            &lt;p&gt;xxxx&lt;/p&gt;\n                        ]}\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        )\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 8297810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3fb9fd9eb66b40f9686599a6d6f9672?s=128&d=identicon&r=PG&f=1", "display_name": "K Lovell", "link": "https://stackoverflow.com/users/8297810/k-lovell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1559770803, "creation_date": 1559768216, "last_edit_date": 1559768553, "question_id": 56467893, "link": "https://stackoverflow.com/questions/56467893/mithril-wrapping-children-in-an-array-when-using-jsx", "title": "Mithril: Wrapping children in an array when using jsx", "body": "<p>I'm so close to getting jsx to work with mithril.</p>\n\n<p>However, mithril wants you to wrap child elements in an array. It doesn't show a jsx example more than one element deep in the mithril documentation.</p>\n\n<p>So a mithril component such as</p>\n\n<pre><code>'use strict'\n\nimport m from 'mithril';\n\nexport default m.Component = {\n    view () {\n        return (\n            &lt;div className={'xxxx'}&gt;\n                &lt;div className={'xxxx'}&gt;\n                    &lt;div className={'xxxxx'}&gt;\n                        &lt;h2&gt;xxxxx&lt;/h2&gt;\n                        &lt;p&gt;xxxxxx&lt;/p&gt;\n                        &lt;p&gt;xxxxxx&lt;/p&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        )\n    }\n};\n</code></pre>\n\n<p>yields the error message</p>\n\n<pre><code>Mithril v1.0.0 only supports 3 arguments, wrap children in an array.\n</code></pre>\n\n<p>and the component fails to render. It worked when I just had the header and no paragraph elements. How can I wrap the three elements in an array in a way jsx will parse?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1559766799, "post_id": 56467538, "comment_id": 99526700, "body": "Mark the method abstract?"}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 11605925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fac8132649fe40b3fdad9204c505ebe?s=128&d=identicon&r=PG&f=1", "display_name": "evelyng", "link": "https://stackoverflow.com/users/11605925/evelyng"}, "edited": false, "score": 0, "creation_date": 1559830324, "post_id": 56467825, "comment_id": 99549291, "body": "Thanks a lot! You&#39;re right, it was correct. I just didn&#39;t initialize the objects correctly, that&#39;s why they weren&#39;t recognized as instances of Cat/Dog. Thank you for the polite and detailed reply!!"}], "tags": [], "owner": {"reputation": 73871, "user_id": 1426891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gFJE8.png?s=128&g=1", "display_name": "Jeff Bowman", "link": "https://stackoverflow.com/users/1426891/jeff-bowman"}, "is_accepted": true, "score": 0, "last_activity_date": 1559767841, "creation_date": 1559767841, "answer_id": 56467825, "question_id": 56467538, "link": "https://stackoverflow.com/questions/56467538/how-to-find-the-child-class-a-function-argument-is-instance-of-in-typescript/56467825#56467825", "title": "How to find the child class a function argument is instance of in Typescript?", "body": "<p>This works fine in <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#type-guards\" rel=\"nofollow noreferrer\">Typescript since 1.4</a>, and is even easier than you have it: You don't need to cast <code>&lt;Cat&gt;c</code> or <code>&lt;Dog&gt;c</code> because <code>instanceof</code> works as a type guard.</p>\n\n<p>That said, you may choose to make an abstract function (as Li357 suggested in the comments) to better organize your code, depending on whether you want the Animal or the Service to bear the responsibility of accommodating new Animals or new behaviors for existing Animals.</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=class%20Animal%7B%7D%0D%0A%0D%0Aclass%20Cat%20extends%20Animal%7B%0D%0A%20%20%20%20meow()%20%7B%2F*%20...%20*%2F%7D%0D%0A%7D%0D%0A%0D%0Aclass%20Dog%20extends%20Animal%7B%0D%0A%20%20%20%20bark()%20%7B%2F*%20...%20*%2F%7D%0D%0A%7D%0D%0A%0D%0Aclass%20Service%20%7B%0D%0A%0D%0A%20%20%20%20public%20insert(animals%3A%20Animal%5B%5D%2C%20callback%3A%20Function)%20%7B%0D%0A%20%20%20%20%20%20%20%20animals.forEach((c%3A%20Animal)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(c%20instanceof%20Cat)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log(%22Inserted%20a%20cat%3A%20%25s%22%2C%20c)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c.meow()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(c%20instanceof%20Dog)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log(%22Inserted%20a%20dog%3A%20%25s%22%2C%20c)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c.bark()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Alet%20s%20%3D%20new%20Service()%3B%0D%0Alet%20animalArray%20%3D%20%5Bnew%20Cat()%2C%20new%20Dog()%2C%20new%20Cat()%5D%3B%0D%0As.insert(animalArray%2C%20()%20%3D%3E%20%7B%7D)%3B\" rel=\"nofollow noreferrer\">Live link</a></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class Animal{}\n\nclass Cat extends Animal{\n    meow() {/* ... */}\n}\n\nclass Dog extends Animal{\n    bark() {/* ... */}\n}\n\nclass Service {\n\n    public insert(animals: Animal[], callback: Function) {\n        animals.forEach((c: Animal) =&gt; {\n            if (c instanceof Cat) {\n                console.log(\"Inserted a cat: %s\", c)\n                c.meow();\n            } else if (c instanceof Dog) {\n                console.log(\"Inserted a dog: %s\", c)\n                c.bark();\n            }\n        });\n    }\n}\n\nlet s = new Service();\nlet animalArray = [new Cat(), new Dog(), new Cat()];\ns.insert(animalArray, () =&gt; {});\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 11605925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fac8132649fe40b3fdad9204c505ebe?s=128&d=identicon&r=PG&f=1", "display_name": "evelyng", "link": "https://stackoverflow.com/users/11605925/evelyng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 56467825, "answer_count": 1, "score": 0, "last_activity_date": 1559767841, "creation_date": 1559766458, "question_id": 56467538, "link": "https://stackoverflow.com/questions/56467538/how-to-find-the-child-class-a-function-argument-is-instance-of-in-typescript", "title": "How to find the child class a function argument is instance of in Typescript?", "body": "<p>I have three classes: Animal, Cat and Dog. Cat and Dog both extend Animal. I have an array of Animal objects. These objects can be either Cat or Dog. </p>\n\n<p>Initially, I had two functions, one for each Animal child class. But, since they essentially did the same thing, minus a couple lines of code, I was thinking of combining the two functions and passing an Animal array as an argument, that would essentially be either a Cat array or a Dog array. To implement the few different code lines that each class will have to do, I need to get the class of each individual object in the array, but the code I wrote can't figure out that the object is either of the Cat class or the Dog class.</p>\n\n<p>The code I've tried is below. I also tried making animals of type any, to no avail. </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class Animal{}\n\nexport class Cat extends Animal{}\n\nexport class Dog extends Animal{}\n\nexport class Service {\n\n    public insert(animals: Animal[], callback: Function) {\n        animals.forEach((c: Animal) =&gt; {\n            if (c instanceof Cat) {\n                var thisCat: Cat = &lt;Cat&gt;c;\n                //...\n            } else if (c instanceof Dog) {\n                var thisDog: Dog = &lt;Dog&gt;c;\n                //...\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>Can this be done with only one function or do I have to keep my two seperate \"service\" functions for each Animal child class?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-directive"], "comments": [{"owner": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "edited": false, "score": 3, "creation_date": 1559766848, "post_id": 56467513, "comment_id": 99526719, "body": "The errors refers to your <code>&#47;openable.directive.spec.ts</code> &lt;-- spec/test file. What&#39;s in your test."}, {"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1559767050, "post_id": 56467513, "comment_id": 99526798, "body": "try using <code>ElementRef&lt;HTMLElement&gt;</code> instead."}, {"owner": {"reputation": 702, "user_id": 3777314, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/600103728/picture?type=large", "display_name": "ocket8888", "link": "https://stackoverflow.com/users/3777314/ocket8888"}, "edited": false, "score": 0, "creation_date": 1559767069, "post_id": 56467513, "comment_id": 99526810, "body": "0.o how did I miss that? There&#39;s an auto-generated spec file and obviously the constructor call signature didn&#39;t update when I changed it in the source file."}], "owner": {"reputation": 702, "user_id": 3777314, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/600103728/picture?type=large", "display_name": "ocket8888", "link": "https://stackoverflow.com/users/3777314/ocket8888"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1559766323, "creation_date": 1559766323, "question_id": 56467513, "link": "https://stackoverflow.com/questions/56467513/cant-pass-properties-to-angular-directive-constructor", "title": "Can&#39;t pass properties to angular directive constructor", "body": "<p>I'm trying to give a directive a reference to its element, but I can't pass it in the constructor. What's really weird is that I have a different directive in the same project that <em>does</em> get a reference to its element through the constructor.</p>\n\n<p>Here's a bunch of different things I've tried:</p>\n\n<p>first, the one that works on a different directive elsewhere in the project:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Directive, ElementRef } from '@angular/core';\n\n@Directive({\n  selector: 'dialog[openable]'\n})\nexport class OpenableDirective {\n  constructor (private readonly element: ElementRef) { }\n}\n</code></pre>\n\n<p>okay, maybe it can't be readonly:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Directive, ElementRef } from '@angular/core';\n\n@Directive({\n  selector: 'dialog[openable]'\n})\nexport class OpenableDirective {\n  constructor (private element: ElementRef) { }\n}\n</code></pre>\n\n<p>let's try <code>public</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Directive, ElementRef } from '@angular/core';\n\n@Directive({\n  selector: 'dialog[openable]'\n})\nexport class OpenableDirective {\n  constructor (public element: ElementRef) { }\n}\n</code></pre>\n\n<p>okay, how about doing it a dumb way:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Directive, ElementRef } from '@angular/core';\n\n@Directive({\n  selector: 'dialog[openable]'\n})\nexport class OpenableDirective {\n  private element: ElementRef;\n  constructor (e: ElementRef) {\n    this.element = e;\n  }\n}\n</code></pre>\n\n<p>These all fail to compile with the same error message:</p>\n\n<pre><code>ERROR in /path/to/src/app/directives/openable.directive.spec.ts\n[tsl] ERROR in /path/to/src/app/directives/openable.directive.spec.ts(5,23)\n      TS2554: Expected 1 arguments, but got 0.\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 2\nnpm ERR! my-app@0.0.1 autonomous:build: `npm run build:client-and-server-bundles &amp;&amp; webpack --config webpack.server.config.js --no-progress --no-colors`\nnpm ERR! Exit status 2\n</code></pre>\n\n<p>of course, you'll notice that line 5 not only doesn't have 23 columns, but it's also not where the error comes from. I know this because this code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Directive, ElementRef } from '@angular/core';\n\n@Directive({\n  selector: 'dialog[openable]'\n})\nexport class OpenableDirective {\n  constructor () { }\n}\n</code></pre>\n\n<p>compiles fine.</p>\n\n<p>Why is this broken? Why does it work elsewhere?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1559765780, "post_id": 56467368, "comment_id": 99526269, "body": "You could type it <code>[...] as any</code> for the initial assignment."}, {"owner": {"reputation": 73871, "user_id": 1426891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gFJE8.png?s=128&g=1", "display_name": "Jeff Bowman", "link": "https://stackoverflow.com/users/1426891/jeff-bowman"}, "edited": false, "score": 0, "creation_date": 1559768077, "post_id": 56467368, "comment_id": 99527225, "body": "This seems dangerous. Are the keys of the key-value pairs known at compile time? Do you want those keys to show up in the <code>length</code> property, and can you guarantee that array methods like <code>push</code> wouldn&#39;t show up as keys?"}, {"owner": {"reputation": 1108, "user_id": 3942699, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/bVbLj.jpg?s=128&g=1", "display_name": "feihcsim", "link": "https://stackoverflow.com/users/3942699/feihcsim"}, "edited": false, "score": 0, "creation_date": 1559768689, "post_id": 56467368, "comment_id": 99527447, "body": "As in JavaScript, <code>associativeArray.customKey = &#39;customValue&#39;</code> would not affect the <code>length</code>, so I would not want the custom keys to affect the array length. I can also guarantee that array methods wouldn&#39;t get overridden, but would that guarantee be possible in TypeScript as well?"}], "answers": [{"tags": [], "owner": {"reputation": 73871, "user_id": 1426891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gFJE8.png?s=128&g=1", "display_name": "Jeff Bowman", "link": "https://stackoverflow.com/users/1426891/jeff-bowman"}, "is_accepted": true, "score": 1, "last_activity_date": 1559796399, "creation_date": 1559796399, "answer_id": 56471017, "question_id": 56467368, "link": "https://stackoverflow.com/questions/56467368/how-can-i-specify-an-array-type-with-custom-properties-in-typescript/56471017#56471017", "title": "How can I specify an array type with custom properties in TypeScript?", "body": "<p>You can <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#extending-expressions\" rel=\"nofollow noreferrer\">extend array types</a> since Typescript 1.6.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class MyArray extends Array&lt;string&gt; {\n  customKey?: string;\n}\n</code></pre>\n\n<p>However, doing so with arbitrary string keys is probably a bad idea, because doing so with numeric strings will still affect Array behavior like <code>length</code>, and because you can overwrite Array properties and methods in Javascript and Typescript both. If you allow arbitrary string keys, you will probably lose many of the benefits of typing your object.</p>\n\n<pre><code>foo = [\"a\", \"b\", \"c\"];\nconsole.log(foo.length);                        // 3\nfoo.arbitraryString = \"arbitrary\";\nconsole.log(foo.length);                        // 3\nfoo[\"anotherArbitraryString\"] = \"arbitrary\";\nconsole.log(foo.length);                        // 3\nfoo[\"3\"] = \"d\";\nconsole.log(foo.length);                        // 4\nfoo[\"push\"] = () =&gt; console.log(\"Oops.\");\nfoo.push(\"e\");                                  // Oops.\n</code></pre>\n\n<p><a href=\"https://jsfiddle.net/ox387js5/\" rel=\"nofollow noreferrer\">[Fiddle]</a></p>\n\n<p>And in any case, it is <a href=\"https://stackoverflow.com/a/51937036/1426891\">equivalent and more idiomatic</a> to use <code>[key: string]: string</code> as a property than a <code>Record&lt;string, string&gt;</code>.</p>\n"}], "owner": {"reputation": 1108, "user_id": 3942699, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/bVbLj.jpg?s=128&g=1", "display_name": "feihcsim", "link": "https://stackoverflow.com/users/3942699/feihcsim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1186, "favorite_count": 0, "accepted_answer_id": 56471017, "answer_count": 1, "score": 0, "last_activity_date": 1559796399, "creation_date": 1559765650, "question_id": 56467368, "link": "https://stackoverflow.com/questions/56467368/how-can-i-specify-an-array-type-with-custom-properties-in-typescript", "title": "How can I specify an array type with custom properties in TypeScript?", "body": "<p>For example, if I am attaching additional data (in the form of key-value pairs, where the keys are strings) to an array instance, how can I extend the type of this instance of an array to allow for this additional data?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const associativeArray: string[] &amp; Record&lt;string, string&gt; = ['some', 'array', 'data']\n/*\nType 'never[]' is not assignable to type 'string[] &amp; Record&lt;string, string&gt;'.\n  Type 'never[]' is not assignable to type 'Record&lt;string, string&gt;'.\n    Index signature is missing in type 'never[]'.ts(2322)\n*/\n\nassociativeArray.customKey = 'customValue'\n</code></pre>\n"}, {"tags": ["css", "angular", "typescript"], "comments": [{"owner": {"reputation": 10598, "user_id": 1179077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CyVen.jpg?s=128&g=1", "display_name": "zgood", "link": "https://stackoverflow.com/users/1179077/zgood"}, "edited": false, "score": 0, "creation_date": 1559765524, "post_id": 56467226, "comment_id": 99526151, "body": "for <code>overflow:hidden</code> to work you would probably need to set a static height on the button container that has <code>overflow:hidden</code> set. It also looks like your buttons are floating left in a row and not stacked vertically"}, {"owner": {"reputation": 556, "user_id": 5634347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-qRov_Rn4suo/AAAAAAAAAAI/AAAAAAAAATU/4pew1RH7XWY/photo.jpg?sz=128", "display_name": "Omkar Dixit", "link": "https://stackoverflow.com/users/5634347/omkar-dixit"}, "reply_to_user": {"reputation": 10598, "user_id": 1179077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CyVen.jpg?s=128&g=1", "display_name": "zgood", "link": "https://stackoverflow.com/users/1179077/zgood"}, "edited": false, "score": 0, "creation_date": 1559766249, "post_id": 56467226, "comment_id": 99526463, "body": "i have updated the example, it automatically made them vertical when i was writing, plus the div.row works good instead of mat-action-row"}, {"owner": {"reputation": 556, "user_id": 5634347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-qRov_Rn4suo/AAAAAAAAAAI/AAAAAAAAATU/4pew1RH7XWY/photo.jpg?sz=128", "display_name": "Omkar Dixit", "link": "https://stackoverflow.com/users/5634347/omkar-dixit"}, "reply_to_user": {"reputation": 10598, "user_id": 1179077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CyVen.jpg?s=128&g=1", "display_name": "zgood", "link": "https://stackoverflow.com/users/1179077/zgood"}, "edited": false, "score": 0, "creation_date": 1559766287, "post_id": 56467226, "comment_id": 99526476, "body": "i need to hide the extra buttons created during *ngFor=&quot;let subject of selectedFilter.listOfFilters&quot;"}], "owner": {"reputation": 556, "user_id": 5634347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-qRov_Rn4suo/AAAAAAAAAAI/AAAAAAAAATU/4pew1RH7XWY/photo.jpg?sz=128", "display_name": "Omkar Dixit", "link": "https://stackoverflow.com/users/5634347/omkar-dixit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1559766196, "creation_date": 1559764938, "last_edit_date": 1559766196, "question_id": 56467226, "link": "https://stackoverflow.com/questions/56467226/hide-extra-buttons-on-overflow", "title": "Hide extra buttons on overflow", "body": "<p>Here I am showing the filters applied to the results, the selected would be active, rest won't be active. But if the results are exceeding that one line, I need to create an hide/show button for other ones, which would be dynamic and dependent on the number of filters.</p>\n\n<p>For ex:</p>\n\n<pre><code>&lt;button&gt;Filter 1&lt;/button&gt;&lt;button&gt;Filter 2&lt;/button&gt;&lt;button&gt;Filter 3&lt;/button&gt;&lt;button (click)=\"showAll()\"&gt;+2 more&lt;/button&gt;\n</code></pre>\n\n<p>When I click on +2 more it should show the remaining two. If there are just 3 then +2 more will not be there. </p>\n\n<p>In this case how to use the <code>overflow:hidden</code>? </p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n    &lt;div class=\"col-md-12 button-row\"&gt;\n        &lt;button mat-raised-button color=\"primary\"selected&gt;{{selectedFilter.name}}&lt;/button&gt;\n        &lt;button mat-stroked-button color=\"primary\"selected *ngFor=\"let subject of selectedFilter.listOfFilters\" [ngClass]=\"{'active':subject===selectedFilter.selected}\"&gt;{{subject}}&lt;/button&gt; \n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["html", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 11605869, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UgUzLfItJtw/AAAAAAAAAAI/AAAAAAAAACA/krrAK3IaUk0/photo.jpg?sz=128", "display_name": "Min Jae You", "link": "https://stackoverflow.com/users/11605869/min-jae-you"}, "edited": false, "score": 0, "creation_date": 1559765572, "post_id": 56467320, "comment_id": 99526170, "body": "thank you for your response, but the service already has the &quot;providedIn: &#39;root&#39; &quot; statement and I&#39;ve also made sure to add this service to the providers array so I&#39;m not really sure what&#39;s going on."}, {"owner": {"reputation": 1884, "user_id": 3413536, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b844289a79dd467dcdf6ba02c520bf7c?s=128&d=identicon&r=PG&f=1", "display_name": "Sammy I.", "link": "https://stackoverflow.com/users/3413536/sammy-i"}, "reply_to_user": {"reputation": 21, "user_id": 11605869, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UgUzLfItJtw/AAAAAAAAAAI/AAAAAAAAACA/krrAK3IaUk0/photo.jpg?sz=128", "display_name": "Min Jae You", "link": "https://stackoverflow.com/users/11605869/min-jae-you"}, "edited": false, "score": 0, "creation_date": 1559765952, "post_id": 56467320, "comment_id": 99526344, "body": "Do <code>InventoryRecordComponent</code> and <code>InventoryRecordFilledComponent</code> exist at the same time? Is it possible that <code>InventoryRecordFilledComponent</code> is getting the values of the service before <code>InventoryRecordComponent</code> has set them to the new values? If so, I think it would be a better idea to set the <code>name</code>, <code>action</code>, and <code>rest</code> variables to Observables - that way you can push a new value when calling <code>updateCode</code>, and subscribe to those values inside of the classes so that they are updated when a new value is pushed."}, {"owner": {"reputation": 21, "user_id": 11605869, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UgUzLfItJtw/AAAAAAAAAAI/AAAAAAAAACA/krrAK3IaUk0/photo.jpg?sz=128", "display_name": "Min Jae You", "link": "https://stackoverflow.com/users/11605869/min-jae-you"}, "edited": false, "score": 0, "creation_date": 1559768591, "post_id": 56467320, "comment_id": 99527409, "body": "As you&#39;ve said, I made name, action, and rest into observables and subscribed to them inside each component. It worked flawlessly on the inventory-record component. However, the inventory-record-filled component again just returns the default data instead of the updated data."}, {"owner": {"reputation": 1884, "user_id": 3413536, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b844289a79dd467dcdf6ba02c520bf7c?s=128&d=identicon&r=PG&f=1", "display_name": "Sammy I.", "link": "https://stackoverflow.com/users/3413536/sammy-i"}, "reply_to_user": {"reputation": 21, "user_id": 11605869, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UgUzLfItJtw/AAAAAAAAAAI/AAAAAAAAACA/krrAK3IaUk0/photo.jpg?sz=128", "display_name": "Min Jae You", "link": "https://stackoverflow.com/users/11605869/min-jae-you"}, "edited": false, "score": 0, "creation_date": 1559772791, "post_id": 56467320, "comment_id": 99528872, "body": "Could you post a demo on StackBlitz? My next recommendation would be to make the variables into <a href=\"https://alligator.io/rxjs/subjects/#behavior-subjects\" rel=\"nofollow noreferrer\">Behavior Subjects</a>, but I&#39;m not 100% sure. I&#39;d be able to give you a more informed answer with a demo. Also, I should have recommended that you turn the variables into <a href=\"https://alligator.io/rxjs/subjects/\" rel=\"nofollow noreferrer\">Subjects</a>  instead since you would have to push values into them, which Observables don&#39;t allow you to do."}], "tags": [], "owner": {"reputation": 1884, "user_id": 3413536, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b844289a79dd467dcdf6ba02c520bf7c?s=128&d=identicon&r=PG&f=1", "display_name": "Sammy I.", "link": "https://stackoverflow.com/users/3413536/sammy-i"}, "is_accepted": false, "score": 0, "last_activity_date": 1559765380, "creation_date": 1559765380, "answer_id": 56467320, "question_id": 56467122, "link": "https://stackoverflow.com/questions/56467122/using-service-ts-variables-on-multiple-components/56467320#56467320", "title": "Using service.ts variables on multiple components", "body": "<p>If you need your component to behave as a Simpleton (where it contains the same values regardless of where in the application it is used) you must set its <code>providedIn</code> value to <code>\"root\"</code>, like so:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class NextService {\n  // The rest of the code stays the same\n}\n</code></pre>\n\n<p>The description for that can be found here: <a href=\"https://angular.io/guide/singleton-services#providing-a-singleton-service\" rel=\"nofollow noreferrer\">https://angular.io/guide/singleton-services#providing-a-singleton-service</a> </p>\n\n<p>If you don't do that, each component that imports <code>NextService</code> will have it's own instance of <code>NextService</code>, with its own isolated values. If you want the values of a service to be available everywhere that the service is used in, then you want the service to be a Simpleton, so you must follow the steps. </p>\n\n<p>Following the steps above is not the only way to make your component a Simpleton, but as the link mentions, it is the preferred way to do that.</p>\n\n<p>Hope that helps!</p>\n"}], "owner": {"reputation": 21, "user_id": 11605869, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UgUzLfItJtw/AAAAAAAAAAI/AAAAAAAAACA/krrAK3IaUk0/photo.jpg?sz=128", "display_name": "Min Jae You", "link": "https://stackoverflow.com/users/11605869/min-jae-you"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1559765380, "creation_date": 1559764393, "question_id": 56467122, "link": "https://stackoverflow.com/questions/56467122/using-service-ts-variables-on-multiple-components", "title": "Using service.ts variables on multiple components", "body": "<p>I've set up next.service.ts with 3 variables (user, action, rest) and made setters(updateNext()) and getters (getUser, getAction, getRest). I've got to use the setter to change the variables in one component (stock-management component) and retrieved these variables in another component (inventory-record component) but I can't seem to retrieve them from another component (inventory-record-filled component).</p>\n\n<p>I've tried returning a string (\"TEST\") in the getter and it worked, but when I tried returning a variable, it just returned nothing/empty string.</p>\n\n<pre><code>\nexport class NextService {\n  private action: string;\n  private user: string;\n  private restraunt: string;\n\n  constructor() { }\n\n  updateNext(actions, users, restraunts) {\n    this.action = actions;\n    this.user = users;\n    this.restraunt = restraunts;\n  }\n\n  getAction(): string {\n    return this.action;\n  }\n\n  getUser(): string {\n    return this.user;\n  }\n\n  getRest(): string {\n    return this.restraunt;\n  }\n</code></pre>\n\n<pre><code>export class InventoryRecordComponent implements OnInit {\n  name = '';\n  rest = '';\n  action = '';\n\n  constructor(private next: NextService) {\n    this.name = this.next.getUser();\n    this.action = this.next.getAction();\n    this.rest = this.next.getRest();\n  }\n\n  ngOnInit() {\n    document.getElementById('dne').style.display = 'none';\n  }\n\n  onSubmit(f: NgForm) {\n    const x = document.getElementById('dne');\n    if (!this.next.updateCode(this.code)) {\n      x.style.display = 'block';\n      f.resetForm();\n    } else {\n      this.next.updateCode(this.code);\n      location.replace('inventory-record/qty');\n    }\n  }\n}\n</code></pre>\n\n<pre><code>export class InventoryRecordFilledComponent implements OnInit {\n  name: string;\n  action: string;\n  rest: string;\n\n  constructor(private next: NextService) {\n    this.name = this.next.getUser();\n    this.action = this.next.getAction();\n    this.rest = this.next.getRest();\n   }\n\n  ngOnInit() {\n\n  }\n}\n\n</code></pre>\n\n<p>Each component have its respective html files with <p>{{ name }} {{ action }} {{ rest }}</p></p>\n"}, {"tags": ["twitter-bootstrap", "typescript", "webpack", "import"], "owner": {"reputation": 11, "user_id": 6894047, "user_type": "registered", "profile_image": "https://graph.facebook.com/791488080/picture?type=large", "display_name": "Susan Elizabeth King Tuvell", "link": "https://stackoverflow.com/users/6894047/susan-elizabeth-king-tuvell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1559768767, "creation_date": 1559763471, "last_edit_date": 1559768767, "question_id": 56466939, "link": "https://stackoverflow.com/questions/56466939/import-bootstrap-in-typescript-file-not-working", "title": "import bootstrap in typescript file not working", "body": "<p>I am trying to import bootstrap into my typescript file so that I can use the bootstrap tooltip on SVG shapes that I am adding to a canvas based on a search result. Anyway, I an adding these SVGs in a typescript file and I need add the bootstrap tooltip which I am doing by calling <code>$('.tooltip').tooltip({title: \"it works!\"})</code>. However, in order to do this, I need to import both jQuery and bootstrap. I am able to import jQuery using -- <code>import * as $ from \"JQuery\";</code> -- however when i try to import bootstrap, using -- <code>import \"bootstrap\"</code> -- I get the following error message in the browser. </p>\n\n<p>I am using node.js and have the latest bootstrap</p>\n\n<p><a href=\"https://i.stack.imgur.com/2G5zF.png\" rel=\"nofollow noreferrer\">Browser Error Results</a></p>\n"}, {"tags": ["html", "typescript"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1559760564, "post_id": 56466341, "comment_id": 99524108, "body": "TypeScript doesn&#39;t like globals, like those created by the browser for elements with IDs."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11601350, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YAyrs.jpg?s=128&g=1", "display_name": "Chivalrybean", "link": "https://stackoverflow.com/users/11601350/chivalrybean"}, "edited": false, "score": 0, "creation_date": 1559764808, "post_id": 56466542, "comment_id": 99525866, "body": "Since those three elements are the entirety of what I needed, I just declared them like <code>const output: any = document.getElementById(&quot;output&quot;)</code> and it&#39;s all copacetic now.  I was&#39;t sure which type to set nameInput and roleInput to. HTMLTextAreaElement tossed a lot of errors (missing properties).   It works now though, and I am learning more about what I&#39;m doing. Thanks!"}, {"owner": {"reputation": 13, "user_id": 11601350, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YAyrs.jpg?s=128&g=1", "display_name": "Chivalrybean", "link": "https://stackoverflow.com/users/11601350/chivalrybean"}, "edited": false, "score": 0, "creation_date": 1559835791, "post_id": 56466542, "comment_id": 99552371, "body": "Excellent, thanks for the update! I&#39;ve made adjustments and it didn&#39;t break anything. {:0)"}], "tags": [], "owner": {"reputation": 7159, "user_id": 877279, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/5fa0544f9a87c652a5b5c1d4b401fcae?s=128&d=identicon&r=PG", "display_name": "Tyler Sebastian", "link": "https://stackoverflow.com/users/877279/tyler-sebastian"}, "is_accepted": true, "score": 0, "last_activity_date": 1559773602, "last_edit_date": 1559773602, "creation_date": 1559761346, "answer_id": 56466542, "question_id": 56466341, "link": "https://stackoverflow.com/questions/56466341/cannot-find-name-ts2304-when-trying-to-read-html-elements/56466542#56466542", "title": "Cannot find name TS2304 when trying to read HTML elements", "body": "<p>based on your commen below, it looks like you're not using <em>global</em> objects as I initially thought, you're just using objects from the parent context.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const output: HTMLTextAreaElement = document.getElementById(...)\n</code></pre>\n\n<p>won't work - <code>getElementById</code> returns an <code>HTMLElement</code>. Unfortunately, <code>getElementById</code> isn't generic. If you were using <code>querySelector</code>, you could do </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const output = document.querySelector&lt;HTMLTextAreaElement&gt;(...)\n</code></pre>\n\n<p>which tells TS that you're expecting the return to be a TextArea element. Instead, you have to type assert</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const output = document.getElementById(...) as HTMLTextAreaElement\n</code></pre>\n\n<p>Now output has the correct type.</p>\n\n<hr>\n\n<p><strong>old response</strong></p>\n\n<p>As mentioned in a comment, TS doesn't play nicely out of the box with globals. </p>\n\n<p>If you know what your <code>global</code> is going to look like, you can use ambient types / type augmentation to type globals.</p>\n\n<p>In your above example, you can give your globals ambient types:</p>\n\n<pre><code>declare var output: ...\ndeclare var nameInput: ...\ndeclare var roleInput: ...\n</code></pre>\n\n<p>This can be placed either in the file you reference them in, or in a types file (specified via <code>types</code> or <code>typeRoots</code> in your <code>tsconfig.json</code>).</p>\n\n<p>A \"better\" (more idiomatic) way to specify these types if via type augmentation of the global object. </p>\n\n<p>for a browser based app, it would look like</p>\n\n<pre><code>declare interface Window {\n  output: ...\n  nameInput: ...\n  roleInput: ...\n}\n</code></pre>\n\n<p>and for node it would look like</p>\n\n<pre><code>declare var global {\n  ...\n}\n\n</code></pre>\n\n<p><strong>note</strong>: you must prefix your globals with <code>window.</code> or <code>global.</code> for type augmentation to work.</p>\n"}], "owner": {"reputation": 13, "user_id": 11601350, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YAyrs.jpg?s=128&g=1", "display_name": "Chivalrybean", "link": "https://stackoverflow.com/users/11601350/chivalrybean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 56466542, "answer_count": 1, "score": 1, "last_activity_date": 1559773602, "creation_date": 1559760394, "last_edit_date": 1559763393, "question_id": 56466341, "link": "https://stackoverflow.com/questions/56466341/cannot-find-name-ts2304-when-trying-to-read-html-elements", "title": "Cannot find name TS2304 when trying to read HTML elements", "body": "<p>I've got an IDE at work with VS Code and the Easy Compile extension (can't just install NPM etc.)</p>\n\n<p>I'm trying to just read two text areas so I can process them for the output, but for right I'm just going to put them on the page.</p>\n\n<p>I've manually adjusted the .js and it works just fine, it's just the .ts file that's not happy.</p>\n\n<p>In the .ts</p>\n\n<pre><code>form.onsubmit = function(e) {\n    e.preventDefault();\n    output.innerHTML = nameInput.value + \"are doing \" + roleInput.value\n}\n</code></pre>\n\n<p>in HTML </p>\n\n<pre><code>&lt;form id=\"userForm\"&gt;\n        &lt;div id=\"people\"&gt;\n            &lt;label for=\"nameInput\"&gt;Enter names, separated by commas&lt;/label&gt;\n            &lt;textarea id=\"nameInput\" name=\"namelist\" required&gt;&lt;/textarea&gt;\n        &lt;/div&gt;\n     &lt;div id=\"roles\"&gt;\n          &lt;label for=\"roleInput\"&gt;Enter locations to inspect, separated by commas.&lt;/label&gt;\n         &lt;textarea id=\"roleInput\" name=\"rolelist\" required&gt;&lt;/textarea&gt;\n     &lt;/div&gt;\n     &lt;button type=\"submit\" type=\"Submit\"&gt;Generate your list!&lt;/button&gt;\n    &lt;/form&gt;\n    &lt;div id=\"output\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>I'm expecting the page to put the text on in the 'output' div.</p>\n\n<p>but</p>\n\n<p>TS is giving me </p>\n\n<p>Cannot find name 'output'.</p>\n\n<p>Cannot find name 'nameInput'.</p>\n\n<p>Cannot find name 'roleInput'.</p>\n\n<p>ts(2304) errors.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": false, "score": 1, "last_activity_date": 1559780398, "creation_date": 1559780398, "answer_id": 56469567, "question_id": 56466296, "link": "https://stackoverflow.com/questions/56466296/typescript-type-that-returns-functions-of-a-given-type/56469567#56469567", "title": "Typescript: type that returns functions of a given type", "body": "<p>Here's how I'd go about this:</p>\n\n<pre><code>function toField&lt;K extends keyof any&gt;(key: K) {\n  return &lt;T extends Record&lt;K, () =&gt; any&gt;&gt;(value: T): ReturnType&lt;T[K]&gt; =&gt; value[key]();\n}\n</code></pre>\n\n<p>Here, <code>toField()</code> is a generic function in <code>K</code>, the type of the <code>key</code> argument, which <em>returns</em> a generic function in <code>T</code>, the type of the <code>value</code> argument.  <code>T</code> is constrained to types have a property with key <code>K</code>, whose property value at that key is a zero-argument function.  <em>That</em> function returns a value of type <code>ReturnType&lt;T[K]&gt;</code>, where <code>ReturnType&lt;F&gt;</code> is <a href=\"https://github.com/Microsoft/TypeScript/blob/v3.4.5/lib/lib.es5.d.ts#L1481-L1484\" rel=\"nofollow noreferrer\">defined in the standard library</a> to be the type of the return type of a function type <code>F</code>.  </p>\n\n<p>Let's test it out:</p>\n\n<pre><code>class Test {\n  x: string;\n  constructor(x: string) {\n    this.x = x;\n  }\n\n  getX(): string { return this.x; }\n}\n\nconst y: Test[] = [new Test('hello')];\nconst strings = y.map(toField('getX')); // okay, string[]\nconst doesntWork = y.map(toField('x')); // error!\n//                       ~~~~~~~~~~~~ \n// y.map() doesn't accept a toField('x'), since Test['x'] is not a zero arg fn\n</code></pre>\n\n<p>I assume it's better that <code>y.map(toField('x'))</code> should be a compile-time warning and not silently produce a value of type <code>never[]</code> at compile time.  You don't want to pass <code>toField('x')</code> to <code>y.map()</code> at all.</p>\n\n<p>A few more cases:</p>\n\n<pre><code>const thisWorks = toField('toLowerCase')(\"LOWERCASE\");\nconst thisDoesnt = toField('charAt')(\"oops\"); // error!\n//                                   ~~~~~~\n// \"oops\".charAt is a function but needs args \n</code></pre>\n\n<p>You can call <code>\"LOWERCASE\".toLowerCase()</code>, but shouldn't can't call <code>\"oops\".charAt()</code>.</p>\n\n<p>Finally, note that your original typings really only worked in one line like <code>arr.map(toField(\"xxx\"))</code> because it relied on <a href=\"https://www.typescriptlang.org/docs/handbook/type-inference.html#contextual-typing\" rel=\"nofollow noreferrer\">contextual typing</a> of <code>arr.map()</code> to infer the generic type parameters in <code>toField()</code>.  You'd run into trouble doing this:</p>\n\n<pre><code>const getXField = toField('getX');\n// const getXField: &lt;T extends Record&lt;\"getX\", () =&gt; any&gt;&gt;(value: T) =&gt; ReturnType&lt;T[\"getX\"]&gt;\nconst stringsTwoStep = y.map(getXField); // okay, string[]\n</code></pre>\n\n<p>For your original code, the first line would be an error because it would fail to infer anything for <code>T</code>, default to <code>{}</code> or <code>unknown</code>, and then end up constraining <code>U</code> to <code>never</code>, and <code>'getX'</code> is not assignable to <code>never</code>.  Blegh.  But in the above code there's no difference between calling it in one line or splitting it into two.</p>\n\n<p>Okay, hope that helps.  Good luck!</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=function%20toField%3CK%20extends%20keyof%20any%3E%28key%3A%20K%29%20%7B%0A%20%20return%20%3CT%20extends%20Record%3CK%2C%20%28%29%20%3D%3E%20any%3E%3E%28value%3A%20T%29%3A%20ReturnType%3CT%5BK%5D%3E%20%3D%3E%20value%5Bkey%5D%28%29%3B%0A%7D%0A%0Aclass%20Test%20%7B%0A%20%20x%3A%20string%3B%0A%20%20constructor%28x%3A%20string%29%20%7B%0A%20%20%20%20this.x%20%3D%20x%3B%0A%20%20%7D%0A%0A%20%20getX%28%29%3A%20string%20%7B%20return%20this.x%3B%20%7D%0A%7D%0A%0Aconst%20y%3A%20Test%5B%5D%20%3D%20%5Bnew%20Test%28%27hello%27%29%5D%3B%0Aconst%20strings%20%3D%20y.map%28toField%28%27getX%27%29%29%3B%20%2F%2F%20okay%2C%20string%5B%5D%0Aconst%20doesntWork%20%3D%20y.map%28toField%28%27x%27%29%29%3B%20%2F%2F%20error%21%0A%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20~~~~~~~~~~~~%20%0A%2F%2F%20y.map%28%29%20doesn%27t%20accept%20a%20toField%28%27x%27%29%2C%20since%20Test%5B%27x%27%5D%20is%20not%20a%20zero%20arg%20fn%0A%0Aconst%20thisWorks%20%3D%20toField%28%27toLowerCase%27%29%28%22LOWERCASE%22%29%3B%0Aconst%20thisDoesnt%20%3D%20toField%28%27charAt%27%29%28%22oops%22%29%3B%20%2F%2F%20error%21%0A%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20~~~~~~%0A%2F%2F%20%22oops%22.charAt%20is%20a%20function%20but%20needs%20args%20%0A%0A%2F%2F%20can%20also%20do%20this%20in%20two%20steps%3A%0Aconst%20getXField%20%3D%20toField%28%27getX%27%29%3B%0A%2F%2F%20const%20getXField%3A%20%3CT%20extends%20Record%3C%22getX%22%2C%20%28%29%20%3D%3E%20any%3E%3E%28value%3A%20T%29%20%3D%3E%20ReturnType%3CT%5B%22getX%22%5D%3E%0Aconst%20stringsTwoStep%20%3D%20y.map%28getXField%29%3B%20%2F%2F%20okay%2C%20string%5B%5D%0A%0A\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 1, "user_id": 10112154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e2f69f3d0edd37aafa410172c52dbfc?s=128&d=identicon&r=PG&f=1", "display_name": "ac566", "link": "https://stackoverflow.com/users/10112154/ac566"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1559780398, "creation_date": 1559760150, "last_edit_date": 1559762187, "question_id": 56466296, "link": "https://stackoverflow.com/questions/56466296/typescript-type-that-returns-functions-of-a-given-type", "title": "Typescript: type that returns functions of a given type", "body": "<p>I want to create a type that returns the functions of its generic type argument. It should behave like <code>keyof</code> but return only the keys that are used to call functions</p>\n\n<p>I am using typescript 3.4.5. </p>\n\n<p>Use Case: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type FunctionOf&lt;T&gt; = ... // &lt;-- what I want\n\nfunction testFunction&lt;T, U extends FunctionOf&lt;T&gt;&gt;(obj: T, functionName: U): T[U] { \n  return obj[functionName]();\n}\n</code></pre>\n\n<p>My specific case:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export type Mapper&lt;T, U&gt; = (value: T, index?: number, array?: T[]) =&gt; U;\n\ntype IsFunction&lt;T&gt; = T extends Function ? T &amp; Function : never;\n\nexport function toField&lt;T, U extends keyof T, V extends IsFunction&lt;T[U]&gt;&gt;(key: U): Mapper&lt;T, V extends () =&gt; infer R ? R : never&gt; {\n    return (value: T) =&gt; (value[key] as V)();\n}\n\nclass Test {\n    x: string;\n    constructor(x: string) {\n        this.x = x;\n    }\n\n    getX(): string { return this.x; }\n}\n\nconst y: Test[] = [new Test('hello')];\n\ny.map(toField('getX')); // putting in 'x' will not cause the entire return to be never which is what I want.\n</code></pre>\n\n<p>I expect the above to restrict the accepted arguments to just the functions of <code>Test</code> but it doesn't</p>\n\n<p>EDIT: I may have found a solution, but only when I use 'any' (I have no-unsafe-any as a rule). This correctly infers that the return type should be <code>never</code> when the field provided is not a function, but doesn't cause any compile errors. While this fixes my specific case, I'd still like to find a way of typing this more efficiently</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export type Mapper&lt;T, U&gt; = (value: T, index?: number, array?: T[]) =&gt; U;\n\ntype IsFunction&lt;T&gt; = T extends Function ? T &amp; Function : never;\n\nexport function toField&lt;T, U extends keyof T, V extends IsFunction&lt;T[U]&gt;&gt;(\n    key: U\n): V extends Function ? Mapper&lt;T, V extends () =&gt; infer R ? R : never&gt; : never {\n    return ((value: T) =&gt; (value[key] as V)()) as any;\n}\n</code></pre>\n"}, {"tags": ["typescript", "intellij-idea"], "comments": [{"owner": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "edited": false, "score": 1, "creation_date": 1559814092, "post_id": 56466007, "comment_id": 99540102, "body": "what IDEA version do you work with, what do your path mappings in <code>tsconfig.json</code> look like?"}, {"owner": {"reputation": 8403, "user_id": 4019404, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Petr Averyanov", "link": "https://stackoverflow.com/users/4019404/petr-averyanov"}, "reply_to_user": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "edited": false, "score": 0, "creation_date": 1559814480, "post_id": 56466007, "comment_id": 99540309, "body": "please add this as answer so I can accept"}, {"owner": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "edited": false, "score": 0, "creation_date": 1559821552, "post_id": 56466007, "comment_id": 99544079, "body": "it was not the answer, just questions... Looks similar to a known <a href=\"https://youtrack.jetbrains.com/issue/WEB-37987\" rel=\"nofollow noreferrer\">issue</a>, fixed in recent updates, so upgrading IDEA might help"}, {"owner": {"reputation": 8403, "user_id": 4019404, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Petr Averyanov", "link": "https://stackoverflow.com/users/4019404/petr-averyanov"}, "reply_to_user": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "edited": false, "score": 1, "creation_date": 1559821795, "post_id": 56466007, "comment_id": 99544199, "body": "yes update helped and it is answer"}, {"owner": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "edited": false, "score": 0, "creation_date": 1559823731, "post_id": 56466007, "comment_id": 99545247, "body": "I see, thanks for clearing it up:)"}], "answers": [{"tags": [], "owner": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "is_accepted": true, "score": 2, "last_activity_date": 1559823801, "creation_date": 1559823801, "answer_id": 56477547, "question_id": 56466007, "link": "https://stackoverflow.com/questions/56466007/force-idea-to-use-nice-typescript-imports-from-node-modules/56477547#56477547", "title": "Force idea to use nice typescript imports from node_modules", "body": "<p>Must be <a href=\"https://youtrack.jetbrains.com/issue/WEB-37987\" rel=\"nofollow noreferrer\">WEB-37987</a>, fixed in recent IDEA update. Please try upgrading the IDE</p>\n"}], "owner": {"reputation": 8403, "user_id": 4019404, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Petr Averyanov", "link": "https://stackoverflow.com/users/4019404/petr-averyanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 56477547, "answer_count": 1, "score": 0, "last_activity_date": 1559823801, "creation_date": 1559758803, "question_id": 56466007, "link": "https://stackoverflow.com/questions/56466007/force-idea-to-use-nice-typescript-imports-from-node-modules", "title": "Force idea to use nice typescript imports from node_modules", "body": "<p>Now when importing something from node_modules I get something like:</p>\n\n<pre><code>import {OnInit} from '../../../node_modules/@angular/core/src/metadata/lifecycle_hooks';\n</code></pre>\n\n<p>or (If i change settings)</p>\n\n<pre><code>import {OnInit} from 'node_modules/@angular/core/src/metadata/lifecycle_hooks';\n</code></pre>\n\n<p>And what I want is obvious</p>\n\n<pre><code>'@angular/core';\n</code></pre>\n\n<p>(After import I can modify import to nice version and it works. So I think this is related to some Idea settings/folder excusion/...)</p>\n"}, {"tags": ["node.js", "typescript", "three.js"], "answers": [{"comments": [{"owner": {"reputation": 1069, "user_id": 5909613, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ed74c29cc1502b7f39ede71993587291?s=128&d=identicon&r=PG&f=1", "display_name": "Jerome Reinl&#228;nder", "link": "https://stackoverflow.com/users/5909613/jerome-reinl%c3%a4nder"}, "edited": false, "score": 0, "creation_date": 1559761975, "post_id": 56466585, "comment_id": 99524702, "body": "I already use Three.js version 0.105.2, but the syntax suggested by you (ES6 with just &#39;three&#39;) does not work for me (&quot;Cannot find module &#39;three&#39;&quot;)"}, {"owner": {"reputation": 16675, "user_id": 2608515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/N7ZoP.jpg?s=128&g=1", "display_name": "Marquizzo", "link": "https://stackoverflow.com/users/2608515/marquizzo"}, "reply_to_user": {"reputation": 1069, "user_id": 5909613, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ed74c29cc1502b7f39ede71993587291?s=128&d=identicon&r=PG&f=1", "display_name": "Jerome Reinl&#228;nder", "link": "https://stackoverflow.com/users/5909613/jerome-reinl%c3%a4nder"}, "edited": false, "score": 0, "creation_date": 1559764325, "post_id": 56466585, "comment_id": 99525660, "body": "That&#39;s strange. I edited my answer to provide an alternative path-mapping method in case your compiler needs a little push to find the module. It depends on your folder hierarchy, but typically you&#39;d have <code>.tsconfig</code> and <code>node_modules&#47;</code> folder in the same location. You might run into problems if they&#39;re at different folder depths."}, {"owner": {"reputation": 1069, "user_id": 5909613, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ed74c29cc1502b7f39ede71993587291?s=128&d=identicon&r=PG&f=1", "display_name": "Jerome Reinl&#228;nder", "link": "https://stackoverflow.com/users/5909613/jerome-reinl%c3%a4nder"}, "edited": false, "score": 1, "creation_date": 1559766120, "post_id": 56466585, "comment_id": 99526409, "body": "Thanks for your answer. At first, it did not work for me, so I tried to create a minimal project to post for you to reproduce the problem. In this minimal example, your first solution already works and I do not have to set the path to Three.js explicitly, even with the ES6 syntax. Apparently I had messed up my configuration somewhere. I will still post the (now working) minimal example, in case someone might need it."}], "tags": [], "owner": {"reputation": 16675, "user_id": 2608515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/N7ZoP.jpg?s=128&g=1", "display_name": "Marquizzo", "link": "https://stackoverflow.com/users/2608515/marquizzo"}, "is_accepted": true, "score": 3, "last_activity_date": 1559764294, "last_edit_date": 1559764294, "creation_date": 1559761586, "answer_id": 56466585, "question_id": 56465966, "link": "https://stackoverflow.com/questions/56465966/three-js-with-typescript-autocomplete/56466585#56466585", "title": "Three.js with typescript autocomplete", "body": "<p>What version of <code>three</code> is installed in your <code>package.json</code> file? Make sure it's <code>0.101</code> or later, since that's when TypeScript support began. I recommend you use the latest (105 as of this writing), since it gets updated definition files on each release.</p>\n\n<p>Then, in your .ts files, you can import it with:</p>\n\n<pre><code>import * as THREE from \"three\";\n\n// After importing, THREE is available for auto-complete.\nvar lala = new THREE.WebGLRenderer();\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p>You might need to perform <a href=\"https://www.typescriptlang.org/docs/handbook/module-resolution.html#path-mapping\" rel=\"nofollow noreferrer\">path-mapping</a> in your <code>.tsconfig</code> file to force the compiler to find the correct module address. I've never had to do this, but the Typescript documentation suggests something like this:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"baseUrl\": \".\", // This must be specified if \"paths\" is.\n    \"paths\": {\n      \"three\": [\"node_modules/three/src/Three\"] // relative to \"baseUrl\"\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1069, "user_id": 5909613, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ed74c29cc1502b7f39ede71993587291?s=128&d=identicon&r=PG&f=1", "display_name": "Jerome Reinl&#228;nder", "link": "https://stackoverflow.com/users/5909613/jerome-reinl%c3%a4nder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 607, "favorite_count": 0, "accepted_answer_id": 56466585, "answer_count": 1, "score": 1, "last_activity_date": 1559766542, "creation_date": 1559758594, "last_edit_date": 1559766542, "question_id": 56465966, "link": "https://stackoverflow.com/questions/56465966/three-js-with-typescript-autocomplete", "title": "Three.js with typescript autocomplete", "body": "<p>I have a Node.js project that uses Typescript and Three.js. To import modules, I use the commonjs syntax, which I configured via</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"module\": \"commonjs\"\n  }\n}\n</code></pre>\n\n<p>in my <code>tsconfig.json</code>. I downloaded Three.js via NPM have a typescript file like this:</p>\n\n<pre><code>const THREE = require('three');\nconst scene = new THREE.Scene();\n</code></pre>\n\n<p>which compiles fine, but I do not get any autocomplete. I don't think this specific to the editor used, as both Visual Studio Code as well as Neovim with YouCompleteMe don't work. Both work if I use the ES6 module syntax:</p>\n\n<pre><code>import * as THREE from 'node_modules/three/src/Three';\nconst scene = new THREE.Scene();\n</code></pre>\n\n<p>Here however I cannot get it to work without giving the actual path to the library (which is a problem later on when using webpack). What did I forget to configure to get autocomplete (or the ES6 syntax without explicitly defining the path, at this point I am fine with both solutions)?</p>\n\n<h2>EDIT</h2>\n\n<p>As mentioned in the comments to accepted answer, I was not able to find my mistake, but found a working solution while trying to create a minimal working project. So I will post this here, in case it might help someone else. If you have the same problem, please still read the answer, as it is correct.</p>\n\n<p>My source file (in <code>src/main.ts</code>):</p>\n\n<pre><code>import * as THREE from 'three';\nconst scene = new THREE.Scene();\n</code></pre>\n\n<p><code>package.json</code> (with webpack to test if the library can be resolved there):</p>\n\n<pre><code>{\n  \"devDependencies\": {\n    \"@types/node\": \"^12.0.4\",\n    \"three\": \"^0.105.2\",\n    \"ts-loader\": \"^6.0.2\",\n    \"typescript\": \"^3.5.1\",\n    \"webpack\": \"^4.32.2\",\n    \"webpack-cli\": \"^3.3.2\"\n  }\n}\n</code></pre>\n\n<p><code>tsconfig.json</code>:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n      \"baseUrl\": \".\",\n      \"paths\": { \"*\": [\"types/*\"] },\n    \"target\": \"es6\",\n    \"module\": \"es6\",\n    \"outDir\": \"./dist\",\n    \"rootDir\": \"./src\",\n    \"strict\": true,\n    \"moduleResolution\": \"node\",\n    \"esModuleInterop\": true,\n    \"sourceMap\": true\n  },\n  \"include\": [\n    \"src/**/*.ts\"\n  ],\n  \"exclude\": [\n    \"node_modules/\"\n  ]\n}\n</code></pre>\n\n<p><code>webpack.config.js</code>:</p>\n\n<pre><code>const path = require('path');\n\nmodule.exports = {\n    entry: './src/main.ts',\n    output: {\n        filename: 'bundle.js',\n        path: path.resolve(__dirname, 'dist')\n    },\n    resolve: {\n        extensions: [ '.ts', '.js' ]\n    },\n    module: {\n        rules : [\n            { test: /\\.ts$/, use: [ 'ts-loader' ], exclude: /node_modules/ }\n        ]\n    }\n};\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 1870, "user_id": 6301806, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/AfP7H.png?s=128&g=1", "display_name": "WilliamNHarvey", "link": "https://stackoverflow.com/users/6301806/williamnharvey"}, "edited": false, "score": 1, "creation_date": 1559757938, "post_id": 56465767, "comment_id": 99522995, "body": "You&#39;re converting the Date object to an ISO string, so you&#39;ll need to show the contents of <code>parseIDateFromString</code>"}, {"owner": {"reputation": 718999, "user_id": 5445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932fb89b9d4049cec5cba357bf0ae388?s=128&d=identicon&r=PG", "display_name": "Christian C. Salvad&#243;", "link": "https://stackoverflow.com/users/5445/christian-c-salvad%c3%b3"}, "edited": false, "score": 1, "creation_date": 1559757958, "post_id": 56465767, "comment_id": 99523006, "body": "Could you post the <code>Helper.parseIDateFromString</code> function? The problem is probably related to timezone..."}, {"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1559757960, "post_id": 56465767, "comment_id": 99523010, "body": "Sorry, I updated question,"}, {"owner": {"reputation": 1112, "user_id": 10125418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/743b3799f2851dfa99ce77ac3fc12b6a?s=128&d=identicon&r=PG&f=1", "display_name": "Julian Liu", "link": "https://stackoverflow.com/users/10125418/julian-liu"}, "edited": false, "score": 2, "creation_date": 1559757975, "post_id": 56465767, "comment_id": 99523020, "body": "It&#39;s because of your timezone."}, {"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1559758070, "post_id": 56465767, "comment_id": 99523050, "body": "How to avoid timezone and get beginning of month?"}, {"owner": {"reputation": 133, "user_id": 813231, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8a744b302039a524db03a8719f4c28e2?s=128&d=identicon&r=PG", "display_name": "Arthur Hylton", "link": "https://stackoverflow.com/users/813231/arthur-hylton"}, "edited": false, "score": 1, "creation_date": 1559758642, "post_id": 56465767, "comment_id": 99523287, "body": "I have personally ran into some silent inaccuracies in JavaScript dates (due to my ignorance i guess). What are your views on dependencies in your project? Would you be against using moment.js?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1559758290, "post_id": 56465877, "comment_id": 99523146, "body": "Is it considering timezone?"}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "reply_to_user": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1559758319, "post_id": 56465877, "comment_id": 99523158, "body": "It is still using <code>toISOString()</code>, is that what you want?"}, {"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1559758408, "post_id": 56465877, "comment_id": 99523187, "body": "I need to get beginning of month without timezone in ISO format"}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "reply_to_user": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1559758475, "post_id": 56465877, "comment_id": 99523212, "body": "It is getting the beginning of the month using the users current time then converts it to UTC and formats it. Basically it is converted to UTC before it is formatted."}, {"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1559758637, "post_id": 56465877, "comment_id": 99523281, "body": "I need bginnig of current month it is 01-06-2019 not 31-05-2019"}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "reply_to_user": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1559758774, "post_id": 56465877, "comment_id": 99523332, "body": "My output displays <code>01-06-2019</code>"}, {"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1559758816, "post_id": 56465877, "comment_id": 99523348, "body": "In my PC it is another time, so it is problem for me"}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "reply_to_user": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1559758915, "post_id": 56465877, "comment_id": 99523393, "body": "What time and timezone do you have so I can test?"}, {"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1559758947, "post_id": 56465877, "comment_id": 99523412, "body": "I have 5 June 10:22 PM"}, {"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1559759089, "post_id": 56465877, "comment_id": 99523475, "body": "UTC +04:00 this timezone"}, {"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1559760151, "post_id": 56465877, "comment_id": 99523922, "body": "How to get last date?"}, {"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1559760192, "post_id": 56465877, "comment_id": 99523942, "body": "Set up date.setDate(31) or date.setDate(30)?"}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "reply_to_user": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1559760748, "post_id": 56465877, "comment_id": 99524196, "body": "I did another update, as I was finding issues in other timezones. This seems to work with all timezones now."}], "tags": [], "owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "is_accepted": true, "score": 1, "last_activity_date": 1559761406, "last_edit_date": 1559761406, "creation_date": 1559758178, "answer_id": 56465877, "question_id": 56465767, "link": "https://stackoverflow.com/questions/56465767/i-calculated-to-get-the-first-day-of-the-month-but-go-the-last/56465877#56465877", "title": "I calculated to get the first day of the month but go the last", "body": "<p>You could use a simple regex to format the string using replace:</p>\n\n<pre><code>/(\\d{4})-(\\d{2})-(\\d{2}).+/\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Set the inital date to a UTC date\r\nvar date = new Date(new Date().toLocaleString(\"en-US\", {timeZone: \"UTC\"}))\r\n\r\n// Update the day without affecting the month/day when using toISOString()\r\ndate.setDate(1)\r\n\r\n// Format the date\r\nlet formatted = date.toISOString().replace(/(\\d{4})-(\\d{2})-(\\d{2}).+/, '$3-$2-$1')\r\n\r\nconsole.log(formatted)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1559758283, "post_id": 56465880, "comment_id": 99523144, "body": "ISO Time also uses <code>UTC</code>"}], "tags": [], "owner": {"reputation": 161, "user_id": 10958042, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ucu2jbw9EDg/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQP7hWMD5CLYYFWnXPT9zdJhvTHS2g/mo/photo.jpg?sz=128", "display_name": "Marwane Boudriga", "link": "https://stackoverflow.com/users/10958042/marwane-boudriga"}, "is_accepted": false, "score": 1, "last_activity_date": 1559758194, "creation_date": 1559758194, "answer_id": 56465880, "question_id": 56465767, "link": "https://stackoverflow.com/questions/56465767/i-calculated-to-get-the-first-day-of-the-month-but-go-the-last/56465880#56465880", "title": "I calculated to get the first day of the month but go the last", "body": "<p>The default javascript date uses your local timezone, by converting it to something else you can end up with a different date.</p>\n"}, {"comments": [{"owner": {"reputation": 1112, "user_id": 10125418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/743b3799f2851dfa99ce77ac3fc12b6a?s=128&d=identicon&r=PG&f=1", "display_name": "Julian Liu", "link": "https://stackoverflow.com/users/10125418/julian-liu"}, "reply_to_user": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1559760481, "post_id": 56466029, "comment_id": 99524064, "body": "<code>new Date().toISOString()</code> returns the ISO format of the date in your timezone like <code>2019-06-05T18:00:00.818Z</code>. <code>.slice()</code> cuts this string to <code>2019-06-</code> and I added <code>01</code> at the end of it. So it should work with any timezone."}], "tags": [], "owner": {"reputation": 1112, "user_id": 10125418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/743b3799f2851dfa99ce77ac3fc12b6a?s=128&d=identicon&r=PG&f=1", "display_name": "Julian Liu", "link": "https://stackoverflow.com/users/10125418/julian-liu"}, "is_accepted": false, "score": 1, "last_activity_date": 1559758906, "creation_date": 1559758906, "answer_id": 56466029, "question_id": 56465767, "link": "https://stackoverflow.com/questions/56465767/i-calculated-to-get-the-first-day-of-the-month-but-go-the-last/56466029#56466029", "title": "I calculated to get the first day of the month but go the last", "body": "<p>You can do it</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var firstDay = new Date().toISOString().slice(0, 8) + '01';\r\n\r\nconsole.log(firstDay);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 11545229, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wNuJp.jpg?s=128&g=1", "display_name": "izeke", "link": "https://stackoverflow.com/users/11545229/izeke"}, "is_accepted": false, "score": 1, "last_activity_date": 1559761903, "creation_date": 1559761903, "answer_id": 56466649, "question_id": 56465767, "link": "https://stackoverflow.com/questions/56465767/i-calculated-to-get-the-first-day-of-the-month-but-go-the-last/56466649#56466649", "title": "I calculated to get the first day of the month but go the last", "body": "<p>The date object in javascript can be somewhat tricky. When you create a date, it is created in your local timezone, but toISOString() gets the date according to UTC. The following should convert the date to ISO but keep it in your own time zone.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var date = new Date();\r\n\r\nvar firstDay = new Date(date.getFullYear(), date.getMonth(), 1);\r\n\r\nvar day = 0;\r\nif (firstDay.getDate() &lt; 10) {\r\n  day = '0' + firstDay.getDate();\r\n}\r\n\r\nvar month = 0;\r\nif ((firstDay.getMonth() + 1) &lt; 10) {\r\n  //months are zero indexed, so we have to add 1\r\n  month = '0' + (firstDay.getMonth() + 1);\r\n}\r\n\r\nfirstDay = firstDay.getFullYear() + '-' + month + '-' + day;\r\n\r\nconsole.log(firstDay);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 272, "favorite_count": 1, "accepted_answer_id": 56465877, "answer_count": 4, "score": -1, "last_activity_date": 1559761903, "creation_date": 1559757652, "last_edit_date": 1559758859, "question_id": 56465767, "link": "https://stackoverflow.com/questions/56465767/i-calculated-to-get-the-first-day-of-the-month-but-go-the-last", "title": "I calculated to get the first day of the month but go the last", "body": "<p>I start by getting the date of the beginning of month:</p>\n\n<pre><code>var date = new Date();\nvar firstDay = new Date(date.getFullYear(), date.getMonth(), 1);\n</code></pre>\n\n<p>Then I convert it to ISO:</p>\n\n<pre><code>firstDay = firstDay.toISOString();\n</code></pre>\n\n<p>Why did I get <code>2019-05-31</code> as the first day instead of <code>2019-06-01</code>?</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "express", "error-handling"], "answers": [{"comments": [{"owner": {"reputation": 3723, "user_id": 63202, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/758a46ff6118d93bd67ce22c0ef1e01a?s=128&d=identicon&r=PG", "display_name": "Ayyash", "link": "https://stackoverflow.com/users/63202/ayyash"}, "edited": false, "score": 0, "creation_date": 1611736991, "post_id": 56465666, "comment_id": 116543699, "body": "why isn&#39;t this mentioned elsewhere? I wonder... kudos"}], "tags": [], "owner": {"reputation": 934, "user_id": 3325115, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100003311890219/picture?type=large", "display_name": "Ashot", "link": "https://stackoverflow.com/users/3325115/ashot"}, "is_accepted": true, "score": 8, "last_activity_date": 1559757166, "creation_date": 1559757166, "answer_id": 56465666, "question_id": 56465562, "link": "https://stackoverflow.com/questions/56465562/how-to-check-error-in-express-listen-callback/56465666#56465666", "title": "How to check error in express listen callback?", "body": "<p>The Server object is a Node.js EventEmitter. As with all EventEmitters, most errors are passed to the 'error' event. So you can catch like this: </p>\n\n<pre><code>express().listen(port, () =&gt; {\n   console.log('Listening on port: ', port);\n}).on('error', (e) =&gt; {\n   console.log('Error happened: ', e.message)\n});\n</code></pre>\n\n<p>I hope this will be useful.</p>\n"}], "owner": {"reputation": 12752, "user_id": 750511, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f1cc17242ddaefc62f1fd866b6d52248?s=128&d=identicon&r=PG", "display_name": "Carven", "link": "https://stackoverflow.com/users/750511/carven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1129, "favorite_count": 1, "accepted_answer_id": 56465666, "answer_count": 1, "score": 1, "last_activity_date": 1559757166, "creation_date": 1559756736, "question_id": 56465562, "link": "https://stackoverflow.com/questions/56465562/how-to-check-error-in-express-listen-callback", "title": "How to check error in express listen callback?", "body": "<p>I have the following code to check whether there was an error starting Express:</p>\n\n<pre><code>express()\n    .listen(port, (err: Error) =&gt; {\n        if (err) {\n            console.error(err);\n            return;\n        }\n        console.log(`Express started`);\n    });\n</code></pre>\n\n<p>However, recently, I'm getting this error in Typescript compiler:</p>\n\n<blockquote>\n  <p>TS2345: Argument of type '(err: Error) => void' is not assignable to\n  parameter of type '(() => void) | undefined'.</p>\n</blockquote>\n\n<p>It seems like the callback function of <code>listen()</code> doesn't take in an error parameter. If this is the case, how should I check and handle errors when starting Express?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "karma-jasmine"], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 10709428, "user_type": "registered", "profile_image": "https://graph.facebook.com/468114417049895/picture?type=large", "display_name": "Akil Demir", "link": "https://stackoverflow.com/users/10709428/akil-demir"}, "edited": false, "score": 0, "creation_date": 1559756703, "post_id": 56465365, "comment_id": 99522540, "body": "Thanks for response but did not work. I created another meeting object with same values and pushed to second array. Result did not change."}, {"owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "reply_to_user": {"reputation": 121, "user_id": 10709428, "user_type": "registered", "profile_image": "https://graph.facebook.com/468114417049895/picture?type=large", "display_name": "Akil Demir", "link": "https://stackoverflow.com/users/10709428/akil-demir"}, "edited": false, "score": 0, "creation_date": 1559761220, "post_id": 56465365, "comment_id": 99524398, "body": "@AkilDemir may you provide us with StackBlitz example or similar angular playground?"}, {"owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "reply_to_user": {"reputation": 121, "user_id": 10709428, "user_type": "registered", "profile_image": "https://graph.facebook.com/468114417049895/picture?type=large", "display_name": "Akil Demir", "link": "https://stackoverflow.com/users/10709428/akil-demir"}, "edited": false, "score": 0, "creation_date": 1559761544, "post_id": 56465365, "comment_id": 99524519, "body": "@AkilDemir have you cloned the <code>participants</code> array? Array is like object is passed by reference when you just assign it."}, {"owner": {"reputation": 121, "user_id": 10709428, "user_type": "registered", "profile_image": "https://graph.facebook.com/468114417049895/picture?type=large", "display_name": "Akil Demir", "link": "https://stackoverflow.com/users/10709428/akil-demir"}, "edited": false, "score": 0, "creation_date": 1559762612, "post_id": 56465365, "comment_id": 99524977, "body": "<a href=\"https://stackblitz.com/edit/angular-1xb6dg\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-1xb6dg</a> I am not familiar with those playgrounds but did my best."}, {"owner": {"reputation": 121, "user_id": 10709428, "user_type": "registered", "profile_image": "https://graph.facebook.com/468114417049895/picture?type=large", "display_name": "Akil Demir", "link": "https://stackoverflow.com/users/10709428/akil-demir"}, "edited": false, "score": 0, "creation_date": 1559762782, "post_id": 56465365, "comment_id": 99525044, "body": "sorry didn&#39;t understand the cloning the array part. can you please explain more?"}, {"owner": {"reputation": 121, "user_id": 10709428, "user_type": "registered", "profile_image": "https://graph.facebook.com/468114417049895/picture?type=large", "display_name": "Akil Demir", "link": "https://stackoverflow.com/users/10709428/akil-demir"}, "edited": false, "score": 0, "creation_date": 1559764046, "post_id": 56465365, "comment_id": 99525545, "body": "Yea the problem was in the cloning the array. <code>Object.assign</code> doesn&#39;t clone the array in the object. Everything is ok now. Thank you."}], "tags": [], "owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "is_accepted": true, "score": 3, "last_activity_date": 1559763117, "last_edit_date": 1559763117, "creation_date": 1559755794, "answer_id": 56465365, "question_id": 56464931, "link": "https://stackoverflow.com/questions/56464931/javascript-being-mysterious-again/56465365#56465365", "title": "Javascript being mysterious again?", "body": "<p>You are pushing the same object by it's reference to both arrays. That's the cause of your problem. You should either create a new object for each push or clone the object.</p>\n\n<h2>Update #1</h2>\n\n<p>The second potential problem I've found is your <code>participants</code> array.</p>\n\n<p>In JS arrays as well as objects are passed by reference when are simply assigned.</p>\n\n<p>For simple objects you may use <code>Object.assign</code> and for simple arrays <code>[..].slice()</code>.</p>\n\n<p>Another way of cloning is\n<code>var a = {...myObj}</code> for objects and <code>var b = [...myArr]</code> for arrays.</p>\n\n<p>Those methods are for simple cloning which won't clone nested objects/arrays properly. For that sake you would need to write a recursive cloning function or use <code>cloneDeep</code> from Lodash which is both compatible with arrays and objects.</p>\n"}, {"comments": [{"owner": {"reputation": 121, "user_id": 10709428, "user_type": "registered", "profile_image": "https://graph.facebook.com/468114417049895/picture?type=large", "display_name": "Akil Demir", "link": "https://stackoverflow.com/users/10709428/akil-demir"}, "edited": false, "score": 1, "creation_date": 1559757561, "post_id": 56465631, "comment_id": 99522847, "body": "Thanks but did not work.I tried  <code>this.meetings.push({id: id, participants: [...participants]});</code> and pushed the arrays separately but I got same response. I also tried to clone the object with <code>Object.assign</code> got the same response."}, {"owner": {"reputation": 1884, "user_id": 3413536, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b844289a79dd467dcdf6ba02c520bf7c?s=128&d=identicon&r=PG&f=1", "display_name": "Sammy I.", "link": "https://stackoverflow.com/users/3413536/sammy-i"}, "reply_to_user": {"reputation": 121, "user_id": 10709428, "user_type": "registered", "profile_image": "https://graph.facebook.com/468114417049895/picture?type=large", "display_name": "Akil Demir", "link": "https://stackoverflow.com/users/10709428/akil-demir"}, "edited": false, "score": 0, "creation_date": 1559758936, "post_id": 56465631, "comment_id": 99523404, "body": "Interesting... Could you post the new code for the <code>create</code> function?"}, {"owner": {"reputation": 1884, "user_id": 3413536, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b844289a79dd467dcdf6ba02c520bf7c?s=128&d=identicon&r=PG&f=1", "display_name": "Sammy I.", "link": "https://stackoverflow.com/users/3413536/sammy-i"}, "reply_to_user": {"reputation": 121, "user_id": 10709428, "user_type": "registered", "profile_image": "https://graph.facebook.com/468114417049895/picture?type=large", "display_name": "Akil Demir", "link": "https://stackoverflow.com/users/10709428/akil-demir"}, "edited": false, "score": 0, "creation_date": 1559763457, "post_id": 56465631, "comment_id": 99525312, "body": "It seems that you did not clone the array in the update. If you look closely at the example code, when assigning the array to the participants property, you <i>spread</i> it into a new array:  <code>this.meetings.push({id, participants: [...participants]});</code>. The important part there is the square brackets and the three periods. You can see an example and read more about it here: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax#Spread_in_array_literals\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 121, "user_id": 10709428, "user_type": "registered", "profile_image": "https://graph.facebook.com/468114417049895/picture?type=large", "display_name": "Akil Demir", "link": "https://stackoverflow.com/users/10709428/akil-demir"}, "edited": false, "score": 1, "creation_date": 1559763923, "post_id": 56465631, "comment_id": 99525496, "body": "Yea. you are right. I was cloning the object even with <code>Object.assign</code>, it wasn&#39;t cloning the array too. Everything is as expected now. Thank you."}], "tags": [], "owner": {"reputation": 1884, "user_id": 3413536, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b844289a79dd467dcdf6ba02c520bf7c?s=128&d=identicon&r=PG&f=1", "display_name": "Sammy I.", "link": "https://stackoverflow.com/users/3413536/sammy-i"}, "is_accepted": false, "score": 3, "last_activity_date": 1559763749, "last_edit_date": 1559763749, "creation_date": 1559757013, "answer_id": 56465631, "question_id": 56464931, "link": "https://stackoverflow.com/questions/56464931/javascript-being-mysterious-again/56465631#56465631", "title": "Javascript being mysterious again?", "body": "<p>So, looking at your code:</p>\n\n<pre><code>create(participants, id){\n  let meeting : Meeting = {\n    id : id,\n    participants : participants\n  }\n\n  this.meetings.push(meeting);\n  this.participated.unshift(meeting);\n}\n</code></pre>\n\n<p>You are creating <em>one</em> object, and pushing that one object into two different places. When you are pushing these objects into these arrays, you are giving these arrays not a copy of the object, but a reference to it. </p>\n\n<p>In memory, only one <code>meeting</code> exist, and it has a reference inside the <code>meetings</code> and the <code>participated</code> arrays. So when you get the <code>meeting</code> inside of <code>addParticipant</code>, you are modifying that one and only <code>meeting</code> object. </p>\n\n<p>It's not JavaScript being mysterious, think of it as the arrays having a reference to the object, not the object themselves.</p>\n\n<p>Additionally, the <code>participants</code> array is also the object with two references. If you want a copy of the array to be on each instance, you can spread it in a new array. An example of copying an array using the spread syntax, and how to use the spread syntax in arrays, can be seen <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax#Spread_in_array_literals\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>To solve this, you can create a new object every time you push to an array, while spreading the participants array into a new one to create a new array of participants:</p>\n\n<pre><code>  this.meetings.push({id: id, participants: [...participants]});\n  this.participated.unshift({id: id, participants: [...participants]});\n</code></pre>\n\n<p>Or, you can use the object literal shorthand since they use the same names for the <code>id</code> property:</p>\n\n<pre><code>  this.meetings.push({id, participants: [...participants]});\n  this.participated.unshift({id, participants: [...participants]});\n</code></pre>\n\n<p>That way, each array has a reference to a distinct object, and each <code>participants</code> array is also unique within the <code>Meeting</code> object.</p>\n\n<p>Hope that helps!</p>\n\n<p><strong>Edit 1:</strong> added additional details after finding more than one issue with the code provided</p>\n\n<p><strong>Edit 2:</strong> added resources on the spread operator, and using it on arrays</p>\n"}], "owner": {"reputation": 121, "user_id": 10709428, "user_type": "registered", "profile_image": "https://graph.facebook.com/468114417049895/picture?type=large", "display_name": "Akil Demir", "link": "https://stackoverflow.com/users/10709428/akil-demir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 56465365, "answer_count": 2, "score": 1, "last_activity_date": 1559763749, "creation_date": 1559753867, "last_edit_date": 1559761099, "question_id": 56464931, "link": "https://stackoverflow.com/questions/56464931/javascript-being-mysterious-again", "title": "Javascript being mysterious again?", "body": "<p>I have a service in angular which has two properties that are same type. I push same objects in a reverse order to them for testing. But When I change one of the objects in one array I see that same code changes same object in the second array too. The thing is I don't even mention the second array in the code. Here is my service class :  </p>\n\n<pre><code>class Myservice {\n\n  public meetings : Meeting [];\n  public participated : Meeting [];\n\n  constructor(){\n      this.meeting = [];\n      this.participated = [];\n  }\n\n  create(participants, id){\n\n       let meeting : Meeting = {\n          id : id,\n          participants : participants\n       }\n\n      this.meetings.push(meeting);\n      this.participated.unshift(meeting);\n  }\n\n  addParticipant(userId : number, meetingId : number){\n      this.meetings.forEach((meeting : Meeting) =&gt; { \n         if(meeting.id == meetingId)  {\n           meeting.participants.push(userId)\n         } \n      })\n  }\n\n\n}\n</code></pre>\n\n<p>My Meeting Interface : </p>\n\n<pre><code>interface Meeting {\n     id : number;\n     participants : Array&lt;number&gt;;\n}\n</code></pre>\n\n<p>This How I test it :</p>\n\n<pre><code>describe('My service', () =&gt; {\n\n     let provider : Myservice;\n\n     beforeEach( () =&gt; {\n        provider = new Myservice();\n     });\n\n     it('should add a participant to the participants', () =&gt; {\n\n        provider.create([2], 1);\n        provider.create([2], 2);\n        provider.create([2], 3);\n        provider.create([2], 4);\n\n        provider.addParticipant(6, 3);\n\n        expect(provider.meetings[2].participants).toEqual([2,6])  \n        //expect(provider.participated[1].participants).toEqual([2,6])  \n\n        console.log('meeting par :', provider.meetings[2].participants)\n        console.log('Partic par :', provider.participated[1].participants)\n     })\n</code></pre>\n\n<p>This test passes as It should but logs says that:</p>\n\n<pre><code>LOG: 'meeting par :', [2, 6]\nLOG: 'Partic par :', [2, 6]\n</code></pre>\n\n<p>As we see the object in the participated array also changed :O. Do you guys have any idea why ? My karma/jasmine versions are : </p>\n\n<pre><code>\"@types/jasmine\": \"^3.3.13\",\n\"@types/node\": \"^12.0.4\",\n\"angular2-template-loader\": \"^0.6.2\",\n\"core-js\": \"^3.1.3\",\n\"html-loader\": \"^0.5.5\",\n\"istanbul-instrumenter-loader\": \"^3.0.1\",\n\"jasmine\": \"^3.4.0\",\n\"jasmine-spec-reporter\": \"^4.2.1\",\n\"karma\": \"^4.1.0\",\n\"karma-chrome-launcher\": \"^2.2.0\",\n\"karma-coverage-istanbul-reporter\": \"^2.0.5\",\n\"karma-jasmine\": \"^2.0.1\",\n\"karma-jasmine-html-reporter\": \"^1.4.2\",\n\"karma-sourcemap-loader\": \"^0.3.7\",\n\"karma-webpack\": \"^3.0.5\",\n\"null-loader\": \"^2.0.0\",\n\"protractor\": \"^5.4.2\",\n\"ts-loader\": \"^3.0.3\",\n\"ts-node\": \"^3.0.2\",\n\"typescript\": \"~2.6.2\"\n\"@angular/compiler\": \"5.2.11\",\n\"@angular/compiler-cli\": \"5.2.11\",\n\"@angular/core\": \"5.2.11\",\n</code></pre>\n\n<p>Edit. New form of <code>create</code> function also giving the same response:</p>\n\n<pre><code>  create(participants, id){\n      this.meetings.push({\n         id : id,\n         participants : participants\n      });\n      this.participated.unshift({\n         id : id,\n         participants : participants\n      });\n\n  }\n</code></pre>\n"}, {"tags": ["typescript", "ionic-framework", "ionic4"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1559751717, "post_id": 56464381, "comment_id": 99520455, "body": "The same way you do it from JavaScript... <code>document.querySelector(&#39;[name=&quot;addressSearch&quot;]&#39;).style.color = &#39;#FFFFFF&#39;;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 41555, "user_id": 3915438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ef58d4da96105d5c0880ee70c37756?s=128&d=identicon&r=PG&f=1", "display_name": "sebaferreras", "link": "https://stackoverflow.com/users/3915438/sebaferreras"}, "edited": false, "score": 0, "creation_date": 1559754189, "post_id": 56464960, "comment_id": 99521537, "body": "<code>ion-input</code> uses the <code>--color</code> CSS property behind the scenes so there&#39;s a more &quot;ionic way&quot; to do this... I can add an answer if you think it may help..."}, {"owner": {"reputation": 14279, "user_id": 685, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0a638176c7349e10fe82e6e65f2b069f?s=128&d=identicon&r=PG", "display_name": "BIBD", "link": "https://stackoverflow.com/users/685/bibd"}, "reply_to_user": {"reputation": 41555, "user_id": 3915438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ef58d4da96105d5c0880ee70c37756?s=128&d=identicon&r=PG&f=1", "display_name": "sebaferreras", "link": "https://stackoverflow.com/users/3915438/sebaferreras"}, "edited": false, "score": 1, "creation_date": 1559754812, "post_id": 56464960, "comment_id": 99521821, "body": "sebaferreras, by all means - make it more complete"}], "tags": [], "owner": {"reputation": 14279, "user_id": 685, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0a638176c7349e10fe82e6e65f2b069f?s=128&d=identicon&r=PG", "display_name": "BIBD", "link": "https://stackoverflow.com/users/685/bibd"}, "is_accepted": false, "score": 0, "last_activity_date": 1559754025, "creation_date": 1559754025, "answer_id": 56464960, "question_id": 56464381, "link": "https://stackoverflow.com/questions/56464381/how-do-i-update-a-property-like-the-color-of-an-html-element-from-typescript/56464960#56464960", "title": "How do I update a property (like the color) of an HTML element from Typescript", "body": "<p>OK, Heretic Monkey's answer technically works, </p>\n\n<pre><code>document.querySelector('[name=\"addressSearch\"]').style.color = '#FFFFFF';\n</code></pre>\n\n<p>but it gives me a red-squiggle in my editor on the style element</p>\n\n<p>However, with a bit of experimentation based on that:</p>\n\n<pre><code>addressSearch: HTMLElement;\n// ...\nthis.addressSearch= document.querySelector('[name=\"addressSearch\"]');\nthis.addressSearch.style.backgroundColor = '#FFFFFF';\n</code></pre>\n\n<p>gives the same effect, with a happier editor.</p>\n"}, {"tags": [], "owner": {"reputation": 41555, "user_id": 3915438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ef58d4da96105d5c0880ee70c37756?s=128&d=identicon&r=PG&f=1", "display_name": "sebaferreras", "link": "https://stackoverflow.com/users/3915438/sebaferreras"}, "is_accepted": true, "score": 1, "last_activity_date": 1559757671, "last_edit_date": 1559757671, "creation_date": 1559755933, "answer_id": 56465395, "question_id": 56464381, "link": "https://stackoverflow.com/questions/56464381/how-do-i-update-a-property-like-the-color-of-an-html-element-from-typescript/56465395#56465395", "title": "How do I update a property (like the color) of an HTML element from Typescript", "body": "<p>A more \"Ionic way\" to do this would be by using <strong>CSS properties</strong>. Just like you can see in <strong><a href=\"https://ionicframework.com/docs/api/input#css-custom-properties\" rel=\"nofollow noreferrer\">the docs</a></strong>, the <code>ion-input</code> has a CSS property that sets the <code>color</code>:</p>\n\n<pre><code>CSS Custom Properties\n\nName    | Description\n--------|------------------------\n...\n--color | Color of the input text\n...\n</code></pre>\n\n<p>So you could define a new CSS property in the <code>variables.scss</code> file, like this:</p>\n\n<pre><code>:root {\n\n  // ...\n\n  --input-custom-color: blue; // default color for the input\n\n}\n</code></pre>\n\n<p>Then in your page, set the color of the input to use that CSS property:</p>\n\n<pre><code>// my-page.page.scss\n\n[name=\"addressSearch\"] {\n  --color: var(--input-custom-color);\n}\n</code></pre>\n\n<p>That would just use the default color. So now the following code is to change that color (or actually, the value of the CSS property) from the component:</p>\n\n<pre><code>// Angular\nimport { Component, Inject } from \"@angular/core\";\nimport { DOCUMENT } from '@angular/platform-browser';\n\n// Ionic\nimport { DomController } from '@ionic/angular';\n\n@Component({\n  selector: \"app-my-page\",\n  templateUrl: \"my-page.page.html\",\n  styleUrls: [\"my-page.page.scss\"]\n})\nexport class MyPage {\n\n  constructor(\n    private domCtrl: DomController,\n    @Inject(DOCUMENT) private document\n  ) {}\n\n  public changeColor(aColor: string): void {\n\n    // Tell Ionic we're going to write in the DOM\n    this.domCtrl.write(() =&gt; {\n\n      // Update the value of the CSS property\n      this.document.documentElement.style.setProperty('--input-custom-color', aColor);\n    });\n  }\n}\n</code></pre>\n\n<p>Now you can do something like <code>this.changeColor('green');</code> and the color of the input will we updated in the view :)</p>\n\n<p>The biggest advantage of doing this is that you can change all your inputs by just updating that CSS property (even inputs located in any other page from your app) instead of accessing directly to each DOM element to update its styles.</p>\n\n<p>Please notice that doing the same will work for any styles - it doesn't matter if Ionic uses a CSS property like <code>--color</code> or if it's just the <code>color</code> CSS attribute (like this: <code>color: var(--input-custom-color);</code>)</p>\n"}], "owner": {"reputation": 14279, "user_id": 685, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0a638176c7349e10fe82e6e65f2b069f?s=128&d=identicon&r=PG", "display_name": "BIBD", "link": "https://stackoverflow.com/users/685/bibd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 993, "favorite_count": 0, "accepted_answer_id": 56465395, "answer_count": 2, "score": 0, "last_activity_date": 1559757671, "creation_date": 1559751461, "last_edit_date": 1559751738, "question_id": 56464381, "link": "https://stackoverflow.com/questions/56464381/how-do-i-update-a-property-like-the-color-of-an-html-element-from-typescript", "title": "How do I update a property (like the color) of an HTML element from Typescript", "body": "<p>I have the following in the HTML portion of my page</p>\n\n<pre><code>&lt;ion-row padding&gt;\n    &lt;ion-input [(ngModel)]=\"addressSearchfield\" name=\"addressSearch'&gt;&lt;/ion-input&gt;\n&lt;/ion-row&gt;\n</code></pre>\n\n<p>and I'd like to change the color of the ion-input in the TS potion of the page.</p>\n\n<p>I can get the value stored in it with code like this</p>\n\n<pre><code>addressSearchfield: string;\n//...\nconsole.log (this.addressSearchfield);\n</code></pre>\n\n<p>I had assume I can reference the element and its properties it something like this:</p>\n\n<pre><code>addressrow: any;\n// ...\nthis.addressSearch.color = '#FFFFFF';\n</code></pre>\n\n<p>but I get the error <code>Cannot set property 'color' of undefined</code></p>\n\n<p>How should I be doing this?</p>\n"}, {"tags": ["reactjs", "typescript", "visual-studio-code"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1559752719, "post_id": 56464244, "comment_id": 99520951, "body": "Does this code constitute a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?  I can&#39;t tell if I should just not try to answer because the question strongly depends on projects and types I don&#39;t have (immerjs, <code>Draft</code>, <code>TransactionActivity</code>, etc), or if those are not really relevant to your issue.  If it&#39;s the former, please tag the question with all required dependencies. If it&#39;s the latter, please provide enough type information for someone to drop the code into some IDE (ideally you would provide a link to a web IDE already configured with the issue).  Good luck!"}, {"owner": {"reputation": 4828, "user_id": 8378419, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2772206b4d6afcbdfe7485286554190d?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie Milejczak", "link": "https://stackoverflow.com/users/8378419/robbie-milejczak"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1559755384, "post_id": 56464244, "comment_id": 99522056, "body": "@jcalz I restructured my question and included an example, though the error does not occur in the TS playground"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1559755568, "post_id": 56464244, "comment_id": 99522123, "body": "@jcalz definitely agree the question could be better but we all know what breaking change this probably is <a href=\"https://github.com/microsoft/TypeScript/wiki/Breaking-Changes#fixes-to-unsound-writes-to-indexed-access-types\" rel=\"nofollow noreferrer\">github.com/microsoft/TypeScript/wiki/&hellip;</a>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1559757224, "post_id": 56464244, "comment_id": 99522728, "body": "@TitianCernicova-Dragomir Yeah, I didn\u2019t make that connection when I read the question for some reason... too distracted by all the errors in my IDE when I started looking at the code.  Feel free to answer this!"}], "answers": [{"comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1559759961, "post_id": 56466188, "comment_id": 99523848, "body": "And the sound version of that code would be to use a generic <code>K extends TransactionKey</code>, right?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1559760740, "post_id": 56466188, "comment_id": 99524188, "body": "@jcalz you&#39;d think so at first glance but no. <code>K</code> could be a union so you get back to the same issue.. The workaround in the docs handles only numbers.. I don&#39;t think there is way to get it type safe and have the same functionality."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1559760946, "post_id": 56466188, "comment_id": 99524281, "body": "Ugh.  That&#39;s quite unpleasant."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1559761057, "post_id": 56466188, "comment_id": 99524330, "body": "@jcalz if you finda type safe version, I will bow out of this answer and defer to you. I really think this new check should have been under a new strict flag, seems to be causing a lot of grief. Biggest breaking change I can remember. Oh well hindsight is 20 /20"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1559761717, "post_id": 56466188, "comment_id": 99524595, "body": "So it&#39;s <a href=\"https://github.com/microsoft/TypeScript/pull/30769\" rel=\"nofollow noreferrer\">this pull request</a>, and it makes something like <a href=\"https://github.com/microsoft/TypeScript/issues/27808\" rel=\"nofollow noreferrer\">this suggestion</a> (or <a href=\"https://github.com/microsoft/TypeScript/issues/25879\" rel=\"nofollow noreferrer\">this one</a> more needed.  We want to be able to specify that <code>K</code> is a unit type and therefore acts like a union and not an intersection on property writes."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1559762108, "post_id": 56466188, "comment_id": 99524771, "body": "@jcalz Yup! The <code>oneof</code> suggestion would work. Although I see the reticence to add a new type of constraint, I feel we are anyway fast approaching a point where the TS type system is too complicated for an average user to keep up with. Sure it&#39;s fun for you and me, but the average programmer does not have time for this."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1559763550, "post_id": 56466188, "comment_id": 99525351, "body": "@jcalz um .. wierd .. so the answer is to just type the <code>testState</code> variable and it will work as before?! Uh ... I did read that did not think how it applied to this case .."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1559763629, "post_id": 56466188, "comment_id": 99525375, "body": "look at <a href=\"https://typescript-play.js.org/#code/JYOwLgpgTgZghgYwgAgJIBUpxAZ0WYAexGQG8AoZZAEwhwSmAAcDiB+ALmRzEZAHMA3JWRwAtoQCu4TshCSxAI2jCqBMXTDimsnnyEiAbhBDVCUVNVnylK8gF9yYAJ5MUmbHgSsQAaQjOyAC8yADWAYQwaB64+EQgwqCQsIjumgDKWpBkIjgQADYQ3hDUMV4+shhYsd7xwo4A9A1yECXIYISiICCEWShwOMjoGX3IABbQEAA0yL0TUADuwHnIwGDIS-n5yIpw+aGi60yEODjAivmBA2f8IKD8yNK0MKBt+XDJMwOr6wvfIHAoFBCAsSuQEMQeO0Rh8IFxhjxMrDgjkqHlCsVStVyvEuBQqFRaPRGCxccgAER6e7kqYiKjiKTgLgARlpBPawA0PG0XHJNLpyGMpnMlhZIkc9mEMGktWIjyY1FhZTixAAPL5kBAAB6QUyDZWyvwBAB8AApQlxfDNDFwqp4VSAANq+AC6AEpUasoqbIIi+gA6dFFSBY+2Gj34gm+sBIyCBgrBkoGnyO0IulGGVTICXkIA\" rel=\"nofollow noreferrer\">this</a>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1559763659, "post_id": 56466188, "comment_id": 99525388, "body": "I think it&#39;s just <code>testState</code> was narrowed to not allow <code>undefined</code> subproperties"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1559763675, "post_id": 56466188, "comment_id": 99525393, "body": "@jcalz Yeah, that was what I also discovered after your initial comment with code .."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1559763869, "post_id": 56466188, "comment_id": 99525470, "body": "@jcalz I don&#39;t think it&#39;s about the undefined, I think your initial comment about the &#39;something nominal&#39; is correct. If I assert to <code>string | undefined</code> and <code>number | undefined</code> I still get the same issue .."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1559763911, "post_id": 56466188, "comment_id": 99525490, "body": "@jcalz I will just delete my answer then .. slinking away .. :)"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1559763992, "post_id": 56466188, "comment_id": 99525525, "body": "@jcalz Hm .. I can&#39;t delete the accepted answer .. maybe after you post yours I can .."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1559780848, "post_id": 56466188, "comment_id": 99530383, "body": "I don&#39;t have enough confidence in what&#39;s going on to try to take over this answer.  Feel free to put the generic solution at the end of your answer."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1559759669, "creation_date": 1559759669, "answer_id": 56466188, "question_id": 56464244, "link": "https://stackoverflow.com/questions/56464244/typescript-vscode-keyof-type-not-working-as-expected-when-switching-to-insider/56466188#56466188", "title": "TypeScript, VSCode: keyof type not working as expected when switching to insider version of vscode", "body": "<p>Since you are using the insider version of vs code, you are probably using typescript 3.5. This release has a <a href=\"https://github.com/microsoft/TypeScript/wiki/Breaking-Changes#fixes-to-unsound-writes-to-indexed-access-types\" rel=\"nofollow noreferrer\">breaking change</a>.</p>\n\n<p>The basic idea is that until now typescript allowed write operations to <code>obj[k] = v</code> where <code>k: keyof typeof obj</code> if <code>v</code> was a union of possible values in <code>obj</code>:</p>\n\n<pre><code>let o = { nr: 0, str: \"\" }\ndeclare let k: keyof typeof o;\no[k] = 0\no[k] = \"\"\n</code></pre>\n\n<p>This was unsound. The example above works in 3.4 and below, but if <code>k</code> is <code>'nr'</code> then the second assignment put <code>o</code> in an invalid state. If <code>k</code> is <code>'str'</code> then the first assignment puts the object in an invalid state.</p>\n\n<p>The simple solution is to use a type assertion: </p>\n\n<pre><code>function updateTransaction(k: TransactionKey, v: ITransaction[TransactionKey]) {\n    if (testState.selectedTransaction) {\n        testState.selectedTransaction[k] = v as any;\n    }\n}\n</code></pre>\n\n<p>This is still unsound, but not more so than before.</p>\n"}], "owner": {"reputation": 4828, "user_id": 8378419, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2772206b4d6afcbdfe7485286554190d?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie Milejczak", "link": "https://stackoverflow.com/users/8378419/robbie-milejczak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 514, "favorite_count": 0, "accepted_answer_id": 56466188, "answer_count": 1, "score": 0, "last_activity_date": 1559759669, "creation_date": 1559750868, "last_edit_date": 1559755360, "question_id": 56464244, "link": "https://stackoverflow.com/questions/56464244/typescript-vscode-keyof-type-not-working-as-expected-when-switching-to-insider", "title": "TypeScript, VSCode: keyof type not working as expected when switching to insider version of vscode", "body": "<p>I recently switched from VSCode to VSCode - Insiders (basically a nightly build) due to performance issues and for some reason I'm getting a new linting error in my code. I'm using TypeScript version 3.5.1</p>\n\n<p>The following is a simplified example:</p>\n\n<pre><code>  private updateTransaction = (\n    k: 'description' | 'amount' | 'timestamp' | 'vendorId',\n    v: ITransaction['description' | 'amount' | 'timestamp' | 'vendorId']\n  ) =&gt; {\n    if(this.state.selectedTransaction){\n      this.state.selectedTransaction[k] = v;\n    }\n  };\n</code></pre>\n\n<p>where <code>ITransaction</code> is:</p>\n\n<pre><code>export interface ITransaction {\n  description: string;\n  amount: number;\n  timestamp: string;\n  vendorId: number;\n}\n</code></pre>\n\n<p>Before I switched to the Insider build, this was not an error but if I open the identical project in the Insider version of VSCode TypeScript complains that:</p>\n\n<blockquote>\n  <p>Type 'string | number' is not assignable to type 'string &amp; number'.</p>\n  \n  <blockquote>\n    <p>Type 'string' is not assignable to type 'string &amp; number'.</p>\n    \n    <blockquote>\n      <p>Type 'string' is not assignable to type 'number'.</p>\n    </blockquote>\n  </blockquote>\n</blockquote>\n\n<p>Can anyone help me understand what's going on here? I'm not sure if this is a bug in VSCode insiders build or if my typing is incorrect and this error message genuinely makes no sense to me. I use the pattern <code>type KeyType = keyof Interface</code> and <code>Interface[KeyType]</code> frequently and I've never seen this error message before.</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#src=interface%20ITransaction%20%7B%0D%0A%20%20description%3F%3A%20string%3B%0D%0A%20%20amount%3F%3A%20number%3B%0D%0A%20%20timestamp%3F%3A%20string%3B%0D%0A%20%20vendorId%3F%3A%20number%3B%0D%0A%7D%0D%0A%0D%0Atype%20TransactionKey%20%3D%20&#39;description&#39;%20%7C%20&#39;amount&#39;%20%7C%20&#39;timestamp&#39;%20%7C%20&#39;vendorId&#39;%3B%0D%0A%0D%0Ainterface%20TestState%20%7B%0D%0A%20%20selectedTransaction%3F%3A%20ITransaction%3B%0D%0A%7D%0D%0A%0D%0Aconst%20testState%20%3D%20%7B%0D%0A%20%20selectedTransaction%3A%20%7B%0D%0A%20%20%20%20description%3A%20&#39;string&#39;%2C%0D%0A%20%20%20%20amount%3A%201%2C%0D%0A%20%20%20%20timestamp%3A%20&#39;&#39;%2C%0D%0A%20%20%20%20vendorId%3A%201%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateTransaction(k%3A%20TransactionKey%2C%20v%3A%20ITransaction%5BTransactionKey%5D)%20%7B%0D%0A%20%20if%20(testState.selectedTransaction)%20%7B%0D%0A%20%20%20%20testState.selectedTransaction%5Bk%5D%20%3D%20v%3B%0D%0A%20%20%7D%0D%0A%7D\" rel=\"nofollow noreferrer\">I rebuilt a close approximation in the TS playground</a> but the error no longer occurs. If I copy and paste that into VSCode though, I see the same error as above. I'm thinking that means I should make this a github issue but I'm afraid I'm missing something obvious</p>\n"}, {"tags": ["reactjs", "typescript", "office-js", "office-fabric"], "answers": [{"tags": [], "owner": {"reputation": 3953, "user_id": 1005022, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3a3c610562a103d308458ea7afe59403?s=128&d=identicon&r=PG", "display_name": "Leo S", "link": "https://stackoverflow.com/users/1005022/leo-s"}, "is_accepted": true, "score": 0, "last_activity_date": 1559832933, "creation_date": 1559832933, "answer_id": 56480158, "question_id": 56464099, "link": "https://stackoverflow.com/questions/56464099/filter-out-and-lower-case-all-characters-using-onkeydown-ev-react-keyboardeven/56480158#56480158", "title": "Filter out and lower case all characters using onKeyDown (ev: React.KeyboardEvent&lt;HTMLElement&gt;)", "body": "<p>I have found a solution for this, <code>TagPicker</code> has an <code>inputProps</code> attribute which allows to hook up to the input events. Once I found this out, this task became fairly easy:</p>\n\n<pre><code> &lt;TagPicker onResolveSuggestions={this.onResolveSuggestions}\n    ..\n    inputProps={{\n        onBlur: () =&gt;\n            console.log(\"onBlur called\"),\n        onFocus: () =&gt;\n            console.log(\"onFocus called\"),\n        \"aria-label\": \"Tag Picker\",\n        onKeyPress: (e) =&gt;\n        {\n            var charInput = e.charCode;\n\n            // no modifier key and no lowercase\n            if(!e.ctrlKey &amp;&amp; !e.metaKey &amp;&amp; !e.altKey &amp;&amp; \n                !(charInput &gt;= 97 &amp;&amp; charInput &lt;= 122)) {\n\n                //UPPERCASE =&gt; lowercase\n                if((charInput &gt;= 65) &amp;&amp; (charInput &lt;= 90)){\n                    charInput=charInput+32;\n                }\n\n                //UNDERSCORE =&gt; dash\n                if((charInput == 95)){\n                    //DASH\n                    charInput=45;\n                }\n\n                if((charInput &gt;= 97 &amp;&amp; charInput &lt;= 122) || charInput == 45) { \n\n                    const start = e.currentTarget.selectionStart;\n                    const end = e.currentTarget.selectionEnd;\n\n                    const isPrevCharDash = (start &gt; 0 &amp;&amp; e.currentTarget.value.charAt(start-1) === \"-\");\n\n\n                    if(!((start == 0 || isPrevCharDash) &amp;&amp; charInput == 45)){\n                        e.currentTarget.value = e.currentTarget.value.substring(0, start) + String.fromCharCode(charInput) + e.currentTarget.value.substring(end);\n                        e.currentTarget.setSelectionRange(start+1, start+1);\n                    }\n                }\n\n                e.preventDefault();\n            }\n        }\n    }}\n/&gt;\n</code></pre>\n\n<p>Here is a <a href=\"https://codepen.io/leoseccia/pen/EzBYgB?editors=0011\" rel=\"nofollow noreferrer\">demo</a>.</p>\n"}], "owner": {"reputation": 3953, "user_id": 1005022, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3a3c610562a103d308458ea7afe59403?s=128&d=identicon&r=PG", "display_name": "Leo S", "link": "https://stackoverflow.com/users/1005022/leo-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 1, "accepted_answer_id": 56480158, "answer_count": 1, "score": 0, "last_activity_date": 1559832933, "creation_date": 1559750292, "question_id": 56464099, "link": "https://stackoverflow.com/questions/56464099/filter-out-and-lower-case-all-characters-using-onkeydown-ev-react-keyboardeven", "title": "Filter out and lower case all characters using onKeyDown (ev: React.KeyboardEvent&lt;HTMLElement&gt;)", "body": "<p>I am using the <a href=\"https://developer.microsoft.com/en-us/fabric#/controls/web/pickers\" rel=\"nofollow noreferrer\"><code>TagPicker</code></a> which has the event <code>onKeyDown</code> with signature <code>(ev: React.KeyboardEvent&lt;HTMLElement&gt;) =&gt; void</code></p>\n\n<p>Is there a way I can use this event to only allow lower-case letters and the dash <code>-</code> symbol? Ideally I would like to transform upper-case letters to lower-case automatically. </p>\n"}, {"tags": ["typescript", "vue.js", "vue-router"], "comments": [{"owner": {"reputation": 10568, "user_id": 1525495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/imb0b.jpg?s=128&g=1", "display_name": "Jorge Fuentes Gonz&#225;lez", "link": "https://stackoverflow.com/users/1525495/jorge-fuentes-gonz%c3%a1lez"}, "edited": false, "score": 1, "creation_date": 1559750227, "post_id": 56464034, "comment_id": 99519721, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/29516522/extending-typescript-interface\">Extending typescript interface</a>"}, {"owner": {"reputation": 10568, "user_id": 1525495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/imb0b.jpg?s=128&g=1", "display_name": "Jorge Fuentes Gonz&#225;lez", "link": "https://stackoverflow.com/users/1525495/jorge-fuentes-gonz%c3%a1lez"}, "edited": false, "score": 0, "creation_date": 1559750249, "post_id": 56464034, "comment_id": 99519734, "body": "Search for &quot;extend typescript interface&quot; and you will find how to extend an interface."}, {"owner": {"reputation": 664, "user_id": 3331102, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/1665793109/picture?type=large", "display_name": "Peter I", "link": "https://stackoverflow.com/users/3331102/peter-i"}, "reply_to_user": {"reputation": 10568, "user_id": 1525495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/imb0b.jpg?s=128&g=1", "display_name": "Jorge Fuentes Gonz&#225;lez", "link": "https://stackoverflow.com/users/1525495/jorge-fuentes-gonz%c3%a1lez"}, "edited": false, "score": 0, "creation_date": 1559857074, "post_id": 56464034, "comment_id": 99560871, "body": "No this is not not what im looking for. I think i have thrown you off by using the word &#39;extend&#39; im looking to replace / override it within my application context. At the moment &#39;meta&#39; is set to meta?: any. I want to change that any to be an interface so that when ever i refer to meta in my application it will be typed."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 6858301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-h4xGmhi8Xbk/AAAAAAAAAAI/AAAAAAAABdI/-tYRREE5RMU/photo.jpg?sz=128", "display_name": "Jeremy Travis", "link": "https://stackoverflow.com/users/6858301/jeremy-travis"}, "is_accepted": false, "score": 0, "last_activity_date": 1606743042, "last_edit_date": 1606743042, "creation_date": 1572962262, "answer_id": 58712905, "question_id": 56464034, "link": "https://stackoverflow.com/questions/56464034/typescript-extending-modifying-existing-interface-vue-router-meta/58712905#58712905", "title": "Typescript extending / modifying existing interface - Vue Router meta", "body": "<p>Not sure if you already found a solution, but this worked for me, so I share this if anyone looking for a solution stumbles upon this post.</p>\n<p>I created a set of Vue plugins and wanted to extend TypeScript's typings.</p>\n<p><em>tsconfig.json</em></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;compilerOptions&quot;: {\n    &quot;noImplicitAny&quot;: false,\n    &quot;noEmitOnError&quot;: true,\n    &quot;removeComments&quot;: true,\n    &quot;sourceMap&quot;: true,\n    &quot;target&quot;: &quot;es5&quot;,\n    &quot;module&quot;: &quot;es2015&quot;,\n    &quot;outDir&quot;: &quot;lib&quot;,\n    &quot;baseUrl&quot;: &quot;.&quot;,\n    &quot;paths&quot;: {\n      &quot;vue&quot;: [ &quot;node_modules/vue/types/index&quot; ],\n      &quot;vue-router&quot;: [ &quot;node_modules/vue-router/types/index&quot; ],\n      &quot;vuex&quot;: [ &quot;node_modules/vuex/types/index&quot; ],\n      &quot;axios&quot;: [ &quot;node_modules/axios/index&quot; ]\n    }\n  },\n    &quot;compileOnSave&quot;: false,\n    &quot;exclude&quot;: [\n      //&quot;node_modules&quot;,\n      &quot;wwwroot&quot;\n    ]\n  }\n</code></pre>\n<p><em>typings / vue-extension.d.ts</em></p>\n<pre><code>/**\n * Augment the typings of Vue.js\n */\n\nimport Vue from 'vue'\nimport { AxiosStatic } from &quot;axios&quot;\n\ndeclare module '../../../node_modules/vue/types/vue' {\n    interface Vue {\n\n        /**Axios HTTP client */\n        $http: AxiosStatic;\n\n        /**\n         * Check if user belongs to an application role\n         * @param role single role or array of roles\n         * @returns True/False\n        */\n        $UserInRole(role: string | string[]): boolean;\n\n        /**Executes box widgets (Collapse/Remove) */\n        $boxWidget(): void;\n    }\n}\n</code></pre>\n<p><em>user-profile.ts</em></p>\n<pre><code>import Avatar from &quot;../../../node_modules/vue-avatar/index&quot;;\nimport Vue, { ComponentOptions } from &quot;vue&quot;;\n\nexport default {\n    name: &quot;user-profile&quot;,\n    components: {\n        Avatar\n    },\n    template: `&lt;div&gt; &lt;avatar round :name=&quot;Fullname&quot;&gt;&lt;/avatar&gt; &lt;/div&gt;`,\n    data() {\n        return {\n            user: { &quot;Title&quot;: &quot;&quot;, &quot;Bio&quot;: &quot;&quot; } as VueComp[&quot;user&quot;]\n        }\n    },\n    computed: {\n        Fullname() {\n            if (this.$store.state.profile.user.Fullname != undefined) {\n                this.user.Title = this.$store.state.profile.info.Title;\n                this.user.Bio = this.$store.state.profile.info.Bio;\n\n                return this.$store.state.profile.user.Fullname;\n            }\n            return &quot;&quot;;\n        }\n    },\n    methods: {\n        Save() {\n            // Both $http and component's data extended from 'VueComp'\n            let vm = this as VueComp;\n\n            vm.$http.post(&quot;api/account/aboutme&quot;, vm.user)\n                .then(() =&gt; {\n\n                    let info = {\n                        Title: vm.user.Title,\n                        Bio: vm.user.Bio\n                    };\n\n                    //write back to store\n                    vm.$store.commit(&quot;profile/Info&quot;, info);\n                });\n        }\n    },\n    mounted() {\n        // $boxWidget extended from 'vue-extension.d.ts'\n        let vm = this as Vue;\n        vm.$boxWidget();\n    }\n} as ComponentOptions&lt;any&gt;\n\n\ninterface VueComp extends Vue {\n    user: { Title?: string, Bio?: string }\n}\n\n</code></pre>\n"}], "owner": {"reputation": 664, "user_id": 3331102, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/1665793109/picture?type=large", "display_name": "Peter I", "link": "https://stackoverflow.com/users/3331102/peter-i"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1427, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1606743042, "creation_date": 1559750044, "last_edit_date": 1559856950, "question_id": 56464034, "link": "https://stackoverflow.com/questions/56464034/typescript-extending-modifying-existing-interface-vue-router-meta", "title": "Typescript extending / modifying existing interface - Vue Router meta", "body": "<p>Sorry if this question has been answered but i cant seem to find the answer anywhere. If there is a good answer please can someone link it.</p>\n\n<p>Im trying to extend an existing typescript interface thats within a node_module within my application. By 'extend' i mean overwrite the default definition used. 'meta' is currently set and i want to change it rather than create a new interface to use that uses the interface from the current lib.</p>\n\n<p>I would like to try and attach this to the global instance of this.$router.currentRoute.meta rather than doing a 'as TYPE' every time i use it.</p>\n\n<p>router.ts</p>\n\n<pre><code>export interface Meta {\n    Auth: boolean,\n    displayName: string | null\n}\n</code></pre>\n\n<p>shims-vue.d.ts</p>\n\n<pre><code>import {Meta} from '@/router'\n\ndeclare module \"vue/types/vue\" {\n  interface Vue{\n    $router: {\n      currentRoute: {\n        meta: Meta // This should be set to my new Meta interface rather than the default meta?: any type within vue-router/types/router.d.ts\n      }\n    }\n  }\n}\n\n</code></pre>\n\n<p>page.vue</p>\n\n<pre><code>const name = this.$router.currentRoute.meta.displayName // type: any\n</code></pre>\n\n<p>Thanks all.</p>\n"}, {"tags": ["angular", "typescript", "angular-material-6", "angular-cdk"], "owner": {"reputation": 13, "user_id": 10447323, "user_type": "registered", "profile_image": "https://graph.facebook.com/125075775124013/picture?type=large", "display_name": "Yonatan Asael Garcia Ortiz", "link": "https://stackoverflow.com/users/10447323/yonatan-asael-garcia-ortiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 738, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1559749653, "creation_date": 1559749653, "question_id": 56463920, "link": "https://stackoverflow.com/questions/56463920/how-to-delete-items-in-drag-and-drop-angular-cdk-8-0-0", "title": "How to delete items in Drag and Drop Angular Cdk 8.0.0", "body": "<p>I usign drag and drop in proyect using angular 6 and angular-cdk 8.0.0, i need to move the elements for know where is the order, update and aslo delete them but i dont know how can do that </p>\n\n<p>I tryed to use the api in angular cdk but im got more confuse and me tried to delete the item from array but the drag an drop has been corrupted</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div cdkDropList class=\"example-list\" (cdkDropListDropped)=\"drop($event)\"&gt;\n      &lt;div class=\"example-box\" *ngFor=\"let name of names\" cdkDrag&gt;\n        {{name}}\n      &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<pre><code>  names: string[];\n  order: number[];\n\n  drop(event: CdkDragDrop&lt;string[]&gt;) {\n    moveItemInArray(this.order, event.previousIndex, event.currentIndex);\n    moveItemInArray(this.names, event.previousIndex, event.currentIndex);\n  }\nonYesClick(): void {\n   for(let i = 0; i &lt; this.names.length; i++){\n   this.dashboard.updateChartOrder(this.charts[i],this.order[i]).subscribe();\n\n   }\n    this.dialogRef.close({});\n  }\n</code></pre>\n\n<p>The error has been had es the item never dessapear when i delete the item from array</p>\n"}, {"tags": ["javascript", "node.js", "typescript"], "comments": [{"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 2, "creation_date": 1559749701, "post_id": 56463901, "comment_id": 99519424, "body": "the last index is always <code>sample.length - 1</code>"}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 3, "creation_date": 1559749763, "post_id": 56463901, "comment_id": 99519457, "body": "Or you could use findIndex: <code>this.sample.findIndex(i =&gt; i.id == id)</code>"}, {"owner": {"reputation": 42804, "user_id": 2181397, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/616931b5c5ba8790a191fa6aea465c65?s=128&d=identicon&r=PG", "display_name": "brk", "link": "https://stackoverflow.com/users/2181397/brk"}, "edited": false, "score": 0, "creation_date": 1559749765, "post_id": 56463901, "comment_id": 99519459, "body": "what is the expected output"}, {"owner": {"reputation": 33, "user_id": 11604945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7627f8733315fa500d95ff1bde552c82?s=128&d=identicon&r=PG&f=1", "display_name": "suriyan", "link": "https://stackoverflow.com/users/11604945/suriyan"}, "edited": false, "score": 0, "creation_date": 1559750352, "post_id": 56463901, "comment_id": 99519789, "body": "to clarify my question, It  is to get the last index of an array with value 0 for a key &quot;id&quot; if you see my code it has two objects with id as 0  {       id:0,       name:&quot;abbay&quot;,       rank:120     }, {       id:0,       name:&quot;abbay&quot;,       rank:129     } in this it should give the lastindexof id property of value 0. Iam expecting the answer 2 since sample[2]=       {id:0,       name:&quot;abbay&quot;,       rank:129}"}], "answers": [{"tags": [], "owner": {"reputation": 696, "user_id": 4721463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59e607246f82946f8e1ab1c689f8fa34?s=128&d=identicon&r=PG&f=1", "display_name": "Ren&#233; Datenschutz", "link": "https://stackoverflow.com/users/4721463/ren%c3%a9-datenschutz"}, "is_accepted": false, "score": 0, "last_activity_date": 1559750731, "last_edit_date": 1559750731, "creation_date": 1559750100, "answer_id": 56464044, "question_id": 56463901, "link": "https://stackoverflow.com/questions/56463901/how-to-get-lastindexof-an-array-using-key-value-pair/56464044#56464044", "title": "How to get lastindexof an array using key value pair", "body": "<pre><code>const lastIndexWithIdZero = this.sample.length - this.sample.reverse().findIndex(i =&gt; i.id === 0);\nif (lastIndexWithIdZero &gt; arrLen) {\n    throw new Error('didn\\'t worked');\n}\n</code></pre>\n\n<p>forget that, it's slow, better use just </p>\n\n<pre><code>let lastIndexWithIdZero = -1;\nfor (let i = 0, v; v = sample[i]; i++) {\n    if (v.id === 0) {\n        lastIndexWithIdZero = i;\n    }\n}\nconsole.log(lastIndexWithIdZero);\n</code></pre>\n\n<p><a href=\"http://jsben.ch/LY1Q0\" rel=\"nofollow noreferrer\">http://jsben.ch/LY1Q0</a></p>\n"}, {"comments": [{"owner": {"reputation": 6627, "user_id": 418638, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/dW607.jpg?s=128&g=1", "display_name": "Castro Roy", "link": "https://stackoverflow.com/users/418638/castro-roy"}, "edited": false, "score": 1, "creation_date": 1559751063, "post_id": 56464051, "comment_id": 99520126, "body": "<code>sample.map(s =&gt; s.id).lastIndexOf(0);</code> is simpler. Either way it&#39;s not very efficient for large data sets."}, {"owner": {"reputation": 184, "user_id": 5639378, "user_type": "registered", "profile_image": "https://graph.facebook.com/1514985738800029/picture?type=large", "display_name": "Luigi", "link": "https://stackoverflow.com/users/5639378/luigi"}, "reply_to_user": {"reputation": 6627, "user_id": 418638, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/dW607.jpg?s=128&g=1", "display_name": "Castro Roy", "link": "https://stackoverflow.com/users/418638/castro-roy"}, "edited": false, "score": 0, "creation_date": 1559751414, "post_id": 56464051, "comment_id": 99520287, "body": "@CastroRoy I would say that it&#39;s just a syntax preference, I still find mine easier to read but they both work :)"}, {"owner": {"reputation": 6627, "user_id": 418638, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/dW607.jpg?s=128&g=1", "display_name": "Castro Roy", "link": "https://stackoverflow.com/users/418638/castro-roy"}, "edited": false, "score": 0, "creation_date": 1559752105, "post_id": 56464051, "comment_id": 99520646, "body": "yeah, sure, it is a matter of preference and both will work. :-D"}], "tags": [], "owner": {"reputation": 184, "user_id": 5639378, "user_type": "registered", "profile_image": "https://graph.facebook.com/1514985738800029/picture?type=large", "display_name": "Luigi", "link": "https://stackoverflow.com/users/5639378/luigi"}, "is_accepted": false, "score": 1, "last_activity_date": 1559750605, "last_edit_date": 1559750605, "creation_date": 1559750129, "answer_id": 56464051, "question_id": 56463901, "link": "https://stackoverflow.com/questions/56463901/how-to-get-lastindexof-an-array-using-key-value-pair/56464051#56464051", "title": "How to get lastindexof an array using key value pair", "body": "<p>You can map into an array of booleans:</p>\n\n<pre><code>    var lastIndex =sample.map(s =&gt; \n  s.id === 0).lastIndexOf(true);\n</code></pre>\n\n<p>then access your array by last index:</p>\n\n<pre><code>console.log(sample[lastIndex]);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4450, "user_id": 11270840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/um2Zv.jpg?s=128&g=1", "display_name": "Ghoul Ahmed", "link": "https://stackoverflow.com/users/11270840/ghoul-ahmed"}, "is_accepted": false, "score": 1, "last_activity_date": 1559750626, "creation_date": 1559750626, "answer_id": 56464187, "question_id": 56463901, "link": "https://stackoverflow.com/questions/56463901/how-to-get-lastindexof-an-array-using-key-value-pair/56464187#56464187", "title": "How to get lastindexof an array using key value pair", "body": "<p>Try this:</p>\n\n<pre><code>const lastIndex = sample.map(res=&gt;res.id).lastIndexOf(0) // id = 0 \nconsole.log(lastIndex) // 2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6627, "user_id": 418638, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/dW607.jpg?s=128&g=1", "display_name": "Castro Roy", "link": "https://stackoverflow.com/users/418638/castro-roy"}, "is_accepted": false, "score": 1, "last_activity_date": 1559751058, "last_edit_date": 1559751058, "creation_date": 1559750633, "answer_id": 56464188, "question_id": 56463901, "link": "https://stackoverflow.com/questions/56463901/how-to-get-lastindexof-an-array-using-key-value-pair/56464188#56464188", "title": "How to get lastindexof an array using key value pair", "body": "<p>Array's <code>lastIndexOf</code> method compares <code>searchElement</code> to elements of the Array using strict equality (the same method used by the ===, or triple-equals, operator). If your array contains objects, then you have to use another method.</p>\n\n<p>If performance is not important and the amount of data is not that big, you can use </p>\n\n<pre><code>const lastIndex = sample.length - 1 - sample\n                                      .slice()\n                                      .reverse()\n                                      .findIndex( item =&gt; item.id === 0 );\n</code></pre>\n\n<p><code>slice</code> will create a copy of the array, <code>reverse</code> will reverse it, <code>findIndex</code> will return the first item that matches <code>o.id === 0</code> and the final result is subtracted from <code>sample.length - 1</code>. It's not very efficient for a large data set.</p>\n\n<p>Or you can use a plain <code>for</code></p>\n\n<pre><code>function findLastIndexOf(arr) {\n    for (let i = arr.length; i--;) {\n      if (arr[i].id === 0) {\n          return i;\n      }\n  }\n}\n\nfindLastIndexOf(sample);\n</code></pre>\n\n<p><code>for (let i = arr.length; i--;)</code> looks weird but it will start iterating from the last position and stop when <code>i</code> reach the value of 0. Give it a try.</p>\n\n<p>Hope it helps</p>\n"}, {"tags": [], "owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "is_accepted": false, "score": 0, "last_activity_date": 1559753499, "creation_date": 1559753499, "answer_id": 56464860, "question_id": 56463901, "link": "https://stackoverflow.com/questions/56463901/how-to-get-lastindexof-an-array-using-key-value-pair/56464860#56464860", "title": "How to get lastindexof an array using key value pair", "body": "<p>You could filter the results, then reverse the results and grab the first item.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const sample = [{\r\n    id: 0,\r\n    name: \"abbay\",\r\n    rank: 120\r\n  },\r\n  {\r\n    id: 1,\r\n    name: \"sally\",\r\n    rank: 12\r\n  },\r\n  {\r\n    id: 0,\r\n    name: \"abbay\",\r\n    rank: 129\r\n  }\r\n]\r\n\r\nconsole.log(\r\n  sample\r\n    // Add the index to the object\r\n    .map((i, idx) =&gt; ({id: i.id, idx}))\r\n    // Filter the object where id == 0\r\n    .filter(i =&gt; i.id == 0)\r\n    // Reverse the result and get the first item\r\n    // Get the idx\r\n    .reverse()[0].idx\r\n)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 33, "user_id": 11604945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7627f8733315fa500d95ff1bde552c82?s=128&d=identicon&r=PG&f=1", "display_name": "suriyan", "link": "https://stackoverflow.com/users/11604945/suriyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 519, "favorite_count": 0, "closed_date": 1559913200, "answer_count": 5, "score": 0, "last_activity_date": 1559756436, "creation_date": 1559749587, "last_edit_date": 1559756436, "question_id": 56463901, "link": "https://stackoverflow.com/questions/56463901/how-to-get-lastindexof-an-array-using-key-value-pair", "closed_reason": "Duplicate", "title": "How to get lastindexof an array using key value pair", "body": "<p>I am trying to get the <code>last index</code> of a <code>value</code> in an <code>array</code> of <code>objects</code>.</p>\n\n<p>I am unable to make it work; I am expecting the <code>lastIndexOf</code> an element <code>id</code> with value <code>0</code>.</p>\n\n<pre><code>var sample = [\n    {\n        id: 0,\n        name: 'abbay',\n        rank: 120\n    },\n    {\n        id: 1,\n        name: 'sally',\n        rank: 12\n    },\n    {\n        id: 0,\n        name: 'abbay',\n        rank: 129\n    }\n];\n\nvar index = this.sample.lastIndexOf(0{id});\n</code></pre>\n\n<blockquote>\n  <p>Argument of type '0' is not assignable to parameter of type '{id: number; name: string; rank: number;}'.</p>\n</blockquote>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 11454633, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qZbi8.png?s=128&g=1", "display_name": "Shinji035", "link": "https://stackoverflow.com/users/11454633/shinji035"}, "edited": false, "score": 0, "creation_date": 1559750709, "post_id": 56463960, "comment_id": 99519966, "body": "it works! thank you , but in my real project . I bind a object to ngValue, I display it like <code>object.value</code> and I need to use object.id to do something else. so in this scene , ngValue is an object , but when I set the <code>public selectValue = 1;</code> it still works. and default choose the first option. do you know why?"}, {"owner": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "reply_to_user": {"reputation": 131, "user_id": 11454633, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qZbi8.png?s=128&g=1", "display_name": "Shinji035", "link": "https://stackoverflow.com/users/11454633/shinji035"}, "edited": false, "score": 0, "creation_date": 1559751720, "post_id": 56463960, "comment_id": 99520457, "body": "Can you provide an example on that codesandbox? I wasn&#39;t able to replicate that, in order to do what you said, you need to use <code>[compareWith]</code> if your ngValue is an object."}], "tags": [], "owner": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "is_accepted": true, "score": 1, "last_activity_date": 1559749800, "creation_date": 1559749800, "answer_id": 56463960, "question_id": 56463831, "link": "https://stackoverflow.com/questions/56463831/select-tag-not-display-default-option-in-angular8/56463960#56463960", "title": "Select tag not display default option in angular8", "body": "<p>When you are using <code>[ngValue]</code> you are putting it as <code>number</code> not a type of <code>string</code></p>\n\n<p>Either change it to <code>[ngValue]=\"'1'\"</code> or change <code>public selectValue = 1;</code></p>\n"}], "owner": {"reputation": 131, "user_id": 11454633, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qZbi8.png?s=128&g=1", "display_name": "Shinji035", "link": "https://stackoverflow.com/users/11454633/shinji035"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 56463960, "answer_count": 1, "score": 0, "last_activity_date": 1559749800, "creation_date": 1559749348, "question_id": 56463831, "link": "https://stackoverflow.com/questions/56463831/select-tag-not-display-default-option-in-angular8", "title": "Select tag not display default option in angular8", "body": "<p>if I simply use  and  like this:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div style=\"text-align:center\"&gt;\n  &lt;form&gt;\n    &lt;select\n      type=\"checkbox\"\n      name=\"vehicle1\"\n      (change)=\"onchange()\"\n    &gt;\n      &lt;option&gt;\n        1\n      &lt;/option&gt;\n      &lt;option&gt;\n        2\n      &lt;/option&gt;\n    &lt;/select&gt;\n  &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>it goes well , the select will default chose the first option. but if I do this:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div style=\"text-align:center\"&gt;\n  &lt;form&gt;\n    &lt;select\n      type=\"checkbox\"\n      name=\"vehicle1\"\n      [(ngModel)]=\"selectValue\"\n      (change)=\"onchange()\"\n    &gt;\n      &lt;option [ngValue]=\"1\"&gt;\n        1\n      &lt;/option&gt;\n      &lt;option [ngValue]=\"2\"&gt;\n        2\n      &lt;/option&gt;\n    &lt;/select&gt;\n  &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<pre><code>\nexport class AppComponent {\n  title = \"CodeSandbox\";\n\n  public selectValue = \"1\";\n\n  constructor() {}\n\n  onchange() {\n    console.log(\"onchange\");\n    console.log(this.selectValue);\n  }\n}\n</code></pre>\n\n<p>add ngmodel and ngValue , and the select tag will display empty by default.</p>\n\n<p>I know there is a way to add this line to display a dropdown title:\n<code>\n &lt;option [ngValue]=\"'none'\" disabled&gt;Select SortType&lt;/option&gt;\n</code></p>\n\n<p>but I don't want , I expect it display the first option by default.\nis there any way to achive that?</p>\n\n<p><a href=\"https://codesandbox.io/s/angularplayground-x380r\" rel=\"nofollow noreferrer\">this is my sample code</a></p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1559750510, "post_id": 56463805, "comment_id": 99519875, "body": "Relevant Github issue <a href=\"https://github.com/microsoft/TypeScript/issues/30506\" rel=\"nofollow noreferrer\">Microsoft/TypeScript#30506</a>... type guards on properties don&#39;t usually narrow parent/grandparent/ancestor objects, probably <a href=\"https://github.com/Microsoft/TypeScript/pull/9163#issuecomment-226241452\" rel=\"nofollow noreferrer\">for performance reasons</a>"}], "answers": [{"tags": [], "owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "is_accepted": false, "score": 2, "last_activity_date": 1559749692, "creation_date": 1559749692, "answer_id": 56463927, "question_id": 56463805, "link": "https://stackoverflow.com/questions/56463805/how-to-refine-the-value-of-a-property-on-an-object-in-typescript/56463927#56463927", "title": "How to refine the value of a property on an object in typescript?", "body": "<p>You can use a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#user-defined-type-guards\" rel=\"nofollow noreferrer\">type guard</a> for this:</p>\n\n<pre><code>declare const a: {\n  x?: number\n};\n\nif (hasX(a)) {\n  doSomething(a); // a is of type { x: number } here\n}\n\nfunction hasX(a: { x?: number }): a is { x: number } {\n  return !!a.x;\n}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#src=declare%20const%20a%3A%20%7B%0D%0A%20%20x%3F%3A%20number%0D%0A%7D%3B%0D%0A%0D%0Aif%20(hasX(a))%20%7B%0D%0A%20%20doSomething(a)%3B%20%2F%2F%20how%20do%20I%20refine%20%60a.x%60%20here%20to%20%60number%60%3F%0D%0A%7D%0D%0A%0D%0Afunction%20hasX(a%3A%20%7B%20x%3F%3A%20number%20%7D)%3A%20a%20is%20%7B%20x%3A%20number%20%7D%20%7B%0D%0A%20%20return%20!!a.x%3B%0D%0A%7D%0D%0A%0D%0Adeclare%20function%20doSomething(a)%3B\" rel=\"nofollow noreferrer\">Playground</a></p>\n"}, {"comments": [{"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1559750448, "post_id": 56463947, "comment_id": 99519842, "body": "Nice copy with explanation ;)"}, {"owner": {"reputation": 4990, "user_id": 1788884, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/HYlfy.gif?s=128&g=1", "display_name": "Thatkookooguy", "link": "https://stackoverflow.com/users/1788884/thatkookooguy"}, "reply_to_user": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 1, "creation_date": 1559750652, "post_id": 56463947, "comment_id": 99519936, "body": "@AlekseyL. the second part of my answer? I actually copied that from <a href=\"https://stackoverflow.com/a/56378450/1788884\">another answer of mine</a>. It just happens to be similar :-)"}], "tags": [], "owner": {"reputation": 4990, "user_id": 1788884, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/HYlfy.gif?s=128&g=1", "display_name": "Thatkookooguy", "link": "https://stackoverflow.com/users/1788884/thatkookooguy"}, "is_accepted": false, "score": 2, "last_activity_date": 1559750076, "last_edit_date": 1559750076, "creation_date": 1559749766, "answer_id": 56463947, "question_id": 56463805, "link": "https://stackoverflow.com/questions/56463805/how-to-refine-the-value-of-a-property-on-an-object-in-typescript/56463947#56463947", "title": "How to refine the value of a property on an object in typescript?", "body": "<h2>The Partial Type</h2>\n\n<p>The easiest way to do this is to use the <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#mapped-types\" rel=\"nofollow noreferrer\"><code>Partial</code> type</a>. It allows you to map an existing type to a similar type with all attributes marked as optional.</p>\n\n<p>then, when you call <code>doSomething</code>, tell typescript that now <code>a</code> can be treated as a full item with casting.</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>interface Item {\n  x: number\n}\n\nconst a: Partial&lt;Item&gt; = {};\n\nif (a.x) {\n  doSomething(a as Item);\n}\n\nfunction doSomething(item: Item) { /* ... */ }\n</code></pre>\n\n<p>This will tell typescript to reference <code>a</code> as a \"Partial Item\".</p>\n\n<h2>Using Type Guards with Partial</h2>\n\n<p>If you want to avoid the casting at the end and use typescript mechanisms to know <code>a</code> is a full type, you can use a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">Type Guard</a>. That way, you don't need to tell typescript to treat <code>a as Item</code>.</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>interface Item {\n  x: number\n}\n\nconst a: Partial&lt;Item&gt; = {};\n\nif (isItemComplete(a)) {\n  doSomething(a);\n}\n\nfunction doSomething(item: Item) { /* ... */ }\n\nfunction isItemComplete(item: Partial&lt;Item&gt;): item is Item {\n  return !!item.x; // &lt;-- make sure everything exists on item\n}\n</code></pre>\n\n<p>When we call <code>isItemComplete</code> inside the <code>if</code>, typescript <strong>knows</strong> that inside the <code>if</code>'s scope, <code>a</code> is definetly a complete <code>Item</code> and not a <code>Partial&lt;Item&gt;</code>. Outside of that <code>if</code>, typescript will continue to treat <code>a</code> as a <code>Partial&lt;Item&gt;</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 80557, "user_id": 578895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d8cf27059d3e36cdb21e26d5e1defe8c?s=128&d=identicon&r=PG", "display_name": "Mark Kahn", "link": "https://stackoverflow.com/users/578895/mark-kahn"}, "edited": false, "score": 0, "creation_date": 1559751031, "post_id": 56464134, "comment_id": 99520114, "body": "Thanks, will use this with the minor tweak of adding <code>NonNullable&lt;T[K]&gt;</code> as well"}, {"owner": {"reputation": 80557, "user_id": 578895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d8cf27059d3e36cdb21e26d5e1defe8c?s=128&d=identicon&r=PG", "display_name": "Mark Kahn", "link": "https://stackoverflow.com/users/578895/mark-kahn"}, "edited": false, "score": 0, "creation_date": 1559751617, "post_id": 56464134, "comment_id": 99520399, "body": "Actualy tweaking a bit more.  Same thing, it just allows checking any number of props against <code>null | undefined</code> (sorry for the horrid spacing in comments): <code>export function hasProps&lt;T extends object, K extends keyof T&gt;(   obj: T,   ...props: K[] ): obj is T &amp; { [k in K]-?: NonNullable&lt;T[K]&gt; } {   for (const prop in props) {     if (obj[prop] === null || obj[prop] === undefined) return false;   }    return true; }</code>"}], "tags": [], "owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "is_accepted": true, "score": 3, "last_activity_date": 1559752124, "last_edit_date": 1559752124, "creation_date": 1559750389, "answer_id": 56464134, "question_id": 56463805, "link": "https://stackoverflow.com/questions/56463805/how-to-refine-the-value-of-a-property-on-an-object-in-typescript/56464134#56464134", "title": "How to refine the value of a property on an object in typescript?", "body": "<p>For a generic solution, here's a slight adjustment to @AlekseyL.'s proposal:</p>\n\n<pre><code>function has&lt;T extends {}, K extends keyof T&gt;(a: T, k: K): a is T &amp; { [k in K]-?: T[K] } {\n  return typeof a[k] !== \"undefined\";\n}\n\ndeclare const a: {\n  x?: number\n};\n\nif (has(a, \"x\")) {\n  doSomething(a);\n}\n</code></pre>\n\n<hr>\n\n<p>Even More Generic\u2122 solution:</p>\n\n<pre><code>function has&lt;T extends object, K extends keyof T&gt;(\n  obj: T,\n  ...props: K[]\n): obj is T &amp; { [k in K]-?: NonNullable&lt;T[K]&gt; } {\n  for (const prop in props) {\n    if (obj[prop] === null || obj[prop] === undefined) return false;\n  }\n\n  return true;\n}\n</code></pre>\n"}], "owner": {"reputation": 80557, "user_id": 578895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d8cf27059d3e36cdb21e26d5e1defe8c?s=128&d=identicon&r=PG", "display_name": "Mark Kahn", "link": "https://stackoverflow.com/users/578895/mark-kahn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 302, "favorite_count": 0, "accepted_answer_id": 56464134, "answer_count": 3, "score": 1, "last_activity_date": 1559752124, "creation_date": 1559749271, "question_id": 56463805, "link": "https://stackoverflow.com/questions/56463805/how-to-refine-the-value-of-a-property-on-an-object-in-typescript", "title": "How to refine the value of a property on an object in typescript?", "body": "<p>Is there any way to refine a property on an object?</p>\n\n<pre><code>declare const a: {\n  x?: number\n};\n\nif (a.x) {\n  doSomething(a); // how do I refine `a.x` here to `number`?\n}\n</code></pre>\n\n<p>I realize the reason for it, and know that I can assign <code>a.x</code> to a const, but I want to pass the entire <code>a</code> object and tell TS that <code>a.x</code> is no longer possibly <code>undefined</code></p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 3684, "user_id": 2186639, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cdc7804e9b5848a50abf9977969ab705?s=128&d=identicon&r=PG", "display_name": "Do\u011fancan Arabac\u0131", "link": "https://stackoverflow.com/users/2186639/do%c4%9fancan-arabac%c4%b1"}, "edited": false, "score": 1, "creation_date": 1559749048, "post_id": 56463590, "comment_id": 99519055, "body": "probably your typing file is not picked up. Did you try to change typeRoots in tsconfig? It should be set to &#39;node_modules/types&#39;, &#39;node_modules/&lt;your-package&gt;&#39; in your case"}, {"owner": {"reputation": 163, "user_id": 1699173, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/23kSo.jpg?s=128&g=1", "display_name": "unfalse", "link": "https://stackoverflow.com/users/1699173/unfalse"}, "reply_to_user": {"reputation": 3684, "user_id": 2186639, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cdc7804e9b5848a50abf9977969ab705?s=128&d=identicon&r=PG", "display_name": "Do\u011fancan Arabac\u0131", "link": "https://stackoverflow.com/users/2186639/do%c4%9fancan-arabac%c4%b1"}, "edited": false, "score": 0, "creation_date": 1559816506, "post_id": 56463590, "comment_id": 99541409, "body": "Actually it&#39;s not quite work. I have to add <code>import &#39;my-package-with-types&#39;;</code> in the .tsx file and only then typescript is able to find types from the package. <code>types</code> in package.json doesn&#39;t help."}], "answers": [{"tags": [], "owner": {"reputation": 163, "user_id": 1699173, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/23kSo.jpg?s=128&g=1", "display_name": "unfalse", "link": "https://stackoverflow.com/users/1699173/unfalse"}, "is_accepted": false, "score": 0, "last_activity_date": 1559981631, "creation_date": 1559981631, "answer_id": 56504679, "question_id": 56463590, "link": "https://stackoverflow.com/questions/56463590/how-to-add-element-type-to-jsx-namespace-in-a-separate-package/56504679#56504679", "title": "How to add element type to JSX namespace in a separate package?", "body": "<p>As Do\u011fancan Arabac\u0131 offered</p>\n\n<blockquote>\n  <p>probably your typing file is not picked up. Did you try to change\n  typeRoots in tsconfig? It should be set to 'node_modules/types',\n  'node_modules/' in your case</p>\n</blockquote>\n\n<p>Also at the top of <code>.tsx</code> files must be inserted this string</p>\n\n<pre><code>/// &lt;reference types=\"my-package-with-types\" /&gt;\n</code></pre>\n"}], "owner": {"reputation": 163, "user_id": 1699173, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/23kSo.jpg?s=128&g=1", "display_name": "unfalse", "link": "https://stackoverflow.com/users/1699173/unfalse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 346, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1559981744, "creation_date": 1559748539, "last_edit_date": 1559981744, "question_id": 56463590, "link": "https://stackoverflow.com/questions/56463590/how-to-add-element-type-to-jsx-namespace-in-a-separate-package", "title": "How to add element type to JSX namespace in a separate package?", "body": "<p>I'm creating a package with typescript types for Polymer library. These types will be used in React projects so I need to add types for elements to <code>JSX.IntrinsicElements</code>.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { HTMLAttributes } from \"react\";\nimport { PolymerElement } from '@polymer/polymer';\n\ninterface CoralTooltipAttributes&lt;T&gt; extends HTMLAttributes&lt;T&gt; {\n    selector?: string;\n    condition?: Function;\n    renderer?: Function;\n    position?: string;\n    transitionStyle?: string;\n}\n\ninterface CoralTooltipElement extends PolymerElement {}\n\ndeclare namespace JSX {\n    interface IntrinsicElements {\n        \"coral-tooltip\": React.DetailedHTMLProps&lt;CoralTooltipAttributes&lt;CoralTooltipElement&gt;, CoralTooltipElement&gt;;\n    }\n}\n</code></pre>\n\n<p>I've added <code>\"types\": \"index\"</code> to my <code>package.json</code>.\nThe problem is when I npm link this package with my project, it just not see <code>\"coral-tooltip\"</code> and shows an error like this</p>\n\n<blockquote>\n  <p>ButtonGroup.tsx(32,21): error TS2339: Property 'coral-tooltip' does\n  not exist on type 'JSX.IntrinsicElements'.</p>\n</blockquote>\n\n<p>Also I've added to the project's tsconfig.json this string: <code>\"types\": [ \"elf-typings\" ]</code></p>\n\n<p>What should I do so the types for elements could be succesfully imported by typescript?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1559747889, "post_id": 56463346, "comment_id": 99518377, "body": "The reverse mapping for enums isn&#39;t strongly typed, unfortunately.  The quickest way out of this is to assert <code>const str1 = MyTypes[MyTypes.Sat] as keyof typeof MyTypes</code> instead of <code>as string</code>."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1559747969, "post_id": 56463346, "comment_id": 99518428, "body": "Do you intend to support something like <code>example.indexOf(&quot;maybe not a valid key&quot;)</code>?"}, {"owner": {"reputation": 831, "user_id": 1912249, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/114d09568966cf699bda2fdebe638ae1?s=128&d=identicon&r=PG", "display_name": "Victor.dMdB", "link": "https://stackoverflow.com/users/1912249/victor-dmdb"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1559748381, "post_id": 56463346, "comment_id": 99518629, "body": "No all the strings will be in the enum."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1559748612, "post_id": 56463346, "comment_id": 99518774, "body": "Okay, then you want to test or assert that <code>str1</code> is <code>keyof typeof MyTypes</code> before passing into <code>.indexOf()</code>.  The assertion is the easiest (since <i>you</i> know that <code>MyTypes[MyTypes.Sat]</code> will be <code>&quot;Sat&quot;</code> and not <code>&quot;some random thing&quot;</code>)"}], "owner": {"reputation": 831, "user_id": 1912249, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/114d09568966cf699bda2fdebe638ae1?s=128&d=identicon&r=PG", "display_name": "Victor.dMdB", "link": "https://stackoverflow.com/users/1912249/victor-dmdb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 938, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1559747592, "creation_date": 1559747592, "question_id": 56463346, "link": "https://stackoverflow.com/questions/56463346/typescript-array-of-keyof-typeof-enum", "title": "Typescript Array of &quot;keyof typeof enum&quot;", "body": "<p>Perhaps this isn't the best approach to do this, but I'm storing enum as string and type asserting them into a ts enum. </p>\n\n<p>Though I can't seem to understand the error I'm getting from indexOf. </p>\n\n<pre><code>enum MyTypes {\n    Cat,\n    Mat,\n    Sat\n};\n\nconst example = [\"Cat\", \"Mat\"] as Array&lt;keyof typeof MyTypes&gt;;\n\nconst str1 = MyTypes[MyTypes.Sat] as string;\nconst str2 = \"Sat\";\n\n//This causes error : Argument of type 'string' is not assignable to parameter of type '\"Cat\" | \"Mat\" | \"Sat\"'\nconsole.log(example.indexOf(str1)); \n\n//This works fine\nconsole.log(example.indexOf(str2)); \n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 243, "user_id": 11368462, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vVQxvcg_79A/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf7hYb2C-_rG434CUkxOQMfQodo3Q/mo/photo.jpg?sz=128", "display_name": "axel axel", "link": "https://stackoverflow.com/users/11368462/axel-axel"}, "edited": false, "score": 0, "creation_date": 1559745899, "post_id": 56462820, "comment_id": 99517205, "body": "take a look at regex for javascript"}, {"owner": {"reputation": 534, "user_id": 6683120, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/d54Aq.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/6683120/robert"}, "edited": false, "score": 0, "creation_date": 1559745975, "post_id": 56462820, "comment_id": 99517248, "body": "i want to avoid regex"}, {"owner": {"reputation": 243, "user_id": 11368462, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vVQxvcg_79A/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf7hYb2C-_rG434CUkxOQMfQodo3Q/mo/photo.jpg?sz=128", "display_name": "axel axel", "link": "https://stackoverflow.com/users/11368462/axel-axel"}, "edited": false, "score": 0, "creation_date": 1559746001, "post_id": 56462820, "comment_id": 99517259, "body": "why do you want to avoid it ?"}, {"owner": {"reputation": 3397, "user_id": 9568358, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wUz4k.png?s=128&g=1", "display_name": "Wimanicesir", "link": "https://stackoverflow.com/users/9568358/wimanicesir"}, "edited": false, "score": 0, "creation_date": 1559746046, "post_id": 56462820, "comment_id": 99517287, "body": "Not everyone wants to use regex voodoo"}, {"owner": {"reputation": 4908, "user_id": 2813263, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/fa58c516577bcbd4ef082553dedad4a5?s=128&d=identicon&r=PG", "display_name": "Domino", "link": "https://stackoverflow.com/users/2813263/domino"}, "edited": false, "score": 0, "creation_date": 1559746766, "post_id": 56462820, "comment_id": 99517701, "body": "So you&#39;re saying you have an error message and you didn&#39;t paste it in your question?"}, {"owner": {"reputation": 8011, "user_id": 3049127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f9ef44fca009f9f18ecaf67b5c53936?s=128&d=identicon&r=PG&f=1", "display_name": "Shilly", "link": "https://stackoverflow.com/users/3049127/shilly"}, "edited": false, "score": 1, "creation_date": 1559746801, "post_id": 56462820, "comment_id": 99517729, "body": "Given an example array of objects with name and surname props, the code shown works as intended. So we need more information. So many things could be wrong: Eg. You&#39;re testing in IE11 or a different browser that does not recognize the arrow. <code>list</code> is a constant and can&#39;t be reassigned. <code>list</code> is not an array. <code>filter</code>is not declared or is not a string. You&#39;re running a build system that changes this code into invalid code. So many possibilities."}], "answers": [{"comments": [{"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1559746834, "post_id": 56463075, "comment_id": 99517758, "body": "Search for <i>A</i> person or <i>ANY</i> person? <code>find()</code> will only return the first match."}, {"owner": {"reputation": 2947, "user_id": 3456730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/502a2c67a852b5ba9d28e559528d5652?s=128&d=identicon&r=PG", "display_name": "lordchancellor", "link": "https://stackoverflow.com/users/3456730/lordchancellor"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1559746984, "post_id": 56463075, "comment_id": 99517841, "body": "I didn&#39;t take that away from the question, but you are of course correct. I&#39;ll add an edit."}], "tags": [], "owner": {"reputation": 2947, "user_id": 3456730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/502a2c67a852b5ba9d28e559528d5652?s=128&d=identicon&r=PG", "display_name": "lordchancellor", "link": "https://stackoverflow.com/users/3456730/lordchancellor"}, "is_accepted": false, "score": 0, "last_activity_date": 1559747057, "last_edit_date": 1559747057, "creation_date": 1559746665, "answer_id": 56463075, "question_id": 56462820, "link": "https://stackoverflow.com/questions/56462820/search-in-array-of-object-for-a-string-like/56463075#56463075", "title": "Search in array of object for a string like", "body": "<p>Assuming I'm reading the question correctly, you have an array of objects like this:</p>\n\n<pre><code>const people = [\n  { name: 'Dave', surname: 'Smith' },\n  { name: 'Stevie', surname: 'Wonder' },\n  { name: 'Alex', surname: 'Winter' }\n];\n</code></pre>\n\n<p>And you want to search the list looking for a person that matches a specific string partial (call it <code>searchString</code>)? This should do it:</p>\n\n<pre><code>const result = people.find(\n  person =&gt; {\n    const name = person.name.toLowerCase();\n    const surname = person.surname.toLowerCase();\n\n    if (`${name}${surname}.includes(searchString.toLowerCase()) {\n      return person;\n    }\n  }\n);\n</code></pre>\n\n<p>This can be wrapped into a single line; it looks a bit unwieldy in a SO snippet, but here it is:</p>\n\n<pre><code>const result = people.find(person =&gt; `${person.name.toLowerCase()}${person.surname.toLowerCase()}`.includes(searchString.toLowerCase()));\n</code></pre>\n\n<p>If you want to return an array of all matching results, replace <code>find</code> with <code>filter</code>:</p>\n\n<pre><code>const result = people.filter(person =&gt; `${person.name.toLowerCase()}${person.surname.toLowerCase()}`.includes(searchString.toLowerCase()));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18794, "user_id": 1220550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G1osH.jpg?s=128&g=1", "display_name": "Peter B", "link": "https://stackoverflow.com/users/1220550/peter-b"}, "is_accepted": true, "score": 2, "last_activity_date": 1559747620, "last_edit_date": 1559747620, "creation_date": 1559747203, "answer_id": 56463235, "question_id": 56462820, "link": "https://stackoverflow.com/questions/56462820/search-in-array-of-object-for-a-string-like/56463235#56463235", "title": "Search in array of object for a string like", "body": "<p>Your code looks fine, and it works for the case that you described, except for <a href=\"https://caniuse.com/#feat=arrow-functions\" rel=\"nofollow noreferrer\">old browsers that don't support arrow functions</a>.</p>\n\n<p>Note also that <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/search\" rel=\"nofollow noreferrer\"><code>search</code></a> will create a <strong>regex</strong> from the string that you pass into it, which might give unexpected results if e.g. you pass it a simple period <code>.</code>; if you don't want that, then you'd better use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/indexOf\" rel=\"nofollow noreferrer\"><code>indexOf</code></a>.</p>\n\n<p>Here is a demo of both approaches:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function findUsingSearch(list, filter) {\r\n  return list.filter(\r\n    x =&gt; (x.surname + ' ' + x.name)\r\n    .trim()\r\n    .toLowerCase()\r\n    .search(filter.toLowerCase()) &gt;= 0);\r\n}\r\n\r\nfunction findUsingIndexOf(list, filter) {\r\n  return list.filter(\r\n    x =&gt; (x.surname + ' ' + x.name)\r\n    .trim()\r\n    .toLowerCase()\r\n    .indexOf(filter.toLowerCase()) &gt;= 0);\r\n}\r\n\r\nvar data = [{ surname: 'Alex', name: 'Foo' }, { surname: 'Oleg', name: 'Bar' }];\r\n\r\nconsole.log('*** findUsingSearch:')\r\nconsole.log(findUsingSearch(data, 'al'));\r\nconsole.log(findUsingSearch(data, 'ol'));\r\nconsole.log(findUsingSearch(data, 'ul'));\r\nconsole.log(findUsingSearch(data, '.'));\r\n\r\nconsole.log('*** findUsingIndexOf:')\r\nconsole.log(findUsingIndexOf(data, 'al'));\r\nconsole.log(findUsingIndexOf(data, 'ol'));\r\nconsole.log(findUsingIndexOf(data, 'ul'));\r\nconsole.log(findUsingIndexOf(data, '.'));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 534, "user_id": 6683120, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/d54Aq.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/6683120/robert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 56463235, "answer_count": 2, "score": -1, "last_activity_date": 1559800042, "creation_date": 1559745764, "last_edit_date": 1559800042, "question_id": 56462820, "link": "https://stackoverflow.com/questions/56462820/search-in-array-of-object-for-a-string-like", "title": "Search in array of object for a string like", "body": "<p>I wrote this code in typescript that searches an object not strictly equal in a list of object:</p>\n\n<pre><code>list = list.filter(\n  x =&gt; (x.surname + ' ' + x.name)\n          .trim()\n          .toLowerCase()\n          .search(filter.toLowerCase()) &gt;= 0);\n</code></pre>\n\n<p>So if I want to search Alex and type only <code>al</code>, <code>alex</code> will be displayed as valid result.</p>\n\n<p>When I moved this code in a javascript codebase it was totally broken, error about search, trim() etc.</p>\n\n<p>There is a way to achieve this result without writing loops over loops?</p>\n"}, {"tags": ["typescript", "unit-testing", "vue.js", "jestjs"], "comments": [{"owner": {"reputation": 15070, "user_id": 388427, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a43a07bc90818154ff9c8d4af7c23502?s=128&d=identicon&r=PG", "display_name": "Sergey", "link": "https://stackoverflow.com/users/388427/sergey"}, "edited": false, "score": 0, "creation_date": 1563309040, "post_id": 56462456, "comment_id": 100655090, "body": "Any progress on this?"}], "answers": [{"tags": [], "owner": {"reputation": 113, "user_id": 6882947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/812309e23894f59fed0da84891a5cd00?s=128&d=identicon&r=PG", "display_name": "derat", "link": "https://stackoverflow.com/users/6882947/derat"}, "is_accepted": true, "score": 1, "last_activity_date": 1565363165, "creation_date": 1565363165, "answer_id": 57432801, "question_id": 56462456, "link": "https://stackoverflow.com/questions/56462456/setting-up-unit-test-for-vue-project-with-typescript-failed-with-typeerror-cann/57432801#57432801", "title": "Setting up unit-test for Vue project with Typescript failed with TypeError: Cannot destructure property `polyfills` of &#39;undefined&#39; or &#39;null&#39;", "body": "<p>I was able to resolve this by explicitly adding a <code>babel-core@7.0.0-bridge.0</code> dependency (my project was initially using <code>babel-core@6.26.3</code>) and regenerating my <code>node_modules</code> directory.</p>\n\n<p>I originally saw both this error and <code>Plugin 0 specified in ... provided an invalid property of \"default\"</code> after following the same guide to try to add Jest to an existing project.</p>\n\n<p>Creating a new Vue project from scratch with both TypeScript and Jest enabled was helpful for seeing that a newer version of Babel was required. See also <a href=\"https://github.com/vuejs/vue-cli/issues/1131\" rel=\"nofollow noreferrer\">https://github.com/vuejs/vue-cli/issues/1131</a>.</p>\n"}], "owner": {"reputation": 33, "user_id": 8748086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db865f33aa304a62d64425c96cca778a?s=128&d=identicon&r=PG&f=1", "display_name": "Osito Wang", "link": "https://stackoverflow.com/users/8748086/osito-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 787, "favorite_count": 2, "accepted_answer_id": 57432801, "answer_count": 1, "score": 3, "last_activity_date": 1565363165, "creation_date": 1559744545, "last_edit_date": 1559811855, "question_id": 56462456, "link": "https://stackoverflow.com/questions/56462456/setting-up-unit-test-for-vue-project-with-typescript-failed-with-typeerror-cann", "title": "Setting up unit-test for Vue project with Typescript failed with TypeError: Cannot destructure property `polyfills` of &#39;undefined&#39; or &#39;null&#39;", "body": "<p>I am trying to add unit test for an existing Vue project with Typescript.\nI followed the instruction on vue-test-utils for typescript(<a href=\"https://vue-test-utils.vuejs.org/zh/guides/using-with-typescript.html\" rel=\"nofollow noreferrer\">https://vue-test-utils.vuejs.org/zh/guides/using-with-typescript.html</a>). However, when I run the test , I got the following error:<br>\n<code>TypeError: Cannot destructure property 'polyfills' of 'undefined' or 'null'. While processing preset:</code> </p>\n\n<p>What I have tried:\nI tried to reinstall the dependencies of babel such as babel-core. Re-examined the configurations. Not working.</p>\n\n<p>I tried to remove the mounting of the component and the error went away. It seems there are some problems with mounting the component.</p>\n\n<p>Here is the small sample code I tried:</p>\n\n<pre><code>//component\n&lt;template&gt;\n  &lt;div&gt;{{msg}}&lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script lang=\"ts\"&gt;\nexport default {\n  name: \"HelloWorld\",\n  props: {\n    msg: String\n  }\n};\n&lt;/script&gt;\n\n\n//spec.ts\n\nimport { shallowMount } from '@vue/test-utils'\nimport HelloWorld from '../HelloWorld.vue'\n\ndescribe('HelloWorld.vue', () =&gt; {\n  test('renders props.msg when passed', () =&gt; {\n    const msg = 'new message'\n    const wrapper = shallowMount(HelloWorld, {\n      propsData: { msg }\n    })\n    expect(wrapper.text()).toMatch(msg)\n  })\n})\n</code></pre>\n\n<p>I am little confused about the error stack there. Is there anything wrong I could fix it?</p>\n"}, {"tags": ["angular", "typescript", "nativescript", "nativescript-google-maps-sdk"], "owner": {"reputation": 11, "user_id": 10209326, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TzZGrgMchwg/AAAAAAAAAAI/AAAAAAAAAsE/Lq3EAM-IGIE/photo.jpg?sz=128", "display_name": "18 Clans", "link": "https://stackoverflow.com/users/10209326/18-clans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1559744050, "creation_date": 1559744050, "question_id": 56462321, "link": "https://stackoverflow.com/questions/56462321/nativescript-google-maps-sdk-marker-randomly-jumping-w-multiple-mapviews", "title": "NativeScript Google Maps SDK - Marker Randomly Jumping W/ Multiple MapViews", "body": "<p>This only happens on Android.  When you have both Map 1 and Map 2 open, go to either tab and click on a marker to show the \"Favor Me\" button. If you spam that button, the markers will jump randomly. When the markers are randomly moved, if you scroll the map, everything goes back to normal. If you hide one map and try to spam the favor button, this bug does not happen.</p>\n\n<p>NativeScript: 5.3.2</p>\n\n<p>tns-core-modules: 5.3.2</p>\n\n<p>tns-android: 5.3.1</p>\n\n<p>tns-ios: 5.3.1</p>\n\n<p>nativescript-google-maps-sdk: ^2.7.0</p>\n\n<p>Screenshot of the bug can be found here:\n<a href=\"https://github.com/dapriett/nativescript-google-maps-sdk/issues/344\" rel=\"nofollow noreferrer\">https://github.com/dapriett/nativescript-google-maps-sdk/issues/344</a></p>\n\n<p>Map 1 and Map 2 both use the same component.  I tried splitting this into separate components but still no luck.</p>\n\n<p>Source code:\n<a href=\"https://github.com/18clans/google-maps-tab-view\" rel=\"nofollow noreferrer\">https://github.com/18clans/google-maps-tab-view</a></p>\n\n<p>When I favor a marker on Map 1, Map 2 marker with the same ID should be favorited as well. This is working fine on iOS.</p>\n\n<p>I also found something similar to this bug on a different language.\n<a href=\"https://stackoverflow.com/questions/20131387/jumping-markers-on-google-maps\">Jumping markers on Google maps</a></p>\n"}, {"tags": ["angular", "typescript", "angular-reactive-forms", "angular-forms", "angular-pipe"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1559820027, "post_id": 56475777, "comment_id": 99543265, "body": "Indeed, didn&#39;t notice that !"}, {"owner": {"reputation": 85, "user_id": 7506082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a0d10dfa3555593fd7c2c4784ea891b?s=128&d=identicon&r=PG&f=1", "display_name": "juli", "link": "https://stackoverflow.com/users/7506082/juli"}, "edited": false, "score": 0, "creation_date": 1561533069, "post_id": 56475777, "comment_id": 100090202, "body": "Hmm, that sounds logical. Thanks for the explanation and your working demo! Im going to implement this in my production code and test it there as well. <i>thumbsUp</i>"}, {"owner": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "reply_to_user": {"reputation": 85, "user_id": 7506082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a0d10dfa3555593fd7c2c4784ea891b?s=128&d=identicon&r=PG&f=1", "display_name": "juli", "link": "https://stackoverflow.com/users/7506082/juli"}, "edited": false, "score": 0, "creation_date": 1561584452, "post_id": 56475777, "comment_id": 100117209, "body": "@juli consider to mark this as answer if it solved your issue"}], "tags": [], "owner": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "is_accepted": true, "score": 2, "last_activity_date": 1559819653, "last_edit_date": 1559819653, "creation_date": 1559817197, "answer_id": 56475777, "question_id": 56462159, "link": "https://stackoverflow.com/questions/56462159/filtering-checkbox-list-in-a-reactiveform-leads-to-rendering-error/56475777#56475777", "title": "Filtering checkbox-list in a ReactiveForm leads to rendering error", "body": "<p>The core issue is the fact that you are using 2 different arrays in your component: one is the <em>controls</em> array in the <code>FormArray</code> instance (lets call it <em>ModelArray</em>) and the one returned after the filter is processed (lets call it <em>ViewArray</em>). </p>\n\n<p>They both have the same <code>FormGroup</code> instances, but in different orders. You use <em>ViewArray</em> to generate your view and you map its indexes through the <code>FormArrayName</code> and <code>FormGroupName</code> directives to elements in the <em>ModelArray</em>.</p>\n\n<p>For an index <em>I</em> with <em>0 &lt; I &lt; len(ViewArray)</em>,  you will end up displaying the values of a <code>FormGroup</code> instance <em>A &lt;= ViewArray[I]</em> and binding the view inputs to an instance <em>B &lt;= ModelArray[I]</em>, with the possibility of <em>A is B === false</em></p>\n\n<p>You can overcome this by binding the <code>FormGroup</code> instances to the <code>FormArrayName</code> by using the <code>FormGroupDirective</code> instead of the <code>FormGroupName</code> directive as follows:</p>\n\n<pre><code>&lt;div class=\"form-group\"\n         formArrayName=\"permissions\"&gt;\n        &lt;label class=\"checkboxLabel\"\n               *ngFor=\"let permissionGroup of permissionsControl.controls | LockFilter: filter.value; index as i\"\n               [formGroup]=\"permissionGroup\"&gt;\n            &lt;input type=\"checkbox\"\n                   formControlName=\"selected\"&gt;\n            ({{ i }}){{permissionGroup.value.label}} ({{permissionGroup.value.id}})\n        &lt;/label&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>A working example can be found <a href=\"https://stackblitz.com/edit/angular-form-array-issue\" rel=\"nofollow noreferrer\">in this blitz</a></p>\n"}], "owner": {"reputation": 85, "user_id": 7506082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a0d10dfa3555593fd7c2c4784ea891b?s=128&d=identicon&r=PG&f=1", "display_name": "juli", "link": "https://stackoverflow.com/users/7506082/juli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 56475777, "answer_count": 1, "score": 1, "last_activity_date": 1559819653, "creation_date": 1559743609, "question_id": 56462159, "link": "https://stackoverflow.com/questions/56462159/filtering-checkbox-list-in-a-reactiveform-leads-to-rendering-error", "title": "Filtering checkbox-list in a ReactiveForm leads to rendering error", "body": "<p>I have set up a reactive form. It includes regular input fields as well as multiple checkboxes as a list. I included also an input field to filter the checkbox list. While normal characters do not cause any problems, the dot (.) character seems to influence the rendering of the checkboxes.</p>\n\n<p>If you search for \"Zwei\" everything seems fine. The (checked) checkboxes keep their \"checked\"-state, even if you delete the search value afterwards.</p>\n\n<p>If you enter now \"i.null\" in the search field also everything seems OK. Now delete the first two characters and re-enter them; now a (rendering?) problem occurs. The second checkbox (\"ZWEI.NULL\") is rendered as \"checked\", but i wasn\u00b4t clicked neither marked as \"selected\" in the controller. If you take a look in the formGroup-debug-console message (by pressing the top button) the \"selected\"-property is not defined as \"true\".</p>\n\n<p>Code example: <a href=\"https://stackblitz.com/edit/angular-xuohtg\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-xuohtg</a></p>\n\n<p>I expect the checkboxes to keep their checked-state. Do you have any ideas how this effect comes to play?</p>\n"}, {"tags": ["node.js", "typescript", "firebase", "google-cloud-functions", "firebase-cli"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1559743742, "post_id": 56462033, "comment_id": 99515942, "body": "What is your project layout?  Where is skey.json, and you are you referring to it correctly?"}, {"owner": {"reputation": 536, "user_id": 8240910, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OsmYQ.jpg?s=128&g=1", "display_name": "Bhautik Chudasama", "link": "https://stackoverflow.com/users/8240910/bhautik-chudasama"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1559745720, "post_id": 56462033, "comment_id": 99517100, "body": "Inside the src folder!"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1559745940, "post_id": 56462033, "comment_id": 99517228, "body": "Could you edit the question to illustrate your project layout?"}], "answers": [{"comments": [{"owner": {"reputation": 536, "user_id": 8240910, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OsmYQ.jpg?s=128&g=1", "display_name": "Bhautik Chudasama", "link": "https://stackoverflow.com/users/8240910/bhautik-chudasama"}, "edited": false, "score": 0, "creation_date": 1559884611, "post_id": 56480684, "comment_id": 99565857, "body": "Thank you! for increase my knowledge \ud83d\ude42"}, {"owner": {"reputation": 719, "user_id": 2388005, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/273ccccd4233ba91e2eb7bc0696bedf6?s=128&d=identicon&r=PG", "display_name": "Fakeer", "link": "https://stackoverflow.com/users/2388005/fakeer"}, "edited": false, "score": 4, "creation_date": 1591588201, "post_id": 56480684, "comment_id": 110102544, "body": "Is there anywhere this is logged? Mine fails with the &quot;Your function was killed&quot; message but no stacktrace etc."}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 1, "last_activity_date": 1559834630, "creation_date": 1559834630, "answer_id": 56480684, "question_id": 56462033, "link": "https://stackoverflow.com/questions/56462033/firebase-show-error-when-i-try-to-run-functions-locally/56480684#56480684", "title": "firebase show error when i try to run functions locally", "body": "<p>You should keep in mind that your project configuration is compiling TS sources files under src and putting the resulting JavaScript files in lib.  So, you should refer to things in your functions folder relative to that location.</p>\n\n<p>Since your compiled index.js is in lib, and your skey.json file is under src, you will have to refer to it that way:</p>\n\n<pre><code>var cert = require(\"../src/skey.json\");\n</code></pre>\n\n<p>However, I wouldn't do it that way.  I'd put skey.json in the functions folder (since it's not source code), and refer to it like this:</p>\n\n<pre><code>var cert = require(\"../skey.json\");\n</code></pre>\n"}], "owner": {"reputation": 536, "user_id": 8240910, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OsmYQ.jpg?s=128&g=1", "display_name": "Bhautik Chudasama", "link": "https://stackoverflow.com/users/8240910/bhautik-chudasama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3717, "favorite_count": 0, "accepted_answer_id": 56480684, "answer_count": 1, "score": 1, "last_activity_date": 1559834630, "creation_date": 1559743138, "last_edit_date": 1559834543, "question_id": 56462033, "link": "https://stackoverflow.com/questions/56462033/firebase-show-error-when-i-try-to-run-functions-locally", "title": "firebase show error when i try to run functions locally", "body": "<p>Showing the Firebase error whenever I run the function locally using emulator in CLI</p>\n\n<pre><code>$ firebase emulators:start --only functions\n</code></pre>\n\n<blockquote>\n  <p>Starting emulators: [\"functions\"]</p>\n  \n  <p>functions: Using node@8 from host.</p>\n  \n  <p>functions: Emulator started at <a href=\"http://localhost:5001\" rel=\"nofollow noreferrer\">http://localhost:5001</a></p>\n  \n  <p>functions: Watching \"E:\\dir\\functions\" for Cloud Functions...</p>\n  \n  <p>Error: Cannot find module 'E:\\dir\\functions'</p>\n  \n  <p>at Function.Module._resolveFilename (module.js:548:15)</p>\n  \n  <p>at Function.Module._load (module.js:475:25)</p>\n  \n  <p>at Module.require (module.js:597:17)</p>\n  \n  <p>at require (internal/module.js:11:18)</p>\n  \n  <p>at C:\\Users\\d\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:459:29</p>\n  \n  <p>at Generator.next ()</p>\n  \n  <p>at C:\\Users\\d\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:7:71</p>\n  \n  <p>at new Promise ()</p>\n  \n  <p>at __awaiter (C:\\Users\\d\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:3:12)</p>\n  \n  <p>at main (C:\\Users\\d\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:421:12)</p>\n  \n  <p>Your function was killed because it raised an unhandled error.</p>\n</blockquote>\n\n<p>I use <strong>typescript</strong> to write cloud functions.</p>\n\n<p>here is my <strong>index.ts</strong></p>\n\n<pre><code>import * as functions from 'firebase-functions';\nimport * as admin from \"firebase-admin\";\n\nvar cert = require(\"./skey.json\");\n\nadmin.initializeApp({\n    credential: admin.credential.cert(cert),\n    databaseURL: \"https://bhau-tk.firebaseio.com\"\n});\n\nexports.basicHTTP = functions.https.onRequest((req, res) =&gt; {\n    res.send(\"Hello world!!\");\n})\n</code></pre>\n\n<p><strong>package.json</strong> contains</p>\n\n<pre><code>{\n  \"name\": \"functions\",\n  \"scripts\": {\n    \"lint\": \"tslint --project tsconfig.json\",\n    \"build\": \"tsc\",\n    \"serve\": \"npm run build &amp;&amp; firebase serve --only functions\",\n    \"shell\": \"npm run build &amp;&amp; firebase functions:shell\",\n    \"start\": \"npm run shell\",\n    \"deploy\": \"firebase deploy --only functions\",\n    \"logs\": \"firebase functions:log\"\n  },\n  \"engines\": {\n    \"node\": \"8\"\n  },\n  \"main\": \"lib/index.js\",\n  \"dependencies\": {\n    \"firebase-admin\": \"~7.0.0\",\n    \"firebase-functions\": \"^2.3.0\",\n    \"firebase-functions-test\": \"^0.1.6\"\n  },\n  \"devDependencies\": {\n    \"tslint\": \"^5.12.0\",\n    \"typescript\": \"^3.2.2\"\n  },\n  \"private\": true\n}\n</code></pre>\n\n<p>and <strong>project structure</strong> is</p>\n\n<p><a href=\"https://i.stack.imgur.com/tPgb6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tPgb6.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "types", "syntax", "typescript-generics"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 3, "creation_date": 1559743039, "post_id": 56461940, "comment_id": 99515563, "body": "<code>const foo = &lt;T&gt;(i: I&lt;T&gt;): T =&gt; i.value;</code>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1559743173, "post_id": 56461940, "comment_id": 99515639, "body": "btw, note <a href=\"https://typescript-play.js.org/#code/JYOwLgpgTgZghgYwgAgJIB4AqyC8y4gCeAfMgN4BQy1yAbnADYCuEAXMphQL4UUxMgEYYAHsQyGCJFZSACmDsMmYgEp22SjWRQIYJlHHAAdPWYQA3N15hCABxQAxKbmQ37ImBKnnkAel-IAKoAziio4BAMDMAAyhAgochiyE4iFP6udo7OeDLyijIquKSYQA\" rel=\"nofollow noreferrer\">IntelliSense will tell you this if you want</a>"}, {"owner": {"reputation": 1136, "user_id": 65385, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e67fcad83573696781b93ec571767eb4?s=128&d=identicon&r=PG", "display_name": "Andrew B.", "link": "https://stackoverflow.com/users/65385/andrew-b"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1559745685, "post_id": 56461940, "comment_id": 99517084, "body": "Thanks! Nice idea, jcalz. Unfortunately, this syntax produces an error in a .tsx file, which is part of why I wasn&#39;t able to find it."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1559747322, "post_id": 56461940, "comment_id": 99518078, "body": "Interesting... I guess you could do <code>const foo: &lt;T&gt;(i: I&lt;T&gt;) =&gt; T = i =&gt; i.value;</code>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1559747419, "post_id": 56461940, "comment_id": 99518128, "body": "<a href=\"https://github.com/microsoft/TypeScript/issues/15713\" rel=\"nofollow noreferrer\">github.com/microsoft/TypeScript/issues/15713</a>"}], "owner": {"reputation": 1136, "user_id": 65385, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e67fcad83573696781b93ec571767eb4?s=128&d=identicon&r=PG", "display_name": "Andrew B.", "link": "https://stackoverflow.com/users/65385/andrew-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "closed_date": 1559743065, "answer_count": 0, "score": 0, "last_activity_date": 1559742789, "creation_date": 1559742789, "question_id": 56461940, "link": "https://stackoverflow.com/questions/56461940/in-typescript-if-an-inline-function-takes-an-argument-that-is-of-a-generic-type", "closed_reason": "Duplicate", "title": "In TypeScript, if an inline function takes an argument that is of a generic type, how do I &quot;get&quot; the type parameter from it?", "body": "<p>Here's what I'm trying (not working):</p>\n\n<pre><code>interface I&lt;T = any&gt; {\n    value: T\n}\n\n// Doesn't work, \"Cannot find name 'T'.\"\nconst foo = (i: I&lt;T&gt;): T =&gt; {\n    return i.value;\n}\n</code></pre>\n\n<p>I've tried various places to stick <code>&lt;T&gt;</code> in and around the method definition to try to get a new type variable name, but with no luck. Here's what <em>does</em> work, using <code>function</code> syntax:</p>\n\n<pre><code>interface I&lt;T = any&gt; {\n    value: T\n}\n\nfunction foo&lt;T&gt; (i: I&lt;T&gt;): T {\n    return i.value;\n}\n</code></pre>\n\n<p>Is there an equivalent syntax for inline/fat-arrow functions?</p>\n"}, {"tags": ["typescript", "iteration"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1559749356, "post_id": 56461648, "comment_id": 99519228, "body": "Welcome to Stack Overflow!  Generally it is helpful to make sure that code in questions constitutes a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so that others can easily see what your issue is.  In this case, it&#39;s not clear what you mean by &quot;higher level&quot; objects.  Can you include an example object and what you expect to see versus what you actually see?  Good luck!"}, {"owner": {"reputation": 1771, "user_id": 8365439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v76vl.jpg?s=128&g=1", "display_name": "Valerii", "link": "https://stackoverflow.com/users/8365439/valerii"}, "edited": false, "score": 0, "creation_date": 1559750341, "post_id": 56461648, "comment_id": 99519781, "body": "It works. What do you mean by &quot;only higher level object?&quot; What should be returned in this case: iterate({ a: &#39;a&#39;, b: { c: &#39;c&#39;, d: &#39;d&#39; }})"}, {"owner": {"reputation": 33, "user_id": 11568600, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PYqBgrTlNXY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reu4lBmLoJkkOws0bGNL5LOsA9HuA/mo/photo.jpg?sz=128", "display_name": "user11568600", "link": "https://stackoverflow.com/users/11568600/user11568600"}, "edited": false, "score": 0, "creation_date": 1559754184, "post_id": 56461648, "comment_id": 99521531, "body": "Updated main post"}], "answers": [{"tags": [], "owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "is_accepted": false, "score": 0, "last_activity_date": 1559756709, "creation_date": 1559756709, "answer_id": 56465559, "question_id": 56461648, "link": "https://stackoverflow.com/questions/56461648/how-to-deepscan-object-values-including-children-arrays/56465559#56465559", "title": "How to deepscan object values including children arrays", "body": "<p>Just check if it is an array and handle it specially:</p>\n\n<pre><code>const iterate = (obj) =&gt; {\n    Object.keys(obj).forEach(key =&gt; {\n        const value = obj[key];\n        console.log(`key: ${key}, value: ${value}`)\n\n        if (Array.isArray(obj)) {\n            for (let arrayItem of obj) {\n                iterate(arrayItem);\n            }\n        }\n\n        else if (typeof value === 'object') {\n            iterate(value)\n        }\n    })\n}\n</code></pre>\n\n<p>This should work for all JSON literals but won't work intuitively for things like sets or maps.</p>\n"}], "owner": {"reputation": 33, "user_id": 11568600, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PYqBgrTlNXY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reu4lBmLoJkkOws0bGNL5LOsA9HuA/mo/photo.jpg?sz=128", "display_name": "user11568600", "link": "https://stackoverflow.com/users/11568600/user11568600"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1559756709, "creation_date": 1559741880, "last_edit_date": 1559754148, "question_id": 56461648, "link": "https://stackoverflow.com/questions/56461648/how-to-deepscan-object-values-including-children-arrays", "title": "How to deepscan object values including children arrays", "body": "<p>I'm trying to get all values of an object. Object also includes arrays and those array of objects contain arrays.</p>\n\n<pre><code>const iterate = (obj) =&gt; {\n    Object.keys(obj).forEach(key =&gt; {\n        console.log(`key: ${key}, value: ${obj[key]}`)\n\n        if (typeof obj[key] === 'object') {\n            iterate(obj[key])\n        }\n    })\n}\n</code></pre>\n\n<p>Currently it only shows the \"higher level\" objects</p>\n\n<p>For example if I have a</p>\n\n<pre><code>class foo;\na: string;\nb: string;\nc SomeObject[];\n</code></pre>\n\n<p>The SomeObject part is always just a \"Object\". But I need the values of those objects too.</p>\n"}, {"tags": ["angular", "typescript", "class", "interface"], "comments": [{"owner": {"reputation": 5932, "user_id": 3016654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f841e106c58a9e27aa79fcb686607c9a?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei T\u0103tar", "link": "https://stackoverflow.com/users/3016654/andrei-t%c4%83tar"}, "edited": false, "score": 1, "creation_date": 1559742041, "post_id": 56461560, "comment_id": 99514929, "body": "JSON doesn&#39;t support dates, that&#39;s why they come as strings. You should use data transfer objects that have only the primitives supported by JSON and convert them after deserialization."}, {"owner": {"reputation": 503, "user_id": 1485889, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/b28775c093e89408d6ed09287b6071b5?s=128&d=identicon&r=PG", "display_name": "isevcik", "link": "https://stackoverflow.com/users/1485889/isevcik"}, "edited": false, "score": 0, "creation_date": 1559742204, "post_id": 56461560, "comment_id": 99515040, "body": "Interfaces are not transpiled hence final JavaScript knows nothing about them. If your dates are received from API as strings (in JSON response), you have to convert it into Date manually. One way to do this is by interceptor that will traverse the response and converts all string values that conform to date ISO format. Other way could be to define custom decorators for your model properties and implement parser for that."}, {"owner": {"reputation": 174, "user_id": 1026216, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c92f67f0d4f3f902dfddba474e4c9829?s=128&d=identicon&r=PG", "display_name": "talkshowhost", "link": "https://stackoverflow.com/users/1026216/talkshowhost"}, "edited": false, "score": 0, "creation_date": 1559742866, "post_id": 56461560, "comment_id": 99515458, "body": "could that interceptor <i>guess</i> that I am expecting an interface with dates and convert that specific string only? and how would you approach the decorator option, which would mean I need to use a class instead of an interface, right?"}], "answers": [{"comments": [{"owner": {"reputation": 174, "user_id": 1026216, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c92f67f0d4f3f902dfddba474e4c9829?s=128&d=identicon&r=PG", "display_name": "talkshowhost", "link": "https://stackoverflow.com/users/1026216/talkshowhost"}, "edited": false, "score": 0, "creation_date": 1559742678, "post_id": 56461722, "comment_id": 99515336, "body": "yes we are using ISO dates and that&#39;s working fine. my problem is that I am defining a type as date, and then whenever I access it I need to call the new Date() on it. i agree that custom headers are a MOAB, but was hoping that javascript or typescript could have a nice solution to identify that I am receiving that Interface and convert that value to Date, on every request."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 174, "user_id": 1026216, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c92f67f0d4f3f902dfddba474e4c9829?s=128&d=identicon&r=PG", "display_name": "talkshowhost", "link": "https://stackoverflow.com/users/1026216/talkshowhost"}, "edited": false, "score": 0, "creation_date": 1559743414, "post_id": 56461722, "comment_id": 99515762, "body": "@talkshowhost an interface won&#39;t be able to determine that, but a class will definitely do. <a href=\"https://github.com/typestack/class-transformer\" rel=\"nofollow noreferrer\">Class-Transformer</a> can be very helpful with that !"}, {"owner": {"reputation": 174, "user_id": 1026216, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c92f67f0d4f3f902dfddba474e4c9829?s=128&d=identicon&r=PG", "display_name": "talkshowhost", "link": "https://stackoverflow.com/users/1026216/talkshowhost"}, "edited": false, "score": 0, "creation_date": 1559903319, "post_id": 56461722, "comment_id": 99573928, "body": "very interesting, didn&#39;t know this lib and will look into it! thanks"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": false, "score": 1, "last_activity_date": 1559742140, "creation_date": 1559742140, "answer_id": 56461722, "question_id": 56461560, "link": "https://stackoverflow.com/questions/56461560/best-approach-to-handle-dates-on-typescript-interfaces-from-server/56461722#56461722", "title": "Best approach to handle dates on typescript interfaces from server", "body": "<p>Several approaches can be considered. </p>\n\n<p>The most common one would be to rely on timestamps. Timestamps are numbers, in MS, from Jan. 1st, 1970 on GMT+0. any language I am aware of can read a timestamp. </p>\n\n<p>The second approach would be to use specific strings, such as UTC dates or ISO dates. Those are accepted formats that most of the languages can read, if not all. They contain the timezone, contrary to the timestamp. </p>\n\n<p>The solution to use highly depends on your need : if you need the date to be set by the server, then a timestamp is the way to go. But if you want your users to set the date according to their locale, then you will need to use a string. </p>\n\n<p>Now, to convert your dates into the required format, I would personally use a mapper in a dedicated utils/service. </p>\n\n<p>The issue with an interceptor is that you can't really know which field is a date, since they aren't instances of Date, but strings/numbers. </p>\n\n<p>You could probably use an interceptor with custom headers to determine which field to convert, but that's using a MOAB to kill a cockroach ... </p>\n"}], "owner": {"reputation": 174, "user_id": 1026216, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c92f67f0d4f3f902dfddba474e4c9829?s=128&d=identicon&r=PG", "display_name": "talkshowhost", "link": "https://stackoverflow.com/users/1026216/talkshowhost"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 565, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1559742140, "creation_date": 1559741601, "question_id": 56461560, "link": "https://stackoverflow.com/questions/56461560/best-approach-to-handle-dates-on-typescript-interfaces-from-server", "title": "Best approach to handle dates on typescript interfaces from server", "body": "<p>Following this question <a href=\"https://stackoverflow.com/questions/39925786/dates-in-a-typescript-interface-are-actually-strings-when-inspected\">Dates in a Typescript interface are actually strings when inspected</a></p>\n\n<p>I defined a typescript interface for a response I received from a server API call, which has a parameter Date. Since it comes as json and it is a string, further calls to that parameter work on the IDE but won't work on the browser since it really is a string.</p>\n\n<p>I've solved it already using a new Date() when using that parameter but that defeats the purpose of having it as a Date in the first place. </p>\n\n<p>I could change it to a Class instead of an interface, but is it a good enough reason to do it? And for big objects that's a lot of boilerplate...</p>\n\n<p>I could parse that response on the service and convert it to Date? Or in an interceptor (any idea how?)?</p>\n\n<pre><code>export interface ResourceMovement {\n  lastMovementDate?: Date;\n}\n\n// got this from the server\nconst movement: ResourceMovement;\n\n// no error on IDE, but error on browser\nconst time = movement.lastMovementDate.getTime();\n</code></pre>\n\n<p>Mostly I am looking for ideas and a discussion of the most clean and reusable way to solve this!</p>\n"}, {"tags": ["typescript", "webpack", "node-modules"], "owner": {"reputation": 11, "user_id": 1900505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ecb034c13e63070787db0c272bf1f5?s=128&d=identicon&r=PG", "display_name": "hmchang", "link": "https://stackoverflow.com/users/1900505/hmchang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 244, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1559740600, "creation_date": 1559740600, "question_id": 56461286, "link": "https://stackoverflow.com/questions/56461286/cant-resolve-reach-dialog", "title": "Can&#39;t resolve @reach/dialog", "body": "<p>I'm developing a React app with typescript. I try to import <code>@reach/dialog</code>, but it fails with the <code>Module not found</code> error<code>on its dependencies (</code>react-focus-lock<code>,</code>react-remove-scroll<code>and</code>prop-types`).</p>\n\n<p>My own script compiles. And some other libraries compiles as well, e.g. <code>react-simple-tree-menu</code>. But when I try to import <code>@reach/dialog</code>, it breaks with the following errors:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>ERROR in ./node_modules/react-focus-lock/dist/es2015/index.js\nModule not found: Error: Can't resolve './MoveFocusInside' in '/Users/huang.ming.chang/Documents/feedback-widget/node_modules/react-focus-lock/dist/es2015'\n @ ./node_modules/react-focus-lock/dist/es2015/index.js 3:0-48 6:0-75\n @ ./node_modules/@reach/dialog/es/index.js\n @ ./src/components/Modal.tsx\n @ ./src/index.tsx\n\nERROR in ./node_modules/react-remove-scroll/dist/es2015/index.js\nModule not found: Error: Can't resolve './component' in '/Users/huang.ming.chang/Documents/feedback-widget/node_modules/react-remove-scroll/dist/es2015'\n @ ./node_modules/react-remove-scroll/dist/es2015/index.js 1:0-43 2:0-25\n @ ./node_modules/@reach/dialog/es/index.js\n @ ./src/components/Modal.tsx\n @ ./src/index.tsx\n\nERROR in ./node_modules/prop-types/index.js\nModule not found: Error: Can't resolve './factoryWithTypeCheckers' in '/Users/huang.ming.chang/Documents/feedback-widget/node_modules/prop-types'\n @ ./node_modules/prop-types/index.js 14:19-55\n @ ./node_modules/@reach/dialog/es/index.js\n @ ./src/components/Modal.tsx\n @ ./src/index.tsx\n</code></pre>\n\n<p>I also tried to modify my webpack to only import <code>main</code> instead of <code>module</code> (by changing `mainFields to ['main']), so that it only imports es5 format. However, it still failed to resolve.</p>\n\n<p>I tried to use <code>create-react-app</code> to create a blank app and import <code>@reach/dialog</code> and it builds correctly. So, apparently my webpack config is outdated.</p>\n\n<p>My <code>webpack.config.js</code> looks like this</p>\n\n<pre><code>module.exports = {\n    mode: isDev ? MODES.DEV : MODES.PROD,\n    target: \"web\",\n    devtool: isDev ? \"eval-source-map\" : false,\n    entry: './index.tsx',\n    output: {\n        path: './dist'\n        filename: `main.js`,\n        libraryTarget: \"umd\"\n    },\n\n    module: {\n        rules: [\n            {\n                test: /\\.(js|jsx|ts|tsx)$/,\n                exclude: /node_modules/,\n                use: [\n                    {\n                        loader: \"babel-loader\"\n                    },\n                    {\n                        loader: \"ts-loader\"\n                    }\n                ]\n            },\n            {\n                test: /\\.(sa|sc|c)ss$/,\n                use: [\n                    MiniCssExtractPlugin.loader,\n                    \"css-loader\",\n                    {\n                        loader: \"postcss-loader\",\n                        options: {\n                            config: {\n                                path: paths.confDir\n                            }\n                        }\n                    },\n                    \"sass-loader\"\n                ]\n            },\n            {\n                test: /\\.(gif|png|jpe?g|svg)$/i,\n                use: [\n                    {\n                        loader: \"file-loader\",\n                        options: {\n                            name: `[name].[ext]`,\n                            outputPath: `${widgetUIDir}/images`\n                        }\n                    }\n                ]\n            }\n        ]\n    },\n    resolve: {\n        extensions: [\"js\", \"jsx\", \".ts\", \".tsx\"],\n        modules: [\"node_modules\"]\n    },\n    externals: [\"react\", \"react-dom\"],\n    plugins: [...some plugins]\n};\n</code></pre>\n\n<p>My <code>ts.config.json</code></p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"allowJs\": true,\n        \"module\": \"es6\",\n        \"target\": \"es5\",\n        \"jsx\": \"react\",\n        \"outDir\": \"./dist/\",\n        \"lib\": [\"es6\", \"dom\", \"es2017\"],\n        \"moduleResolution\": \"node\",\n        \"preserveConstEnums\": true,\n        \"skipLibCheck\": true,\n        \"strictNullChecks\": true,\n        \"emitDecoratorMetadata\": true,\n        \"experimentalDecorators\": true,\n        \"noImplicitAny\": true,\n        \"esModuleInterop\": true,\n        \"allowSyntheticDefaultImports\": true\n    },\n    \"include\": [\"**/*.ts\", \"**/*.tsx\"],\n    \"exclude\": [\"node_modules\"]\n}\n\n</code></pre>\n\n<p>Please help point out where I did wrong. This config works with some old packages, but for some new packages it always encounters this issue.</p>\n\n<p>How to configure webpack so that it can transpile es6 code from <code>node_modules</code>?</p>\n\n<p>And why my webpack is unable to resolve es5 code in <code>@reach/dialog</code>?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1559740182, "post_id": 56461126, "comment_id": 99513821, "body": "First of all, what&#39;s the point of passing thz form as an input if you assign it to a new memory reference afterwards ?"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": false, "score": 0, "last_activity_date": 1559740258, "creation_date": 1559740258, "answer_id": 56461197, "question_id": 56461126, "link": "https://stackoverflow.com/questions/56461126/error-typeerror-cannot-read-property-get-of-undefined-error-in-formcontrolnam/56461197#56461197", "title": "ERROR TypeError: Cannot read property &#39;get&#39; of undefined error in formcontrolname", "body": "<p>Since your form is depending on an async HTTP call, simply protect it from errors : </p>\n\n<pre><code>&lt;div *ngIf=\"employeeInsurranceForm\" \n  class=\"smart-form\" \n  [formGroup]=\"employeeInsurranceForm\" \n  (submit)=\"save()\"&gt;\n</code></pre>\n\n<p>And, as stated in my comment, do not pass your form as in input to your control, since you don't use it at all and assign it on component initialisation. </p>\n"}, {"tags": [], "owner": {"reputation": 400, "user_id": 1568195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15c38ba4b5bf03d27c02577bafffbb5c?s=128&d=identicon&r=PG&f=1", "display_name": "LeBavarois", "link": "https://stackoverflow.com/users/1568195/lebavarois"}, "is_accepted": false, "score": 0, "last_activity_date": 1559740412, "creation_date": 1559740412, "answer_id": 56461239, "question_id": 56461126, "link": "https://stackoverflow.com/questions/56461126/error-typeerror-cannot-read-property-get-of-undefined-error-in-formcontrolnam/56461239#56461239", "title": "ERROR TypeError: Cannot read property &#39;get&#39; of undefined error in formcontrolname", "body": "<p>You could to try to build the form using the FormBuilder in the constructor and then only intialize the data in ngOnInit().</p>\n"}], "owner": {"reputation": 89, "user_id": 10021379, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-LYZ_9EAN6b8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1Un5sD-fLW10C1SLEkLqigsgSk1A/mo/photo.jpg?sz=128", "display_name": "Hasan Toraman", "link": "https://stackoverflow.com/users/10021379/hasan-toraman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1559740412, "creation_date": 1559739957, "last_edit_date": 1559740049, "question_id": 56461126, "link": "https://stackoverflow.com/questions/56461126/error-typeerror-cannot-read-property-get-of-undefined-error-in-formcontrolnam", "title": "ERROR TypeError: Cannot read property &#39;get&#39; of undefined error in formcontrolname", "body": "<p>I'm trying to make a form right know, but I am always getting the error</p>\n\n<blockquote>\n  <p>'ERROR TypeError: Cannot read property 'get' of undefined'</p>\n</blockquote>\n\n<p>eventhough I tried a few things like writing the <code>formControlName</code> in <code>[]</code> or trying to get the value over form.controls or get none of these worked, can someone help me out with this? I get the error in my input fields.</p>\n\n<p>TS file:</p>\n\n<pre><code>@Component({\n  selector: 'chronos-employee-insurrance',\n  templateUrl: './employee-insurrance.component.html',\n  styleUrls: ['./employee-insurrance.component.css']\n})\nexport class EmployeeInsurranceComponent implements OnInit {\n  @Input()\n  public employeeId: number;\n  @Input()\n  public modalRef: BsModalRef;\n\n  isSaving = false;\n  private eventManager: JhiEventManager;\n\n\n\n\n  @Input()\n  employeeInsurranceForm: FormGroup;\n\n  constructor(\n    private fb: FormBuilder,\n    private employeeInsuranceService: EmployeeInsurranceService\n\n  ) {\n\n  }\n\n  ngOnInit() {\n    this.employeeInsuranceService.findByEmployeeId(this.employeeId).subscribe(res =&gt; {\n\n      this.initializeForm(res.body.body);\n\n    });\n  }\n\n\n\n\n  initializeForm(insurance: IEmployeeInsurrance) {\n    this.employeeInsurranceForm = this.fb.group({\n      AFM :       new FormControl(''),\n      IKA:       new FormControl(''),\n      AMKA:       new FormControl(''),\n      SteuerId:   new FormControl(''),\n      employeeId: new FormControl(this.employeeId)\n    });\n    if (insurance) {\n      this.employeeInsurranceForm.patchValue(&lt;{ [key: string]: any }&gt;insurance);\n    }\n  }\n\n\n  save() {\n    this.isSaving = true;\n    this.employeeInsuranceService\n      .update(this.employeeInsurranceForm.value)\n      .subscribe(\n        (res: HttpResponse&lt;IEmployeeInsurrance&gt;) =&gt; this.onEmployeeInsuranceSaveSuccess(res.body),\n      );\n  }\n\n  private onEmployeeInsuranceSaveSuccess(result: IEmployeeInsurrance) {\n    this.eventManager.broadcast({ name: 'employee-insurance-changed', result });\n    this.isSaving = false;\n    this.closeModal();\n  }\n\n  closeModal() {\n    this.modalRef.hide();\n  }\n</code></pre>\n\n<p>HTML File:</p>\n\n<pre><code>&lt;div class=\"modal-box\"&gt;\n  &lt;div class=\"modal-header\"&gt;\n    &lt;button\n      aria-label=\"Close\"\n      class=\"close\"\n      type=\"button\"\n      (click)=\"closeModal()\"\n    &gt;\n      &lt;span aria-hidden=\"true\"&gt;\u00d7&lt;/span&gt;\n    &lt;/button&gt;\n    &lt;h4 class=\"modal-title\"&gt;{{ 'Insurrance information' | translate }}&lt;/h4&gt;\n  &lt;/div&gt;\n\n  &lt;form\n    &gt;\n    &lt;div class=\"modal-body\"&gt;\n      &lt;div class=\"master\"&gt;\n          &lt;div class=\"smart-form\" [formGroup]=\"employeeInsurranceForm\" (submit)=\"save()\"&gt;\n            &lt;fieldset&gt;\n                  &lt;section class=\"col col-6\"&gt;\n                    &lt;label class=\"input\"&gt;\n                      &lt;i class=\"icon-prepend fa fa-user fa-fw\"&gt;&lt;/i&gt;\n                      &lt;input\n                        class=\"form-control\"\n                        name=\"IKA\"\n                        formControlName=\"IKA\"\n                        placeholder=\"IKA\"\n                      /&gt;\n\n                    &lt;/label&gt;\n                  &lt;/section&gt;\n\n                  &lt;section class=\"col col-6\"&gt;\n                    &lt;label class=\"input\"&gt;\n                      &lt;i class=\"icon-prepend fa fa-user fa-fw\"&gt;&lt;/i&gt;\n                      &lt;input\n                        type=\"text\"\n                        class=\"form-control\"\n                        name=\"AMKA\"\n                        formControlName=\"AMKA\"\n                        placeholder=\"AMKA\"\n                      /&gt;\n\n                    &lt;/label&gt;\n                  &lt;/section&gt;\n\n                  &lt;section class=\"col col-6\"&gt;\n                    &lt;label class=\"input\"&gt;\n                      &lt;i class=\"icon-prepend fa fa-user fa-fw\"&gt;&lt;/i&gt;\n                      &lt;input\n                        type=\"text\"\n                        name=\"AFM\"\n                        class=\"form-control\"\n                        formControlName=\"AFM\"\n                        placeholder=\"AFM\"\n                      /&gt;\n\n                    &lt;/label&gt;\n                  &lt;/section&gt;\n\n                  &lt;section class=\"col col-6\"&gt;\n                    &lt;label class=\"input\"&gt;\n                      &lt;i class=\"icon-prepend fa fa-user fa-fw\"&gt;&lt;/i&gt;\n                      &lt;input\n                        type=\"text\"\n                        name=\"SteuerID\"\n                        class=\"form-control\"\n                        formControlName=\"SteuerID\"\n                        placeholder=\"Steuer ID\"\n                      /&gt;\n\n                    &lt;/label&gt;\n                  &lt;/section&gt;\n            &lt;/fieldset&gt;\n              &lt;/div&gt;\n          &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"modal-footer\"&gt;\n      &lt;button type=\"button\" class=\"btn btn-default\" (click)=\"closeModal()\"&gt;\n        {{ 'Cancel' | translate }}\n      &lt;/button&gt;\n      &lt;button\n        type=\"button\"\n        class=\"btn btn-primary\"\n        (click)=\"save()\"\n      &gt;\n        &lt;div [ngClass]=\"{'editableform-loading' : isSaving }\"&gt;&lt;/div&gt;\n        {{ 'Save' | translate }}\n      &lt;/button&gt;\n    &lt;/div&gt;\n  &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11089221, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--tIE0jYZS28/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPSZ_1xu_m7-tQulm_xmfjz5A38yQ/mo/photo.jpg?sz=128", "display_name": "SHAMBHAVI SINHA", "link": "https://stackoverflow.com/users/11089221/shambhavi-sinha"}, "edited": false, "score": 0, "creation_date": 1559813489, "post_id": 56460842, "comment_id": 99539795, "body": "So can we say typescript compiles to javascript? Thanks for the explanation above."}], "tags": [], "owner": {"reputation": 5744, "user_id": 9680534, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Avin Kavish", "link": "https://stackoverflow.com/users/9680534/avin-kavish"}, "is_accepted": false, "score": 2, "last_activity_date": 1559740170, "last_edit_date": 1559740170, "creation_date": 1559739040, "answer_id": 56460842, "question_id": 56460716, "link": "https://stackoverflow.com/questions/56460716/how-does-typescript-has-the-same-level-of-abstraction-as-javascript-which-allows/56460842#56460842", "title": "How does typescript has the same level of abstraction as javascript which allows it to qualify for transpiling?", "body": "<blockquote>\n  <p>How to identify or what are some specific properties due to which it can be said that typescript transpiles into javscript?</p>\n</blockquote>\n\n<p>It's not that it can be said that typescript transpiles into javascript. Most languages can be transpiled into other languages using a transpiler if enough effort were put into it.  Typescript was designed to be a superset of javascript itself with the entire purpose of adding type safety to an otherwise type unsafe language. Therefore the transpilation is an order of magnitude easier than converting between two arbitary languages.</p>\n\n<p>The major and only relevant characteristic is that typescript is a superset of a javascript. I.e. Any javascript is implicitly convertable to typescript without any modification. If Javascript syntax was modelled as a set. That set falls inside the set containing Typescript syntax.</p>\n\n<p>Considering this, the only change needed to convert Typescript into javascript is to remove some of that extra syntax. In practice, things are a bit more complicated as Typescript has added some constructs that simplify coding but may not work directly in javascript. There's also complexities introduced by the varying levels of javascript features that different browsers support. Typescript is highly configurable for these scenarios and perform transformations to product output code suitable for the target environment.</p>\n\n<p>The best option is to try it for yourself here and see the transpilation in action. <a href=\"https://www.typescriptlang.org/play/\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/play/</a></p>\n\n<p>As for abstraction, typescript does not really add any abstract features, it only adds abstract type specifications. Compare this to a object oriented language such as C# which supports polymorphism, inheritance, encapsulation where abstraction is integral to resolving dependencies and dispatching method calls, typescript does not add any of that, it merely adds a bunch of types, in fact typescript is not even a programming language per se, it does not have it's own run time environment, it cannot be run till it's converted to Javascript. I don't see abstraction being relevant here. Javascript is a dynamic language where type resolution and dispatch is performed at run time. Abstract constructs do not exist, only concrete types.</p>\n"}], "owner": {"reputation": 11, "user_id": 11089221, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--tIE0jYZS28/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPSZ_1xu_m7-tQulm_xmfjz5A38yQ/mo/photo.jpg?sz=128", "display_name": "SHAMBHAVI SINHA", "link": "https://stackoverflow.com/users/11089221/shambhavi-sinha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559740170, "creation_date": 1559738550, "question_id": 56460716, "link": "https://stackoverflow.com/questions/56460716/how-does-typescript-has-the-same-level-of-abstraction-as-javascript-which-allows", "title": "How does typescript has the same level of abstraction as javascript which allows it to qualify for transpiling?", "body": "<p>Transpiling is the process of taking source code written in one language and transforming into another language that has a similar level of abstraction. How to identify or what are some specific properties due to which it can be said that typescript transpiles into javscript?</p>\n"}, {"tags": ["angular", "typescript", "microsoft-graph-api"], "comments": [{"owner": {"reputation": 2638, "user_id": 4503593, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/08dd84a9d7477e9a4953d9b9062814f2?s=128&d=identicon&r=PG&f=1", "display_name": "Emptyless", "link": "https://stackoverflow.com/users/4503593/emptyless"}, "edited": false, "score": 1, "creation_date": 1559738132, "post_id": 56460471, "comment_id": 99512577, "body": "I&#39;m not sure how angular builds but you seem to specify that you are building for production at which point dev dependencies are not bundled. Does the problem remain when moving @microsoft/microsoft-graph-types to the set of normal (not dev) dependencies?"}, {"owner": {"reputation": 207, "user_id": 10978653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e7ef47544126e5e61587d3b0799002d?s=128&d=identicon&r=PG&f=1", "display_name": "vcial", "link": "https://stackoverflow.com/users/10978653/vcial"}, "reply_to_user": {"reputation": 2638, "user_id": 4503593, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/08dd84a9d7477e9a4953d9b9062814f2?s=128&d=identicon&r=PG&f=1", "display_name": "Emptyless", "link": "https://stackoverflow.com/users/4503593/emptyless"}, "edited": false, "score": 0, "creation_date": 1559742836, "post_id": 56460471, "comment_id": 99515440, "body": "Yes the problem is still here"}, {"owner": {"reputation": 3684, "user_id": 2186639, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cdc7804e9b5848a50abf9977969ab705?s=128&d=identicon&r=PG", "display_name": "Do\u011fancan Arabac\u0131", "link": "https://stackoverflow.com/users/2186639/do%c4%9fancan-arabac%c4%b1"}, "edited": false, "score": 0, "creation_date": 1559743275, "post_id": 56460471, "comment_id": 99515699, "body": "does it build correctly after removing buildOptimizer?"}, {"owner": {"reputation": 207, "user_id": 10978653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e7ef47544126e5e61587d3b0799002d?s=128&d=identicon&r=PG&f=1", "display_name": "vcial", "link": "https://stackoverflow.com/users/10978653/vcial"}, "edited": false, "score": 0, "creation_date": 1559748262, "post_id": 56460471, "comment_id": 99518578, "body": "Without buildOptimizer the problem persists"}, {"owner": {"reputation": 207, "user_id": 10978653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e7ef47544126e5e61587d3b0799002d?s=128&d=identicon&r=PG&f=1", "display_name": "vcial", "link": "https://stackoverflow.com/users/10978653/vcial"}, "edited": false, "score": 0, "creation_date": 1559749015, "post_id": 56460471, "comment_id": 99519029, "body": "I&#39;ve done a ng build --prod --delete-output-path and I have this error FATAL ERROR: CALL_AND_RETRY_LAST Allocation failed - JavaScript heap out of memory"}], "owner": {"reputation": 207, "user_id": 10978653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e7ef47544126e5e61587d3b0799002d?s=128&d=identicon&r=PG&f=1", "display_name": "vcial", "link": "https://stackoverflow.com/users/10978653/vcial"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 426, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1559737544, "creation_date": 1559737544, "question_id": 56460471, "link": "https://stackoverflow.com/questions/56460471/module-not-found-error-cant-resolve-but-module-is-in-node-modules", "title": "Module not found: Error: Can&#39;t resolve but module is in node_modules", "body": "<p>I'm having a problem with the build prod of my application.\nThe build fail with an error  however everything is generated by the build. It fails but everything is fine except the following error.</p>\n\n<pre><code>Module not found: Error: Can't resolve '@microsoft/microsoft-graph-types' in 'D:/path/to/a/file'\n</code></pre>\n\n<p>Here is the content of the mentioned file</p>\n\n<pre><code>import { Calendar, Event as MicrosoftEvent } from '@microsoft/microsoft-graph-types';\n</code></pre>\n\n<p>If I remove this line in VS Code I can no more import automatically.</p>\n\n<p>When i run 'ng serve' and 'ng test' it works perfectly. Only the following command fails</p>\n\n<pre><code>ng build --prod --aot --vendor-chunk --common-chunk --delete-output-path --buildOptimizer\n</code></pre>\n\n<p>@microsoft/microsoft-graph-types is a dev dependency (it's the same for dependecy) and I'm using version 1.8.0.</p>\n\n<p>Thanks for your help.</p>\n"}, {"tags": ["angular", "typescript", "firebase-authentication", "angular6", "angular2-routing"], "comments": [{"owner": {"reputation": 804, "user_id": 8920229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3c7537cb57db8903de88f69a876b59d?s=128&d=identicon&r=PG", "display_name": "Muhammad Kamran", "link": "https://stackoverflow.com/users/8920229/muhammad-kamran"}, "edited": false, "score": 0, "creation_date": 1559739184, "post_id": 56460329, "comment_id": 99513200, "body": "this.ngZone.run(() =&gt; this.router.navigate([&#39;/home&#39;])); Can you try adding a /"}, {"owner": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "reply_to_user": {"reputation": 804, "user_id": 8920229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3c7537cb57db8903de88f69a876b59d?s=128&d=identicon&r=PG", "display_name": "Muhammad Kamran", "link": "https://stackoverflow.com/users/8920229/muhammad-kamran"}, "edited": false, "score": 0, "creation_date": 1559821087, "post_id": 56460329, "comment_id": 99543843, "body": "thanks for the suggestion @MuhammadKamran  let me try and come back"}, {"owner": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "reply_to_user": {"reputation": 804, "user_id": 8920229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3c7537cb57db8903de88f69a876b59d?s=128&d=identicon&r=PG", "display_name": "Muhammad Kamran", "link": "https://stackoverflow.com/users/8920229/muhammad-kamran"}, "edited": false, "score": 0, "creation_date": 1559897995, "post_id": 56460329, "comment_id": 99571239, "body": "Still No luck... don&#39;t know how to track the failure"}, {"owner": {"reputation": 2761, "user_id": 5860259, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nuQx9j3fJd4/AAAAAAAAAAI/AAAAAAAADqc/c7CiqUETjMo/photo.jpg?sz=128", "display_name": "Sunil Kashyap", "link": "https://stackoverflow.com/users/5860259/sunil-kashyap"}, "edited": false, "score": 0, "creation_date": 1559898311, "post_id": 56460329, "comment_id": 99571398, "body": "are you using routing guards ????"}, {"owner": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "reply_to_user": {"reputation": 2761, "user_id": 5860259, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nuQx9j3fJd4/AAAAAAAAAAI/AAAAAAAADqc/c7CiqUETjMo/photo.jpg?sz=128", "display_name": "Sunil Kashyap", "link": "https://stackoverflow.com/users/5860259/sunil-kashyap"}, "edited": false, "score": 0, "creation_date": 1560154445, "post_id": 56460329, "comment_id": 99629615, "body": "@skdroid yes am using route guard"}], "answers": [{"comments": [{"owner": {"reputation": 1629, "user_id": 3892439, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/BkUb1.jpg?s=128&g=1", "display_name": "vigamage", "link": "https://stackoverflow.com/users/3892439/vigamage"}, "edited": false, "score": 0, "creation_date": 1596010891, "post_id": 56491374, "comment_id": 111668744, "body": "I tried handling redirection in the component code as you have suggested. Result is still the same. Redirect does not happen"}, {"owner": {"reputation": 1629, "user_id": 3892439, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/BkUb1.jpg?s=128&g=1", "display_name": "vigamage", "link": "https://stackoverflow.com/users/3892439/vigamage"}, "edited": false, "score": 0, "creation_date": 1596104322, "post_id": 56491374, "comment_id": 111706687, "body": "figured it out. I was missing  a slash at the start of the path"}], "tags": [], "owner": {"reputation": 2761, "user_id": 5860259, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nuQx9j3fJd4/AAAAAAAAAAI/AAAAAAAADqc/c7CiqUETjMo/photo.jpg?sz=128", "display_name": "Sunil Kashyap", "link": "https://stackoverflow.com/users/5860259/sunil-kashyap"}, "is_accepted": true, "score": 1, "last_activity_date": 1559899224, "last_edit_date": 1559899224, "creation_date": 1559898733, "answer_id": 56491374, "question_id": 56460329, "link": "https://stackoverflow.com/questions/56460329/angular-6-firebase-routing-not-happening-properly-after-successful-login/56491374#56491374", "title": "Angular 6 - Firebase - Routing not happening properly after successful login", "body": "<p>you are redirecting through service, so use <code>do</code> operator or return the observable and redirect in the component.</p>\n\n<p><strong>using do operator</strong></p>\n\n<pre><code>userLogin(email, password) {\n    return this.afAuth.auth.signInWithEmailAndPassword(email, password)\n      .do((result) =&gt; {\n        this.ngZone.run(() =&gt; {\n          this.router.navigate(['home']);\n        });\n        this.setCustomerInfo(result.user);\n      }).catch((error) =&gt; {\n        const errorCode = error.code;\n        const errorMessage = error.message;\n        console.log('err', errorMessage);\n      })\n  }\n</code></pre>\n\n<p>I did a navigate inside .do() BECAUSE a successful login will ALWAYS navigate to the currently set redirect URL.</p>\n\n<p>If it did not ALWAYS do this then <code>router.navigate</code> would be wrong. However, given that it ALWAYS does this then this approach ensures consistency.</p>\n\n<p><strong>create a method in component and redirect from the component.</strong></p>\n\n<pre><code>// service code\n userLogin(email, password) {\n    return this.afAuth.auth.signInWithEmailAndPassword(email, password);\n  }\n}\n\n\n// component code\nuserLogin(email, password) {\n  this.authService.userLogin(email, password).then((result) =&gt; {\n    this.ngZone.run(() =&gt; {\n      this.router.navigate(['home']);\n    });\n    this.setCustomerInfo(result.user);\n  }).catch((error) =&gt; {\n    const errorCode = error.code;\n    const errorMessage = error.message;\n    console.log('err', errorMessage);\n  })\n}\n</code></pre>\n"}], "owner": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 313, "favorite_count": 0, "accepted_answer_id": 56491374, "answer_count": 1, "score": 2, "last_activity_date": 1559899224, "creation_date": 1559736990, "last_edit_date": 1559898033, "question_id": 56460329, "link": "https://stackoverflow.com/questions/56460329/angular-6-firebase-routing-not-happening-properly-after-successful-login", "title": "Angular 6 - Firebase - Routing not happening properly after successful login", "body": "<p>Had spend a lot of hours to fix my issue, but couldn't make it. Also, I've come across related threads from SO, but still I don't find the solution to resolve this.</p>\n\n<p><strong>Issue</strong></p>\n\n<p>after successful signup, I got email verification flag to <strong><code>true</code></strong>. but when I try to login back with same credentials, routing to 'home' page is not happening. I don't know how to make that post method.</p>\n\n<p>so far what have is.!</p>\n\n<p><strong>firebase-service.ts</strong></p>\n\n<pre><code>export class FireBaseAuthenticationService {\n  userData: any;\n  constructor(\n    public afs: AngularFirestore,\n    public afAuth: AngularFireAuth,\n    public router: Router,\n    public ngZone: NgZone\n  ) {\n    this.afAuth.authState.subscribe(user =&gt; {\n      if (user) {\n        this.userData = user;\n        localStorage.setItem('customerInfo', JSON.stringify(this.userData));\n        JSON.parse(localStorage.getItem('customerInfo'));\n      } else {\n        localStorage.setItem('customerInfo', null);\n        JSON.parse(localStorage.getItem('customerInfo'));\n      }\n    });\n  }\n  userLogin(email, password) {\n    return this.afAuth.auth.signInWithEmailAndPassword(email, password)\n      .then((result) =&gt; {\n        this.ngZone.run(() =&gt; {\n          this.router.navigate(['home']);\n        });\n        this.setCustomerInfo(result.user);\n      }).catch((error) =&gt; {\n        const errorCode = error.code;\n        const errorMessage = error.message;\n        console.log('err', errorMessage);\n      })\n  }\n}\n</code></pre>\n\n<p><strong>user-login.html</strong></p>\n\n<pre><code>&lt;fieldset class=\"clearfix\"&gt;\n            &lt;p&gt;&lt;span class=\"fa fa-user\"&gt;&lt;/span&gt;&lt;input type=\"text\" Placeholder=\"Username\" required #userName &gt;&lt;/p&gt;\n            &lt;p&gt;&lt;span class=\"fa fa-lock\"&gt;&lt;/span&gt;&lt;input type=\"password\" Placeholder=\"Password\" required #userPassword&gt;&lt;/p&gt;\n            &lt;div id=\"submit-btn\"&gt;\n\n              &lt;span class=\"spn-submit\"&gt;&lt;input type=\"submit\" value=\"Sign In\"  (click)=\"authenticate.userLogin(userName.value, userPassword.value)\"&gt;&lt;/span&gt;\n            &lt;/div&gt;\n          &lt;/fieldset&gt;\n</code></pre>\n\n<p><strong>expected:</strong></p>\n\n<ol>\n<li>Once login successfully I want to go to the 'home' page.</li>\n</ol>\n\n<p>but right now, login-page loading for seconds and remains the same page.</p>\n\n<p>pls, let me know more information is required.</p>\n\n<p>Pls don't mark it as duplicate, I've already digged SO to find the solution. but I'm failed. </p>\n\n<p>thanks to all </p>\n"}, {"tags": ["typescript", "unit-testing", "mocking", "jestjs"], "comments": [{"owner": {"reputation": 3684, "user_id": 2186639, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cdc7804e9b5848a50abf9977969ab705?s=128&d=identicon&r=PG", "display_name": "Do\u011fancan Arabac\u0131", "link": "https://stackoverflow.com/users/2186639/do%c4%9fancan-arabac%c4%b1"}, "edited": false, "score": 2, "creation_date": 1559743450, "post_id": 56460012, "comment_id": 99515781, "body": "You can take a look at <a href=\"https://www.npmjs.com/package/@fluffy-spoon/substitute\" rel=\"nofollow noreferrer\">npmjs.com/package/@fluffy-spoon/substitute</a>"}], "owner": {"reputation": 12006, "user_id": 952310, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/esN85.jpg?s=128&g=1", "display_name": "Yair Nevet", "link": "https://stackoverflow.com/users/952310/yair-nevet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1559811842, "creation_date": 1559735701, "last_edit_date": 1559811842, "question_id": 56460012, "link": "https://stackoverflow.com/questions/56460012/how-to-mock-an-object-from-interface", "title": "How to mock an object from interface?", "body": "<p>Given an interface in typescript, can I automatically mock out of it a new object with dummy values instead of manually writing an object?</p>\n\n<p>Let's take for example the following <code>interface</code>:</p>\n\n<pre><code>interface SquareConfig {\n    color: string;\n    width: number;\n}\n</code></pre>\n\n<p>I would like to have a mock object which implements the interface properties, e.g:</p>\n\n<pre><code>const mockConfig = jest.mock&lt;SquareConfig&gt;();\nconsole.log(mockConfig.color); //should print some auto-generated dummy string value\n</code></pre>\n\n<p>Is it possible in some way?</p>\n"}, {"tags": ["typescript", "templates"], "answers": [{"tags": [], "owner": {"reputation": 849, "user_id": 4481855, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z1q2vlzuJtk/AAAAAAAAAAI/AAAAAAAAAFU/VlAxU6jBJ-M/photo.jpg?sz=128", "display_name": "hdnn", "link": "https://stackoverflow.com/users/4481855/hdnn"}, "is_accepted": true, "score": 0, "last_activity_date": 1559747161, "creation_date": 1559747161, "answer_id": 56463223, "question_id": 56459951, "link": "https://stackoverflow.com/questions/56459951/typescript-template-default-value-for-class-shared-between-two-projects/56463223#56463223", "title": "Typescript. Template default value for class shared between two projects", "body": "<p>I found solution.\nNear each type that can be passed as template parameter, I should add type alias:</p>\n\n<p><code>export type Sender = ClientSender</code></p>\n\n<p>And configure for each project \"path aliases\".</p>\n\n<p>For Node.JS: <a href=\"https://dev.to/lars124/path-aliases-with-typescript-in-nodejs-4353\" rel=\"nofollow noreferrer\">https://dev.to/lars124/path-aliases-with-typescript-in-nodejs-4353</a></p>\n\n<p>For Angular: <a href=\"https://christianlydemann.com/simpler-typescript-paths-with-path-aliases/\" rel=\"nofollow noreferrer\">https://christianlydemann.com/simpler-typescript-paths-with-path-aliases/</a></p>\n\n<p>And now my shared module looks like:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {ISender, Base} from './ISender';\nimport {Sender} from '@sender/';\n\nexport class DFEnumBSTR&lt;T extends ISender = Sender&gt; extends Base&lt;T&gt;{\n    constructor(id: string, sender: new (id: string) =&gt; T) {\n        super(id, sender);\n    }\n...\n}\n</code></pre>\n"}], "owner": {"reputation": 849, "user_id": 4481855, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z1q2vlzuJtk/AAAAAAAAAAI/AAAAAAAAAFU/VlAxU6jBJ-M/photo.jpg?sz=128", "display_name": "hdnn", "link": "https://stackoverflow.com/users/4481855/hdnn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 56463223, "answer_count": 1, "score": 0, "last_activity_date": 1559747161, "creation_date": 1559735483, "last_edit_date": 1559735856, "question_id": 56459951, "link": "https://stackoverflow.com/questions/56459951/typescript-template-default-value-for-class-shared-between-two-projects", "title": "Typescript. Template default value for class shared between two projects", "body": "<p>I have a .ts file with a class that declared with templates. This class shared between two applications(client and server). Each application use this class with different template types. </p>\n\n<p>And I want to declare this class with default parameter for client.</p>\n\n<p>Now I do it like that:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {ISender, Base} from './ISender';\nimport {ClientSender} from '../client/src/app/interfaceImpl/ClientSender';\n\nexport class DFEnumBSTR&lt;T extends ISender = ClientSender&gt; extends Base&lt;T&gt;{\n    constructor(id: string, sender: new (id: string) =&gt; T) {\n        super(id, sender);\n    }\n...\n}\n</code></pre>\n\n<p>But when I compile server application it also compile <code>'../client/src/app/interfaceImpl/ClientSender'</code> with all his dependencies. </p>\n\n<p>Is it possible to ignore this import for server project?</p>\n\n<p>Or maybe there have some way like in C++ when in .h file can you just declare exist type(<code>class ClientSender;</code>) and specify this type in .cpp by including file with this type?</p>\n"}, {"tags": ["reactjs", "typescript", "react-native"], "comments": [{"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 2, "creation_date": 1559735186, "post_id": 56459832, "comment_id": 99511094, "body": "Make the property optional? <code>_param_3?: boolean</code> Now users of this property will need to make additional checks to ensure that when it is used, it is not <code>undefined</code>."}], "answers": [{"comments": [{"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 1, "creation_date": 1559737116, "post_id": 56460135, "comment_id": 99512037, "body": "These aren&#39;t optional parameters. They&#39;re optional properties: <a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html#optional-properties\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/&hellip;</a>"}, {"owner": {"reputation": 1126, "user_id": 925209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e60819dbb8183a63c4e962ff3734b5b3?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/925209/martin"}, "reply_to_user": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 0, "creation_date": 1559742058, "post_id": 56460135, "comment_id": 99514946, "body": "You are correct, I have fixed the link to now go to the correct place"}], "tags": [], "owner": {"reputation": 1126, "user_id": 925209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e60819dbb8183a63c4e962ff3734b5b3?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/925209/martin"}, "is_accepted": true, "score": 1, "last_activity_date": 1559742022, "last_edit_date": 1559742022, "creation_date": 1559736208, "answer_id": 56460135, "question_id": 56459832, "link": "https://stackoverflow.com/questions/56459832/how-to-pass-only-selective-props-if-class-has-interface-type-defined/56460135#56460135", "title": "How to pass only selective props if class has interface type defined", "body": "<p>You can make your parameter optional in your interface like this:</p>\n\n<pre><code>interface INewProps {\n    _param_1: boolean,\n    _param_2: boolean\n    _param_3?: boolean\n}\n</code></pre>\n\n<p>note the questions mark on the third parameter.</p>\n\n<p>Read more about optional parameters here: <a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html#optional-properties\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/interfaces.html#optional-properties</a></p>\n"}], "owner": {"reputation": 512, "user_id": 4074206, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3c17d934af7f1150302b487e493e4fea?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Jayaprakash", "link": "https://stackoverflow.com/users/4074206/ankit-jayaprakash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 56460135, "answer_count": 1, "score": 0, "last_activity_date": 1559742022, "creation_date": 1559735063, "question_id": 56459832, "link": "https://stackoverflow.com/questions/56459832/how-to-pass-only-selective-props-if-class-has-interface-type-defined", "title": "How to pass only selective props if class has interface type defined", "body": "<p><code>interface INewProps {\n    _param_1: boolean,\n    _param_2: boolean\n    _param_3: boolean\n}</code></p>\n\n<p><code>class TestClass extends React.Component&lt;INewProps, IState&gt;{\n    constructor(props: IProps) {\n        super(props)\n        this.state = {}\n    }\n    render() {\n        return (&lt;Text&gt;&lt;/Text&gt;)\n    }}</code></p>\n\n<p>if I call this it works but;  </p>\n\n<p><code>&lt;TestClass\n    _param_1={false}\n    _param_2={false}/&gt;</code></p>\n\n<p>If I call this it works but my TSLint in editor says </p>\n\n<p><code>Property '_param_3' is missing in type '{ _param_1: false; _param_2: false; }' but required in type 'Readonly&lt;INewProps&gt;'.ts(2741)\nSideControl.tsx(89, 5): '_param_3' is declared here.</code></p>\n\n<p>I need to pass only 2 props , \nIs there any work around for this? Is this correct way i need to follow?</p>\n\n<p>This interface is used by other class for passing 3 props.\nSo how do I manage to pass props with 2 ? Is that possible without creating a new interface?\nIs Patials in type script associated with this?</p>\n"}, {"tags": ["angular", "typescript", "asp.net-core"], "comments": [{"owner": {"reputation": 642, "user_id": 5979651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39k1r.jpg?s=128&g=1", "display_name": "Pierre", "link": "https://stackoverflow.com/users/5979651/pierre"}, "edited": false, "score": 0, "creation_date": 1559735211, "post_id": 56459678, "comment_id": 99511113, "body": "What is meant with client param?"}, {"owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "edited": false, "score": 0, "creation_date": 1559735621, "post_id": 56459678, "comment_id": 99511298, "body": "you can try using <code>query</code> parameters"}, {"owner": {"reputation": 1351, "user_id": 3641014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76a77f72f2e4efc7bce1f0029a655294?s=128&d=identicon&r=PG&f=1", "display_name": "schlonzo", "link": "https://stackoverflow.com/users/3641014/schlonzo"}, "edited": false, "score": 0, "creation_date": 1559735826, "post_id": 56459678, "comment_id": 99511407, "body": "You need to use a technique where the server can inform the client about events. In your scenario (ASP .NET Core) I would recommend <a href=\"https://docs.microsoft.com/en-us/aspnet/core/signalr/introduction?view=aspnetcore-2.2\" rel=\"nofollow noreferrer\">SignalR</a>"}, {"owner": {"reputation": 16244, "user_id": 162070, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fda09c54de7bb03f0d77127cec09fd12?s=128&d=identicon&r=PG", "display_name": "Zlatko", "link": "https://stackoverflow.com/users/162070/zlatko"}, "edited": false, "score": 0, "creation_date": 1559735944, "post_id": 56459678, "comment_id": 99511467, "body": "What is the URL/param that the other app is hitting? Is it hitting the Angular page directly, or goes through some webhook on your core project?"}, {"owner": {"reputation": 23, "user_id": 11117950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a583816dca4af6844661ea3f0299fef?s=128&d=identicon&r=PG&f=1", "display_name": "LTsetskhla", "link": "https://stackoverflow.com/users/11117950/ltsetskhla"}, "edited": false, "score": 0, "creation_date": 1559736432, "post_id": 56459678, "comment_id": 99511705, "body": "its just JSON body with 1 string param . Other application is calling my angular url where he will post this body . I want to just recieve this body and  then to call my controller and send this body. This is i dont know from where they will post . They just post in my Url  this json body."}, {"owner": {"reputation": 5744, "user_id": 9680534, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Avin Kavish", "link": "https://stackoverflow.com/users/9680534/avin-kavish"}, "edited": false, "score": 0, "creation_date": 1559736981, "post_id": 56459678, "comment_id": 99511955, "body": "Can you confirm whether it&#39;s a query param or JSON request body with one property? You are using both words interchangeably, but they are not."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 11117950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a583816dca4af6844661ea3f0299fef?s=128&d=identicon&r=PG&f=1", "display_name": "LTsetskhla", "link": "https://stackoverflow.com/users/11117950/ltsetskhla"}, "edited": false, "score": 0, "creation_date": 1559736829, "post_id": 56460250, "comment_id": 99511884, "body": "I will try now this"}, {"owner": {"reputation": 23, "user_id": 11117950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a583816dca4af6844661ea3f0299fef?s=128&d=identicon&r=PG&f=1", "display_name": "LTsetskhla", "link": "https://stackoverflow.com/users/11117950/ltsetskhla"}, "edited": false, "score": 0, "creation_date": 1559737178, "post_id": 56460250, "comment_id": 99512069, "body": "i guess it works it worked on get now i will try on post"}, {"owner": {"reputation": 642, "user_id": 5979651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39k1r.jpg?s=128&g=1", "display_name": "Pierre", "link": "https://stackoverflow.com/users/5979651/pierre"}, "reply_to_user": {"reputation": 23, "user_id": 11117950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a583816dca4af6844661ea3f0299fef?s=128&d=identicon&r=PG&f=1", "display_name": "LTsetskhla", "link": "https://stackoverflow.com/users/11117950/ltsetskhla"}, "edited": false, "score": 0, "creation_date": 1559740186, "post_id": 56460250, "comment_id": 99513824, "body": "Fitted your requirements?"}], "tags": [], "owner": {"reputation": 642, "user_id": 5979651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39k1r.jpg?s=128&g=1", "display_name": "Pierre", "link": "https://stackoverflow.com/users/5979651/pierre"}, "is_accepted": false, "score": 0, "last_activity_date": 1559736698, "creation_date": 1559736698, "answer_id": 56460250, "question_id": 56459678, "link": "https://stackoverflow.com/questions/56459678/another-application-is-sending-on-my-url-params-how-can-i-recieve-it-in-angular/56460250#56460250", "title": "Another application is sending on my Url params How can i recieve it in angular?", "body": "<p>You can subscribe to them using the queryParams from the route.</p>\n\n<pre><code>constructor(private route: ActivatedRoute) { }\nngOnInit() {\n    this.route.queryParams\n      .subscribe(params =&gt; {\n        console.log(params);\n      });\n  }\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 11117950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a583816dca4af6844661ea3f0299fef?s=128&d=identicon&r=PG&f=1", "display_name": "LTsetskhla", "link": "https://stackoverflow.com/users/11117950/ltsetskhla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559736698, "creation_date": 1559734432, "last_edit_date": 1559735799, "question_id": 56459678, "link": "https://stackoverflow.com/questions/56459678/another-application-is-sending-on-my-url-params-how-can-i-recieve-it-in-angular", "title": "Another application is sending on my Url params How can i recieve it in angular?", "body": "<p>I have a Core project on which I am working in angular 7. I am working on another pay application where I send client params and after that, that other application makes payments and after that application posts in my Core project's URL some params. I want to receive these params. how is this possible in angular?</p>\n"}, {"tags": ["angular", "typescript", "angular-directive"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": false, "score": 0, "last_activity_date": 1559734509, "creation_date": 1559734509, "answer_id": 56459701, "question_id": 56459536, "link": "https://stackoverflow.com/questions/56459536/angular-setting-an-attribute-directive-dynamically-in-an-angular-component-usi/56459701#56459701", "title": "Angular - Setting an Attribute Directive dynamically in an Angular component using Render2", "body": "<p>Angular is a compiled language : you write TS, it transforms it to JS. </p>\n\n<p>The selectors in the decorators are <strong>pre-build</strong> : they can not be applied <em>post-build</em>. </p>\n\n<p>This means that you should not use the renderer (which will act <em>post-build</em>), but rather the template itself to manage your angular components. </p>\n\n<p>As a sidenote, the directive in a component is usually a way for the component to use <code>@ContentChild</code> to manage the content through <code>&lt;ng-content&gt;</code>. Except from adding custom classes to the <code>elementRef</code>, and maybe implementing a control value accessor, the directive doesn't do much. </p>\n\n<p>I suggest you take a look at <a href=\"https://github.com/angular/components/blob/master/src/material/input/input.ts#L66\" rel=\"nofollow noreferrer\">Material Input Elements</a> or <a href=\"https://github.com/primefaces/primeng/blob/master/src/app/components/inputtext/inputtext.ts#L6\" rel=\"nofollow noreferrer\">PrimeNG</a> to see how they do it, since they are widely used and generally very easy to use too !</p>\n"}], "owner": {"reputation": 12947, "user_id": 197420, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c7c7f81bf5ec9cc3644ad96552694080?s=128&d=identicon&r=PG", "display_name": "Mike Sav", "link": "https://stackoverflow.com/users/197420/mike-sav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 990, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559734509, "creation_date": 1559733847, "question_id": 56459536, "link": "https://stackoverflow.com/questions/56459536/angular-setting-an-attribute-directive-dynamically-in-an-angular-component-usi", "title": "Angular - Setting an Attribute Directive dynamically in an Angular component using Render2", "body": "<p>I've created a component in my app that acts as a wrapper for an input tag (I'm making my own UI library for fun). My component would be used like so.</p>\n\n<pre><code>&lt;sio-input [label]=\"'Sio Input Label'\"&gt;\n        &lt;input type=\"text\" name=\"\"&gt;\n&lt;/sio-input&gt;\n</code></pre>\n\n<p>The point of this is to dynamically add CSS classes and functionality so the developer doesn't have to. Here is my component (I have really scaled down the code for readability)</p>\n\n<pre><code>@Component({\n  selector: 'sio-input',\n  templateUrl: './input.component.html', // only contains &lt;ng-content&gt;&lt;/ng-content&gt;\n  styleUrls: ['./input.component.scss'],\n\n})\nexport class InputComponent implements OnInit {\n\n  @Input() label: string;\n  // this component used Render2 - https://angular.io/api/core/Renderer2\n  constructor(private elRef: ElementRef, private renderer: Renderer2) {\n  }\n\n  ngOnInit() {\n    // if a label exist prepend it to the HTML\n    if (this.label) {\n      const formInput = this.elRef.nativeElement.querySelector('input');\n      const appendLabel = this.renderer.createElement('LABEL');\n      const textNode = this.renderer.createText(this.label);\n      this.renderer.addClass(appendLabel, 'sio-input__label');\n      this.renderer.appendChild(appendLabel, textNode);\n      this.renderer.insertBefore(this.elRef.nativeElement, appendLabel, formInput);\n\n      // add the directive\n      this.renderer.setAttribute(formInput, 'sioInput', null);\n    }\n  }\n}\n\n@Directive({\n  selector: '[sioInput]'\n})\nexport class SioInputDirective {\n  @HostListener('focus', ['$event.target'])\n  onFocus(event) {\n    console.log('Boom! We Have Focus');\n  }\n}\n</code></pre>\n\n<p>As you can see I wish to dynamically add an Attribute Directive to the <code>formInput</code> I find in the component's DOM. Sadly this doesn't work as the output rendered by <code>renderer.setAttribute</code> takes the '<code>sioInput</code>' attribute name and renders it '<code>sioinput</code>' so Angular doesn't recognise the Attribute Directive. Should I manually put the directive name in the template HTML on the input naturally everything works - but I want this to be dynamic. What am I doing wrong? How can I set the Attribute Directive dynamically without the name being converted to lowercase.</p>\n\n<p>Many thanks in advance - if I haven't explained my problem well or it is confusing please say so and I shall reword my question.</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "webpack", "aws-lambda"], "comments": [{"owner": {"reputation": 361, "user_id": 697979, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/274f4903c4408c946b3ef1706cc1d82a?s=128&d=identicon&r=PG", "display_name": "Nick Chan Abdullah", "link": "https://stackoverflow.com/users/697979/nick-chan-abdullah"}, "edited": false, "score": 0, "creation_date": 1565677704, "post_id": 56459534, "comment_id": 101416688, "body": "have you found any solution yet ?"}, {"owner": {"reputation": 344, "user_id": 4692302, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/bd0Ji.jpg?s=128&g=1", "display_name": "Neill", "link": "https://stackoverflow.com/users/4692302/neill"}, "reply_to_user": {"reputation": 361, "user_id": 697979, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/274f4903c4408c946b3ef1706cc1d82a?s=128&d=identicon&r=PG", "display_name": "Nick Chan Abdullah", "link": "https://stackoverflow.com/users/697979/nick-chan-abdullah"}, "edited": false, "score": 0, "creation_date": 1565681203, "post_id": 56459534, "comment_id": 101418227, "body": "Hey @NickChanAbdullah, for me this line of code did the trick <code>global.XMLHttpRequest = require(&#39;xmlhttprequest&#39;).default;</code>"}], "owner": {"reputation": 344, "user_id": 4692302, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/bd0Ji.jpg?s=128&g=1", "display_name": "Neill", "link": "https://stackoverflow.com/users/4692302/neill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 269, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1615924001, "creation_date": 1559733835, "question_id": 56459534, "link": "https://stackoverflow.com/questions/56459534/include-xmlhttprequest-before-transpiling-typescript-code-using-webpack", "title": "Include XMLHttpRequest before transpiling typescript code using webpack", "body": "<p>Currently, I am developing a lambda function using Typescript and transpiling to Javascript using <code>webpack</code> and <code>bable-loader</code>.</p>\n\n<p>The transpilation works as expected and I get an Index.js file that I can upload to Lambda. However when I run the Lambda function I get the following error:</p>\n\n<pre><code>NetworkingError: XMLHttpRequest is not defined\n</code></pre>\n\n<p>I have read that node doesn't have all the build-in Javascript browser functions, so I need to add this package =><code>https://www.npmjs.com/package/xmlhttprequest</code></p>\n\n<p>And I add it to my project in this way:</p>\n\n<pre><code>var XMLHttpRequest = require(\"xmlhttprequest\").XMLHttpRequest;\n</code></pre>\n\n<p>But I still have the same problem. I am almost sure this is because XMLHttpRequest is being called from the dependencies that are being added to the Index.js file. So I think it is necessary to include the XMLHttpRequest module before the transpilation starts.</p>\n\n<p>this is my webpack.config.js</p>\n\n<pre><code>const path = require('path');\n\nmodule.exports = {\n  entry: './lib/index.ts',\n  output: {\n    filename: 'index.js',\n    path: path.resolve(__dirname, 'dist'),\n  },\n  target: 'node',\n  resolve: {\n    extensions: ['.ts', '.js'],\n    alias: {\n      'XMLHttpRequest': path.resolve(__dirname, './node_modules/xmlhttprequest')\n    }\n  },\n  module: {\n    rules: [\n      { \n        test: /\\.ts$/,\n        loader: 'babel-loader',\n        exclude: /node_modules/,\n        options: {\n          presets: [\n            [\n              '@babel/preset-env',\n              {\n                targets: {\n                  node: true,\n                },\n              },\n            ],\n            '@babel/preset-typescript',\n          ],\n        },\n      },\n    ],\n  },\n\n};\n</code></pre>\n\n<p>I am not sure if this is the correct way to resolve the XMLHttpRequest module</p>\n\n<pre><code>alias: {\n          'XMLHttpRequest': path.resolve(__dirname, './node_modules/xmlhttprequest')\n        }\n</code></pre>\n\n<p>I would really appreciate, if someone could help me to solve out this problem.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "window"], "comments": [{"owner": {"reputation": 1996, "user_id": 8634147, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-36eQ4qJ6F9o/AAAAAAAAAAI/AAAAAAAADZg/coKQfu-5HzM/photo.jpg?sz=128", "display_name": "Romain Deneau", "link": "https://stackoverflow.com/users/8634147/romain-deneau"}, "edited": false, "score": 0, "creation_date": 1559736259, "post_id": 56459295, "comment_id": 99511617, "body": "Perhaps a protection on YOTI object done somewhere. Try preserve <code>window.YOTI</code> and play with another variable, local or global like <code>window.yotiProxy</code>. To log call YOTI methods, you can use a Proxy with an apply handler: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy/handler/apply\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}], "owner": {"reputation": 5269, "user_id": 1395676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed24d975f0de19e8f131d9551cf39433?s=128&d=identicon&r=PG&f=1", "display_name": "sensei", "link": "https://stackoverflow.com/users/1395676/sensei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1559732943, "creation_date": 1559732943, "question_id": 56459295, "link": "https://stackoverflow.com/questions/56459295/how-to-object-defineproperty-on-custom-window-object-in-angular", "title": "How to Object.defineProperty on custom window object in Angular?", "body": "<p>For instance I have YOTI object injected into browser:</p>\n\n<p>When I run this in console:</p>\n\n<blockquote>\n<pre><code>window.YOTI\n</code></pre>\n</blockquote>\n\n<p>I get:</p>\n\n<pre><code>{onShare: \u0192, redirect: \u0192}\n</code></pre>\n\n<p>Then if I access redirect method I get this:</p>\n\n<blockquote>\n<pre><code>window.YOTI.redirect\n</code></pre>\n</blockquote>\n\n<pre><code>\u0192 (callbackUrl, token) {\n                var currentQuery =  window.location.search.replace('?','')\n                var currentFragment = window.location.hash\n                var separator = (callbackU\u2026\n</code></pre>\n\n<p>I want to modify this property in angular onInit() and I tried this from here(<a href=\"https://yoti.zendesk.com/hc/en-us/articles/360008958873-Does-the-Yoti-frontend-client-support-an-Angular-App-\" rel=\"nofollow noreferrer\">https://yoti.zendesk.com/hc/en-us/articles/360008958873-Does-the-Yoti-frontend-client-support-an-Angular-App-</a>):</p>\n\n<pre><code>const ytcontainer = {\n};\n\nObject.defineProperty(window, 'YOTI', {\n  get: () =&gt; ytcontainer.YOTI,\n\n  set: yoti =&gt; {\n    ytcontainer.YOTI = yoti;\n\n    Object.defineProperty(yoti, 'redirect', {\n      get: () =&gt; {\n        return (callbackUrl, token) =&gt; {\n          console.log(callbackUrl);\n          console.log(token);\n        };\n      },\n    });\n  },\n});\n</code></pre>\n\n<p>but after that, when I run window.YOTI I get undefined object.</p>\n\n<pre><code>window.YOTI\nundefined\n</code></pre>\n\n<p>What am I doing wrong here?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1559745585, "post_id": 56459293, "comment_id": 99517024, "body": "What do you mean, &quot;best&quot;? You have to change your file to use TypeScript semantics. See <a href=\"https://stackoverflow.com/q/35119668/215552\">Use class from CommonJS module in Typescript</a>. <a href=\"https://www.typescriptlang.org/docs/handbook/migrating-from-javascript.html#exporting-from-modules\" rel=\"nofollow noreferrer\">The TypeScript site also has plenty of information.</a>"}], "answers": [{"tags": [], "owner": {"reputation": 158222, "user_id": 871050, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/A9cyT.png?s=128&g=1", "display_name": "Madara&#39;s Ghost", "link": "https://stackoverflow.com/users/871050/madaras-ghost"}, "is_accepted": true, "score": 2, "last_activity_date": 1559745738, "creation_date": 1559745738, "answer_id": 56462807, "question_id": 56459293, "link": "https://stackoverflow.com/questions/56459293/what-is-best-aproach-to-migrate-module-exports-js-file-to-ts/56462807#56462807", "title": "What is best aproach to migrate &quot;module.exports&quot; js file to .ts", "body": "<p>You want to move things to <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules\" rel=\"nofollow noreferrer\">ES Modules</a>.</p>\n\n<p>There's no fun way to automatically move everything, but lucky for you, TypeScript supports the old <code>module.exports =</code> syntax as well, so you can migrate at your leisure.</p>\n\n<p>The main points of ES Modules:</p>\n\n<pre><code>// a.js\n\nmodule.exports = class Foo {}\n\n// b.js\nmodule.exports.one = 1;\nmodule.exports.two = true;\nmodule.exports.three = function three() {};\nmodule.exports.four = class Four {};\n\n// c.js\nconst Foo = require('./a');\nconst { one, two, three, four } = require('./b');\n// or \n// const bModule = require('./b');\n// bModule.three();\n</code></pre>\n\n<p>Becomes</p>\n\n<pre><code>// a.ts\nexport default class Foo {}\n\n// b.ts\nexport const one = 1;\nexport const two = true;\nexport function three() {};\nexport class Four {}\n\n// c.ts\nimport Foo from './a';\nimport { one, two, three, four } from './b';\n// or\n// import * as bModule from './b';\n// bModule.three();\n</code></pre>\n\n<h3>Things to know:</h3>\n\n<ul>\n<li>TypeScript has its own module and exports system from before the ECMAScript specs had one (<code>export = something</code> and <code>import x = require()</code>), you should not use them in new projects.</li>\n<li>TypeScript has a concept of \"namespace\" to support the old patterns of using IIFEs and named objects to emulate modules, you should not use them in new projects.</li>\n<li><code>module.exports = whatever</code> and <code>export default whatever</code> are not strictly equivalent, you have to refactor all of the <code>module.exports</code> as well as the corresponding <code>require()</code> calls.</li>\n</ul>\n"}], "owner": {"reputation": 2421, "user_id": 919023, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8dc9e51d605b58d9aa0ccb94eaa08900?s=128&d=identicon&r=PG", "display_name": "mbrc", "link": "https://stackoverflow.com/users/919023/mbrc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 56462807, "answer_count": 1, "score": 1, "last_activity_date": 1559745738, "creation_date": 1559732936, "question_id": 56459293, "link": "https://stackoverflow.com/questions/56459293/what-is-best-aproach-to-migrate-module-exports-js-file-to-ts", "title": "What is best aproach to migrate &quot;module.exports&quot; js file to .ts", "body": "<p>I saw many examples how to migrate .js to .ts but I still don't knopw what is best aproach to migrate module.</p>\n\n<p>Example:</p>\n\n<pre><code>'use strict';\n\nmodule.exports = class Ticker {\n  private time: any;\n\n  constructor(lookbacks) {\n    this.time = lookbacks;\n  }\n};\n</code></pre>\n\n<p>Thank you</p>\n"}, {"tags": ["typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 2952, "user_id": 5126411, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/f4a4063133bf89a8b37b3a85bbc72e13?s=128&d=identicon&r=PG&f=1", "display_name": "Roman Koliada", "link": "https://stackoverflow.com/users/5126411/roman-koliada"}, "edited": false, "score": 2, "creation_date": 1559732433, "post_id": 56459008, "comment_id": 99509852, "body": "Type is a static concept. Let&#39;s assume that you somehow defined your type like: <code>type IconMapMember = &#39;angleDoubleRight&#39; | &#39;angleRight&#39;|... </code> then what are you going to do after adding a new property to the <code>iconMap</code> object? Types cannot be modified in runtime, they are for compile time."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1559751137, "post_id": 56459008, "comment_id": 99520156, "body": "This all comes down to what you mean by &quot;dynamically&quot;.  If you mean &quot;at runtime&quot;, then you can&#39;t do much.  If you mean &quot;programmatically in some build step that occurs before the TypeScript compiler runs&quot;, or even &quot;in some other user-written code that the compiler can see&quot;, then you can do something about it."}], "answers": [{"comments": [{"owner": {"reputation": 120, "user_id": 3556945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac19c6a7c950b5ff678779878a5e0acb?s=128&d=identicon&r=PG&f=1", "display_name": "YarinDekel", "link": "https://stackoverflow.com/users/3556945/yarindekel"}, "edited": false, "score": 0, "creation_date": 1559806981, "post_id": 56464284, "comment_id": 99536542, "body": "You are right, I was having troubles cause I got iconMap object as a JSON.. Thanks!"}, {"owner": {"reputation": 66, "user_id": 13426412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d82cb265337e2b06ff57f633ee5510?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Muresanu", "link": "https://stackoverflow.com/users/13426412/victor-muresanu"}, "edited": false, "score": 0, "creation_date": 1613573624, "post_id": 56464284, "comment_id": 117116710, "body": "Thanks a lot. <code>keyof typeof constant</code> is what I was looking for!"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 7, "last_activity_date": 1559751034, "creation_date": 1559751034, "answer_id": 56464284, "question_id": 56459008, "link": "https://stackoverflow.com/questions/56459008/create-a-type-from-object-keys-dynamically/56464284#56464284", "title": "Create a type from object keys dynamically", "body": "<p>In your question you say you can't use <code>keyof</code>, but I'm not sure why.  If you have an object whose keys are known at compile time (meaning that the <code>iconMap</code> variable is generated <em>before</em> you compile TypeScript code that uses it), you can use the <code>typeof</code> <a href=\"https://github.com/Microsoft/TypeScript/blob/master/doc/spec.md#3.8.10\" rel=\"noreferrer\">type query operator</a> to get its type, and then use <code>keyof</code> on that:</p>\n\n<pre><code>const iconMap = {\n  angleDoubleRight: \"angleDoubleRight.svg\",\n  angleRight: \"angleRight.svg\",\n  assets: \"assets.svg\",\n  barChart: \"barChart.svg\",\n  cancel: \"cancel.svg\",\n  chevronDown: \"chevronDown.svg\",\n  dotChart: \"dotChart.svg\",\n  dotMenu: \"dotMenu.svg\",\n  horizontalDots: \"horizontalDots.svg\"\n  //...\n};\n\ntype IconMapMember = keyof typeof iconMap;\n// type IconMapMember = \"angleDoubleRight\" | \"angleRight\" | \"assets\" | \"barChart\" \n// | \"cancel\" | \"chevronDown\" | \"dotChart\" | \"dotMenu\" | \"horizontalDots\" ...\n</code></pre>\n\n<p><a href=\"https://typescript-play.js.org/#code/MYewdgzgLgBAlqMBZAhgBxgXhgbwFAwwpgDmANgKYAiIArgEaUBKcJAFlAFwwBEx51Oowot2UAHQQAbiR4AaAkVLNWHbn2UjVE6bIWEUECBSgR1h46ckz5i+igBOAYTaOuve89cOdN-TGBiYAoydUCwYLJrPUVgNgopB3AaAHcwMPjE5JA06NtCABMQKBc3dSKS718YwuKkCjBacrqG2jz-NhAHOAAvcCgUMhpTdU7uvrABoeKIPMUAennxZbwAXwBuPDwoAE80ChgASURUNHqAW3oKBywYAGsKHZAAMxhd-Zf4E-RNxbe9g7HcCnC5XG7YDQCGgMFRiHgwAA+vH4sI48KRfCMJgg6I8jlKPnheD+GPCkVxPDiCSSYFSYApFQJUAZLUaFLGvX6g2GOJgy3EeCAA\" rel=\"noreferrer\">Link to code</a></p>\n\n<p>If you have some particular issue which prevents this solution from working, please update your question with more details about your build process.  Hope this helps; good luck!</p>\n"}], "owner": {"reputation": 120, "user_id": 3556945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac19c6a7c950b5ff678779878a5e0acb?s=128&d=identicon&r=PG&f=1", "display_name": "YarinDekel", "link": "https://stackoverflow.com/users/3556945/yarindekel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1250, "favorite_count": 0, "accepted_answer_id": 56464284, "answer_count": 1, "score": 2, "last_activity_date": 1559751034, "creation_date": 1559731813, "question_id": 56459008, "link": "https://stackoverflow.com/questions/56459008/create-a-type-from-object-keys-dynamically", "title": "Create a type from object keys dynamically", "body": "<p>I have an icon-Map.json which is being created dynamically. Example:</p>\n\n<pre><code>const iconMap = {\n    angleDoubleRight: 'angleDoubleRight.svg',\n    angleRight: 'angleRight.svg',\n    assets: 'assets.svg',\n    barChart: 'barChart.svg',\n    cancel: 'cancel.svg',\n    chevronDown: 'chevronDown.svg',\n    dotChart: 'dotChart.svg',\n    dotMenu: 'dotMenu.svg',\n    horizontalDots: 'horizontalDots.svg'\n    ...\n\n};\n</code></pre>\n\n<ul>\n<li><p>I can't create an interface manually from this object because I'm creating it dynamically so I can't use keyof.</p></li>\n<li><p>Eventually, I want to create a type of iconMap's keys which I can use outside a component and it will strict my input to iconMap's keys only. (union or enum):</p></li>\n</ul>\n\n<pre><code> type IconMapMember = 'angleDoubleRight' | 'angleRight' | 'assets' | ....\n</code></pre>\n"}, {"tags": ["typescript", "thread-safety", "angular7", "asp.net-core-webapi"], "comments": [{"owner": {"reputation": 706, "user_id": 3320702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7c9b7ac64b2b4313d0dccbc7a9c57ca?s=128&d=identicon&r=PG&f=1", "display_name": "MrPromethee", "link": "https://stackoverflow.com/users/3320702/mrpromethee"}, "edited": false, "score": 0, "creation_date": 1559736405, "post_id": 56458984, "comment_id": 99511687, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/51237613/use-thread-in-angular-5\">Use thread in Angular 5</a>"}, {"owner": {"reputation": 1813, "user_id": 2397707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/MGJnu.jpg?s=128&g=1", "display_name": "Jinish", "link": "https://stackoverflow.com/users/2397707/jinish"}, "edited": false, "score": 0, "creation_date": 1559741700, "post_id": 56458984, "comment_id": 99514690, "body": "You should be using the rxjs library and using Subsriptions. Have a look here: <a href=\"https://angular.io/guide/rx-library\" rel=\"nofollow noreferrer\">angular.io/guide/rx-library</a>"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 7403566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48a1a6d7595cddcd29ec80498fdbf9f0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraj", "link": "https://stackoverflow.com/users/7403566/nagaraj"}, "edited": false, "score": 0, "creation_date": 1559817112, "post_id": 56471528, "comment_id": 99541716, "body": "Nice \\o/. it&#39;s working. this what I am looking for thanks @Xing Zou :-)"}], "tags": [], "owner": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "is_accepted": true, "score": 0, "last_activity_date": 1559800106, "creation_date": 1559800106, "answer_id": 56471528, "question_id": 56458984, "link": "https://stackoverflow.com/questions/56458984/call-webapi-method-in-thread/56471528#56471528", "title": "Call WebAPI method in thread", "body": "<p>You could use <code>setInterval()</code> to call the api repeatedly  and <code>clearInterval()</code> to stop it.For example, </p>\n\n<pre><code>startTimer() {\n  this.interval = setInterval(() =&gt; {\n    this.http.get&lt;WeatherForecast[]&gt;('https://localhost:44360/api/SampleData/WeatherForecasts').subscribe(result =&gt; {\n      //do things\n    }, error =&gt; console.error(error));\n}, 1000)//repeat every sceond\n\npauseTimer() {\n    clearInterval(this.interval);\n}\n</code></pre>\n\n<p>Refer to <a href=\"https://stackoverflow.com/questions/50455347/how-to-do-a-timer-in-angular-5\">How to do a timer in Angular 5</a>, \n<a href=\"https://stackoverflow.com/questions/50585764/angular-6-run-method-is-service-every-10-seconds\">Angular 6 - run method is service every 10 seconds</a></p>\n"}], "owner": {"reputation": 45, "user_id": 7403566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48a1a6d7595cddcd29ec80498fdbf9f0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraj", "link": "https://stackoverflow.com/users/7403566/nagaraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 56471528, "answer_count": 1, "score": 0, "last_activity_date": 1559800106, "creation_date": 1559731712, "last_edit_date": 1559737161, "question_id": 56458984, "link": "https://stackoverflow.com/questions/56458984/call-webapi-method-in-thread", "title": "Call WebAPI method in thread", "body": "<p>I have an <code>Angular7</code> client application which consumes a webAPI. I want to call a webAPI method again and again, and I want to display the output of that API method call on UI on each call.</p>\n\n<p>If I do this using a while loop I won't be able to display continuously and the application will get hang. So decided to do this with thread but I don't know how to implement thread in <code>TypeScript</code>.</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 32538, "user_id": 906113, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/eccce05f2ea328d45afe24843e009d25?s=128&d=identicon&r=PG", "display_name": "str", "link": "https://stackoverflow.com/users/906113/str"}, "edited": false, "score": 0, "creation_date": 1559729777, "post_id": 56458486, "comment_id": 99508715, "body": "Read <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some\" rel=\"nofollow noreferrer\"><code>Array\u200b.prototype\u200b.some()</code></a>."}], "answers": [{"tags": [], "owner": {"reputation": 10662, "user_id": 1959054, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/fdf89c4b3b6f44a6b324e670fb9461aa?s=128&d=identicon&r=PG", "display_name": "TKoL", "link": "https://stackoverflow.com/users/1959054/tkol"}, "is_accepted": false, "score": 1, "last_activity_date": 1559729742, "creation_date": 1559729742, "answer_id": 56458518, "question_id": 56458486, "link": "https://stackoverflow.com/questions/56458486/search-array-for-at-least-1-match-and-return-true/56458518#56458518", "title": "Search array for at least 1 match and return true", "body": "<p>You've got the right function, you're just using it wrong.</p>\n\n<pre><code>this.modalData.hasKey = this.modalData.columnPermissions.some(function (item) {\n  return item.isKey;\n});\n</code></pre>\n\n<p>The 'some' function takes the return value and STOPS RUNNING as soon as one is true.</p>\n\n<p>The 'every' function takes the return value and stops running as soon as one is false.</p>\n"}, {"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": true, "score": 1, "last_activity_date": 1559729750, "creation_date": 1559729750, "answer_id": 56458525, "question_id": 56458486, "link": "https://stackoverflow.com/questions/56458486/search-array-for-at-least-1-match-and-return-true/56458525#56458525", "title": "Search array for at least 1 match and return true", "body": "<p>You could assign the result of <code>some</code> directly.</p>\n\n<pre><code>checkKeys() {\n    this.modalData.hasKey = this.modalData.columnPermissions.some(function (item) {\n        return item.isKey;\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 10716785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d255acb926243c3d00a8698c42c17588?s=128&d=identicon&r=PG&f=1", "display_name": "Jono", "link": "https://stackoverflow.com/users/10716785/jono"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 56458525, "answer_count": 2, "score": 2, "last_activity_date": 1559729750, "creation_date": 1559729625, "question_id": 56458486, "link": "https://stackoverflow.com/questions/56458486/search-array-for-at-least-1-match-and-return-true", "title": "Search array for at least 1 match and return true", "body": "<p>I need to test my JSON response to ensure at least 1 object contains a value of isKey:true at which point a global variable of hasKey is set to true.</p>\n\n<p>I believe the SOME method would help in this situation but it seems to only test on a local level so if I console.log I get: true,false, true,true... etc </p>\n\n<p>I just want a definitive true or false against the whole model.</p>\n\n<p>Below you can see the basis of a working function, but I don't believe it is efficient so any advice is appreciated in improving this.</p>\n\n<pre><code> checkKeys() {\n\n    let checkTest: boolean = false;\n\n    this.modalData.columnPermissions.some(function (item) {\n\n      if (item.isKey) {\n        checkTest = true;\n      }\n    });\n\n    this.modalData.hasKey = checkTest;\n\n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic3"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1559729492, "post_id": 56458414, "comment_id": 99508594, "body": "Untouched controls are validated but don&#39;t display the errors. This means you can use the logic to control your form, but if the user doesn&#39;t at least touch the form, then he can not see the errors. I haven&#39;t grasped your question : do you want to see the errors at form group creation ?"}, {"owner": {"reputation": 3394, "user_id": 7727583, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iVG54.jpg?s=128&g=1", "display_name": "Yannic Hamann", "link": "https://stackoverflow.com/users/7727583/yannic-hamann"}, "edited": false, "score": 0, "creation_date": 1559729594, "post_id": 56458414, "comment_id": 99508639, "body": "My question is simply why do I have to tap the control TWICE to see the red border?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1559729634, "post_id": 56458414, "comment_id": 99508662, "body": "You have to enter &amp; leave, as explained in my previous comment. If this is not the case, then please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> reproducing this issue."}, {"owner": {"reputation": 3394, "user_id": 7727583, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iVG54.jpg?s=128&g=1", "display_name": "Yannic Hamann", "link": "https://stackoverflow.com/users/7727583/yannic-hamann"}, "edited": false, "score": 0, "creation_date": 1559729745, "post_id": 56458414, "comment_id": 99508706, "body": "The minimal reproducible example is already in my post. I am using ionic 3.9.5."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1559729828, "post_id": 56458414, "comment_id": 99508741, "body": "a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is a <b>reproduction</b> of the issue on a sandbox such as stackblitz. If you don&#39;t want to provide it, then fine, I&#39;ll answer based on your provided code : there&#39;s no issue with it. Helpful, isn&#39;t it :)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1559730165, "post_id": 56458414, "comment_id": 99508900, "body": "I wouldn&#39;t say oldschool, and to be honest you provided more code than 99% of the people asking a question. The main issue here is that Angular is an UI framework, and without an UI reproduction, we can&#39;t really tell you what&#39;s wrong (because as said, your code is excellent). Besides, most of the time, recreating the issue on a sandbox shows you the error you probably have made, so you simply resolve your issue yourself !"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1559730969, "post_id": 56458798, "comment_id": 99509248, "body": "You can probably make a directive to manage this touched issue, but I think the most productive way of resolving that would be to open an issue on the Ionic repository."}, {"owner": {"reputation": 3394, "user_id": 7727583, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iVG54.jpg?s=128&g=1", "display_name": "Yannic Hamann", "link": "https://stackoverflow.com/users/7727583/yannic-hamann"}, "edited": false, "score": 0, "creation_date": 1559731116, "post_id": 56458798, "comment_id": 99509299, "body": "Interesting, thanks for your help and suggestions. Leaving this unanswered for now. Maybe someone else has some other ideas or suggestions."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 3394, "user_id": 7727583, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iVG54.jpg?s=128&g=1", "display_name": "Yannic Hamann", "link": "https://stackoverflow.com/users/7727583/yannic-hamann"}, "edited": false, "score": 0, "creation_date": 1559731159, "post_id": 56458798, "comment_id": 99509313, "body": "No problem, but still, post an issue on their repo, you might even get an answer to that !"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 3, "last_activity_date": 1559730913, "creation_date": 1559730913, "answer_id": 56458798, "question_id": 56458414, "link": "https://stackoverflow.com/questions/56458414/ion-input-validation-ng-invalid-control-remains-ng-untouched-have-to-desel/56458798#56458798", "title": "ion-input Validation (ng-invalid) / Control Remains ng-untouched - Have to Deselect Twice", "body": "<p>Inspected the input and found the issue. </p>\n\n<p>This is the structure of your page, and the ionic item : <a href=\"https://i.stack.imgur.com/8n2Jq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8n2Jq.png\" alt=\"enter image description here\"></a></p>\n\n<p>The border comes from the <code>.item-inner</code> div. The selector is </p>\n\n<pre><code>.item-md.item-input.ng-invalid.ng-touched:not(.input-has-focus):not(.item-input-has-focus) .item-inner\n</code></pre>\n\n<p>When you click for the first time, the classes of the <code>&lt;ion-item&gt;</code> are </p>\n\n<pre><code>item item-block item-md item-input item-label-floating ng-untouched ng-pristine ng-invalid\n</code></pre>\n\n<p>And on the second time, they are </p>\n\n<pre><code>item item-block item-md item-input item-label-floating ng-pristine ng-invalid ng-touched\n</code></pre>\n\n<p>As you can see, on the first click, the item remains <code>untouched</code>. The selector asks for a <code>touched</code> control. </p>\n\n<p>Although I don't know why it happens, I can definitely tell you that it's an Ionic error. I don't know how to resolve it, except by explicitely marking it as touched through </p>\n\n<pre><code> (focus)=\"formGroup.get('name').markAsTouched()\"\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/ionic-hwe7ig?file=pages/home/home.html\" rel=\"nofollow noreferrer\">Here is the working demo</a></p>\n"}], "owner": {"reputation": 3394, "user_id": 7727583, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iVG54.jpg?s=128&g=1", "display_name": "Yannic Hamann", "link": "https://stackoverflow.com/users/7727583/yannic-hamann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2038, "favorite_count": 1, "accepted_answer_id": 56458798, "answer_count": 1, "score": 1, "last_activity_date": 1559787757, "creation_date": 1559729348, "last_edit_date": 1559787757, "question_id": 56458414, "link": "https://stackoverflow.com/questions/56458414/ion-input-validation-ng-invalid-control-remains-ng-untouched-have-to-desel", "title": "ion-input Validation (ng-invalid) / Control Remains ng-untouched - Have to Deselect Twice", "body": "<p>I am applying an <code>Angular</code> reactive form to a blank <code>Ionic</code> project. My template utilizes the OOTB <code>ion-input</code> component as described in the documentation. By default, the visual indicator for an invalid user input is a red border on the bottom of this element - set through the <code>CSS</code> rules of the <code>ng-invalid</code> class:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Oqy7l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Oqy7l.png\" alt=\"enter image description here\"></a></p>\n\n<p>For a reason unknown to me, I have to select and <em>deselect</em> the control <strong>twice</strong> to trigger the desired behavior. Why?</p>\n\n<p>On the other hand it seems that the validators have recognized instantly that the value of the input is not valid. Why is this not happening for the <code>ion-input</code> and how can I get the red border on the first <em>deselect</em> in a not too hacky way?</p>\n\n<pre><code>export class HomePage {\n  formGroup : FormGroup;\n  get name() { return this.formGroup.get('name'); }\n\n  constructor(public formBuilder: FormBuilder) {\n    this.formGroup = this.formBuilder.group({\n      name: ['', [Validators.required, Validators.minLength(2), Validators.maxLength(30)]]\n    });\n  }\n}\n</code></pre>\n\n<p>Template:</p>\n\n<pre><code>&lt;form [formGroup]=\"formGroup\"&gt;\n    &lt;ion-item&gt;\n      &lt;ion-label floating&gt;Name&lt;/ion-label&gt;\n      &lt;ion-input type=\"text\" formControlName=\"name\"&gt;&lt;/ion-input&gt;\n    &lt;/ion-item&gt;\n    &lt;p *ngIf=\"name.errors?.required &amp;&amp; name.touched\" class='text-danger'&gt;Name field is required&lt;/p&gt;\n    &lt;p *ngIf=\"name.errors?.minlength\" class='text-danger'&gt;Name must be at least 2 characters&lt;/p&gt;\n    &lt;p *ngIf=\"name.errors?.maxlength\" class='text-danger'&gt;Name must be less than 30 characters&lt;/p&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>My ionic version is: <code>ionic-angular 3.9.5</code>, unwanted behavior:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Nu4gV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nu4gV.png\" alt=\"enter image description here\"></a></p>\n\n<p>Link: <a href=\"https://stackblitz.com/edit/ionic-rvtvrt?file=pages%2Fhome%2Fhome.html\" rel=\"nofollow noreferrer\">Stackblitz Example Project</a></p>\n"}, {"tags": ["typescript", "interface"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1559751964, "post_id": 56458381, "comment_id": 99520573, "body": "Welcome to Stack Overflow!  I unfortunately don&#39;t understand what you mean by &quot;redefine&quot; or &quot;generic array&quot;... if the answers here don&#39;t meet your needs, please consider <a href=\"https://stackoverflow.com/help/how-to-ask\">editing your question</a> to be more clear.   Good luck!"}], "answers": [{"tags": [], "owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "is_accepted": false, "score": 2, "last_activity_date": 1559732458, "creation_date": 1559732458, "answer_id": 56459173, "question_id": 56458381, "link": "https://stackoverflow.com/questions/56458381/typescript-can-i-redefine-t-in-arrayt-in-interface/56459173#56459173", "title": "typescript can i redefine T in Array&lt;T&gt; in interface", "body": "<p>It's not clear why you want to use generics? If your school interface also needs a student type you can declare another interface:</p>\n\n<pre><code>interface School {\n    name: string;\n    students: Student[];\n}\n\ninterface Student {\n    student_id: number;\n    student_name: string;\n}\n\nlet s:School = {\n    name:\"too cool for school\",\n    students: [\n        { \n           student_id:3,\n           student_name:\"Joe\"\n        }\n    ]\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 0, "last_activity_date": 1559751815, "creation_date": 1559751815, "answer_id": 56464471, "question_id": 56458381, "link": "https://stackoverflow.com/questions/56458381/typescript-can-i-redefine-t-in-arrayt-in-interface/56464471#56464471", "title": "typescript can i redefine T in Array&lt;T&gt; in interface", "body": "<p>You can get the <code>Student</code> type of school by <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#keyof-and-lookup-types\" rel=\"nofollow noreferrer\">looking up</a> the <code>\"student\"</code> property of <code>School</code>, which is an array type, and then the <code>number</code> property of that array type, like this:</p>\n\n<pre><code>export interface School {\n  name: string;\n  student: {\n    student_id: number;\n    student_name: string;\n  }[];\n}\n\ntype Student = School[\"student\"][number];\n// type Student = {\n//    student_id: number;\n//    student_name: string;\n// }\n</code></pre>\n\n<p>If the <code>number</code> is confusing to you, imagine you had a variable <code>school</code> of type <code>School</code>, a variable <code>studentKey</code> of the string literal type <code>\"student\"</code>, and a variable <code>numberKey</code> of type <code>number</code>:</p>\n\n<pre><code>declare const school: School;\ndeclare const studentKey: \"student\";\ndeclare const numberKey: number;\n</code></pre>\n\n<p>Then you'd expect that <code>school[studentKey][numberKey]</code> would be a <code>Student</code>:</p>\n\n<pre><code>const student: Student = school[studentKey][numberKey]; // okay\n</code></pre>\n\n<p>And the type of <code>school[studentKey][numberKey]</code> is just <code>School[\"student\"][number]</code>, which is what you're calling <code>Student</code>.</p>\n\n<p><a href=\"https://typescript-play.js.org/#code/KYDwDg9gTgLgBASwHY2FAZgQwMbDgZWwAsIIAbOAbwCg44lMBbYALjgGcYpkBzAblocYAVwAmwFGxp06nMRJgB9BKLZJhjAEZoBMofJSKGzNp25J+ggL4BtALoCr1ajACeYPPhHiUcALwExKRkNgBEcj4woXY26lpoDtQA9Elwbh4E3gr+VMmpMhEKyqr0GtpQAil6hYbGrELmllVO1OLYZJhQeNgQSJwcQeRshCTkAm0dXXA9ffA1MADSwK5s4VkooePA7Z3dvf1x5UsrpfEV1DP988Pr8AHsgyHzxzGHaC98cFUQANaYrkA\" rel=\"nofollow noreferrer\">Link to code</a>.</p>\n\n<p>Of course it's more conventional to define <code>Student</code> first and then define <code>School</code> in terms of it, so unless you <em>need</em> to define <code>School</code> first and pull <code>Student</code> out of it, I'd follow <a href=\"https://stackoverflow.com/a/56459173/2887218\">@Kokodoko's advice</a>.</p>\n\n<p>Hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 3, "user_id": 11603484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb228b1b2909e79aaf1e5d47250a62a0?s=128&d=identicon&r=PG&f=1", "display_name": "nyangudck", "link": "https://stackoverflow.com/users/11603484/nyangudck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 56464471, "answer_count": 2, "score": 0, "last_activity_date": 1559751815, "creation_date": 1559729222, "last_edit_date": 1559742287, "question_id": 56458381, "link": "https://stackoverflow.com/questions/56458381/typescript-can-i-redefine-t-in-arrayt-in-interface", "title": "typescript can i redefine T in Array&lt;T&gt; in interface", "body": "<p>I have an interface file like below.</p>\n\n<p>I want to redefine the type Student using that interface.</p>\n\n<pre><code>export interface School{\n    name: string;\n    student: {\n        student_id: number;\n        student_name: string;\n    }[];\n}\n\ntype Student = ... (student_id: number, student_name)\n</code></pre>\n\n<p>So, I tried this:</p>\n\n<pre><code>type Student = Pick&lt;School, \"student\"&gt;[\"student\"]\n==&gt;\n#Student = {\n#   student_id: number;\n#   student_name: string;\n#}[]\n</code></pre>\n\n<p>But it is an array and not a generic array.</p>\n\n<p>In that case, how can I define school object? </p>\n"}, {"tags": ["html", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 477, "user_id": 4664207, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/071d17a9e1c675598fe1f81e1b4d4037?s=128&d=identicon&r=PG&f=1", "display_name": "jones-chris", "link": "https://stackoverflow.com/users/4664207/jones-chris"}, "edited": false, "score": 0, "creation_date": 1562536618, "post_id": 56475277, "comment_id": 100394422, "body": "Thank you!  Would have taken forever to figure that out!!"}], "tags": [], "owner": {"reputation": 176, "user_id": 11608474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5da6d3e64100adbc0a30bc6e0f4b5e1e?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/11608474/michael"}, "is_accepted": true, "score": 16, "last_activity_date": 1559815346, "creation_date": 1559815346, "answer_id": 56475277, "question_id": 56458375, "link": "https://stackoverflow.com/questions/56458375/i-started-getting-export-was-not-found-in-angular-core-after-uninstalling/56475277#56475277", "title": "I started getting &quot;export was not found in &#39;@angular/core&#39; &quot; after uninstalling then reinstalling a package", "body": "<p>\"@angular/cdk\": \"^8.0.0\", should be changed to a version matching the version of angular you are running.</p>\n\n<p>Should be ^6.x.x or ^7.x.x</p>\n\n<p>I think ^8.x.x only works with angular 8.</p>\n"}], "owner": {"reputation": 355, "user_id": 11552793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e016554033279c1f8f3ca69c964c2683?s=128&d=identicon&r=PG&f=1", "display_name": "i&#39;mgnome", "link": "https://stackoverflow.com/users/11552793/imgnome"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12588, "favorite_count": 1, "accepted_answer_id": 56475277, "answer_count": 1, "score": 11, "last_activity_date": 1559815346, "creation_date": 1559729165, "question_id": 56458375, "link": "https://stackoverflow.com/questions/56458375/i-started-getting-export-was-not-found-in-angular-core-after-uninstalling", "title": "I started getting &quot;export was not found in &#39;@angular/core&#39; &quot; after uninstalling then reinstalling a package", "body": "<p>I have a project which was working perfectly except for some minor error when using <a href=\"https://github.com/akveo/nebular\" rel=\"noreferrer\">@nebular</a> and angular material's dialog and pagination so I thought I might fix it if i uninstall then reinstall those packages but I got an even worse error and my project doesn't work anymore.</p>\n\n<p>I even tried updating typescript and uninstalling those packages but i'm still getting this error</p>\n\n<p>Here's the error:</p>\n\n<blockquote>\n  <p>WARNING in ./node_modules/@angular/cdk/esm5/overlay.es5.js 5042:68-86\n  \"export '\u0275\u0275defineInjectable' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@nebular/theme/fesm5/index.js 1026:41-59\n  \"export '\u0275\u0275defineInjectable' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@nebular/theme/fesm5/index.js 1771:46-64\n  \"export '\u0275\u0275defineInjectable' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/observers.es5.js 195:57-75\n  \"export '\u0275\u0275defineInjectable' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/observers.es5.js 38:65-83\n  \"export '\u0275\u0275defineInjectable' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/scrolling.es5.js 2338:55-73\n  \"export '\u0275\u0275defineInjectable' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/scrolling.es5.js 663:58-76\n  \"export '\u0275\u0275defineInjectable' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/a11y.es5.js 2956:54-72\n  \"export '\u0275\u0275defineInjectable' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@nebular/theme/fesm5/index.js 2338:38-56\n  \"export '\u0275\u0275defineInjectable' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/bidi.es5.js 91:56-74\n  \"export '\u0275\u0275defineInjectable' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/a11y.es5.js 2324:55-73\n  \"export '\u0275\u0275defineInjectable' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/platform.es5.js 102:50-68\n  \"export '\u0275\u0275defineInjectable' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/a11y.es5.js 2038:58-76\n  \"export '\u0275\u0275defineInjectable' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/overlay.es5.js 527:63-81\n  \"export '\u0275\u0275defineInjectable' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/a11y.es5.js 1361:62-80\n  \"export '\u0275\u0275defineInjectable' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/a11y.es5.js 456:55-73\n  \"export '\u0275\u0275defineInjectable' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/overlay.es5.js 4167:64-82\n  \"export '\u0275\u0275defineInjectable' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/overlay.es5.js 930:58-76\n  \"export '\u0275\u0275defineInjectable' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/overlay.es5.js 824:67-85\n  \"export '\u0275\u0275defineInjectable' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/collections.es5.js 524:67-85\n  \"export '\u0275\u0275defineInjectable' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/overlay.es5.js 824:181-189\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/overlay.es5.js 930:154-162\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/overlay.es5.js 527:222-230\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/overlay.es5.js 4167:172-180\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/overlay.es5.js 4167:197-205\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/overlay.es5.js 4167:217-225\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/overlay.es5.js 4167:237-245\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@nebular/theme/fesm5/index.js 1026:141-149\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/overlay.es5.js 5042:184-192\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/overlay.es5.js 527:197-205\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/a11y.es5.js 456:145-153\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/overlay.es5.js 527:169-177\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/a11y.es5.js 1361:166-174\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/platform.es5.js 102:130-138\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/a11y.es5.js 2038:154-162\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/a11y.es5.js 2038:186-194\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/a11y.es5.js 2038:204-212\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/overlay.es5.js 527:240-248\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/a11y.es5.js 2324:145-153\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/a11y.es5.js 2324:188-196\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/a11y.es5.js 2324:206-214\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/a11y.es5.js 2324:226-234\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@nebular/theme/fesm5/index.js 1771:271-279\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/a11y.es5.js 2956:142-150\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/a11y.es5.js 2956:160-168\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@nebular/theme/fesm5/index.js 1771:253-261\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/scrolling.es5.js 663:154-162\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/scrolling.es5.js 663:172-180\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@nebular/theme/fesm5/index.js 1771:219-227\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/scrolling.es5.js 2338:145-153\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/scrolling.es5.js 2338:165-173\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@nebular/theme/fesm5/index.js 1771:189-197\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@nebular/theme/fesm5/index.js 1771:156-164\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/observers.es5.js 195:151-159\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n  \n  <p>WARNING in ./node_modules/@angular/cdk/esm5/bidi.es5.js 91:148-156\n  \"export '\u0275\u0275inject' was not found in '@angular/core'</p>\n</blockquote>\n\n<p>Here's my package.json:</p>\n\n<pre><code>{\n  \"name\": \"star-admin-angular\",\n  \"version\": \"0.0.0\",\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve\",\n    \"build\": \"ng build\",\n    \"test\": \"ng test\",\n    \"lint\": \"ng lint\",\n    \"e2e\": \"ng e2e\"\n },\n \"private\": true,\n \"dependencies\": {\n   \"@angular-devkit/build-angular\": \"^0.12.4\",\n   \"@angular/animations\": \"^6.1.0\",\n   \"@angular/cdk\": \"^8.0.0\",\n   \"@angular/common\": \"^6.1.0\",\n   \"@angular/compiler\": \"^6.1.0\",\n   \"@angular/core\": \"^6.1.0\",\n   \"@angular/forms\": \"^6.1.0\",\n   \"@angular/http\": \"^6.1.0\",\n   \"@angular/material\": \"^8.0.0\",\n   \"@angular/platform-browser\": \"^6.1.0\",\n   \"@angular/platform-browser-dynamic\": \"^6.1.0\",\n   \"@angular/router\": \"^6.1.0\",\n   \"@nebular/auth\": \"^4.0.0\",\n   \"@nebular/bootstrap\": \"^4.0.0\",\n   \"@nebular/security\": \"^4.0.0\",\n   \"@nebular/theme\": \"^4.0.0\",\n   \"@ng-bootstrap/ng-bootstrap\": \"^3.3.0\",\n   \"bootstrap\": \"^4.3.1\",\n   \"compass-mixins\": \"^0.12.10\",\n   \"core-js\": \"^2.5.4\",\n   \"font-awesome\": \"^4.7.0\",\n   \"mdi\": \"^2.2.43\",\n   \"rxjs\": \"~6.2.0\",\n   \"rxjs-compat\": \"^6.3.3\",\n   \"zone.js\": \"~0.8.26\"\n },\n \"devDependencies\": {\n\"@angular/cli\": \"~6.2.5\",\n\"@angular/compiler-cli\": \"^6.1.0\",\n\"@angular/language-service\": \"^6.1.0\",\n\"@types/jasmine\": \"~2.8.8\",\n\"@types/jasminewd2\": \"~2.0.3\",\n\"@types/node\": \"~8.9.4\",\n\"codelyzer\": \"~4.3.0\",\n\"file-loader\": \"^2.0.0\",\n\"jasmine-core\": \"~2.99.1\",\n\"jasmine-spec-reporter\": \"~4.2.1\",\n\"karma\": \"~3.0.0\",\n\"karma-chrome-launcher\": \"~2.2.0\",\n\"karma-coverage-istanbul-reporter\": \"~2.0.1\",\n\"karma-jasmine\": \"~1.1.2\",\n\"karma-jasmine-html-reporter\": \"^0.2.2\",\n\"protractor\": \"~5.4.0\",\n\"sass-loader\": \"^7.1.0\",\n\"ts-node\": \"~7.0.0\",\n\"tslint\": \"~5.11.0\",\n\"typescript\": \"~2.9.2\"\n}\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1559728905, "post_id": 56458246, "comment_id": 99508326, "body": "Provide HTML code or stackblitz code example"}, {"owner": {"reputation": 4347, "user_id": 8163773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bUfz9.png?s=128&g=1", "display_name": "Arseniy-II", "link": "https://stackoverflow.com/users/8163773/arseniy-ii"}, "edited": false, "score": 0, "creation_date": 1559729010, "post_id": 56458246, "comment_id": 99508375, "body": "You can&#39;t block new tab opening. I don&#39;t know what you mean by taskbar. But you have <b>almost</b> no access to anything outside your browser window."}, {"owner": {"reputation": 11, "user_id": 8971961, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0TNxwuitaKk/AAAAAAAAAAI/AAAAAAAAAIY/VSIZMZkomsY/photo.jpg?sz=128", "display_name": "Angular doubt", "link": "https://stackoverflow.com/users/8971961/angular-doubt"}, "edited": false, "score": 0, "creation_date": 1559729096, "post_id": 56458246, "comment_id": 99508405, "body": "I need to block user to click outside the particular div including browser to open new tab and also click in taskbar using anagular or javascript"}, {"owner": {"reputation": 831, "user_id": 8296184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QxQgA.jpg?s=128&g=1", "display_name": "VirgilioGM", "link": "https://stackoverflow.com/users/8296184/virgiliogm"}, "edited": false, "score": 0, "creation_date": 1559732217, "post_id": 56458246, "comment_id": 99509763, "body": "And block user to open a new window, or another browser, or close the computer, or...? I&#39;m sorry, I&#39;m just kidding. I don&#39;t think you can do what you want."}, {"owner": {"reputation": 5960, "user_id": 1522548, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/swFB2.png?s=128&g=1", "display_name": "JWP", "link": "https://stackoverflow.com/users/1522548/jwp"}, "edited": false, "score": 0, "creation_date": 1559733115, "post_id": 56458246, "comment_id": 99510174, "body": "Put question page in app.component use events to open/show it,  make z order top most.  Have it&#39;s width and height tale up 100%, use opacity to see though. Close it only when valid"}], "owner": {"reputation": 11, "user_id": 8971961, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0TNxwuitaKk/AAAAAAAAAAI/AAAAAAAAAIY/VSIZMZkomsY/photo.jpg?sz=128", "display_name": "Angular doubt", "link": "https://stackoverflow.com/users/8971961/angular-doubt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 337, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1559728678, "creation_date": 1559728678, "question_id": 56458246, "link": "https://stackoverflow.com/questions/56458246/disable-click-and-keyboard-function-in-angular", "title": "Disable Click and Keyboard Function in Angular", "body": "<p>I am setting up online quiz. I completed all coding . Now i want to disable all keyboard and mouse click function other than selecting question, answer and submit.</p>\n\n<p>I want to show error message when user try to open new tab in browser and when user click taskbar in window i want to show error</p>\n\n<p>I tried in angular I completed Keyboard and mouse right click using below code.</p>\n\n<pre><code>@HostListener('document:keydown', ['$event'])\n   handleKeyboardEvent(event: KeyboardEvent) {\n      alert(\"dont press key \" +event.key)\n      console.log(event);\n      event.returnValue = false;\n      event.preventDefault();\n      alert(\"if you pree the key more than three times it will submit automatically\");\n      this.counter ++;\n      console.log(this.counter);\n      if(this.counter &gt;=3){\n        console.log(\"submit\");\n      }\n   }\n\n  @HostListener('contextmenu',['$event'])\n  onContextmenu(event){\n      event.stopPropagation();\n      event.preventDefault();\n      event.stopImmediatePropagation();\n  }\n</code></pre>\n\n<p>I need to block all mouse and keyboard events except the question page</p>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 989, "user_id": 7557023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UK0sL.jpg?s=128&g=1", "display_name": "Sneha Pawar", "link": "https://stackoverflow.com/users/7557023/sneha-pawar"}, "edited": false, "score": 0, "creation_date": 1559728394, "post_id": 56458120, "comment_id": 99508101, "body": "You can share your data between components using four ways refer this <a href=\"https://angularfirebase.com/lessons/sharing-data-between-angular-components-four-methods/\" rel=\"nofollow noreferrer\">angularfirebase.com/lessons/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 989, "user_id": 7557023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UK0sL.jpg?s=128&g=1", "display_name": "Sneha Pawar", "link": "https://stackoverflow.com/users/7557023/sneha-pawar"}, "edited": false, "score": 0, "creation_date": 1559728476, "post_id": 56458120, "comment_id": 99508137, "body": "@SnehaPawar or <a href=\"https://angular.io/guide/component-interaction\" rel=\"nofollow noreferrer\">use the official documentation</a> instead of paying resources ! (well not this page, but you get my point)"}], "owner": {"reputation": 307, "user_id": 9322266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2964c5beabc664322fe33104ce725dfd?s=128&d=identicon&r=PG&f=1", "display_name": "Federico", "link": "https://stackoverflow.com/users/9322266/federico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1559728198, "creation_date": 1559728198, "question_id": 56458120, "link": "https://stackoverflow.com/questions/56458120/how-to-submit-a-form-in-angular-and-send-data-back", "title": "How to submit a form in Angular and send data back?", "body": "<p>I'm building a form component to get some data from user and send them back to another component, which has to be updated according to these values. </p>\n\n<p>In my code I have two components: \n1) Balance page\n2) Balance-add component\nI'd like Balance page to be updated every time the user fills the form in Balance-menu component, and I need to create a new card in the Balance page for each form submitted. </p>\n\n<p>Balance.page.ts:</p>\n\n<pre><code>constructor(\n  private router: Router,\n  ) { }\n\nngOnInit() {\n  }\n\naddToList() {\n  this.router.navigateByUrl('balance-add')\n}\n\n</code></pre>\n\n<p>balance.page.html:</p>\n\n<pre><code>&lt;ion-content&gt;\n  &lt;ion-card&gt;\n    &lt;ion-card-header&gt;\n      &lt;ion-card-title&gt;Balance:&lt;/ion-card-title&gt;\n    &lt;/ion-card-header&gt;\n    &lt;ion-card-content&gt;\n      &lt;div&gt;\n        {{this.balance}}\n      &lt;/div&gt;\n    &lt;/ion-card-content&gt;\n  &lt;/ion-card&gt;\n\n//Here &lt;ion-card&gt; for each form submitted \n//&lt;ion-card *ngFor=\"let form of list_of_forms\"&gt;&lt;/ion-card&gt;\n\n\n&lt;/ion-content&gt;\n\n&lt;ion-footer&gt;\n  &lt;div&gt;\n    &lt;ion-icon name=\"add-circle\" (click)=\"addToList()\"&gt;&lt;/ion-icon&gt;\n  &lt;/div&gt;\n&lt;/ion-footer&gt;\n\n</code></pre>\n\n<p>The second component is balance-add.component.ts\n(I don't know how to implement sendData method)</p>\n\n<pre><code>\nconstructor() { }\n\nngOnInit() {}\n\nsendData() {\n// ???\n}\n\n</code></pre>\n\n<p>and here's the html:</p>\n\n<pre><code>&lt;div&gt;\n  &lt;ion-item&gt;\n    &lt;ion-label&gt;How much did you spend?&lt;/ion-label&gt;\n  &lt;ion-select [(ngModel)]=\"buy.cost\" okText=\"Okay\" cancelText=\"Dismiss\"&gt;\n    &lt;ion-select-option value=\"ten\"&gt;10&lt;/ion-select-option&gt;\n    &lt;ion-select-option value=\"twelve\"&gt;20&lt;/ion-select-option&gt;\n  &lt;/ion-select&gt;\n  &lt;/ion-item&gt;\n\n  &lt;ion-item&gt;\n    &lt;ion-label&gt;What is the item?&lt;/ion-label&gt;\n  &lt;ion-input [(ngModel)]=\"buy.item\" placeholder=\"E.g. Eggs&gt;&lt;/ion-input&gt;\n  &lt;/ion-item&gt;\n\n&lt;ion-button (click)=\"sendData()\"&gt; ADD TO BALANCE &lt;/ion-button&gt;\n\n&lt;/div&gt;\n\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["typescript", "decorator"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1559752150, "post_id": 56457980, "comment_id": 99520676, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/55409151/how-to-resolve-generic-type-of-property-value-from-decorated-property-in-decorat\">How to resolve generic type of property value from decorated property in decorator</a>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1559752290, "post_id": 56457980, "comment_id": 99520746, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/q/56403431/2887218\">Is it possible to provide type safety to method decorator options</a>"}, {"owner": {"reputation": 71, "user_id": 9719053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddbe4087b759f08a499c2644f6df40e1?s=128&d=identicon&r=PG", "display_name": "Christopher Kiss", "link": "https://stackoverflow.com/users/9719053/christopher-kiss"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1559772592, "post_id": 56457980, "comment_id": 99528817, "body": "@jcalz, thanks for linking these, I did do a search for these on stack overflow and the typescript github, but my search terms must not have matched these."}, {"owner": {"reputation": 11411, "user_id": 406249, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7055935d2e651d2e2907133f34675a16?s=128&d=identicon&r=PG", "display_name": "Nick McCurdy", "link": "https://stackoverflow.com/users/406249/nick-mccurdy"}, "edited": false, "score": 0, "creation_date": 1606036810, "post_id": 56457980, "comment_id": 114832414, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/56403431/is-it-possible-to-provide-type-safety-to-method-decorator-options\">Is it possible to provide type safety to method decorator options</a>"}], "owner": {"reputation": 71, "user_id": 9719053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddbe4087b759f08a499c2644f6df40e1?s=128&d=identicon&r=PG", "display_name": "Christopher Kiss", "link": "https://stackoverflow.com/users/9719053/christopher-kiss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 332, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1559729753, "creation_date": 1559727688, "last_edit_date": 1559729753, "question_id": 56457980, "link": "https://stackoverflow.com/questions/56457980/cant-get-typescript-method-decorator-to-infer-argument-types", "title": "Can&#39;t get typescript method decorator to infer argument types", "body": "<p>I'm trying to create a Memoize decorator and I'm mimicking lodash's memoize function but as a decorator. I'm having difficulties in getting TypeScript to infer the arguments for the resolver function.</p>\n\n<pre><code>export function Memoize&lt;T extends any[], C&gt;(resolver?: (...args: T) =&gt; C) { \n    return function &lt;D&gt;(target: object, propertyKey: string | symbol, descriptor: TypedPropertyDescriptor&lt;(...args: T) =&gt; D&gt;) { \n        const original = descriptor.value;\n\n        if (!original) { \n            throw new Error(`Can't be undefined!`);\n        }\n\n        descriptor.value = function (...args: T): D {\n            const key: C = resolver ? resolver.apply(this, args) : args[0];\n            const result: D = original.apply(this, args);\n\n            console.log(key);\n\n            return result;\n        };\n\n        return descriptor;\n    }\n}\n\nclass Test {\n    @Memoize(t =&gt; t)\n    public test(test: string): string { \n        return test;\n    }\n}\n</code></pre>\n\n<p>The callback passed into memoize is inferred as: <code>&lt;[any], any&gt;</code>, but I want it to be inferred as: <code>[string], string</code></p>\n\n<p>For example:</p>\n\n<pre><code>class Test {\n   @Memoize(test =&gt; test)\n   public test1(value: string): string {\n      return value;\n   }\n\n   @Memoize(test =&gt; test)\n   public test2(value: string): Observable&lt;string&gt; {\n      return of(value);\n   }\n\n   @Memoize(test =&gt; test.test)\n   public test3(value: { test: string }): Observable&lt;{ test: string }&gt; {\n      return of(value);\n   }\n\n   @Memoize()\n   public get test4(): string {\n       return '123';\n   }\n}\n</code></pre>\n\n<p>The callback passed into the Memoize decorator I want to infer the typings.</p>\n\n<p>So for test 1, test is string in both the argument and return.\nFor test 2, same thing, string for both argument and return.\nTest 3, argument is <code>{ test: string }</code> and return is string.\nTest 4 is a getter and has not resolver available, so nothing to infer.</p>\n\n<p>setters will just throw if decorator is present on them</p>\n"}, {"tags": ["reactjs", "typescript", "create-react-app"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1559727626, "post_id": 56457935, "comment_id": 99507719, "body": "Do you use modules ? The answer differs a bit depeding on that"}, {"owner": {"reputation": 21728, "user_id": 1114926, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/U4uzx.jpg?s=128&g=1", "display_name": "Green", "link": "https://stackoverflow.com/users/1114926/green"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1559727810, "post_id": 56457935, "comment_id": 99507817, "body": "I use React components. All the behavior above is from React components. They may be called sort of <b>modules</b> because they incapsulate logic"}], "answers": [{"comments": [{"owner": {"reputation": 950, "user_id": 5075403, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eQjVix9vooo/AAAAAAAAAAI/AAAAAAAAAME/5otbLW7o7GA/photo.jpg?sz=128", "display_name": "jtiscione", "link": "https://stackoverflow.com/users/5075403/jtiscione"}, "edited": false, "score": 13, "creation_date": 1595711569, "post_id": 56458070, "comment_id": 111570953, "body": "Your &quot;good solution&quot; doesn&#39;t compile.&quot;Property FB does not exist on type window &amp; typeof globalThis&quot;"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 950, "user_id": 5075403, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eQjVix9vooo/AAAAAAAAAAI/AAAAAAAAAME/5otbLW7o7GA/photo.jpg?sz=128", "display_name": "jtiscione", "link": "https://stackoverflow.com/users/5075403/jtiscione"}, "edited": false, "score": 13, "creation_date": 1595716479, "post_id": 56458070, "comment_id": 111571961, "body": "@jtiscione yes it does <a href=\"https://www.typescriptlang.org/play?noImplicitReturns=false#code/KYDwDg9gTgLgBAbwL4CgAmwDGAbAhlYOAc2wgCNdtEU5a4BLAOxmCgDNdNCB1JtCAO7U6IuADEAQgC5cjAJ4BuGnVRI4KFNmDxJcALxwBfQQDpJCuAHpLcCAGs4jQUA\" rel=\"nofollow noreferrer\">typescriptlang.org/play?noImplicitReturns=false#code/&hellip;</a> if your file is not a module, remove the declare global <a href=\"https://www.typescriptlang.org/play?noImplicitReturns=false#code/JYOwLgpgTgZghgYwgAgOqgCYHsDuyDeAUMsgGIBCAXHCAJ4DchAvoQDYRhnnIC8yOmXADoK9ZAHpxyLAGtkIXEA\" rel=\"nofollow noreferrer\">typescriptlang.org/play?noImplicitReturns=false#code/&hellip;</a>"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 157, "last_activity_date": 1591306191, "last_edit_date": 1591306191, "creation_date": 1559728038, "answer_id": 56458070, "question_id": 56457935, "link": "https://stackoverflow.com/questions/56457935/typescript-error-property-x-does-not-exist-on-type-window/56458070#56458070", "title": "TypeScript error: Property &#39;X&#39; does not exist on type &#39;Window&#39;", "body": "<p><strong>Why does <code>declare const window: any;</code> work?</strong></p>\n\n<p>Because you declare a local variable of type <code>any</code>. Having something of type <code>any</code> essentially turns off type checking for <code>window</code> so you can do anything with it. I really do not recommend this solution, it is a really bad one. </p>\n\n<p><strong>Why doesn't <code>type Window = { FB: any }</code> work?</strong>\nYou define a type <code>Window</code>. This type if defined in a module has nothing to do with the type of the global <code>window</code> object, it is just a type that happens to be called <code>Window</code> inside your module.</p>\n\n<p><strong>The good solution</strong>\nTo extend <code>window</code> you must extend the global <code>Window</code> interface. You can do this like this:</p>\n\n<pre><code>declare global {\n    interface Window {\n        FB:any;\n    }\n}\n\nlet FB = window.FB; // ok now\n</code></pre>\n\n<p>Note that this extension is going to be available in your whole project not just the file you define it in. Also if <code>FB</code> has definitions you might consider typing it a bit better (<code>FB: typeof import('FBOrWhateverModuleNameThisHas')</code>)</p>\n"}], "owner": {"reputation": 21728, "user_id": 1114926, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/U4uzx.jpg?s=128&g=1", "display_name": "Green", "link": "https://stackoverflow.com/users/1114926/green"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66833, "favorite_count": 3, "answer_count": 1, "score": 81, "last_activity_date": 1591306191, "creation_date": 1559727480, "last_edit_date": 1559728046, "question_id": 56457935, "link": "https://stackoverflow.com/questions/56457935/typescript-error-property-x-does-not-exist-on-type-window", "title": "TypeScript error: Property &#39;X&#39; does not exist on type &#39;Window&#39;", "body": "<p>I have added TS to my React/Redux app.</p>\n\n<p>I use <code>window</code> object in my app like this:</p>\n\n<pre><code>componentDidMount() {\n  let FB = window.FB;\n}\n</code></pre>\n\n<p>TS throws an error:</p>\n\n<blockquote>\n  <p>TypeScript error: Property 'FB' does not exist on type 'Window'. TS2339</p>\n</blockquote>\n\n<p>I want to fix the error.</p>\n\n<h3>1 (doesn't work)</h3>\n\n<pre><code>// Why doesn't this work? I have defined a type locally\n\ntype Window = {\n  FB: any\n}\n\ncomponentDidMount() {\n  let FB = window.FB;\n}\n\n// TypeScript error: Property 'FB' does not exist on type 'Window'. TS2339\n</code></pre>\n\n<h3>2 (fixes the error)</h3>\n\n<p>I found the answer here <a href=\"https://stackoverflow.com/a/56402425/1114926\">https://stackoverflow.com/a/56402425/1114926</a></p>\n\n<pre><code>declare const window: any;\n\ncomponentDidMount() {\n  let FB = window.FB;\n}\n// No errors, works well\n</code></pre>\n\n<p>Why doesn't the first version work, but the second does, even though I do not specify FB property at all?</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "primeng", "primeng-datatable"], "comments": [{"owner": {"reputation": 492, "user_id": 10408246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PPBqm.jpg?s=128&g=1", "display_name": "Vash72", "link": "https://stackoverflow.com/users/10408246/vash72"}, "edited": false, "score": 1, "creation_date": 1559727451, "post_id": 56457874, "comment_id": 99507641, "body": "are you using angular &gt; v8? is the &lt;p-table #usersTable ...&gt; inside some *structural directive?"}, {"owner": {"reputation": 14794, "user_id": 3227319, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d0dfcc684d444bcbd4b48734230d5b11?s=128&d=identicon&r=PG&f=1", "display_name": "Jordi", "link": "https://stackoverflow.com/users/3227319/jordi"}, "reply_to_user": {"reputation": 492, "user_id": 10408246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PPBqm.jpg?s=128&g=1", "display_name": "Vash72", "link": "https://stackoverflow.com/users/10408246/vash72"}, "edited": false, "score": 0, "creation_date": 1559727579, "post_id": 56457874, "comment_id": 99507700, "body": "Yes, it&#39;s inside an <code>div *ngIf</code>, and when parent component is loaded ngIf is false. I&#39;m using angular 4."}, {"owner": {"reputation": 5335, "user_id": 2342414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VSR39.jpg?s=128&g=1", "display_name": "benshabatnoam", "link": "https://stackoverflow.com/users/2342414/benshabatnoam"}, "edited": false, "score": 0, "creation_date": 1559729977, "post_id": 56457874, "comment_id": 99508808, "body": "Do you have more than one table?"}, {"owner": {"reputation": 14794, "user_id": 3227319, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d0dfcc684d444bcbd4b48734230d5b11?s=128&d=identicon&r=PG&f=1", "display_name": "Jordi", "link": "https://stackoverflow.com/users/3227319/jordi"}, "edited": false, "score": 0, "creation_date": 1559731670, "post_id": 56457874, "comment_id": 99509535, "body": "No... but sometines <code>ngIf</code> is true and sometimes is false (when is there no results to show). I need to pick table each time is visisble..."}, {"owner": {"reputation": 5335, "user_id": 2342414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VSR39.jpg?s=128&g=1", "display_name": "benshabatnoam", "link": "https://stackoverflow.com/users/2342414/benshabatnoam"}, "edited": false, "score": 0, "creation_date": 1559732358, "post_id": 56457874, "comment_id": 99509818, "body": "In that case you can check the <code>usersTable</code> variable, I&#39;v updated my answer to show you"}, {"owner": {"reputation": 14794, "user_id": 3227319, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d0dfcc684d444bcbd4b48734230d5b11?s=128&d=identicon&r=PG&f=1", "display_name": "Jordi", "link": "https://stackoverflow.com/users/3227319/jordi"}, "edited": false, "score": 0, "creation_date": 1559732590, "post_id": 56457874, "comment_id": 99509933, "body": "Only one final issue. It doesn&#39;t work if I use <code>@ViewChild(DataTable)</code> instead of <code>@ViewChild(&#39;usersTable&#39;)</code>. Why?"}, {"owner": {"reputation": 5335, "user_id": 2342414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VSR39.jpg?s=128&g=1", "display_name": "benshabatnoam", "link": "https://stackoverflow.com/users/2342414/benshabatnoam"}, "edited": false, "score": 0, "creation_date": 1559733308, "post_id": 56457874, "comment_id": 99510273, "body": "Try <code>@ViewChild(DataTable) set content(usersTable: DataTable)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 14794, "user_id": 3227319, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d0dfcc684d444bcbd4b48734230d5b11?s=128&d=identicon&r=PG&f=1", "display_name": "Jordi", "link": "https://stackoverflow.com/users/3227319/jordi"}, "edited": false, "score": 0, "creation_date": 1559729400, "post_id": 56458042, "comment_id": 99508548, "body": "I&#39;ve changed my post. Could you help out?"}], "tags": [], "owner": {"reputation": 5335, "user_id": 2342414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VSR39.jpg?s=128&g=1", "display_name": "benshabatnoam", "link": "https://stackoverflow.com/users/2342414/benshabatnoam"}, "is_accepted": false, "score": 1, "last_activity_date": 1559732430, "last_edit_date": 1559732430, "creation_date": 1559727938, "answer_id": 56458042, "question_id": 56457874, "link": "https://stackoverflow.com/questions/56457874/angular-primeng-create-observable-from-lazyload-event/56458042#56458042", "title": "Angular Primeng: Create Observable from lazyLoad event", "body": "<p>Has you've comment that your table is inside a div with an <code>*ngIf</code>, you can use <code>set content</code> to get the reference for your table.</p>\n\n<pre><code>@ViewChild('usersTable') set content(usersTable: ElementRef) {\n  if (usersTable) {\n    let lazyTable$ = Observable\n        .fromEvent(this.usersTable.nativeElement, 'onLazyLoad')\n        .pipe(debounceTime(300));\n  }\n}\n</code></pre>\n\n<p>This way, this function will execute on each change to <code>*ngIf</code> condition change, meaning when your table gets shown or hidden.</p>\n"}, {"tags": [], "owner": {"reputation": 312, "user_id": 10094263, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-e32qSpDfKWk/AAAAAAAAAAI/AAAAAAAAG-Y/SbJx6o4y3CI/photo.jpg?sz=128", "display_name": "S.Hashiba", "link": "https://stackoverflow.com/users/10094263/s-hashiba"}, "is_accepted": false, "score": 1, "last_activity_date": 1587525193, "creation_date": 1587525193, "answer_id": 61356647, "question_id": 56457874, "link": "https://stackoverflow.com/questions/56457874/angular-primeng-create-observable-from-lazyload-event/61356647#61356647", "title": "Angular Primeng: Create Observable from lazyLoad event", "body": "<p>I can Create Observable from lazyLoad event like this.</p>\n\n<pre><code>import { Table } from 'primeng/table';\n\n  @ViewChild('usersTable') set content(usersTable: Table) {\n    if (usersTable) {\n      let lazyTable$ = usersTable.onLazyLoad.pipe(debounceTime(300));\n      }\n    }\n\n</code></pre>\n"}], "owner": {"reputation": 14794, "user_id": 3227319, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d0dfcc684d444bcbd4b48734230d5b11?s=128&d=identicon&r=PG&f=1", "display_name": "Jordi", "link": "https://stackoverflow.com/users/3227319/jordi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 432, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1587525193, "creation_date": 1559727266, "last_edit_date": 1559729374, "question_id": 56457874, "link": "https://stackoverflow.com/questions/56457874/angular-primeng-create-observable-from-lazyload-event", "title": "Angular Primeng: Create Observable from lazyLoad event", "body": "<p>I've coded this html:</p>\n\n<pre><code>&lt;p-table #usersTable ...&gt;\n&lt;p-table&gt;\n</code></pre>\n\n<p>I'm trying to pick up this element in order to create an observable on <code>onLazyLoad</code> event:</p>\n\n<pre><code>@ViewChild('usersTable')\nprivate usersTable: ElementRef;\n</code></pre>\n\n<p>In order to create observable:</p>\n\n<pre><code>public ngAfterViewInit() {\n    let lazyTable$ = Observable\n        .fromEvent(this.usersTable.nativeElement, 'onLazyLoad')\n        .pipe(debounceTime(300));\n}\n</code></pre>\n\n<p>Nevertheless, <code>this.usersTable</code> is undefined.</p>\n\n<p>By other hand, I not sure at all, of having observable event creation correctly.</p>\n\n<p>I've used </p>\n\n<pre><code>@ViewChildren(DataTable) private usersTable: QueryList&lt;DataTable&gt;;\n</code></pre>\n\n<p>Nevertheless, when a change is made <code>query.length</code> is always 0:</p>\n\n<pre><code>let lazyClick$ = this.usersTable.changes\n    .pipe(\n        filter((query: QueryList&lt;DataTable&gt;) =&gt; {\n            return query.length &gt; 0;\n        }),\n        map((query: QueryList&lt;DataTable&gt;) =&gt; {\n            return query.first;\n        }),\n        switchMap((table) =&gt; {\n            return table.onLazyLoad.asObservable();\n        })\n    );\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["angular", "typescript", "httpclient", "nativescript", "http-status-code-204"], "comments": [{"owner": {"reputation": 1599, "user_id": 2544810, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b92d923744c1157581c526a9a21a69f0?s=128&d=identicon&r=PG", "display_name": "Senthil", "link": "https://stackoverflow.com/users/2544810/senthil"}, "edited": false, "score": 0, "creation_date": 1559727952, "post_id": 56457713, "comment_id": 99507885, "body": "what is the value of InfluxDb_Log , is it working when you do a post call via postman tool ?"}, {"owner": {"reputation": 904, "user_id": 4841788, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NGWfh.jpg?s=128&g=1", "display_name": "Sarjerao Ghadage", "link": "https://stackoverflow.com/users/4841788/sarjerao-ghadage"}, "reply_to_user": {"reputation": 1599, "user_id": 2544810, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b92d923744c1157581c526a9a21a69f0?s=128&d=identicon&r=PG", "display_name": "Senthil", "link": "https://stackoverflow.com/users/2544810/senthil"}, "edited": false, "score": 0, "creation_date": 1559728581, "post_id": 56457713, "comment_id": 99508181, "body": "<a href=\"http://182.157.203.148:6060/write?db=dbname\" rel=\"nofollow noreferrer\">182.157.203.148:6060/write?db=dbname</a>"}, {"owner": {"reputation": 904, "user_id": 4841788, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NGWfh.jpg?s=128&g=1", "display_name": "Sarjerao Ghadage", "link": "https://stackoverflow.com/users/4841788/sarjerao-ghadage"}, "reply_to_user": {"reputation": 1599, "user_id": 2544810, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b92d923744c1157581c526a9a21a69f0?s=128&d=identicon&r=PG", "display_name": "Senthil", "link": "https://stackoverflow.com/users/2544810/senthil"}, "edited": false, "score": 0, "creation_date": 1559728692, "post_id": 56457713, "comment_id": 99508227, "body": "yes its working via postman"}, {"owner": {"reputation": 1599, "user_id": 2544810, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b92d923744c1157581c526a9a21a69f0?s=128&d=identicon&r=PG", "display_name": "Senthil", "link": "https://stackoverflow.com/users/2544810/senthil"}, "edited": false, "score": 0, "creation_date": 1559729656, "post_id": 56457713, "comment_id": 99508670, "body": "show / comment your request and response which you received while using postman"}, {"owner": {"reputation": 904, "user_id": 4841788, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NGWfh.jpg?s=128&g=1", "display_name": "Sarjerao Ghadage", "link": "https://stackoverflow.com/users/4841788/sarjerao-ghadage"}, "reply_to_user": {"reputation": 1599, "user_id": 2544810, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b92d923744c1157581c526a9a21a69f0?s=128&d=identicon&r=PG", "display_name": "Senthil", "link": "https://stackoverflow.com/users/2544810/senthil"}, "edited": false, "score": 0, "creation_date": 1559729798, "post_id": 56457713, "comment_id": 99508728, "body": "request : dbname.test AppComponent=&quot;testing&quot;,Message=&quot; this is test error&quot;,Error=&quot;Error: this is test error&quot;"}, {"owner": {"reputation": 904, "user_id": 4841788, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NGWfh.jpg?s=128&g=1", "display_name": "Sarjerao Ghadage", "link": "https://stackoverflow.com/users/4841788/sarjerao-ghadage"}, "reply_to_user": {"reputation": 1599, "user_id": 2544810, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b92d923744c1157581c526a9a21a69f0?s=128&d=identicon&r=PG", "display_name": "Senthil", "link": "https://stackoverflow.com/users/2544810/senthil"}, "edited": false, "score": 0, "creation_date": 1559729839, "post_id": 56457713, "comment_id": 99508747, "body": "response:status:204 No Content"}, {"owner": {"reputation": 1599, "user_id": 2544810, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b92d923744c1157581c526a9a21a69f0?s=128&d=identicon&r=PG", "display_name": "Senthil", "link": "https://stackoverflow.com/users/2544810/senthil"}, "edited": false, "score": 0, "creation_date": 1559731161, "post_id": 56457713, "comment_id": 99509318, "body": "so as per your code logic, is it going to error block ? ref: Because of some custom Interceptors also it can go to error response : <a href=\"https://stackoverflow.com/questions/33655651/why-does-a-post-response-of-204-no-content-trigger-the-angularjs-error-functio\" title=\"why does a post response of 204 no content trigger the angularjs error functio\">stackoverflow.com/questions/33655651/&hellip;</a>"}, {"owner": {"reputation": 904, "user_id": 4841788, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NGWfh.jpg?s=128&g=1", "display_name": "Sarjerao Ghadage", "link": "https://stackoverflow.com/users/4841788/sarjerao-ghadage"}, "reply_to_user": {"reputation": 1599, "user_id": 2544810, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b92d923744c1157581c526a9a21a69f0?s=128&d=identicon&r=PG", "display_name": "Senthil", "link": "https://stackoverflow.com/users/2544810/senthil"}, "edited": false, "score": 0, "creation_date": 1559731563, "post_id": 56457713, "comment_id": 99509492, "body": "no its not going to error back"}, {"owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "edited": false, "score": 0, "creation_date": 1559741189, "post_id": 56457713, "comment_id": 99514369, "body": "Which device and OS version you are testing the app with? On iOS you will have to enable Http (non-secure) requests explicitly, unless all requests will simply fail. Refer <a href=\"https://stackoverflow.com/questions/31216758/how-can-i-add-nsapptransportsecurity-to-my-info-plist-file\">this thread</a> for detailed answer, the <code>info.plist</code> can be found under <code>&#47;App_Resources&#47;iOS</code> folder. If you are using Android 9, the same applies, refer <a href=\"https://stackoverflow.com/a/53253643/1060423\">this answer</a> If you still face issues, please share a Playground Sample where the issue can be reproduced."}, {"owner": {"reputation": 904, "user_id": 4841788, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NGWfh.jpg?s=128&g=1", "display_name": "Sarjerao Ghadage", "link": "https://stackoverflow.com/users/4841788/sarjerao-ghadage"}, "edited": false, "score": 0, "creation_date": 1559797104, "post_id": 56457713, "comment_id": 99533065, "body": "tns-android has 5.4.0 &amp; it&#39;s running on the device emulator."}], "answers": [{"tags": [], "owner": {"reputation": 29, "user_id": 5220289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e598be5d3ecfa189f7f3638ade39b33?s=128&d=identicon&r=PG&f=1", "display_name": "yoosuf", "link": "https://stackoverflow.com/users/5220289/yoosuf"}, "is_accepted": false, "score": 1, "last_activity_date": 1560948565, "creation_date": 1560948565, "answer_id": 56668057, "question_id": 56457713, "link": "https://stackoverflow.com/questions/56457713/http-failure-during-parsing-204-status-with-error-state/56668057#56668057", "title": "Http failure during parsing | 204 status with error state", "body": "<p>I think your rest api returning content-type=\"application/json\".nativescript xhr checking the content-type response header.if the content-type =\"application/json\" then it will parse the data.actually 204 returning empty string , so it will throw error.I think this one should be fix native script team.so u can fix it by remove the content-type header from your response or pass the content-type = \"text\" , both will support in native script.just try it</p>\n"}], "owner": {"reputation": 904, "user_id": 4841788, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NGWfh.jpg?s=128&g=1", "display_name": "Sarjerao Ghadage", "link": "https://stackoverflow.com/users/4841788/sarjerao-ghadage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 849, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560948565, "creation_date": 1559726715, "question_id": 56457713, "link": "https://stackoverflow.com/questions/56457713/http-failure-during-parsing-204-status-with-error-state", "title": "Http failure during parsing | 204 status with error state", "body": "<p>I trying to log my native-angular applications log in influxdb which is installed on my server. whlie posting log to server API is succeeding and return 204 status code along with the error.\nfor this i have refer many answers like <a href=\"https://stackoverflow.com/questions/46408537/angular-httpclient-http-failure-during-parsing\">this</a> but not working me .</p>\n\n<p>error:</p>\n\n<pre><code>{\nJS:   \"headers\": {\nJS:     \"normalizedNames\": {},\nJS:     \"lazyUpdate\": null,\nJS:     \"headers\": {}\nJS:   },\nJS:   \"status\": 204,\nJS:   \"statusText\": \"Unknown Error\",\nJS:   \"url\": null,\nJS:   \"ok\": false,\nJS:   \"name\": \"HttpErrorResponse\",\nJS:   \"message\": \"Http failure during parsing for (unknown url)\",\nJS:   \"error\": {}\nJS: }\n</code></pre>\n\n<p>API Call :</p>\n\n<pre><code>const req = `spl.hpft AppComponent=\"testing\",Message=\" ${error.message ? error.message : null}\",Error=\"${error.toString()}\"`;\n const headers = new HttpHeaders().set('Content-Transfer-Encoding', 'binary');\n console.log('influxdb request sent');\n  this.httpClient.post(InfluxDb_Log, req, {headers:headers,responseType:'text' }).subscribe(payloadResponse =&gt; {\n  console.log('payloadResponse', payloadResponse);\n  console.log('influxdb response received', payloadResponse);\n}, error =&gt; {\n  console.log('influx error', error);\n}); \n</code></pre>\n"}, {"tags": ["typescript", "react-hooks"], "answers": [{"tags": [], "owner": {"reputation": 307, "user_id": 3567573, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1170120899/picture?type=large", "display_name": "Gobli", "link": "https://stackoverflow.com/users/3567573/gobli"}, "is_accepted": true, "score": 0, "last_activity_date": 1559727528, "creation_date": 1559727528, "answer_id": 56457947, "question_id": 56457698, "link": "https://stackoverflow.com/questions/56457698/how-to-get-return-of-react-hook-into-a-component/56457947#56457947", "title": "How to get return of react hook into a component", "body": "<p>According to React you are only supposed to call a hook inside of a function <strong>component</strong>. You are using hooks inside a function, not a function component.</p>\n\n<p>For it to be a component it should return an element, and use it as a component. So it would be like this (considering you are returning an element):</p>\n\n<pre><code>&lt;GetAreasOfInterest/&gt;\n</code></pre>\n"}], "owner": {"reputation": 1006, "user_id": 254694, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3ab3129ddef520dbeeaa52c9e0723a48?s=128&d=identicon&r=PG", "display_name": "user254694", "link": "https://stackoverflow.com/users/254694/user254694"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 56457947, "answer_count": 1, "score": 0, "last_activity_date": 1559727528, "creation_date": 1559726660, "question_id": 56457698, "link": "https://stackoverflow.com/questions/56457698/how-to-get-return-of-react-hook-into-a-component", "title": "How to get return of react hook into a component", "body": "<p>According to React you are only supposed to call a hook inside of a function. </p>\n\n<p>But at some point I suppose I will want to have the output of that hook inside a component calling that function. </p>\n\n<p>So I am trying to do the following</p>\n\n<pre><code>class AreaOfInterestSelector extends Component&lt;IProps&gt; {\n    render() {\n        const areas: object = GetAreasOfInterest();\n        console.log(areas);\n        return &lt;React.Fragment&gt;\n            {this.props.noSelectionMessage}\n        &lt;/React.Fragment&gt;\n    }\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>const GetAreasOfInterest = () =&gt; {\n    const [areas, setAreas] = useState({});\n    const categoryApi = '//example.org/api/category';\n    const getCategories = async () =&gt; {\n        const data = await Axios.get(categoryApi);\n        return data;\n    }\n    useEffect( () =&gt; {\n        const data = getCategories();\n        setAreas(data);\n    });\n\n    return areas;\n}\n\nexport default GetAreasOfInterest;\n</code></pre>\n\n<p>but I end up getting the error </p>\n\n<pre><code>Error: Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\n</code></pre>\n\n<p>Checking my top level dependencies I don't have the mismatching versions or more than one copy, before going through everything and looking I figured I'd ask because I bet I have just made a silly mistake here. </p>\n"}, {"tags": ["reactjs", "typescript", "redux"], "answers": [{"tags": [], "owner": {"reputation": 7380, "user_id": 8437099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/108936759794462/picture?type=large", "display_name": "kyun", "link": "https://stackoverflow.com/users/8437099/kyun"}, "is_accepted": false, "score": 0, "last_activity_date": 1559726697, "creation_date": 1559726697, "answer_id": 56457707, "question_id": 56457556, "link": "https://stackoverflow.com/questions/56457556/why-when-i-change-copy-of-object-in-ts-original-one-also-changes/56457707#56457707", "title": "Why when I change copy of object in TS, original one also changes?", "body": "<p>I have 2 options for it.</p>\n\n<p><strong>1. Using <code>underscore.js</code></strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var foo = { row: 0, col:0 };\r\nvar bar = _.clone(foo);\r\nbar.row = 99;\r\n\r\nconsole.log(foo);\r\nconsole.log(bar);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.9.1/underscore.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>2. vanilla JS</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function clone(obj) {\r\n  if (obj === null || typeof(obj) !== 'object')\r\n  return obj;\r\n\r\n  var copy = obj.constructor();\r\n\r\n  for (var attr in obj) {\r\n    if (obj.hasOwnProperty(attr)) {\r\n      copy[attr] = obj[attr];\r\n    }\r\n  }\r\n\r\n  return copy;\r\n}\r\n\r\nvar foo = { row: 0, col: 0 };\r\nvar bar = clone(foo);\r\nbar.row = 99;\r\n\r\nconsole.log(foo);\r\nconsole.log(bar);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 3246, "user_id": 7126139, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/tRZYM.jpg?s=128&g=1", "display_name": "yuval.bl", "link": "https://stackoverflow.com/users/7126139/yuval-bl"}, "is_accepted": true, "score": 2, "last_activity_date": 1559726907, "creation_date": 1559726907, "answer_id": 56457770, "question_id": 56457556, "link": "https://stackoverflow.com/questions/56457556/why-when-i-change-copy-of-object-in-ts-original-one-also-changes/56457770#56457770", "title": "Why when I change copy of object in TS, original one also changes?", "body": "<p>Your issue is about shallow VS deep copy of an object.</p>\n\n<p>When using spread operator, your creating a shallow copy of an object (Just like when using old-school <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\" rel=\"nofollow noreferrer\">Object.assign</a>). </p>\n\n<p>When you've used JSON parsing - you get a deep copy (or a \"deep clone\") of the object.</p>\n\n<p>Shallow copy, as the name suggest, means that the outer object is a new one, while nested objects remains the same. Once you get to know redux in-depth, speard operators should be suffice for most cases, but it is an important difference to keep in mind.</p>\n\n<p>You might want to read <a href=\"https://stackoverflow.com/questions/46025555/redux-why-using-object-assign-if-it-is-not-perform-deep-clone\">my question on this matter</a>, and <a href=\"https://medium.com/@tkssharma/objects-in-javascript-object-assign-deep-copy-64106c9aefab\" rel=\"nofollow noreferrer\">this article</a> as well,.</p>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 6620679, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--pysIuO5RWE/AAAAAAAAAAI/AAAAAAAAAFo/7rS8fDa48gg/photo.jpg?sz=128", "display_name": "TValerii", "link": "https://stackoverflow.com/users/6620679/tvalerii"}, "is_accepted": false, "score": 0, "last_activity_date": 1559728134, "creation_date": 1559728134, "answer_id": 56458097, "question_id": 56457556, "link": "https://stackoverflow.com/questions/56457556/why-when-i-change-copy-of-object-in-ts-original-one-also-changes/56458097#56458097", "title": "Why when I change copy of object in TS, original one also changes?", "body": "<p>What happens to you is - two objects with the same reference.</p>\n\n<p>If you don't want to use an external lib, or a helper function (if you're not going to use it extensively), you can use something like this:</p>\n\n<pre><code>const newById = board.pieces.byId.map((item) =&gt; ({ ...item }));\n</code></pre>\n\n<p>(i assumed byId is an array, and map creates new array)</p>\n"}], "owner": {"reputation": 49, "user_id": 11603077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7c5718fd186e127323b16a33828fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "hommat", "link": "https://stackoverflow.com/users/11603077/hommat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 56457770, "answer_count": 3, "score": 0, "last_activity_date": 1559728134, "creation_date": 1559726119, "last_edit_date": 1559726523, "question_id": 56457556, "link": "https://stackoverflow.com/questions/56457556/why-when-i-change-copy-of-object-in-ts-original-one-also-changes", "title": "Why when I change copy of object in TS, original one also changes?", "body": "<p>I'm importing redux store and using the spread operator to create a copy of store property. Then when I change this copy, the original property also changes.</p>\n\n<p>When I use <code>copy = JSON.parse(JSON.stringify(original))</code> everything works fine.</p>\n\n<pre><code>export const move = (moveData: IMove): BoardActionTypes =&gt; {\n  const { board } = store.getState();\n  console.log(board.pieces.byId[\"19\"]); // {row: 3, col: 7}\n\n  const newById: IPiecesById = { ...board.pieces.byId };\n\n  newById[\"19\"].col = 4;\n  newById[\"19\"].row = 4;\n\n  console.log(board.pieces.byId[\"19\"]); // {row: 4, col: 4}\n  console.log(newById[\"19\"]); // {row: 4, col: 4}\n\n  //...\n};\n</code></pre>\n"}, {"tags": ["typescript", "create-react-app"], "answers": [{"comments": [{"owner": {"reputation": 21728, "user_id": 1114926, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/U4uzx.jpg?s=128&g=1", "display_name": "Green", "link": "https://stackoverflow.com/users/1114926/green"}, "edited": false, "score": 0, "creation_date": 1559727593, "post_id": 56457870, "comment_id": 99507707, "body": "+1 \ud83d\udc4d But how can I find where <code>Window</code> was defined before? Somehow TS detects it already exists."}, {"owner": {"reputation": 69, "user_id": 8499653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acdfdc7243e2ad6f5e40d40122ec5896?s=128&d=identicon&r=PG&f=1", "display_name": "Ditiz", "link": "https://stackoverflow.com/users/8499653/ditiz"}, "reply_to_user": {"reputation": 21728, "user_id": 1114926, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/U4uzx.jpg?s=128&g=1", "display_name": "Green", "link": "https://stackoverflow.com/users/1114926/green"}, "edited": false, "score": 0, "creation_date": 1559728200, "post_id": 56457870, "comment_id": 99508001, "body": "For create-react-app, you find the implementation in <code>your_app&#47;node_modules&#47;typescript&#47;lib&#47;lib.dom.d.ts</code> line 16941"}], "tags": [], "owner": {"reputation": 69, "user_id": 8499653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acdfdc7243e2ad6f5e40d40122ec5896?s=128&d=identicon&r=PG&f=1", "display_name": "Ditiz", "link": "https://stackoverflow.com/users/8499653/ditiz"}, "is_accepted": false, "score": 1, "last_activity_date": 1559727258, "creation_date": 1559727258, "answer_id": 56457870, "question_id": 56457550, "link": "https://stackoverflow.com/questions/56457550/how-can-i-find-where-ts-type-is-defined-in-my-app/56457870#56457870", "title": "How can I find where TS type is defined in my app?", "body": "<p>To fix your problem you can extend the Window interface and add your FB property: </p>\n\n<pre><code>interface WindowWithFB extends Window {\n    FB: any\n}\n\nlet windowWithFB: WindowWithFB = { ...window, FB: 'your FB value here' };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "is_accepted": false, "score": 2, "last_activity_date": 1559728054, "creation_date": 1559728054, "answer_id": 56458078, "question_id": 56457550, "link": "https://stackoverflow.com/questions/56457550/how-can-i-find-where-ts-type-is-defined-in-my-app/56458078#56458078", "title": "How can I find where TS type is defined in my app?", "body": "<p>So looking at this:</p>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/declaration-merging.html#global-augmentation\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/declaration-merging.html#global-augmentation</a></p>\n\n<p>It looks like the following declaration will <em>augment</em> the window definition:</p>\n\n<pre><code>declare global {\n    interface Window {\n        FB: SomeType;\n    }\n}\n</code></pre>\n\n<p>so now you can:</p>\n\n<pre><code>window.FB; //no problem\n</code></pre>\n"}], "owner": {"reputation": 21728, "user_id": 1114926, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/U4uzx.jpg?s=128&g=1", "display_name": "Green", "link": "https://stackoverflow.com/users/1114926/green"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1559728054, "creation_date": 1559726113, "question_id": 56457550, "link": "https://stackoverflow.com/questions/56457550/how-can-i-find-where-ts-type-is-defined-in-my-app", "title": "How can I find where TS type is defined in my app?", "body": "<p>I have added TS to my React/Redux app.</p>\n\n<p>I use <code>window</code> object in my app like this:</p>\n\n<pre><code>const FB = window.FB;\n</code></pre>\n\n<p>TS throws an error:</p>\n\n<blockquote>\n  <p>TypeScript error: Property 'FB' does not exist on type 'Window'.  TS2339</p>\n</blockquote>\n\n<p>So type <code>Window</code> already exists in my app somehow.</p>\n\n<p>How can I find where it is defined? How does TS know that type <code>Window</code> is already exists?</p>\n\n<p>I want to fix this error.</p>\n"}, {"tags": ["typescript", "vue.js", "vuejs2", "vue-class-components"], "comments": [{"owner": {"reputation": 508, "user_id": 6803592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IIWV0.png?s=128&g=1", "display_name": "Devilscomrade", "link": "https://stackoverflow.com/users/6803592/devilscomrade"}, "edited": false, "score": 0, "creation_date": 1559727381, "post_id": 56457527, "comment_id": 99507594, "body": "Are you missing type definitions?"}, {"owner": {"reputation": 1692, "user_id": 2542165, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/27a8186d2f0f6d88ad56327bacbeb258?s=128&d=identicon&r=PG", "display_name": "jaudo", "link": "https://stackoverflow.com/users/2542165/jaudo"}, "reply_to_user": {"reputation": 508, "user_id": 6803592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IIWV0.png?s=128&g=1", "display_name": "Devilscomrade", "link": "https://stackoverflow.com/users/6803592/devilscomrade"}, "edited": false, "score": 0, "creation_date": 1559727485, "post_id": 56457527, "comment_id": 99507660, "body": "Shouldn&#39;t class definition be sufficient? What additional definition would you add here?"}, {"owner": {"reputation": 760, "user_id": 7438212, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/yMAvn.jpg?s=128&g=1", "display_name": "Ian Ash", "link": "https://stackoverflow.com/users/7438212/ian-ash"}, "edited": false, "score": 0, "creation_date": 1559728483, "post_id": 56457527, "comment_id": 99508138, "body": "What are you trying to achieve with &#39;const value = new Test().value&#39;? It looks like you&#39;re trying to either inject a dependency or register the component locally, neither of which are done in the manner you have tried."}, {"owner": {"reputation": 1692, "user_id": 2542165, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/27a8186d2f0f6d88ad56327bacbeb258?s=128&d=identicon&r=PG", "display_name": "jaudo", "link": "https://stackoverflow.com/users/2542165/jaudo"}, "edited": false, "score": 0, "creation_date": 1559728663, "post_id": 56457527, "comment_id": 99508210, "body": "Of course, this example has no sense, this is just a simple example to show the problem. More generally, I have an class instance, and I want to get an attribute/call a method on this object."}, {"owner": {"reputation": 760, "user_id": 7438212, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/yMAvn.jpg?s=128&g=1", "display_name": "Ian Ash", "link": "https://stackoverflow.com/users/7438212/ian-ash"}, "edited": false, "score": 0, "creation_date": 1559729261, "post_id": 56457527, "comment_id": 99508483, "body": "You&#39;ll save a lot of time if you provide a minimal example that shows what you&#39;re actually trying to achieve, rather than a nonsense example. Sounds like this may be a duplicate of: <a href=\"https://stackoverflow.com/questions/46928713/how-to-use-provide-inject-in-vue-js-with-typescript\" title=\"how to use provide inject in vue js with typescript\">stackoverflow.com/questions/46928713/&hellip;</a>"}, {"owner": {"reputation": 1692, "user_id": 2542165, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/27a8186d2f0f6d88ad56327bacbeb258?s=128&d=identicon&r=PG", "display_name": "jaudo", "link": "https://stackoverflow.com/users/2542165/jaudo"}, "edited": false, "score": 0, "creation_date": 1559729442, "post_id": 56457527, "comment_id": 99508567, "body": "I should have said the example is not useful but is has a sense. I create a &quot;Test&quot; object, why can&#39;t I access to the &quot;value&quot; attribute? Sorry if I can&#39;t post my real projet but in general a minimal example is what&#39;s asked to expose a problem. The link you posted does not seem to be related, is does not even mention TS2339 error."}, {"owner": {"reputation": 760, "user_id": 7438212, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/yMAvn.jpg?s=128&g=1", "display_name": "Ian Ash", "link": "https://stackoverflow.com/users/7438212/ian-ash"}, "edited": false, "score": 0, "creation_date": 1559730058, "post_id": 56457527, "comment_id": 99508851, "body": "You&#39;re fixating on the TS2339 error, but are you sure that&#39;s what you actually need to fix? I can&#39;t think of any scenario where directly referencing an &#39;@component&#39; decorated class from another &#39;@component&#39; decorated class in the way you are suggesting is a useful construct. If you&#39;re confident your construct is valid, then by all means chase down the error code."}, {"owner": {"reputation": 508, "user_id": 6803592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IIWV0.png?s=128&g=1", "display_name": "Devilscomrade", "link": "https://stackoverflow.com/users/6803592/devilscomrade"}, "edited": false, "score": 0, "creation_date": 1559730633, "post_id": 56457527, "comment_id": 99509119, "body": "Also, AFAIK only Vue can instantiate components. You can&#39;t just new ComponentType()."}, {"owner": {"reputation": 1692, "user_id": 2542165, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/27a8186d2f0f6d88ad56327bacbeb258?s=128&d=identicon&r=PG", "display_name": "jaudo", "link": "https://stackoverflow.com/users/2542165/jaudo"}, "edited": false, "score": 0, "creation_date": 1559731531, "post_id": 56457527, "comment_id": 99509477, "body": "OK, so I updated my code to show a more realistic case. The problem remains the same."}], "answers": [{"comments": [{"owner": {"reputation": 1692, "user_id": 2542165, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/27a8186d2f0f6d88ad56327bacbeb258?s=128&d=identicon&r=PG", "display_name": "jaudo", "link": "https://stackoverflow.com/users/2542165/jaudo"}, "edited": false, "score": 0, "creation_date": 1559736686, "post_id": 56460125, "comment_id": 99511818, "body": "Does not seem satisfying. I don&#39;t want to ignore error because I don&#39;t want test.unexistingMethod() to compile. About augmenting Vue&#39;s definition, it&#39;s not an option. Probably oldschool syntaxe would works, that makes me think it&#39;s a vue-class-component issue. I created an issue : <a href=\"https://github.com/vuejs/vue-class-component/issues/340\" rel=\"nofollow noreferrer\">github.com/vuejs/vue-class-component/issues/340</a>"}, {"owner": {"reputation": 1692, "user_id": 2542165, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/27a8186d2f0f6d88ad56327bacbeb258?s=128&d=identicon&r=PG", "display_name": "jaudo", "link": "https://stackoverflow.com/users/2542165/jaudo"}, "edited": false, "score": 0, "creation_date": 1559736875, "post_id": 56460125, "comment_id": 99511907, "body": "I&#39;ve got shims-vue.d.ts, but not sure it is used. What should I do with this file?"}, {"owner": {"reputation": 17145, "user_id": 5093961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3736a281ed5cdc18e41f6d3100d76dcc?s=128&d=identicon&r=PG", "display_name": "Steven Spungin", "link": "https://stackoverflow.com/users/5093961/steven-spungin"}, "reply_to_user": {"reputation": 1692, "user_id": 2542165, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/27a8186d2f0f6d88ad56327bacbeb258?s=128&d=identicon&r=PG", "display_name": "jaudo", "link": "https://stackoverflow.com/users/2542165/jaudo"}, "edited": false, "score": 0, "creation_date": 1559736994, "post_id": 56460125, "comment_id": 99511963, "body": "Maybe your tsconfig file is excluding it."}, {"owner": {"reputation": 1692, "user_id": 2542165, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/27a8186d2f0f6d88ad56327bacbeb258?s=128&d=identicon&r=PG", "display_name": "jaudo", "link": "https://stackoverflow.com/users/2542165/jaudo"}, "edited": false, "score": 0, "creation_date": 1559737537, "post_id": 56460125, "comment_id": 99512264, "body": "It&#39;s not... but I&#39;ll look into that way"}, {"owner": {"reputation": 1692, "user_id": 2542165, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/27a8186d2f0f6d88ad56327bacbeb258?s=128&d=identicon&r=PG", "display_name": "jaudo", "link": "https://stackoverflow.com/users/2542165/jaudo"}, "edited": false, "score": 0, "creation_date": 1559737839, "post_id": 56460125, "comment_id": 99512420, "body": "In fact, shims seems to declare all vue Components as Vue instances : <a href=\"https://github.com/vuejs/vue-class-component/issues/340#issuecomment-499061718\" rel=\"nofollow noreferrer\">github.com/vuejs/vue-class-component/issues/&hellip;</a>"}, {"owner": {"reputation": 1692, "user_id": 2542165, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/27a8186d2f0f6d88ad56327bacbeb258?s=128&d=identicon&r=PG", "display_name": "jaudo", "link": "https://stackoverflow.com/users/2542165/jaudo"}, "edited": false, "score": 0, "creation_date": 1559738039, "post_id": 56460125, "comment_id": 99512521, "body": "shims is included, because if I remove the file, I get an error Error:(3, 18) TS2307: Cannot find module &#39;@/views/crud/Test.vue&#39;."}, {"owner": {"reputation": 17145, "user_id": 5093961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3736a281ed5cdc18e41f6d3100d76dcc?s=128&d=identicon&r=PG", "display_name": "Steven Spungin", "link": "https://stackoverflow.com/users/5093961/steven-spungin"}, "reply_to_user": {"reputation": 1692, "user_id": 2542165, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/27a8186d2f0f6d88ad56327bacbeb258?s=128&d=identicon&r=PG", "display_name": "jaudo", "link": "https://stackoverflow.com/users/2542165/jaudo"}, "edited": false, "score": 0, "creation_date": 1559738316, "post_id": 56460125, "comment_id": 99512687, "body": "I have seen this before when multiple Vue runtime were included.  I had to hardcode a single path to vue in both webpack and typescript.  I will add that to my solution."}, {"owner": {"reputation": 1692, "user_id": 2542165, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/27a8186d2f0f6d88ad56327bacbeb258?s=128&d=identicon&r=PG", "display_name": "jaudo", "link": "https://stackoverflow.com/users/2542165/jaudo"}, "edited": false, "score": 0, "creation_date": 1559739243, "post_id": 56460125, "comment_id": 99513241, "body": "Still not working. But seems normal according to the github link above?"}], "tags": [], "owner": {"reputation": 17145, "user_id": 5093961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3736a281ed5cdc18e41f6d3100d76dcc?s=128&d=identicon&r=PG", "display_name": "Steven Spungin", "link": "https://stackoverflow.com/users/5093961/steven-spungin"}, "is_accepted": false, "score": 1, "last_activity_date": 1559738390, "last_edit_date": 1559738390, "creation_date": 1559736176, "answer_id": 56460125, "question_id": 56457527, "link": "https://stackoverflow.com/questions/56457527/vue-class-component-ts2339-when-calling-class-method/56460125#56460125", "title": "vue-class-component : TS2339 when calling class method", "body": "<p>Add these before your call.</p>\n\n<pre><code>// tslint:disable-next-line \n// @ts-ignore \n</code></pre>\n\n<p>You can also union the existing Test interface like this:</p>\n\n<pre><code>const test = wrapper.find(Test).vm as Test &amp; {method()};\n</code></pre>\n\n<p>Not to say you should do this in practice, but your code will run...</p>\n\n<p>The <strong>correct</strong> way to do fix this is to <code>augment</code> <code>Vue's</code> definition so <code>typescript</code> will accept your method.  But that should be happening automatically by Vue.  <strong>Are you including the <code>shims-vue.d.ts</code> file.  That's where the typescript magic happens?</strong></p>\n\n<p><a href=\"https://vuejs.org/v2/guide/typescript.html\" rel=\"nofollow noreferrer\">https://vuejs.org/v2/guide/typescript.html</a></p>\n\n<p>With that said, I have had issues using the Vue class syntax and have had to revert to oldschool syntax to avoid typescript complaining:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;script lang=\"ts\"&gt;\n    import Vue from 'vue';\n\n    export default Vue.extend({\n        methods: {\n          method(): string {\n            return 'hello';\n        }\n    })\n&lt;/script&gt;\n</code></pre>\n\n<p>The shims file is how Vue augments itself with your components.</p>\n\n<p>shims-vue.d.ts</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>declare module '*.vue' {\n  import Vue from 'vue';\n  export default Vue;\n\n</code></pre>\n\n<h1>Multiple Vue Instances</h1>\n\n<p>Sometimes <code>Vue</code> is included from multiple sources and this messes up typescript.</p>\n\n<p>Try adding this to your <code>tsconfig</code> file.</p>\n\n<pre><code>{\n    \"paths\": {\n      \"@/*\": [\n        \"src/*\"\n      ],\n      \"vue/*\": [\n        \"node_modules/vue/*\"\n      ]\n}\n</code></pre>\n\n<p>I have sometimes even had to add webpack alias for this (this would be an issued building though, so not a fix for your issue):</p>\n\n<pre><code>        'vue$': path.resolve(__dirname, 'node_modules', 'vue/dist/vue.esm.js'),\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1692, "user_id": 2542165, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/27a8186d2f0f6d88ad56327bacbeb258?s=128&d=identicon&r=PG", "display_name": "jaudo", "link": "https://stackoverflow.com/users/2542165/jaudo"}, "is_accepted": true, "score": 1, "last_activity_date": 1559745114, "creation_date": 1559745114, "answer_id": 56462630, "question_id": 56457527, "link": "https://stackoverflow.com/questions/56457527/vue-class-component-ts2339-when-calling-class-method/56462630#56462630", "title": "vue-class-component : TS2339 when calling class method", "body": "<p>Based on Steven's answer, I understood that shims-vue.d.ts is necessary to use component as typescript classes. But the problem is that they are all considered as Vue instances.\nThis is obvious when looking at this file contents:</p>\n\n<pre><code>declare module '*.vue' {\n  import Vue from 'vue';\n  export default Vue;\n}\n</code></pre>\n\n<p>For now, the only clean way I found is to declare an interface implemented by my component:</p>\n\n<p><strong>model.ts:</strong></p>\n\n<pre><code>export interface ITest {\n    method(): void;\n}\n</code></pre>\n\n<p><strong>Test.vue:</strong></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;template&gt;\n    &lt;div&gt;{{method()}}&lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script lang=\"ts\"&gt;\n    import { Component } from 'vue-property-decorator';\n    import Vue from 'vue';\n    import {ITest} from '@/views/test/model';\n\n    @Component\n    export default class Test extends Vue implements ITest {\n        public method(): string {\n            return 'hello';\n        }\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>Test.spec.ts:</strong></p>\n\n<pre><code>import 'jest';\nimport {mount} from '@vue/test-utils';\nimport {ITest} from '@/views/test/model';\nimport Test from '@/views/test/Test.vue';\n\ndescribe('Test.vue', () =&gt; {\n    let wrapper: any;\n\n    beforeEach(() =&gt; {\n        wrapper = mount(Test);\n    });\n\n    test('test method call', () =&gt; {\n        const test = wrapper.find(Test).vm as ITest;\n        expect(test.method()).toEqual('hello');\n    });\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 829, "user_id": 951741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a5018e383f0812330f0c91980f011d6?s=128&d=identicon&r=PG", "display_name": "Misha", "link": "https://stackoverflow.com/users/951741/misha"}, "is_accepted": false, "score": 1, "last_activity_date": 1576719667, "creation_date": 1576719667, "answer_id": 59402258, "question_id": 56457527, "link": "https://stackoverflow.com/questions/56457527/vue-class-component-ts2339-when-calling-class-method/59402258#59402258", "title": "vue-class-component : TS2339 when calling class method", "body": "<p>I noticed that Vue files are able to use other Vue files as their declared classes, which led me to try declaring the Jest files as Vue components as well. Surprisingly, it worked - no additional test-only interfaces required.</p>\n\n<p>There are two steps. First, add the <code>.vue</code> suffix to Jest's test configuration in your <code>package.json</code>:</p>\n\n<pre><code>{\n  \"jest\": {\n    \"testMatch\": [\n      \"**/__tests__/**/*.test.ts\",\n      \"**/__tests__/**/*.test.vue\"\n    ],\n  }\n}\n</code></pre>\n\n<p>Second, rename your test files to <code>.test.vue</code> and wrap them in a <code>&lt;script&gt;</code> block:</p>\n\n<pre><code>&lt;script lang=\"ts\"&gt;\nimport 'jest';\n\nimport { shallowMount } from '@vue/test-utils';\n\n// Tests here...\n&lt;/script&gt;\n</code></pre>\n\n<p>Now you can use <code>wrapper.vm</code> as the actual declared component class type, and Vetur/Typescript will be completely happy in both, the IDE and the compiler output.</p>\n"}], "owner": {"reputation": 1692, "user_id": 2542165, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/27a8186d2f0f6d88ad56327bacbeb258?s=128&d=identicon&r=PG", "display_name": "jaudo", "link": "https://stackoverflow.com/users/2542165/jaudo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1722, "favorite_count": 1, "accepted_answer_id": 56462630, "answer_count": 3, "score": 2, "last_activity_date": 1576719667, "creation_date": 1559726048, "last_edit_date": 1559735722, "question_id": 56457527, "link": "https://stackoverflow.com/questions/56457527/vue-class-component-ts2339-when-calling-class-method", "title": "vue-class-component : TS2339 when calling class method", "body": "<p>I'm using vue-cli-service to build my vuejs application.</p>\n\n<p>The build is successful, but in webstorm IDE, I get some TS2339 errors :</p>\n\n<p><strong>Test.vue:</strong></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;template&gt;\n    &lt;div&gt;{{method()}}&lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script lang=\"ts\"&gt;\n    import { Component, Vue } from 'vue-property-decorator';\n\n    @Component\n    export default class Test extends Vue {\n        public method(): string {\n            return 'hello';\n        }\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>Test.spec.ts:</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import 'jest';\nimport {mount} from '@vue/test-utils';\nimport Test from '@/views/common/Test.vue';\n\ndescribe('Test.vue', () =&gt; {\n    let wrapper: any;\n\n    beforeEach(() =&gt; {\n        wrapper = mount(Test);\n    });\n\n    test('test method call', () =&gt; {\n        const test = wrapper.find(Test).vm as Test;\n        expect(test.method()).toEqual('hello');\n    });\n});\n\n</code></pre>\n\n<p>In Test.spec.ts, I get this error, both in editor and in typescript window:</p>\n\n<blockquote>\n  <p>Error:(14, 21) TS2339: Property 'method' does not exist on type 'Vue'.</p>\n</blockquote>\n\n<p>But the test is OK, so <code>test.method()</code> is resolved successfully at runtime.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-ui-router"], "comments": [{"owner": {"reputation": 696, "user_id": 4721463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59e607246f82946f8e1ab1c689f8fa34?s=128&d=identicon&r=PG&f=1", "display_name": "Ren&#233; Datenschutz", "link": "https://stackoverflow.com/users/4721463/ren%c3%a9-datenschutz"}, "edited": false, "score": 0, "creation_date": 1559727467, "post_id": 56457497, "comment_id": 99507653, "body": "save them in localStorage or in a cookie and check them"}, {"owner": {"reputation": 320, "user_id": 8546998, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kqIBM.jpg?s=128&g=1", "display_name": "Subhan Asadli", "link": "https://stackoverflow.com/users/8546998/subhan-asadli"}, "edited": false, "score": 0, "creation_date": 1559727476, "post_id": 56457497, "comment_id": 99507656, "body": "can you add the code of your resolver please ?"}, {"owner": {"reputation": 21, "user_id": 5146209, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GBEqnOzjyDY/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qSjwf7aVPblTi9dhd80m8cg4B3JQ/mo/photo.jpg?sz=128", "display_name": "Chandru", "link": "https://stackoverflow.com/users/5146209/chandru"}, "edited": false, "score": 0, "creation_date": 1559732320, "post_id": 56457497, "comment_id": 99509799, "body": "I have added the resolve. Also I found the property in routes called runGuardsAndResolvers  which helps to find the changes in params and queryparams. But help me in implementation. I have added the property in routing module along with path, component."}], "owner": {"reputation": 21, "user_id": 5146209, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GBEqnOzjyDY/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qSjwf7aVPblTi9dhd80m8cg4B3JQ/mo/photo.jpg?sz=128", "display_name": "Chandru", "link": "https://stackoverflow.com/users/5146209/chandru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1559732306, "creation_date": 1559725916, "last_edit_date": 1559732306, "question_id": 56457497, "link": "https://stackoverflow.com/questions/56457497/want-to-update-the-route-param-value-from-the-api-even-if-the-user-changes-the-v", "title": "Want to Update the Route Param value from the api even if the user changes the value manually", "body": "<p>I am adding two id's in the route as a param using Resolve. So the id's will get add into the route before it navigates. So, If the user changes those id's in the url manually and reload the page, I want to get the old id which was added using resolve.Here are 123 and 456 are the two real id's.</p>\n\n<pre><code>http://localhost:4200/hello/123/456/\n</code></pre>\n\n<p>Now if the user enters manually 890 and 897 and they are reloading the page.Now I want to add the real id while page is reloading.</p>\n\n<pre><code>http://localhost:4200/hello/890/897\n\nresolve(route: ActivatedRouteSnapshot): Observable&lt;any&gt; {\n    const opportunity = route.paramMap.get('opportunity');\n    const quote = route.paramMap.get('quote');\n    // alert(opportunity);\n    if (opportunity === null || quote === null) {\n      // alert(opportunity);\n      return this.cartService.createOpportunityId().pipe(\n        withLatestFrom( // multiple sevices as object to resolve.\n          this.cartService.createQuoteId(),\n        )\n      );\n    }\n  }\n</code></pre>\n"}, {"tags": ["typescript", "typescript-typings", "signature"], "answers": [{"tags": [], "owner": {"reputation": 178, "user_id": 3578680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2abff86f9685690dc44b41545e1d372?s=128&d=identicon&r=PG&f=1", "display_name": "korulis", "link": "https://stackoverflow.com/users/3578680/korulis"}, "is_accepted": true, "score": 5, "last_activity_date": 1559732091, "creation_date": 1559732091, "answer_id": 56459078, "question_id": 56457492, "link": "https://stackoverflow.com/questions/56457492/whats-the-difference-between-myinterfaceone-myinterfacetwo-and-myinter/56459078#56459078", "title": "Whats the difference between `MyInterfaceOne[] | MyInterfaceTwo[]` and `(MyInterfaceOne|MyInterfaceTwo)[]`", "body": "<pre><code>MyInterfaceOne[] | MyInterfaceTwo[]\n</code></pre>\n\n<p>says it can be of either an array of only MyInterfaceOne's or an array of only MyInterfaceTwo's.</p>\n\n<pre><code>(MyInterfaceOne|MyInterfaceTwo)[]\n</code></pre>\n\n<p>says it can be an array of either MyInterfaceOne's or MyInterfaceTwo's, so it can contain elements of any of the two types.</p>\n"}], "owner": {"reputation": 1312, "user_id": 4082431, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/21eaa3ed4674e22d54aee1cb77108291?s=128&d=identicon&r=PG", "display_name": "mstruebing", "link": "https://stackoverflow.com/users/4082431/mstruebing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 1, "accepted_answer_id": 56459078, "answer_count": 1, "score": 4, "last_activity_date": 1559732091, "creation_date": 1559725894, "question_id": 56457492, "link": "https://stackoverflow.com/questions/56457492/whats-the-difference-between-myinterfaceone-myinterfacetwo-and-myinter", "title": "Whats the difference between `MyInterfaceOne[] | MyInterfaceTwo[]` and `(MyInterfaceOne|MyInterfaceTwo)[]`", "body": "<p>When using <code>MyInterfaceOne[] | MyInterfaceTwo[]</code> I get a Typescript error on a different place in my code which doesn't make sense for me.</p>\n\n<pre><code>myInterfaces = funcWithAboveSignature()\n\nreturn myInterfaces.reduce(async (acc, interfaceType) =&gt; {\n    await acc;\n    if (interfaceType.prop) {\n      return await someAsyncFunc(interfaceType);\n    } else {\n      return await someOtherAsyncFunc(interfaceType);\n    }\n  }, Promise.resolve());\n</code></pre>\n\n<p>The error says:</p>\n\n<p><code>Argument of type '(acc: MyInterfaceOne, raw: MyInterfaceOne) =&gt; Promise&lt;void&gt;' is not assignable to parameter of type '(previousValue: MyInterfaceOne, currentValue: MyInterfaceOne, currentIndex: number, array: MyInterfaceOne[]) =&gt; MyInterfaceOne'.</code></p>\n\n<p>But when changing the function signature from <code>MyInterfaceOne[] | MyInterfaceTwo[]</code> to <code>(MyInterfaceOne|MyInterfaceTwo)[]</code> it is working.</p>\n\n<p>Can someone explain the difference between these two to me?</p>\n"}, {"tags": ["angular", "typescript", "dialog", "angular-material", "frontend"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1559725955, "post_id": 56457444, "comment_id": 99506927, "body": "What is hte CustomersComponent, the component opening the dialog, or the component in the dialog ?"}, {"owner": {"reputation": 3723, "user_id": 1209097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2dkgb.jpg?s=128&g=1", "display_name": "ysf", "link": "https://stackoverflow.com/users/1209097/ysf"}, "edited": false, "score": 0, "creation_date": 1559726507, "post_id": 56457444, "comment_id": 99507171, "body": "MatDialogRef is used for taking actions on an open dialog, such ad closing it. StaticInjectionError implies that there is no open dialog for CustomersComponent. If you share the code that opens the dialog or describe your exact use case it would be easier to spot the ptoblem."}, {"owner": {"reputation": 606, "user_id": 7329611, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8WGBQFIL-Yg/AAAAAAAAAAI/AAAAAAAACpg/Tei1OxXfTAg/photo.jpg?sz=128", "display_name": "Severin Klug", "link": "https://stackoverflow.com/users/7329611/severin-klug"}, "edited": false, "score": 0, "creation_date": 1559726749, "post_id": 56457444, "comment_id": 99507281, "body": "Have you imported MatDialogRef in the module your CustomersComponent belongs to?"}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1559726984, "post_id": 56457444, "comment_id": 99507405, "body": "Please provide the stackblitz example!"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9292877"}, "is_accepted": false, "score": 2, "last_activity_date": 1560876392, "last_edit_date": 1560876392, "creation_date": 1559727468, "answer_id": 56457930, "question_id": 56457444, "link": "https://stackoverflow.com/questions/56457444/staticinjectionerror-for-matdialogref/56457930#56457930", "title": "StaticInjectionError for matDialogRef", "body": "<p>I am not sure if I am correct but as I can see in the error it is written No provides for MatDialogRef.</p>\n\n<p>It is definitely because of import. Please check if you have imported the MatDialogModule in app.module.ts file.</p>\n\n<pre><code>import {MatDialogModule} from '@angular/material/dialog';\n@NgModule({ \nimports:[MatDialogModule] \n})\n</code></pre>\n"}], "owner": {"reputation": 331, "user_id": 9310248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2579a166628727e019613e521c489e87?s=128&d=identicon&r=PG&f=1", "display_name": "krise", "link": "https://stackoverflow.com/users/9310248/krise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560876392, "creation_date": 1559725737, "question_id": 56457444, "link": "https://stackoverflow.com/questions/56457444/staticinjectionerror-for-matdialogref", "title": "StaticInjectionError for matDialogRef", "body": "<p>I am working on a project with an angular frontend an trying to create a matDialogue, however I always get the error: </p>\n\n<pre><code>StaticInjectorError(AppModule)[CustomersComponent -&gt; MatDialogRef]: \n  StaticInjectorError(Platform: core)[CustomersComponent -&gt; MatDialogRef]: \n    NullInjectorError: No provider for MatDialogRef!\n</code></pre>\n\n<p>What I put in my html file does not matter, I get the error even if I leave it blank. \nHere is my ts file: </p>\n\n<pre><code>import {Component, OnInit} from '@angular/core';\nimport {AuthService} from '../../services/auth.service';\nimport {MatDialog, MatDialogRef, MatDialogModule} from '@angular/material/dialog';\nimport {FormBuilder, FormGroup} from '@angular/forms';\n\n@Component({\n  selector: 'app-customers',\n  styleUrls: ['./customers.component.scss'],\n  templateUrl: './customers.component.html'\n})\nexport class CustomersComponent implements OnInit {\n\n  customerCreateForm: FormGroup;\n\n  constructor(private authService: AuthService,\n              private custDialog: MatDialogRef&lt;CustomersComponent&gt;,\n              private fb: FormBuilder) {\n  }\n\n  ngOnInit() {\n  }\n</code></pre>\n\n<p>Any ideas what could be causing this? </p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1559725623, "post_id": 56457382, "comment_id": 99506746, "body": "Please explain your goal and the issue you&#39;re facing. Right now, it&#39;s very burry. Consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> on a sandbox such as stackblitz or codesandbox."}, {"owner": {"reputation": 25, "user_id": 8525544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cgtuH.jpg?s=128&g=1", "display_name": "Gosha Dolganov", "link": "https://stackoverflow.com/users/8525544/gosha-dolganov"}, "edited": false, "score": 0, "creation_date": 1559725684, "post_id": 56457382, "comment_id": 99506782, "body": "Sorry, console.log(this.CubeView.angle);"}, {"owner": {"reputation": 25, "user_id": 8525544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cgtuH.jpg?s=128&g=1", "display_name": "Gosha Dolganov", "link": "https://stackoverflow.com/users/8525544/gosha-dolganov"}, "edited": false, "score": 0, "creation_date": 1559726404, "post_id": 56457382, "comment_id": 99507117, "body": "The task is to create a viewport to control the camera on the scene. The cube sets the view (top, side, bottom, etc.). From the component of the child - the cube is necessary to get the current angle. This angle is required to control the camera. The angle of this one is transmitted remarkably. However, when I try to take it periodically in the browser log, an error comes out (see above)."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 8525544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cgtuH.jpg?s=128&g=1", "display_name": "Gosha Dolganov", "link": "https://stackoverflow.com/users/8525544/gosha-dolganov"}, "edited": false, "score": 0, "creation_date": 1559726765, "post_id": 56457588, "comment_id": 99507289, "body": "Yes, just change  checkCubeAngle() { console.log(this.CubeView.angle);} to checkCubeAngle = () =&gt; { console.log(this.CubeView.angle);} and its begun ideal work. Thank You very much!"}], "tags": [], "owner": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "is_accepted": true, "score": 0, "last_activity_date": 1559726253, "creation_date": 1559726253, "answer_id": 56457588, "question_id": 56457382, "link": "https://stackoverflow.com/questions/56457382/listen-changes-variable-in-child-component/56457588#56457588", "title": "Listen changes variable in child component", "body": "<p>First thing, there will be a problem with <code>this</code> context here:</p>\n\n<pre><code>  ngAfterViewInit() {\n    setInterval(this.checkCubeAngle, 1000);\n  }\n</code></pre>\n\n<p><code>this.checkCubeAngle</code> is a \"function\" function, not an arrow function, and calling it inside <code>setInterval</code> like this you're losing the component's <code>this</code>. Converting it to an arrow function</p>\n\n<pre><code>  checkCubeAngle = () =&gt; {\n</code></pre>\n\n<p>should help.</p>\n"}], "owner": {"reputation": 25, "user_id": 8525544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cgtuH.jpg?s=128&g=1", "display_name": "Gosha Dolganov", "link": "https://stackoverflow.com/users/8525544/gosha-dolganov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 56457588, "answer_count": 1, "score": 0, "last_activity_date": 1559726253, "creation_date": 1559725512, "question_id": 56457382, "link": "https://stackoverflow.com/questions/56457382/listen-changes-variable-in-child-component", "title": "Listen changes variable in child component", "body": "<p>I need to continuously monitor the variable - the angle in the child component. I use @ViewChild() decorator.</p>\n\n<pre><code>ERROR TypeError: Cannot read property 'angle' of undefined\n</code></pre>\n\n<p>tried various solutions, however, the problem remains</p>\n\n<p>child component:</p>\n\n<pre><code>    export class CubeViewWebGlComponent implements OnInit {\n     public angle = {\n      x: 0,\n      y: 0,\n      z: 0\n      };\n    /////Some code////////////////\n    }\n</code></pre>\n\n<p>parent component:</p>\n\n<pre><code>import { Component, ViewChild, AfterViewInit, Input} from '@angular/core';\nimport {CubeViewWebGlComponent} from './cube-view-web-gl/cube-view-web-gl.component';\n\nexport class AppComponent implements AfterViewInit {\n  @ViewChild(CubeViewWebGlComponent) CubeView: CubeViewWebGlComponent;\n\n  ngAfterViewInit() {\n    setInterval(this.checkCubeAngle, 1000);\n  }\n\n  checkCubeAngle() {\n    console.log(this.angleCubeComponent.angle);\n  }\n  /////Some code////////////////\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 1548, "user_id": 8319683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LBugp.jpg?s=128&g=1", "display_name": "Shim-Sao", "link": "https://stackoverflow.com/users/8319683/shim-sao"}, "edited": false, "score": 0, "creation_date": 1559726188, "post_id": 56457274, "comment_id": 99507024, "body": "Maybe this example can help you : <a href=\"https://www.carlrippon.com/building-super-simple-react-form-component-typescript-basics/\" rel=\"nofollow noreferrer\">building-super-simple-react-form-component-typescript-basics</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 11603096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fa2174a6593e9b92c9d5f4763498bc6?s=128&d=identicon&r=PG&f=1", "display_name": "H&#229;vard", "link": "https://stackoverflow.com/users/11603096/h%c3%a5vard"}, "is_accepted": true, "score": 0, "last_activity_date": 1559735690, "creation_date": 1559735690, "answer_id": 56460005, "question_id": 56457274, "link": "https://stackoverflow.com/questions/56457274/how-to-get-submit-button-to-send-parameters-to-my-endpoint-in-typescript-react/56460005#56460005", "title": "How to get submit button to send parameters to my endpoint in Typescript,react?", "body": "<p>This is the solution to fetch out the file if anyone got the same issue.</p>\n\n<pre><code>       fetch(url + email)\n      .then(response =&gt; response.blob())\n\n      .then(blob =&gt; URL.createObjectURL(blob))\n\n      .then(url =&gt; {\n\n          window.open(url, '_blank');\n\n          URL.revokeObjectURL(url);\n\n      });\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11603096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fa2174a6593e9b92c9d5f4763498bc6?s=128&d=identicon&r=PG&f=1", "display_name": "H&#229;vard", "link": "https://stackoverflow.com/users/11603096/h%c3%a5vard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 56460005, "answer_count": 1, "score": 1, "last_activity_date": 1559735690, "creation_date": 1559725076, "last_edit_date": 1559726132, "question_id": 56457274, "link": "https://stackoverflow.com/questions/56457274/how-to-get-submit-button-to-send-parameters-to-my-endpoint-in-typescript-react", "title": "How to get submit button to send parameters to my endpoint in Typescript,react?", "body": "<p>I'm creating a form in Typescript, React that's going to set parameteres for an API.With the right parameters the api will download a file for me. I'm wondering if there is some simple way to do this?</p>\n\n<p>Tried with fetch, but this shouldnt be needed when i only want to jump into the API?</p>\n\n<pre><code>const App = () =&gt; {\n  return (\n    &lt;div style={{ textAlign: \"center\" }}&gt;\n    &lt;MyForm onSubmit={({ email, firstName, lastName }) =&gt; {\n    // I dont know what i should put here.\n    }}\n    /&gt;\n    &lt;/div&gt;\n  );\n};\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "jestjs"], "comments": [{"owner": {"reputation": 5744, "user_id": 9680534, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Avin Kavish", "link": "https://stackoverflow.com/users/9680534/avin-kavish"}, "edited": false, "score": 1, "creation_date": 1559724481, "post_id": 56457049, "comment_id": 99506175, "body": "highly unlikely, configs need to be loaded before build tools like typescript kick in. However, you can have a typescript file that compiles to a js file in place. You will have to manually run <code>tsc</code> on the file everytime you change it. But why do you need typescript for a config file in the first place?"}, {"owner": {"reputation": 1692, "user_id": 2542165, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/27a8186d2f0f6d88ad56327bacbeb258?s=128&d=identicon&r=PG", "display_name": "jaudo", "link": "https://stackoverflow.com/users/2542165/jaudo"}, "reply_to_user": {"reputation": 5744, "user_id": 9680534, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Avin Kavish", "link": "https://stackoverflow.com/users/9680534/avin-kavish"}, "edited": false, "score": 0, "creation_date": 1559724688, "post_id": 56457049, "comment_id": 99506277, "body": "I do not really need it, but I was asking myself how to do it. When I can choose, I prefer using ts over js. Since I&#39;m using other ts modules, it would have been easier for me to have a ts file."}, {"owner": {"reputation": 681, "user_id": 2185599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01abbbf76361dc2d9c9f24227331e86b?s=128&d=identicon&r=PG", "display_name": "T Tse", "link": "https://stackoverflow.com/users/2185599/t-tse"}, "edited": false, "score": 0, "creation_date": 1559724750, "post_id": 56457049, "comment_id": 99506306, "body": "If your config for Jest needs to import other modules you&#39;re probably overcomplicating it"}, {"owner": {"reputation": 5744, "user_id": 9680534, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Avin Kavish", "link": "https://stackoverflow.com/users/9680534/avin-kavish"}, "edited": false, "score": 0, "creation_date": 1559724796, "post_id": 56457049, "comment_id": 99506336, "body": "ts has no real values for configs as configs are mostly structured json and schema checking will still be provided in js files by your ide. But yeah if you really want use the standalone typescript compiler <code>tsc</code>."}, {"owner": {"reputation": 1692, "user_id": 2542165, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/27a8186d2f0f6d88ad56327bacbeb258?s=128&d=identicon&r=PG", "display_name": "jaudo", "link": "https://stackoverflow.com/users/2542165/jaudo"}, "edited": false, "score": 0, "creation_date": 1559724966, "post_id": 56457049, "comment_id": 99506416, "body": "I&#39;m also using the configuration file to execute some code that I need to launch before my tests. I&#39;m doing this way because Jest does not have a &quot;before all suites&quot;."}], "owner": {"reputation": 1692, "user_id": 2542165, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/27a8186d2f0f6d88ad56327bacbeb258?s=128&d=identicon&r=PG", "display_name": "jaudo", "link": "https://stackoverflow.com/users/2542165/jaudo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1559738484, "creation_date": 1559724228, "last_edit_date": 1559738484, "question_id": 56457049, "link": "https://stackoverflow.com/questions/56457049/use-a-typescript-file-for-jest-configuration", "title": "Use a typescript file for Jest configuration", "body": "<p>To configure jest, it is possible to use a JSON file or a js file, as said in the documentation:</p>\n\n<blockquote>\n  <p>Jest's configuration can be defined in the package.json file of your project, or through a jest.config.js file or through the --config  option</p>\n</blockquote>\n\n<p>Is there a way for me to use a typescript file instead of a javascript file?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1559724227, "post_id": 56457041, "comment_id": 99506037, "body": "By the way, your error was forgetting interpolation <code>{{  }}</code>"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": false, "score": 0, "last_activity_date": 1559724203, "creation_date": 1559724203, "answer_id": 56457041, "question_id": 56456946, "link": "https://stackoverflow.com/questions/56456946/usinge-ternary-operators-within-tables-angular-6/56457041#56457041", "title": "Usinge ternary operators within tables Angular 6", "body": "<p>Bind the <code>Math.max</code> function to your component : </p>\n\n<pre><code>getMax = Math.max;\n</code></pre>\n\n<p>Now you can use </p>\n\n<pre><code>&lt;td&gt;\n  {{ getMax(subTable.flexitaxMaxInterest, subTable.IRDInterest) | formatNegativeNumber }}\n&lt;/td&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "is_accepted": true, "score": 1, "last_activity_date": 1559725409, "creation_date": 1559725409, "answer_id": 56457357, "question_id": 56456946, "link": "https://stackoverflow.com/questions/56456946/usinge-ternary-operators-within-tables-angular-6/56457357#56457357", "title": "Usinge ternary operators within tables Angular 6", "body": "<p>In this particular case: don't show anything if condition, you can use a <code>&lt;ng-container&gt;</code> see <a href=\"https://angular.io/guide/structural-directives#ng-container-to-the-rescue\" rel=\"nofollow noreferrer\">the official docs</a></p>\n\n<pre><code>&lt;td *ngIf=\"subTable.flexitaxMaxPaymentDate\"&gt;\n   &lt;ng-container *ngIf=\"subTable.flexitaxMaxInterest &gt; subTable.IRDInterest\"&gt;\n      {{subTable.maxAmountWithTmnzInterest | formatNegativeNumber}}\n      ({{subTable.flexitaxMaxInterest | formatNegativeNumber}})\n   &lt;/ng-container&gt;\n&lt;/td&gt;\n</code></pre>\n"}], "owner": {"reputation": 267, "user_id": 10490567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7UqXU.jpg?s=128&g=1", "display_name": "JvB", "link": "https://stackoverflow.com/users/10490567/jvb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 56457357, "answer_count": 2, "score": 0, "last_activity_date": 1563536744, "creation_date": 1559723892, "last_edit_date": 1563536744, "question_id": 56456946, "link": "https://stackoverflow.com/questions/56456946/usinge-ternary-operators-within-tables-angular-6", "title": "Usinge ternary operators within tables Angular 6", "body": "<p>I am wanting to display some amounts based on if one intrest amount is higher than the other, here is the logic:</p>\n\n<pre><code>&lt;td *ngIf=\"subTable.flexitaxMaxPaymentDate\"&gt;\n                subTable.flexitaxMaxInterest &gt; subTable.IRDInterest ? {{subTable.maxAmountWithTmnzInterest | formatNegativeNumber}} ({{subTable.flexitaxMaxInterest | formatNegativeNumber}}) : ''\n              &lt;/td&gt;\n</code></pre>\n\n<p>So in this logic, if <code>flexitaxMaxInterest</code> is greater than <code>IRDInterest</code>, I want to show the following within the <code>&lt;td&gt;</code> : <code>{{subTable.maxAmountWithTmnzInterest | formatNegativeNumber}} ({{subTable.flexitaxMaxInterest | formatNegativeNumber}})</code> , if this boolean turns out false I want to show an empty string.</p>\n\n<p>My issue is that when the table renders I get the following output:</p>\n\n<pre><code>subTable.flexitaxMaxInterest &gt; subTable.IRDInterest ? $926 ($26) : '' \n</code></pre>\n\n<p>within the table which is not what I want, I have played about with it but haven't managed to get anywhere. What would be the best way to achieve what I want?</p>\n"}, {"tags": ["typescript", "angular7"], "answers": [{"comments": [{"owner": {"reputation": 808, "user_id": 4345389, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wf9CD.png?s=128&g=1", "display_name": "Jayoti Parkash", "link": "https://stackoverflow.com/users/4345389/jayoti-parkash"}, "edited": false, "score": 0, "creation_date": 1559732461, "post_id": 56457623, "comment_id": 99509866, "body": "Can you please add some example using service to subscribe the component and show the modal popup."}], "tags": [], "owner": {"reputation": 148, "user_id": 8424071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LWwhE.png?s=128&g=1", "display_name": "Yogesh Dahiya", "link": "https://stackoverflow.com/users/8424071/yogesh-dahiya"}, "is_accepted": false, "score": 1, "last_activity_date": 1559726375, "creation_date": 1559726375, "answer_id": 56457623, "question_id": 56456857, "link": "https://stackoverflow.com/questions/56456857/modal-popup-is-not-working-in-hierarchical-component-structure-angular-bootstrap/56457623#56457623", "title": "Modal popup is not working in hierarchical component structure angular-bootstrap-md", "body": "<p>Try the following approach:</p>\n\n<p>1) Placed your model popup html to Agent  or either parent component.</p>\n\n<p>2) Create a service which would publish notification on button click. Raise  or emit event  on your button click of task-list-table or child component.</p>\n\n<p>3) Parent component subscribe to service and  a handler on parent component open model popup.</p>\n"}, {"comments": [{"owner": {"reputation": 808, "user_id": 4345389, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wf9CD.png?s=128&g=1", "display_name": "Jayoti Parkash", "link": "https://stackoverflow.com/users/4345389/jayoti-parkash"}, "edited": false, "score": 1, "creation_date": 1559908697, "post_id": 56493776, "comment_id": 99576455, "body": "May be yes, the way i am implementing it not the correct because of the modal html i.e already available in the link that you shared and i.e the old way of using it. Using it in a dynamic way is the correct one. Though I made some other changes/entry to the NgModule where I am implementing it then its working fine."}], "tags": [], "owner": {"reputation": 311, "user_id": 10201390, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa6c2728c2778ff64cc8bd6b6b496862?s=128&d=identicon&r=PG&f=1", "display_name": "Gurpreet_Carmel_5", "link": "https://stackoverflow.com/users/10201390/gurpreet-carmel-5"}, "is_accepted": true, "score": 1, "last_activity_date": 1559908294, "creation_date": 1559908294, "answer_id": 56493776, "question_id": 56456857, "link": "https://stackoverflow.com/questions/56456857/modal-popup-is-not-working-in-hierarchical-component-structure-angular-bootstrap/56493776#56493776", "title": "Modal popup is not working in hierarchical component structure angular-bootstrap-md", "body": "<p>Your usage of the modal in this scenario seems to be wrong. Use dynamic modal instead. Here's link to the documentation on implementing and using dynamic modal: <a href=\"https://mdbootstrap.com/docs/angular/modals/basic/#dynamic\" rel=\"nofollow noreferrer\">https://mdbootstrap.com/docs/angular/modals/basic/#dynamic</a> .</p>\n\n<p>Mark this answer as accepted, if it works.</p>\n"}], "owner": {"reputation": 808, "user_id": 4345389, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wf9CD.png?s=128&g=1", "display_name": "Jayoti Parkash", "link": "https://stackoverflow.com/users/4345389/jayoti-parkash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 1, "accepted_answer_id": 56493776, "answer_count": 2, "score": 2, "last_activity_date": 1559908294, "creation_date": 1559723561, "question_id": 56456857, "link": "https://stackoverflow.com/questions/56456857/modal-popup-is-not-working-in-hierarchical-component-structure-angular-bootstrap", "title": "Modal popup is not working in hierarchical component structure angular-bootstrap-md", "body": "<p>I have a hierarchical structure of components like</p>\n\n<p>Agent</p>\n\n<p>task-list (component: this also using the shared task-list-table component) </p>\n\n<p>task-type (component)</p>\n\n<p>preview-task (modal component)</p>\n\n<p>agent.component.html (task-type, task-list and preview-task are used as a reference in this component)</p>\n\n<p>Shared</p>\n\n<p>task-list-table (there is a button View in this component which shows the modal popup when user click)</p>\n\n<p>It's not working/showing the modal popup when I clicked on the button. I used the reference from this link for angular-bootstrap-md i.e <a href=\"https://mdbootstrap.com/docs/angular/modals/basic/\" rel=\"nofollow noreferrer\">https://mdbootstrap.com/docs/angular/modals/basic/</a></p>\n"}, {"tags": ["java", "typescript", "nativescript", "marshalling"], "comments": [{"owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "edited": false, "score": 0, "creation_date": 1559744039, "post_id": 56456762, "comment_id": 99516129, "body": "You have created an abstract class with constructors excepting 1 or 2 arguments but you are calling the super method with no arguments?"}, {"owner": {"reputation": 329, "user_id": 8340638, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b6e62e0c65e658c45a5ee8bb0d8dc26d?s=128&d=identicon&r=PG&f=1", "display_name": "alex_z", "link": "https://stackoverflow.com/users/8340638/alex-z"}, "reply_to_user": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "edited": false, "score": 0, "creation_date": 1559754103, "post_id": 56456762, "comment_id": 99521498, "body": "@Manoj If you look at the docs (<a href=\"https://docs.nativescript.org/core-concepts/android-runtime/binding-generator/extend-class-interface\" rel=\"nofollow noreferrer\">docs.nativescript.org/core-concepts/android-runtime/&hellip;</a>) this is how you extend the parent class"}, {"owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "edited": false, "score": 0, "creation_date": 1559793532, "post_id": 56456762, "comment_id": 99532406, "body": "Even in docs as you could see, while extending Button it&#39;s called with one parameter (<code>super(context)</code>) because it needs one parameter to be initialised."}, {"owner": {"reputation": 329, "user_id": 8340638, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b6e62e0c65e658c45a5ee8bb0d8dc26d?s=128&d=identicon&r=PG&f=1", "display_name": "alex_z", "link": "https://stackoverflow.com/users/8340638/alex-z"}, "reply_to_user": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "edited": false, "score": 0, "creation_date": 1559826967, "post_id": 56456762, "comment_id": 99547125, "body": "@Manoj in the button example there is a Javascript and TypeScript equivalent, which is:        class MyButton extends android.widget.Button {     static constructorCalled: boolean = false;     // constructor     constructor() {         super();         MyButton.constructorCalled = true;          // necessary when extending TypeScript constructors         return global.__native(this);     }      setEnabled(enabled : boolean): void {         this.super.setEnabled(enabled);     } }  let btn = new MyButton(context);"}, {"owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "edited": false, "score": 0, "creation_date": 1559829343, "post_id": 56456762, "comment_id": 99548704, "body": "I suspect the documentation is wrong then. Your class doesn&#39;t have a constructor without arguments. Within JavaScript you will have only one constructor always, based on the number of arguments you might decide how many arguments you want to pass to the native constructor as Java supports method / constructor overloading. The example given in docs would fail if you do not pass context to the super call (TypeScript)."}, {"owner": {"reputation": 329, "user_id": 8340638, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b6e62e0c65e658c45a5ee8bb0d8dc26d?s=128&d=identicon&r=PG&f=1", "display_name": "alex_z", "link": "https://stackoverflow.com/users/8340638/alex-z"}, "reply_to_user": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "edited": false, "score": 0, "creation_date": 1559842053, "post_id": 56456762, "comment_id": 99555157, "body": "@Manoj I agree that {NS}documentation could be improved... but the thing is it does not work with their provided example nor it does not work if I pass the arguments into the super class.."}], "owner": {"reputation": 329, "user_id": 8340638, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b6e62e0c65e658c45a5ee8bb0d8dc26d?s=128&d=identicon&r=PG&f=1", "display_name": "alex_z", "link": "https://stackoverflow.com/users/8340638/alex-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1559729482, "creation_date": 1559723190, "last_edit_date": 1559729482, "question_id": 56456762, "link": "https://stackoverflow.com/questions/56456762/nativescript-extending-java-class-generates-unknown-constructors", "title": "Nativescript extending java class generates unknown constructors", "body": "<p>I`m developing a plugin that uses a JAR library with an abstract class that contains two simple constructors: </p>\n\n<pre><code>public abstract class AbstractClass {\n\n    public AbstractClass(int param1) {}       \n\n    public AbstractClass(int param1, String param2) {}\n}\n</code></pre>\n\n<p>In my plugin I have defined java typing file for TypeScript, and in the actual plugin I`m extending the java abstract class like in the <a href=\"https://docs.nativescript.org/core-concepts/android-runtime/binding-generator/extend-class-interface\" rel=\"nofollow noreferrer\">DOCS</a>. However, when I try to run the demo app on my device gradle fails to build with the following error:</p>\n\n<pre><code>No suitable constructor found for AbstractClass(String, int, String)\n      super(param_0, param_1, param_2);\nconstructor AbstractClass.AbstractClass(int) is not applicable\n      (actual and formal argument lists differ in length)\n    constructor AbstractClass.AbstractClass(String,int) is not applicable\n      (actual and formal argument lists differ in length)\nincompatible types: String cannot be converted to int super(param_0);\n</code></pre>\n\n<p>My TypeScript code looks like that: </p>\n\n<pre><code>export class MyClass extends org.library.AbstractClass {\n  static constructorCalled: boolean = false;\n\n  constructor() {\n    super();\n    MyClass.constructorCalled = true;\n\n    return global.__native(this);\n  }\n}\n</code></pre>\n\n<p>But when I looked in the file that is generated by {NS}, there are three constructors with (int), (String) and (String, int, String), which is non-sense. </p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1559723195, "post_id": 56456641, "comment_id": 99505511, "body": "I know it&#39;s tangential to the question, but just FWIW, the body of <code>update</code> can be simply: <code>Object.assign(this, modifier);</code>. But I&#39;m fascinated by the error and hoping you get a good answer for the actual question. Even more bizarrely (to me), even if you add an <code>update</code> to <code>Sub</code> with the same signature as the base version, the error persists."}, {"owner": {"reputation": 371, "user_id": 9087103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dbf8664a24af82c130947a5bd9c0535?s=128&d=identicon&r=PG&f=1", "display_name": "D C", "link": "https://stackoverflow.com/users/9087103/d-c"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1559723219, "post_id": 56456641, "comment_id": 99505526, "body": "this.update.call(this, {prop:1}) works, however"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1559723310, "post_id": 56456641, "comment_id": 99505564, "body": "@DC <code>call</code> is probably untyped, if you use <code>strictBindCallApply</code> you get the same error"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1559723312, "post_id": 56456641, "comment_id": 99505565, "body": "That part isn&#39;t surprising, the type information on <code>call</code> is defined as accepting a rest array of <code>any</code>."}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1559723634, "post_id": 56456641, "comment_id": 99505735, "body": "I don&#39;t know what version of TypeScript the playground is using, but I can confirm that this still happens in TypeScript v3.5.1 (the latest as of this writing)."}, {"owner": {"reputation": 371, "user_id": 9087103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dbf8664a24af82c130947a5bd9c0535?s=128&d=identicon&r=PG&f=1", "display_name": "D C", "link": "https://stackoverflow.com/users/9087103/d-c"}, "edited": false, "score": 0, "creation_date": 1559723644, "post_id": 56456641, "comment_id": 99505739, "body": "<b>call</b> definition in lib.es5.d.ts is:   call&lt;T, A extends any[], R&gt;(this: (this: T, ...args: A) =&gt; R, thisArg: T, ...args: A): R;"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1559724335, "post_id": 56456641, "comment_id": 99506101, "body": "@DC i get an error with call if I enable <code>strictBindCallApply</code> otherwise the untyped definition of call is used"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1559724536, "post_id": 56456641, "comment_id": 99506198, "body": "@T.J.Crowder Hope the answer is good :)"}], "answers": [{"comments": [{"owner": {"reputation": 371, "user_id": 9087103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dbf8664a24af82c130947a5bd9c0535?s=128&d=identicon&r=PG&f=1", "display_name": "D C", "link": "https://stackoverflow.com/users/9087103/d-c"}, "edited": false, "score": 1, "creation_date": 1559725061, "post_id": 56457025, "comment_id": 99506461, "body": "could you please further explain why the last line of my code works however? @Titian"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 371, "user_id": 9087103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dbf8664a24af82c130947a5bd9c0535?s=128&d=identicon&r=PG&f=1", "display_name": "D C", "link": "https://stackoverflow.com/users/9087103/d-c"}, "edited": false, "score": 0, "creation_date": 1559725151, "post_id": 56457025, "comment_id": 99506508, "body": "Outside the class the type parameter is know, it can&#39;t be any type anymore, it is specifically <code>Sub</code> so the compiler knows the shape of <code>this</code> for this call"}, {"owner": {"reputation": 371, "user_id": 9087103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dbf8664a24af82c130947a5bd9c0535?s=128&d=identicon&r=PG&f=1", "display_name": "D C", "link": "https://stackoverflow.com/users/9087103/d-c"}, "edited": false, "score": 0, "creation_date": 1559725319, "post_id": 56457025, "comment_id": 99506604, "body": "I wonder how this can be known outside class but not inside class. Where can I learn that?"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 371, "user_id": 9087103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dbf8664a24af82c130947a5bd9c0535?s=128&d=identicon&r=PG&f=1", "display_name": "D C", "link": "https://stackoverflow.com/users/9087103/d-c"}, "edited": false, "score": 1, "creation_date": 1559725580, "post_id": 56457025, "comment_id": 99506722, "body": "@DC - Inside the class, <code>this</code> might be of a further subclass type (<code>SubSub</code>, <code>SubSubSub</code>, etc.). But in your call at the end, <code>new Sub()</code> is definitely a <code>Sub</code>, not a subclass of <code>Sub</code>."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 371, "user_id": 9087103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dbf8664a24af82c130947a5bd9c0535?s=128&d=identicon&r=PG&f=1", "display_name": "D C", "link": "https://stackoverflow.com/users/9087103/d-c"}, "edited": false, "score": 0, "creation_date": 1559725595, "post_id": 56457025, "comment_id": 99506735, "body": "@DC added more explanation in the answer, as well as an alternative, hope it makes things a bit more clear"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1559725752, "post_id": 56457025, "comment_id": 99506813, "body": "What bothers me about this is that as of <code>this.update({prop: 1})</code>, <code>this</code> is definitely either <code>Sub</code> or a subclass of it (barring games with <code>call</code> or <code>apply</code>). Surely <code>{prop: 1}</code> is then known to be a partial of <code>Sub</code>...?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1559725871, "post_id": 56457025, "comment_id": 99506881, "body": "@T.J.Crowder not really, for object types it is definitely not true as I showed in the answer, for primitives, given literal types and intersections.. it is still not true. This is a valid extension of <code>Sub</code>: <code>class Sub extends Base { prop!: number;}     class SubSub extends Sub { prop: 2  = 2}</code> So <code>{prop: 1}</code> is valid for <code>Sub</code> buit not valid for <code>SubSub</code>"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1559727888, "post_id": 56457025, "comment_id": 99507858, "body": "@TitianCernicova-Dragomir - That subclass violates the Liskov substitution principle. I wouldn&#39;t expect a static type system like TypeScript&#39;s to support Liskov violations, much less let that support prevent doing useful things."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1559728354, "post_id": 56457025, "comment_id": 99508082, "body": "@T.J.Crowder I agree with you that is a bit surprising, but the a object subtype in general does subtypes for properties. So while the <code>number</code> case is wierd, it is valid subtyping at the moment. I think the object property sub-typing is what is really preventing this from being implemented, and rather than just allowing some properties, a blanket ban is simpler to implement. <code>this</code> type is generally wierd and a lot less useful then it seems at first .."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1559725546, "last_edit_date": 1559725546, "creation_date": 1559724152, "answer_id": 56457025, "question_id": 56456641, "link": "https://stackoverflow.com/questions/56456641/how-to-fix-cannot-assign-to-partialthis-in-subclass-method/56457025#56457025", "title": "How to fix &#39;cannot assign to Partial&lt;this&gt;&#39; in subclass method?", "body": "<p>Polymorphic <code>this</code> is not a regular type it is in fact a type parameter to your class. A hidden type parameter that is managed by the compiler, but a type parameter nonetheless. Since <code>this</code> is just a type parameter, with a constraint of extending the current class (something like <code>class Base&lt;This extends Base&gt; {}</code>) it is not fully known inside the class.</p>\n\n<p>There are many questions on SO about why we can't assign a value to a variable of a generic type parameter, or why conditional/mapped types don't work well with generic type parameters. For example this does not work either:</p>\n\n<pre><code>function partial&lt;T extends { prop: number }&gt;(): Partial&lt;T&gt; {\n    return { prop: 1 }\n}\n</code></pre>\n\n<p>The reason this general class of issues do not work, is that we only know the minimal interface <code>T</code> must implement, we don't know <code>T</code> fully. Consider this example:</p>\n\n<pre><code>function getObj&lt;T extends { prop: { name: string } }&gt;(): Partial&lt;T&gt; {\n    return { prop: { name: \"\" } }// still an error\n}\nvar r = getObj&lt;{ prop: { name: string, lastName: string}}&gt;();\nr.prop!.lastName // r should have last name, where is my lastName ?!\n</code></pre>\n\n<p><code>prop</code> in <code>T</code> is constrained to have <code>name</code>, but it could have more props as shown by the valid call below. We would expect <code>r</code> to respect the <code>T</code> passed in but in fact the value returned is not valid for the given <code>T</code>. To prevent such surprises, typescript does not generally allow us to assign concrete value where a type parameter is involved (since we don't really know the final shape of the type parameter)</p>\n\n<p>Coming back to polymorphic <code>this</code>, the above reasoning holds, <code>this</code> is a type parameter that is not fully known and thus an object literal can't be assigned to it since we don't know the final shape of <code>this</code>. </p>\n\n<p>Consider a similar example to the one above:</p>\n\n<pre><code>class Base {\n    update(modifier: Partial&lt;this&gt;) {\n        Object.keys(modifier).forEach(key =&gt; {\n            this[key] = modifier[key];\n        });\n    }\n}\n\nclass Sub extends Base {\n    prop! :{\n        name: string\n    };\n\n    job() {\n        this.update({ prop: { name: string } }); // not valid for any class, example below\n    }\n}\n\nclass Sub2 extends Sub {\n    prop! : {\n        name: string\n        lastName: string\n    };\n}\n</code></pre>\n\n<p>I chose to replace <code>number</code> with an object type as it is easier to understand the issue, but similar type issues can occur with <code>number</code>. Number could be a number literal type in derived classes. </p>\n\n<p>Outside of the class polymorphic <code>this</code> is known (much like it would be known in the call to a generic function) this is why the call succeeds outside the class.</p>\n\n<pre><code>new Sub().update({ prop: 1 }); // this is Sub for this call so Partial&lt;Sub&gt; is { prop?: number }\n</code></pre>\n\n<p>Inside the class polymorphic <code>this</code> could be <code>Sub</code> or any derived class of <code>Sub</code>. Outside <code>this</code> collapses to just the specific type reference the function was invoked on (this is not 100% sound either but it is a compromise to make this useful)</p>\n\n<p>The only way to fix this issue is to either use a type assertion and accept that this is not type safe. Or use a second type parameter that represent the props of the class, although this will mean your inheritance hierarchy can have only one level where new props can be added.</p>\n\n<pre><code>class Base&lt;TProps&gt; {\n    update(modifier: Partial&lt;TProps&gt;) {\n        Object.assign(this, modifier);\n    }\n}\n\nclass Sub extends Base&lt;Sub&gt; {\n    prop: number;\n\n    job() {\n        this.update({ prop: 1 });\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 371, "user_id": 9087103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dbf8664a24af82c130947a5bd9c0535?s=128&d=identicon&r=PG&f=1", "display_name": "D C", "link": "https://stackoverflow.com/users/9087103/d-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3631, "favorite_count": 0, "accepted_answer_id": 56457025, "answer_count": 1, "score": 3, "last_activity_date": 1559725546, "creation_date": 1559722715, "last_edit_date": 1559722934, "question_id": 56456641, "link": "https://stackoverflow.com/questions/56456641/how-to-fix-cannot-assign-to-partialthis-in-subclass-method", "title": "How to fix &#39;cannot assign to Partial&lt;this&gt;&#39; in subclass method?", "body": "<p>If I invoke the base class's <code>update</code> method via a subclass instance it works, but it gives me this error if I do it inside a subclass method:</p>\n\n<blockquote>\n  <p>Argument of type '{ prop: number; }' is not assignable to parameter of type 'Partial&lt;this>'.</p>\n</blockquote>\n\n<pre class=\"lang-js prettyprint-override\"><code>class Base {\n    update(modifier: Partial&lt;this&gt;) {\n        Object.keys(modifier).forEach(key =&gt; {\n            this[key] = modifier[key];\n        });\n    }\n}\n\nclass Sub extends Base {\n    prop;\n\n    job() {\n        // Error: Argument of type '{ prop: number; }' is not assignable \n        // to parameter of type 'Partial&lt;this&gt;'.ts(2345)\n        this.update({ prop: 1 });\n    }\n}\n\nnew Sub().update({ prop: 1 }); // but it works here!\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/index.html#src=class%20Base%20%7B%0D%0A%20%20%20%20update(modifier%3A%20Partial%3Cthis%3E)%20%7B%0D%0A%20%20%20%20%20%20%20%20Object.keys(modifier).forEach(key%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this%5Bkey%5D%20%3D%20modifier%5Bkey%5D%3B%0D%0A%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Aclass%20Sub%20extends%20Base%20%7B%0D%0A%20%20%20%20prop%3B%0D%0A%0D%0A%20%20%20%20job()%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20Error%3A%20Argument%20of%20type%20&#39;%7B%20prop%3A%20number%3B%20%7D&#39;%20is%20not%20assignable%20%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20to%20parameter%20of%20type%20&#39;Partial%3Cthis%3E&#39;.ts(2345)%0D%0A%20%20%20%20%20%20%20%20this.update(%7B%20prop%3A%201%20%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Anew%20Sub().update(%7B%20prop%3A%201%20%7D)%3B%20%2F%2F%20but%20it%20works%20here!\" rel=\"nofollow noreferrer\">Live on the TypeScript playground</a>.</p>\n\n<p>How do I fix it?</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "react-data-grid"], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 3168273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca4c06c94d8fee5a6849646f64ea98fa?s=128&d=identicon&r=PG", "display_name": "YoyoO", "link": "https://stackoverflow.com/users/3168273/yoyoo"}, "is_accepted": false, "score": 2, "last_activity_date": 1574389475, "last_edit_date": 1574389475, "creation_date": 1559722355, "answer_id": 56456552, "question_id": 56456534, "link": "https://stackoverflow.com/questions/56456534/how-to-get-rid-of-console-warning-enablerowselect-has-been-deprecated-please/56456552#56456552", "title": "How to get rid of console warning &quot;enableRowSelect has been deprecated... Please use rowSelection instead.&quot;&quot;", "body": "<p>Workaround:\nSet prop 'enableRowSelect' to null :</p>\n\n<pre><code>&lt;ReactDataGrid\n  columns={this.state.columns}\n  rowGetter={this.rowGetter}\n  rowsCount={this.getSize()}\n\n  enableRowSelect={null}\n\n  /&gt;\n</code></pre>\n\n<p>Edit: It appears that it will be fixed in the <code>7.0.0</code> release. The fix is included in <code>7.0.0-alpha.18</code>. More details <a href=\"https://github.com/adazzle/react-data-grid/issues/1403#issuecomment-529417574\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 71, "user_id": 3168273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca4c06c94d8fee5a6849646f64ea98fa?s=128&d=identicon&r=PG", "display_name": "YoyoO", "link": "https://stackoverflow.com/users/3168273/yoyoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 423, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1574389475, "creation_date": 1559722304, "question_id": 56456534, "link": "https://stackoverflow.com/questions/56456534/how-to-get-rid-of-console-warning-enablerowselect-has-been-deprecated-please", "title": "How to get rid of console warning &quot;enableRowSelect has been deprecated... Please use rowSelection instead.&quot;&quot;", "body": "<p>)\nI'm using React Data Grid(<a href=\"https://adazzle.github.io/react-data-grid/\" rel=\"nofollow noreferrer\">https://adazzle.github.io/react-data-grid/</a>) a few times in my app. I've noticed that there is a console warning for a prop \"enableRowSelect\", that prints whether you are using the aforementioned prop or not.<br/>\n<br/><br/>\nConsole Warning:</p>\n\n<blockquote>\n  <p>enableRowSelect has been deprecated and will be removed in a future version. Please use rowSelection instead</p>\n</blockquote>\n\n<p>minimal, reproducible example<br/>\nInstall RDG<br/>\n$ <code>npm install react-data-grid --save</code><br/>\nor with yarn:<br/>\n$ <code>yarn add react-data-grid</code><br/></p>\n\n<p><em>file.tsx</em></p>\n\n<pre><code>import React from 'react';\nimport ReactDataGrid from 'react-data-grid';\n\nconst columns = [\n  { key: 'id', name: 'ID' },\n  { key: 'title', name: 'Title' },\n  { key: 'count', name: 'Count' } ];\n\nconst rows = [{id: 0, title: 'row1', count: 20}, {id: 1, title: 'row1', count: 40}, {id: 2, title: 'row1', count: 60}];\n\nfunction HelloWorld() {\n  return (\n    &lt;ReactDataGrid\n      columns={columns}\n      rowGetter={i =&gt; rows[i]}\n      rowsCount={3}\n    /&gt;\n  );\n}\n\n</code></pre>\n\n<p>check your console<br/></p>\n\n<p>That's actually snippet from: <br/>\n<a href=\"https://adazzle.github.io/react-data-grid/docs/examples/simple-grid\" rel=\"nofollow noreferrer\">https://adazzle.github.io/react-data-grid/docs/examples/simple-grid</a>\n<br/>You can check your console warnings @ that linked page as well.</p>\n\n<p>I expect that when I'm using the base grid as described in the docs, that there will be no errors/warnings.</p>\n\n<pre><code>     ?                                0     1     1\n &gt;&lt;({,''&gt;                         &lt;'',}})&gt;&lt;   1   0          \n                                   0   1  0                \n\n</code></pre>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 2192, "user_id": 6754222, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/K8lzX.jpg?s=128&g=1", "display_name": "Patrick Hollweck", "link": "https://stackoverflow.com/users/6754222/patrick-hollweck"}, "edited": false, "score": 0, "creation_date": 1559722817, "post_id": 56456445, "comment_id": 99505340, "body": "&quot;and allow valid js to compile&quot; The code from your image (which should be included in text form in the question btw) is valid js, but it is not valid typescript and you are writing typescript and not javascript. Therefore it is correct for typescript not to compile it. So what is your question? Do you want to turn off the error? Do you want to fix it? Do you want to disable the prompt? Or do you want to compile even when there are errors?"}, {"owner": {"reputation": 365, "user_id": 8585168, "user_type": "registered", "profile_image": "https://graph.facebook.com/1453348104701323/picture?type=large", "display_name": "Igor Pavlenko", "link": "https://stackoverflow.com/users/8585168/igor-pavlenko"}, "reply_to_user": {"reputation": 2192, "user_id": 6754222, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/K8lzX.jpg?s=128&g=1", "display_name": "Patrick Hollweck", "link": "https://stackoverflow.com/users/6754222/patrick-hollweck"}, "edited": false, "score": 0, "creation_date": 1559725156, "post_id": 56456445, "comment_id": 99506511, "body": "hello Patrick, sorry if it&#39;s not very clear ... I want to be able to see the error in the console/terminal but to be able to compile, for example: if i am assigning string to number, the error with display in the console but i wil not see this in the browser hope its clear"}], "answers": [{"tags": [], "owner": {"reputation": 737, "user_id": 8664336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y8mW5.jpg?s=128&g=1", "display_name": "Stundji", "link": "https://stackoverflow.com/users/8664336/stundji"}, "is_accepted": false, "score": 2, "last_activity_date": 1559723160, "creation_date": 1559723160, "answer_id": 56456753, "question_id": 56456445, "link": "https://stackoverflow.com/questions/56456445/how-to-allow-javascript-compilation-with-typescript-errors/56456753#56456753", "title": "How to allow javascript compilation with typescript errors,", "body": "<p>You cannot do that. But you can put <code>//@ts-ignore</code> before the line which contains the error.\nIn your case:</p>\n\n<pre><code>{/* \n  //@ts-ignore */} //this will do the trick\n{value.galleryId} &lt;DragHandle /&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 466, "user_id": 7405522, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UnPehhN6szE/AAAAAAAAAAI/AAAAAAAAAlY/vq2WJNOGi9g/photo.jpg?sz=128", "display_name": "Matthias Fischer", "link": "https://stackoverflow.com/users/7405522/matthias-fischer"}, "is_accepted": false, "score": 0, "last_activity_date": 1559726492, "creation_date": 1559726492, "answer_id": 56457653, "question_id": 56456445, "link": "https://stackoverflow.com/questions/56456445/how-to-allow-javascript-compilation-with-typescript-errors/56457653#56457653", "title": "How to allow javascript compilation with typescript errors,", "body": "<p>If you use webpack the <a href=\"https://www.npmjs.com/package/fork-ts-checker-webpack-plugin\" rel=\"nofollow noreferrer\"><strong>ForkTsCheckerWebpackPlugin</strong></a> will achieve something like you want to do. This plugin will separate the compile process from the error reporting. After you have installed and imported this plugin, you will need to set the <code>ts-loader</code> to compile only mode. In the plugins section the plugin needs to be injected, to do the error reporting separately.  </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const ForkTsCheckerWebpackPlugin = require('fork-ts-checker-webpack-plugin');\n//...\n   module: {\n      rules: [{\n          test: /\\.tsx?$/,\n          use: [\n            // ...\n            {\n              loader: 'ts-loader',\n              options: {\n                // disable ts checker - will run it in fork plugin leater\n                transpileOnly: true\n              }\n            }\n          ]\n        }, \n   // ..\n   ],\n   plugins: [\n      new ForkTsCheckerWebpackPlugin({\n         tsconfig: path.resolve(__dirname, 'tsconfig.json')\n      }),\n   // ...\n</code></pre>\n"}], "owner": {"reputation": 365, "user_id": 8585168, "user_type": "registered", "profile_image": "https://graph.facebook.com/1453348104701323/picture?type=large", "display_name": "Igor Pavlenko", "link": "https://stackoverflow.com/users/8585168/igor-pavlenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1580, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1559726492, "creation_date": 1559721953, "question_id": 56456445, "link": "https://stackoverflow.com/questions/56456445/how-to-allow-javascript-compilation-with-typescript-errors", "title": "How to allow javascript compilation with typescript errors,", "body": "<p>I am using vs code with create-react-app --typescript, if i get any type errors i see it in the browser and typescript prevents compilation. i would like to see the errors only in google console and terminal but allow the valid js to compile.<a href=\"https://i.stack.imgur.com/TEkBH.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs"], "owner": {"reputation": 213, "user_id": 11573388, "user_type": "registered", "profile_image": "https://graph.facebook.com/2369894809890161/picture?type=large", "display_name": "Cleave Kokle", "link": "https://stackoverflow.com/users/11573388/cleave-kokle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "closed_date": 1559721680, "answer_count": 0, "score": 2, "last_activity_date": 1559721657, "creation_date": 1559721361, "question_id": 56456323, "link": "https://stackoverflow.com/questions/56456323/how-to-combine-data-from-two-api-endpoints", "closed_reason": "Duplicate", "title": "How to combine data from two API endpoints?", "body": "<p>I have a component which has a dropdown. Based on what's selected in dropdown - the component displays additional information, by issuing another HTTP request.</p>\n\n<p>If nothing is selected (first time component is displayed), then component should selected first one from the list</p>\n\n<p>I have tried to subscribe to API response, but then I need to make nested API call, which I know is a bad practice...</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>ngOnInit() {\n this.myService.getSelectedUnit(this.id).subscribe(selectedUnit =&gt; {\n   this.myService.getAllUnits().subscribe(units =&gt; {\n\n    if (!selectedUnit) {\n      selectedUnit = units[0];\n    }\n\n      this.myService.getUnitData(selectedUnit).subscribe(data =&gt; {\n        this.data = data;\n      });\n\n   });\n\n});\n\n}\n</code></pre>\n\n<p>I would like to avoid nesting the api calls and integrate it into one observable sequence.</p>\n"}, {"tags": ["javascript", "typescript", "intellij-idea", "constructor", "webstorm"], "answers": [{"tags": [], "owner": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "is_accepted": true, "score": 2, "last_activity_date": 1559726118, "creation_date": 1559726118, "answer_id": 56457554, "question_id": 56456233, "link": "https://stackoverflow.com/questions/56456233/webstorm-thinks-error-constructor-has-zero-args/56457554#56457554", "title": "WebStorm thinks Error constructor has zero args", "body": "<p>Known issue, <a href=\"https://youtrack.jetbrains.com/issue/WEB-32758\" rel=\"nofollow noreferrer\">WEB-32758</a> is fixed in upcoming IDEA 2019.2</p>\n"}], "owner": {"reputation": 6341, "user_id": 1226020, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/6af606149e832996a335d459cdafb88e?s=128&d=identicon&r=PG", "display_name": "JHH", "link": "https://stackoverflow.com/users/1226020/jhh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 421, "favorite_count": 0, "accepted_answer_id": 56457554, "answer_count": 1, "score": 2, "last_activity_date": 1559726118, "creation_date": 1559721005, "question_id": 56456233, "link": "https://stackoverflow.com/questions/56456233/webstorm-thinks-error-constructor-has-zero-args", "title": "WebStorm thinks Error constructor has zero args", "body": "<p>Running WebStorm 2019.1 with ECMAScript 6 language level.</p>\n\n<p>If I do the following:</p>\n\n<pre><code>new Error('Foobar');\n</code></pre>\n\n<p>it will not produce any warnings. But if I do the following:</p>\n\n<pre><code>class SomeError extends Error {\n  constructor(message) {\n    super(message);\n  }      \n}\n</code></pre>\n\n<p>Then WebStorm complains on the call to the super constructor, saying <em>Invalid number of arguments, expected 0</em>.</p>\n\n<p>I also tried using spread arguments, such as </p>\n\n<pre><code>constructor(...args) {\n  super(...args);\n}\n</code></pre>\n\n<p>This gives the same results - <em>0 args expected</em>.</p>\n\n<p>Checking the <code>lib.es5.d.ts</code> file, the interfaces for Error look like this:</p>\n\n<pre><code>interface Error {\n   name: string;\n   message: string;\n   stack?: string;\n}\n\ninterface ErrorConstructor {\n   new(message?: string): Error;\n   (message?: string): Error;\n   readonly prototype: Error;\n}\n\ndeclare var Error: ErrorConstructor;\n</code></pre>\n\n<p>This looks correct to me. So why does the IDE insist that when extending <code>Error</code>, the super-class constructor must not have any arguments? Sure, I can do <code>this.message = message;</code> instead, but I'm curious as to what's going on.\nIs this a problem with the IDE, with some of my settings for language level compatibility, or am I stupid?</p>\n"}, {"tags": ["javascript", "typescript", "numbers", "eslint", "lint"], "comments": [{"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 1, "creation_date": 1559719732, "post_id": 56455915, "comment_id": 99504055, "body": "Is the situation you care about only inside an <code>if</code>, like in the code above?"}, {"owner": {"reputation": 15708, "user_id": 128662, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e25c1b1285205a14ec422c6eb9ab8736?s=128&d=identicon&r=PG", "display_name": "Cyril Gandon", "link": "https://stackoverflow.com/users/128662/cyril-gandon"}, "reply_to_user": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1559719838, "post_id": 56455915, "comment_id": 99504095, "body": "I am unsure I understand your question fully, but yes, generally it is only inside the <code>if</code> that I want the linter to alert me."}, {"owner": {"reputation": 15708, "user_id": 128662, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e25c1b1285205a14ec422c6eb9ab8736?s=128&d=identicon&r=PG", "display_name": "Cyril Gandon", "link": "https://stackoverflow.com/users/128662/cyril-gandon"}, "reply_to_user": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1559720080, "post_id": 56455915, "comment_id": 99504191, "body": "It doesn&#39;t looks too complicated, but TSLint is going down soon, and I have never work on ESLint, I don&#39;t know how the code compares to TSLint (where at least I know the code a little)"}, {"owner": {"reputation": 5538, "user_id": 5980430, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e941fd748178dc871ae6a9974d5099d4?s=128&d=identicon&r=PG&f=1", "display_name": "apple apple", "link": "https://stackoverflow.com/users/5980430/apple-apple"}, "edited": false, "score": 1, "creation_date": 1559720546, "post_id": 56455915, "comment_id": 99504358, "body": "I don&#39;t think eslint would provide type information (if tslint have), so it would be quite complicated."}, {"owner": {"reputation": 239, "user_id": 11521196, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rHrql00HBZg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rced4g1j7ZXplGv4k2kUV7MzcZK4g/mo/photo.jpg?sz=128", "display_name": "Vardaman PK", "link": "https://stackoverflow.com/users/11521196/vardaman-pk"}, "edited": false, "score": 0, "creation_date": 1559720547, "post_id": 56455915, "comment_id": 99504359, "body": "You will likely have to create your own rule. Refer <a href=\"https://eslint.org/docs/developer-guide/working-with-plugins\" rel=\"nofollow noreferrer\">eslint.org/docs/developer-guide/working-with-plugins</a> for writing your own ESLint rules."}], "answers": [{"tags": [], "owner": {"reputation": 1539, "user_id": 269448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbf876e123027b9573d3a25a8a63bf6b?s=128&d=identicon&r=PG", "display_name": "Zbigniew Zag&#243;rski", "link": "https://stackoverflow.com/users/269448/zbigniew-zag%c3%b3rski"}, "is_accepted": false, "score": 5, "last_activity_date": 1559726409, "creation_date": 1559726409, "answer_id": 56457635, "question_id": 56455915, "link": "https://stackoverflow.com/questions/56455915/is-there-eslint-or-tslint-rule-that-checks-that-truthy-falsy-logical-operator-is/56457635#56457635", "title": "Is there ESLint or TSLint rule that checks that truthy/falsy logical operator is not applied to numbers?", "body": "<p><code>tslint</code> has <a href=\"https://palantir.github.io/tslint/rules/strict-boolean-expressions/\" rel=\"noreferrer\">strict-boolean-expressions</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 134, "user_id": 10247962, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-92j3smLwkaI/AAAAAAAAAAI/AAAAAAAAAFY/mBpAvcFFIIU/photo.jpg?sz=128", "display_name": "Henrique Bruno", "link": "https://stackoverflow.com/users/10247962/henrique-bruno"}, "is_accepted": false, "score": 0, "last_activity_date": 1605912898, "creation_date": 1605912898, "answer_id": 64938002, "question_id": 56455915, "link": "https://stackoverflow.com/questions/56455915/is-there-eslint-or-tslint-rule-that-checks-that-truthy-falsy-logical-operator-is/64938002#64938002", "title": "Is there ESLint or TSLint rule that checks that truthy/falsy logical operator is not applied to numbers?", "body": "<p>For Typescript ESLint (as TSLint has been deprecated), there is a rule with the same name that <a href=\"https://stackoverflow.com/users/269448\">Zbigniew Zag\u00f3rski</a> mentioned in the other answer: <a href=\"https://github.com/typescript-eslint/typescript-eslint/blob/master/packages/eslint-plugin/docs/rules/strict-boolean-expressions.md\" rel=\"nofollow noreferrer\">strict-boolean-expressions</a></p>\n"}], "owner": {"reputation": 15708, "user_id": 128662, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e25c1b1285205a14ec422c6eb9ab8736?s=128&d=identicon&r=PG", "display_name": "Cyril Gandon", "link": "https://stackoverflow.com/users/128662/cyril-gandon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 479, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1605912898, "creation_date": 1559719591, "last_edit_date": 1559720009, "question_id": 56455915, "link": "https://stackoverflow.com/questions/56455915/is-there-eslint-or-tslint-rule-that-checks-that-truthy-falsy-logical-operator-is", "title": "Is there ESLint or TSLint rule that checks that truthy/falsy logical operator is not applied to numbers?", "body": "<p>I had a bug today where I unexpectedly skip a call to a function because my variable was 0:</p>\n\n<pre><code>const foo: number | undefined = getFoo();\nif(foo) {\n   // Will not be called if foo is zero\n   doSomething(foo);\n}\n</code></pre>\n\n<p>This is a pattern I use pretty often, testing if a variable is defined. This works with everything, objects, arrays, strings... Except number.<br>\nThis is not the 1st time I got a bug like this.</p>\n\n<p>Is there a rule that will alert me, something like:</p>\n\n<pre><code>if(foo)\n   --- Warning, testing a number variable that can be defined, but equals to zero\n</code></pre>\n\n<p>Something that will force me to write:</p>\n\n<pre><code>if(foo !== undefined)\n</code></pre>\n\n<p>It is less pretty, but at least it has the correct behaviour.</p>\n\n<p>Edit: after thinking about this, it appears that the same problem can occur with the type <code>string</code> and the value <code>\"\"</code> (empty string)</p>\n"}, {"tags": ["typescript", "react-router", "react-router-v4"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1559717608, "post_id": 56455478, "comment_id": 99503214, "body": "<a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/react-router/v3/lib\" rel=\"nofollow noreferrer\">github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 22458, "user_id": 5421539, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/39375cb7a86a17c5b92b79d0fee6d169?s=128&d=identicon&r=PG&f=1", "display_name": "Joey Yi Zhao", "link": "https://stackoverflow.com/users/5421539/joey-yi-zhao"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1559732095, "post_id": 56455478, "comment_id": 99509713, "body": "the repos doesn&#39;t have version 4."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1559732199, "post_id": 56455478, "comment_id": 99509750, "body": "Looks like they moved to <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/react-router-dom\" rel=\"nofollow noreferrer\">github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types&zwnj;&#8203;/&hellip;</a>, although weirdly v5 is back over at <code>@types&#47;react-router</code>. Anyway, the point is you can just look at DT for whichever <code>@types</code> package you&#39;re using."}, {"owner": {"reputation": 22458, "user_id": 5421539, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/39375cb7a86a17c5b92b79d0fee6d169?s=128&d=identicon&r=PG&f=1", "display_name": "Joey Yi Zhao", "link": "https://stackoverflow.com/users/5421539/joey-yi-zhao"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1559734474, "post_id": 56455478, "comment_id": 99510792, "body": "How can I import the type from this package? I have tried `import { History } from @types/node&#39; but it doesn&#39;t work"}, {"owner": {"reputation": 22458, "user_id": 5421539, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/39375cb7a86a17c5b92b79d0fee6d169?s=128&d=identicon&r=PG&f=1", "display_name": "Joey Yi Zhao", "link": "https://stackoverflow.com/users/5421539/joey-yi-zhao"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1559734733, "post_id": 56455478, "comment_id": 99510900, "body": "@jonrsharpe I have checked the code <code>https:&#47;&#47;github.com&#47;DefinitelyTyped&#47;DefinitelyTyped&#47;blob&#47;mast&zwnj;&#8203;er&#47;types&#47;react-route&zwnj;&#8203;r-dom&#47;index.d.ts</code> but it doesn&#39;t have any types for <code>history</code>, <code>match</code> and `location."}], "answers": [{"comments": [{"owner": {"reputation": 22458, "user_id": 5421539, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/39375cb7a86a17c5b92b79d0fee6d169?s=128&d=identicon&r=PG&f=1", "display_name": "Joey Yi Zhao", "link": "https://stackoverflow.com/users/5421539/joey-yi-zhao"}, "edited": false, "score": 1, "creation_date": 1559819461, "post_id": 56472560, "comment_id": 99542932, "body": "Thanks. How about the other two, <code>match</code> and <code>location</code>?"}], "tags": [], "owner": {"reputation": 5349, "user_id": 5132337, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/fcj6b.jpg?s=128&g=1", "display_name": "Siraj Alam", "link": "https://stackoverflow.com/users/5132337/siraj-alam"}, "is_accepted": true, "score": 7, "last_activity_date": 1559820258, "last_edit_date": 1559820258, "creation_date": 1559805262, "answer_id": 56472560, "question_id": 56455478, "link": "https://stackoverflow.com/questions/56455478/where-can-i-find-types-for-react-router-dom-location-history-and-match/56472560#56472560", "title": "Where can I find types for react-router-dom Location, History and Match?", "body": "<pre class=\"lang-js prettyprint-override\"><code>import { History, Location } from 'history';\nimport {match} from 'react-router';\n</code></pre>\n\n<p>You can check out <code>@types/react-router</code>. There you can see all the types defined and imported from <code>@types/history</code>.</p>\n"}], "owner": {"reputation": 22458, "user_id": 5421539, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/39375cb7a86a17c5b92b79d0fee6d169?s=128&d=identicon&r=PG&f=1", "display_name": "Joey Yi Zhao", "link": "https://stackoverflow.com/users/5421539/joey-yi-zhao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3437, "favorite_count": 0, "accepted_answer_id": 56472560, "answer_count": 1, "score": 4, "last_activity_date": 1559820258, "creation_date": 1559717478, "last_edit_date": 1559734689, "question_id": 56455478, "link": "https://stackoverflow.com/questions/56455478/where-can-i-find-types-for-react-router-dom-location-history-and-match", "title": "Where can I find types for react-router-dom Location, History and Match?", "body": "<p>When I use <code>withRouter</code> from <code>react-router-dom</code> v4.3.2, it passes three props to the component, <code>history</code>, <code>match</code> and <code>location</code>. Where can I find the type definition for these three objects for TypeScript?</p>\n\n<p>I have checked this link <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/react-router/v3/lib\" rel=\"noreferrer\">https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/react-router/v3/lib</a> but it doesn't have version 4. In addition, the type defined there doesn't include <code>History location and match</code>.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "sass", "single-page-application"], "answers": [{"tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": false, "score": 1, "last_activity_date": 1559717216, "creation_date": 1559717216, "answer_id": 56455436, "question_id": 56455350, "link": "https://stackoverflow.com/questions/56455350/whats-the-different-between-styles-and-stylepreprocessoroptions-in-angular-json/56455436#56455436", "title": "What&#39;s the different between styles and stylePreprocessorOptions in angular.json in a Angular project", "body": "<p><code>styles</code> : Global styles to be included in the build. So your app will have multi style and you can import to this array so that when angular build your code you will have a global style for whole application</p>\n\n<p><code>stylePreprocessorOptions</code>: Options to pass to style preprocessors. This will allow you to add custom path for scss, sass, or less</p>\n\n<p>You can see the config <a href=\"https://github.com/angular/angular-cli/blob/master/packages/angular/cli/lib/config/schema.json#L594\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 3141, "user_id": 2010955, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/87922d37974fbb6418e0c9593339a7ed?s=128&d=identicon&r=PG", "display_name": "user2010955", "link": "https://stackoverflow.com/users/2010955/user2010955"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576223414, "creation_date": 1559716707, "last_edit_date": 1576223414, "question_id": 56455350, "link": "https://stackoverflow.com/questions/56455350/whats-the-different-between-styles-and-stylepreprocessoroptions-in-angular-json", "title": "What&#39;s the different between styles and stylePreprocessorOptions in angular.json in a Angular project", "body": "<p>I'm not sure to understand the difference between <strong>styles</strong> array and <strong>stylePreprocessorOptions > includePaths</strong> array in the angular.json.</p>\n\n<p>can someone enlighten me?</p>\n\n<p>Thanks! :)</p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 93, "user_id": 3230906, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/vnMqX.png?s=128&g=1", "display_name": "envoy", "link": "https://stackoverflow.com/users/3230906/envoy"}, "edited": false, "score": 0, "creation_date": 1559718199, "post_id": 56455335, "comment_id": 99503438, "body": "Maybe you are looking for a BehaviorSubject.  <a href=\"https://stackoverflow.com/questions/39494058/behaviorsubject-vs-observable#40231605\" title=\"behaviorsubject vs observable%2340231605\">stackoverflow.com/questions/39494058/&hellip;</a>"}, {"owner": {"reputation": 3543, "user_id": 1010911, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/465c08c1433b9836d8880bafc7463161?s=128&d=identicon&r=PG", "display_name": "Bjorn &#39;Bjeaurn&#39; S", "link": "https://stackoverflow.com/users/1010911/bjorn-bjeaurn-s"}, "edited": false, "score": 0, "creation_date": 1559718842, "post_id": 56455335, "comment_id": 99503713, "body": "Most people are not looking for a Subject. You&#39;ve got a perfectly fine Observable right there. Use one of its 80 operators to get what you want."}], "answers": [{"comments": [{"owner": {"reputation": 3543, "user_id": 1010911, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/465c08c1433b9836d8880bafc7463161?s=128&d=identicon&r=PG", "display_name": "Bjorn &#39;Bjeaurn&#39; S", "link": "https://stackoverflow.com/users/1010911/bjorn-bjeaurn-s"}, "edited": false, "score": 0, "creation_date": 1559719171, "post_id": 56455815, "comment_id": 99503832, "body": "How does shareReplay() help here? It doesn&#39;t complete."}, {"owner": {"reputation": 1228, "user_id": 10196188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a253d56ba4bab0beddf1a7a8ec68a1a4?s=128&d=identicon&r=PG&f=1", "display_name": "dummdidumm", "link": "https://stackoverflow.com/users/10196188/dummdidumm"}, "reply_to_user": {"reputation": 3543, "user_id": 1010911, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/465c08c1433b9836d8880bafc7463161?s=128&d=identicon&r=PG", "display_name": "Bjorn &#39;Bjeaurn&#39; S", "link": "https://stackoverflow.com/users/1010911/bjorn-bjeaurn-s"}, "edited": false, "score": 0, "creation_date": 1559719279, "post_id": 56455815, "comment_id": 99503867, "body": "He wants to receive the last emitted value. shareReplay accomplishes that."}, {"owner": {"reputation": 3543, "user_id": 1010911, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/465c08c1433b9836d8880bafc7463161?s=128&d=identicon&r=PG", "display_name": "Bjorn &#39;Bjeaurn&#39; S", "link": "https://stackoverflow.com/users/1010911/bjorn-bjeaurn-s"}, "edited": false, "score": 0, "creation_date": 1559720065, "post_id": 56455815, "comment_id": 99504186, "body": "It... does not? It makes the Observable hot. The <code>editClick$</code> is a <code>fromEvent</code> stream which, by default, never completes. <code>shareReplay()</code> just makes it a <code>ReplaySubject</code> under the hood. The only thing this will accomplish is emit the last known value upon subscription. This is highly inefficient."}, {"owner": {"reputation": 1228, "user_id": 10196188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a253d56ba4bab0beddf1a7a8ec68a1a4?s=128&d=identicon&r=PG&f=1", "display_name": "dummdidumm", "link": "https://stackoverflow.com/users/10196188/dummdidumm"}, "reply_to_user": {"reputation": 3543, "user_id": 1010911, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/465c08c1433b9836d8880bafc7463161?s=128&d=identicon&r=PG", "display_name": "Bjorn &#39;Bjeaurn&#39; S", "link": "https://stackoverflow.com/users/1010911/bjorn-bjeaurn-s"}, "edited": false, "score": 0, "creation_date": 1559720272, "post_id": 56455815, "comment_id": 99504254, "body": "This is not highly inefficient, it&#39;s exactly what he wants: I read &quot;subscriber should receive last emitted value&quot; as &quot;save last value and emit it for new subscribers&quot;. So having one value cached is not evil but needed in this use case. Please remove your downvote."}, {"owner": {"reputation": 3543, "user_id": 1010911, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/465c08c1433b9836d8880bafc7463161?s=128&d=identicon&r=PG", "display_name": "Bjorn &#39;Bjeaurn&#39; S", "link": "https://stackoverflow.com/users/1010911/bjorn-bjeaurn-s"}, "edited": false, "score": 0, "creation_date": 1559720680, "post_id": 56455815, "comment_id": 99504412, "body": "I&#39;ll let @Jordi describe if your assumption is correct before I will change anything. The recommendation of using <code>Subjects</code> without proper cause (he&#39;s already using a perfectly fine creation operator for his Observable, there is no need for a Subject here) seems like bad practice to me and is being done way to much."}, {"owner": {"reputation": 14794, "user_id": 3227319, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d0dfcc684d444bcbd4b48734230d5b11?s=128&d=identicon&r=PG&f=1", "display_name": "Jordi", "link": "https://stackoverflow.com/users/3227319/jordi"}, "reply_to_user": {"reputation": 3543, "user_id": 1010911, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/465c08c1433b9836d8880bafc7463161?s=128&d=identicon&r=PG", "display_name": "Bjorn &#39;Bjeaurn&#39; S", "link": "https://stackoverflow.com/users/1010911/bjorn-bjeaurn-s"}, "edited": false, "score": 0, "creation_date": 1559724066, "post_id": 56455815, "comment_id": 99505948, "body": "@Bjorn&#39;Bjeaurn&#39;S , @user10196188 is on the right path. I&#39;ve solved that using <code>publishBehavior() + refCount()</code> operators."}], "tags": [], "owner": {"reputation": 1228, "user_id": 10196188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a253d56ba4bab0beddf1a7a8ec68a1a4?s=128&d=identicon&r=PG&f=1", "display_name": "dummdidumm", "link": "https://stackoverflow.com/users/10196188/dummdidumm"}, "is_accepted": false, "score": 0, "last_activity_date": 1559720704, "last_edit_date": 1559720704, "creation_date": 1559719097, "answer_id": 56455815, "question_id": 56455335, "link": "https://stackoverflow.com/questions/56455335/angular-rxjs-get-last-or-default-value-from-observable/56455815#56455815", "title": "Angular RxJs: get last or default value from observable", "body": "<p>I read you second requirement as \"when a new subscriber subscribes, he wants to get the latest value immediately\". This will do it then:</p>\n\n<pre><code>this.editing$ = editClick$.pipe(\n  map(() =&gt; true),\n  startWith(false), // &lt;- this will be the starting value\n  shareReplay(1) // &lt;- the last emitted value will be saved and emitted immediately when a new subscriber subscribes\n);\n</code></pre>\n\n<p>If this is not what your second requirement is about, please clarify what exactly your use case is.</p>\n"}, {"tags": [], "owner": {"reputation": 3543, "user_id": 1010911, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/465c08c1433b9836d8880bafc7463161?s=128&d=identicon&r=PG", "display_name": "Bjorn &#39;Bjeaurn&#39; S", "link": "https://stackoverflow.com/users/1010911/bjorn-bjeaurn-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1559725522, "last_edit_date": 1559725522, "creation_date": 1559719140, "answer_id": 56455823, "question_id": 56455335, "link": "https://stackoverflow.com/questions/56455335/angular-rxjs-get-last-or-default-value-from-observable/56455823#56455823", "title": "Angular RxJs: get last or default value from observable", "body": "<p>I'm quite happy with your choice to create an Observable out of <code>fromEvent</code> (be advised, the syntax you're showing signals and older (deprecated) version of RxJS, what version are you running? I will be using the latest version for my examples)</p>\n\n<p>I think for your first question, you will want <code>startWith()</code>.</p>\n\n<p><a href=\"https://github.com/ReactiveX/rxjs/blob/master/src/internal/operators/startWith.ts\" rel=\"nofollow noreferrer\">https://github.com/ReactiveX/rxjs/blob/master/src/internal/operators/startWith.ts</a></p>\n\n<p>You'll use it like this:</p>\n\n<pre><code>fromEvent(this.editButton.nativeElement, 'click').pipe(\n    map(() =&gt; true),\n    startWith(false)\n)\n</code></pre>\n\n<p>The second question is a bit more complicated, as a <code>fromEvent()</code> <code>Observable</code> does not <code>complete</code> by default. This gives you a couple of options and it would heavily depend on your usecase.</p>\n\n<p>The operators that come to mind:\n<code>take(x)</code> where x is a number of values to accept. If this is the first value, <code>first()</code> works as well.</p>\n\n<p><code>debounceTime(ms)</code>, which buffers all inputs and only emits after the debounce miliseconds has passed. You could add a <code>take(1)</code> after that in combination to make it complete after.</p>\n\n<p>Perhaps if you could expand on your use case, we could help you determine which operators or combination of these would help.</p>\n"}, {"comments": [{"owner": {"reputation": 3543, "user_id": 1010911, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/465c08c1433b9836d8880bafc7463161?s=128&d=identicon&r=PG", "display_name": "Bjorn &#39;Bjeaurn&#39; S", "link": "https://stackoverflow.com/users/1010911/bjorn-bjeaurn-s"}, "edited": false, "score": 0, "creation_date": 1559725637, "post_id": 56457054, "comment_id": 99506751, "body": "Why a <code>publishBehavior()</code> instead of a <code>publishLast()</code> ? Because a <code>publishBehavior()</code> is also a <code>multicast()</code> <a href=\"https://github.com/ReactiveX/rxjs/blob/master/src/internal/operators/publishBehavior.ts\" rel=\"nofollow noreferrer\">github.com/ReactiveX/rxjs/blob/master/src/internal/operators&zwnj;&#8203;/&hellip;</a>.  And so is a <code>publishLast()</code> by the way, but it seems to link up more with what you want; the last value."}, {"owner": {"reputation": 14794, "user_id": 3227319, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d0dfcc684d444bcbd4b48734230d5b11?s=128&d=identicon&r=PG&f=1", "display_name": "Jordi", "link": "https://stackoverflow.com/users/3227319/jordi"}, "reply_to_user": {"reputation": 3543, "user_id": 1010911, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/465c08c1433b9836d8880bafc7463161?s=128&d=identicon&r=PG", "display_name": "Bjorn &#39;Bjeaurn&#39; S", "link": "https://stackoverflow.com/users/1010911/bjorn-bjeaurn-s"}, "edited": false, "score": 0, "creation_date": 1559725895, "post_id": 56457054, "comment_id": 99506893, "body": "<code>publishLast</code> needs source completes. When I wrote out I want to receive last emitted value, I meant &quot;the most recent emited value&quot;..."}, {"owner": {"reputation": 3543, "user_id": 1010911, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/465c08c1433b9836d8880bafc7463161?s=128&d=identicon&r=PG", "display_name": "Bjorn &#39;Bjeaurn&#39; S", "link": "https://stackoverflow.com/users/1010911/bjorn-bjeaurn-s"}, "edited": false, "score": 0, "creation_date": 1559726407, "post_id": 56457054, "comment_id": 99507118, "body": "Alright. A <code>publishReplay(1)</code> would achieve exactly the same, and limits its buffer to one. My main issue with this is, you have a nice functioning hot observable because you use a <code>creation operator</code>, and you&#39;re using another &quot;internal&quot; subject to achieve this.   Honestly, I don&#39;t know which operator would give you the <code>replay</code> behavior you&#39;re looking for without creating a subject interally. At least it&#39;s not a manual one as a consolation prize. ;-). I upvoted it nonetheless, although I&#39;m not entirely sure if the <code>refCount()</code> is required. Any of the <code>publish()</code> operators are <code>multicast()</code>."}], "tags": [], "owner": {"reputation": 14794, "user_id": 3227319, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d0dfcc684d444bcbd4b48734230d5b11?s=128&d=identicon&r=PG&f=1", "display_name": "Jordi", "link": "https://stackoverflow.com/users/3227319/jordi"}, "is_accepted": false, "score": 1, "last_activity_date": 1559724258, "creation_date": 1559724258, "answer_id": 56457054, "question_id": 56455335, "link": "https://stackoverflow.com/questions/56455335/angular-rxjs-get-last-or-default-value-from-observable/56457054#56457054", "title": "Angular RxJs: get last or default value from observable", "body": "<p>In order to make a default value is returned:</p>\n\n<pre><code>this.editing$.pipe(publishBehavior(), refCount());\n</code></pre>\n\n<p>It's similar to <code>share()</code> operator, but <code>share() === multicast(() =&gt; new Subject()).refCount()</code></p>\n\n<p>I sugguest you take a look on this <a href=\"https://itnext.io/the-magic-of-rxjs-sharing-operators-and-their-differences-3a03d699d255\" rel=\"nofollow noreferrer\">link</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 4073629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b3f359369d3adeef478a1bb19145352?s=128&d=identicon&r=PG&f=1", "display_name": "Smola", "link": "https://stackoverflow.com/users/4073629/smola"}, "is_accepted": false, "score": 0, "last_activity_date": 1583610557, "creation_date": 1583610557, "answer_id": 60581609, "question_id": 56455335, "link": "https://stackoverflow.com/questions/56455335/angular-rxjs-get-last-or-default-value-from-observable/60581609#60581609", "title": "Angular RxJs: get last or default value from observable", "body": "<p>I guess you don't want startWith(false) because the subscriber might get 2 emits, and you only want 1 emit.\nHow about this:</p>\n\n<pre><code>this.editing$ = editClick$.pipe(\nmapTo(() =&gt; true),\ndefaultIfEmpty(false),\n);\n</code></pre>\n"}], "owner": {"reputation": 14794, "user_id": 3227319, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d0dfcc684d444bcbd4b48734230d5b11?s=128&d=identicon&r=PG&f=1", "display_name": "Jordi", "link": "https://stackoverflow.com/users/3227319/jordi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1196, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1583610557, "creation_date": 1559716620, "question_id": 56455335, "link": "https://stackoverflow.com/questions/56455335/angular-rxjs-get-last-or-default-value-from-observable", "title": "Angular RxJs: get last or default value from observable", "body": "<p>I've created an <code>Observable</code> from <code>\"click\"</code> button event:</p>\n\n<pre><code>let editClick$ = Observable.fromEvent(this.editButton.nativeElement, 'click');\n</code></pre>\n\n<p>So, when \"edit\" button is clicked it means user is editing:</p>\n\n<pre><code>this.editing$ = editClick$.pipe(map(() =&gt; true));\n</code></pre>\n\n<p>The problem arises when \"edit\" button</p>\n\n<ol>\n<li>has not been clicked (default value would have to be <code>false</code>), or</li>\n<li>subscriber should receive last emitted value.</li>\n</ol>\n\n<p>Any ideas?</p>\n"}, {"tags": ["node.js", "regex", "typescript", "express"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11597965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ff17fa680f608e2d338994569d0c5?s=128&d=identicon&r=PG&f=1", "display_name": "Dharmesh Nayak", "link": "https://stackoverflow.com/users/11597965/dharmesh-nayak"}, "is_accepted": false, "score": -1, "last_activity_date": 1559721952, "last_edit_date": 1559721952, "creation_date": 1559715438, "answer_id": 56455111, "question_id": 56454992, "link": "https://stackoverflow.com/questions/56454992/express-app-get-pattern-is-throwing-cannot-get/56455111#56455111", "title": "express app get pattern is throwing &quot;Cannot GET&quot;", "body": "<p>In app.js main file:</p>\n\n<pre><code>app.use(\"/\",routesfile);\n</code></pre>\n\n<p>In routes file:</p>\n\n<pre><code>router.get('/929/&lt;CHAPTER&gt;',controller file)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 638, "user_id": 3946410, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100000083208935/picture?type=large", "display_name": "Chi\u1ebfn Ngh&#234;", "link": "https://stackoverflow.com/users/3946410/chi%e1%ba%bfn-ngh%c3%aa"}, "is_accepted": true, "score": 1, "last_activity_date": 1559715933, "creation_date": 1559715933, "answer_id": 56455202, "question_id": 56454992, "link": "https://stackoverflow.com/questions/56454992/express-app-get-pattern-is-throwing-cannot-get/56455202#56455202", "title": "express app get pattern is throwing &quot;Cannot GET&quot;", "body": "<p>Because the regular expression is usually part of a literal string, be sure to escape any \\ characters with an additional backslash, for example \\\\d+.</p>\n\n<p>So the correct fourth route should be:</p>\n\n<pre><code>app.get(\"/929/:chapter(([1-9]|[1-9][0-9]|[1-8][0-9]{2}|9[01][0-9]|92[0-9]))/:articleId((\\\\d+))[/]{0,1}\", articleMiddleware);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 156, "user_id": 11537733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea59eea86e385fc38b629945248960e9?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/11537733/aaron"}, "is_accepted": false, "score": 1, "last_activity_date": 1559716585, "creation_date": 1559716585, "answer_id": 56455324, "question_id": 56454992, "link": "https://stackoverflow.com/questions/56454992/express-app-get-pattern-is-throwing-cannot-get/56455324#56455324", "title": "express app get pattern is throwing &quot;Cannot GET&quot;", "body": "<p>add \\ to escape the \\</p>\n\n<p>so</p>\n\n<p>from</p>\n\n<pre><code>app.get(\"/929/:chapter(([1-9]|[1-9][0-9]|[1-8][0-9]{2}|9[01][0-9]|92[0-9]))/:articleId((\\d+))[/]{0,1}\", articleMiddleware);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>app.get(\"/929/:chapter(([1-9]|[1-9][0-9]|[1-8][0-9]{2}|9[01][0-9]|92[0-9]))/:articleId((\\\\d+))[/]{0,1}\", articleMiddleware);\n</code></pre>\n"}], "owner": {"reputation": 2483, "user_id": 1157173, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/QN3pZ.png?s=128&g=1", "display_name": "Dorad", "link": "https://stackoverflow.com/users/1157173/dorad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 56455202, "answer_count": 3, "score": 0, "last_activity_date": 1559721952, "creation_date": 1559714707, "question_id": 56454992, "link": "https://stackoverflow.com/questions/56454992/express-app-get-pattern-is-throwing-cannot-get", "title": "express app get pattern is throwing &quot;Cannot GET&quot;", "body": "<p>I have the following type of pages:</p>\n\n<ol>\n<li>root (<code>/</code>)</li>\n<li>todays chapter (<code>/929</code> OR <code>/929/</code>) which eventually redirects to <code>/929/&lt;CHAPTER&gt;</code> where <code>&lt;CHAPTER&gt;</code> is a natural number between 1 to 929</li>\n<li>chapters (<code>/929/&lt;CHAPTER&gt;</code> OR <code>/929/&lt;CHAPTER&gt;/</code>) where <code>&lt;CHAPTER&gt;</code> is a natural number between 1 to 929</li>\n<li>articles about the chapters (<code>/929/&lt;CHAPTER&gt;/&lt;ARTICLE_ID&gt;</code> OR <code>/929/&lt;CHAPTER&gt;/&lt;ARTICLE_ID&gt;/</code>), where <code>&lt;CHAPTER&gt;</code> is a natural number between 1 to 929 and  is a natural number like 1,2...99999999</li>\n</ol>\n\n<p>1 to 3 page types work fine. The fourth is throwing:</p>\n\n<blockquote>\n  <p>Cannot GET /929/233/3027</p>\n</blockquote>\n\n<p>Here's code:</p>\n\n<pre><code>app.get(\"/\", rootMiddleware);\napp.get(\"/929[/]{0,1}\", todaysChapterMiddleware);\napp.get(\"/929/:chapter(([1-9]|[1-9][0-9]|[1-8][0-9]{2}|9[01][0-9]|92[0-9]))[/]{0,1}\", chapterMiddleware);\napp.get(\"/929/:chapter(([1-9]|[1-9][0-9]|[1-8][0-9]{2}|9[01][0-9]|92[0-9]))/:articleId((\\d+))[/]{0,1}\", articleMiddleware);\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 473, "user_id": 7957792, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JEWdQRna4SE/AAAAAAAAAAI/AAAAAAAAACc/UjLDoUn8mng/photo.jpg?sz=128", "display_name": "AsukaSong", "link": "https://stackoverflow.com/users/7957792/asukasong"}, "is_accepted": true, "score": 2, "last_activity_date": 1559713933, "creation_date": 1559713933, "answer_id": 56454883, "question_id": 56454795, "link": "https://stackoverflow.com/questions/56454795/define-an-interface-as-having-all-the-keys-of-a-given-object/56454883#56454883", "title": "Define an interface as having all the keys of a given object", "body": "<pre><code>interface Config {\n  [key: string]: number;\n}\n\ninterface Foo {\n  value: number;\n}\n\ntype ConfiguredObject&lt;T&gt; = {\n  [key in keyof T]: Foo;\n}\n\nfunction createConfiguredObject&lt;T extends Config&gt;(config: T): ConfiguredObject&lt;T&gt; {\n  return Object.entries(config).reduce((acc, cur) =&gt; {\n    return {\n      ...acc,\n      [cur[0]]: {\n        value: cur[1] * 10\n      }\n    };\n  }, {} as ConfiguredObject&lt;T&gt;);\n}\n\nconst myObject = createConfiguredObject({\n  foo: 1,\n  bar: 2\n});\n\nconsole.log(myObject.foo.value); //No warning\nconsole.log(myObject.charlie.value); //Property 'charlie' does not exist on type 'ConfiguredObject&lt;{ foo: number; bar: number; }&gt;'.\nconsole.log(myObject.foo.aaa); //'Property 'aaa' does not exist on type 'Foo'.ts(2339)'\n</code></pre>\n\n<p>hope this can help you</p>\n"}], "owner": {"reputation": 7109, "user_id": 1068446, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/F5uzH.jpg?s=128&g=1", "display_name": "dwjohnston", "link": "https://stackoverflow.com/users/1068446/dwjohnston"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20, "favorite_count": 0, "accepted_answer_id": 56454883, "answer_count": 1, "score": 0, "last_activity_date": 1559713933, "creation_date": 1559713345, "question_id": 56454795, "link": "https://stackoverflow.com/questions/56454795/define-an-interface-as-having-all-the-keys-of-a-given-object", "title": "Define an interface as having all the keys of a given object", "body": "<p>I'm writing some code that looks like this: </p>\n\n<pre><code>interface Config {\n  [key: string]: number;\n}\n\ninterface Foo {\n  value: number;\n}\n\ninterface ConfiguredObject {\n  [key: string]: Foo;\n}\n\nfunction createConfiguredObject(config: Config): ConfiguredObject {\n  return Object.entries(config).reduce((acc, cur) =&gt; {\n    return {\n      ...acc,\n      [cur[0]]: {\n        value: cur[1] * 10\n      }\n    };\n  }, {});\n}\n\nconst myObject = createConfiguredObject({\n  foo: 1,\n  bar: 2\n});\n\nconsole.log(myObject.foo.value); //No warning\nconsole.log(myObject.charlie.value); //No warning, but will throw an error\nconsole.log(myObject.foo.aaa); //'Property 'aaa' does not exist on type 'Foo'.ts(2339)'\n</code></pre>\n\n<p><a href=\"https://codesandbox.io/s/loving-taussig-88try\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/loving-taussig-88try</a></p>\n\n<p>That is - I want to pass a <code>Config</code> object into a function, and then have that function return an object with matching keys, and some kinds of values.</p>\n\n<p>The issue I have with what I currently have, is that typescript won't warn me if I try access a key that doesn't exist (in the <code>myObject.charlie</code> example).  </p>\n\n<p>How would I change my code to achieve this? </p>\n"}, {"tags": ["typescript", "tsconfig"], "comments": [{"owner": {"reputation": 803, "user_id": 2965537, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3f30ad895ec511aceff59c018bbd910b?s=128&d=identicon&r=PG", "display_name": "Arjan", "link": "https://stackoverflow.com/users/2965537/arjan"}, "edited": false, "score": 0, "creation_date": 1559722681, "post_id": 56454794, "comment_id": 99505283, "body": "Do you want to share the tsconfig file (as the title suggests), or do you want to share the typescript files (as your attempts suggest)?"}, {"owner": {"reputation": 85, "user_id": 10944561, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xL-vA25wfYU/AAAAAAAAAAI/AAAAAAAAABE/8j2G6E_4xfw/photo.jpg?sz=128", "display_name": "Yerbol Suleimanov", "link": "https://stackoverflow.com/users/10944561/yerbol-suleimanov"}, "reply_to_user": {"reputation": 803, "user_id": 2965537, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3f30ad895ec511aceff59c018bbd910b?s=128&d=identicon&r=PG", "display_name": "Arjan", "link": "https://stackoverflow.com/users/2965537/arjan"}, "edited": false, "score": 0, "creation_date": 1559734505, "post_id": 56454794, "comment_id": 99510805, "body": "@Arjan I want to share tsconfig file"}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 10944561, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xL-vA25wfYU/AAAAAAAAAAI/AAAAAAAAABE/8j2G6E_4xfw/photo.jpg?sz=128", "display_name": "Yerbol Suleimanov", "link": "https://stackoverflow.com/users/10944561/yerbol-suleimanov"}, "edited": false, "score": 0, "creation_date": 1560166018, "post_id": 56477411, "comment_id": 99634746, "body": "Thank&#39;s @Arjan! It&#39;s - what I want!"}], "tags": [], "owner": {"reputation": 803, "user_id": 2965537, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3f30ad895ec511aceff59c018bbd910b?s=128&d=identicon&r=PG", "display_name": "Arjan", "link": "https://stackoverflow.com/users/2965537/arjan"}, "is_accepted": true, "score": 0, "last_activity_date": 1559823325, "creation_date": 1559823325, "answer_id": 56477411, "question_id": 56454794, "link": "https://stackoverflow.com/questions/56454794/can-i-put-tsconfig-file-in-one-project-and-use-it-in-another/56477411#56477411", "title": "Can I put tsconfig file in one project and use it in another?", "body": "<p>If you want to share a tsconfig between two projects, you can extend a <code>tsconfig.json</code> file. For example you have a shared file <code>shared.json</code>.\nEach project would have it's own <code>tsconfig.json</code> file and extending the base file <code>shared.json</code>, like so:</p>\n\n<pre><code>{\n  \"extends\": \"../shared\",\n  &lt;options here that are different&gt;\n}\n</code></pre>\n\n<p>More info on this page:\n<a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/tsconfig-json.html</a></p>\n"}], "owner": {"reputation": 85, "user_id": 10944561, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xL-vA25wfYU/AAAAAAAAAAI/AAAAAAAAABE/8j2G6E_4xfw/photo.jpg?sz=128", "display_name": "Yerbol Suleimanov", "link": "https://stackoverflow.com/users/10944561/yerbol-suleimanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "accepted_answer_id": 56477411, "answer_count": 1, "score": 1, "last_activity_date": 1559823325, "creation_date": 1559713343, "question_id": 56454794, "link": "https://stackoverflow.com/questions/56454794/can-i-put-tsconfig-file-in-one-project-and-use-it-in-another", "title": "Can I put tsconfig file in one project and use it in another?", "body": "<p>I have submodule in my solution projects. Both of them(1st 2nd projects) have .ts files, so I want to put tsconfig.json in submodule and share it for both of them.</p>\n\n<p>In file system they are located like this:</p>\n\n<pre><code>~/solution\n--project1\n  --Scripts\n    --(ts files)\n--submodule\n  --tsconfig.json(I want to put it here)\n\n~/solution\n--project2\n  --Scripts\n    --(ts files)\n--submodule\n\nproject1's name is equal with project2's name\n</code></pre>\n\n<p>I have tried to add rootDir to compilerOptions</p>\n\n<pre><code>   \"rootDir\": \"..\\\\project1\\\\Scripts\\\\**\\\\*\"\n</code></pre>\n\n<p>I tried to add</p>\n\n<pre><code>  \"include\": [\n    \"..\\\\project1\\\\Scripts\\\\**\\\\*\"\n  ]\n</code></pre>\n\n<p>None of them work for me.</p>\n\n<p>here is my tsconfig.json</p>\n\n<pre><code>{\n  \"compileOnSave\": true,\n  \"buildOnSave\": true,\n  \"compilerOptions\": {\n    \"noImplicitAny\": false,\n    \"noEmitOnError\": true,\n    \"removeComments\": true,\n    \"sourceMap\": false,\n    \"target\": \"es5\",\n    \"module\": \"none\",\n    \"types\": [],\n    \"emitBOM\": false,\n    \"charset\": \"utf8\"\n  },\n  \"exclude\": [\n    \"node_modules\",\n    \"wwwroot\"\n  ]\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "firebase", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 68, "user_id": 2292560, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IYns_jD_xiY/AAAAAAAAAAI/AAAAAAAABVw/aUYswAvHX_w/photo.jpg?sz=128", "display_name": "Yair", "link": "https://stackoverflow.com/users/2292560/yair"}, "edited": false, "score": 0, "creation_date": 1559788239, "post_id": 56455523, "comment_id": 99531566, "body": "What can I do with the browserModule? is my import &quot;import { BrowserModule } from &#39;@angular/platform-browser&#39;&quot; wrong?"}, {"owner": {"reputation": 99, "user_id": 2173524, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c6dd8034bcb8842bbc83f921fce0475e?s=128&d=identicon&r=PG&f=1", "display_name": "Vipul Handa", "link": "https://stackoverflow.com/users/2173524/vipul-handa"}, "reply_to_user": {"reputation": 68, "user_id": 2292560, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IYns_jD_xiY/AAAAAAAAAAI/AAAAAAAABVw/aUYswAvHX_w/photo.jpg?sz=128", "display_name": "Yair", "link": "https://stackoverflow.com/users/2292560/yair"}, "edited": false, "score": 0, "creation_date": 1559812255, "post_id": 56455523, "comment_id": 99539121, "body": "i suppose below mentioned link should be able to help u <a href=\"https://github.com/angular/angular/issues/15232\" rel=\"nofollow noreferrer\">github.com/angular/angular/issues/15232</a> <a href=\"https://github.com/angular/angularfire2/issues/1706\" rel=\"nofollow noreferrer\">github.com/angular/angularfire2/issues/1706</a>"}], "tags": [], "owner": {"reputation": 99, "user_id": 2173524, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c6dd8034bcb8842bbc83f921fce0475e?s=128&d=identicon&r=PG&f=1", "display_name": "Vipul Handa", "link": "https://stackoverflow.com/users/2173524/vipul-handa"}, "is_accepted": false, "score": 0, "last_activity_date": 1559717658, "creation_date": 1559717658, "answer_id": 56455523, "question_id": 56454406, "link": "https://stackoverflow.com/questions/56454406/adding-firestore-to-angular-component-constructor-throws-no-provider-error/56455523#56455523", "title": "adding firestore to Angular component constructor throws No provider error", "body": "<p>It seems issues is with BrowserModule from @angular/platform-</p>\n\n<ul>\n<li>platformBrowserDynamic is a function used to bootstrap an Angular application.</li>\n<li>BrowserModule exports CommonModule and provides a few services specific to the \nbrowser platform (in contrary to ServerModule or ServiceWorkerModule).</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 68, "user_id": 2292560, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IYns_jD_xiY/AAAAAAAAAAI/AAAAAAAABVw/aUYswAvHX_w/photo.jpg?sz=128", "display_name": "Yair", "link": "https://stackoverflow.com/users/2292560/yair"}, "is_accepted": false, "score": 0, "last_activity_date": 1560352175, "creation_date": 1560352175, "answer_id": 56565381, "question_id": 56454406, "link": "https://stackoverflow.com/questions/56454406/adding-firestore-to-angular-component-constructor-throws-no-provider-error/56565381#56565381", "title": "adding firestore to Angular component constructor throws No provider error", "body": "<p>I'm going to answer my own question. I got it to work this way, I removed AngularFirestore from my app.component.ts, set the workservice as private in the constructor:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport {WorkService} from '../work.service';\n\ninterface Work {\n  name: string;\n  desc: string;\n  image: string;\n}\n\n\n@Component({\n  selector: 'app-works',\n  templateUrl: './works.component.html',\n  styleUrls: ['./works.component.css']\n})\nexport class WorksComponent implements OnInit {\n\n  works: Observable&lt;Work[]&gt;;\n\n  constructor(private workService: WorkService) { }\n\n  ngOnInit() {\n    this.works = this.workService.getWorks();\n  }\n\n}\n\n</code></pre>\n\n<p>Here is my app.module.ts:</p>\n\n<pre><code>import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\n\nimport { WorksComponent } from './works/works.component';\nimport { ReactiveFormsModule } from \"@angular/forms\";\n\nimport { environment } from \"src/environments/environment\";\nimport { AngularFireModule } from \"@angular/fire\";\nimport { AngularFirestoreModule } from \"@angular/fire/firestore\";\nimport { WorksGifComponent } from './works-gif/works-gif.component';\nimport { WorkService } from './work.service';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    WorksComponent,\n    WorksGifComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    ReactiveFormsModule,\n    AngularFireModule.initializeApp(environment.firebaseConfig),\n    AngularFirestoreModule\n  ],\n  providers: [WorkService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n</code></pre>\n\n<p>And the service.ts, I found an example with Observable and by creating an interface with the data model of the collection at my Firestore database:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { AngularFirestoreCollection } from '@angular/fire/firestore';\nimport { AngularFirestore } from '@angular/fire/firestore';\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class WorkService {\n\n  worksCol: AngularFirestoreCollection&lt;Work&gt;;\n  works: Observable&lt;Work[]&gt;;\n\n  constructor(private afs: AngularFirestore) { }\n\n  getWorks() {\n    this.worksCol = this.afs.collection('works');\n    this.works = this.worksCol.valueChanges();\n    return this.worksCol.valueChanges();\n  }\n}\n\ninterface Work {\n  name: string;\n  desc: string;\n  image: string;\n}\n\n</code></pre>\n\n<p>This worked, hope it can help someone. Thanks</p>\n"}], "owner": {"reputation": 68, "user_id": 2292560, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IYns_jD_xiY/AAAAAAAAAAI/AAAAAAAABVw/aUYswAvHX_w/photo.jpg?sz=128", "display_name": "Yair", "link": "https://stackoverflow.com/users/2292560/yair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 220, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1560352175, "creation_date": 1559710290, "last_edit_date": 1559710415, "question_id": 56454406, "link": "https://stackoverflow.com/questions/56454406/adding-firestore-to-angular-component-constructor-throws-no-provider-error", "title": "adding firestore to Angular component constructor throws No provider error", "body": "<p>I'm trying to setup basic Angular 8 application with <strong>Google Firestore</strong>. I have tried all solutions available here, but could not find something that could solve the error I'm getting.  I am getting the following error when running app.</p>\n\n<blockquote>\n  <p>No provider for InjectionToken Platform ID!</p>\n</blockquote>\n\n<p>What am I doing wrong?  Thanks in advance.</p>\n\n<p>Here is my app.component.ts:</p>\n\n<pre><code>import { Component,OnInit } from '@angular/core';\nimport {WorkService} from 'src/app/work.service';\nimport { AngularFirestore } from '@angular/fire/firestore';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  title = 'ysport';\n  constructor(private db: AngularFirestore, workService:WorkService){}\n\n  ngOnInit() {\n\n  }\n\n\n}\n</code></pre>\n\n<p>Here is my app.module.ts:</p>\n\n<pre><code>import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\n\nimport { AngularFireModule } from '@angular/fire';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { AngularFireDatabaseModule } from '@angular/fire/database';\nimport { environment } from '../environments/environment';\nimport { WorksComponent } from './works/works.component';\nimport { WorkService } from \"./work.service\";\n\n\nimport { AngularFirestoreModule } from '@angular/fire/firestore';\n@NgModule({\n  declarations: [\n    AppComponent,\n    WorksComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    AngularFireModule.initializeApp(environment.firebaseConfig),\n    AngularFirestoreModule\n  ],\n  providers: [WorkService\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n</code></pre>\n\n<p>Here is the service I am trying to use:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { Work } from 'src/app/work.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WorkService {\n\n  constructor(private firestore: AngularFirestore) { }\n\n  getWorks() {\n      return this.firestore.collection('works').snapshotChanges();\n  }\n}\n\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "typescript2.0"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1559712044, "creation_date": 1559712044, "answer_id": 56454615, "question_id": 56454289, "link": "https://stackoverflow.com/questions/56454289/typescript-utility-to-union-multiple-types-that-each-intersect-to-a-single-base/56454615#56454615", "title": "TypeScript utility to union multiple types that each intersect to a single &quot;base&quot; type", "body": "<p>The logic in this type is pretty complex so either way you put it the type is going to be pretty complex. The approach I would use is to break down each piece of logic in a separate type and then intersect them.</p>\n\n<p>For <code>truncate</code> and <code>expanded</code> we would get:</p>\n\n<pre><code>  type Truncatable = {\n    truncate: true;\n    expanded?: boolean\n  } | {\n    truncate?: false;\n  }\n</code></pre>\n\n<p>For <code>as</code> and <code>bigHeading</code> we would get:</p>\n\n<pre><code>type HeadingOrText = {\n    as: \"p\" | \"span\"\n} | {\n    as: \"h1\" | \"h2\" | \"h3\" | \"h4\" | \"h5\" | \"h6\";\n    bigHeading?: boolean;\n}\n</code></pre>\n\n<p>We can then intersect them to get the final union we want. There is one complication though with excess property checks that is outlined <a href=\"https://stackoverflow.com/questions/52677576/typescript-discriminated-union-allows-invalid-state/52678379#52678379\">here</a> and we will use the solution presented there. We can also use the <code>Id</code> type to flatten out the props for nicer errors and tool-tips:</p>\n\n<pre><code>type UnionKeys&lt;T&gt; = T extends any ? keyof T : never;\ntype StrictUnionHelper&lt;T, TAll&gt; = T extends any ? T &amp; Partial&lt;Record&lt;Exclude&lt;UnionKeys&lt;TAll&gt;, keyof T&gt;, never&gt;&gt; : never;\ntype StrictUnion&lt;T&gt; = StrictUnionHelper&lt;T, T&gt;\n\ntype Id&lt;T&gt; = {} &amp; { [P in keyof T]: T[P] }\n\ntype Truncateable = {\n    truncate: true;\n    expanded?: boolean\n} | {\n    truncate?: false;\n}\ntype HeadingOrText = {\n    as: \"p\" | \"span\"\n} | {\n    as: \"h1\" | \"h2\" | \"h3\" | \"h4\" | \"h5\" | \"h6\";\n    bigHeading?: boolean;\n}\n\ntype WithChildren = {\n    children: React.ReactNode;\n}\ntype Props = Id&lt;StrictUnion&lt;HeadingOrText &amp; WithChildren &amp; Truncateable&gt;&gt;\n\nlet h1: Props = {\n    as: \"h1\",\n    bigHeading: true,\n    truncate: true,\n    expanded: false,\n    children: []\n}\n\n\nlet hErr: Props = {\n    as: \"h1\",\n    bigHeading: true,\n    truncate: false,\n    expanded: false, // causes error\n    children: []\n}\n\n\n\nlet p: Props = { // ok\n    as: \"p\",\n    children: []\n}\n\nlet pErr: Props = {\n    as: \"p\",\n    children: [],\n    bigHeading: true // causes error\n}\n</code></pre>\n\n<p>While not necessarily less code I think this solution composes well and allows the addition of other mixin-like types to the union.</p>\n"}], "owner": {"reputation": 173, "user_id": 9973558, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jn7Z6RiEAUQ/AAAAAAAAAAI/AAAAAAAAAEA/gd_b-nXvnZk/photo.jpg?sz=128", "display_name": "Stephen Koo", "link": "https://stackoverflow.com/users/9973558/stephen-koo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 56454615, "answer_count": 1, "score": 0, "last_activity_date": 1559712897, "creation_date": 1559709153, "last_edit_date": 1559712897, "question_id": 56454289, "link": "https://stackoverflow.com/questions/56454289/typescript-utility-to-union-multiple-types-that-each-intersect-to-a-single-base", "title": "TypeScript utility to union multiple types that each intersect to a single &quot;base&quot; type", "body": "<p>When I have a type property that requires another property in the type to be a specific value, my types become overly complex. I'd like to write a utility type that abstracts the logic.</p>\n\n<p>Example. Say I write a type that relates to a Text (React) component I'm building:</p>\n\n<pre><code>type Props = {\n  children: React.ReactNode; // Just a React type, not pertinent to the question\n  as: \"p\" | \"span\" | \"h1\" | \"h2\" | \"h3\" | \"h4\" | \"h5\" | \"h6\"; // The html tag for the text\n  truncate?: boolean; // Whether to truncate the text when it is long\n  expanded?: boolean; // The truncated text is expanded when this is true\n  bigHeading?: boolean; // When `as` is `\"h1\" | \"h2\" | \"h3\" | \"h4\" | \"h5\" | \"h6\"`, this property makes a normal heading extra large.\n}\n</code></pre>\n\n<p><code>expanded?</code> doesn\u2019t do anything unless <code>truncate?</code> is <code>true</code>, and <code>bigHeading?</code> doesn\u2019t do anything unless <code>as</code> is <code>\"h1\" | \"h2\" | \"h3\" | \"h4\" | \"h5\" | \"h6\"</code>. So, I want the <code>Props</code> type to disallow <code>expanded</code> and <code>bigHeading</code> unless those conditions are met.</p>\n\n<p>The way I go about it is this:</p>\n\n<pre><code>type BaseProps = {\n  children: React.ReactNode;\n};\n\ntype NoTruncateProps = BaseProps &amp; {\n  as: \"p\" | \"span\";\n  truncate?: false;\n};\n\ntype TruncateProps = BaseProps &amp; {\n  as: \"p\" | \"span\";\n  truncate: true;\n  expanded?: boolean;\n};\n\ntype NoTruncateHeadingProps = BaseProps &amp; {\n  as: \"h1\" | \"h2\" | \"h3\" | \"h4\" | \"h5\" | \"h6\";\n  bigHeading?: boolean;\n  truncate?: false;\n};\n\ntype TruncateHeadingProps = BaseProps &amp; {\n  as: \"h1\" | \"h2\" | \"h3\" | \"h4\" | \"h5\" | \"h6\";\n  bigHeading?: boolean;\n  truncate: true;\n  expanded?: boolean;\n\n};\n\ntype Props = NoTruncateProps | TruncateProps | NoTruncateHeadingProps | TruncateHeadingProps\n</code></pre>\n\n<p>This is obviously overly complex. How would I simplify and abstract this logic away for re-usability?</p>\n\n<p>Related: <a href=\"https://stackoverflow.com/questions/56437759/\">TypeScript utility type for conditional props (based on entered value of other properties in the type)</a></p>\n"}, {"tags": ["json", "list", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 139391, "user_id": 135978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8931e023c82f232d4d02a115710fb8fc?s=128&d=identicon&r=PG", "display_name": "Sean Vieira", "link": "https://stackoverflow.com/users/135978/sean-vieira"}, "is_accepted": true, "score": 1, "last_activity_date": 1559741238, "last_edit_date": 1559741238, "creation_date": 1559708334, "answer_id": 56454208, "question_id": 56454100, "link": "https://stackoverflow.com/questions/56454100/iterating-over-a-list-in-json-using-typescript/56454208#56454208", "title": "Iterating over a list in JSON using TypeScript", "body": "<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...in\" rel=\"nofollow noreferrer\"><code>in</code></a> iterates over the <em>keys</em> of an object, not the values.  The keys of an array are its indices.  If you use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of\" rel=\"nofollow noreferrer\"><code>of</code></a> instead, you'll use the newer iterator protocol and an <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/@@iterator\" rel=\"nofollow noreferrer\">Array's iterator</a> provides values instead of keys.</p>\n\n<pre><code>for (let tribe of /* in */ hero.tribe) {\n</code></pre>\n\n<p>Note, that this won't work in IE 11, but will work in most other browsers as well many JS environments that are ES2015 compatible. <a href=\"http://kangax.github.io/compat-table/es6/\" rel=\"nofollow noreferrer\">kangax/compat</a> has a partial list.</p>\n"}, {"tags": [], "owner": {"reputation": 4173, "user_id": 7428434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1348497625208827/picture?type=large", "display_name": "Shanon Jackson", "link": "https://stackoverflow.com/users/7428434/shanon-jackson"}, "is_accepted": false, "score": 1, "last_activity_date": 1559708402, "creation_date": 1559708402, "answer_id": 56454214, "question_id": 56454100, "link": "https://stackoverflow.com/questions/56454100/iterating-over-a-list-in-json-using-typescript/56454214#56454214", "title": "Iterating over a list in JSON using TypeScript", "body": "<p>Change the \"in\" to \"of\" in second loop.</p>\n"}], "owner": {"reputation": 439, "user_id": 2619824, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/90d9a347f8739dce6a82a290ff04948f?s=128&d=identicon&r=PG", "display_name": "user2619824", "link": "https://stackoverflow.com/users/2619824/user2619824"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 56454208, "answer_count": 2, "score": 0, "last_activity_date": 1559741238, "creation_date": 1559707342, "question_id": 56454100, "link": "https://stackoverflow.com/questions/56454100/iterating-over-a-list-in-json-using-typescript", "title": "Iterating over a list in JSON using TypeScript", "body": "<p>I'm having a problem iterating over my json in TypeScript. I'm having trouble with one specific json field, the <code>tribe</code>. For some reason I can't iterate over that one. In the debugger, I'm expecting the <code>Orc</code> to show up but instead I get a <code>0</code>. Why is this? How do I iterate correctly over my <code>tribe</code> data?</p>\n\n<pre><code>// Maps a profession or tribe group name to a bucket of characters\nlet professionMap = new Map&lt;string, Character[]&gt;()\nlet tribeMap = new Map&lt;string, Character[]&gt;()\n\nlet herolistJson = require('./data/HeroList.json')\n\nfor (let hero of herolistJson){\n\n  // Certain characters can have more than one tribe\n  // !!!!! The trouble begins here, tribe is 0???\n  for (let tribe in hero.tribe){\n    let tribeBucket = tribeMap.get(tribe) as Character[]\n\n    // If the hero does not already exist in this tribe bucket, add it\n    if(tribeBucket.find(x =&gt; x.name == hero.name) === undefined )\n    {\n      tribeBucket.push(new Character(hero.name, hero.tribe, hero.profession, hero.cost))\n    }\n  }\n}    \n</code></pre>\n\n<p>My json file looks like this </p>\n\n<pre><code>[\n  { \n    \"name\": \"Axe\", \n    \"tribe\": [\"Orc\"], \n    \"profession\": \"Warrior\",\n    \"cost\": 1\n  },\n  {\n    \"name\": \"Enchantress\",\n    \"tribe\": [\"Beast\"],\n    \"profession\": \"Druid\",\n    \"cost\": 1\n  }\n] \n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 1884, "user_id": 3413536, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b844289a79dd467dcdf6ba02c520bf7c?s=128&d=identicon&r=PG&f=1", "display_name": "Sammy I.", "link": "https://stackoverflow.com/users/3413536/sammy-i"}, "edited": false, "score": 1, "creation_date": 1559754570, "post_id": 56454035, "comment_id": 99521716, "body": "Yup, that does it! I was really curious about <code>Record&lt;T, K&gt;</code>, I don&#39;t think I have seen it used before. Does <code>T</code> in <code>Record</code> take any type that can be an argument to <code>keyof</code>? In this case it is a union type, but I tried it with an enum and it worked as well, cool!"}, {"owner": {"reputation": 7159, "user_id": 877279, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/5fa0544f9a87c652a5b5c1d4b401fcae?s=128&d=identicon&r=PG", "display_name": "Tyler Sebastian", "link": "https://stackoverflow.com/users/877279/tyler-sebastian"}, "reply_to_user": {"reputation": 1884, "user_id": 3413536, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b844289a79dd467dcdf6ba02c520bf7c?s=128&d=identicon&r=PG&f=1", "display_name": "Sammy I.", "link": "https://stackoverflow.com/users/3413536/sammy-i"}, "edited": false, "score": 0, "creation_date": 1559761016, "post_id": 56454035, "comment_id": 99524307, "body": "<code>Record&lt;K, V&gt;</code> is <i>more or less</i> a convenience type for any object with keys of type <code>K</code> and values of type <code>V</code>. It&#39;s defined as <code>type Record&lt;K, V&gt; = { [key: K]: V }</code>"}], "tags": [], "owner": {"reputation": 7159, "user_id": 877279, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/5fa0544f9a87c652a5b5c1d4b401fcae?s=128&d=identicon&r=PG", "display_name": "Tyler Sebastian", "link": "https://stackoverflow.com/users/877279/tyler-sebastian"}, "is_accepted": true, "score": 3, "last_activity_date": 1559706804, "creation_date": 1559706804, "answer_id": 56454035, "question_id": 56454021, "link": "https://stackoverflow.com/questions/56454021/set-the-keys-of-an-interface-to-the-possible-values-of-a-different-interface/56454035#56454035", "title": "Set the keys of an interface to the possible values of a different interface?", "body": "<p>I think you're looking for indexed types. </p>\n\n<pre><code>type RequestHandler = Record&lt;RequestStatus['type'], () =&gt; void&gt;\n</code></pre>\n\n<p>note the <code>RequestStatus['type']</code>. The nice thing about index types is that if you add or change a type, the type is automatically applied wherever you're using the index signature.</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=interface%20SuccessStatus%20%7B%0D%0A%20%20type%3A%20&#39;success&#39;%3B%0D%0A%20%20payload%3A%20string%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20LoadingStatus%20%7B%0D%0A%20%20type%3A%20&#39;loading&#39;%3B%0D%0A%7D%20%0D%0A%0D%0Ainterface%20ErrorStatus%20%7B%0D%0A%20%20type%3A%20&#39;error&#39;%3B%0D%0A%20%20error%3A%20string%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20OtherStatus%20%7B%0D%0A%20%20%20%20type%3A%20&#39;something&#39;%0D%0A%20%20%20%20value%3A%20any%0D%0A%7D%0D%0A%0D%0Atype%20RequestStatus%20%3D%20SuccessStatus%20%7C%20LoadingStatus%20%7C%20ErrorStatus%20%7C%20OtherStatus%3B%0D%0Atype%20RequestHandler%20%3D%20Record%3CRequestStatus%5B&#39;type&#39;%5D%2C%20()%20%3D%3E%20void%3E%0D%0A%0D%0Aconst%20requestHandler%3A%20RequestHandler%20%3D%20%7B%0D%0A%20%20success%3A%20()%20%3D%3E%20null%2C%20%2F%2Fsome%20function%20to%20handle%20a%20success%20state%0D%0A%20%20loading%3A%20()%20%3D%3E%20null%2C%0D%0A%20%20error%3A%20()%20%3D%3E%20null%2C%0D%0A%7D\" rel=\"nofollow noreferrer\">Here's an example</a> </p>\n"}], "owner": {"reputation": 1884, "user_id": 3413536, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b844289a79dd467dcdf6ba02c520bf7c?s=128&d=identicon&r=PG&f=1", "display_name": "Sammy I.", "link": "https://stackoverflow.com/users/3413536/sammy-i"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 56454035, "answer_count": 1, "score": 1, "last_activity_date": 1559706804, "creation_date": 1559706671, "question_id": 56454021, "link": "https://stackoverflow.com/questions/56454021/set-the-keys-of-an-interface-to-the-possible-values-of-a-different-interface", "title": "Set the keys of an interface to the possible values of a different interface?", "body": "<p>I have the following simplified example:</p>\n\n<pre><code>interface SuccessStatus {\n  type: 'success';\n  payload: string;\n}\n\ninterface LoadingStatus {\n  type: 'loading';\n} \n\ninterface ErrorStatus {\n  type: 'error';\n  error: string;\n}\n\ntype RequestStatus = SuccessStatus | LoadingStatus | ErrorStatus;\n</code></pre>\n\n<p>Where the <code>type</code> property of an object of type Request Status will be <code>'success' | 'loading' | 'error'</code>. </p>\n\n<p>Having that <code>RequestStatus</code> in mind, I want to have an object where each key is one of the possible values of <code>RequestStatus.type</code>. Lets call this new object type a <code>Handler</code>. </p>\n\n<p>An object of type <code>Handler</code> would look like so:</p>\n\n<pre><code>const requestHandler = {\n  success: () =&gt; null, //some function to handle a success state\n  loading: () =&gt; null,\n  error: () =&gt; null,\n}\n</code></pre>\n\n<p>I am having trouble figuring out how to define the type of the <code>Handler</code>. I know that the keys are going to be dynamically evaluated <code>[x: keyof something]</code> but I don't know exactly how to define that without modifying the definition of <code>RequestStatus</code>, which I can do but I want to figure out if there is a way to do this with the current definition.</p>\n\n<p>Also, for fun, is there a way to add a generic to <code>Handler</code> so that the keys of a <code>Handler&lt;T&gt;</code> object will be determined from what we pass as <code>T</code>?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1559706045, "post_id": 56453942, "comment_id": 99500566, "body": "could you post the signature of <code>useForm</code>"}, {"owner": {"reputation": 13505, "user_id": 409275, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/c8QD2.jpg?s=128&g=1", "display_name": "Bill", "link": "https://stackoverflow.com/users/409275/bill"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1559706153, "post_id": 56453942, "comment_id": 99500579, "body": "@TitianCernicova-Dragomir sure, thanks for taking a look"}, {"owner": {"reputation": 1659, "user_id": 5043190, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-1rQi8EU6mk4/AAAAAAAAAAI/AAAAAAAAAAw/LhRBahmCaak/photo.jpg?sz=128", "display_name": "Shadab Faiz", "link": "https://stackoverflow.com/users/5043190/shadab-faiz"}, "edited": false, "score": 0, "creation_date": 1559706509, "post_id": 56453942, "comment_id": 99500642, "body": "can you post the code for UseFormFunctions and DataType"}, {"owner": {"reputation": 13505, "user_id": 409275, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/c8QD2.jpg?s=128&g=1", "display_name": "Bill", "link": "https://stackoverflow.com/users/409275/bill"}, "reply_to_user": {"reputation": 1659, "user_id": 5043190, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-1rQi8EU6mk4/AAAAAAAAAAI/AAAAAAAAAAw/LhRBahmCaak/photo.jpg?sz=128", "display_name": "Shadab Faiz", "link": "https://stackoverflow.com/users/5043190/shadab-faiz"}, "edited": false, "score": 0, "creation_date": 1559706869, "post_id": 56453942, "comment_id": 99500701, "body": "sure @ShadabFaiz thanks heaps for helping"}], "answers": [{"comments": [{"owner": {"reputation": 13505, "user_id": 409275, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/c8QD2.jpg?s=128&g=1", "display_name": "Bill", "link": "https://stackoverflow.com/users/409275/bill"}, "edited": false, "score": 0, "creation_date": 1559706974, "post_id": 56454033, "comment_id": 99500724, "body": "Nice! didn&#39;t know you can do that, any chance you can share the reference? would like to learn"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 13505, "user_id": 409275, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/c8QD2.jpg?s=128&g=1", "display_name": "Bill", "link": "https://stackoverflow.com/users/409275/bill"}, "edited": false, "score": 1, "creation_date": 1559707059, "post_id": 56454033, "comment_id": 99500737, "body": "@Bruce This is a good start: <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#index-types\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/&hellip;</a>"}, {"owner": {"reputation": 13505, "user_id": 409275, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/c8QD2.jpg?s=128&g=1", "display_name": "Bill", "link": "https://stackoverflow.com/users/409275/bill"}, "edited": false, "score": 0, "creation_date": 1559709547, "post_id": 56454033, "comment_id": 99501185, "body": "quick question Array&lt;keyof Data&gt; how to convert into [] version"}, {"owner": {"reputation": 13505, "user_id": 409275, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/c8QD2.jpg?s=128&g=1", "display_name": "Bill", "link": "https://stackoverflow.com/users/409275/bill"}, "edited": false, "score": 0, "creation_date": 1559709561, "post_id": 56454033, "comment_id": 99501190, "body": "cause i had an eslint error: 18:22  error  Array type using &#39;Array&lt;T&gt;&#39; is forbidden. Use &#39;T[]&#39; instead  @typescript-eslint/arra , thanks bill"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 13505, "user_id": 409275, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/c8QD2.jpg?s=128&g=1", "display_name": "Bill", "link": "https://stackoverflow.com/users/409275/bill"}, "edited": false, "score": 2, "creation_date": 1559709671, "post_id": 56454033, "comment_id": 99501217, "body": "@Bruce <code>(keyof Data)[]</code> but i find this particularly ugly .. for complex types Array&lt;T&gt; is much better .."}, {"owner": {"reputation": 13505, "user_id": 409275, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/c8QD2.jpg?s=128&g=1", "display_name": "Bill", "link": "https://stackoverflow.com/users/409275/bill"}, "edited": false, "score": 0, "creation_date": 1559709736, "post_id": 56454033, "comment_id": 99501230, "body": "thanks a lot, it is ugly... it&#39;s weird as well () instead of &lt;&gt;"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1559706791, "creation_date": 1559706791, "answer_id": 56454033, "question_id": 56453942, "link": "https://stackoverflow.com/questions/56453942/typescript-generic-type-for-an-array-input/56454033#56454033", "title": "Typescript generic type for an array input", "body": "<p>You can use <code>keyof</code> to get a union of keys in <code>Data</code>:</p>\n\n<pre><code>export default function useForm&lt;Data extends DataType&gt;(\n  { mode, validationSchema, defaultValues, validationFields }: Props&lt;Data&gt; = {\n    mode: 'onSubmit',\n    defaultValues: {},\n  },\n): UseFormFunctions&lt;Data&gt; {\n  return null!;\n}\n\nexport interface Props&lt;Data&gt; {\n  mode: 'onSubmit' | 'onBlur' | 'onChange';\n  defaultValues?: { [key: string]: any };\n  validationFields?: Array&lt;keyof Data&gt;; // how do i use generic type here to only allow key from FormData\n  validationSchema?: any;\n}\n\ntype FormData = {\n  firstName: string,\n  lastName: string,\n}\n\nconst { register } = useForm&lt;FormData&gt;({\n  mode: 'onBlur',\n  validationFields: ['test'] // error now\n})\n</code></pre>\n"}], "owner": {"reputation": 13505, "user_id": 409275, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/c8QD2.jpg?s=128&g=1", "display_name": "Bill", "link": "https://stackoverflow.com/users/409275/bill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 2, "accepted_answer_id": 56454033, "answer_count": 1, "score": 2, "last_activity_date": 1559706856, "creation_date": 1559705652, "last_edit_date": 1559706856, "question_id": 56453942, "link": "https://stackoverflow.com/questions/56453942/typescript-generic-type-for-an-array-input", "title": "Typescript generic type for an array input", "body": "<p>I have a question around generic type for array input. I have a function called <code>useForm</code> and it accepts the following options</p>\n\n<pre><code>export interface DataType {\n  [key: string]: FieldValue;\n}\n\nexport type FieldValue = boolean | string | string[] | number | {};\n\nexport default function useForm&lt;Data extends DataType&gt;(\n  { mode, validationSchema, defaultValues, validationFields }: Props&lt;Data&gt; = {\n    mode: 'onSubmit',\n    defaultValues: {},\n  },\n): UseFormFunctions&lt;Data&gt; {\n}\n\nexport interface Props&lt;Data&gt; {\n  mode: 'onSubmit' | 'onBlur' | 'onChange';\n  defaultValues?: { [key: string]: any };\n  validationFields?: string[]; // how do i use generic type here to only allow key from FormData\n  validationSchema?: any;\n}\n\ntype FormData = {\n  firstName: string,\n  lastName: string,\n}\n\nconst { register } = useForm&lt;FormData&gt;({\n  validationFields: ['test'] // should throw error because it's not firstname or lastname\n})\n</code></pre>\n\n<p>i want it to throw an type error when FormData type is not found.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 392, "user_id": 1227309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa97007268612f05c1e0c0304d7a9ddf?s=128&d=identicon&r=PG", "display_name": "MS_AU", "link": "https://stackoverflow.com/users/1227309/ms-au"}, "is_accepted": true, "score": 0, "last_activity_date": 1559706896, "creation_date": 1559706896, "answer_id": 56454045, "question_id": 56453935, "link": "https://stackoverflow.com/questions/56453935/can-i-pass-an-object-literal-with-properties-to-children-in-angular-template/56454045#56454045", "title": "Can I pass an object literal with properties to children in Angular template?", "body": "<p>Absolutely you can.</p>\n\n<p>...oh, I need more characters for my answer to be accepted.</p>\n"}], "owner": {"reputation": 4666, "user_id": 3264998, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/As8MR.png?s=128&g=1", "display_name": "Gerald Hughes", "link": "https://stackoverflow.com/users/3264998/gerald-hughes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 56454045, "answer_count": 1, "score": 0, "last_activity_date": 1559706896, "creation_date": 1559705567, "question_id": 56453935, "link": "https://stackoverflow.com/questions/56453935/can-i-pass-an-object-literal-with-properties-to-children-in-angular-template", "title": "Can I pass an object literal with properties to children in Angular template?", "body": "<p>Can I have something like this in Angular templates?</p>\n\n<p><code>&lt;some-item *ngFor=\"let section of x.Sections\"\n    [item]=\"{'cols': section.Width, 'rows': section.Height, 'x': section.OX, 'y': section.OY}\"&gt;</code></p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 5052, "user_id": 2950032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45bfee4307a21e38ef04af6c963dc564?s=128&d=identicon&r=PG&f=1", "display_name": "maazadeeb", "link": "https://stackoverflow.com/users/2950032/maazadeeb"}, "edited": false, "score": 0, "creation_date": 1559701943, "post_id": 56453558, "comment_id": 99499899, "body": "<code>tmpTasks</code> is empty."}, {"owner": {"reputation": 473, "user_id": 7957792, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JEWdQRna4SE/AAAAAAAAAAI/AAAAAAAAACc/UjLDoUn8mng/photo.jpg?sz=128", "display_name": "AsukaSong", "link": "https://stackoverflow.com/users/7957792/asukasong"}, "edited": false, "score": 0, "creation_date": 1559701967, "post_id": 56453558, "comment_id": 99499903, "body": "<code>findIndex</code> may return <code>-1</code> if no item matches"}, {"owner": {"reputation": 111, "user_id": 2669332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a4252c7c20f5f857f1e7fb0c1dc8ad5?s=128&d=identicon&r=PG", "display_name": "FullStackEngineer", "link": "https://stackoverflow.com/users/2669332/fullstackengineer"}, "edited": false, "score": 0, "creation_date": 1559702099, "post_id": 56453558, "comment_id": 99499925, "body": "you could do <code>tmpTasks.length &amp;&amp; tmpTasks.findIndex...</code>"}, {"owner": {"reputation": 409, "user_id": 6458354, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d85f7760feaf980a5284d89d91cb0693?s=128&d=identicon&r=PG&f=1", "display_name": "ken", "link": "https://stackoverflow.com/users/6458354/ken"}, "edited": false, "score": 0, "creation_date": 1559710365, "post_id": 56453558, "comment_id": 99501355, "body": "Thank you. I added the IF condition to check the tmpTasks and it works."}], "owner": {"reputation": 409, "user_id": 6458354, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d85f7760feaf980a5284d89d91cb0693?s=128&d=identicon&r=PG&f=1", "display_name": "ken", "link": "https://stackoverflow.com/users/6458354/ken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 380, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1559701716, "creation_date": 1559701716, "question_id": 56453558, "link": "https://stackoverflow.com/questions/56453558/cannot-read-property-xxx-of-undefined-error-has-been-occurred", "title": "&quot;Cannot read property &#39;xxx&#39; of undefined&quot; error has been occurred", "body": "<p>I implemented following code in TypeScript.</p>\n\n<pre><code>class Task {\n    text: string\n    userId: string\n\n    constructor(text: string, userId: string) {\n        this.text = text;\n        this.userId = userId;\n    }\n}\n\nclass TmpTask {\n    userId: string;\n    tasks: Task[];\n\n    constructor(userId: string) {\n        this.userId = userId;\n        this.tasks = [];\n    }\n}\n\nconst tasks: Task[] = [];\ntasks.push(new Task('Send a mail now!!', 'bob'));\nconst tmpTasks: TmpTask[] = [];\n\n\nfor (let task of tasks) {\n    console.log(\"task: \", task);\n\n    const index = tmpTasks.findIndex( (_tmpTask, _index, _tmpTasks) =&gt; {\n        return _tmpTask.userId === task.userId;\n    });\n    tmpTasks[index].tasks.push(task);\n}\nconsole.log(\"tmpTasks: \", tmpTasks);\n</code></pre>\n\n<p>When this code runs, it results in following error.</p>\n\n<pre><code>Uncaught TypeError: Cannot read property 'tasks' of undefined\n    at _loop_1 (&lt;anonymous&gt;:23:21)\n    at &lt;anonymous&gt;:27:5\n    at HTMLButtonElement.excuteButton.onclick (http://www.typescriptlang.org/play/playground.js:247)\n</code></pre>\n\n<p>I don't understand how to fix it.</p>\n\n<p>Could you give me any advices ?</p>\n"}, {"tags": ["angular", "typescript", "enums"], "answers": [{"comments": [{"owner": {"reputation": 767, "user_id": 2304483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/936ea909f702805ce1962e1596d25320?s=128&d=identicon&r=PG", "display_name": "user2304483", "link": "https://stackoverflow.com/users/2304483/user2304483"}, "edited": false, "score": 0, "creation_date": 1559700986, "post_id": 56453448, "comment_id": 99499772, "body": "I don&#39;t need it on a template. can you update the answer to user the enum type Month?"}, {"owner": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "reply_to_user": {"reputation": 767, "user_id": 2304483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/936ea909f702805ce1962e1596d25320?s=128&d=identicon&r=PG", "display_name": "user2304483", "link": "https://stackoverflow.com/users/2304483/user2304483"}, "edited": false, "score": 0, "creation_date": 1559702955, "post_id": 56453448, "comment_id": 99500064, "body": "I updated answer, is it correct with your requirement?"}], "tags": [], "owner": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "is_accepted": true, "score": 3, "last_activity_date": 1559701943, "last_edit_date": 1559701943, "creation_date": 1559700574, "answer_id": 56453448, "question_id": 56453423, "link": "https://stackoverflow.com/questions/56453423/how-to-iterate-over-an-enum-in-angular-5-via-index-ordinal/56453448#56453448", "title": "How to iterate over an enum in Angular 5 via index/ordinal?", "body": "<p>You can create an instance of enum and iterate it by Object.keys method</p>\n\n<p>TS file</p>\n\n<pre><code>export class AppComponent  {\n  name = 'Angular';\n  month = Month;\n  constructor(){\n\n  }\n\n   keyinenum() : Array&lt;string&gt; {\n        var keys = Object.keys(this.month);\n        return keys.slice();\n    }\n}\n</code></pre>\n\n<p>HTML</p>\n\n<pre><code> &lt;div *ngFor=\"let item of keyinenum()\"&gt;\n      {{ item }}\n    &lt;/div&gt;\n</code></pre>\n\n<p>Update:</p>\n\n<p>If you only want to get Month from 0-11 you can use this method</p>\n\n<pre><code> getValueByIndex(inputindex) {\n    var keys = Object.keys(this.month);\n    let result = \"\";\n    keys.forEach((obj, index) =&gt; {\n      if (inputindex == index) {\n        result = Month[obj];\n      }\n    });\n    return result;\n  }\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-iterate-enum?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-iterate-enum?file=src/app/app.component.ts</a></p>\n"}], "owner": {"reputation": 767, "user_id": 2304483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/936ea909f702805ce1962e1596d25320?s=128&d=identicon&r=PG", "display_name": "user2304483", "link": "https://stackoverflow.com/users/2304483/user2304483"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 894, "favorite_count": 0, "accepted_answer_id": 56453448, "answer_count": 1, "score": 0, "last_activity_date": 1559701943, "creation_date": 1559700294, "question_id": 56453423, "link": "https://stackoverflow.com/questions/56453423/how-to-iterate-over-an-enum-in-angular-5-via-index-ordinal", "title": "How to iterate over an enum in Angular 5 via index/ordinal?", "body": "<p>I have the following enum in the Angular 5 app:</p>\n\n<pre><code>export enum Month {\n  JAN='January',\n    FEB='February',\n    MAR='March',\n    APR='April',\n    MAY='May',\n    JUN='June',\n    JUL='July',\n    AUG='August',\n    SEP='September',\n    OCT='October',\n    NOV='November',\n    DEC='December'\n}\n</code></pre>\n\n<p>What I'm trying to do is iterate over the values and compare them with a date\nfield, I have somewhere in the code something like:</p>\n\n<pre><code>date.getMonth()  which return number 0-11\n</code></pre>\n\n<p>I'm able to iterate over the enum but I cannot get the ordinal!\nI've tried two solutions already:</p>\n\n<pre><code> for (let month in Month) {\n\nvar months = Object.keys(Month);\nfor (let month of months)\n</code></pre>\n\n<p>Both solutions return the string for example \"JAN\".</p>\n"}]