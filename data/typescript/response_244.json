[{"tags": ["angular", "typescript", "jasmine"], "owner": {"reputation": 353, "user_id": 10194242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33cde9e0cca8aae8445aa70df19b7ce5?s=128&d=identicon&r=PG&f=1", "display_name": "wilbur", "link": "https://stackoverflow.com/users/10194242/wilbur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 1, "answer_count": 0, "score": 5, "last_activity_date": 1568298200, "creation_date": 1568244802, "last_edit_date": 1568298200, "question_id": 57897978, "link": "https://stackoverflow.com/questions/57897978/spied-service-does-not-behave-as-expected", "title": "Spied Service Does Not Behave as Expected", "body": "<p>Strap in folks, this is a code heavy one. I tried to keep it at a minimum but I do not see how to diagnose this one without some concrete examples.</p>\n\n<p>I have written the following mock factory for a user service in my angular app. We use the <code>karma</code> tester runner and <code>jasmine</code> testing framework.</p>\n\n<p>In case it matters, here are all our <code>karma</code> and jasmine`` testing dependencies</p>\n\n<pre><code>\"karma\": \"4.1.0\",\n\"karma-chrome-launcher\": \"2.2.0\",\n\"karma-coverage-istanbul-reporter\": \"2.0.3\",\n\"karma-jasmine\": \"1.1.0\",\n\"karma-jasmine-html-reporter\": \"1.3.1\",\n\"karma-trx-reporter\": \"0.3.0\",\n\n\"@types/jasmine\": \"2.8.3\",\n\"@types/jasminewd2\": \"2.0.2\",\n\"jasmine-core\": \"3.4.0\",\n\"jasmine-spec-reporter\": \"4.2.1\",\n</code></pre>\n\n<p><strong>The Mock Factory</strong></p>\n\n<pre><code>import {of, throwError} from 'rxjs';\nimport {CurrentUserModel} from '../models/api-data-models/current-user-model';\n\nexport class UserServiceMockFactory {\n  public static createUserServiceMock(jasmineSpyOn: any, jasmineSpyOnProperty: any, initialCurrentUserValue?: CurrentUserModel) {\n\n    const currentUserStub = {\n      // \"as any\" cast is essential here.\n      // It allows us to set valuePipedThroughCurrentUserGetter to values that are not of type CurrentUserModel.\n      // Most common use case would be an error\n      valuePipedThroughCurrentUserGetter: !!initialCurrentUserValue ? initialCurrentUserValue as any : null,\n      currentUserGetterThrows: false,\n\n      get currentUser() {\n        return !this.currentUserGetterThrows\n          ? of(this.valuePipedThroughCurrentUserGetter)\n          : throwError(this.valuePipedThroughCurrentUserGetter);\n      },\n\n      currentUserGetSpy: null, // spy field to assert calls upon currentUser getter\n\n      flushCurrentUser() {\n      },\n\n      getUserBySearchTerm(term) {\n      }\n    };\n\n    currentUserStub.currentUserGetSpy = jasmineSpyOnProperty(currentUserStub, 'currentUser', 'get').and.callThrough();\n\n    jasmineSpyOn(currentUserStub, 'flushCurrentUser');\n    jasmineSpyOn(currentUserStub, 'getUserBySearchTerm');\n\n    return currentUserStub;\n  }\n}\n</code></pre>\n\n<p>Its intention is to provide a nice pre-mocked instance of the user service with all the spies a user could want to assert, and the option to pipe through a different user object by setting the <code>valuePipedThroughCurrentUserGetter</code>.</p>\n\n<p>I have written the following test, and it succeeds just as I would expect.</p>\n\n<pre><code>it('should return new value if valuePipedThroughCurrentUserGetter changed, non-null initialization', () =&gt; {\n  const expectedCurrentUser = new CurrentUserModel({\n    id: '123',\n    login: 'jdoe',\n    isMaintenanceAndOperations: true,\n    isExcluder: true,\n    isSupport: true,\n    isImpersonator: true,\n    isViewAll: true,\n    initiators: [],\n    name: 'John Doe'\n  });\n\n  const userService = UserServiceMockFactory.createUserServiceMock(spyOn, spyOnProperty, new CurrentUserModel({\n    id: '123_a',\n    login: 'jdoe_a',\n    isMaintenanceAndOperations: false,\n    isExcluder: false,\n    isSupport: false,\n    isImpersonator: false,\n    isViewAll: false,\n    initiators: [],\n    name: 'John Doe_a'\n  }));\n  userService.valuePipedThroughCurrentUserGetter = expectedCurrentUser;\n  userService.currentUser\n    .subscribe(cu =&gt; expect(cu).toEqual(expectedCurrentUser),\n      () =&gt; fail('should not reach here'));\n});\n</code></pre>\n\n<p>However, when it comes time to use it in a real life test it ... falls apart. I wrote the following minimum amount of code to isolate the failure</p>\n\n<pre><code>import {TestBed} from '@angular/core/testing';\nimport {UserService} from '../http/user.service';\nimport {CurrentUserModel} from '../models/api-data-models/current-user-model';\nimport {UserServiceMockFactory} from './user-service-mock-factory';\n\ndescribe('When Injected, Mock Behavior Seems to Fail', () =&gt; {\n\n  let userService;\n\n  beforeEach(() =&gt; {\n    TestBed.configureTestingModule({\n      providers: [{\n        provide: UserService,\n        useValue: UserServiceMockFactory.createUserServiceMock(spyOn, spyOnProperty,\n          new CurrentUserModel({\n            id: '123',\n            login: 'jdoe',\n            isMaintenanceAndOperations: true,\n            isExcluder: true,\n            isSupport: true,\n            isImpersonator: true,\n            isViewAll: true,\n            initiators: [],\n            name: 'John Doe'\n          }))\n      }]\n    });\n\n    userService = TestBed.get(UserService);\n  });\n\n  it('should succeed but fails :(', () =&gt; {\n    const expectedUser = new CurrentUserModel({\n      id: '123_a',\n      login: 'jdoe_a',\n      isMaintenanceAndOperations: false,\n      isExcluder: false,\n      isSupport: false,\n      isImpersonator: false,\n      isViewAll: false,\n      initiators: [], \n      name: 'John Doe_a'\n    });\n\n    userService.valuePipedThroughCurrentUserGetter = expectedUser;\n\n    userService.currentUser.subscribe(cu =&gt; {\n      expect(cu).toEqual(expectedUser);\n    });\n  });\n\n});\n</code></pre>\n\n<p>It fails with the following message</p>\n\n<pre><code>Expected $.id = '123' to equal '123_a'.\nExpected $.login = 'jdoe' to equal 'jdoe_a'.\nExpected $.isMaintenanceAndOperations = true to equal false.\nExpected $.isExcluder = true to equal false.\nExpected $.isSupport = true to equal false.\nExpected $.isImpersonator = true to equal false.\nExpected $.isViewAll = true to equal false.\nExpected $.name = 'John Doe' to equal 'John Doe_a'.\n</code></pre>\n\n<p>It appears that whenever the mock service is use to supplant a real one, it fails to ever change the value returned from <code>currentUser</code>, even when its backing field is very obviously changed.</p>\n\n<p>The odd thing I found, is that I can get it to behave as expected by modifying the <code>UserServiceMockFactory</code> to be slightly different. Now, instead of making a generic object, spying upon that, then returning it, I implemented what seems to be an identical class, new up an instance thereof, spy on that instance, and voil\u00e0! Works as expected.</p>\n\n<p>My main questions are:</p>\n\n<p>Why does the original code behave differently when supplanting an actual service?</p>\n\n<p>Why does the new version work as expected when supplanting an actual service?</p>\n\n<p><strong>The Mock Factory that Works</strong></p>\n\n<pre><code>import {of, throwError} from 'rxjs';\nimport {CurrentUserModel} from '../models/api-data-models/current-user-model';\n\nclass CurrentUserStub {\n  valuePipedThroughCurrentUserGetter: any;\n  currentUserGetterThrows = false;\n\n  constructor(init?) {\n    this.valuePipedThroughCurrentUserGetter = !!init ? init as any : null;\n  }\n\n  get currentUser() {\n    return !this.currentUserGetterThrows\n      ? of(this.valuePipedThroughCurrentUserGetter)\n      : throwError(this.valuePipedThroughCurrentUserGetter);\n  }\n\n  currentUserGetSpy = null;\n\n  // spy field to assert calls upon currentUser getter\n\n  flushCurrentUser() {\n  }\n\n  getUserBySearchTerm(term) {\n  }\n}\n\nexport class UserServiceMockFactory {\n  public static createUserServiceMock(jasmineSpyOn: any, jasmineSpyOnProperty: any, initialCurrentUserValue?: CurrentUserModel) {\n\n    const currentUserStub = new CurrentUserStub(initialCurrentUserValue);\n\n    currentUserStub.currentUserGetSpy = jasmineSpyOnProperty(currentUserStub, 'currentUser', 'get').and.callThrough();\n\n    jasmineSpyOn(currentUserStub, 'flushCurrentUser');\n    jasmineSpyOn(currentUserStub, 'getUserBySearchTerm');\n\n    return currentUserStub;\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 61591, "user_id": 183406, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ca03242df77ec2d8f70f2cea0d6209be?s=128&d=identicon&r=PG", "display_name": "meriton", "link": "https://stackoverflow.com/users/183406/meriton"}, "is_accepted": true, "score": 2, "last_activity_date": 1568243151, "creation_date": 1568243151, "answer_id": 57897816, "question_id": 57897746, "link": "https://stackoverflow.com/questions/57897746/typescript-typing-variable-with-one-or-the-other-interface/57897816#57897816", "title": "Typescript: typing variable with one or the other interface", "body": "<p>You need a type guard to narrow the type. For instance, you could do: </p>\n\n<pre><code>if (\"error\" in response) {\n    yield put(authenticateFailure(response.error));\n} else {\n    const {token, email} = response;\n}\n</code></pre>\n\n<p>More information about type guards is available in the TypeScript Handbook in the section <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#type-guards-and-differentiating-types\" rel=\"nofollow noreferrer\">Type Guards and Differentiating Types</a>.</p>\n"}], "owner": {"reputation": 9533, "user_id": 2829540, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/jCIIp.jpg?s=128&g=1", "display_name": "Kevin Amiranoff", "link": "https://stackoverflow.com/users/2829540/kevin-amiranoff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 57897816, "answer_count": 1, "score": 0, "last_activity_date": 1568243151, "creation_date": 1568242412, "question_id": 57897746, "link": "https://stackoverflow.com/questions/57897746/typescript-typing-variable-with-one-or-the-other-interface", "title": "Typescript: typing variable with one or the other interface", "body": "<p>I have been struggling with this, looked at StackOverflow but cannot figure out how to make this work.</p>\n\n<p>I want to type <code>response</code> from an API that could return one interface if successful or a different one if on error.</p>\n\n<p>I am using <code>redux-saga</code></p>\n\n<p>Here is the code:</p>\n\n<pre><code>export interface IAuthSuccessResponse {\n  token: string;\n  email: string;\n}\n\nexport interface IAuthErrorResponse {\n  error: string;\n}\n\ntype IAuthResponse = IAuthErrorResponse | IAuthSuccessResponse;\n</code></pre>\n\n<p>and inside the <code>saga</code>:</p>\n\n<pre><code>    const response: IAuthResponse = yield call(Api.authenticate, tmpToken);\n    const { error } = response // TS2339: property error doesnt exist on type IAuthResponse;\n\n    if (error) {\n      yield put(authenticateFailure(error));\n    } else {\n      const { token, email } = response // TS2339: property token/email doesnt exist on type IAuthResponse;\n\n</code></pre>\n\n<p>I get this error: <code>TS2339: property error doesn't exist on type IAuthResponse</code></p>\n\n<p>I wanted to avoid making all properties optional.</p>\n\n<p>What would the correct way to do this?</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 142, "user_id": 8285939, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Q9yhfygm2J4/AAAAAAAAAAI/AAAAAAAAA1Y/lcxShwgti94/photo.jpg?sz=128", "display_name": "Azim Sadikov", "link": "https://stackoverflow.com/users/8285939/azim-sadikov"}, "edited": false, "score": 0, "creation_date": 1568256033, "post_id": 57898091, "comment_id": 102218879, "body": "Thanks for the answer, but its missing category info, actions could be different based on the category. Like, there are n number of categories for each page."}, {"owner": {"reputation": 3545, "user_id": 9477038, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-boqZcfx9flg/AAAAAAAAAAI/AAAAAAAAABM/RuS5QrvFjbQ/photo.jpg?sz=128", "display_name": "Jackkobec", "link": "https://stackoverflow.com/users/9477038/jackkobec"}, "reply_to_user": {"reputation": 142, "user_id": 8285939, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Q9yhfygm2J4/AAAAAAAAAAI/AAAAAAAAA1Y/lcxShwgti94/photo.jpg?sz=128", "display_name": "Azim Sadikov", "link": "https://stackoverflow.com/users/8285939/azim-sadikov"}, "edited": false, "score": 0, "creation_date": 1568274417, "post_id": 57898091, "comment_id": 102224319, "body": "Just add one more mapping for categories and actions."}, {"owner": {"reputation": 142, "user_id": 8285939, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Q9yhfygm2J4/AAAAAAAAAAI/AAAAAAAAA1Y/lcxShwgti94/photo.jpg?sz=128", "display_name": "Azim Sadikov", "link": "https://stackoverflow.com/users/8285939/azim-sadikov"}, "edited": false, "score": 0, "creation_date": 1568295926, "post_id": 57898091, "comment_id": 102236078, "body": "You could do that, but that would mean a lot of code duplication, action object I have has 15 properties, I would think there is a better way to solve this problem"}, {"owner": {"reputation": 3545, "user_id": 9477038, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-boqZcfx9flg/AAAAAAAAAAI/AAAAAAAAABM/RuS5QrvFjbQ/photo.jpg?sz=128", "display_name": "Jackkobec", "link": "https://stackoverflow.com/users/9477038/jackkobec"}, "reply_to_user": {"reputation": 142, "user_id": 8285939, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Q9yhfygm2J4/AAAAAAAAAAI/AAAAAAAAA1Y/lcxShwgti94/photo.jpg?sz=128", "display_name": "Azim Sadikov", "link": "https://stackoverflow.com/users/8285939/azim-sadikov"}, "edited": false, "score": 0, "creation_date": 1568300618, "post_id": 57898091, "comment_id": 102238947, "body": "Code duplication is a little problem on your case. I propose you to do simple mapping and all will be ok."}], "tags": [], "owner": {"reputation": 3545, "user_id": 9477038, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-boqZcfx9flg/AAAAAAAAAAI/AAAAAAAAABM/RuS5QrvFjbQ/photo.jpg?sz=128", "display_name": "Jackkobec", "link": "https://stackoverflow.com/users/9477038/jackkobec"}, "is_accepted": false, "score": 1, "last_activity_date": 1568246146, "creation_date": 1568246146, "answer_id": 57898091, "question_id": 57897206, "link": "https://stackoverflow.com/questions/57897206/i-have-a-collection-of-items-based-on-the-two-data-points-i-need-to-query-that/57898091#57898091", "title": "I have a collection of items. Based on the two data points, I need to query that items", "body": "<p>The simplest solution is to create mapping of pages and allowed actions for this page.\nExample:</p>\n\n<pre><code>const actions = [{name: 'Detail'}, {name: 'Spec'}];\n\nconst pages = [\n   { \n     name: 'A',\n     allowedActions: [{name: 'Detail'}]\n   },\n   { \n     name: 'B',\n     allowedActions: [{name: 'Spec'}]\n   }\n]\n\nconst getAllowedActions = pageName =&gt; {\n  return pages.find(page =&gt; page.name == pageName).allowedActions;\n}\n\nconsole.log(getAllowedActions('A'));\n</code></pre>\n\n<p>Out:</p>\n\n<blockquote>\n  <p>[ { name: 'Detail' } ]</p>\n</blockquote>\n"}], "owner": {"reputation": 142, "user_id": 8285939, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Q9yhfygm2J4/AAAAAAAAAAI/AAAAAAAAA1Y/lcxShwgti94/photo.jpg?sz=128", "display_name": "Azim Sadikov", "link": "https://stackoverflow.com/users/8285939/azim-sadikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1568246146, "creation_date": 1568238386, "question_id": 57897206, "link": "https://stackoverflow.com/questions/57897206/i-have-a-collection-of-items-based-on-the-two-data-points-i-need-to-query-that", "title": "I have a collection of items. Based on the two data points, I need to query that items", "body": "<p>I have a collection of items. Based on the two data points, I need to filter out that items. As an example: I have a collection of action objects [{name: Detail}, {name: Spec}...] and I have two data points like I am category 'G' and in page 'A' would use only Detail action but I am category 'G' but in page 'B' only use Spec action and etc. What is the best OOP approach for this problem to scale to 100 of actions and base that on 10 of category and pages? I have tried to solved with Factory pattern but it did not work out.</p>\n"}, {"tags": ["node.js", "typescript", "typescript-typings"], "answers": [{"tags": [], "owner": {"reputation": 770, "user_id": 3369753, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/M52k0.png?s=128&g=1", "display_name": "Sam A. Horvath-Hunt", "link": "https://stackoverflow.com/users/3369753/sam-a-horvath-hunt"}, "is_accepted": true, "score": 5, "last_activity_date": 1568237789, "creation_date": 1568237789, "answer_id": 57897112, "question_id": 57897050, "link": "https://stackoverflow.com/questions/57897050/a-computed-property-name-in-an-interface-must-refer-to-an-expression-whose-type/57897112#57897112", "title": "A computed property name in an interface must refer to an expression whose type is a literal type or a &#39;unique symbol&#39; type", "body": "<p>Your symbol <code>level</code> needs to be defined as a <code>unique symbol</code>, like so:</p>\n\n<pre><code>const level: unique symbol = Symbol();\n</code></pre>\n\n<p>Then modify your interface like this:</p>\n\n<pre><code>interface MyInterface {\n    [level]?: string;\n}\n</code></pre>\n"}], "owner": {"reputation": 2240, "user_id": 269867, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2abd456b40bc06c9b82e500bff50516b?s=128&d=identicon&r=PG", "display_name": "user269867", "link": "https://stackoverflow.com/users/269867/user269867"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6215, "favorite_count": 0, "accepted_answer_id": 57897112, "answer_count": 1, "score": 3, "last_activity_date": 1568237789, "creation_date": 1568237431, "question_id": 57897050, "link": "https://stackoverflow.com/questions/57897050/a-computed-property-name-in-an-interface-must-refer-to-an-expression-whose-type", "title": "A computed property name in an interface must refer to an expression whose type is a literal type or a &#39;unique symbol&#39; type", "body": "<p>I have following type definition</p>\n\n<blockquote>\n  <p>[Symbol(level)]?: string;</p>\n</blockquote>\n\n<p>I have tried</p>\n\n<p>importing level from winston and change the type to string|symbol but it doesn't resolve the problem.</p>\n\n<p>It keep giving me following error\n\"A computed property name in an interface must refer to an expression whose type is a literal type or a 'unique symbol' type.\"</p>\n\n<p>any clue? any pointer is helpful</p>\n"}, {"tags": ["typescript", "rxjs"], "comments": [{"owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "edited": false, "score": 0, "creation_date": 1568237374, "post_id": 57896966, "comment_id": 102215108, "body": "You have to subscribe, how else are you going to know when the api observable emits a value? You can use apiResults$.subscribe(this.mySubject$); as a subject is both an observer and an observable."}], "answers": [{"comments": [{"owner": {"reputation": 4779, "user_id": 8105437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CURix.jpg?s=128&g=1", "display_name": "dmcgrandle", "link": "https://stackoverflow.com/users/8105437/dmcgrandle"}, "edited": false, "score": 0, "creation_date": 1568265985, "post_id": 57898917, "comment_id": 102220974, "body": "<code>rest</code> is not defined.  Did you mean <code>.next(res)</code>?"}, {"owner": {"reputation": 1, "user_id": 12055045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af90422cd49c33151e3e8cfbf377de8?s=128&d=identicon&r=PG&f=1", "display_name": "sieg.nagel", "link": "https://stackoverflow.com/users/12055045/sieg-nagel"}, "edited": false, "score": 0, "creation_date": 1568314313, "post_id": 57898917, "comment_id": 102244985, "body": "Thanks, let me try that out"}], "tags": [], "owner": {"reputation": 8097, "user_id": 8618350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f100e1a27815164cb9a9bf00487858?s=128&d=identicon&r=PG&f=1", "display_name": "Fan Cheung", "link": "https://stackoverflow.com/users/8618350/fan-cheung"}, "is_accepted": false, "score": 0, "last_activity_date": 1568267502, "last_edit_date": 1568267502, "creation_date": 1568254903, "answer_id": 57898917, "question_id": 57896966, "link": "https://stackoverflow.com/questions/57896966/combing-an-observable-result-with-an-existing-rxjs-subject-without-subscribe/57898917#57898917", "title": "Combing an Observable result with an existing RxJS Subject without subscribe", "body": "<p>If you are trying to have sort of event observable to listen to api calls, there's a better approach.</p>\n\n<p>You should return api call observable with a <code>tap</code> side effect that trigger the subject to emit the result.</p>\n\n<pre><code>mySubject$ = new Subject();\n\ncallApi(options) {\n   return getApiResults(options).pipe(tap(res=&gt;mySubject$.next(res)));\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12055045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af90422cd49c33151e3e8cfbf377de8?s=128&d=identicon&r=PG&f=1", "display_name": "sieg.nagel", "link": "https://stackoverflow.com/users/12055045/sieg-nagel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568267502, "creation_date": 1568236960, "question_id": 57896966, "link": "https://stackoverflow.com/questions/57896966/combing-an-observable-result-with-an-existing-rxjs-subject-without-subscribe", "title": "Combing an Observable result with an existing RxJS Subject without subscribe", "body": "<p>I have an existing rxjs Subject.  What I'd like to be able to do is call another Observable and have the results of that observable be 'nexted' into the Subject.  If possible I'd like to be able to get value of the child Observable without calling subscribe on it.</p>\n\n<p>Unfortunately Subscribe.next() requires a value.  Using switchMap directly on the subject also does not work (the switchMap and child call never fires).  </p>\n\n<pre><code>// init subject in class definition\nmySubject$ = new Subject();\n\n// call api and observable\ncallApi(options) {\n   // get an observable from the api call\n   const apiResults$ = getApiResults(options);\n\n   // this works but requires an subscribe\n   apiResults$.subscribe(results =&gt; this.mySubject$.next(results));\n\n   // how to combine the results into the Subject without \n   // the subscribe method (above)\n   mySubject$.next(????);\n}\n</code></pre>\n"}, {"tags": ["typescript", "vue.js", "plugins", "sass"], "owner": {"reputation": 65, "user_id": 4084315, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3wbLvWl-pqU/AAAAAAAAAAI/AAAAAAAABQM/ABMgXYwOmTk/photo.jpg?sz=128", "display_name": "Bas Kaal", "link": "https://stackoverflow.com/users/4084315/bas-kaal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1568280563, "creation_date": 1568236720, "last_edit_date": 1568280563, "question_id": 57896930, "link": "https://stackoverflow.com/questions/57896930/components-from-vue-plugin-comp-lib-register-but-wont-mount", "title": "Components from Vue plugin (comp lib) register but won&#39;t mount", "body": "<p>I'm building a component library in Vue with Typescript and Sass. So the way to do this in Vue is to create a Vue plugin, right?</p>\n\n<p>For a month I've been struggling with this already. The components from my Vue plugin register, but they just don't mount in the other project I want to use them in.</p>\n\n<h3>Component library</h3>\n\n<blockquote>\n  <p>src/components/Button.vue</p>\n</blockquote>\n\n<pre><code>&lt;template&gt;\n  &lt;button\n    class=\"Button\"\n    :disabled=\"disabled\"\n    :class=\"{'is-block': block, 'is-disabled': disabled }\"\n  &gt;\n    &lt;slot&gt;&lt;/slot&gt;\n  &lt;/button&gt;\n&lt;/template&gt;\n\n&lt;script lang=\"ts\"&gt;\nimport { Vue, Component, Prop } from 'vue-property-decorator'\n\n@Component({\n  name: 'lib-button'\n})\nexport default class extends Vue {\n  @Prop() block!: boolean\n  @Prop() disabled!: boolean\n  @Prop() outline!: boolean\n}\n&lt;/script&gt;\n\n&lt;style lang=\"scss\" scoped&gt;\n&lt;/style&gt;\n</code></pre>\n\n<blockquote>\n  <p>src/components/index.ts</p>\n</blockquote>\n\n<pre class=\"lang-js prettyprint-override\"><code>import button from './Button.vue'\n\nconst Components: any = {\n  button\n}\n\nexport default Components\n</code></pre>\n\n<blockquote>\n  <p>src/lib.ts</p>\n</blockquote>\n\n<pre class=\"lang-js prettyprint-override\"><code>import _Vue from 'vue'\nimport Components from './components'\n\nexport default {\n  install (Vue: typeof _Vue, options: any) {\n    for (const key in Components) {\n      if (Components.hasOwnProperty(key)) {\n        Vue.component(`lib-${key}`, Components[key])\n      }\n    }\n  }\n}\n</code></pre>\n\n<blockquote>\n  <p>package.json</p>\n</blockquote>\n\n<pre><code>{\n  \"name\": \"3oilerplate\",\n  \"version\": \"x.x.x\",\n  \"scripts\": {\n    \"serve\": \"vue-cli-service serve\",\n    \"build\": \"vue-cli-service build\",\n    \"lint\": \"vue-cli-service lint\",\n    \"lib\": \"vue-cli-service build --target lib --name 3oilerplate ./src/lib.ts\",\n    \"test:unit\": \"vue-cli-service test:unit\",\n    \"release\": \"npm run lib &amp;&amp; npm version patch &amp;&amp; npm publish --access public\",\n    \"release:minor\": \"npm run lib &amp;&amp; npm version minor &amp;&amp; npm publish --access public\",\n    \"release:major\": \"npm run lib &amp;&amp; npm version major &amp;&amp; npm publish --access public\"\n  },\n  \"files\": [\n    \"dist/\",\n    \"src/\",\n    \"public/\",\n    \"*.json\",\n    \"*.js\"\n  ],\n  \"main\": \"./dist/3oilerplate.common.js\",\n</code></pre>\n\n<p>Here I use the <code>release</code> command, which also executes the <code>lib</code> command, which builds a lib version for my comp library.</p>\n\n<h3>Other project</h3>\n\n<blockquote>\n  <p>src/main.ts</p>\n</blockquote>\n\n<pre class=\"lang-js prettyprint-override\"><code>import Lib from '3oilerplate'\nVue.use(Lib)\n</code></pre>\n\n<p>Here I'm importing my compiled Typescript Vue library (<code>3oilerplate.common.js</code>)</p>\n\n<blockquote>\n  <p>src/Main.vue</p>\n</blockquote>\n\n<pre><code>&lt;template&gt;\n  &lt;Layout&gt;\n    &lt;Body&gt;\n      &lt;lib-button&gt;Test&lt;/lib-button&gt;\n  &lt;/Layout&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p>And here I'm trying to use a component from the imported Vue plugin, it doesn't give me errors in the browser, so the component registers, it just doesn't mount in the browser.</p>\n\n<p>Please help me out, really hope someone sees what I'm doing wrong.</p>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1568235442, "post_id": 57896660, "comment_id": 102214519, "body": "Well what <i>is</i> it going to get and receive? It looks like it gets the result of normalizeCallback and returns void, based on its usage and the overall signature."}, {"owner": {"reputation": 7629, "user_id": 4371033, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh4.googleusercontent.com/-qmPW-NvFpV4/AAAAAAAAAAI/AAAAAAAAABM/lSGlag6WF30/photo.jpg?sz=128", "display_name": "Non", "link": "https://stackoverflow.com/users/4371033/non"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1568235766, "post_id": 57896660, "comment_id": 102214619, "body": "Hi @jonrsharpe I placed the whole method with its calls and how it is used. It receives arrays and objects as it is."}], "answers": [{"comments": [{"owner": {"reputation": 7629, "user_id": 4371033, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh4.googleusercontent.com/-qmPW-NvFpV4/AAAAAAAAAAI/AAAAAAAAABM/lSGlag6WF30/photo.jpg?sz=128", "display_name": "Non", "link": "https://stackoverflow.com/users/4371033/non"}, "edited": false, "score": 0, "creation_date": 1568236296, "post_id": 57896824, "comment_id": 102214781, "body": "Where <code>T</code> comes from?"}, {"owner": {"reputation": 7629, "user_id": 4371033, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh4.googleusercontent.com/-qmPW-NvFpV4/AAAAAAAAAAI/AAAAAAAAABM/lSGlag6WF30/photo.jpg?sz=128", "display_name": "Non", "link": "https://stackoverflow.com/users/4371033/non"}, "edited": false, "score": 0, "creation_date": 1568236546, "post_id": 57896824, "comment_id": 102214862, "body": "First, on <code>function</code> declaration: <code>Unexpected token. A constructor, method, accessor, or property was expected.ts(1068)</code> then on <code>callback(normalizeCallback(res.data));</code> =&gt; <code>Argument of type &#39;T | null&#39; is not assignable to parameter of type &#39;T&#39;.</code>"}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 7629, "user_id": 4371033, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh4.googleusercontent.com/-qmPW-NvFpV4/AAAAAAAAAAI/AAAAAAAAABM/lSGlag6WF30/photo.jpg?sz=128", "display_name": "Non", "link": "https://stackoverflow.com/users/4371033/non"}, "edited": false, "score": 0, "creation_date": 1568237030, "post_id": 57896824, "comment_id": 102215015, "body": "Ah, the second was a wrong type. I think you should be able to resplve the first one on your own if you reread the answer ..."}], "tags": [], "owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": true, "score": 1, "last_activity_date": 1568236993, "last_edit_date": 1568236993, "creation_date": 1568236128, "answer_id": 57896824, "question_id": 57896660, "link": "https://stackoverflow.com/questions/57896660/how-to-add-properly-to-typescript-a-callback-type-with-parameters/57896824#57896824", "title": "How to add properly to TypeScript a callback type with parameters?", "body": "<p>I'd write it as:</p>\n\n<pre><code>function makeApi&lt;T&gt;(url: string, normalizeCallback: (d: ResponseData) =&gt; T | null) {\n  return function(callback: (data: T | null) =&gt; any) {\n    return ApiClient.get(url)\n      .then(res =&gt; {\n        callback(normalizeCallback(res.data));\n      })\n      .catch(error =&gt; {\n        console.error(`ApiClient ${url}`, error);\n      });\n  };\n}\n\n// in the class\nstatic getArticles = makeApi&lt;Article[]&gt;(\"articles\", ApiNormalizer.normalizeArticles)\n</code></pre>\n\n<p>That way, you ...</p>\n\n<p>1) correctly type the data type as a generic.</p>\n\n<p>2) eliminate a lot of boilerplate.</p>\n\n<p>3) enclose <code>makeApi</code> into the module, I don't think it should be exposed through the class.</p>\n"}], "owner": {"reputation": 7629, "user_id": 4371033, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh4.googleusercontent.com/-qmPW-NvFpV4/AAAAAAAAAAI/AAAAAAAAABM/lSGlag6WF30/photo.jpg?sz=128", "display_name": "Non", "link": "https://stackoverflow.com/users/4371033/non"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 57896824, "answer_count": 1, "score": 0, "last_activity_date": 1568236993, "creation_date": 1568235165, "question_id": 57896660, "link": "https://stackoverflow.com/questions/57896660/how-to-add-properly-to-typescript-a-callback-type-with-parameters", "title": "How to add properly to TypeScript a callback type with parameters?", "body": "<p>I have this method:</p>\n\n<pre><code>export default class ApiService {\n  static makeApiCall = (\n    url: string,\n    normalizeCallback: (d: ResponseData) =&gt; ResponseData | null,\n    callback: (d: any) =&gt; any\n  ): Promise&lt;void&gt; =&gt; (\n    ApiClient.get(url)\n      .then(res =&gt; {\n        callback(normalizeCallback(res.data));\n      })\n      .catch(error =&gt; {\n        console.error(`ApiClient ${url}`, error);\n      })\n  )\n\n  static getArticles = (callback: (a: Article[]) =&gt; void): Promise&lt;void&gt; =&gt; (\n    ApiService.makeApiCall(\n      'articles',\n      ApiNormalizer.normalizeArticles,\n      callback\n    )\n  )\n}\n</code></pre>\n\n<p>On this line <code>callback: (d: any) =&gt; any</code> typescript yells</p>\n\n<blockquote>\n  <p>warning  Unexpected any. Specify a different type</p>\n</blockquote>\n\n<p>To show you more context, here is where I am calling the method <code>getArticles</code></p>\n\n<pre><code>export const fetchArticles = (): ThunkAction&lt;Promise&lt;void&gt;,{},{},AnyAction&gt; =&gt; {\n  return async (dispatch: ThunkDispatch&lt;{}, {}, AnyAction&gt;): Promise&lt;void&gt; =&gt; {\n    dispatch(() =&gt; ({ type: FETCH_ARTICLES }));\n             // HERE: getArticles\n    return ApiService.getArticles(articles =&gt; dispatch(loadArticles(articles)));\n  };\n};\n</code></pre>\n\n<p>So how can i type that callback function properly?</p>\n"}, {"tags": ["angular", "typescript", "firebase", "google-cloud-firestore", "angularfire2"], "answers": [{"tags": [], "owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "is_accepted": false, "score": 2, "last_activity_date": 1568243903, "creation_date": 1568243903, "answer_id": 57897895, "question_id": 57896530, "link": "https://stackoverflow.com/questions/57896530/how-to-add-object-to-document-before-returning-it/57897895#57897895", "title": "How to add object to document before returning it?", "body": "<p>in general the way is: make a consult (return an array of values), make a switchMap, create an array of observables, make a forkjoin, map with index to add the new properties. I go to code using simples gets</p>\n\n<pre><code>getPlayers().pipe(\n  switchMap(players=&gt;{\n    //in players we has an array of player\n    //create an array of observables with the array\n    const obs=players.map(player=&gt;getBall(player.ballId)\n    //a switchMap must return an observable, so return a forkJoin\n    return forkjoin(obs).pipe(\n       //but we transform the result that is an array\n       //with the values of getBall(1),getBall(2)..\n       map((ball,index)=&gt;{\n          //concat the properties of players[index] with the ball\n          return {...players[index],..ball}\n       })\n    )\n  }\n)).subscribe(res=&gt;console.log(res))\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 9960449, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2fHFQ-h7xz0/AAAAAAAAAAI/AAAAAAAAAAg/ih6jf1V-AnU/photo.jpg?sz=128", "display_name": "Andreas Teich", "link": "https://stackoverflow.com/users/9960449/andreas-teich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1568271246, "creation_date": 1568234455, "last_edit_date": 1568234701, "question_id": 57896530, "link": "https://stackoverflow.com/questions/57896530/how-to-add-object-to-document-before-returning-it", "title": "How to add object to document before returning it?", "body": "<p>I want to solve the following problem:\nAfter fetching a collection from Firestore via angularfire, I want to iterate through each document within these collection and than do a separate Firestore request to get a corresponding document which values I want to insert into the first document before returning the collection.</p>\n\n<p>For example, there is a object called <code>ball</code> with the properties</p>\n\n<pre><code>interface Ball: {\n  uid: string; \n  color: string;\n}\n</code></pre>\n\n<p>And a object <code>player</code> with the properties </p>\n\n<pre><code>interface Player: {\n  uid: string;\n  correspondingBall: ball;\n}\n</code></pre>\n\n<p>Within the Firestore collection, I save a document from type Player with the corresponding id from the corresponding ball (I hope you know what I mean).\nNow, I access the the collection player</p>\n\n<pre><code>getRecentPlayers(): Observable&lt;Player[]&gt; {\n    const players: AngularFirestoreCollection&lt;any&gt; = this.angularFirestore.collection&lt;Player&gt;('players');\n    return players ? players.snapshotChanges().pipe(\n      map(players =&gt; {\n        return players.map(player =&gt; {\n          const data = player.payload.doc.data() as Player;\n          const correspondingBall: AngularFirestoreDocument&lt;Ball&gt; = this.angularFirestore.doc('balls/' + data.correspondingBall);\n          correspondingBall ? correspondingBall.snapshotChanges().pipe(\n            map(ball =&gt; {\n              const data = ball.payload.data() as Ball;\n              return data;\n            })\n          ) : null;\n          return {...data, correspondingBall}\n        })\n      })\n    ) : null;\n  }\n</code></pre>\n\n<p>That way, I wouldn't work. Can someone help me?\nThank you very much!!</p>\n"}, {"tags": ["javascript", "c#", "angular", "typescript", "asp.net-core"], "answers": [{"comments": [{"owner": {"reputation": 146, "user_id": 3841552, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/53c2739fe3118ecc402479d19fd2a2fb?s=128&d=identicon&r=PG&f=1", "display_name": "makertoo", "link": "https://stackoverflow.com/users/3841552/makertoo"}, "edited": false, "score": 0, "creation_date": 1568323069, "post_id": 57901187, "comment_id": 102248043, "body": "Thank you very much ! That was it. But why UseSpa should bet at the end ?"}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "reply_to_user": {"reputation": 146, "user_id": 3841552, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/53c2739fe3118ecc402479d19fd2a2fb?s=128&d=identicon&r=PG&f=1", "display_name": "makertoo", "link": "https://stackoverflow.com/users/3841552/makertoo"}, "edited": false, "score": 1, "creation_date": 1568342422, "post_id": 57901187, "comment_id": 102251749, "body": "because your spa have to be default fallback. If you put your health check route at the end .net core will think that route is angular route"}], "tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": true, "score": 3, "last_activity_date": 1568271114, "creation_date": 1568271114, "answer_id": 57901187, "question_id": 57896492, "link": "https://stackoverflow.com/questions/57896492/healtcheck-url-not-working-cannot-match-any-routes/57901187#57901187", "title": "Healtcheck url not working: Cannot match any routes", "body": "<p>Your pipeline order is not correct it should be like this</p>\n\n<pre><code>        app.UseHealthChecks(\"/healthcheck\");\n\n        app.UseSpa(spa =&gt;\n        {\n            // To learn more about options for serving an Angular SPA from ASP.NET Core,\n            // see https://go.microsoft.com/fwlink/?linkid=864501\n\n            spa.Options.SourcePath = \"ClientApp\";\n\n            if (env.IsDevelopment())\n            {\n                spa.UseAngularCliServer(npmScript: \"start\");\n            }\n        });\n</code></pre>\n"}], "owner": {"reputation": 146, "user_id": 3841552, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/53c2739fe3118ecc402479d19fd2a2fb?s=128&d=identicon&r=PG&f=1", "display_name": "makertoo", "link": "https://stackoverflow.com/users/3841552/makertoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 552, "favorite_count": 1, "accepted_answer_id": 57901187, "answer_count": 1, "score": 2, "last_activity_date": 1568271114, "creation_date": 1568234242, "last_edit_date": 1568271089, "question_id": 57896492, "link": "https://stackoverflow.com/questions/57896492/healtcheck-url-not-working-cannot-match-any-routes", "title": "Healtcheck url not working: Cannot match any routes", "body": "<p>I am working on a .net Core 2.2/Angular 8 application.\nI've heard about the HealthCheck and I wanted to implement it in my application.\n Here is my Startup.cs:</p>\n\n<pre><code>    using HealthChecks.UI.Client;\n    using Microsoft.AspNetCore.Builder;\n    using Microsoft.AspNetCore.Diagnostics.HealthChecks;\n    using Microsoft.AspNetCore.Hosting;\n    using Microsoft.AspNetCore.Http.Features;\n    using Microsoft.AspNetCore.Mvc;\n    using Microsoft.AspNetCore.SpaServices.AngularCli;\n    using Microsoft.Extensions.Configuration;\n    using Microsoft.Extensions.DependencyInjection;\n\n    namespace OnlineXmlTools\n    {\n        public class Startup\n        {\n            public Startup(IConfiguration configuration)\n            {\n                Configuration = configuration;\n    }\n\n    public IConfiguration Configuration { get; }\n\n    // This method gets called by the runtime. Use this method to add services to the container.\n    public void ConfigureServices(IServiceCollection services)\n    {\n\n        services.AddSwaggerDocument();\n        services.AddSession();\n        services.AddMvc().SetCompatibilityVersion(CompatibilityVersion.Version_2_1);\n\n        services.Configure&lt;FormOptions&gt;(x =&gt;\n        {\n            x.ValueLengthLimit = int.MaxValue;\n            x.MultipartBodyLengthLimit = int.MaxValue; // In case of multipart\n        });\n        // In production, the Angular files will be served from this directory\n        services.AddSpaStaticFiles(configuration =&gt;\n        {\n            configuration.RootPath = \"ClientApp/dist\";\n        });\n        services.AddHttpContextAccessor();\n\n        services.AddAntiforgery(options =&gt;\n        {\n            // Set Cookie properties using CookieBuilder properties\u2020.\n            options.FormFieldName = \"AntiforgeryFieldname\";\n            options.HeaderName = \"X-CSRF-TOKEN-HEADERNAME\";\n            options.SuppressXFrameOptionsHeader = false;\n        });\n        services.AddHealthChecks();\n    }\n\n    // This method gets called by the runtime. Use this method to configure the HTTP request pipeline.\n    public void Configure(IApplicationBuilder app, IHostingEnvironment env)\n    {\n        // Register the Swagger generator and the Swagger UI middlewares\n        app.UseOpenApi();\n        app.UseSwaggerUi3();\n        if (env.IsDevelopment())\n        {\n            app.UseDeveloperExceptionPage();\n        }\n        else\n        {\n            app.UseExceptionHandler(\"/Error\");\n            app.UseHsts();\n        }\n\n        app.UseHttpsRedirection();\n        app.UseStaticFiles();\n        app.UseSpaStaticFiles();\n\n        app.UseSession();\n        app.UseMvc(routes =&gt;\n        {\n            routes.MapRoute(\n                name: \"default\",\n                template: \"{controller}/{action=Index}/{id?}\");\n        });\n\n        app.UseSpa(spa =&gt;\n        {\n            // To learn more about options for serving an Angular SPA from ASP.NET Core,\n            // see https://go.microsoft.com/fwlink/?linkid=864501\n\n            spa.Options.SourcePath = \"ClientApp\";\n\n            if (env.IsDevelopment())\n            {\n                spa.UseAngularCliServer(npmScript: \"start\");\n            }\n        });\n        app.UseHealthChecks(\"/healthcheck\", new HealthCheckOptions\n        {\n            Predicate = _ =&gt; true,\n            ResponseWriter = UIResponseWriter.WriteHealthCheckUIResponse\n        });\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>When I start my application (<a href=\"https://localhost:44328/\" rel=\"nofollow noreferrer\">https://localhost:44328/</a>), I try to reach the healthcheck URL as described in the middleware:\n        <a href=\"https://localhost:44328/healthcheck\" rel=\"nofollow noreferrer\">https://localhost:44328/healthcheck</a>\nIt is supposed to show information.\nInstead, I have this error:\n        ERROR Error: Uncaught (in promise): Error: Cannot match any routes. URL Segment: 'healthcheck'</p>\n\n<p>Did I miss something ? \nThanks</p>\n"}, {"tags": ["javascript", "typescript", "class", "ecmascript-6", "constructor"], "comments": [{"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 2, "creation_date": 1568232578, "post_id": 57895938, "comment_id": 102213551, "body": "If the constant is a primitive type (e.g. number, string) or enum make it an out-of-class constant. Export it. Whatever. It&#39;s a const declared primitive: it&#39;s not going to change on you. If it&#39;s a reference type (object, array), and only if it&#39;s a reference type, should you even <i>consider</i> making it a private property."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1568232774, "post_id": 57895938, "comment_id": 102213609, "body": "This question has no correct answer and will bring in a lot of opinions rather than fact based approaches. Generally, asking for the &quot;best&quot; or &quot;better&quot; approach does that, when you don&#39;t give objective criteria for what those modifiers mean."}, {"owner": {"reputation": 5513, "user_id": 2718801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d4b144cdafa73e1d470362ed8d7c3a9?s=128&d=identicon&r=PG", "display_name": "jhpratt", "link": "https://stackoverflow.com/users/2718801/jhpratt"}, "edited": false, "score": 0, "creation_date": 1568233006, "post_id": 57895938, "comment_id": 102213686, "body": "^^ as such there are 3 votes (including mine) to close as primarily opinion based"}, {"owner": {"reputation": 106023, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 1, "creation_date": 1568233165, "post_id": 57895938, "comment_id": 102213746, "body": "The whole point of using a type-system is not to rely on runtime type-checking! Anything code that calls <code>myDigit.value = x</code> where <code>x</code> is not a <code>number</code> should throw a compile-time error."}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 106023, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 0, "creation_date": 1568233258, "post_id": 57895938, "comment_id": 102213779, "body": "@user633183 and that&#39;s what it does! NaN <i>is a number</i> unfortunately ..."}, {"owner": {"reputation": 106023, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 0, "creation_date": 1568233525, "post_id": 57895938, "comment_id": 102213853, "body": "<code>NaN</code>, &quot;not a number&quot;, has type <code>number</code>... and that&#39;s typescript, ladies and gentleman -_-"}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 5513, "user_id": 2718801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d4b144cdafa73e1d470362ed8d7c3a9?s=128&d=identicon&r=PG", "display_name": "jhpratt", "link": "https://stackoverflow.com/users/2718801/jhpratt"}, "edited": false, "score": 0, "creation_date": 1568233628, "post_id": 57895938, "comment_id": 102213891, "body": "@jhpratt &quot;all good questions generate some degree of opinion&quot; ..."}, {"owner": {"reputation": 134, "user_id": 9062446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8db106a0b4ebaf4a762a20d4cb6a5d?s=128&d=identicon&r=PG&f=1", "display_name": "Juli&#225;n", "link": "https://stackoverflow.com/users/9062446/juli%c3%a1n"}, "reply_to_user": {"reputation": 106023, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 0, "creation_date": 1568234320, "post_id": 57895938, "comment_id": 102214091, "body": "@user633183 You&#39;re right about that but I&#39;m expecting to receive input at runtime and try catch errors."}, {"owner": {"reputation": 5513, "user_id": 2718801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d4b144cdafa73e1d470362ed8d7c3a9?s=128&d=identicon&r=PG", "display_name": "jhpratt", "link": "https://stackoverflow.com/users/2718801/jhpratt"}, "reply_to_user": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1568243164, "post_id": 57895938, "comment_id": 102216451, "body": "@JonasWilms There&#39;s a big difference between that and <i>literally</i> asking what the best approach is."}], "answers": [{"comments": [{"owner": {"reputation": 134, "user_id": 9062446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8db106a0b4ebaf4a762a20d4cb6a5d?s=128&d=identicon&r=PG&f=1", "display_name": "Juli&#225;n", "link": "https://stackoverflow.com/users/9062446/juli%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1568234722, "post_id": 57896103, "comment_id": 102214256, "body": "Yeah that looks fine to me, but it kind of makes me feel like the setter is wasted, as you have a <code>set value</code> and then a <code>setValue</code> inside of the class."}, {"owner": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "reply_to_user": {"reputation": 134, "user_id": 9062446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8db106a0b4ebaf4a762a20d4cb6a5d?s=128&d=identicon&r=PG&f=1", "display_name": "Juli&#225;n", "link": "https://stackoverflow.com/users/9062446/juli%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1568234910, "post_id": 57896103, "comment_id": 102214310, "body": "As you said &quot;That value setter would never trigger in the constructor as the class needs to be instantiated to do so,&quot; given your setter requirement I don&#39;t know of a different way to avoid repeating yourself."}], "tags": [], "owner": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "is_accepted": false, "score": 0, "last_activity_date": 1568232367, "creation_date": 1568232367, "answer_id": 57896103, "question_id": 57895938, "link": "https://stackoverflow.com/questions/57895938/typescript-private-readonly-vs-outside-of-class-const/57896103#57896103", "title": "typescript private readonly vs outside of class const", "body": "<p>I'm not sure there is a \"right\" answer here. I would personally prefer there to be a single implementation for setting the value, then you can call that implementation from the constructor.</p>\n\n<pre><code>export class Digit {\n  private _value: number = null;\n\n  constructor(value: number) {\n    this.setValue(value);\n  }\n\n  set value(value: number) {\n    this.setValue(value);\n  }\n\n  get valor() {\n    return this._value;\n  }\n\n  private setValue(value: number) {\n    if (isNaN(value)) { throw new Error('Received NaN as digit.'); }\n    this._value = value;\n  }\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1568233300, "post_id": 57896176, "comment_id": 102213791, "body": "<a href=\"http://www.typescriptlang.org/play/#code/C4TwDgpgBAcg9sGBDGUC8UB2BXAtgIwgCcoAyKAbygH1rMFkYAuKYI7aAXygB8oBGXlABMQ-sIDcAKCkAzbJgDGwAJZxMWBigAUmFkkwgAlCw0qAzrC2oKUqFCIRg2IhoCEFxrqPTOMqYoANkjmlgAiKgDmKsCUdlCK6uZs2MpwRNpg2PiBKopQAG5IgRws8IgoRpRQfn4ygU5QACZRMehYEADuUBHRwNriPlINseZwuBAAasUc7QDUmUTjYP0ARADKLmBEFtATbqtVPHyrh9ItfQB0RSXQGGMT07fSKrK61toPUzMQRlW29guMWuP3aXyeHF8QA\" rel=\"nofollow noreferrer\">Playground</a>"}, {"owner": {"reputation": 134, "user_id": 9062446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8db106a0b4ebaf4a762a20d4cb6a5d?s=128&d=identicon&r=PG&f=1", "display_name": "Juli&#225;n", "link": "https://stackoverflow.com/users/9062446/juli%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1568234571, "post_id": 57896176, "comment_id": 102214200, "body": "Interesting, but wouldn&#39;t that enforce the check outside of the class? Who better than the class itself knows which values it can hold? Imagine the same class with 10 attributes and different type validations for each one.  Also why throwing Errors is not a good idea?"}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 134, "user_id": 9062446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8db106a0b4ebaf4a762a20d4cb6a5d?s=128&d=identicon&r=PG&f=1", "display_name": "Juli&#225;n", "link": "https://stackoverflow.com/users/9062446/juli%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1568234750, "post_id": 57896176, "comment_id": 102214266, "body": "@Juli&#225;n right, it enforces <i>the developer</i> to directly validate input data &amp; math operations. I admit that this might add some overhead due to some unneccessary guards (seems as if numer literal types will get more powerful soon, then this might get more elegant)"}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 134, "user_id": 9062446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8db106a0b4ebaf4a762a20d4cb6a5d?s=128&d=identicon&r=PG&f=1", "display_name": "Juli&#225;n", "link": "https://stackoverflow.com/users/9062446/juli%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1568234833, "post_id": 57896176, "comment_id": 102214285, "body": "@Juli&#225;nn errors are thrown at runtime. Instead of handling the errors somehow, this enforces you to proactively check the data, and that way you can also directly give user feedback etc."}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 134, "user_id": 9062446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8db106a0b4ebaf4a762a20d4cb6a5d?s=128&d=identicon&r=PG&f=1", "display_name": "Juli&#225;n", "link": "https://stackoverflow.com/users/9062446/juli%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1568234862, "post_id": 57896176, "comment_id": 102214292, "body": "&quot;Who better than the class itself knows which values it can hold?&quot;, right, thats why the type specifies that."}, {"owner": {"reputation": 134, "user_id": 9062446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8db106a0b4ebaf4a762a20d4cb6a5d?s=128&d=identicon&r=PG&f=1", "display_name": "Juli&#225;n", "link": "https://stackoverflow.com/users/9062446/juli%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1568235540, "post_id": 57896176, "comment_id": 102214545, "body": "Oh I think I understand. You mean adding the validation on the inputs on the frontend, detecting the error before the instance is ever created. If that&#39;s the case I find the use of types useful, the thing is that i have to add logic to the frontend every time instead of just reusing the same class. Plus, having the business logic inside of the class gives me the advantage of also reusing it in the backend. try catching errors then would allow me to just report the error to a user via a dialog or via an http response. What do you think about it in that case?"}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 134, "user_id": 9062446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8db106a0b4ebaf4a762a20d4cb6a5d?s=128&d=identicon&r=PG&f=1", "display_name": "Juli&#225;n", "link": "https://stackoverflow.com/users/9062446/juli%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1568235621, "post_id": 57896176, "comment_id": 102214576, "body": "Well then it really depends. I&#39;m generally not a friend of validation inside of getters/setters, but if thats whats works best for you ..."}], "tags": [], "owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 1, "last_activity_date": 1568233735, "last_edit_date": 1568233735, "creation_date": 1568232744, "answer_id": 57896176, "question_id": 57895938, "link": "https://stackoverflow.com/questions/57895938/typescript-private-readonly-vs-outside-of-class-const/57896176#57896176", "title": "typescript private readonly vs outside of class const", "body": "<p>I'd personally introduce another type, e.g. <code>NotNaN</code>:</p>\n\n<pre><code>type NotNaN = number &amp; { __notNaN: true };\n</code></pre>\n\n<p>Then you can write a validator for that:</p>\n\n<pre><code>function notNaN(n: any): n is NotNaN {\n  return !isNaN(n);\n}\n</code></pre>\n\n<p>And also type your class properties accordingly:</p>\n\n<pre><code>class Digit {\n  constructor(public value: NotNaN) { }\n}\n</code></pre>\n\n<p>Then you can write things like:</p>\n\n<pre><code>let digit = new Digit(12 as NotNaN);\nlet someValue = +prompt(\"Surprise me!\");\n\n// Properly checked, works:\nif(notNaN(someValue)) {\n  digit.value = someValue;\n}\n\n// Not properly checked:\ndigit.value = someValue;\n// TypeError: type 'number' is not assignable to type 'NotNaN'\n</code></pre>\n\n<p>That way, you can avoid getters / setters at all. Throwing errors is not a good idea, instead you should properly validate inputs &amp; operations, and thats what this enforces.</p>\n"}], "owner": {"reputation": 134, "user_id": 9062446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8db106a0b4ebaf4a762a20d4cb6a5d?s=128&d=identicon&r=PG&f=1", "display_name": "Juli&#225;n", "link": "https://stackoverflow.com/users/9062446/juli%c3%a1n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "closed_date": 1568234155, "answer_count": 2, "score": 0, "last_activity_date": 1568234183, "creation_date": 1568231511, "last_edit_date": 1568234183, "question_id": 57895938, "link": "https://stackoverflow.com/questions/57895938/typescript-private-readonly-vs-outside-of-class-const", "closed_reason": "Opinion-based", "title": "typescript private readonly vs outside of class const", "body": "<p>I'm wondering whats the best approach or if there is any consequence when referring to outside of the class constants in the same file. </p>\n\n<p>The problem arouse when I was declaring a simple class that would throw an error when receiving an invalid parameter:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class Digit {\n  private _value: number = null;\n\n  constructor(value: number) {\n    this._value = value;\n  }\n\n  set value(value: number) {\n    if (isNaN(value)) { throw new Error('Received NaN as digit.'); }\n\n    this._value = value;\n  }\n\n  get value() {\n    return this._value;\n  }\n\n}\n</code></pre>\n\n<p>That <em>value</em> setter would never trigger in the constructor as the class needs to be instantiated to do so.</p>\n\n<p>Because I want to keep things simple, I just want this example class to hold a valid digit or to not exist at all, so I don't want to instantiate it with null on its <em>value</em>. This led me to the following code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class Digit {\n  private _value: number = null;\n\n  constructor(value: number) {\n    if (isNaN(value)) { throw new Error('Received NaN as digit.'); }\n\n    this._value = value;\n  }\n\n  set value(value: number) {\n    if (isNaN(value)) { throw new Error('Received NaN as digit.'); }\n\n    this._value = value;\n  }\n\n  get value() {\n    return this._value;\n  }\n\n}\n</code></pre>\n\n<p>Which works fine but now I'm repeating myself! Imagine doing a validation like that for 10 or more fields.</p>\n\n<p>So I thought about two solutions:</p>\n\n<p>1- Refactor into a validation function inside of class</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class Digit {\n  private _value: number = null;\n\n  private readonly validateValue = function (value: number): number {\n    if (isNaN(value)) { throw new Error('Received NaN as digit.'); }\n\n    return value;\n  };\n\n  constructor(value: number) {\n    this._value = this.validateValue(value);\n  }\n\n  set value(value: number) {\n    this._value = this.validateValue(value);\n  }\n\n  get value() {\n    return this._value;\n  }\n\n}\n</code></pre>\n\n<p>I like this approach because all the business logic is contained inside of the class. But its still reachable outside of this if you choose not to respect the private scope.\nThe thing i don't like about it is that the class gets cluttered easily as more and more fields and validations are added, then it gets distracting to the eye, as you may be wanting to fix some behavior knowing that your instance values are correct.</p>\n\n<p>2- Refactor into a validation function outside of class but in the same file</p>\n\n<pre><code>const validateValue = function (value: number): number {\n  if (isNaN(value)) { throw new Error('Received NaN as digit.'); }\n\n  return value;\n};\n\nexport class Digit {\n  private _value: number = null;\n\n  constructor(value: number) {\n    this._value = validateValue(value);\n  }\n\n  set value(value: number) {\n    this._value = validateValue(value);\n  }\n\n  get value() {\n    return this._value;\n  }\n\n}\n</code></pre>\n\n<p>What I like about this approach is that I can go straight to my class code with the precondition that values are correct and validated and I'm not being distracted by them inside of my class. Plus I can't choose to omit a private scope and access its validators.</p>\n\n<p>Also if validations get really extensive I can choose to create a helper for the class and refactor the validations outside of the file (don't know if that's a bad practice).</p>\n\n<p>On the other hand I don't know about the consequences of using these outside of class declarations.</p>\n\n<p>So what would be the best approach for this problem? Are both solutions valid?  Is there a better approach?</p>\n"}, {"tags": ["angular", "typescript", "checkbox", "formarray", "formgroups"], "comments": [{"owner": {"reputation": 397, "user_id": 8803298, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-00JgJ2gVItw/AAAAAAAAAAI/AAAAAAAAWlk/f6NBAhWG2wg/photo.jpg?sz=128", "display_name": "Vitor Piovezam", "link": "https://stackoverflow.com/users/8803298/vitor-piovezam"}, "edited": false, "score": 0, "creation_date": 1568233168, "post_id": 57895884, "comment_id": 102213748, "body": "The validator is working ? Invalid flag is emitten by this formgroup ?"}, {"owner": {"reputation": 287, "user_id": 9970857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MDRpM.jpg?s=128&g=1", "display_name": "hafizi hamid", "link": "https://stackoverflow.com/users/9970857/hafizi-hamid"}, "reply_to_user": {"reputation": 397, "user_id": 8803298, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-00JgJ2gVItw/AAAAAAAAAAI/AAAAAAAAWlk/f6NBAhWG2wg/photo.jpg?sz=128", "display_name": "Vitor Piovezam", "link": "https://stackoverflow.com/users/8803298/vitor-piovezam"}, "edited": false, "score": 0, "creation_date": 1568242457, "post_id": 57895884, "comment_id": 102216293, "body": "not, the validator is not working, supposed to be, button submit disabled until I selected one of the checkbox, but it didnt"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1568244176, "post_id": 57895884, "comment_id": 102216672, "body": "If you want an e.g. of custom validation over an array, <a href=\"https://stackoverflow.com/questions/57794118/how-to-add-custom-validator-to-a-formarray/57794738#57794738\" title=\"how to add custom validator to a formarray\">stackoverflow.com/questions/57794118/&hellip;</a>"}, {"owner": {"reputation": 287, "user_id": 9970857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MDRpM.jpg?s=128&g=1", "display_name": "hafizi hamid", "link": "https://stackoverflow.com/users/9970857/hafizi-hamid"}, "reply_to_user": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1568247702, "post_id": 57895884, "comment_id": 102217337, "body": "it is my approach is wrong ? @Eliseo"}], "answers": [{"tags": [], "owner": {"reputation": 736, "user_id": 12048970, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC153CV25pRN86-Nj3-chgHofTb2z_57QAPe5fA=k-s128", "display_name": "Manuel Panizzo", "link": "https://stackoverflow.com/users/12048970/manuel-panizzo"}, "is_accepted": false, "score": 0, "last_activity_date": 1568258179, "last_edit_date": 1568258179, "creation_date": 1568247641, "answer_id": 57898226, "question_id": 57895884, "link": "https://stackoverflow.com/questions/57895884/disable-formgroup-by-using-validators/57898226#57898226", "title": "disable FormGroup by using Validators", "body": "<p>Make something like this: </p>\n\n<p>export a function. something like this:</p>\n\n<pre><code>export function customValdiator(form: FormGroup) {\n  const formValue = form.value;\n  // with the formValue apply your own validation logic .\n  if (/* HAVE ERROR */) {\n    return { checkboxesRequired: true };\n  } else {\n    return null;\n  }\n}\n</code></pre>\n\n<p>build your form:</p>\n\n<pre><code> this.checkboxForm = this.formBuilder.group({\n      receivedSummons: this.formBuilder.array([])\n    },  { validator: customValdiator });\n</code></pre>\n\n<p>and remove add validators from your addCheckboxes method.</p>\n\n<p>dont matter if u add or remove rows to <code>receivedSummons</code> FormArray when u change any data on the form angular will execute <code>customValdiator</code> function and pass the form as argument and you have access to current receivedSummons values for valid which is checked.</p>\n"}, {"tags": [], "owner": {"reputation": 3561, "user_id": 5651109, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c983c72e0f6564470dec5c14967eb894?s=128&d=identicon&r=PG&f=1", "display_name": "Navoneel Talukdar", "link": "https://stackoverflow.com/users/5651109/navoneel-talukdar"}, "is_accepted": false, "score": 0, "last_activity_date": 1568254745, "creation_date": 1568254745, "answer_id": 57898906, "question_id": 57895884, "link": "https://stackoverflow.com/questions/57895884/disable-formgroup-by-using-validators/57898906#57898906", "title": "disable FormGroup by using Validators", "body": "<p>When you are initializing the form in the constructor add the validator to the formarray first.Then after you receive the data call the <code>addCheckboxes</code> method.</p>\n\n<pre><code>form: FormGroup;\nreceivedSummons = [];\n\nconstructor(private formBuilder: FormBuilder) {\n   this.checkboxForm = this.formBuilder.group({\n     receivedSummons: new FormArray([], minSelectedCheckboxes(1))\n   });\n\n   of(this.someMethodWhichReturnReceivedSummons()).subscribe(receivedSummons =&gt; {\n      this.receivedSummons = receivedSummons;\n      this.addCheckboxes();\n   });\n}\n</code></pre>\n\n<p>In the addCheckboxes</p>\n\n<pre><code>private addCheckboxes() {\n    this.receivedSummons.map((o, i) =&gt; {\n      const control = new FormControl(i === 0); // if first item set to true, else false\n      (this.form.controls.receivedSummons as FormArray).push(control);\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 287, "user_id": 9970857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MDRpM.jpg?s=128&g=1", "display_name": "hafizi hamid", "link": "https://stackoverflow.com/users/9970857/hafizi-hamid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 750, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1568258179, "creation_date": 1568231294, "last_edit_date": 1568253510, "question_id": 57895884, "link": "https://stackoverflow.com/questions/57895884/disable-formgroup-by-using-validators", "title": "disable FormGroup by using Validators", "body": "<p>I had <code>formArray</code> checkbox on my <code>checkboxForm</code>, I need to disabled button submit if no checkbox are <code>checked</code>, I had implement custom validator on my <code>checkboxForm</code>, this is what I had tried;</p>\n\n<p><strong>Ts file</strong></p>\n\n<pre><code>  get formReceivedSummons() {\n    return this.checkboxForm.get('receivedSummons') as FormArray;\n  }\n\n  ngOnInit() {\n    this.checkboxForm = this.formBuilder.group({\n      receivedSummons: this.formBuilder.array([])\n    });\n    this.getReceivedSummons();\n  }\n\n  getReceivedSummons() {\n    this.receivedSummonsSubscription = this.inquiryStore.summons$\n      .subscribe(receivedSummons =&gt; {\n        this.receivedSummons = receivedSummons;\n      });\n  }\n\n  addCheckboxes() {\n    this.formReceivedSummons.setValue([]);\n    this.formReceivedSummons.setValidators([minSelectedCheckboxes(1)]);\n    this.receivedSummons.data.items.map(x =&gt; {\n      this.formReceivedSummons.push(\n        this.formBuilder.group({\n          itemNo: [x.itemNo],\n          isChecked: false,\n        }));\n    });\n  }\n\n\nfunction minSelectedCheckboxes(min = 1) {\n  const validator: ValidatorFn = (formArray: FormArray) =&gt; {\n    const totalSelected = formArray.controls\n      .map(control =&gt; control.value)\n      .reduce((prev, next) =&gt; (next ? prev + next : prev), 0);\n\n    return totalSelected &gt;= min ? null : { required: true };\n  };\n  return validator;\n}\n</code></pre>\n\n<p>I had place validators at <code>formArray</code> which is  <code>this.formReceivedSummons.setValidators([minSelectedCheckboxes(1)]);</code></p>\n\n<p>this is what I had implement in <strong>html file</strong></p>\n\n<pre><code>    &lt;form [formGroup]=\"checkboxForm\" (ngSubmit)=\"submitSelectedCheckbox()\"&gt;\n        &lt;ng-container formArrayName=\"receivedSummons\" *ngFor=\"let summon of formReceivedSummons.controls; let i = index\"&gt;\n            &lt;ng-container [formGroupName]=\"i\"&gt;\n                &lt;input type=\"checkbox\" formControlName=\"isChecked\"&gt; {{summon.value.itemNo}}\n      &lt;/ng-container&gt;\n    &lt;/ng-container&gt;\n    &lt;button [disabled]=\"!checkboxForm .valid\"&gt;submit&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>my checkboxForm button have been disabled, but if I checked one <code>checkbox</code> it should be enabled, but it didnt. I'm not sure how to solve thw problems, could use some guide and guidance to solve this.</p>\n\n<p><strong>Update</strong></p>\n\n<p>based on my finding in google and So, this is the close I can get, </p>\n\n<pre><code>  addCheckboxes() {\n    this.formReceivedSummons.setValue([]);\n    this.receivedSummons.data.items.map(item =&gt; {\n      this.formReceivedSummons.push(\n        this.formBuilder.group({\n          itemNo: [x.itemNo]\n          isChecked: [false, Validators.requiredTrue],\n        }));\n    });\n  }\n</code></pre>\n\n<p>by using <code>Validators.requiredTrue</code>, it need two checkboxes to be selected, then it will enable the button,but my requirement I need at least one checkbox to be select than it will enable the button submit form</p>\n"}, {"tags": ["typescript", "storybook"], "comments": [{"owner": {"reputation": 61, "user_id": 1370880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e050fd2d3141476a46578b699d0ed6d9?s=128&d=identicon&r=PG", "display_name": "Austin", "link": "https://stackoverflow.com/users/1370880/austin"}, "edited": false, "score": 0, "creation_date": 1583014399, "post_id": 57895883, "comment_id": 106976038, "body": "I am experiencing this as well. Did you ever find a solution?"}, {"owner": {"reputation": 33, "user_id": 5050768, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153081867361374/picture?type=large", "display_name": "Gil", "link": "https://stackoverflow.com/users/5050768/gil"}, "reply_to_user": {"reputation": 61, "user_id": 1370880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e050fd2d3141476a46578b699d0ed6d9?s=128&d=identicon&r=PG", "display_name": "Austin", "link": "https://stackoverflow.com/users/1370880/austin"}, "edited": false, "score": 0, "creation_date": 1583167119, "post_id": 57895883, "comment_id": 107016288, "body": "@Austin Dude this is some kind of witchcraft, I tried everything, tsconfig, storybook config, webpack config (creating another webpack), everythiiing and nothing, after one whole sprint we decide to &quot;re-do&quot; everything from scratch aka reinstalling and lose everything we did, this is &quot;solve&quot; the problem.  Basically we don&#39;t know what happened, so I suggest to re-install everything from scratch guided with official tutorial"}], "owner": {"reputation": 33, "user_id": 5050768, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153081867361374/picture?type=large", "display_name": "Gil", "link": "https://stackoverflow.com/users/5050768/gil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 836, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1568231284, "creation_date": 1568231284, "question_id": 57895883, "link": "https://stackoverflow.com/questions/57895883/storybookreact-hot-reload-isnt-working-v5-1-11", "title": "Storybook|React hot reload isn&#39;t working v5.1.11", "body": "<p>Simple as that, Hot Reload isn't working at all, I follow the exact steps <a href=\"https://storybook.js.org/docs/guides/guide-react/\" rel=\"nofollow noreferrer\">https://storybook.js.org/docs/guides/guide-react/</a></p>\n\n<blockquote>\n  <p>.storybook/config.js</p>\n</blockquote>\n\n<pre><code>import { configure } from '@storybook/react';\n\n// automatically import all files ending in *.stories.js\nconst req = require.context('../stories', true, /\\.stories\\.js$/);\nfunction loadStories() {\n  req.keys().forEach(filename =&gt; req(filename));\n}\n\nconfigure(loadStories, module);\n</code></pre>\n\n<blockquote>\n  <p>stories/index.stories.js</p>\n</blockquote>\n\n<pre><code>import React from 'react';\n\nimport { storiesOf } from '@storybook/react';\nimport { action } from '@storybook/addon-actions';\nimport { linkTo } from '@storybook/addon-links';\n\nimport { Button, Welcome } from '@storybook/react/demo';\n\nstoriesOf('Welcome', module).add('to Storybasdook', () =&gt; &lt;Welcome showApp={linkTo('Button')} /&gt;);\n\nstoriesOf('Buttasdawon', module)\n  .add('with text', () =&gt; &lt;Button onClick={action('clicasdawked')}&gt;Hello Button&lt;/Button&gt;)\n  .add('with some emoji', () =&gt; (\n    &lt;Button onClick={action('clicked')}&gt;\n      &lt;span role=\"img\" aria-label=\"so cool\"&gt;\n        \ud83d\ude00 \ud83d\ude0e \ud83d\udc4d \ud83d\udcaf\n      &lt;/span&gt;\n    &lt;/Button&gt;\n  ));\n</code></pre>\n\n<p>When I run <code>yarn storybook</code> everything works fine, but lets say I want to change <code>.add('with some emoji'..</code> to <code>.add('with some emojiiiiii..'</code> nothing changes, I need to relaunch <code>yarn storybook</code> to see changes</p>\n"}, {"tags": ["node.js", "typescript", "amazon-web-services", "amazon-elastic-beanstalk", "pm2"], "comments": [{"owner": {"reputation": 1034, "user_id": 326074, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/ab6e22323e1aa4a0af87de9a95b3de8b?s=128&d=identicon&r=PG", "display_name": "Nuthinking", "link": "https://stackoverflow.com/users/326074/nuthinking"}, "edited": false, "score": 0, "creation_date": 1585151201, "post_id": 57895795, "comment_id": 107663626, "body": "Did you find a solution? Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 4208338, "user_type": "registered", "profile_image": "https://graph.facebook.com/593920222/picture?type=large", "display_name": "Elliott", "link": "https://stackoverflow.com/users/4208338/elliott"}, "is_accepted": false, "score": 0, "last_activity_date": 1579334458, "creation_date": 1579334458, "answer_id": 59798638, "question_id": 57895795, "link": "https://stackoverflow.com/questions/57895795/issue-with-starting-node-pm2-process-manager-in-aws-elastic-beanstalk-npm-updat/59798638#59798638", "title": "Issue with starting node pm2 process manager in aws elastic beanstalk, npm update check failed", "body": "<p>I encountered the same issue. The solution is to add permissions to the Elastic Beanstalk <code>nodejs</code> user, in order for it to access <code>/tmp/.config</code>. You can do so by asking Elastic Beanstalk to run the following ebextensions post deploy shell script:</p>\n\n<p><code>.ebextensions/00_set_npm_permissions.config</code></p>\n\n<pre><code>files:\n  \"/opt/elasticbeanstalk/hooks/appdeploy/post/00_set_tmp_permissions.sh\":\n    mode: \"000755\"\n    owner: root\n    group: root\n    content: |\n      #!/usr/bin/env bash\n      chown -R nodejs:nodejs /tmp/.config\n\n</code></pre>\n\n<p>I hope this helps.</p>\n"}], "owner": {"reputation": 553, "user_id": 9023746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b85e883dde2b07ffd09399d44ac9335?s=128&d=identicon&r=PG", "display_name": "sjdm", "link": "https://stackoverflow.com/users/9023746/sjdm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 279, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1579334458, "creation_date": 1568230833, "question_id": 57895795, "link": "https://stackoverflow.com/questions/57895795/issue-with-starting-node-pm2-process-manager-in-aws-elastic-beanstalk-npm-updat", "title": "Issue with starting node pm2 process manager in aws elastic beanstalk, npm update check failed", "body": "<p>I am trying to use pm2 for process management of my typescript node application, which has been deployed to elasticbeanstalk.</p>\n\n<p>Every time the pm2 launches a new instance I get this in the logs</p>\n\n<p>---------------------node.js logs----------------------------</p>\n\n<p><code>pm2 start pm2.yaml</code></p>\n\n<p><code>[PM2] Spawning PM2 daemon with pm2_home=/tmp/.pm2</code>\n<code>[PM2] PM2 Successfully daemonized</code>\n<code>[PM2][WARN] Applications server not running, starting...</code>\n<code>[PM2] App [server] launched (1 instances)</code></p>\n\n<p><code>Use pm2 show &lt;id|name&gt; to get more details about an app</code></p>\n\n<p><code>npm update check failed</code>\n<code>Try running with sudo or get access</code>\n<code>to the local update config store via</code>\n<code>sudo chown -R $USER:$(id -gn $USER) /tmp/.config</code></p>\n\n<p>------------------------end-----------------------</p>\n\n<p>Everytime it then tries to restart the app and launch another instance, eventually ending with the degradation of the app.</p>\n\n<p>I have tried to use the command that it suggest but to no avail.</p>\n\n<p>any help will be massively appreciated. :)</p>\n"}, {"tags": ["typescript", "protractor"], "answers": [{"comments": [{"owner": {"reputation": 827, "user_id": 4233941, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/23a87c853ed584b057a8fb92ac9d794f?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolae Daian", "link": "https://stackoverflow.com/users/4233941/nicolae-daian"}, "edited": false, "score": 0, "creation_date": 1568242222, "post_id": 57897176, "comment_id": 102216247, "body": "Thank you, that worked! Quick question: what is the difference between  &quot;promise.Promise&lt;string[]&gt;&quot; and &quot;Promise&lt;string[]&gt;&quot;? If I use the latter, compilation fails with: &quot;Type &#39;Promise&lt;string[]&gt;&#39; is missing the following properties from type &#39;Promise&lt;string[]&gt;&#39;: [Symbol.toStringTag], finallyts(2739)&quot;"}], "tags": [], "owner": {"reputation": 3766, "user_id": 11597494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D8Zlm.jpg?s=128&g=1", "display_name": "Yevhen", "link": "https://stackoverflow.com/users/11597494/yevhen"}, "is_accepted": true, "score": 1, "last_activity_date": 1568238173, "creation_date": 1568238173, "answer_id": 57897176, "question_id": 57895726, "link": "https://stackoverflow.com/questions/57895726/function-that-returns-protractor-element-all-has-output-type-promisestring-i/57897176#57897176", "title": "Function that returns Protractor &quot;element.all&quot; has output type Promise&lt;string&gt; instead of Promise&lt;string[]&gt; in Typescript", "body": "<p>This is a known <a href=\"https://github.com/angular/protractor/issues/3818\" rel=\"nofollow noreferrer\">issue</a>.</p>\n\n<p>You need to iterate over the array, you can do it like this:</p>\n\n<pre><code>  private getIds(): promise.Promise&lt;string[]&gt; { // promise is imported from protractor\n    return element.all(by.css(\"rect.group\")).map(elem =&gt; {\n      if (elem) {\n        return elem.getAttribute('id');\n      }\n    });\n  }\n</code></pre>\n\n<p>Output will be an array of ids.</p>\n"}], "owner": {"reputation": 827, "user_id": 4233941, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/23a87c853ed584b057a8fb92ac9d794f?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolae Daian", "link": "https://stackoverflow.com/users/4233941/nicolae-daian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 57897176, "answer_count": 1, "score": 0, "last_activity_date": 1568238173, "creation_date": 1568230402, "question_id": 57895726, "link": "https://stackoverflow.com/questions/57895726/function-that-returns-protractor-element-all-has-output-type-promisestring-i", "title": "Function that returns Protractor &quot;element.all&quot; has output type Promise&lt;string&gt; instead of Promise&lt;string[]&gt; in Typescript", "body": "<p>Please take a look at the code below. getAllGroupIds() function returns an array of ids of the \"group\" elements. Basically I get all the group-ids before the test action and all the group-ids after the test action and then I want to compare them.</p>\n\n<p>However the below code doesn't compile because the \"groupIdsAfter.filter\" : </p>\n\n<blockquote>\n  <p>Property 'filter' does not exist on type 'string'.ts(2339)</p>\n</blockquote>\n\n<p>Basically TS thinks that getAllGroupIds function returns a Promise(string). It doesn't notice that I have \"element.all\". \"getAttribute\" when used with \"element.all\" returns and array of strings instead of a string. </p>\n\n<p>I tried to set the output of the function to Promise(string[]) but then I get a different compilation error: </p>\n\n<blockquote>\n  <p>Type 'Promise' is missing the following properties from type 'Promise': [Symbol.toStringTag], finallyts(2739)</p>\n</blockquote>\n\n<pre><code>    testCreateEmptyActivity2 = () =&gt; \n{\n    this.page.navigateTo().then(() =&gt;\n    {\n        this.getAllGroupIds().then((groupIdsBefore) =&gt;\n        {\n            console.log(groupIdsBefore);\n\n            // do something: test action\n\n            this.getAllGroupIds().then((groupIdsAfter) =&gt;\n            {\n                console.log(groupIdsAfter);\n\n                let diff = groupIdsAfter.filter(e =&gt; !groupIdsBefore.includes(e));\n                console.log(diff);\n            });\n        });\n\n        browser.sleep(2000);\n    });\n}\n\nprivate getAllGroupIds = () =&gt;\n{\n    return element.all(by.css(\"rect.group\")).getAttribute(\"id\"); \n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "mongoose"], "comments": [{"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1568230369, "post_id": 57895703, "comment_id": 102212755, "body": "Type <code>this</code> as shown in the dupe"}, {"owner": {"reputation": 8590, "user_id": 1348596, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/bfd67447bded12f9006d99866d2f0269?s=128&d=identicon&r=PG", "display_name": "danielrvt", "link": "https://stackoverflow.com/users/1348596/danielrvt"}, "reply_to_user": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1568231473, "post_id": 57895703, "comment_id": 102213157, "body": "Not working for me... I&#39;m using TS in the backend and that fix doesn&#39;t seem to work..."}], "owner": {"reputation": 8590, "user_id": 1348596, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/bfd67447bded12f9006d99866d2f0269?s=128&d=identicon&r=PG", "display_name": "danielrvt", "link": "https://stackoverflow.com/users/1348596/danielrvt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 15, "favorite_count": 0, "closed_date": 1568230316, "answer_count": 0, "score": 0, "last_activity_date": 1568230202, "creation_date": 1568230202, "question_id": 57895703, "link": "https://stackoverflow.com/questions/57895703/error-when-initializing-constant-with-this-this-implicitly-has-type-any", "closed_reason": "Duplicate", "title": "Error when initializing constant with &#39;this&#39; | &#39;this&#39; implicitly has type &#39;any&#39; because it does not have a type annotation", "body": "<p>I have a file 'test.js' and I changed it's extension to <code>.ts</code>. What I'm really trying to do is to slowly migrate a <code>.js</code> codebase to typescript.</p>\n\n<p>Now I'm getting the following error:</p>\n\n<blockquote>\n  <p>'this' implicitly has type 'any' because it does not have a type annotation.</p>\n</blockquote>\n\n<p>This is the code:</p>\n\n<pre><code>animalSchema.pre('save', function save(next) {\n  const animal = this;\n  if (!animal.isModified('id')) {\n    return next();\n  }\n  animal.name = \"Test Animal\";\n  next();\n  });\n});\n</code></pre>\n\n<p>And this is my <code>tsconfig.js</code>:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"allowJs\": true,\n    \"sourceMap\": true,\n    \"outDir\": \"./build\",\n    \"rootDir\": \"./src\",\n    \"strict\": false,\n    \"noImplicitAny\": false,\n    \"noImplicitThis\": false,\n    \"moduleResolution\": \"node\",\n    \"esModuleInterop\": true\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "click"], "comments": [{"owner": {"reputation": 406, "user_id": 6168382, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-io7Rf1BBzsU/AAAAAAAAAAI/AAAAAAAAAEw/Ft5jC1k-SeA/photo.jpg?sz=128", "display_name": "William Stevens", "link": "https://stackoverflow.com/users/6168382/william-stevens"}, "edited": false, "score": 0, "creation_date": 1568230543, "post_id": 57895675, "comment_id": 102212822, "body": "Combining them into one function should work fine. What does the code look like when you combine them?"}, {"owner": {"reputation": 123, "user_id": 10412337, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216432506875168/picture?type=large", "display_name": "Gustav Vingtoft", "link": "https://stackoverflow.com/users/10412337/gustav-vingtoft"}, "reply_to_user": {"reputation": 406, "user_id": 6168382, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-io7Rf1BBzsU/AAAAAAAAAAI/AAAAAAAAAEw/Ft5jC1k-SeA/photo.jpg?sz=128", "display_name": "William Stevens", "link": "https://stackoverflow.com/users/6168382/william-stevens"}, "edited": false, "score": 0, "creation_date": 1568230677, "post_id": 57895675, "comment_id": 102212868, "body": "deleteCandidate(owner: string): void {         this._candidateService.deleteCandidateFromCompanies(owner).t&zwnj;&#8203;hen(() =&gt; {             console.log(data);         }).catch( err =&gt; {             alert(&#39;An error has occurred&#39;);             console.log(err);         });         this._candidateService.deleteCandidatesFromOrganizations(own&zwnj;&#8203;er)             .then( data =&gt; {                 console.log(data);             }).catch( err =&gt; {             alert(&#39;An error has occurred&#39;);             console.log(err);         });     }"}, {"owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "edited": false, "score": 0, "creation_date": 1568231620, "post_id": 57895675, "comment_id": 102213218, "body": "FYI in angular we are going reactive. Stop using Promises. Convert everything to an Observable. there&#39;s an RxJS course on PluralSigh on RxJS in Angular is super good. You should take it"}, {"owner": {"reputation": 123, "user_id": 10412337, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216432506875168/picture?type=large", "display_name": "Gustav Vingtoft", "link": "https://stackoverflow.com/users/10412337/gustav-vingtoft"}, "edited": false, "score": 0, "creation_date": 1568270519, "post_id": 57895675, "comment_id": 102222535, "body": "I&#39;ll check that out. Thank you for that."}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 10412337, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216432506875168/picture?type=large", "display_name": "Gustav Vingtoft", "link": "https://stackoverflow.com/users/10412337/gustav-vingtoft"}, "edited": false, "score": 0, "creation_date": 1568230936, "post_id": 57895767, "comment_id": 102212968, "body": "I&#39;m gonna try that. Thank you."}], "tags": [], "owner": {"reputation": 3959, "user_id": 1501979, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v7WUc.jpg?s=128&g=1", "display_name": "Wilfredo P", "link": "https://stackoverflow.com/users/1501979/wilfredo-p"}, "is_accepted": true, "score": 3, "last_activity_date": 1568230660, "creation_date": 1568230660, "answer_id": 57895767, "question_id": 57895675, "link": "https://stackoverflow.com/questions/57895675/calling-multiple-functions-from-click/57895767#57895767", "title": "Calling multiple functions from (click)=", "body": "<p>One approach that you can do is, create one function that warps both, and you can user async / await to handle the asynchronous call for example:</p>\n\n<pre><code>async myFunctionWrapper(owner){\n  await deleteCandidateInCompanies(owner);\n  await deleteCandidateInOrganizations(owner);\n}\n</code></pre>\n\n<p>And in the HTML call the wrapper</p>\n\n<p><code>&lt;button (click)=\"myFunctionWrapper(Item.owner)\" /&gt;</code></p>\n"}, {"tags": [], "owner": {"reputation": 507, "user_id": 7748446, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-u8AQGan1-hw/AAAAAAAAAAI/AAAAAAAAAXk/DeXesXcKPrg/photo.jpg?sz=128", "display_name": "Selast Lambou", "link": "https://stackoverflow.com/users/7748446/selast-lambou"}, "is_accepted": false, "score": 1, "last_activity_date": 1568231205, "creation_date": 1568231205, "answer_id": 57895863, "question_id": 57895675, "link": "https://stackoverflow.com/questions/57895675/calling-multiple-functions-from-click/57895863#57895863", "title": "Calling multiple functions from (click)=", "body": "<p>Another approach is using the template form, cascading function calls in the template, like</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;button (click)=\"deleteCandidateInCompanies(item.owner); deleteCandidateInOrganizations(item.owner);\"&gt;Call it&lt;/button&gt;\n</code></pre>\n\n<p>Some other one are using <code>&amp;&amp;</code> but the impact is </p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;button (click)=\"deleteCandidateInCompanies(item.owner) &amp;&amp; deleteCandidateInOrganizations(item.owner);\"&gt;Call it&lt;/button&gt;\n</code></pre>\n\n<p><code>deleteCandidateInOrganizations</code> would be called after success of <code>deleteCandidateInCompanies</code></p>\n"}], "owner": {"reputation": 123, "user_id": 10412337, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216432506875168/picture?type=large", "display_name": "Gustav Vingtoft", "link": "https://stackoverflow.com/users/10412337/gustav-vingtoft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 57895767, "answer_count": 2, "score": 0, "last_activity_date": 1568231205, "creation_date": 1568230099, "question_id": 57895675, "link": "https://stackoverflow.com/questions/57895675/calling-multiple-functions-from-click", "title": "Calling multiple functions from (click)=", "body": "<p>In the context of deleting a user from my site, I have to make multiple database calls to delete the users ID in all tabels where the UserID are (Aprox. 10 different tabels). </p>\n\n<p>Right now I am using what I think is a dirty hack where I have multiple (click)=\"function()\" events on the same button triggering multiple functions, from where all those functions goes into my service layer and make the database base. In my service I have a function for every tabel I have to go into and delete the users ID.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;button (click)=\"deleteCandidateInCompanies(Item.owner)\"(click)=\"deleteCandidateInOrganizations(Item.owner)\"\n</code></pre>\n\n<p>Component.ts:</p>\n\n<pre><code> deleteCandidateInCompanies(owner: string): void {\n    this._candidateService.deleteCandidateFromCompanies(id)\n        .then( data =&gt; {\n        console.log(data);\n    }).catch( err =&gt; {\n        alert('An error has occurred');\n       console.log(err);\n    });\n}\n\ndeleteCandidateInOrganizations(owner: string): void {\n    this._candidateService.deleteCandidatesFromOrganizations(id)\n        .then( data =&gt; {\n            console.log(data);\n        }).catch( err =&gt; {\n        alert('An error has occurred');\n        console.log(err);\n    });\n}\n</code></pre>\n\n<p>Service.ts:</p>\n\n<pre><code>deleteCandidateFromCompanies(owner: string) {\n    // Get User object\n    return new Promise(async (resolve, reject) =&gt; {\n\n        const _dynamoDB = new AWS.DynamoDB.DocumentClient();\n        const getUserParams = {\n            TableName: 'user-table',\n            Key: {\n                sub: owner\n            }\n        };\n        const user = await _dynamoDB.get(getUserParams).promise();\n\n        // Get all companies owned by user\n        for (let i = 0; i &lt; user.Item.companies.length; i++) {\n            const companyUUID = user.Item.companies[i];\n            const getCompanyParams = {\n                TableName: 'company-table',\n                Key: {\n                    uuid: companyID\n                }\n            };\n\n            const company = await _dynamoDB.get(getCompanyParams).promise();\n\n            // Check what index owner is on\n            const companyIndex = company.Item.owners.indexOf(owner);\n\n            if (companyIndex === -1) {\n                continue;\n            }\n\n            const deleteUserReferenceInCompanyParams = {\n                TableName: 'company-tabel',\n                Key: {uuid: user.Item.companies[i]},\n                UpdateExpression: 'REMOVE owners[' + i.toString() + ']'\n            };\n\n\n_dynamoDB.update(deleteUserReferenceInCompanyParams, function (err, data) {\n                    if (err) {\n                        console.log(err);\n                        reject(err);\n                    } else {\n                        console.log(data);\n                        resolve(data);\n                    }\n                });\n            }\n    });\n\n\n\ndeleteCandidatesFromOrganizations(owner: string) {\n    // Get User object\n    return new Promise(async (resolve, reject) =&gt;{\n       const _dynamoDB = new AWS.DynamoDB.DocumentClient();\n       const getUserParams = {\n           TableName: 'user-table',\n           Key: {\n               sub: owner\n           }\n       };\n       const user = await _dynamoDB.get(getUserParams).promise();\n\n       // Get all organizations owned by user\n        for (let i = 0; i &lt; user.Item.ownerOrganization.length; i++){\n            const organizationUUID = user.Item.ownerOrganization[i];\n            const getOrganizationParams = {\n                TableName: 'organization-table',\n                Key: {\n                    uuid: organizationUUID\n                }\n            };\n\n            const organization = await \n_dynamoDB.get(getOrganizationParams).promise();\n\n            // Tjekker hvilket index owner er p\u00e5\n\n            const organizationsIndex = organization.Item.owners.indexOf(owner);\n\n            if (organizationsIndex === -1) {\n                continue;\n            }\n\n            const deleteUserReferenceInOrganizationParams = {\n                TableName: 'organization-table',\n                Key: {uuid: user.Item.ownerOrganization[i]},\n                UpdateExpression: 'REMOVE owners[' + i.toString() + ']'\n            };\n\n            // tslint:disable-next-line:typedef\n            _dynamoDB.update(deleteUserReferenceInOrganizationParams, function (err, data) {\n                if (err) {\n                    console.log(err);\n                    reject(err);\n                } else {\n                    console.log(data);\n                    resolve(data);\n                }\n            });\n        }\n    });\n}\n\n}\n</code></pre>\n\n<p>When I try and put my functions in component.ts in \u00f3ne function I get the error Promies returned from deleteCandidateFromCompanies is ignored. </p>\n\n<p>I expect there should be a different way, to get all these function together and get a lot less code and less database calls.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "stack"], "owner": {"reputation": 483, "user_id": 10553841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26a3593367ffd4a0a86def4051490360?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Vote", "link": "https://stackoverflow.com/users/10553841/jon-vote"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1568229788, "creation_date": 1568229788, "question_id": 57895609, "link": "https://stackoverflow.com/questions/57895609/angular-typescript-error-object-doesnt-return-complete-stack-information", "title": "Angular/typescript - error object doesn&#39;t return complete stack information", "body": "<p>I'm trying to write an exception handler that will log the stack trace when an error is encountered. The error object doesn't return the stack correctly. The following snipped demonstrates the issue: </p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'angular-error-stack';\n\n  runTest() {\n    try {\n      let invalidJson = 'invalid json'; \n      let someObject = JSON.parse(invalidJson); \n    }\n    catch(error) {\n      console.log('----- error and error.stack are not the same! -----'); \n      console.log('------------------------------------------');\n      console.log('Stack: ', error.stack); \n      console.log('------------------------------------------');\n      console.log('Error', error); \n      console.log('------------------------------------------');\n    }\n  }\n}\n</code></pre>\n\n<p>When I run the above, I get different results. The console.log(error.stack) doesn't include the same information as console.log(error). </p>\n\n<p>console.log(error.stack) shows the error occurring at: </p>\n\n<pre><code>AppComponent.runTest (http://localhost:4220/main.js:102:35)\n</code></pre>\n\n<p>console.log(error) shows the error occurring at: </p>\n\n<pre><code>AppComponent.runTest (app.component.ts:14)\n</code></pre>\n\n<p>How can I get the correct stack trace? </p>\n\n<p>The snippet above produces the following output: </p>\n\n<blockquote>\n  <p>Stack:  SyntaxError: Unexpected token i in JSON at position 0\n      at JSON.parse ()\n      at AppComponent.runTest (<a href=\"http://localhost:4220/main.js:102:35\" rel=\"nofollow noreferrer\">http://localhost:4220/main.js:102:35</a>)\n      at Object.eval [as handleEvent] (ng:///AppModule/AppComponent.ngfactory.js:15:27)\n      at handleEvent (<a href=\"http://localhost:4220/vendor.js:74619:122\" rel=\"nofollow noreferrer\">http://localhost:4220/vendor.js:74619:122</a>)\n      at callWithDebugContext (<a href=\"http://localhost:4220/vendor.js:76238:27\" rel=\"nofollow noreferrer\">http://localhost:4220/vendor.js:76238:27</a>)\n      at Object.debugHandleEvent [as handleEvent] (<a href=\"http://localhost:4220/vendor.js:75873:12\" rel=\"nofollow noreferrer\">http://localhost:4220/vendor.js:75873:12</a>)\n      at dispatchEvent (<a href=\"http://localhost:4220/vendor.js:61706:25\" rel=\"nofollow noreferrer\">http://localhost:4220/vendor.js:61706:25</a>)\n      at <a href=\"http://localhost:4220/vendor.js:73551:16\" rel=\"nofollow noreferrer\">http://localhost:4220/vendor.js:73551:16</a>\n      at HTMLButtonElement. (<a href=\"http://localhost:4220/vendor.js:79297:38\" rel=\"nofollow noreferrer\">http://localhost:4220/vendor.js:79297:38</a>)\n      at ZoneDelegate.invokeTask (<a href=\"http://localhost:4220/polyfills.js:3397:31\" rel=\"nofollow noreferrer\">http://localhost:4220/polyfills.js:3397:31</a>)</p>\n  \n  <p>Error:  SyntaxError: Unexpected token i in JSON at position 0\n      at JSON.parse ()\n      at AppComponent.runTest (app.component.ts:14)\n      at Object.eval [as handleEvent] (AppComponent.html:3)\n      at handleEvent (core.js:43992)\n      at callWithDebugContext (core.js:45631)\n      at Object.debugHandleEvent [as handleEvent] (core.js:45246)\n      at dispatchEvent (core.js:29803)\n      at core.js:42924\n      at HTMLButtonElement. (platform-browser.js:2668)\n      at ZoneDelegate.invokeTask (zone-evergreen.js:391)</p>\n</blockquote>\n"}, {"tags": ["javascript", "arrays", "reactjs", "typescript", "setstate"], "answers": [{"tags": [], "owner": {"reputation": 287, "user_id": 1243756, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/05a6a4b608e8056aad0f1b6bb7a0ae82?s=128&d=identicon&r=PG", "display_name": "Steve Graber", "link": "https://stackoverflow.com/users/1243756/steve-graber"}, "is_accepted": false, "score": 0, "last_activity_date": 1569938060, "creation_date": 1569938060, "answer_id": 58186343, "question_id": 57895426, "link": "https://stackoverflow.com/questions/57895426/react-child-component-with-array-props-updating-incorrectly/58186343#58186343", "title": "React Child Component with Array Props Updating Incorrectly", "body": "<p>The table key...</p>\n\n<pre><code>&lt;TableRow key={status.location}&gt;\n</code></pre>\n\n<p>was changing based on the status location. The table key must remain constant for the rendering to work correctly.</p>\n"}], "owner": {"reputation": 287, "user_id": 1243756, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/05a6a4b608e8056aad0f1b6bb7a0ae82?s=128&d=identicon&r=PG", "display_name": "Steve Graber", "link": "https://stackoverflow.com/users/1243756/steve-graber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569938060, "creation_date": 1568228847, "last_edit_date": 1568229265, "question_id": 57895426, "link": "https://stackoverflow.com/questions/57895426/react-child-component-with-array-props-updating-incorrectly", "title": "React Child Component with Array Props Updating Incorrectly", "body": "<p>My react web app uses Typescript.</p>\n\n<p>I'm having a problem with a child Component with array Props updating incorrectly when the array is updated in the parent with setState.</p>\n\n<p>The child is declared in the parent Component render as follows (Alarms is the child Component, filteredStatus is the array):</p>\n\n<pre><code>&lt;div key={1} className={'1'}&gt;\n  &lt;span className='text'&gt;&lt;b&gt;{locationName} &lt;i&gt;Status&lt;/i&gt;&lt;/b&gt;&lt;/span&gt;\n  &lt;Alarms filteredStatus={this.state.filteredStatus}/&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The child displays the array as a table.</p>\n\n<pre><code>public generate = () =&gt; {\n    return this.props.filteredStatus.map(status =&gt;\n    {\n      return (\n      &lt;TableRow key={status.location}&gt;\n        &lt;TableCell align=\"left\"&gt;\n          {(status.severity === 40) &amp;&amp; &lt;ErrorIcon style={{ fill: '#FF3333'}}/&gt;}\n          {(status.severity === 30) &amp;&amp; &lt;NotificationIcon style={{ fill: 'FFA033'}}/&gt;}\n          {(status.severity === 20) &amp;&amp; &lt;WarningIcon style={{ fill: 'FFE033'}}/&gt;}\n        &lt;/TableCell&gt;\n        &lt;TableCell align=\"left\"&gt;{status.description}&lt;/TableCell&gt;\n        &lt;TableCell align=\"left\"&gt;{status.timestamp}&lt;/TableCell&gt;\n        &lt;TableCell align=\"left\"&gt;{status.location}&lt;/TableCell&gt;\n\n        {/* &lt;div className=\"ListBtn\"&gt;\n          &lt;Tooltip title={\"Clear '\" + alarm.who + \"'\"}&gt;\n            &lt;Avatar&gt;\n              &lt;IconButton aria-label=\"Delete\" onClick={this.openClearAlarmConfirmDialog.bind(this, alarm)} &gt;\n                &lt;DeleteIcon /&gt;\n              &lt;/IconButton&gt;\n            &lt;/Avatar&gt;\n          &lt;/Tooltip&gt;\n        &lt;/div&gt; */}\n      &lt;/TableRow&gt;\n      );\n    });\n  }\n\n  public render() {\n    return (\n      &lt;div&gt;\n        {/* &lt;Paper&gt; */}\n          &lt;Table&gt;\n            &lt;TableHead&gt;\n              &lt;TableCell align=\"left\"&gt;Severity&lt;/TableCell&gt;\n              &lt;TableCell align=\"left\"&gt;Description&lt;/TableCell&gt;\n              &lt;TableCell align=\"left\"&gt;Timestamp&lt;/TableCell&gt;\n              &lt;TableCell align=\"left\"&gt;Location&lt;/TableCell&gt;\n            &lt;/TableHead&gt;\n            &lt;TableBody&gt;\n              {this.generate()}\n            &lt;/TableBody&gt;\n          &lt;/Table&gt;\n        {/* &lt;/Paper&gt; */}\n      &lt;/div&gt;\n    );\n  }\n\n\nfilteredStatus is declared in the parent Component state as...\n\n    interface IState {\n      dtName: string;\n      dtDesc: string;\n      dtInfo: IDrivetrainInfo;\n      drillDownIndex: number;\n      componentName: string;\n      navLocations: string[];\n      filteredStatus: Status[];\n      nullStatus: Status[];\n      locationStatus: Status;\n    }\n\nStatus is a user defined class...\n\n\n    export class Status {\n        public location: string;\n        public timestamp: string;\n        public severity: number;\n        public description: string;\n    }\n</code></pre>\n\n<p>The filteredStatus is updated in the parent from a timer...\nA new array of Status is created and assigned to the state.filtered status as follows:</p>\n\n<pre><code>this.setState({filteredStatus: this.localStatus});\n</code></pre>\n\n<p>What happens is that the updated table doesn't correctly show the new array of components. The new array appears to be merged with the old array. I added the size of the array to the child display and at times the size shows 0 while the list shows 15 elements. </p>\n\n<p>I was able to work around this problem by first setting the filteredStatus to a null array, then the new array as follows:</p>\n\n<pre><code>const nullStatus = Array&lt;Status&gt;();\nthis.setState({filteredStatus: nullStatus});\nthis.setState({filteredStatus: this.localStatus});\n</code></pre>\n\n<p>I may be doing something wrong, but this appears to be a problem with the rendering of the array props in the child Component.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 56502, "user_id": 271475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b00f41e5f2a69734051f2a78f4f3785?s=128&d=identicon&r=PG", "display_name": "Chris Heald", "link": "https://stackoverflow.com/users/271475/chris-heald"}, "edited": false, "score": 0, "creation_date": 1568227352, "post_id": 57894999, "comment_id": 102211415, "body": "It seems like you should just be able to extend <code>Indexable</code>, no? <code>EmployeeType</code> (and any other valid indexing) will be a subset of <code>[key: string]</code> due to JS&#39; requirement that object keys be strings."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1568227537, "post_id": 57894999, "comment_id": 102211496, "body": "<code>EmployeeDir</code> doesn&#39;t have an <a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html#indexable-types\" rel=\"nofollow noreferrer\">index signature</a>; it&#39;s a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#mapped-types\" rel=\"nofollow noreferrer\">mapped type</a> that evaluates to <code>{ contractor: any; permanent: any; }</code>.  Mapped types are not index signatures (even if the syntax looks similar), so I&#39;m not sure what you&#39;re asking for."}, {"owner": {"reputation": 1561, "user_id": 1239484, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ca695b8eb550869382b0222c289822f?s=128&d=identicon&r=PG", "display_name": "allejo", "link": "https://stackoverflow.com/users/1239484/allejo"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1568228178, "post_id": 57894999, "comment_id": 102211772, "body": "Thanks for that @jcalz, that actually helped clarify things for me, I can look at <code>keyof</code> now for that. @ChrisHeald, isn&#39;t <code>[key: number]</code> also a valid indexing method in TS? How could I specify allowing either string or number indexes?"}, {"owner": {"reputation": 1561, "user_id": 1239484, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ca695b8eb550869382b0222c289822f?s=128&d=identicon&r=PG", "display_name": "allejo", "link": "https://stackoverflow.com/users/1239484/allejo"}, "edited": false, "score": 0, "creation_date": 1568228840, "post_id": 57894999, "comment_id": 102212123, "body": "Wait, then if that&#39;s the case, I can just do <code>{[key: string]: any} | {[key: number]: any}</code> and that&#39;d cover the only possible index signatures since I learned that mapped types don&#39;t have them. Thank you both for the help!"}], "answers": [{"tags": [], "owner": {"reputation": 1561, "user_id": 1239484, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ca695b8eb550869382b0222c289822f?s=128&d=identicon&r=PG", "display_name": "allejo", "link": "https://stackoverflow.com/users/1239484/allejo"}, "is_accepted": true, "score": 1, "last_activity_date": 1568231905, "creation_date": 1568231905, "answer_id": 57896005, "question_id": 57894999, "link": "https://stackoverflow.com/questions/57894999/how-to-define-a-generic-in-typescript-that-forces-an-index-signature/57896005#57896005", "title": "How to define a generic in Typescript that forces an index signature", "body": "<p>Thanks to <a href=\"https://stackoverflow.com/questions/57894999/how-to-define-a-generic-in-typescript-that-forces-an-index-signature#comment102211496_57894999\">jcalz</a> for the clarification. In my example, <code>EmployeeDir</code> doesn't have an index signature; it's a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#mapped-types\" rel=\"nofollow noreferrer\">mapped type</a> that evaluates to:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface EmployeeDir {\n    contractor: any;\n    permanent: any;\n}\n</code></pre>\n\n<p>The only two possible index signatures are <code>{[key: string]: any}</code> and <code>{[key: number]: any}</code>. Which would let me have something along the lines of:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface StringIndexable {\n    [key: string]: any;\n}\n\ninterface NumberIndexable {\n    [key: number]: any;\n}\n\nfunction anything&lt;T extends NumberIndexable | StringIndexable&gt;(val: T): T {\n    let key: keyof T;\n\n    for (key in val) {\n        let value = val[key];\n    }\n\n    return val;\n}\n</code></pre>\n"}], "owner": {"reputation": 1561, "user_id": 1239484, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ca695b8eb550869382b0222c289822f?s=128&d=identicon&r=PG", "display_name": "allejo", "link": "https://stackoverflow.com/users/1239484/allejo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 329, "favorite_count": 0, "accepted_answer_id": 57896005, "answer_count": 1, "score": 1, "last_activity_date": 1568231905, "creation_date": 1568226938, "question_id": 57894999, "link": "https://stackoverflow.com/questions/57894999/how-to-define-a-generic-in-typescript-that-forces-an-index-signature", "title": "How to define a generic in Typescript that forces an index signature", "body": "<p>In Typescript, to give an object an index signature, you can define it in one of two ways depending on your needs. Let's say I have an <code>Indexable</code> interface and an <code>EmployeeDir</code> type.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type EmployeeType = \"contractor\" | \"permanent\";\n\ntype EmployeeDir = {\n    [key in EmployeeType]: any\n}\n\ninterface Indexable {\n    [key: string]: any;\n}\n</code></pre>\n\n<p>I know I can use a generic that accepts either of these two values like so:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function limited&lt;T extends EmployeeDir | Indexable&gt;(val: T): T {\n    return val;\n}\n</code></pre>\n\n<p>But how do I enforce that the given type <em>has</em> any type of index signature? I don't care what the index signature is, I just want to make sure that it <em>has</em> one. How would I go about that?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// What can I put here to allow any object type at all as\n// long has it has a signature definition?\nfunction anything&lt;T /* extends ...*/&gt;(val: T): T {\n    return val;\n}\n</code></pre>\n\n<p>I'm probably searching for the wrong thing since all my results keep leading to the \"object has no index signature\" error, which is not what I want.</p>\n"}, {"tags": ["typescript", "typescript-types", "typescript-class"], "comments": [{"owner": {"reputation": 123501, "user_id": 1903366, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XkUeD.png?s=128&g=1", "display_name": "lukasgeiter", "link": "https://stackoverflow.com/users/1903366/lukasgeiter"}, "edited": false, "score": 1, "creation_date": 1568226515, "post_id": 57894829, "comment_id": 102211063, "body": "Regarding using symbol as index type: <a href=\"https://github.com/microsoft/TypeScript/issues/1863\" rel=\"nofollow noreferrer\">github.com/microsoft/TypeScript/issues/1863</a>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1568226960, "post_id": 57894829, "comment_id": 102211271, "body": "You can&#39;t use <code>symbol</code> in an index signature (not <a href=\"https://github.com/microsoft/TypeScript/pull/26797\" rel=\"nofollow noreferrer\">yet</a> anyway), so <code>{[k: symbol]: any}</code> is invalid TypeScript.  You can use specific symbol-valued properties as keys in a type, though, as in <code>private data: { [Symbol.iterator]?: any } = {};</code>.  What&#39;s your use case?"}, {"owner": {"reputation": 61, "user_id": 11757838, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7JW8uS37Das/AAAAAAAAAAI/AAAAAAAAAOc/1u2LkZ0ZFXY/photo.jpg?sz=128", "display_name": "The Freeze", "link": "https://stackoverflow.com/users/11757838/the-freeze"}, "edited": false, "score": 0, "creation_date": 1568656200, "post_id": 57894829, "comment_id": 102335470, "body": "Well, thank you for that answer! But that still doesn&#39;t answer how <code>this.data[2] = 2;</code> works when I have already done <code>private data: {[k: string]: any} = {};</code>. As for my use case, it&#39;s is simply to build a collection class to store data for a project of mine."}], "answers": [{"tags": [], "owner": {"reputation": 19390, "user_id": 10431574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f8c9af9308ff187388114cc9d054149?s=128&d=identicon&r=PG", "display_name": "Linda Paiste", "link": "https://stackoverflow.com/users/10431574/linda-paiste"}, "is_accepted": false, "score": 0, "last_activity_date": 1611466083, "creation_date": 1611466083, "answer_id": 65867439, "question_id": 57894829, "link": "https://stackoverflow.com/questions/57894829/types-indexing-working-unexpectedly-and-throwing-unaccounted-for-errors/65867439#65867439", "title": "Types Indexing working unexpectedly and throwing unaccounted for errors", "body": "<p>It's bizarre to me too, but it's expected behavior.  Per <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#index-types-and-index-signatures\" rel=\"nofollow noreferrer\">the docs</a>:</p>\n<blockquote>\n<p>An index signature parameter type must be \u2018string\u2019 or \u2018number\u2019. If you have a type with a string index signature, keyof T will be string | number (and not just string, since in JavaScript you can access an object property either by using strings (object[&quot;42&quot;]) or numbers (object[42]))</p>\n</blockquote>\n"}], "owner": {"reputation": 61, "user_id": 11757838, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7JW8uS37Das/AAAAAAAAAAI/AAAAAAAAAOc/1u2LkZ0ZFXY/photo.jpg?sz=128", "display_name": "The Freeze", "link": "https://stackoverflow.com/users/11757838/the-freeze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1611466083, "creation_date": 1568226232, "question_id": 57894829, "link": "https://stackoverflow.com/questions/57894829/types-indexing-working-unexpectedly-and-throwing-unaccounted-for-errors", "title": "Types Indexing working unexpectedly and throwing unaccounted for errors", "body": "<p>This following code just seems bizarre to me...</p>\n\n<pre><code>export class Collection {\n    private data: {[k: string]: any} = {};\n    constructor () {\n        // WORKS AS EXPECTED\n        this.data[\"hello\"] = \"hello\";\n\n        // UNEXPECTEDLY WORKS\n        this.data[2] = 2;\n    }\n}\nexport class Collection2 {\n    private data: {[k: symbol]: any} = {};\n    constructor () {\n        // DOESN'T WORK AS EXPECTED\n        this.data[\"hello\"] = \"hello\";\n\n        // UNEXPECTEDLY DOESN'T WORK\n        this.data[Symbol.iterator] = function () {}\n    }\n}\n</code></pre>\n\n<p>If I set the index signature to <code>string</code>, only strings should be able to index it right? Same with symbol. However, numbers are able to index <code>[k: string]</code> and I get an error saying that <code>symbol</code> can't be used as an index signature.</p>\n"}, {"tags": ["c#", "typescript", "typewriter"], "owner": {"reputation": 498, "user_id": 3206876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xQfWF.jpg?s=128&g=1", "display_name": "sfanjoy", "link": "https://stackoverflow.com/users/3206876/sfanjoy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1568286051, "creation_date": 1568225570, "last_edit_date": 1568286051, "question_id": 57894679, "link": "https://stackoverflow.com/questions/57894679/typewriter-optional-members-from-nullable-or-optional-c-members", "title": "Typewriter Optional Members from Nullable or Optional c# members", "body": "<p>This Typewriter script</p>\n\n<pre><code>${\n  string IsOptional(Property p)\n  {\n    if (p.Type.IsNullable || p.Attributes.Any(a =&gt; a.Name == \"Optional\")) \n     return \"?\";\n    else return \"\";\n  }\n\n}$Classes(*)[\n  export interface $Name { $Properties[\n  $name$IsOptional: $Type;]\n}]\n</code></pre>\n\n<p>will produce</p>\n\n<pre><code>export interface Foo { \n   prop1: string;\n   prop2?: string;\n   prop3?: number;\n}\n</code></pre>\n\n<p>from c# class/file</p>\n\n<pre><code>[AttributeUsage(AttributeTargets.All)]\npublic class OptionalAttribute : Attribute\n{\n}\n//\npublic class Foo\n{\n  public string prop1; {get; set;}\n  [Optional]\n  public string prop2 {get; set}\n  public decimal? age {get; set}\n}\n</code></pre>\n\n<p>Paying it forward and wondering if it can be improved? Seems like Typewriter should handle the Nullable members automatically.</p>\n"}, {"tags": ["javascript", "typescript", "generics", "casting"], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 3, "last_activity_date": 1568225888, "creation_date": 1568225888, "answer_id": 57894749, "question_id": 57894668, "link": "https://stackoverflow.com/questions/57894668/how-to-define-return-type-using-keyof-accessor-with-typescript/57894749#57894749", "title": "How to define return type using keyof accessor with TypeScript?", "body": "<p>Sure, you just have to make <code>get</code> <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">generic</a> so that it doesn't return the union of all possible output types:</p>\n\n<pre><code>function get&lt;K extends keyof Example&gt;(n: K) {\n  const x: Example = { name: \"House\", handles: 8 };\n  return x[n];\n}\n</code></pre>\n\n<p>Now the signature is inferred to be:</p>\n\n<pre><code>// function get&lt;K extends \"name\" | \"handles\"&gt;(n: K): Example[K]\n</code></pre>\n\n<p>Where the return type, <code>Example[K]</code>, is a <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#keyof-and-lookup-types\" rel=\"nofollow noreferrer\">lookup type</a> representing the type you get when you index into an <code>Example</code> with key <code>K</code>.  </p>\n\n<p>When you call it, <code>K</code> is inferred to be a string literal type if it can be:</p>\n\n<pre><code>get(\"name\"); // function get&lt;\"name\"&gt;(n: \"name\"): string\n</code></pre>\n\n<p>And <code>Example[\"name\"]</code> is equivalent to <code>string</code>.  So now your call works as desired:</p>\n\n<pre><code>put(get(\"name\")); // okay\n</code></pre>\n\n<p>Hope that helps.  Good luck!</p>\n\n<p><a href=\"http://www.typescriptlang.org/play/#code/JYOwLgpgTgZghgYwgAgKIA84FsAOAbFAbwChlkRsIAuZAZzClAHMBuU5ACzhABMDaaIAK5YARtDYBfYsRhCQCMMAD2IZEwhgAPAGlkEdJF61kAawgBPZTDSZcBAHwAKEDR0BKZCTIJV9ZOg0GNj4KAC8XuSUNABEABLKQrQQMQA0nNx8EALIABzIkmxkUJpCUGroANogALpSxAD0DchyCkqq6pq6+oYQxsgxFFgpyAA+A1y8-DHOrsgeQXahlTo1Mq2KKmo4QmBOAG5weELUdAzMnoTSxBp7g5Qx7izITS3ymx23WvfDMy6xQxS7ho9EYICYMh2e1uTh+QKeL2aylMcAsxCAA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 0, "accepted_answer_id": 57894749, "answer_count": 1, "score": 0, "last_activity_date": 1568225888, "creation_date": 1568225529, "question_id": 57894668, "link": "https://stackoverflow.com/questions/57894668/how-to-define-return-type-using-keyof-accessor-with-typescript", "title": "How to define return type using keyof accessor with TypeScript?", "body": "<p>Is it possible to create a function that uses <code>keyof</code> to access a property of an object, and have TypeScript infer the return value?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Example {\n    name: string;\n    handles: number;\n}\n\nfunction get(n: keyof Example) {\n   const x: Example = {name: 'House', handles: 8};\n   return x[n];\n}\n\nfunction put(value: string) {\n\n}\n\nput(get(\"name\"));\n// ^^^ Error: Argument of type 'string | number' is not assignable to parameter of type 'string'\n</code></pre>\n\n<p>TypeScript is <em>merging</em> all the allowed types together, but when the function is called with the value <code>\"name\"</code> it does not infer the type is <code>string</code>.</p>\n\n<p>I can resolve the issue by casting the type.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>put(get(\"name\") as string);\n</code></pre>\n\n<p>Is there a way to do this without casting?</p>\n"}, {"tags": ["angular", "typescript", "internet-explorer", "iframe", "blob"], "answers": [{"tags": [], "owner": {"reputation": 6456, "user_id": 11490347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lFlKK.jpg?s=128&g=1", "display_name": "Yu Zhou", "link": "https://stackoverflow.com/users/11490347/yu-zhou"}, "is_accepted": false, "score": 2, "last_activity_date": 1568269494, "creation_date": 1568269494, "answer_id": 57900834, "question_id": 57894458, "link": "https://stackoverflow.com/questions/57894458/print-blob-pdf-in-ie-edge-with-typescript/57900834#57900834", "title": "Print blob (pdf) in IE / Edge with typescript", "body": "<p>The code doesn't work because IE and Edge both don't support iframe with data url as src attribute. You could check it in <a href=\"https://caniuse.com/#feat=datauri\" rel=\"nofollow noreferrer\">caniuse</a>. For more information, you could refer to my answer in <a href=\"https://stackoverflow.com/questions/57439796/react-iframe-displays-blank-page-with-base64-pdf-data-with-ie-15-windows-10/57457566#57457566\">another thread</a>.</p>\n\n<p>So we can't print the blob pdf directly in IE and Edge. There're two workarounds:</p>\n\n<ol>\n<li><p>Save it in IE and Edge then print it manually. IE and Edge have their own API for creating and downloading files, which is called <code>msSaveOrOpenBlob</code>. You could use the code like below:</p>\n\n<pre><code>var blob = new Blob([byteArray], { type: 'application/pdf' });\nif (window.navigator &amp;&amp; window.navigator.msSaveOrOpenBlob) {  //if IE or Edge\n    window.navigator.msSaveOrOpenBlob(blob);\n}\nelse {\n    var objectUrl = URL.createObjectURL(blob);\n    ...\n}\n</code></pre></li>\n<li><p>Using <a href=\"http://mozilla.github.io/pdf.js/\" rel=\"nofollow noreferrer\">PDF.js</a> to parse and render pdf. It uses a link like below to show pdf:</p>\n\n<pre><code>http://your_webserver_address/your_PDFjs_foldername/web/viewer.html?file=your_pdf_address\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 168, "user_id": 5713071, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-XDfhPKenpFs/AAAAAAAAAAI/AAAAAAAABkA/wsp-hcG4uhU/photo.jpg?sz=128", "display_name": "Avinash Kumar", "link": "https://stackoverflow.com/users/5713071/avinash-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1021, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1568269494, "creation_date": 1568224583, "question_id": 57894458, "link": "https://stackoverflow.com/questions/57894458/print-blob-pdf-in-ie-edge-with-typescript", "title": "Print blob (pdf) in IE / Edge with typescript", "body": "<p>I want to print blob (pdf) using typescript. I tried below code which works in Chrome but not in Edge.</p>\n\n<p>Code 1 (works for Chrome but displays blank while print in Edge) -</p>\n\n<pre><code>    const fileURL = URL.createObjectURL(blob);\n    const iframe = document.createElement('iframe');\n    iframe.style.display = 'none';\n    iframe.src = fileURL;\n    iframe.name = fileName;\n    document.body.appendChild(iframe);\n    iframe.contentWindow.print();\n</code></pre>\n\n<p>Code 2 (works for Chrome but contentWindow is null so throws error for contentWindow.document) -</p>\n\n<pre><code>    const fileURL = URL.createObjectURL(blob);\n    const iframe = document.createElement('iframe');\n    iframe.style.display = 'none';\n    iframe.src = fileURL;\n    iframe.name = fileName;\n    document.body.appendChild(iframe);\n    document.getElementsByTagName('iframe')[0].contentWindow.document.execCommand('print', false, null)\n</code></pre>\n\n<p>I have seen many questions but none of them are answered. I am using angular 6 so is there a direct method to achieve this or any library using which it can be achieved.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 302, "user_id": 11499133, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--aBiNBi_Vhk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd2OEI417rBoIFWa8_6wcKabIVnYQ/mo/photo.jpg?sz=128", "display_name": "Leonardo Getulio", "link": "https://stackoverflow.com/users/11499133/leonardo-getulio"}, "edited": false, "score": 0, "creation_date": 1568223603, "post_id": 57894219, "comment_id": 102209912, "body": "Use <code>data.array1</code> to access property &quot;array1&quot;."}, {"owner": {"reputation": 1311, "user_id": 5591211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dq1iO.jpg?s=128&g=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/5591211/rich"}, "edited": false, "score": 0, "creation_date": 1568223677, "post_id": 57894219, "comment_id": 102209941, "body": "<code>arraynames</code>, as provided, is not an array; its an object that is not defined correctly. If you have <code>arraynames = [&#39;array1&#39;,&#39;array2&#39;,&#39;array3&#39;]</code>, then using <code>data[arraynames[0]]</code> works fine."}], "answers": [{"tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1568223923, "last_edit_date": 1568223923, "creation_date": 1568223578, "answer_id": 57894258, "question_id": 57894219, "link": "https://stackoverflow.com/questions/57894219/how-to-read-a-value-of-property-from-object-using-string-in-angular-6/57894258#57894258", "title": "How to read a value of property from object using string in angular 6", "body": "<p>Try:</p>\n\n<pre><code>export class AppComponent {\n  data = {\n    array1: {id:1},\n    array2: {id:2},\n    array3: {id:3}\n  }\n\n  arraynames =[\"array1\", \"array2\",\"array3\"]\n\n  constructor() {\n    this.arraynames.forEach(x =&gt; {\n      console.log(this.data[x])\n    });\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 342, "user_id": 7764935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63bce017db5141f549d8ce4362231bcd?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul Beniwal", "link": "https://stackoverflow.com/users/7764935/rahul-beniwal"}, "is_accepted": false, "score": 0, "last_activity_date": 1568223648, "creation_date": 1568223648, "answer_id": 57894278, "question_id": 57894219, "link": "https://stackoverflow.com/questions/57894219/how-to-read-a-value-of-property-from-object-using-string-in-angular-6/57894278#57894278", "title": "How to read a value of property from object using string in angular 6", "body": "<p>Your array need to be string array like\narraynames = ['array1','array2','array3']. Now it  will work as data[arraynames[0]]</p>\n"}, {"tags": [], "owner": {"reputation": 302, "user_id": 11499133, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--aBiNBi_Vhk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd2OEI417rBoIFWa8_6wcKabIVnYQ/mo/photo.jpg?sz=128", "display_name": "Leonardo Getulio", "link": "https://stackoverflow.com/users/11499133/leonardo-getulio"}, "is_accepted": true, "score": 1, "last_activity_date": 1568223706, "creation_date": 1568223706, "answer_id": 57894289, "question_id": 57894219, "link": "https://stackoverflow.com/questions/57894219/how-to-read-a-value-of-property-from-object-using-string-in-angular-6/57894289#57894289", "title": "How to read a value of property from object using string in angular 6", "body": "<p>You can use:</p>\n\n<pre><code>Object.values(data)[0];\n//or\ndata.array1\n</code></pre>\n"}], "owner": {"reputation": 827, "user_id": 1667760, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d592419fef13b2acd6cf9a47e249a36b?s=128&d=identicon&r=PG", "display_name": "Abhash786", "link": "https://stackoverflow.com/users/1667760/abhash786"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 395, "favorite_count": 0, "accepted_answer_id": 57894289, "answer_count": 3, "score": -2, "last_activity_date": 1568223923, "creation_date": 1568223402, "question_id": 57894219, "link": "https://stackoverflow.com/questions/57894219/how-to-read-a-value-of-property-from-object-using-string-in-angular-6", "title": "How to read a value of property from object using string in angular 6", "body": "<p>I am getting a object of multiple array in my angular app from my rest service.</p>\n\n<p>based on property name, I want to access the the value from incoming object.</p>\n\n<p>object is like</p>\n\n<pre><code>data{\narray1:{},\narray2:{},\narray3:{}\n}\n</code></pre>\n\n<p>the number of array can change and also their names. I have another array which has all these array names like...</p>\n\n<pre><code>arraynames = {array1,array2,array3}\n</code></pre>\n\n<p>I tried to retrieve the value like...</p>\n\n<pre><code>data[arraynames[0]]\nor\ndata[0]\nor \ndata[array1]\n</code></pre>\n\n<p>but nothing seems working and they are returning undefined.</p>\n\n<p>how can I retrieve the value of array from data.</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "google-signin"], "comments": [{"owner": {"reputation": 462, "user_id": 2767662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa50246b5f5923f90731f6df0ed744c4?s=128&d=identicon&r=PG&f=1", "display_name": "Heinzlmaen", "link": "https://stackoverflow.com/users/2767662/heinzlmaen"}, "edited": false, "score": 0, "creation_date": 1589524452, "post_id": 57894045, "comment_id": 109333758, "body": "The title says it is not showing, your description sounds like it&#39;s showing in too many places?"}], "answers": [{"tags": [], "owner": {"reputation": 507, "user_id": 7748446, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-u8AQGan1-hw/AAAAAAAAAAI/AAAAAAAAAXk/DeXesXcKPrg/photo.jpg?sz=128", "display_name": "Selast Lambou", "link": "https://stackoverflow.com/users/7748446/selast-lambou"}, "is_accepted": false, "score": 0, "last_activity_date": 1568230723, "last_edit_date": 1592644375, "creation_date": 1568230723, "answer_id": 57895777, "question_id": 57894045, "link": "https://stackoverflow.com/questions/57894045/google-sign-in-button-not-showing/57895777#57895777", "title": "Google sign-in button not showing", "body": "<p>I can see you're new to <code>Ionic 4</code> with <code>Angular 8</code>. First of all, you need to know, what the process of login would be, depending on each platform.</p>\n<ul>\n<li>Would you be working with native, or with a browser?</li>\n<li>How do you handle user sessions? Are you using third-party providers?\n<ul>\n<li>Yes? Which one? Firebase? Auth0? Keycloak?...\n<ul>\n<li>You should integrate your end API with the third party library</li>\n</ul>\n</li>\n<li>No? You manage it yourself then (decoding google token,...)\n<ul>\n<li>You should manage the authentication yourself with the API</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>You may then answer these questions before going any fort.</p>\n<h3>Google Docs</h3>\n<p>As <a href=\"https://developers.google.com/identity/sign-in/web/sign-in\" rel=\"nofollow noreferrer\">the official documentation</a> says:</p>\n<blockquote>\n<p>Before you begin</p>\n<p>Before you can integrate Google Sign-In into your website, you must create a client ID, which you need to call the sign-in API.</p>\n<p>...</p>\n<p>When you configure the project, <code>select the Web browser client type and specify the origin URI of your app</code>.</p>\n<p>After configuration is complete, take note of the client ID that was created. You will need the client ID to complete the next steps. (A client secret is also created, but you need it only for server-side operations.)</p>\n</blockquote>\n<h3>Ionic in browser</h3>\n<p>With the browser, the login would require some angular package which would manage it, such as <a href=\"https://www.npmjs.com/package/angularx-social-login\" rel=\"nofollow noreferrer\">angularx-social-login</a>, <a href=\"https://www.npmjs.com/package/@angular/fire\" rel=\"nofollow noreferrer\">firebase with @angular/fire</a>.</p>\n<p>But I strongly suggest you use the <code>Google Plus</code> plugin when talking about native platforms such as android or IOS.</p>\n"}], "owner": {"reputation": 1, "user_id": 8942268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6266b55416e3ffcf0e49f1cf9ff3422?s=128&d=identicon&r=PG&f=1", "display_name": "Aleex", "link": "https://stackoverflow.com/users/8942268/aleex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1189, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568230723, "creation_date": 1568222575, "question_id": 57894045, "link": "https://stackoverflow.com/questions/57894045/google-sign-in-button-not-showing", "title": "Google sign-in button not showing", "body": "<p>I am testing an application with ionic 4 and angular 8 where I have to log in with Google Sign-In for Websites. The application index:\n\n</p>\n\n<pre><code>&lt;head&gt;\n  &lt;base href=\"/\" /&gt;\n  &lt;meta charset=\"utf-8\" /&gt;\n  &lt;meta name=\"format-detection\" content=\"telephone=no\" /&gt;\n  &lt;meta name=\"msapplication-tap-highlight\" content=\"no\" /&gt;\n  &lt;meta name=\"apple-mobile-web-app-capable\" content=\"yes\" /&gt;\n  &lt;meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black\" /&gt;\n  &lt;meta name=\"viewport\" content=\"viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no\" /&gt;\n  &lt;meta name=\"google-signin-client_id\" content=\"CLIENT_ID.apps.googleusercontent.com\"&gt;\n  &lt;title&gt;Auth&lt;/title&gt;\n  &lt;link rel=\"icon\" type=\"image/png\" href=\"assets/icon/favicon.png\" /&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n  &lt;app-root&gt;&lt;/app-root&gt;\n  &lt;script src=\"https://apis.google.com/js/platform.js\" async defer&gt;&lt;/script&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>I need to put the button on a home page that comes by default in a blank project.</p>\n\n<pre><code>&lt;ion-header&gt;\n  &lt;ion-toolbar&gt;\n    &lt;ion-title&gt;\n      Auth\n    &lt;/ion-title&gt;\n  &lt;/ion-toolbar&gt;\n&lt;/ion-header&gt;\n\n&lt;ion-content&gt;\n  &lt;div class=\"g-signin2\" data-onsuccess=\"onSignIn\"&gt;&lt;/div&gt;\n&lt;/ion-content&gt;\n</code></pre>\n\n<p>I am testing the application locally so the path to get to the home page is http: // localhost: 8100 / home but when I put the button on the index page it appears on the home page and therefore on all pages that are created what is not correct. How can the problem be solved so that the button appears on the home page?</p>\n\n<p><strong>Note:</strong> The Google Plus plugin is not required</p>\n"}, {"tags": ["javascript", "node.js", "angular", "typescript", "webpack"], "comments": [{"owner": {"reputation": 485, "user_id": 8877578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cAh2J.jpg?s=128&g=1", "display_name": "Devin Olsen", "link": "https://stackoverflow.com/users/8877578/devin-olsen"}, "edited": false, "score": 0, "creation_date": 1568224680, "post_id": 57893966, "comment_id": 102210336, "body": "Have you tried using the <code>exclude: &#47;node_modules&#47;</code> configuration setting in each of your rules? I have a feeling your ts rule is including a bunch (if not all node_modules) to your bundled js."}, {"owner": {"reputation": 753, "user_id": 460056, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ce543800578c2975f806bb321af9b0b7?s=128&d=identicon&r=PG", "display_name": "smorhaim", "link": "https://stackoverflow.com/users/460056/smorhaim"}, "reply_to_user": {"reputation": 485, "user_id": 8877578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cAh2J.jpg?s=128&g=1", "display_name": "Devin Olsen", "link": "https://stackoverflow.com/users/8877578/devin-olsen"}, "edited": false, "score": 0, "creation_date": 1568649661, "post_id": 57893966, "comment_id": 102332834, "body": "@DevinOlsen so adding the exclude, did reduce 10% the actual build time... but apparently the problem is elsewhere. I am adding more details to the original post as I believe the issue resides elsewhere."}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "edited": false, "score": 0, "creation_date": 1571656262, "post_id": 57893966, "comment_id": 103300976, "body": "@smorhaim Can you also vote up my answer. That would help me a lot. Thank you"}], "answers": [{"tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": true, "score": 0, "last_activity_date": 1568273813, "creation_date": 1568273813, "answer_id": 57901864, "question_id": 57893966, "link": "https://stackoverflow.com/questions/57893966/angular-8-with-webpack-3-7-extremely-slow-to-render/57901864#57901864", "title": "Angular 8 with Webpack 3.7 extremely slow to render", "body": "<p>For this rule</p>\n\n<pre><code>{\n  test: /\\.ts$/,\n  use: ['ts-loader', 'angular2-template-loader']\n},\n</code></pre>\n\n<p>You need to add exclude to exclude node_modules packages</p>\n\n<pre><code>{\n  test: /\\.ts$/,\n  exclude: /node_modules/,\n  use: ['ts-loader', 'angular2-template-loader']\n},\n</code></pre>\n"}], "owner": {"reputation": 753, "user_id": 460056, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ce543800578c2975f806bb321af9b0b7?s=128&d=identicon&r=PG", "display_name": "smorhaim", "link": "https://stackoverflow.com/users/460056/smorhaim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 584, "favorite_count": 0, "accepted_answer_id": 57901864, "answer_count": 1, "score": 0, "last_activity_date": 1571656243, "creation_date": 1568222227, "last_edit_date": 1571656243, "question_id": 57893966, "link": "https://stackoverflow.com/questions/57893966/angular-8-with-webpack-3-7-extremely-slow-to-render", "title": "Angular 8 with Webpack 3.7 extremely slow to render", "body": "<p>It is taking 35s to render (refresh) or 1.15s+ from starting Webpack.</p>\n\n<p>I've tried optimizing Webpack, and it got faster for launching it, but the bulk of the time takes place after loading main.js, and processing it. </p>\n\n<p>I did a profile, but can't figure out the part where it takes this long. </p>\n\n<p>How can I speed up DEVELOPMENT? Every file change is taking us 35-60 seconds to preview and test. </p>\n\n<pre><code>    {\n  \"name\": \"....\",\n  \"version\": \"0.0.0\",\n  \"scripts\": {\n    \"start\": \"webpack-dev-server --env.NODE_ENV=development --https --mode development --open\",\n    \"start:prod\": \"webpack-dev-server --env.NODE_ENV=production --https --open\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/common\": \"^8.1.3\",\n    \"@angular/compiler\": \"^8.1.3\",\n    \"@angular/core\": \"^8.1.3\",\n    \"@angular/fire\": \"^5.2.1\",\n    \"@angular/forms\": \"^8.1.3\",\n    \"@angular/platform-browser\": \"^8.1.3\",\n    \"@angular/platform-browser-dynamic\": \"^8.1.3\",\n    \"@angular/router\": \"^8.2.0\",\n    \"@types/google.analytics\": \"0.0.40\",\n    \"angular-svg-icon\": \"^7.2.1\",\n    \"cross-env\": \"^5.2.0\",\n    \"crypto-js\": \"^3.1.9-1\",\n    \"dotenv\": \"^8.1.0\",\n    \"firebase\": \"^6.3.4\",\n    \"google-libphonenumber\": \"^3.0.9\",\n    \"hammerjs\": \"^2.0.8\",\n    \"ngx-international-phone-number\": \"^1.0.4\",\n    \"ngx-swiper-wrapper\": \"^8.0.2\",\n    \"rxjs\": \"~6.4.0\",\n    \"rxjs-compat\": \"^6.5.2\",\n    \"sass-resources-loader\": \"^2.0.1\",\n    \"tslib\": \"^1.9.0\",\n    \"zone.js\": \"~0.9.1\"\n  },\n  \"devDependencies\": {\n    \"@angular-devkit/build-angular\": \"^0.801.3\",\n    \"@angular/animations\": \"^8.2.0\",\n    \"@angular/cdk\": \"^8.1.2\",\n    \"@angular/cli\": \"^8.2.1\",\n    \"@angular/compiler-cli\": \"^8.1.3\",\n    \"@angular/language-service\": \"^8.1.3\",\n    \"@angular/material\": \"^8.1.2\",\n    \"@types/jasmine\": \"^3.3.16\",\n    \"@types/jasminewd2\": \"~2.0.3\",\n    \"@types/node\": \"^11.13.20\",\n    \"angular2-template-loader\": \"^0.6.2\",\n    \"codelyzer\": \"^5.0.0\",\n    \"html-webpack-plugin\": \"^3.2.0\",\n    \"jasmine-core\": \"~3.4.0\",\n    \"jasmine-spec-reporter\": \"~4.2.1\",\n    \"karma\": \"~4.1.0\",\n    \"karma-chrome-launcher\": \"~2.2.0\",\n    \"karma-coverage-istanbul-reporter\": \"^2.0.6\",\n    \"karma-jasmine\": \"~2.0.1\",\n    \"karma-jasmine-html-reporter\": \"^1.4.0\",\n    \"moment\": \"^2.24.0\",\n    \"ngx-daterangepicker-material\": \"^2.1.8\",\n    \"node-sass\": \"^4.12.0\",\n    \"protractor\": \"~5.4.0\",\n    \"raw-loader\": \"^1.0.0\",\n    \"sass-loader\": \"^7.1.0\",\n    \"ts-loader\": \"^5.4.5\",\n    \"ts-node\": \"~7.0.0\",\n    \"tslint\": \"~5.15.0\",\n    \"typescript\": \"3.4.5\",\n    \"webpack\": \"^4.39.1\",\n    \"webpack-cli\": \"^3.3.6\",\n    \"webpack-dev-server\": \"^3.7.2\"\n  }\n}\n</code></pre>\n\n<p>Webpack config</p>\n\n<pre><code>const HtmlWebpackPlugin = require('html-webpack-plugin');\nconst path = require('path');\nconst webpack = require('webpack');\n\nmodule.exports = env =&gt; {\n  return {\n    entry: './src/main.ts',\n    resolve: {\n      extensions: ['.ts', '.js'],\n      alias: {\n        styles: path.resolve(__dirname, '../src/styles')\n      }\n    },\n    output: {\n      pathinfo: false\n    },\n    devServer: {\n      historyApiFallback: true\n    },\n    optimization: {\n      removeAvailableModules: false,\n      removeEmptyChunks: false,\n      splitChunks: false\n    },\n    module: {\n      rules: [\n        {\n          test: /\\.ts$/,\n          use: ['ts-loader', 'angular2-template-loader']\n        },\n        {\n          test: /\\.html$/,\n          use: 'raw-loader'\n        },\n        {\n          test: /\\.scss$/,\n          loader: [\"raw-loader\", \"sass-loader\", {\n            loader: 'sass-resources-loader',\n            options: {\n              resources: ['./src/styles.scss']\n            },\n          }]\n        },\n        {\n          // Hide import warnings\n          test: /[\\/\\\\]@angular[\\/\\\\]core[\\/\\\\].+\\.js$/,\n          parser: {system: true},\n        },\n      ]\n    },\n    plugins: [\n      new HtmlWebpackPlugin({template: './src/index.html'}),\n      new webpack.DefinePlugin({\"process.env.NODE_ENV\": JSON.stringify(env.NODE_ENV)})\n    ]\n  }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/v98rY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v98rY.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "rxjs"], "comments": [{"owner": {"reputation": 8732, "user_id": 1874522, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/1BXUD.png?s=128&g=1", "display_name": "peinearydevelopment", "link": "https://stackoverflow.com/users/1874522/peinearydevelopment"}, "edited": false, "score": 0, "creation_date": 1568221143, "post_id": 57893724, "comment_id": 102208874, "body": "You should look at <a href=\"https://www.learnrxjs.io/operators/transformation/mergemap.html\" rel=\"nofollow noreferrer\">learnrxjs.io/operators/transformation/mergemap.html</a>"}, {"owner": {"reputation": 8097, "user_id": 8618350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f100e1a27815164cb9a9bf00487858?s=128&d=identicon&r=PG&f=1", "display_name": "Fan Cheung", "link": "https://stackoverflow.com/users/8618350/fan-cheung"}, "edited": false, "score": 0, "creation_date": 1568221551, "post_id": 57893724, "comment_id": 102209048, "body": "answered here - <a href=\"https://stackoverflow.com/questions/53560652/how-to-make-a-sequence-of-http-requests-in-angular-6-using-rxjs/53560996#53560996\" title=\"how to make a sequence of http requests in angular 6 using rxjs\">stackoverflow.com/questions/53560652/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 8097, "user_id": 8618350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f100e1a27815164cb9a9bf00487858?s=128&d=identicon&r=PG&f=1", "display_name": "Fan Cheung", "link": "https://stackoverflow.com/users/8618350/fan-cheung"}, "edited": false, "score": 0, "creation_date": 1568221617, "post_id": 57893816, "comment_id": 102209071, "body": "think he is looking for observable execution in sequence"}, {"owner": {"reputation": 4147, "user_id": 2033671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8330c1fb886715affd5e852248394803?s=128&d=identicon&r=PG", "display_name": "Professor Allman", "link": "https://stackoverflow.com/users/2033671/professor-allman"}, "edited": false, "score": 0, "creation_date": 1568221672, "post_id": 57893816, "comment_id": 102209092, "body": "I believe observables have a build in way to convert to promise <a href=\"https://www.learnrxjs.io/operators/utility/topromise.html\" rel=\"nofollow noreferrer\">toPromise</a>"}, {"owner": {"reputation": 1190, "user_id": 3367818, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0qHpO.png?s=128&g=1", "display_name": "noamyg", "link": "https://stackoverflow.com/users/3367818/noamyg"}, "reply_to_user": {"reputation": 4147, "user_id": 2033671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8330c1fb886715affd5e852248394803?s=128&d=identicon&r=PG", "display_name": "Professor Allman", "link": "https://stackoverflow.com/users/2033671/professor-allman"}, "edited": false, "score": 0, "creation_date": 1568222103, "post_id": 57893816, "comment_id": 102209268, "body": "@ProfessorAllman in my example you&#39;re 1. Keeping the ngOnInit clean from handling the subscription result 2. You&#39;re keeping the subscription alive while toPromise() will turn it into a promise."}, {"owner": {"reputation": 129, "user_id": 9873324, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Yugo Harago", "link": "https://stackoverflow.com/users/9873324/yugo-harago"}, "edited": false, "score": 1, "creation_date": 1568224661, "post_id": 57893816, "comment_id": 102210323, "body": "@noamyg Thanks so much! I didn&#39;t know that I could use Promise that way"}], "tags": [], "owner": {"reputation": 1190, "user_id": 3367818, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0qHpO.png?s=128&g=1", "display_name": "noamyg", "link": "https://stackoverflow.com/users/3367818/noamyg"}, "is_accepted": true, "score": 2, "last_activity_date": 1568222818, "last_edit_date": 1568222818, "creation_date": 1568221482, "answer_id": 57893816, "question_id": 57893724, "link": "https://stackoverflow.com/questions/57893724/execute-in-obsevables-in-sequence/57893816#57893816", "title": "Execute in obsevables in sequence", "body": "<p>I'm not sure if this is a best practice in your example, however, what I do is wrap each method in a promise, then use async/await in order to chain them in a readable way. For example, in Angular:</p>\n\n<pre><code>async ngOnInit(){\n    try{\n        await this.methodThatUseObservable();\n        await this.method2();\n        await this.method3();\n        console.log(\"Done\");\n    }\n    catch(e){\n        //Handle errors\n    }\n}\n\nmethodThatUseObservable() : Promise&lt;{}&gt;{\n    return new Promise(\n        (resolve, reject) =&gt; {\n            this.service1.get().subscribe(\n                value1 =&gt; {\n                    this.value1 = value1;\n                    resolve();\n                },\n                error =&gt; {\n                    reject('Error!');\n                }\n            )\n        }\n    )\n}\n\n...Same for method2, method3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1137, "user_id": 9602452, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "D Pro", "link": "https://stackoverflow.com/users/9602452/d-pro"}, "is_accepted": false, "score": 1, "last_activity_date": 1568222914, "last_edit_date": 1568222914, "creation_date": 1568221615, "answer_id": 57893850, "question_id": 57893724, "link": "https://stackoverflow.com/questions/57893724/execute-in-obsevables-in-sequence/57893850#57893850", "title": "Execute in obsevables in sequence", "body": "<p>Try this:</p>\n\n<pre><code>import {concat, of} from \"rxjs\";\n\nconcat(\n  of(() =&gt; this.methodThatUseObservable()),\n  of(() =&gt; this.methodThatShouldExecuteAfter()),\n  of(() =&gt; this.anotherMethod())\n  ).subscribe(() =&gt; {}, error =&gt; {}, () =&gt; this.doYourStuff());\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 9873324, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Yugo Harago", "link": "https://stackoverflow.com/users/9873324/yugo-harago"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 57893816, "answer_count": 2, "score": 2, "last_activity_date": 1568222914, "creation_date": 1568220986, "question_id": 57893724, "link": "https://stackoverflow.com/questions/57893724/execute-in-obsevables-in-sequence", "title": "Execute in obsevables in sequence", "body": "<p>How can I execute observable methods that depends on the sequence in a clear way in typescript?</p>\n\n<p>example:</p>\n\n<pre><code>Init(){\n    this.methodThatUseObservable();\n    this.methodThatShouldExecuteAfter();\n    this.anotherMethod();\n    ... (continue)\n}\n</code></pre>\n\n<p>And in each of those methods I have inside an obsevable method and subscribe.</p>\n\n<pre><code>methodThatUseObservable(){\n   this.service1.get().subscribe(\n      (value1) =&gt; {\n         this.value1 = value1;\n      }\n   )\n}\nmethodThatShouldExecuteAfter(){\n   this.service2.get(this.value1).subscribe(  //depends on the first\n      (value2) =&gt; {\n         this.value2 = value2;\n      }\n   )\n}\nanotherMethod(){\n   this.service3.get(this.value2).subscribe(  //depends on the second\n      (value3) =&gt; {\n         this.value3 = value3;\n      }\n   )\n}\n...(so on)\n</code></pre>\n\n<p>Of cource I could do:</p>\n\n<pre><code>Init(){\n    this.methodThatUseObservable();\n}\n</code></pre>\n\n<p>And in each of those methods other methods that depends:</p>\n\n<pre><code>methodThatUseObservable(){\n   this.service1.get().subscribe(\n      (value1) =&gt; {\n         this.value1 = value1;\n         this.methodThatShouldExecuteAfter();\n      }\n   )\n}\nmethodThatShouldExecuteAfter(){\n   this.service2.get(this.value1).subscribe(  //depends on the first\n      (value2) =&gt; {\n         this.value2 = value2;\n         this.anotherMethod();\n      }\n   )\n}\nanotherMethod(){\n   this.service3.get(this.value2).subscribe(  //depends on the second\n      (value3) =&gt; {\n         this.value3 = value3;\n         ...(and so on)\n      }\n   )\n}\n</code></pre>\n\n<p>But I don't feel it very clear, in this way I think the sequence is not very clear.</p>\n\n<p>Maybe the solution is returning a promize and executing then method?</p>\n\n<pre><code>    this.methodThatUseObservable().then(()=&gt;{\n       this.methodThatShouldExecuteAfter();\n    }).then(()=&gt;{\n       this.anotherMethod();\n    })\n</code></pre>\n\n<p>I don't know if such changes in the structure is possible, please help.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "contentful"], "answers": [{"tags": [], "owner": {"reputation": 316, "user_id": 7292015, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207785683386393/picture?type=large", "display_name": "Rekoc", "link": "https://stackoverflow.com/users/7292015/rekoc"}, "is_accepted": false, "score": 4, "last_activity_date": 1575175513, "last_edit_date": 1575175513, "creation_date": 1575175122, "answer_id": 59122558, "question_id": 57893367, "link": "https://stackoverflow.com/questions/57893367/display-contentful-richtext-in-angular/59122558#59122558", "title": "Display ContentFul RichText in Angular", "body": "<p>First, you must install rich-text-html-renderer from your terminal:</p>\n\n<pre><code>npm install @contentful/rich-text-html-renderer\n</code></pre>\n\n<p>Then, you can import it from your Component:</p>\n\n<pre><code>import { documentToHtmlString } from '@contentful/rich-text-html-renderer';\n</code></pre>\n\n<p>and use it, simply like that:</p>\n\n<pre><code>_returnHtmlFromRichText(richText) {\n    if (richText === undefined || richText === null || richText.nodeType !== 'document') {\n      return '&lt;p&gt;Error&lt;/p&gt;';\n    }\n    return documentToHtmlString(richText);\n}\n</code></pre>\n\n<p>Finally, 'call the function' from your html like so:</p>\n\n<pre><code>&lt;div [innerHtml]=\"_returnHtmlFromRichText(post.fields.text)\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>You can also add some options to customise your rich text, more information <a href=\"https://github.com/contentful/rich-text/tree/master/packages/rich-text-html-renderer\" rel=\"nofollow noreferrer\">here</a>. Also, you should code a function similar to _returnHtmlFromRichText in your Contentful service to be able to reuse it later.</p>\n"}, {"tags": [], "owner": {"reputation": 759, "user_id": 2422788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ef6d9631ee536bdcb00edd3ce03fab4?s=128&d=identicon&r=PG&f=1", "display_name": "Kishan", "link": "https://stackoverflow.com/users/2422788/kishan"}, "is_accepted": false, "score": 1, "last_activity_date": 1582905431, "creation_date": 1582905431, "answer_id": 60455237, "question_id": 57893367, "link": "https://stackoverflow.com/questions/57893367/display-contentful-richtext-in-angular/60455237#60455237", "title": "Display ContentFul RichText in Angular", "body": "<p>I created an Angular library that can render rich text using Angular components: <a href=\"https://github.com/kgajera/ngx-contentful-rich-text\" rel=\"nofollow noreferrer\">https://github.com/kgajera/ngx-contentful-rich-text</a></p>\n\n<p>Why use this over <code>@contentful/rich-text-html-renderer</code>? If you need to customize the default mark-up, it allows you to use your Angular components which you can't do using the <code>documentToHtmlString</code> function and <code>[innerHTML]</code>.</p>\n"}], "owner": {"reputation": 3702, "user_id": 3676576, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/tu9Uv.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/3676576/kevin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1863, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1582905431, "creation_date": 1568219434, "last_edit_date": 1568220294, "question_id": 57893367, "link": "https://stackoverflow.com/questions/57893367/display-contentful-richtext-in-angular", "title": "Display ContentFul RichText in Angular", "body": "<p>I have a blog feed in my Angular App connected with Contentful. Thanks to the Contentful javascript sdk.</p>\n\n<p><a href=\"https://www.contentful.com/developers/docs/javascript/tutorials/using-contentful-in-an-angular-project/\" rel=\"nofollow noreferrer\">https://www.contentful.com/developers/docs/javascript/tutorials/using-contentful-in-an-angular-project/</a></p>\n\n<p>I'm trying to display the Title and the Text field. Here is my code:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport {Observable} from 'rxjs';\nimport {ContentfulService} from '../../services/contentful/contentful.service';\nimport { Entry } from 'contentful';\n\n@Component({\n  selector: 'app-blog',\n  templateUrl: './blog.component.html',\n  styleUrls: ['./blog.component.scss']\n})\nexport class BlogComponent implements OnInit {\n  private posts: Entry&lt;any&gt;[] = [];\n\n  constructor(private postService: ContentfulService) {}\n\n  ngOnInit() {\n    this.postService.getPosts()\n      .then(posts =&gt; {\n        this.posts = posts;\n        console.log(this.posts);\n      });\n  }\n}\n</code></pre>\n\n<p>And the html:</p>\n\n<pre><code>&lt;div *ngFor=\"let post of posts\"&gt;\n    &lt;a href=\"#\"&gt;{{ post.fields.title }}&lt;/a&gt;\n    &lt;div&gt;{{ post.fields.text }}&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The <code>title</code> field is displayed well because it is just a string field but the <code>text</code> field is RichText and display [object Object].</p>\n\n<p>Indeed it contain several object. It seems like the Object is divided in several pieces. </p>\n\n<p><a href=\"https://www.contentful.com/developers/docs/concepts/rich-text/\" rel=\"nofollow noreferrer\">https://www.contentful.com/developers/docs/concepts/rich-text/</a></p>\n\n<p>Does somebody have already display Contentful RichText in an Angular App ?\nIs there a specific way to do it? </p>\n"}, {"tags": ["javascript", "typescript", "parcel"], "owner": {"reputation": 4036, "user_id": 209904, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/cf104bd8c2b082eaf49e2580c9d5253e?s=128&d=identicon&r=PG", "display_name": "Helmut Granda", "link": "https://stackoverflow.com/users/209904/helmut-granda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 149, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1568218558, "creation_date": 1568218558, "question_id": 57893164, "link": "https://stackoverflow.com/questions/57893164/using-parcel-to-only-convert-from-es6-to-es5-and-minify", "title": "Using Parcel to only convert from es6 to es5 and minify", "body": "<p>I have a setup like this</p>\n\n<pre><code>src/\n- index.js (loads utils/file.js)\n-/utils\n--/file.js\n</code></pre>\n\n<p>After setting up parcel the output is great, however the output contains a loader (parcelRequire) and other utilities from Parcel which accounts for 98% of my application. Is there a setting to only have Parcel combine the files, convert from ES6 to ES5 and minify them without creating the helpers and loaders? I did have a similar setup for TypeScript and WebPack which worked great and I am migrating the application from TS to ES6.</p>\n"}, {"tags": ["angular", "typescript", "singleton"], "answers": [{"comments": [{"owner": {"reputation": 590, "user_id": 1335789, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/20ce603ab853be76377b179f66047a62?s=128&d=identicon&r=PG", "display_name": "Johan Aspeling", "link": "https://stackoverflow.com/users/1335789/johan-aspeling"}, "edited": false, "score": 0, "creation_date": 1568275922, "post_id": 57893048, "comment_id": 102225051, "body": "Using this approach, another service injected into the LoggingService doesn&#39;t resolve. Ive @injected the other service the same way, but the instance of the service is undefined."}, {"owner": {"reputation": 590, "user_id": 1335789, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/20ce603ab853be76377b179f66047a62?s=128&d=identicon&r=PG", "display_name": "Johan Aspeling", "link": "https://stackoverflow.com/users/1335789/johan-aspeling"}, "edited": false, "score": 0, "creation_date": 1568284265, "post_id": 57893048, "comment_id": 102229526, "body": "Interesting enough though, I&#39;ve written a test application and its working in that one. So I will have to go back and see why this is happening. I think this is the correct solution though"}], "tags": [], "owner": {"reputation": 1250, "user_id": 5706900, "user_type": "registered", "profile_image": "https://graph.facebook.com/987906877914619/picture?type=large", "display_name": "Siddharth Pal", "link": "https://stackoverflow.com/users/5706900/siddharth-pal"}, "is_accepted": true, "score": 4, "last_activity_date": 1568218085, "creation_date": 1568218085, "answer_id": 57893048, "question_id": 57892881, "link": "https://stackoverflow.com/questions/57892881/singleton-service-in-angular-7/57893048#57893048", "title": "Singleton service in Angular 7", "body": "<pre><code>@Injectable({providedIn: 'root', useClass: LoggingService})\nexport abstract class ILoggingService {\n // abstract functions here\n}\n</code></pre>\n\n<p>Thanks to this <a href=\"https://www.softwarearchitekt.at/aktuelles/the-new-treeshakable-providers-api-in-angular/\" rel=\"nofollow noreferrer\">article</a></p>\n"}], "owner": {"reputation": 590, "user_id": 1335789, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/20ce603ab853be76377b179f66047a62?s=128&d=identicon&r=PG", "display_name": "Johan Aspeling", "link": "https://stackoverflow.com/users/1335789/johan-aspeling"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1218, "favorite_count": 0, "accepted_answer_id": 57893048, "answer_count": 1, "score": 1, "last_activity_date": 1568224103, "creation_date": 1568217506, "question_id": 57892881, "link": "https://stackoverflow.com/questions/57892881/singleton-service-in-angular-7", "title": "Singleton service in Angular 7", "body": "<p>I have the following service:</p>\n\n<pre><code>export abstract class ILoggingService {\n    // abstract functions here\n}\n\nexport class LoggingService implements ILoggingService {\n    // service implementation\n}\n\nexport class MockLoggingService implements ILoggingService {\n    // service implementation\n}\n</code></pre>\n\n<p>Which I provide in the required modules using:</p>\n\n<pre><code>@NgModule()\nexport class SomeModule {\n    providers: [\n        { provide: ILoggingService, useClass: LoggingService }\n    ]\n}\n</code></pre>\n\n<p>Normal usage:</p>\n\n<pre><code>@Component({  \n    selector: 'test-component',\n    template: ''\n})\nexport class TestComponent {\n    constructor(private readonly loggingService: ILoggingService) {\n        // resolves to the correct instance (LoggingService), but not a singleton.\n    }\n}\n</code></pre>\n\n<p>I'm failing to create a singleton for this LoggingService. I have tried creating a LoggingServiceModule which uses the <code>forRoot()</code> strategy, which I couldn't get working.</p>\n\n<p>I'm also not sure how to use the <code>provideIn: 'root'</code> implementation, as it needs to be provided using <code>{ provide: ILoggingService, useClass: LoggingService }</code>?</p>\n\n<p>How can I combine the implementation where I map an interface (abstract class) to a concrete type, and the singleton pattern?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "time", "date-pipe"], "comments": [{"owner": {"reputation": 302, "user_id": 11499133, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--aBiNBi_Vhk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd2OEI417rBoIFWa8_6wcKabIVnYQ/mo/photo.jpg?sz=128", "display_name": "Leonardo Getulio", "link": "https://stackoverflow.com/users/11499133/leonardo-getulio"}, "edited": false, "score": 0, "creation_date": 1568217214, "post_id": 57892655, "comment_id": 102207001, "body": "if its only to display formatted, you can do this: <code>{{summon.value.summonTime.split(&#39;.&#39;).join(&#39;:&#39;)}}</code>"}, {"owner": {"reputation": 287, "user_id": 9970857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MDRpM.jpg?s=128&g=1", "display_name": "hafizi hamid", "link": "https://stackoverflow.com/users/9970857/hafizi-hamid"}, "reply_to_user": {"reputation": 302, "user_id": 11499133, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--aBiNBi_Vhk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd2OEI417rBoIFWa8_6wcKabIVnYQ/mo/photo.jpg?sz=128", "display_name": "Leonardo Getulio", "link": "https://stackoverflow.com/users/11499133/leonardo-getulio"}, "edited": false, "score": 0, "creation_date": 1568217449, "post_id": 57892655, "comment_id": 102207120, "body": "but still got error when using <code>DatePIpe</code>"}, {"owner": {"reputation": 302, "user_id": 11499133, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--aBiNBi_Vhk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd2OEI417rBoIFWa8_6wcKabIVnYQ/mo/photo.jpg?sz=128", "display_name": "Leonardo Getulio", "link": "https://stackoverflow.com/users/11499133/leonardo-getulio"}, "edited": false, "score": 0, "creation_date": 1568217594, "post_id": 57892655, "comment_id": 102207196, "body": "remove date pipe"}, {"owner": {"reputation": 287, "user_id": 9970857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MDRpM.jpg?s=128&g=1", "display_name": "hafizi hamid", "link": "https://stackoverflow.com/users/9970857/hafizi-hamid"}, "reply_to_user": {"reputation": 302, "user_id": 11499133, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--aBiNBi_Vhk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd2OEI417rBoIFWa8_6wcKabIVnYQ/mo/photo.jpg?sz=128", "display_name": "Leonardo Getulio", "link": "https://stackoverflow.com/users/11499133/leonardo-getulio"}, "edited": false, "score": 0, "creation_date": 1568217718, "post_id": 57892655, "comment_id": 102207276, "body": "my mistakes, updated my question"}], "answers": [{"tags": [], "owner": {"reputation": 322, "user_id": 11950927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HKKAj.jpg?s=128&g=1", "display_name": "nimpossible", "link": "https://stackoverflow.com/users/11950927/nimpossible"}, "is_accepted": false, "score": 0, "last_activity_date": 1568217797, "creation_date": 1568217797, "answer_id": 57892964, "question_id": 57892655, "link": "https://stackoverflow.com/questions/57892655/format-time-in-typescript-angular/57892964#57892964", "title": "Format time in Typescript Angular", "body": "<p>Hope You're doing great!!!</p>\n\n<p>Create a New Pipe in the folder you wish. Once done, please provide details in the module (import and declaration): -</p>\n\n<pre><code>import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'dateTransformer'\n})\nexport class DateTransformerPipe implements PipeTransform {\n\n  transform(value: any, args?: any): any {\n    return value &amp;&amp; value.length &gt; 0 ? value.replace('.', ':') : value;\n  }\n}\n</code></pre>\n\n<p>Once done, update this in your snippet: -</p>\n\n<pre><code>&lt;ng-container [formGroupName]=\"i\"&gt;\n  &lt;input type=\"checkbox\" formControlName=\"isChecked\" /&gt;\n  {{ summon.value.summonTime | dateTransformer }}\n  item: {{ summon.value.itemNo }}\n  &lt;br /&gt;\n  time:{{ summon.value.summonTime | dateTransformer }}\n  &lt;br /&gt;\n&lt;/ng-container&gt;\n</code></pre>\n\n<p>Hope, I was able to resolve your query! Happy Coding!! Cheers!!!</p>\n"}, {"comments": [{"owner": {"reputation": 287, "user_id": 9970857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MDRpM.jpg?s=128&g=1", "display_name": "hafizi hamid", "link": "https://stackoverflow.com/users/9970857/hafizi-hamid"}, "edited": false, "score": 0, "creation_date": 1568218079, "post_id": 57893029, "comment_id": 102207454, "body": "thanks, but if there any way without angular library ?"}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "reply_to_user": {"reputation": 287, "user_id": 9970857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MDRpM.jpg?s=128&g=1", "display_name": "hafizi hamid", "link": "https://stackoverflow.com/users/9970857/hafizi-hamid"}, "edited": false, "score": 0, "creation_date": 1568218131, "post_id": 57893029, "comment_id": 102207487, "body": "you can develop you own pipe, reading values separate by <code>.</code> and convert 24 hrs to 12 hours, and add am/pm"}], "tags": [], "owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "is_accepted": false, "score": 0, "last_activity_date": 1568218106, "last_edit_date": 1568218106, "creation_date": 1568218014, "answer_id": 57893029, "question_id": 57892655, "link": "https://stackoverflow.com/questions/57892655/format-time-in-typescript-angular/57893029#57893029", "title": "Format time in Typescript Angular", "body": "<p>You can use <code>ngx-moment</code> as below</p>\n\n<pre><code>{{summon.value.summonTime | amParse:'HH.mm.ss' | amDateFormat:'hh:mm a'}}\n</code></pre>\n\n<p>see your modified stackblitz <a href=\"https://stackblitz.com/edit/angular-moment-pipe-2324234\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-moment-pipe-2324234</a></p>\n"}, {"comments": [{"owner": {"reputation": 287, "user_id": 9970857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MDRpM.jpg?s=128&g=1", "display_name": "hafizi hamid", "link": "https://stackoverflow.com/users/9970857/hafizi-hamid"}, "edited": false, "score": 0, "creation_date": 1568432358, "post_id": 57893080, "comment_id": 102281440, "body": "hi mate, it seems work, any explanation for you answer ?"}, {"owner": {"reputation": 302, "user_id": 11499133, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--aBiNBi_Vhk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd2OEI417rBoIFWa8_6wcKabIVnYQ/mo/photo.jpg?sz=128", "display_name": "Leonardo Getulio", "link": "https://stackoverflow.com/users/11499133/leonardo-getulio"}, "reply_to_user": {"reputation": 287, "user_id": 9970857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MDRpM.jpg?s=128&g=1", "display_name": "hafizi hamid", "link": "https://stackoverflow.com/users/9970857/hafizi-hamid"}, "edited": false, "score": 0, "creation_date": 1568465585, "post_id": 57893080, "comment_id": 102287296, "body": "Yes, I have editted the answer with explanation. Good vibes."}], "tags": [], "owner": {"reputation": 302, "user_id": 11499133, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--aBiNBi_Vhk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd2OEI417rBoIFWa8_6wcKabIVnYQ/mo/photo.jpg?sz=128", "display_name": "Leonardo Getulio", "link": "https://stackoverflow.com/users/11499133/leonardo-getulio"}, "is_accepted": false, "score": 1, "last_activity_date": 1568465331, "last_edit_date": 1568465331, "creation_date": 1568218233, "answer_id": 57893080, "question_id": 57892655, "link": "https://stackoverflow.com/questions/57892655/format-time-in-typescript-angular/57893080#57893080", "title": "Format time in Typescript Angular", "body": "<p>Try this (tested on your stackblitz code):</p>\n\n<pre><code>time:{{'1990-10-10 '+ summon.value.summonTime.split('.').join(':') | date:'shortTime' }}\n</code></pre>\n\n<p>To use the \"date\" pipe, time must follow a date too, so we can pass any date just to validate the date pipe. For example, this works: {{'1990-10-10 01:02:03' | date:'shortTime'}}, and this does not works: {{'01:02:03' | date:'shortTime'}}.</p>\n\n<p>Also I have replaced the \".\" (dots) on time with \":\" with split and join to take formatted as needed.</p>\n"}], "owner": {"reputation": 287, "user_id": 9970857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MDRpM.jpg?s=128&g=1", "display_name": "hafizi hamid", "link": "https://stackoverflow.com/users/9970857/hafizi-hamid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1614, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1568465331, "creation_date": 1568216690, "last_edit_date": 1568217784, "question_id": 57892655, "link": "https://stackoverflow.com/questions/57892655/format-time-in-typescript-angular", "title": "Format time in Typescript Angular", "body": "<p>I want to iterate <code>time</code> in my <code>FormArray</code> and I'm receiving time from API in the below format:</p>\n\n<pre><code>14.21.00\n</code></pre>\n\n<p>I want to format this time like this:</p>\n\n<pre><code>2:21 PM\n</code></pre>\n\n<p>I'm trying to format using Angular <code>DatePipe</code> like this:</p>\n\n<pre><code>{{summon.value.summonTime | date :'shortTime' }}\n</code></pre>\n\n<p>but got error:</p>\n\n<blockquote>\n  <p>Error: InvalidPipeArgument: 'Unable to convert \"14.21.00\" into a date' for pipe 'DatePipe'</p>\n</blockquote>\n\n<p>here I reproduced in <a href=\"https://stackblitz.com/edit/angular-udvmad?file=src%2Fapp%2Finquiry-response%2Finquiry-response.component.html\" rel=\"nofollow noreferrer\">stackblitz</a></p>\n\n<p>based on my research, <code>14.21.00</code> are not supported time format in javascript/typescript, if there any guidance and suggestion to solve this.</p>\n"}, {"tags": ["angular", "typescript", "enums"], "answers": [{"comments": [{"owner": {"reputation": 1008, "user_id": 8604465, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5f4ff41ec61421ef2f45bee26d922ccc?s=128&d=identicon&r=PG&f=1", "display_name": "J.G.Sable", "link": "https://stackoverflow.com/users/8604465/j-g-sable"}, "edited": false, "score": 1, "creation_date": 1568217324, "post_id": 57892674, "comment_id": 102207042, "body": "Perfect. Thank you."}], "tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": true, "score": 1, "last_activity_date": 1568216750, "creation_date": 1568216750, "answer_id": 57892674, "question_id": 57892520, "link": "https://stackoverflow.com/questions/57892520/how-to-get-value-from-typescript-enum-angular-6/57892674#57892674", "title": "How to get value from TypeScript Enum (Angular 6)", "body": "<p>Syntax is: <code>ReportedResourceStatusEnum[1]</code></p>\n\n<p>Try this:</p>\n\n<pre><code>export enum ReportedResourceStatusEnum {\n  New = 1,\n  Reviewed = 2,\n  Escalated = 3,\n  Resolved = 4\n}\n\n\nexport class AppComponent {\n  data = {\n    something: 'Something',\n    status: '1'\n  }\n\n  constructor() {\n    console.log(ReportedResourceStatusEnum[Number(this.data.status)]) //New\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1008, "user_id": 8604465, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5f4ff41ec61421ef2f45bee26d922ccc?s=128&d=identicon&r=PG&f=1", "display_name": "J.G.Sable", "link": "https://stackoverflow.com/users/8604465/j-g-sable"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 271, "favorite_count": 0, "accepted_answer_id": 57892674, "answer_count": 1, "score": 1, "last_activity_date": 1568217607, "creation_date": 1568216195, "last_edit_date": 1568217607, "question_id": 57892520, "link": "https://stackoverflow.com/questions/57892520/how-to-get-value-from-typescript-enum-angular-6", "title": "How to get value from TypeScript Enum (Angular 6)", "body": "<p>I am saving the numeric value of an enum in my database and returning it to the UI in a different area. Now I want to extract the string value associated with that numeric value in the enum in a different angular component.</p>\n\n<p>I have an enum like so:</p>\n\n<pre><code>export enum ReportedResourceStatusEnum {\n    New = 1,\n    Reviewed = 2,\n    Escalated = 3,\n    Resolved = 4\n}\n</code></pre>\n\n<p>That value (the 1, 2, 3, 4) is stored as a string property (nvarchar) in the table. When I call the api, an object is returned like this:</p>\n\n<pre><code>{\n   something: 'Something',\n   status: '1'\n}\n</code></pre>\n\n<p>When I display to the UI, the '1' is displayed. How do I inject the <code>Enum class</code> and extract the string associated with the value of 1. In this case, being the word <code>New</code>.</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 3, "creation_date": 1568216017, "post_id": 57892428, "comment_id": 102206389, "body": "It really depends on the possible values of <code>data.active</code>, and for that we&#39;d need a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 311, "user_id": 3958017, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8397330099f48e9e060d73e519b848ec?s=128&d=identicon&r=PG&f=1", "display_name": "theHussle", "link": "https://stackoverflow.com/users/3958017/thehussle"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1568216120, "post_id": 57892428, "comment_id": 102206435, "body": "sorry data.active can be either true/false. Also this shouldn&#39;t need full code its more of a thought experiment if someone has had a similar situation."}, {"owner": {"reputation": 311, "user_id": 3958017, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8397330099f48e9e060d73e519b848ec?s=128&d=identicon&r=PG&f=1", "display_name": "theHussle", "link": "https://stackoverflow.com/users/3958017/thehussle"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1568216324, "post_id": 57892428, "comment_id": 102206554, "body": "sorry true/false or undefined..."}, {"owner": {"reputation": 1332, "user_id": 2240253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09e00ffe411f21d93bce58e239d59ce4?s=128&d=identicon&r=PG", "display_name": "Mischa", "link": "https://stackoverflow.com/users/2240253/mischa"}, "edited": false, "score": 1, "creation_date": 1568216415, "post_id": 57892428, "comment_id": 102206607, "body": "If data.active only be true or false, why you checking then if data.active !== undefined?! .... and no <code>this.active = data.active || true</code> is not the same as <code>this.active = data.active !== undefined ? data.active : true;</code> for data.acive = false"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1568216713, "post_id": 57892428, "comment_id": 102206762, "body": "A minimum reproducible example doesn&#39;t mean &quot;full code&quot;, it&#39;s &quot;enough code to reproduce&quot;.  Since you&#39;re treating <code>false</code> and <code>undefined</code> as separate cases, you can&#39;t use truthiness/falsiness checks... try <code>this.active = data.active !== false</code>."}], "answers": [{"comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1568219062, "post_id": 57892761, "comment_id": 102207952, "body": "&quot;the ternary is the only (good) way&quot;...  given that (according to the comments) <code>data.active</code> is always either <code>true</code>, <code>false</code>, or <code>undefined</code>... is something not &quot;good&quot; about <code>data.active !== false</code>?"}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1568226986, "post_id": 57892761, "comment_id": 102211284, "body": "@jcalz ah, right, that&#39;ll work too .. .but I&#39;m not sure about readability, I&#39;d still prefer the ternary"}], "tags": [], "owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": true, "score": 1, "last_activity_date": 1568217075, "creation_date": 1568217075, "answer_id": 57892761, "question_id": 57892428, "link": "https://stackoverflow.com/questions/57892428/typescript-simplifying-this-statement-this-active-data-active-undefined/57892761#57892761", "title": "Typescript - Simplifying this statement this.active = data.active !== undefined ? data.active : true;", "body": "<p><code>this.active = data.active || true</code> would work if <code>data.active</code> is always either <a href=\"https://developer.mozilla.org/en-US/docs/Glossary/Truthy\" rel=\"nofollow noreferrer\">truthy</a> or <code>undefined</code>. If not, the ternary is the only (good) way.</p>\n"}], "owner": {"reputation": 311, "user_id": 3958017, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8397330099f48e9e060d73e519b848ec?s=128&d=identicon&r=PG&f=1", "display_name": "theHussle", "link": "https://stackoverflow.com/users/3958017/thehussle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 57892761, "answer_count": 1, "score": -2, "last_activity_date": 1568217075, "creation_date": 1568215826, "question_id": 57892428, "link": "https://stackoverflow.com/questions/57892428/typescript-simplifying-this-statement-this-active-data-active-undefined", "title": "Typescript - Simplifying this statement this.active = data.active !== undefined ? data.active : true;", "body": "<p>As per the title I want to know if there is a more effective way to write the above statement? </p>\n\n<p><code>Perhaps this.active = data.active || true?</code></p>\n"}, {"tags": ["javascript", "html", "angular", "typescript"], "comments": [{"owner": {"reputation": 322, "user_id": 11950927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HKKAj.jpg?s=128&g=1", "display_name": "nimpossible", "link": "https://stackoverflow.com/users/11950927/nimpossible"}, "edited": false, "score": 0, "creation_date": 1568216341, "post_id": 57892375, "comment_id": 102206567, "body": "If you need the above one as Object then I believe the Object Structure is incorrect. Please confirm the below:  id: [2,3,4];  object = [{0: {Permission: {id: 2}}, 1: {Permission: {id: 3}}} ]; // is this structure what you need?"}, {"owner": {"reputation": 51, "user_id": 11426223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d4bc505a3f8e16290ebf652dd310d6?s=128&d=identicon&r=PG&f=1", "display_name": "Random", "link": "https://stackoverflow.com/users/11426223/random"}, "reply_to_user": {"reputation": 322, "user_id": 11950927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HKKAj.jpg?s=128&g=1", "display_name": "nimpossible", "link": "https://stackoverflow.com/users/11950927/nimpossible"}, "edited": false, "score": 0, "creation_date": 1568216901, "post_id": 57892375, "comment_id": 102206859, "body": "yes thats what I need and sorry for the mistake"}], "answers": [{"tags": [], "owner": {"reputation": 302, "user_id": 11499133, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--aBiNBi_Vhk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd2OEI417rBoIFWa8_6wcKabIVnYQ/mo/photo.jpg?sz=128", "display_name": "Leonardo Getulio", "link": "https://stackoverflow.com/users/11499133/leonardo-getulio"}, "is_accepted": true, "score": 3, "last_activity_date": 1568216111, "creation_date": 1568216111, "answer_id": 57892498, "question_id": 57892375, "link": "https://stackoverflow.com/questions/57892375/get-id-that-is-not-present-in-object-array/57892498#57892498", "title": "Get id that is not present in object array", "body": "<p>Use filter(). Example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var id = [2,3,4];\r\n\r\nvar object = [\r\n    {id: 2},\r\n    {id: 3}\r\n ];\r\n\r\nobjectIds = object.map(myObj =&gt; myObj.id);\r\nidNotIn = id.filter(myId =&gt; !objectIds.includes(myId));\r\n\r\nconsole.log('objectIds: '+ objectIds);\r\nconsole.log('idNotIn: '+ idNotIn);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Or in a single line of code:</p>\n\n<pre><code>idNotIn = id.filter(myId =&gt; !object.map(myObj =&gt; myObj.id).includes(myId));\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 11426223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d4bc505a3f8e16290ebf652dd310d6?s=128&d=identicon&r=PG&f=1", "display_name": "Random", "link": "https://stackoverflow.com/users/11426223/random"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 57892498, "answer_count": 1, "score": -3, "last_activity_date": 1568216111, "creation_date": 1568215612, "question_id": 57892375, "link": "https://stackoverflow.com/questions/57892375/get-id-that-is-not-present-in-object-array", "title": "Get id that is not present in object array", "body": "<p>I have one array and one object that contains array of ids (permission objects).</p>\n\n<p>now i want to get the ids that are not present in the object can anyone help me with the logic?</p>\n\n<pre><code> id: [2,3,4]\n object = [0:\n Permission: {id: 2},\n 1: Permission: {id: 3}\n ]\n result: [4]\n</code></pre>\n"}, {"tags": ["javascript", "html", "angular", "typescript"], "owner": {"reputation": 946, "user_id": 11834561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8db261ed9283a5fa403bfca7891b954e?s=128&d=identicon&r=PG&f=1", "display_name": "Timu&#231;in &#199;i&#231;ek", "link": "https://stackoverflow.com/users/11834561/timu%c3%a7in-%c3%87i%c3%a7ek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1568215524, "creation_date": 1568215524, "question_id": 57892349, "link": "https://stackoverflow.com/questions/57892349/dynamically-url-navigation-between-mattabs", "title": "Dynamically URL navigation between mattabs", "body": "<p>I have an application which looks like on the image below.I used mattabs inside nav links.</p>\n\n<pre><code> this.navLinks = [\n      {\n          label: 'Preview',\n          link:  './1',\n          index: 0\n      }, {\n          label: 'Tuning',\n          link: './tabtest2',\n          index: 1\n      }, {\n          label: 'Payment',\n          link: './tabtest3',\n          index: 2\n      }, \n  ];\n</code></pre>\n\n<p>in this code part when I press preview it shows me the 2nd element on the list(array).Thats exactly how I want it to work but it should be controlled dynamically.I made string concatanation and changed with that link on the preview tab but URL isnt recognizable.My concatanation is exactly same like '.1' on the link property\nHere's what I tried below</p>\n\n<p><strong>TS File</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { Car } from './car.model';\nimport { CarService } from './car.sevice';\nimport { Router, ActivatedRoute, Params } from '@angular/router';\nimport { Subject } from 'rxjs';\n\n@Component({\n  selector: 'app-cars',\n  templateUrl: './cars.component.html',\n  styleUrls: ['./cars.component.css']\n})\nexport class CarsComponent implements OnInit {\n  navLinks: any[];\n  public href: string = \"\";\n  activeLinkIndex = -1;\n  mySubject;\n  ngOnInit(): void {\n    this.href = this.router.url;\n    console.log(this.router.url);\n    this.router.events.subscribe((res) =&gt; {\n        this.activeLinkIndex = this.navLinks.indexOf(this.navLinks.find(tab =&gt; tab.link === '.' + this.router.url));\n    });\n    this.mySubject=this.carService.carrierSubject.subscribe(value=&gt;\n      {\n        this.id=value;\n        let numid=this.id.toString();\n        this.newString=\"./\".concat(numid);\n        console.log(this.newString);\n      })\n  }\n  newString:string='';\n  id:number;\n  car:Car;\n  constructor(private carService:CarService,private route: ActivatedRoute,private router: Router) {\n    this.navLinks = [\n      {\n          label: 'Preview',\n          link:  '.1',\n          index: 0\n      }, {\n          label: 'Tuning',\n          link: './tabtest2',\n          index: 1\n      }, {\n          label: 'Payment',\n          link: './tabtest3',\n          index: 2\n      }, \n  ];\n   }\n\n  onTuning()\n  {\n    this.router.navigate(['tuning'], {relativeTo: this.route});\n  }  \n}\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code> &lt;div class=\"row\"&gt;\n        &lt;div class=\"col-md-5\"&gt;\n          &lt;app-car-list&gt;&lt;/app-car-list&gt;\n        &lt;/div&gt;\n        &lt;div class=\"col-md-7\"&gt;\n            &lt;nav mat-tab-nav-bar&gt;\n                &lt;a mat-tab-link\n                *ngFor=\"let link of navLinks\"\n                [routerLink]=\"link.link\"\n                routerLinkActive #rla=\"routerLinkActive\"\n                [active]=\"rla.isActive\"&gt;\n               {{link.label}}\n              &lt;/a&gt;\n              &lt;/nav&gt;\n              &lt;router-outlet&gt;&lt;/router-outlet&gt;     \n        &lt;/div&gt;\n      &lt;/div&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Wx5My.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wx5My.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "typescript2.0"], "answers": [{"comments": [{"owner": {"reputation": 565, "user_id": 5690068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0niee.jpg?s=128&g=1", "display_name": "seanplwong", "link": "https://stackoverflow.com/users/5690068/seanplwong"}, "edited": false, "score": 0, "creation_date": 1568616685, "post_id": 57893017, "comment_id": 102315578, "body": "Meanwhile, a public attribute doesn&#39;t mean it is writable, you could have an readonly attribute, it is still publicly accessible but not writable, just wondering if you actually want this when I read your question again"}], "tags": [], "owner": {"reputation": 565, "user_id": 5690068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0niee.jpg?s=128&g=1", "display_name": "seanplwong", "link": "https://stackoverflow.com/users/5690068/seanplwong"}, "is_accepted": true, "score": 1, "last_activity_date": 1568217978, "creation_date": 1568217978, "answer_id": 57893017, "question_id": 57892125, "link": "https://stackoverflow.com/questions/57892125/is-there-sense-of-using-interface-to-create-class-model/57893017#57893017", "title": "Is there sense of using interface to create class model?", "body": "<p>Interface is a shared boundary for different components/entity to communicate. It is supposed to be public so that users know what they are expecting, when they are invoking a concrete class from an interface.</p>\n\n<p>Whatever private property or method they are implementation details. Just do it in the concrete class.</p>\n\n<p>For example</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Vehicle {\n  start(): void;\n}\n\nclass Car implements Vehicle {\n  private engine;\n  private wheels;\n  public start(): void {}\n}\n\nclass Jet implements Vehicle {\n  private engine;\n  private airframe;\n  public start(): void {}\n}\n</code></pre>\n\n<p>Implementation can take their freedom to define private properties but private properties are not very useful in interface.</p>\n"}], "owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 1, "accepted_answer_id": 57893017, "answer_count": 1, "score": -1, "last_activity_date": 1568217978, "creation_date": 1568214695, "question_id": 57892125, "link": "https://stackoverflow.com/questions/57892125/is-there-sense-of-using-interface-to-create-class-model", "title": "Is there sense of using interface to create class model?", "body": "<p><strong>Interface is:</strong>    </p>\n\n<pre><code>export interface IAddEditGeneralDictionary {\n      Code: string;\n      StartDate?: Date | string;\n      FinishDate?: Date | string;\n      Name: string;\n    }\n</code></pre>\n\n<p><strong>Realization is:</strong></p>\n\n<pre><code>export class AddEditGeneralDictionary implements IAddEditGeneralDictionary {\n  constructor(public Code: string,\n    public StartDate: Date | string,\n    public FinishDate: Date | string,\n    public Name: string){\n}\n</code></pre>\n\n<p>I tried to make properties as private and use <code>set/get</code>, but interface does not allow me to do that.</p>\n\n<p>Does it make sense to use interface to build model class?</p>\n"}, {"tags": ["css", "angular", "typescript", "ionic4"], "comments": [{"owner": {"reputation": 7609, "user_id": 2835541, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/RUaqD.jpg?s=128&g=1", "display_name": "Chris Pickford", "link": "https://stackoverflow.com/users/2835541/chris-pickford"}, "edited": false, "score": 2, "creation_date": 1568213778, "post_id": 57891828, "comment_id": 102205093, "body": "Did you mean to put <code>styleUrls: [&#39;car-id.page.scss&#39;]</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 7609, "user_id": 2835541, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/RUaqD.jpg?s=128&g=1", "display_name": "Chris Pickford", "link": "https://stackoverflow.com/users/2835541/chris-pickford"}, "edited": false, "score": 0, "creation_date": 1568218406, "post_id": 57892319, "comment_id": 102207616, "body": "Hi, for future reference, questions that are the result of a simple typo should be closed as off-topic rather than answered as they are likely to be counter productive for someone searching for a similar issue."}, {"owner": {"reputation": 41, "user_id": 11258994, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hspJnx_zfBA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reX2M5VP0VOzqHXSaeuMZuPGKVZtQ/mo/photo.jpg?sz=128", "display_name": "Dan Cehan", "link": "https://stackoverflow.com/users/11258994/dan-cehan"}, "edited": false, "score": 0, "creation_date": 1568268783, "post_id": 57892319, "comment_id": 102221909, "body": "ty. I am so noob:))"}], "tags": [], "owner": {"reputation": 322, "user_id": 11950927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HKKAj.jpg?s=128&g=1", "display_name": "nimpossible", "link": "https://stackoverflow.com/users/11950927/nimpossible"}, "is_accepted": false, "score": 1, "last_activity_date": 1568215416, "creation_date": 1568215416, "answer_id": 57892319, "question_id": 57891828, "link": "https://stackoverflow.com/questions/57891828/cant-resolve-file-scss-in-pages/57892319#57892319", "title": "Can&#39;t resolve &#39;.file.scss&#39; in &#39;../pages&#39;", "body": "<p>Hope you are doing great!!!</p>\n\n<p>Since you have not put the entire folder structure but, I guess it is not able to find the files from the current directory.</p>\n\n<p>Try using <code>./</code> as below (if it is in the same current folder): -</p>\n\n<pre><code>templateUrl: './card-id.page.html',\nstyleUrls: ['./card-id.page.scss']\n</code></pre>\n\n<p>Also, please check whether the below is a typo or a deliberate change by you: -</p>\n\n<pre><code>selector: 'car-id', // is the same name used in the parent component?\ntemplateUrl: 'car-id.page.html', // did you mean card here?\nstyleUrls: ['card-id.page.scss'] // did u mean car here?\n</code></pre>\n\n<p>Hope I was able to solve your problem! Happy Coding!! Cheers!!!</p>\n"}], "owner": {"reputation": 41, "user_id": 11258994, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hspJnx_zfBA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reX2M5VP0VOzqHXSaeuMZuPGKVZtQ/mo/photo.jpg?sz=128", "display_name": "Dan Cehan", "link": "https://stackoverflow.com/users/11258994/dan-cehan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568215416, "creation_date": 1568213702, "question_id": 57891828, "link": "https://stackoverflow.com/questions/57891828/cant-resolve-file-scss-in-pages", "title": "Can&#39;t resolve &#39;.file.scss&#39; in &#39;../pages&#39;", "body": "<p>I have an Ionic 3 app and I decide to migrate to version 4. Some pages doesn't recognize the scss file from the typescript component.</p>\n\n<pre><code>@Component({\n  selector: 'car-id',\n  templateUrl: 'car-id.page.html',\n  styleUrls: ['card-id.page.scss']\n})\n</code></pre>\n\n<p>The main aspect is that some pages work without problems.</p>\n\n<p>This is the error </p>\n\n<pre><code>[ng]\n[ng] ERROR in ./src/app/pages/car-id/car-id.page.ts\n[ng] Module not found: Error: Can't resolve './card-id.page.scss' in '..\\src\\app\\pages\\car-id'\n</code></pre>\n\n<p>How can I fix this? Ty</p>\n"}, {"tags": ["angular", "typescript", "angular-dynamic-components"], "comments": [{"owner": {"reputation": 7733, "user_id": 6335049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEatl.jpg?s=128&g=1", "display_name": "Narm", "link": "https://stackoverflow.com/users/6335049/narm"}, "edited": false, "score": 0, "creation_date": 1568214537, "post_id": 57891824, "comment_id": 102205537, "body": "So you want the value of the <code>message</code> property to update in the dynamic component every time it changes <b>or</b> do you want multiple dynamic components generated with different &quot;messages&quot;?"}, {"owner": {"reputation": 13, "user_id": 9282359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9877f133bab9bc26ff98b58db0ca642?s=128&d=identicon&r=PG&f=1", "display_name": "Sumit Sharma", "link": "https://stackoverflow.com/users/9282359/sumit-sharma"}, "reply_to_user": {"reputation": 7733, "user_id": 6335049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEatl.jpg?s=128&g=1", "display_name": "Narm", "link": "https://stackoverflow.com/users/6335049/narm"}, "edited": false, "score": 0, "creation_date": 1568375175, "post_id": 57891824, "comment_id": 102263733, "body": "i want multiple dynamic components generated with different &quot;messages &quot; and we can update the values of messages  on any click event"}], "answers": [{"comments": [{"owner": {"reputation": 492, "user_id": 2163699, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2d0a81401a31cbfc61175fdb7621f561?s=128&d=identicon&r=PG", "display_name": "Jaydeep", "link": "https://stackoverflow.com/users/2163699/jaydeep"}, "edited": false, "score": 0, "creation_date": 1580782935, "post_id": 57897039, "comment_id": 106202515, "body": "I tried to use <code>comp.changeDetectorRef.detectChanges();</code> but it stops the loop and so other components dont get created"}], "tags": [], "owner": {"reputation": 8121, "user_id": 9632621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yDxuO.jpg?s=128&g=1", "display_name": "Andrei G\u0103tej", "link": "https://stackoverflow.com/users/9632621/andrei-g%c4%83tej"}, "is_accepted": true, "score": 0, "last_activity_date": 1568237282, "creation_date": 1568237282, "answer_id": 57897039, "question_id": 57891824, "link": "https://stackoverflow.com/questions/57891824/load-dynamic-component-multiple-times-with-different-data/57897039#57897039", "title": "Load dynamic component multiple times with different data", "body": "<p>Here is my approach:</p>\n\n<ul>\n<li>in your template, create a container for all the messages</li>\n</ul>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ng-container #messageContainer&gt;&lt;/ng-container&gt;\n</code></pre>\n\n<ul>\n<li>add a function that will allow us to create a component and insert it into the view</li>\n</ul>\n\n<pre class=\"lang-js prettyprint-override\"><code>private createComponent (compClass) {\n   const compFactory = this.cfr.resolveComponentFactory(compClass);\n\n   return this.messageContainer.createComponent(compFactory);;\n }\n</code></pre>\n\n<ul>\n<li>load the component multiple times, depending on the incoming data; we will also keep track of the components which have been loaded in order to be able to destroy them when <strong>we need to load another dynamic component</strong>.</li>\n</ul>\n\n<pre class=\"lang-js prettyprint-override\"><code> private loadNewComponentList () {\n   this.messages.forEach((msg, idx) =&gt; {\n     this.destroyCompFromList(this.componentList[idx]);\n\n     const comp = this.createComponent(componentMap[this._crtComp]);\n\n     (comp.instance as any).message = msg;\n\n     comp.changeDetectorRef.detectChanges();\n\n     this.componentList[idx] = comp;\n   });\n }\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/dynamic-comp-with-diff-data?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\">Here is a StackBlitz demo</a>.</p>\n"}], "owner": {"reputation": 13, "user_id": 9282359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9877f133bab9bc26ff98b58db0ca642?s=128&d=identicon&r=PG&f=1", "display_name": "Sumit Sharma", "link": "https://stackoverflow.com/users/9282359/sumit-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1661, "favorite_count": 0, "accepted_answer_id": 57897039, "answer_count": 1, "score": 1, "last_activity_date": 1568237282, "creation_date": 1568213682, "last_edit_date": 1568214343, "question_id": 57891824, "link": "https://stackoverflow.com/questions/57891824/load-dynamic-component-multiple-times-with-different-data", "title": "Load dynamic component multiple times with different data", "body": "<p>I need to load a dynamic component multiple times and pass data dynamically based on some value so that it will load with runTime data. </p>\n\n<p>I have tried below example\n <a href=\"https://dzone.com/articles/how-to-dynamically-create-a-component-in-angular\" rel=\"nofollow noreferrer\">https://dzone.com/articles/how-to-dynamically-create-a-component-in-angular</a></p>\n\n<p>as per example we have one messageComponent that have \"message\" property and \nin hostComponent we are adding one template in html file like</p>\n\n<pre><code>&lt;div style=\"text-align:center\"&gt;\n     &lt;h1&gt;\n         Welcome to {{ title }}!\n     &lt;/h1&gt;\n     &lt;template #messagecontainer&gt;\n     &lt;/template&gt;\n &lt;/div&gt;\n</code></pre>\n\n<p>so here in the place of template tag our messageComponent will replace.</p>\n\n<p>I need something like we can iterate this template multiple times and pass \ndifferent value of \"message\" dynamically in messageComponent.</p>\n"}, {"tags": ["typescript", "ionic-framework", "ionic3"], "comments": [{"owner": {"reputation": 823, "user_id": 6699414, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7e32082597c5678a976d298d91eba29e?s=128&d=identicon&r=PG&f=1", "display_name": "PhoenixBlue", "link": "https://stackoverflow.com/users/6699414/phoenixblue"}, "edited": false, "score": 0, "creation_date": 1568213826, "post_id": 57891793, "comment_id": 102205117, "body": "@NicholasTower Yes, I did, in the constructor of the <code>infoPage</code> class"}, {"owner": {"reputation": 823, "user_id": 6699414, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7e32082597c5678a976d298d91eba29e?s=128&d=identicon&r=PG&f=1", "display_name": "PhoenixBlue", "link": "https://stackoverflow.com/users/6699414/phoenixblue"}, "reply_to_user": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "edited": false, "score": 0, "creation_date": 1568214187, "post_id": 57891793, "comment_id": 102205336, "body": "@NicholasTower I edited the code"}, {"owner": {"reputation": 7609, "user_id": 2835541, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/RUaqD.jpg?s=128&g=1", "display_name": "Chris Pickford", "link": "https://stackoverflow.com/users/2835541/chris-pickford"}, "edited": false, "score": 0, "creation_date": 1568214263, "post_id": 57891793, "comment_id": 102205374, "body": "I don&#39;t see anywhere that you call <code>_this.item.reset()</code>."}, {"owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "edited": false, "score": 0, "creation_date": 1568214325, "post_id": 57891793, "comment_id": 102205408, "body": "I&#39;ve deleted my comments and my answer, since the new code is quite a bit different from the old. It also has mismatches in variable names, so it must only be an approximation of what&#39;s going on."}, {"owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "edited": false, "score": 0, "creation_date": 1568217395, "post_id": 57891793, "comment_id": 102207088, "body": "this.items = new SessionKotiz(); _this.item.reset is not a function... somaybe you are missing &quot;s&quot; when calling _this.item.reset"}], "answers": [{"tags": [], "owner": {"reputation": 38, "user_id": 9300340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/131dd685a3d0469b71ad2c1609acc8eb?s=128&d=identicon&r=PG&f=1", "display_name": "Avishai Peretz", "link": "https://stackoverflow.com/users/9300340/avishai-peretz"}, "is_accepted": false, "score": 0, "last_activity_date": 1568285760, "creation_date": 1568285760, "answer_id": 57905206, "question_id": 57891793, "link": "https://stackoverflow.com/questions/57891793/call-a-classs-public-method-error-is-not-a-function/57905206#57905206", "title": "call a class&#39;s public method (error: is not a function)", "body": "<p>Try this.</p>\n\n<pre><code>export class SessionKotiz{\n    designation : string;\n    total_in : number;\n    total_out: number;\n\n    constructor(){\n        this.total_in = 0;\n        this.total_out = 0;\n    }\n\n    reset(){\n        this.total_in = 0;\n        this.total_out = 0;\n    }\n}\n\nresetSession(){\n  let self = this;//magic\n  let alert = this.alertCtrl.create({\n    title: 'Confirm reset',\n    message: 'Do you want reset current session?',\n    buttons: [\n      {\n        text: 'Cancel',\n        role: 'cancel',\n        handler: () =&gt; {\n          console.log('Cancel clicked');\n        }\n      },\n      {\n        text: 'reset',\n        handler: () =&gt; {\n          console.log('reset clicked');\n          // Reset report\n          self.items.reset();//magic\n        }\n      }\n    ]\n  });\n\n  alert.present();\n}\n</code></pre>\n"}], "owner": {"reputation": 823, "user_id": 6699414, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7e32082597c5678a976d298d91eba29e?s=128&d=identicon&r=PG&f=1", "display_name": "PhoenixBlue", "link": "https://stackoverflow.com/users/6699414/phoenixblue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568285760, "creation_date": 1568213557, "last_edit_date": 1568264641, "question_id": 57891793, "link": "https://stackoverflow.com/questions/57891793/call-a-classs-public-method-error-is-not-a-function", "title": "call a class&#39;s public method (error: is not a function)", "body": "<p>I have a class <code>sessionKotiz</code> created in file <code>session.ts</code>, as follows:</p>\n\n<pre><code>export class SessionKotiz{\n    designation : string;\n    total_in : number;\n    total_out: number;\n\n    constructor(){\n        total_in = 0;\n        total_out = 0;\n    }\n\n    reset(){\n        total_in = 0;\n        total_out = 0;\n    }\n}\n</code></pre>\n\n<p>Now, in another file (a page actually), I have a member that is of type <code>SessionKotiz</code></p>\n\n<pre><code>  export class InfoSessionPage {\n  title     : any;\n  items     : SessionKotiz = new SessionKotiz();\n\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n              public events:Events,          public store: StoreAPI,\n              private alertCtrl: AlertController) {\n\n    this.items = new SessionKotiz();\n  }\n\n  resetSession(){\n  let alert = this.alertCtrl.create({\n    title: 'Confirm reset',\n    message: 'Do you want reset current session?',\n    buttons: [\n      {\n        text: 'Cancel',\n        role: 'cancel',\n        handler: () =&gt; {\n          console.log('Cancel clicked');\n        }\n      },\n      {\n        text: 'reset',\n        handler: () =&gt; {\n          console.log('reset clicked');\n          // Reset report\n          this.items.reset();\n        }\n      }\n    ]\n  });\n  alert.present();\n}\n</code></pre>\n\n<p>At some point of the code, I want to call method <code>reset()</code> of the <code>SessionKotiz</code> class, but the error says</p>\n\n<pre><code>_this.items.reset is not a function\n</code></pre>\n\n<p>How do I fix this? how to call methods in typescript?</p>\n"}, {"tags": ["javascript", "node.js", "typescript"], "comments": [{"owner": {"reputation": 6413, "user_id": 5555803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4823cf23548ba1e4634ad67e78468e67?s=128&d=identicon&r=PG&f=1", "display_name": "Orkhan Alikhanov", "link": "https://stackoverflow.com/users/5555803/orkhan-alikhanov"}, "edited": false, "score": 0, "creation_date": 1568213663, "post_id": 57891791, "comment_id": 102205025, "body": "<code>ICommand | never</code>"}, {"owner": {"reputation": 2871, "user_id": 9945420, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ft9JQ3kHBNY/AAAAAAAAAAI/AAAAAAAAAAA/vl44CYj2cng/photo.jpg?sz=128", "display_name": "hrp8sfH4xQ4", "link": "https://stackoverflow.com/users/9945420/hrp8sfh4xq4"}, "reply_to_user": {"reputation": 6413, "user_id": 5555803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4823cf23548ba1e4634ad67e78468e67?s=128&d=identicon&r=PG&f=1", "display_name": "Orkhan Alikhanov", "link": "https://stackoverflow.com/users/5555803/orkhan-alikhanov"}, "edited": false, "score": 0, "creation_date": 1568213850, "post_id": 57891791, "comment_id": 102205136, "body": "sorry, this doesn&#39;t work. I still get the error"}], "answers": [{"tags": [], "owner": {"reputation": 2034, "user_id": 515035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37ab5c5402023c0de6e27b37fce61dbe?s=128&d=identicon&r=PG", "display_name": "Dmitriy", "link": "https://stackoverflow.com/users/515035/dmitriy"}, "is_accepted": false, "score": 0, "last_activity_date": 1568214349, "creation_date": 1568214349, "answer_id": 57892033, "question_id": 57891791, "link": "https://stackoverflow.com/questions/57891791/what-to-return-when-terminating-the-process-with-process-exit1/57892033#57892033", "title": "what to return when terminating the process with process.exit(1);", "body": "<p>You can use a type cast:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>private getCommandByName = (name: string): ICommand =&gt; {\n    try {\n        // try to fetch a value from a map\n        return &lt;ICommand&gt; this.commands.get(name);\n    } catch (error) {\n        console.log('Unknown command.');\n        process.exit(1);\n        return null as unknown as ICommand;\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2871, "user_id": 9945420, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ft9JQ3kHBNY/AAAAAAAAAAI/AAAAAAAAAAA/vl44CYj2cng/photo.jpg?sz=128", "display_name": "hrp8sfH4xQ4", "link": "https://stackoverflow.com/users/9945420/hrp8sfh4xq4"}, "edited": false, "score": 0, "creation_date": 1568215279, "post_id": 57892143, "comment_id": 102205936, "body": "sorry, didn&#39;t know I had to use a return for that :)"}], "tags": [], "owner": {"reputation": 6413, "user_id": 5555803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4823cf23548ba1e4634ad67e78468e67?s=128&d=identicon&r=PG&f=1", "display_name": "Orkhan Alikhanov", "link": "https://stackoverflow.com/users/5555803/orkhan-alikhanov"}, "is_accepted": true, "score": 5, "last_activity_date": 1568214760, "creation_date": 1568214760, "answer_id": 57892143, "question_id": 57891791, "link": "https://stackoverflow.com/questions/57891791/what-to-return-when-terminating-the-process-with-process-exit1/57892143#57892143", "title": "what to return when terminating the process with process.exit(1);", "body": "<p>Just do:</p>\n\n<pre><code>return process.exit(1);\n</code></pre>\n\n<p>Since <code>exit</code> method returns <code>never</code> type compiler will not complain.</p>\n\n<p><a href=\"https://basarat.gitbooks.io/typescript/docs/types/never.html\" rel=\"noreferrer\">Learn more</a> about <code>never</code> type</p>\n"}], "owner": {"reputation": 2871, "user_id": 9945420, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ft9JQ3kHBNY/AAAAAAAAAAI/AAAAAAAAAAA/vl44CYj2cng/photo.jpg?sz=128", "display_name": "hrp8sfH4xQ4", "link": "https://stackoverflow.com/users/9945420/hrp8sfh4xq4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 357, "favorite_count": 0, "accepted_answer_id": 57892143, "answer_count": 2, "score": 2, "last_activity_date": 1568214760, "creation_date": 1568213553, "question_id": 57891791, "link": "https://stackoverflow.com/questions/57891791/what-to-return-when-terminating-the-process-with-process-exit1", "title": "what to return when terminating the process with process.exit(1);", "body": "<p>I would like to replace my <code>throw new Error('Unknown command.')</code> with a log statement and <code>process.exit(1);</code>. Given this example code</p>\n\n<pre><code>private getCommandByName = (name: string): ICommand =&gt; {\n    try {\n        // try to fetch a value from a map\n        return &lt;ICommand&gt; this.commands.get(name);\n    } catch (error) {\n        console.log('Unknown command.');\n        process.exit(1);\n    }\n}\n</code></pre>\n\n<p>I get this error</p>\n\n<blockquote>\n  <p>Function lacks ending return statement and return type does not\n  include 'undefined'.</p>\n</blockquote>\n\n<p>To fix it I would have to throw an exception. What do I have to return when I want to terminate the process?</p>\n"}, {"tags": ["node.js", "typescript", "npm", "npm-install"], "answers": [{"tags": [], "owner": {"reputation": 725, "user_id": 6471494, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-SXQm_pFE0xo/AAAAAAAAAAI/AAAAAAAAB1k/-FJy_c6A6v4/photo.jpg?sz=128", "display_name": "Marc Frame", "link": "https://stackoverflow.com/users/6471494/marc-frame"}, "is_accepted": true, "score": 0, "last_activity_date": 1568220264, "creation_date": 1568220264, "answer_id": 57893559, "question_id": 57891746, "link": "https://stackoverflow.com/questions/57891746/npm-install-of-a-local-package-has-missing-files/57893559#57893559", "title": "npm install of a local package has missing files", "body": "<p>I needed to have added a </p>\n\n<pre><code>\"files\": [\n    \"lib\"\n]\n</code></pre>\n\n<p>to the package.json</p>\n"}], "owner": {"reputation": 725, "user_id": 6471494, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-SXQm_pFE0xo/AAAAAAAAAAI/AAAAAAAAB1k/-FJy_c6A6v4/photo.jpg?sz=128", "display_name": "Marc Frame", "link": "https://stackoverflow.com/users/6471494/marc-frame"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 57893559, "answer_count": 1, "score": 0, "last_activity_date": 1568220264, "creation_date": 1568213394, "last_edit_date": 1568219820, "question_id": 57891746, "link": "https://stackoverflow.com/questions/57891746/npm-install-of-a-local-package-has-missing-files", "title": "npm install of a local package has missing files", "body": "<p>I have a project with this format</p>\n\n<pre><code>\u251c\u2500\u2500 functions/\n\u2502   \u251c\u2500\u2500 src\n\u2502   \u251c\u2500\u2500 lib\n\u2502   \u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 shared/\n\u2502   \u251c\u2500\u2500 src\n\u2502   |   \u251c\u2500\u2500 index.ts\n|   |   \u251c\u2500\u2500 interfaces.ts\n|   |   \u2514\u2500\u2500 validator_classes.ts\n\u2502   \u251c\u2500\u2500 lib\n\u2502   |   \u251c\u2500\u2500 index.js\n|   |   \u251c\u2500\u2500 interfaces.js\n|   |   \u2514\u2500\u2500 validator_classes.js\n\u2502   \u2514\u2500\u2500 package.json\n\u2514\u2500\u2500 frontend/\n    . . .\n</code></pre>\n\n<p>shared has interfaces and classes shared between the frontend and the functions.</p>\n\n<p>I do <code>npm build</code> in functions and then <code>npm install shared</code> in functions or frontend the <code>node_modules/shared</code> section looks like this</p>\n\n<pre><code>\u2514\u2500\u2500 shared/\n    \u251c\u2500\u2500 src\n    |   \u251c\u2500\u2500 index.ts\n    |   \u251c\u2500\u2500 interfaces.ts\n    |   \u2514\u2500\u2500 validator_classes.ts\n    \u2514\u2500\u2500 lib\n        \u2514\u2500\u2500 index.js\n\n</code></pre>\n\n<p>and is missing the <code>interfaces.js</code> and <code>validator_classes.js</code> files from the <code>lib</code>. the <code>src</code> is the same</p>\n\n<p>here is the package.json of shared</p>\n\n<pre><code>{\n  \"name\": \"shared\",\n  \"version\": \"1.0.2\",\n  \"description\": \"\",\n  \"main\": \"lib/index.js\",\n  \"types\": \"lib/index.d.ts\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\",\n    \"build\": \"tsc -d\"\n  },\n  \"keywords\": [],\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"class-validator\": \"^0.10.0\"\n  },\n  \"devDependencies\": {}\n}\n</code></pre>\n\n<p>and here is the ts config of shared</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"module\": \"commonjs\",\n    \"noImplicitReturns\": true,\n    \"noUnusedLocals\": true,\n    \"rootDir\": \"src/\",\n    \"outDir\": \"lib/\",\n    \"sourceMap\": false,\n    \"strict\": true,\n    \"target\": \"es2017\",\n    \"experimentalDecorators\": true,\n    \"strictPropertyInitialization\": false\n  },\n  \"compileOnSave\": true,\n  \"include\": [\n    \"src\"\n  ],\n  \"files\": [\n    \"src/index.ts\",\n    \"src/formatter_interfaces.ts\",\n    \"src/validator_classes.ts\",\n  ],\n  \"exclude\": [\n    \"src/__tests__\"\n  ]\n}\n</code></pre>\n\n<h1>EDIT:</h1>\n\n<p>I tested it by changing the main property of the package.json in shared to <code>/lib/validator_classes.js</code> and now it only installs that file.</p>\n"}, {"tags": ["angular", "typescript", "angular-cli"], "comments": [{"owner": {"reputation": 7733, "user_id": 6335049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEatl.jpg?s=128&g=1", "display_name": "Narm", "link": "https://stackoverflow.com/users/6335049/narm"}, "edited": false, "score": 1, "creation_date": 1568213118, "post_id": 57891605, "comment_id": 102204726, "body": "The comments reported on <a href=\"https://github.com/angular/angular-cli/issues/13172\" rel=\"nofollow noreferrer\">this issue</a> may help you."}, {"owner": {"reputation": 773, "user_id": 9840426, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xn2I3.png?s=128&g=1", "display_name": "Yakir Tsuberi", "link": "https://stackoverflow.com/users/9840426/yakir-tsuberi"}, "reply_to_user": {"reputation": 7733, "user_id": 6335049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEatl.jpg?s=128&g=1", "display_name": "Narm", "link": "https://stackoverflow.com/users/6335049/narm"}, "edited": false, "score": 0, "creation_date": 1568213614, "post_id": 57891605, "comment_id": 102205000, "body": "@Narm I saw this page but it doesn&#39;t help, tnx."}, {"owner": {"reputation": 624, "user_id": 1885401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fi4X2.jpg?s=128&g=1", "display_name": "Diego Bascans", "link": "https://stackoverflow.com/users/1885401/diego-bascans"}, "edited": false, "score": 0, "creation_date": 1568214533, "post_id": 57891605, "comment_id": 102205534, "body": "Add some code snippet to know where is the kind property that is trying to access, It would be very helpful to give us a anwser to you."}, {"owner": {"reputation": 773, "user_id": 9840426, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xn2I3.png?s=128&g=1", "display_name": "Yakir Tsuberi", "link": "https://stackoverflow.com/users/9840426/yakir-tsuberi"}, "reply_to_user": {"reputation": 624, "user_id": 1885401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fi4X2.jpg?s=128&g=1", "display_name": "Diego Bascans", "link": "https://stackoverflow.com/users/1885401/diego-bascans"}, "edited": false, "score": 0, "creation_date": 1568215465, "post_id": 57891605, "comment_id": 102206046, "body": "@DiegoBascans I added full error."}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 1, "creation_date": 1570030747, "post_id": 57891605, "comment_id": 102787866, "body": "@YakirTsuberi I was informed by the Angular team that TypeScript 3.6.4 will be released ASAP to fix this issue."}], "answers": [{"comments": [{"owner": {"reputation": 2886, "user_id": 821920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c45a01c04479939d009fbe05e65b982?s=128&d=identicon&r=PG", "display_name": "Tim Holt", "link": "https://stackoverflow.com/users/821920/tim-holt"}, "edited": false, "score": 2, "creation_date": 1571174582, "post_id": 58188588, "comment_id": 103150596, "body": "I have encountered the same bug as the question, and upon doing an upgrade to TypeScript 3.7, I&#39;m unable to build my angular project.  The error is, &quot;ERROR in The Angular Compiler requires TypeScript &gt;=3.4.0 and &lt;3.6.0 but 3.7.0-beta was found instead.&quot;"}, {"owner": {"reputation": 2886, "user_id": 821920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c45a01c04479939d009fbe05e65b982?s=128&d=identicon&r=PG", "display_name": "Tim Holt", "link": "https://stackoverflow.com/users/821920/tim-holt"}, "edited": false, "score": 0, "creation_date": 1571176559, "post_id": 58188588, "comment_id": 103151207, "body": "Thanks @LppEdd.  This does let me run my project build, however I&#39;m still getting a &quot;TypeError: Cannot read property &#39;kind&#39; of undefined&quot; message when building an angular component.  Similar problem to the original question, where &quot;ng build&quot; works fine, but  &quot;ng build --prod&quot; throws this error."}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "reply_to_user": {"reputation": 2886, "user_id": 821920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c45a01c04479939d009fbe05e65b982?s=128&d=identicon&r=PG", "display_name": "Tim Holt", "link": "https://stackoverflow.com/users/821920/tim-holt"}, "edited": false, "score": 0, "creation_date": 1571176699, "post_id": 58188588, "comment_id": 103151256, "body": "@TimHolt that&#39;s strange. Imho I&#39;d delete the node_modules folder, empty the package-lock, and then &quot;npm install&quot;. Remember to close the terminal session too. The specific fix commit should have landed in beta too."}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "reply_to_user": {"reputation": 2886, "user_id": 821920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c45a01c04479939d009fbe05e65b982?s=128&d=identicon&r=PG", "display_name": "Tim Holt", "link": "https://stackoverflow.com/users/821920/tim-holt"}, "edited": false, "score": 0, "creation_date": 1571176803, "post_id": 58188588, "comment_id": 103151282, "body": "@TimHolt could you also link a pastebin with the full ERROR trace after?"}, {"owner": {"reputation": 2886, "user_id": 821920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c45a01c04479939d009fbe05e65b982?s=128&d=identicon&r=PG", "display_name": "Tim Holt", "link": "https://stackoverflow.com/users/821920/tim-holt"}, "edited": false, "score": 0, "creation_date": 1571178100, "post_id": 58188588, "comment_id": 103151635, "body": "see <a href=\"https://pastebin.com/RxNUL4US\" rel=\"nofollow noreferrer\">pastebin.com/RxNUL4US</a>     This is after removing node_modules and re installing as you suggested.   The code mentioned (draggable-scroll.component.js) is from a module I&#39;d recently added to the project."}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "reply_to_user": {"reputation": 2886, "user_id": 821920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c45a01c04479939d009fbe05e65b982?s=128&d=identicon&r=PG", "display_name": "Tim Holt", "link": "https://stackoverflow.com/users/821920/tim-holt"}, "edited": false, "score": 1, "creation_date": 1571178606, "post_id": 58188588, "comment_id": 103151778, "body": "@TimHolt could you <b>fix</b> the angular-devkit version to &quot;0.803.8&quot; (yours seems outdated) and angular/cli at &quot;8.3.8&quot;?"}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "reply_to_user": {"reputation": 2886, "user_id": 821920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c45a01c04479939d009fbe05e65b982?s=128&d=identicon&r=PG", "display_name": "Tim Holt", "link": "https://stackoverflow.com/users/821920/tim-holt"}, "edited": false, "score": 1, "creation_date": 1571178761, "post_id": 58188588, "comment_id": 103151833, "body": "@TimHolt also angular-devkit/core to &quot;8.3.8&quot;. You seems to have some dependencies to align to CLI version 8.3.8. Do not even try to go on CLI 8.3.9, it doesn&#39;t work correctly as of now with TS dev."}, {"owner": {"reputation": 2886, "user_id": 821920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c45a01c04479939d009fbe05e65b982?s=128&d=identicon&r=PG", "display_name": "Tim Holt", "link": "https://stackoverflow.com/users/821920/tim-holt"}, "edited": false, "score": 0, "creation_date": 1571179315, "post_id": 58188588, "comment_id": 103151939, "body": "Ah yes those versions are a bit messed up.  I put them all to 8.3.9 and success!"}, {"owner": {"reputation": 2886, "user_id": 821920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c45a01c04479939d009fbe05e65b982?s=128&d=identicon&r=PG", "display_name": "Tim Holt", "link": "https://stackoverflow.com/users/821920/tim-holt"}, "reply_to_user": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1571179359, "post_id": 58188588, "comment_id": 103151947, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/200925/discussion-between-tim-holt-and-lppedd\">continue this discussion in chat</a>."}, {"owner": {"reputation": 21112, "user_id": 26286, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5f28ab052c1a7d0bb5476a190272449e?s=128&d=identicon&r=PG", "display_name": "Coderer", "link": "https://stackoverflow.com/users/26286/coderer"}, "edited": false, "score": 1, "creation_date": 1571297830, "post_id": 58188588, "comment_id": 103195781, "body": "You&#39;re a friggin&#39; life-saver.  Thanks!"}], "tags": [], "owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "is_accepted": true, "score": 12, "last_activity_date": 1571218070, "last_edit_date": 1571218070, "creation_date": 1569945697, "answer_id": 58188588, "question_id": 57891605, "link": "https://stackoverflow.com/questions/57891605/angular-cli-build-prod-typeerror-cannot-read-property-kind-of-undefined/58188588#58188588", "title": "Angular cli build prod: TypeError: Cannot read property &#39;kind&#39; of undefined", "body": "<p>Keep in mind now <strong>TypeScript 3.6.4 is out.</strong> Still, it's ok to read below what wasn't really working.</p>\n\n<p>TypeScript <code>&lt;= 3.6.3</code> presents this issue, <a href=\"https://github.com/microsoft/TypeScript/pull/33472\" rel=\"noreferrer\">Handle parentless nodes in isParameterPropertyDeclaration</a>.</p>\n\n<p>If you install <code>3.7</code> (<code>dev</code> or the new <code>beta</code>), it will compile fine.</p>\n\n<hr>\n\n<p>Note: if you receive an <code>ERROR</code> on building, regarding the TS version, just disable it via <code>tsconfig</code>.<br>\nFor that use <code>disableTypeScriptVersionCheck</code></p>\n\n<pre><code>\"angularCompilerOptions\": {\n  \"disableTypeScriptVersionCheck\": true\n},\n\"compilerOptions\": {\n ...\n</code></pre>\n\n<p>Follow the comment's chat if any other problem emerges.</p>\n"}, {"comments": [{"owner": {"reputation": 155, "user_id": 4142377, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-93kmWnEzBOg/AAAAAAAAAAI/AAAAAAAAACA/WV0-efC2pkk/photo.jpg?sz=128", "display_name": "Dener Rocha", "link": "https://stackoverflow.com/users/4142377/dener-rocha"}, "edited": false, "score": 0, "creation_date": 1597280077, "post_id": 60887613, "comment_id": 112083829, "body": "compilerOptions.emitDecoratorMetadata to true resolved my issue."}], "tags": [], "owner": {"reputation": 2527, "user_id": 1147777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IO73o.jpg?s=128&g=1", "display_name": "Tiago Peres Fran&#231;a", "link": "https://stackoverflow.com/users/1147777/tiago-peres-fran%c3%a7a"}, "is_accepted": false, "score": 2, "last_activity_date": 1585317844, "creation_date": 1585317844, "answer_id": 60887613, "question_id": 57891605, "link": "https://stackoverflow.com/questions/57891605/angular-cli-build-prod-typeerror-cannot-read-property-kind-of-undefined/60887613#60887613", "title": "Angular cli build prod: TypeError: Cannot read property &#39;kind&#39; of undefined", "body": "<p>Although the question specifically states <code>isParameterPropertyDeclaration</code> as the source of the error, this question is the only one linked by Google when searching for the following very similar error:</p>\n\n<pre><code>ERROR in ./node_modules/some_library/...\nModule build failed (from ./node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js):\nTypeError: Cannot read property 'kind' of undefined\n</code></pre>\n\n<p>Since I couldn't find any good answer for the error above, I'm posting it here for reference.</p>\n\n<p>If you're using a library affected by this error, you should upgrade your <code>@angular/cli</code> version to 8 or disable optimization in production mode (to disable optimization, change <code>projects.your_project_name.architect.build.configurations.production.optimization</code> from <code>true</code> to <code>false</code>).</p>\n\n<p>If you're a library owner trying to fully support versions 6 and 7 of Angular, in the <code>tsconfig.json</code> of your library, set <code>compilerOptions.emitDecoratorMetadata</code> to <code>true</code> and recompile. Since now you're exporting all metadata from the decorators, Angular will do <code>.kind</code> of the exported metadata, fixing the problem where it was <code>undefined</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 36829, "user_id": 3497671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f83baf1bb818fad4fb1559ac2bf0304d?s=128&d=identicon&r=PG", "display_name": "Francesco Borzi", "link": "https://stackoverflow.com/users/3497671/francesco-borzi"}, "is_accepted": false, "score": 0, "last_activity_date": 1586086581, "creation_date": 1586086581, "answer_id": 61041936, "question_id": 57891605, "link": "https://stackoverflow.com/questions/57891605/angular-cli-build-prod-typeerror-cannot-read-property-kind-of-undefined/61041936#61041936", "title": "Angular cli build prod: TypeError: Cannot read property &#39;kind&#39; of undefined", "body": "<p>I got the same issue and solved it by updating my <code>typescript</code> dependency to the latest stable version.</p>\n\n<p>In my case, I had version <code>3.7</code> and I fixed the issue by upgrading to <code>3.8</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 394, "user_id": 8890476, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-czJLzKJIWXQ/AAAAAAAAAAI/AAAAAAAAB_g/gWFY--6J0Z4/photo.jpg?sz=128", "display_name": "Aathil Ahamed", "link": "https://stackoverflow.com/users/8890476/aathil-ahamed"}, "is_accepted": false, "score": 2, "last_activity_date": 1595423301, "creation_date": 1595423301, "answer_id": 63034961, "question_id": 57891605, "link": "https://stackoverflow.com/questions/57891605/angular-cli-build-prod-typeerror-cannot-read-property-kind-of-undefined/63034961#63034961", "title": "Angular cli build prod: TypeError: Cannot read property &#39;kind&#39; of undefined", "body": "<p>This problem occurs by so many cases, one of the major reasons is installed version of @angular/cli is different to globally installed version of @angular/cli Make sure that both are same version. In other cases you have to update the devkit.</p>\n<p>Please have a look on these threads, you will get an idea:</p>\n<ol>\n<li><a href=\"https://github.com/angular/angular-cli/issues/13172\" rel=\"nofollow noreferrer\">https://github.com/angular/angular-cli/issues/13172</a></li>\n<li><a href=\"https://github.com/angular/angular-cli/issues/13861\" rel=\"nofollow noreferrer\">https://github.com/angular/angular-cli/issues/13861</a></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 138, "user_id": 1205967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a41dd7a84097889837b36ade26a417a?s=128&d=identicon&r=PG", "display_name": "Joel Roberts", "link": "https://stackoverflow.com/users/1205967/joel-roberts"}, "is_accepted": false, "score": 1, "last_activity_date": 1606856813, "creation_date": 1606856813, "answer_id": 65098528, "question_id": 57891605, "link": "https://stackoverflow.com/questions/57891605/angular-cli-build-prod-typeerror-cannot-read-property-kind-of-undefined/65098528#65098528", "title": "Angular cli build prod: TypeError: Cannot read property &#39;kind&#39; of undefined", "body": "<p>I ran in to this when I was using ng-recaptcha v6.0.2 with angular v6.2.2</p>\n<p>For me, the fix was to set buildOptimizer to false in angular.json</p>\n<pre><code>&quot;configurations&quot;: {\n    &quot;development&quot;: {\n        &quot;buildOptimizer&quot;: false\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 773, "user_id": 9840426, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xn2I3.png?s=128&g=1", "display_name": "Yakir Tsuberi", "link": "https://stackoverflow.com/users/9840426/yakir-tsuberi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13715, "favorite_count": 2, "accepted_answer_id": 58188588, "answer_count": 5, "score": 15, "last_activity_date": 1606856813, "creation_date": 1568212893, "last_edit_date": 1568215432, "question_id": 57891605, "link": "https://stackoverflow.com/questions/57891605/angular-cli-build-prod-typeerror-cannot-read-property-kind-of-undefined", "title": "Angular cli build prod: TypeError: Cannot read property &#39;kind&#39; of undefined", "body": "<p>I try to build project with Angular CLI <code>ng build --prod</code> and I get this error:</p>\n\n<blockquote>\n  <p>ERROR in TypeError: Cannot read property 'kind' of undefined</p>\n</blockquote>\n\n<p><strong>if I build with not <code>--prod</code> I do not get any error</strong></p>\n\n<p>Full error:</p>\n\n<pre><code>ERROR in TypeError: Cannot read property 'kind' of undefined\n    at isParameterPropertyDeclaration (node_modules/typescript/lib/typescript.js:13445:88)\n    at Object.filter (node_modules/typescript/lib/typescript.js:469:31)\n    at transformClassMembers (node_modules/typescript/lib/typescript.js:70813:20)\n    at createClassDeclarationHeadWithoutDecorators (node_modules/typescript/lib/typescript.js:70665:110)\n    at visitClassDeclaration (node_modules/typescript/lib/typescript.js:70584:19)\n    at visitTypeScript (node_modules/typescript/lib/typescript.js:70432:28)\n    at visitorWorker (node_modules/typescript/lib/typescript.js:70227:24)\n    at sourceElementVisitorWorker (node_modules/typescript/lib/typescript.js:70252:28)\n    at saveStateAndInvoke (node_modules/typescript/lib/typescript.js:70165:27)\n    at sourceElementVisitor (node_modules/typescript/lib/typescript.js:70237:20)\n    at visitNodes (node_modules/typescript/lib/typescript.js:67751:48)\n    at Object.visitLexicalEnvironment (node_modules/typescript/lib/typescript.js:67784:22)\n    at visitSourceFile (node_modules/typescript/lib/typescript.js:70521:53)\n    at saveStateAndInvoke (node_modules/typescript/lib/typescript.js:70165:27)\n    at transformSourceFile (node_modules/typescript/lib/typescript.js:70147:27)\n    at transformSourceFileOrBundle (node_modules/typescript/lib/typescript.js:70127:20)\n</code></pre>\n\n<p>Angular version:</p>\n\n<pre><code>Angular CLI: 8.3.3\nNode: 12.9.0\nOS: darwin x64\nAngular: 9.0.0-next.5\n... animations, common, compiler, compiler-cli, core, forms\n... language-service, localize, platform-browser\n... platform-browser-dynamic, router\n\nPackage                            Version\n------------------------------------------------------------\n@angular-devkit/architect          0.900.0-next.3\n@angular-devkit/build-angular      0.900.0-next.3\n@angular-devkit/build-optimizer    0.900.0-next.3\n@angular-devkit/build-webpack      0.900.0-next.3\n@angular-devkit/core               9.0.0-next.3\n@angular-devkit/schematics         8.3.3\n@angular/cdk                       8.1.4\n@angular/cli                       8.3.3\n@angular/http                      8.0.0-beta.10\n@angular/material                  8.1.4\n@angular/material-moment-adapter   8.1.4\n@ngtools/webpack                   9.0.0-next.3\n@schematics/angular                8.3.3\n@schematics/update                 0.803.3\nrxjs                               6.5.3\ntypescript                         3.6.3\nwebpack                            4.39.3\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["javascript", "typescript", "webpack"], "comments": [{"owner": {"reputation": 26, "user_id": 9168722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ui7Qg.jpg?s=128&g=1", "display_name": "debel_vegetarianec", "link": "https://stackoverflow.com/users/9168722/debel-vegetarianec"}, "edited": false, "score": 0, "creation_date": 1568212352, "post_id": 57891390, "comment_id": 102208909, "body": "Not what you were asking for (sorry about that), but what I would do in your situation: - detect the runtime environment - based on the runtime environment either throw an exception or log a warning (depends of how strict you&#39;d like to be) if the wrong version is used. React for example logs warnings if non-production react builds are used in production."}], "answers": [{"tags": [], "owner": {"reputation": 2034, "user_id": 515035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37ab5c5402023c0de6e27b37fce61dbe?s=128&d=identicon&r=PG", "display_name": "Dmitriy", "link": "https://stackoverflow.com/users/515035/dmitriy"}, "is_accepted": false, "score": 0, "last_activity_date": 1568212785, "creation_date": 1568212785, "answer_id": 57891582, "question_id": 57891390, "link": "https://stackoverflow.com/questions/57891390/optimizing-webpack-builds-for-libraries/57891582#57891582", "title": "Optimizing webpack builds for libraries", "body": "<p>You can point your <code>main</code> field in <code>package.json</code> as usual at the one targeted at node usage, but you can also specify <code>browser</code> field that webpack would use for the entry point for browser environment. If you don't have too many dependencies of your library, just bundle it for web yourself and specify that output file in <code>browser</code> field</p>\n"}], "owner": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1568212785, "creation_date": 1568212078, "question_id": 57891390, "link": "https://stackoverflow.com/questions/57891390/optimizing-webpack-builds-for-libraries", "title": "Optimizing webpack builds for libraries", "body": "<p>I am working on a library that can be used both by Node.js and in browsers. The library is written in typescript.</p>\n\n<p>This library has a browser build, using webpack. When Webpack is used, several files are overridden. One example is that it will use a browser-based Base64 API, instead of using Node.js buffers, which greatly reduces the library size.</p>\n\n<p>This is a portion of my webpack configuration that makes this work:</p>\n\n<pre><code>resolve: {\n  extensions: ['.web.ts', '.web.js', '.ts', '.js', '.json'],\n  alias: {\n    // We need an alternative 'querystring', because the default is not\n    // 100% compatible\n    querystring: 'querystring-browser'\n  }\n},\n</code></pre>\n\n<p>What this allows is that I have these 2 files:</p>\n\n<pre><code>base64.js\nbase64.web.js\n</code></pre>\n\n<p>By default the first base64 will be used, but webpack will prefer the <code>.web.js</code> file.</p>\n\n<p>This works great.</p>\n\n<p>The issue I have is that many users don't download the browser build, and add it manually to their script tag. It's very common for the library to be included as an npm dependency, and the end-user is responsible for running Webpack and create a larger bundle of all their dependencies.</p>\n\n<p>In that case I don't have control over webpack configuration, but I want these users to still benefit from these optimizations. The difference for my library is significant (several hundred kb's).</p>\n\n<p>Is there a way to get the webpack ran by users that included by library is a dependency to use the smaller browser-based versions of my API?</p>\n"}, {"tags": ["angular", "typescript", "loopbackjs", "openapi", "loopback4"], "owner": {"reputation": 156, "user_id": 11085371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dea03a21df323d1aa54eca869338a4c?s=128&d=identicon&r=PG&f=1", "display_name": "derdeka", "link": "https://stackoverflow.com/users/11085371/derdeka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "answer_count": 0, "score": 5, "last_activity_date": 1599028948, "creation_date": 1568211435, "question_id": 57891183, "link": "https://stackoverflow.com/questions/57891183/which-openapi-client-sdk-for-loopback4-and-angular", "title": "Which OpenAPI client sdk for loopback4 and angular?", "body": "<p>We are currently migrating a <code>loopback3</code> application to <code>loopback4</code>.\nThe migration of the server is steight forward, but migrating the <code>angular</code> client seems become an issue because of the \"sdk\".</p>\n\n<p>For <code>loopback3</code> we used <a href=\"https://github.com/mean-expert-official/loopback-sdk-builder\" rel=\"noreferrer\">@mean-expert/loopback-sdk-builder</a> to generate a client sdk for <code>angular6+</code>. This project seems reaced end-of-life and is not compatible with <code>loopback4</code>.</p>\n\n<p>Generating the sdk for <code>loopback3</code> worked for us that way:</p>\n\n<p>package.json of server:</p>\n\n<pre><code>\"scripts\": {\n    \"gen-sdk\": \"node ./node_modules/@mean-expert/loopback-sdk-builder/bin/lb-sdk src/server.js ../frontend/src/app/shared/sdk --wipe=enabled\"\n}\n</code></pre>\n\n<p>The generator starts a copy of the server, reads different internal metadata and writes the generated files to the client project - as far i can see it does not make use of the <code>swagger.json</code> provided by <code>loopback3</code>.</p>\n\n<p>We are searching for an alternative sdk to use with <code>loopback4</code>. The backend provides a <code>openapi.json</code> to describe the endpoints.</p>\n\n<p>Which sdk do you use in your <code>angular</code> projects (ideally written in <code>TypeScript</code>)? Is there a sdk which generated code is mostly compatible with <code>@mean-expert/loopback-sdk-builder</code>?</p>\n\n<p>So far I found and tested the following projects to generate a openapi client:</p>\n\n<ul>\n<li><a href=\"https://github.com/OpenAPITools/openapi-generator\" rel=\"noreferrer\">openapi-generator</a>\n\n<ul>\n<li><strong>con</strong>: is written in Java</li>\n<li><strong>con</strong>: throws NullpointerExceptions all the time (maybe our openapi.json is not correct, but this generator does not provide useful error messages)</li>\n</ul></li>\n<li><a href=\"https://github.com/cyclosproject/ng-openapi-gen\" rel=\"noreferrer\">ng-openapi-gen</a>\n\n<ul>\n<li><strong>pro</strong>: is written in <code>TypeScript</code></li>\n<li><strong>con</strong>: the generated operation names are really strage, maybe only in combination with <code>loopback4</code>?</li>\n<li><strong>con</strong>: the project does not seem to be very active</li>\n</ul></li>\n</ul>\n\n<p>Which <code>angular</code> setup do you suggest to talk to an <code>loopback4</code> rest backend?</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 4573, "user_id": 1832330, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/tX0As.jpg?s=128&g=1", "display_name": "zhuber", "link": "https://stackoverflow.com/users/1832330/zhuber"}, "is_accepted": true, "score": 1, "last_activity_date": 1568211809, "creation_date": 1568211809, "answer_id": 57891309, "question_id": 57891104, "link": "https://stackoverflow.com/questions/57891104/typescript-react-type-argument-of-type-not-assignable-to-parameter-of-type/57891309#57891309", "title": "Typescript React type argument of type not assignable to parameter of type", "body": "<p>You are extracting property names of your <code>IOppmeldingModel</code> interface with <code>keyof</code>. That means that your <code>id</code> should be of type <code>string</code> and one of these values: '\"id\" | \"gjennomfortDato\" | \"gyldigTil\" | \"oppmeldtDatoTid\" | \"klasse\" | \"oppmeldtAv\" | \"menu\"'.</p>\n\n<p>Instead of keyof, you can use </p>\n\n<pre><code>type OppmeldingType = string | number;\n\nfunction handleToggle(id: OppmeldingType) {\n    const menu = checkIfOpen(id);\n    const updatedMenuList = menu ? menuList.concat(id) : menuList.filter(menuId =&gt; menuId !== id);\n    setOpen(updatedMenuList);\n}\n</code></pre>\n\n<p>Also be careful to call your toggle method only on click (not immediatelly)</p>\n\n<pre><code>onClick={() =&gt; handleToggle(row.id)}\n</code></pre>\n"}], "owner": {"reputation": 1644, "user_id": 7071069, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e48dc1bd8c3adc24506f641ea5310a63?s=128&d=identicon&r=PG&f=1", "display_name": "Leff", "link": "https://stackoverflow.com/users/7071069/leff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 281, "favorite_count": 0, "accepted_answer_id": 57891309, "answer_count": 1, "score": 1, "last_activity_date": 1568211809, "creation_date": 1568211191, "question_id": 57891104, "link": "https://stackoverflow.com/questions/57891104/typescript-react-type-argument-of-type-not-assignable-to-parameter-of-type", "title": "Typescript React type argument of type not assignable to parameter of type", "body": "<p>I have just started to work with Typescript in React apps. I am trying to implement simple toggle function using hooks in a component. I have defined useState like this:</p>\n\n<pre><code>const [menuList, setOpen] = React.useState&lt;Array&lt;keyof IOppmeldingModel&gt;&gt;([]); \n</code></pre>\n\n<p>and a function to remove or add from the <code>menuList</code>:</p>\n\n<pre><code>function handleToggle(id:keyof IOppmeldingModel) {\n        const menu = checkIfOpen(id);\n        const updatedMenuList = menu ? menuList.concat(id) : menuList.filter(menuId =&gt; menuId !== id);\n        setOpen(updatedMenuList);\n    }\n</code></pre>\n\n<p>When I am trying to use this function like this:</p>\n\n<pre><code> &lt;Button\n     ref={anchorRef}\n     aria-controls=\"menu-list-grow\"\n     aria-haspopup=\"true\"\n     onClick={handleToggle(row.id)}\n     variant=\"contained\"\n     size=\"small\"\n   &gt;Velg\n &lt;/Button&gt;\n</code></pre>\n\n<p>I get the error:</p>\n\n<blockquote>\n  <p>Argument of type 'number' is not assignable to parameter of type '\"id\"\n  | \"gjennomfortDato\" | \"gyldigTil\" | \"oppmeldtDatoTid\" | \"klasse\" |\n  \"oppmeldtAv\" | \"menu\"'.</p>\n</blockquote>\n\n<p>The interface for <code>IOppmeldingModel</code> looks like this:</p>\n\n<pre><code>interface IOppmeldingModel {\n    id: number,\n    gjennomfortDato: string,\n    gyldigTil: string,\n    oppmeldtDatoTid: string,\n    klasse: string,\n    oppmeldtAv: string,\n    menu: string,\n}\n</code></pre>\n\n<p>Why am I getting this error, when I am sending a <code>number</code>, and a <code>IOppmeldingModel</code> can have number as a type for <code>id</code> property?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 6768, "user_id": 1331040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fRC2U.png?s=128&g=1", "display_name": "Harun Yilmaz", "link": "https://stackoverflow.com/users/1331040/harun-yilmaz"}, "edited": false, "score": 0, "creation_date": 1568211640, "post_id": 57891099, "comment_id": 102203836, "body": "Try changing <code>&quot;output&quot;: &quot;.&#47;result&quot;</code> to <code>&quot;output&quot;: &quot;&#47;&quot;</code>"}, {"owner": {"reputation": 65, "user_id": 10842067, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wvfkVWXX6Yg/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZ_T45QedlVZzefO7YHs-jKi_eo_w/mo/photo.jpg?sz=128", "display_name": "Abadou", "link": "https://stackoverflow.com/users/10842067/abadou"}, "reply_to_user": {"reputation": 6768, "user_id": 1331040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fRC2U.png?s=128&g=1", "display_name": "Harun Yilmaz", "link": "https://stackoverflow.com/users/1331040/harun-yilmaz"}, "edited": false, "score": 0, "creation_date": 1568211970, "post_id": 57891099, "comment_id": 102204039, "body": "@HarunYilmaz it doesn&#39;t work"}, {"owner": {"reputation": 6768, "user_id": 1331040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fRC2U.png?s=128&g=1", "display_name": "Harun Yilmaz", "link": "https://stackoverflow.com/users/1331040/harun-yilmaz"}, "edited": false, "score": 0, "creation_date": 1568212158, "post_id": 57891099, "comment_id": 102204166, "body": "How about also changing to <code>&quot;glob&quot;: &quot;**&#47;*&quot;</code>. <a href=\"https://github.com/angular/angular-cli/blob/master/docs/documentation/stories/asset-configuration.md\" rel=\"nofollow noreferrer\">github.com/angular/angular-cli/blob/master/docs/documentatio&zwnj;&#8203;n/&hellip;</a>"}, {"owner": {"reputation": 6768, "user_id": 1331040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fRC2U.png?s=128&g=1", "display_name": "Harun Yilmaz", "link": "https://stackoverflow.com/users/1331040/harun-yilmaz"}, "edited": false, "score": 0, "creation_date": 1568212429, "post_id": 57891099, "comment_id": 102204319, "body": "And also try to add <code>&#47;</code> after input value: <code>&quot;input&quot;: &quot;..&#47;maintenance&#47;&quot;</code>"}, {"owner": {"reputation": 65, "user_id": 10842067, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wvfkVWXX6Yg/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZ_T45QedlVZzefO7YHs-jKi_eo_w/mo/photo.jpg?sz=128", "display_name": "Abadou", "link": "https://stackoverflow.com/users/10842067/abadou"}, "reply_to_user": {"reputation": 6768, "user_id": 1331040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fRC2U.png?s=128&g=1", "display_name": "Harun Yilmaz", "link": "https://stackoverflow.com/users/1331040/harun-yilmaz"}, "edited": false, "score": 0, "creation_date": 1568212451, "post_id": 57891099, "comment_id": 102204334, "body": "I resolved the issue , my error was : &quot;input&quot;: &quot;../maintenance&quot;, it must be &quot;input&quot;: &quot;maintenance&quot;"}, {"owner": {"reputation": 6768, "user_id": 1331040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fRC2U.png?s=128&g=1", "display_name": "Harun Yilmaz", "link": "https://stackoverflow.com/users/1331040/harun-yilmaz"}, "edited": false, "score": 0, "creation_date": 1568212523, "post_id": 57891099, "comment_id": 102204372, "body": "I didn&#39;t event noticed that :D Glad you solved :)"}, {"owner": {"reputation": 65, "user_id": 10842067, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wvfkVWXX6Yg/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZ_T45QedlVZzefO7YHs-jKi_eo_w/mo/photo.jpg?sz=128", "display_name": "Abadou", "link": "https://stackoverflow.com/users/10842067/abadou"}, "reply_to_user": {"reputation": 6768, "user_id": 1331040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fRC2U.png?s=128&g=1", "display_name": "Harun Yilmaz", "link": "https://stackoverflow.com/users/1331040/harun-yilmaz"}, "edited": false, "score": 0, "creation_date": 1568212749, "post_id": 57891099, "comment_id": 102204517, "body": "thank you all for your responses :D"}], "owner": {"reputation": 65, "user_id": 10842067, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wvfkVWXX6Yg/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZ_T45QedlVZzefO7YHs-jKi_eo_w/mo/photo.jpg?sz=128", "display_name": "Abadou", "link": "https://stackoverflow.com/users/10842067/abadou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568211723, "creation_date": 1568211175, "last_edit_date": 1568211723, "question_id": 57891099, "link": "https://stackoverflow.com/questions/57891099/add-file-in-dist-angular", "title": "Add file in dist angular", "body": "<p>In my angular project, I have : </p>\n\n<pre><code>- src (folder)\n\n- maintenance (folder) \n   - maintenance.html\n</code></pre>\n\n<p>I want to add <code>maintenance.html</code> in <code>dist</code> folder </p>\n\n<p>In angular.json , i have : </p>\n\n<pre><code>\"sourceRoot\": \"src\"\n .\n .\n .\n\n\"assets\": [\n\n     \"src/favicon.ico\",\n\n     \"src/assets\",\n\n     { \"glob\": \"maintenance.html\", \"input\": \"../maintenance\", \"output\": \"./result\" }\n\n\n   ],\n</code></pre>\n\n<p>But I don't found the maintenance folder in Dist folder after running <code>npm run build</code></p>\n"}, {"tags": ["typescript", "protractor"], "answers": [{"comments": [{"owner": {"reputation": 275, "user_id": 793769, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5866417e6665cb45f482bbad9bbaba0a?s=128&d=identicon&r=PG", "display_name": "williamtell", "link": "https://stackoverflow.com/users/793769/williamtell"}, "edited": false, "score": 0, "creation_date": 1568213010, "post_id": 57891298, "comment_id": 102204664, "body": "That totally worked. Thank you so much. What was my mistake here? You were saying about <code>this</code> Which <code>this</code>? Sorry if I am missing something fundamental."}, {"owner": {"reputation": 2034, "user_id": 515035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37ab5c5402023c0de6e27b37fce61dbe?s=128&d=identicon&r=PG", "display_name": "Dmitriy", "link": "https://stackoverflow.com/users/515035/dmitriy"}, "reply_to_user": {"reputation": 275, "user_id": 793769, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5866417e6665cb45f482bbad9bbaba0a?s=128&d=identicon&r=PG", "display_name": "williamtell", "link": "https://stackoverflow.com/users/793769/williamtell"}, "edited": false, "score": 0, "creation_date": 1568213266, "post_id": 57891298, "comment_id": 102204810, "body": "You get an error: <code>TypeError: Cannot read property &#39;info&#39; of undefined</code> which naturally points to the <code>await this.info(&#39;attr: &#39;, attr);</code> and tells you exactly what the problem is, namely that you expected <code>this</code> to be the same object as the one where <code>getElementAttribute</code> method is defined, but inside of a promise callback <code>this</code> is set to <code>undefined</code> unless you pin it to lexical scope using <code>=&gt;</code> instead of <code>function</code>"}, {"owner": {"reputation": 275, "user_id": 793769, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5866417e6665cb45f482bbad9bbaba0a?s=128&d=identicon&r=PG", "display_name": "williamtell", "link": "https://stackoverflow.com/users/793769/williamtell"}, "edited": false, "score": 0, "creation_date": 1568216323, "post_id": 57891298, "comment_id": 102206551, "body": "That explains. Thank you so much for the prompt answer."}, {"owner": {"reputation": 275, "user_id": 793769, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5866417e6665cb45f482bbad9bbaba0a?s=128&d=identicon&r=PG", "display_name": "williamtell", "link": "https://stackoverflow.com/users/793769/williamtell"}, "edited": false, "score": 0, "creation_date": 1568226285, "post_id": 57891298, "comment_id": 102210956, "body": "Is it possible to avoid then and use await?"}], "tags": [], "owner": {"reputation": 2034, "user_id": 515035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37ab5c5402023c0de6e27b37fce61dbe?s=128&d=identicon&r=PG", "display_name": "Dmitriy", "link": "https://stackoverflow.com/users/515035/dmitriy"}, "is_accepted": true, "score": 1, "last_activity_date": 1568211779, "creation_date": 1568211779, "answer_id": 57891298, "question_id": 57890991, "link": "https://stackoverflow.com/questions/57890991/having-trouble-with-getattribute-for-a-webelement/57891298#57891298", "title": "Having trouble with getAttribute for a WebElement", "body": "<p>The problem here is that your <code>this</code> refers to the wrong thing, you need to use an arrow function here:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>await webElement.getAttribute(whichAttribute).then(async (attr) =&gt; {\n</code></pre>\n"}], "owner": {"reputation": 275, "user_id": 793769, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5866417e6665cb45f482bbad9bbaba0a?s=128&d=identicon&r=PG", "display_name": "williamtell", "link": "https://stackoverflow.com/users/793769/williamtell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 57891298, "answer_count": 1, "score": 0, "last_activity_date": 1568211779, "creation_date": 1568210846, "last_edit_date": 1568211239, "question_id": 57890991, "link": "https://stackoverflow.com/questions/57890991/having-trouble-with-getattribute-for-a-webelement", "title": "Having trouble with getAttribute for a WebElement", "body": "<p>I am trying to get the attribute of an element. It was working fine but suddenly it is not. Not sure if I changed something.</p>\n\n<p><strong>Error:</strong></p>\n\n<pre><code>TypeError: Cannot read property 'info' of undefined\n</code></pre>\n\n<p><strong>Method 1:</strong></p>\n\n<pre><code>async getElementAttribute12(webElement: WebElement, whichAttribute: string): Promise&lt;string&gt; {\n        try {\n            let attribute = '';\n            await webElement.getAttribute(whichAttribute).then(async function(attr) {\n                await this.info('attr: ', attr);\n                attribute = attr;\n            });\n            return attribute;\n        } catch (error) {\n            fail(`Get attribute error. ${error}`);\n        }\n    }\n</code></pre>\n\n<p><strong>Method 2:</strong></p>\n\n<p>After checking if the element is present. I think this will be a better approach. Inputs are welcome.</p>\n\n<pre><code>    async getElementAttribute(webElement: WebElement, whichAttribute: string): Promise&lt;string&gt; {\n        try {\n            let attribute = '';\n            if (await browser.isElementPresent(webElement)) {\n                await webElement.getAttribute(whichAttribute).then(async function(attr) {\n                    await this.info('attr: ', attr);\n                    attribute = attr;\n                });\n                return attribute;\n            }\n\n        } catch (error) {\n            fail(`Get attribute error. ${error}`);\n        }\n    }\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic-framework", "notifications"], "comments": [{"owner": {"reputation": 316, "user_id": 10903251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MT196.png?s=128&g=1", "display_name": "Riven", "link": "https://stackoverflow.com/users/10903251/riven"}, "edited": false, "score": 0, "creation_date": 1568210960, "post_id": 57890960, "comment_id": 102203473, "body": "Also i&#39;m using cordova-android-support-gradle-release in both projects <a href=\"https://github.com/dpa99c/cordova-android-support-gradle-release\" rel=\"nofollow noreferrer\">github.com/dpa99c/cordova-android-support-gradle-release</a>"}, {"owner": {"reputation": 96, "user_id": 7975212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df47ded4eeb0216218b7f46498a28c08?s=128&d=identicon&r=PG", "display_name": "Md omer arafat", "link": "https://stackoverflow.com/users/7975212/md-omer-arafat"}, "edited": false, "score": 0, "creation_date": 1607937898, "post_id": 57890960, "comment_id": 115419305, "body": "Did you solved the problem ?"}], "answers": [{"comments": [{"owner": {"reputation": 7082, "user_id": 98636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e73eaf09b8cb5de02dc2077f7ab0259?s=128&d=identicon&r=PG", "display_name": "Elemental", "link": "https://stackoverflow.com/users/98636/elemental"}, "edited": false, "score": 0, "creation_date": 1614086649, "post_id": 61771425, "comment_id": 117272456, "body": "No - the OP is correct for named events this should work"}], "tags": [], "owner": {"reputation": 96, "user_id": 7975212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df47ded4eeb0216218b7f46498a28c08?s=128&d=identicon&r=PG", "display_name": "Md omer arafat", "link": "https://stackoverflow.com/users/7975212/md-omer-arafat"}, "is_accepted": false, "score": 1, "last_activity_date": 1589363446, "creation_date": 1589363446, "answer_id": 61771425, "question_id": 57890960, "link": "https://stackoverflow.com/questions/57890960/local-notification-buttons-doesnt-made-any-action/61771425#61771425", "title": "local notification buttons doesn&#39;t made any action", "body": "<p>Your event name is not correct . Use </p>\n\n<pre><code>this.plt.ready().then(\n            () =&gt; {\n                this.localNotification.on('click').subscribe(\n                    res =&gt; {}\n                );\n                this.localNotification.on('trigger').subscribe(\n                    res =&gt; {}\n                );\n            }\n        );\n</code></pre>\n"}], "owner": {"reputation": 316, "user_id": 10903251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MT196.png?s=128&g=1", "display_name": "Riven", "link": "https://stackoverflow.com/users/10903251/riven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 853, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1589363446, "creation_date": 1568210742, "last_edit_date": 1568217470, "question_id": 57890960, "link": "https://stackoverflow.com/questions/57890960/local-notification-buttons-doesnt-made-any-action", "title": "local notification buttons doesn&#39;t made any action", "body": "<p>With ionic 4, I'm using plugin localNotifications of:</p>\n\n<p><a href=\"https://github.com/katzer/cordova-plugin-local-notifications\" rel=\"nofollow noreferrer\">https://github.com/katzer/cordova-plugin-local-notifications</a></p>\n\n<p>I want to implement 'yes', 'no' options and make an action only if the yes button is touched, and if the button no 'is' clicked, simply want to close the notification, I made this implementation in my real project, and the action buttons 'works', but that buttons only works fine when I'm in the app or if I have the app suspended but visible (the menu where you can kill the apps).</p>\n\n<p>Here is the detail: if I touch the home button and try to select actions yes or no, if I select 'yes' the app is launched correctly (the yes button have a launch action), but if I attempt to click in the 'no' option, and the app is not visible for some reason the app got closed and doesn't appears in the menu where you can kill apps, (but when I open again the app, the app will be resumed where I was), a bit strange...</p>\n\n<p>it's hard to debug that because when the app is not active console doesn't log anything (inspector console only works when app is active).</p>\n\n<p>literally I'm having this issue for hours, so I tried to make a new project only for tests with this plugin, and in the new project the buttons don't close the app if previously I made a click in home button, but got a new problem: the actions don't be fired...</p>\n\n<p>I already attempt to use background mode and activate it in the new project, but this doesn't make any difference, other thing that I tried is to put my on (events), in the deviceready function:</p>\n\n<pre><code>document.addEventListener('deviceready', ()=&gt;{\n\n      this.isAcceptedObservable = this.localNotifications.on('yes').subscribe(res =&gt;{\n\n        console.log('confirmed!');\n\n      });\n\n      this.isNotAcceptedObservable = this.localNotifications.on('no').subscribe(res =&gt;{\n\n        console.log('denied!');\n\n      });\n\n    });\n</code></pre>\n\n<p>But nothing happened... </p>\n\n<p>also I tried to quit foreground option in schedule options, but this doesn't make any difference...</p>\n\n<p>here is my code for testing, app.module:</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { RouteReuseStrategy } from '@angular/router';\n\nimport { IonicModule, IonicRouteStrategy } from '@ionic/angular';\nimport { SplashScreen } from '@ionic-native/splash-screen/ngx';\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\n\nimport { AppComponent } from './app.component';\nimport { AppRoutingModule } from './app-routing.module';\nimport { NgPipesModule } from 'ngx-pipes';\nimport { LocalNotifications } from '@ionic-native/local-notifications/ngx';\nimport { BackgroundMode } from '@ionic-native/background-mode/ngx';\n\n@NgModule({\n  declarations: [AppComponent],\n  entryComponents: [],\n  imports: [BrowserModule, IonicModule.forRoot(), AppRoutingModule, NgPipesModule],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    LocalNotifications,\n    BackgroundMode,\n    { provide: RouteReuseStrategy, useClass: IonicRouteStrategy }\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}\n</code></pre>\n\n<p>home.page.html:</p>\n\n<pre><code>&lt;ion-header&gt;\n  &lt;ion-toolbar&gt;\n    &lt;ion-title&gt;\n      Ionic Blank\n    &lt;/ion-title&gt;\n  &lt;/ion-toolbar&gt;\n&lt;/ion-header&gt;\n\n&lt;ion-content&gt;\n  &lt;ion-button expand = \"full\" (click) = \"showNotification()\"&gt;\n    &lt;ion-label&gt;\n      Show notification...\n    &lt;/ion-label&gt;\n  &lt;/ion-button&gt;\n&lt;/ion-content&gt;\n</code></pre>\n\n<p>home.module.ts:</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\nimport {NgPipesModule} from 'ngx-pipes';\nimport { LocalNotifications } from '@ionic-native/local-notifications/ngx';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    NgPipesModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: HomePage\n      }\n    ])\n  ],\n  declarations: [HomePage],\n  providers: [LocalNotifications]\n})\nexport class HomePageModule {}\n</code></pre>\n\n<p>home.page.ts:</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { LocalNotifications } from '@ionic-native/local-notifications/ngx';\nimport { Observable } from 'rxjs';\nimport { Subscription } from 'rxjs';\nimport { BackgroundMode } from '@ionic-native/background-mode/ngx';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\n\nexport class HomePage {\n\n  public isAcceptedObservable: Subscription;\n  public isNotAcceptedObservable: Subscription;\n\n  constructor(private localNotifications: LocalNotifications,private backgroundMode: BackgroundMode){\n\n    this.backgroundMode.enable();\n    document.addEventListener('deviceready', ()=&gt;{\n\n      this.isAcceptedObservable = this.localNotifications.on('yes').subscribe(res =&gt;{\n\n        console.log('confirmed!');\n\n      });\n\n      this.isNotAcceptedObservable = this.localNotifications.on('no').subscribe(res =&gt;{\n\n        console.log('denied!');\n\n      });\n\n    });\n\n  }\n\n  ionViewDidEnter(){\n\n    this.localNotifications.schedule({\n      id: 1,\n      title: 'Notification received!',\n      text: 'Haz recibido una invitaci\u00f3n para ir a un lugar!',\n      actions: [\n        { id: 'yes',  title: 'Yes' , launch: true},\n        { id: 'no',  title: 'No', launch: false}\n      ],\n      autoClear: true,\n      foreground: true\n    });\n\n  }\n\n  showNotification(){\n\n    this.localNotifications.schedule({\n      id: 1,\n      title: 'Notification received!',\n      text: 'Haz recibido una invitaci\u00f3n para ir a un lugar!',\n      actions: [\n        { id: 'yes',  title: 'Yes' , launch: true},\n        { id: 'no',  title: 'No', launch: false}\n      ],\n      autoClear: true,\n      foreground: true\n    });\n\n  }\n\n  ionViewWillLeave(){\n\n    this.isAcceptedObservable.unsubscribe();\n    this.isNotAcceptedObservable.unsubscribe();\n\n  }\n\n}\n</code></pre>\n\n<p>When I click on both buttons, nothing happens... also there are some important things for consider:</p>\n\n<ul>\n<li>Android platform version: android@6.4.0</li>\n<li><p>BackgroundMode plugin version (IMPORTANT, I'm using a different version of the most actual version, BackgroundMode actual plugin is incompatible with this version of android), version: 0.7.2</p></li>\n<li><p>LocalNotification plugin version: latest version or the penultimate (the results are the same).</p></li>\n</ul>\n"}, {"tags": ["javascript", "reactjs", "typescript", "api", "react-hooks"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 9348134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6874d44ea5812dfdc5feb248d9040f6?s=128&d=identicon&r=PG&f=1", "display_name": "Fizlo", "link": "https://stackoverflow.com/users/9348134/fizlo"}, "edited": false, "score": 1, "creation_date": 1568211481, "post_id": 57890999, "comment_id": 102203757, "body": "Thank you I was very confused since I did npm i of react-router not react-router-dom."}], "tags": [], "owner": {"reputation": 501, "user_id": 11995384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebc819a51c9dc81d800079cce712e480?s=128&d=identicon&r=PG&f=1", "display_name": "dodgez", "link": "https://stackoverflow.com/users/11995384/dodgez"}, "is_accepted": true, "score": 3, "last_activity_date": 1568211198, "last_edit_date": 1568211198, "creation_date": 1568210878, "answer_id": 57890999, "question_id": 57890833, "link": "https://stackoverflow.com/questions/57890833/issue-with-react-router-browserrouter-in-react-with-typescript/57890999#57890999", "title": "issue with react-router BrowserRouter in react with typescript?", "body": "<p>According to the <a href=\"https://reacttraining.com/react-router/web/api/BrowserRouter\" rel=\"nofollow noreferrer\">documentation</a> of React Router, <code>BrowserRouter</code> gets imported from 'react-router-dom', not 'react-router'.</p>\n\n<p>Here is the example code given in the link above.</p>\n\n<pre><code>import { BrowserRouter } from 'react-router-dom'\n\n&lt;BrowserRouter\n  basename={optionalString}\n  forceRefresh={optionalBool}\n  getUserConfirmation={optionalFunc}\n  keyLength={optionalNumber}\n&gt;\n  &lt;App/&gt;\n&lt;/BrowserRouter&gt;\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/42686239/11995384\">Here</a> is a SO question about the difference between <code>react-router</code> and <code>react-router-dom</code> and the accepted answer contains the following.</p>\n\n<blockquote>\n  <p>react-router contains all the common components between react-router-dom and react-router-native. When should you use one over the other? If you're on the web then react-router-dom should have everything you need as it also exports the common components you'll need. If you're using React Native, react-router-native should have everything you need for the same reason. So you'll probably never have to import anything directly from react-router.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 45, "user_id": 9348134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6874d44ea5812dfdc5feb248d9040f6?s=128&d=identicon&r=PG&f=1", "display_name": "Fizlo", "link": "https://stackoverflow.com/users/9348134/fizlo"}, "edited": false, "score": 0, "creation_date": 1568211567, "post_id": 57891185, "comment_id": 102203798, "body": "Hi thank you, yes i installed react-router not react-router-dom and didnt realize the mistake lol."}], "tags": [], "owner": {"reputation": 1741, "user_id": 12005425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5NfIi.png?s=128&g=1", "display_name": "winwiz1", "link": "https://stackoverflow.com/users/12005425/winwiz1"}, "is_accepted": false, "score": 1, "last_activity_date": 1568211438, "creation_date": 1568211438, "answer_id": 57891185, "question_id": 57890833, "link": "https://stackoverflow.com/questions/57890833/issue-with-react-router-browserrouter-in-react-with-typescript/57891185#57891185", "title": "issue with react-router BrowserRouter in react with typescript?", "body": "<blockquote>\n  <p>I did also try 'react-router-dom'.</p>\n</blockquote>\n\n<p>It should work, e.g. this code </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { BrowserRouter, Route, Switch } from \"react-router-dom\";\n</code></pre>\n\n<p>works. </p>\n\n<p>Both <code>react-dom</code> and <code>react-router-dom</code> packages should be installed. That means both can be found in the <code>dependencies</code> section of <code>package.json</code> file. Working sample project using Typescript can be found <a href=\"https://github.com/winwiz1/crisp-react/tree/master/client\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 45, "user_id": 9348134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6874d44ea5812dfdc5feb248d9040f6?s=128&d=identicon&r=PG&f=1", "display_name": "Fizlo", "link": "https://stackoverflow.com/users/9348134/fizlo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1053, "favorite_count": 0, "accepted_answer_id": 57890999, "answer_count": 2, "score": 3, "last_activity_date": 1568211438, "creation_date": 1568210340, "question_id": 57890833, "link": "https://stackoverflow.com/questions/57890833/issue-with-react-router-browserrouter-in-react-with-typescript", "title": "issue with react-router BrowserRouter in react with typescript?", "body": "<p>I have gone through several similar questions but could not find something that worked. I am trying to bring in BrowserRouter from react-router but it says:</p>\n\n<p>Module '\"../node_modules/@types/react-router\"' has no exported member 'BrowserRouter'</p>\n\n<p>as per another similar question on here, I did an npm install of @types/react and @types/react-router but saved as dev dependencies. they were already in my package.json but as regular dependencies. before this, they were giving a similar issue when doing import React from 'react'. It would say that those modules could not be found, same for router. then when i did the install, those errors went away but the BrowserRouter started showing this error. I did also try 'react-router-dom'. </p>\n\n<pre><code>import React from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router';\nimport './App.css';\n\nimport Recipes from './components/Recipes';\n\nconst App: React.SFC = () =&gt; {\n\n  return (\n    &lt;BrowserRouter&gt;\n      &lt;main&gt;\n        &lt;Switch&gt;\n          &lt;Route exact path='/' component={Recipes} /&gt;\n        &lt;/Switch&gt;\n      &lt;/main&gt;\n    &lt;/BrowserRouter&gt;\n  );\n}\n\nexport default App;\n\n</code></pre>\n\n<p>Just expecting for the error to not be present and to be able to regularly navigate. This is my first time really using typescript.</p>\n"}, {"tags": ["typescript", "protractor"], "answers": [{"tags": [], "owner": {"reputation": 2927, "user_id": 2695752, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/4cnS5.jpg?s=128&g=1", "display_name": "Xotabu4", "link": "https://stackoverflow.com/users/2695752/xotabu4"}, "is_accepted": false, "score": 0, "last_activity_date": 1568210403, "creation_date": 1568210403, "answer_id": 57890855, "question_id": 57890792, "link": "https://stackoverflow.com/questions/57890792/how-to-read-csv-files-line-by-line-in-typescript-protractor/57890855#57890855", "title": "How to read csv files line by line in typescript protractor?", "body": "<p>Just take <a href=\"https://www.npmjs.com/package/csv\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/csv</a> </p>\n\n<p>Unfortunately you will not have types automatically, you need to write your own</p>\n"}, {"comments": [{"owner": {"reputation": 646, "user_id": 11270766, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Az9FN.jpg?s=128&g=1", "display_name": "Gaj Julije", "link": "https://stackoverflow.com/users/11270766/gaj-julije"}, "edited": false, "score": 0, "creation_date": 1572193925, "post_id": 58310654, "comment_id": 103476972, "body": "As I see this is Jasmin with Java script, original question is for typescript."}], "tags": [], "owner": {"reputation": 106, "user_id": 10198795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c9035c0ec17f3b1cc05c4a7e0101beb?s=128&d=identicon&r=PG&f=1", "display_name": "Panee S", "link": "https://stackoverflow.com/users/10198795/panee-s"}, "is_accepted": true, "score": 0, "last_activity_date": 1570647849, "creation_date": 1570647849, "answer_id": 58310654, "question_id": 57890792, "link": "https://stackoverflow.com/questions/57890792/how-to-read-csv-files-line-by-line-in-typescript-protractor/58310654#58310654", "title": "How to read csv files line by line in typescript protractor?", "body": "<p>try this below solution. CSV file should have cols FirstName and LastName</p>\n\n<pre><code>import {browser} from 'protractor';\nimport * as path from 'path';\n describe('Protractor Typescript Demo', () =&gt; {\n            it('CSV File Operations', async () =&gt; {\n                const papa = require('papaparse');\n                const fs = require('fs');\n                const fileName = 'samplebook';\n                const fileLocation: string = './resources/' + fileName + '.csv';\n                console.log('Getting file path.....' + fileLocation);\n                // Input Windows path fix, replace Windows specific '\\' with '/' character after absolute resolution\n                const absolutePath = await (path.resolve(__dirname, fileLocation)).replace(/\\\\/g, '/');\n                console.log('Geting absolute path....' + (path.resolve(__dirname)));\n                const file = await fs.readFileSync  (absolutePath, 'utf8');\n                const results = await papa.parse(file, {\n                    header: true\n                    //  delimiter: '&gt;'\n                });\n                for (let i = 0; i &lt; results.data.length - 1; i++) {\n                    await readFromCSV.dataIteration(results.data[i]['Firstname'], results.data[i]['Lastname'], results.data[i]['Address']);\n                }\n            });\n        });\n\n        method called from different class///\n         public async dataIteration(firstName: string, lastName: string, address?: string) {\n                    console.log(firstName);\n                    browser.waitForAngularEnabled(false);\n                    await launchURL(); //custom methods*emphasized text*\n                    await setFirstName(firstName);\n                    await setLastName(lastName);\n    }\n</code></pre>\n"}], "owner": {"reputation": 646, "user_id": 11270766, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Az9FN.jpg?s=128&g=1", "display_name": "Gaj Julije", "link": "https://stackoverflow.com/users/11270766/gaj-julije"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1374, "favorite_count": 0, "accepted_answer_id": 58310654, "answer_count": 2, "score": 0, "last_activity_date": 1570647849, "creation_date": 1568210190, "question_id": 57890792, "link": "https://stackoverflow.com/questions/57890792/how-to-read-csv-files-line-by-line-in-typescript-protractor", "title": "How to read csv files line by line in typescript protractor?", "body": "<p>I do not know how to read or write .csv files in protractor with typescript?</p>\n\n<p>Try to google but no success.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 546, "user_id": 9970268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OTHi3.png?s=128&g=1", "display_name": "CH4B", "link": "https://stackoverflow.com/users/9970268/ch4b"}, "edited": false, "score": 0, "creation_date": 1568228659, "post_id": 57892539, "comment_id": 102212029, "body": "You see, <code>url()</code> is not a method. Its just a way for the image to be dynamic. Whenever the variable &#39;coverImage&#39; changes value, the background-image will change. There&#39;s a function on (change) that is supposed to check the field value and validate if the image exists. In case the image does exist, the variable will be updated. If it doesn&#39;t, the variable will remain the same"}, {"owner": {"reputation": 546, "user_id": 9970268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OTHi3.png?s=128&g=1", "display_name": "CH4B", "link": "https://stackoverflow.com/users/9970268/ch4b"}, "edited": false, "score": 0, "creation_date": 1568228712, "post_id": 57892539, "comment_id": 102212061, "body": "I tried creating a function like the one you suggested. but the return was always a meaningless observable, whichever was the value i&#39;d send as param."}], "tags": [], "owner": {"reputation": 736, "user_id": 12048970, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC153CV25pRN86-Nj3-chgHofTb2z_57QAPe5fA=k-s128", "display_name": "Manuel Panizzo", "link": "https://stackoverflow.com/users/12048970/manuel-panizzo"}, "is_accepted": false, "score": 0, "last_activity_date": 1568219414, "last_edit_date": 1568219414, "creation_date": 1568216247, "answer_id": 57892539, "question_id": 57890700, "link": "https://stackoverflow.com/questions/57890700/angular-8-validade-image-src-for-a-dynamic-background-image/57892539#57892539", "title": "(Angular 8) Validade image src for a dynamic background-image", "body": "<p>in your component inject the httpClient.</p>\n\n<pre><code>import { HttpClient } from '@angular/common/http';\nimport { catchError, mergeMap } from 'rxjs/operators';\nimport { of } from 'rxjs';\n\nconstructor(private http: HttpClient) {}\n</code></pre>\n\n<p>Override your url method:</p>\n\n<pre><code>  url(coverImage: string) {\n    const defaultImageUrl =\n      'http://mihost.io/default-image';\n\n    return this.http\n      .get(coverImage, {\n        responseType: 'blob',\n      })\n      .pipe(\n        mergeMap((blob: { size: number; type: string }) =&gt; {\n          if (blob.type === 'image/png') {\n            return of(coverImage);\n          } else {\n            return of(defaultImageUrl);\n          }\n        }),\n        catchError(error =&gt; {\n          return of(defaultImageUrl);\n        }),\n      );\n  }\n</code></pre>\n\n<p>in your html use async pipe.</p>\n\n<pre><code>[style.background-image]=\"'url(' + coverImage + ')' | async \"\n</code></pre>\n\n<p>in  <code>if (blob.type === 'image/png')</code> compare with another types or array of types!</p>\n"}, {"tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": true, "score": 1, "last_activity_date": 1568229047, "creation_date": 1568229047, "answer_id": 57895469, "question_id": 57890700, "link": "https://stackoverflow.com/questions/57890700/angular-8-validade-image-src-for-a-dynamic-background-image/57895469#57895469", "title": "(Angular 8) Validade image src for a dynamic background-image", "body": "<p>With images you have access to events like <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/onload\" rel=\"nofollow noreferrer\"><code>onload</code></a> an <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/onerror\" rel=\"nofollow noreferrer\"><code>onError</code></a>. You can utilize these two for your purpose. At the end I have presented a StackBlitz, but be sure when you test it, Stackblitz only work with <code>https</code> urls.</p>\n\n<p>So when the user inputs something in the input you call a function, yes? That function could then look like:</p>\n\n\n\n<pre class=\"lang-ts prettyprint-override\"><code>changeBackground() {\n  let img = new Image();\n  // imgUrl is the property containing what user has typed in input\n  img.src = this.imgUrl;\n  img.onload = () =&gt; {\n    this.coverImage = img.src;\n  }\n  img.onerror = () =&gt; {\n    console.log('failed')\n  }\n}\n</code></pre>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-ycez5w?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\">StackBlitz</a></strong></p>\n"}], "owner": {"reputation": 546, "user_id": 9970268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OTHi3.png?s=128&g=1", "display_name": "CH4B", "link": "https://stackoverflow.com/users/9970268/ch4b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1352, "favorite_count": 0, "accepted_answer_id": 57895469, "answer_count": 2, "score": 1, "last_activity_date": 1568229047, "creation_date": 1568209870, "question_id": 57890700, "link": "https://stackoverflow.com/questions/57890700/angular-8-validade-image-src-for-a-dynamic-background-image", "title": "(Angular 8) Validade image src for a dynamic background-image", "body": "<p>I implemented dynamic background-image using angular. This is how I did it:</p>\n\n<pre><code>&lt;div [style.height.px]=\"coverHeight\" [style.background-image]=\"'url(' + coverImage + ')'\" class=\"card mb-3\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I did this, because it is a way for resizing images without distortion. That's working fine. </p>\n\n<p>But, below this, there is an input, and every time the <code>(change)</code> function is called, I want the image on the div to update.</p>\n\n<p>So I have a default image, and when my user puts something like <code>https://s.imgur.com/images/logo-1200-630.jpg?2</code> in the input, the image will show there. That's been easy, as you can see, the background-image is dynamic. But I want to validate if the link exists, if not, the default image will stay there.</p>\n\n<p>So I tried a few things, such as:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/18837735/check-if-image-exists-on-server-using-javascript\">Check if image exists on server using JavaScript?</a> <br>\n<a href=\"https://stackoverflow.com/questions/14651348/checking-if-image-does-exists-using-javascript\">Checking if image does exists using javascript</a> <br>\n<a href=\"https://stackoverflow.com/questions/9022427/see-if-src-of-img-exists\">see if src of img exists</a></p>\n\n<p>But neither of them works for me the way I need it. <br>\nWhat I need is a function that returns me true if the image exists.</p>\n\n<p>What problems I encountered:</p>\n\n<p>When trying to use  <code>new XMLHttpRequest();</code>, I'm getting CORS error from some domains, such as IMGUR.</p>\n\n<p>When trying to use <code>var img = new Image();</code> and then capturing <code>onerror</code>, it works somewhat, but I still can't return a Boolean, because the onerror function does not return anything of use, the only thing I can get is an <code>alert</code> when the image is invalid.</p>\n\n<p>Trying <code>&lt;div onerror=\"doSomething()\"&gt;</code> does not work either, the function is not called (probably because it is a <code>div</code>, and not an <code>img</code> tag).</p>\n\n<p>The closest I got, is when using </p>\n\n<pre><code>var img = new Image();\nimg.src = url;\n</code></pre>\n\n<p>Because that will actually generate an error in the browser's console when the image is invalid. The error is a <code>(not found) GET</code>. But when I tried to <code>try ... catch</code> it, it seems it never counts it as an exception, so it will always go into <code>try</code>.</p>\n\n<p>Also, trying things such as checking the image's width doesn't work either, and I don't really know why. Also, I don't want to use the DOM for this, and this function should be very simple, check the image, return true or false.</p>\n\n<p>This should be easy, but I'm having a hard time... Any ideas?</p>\n"}, {"tags": ["typescript", "oop"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1568210553, "post_id": 57890842, "comment_id": 102203254, "body": "This <code>action.execute();</code> also calls different methods, but from one service"}, {"owner": {"reputation": 43882, "user_id": 4922375, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2f70cb2cc341b8ceda0e1f801316d85f?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Tobilko", "link": "https://stackoverflow.com/users/4922375/andrew-tobilko"}, "reply_to_user": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1568211041, "post_id": 57890842, "comment_id": 102203521, "body": "@OPV you receive a fully-constructed <code>Action</code> with all its dependencies already set/injected. You don&#39;t care what exactly this <code>action</code> is going to do. It doesn&#39;t rely on context but may take parameters through the <code>execute</code> method."}, {"owner": {"reputation": 43882, "user_id": 4922375, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2f70cb2cc341b8ceda0e1f801316d85f?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Tobilko", "link": "https://stackoverflow.com/users/4922375/andrew-tobilko"}, "reply_to_user": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1568274056, "post_id": 57890842, "comment_id": 102224146, "body": "@OPV I can&#39;t understand why it&#39;s a problem..."}], "tags": [], "owner": {"reputation": 43882, "user_id": 4922375, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2f70cb2cc341b8ceda0e1f801316d85f?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Tobilko", "link": "https://stackoverflow.com/users/4922375/andrew-tobilko"}, "is_accepted": true, "score": 0, "last_activity_date": 1568211634, "last_edit_date": 1568211634, "creation_date": 1568210365, "answer_id": 57890842, "question_id": 57890374, "link": "https://stackoverflow.com/questions/57890374/which-oop-approach-to-choose/57890842#57890842", "title": "Which OOP approach to choose?", "body": "<p>I think you don't need the strategy pattern. Your algorithm is well-defined and consists of two steps: validation (1), and action execution (2).</p>\n\n<pre><code>algorithm() {\n    validate();\n    action.execute();\n}\n</code></pre>\n\n<p><code>action</code> might be a <a href=\"https://en.wikipedia.org/wiki/Command_pattern\" rel=\"nofollow noreferrer\">command</a> and there would be <code>AddCommand</code> and <code>EditCommand</code>. When the user submits the form, you let the algorithm to know what command to use.</p>\n"}], "owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 2, "closed_date": 1568210436, "accepted_answer_id": 57890842, "answer_count": 1, "score": -4, "last_activity_date": 1568211634, "creation_date": 1568208663, "last_edit_date": 1568209529, "question_id": 57890374, "link": "https://stackoverflow.com/questions/57890374/which-oop-approach-to-choose", "closed_reason": "Opinion-based", "title": "Which OOP approach to choose?", "body": "<p>There is  entity as article. User can <code>add/edit</code> it.</p>\n\n<p><code>Edit</code> and <code>Add</code> forms are similar, therefore validation for them is the same.</p>\n\n<p>When user submits form it should choose strategy, what to do: <code>add</code> or <code>update</code>.</p>\n\n<p>Which OOP approach to choose? </p>\n\n<p>Strategy pattern?</p>\n\n<p><strong>Now it looks:</strong></p>\n\n<pre><code>if(this.dialogAction === \"add\") {\n  // LOGIC ADD\n}\n\nif(this.dialogAction === \"edit\") {\n // LOGIC EDIT\n}\n</code></pre>\n\n<p>Should I create two classes <code>AddClass</code> and <code>EditClass</code>, <code>ValidationClass</code>?</p>\n\n<p>Both of them use <code>ValidationClass</code>.</p>\n\n<p>Difference only beetween actions.</p>\n\n<p>Action add uses service: <code>service.add();</code>\nEdit actions uses method from service: <code>service.edit()</code></p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "answers": [{"comments": [{"owner": {"reputation": 1886, "user_id": 8493521, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155601478282179/picture?type=large", "display_name": "Will Alexander", "link": "https://stackoverflow.com/users/8493521/will-alexander"}, "edited": false, "score": 0, "creation_date": 1568207671, "post_id": 57890049, "comment_id": 102201583, "body": "The <code>takeUntil</code> operator takes an Observable as an argument. This won&#39;t work. You want the <code>takeWhile</code> operator, and even then, this isn&#39;t quite written properly."}, {"owner": {"reputation": 1886, "user_id": 8493521, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155601478282179/picture?type=large", "display_name": "Will Alexander", "link": "https://stackoverflow.com/users/8493521/will-alexander"}, "edited": false, "score": 0, "creation_date": 1568212356, "post_id": 57890049, "comment_id": 102204264, "body": "Your original post was incorrect. I just saw you edited it to correct it."}], "tags": [], "owner": {"reputation": 2342, "user_id": 8325761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x3NZk.jpg?s=128&g=1", "display_name": "bubbles", "link": "https://stackoverflow.com/users/8325761/bubbles"}, "is_accepted": false, "score": 3, "last_activity_date": 1568207740, "last_edit_date": 1568207740, "creation_date": 1568207616, "answer_id": 57890049, "question_id": 57889901, "link": "https://stackoverflow.com/questions/57889901/abort-concat-observables-at-certain-point/57890049#57890049", "title": "Abort concat observables at certain point", "body": "<p>Use <code>takeWhile</code> operator: </p>\n\n<pre><code>concat(list)\n.pipe(takeWhile(result =&gt; result !== 3))\n.subscribe((result) =&gt; {\n\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1886, "user_id": 8493521, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155601478282179/picture?type=large", "display_name": "Will Alexander", "link": "https://stackoverflow.com/users/8493521/will-alexander"}, "is_accepted": false, "score": 4, "last_activity_date": 1568207782, "creation_date": 1568207782, "answer_id": 57890104, "question_id": 57889901, "link": "https://stackoverflow.com/questions/57889901/abort-concat-observables-at-certain-point/57890104#57890104", "title": "Abort concat observables at certain point", "body": "<p>You can use the <code>takeWhile</code> operator:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>concat(list).pipe(\n  takeWhile(res =&gt; res !== 3)\n).subscribe();\n</code></pre>\n"}], "owner": {"reputation": 747, "user_id": 2975069, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/1e6291d993662883b04eea5b4b7e0025?s=128&d=identicon&r=PG&f=1", "display_name": "Rodrigo Martinez", "link": "https://stackoverflow.com/users/2975069/rodrigo-martinez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1568207782, "creation_date": 1568207159, "question_id": 57889901, "link": "https://stackoverflow.com/questions/57889901/abort-concat-observables-at-certain-point", "title": "Abort concat observables at certain point", "body": "<p>I'm having a list of observables I'd like to call and I'm using a concat to execute them one by one, the problem is that I'd like to stop the concat execution at certain moment after receiving one result</p>\n\n<pre><code>const list = [\n    this.http.get('someurl'), \n    this.http.get('someurl'), \n    this.http.get('someurl'),\n    ...\n    ];\n\nconcat(list).subscribe((result) =&gt; {\n     if(result === 3){\n        //stop concat and return\n     }\n});\n</code></pre>\n"}, {"tags": ["typescript", "fetch", "fetch-mock"], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 5072085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d22fc1067da139d9aabb13c866b21e7e?s=128&d=identicon&r=PG&f=1", "display_name": "Taylor", "link": "https://stackoverflow.com/users/5072085/taylor"}, "is_accepted": false, "score": 0, "last_activity_date": 1603985391, "creation_date": 1603985391, "answer_id": 64594286, "question_id": 57889748, "link": "https://stackoverflow.com/questions/57889748/how-to-get-requests-body-with-fetch-mock/64594286#64594286", "title": "How to get request&#39;s body with fetch-mock", "body": "<p>I'm not sure of best patters or anything but my quick solution is just to call the toString() method that BodyInit provides so for example:</p>\n<pre><code>fetchMock.get('someUrl', (_, opts) =&gt; {\n  const body = JSON.parse(opts.body.toString())\n})\n</code></pre>\n<p>Sorry for the incomplete answer just enough to hopefully get you on your way</p>\n"}], "owner": {"reputation": 388, "user_id": 5735038, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153805409983498/picture?type=large", "display_name": "Omer Ben Haim", "link": "https://stackoverflow.com/users/5735038/omer-ben-haim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 385, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1603985391, "creation_date": 1568206686, "question_id": 57889748, "link": "https://stackoverflow.com/questions/57889748/how-to-get-requests-body-with-fetch-mock", "title": "How to get request&#39;s body with fetch-mock", "body": "<p>I have tests which use <code>fetch-mock</code> to mock a post request with parameters in the body. </p>\n\n<p>I can mock the request but i cannot find a way to return a response according to the request's body.</p>\n\n<p>Lets say i have a post request with :</p>\n\n<pre><code>const body = {flag : true} // can be either true or false\nconst configInit: RequestInit = {\n        method: \"POST\",\n        credentials: \"include\",\n        body: JSON.stringify(body)\n    };\n\nfetch(REQUEST_URL, configInit)\n</code></pre>\n\n<p>Currently my mock looks like this:</p>\n\n<pre><code>//.. some definithion of responseA and responseB \nfetchMock.post(\n                REQUEST_URL,\n                (url, opts) =&gt;  opts &amp;&amp; opts.body &amp;&amp; opts.body.flag ? responseA : responseB ,\n                { overwriteRoutes: true }\n);\n</code></pre>\n\n<p>But it says that opts.body is a 'BodyInit' object and does not have property \"flag\".</p>\n\n<p>I have found the <a href=\"http://www.wheresrhys.co.uk/fetch-mock/#api-mockingget_post\" rel=\"nofollow noreferrer\">docomentation</a> but i couldn't find anywhere the right way of doing this.\nHow can i get the parameters from the request to my mock response? \nIs this way the best practice? maybe i should separate the requests using a <code>FunctionMatcher</code> (which doesn't work for me either)? </p>\n"}, {"tags": ["angular", "typescript", "ngrx"], "comments": [{"owner": {"reputation": 1886, "user_id": 8493521, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155601478282179/picture?type=large", "display_name": "Will Alexander", "link": "https://stackoverflow.com/users/8493521/will-alexander"}, "edited": false, "score": 0, "creation_date": 1568206918, "post_id": 57889620, "comment_id": 102201135, "body": "You put the whole store state, because that&#39;s what&#39;s in the store. It&#39;s simply a question of type."}], "answers": [{"tags": [], "owner": {"reputation": 9151, "user_id": 10112124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e6297e8a8df7affbe897ed476212148?s=128&d=identicon&r=PG", "display_name": "timdeschryver", "link": "https://stackoverflow.com/users/10112124/timdeschryver"}, "is_accepted": true, "score": 1, "last_activity_date": 1568207527, "creation_date": 1568207527, "answer_id": 57890024, "question_id": 57889620, "link": "https://stackoverflow.com/questions/57889620/what-is-the-difference-when-using-feature-state-or-root-state-for-the-store-in-a/57890024#57890024", "title": "What is the difference when using feature state or root state for the store in a component?", "body": "<p>There is no difference, in both cases you'll receive the whole store state at run time. </p>\n\n<p>The only difference is your state is typed, but if you use selectors this has no benefits as the selectors are typed themselves.</p>\n\n<p>I would encourage to just use <code>Store&lt;any&gt;</code>.</p>\n"}], "owner": {"reputation": 299, "user_id": 8756895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd436d4b7ffe9d78fc25a0e9d902c6e1?s=128&d=identicon&r=PG&f=1", "display_name": "Rodrigo Silva", "link": "https://stackoverflow.com/users/8756895/rodrigo-silva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 57890024, "answer_count": 1, "score": 1, "last_activity_date": 1568207527, "creation_date": 1568206276, "question_id": 57889620, "link": "https://stackoverflow.com/questions/57889620/what-is-the-difference-when-using-feature-state-or-root-state-for-the-store-in-a", "title": "What is the difference when using feature state or root state for the store in a component?", "body": "<p>When using the store inside a component, what's the difference between the options:</p>\n\n<pre><code>A) constructor(private store: Store&lt;AppState&gt;) {}\nB) constructor(private store: Store&lt;FeatureState&gt;) {}\n</code></pre>\n\n<p>It seems like there is no difference between these two options. No matter if I'm dispatching actions for either states or even selecting AppState or FeatureState. It works no matter what. The question is, what state should I put inside <code>&lt;&gt;</code>?</p>\n"}, {"tags": ["angular", "typescript", "angular-routing"], "comments": [{"owner": {"reputation": 1250, "user_id": 5706900, "user_type": "registered", "profile_image": "https://graph.facebook.com/987906877914619/picture?type=large", "display_name": "Siddharth Pal", "link": "https://stackoverflow.com/users/5706900/siddharth-pal"}, "edited": false, "score": 0, "creation_date": 1568206382, "post_id": 57889525, "comment_id": 102200798, "body": "We can use <a href=\"https://angular.io/guide/router#milestone-5-route-guards\" rel=\"nofollow noreferrer\">RouteGuards</a> provided by angular."}, {"owner": {"reputation": 18716, "user_id": 3669981, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/WWWHe.png?s=128&g=1", "display_name": "TheUnreal", "link": "https://stackoverflow.com/users/3669981/theunreal"}, "edited": false, "score": 0, "creation_date": 1568206596, "post_id": 57889525, "comment_id": 102200943, "body": "Why would you even create different routes for each form step?"}], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 8380823, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1aiYUzgHj3A/AAAAAAAAAAI/AAAAAAAAAxA/w9ll24jg2wg/photo.jpg?sz=128", "display_name": "Grei Muka", "link": "https://stackoverflow.com/users/8380823/grei-muka"}, "is_accepted": false, "score": 4, "last_activity_date": 1568207029, "last_edit_date": 1568207029, "creation_date": 1568206658, "answer_id": 57889741, "question_id": 57889525, "link": "https://stackoverflow.com/questions/57889525/is-there-a-way-to-block-paths-in-angular/57889741#57889741", "title": "Is there a way to block paths in angular?", "body": "<p>To prevent a user for accessing a component through routing you can use <strong>guards</strong>. Guards are as services that return a true a false value base a condition, if the condition is succeeds, the user can access the component. </p>\n\n<p>This is the guard in the router :</p>\n\n<pre><code>{\n  path: 'cart',\n  component : CartComponent,\n  canActivate : [AuthGuard, NoAdminGuard]\n}\n</code></pre>\n\n<p>This is the guard itself :</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { CanActivate, Router } from '@angular/router';\nimport { AuthService } from '../service/auth.service';\n@Injectable({\n  providedIn: 'root' \n})\nexport class AuthGuard implements CanActivate {\n\n\n  constructor( private _authService : AuthService,\n      private _router : Router){}\n\n  canActivate () : boolean{\n    if(this._authService.loggedIn()){\n      console.log(localStorage.getItem('token'))\n      return true\n    } else{\n      this._router.navigate(['/login'])\n      return false\n    }\n  }  \n}\n</code></pre>\n\n<p>You can create a guard with:</p>\n\n<pre><code>ng generate guard &lt;name&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 405, "user_id": 9902269, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6ZmTZssvSsg/AAAAAAAAAAI/AAAAAAAADLU/7Uy5GEVFrHU/photo.jpg?sz=128", "display_name": "Miguel Pinto", "link": "https://stackoverflow.com/users/9902269/miguel-pinto"}, "is_accepted": false, "score": 0, "last_activity_date": 1568207223, "creation_date": 1568207223, "answer_id": 57889920, "question_id": 57889525, "link": "https://stackoverflow.com/questions/57889525/is-there-a-way-to-block-paths-in-angular/57889920#57889920", "title": "Is there a way to block paths in angular?", "body": "<p>You can use UrlHandlingStrategy</p>\n\n<p>in your app.module you can import</p>\n\n<pre><code>import { UrlHandlingStrategy, UrlTree} from '@angular/router';\n</code></pre>\n\n<p>and</p>\n\n<pre><code>     export class CustomUrlHandlingStrategy implements UrlHandlingStrategy {\n          shouldProcessUrl(url: UrlTree) {\n          ....\n          // your code\n          }\n\n           extract(url: UrlTree) {\n             return url;\n          }\n          merge(url: UrlTree, whole: UrlTree) { return url; }\n</code></pre>\n\n<p>Then change your</p>\n\n<pre><code> @NgModule({\n    declarations: [ ...],\n...\n    providers: [...\n       { provide: UrlHandlingStrategy, useClass: CustomUrlHandlingStrategy }\n    ]\n});\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 12053031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9566581cca60c1212b55efac5f6c4f7?s=128&d=identicon&r=PG&f=1", "display_name": "grbi14", "link": "https://stackoverflow.com/users/12053031/grbi14"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 401, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1568208871, "creation_date": 1568205981, "last_edit_date": 1568208871, "question_id": 57889525, "link": "https://stackoverflow.com/questions/57889525/is-there-a-way-to-block-paths-in-angular", "title": "Is there a way to block paths in angular?", "body": "<p>I am pretty new to angular and web programming in general and I am trying to create a wizard-like form, including 5 steps. I set up a routing for the 5 steps and my goal is to prevent the user jumping to another step via the url. He should only use the two \"next\" and \"back\" buttons provided by me and the navigation should be done only via these buttons. I know there are also ways to do this without the routing, but I figured it was a good practice to work with routes.</p>\n\n<p>These are my routes:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const APP_ROUTES: Routes = [\n    { path: '', redirectTo: '/1', pathMatch: 'full' },\n    { path: '1', component: FormContainer1Component },\n    { path: '2', component: FormContainer2Component },\n    { path: '3', component: FormContainer3Component },\n    { path: '4', component: FormContainer4Component },\n    { path: '5', component: FormContainer5Component }\n];\n</code></pre>\n"}, {"tags": ["typescript", "automated-tests", "e2e-testing", "testcafe", "typedoc"], "answers": [{"tags": [], "owner": {"reputation": 721, "user_id": 11818061, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Wfsn7LY2leo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfSbM9fNq1wpmvsQJCHtTiS8Vv7Lw/photo.jpg?sz=128", "display_name": "Alexey Lindberg", "link": "https://stackoverflow.com/users/11818061/alexey-lindberg"}, "is_accepted": false, "score": 1, "last_activity_date": 1568387268, "creation_date": 1568387268, "answer_id": 57926130, "question_id": 57889483, "link": "https://stackoverflow.com/questions/57889483/how-can-i-write-doc-comments-for-test-and-make-a-report-with-typedoc/57926130#57926130", "title": "How can i write doc comments for test and make a report with typedoc?", "body": "<p>I can see a similar question in the TypeDoc repository: <a href=\"https://github.com/TypeStrong/typedoc/issues/821\" rel=\"nofollow noreferrer\">https://github.com/TypeStrong/typedoc/issues/821</a>. TypeDoc creates documentation only for TypeScript declarations, e.g. for namespaces, classes, methods, properties, functions, variables, constants. TestCafe's tests are not declarations, they are just <code>test</code> function calls, so doc comments above them are ignored. </p>\n\n<p>You can declare a test body as a function and apply a doc comment to it, for example:</p>\n\n<pre><code>/**\n* test license02\n* @category Test\n* @param t TestCafe test controller\n*/\nasync function test_license02 (t: TestController): Promise&lt;void&gt; {\n    // ...\n}\ntest('LICENSE-02', test_license02);\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 9945689, "user_type": "registered", "profile_image": "https://graph.facebook.com/2128786030731335/picture?type=large", "display_name": "Ga&#235;tan Fauconnier", "link": "https://stackoverflow.com/users/9945689/ga%c3%abtan-fauconnier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1576672909, "creation_date": 1568205822, "last_edit_date": 1576672909, "question_id": 57889483, "link": "https://stackoverflow.com/questions/57889483/how-can-i-write-doc-comments-for-test-and-make-a-report-with-typedoc", "title": "How can i write doc comments for test and make a report with typedoc?", "body": "<p>I need to write doc comments for my test and then generate the documentation in a HTML file. I successfully generate the documentation with typedoc but only for my class and method and not for my test. My question is: how can I write doc comments for my test? </p>\n\n<p>For my test I use testcafe. I have always successfully generated the report.</p>\n\n<p>/** \n* test license02  */ &lt;-- this block comment is not generated</p>\n\n<p>test('LICENSE-02', async t => {</p>\n\n<p>...</p>\n\n<p>});</p>\n\n<p>I need to generate the doc comment for my test but for now only the method and class are documented.</p>\n\n<p>Thanks for your help !</p>\n"}, {"tags": ["json", "typescript", "visual-studio-code", "tsconfig"], "comments": [{"owner": {"reputation": 425, "user_id": 7506905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d4zdc.jpg?s=128&g=1", "display_name": "mayakwd", "link": "https://stackoverflow.com/users/7506905/mayakwd"}, "edited": false, "score": 0, "creation_date": 1568206105, "post_id": 57889460, "comment_id": 102200646, "body": "Is your json file at the same folder-level as main.ts? If it&#39;s not - import path should be relative to main.ts"}, {"owner": {"reputation": 233, "user_id": 3615494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PYA2j.jpg?s=128&g=1", "display_name": "Nihar", "link": "https://stackoverflow.com/users/3615494/nihar"}, "reply_to_user": {"reputation": 425, "user_id": 7506905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d4zdc.jpg?s=128&g=1", "display_name": "mayakwd", "link": "https://stackoverflow.com/users/7506905/mayakwd"}, "edited": false, "score": 0, "creation_date": 1568206146, "post_id": 57889460, "comment_id": 102200671, "body": "Yes, all the files are in the same folder."}, {"owner": {"reputation": 425, "user_id": 7506905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d4zdc.jpg?s=128&g=1", "display_name": "mayakwd", "link": "https://stackoverflow.com/users/7506905/mayakwd"}, "edited": false, "score": 0, "creation_date": 1568206419, "post_id": 57889460, "comment_id": 102200824, "body": "Then if you using VS Code - just restart it, should help."}, {"owner": {"reputation": 233, "user_id": 3615494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PYA2j.jpg?s=128&g=1", "display_name": "Nihar", "link": "https://stackoverflow.com/users/3615494/nihar"}, "reply_to_user": {"reputation": 425, "user_id": 7506905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d4zdc.jpg?s=128&g=1", "display_name": "mayakwd", "link": "https://stackoverflow.com/users/7506905/mayakwd"}, "edited": false, "score": 0, "creation_date": 1568206867, "post_id": 57889460, "comment_id": 102201099, "body": "Tried that, I restarted my pc too, but didn&#39;t help! :("}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9753554, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ueDYUWmoDOw/AAAAAAAAAAI/AAAAAAAAAAc/rgnt6M_zbJk/photo.jpg?sz=128", "display_name": "Alexey Iskhakov", "link": "https://stackoverflow.com/users/9753554/alexey-iskhakov"}, "reply_to_user": {"reputation": 233, "user_id": 3615494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PYA2j.jpg?s=128&g=1", "display_name": "Nihar", "link": "https://stackoverflow.com/users/3615494/nihar"}, "edited": false, "score": 0, "creation_date": 1568213722, "post_id": 57891266, "comment_id": 102205065, "body": "Make sure that you have all the files (including tsconfig) in the same directory AND that VSCode is opened in that directory ONLY."}, {"owner": {"reputation": 233, "user_id": 3615494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PYA2j.jpg?s=128&g=1", "display_name": "Nihar", "link": "https://stackoverflow.com/users/3615494/nihar"}, "edited": false, "score": 0, "creation_date": 1568213807, "post_id": 57891266, "comment_id": 102205104, "body": "Yes. That is how I am trying but no luck :("}, {"owner": {"reputation": 1, "user_id": 9753554, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ueDYUWmoDOw/AAAAAAAAAAI/AAAAAAAAAAc/rgnt6M_zbJk/photo.jpg?sz=128", "display_name": "Alexey Iskhakov", "link": "https://stackoverflow.com/users/9753554/alexey-iskhakov"}, "reply_to_user": {"reputation": 233, "user_id": 3615494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PYA2j.jpg?s=128&g=1", "display_name": "Nihar", "link": "https://stackoverflow.com/users/3615494/nihar"}, "edited": false, "score": 0, "creation_date": 1568273315, "post_id": 57891266, "comment_id": 102223746, "body": "This leaves one option left...  How are you running TypeScript?"}], "tags": [], "owner": {"reputation": 1, "user_id": 9753554, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ueDYUWmoDOw/AAAAAAAAAAI/AAAAAAAAAAc/rgnt6M_zbJk/photo.jpg?sz=128", "display_name": "Alexey Iskhakov", "link": "https://stackoverflow.com/users/9753554/alexey-iskhakov"}, "is_accepted": false, "score": 0, "last_activity_date": 1568211665, "creation_date": 1568211665, "answer_id": 57891266, "question_id": 57889460, "link": "https://stackoverflow.com/questions/57889460/import-json-file-in-typescript-error-in-terminal/57891266#57891266", "title": "Import Json file in Typescript : Error in terminal", "body": "<p>Given that you use VSCode and <strong>all the files</strong> are in the <strong>same directory</strong> and VSCode is opened from that directory <strong>directly</strong>, then your tsconfig works perfectly (for TS 3.6 at least).</p>\n"}, {"comments": [{"owner": {"reputation": 233, "user_id": 3615494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PYA2j.jpg?s=128&g=1", "display_name": "Nihar", "link": "https://stackoverflow.com/users/3615494/nihar"}, "edited": false, "score": 0, "creation_date": 1568212540, "post_id": 57891411, "comment_id": 102204381, "body": "I have already tried with type definition too. With the file extension &quot;<i>.d.ts&quot; and &quot;</i>.dt.ts&quot;. It&#39;s giving the same error!"}, {"owner": {"reputation": 246, "user_id": 11693179, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RkLPhb9zORY/AAAAAAAAAAI/AAAAAAAABEM/0XrZmYtsgd8/photo.jpg?sz=128", "display_name": "yson", "link": "https://stackoverflow.com/users/11693179/yson"}, "reply_to_user": {"reputation": 233, "user_id": 3615494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PYA2j.jpg?s=128&g=1", "display_name": "Nihar", "link": "https://stackoverflow.com/users/3615494/nihar"}, "edited": false, "score": 0, "creation_date": 1568213282, "post_id": 57891411, "comment_id": 102204816, "body": "This test is done with (sublime text 3), the editor only took the changes when opening the project again"}, {"owner": {"reputation": 233, "user_id": 3615494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PYA2j.jpg?s=128&g=1", "display_name": "Nihar", "link": "https://stackoverflow.com/users/3615494/nihar"}, "edited": false, "score": 0, "creation_date": 1568219539, "post_id": 57891411, "comment_id": 102208169, "body": "I have just tried with sublime text 3, but it is also giving the same error!"}, {"owner": {"reputation": 246, "user_id": 11693179, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RkLPhb9zORY/AAAAAAAAAAI/AAAAAAAABEM/0XrZmYtsgd8/photo.jpg?sz=128", "display_name": "yson", "link": "https://stackoverflow.com/users/11693179/yson"}, "reply_to_user": {"reputation": 233, "user_id": 3615494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PYA2j.jpg?s=128&g=1", "display_name": "Nihar", "link": "https://stackoverflow.com/users/3615494/nihar"}, "edited": false, "score": 0, "creation_date": 1568301011, "post_id": 57891411, "comment_id": 102239184, "body": "Try to configure a new TypeScript project (tsc --init). Add &quot;resolveJsonModule&quot; and the module for json files (do not modify anything else). Try translating the code (tsc). In case of generating JavaScript without errors, but follow the alert, check the text editor settings"}], "tags": [], "owner": {"reputation": 246, "user_id": 11693179, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RkLPhb9zORY/AAAAAAAAAAI/AAAAAAAABEM/0XrZmYtsgd8/photo.jpg?sz=128", "display_name": "yson", "link": "https://stackoverflow.com/users/11693179/yson"}, "is_accepted": false, "score": 2, "last_activity_date": 1568212139, "creation_date": 1568212139, "answer_id": 57891411, "question_id": 57889460, "link": "https://stackoverflow.com/questions/57889460/import-json-file-in-typescript-error-in-terminal/57891411#57891411", "title": "Import Json file in Typescript : Error in terminal", "body": "<p>try using a module. Review this documentation <a href=\"https://www.typescriptlang.org/docs/handbook/namespaces-and-modules.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/namespaces-and-modules.html</a></p>\n\n<p>// index.ts</p>\n\n<pre><code>import file from \"./file.json\";\n\nconsole.log(file);\nconsole.log(file.name);\n</code></pre>\n\n<p>// json.dt.ts</p>\n\n<pre><code>declare module \"*.json\" {\n  const file: any;\n  export default file;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 233, "user_id": 3615494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PYA2j.jpg?s=128&g=1", "display_name": "Nihar", "link": "https://stackoverflow.com/users/3615494/nihar"}, "edited": false, "score": 0, "creation_date": 1568214505, "post_id": 57891887, "comment_id": 102205515, "body": "I have just modified the tsconfig, restarted the editor, still it&#39;s not working!! Is there anything that I&#39;m missing?!"}, {"owner": {"reputation": 233, "user_id": 3615494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PYA2j.jpg?s=128&g=1", "display_name": "Nihar", "link": "https://stackoverflow.com/users/3615494/nihar"}, "edited": false, "score": 0, "creation_date": 1568215859, "post_id": 57891887, "comment_id": 102206276, "body": "Can you please tell me which editor and which version of typescript are you using?"}, {"owner": {"reputation": 5276, "user_id": 3776535, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c960c9d125c661738fe7b61ff41b740b?s=128&d=identicon&r=PG", "display_name": "Burt_Harris", "link": "https://stackoverflow.com/users/3776535/burt-harris"}, "reply_to_user": {"reputation": 233, "user_id": 3615494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PYA2j.jpg?s=128&g=1", "display_name": "Nihar", "link": "https://stackoverflow.com/users/3615494/nihar"}, "edited": false, "score": 0, "creation_date": 1568231340, "post_id": 57891887, "comment_id": 102213098, "body": "I&#39;m using VSCode (v1.37.1) and typescript 3.5.3 (also tested w/ typescript 3.6.3 ).   How about you?  What error do you get?   Are you only getting a message in the editor?"}, {"owner": {"reputation": 5276, "user_id": 3776535, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c960c9d125c661738fe7b61ff41b740b?s=128&d=identicon&r=PG", "display_name": "Burt_Harris", "link": "https://stackoverflow.com/users/3776535/burt-harris"}, "reply_to_user": {"reputation": 233, "user_id": 3615494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PYA2j.jpg?s=128&g=1", "display_name": "Nihar", "link": "https://stackoverflow.com/users/3615494/nihar"}, "edited": false, "score": 0, "creation_date": 1568231504, "post_id": 57891887, "comment_id": 102213172, "body": "If you package everything it up as a repository and post a link, it would be easier to figure out what&#39;s going ont."}], "tags": [], "owner": {"reputation": 5276, "user_id": 3776535, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c960c9d125c661738fe7b61ff41b740b?s=128&d=identicon&r=PG", "display_name": "Burt_Harris", "link": "https://stackoverflow.com/users/3776535/burt-harris"}, "is_accepted": false, "score": 0, "last_activity_date": 1568213912, "creation_date": 1568213912, "answer_id": 57891887, "question_id": 57889460, "link": "https://stackoverflow.com/questions/57889460/import-json-file-in-typescript-error-in-terminal/57891887#57891887", "title": "Import Json file in Typescript : Error in terminal", "body": "<p>Nihar,</p>\n\n<p>I was able to reproduce the problem you mention.    I was also able to resolve the problem using the following <strong>tsconfig.json</strong>:</p>\n\n<pre><code>{\n\"compilerOptions\": {\n  /* Basic Options */\n  \"target\": \"es5\",\n  \"module\": \"commonjs\",\n  \"strict\": true,\n  \"esModuleInterop\": true,\n  \"resolveJsonModule\": true\n}, \n\"files\": [\"main.ts\"]\n</code></pre>\n\n<p>}</p>\n\n<p>Of course, the added \"files\" section assumes your main file is named \"main.ts\".   Frankly I'm not sure why this works and your original does not, but when I use a <strong>tsconfig.json</strong> file, I try to put everything typescript needs to know in that one place.</p>\n"}], "owner": {"reputation": 233, "user_id": 3615494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PYA2j.jpg?s=128&g=1", "display_name": "Nihar", "link": "https://stackoverflow.com/users/3615494/nihar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1885, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1568222707, "creation_date": 1568205734, "last_edit_date": 1568222707, "question_id": 57889460, "link": "https://stackoverflow.com/questions/57889460/import-json-file-in-typescript-error-in-terminal", "title": "Import Json file in Typescript : Error in terminal", "body": "<p>I am new in typescript and I have 2 questions.</p>\n\n<p>a. I want to import a simple JSON file in my typescript (main.ts) using the following code in visual studio code (3.6.2) editor:</p>\n\n<pre><code>import test from \"./test.json\";\nconsole.log(test.name);\n</code></pre>\n\n<p>I also tried with <code>import * as test from \"./test.json\";</code></p>\n\n<p>While the JSON file (test.json) is the following:</p>\n\n<pre><code>{\"name\": \"testing\",\n\"age\":25}\n</code></pre>\n\n<p>However, when I am typing \"test.\", typescript is giving the options for \"name\", \"age\" as the properties.</p>\n\n<p>And the tsconfig.json file is following:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\", \n    \"module\": \"commonjs\",                     \n    \"strict\": true, \n    \"moduleResolution\": \"node\",               \n    \"resolveJsonModule\": true,\n    \"esModuleInterop\": true\n  }\n}\n</code></pre>\n\n<p>This code is throwing the following error:</p>\n\n<pre><code>Cannot find module './test.json'. Consider using '--resolveJsonModule' to import module with '.json' extension\n</code></pre>\n\n<p>Since the type definition is for old versions, I haven't used that. My typescript version is 3.6.3. The above mentioned 3 files are inside the same folder. </p>\n\n<pre><code>   -testfolder\n     - main.ts\n     - tsconfig.json\n     - test.json\n</code></pre>\n\n<p>Though there are some other questions similar to this, but I couldn't find the problem in my code! I have also tested that with submile text 3 but it's also giving the same error!</p>\n\n<p>b. If I want to parse a json data from a file where the file extension is different (not .json), how should I do that?</p>\n\n<p>Thank you in advance for your time.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-http-interceptors"], "answers": [{"comments": [{"owner": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "edited": false, "score": 0, "creation_date": 1568205726, "post_id": 57889346, "comment_id": 102200438, "body": "should i put this interceptor to my every module&#39;s providers array?"}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "reply_to_user": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "edited": false, "score": 0, "creation_date": 1568205785, "post_id": 57889346, "comment_id": 102200466, "body": "No, it is absolutely fine if you put it only in app.module"}, {"owner": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "edited": false, "score": 0, "creation_date": 1568205853, "post_id": 57889346, "comment_id": 102200503, "body": "and i want that if there is not token in local storage so in that case also user sould be redirected to login. So how can i achieve that? Additionally look into your <code>isTokenExpired</code> method in session-service.ts you are checking the same condition in both ifs."}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "reply_to_user": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "edited": false, "score": 0, "creation_date": 1568205921, "post_id": 57889346, "comment_id": 102200550, "body": "<code>if (token == null &amp;&amp; this.sessionService.isTokenExpired())</code>"}, {"owner": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "edited": false, "score": 0, "creation_date": 1568206092, "post_id": 57889346, "comment_id": 102200637, "body": "look into your <code>isTokenExpired</code> function in <code>session-service.ts</code> , you are checkin same condiiton i.e <code>if (!token)</code> in both ifs."}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "reply_to_user": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "edited": false, "score": 0, "creation_date": 1568206365, "post_id": 57889346, "comment_id": 102200787, "body": "I provided you the idea, please apply the logic as per your requirement. You donot need to paste my code, just take the idea and apply it"}, {"owner": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "edited": false, "score": 0, "creation_date": 1568206455, "post_id": 57889346, "comment_id": 102200853, "body": "In your code you used <code>jwt_decode</code>. So is there any angular library to decode jwt token?"}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "reply_to_user": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "edited": false, "score": 0, "creation_date": 1568206469, "post_id": 57889346, "comment_id": 102200860, "body": "I have modified it.   :)"}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "reply_to_user": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "edited": false, "score": 0, "creation_date": 1568206519, "post_id": 57889346, "comment_id": 102200902, "body": "Yes, you should use it, it is very easy to work with jwt"}, {"owner": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "edited": false, "score": 1, "creation_date": 1568206605, "post_id": 57889346, "comment_id": 102200951, "body": "thanx, Let me try your idea. I am implementing it right now."}, {"owner": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "reply_to_user": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "edited": false, "score": 0, "creation_date": 1568358882, "post_id": 57889346, "comment_id": 102255830, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/199403/discussion-between-fahad-hassan-subzwari-and-adrita-sharma\">continue this discussion in chat</a>."}, {"owner": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "edited": false, "score": 0, "creation_date": 1568359133, "post_id": 57889346, "comment_id": 102255935, "body": "yes but not working. It&#39;s not coming inside interceptor on token expiry. I put a console.log in interceptor"}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "reply_to_user": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "edited": false, "score": 0, "creation_date": 1568359582, "post_id": 57889346, "comment_id": 102256133, "body": "It should... If possible share your github repo, I will look into it later"}, {"owner": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "edited": false, "score": 0, "creation_date": 1568360582, "post_id": 57889346, "comment_id": 102256556, "body": "yes it&#39;s working now. i was ussing old <code>http</code> module in https services that&#39;s why interceptor wasn&#39;t intercepting http req. Now it&#39;s calling interceptor but now it&#39;s giving an error on logging in like this <code>InvalidTokenError {message: &quot;Invalid token specified&quot;} message: &quot;Invalid token specified&quot;</code>"}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "reply_to_user": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "edited": false, "score": 0, "creation_date": 1568374693, "post_id": 57889346, "comment_id": 102263502, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/199424/discussion-between-adrita-sharma-and-fahad-hassan-subzwari\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": false, "score": 1, "last_activity_date": 1568206430, "last_edit_date": 1568206430, "creation_date": 1568205359, "answer_id": 57889346, "question_id": 57889221, "link": "https://stackoverflow.com/questions/57889221/interceptor-throws-an-error-after-sign-in-to-angular7-app/57889346#57889346", "title": "Interceptor throws an error after sign in to angular7 app?", "body": "<p>Since every API call passes through the interceptor, you can check if the token is still valid, proceed with the API call</p>\n\n<p>If the token expired, redirect to login and prevent any further API call.</p>\n\n<p>Try like this:</p>\n\n<pre><code>intercept(req, next) {\n    var token = this.sessionService.getToken();\n    if (token == null &amp;&amp; this.sessionService.isTokenExpired()) {\n      this.sessionService.logOut()\n      toastr.warning(\"Session Timed Out! Please Login\");\n      this.router.navigate(['/login'])\n      return throwError(\"Session Timed Out\")\n    });\n} else {\n\n  return next.handle(req).catch(err =&gt; {\n    console.log(err);\n    if (err.status === 405) {\n      console.log('in if')\n      localStorage.clear();\n      this.appService.navigateToView(Constants.VIEW_ROUTES.LOGIN)\n      this.localCache.setTokeExpireErrorMsg('Session has expired, please login agian')\n    }\n    return Observable.throw(err);\n  }\n}\n</code></pre>\n\n<p>session-service.ts</p>\n\n<pre><code>  getToken(): string {\n    return localStorage.getItem('userToken');\n  }\n\n  getTokenExpirationDate(token: string): Date {\n    token = this.getToken()\n    const decoded = jwt_decode(token);\n\n    if (decoded.exp === undefined) return null;\n\n    const date = new Date(0);\n    date.setUTCSeconds(decoded.exp);\n    return date;\n  }\n\n  isTokenExpired(token?: string): boolean {\n    if (!token) token = this.getToken();\n    if (token) return true;\n\n    const date = this.getTokenExpirationDate(token);\n    if (date === undefined) return false;\n    return !(date.valueOf() &gt; new Date().valueOf());\n  }\n\n  logOut(loginType?: string) {\n    localStorage.removeItem('isLoggedin');        \n  }\n</code></pre>\n"}], "owner": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1568374317, "creation_date": 1568205014, "last_edit_date": 1568374317, "question_id": 57889221, "link": "https://stackoverflow.com/questions/57889221/interceptor-throws-an-error-after-sign-in-to-angular7-app", "title": "Interceptor throws an error after sign in to angular7 app?", "body": "<p>I have an <code>angular7</code> application in which there are multiple modules and there services too. I have <code>node.js</code> back-end and <code>jwt</code> authentication mechanism. When token expires on client side , so back-end sends 405 error response to client. </p>\n\n<p>Now on client side i implemented <code>interceptor</code> to get that <code>405</code> error and redirect to login. Here is my <code>interceptor</code> code</p>\n\n<pre><code>intercept(request: HttpRequest&lt;any&gt;, next): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n    console.log(this.localCache.getToken(), 'token')\n    return next.handle(request).pipe(\n        tap(event =&gt; {\n            if (event instanceof HttpResponse) {\n                console.log('succeed');\n            }\n        }, error =&gt; {\n            if (error.status == 405) {\n                this.appService.navigateToView(Constants.VIEW_ROUTES.LOGIN);\n                this.localCache.setTokeExpireErrorMsg('Session Expired');\n            }\n            return Observable.throw(error);\n        })\n    )\n}\n</code></pre>\n\n<p>But after logging in, on my dashboard there are 3 apis are calling on load. But when user comes to dashboard after login so on dashboard all apis are not getting token even in my local storage token is present and also intercept is throwing an error like this</p>\n\n<p><a href=\"https://i.stack.imgur.com/9hOCn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9hOCn.png\" alt=\"Intercept Error\"></a></p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 123501, "user_id": 1903366, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XkUeD.png?s=128&g=1", "display_name": "lukasgeiter", "link": "https://stackoverflow.com/users/1903366/lukasgeiter"}, "is_accepted": true, "score": 2, "last_activity_date": 1568211009, "creation_date": 1568211009, "answer_id": 57891048, "question_id": 57889154, "link": "https://stackoverflow.com/questions/57889154/type-guarding-a-generic-and-defining-it-as-optional/57891048#57891048", "title": "Type guarding a generic and defining it as optional", "body": "<p>I think constraining <code>C</code> as <code>Converters | undefined</code> and <code>undefined</code> as the default value should work. I would also suggest to change the member variable to be of type <code>C</code>, now that it is properly constrained:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class Service&lt;C extends Converters | undefined = undefined&gt; {\n   private converters?: C;\n\n   constructor(converters?: C) {\n     this.converters = converters;\n   }\n   //...\n}\n</code></pre>\n\n<p>The key here is that by setting the default to <code>undefined</code>, creating a service without converters will result in the type: <code>Service&lt;undefined&gt;</code> instead of <code>Service&lt;Record&lt;...&gt; | undefined&gt;</code></p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/JYOwLgpgTgZghgYwgAgEIFcY2sg3gWAChkTkwB7AZTClAHMAuZACgEpkBeAPmQGcb6RUsigQ4AEwCS4ABxNm5LLwhgmIdAFsARtHbdk67dCIBfIkVCRYiFAGFyIAG7QrAHgAqnNJmxQeBYmR0dGBxJn5aEDoAbiFkcQgEcgSAfnlHOAAbdAgmDCxdTh53WMCIECTU9Kycpnc9HnzfUrNCIjAATwAHOwdnKCteLwAlRPIocVcI+gAaZHsnF2hXOBAOri5S9u6UADk4DQhXWx4OeeQIAA9IEHEhhf7B5BTkAGsIDsVz8IEorcIrl1xmAyDtkAA1GpHWxzXYXa7lO7IfaHY4bLy2eE3JEPJZQXhxF64gbQXiQ7LQ2FcOJ5HzQf6A4GgnrzPp4slQ1xxTFXbH3Nkk-FzOJw3mIoYo6HUwineYAbV2AF0seLWYtBa5QL4ITwXuDkGoIP1-kQEJk4LwhpRoI5gEhjirbvz1U8AD5BW4QGCgCDiLzoT3ekC+-xxLq0DKQZBJF2ktLzf4kGMRdAIChQZgxx5xpi2dgBYRgAAWwF4ADos+yvJXBbxSiRWmH0FpMnaRGJJqKEU7kQcpVxmCA+0xdqwmOScscqXg4sJgDAWMXSxWBYN87PhKRi1ByAB3AwQfcAUSgO4zACIQOQQcANF1MhBDuBfchQGQS0N73AOnQdwHxOerD1puJgXJkygzoEm5bkWO77sGx6nuMzCXter53g+T6QH6b5Lp+5o-n+tyAcBwitA2pjmIQyYgjWTxnAWyAaKsmCIGA6CiFATCMSQwShEw54AExwIJACc54zBuCSVLkLBaHSXHeAUUANMg8nKWWFDUJEdBsHEJiSYEGjJBAmTcRufFhMgQkiQALBJUljAk8jqb4tLKaprnQGWogSNIYAyMwAAMrD6ZRbTUQ4-B8DadooGcCHINaUC2kgbClDRMUpXFADqwDFsSpJeIlyWpRAmarqSoURZlGQUl4yjZUgPkdihFriBIJGmlFIJ1TkABiO4aMSVgNbFSB5QVAqki1Egocx6jwGmHHQF1kUgNFfUQIJg3kMNlVQGNTUQJNRaFfis3iPNJmZCRQA\" rel=\"nofollow noreferrer\">Playground</a></p>\n"}, {"comments": [{"owner": {"reputation": 7180, "user_id": 1183252, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/08046137a1e06d6dcc0bfa9c762a0f9c?s=128&d=identicon&r=PG", "display_name": "Lukas", "link": "https://stackoverflow.com/users/1183252/lukas"}, "edited": false, "score": 0, "creation_date": 1568274291, "post_id": 57891431, "comment_id": 102224263, "body": "Hey @Alexey, thank you, But if you do it that way, you will get any as a return type when no converters have been passed to the service"}], "tags": [], "owner": {"reputation": 1, "user_id": 9753554, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ueDYUWmoDOw/AAAAAAAAAAI/AAAAAAAAAAc/rgnt6M_zbJk/photo.jpg?sz=128", "display_name": "Alexey Iskhakov", "link": "https://stackoverflow.com/users/9753554/alexey-iskhakov"}, "is_accepted": false, "score": 0, "last_activity_date": 1568212234, "creation_date": 1568212234, "answer_id": 57891431, "question_id": 57889154, "link": "https://stackoverflow.com/questions/57889154/type-guarding-a-generic-and-defining-it-as-optional/57891431#57891431", "title": "Type guarding a generic and defining it as optional", "body": "<p><a href=\"https://www.typescriptlang.org/play/#code/JYOwLgpgTgZghgYwgAgEIFcY2sg3gWAChkTkwB7AZTClAHMAuZACgEpkBeAPmQGcb6RUsigQ4AEwCS4ABxNm5LLwhgmIdAFsARtHbdk67dCIBfIkVCRYiFAGFyIAG7QrAHgAqnNJmxQeBYmR0dGBxJn5aEDoAbiFkcQgEcgSAfnlHOAAbdAgmDCxdTh53WMCIECTU9Kycpnc9HnzfUrNCIjAATwAHOwdnKCteLwAlRPIocVcI+gAaZHsnF2hXOBAOri5SogRMuF4hymhHYCRXW2QIAA9IEHEhhf7B-ziu2gzIZCTFgeheNPmtoEvhF0AgKFBmF9Hr9-rZ2AFhGAABbAXgAOihSygQw4nz6WN4pRIrRe6C0mROIjEkwAchdruU7sgANYQDqKeZcZggOAaXLIGnwuLCYAwFjI1EY-E-bFCwLCEiiMDoKAgMgo9GYmW8ADaPL5AF0iQqTBdMso8MKFcioOQAO4GCAOgCiUFtEIARCByGBkMANF1MhA+eAIOI-WqJUNA3AOnRbehbh7WMbhK1iaZzIRgb6tYMvAjkBpVphEMrRFAmIWSMFQkwPQAmOANgCcHpmVoSlX5zC0PmgeX7UAayD7BSgaIo1EidDYcRMHcCGmSEEyVattbCyEbzYALO3O2MEvIx75B+OR6foGjRBJpGAZMwAAyseeZtrZhz8PhHE4oXEgE6yCHFAxxIGwpQ5j+oF-gA6sAyIPNAvxeIBDogWBECQtKgyvh+UEZNkEAAKogMy3p2mquLKDBSA3tSzAens4gSMmkFfr6hE5AAYraGhITKXg0Zh8GIdKvz0RIjHFuo8Bgiq0BsdsHHIFxEANrx5D8ThODUb+SCiUiAkSbe4jSSumRsUAA\" rel=\"nofollow noreferrer\">Here you go</a>.</p>\n\n<p>The initial problems in the playground were:\n - Overcomplication.\n - <code>converters</code> property type.</p>\n\n<p>As <strong>lukasgeiter</strong> noted, <code>converters</code> should be of type C.\nHowever, the default generic value of <code>undefined</code> is not necessary.\nIt works perfectly fine like this too:</p>\n\n<pre><code>...\nclass Service&lt;C extends Converters&gt; {\n  private converters?: C;\n\n  constructor(converters?: C) {\n    this.converters = converters;\n  }\n\n  public read&lt;N extends keyof C&gt;(name: N): C[N] {\n      ...\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 7180, "user_id": 1183252, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/08046137a1e06d6dcc0bfa9c762a0f9c?s=128&d=identicon&r=PG", "display_name": "Lukas", "link": "https://stackoverflow.com/users/1183252/lukas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 57891048, "answer_count": 2, "score": 0, "last_activity_date": 1568212234, "creation_date": 1568204834, "question_id": 57889154, "link": "https://stackoverflow.com/questions/57889154/type-guarding-a-generic-and-defining-it-as-optional", "title": "Type guarding a generic and defining it as optional", "body": "<p>I have a class that accepts a generic</p>\n\n<pre><code>interface Converter&lt;T = Buffer&gt; {\n  uuid: string;\n  decode?: (value: Buffer) =&gt; T;\n  encode?: (value: T) =&gt; Buffer;\n}\n\ntype Converters = Record&lt;string, Converter&lt;any&gt;&gt;;\n\nexport default class Service&lt;C extends Converters&gt; {\n  private converters?: Converters;\n\n  constructor(converters?: C) {\n    this.converters = converters;\n  }\n}\n</code></pre>\n\n<p>The idea is that using the constructor, any type of <code>Converter&lt;T&gt;</code> can be used with the <code>Service</code> class. So I could do this:</p>\n\n<pre><code>// Converters using Converter&lt;string&gt;\nconst converters = {\n  manufacturer: {\n    uuid: \"2a29\",\n    decode: (buffer: Buffer) =&gt; buffer.toString()\n  },\n}\n\nconst service = new Service(converters);\n</code></pre>\n\n<p>this</p>\n\n<pre><code>// Converters using Converter&lt;number&gt;\nconst converters = {\n  model: {\n    uuid: \"2a24\",\n    decode: (buffer: Buffer) =&gt; buffer.readInt8(0)\n  }\n}\n\nconst service = new Service(converters);\n</code></pre>\n\n<p>this</p>\n\n<pre><code>// Converters using Converter&lt;string&gt; and Converter&lt;number&gt;\nconst converters = {\n  manufacturer: {\n    uuid: \"2a29\",\n    decode: (buffer: Buffer) =&gt; buffer.toString()\n  },\n  model: {\n    uuid: \"2a24\",\n    decode: (buffer: Buffer) =&gt; buffer.readInt8(0)\n  }\n}\n\nconst service = new Service(converters);\n</code></pre>\n\n<p>or simply this</p>\n\n<pre><code>const service = new Service();\n</code></pre>\n\n<p>because converters is optional.</p>\n\n<p>Now the issue here is that the <code>Service</code> class has a method called <code>read</code> that will accept a parameter called <code>name</code> and return a value and that the type of <code>name</code> and the return type should be based on</p>\n\n<ul>\n<li>which converters have been passed to the <code>Service</code> class</li>\n<li>if any converters have been passed to the <code>Service</code> class at all</li>\n</ul>\n\n<p>if converters have been provided</p>\n\n<ul>\n<li>read should only accept keys of the converters as a <code>name</code> parameter</li>\n<li>read should return the type of the generic of a converter corresponding to that name</li>\n</ul>\n\n<p>if no converters have been passed, <code>read</code> should accept any string as parameter and return a Buffer</p>\n\n<p>So if I pass </p>\n\n<pre><code>const converters = {\n  manufacturer: {\n    uuid: \"2a29\",\n    decode: (buffer: Buffer) =&gt; buffer.toString()\n  },\n  model: {\n    uuid: \"2a24\",\n    decode: (buffer: Buffer) =&gt; buffer.readInt8(0)\n  }\n}\n\nconst service = new Service(converters);\nconst serviceNoConverter = new Service();\n</code></pre>\n\n<p>This should happen</p>\n\n<pre><code>const value = service.read(\"manufacturer\");\n//    ^^^^^ type string\n\nconst value = service.read(\"model\");\n//    ^^^^^ type number\n\nconst value = service.read(\"aassd\");\n//                          ^^^^^ type error, not manufacturer or model\n\nconst value = serviceNoConverter.read(\"asdasdasd\")\n//    ^^^^^ type Buffer                ^^^^^^^^^ any string is allowed\n</code></pre>\n\n<p>So with the help from StackOverflow (especially from jcalz, thanks buddy) I got so far as to do this:</p>\n\n<p>\ud83d\udc47 \ud83d\udc47 \ud83d\udc47</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/JYOwLgpgTgZghgYwgAgEIFcY2sg3gWAChkTkwB7AZTClAHMAuZACgEpkBeAPmQGcb6RUsigQ4AEwCS4ABxNm5LLwhgmIdAFsARtHbdk67dCIBfIkVCRYiFAGFyIAG7QrAHgAqnNJmxQeBYmR0dGBxJn5aEDoAbiFkcQgEcgSAfnlHOAAbdAgmDCxdTh53WMCIECTU9Kycpnc9HnzfUrNCIjAATwAHOwdnKCteLwAlRPIocVcI+gAaZHsnF2hXOBAOri5S9u6UADk4DQhXWx4OeeQIAA9IEHEhhf7B5BTkAGsIDsVz8IEorcIrl1xmAyDtkAA1GpHWxzXYXa7lO7IfaHY4bLy2eE3JEPJZQXhxF64gbQXiQ7LQ2FcOJ5HzQf6A4GgnrzPp4slQ1xxTFXbH3Nkk-FzOJw3mIoYo6HUwineYAbV2AF0seLWYtBa5QL4ITwXuDkGoIP1-kQEJk4LwhpRoI5gEg0Xg4l1aBlIMgkurBmk1Y9Sf8SB6IugEBQoMwPb78d7bOwAsIwAALYC8AB0EfZXnTgt4pRIrSd6C0mTtIjEk1FCNuEoOUq4zBANaYu1YTHJOWOVMdgWEwBgLETybTAsGsbiwnjCag5AA7gYILOAKJQKdhgBEIHIIOAGi6mQgh3AEHEyFAZCTQ13cA6dCn6Fuq9YufHJgumWUXfH48TU9nIHnyCXFdmHXTcTx3PcD0gY9TwHC9zWvW970fMdSFaPNTHMQhAxBLMnjOONkA0VZMEQMB0FEKAmAIkhglCJhVwAJjgBiAE5VxmFCEkqXIWC0OlKO8AooAaZA+KElMKGoSI6DYOITA4wINGSCBMiolDaLCZBGOYgAWdjOLGBJ5DE3xaSEkSTOgFNRAkaQwBkZgAAZWDkjC2iwhx+D4G07RQM4-1na0oFtJA2FKbDvOC3yAHVgETYlSS8ALkCCkKIHDYdSRc9yIoyCkvGUKKkGsstgItcQJAfcLPJBPKcgAMSnDRiSsAqfKQWL4oFUkSokYCiPUeAQ3I6AqtNGrkDqiAGMa8hmsyqA2qKiBOoTBL8V68R+uUzIqqAA\" rel=\"nofollow noreferrer\">\ud83d\udd17 Link to playground</a></p>\n\n<p>everything here works exactly as described, <strong>but</strong>, you can see that at</p>\n\n<pre><code>constructor(converters?: C) {\n  this.converters = converters;\n}\n</code></pre>\n\n<p>there is an error where <code>converters</code> does not match <code>this.converters</code> because <code>converters</code> is not type-guarded while <code>this.converters</code> is of the type <code>Converters</code>. But I can't type-guard the generic as </p>\n\n<pre><code>Service&lt;C extends Converters&gt;\n</code></pre>\n\n<p>because that will break the functionality of <code>read</code> as described.</p>\n\n<p>So my question is how can I type-guard the parameter while still keeping this functionality and making it optional?</p>\n"}, {"tags": ["node.js", "angular", "typescript"], "comments": [{"owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "edited": false, "score": 0, "creation_date": 1568203833, "post_id": 57888766, "comment_id": 102199319, "body": "looks like a typo in your url it should be <code>return this.http.put(this.url+&#39;&#47;user&#47;edit&#47;&#39;+id , body, )</code> instead of <code>return this.http.put(this.url+&#39;&#47;user&#47;edit&#47;:&#39;+id , body, )</code>"}, {"owner": {"reputation": 2417, "user_id": 10831557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gbr55.png?s=128&g=1", "display_name": "Pushprajsinh Chudasama", "link": "https://stackoverflow.com/users/10831557/pushprajsinh-chudasama"}, "edited": false, "score": 0, "creation_date": 1568204172, "post_id": 57888766, "comment_id": 102199491, "body": "is your image url is file ? or just a string ?"}, {"owner": {"reputation": 2417, "user_id": 10831557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gbr55.png?s=128&g=1", "display_name": "Pushprajsinh Chudasama", "link": "https://stackoverflow.com/users/10831557/pushprajsinh-chudasama"}, "edited": false, "score": 0, "creation_date": 1568204240, "post_id": 57888766, "comment_id": 102199525, "body": "PLease show the data of <code>console.log(body);</code> in angular"}, {"owner": {"reputation": 101, "user_id": 11686515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc528bee1af49791fc5d6f3bc5257476?s=128&d=identicon&r=PG&f=1", "display_name": "Halid", "link": "https://stackoverflow.com/users/11686515/halid"}, "edited": false, "score": 0, "creation_date": 1568204424, "post_id": 57888766, "comment_id": 102199636, "body": "this is how looks like consolo.log(body); in angular : {&quot;username&quot;:&quot;223&quot;,&quot;imageUrl&quot;:&quot;123&quot;,&quot;password&quot;:&quot;123123&quot;,&quot;stat&zwnj;&#8203;us&quot;:&quot;busy123&quot;} and my imgUrl not file it is just a string i use img tag for it not part of problem"}, {"owner": {"reputation": 2417, "user_id": 10831557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gbr55.png?s=128&g=1", "display_name": "Pushprajsinh Chudasama", "link": "https://stackoverflow.com/users/10831557/pushprajsinh-chudasama"}, "edited": false, "score": 0, "creation_date": 1568204811, "post_id": 57888766, "comment_id": 102199897, "body": "Check out my answer , It will solve your problem . @Halid"}, {"owner": {"reputation": 101, "user_id": 11686515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc528bee1af49791fc5d6f3bc5257476?s=128&d=identicon&r=PG&f=1", "display_name": "Halid", "link": "https://stackoverflow.com/users/11686515/halid"}, "reply_to_user": {"reputation": 2417, "user_id": 10831557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gbr55.png?s=128&g=1", "display_name": "Pushprajsinh Chudasama", "link": "https://stackoverflow.com/users/10831557/pushprajsinh-chudasama"}, "edited": false, "score": 0, "creation_date": 1568206597, "post_id": 57888766, "comment_id": 102200945, "body": "@PushprajsinhChudasama bro i tried your method it works but still same problem exist which is in  mongoDB status:null imageUrl:null username:null after update"}, {"owner": {"reputation": 734, "user_id": 6910748, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5fHbkOcN4Ls/AAAAAAAAAAI/AAAAAAAAAEU/7dfQUZ-FG_U/photo.jpg?sz=128", "display_name": "Sunny Parekh", "link": "https://stackoverflow.com/users/6910748/sunny-parekh"}, "edited": false, "score": 0, "creation_date": 1568206719, "post_id": 57888766, "comment_id": 102201009, "body": "Come on the chat room, by clicking on the link given below in the comment. Will solve your issue there"}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 11686515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc528bee1af49791fc5d6f3bc5257476?s=128&d=identicon&r=PG&f=1", "display_name": "Halid", "link": "https://stackoverflow.com/users/11686515/halid"}, "edited": false, "score": 0, "creation_date": 1568204875, "post_id": 57888985, "comment_id": 102199944, "body": "dude i am not gettin error about it i tried that my problem is about i cant use req.body.username or req.body.imageUrl  because when i try to console.log(req.body.username) it returns undefined and save as null to mongoDB"}, {"owner": {"reputation": 734, "user_id": 6910748, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5fHbkOcN4Ls/AAAAAAAAAAI/AAAAAAAAAEU/7dfQUZ-FG_U/photo.jpg?sz=128", "display_name": "Sunny Parekh", "link": "https://stackoverflow.com/users/6910748/sunny-parekh"}, "reply_to_user": {"reputation": 101, "user_id": 11686515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc528bee1af49791fc5d6f3bc5257476?s=128&d=identicon&r=PG&f=1", "display_name": "Halid", "link": "https://stackoverflow.com/users/11686515/halid"}, "edited": false, "score": 0, "creation_date": 1568205156, "post_id": 57888985, "comment_id": 102200117, "body": "Have you written the console.log(req.body) in your node.js code? You have mentioned  only about the angular code and not node.js. Please post the console.log(req.body) output here."}, {"owner": {"reputation": 101, "user_id": 11686515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc528bee1af49791fc5d6f3bc5257476?s=128&d=identicon&r=PG&f=1", "display_name": "Halid", "link": "https://stackoverflow.com/users/11686515/halid"}, "edited": false, "score": 0, "creation_date": 1568205337, "post_id": 57888985, "comment_id": 102200217, "body": "as you see in my node.js code there is  console.log(req.params.id);  console.log(req.body.imageurl);  and it returns: 5d78e95d3b33e629acb2e0e7 -&gt; this is id  undefined   -&gt; should be req.body.imageUrl"}, {"owner": {"reputation": 734, "user_id": 6910748, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5fHbkOcN4Ls/AAAAAAAAAAI/AAAAAAAAAEU/7dfQUZ-FG_U/photo.jpg?sz=128", "display_name": "Sunny Parekh", "link": "https://stackoverflow.com/users/6910748/sunny-parekh"}, "reply_to_user": {"reputation": 101, "user_id": 11686515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc528bee1af49791fc5d6f3bc5257476?s=128&d=identicon&r=PG&f=1", "display_name": "Halid", "link": "https://stackoverflow.com/users/11686515/halid"}, "edited": false, "score": 0, "creation_date": 1568205379, "post_id": 57888985, "comment_id": 102200251, "body": "Yes but please post the output of the whole req.body so that the problem can be identified."}], "tags": [], "owner": {"reputation": 734, "user_id": 6910748, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5fHbkOcN4Ls/AAAAAAAAAAI/AAAAAAAAAEU/7dfQUZ-FG_U/photo.jpg?sz=128", "display_name": "Sunny Parekh", "link": "https://stackoverflow.com/users/6910748/sunny-parekh"}, "is_accepted": false, "score": 0, "last_activity_date": 1568204289, "creation_date": 1568204289, "answer_id": 57888985, "question_id": 57888766, "link": "https://stackoverflow.com/questions/57888766/req-body-properties-are-undefined-on-router-put/57888985#57888985", "title": "req.body.properties are undefined on router.put", "body": "<p>The problem is in your angular code. Change it as below:</p>\n\n<pre><code> return this.http.put(this.url+'/user/edit/' + id , body, )\n          .subscribe(response =&gt; console.log(response));\n</code></pre>\n\n<p>And then check in your node application. It should work fine.</p>\n"}, {"comments": [{"owner": {"reputation": 101, "user_id": 11686515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc528bee1af49791fc5d6f3bc5257476?s=128&d=identicon&r=PG&f=1", "display_name": "Halid", "link": "https://stackoverflow.com/users/11686515/halid"}, "edited": false, "score": 0, "creation_date": 1568205519, "post_id": 57889046, "comment_id": 102200334, "body": "there is no problem i am not getting error about it but i have just problem about req.body items because when i updated my data relevant variables turn null and i checked that then i saw when i write console.log(req.body.username) on the node.js it returns undefined thats way data turn to null on mongoDB i wanna solve that problem."}, {"owner": {"reputation": 2417, "user_id": 10831557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gbr55.png?s=128&g=1", "display_name": "Pushprajsinh Chudasama", "link": "https://stackoverflow.com/users/10831557/pushprajsinh-chudasama"}, "reply_to_user": {"reputation": 101, "user_id": 11686515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc528bee1af49791fc5d6f3bc5257476?s=128&d=identicon&r=PG&f=1", "display_name": "Halid", "link": "https://stackoverflow.com/users/11686515/halid"}, "edited": false, "score": 0, "creation_date": 1568205558, "post_id": 57889046, "comment_id": 102200353, "body": "Did you updated in angular side as i mentioned above ? @Halid"}, {"owner": {"reputation": 734, "user_id": 6910748, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5fHbkOcN4Ls/AAAAAAAAAAI/AAAAAAAAAEU/7dfQUZ-FG_U/photo.jpg?sz=128", "display_name": "Sunny Parekh", "link": "https://stackoverflow.com/users/6910748/sunny-parekh"}, "reply_to_user": {"reputation": 101, "user_id": 11686515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc528bee1af49791fc5d6f3bc5257476?s=128&d=identicon&r=PG&f=1", "display_name": "Halid", "link": "https://stackoverflow.com/users/11686515/halid"}, "edited": false, "score": 0, "creation_date": 1568205617, "post_id": 57889046, "comment_id": 102200379, "body": "@Halid, we understood your problem completely. To identify the cause of the problem we just need the output of req and req.body in your node application. It seems like a problem in the middleware or JSON object conversion."}, {"owner": {"reputation": 101, "user_id": 11686515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc528bee1af49791fc5d6f3bc5257476?s=128&d=identicon&r=PG&f=1", "display_name": "Halid", "link": "https://stackoverflow.com/users/11686515/halid"}, "edited": false, "score": 0, "creation_date": 1568205849, "post_id": 57889046, "comment_id": 102200500, "body": "here is full output of node.js  put 2 5d78e95d3b33e629acb2e0e7 undefined {} (node:19244) DeprecationWarning: Mongoose: <code>findOneAndUpdate()</code> and <code>findOneAndDelete()</code> without the <code>useFindAndModify</code> option set to false are deprecated. See: <a href=\"https://mongoosejs.com/docs/deprecations.html#-findandmodify-\" rel=\"nofollow noreferrer\">mongoosejs.com/docs/deprecations.html#-findandmodify-</a>"}, {"owner": {"reputation": 734, "user_id": 6910748, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5fHbkOcN4Ls/AAAAAAAAAAI/AAAAAAAAAEU/7dfQUZ-FG_U/photo.jpg?sz=128", "display_name": "Sunny Parekh", "link": "https://stackoverflow.com/users/6910748/sunny-parekh"}, "edited": false, "score": 0, "creation_date": 1568205893, "post_id": 57889046, "comment_id": 102200527, "body": "what is undefined? req.body? and what about the req? It means issue is not in the MongoDB query, the real issue is in the routing middleware."}, {"owner": {"reputation": 101, "user_id": 11686515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc528bee1af49791fc5d6f3bc5257476?s=128&d=identicon&r=PG&f=1", "display_name": "Halid", "link": "https://stackoverflow.com/users/11686515/halid"}, "edited": false, "score": 0, "creation_date": 1568206134, "post_id": 57889046, "comment_id": 102200660, "body": "undefined = &gt; req.body.username {}              =&gt;  req.body   the output of req is really long not fit even here but not error"}, {"owner": {"reputation": 734, "user_id": 6910748, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5fHbkOcN4Ls/AAAAAAAAAAI/AAAAAAAAAEU/7dfQUZ-FG_U/photo.jpg?sz=128", "display_name": "Sunny Parekh", "link": "https://stackoverflow.com/users/6910748/sunny-parekh"}, "edited": false, "score": 0, "creation_date": 1568206246, "post_id": 57889046, "comment_id": 102200729, "body": "Just mention clearly what is undefined. req.body or only req.body.username? Because you can&#39;t assume the req.body to be undefined if you get req.body.username undefined. Also it&#39;s fine if the output is long for req, just check in that object if you get the data that you passed from frontend."}, {"owner": {"reputation": 101, "user_id": 11686515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc528bee1af49791fc5d6f3bc5257476?s=128&d=identicon&r=PG&f=1", "display_name": "Halid", "link": "https://stackoverflow.com/users/11686515/halid"}, "edited": false, "score": 0, "creation_date": 1568206407, "post_id": 57889046, "comment_id": 102200818, "body": "undefined is req.body.username"}, {"owner": {"reputation": 734, "user_id": 6910748, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5fHbkOcN4Ls/AAAAAAAAAAI/AAAAAAAAAEU/7dfQUZ-FG_U/photo.jpg?sz=128", "display_name": "Sunny Parekh", "link": "https://stackoverflow.com/users/6910748/sunny-parekh"}, "edited": false, "score": 0, "creation_date": 1568206426, "post_id": 57889046, "comment_id": 102200828, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/199311/discussion-between-sunny-parekh-and-halid\">continue this discussion in chat</a>. Please use this chat room for further discussion."}], "tags": [], "owner": {"reputation": 2417, "user_id": 10831557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gbr55.png?s=128&g=1", "display_name": "Pushprajsinh Chudasama", "link": "https://stackoverflow.com/users/10831557/pushprajsinh-chudasama"}, "is_accepted": false, "score": 0, "last_activity_date": 1568206113, "last_edit_date": 1568206113, "creation_date": 1568204468, "answer_id": 57889046, "question_id": 57888766, "link": "https://stackoverflow.com/questions/57888766/req-body-properties-are-undefined-on-router-put/57889046#57889046", "title": "req.body.properties are undefined on router.put", "body": "<p>Update your query with , </p>\n\n<pre><code>User.findOneAndUpdate({id: req.params.id}, //or _id instead of id  \n      {    \n          $set:  { username:req.body.username,\n                   imageUrl: req.body.imageUrl,\n                   status: req.body.status }\n      },\n      {\n        upsert: true\n        new:true\n      },\n      function(err,updatedUser){\n        if(err){res.send(\"error\");}\n        else { res.json(updatedUser); }\n       }\n\n       );\n</code></pre>\n\n<p><strong>AlSO</strong> \n<br>\nRemove <code>,</code> from you angular put request after body</p>\n\n<pre><code>updateUser(body:any,id:any){\n    console.log(body); //in console i can see data clearly\n\n    var sendBody = body\n    return this.http.put(this.url+'/user/edit/:'+id , sendBody )\n              .subscribe(response =&gt; console.log(response));\n\n }\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 11686515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc528bee1af49791fc5d6f3bc5257476?s=128&d=identicon&r=PG&f=1", "display_name": "Halid", "link": "https://stackoverflow.com/users/11686515/halid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1568287874, "creation_date": 1568203519, "last_edit_date": 1568287874, "question_id": 57888766, "link": "https://stackoverflow.com/questions/57888766/req-body-properties-are-undefined-on-router-put", "title": "req.body.properties are undefined on router.put", "body": "<p>hi i developed simple crud project and in that project get and post methods are ok but when i try to update some variable on mongoDB it just not working.</p>\n\n<p>here is my angular code :</p>\n\n<pre><code>\n    updateUser(body:any,id:any){\n          console.log(body); //in console i can see data clearly\n\n          return this.http.put(this.url+'/user/edit/:'+id , body, )\n          .subscribe(response =&gt; console.log(response));\n\n        }\n\n    //in here body is a formgroup which named updateForm and has properties like username, password, status, imageUrl.\n\n</code></pre>\n\n<p>and my put code on nodejs:</p>\n\n<pre><code>\n    router.put('/user/edit/:id', function(req,res,next){  //USER INFO UPDATE \n      console.log(\"put 2\");\n\n     User.findByIdAndUpdate(req.params.id,\n      {    \n          $set:  { username:req.body.username,\n                   imageUrl: req.body.imageUrl,\n                   status: req.body.status }\n      },\n      {\n        new:true\n      },\n      function(err,updatedUser){\n        if(err){res.send(\"error\");}\n        else { res.json(updatedUser); }\n       }\n\n       );\n      console.log(req.params.id); //there is no problem on console\n      console.log(req.body.imageurl);//undefined on console\n\n    });\n\n</code></pre>\n\n<p>i have get and post methods very look like put they are working but put is not working because req.body.username or other thing are undefined on back-end in the front-end when i wrote updateForm.value i can see values of properties there is no problem about updateForm i hope i explained well .</p>\n\n<p>edit:I foud solution by using new method let me share the new function with you guys :</p>\n\n<pre><code>updateUser(body:any,id:any){\n      console.log(body);\n\n      return this.http.put(this.url+'/user/edit/' + id , body , {\n        observe:'body',\n        withCredentials:true,  \n        headers:new HttpHeaders().append('Content-Type','application/json')})\n      .subscribe(response =&gt; console.log(response));\n    }\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "cypress"], "comments": [{"owner": {"reputation": 3238, "user_id": 7404943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/364eff21ecce181be48b17e7208397e2?s=128&d=identicon&r=PG&f=1", "display_name": "barbsan", "link": "https://stackoverflow.com/users/7404943/barbsan"}, "edited": false, "score": 0, "creation_date": 1568203503, "post_id": 57888484, "comment_id": 102199143, "body": "You can <a href=\"https://stackoverflow.com/posts/57888484/edit\">edit</a> your question, please don&#39;t post code in comments"}], "answers": [{"tags": [], "owner": {"reputation": 9086, "user_id": 9355411, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FsAyu.jpg?s=128&g=1", "display_name": "bkucera", "link": "https://stackoverflow.com/users/9355411/bkucera"}, "is_accepted": false, "score": 0, "last_activity_date": 1568217087, "creation_date": 1568217087, "answer_id": 57892766, "question_id": 57888484, "link": "https://stackoverflow.com/questions/57888484/how-to-fix-the-error-typeerror-cy-custom-command-is-not-a-function/57892766#57892766", "title": "How to fix the Error &quot;TypeError: cy.[custom command] is not a function&quot;?", "body": "<p>From the Cypress docs: <a href=\"https://on.cypress.io/typescript#Types-for-custom-commands\" rel=\"nofollow noreferrer\">https://on.cypress.io/typescript#Types-for-custom-commands</a></p>\n\n<p>if you add the command cy.dataCy into your supportFile like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// cypress/support/index.js\nCypress.Commands.add('dataCy', (value) =&gt; {\n  return cy.get(`[data-cy=${value}]`)\n})\n</code></pre>\n\n<p>Then you can add the dataCy command to the global Cypress Chainable interface (so called because commands are chained together) by creating a new TypeScript definitions file beside your supportFile, in this case at cypress/support/index.d.ts.</p>\n\n<pre><code>// in cypress/support/index.d.ts\n// load type definitions that come with Cypress module\n/// &lt;reference types=\"cypress\" /&gt;\n\ndeclare namespace Cypress {\n  interface Chainable {\n    /**\n     * Custom command to select DOM element by data-cy attribute.\n     * @example cy.dataCy('greeting')\n    */\n    dataCy(value: string): Chainable&lt;Element&gt;\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1358, "user_id": 12368797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VM9hp.jpg?s=128&g=1", "display_name": "William Brochensque junior", "link": "https://stackoverflow.com/users/12368797/william-brochensque-junior"}, "edited": false, "score": 0, "creation_date": 1591705881, "post_id": 62282235, "comment_id": 110151836, "body": "Hi! Welcome to StackOverflow! Before asking, make sure to read our article: <a href=\"https://stackoverflow.com/help/how-to-answer\">How do I write a good answer?</a>. Make sure to use the <code>Answer</code> field to Answers, and the <code>Comment</code> field to comments. Hope it helps!"}], "tags": [], "owner": {"reputation": 1, "user_id": 13713431, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/b54982b416955ec27f23f4a69d67cc2c?s=128&d=identicon&r=PG", "display_name": "user13713431", "link": "https://stackoverflow.com/users/13713431/user13713431"}, "is_accepted": false, "score": -2, "last_activity_date": 1591704428, "creation_date": 1591704428, "answer_id": 62282235, "question_id": 57888484, "link": "https://stackoverflow.com/questions/57888484/how-to-fix-the-error-typeerror-cy-custom-command-is-not-a-function/62282235#62282235", "title": "How to fix the Error &quot;TypeError: cy.[custom command] is not a function&quot;?", "body": "<p>cy.xpath(\"//div[@class='c-navigatorItem-faceplate ng-scope ng-isolate-scope']\").click();\nIs it a valid to use because I am getting the TypeError cy.xpath is not a function</p>\n"}, {"tags": [], "owner": {"reputation": 598, "user_id": 2400829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08641f47384401c95dc963fd2d2f7628?s=128&d=identicon&r=PG", "display_name": "Damir Miladinov", "link": "https://stackoverflow.com/users/2400829/damir-miladinov"}, "is_accepted": false, "score": 1, "last_activity_date": 1600336201, "creation_date": 1600336201, "answer_id": 63935485, "question_id": 57888484, "link": "https://stackoverflow.com/questions/57888484/how-to-fix-the-error-typeerror-cy-custom-command-is-not-a-function/63935485#63935485", "title": "How to fix the Error &quot;TypeError: cy.[custom command] is not a function&quot;?", "body": "<p>In my case solution was a restart of the cypress test runner.</p>\n"}], "owner": {"reputation": 11, "user_id": 12050913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2506940568b0cb61b7fd9028fa8850c8?s=128&d=identicon&r=PG&f=1", "display_name": "Vaibhav Mhaskar", "link": "https://stackoverflow.com/users/12050913/vaibhav-mhaskar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3837, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1600336201, "creation_date": 1568202470, "last_edit_date": 1568217135, "question_id": 57888484, "link": "https://stackoverflow.com/questions/57888484/how-to-fix-the-error-typeerror-cy-custom-command-is-not-a-function", "title": "How to fix the Error &quot;TypeError: cy.[custom command] is not a function&quot;?", "body": "<p>I have written some function in commands.js file for cypress automation testing, out of which I am able to invoke only one i.e.\"login\" but unable to invoke other functions form another .js file. Cypress Test Runner showing </p>\n\n<blockquote>\n  <p>\"TypeError: <code>cy.FillAddCaseDetails</code> is not a function\" </p>\n</blockquote>\n\n<pre class=\"lang-js prettyprint-override\"><code>describe('Adding a Case on CSS Poratal ', function() {\n\n  before(function () {\n    cy.login()    // calling login function successfully\n  })\n\n  it('open add case',function(){\n    cy.wait(9000)\n    cy.hash().should('contains','#/home')\n    cy.wait(['@GETcontentLoad']);\n    cy.wait(['@POSTcontentLoad']);\n    cy.get('[uib-tooltip=\"Add Case\"]').click({force:true})\n    cy.log('clicked on Add case')\n    cy.wait(3000) \n    cy.get('[ng-click=\"lookup.cancel()\"]').click({force: true})\n    cy.get('[ng-click=\"lookup.closeAddCase()\"]').click({force: true})\n    cy.get('[uib-tooltip=\"Add Case\"]').click({force:true}) \n    cy.wait(3000)\n    cy.get('[ng-model=\"lookup.selectedPartner\"]',{force:true})\n      .type(AddJob.JobData.Partner,{force: true}) \n    cy.xpath('//input[@ng-model=\"lookup.selectedPartner\"]')\n      .should('be.visible').then(() =&gt; {\n        cy.FillAddCaseDetails()   // unable to call   \n        cy.FillCustomerDetails()  // unable to call \n      })\n</code></pre>\n\n\n\n<p>Function:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>Cypress.Commands.add(\"FillCustomerDetails\", () =&gt; {\n\n  cy.get('[ng-model=\"lookup.firstName\"]')\n    .type(AddJob.JobData.FirstName, { force: true}) \n\n  cy.get('[ng-model=\"lookup.lastName\"]')\n    .type(AddJob.JobData.LastName, { force: true })\n\n  cy.get('[ng-model=\"lookup.customerPhone\"]')\n    .type(AddJob.JobData.CustomerPhone, { force: true })\n\n  cy.get('[value=\"NEXT\"]').click({ force: true })\n})\n</code></pre>\n\n<p>expected : function will get called\n<br>\nactual : TypeError: <code>cy.FillAddCaseDetails</code> is not a function</p>\n"}, {"tags": ["javascript", "angular", "typescript", "svg", "svg.js"], "comments": [{"owner": {"reputation": 72, "user_id": 10994710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qIOO34ZiGMs/AAAAAAAAAAI/AAAAAAAAAcU/DITKt5pssYI/photo.jpg?sz=128", "display_name": "Nicola", "link": "https://stackoverflow.com/users/10994710/nicola"}, "edited": false, "score": 0, "creation_date": 1568211023, "post_id": 57888386, "comment_id": 102203508, "body": "Is it possible that svg plugins don&#39;t have *.d.ts file in their libraries and angular doesn&#39;t load them? Because I had this problem"}, {"owner": {"reputation": 5599, "user_id": 2129897, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cf24fc5689951cf384e614bde3cfece2?s=128&d=identicon&r=PG", "display_name": "Fuzzyma", "link": "https://stackoverflow.com/users/2129897/fuzzyma"}, "edited": false, "score": 0, "creation_date": 1568262841, "post_id": 57888386, "comment_id": 102220215, "body": "Is the element selected? If this doesn&#39;t work already than resizing won&#39;t work either"}], "owner": {"reputation": 1, "user_id": 11071085, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TWm33WYACZM/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPFosVCTXXwpz18DE3oxJaTHnh-zg/mo/photo.jpg?sz=128", "display_name": "MrDeadeye951", "link": "https://stackoverflow.com/users/11071085/mrdeadeye951"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568202580, "creation_date": 1568202146, "last_edit_date": 1568202580, "question_id": 57888386, "link": "https://stackoverflow.com/questions/57888386/resizing-svg-with-svg-js", "title": "Resizing svg with svg.js", "body": "<p>I'm trying to resize several svgs by dragging with svg.js. I'm using Angular.</p>\n\n<p>Draggable works fine but resizing doesn't work. I already searched the whole Internet for a solution but I could find nothing. Do you have an idea what could be wrong/ modified?</p>\n\n<p>Code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>this.svgwidget = SVG.get(this.widget.id);\n\nthis.svgwidget.move(this.widget.x, this.widget.y);\nthis.svgwidget.draggable({\n        minX: 0,\n        minY: 0,\n        maxX: 150,\n        maxY: 100,\n        snapToGrid: 1\n    })\n    .on('click', (event: Event) =&gt; {\n        this.editWidget.emit(this.widget);\n    })\n    .on('dragend', (event: Event) =&gt; {\n        this.widget.x = this.svgwidget.x();\n        this.widget.y = this.svgwidget.y();\n    });\n\nthis.svgwidget.selectize()\n    .resize({\n        constraint: {\n            minX: 0,\n            minY: 0,\n            maxX: 150,\n            maxY: 100,\n        }\n    })\n    .on('click', (event: Event) =&gt; {\n        this.editWidget.emit(this.widget);\n    })\n    .on('dragend', (event: Event) =&gt; {\n        console.log(event);\n        this.widget.x = this.svgwidget.x();\n        this.widget.y = this.svgwidget.y();\n    });\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "vue.js", "vuetify.js"], "comments": [{"owner": {"reputation": 25, "user_id": 11863088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a0e0e3be9843b54a89099b8b3e8ad37?s=128&d=identicon&r=PG&f=1", "display_name": "Exxili", "link": "https://stackoverflow.com/users/11863088/exxili"}, "reply_to_user": {"reputation": 1767, "user_id": 6848161, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/k7nv2.png?s=128&g=1", "display_name": "PEPEGA", "link": "https://stackoverflow.com/users/6848161/pepega"}, "edited": false, "score": 0, "creation_date": 1568202017, "post_id": 57888279, "comment_id": 102198368, "body": "my apologies helix.get is the Axios call,  Helix is axios.create with a base URL,  Please see mounted() lifecycle event  - Updated question with better comments in snippet"}, {"owner": {"reputation": 10578, "user_id": 3233827, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/LVngi.jpg?s=128&g=1", "display_name": "ssc-hrep3", "link": "https://stackoverflow.com/users/3233827/ssc-hrep3"}, "edited": false, "score": 1, "creation_date": 1568202108, "post_id": 57888279, "comment_id": 102198412, "body": "What happens if you print out <code>this.clipData</code> after the assignment in the callback of your axios request? Is it <code>undefined</code>?"}, {"owner": {"reputation": 25, "user_id": 11863088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a0e0e3be9843b54a89099b8b3e8ad37?s=128&d=identicon&r=PG&f=1", "display_name": "Exxili", "link": "https://stackoverflow.com/users/11863088/exxili"}, "edited": false, "score": 0, "creation_date": 1568202175, "post_id": 57888279, "comment_id": 102198451, "body": "not    undefined   but an Empty array,  which is strange as debugging via chrome displays an array of 10 Clip Objects being returned correctly"}, {"owner": {"reputation": 10578, "user_id": 3233827, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/LVngi.jpg?s=128&g=1", "display_name": "ssc-hrep3", "link": "https://stackoverflow.com/users/3233827/ssc-hrep3"}, "edited": false, "score": 0, "creation_date": 1568202237, "post_id": 57888279, "comment_id": 102198493, "body": "Are you sure, that you are accessing it correctly? <code>data.data.data</code>?"}, {"owner": {"reputation": 645, "user_id": 6087912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b566779c4bc4ef10d75232576eda7d1?s=128&d=identicon&r=PG", "display_name": "niccord", "link": "https://stackoverflow.com/users/6087912/niccord"}, "edited": false, "score": 0, "creation_date": 1568202304, "post_id": 57888279, "comment_id": 102198529, "body": "maybe the data are in another property"}, {"owner": {"reputation": 25, "user_id": 11863088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a0e0e3be9843b54a89099b8b3e8ad37?s=128&d=identicon&r=PG&f=1", "display_name": "Exxili", "link": "https://stackoverflow.com/users/11863088/exxili"}, "edited": false, "score": 0, "creation_date": 1568202307, "post_id": 57888279, "comment_id": 102198534, "body": "bad naming strategy - first data is &quot;response&quot; from axios,  second data is Axios Response.data, third data is Array of Clip Objects within the response data"}, {"owner": {"reputation": 10578, "user_id": 3233827, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/LVngi.jpg?s=128&g=1", "display_name": "ssc-hrep3", "link": "https://stackoverflow.com/users/3233827/ssc-hrep3"}, "edited": false, "score": 0, "creation_date": 1568202391, "post_id": 57888279, "comment_id": 102198567, "body": "Is the data correct in the DevTools/Network tab after the ajax request? An empty array indicates that you might passed a wrong request param to the API which then returned an empty array."}, {"owner": {"reputation": 25, "user_id": 11863088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a0e0e3be9843b54a89099b8b3e8ad37?s=128&d=identicon&r=PG&f=1", "display_name": "Exxili", "link": "https://stackoverflow.com/users/11863088/exxili"}, "edited": false, "score": 0, "creation_date": 1568202629, "post_id": 57888279, "comment_id": 102198699, "body": "the data coming back after the request is indeed correct - <a href=\"https://imgur.com/a/uOqZ2wN\" rel=\"nofollow noreferrer\">imgur.com/a/uOqZ2wN</a>"}], "answers": [{"tags": [], "owner": {"reputation": 249, "user_id": 5222505, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RKUWevzMECY/AAAAAAAAAAI/AAAAAAAAABM/tPvj9Kh8qJA/photo.jpg?sz=128", "display_name": "Amitha Mahesh", "link": "https://stackoverflow.com/users/5222505/amitha-mahesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1568217839, "creation_date": 1568217839, "answer_id": 57892970, "question_id": 57888279, "link": "https://stackoverflow.com/questions/57888279/how-to-use-v-for-after-an-axios-request-retrieves-data/57892970#57892970", "title": "How to use V-For after an axios request retrieves data?", "body": "<p>Since you are using \"ts\", we can write it like this too(make the mounted hook as a async and just use the await for axios call)</p>\n\n<pre><code>async mounted() {  \n\n  let response = await helix.get('clips?broadcaster_id=&lt;myidOmitted&gt;&amp;first=10');\n  if(response.data){\n    this.clipData = response.data.data;\n   }  \n }\n</code></pre>\n\n<p>hope this will work for you.</p>\n"}, {"tags": [], "owner": {"reputation": 25, "user_id": 11863088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a0e0e3be9843b54a89099b8b3e8ad37?s=128&d=identicon&r=PG&f=1", "display_name": "Exxili", "link": "https://stackoverflow.com/users/11863088/exxili"}, "is_accepted": true, "score": 0, "last_activity_date": 1568274115, "creation_date": 1568274115, "answer_id": 57901950, "question_id": 57888279, "link": "https://stackoverflow.com/questions/57888279/how-to-use-v-for-after-an-axios-request-retrieves-data/57901950#57901950", "title": "How to use V-For after an axios request retrieves data?", "body": "<p>Okay so nothing here worked so I got to thinking what if the UI was not being updated after data had retrieved properly,</p>\n\n<p>So in my Parent Container i placed a Property in v-if</p>\n\n<pre><code>&lt;v-container class=\"ma-10\" v-if=\"!isFetching\" &gt;\n</code></pre>\n\n<p>and when the Axios call was finished, i updated this property to be false</p>\n\n<pre><code>helix.get('clips?broadcaster_id=&lt;idOmitted&gt;&amp;first=8').then((data) =&gt; {\n    this.clipData = data.data.data; // &lt;-- Third data is the array of clips i need.\n    this.isFetching = false;\n</code></pre>\n\n<p>This solved it immediately,  I guess when setting a variable it triggered a re-render of the UI?  I am unsure why this worked as we where already setting a Variable (clipData).  </p>\n\n<p>However Issue Solved for now! </p>\n"}], "owner": {"reputation": 25, "user_id": 11863088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a0e0e3be9843b54a89099b8b3e8ad37?s=128&d=identicon&r=PG&f=1", "display_name": "Exxili", "link": "https://stackoverflow.com/users/11863088/exxili"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 533, "favorite_count": 0, "accepted_answer_id": 57901950, "answer_count": 2, "score": 0, "last_activity_date": 1568274115, "creation_date": 1568201738, "last_edit_date": 1568212138, "question_id": 57888279, "link": "https://stackoverflow.com/questions/57888279/how-to-use-v-for-after-an-axios-request-retrieves-data", "title": "How to use V-For after an axios request retrieves data?", "body": "<p>How do i populate <code>V-Cards</code> dynamically after the <code>Axios</code> request has retrieved Data?</p>\n\n<p>The <code>axios</code> request completes correctly but <code>v-for</code> never populates with <code>v-cards</code>.  I have also tried making the request before render is complete (beforeCreate lifecycle event) this fails also.</p>\n\n<p>Edit: Data retrieval completes successfully which is what makes me think its an issue with how v-for is working? maybe I am missing something?\n<a href=\"https://imgur.com/a/uOqZ2wN\" rel=\"nofollow noreferrer\">https://imgur.com/a/uOqZ2wN</a> (response data)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>&lt;template&gt;\r\n  &lt;v-container class=\"pa-2\" fluid&gt;\r\n      &lt;v-layout v-for=\"(clip) in clipData\" :key=\"clip.id\"&gt;\r\n        &lt;v-card&gt;\r\n          &lt;v-img\r\n            :src=\"clip.thumbnail_url\"\r\n            class=\"white--text\"\r\n            height=\"200px\"\r\n          &gt;\r\n            &lt;v-card-title class=\"fill-height align-end\" v-text=\"clip.title\"&gt;&lt;/v-card-title&gt;\r\n          &lt;/v-img&gt;\r\n        &lt;/v-card&gt;\r\n      &lt;/v-layout&gt;\r\n  &lt;/v-container&gt;\r\n&lt;/template&gt;\r\n\r\n&lt;script lang=\"ts\"&gt;\r\n// Imports omitted for brevity\r\n\r\n\r\n@Component({\r\n  components: {}\r\n})\r\nexport default class Clips extends Vue {\r\n\r\n  public clipData: any;\r\n\r\n  mounted() {\r\n    // Axios Request Data From twitch helix API regarding Clip Information on My channel\r\n    helix.get('clips?broadcaster_id=&lt;myidOmitted&gt;&amp;first=10').then((data) =&gt; {\r\n        this.clipData = data.data.data; // &lt;-- Third data is the array of clips i need.\r\n    }).catch((err) =&gt; {\r\n        console.log(err)\r\n    })\r\n  }\r\n}\r\n&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 494, "user_id": 2928827, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9c21540b0e989a0ec466a8fdc6b779dc?s=128&d=identicon&r=PG&f=1", "display_name": "m.akbari", "link": "https://stackoverflow.com/users/2928827/m-akbari"}, "edited": false, "score": 0, "creation_date": 1568205342, "post_id": 57888073, "comment_id": 102200220, "body": "I just copied your code, and it works correctly.  check if in your tsconfig file strict option is true or false. maybe, this is a problem"}, {"owner": {"reputation": 654, "user_id": 1567152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77fde64594128929f2e8a27cdd6bdc64?s=128&d=identicon&r=PG", "display_name": "Gernot Raudner", "link": "https://stackoverflow.com/users/1567152/gernot-raudner"}, "reply_to_user": {"reputation": 494, "user_id": 2928827, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9c21540b0e989a0ec466a8fdc6b779dc?s=128&d=identicon&r=PG&f=1", "display_name": "m.akbari", "link": "https://stackoverflow.com/users/2928827/m-akbari"}, "edited": false, "score": 0, "creation_date": 1568206946, "post_id": 57888073, "comment_id": 102201161, "body": "Can confirm, it works with <code>strictNullChecks</code> disabled. Why, though? P.S. disabling this setting is not an option for me."}, {"owner": {"reputation": 494, "user_id": 2928827, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9c21540b0e989a0ec466a8fdc6b779dc?s=128&d=identicon&r=PG&f=1", "display_name": "m.akbari", "link": "https://stackoverflow.com/users/2928827/m-akbari"}, "edited": false, "score": 0, "creation_date": 1568207911, "post_id": 57888073, "comment_id": 102201724, "body": "foo[barConst] inside test3 will be evaluated in runtime. just because is inside a function (easy explanation).  interface Foo is not known for type checking when you are passing into test3 function. for test1 and test2, you explicitly checked for a value of the input parameter foo, so compiler does not complain.  If you update you question, what is the use case for this, maybe I can help you find another solution."}, {"owner": {"reputation": 494, "user_id": 2928827, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9c21540b0e989a0ec466a8fdc6b779dc?s=128&d=identicon&r=PG&f=1", "display_name": "m.akbari", "link": "https://stackoverflow.com/users/2928827/m-akbari"}, "edited": false, "score": 0, "creation_date": 1568207955, "post_id": 57888073, "comment_id": 102201760, "body": "Are you looking for dynamic keys for the Foo interface?"}], "answers": [{"tags": [], "owner": {"reputation": 494, "user_id": 2928827, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9c21540b0e989a0ec466a8fdc6b779dc?s=128&d=identicon&r=PG&f=1", "display_name": "m.akbari", "link": "https://stackoverflow.com/users/2928827/m-akbari"}, "is_accepted": false, "score": 0, "last_activity_date": 1568208422, "creation_date": 1568208422, "answer_id": 57890303, "question_id": 57888073, "link": "https://stackoverflow.com/questions/57888073/with-typescript-why-does-accessing-an-object-property-after-a-type-guard-doesn/57890303#57890303", "title": "With typescript, why does accessing an object property after a type guard doesn&#39;t work if accessed via bracket notation and const?", "body": "<p>Continue of comment discussions. (I still do not know what are you looking for) \nyou can try something like this:</p>\n\n<pre><code>type barConst = 'bar';\n\ntype Foo&lt;K extends string&gt; = Record&lt;K, number&gt;;\n\nfunction test3(foo?: Foo&lt;barConst&gt;) {\n  if (typeof foo !== 'undefined') {\n    foo['bar']++;\n  }\n}\nlet x: Foo&lt;barConst&gt; = { bar: 2 };\n\ntest3(x);\nconsole.log(x);\n</code></pre>\n\n<p>You can have autocomplete and no compiler error. \nStill, please Update your question.</p>\n"}, {"tags": [], "owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "is_accepted": true, "score": 1, "last_activity_date": 1568211940, "creation_date": 1568211940, "answer_id": 57891347, "question_id": 57888073, "link": "https://stackoverflow.com/questions/57888073/with-typescript-why-does-accessing-an-object-property-after-a-type-guard-doesn/57891347#57891347", "title": "With typescript, why does accessing an object property after a type guard doesn&#39;t work if accessed via bracket notation and const?", "body": "<p>Narrowing the property access via computed propertyNames/literal expressions seems to be not possible currently. Have a look at this <a href=\"https://github.com/microsoft/TypeScript/issues/10530\" rel=\"nofollow noreferrer\">issue</a> and its <a href=\"https://github.com/microsoft/TypeScript/pull/26424\" rel=\"nofollow noreferrer\">PR</a>, also <a href=\"https://github.com/microsoft/TypeScript/issues/29042\" rel=\"nofollow noreferrer\">that issue</a>.</p>\n\n<p>You can narrow property access in bracket notation with string literals like for example <code>foo[\"bar\"]</code>. Dynamic expressions like <code>foo[barConst]</code> don't work. Assigning <code>foo[barConst]</code> to a variable and working/narrowing down this variable instead is an alternative, but costs an additional declaration. </p>\n\n<p>In your case the simplest solution would be to just cast the expression with non-null assertion operator <code>!</code>. As you do a pre-check for a falsy value, you are safe here:</p>\n\n<pre><code>function test3(foo?: Foo) {\n    if (foo &amp;&amp; foo[barConst]) {\n        foo[barConst]!++; \n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 654, "user_id": 1567152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77fde64594128929f2e8a27cdd6bdc64?s=128&d=identicon&r=PG", "display_name": "Gernot Raudner", "link": "https://stackoverflow.com/users/1567152/gernot-raudner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 379, "favorite_count": 0, "accepted_answer_id": 57891347, "answer_count": 2, "score": 2, "last_activity_date": 1568211940, "creation_date": 1568201058, "last_edit_date": 1568201834, "question_id": 57888073, "link": "https://stackoverflow.com/questions/57888073/with-typescript-why-does-accessing-an-object-property-after-a-type-guard-doesn", "title": "With typescript, why does accessing an object property after a type guard doesn&#39;t work if accessed via bracket notation and const?", "body": "<p>Why do tests 1 and 2 work here, but test 3 shows a compiler error at <code>foo[barConst]++</code>: 'Object is possibly \"undefined\".'? I often need to access properties via bracket notation and thus like to have constants for these properties, but typescript doesn't allow this. It also doesn't work with <code>const enum</code>s. Is it a bug or is there a good reason for the error?</p>\n\n<pre><code>const barConst = 'bar';\n\ninterface Foo {\n    [barConst]?: number;\n}\n\nfunction test1(foo?: Foo) {\n    if (foo &amp;&amp; foo.bar) {\n        foo.bar++;\n    }\n}\n\nfunction test2(foo?: Foo) {\n    if (foo &amp;&amp; foo['bar']) {\n        foo['bar']++;\n    }\n}\n\nfunction test3(foo?: Foo) {\n    if (foo &amp;&amp; foo[barConst]) {\n        foo[barConst]++; // compiler error: 'Object is possibly \"undefined\".'\n    }\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1568201237, "post_id": 57888008, "comment_id": 102197931, "body": "Where is the <code>dept</code>in Emp Interface?"}], "answers": [{"tags": [], "owner": {"reputation": 1230, "user_id": 11306392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f712ad3fe37ee35c0f5c2dcaa373f2e3?s=128&d=identicon&r=PG&f=1", "display_name": "Bohdan Stupak", "link": "https://stackoverflow.com/users/11306392/bohdan-stupak"}, "is_accepted": false, "score": 0, "last_activity_date": 1568201807, "last_edit_date": 1568201807, "creation_date": 1568201133, "answer_id": 57888091, "question_id": 57888008, "link": "https://stackoverflow.com/questions/57888008/extract-data-of-one-interface-from-another-interface-object-which-extends-it/57888091#57888091", "title": "extract data of one interface from another interface object which extends it", "body": "<p>First of all your assignment to <code>emp</code> property does not compile. Use semicolons instead </p>\n\n<pre><code>let emp:Emp = {Id:1,Name:'John',deptId:101,deptName:'Sales'}\n</code></pre>\n\n<p>Secondly, there is no <code>dept</code> property in your object. But you can do the following</p>\n\n<pre><code>console.log(emp.deptId);\n</code></pre>\n\n<p>In case you want to have <code>Dept</code> object you should use composition instead of inheritance</p>\n\n<pre><code>interface Emp {\n        Id: number;\n        Name: string;\n        Dept : Dept;\n}\n\nlet emp:Emp = {Id:1,Name:'John', Dept: {deptId: 101, deptName: 'Sales'}}\n</code></pre>\n\n<p>Furthermore, I think you should <a href=\"https://en.wikipedia.org/wiki/Composition_over_inheritance\" rel=\"nofollow noreferrer\">prefer composition in that case</a>. Inheriting employee from the department is a case of wrong abstraction. As a rule of thumb, you should use inheritance when there is \"is-a\" relation between classes. Employee is clearly not a department.</p>\n"}, {"tags": [], "owner": {"reputation": 61591, "user_id": 183406, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ca03242df77ec2d8f70f2cea0d6209be?s=128&d=identicon&r=PG", "display_name": "meriton", "link": "https://stackoverflow.com/users/183406/meriton"}, "is_accepted": false, "score": 0, "last_activity_date": 1568202505, "creation_date": 1568202505, "answer_id": 57888492, "question_id": 57888008, "link": "https://stackoverflow.com/questions/57888008/extract-data-of-one-interface-from-another-interface-object-which-extends-it/57888492#57888492", "title": "extract data of one interface from another interface object which extends it", "body": "<p>Since <code>Emp</code> extends <code>Dept</code>, <code>Emp</code> <strong>is</strong> a <code>Dept</code> as far as typescript is concerned. That is, you can simply do:</p>\n\n<pre><code>const dept: Dept = emp;\n</code></pre>\n\n<p>The only reason to filter the properties would be when you are passing <code>emp</code> to a function that iterates over all properties, such as a remote API that takes exception to unexpected properties.</p>\n\n<p>Alas, since interfaces do not survive transpilation, the runtime does not know which properties your interface contained. Therefore, you must specify the properties to copy explicitly.</p>\n\n<p>One way to do this is using a destructuring assignment, either by specifying the properties you want copied:</p>\n\n<pre><code>const {debtId, debtName} = emp;\nconst dept = {deptId, debtName};\n</code></pre>\n\n<p>or by specifying those you don't want copied:</p>\n\n<pre><code>const {Id, Name, ...dept} = emp;\n</code></pre>\n"}], "owner": {"reputation": 1982, "user_id": 1360087, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/6d2609d0a152b5629f13507e7e521c7f?s=128&d=identicon&r=PG", "display_name": "krrishna", "link": "https://stackoverflow.com/users/1360087/krrishna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1568202505, "creation_date": 1568200829, "last_edit_date": 1568201865, "question_id": 57888008, "link": "https://stackoverflow.com/questions/57888008/extract-data-of-one-interface-from-another-interface-object-which-extends-it", "title": "extract data of one interface from another interface object which extends it", "body": "<p>I have the below code.Is that possible to extract Dept object data from emp variable below? </p>\n\n<pre><code>    interface Dept{\n        deptId: number;\n        deptName: string;\n    }\n\n\n    interface Emp extends Dept{\n        Id: number;\n        Name: string;\n    }\n\n    let emp:Emp = {Id=1,Name='John',deptId=101,deptName='Sales'}\n    console.log(emp.dept);//doesn't work\n</code></pre>\n\n<p>I can read individual properties of dept from emp object if i declare Dept type variable in Emp interface instead of extending Dept interface.</p>\n\n<p>But I would like to know if there is a better way where we can just specify something like emp.dept and read entire dept object in my current code above where i extend dept interface.</p>\n"}, {"tags": ["typescript", "types"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 9753554, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ueDYUWmoDOw/AAAAAAAAAAI/AAAAAAAAAAc/rgnt6M_zbJk/photo.jpg?sz=128", "display_name": "Alexey Iskhakov", "link": "https://stackoverflow.com/users/9753554/alexey-iskhakov"}, "is_accepted": false, "score": 0, "last_activity_date": 1568213585, "creation_date": 1568213585, "answer_id": 57891800, "question_id": 57887924, "link": "https://stackoverflow.com/questions/57887924/typescript-typing-many-similar-export-values/57891800#57891800", "title": "Typescript: typing many similar export values", "body": "<p>As of TypeScript 3.6+, the type of <code>handler[keyOfHandlers]</code> is inferred like this:</p>\n\n<pre><code>import * as handlers from './handlers'\n\ndeclare const handlerName: keyof typeof handlers;\n\nconst handler = handlers[handlerName];\n\n/*\nhandler: (({ api }: { api: any; }) =&gt; void)\n         | (({ api, config }: { api: any; config: any; }) =&gt; void)\n         | (({ api }: { api: any; }) =&gt; void)\n*/\n</code></pre>\n\n<p>So, the type of <code>handlers</code> object is <em>technically correct</em> as it is inferred.</p>\n\n<p>The problem is in this place:</p>\n\n<pre><code>if (handler in handlers) {\n  // Here, `handler` still has type `string`,\n  // which is the opposite of what we want.\n\n  // We could do this, however:\n  const handlerName = handler as keyof typeof handlers;\n  handlers[handlerName]({ api });\n}\n</code></pre>\n\n<p>The problem, as we can see, is that TypeScript does not guard the type of <code>handler</code> string after <code>if (handler in handlers)</code>.</p>\n\n<p>Another solution to this would be creating a custom type guard:</p>\n\n<pre><code>const isKeyOf = &lt;T&gt;(key: any, obj: T): key is keyof T =&gt; key in obj;\n\n// then:\nif (isKeyOf(handler, handlers)) {\n  handlers[handler](api); // works fine\n}\n</code></pre>\n"}], "owner": {"reputation": 1366, "user_id": 10016741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kFBMW.jpg?s=128&g=1", "display_name": "Alex Chashin", "link": "https://stackoverflow.com/users/10016741/alex-chashin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568213585, "creation_date": 1568200513, "question_id": 57887924, "link": "https://stackoverflow.com/questions/57887924/typescript-typing-many-similar-export-values", "title": "Typescript: typing many similar export values", "body": "<p>I have a module, that contains handlers for my API calls. It looks something like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// ./handlers.ts\nexport function handler1({ api }) { /* ... */ }\nexport function handler2({ api, config }) { /* ... */ }\nexport function handler3({ api }) { /* ... */ }\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>// ./index.ts\nimport * as handlers from './handlers'\n\napp.post('/', (req, res, next) =&gt; {\n  const handler = determineHandlerName()\n  if(handler in handlers) {\n    handlers[handler](api)\n  }\n})\n</code></pre>\n\n<p>Is there an elegant way to tell typescript the <code>handlers</code> object looks like this?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Handlers {\n  [key: string]: (Api) =&gt; void\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "webpack", "react-router-dom", "code-splitting"], "comments": [{"owner": {"reputation": 233, "user_id": 10489644, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SOrnrLtRd_c/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUKFUiNoE6SH2Wbyho7101r6NnfIQ/mo/photo.jpg?sz=128", "display_name": "Tapan Dave", "link": "https://stackoverflow.com/users/10489644/tapan-dave"}, "edited": false, "score": 0, "creation_date": 1568200949, "post_id": 57887788, "comment_id": 102197795, "body": "which version you use ?"}, {"owner": {"reputation": 572, "user_id": 4931398, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c50c3f4445363d9ea9afd2ff5c804b5?s=128&d=identicon&r=PG&f=1", "display_name": "dominik791", "link": "https://stackoverflow.com/users/4931398/dominik791"}, "reply_to_user": {"reputation": 233, "user_id": 10489644, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SOrnrLtRd_c/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUKFUiNoE6SH2Wbyho7101r6NnfIQ/mo/photo.jpg?sz=128", "display_name": "Tapan Dave", "link": "https://stackoverflow.com/users/10489644/tapan-dave"}, "edited": false, "score": 0, "creation_date": 1568201009, "post_id": 57887788, "comment_id": 102197809, "body": "@TapanDave: &quot;webpack&quot;: &quot;4.39.3&quot;, &quot;react&quot;: &quot;16.9.0&quot;, &quot;react-dom&quot;: &quot;16.9.0&quot;, &quot;react-router-dom&quot;: &quot;^5.0.1&quot;"}, {"owner": {"reputation": 233, "user_id": 10489644, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SOrnrLtRd_c/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUKFUiNoE6SH2Wbyho7101r6NnfIQ/mo/photo.jpg?sz=128", "display_name": "Tapan Dave", "link": "https://stackoverflow.com/users/10489644/tapan-dave"}, "edited": false, "score": 0, "creation_date": 1568201062, "post_id": 57887788, "comment_id": 102197834, "body": "do you have any jsfiddle running for demo ?"}, {"owner": {"reputation": 572, "user_id": 4931398, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c50c3f4445363d9ea9afd2ff5c804b5?s=128&d=identicon&r=PG&f=1", "display_name": "dominik791", "link": "https://stackoverflow.com/users/4931398/dominik791"}, "reply_to_user": {"reputation": 233, "user_id": 10489644, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SOrnrLtRd_c/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUKFUiNoE6SH2Wbyho7101r6NnfIQ/mo/photo.jpg?sz=128", "display_name": "Tapan Dave", "link": "https://stackoverflow.com/users/10489644/tapan-dave"}, "edited": false, "score": 0, "creation_date": 1568201126, "post_id": 57887788, "comment_id": 102197877, "body": "@TapanDave nope, just locally but I can prepare it"}, {"owner": {"reputation": 233, "user_id": 10489644, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SOrnrLtRd_c/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUKFUiNoE6SH2Wbyho7101r6NnfIQ/mo/photo.jpg?sz=128", "display_name": "Tapan Dave", "link": "https://stackoverflow.com/users/10489644/tapan-dave"}, "edited": false, "score": 0, "creation_date": 1568201250, "post_id": 57887788, "comment_id": 102197942, "body": "yes please if you able to do"}], "answers": [{"tags": [], "owner": {"reputation": 370, "user_id": 1299978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UGDrT.jpg?s=128&g=1", "display_name": "Javad Khodadadi", "link": "https://stackoverflow.com/users/1299978/javad-khodadadi"}, "is_accepted": false, "score": 0, "last_activity_date": 1568201466, "creation_date": 1568201466, "answer_id": 57888195, "question_id": 57887788, "link": "https://stackoverflow.com/questions/57887788/code-splitting-with-react-lazy-suspense-and-react-router-dom-doesnt-work/57888195#57888195", "title": "Code splitting with React.lazy, Suspense and react-router-dom doesn&#39;t work", "body": "<p>my react version is 16.4.0 and work it!</p>\n\n<p>The only difference between me and you:</p>\n\n<p>i using BrowserRouter.\nyou used HashRouter.</p>\n"}, {"comments": [{"owner": {"reputation": 874, "user_id": 3576184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u55h2.jpg?s=128&g=1", "display_name": "Guillaume Jasmin", "link": "https://stackoverflow.com/users/3576184/guillaume-jasmin"}, "edited": false, "score": 0, "creation_date": 1572889892, "post_id": 57888445, "comment_id": 103693642, "body": "That can help someone: when I changed module from &quot;commonjs&quot; to &quot;esnext&quot; then my compilation failed because I have forget &quot;moduleResolution&quot;: &quot;node&quot;. Now it works !"}], "tags": [], "owner": {"reputation": 572, "user_id": 4931398, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c50c3f4445363d9ea9afd2ff5c804b5?s=128&d=identicon&r=PG&f=1", "display_name": "dominik791", "link": "https://stackoverflow.com/users/4931398/dominik791"}, "is_accepted": true, "score": 2, "last_activity_date": 1568202314, "creation_date": 1568202314, "answer_id": 57888445, "question_id": 57887788, "link": "https://stackoverflow.com/questions/57887788/code-splitting-with-react-lazy-suspense-and-react-router-dom-doesnt-work/57888445#57888445", "title": "Code splitting with React.lazy, Suspense and react-router-dom doesn&#39;t work", "body": "<p>I found the solution. It's <code>TypeScript</code>-related. I needed to set:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"module\": \"esnext\",\n  },\n}\n</code></pre>\n\n<p>instead of <code>commonjs</code>.</p>\n\n<p>Now code-splitting works as expected.</p>\n"}], "owner": {"reputation": 572, "user_id": 4931398, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c50c3f4445363d9ea9afd2ff5c804b5?s=128&d=identicon&r=PG&f=1", "display_name": "dominik791", "link": "https://stackoverflow.com/users/4931398/dominik791"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 944, "favorite_count": 0, "accepted_answer_id": 57888445, "answer_count": 2, "score": 1, "last_activity_date": 1572890089, "creation_date": 1568200056, "last_edit_date": 1568202152, "question_id": 57887788, "link": "https://stackoverflow.com/questions/57887788/code-splitting-with-react-lazy-suspense-and-react-router-dom-doesnt-work", "title": "Code splitting with React.lazy, Suspense and react-router-dom doesn&#39;t work", "body": "<p>I am trying to set up a very basic example, similar to: <a href=\"https://reactjs.org/docs/code-splitting.html#route-based-code-splitting\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/code-splitting.html#route-based-code-splitting</a></p>\n\n<p>It should lazy-load route component (ModuleOne or ModuleTwo) with their dependencies dynamically depending on current route.</p>\n\n<p>However looks like code-splitting doesn't work and everything is included in one bundle.</p>\n\n<p>webpack.config.js</p>\n\n<pre><code>const path = require('path');\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\n\nmodule.exports = {\n  entry: './src/index',\n  output: {\n    filename: '[name].bundle.js',\n    chunkFilename: '[name].bundle.js',\n    path: path.resolve(__dirname, '../dist'),\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.tsx?$/,\n        loader: 'awesome-typescript-loader',\n        exclude: /node_modules/,\n      }\n    ],\n  },\n  resolve: {\n    modules: ['node_modules', path.resolve(__dirname, '../src')],\n    extensions: ['.js', '.jsx', '.ts', '.tsx'],\n  }\n};\n</code></pre>\n\n<p>App.tsx</p>\n\n<pre><code>import * as React from 'react';\nimport { HashRouter as Router, Link, Route, Switch } from 'react-router-dom';\nimport * as styles from './App.scss';\n\nconst LazyModuleOne = React.lazy(() =&gt; import('../modules/ModuleOne/ModuleOne'));\nconst LazyModuleTwo = React.lazy(() =&gt; import('../modules/ModuleTwo/ModuleTwo'));\n\nconst App = () =&gt; (\n    &lt;Router&gt;\n        &lt;div className={styles.wrapper}&gt;\n            &lt;nav&gt;\n                &lt;Link to=\"/\"&gt;Start&lt;/Link&gt;\n                &lt;Link to=\"/module-one\"&gt;Module One&lt;/Link&gt;\n                &lt;Link to=\"/module-two\"&gt;Module Two&lt;/Link&gt;\n            &lt;/nav&gt;\n            &lt;main&gt;\n                &lt;React.Suspense fallback={&lt;div&gt;Loading...&lt;/div&gt;}&gt;\n                    &lt;Switch&gt;\n                        &lt;Route path=\"/module-one\" component={LazyModuleOne} /&gt;\n                        &lt;Route path=\"/module-two\" component={LazyModuleTwo} /&gt;\n                    &lt;/Switch&gt;\n                &lt;/React.Suspense&gt;\n            &lt;/main&gt;\n        &lt;/div&gt;\n    &lt;/Router&gt;\n);\n\nexport default App;\n</code></pre>\n\n<p>ModuleOne.tsx</p>\n\n<pre><code>import * as React from 'react';\nimport * as _ from 'lodash';\nimport { RouteComponentProps } from 'react-router';\n\nconst apples = _.fill([1,2,3], 'apple');\n\nconst ModuleOne: React.FC&lt;RouteComponentProps&gt; = () =&gt; (\n  &lt;div&gt;\n    &lt;div&gt;ModuleOne&lt;/div&gt;\n    &lt;div&gt;There are {apples.length} apples&lt;/div&gt;\n  &lt;/div&gt;\n)\n\nexport default ModuleOne;\n</code></pre>\n\n<p>ModuleTwo.tsx</p>\n\n<pre><code>import * as React from 'react';\nimport * as R from 'ramda';\nimport { RouteComponentProps } from 'react-router';\n\nconst cherries = [1,2,3];\n\nconst ModuleTwo: React.SFC&lt;RouteComponentProps&gt; = () =&gt; (\n  &lt;div&gt;\n    &lt;div&gt;ModuleTwo&lt;/div&gt;\n    &lt;div&gt;There are {R.length(cherries)} cherries&lt;/div&gt;\n  &lt;/div&gt;\n)\n\nexport default ModuleTwo;\n</code></pre>\n\n<p>Demo:\n<a href=\"https://i.stack.imgur.com/fnhOr.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fnhOr.gif\" alt=\"enter image description here\"></a></p>\n\n<p>Does anyone have an idea why Route-based code-splitting doesn't work as expected?</p>\n"}, {"tags": ["typescript", "webpack"], "comments": [{"owner": {"reputation": 494, "user_id": 2928827, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9c21540b0e989a0ec466a8fdc6b779dc?s=128&d=identicon&r=PG&f=1", "display_name": "m.akbari", "link": "https://stackoverflow.com/users/2928827/m-akbari"}, "edited": false, "score": 0, "creation_date": 1568205779, "post_id": 57887154, "comment_id": 102200463, "body": "try this: set &quot;target&quot;: &quot;es2016&quot;,         &quot;module&quot;: &quot;es6&quot;,"}, {"owner": {"reputation": 494, "user_id": 2928827, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9c21540b0e989a0ec466a8fdc6b779dc?s=128&d=identicon&r=PG&f=1", "display_name": "m.akbari", "link": "https://stackoverflow.com/users/2928827/m-akbari"}, "edited": false, "score": 0, "creation_date": 1568205872, "post_id": 57887154, "comment_id": 102200511, "body": "normally it should worked with es2015"}], "owner": {"reputation": 7775, "user_id": 423839, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/87198e930e8a9974c207222c0e164174?s=128&d=identicon&r=PG", "display_name": "Archeg", "link": "https://stackoverflow.com/users/423839/archeg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568197759, "creation_date": 1568197759, "question_id": 57887154, "link": "https://stackoverflow.com/questions/57887154/why-typescript-webpack-does-not-show-where-the-error-is-coming-from-during-imp", "title": "Why typescript (webpack) does not show where the error is coming from during import?", "body": "<p>I receive an error during webpack compilation:</p>\n\n<pre><code>ERROR in d:\\Work\\.Projects\\projectweb\\VueApp\\app.ts\n./VueApp/app.ts\n[tsl] ERROR in d:\\Work\\.Projects\\projectweb\\VueApp\\app.ts(2,32)\n      TS2551: Property 'setPrototypeOf' does not exist on type 'ObjectConstructor'. Did you mean 'getPrototypeOf'?\n</code></pre>\n\n<p>(and more)</p>\n\n<p>My <code>app.ts</code> is very simple:</p>\n\n<pre><code>import { Component, Emit, Inject, Model, Prop, Provide, Vue, Watch } from 'vue-property-decorator'\nimport VueBase from './vueBase';\n\n@Component({})\nexport default class App extends VueBase {\n\n}\n</code></pre>\n\n<p>There is no <code>setPrototypeOf</code> and the problem is obviously coming from the import. Why doesn't the error show proper location, but instead shows me that an error is in <code>app.ts</code>?</p>\n\n<p><code>tsconfig</code>:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"target\": \"es5\",\n        \"module\": \"es2015\",\n        \"moduleResolution\": \"node\",\n        \"noImplicitAny\": true,\n        \"noImplicitReturns\": true,\n        \"allowSyntheticDefaultImports\": true,\n        \"experimentalDecorators\": true,\n        \"emitDecoratorMetadata\": true,\n        \"sourceMap\": true\n    }\n}\n</code></pre>\n\n<p>webpack config:</p>\n\n<pre><code>//@ts-check\n\n'use strict';\n\nconst path = require('path');\nconst VueLoaderPlugin = require('vue-loader/lib/plugin');\nvar WebpackNotifierPlugin = require('webpack-notifier');\n\n/**@type {import('webpack').Configuration}*/\nconst config = {\n  target: 'node', // vscode extensions run in a Node.js-context \ud83d\udcd6 -&gt; https://webpack.js.org/configuration/node/\n\n  entry: './VueApp/main.ts', // the entry point of this extension, \ud83d\udcd6 -&gt; https://webpack.js.org/configuration/entry-context/\n  output: {\n    // the bundle is stored in the 'dist' folder (check package.json), \ud83d\udcd6 -&gt; https://webpack.js.org/configuration/output/\n    path: path.resolve(__dirname, 'dist'),\n    filename: 'main.js',\n  },\n  devtool: 'source-map',\n  externals: {\n    vscode: 'commonjs vscode' // the vscode-module is created on-the-fly and must be excluded. Add other modules that cannot be webpack'ed, \ud83d\udcd6 -&gt; https://webpack.js.org/configuration/externals/\n  },\n  resolve: {\n    // support reading TypeScript and JavaScript files, \ud83d\udcd6 -&gt; https://github.com/TypeStrong/ts-loader\n    extensions: ['.ts', '.js']\n  },\n  module: {\n    rules: [\n      {\n          test: /\\.scss$/,\n          use: [\n              'vue-style-loader',\n              'style-loader',\n              'css-loader',\n              'sass-loader'\n          ],\n      },\n      {\n        test: /\\.sass$/,\n        use: [\n            'vue-style-loader',\n            'css-loader',\n            'sass-loader'\n        ],\n      },\n      {\n        test: /\\.ts$/,\n        exclude: /node_modules/,\n        use: [\n          {\n            loader: 'ts-loader'\n          }\n        ]\n      }, \n      {\n        test: /\\.tsx?$/,\n        loader: 'ts-loader',\n        exclude: /node_modules/,\n        options: {\n          appendTsSuffixTo: [/\\.vue$/],\n        }\n      },\n      {\n        test: /\\.vue$/,\n        loader: 'vue-loader',\n        options: {\n            loaders: {\n                // Since sass-loader (weirdly) has SCSS as its default parse mode, we map\n                // the \"scss\" and \"sass\" values for the lang attribute to the right configs here.\n                // other preprocessors should work out of the box, no loader config like this necessary.\n                'scss': [\n                    'vue-style-loader',\n                    'css-loader',\n                    'sass-loader'\n                ],\n                'sass': [\n                    'vue-style-loader',\n                    'css-loader',\n                    'sass-loader'\n                ]\n            }\n            // other vue-loader options go here\n        }\n    },\n    ]\n  },\n  plugins: [\n    new VueLoaderPlugin(),\n    new WebpackNotifierPlugin({\n      alwaysNotify: true\n  }),\n  ]\n};\nmodule.exports = config;\n</code></pre>\n\n<p>I also would like to know why the error comes up in the first place.</p>\n\n<p>I've tried typescript versions <code>3.6.3</code> and <code>2.9.2</code></p>\n"}, {"tags": ["typescript", "typescript-generics"], "answers": [{"tags": [], "owner": {"reputation": 123501, "user_id": 1903366, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XkUeD.png?s=128&g=1", "display_name": "lukasgeiter", "link": "https://stackoverflow.com/users/1903366/lukasgeiter"}, "is_accepted": true, "score": 2, "last_activity_date": 1568199068, "creation_date": 1568199068, "answer_id": 57887515, "question_id": 57887024, "link": "https://stackoverflow.com/questions/57887024/create-record-from-interface-with-return-type-as-property-type-from-original-int/57887515#57887515", "title": "Create record from interface with return type as property type from original interface", "body": "<p>You can use a mapped type for this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type Functionify&lt;T&gt; = { [K in keyof T]: () =&gt; T[K] }\n</code></pre>\n\n<p>It loops over all keys (properties) in the type <code>T</code> and maps them to a function returning the original type <code>T[K]</code>.</p>\n\n<p><a href=\"http://www.typescriptlang.org/play/#code/C4TwDgpgBAYgrgOwMbAJYHsGoGYgDwAqAfFALxQDeUA2gNJSoJQDWEI62UBAugFxQAKAJRkSBOtygBfALAAoeY2AQATtgCGSaAEFK8qFHX8EcALYAjVfNkK5STAGdgUdOYBW-eMjSYc+bSTkFPqG-MKiUAAs1kA\" rel=\"nofollow noreferrer\">Playground</a></p>\n"}], "owner": {"reputation": 5505, "user_id": 4496505, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh6.googleusercontent.com/-zcyMm8egw6M/AAAAAAAAAAI/AAAAAAAAf1c/Y8Sqrj5Zaxo/photo.jpg?sz=128", "display_name": "Gaurav Mukherjee", "link": "https://stackoverflow.com/users/4496505/gaurav-mukherjee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17, "favorite_count": 0, "accepted_answer_id": 57887515, "answer_count": 1, "score": 0, "last_activity_date": 1568199068, "creation_date": 1568197271, "question_id": 57887024, "link": "https://stackoverflow.com/questions/57887024/create-record-from-interface-with-return-type-as-property-type-from-original-int", "title": "Create record from interface with return type as property type from original interface", "body": "<p>I have an interface like</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>inteface A {\n  a: number\n}\n</code></pre>\n\n<p>I want to create type of an object with keys as keys of A and values as function which return type of the key</p>\n\n<p>example</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const obj = {\n  a: () =&gt; 4\n}\n</code></pre>\n\n<p>What should be the type of <code>obj</code> here which should be a generic which takes <code>A</code> interface</p>\n"}, {"tags": ["angular", "typescript", "dropdown", "multi-select"], "comments": [{"owner": {"reputation": 3292, "user_id": 5998241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fDJCR.jpg?s=128&g=1", "display_name": "Md. Rafee", "link": "https://stackoverflow.com/users/5998241/md-rafee"}, "edited": false, "score": 0, "creation_date": 1568198260, "post_id": 57886993, "comment_id": 102196437, "body": "do you mean add icon to each of the option and hover to show tooltip?"}, {"owner": {"reputation": 57, "user_id": 11539188, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JJDFrll48iM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcxaXvUMfW8oB6Hv4VQOiS-XA7CKw/mo/photo.jpg?sz=128", "display_name": "Thilak raj", "link": "https://stackoverflow.com/users/11539188/thilak-raj"}, "reply_to_user": {"reputation": 3292, "user_id": 5998241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fDJCR.jpg?s=128&g=1", "display_name": "Md. Rafee", "link": "https://stackoverflow.com/users/5998241/md-rafee"}, "edited": false, "score": 0, "creation_date": 1568268964, "post_id": 57886993, "comment_id": 102221977, "body": "yes, i want to add icon and show tooltip"}], "owner": {"reputation": 57, "user_id": 11539188, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JJDFrll48iM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcxaXvUMfW8oB6Hv4VQOiS-XA7CKw/mo/photo.jpg?sz=128", "display_name": "Thilak raj", "link": "https://stackoverflow.com/users/11539188/thilak-raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568197178, "creation_date": 1568197178, "question_id": 57886993, "link": "https://stackoverflow.com/questions/57886993/ng-multiselect-dropdown-adding-a-alt-tag-to-checkbox-label-element", "title": "ng-multiselect-dropdown adding a &quot;alt&quot; tag to checkbox label element", "body": "<p>I am using ng-multiselect-dropdown in my application to render a list of checkboxs. Now the requirement is to show a icon beside each of the label with a information icon and on hover of that icon i have to show a short description. is there a method to achieve that as in this image ?</p>\n\n<p>Please find the below code which i am using.</p>\n\n<p>[1]: <a href=\"https://i.stack.imgur.com/3HWek.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/3HWek.png</a> to be achieved</p>\n\n<pre><code>&lt;ng-multiselect-dropdown [placeholder]=\"'6xx'\" [data]=\"this.thirdtDropDown\" \n[settings]=\"dropdownSettings\" (onSelect)=\"onItemSelect($event)\" (onDeSelect)=\"onItemDeSelect($event)\"&gt;&lt;/ng-multiselect-dropdown&gt;\n</code></pre>\n\n<p>Thanks in advance!!</p>\n"}, {"tags": ["angular", "typescript", "angular-reactive-forms", "reactive-forms"], "comments": [{"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1568197122, "post_id": 57886944, "comment_id": 102195876, "body": "That piece of code is not a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, also does that even create a working <code>thirdform</code>? I find it hard to believe if you are using for example <code>FormGroup</code>, but then again, just guessing here..."}, {"owner": {"reputation": 3104, "user_id": 1350162, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Px86A.jpg?s=128&g=1", "display_name": "callback", "link": "https://stackoverflow.com/users/1350162/callback"}, "edited": false, "score": 1, "creation_date": 1568197260, "post_id": 57886944, "comment_id": 102195948, "body": "You should do something like     <code>this.thirdform =new FormGroup({firstForm:this. firstFormGroup,secondForm:this. secondFormGroup})</code>"}, {"owner": {"reputation": 125, "user_id": 11796019, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R31kwKr1XcE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcku-oTg6OAuuOJRoyvXpOD7ZNiEQ/photo.jpg?sz=128", "display_name": "ram kris", "link": "https://stackoverflow.com/users/11796019/ram-kris"}, "reply_to_user": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1568197305, "post_id": 57886944, "comment_id": 102195972, "body": "Hi @AJT_82,I am able to combine two FormGroups. i am unable to select the specific form controls from the FormGroups."}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1568197391, "post_id": 57886944, "comment_id": 102196010, "body": "Then please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, best would be to create a stackblitz for your code. That one line of code says nothing to us."}, {"owner": {"reputation": 1886, "user_id": 8493521, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155601478282179/picture?type=large", "display_name": "Will Alexander", "link": "https://stackoverflow.com/users/8493521/will-alexander"}, "edited": false, "score": 1, "creation_date": 1568197512, "post_id": 57886944, "comment_id": 102196070, "body": "<code>FormGroup.get(&#39;control-name&#39;)</code> returns controls"}], "answers": [{"comments": [{"owner": {"reputation": 3104, "user_id": 1350162, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Px86A.jpg?s=128&g=1", "display_name": "callback", "link": "https://stackoverflow.com/users/1350162/callback"}, "edited": false, "score": 1, "creation_date": 1568197690, "post_id": 57887078, "comment_id": 102196155, "body": "From where did you come up with the fields <code>firstForm</code> and <code>secondForm</code>?"}, {"owner": {"reputation": 528, "user_id": 8296499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4TkRe.jpg?s=128&g=1", "display_name": "Anil Kumar Reddy A", "link": "https://stackoverflow.com/users/8296499/anil-kumar-reddy-a"}, "reply_to_user": {"reputation": 3104, "user_id": 1350162, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Px86A.jpg?s=128&g=1", "display_name": "callback", "link": "https://stackoverflow.com/users/1350162/callback"}, "edited": false, "score": 0, "creation_date": 1568197858, "post_id": 57887078, "comment_id": 102196237, "body": "from the comment what you gave"}, {"owner": {"reputation": 3104, "user_id": 1350162, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Px86A.jpg?s=128&g=1", "display_name": "callback", "link": "https://stackoverflow.com/users/1350162/callback"}, "edited": false, "score": 0, "creation_date": 1568198051, "post_id": 57887078, "comment_id": 102196329, "body": "In that case, you should also mention in the answer that the third form should be constructed differently."}, {"owner": {"reputation": 528, "user_id": 8296499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4TkRe.jpg?s=128&g=1", "display_name": "Anil Kumar Reddy A", "link": "https://stackoverflow.com/users/8296499/anil-kumar-reddy-a"}, "reply_to_user": {"reputation": 3104, "user_id": 1350162, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Px86A.jpg?s=128&g=1", "display_name": "callback", "link": "https://stackoverflow.com/users/1350162/callback"}, "edited": false, "score": 0, "creation_date": 1568198153, "post_id": 57887078, "comment_id": 102196380, "body": "yeah, I mentioned it now"}], "tags": [], "owner": {"reputation": 528, "user_id": 8296499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4TkRe.jpg?s=128&g=1", "display_name": "Anil Kumar Reddy A", "link": "https://stackoverflow.com/users/8296499/anil-kumar-reddy-a"}, "is_accepted": false, "score": 1, "last_activity_date": 1568198433, "last_edit_date": 1568198433, "creation_date": 1568197510, "answer_id": 57887078, "question_id": 57886944, "link": "https://stackoverflow.com/questions/57886944/selecting-number-of-form-controls/57887078#57887078", "title": "Selecting number of form controls", "body": "<p>This can be achieved using something like below.</p>\n\n<pre><code>thirdForm:FormGroup;\ncreateForm() {\n   this.thirdForm = new FormGroup({\n    firstForm: new FormGroup({\n     controlName: new FormControl()\n    }),\n    secondForm: new FormGroup({\n      controlName: new FormControl()\n     })\n    });\n}\n\ngetSpecificValue() {\n   const specificValueFromFirstForm= this.thirdForm.get('firstForm').get('controlName');\n   const specificValueFromSecondForm= this.thirdForm.get('secondForm').get('controlName');\n}\n</code></pre>\n\n<p>Hope it helps!</p>\n"}, {"tags": [], "owner": {"reputation": 2134, "user_id": 754462, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9aba2f4a04dbccedb70a93033b55b166?s=128&d=identicon&r=PG", "display_name": "Vato", "link": "https://stackoverflow.com/users/754462/vato"}, "is_accepted": true, "score": 1, "last_activity_date": 1568198199, "creation_date": 1568198199, "answer_id": 57887277, "question_id": 57886944, "link": "https://stackoverflow.com/questions/57886944/selecting-number-of-form-controls/57887277#57887277", "title": "Selecting number of form controls", "body": "<p>If you disable the controls that you don't want the formgroup.value will return only the ones you need. once you combine you can enable them again. </p>\n\n<pre><code>firstFormGroup.get('formControlYouDontwant').disable();\nfirstFormGroup.get('2ndformControlYouDontwant').disable();\nsecondFormGroup.get('formControlYouDontwant').disable();\nsecondFormGroup.get('2ndformControlYouDontwant').disable();\n\nthis.thirdform = {...this.firstFormGroup.value, ...this.secondFormGroup.value }\n\nfirstFormGroup.get('formControlYouDontwant').enable();\nfirstFormGroup.get('2ndformControlYouDontwant').enable();\nsecondFormGroup.get('formControlYouDontwant').enable();\nsecondFormGroup.get('2ndformControlYouDontwant').enable();\n</code></pre>\n\n<p>or you could just create new by getting the controls you want.</p>\n\n<pre><code>  this.thirdform = { \n    'controlName': this.firstFormGroup.get('controlyouWant').value, \n    '2ndcontrolName':this.firstFormGroup.get('controlyouWant').value, \n    '3rdcontrolName':this.firstFormGroup.get('controlyouWant').value, \n    '4thcontrolName': this.secondFormGroup.get('controlyouWant').value,\n    '5thcontrolName': this.secondFormGroup.get('controlyouWant').value,\n    '6thcontrolName': this.secondFormGroup.get('controlyouWant').value,\n  }\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 11796019, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R31kwKr1XcE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcku-oTg6OAuuOJRoyvXpOD7ZNiEQ/photo.jpg?sz=128", "display_name": "ram kris", "link": "https://stackoverflow.com/users/11796019/ram-kris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 57887277, "answer_count": 2, "score": 1, "last_activity_date": 1568198433, "creation_date": 1568196980, "last_edit_date": 1568197057, "question_id": 57886944, "link": "https://stackoverflow.com/questions/57886944/selecting-number-of-form-controls", "title": "Selecting number of form controls", "body": "<p>In my Angular app. I am combining two form groups to form one form group. I want to select only specific form controls from both the form groups. </p>\n\n<p>I am using this method to combine two Form Groups.</p>\n\n<pre><code>this.thirdform = {...this.firstFormGroup.value, ...this.secondFormGroup.value }\n</code></pre>\n\n<p>Is there any possibility to choose the specific controls from the FormGroups. Please guide me. thanks in Advance.</p>\n"}, {"tags": ["javascript", "node.js", "angular", "typescript", "minify"], "comments": [{"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 3, "creation_date": 1568197976, "post_id": 57886872, "comment_id": 102196294, "body": "The folder assets is copy as is. if you has a .css or .js NOT put in assets folder. this folder is only for images and files that you need -e.g. a .json that you read-"}, {"owner": {"reputation": 1247, "user_id": 6258697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nc4DN.jpg?s=128&g=1", "display_name": "user108828", "link": "https://stackoverflow.com/users/6258697/user108828"}, "reply_to_user": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1568200070, "post_id": 57886872, "comment_id": 102197401, "body": "Most of external libs are in <code>architect.build.scripts</code> in <code>angular.json</code> but I have some .js files that should not be bundled with angular app. Scripts that are executed before angular for example. Where should a put these files ?"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1568201024, "post_id": 57886872, "comment_id": 102197818, "body": "well, in the case the .js not use in Angular is correct (I referred to the others one -just create anoother folder and add the .js in angular.json, is a basic error include .css in assests folder and in angular.json -I don&#39;t want to say is your case-). I supose you always can minifier using external tools"}], "answers": [{"tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": false, "score": 3, "last_activity_date": 1568196946, "creation_date": 1568196946, "answer_id": 57886937, "question_id": 57886872, "link": "https://stackoverflow.com/questions/57886872/angular-7-minify-assets-with-ng-build-prod/57886937#57886937", "title": "Angular 7 minify assets with ng build --prod", "body": "<p>Everything you build in production are already minify if it not minify I think you havent turn on configuration in angular.json. You can use these config in your angular.json</p>\n\n<pre><code>\"configurations\": {\n    \"production\": {\n        \"fileReplacements\": [\n            {\n                \"replace\": \"src/environments/environment.ts\",\n                \"with\": \"src/environments/environment.prod.ts\"\n            }\n        ],\n        \"optimization\": true,\n        \"outputHashing\": \"all\",\n        \"sourceMap\": false,\n        \"extractCss\": true,\n        \"namedChunks\": false,\n        \"aot\": true,\n        \"extractLicenses\": true,\n        \"vendorChunk\": true,\n        \"buildOptimizer\": true,\n        \"serviceWorker\": true,\n        \"deleteOutputPath\": true,\n        \"budgets\": [\n            {\n                \"type\": \"initial\",\n                \"maximumWarning\": \"2mb\",\n                \"maximumError\": \"5mb\"\n            }\n        ]\n    }\n}\n</code></pre>\n\n<p>Then run <code>ng build --prod</code> again</p>\n"}, {"comments": [{"owner": {"reputation": 1247, "user_id": 6258697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nc4DN.jpg?s=128&g=1", "display_name": "user108828", "link": "https://stackoverflow.com/users/6258697/user108828"}, "edited": false, "score": 0, "creation_date": 1568200150, "post_id": 57887073, "comment_id": 102197442, "body": "Thanks but I don&#39;t want to minimize images, just .css and .js files."}, {"owner": {"reputation": 1139, "user_id": 5277707, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/VNJ4T.jpg?s=128&g=1", "display_name": "KLTR", "link": "https://stackoverflow.com/users/5277707/kltr"}, "reply_to_user": {"reputation": 1247, "user_id": 6258697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nc4DN.jpg?s=128&g=1", "display_name": "user108828", "link": "https://stackoverflow.com/users/6258697/user108828"}, "edited": false, "score": 0, "creation_date": 1568200386, "post_id": 57887073, "comment_id": 102197546, "body": "So dont add .js and .css files to your assets folder"}, {"owner": {"reputation": 1247, "user_id": 6258697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nc4DN.jpg?s=128&g=1", "display_name": "user108828", "link": "https://stackoverflow.com/users/6258697/user108828"}, "edited": false, "score": 0, "creation_date": 1568200832, "post_id": 57887073, "comment_id": 102197748, "body": "Most of external libs are in architect.build.scripts in angular.json but I have some .js files that should not be bundled with angular app. Scripts that are executed before angular for example. Where should a put these files ?"}, {"owner": {"reputation": 1139, "user_id": 5277707, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/VNJ4T.jpg?s=128&g=1", "display_name": "KLTR", "link": "https://stackoverflow.com/users/5277707/kltr"}, "reply_to_user": {"reputation": 1247, "user_id": 6258697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nc4DN.jpg?s=128&g=1", "display_name": "user108828", "link": "https://stackoverflow.com/users/6258697/user108828"}, "edited": false, "score": 0, "creation_date": 1568202774, "post_id": 57887073, "comment_id": 102198779, "body": "If you have a server, then you should load these scripts in the server before you load your angular app also you can load them in your index.html . i&#39;m not so sure what are you trying to achieve of course but there are many ways to load js files. but just for this question, files within the assets folder will not get bundled with the angular app."}], "tags": [], "owner": {"reputation": 1139, "user_id": 5277707, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/VNJ4T.jpg?s=128&g=1", "display_name": "KLTR", "link": "https://stackoverflow.com/users/5277707/kltr"}, "is_accepted": false, "score": 1, "last_activity_date": 1568200473, "last_edit_date": 1568200473, "creation_date": 1568197491, "answer_id": 57887073, "question_id": 57886872, "link": "https://stackoverflow.com/questions/57886872/angular-7-minify-assets-with-ng-build-prod/57887073#57887073", "title": "Angular 7 minify assets with ng build --prod", "body": "<p>When you run <code>ng build --prod</code> angular-cli creates a new folder named <code>dist</code> in your project folder. the <code>dist</code> is the folder that you upload to your server in order to deploy your project. </p>\n\n<p>the assets folder is not minimized because there is no code to minimize in that folder, angular-cli does not minimize images, svgs text files etc ...\nif you want to minify images, you can search for online tools such as <a href=\"https://tinyjpg.com/\" rel=\"nofollow noreferrer\">TinyJPG</a></p>\n\n<blockquote>\n  <p>edit:</p>\n</blockquote>\n\n<p>Not necessarily mean that you want to minimize your images, but in your <code>assets</code> folder there shouldn't be any files which are .js .css .html .ts etc...\nonly Jsons, images and other assets </p>\n"}, {"tags": [], "owner": {"reputation": 305, "user_id": 11492760, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lswyh9lNYTc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcchwCONSXZjX5lTYO3vLcCGGbCgw/mo/photo.jpg?sz=128", "display_name": "Thomas Clague", "link": "https://stackoverflow.com/users/11492760/thomas-clague"}, "is_accepted": false, "score": 0, "last_activity_date": 1568198770, "creation_date": 1568198770, "answer_id": 57887434, "question_id": 57886872, "link": "https://stackoverflow.com/questions/57886872/angular-7-minify-assets-with-ng-build-prod/57887434#57887434", "title": "Angular 7 minify assets with ng build --prod", "body": "<p>When you run ng build --prod angular will create a new folder in your project called dist. the dist, This is the folder that you place on your server to run your application from.\nYou will see inside that folder, you will get a few files. All of your CSS and JS will be bundled and minified  into one file each</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4450644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b96ed52af7095c2d317679c57354261d?s=128&d=identicon&r=PG&f=1", "display_name": "tlcooper", "link": "https://stackoverflow.com/users/4450644/tlcooper"}, "is_accepted": false, "score": 0, "last_activity_date": 1568201422, "creation_date": 1568201422, "answer_id": 57888180, "question_id": 57886872, "link": "https://stackoverflow.com/questions/57886872/angular-7-minify-assets-with-ng-build-prod/57888180#57888180", "title": "Angular 7 minify assets with ng build --prod", "body": "<p><code>ng build</code> creates a build in the dist folder using <a href=\"https://webpack.js.org/\" rel=\"nofollow noreferrer\">webpack</a>. The dist folder is published to your production website and contains everything needed to run your website (the minified Angular framework, your code, and dependencies referenced in the application).</p>\n\n<p>CSS and JavaScript in the head of <code>index.html</code> will be referenced from your assets folder without minification. Consider <a href=\"https://medium.com/@davembush/adding-css-and-javascript-to-an-angular-cli-project-2b843a8283f3\" rel=\"nofollow noreferrer\">adding these files to your configuration</a> instead. The working files in the source folder are used for development purposes and are not modified during the build process.</p>\n"}], "owner": {"reputation": 1247, "user_id": 6258697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nc4DN.jpg?s=128&g=1", "display_name": "user108828", "link": "https://stackoverflow.com/users/6258697/user108828"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11641, "favorite_count": 1, "answer_count": 4, "score": 5, "last_activity_date": 1581125747, "creation_date": 1568196645, "last_edit_date": 1581125747, "question_id": 57886872, "link": "https://stackoverflow.com/questions/57886872/angular-7-minify-assets-with-ng-build-prod", "title": "Angular 7 minify assets with ng build --prod", "body": "<p>JavaScript and CSS files in <code>/assets</code> are not minified after <code>ng build --prod</code>. Does someone know how I can minify those files? I don't see anything in the angular doc.</p>\n"}, {"tags": ["typescript", "es6-modules"], "comments": [{"owner": {"reputation": 845, "user_id": 7729975, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/6kkxh.png?s=128&g=1", "display_name": "christian", "link": "https://stackoverflow.com/users/7729975/christian"}, "edited": false, "score": 0, "creation_date": 1573265189, "post_id": 57886431, "comment_id": 103837297, "body": "I&#39;m curious about a few things. (1) what kind of dependencies/arguments do those associated functions take? They look similar to database operations, which personally, would make me more inclined to group them via a class, like a <code>UsersRepository</code>.(2) I think storing the functions in the <code>&#47;models</code> directory is a bit confusing, since <code>&#47;models</code> typically only includes things like interfaces, types, enums, etc. (3) Why use a type instead of an interface for the <code>User</code>?"}, {"owner": {"reputation": 26921, "user_id": 1088797, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/bltA9.png?s=128&g=1", "display_name": "Dan Prince", "link": "https://stackoverflow.com/users/1088797/dan-prince"}, "reply_to_user": {"reputation": 845, "user_id": 7729975, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/6kkxh.png?s=128&g=1", "display_name": "christian", "link": "https://stackoverflow.com/users/7729975/christian"}, "edited": false, "score": 0, "creation_date": 1573316299, "post_id": 57886431, "comment_id": 103846166, "body": "@christian 1) Sure, database operations is exactly what they are. Some people like using a repository pattern in a class, some people like keeping operations as functions. Both have advantages and disadvantages, I prefer functions. 2) Not sure where this idea comes from. That&#39;s not a pattern I&#39;ve ever heard of before! 3) I like that you can use <code>type</code> to express lots of ideas (unions, intersections, aliases, functions, objects), there&#39;s nothing wrong with <code>interface</code> but I don&#39;t often make use of their main selling points (e.g inheritance), therefore I don&#39;t often use them."}], "answers": [{"comments": [{"owner": {"reputation": 26921, "user_id": 1088797, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/bltA9.png?s=128&g=1", "display_name": "Dan Prince", "link": "https://stackoverflow.com/users/1088797/dan-prince"}, "edited": false, "score": 0, "creation_date": 1568202746, "post_id": 57886940, "comment_id": 102198761, "body": "There are quite a few problems with this. The main one is collisions across exported names (e.g. there is a <code>findById</code> export in both <code>User.ts</code> and <code>Team.ts</code>).  This has a ripple effect on the implicit context that came from hierarchy (e.g <code>User.findById</code> now has to be renamed to <code>findUserById</code>).  It also means that every single model function needs to be imported separately (e.g. <code>import { addToTeam } from &quot;.&#47;models&quot;</code>) or imported all at once (e.g. <code>import * as models from &quot;.&#47;models&quot;;</code>."}], "tags": [], "owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "is_accepted": false, "score": 0, "last_activity_date": 1573230646, "last_edit_date": 1573230646, "creation_date": 1568196967, "answer_id": 57886940, "question_id": 57886431, "link": "https://stackoverflow.com/questions/57886431/reducing-redundancy-in-typescript-exports/57886940#57886940", "title": "reducing redundancy in TypeScript exports", "body": "<p>In index.ts you should be able to just export from module... no need to import it first.</p>\n\n<pre><code>import * as User from \"./User\";\nimport * as Team from \"./Team\";\n\nexport { User, Team };\n</code></pre>\n\n<p>Change to:</p>\n\n<pre><code>export * from \"./User\";\nexport * from \"./Team\";\n</code></pre>\n\n<p>Than you will be able to remove these redundant names:</p>\n\n<pre><code>import { User, Team } from \"./models\";\n\nfunction join(user: User, team: Team) {\n  return addToTeam(user.id, team.id);\n}\n</code></pre>\n"}], "owner": {"reputation": 26921, "user_id": 1088797, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/bltA9.png?s=128&g=1", "display_name": "Dan Prince", "link": "https://stackoverflow.com/users/1088797/dan-prince"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1573230646, "creation_date": 1568195265, "last_edit_date": 1573075661, "question_id": 57886431, "link": "https://stackoverflow.com/questions/57886431/reducing-redundancy-in-typescript-exports", "title": "reducing redundancy in TypeScript exports", "body": "<p>Each of the TypeScript files in a <code>models</code> directory exports a main type and a collection of methods that are related to it.</p>\n\n<pre><code>export type User = { ... }\n\nexport function addToTeam() { ... }\n</code></pre>\n\n<p>I'm re-exporting all of these files through an <code>index.ts</code> at the root of the directory.</p>\n\n<pre><code>import * as User from \"./User\";\nimport * as Team from \"./Team\";\n\nexport { User, Team };\n</code></pre>\n\n<p>This adds some redundancy when referring to the main type around the rest of the codebase.</p>\n\n<pre><code>import { User, Team } from \"./models\";\n\nfunction join(user: User.User, team: Team.Team) {\n  return User.addToTeam(user.id, team.id);\n}\n</code></pre>\n\n<p>Seeing as types and values don't live in the same scope, it's possible to export both under the same name.</p>\n\n<pre><code>// models/index.ts\nimport * as _User from \"./User\";\nimport * as _Team from \"./Team\";\n\nexport const User = _User;\nexport type User = _User.User;\n\nexport const Team = _Team;\nexport type Team = _Team.Team;\n</code></pre>\n\n<p>Which means the imported identifier can refer to both.</p>\n\n<pre><code>import { User, Team } from \"./models\";\n\nfunction join(user: User, team: Team) {\n  return Foo.createFoo(foo);\n}\n</code></pre>\n\n<p>Is there any way to export both under the same name without creating a new type and and a new variable in the process?</p>\n\n<p>Here are some examples of unsuccessful attempts.</p>\n\n<pre><code>// TypeScript doesn't support \"export * as\"\nexport * as User from \"./User\";\nexport { User } from \"./User\";\n\n// Duplicate exports\nimport * as User from \"./User\";\nexport type User = User.User;\nexport { User };\n\n// Duplicate exports\nimport * as User from \"./User\";\nimport { User as UserType } from \"./User\";\nexport { User, UserType as User }\n\n// Duplicate exports\nimport * as User from \"./User\";\nexport { User } from \"./User\";\nexport { User };\n</code></pre>\n\n<p>The main problem with all of the above that the <code>export { ... }</code> form seems to export in both type and value scopes.</p>\n\n<p>Here are some other workarounds that I'm not interested in:</p>\n\n<ul>\n<li>Wrapping the functions in a namespace with the same name as the type</li>\n<li>Changing the <em>exported</em> name of the type</li>\n<li>Using a typed class with static methods</li>\n</ul>\n"}, {"tags": ["typescript", "angular6"], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 7644711, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c2c3efe2785e7196f61c3c94161d9969?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul Pawar", "link": "https://stackoverflow.com/users/7644711/rahul-pawar"}, "edited": false, "score": 0, "creation_date": 1568195326, "post_id": 57886094, "comment_id": 102194950, "body": "tried your command in cmd (<code>cloc my&#47;app&#47;folder --include-lang=TypeScript</code>) but its shown &#39;perl&#39; is not recognized as an internal or external command, operable program or batch file."}, {"owner": {"reputation": 4534, "user_id": 10122791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZaYaT.jpg?s=128&g=1", "display_name": "Augustin R", "link": "https://stackoverflow.com/users/10122791/augustin-r"}, "reply_to_user": {"reputation": 113, "user_id": 7644711, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c2c3efe2785e7196f61c3c94161d9969?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul Pawar", "link": "https://stackoverflow.com/users/7644711/rahul-pawar"}, "edited": false, "score": 0, "creation_date": 1568195749, "post_id": 57886094, "comment_id": 102195205, "body": "Are you using Windows? Please refer as <a href=\"https://github.com/AlDanial/cloc\" rel=\"nofollow noreferrer\">this link</a> for more info"}], "tags": [], "owner": {"reputation": 4534, "user_id": 10122791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZaYaT.jpg?s=128&g=1", "display_name": "Augustin R", "link": "https://stackoverflow.com/users/10122791/augustin-r"}, "is_accepted": true, "score": 7, "last_activity_date": 1568195672, "last_edit_date": 1568195672, "creation_date": 1568194217, "answer_id": 57886094, "question_id": 57886045, "link": "https://stackoverflow.com/questions/57886045/how-to-count-total-no-of-lines-from-ts-files/57886094#57886094", "title": "How to count total no of lines from .ts files", "body": "<p>You can use the command-line tool CLOC (Count Lines of Code).</p>\n\n<p>Installation : </p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>npm install -g cloc  \n</code></pre>\n\n<p>Usage :</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>cloc my/app/folder --include-lang=TypeScript\n</code></pre>\n\n<p>You will get an output looking like this :</p>\n\n<pre><code>      88 text files.\n      88 unique files.\n      32 files ignored.\n\ngithub.com/AlDanial/cloc v 1.82  T=0.12 s (516.3 files/s, 19421.4 lines/s)\n-------------------------------------------------------------------------------\nLanguage                     files          blank        comment           code\n-------------------------------------------------------------------------------\nTypeScript                      60            276            101           1880\n-------------------------------------------------------------------------------\nSUM:                            60            276            101           1880\n-------------------------------------------------------------------------------\n</code></pre>\n\n<p><a href=\"https://github.com/AlDanial/cloc\" rel=\"noreferrer\">More info</a></p>\n"}, {"tags": [], "owner": {"reputation": 2314, "user_id": 4675927, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/285ad1cf46c6c64e7a204b8a9d14cb98?s=128&d=identicon&r=PG", "display_name": "theJian", "link": "https://stackoverflow.com/users/4675927/thejian"}, "is_accepted": false, "score": 1, "last_activity_date": 1568195103, "creation_date": 1568195103, "answer_id": 57886370, "question_id": 57886045, "link": "https://stackoverflow.com/questions/57886045/how-to-count-total-no-of-lines-from-ts-files/57886370#57886370", "title": "How to count total no of lines from .ts files", "body": "<p>On Unix you can use <code>wc</code> to count the number of lines of documents.</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>wc -l **/*.ts\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 618, "user_id": 11249318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/225522a4b9d77478f5fb691808aa188b?s=128&d=identicon&r=PG&f=1", "display_name": "Bansi29", "link": "https://stackoverflow.com/users/11249318/bansi29"}, "is_accepted": false, "score": 1, "last_activity_date": 1568201142, "last_edit_date": 1568201142, "creation_date": 1568198036, "answer_id": 57887227, "question_id": 57886045, "link": "https://stackoverflow.com/questions/57886045/how-to-count-total-no-of-lines-from-ts-files/57887227#57887227", "title": "How to count total no of lines from .ts files", "body": "<p>You can try to install this package : <a href=\"https://github.com/flosse/sloc\" rel=\"nofollow noreferrer\">sloc</a></p>\n\n<p>To install :</p>\n\n<pre><code>npm i -g sloc\n</code></pre>\n\n<p>Otherwise, if you are using vscode, you can install line-counter plugins</p>\n"}], "owner": {"reputation": 113, "user_id": 7644711, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c2c3efe2785e7196f61c3c94161d9969?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul Pawar", "link": "https://stackoverflow.com/users/7644711/rahul-pawar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2525, "favorite_count": 0, "accepted_answer_id": 57886094, "answer_count": 3, "score": 2, "last_activity_date": 1568201142, "creation_date": 1568194040, "question_id": 57886045, "link": "https://stackoverflow.com/questions/57886045/how-to-count-total-no-of-lines-from-ts-files", "title": "How to count total no of lines from .ts files", "body": "<p>I have app folder and under that number of modules and components. I need to count only .ts files lines of code. So is there any plugin for VS Code or any other way please suggest?</p>\n"}, {"tags": ["angular", "typescript", "angular-routing", "angular8"], "answers": [{"tags": [], "owner": {"reputation": 691, "user_id": 2088618, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/aDuj1.jpg?s=128&g=1", "display_name": "Daniel Twigg", "link": "https://stackoverflow.com/users/2088618/daniel-twigg"}, "is_accepted": true, "score": 2, "last_activity_date": 1568194934, "creation_date": 1568194934, "answer_id": 57886315, "question_id": 57885927, "link": "https://stackoverflow.com/questions/57885927/angular-8-route-params-in-route-data/57886315#57886315", "title": "Angular 8 route params in route data", "body": "<p>I am not 100% sure if this would work but you could try something </p>\n\n<pre><code>{\n    path: 'introducer/:introducerId/branches/create',\n    component: IntroducerBranchesCreateComponent,\n    data: {\n        pageTitle: 'Add branch',\n        breadcrumbs: () =&gt; {\n            const id = this.getIntroducerId();\n\n            return [\n                { title: 'Branches', link: `/introducer/${id}/branches` },\n                { title: 'Add', link: '' },\n            ]\n        }\n    },\n}\n</code></pre>\n\n<p>And then add the method <code>getIntroducerId</code> to your component, and make your usage of <code>data.breadcrumbs</code> call it as a function instead of just using the object property.</p>\n"}], "owner": {"reputation": 3257, "user_id": 3909886, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/6OFGw.jpg?s=128&g=1", "display_name": "Sam Willis", "link": "https://stackoverflow.com/users/3909886/sam-willis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 762, "favorite_count": 1, "accepted_answer_id": 57886315, "answer_count": 1, "score": 0, "last_activity_date": 1568195653, "creation_date": 1568193583, "last_edit_date": 1568195653, "question_id": 57885927, "link": "https://stackoverflow.com/questions/57885927/angular-8-route-params-in-route-data", "title": "Angular 8 route params in route data", "body": "<p>I have the following route:</p>\n\n<pre><code>{\npath: 'introducer/:introducerId/branches/create',\ncomponent: IntroducerBranchesCreateComponent,\ndata: {\n  pageTitle: 'Add branch',\n  breadcrumbs: [\n    { title: 'Branches', link: '/introducer/' + :introducerId + '/branches' },\n    { title: 'Add', link: '' },\n  ],\n},\n},\n</code></pre>\n\n<p>In the breadcrumbs array I would like to populate the link property using the route param <code>:introducerId</code> but have been unable to do so. Is there a way to do this?</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable", "fork-join"], "comments": [{"owner": {"reputation": 1886, "user_id": 8493521, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155601478282179/picture?type=large", "display_name": "Will Alexander", "link": "https://stackoverflow.com/users/8493521/will-alexander"}, "edited": false, "score": 0, "creation_date": 1568193939, "post_id": 57885869, "comment_id": 102194252, "body": "Unless I&#39;m mistaken, everything in your loop completes before the second <code>forkJoin</code> is even called, hence why there&#39;s nothing in your <code>observables$</code> array. Are <code>period$</code> and <code>user$</code> synchronous?"}, {"owner": {"reputation": 1557, "user_id": 10753504, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tkBx9u5Tloo/AAAAAAAAAAI/AAAAAAAAAH8/BqphfpOK9B4/photo.jpg?sz=128", "display_name": "Quentin", "link": "https://stackoverflow.com/users/10753504/quentin"}, "reply_to_user": {"reputation": 1886, "user_id": 8493521, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155601478282179/picture?type=large", "display_name": "Will Alexander", "link": "https://stackoverflow.com/users/8493521/will-alexander"}, "edited": false, "score": 0, "creation_date": 1568194265, "post_id": 57885869, "comment_id": 102194415, "body": "Yes you are right the loop ends before. But I wish I could continue my code once all the data is recovered, but I do not know how."}, {"owner": {"reputation": 1886, "user_id": 8493521, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155601478282179/picture?type=large", "display_name": "Will Alexander", "link": "https://stackoverflow.com/users/8493521/will-alexander"}, "edited": false, "score": 0, "creation_date": 1568194331, "post_id": 57885869, "comment_id": 102194460, "body": "I&#39;m trying to put together an answer for you"}], "answers": [{"comments": [{"owner": {"reputation": 1557, "user_id": 10753504, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tkBx9u5Tloo/AAAAAAAAAAI/AAAAAAAAAH8/BqphfpOK9B4/photo.jpg?sz=128", "display_name": "Quentin", "link": "https://stackoverflow.com/users/10753504/quentin"}, "edited": false, "score": 0, "creation_date": 1568195962, "post_id": 57886305, "comment_id": 102195303, "body": "I will look at it afterwards, I have errors of compilation because it misses some parentheses"}, {"owner": {"reputation": 1886, "user_id": 8493521, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155601478282179/picture?type=large", "display_name": "Will Alexander", "link": "https://stackoverflow.com/users/8493521/will-alexander"}, "reply_to_user": {"reputation": 1557, "user_id": 10753504, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tkBx9u5Tloo/AAAAAAAAAAI/AAAAAAAAAH8/BqphfpOK9B4/photo.jpg?sz=128", "display_name": "Quentin", "link": "https://stackoverflow.com/users/10753504/quentin"}, "edited": false, "score": 0, "creation_date": 1568195999, "post_id": 57886305, "comment_id": 102195320, "body": "Haha sorry, the problems of writing directly into SO ^^"}, {"owner": {"reputation": 1557, "user_id": 10753504, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tkBx9u5Tloo/AAAAAAAAAAI/AAAAAAAAAH8/BqphfpOK9B4/photo.jpg?sz=128", "display_name": "Quentin", "link": "https://stackoverflow.com/users/10753504/quentin"}, "edited": false, "score": 0, "creation_date": 1568196381, "post_id": 57886305, "comment_id": 102195507, "body": "It seems to be working, I&#39;m going to do some tests this afternoon"}, {"owner": {"reputation": 1886, "user_id": 8493521, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155601478282179/picture?type=large", "display_name": "Will Alexander", "link": "https://stackoverflow.com/users/8493521/will-alexander"}, "reply_to_user": {"reputation": 1557, "user_id": 10753504, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tkBx9u5Tloo/AAAAAAAAAAI/AAAAAAAAAH8/BqphfpOK9B4/photo.jpg?sz=128", "display_name": "Quentin", "link": "https://stackoverflow.com/users/10753504/quentin"}, "edited": false, "score": 1, "creation_date": 1568196521, "post_id": 57886305, "comment_id": 102195587, "body": "Awesome, I&#39;m glad :)"}, {"owner": {"reputation": 1557, "user_id": 10753504, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tkBx9u5Tloo/AAAAAAAAAAI/AAAAAAAAAH8/BqphfpOK9B4/photo.jpg?sz=128", "display_name": "Quentin", "link": "https://stackoverflow.com/users/10753504/quentin"}, "edited": false, "score": 0, "creation_date": 1568213230, "post_id": 57886305, "comment_id": 102204787, "body": "Hey, it&#39;s you wrote the course &quot;Developing Web Applications with Angular&quot; on OC. Thanks again ^^"}, {"owner": {"reputation": 1886, "user_id": 8493521, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155601478282179/picture?type=large", "display_name": "Will Alexander", "link": "https://stackoverflow.com/users/8493521/will-alexander"}, "reply_to_user": {"reputation": 1557, "user_id": 10753504, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tkBx9u5Tloo/AAAAAAAAAAI/AAAAAAAAAH8/BqphfpOK9B4/photo.jpg?sz=128", "display_name": "Quentin", "link": "https://stackoverflow.com/users/10753504/quentin"}, "edited": false, "score": 0, "creation_date": 1568250906, "post_id": 57886305, "comment_id": 102217898, "body": "Haha yeah that\u2019s me ^^"}], "tags": [], "owner": {"reputation": 1886, "user_id": 8493521, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155601478282179/picture?type=large", "display_name": "Will Alexander", "link": "https://stackoverflow.com/users/8493521/will-alexander"}, "is_accepted": true, "score": 2, "last_activity_date": 1568194902, "creation_date": 1568194902, "answer_id": 57886305, "question_id": 57885869, "link": "https://stackoverflow.com/questions/57885869/rxjs-forkjoin-doesnt-run-because-my-list-of-observables-is-incomplete/57886305#57886305", "title": "RxJs: forkJoin() doesn&#39;t run because my list of observables is incomplete", "body": "<p>I'm not 100% certain here, but I think what you need is something along these lines:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>from(this.XLSXObjectives).pipe(\n  filter(objectives =&gt; objectives.values != 0),\n  mergeMap(objectives =&gt; forkJoin(\n    this.storePeriods.getPeriod(new Period({month: objectives.values[0].month, year: objectives.values[0].year}),\n    this.storeUsers.getUser(new User({num_seller: objectives.values[0].userCode}),\n    of(new Wallet({\n      wallet_name: objectives.values[0].walletName,\n      user: null,\n      period: null,\n      margin_m: 0,\n      value_100: objectives.values[0].ValueAt100Percent,\n      percentage_100_m: 0\n    }))\n  )),\n  map(([period, user, wallet]) =&gt; ({ ...wallet, period, user})),\n  mergeMap(wallet =&gt; this.storeObjectives.addXLSXWallet(wallet)),\n  toArray()\n).subscribe(results =&gt; { // handle array of results here });\n</code></pre>\n\n<ul>\n<li>the objectives are emitted one by one</li>\n<li>the <code>mergeMap</code> subscribes to the <code>forkJoin</code> of your three inner Observables (if you need requests to be handled one at a time, use <code>concatMap</code>, and if you only want a certain number of simultaneous requests, add a concurrency argument to <code>mergeMap</code>)</li>\n<li>the <code>map</code> call populates your <code>wallet</code> object with <code>period: period</code> and <code>user: user</code></li>\n<li>the final <code>mergeMap</code> makes the next request using the <code>wallet</code> object</li>\n<li>the <code>toArray</code> call waits until the whole Observable is complete and emits all received values as an array</li>\n</ul>\n"}], "owner": {"reputation": 1557, "user_id": 10753504, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tkBx9u5Tloo/AAAAAAAAAAI/AAAAAAAAAH8/BqphfpOK9B4/photo.jpg?sz=128", "display_name": "Quentin", "link": "https://stackoverflow.com/users/10753504/quentin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "accepted_answer_id": 57886305, "answer_count": 1, "score": 2, "last_activity_date": 1568194902, "creation_date": 1568193385, "question_id": 57885869, "link": "https://stackoverflow.com/questions/57885869/rxjs-forkjoin-doesnt-run-because-my-list-of-observables-is-incomplete", "title": "RxJs: forkJoin() doesn&#39;t run because my list of observables is incomplete", "body": "<p>Well I have a problem that I can not solve.</p>\n\n<p>I am browsing a list of data from an XLSX file.\nFor each line of the file two requests are sent to the server:</p>\n\n<ul>\n<li>One to recover the <strong>period</strong></li>\n<li>Another to recover a <strong>user</strong></li>\n</ul>\n\n<p>An observable <strong>wallet</strong> is created to store the rest of the data in the line. It is completed immediately after.\nOtherwise, the loop would continue to execute and the last data in the list would be taken into account in the <code>forkjoin()</code>.</p>\n\n<p>So I use <code>forkJoin()</code> to wait for the result of the three observables still in the loop.\nOnce the three observables have been completed, a new request is sent.\n<em>And it's here that blocks him.</em>\nThe new query is added to a list of observables.</p>\n\n<p>And I would like to run the rest of my code only after my list of observables is complete by using <code>forkJoin()</code> again,\nafter browsing the data from the XLSX file.\nThe problem is that my loop that runs through my file ends before my list of observables contains anything,\nand the second <code>forkJoin()</code> never executes.</p>\n\n<p><strong>CODE :</strong></p>\n\n<pre><code>for(var objectives of this.XLSXObjectives) {\n    if(objectives.values != 0) {\n        // 2 requests (period and user)\n        var period$ = this.storePeriods.getPeriod(new Period({month: objectives.values[0].month, year: objectives.values[0].year}));\n        var user$ = this.storeUsers.getUser(new User({num_seller: objectives.values[0].userCode}));\n\n        // Observable (wallet)\n        var XLSXWalletSubject: BehaviorSubject&lt;Wallet&gt; = new BehaviorSubject&lt;Wallet&gt;(null);\n        var XLSXWallet$: Observable&lt;any&gt; = XLSXWalletSubject.asObservable();\n        XLSXWalletSubject.next(new Wallet({\n            wallet_name: objectives.values[0].walletName,\n            user: null,\n            period: null,\n            margin_m: 0,\n            value_100: objectives.values[0].ValueAt100Percent,\n            percentage_100_m: 0\n        }));\n\n        // Wait for the result of the three observables\n        forkJoin(period$, user$, XLSXWallet$).subscribe(\n            ([period, user, wallet]) =&gt; {\n                console.warn(\"OK!\");\n\n                wallet.period = period;\n                wallet.user = user;\n\n                // New request\n                var wallet$ = this.storeObjectives.addXLSXWallet(wallet);\n                // Request is added to a list of observables\n                this.observables$.push(wallet$);\n\n                wallet$.subscribe(w =&gt; { ... });\n            }\n        );\n        // Observable (wallet) complete\n        XLSXWalletSubject.complete();\n    }\n}\n\nconsole.warn(this.observables$); // this.observables$ = []\nforkJoin(this.observables$).subscribe(results =&gt; {\n    console.log(\"It doesn't work!!!\")\n});\n</code></pre>\n\n<p>If anyone would have a solution to help me, thank you.</p>\n"}, {"tags": ["reactjs", "typescript", "gatsby", "react-animations"], "owner": {"reputation": 571, "user_id": 8409599, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/23df8ba5200ec016272c9b50852d1aef?s=128&d=identicon&r=PG&f=1", "display_name": "Giulia", "link": "https://stackoverflow.com/users/8409599/giulia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 445, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1568192397, "creation_date": 1568192397, "question_id": 57885601, "link": "https://stackoverflow.com/questions/57885601/error-while-using-react-animations-library-within-a-gatsby-js-website", "title": "Error while using react-animations library within a Gatsby JS website", "body": "<p>I created a Gatsby JS website and I would like to use some simple animations for the text. The library 'react-animations' is the library I chose for the scope. </p>\n\n<p>When installing it with</p>\n\n<pre><code>npm i --save react-animations\n</code></pre>\n\n<p>I get the following messages:</p>\n\n<blockquote>\n  <p>npm WARN eslint-config-react-app@4.0.1 requires a peer of\n  eslint-plugin-flowtype@2.x but none is installed. You must install\n  peer dependencies yourself. </p>\n  \n  <p>npm WARN ts-pnp@1.1.4 requires a peer of typescript@* but none is installed. You must install peer dependencies yourself. </p>\n  \n  <p>npm WARN tsutils@3.17.1 requires a peer of > typescript@>=2.8.0 || >= 3.2.0-dev || >= 3.3.0-dev || >= 3.4.0-dev || >= 3.5.0-dev || >= 3.6.0-dev || >= 3.6.0-beta || >= 3.7.0-dev || >= 3.7.0-beta but none is installed. You must install peer dependencies yourself.</p>\n</blockquote>\n\n<p>By trying to use the library this way: </p>\n\n<pre><code>import styled, { keyframes } from 'styled-components'\nimport { slideInDown } from 'react-animations'\n\nconst slideInDownAnimation = keyframes`${slideInDown}`;\n\nconst slideDown = styled.div`\n  animation: 2s ${slideInDownAnimation};\n`\n;\n</code></pre>\n\n<p>It doesn't work and I get the following message when the import is located:</p>\n\n<blockquote>\n  <p>Could not find a declaration file for module 'react-animations'.\n  'c:path/node_modules/react-animations/lib/index.js' implicitly has an\n  'any' type.   Try <code>npm install @types/react-animations</code> if it exists\n  or add a new declaration (.d.ts) file containing <code>declare module\n  'react-animations';</code></p>\n</blockquote>\n\n<p>I tried </p>\n\n<pre><code>npm install @types/react-animations\n</code></pre>\n\n<p>But it doesn't exist.</p>\n\n<p>Any clue on how to solve? Is typescript needed?</p>\n\n<p>Thanks a lot.</p>\n"}, {"tags": ["angular", "typescript", "angular8"], "comments": [{"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "edited": false, "score": 0, "creation_date": 1568195742, "post_id": 57885520, "comment_id": 102195196, "body": "please update your question again"}], "owner": {"reputation": 11, "user_id": 7919201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f2d2f48af97dff2904a9e59274463a8?s=128&d=identicon&r=PG&f=1", "display_name": "Ramya", "link": "https://stackoverflow.com/users/7919201/ramya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1568195733, "creation_date": 1568192081, "last_edit_date": 1568195733, "question_id": 57885520, "link": "https://stackoverflow.com/questions/57885520/angular8-ui-page-is-not-working-after-saving-the-child-component", "title": "Angular8 UI page is not working after saving the child component", "body": "<p>I have created angular8 project and added a child component \"main-nav\" and added as a attribute in app.component.html. When ever if i did some changes in child component and click on save, child component related UI is not working with CSS. Every time i am stopping the terminal and doing ng serve then UI is working fine.\nI am new to angular. Please help me in resolving the issue.</p>\n\n<p>My output is like this\n    [output][1]\nIf i save my changes then getting output like this\n    [error output][2]</p>\n\n<p>Here is my code</p>\n\n<pre><code>app.component.html\n-----------------\n&lt;main-nav&gt;\n  &lt;button&gt;test&lt;/button&gt;\n&lt;/main-nav&gt;\n\napp.component.ts\n----------------\nimport { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\n\nexport class AppComponent {\n  constructor(){}\n}\n\napp.module.ts\n------------------\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { MainNavComponent } from './main-nav/main-nav.component';\nimport { LayoutModule } from '@angular/cdk/layout';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatSidenavModule } from '@angular/material/sidenav';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatListModule } from '@angular/material/list';\n\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    MainNavComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    BrowserAnimationsModule,\n    LayoutModule,\n    MatToolbarModule,\n    MatButtonModule,\n    MatSidenavModule,\n    MatIconModule,\n    MatListModule\n      ],\n      providers: [],\n      bootstrap: [AppComponent]\n    })\n    export class AppModule { }\n\nmain-nav.component.html\n-----------------------\n&lt;mat-sidenav-container class=\"sidenav-container\"&gt;\n  &lt;mat-sidenav #drawer class=\"sidenav\" \n  &gt;\n&lt;mat-toolbar&gt;Menu&lt;/mat-toolbar&gt;\n&lt;mat-nav-list&gt;\n  &lt;a mat-list-item href=\"#\"&gt;Main&lt;/a&gt;\n  &lt;a mat-list-item href=\"#\"&gt;Banking&lt;/a&gt;\n  &lt;a mat-list-item href=\"#\"&gt;Reporting&lt;/a&gt;\n&lt;/mat-nav-list&gt;\n  &lt;/mat-sidenav&gt;\n  &lt;mat-sidenav-content&gt;\n&lt;mat-toolbar color=\"primary\"&gt;\n  &lt;button\n    type=\"button\"\n    aria-label=\"Toggle sidenav\"\n    mat-icon-button\n    (click)=\"drawer.toggle()\"\n    &gt;\n    &lt;mat-icon aria-label=\"Side nav toggle icon\"&gt;menu&lt;/mat-icon&gt;\n  &lt;/button&gt;\n  &lt;span&gt;Application&lt;/span&gt;\n    &lt;/mat-toolbar&gt;\n    &lt;!-- Add Content Here --&gt;\n  &lt;/mat-sidenav-content&gt;\n&lt;/mat-sidenav-container&gt;\n\nmain-nav.component.ts\n-----------------------\nimport { Component, OnInit } from '@angular/core';\n\n\n@Component({\n  selector: 'main-nav',\n  templateUrl: './main-nav.component.html',\n  styleUrls: ['./main-nav.component.scss']\n    })\nexport class MainNavComponent implements OnInit{\n\n      constructor() { }\n\n             ngOnInit() {\n          }\n        }\n\n      [1]: https://i.stack.imgur.com/PzD3t.png\n      [2]: https://i.stack.imgur.com/Ked7w.png})\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1568190220, "post_id": 57884995, "comment_id": 102192381, "body": "You probably need custom validation as well as custom logic for displaying the numbers based on culture. So you&#39;d need to store the number as the raw value, e.g., <code>1000.52</code> and then apply the culture setting for display -&gt; <code>1 000,52</code> or <code>1,000.52</code> or <code>1.000,52</code>."}, {"owner": {"reputation": 1657, "user_id": 2764486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TEI8y.png?s=128&g=1", "display_name": "Spark Fountain", "link": "https://stackoverflow.com/users/2764486/spark-fountain"}, "edited": false, "score": 0, "creation_date": 1568196590, "post_id": 57884995, "comment_id": 102195634, "body": "Maybe try to avoid the <code>question.type</code> attribute and use <code>text</code> as your general input type. Then you can probably use the <a href=\"https://angular.io/api/common/DecimalPipe\" rel=\"nofollow noreferrer\">DecimalPipe</a> to convert the result into a valid number."}, {"owner": {"reputation": 15657, "user_id": 1164465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qtP66.jpg?s=128&g=1", "display_name": "Christopher Peisert", "link": "https://stackoverflow.com/users/1164465/christopher-peisert"}, "edited": false, "score": 0, "creation_date": 1568202502, "post_id": 57884995, "comment_id": 102198619, "body": "See this answer for i18n number parsing: <a href=\"https://stackoverflow.com/a/42000120/1164465\">stackoverflow.com/a/42000120/1164465</a>"}], "owner": {"reputation": 466, "user_id": 10567964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a959bd66655e34173f69d5a7f4918298?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolai Kiefer", "link": "https://stackoverflow.com/users/10567964/nikolai-kiefer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1568190036, "creation_date": 1568190036, "question_id": 57884995, "link": "https://stackoverflow.com/questions/57884995/use-of-and-interchangeable-for-numbers-in-typescript-angular", "title": "Use of . and , interchangeable for numbers in typescript/angular", "body": "<p>i have a problem at hand due to how numbers are written in my native language german. My Problem is that with german as browser language, the browsers behave diffrently. </p>\n\n<pre><code>&lt;input matInput=\"primary\" [formControlName]=\"question.key\"\n       [id]=\"question.key\" [type]=\"question.type\"&gt;\n</code></pre>\n\n<p>i create my forms dynamicly.</p>\n\n<p>Now, <code>question.type</code> is number.</p>\n\n<p><code>Chrome:</code></p>\n\n<p>You can put in <code>,</code> or <code>.</code> the form will save it with a <code>.</code>\neg: 11,5 or 11.5 becomes 11.5. The Form also accepts both <code>,</code> and <code>.</code></p>\n\n<p><code>Firefox:</code></p>\n\n<p>In firefox you cant put in <code>.</code> the <code>type=\"number\"</code> prevents it. For English browser language its the opposite (as far as i'm aware). You can't put in <code>,</code>.</p>\n\n<p><code>Internet Explorer 11:</code></p>\n\n<p>ie allows both <code>,</code> and <code>.</code> to be put in, however only the ones with <code>.</code> will get reconized as number.</p>\n\n<p>i need all of them to work with <code>,</code> and <code>.</code></p>\n\n<p>One extra thing. In my application i want to track these numbers in the url. Then upon reading those url params. Wich are by default Strings. <code>Number('11,1')</code> becomes NaN and <code>Number(11,1)</code> becomes 11 </p>\n"}, {"tags": ["reactjs", "typescript", "constructor", "state"], "comments": [{"owner": {"reputation": 4958, "user_id": 4627262, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iTGZT9YcyLE/AAAAAAAAAAI/AAAAAAAAALU/-5defYeBo50/photo.jpg?sz=128", "display_name": "rrd", "link": "https://stackoverflow.com/users/4627262/rrd"}, "edited": false, "score": 0, "creation_date": 1568190531, "post_id": 57884980, "comment_id": 102192554, "body": "Does &#39;somePerson&#39; have any of the properties in the Person interface in common?"}, {"owner": {"reputation": 228, "user_id": 8803938, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NtQ0xQns7jg/AAAAAAAAAAI/AAAAAAAAALE/1JvgpuitG_U/photo.jpg?sz=128", "display_name": "Jordan Davis", "link": "https://stackoverflow.com/users/8803938/jordan-davis"}, "reply_to_user": {"reputation": 4958, "user_id": 4627262, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iTGZT9YcyLE/AAAAAAAAAAI/AAAAAAAAALU/-5defYeBo50/photo.jpg?sz=128", "display_name": "rrd", "link": "https://stackoverflow.com/users/4627262/rrd"}, "edited": false, "score": 0, "creation_date": 1568190592, "post_id": 57884980, "comment_id": 102192589, "body": "@rrd no it doesn&#39;t completely different object keys."}], "answers": [{"comments": [{"owner": {"reputation": 228, "user_id": 8803938, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NtQ0xQns7jg/AAAAAAAAAAI/AAAAAAAAALE/1JvgpuitG_U/photo.jpg?sz=128", "display_name": "Jordan Davis", "link": "https://stackoverflow.com/users/8803938/jordan-davis"}, "edited": false, "score": 0, "creation_date": 1568191655, "post_id": 57885315, "comment_id": 102193109, "body": "gotcha, I would have to define the interfaces for the nested <code>objects</code> in the <code>interface Props</code> then it wouldn&#39;t be <code>any</code>"}, {"owner": {"reputation": 4573, "user_id": 1832330, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/tX0As.jpg?s=128&g=1", "display_name": "zhuber", "link": "https://stackoverflow.com/users/1832330/zhuber"}, "reply_to_user": {"reputation": 228, "user_id": 8803938, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NtQ0xQns7jg/AAAAAAAAAAI/AAAAAAAAALE/1JvgpuitG_U/photo.jpg?sz=128", "display_name": "Jordan Davis", "link": "https://stackoverflow.com/users/8803938/jordan-davis"}, "edited": false, "score": 0, "creation_date": 1568191768, "post_id": 57885315, "comment_id": 102193169, "body": "Exactly! It&#39;s always easier to use any in some cases just to hack it and make it work, but when you encounter bug later on, its pretty hard to fix it, so try force types as much as possible and use any if you really have to."}, {"owner": {"reputation": 228, "user_id": 8803938, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NtQ0xQns7jg/AAAAAAAAAAI/AAAAAAAAALE/1JvgpuitG_U/photo.jpg?sz=128", "display_name": "Jordan Davis", "link": "https://stackoverflow.com/users/8803938/jordan-davis"}, "edited": false, "score": 0, "creation_date": 1568191940, "post_id": 57885315, "comment_id": 102193245, "body": "wait I just updated and still not working, I&#39;ll update the code base so you can see"}, {"owner": {"reputation": 228, "user_id": 8803938, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NtQ0xQns7jg/AAAAAAAAAAI/AAAAAAAAALE/1JvgpuitG_U/photo.jpg?sz=128", "display_name": "Jordan Davis", "link": "https://stackoverflow.com/users/8803938/jordan-davis"}, "edited": false, "score": 0, "creation_date": 1568192384, "post_id": 57885315, "comment_id": 102193469, "body": "its not of type <code>any</code> anymore and is of type <code>Person</code> which is good, but it should of fail on the passdown from the parent &gt; child component in the <code>this.props</code>"}, {"owner": {"reputation": 4573, "user_id": 1832330, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/tX0As.jpg?s=128&g=1", "display_name": "zhuber", "link": "https://stackoverflow.com/users/1832330/zhuber"}, "reply_to_user": {"reputation": 228, "user_id": 8803938, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NtQ0xQns7jg/AAAAAAAAAAI/AAAAAAAAALE/1JvgpuitG_U/photo.jpg?sz=128", "display_name": "Jordan Davis", "link": "https://stackoverflow.com/users/8803938/jordan-davis"}, "edited": false, "score": 0, "creation_date": 1568192970, "post_id": 57885315, "comment_id": 102193795, "body": "@JordanDavis I&#39;m not sure what is the questions now? It fails or?"}], "tags": [], "owner": {"reputation": 4573, "user_id": 1832330, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/tX0As.jpg?s=128&g=1", "display_name": "zhuber", "link": "https://stackoverflow.com/users/1832330/zhuber"}, "is_accepted": true, "score": 2, "last_activity_date": 1568191278, "creation_date": 1568191278, "answer_id": 57885315, "question_id": 57884980, "link": "https://stackoverflow.com/questions/57884980/react-typescript-ignoring-interface-on-assignment/57885315#57885315", "title": "React: Typescript - ignoring Interface on assignment", "body": "<p>Typescript can't know if your <code>any</code> variable holds an instance of your object or not. It's anything, so it could be an instance of your object.</p>\n\n<p>Consider this</p>\n\n<pre><code>const x: any = {};\n\n// valid\nlet y: string = x;\n\n// invalid\ny = 1;\n\nlet num: any = 1;\n\n// valid\ny = num;\n</code></pre>\n\n<p>Basically you shouldn't be using <code>any</code> in typescript (at least my rule of thumb), because whats the use of typescript in that case? But if you want to use <code>any</code>, then you'll just have to deal with such \"weird\" scenarios.</p>\n"}, {"tags": [], "owner": {"reputation": 9809, "user_id": 2308005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/I8e1z.jpg?s=128&g=1", "display_name": "Medet Tleukabiluly", "link": "https://stackoverflow.com/users/2308005/medet-tleukabiluly"}, "is_accepted": false, "score": 0, "last_activity_date": 1568191421, "creation_date": 1568191421, "answer_id": 57885347, "question_id": 57884980, "link": "https://stackoverflow.com/questions/57884980/react-typescript-ignoring-interface-on-assignment/57885347#57885347", "title": "React: Typescript - ignoring Interface on assignment", "body": "<p>Try explicitly settings the state</p>\n\n<pre><code>export class MyComponent extends Component&lt;Props,State&gt; {\n    state: State;\n    constructor(props: Props){\n        super(props);\n\n        // destructuring from the @props\n        // this [person] is not of the interface type Person\n        let { person: somePerson } = this.props.data;\n\n        this.state = {\n            ...this.state,\n            person: somePerson // not of type Person\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 228, "user_id": 8803938, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NtQ0xQns7jg/AAAAAAAAAAI/AAAAAAAAALE/1JvgpuitG_U/photo.jpg?sz=128", "display_name": "Jordan Davis", "link": "https://stackoverflow.com/users/8803938/jordan-davis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 57885315, "answer_count": 2, "score": -2, "last_activity_date": 1595451288, "creation_date": 1568189988, "last_edit_date": 1568192197, "question_id": 57884980, "link": "https://stackoverflow.com/questions/57884980/react-typescript-ignoring-interface-on-assignment", "title": "React: Typescript - ignoring Interface on assignment", "body": "<p>I have a <code>interface</code> called <code>State</code> defined, and when I set the state in the <code>constructor</code> it is ignoring the interface.</p>\n\n<p>In the <code>constructor</code> I set <code>person</code> which is part of the <code>interface State</code> to the variable <code>somePerson</code> which is not of the <code>interface Person</code>, so it should throw a <code>TypeError</code> but its not </p>\n\n<hr>\n\n<p><strong>Interfaces:</strong></p>\n\n<pre><code>interface Person{\n    id: number;\n    name: string;\n    phone: string;\n    email: string;\n    photo: string;\n    position: string;\n}\ninterface Test {\n    workday: any;\n    person: Person;\n}\ninterface Props {\n    data: Test;   \n    settings: any;\n}\ninterface State{\n    person: Person;\n    contract: number;\n    manager: Manager;\n    workday: Workday;\n}\n</code></pre>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>export class MyComponent extends Component&lt;Props,State&gt; {\n    constructor(props: Props){\n        super(props);\n\n        // destructuring from the @props\n        // this [person] is not of the interface type Person\n        let { person: somePerson } = this.props.data;\n\n        this.state = {\n            ...this.state,\n            person: somePerson // not of type Person\n        }\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Question:</strong> why is it allowing me to set <code>state.person</code> to a variable that is not of the type <code>interface Person</code>?</p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1568191312, "post_id": 57884842, "comment_id": 102192946, "body": "Not related, but why are you using nativeElement here, why not just attach a click event to the button? You seem to do it a bit backwards and your code isn&#39;t really &quot;angularish&quot;"}, {"owner": {"reputation": 1, "user_id": 12051712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36a25cb52388d7a8d9de14cd9eb63262?s=128&d=identicon&r=PG&f=1", "display_name": "Clarchik", "link": "https://stackoverflow.com/users/12051712/clarchik"}, "reply_to_user": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1568194091, "post_id": 57884842, "comment_id": 102194320, "body": "Okay, if you have another solution how to do Observable from your button click just say I&#39;ll replace it"}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1568194196, "post_id": 57884842, "comment_id": 102194381, "body": "Do you need to make button click as observable? Cannot you just call <code>this.slotService.getAvailableSlots()</code> when button is clicked?"}], "answers": [{"comments": [{"owner": {"reputation": 8533, "user_id": 9423231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54730771ababc9c107cf6dac3087b23?s=128&d=identicon&r=PG&f=1", "display_name": "frido", "link": "https://stackoverflow.com/users/9423231/frido"}, "reply_to_user": {"reputation": 1, "user_id": 12051712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36a25cb52388d7a8d9de14cd9eb63262?s=128&d=identicon&r=PG&f=1", "display_name": "Clarchik", "link": "https://stackoverflow.com/users/12051712/clarchik"}, "edited": false, "score": 0, "creation_date": 1568193996, "post_id": 57885395, "comment_id": 102194272, "body": "@Clarchik it&#39;s better practice to move error handling with <code>catchError</code> into your service. This way you also don&#39;t need to use <code>repeat()</code>."}, {"owner": {"reputation": 8097, "user_id": 8618350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f100e1a27815164cb9a9bf00487858?s=128&d=identicon&r=PG&f=1", "display_name": "Fan Cheung", "link": "https://stackoverflow.com/users/8618350/fan-cheung"}, "edited": false, "score": 0, "creation_date": 1568194042, "post_id": 57885395, "comment_id": 102194291, "body": "Ya I think in theory ur event should still fire if error caught in the inner observable"}, {"owner": {"reputation": 1, "user_id": 12051712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36a25cb52388d7a8d9de14cd9eb63262?s=128&d=identicon&r=PG&f=1", "display_name": "Clarchik", "link": "https://stackoverflow.com/users/12051712/clarchik"}, "edited": false, "score": 0, "creation_date": 1568194436, "post_id": 57885395, "comment_id": 102194504, "body": "But got another problem. When i get HTTP error next method is invoked instead of error method in subscribe"}, {"owner": {"reputation": 8097, "user_id": 8618350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f100e1a27815164cb9a9bf00487858?s=128&d=identicon&r=PG&f=1", "display_name": "Fan Cheung", "link": "https://stackoverflow.com/users/8618350/fan-cheung"}, "edited": false, "score": 1, "creation_date": 1568194501, "post_id": 57885395, "comment_id": 102194529, "body": "Yes that\u2019s actually expected behavior. It is better to handle the error in catch error. As there maybe multiple inner streams in ur main stream."}, {"owner": {"reputation": 1, "user_id": 12051712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36a25cb52388d7a8d9de14cd9eb63262?s=128&d=identicon&r=PG&f=1", "display_name": "Clarchik", "link": "https://stackoverflow.com/users/12051712/clarchik"}, "edited": false, "score": 0, "creation_date": 1568194961, "post_id": 57885395, "comment_id": 102194740, "body": "Did that. But anyway its invokes succes result which shouldn&#39;t."}, {"owner": {"reputation": 1, "user_id": 12051712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36a25cb52388d7a8d9de14cd9eb63262?s=128&d=identicon&r=PG&f=1", "display_name": "Clarchik", "link": "https://stackoverflow.com/users/12051712/clarchik"}, "edited": false, "score": 0, "creation_date": 1568196222, "post_id": 57885395, "comment_id": 102195437, "body": "after throwError operator it works as before only once."}, {"owner": {"reputation": 1, "user_id": 12051712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36a25cb52388d7a8d9de14cd9eb63262?s=128&d=identicon&r=PG&f=1", "display_name": "Clarchik", "link": "https://stackoverflow.com/users/12051712/clarchik"}, "edited": false, "score": 0, "creation_date": 1568196449, "post_id": 57885395, "comment_id": 102195543, "body": "@FanCheung just help me please )))"}, {"owner": {"reputation": 8097, "user_id": 8618350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f100e1a27815164cb9a9bf00487858?s=128&d=identicon&r=PG&f=1", "display_name": "Fan Cheung", "link": "https://stackoverflow.com/users/8618350/fan-cheung"}, "edited": false, "score": 0, "creation_date": 1568196530, "post_id": 57885395, "comment_id": 102195594, "body": "Read the article pasted above. There is different error handling strategy in RxJs. The answer provided is the one I prefer which is not to leak error to subscribe"}, {"owner": {"reputation": 1, "user_id": 12051712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36a25cb52388d7a8d9de14cd9eb63262?s=128&d=identicon&r=PG&f=1", "display_name": "Clarchik", "link": "https://stackoverflow.com/users/12051712/clarchik"}, "edited": false, "score": 0, "creation_date": 1568307655, "post_id": 57885395, "comment_id": 102242285, "body": "@Fan Cheung Couldn\u2019t find solution for my problem? Can you help ?"}, {"owner": {"reputation": 8097, "user_id": 8618350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f100e1a27815164cb9a9bf00487858?s=128&d=identicon&r=PG&f=1", "display_name": "Fan Cheung", "link": "https://stackoverflow.com/users/8618350/fan-cheung"}, "edited": false, "score": 0, "creation_date": 1568341309, "post_id": 57885395, "comment_id": 102251565, "body": "Think I have provided enough information for u to solve the problem. If u still stuck please setup a stackbliz"}, {"owner": {"reputation": 8097, "user_id": 8618350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f100e1a27815164cb9a9bf00487858?s=128&d=identicon&r=PG&f=1", "display_name": "Fan Cheung", "link": "https://stackoverflow.com/users/8618350/fan-cheung"}, "edited": false, "score": 0, "creation_date": 1568449033, "post_id": 57885395, "comment_id": 102283917, "body": "Can;t see what&#39;s wrong with your code. Again if you use catchError there is no need to add error callback inside subscribe() because it suppose to be handled in catchError"}], "tags": [], "owner": {"reputation": 8097, "user_id": 8618350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f100e1a27815164cb9a9bf00487858?s=128&d=identicon&r=PG&f=1", "display_name": "Fan Cheung", "link": "https://stackoverflow.com/users/8618350/fan-cheung"}, "is_accepted": false, "score": 0, "last_activity_date": 1568191574, "creation_date": 1568191574, "answer_id": 57885395, "question_id": 57884842, "link": "https://stackoverflow.com/questions/57884842/how-to-fix-http-request-with-exhaustmap-operator-working-only-once/57885395#57885395", "title": "How to fix: HTTP request with exhaustMap operator working only once", "body": "<p>add a repeat operator at the end and don't forget to handle error</p>\n\n<pre><code> this.clicks$.pipe(\n        exhaustMap(() =&gt; this.slotService.getAllAvailableSlots()),\n        catchError(e=&gt;of(e)),\n        repeat()\n    )\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12051712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36a25cb52388d7a8d9de14cd9eb63262?s=128&d=identicon&r=PG&f=1", "display_name": "Clarchik", "link": "https://stackoverflow.com/users/12051712/clarchik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 444, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568191574, "creation_date": 1568189521, "last_edit_date": 1568189889, "question_id": 57884842, "link": "https://stackoverflow.com/questions/57884842/how-to-fix-http-request-with-exhaustmap-operator-working-only-once", "title": "How to fix: HTTP request with exhaustMap operator working only once", "body": "<p>I have button that invokes HTTP request and gets data from the server.\nNow I want to stops multiple clicking on that button when until previous HTTP request is not done. </p>\n\n<p>I could achieve this result by using exhaustMap operator from RXJS library.</p>\n\n<p>In result its working only on first click and after HTTP request is done with success or error on another click its not working at all.</p>\n\n<p>How I can resolve this problem ?</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;button #rescheduleButton  type=\"button\" class=\"btn btn-primary\"&gt;\n     Get Data                \n&lt;/button&gt;\n</code></pre>\n\n<p>TYPESCRIPT</p>\n\n<pre><code>@ViewChild('rescheduleButton', {static: false}) rescheduleButton: ElementRef;\nclicks$: Observable&lt;any&gt;;\n\n\n\npublic ngAfterViewInit() {\n    const button = this.rescheduleButton.nativeElement;\n    this.clicks$ = fromEvent(button, 'click');\n    this.clicks$.pipe(\n        exhaustMap(() =&gt; this.slotService.getAllAvailableSlots())\n    ).subscribe((slots) =&gt; {\n        console.log(slots, 'slots');\n    })}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "edited": false, "score": 0, "creation_date": 1568190135, "post_id": 57884752, "comment_id": 102192331, "body": "Can you share it in stackbiltz"}, {"owner": {"reputation": 538, "user_id": 12022853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b0a5493bb8bf4c574691d6ec6a997e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pravu", "link": "https://stackoverflow.com/users/12022853/pravu"}, "reply_to_user": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "edited": false, "score": 1, "creation_date": 1568194774, "post_id": 57884752, "comment_id": 102194648, "body": "it quite big... Okey..I try to make it simple.."}], "answers": [{"comments": [{"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "edited": false, "score": 0, "creation_date": 1568189795, "post_id": 57884908, "comment_id": 102192154, "body": "You are right, I didn&#39;t notice it was in <code>ngOnInit</code>"}, {"owner": {"reputation": 538, "user_id": 12022853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b0a5493bb8bf4c574691d6ec6a997e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pravu", "link": "https://stackoverflow.com/users/12022853/pravu"}, "edited": false, "score": 0, "creation_date": 1568190069, "post_id": 57884908, "comment_id": 102192298, "body": "Thanks for your answer.. But still got the same error <code>ERROR TypeError: &quot;that.scrollableDiv.nativeElement is undefined&quot;</code>"}, {"owner": {"reputation": 276, "user_id": 10624652, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oCV_qsSkKmI/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDJ-LZk_UQ5IwEEF7jqpJse5yZCpA/mo/photo.jpg?sz=128", "display_name": "Felix Movee", "link": "https://stackoverflow.com/users/10624652/felix-movee"}, "edited": false, "score": 0, "creation_date": 1568197087, "post_id": 57884908, "comment_id": 102195856, "body": "&quot;that.scrollable&quot; could it be that somewhere else you are using &quot;that&quot; instead of this ?"}], "tags": [], "owner": {"reputation": 276, "user_id": 10624652, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oCV_qsSkKmI/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDJ-LZk_UQ5IwEEF7jqpJse5yZCpA/mo/photo.jpg?sz=128", "display_name": "Felix Movee", "link": "https://stackoverflow.com/users/10624652/felix-movee"}, "is_accepted": false, "score": 2, "last_activity_date": 1568189741, "creation_date": 1568189741, "answer_id": 57884908, "question_id": 57884752, "link": "https://stackoverflow.com/questions/57884752/errorthis-scrollablediv-nativeelement-is-undefined/57884908#57884908", "title": "ERROR:this.scrollableDiv.nativeElement is undefined", "body": "<p>ngOnInit is called before the view children has the chance to register.</p>\n\n<p>Use ngAfterViewInit() instead.</p>\n"}], "owner": {"reputation": 538, "user_id": 12022853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b0a5493bb8bf4c574691d6ec6a997e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pravu", "link": "https://stackoverflow.com/users/12022853/pravu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1568189741, "creation_date": 1568189231, "question_id": 57884752, "link": "https://stackoverflow.com/questions/57884752/errorthis-scrollablediv-nativeelement-is-undefined", "title": "ERROR:this.scrollableDiv.nativeElement is undefined", "body": "<p>I want to call <code>scrollIntoView</code> on a <strong>HTML</strong> element in a component. But I got error like bellow.</p>\n\n<blockquote>\n  <p>ERROR TypeError: \"_this.scrollableDiv.nativeElement is undefined\"</p>\n</blockquote>\n\n<p><strong>Component Code</strong></p>\n\n<pre><code>  @Input(\"data\") detailData : any = {};\n  @ViewChild('scrollableDiv') scrollableDiv: ElementRef;\n\n  ngOnInit() {\n    console.log(this.detailData);\n   const myNode = this.detailData;\n   console.log(myNode)\n\n    if (myNode) {\n      console.log(this.detailData);\n      setTimeout(() =&gt; {\n        this.scrollableDiv.nativeElement.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n      });\n\n     }\n\n  }\n</code></pre>\n\n<p>In <strong>HTML</strong> I've provided like bellow</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div [id]=\"detailData.key\" #scrollableDiv&gt;\n</code></pre>\n\n<p>Hope anyone can help me, please...</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["reactjs", "typescript", "generics", "react-props"], "answers": [{"comments": [{"owner": {"reputation": 1690, "user_id": 10104341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df7326ce0b47203cf7bf776da128e5a6?s=128&d=identicon&r=PG&f=1", "display_name": "Dimitris Efst", "link": "https://stackoverflow.com/users/10104341/dimitris-efst"}, "edited": false, "score": 0, "creation_date": 1568191032, "post_id": 57884559, "comment_id": 102192805, "body": "Thank you. One small problem I have now is, I am trying to access some properties, on the list and map through them, but i get this error: ``` Property &#39;type&#39; does not exist on type &#39;{}&#39;.ts(2339) ``` I have already update the Desc with the included code.."}, {"owner": {"reputation": 4573, "user_id": 1832330, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/tX0As.jpg?s=128&g=1", "display_name": "zhuber", "link": "https://stackoverflow.com/users/1832330/zhuber"}, "reply_to_user": {"reputation": 1690, "user_id": 10104341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df7326ce0b47203cf7bf776da128e5a6?s=128&d=identicon&r=PG&f=1", "display_name": "Dimitris Efst", "link": "https://stackoverflow.com/users/10104341/dimitris-efst"}, "edited": false, "score": 0, "creation_date": 1568191381, "post_id": 57884559, "comment_id": 102192978, "body": "I guess your T needs to extend MappedObject if I understood your new problem: interface IProps&lt;T extends MappedObject&gt;"}], "tags": [], "owner": {"reputation": 4573, "user_id": 1832330, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/tX0As.jpg?s=128&g=1", "display_name": "zhuber", "link": "https://stackoverflow.com/users/1832330/zhuber"}, "is_accepted": true, "score": 1, "last_activity_date": 1568188468, "creation_date": 1568188468, "answer_id": 57884559, "question_id": 57884340, "link": "https://stackoverflow.com/questions/57884340/typescript-how-to-use-generic-in-a-re-usable-react-component/57884559#57884559", "title": "TypeScript - How to use Generic in a Re-Usable React Component", "body": "<p>You are missing your generic constraint before the function:</p>\n\n<pre><code>const AssociatedTableList: &lt;T&gt;(p: IProps&lt;T&gt;) =&gt; React.ReactElement&lt;IProps&lt;T&gt;&gt; = ({ \n    list,\n    listItem,\n    listItemName,\n    listItemStatus,\n    listItemType\n}) =&gt; {\n    // your code\n};\n</code></pre>\n\n<p>I personally prefer normal functions since they are more readable when using generics:</p>\n\n<pre><code>function AssociatedTableList&lt;T&gt;(props: IProps&lt;T&gt;): React.ReactElement&lt;IProps&lt;T&gt;&gt; {\n    // your code\n}\n</code></pre>\n"}], "owner": {"reputation": 1690, "user_id": 10104341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df7326ce0b47203cf7bf776da128e5a6?s=128&d=identicon&r=PG&f=1", "display_name": "Dimitris Efst", "link": "https://stackoverflow.com/users/10104341/dimitris-efst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 57884559, "answer_count": 1, "score": 0, "last_activity_date": 1568191242, "creation_date": 1568187621, "last_edit_date": 1568191242, "question_id": 57884340, "link": "https://stackoverflow.com/questions/57884340/typescript-how-to-use-generic-in-a-re-usable-react-component", "title": "TypeScript - How to use Generic in a Re-Usable React Component", "body": "<p>I have a reusable React Component. It has a few Props, which accept a Generic. This is the compoent:</p>\n\n<pre><code>export interface MappedObject {\n  key: string;\n  name: string;\n  type: string;\n  status: AppStatus;\n}\nexport interface IProps&lt;T&gt; extends MappedObject {\n  listing: T[];\n  listingName: string;\n  listingType?: boolean;\n  listingStatus?: boolean;\n}\n</code></pre>\n\n<p>I want my re-usable component to accept a Generic when referencing Props.</p>\n\n<pre><code>const AssociatedTableList: &lt;T&gt;(props: IProps&lt;T&gt;) =&gt; ReactElement&lt;IProps&lt;T&gt;&gt; = ({\n  listing,\n  listingName,\n  listingType,\n  listingStatus\n}) =&gt; {\n  const isListingAvailable = isEmpty(Array.isArray(listing));\n\n  return (\n    &lt;Fragment&gt;\n      {isListingAvailable &amp;&amp; `There are no associated ${listingName} yet`}\n      {isListingAvailable &amp;&amp; (\n        &lt;table\n          className=\"table table-borderless table-striped table-small\"\n          data-test=\"connections-listing-table\"\n        &gt;\n          &lt;thead className=\"text-color-light-gray\"&gt;\n            &lt;tr&gt;\n              &lt;th&gt;{`${listingName}`} Name&lt;/th&gt;\n              {listingType &amp;&amp; &lt;th&gt;Type&lt;/th&gt;}\n              {listingStatus &amp;&amp; &lt;th&gt;Status&lt;/th&gt;}\n            &lt;/tr&gt;\n          &lt;/thead&gt;\n          &lt;tbody&gt;\n            {listing.map(({ type, status, name, key }) =&gt; ( // The error is in this properties\n              &lt;tr key={key} data-test=\"connections-listing-row\"&gt;\n                &lt;td className=\"text-primary font-weight-medium w-25\"&gt;{name}&lt;/td&gt;\n                &lt;td&gt;{type}&lt;/td&gt;\n                &lt;td&gt;{status}&lt;/td&gt;\n              &lt;/tr&gt;\n            ))}\n          &lt;/tbody&gt;\n        &lt;/table&gt;\n      )}\n    &lt;/Fragment&gt;\n  );\n};\n</code></pre>\n\n<p>But I get the following error:</p>\n\n<pre><code>Cannot find name T\n</code></pre>\n\n<p>I tried extending it like this <code>T = {}</code> or <code>T as any</code> but no luck. I read about extending it, but I want it to be reusable by anyone. I am keen to have a type with all available types it can accept and extend it like <code>T extends AvailableGenericTypes</code>.</p>\n\n<p>Do you have any idea, how I can do that? Thank you very much..</p>\n"}, {"tags": ["typescript", "google-chrome-devtools", "response-headers"], "comments": [{"owner": {"reputation": 100127, "user_id": 67392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95e28ac250c4604a6f9d7e34705c3259?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/67392/richard"}, "edited": false, "score": 2, "creation_date": 1568189075, "post_id": 57884237, "comment_id": 102191771, "body": "Why do you want to do this? (And remember their are other browsers with equivalent Dev Tools functionality.)"}, {"owner": {"reputation": 2416, "user_id": 11607676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g7M3S.jpg?s=128&g=1", "display_name": "Kiran Mistry", "link": "https://stackoverflow.com/users/11607676/kiran-mistry"}, "reply_to_user": {"reputation": 100127, "user_id": 67392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95e28ac250c4604a6f9d7e34705c3259?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/67392/richard"}, "edited": false, "score": 0, "creation_date": 1568189863, "post_id": 57884237, "comment_id": 102192198, "body": "@Richard But i Want hide all the details used in my Backend and Frontend and it show&#39;s API name also any solution ..??"}, {"owner": {"reputation": 100127, "user_id": 67392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95e28ac250c4604a6f9d7e34705c3259?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/67392/richard"}, "edited": false, "score": 2, "creation_date": 1568190366, "post_id": 57884237, "comment_id": 102192467, "body": "There is no way to do this. There are lots of options for users to see the detail of what is in the requests and responses (eg. local debugging proxies like Fiddler).  Remember the browser belongs to the user, not the web app."}, {"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 2, "creation_date": 1568191059, "post_id": 57884237, "comment_id": 102192814, "body": "Seems like you&#39;re trying to implement security through obscurity. This isn&#39;t going to work. You probably need authentication. Explain why you think you need this. You cannot hide what the browser does from the user, because the data <b>is</b> in the browser, in their network stack, in their memory and so on."}, {"owner": {"reputation": 2416, "user_id": 11607676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g7M3S.jpg?s=128&g=1", "display_name": "Kiran Mistry", "link": "https://stackoverflow.com/users/11607676/kiran-mistry"}, "reply_to_user": {"reputation": 100127, "user_id": 67392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95e28ac250c4604a6f9d7e34705c3259?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/67392/richard"}, "edited": false, "score": 0, "creation_date": 1568192110, "post_id": 57884237, "comment_id": 102193336, "body": "@Richard i Share my java Code any solution and also set parameter like empID,Authorization,password ,username, u can see inside the response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type, Accept, X-Requested-With,Origin, remember-me,empID,Authorization,password ,username,Access-Control-Request-Headers,Access-Control-Requ&zwnj;&#8203;est-Method&quot;);"}, {"owner": {"reputation": 100127, "user_id": 67392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95e28ac250c4604a6f9d7e34705c3259?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/67392/richard"}, "edited": false, "score": 1, "creation_date": 1568196431, "post_id": 57884237, "comment_id": 102195533, "body": "The entire content of the HTTP request and response is visible to anything operating at the HTTP level (application layer in the OSI model) is completely visible to tooling operating at that level. No code in any web app (including code running as part of a page in the browser) can change this."}, {"owner": {"reputation": 2416, "user_id": 11607676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g7M3S.jpg?s=128&g=1", "display_name": "Kiran Mistry", "link": "https://stackoverflow.com/users/11607676/kiran-mistry"}, "edited": false, "score": 0, "creation_date": 1568197126, "post_id": 57884237, "comment_id": 102195877, "body": "that means it always will appear we can&#39;t do anything \u263a"}], "owner": {"reputation": 2416, "user_id": 11607676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g7M3S.jpg?s=128&g=1", "display_name": "Kiran Mistry", "link": "https://stackoverflow.com/users/11607676/kiran-mistry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1451, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1568192003, "creation_date": 1568187204, "last_edit_date": 1568192003, "question_id": 57884237, "link": "https://stackoverflow.com/questions/57884237/how-to-hide-response-header-inside-chrome-dev-tools", "title": "How to Hide Response Header inside Chrome Dev tools", "body": "<p>Is there any way to hide all the details inside the <strong>Response Header</strong> under Network Console under <strong>Header</strong> Section i tried finding a lot from internet but not getting related solution i tried finding in stack<strong>overflow</strong> but not getting. </p>\n\n<p>Example </p>\n\n<pre><code>Access-Control-Allow-Credentials: true\nAccess-Control-Allow-Headers: Content-Type, Accept, X-Requested-With,Origin, remember-me,empID,Authorization,password ,username,Access-Control-Request-Headers,Access-Control-Request-Method\nAccess-Control-Allow-Methods: POST, GET,DELETE, PUT\nAccess-Control-Allow-Origin: *\nAccess-Control-Max-Age: 3600\nContent-Length: 28\nContent-Type: application/json;charset=UTF-8\nDate: Wed, 11 Sep 2019 07:01:44 GMT\n</code></pre>\n\n<p>And i want also Hide inside the General Section Details For Eg:</p>\n\n<pre><code>Request URL: http://53.16.125.1:3030/vrc-1.1.2/getmenulist?roleId=31&amp;productId=1\nRequest Method: GET\nStatus Code: 200 \nRemote Address: 53.16.125.1:3030\nReferrer Policy: no-referrer-when-downgrade\n</code></pre>\n\n<p>This is java Code where i wrote this code</p>\n\n<pre><code>public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\n\n    HttpServletRequest request = (HttpServletRequest) req;\n\n\n    HttpServletResponse response = (HttpServletResponse) res;\n\n    response.setHeader(\"Access-Control-Allow-Origin\",\"*\");\n    response.setHeader(\"Access-Control-Allow-Credentials\", \"true\");\n\n    response.setHeader(\"Access-Control-Allow-Methods\", \"POST, GET,DELETE, PUT\");\n\n    response.setHeader(\"Access-Control-Max-Age\", \"3600\");\n    response.setHeader(\"Access-Control-Allow-Headers\", \"Content-Type, Accept, X-Requested-With,Origin, remember-me,empID,Authorization,password ,username,Access-Control-Request-Headers,Access-Control-Request-Method\");\n    chain.doFilter(req, res);\n}\n</code></pre>\n\n<p>My <strong>Expectation</strong> is How to Hide all the details with the help of Coding</p>\n\n<p>Thank In Advance</p>\n\n<p>Happy Coding \u263b</p>\n"}, {"tags": ["javascript", "typescript", "memory"], "comments": [{"owner": {"reputation": 15197, "user_id": 6441124, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y35MW.png?s=128&g=1", "display_name": "Mihai T", "link": "https://stackoverflow.com/users/6441124/mihai-t"}, "edited": false, "score": 1, "creation_date": 1568185819, "post_id": 57883790, "comment_id": 102190236, "body": "it all depends on the purpose. There are some differences between classes and namespaces you can find these easily on the web. In your example there is no difference.  So it&#39;s not a preference on how the code is written but it depends on what you need to use in a specific scenario."}], "answers": [{"tags": [], "owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 1, "last_activity_date": 1568185811, "creation_date": 1568185811, "answer_id": 57883874, "question_id": 57883790, "link": "https://stackoverflow.com/questions/57883790/typescript-difference-in-class-with-static-members-vs-namespace-with-const-mem/57883874#57883874", "title": "Typescript - Difference in class with static members vs namespace with const members", "body": "<p><code>TestClass</code> is a class, thus you can create instances from it. It doesn't seem as if you need that, so go with the namespace.</p>\n\n<blockquote>\n  <p>Does the memory management differ between the two?</p>\n</blockquote>\n\n<p>Not really, both will create an object that lives forever.</p>\n"}, {"comments": [{"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 1, "creation_date": 1568185976, "post_id": 57883884, "comment_id": 102190300, "body": "An abstract class with static members only would still be the wrong tool for the jobb though ..."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "reply_to_user": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1568186198, "post_id": 57883884, "comment_id": 102190385, "body": "@JonasWilms I don&#39;t disagree. In OO languages like Java you do occasionally get a &quot;utility class&quot; that just has static methods and is disallowed from instantiation (private constructor or abstract class) but in those instances, it&#39;s a kludge around the fact that you can&#39;t just have free floating functions. Better OO design would be to have an utility class which can produce an instance and you use the utility methods from that. DI would be my go-to for ensuring you don&#39;t litter memory with instances but a Singleton can work. Still in JS you should be using functions if you don&#39;t need classes."}], "tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": true, "score": 1, "last_activity_date": 1568185845, "creation_date": 1568185845, "answer_id": 57883884, "question_id": 57883790, "link": "https://stackoverflow.com/questions/57883790/typescript-difference-in-class-with-static-members-vs-namespace-with-const-mem/57883884#57883884", "title": "Typescript - Difference in class with static members vs namespace with const members", "body": "<p>There are a couple of differences, but they're probably not particularly significant:</p>\n\n<ul>\n<li><p>The most obvious difference between them is that <code>TestClass</code> is a constructor function and <code>TestNamespace</code> is a non-function object. You can call the constructor function. You can't call an object. (You could minimize that difference by making it <code>abstract</code> so <code>new TestClass</code> would be disallowed by the TypeScript compiler.)</p></li>\n<li><p>If you're targeting ES2015+, the <code>class</code> syntax will remain <code>class</code> syntax in the compiled JavaScript. (If you're targeting ES5 or earlier, it's compiled to a function.)</p></li>\n</ul>\n\n<p>There shouldn't be any significant memory management difference.</p>\n"}], "owner": {"reputation": 178, "user_id": 2595921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f8de5b5fa14bcff4c67a71b470f90?s=128&d=identicon&r=PG", "display_name": "spfuller", "link": "https://stackoverflow.com/users/2595921/spfuller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 57883884, "answer_count": 2, "score": 0, "last_activity_date": 1568185845, "creation_date": 1568185505, "question_id": 57883790, "link": "https://stackoverflow.com/questions/57883790/typescript-difference-in-class-with-static-members-vs-namespace-with-const-mem", "title": "Typescript - Difference in class with static members vs namespace with const members", "body": "<p>If I were to create the following namespace and class in Typescript, what difference would there be between the two? Does the memory management differ between the two?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export namespace TestNamespace {\n  export const Test = 'TEST';\n  export const TestFunction = (value:string):boolean =&gt; {\n      return !value || value.length === 0;\n  }\n}\n\nexport class TestClass {\n    static Test = 'TEST';\n    static TestFunction(value:string): boolean {\n        return !value || value.length === 0;\n    }\n}\n</code></pre>\n\n<p>They can both be called in the same way:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>console.log(TestClass.Test);\nconsole.log(TestClass.TestFunction('Test'));\n\nconsole.log(TestNamespace.Test);\nconsole.log(TestNamespace.TestFunction('Test'));\n\n</code></pre>\n\n<p>Is the only difference just the preference in how it's written?</p>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6", "async-await", "es6-promise"], "answers": [{"comments": [{"owner": {"reputation": 333, "user_id": 4412311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b51ea0f950aebc0e35a62027e59f92c9?s=128&d=identicon&r=PG", "display_name": "csakbalint", "link": "https://stackoverflow.com/users/4412311/csakbalint"}, "edited": false, "score": 3, "creation_date": 1568186183, "post_id": 57883954, "comment_id": 102190378, "body": "Or just remove the async keyword"}, {"owner": {"reputation": 26, "user_id": 4818123, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7c7f6fefe7743c80b89b8af7d4ebacc2?s=128&d=identicon&r=PG&f=1", "display_name": "Takesi Tokugawa YD", "link": "https://stackoverflow.com/users/4818123/takesi-tokugawa-yd"}, "reply_to_user": {"reputation": 333, "user_id": 4412311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b51ea0f950aebc0e35a62027e59f92c9?s=128&d=identicon&r=PG", "display_name": "csakbalint", "link": "https://stackoverflow.com/users/4412311/csakbalint"}, "edited": false, "score": 0, "creation_date": 1568186428, "post_id": 57883954, "comment_id": 102190502, "body": "@BalintCsak, thank you for the comment! What about <a href=\"https://github.com/typescript-eslint/typescript-eslint/blob/master/packages/eslint-plugin/docs/rules/promise-function-async.md\" rel=\"nofollow noreferrer\">promise-function-async</a> rule?"}, {"owner": {"reputation": 26, "user_id": 4818123, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7c7f6fefe7743c80b89b8af7d4ebacc2?s=128&d=identicon&r=PG&f=1", "display_name": "Takesi Tokugawa YD", "link": "https://stackoverflow.com/users/4818123/takesi-tokugawa-yd"}, "edited": false, "score": 0, "creation_date": 1568186547, "post_id": 57883954, "comment_id": 102190555, "body": "@JonasWilms, thank you for the answer. I see, so breaking the rule <code>require-await</code> is not violating ES6, is not it?"}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 1, "creation_date": 1568191596, "post_id": 57883954, "comment_id": 102193082, "body": "No it isn&#39;t. Linter rules are there to write best practice code in <i>the general case</i>, not in <i>all cases</i>"}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 333, "user_id": 4412311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b51ea0f950aebc0e35a62027e59f92c9?s=128&d=identicon&r=PG", "display_name": "csakbalint", "link": "https://stackoverflow.com/users/4412311/csakbalint"}, "edited": false, "score": 0, "creation_date": 1568191648, "post_id": 57883954, "comment_id": 102193105, "body": "@BalintCsak both aren&#39;t mandatory here, but both are required by the linters."}], "tags": [], "owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": true, "score": 2, "last_activity_date": 1568186077, "creation_date": 1568186077, "answer_id": 57883954, "question_id": 57883724, "link": "https://stackoverflow.com/questions/57883724/es6-how-to-use-await-with-callbacks/57883954#57883954", "title": "ES6: How to use await with callbacks", "body": "<pre><code> return await new Promise&lt;...&gt;(...);\n</code></pre>\n\n<p>will make the linter happy. But honestly, there is no sense in enforcing that rule here. It only makes sense to await a promise if you want to work with the promises result before returning. </p>\n"}], "owner": {"reputation": 26, "user_id": 4818123, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7c7f6fefe7743c80b89b8af7d4ebacc2?s=128&d=identicon&r=PG&f=1", "display_name": "Takesi Tokugawa YD", "link": "https://stackoverflow.com/users/4818123/takesi-tokugawa-yd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 57883954, "answer_count": 1, "score": 2, "last_activity_date": 1568186077, "creation_date": 1568185268, "question_id": 57883724, "link": "https://stackoverflow.com/questions/57883724/es6-how-to-use-await-with-callbacks", "title": "ES6: How to use await with callbacks", "body": "<p>Here is the wrapper for <code>vue-router</code> written on TypeScript:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>abstract class RoutingHelper {\n\n  // ...\n\n  public static redirectToNamedRoute(targetRouteName: AnyValueOf&lt;typeof NamedRoutes&gt;): Promise&lt;void&gt; {\n    return new Promise&lt;void&gt;((resolve: () =&gt; void): void =&gt; {\n      router.push({ name: targetRouteName }, resolve);\n    });\n  }\n}\n</code></pre>\n\n<p>The rule <a href=\"https://github.com/typescript-eslint/typescript-eslint/blob/master/packages/eslint-plugin/docs/rules/promise-function-async.md\" rel=\"nofollow noreferrer\">@typescript-eslint/promise-function-async</a> forces that method which returns <code>Promise</code> will be <code>async</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>public static async redirectToNamedRoute(targetRouteName: AnyValueOf&lt;typeof NamedRoutes&gt;): Promise&lt;void&gt; {\n    return new Promise&lt;void&gt;((resolve: () =&gt; void): void =&gt; {\n      router.push({ name: targetRouteName }, resolve);\n    });\n  }\n</code></pre>\n\n<p>Now <a href=\"https://eslint.org/docs/rules/require-await\" rel=\"nofollow noreferrer\">require-await</a> tells me that method must include <code>await</code> keyword. How I can observe <code>require-await</code> in this method?</p>\n"}, {"tags": ["typescript", "rxjs"], "comments": [{"owner": {"reputation": 958, "user_id": 7404189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9181c457cf193f4dc089ff4b93ed4fa2?s=128&d=identicon&r=PG&f=1", "display_name": "hrdkisback", "link": "https://stackoverflow.com/users/7404189/hrdkisback"}, "edited": false, "score": 0, "creation_date": 1568184723, "post_id": 57883566, "comment_id": 102189719, "body": "You should refer this, I think it will help <a href=\"https://stackoverflow.com/questions/48021728/add-queueing-to-angulars-httpclient\" title=\"add queueing to angulars httpclient\">stackoverflow.com/questions/48021728/&hellip;</a>"}, {"owner": {"reputation": 8097, "user_id": 8618350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f100e1a27815164cb9a9bf00487858?s=128&d=identicon&r=PG&f=1", "display_name": "Fan Cheung", "link": "https://stackoverflow.com/users/8618350/fan-cheung"}, "edited": false, "score": 0, "creation_date": 1568187703, "post_id": 57883566, "comment_id": 102191091, "body": "It also should only run the next task when the previous task has not yet completed? means all task queued should run at the same time ?"}, {"owner": {"reputation": 1, "user_id": 8476679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f247994e37efa2d894f424bd35e660da?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/8476679/james"}, "reply_to_user": {"reputation": 8097, "user_id": 8618350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f100e1a27815164cb9a9bf00487858?s=128&d=identicon&r=PG&f=1", "display_name": "Fan Cheung", "link": "https://stackoverflow.com/users/8618350/fan-cheung"}, "edited": false, "score": 0, "creation_date": 1568201511, "post_id": 57883566, "comment_id": 102198089, "body": "@fan cheung - Yeah you&#39;re right I&#39;ve updated it"}, {"owner": {"reputation": 8097, "user_id": 8618350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f100e1a27815164cb9a9bf00487858?s=128&d=identicon&r=PG&f=1", "display_name": "Fan Cheung", "link": "https://stackoverflow.com/users/8618350/fan-cheung"}, "edited": false, "score": 0, "creation_date": 1568204292, "post_id": 57883566, "comment_id": 102199558, "body": "<a href=\"https://stackoverflow.com/questions/56740884/queuing-function-using-rxjs/56745598#56745598\" title=\"queuing function using rxjs\">stackoverflow.com/questions/56740884/&hellip;</a>  - I answered in other post, very simple solution"}], "answers": [{"tags": [], "owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "is_accepted": false, "score": 0, "last_activity_date": 1568249220, "last_edit_date": 1568249220, "creation_date": 1568243700, "answer_id": 57897871, "question_id": 57883566, "link": "https://stackoverflow.com/questions/57883566/creating-an-endless-recurring-task-in-rxjs/57897871#57897871", "title": "Creating an endless recurring task in rxjs", "body": "<p>Use zip, zip will fire the interval and then wait for your observable to fire.</p>\n\n<pre><code>zip(interval(1000), longTask()).subscribe(([_, longTaskResult]) =&gt; {\n});\n</code></pre>\n\n<p>Or if your longTask only emits once and completes you could make a recursive call</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const { of } = rxjs;\r\nconst { delay } = rxjs.operators;\r\n\r\nconst longTask = () =&gt; of(Math.random() * 10).pipe(delay(Math.floor(Math.random() * 5000)));\r\n\r\nconst runLongTask = () =&gt; {\r\n  longTask().subscribe(result =&gt; {\r\n    console.log(result);\r\n    runLongTask();\r\n  });\r\n}\r\n\r\nrunLongTask();</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/rxjs/6.5.3/rxjs.umd.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 8476679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f247994e37efa2d894f424bd35e660da?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/8476679/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568249220, "creation_date": 1568184539, "last_edit_date": 1568227766, "question_id": 57883566, "link": "https://stackoverflow.com/questions/57883566/creating-an-endless-recurring-task-in-rxjs", "title": "Creating an endless recurring task in rxjs", "body": "<p>I have a long running task that I want to loop forever in TypeScript.</p>\n\n<p>It should only run the next task when the previous task has completed.</p>\n\n<p>I want to use rxjs for this as it seems the most succinct way to do it.</p>\n\n<p>So far I've used a combination of interval, queue scheduler, defer, exhaust and exhaust map but not had much luck.</p>\n\n<p>This is what I have so far:</p>\n\n<pre><code>function longTask () : void {\n    // some long running task\n}\n\ninterval(1000)\n.pipe(\n     exhaustMap((x) =&gt; \n         defer(()=&gt; longTask())\n     )\n.subscribe();\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 2060, "user_id": 2861794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3804ab367637871dba57e8fb15d6a06?s=128&d=identicon&r=PG&f=1", "display_name": "J. S.", "link": "https://stackoverflow.com/users/2861794/j-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1568184656, "creation_date": 1568184656, "answer_id": 57883583, "question_id": 57883467, "link": "https://stackoverflow.com/questions/57883467/lazy-loading-angular-modules-but-not-using-the-route-prefix/57883583#57883583", "title": "Lazy loading angular modules but not using the route prefix", "body": "<p>The url of components within lazy loaded modules is a combination of the url to the module e.b 'lazy'-> LazyLoadedModule plus the relative path within that module e.g 'faq->FaqComponent.</p>\n\n<p>So the url is <code>path/to/lazy-module + 'relative/path'</code>. In your case <code>lazy/faq</code>. You cannot omit the prefix. </p>\n\n<p>What you can do is to add a redirect in your routing config:</p>\n\n<pre><code>path: 'faq',\npathMatch: 'full,\nredirectTo: 'lazy/faq'\n</code></pre>\n\n<p>When you use routing within your lazy module you can use relative routes: <code>this.router.navigate(['faq'])</code> but the url in the browser would be <code>lazy/faq</code> though.</p>\n\n<p>Another option would be to use empty route for loading your module: </p>\n\n<pre><code>path:'',\nloadChildren: ...\n</code></pre>\n\n<p>But that would load your module immediately when your application starts.</p>\n"}], "owner": {"reputation": 4054, "user_id": 2190986, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0c77e57abcda8e74326f8ea28a3101fe?s=128&d=identicon&r=PG&f=1", "display_name": "Skywalker", "link": "https://stackoverflow.com/users/2190986/skywalker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 440, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1568184656, "creation_date": 1568184178, "question_id": 57883467, "link": "https://stackoverflow.com/questions/57883467/lazy-loading-angular-modules-but-not-using-the-route-prefix", "title": "Lazy loading angular modules but not using the route prefix", "body": "<p>I have an app where I'm lazy loading a module called <code>lazy</code>. That module is lazy loaded via this:</p>\n\n<pre><code>{\n  path:'lazy',\n  loadChildren: \n  './lazy/lazy.module#LazyModule'\n}\n</code></pre>\n\n<p>The <code>lazy</code> module has the following routes in it:</p>\n\n<pre><code>const routes = [\n {\n   path: '',\n   component: LazyComponent\n },\n {\n   path: 'faq',\n   component: FaqComponent\n },\n {\n   path: 'details',\n   component: DetailsComponent\n },\n]\n</code></pre>\n\n<p>The above works fine but I can only access the routes of my lazy loaded module via <code>/lazy/faq</code> or <code>/lazy/details</code>. But what I really want is to not use the route prefix <code>lazy</code> and access the routes of my lazy loaded module directly via <code>/faq</code> and <code>/details</code>.</p>\n\n<p>Is this possible to do? I have not been able find a solution for this.</p>\n"}, {"tags": ["typescript", "textbox", "aurelia"], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 11106771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b0272b5116f875fea10cd445482347b?s=128&d=identicon&r=PG&f=1", "display_name": "Kapil Singhal", "link": "https://stackoverflow.com/users/11106771/kapil-singhal"}, "is_accepted": false, "score": 0, "last_activity_date": 1568186129, "creation_date": 1568186129, "answer_id": 57883970, "question_id": 57883268, "link": "https://stackoverflow.com/questions/57883268/i-want-to-create-textbox-which-allows-only-numbers-how-can-i-do-that-with-types/57883970#57883970", "title": "I want to Create textbox which allows only numbers. How can I do that with Typescript in aurelia?", "body": "<pre><code>I am just giving the idea, might be helpful:\n\nIn Html you may use  \n(keyup)=\"methodName($event.targer.value)\"  event.\n\n\nIn you ts file you may use:\nbindedTextareaProperty;\n\nmethodName(event) {\nif(isNumber(event){\n\n} else {\n// you may the value of last index\nbindedTextareaProperty.slice(0, bindedTextareaProperty.length -1);\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 11439547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/453f1bc502eb3d941a27b515524d2f51?s=128&d=identicon&r=PG&f=1", "display_name": "JP217", "link": "https://stackoverflow.com/users/11439547/jp217"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1568186129, "creation_date": 1568183210, "last_edit_date": 1568183672, "question_id": 57883268, "link": "https://stackoverflow.com/questions/57883268/i-want-to-create-textbox-which-allows-only-numbers-how-can-i-do-that-with-types", "title": "I want to Create textbox which allows only numbers. How can I do that with Typescript in aurelia?", "body": "<p>I want to enter only numbers in textbox so i have added oninput but i want to create using bindableproperty. I don't have idea how to do that. Please suggest me ? </p>\n\n<h1>textbox.html</h1>\n\n<pre><code>&lt;template bindable=\"\"&gt;\n  &lt;input style=\"\n         box-sizing: border-box;\"\n         maxlength=\"10\" ;\n         oninput=\"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1');\" /&gt;\n&lt;/template&gt;;   \n</code></pre>\n\n<h1>textbox.ts</h1>\n\n<pre><code>import { bindable } from 'aurelia-framework';\nexport class textbox {\n  constructor() {\n  }\n}\n</code></pre>\n\n<h1>app.html</h1>\n\n<pre><code>&lt;template bindable=\"\"&gt;\n  &lt;require from=\"./components/textbox.html\"&gt;&lt;/require&gt;\n  &lt;textbox&gt;&lt;/textbox&gt;\n&lt;/template&gt;\n</code></pre>\n\n<h1>app.ts</h1>\n\n<pre><code>export class App {\n}\n</code></pre>\n"}, {"tags": ["javascript", "regex", "angular", "typescript"], "comments": [{"owner": {"reputation": 211, "user_id": 9467887, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O7Asg.png?s=128&g=1", "display_name": "Abu Taha", "link": "https://stackoverflow.com/users/9467887/abu-taha"}, "edited": false, "score": 0, "creation_date": 1568183674, "post_id": 57883140, "comment_id": 102189327, "body": "Is it necessary for you to use regex?"}, {"owner": {"reputation": 1515, "user_id": 10021083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F4opwx4U8H8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq13JczyNUx5Nh4JYB6LEEig1b94fg/mo/photo.jpg?sz=128", "display_name": "Eugene Sukh", "link": "https://stackoverflow.com/users/10021083/eugene-sukh"}, "reply_to_user": {"reputation": 211, "user_id": 9467887, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O7Asg.png?s=128&g=1", "display_name": "Abu Taha", "link": "https://stackoverflow.com/users/9467887/abu-taha"}, "edited": false, "score": 0, "creation_date": 1568187429, "post_id": 57883140, "comment_id": 102190969, "body": "yes, it necessary @AbuTaha"}], "answers": [{"comments": [{"owner": {"reputation": 91458, "user_id": 5424988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0b4f91c20dcd87cbd58dd351455198c?s=128&d=identicon&r=PG&f=1", "display_name": "The fourth bird", "link": "https://stackoverflow.com/users/5424988/the-fourth-bird"}, "edited": false, "score": 0, "creation_date": 1568185770, "post_id": 57883358, "comment_id": 102190204, "body": "You have to escape the dot to match it literally or else <code>100X00</code> will also match. You can omit the character class and just use 0. Note that this will only match strings that start with 100.00."}, {"owner": {"reputation": 1515, "user_id": 10021083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F4opwx4U8H8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq13JczyNUx5Nh4JYB6LEEig1b94fg/mo/photo.jpg?sz=128", "display_name": "Eugene Sukh", "link": "https://stackoverflow.com/users/10021083/eugene-sukh"}, "edited": false, "score": 0, "creation_date": 1568187378, "post_id": 57883358, "comment_id": 102190936, "body": "I cannot type anything in input with this regex"}], "tags": [], "owner": {"reputation": 2417, "user_id": 10831557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gbr55.png?s=128&g=1", "display_name": "Pushprajsinh Chudasama", "link": "https://stackoverflow.com/users/10831557/pushprajsinh-chudasama"}, "is_accepted": false, "score": 2, "last_activity_date": 1568185972, "last_edit_date": 1568185972, "creation_date": 1568183660, "answer_id": 57883358, "question_id": 57883140, "link": "https://stackoverflow.com/questions/57883140/directive-to-limit-decimal-numbers-to-100-00-max-in-text-input-regex/57883358#57883358", "title": "Directive to limit decimal numbers to 100.00 max in text input (Regex)", "body": "<p>Try out the following regex . </p>\n\n<blockquote>\n  <p>^ :- it will check that always the string starting with 100 <br>\n  [0]{2} :- it will check the after <code>.</code> there must be 2 zeros only. </p>\n</blockquote>\n\n<pre><code>private regex: RegExp = /^100\\.[0]{2}/gm;\n</code></pre>\n\n<p>You can check the <a href=\"https://regex101.com/r/AlQhJu/1\" rel=\"nofollow noreferrer\">result</a> in this . </p>\n"}, {"comments": [{"owner": {"reputation": 1515, "user_id": 10021083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F4opwx4U8H8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq13JczyNUx5Nh4JYB6LEEig1b94fg/mo/photo.jpg?sz=128", "display_name": "Eugene Sukh", "link": "https://stackoverflow.com/users/10021083/eugene-sukh"}, "edited": false, "score": 0, "creation_date": 1568187533, "post_id": 57883411, "comment_id": 102191015, "body": "I can type 92309 and cannot type decimals  Here is how it looks <code>private regex: RegExp = new RegExp(&#47;^(\\d{0,2}(.\\d{1,2})?|100(.00?)?)$&#47;g);</code>"}, {"owner": {"reputation": 61, "user_id": 11106771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b0272b5116f875fea10cd445482347b?s=128&d=identicon&r=PG&f=1", "display_name": "Kapil Singhal", "link": "https://stackoverflow.com/users/11106771/kapil-singhal"}, "reply_to_user": {"reputation": 1515, "user_id": 10021083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F4opwx4U8H8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq13JczyNUx5Nh4JYB6LEEig1b94fg/mo/photo.jpg?sz=128", "display_name": "Eugene Sukh", "link": "https://stackoverflow.com/users/10021083/eugene-sukh"}, "edited": false, "score": 0, "creation_date": 1568188064, "post_id": 57883411, "comment_id": 102191281, "body": "Please try this: ^(\\d{0,2}(\\.\\d+)?|100(\\.0+)?)$"}, {"owner": {"reputation": 1515, "user_id": 10021083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F4opwx4U8H8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq13JczyNUx5Nh4JYB6LEEig1b94fg/mo/photo.jpg?sz=128", "display_name": "Eugene Sukh", "link": "https://stackoverflow.com/users/10021083/eugene-sukh"}, "edited": false, "score": 0, "creation_date": 1568188639, "post_id": 57883411, "comment_id": 102191556, "body": "Now I cannot type <code>.</code>  Here is how it&#39;s looks like <code>private regex: RegExp = new RegExp(&#47;^(\\d{0,2}(\\.\\d+)?|100(\\.0+)?)$&#47;g);</code>"}, {"owner": {"reputation": 61, "user_id": 11106771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b0272b5116f875fea10cd445482347b?s=128&d=identicon&r=PG&f=1", "display_name": "Kapil Singhal", "link": "https://stackoverflow.com/users/11106771/kapil-singhal"}, "reply_to_user": {"reputation": 1515, "user_id": 10021083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F4opwx4U8H8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq13JczyNUx5Nh4JYB6LEEig1b94fg/mo/photo.jpg?sz=128", "display_name": "Eugene Sukh", "link": "https://stackoverflow.com/users/10021083/eugene-sukh"}, "edited": false, "score": 0, "creation_date": 1568189331, "post_id": 57883411, "comment_id": 102191903, "body": "I have tested it, it will work, ^(100(?:\\.00?)?|\\d?\\d(?:\\.\\d\\d?)?)$"}], "tags": [], "owner": {"reputation": 61, "user_id": 11106771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b0272b5116f875fea10cd445482347b?s=128&d=identicon&r=PG&f=1", "display_name": "Kapil Singhal", "link": "https://stackoverflow.com/users/11106771/kapil-singhal"}, "is_accepted": false, "score": 0, "last_activity_date": 1568183901, "creation_date": 1568183901, "answer_id": 57883411, "question_id": 57883140, "link": "https://stackoverflow.com/questions/57883140/directive-to-limit-decimal-numbers-to-100-00-max-in-text-input-regex/57883411#57883411", "title": "Directive to limit decimal numbers to 100.00 max in text input (Regex)", "body": "<p>I guess this pattern will work:\n^(\\d{0,2}(.\\d{1,2})?|100(.00?)?)$ </p>\n"}, {"comments": [{"owner": {"reputation": 1515, "user_id": 10021083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F4opwx4U8H8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq13JczyNUx5Nh4JYB6LEEig1b94fg/mo/photo.jpg?sz=128", "display_name": "Eugene Sukh", "link": "https://stackoverflow.com/users/10021083/eugene-sukh"}, "edited": false, "score": 0, "creation_date": 1568187202, "post_id": 57883852, "comment_id": 102190856, "body": "it not allow me type <code>.</code>"}, {"owner": {"reputation": 1515, "user_id": 10021083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F4opwx4U8H8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq13JczyNUx5Nh4JYB6LEEig1b94fg/mo/photo.jpg?sz=128", "display_name": "Eugene Sukh", "link": "https://stackoverflow.com/users/10021083/eugene-sukh"}, "edited": false, "score": 0, "creation_date": 1568187261, "post_id": 57883852, "comment_id": 102190885, "body": "and I cannot type 100"}, {"owner": {"reputation": 1515, "user_id": 10021083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F4opwx4U8H8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq13JczyNUx5Nh4JYB6LEEig1b94fg/mo/photo.jpg?sz=128", "display_name": "Eugene Sukh", "link": "https://stackoverflow.com/users/10021083/eugene-sukh"}, "edited": false, "score": 0, "creation_date": 1568188660, "post_id": 57883852, "comment_id": 102191566, "body": "Here is how it looks like now <code>private regex: RegExp = new RegExp(&#47;^(\\d{1,2}|\\d{1,2}\\.\\d{1,2}|100\\.[0]{1,2}|100)$&#47;g);</code>"}, {"owner": {"reputation": 5884, "user_id": 4283738, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bcb938f3ad5a68706c055de350612b01?s=128&d=identicon&r=PG", "display_name": "joyBlanks", "link": "https://stackoverflow.com/users/4283738/joyblanks"}, "reply_to_user": {"reputation": 1515, "user_id": 10021083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F4opwx4U8H8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq13JczyNUx5Nh4JYB6LEEig1b94fg/mo/photo.jpg?sz=128", "display_name": "Eugene Sukh", "link": "https://stackoverflow.com/users/10021083/eugene-sukh"}, "edited": false, "score": 0, "creation_date": 1568192685, "post_id": 57883852, "comment_id": 102193619, "body": "you need to allow . to be typed beacuase <code>50.</code> is not a valid pattern but <code>50.8</code> is but every key stroke mesures the whole regex, so you need to update your code when . pressed do nothing and on blur if value ends with dot maybe remove the value or remove the dot"}, {"owner": {"reputation": 1515, "user_id": 10021083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F4opwx4U8H8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq13JczyNUx5Nh4JYB6LEEig1b94fg/mo/photo.jpg?sz=128", "display_name": "Eugene Sukh", "link": "https://stackoverflow.com/users/10021083/eugene-sukh"}, "edited": false, "score": 0, "creation_date": 1568192987, "post_id": 57883852, "comment_id": 102193805, "body": "How I can do this?"}, {"owner": {"reputation": 1515, "user_id": 10021083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F4opwx4U8H8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq13JczyNUx5Nh4JYB6LEEig1b94fg/mo/photo.jpg?sz=128", "display_name": "Eugene Sukh", "link": "https://stackoverflow.com/users/10021083/eugene-sukh"}, "edited": false, "score": 0, "creation_date": 1568193383, "post_id": 57883852, "comment_id": 102194004, "body": "Because in my variant I can type ."}, {"owner": {"reputation": 5884, "user_id": 4283738, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bcb938f3ad5a68706c055de350612b01?s=128&d=identicon&r=PG", "display_name": "joyBlanks", "link": "https://stackoverflow.com/users/4283738/joyblanks"}, "reply_to_user": {"reputation": 1515, "user_id": 10021083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F4opwx4U8H8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq13JczyNUx5Nh4JYB6LEEig1b94fg/mo/photo.jpg?sz=128", "display_name": "Eugene Sukh", "link": "https://stackoverflow.com/users/10021083/eugene-sukh"}, "edited": false, "score": 0, "creation_date": 1568194010, "post_id": 57883852, "comment_id": 102194277, "body": "Yes you need to bypass . and validate on blur. Check updated answer"}], "tags": [], "owner": {"reputation": 5884, "user_id": 4283738, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bcb938f3ad5a68706c055de350612b01?s=128&d=identicon&r=PG", "display_name": "joyBlanks", "link": "https://stackoverflow.com/users/4283738/joyblanks"}, "is_accepted": true, "score": 3, "last_activity_date": 1568194331, "last_edit_date": 1568194331, "creation_date": 1568185725, "answer_id": 57883852, "question_id": 57883140, "link": "https://stackoverflow.com/questions/57883140/directive-to-limit-decimal-numbers-to-100-00-max-in-text-input-regex/57883852#57883852", "title": "Directive to limit decimal numbers to 100.00 max in text input (Regex)", "body": "<p>It should match all positive numbers starting 0, 0.0, 0.00 to 100, 100.0, 100.00</p>\n\n<p><strong>Regex</strong>:</p>\n\n<pre><code>^(\\d{1,2}|\\d{1,2}\\.\\d{1,2}|100\\.[0]{1,2}|100)$\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/S9fbY7/3\" rel=\"nofollow noreferrer\">https://regex101.com/r/S9fbY7/3</a></p>\n\n<hr>\n\n<p><strong>Update</strong>:</p>\n\n<p>you need to allow . to be typed beacuase <code>50.</code> is not a valid pattern but <code>50.8</code> is but every keystroke validates the whole regex, so you need to update your code bypass validation when <code>.</code> is pressed do nothing and then on blur if value ends with dot maybe remove the value or remove the dot or add 00 after the dot</p>\n\n<p>Ignored Keys:</p>\n\n<pre><code>private specialKeys: string[] = ['Backspace', 'Tab', 'End', 'Home', '.'];\n</code></pre>\n\n<p>On Blur you want to validate value ending with <code>.</code>. Note choose any one of the option based on your use case.</p>\n\n<pre><code>if (val.endsWith('.')) {\n  // Option 1 strip the . (dot)\n  this.el.nativeElement.value = val.substring(0, val.length - 1); \n\n  // Option 2 add 00 after the . (dot)\n  this.el.nativeElement.value = val + '00'; \n\n  // Option 3 remove the value all together\n  this.el.nativeElement.value = ''; \n}\n</code></pre>\n\n<hr>\n\n<p><strong>Final Code</strong>:</p>\n\n<pre><code>import { HostListener, Directive, ElementRef } from '@angular/core';\n\n@Directive({\n  exportAs: 'decimal-number-directive',\n  selector: 'decimal-number-directive, [decimal-number-directive]',\n})\nexport class DecimalNumberDirective {\n  private regex: RegExp = new RegExp(/^(\\d{1,2}|\\d{1,2}\\.\\d{1,2}|100\\.[0]{1,2}|100)$/g);\n  private specialKeys: string[] = ['Backspace', 'Tab', 'End', 'Home', '.'];\n  constructor(private el: ElementRef) { }\n  @HostListener('keydown', ['$event'])\n  onKeyDown(event: KeyboardEvent): void {\n    if (this.specialKeys.indexOf(event.key) !== -1) {\n      return;\n    }\n\n    const current: string = this.el.nativeElement.value;\n    const next: string = current.concat(event.key);\n    if (next &amp;&amp; !String(next).match(this.regex)) {\n      event.preventDefault();\n    }\n  }\n\n  @HostListener('blur', [])\n  onBlur(): void {\n    const val = this.el.nativeElement.value;\n    if (val.endsWith('.')) {\n      this.el.nativeElement.value = val.substring(0, val.length - 1); // Option 1 strip the .\n      // this.el.nativeElement.value = val + '00'; // Option 2 add 00 after the .\n      // this.el.nativeElement.value = ''; // Option 3 remove the value all together\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1515, "user_id": 10021083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F4opwx4U8H8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq13JczyNUx5Nh4JYB6LEEig1b94fg/mo/photo.jpg?sz=128", "display_name": "Eugene Sukh", "link": "https://stackoverflow.com/users/10021083/eugene-sukh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "accepted_answer_id": 57883852, "answer_count": 3, "score": 3, "last_activity_date": 1568194331, "creation_date": 1568182586, "question_id": 57883140, "link": "https://stackoverflow.com/questions/57883140/directive-to-limit-decimal-numbers-to-100-00-max-in-text-input-regex", "title": "Directive to limit decimal numbers to 100.00 max in text input (Regex)", "body": "<p>I have a directive, which is limit text input to write only decimal numbers in the text input</p>\n\n<p>Here is code of directive</p>\n\n<pre><code> import { HostListener, Directive, ElementRef } from '@angular/core';\n\n@Directive({\n    exportAs: 'decimal-number-directive',\n    selector: 'decimal-number-directive, [decimal-number-directive]',\n})\nexport class DecimalNumberDirective {\n    private regex: RegExp = new RegExp(/^\\d*\\.?\\d{0,2}$/g);\n    private specialKeys: string[] = ['Backspace', 'Tab', 'End', 'Home'];\n    constructor(private el: ElementRef) {}\n    @HostListener('keydown', ['$event'])\n    onKeyDown(event: KeyboardEvent): void {\n        if (this.specialKeys.indexOf(event.key) !== -1) {\n            return;\n        }\n\n        const current: string = this.el.nativeElement.value;\n        const next: string = current.concat(event.key);\n        if (next &amp;&amp; !String(next).match(this.regex)) {\n            event.preventDefault();\n        }\n    }\n}\n</code></pre>\n\n<p>Here is input where I use it</p>\n\n<pre><code>&lt;div class=\"col-2 pr-0\"&gt;\n                        &lt;label&gt;{{ l('Percent') }}&lt;/label&gt;\n                        &lt;input\n                            class=\"form-control\"\n                            type=\"text\"\n                            decimal-number-directive\n                            name=\"percent\"\n                            [(ngModel)]=\"inquiryItemToAdd.percent\"\n                            maxlength=\"64\"\n                            (ngModelChange)=\"setTotalPrice()\"\n                            [readOnly]=\"!inquiryItemToAdd.servicePriceId || !servicePrice.isPriceCalculated\"\n                        /&gt;\n                    &lt;/div&gt;\n</code></pre>\n\n<p>But I can write for example 155.00 or 155.56. I need to limit it with 100.00 because I use this to write percents.</p>\n\n<p>I tried to use this regex <code>private regex: RegExp = new RegExp(/^(\\d{1,2}(\\.\\d{1,2})?)|(100(\\.0{1,2})?)$/g);</code> but I still can use 150 percents.</p>\n\n<p>How I can solve this problem?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 443, "user_id": 9177552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8580fc8fc62a67947167ca40a050c4fa?s=128&d=identicon&r=PG&f=1", "display_name": "Damian Pio\u015b", "link": "https://stackoverflow.com/users/9177552/damian-pio%c5%9b"}, "edited": false, "score": 0, "creation_date": 1568179707, "post_id": 57882574, "comment_id": 102187982, "body": "<code>Parent</code> class does not have method learn, it&#39;s <code>Child</code> class method. You should use <code>Child a = new Child();</code>"}, {"owner": {"reputation": 601, "user_id": 5648557, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BBbg9.jpg?s=128&g=1", "display_name": "Ashim", "link": "https://stackoverflow.com/users/5648557/ashim"}, "reply_to_user": {"reputation": 443, "user_id": 9177552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8580fc8fc62a67947167ca40a050c4fa?s=128&d=identicon&r=PG&f=1", "display_name": "Damian Pio\u015b", "link": "https://stackoverflow.com/users/9177552/damian-pio%c5%9b"}, "edited": false, "score": 0, "creation_date": 1568181989, "post_id": 57882574, "comment_id": 102188729, "body": "@DamianPio\u015b this question is regarding polymorphism. I should be able to save a child in a parent and call the child&#39;s function through parent variable."}, {"owner": {"reputation": 443, "user_id": 9177552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8580fc8fc62a67947167ca40a050c4fa?s=128&d=identicon&r=PG&f=1", "display_name": "Damian Pio\u015b", "link": "https://stackoverflow.com/users/9177552/damian-pio%c5%9b"}, "edited": false, "score": 0, "creation_date": 1568193293, "post_id": 57882574, "comment_id": 102193960, "body": "no, polymorphism means that you can have variable of any type that extends some super class, and only methods defined in this super class are accessible, in your case you want to achieve sth opposite."}, {"owner": {"reputation": 601, "user_id": 5648557, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BBbg9.jpg?s=128&g=1", "display_name": "Ashim", "link": "https://stackoverflow.com/users/5648557/ashim"}, "reply_to_user": {"reputation": 443, "user_id": 9177552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8580fc8fc62a67947167ca40a050c4fa?s=128&d=identicon&r=PG&f=1", "display_name": "Damian Pio\u015b", "link": "https://stackoverflow.com/users/9177552/damian-pio%c5%9b"}, "edited": false, "score": 0, "creation_date": 1568194325, "post_id": 57882574, "comment_id": 102194455, "body": "@DamianPio\u015b you should do a bit research on this because it is possible to do this in C++ using &lt;dynamic cast&gt; which checks what the variable is point at and not the variables pointer type."}, {"owner": {"reputation": 443, "user_id": 9177552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8580fc8fc62a67947167ca40a050c4fa?s=128&d=identicon&r=PG&f=1", "display_name": "Damian Pio\u015b", "link": "https://stackoverflow.com/users/9177552/damian-pio%c5%9b"}, "edited": false, "score": 0, "creation_date": 1568196220, "post_id": 57882574, "comment_id": 102195436, "body": "according to tags, question is about typescript, and i&#39;m answering how it works in this language"}], "answers": [{"comments": [{"owner": {"reputation": 601, "user_id": 5648557, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BBbg9.jpg?s=128&g=1", "display_name": "Ashim", "link": "https://stackoverflow.com/users/5648557/ashim"}, "edited": false, "score": 0, "creation_date": 1568183785, "post_id": 57883171, "comment_id": 102189370, "body": "I did try this but still it will say that learn() does not exist in parent. I have found a way to solve this issue which is using TypeAssertion"}, {"owner": {"reputation": 21939, "user_id": 834045, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vpxna.jpg?s=128&g=1", "display_name": "Kousha", "link": "https://stackoverflow.com/users/834045/kousha"}, "reply_to_user": {"reputation": 601, "user_id": 5648557, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BBbg9.jpg?s=128&g=1", "display_name": "Ashim", "link": "https://stackoverflow.com/users/5648557/ashim"}, "edited": false, "score": 0, "creation_date": 1568223280, "post_id": 57883171, "comment_id": 102209764, "body": "@Ashim that&#39;s not true - I copied the exact same code, pasted it at Typescript Playground and it does print <code>Child Learning</code>"}], "tags": [], "owner": {"reputation": 21939, "user_id": 834045, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vpxna.jpg?s=128&g=1", "display_name": "Kousha", "link": "https://stackoverflow.com/users/834045/kousha"}, "is_accepted": false, "score": 0, "last_activity_date": 1568182725, "creation_date": 1568182725, "answer_id": 57883171, "question_id": 57882574, "link": "https://stackoverflow.com/questions/57882574/how-to-call-functions-of-child-object-stored-in-parent-type-variable/57883171#57883171", "title": "How to call functions of Child Object stored in parent type variable", "body": "<p>If you want the parent to call the child method, you could do something like</p>\n\n<pre><code>abstract class Parent {\n  abstract learn();\n}\n\nclass Child extends Parent {\n  public learn(){\n    console.log(\"Child Learning\");\n  }\n}\n\nconst a: Parent = new Child();\na.learn(); // now exists\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21939, "user_id": 834045, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vpxna.jpg?s=128&g=1", "display_name": "Kousha", "link": "https://stackoverflow.com/users/834045/kousha"}, "edited": false, "score": 0, "creation_date": 1568223387, "post_id": 57883451, "comment_id": 102209814, "body": "Type assertion is purely a Typescript type-change and pre-compiler check. The code that runs is a JS code, and the type-assertion does not <i>change</i> the code that is compiled, meaning <code>a.learn()</code> and <code>(a as Child).learn()</code> is the <i>exact</i> same JS code"}], "tags": [], "owner": {"reputation": 601, "user_id": 5648557, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BBbg9.jpg?s=128&g=1", "display_name": "Ashim", "link": "https://stackoverflow.com/users/5648557/ashim"}, "is_accepted": false, "score": 0, "last_activity_date": 1568184074, "creation_date": 1568184074, "answer_id": 57883451, "question_id": 57882574, "link": "https://stackoverflow.com/questions/57882574/how-to-call-functions-of-child-object-stored-in-parent-type-variable/57883451#57883451", "title": "How to call functions of Child Object stored in parent type variable", "body": "<p>After googling for a while,I finally found the answer.\nAs you know that in C++ we can use dynamic cast inorder to check the type during run time. However, this is not possible in javaScript. Hence, the right choice would be to use <code>\"Type Assertion\"</code>.</p>\n\n<pre><code>let b = a as Child;\nb.learn();\n</code></pre>\n\n<p>Now, you can use b as what it should be which is a Child.</p>\n\n<blockquote>\n  <p>If you want to learn more:</p>\n  \n  <p><a href=\"https://basarat.gitbooks.io/typescript/docs/types/type-assertion.html\" rel=\"nofollow noreferrer\">https://basarat.gitbooks.io/typescript/docs/types/type-assertion.html</a></p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 46, "user_id": 8297491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e91f537f32ac8f11ecf07f11c6725b72?s=128&d=identicon&r=PG&f=1", "display_name": "chandu20", "link": "https://stackoverflow.com/users/8297491/chandu20"}, "is_accepted": false, "score": 1, "last_activity_date": 1568185283, "creation_date": 1568185283, "answer_id": 57883727, "question_id": 57882574, "link": "https://stackoverflow.com/questions/57882574/how-to-call-functions-of-child-object-stored-in-parent-type-variable/57883727#57883727", "title": "How to call functions of Child Object stored in parent type variable", "body": "<p>There is no such thing called \" Upcasting \" in typescript.</p>\n\n<pre><code>Parent a = new Child();\na.learn(); //Does not exist in parent\n</code></pre>\n\n<p>will not work.</p>\n"}], "owner": {"reputation": 601, "user_id": 5648557, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BBbg9.jpg?s=128&g=1", "display_name": "Ashim", "link": "https://stackoverflow.com/users/5648557/ashim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1568185283, "creation_date": 1568179293, "question_id": 57882574, "link": "https://stackoverflow.com/questions/57882574/how-to-call-functions-of-child-object-stored-in-parent-type-variable", "title": "How to call functions of Child Object stored in parent type variable", "body": "<p>I am trying to store the instance of a Child class in a parent variable. When i try to use the parent variable to call the Child's functions, I am unable to do so. How can i use the Child functions ?</p>\n\n<pre><code>class Parent{\n  public teach(){\n   console.log(\"Parent teaching\");\n  }\n}\n\nclass Child extends Parent{\n  public learn(){\n    console.log(\"Child Learning\");\n  }\n}\n\nParent a = new Child();\n\na.learn(); //Does not exist in parent\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-material", "material-design", "mat-table"], "comments": [{"owner": {"reputation": 5884, "user_id": 4283738, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bcb938f3ad5a68706c055de350612b01?s=128&d=identicon&r=PG", "display_name": "joyBlanks", "link": "https://stackoverflow.com/users/4283738/joyblanks"}, "edited": false, "score": 0, "creation_date": 1568176727, "post_id": 57882201, "comment_id": 102187182, "body": "something wrong with createMappedItem and getNationalSchedule you dont have those codes here"}, {"owner": {"reputation": 9160, "user_id": 3935156, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/G8QuQ.jpg?s=128&g=1", "display_name": "BeniaminoBaggins", "link": "https://stackoverflow.com/users/3935156/beniaminobaggins"}, "reply_to_user": {"reputation": 5884, "user_id": 4283738, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bcb938f3ad5a68706c055de350612b01?s=128&d=identicon&r=PG", "display_name": "joyBlanks", "link": "https://stackoverflow.com/users/4283738/joyblanks"}, "edited": false, "score": 0, "creation_date": 1568177033, "post_id": 57882201, "comment_id": 102187246, "body": "@joyBlanks No, I console.logged the list used for the data source."}, {"owner": {"reputation": 5884, "user_id": 4283738, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bcb938f3ad5a68706c055de350612b01?s=128&d=identicon&r=PG", "display_name": "joyBlanks", "link": "https://stackoverflow.com/users/4283738/joyblanks"}, "edited": false, "score": 0, "creation_date": 1568177067, "post_id": 57882201, "comment_id": 102187256, "body": "yes your list has same item repeated 4 times, and you are getting data from the above 2 methods"}, {"owner": {"reputation": 311, "user_id": 6019827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sMsg3.jpg?s=128&g=1", "display_name": "Frapto", "link": "https://stackoverflow.com/users/6019827/frapto"}, "reply_to_user": {"reputation": 5884, "user_id": 4283738, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bcb938f3ad5a68706c055de350612b01?s=128&d=identicon&r=PG", "display_name": "joyBlanks", "link": "https://stackoverflow.com/users/4283738/joyblanks"}, "edited": false, "score": 0, "creation_date": 1568178591, "post_id": 57882201, "comment_id": 102187616, "body": "@joyBlanks the list has different items based on sort index and text"}, {"owner": {"reputation": 311, "user_id": 6019827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sMsg3.jpg?s=128&g=1", "display_name": "Frapto", "link": "https://stackoverflow.com/users/6019827/frapto"}, "edited": false, "score": 0, "creation_date": 1568178622, "post_id": 57882201, "comment_id": 102187628, "body": "@BeniaminoBaggins you don&#39;t output the text anywhere"}, {"owner": {"reputation": 9160, "user_id": 3935156, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/G8QuQ.jpg?s=128&g=1", "display_name": "BeniaminoBaggins", "link": "https://stackoverflow.com/users/3935156/beniaminobaggins"}, "reply_to_user": {"reputation": 5884, "user_id": 4283738, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bcb938f3ad5a68706c055de350612b01?s=128&d=identicon&r=PG", "display_name": "joyBlanks", "link": "https://stackoverflow.com/users/4283738/joyblanks"}, "edited": false, "score": 0, "creation_date": 1568179478, "post_id": 57882201, "comment_id": 102187908, "body": "@joyBlanks The list is in the picture. It has different values. Is the picture not loading for you?"}, {"owner": {"reputation": 9160, "user_id": 3935156, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/G8QuQ.jpg?s=128&g=1", "display_name": "BeniaminoBaggins", "link": "https://stackoverflow.com/users/3935156/beniaminobaggins"}, "reply_to_user": {"reputation": 311, "user_id": 6019827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sMsg3.jpg?s=128&g=1", "display_name": "Frapto", "link": "https://stackoverflow.com/users/6019827/frapto"}, "edited": false, "score": 0, "creation_date": 1568179559, "post_id": 57882201, "comment_id": 102187929, "body": "@user6019827 I guess you\u2019ll just have to believe me that it is printing the last row 4 times as I described."}, {"owner": {"reputation": 200, "user_id": 9662739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c0b28e332df5a26eed9b4e7b3803c7?s=128&d=identicon&r=PG&f=1", "display_name": "Bhanu Tej P", "link": "https://stackoverflow.com/users/9662739/bhanu-tej-p"}, "edited": false, "score": 0, "creation_date": 1568179730, "post_id": 57882201, "comment_id": 102187990, "body": "can you attach a stackblitz of your angular code?"}], "answers": [{"tags": [], "owner": {"reputation": 9738, "user_id": 4858777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R121o.png?s=128&g=1", "display_name": "Valeriy Katkov", "link": "https://stackoverflow.com/users/4858777/valeriy-katkov"}, "is_accepted": true, "score": 1, "last_activity_date": 1568186022, "creation_date": 1568186022, "answer_id": 57883943, "question_id": 57882201, "link": "https://stackoverflow.com/questions/57882201/mat-table-is-repeating-last-item-of-data-array-rather-than-showing-each-unique/57883943#57883943", "title": "mat-table is repeating last item of data array, rather than showing each unique row", "body": "<p>The problem is that you are using the same ngModel <code>name</code> for the row textarea. As a result, all textareas are bound to a single form control and the last value that is set to the control is applied to them all. Try to use unique names, like:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;textarea matInput name=\"specificationText.{{spec.id}}\" [(ngModel)]=\"spec.sortOrder\"&gt;&lt;/textarea&gt;\n</code></pre>\n"}], "owner": {"reputation": 9160, "user_id": 3935156, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/G8QuQ.jpg?s=128&g=1", "display_name": "BeniaminoBaggins", "link": "https://stackoverflow.com/users/3935156/beniaminobaggins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 538, "favorite_count": 0, "accepted_answer_id": 57883943, "answer_count": 1, "score": 1, "last_activity_date": 1568186022, "creation_date": 1568176465, "last_edit_date": 1568176905, "question_id": 57882201, "link": "https://stackoverflow.com/questions/57882201/mat-table-is-repeating-last-item-of-data-array-rather-than-showing-each-unique", "title": "mat-table is repeating last item of data array, rather than showing each unique row", "body": "<p>I'm using a <code>matTable</code> to display this data:\n<a href=\"https://i.stack.imgur.com/qtlDV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qtlDV.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the table code:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;mat-table #table style=\"overflow: hidden\" [dataSource]=\"list\"&gt;\n    &lt;ng-container matColumnDef=\"specifications\"&gt;\n        &lt;th mat-header-cell *matHeaderCellDef&gt; Specifications &lt;/th&gt;\n        &lt;td mat-cell *matCellDef=\"let spec\"&gt;\n            &lt;mat-form-field fxFlex&gt;\n                &lt;textarea matInput name=\"specificationText\" [(ngModel)]=\"spec.sortOrder\"&gt;&lt;/textarea&gt;\n            &lt;/mat-form-field&gt;\n        &lt;/td&gt;\n    &lt;/ng-container&gt;\n\n    &lt;ng-container matColumnDef=\"actions\"&gt;\n        &lt;th mat-header-cell *matHeaderCellDef&gt;\n            &lt;button mat-raised-button mat-icon-button (click)=\"addRate()\"&gt;\n                &lt;mat-icon&gt;add&lt;/mat-icon&gt;\n            &lt;/button&gt;\n        &lt;/th&gt;\n        &lt;td mat-cell *matCellDef=\"let specification\"&gt;\n            0/250\n        &lt;/td&gt;\n    &lt;/ng-container&gt;\n\n    &lt;tr mat-header-row *matHeaderRowDef=\"['specifications', 'actions']\"&gt;&lt;/tr&gt;\n    &lt;tr mat-row *matRowDef=\"let row; columns: tableColumns;\"&gt;&lt;/tr&gt;\n&lt;/mat-table&gt;\n</code></pre>\n\n<p>and the typescript code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Component({\n    selector: 'build-activity-schedule',\n    templateUrl: './build-activity-schedule.component.html',\n    styleUrls: ['./build-activity-schedule.component.scss'],\n    providers: [BuildActivitiesLogicService, UsersLogicService]\n})\nexport class BuildActivityScheduleComponent implements OnInit {\n    public formMode: FormMode;\n    public buildActivityRequiredLevels: Array&lt;SelectListItem&gt;;\n    @ViewChild(MatTable, undefined) public table1: MatTable&lt;any&gt;;\n    @Input() public buildActivityId: number;\n    public buildActivity: IBuildActivityMappedItem;\n    public selectedProduct: ISkinnyOfferingDto;\n    public list;\n    public taskAnalysisFormRequired: boolean;\n    public readonly tableColumns: string[] = [\n        'specifications',\n        'actions'\n    ];\n\n    constructor(\n        public readonly navigationService: NavigationService,\n        protected readonly authService: AuthService,\n        private enumService: CbEnumService,\n        public readonly currentUser: CurrentUserService,\n        public readonly permissionsPermissions: PermissionsPermissions,\n        public readonly dialog: MatDialog,\n        private readonly buildActivitiesLogicService: BuildActivitiesLogicService\n    ) {\n        this.formMode = FormMode.View;\n        this.buildActivityRequiredLevels =\n            this.enumService.getSelectList(BuildActivityRequiredLevel);\n    }\n\n    public ngOnInit(): void {\n        this.buildActivitiesLogicService\n            .getItem(this.buildActivityId)\n            .pipe(takeOne())\n            .subscribe(x =&gt; {\n                this.buildActivity = this.buildActivitiesLogicService\n                    .$createMappedItem(BuildActivityMappedItem, x);\n                this.list = this.buildActivity.getNationalSchedule().buildActivityScheduleSpecificationsLineItems;\n                console.log(this.list);\n            });\n    }\n}\n</code></pre>\n\n<p>The table shows 4 rows, but the rows of the table are all the last item of the array. The <code>&lt;textarea&gt;</code> has \"4\" for each row. Why does it repeat the last row 4 times rather than just display the 4 unique rows?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 4739, "user_id": 264946, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/037534de70515727478cb707c28b6b5a?s=128&d=identicon&r=PG", "display_name": "Anshuman Jaiswal", "link": "https://stackoverflow.com/users/264946/anshuman-jaiswal"}, "edited": false, "score": 1, "creation_date": 1568175986, "post_id": 57882094, "comment_id": 102187011, "body": "Selector is not correct, if it&#39;s class use <code>.true</code> and if it&#39;s id use <code>#true</code>"}], "answers": [{"comments": [{"owner": {"reputation": 538, "user_id": 12022853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b0a5493bb8bf4c574691d6ec6a997e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pravu", "link": "https://stackoverflow.com/users/12022853/pravu"}, "edited": false, "score": 0, "creation_date": 1568176462, "post_id": 57882158, "comment_id": 102187121, "body": "Thanks for your answer... But if id in my div like this <code>[id]=&quot;detailData.key&quot;</code> what should I do."}, {"owner": {"reputation": 4739, "user_id": 264946, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/037534de70515727478cb707c28b6b5a?s=128&d=identicon&r=PG", "display_name": "Anshuman Jaiswal", "link": "https://stackoverflow.com/users/264946/anshuman-jaiswal"}, "reply_to_user": {"reputation": 538, "user_id": 12022853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b0a5493bb8bf4c574691d6ec6a997e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pravu", "link": "https://stackoverflow.com/users/12022853/pravu"}, "edited": false, "score": 0, "creation_date": 1568177031, "post_id": 57882158, "comment_id": 102187243, "body": "@Pravu then you should use template variable, I have updated answer."}, {"owner": {"reputation": 538, "user_id": 12022853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b0a5493bb8bf4c574691d6ec6a997e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pravu", "link": "https://stackoverflow.com/users/12022853/pravu"}, "edited": false, "score": 0, "creation_date": 1568182316, "post_id": 57882158, "comment_id": 102188825, "body": "I got error <code>ERROR TypeError: &quot;_this.scrollableDiv.nativeElement is undefined&quot;</code>.. What should I do?"}], "tags": [], "owner": {"reputation": 4739, "user_id": 264946, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/037534de70515727478cb707c28b6b5a?s=128&d=identicon&r=PG", "display_name": "Anshuman Jaiswal", "link": "https://stackoverflow.com/users/264946/anshuman-jaiswal"}, "is_accepted": true, "score": 1, "last_activity_date": 1568177009, "last_edit_date": 1568177009, "creation_date": 1568176072, "answer_id": 57882158, "question_id": 57882094, "link": "https://stackoverflow.com/questions/57882094/error-document-queryselector-is-null/57882158#57882158", "title": "ERROR: &quot;document.querySelector(...) is null&quot;", "body": "<p>You have not correct selector, it should be as:</p>\n\n<p><strong>If it's class</strong></p>\n\n<pre><code>setTimeout(() =&gt; document.querySelector('.true').scrollIntoView());\n</code></pre>\n\n<p><strong>If it's id</strong></p>\n\n<pre><code>setTimeout(() =&gt; document.querySelector('#true').scrollIntoView());\n</code></pre>\n\n<p>You can read more about querySelector <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p><strong>Update based on comment</strong></p>\n\n<p>Better to use template variable and use Angular to find view as:</p>\n\n<pre><code>&lt;div #scrollableDiv [id]=\"detailData.key\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p><strong>In you component</strong></p>\n\n<pre><code>@ViewChild('scrollableDiv') scrollableDiv: ElementRef;\n\nsetTimeout(() =&gt; {\n  this.scrollableDiv.nativeElement.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 538, "user_id": 12022853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b0a5493bb8bf4c574691d6ec6a997e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pravu", "link": "https://stackoverflow.com/users/12022853/pravu"}, "edited": false, "score": 0, "creation_date": 1568176597, "post_id": 57882205, "comment_id": 102187150, "body": "Thanks for your answer... But if id in my div like this <code>[id]=&quot;detailData.key&quot;</code> what should I do."}], "tags": [], "owner": {"reputation": 46, "user_id": 4235272, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NbOpVB32D3k/AAAAAAAAAAI/AAAAAAAAAIA/5yVix_QPsOM/photo.jpg?sz=128", "display_name": "\u0421\u0435\u0440\u0433\u0435\u0439 \u041a\u0438\u0440\u0438\u0447\u0435\u043d\u043a\u043e", "link": "https://stackoverflow.com/users/4235272/%d0%a1%d0%b5%d1%80%d0%b3%d0%b5%d0%b9-%d0%9a%d0%b8%d1%80%d0%b8%d1%87%d0%b5%d0%bd%d0%ba%d0%be"}, "is_accepted": false, "score": 2, "last_activity_date": 1568176487, "creation_date": 1568176487, "answer_id": 57882205, "question_id": 57882094, "link": "https://stackoverflow.com/questions/57882094/error-document-queryselector-is-null/57882205#57882205", "title": "ERROR: &quot;document.querySelector(...) is null&quot;", "body": "<p>You have to use correct syntax (and recommend to avoid <code>setTimeout</code>):</p>\n\n<pre><code>document.querySelector(\".myclass\")\ndocument.querySelector(\"div\")\ndocument.querySelector(\"#id\")\n</code></pre>\n\n<p>Also you have to know, that <code>scrollIntoView()</code> method is not fully crossbrowser solution (more then half browsers don't support <code>smooth</code> scrolling with this method). More details: <a href=\"https://caniuse.com/#search=scrollIntoView\" rel=\"nofollow noreferrer\">https://caniuse.com/#search=scrollIntoView</a></p>\n"}], "owner": {"reputation": 538, "user_id": 12022853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b0a5493bb8bf4c574691d6ec6a997e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pravu", "link": "https://stackoverflow.com/users/12022853/pravu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 350, "favorite_count": 0, "accepted_answer_id": 57882158, "answer_count": 2, "score": 1, "last_activity_date": 1568177009, "creation_date": 1568175654, "question_id": 57882094, "link": "https://stackoverflow.com/questions/57882094/error-document-queryselector-is-null", "title": "ERROR: &quot;document.querySelector(...) is null&quot;", "body": "<p>I get stuck here <code>setTimeout(() =&gt; document.querySelector('true').scrollIntoView());</code></p>\n\n<p>I want when in html <code>[style.border]=\"detailData.selected ? '2.5px solid #FD8023' : ''\"</code> is true and scrolling will scroll here. But it come out error</p>\n\n<blockquote>\n  <p>ERROR TypeError: \"document.querySelector(...) is null\"</p>\n</blockquote>\n\n<p>Hope anyone can help me, please!</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1568175804, "post_id": 57882092, "comment_id": 102186968, "body": "<code>{ useInternalData = false } = {}</code> is not typescript, but javascript: it&#39;s a default parameter value that is then destructured. <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1568217133, "post_id": 57882092, "comment_id": 102206959, "body": "Please consider editing the question so that the <a href=\"https://stackoverflow.com/help/how-to-ask\">title summarizes your specific problem</a>."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10832440"}, "edited": false, "score": 0, "creation_date": 1568179327, "post_id": 57882117, "comment_id": 102187861, "body": "Thank you for the fast response.  I understand the part about the destructuring with default values.  I had a bit of trouble seeing that it only uses that if the option was not passed in.  It seems to me that { useInternalData = false } alone achieves the same results.  I&#39;ve tried that with all three cases (true, false, undefined).  Am I missing something?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10832440"}, "edited": false, "score": 0, "creation_date": 1568268038, "post_id": 57882117, "comment_id": 102221680, "body": "I looked at the compiled js output for both the case with the &quot;={}&quot; and without it.  They both make sense, and I can see that for this case, the results are the same.  With <code>var _b = (_a === void 0 ? {} : _a).useInternalData, useInternalData = _b === void 0 ? false : _b;</code> and without {} <code>var _b = _a.useInternalData, useInternalData = _b === void 0 ? false : _b;</code>"}], "tags": [], "owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "is_accepted": false, "score": 1, "last_activity_date": 1568175806, "creation_date": 1568175806, "answer_id": 57882117, "question_id": 57882092, "link": "https://stackoverflow.com/questions/57882092/need-help-understanding-destructuring-objects-as-function-parameters-in-typescri/57882117#57882117", "title": "Need help understanding destructuring objects as function parameters in Typescript", "body": "<p>That part isn't actually unique to typescript, it works in plain javascript as well. It's an example of <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\" rel=\"nofollow noreferrer\">destructuring</a>, with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Default_parameters\" rel=\"nofollow noreferrer\">default values</a>. </p>\n\n<pre><code>init({ useInternalData = false } = {}) {\n\n}\n</code></pre>\n\n<p>is the same as:</p>\n\n<pre><code>init(options) {\n  if (options === undefined) {\n    options = {};\n  }\n  let useInternalData = options.useInternalData;\n  if (useInternalData === undefined) {\n    useInternalData = false;\n  }\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10832440"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1568302552, "creation_date": 1568175636, "last_edit_date": 1568302552, "question_id": 57882092, "link": "https://stackoverflow.com/questions/57882092/need-help-understanding-destructuring-objects-as-function-parameters-in-typescri", "title": "Need help understanding destructuring objects as function parameters in Typescript", "body": "<p>Edit:  I found an error in my testing of the Typescript code.  It now shows that the Typescript version of the code and the JS version behave the same.  The \"= {}\" is definitely required to handle the case when no options object is passed in at the function call.  Sorry for any inconvenience my error may have caused anyone.</p>\n\n<p>I am fairly new to Typescript, but I have done substantial studying documents and tutorials.  I've run into something in someone else's code that I need to understand.  It has to do with destructuring objects as function parameters.  I've received some answers to my original question, but further study has revealed something that I don't believe was covered.  Yes, I understand that this technique is not unique to TS, but is present in JS as well.  I've also found a good article on this subject which I've linked to here:  <a href=\"https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6\" rel=\"nofollow noreferrer\">https://simonsmith.io/destructuring-objects-as-function-parameters-in-es6</a></p>\n\n<p>Here is the subtle part:  Not only is the option member declared optional in the ServiceInitOptions interface, but the options object is optional as well as declared in the Service interface.  What I found interesting is that removing the \"= {}\" from the function definition does not seem to throw any error when the function is called without any arguments.  In JS an error is thrown under these conditions, but I'm not getting an error in TS.</p>\n\n<pre><code>const internalData = \"abcd\";\n\nexport interface Service {\n  value: string | null;\n  init(options?: ServiceInitOptions): void;\n}\n\ninterface ServiceInitOptions {\n  useInternalData?: boolean;\n}\n\nconst service: Service = {\n  value: null,\n  init&lt;ServiceInitOptions&gt;({ useInternalData = false } = {}) {\n    if (useInternalData) {\n      this.value = internalData;\n    } else {\n      this.value = null;\n    }\n  }\n};\n\nexport default Service;\n</code></pre>\n\n<p>The area I'm having difficulty understanding is \"{ useInternalData = false } = {}\".  Any help would be appreciated.  Thank you in advance.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "edited": false, "score": 0, "creation_date": 1568174016, "post_id": 57881630, "comment_id": 102186595, "body": "Why not alter the structure <i>after</i> parsing the JSON instead of writing a custom parser?"}, {"owner": {"reputation": 1967, "user_id": 1031871, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/7g8bJ.jpg?s=128&g=1", "display_name": "Arun Gopalpuri", "link": "https://stackoverflow.com/users/1031871/arun-gopalpuri"}, "reply_to_user": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "edited": false, "score": 0, "creation_date": 1568177396, "post_id": 57881630, "comment_id": 102187329, "body": "I don\u2019t know what the names in json are going to be e.g. interest-due, interest-income."}], "owner": {"reputation": 1967, "user_id": 1031871, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/7g8bJ.jpg?s=128&g=1", "display_name": "Arun Gopalpuri", "link": "https://stackoverflow.com/users/1031871/arun-gopalpuri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568171838, "creation_date": 1568171838, "question_id": 57881630, "link": "https://stackoverflow.com/questions/57881630/how-to-decode-json-with-different-names-in-typed-system-and-do-custom-parsing", "title": "How to decode json with different names in typed system and do custom parsing?", "body": "<p>How can I specify/map json key to a different property name in typescript? e.g. I want to map payment-due in json to paymentDue in my type property.</p>\n\n<p>Also, is there a way to parse e.g.</p>\n\n<pre><code>interest-due: {amount: \"0\", balance: \"0\"}\ninterest-income: {amount: \"129\", balance: \"8551\"}\n</code></pre>\n\n<p>into a generic Type like </p>\n\n<pre><code>const GenericType = t.type({\n  name: t.string,\n  amount: t.string,\n  balance: t.string\n});\n</code></pre>\n\n<p>and get an array of Generic with two elements which consists of interest-due and interest-income?</p>\n"}, {"tags": ["angular", "typescript", "unit-testing", "jasmine", "karma-jasmine"], "answers": [{"comments": [{"owner": {"reputation": 886, "user_id": 6167659, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6571c05a9ebbc72b9ce613f286490539?s=128&d=identicon&r=PG&f=1", "display_name": "Krishnan", "link": "https://stackoverflow.com/users/6167659/krishnan"}, "edited": false, "score": 0, "creation_date": 1568217001, "post_id": 57887743, "comment_id": 102206892, "body": "no, it didn&#39;t resolved the issue. still it is not getting executed even after doing the changes given by you"}, {"owner": {"reputation": 13470, "user_id": 3092377, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/8lUZ9.jpg?s=128&g=1", "display_name": "Shashank Vivek", "link": "https://stackoverflow.com/users/3092377/shashank-vivek"}, "reply_to_user": {"reputation": 886, "user_id": 6167659, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6571c05a9ebbc72b9ce613f286490539?s=128&d=identicon&r=PG&f=1", "display_name": "Krishnan", "link": "https://stackoverflow.com/users/6167659/krishnan"}, "edited": false, "score": 0, "creation_date": 1568262328, "post_id": 57887743, "comment_id": 102220101, "body": "@Krishnan : Have you set <code>component.existedAffectedOrderNumbers = true</code> ? let me update my code"}], "tags": [], "owner": {"reputation": 13470, "user_id": 3092377, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/8lUZ9.jpg?s=128&g=1", "display_name": "Shashank Vivek", "link": "https://stackoverflow.com/users/3092377/shashank-vivek"}, "is_accepted": false, "score": 0, "last_activity_date": 1568262343, "last_edit_date": 1568262343, "creation_date": 1568199924, "answer_id": 57887743, "question_id": 57881598, "link": "https://stackoverflow.com/questions/57881598/angular-jasmine-karma-subscribe-lambda-expression-is-not-getting-executed/57887743#57887743", "title": "Angular - Jasmine/karma - subscribe lambda expression is not getting executed", "body": "<p>Try using <code>stub</code> so that it can be reused at other places as well. Try below changes:</p>\n\n<ol>\n<li>Make the <code>editOrderContainer</code> as <code>public</code> in constructor:</li>\n</ol>\n\n<pre><code>constructor(public editOrderContainer: EditOrderContainer,.....)\n</code></pre>\n\n<ol start=\"2\">\n<li>Create a <code>stub</code> as <code>EditOrderContainerStub</code>:</li>\n</ol>\n\n<pre><code>export class EditOrderContainerStub{\n   getEditOrderState(){\n     return of({\n       data: {\n          shipAddressEditted: true,\n          shipInstructionEditted : true\n        }\n     })\n   }\n}\n\n</code></pre>\n\n<ol start=\"3\">\n<li>In <code>providers</code> of <code>spec</code> file :</li>\n</ol>\n\n<pre><code>beforeEach(async () =&gt; {\n    providers:[{provide: EditOrderContainer , useClass: EditOrderContainerStub}],\n\n//....... your declaration\n\n});\n\nit('verify if Shipping instructions text is set to true if instructions test is changed.', () =&gt; {\n     component.existedAffectedOrderNumbers = true;\n     component.ngOnInit();\n     expect(component.hasShippingDetailsChanged).toBeTruthy();\n });\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 886, "user_id": 6167659, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6571c05a9ebbc72b9ce613f286490539?s=128&d=identicon&r=PG&f=1", "display_name": "Krishnan", "link": "https://stackoverflow.com/users/6167659/krishnan"}, "is_accepted": true, "score": 0, "last_activity_date": 1568300097, "creation_date": 1568300097, "answer_id": 57909433, "question_id": 57881598, "link": "https://stackoverflow.com/questions/57881598/angular-jasmine-karma-subscribe-lambda-expression-is-not-getting-executed/57909433#57909433", "title": "Angular - Jasmine/karma - subscribe lambda expression is not getting executed", "body": "<p>I found the answer, the issue was in the way I created the spy for the editOrderContainer and its method getEditOrderState which returns an observable.</p>\n\n<p>in my earlier code <code>Observable.of(editOrderState)</code> was missing which is required. also I shouldn't or need not mock/spy for the <code>subscribe</code> method</p>\n\n<p>my spy object looks like below..</p>\n\n<pre><code>editOrderContainer = jasmine.createSpyObj('editOrderContainer', ['getEditOrderState', 'rebookOrder']);\neditOrderContainer.getEditOrderState.and.callFake(() =&gt; {\n            var editOrderState = getOrderDetailsServiceResult();\n            return Observable.of(editOrderState);\n        });\n\n\n function getOrderDetailsServiceResult() {\n        return {\n                data: {\n                        shipAddressEdited: true,\n                        shipInstructionEditted: true\n                    }\n                };\n    }\n</code></pre>\n"}], "owner": {"reputation": 886, "user_id": 6167659, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6571c05a9ebbc72b9ce613f286490539?s=128&d=identicon&r=PG&f=1", "display_name": "Krishnan", "link": "https://stackoverflow.com/users/6167659/krishnan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 299, "favorite_count": 1, "accepted_answer_id": 57909433, "answer_count": 2, "score": 0, "last_activity_date": 1568300097, "creation_date": 1568171565, "last_edit_date": 1568199965, "question_id": 57881598, "link": "https://stackoverflow.com/questions/57881598/angular-jasmine-karma-subscribe-lambda-expression-is-not-getting-executed", "title": "Angular - Jasmine/karma - subscribe lambda expression is not getting executed", "body": "<p>I'm writing a Unit test case for an observable in angular 6 component using Jasmine/karma. Please find the component method for which I'm writing the test case.</p>\n\n<pre><code>public ngOnInit(): void {\n{\n   this.editOrderContainer.getEditOrderState().subscribe(editOrderState =&gt; {\n            this.shipAddressEditted = editOrderState.data.shipAddressEdited;\n            this.shipInstructionEditted = editOrderState.data.shipInstructionEditted;\n            this.hasShippingDetailsChanged = (this.shipAddressEditted || this.shipInstructionEditted) &amp;&amp; this.existedAffectedOrderNumbers;\n        });\n...\n}\n</code></pre>\n\n<p>In the above code, my test case should cover/expect for the variable  \"hasShippingDetailsChanged\". In spec file I would have the \"it\" as below</p>\n\n<pre><code>it('verify if Shipping instructions text is set to true if instructions test is changed.', () =&gt; {\n            expect(component.hasShippingDetailsChanged).toBeTruthy();\n        });\n</code></pre>\n\n<p>The code for mocking/spy in the .spec file is as below,</p>\n\n<pre><code>let editOrderContainer: any;\nlet getEditOrderState: any;\n\nbeforeEach(async () =&gt; {\n...\n     editOrderContainer = jasmine.createSpyObj('editOrderContainer', ['getEditOrderState', 'rebookOrder']);\n            editOrderContainer.getEditOrderState.and.callFake(() =&gt; {\n                return getEditOrderState;\n            });\n            getEditOrderState = {\n                subscribe: function () {\n                    return getOrderDetailsServiceResult();\n                }\n            };\n            spyOn(getEditOrderState, 'subscribe').and.callThrough();\n            ...\n });\n\n function getOrderDetailsServiceResult() {\n        return {\n            shipAddressEditted: true,\n            shipInstructionEditted : true\n        };\n    }\n</code></pre>\n\n<p>The EditOrderContainer code is as below:</p>\n\n<pre><code>public getEditOrderState(): Observable&lt;EditOrderState&gt; {\n        return this.store.select(s =&gt; s.editOrderReducer);\n    }   \n</code></pre>\n\n<p>The problem I'm facing here, <strong>it is returing the values for editOrderState in the subscribe and the lambda expression statements are not getting executed</strong> </p>\n\n<p>i.e. the assignment statements for <strong>shipAddressEditted, shipInstructionEditted, hasShippingDetailsChanged</strong> are not getting executed.\nI want these lines to be executed so that the required variable hasShippingDetailsChanged to be assigned.</p>\n\n<p>Any ideas what is the mistake I'm doing here? why the subscribe lambda expression is not getting executed within the spec file?</p>\n"}, {"tags": ["reactjs", "typescript", "d3.js"], "answers": [{"tags": [], "owner": {"reputation": 29, "user_id": 11969719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c94970ffacab1069267a120fb66b292?s=128&d=identicon&r=PG&f=1", "display_name": "kenna", "link": "https://stackoverflow.com/users/11969719/kenna"}, "is_accepted": false, "score": 1, "last_activity_date": 1568165642, "creation_date": 1568165642, "answer_id": 57880910, "question_id": 57879809, "link": "https://stackoverflow.com/questions/57879809/typeerror-cannot-read-property-createelementns-of-undefined/57880910#57880910", "title": "TypeError: Cannot read property &#39;createElementNS&#39; of undefined", "body": "<p>I was able to avoid this error by changing <code>d3.select(this.canvas)</code> to <code>d3.select(this.canvas.current)</code>.</p>\n"}], "owner": {"reputation": 29, "user_id": 11969719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c94970ffacab1069267a120fb66b292?s=128&d=identicon&r=PG&f=1", "display_name": "kenna", "link": "https://stackoverflow.com/users/11969719/kenna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 489, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1568165642, "creation_date": 1568163884, "last_edit_date": 1568165362, "question_id": 57879809, "link": "https://stackoverflow.com/questions/57879809/typeerror-cannot-read-property-createelementns-of-undefined", "title": "TypeError: Cannot read property &#39;createElementNS&#39; of undefined", "body": "<p>I was following <a href=\"https://www.freecodecamp.org/news/how-to-get-started-with-d3-and-react-c7da74a5bd9f/\" rel=\"nofollow noreferrer\">this tutorial</a> to put a bar chart made with d3 in my React app, but I'm getting an error when I try to call <code>const svgCanvas = d3.select(this.canvas).append(\"svg\")</code> which makes me think that my <code>this.canvas</code> ref is set up wrong.</p>\n\n<p>When I put </p>\n\n<pre><code>console.log(this.canvas);\nconsole.log(d3.select(this.canvas));\n</code></pre>\n\n<p>before the commands that throw the error, these are the outputs:</p>\n\n<pre><code>{current: div}\n  current: null\n  __proto__: Object\n</code></pre>\n\n<pre><code>R {_groups: Array(1), _parents: Array(1)}\n  _groups: Array(1)\n    0: Array(1)\n      0:\n        current: null\n        __proto__: Object\n      length: 1\n      __proto__: Array(0)\n    length: 1\n    __proto__: Array(0)\n  _parents: Array(1)\n    0: null\n    length: 1\n    __proto__: Array(0)\n  __proto__: Object\n</code></pre>\n\n<p>The following is the BarChart component that gets called from another file.</p>\n\n<pre><code>import React from 'react';\n\nimport * as d3 from 'd3';\n\nclass BarChart extends React.Component {\n  public canvas: any;\n\n  public constructor(props: any) {\n    super(props);\n    this.canvas = React.createRef();\n  }\n\n  public componentDidMount() {\n    const data = [2, 4, 2, 6, 8];\n    this.drawBarChart(data);\n  }\n\n  public drawBarChart(data: number[]) {\n    const canvasHeight = 400;\n    const canvasWidth = 600;\n    const scale = 20;\n    const help = d3.select(this.canvas);\n    const svgCanvas = d3.select(this.canvas)\n      .append(\"svg\") // ERROR RAISED ON THIS LINE\n      .attr(\"width\", canvasWidth)\n      .attr(\"height\", canvasHeight)\n      .style(\"border\", \"1px solid black\");\n    console.log(svgCanvas);\n    svgCanvas.selectAll(\"rect\")\n      .data(data).enter()\n      .append(\"rect\")\n      .attr(\"width\", 40)\n      .attr(\"height\", ((datapoint: number) =&gt; datapoint * scale))\n      .attr(\"fill\", \"orange\")\n      .attr(\"x\", (datapoint: number, iteration: number) =&gt; iteration * 45)\n      .attr(\"y\", ((datapoint: number) =&gt; canvasHeight - datapoint * scale));\n  }\n\n  public render() {\n    return (\n      &lt;div ref={this.canvas} /&gt;\n    );\n  }\n}\n\nexport default BarChart;\n</code></pre>\n\n<p>This should have produced the bar chart shown in the tutorial but instead I get <code>TypeError: Cannot read property 'createElementNS' of undefined</code> on the line with <code>.append('svg')</code>.</p>\n\n<p>EDIT: console log screenshot at <a href=\"https://pasteboard.co/IwQ441d.png\" rel=\"nofollow noreferrer\">https://pasteboard.co/IwQ441d.png</a></p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "types", "dom-events"], "answers": [{"comments": [{"owner": {"reputation": 1225, "user_id": 3654415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bfc9af1d8379b4dd53dc472e282ba701?s=128&d=identicon&r=PG", "display_name": "DanMad", "link": "https://stackoverflow.com/users/3654415/danmad"}, "edited": false, "score": 0, "creation_date": 1568161400, "post_id": 57879516, "comment_id": 102183691, "body": "This is really interesting. I changed <code>&lt;HTMLButtonElement&gt;</code> to <code>&lt;HTMLInputElement&gt;</code> because I&#39;m dealing with radio buttons\u2014this made sense to me. I also changed <code>React.MouseEvent</code> to <code>React.ChangeEvent</code> as I was getting an error on my <code>onChange</code> prop and this was recommended. I am now getting an error regarding <code>event.srcElement</code>. I&#39;ve included it in my edit above."}, {"owner": {"reputation": 4078, "user_id": 10549165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Redsx.png?s=128&g=1", "display_name": "Chris B.", "link": "https://stackoverflow.com/users/10549165/chris-b"}, "reply_to_user": {"reputation": 1225, "user_id": 3654415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bfc9af1d8379b4dd53dc472e282ba701?s=128&d=identicon&r=PG", "display_name": "DanMad", "link": "https://stackoverflow.com/users/3654415/danmad"}, "edited": false, "score": 0, "creation_date": 1568161904, "post_id": 57879516, "comment_id": 102183759, "body": "What element is it applied to? I have a change handler on an input typed as: <code>const handleInputChange = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {         setInputValue(e.target.value);     };</code> without any errors.  It&#39;s probably <code>srcElement</code>, seems it&#39;s a browser-specific alias for <code>target</code> that only exists in IE, so the typings don&#39;t support it.  If you have to use that property, you may end up having to <code>&#47;&#47;@ts-ignore it</code>, but <code>target</code> is supported in all versions of IE, so it shouldn&#39;t be necessary."}, {"owner": {"reputation": 1225, "user_id": 3654415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bfc9af1d8379b4dd53dc472e282ba701?s=128&d=identicon&r=PG", "display_name": "DanMad", "link": "https://stackoverflow.com/users/3654415/danmad"}, "edited": false, "score": 0, "creation_date": 1568165797, "post_id": 57879516, "comment_id": 102185243, "body": "Yes, you&#39;re right. Will post the updated function above. TY for answering my question."}], "tags": [], "owner": {"reputation": 4078, "user_id": 10549165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Redsx.png?s=128&g=1", "display_name": "Chris B.", "link": "https://stackoverflow.com/users/10549165/chris-b"}, "is_accepted": true, "score": 1, "last_activity_date": 1568160749, "last_edit_date": 1568160749, "creation_date": 1568160415, "answer_id": 57879516, "question_id": 57879449, "link": "https://stackoverflow.com/questions/57879449/typescript-and-event-target-event-srcelement/57879516#57879516", "title": "TypeScript and event.target || event.srcElement", "body": "<p>Event is of the type <code>React.MouseEvent</code>, target will depend on the element that's being clicked on.  You can pass in the element as a generic type to the MouseEvent type, so there's no need to explicitly type the target element, as that will be determined by the generic.  For example: </p>\n\n<pre><code>handleChange = (event: React.MouseEvent&lt;HTMLButtonElement&gt;): void =&gt; {\n    const target = event.target || event.srcElement;\n\n    this.setState({\n      value: target.value\n    });\n  };\n</code></pre>\n\n<p>would be accurate if the element being clicked is a standard HTML button element.</p>\n\n<p><strong>EDIT:</strong> Looks like I forgot non-mouse events exist.  Similar types exist in React type definitions for most all commonly used events.  If you're handling a custom event or the appropriate type doesn't exist, use <code>SyntheticEvent</code>.  If you're looking for a specific event, try searching through the <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/react/index.d.ts\" rel=\"nofollow noreferrer\">official typings</a>.  </p>\n\n<p>Also note that Typescript types will have no bearing on browser support.  Typescript really only exists in development to enforce more thoughtful programming habits and prevent errors, but it's ultimately transpiled to regular JavaScript before being deployed, so an inaccurate typing will not have tangible consequences provided that it compiles (apart from bugs it might cause).</p>\n"}], "owner": {"reputation": 1225, "user_id": 3654415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bfc9af1d8379b4dd53dc472e282ba701?s=128&d=identicon&r=PG", "display_name": "DanMad", "link": "https://stackoverflow.com/users/3654415/danmad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 695, "favorite_count": 0, "accepted_answer_id": 57879516, "answer_count": 1, "score": 0, "last_activity_date": 1568186933, "creation_date": 1568159605, "last_edit_date": 1568186933, "question_id": 57879449, "link": "https://stackoverflow.com/questions/57879449/typescript-and-event-target-event-srcelement", "title": "TypeScript and event.target || event.srcElement", "body": "<p>I am new to TypeScript, and rewriting an arrow function in React.js.</p>\n\n<p>This is what it currently looks like:</p>\n\n<pre><code>  handleChange = (event): void =&gt; {\n    const target = event.target || event.srcElement;\n\n    this.setState({\n      value: target.value\n    });\n  };\n</code></pre>\n\n<p><code>handleChange()</code> doesn't return anything and only mutates <code>state</code>, so it's type is set to <code>void</code>.</p>\n\n<p>What types should <code>event</code> and <code>target</code> have in this scenario? I need to support the widest range of browsers possible and so this is why <code>target</code> could be <code>event.target</code> or <code>event.srcElement</code>, if <code>event.target</code> is undefined.</p>\n\n<p>Any help on this would be greatly appreciated.</p>\n\n<p><strong>UPDATED FUNCTION:</strong></p>\n\n<pre><code>  handleChange = (event: React.ChangeEvent&lt;HTMLInputElement&gt;): void =&gt; {\n    this.setState({\n      value: event.target.value\n    });\n  };\n</code></pre>\n"}, {"tags": ["javascript", "html", "typescript", "parsing", "clipboard"], "comments": [{"owner": {"reputation": 12065, "user_id": 367865, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/78bdafae5cf469e2abebad372bb4e222?s=128&d=identicon&r=PG", "display_name": "Ouroborus", "link": "https://stackoverflow.com/users/367865/ouroborus"}, "edited": false, "score": 0, "creation_date": 1568178098, "post_id": 57879439, "comment_id": 102187485, "body": "Since you&#39;re already adding styling, it seems like you could just take that a step further by wrapping each space in a span, and add an <code>:after</code> to those spans whose <code>content</code> is set to middle dot (and additional CSS to get it to overlay the space). CSS <code>content</code> content doesn&#39;t copy but the space will copy."}, {"owner": {"reputation": 8396, "user_id": 7361479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/soT91.jpg?s=128&g=1", "display_name": "kshetline", "link": "https://stackoverflow.com/users/7361479/kshetline"}, "reply_to_user": {"reputation": 12065, "user_id": 367865, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/78bdafae5cf469e2abebad372bb4e222?s=128&d=identicon&r=PG", "display_name": "Ouroborus", "link": "https://stackoverflow.com/users/367865/ouroborus"}, "edited": false, "score": 0, "creation_date": 1568180081, "post_id": 57879439, "comment_id": 102188116, "body": "That does sound like it would work, but wow, that could be a lot of extra markup, since currently I combine runs of whitespace into a single span. Still, it doesn&#39;t require any JavaScript, and that&#39;s a great plus. I did just work out the JavaScript, however! :)"}], "answers": [{"tags": [], "owner": {"reputation": 8396, "user_id": 7361479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/soT91.jpg?s=128&g=1", "display_name": "kshetline", "link": "https://stackoverflow.com/users/7361479/kshetline"}, "is_accepted": false, "score": 1, "last_activity_date": 1568181023, "creation_date": 1568181023, "answer_id": 57882886, "question_id": 57879439, "link": "https://stackoverflow.com/questions/57879439/modifying-how-text-is-copied-from-a-web-page-where-whitespace-has-been-rendered/57882886#57882886", "title": "Modifying how text is copied from a web page where whitespace has been rendered visible", "body": "<p>I still couldn't find much documentation on how selection objects work, but I played around with them in the web console, and eventually figured out enough to get by.</p>\n\n<p>This is the JavaScript I came up with:</p>\n\n<pre><code>function restoreWhitespaceStrict(s) {\n  return s.replace(/\u00b7|[\\u2400-\\u241F]|\\S/g, ch =&gt; ch === '\u00b7' ? ' ' :\n           ch.charCodeAt(0) &gt;= 0x2400 ? String.fromCharCode(ch.charCodeAt(0) - 0x2400) : '');\n}\n\nconst wsReplacements = {\n  '\u00b7': ' ',\n  '\u2192\\t': '\\t',\n  '\u21b5\\n': '\\n',\n  '\u240d\\r': '\\r',\n  '\u240d\u21b5\\r\\n': '\\r\\n'\n}\n\nfunction restoreWhitespace(s) {\n  return s.replace(/\u00b7|\u2192\\t|\u21b5\\n|\u240d\\r|\u240d\u21b5\\r\\n|\u2192|\u21b5|\u240d|[\\u2400-\\u241F]/g, ws =&gt;\n    wsReplacements[ws] || (ws.charCodeAt(0) &gt;= 0x2400 ? String.fromCharCode(ws.charCodeAt(0) - 0x2400) : ''));\n}\n\ndocument.body.addEventListener('copy', (event) =&gt; {\n  const selection = document.getSelection();\n  let newSelection;\n  let copied = false;\n\n  if (selection.anchorNode &amp;&amp; selection.getRangeAt) {\n    try {\n      const nodes = selection.getRangeAt(0).cloneContents().childNodes;\n      let parts = [];\n\n      // nodes isn't a \"real\" array - no forEach!\n      for (let i = 0; i &lt; nodes.length; ++i) {\n        const node = nodes[i];\n\n        if (node.classList &amp;&amp; node.classList.contains('whitespace'))\n          parts.push(restoreWhitespaceStrict(node.innerText));\n        else if (node.localName === 'span')\n          parts.push(node.innerText);\n        else\n          parts.push(node.nodeValue);\n      }\n\n      newSelection = parts.join('');\n      copied = true;\n    }\n    catch (err) {}\n  }\n\n  if (!copied)\n    newSelection = restoreWhitespace(selection.toString());\n\n  event.clipboardData.setData('text/plain', newSelection);\n  event.preventDefault();\n});\n</code></pre>\n\n<p>I've tried this on three browsers (Chrome, Firefox, and Safari), and it's working on all of them, but I still took the precaution of both testing for the presence of some of the expected object properties, and then also using try/catch, just in case I hit an incompatible browser, in which case the not-so-smart version of fixing the clipboard takes over.</p>\n\n<p>It looks like the selection is handled as a list of regular DOM nodes. Chrome's selection object has both an <code>anchorNode</code> and an <code>extentNode</code> to mark the start and end of the selection, but Firefox only has the <code>anchorNode</code> (I didn't check Safari for <code>extentNode</code>). I couldn't find any way to get the full list of nodes directly, however. I could only get the full list using the <code>cloneContents()</code> method. The first and last nodes obtained this way are altered from the original start and end nodes by being limited to the portion of the text content that was selected in each node.</p>\n"}], "owner": {"reputation": 8396, "user_id": 7361479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/soT91.jpg?s=128&g=1", "display_name": "kshetline", "link": "https://stackoverflow.com/users/7361479/kshetline"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568181023, "creation_date": 1568159533, "question_id": 57879439, "link": "https://stackoverflow.com/questions/57879439/modifying-how-text-is-copied-from-a-web-page-where-whitespace-has-been-rendered", "title": "Modifying how text is copied from a web page where whitespace has been rendered visible", "body": "<p>I've been working on creating an HTML parser and formatter, and I've just added a feature to optionally render whitespace visible, by replacing spaces with <code>\u00b7</code> (middle dot) characters, adding arrows for tabs and newlines, etc.</p>\n\n<p><a href=\"https://i.stack.imgur.com/qW8U8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qW8U8.png\" alt=\"screenshot of HTML formatting\"></a></p>\n\n<p>The full in-progress source code is here: <a href=\"https://github.com/kshetline/html-parser\" rel=\"nofollow noreferrer\">https://github.com/kshetline/html-parser</a>, and the most relevant file that's doing the CSS styling of HTML is here: <a href=\"https://github.com/kshetline/html-parser/blob/master/src/stylizer.ts\" rel=\"nofollow noreferrer\">https://github.com/kshetline/html-parser/blob/master/src/stylizer.ts</a>.</p>\n\n<p>While it's nice to be able to visualize whitespace when you want to, you wouldn't want spaces to be turned into middle dot characters if you select and copy the text. But that's just what happens, at least without some intervention.</p>\n\n<p>I have found a crude way to fix the problem with a bit of JavaScript, which I've put into a Code Pen here: <a href=\"https://codepen.io/kshetline/pen/NWKYZJg\" rel=\"nofollow noreferrer\">https://codepen.io/kshetline/pen/NWKYZJg</a>.</p>\n\n<pre><code>document.body.addEventListener('copy', (event) =&gt; {\n  let selection = document.getSelection().toString();\n\n  selection = selection.replace(/\u00b7|\u21b5\\n|\u21b5/g, ch =&gt; ch === '\u00b7' ? ' ' : '\\n');\n\n  event.clipboardData.setData('text/plain', selection);\n  event.preventDefault();\n});\n</code></pre>\n\n<p>I'm wondering, however, if there's a better way to do this.</p>\n\n<p>My first choice would be something that didn't rely on JavaScript at all, like if there's some way via CSS or perhaps some accessibility-related HTML attribute that would essentially say, \"this is the real text that should be copied, not what you see on the screen\".</p>\n\n<p>My second choice would be if someone can point me to more detailed documentation of the JavaScript clipboard feature than I've been able to find, because if I have to rely on JavaScript, I'd at least like my JavaScript to be smarter. The quick-and-dirty solution turns <em>every</em> middle dot character into a space, even if it was truly supposed to be a middle dot in the first place.</p>\n\n<p>Is there enough info in the clipboard object to figure out which of the selected text has what CSS styling, so I could know to convert only the text that's inside <code>&lt;span&gt;</code>s which have my <code>whitespace</code> class, and still also find the rest of the non-whitespace text, in proper order, to piece it all back together again?</p>\n"}]